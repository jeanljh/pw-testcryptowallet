/*! For license information please see 523.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fc991c7c-d641-4479-ad29-11569b9925b6",e._sentryDebugIdIdentifier="sentry-dbid-fc991c7c-d641-4479-ad29-11569b9925b6")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[523],{85524:(e,t,n)=>{n.d(t,{aT:()=>d,he:()=>u});var r,a=n(14041),o=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var s,i,l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},c=(0,a.createContext)({supportedChains:[]});function u(e){var t=e.children,n=e.supportedChains,r=(0,a.useMemo)((function(){return{supportedChains:n}}),[n]);return(0,o.jsx)(c.Provider,{value:r,children:t})}function d(){return(0,a.useContext)(c)}l(u,"useMemo{contextValue}"),l(d,"useContext{}"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(c,"ConvertContext","/workspaces/apps/extension/src/screens/Trade/ConvertProvider.tsx"),s.register(u,"ConvertProvider","/workspaces/apps/extension/src/screens/Trade/ConvertProvider.tsx"),s.register(d,"useConvertContext","/workspaces/apps/extension/src/screens/Trade/ConvertProvider.tsx")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},9827:(e,t,n)=>{n.d(t,{IM:()=>H,OL:()=>U,rH:()=>R});var r,a=n(14041),o=n(32183),s=n(8867),i=n(50866),l=n(70846),c=n(79071),u=n.n(c),d=n(78392),p=n(20027),f=n(23126),g=n(9197),m=n(51773),y=n(63346),v=n(2673),b=n(84492),w=n(15654),h=n(55799),S=n(26480),x=n(95312),k=n(86382),A=n(98055),C=n(94330),T=n(10654),I=n(20324),M=n(31085);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=80,O=(0,o.YK)({switcherWrapperLabel:{id:"l+D8JN",defaultMessage:[{type:0,value:"Switch the active input"}]}});function B(e){var t=e.borderedTop,n=void 0!==t&&t,r=e.hasError,o=void 0!==r&&r,s=e.image,i=e.icon,l=e.primaryLabel,c=void 0===l?"":l,u=e.secondaryLabel,d=void 0===u?"":u,p=e.rightIcon,y=e.onPress,h=e.hideCaret,S=void 0!==h&&h,x=e.secondaryText,k=e.dataElementHandle,T=e.disableSelection,L=void 0!==T&&T,j=(0,a.useMemo)((function(){return p||(S?null:(0,M.jsx)(v.In,{paddingStart:1,size:"s",name:"caretRight",color:"fgMuted"}))}),[p,S]),G=(0,a.useCallback)((function(){!L&&y&&y()}),[L,y]);return(0,M.jsx)(I.f,{onPress:G,borderedTop:n,hasError:o,hasSecondaryText:!!x,dataElementHandle:k,disableSelection:L,nonTruncated:!0,children:(0,M.jsx)(g.g,{testID:"non-truncated-row-cell",title:(0,M.jsxs)(b.z,{alignItems:"center",justifyContent:"space-between",paddingBottom:.5,children:[(0,M.jsx)(A.v,{as:"p",children:c}),j]}),description:(0,M.jsx)(w.T,{maxWidth:"90%",children:(0,M.jsx)(C.C,{as:"p",overflow:"clip",color:"fgMuted",children:d})}),media:s?(0,M.jsx)(m.r,{type:"asset",accessibilityLabel:"asset",source:s}):i,innerSpacing:f.O})})}function D(e){var t=e.borderedTop,n=void 0!==t&&t,r=e.hasError,o=void 0!==r&&r,s=e.icon,i=e.primaryLabel,l=void 0===i?"":i,c=e.secondaryLabel,p=void 0===c?"":c,f=e.a11yLabel,g=void 0===f?"":f,m=e.pmDisabled,x=void 0!==m&&m,k=e.rightIcon,A=e.onPress,T=void 0===A?u():A,L=e.hideCaret,j=void 0!==L&&L,E=e.secondaryText,P=e.dataElementHandle,O=e.disableSelection,D=void 0!==O&&O,F=e.leftColumnWidth,R=void 0===F?H:F,W=e.nonTruncated,V=void 0!==W&&W,_=e.isLoading,U=void 0!==_&&_,z=e.swapAsset,q=e.bridgeAsset,K=(0,a.useMemo)((function(){var e,t;return{currencyCode:(null==z||null===(e=z.currencyCode)||void 0===e?void 0:e.value)||(null==q||null===(t=q.currencyCode)||void 0===t?void 0:t.value),iconUrl:(null==z?void 0:z.imageURL)||(null==q?void 0:q.imageURL),network:(null==z?void 0:z.network)||(null==q?void 0:q.network)}}),[z,q]),X=(0,a.useMemo)((function(){return z||q?(0,M.jsx)(d.E,{asset:K,size:"medium",layout:"inside-trade-row"}):null}),[z,K,q]),Y=(0,y.D)(),Q=(0,a.useMemo)((function(){return U?(0,M.jsx)(h.a,{width:"100%",children:(0,M.jsx)(S.H4,{width:100,percentage:!0,height:20,flexGrow:1})}):"string"==typeof p?(0,M.jsx)(N,{"data-testid":"".concat(P,"-secondary-label"),color:o||x?Y.color.fgMuted:Y.color.fg,children:p}):(0,M.jsx)(C.C,{testID:"".concat(P,"-primary-label"),as:"div",paddingStart:1,children:p})}),[P,o,U,x,p,Y]);return V?(0,M.jsx)(B,G({},e)):(0,M.jsxs)(I.f,{onPress:T,borderedTop:n,hasError:o,hasSecondaryText:!!E,dataElementHandle:P,disableSelection:D,a11yLabel:g,children:[(0,M.jsx)(w.T,{testID:"truncated-selector-row",width:"".concat(R,"px"),children:(0,M.jsx)(C.C,{testID:"".concat(P,"-primary-label"),as:"label",color:"fgMuted",children:l})}),(0,M.jsxs)(b.z,{width:"calc(100% - ".concat(R,"px)"),alignItems:"center",justifyContent:"space-between",overflow:"visible",children:[s,X,(0,M.jsxs)(w.T,{justifyContent:"flex-start",alignItems:"flex-start",overflow:"hidden",paddingStart:"string"==typeof p?.5:0,width:"100%",children:[Q,E&&(0,M.jsx)(C.C,{testID:"".concat(P,"-secondary-label"),as:"span",color:"fgMuted",children:E})]}),k&&k,!j&&(0,M.jsx)(v.In,{paddingStart:1,size:"s",name:"caretRight",color:"fgMuted"})]})]})}P(B,"useMemo{rightIcon}\nuseCallback{handlePress}"),P(D,"useMemo{asset}\nuseMemo{assetImage}\nuseTheme{theme}\nuseMemo{secondaryLabelElement}",(function(){return[y.D]}));var F=function(){return function(e){return e.color}},N=(0,i.I)("span")({name:"Overflow",class:"o1ksljwo",propsAsIs:!1,vars:{"o1ksljwo-0":[function(e){return e.color}]}}),R=(0,i.I)("div")({name:"SwitcherWrapper",class:"s15ol1l0",propsAsIs:!1});function W(e){var t=e.row1,n=e.row2,r=e.isSwitchDisabled,o=e.error,i=e.onClickSwitcher,c=void 0===i?void 0:i,u=e.onClickSwitcherIcon,d=void 0===u?"convert":u,f=e.noBottomPadding,g=e.tooltipContent,m=(0,s.A)().formatMessage,y=(0,T.H)(),b=(0,l.aL)({chainDetails:y}),S=(0,a.useMemo)((function(){return o?g?(0,M.jsx)(k.m,{content:g,children:(0,M.jsx)(h.a,{paddingTop:1,paddingBottom:1,children:(0,M.jsx)(p.r,{triggerAnalytics:b,error:o,hasTooltip:!0})})}):(0,M.jsx)(h.a,{paddingTop:1,paddingBottom:1,children:(0,M.jsx)(p.r,{triggerAnalytics:b,error:o})}):null}),[b,o,g]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(w.T,{bordered:!0,position:"relative",borderRadius:200,children:[(0,M.jsx)(D,G({},t)),(0,M.jsx)(D,G({borderedTop:!0},n)),!r&&c&&(0,M.jsx)(R,{"data-testid":"entry-selector-switcher",onClick:c,role:"button","aria-label":m(O.switcherWrapperLabel),children:(0,M.jsx)(v.In,{name:d,size:"xs",color:"fg",padding:.5})})]}),S,!f&&(0,M.jsx)(x.h,{vertical:2})]})}P(W,"useIntl{{\n    formatMessage\n  }}\nuseSwapAnalyticsDetails{chainDetails}\nuseEntryStepLowLiquidityError{triggerAnalyticsLowLiquidityError}\nuseMemo{errorComponent}",(function(){return[s.A,T.H,l.aL]}));var V,_,U=(0,a.memo)(W);n(4930),(V="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(V.register(H,"DEFAULT_LEFT_COLUMN_WIDTH","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(32,"LARGE_ICON_SIZE","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(20,"ICON_SIZE","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(O,"messages","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(B,"NonTruncatedSelectorRow","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(D,"SelectorRow","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(F,"_exp","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(N,"Overflow","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(R,"SwitcherWrapper","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(W,"EntrySelectorComponent","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx"),V.register(U,"EntrySelector","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelector.tsx")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)},67417:(e,t,n)=>{n.d(t,{m:()=>b});var r,a=n(32183),o=n(8867),s=n(79071),i=n.n(s),l=n(2673),c=n(15654),u=n(95312),d=n(9827),p=n(28356),f=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,m,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,a.YK)({from:{id:"bHEvFB",defaultMessage:[{type:0,value:"From"}]},to:{id:"tMX/lG",defaultMessage:[{type:0,value:"To"}]}});function b(){var e=(0,o.A)().formatMessage;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(c.T,{bordered:!0,position:"relative",borderRadius:200,children:[(0,f.jsx)(p.n,{testID:"entry-selector-fallback-from",label:e(v.from)}),(0,f.jsx)(p.n,{testID:"entry-selector-fallback-to",borderedTop:!0,label:e(v.to)}),(0,f.jsx)(d.rH,{"data-testid":"entry-selector-fallback-icon",onClick:i(),role:"button",children:(0,f.jsx)(l.In,{name:"convert",size:"xs",color:"fgMuted",padding:.5})})]}),(0,f.jsx)(u.h,{vertical:2})]})}y(b,"useIntl{{ formatMessage }}",(function(){return[o.A]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(v,"messages","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelectorLoadingFallback.tsx"),g.register(b,"EntrySelectorLoadingFallback","/workspaces/apps/extension/src/screens/Trade/EntrySelector/EntrySelectorLoadingFallback.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},20324:(e,t,n)=>{n.d(t,{f:()=>w});var r=n(14041),a=n(32183),o=n(8867),s=n(50866),i=n(84492),l=n(28118),c=n(31085);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}e=n.hmd(e);var d,p=["onPress","disableSelection","children","dataElementHandle","a11yLabel"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,a.YK)({RowLabel:{id:"O9G8vX",defaultMessage:[{type:0,value:"The "},{type:1,value:"name"}]}});function b(e){var t=e.children,n=e.borderedTop,a=e.hasError,o=e.hasSecondaryText,s=e.nonTruncated,l=e.dataElementHandle,u=(0,r.useMemo)((function(){return s?0:o?1:2}),[s,o]);return(0,c.jsx)(k,{"data-testid":l,hasError:a,children:(0,c.jsx)(i.z,{padding:s?0:2,paddingY:u,borderedTop:n,alignItems:"center",justifyContent:"space-between",children:t})})}function w(e){var t=e.onPress,n=e.disableSelection,r=e.children,a=e.dataElementHandle,s=e.a11yLabel,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,p),u=(0,o.A)().formatMessage;return(0,c.jsx)(l.o,{as:"button",disabled:n,onClick:t,noScaleOnPress:!0,background:"bg",borderRadius:200,transparentWhileInactive:!0,testID:a,"data-element-handle":a,"aria-label":s||u(v.RowLabel,{name:a}),children:(0,c.jsx)(b,g(g({},i),{},{children:r}))})}y(b,"useMemo{paddingY}"),y(w,"useIntl{{\n    formatMessage\n  }}",(function(){return[o.A]}));var h,S,x=function(){return function(e){return e.hasError?"1px solid var(--color-bgNegative)":""}},k=(0,s.I)("div")({name:"RowStyle",class:"r9qmolu",propsAsIs:!1,vars:{"r9qmolu-0":[function(e){return e.hasError?"1px solid var(--color-bgNegative)":""}]}});n(1946),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(v,"messages","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),h.register(b,"RowContent","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),h.register(w,"Row","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),h.register(x,"_exp","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx"),h.register(k,"RowStyle","/workspaces/apps/extension/src/screens/Trade/EntrySelector/Row.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},28356:(e,t,n)=>{n.d(t,{n:()=>f});var r,a=n(2673),o=n(84492),s=n(15654),i=n(26480),l=n(94330),c=n(9827),u=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function f(e){var t=e.testID,n=e.label,r=e.borderedTop,d=n?c.IM:0;return(0,u.jsxs)(o.z,{testID:t,height:50,padding:2,paddingY:2,borderedTop:r,alignItems:"center",justifyContent:"space-between",children:[n?(0,u.jsx)(s.T,{width:"".concat(d,"px"),children:(0,u.jsx)(l.C,{as:"label",color:"fgMuted",children:n})}):null,(0,u.jsxs)(o.z,{width:"calc(100% - ".concat(d,"px)"),alignItems:"center",justifyContent:"space-between",children:[(0,u.jsxs)(o.z,{alignItems:"center",overflow:"hidden",width:"100%",children:[(0,u.jsx)(i.H4,{width:20,height:20,shape:"circle"}),(0,u.jsx)(s.T,{justifyContent:"flex-start",alignItems:"flex-start",overflow:"hidden",paddingStart:1,width:"100%",children:(0,u.jsx)(i.H4,{width:"100%",height:16})})]}),(0,u.jsx)(a.In,{paddingStart:1,size:"s",name:"caretRight",color:"fgMuted"})]})]})}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(f,"RowLoadingFallback","/workspaces/apps/extension/src/screens/Trade/EntrySelector/RowLoadingFallback.tsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},74538:(e,t,n)=>{n.d(t,{g:()=>E,H:()=>j});var r=n(70918),a=n(14041),o=n(51676),s=n(431);n(99633),n(45843),n(12125);function i({wallets:e,walletId:t,swapId:n,excludedWalletSwapId:r,isBaseWalletPrioritizationEnabled:a}){if(!e?.length)return;let s;return t?s=e.find((e=>e.id===t)):n&&(s=e.find((e=>e.swapId===n))),!s&&a&&(s=e.find((e=>e.swapId!==r&&e.network.rawValue.includes(o.ay.whitelisted.BASE_MAINNET.chainId.toString())&&e.balance&&e.balance>0))),s??e.find((e=>e.swapId!==r))}function l({wallets:e,walletId:t,swapId:n,isBaseWalletPrioritizationEnabled:r}){return(0,a.useMemo)((()=>i({wallets:e,walletId:t,swapId:n,isBaseWalletPrioritizationEnabled:r})),[e,t,n,r])}function c(e,{walletId:t,swapId:n,network:r,isBaseWalletPrioritizationEnabled:a}){return l({wallets:(0,s.P)(e,r),walletId:t,swapId:n,isBaseWalletPrioritizationEnabled:a})}var u,d=n(33396),p=n(37121),f=n(41127),g=n(25078),m=n(1663),y=n(91064),v=n(69241),b=n(78667),w=n(36947),h=n(26433),S=n(54149),x=n(21255),k=n(4445),A=n(67423),C=n(53107),T=n(31085);e=n.hmd(e),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var I,M,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=function(e){return e.ENTRY="entry",e.SELECT_ASSET="selectAsset",e.SELECT_WALLET="selectWallet",e.SELECT_NETWORK="selectNetwork",e.CONFIRMATION_PREVIEW="confirmationPreview",e.PHONE_CONFIRMATION="phoneConfirmation",e.DEPOSIT_GAS="depositGas",e.STATUS="status",e.SWAP_NUX="swapNux",e.GASLESS_SWAP_NUX="gaslessSwapNux",e.ADJUSTABLE_SLIPPAGE="adjustableSlippage",e.SELECT_GAS_PAYMENT_METHOD="selectGasPaymentMethod",e}({}),G=[j.ENTRY,j.SELECT_WALLET,j.SELECT_ASSET,j.SELECT_NETWORK,j.SWAP_NUX,j.GASLESS_SWAP_NUX,j.DEPOSIT_GAS,j.SELECT_GAS_PAYMENT_METHOD];function E(e){var t=e.mostPopularSwapAssetId,n=(0,p.A)(C.Zd),a=n.sourceWalletId,o=n.selectedNetwork,s=(0,d.lE)(C.Im).currentStep,i=c((0,r.h)(),{swapId:t,walletId:a.value,network:o.value});if(!i&&!G.includes(s))throw new Error("Failed to find a valid default wallet for the DEX flow ".concat(s));return(0,T.jsxs)(C.Im.Steps,{children:[(0,T.jsx)(d.yQ,{component:(0,T.jsx)(A.z,{})},j.SWAP_NUX),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(v.B,{})},j.GASLESS_SWAP_NUX),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(y.b,{wallet:i})},j.ENTRY),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(w.V,{selectedWallet:i})},j.SELECT_ASSET),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(x.s,{})},j.SELECT_WALLET),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(S.T,{})},j.SELECT_NETWORK),i?(0,T.jsx)(d.yQ,{component:(0,T.jsx)(g.U,{wallet:i})},j.CONFIRMATION_PREVIEW):null,(0,T.jsx)(d.yQ,{component:(0,T.jsx)(b.A,{})},j.PHONE_CONFIRMATION),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(k.f,{})},j.STATUS),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(m.Y,{wallet:i})},j.DEPOSIT_GAS),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(f.n,{})},j.ADJUSTABLE_SLIPPAGE),(0,T.jsx)(d.yQ,{component:(0,T.jsx)(h.X,{})},j.SELECT_GAS_PAYMENT_METHOD)]})}L(E,"useFields{{ sourceWalletId, selectedNetwork }}\nuseStepper{{ currentStep }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectSwapWalletByGroupId{wallet}",(function(){return[p.A,d.lE,r.h,c]})),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(G,"stepsWithoutRequiredWallet","/workspaces/apps/extension/src/screens/Trade/TradeStepper.tsx"),I.register(E,"TradeStepper","/workspaces/apps/extension/src/screens/Trade/TradeStepper.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},68061:(e,t,n)=>{n.d(t,{x:()=>fe});var r=n(14041),a=n(8867),o=n(70846),s=n(58319),i=n(32183),l=n(58910),c=n(4244),u=n(72940),d=n(59659),p=n(7427),f=n(50259),g=n(99172);var m=n(36760),y=n(57822),v=n(21599),b=n(95930),w=n(71847),h=n(26746),S=n(13394),x=n(45085),k=n(76116),A=n(8387),C=n(64593);async function T({feeWallet:e,wallet:t,swapTrade:n}){const r=await(0,C.q)(t.accountId);let a;n.approveTx&&(a={target:n.approveTx.to,data:n.approveTx.data,value:0n});const o=(0,A.X)({baseMetadata:b.DE,imageURL:n.quote.toAsset.imageURL,name:n.quote.toAsset.name,currencyCode:n.quote.toAsset.currencyCode.rawValue,decimals:n.quote.toAsset.decimals,amount:n.quote.toAmount}),s=n.tx.value?BigInt(n.tx.value):0n,i=[a,{target:n.tx.to,data:n.tx.data,value:s}].filter(Boolean),l={...r,isPaymasterApplicable:!1,calls:i,callData:(0,x.b)({calls:i})},c=await(0,k.Z)({wallet:e,recipientAddress:n.tx.to,txOrUserOpConfig:l,metadata:o,transactionAmount:{kind:"Amount",value:0n}});if("Failure"===c.kind)throw(0,S.gf)({context:"swap",error:new Error(`error building swapTx: ${c.err}`),isHandled:!1,severity:"error"}),c.err;return c}var I=n(62396),M=n(83257),L=n(74146),j=n(82665),G=n(13129),E=n(2775),P=n(1048).Buffer;async function H(e,t,n,r){const a=(0,A.X)({baseMetadata:b.DE,imageURL:t.quote.toAsset.imageURL,name:t.quote.toAsset.name,currencyCode:t.quote.toAsset.currencyCode.rawValue,decimals:t.quote.toAsset.decimals,amount:t.quote.toAmount});if(r){const r=t.tx,o=r.value?BigInt(r.value):0n,s=r.gas?BigInt(r.gas):void 0,i=await(0,G.F_)(Number(t.chainId));if(i.error)throw i.error;return(0,k.Z)({wallet:e,recipientAddress:r.to,transactionAmount:{kind:"Amount",value:o},txOrUserOpConfig:{txType:"1559",nonce:n,dataBuffer:P.from((0,E.LL)(r.data??""),"hex"),selectedMaxFeePerGas:BigInt(i.normalMaxFeePerGas),selectedMaxPriorityFeePerGas:BigInt(i.normalPriorityFee),selectedGasLimit:s,selectedBaseFeePerGas:BigInt(i.baseFee)},metadata:a})}return(0,k.Z)({wallet:e,recipientAddress:t.tx.to,metadata:a,transactionAmount:{kind:"Amount",value:BigInt(t.tx.value)},txOrUserOpConfig:{txType:"Legacy",nonce:n,dataBuffer:t.swapHexEncodedTxData,selectedGasPrice:BigInt(t.tx.gasPrice),selectedGasLimit:BigInt(t.tx.gas)}})}async function O({wallet:e,feeWallet:t,network:n,address:r,sourceAsset:a,targetAsset:o,cryptoAmount:s,is1559Enabled:i,source:l="extension",slippage:c,exchange:u,routePath:d,swappedTokenAddress:p,toAmount:g,accountType:m}){const y=e?.network.asChain()?.chainId??"",v=o?.network?.asChain()?.chainId??"";if(""===y&&""===v)throw new Error("Could not get source network and target network");const w={fromAssetAddress:a.address?.rawValue??"",userAddress:e.primaryAddress,toAssetAddress:o.address?.rawValue??"",fromAmount:s.toString(),mode:"best",amountReference:"from",fromNetwork:b.K$[y],toNetwork:b.K$[v],source:l,...d&&{routePath:d},...c&&{slippagePercentage:c},...u&&{exchange:u},...p&&{swappedTokenAddress:p},...g&&{toAmount:g}};let x;try{x=(await(0,L.hm)("swap/crosschain/trade",w,{apiVersion:3,...m&&{walletAccountType:f.j9[m]}})).result}catch(e){throw(0,S.gf)({context:"swap",error:e,isHandled:!1,severity:"error"}),e}const k=new j.w(x,BigInt(y));if(I.g.isSCWAccount(e.accountId)){return{swapTrade:k,approveTx:void 0,swapTx:await T({feeWallet:t,wallet:e,swapTrade:k})}}const A=await(0,h.Wp)(r,n);let C,G=A;k.approveTx&&(C=await(0,M.e)(t,k.approveTx,A,i,b.DE),G=A+1n);const E=await H(e,k,G,i);return"Failure"===C?.kind&&((0,S.gf)({context:"swap",error:new Error(`error building approveTx: ${C.err}`),isHandled:!1,severity:"error"}),Object.assign(C.transaction,{gasLimit:k.approveTx?.gas?BigInt(k.approveTx?.gas):void 0})),"Failure"===E?.kind&&((0,S.gf)({context:"swap",error:new Error(`error building swapTx: ${E.err}`),isHandled:!1,severity:"error"}),Object.assign(E.transaction,{gasLimit:BigInt(k.tx.gas)})),{swapTrade:k,approveTx:C,swapTx:E}}var B=n(42127),D=n(58036);const F="gasless/swap/trade";async function N({wallet:e,feeWallet:t,network:n,address:r,sourceAsset:a,targetAsset:o,cryptoAmount:s,is1559Enabled:i,source:l="extension",swapFeeBasis:c,slippage:u,exchange:d,apiVersion:p,accountType:g}){const m={fromAddress:r,from:a.address?.rawValue??a.currencyCode.rawValue,to:o.address?.rawValue??o.currencyCode.rawValue,amount:s.toString(),amountReference:D.w.Source,chainId:a.chainId.toString(),source:l,...u&&{slippagePercentage:u},...d&&{exchange:d}},{result:y}=await(0,L.hm)("swap/trade",m,{apiVersion:p,additionalHeaders:{"X-Swap-Fee-Basis-Type":c},...g&&{walletAccountType:f.j9[g]}}),v=new j.w(y,BigInt(m.chainId));if(I.g.isSCWAccount(e.accountId)){return{swapTrade:v,approveTx:void 0,swapTx:await T({feeWallet:t,wallet:e,swapTrade:v})}}const w=await(0,h.Wp)(r,n);let x,k=w;v.approveTx&&(x=await(0,M.e)(t,v.approveTx,w,i,b.DE),k=w+1n);const A=await H(e,v,k,i);return"zerofee"===c&&"0"!==y.fee.amount&&"0"!==y.fee.percentage&&(0,S.gf)({context:"swap",error:new Error(`zeroFee basis returned non-zero fees: ${y.fee.amount} & ${y.fee.percentage}`),isHandled:!1,severity:"error"}),"Failure"===x?.kind&&((0,S.gf)({context:"swap",error:new Error(`error building approveTx: ${x.err}`),isHandled:!1,severity:"error"}),Object.assign(x.transaction,{gasLimit:v.approveTx?.gas?BigInt(v.approveTx?.gas):void 0})),"Failure"===A?.kind&&((0,S.gf)({context:"swap",error:new Error(`error building swapTx: ${A.err}`),isHandled:!1,severity:"error"}),Object.assign(A.transaction,{gasLimit:BigInt(v.tx.gas)})),{swapTrade:v,approveTx:x,swapTx:A}}var R=n(3834),W=n(53670),V=n(85967),_=n(98455),U=n(46385);class z extends U.W{constructor(e,t){super(e,t),this.tx=e.tx,this.quote=new _.O(e.quote),this.fee={amount:BigInt(e.fee.amount),percentage:e.fee.percentage,baseAsset:new V.i(e.fee.baseAsset),extraFee:e.ata.rent?BigInt(e.ata.rent):void 0},this.chainId=t,this.protocolFee=e.protocolFee}}var q=n(1048).Buffer;async function K({wallet:e,address:t,sourceAsset:n,targetAsset:r,cryptoAmount:a,source:o="extension",swapFeeBasis:s,slippage:i,apiVersion:l,accountType:c,isSolanaPriorityFeeEnabled:u=!1}){const d={fromAddress:t,from:n.address?.rawValue??n.currencyCode.rawValue,to:r.address?.rawValue??r.currencyCode.rawValue,amount:a.toString(),amountReference:D.w.Source,chainId:n.chainId.toString(),source:o,directRoute:"false",...i&&{slippagePercentage:i}},{result:p}=await(0,L.hm)("swap/trade",d,{apiVersion:l,additionalHeaders:{"X-Swap-Fee-Basis-Type":s},...c&&{walletAccountType:f.j9[c]}}),g=new z(p,BigInt(d.chainId)),m=p.tx.swapTransaction,y=R.VersionedTransaction.deserialize(q.from(m,"base64")),v=(0,A.X)({baseMetadata:(0,b.jX)("swap"),imageURL:g.quote.toAsset.imageURL,name:g.quote.toAsset.name,currencyCode:g.quote.toAsset.currencyCode.rawValue,decimals:g.quote.toAsset.decimals,amount:g.quote.toAmount});return{swapTrade:g,approveTx:void 0,swapTx:await(0,W.C)({wallet:e,nativeDappTransaction:y,metadata:v,recipientAddress:"",transactionAmount:{kind:"Amount",value:a},submissionParams:{skipPreflight:!0,preflightCommitment:"confirmed"},shouldSavePendingTransaction:!0,isSolanaPriorityFeeEnabled:u})}}var X=n(11993);function Y(){const e=(0,w.x)("cross_chain_swap"),t=(0,w.x)("solana_transaction_priority_fee");return(0,r.useCallback)((async({wallet:n,feeWallet:r,network:a,address:o,sourceAsset:s,targetAsset:i,cryptoAmount:l,is1559Enabled:c,source:u,slippage:d,exchange:p,apiVersion:f,routePath:g,swappedTokenAddress:m,toAmount:y,mode:v,accountType:w})=>{const x=e?O:N,k=n.isSolanaNetwork()?K:x;return v===X.z.Normal?k({wallet:n,feeWallet:r,network:a,address:o,sourceAsset:s,targetAsset:i,cryptoAmount:l,is1559Enabled:c,source:u,slippage:d,exchange:p,apiVersion:f,routePath:g,swappedTokenAddress:m,toAmount:y,accountType:w,isSolanaPriorityFeeEnabled:t}):async function({wallet:e,address:t,network:n,sourceAsset:r,targetAsset:a,cryptoAmount:o,source:s="extension",slippage:i}){const l={fromAddress:t,from:r.address?.rawValue??r.currencyCode.rawValue,to:a.address?.rawValue??a.currencyCode.rawValue,amount:o.toString(),amountReference:D.w.Source,chainId:r.chainId.toString(),source:s,...i&&{slippagePercentage:i}},{result:c}=await(0,L.hm)(F,l,{apiVersion:1}),{verifyingContract:u}=c.trade.eip712.domain,d=b.X4[c.chainId];if(u!==d){const e=new Error(`received unrecognized verifying contract address while building gaslessSwapTx: received ${u} but expected ${d}`);throw(0,S.gf)({context:"gasless_swap_tx",error:e,severity:"error",isHandled:!1}),e}const p=new B.w(c),f=await(0,h.Wp)(t,n),g=await H(e,p,f,!0);return"Failure"===g?.kind&&(0,S.gf)({context:"gasless_swap_tx",error:new Error(`error building gaslessSwapTx: ${g.err}`),severity:"error",isHandled:!1}),{swapTrade:p,swapTx:g,approveTx:void 0}}({wallet:n,feeWallet:r,network:a,address:o,sourceAsset:s,targetAsset:i,cryptoAmount:l,source:u,slippage:d,apiVersion:f})}),[e,t])}var Q=n(64303);const Z=(0,i.YK)({cbPayNotEnoughBalanceForMinerFeeMessage:{id:"z6rH3y",defaultMessage:"You need an additional ~{cryptoAmountNeeded} ({fiatAmountNeeded}) on the {networkName} network to cover the network fee."},cbPayZeroBalanceForMinerFeeMessage:{id:"cjf4F1",defaultMessage:"You need {cryptoSymbol} before you can make a transaction on the {networkName} network."},notEnoughBalanceForMinerFeeMessage:{id:"8YvB19",defaultMessage:"You have {fiatTotalAvailableBalance} in {cryptoSymbol}, but you need {fiatTotalTransactionValue} due to gas fees"},depositMinerFeeMessage:{id:"mLulYH",defaultMessage:"You must deposit {fiatDifferenceValue} in {cryptoSymbol} to complete this transaction."}});function $(e,{formatMessage:t,onSuccess:n,sourceAsset:a,targetAsset:o,cryptoAmount:i,slippage:w,updateFormData:h,onNotEnoughData:S,onRefreshFail:x,onNotEnoughBalanceForMinerFee:k,onGenerateTransactionsError:A,mode:C,aggregatorID:T,isAuxiliaryFundsEnabled:I,routePath:M,swappedTokenAddress:L,toAmount:j}){const G=(0,c.J9)(),E=(0,y.e)(e),[P,H]=(0,r.useState)(!1),[O,B]=(0,r.useState)(),[D,F]=(0,r.useState)(),N=(0,d.f)(),R=(0,s.l)(),W=(0,Q.r)(),V=Y();(0,r.useEffect)((function(){B(void 0)}),[i]);const _=(0,r.useMemo)((()=>E.find((e=>e.swapId===a?.swapId))),[E,a?.swapId]),U=(0,p.oF)(_?.accountId??""),z=function({wallets:e,network:t}){return(0,r.useMemo)((()=>{if(t)return e.find((e=>{const n=g.lg.isEqual(t,e.network),r=e.currencyCode.code===t.asChain()?.baseAssetCurrencyCode;return n&&r}))}),[t,e])}({wallets:E,network:a?.network}),q=(0,r.useCallback)((function({swapTrade:e,approveTx:r,swapTx:a}){h?.({swapTrade:e,approveTx:r,swapTx:a});const o=e.quote.fromAsset.currencyCode.rawValue===l.KN,s=!e.quote.fromAsset.address||o?BigInt(`${e.tx.value}`):0n;if(I)return void n?.({swapTrade:e,approveTx:r,swapTx:a});const{hasEnoughBalance:c,totalFeeAssetRequired:d}=(0,u.qw)({feeWallet:z,transactionAmount:s,unsignedTxOrUserOp:a?.transaction,unsignedApproveEthTxOrUserOp:r?.transaction,accountCreationFee:e.fee.extraFee});if(!c){const e=void 0!==z?.balance&&z?.currencyCode?G.formatToCrypto({currencyCode:z.currencyCode,decimals:z.decimals,value:d-z.balance,network:z.network}):"",n=void 0!==z?.balance&&z?.currencyCode?G.formatToFiat({fromCurrencyCode:z.currencyCode,decimals:z.decimals,value:d-z.balance,isAbbreviated:!1,contractAddress:z.contractAddress,network:z.network,blockchain:z.blockchain,includeCode:!0,formatZeroBalance:!0}):"",r=0n===z?.balance,a=r?t(Z.cbPayZeroBalanceForMinerFeeMessage,{cryptoSymbol:z?.currencyCode.code,networkName:z?.displayName}):t(Z.cbPayNotEnoughBalanceForMinerFeeMessage,{cryptoAmountNeeded:e,fiatAmountNeeded:n,networkName:z?.network?.asChain()?.displayName}),o=R?a:t(Z.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:z?.currencyCode.code,fiatTotalAvailableBalance:void 0!==z?.balance&&z?.currencyCode?G.formatToFiat({fromCurrencyCode:z.currencyCode,decimals:z.decimals,value:z.balance,isAbbreviated:!1,contractAddress:z.contractAddress,network:z.network,blockchain:z.blockchain,includeCode:!0,formatZeroBalance:!0}):"",fiatTotalTransactionValue:z?G.formatToFiat({fromCurrencyCode:z.currencyCode,decimals:z.decimals,value:d,isAbbreviated:!1,contractAddress:z.contractAddress,network:z.network,blockchain:z.blockchain}):""}),s=r?"zeroBalanceForMinerFee":"notEnoughBalanceForMinerFee",l=R?t(Z.cbPayNotEnoughBalanceForMinerFeeMessage,{cryptoAmountNeeded:e,fiatAmountNeeded:n,networkName:z?.network?.asChain()?.displayName}):t(Z.depositMinerFeeMessage,{cryptoSymbol:z?.currencyCode.code,fiatDifferenceValue:n});return k?.({errorMessage:o,depositAmountMessage:l,walletCurrencyCode:_?.currencyCode.code,feeCurrencyCode:z?.currencyCode.code,balance:_?.balance?.toString(),amount:i.toString(),feeWalletBalance:z?.balance?.toString(),totalRequired:d.toString()}),F(new Error(l)),B({message:o,code:s}),void A?.({message:o,code:s},z?.balance?d-z.balance:d)}n?.({swapTrade:e,approveTx:r,swapTx:a})}),[h,z,G,t,R,k,_?.currencyCode.code,_?.balance,i,A,n,I]),K=_?.primaryAddress,X=(0,m.j)(_),$=(0,v.e)(U?.type),J=(0,r.useCallback)((async function({isReloadCall:e,overrideSlippage:t}={isReloadCall:!1,overrideSlippage:void 0}){const n=_?.network,r={network:Boolean(n),wallet:Boolean(_),address:Boolean(K),sourceAsset:Boolean(a),targetAsset:Boolean(o)};if(!(n&&_&&K&&a&&o&&z))return e?void x?.(r):(S?.(r),N(new Error("Not enough data provided to generate transactions")));try{H(!0);const e=await V({wallet:_,feeWallet:z,network:n,address:K,sourceAsset:a,targetAsset:o,cryptoAmount:i,is1559Enabled:X,source:$,slippage:t??w,exchange:T,apiVersion:W,routePath:M,swappedTokenAddress:L,toAmount:j,mode:C,accountType:I?f.CO.SCW:U?.type});q(e)}catch(e){const t=function(e){if(e.name===b.Cq)return b.b9;return e.code}(e);B({message:e.message,code:t,description:e.description}),A?.({message:e.message,code:t,description:e.description},void 0)}finally{H(!1)}}),[_,K,a,o,z,S,N,x,V,i,X,$,w,T,W,M,L,j,C,I,U?.type,q,A]);return(0,r.useMemo)((()=>({generateTransactions:J,generateTransactionsError:O,generateDepositAmount:D,isGenerateTransactionsLoading:P})),[D,J,O,P])}var J,ee=n(70918),te=n(33396),ne=n(37121),re=n(53107),ae=n(19637),oe=n(77225),se=n(10654),ie=n(85923),le=n(74438);e=n.hmd(e),(J="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&J(e);var ce,ue,de="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},pe="swapTradeResponse";function fe(e){var t,n=e.wallet,i=e.options,l=(0,a.A)().formatMessage,c=(0,te.lE)(re.Im).goToStep,u=(0,se.H)(),d=(0,o.c0)({chainDetails:u}),p=(0,o.dE)({chainDetails:u}),f=(0,o.B)({chainDetails:u}),g=(0,ae.Q)(n),m=(0,oe.q)(n),y=(0,ie.b)(),v=(0,le.A)(),b=(0,s.l)(),w=(0,ne.A)(re.Zd),h=w.cryptoAmount,S=w.slippage,x=w.swapTradeResponse,k=w.unsignedApproveTxResult,A=w.unsignedSwapTxResult,C=w.formDepositAmount,T=w.mode,I=w.aggregatorID,M=w.transactionDetailError,L=(0,r.useCallback)((function(){c("confirmationPreview")}),[c]),j=(0,r.useCallback)((function(e){e&&y({key:pe,value:e})}),[y]),G=(0,r.useCallback)((function(e){var t=e.swapTrade,n=e.approveTx,r=e.swapTx;x.onChange(t),k.onChange(n),A.onChange(r),T.value===X.z.Normal&&j(v({swapTrade:t,swapTx:r,approveTx:n}))}),[x,k,A,T.value,j,v]),E=(0,r.useCallback)((function(e,t){b&&t&&C.onChange(t),M.onChange(e)}),[C,b,M]),P=$((0,ee.h)(),{formatMessage:l,onSuccess:L,updateFormData:G,cryptoAmount:h.value,sourceAsset:g.swapAsset,targetAsset:m.swapAsset,slippage:null==S?void 0:S.value,onNotEnoughBalanceForMinerFee:f,onNotEnoughData:p,onGenerateTransactionsError:E,onRefreshFail:d,mode:null!==(t=null==i?void 0:i.mode)&&void 0!==t?t:X.z.Normal,aggregatorID:I.value}),H=P.generateTransactions,O=P.generateTransactionsError,B=P.generateDepositAmount,D=P.isGenerateTransactionsLoading;return(0,r.useMemo)((function(){return{generateTransactions:H,generateTransactionsError:O,generateDepositAmount:B,isGenerateTransactionsLoading:D}}),[H,O,B,D])}de(fe,"useIntl{{ formatMessage }}\nuseStepper{{ goToStep }}\nuseSwapAnalyticsDetails{chainDetails}\nuseTradeConfirmationRefreshFail{triggerAnalyticsRefreshFail}\nuseEntryStepGetTradeNotEnoughDataError{triggerAnalyticsNotEnoughDataError}\nuseEntryStepNotEnoughBalanceForMinerFee{triggerAnalyticsNotEnoughBalanceForMinerFee}\nuseSourceSelector{sourceSelector}\nuseTargetSelector{targetSelector}\nusePersistTradeContext{persistTradeContext}\nuseSerializeSwapTradeResult{serializeSwapTradeResult}\nuseIsDexDepositGasEnabled{isDepositGasEnabled}\nuseFields{{\n    cryptoAmount,\n    slippage,\n    swapTradeResponse,\n    unsignedApproveTxResult: unsignedApproveTx,\n    unsignedSwapTxResult: unsignedSwapTx,\n    formDepositAmount,\n    mode,\n    aggregatorID,\n    transactionDetailError,\n  }}\nuseCallback{onSuccess}\nuseCallback{updateLocalStorageData}\nuseCallback{updateFormData}\nuseCallback{handleGenerateTransactionsError}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGenerateTransactions{{\n    generateTransactions,\n    generateTransactionsError,\n    generateDepositAmount,\n    isGenerateTransactionsLoading,\n  }}\nuseMemo{}",(function(){return[a.A,te.lE,se.H,o.c0,o.dE,o.B,ae.Q,oe.q,ie.b,le.A,s.l,ne.A,ee.h,$]})),(ce="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ce.register(pe,"swapTradeResponseKey","/workspaces/apps/extension/src/screens/Trade/hooks/useConvertGenerateTransactions.tsx"),ce.register(fe,"useConvertGenerateTransactions","/workspaces/apps/extension/src/screens/Trade/hooks/useConvertGenerateTransactions.tsx")),(ue="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ue(e)},85923:(e,t,n)=>{n.d(t,{b:()=>g});var r,a=n(14041),o=n(70846),s=n(13394);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u,d,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f="tradeContext";function g(){return(0,a.useCallback)((function(e){var t=e.key,n=e.value,r=e.itemsToRemove,a=e.clearPreviousContext,i=void 0!==a&&a;try{var u,d=localStorage.getItem(f);if(d&&!i){var p=JSON.parse(d);u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p),null==r||r.forEach((function(e){u[e]&&delete u[e]})),u[t]=n}else u=c({},t,n);localStorage.setItem(f,JSON.stringify(u))}catch(e){var g=(0,s.Gp)(e,"usePersistTradeContext");(0,s.MN)({error:g,severity:"error",isHandled:!1}),(0,o.ag)(e.message),localStorage.removeItem(f)}}),[])}p(g,"useCallback{}"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(f,"tradeContextKey","/workspaces/apps/extension/src/screens/Trade/hooks/usePersistTradeContext.tsx"),u.register(g,"usePersistTradeContext","/workspaces/apps/extension/src/screens/Trade/hooks/usePersistTradeContext.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},56306:(e,t,n)=>{n.d(t,{T:()=>C});var r,a=n(14041),o=n(70846),s=n(13394),i=n(77547),l=n(13620),c=n(16191),u=n(99172),d=n(85967),p=n(23804),f=n(47075);function g(e){const t=e.split(":"),n=t[0],r=BigInt(t[1]);return u.lg.fromChainId({chainPrefix:n,chainId:r})}function m(e){const{name:t,currencyCode:n,address:r,imageURL:a,swappable:o,aggregators:s,blockchain:i,chainId:l,decimals:c}=e;return new d.i({name:t,currencyCode:n.rawValue,address:r?.rawValue,decimals:Number(c),imageURL:a,swappable:o,aggregators:s,chainId:Number(l),blockchain:i.rawValue})}function y(e){const{transaction:{feeCurrencyDecimal:t,gasLimit:n,nonce:r,transferValue:a,walletIndex:o,weiValue:s,network:u,metadata:d,estimatedFee:m,extraFee:y},wallet:v}=e,b=Object.assign(e),w=function(e){const t=e.addresses.map((e=>{const t={...e};return t.index=BigInt((0,f.q)(e.index)),t})),n=BigInt(e.balance),r=BigInt(e.decimals),a=BigInt(e.selectedIndex),o=g(e.network),s=e.minimumBalance?BigInt(e.minimumBalance):void 0;return new p.u({primaryAddress:e.primaryAddress,addresses:t,displayName:e.displayName,currencyCode:e.currencyCode,imageURL:e.imageURL,balance:n,decimals:r,blockchain:e.blockchain,minimumBalance:s,network:o,contractAddress:e.contractAddress,selectedIndex:a,accountId:e.accountId})}(v),h=Object.assign(e.transaction);let S;if(h.metadata=new Map(d),h.feeCurrencyDecimal=BigInt(t),h.gasLimit=void 0!==n?BigInt(n):void 0,h.nonce=void 0!==r?BigInt(r):void 0,h.transferValue=BigInt(a),h.walletIndex=void 0!==o?BigInt(o):void 0,h.weiValue=void 0!==s?BigInt(s):void 0,w.isSolanaNetwork())void 0!==m&&(h.estimatedFee=BigInt(m)),void 0!==y&&(h.extraFee=BigInt(y)),S=new c.K(v.primaryAddress,h.fromDomain,h.recipientAddress??"",h.recipientDomain,0n,v.network,v.currencyCode,v.blockchain,h.txAmount,h.feeCurrencyCode,h.feeCurrencyDecimal,h.estimatedFee,h.data,h.metadata,h.instructions,h.extraFee,h.nativeDappTransaction,h.decodedInstructionsData,h.shouldSavePendingTransaction);else if(e.transaction.isEthereumUnsigned1559Tx){const{maxFeePerGas:t,maxPriorityFeePerGas:n,baseFeePerGas:r,l1GasFee:a}=e.transaction;void 0!==t&&(h.maxFeePerGas=BigInt(t)),void 0!==n&&(h.maxPriorityFeePerGas=BigInt(n)),void 0!==r&&(h.baseFeePerGas=BigInt(r)),void 0!==a&&(h.l1GasFee=BigInt(a)),S=new i.D(h.toAddress,void 0,h.fromAddress,void 0,h.walletIndex,h.nonce,h.weiValue,h.erc20V,h.data,h.maxFeePerGas,h.maxPriorityFeePerGas,h.gasLimit,h.network,h.currencyCode,h.blockchain,h.transferValue,h.feeCurrencyCode,h.feeCurrencyDecimal,h.recipientAddress,void 0,h.metadata,h.baseFeePerGas,h.l1GasFee)}else{const{gasPrice:t,l1GasFee:n}=e.transaction;void 0!==m&&(h.estimatedFee=BigInt(m)),void 0!==t&&(h.gasPrice=BigInt(t)),void 0!==n&&(h.l1GasFee=BigInt(n)),S=new l.U(h.toAddress,void 0,h.fromAddress,void 0,h.walletIndex,h.nonce,h.weiValue,h.erc20Value,h.data,h.l1GasFee,h.gasPrice,h.gasLimit,h.network,h.currencyCode,h.blockchain,h.transferValue,h.feeCurrencyCode,h.feeCurrencyDecimal,h.recipientAddress,void 0,h.metadata)}return b.transaction=S,b.transaction.network=g(u),b.wallet=w,b}function v(e){const{swapTrade:t,swapTx:n,approveTx:r}=JSON.parse(e);return{swapTrade:function(e){const t=Object.assign(e),{chainId:n,fee:{amount:r,baseAsset:a},quote:{chainId:o,fromAmount:s,toAmount:i,fromAsset:l,toAsset:c}}=e;t.chainId=BigInt(n);const u=Object.assign(e.fee);u.amount=BigInt(r),u.baseAsset=m(a),t.fee=u;const d=Object.assign(e.quote);return d.chainId=BigInt(o),d.fromAmount=BigInt(s),d.toAmount=BigInt(i),d.fromAsset=m(l),d.toAsset=m(c),t.quote=d,t}(t),swapTx:y(n),approveTx:r}}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var b,w,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S="timeExtClosed",x="tradeContext";function k(){var e=(new Date).getTime(),t=localStorage.getItem(S);return localStorage.removeItem(S),!!t&&(e-Number(t))/60/1e3>=5}function A(e){var t=e.stepperPosition,n=e.cryptoAmount,r=e.selectedNetwork,a=e.targetAssetId,o=e.targetAssetContractAddress,s=e.sourceWalletId,i=e.swapTradeResponse,l=e.slippage;if(k())return localStorage.removeItem("tradeContext"),null;var c={};if(a&&(c.targetAssetId=a),o&&(c.targetAssetContractAddress=o),s&&(c.sourceWalletId=s),r){var u=g(r);c.selectedNetwork=u}if(n&&(c.cryptoAmount=BigInt(n)),t&&(c.stepperPosition=t),i){var d=v(i),p=d.swapTrade,f=d.approveTx,m=d.swapTx;c.swapTradeResponse=p,c.unsignedSwapTxResult=m,c.unsignedApproveTxResult=f}return l&&(c.slippage=l),c}function C(){return(0,a.useCallback)((function(){try{var e=localStorage.getItem(x);return e?A(JSON.parse(e)):null}catch(e){var t=(0,s.Gp)(e,"useRetrieveTradeContext");return(0,s.MN)({error:t,severity:"error",isHandled:!1}),(0,o.ag)(e.message),localStorage.removeItem(x),null}}),[])}h(C,"useCallback{}"),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(S,"timeExtClosedKey","/workspaces/apps/extension/src/screens/Trade/hooks/useRetrieveTradeContext/useRetrieveTradeContext.tsx"),b.register(x,"tradeContextKey","/workspaces/apps/extension/src/screens/Trade/hooks/useRetrieveTradeContext/useRetrieveTradeContext.tsx"),b.register(k,"hasFiveMinsElapsed","/workspaces/apps/extension/src/screens/Trade/hooks/useRetrieveTradeContext/useRetrieveTradeContext.tsx"),b.register(A,"parseTradeContext","/workspaces/apps/extension/src/screens/Trade/hooks/useRetrieveTradeContext/useRetrieveTradeContext.tsx"),b.register(C,"useRetrieveTradeContext","/workspaces/apps/extension/src/screens/Trade/hooks/useRetrieveTradeContext/useRetrieveTradeContext.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},74438:(e,t,n)=>{n.d(t,{A:()=>h});var r,a,o,s=n(14041),i=n(77547),l=n(13620),c=n(16191);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return e?e.rawValue.split("/")[0]:""}function m(e){var t=e.chainId.toString(),n=e.decimals.toString(),r=g(e.network),a=p(p({},e),{chainId:t,network:r,decimals:n});return e.swapId&&(a.swapId=e.swapId),a}function y(e){var t;if(e){var n=e.chainId.toString(),r=e.fee.amount.toString(),a=null===(t=e.fee.extraFee)||void 0===t?void 0:t.toString(),o=m(e.fee.baseAsset),s=p(p({},e.fee),{},{amount:r,baseAsset:o,extraFee:a}),i=e.quote.chainId.toString(),l=e.quote.fromAmount.toString(),c=e.quote.toAmount.toString(),u=m(e.quote.fromAsset),d=m(e.quote.toAsset),f=e.quote.targetChainId.toString(),g=p(p({},e.quote),{},{chainId:i,fromAmount:l,toAmount:c,fromAsset:u,toAsset:d,targetChainId:f});return p(p({},e),{},{chainId:n,fee:s,quote:g})}}function v(e){var t,n,r,a,o,s=e.addresses.map((function(t){return{type:t.type,address:t.address,index:BigInt(t.index).toString(),accountId:e.accountId}})),i=null!==(t=null===(n=e.balance)||void 0===n?void 0:n.toString())&&void 0!==t?t:"0",l=e.decimals.toString(),c=null!==(r=null===(a=e.selectedIndex)||void 0===a?void 0:a.toString())&&void 0!==r?r:"0",u=g(e.network),d=null===(o=e.minimumBalance)||void 0===o?void 0:o.toString(),f=p(p({},e),{addresses:s,balance:i,decimals:l,selectedIndex:c,network:u,minimumBalance:d});return d||delete f.minimumBalance,f}function b(e){var t,n,r,a,o,s,u={metadata:Array.from(e.metadata),feeCurrencyDecimal:null===(t=e.feeCurrencyDecimal)||void 0===t?void 0:t.toString(),gasLimit:null===(n=e.gasLimit)||void 0===n?void 0:n.toString(),nonce:null===(r=e.nonce)||void 0===r?void 0:r.toString(),transferValue:null===(a=e.transferValue)||void 0===a?void 0:a.toString(),walletIndex:null===(o=e.walletIndex)||void 0===o?void 0:o.toString(),weiValue:null===(s=e.weiValue)||void 0===s?void 0:s.toString(),network:g(e.network)};if(e instanceof i.D){var d,f=e.maxFeePerGas.toString(),m=e.maxPriorityFeePerGas.toString(),y=e.baseFeePerGas.toString(),v=null===(d=e.l1GasFee)||void 0===d?void 0:d.toString(),b=p(p({},e),u);return void 0!==e.maxFeePerGas&&(b.maxFeePerGas=f.toString()),void 0!==e.maxPriorityFeePerGas&&(b.maxPriorityFeePerGas=m.toString()),void 0!==e.baseFeePerGas&&(b.baseFeePerGas=y.toString()),void 0!==e.l1GasFee&&(b.l1GasFee=v),b.isEthereumUnsigned1559Tx=!0,b}if(e instanceof l.U){var w,h=e.estimatedFee.toString(),S=e.gasPrice.toString(),x=null===(w=e.l1GasFee)||void 0===w?void 0:w.toString(),k=p(p({},e),u);return void 0!==e.estimatedFee&&(k.estimatedFee=h.toString()),void 0!==e.gasPrice&&(k.gasPrice=S.toString()),void 0!==e.l1GasFee&&(k.l1GasFee=x),k.isEthereumUnsigned1559Tx=!1,k}if(e instanceof c.K){var A=p(p({},e),u);return void 0!==e.estimatedFee&&(A.estimatedFee=e.estimatedFee.toString()),void 0!==e.extraFee&&(A.extraFee=e.extraFee.toString()),A}}function w(e){if(null!=e&&e.transaction&&e.wallet){var t=b(e.transaction),n=v(e.wallet);return p(p({},e),{transaction:t,wallet:n})}}function h(){return(0,s.useCallback)((function(e){var t=e.swapTrade,n=e.swapTx,r=e.approveTx,a=y(t),o=w(n);if(!a||!o)return null;var s={swapTrade:a,swapTx:o,approveTx:w(r)};return JSON.stringify(s)}),[])}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(h,"useCallback{}"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(g,"serializeNetwork","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx"),a.register(m,"serializeAsset","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx"),a.register(y,"serializeSwapTrade","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx"),a.register(v,"serializeWallet","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx"),a.register(b,"serializeTransaction","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx"),a.register(w,"serializeSwapTx","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx"),a.register(h,"useSerializeSwapTradeResult","/workspaces/apps/extension/src/screens/Trade/hooks/useSerializeSwapTradeResult.tsx")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},41127:(e,t,n)=>{n.d(t,{n:()=>H});var r=n(14041),a=n(32183),o=n(8867),s=n(70846),i=n(13394),l=n(87432);var c=n(51438);var u,d=n(10058),p=n(4681),f=n(25884),g=n(60744),m=n(33396),y=n(37121),v=n(2673),b=n(15654),w=n(84492),h=n(86382),S=n(60149),x=n(97541),k=n(53107),A=n(85923),C=n(31085);function T(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return I(c,"_invoke",function(n,r,a){var o,i,l,c=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,p.n=n,s}};function f(n,r){for(i=n,l=r,t=0;!d&&c&&!a&&t<u.length;t++){var a,o=u[t],f=p.p,g=o[2];n>3?(a=g===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(i=0,p.v=r,p.n=o[1]):f<g&&(a=n<3||o[0]>r||r>g)&&(o[4]=n,o[5]=r,p.n=g,i=0))}if(a||n>1)return s;throw d=!0,r}return function(a,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),i=u,l=g;(t=i<2?e:l)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,a,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(I(t={},r,(function(){return this})),t),d=c.prototype=i.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,I(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,I(d,"constructor",c),I(c,"constructor",l),l.displayName="GeneratorFunction",I(c,a,"GeneratorFunction"),I(d),I(d,a,"Generator"),I(d,r,(function(){return this})),I(d,"toString",(function(){return"[object Generator]"})),(T=function(){return{w:o,m:p}})()}function I(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}I=function(e,t,n,r){function o(t,n){I(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},I(e,t,n,r)}function M(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}e=n.hmd(e),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var L,j,G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=(0,a.YK)({title:{id:"jVfJap",defaultMessage:[{type:0,value:"Slippage tolerance"}]},titleTooltipMessage:{id:"g6ALUm",defaultMessage:[{type:0,value:"Your swap will execute within the maximum amount of slippage you define for this swap. For example, 1% slippage means you're willing to accept up to 1% less due to market conditions."}]},description:{id:"6r3IhE",defaultMessage:[{type:0,value:"Select the maximum amount of slippage you're willing to accept on this swap."}]},dividerText:{id:"h2RuXJ",defaultMessage:[{type:0,value:"Or"}]},primaryCTAButton:{id:"6DBrUy",defaultMessage:[{type:0,value:"Save"}]},secondaryCTAButton:{id:"vG8d4T",defaultMessage:[{type:0,value:"Cancel"}]},slippageRegexMatch:{id:"m6dbLc",defaultMessage:[{type:0,value:"Slippage must be between 0.1% to 99%, with up to one decimal."}]}}),P={slippage:""};function H(){var e,t=(0,o.A)().formatMessage,n=(0,m.lE)(k.Im),a=n.goToStep,u=n.goBack,I=(e=t(E.slippageRegexMatch),(0,c.Ik)({slippage:(0,c.Yj)().test({name:"slippage-valid-number",message:e,test:e=>function(e){return!e||/^([0]?\.[1-9]|[1-8][0-9]?(\.[0-9])?|[9][0-8]?(\.[0-9])?|99)$/.test(e)}(e)})})),L=(0,A.b)(),j=(0,y.A)(k.Zd).slippage;(0,l.y)((function(){(0,s.b6)()}));var G=(0,r.useCallback)((function(e){(0,s.n0)({slippageValue:e});var t=(10*parseInt(e)).toString();null==j||j.onChange(t),L({key:"slippage",value:t}),a("confirmationPreview")}),[a,L,j]),H=(0,r.useCallback)(function(){var e,t=(e=T().m((function e(t,n){var r,o,l,c,u;return T().w((function(e){for(;;)switch(e.n){case 0:if(r=n.setStatus,o=n.setSubmitting,(0,s.n0)({slippageValue:t.slippage}),o(!0),t.slippage){e.n=1;break}return o(!1),e.a(2);case 1:try{l=10*parseFloat(t.slippage),c=l.toFixed(0).toString(),null==j||j.onChange(c),L({key:"slippage",value:c}),a("confirmationPreview")}catch(e){u=(0,i.Gp)(e,"adjustable slippage"),(0,s._Y)({err:u}),(0,i.gf)({error:u,metadata:{method:"AdjustableSlippage.handleSubmit"},context:"swap_adjustable_slippage",severity:"error",isHandled:!1}),r(u.message)}finally{o(!1)}case 2:return e.a(2)}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){M(o,r,a,s,i,"next",e)}function i(e){M(o,r,a,s,i,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[a,L,j]);return(0,C.jsx)(p.ff,{header:(0,C.jsx)(d.jq,{variant:"secondary",handleBack:u}),height:"100%",footer:(0,C.jsx)(b.T,{paddingX:3,width:"100%",children:(0,C.jsx)(g.c,{validationSchema:I,initialValues:P,onSubmit:H})}),children:(0,C.jsxs)(b.T,{paddingX:3,height:"100%",children:[(0,C.jsxs)(w.z,{alignItems:"center",gap:.5,children:[(0,C.jsx)(S.f,{as:"h1",children:t(E.title)}),(0,C.jsx)(h.m,{content:t(E.titleTooltipMessage),placement:"bottom",children:(0,C.jsx)(v.In,{name:"info",size:"xs",color:"fgMuted",paddingStart:1})})]}),(0,C.jsx)(x.K,{as:"p",color:"fgMuted",paddingTop:1,paddingBottom:3,children:t(E.description)}),(0,C.jsx)(f.y,{onOptionPress:G}),(0,C.jsx)(b.T,{justifyContent:"center",alignItems:"center",paddingY:3,children:(0,C.jsx)(x.K,{as:"p",color:"fgMuted",children:t(E.dividerText)})})]})})}G(H,"useIntl{{ formatMessage }}\nuseStepper{{ goToStep, goBack }}\nusePersistTradeContext{persistTradeContext}\nuseFields{{ slippage }}\nuseOnMount{}\nuseCallback{handleSlippageClick}\nuseCallback{handleCustomSlippageSubmit}",(function(){return[o.A,m.lE,A.b,y.A,l.y]})),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(E,"messages","/workspaces/apps/extension/src/screens/Trade/steps/AdjustableSlippage/AdjustableSlippage.tsx"),L.register(P,"INITIAL_FORM_VALUES","/workspaces/apps/extension/src/screens/Trade/steps/AdjustableSlippage/AdjustableSlippage.tsx"),L.register(H,"AdjustableSlippage","/workspaces/apps/extension/src/screens/Trade/steps/AdjustableSlippage/AdjustableSlippage.tsx")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)},25078:(e,t,n)=>{n.d(t,{U:()=>De});var r=n(14041),a=n(32183),o=n(8867),s=n(86090),i=n(70846),l=n(55452),c=n(52303),u=n(13394),d=n(71847),p=n(18589),f=n(2688),g=n(58319),m=n(94289),y=n(39060),v=n(14617),b=n(30512),w=n(56128);function h(e){const{sourceFiatAmount:t,sourceCryptoAmount:n,targetFiatAmount:r,targetCryptoAmount:a}=(0,w.Q)(e),{quote:o}=e;return{primaryItem:{title:o.fromAsset.name,iconSourceOrName:{iconUrl:o.fromAsset.imageURL,currencyCode:o.fromAsset.currencyCode?.code,network:o.fromAsset.network,showNetworkIcon:!0},detail:t,subDetail:n,isAsset:!0,testID:"primary"},secondaryItem:{title:o.toAsset.name,iconSourceOrName:{iconUrl:o.toAsset.imageURL,currencyCode:o.toAsset.currencyCode?.code,network:o.toAsset.network,showNetworkIcon:!0},detail:r,subDetail:a,isAsset:!0,testID:"secondary"}}}var S=n(62872),x=n(87432),k=n(84098),A=n(9623),C=n(46122),T=n(63408),I=n(15519),M=n(16277),L=n(34464),j=n(98837),G=n(49143),E=n(51917),P=n(88219),H=n(91745),O=n(3326),B=n.n(O),D=n(27175);function F(e){const t=B()(e,"isBuyableWithCBPay","swapId"),{currencyCode:n,address:r,decimals:a,chainId:o,blockchain:s}=t;return{...t,currencyCode:n.rawValue,address:r?.rawValue,decimals:Number(a),chainId:Number(o),blockchain:s.rawValue}}function N({wallet:e,unsignedTxOrUserOp:t,signSuccess:n,signError:a,handleUnlock:o,domainSeparator:s,unlockSuccess:i,unlockError:l,gaslessSwapTrade:d,source:p}){const[f,g]=(0,r.useState)(!1),m=(0,j.O)(),y=(0,r.useCallback)((async function(){try{if(!s)throw new Error("Missing domain separator");if(!t)throw new Error("Unsigned tx generation failed");if(!(0,T.T)(t)&&!(0,c._)(t))throw new Error("EIP-712 relays can only be performed on ETH Transactions");const r=t.network.asChain();if(!r)throw new Error(`Could not perform asChain() on network.rawValue ${t.network.rawValue} for EIP-712 relay`);if(!d)throw new Error("EIP-712 relays can only be performed on gasless swap transactions");const a=(0,M.$)(e.accountId,"signEthereumMessage"),{eip712:o}=d.trade;o.types.EIP712Domain=[...k.nF];const i=(0,A.hashForSignTypedData_v4)({data:o}),l=await a({accountId:e.accountId,derivationPath:(0,C.s8)(t.walletIndex),addPrefix:!1,message:i}),u=D.QB.recoverRSVFromBuffer(l),f=async()=>{if(!d)throw new Error("cannot sign gasless swap trade");const{chainId:e,quote:t}=d,n=B()(t,"_highPriceImpact"),r={...B()(d,"tx","fees"),quote:{...n,priceImpact:t.priceImpact.toString(),fromAsset:F(t.fromAsset),toAsset:F(t.toAsset),chainId:Number(t.chainId),highPriceImpact:t._highPriceImpact},chainId:Number(e),trade:{...d?.trade,signature:{v:u.v,r:u.r,s:u.s,signatureType:2}}};return(0,L.KW)({signedTrade:r,source:p})},g=await(0,H.U)(f,(0,k.V5)(t,r,E.K.SWAP)),y=await G.oT.createRelayedTx(t,g.Token,t.nonce,e,void 0,E.K.SWAP);m([y]);const v=await(0,k.u1)({unsignedTxOrUserOp:t,ethereumChain:r});n(v,g.Token)}catch(e){const t=(0,u.Gp)(e,"useSwapSignAndRelayStandalone");(0,u.gf)({error:t,context:"sign_and_submit_transaction_error",isHandled:!1,severity:"error"}),a(P.J.GaslessSwapError)}finally{g(!1)}}),[s,t,d,e,m,n,p,a]),v=(0,I.P)(o,y,i,l,g);return(0,r.useMemo)((()=>({signAndRelayStandalone:v,isSignAndRelayLoading:f})),[f,v])}var R,W=n(53404),V=n(34575),_=n(29440),U=n(7427),z=n(95930),q=n(94975),K=n(51949),X=n(78154),Y=n(84447),Q=n(11993),Z=n(70918),$=n(3922),J=n(32451),ee=n(78392),te=n(4118),ne=n(33396),re=n(37121),ae=n(42238),oe=n(15654),se=n(55799),ie=n(67209),le=n(52331),ce=n(26893),ue=n(28672),de=n(5950),pe=n(60102),fe=n(53107),ge=n(68061),me=n(85923),ye=n(56306),ve=n(45919),be=n(74538),we=n(10654),he=n(34669),Se=n(31085);function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function ke(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return Ae(c,"_invoke",function(n,r,a){var o,i,l,c=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,p.n=n,s}};function f(n,r){for(i=n,l=r,t=0;!d&&c&&!a&&t<u.length;t++){var a,o=u[t],f=p.p,g=o[2];n>3?(a=g===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(i=0,p.v=r,p.n=o[1]):f<g&&(a=n<3||o[0]>r||r>g)&&(o[4]=n,o[5]=r,p.n=g,i=0))}if(a||n>1)return s;throw d=!0,r}return function(a,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),i=u,l=g;(t=i<2?e:l)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,a,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(Ae(t={},r,(function(){return this})),t),d=c.prototype=i.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ae(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,Ae(d,"constructor",c),Ae(c,"constructor",l),l.displayName="GeneratorFunction",Ae(c,a,"GeneratorFunction"),Ae(d),Ae(d,a,"Generator"),Ae(d,r,(function(){return this})),Ae(d,"toString",(function(){return"[object Generator]"})),(ke=function(){return{w:o,m:p}})()}function Ae(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ae=function(e,t,n,r){function o(t,n){Ae(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ae(e,t,n,r)}function Ce(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){Ce(o,r,a,s,i,"next",e)}function i(e){Ce(o,r,a,s,i,"throw",e)}s(void 0)}))}}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&R(e);var Ee,Pe,He="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Oe=(0,a.YK)({title:{id:"uHsL/c",defaultMessage:[{type:0,value:"Swap"}]},subTitle:{id:"uERyyA",defaultMessage:[{type:0,value:"Best price out of "},{type:1,value:"numSources"},{type:0,value:" sources"}]},cancel:{id:"kz3JfK",defaultMessage:[{type:0,value:"Cancel"}]},trade:{id:"UkNNA2",defaultMessage:[{type:0,value:"Trade"}]},cancelButton:{id:"i6fpqu",defaultMessage:[{type:0,value:"Cancel"}]},swapAnywayButton:{id:"FTWaA2",defaultMessage:[{type:0,value:"Swap anyway"}]},warningTitle:{id:"hmS1ut",defaultMessage:[{type:0,value:"This swap is likely to fail"}]},warningDescription:{id:"aY5Af6",defaultMessage:[{type:0,value:"If it does, you'll lose the network fee. This fee does not go to Coinbase."}]},warningSubDescription:{id:"UrF0Hw",defaultMessage:[{type:0,value:"Swap simulations are designed to keep you safe. "},{type:1,value:"link"}]},learnMoreLabel:{id:"1ZDLZA",defaultMessage:[{type:0,value:"Learn more"}]},topUpButtonText:{id:"nuMeii",defaultMessage:[{type:0,value:"Top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]}}),Be="swapTradeResponse";function De(e){var t,n,a,w,A=e.wallet,C=(0,U.vQ)(A.accountId),T=(0,Z.h)(),I=(0,X.F)(T,A.network),M=(0,me.b)(),L=(0,ye.T)(),j=(0,o.A)().formatMessage,G=(0,s.W6)(),P=(0,g.l)(),H=(0,ne.lE)(fe.Im),O=H.goToStep,B=H.hasPreviousStep,D=H.setContextHistory,F=H.history,R=(0,we.H)(),xe=je((0,r.useState)(new Date),2),Ae=xe[0],Ce=xe[1],Ie=je((0,r.useState)(null),2),Le=Ie[0],Ge=Ie[1],Ee=je((0,r.useState)(!1),2),Pe=Ee[0],He=Ee[1],De=je((0,ae.K)(!1),2),Fe=De[0],Ne=De[1],Re=Ne.toggleOn,We=Ne.toggleOff,Ve=(0,te.z)((0,J.y9)(J.fO.swap),J.vm.trigger_swap,{logMetric:!0,tags:{chainId:R.chainId.toString()}}).start,_e=je((0,r.useState)(!1),2),Ue=_e[0],ze=_e[1],qe=je((0,r.useState)(!1),2),Ke=qe[0],Xe=qe[1],Ye=(0,p.X)(),Qe=(0,d.x)("mev_protection"),Ze=(0,re.A)(fe.Zd),$e=Ze.swapTradeResponse.value,Je=Ze.unsignedSwapTxResult.value,et=Ze.unsignedSwapTxResults.value,tt=Ze.unsignedApproveTxResult.value,nt=Ze.mode,rt=Ze.ledgerSwapError,at=Ze.networkFeeInFiat,ot=Ze.isGaslessToggleDisabled,st=Ze.selectedNetwork,it=Ze.slippage,lt=Ze.aggregatorID,ct=(0,K.Q)(Me(Me({to:null==$e?void 0:$e.quote.toAsset,fromAddress:null==$e?void 0:$e.tx.from,from:null==$e?void 0:$e.quote.fromAsset,amount:null==$e?void 0:$e.quote.fromAmount,chainId:null!==(t=null===(n=st.value.asChain())||void 0===n?void 0:n.chainId.toString())&&void 0!==t?t:""},it&&{slippagePercentage:it.value}),lt&&{exchange:lt.value})),ut=ct.getIsGaslessSwapEligible,dt=ct.isGaslessSwapEnabled,pt=(0,Y.N)({unsignedApproveTx:null==tt?void 0:tt.transaction,unsignedSwapTx:Je.transaction,swapQuote:$e.quote,chainId:$e.chainId});if((0,x.y)((function(){var e,t,n=ut({hasApproveTx:!(null==tt||!tt.transaction),isTradingMoreThanNetworkFee:pt,isTradingNonNativeToken:(null==Je||null===(e=Je.transaction)||void 0===e||null===(e=e.network.asChain())||void 0===e||null===(e=e.baseAssetCurrencyCode)||void 0===e?void 0:e.toLowerCase())!==(null==Je||null===(t=Je.transaction)||void 0===t?void 0:t.currencyCode.rawValue.toLowerCase())});if(ot.value||ot.onChange(!n),"notEnoughBalanceForMinerFee"===(null==St?void 0:St.type)||"zeroBalanceForMinerFee"===(null==St?void 0:St.type)){if(null!=tt&&tt.transaction)return void Xe(P);n?(nt.onChange(Q.z.Gasless),vt()):Xe(P)}})),!($e&&null!=Je&&Je.transaction&&Je.wallet&&I))throw new Error("Transaction data was missing in ConfirmationPreviewStep");var ft=(0,r.useMemo)((function(){return null==et?void 0:et.map((function(e){return e.transaction}))}),[et]),gt=(0,ge.x)({wallet:A,options:{mode:nt.value}}),mt=gt.generateTransactions,yt=gt.isGenerateTransactionsLoading,vt=(0,r.useCallback)(Te(ke().m((function e(){return ke().w((function(e){for(;;)switch(e.n){case 0:if(yt){e.n=2;break}return e.n=1,mt();case 1:Ce(new Date);case 2:return e.a(2)}}),e)}))),[mt,yt]);(0,S.G)(vt,{interval:pe.uO}),(0,r.useEffect)((function(){function e(){return(e=Te(ke().m((function e(){return ke().w((function(e){for(;;)switch(e.n){case 0:if(!Pe||yt){e.n=2;break}return He(!1),e.n=1,mt();case 1:Ce(new Date);case 2:return e.a(2)}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[mt,yt,nt,Pe]),(0,r.useEffect)((function(){F.includes("entry")||(D(["entry","confirmationPreview"]),vt())}),[D,F,vt,M]),(0,x.y)((function(){var e=L();(null==e?void 0:e.stepperPosition)!==be.H.CONFIRMATION_PREVIEW&&M({key:"stepperPosition",value:be.H.CONFIRMATION_PREVIEW}),F.length>2&&"adjustableSlippage"===F[F.length-2]&&vt(),F.length>2&&"selectGasPaymentMethod"===F[F.length-2]&&He(!0)})),(0,r.useEffect)((function(){return function(){return ze(!1)}}),[]);var bt=h($e),wt=bt.primaryItem,ht=bt.secondaryItem,St=(0,v.m)(T,{swapTrade:$e,unsignedApproveTx:null==tt?void 0:tt.transaction,unsignedSwapTx:Je.transaction,sourceFiatValue:wt.detail,targetFiatValue:ht.detail}),xt=(0,i.N_)({chainDetails:R}),kt=(0,i.Zj)({chainDetails:R}),At=(0,i.iA)({chainDetails:R}),Ct=(0,i.ft)({chainDetails:R}),Tt=(0,i.zl)({chainDetails:R}),It=(0,i.ig)({chainDetails:R}),Mt=(0,i.ne)({chainDetails:R}),Lt=(0,i.aI)({chainDetails:R}),jt=(0,i.Gn)({chainDetails:R}),Gt=(0,i.it)({chainDetails:R}),Et=(0,i.cH)({chainDetails:R}),Pt=(0,r.useCallback)((function(){Et(),O("status")}),[O,Et]),Ht=(0,r.useCallback)((function(e){Gt(),(0,u.gf)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),rt.onChange(e),O("status")}),[O,rt,Gt]),Ot=(0,r.useCallback)((function(e){if(jt(),Array.isArray(e))e.forEach((function(e){var t=(0,$.qm)(e.txHash,"swap");(0,$.S1)(t)}));else{var t,n=(0,$.qm)(null!==(t=null==e?void 0:e.txHash)&&void 0!==t?t:"","swap");(0,$.S1)(n)}O("status")}),[O,jt]),Bt=(0,r.useCallback)((function(e){Lt(),ze(!1),Ge(e)}),[Lt]),Dt=(0,r.useCallback)((function(e){kt({userCancelledAfterError:e}),M({key:"stepperPosition",value:"entry",itemsToRemove:[Be]}),ot.onChange(!1),B?O("entry"):G.goBack()}),[O,B,G,ot,M,kt]),Ft=(0,r.useCallback)((function(){ze(!0)}),[]),Nt=(0,r.useMemo)((function(){var e="string"==typeof wt.iconSourceOrName?void 0:wt.iconSourceOrName.network,t="string"==typeof ht.iconSourceOrName?void 0:ht.iconSourceOrName.network;return{primaryItemProps:Me(Me({},wt),{},{network:e}),secondaryItemProps:Me(Me({},ht),{},{network:t})}}),[wt,ht]),Rt=Nt.primaryItemProps,Wt=Nt.secondaryItemProps,Vt=(0,r.useCallback)((function(){O("phoneConfirmation")}),[O]),_t=(0,W.LK)({unsignedTxOrUserOp:Je.transaction,unsignedApproveTxOrUserOp:null==tt?void 0:tt.transaction,onSignSuccess:Pt,onSignError:Ht,flow:W.nl.Trade,isMEVProtectionEnabled:Qe}),Ut=_t.signAndSubmitLedger,zt=_t.isHardwareWalletSigning,qt=(0,de.s)(),Kt=(0,V.D)({wallet:Je.wallet,unsignedTxOrUserOp:Je.transaction,unsignedApproveTxOrUserOp:null==tt?void 0:tt.transaction,signSuccess:Ot,signError:Bt,unlockSuccess:At,unlockError:Ct,handleUnlock:qt(A.accountId),isMEVProtectionEnabled:Qe}),Xt=Kt.signAndSubmitStandalone,Yt=Kt.isSignAndSubmitStandaloneLoading,Qt=(0,_.z)({wallet:Je.wallet,unsignedTxsOrUserOps:ft,signSuccess:Ot,signError:Bt,unlockSuccess:At,unlockError:Ct,handleUnlock:qt(A.accountId),skipSubmit:!1}),Zt=Qt.signMultipleTransactionsStandalone,$t=Qt.isSignMultipleTransactionsStandaloneLoading,Jt=(0,k.HF)(null===(a=$e.trade)||void 0===a||null===(a=a.eip712)||void 0===a?void 0:a.domain),en=N({wallet:Je.wallet,unsignedTxOrUserOp:Je.transaction,signSuccess:Ot,signError:Bt,unlockSuccess:At,unlockError:Ct,handleUnlock:qt(A.accountId),gaslessSwapTrade:$e,domainSeparator:Jt,relayType:E.K.SWAP,source:"extension"}),tn=en.signAndRelayStandalone,nn=en.isSignAndRelayLoading,rn=(0,r.useMemo)((function(){return zt||Yt||yt||$t||nn}),[yt,zt,nn,Yt,$t]),an=(0,r.useCallback)((function(){Re()}),[Re]),on=(0,f.O)({account:C,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmClick:Tt,triggerAnalyticsConfirmAnyway:It,triggerAnalyticsConfirm:Mt},isMultipleTxs:Boolean((null!==(w=null==et?void 0:et.length)&&void 0!==w?w:0)>1)&&A.isSolanaNetwork(),onTradeButtonPressed:Ft,signAndSubmitStandalone:Xt,signMultipleTransactionsStandalone:Zt,signAndSubmitWalletlink:Vt,signAndSubmitLedger:Ut,signAndRelayStandalone:tn,mode:nt.value,markStartPerf:Ve}),sn=(0,y.i)({transactionDetailError:St,isLoading:rn,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmClick:Tt,triggerAnalyticsConfirmAnyway:It,triggerAnalyticsConfirm:Mt},onCancelButtonPressed:Dt,onWarningButtonPressed:an,mode:nt.value,getHandleSubmitPressed:on}),ln=(0,q.A)(Je.transaction,Je.wallet),cn=(0,i.Nm)({chainDetails:R}),un=(0,i.vA)({chainDetails:R}),dn=(0,i.Oi)({chainDetails:R}),pn=(0,i.G7)({chainDetails:R}),fn=(0,r.useCallback)((function(e){var t=e.networkEstimatedFee,n=e.networkBaseFee,r=e.networkMaxFee;cn({networkEstimatedFee:t,networkMaxFee:r,networkBaseFee:n});try{if((0,c._)(Je.transaction)){var a=ln,o=a.lowerBoundFee,s=a.upperBoundFee;if(!o||!s)throw new Error("No valid lower and upper bound fees for swap 1559 transaction");dn(ln)}else{if(!ln.estimatedFee)throw new Error("No valid estimated fee for swap transaction");un(ln)}}catch(e){pn(ln)}}),[ln,cn,pn,dn,un,Je.transaction]),gn=(0,r.useCallback)((function(){Ye&&((0,i.SB)(),O("adjustableSlippage"))}),[O,Ye]),mn=(0,r.useCallback)((function(){(0,i.k5)(),O("selectGasPaymentMethod")}),[O]),yn=(0,r.useMemo)((function(){if(nt.value===Q.z.Gasless){var e=wt.iconSourceOrName;return{iconUrl:e.iconUrl,currencyCode:e.currencyCode,network:e.network,showNetworkIconOverride:!1}}return{iconUrl:I.imageURL,currencyCode:I.currencyCode.value,network:I.network,showNetworkIconOverride:!1}}),[I.currencyCode,I.imageURL,I.network,nt.value,wt.iconSourceOrName]),vn=(0,r.useMemo)((function(){return(0,Se.jsx)(he.m,{onPress:mn,gasPaymentMethod:nt.value===Q.z.Gasless?$e.quote.fromAsset.currencyCode.code:I.currencyCode.code,targetTokenIcon:(0,Se.jsx)(ee.E,{asset:yn,layout:"inside-trade-row",size:"small"}),isDisabled:!dt||ot.value})}),[mn,nt.value,$e.quote.fromAsset.currencyCode.code,I.currencyCode.code,yn,dt,ot.value]),bn=(0,b.l)({swapTrade:$e,unsignedApproveTx:null==tt?void 0:tt.transaction,unsignedSwapTx:Je.transaction,lastUpdateTime:Ae,isPageLoading:rn,isGenerateTransactionsLoading:yt,rowItemsAnalytics:fn,onSlippageRowClick:gn,gasPaymentMethodSelector:vn,swapMode:nt.value,gasToken:I.currencyCode.code});(0,r.useEffect)((function(){var e=bn.find((function(e){return e.rowType===b.T.NETWORK_FEE}));e&&at.value!==e.detailText&&at.onChange(e.detailText)}),[bn,at]);var wn=rt.onChange,hn=(0,r.useCallback)((function(e){wn(e),O("status")}),[wn,O]),Sn=(0,r.useCallback)((function(){M({key:"stepperPosition",value:"entry",itemsToRemove:[Be]}),ot.onChange(!1),O("entry")}),[O,ot,M]),xn=(0,r.useRef)(!1);(0,r.useEffect)((function(){"highPriceImpact"===(null==St?void 0:St.type)&&null!=St&&St.analytics&&!xn.current&&(xn.current=!0,(0,l.$s)(St.analytics.eventName,St.analytics.eventProperties))}),[St,xn]);var kn=(0,W.LK)({unsignedTxOrUserOp:Je.transaction,onSignSuccess:function(){},onSignError:hn,flow:W.nl.Trade}).hardwareWalletScreen,An=(0,m.O)(R.chainId),Cn=(0,r.useMemo)((function(){return An?j(Oe.subTitle,{numSources:An}):""}),[j,An]),Tn=(0,r.useCallback)((function(){(0,i.$g)({chainDetails:R,source:i.kL.EXTENSION}),O("depositGas")}),[R,O]),In=(0,r.useMemo)((function(){return[{name:"topUpFlowButton",onClick:Tn,testID:"swap-top-up-flow-button",children:j(Oe.topUpButtonText,{cryptoSymbol:null==I?void 0:I.currencyCode.value})}]}),[null==I?void 0:I.currencyCode.value,j,Tn]),Mn=(0,r.useMemo)((function(){return St?"zeroBalanceForMinerFee"!==St.type&&"notEnoughBalanceForMinerFee"!==St.type||!Ke?void 0:(0,Se.jsx)(oe.T,{paddingX:3,width:"100%",paddingTop:2,children:(0,Se.jsx)(se.a,{justifyContent:"flex-end",maxHeight:75,children:(0,Se.jsx)(ie.V,{as:"p",color:"fgNegative",paddingBottom:1,children:St.message})})}):null}),[Ke,St]),Ln=(0,r.useCallback)((function(){"warning"!==(null==St?void 0:St.type)&&"highPriceImpact"!==(null==St?void 0:St.type)||(We(),(0,i.ld)({fromAsset:$e.quote.fromAsset.name,toAsset:$e.quote.toAsset.name,chainId:Number($e.chainId)}),on(!0)())}),[on,$e.chainId,$e.quote.fromAsset.name,$e.quote.toAsset.name,We,null==St?void 0:St.type]),jn=(0,r.useCallback)((function(){chrome.tabs.create({url:z.jW})}),[]);return zt?kn:Fe?(0,Se.jsx)(ve.C,{onSubmit:Ln,toggleOff:We,title:j(Oe.warningTitle),description:j(Oe.warningDescription),subDescription:j(Oe.warningSubDescription,{link:(0,Se.jsx)(le.N,{testID:"warning-screen-learn-more-link",onClick:jn,as:"button",children:j(Oe.learnMoreLabel)})}),primaryButtonText:j(Oe.swapAnywayButton),secondaryButtonText:j(Oe.cancelButton),primaryButtonVariant:"negative",pictogramName:"strongWarning"}):(0,Se.jsx)(ue.Z,{headerText:j(Oe.title),subHeaderText:Cn,detailRowItems:bn,error:St,customError:Mn,buttonProps:Ke?In:sn,onPrimaryButtonDisabled:xt,handleBackButton:Sn,signAndSubmitError:Le,disableBackBtn:Ue,topSection:(0,Se.jsx)(ce.w,{primaryItem:Rt,secondaryItem:Wt,error:St})})}He(De,"useAccountById{account}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGetFeeWallet{feeWallet}\nusePersistTradeContext{persistTradeContext}\nuseRetrieveTradeContext{retrieveTradeContext}\nuseIntl{{ formatMessage }}\nuseHistory{history}\nuseIsDexDepositGasEnabled{isDepositGasEnabled}\nuseStepper{{\n    goToStep,\n    hasPreviousStep,\n    setContextHistory,\n    history: stepperHistory,\n  }}\nuseSwapAnalyticsDetails{chainDetails}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseState{[signAndSubmitError, setSignAndSubmitError](null)}\nuseState{[shouldRegenerateTx, setShouldRegenerateTx](false)}\nuseToggler{[\n    warningScreenVisible,\n    { toggleOn: toggleWarningScreenOn, toggleOff: toggleWarningScreenOff },\n  ]}\nuseExtensionPerfMark{{ start: markStartSwapwPerf }}\nuseState{[isTradeInFlight, setIsTradeInFlight](false)}\nuseState{[shouldDisplayTopUpFlow, setShouldDisplayTopUpFlow](false)}\nuseIsAdjustableSlippageEligible{isAdjustableSlippageEnabled}\nuseIsFeatureEnabled{isMEVProtectionEnabled}\nuseFields{{\n    swapTradeResponse: { value: swapTradeResponse },\n    unsignedSwapTxResult: { value: unsignedSwapTxResult },\n    unsignedSwapTxResults: { value: unsignedSwapTxResults },\n    unsignedApproveTxResult: { value: unsignedApproveTxResult },\n    mode,\n    ledgerSwapError,\n    networkFeeInFiat,\n    isGaslessToggleDisabled,\n    selectedNetwork,\n    slippage,\n    aggregatorID,\n  }}\nuseGaslessSwapEnabled{{ getIsGaslessSwapEligible, isGaslessSwapEnabled }}\nuseIsTradingMoreThanNetworkFee{isTradingMoreThanNetworkFee}\nuseOnMount{}\nuseMemo{unsignedTxsOrUserOps}\nuseConvertGenerateTransactions{{ generateTransactions, isGenerateTransactionsLoading }}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseEffect{}\nuseEffect{}\nuseOnMount{}\nuseEffect{}\nuseTransactionOverviewItems{{ primaryItem, secondaryItem }}\nuseTransactionDetailErrors{transactionDetailError}\nuseTradeConfirmationStepTradeButtonDisabled{triggerAnalyticsTradeButtonDisabled}\nuseTradeConfirmationStepTradeCancel{triggerAnalyticsTradeCancel}\nuseTradeConfirmationStepUnlockSuccess{triggerAnalyticsUnlockSuccess}\nuseTradeConfirmationStepUnlockError{triggerAnalyticsUnlockError}\nuseTradeConfirmationStepTradeConfirmClick{triggerAnalyticsConfirmClick}\nuseTradeConfirmationStepTradeAnyway{triggerAnalyticsConfirmAnyway}\nuseTradeConfirmationStepTradeConfirm{triggerAnalyticsConfirm}\nuseTradeConfirmationStepStandaloneError{triggerAnalyticsStandaloneError}\nuseTradeConfirmationStepStandaloneConfirm{triggerAnalyticsStandaloneConfirm}\nuseTradeConfirmationStepLedgerError{triggerAnalyticsLedgerError}\nuseTradeConfirmationStepLedgerConfirm{triggerAnalyticsLedgerConfirm}\nuseCallback{onLedgerSigningSuccess}\nuseCallback{onLedgerSigningError}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onStandaloneSigningError}\nuseCallback{onCancelButtonPressed}\nuseCallback{handleTradeButtonPressed}\nuseMemo{{ primaryItemProps, secondaryItemProps }}\nuseCallback{signAndSubmitWalletlink}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning }}\nuseHandleUnlockForSigning{handleUnlock}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignMultipleTransactionsStandalone{{ signMultipleTransactionsStandalone, isSignMultipleTransactionsStandaloneLoading }}\nuseSwapSignAndRelayStandalone{{ signAndRelayStandalone, isSignAndRelayLoading }}\nuseMemo{isPageLoading}\nuseCallback{handleWarningButtonPressed}\nuseGetHandleSubmitPressed{getHandleSubmitPressed}\nuseTransactionDetailButtons{buttonOptions}\nuseAnalyticsFeeData{analyticsFeeData}\nuseTradeConfirmationStepViewed{triggerAnalyticsConfirmationStep}\nuseTradeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseTradeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseTradeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nuseCallback{transationRowItemsAnalytics}\nuseCallback{handleSlippageRowClick}\nuseCallback{handleCogPress}\nuseMemo{assetLike}\nuseMemo{gasPaymentMethodSelector}\nuseTransactionDetailRowItems{detailRows}\nuseEffect{}\nuseCallback{signError}\nuseCallback{handleGoBack}\nuseRef{hasLoggedPriceImpactEvent}\nuseEffect{}\nuseSignAndSubmitLedger{{ hardwareWalletScreen }}\nuseNumSourcesByChain{numSourcesByChain}\nuseMemo{numSourcesLabel}\nuseCallback{handleDepositGasPress}\nuseMemo{topUpFlowButtonProps: ButtonPropsType[]}\nuseMemo{customError}\nuseCallback{handleWarningConfirm}\nuseCallback{handleLinkPress}",(function(){return[U.vQ,Z.h,X.F,me.b,ye.T,o.A,s.W6,g.l,ne.lE,we.H,ae.K,te.z,p.X,d.x,re.A,K.Q,Y.N,x.y,ge.x,S.G,x.y,h,v.m,i.N_,i.Zj,i.iA,i.ft,i.zl,i.ig,i.ne,i.aI,i.Gn,i.it,i.cH,W.LK,de.s,V.D,_.z,N,f.O,y.i,q.A,i.Nm,i.vA,i.Oi,i.G7,b.l,W.LK,m.O]})),(Ee="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Ee.register(Oe,"messages","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),Ee.register(Be,"swapTradeResponseKey","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),Ee.register(De,"ConfirmationPreviewStep","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx")),(Pe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Pe(e)},34669:(e,t,n)=>{n.d(t,{m:()=>m});var r,a=n(32183),o=n(8867),s=n(2673),i=n(84492),l=n(10297),c=n(97541),u=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,p,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},g=(0,a.YK)({gaslessSwitchDescription:{id:"hrGxqb",defaultMessage:[{type:0,value:"Paid in "},{type:1,value:"gasPaymentMethod"}]}});function m(e){var t=e.onPress,n=e.gasPaymentMethod,r=e.targetTokenIcon,a=e.isDisabled,d=void 0!==a&&a,p=(0,o.A)().formatMessage;return(0,u.jsxs)(i.z,{paddingTop:1,gap:1,alignItems:"center",children:[r,(0,u.jsxs)(i.z,{gap:1,children:[(0,u.jsx)(c.K,{as:"p",color:"fgMuted",children:p(g.gaslessSwitchDescription,{gasPaymentMethod:n})}),d?null:(0,u.jsx)(l.t,{onClick:t,children:(0,u.jsx)(s.In,{name:"gear",size:"s",color:"fg",testID:"gas-token-selector-cog"})})]})]})}f(m,"useIntl{{ formatMessage }}",(function(){return[o.A]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(g,"messages","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/GasPaymentMethodSelector.tsx"),d.register(m,"GasPaymentMethodSelector","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/GasPaymentMethodSelector.tsx")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},45919:(e,t,n)=>{n.d(t,{C:()=>m});var r,a=n(21983),o=n(24905),s=n(85581),i=n(93905),l=n(15654),c=n(55799),u=n(60149),d=n(97541),p=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f,g;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function m(e){var t=e.toggleOff,n=e.onSubmit,r=e.onSecondaryButtonPress,f=e.isButtonLoading,g=e.pictogramName,m=e.primaryButtonText,y=e.secondaryButtonText,v=e.title,b=e.description,w=e.subDescription,h=e.primaryButtonVariant,S=void 0===h?"primary":h,x=e.secondaryButtonVariant,k=void 0===x?"secondary":x;return(0,p.jsxs)(l.T,{height:o.fG,children:[(0,p.jsx)(a.u,{onBack:t}),(0,p.jsxs)(l.T,{paddingX:3,gap:2,alignItems:"center",paddingBottom:3,height:"100%",justifyContent:"space-between",children:[(0,p.jsxs)(l.T,{gap:2,alignItems:"center",children:[(0,p.jsx)(i.b,{name:g,dimension:"64x64",scaleMultiplier:1.5}),(0,p.jsx)(c.a,{children:(0,p.jsx)(u.f,{as:"p",children:v})}),(0,p.jsxs)(l.T,{paddingX:3,gap:2,paddingBottom:2,children:[b?(0,p.jsx)(d.K,{as:"p",textAlign:"center",color:"fgMuted",children:b}):null,w?(0,p.jsx)(d.K,{as:"p",textAlign:"center",color:"fgMuted",children:w}):null]})]}),(0,p.jsxs)(l.T,{width:"100%",gap:2,children:[(0,p.jsx)(s.$n,{variant:S,onClick:n,testID:"warning-screen-primary-button",block:!0,loading:f,children:m}),(0,p.jsx)(s.$n,{variant:k,onClick:null!=r?r:t,testID:"warning-screen-secondary-button",block:!0,children:y})]})]})]})}(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&f.register(m,"WarningConfirmation","/workspaces/apps/extension/src/screens/Trade/steps/ConfirmationPreviewStep/WarningConfirmation.tsx"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},1663:(e,t,n)=>{n.d(t,{Y:()=>_});var r,a=n(14041),o=n(32183),s=n(8867),i=n(86090),l=n(98763),c=n(4244),u=n(86431),d=n(62872),p=n(81732),f=n(44726),g=n(78154),m=n(70918),y=n(79734),v=n(21983),b=n(24905),w=n(33396),h=n(37121),S=n(22115),x=n(85581),k=n(34107),A=n(15654),C=n(84492),T=n(60149),I=n(97541),M=n(67209),L=n(52331),j=n(41690),G=n(53107),E=n(68061),P=n(10654),H=n(31085);function O(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return B(c,"_invoke",function(n,r,a){var o,i,l,c=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,p.n=n,s}};function f(n,r){for(i=n,l=r,t=0;!d&&c&&!a&&t<u.length;t++){var a,o=u[t],f=p.p,g=o[2];n>3?(a=g===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(i=0,p.v=r,p.n=o[1]):f<g&&(a=n<3||o[0]>r||r>g)&&(o[4]=n,o[5]=r,p.n=g,i=0))}if(a||n>1)return s;throw d=!0,r}return function(a,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),i=u,l=g;(t=i<2?e:l)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,a,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(B(t={},r,(function(){return this})),t),d=c.prototype=i.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,B(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,B(d,"constructor",c),B(c,"constructor",l),l.displayName="GeneratorFunction",B(c,a,"GeneratorFunction"),B(d),B(d,a,"Generator"),B(d,r,(function(){return this})),B(d,"toString",(function(){return"[object Generator]"})),(O=function(){return{w:o,m:p}})()}function B(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}B=function(e,t,n,r){function o(t,n){B(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},B(e,t,n,r)}function D(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){D(o,r,a,s,i,"next",e)}function i(e){D(o,r,a,s,i,"throw",e)}s(void 0)}))}}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var N,R,W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},V=(0,o.YK)({title:{id:"/OJF46",defaultMessage:[{type:0,value:"Let's top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]},main:{id:"GJmTtm",defaultMessage:[{type:0,value:"Buy or transfer from Coinbase"}]},finePrint:{id:"NtJETL",defaultMessage:[{type:0,value:"Coinbase.com\u2019s account link feature is subject to coinbase.com "},{type:1,value:"userAgreement"},{type:0,value:" and "},{type:1,value:"privacyPolicy"},{type:0,value:"."}]},userAgreement:{id:"V6jvi1",defaultMessage:[{type:0,value:"User Agreement"}]},privacyPolicy:{id:"0ROee6",defaultMessage:[{type:0,value:"Privacy Policy"}]},buttonCta:{id:"kR8Mqy",defaultMessage:[{type:0,value:"Buy with Coinbase Onramp"}]},otherButton:{id:"IykAaN",defaultMessage:[{type:0,value:"Transfer from another wallet"}]},defaultError:{id:"fnBlFk",defaultMessage:[{type:0,value:"Buy or transfer funds from Coinbase or another wallet."}]},zeroBalanceSubtitle:{id:"ZZAIvI",defaultMessage:[{type:0,value:"You need "},{type:1,value:"cryptoSymbol"},{type:0,value:" before you can make a transaction on the "},{type:1,value:"networkName"},{type:0,value:" network."}]},notEnoughBalanceSubtitle:{id:"R6shrI",defaultMessage:[{type:0,value:"You need an additional ~"},{type:1,value:"cryptoAmountNeeded"},{type:0,value:" ("},{type:1,value:"fiatAmountNeeded"},{type:0,value:") to cover the network fee."}]}});function _(e){var t,n,r,o=e.wallet,B=(0,s.A)().formatMessage,D=(0,i.W6)(),N=(0,w.lE)(G.Im).goBack,R=(0,m.h)(),W=(0,c.J9)(),_=(0,P.H)();(0,l.pO)({chainDetails:_});var U=(0,h.A)(G.Zd),z=U.selectedNetwork,q=U.formDepositAmount,K=(0,E.x)({wallet:o}),X=K.generateTransactions,Y=K.isGenerateTransactionsLoading,Q=(0,g.F)(R,z.value),Z=(null==z||null===(t=z.value)||void 0===t||null===(t=t.asChain())||void 0===t?void 0:t.chainId)===f.g.BSC,$=(0,a.useCallback)(F(O().m((function e(){return O().w((function(e){for(;;)switch(e.n){case 0:if(!(null!=Q&&Q.balance&&Q.balance>0n&&o)){e.n=1;break}return e.n=1,X();case 1:return e.a(2)}}),e)}))),[Q,o,X]);(0,d.G)($,{interval:3e4});var J=(0,p.aR)({asset:null==Q?void 0:Q.currencyCode.rawValue,chainId:null==Q||null===(n=Q.network.asChain())||void 0===n?void 0:n.chainId,walletGroupId:R}),ee=(0,a.useMemo)((function(){if(null==Q||!Q.currencyCode||!q.value)return 0;var e=W.fiatValue({currencyCode:null==Q?void 0:Q.currencyCode,decimals:null==Q?void 0:Q.decimals,value:q.value,contractAddress:null==Q?void 0:Q.contractAddress,network:null==Q?void 0:Q.network,blockchain:null==Q?void 0:Q.blockchain}),t=null==e?void 0:e.toNumber();return t?t+(25-t%25)%25:0}),[W,Q,q.value]),te=(0,u.Gj)({widgetParameters:{destinationWallets:J,presetFiatAmount:ee}}),ne=te.cbPayInstance,re=te.isCBPayInstanceReady,ae=(0,a.useCallback)(F(O().m((function e(){var t;return O().w((function(e){for(;;)if(0===e.n)return(0,l.ON)({chainDetails:_,source:l.kL.EXTENSION}),e.a(2,null===(t=ne.current)||void 0===t?void 0:t.open())}),e)}))),[_,ne]),oe=(0,a.useCallback)((function(){(0,l.m2)({chainDetails:_,source:l.kL.EXTENSION}),D.push(j.Q.RECEIVE)}),[_,D]),se=(0,a.useCallback)((function(){N()}),[N]),ie=(0,a.useCallback)(F(O().m((function e(){return O().w((function(e){for(;;)if(0===e.n)return e.a(2,chrome.tabs.create({url:y.i1,active:!1}))}),e)}))),[]),le=(0,a.useCallback)(F(O().m((function e(){return O().w((function(e){for(;;)if(0===e.n)return e.a(2,chrome.tabs.create({url:y.WO,active:!1}))}),e)}))),[]),ce=(0,a.useMemo)((function(){var e,t;if(void 0!==q.value){var n=void 0!==(null==Q?void 0:Q.balance)&&null!=Q&&Q.currencyCode?W.formatToCrypto({currencyCode:Q.currencyCode,decimals:Q.decimals,value:q.value,network:Q.network}):"",r=void 0!==(null==Q?void 0:Q.balance)&&null!=Q&&Q.currencyCode?W.formatToFiat({fromCurrencyCode:Q.currencyCode,decimals:Q.decimals,value:q.value,isAbbreviated:!1,contractAddress:Q.contractAddress,network:Q.network,blockchain:Q.blockchain,includeCode:!0,formatZeroBalance:!0}):"";return B(V.notEnoughBalanceSubtitle,{cryptoAmountNeeded:n,fiatAmountNeeded:r})}return B(V.zeroBalanceSubtitle,{cryptoSymbol:null===(e=z.value)||void 0===e||null===(e=e.asChain())||void 0===e?void 0:e.baseAssetCurrencyCode,networkName:null===(t=z.value)||void 0===t||null===(t=t.asChain())||void 0===t?void 0:t.displayName})}),[W,Q,q.value,B,z.value]);return(0,H.jsxs)(A.T,{height:b.pA,children:[(0,H.jsx)(v.u,{onBack:se,paddingBottom:0}),(0,H.jsxs)(A.T,{alignItems:"center",width:"100%",paddingX:2,children:[(0,H.jsx)(T.f,{as:"h1",paddingBottom:1,textAlign:"center",children:B(V.title,{cryptoSymbol:null===(r=z.value)||void 0===r||null===(r=r.asChain())||void 0===r?void 0:r.baseAssetCurrencyCode})}),(0,H.jsx)(I.K,{as:"p",color:"fgMuted",textAlign:"center",testID:"deposit-gas-message",children:ce}),(0,H.jsx)(C.z,{alignItems:"center",justifyContent:"center",paddingY:6,children:(0,H.jsx)(k.g,{name:"primeEarn"})})]}),(0,H.jsxs)(A.T,{alignItems:"center",width:"100%",children:[(0,H.jsxs)(S.e,{accessibilityLabel:"Transfer Funds",block:!0,direction:"vertical",children:[Z?null:(0,H.jsx)(x.$n,{onClick:ae,loading:Y||!re,children:(0,H.jsx)(C.z,{alignItems:"center",gap:1,children:B(V.buttonCta)})}),(0,H.jsx)(x.$n,{onClick:oe,variant:"secondary",children:B(V.otherButton)})]}),(0,H.jsx)(M.V,{as:"p",color:"fgMuted",textAlign:"center",paddingTop:2,children:B(V.finePrint,{userAgreement:(0,H.jsx)(L.N,{font:"legal",color:"fgPrimary",onClick:ie,as:"button",children:B(V.userAgreement)}),privacyPolicy:(0,H.jsx)(L.N,{font:"legal",color:"fgPrimary",onClick:le,as:"button",children:B(V.privacyPolicy)})})})]})]})}W(_,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseStepper{{ goBack }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseCurrencyFormatter{currencyFormatter}\nuseSwapAnalyticsDetails{chainDetails}\nuseDepositGasStepViewed{}\nuseFields{{ selectedNetwork, formDepositAmount }}\nuseConvertGenerateTransactions{{ generateTransactions, isGenerateTransactionsLoading }}\nuseGetFeeWallet{feeWallet}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseDestinationWallets{destinationWallets}\nuseMemo{nextMultipleOf25}\nuseCoinbasePay{{ cbPayInstance, isCBPayInstanceReady }}\nuseCallback{handleConnectCoinbaseClick}\nuseCallback{handleOtherClick}\nuseCallback{handleBackClick}\nuseCallback{handleClickUserAgreement}\nuseCallback{handleClickPrivacyPolicy}\nuseMemo{subtitle}",(function(){return[s.A,i.W6,w.lE,m.h,c.J9,P.H,l.pO,h.A,E.x,g.F,d.G,p.aR,u.Gj]})),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(V,"messages","/workspaces/apps/extension/src/screens/Trade/steps/DepositGasStep/DepositGasStep.tsx"),N.register(_,"DepositGasStep","/workspaces/apps/extension/src/screens/Trade/steps/DepositGasStep/DepositGasStep.tsx")),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&R(e)},91064:(e,t,n)=>{n.d(t,{b:()=>he,D:()=>we});var r=n(14041),a=n(32183),o=n(8867),s=n(86090),i=n(70846),l=n(4244),c=n(61096),u=n(87432),d=n(88),p=n(11554),f=n(8612),g=n(71847),m=n(14712),y=n(14431),v=n(62396),b=n(98053),w=n(74146),h=n(98455);const S="gasless/swap/quote";function x({params:e,skip:t=!1}){const{data:n,isInitialLoading:a,error:o}=(0,b.I)([S,e],(async function(){if(e&&!t)return async function(e){const{result:t}=await(0,w.hm)(S,e,{apiVersion:1});return t.quote}(e)}),{enabled:!!e,staleTime:3e4,retry:0}),s=(0,r.useMemo)((()=>n?new h.O(n):void 0),[n]);return(0,r.useMemo)((()=>({quote:s,isLoading:a,error:o})),[o,a,s])}const k="swap/quote";function A(e){const{data:t,isInitialLoading:n,error:a}=(0,b.I)([k,e],(async function(){if(e)return async function(e){const{result:t}=await(0,w.hm)(k,e,{apiVersion:1});return t.quote}(e)}),{enabled:!!e,staleTime:3e4}),o=(0,r.useMemo)((()=>t?new h.O(t):void 0),[t]);return(0,r.useMemo)((()=>({quote:o,isLoading:n,error:a})),[a,n,o])}var C=n(58036),T=n(21599),I=n(40698),M=n(11993),L=n(51949);function j({sourceWallet:e,target:t,includeCode:n=!0,cryptoAmount:a=0n,mode:o,analyticsError:s,handleEntrySelectorError:i,handleGaslessQuoteError:c,handleQuoteSuccess:u}){const d=(0,l.J9)(),p=e?.network.asChain()?.chainId.toString()??t?.chainId,f=(0,y.d)(a,300),b=(0,g.x)("swap_mode_best"),w=(0,r.useMemo)((()=>{if(!e||!t||f<=0n)return;const n=v.g.parseAccountTypeFromId(e.accountId),r=(0,T.e)(n);return{fromAddress:e?.primaryAddress,from:e.contractAddress??e.currencyCode.rawValue,to:t.address?.rawValue??t.currencyCode.rawValue,amount:String(f),mode:b?"best":"fast",amountReference:C.w.Source,chainId:String(p),directRoute:String(!1),source:r}}),[e,t,f,b,p]),h=(0,I.xE)({contractAddress:e?.contractAddress,chainId:p?.toString()}),{isGaslessSwapEnabled:S}=(0,L.Q)({to:t,from:h,chainId:String(p),amount:BigInt(w?.amount??""),fromAddress:w?.fromAddress??""},!0),k=(0,r.useMemo)((()=>e?.network.asChain()?.baseAssetCurrencyCode?.toLowerCase()===e?.currencyCode.rawValue.toLowerCase()),[e?.currencyCode.rawValue,e?.network]),[j,G]=(0,m.R)((e=>e(A)(w)),(e=>e(x)({params:w,skip:!S||k}))),{quote:E,isLoading:P,error:H}=j,{quote:O,isLoading:B,error:D}=G,F=(0,r.useMemo)((()=>{switch(o){case M.z.Normal:return H;case M.z.Gasless:return D;default:return H}}),[D,o,H]),N=(0,r.useMemo)((()=>B||P),[B,P]),R=(0,r.useMemo)((()=>{switch(o){case M.z.Normal:return E;case M.z.Gasless:return O;default:return E}}),[O,o,E]);(0,r.useEffect)((function(){c?.(!!D)}),[D,c]),(0,r.useEffect)((function(){F&&(s?.({error:F}),i?.(F))}),[s,F,i,c,o]),(0,r.useEffect)((function(){R&&u?.(R.aggregatorID)}),[R,u]);const W=(0,r.useMemo)((()=>R?d.formatToCrypto({currencyCode:R.fromAsset.currencyCode,decimals:R.fromAsset.decimals,value:BigInt(R.fromAmount),includeCode:n,maxDisplayDecimals:8n}):""),[d,n,R]),V=(0,r.useMemo)((()=>R?d.formatToCrypto({currencyCode:R.toAsset.currencyCode,decimals:R.toAsset.decimals,value:BigInt(R.toAmount),includeCode:n,maxDisplayDecimals:8n}):""),[d,n,R]),_=(0,r.useMemo)((()=>!N&&F?F?.data?.error:void 0),[F,N]);return{quote:R,fromCryptoAmount:W,toCryptoAmount:V,isLoading:N,error:_}}var G=n(70918),E=n(39999),P=n(32451),H=n(12784),O=n.n(H),B=n(89703),D=n(61015),F=n(10058),N=n(83260),R=n(4681),W=n(88589),V=n(4118),_=n(33396),U=n(37121),z=n(85581),q=n(84492),K=n(15654),X=n(94330),Y=n(86700),Q=n(9827),Z=n(53107),$=n(68061),J=n(85923),ee=n(56306),te=n(74538),ne=n(10654),re=n(431),ae=n(57822);function oe(e){const{sourceWalletId:t,targetAssetId:n,targetAssetContractAddress:a,selectedNetwork:o}=(0,U.A)(Z.Zd),s=(0,G.h)(),l=(0,ae.e)(s),c=(0,G.h)(),u=(0,re.B)(c,{network:o.value}),d=(0,J.b)(),p=(0,ee.T)(),f=(0,ne.H)(),g=(0,i.R7)({chainDetails:f});return{toggleAssets:(0,r.useCallback)((()=>{if(!e)return;const r=(l.find((e=>e.swapId===n.value))??e).id,o=l.find((t=>t.id===e.id));if(!r||!o)return;g({sourceWalletId:r,targetAssetId:o.swapId}),t.onChange(r),n.onChange(o.swapId),a.onChange(o.contractAddress??"");const s=p();s&&(s?.sourceWalletId!==r&&d({key:"sourceWalletId",value:r}),s?.targetAssetId!==o.swapId&&d({key:"targetAssetId",value:o.swapId}),s?.targetAssetContractAddress!==o.contractAddress&&d({key:"targetAssetContractAddress",value:o.contractAddress}))}),[e,l,g,t,n,a,p,d]),isDisabled:(0,r.useMemo)((()=>!n.value||void 0===u||!u.find((e=>e.swapId===n.value))),[n.value,u])}}var se,ie=n(19637),le=n(77225),ce=n(31085);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(se="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&se(e);var ye,ve,be="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},we=(0,a.YK)({title:{id:"wFzAcF",defaultMessage:[{type:0,value:"Swap"}]},availableAmount:{id:"oQMg3g",defaultMessage:[{type:1,value:"amount"},{type:0,value:" available"}]},ctaButtonLabel:{id:"nDQ7wN",defaultMessage:[{type:0,value:"Find the best price"}]},noAmountError:{id:"8xcZm0",defaultMessage:[{type:0,value:"Please enter an amount."}]},transactionCanceled:{id:"hcNb7U",defaultMessage:[{type:0,value:"Transaction canceled"}]},tryAgain:{id:"oKQtsu",defaultMessage:[{type:0,value:"Try again"}]},goBackHome:{id:"pHyRag",defaultMessage:[{type:0,value:"Go back home"}]},fillGas:{id:"C4PoVL",defaultMessage:[{type:0,value:"Fill Gas"}]},bestPriceText:{id:"9han78",defaultMessage:[{type:0,value:"Find the best price"}]},priceEstimateLabel:{id:"mqpZxy",defaultMessage:[{type:0,value:"Price estimate"}]},topUpButtonText:{id:"nuMeii",defaultMessage:[{type:0,value:"Top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]},a11yToLabel:{id:"w6MK2R",defaultMessage:[{type:0,value:"To "},{type:1,value:"amount"}]},a11yFromLabel:{id:"5BoVL3",defaultMessage:[{type:0,value:"From "},{type:1,value:"amount"}]}});function he(e){var t,n=e.wallet,a=(0,J.b)(),g=(0,ee.T)(),m=ge((0,r.useState)(!1),2),y=m[0],v=m[1],b=(0,s.W6)().goBack,w=(0,_.lE)(Z.Im).goToStep,h=(0,o.A)().formatMessage,S=(0,U.A)(Z.Zd),x=S.cryptoAmount,k=S.enteredAmount,A=S.isFiat,C=S.selectedNetwork,T=S.targetAssetId,I=S.sourceWalletId,M=S.shouldUpdateCryptoAmount,L=S.mode,H=S.browserMode,re=S.isGaslessToggleDisabled,ae=S.aggregatorID,se=(0,l.J9)(),ue=ge((0,r.useState)(),2),de=ue[0],fe=ue[1],me=(0,G.h)(),ye=(0,f.X)(me,{network:C.value}),ve=(0,ie.Q)(n),be=(0,le.q)(n),he=oe(n),Se=he.toggleAssets,xe=he.isDisabled,ke=(0,ne.H)(),Ae=(0,i.Bx)({chainDetails:ke}),Ce=(0,i.Jp)({chainDetails:ke}),Te=(0,i.KH)({chainDetails:ke}),Ie=(0,i.Fu)({chainDetails:ke,walletCurrencyCode:null==n?void 0:n.currencyCode.code}),Me=(0,i.xm)({chainDetails:ke}),Le=(0,i.eI)({chainDetails:ke}),je=(0,i.Dc)({chainDetails:ke,source:i.kL.EXTENSION}),Ge=(0,V.z)((0,P.y9)(P.fO.swap),P.vm.load_preview,{logMetric:!0}).start;(0,Y.c)((0,P.y9)(P.fO.swap),P.vm.launch_swap,{type:"end"});var Ee=(0,r.useCallback)((function(e){x.value>0n&&e&&fe(e)}),[x]),Pe=(0,r.useCallback)((function(e){re.onChange(e)}),[]),He=(0,r.useCallback)((function(e){ae.onChange(e)}),[]);(0,u.y)((function(){var e=g();(null==e?void 0:e.stepperPosition)!==te.H.ENTRY&&a({key:"stepperPosition",value:te.H.ENTRY}),n&&I.onChange(n.id)}));var Oe=j({sourceWallet:(0,E.X)(me,I.value),target:be.swapAsset,mode:L.value,cryptoAmount:x.value,analyticsError:Le,handleEntrySelectorError:Ee,handleGaslessQuoteError:Pe,handleQuoteSuccess:He}),Be=Oe.isLoading,De=Oe.fromCryptoAmount,Fe=Oe.toCryptoAmount,Ne=(0,$.x)({wallet:n,options:{mode:L.value}}),Re=Ne.generateTransactions,We=Ne.generateTransactionsError,Ve=Ne.isGenerateTransactionsLoading,_e=(0,r.useCallback)((function(){var e,t,r,o,s,i,l,c=g();Ae({cryptoAmount:x.value.toString(),currentBalance:null==n||null===(e=n.balance)||void 0===e?void 0:e.toString(),sourceCurrencyCode:null==ve||null===(t=ve.swapAsset)||void 0===t?void 0:t.currencyCode.code,sourceChainId:null==ve||null===(r=ve.swapAsset)||void 0===r?void 0:r.chainId.toString(),sourceChainDisplayName:null==ve||null===(o=ve.swapAsset)||void 0===o||null===(o=o.network.asChain())||void 0===o?void 0:o.displayName,targetCurrencyCode:null==be||null===(s=be.swapAsset)||void 0===s?void 0:s.currencyCode.code,targetChainId:null==be||null===(i=be.swapAsset)||void 0===i?void 0:i.chainId.toString(),targetChainDisplayName:null==be||null===(l=be.swapAsset)||void 0===l||null===(l=l.network.asChain())||void 0===l?void 0:l.displayName}),Ge(),Re(),c&&!c.sourceWalletId&&n&&a({key:"sourceWalletId",value:n.id}),c&&!c.selectedNetwork&&a({key:"selectedNetwork",value:C.value.rawValue.split("/")[0]})}),[x,ve,be,Ae,Re,Ge,a,g,n,C]),Ue=(0,d.oD)();(0,r.useEffect)((function(){var e,t;be.swapAsset&&Ue({code:be.swapAsset.currencyCode,chainId:be.swapAsset.chainId,networkId:null!==(e=(0,p.S)({network:be.swapAsset.network,blockchain:be.swapAsset.blockchain}))&&void 0!==e?e:"",contractAddress:null===(t=be.swapAsset.address)||void 0===t?void 0:t.rawValue})}),[Ue,be.swapAsset]),(0,i.iD)({chainDetails:ke,walletCurrencyCode:null==n?void 0:n.currencyCode.code});var ze=(0,r.useMemo)((function(){if(void 0!==(null==n?void 0:n.balance))return A.value?se.formatToFiat({fromCurrencyCode:n.currencyCode,decimals:n.decimals,value:null==n?void 0:n.balance,isAbbreviated:!1,contractAddress:n.contractAddress,network:n.network,blockchain:n.blockchain,formatZeroBalance:!0}):se.formatToCrypto({currencyCode:n.currencyCode,decimals:n.decimals,value:null==n?void 0:n.balance})}),[n,A.value,se]),qe=(0,r.useMemo)((function(){var e=x.value&&De?De:ve.secondaryLabel;return pe(pe({},ve),{},{disableSelection:void 0===n,dataElementHandle:"dex-from-selector",a11yLabel:h(we.a11yFromLabel,{amount:e}),isLoading:Be,secondaryLabel:e,onPress:function(){w("selectWallet")}})}),[x.value,h,De,w,Be,ve,n]),Ke=(0,r.useMemo)((function(){var e=x.value&&Fe?Fe:be.secondaryLabel;return pe(pe({},be),{},{dataElementHandle:"dex-to-selector",isLoading:Be,disableSelection:void 0===n,a11yLabel:h(we.a11yToLabel,{amount:e}),secondaryLabel:e,onPress:function(){w("selectAsset")}})}),[x.value,h,w,Be,be,Fe,n]),Xe=(0,r.useMemo)((function(){var e,t,n;return void 0!==We||y||0n===x.value||Boolean(de)||!be.swapAsset||!ve.swapAsset||(null===(e=ve.swapAsset)||void 0===e?void 0:e.swapId)===(null===(t=be.swapAsset)||void 0===t?void 0:t.swapId)||Ve||!(null!==(n=Ke.swapAsset)&&void 0!==n&&n.swappable)||Be}),[x.value,de,y,Ve,null===(t=Ke.swapAsset)||void 0===t?void 0:t.swappable,ve.swapAsset,be.swapAsset,We,Be]);(0,r.useEffect)((function(){var e,t;Xe||je({cryptoAmount:x.value.toString(),sourceChainId:null==ve||null===(e=ve.swapAsset)||void 0===e?void 0:e.chainId.toString(),targetChainId:null==be||null===(t=be.swapAsset)||void 0===t?void 0:t.chainId.toString()})}),[Xe]);var Ye=(0,r.useCallback)((function(){Ie(),b()}),[b,Ie]),Qe=(0,r.useCallback)((function(){w("selectNetwork")}),[w]);(0,r.useEffect)((function(){y&&O()((function(){var e,t,r;Me({amount:x.value.toString(),currentBalance:null==n||null===(e=n.balance)||void 0===e?void 0:e.toString(),sourceSwapId:null===(t=ve.swapAsset)||void 0===t?void 0:t.swapId,targetSwapId:null===(r=be.swapAsset)||void 0===r?void 0:r.swapId})}),500)()}),[y]);var Ze=(0,r.useCallback)((function(e){var t=g();null!=t&&t.sourceWalletId||!n||a({key:"sourceWalletId",value:n.id}),null!=t&&t.selectedNetwork||a({key:"selectedNetwork",value:C.value.rawValue.split("/")[0]}),a({key:"cryptoAmount",value:e.toString()}),fe(void 0)}),[g,C.value.rawValue,a,n]),$e=(0,r.useMemo)((function(){return!(0n===x.value||!I.value.length||!T.value)}),[x.value,I.value,T.value]),Je=ye;return(0,ce.jsxs)(R.ff,{header:(0,ce.jsx)(F.jq,{variant:"secondary",centerTitle:!0,title:h(we.title),handleBack:H.value?void 0:Ye}),height:"100%",children:[(0,ce.jsx)(K.T,{justifyContent:"center",children:(0,ce.jsx)(N.A,{network:C.value,onPress:Qe,chainDetails:ke})}),(0,ce.jsxs)(K.T,{flexGrow:1,justifyContent:"center",paddingX:3,gap:3,children:[(0,ce.jsx)(K.T,{flexGrow:1,justifyContent:"center",children:n?(0,ce.jsxs)(ce.Fragment,{children:[(0,ce.jsx)(B.J$,{context:"trade",wallet:n,onInsufficientFund:v,cryptoAmount:x,enteredAmount:k,isFiat:A,analyticsGetMaxValue:Ce,analyticsSwitchDisplay:Te,onChange:Ze,shouldUpdateCryptoAmount:M,txType:c.Ir.SWAP}),ze?(0,ce.jsx)(X.C,{as:"p",color:"fgMuted",textAlign:"center",paddingTop:1,testID:"entry-step-amount-available",children:h(we.availableAmount,{amount:ze})}):null]}):(0,ce.jsx)(D.BB,{})}),(0,ce.jsxs)(K.T,{gap:3,children:[$e&&(0,ce.jsx)(X.C,{as:"p",paddingBottom:.5,children:h(we.priceEstimateLabel)}),(0,ce.jsx)(Q.OL,{onClickSwitcher:Se,isSwitchDisabled:xe,error:de||We,row1:qe,row2:Ke,onClickSwitcherIcon:"arrowsVertical",tooltipContent:Je?(0,ce.jsx)(W.e,{network:null==C?void 0:C.value,zeroBaseAssetError:ye}):void 0})]})]}),(0,ce.jsx)(q.z,{alignItems:"stretch",paddingX:3,paddingBottom:3,width:"100%",children:(0,ce.jsx)(z.$n,{block:!0,disabled:!Ve&&Xe,loading:Ve,onClick:_e,testID:"dex-entry-preview-button",children:h(we.ctaButtonLabel)})})]})}be(he,"usePersistTradeContext{persistTradeContext}\nuseRetrieveTradeContext{retrieveTradeContext}\nuseState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseIntl{{ formatMessage }}\nuseFields{{\n    cryptoAmount,\n    enteredAmount,\n    isFiat,\n    selectedNetwork,\n    targetAssetId,\n    sourceWalletId,\n    shouldUpdateCryptoAmount,\n    mode,\n    browserMode,\n    isGaslessToggleDisabled,\n    aggregatorID,\n  }}\nuseCurrencyFormatter{currencyFormatter}\nuseState{[entrySelectorError, setEntrySelectorError]}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseBaseAssetZeroBalanceError{zeroBaseAssetError}\nuseSourceSelector{sourceSelector}\nuseTargetSelector{targetSelector}\nuseAssetsToggler{{ toggleAssets, isDisabled }}\nuseSwapAnalyticsDetails{chainDetails}\nuseEntryStepPreviewButtonClicked{triggerAnalyticsPreviewButtonClicked}\nuseGetMaxValueButton{triggerAnalyticsGetMaxValue}\nuseSwitchDisplayButton{triggerAnalyticsSwitchDisplay}\nuseEntryStepBackButton{triggerAnalyticsBackButton}\nuseEntryStepNotEnoughBalance{triggerAnalyticsNotEnoughBalance}\nuseEntryStepQuoteError{triggerAnalyticsQuoteError}\nuseEntryStepPreviewButtonEnabled{triggerAnalyticsPreviewEnabled}\nuseExtensionPerfMark{{ start: markStartLoadPreviewPerf }}\nusePerfMarkOnMount{}\nuseCallback{handleEntrySelectorError}\nuseCallback{handleGaslessQuoteError}\nuseCallback{handleQuoteSuccess}\nuseOnMount{}\nuseWalletById{sourceWallet}\nuseQuote{{\n    isLoading: isQuoteLoading,\n    fromCryptoAmount,\n    toCryptoAmount,\n  }}\nuseConvertGenerateTransactions{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseCallback{handlePreviewClick}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseEffect{}\nuseEntryStepViewed{}\nuseMemo{availableBalanceString}\nuseMemo{row1Props}\nuseMemo{row2Props}\nuseMemo{isTradeButtonDisabled}\nuseEffect{}\nuseCallback{handleGoBack}\nuseCallback{onNetworkSelectionSubheaderPress}\nuseEffect{}\nuseCallback{handleAmountChange}\nuseMemo{hasPriceEstimate}",(function(){return[J.b,ee.T,s.W6,_.lE,o.A,U.A,l.J9,G.h,f.X,ie.Q,le.q,oe,ne.H,i.Bx,i.Jp,i.KH,i.Fu,i.xm,i.eI,i.Dc,V.z,Y.c,u.y,E.X,j,$.x,d.oD,i.iD]})),(ye="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ye.register(we,"messages","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStep.tsx"),ye.register(he,"EntryStep","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStep.tsx")),(ve="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&ve(e)},39289:(e,t,n)=>{n.d(t,{$:()=>m});var r,a,o,s=n(8867),i=n(65790),l=n(97233),c=n(85581),u=n(15654),d=n(95312),p=n(67417),f=n(91064),g=n(31085);function m(){var e=(0,s.A)().formatMessage;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(u.T,{height:"100%",justifyContent:"space-between",children:[(0,g.jsx)(l.e,{}),(0,g.jsxs)(u.T,{alignContent:"center",paddingX:3,children:[(0,g.jsx)(i.p,{}),(0,g.jsx)(d.h,{})]}),(0,g.jsxs)(u.T,{padding:3,children:[(0,g.jsx)(p.m,{}),(0,g.jsx)(c.$n,{block:!0,disabled:!0,children:e(f.D.ctaButtonLabel)})]})]})})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useIntl{{ formatMessage }}",(function(){return[s.A]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(m,"EntryStepFallback","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/EntryStepFallback.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},19637:(e,t,n)=>{n.d(t,{Q:()=>y});var r,a=n(14041),o=n(32183),s=n(8867),i=n(40698),l=n(79071),c=n.n(l),u=n(98055),d=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p,f,g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=(0,o.YK)({from:{id:"bHEvFB",defaultMessage:[{type:0,value:"From"}]},chooseCoin:{id:"HahwaV",defaultMessage:[{type:0,value:"Choose asset"}]}});function y(e){var t,n=(0,s.A)().formatMessage,r=(0,i.xE)({contractAddress:null==e?void 0:e.contractAddress,chainId:null==e||null===(t=e.network.asChain())||void 0===t?void 0:t.chainId.toString()}),o=(0,a.useMemo)((function(){return(0,d.jsx)(u.v,{as:"p",onClick:c(),testID:"default-from-selector",children:n(m.chooseCoin)})}),[n]);return(0,a.useMemo)((function(){var e;return{secondaryLabel:null!==(e=null==r?void 0:r.currencyCode.code)&&void 0!==e?e:o,primaryLabel:n(m.from),image:null==r?void 0:r.imageURL,onPress:c(),dataElementHandle:"convert-from-selector",swapAsset:r}}),[n,r,o])}g(y,"useIntl{{ formatMessage }}\nuseSwapAsset{sourceAsset}\nuseMemo{ChooseCoinLink}\nuseMemo{}",(function(){return[s.A,i.xE]})),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(m,"messages","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useSourceSelector.tsx"),p.register(y,"useSourceSelector","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useSourceSelector.tsx")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},77225:(e,t,n)=>{n.d(t,{q:()=>b});var r,a=n(14041),o=n(32183),s=n(8867),i=n(40698),l=n(79071),c=n.n(l),u=n(37121),d=n(98055),p=n(53107),f=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,m,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,o.YK)({to:{id:"tMX/lG",defaultMessage:[{type:0,value:"To"}]},chooseCoin:{id:"8dKBrJ",defaultMessage:[{type:0,value:"Choose asset"}]}});function b(e){var t,n=(0,s.A)().formatMessage,r=(0,u.A)(p.Zd),o=r.targetAssetId,l=r.targetAssetContractAddress,g=(0,i.xE)({contractAddress:l.value,chainId:null==e||null===(t=e.network.asChain())||void 0===t?void 0:t.chainId.toString()}),m=(null==e?void 0:e.swapId)!==o.value&&o.value?g:void 0,y=(0,a.useMemo)((function(){return(0,f.jsx)(d.v,{as:"p",color:"fgPrimary",onClick:c(),children:n(v.chooseCoin)})}),[n]);return(0,a.useMemo)((function(){var e;return{secondaryLabel:null!==(e=null==m?void 0:m.currencyCode.code)&&void 0!==e?e:y,primaryLabel:n(v.to),image:null==m?void 0:m.imageURL,onPress:c(),dataElementHandle:"convert-to-selector",swapAsset:m}}),[m,y,n])}y(b,"useIntl{{ formatMessage }}\nuseFields{{ targetAssetId, targetAssetContractAddress }}\nuseSwapAsset{asset}\nuseMemo{ChooseCoinLink}\nuseMemo{}",(function(){return[s.A,u.A,i.xE]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(v,"messages","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useTargetSelector.tsx"),g.register(b,"useTargetSelector","/workspaces/apps/extension/src/screens/Trade/steps/EntryStep/hooks/useTargetSelector.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},69241:(e,t,n)=>{n.d(t,{B:()=>M});var r,a=n(14041),o=n(32183),s=n(8867),i=n(86090),l=n(70846),c=n(95930),u=n(10058),d=n(4681),p=n(23126),f=n(33396),g=n(22115),m=n(85581),y=n(9197),v=n(2673),b=n(34107),w=n(15654),h=n(60149),S=n(53107),x=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var k,A,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},T=(0,o.YK)({nuxTitle:{id:"OXjs6l",defaultMessage:[{type:0,value:"Low on ETH or POL? Help is on the way."}]},networkFeeSimpleLabel:{id:"9sygiV",defaultMessage:[{type:0,value:"Network fees made simple"}]},networkFeeSimpleDescription:{id:"uRciKA",defaultMessage:[{type:0,value:"If you're swapping on Ethereum or Polygon, now you can pay the fee with the token you're swapping instead of ETH or POL."}]},neverPayFailedLabel:{id:"mzigKd",defaultMessage:[{type:0,value:"Never pay for failed transactions"}]},neverPayFailedDescription:{id:"ZbcLh1",defaultMessage:[{type:0,value:"As a bonus, if your transaction fails, you won't have to pay network fees."}]},oneSwapRequiredLabel:{id:"Y86TKZ",defaultMessage:[{type:0,value:"One standard swap required"}]},oneSwapRequiredDescription:{id:"blfxJp",defaultMessage:[{type:0,value:"You need to pay the standard network fee the first time you swap a token. After that, you can swap without ETH or POL."}]},swapButton:{id:"7kEyER",defaultMessage:[{type:0,value:"Swap now"}]},learnMoreButton:{id:"KhQxU2",defaultMessage:[{type:0,value:"Learn more"}]},btnGroupA11yText:{id:"0ElHKg",defaultMessage:[{type:0,value:"Action buttons"}]}}),I={paddingY:0,paddingX:1};function M(){var e=(0,s.A)().formatMessage,t=(0,i.W6)().goBack,n=(0,f.lE)(S.Im).goToStep;(0,l.zf)();var r=(0,a.useCallback)((function(){(0,l.DP)(),n("entry")}),[n]),o=(0,a.useCallback)((function(){t()}),[t]),k=(0,a.useCallback)((function(){(0,l.ve)(),chrome.tabs.create({url:c.jW,active:!1})}),[]);return(0,x.jsxs)(d.ff,{header:(0,x.jsx)(u.jq,{handleBack:o}),height:"100%",children:[(0,x.jsxs)(w.T,{alignItems:"center",paddingX:3,overflow:"scroll",children:[(0,x.jsx)(b.g,{name:"gasFeesNetworkFees"}),(0,x.jsx)(w.T,{paddingTop:1,width:250,children:(0,x.jsx)(h.f,{as:"h1",paddingTop:1,paddingBottom:1,textAlign:"center",children:e(T.nuxTitle)})}),(0,x.jsx)(y.g,{title:e(T.networkFeeSimpleLabel),description:e(T.networkFeeSimpleDescription),media:(0,x.jsx)(v.In,{name:"checkmark",size:"s",color:"fg",paddingTop:.5}),innerSpacing:p.O,outerSpacing:I}),(0,x.jsx)(y.g,{title:e(T.neverPayFailedLabel),description:e(T.neverPayFailedDescription),media:(0,x.jsx)(v.In,{name:"checkmark",size:"s",color:"fg",paddingTop:.5}),innerSpacing:p.O,outerSpacing:I}),(0,x.jsx)(y.g,{title:e(T.oneSwapRequiredLabel),description:e(T.oneSwapRequiredDescription),media:(0,x.jsx)(v.In,{name:"checkmark",size:"s",color:"fg",paddingTop:.5}),innerSpacing:p.O,outerSpacing:I})]}),(0,x.jsx)(w.T,{paddingX:3,paddingBottom:3,children:(0,x.jsxs)(g.e,{block:!0,accessibilityLabel:e(T.btnGroupA11yText),direction:"vertical",children:[(0,x.jsx)(m.$n,{block:!0,onClick:r,testID:"gasless-swap-nux-swap-button",compact:!0,children:e(T.swapButton)}),(0,x.jsx)(m.$n,{block:!0,compact:!0,onClick:k,testID:"gasless-swap-nux-learn-more-button",variant:"secondary",children:e(T.learnMoreButton)})]})})]})}C(M,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseLogGaslessSwapNuxViewed{}\nuseCallback{handlePress}\nuseCallback{handleGoBack}\nuseCallback{handleLearnMorePress}",(function(){return[s.A,i.W6,f.lE,l.zf]})),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(T,"messages","/workspaces/apps/extension/src/screens/Trade/steps/GaslessSwapNux/GaslessSwapNux.tsx"),k.register(I,"zeroCellSpacing","/workspaces/apps/extension/src/screens/Trade/steps/GaslessSwapNux/GaslessSwapNux.tsx"),k.register(M,"GaslessSwapNux","/workspaces/apps/extension/src/screens/Trade/steps/GaslessSwapNux/GaslessSwapNux.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},78667:(e,t,n)=>{n.d(t,{A:()=>E});var r=n(14041),a=n(32183),o=n(8867),s=n(86090),i=n(70846),l=n(87432),c=n(18647),u=n(21413),d=n(33396),p=n(53107),f=n(10654),g=n(22202),m=n(70918),y=n(46845),v=n(37121);function b(){const e=(0,s.W6)(),[t,n]=(0,r.useState)(null),{goBack:a,goToStep:o}=(0,d.lE)(p.Im),l=(0,g.b)(),{unsignedSwapTxResult:{value:c},unsignedApproveTxResult:{value:u}}=(0,v.A)(p.Zd),b=u?.transaction,w=c?.transaction,h=(0,f.H)(),S=(0,i.cv)({chainDetails:h}),x=(0,i.Vm)({chainDetails:h}),k=(0,i.Wx)({chainDetails:h}),A=(0,m.h)(),C=(0,y.J)(A,w),T=(0,r.useCallback)((()=>{S(),o("status"),n(null)}),[o,S]),I=(0,r.useCallback)((t=>{"UserRejectedWalletLinkRequest"===t.name?x():k(),n({errorMessage:t.message,onPrimaryButtonPress:()=>{n(null),a()},onSecondaryButtonPress:()=>e.replace("/portfolio"),secondaryButtonText:"Go Back Home",primaryButtonText:"Try Again"})}),[a,e,x,k]),M=(0,r.useCallback)((async()=>{if(!C||!w)return null;if(b)try{await l({unsignedTxOrUserOp:b,wallet:C})}catch(e){I(e)}try{await l({unsignedTxOrUserOp:w,wallet:C}),T()}catch(e){I(e)}}),[I,T,l,b,w,C]);return(0,r.useMemo)((()=>({signAndSubmitViaWalletlink:M,errorStateProps:t})),[t,M])}var w,h=n(31085);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return C(c,"_invoke",function(n,r,a){var o,i,l,c=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,p.n=n,s}};function f(n,r){for(i=n,l=r,t=0;!d&&c&&!a&&t<u.length;t++){var a,o=u[t],f=p.p,g=o[2];n>3?(a=g===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(i=0,p.v=r,p.n=o[1]):f<g&&(a=n<3||o[0]>r||r>g)&&(o[4]=n,o[5]=r,p.n=g,i=0))}if(a||n>1)return s;throw d=!0,r}return function(a,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),i=u,l=g;(t=i<2?e:l)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,a,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(C(t={},r,(function(){return this})),t),d=c.prototype=i.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,C(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,C(d,"constructor",c),C(c,"constructor",l),l.displayName="GeneratorFunction",C(c,a,"GeneratorFunction"),C(d),C(d,a,"Generator"),C(d,r,(function(){return this})),C(d,"toString",(function(){return"[object Generator]"})),(A=function(){return{w:o,m:p}})()}function C(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}C=function(e,t,n,r){function o(t,n){C(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},C(e,t,n,r)}function T(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){T(o,r,a,s,i,"next",e)}function i(e){T(o,r,a,s,i,"throw",e)}s(void 0)}))}}e=n.hmd(e),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&w(e);var M,L,j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=(0,a.YK)({title:{id:"VwWGjG",defaultMessage:[{type:0,value:"Confirm on phone"}]},description:{id:"In3vOT",defaultMessage:[{type:0,value:"Open Coinbase Wallet on your phone to confirm this transaction."}]},retry:{id:"jvhzSF",defaultMessage:[{type:0,value:"Resend notification"}]},dontSeeNotification:{id:"epKk4O",defaultMessage:[{type:0,value:"Don't see the notification?"}]}});function E(){var e=(0,s.W6)(),t=(0,o.A)().formatMessage,n=(0,d.lE)(p.Im),a=n.goBack,g=n.hasPreviousStep,m=(0,f.H)(),y=(0,i.qA)({chainDetails:m}),v=(0,i.BF)({chainDetails:m}),w=(0,r.useRef)(!1);(0,i.jW)({chainDetails:m});var S=(0,r.useCallback)((function(){y(),g?a():e.goBack()}),[y,g,a,e]),C=b(),T=C.signAndSubmitViaWalletlink,M=C.errorStateProps,L=(0,r.useCallback)(I(A().m((function e(){return A().w((function(e){for(;;)switch(e.n){case 0:return v(),e.n=1,T();case 1:return e.a(2)}}),e)}))),[T,v]);(0,l.y)((function(){M||T()}));var j=(0,r.useMemo)((function(){return{label:t(G.retry),onClick:(e=I(A().m((function e(){return A().w((function(e){for(;;)switch(e.n){case 0:return w.current=!0,e.n=1,L();case 1:return e.a(2)}}),e)}))),function(){return e.apply(this,arguments)})};var e}),[t,L]);return M&&!w.current?(0,h.jsx)(c.W,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},M)):(0,h.jsx)(u._,{title:t(G.title),description:t(G.description),onDismiss:S,secondaryActionLabel:t(G.dontSeeNotification),retryAction:j})}j(E,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, hasPreviousStep }}\nuseSwapAnalyticsDetails{chainDetails}\nusePhoneConfirmationStepBackButton{triggerAnalyticsBackButton}\nusePhoneConfirmationStepRetry{triggerAnalyticsRetry}\nuseRef{isUserCancelled}\nusePhoneConfirmationStepViewed{}\nuseCallback{onDismiss}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, errorStateProps }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}",(function(){return[s.W6,o.A,d.lE,f.H,i.qA,i.BF,i.jW,b,l.y]})),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(G,"messages","/workspaces/apps/extension/src/screens/Trade/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),M.register(E,"PhoneConfirmationStep","/workspaces/apps/extension/src/screens/Trade/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},36947:(e,t,n)=>{n.d(t,{V:()=>Z});var r=n(14041),a=n(32183),o=n(8867),s=n(63878),i=n(70846),l=n(98763),c=n(65548),u=n(85967),d=n(1505);function p({chainId:e,search:t,limit:n,page:a}){const{data:o,isLoading:s,isFetching:i,isFetchingNextPage:p,fetchNextPage:f,hasNextPage:g}=(0,d.zH)({chainId:e,search:t,limit:n,page:a}),m=(0,c.B)(o??{},(function(){const e=o?.pages?.flatMap((e=>e.result.flatMap((e=>new u.i(e)))));return e}));return(0,r.useEffect)((()=>{(0,l.Yy)({error:!m,count:m?.length})}),[m,m?.length]),(0,r.useMemo)((()=>({isLoading:s,isFetching:i,isFetchingNextPage:p,hasNextPage:g,fetchNextPage:f,swapAssets:m??[]})),[s,i,p,g,f,m])}var f,g=n(95930),m=n(68805),y=n(74837),v=n(12784),b=n.n(v),w=n(16205),h=n(10058),S=n(83260),x=n(4681),k=n(60479),A=n(33396),C=n(37121),T=n(42238),I=n(95312),M=n(42769),L=n(60102),j=n(53107),G=n(85923),E=n(10654),P=n(45919),H=n(31085);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function B(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return D(c,"_invoke",function(n,r,a){var o,i,l,c=0,u=a||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,p.n=n,s}};function f(n,r){for(i=n,l=r,t=0;!d&&c&&!a&&t<u.length;t++){var a,o=u[t],f=p.p,g=o[2];n>3?(a=g===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(i=0,p.v=r,p.n=o[1]):f<g&&(a=n<3||o[0]>r||r>g)&&(o[4]=n,o[5]=r,p.n=g,i=0))}if(a||n>1)return s;throw d=!0,r}return function(a,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),i=u,l=g;(t=i<2?e:l)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(d=p.n<0)?l:n.call(r,p))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,a,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(D(t={},r,(function(){return this})),t),d=c.prototype=i.prototype=Object.create(u);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,D(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,D(d,"constructor",c),D(c,"constructor",l),l.displayName="GeneratorFunction",D(c,a,"GeneratorFunction"),D(d),D(d,a,"Generator"),D(d,r,(function(){return this})),D(d,"toString",(function(){return"[object Generator]"})),(B=function(){return{w:o,m:p}})()}function D(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}D=function(e,t,n,r){function o(t,n){D(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},D(e,t,n,r)}function F(e,t,n,r,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){F(o,r,a,s,i,"next",e)}function i(e){F(o,r,a,s,i,"throw",e)}s(void 0)}))}}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var K,X,Y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Q=(0,a.YK)({title:{id:"pEywIZ",defaultMessage:[{type:0,value:"To asset"}]},unverifiedLabel:{id:"R6JWoM",defaultMessage:[{type:0,value:"Newer tokens"}]},unverifiedDescription:{id:"THpkF7",defaultMessage:[{type:0,value:"We don't recognize these tokens. Verify them before swapping."}]},warningTitle:{id:"zMWHDY",defaultMessage:[{type:0,value:"This is a new token"}]},continueButton:{id:"26uMJp",defaultMessage:[{type:0,value:"Continue"}]},verifyButton:{id:"4lSPl6",defaultMessage:[{type:0,value:"Verify on "},{type:1,value:"blockExplorerName"}]},warningDescription:{id:"C2PBKN",defaultMessage:[{type:0,value:"Before you continue, we recommend verifying this token with a block explorer to be sure it\u2019s the one you want."}]},blockExplorerLabel:{id:"RwBARF",defaultMessage:[{type:0,value:"block explorer"}]}});function Z(e){var t,n,a=e.selectedWallet,l=(0,G.b)(),c=(0,A.lE)(j.Im),u=c.goBack,d=c.goToStep,f=(0,o.A)().formatMessage,v=(0,C.A)(j.Zd),O=v.targetAssetId,D=v.selectedNetwork,F=v.targetAssetContractAddress,R=U((0,r.useState)(""),2),V=R[0],z=R[1],q=U((0,r.useState)(""),2),K=q[0],X=q[1],Y=(0,E.H)(),Z=(0,i.UQ)({chainDetails:Y}),$=(0,i.b8)({chainDetails:Y}),J=U((0,T.K)(!1),2),ee=J[0],te=J[1],ne=te.toggleOn,re=te.toggleOff,ae=U((0,r.useState)(),2),oe=ae[0],se=ae[1],ie=(0,r.useCallback)(b()((function(e){return X(e)}),300),[]),le=p({chainId:Y.chainId.toString(),limit:100,search:K}),ce=le.swapAssets,ue=le.isLoading,de=le.isFetching,pe=le.isFetchingNextPage,fe=le.fetchNextPage,ge=le.hasNextPage,me=(0,r.useCallback)((function(e){z(e),ie(e)}),[ie]),ye=(0,m.U)(),ve=(0,r.useCallback)((function(e){var t,n,r;e.swappable?Z({selectedAssetId:e.swapId}):$({selectedAssetId:e.swapId}),e.unverified&&(0,i.hX)({chainDetails:Y}),l({key:"targetAssetId",value:e.swapId}),O.onChange(e.swapId),l({key:"targetAssetContractAddress",value:null===(t=e.address)||void 0===t?void 0:t.rawValue}),F.onChange(null!==(n=null===(r=e.address)||void 0===r?void 0:r.rawValue)&&void 0!==n?n:"undefined"),ye(e),d("entry")}),[Y,d,ye,l,F,O,Z,$]),be=(0,r.useCallback)((function(e){return function(){if(e.unverified)return ne(),(0,i.xf)({chainDetails:Y}),void se(e);ve(e)}}),[Y,ve,ne]),we=(0,r.useMemo)((function(){return ce.filter((function(e){return!e.unverified}))}),[ce]),he=(0,r.useMemo)((function(){if(!V)return ce;var e=ce.filter((function(e){return e.unverified}));return[].concat(_(we),_(e))}),[V,ce,we]),Se=(0,r.useCallback)((function(e){var t,n=e.key,r=e.index,o=e.style,s=V&&r===we.length,i=V&&r>we.length,l=o.top,c=l%L.V4==0?l+L.wD:l,u=W(W({},s?W(W({},o),{},{height:L.V4+L.wD}):o),i?{top:c}:{});return(0,H.jsxs)("div",{style:u,children:[s?(0,H.jsx)(M.X,{label:f(Q.unverifiedLabel),description:f(Q.unverifiedDescription)}):null,(0,H.jsx)(w.c,{onSelect:be(he[r]),asset:he[r],disabled:(null==a?void 0:a.swapId)===(null===(t=he[r])||void 0===t?void 0:t.swapId)||!he[r].swappable,testID:"dex-to-asset-item-".concat(he[r].network.rawValue,"-").concat(he[r].currencyCode.rawValue),type:w.Y.SWAP_TO_ASSET})]},n)}),[V,we.length,f,be,he,null==a?void 0:a.swapId]),xe=(0,r.useCallback)((function(){d("selectNetwork")}),[d]),ke=(0,r.useCallback)(N(B().m((function e(){return B().w((function(e){for(;;)switch(e.n){case 0:de||pe||!ge||ue||fe();case 1:return e.a(2)}}),e)}))),[fe,ge,de,pe,ue]),Ae=(0,r.useCallback)((function(e){var t=e.index;return Boolean(ce[t])}),[ce]),Ce=he.length+(ge?100:0),Te=(0,r.useCallback)((function(){if(oe){var e=(0,y.q)(oe);chrome.tabs.create({url:e})}}),[oe]),Ie=(0,r.useCallback)((function(){oe&&ve(oe)}),[ve,oe]),Me=(0,r.useCallback)((function(e){var t=e.index;return V&&t===we.length?L.V4+L.wD:L.V4}),[V,we]);return ee?(0,H.jsx)(P.C,{toggleOff:re,onSubmit:Ie,pictogramName:"warning",title:f(Q.warningTitle),primaryButtonText:f(Q.continueButton),secondaryButtonText:f(Q.verifyButton,{blockExplorerName:f(null!==(t=g.Oe[null!==(n=null==oe?void 0:oe.chainId.toString())&&void 0!==n?n:"1"])&&void 0!==t?t:Q.blockExplorerLabel)}),description:f(Q.warningDescription),onSecondaryButtonPress:Te}):(0,H.jsxs)(x.ff,{overflow:"hidden",height:"100%",header:(0,H.jsx)(h.jq,{variant:"secondary",title:f(Q.title),handleBack:u}),children:[D.value?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(S.A,{network:D.value,onPress:xe,chainDetails:Y}),(0,H.jsx)(I.h,{vertical:2})]}):null,(0,H.jsx)(k.g,{query:V,onChange:me}),(0,H.jsx)(s.wK,{threshold:10,rowCount:Ce,isRowLoaded:Ae,loadMoreRows:ke,children:function(e){var t,n=e.onRowsRendered,r=e.registerChild;return(0,H.jsx)(s.B8,{rowCount:null!==(t=he.length)&&void 0!==t?t:0,width:L.BO,height:L.Ij,rowHeight:Me,rowRenderer:Se,overscanRowCount:20,ref:r,onRowsRendered:n})}})]})}Y(Z,"usePersistTradeContext{persistTradeContext}\nuseStepper{{ goBack, goToStep }}\nuseIntl{{ formatMessage }}\nuseFields{{ targetAssetId, selectedNetwork, targetAssetContractAddress }}\nuseState{[searchBarText, setSearchBarText]('')}\nuseState{[debouncedQuery, setDebouncedQuery]('')}\nuseSwapAnalyticsDetails{chainDetails}\nuseTradeSelectAsset{triggerAnalyticsSelectAsset}\nuseTradeSelectUnsupportedAsset{triggerAnalyticsSelectUnsupportedAsset}\nuseToggler{[\n    warningScreenVisible,\n    { toggleOn: warningScreenToggleOn, toggleOff: warningScreenToggleOff },\n  ]}\nuseState{[unverifiedAsset, setUnverifiedAsset]}\nuseCallback{debounceQuery}\nuseGetPaginatedSwapAssets{{ swapAssets, isLoading, isFetching, isFetchingNextPage, fetchNextPage, hasNextPage }}\nuseCallback{handleSearchChange}\nusePersistAssetSelection{persistSelection}\nuseCallback{selectAsset}\nuseCallback{getHandleSelect}\nuseMemo{verifiedAssets}\nuseMemo{orderedAssets}\nuseCallback{rowRenderer}\nuseCallback{onNetworkSelectionSubheaderPress}\nuseCallback{loadMoreRows}\nuseCallback{handleIsRowLoaded}\nuseCallback{handleVerifyPress}\nuseCallback{handleWarningButtonSubmit}\nuseCallback{getRowHeight}",(function(){return[G.b,A.lE,o.A,C.A,E.H,i.UQ,i.b8,T.K,p,m.U]})),(K="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(K.register(Q,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectAssetStep/SelectAssetStep.tsx"),K.register(Z,"SelectAssetStep","/workspaces/apps/extension/src/screens/Trade/steps/SelectAssetStep/SelectAssetStep.tsx")),(X="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&X(e)},26433:(e,t,n)=>{n.d(t,{X:()=>N});var r,a=n(14041),o=n(32183),s=n(8867),i=n(98763),l=n(4244),c=n(13394),u=n(58319),d=n(8612),p=n(78154),f=n(11993),g=n(70918),m=n(57822),y=n(10058),v=n(4681),b=n(33396),w=n(37121),h=n(85581),S=n(51773),x=n(1974),k=n(2673),A=n(84492),C=n(55799),T=n(15654),I=n(95312),M=n(60149),L=n(97541),j=n(67209),G=n(53107),E=n(10654),P=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var H,O,B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},D=75,F=(0,o.YK)({title:{id:"PebBTr",defaultMessage:[{type:0,value:"How do you want to pay the network fee?"}]},description:{id:"LJFG8E",defaultMessage:[{type:0,value:"You can pay with "},{type:1,value:"networkName"},{type:0,value:"'s native token ("},{type:1,value:"baseAssetCurrencyCode"},{type:0,value:"), or the asset you're swapping ("},{type:1,value:"sourceCurrencyCode"},{type:0,value:")."}]},availableAmount:{id:"LeAoJ1",defaultMessage:[{type:1,value:"amount"},{type:0,value:" available"}]},availableBalanceFromSwap:{id:"qPO3K0",defaultMessage:[{type:0,value:"Deduct from your swap"}]},primaryCTAButton:{id:"SKh0Nx",defaultMessage:[{type:0,value:"Continue"}]},secondaryCTAButton:{id:"vG8d4T",defaultMessage:[{type:0,value:"Cancel"}]},topUpButtonText:{id:"nuMeii",defaultMessage:[{type:0,value:"Top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]}});function N(){var e,t,n,r,o,H,O,B=(0,s.A)().formatMessage,N=(0,b.lE)(G.Im),R=N.goToStep,W=N.goBack,V=(0,g.h)(),_=(0,m.e)(V),U=(0,l.J9)(),z=(0,w.A)(G.Zd),q=z.mode,K=z.selectedNetwork,X=z.sourceWalletId,Y=z.transactionDetailError,Q=(0,p.F)(V,K.value),Z=(0,u.l)(),$=(0,d.X)(V,{network:K.value}),J=(0,E.H)();(0,i.Em)();var ee=(0,a.useMemo)((function(){var e;return Z&&("notEnoughBalanceForMinerFee"===(null==Y||null===(e=Y.value)||void 0===e?void 0:e.code)||$)}),[Z,null==Y||null===(e=Y.value)||void 0===e?void 0:e.code,$]),te=(0,a.useCallback)((function(e){return function(){(0,i.vF)(e),q.onChange(e?f.z.Normal:f.z.Gasless),ee&&e||R("confirmationPreview")}}),[R,ee,q]),ne=(0,a.useMemo)((function(){var e;return null==Y||null===(e=Y.value)||void 0===e?void 0:e.message}),[Y]),re=(0,a.useMemo)((function(){return _.find((function(e){return e.id===X.value}))}),[X.value,_]),ae=(0,a.useMemo)((function(){var e=K.value.asChain(),t=_.find((function(t){var n;return t.isBaseAsset&&t.currencyCode.code===(null==e?void 0:e.baseAssetCurrencyCode)&&(null===(n=t.network.asChain())||void 0===n?void 0:n.chainId.toString())===(null==e?void 0:e.chainId.toString())}));return t&&re?[t,re].map((function(e){var n,r=e.id===t.id,a=void 0!==e.balance?U.formatToFiat({fromCurrencyCode:e.currencyCode,decimals:e.decimals,value:e.balance,isAbbreviated:!1,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain}):"",o=q.value===f.z.Gasless&&e.id===re.id||q.value===f.z.Normal&&r,s=r?F.availableAmount:F.availableBalanceFromSwap;return(0,P.jsxs)(A.z,{bordered:!0,borderRadius:400,width:"100%",borderColor:o?"bgLinePrimary":void 0,padding:0,testID:"swap-mode-option-box",justifyContent:"space-between",children:[(0,P.jsx)(x.l,{testID:"swap-mode-option-".concat(e.currencyCode.code),media:(0,P.jsx)(S.r,{type:"asset",source:null!==(n=null==e?void 0:e.imageURL)&&void 0!==n?n:""}),title:null==e?void 0:e.currencyCode.code,description:B(s,{amount:a}),onClick:te((null==e?void 0:e.id)===(null==t?void 0:t.id))}),o?(0,P.jsx)(C.a,{justifyContent:"center",alignItems:"center",paddingEnd:2,children:(0,P.jsx)(k.In,{name:"checkmark",size:"s"})}):null]},e.id)})):((0,c.gf)({context:"swap-error",error:new Error("Unable to find native token wallet or source token wallet"),isHandled:!1,severity:"error"}),null)}),[U,B,te,q.value,K.value,re,_]),oe=(0,a.useCallback)((function(){(0,i.$g)({chainDetails:J,source:i.kL.EXTENSION}),R("depositGas")}),[J,R]);return(0,P.jsxs)(v.ff,{header:(0,P.jsx)(y.jq,{variant:"secondary",handleBack:W}),height:"100%",children:[(0,P.jsxs)(T.T,{paddingX:3,height:"100%",children:[(0,P.jsx)(A.z,{alignItems:"center",gap:.5,children:(0,P.jsx)(M.f,{as:"h1",children:B(F.title)})}),(0,P.jsx)(L.K,{as:"p",color:"fgMuted",paddingTop:1,paddingBottom:3,children:B(F.description,{networkName:null!==(t=null==K||null===(n=K.value.asChain())||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",baseAssetCurrencyCode:null!==(r=null==K||null===(o=K.value.asChain())||void 0===o?void 0:o.baseAssetCurrencyCode)&&void 0!==r?r:"",sourceCurrencyCode:null!==(H=null==re?void 0:re.currencyCode.code)&&void 0!==H?H:""})}),(0,P.jsx)(T.T,{justifyContent:"center",alignItems:"center",paddingY:1,gap:2,children:ae})]}),ee&&null!=Q&&Q.network&&q.value===f.z.Normal?(0,P.jsxs)(T.T,{paddingX:3,width:"100%",paddingY:2,children:[(0,P.jsx)(C.a,{justifyContent:"flex-end",maxHeight:D,marginX:-1,paddingBottom:1,children:ne?(0,P.jsx)(j.V,{as:"p",color:"fgNegative",paddingX:2,children:ne}):(0,P.jsx)(I.h,{})}),(0,P.jsx)(h.$n,{block:!0,testID:"dex-confirmation-top-up-balance-button",onClick:oe,children:B(F.topUpButtonText,{cryptoSymbol:null==Q||null===(O=Q.network.asChain())||void 0===O?void 0:O.baseAssetCurrencyCode})})]}):null]})}B(N,"useIntl{{ formatMessage }}\nuseStepper{{ goToStep, goBack }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseWalletsForWalletGroupId{wallets}\nuseCurrencyFormatter{currencyFormatter}\nuseFields{{ mode, selectedNetwork, sourceWalletId, transactionDetailError }}\nuseGetFeeWallet{feeWallet}\nuseIsDexDepositGasEnabled{isDepositGasEnabled}\nuseBaseAssetZeroBalanceError{zeroNativeAssetError}\nuseSwapAnalyticsDetails{chainDetails}\nuseLogGasPaymentMethodViewed{}\nuseMemo{isDepositGasButtonVisible}\nuseCallback{handlePress}\nuseMemo{errorMessage}\nuseMemo{sourceTokenWallet}\nuseMemo{gasTokenOptions}\nuseCallback{handleDepositGasPress}",(function(){return[s.A,b.lE,g.h,m.e,l.J9,w.A,p.F,u.l,d.X,E.H,i.Em]})),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(H.register(D,"MAX_SWAP_ERROR_HEIGHT","/workspaces/apps/extension/src/screens/Trade/steps/SelectGasPaymentMethod/SelectGasPaymentMethod.tsx"),H.register(F,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectGasPaymentMethod/SelectGasPaymentMethod.tsx"),H.register(N,"SelectGasPaymentMethod","/workspaces/apps/extension/src/screens/Trade/steps/SelectGasPaymentMethod/SelectGasPaymentMethod.tsx")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},54149:(e,t,n)=>{n.d(t,{T:()=>B});var r=n(14041),a=n(32183),o=n(8867),s=n(63878),i=n(70846),l=n(32596),c=n(99172);class u extends c.lg{constructor(e,t,n=!1){super(e,n),this.isTestnet=n,this.balance=t}static fromSupportedChainWithBalance(e,t){return new u(`${e.prefix}:${e.chainId}`,t,!1)}static fromNetworkRawValue(e,t){const n=e.split("/");if(2!==n.length)throw new Error("Invalid rawValue");const r=n[0],a=JSON.parse(n[1]);return new u(r,t,a)}}var d,p=n(70918),f=n(57822),g=n(89029),m=n(10058),y=n(4681),v=n(546),b=n(33396),w=n(37121),h=n(15654),S=n(94330),x=n(52331),k=n(85524),A=n(53107),C=n(85923),T=n(10654),I=n(31085);e=n.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);var M,L,j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},G=60,E=(0,a.YK)({title:{id:"yGY9eN",defaultMessage:[{type:0,value:"Select network"}]},learnMoreMessage:{id:"zClqkq",defaultMessage:[{type:0,value:"Not sure? Learn the difference between Ethereum, Polygon, and other networks in our help center."}]},learnMore:{id:"o0ymWu",defaultMessage:[{type:0,value:"Learn more"}]}}),P="https://www.coinbase.com/wallet/getting-started-extension";function H(){var e=(0,o.A)().formatMessage,t=(0,T.H)(),n=(0,i.KA)({chainDetails:t}),a=(0,r.useCallback)((function(){n(),chrome.tabs.create({url:P,active:!1})}),[n]);return(0,I.jsx)(h.T,{paddingX:3,paddingBottom:3,children:(0,I.jsxs)(S.C,{as:"span",paddingTop:2,color:"fgMuted",children:[e(E.learnMoreMessage)," ",(0,I.jsx)(x.N,{testID:"trade-select-network-learn-more",href:P,onClick:a,children:e(E.learnMore)})]})})}function O(){var e=(0,C.b)(),t=(0,o.A)().formatMessage,n=(0,p.h)(),a=(0,f.e)(n),d=(0,k.aT)().supportedChains,S=(0,w.A)(A.Zd),x=S.selectedNetwork,M=S.targetAssetId,L=S.targetAssetContractAddress,j=S.shouldUpdateCryptoAmount,P=(0,l.F)(a),O=(0,T.H)(),B=(0,i.bS)({chainDetails:O}),D=(0,i.b1)({chainDetails:O}),F=(0,i.Db)({chainDetails:O}),N=(0,b.lE)(A.Im).goBack,R=(0,r.useRef)(null),W=(0,r.useMemo)((function(){var e=d.reduce((function(e,t){return e.set(c.lg.fromSupportedChain(t).rawValue,t),e}),new Map),t=[];return P.forEach((function(n,r){var a=e.get(r);a&&t.push(a)})),t}),[P,d]),V=(0,r.useCallback)((function(){B(),N()}),[N,B]),_=(0,r.useCallback)((function(t){var n=x.value.asChain(),r=null==t?void 0:t.asChain(),a={previousChainId:null==n?void 0:n.chainId,nextChainId:null==r?void 0:r.chainId};t?(e({key:"selectedNetwork",value:t.rawValue.split("/")[0],clearPreviousContext:!0}),D(a),x.onChange(t),M.onChange(""),L.onChange(""),x.value!==t&&j.onChange(!0),N()):F(a)}),[x,e,D,M,L,N,F,j]),U=(0,r.useCallback)((function(e){var t,n,r=e.key,a=e.index,o=e.style,s=null!==(t=W[a])&&void 0!==t?t:void 0;if(s){var i=c.lg.fromSupportedChain(s),l=null!==(n=P.get(i.rawValue))&&void 0!==n?n:new g.Decimal(0),d=u.fromSupportedChainWithBalance(s,l);return(0,I.jsx)("div",{style:o,children:(0,I.jsx)(v._,{network:d,selected:c.lg.isEqual(x.value,i),onPress:_,disabled:s.isDisabled})},r)}}),[P,_,x.value,W]);return(0,I.jsxs)(y.ff,{header:(0,I.jsx)(m.jq,{variant:"secondary",title:t(E.title),handleBack:V}),height:"100%",children:[(0,I.jsx)(h.T,{ref:R,flexGrow:1,paddingX:3,children:(0,I.jsx)(s.PG,{scrollElement:R.current,children:function(e){var t=e.height,n=e.scrollTop;return(0,I.jsx)(s.t$,{disableHeight:!0,defaultHeight:t,children:function(e){var t=e.width,r=e.height;return(0,I.jsx)(s.B8,{autoHeight:!0,height:r||300,width:t||345,scrollTop:n,rowHeight:G,rowRenderer:U,rowCount:W.length,overscanRowCount:5})}})}})},"select-network-step-scroller"),(0,I.jsx)(H,{})]})}function B(){return(0,I.jsx)(r.Suspense,{fallback:null,children:(0,I.jsx)(O,{})})}j(H,"useIntl{{ formatMessage }}\nuseSwapAnalyticsDetails{chainDetails}\nuseNetworkSwitcherLearnMore{triggerAnalyticsLearnMore}\nuseCallback{onLearnMorePress}",(function(){return[o.A,T.H,i.KA]})),j(O,"usePersistTradeContext{persistTradeContext}\nuseIntl{{ formatMessage }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseWalletsForWalletGroupId{wallets}\nuseConvertContext{{ supportedChains }}\nuseFields{{ selectedNetwork, targetAssetId, targetAssetContractAddress, shouldUpdateCryptoAmount }}\nuseNetworkBalances{networkBalanceMap}\nuseSwapAnalyticsDetails{chainDetails}\nuseNetworkSwitcherClose{triggetAnalyticsClose}\nuseNetworkSwitcherToggleNetwork{triggerAnalyticsToggle}\nuseNetworkSwitcherToggleNetworkError{triggerAnalyticsToggleError}\nuseStepper{{ goBack }}\nuseRef{container}\nuseMemo{sortedSupportedChains}\nuseCallback{onGoBack}\nuseCallback{onItemSelected}\nuseCallback{renderRow}",(function(){return[C.b,o.A,p.h,f.e,k.aT,w.A,l.F,T.H,i.bS,i.b1,i.Db,b.lE]})),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(G,"LIST_ITEM_SIZE","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),M.register(E,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),M.register(P,"LEARN_MORE_LINK","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),M.register(H,"LearnMoreSection","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),M.register(O,"SelectNetworkStepContent","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx"),M.register(B,"SelectNetworkStep","/workspaces/apps/extension/src/screens/Trade/steps/SelectNetworkStep/SelectNetworkStep.tsx")),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)},21255:(e,t,n)=>{n.d(t,{s:()=>x});var r,a=n(14041),o=n(32183),s=n(8867),i=n(70846),l=n(68805),c=n(70918),u=n(431),d=n(33396),p=n(37121),f=n(58570),g=n(53107),m=n(85923),y=n(10654),v=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var b,w,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S=(0,o.YK)({title:{id:"YnPiDU",defaultMessage:[{type:0,value:"From asset"}]}});function x(){var e=(0,m.b)(),t=(0,s.A)().formatMessage,n=(0,d.lE)(g.Im),r=n.goBack,o=n.goToStep,b=(0,p.A)(g.Zd),w=b.sourceWalletId,h=b.targetAssetId,x=b.cryptoAmount,k=b.selectedNetwork,A=b.shouldUpdateCryptoAmount,C=(0,c.h)(),T=(0,u.B)(C,{network:k.value}),I=(0,y.H)(),M=(0,i.Lg)({chainDetails:I}),L=(0,l.U)(),j=(0,a.useCallback)((function(t){M({selectedWallet:t.id}),w.onChange(t.id),w.value!==t.id&&A.onChange(!0),e({key:"sourceWalletId",value:t.id}),e({key:"cryptoAmount",value:Number(x.value)}),L(t),o("entry")}),[M,w,e,x.value,L,o,A]);return(0,v.jsx)(f.j,{testIdPrefix:"dex-from",showNetworkSelection:!0,wallets:T,onBack:r,onSelect:j,network:k.value,customNavTitle:t(S.title),targetAssetId:h.value,context:f.P.Swap})}h(x,"usePersistTradeContext{persistTradeContext}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseFields{{ sourceWalletId, targetAssetId, cryptoAmount, selectedNetwork, shouldUpdateCryptoAmount }}\nuseActiveWalletGroupId{walletGroupId}\nuseSwappableWallets{wallets}\nuseSwapAnalyticsDetails{chainDetails}\nuseTradeSelectWallet{triggerAnalyticsSelectWallet}\nusePersistAssetSelection{persistSelection}\nuseCallback{handleSelect}",(function(){return[m.b,s.A,d.lE,p.A,c.h,u.B,y.H,i.Lg,l.U]})),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(S,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SelectSourceStep/SelectSourceStep.tsx"),b.register(x,"SelectSourceStep","/workspaces/apps/extension/src/screens/Trade/steps/SelectSourceStep/SelectSourceStep.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},4445:(e,t,n)=>{n.d(t,{f:()=>O});var r,a=n(14041),o=n(32183),s=n(8867),i=n(86090),l=n(70846),c=n(10611),u=n(56128),d=n(87432),p=n(11993),f=n(32451),g=n(66446),m=n(52617),y=n(4118),v=n(33396),b=n(37121),w=n(87755),h=n(53107),S=n(85923),x=n(56306),k=n(74538),A=n(10654),C=n(58773),T=n(31085);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var G,E,P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=(0,o.YK)({title:{id:"2WQ44S",defaultMessage:[{type:0,value:"You're swapping "},{type:1,value:"formattedTitleAmounts"},{type:0,value:" for"}]},gaslessTitle:{id:"qlRiA7",defaultMessage:[{type:0,value:"Initiated a swap from "},{type:1,value:"formattedTitleAmounts"},{type:0,value:" to"}]},gaslessDescription:{id:"DI3D/V",defaultMessage:[{type:1,value:"networkFee"},{type:0,value:" deducted from your swap to cover the "},{type:1,value:"network"},{type:0,value:" network fee"}]},done:{id:"r5qei9",defaultMessage:[{type:0,value:"Done"}]},viewTransactions:{id:"7gEbQd",defaultMessage:[{type:0,value:"View transactions"}]},viewOnExtension:{id:"/fDoaf",defaultMessage:[{type:0,value:"The status of this transaction is available in your Coinbase Wallet browser extension."}]},solanaDisclaimer:{id:"dJiffD",defaultMessage:[{type:0,value:"Asset will appear in your wallet when swap is complete"}]}});function O(){var e=(0,s.A)().formatMessage,t=(0,b.A)(h.Zd),n=t.cryptoAmount,r=t.targetAssetId,o=t.sourceWalletId,I=t.ledgerSwapError,M=t.swapTradeResponse.value,j=t.browserMode,G=t.selectedNetwork.value,E=t.mode.value,P=t.networkFeeInFiat.value,O=(0,A.H)(),B=(0,l.or)({chainDetails:O}),D=(0,v.lE)(h.Im).goBack,F=(0,i.W6)(),N=(0,y.z)((0,f.y9)(f.fO.swap),f.vm.trigger_swap,{logMetric:!0}).end;if((0,a.useEffect)((function(){!I.value&&M&&N()}),[I,N,M]),!M)throw new Error("swapTradeResponse was missing in StatusStep");var R=(0,u.Q)(M),W=R.sourceFiatAmount,V=R.sourceCryptoAmount,_=R.targetFiatAmount,U=R.targetCryptoAmount,z=(0,S.b)(),q=(0,x.T)();(0,d.y)((function(){var e=q();return(null==e?void 0:e.stepperPosition)!==k.H.STATUS&&z({key:"stepperPosition",value:k.H.STATUS}),B({cryptoAmount:Number(n.value),sourceWalletId:o.value,targetAssetId:r.value,sourceFiatAmount:W,sourceCryptoAmount:V,targetFiatAmount:_,targetCryptoAmount:U}),(0,l.XX)(),function(){I.value&&(null==I||I.onChange(void 0))}}));var K=(0,a.useCallback)((function(){F.replace("/portfolio")}),[F]),X=(0,a.useCallback)((function(){F.replace("/transactions")}),[F]),Y=(0,a.useMemo)((function(){return{key:"done-button",name:"doneButton",onClick:K,loading:!1,variant:"primary",block:!0,children:e(H.done)}}),[e,K]),Q=(0,a.useMemo)((function(){return{key:"view-transactions-button",name:"viewTransactionsButton",onClick:X,loading:!1,testID:"status-view-transactions-button",variant:"secondary",block:!0,children:e(H.viewTransactions)}}),[e,X]),Z=(0,a.useMemo)((function(){var e=W?"(".concat(W,")"):"";return"".concat(V," ").concat(e)}),[V,W]),$=(0,a.useMemo)((function(){var e=_?"(".concat(_,")"):"";return"".concat(U," ").concat(e)}),[U,_]),J=(0,a.useMemo)((function(){var t=E===p.z.Normal?H.title:H.gaslessTitle;return e(t,{formattedTitleAmounts:Z})}),[e,Z,E]),ee=(0,a.useMemo)((function(){var t;return j.value?e(H.viewOnExtension):E===p.z.Normal?j.value?e(H.viewOnExtension):void 0:e(H.gaslessDescription,{networkFee:P,network:null===(t=G.asChain())||void 0===t?void 0:t.displayName})}),[j.value,e,E,P,G]),te=(0,a.useMemo)((function(){if(O.chainId===c.D.whitelisted.SOLANA_MAINNET.chainId)return e(H.solanaDisclaimer)}),[O,e]);if(I.value){var ne,re,ae,oe=I.value;return(0,T.jsx)(g.v,L(L({padding:2,elevation:1},C.V6),{},{children:(0,T.jsx)(w.D,{handleBack:D,statusCode:null!==(ne=oe.statusCode)&&void 0!==ne?ne:void 0,errorId:null!==(re=oe.id)&&void 0!==re?re:void 0,errorMessage:null!==(ae=oe.message)&&void 0!==ae?ae:void 0})}))}return(0,T.jsx)(m.x,{status:m.n.SUCCESS,title:J,description:ee,subtitle:$,descriptionColor:"fgMuted",primaryButtonProps:j.value?void 0:Y,secondaryButtonProps:j.value?void 0:Q,disclaimer:te})}P(O,"useIntl{{ formatMessage }}\nuseFields{{\n    cryptoAmount,\n    targetAssetId,\n    sourceWalletId,\n    ledgerSwapError,\n    swapTradeResponse: { value: swapTradeResponse },\n    browserMode,\n    selectedNetwork: { value: selectedNetwork },\n    mode: { value: mode },\n    networkFeeInFiat: { value: networkFee },\n  }}\nuseSwapAnalyticsDetails{chainDetails}\nuseStatusStepViewed{triggerAnalyticsStatusViewed}\nuseStepper{{ goBack: goBackOneStep }}\nuseHistory{history}\nuseExtensionPerfMark{{ end: markEndSwapwPerf }}\nuseEffect{}\nuseFormatTradeAmounts{{ sourceFiatAmount, sourceCryptoAmount, targetFiatAmount, targetCryptoAmount }}\nusePersistTradeContext{persistTradeContext}\nuseRetrieveTradeContext{retrieveTradeContext}\nuseOnMount{}\nuseCallback{goToPortfolio}\nuseCallback{goToTransactions}\nuseMemo{primaryButtonProps: ButtonProps<ButtonDefaultElement>}\nuseMemo{secondaryButtonProps: ButtonProps<ButtonDefaultElement>}\nuseMemo{formattedTitleAmounts}\nuseMemo{subtitleFormatted}\nuseMemo{title}\nuseMemo{description}\nuseMemo{disclaimer}",(function(){return[s.A,b.A,A.H,l.or,v.lE,i.W6,y.z,u.Q,S.b,x.T,d.y]})),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(H,"messages","/workspaces/apps/extension/src/screens/Trade/steps/StatusStep/StatusStep.tsx"),G.register(O,"StatusStep","/workspaces/apps/extension/src/screens/Trade/steps/StatusStep/StatusStep.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},67423:(e,t,n)=>{n.d(t,{z:()=>G});var r,a=n(14041),o=n(32183),s=n(8867),i=n(86090),l=n(70846),c=n(95930),u=n(10058),d=n(4681),p=n(23126),f=n(59706),g=n(33396),m=n(22115),y=n(85581),v=n(9197),b=n(2673),w=n(34107),h=n(15654),S=n(60149),x=n(53107),k=n(62230),A=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var C,T,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,o.YK)({nuxTitle:{id:"1Zrxbt",defaultMessage:[{type:0,value:"Get the best price when you swap"}]},nuxSubTitleNonCBPay:{id:"Bkf6Xt",defaultMessage:[{type:0,value:"Buy or transfer crypto to your Coinbase Wallet"}]},cbPayButton:{id:"nxVfG7",defaultMessage:[{type:0,value:"Add crypto to your wallet"}]},title:{id:"vw3qM7",defaultMessage:[{type:0,value:"Get the best price on swaps"}]},label:{id:"0mbUyO",defaultMessage:[{type:0,value:"We check multiple sources to save you time and get you the lowest price."}]},swapButton:{id:"7kEyER",defaultMessage:[{type:0,value:"Swap now"}]},learnMoreButton:{id:"KhQxU2",defaultMessage:[{type:0,value:"Learn more"}]},priceCheckLabel:{id:"XNj/ck",defaultMessage:[{type:0,value:"Price checks on over 75 DEXes"}]},priceCheckDescription:{id:"9J2IuV",defaultMessage:[{type:0,value:"We check over 75 DEXes for the best route and price on your swap."}]},tokensLabel:{id:"MBy8Cb",defaultMessage:[{type:0,value:"Trade over 2 million tokens"}]},tokensDescription:{id:"4lvTiJ",defaultMessage:[{type:0,value:"Swap on Base, Ethereum, Arbitrum, Optimism, Polygon, Solana, BNB, and Avalanche networks."}]},simulationLabel:{id:"MKSPCG",defaultMessage:[{type:0,value:"Protected with swap simulation"}]},simulationDescription:{id:"IZpBIZ",defaultMessage:[{type:0,value:"Avoid losing funds with swap simulations. We\u2019ll warn you if your swap might fail."}]},btnGroupA11yText:{id:"0ElHKg",defaultMessage:[{type:0,value:"Action buttons"}]}}),L="true",j={paddingY:0,paddingX:1};function G(){var e=(0,s.A)().formatMessage,t=(0,i.W6)().goBack,n=(0,g.lE)(x.Im).goToStep;(0,l.O)();var r=(0,a.useCallback)((function(){localStorage.setItem(k.a,L)}),[]),o=(0,a.useCallback)((function(){r(),n("entry")}),[n,r]),C=(0,a.useCallback)((function(){r(),t()}),[t,r]),T=(0,a.useCallback)((function(){(0,l.RA)(),chrome.tabs.create({url:c.jW,active:!1})}),[]);return(0,A.jsxs)(d.ff,{header:(0,A.jsx)(u.jq,{handleBack:C}),height:"100%",children:[(0,A.jsxs)(h.T,{alignItems:"center",paddingX:3,overflow:"scroll",children:[(0,A.jsx)(f.t,{illustration:"SwapNuxMiami",alt:e(M.title),children:(0,A.jsx)(w.g,{name:"transferCoins"})}),(0,A.jsx)(h.T,{paddingTop:1,children:(0,A.jsx)(S.f,{as:"h1",paddingTop:1,paddingBottom:1,children:e(M.title)})}),(0,A.jsx)(v.g,{title:e(M.priceCheckLabel),description:e(M.priceCheckDescription),media:(0,A.jsx)(b.In,{name:"checkmark",size:"s",color:"fg",paddingTop:.5}),innerSpacing:p.O,outerSpacing:j}),(0,A.jsx)(v.g,{title:e(M.tokensLabel),description:e(M.tokensDescription),media:(0,A.jsx)(b.In,{name:"checkmark",size:"s",color:"fg",paddingTop:.5}),innerSpacing:p.O,outerSpacing:j}),(0,A.jsx)(v.g,{title:e(M.simulationLabel),description:e(M.simulationDescription),media:(0,A.jsx)(b.In,{name:"checkmark",size:"s",color:"fg",paddingTop:.5}),innerSpacing:p.O,outerSpacing:j})]}),(0,A.jsx)(h.T,{paddingX:3,paddingBottom:3,children:(0,A.jsxs)(m.e,{block:!0,accessibilityLabel:e(M.btnGroupA11yText),direction:"vertical",children:[(0,A.jsx)(y.$n,{block:!0,onClick:o,testID:"swap-nux-swap-button",compact:!0,children:e(M.swapButton)}),(0,A.jsx)(y.$n,{block:!0,compact:!0,onClick:T,testID:"swap-nux-learn-more-button",variant:"secondary",children:e(M.learnMoreButton)})]})})]})}I(G,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseLogSwapNuxViewed{}\nuseCallback{updateLocalStorage}\nuseCallback{handlePress}\nuseCallback{handleGoBack}\nuseCallback{handleLearnMorePress}",(function(){return[s.A,i.W6,g.lE,l.O]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(M,"messages","/workspaces/apps/extension/src/screens/Trade/steps/SwapNux/SwapNux.tsx"),C.register(L,"localStorageValue","/workspaces/apps/extension/src/screens/Trade/steps/SwapNux/SwapNux.tsx"),C.register(j,"zeroCellSpacing","/workspaces/apps/extension/src/screens/Trade/steps/SwapNux/SwapNux.tsx"),C.register(G,"SwapNux","/workspaces/apps/extension/src/screens/Trade/steps/SwapNux/SwapNux.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},94289:(e,t,n)=>{n.d(t,{O:()=>c});var r,a=n(14041);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var o,s,i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},l={1:"28",137:"21",56:"23",43114:"11",10:"9"};function c(e){return(0,a.useMemo)((function(){return e?l[Number(e)]:""}),[e])}i(c,"useMemo{}"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(l,"SOURCES_BY_CHAIN_ID","/workspaces/libs/data/hooks/Swap/useNumSourcesByChain.tsx"),o.register(c,"useNumSourcesByChain","/workspaces/libs/data/hooks/Swap/useNumSourcesByChain.tsx")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},14617:(e,t,n)=>{n.d(t,{m:()=>I});var r,a=n(14041),o=n(32183),s=n(8867),i=n(84213),l=n(77547),c=n(13620),u=n(58910),d=n(16191),p=n(4244),f=n(72940),g=n(27301),m=n(52689),y=n(7427),v=n(84632),b=n(99172),w=n(8612),h=n(52978),S=n(57822),x=n(34767);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var k,A,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},T=(0,o.YK)({unknownTitle:{id:"6EOiA+",defaultMessage:[{type:0,value:"Unknown value"}]},unknownMessage:{id:"UkksDE",defaultMessage:[{type:0,value:"The "},{type:1,value:"fiatCurrency"},{type:0,value:" value of "},{type:1,value:"currencyCode"},{type:0,value:" is unknown. Verify that you're getting the expected amount."}]},highPriceImpactTitle:{id:"8Mrpml",defaultMessage:[{type:0,value:"High price impact"}]},highPriceImpactMessage:{id:"Hjwc8H",defaultMessage:[{type:0,value:"Due to high price impact, you\u2019ll lose a lot of value on this swap. Try a different token."}]},notEnoughBalanceForMinerFeeMessage:{id:"IZUdH3",defaultMessage:[{type:0,value:"You have "},{type:1,value:"fiatTotalAvailableBalance"},{type:0,value:" in "},{type:1,value:"cryptoSymbol"},{type:0,value:", but you need a total of "},{type:1,value:"fiatTotalTransactionValue"},{type:0,value:" to proceed."}]},learnMore:{id:"9DtuSP",defaultMessage:[{type:0,value:"Learn more"}]},failureWarningMessage:{id:"Z3+b9o",defaultMessage:[{type:0,value:"This transaction will likely fail. If it does, you'll lose the network fee."}]},notEnoughBalanceMagicSpend:{id:"kKYZg6",defaultMessage:[{type:0,value:"You don\u2019t have enough in your smart wallet ("},{type:1,value:"fiatTotalTransactionValue"},{type:0,value:"), but you\u2019ll be able to complete this purchase using Connect to Coinbase on the confirmation page."}]}});function I(e,t){var n=t.swapTrade,r=t.unsignedApproveTx,o=t.unsignedSwapTx,k=t.sourceFiatValue,A=t.targetFiatValue,C=t.isMagicSpendEnabled,I=void 0!==C&&C,M=(0,s.A)().formatMessage,L=(0,p.J9)(),j=(0,f.VL)({unsignedEthTx:o,unsignedApproveTx:r}),G=j.networkMaxFee,E=j.networkEstimatedFee,P=(0,a.useRef)(!1),H=(0,w.X)(e,{network:n.quote.fromAsset.network}),O=(0,S.e)(e).find((function(e){return m.j.isEqual(e.currencyCode,o.feeCurrencyCode)&&g.J.isEqual(e.blockchain,o.blockchain)&&b.lg.isEqual(e.network,o.network)})),B=(0,a.useMemo)((function(){var e,t,r;null!=O&&O.isSolanaNetwork()?e=n.quote.fromAsset.currencyCode.rawValue===u.KN?BigInt(null!==(t=n.tx.value)&&void 0!==t?t:0):0n:e=n.tx.from===(null==O?void 0:O.primaryAddress)?BigInt(null!==(r=n.tx.value)&&void 0!==r?r:0):0n;return(o instanceof c.U?E:G)+e}),[n.quote.fromAsset.currencyCode.rawValue,n.tx.from,n.tx.value,O,o,E,G]),D=(0,a.useMemo)((function(){return void 0!==(null==O?void 0:O.balance)&&O.balance>=B}),[O,B]),F=(0,h.S)()(O),N=(0,y.vQ)(null==F?void 0:F.accountId),R=(0,v.n)(),W=(0,a.useMemo)((function(){var e,t,r=null==O?void 0:O.network.asChain();return k?A||(t=n.quote.toAsset.currencyCode.code):t=n.quote.fromAsset.currencyCode.code,{unknownValue:{type:"unknownValue",title:M(T.unknownTitle),isDismissible:!1,showErrorIcon:!0,message:M(T.unknownMessage,{fiatCurrency:R.name,currencyCode:t}),analytics:{eventName:"trade.confirmation_preview_step.unknown_value",eventProperties:{componentType:x.I5.text,action:x.X2.render,chainDisplayName:null==r?void 0:r.displayName,isStandalone:null==N?void 0:N.hasLocallyStoredKey,isLayer2:null==r?void 0:r.isLayer2,isTestnet:null==r?void 0:r.isTestnet,sourceAsset:n.quote.fromAsset.currencyCode.code,targetAsset:n.quote.toAsset.currencyCode.code,errorAsset:t}}},highPriceImpact:{type:"highPriceImpact",title:M(T.highPriceImpactTitle),isDismissible:!1,showErrorIcon:!0,message:M(T.highPriceImpactMessage),analytics:{eventName:"trade.confirmation_preview_step.high_price_impact",eventProperties:{componentType:x.I5.text,action:x.X2.render,chainDisplayName:null==r?void 0:r.displayName,isStandalone:null==N?void 0:N.hasLocallyStoredKey,isLayer2:null==r?void 0:r.isLayer2,isTestnet:null==r?void 0:r.isTestnet}}},notEnoughBalanceForMinerFee:{type:"notEnoughBalanceForMinerFee",isDismissible:!1,showErrorIcon:!0,message:M(T.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:o.feeCurrencyCode.code,fiatTotalAvailableBalance:void 0!==(null==O?void 0:O.balance)&&null!=O&&O.currencyCode?L.formatToFiat({fromCurrencyCode:O.currencyCode,decimals:O.decimals,value:O.balance,isAbbreviated:!1,contractAddress:O.contractAddress,network:O.network,blockchain:O.blockchain,includeCode:!0,formatZeroBalance:!0}):"",fiatTotalTransactionValue:O?L.formatToFiat({fromCurrencyCode:o.feeCurrencyCode,decimals:o.feeCurrencyDecimal,value:B,isAbbreviated:!1,contractAddress:void 0,network:O.network,blockchain:O.blockchain}):""}),analytics:{eventName:"trade.confirmation_preview_step.not_enough_eth_balance",eventProperties:{componentType:x.I5.text,action:x.X2.render,totalEthereumRequired:Number(B)}}},notEnoughBalanceMagicSpend:{type:"notEnoughBalanceMagicSpend",isDismissible:!1,showErrorIcon:!0,message:M(T.notEnoughBalanceMagicSpend,{fiatTotalTransactionValue:O?L.formatToFiat({fromCurrencyCode:o.feeCurrencyCode,decimals:o.feeCurrencyDecimal,value:B,isAbbreviated:!1,contractAddress:void 0,network:O.network,blockchain:O.blockchain}):""}),analytics:{eventName:"trade.confirmation_preview_step.not_enough_eth_balance_magic_spend",eventProperties:{componentType:x.I5.text,action:x.X2.render,totalEthereumRequired:Number(B)}}},zeroBalanceForMinerFee:{type:"zeroBalanceForMinerFee",message:null!==(e=null==H?void 0:H.message)&&void 0!==e?e:"",isDismissible:!1,showErrorIcon:!0},warning:{type:"warning",isDismissible:!1,showErrorIcon:!0,message:M(T.failureWarningMessage),analytics:{eventName:"trade.confirmation_preview_step.warning",eventProperties:{componentType:x.I5.text,action:x.X2.render}}},primeCannotInitiate:{type:"primeCannotInitiate",message:"Only users with initiate permission can initiate transactions.",isDismissible:!1,showErrorIcon:!0,analytics:{eventName:"trade.confirmation_preview_step.cannot_initiate",eventProperties:{componentType:x.I5.text,action:x.X2.render}}}}}),[O,k,A,M,R.name,null==N?void 0:N.hasLocallyStoredKey,n.quote.fromAsset.currencyCode.code,n.quote.toAsset.currencyCode.code,o.feeCurrencyCode,o.feeCurrencyDecimal,L,B,null==H?void 0:H.message]);return(0,a.useMemo)((function(){var e=o.network.asChain(),t=0n,r=0n,a=0n;return o instanceof l.D?(t=o.maxFeePerGas/BigInt(Math.pow(10,9)),r=BigInt(o.gasLimit)):(o instanceof c.U&&(t=o.gasPrice/BigInt(Math.pow(10,9)),r=o.gasLimit),o instanceof d.K&&(a=o.estimatedFee)),k&&A?H?I?W.notEnoughBalanceMagicSpend:W.zeroBalanceForMinerFee:D?n.quote.warning?W.warning:n.quote.highPriceImpact?W.highPriceImpact:void 0:(P.current||(P.current=!0,(0,i.NZ)({blockchain:o.blockchain.rawValue,chainName:e.displayName,chainId:e.chainId.toString(10),errorType:"InsufficientBalance",errorMessage:"Insufficient balance to pay gas fee",txSource:"dex".toLocaleString(),gasPriceInGwei:t.toString(),gasLimit:r.toString(),solanaGasPrice:a.toString()})),I?W.notEnoughBalanceMagicSpend:W.notEnoughBalanceForMinerFee):W.unknownValue}),[W.highPriceImpact,W.notEnoughBalanceForMinerFee,W.notEnoughBalanceMagicSpend,W.unknownValue,W.warning,W.zeroBalanceForMinerFee,D,I,k,n.quote.highPriceImpact,n.quote.warning,A,o,H])}C(I,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkMaxFee, networkEstimatedFee }}\nuseRef{hasDispatchedGasAnalyticsEvent}\nuseBaseAssetZeroBalanceError{zeroNativeAssetError}\nuseWalletsForWalletGroupId{wallets}\nuseMemo{totalBaseAssetTokenRequired}\nuseMemo{hasEnoughBalance}\nuseGetWalletGroupForWallet{getWalletGroupForWallet}\nuseAccountById{account}\nuseActiveFiatCurrency{activeFiatCurrency}\nuseMemo{errors: ErrorMap}\nuseMemo{}",(function(){return[s.A,p.J9,f.VL,w.X,S.e,h.S,y.vQ,v.n]})),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(T,"messages","/workspaces/libs/data/hooks/Swap/useTransactionDetailErrors/useTransactionDetailErrors.tsx"),k.register(I,"useTransactionDetailErrors","/workspaces/libs/data/hooks/Swap/useTransactionDetailErrors/useTransactionDetailErrors.tsx")),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&A(e)},84447:(e,t,n)=>{n.d(t,{N:()=>f});var r,a,o,s=n(14041),i=n(77547),l=n(4244),c=n(72940),u=n(77344),d=n(99172),p=n(80792);function f(e){var t=e.unsignedApproveTx,n=e.unsignedSwapTx,r=e.swapQuote,a=e.chainId,o=(0,l.J9)(),f=(0,c.VL)({unsignedApproveTx:t,unsignedEthTx:n}),g=f.networkBaseFee,m=f.networkMaxFee,y=f.networkEstimatedFee,v=(0,s.useMemo)((function(){var e=n instanceof i.D?n.l1GasFee:0n;return o.fiatValue({currencyCode:n.feeCurrencyCode,decimals:n.feeCurrencyDecimal,value:null!=e?e:0n,contractAddress:void 0,network:d.lg.fromChainId({chainPrefix:(0,p.$Y)(a),chainId:a}),blockchain:n.blockchain})}),[a,o,n]);return(0,u.q)({swapQuote:r,networkEstimateFee:y,networkBaseFee:g,networkMaxFee:m,unsignedSwapTx:n,l1GasFeeInFiat:v}).isTradingMoreThanNetworkFee}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkBaseFee, networkMaxFee, networkEstimatedFee }}\nuseMemo{l1GasFeeInFiat}\nuseCalculateTransactionTotal{{ isTradingMoreThanNetworkFee }}",(function(){return[l.J9,c.VL,u.q]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(f,"useIsTradingMoreThanNetworkFee","/workspaces/libs/data/stores/Swap/hooks/useIsTradingMoreThanNetworkFee.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},64303:(e,t,n)=>{n.d(t,{r:()=>i});var r,a,o,s=n(71847);function i(){return(0,s.x)("standardize_errors_dex")?3:2}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useIsFeatureEnabled{hasStandardizeErrorsDex}",(function(){return[s.x]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(i,"useSwapAPIVersion","/workspaces/libs/data/stores/Swap/hooks/useSwapAPIVersion.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},65790:(e,t,n)=>{n.d(t,{p:()=>f});var r,a=n(91965),o=n(15654),s=n(84492),i=n(55799),l=n(26480),c=n(95312),u=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,p;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function f(){return(0,u.jsx)(o.T,{children:(0,u.jsxs)(s.z,{justifyContent:"space-between",alignItems:"center",children:[(0,u.jsx)(i.a,{width:"40px",height:"40px"}),(0,u.jsxs)(o.T,{width:108,children:[(0,u.jsx)(l.H4,{width:"100%",height:64}),(0,u.jsx)(c.h,{vertical:.5}),(0,u.jsx)(l.H4,{width:"100%",height:16})]}),(0,u.jsx)(a.K,{name:"arrowsVertical",variant:"secondary",testID:"flip-asset-btn"})]})})}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&d.register(f,"AmountInputFallback","/workspaces/libs/wallet-cds-extension/components/AmountInput/AmountInputFallback.tsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},61015:(e,t,n)=>{n.d(t,{BB:()=>y});var r,a=n(32183),o=n(8867),s=n(50866),i=n(19253),l=n(15654),c=n(84492),u=n(95312),d=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=247,g=40,m=(0,a.YK)({amount:{id:"KEf8wn",defaultMessage:[{type:0,value:"Amount"}]}});function y(){var e=(0,o.A)().formatMessage;return(0,d.jsx)(l.T,{testID:"disabled-amount-input",children:(0,d.jsx)(c.z,{justifyContent:"center",alignItems:"center",children:(0,d.jsx)(l.T,{width:"100%",alignItems:"center",children:(0,d.jsxs)(c.z,{width:"100%",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(u.h,{horizontal:1}),(0,d.jsx)(x,{scale:1,maxWidth:f,children:(0,d.jsxs)(k,{children:[(0,d.jsx)(w,{children:"$"}),(0,d.jsx)(C,{"data-testid":"currency-input","aria-label":e(m.amount),width:g,minLength:1,inputMode:"decimal",placeholder:"0",value:"",readOnly:!0},"input")]})})]})})})})}p(y,"useIntl{{\n    formatMessage\n  }}",(function(){return[o.A]}));var v,b,w=(0,s.I)("span")({name:"StyledSymbol",class:"s1ty2zvo",propsAsIs:!1}),h=function(){return function(e){return(0,i.p)(e.maxWidth)}},S=function(){return function(e){return(0,i.p)(e.scale)}},x=(0,s.I)("div")({name:"Container",class:"c1dk0jyb",propsAsIs:!1,vars:{"c1dk0jyb-0":[h(),"px"],"c1dk0jyb-1":[S()]}}),k=(0,s.I)("div")({name:"InputContainer",class:"i1m4401q",propsAsIs:!1}),A=function(){return function(e){return(0,i.p)(e.width)}},C=(0,s.I)("input")({name:"StyledInput",class:"s17j6s2u",propsAsIs:!1,vars:{"s17j6s2u-0":[A(),"px"]}});n(42733),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(f,"CONTAINER_MAX_WIDTH","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(g,"INITIAL_INPUT_WIDTH","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(m,"messages","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(y,"DisabledAmountInput","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(w,"StyledSymbol","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(h,"_exp2","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(S,"_exp3","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(x,"Container","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(k,"InputContainer","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(A,"_exp4","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx"),v.register(C,"StyledInput","/workspaces/libs/wallet-cds-extension/components/AmountInput/DisabledAmountInput.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},16205:(e,t,n)=>{n.d(t,{Y:()=>v,c:()=>x});var r,a=n(14041),o=n(32183),s=n(8867),i=n(74837),l=n(21476),c=n(2673),u=n(84492),d=n(55799),p=n(97541),f=n(52331),g=n(54126),m=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=function(e){return e.SWAP_TO_ASSET="swap_to_asset",e.SWAP_FROM_ASSET="swap_from_asset",e}({}),b=(0,o.YK)({contractAddressAccessibilityLabel:{id:"PS6aX4",defaultMessage:[{type:0,value:"Open contract link in the browser"}]}});function w(e){var t,n=e.asset,r=e.onSelect,o=e.disabled,y=e.testID,w=e.type,h=(0,s.A)().formatMessage,S=(0,a.useCallback)((function(e){e.stopPropagation()}),[]),x=(0,a.useMemo)((function(){var e;if(w!==v.SWAP_TO_ASSET)return null;var t=(0,i.q)(n);return t?(0,m.jsxs)(u.z,{alignItems:"center",children:[(0,m.jsx)(p.K,{as:"p",color:"fgMuted",children:(0,l.R)((null===(e=n.address)||void 0===e?void 0:e.rawValue)||"")}),(0,m.jsx)(f.N,{href:t,openInNewWindow:!0,accessibilityLabel:h(b.contractAddressAccessibilityLabel),onClick:S,children:(0,m.jsx)(d.a,{paddingY:2,paddingStart:2,children:(0,m.jsx)(c.In,{name:"externalLink",color:"fg",size:"s"})})})]}):null}),[n,h,S,w]);return(0,m.jsx)(g.B,{name:n.name,imageUrl:n.imageURL,currencyCode:n.currencyCode.rawValue,isDescriptionVisible:w===v.SWAP_TO_ASSET,network:n.network,showNetworkIcon:null===(t=n.network.asChain())||void 0===t?void 0:t.isLayer2,onSelect:r,disabled:o,testID:y,action:x})}y(w,"useIntl{{ formatMessage }}\nuseCallback{}\nuseMemo{action}",(function(){return[s.A]}));var h,S,x=(0,a.memo)(w);(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(b,"messages","/workspaces/libs/wallet-cds-extension/components/AssetRowItem.tsx"),h.register(w,"AssetRowItemComponent","/workspaces/libs/wallet-cds-extension/components/AssetRowItem.tsx"),h.register(x,"AssetRowItem","/workspaces/libs/wallet-cds-extension/components/AssetRowItem.tsx")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},97233:(e,t,n)=>{n.d(t,{e:()=>y});var r,a=n(79071),o=n.n(a),s=n(2673),i=n(84492),l=n(55799),c=n(15654),u=n(26480),d=n(95312),p=n(28118),f=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,m;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function y(){return(0,f.jsxs)(i.z,{paddingTop:3,paddingBottom:2,justifyContent:"center",alignItems:"center",position:"relative",testID:"nav-title-component",children:[(0,f.jsx)(l.a,{position:"absolute",left:16,children:(0,f.jsx)(p.o,{disabled:!0,as:"button",onClick:o(),background:"transparent",children:(0,f.jsx)(s.In,{name:"caretLeft",size:"m",color:"fg"})})}),(0,f.jsxs)(c.T,{width:150,position:"relative",alignItems:"center",top:0,children:[(0,f.jsx)(u.H4,{width:"100%",height:24}),(0,f.jsx)(d.h,{vertical:.5}),(0,f.jsx)(u.H4,{width:"100%",height:16})]})]})}(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&g.register(y,"NavTitleFallback","/workspaces/libs/wallet-cds-extension/components/NavTitle/NavTitleFallback.tsx"),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},546:(e,t,n)=>{n.d(t,{_:()=>b});var r,a,o,s=n(14041),i=n(84632),l=n(92881),c=n(89029),u=n(53232),d=n(2673),p=n(84492),f=n(55799),g=n(28118),m=n(39262),y=n(97541),v=n(31085);function b(e){var t=e.network,n=e.selected,r=e.onPress,a=e.disabled,o=(0,i.n)(),b=t.asChain(),w=(0,s.useCallback)((function(){null==r||r(t)}),[t,r]),h=(0,s.useMemo)((function(){var e,n=Intl.NumberFormat(void 0,{style:"currency",currency:o.code.rawValue}),r=Intl.NumberFormat(void 0,{style:"decimal",currency:o.code.rawValue,minimumFractionDigits:2,maximumFractionDigits:2});return(0,l.zJ)({integerFormatter:n,decimalFormatter:r,value:null!==(e=t.balance)&&void 0!==e?e:new c.Decimal(0)})}),[o.code.rawValue,t]);return(0,v.jsx)(g.o,{background:n?"bgAlternate":"bg",borderWidth:100,borderRadius:200,onClick:w,block:!0,transparentWhileInactive:!1,disabled:a,testID:"network-selector-item-".concat(null==b?void 0:b.chainId),children:(0,v.jsxs)(p.z,{justifyContent:"space-between",alignItems:"center",paddingStart:1,paddingEnd:2,paddingY:2,children:[(0,v.jsxs)(p.z,{alignItems:"center",children:[(0,v.jsx)(f.a,{paddingEnd:2,children:(0,v.jsx)(u.w,{network:t})}),(0,v.jsx)(m.w,{as:"p",color:"fg",children:null==b?void 0:b.displayName})]}),(0,v.jsxs)(p.z,{alignItems:"center",children:[(0,v.jsx)(y.K,{as:"p",color:"fg",children:h}),n&&(0,v.jsx)(d.In,{paddingStart:3,name:"checkmark",color:"fgPrimary",size:"s"})]})]})})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(b,"useActiveFiatCurrency{activeFiatCurrency}\nuseCallback{onClick}\nuseMemo{formattedBalance}",(function(){return[i.n]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(b,"NetworkListItem","/workspaces/libs/wallet-cds-extension/components/SelectNetwork/NetworkListItem.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},25884:(e,t,n)=>{n.d(t,{y:()=>p});var r,a=n(14041),o=n(85581),s=n(22115),i=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var l,c,u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},d=["1","2","3"];function p(e){var t=e.onOptionPress,n=(0,a.useCallback)((function(e){return function(){t(e)}}),[t]),r=(0,a.useMemo)((function(){return d.map((function(e){return(0,i.jsxs)(o.$n,{testID:"slippage-".concat(e,"-option"),variant:"secondary",compact:!0,onClick:n(e),children:[e,"%"]},"slippage-".concat(e,"-option"))}))}),[n]);return(0,i.jsx)(s.e,{block:!0,testID:"slippage-percentage-options",accessibilityLabel:"Group",children:r})}u(p,"useCallback{getOptionPressHandler}\nuseMemo{slippageOptions}"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(d,"DEFAULT_SLIPPAGE_OPTIONS","/workspaces/libs/wallet-cds-web/components/AdjustableSlippageButtonGroup/AdjustableSlippageButtonGroup.tsx"),l.register(p,"AdjustableSlippageButtonGroup","/workspaces/libs/wallet-cds-web/components/AdjustableSlippageButtonGroup/AdjustableSlippageButtonGroup.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},60744:(e,t,n)=>{n.d(t,{c:()=>b});var r,a=n(32183),o=n(8867),s=n(71096),i=n(12784),l=n.n(i),c=n(20853),u=n(22115),d=n(85581),p=n(15654),f=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,m,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,a.YK)({customAmountTitle:{id:"zdKIox",defaultMessage:[{type:0,value:"Custom amount"}]},customAmountHelperText:{id:"ZV6Uj6",defaultMessage:[{type:0,value:"Enter a value between 0.1% and 99%"}]},primaryCTAButton:{id:"6DBrUy",defaultMessage:[{type:0,value:"Save"}]}});function b(e){var t=e.validationSchema,n=e.initialValues,r=e.onSubmit,a=e.isLoading,i=void 0!==a&&a,g=(0,o.A)().formatMessage;return(0,f.jsx)(s.l1,{initialValues:n,validationSchema:t,onSubmit:r,validateOnBlur:!1,children:function(e){var t=e.isSubmitting,n=e.dirty,r=e.isValid,a=e.handleBlur;return(0,f.jsx)(s.lV,{children:(0,f.jsxs)(p.T,{gap:3,children:[(0,f.jsx)(p.T,{height:"120px",children:(0,f.jsx)(c.b,{testID:"custom-slippage-input",name:"slippage",label:g(v.customAmountTitle),defaultHelperText:g(v.customAmountHelperText),suffix:"%",autoComplete:"off",onKeyUp:l()(a,300)})}),(0,f.jsx)(p.T,{paddingBottom:1,children:(0,f.jsx)(u.e,{block:!0,accessibilityLabel:"cta-button-group",children:(0,f.jsx)(d.$n,{testID:"custom-slippage-save-btn",type:"submit",variant:"primary",loading:t||i,disabled:!(n&&r)||i,children:g(v.primaryCTAButton)})})})]})})}})}y(b,"useIntl{{ formatMessage }}",(function(){return[o.A]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(v,"messages","/workspaces/libs/wallet-cds-web/components/AdjustableSlippageCustomInput/AdjustableSlippageCustomInput.tsx"),g.register(b,"AdjustableSlippageCustomInput","/workspaces/libs/wallet-cds-web/components/AdjustableSlippageCustomInput/AdjustableSlippageCustomInput.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},95924:(e,t,n)=>{n.d(t,{b:()=>S});var r=n(14041),a=n(54736),o=n(71096),s=n(44031),i=n(50815),l=n(31085);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}e=n.hmd(e);var u,d=["name","rows","format","defaultHelperText","successHelperText","label"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var v,b,w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h={resize:"none"},S=(0,r.memo)((0,r.forwardRef)(w((function(e,t){var n=e.name,c=e.rows,u=e.format,p=e.defaultHelperText,g=void 0===p?"":p,y=e.successHelperText,v=void 0===y?"":y,b=e.label,w=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,d),S=m((0,o.Mt)(n),3),x=S[0],k=S[1],A=S[2],C=(0,r.useMemo)((function(){var e;return k.touched&&k.error?((0,a.C3)({error:k.error,label:b}),k.error):0===(null===(e=k.value)||void 0===e?void 0:e.length)?g:v}),[g,v,k,b]),T=(0,r.useCallback)((function(e){u&&e.target.value&&A.setValue(u(e.target.value)),x.onBlur(e)}),[u,A,x]),I=(0,r.useMemo)((function(){return c?(0,l.jsx)(s.q,f({rows:c,maxLength:w.maxLength,style:h,placeholder:w.placeholder,testID:w.testID},u?f(f({},x),{},{onBlur:T}):x)):null}),[c,w,x,u,T]),M=(0,r.useMemo)((function(){return I?f(f({},w),{},{inputNode:I}):f(f(f({},w),x),u?{onBlur:T}:null)}),[w,x,u,T,I]);return(0,l.jsx)(i.k,f({variant:k.touched&&k.error?"negative":void 0,minLength:1,label:b,helperText:C,ref:t},M))}),"useField{[field, meta, helpers]}\nuseMemo{helperText}\nuseCallback{handleBlur}\nuseMemo{inputNode}\nuseMemo{inputProps}",(function(){return[o.Mt]}))));(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(h,"textAreaStyle","/workspaces/libs/wallet-cds-web/components/ConnectedCdsTextInput/ConnectedCdsTextInput.tsx"),v.register(S,"ConnectedCdsTextInput","/workspaces/libs/wallet-cds-web/components/ConnectedCdsTextInput/ConnectedCdsTextInput.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},22279:(e,t,n)=>{n.d(t,{X:()=>i});var r,a,o,s=n(14041);function i(e){var t=e.onMountChange,n=e.children;return(0,s.useEffect)((function(){return t(!0),function(){return t(!1)}}),[t]),n}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useEffect{}"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(i,"SuspenseFallbackWatcher","/workspaces/libs/wallet-cds-web/components/SuspenseWithTransition/SuspenseFallbackWatcher.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},11648:(e,t,n)=>{n.d(t,{e:()=>f});var r,a=n(14041),o=n(89807),s=n(80630),i=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var l,c,u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},d=["loaded"],p=["loading"];function f(e){var t=e.fallback,n=e.children,r=e.speed,l=(0,s.S)(t),c=l.isLoaded,u=l.wrappedFallback,f=l.silentFallback,g=c?"loaded":"loading";return(0,i.jsxs)(o.nR,{step:g,speed:r,stickySteps:d,resetSteps:p,children:[(0,a.cloneElement)(f,{key:"loading"}),(0,i.jsx)(a.Suspense,{fallback:u,children:n},"loaded")]})}u(f,"useFallbackListener{{ isLoaded, wrappedFallback, silentFallback }}",(function(){return[s.S]})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(d,"stickySteps","/workspaces/libs/wallet-cds-web/components/SuspenseWithTransition/SuspenseWithTransition.tsx"),l.register(p,"resetSteps","/workspaces/libs/wallet-cds-web/components/SuspenseWithTransition/SuspenseWithTransition.tsx"),l.register(f,"SuspenseWithTransition","/workspaces/libs/wallet-cds-web/components/SuspenseWithTransition/SuspenseWithTransition.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},80630:(e,t,n)=>{n.d(t,{S:()=>p});var r,a,o,s=n(14041),i=n(22279),l=n(31085);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(){}function p(e){var t=c((0,s.useState)(!0),2),n=t[0],r=t[1],a=(0,s.useCallback)((function(e){r(!e)}),[]);return{isLoaded:n,wrappedFallback:(0,l.jsx)(i.X,{onMountChange:a,children:e}),silentFallback:(0,l.jsx)(i.X,{onMountChange:d,children:e})}}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(p,"useState{[isLoaded, setIsLoaded](true)}\nuseCallback{onMountChange}"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(d,"ignoreMountChange","/workspaces/libs/wallet-cds-web/components/SuspenseWithTransition/useFallbackListener.tsx"),a.register(p,"useFallbackListener","/workspaces/libs/wallet-cds-web/components/SuspenseWithTransition/useFallbackListener.tsx")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},4930:(e,t,n)=>{n.r(t)},1946:(e,t,n)=>{n.r(t)},42733:(e,t,n)=>{n.r(t)},60102:(e,t,n)=>{n.d(t,{BO:()=>i,Ij:()=>s,V4:()=>o,uO:()=>r,wD:()=>a});const r=33e3,a=45,o=80,s=425,i=370},62230:(e,t,n)=>{n.d(t,{a:()=>a,h:()=>o});var r=n(14041);const a="hasViewedSwapNUXV2";function o(){return(0,r.useMemo)((()=>!localStorage.getItem(a)),[])}},35333:(e,t,n)=>{n.d(t,{D:()=>a});var r=n(16191);function a(e){return e instanceof r.K}},56128:(e,t,n)=>{n.d(t,{Q:()=>l});var r=n(14041),a=n(98763),o=n(4244),s=n(99172),i=n(80792);function l(e){const t=(0,o.J9)(),n=e.quote,l="SOL"===n.fromAsset.currencyCode.rawValue?void 0:n.fromAsset.address?.rawValue,c="SOL"===n.toAsset.currencyCode.rawValue?void 0:n.toAsset.address?.rawValue,u=(0,r.useMemo)((()=>t.fiatValue({currencyCode:n.fromAsset.currencyCode,decimals:n.fromAsset.decimals,value:n.fromAmount,contractAddress:l,network:s.lg.fromChainId({chainPrefix:(0,i.$Y)(n.fromAsset.chainId),chainId:n.fromAsset.chainId}),blockchain:void 0,digitsToFixed:2})),[t,l,n.fromAmount,n.fromAsset.chainId,n.fromAsset.currencyCode,n.fromAsset.decimals]),d=(0,r.useMemo)((()=>{if(u)return t.fiatValueString(u)}),[t,u]),p=(0,r.useMemo)((()=>t.formatToCrypto({currencyCode:n.fromAsset.currencyCode,decimals:n.fromAsset.decimals,value:n.fromAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})),[t,n.fromAmount,n.fromAsset.currencyCode,n.fromAsset.decimals]),f=(0,r.useMemo)((()=>t.fiatValue({currencyCode:n.toAsset.currencyCode,decimals:n.toAsset.decimals,value:n.toAmount,contractAddress:c,network:s.lg.fromChainId({chainPrefix:(0,i.$Y)(n.toAsset.chainId),chainId:n.toAsset.chainId}),blockchain:void 0,digitsToFixed:2})),[t,n,c]),g=(0,r.useMemo)((()=>{if(f)return t.fiatValueString(f)}),[t,f]),m=(0,r.useMemo)((()=>t.formatToCrypto({currencyCode:n.toAsset.currencyCode,decimals:n.toAsset.decimals,value:n.toAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})),[t,n.toAmount,n.toAsset.currencyCode,n.toAsset.decimals]);return(0,r.useEffect)((function(){const e=n.fromAsset;!d&&e&&(0,a.xz)({variant:"source",currencyCode:e.currencyCode.code,chainId:e.chainId.toString()}),!g&&n.toAsset&&(0,a.xz)({variant:"target",currencyCode:n.toAsset.currencyCode.code,chainId:n.toAsset.chainId.toString()})}),[d,n.fromAsset,n.toAsset,g]),(0,r.useMemo)((()=>({sourceFiatAmount:d,sourceCryptoAmount:p,targetFiatAmount:g,targetCryptoAmount:m})),[d,p,g,m])}},2688:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(14041),a=n(11993);function o({account:e,buttonAnalyticsCallbacks:t,isMultipleTxs:n=!1,mode:o=a.z.Normal,signAndSubmitStandalone:s,signMultipleTransactionsStandalone:i,signAndSubmitWalletlink:l,signAndSubmitLedger:c,submitAndWaitForPrimeSign:u,submitMultipleAndWaitForPrimeSign:d,signAndRelayStandalone:p,signAndSubmitWeb3:f,signAndSubmitScw:g,onTradeButtonPressed:m,markStartPerf:y,confirmAndSubmit:v}){return(0,r.useCallback)((function(r){return()=>(y?.(),m?.(),t?.triggerAnalyticsConfirmClick?.(),r?t?.triggerAnalyticsConfirmAnyway?.():t?.triggerAnalyticsConfirm?.(),v?v():e.isPrimeAccount?n?d?.():u?.():e.hasLocallyStoredKey&&(e.isMnemonicAccount||e.isPrivateKeyAccount)?n?i?.():o===a.z.Gasless?p?.():s?.():e.isLedgerAccount?c?.():e.isWalletlinkAccount?l?.():(e.isDappProviderAccount&&f?.(),void(e.isSCWAccount&&g?.())))}),[y,m,t,v,e.isPrimeAccount,e.hasLocallyStoredKey,e.isLedgerAccount,e.isWalletlinkAccount,e.isDappProviderAccount,e.isSCWAccount,e.isMnemonicAccount,e.isPrivateKeyAccount,n,u,d,o,p,s,i,c,l,f,g])}},58319:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(66181),a=n(44592);function o(){return!(0,r.l)((0,a.R)("kill_dex_deposit_gas"))}},39060:(e,t,n)=>{n.d(t,{i:()=>d,k:()=>l});var r=n(14041),a=n(32183),o=n(8867),s=n(11993);const i=(0,a.YK)({cancel:{id:"kz3JfK",defaultMessage:"Cancel"},trade:{id:"MyBgoA",defaultMessage:"Swap"},tradeAnyway:{id:"vqiWgC",defaultMessage:"Swap"},bridge:{id:"Hoj7j3",defaultMessage:"Bridge"},errorConfirm:{id:"uGMKxR",defaultMessage:"Confirm"},stake:{id:"+q6CAE",defaultMessage:"Stake"},unstake:{id:"BQ/cD2",defaultMessage:"Unstake"},swapAnywayButton:{id:"FTWaA2",defaultMessage:"Swap anyway"},claim:{id:"woFxzi",defaultMessage:"Claim"},review:{id:"hIceVG",defaultMessage:"Review"}});var l;!function(e){e.BRIDGE="bridge",e.SWAP="swap",e.STAKE="stake",e.UNSTAKE="unstake",e.CLAIM="claim"}(l||(l={}));const c={[l.BRIDGE]:i.bridge,[l.SWAP]:i.trade,[l.STAKE]:i.stake,[l.UNSTAKE]:i.unstake,[l.CLAIM]:i.claim},u={[l.SWAP]:"dex-preview-trade-button",[l.BRIDGE]:"bridge-preview-confirm-button",[l.STAKE]:"stake-preview-confirm-button",[l.UNSTAKE]:"unstake-preview-confirm-button",[l.CLAIM]:"claim-preview-confirm-button"};function d({transactionDetailError:e,isLoading:t,buttonAnalyticsCallbacks:n,mode:a=s.z.Normal,onCancelButtonPressed:d,onWarningButtonPressed:p,getHandleSubmitPressed:f,context:g=l.SWAP,isSubmitDisabled:m}){const{formatMessage:y}=(0,o.A)(),v=(0,r.useCallback)((function(e){return()=>d(e)}),[d]);return(0,r.useMemo)((()=>{switch(e?.type){case"highPriceImpact":case"warning":return[{name:"cancelButton",children:y(i.cancel),variant:"secondary",onClick:v(!0),disabled:t,testID:"transaction-detail-cancel-button"},{name:"warningConfirmButton",loading:t,testID:"warning-confirm-button",children:y(c[g]),variant:"negative",onClick:p,disabled:m}];case"notEnoughBalanceForMinerFee":return a===s.z.Normal&&n?.triggerPrimaryButtonDisabled?.(),[{name:"cancelButton",children:y(i.cancel),variant:"secondary",onClick:v(!0),disabled:t,testID:"transaction-detail-cancel-button"},{name:"confirmButton",onClick:f?.(!0),loading:t,testID:u[g],children:y(i.errorConfirm),disabled:a===s.z.Normal||m,variant:"primary"}];case"notEnoughBalanceMagicSpend":return a===s.z.Normal&&n?.triggerPrimaryButtonDisabled?.(),[{name:"cancelButton",children:y(i.cancel),variant:"secondary",disabled:t,testID:"transaction-detail-cancel-button",onClick:v(!1)},{name:"confirmButton",loading:t,testID:u[g],children:y(i.review),variant:"primary",onClick:f?.(!1),disabled:m}];default:return[{name:"cancelButton",children:y(i.cancel),variant:"secondary",disabled:t,testID:"transaction-detail-cancel-button",onClick:v(!1)},{name:"confirmButton",loading:t,testID:u[g],children:y(c[g]),variant:"primary",onClick:f?.(!1),disabled:m}]}}),[e?.type,y,v,t,m,g,p,a,f,n])}},14712:(e,t,n)=>{n.d(t,{R:()=>o});var r=n(14041);function a(e){return e}function o(...e){const t=(0,r.useRef)(!1),n=[];const o=e.map((e=>function(e){try{return e?.(a)}catch(e){if(!t.current&&e instanceof Promise)return void n.push(e);throw e}}(e)));if(n.length>0)throw Promise.all(n);return t.current=!0,o}},59659:(e,t,n)=>{n.d(t,{f:()=>a});var r=n(14041);function a(){const[e,t]=(0,r.useState)(null);return(0,r.useEffect)((function(){if(e)throw e}),[e]),t}},29440:(e,t,n)=>{n.d(t,{z:()=>u});var r=n(14041),a=n(56018),o=n(98837),s=n(31860),i=n(79071),l=n.n(i),c=n(22767);function u({wallet:e,unsignedTxsOrUserOps:t,signSuccess:n,signError:i,handleUnlock:u,unlockSuccess:d,unlockError:p,source:f="extension",txSubmissionType:g="original",skipSubmit:m=!0}){const[y,v]=(0,r.useState)(!1),b=(0,o.O)(),w=(0,r.useCallback)((function(t){return async n=>{t&&b([t.asTransaction(n.txHash,n.nonce,e,t.metadata,g)])}}),[b,g,e]),h=(0,r.useCallback)((function(e){return 0n===e.transferValue?l():w(e)}),[w]),S=(0,r.useCallback)((async function(){try{if(!t||t.length<1)return null;const r=[];for(const n of t){const t=await(0,s.Z)({unsignedTxOrUserOp:n,wallet:e,txSubmissionType:"original",skipSubmit:m,onSubmit:h(n),source:f});m||await(0,a.xw)({signature:t.txHash,mainAccountAddress:t.fromAddress,commitment:c.Ac.CONFIRMED,walletIndex:e.selectedIndex??0n,accountId:e.accountId}),r.push(t)}n(r)}catch(e){i(e)}finally{v(!1)}}),[t,n,e,m,h,f,i]),x=(0,r.useCallback)((function(){return v(!0),u({unlockSuccess:function(){d?.(),S()},unlockError:function(e){e&&p?.(e),v(!1)}})}),[u,S,p,d]);return(0,r.useMemo)((()=>({signMultipleTransactionsStandalone:x,isSignMultipleTransactionsStandaloneLoading:y})),[y,x])}},40698:(e,t,n)=>{n.d(t,{j5:()=>p,xE:()=>d});var r=n(14041),a=n(32550),o=n(13394),s=n(98053),i=n(74146),l=n(85967);const c="swap/asset";async function u({contractAddress:e,chainId:t}){try{const{result:n}=await(0,i.hm)(c,{contractAddress:e??"",chainId:t??""},{apiVersion:1});return n}catch(e){return(0,o.gf)({context:"swap-error",error:new Error("Failed to fetch swap asset"),severity:"error",isHandled:!1}),Promise.resolve(void 0)}}function d({contractAddress:e,chainId:t}){const n="undefined"===e?void 0:e,a=(0,s.I)(f({chainId:t,contractAddress:n}),(async()=>u({contractAddress:n,chainId:t})),{suspense:!0,staleTime:3e4,notifyOnChangeProps:["data"],enabled:Boolean(t)});return(0,r.useMemo)((()=>{if(a.data)return new l.i(a.data)}),[a])}function p(){const e=(0,a.jE)();return(0,r.useCallback)((async function({contractAddress:t,chainId:n}){const r="undefined"===t?void 0:t,a=await e.fetchQuery(f({chainId:n,contractAddress:r}),(async()=>u({contractAddress:r,chainId:n})));if(a)return new l.i(a)}),[e])}function f({chainId:e,contractAddress:t}){return[c,e,t]}},1505:(e,t,n)=>{n.d(t,{z9:()=>l,zH:()=>c});n(14041);var r=n(24300),a=n(98763),o=n(13394),s=n(74146);const i="swap/assets";async function l({chainId:e,search:t,limit:n,page:r}){try{const o={...e&&{chainId:e},...t&&{search:t},...n&&{limit:n.toString()},...r&&{page:r.toString()}};(0,a.tz)(o);const l=await(0,s.hm)(i,o,{apiVersion:1});return(0,a.QB)({count:l.count}),l}catch(e){return(0,a.Hf)({error:e.message,variant:"fetchSwapAssets"}),Promise.resolve({result:[]})}}function c({chainId:e,search:t,limit:n,page:s,enabled:i=!0,additionalQueryKey:c=""}){const d={method:"usePaginatedSwapAssets "};return(0,r.q)(u({chainId:e,search:t,limit:n,enabled:i,additionalQueryKey:c}),(async({pageParam:r=s})=>l({chainId:e,search:t,limit:n,page:r})),{keepPreviousData:!0,getNextPageParam:function(e){return!!e?.result.length&&e.nextPage},onError:function(e){(0,a.Hf)({error:e.message,variant:"usePaginatedSwapAssets"}),(0,o.gf)({error:e,...d,context:"swap",severity:"error",isHandled:!1})},enabled:i})}function u({chainId:e,search:t,limit:n,enabled:r,additionalQueryKey:a}){return[i,e,t,n,r,a]}},86310:(e,t,n)=>{n.d(t,{Gv:()=>s,_B:()=>i,tF:()=>l});var r=n(72895),a=n(87604);function o(){return(0,r.qL)("swap_asset_stats")}async function s(e){return(await o().find({where:e?{chainIdStr:e}:{}})).map((e=>a.v.fromDMO(e))).sort(((e,t)=>e.selectedCount<t.selectedCount?1:-1))}async function i(e){const t=await o().findOne({where:{id:a.v.generateID(e.blockchain,e.chainId,e.currencyCode,e.address)}});return t?a.v.fromDMO(t):void 0}async function l(e){await o().upsert(e.asDMO,["id"])}},68805:(e,t,n)=>{n.d(t,{U:()=>l});var r=n(14041),a=n(86310),o=n(87604),s=n(23804),i=n(40698);function l(){const e=(0,i.j5)();return(0,r.useCallback)((async function(t){let n;if(n=t instanceof s.u?await e({chainId:t.network?.asChain()?.chainId.toString(),contractAddress:t.contractAddress}):t,!n)return;const r=await(0,a._B)(n);let i;if(r){const e=r.selectedCount+1n;i=r,i.selectedCount=e}else i=new o.v(n.blockchain,n.chainId,n.currencyCode,n.address,1n);await(0,a.tF)(i)}),[e])}},83257:(e,t,n)=>{n.d(t,{e:()=>i});var r=n(46122),a=n(76116),o=n(2775),s=n(1048).Buffer;async function i(e,t,n,i,l){const c=l.get(r.kV),u=new Map(l);return u.set(r.kV,`${c??"unknown"}_approve`),i?(0,a.Z)({wallet:e,recipientAddress:t.to,transactionAmount:{value:0n,kind:"Amount"},metadata:u,txOrUserOpConfig:{txType:"1559",nonce:n,dataBuffer:s.from((0,o.LL)(t.data),"hex"),selectedMaxFeePerGas:void 0,selectedMaxPriorityFeePerGas:void 0,selectedGasLimit:t.gas?BigInt(t.gas):void 0,selectedBaseFeePerGas:0n}}):(0,a.Z)({wallet:e,recipientAddress:t.to,transactionAmount:{value:0n,kind:"Amount"},metadata:u,txOrUserOpConfig:{txType:"Legacy",nonce:n,dataBuffer:s.from((0,o.LL)(t.data),"hex"),selectedGasPrice:BigInt(t.gasPrice),selectedGasLimit:BigInt(t.gas)}})}},8387:(e,t,n)=>{n.d(t,{X:()=>a});var r=n(62251);function a({baseMetadata:e,imageURL:t,name:n,currencyCode:a,decimals:o,amount:s}){const i=new Map(e);return i.set(r.yp,t.replaceAll("/","~")),i.set(r.kg,n),i.set(r.Vz,a),i.set(r.YT,o.toString()),i.set(r.ZM,s.toString()),i}},12125:(e,t,n)=>{n.d(t,{N:()=>f});var r=n(14041),a=n(10677),o=n(51119),s=n(48516),i=n(61247),l=n(78708),c=n(70090),u=n(8136),d=n(65548),p=n(99633);function f({wallets:e,network:t,suspense:n=!0}){const f=(0,p.useRecoilValue)(a.xQ),g=(0,p.useRecoilValue)(i.xN),m=(0,c.n)(e),y=(0,l.n0)({contractAddressesByChain:m,suspense:n,network:t}),v=(0,d.B)(y,(()=>new Map(y.map((e=>[e.swapId,e]))))),b=(0,u.Fh)({wallets:e}),w=(0,r.useMemo)((()=>b?.filter((function(e){const t=s.H.generateID(e.primaryAddress,e.blockchain,e.currencyCode,e.network,e.contractAddress),n=g?.[t];return!!v.get(e.swapId)&&(!e.isSpam||e.isSpam&&n?.status===o.O.userSpamVisible)}))),[b,g,v]);return(0,r.useMemo)((()=>f?[]:w??[]),[f,w])}},431:(e,t,n)=>{n.d(t,{B:()=>s,P:()=>i});var r=n(8136),a=n(57822),o=n(12125);function s(e,{network:t,suspense:n=!0}){const r=(0,a.e)(e,t);return(0,o.N)({wallets:r,network:t,suspense:n})}function i(e,t){const n=s(e,{network:t});return(0,r.Fh)({wallets:Array.from(n.values())})}},39999:(e,t,n)=>{n.d(t,{X:()=>l,v:()=>i});var r=n(27301),a=n(52689),o=n(99172),s=n(57822);function i(e,t,n,i,l){const c=(0,s.e)(e);if(c&&t&&n&&i)return c.find((e=>o.lg.isEqual(e.network,i)&&r.J.isEqual(e.blockchain,t)&&a.j.isEqual(e.currencyCode,n)&&(!l||e.contractAddress===l)))}function l(e,t){return(0,s.e)(e).find((e=>e.id===t))}},74837:(e,t,n)=>{function r(e){const t=101!==e.network.asChain()?.chainId?"token":"address";return e.address?.rawValue?`${e.network.asChain()?.blockExplorerUrl}/${t}/${e.address?.rawValue}`:""}n.d(t,{q:()=>r})},23126:(e,t,n)=>{n.d(t,{O:()=>r});const r={paddingX:1}},20853:(e,t,n)=>{n.d(t,{b:()=>r.b});var r=n(95924)},7610:(e,t,n)=>{n.d(t,{e:()=>r.e});var r=n(11648)}}]);
//# sourceMappingURL=523.js.map