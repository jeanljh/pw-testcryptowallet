/*! For license information please see 3794.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5589324e-b620-469f-ae92-2d9431ca89c2",e._sentryDebugIdIdentifier="sentry-dbid-5589324e-b620-469f-ae92-2d9431ca89c2")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[3794],{31550:(e,t,n)=>{n.d(t,{w:()=>m});var r,o=n(14041),a=n(20250),l=n(59706),s=n(85581),i=n(98139),c=n(15654),u=n(95312),d=n(44659),f=n(97541),h=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p,w,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y="add-new-wallet",m=(0,o.memo)(b((function(e){var t=e.handlePressContinue,n=e.heroImage,r=void 0===n?"cryptoAppsWallet":n,o=e.isCreateWalletDisabled,p=(0,a.F)(),w=p.contentTitle,b=p.bodyText,m=p.buttonText;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(c.T,{testID:y,flexGrow:1,paddingX:3,children:[(0,h.jsxs)(c.T,{gap:4,flexGrow:1,children:[(0,h.jsx)(d.f,{testID:"".concat(y,"--title"),as:"h1",children:w}),(0,h.jsx)(c.T,{alignItems:"center",children:(0,h.jsx)(l.t,{illustration:"ExploreDecentralizedAppsMiami",alt:w,children:(0,h.jsx)(i.K,{testID:"".concat(y,"--image"),dimension:"200x200",scaleMultiplier:.75,name:r})})}),(0,h.jsx)(f.K,{testID:"".concat(y,"--body"),color:"fgMuted",as:"p",children:b})]}),(0,h.jsx)(s.$n,{testID:"".concat(y,"--continue"),onClick:t,disabled:o,children:m}),(0,h.jsx)(u.h,{vertical:2})]})})}),"useAddNewWalletCopy{{ contentTitle, bodyText, buttonText }}",(function(){return[a.F]})));(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(y,"testID","/workspaces/apps/extension/src/screens/ManageWallets/WhyNewWallet.tsx"),p.register(m,"WhyNewWallet","/workspaces/apps/extension/src/screens/ManageWallets/WhyNewWallet.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},63794:(e,t,n)=>{n.r(t),n.d(t,{WhyCreate:()=>v,testID:()=>I});var r,o=n(14041),a=n(86090),l=n(70013),s=n(21983),i=n(15654),c=n(34767),u=n(18748),d=n(31550),f=n(31085);function h(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof s?r:s,c=Object.create(i.prototype);return p(c,"_invoke",function(n,r,o){var a,s,i,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(t,n){return a=t,s=0,i=e,f.n=n,l}};function h(n,r){for(s=n,i=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,a=u[t],h=f.p,p=a[2];n>3?(o=p===r)&&(i=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=h&&((o=n<2&&h<a[1])?(s=0,f.v=r,f.n=a[1]):h<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,s=0))}if(o||n>1)return l;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&h(u,p),s=u,i=p;(t=s<2?e:i)||!d;){a||(s?s<3?(s>1&&(f.n=-1),h(s,i)):f.n=i:f.v=i);try{if(c=2,a){if(s||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==l)break}catch(t){a=e,s=1,i=t}finally{c=1}}return{value:t,done:d}}}(n,o,a),!0),c}var l={};function s(){}function i(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(p(t={},r,(function(){return this})),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,p(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return i.prototype=c,p(d,"constructor",c),p(c,"constructor",i),i.displayName="GeneratorFunction",p(c,o,"GeneratorFunction"),p(d),p(d,o,"Generator"),p(d,r,(function(){return this})),p(d,"toString",(function(){return"[object Generator]"})),(h=function(){return{w:a,m:f}})()}function p(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}p=function(e,t,n,r){function a(t,n){p(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},p(e,t,n,r)}function w(e,t,n,r,o,a,l){try{var s=e[a](l),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){w(a,r,o,l,s,"next",e)}function s(e){w(a,r,o,l,s,"throw",e)}l(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,s=[],i=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var g,x,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I="wallet-why-create",v=(0,o.memo)(T((function(){var e=(0,u.z)(),t=y((0,o.useState)(!1),2),n=t[0],r=t[1],p=(0,a.g)().accountId;(0,l.vz)({componentType:c.I5.page});var w=(0,o.useCallback)(b(h().m((function t(){return h().w((function(t){for(;;)switch(t.n){case 0:r(!0),e({accountId:decodeURIComponent(p)});case 1:return t.a(2)}}),t)}))),[e,p]);return(0,f.jsxs)(i.T,{testID:I,height:"100%",flexGrow:1,overflow:"auto",children:[(0,f.jsx)(s.u,{}),(0,f.jsx)(d.w,{handlePressContinue:w,isCreateWalletDisabled:n})]})}),"useHandleCreateWalletGroupPress{handleCreateWalletGroupPress}\nuseState{[isCreateWalletDisabled, setIsCreateWalletDisabled](false)}\nuseParams{{ accountId }}\nuseTriggerWhyCreateNewWalletViewed{}\nuseCallback{handlePressContinue}",(function(){return[u.z,a.g,l.vz]})));(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(I,"testID","/workspaces/apps/extension/src/screens/ManageWallets/pages/WhyCreate.tsx"),g.register(v,"WhyCreate","/workspaces/apps/extension/src/screens/ManageWallets/pages/WhyCreate.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},18748:(e,t,n)=>{n.d(t,{z:()=>D});var r=n(14041),o=n(86090),a=n(70013),l=n(7427),s=n(20250),i=n(31100),c=n(71847),u=n(66181),d=n(14928),f=n(69090),h=n(24779),p=n(37800),w=n(6981),b=n(68239),y=n(71748),m=n(13394),g=n(1901),x=n(44737),T=n(31956),I=n(15961);var v=n(85536),k=n(20960),C=n(3852);const L=56;function W(){const e=(0,C.H)(),t=(0,v.R)(),n=function(){const e=(0,I.x)(),t=(0,y.gu)(),n=(0,r.useMemo)((()=>Object.keys(T.Y).reduce((function(e,t){return y.ey.includes(t)||(e[t]=T.Y[t]),e}),{})),[]);return(0,r.useCallback)((async function({index:r,accountId:o}){try{const l=[],s=[],i=(await(0,x.dz)()).filter((e=>e.selectedIndex===r&&e.accountId===o)),c=(0,y.om)({blockchainGroup:"Account"}).filter((e=>(0,y.V8)(e))).reduce((function(e,t){return i.some((e=>e.blockchain.toString()===t))||e.push(t),e}),[]);return c.length&&(await Promise.all(Object.entries(n).filter((([e])=>t.includes(e)&&c.includes(e))).map((async function([,e]){const{wallets:t,addressLogParams:n}=await e({createAtIndexes:[r],accountId:o});n&&s.push(...n),t&&l.push(...t)}))),(0,b.T)(),(0,x.Yk)(l)),await e({accountId:o,indexes:[r]}),(0,a.BW)({blockchains:c,count:l.length,walletIndex:r.toString()}),(0,g.Q)({addressLogParams:s,accountId:o}),l}catch(e){(0,a.V9)({walletIndex:r.toString()});const t=(0,m.Gp)(e,"useCreateWalletsAtIndex");throw(0,m.gf)({error:t,context:"multi-account",severity:"error",isHandled:!1}),e}}),[n,t,e])}(),o=function(){const e=(0,k.m)(),t=(0,C.H)();return(0,r.useCallback)((function(n){return t.filter((e=>e.accountId===n)).length>=e}),[t,e])}(),l=(0,w.A)(),s=(0,u.l)((0,d.T)("kill_balance_nudge_blockchain_eth")),W=(0,u.l)((0,d.T)("kill_balance_nudge_blockchain_sol")),A=(0,u.l)((0,d.T)("kill_das_api_blockchain_sol")),_=(0,f.t)("wallet_redesign_miami_vice_theme_colors"),G=(0,f.t)("wallet_redesign_avatars"),S=(0,c.x)("solana_websocket_nudges");return(0,r.useCallback)((async function({accountId:r}){if(o(r))return void(0,a.fH)();const c=e.filter((e=>e.accountId===r)).map((e=>Number(e.walletIndex)));let u,d,f=0;for(;c.includes(f);)f++;await n({index:BigInt(f),accountId:r}),_&&(u=p.J[Math.floor(Math.random()*p.J.length)]),G&&(d=Math.floor(Math.random()*L));const w={accountId:r,walletIndex:BigInt(f),themeColor:u,avatarIndex:d},[b]=await t([w]),y=await(0,h.h)();return(0,i.o)({accountId:r,walletIndex:b?.walletIndex,isEthereumNudgeKilled:s,isSolanaNudgeKilled:W,isSolanaDASAPIKilled:A,isWebsocketNudgeKilled:!S,getTxHistoryVersion:l,getLastSyncedTxHashByNetwork:y}),b}),[o,e,n,_,G,t,s,W,A,S,l])}var A=n(78246),_=n(32183),G=n(8867),S=n(58028);const F=(0,_.YK)({walletLimitReachedText:{id:"LhuXZv",defaultMessage:"The current limit is {walletGroupLimit} {uiTermForWalletGroupsLowerCase} per {uiTermForAccountLowerCase}"}});var j=n(26651),M=n(34767),H=n(41690),N=n(36913);function D(){const{push:e}=(0,o.W6)(),t=(0,j.d)(),n=(0,l.v)(),i=(0,C.H)(),{toastText:c}=(0,s.F)(),{walletLimitReachedText:u}=function(){const{uiTermForWalletGroupsLowerCase:e,uiTermForAccountLowerCase:t}=(0,S.o)(),{formatMessage:n}=(0,G.A)(),o=(0,k.m)();return(0,r.useMemo)((()=>({walletLimitReachedText:n(F.walletLimitReachedText,{walletGroupLimit:o,uiTermForWalletGroupsLowerCase:e,uiTermForAccountLowerCase:t})})),[n,o,e,t])}(),d=W(),f=(0,A.T)(),h=(0,N.t)();return(0,r.useCallback)((async({accountId:r})=>{h({accountId:r,unlockSuccess:async()=>{const o=await d({accountId:r});if(o){f(o.id),t.show(c);const r=n(o.accountId);(0,a.nR)({action:M.X2.click,componentType:M.I5.button,accountType:r?.type,walletIndex:o.walletIndex.toString(),context:i.length<=1?"first_new_manual_wallet_group":"subsequent_new_manual_wallet_group"}),e(H.Q.PORTFOLIO)}else t.show(u)}})}),[h,d,f,t,c,n,i.length,e,u])}},36913:(e,t,n)=>{n.d(t,{t:()=>c});var r=n(83815),o=n(79071),a=n.n(o),l=n(58341),s=n(42894),i=n(22535);function c(){const e=(0,r.Mf)();return(0,s.O)(((t,{accountId:n,unlockSuccess:r,unlockError:o=a()})=>{t&&t.unsubscribe();const s=n||e;return i.T.unlock({...l.uM.TransactionAccess,accountId:s}).subscribe((({status:e})=>{"SUCCESS"===e?r?.():o(new Error("Unlock Failed"))}),(e=>{o(e)}))}),[e])}},31100:(e,t,n)=>{n.d(t,{o:()=>f});var r=n(36924),o=n(46122),a=n(96295),l=n(54065),s=n(58910),i=n(37634),c=n(19684),u=n(99433);async function d({accountId:e,walletIndex:t,isEthereumNudgeKilled:n,isSolanaNudgeKilled:c,isSolanaDASAPIKilled:d,isWebsocketNudgeKilled:f,getTxHistoryVersion:h,getLastSyncedTxHashByNetwork:p,excludeDefiAssets:w}){const[b,y]=await Promise.all([(0,i.iV)({blockchain:o.vj.blockchain}),(0,i.iV)({blockchain:l.Yw.blockchain})]),m=(0,r.S)({blockchain:o.vj.blockchain,addresses:b,currencyCode:o.vj.currencyCode,network:o.vj.networkSetting.defaultMainnet.network,walletIndex:t,accountId:e}),g=(0,r.S)({blockchain:l.Yw.blockchain,addresses:y,currencyCode:l.Yw.currencyCode,network:l.Yw.networkSetting.defaultMainnet.network,walletIndex:t,accountId:e});let x,T;return m?.address&&(x=await(0,u.x)({blockchainSymbol:a.fz,walletIndex:t,accountId:e,primaryAddress:m.address,isNudgeKilled:n,isDASAPIKilled:!0,isWebsocketNudgeKilled:!0,addressesForBlockchain:b,getTxHistoryVersion:h,getLastSyncedTxHashByNetwork:p,excludeDefiAssets:w})),g?.address&&(T=await(0,u.x)({blockchainSymbol:s.KN,walletIndex:t,accountId:e,primaryAddress:g.address,isNudgeKilled:c,isDASAPIKilled:d,isWebsocketNudgeKilled:f,addressesForBlockchain:y,getTxHistoryVersion:h,getLastSyncedTxHashByNetwork:p})),{ethAddressConfigs:x,solAddressConfigs:T}}async function f(e){const{ethAddressConfigs:t,solAddressConfigs:n}=await d(e);t&&c.Mp.addAddresses(t,{skipBalanceRefresh:e.skipBalanceRefresh,skipTransactionRefresh:e.skipTransactionRefresh}),n&&c.Lp.addAddresses(n,{skipBalanceRefresh:e.skipBalanceRefresh,skipTransactionRefresh:e.skipTransactionRefresh})}},20960:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(14041),o=n(71847);function a(){const e=(0,o.x)("wallet_group_limit_increase");return(0,r.useMemo)((()=>e?100:15),[e])}},20250:(e,t,n)=>{n.d(t,{F:()=>i});var r=n(14041),o=n(32183),a=n(8867),l=n(58028);const s=(0,o.YK)({contentTitle:{id:"ievRIB",defaultMessage:"Add {uiTermForWalletGroupWithIndefiniteArticleLowerCase}"},bodyText:{id:"G7gth3",defaultMessage:"Each {uiTermForWalletGroupLowerCase} includes a unique Ethereum and Solana address that belongs to your {uiTermForAccountLowerCase}. You can add up to 15 per {uiTermForAccountLowerCase}. You can import them into other crypto wallets too."},buttonText:{id:"afrd3s",defaultMessage:"Continue"},utxoWalletsInfoText:{id:"NF0B0r",defaultMessage:"Additional {uiTermForWalletGroupsLowerCase} only support Ethereum and Solana at this time."},toastText:{id:"YcUEjn",defaultMessage:"New {uiTermForWalletGroupLowerCase} added"}});function i(){const{formatMessage:e}=(0,a.A)(),{uiTermForWalletGroupLowerCase:t,uiTermForAccountLowerCase:n,uiTermForWalletGroupsLowerCase:o,uiTermForWalletGroupWithIndefiniteArticleLowerCase:i}=(0,l.o)();return(0,r.useMemo)((()=>({contentTitle:e(s.contentTitle,{uiTermForWalletGroupWithIndefiniteArticleLowerCase:i}),bodyText:e(s.bodyText,{uiTermForWalletGroupLowerCase:t,uiTermForAccountLowerCase:n}),buttonText:e(s.buttonText),toastText:e(s.toastText,{uiTermForWalletGroupLowerCase:t}),utxoWalletsInfoText:e(s.utxoWalletsInfoText,{uiTermForWalletGroupsLowerCase:o})})),[e,n,t,i,o])}},15961:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(14041),o=n(46716),a=n(95007),l=n(57601),s=n(90887);function i(){const e=(0,o.f)(s.gx);return(0,r.useCallback)((async function({indexes:t,accountId:n,mnemonic:r}){const o=await(0,a.mE)(),i=await Promise.all(t.map((async function(e){if(n)return(0,l.I)({header:s.g1,nonce:o,accountId:n,index:e});if(r)return(0,l.I)({header:s.g1,nonce:o,mnemonic:r,index:e});throw new Error("Either accountId or mnemonic must be provided.")})));return e({nonce:o,ethereumAddresses:i})}),[e])}}}]);
//# sourceMappingURL=3794.js.map