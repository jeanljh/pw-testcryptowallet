/*! For license information please see 1396.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5477a33d-6d07-4bf1-b310-bbaba483602a",e._sentryDebugIdIdentifier="sentry-dbid-5477a33d-6d07-4bf1-b310-bbaba483602a")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[1396],{65236:(e,t,n)=>{n.r(t),n.d(t,{CollectibleBuyListing:()=>y});var o,i=n(14041),a=n(23291),r=n(79071),l=n.n(r),s=n(92271),c=n(15654),u=n(66491),d=n(82501),f=n(98883),g=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var b,p,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,i.memo)(m((function(){var e=(0,i.useCallback)((function(e){var t=e.error,n=e.errorHash;(0,a.op)({errorHash:n,errorMessage:t.message})}),[]),t=(0,i.useCallback)((function(e){var t=e.error;return(0,g.jsx)(u.U,{error:t})}),[]);return(0,g.jsx)(c.T,{height:"100%",testID:"collectible-buy-listing-wrapper",overflow:"scroll",children:(0,g.jsx)(s.t,{onError:e,renderFallback:t,children:(0,g.jsx)(f.Zd.Provider,{onSubmit:l(),initialValues:f.LX,children:(0,g.jsx)(f.Im.Provider,{children:(0,g.jsx)(d.q,{})})})})})}),"useCallback{logGlobalError}\nuseCallback{renderFallback}"));(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&b.register(y,"CollectibleBuyListing","/workspaces/apps/extension/src/screens/CollectibleBuyListing/CollectibleBuyListing.tsx"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},82501:(e,t,n)=>{n.d(t,{q:()=>b});var o,i=n(14041),a=n(6595),r=n(47299),l=n(19443),s=n(25655),c=n(87745),u=n(98883),d=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var f,g,b=(0,i.memo)((function(){return(0,d.jsxs)(u.Im.Steps,{children:[(0,d.jsx)(c.C,{},"collectibleListingDetail"),(0,d.jsx)(r.I,{},"collectibleBuyListingInsufficientFunds"),(0,d.jsx)(a.E,{},"collectibleBuyListingConfirmation"),(0,d.jsx)(l.m,{},"collectibleBuyListingPhoneConfirmation"),(0,d.jsx)(s.L,{},"collectibleBuyListingStatus")]})}));(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&f.register(b,"CollectibleBuyListingStepper","/workspaces/apps/extension/src/screens/CollectibleBuyListing/CollectibleBuyListingStepper.tsx"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},6595:(e,t,n)=>{n.d(t,{E:()=>R});var o=n(14041),i=n(32183),a=n(8867),r=n(86090),l=n(23291),s=n(87432),c=n(53404),u=n(7427),d=n(84632),f=n(24117),g=n(84168),b=n(64292),p=n(70960),m=n(69148),y=n(48097),v=n(70918),h=n(46845),C=n(32451),x=n(4118),L=n(61513),k=n(64887),I=n(24745),w=n(33396),T=n(37121),M=n(28672),S=n(98883),_=n(4244),B=n(36760),E=n(63162),A=n(16238),H=n.n(A);const j=(0,i.YK)({address:{id:"+pVL1h",defaultMessage:"Address"},walletUsed:{id:"H6R25Z",defaultMessage:"Wallet used"},network:{id:"0araSK",defaultMessage:"Network"},networkFee:{id:"/vyFO4",defaultMessage:"Network fee"}});function G({unsignedTx:e,wallet:t}){const{formatMessage:n}=(0,a.A)(),i=e.network.asChain()?.blockExplorerUrl||"",r=(0,B.j)(t),{formatToFiat:l,formatToFiatFeeRange:s}=(0,_.J9)(),c=(0,o.useMemo)((()=>{let n="";if(r){const t=e;n=s({fromCurrencyCode:t.feeCurrencyCode,decimals:t.feeCurrencyDecimal,upperBoundValue:t.upperBoundFee,isAbbreviated:!1,lowerBoundValue:t.lowerBoundFee,network:t.network,blockchain:t.blockchain})}else n=l({fromCurrencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.estimatedFee,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain});return n??""}),[r,e,s,l,t.network,t.blockchain]);return H()([{label:n(j.address),detailText:{text:(0,E.$)(e.recipientAddress),blockExplorerUrl:`${i}/address/${e.recipientAddress}`}},{label:n(j.walletUsed),detailText:{text:(0,E.$)(t.primaryAddress),blockExplorerUrl:`${i}/address/${t.primaryAddress}`}},{label:n(j.network),detailText:t.network.asChain()?.displayName||""},{label:n(j.networkFee),detailText:c}])}var P,D=n(50400),O=n(31085);e=n.hmd(e),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&P(e);var N,F,U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},W=(0,i.YK)({buy:{id:"kBH2Wf",defaultMessage:[{type:0,value:"Buy"}]},cancel:{id:"Usjb5x",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"N2IrpM",defaultMessage:[{type:0,value:"Confirm"}],descriptin:"Button text for confirming a transaction"}}),R=(0,o.memo)(U((function(){var e,t=(0,f.gs)(),n=(0,d.n)(),i=(0,a.A)().formatMessage,_=(0,T.A)(S.Zd),B=_.unsignedTx.value,E=_.wallet.value,A=_.signedTx.onChange,H=_.txSigningError.onChange,j=_.platformDomain.value,P=(0,w.lE)(S.Im).goToStep,N=(0,r.g)(),F=N.contractAddress,U=N.tokenId,R=N.chainId,z=N.marketplace,V=N.offchainOrderId,X=(0,o.useMemo)((function(){return{contractAddress:F,tokenId:U,chainId:R,marketplace:z,offchainOrderId:V}}),[F,U,R,z,V]),K=(0,x.z)(C.fO.nft_listing_detail,C.H5.load_collectible_listing_confirmation,{logMetric:!0}).end;if((0,s.y)((function(){K()})),(0,l.j7)(X),!B)throw new Error("CollectibleBuyListingConfirmation: unsignedTx needs to be defined");var Y=(0,o.useMemo)((function(){if(!E)throw new Error("CollectibleBuyListingConfirmation: wallet needs to be defined");return E}),[E]),$=(0,v.h)(),Z=(0,h.J)($,B),q=G({unsignedTx:B,wallet:Y}),Q=(0,b.Z)({unsignedTxOrUserOp:B,wallet:Y,feeWallet:Z,flow:"buyListing"}),J=(0,m.f)(),ee=(0,y.u)({request:"buy-nft-listing",unsignedTxOrUserOp:B,wallet:Y}),te=ee.txScannerData,ne=ee.txScannerNotices,oe=ee.isTxScannerLoading,ie=ee.isTxScannerError,ae=ee.txScannerLoadStartTime,re=ee.resetLoadTimer,le=(0,g.X)(te),se=(0,p.$)({request:"buy-nft-listing",dappURL:j,blockchain:Y.blockchain.toString(),txScannerData:te,txScannerNotices:ne,walletIndex:null===(e=Y.selectedIndex)||void 0===e?void 0:e.toString(),isTxPreviewEnabled:J}),ce=(0,u.vQ)(Y.accountId),ue=ce.hasLocallyStoredKey,de=ce.isLedgerAccount,fe=(0,o.useCallback)((function(){de?(0,l.Ct)():ue&&(0,l.ec)()}),[ue,de]),ge=(0,o.useCallback)((function(){de&&(0,l.Vm)(),ue&&(0,l.Eo)()}),[ue,de]),be=(0,o.useCallback)((function(){P("collectibleBuyListingPhoneConfirmation")}),[P]),pe=(0,o.useCallback)((function(e){fe(),H(e),P("collectibleBuyListingStatus")}),[fe,H,P]),me=(0,o.useCallback)((function(e){ge(),A(e),P("collectibleBuyListingStatus")}),[ge,A,P]),ye=(0,o.useCallback)((function(){(0,l.vH)(X),P("collectibleListingDetail")}),[P,X]),ve=(0,o.useCallback)((function(){(0,l.Rr)(X)}),[X]),he=(0,D.A)({wallet:Y,unsignedTx:B,flow:c.nl.NftBuyListing,error:Q,confirmText:i(W.buy),cancelText:i(W.cancel),goToPhoneConfirmation:be,onSignSuccess:me,onSignError:pe,onCancel:ye,onConfirm:ve,signButtonFirst:!1}),Ce=he.buttonProps,xe=he.hardwareWalletScreen,Le=he.isHardwareWalletSigning,ke=(0,o.useMemo)((function(){var e,o;return!J||ie?(0,O.jsx)(k.F,{analyticsData:se,txScannerNotices:ne}):oe?(0,O.jsx)(I.l,{}):(null==te||null===(e=te.assetChangeOperations)||void 0===e?void 0:e.length)||(null==te||null===(o=te.preAuthorizeOperations)||void 0===o?void 0:o.length)?(0,O.jsx)(L.B,{resetLoadTimer:re,txScannerLoadStartTime:null==ae?void 0:ae.current,parsedOperations:te,userWalletAddress:Y.primaryAddress,analyticsData:se,isRevokeOperation:le,networkChainId:R,exchangeRatesMap:t,activeFiatCurrency:n}):(0,O.jsx)(k.F,{analyticsData:se,txScannerNotices:ne})}),[J,ie,oe,te,se,ne,re,ae,Y.primaryAddress,le,R,t,n]);return Le?xe:(0,O.jsx)(M.Z,{headerText:i(W.buy),topSection:ke,detailRowItems:q,buttonProps:Ce,handleBackButton:ye,error:Q})}),"useExchangeRatesMap{exchangeRatesMap}\nuseActiveFiatCurrency{activeFiatCurrency}\nuseIntl{{ formatMessage }}\nuseFields{{\n    unsignedTx: { value: unsignedTx },\n    wallet: { value: walletValue },\n    signedTx: { onChange: signedTxOnChange },\n    txSigningError: { onChange: txSigningErrorOnChange },\n    platformDomain: { value: platformDomainValue },\n  }}\nuseStepper{{ goToStep }}\nuseParams{{ contractAddress, tokenId, chainId, marketplace, offchainOrderId }}\nuseMemo{collectibleListingAnalyticsData}\nuseExtensionPerfMark{{ end: endLoadListingConfirmationPerfMark }}\nuseOnMount{}\nuseLogCollectibleListingConfirmationViewed{}\nuseMemo{wallet}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseTxFeeWallet{feeWallet}\nuseTransactionDetailRowItems{detailRowItems}\nuseTransactionDetailsErrors{transactionDetailsErrors}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseTxScanner{{\n    txScannerData: parsedOperations,\n    txScannerNotices,\n    isTxScannerLoading,\n    isTxScannerError,\n    txScannerLoadStartTime,\n    resetLoadTimer,\n  }}\nuseIsRevokeOperation{isRevokeOperation}\nuseSignTransactionEventData{analyticsData}\nuseAccountById{{ hasLocallyStoredKey, isLedgerAccount }}\nuseCallback{logSigningErrorEvent}\nuseCallback{logSigningSuccessEvent}\nuseCallback{handleGoToPhoneConfirmation}\nuseCallback{handleSigningError}\nuseCallback{handleSigningSuccess}\nuseCallback{handleCancel}\nuseCallback{handleBuy}\nuseCollectibleTransactionSignAndSubmit{{ buttonProps, hardwareWalletScreen, isHardwareWalletSigning }}\nuseMemo{topSection}",(function(){return[f.gs,d.n,a.A,T.A,w.lE,r.g,x.z,s.y,l.j7,v.h,h.J,G,b.Z,m.f,y.u,g.X,p.$,u.vQ,D.A]})));(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(N.register(W,"messages","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingConfirmation/CollectibleBuyListingConfirmation.tsx"),N.register(R,"CollectibleBuyListingConfirmation","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingConfirmation/CollectibleBuyListingConfirmation.tsx")),(F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&F(e)},47299:(e,t,n)=>{n.d(t,{I:()=>S});var o,i=n(14041),a=n(32183),r=n(8867),l=n(86090),s=n(23291),c=n(87432),u=n(32451),d=n(10058),f=n(4681),g=n(4118),b=n(33396),p=n(37121),m=n(85581),y=n(98139),v=n(15654),h=n(60149),C=n(97541),x=n(98883),L=n(41690),k=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var I,w,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},M=(0,a.YK)({notEnoughEth:{id:"nKfvOv",defaultMessage:[{type:0,value:"You don't have enough ETH to buy this NFT"}]},notEnoughEthDescription:{id:"bA/MSM",defaultMessage:[{type:0,value:"You can buy or transfer ETH using your Coinbase account or transfer it from another wallet."}]},buyOrTransfer:{id:"TzU5tO",defaultMessage:[{type:0,value:"Buy or transfer with Coinbase"}]},transferFromAnotherWallet:{id:"d1kD9D",defaultMessage:[{type:0,value:"Transfer from another wallet"}]}}),S=(0,i.memo)(T((function(){var e=(0,p.A)(x.Zd).wallet,t=(0,r.A)().formatMessage,n=(0,l.W6)().push,o=(0,b.lE)(x.Im).goBack,a=(0,l.g)(),I=a.contractAddress,w=a.tokenId,T=a.chainId,S=(0,i.useMemo)((function(){return{contractAddress:I,tokenId:w,chainId:T}}),[I,w,T]),_=(0,g.z)(u.fO.nft_listing_detail,u.H5.load_collectible_listing_confirmation,{logMetric:!1}).clear;(0,c.y)((function(){_()})),(0,s.J6)(S);var B=(0,i.useCallback)((function(){(0,s.Fc)(S),n((0,l.tW)(L.Q.ONRAMP_INTERSTITIAL,{mode:"nft"}))}),[S,n]),E=(0,i.useCallback)((function(){var t;(0,s.OV)(S),n((0,l.tW)(L.Q.RECEIVE_ADDRESS,{walletId:null===(t=e.value)||void 0===t?void 0:t.id}))}),[S,n,e.value]);return(0,k.jsxs)(f.ff,{header:(0,k.jsx)(d.jq,{variant:"secondary",handleBack:o}),children:[(0,k.jsxs)(v.T,{width:"100%",gap:2,alignItems:"center",paddingX:3,children:[(0,k.jsx)(y.K,{name:"noFees",dimension:"200x200"}),(0,k.jsx)(h.f,{as:"p",textAlign:"center",children:t(M.notEnoughEth)}),(0,k.jsx)(C.K,{as:"p",textAlign:"center",color:"fgMuted",children:t(M.notEnoughEthDescription)})]}),(0,k.jsxs)(v.T,{width:"100%",padding:2,gap:2,children:[(0,k.jsx)(m.$n,{block:!0,variant:"primary",onClick:B,children:t(M.buyOrTransfer)}),(0,k.jsx)(m.$n,{block:!0,variant:"secondary",onClick:E,children:t(M.transferFromAnotherWallet)})]})]})}),"useFields{{ wallet: walletField }}\nuseIntl{{ formatMessage }}\nuseHistory{{ push }}\nuseStepper{{ goBack }}\nuseParams{{ contractAddress, tokenId, chainId }}\nuseMemo{analyticsData}\nuseExtensionPerfMark{{ clear: clearLoadListingConfirmationPerfMark }}\nuseOnMount{}\nuseLogCollectibleListingInsufficientFundsViewed{}\nuseCallback{handleBuyPress}\nuseCallback{handleTransferPress}",(function(){return[p.A,r.A,l.W6,b.lE,l.g,g.z,c.y,s.J6]})));(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(M,"messages","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingInsufficientFunds/CollectibleBuyListingInsufficientFunds.tsx"),I.register(S,"CollectibleBuyListingInsufficientFunds","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingInsufficientFunds/CollectibleBuyListingInsufficientFunds.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},19443:(e,t,n)=>{n.d(t,{m:()=>_});var o,i=n(14041),a=n(32183),r=n(8867),l=n(86090),s=n(23291),c=n(26182),u=n(87432),d=n(21413),f=n(33396),g=n(37121),b=n(52331),p=n(93754),m=n(98883),y=n(50271),v=n(31085);function h(){var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function a(n,o,i,a){var s=o&&o.prototype instanceof l?o:l,c=Object.create(s.prototype);return C(c,"_invoke",function(n,o,i){var a,l,s,c=0,u=i||[],d=!1,f={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return a=t,l=0,s=e,f.n=n,r}};function g(n,o){for(l=n,s=o,t=0;!d&&c&&!i&&t<u.length;t++){var i,a=u[t],g=f.p,b=a[2];n>3?(i=b===o)&&(s=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=g&&((i=n<2&&g<a[1])?(l=0,f.v=o,f.n=a[1]):g<b&&(i=n<3||a[0]>o||o>b)&&(a[4]=n,a[5]=o,f.n=b,l=0))}if(i||n>1)return r;throw d=!0,o}return function(i,u,b){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&g(u,b),l=u,s=b;(t=l<2?e:s)||!d;){a||(l?l<3?(l>1&&(f.n=-1),g(l,s)):f.n=s:f.v=s);try{if(c=2,a){if(l||(i="next"),t=a[i]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),l=1);a=e}else if((t=(d=f.n<0)?s:n.call(o,f))!==r)break}catch(t){a=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,i,a),!0),c}var r={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=[][o]?t(t([][o]())):(C(t={},o,(function(){return this})),t),d=c.prototype=l.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,C(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=c,C(d,"constructor",c),C(c,"constructor",s),s.displayName="GeneratorFunction",C(c,i,"GeneratorFunction"),C(d),C(d,i,"Generator"),C(d,o,(function(){return this})),C(d,"toString",(function(){return"[object Generator]"})),(h=function(){return{w:a,m:f}})()}function C(e,t,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}C=function(e,t,n,o){function a(t,n){C(e,t,(function(e){return this._invoke(t,n,e)}))}t?i?i(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},C(e,t,n,o)}function x(e,t,n,o,i,a,r){try{var l=e[a](r),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function r(e){x(a,o,i,r,l,"next",e)}function l(e){x(a,o,i,r,l,"throw",e)}r(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var w,T,M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S=(0,a.YK)({title:{id:"uxLC8E",defaultMessage:[{type:0,value:"Confirm transaction"}]},confirmOnPhone:{id:"LKMb7n",defaultMessage:[{type:0,value:"Confirm on phone"}]},confirmOnPhoneDescription:{id:"In3vOT",defaultMessage:[{type:0,value:"Open Coinbase Wallet on your phone to confirm this transaction."}]},resendNotificationHelperText:{id:"ZxCo5e",defaultMessage:[{type:0,value:"Don't see the notification?"}]},stillNotSeeingYourNotificationHelperText:{id:"Gdu4kE",defaultMessage:[{type:0,value:"Still don't see the notification? "},{type:1,value:"reconnectWallet"}]},reconnectWallet:{id:"s6u5ob",defaultMessage:[{type:0,value:"Reconnect your wallet"}]},retry:{id:"td35SU",defaultMessage:[{type:0,value:"Resend notification"}]}}),_=(0,i.memo)(M((function(){var e=(0,r.A)().formatMessage,t=(0,f.lE)(m.Im),n=t.goBack,o=t.goToStep,a=(0,g.A)(m.Zd),C=a.wallet,x=a.unsignedTx,I=a.txSigningError,w=a.signedTx,T=k((0,i.useState)(0),2),M=T[0],_=T[1],B=(0,i.useContext)(p.g).signOut,E=(0,l.g)(),A=E.contractAddress,H=E.tokenId,j=E.chainId,G=(0,i.useMemo)((function(){return{contractAddress:A,tokenId:H,chainId:j}}),[A,H,j]);if((0,s.B_)(G),null==C||!C.value)throw new Error("CollectibleBuyListingPhoneConfirmation: Wallet does not exist");if(!x.value)throw new Error("CollectibleBuyListingPhoneConfirmation: unsignedTx does not exist");var P=(0,i.useCallback)((function(e){(0,s.Pj)(),w.onChange(e),o("collectibleBuyListingStatus")}),[o,w]),D=(0,i.useCallback)((function(e){e.name===c.c.userRejectedWalletLinkRequest.name?(0,s.wQ)():(0,s.hj)(),I.onChange(e),o("collectibleBuyListingStatus")}),[I,o]),O=(0,i.useCallback)((function(){B()}),[B]),N=(0,y.$)({wallet:C.value,unsignedTx:x.value,onSuccess:P,onError:D}),F=N.signAndSubmitViaWalletlink,U=N.isUserCancelled,W=(0,i.useCallback)(L(h().m((function e(){return h().w((function(e){for(;;)switch(e.n){case 0:return(0,s.BF)(G),_((function(e){return e+1})),e.n=1,F();case 1:return e.a(2)}}),e)}))),[G,F]);(0,u.y)((function(){F()}));var R=(0,i.useMemo)((function(){return{label:e(S.retry),onClick:(t=L(h().m((function e(){return h().w((function(e){for(;;)switch(e.n){case 0:return U.current=!0,e.n=1,W();case 1:return e.a(2)}}),e)}))),function(){return t.apply(this,arguments)})};var t}),[e,U,W]),z=(0,i.useMemo)((function(){return e(S.stillNotSeeingYourNotificationHelperText,{reconnectWallet:(0,v.jsx)(b.N,{font:"label1",color:"fgMuted",onClick:O,as:"button",children:e(S.reconnectWallet)})})}),[e,O]),V=(0,i.useCallback)((function(){U.current=!0,n()}),[n,U]);return(0,v.jsx)(d._,{title:e(S.confirmOnPhone),description:e(S.confirmOnPhoneDescription),retryAction:R,secondaryActionLabel:e(S.resendNotificationHelperText),reconnectLabel:M>=4?z:void 0,onDismiss:V})}),"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseFields{{ wallet, unsignedTx, txSigningError, signedTx }}\nuseState{[sendRetryCount, setSendRetryCount](0)}\nuseContext{{ signOut }}\nuseParams{{ contractAddress, tokenId, chainId }}\nuseMemo{analyticsData}\nuseLogCollectibleListingPhoneConfirmationViewed{}\nuseCallback{onSuccess}\nuseCallback{onError}\nuseCallback{onSignOut}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, isUserCancelled }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}\nuseMemo{reconnectLabel}\nuseCallback{handleDismiss}",(function(){return[r.A,f.lE,g.A,l.g,s.B_,y.$,u.y]})));(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(S,"messages","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingPhoneConfirmation/CollectibleBuyListingPhoneConfirmation.tsx"),w.register(_,"CollectibleBuyListingPhoneConfirmation","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingPhoneConfirmation/CollectibleBuyListingPhoneConfirmation.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},25655:(e,t,n)=>{n.d(t,{L:()=>T});var o,i=n(14041),a=n(32183),r=n(8867),l=n(86090),s=n(23291),c=n(4244),u=n(87432),d=n(52617),f=n(33396),g=n(37121),b=n(60149),p=n(97541),m=n(98883),y=n(41690),v=n(31085);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=h(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var L,k,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},w=(0,a.YK)({title:{id:"Py41Hm",defaultMessage:[{type:0,value:"Your purchase is in progress"}]},failureTitle:{id:"m2ulu0",defaultMessage:[{type:0,value:"Something went wrong"}]},failureDescriptionUnknownError:{id:"5FdjQq",defaultMessage:[{type:0,value:"Please try again later."}]},goBack:{id:"H5+jZp",defaultMessage:[{type:0,value:"Go back"}]},done:{id:"6qlzBr",defaultMessage:[{type:0,value:"Done"}]},viewTranaction:{id:"G3i41f",defaultMessage:[{type:0,value:"View transaction"}]},description:{id:"jUgCi8",defaultMessage:[{type:0,value:"You paid "},{type:1,value:"eth"},{type:0,value:" to buy "},{type:1,value:"nftName"},{type:0,value:". No need to wait, we'll let you know when it's complete."}]}});function T(){var e=(0,r.A)().formatMessage,t=(0,l.W6)().push,n=(0,g.A)(m.Zd),o=n.unsignedTx,a=n.signedTx,h=n.txSigningError,L=n.collectible,k=n.wallet,I=(0,f.lE)(m.Im).goToStep,T=(0,l.g)(),M=T.contractAddress,S=T.tokenId,_=T.chainId,B=(0,i.useMemo)((function(){return{contractAddress:M,tokenId:S,chainId:_}}),[M,S,_]),E=(0,c.J9)().formatToCrypto,A=(0,i.useMemo)((function(){return a.value?d.n.SUCCESS:d.n.FAILURE}),[a.value]);(0,u.y)((function(){A===d.n.SUCCESS?(0,s.Uz)(B):(0,s.V2)(B)}));var H=(0,i.useCallback)((function(){(0,s.hm)(B),t(y.Q.TRANSACTIONS)}),[B,t]),j=(0,i.useCallback)((function(){(0,s.Q)(B),I("collectibleListingDetail")}),[B,I]),G=(0,i.useCallback)((function(){(0,s.FP)(B),I("collectibleListingDetail")}),[B,I]),P=(0,i.useMemo)((function(){return{key:"done",children:e(w.done),variant:"primary",onClick:j,testID:"buy-listing-success-done-btn"}}),[e,j]),D=(0,i.useMemo)((function(){return{key:"view-transaction",children:e(w.viewTranaction),variant:"secondary",onClick:H,testID:"buy-listing-view-transaction-btn"}}),[e,H]),O=(0,i.useMemo)((function(){return{key:"go-back",children:e(w.goBack),variant:"primary",onClick:G,testID:"buy-listing-failure-go-back-btn"}}),[e,G]),N=(0,i.useMemo)((function(){return E({currencyCode:k.value.currencyCode,decimals:k.value.decimals,value:o.value.transferValue,overridePrivacy:!0})}),[k.value,o.value,E]),F=(0,i.useMemo)((function(){var t,n;return A===d.n.SUCCESS?{status:A,title:(0,v.jsx)(b.f,{as:"span",children:e(w.title)}),description:(0,v.jsx)(p.K,{as:"label",color:"fgMuted",children:e(w.description,{eth:N,nftName:null===(n=L.value)||void 0===n?void 0:n.name})}),primaryButtonProps:P,secondaryButtonProps:D}:{status:A,title:(0,v.jsx)(b.f,{as:"span",children:e(w.failureTitle)}),description:(0,v.jsx)(p.K,{as:"label",color:"fgMuted",children:(null===(t=h.value)||void 0===t?void 0:t.message)||e(w.failureDescriptionUnknownError)}),primaryButtonProps:O}}),[P,D,O,e,A,L.value,h.value,N]);return(0,v.jsx)(d.x,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},F))}I(T,"useIntl{{ formatMessage }}\nuseHistory{{ push }}\nuseFields{{\n    unsignedTx: unsignedTxField,\n    signedTx: signedTxField,\n    txSigningError: txSigningErrorField,\n    collectible: collectibleField,\n    wallet: walletField,\n  }}\nuseStepper{{ goToStep }}\nuseParams{{ contractAddress, tokenId, chainId }}\nuseMemo{analyticsData}\nuseCurrencyFormatter{{ formatToCrypto }}\nuseMemo{status}\nuseOnMount{}\nuseCallback{handleViewTransaction}\nuseCallback{handleDone}\nuseCallback{handleBack}\nuseMemo{doneButton}\nuseMemo{viewTransactionButton}\nuseMemo{goBackButton}\nuseMemo{currencyAmountDisplay}\nuseMemo{transactionStatusProps}",(function(){return[r.A,l.W6,g.A,f.lE,l.g,c.J9,u.y]})),(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(w,"messages","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingStatus/CollectibleBuyListingStatus.tsx"),L.register(T,"CollectibleBuyListingStatus","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleBuyListingStatus/CollectibleBuyListingStatus.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},87745:(e,t,n)=>{n.d(t,{C:()=>z});var o=n(14041),i=n(32183),a=n(8867),r=n(86090),l=n(23291),s=n(87432),c=n(59659),u=n(63753);const d=(0,i.YK)({saleEndsIn:{id:"i+qIah",defaultMessage:"Sale ends in {time}"},saleEndsOn:{id:"Oizkka",defaultMessage:"Sale ends on {date}"}});function f(e){const{formatMessage:t}=(0,a.A)(),{value:n,type:o}=(0,u._)(e?.expirationTime);return o===u.d.TIME?{message:t(d.saleEndsIn,{time:n}),type:o}:n?{message:t(d.saleEndsOn,{date:n}),type:o}:{message:"",type:o}}var g=n(98053),b=n(5264);function p({contractAddress:e,tokenId:t,chainId:n,walletAddress:o,orderId:i=""}){return(0,g.I)([b.mC,e,t,n,o],(async()=>(0,b.QT)({contractAddress:e,tokenId:t,chainId:n,walletAddress:o,orderId:i})),{suspense:!1,useErrorBoundary:!1,staleTime:0,refetchInterval:!1,notifyOnChangeProps:["data"],retry:!1})}var m=n(27141),y=n(7124);function v({contractAddress:e,tokenId:t,chainId:n,wallet:i,orderId:a="",platformName:r}){const[s,c]=(0,o.useState)(!1),u=(0,o.useCallback)((e=>{e?.message?.includes("Balance too low")?(0,l.Ul)():(0,l.pT)(),c(!1)}),[]),d=(0,o.useCallback)((()=>{(0,l.rh)(),c(!1)}),[]),f=(0,o.useCallback)((()=>{(0,l.Un)(),c(!1)}),[]),{data:p,refetch:v,error:h}=function({contractAddress:e,tokenId:t,chainId:n,walletAddress:o,orderId:i,suspense:a=!0,enabled:r=!0,onSuccess:l,onError:s}){return(0,g.I)([b.IC,e,t,n,o,i,a],(async()=>(0,b.KC)({contractAddress:e,tokenId:t,chainId:n,walletAddress:o,orderId:i})),{suspense:a,useErrorBoundary:!1,staleTime:0,refetchInterval:!1,notifyOnChangeProps:["data"],retry:!1,cacheTime:0,enabled:r,onSuccess:l,onError:s})}({contractAddress:e,tokenId:t,chainId:n,walletAddress:i.primaryAddress,orderId:a,enabled:!1,onSuccess:l.cE,onError:u,suspense:!1}),C=(0,o.useMemo)((()=>{if(p)return p.steps[0].executables.map((({transaction:e})=>e))}),[p]),{txs:x,error:L}=(0,y.t)({wallet:i,transactions:C,platformName:r,txTokenAddress:m.DX,chainId:n,flow:"nftBuyListing",onGenerateUnsignedTransactionSuccess:d,onGenerateUnsignedTransactionError:f}),k=(0,o.useCallback)((function(){v(),c(!0)}),[v]);return(0,o.useMemo)((()=>({fetchBuyListingData:k,isFetching:s,txs:x,error:h??L})),[k,s,x,h,L])}var h,C=n(95516),x=n(77365),L=n(72002),k=n(57321),I=n(70918),w=n(57822),T=n(32451),M=n(4681),S=n(4118),_=n(33396),B=n(37121),E=n(98883),A=n(29589),H=n(16510),j=n(77448),G=n(17677),P=n(31085);e=n.hmd(e),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&h(e);var D,O,N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},F=(0,i.YK)({buy:{id:"PTqFaz",defaultMessage:[{type:0,value:"Buy"}]},buyInProgress:{id:"kd0nu/",defaultMessage:[{type:0,value:"Buy in progress"}]}}),U=["reservoir"],W=(0,o.memo)(N((function(e){var t=e.collectible,n=e.listingDetails,i=e.wallet,r=e.chainId,u=e.offchainOrderId,d=void 0===u?"":u,g=(0,a.A)().formatMessage,b=(0,B.A)(E.Zd),p=b.unsignedTx.onChange,m=b.signedTx.value,y=b.wallet.onChange,h=b.collectible.onChange,C=b.platformDomain.onChange,x=(0,_.lE)(E.Im).goToStep,L=(0,c.f)(),I=(0,o.useMemo)((function(){return{contractAddress:t.contractAddress,tokenId:t.tokenId,chainId:r}}),[t,r]);(0,l.P5)(I);var w=(0,S.z)(T.fO.nft_listing_detail,T.H5.load_collectible_listing_detail,{logMetric:!0}).end,M=(0,S.z)(T.fO.nft_listing_detail,T.H5.load_collectible_listing_confirmation,{logMetric:!0}).start;(0,s.y)((function(){w()})),(0,o.useEffect)((function(){y(i)}),[y,i]);var H=f(n),D=(0,o.useMemo)((function(){return n.orderPrice||n.bestAskPrice}),[n]),O=D.platformDomain,N=D.platform,W=D.listingPrice,R=(0,o.useCallback)((function(e){var t;null!=e&&null!==(t=e.message)&&void 0!==t&&t.includes("Balance too low")?x("collectibleBuyListingInsufficientFunds"):L(e)}),[x,L]),z=v({contractAddress:t.contractAddress,tokenId:t.tokenId,chainId:r,wallet:i,orderId:d,platformName:N}),V=z.fetchBuyListingData,X=z.isFetching,K=z.txs,Y=z.error,$=(0,o.useCallback)((function(){(0,l.fS)(I),M(),V()}),[I,M,V]);(0,o.useEffect)((function(){if(Y||void 0===K)R(Y);else if(0!==K.length){var e=K[0];p(e),h(t),C(O),x("collectibleBuyListingConfirmation")}}),[K,p,h,C,x,t,Y,O,L,R]);var Z=(0,o.useMemo)((function(){return!U.includes(N.toLowerCase())}),[N]),q=(0,o.useMemo)((function(){return(null==m?void 0:m.state)===k.W.PENDING?g(F.buyInProgress):g(F.buy)}),[g,m]);return(0,P.jsx)(A.CollectibleDetailCommerceContent,{address:t.contractAddress,tokenId:t.tokenId,chainId:r,tokenCount:"",includeOffers:!1,from:"Listing",listingAmounts:(0,P.jsx)(j.q,{listingPrice:W}),actionBar:Z?(0,P.jsx)(G.I,{loading:X,disabled:(null==m?void 0:m.state)===k.W.PENDING,buttonText:q,onBuyPress:$,expirationTimeMessage:H.message,platform:N,platformDomain:O,bestPricePlatform:n.bestAskPrice.platform}):(0,P.jsx)(P.Fragment,{}),showNavbarExternalLinks:!0})}),"useIntl{{ formatMessage }}\nuseFields{{\n    unsignedTx: { onChange: unsignedTxOnChange },\n    signedTx: { value: signedTx },\n    wallet: { onChange: walletOnChange },\n    collectible: { onChange: collectibleOnChange },\n    platformDomain: { onChange: platformDomainOnChange },\n  }}\nuseStepper{{ goToStep }}\nuseRethrowError{rethrowError}\nuseMemo{analyticsData}\nuseLogCollectibleListingDetailViewed{}\nuseExtensionPerfMark{{ end: endLoadListingDetailPerfMark }}\nuseExtensionPerfMark{{ start: startLoadListingConfirmationPerfMark }}\nuseOnMount{}\nuseEffect{}\nuseCollectibleListingExpirationDateTime{expirationTime}\nuseMemo{{\n    platformDomain,\n    platform: platformName,\n    listingPrice,\n  }}\nuseCallback{handleGenerateListingError}\nuseGenerateCollectibleListingTransaction{{\n    fetchBuyListingData,\n    isFetching,\n    txs,\n    error: generateListingTxError,\n  }}\nuseCallback{handleBuyPress}\nuseEffect{}\nuseMemo{isBuyEnabledForMarketplace}\nuseMemo{buttonText}",(function(){return[a.A,B.A,_.lE,c.f,l.P5,S.z,S.z,s.y,f,v]}))),R=(0,o.memo)(N((function(){var e=(0,r.g)(),t=e.contractAddress,n=e.tokenId,i=e.chainId,a=e.offchainOrderId,l=(0,I.h)(),s=(0,w.e)(l),c=(0,o.useMemo)((function(){return(0,L.JT)(s,i)}),[s,i]);if(void 0===c)throw new Error("no wallet available");var u=(0,C.Q)(),d=(0,x.X)({contractAddress:t,tokenId:n,chainId:i,includeFloorPrice:u,suspense:!1,userAddress:c.primaryAddress}),f=d.data,g=d.isLoading,b=p({contractAddress:t,tokenId:n,chainId:i,walletAddress:c.primaryAddress,orderId:a}),m=b.data,y=b.isLoading;if(g||y)return(0,P.jsx)(H.Y,{renderBlockButton:!0});if(!f)throw new Error("Unable to find collectible listing token");if(!m)throw new Error("Unable to fetch listing. Listing may be expired or deleted.");return(0,P.jsx)(W,{collectible:f,listingDetails:m,wallet:c,chainId:i,offchainOrderId:a})}),"useParams{{ contractAddress, tokenId, chainId, offchainOrderId }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseWalletsForWalletGroupId{wallets}\nuseMemo{nftWallet}\nuseIsNFTFloorPriceEnabled{useFloorPrice}\nuseTokenDetails{{ data: collectible, isLoading: isTokenDetailsLoading }}\nuseCollectibleMarketplaceListingDetails{{ data: listingDetails, isLoading: isMarketplaceListingDetailsLoading }}",(function(){return[r.g,I.h,w.e,C.Q,x.X,p]}))),z=(0,o.memo)((function(){return(0,P.jsx)(M.ff,{children:(0,P.jsx)(R,{})})}));(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(D.register(F,"messages","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleListingDetail/CollectibleListingDetail.tsx"),D.register(U,"DISABLED_BUY_LISTING_MARKETPLACES","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleListingDetail/CollectibleListingDetail.tsx"),D.register(W,"CollectibleListingDetailContent","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleListingDetail/CollectibleListingDetail.tsx"),D.register(R,"CollectibleListingDetail","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleListingDetail/CollectibleListingDetail.tsx"),D.register(z,"CollectibleListingDetailWrapper","/workspaces/apps/extension/src/screens/CollectibleBuyListing/steps/CollectibleListingDetail/CollectibleListingDetail.tsx")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},66491:(e,t,n)=>{n.d(t,{U:()=>g});var o,i=n(32183),a=n(8867),r=n(97541),l=n(57596),s=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var c,u,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=(0,i.YK)({errorMessage:{id:"apx9R5",defaultMessage:[{type:1,value:"Error"},{type:0,value:"Please check back later."}]},goBackHome:{id:"pHyRag",defaultMessage:[{type:0,value:"Go back home"}]}});function g(e){var t=e.error,n=(0,a.A)().formatMessage,o="";return null!=t&&t.message&&null!=t&&t.message.endsWith(". ")?o=null==t?void 0:t.message:null!=t&&t.message&&(o="".concat(null==t?void 0:t.message,". ")),(0,s.jsx)(l.ErrorFallback,{shouldShowEscapeHatch:!1,errorDetails:(0,s.jsx)(r.K,{as:"p",textAlign:"center",paddingTop:2,children:n(f.errorMessage,{Error:o})}),primaryButtonText:n(f.goBackHome)})}d(g,"useIntl{{ formatMessage }}",(function(){return[a.A]})),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(f,"messages","/workspaces/apps/extension/src/screens/ErrorFallback/ErrorFallbackWithContext.tsx"),c.register(g,"ErrorFallbackWithContext","/workspaces/apps/extension/src/screens/ErrorFallback/ErrorFallbackWithContext.tsx")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},77448:(e,t,n)=>{n.d(t,{q:()=>k});var o=n(14041),i=n(96295),a=n(4244),r=n(27301),l=n(52689),s=n(2845),c=n(99172);const u=4n;function d({ethDisplayDecimals:e=u,isFiatAbbreviated:t=!0}){const{formatToCrypto:n,formatToFiat:d}=(0,a.J9)();return(0,o.useCallback)((function(o){return{[s.n2.ETH]:n({currencyCode:l.j.ETH,decimals:i.Kp,value:BigInt(o),maxDisplayDecimals:e,includeCode:!1,overridePrivacy:!0}),[s.n2.USD]:d({fromCurrencyCode:l.j.ETH,decimals:i.Kp,value:BigInt(o),isAbbreviated:t,contractAddress:"",network:c.lg.fromChainId({chainPrefix:i.RC,chainId:1n}),blockchain:new r.J(i.fz),includeCode:!0,formatZeroBalance:!1,overridePrivacy:!0})}}),[n,d,e,t])}var f,g=n(2673),b=n(84492),p=n(15654),m=n(44659),y=n(67209),v=n(93571),h=n(31085);e=n.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var C,x,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=(0,o.memo)(L((function(e){var t=e.listingPrice,n=d({ethDisplayDecimals:4n,isFiatAbbreviated:!1}),i=(0,o.useMemo)((function(){var e;return(0,h.jsxs)(b.z,{alignItems:"center",children:[(0,h.jsx)(g.In,{size:"s",name:"ethereum",color:"fg",paddingEnd:.5}),(0,h.jsx)(m.f,{testID:"collectible-listing-eth-price",as:"p",children:null!==(e=n(t)[s.n2.ETH])&&void 0!==e?e:v.rg})]})}),[t,n]),a=(0,o.useMemo)((function(){var e;return(0,h.jsx)(y.V,{testID:"collectible-listing-usd-price",as:"div",children:null!==(e="".concat(n(t)[s.n2.USD]))&&void 0!==e?e:v.rg})}),[t,n]);return(0,h.jsx)(b.z,{justifyContent:"space-between",paddingX:3,paddingTop:2,testID:"collectible-listing-section",children:(0,h.jsx)(p.T,{alignItems:"flex-start",children:(0,h.jsxs)(h.Fragment,{children:[i,a]})})})}),"useGetListingPrice{getListingPrice}\nuseMemo{cryptoAmount}\nuseMemo{usdAmount}",(function(){return[d]})));(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&C.register(k,"CollectibleBuyListingAmounts","/workspaces/apps/extension/src/screens/Explore/components/CollectibleBuyListingAmounts/CollectibleBuyListingAmounts.tsx"),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},17677:(e,t,n)=>{n.d(t,{I:()=>L});var o,i=n(14041),a=n(32183),r=n(8867),l=n(72002),s=n(85581),c=n(2673),u=n(15654),d=n(84492),f=n(59600),g=n(86382),b=n(94330),p=n(93952),m=n(31085);e=n.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var y,v,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},C="16px",x=(0,a.YK)({bestPriceLabel:{id:"6S3s5y",defaultMessage:[{type:0,value:"Best price"}]},bestPriceTooltip:{id:"S0rT0i",defaultMessage:[{type:0,value:"Best price sourced from "},{type:1,value:"platformDomain"},{type:0,value:". We scan multiple marketplaces to find the lowest sale price for this item."}]}}),L=(0,i.memo)(h((function(e){var t=e.loading,n=e.disabled,o=e.buttonText,a=e.onBuyPress,y=e.expirationTimeMessage,v=e.platform,h=e.platformDomain,L=e.bestPricePlatform,k=(0,r.A)().formatMessage,I=(0,i.useMemo)((function(){return(0,l.t1)({platform:v})}),[v]),w=(0,i.useMemo)((function(){return(0,l.t1)({platform:L})}),[L]),T=(0,i.useMemo)((function(){return I===w}),[I,w]),M=(0,i.useMemo)((function(){return(0,p.D)(I)}),[I]);return(0,m.jsxs)(u.T,{padding:2,gap:1,children:[(0,m.jsx)(s.$n,{testID:"nft-native-buy-button",onClick:a,loading:t,disabled:n,children:(0,m.jsx)(d.z,{gap:1,alignItems:"center",children:o})}),(0,m.jsxs)(d.z,{gap:3,children:[y?(0,m.jsxs)(d.z,{alignItems:"center",gap:1,children:[(0,m.jsx)(c.In,{size:"xs",name:"clock",color:"fg"}),(0,m.jsx)(b.C,{as:"p",children:y})]}):null,(0,m.jsxs)(d.z,{alignItems:"center",gap:1,children:[(0,m.jsx)(f.W,{width:C,height:C,alt:"platform",source:M,shape:"squircle"}),T?(0,m.jsx)(b.C,{as:"p",children:k(x.bestPriceLabel)}):I,T?(0,m.jsx)(g.m,{gap:0,content:k(x.bestPriceTooltip,{platformDomain:h}),placement:"bottom",children:(0,m.jsx)(c.In,{size:"xs",name:"info",color:"fg",testID:"collectible-listing-actions-info-icon"})}):null]})]})]})}),"useIntl{{ formatMessage }}\nuseMemo{platformName}\nuseMemo{bestPricePlatformName}\nuseMemo{isBestPrice}\nuseMemo{platformIcon}",(function(){return[r.A]})));(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(C,"ICON_SIZE","/workspaces/apps/extension/src/screens/Explore/components/CollectibleListingActions/CollectibleListingActions.tsx"),y.register(x,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectibleListingActions/CollectibleListingActions.tsx"),y.register(L,"CollectibleListingActions","/workspaces/apps/extension/src/screens/Explore/components/CollectibleListingActions/CollectibleListingActions.tsx")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},98883:(e,t,n)=>{n.d(t,{Im:()=>a,LX:()=>r,Zd:()=>l});var o=n(33396),i=n(40019);const a=(0,o.KT)({steps:["collectibleListingDetail","collectibleBuyListingInsufficientFunds","collectibleBuyListingConfirmation","collectibleBuyListingPhoneConfirmation","collectibleBuyListingStatus"],defaultStep:"collectibleListingDetail"}),r={unsignedTx:void 0,signedTx:void 0,txSigningError:void 0,collectible:void 0,wallet:void 0,platformDomain:void 0},l=(0,i.A)({initialValues:r})},23291:(e,t,n)=>{n.d(t,{BF:()=>b,B_:()=>g,Ct:()=>M,Eo:()=>x,FP:()=>v,Fc:()=>s,J6:()=>l,OV:()=>c,P5:()=>a,Pj:()=>k,Q:()=>y,Rr:()=>f,Ul:()=>E,Un:()=>_,Uz:()=>p,V2:()=>m,Vm:()=>T,cE:()=>B,ec:()=>L,fS:()=>r,hj:()=>w,hm:()=>h,j7:()=>u,op:()=>C,pT:()=>A,rh:()=>S,vH:()=>d,wQ:()=>I});var o=n(34767),i=n(55452);function a(e){(0,i.cp)("buy_nft_listing.listing_detail.viewed",{loggingId:"534e2621-aed0-4b69-a3d0-bc19b97ad51f",action:o.X2.view,componentType:o.I5.page,...e})}function r(e){(0,i.Np)("buy_nft_listing.listing_detail.buy.clicked",{loggingId:"6bdea0a7-220b-440c-8285-1fff2aa9c949",action:o.X2.click,componentType:o.I5.button,...e})}function l(e){(0,i.cp)("buy_nft_listing.insufficient_funds.viewed",{loggingId:"2154ad11-bba2-427c-ab5b-371b4b294125",action:o.X2.view,componentType:o.I5.page,...e})}function s(e){(0,i.Np)("buy_nft_listing.insufficient_funds.buy.clicked",{loggingId:"2154ad11-bba2-427c-ab5b-371b4b294125",action:o.X2.click,componentType:o.I5.button,...e})}function c(e){(0,i.Np)("buy_nft_listing.insufficient_funds.receive.clicked",{loggingId:"2154ad11-bba2-427c-ab5b-371b4b294125",action:o.X2.click,componentType:o.I5.button,...e})}function u(e){(0,i.cp)("buy_nft_listing.confirmation_detail.viewed",{loggingId:"da8dd111-3eee-4264-8950-f1bc30efe471",action:o.X2.view,componentType:o.I5.page,...e})}function d(e){(0,i.Np)("buy_nft_listing.confirmation.cancel.clicked",{loggingId:"37678dc2-113d-4fd0-8dc6-d0611dbdf37f",action:o.X2.click,componentType:o.I5.button,...e})}function f(e){(0,i.Np)("buy_nft_listing.confirmation.confirm.clicked",{loggingId:"12791a43-8859-4451-8b2b-10f1f44ec388",action:o.X2.click,componentType:o.I5.button,...e})}function g(e){(0,i.cp)("buy_nft_listing.phone_confirmation.viewed",{loggingId:"37f420b3-c5c4-4c16-a8cc-7e9805c7cc54",action:o.X2.view,componentType:o.I5.page,...e})}function b(e){(0,i.Np)("buy_nft_listing.phone_confirmation.retry.clicked",{loggingId:"08cf6906-93e8-4f91-86eb-db1f3f4fe817",action:o.X2.click,componentType:o.I5.button,...e})}function p(e){(0,i.Np)("buy_nft_listing.status.success.viewed",{loggingId:"43bdbe37-eb25-45a3-92e6-6483861da1e7",action:o.X2.view,componentType:o.I5.page,...e})}function m(e){(0,i.Np)("buy_nft_listing.status.error.viewed",{loggingId:"e6d91d50-0575-46e8-96e7-dba814e6191b",action:o.X2.view,componentType:o.I5.page,...e})}function y(e){(0,i.Np)("buy_nft_listing.status.done.clicked",{loggingId:"c93cf96c-e4cd-4665-8569-81adc21b9021",action:o.X2.click,componentType:o.I5.button,...e})}function v(e){(0,i.Np)("buy_nft_listing.status.back.clicked",{loggingId:"309d28a0-e061-4e48-b003-329e57656bcf",action:o.X2.click,componentType:o.I5.button,...e})}function h(e){(0,i.Np)("buy_nft_listing.status.view_transaction.clicked",{loggingId:"d4091d5b-70fe-4db7-99a3-ff50d1704fa9",action:o.X2.click,componentType:o.I5.button,...e})}function C({errorHash:e,errorMessage:t}){(0,i.$s)("collectible_buy_listing.full_screen_error.viewed",{errorHash:e,errorMessage:t,loggingId:"9be24857-d288-49f6-9748-d2cc77dd9889",action:o.X2.view,componentType:o.I5.page})}function x(){(0,i.N8)({metricName:"buy_nft_listing.confirm_standalone",metricType:o.vj.count,value:1})}function L(){(0,i.N8)({metricName:"buy_nft_listing.error_standalone",metricType:o.vj.count,value:1})}function k(){(0,i.N8)({metricName:"buy_nft_listing.phone_confirmation.mobile_approve",metricType:o.vj.count,value:1})}function I(){(0,i.N8)({metricName:"buy_nft_listing.phone_confirmation.mobile_cancel",metricType:o.vj.count,value:1})}function w(){(0,i.N8)({metricName:"buy_nft_listing.phone_confirmation.wallet_link_error",metricType:o.vj.count,value:1})}function T(){(0,i.N8)({metricName:"buy_nft_listing.confirm_ledger",metricType:o.vj.count,value:1})}function M(){(0,i.N8)({metricName:"buy_nft_listing.error_ledger",metricType:o.vj.count,value:1})}function S(){(0,i.N8)({metricName:"buy_nft_listing.generate_unsigned_tx_success",metricType:o.vj.count,value:1})}function _(){(0,i.N8)({metricName:"buy_nft_listing.generate_unsigned_tx_failure",metricType:o.vj.count,value:1})}function B(){(0,i.N8)({metricName:"buy_nft_listing.fetch_buy_tx_data_success",metricType:o.vj.count,value:1})}function E(){(0,i.N8)({metricName:"buy_nft_listing.fetch_buy_tx_data_insufficient_funds",metricType:o.vj.count,value:1})}function A(){(0,i.N8)({metricName:"buy_nft_listing.fetch_buy_tx_data_error",metricType:o.vj.count,value:1})}},59659:(e,t,n)=>{n.d(t,{f:()=>i});var o=n(14041);function i(){const[e,t]=(0,o.useState)(null);return(0,o.useEffect)((function(){if(e)throw e}),[e]),t}},36760:(e,t,n)=>{n.d(t,{j:()=>a});var o=n(14041),i=n(46122);function a(e){return(0,o.useMemo)((()=>!!e&&(0,i.US)(e.network)),[e])}},72707:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(52845);const i=async(e,{hash:t})=>{const n=[t],i=await e.request({method:"eth_getUserOperationReceipt",params:n});if(!i)return null;return{userOpHash:i.userOpHash,sender:i.sender,nonce:BigInt(i.nonce),actualGasUsed:BigInt(i.actualGasUsed),actualGasCost:BigInt(i.actualGasCost),success:i.success,receipt:{transactionHash:i.receipt.transactionHash,transactionIndex:BigInt(i.receipt.transactionIndex),blockHash:i.receipt.blockHash,blockNumber:BigInt(i.receipt.blockNumber),from:i.receipt.from,to:i.receipt.to,cumulativeGasUsed:BigInt(i.receipt.cumulativeGasUsed),status:o.$[i.receipt.status],gasUsed:BigInt(i.receipt.gasUsed),contractAddress:i.receipt.contractAddress,logsBloom:i.receipt.logsBloom,effectiveGasPrice:BigInt(i.receipt.effectiveGasPrice)},logs:i.logs.map((e=>({data:e.data,blockNumber:BigInt(e.blockNumber),blockHash:e.blockHash,transactionHash:e.transactionHash,logIndex:BigInt(e.logIndex),transactionIndex:BigInt(e.transactionIndex),address:e.address,topics:e.topics})))}}}}]);
//# sourceMappingURL=1396.js.map