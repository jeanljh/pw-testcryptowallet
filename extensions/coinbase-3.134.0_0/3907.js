try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ab03c9ff-77ca-441d-9c4d-822d7fa0e608",e._sentryDebugIdIdentifier="sentry-dbid-ab03c9ff-77ca-441d-9c4d-822d7fa0e608")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[3907],{83992:(e,t,a)=>{var n,o,r,s=a(38851),l=a(66430),c=a(10168);function d(e){var t=e.mutationKey,a=e.mutationFn,n=e.onSuccess;return(0,s.n)({mutationKey:t,mutationFn:a,onSuccess:n,retry:function(e,t){return!(t instanceof c.I&&!t.shouldRetry)&&e<l.a_}})}e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useMutation{}",(function(){return[s.n]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(d,"useMutationWithRetry","/workspaces/libs/data/scw/api/utils/useMutationWithRetry.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},68611:(e,t,a)=>{a.d(t,{l:()=>i});var n,o,r,s=a(14041),l=a(56622),c=a.n(l),d=a(39037);function i(e){var t=e.wallets,a=e.query;return(0,s.useMemo)((function(){return null!=t&&t.length?0===a.length?t:function({wallets:e,query:t}){if(!t)return e;const a=e.reduce((function(e,a){return null!==(0,d.b)(t,a.currencyCode.code,a.displayName,a.contractAddress).relevance&&e.push(a),e}),[]);return c()(a,["relevance","coverage"],["asc","desc"])}({wallets:t,query:a}):[]}),[t,a])}e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useMemo{}"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(i,"useWalletSearch","/workspaces/libs/data/stores/Wallets/hooks/useWalletSearch.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},95195:(e,t,a)=>{a.d(t,{N:()=>w});var n,o=a(14041),r=a(32183),s=a(8867),l=a(66181),c=a(26205),d=a(79071),i=a.n(d),u=a(55799),f=a(41951),p=a(31085);function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y,h,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,r.YK)({crypto:{id:"ezw1uG",defaultMessage:[{type:0,value:"Crypto"}]},NFTs:{id:"3+R4k5",defaultMessage:[{type:0,value:"NFTs"}]}}),w=(0,o.memo)(m((function(e){var t=e.isNFTSelected,a=e.onChange,n=e.from,r=e.hideNFT,d=(0,s.A)().formatMessage,b=(0,c.$)(),y=(0,l.l)("kill_switch_nft_portfolio_tab_extension")||"Send"===n&&b,h=(0,o.useCallback)((function(){a("crypto")}),[a]),m=(0,o.useCallback)((function(){a("nft")}),[a]),w=(0,o.useMemo)((function(){return t?"nfts":"crypto"}),[t]),x=(0,o.useMemo)((function(){return[{id:"crypto",label:d(v.crypto),onClick:h}].concat(g(y||r?[]:[{id:"nfts",label:d(v.NFTs),onClick:m}]))}),[d,h,m,y,r]);return(0,p.jsx)(u.a,{paddingBottom:2,paddingX:2,marginTop:-3,paddingTop:4,children:(0,p.jsx)(f.ah,{testID:"crypto-ntf-selector-nav",value:w,tabs:x,onChange:i()})})}),"useIntl{{ formatMessage }}\nuseIsNFTSendKilled{killNftSend}\nuseKillSwitch{}\nuseCallback{handleGoToPortfolio}\nuseCallback{handleGoToPortfolioNFT}\nuseMemo{value}\nuseMemo{tabs}",(function(){return[s.A,c.$,l.l]})));(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(v,"messages","/workspaces/libs/wallet-cds-extension/components/CryptoNFTSelector/CryptoNFTSelector.tsx"),y.register(w,"CryptoNFTSelector","/workspaces/libs/wallet-cds-extension/components/CryptoNFTSelector/CryptoNFTSelector.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},83260:(e,t,a)=>{a.d(t,{A:()=>m});var n,o=a(14041),r=a(32183),s=a(8867),l=a(50866),c=a(70846),d=a(2673),i=a(84492),u=a(55799),f=a(86382),p=a(28118),g=a(98055),b=a(31085);e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=(0,r.YK)({chainDisplayName:{id:"GzartR",defaultMessage:[{type:0,value:"On "},{type:1,value:"name"}]},chainTitleWithSuffix:{id:"iNKvVW",defaultMessage:[{type:1,value:"name"},{type:0,value:" "},{type:1,value:"suffix"}]},chainTitle:{id:"Nust95",defaultMessage:[{type:1,value:"name"}]},tooltipText:{id:"v9mnGS",defaultMessage:[{type:0,value:"Switch networks"}]},mainnet:{id:"+cFBPN",defaultMessage:[{type:0,value:"Mainnet"}]},testnet:{id:"uSA5bo",defaultMessage:[{type:0,value:"Testnet"}]}});function m(e){var t=e.network,a=e.onPress,n=e.chainDetails,r=(0,s.A)().formatMessage,l=(0,c.T1)({chainDetails:n});(0,c.Pd)({chainDetails:n});var y=(0,o.useCallback)((function(){l(),a()}),[a,l]);if(!t)return null;var m=t.asChain(),v=r(h.chainDisplayName,{name:null==m?void 0:m.displayName}),w=null!=m&&m.isTestnet?r(h.chainTitleWithSuffix,{name:v,suffix:r(h.testnet)}):r(h.chainTitle,{name:v});return(0,b.jsx)(p.o,{background:"transparent",onClick:y,testID:"network-selection-sub-header",children:(0,b.jsx)(u.a,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(f.m,{content:r(h.tooltipText),placement:"bottom",children:(0,b.jsxs)(i.z,{alignItems:"center",justifyContent:"center",background:"bgSecondary",borderRadius:1e3,paddingX:1,flexShrink:1,height:28,children:[null!=m&&m.chainImageUrl?(0,b.jsx)(x,{src:null==m?void 0:m.chainImageUrl,alt:"".concat(null==m?void 0:m.displayName," icon")}):null,(0,b.jsxs)(i.z,{alignItems:"center",children:[(0,b.jsx)(g.v,{testID:"network-selection-current-network",as:"p",color:"fg",children:w}),(0,b.jsx)(d.In,{name:"caretRight",size:"xs",color:"fg",paddingStart:.5})]})]})})})})}y(m,"useIntl{{\n    formatMessage\n  }}\nuseNetworkSwitcherOpen{triggerNetworkSwitcherOpen}\nuseNetworkSwitcherViewed{}\nuseCallback{onOpenNetworkSelection}",(function(){return[s.A,c.T1,c.Pd]}));var v,w,x=(0,l.I)("img")({name:"Image",class:"ic7twu",propsAsIs:!1});a(26745),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(h,"messages","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionSubHeader.tsx"),v.register(m,"NetworkSelectionSubHeader","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionSubHeader.tsx"),v.register(x,"Image","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionSubHeader.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},60479:(e,t,a)=>{a.d(t,{g:()=>p});var n,o=a(32183),r=a(8867),s=a(28705),l=a(55799),c=a(31085);e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var d,i,u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=(0,o.YK)({searchInputPlaceholder:{id:"D8ckHq",defaultMessage:[{type:0,value:"Search"}]}});function p(e){var t=e.query,a=e.onChange,n=e.autoFocus,o=void 0===n||n,d=(0,r.A)().formatMessage;return(0,c.jsx)(l.a,{paddingX:2,paddingBottom:1,children:(0,c.jsx)(s.D,{name:"search-asset",value:t,onChangeText:a,type:"text",placeholder:d(f.searchInputPlaceholder),testID:"search-asset-text-input",autoFocus:o})})}u(p,"useIntl{{ formatMessage }}",(function(){return[r.A]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(f,"messages","/workspaces/libs/wallet-cds-extension/components/SearchAssetBar.tsx"),d.register(p,"SearchAssetBar","/workspaces/libs/wallet-cds-extension/components/SearchAssetBar.tsx")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},26745:(e,t,a)=>{a.r(t)},56328:(e,t,a)=>{a.d(t,{j:()=>l});var n=a(33396);const o=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","ledger-success","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],r=new URLSearchParams(window.location.search).get("step"),s=o.find((e=>e===r)),l=(0,n.KT)({steps:o,defaultStep:s??"loading"})},95974:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(33396),o=a(56328);function r(){return(0,n.lE)(o.j)}},64593:(e,t,a)=>{a.d(t,{q:()=>H});var n=a(13394),o=a(31700),r=(a(74740),a(89962));a(83992),a(10168);const s="scw/getAccounts";function l(e){return e.eoaMeta?{address:(0,r.bv)(e.baseContractAddress),factoryCalldata:"",factoryAddress:"",signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}:{address:(0,r.bv)(e.baseContractAddress),factoryCalldata:e.deploymentMeta?.factoryCalldata,factoryAddress:e.deploymentMeta?.factoryAddress,signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}}var c=a(62396),d=a(42066),i=a(58732),u=a(74146);const f="scwDataForAccount",p=36e5;async function g(e){return o.qQ.fetchQuery({queryKey:[f,e],queryFn:async()=>async function(e){if(!c.g.isSCWAccount(e))return;const t=c.g.parseAddressFromId(e);return b(t)}(e),staleTime:p})}async function b(e){const{accounts:t}=await(0,u.hm)(s,{baseContractAddress:e},{authenticated:!0,setAuthTokens:d.PR,apiVersion:3});if(!t?.length)throw new Error(`No scw account received from backend for address ${e}`);const a=t.find((t=>(0,i.L)(t.baseContractAddress,e)));if(!a)throw new Error(`Incorrect scw account from server for address ${e}`);if(!a?.signers?.length)throw new Error(`No signers found for address ${e}`);return l(a)}var y=a(30666),h=a(55459),m=a(65846),v=a(92517),w=a(38903);function x(e){return(0,m.di)((0,v.S)((0,w.nj)(e)),0,16)}const L=x("Coinbase Wallet"),S=x("com.coinbase.wallet"),k="0x00";function C(e){if(h.Z.getIsFeatureEnabled("scw_data_suffix")){const a=(t=S)?(0,y.xW)([L,k,t]):L;return(0,y.xW)([e,a])}var t;return e}async function H(e){const t=await g(e);if(!t){const e=new Error("scw data for account undefined");throw(0,n.gf)({context:"scw-error",error:e,isHandled:!1,severity:"error"}),e}return{txType:"UserOp",accountInitCode:C((0,y.xW)([t.factoryAddress,t.factoryCalldata])),paymentMethod:"WALLET"}}},10168:(e,t,a)=>{a.d(t,{I:()=>n});class n extends Error{constructor(e,t=!1){super(e),this.message=e,this.shouldRetry=t,this.shouldRetry=t}}},36760:(e,t,a)=>{a.d(t,{j:()=>r});var n=a(14041),o=a(46122);function r(e){return(0,n.useMemo)((()=>!!e&&(0,o.US)(e.network)),[e])}},58732:(e,t,a)=>{function n(e,t){return e?.toLowerCase()===t?.toLowerCase()}a.d(t,{L:()=>n})},39037:(e,t,a)=>{function n(e,t,a,n){const o=e.toLowerCase(),r=t.toLowerCase().indexOf(o),s=a?a.toLowerCase().indexOf(o):-1,l=n?n.toLowerCase().indexOf(o):-1;return r>=0&&(r<=s||s<=-1)?{relevance:r,coverage:o.length/t.length}:a&&s>=0?{relevance:s,coverage:o.length/a.length}:n&&l>=0?{relevance:l,coverage:o.length/n.length}:{relevance:null,coverage:0}}a.d(t,{b:()=>n})},19253:(e,t,a)=>{function n(e){return e||0===e?e.toString().replace(/[^#a-z0-9%()., _-]/gi,""):""}a.d(t,{p:()=>n})}}]);
//# sourceMappingURL=3907.js.map