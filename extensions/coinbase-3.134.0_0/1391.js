/*! For license information please see 1391.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5d96d59a-a859-4c88-b4a3-4f021c4fbbf5",e._sentryDebugIdIdentifier="sentry-dbid-5d96d59a-a859-4c88-b4a3-4f021c4fbbf5")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[1391],{87755:(e,t,n)=>{"use strict";n.d(t,{D:()=>E});var a,r=n(14041),o=n(32183),s=n(8867),i=n(33874),l=n(86768),c=n(50259),d=n(26958),u=n(24905),p=n(59706),f=n(91965),m=n(85581),g=n(34107),b=n(15654),y=n(55799),h=n(60149),v=n(97541),T=n(94330),w=n(98055),x=n(52331),C=n(95974),k=n(70660),L=n(81475),S=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var A,M,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},R="hw-trouble-connecting",D=(0,o.YK)({tryAgainCTA:{id:"FazwRl",defaultMessage:[{type:0,value:"Try again"}]},backButtonAriaLabel:{id:"p72mKW",defaultMessage:[{type:0,value:"Go back"}]},errorMessage:{id:"29gmtd",defaultMessage:[{type:0,value:"Error: "},{type:1,value:"error"}]},havingTrouble:{id:"sPl3k8",defaultMessage:[{type:0,value:"Having trouble?"}]},gotIt:{id:"NYTGIb",defaultMessage:[{type:0,value:"Got it"}]}});function E(e){var t=e.statusCode,n=e.errorMessage,a=e.errorId,o=e.handleBack,A=(0,s.A)().formatMessage,M=(0,C.A)().goBack,I=(0,i.f)();(0,L.R)("errorMessage:",n,"statusCode:",t,"errorId:",a);var E=(0,l.bV)(t,a),j=(0,r.useCallback)((function(){o?o():M()}),[M,o]),F=(0,r.useCallback)((function(){(0,k.p4)(c.CO.LEDGER)}),[]);return(0,S.jsxs)(b.T,{height:u.pA,justifyContent:"space-between",testID:"".concat(R,"-container"),children:[(0,S.jsxs)(b.T,{children:[(0,S.jsx)(y.a,{marginStart:-1,children:(0,S.jsx)(f.K,{testID:"".concat(R,"-back-btn"),name:"backArrow",onClick:j,transparent:!0,accessibilityLabel:A(D.backButtonAriaLabel)})}),(0,S.jsx)(b.T,{alignItems:"center",justifyContent:"flex-start",paddingTop:3,children:t===l.UB?(0,S.jsx)(g.g,{name:"ledgerSignatureRejected",scaleMultiplier:1}):(0,S.jsx)(p.t,{illustration:"LedgerErrorMiami",children:(0,S.jsx)(g.g,{name:"ledgerFailed",scaleMultiplier:1})})})]}),(0,S.jsxs)(b.T,{gap:2,children:[(0,S.jsx)(h.f,{as:"p",children:A(E[0])}),(0,S.jsx)(v.K,{as:"p",color:I?"fg":"fgMuted",children:A(E[1])}),void 0!==t&&!(0,l.ux)(t)&&(0,S.jsx)(T.C,{as:"p",children:A(D.errorMessage,{error:t})}),n&&(null==n?void 0:n.length)>0&&(0,S.jsx)(w.v,{as:"p",children:A(D.errorMessage,{error:n})})]}),(0,S.jsxs)(b.T,{alignItems:"center",gap:2,children:[(0,S.jsx)(m.$n,{testID:"".concat(R,"-try-again-btn"),block:!0,onClick:j,children:t===l._c?A(D.gotIt):A(D.tryAgainCTA)}),(0,S.jsx)(d.V,{unset:!0,children:(0,S.jsx)(S.Fragment,{children:t!==l._c&&(0,S.jsx)(x.N,{testID:"".concat(R,"-having-trouble"),font:"body",color:"fgPrimary",onClick:F,as:"button",children:A(D.havingTrouble)})})})]})]})}I(E,"useIntl{{ formatMessage }}\nuseOnboardingStepper{{ goBack }}\nuseMiamiIllustrationsEnabled{isMiamiIllustrationsEnabled}\nuseCallback{handleOnBackOrTryAgainPress}\nuseCallback{handleHavingTroublePress}",(function(){return[s.A,C.A,i.f]})),(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register(R,"testIDPrefix","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),A.register(D,"messages","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),A.register(E,"HWTroubleConnecting","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},41157:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DappTransactionRequest:()=>be});var a=n(14041),r=n(2719),o=n(84141),s=n(52135),i=n(58910),l=n(71847),c=n(84213),d=n(46122),u=n(51676),p=n(27301),f=n(52689),m=n(99172);var g=n(62396),b=n(76116),y=n(62251),h=n(44737),v=n(23804),T=n(22715),w=n(77981),x=n(22767);var C=n(62207);var k=n(45085),L=n(64593);async function S({wallet:e,calls:t,paymasterService:n,dappOrigin:a}){return{...await(0,L.q)(e.accountId),isPaymasterApplicable:!0,calls:t,callData:(0,k.b)({calls:t}),paymasterService:n,dappOrigin:a}}async function A({request:e,txSource:t,wallets:n}){const a=(0,T.w$)(e),r=e.params.chainId,o=function(e,t,n){const a=u.ay.fromChainId(t);if(!a)throw new Error("Illegal chain id passed in $chainId");const r=(0,d.zL)(a);return n.find((t=>p.J.isEqual(t.blockchain,d.vj.blockchain)&&f.j.isEqual(t.currencyCode,d.vj.currencyCodeForNetwork(r))&&m.lg.isEqual(t.network,r)&&t.isBaseAsset&&t.primaryAddress.toLowerCase()===e.toLowerCase()))}(a?e.params.from:e.params.fromAddress,BigInt(r),n);if(!o)throw new Error("No wallet found");const s=(0,d.uz)(o.network.rawValue),i=await(0,x.tj)(o.primaryAddress,s.rpcUrl,!0),l=i!==o.balance,k=l?new v.u({...o,balance:i}):o;l&&((0,c.UU)({blockchain:"ETH",chainName:s.displayName,chainId:s.chainId.toString()}),await(0,h.Yk)([k]));const L=new Map([[d.kV,t],[d.E_,(0,w.A)()],[y.Lm,!1]]);let A;if(g.g.isSCWAccount(o.accountId)){const{userOpConfig:t,recipientAddress:n}=await async function(e,t){if((0,T.w$)(e)){return{userOpConfig:await S({wallet:t,calls:e.params.calls,paymasterService:{paymasterURL:e.params.capabilities?.paymasterService?.url,dappContext:e.params.capabilities?.paymasterService?.context},dappOrigin:e.dappOrigin}),recipientAddress:e.params.calls[0]?.target}}const{data:n,toAddress:a,weiValue:r}=e.params,o=await S({wallet:t,calls:[{data:n??"0x",target:a,value:BigInt(r??0n)}]});return{userOpConfig:o,recipientAddress:a}}(e,k);A=await(0,b.Z)({wallet:k,recipientAddress:n,txOrUserOpConfig:t,transactionAmount:{kind:"Amount",value:0n},metadata:L})}else{const t=e.params,n=function({params:e}){const t=m.lg.fromChainId({chainId:BigInt(e.chainId)}),n=(0,d.US)(t),a={dataBuffer:e.data?(0,C.im)(e.data):void 0,nonce:null!==e.nonce?BigInt(e.nonce):void 0},r={...a,txType:"1559",selectedGasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,selectedBaseFeePerGas:void 0,selectedMaxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0},o={...a,txType:"Legacy",selectedGasPrice:e.gasPriceInWei?BigInt(e.gasPriceInWei):void 0,selectedGasLimit:e.gasLimit?BigInt(e.gasLimit):void 0};return n?r:o}({params:t});if(A=await(0,b.Z)({wallet:k,recipientAddress:t.toAddress,transactionAmount:{kind:"Amount",value:BigInt(t.weiValue)},metadata:L,txOrUserOpConfig:n}),function(e,t,n){return!(!e||!t)&&(e.toLowerCase()===t.toLowerCase()&&!!n&&"0x"!==n)}(t.fromAddress,t.toAddress??null,t.data)){const e=new Error("External transactions to internal accounts cannot include data");A.kind="Failure",A.err=e}}return"Failure"===A.kind?{wallet:k,feeWallet:k,unsignedTx:A.transaction,error:A.err}:{wallet:k,feeWallet:k,unsignedTx:A.transaction}}var M=n(3834),I=n(71776),R=n(54065);var D=n(58524),E=n(69434),j=n(44308),F=n(2197),P=n(53670);async function O(e){const t=e.request.method,n=e.request.params.transactions,a=t===E.l.sendTransaction?e.request.params.options:void 0,r=e.isSolanaPriorityFeeEnabled??!1,o=t===E.l.signAllTransactions,s=n.map((async e=>(0,F.f)(e))),i=(await Promise.all(s)).flatMap((e=>e)),l=await async function(e,t){const n=e.map((e=>e.toLowerCase()));return t.find((e=>n?.includes(e.primaryAddress.toLowerCase())))}(i,e.wallets);if(!l)throw I.t.unableToFindWallet;const u=(g=l.primaryAddress,b=l.network,e.wallets.find((e=>p.J.isEqual(e.blockchain,R.Yw.blockchain)&&f.j.isEqual(e.currencyCode,R.Yw.currencyCodeForNetwork(b))&&m.lg.isEqual(e.network,b)&&e.isBaseAsset&&e.primaryAddress.toLowerCase()===g.toLowerCase())));var g,b;if(!u)throw I.t.unableToFindWallet;const T=await(0,j.r1)({address:u.primaryAddress,rpcUrl:D.hR}),x=T!==u.balance,C=x?new v.u({...u,balance:T}):u;x&&((0,c.UU)({blockchain:"SOL"}),await(0,h.Yk)([C]));try{const e=await Promise.all(n.map((async function(e){if(e instanceof M.Transaction&&!e.feePayer)throw I.t.noFeePayerFound;const t=new Map([[d.kV,"extensionStandalone"],[d.E_,(0,w.A)()],[y.Lm,!1]]),n=await(0,P.Z)({wallet:l,recipientAddress:"",transactionAmount:{kind:"Amount",value:0n},metadata:t,nativeDappTransaction:e,shouldSavePendingTransaction:!1,submissionParams:a,isSolanaPriorityFeeEnabled:r});if("Success"!==n.kind)throw I.t.unableToGenerateUnsignedTransaction;return n.transaction})));return{wallet:l,feeWallet:C,unsignedTx:e.length?e[0]:void 0,unsignedTransactions:o?e:void 0,error:void 0}}catch(e){return{wallet:l,feeWallet:C,unsignedTx:void 0,unsignedTransactions:void 0,error:I.t.unableToGenerateUnsignedTransaction}}}var G=n(70960),U=n(69148),H=n(48097),q=n(52493),N=n(56979),W=n(79071),B=n.n(W),_=n(92271),V=n(55799),K=n(69647),z=n(74994),Z=n(19529),$=n(29740),X=n(96295),Y=n(67662);var J,Q=n(23426),ee=n(79669),te=n(92229),ne=n(90485),ae=n(6507),re=n(13783),oe=n(7888),se=n(9684),ie=n(65103),le=n(31085);function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(J="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&J(e);var ue,pe,fe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},me=596,ge={wallet:void 0,feeWallet:void 0,unsignedTx:void 0,unsignedTransactions:void 0};function be(e){var t,n,c,d=e.options,u=e.dappProviderType,p=ce((0,a.useState)(ge),2),f=p[0],m=p[1],g=ce((0,a.useState)(!1),2),b=g[0],y=g[1],h=N.b[u],v=(0,q.H)(),w=(0,U.f)(),x=(0,l.x)("solana_transaction_priority_fee"),C=h===i.KN,k=(0,Q.U)(),L=(0,ee.X)(),S=(0,te.X)();(0,a.useEffect)((function(){(async function({request:e,txSource:t,wallets:n,isSolanaPriorityFeeEnabled:a}){const r={wallet:void 0,unsignedTx:void 0,unsignedTransactions:void 0};if((0,T.Hs)(e)){const t=await O({request:e,wallets:n,isSolanaPriorityFeeEnabled:a});return{...r,...t}}const o=await A({request:e,wallets:n,txSource:t??"dappBrowser"});return{...r,...o}})({request:d.request,txSource:"extensionStandalone",wallets:v,isSolanaPriorityFeeEnabled:x}).then((function(e){(0,z.kE)({request:d.kind,dappURL:d.dappURL,blockchain:h}),m(e)})).catch((function(e){(0,z.Ff)({request:d.kind,dappURL:d.dappURL,blockchain:h,eventData:{error:e.message}})})).finally((function(){y(!0)}))}),[u,m,d,h,v,x]);var M=f.wallet,I=f.feeWallet,R=f.unsignedTx,D=f.unsignedTransactions,j=f.error,F=(0,a.useCallback)((function(){S()?L():(0,Z.f)(50)}),[L,S]),P=(0,H.u)({unsignedTxOrUserOp:R,wallet:M,request:d.kind,dappURL:(0,s.m)(d.dappURL)}),W=P.txScannerData,J=P.txScannerNotices,de=P.isTxScannerLoading,ue=P.isTxScannerError,pe=P.txScannerLoadStartTime,fe=P.resetLoadTimer,be=(0,a.useMemo)((function(){if(W&&1===W.preAuthorizeOperations.length)return W.preAuthorizeOperations[0]}),[W]),ye=(0,a.useMemo)((function(){return Boolean(W||de||ue)}),[ue,de,W]),he=D||[R],ve=(0,G.$)({request:d.request.method,dappURL:(0,s.m)(d.dappURL),blockchain:null==R?void 0:R.blockchain.rawValue,txScannerData:W,isTxPreviewEnabled:w,txScannerNotices:J,walletIndex:null==M||null===(t=M.selectedIndex)||void 0===t?void 0:t.toString(),chainId:null!==(n=null==R||null===(c=R.network.asChain())||void 0===c?void 0:c.chainId.toString())&&void 0!==n?n:"",numTransactions:he.length}),Te=(0,o.oM)(ve),we=(0,a.useCallback)((function(e){if(C){var t=d;Array.isArray(e)&&async function(e,t){(0,z.rM)({request:E.J.signAllTransactionsSuccess,dappURL:e.dappURL,blockchain:i.KN});const n=t.map((e=>[...e.signedTxData]));await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:E.J.signAllTransactionsSuccess,signedTransactionData:n,blockchain:i.KN}})}(t,e),async function(e,t,n){"solanaSendTransaction"===e.kind?(n({blockchain:i.KN,request:E.J.sendTransactionSuccess,dappURL:e.dappURL}),await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:E.J.sendTransactionSuccess,txHash:t.txHash,blockchain:i.KN}})):(n({request:E.J.signTransactionSuccess,dappURL:e.dappURL,blockchain:i.KN}),await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:E.J.signTransactionSuccess,signedTransactionData:[...t.signedTxData],blockchain:i.KN}}))}(t,e,Te)}else!async function(e,t,n){n({request:e.request.params.shouldSubmit?Y.l.submitEthereumTransactionSuccess:Y.l.signEthereumTransactionSuccess,dappURL:e.dappURL}),e.request.params.shouldSubmit?await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:Y.l.submitEthereumTransactionSuccess,txHash:(0,$.ensureHexString)(t.txHash,!0),blockchain:X.fz,chainId:Number(t.chainId)}}):await chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e.eventId,action:Y.l.signEthereumTransactionSuccess,signedTxData:(0,$.hexStringFromBuffer)(t.signedTxData),blockchain:X.fz,chainId:Number(t.chainId)}})}(d,e,Te);F()}),[F,C,d,Te]),xe=(0,a.useCallback)((function(e){var t;k({eventId:d.eventId,request:d.request.method,error:null!=e?e:r.standardErrors.provider.userRejectedRequest({}),dappURL:d.dappURL,blockchain:h,chainId:null==R||null===(t=R.network.asChain())||void 0===t?void 0:t.chainId}),F()}),[k,d.eventId,d.request.method,d.dappURL,h,null==R?void 0:R.network,F]);if(!M||!I||!R||!W&&!C&&void 0===R)return b?(0,le.jsx)(ne.J,{onPressClose:xe,analyticsData:ve}):(0,le.jsx)(le.Fragment,{});var Ce=C?(0,le.jsx)(oe.Q,{options:d,wallet:M,unsignedTransactions:he,blockchain:h,parsedOperations:W,txScannerNotices:J,error:j,isTxScannerError:ue,isTxScannerLoading:de,txScannerLoadStartTime:null==pe?void 0:pe.current,resetLoadTimer:fe,isTxScannerEnabled:ye&&1===he.length,onCompleteRequest:we,onCancelRequest:xe},"transactionRequest"):(0,le.jsx)(se.m,{options:d,wallet:M,feeWallet:I,unsignedTxOrUserOp:R,blockchain:h,parsedOperations:W,txScannerNotices:J,approveOperation:be,error:j,isTxScannerError:ue,isTxScannerLoading:de,txScannerLoadStartTime:null==pe?void 0:pe.current,resetLoadTimer:fe,isTxScannerEnabled:ye,onCompleteRequest:we,onCancelRequest:xe},"transactionRequest");return(0,le.jsx)(_.t,{fallback:(0,le.jsx)(ne.J,{onPressClose:xe,analyticsData:ve}),children:(0,le.jsx)(K.o,{children:(0,le.jsx)(ie.Zd.Provider,{onSubmit:B(),children:(0,le.jsx)(ie.Im.Provider,{children:(0,le.jsx)(V.a,{height:me,children:(0,le.jsxs)(ie.Im.Steps,{children:[Ce,(0,le.jsx)(re.o,{wallet:M},"adjustGasPreset"),(0,le.jsx)(ae.Q,{wallet:M},"adjustGasCustom")]})})})})})})}fe(be,"useState{[transactionContext, setTransactionContext](defaultTransactionContext)}\nuseState{[txSettled, setTxSettled](false)}\nuseAllWallets{wallets}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseIsFeatureEnabled{isSolanaPriorityFeeEnabled}\nuseCancel{cancel}\nuseHandleNextQueuedRequest{handleNextQueuedRequest}\nuseHasNextQueuedRequest{hasNextQueuedRequest}\nuseEffect{}\nuseCallback{handleNextRequestOrCloseWindow}\nuseTxScanner{{\n    txScannerData,\n    txScannerNotices,\n    isTxScannerLoading,\n    isTxScannerError,\n    txScannerLoadStartTime,\n    resetLoadTimer,\n  }}\nuseMemo{approveOperation}\nuseMemo{isTxScannerEnabled}\nuseSignTransactionEventData{analyticsData}\nuseTriggerWeb3RequestSendingSuccessResponse{triggerWeb3RequestSendingSuccessResponse}\nuseCallback{completeRequest}\nuseCallback{cancelRequest}",(function(){return[q.H,U.f,l.x,Q.U,ee.X,te.X,H.u,G.$,o.oM]})),(ue="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ue.register(me,"DAPP_REQUEST_VIEWPORT_HEIGHT","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx"),ue.register(ge,"defaultTransactionContext","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx"),ue.register(be,"DappTransactionRequest","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/DappTransactionRequest.tsx")),(pe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&pe(e)},6507:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var a,r,o,s=n(14041),i=n(73779),l=n(90685),c=n(33396),d=n(37121),u=n(65103),p=n(31085);function f(e){var t=e.wallet,n=(0,c.lE)(u.Im),a=n.goBack,r=n.goToStep,o=(0,d.A)(u.Zd),f=o.toAddress,m=o.unsignedTransaction,g=o.initialGasLimit,b=(0,s.useCallback)((function(e){m.onChange(e.transaction),r("transactionRequest")}),[r,m]),y=(0,i.K)(g.value,t.network);if(!y)throw Error("Miner fees not defined");var h=(0,s.useMemo)((function(){return{gasLimit:g.value,maxFee:null==y?void 0:y.normal.maxFeePerGas,maxPriorityFee:null==y?void 0:y.normal.maxPriorityFeePerGas,baseFee:null==y?void 0:y.normal.baseFeePerGas}}),[y,g.value]);return(0,p.jsx)(l.R,{wallet:t,toAddress:f.value,unsignedTxOrUserOp:m.value,initialFees:h,handleGenerateTx:b,goBack:a,flowType:"dappTxn"})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseCallback{handleGenerateTx}\nuseMinerFeeEstimates{estimates}\nuseMemo{initialFees}",(function(){return[c.lE,d.A,i.K]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(f,"AdjustGasCustomStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/AdjustGasCustomStep/AdjustGasCustomStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},13783:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var a,r,o,s=n(14041),i=n(47891),l=n(41193),c=n(33396),d=n(37121),u=n(65103),p=n(31085);function f(e){var t=e.wallet,n=(0,c.lE)(u.Im),a=n.goBack,r=n.goToStep,o=(0,d.A)(u.Zd),f=o.toAddress,m=o.unsignedTransaction,g=o.initialGasLimit,b="dappTxn",y=(0,s.useCallback)((function(){(0,i.x$)(b),r("adjustGasCustom")}),[r]),h=(0,s.useCallback)((function(e){m.onChange(e.transaction),r("transactionRequest")}),[r,m]);return(0,p.jsx)(l.v,{wallet:t,toAddress:f.value,unsignedTxOrUserOp:m.value,initialGasLimit:g.value,handleGenerateTx:h,goBack:a,goToCustom:y,flowName:b})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(f,"useStepper{{ goBack, goToStep }}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseCallback{handlePressCustom}\nuseCallback{handleGenerateTx}",(function(){return[c.lE,d.A]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(f,"AdjustGasPresetStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/AdjustGasPresetStep/AdjustGasPresetStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},83451:(e,t,n)=>{"use strict";n.d(t,{$:()=>R});var a,r=n(14041),o=n(32183),s=n(8867),i=n(70157),l=n(47340),c=n(2775),d=n(95479),u=n.n(d),p=n(48597),f=n(2673),m=n(84492),g=n(55799),b=n(15654),y=n(86382),h=n(94330),v=n(52331),T=n(98055),w=n(60149),x=n(74994),C=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,o.YK)({transactionDetailsHeader:{id:"wEyTQs",defaultMessage:[{type:0,value:"Transaction details"}]},transactionWarning:{id:"fcgTbM",defaultMessage:[{type:0,value:"This type of request is sometimes used for malicious purposes. Make sure you fully trust this site."}]},unknownTxnTooltip:{id:"tF2L9s",defaultMessage:[{type:0,value:"This is an unknown program type. Make sure you trust this dapp."}]}});function S(e){var t=e.instructionParam,n=e.isInstructionUnknown,a="".concat(i.D.SOLANA_MAINNET.blockExplorerUrl,"/address/"),r=n&&t.paramKey===l.P,o="string"==typeof t.paramValue&&t.paramValue.length>15?(0,c.kU)(t.paramValue,6,4):t.paramValue;return(0,C.jsxs)(m.z,{paddingX:2,justifyContent:"space-between",paddingBottom:1,testID:"instruction-param-row",children:[(0,C.jsx)(h.C,{as:"p",color:"fgMuted",children:u()(t.paramKey)}),(0,C.jsx)(h.C,{as:"p",color:"fgMuted",children:r?(0,C.jsx)(v.N,{href:"".concat(a).concat(t.paramValue),testID:"link-solana-explorer",openInNewWindow:!0,children:o}):o})]})}function A(e){var t=e.instruction,n=e.dappURL,a=e.request,r=(0,s.A)().formatMessage,o="unknown"===t.instructionType.toLowerCase();return(0,x.Hr)({dappURL:n,request:a,instructionType:t.instructionType}),(0,C.jsxs)(p.Z,{width:"100%",elevation:1,borderedBottom:!0,paddingBottom:1,testID:"instruction-card",children:[(0,C.jsxs)(m.z,{alignItems:"baseline",children:[(0,C.jsx)(T.v,{as:"p",color:"fg",paddingStart:2,paddingTop:2,paddingBottom:1,children:u()(t.instructionType)}),o&&(0,C.jsx)(g.a,{justifyContent:"center",children:(0,C.jsx)(y.m,{testID:"unknown-txn-tooltip",content:r(L.unknownTxnTooltip),placement:"bottom",children:(0,C.jsx)(f.In,{name:"info",size:"xs",color:"fg",testID:"warning-unknown-program-icon",paddingX:.5})})})]}),t.instructionParams.map((function(e,t){return(0,C.jsx)(S,{instructionParam:e,isInstructionUnknown:o},"instruction-row-".concat(t))}))]})}k(A,"useIntl{{ formatMessage }}\nuseWeb3InstructionTypeDataViewed{}",(function(){return[s.A,x.Hr]}));var M,I,R=(0,r.memo)(k((function(e){var t=e.solUnsignedTxs,n=e.dappURL,a=e.request,o=e.showTransactionWarning,i=(0,s.A)().formatMessage,l=(0,r.useMemo)((function(){var e=[];return t.forEach((function(t,r){t.dappInstructionMetaData&&Array.isArray(t.dappInstructionMetaData)&&t.dappInstructionMetaData.forEach((function(t,o){e.push((0,C.jsx)(A,{instruction:t,dappURL:n,request:a},"instruction-info-".concat(r,",").concat(o)))}))})),e}),[t,n,a]);return(0,C.jsxs)(b.T,{width:"100%",gap:2,children:[(0,C.jsx)(w.f,{paddingStart:2,as:"h3",children:i(L.transactionDetailsHeader)}),o&&(0,C.jsx)(p.Z,{testID:"txn-warning",paddingY:2,bordered:!0,borderRadius:200,children:(0,C.jsxs)(m.z,{justifyContent:"flex-start",children:[(0,C.jsx)(f.In,{testID:"txn-warning-icon",name:"info",size:"s",color:"fgMuted",paddingStart:2,paddingTop:.5}),(0,C.jsx)(h.C,{as:"p",color:"fgMuted",paddingX:1,children:i(L.transactionWarning)})]})}),(0,C.jsx)(p.Z,{borderedHorizontal:!0,borderedTop:!0,borderRadius:200,children:l})]})}),"useIntl{{ formatMessage }}\nuseMemo{instructionCards}",(function(){return[s.A]})));(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(M.register(L,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),M.register(S,"InstructionParamRow","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),M.register(A,"InstructionCard","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx"),M.register(R,"SolanaAdvancedTxnDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaAdvancedTxnDetails.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},7888:(e,t,n)=>{"use strict";n.d(t,{Q:()=>W});var a=n(14041),r=n(32183),o=n(8867),s=n(2719),i=n(84141),l=n(52135),c=n(47656),d=n(13394),u=n(71847),p=n(34575),f=n(29440),m=n(84632),g=n(24117),b=n(4244),y=n(68228),h=n(23804),v=n(89029),T=n.n(v);const w=(0,r.YK)({getMoreCurrencyError:{id:"0EGgTz",defaultMessage:"{totalCostCrypto} ({totalCostFiat}) may be required for the transaction. Please deposit more {currencyCode}."},solanaNetworkCongestionWarning:{id:"VzJ+/i",defaultMessage:"Solana network is experiencing congestion. Transactions may fail to send or confirm"},errorCancel:{id:"8gdsKY",defaultMessage:"Cancel"},errorConfirm:{id:"c7nwmM",defaultMessage:"Confirm"},sendKilledError:{id:"R6qUvO",defaultMessage:"This feature is currently unavailable. Try again later."},learnMore:{id:"9DtuSP",defaultMessage:"Learn more"}});function x({wallet:e,unsignedTxs:t,error:n,feeWallet:r}){const{formatMessage:s}=(0,o.A)(),i=(0,b.J9)(),l=(0,y.F)("kill_dapp_tx"),c=t[0],d=c.feePayerAddress&&c.feePayerAddress===e.primaryAddress,u=(0,a.useMemo)((()=>t.reduce(((e,t)=>e+t.estimatedFee+(t.extraFee??0n)),0n)),[t]),p=(0,a.useMemo)((()=>t.reduce(((e,t)=>e+t.transferValue),0n)),[t]),f=(0,a.useMemo)((()=>{if(c)return i.formatToCrypto({currencyCode:c.feeCurrencyCode,decimals:c.feeCurrencyDecimal,value:BigInt(u),includeCode:!0,maxDisplayDecimals:8n})}),[i,u,c]),m=(0,a.useMemo)((()=>{if(!c)return;const t=i.fiatValue({currencyCode:c.feeCurrencyCode,decimals:c.feeCurrencyDecimal,value:BigInt(u),contractAddress:void 0,network:e.network,blockchain:e.blockchain});return t?.lessThan(new(T())(.01))&&t?.greaterThan(new(T())(0))?`<${i.fiatValueString(new(T())(.01),!0)}`:i.formatToFiat({fromCurrencyCode:c.feeCurrencyCode,decimals:c.feeCurrencyDecimal,value:BigInt(u),isAbbreviated:!1,contractAddress:void 0,network:e.network,blockchain:e.blockchain})}),[i,u,c,e.network,e.blockchain]),g=(0,a.useMemo)((()=>{const t=e?.blockchain.rawValue,n=r?.blockchain.rawValue;return l(t)||l(n)}),[r,l,e]),v=(0,a.useMemo)((()=>({getMoreCurrencyError:{type:"getMoreCurrencyError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:s(w.getMoreCurrencyError,{totalCostCrypto:f,totalCostFiat:m,currencyCode:e.network?.asChain()?.baseAssetCurrencyCode??e.blockchain.rawValue})},sendKilledError:{type:"sendKilledError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:s(w.sendKilledError)},genericError:{type:"genericError",isDismissible:!1,showErrorIcon:!0,isDisabled:!0,message:`${n?.message}`},solanaNetworkCongestionWarning:{type:"solanaNetworkCongestionWarning",isDismissible:!0,showErrorIcon:!1,isDisabled:!1,message:s(w.solanaNetworkCongestionWarning)}})),[n?.message,s,f,m,e.blockchain.rawValue,e.network]);return(0,a.useMemo)((()=>{if(!t||!r)return;if(g)return v.sendKilledError;if(n)return v.genericError;const a=h.u.isEqual(e,r)?u+p:u;return d&&(void 0===r.balance||r.balance<a)?v.getMoreCurrencyError:void 0}),[t,r,g,v.sendKilledError,v.genericError,v.getMoreCurrencyError,n,u,p,e,d])}var C,k=n(70960),L=n(70918),S=n(46845),A=n(24905),M=n(61513),I=n(64887),R=n(24745),D=n(28672),E=n(5950),j=n(74994),F=n(36783),P=n(83451),O=n(56450),G=n(31085);e=n.hmd(e),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&C(e);var U,H,q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},N=(0,r.YK)({confirmTransactionTitle:{id:"l68NyE",defaultMessage:[{type:0,value:"Confirm transaction"}]},confirmAllTransactionsTitle:{id:"LnJrm5",defaultMessage:[{type:0,value:"Confirm multiple transactions"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"m1nG96",defaultMessage:[{type:0,value:"Confirm"}]},confirmAll:{id:"MvK7Qg",defaultMessage:[{type:0,value:"Confirm All"}]}});function W(e){var t,n,r,b=e.options,y=e.wallet,h=e.unsignedTransactions,v=e.blockchain,T=e.error,w=e.isTxScannerLoading,C=e.parsedOperations,U=e.txScannerNotices,H=e.isTxScannerError,q=e.txScannerLoadStartTime,W=e.resetLoadTimer,B=e.isTxScannerEnabled,_=e.onCompleteRequest,V=e.onCancelRequest,K=(0,o.A)().formatMessage,z=y.imageURL,Z=y.displayName,$=b instanceof F.sM,X=(0,O.L)(y,h),Y=(0,E.s)(),J=b.request,Q=b.dappURL,ee=b.dappName,te=b.kind,ne=(0,g.gs)(),ae=(0,m.n)(),re=(0,u.x)("transaction_preview_solana"),oe=(0,a.useMemo)((function(){return{dappLogoURL:b.dappLogoURL,dappLogoURLAlt:b.dappLogoURLAlt,dappURL:b.dappURL,networkBadgeURL:z,networkBadgeAlt:Z}}),[Z,z,b.dappLogoURL,b.dappLogoURLAlt,b.dappURL]),se=(0,a.useMemo)((function(){var e=h[0].nativeDappTransaction;if(e)return(0,c.Y2)(e)?"versioned":"legacy"}),[h]),ie=(0,k.$)({request:J.method,dappURL:(0,l.m)(Q),blockchain:h[0].blockchain.rawValue,txScannerData:C,isTxPreviewEnabled:re,txScannerNotices:U,walletIndex:null===(t=y.selectedIndex)||void 0===t?void 0:t.toString(),numTransactions:h.length,solanaTransactionVersion:se});(0,i.NN)(ie);var le=(0,L.h)(),ce=(0,S.J)(le,h[0]);if(!ce)throw new Error("Something went wrong in TransactionRequestStep");var de=x({wallet:y,unsignedTxs:h,error:T,feeWallet:ce}),ue=(0,i.wZ)(ie),pe=(0,a.useCallback)((function(e){(0,d.gf)({error:e,context:"transactions",severity:"error",isHandled:!1}),ue({errorMessage:e.message}),V(e)}),[ue,V]),fe=(0,p.D)({wallet:y,unsignedTxOrUserOp:h[0],signSuccess:_,signError:pe,skipSubmit:"solanaSendTransaction"!==b.kind,handleUnlock:Y(y.accountId),source:ee}),me=fe.signAndSubmitStandalone,ge=fe.isSignAndSubmitStandaloneLoading,be=(0,f.z)({wallet:y,unsignedTxsOrUserOps:h,signSuccess:_,signError:pe,handleUnlock:Y(y.accountId),source:ee}),ye=be.signMultipleTransactionsStandalone,he=be.isSignMultipleTransactionsStandaloneLoading,ve=ge||he;(0,a.useEffect)((function(){null!=de&&de.isDisabled||ve||(0,j.gd)({dappURL:Q,request:te,blockchain:v})}),[v,Q,ve,te,null==de?void 0:de.isDisabled]);var Te=(0,i.wl)(ie),we=(0,i.uE)(ie),xe=(0,a.useCallback)((function(){Te(),V(s.standardErrors.provider.userRejectedRequest({}))}),[V,Te]),Ce=(0,a.useCallback)((function(){we(),$?ye():me()}),[we,$,ye,me]),ke=(null==C||null===(n=C.assetChangeOperations)||void 0===n?void 0:n.length)||(null==C||null===(r=C.preAuthorizeOperations)||void 0===r?void 0:r.length),Le=(0,a.useMemo)((function(){var e;return[{children:K(N.cancel),variant:"secondary",onClick:xe,testID:"sol-request-cancel-button"},{children:$&&h.length>1?K(N.confirmAll):K(N.confirm),variant:null!=de&&de.isDisabled?"secondary":"primary",disabled:null!==(e=null==de?void 0:de.isDisabled)&&void 0!==e?e:ve,loading:ve,onClick:Ce,testID:"sol-request-confirm-button"}]}),[K,xe,$,h.length,null==de?void 0:de.isDisabled,ve,Ce]),Se=(0,a.useMemo)((function(){return re?H?(0,G.jsx)(I.F,{analyticsData:ie,txScannerNotices:U}):w?(0,G.jsx)(R.l,{}):ke&&B?(0,G.jsx)(M.B,{resetLoadTimer:W,txScannerLoadStartTime:q,parsedOperations:C,userWalletAddress:y.primaryAddress,analyticsData:ie,network:y.network,isRevokeOperation:!1,exchangeRatesMap:ne,activeFiatCurrency:ae}):(0,G.jsx)(I.F,{analyticsData:ie,txScannerNotices:U}):null}),[re,H,w,ke,B,ie,U,W,q,C,y.primaryAddress,y.network,ne,ae]);return y?(0,G.jsx)(D.Z,{isTxScannerEnabled:B,height:A.fG,shouldRenderTxPreviewHeader:!0,dappInfo:oe,headerText:$&&h.length>1?K(N.confirmAllTransactionsTitle):K(N.confirmTransactionTitle),topSection:Se,advancedDetailsSection:(!B||H||!ke||!re)&&(0,G.jsx)(P.$,{solUnsignedTxs:h,dappURL:b.dappURL,request:b.kind,showTransactionWarning:!0}),detailRowItems:X,disableBackBtn:!0,error:de,buttonProps:Le,showTransactionWarning:!1,signingAddressToDisplay:y.primaryAddress}):(0,G.jsx)(G.Fragment,{})}q(W,"useIntl{{ formatMessage }}\nuseSolanaTransactionRequestDetails{detailRows}\nuseHandleUnlockForSigning{handleUnlock}\nuseExchangeRatesMap{exchangeRatesMap}\nuseActiveFiatCurrency{activeFiatCurrency}\nuseIsFeatureEnabled{isTxPreviewEnabled}\nuseMemo{dappInfo}\nuseMemo{solanaTransactionVersion}\nuseSignTransactionEventData{analyticsData}\nuseTransactionRequestStepViewed{}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseTxFeeWallet{feeWallet}\nuseSolTransactionDetailErrors{solanaTransactionDetailErrors}\nuseTriggerWeb3SignTransactionError{triggerWeb3SignTransactionError}\nuseCallback{signError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignMultipleTransactionsStandalone{{ signMultipleTransactionsStandalone, isSignMultipleTransactionsStandaloneLoading }}\nuseEffect{}\nuseTriggerWeb3CancelTransactionClicked{triggerWeb3CancelTransactionClicked}\nuseTriggerWeb3ConfirmTransactionClicked{triggerWeb3ConfirmTransactionClicked}\nuseCallback{handleCancelButtonPress}\nuseCallback{handlePrimaryButtonPress}\nuseMemo{buttonOptions: ButtonProps<ButtonDefaultElement>[]}\nuseMemo{topSection}",(function(){return[o.A,O.L,E.s,g.gs,m.n,u.x,k.$,i.NN,L.h,S.J,x,i.wZ,p.D,f.z,i.wl,i.uE]})),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(U.register(N,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaTransactionRequestStep.tsx"),U.register(W,"SolanaTransactionRequestStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/SolanaTransactionRequestStep.tsx")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)},56450:(e,t,n)=>{"use strict";n.d(t,{L:()=>h});var a,r=n(14041),o=n(32183),s=n(8867),i=n(4244),l=n(74045),c=n(21476),d=n(89029),u=n.n(d),p=n(16238),f=n.n(p);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var m,g,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,o.YK)({walletUsedLabel:{id:"o99uP8",defaultMessage:[{type:0,value:"Wallet used"}]},networkFeeLabel:{id:"jbv0bT",defaultMessage:[{type:0,value:"Total network fee"}]},networkNameLabel:{id:"MWZ9F7",defaultMessage:[{type:0,value:"Network"}]},unknownNetwork:{id:"Kdb7tZ",defaultMessage:[{type:0,value:"Unknown network"}]},transactionSpeedLabel:{id:"sSDDvu",defaultMessage:[{type:0,value:"Transaction speed"}]},addressLabel:{id:"Lk+qm8",defaultMessage:[{type:0,value:"Address"}]}});function h(e,t){var n,a=(0,s.A)().formatMessage,o=(0,i.J9)(),d=t[0],p=(0,l.Z)(null===(n=d.network.asChain())||void 0===n?void 0:n.chainId).networkFeeTooltip,m=(0,r.useMemo)((function(){var e,n,a,r=t.reduce((function(e,t){return e+t.estimatedFee}),0n);n=o.formatToFiat({fromCurrencyCode:d.feeCurrencyCode,decimals:d.feeCurrencyDecimal,value:r,isAbbreviated:!1,contractAddress:void 0,network:d.network,blockchain:d.blockchain}),a=o.formatToCrypto({currencyCode:d.feeCurrencyCode,decimals:d.feeCurrencyDecimal,value:r,network:d.network,blockchain:d.blockchain,includeCode:!0});var s=o.fiatValue({currencyCode:d.feeCurrencyCode,decimals:d.feeCurrencyDecimal,value:r,contractAddress:void 0,network:d.network,blockchain:d.blockchain}),i=new(u())(.01);return null!==(e=null!=s&&s.greaterThanOrEqualTo(i)?n:a)&&void 0!==e?e:""}),[t,o,d.feeCurrencyCode,d.feeCurrencyDecimal,d.network,d.blockchain]),g=(0,r.useMemo)((function(){var t=e.network.asChain();return t?t.displayName:a(y.unknownNetwork)}),[a,e]);return(0,r.useMemo)((function(){var t;return f()([{label:a(y.walletUsedLabel),detailText:(0,c.R)(null===(t=e.primaryAddress)||void 0===t?void 0:t.toString())},{label:a(y.networkNameLabel),detailText:null==g?void 0:g.toString()},{label:a(y.networkFeeLabel),detailText:m.toString(),tooltipText:a(p)}])}),[a,p,m,g,e.primaryAddress])}b(h,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{formatter}\nuseNetworkFeeTooltipMessages{{ networkFeeTooltip }}\nuseMemo{formattedNetworkFee}\nuseMemo{formattedNetworkName}\nuseMemo{}",(function(){return[s.A,i.J9,l.Z]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(y,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/useSolanaTransactionRequestDetails.tsx"),m.register(h,"useSolanaTransactionRequestDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/SolanaTransactionRequestStep/useSolanaTransactionRequestDetails.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},9684:(e,t,n)=>{"use strict";n.d(t,{m:()=>Ce});var a=n(14041),r=n(32183),o=n(8867),s=n(2719),i=n(47891),l=n(84141),c=n(52135),d=n(46122),u=n(52303),p=n(13394),f=n(53404),m=n(34575),g=n(4244),b=n(71847);var y=n(69148),h=n(16835),v=n(81415),T=n(2775);const w=(0,r.YK)({withdrawLimit:{id:"bD+pZd",defaultMessage:"Withdraw Limit"},fullBalance:{id:"5jtsyf",defaultMessage:"All of your {currencyCode}"},multipleAssets:{id:"H47jTv",defaultMessage:"Multiple assets"},entireNFTCollection:{id:"M2Xmbf",defaultMessage:"Entire Collection"},singleNFTItem:{id:"n9Caq6",defaultMessage:"1 item"},spendLimitTooltipText:{id:"wAda+E",defaultMessage:"The maximum amount the smart contract will be able to withdraw."},accessLimitTooltipText:{id:"9IKrsx",defaultMessage:"The number of NFTs the dapp will be able to withdraw."},spendLimitTooltipDetailText:{id:"s1gURw",defaultMessage:"This dapp can withdraw up to {amount} from your wallet"},fullBalanceTooltipDetailText:{id:"kV447F",defaultMessage:"This app can withdraw all your {currencyCode}. Make sure you trust this site."},fullBalanceToEOATooltipDetailText:{id:"YV3p15",defaultMessage:"This dapp will be allowed to withdraw all your {currencyCode} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},nftCollectionTooltipDetailText:{id:"0Ty7AI",defaultMessage:"This app can withdraw all your {collectionName} NFTs. Make sure you trust this site."},nftCollectionEoaTooltipDetailText:{id:"30QftR",defaultMessage:"This dapp will be allowed to withdraw all your {collectionName} NFTs to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleAssetsTooltipDetailText:{id:"oFmFdx",defaultMessage:"This dapp can withdraw the entire balance of multiple assets. Make sure you trust it."},tooltipDetailTitle:{id:"l2xtPz",defaultMessage:"Be careful"},singleNFTEoaWarningText:{id:"2y+DlX",defaultMessage:"This dapp will be allowed to withdraw your {nftName} NFT to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},fixedAmountWithdrawalToEOAWarningText:{id:"mM3ktw",defaultMessage:"This dapp will be allowed to withdraw {amount} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC20TokenUnlimitedWithdraw:{id:"KDXgI3",defaultMessage:"This app can withdraw all your {token} and {lastToken}. Make sure you trust this site"},multipleERC20TokenToEOAUnlimitedWithdraw:{id:"OPiMx8",defaultMessage:"This dapp will be allowed to withdraw all your {token} and {lastToken} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC721TokenUnlimitedWithdraw:{id:"Ril9ru",defaultMessage:"This app can withdraw all your {NFT} and {lastNFT}. Make sure you trust this site"},multipleERC721TokenToEOAUnlimitedWithdraw:{id:"8nbxll",defaultMessage:"This dapp will be allowed to withdraw all your {NFT} and {lastNFT} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC20TokenLimitedWithdraw:{id:"0Yr/xX",defaultMessage:"This dapp can withdraw {token} and {lastToken}. Make sure you trust this site"},multipleERC20TokenToEOALimitedWithdraw:{id:"Wr5c/Y",defaultMessage:"This dapp will be allowed to withdraw {token} and {lastToken} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},multipleERC721TokenLimitedWithdraw:{id:"eJSpL0",defaultMessage:"This dapp can withdraw {NFT} and {lastNFT}. Make sure you trust this site"},multipleERC721TokenToEOALimitedWithdraw:{id:"vyAA56",defaultMessage:"This dapp will be allowed to withdraw {NFT} and {lastNFT} to someone else's address, which is a common sign of fraud. Are you sure you trust this site?"},maliciousNoticeTypeLabelText:{id:"nZYijI",defaultMessage:"Fraudulent address detected"},maliciousNoticeTypeDetailText:{id:"utrXrP",defaultMessage:"Warning"},maliciousNoticeTypeWarningText:{id:"Lt4i3U",defaultMessage:"This transaction may be trying to steal your funds. Are you sure you want to continue?"},maliciousNoticeTypeWarningSignText:{id:"gUV5sB",defaultMessage:"This message may be trying to steal your funds. Are you sure you want to continue?"}});function x(e,t,n){const r=(0,y.f)(),s=(0,g.J9)(),{formatMessage:i}=(0,o.A)(),l=(0,b.x)("eoa_approval_fraud_warning"),c=(0,b.x)("dapp_tx_confirmation_scam_warning"),d=function({txScannerNotices:e}){return(0,a.useMemo)((()=>void 0!==e?.find((({noticeType:e})=>"NOTICE_TYPE_5"===e))),[e])}({txScannerNotices:t}),u=(0,a.useCallback)((function(e){if(e.currencyCode&&e.decimals)return s.formatToCrypto({value:e.amountValue,currencyCode:e.currencyCode,decimals:BigInt(e.decimals),includeCode:!0,maxDisplayDecimals:8n,shouldDisplayDustAmount:!1})}),[s]),p=(0,a.useCallback)((function(e){const t=e.amountValue,n=e.currentBalanceValue;if(!n&&0n!==n||t&&n>0n&&t>=n&&t>0n){let t,n;return e.isSpenderAddressEoa&&l?(t=i(w.fullBalanceToEOATooltipDetailText,{currencyCode:e.currencyCode.code}),n=t):t=i(w.fullBalanceTooltipDetailText,{currencyCode:e.currencyCode.code}),{testID:"fullBalanceWarning",label:i(w.withdrawLimit),detailText:i(w.fullBalance,{currencyCode:e.currencyCode.code}),tooltipText:i(w.spendLimitTooltipText),outlineDetailText:t,fraudWarningConfirmationText:n,withWarning:!0,detailTextColor:"fgNegative",isFullBalance:!0,currencyCode:e.currencyCode.code}}const a=u(e);if(a){let t;e.isSpenderAddressEoa&&l&&(t=i(w.fixedAmountWithdrawalToEOAWarningText,{amount:a}));return{testID:"dappWithdrawAmountWithCode",fraudWarningConfirmationText:t,...r?null:{label:i(w.withdrawLimit),detailText:a,tooltipText:i(w.spendLimitTooltipText),tooltipDetailTitle:i(w.tooltipDetailTitle),tooltipDetailText:i(w.spendLimitTooltipDetailText,{amount:a}),currencyCode:e.currencyCode.code},isFullBalance:!1,dappWithdrawAmountWithCode:a,currencyCode:e.currencyCode.code}}}),[u,i,r,l]),f=(0,a.useCallback)((function(e){if("ITEM_APPROVAL_ALL"===e.operationType&&e.isRevoke)return;if("ITEM_APPROVAL"===e.operationType&&e.spenderAddress===v.Gy)return;if(e.operationType===h.S.ITEM_APPROVAL_ALL){let t,n;return e.isOperatorAddressEoa&&l?(t=i(w.nftCollectionEoaTooltipDetailText,{collectionName:e.collectionName?(0,T.Eu)(e.collectionName,15):null}),n=t):t=i(w.nftCollectionTooltipDetailText,{collectionName:e.collectionName?(0,T.Eu)(e.collectionName,15):null}),{testID:"nftCollection",label:i(w.withdrawLimit),detailText:i(w.entireNFTCollection),tooltipText:i(w.accessLimitTooltipText),tooltipDetailTitle:i(w.tooltipDetailTitle),outlineDetailText:t,fraudWarningConfirmationText:n,withWarning:!0,detailTextColor:"fgNegative",isItemApprovalAll:!0}}const t=r?null:{label:i(w.withdrawLimit),detailText:i(w.singleNFTItem),tooltipText:i(w.accessLimitTooltipText),tooltipDetailTitle:i(w.tooltipDetailTitle)};let n;return e.isApprovedAddressEoa&&l&&(n=i(w.singleNFTEoaWarningText,{nftName:e.NFTName?(0,T.Eu)(e.NFTName,15):null})),{testID:"nftItem",...t,fraudWarningConfirmationText:n,isItemApprovalAll:!1}}),[i,r,l]);return(0,a.useMemo)((()=>{if(d&&c)return{label:i(w.maliciousNoticeTypeLabelText),detailText:i(w.maliciousNoticeTypeDetailText),outlineDetailText:i(n?w.maliciousNoticeTypeWarningSignText:w.maliciousNoticeTypeWarningText),withWarning:!0,detailTextColor:"fgNegative",fraudWarningConfirmationText:i(n?w.maliciousNoticeTypeWarningSignText:w.maliciousNoticeTypeWarningText)};if(e&&e.length<1)return null;const t=e?.some((e=>e.isSpenderAddressEoa||e.isApprovedAddressEoa||e.isOperatorAddressEoa)),a=[],r=[],o=[],s=[];let u;const m=(e,n,a,r,o,s)=>{const c=e.slice(0,-1),d=e.slice(-1);let p,f;t&&l?(p=i(a,{[r]:c.join(", "),[o]:d.join("")}),f=p):f=i(n,{[r]:c.join(", "),[o]:d.join("")}),u={...u,outlineDetailText:s?f:void 0,fraudWarningConfirmationText:p}};if(e?.forEach((e=>{e.operationType===h.S.BALANCE_APPROVAL&&(u=p(e),!0===u?.isFullBalance?a.push(u.currencyCode):!1===u?.isFullBalance&&r.push(u.dappWithdrawAmountWithCode)),e.operationType===h.S.ITEM_APPROVAL_ALL?(u=f(e),o.push(e.collectionName)):e.operationType===h.S.ITEM_APPROVAL&&(u=f(e),s.push(e.NFTName))})),0===r.length&&0===a.length&&(o.length>1?m(o,w.multipleERC721TokenUnlimitedWithdraw,w.multipleERC721TokenToEOAUnlimitedWithdraw,"NFT","lastNFT",!0):s.length>1&&m(s,w.multipleERC721TokenLimitedWithdraw,w.multipleERC721TokenToEOALimitedWithdraw,"NFT","lastNFT")),0===s.length&&0===o.length&&(a.length>1?(m(a,w.multipleERC20TokenUnlimitedWithdraw,w.multipleERC20TokenToEOAUnlimitedWithdraw,"token","lastToken",!0),u={...u,detailText:i(w.multipleAssets)}):r.length>1&&m(r,w.multipleERC20TokenLimitedWithdraw,w.multipleERC20TokenToEOALimitedWithdraw,"token","lastToken")),(s.length>0||o.length>0)&&(r.length>0||a.length>0)){let e;t&&l&&(e=i(w.multipleAssetsTooltipDetailText)),u={...u,label:i(w.withdrawLimit),detailText:i(w.multipleAssets),outlineDetailText:i(w.multipleAssetsTooltipDetailText),fraudWarningConfirmationText:e}}return u}),[e,i,p,f,l,c,d,n])}var C=n(27301),k=n(52689),L=n(7427),S=n(84632),A=n(24117),M=n(5961),I=n(99172),R=n(94975),D=n(84168),E=n(36760),j=n(64292),F=n(70960),P=n(66446),O=n(24905),G=n(48784),U=n(61513),H=n(64887),q=n(24745),N=n(33396),W=n(37121),B=n(42238),_=n(2673),V=n(55799),K=n(28118),z=n(87755),Z=n(28672),$=n(26825),X=n(5950),Y=n(14265),J=n(55452),Q=n(34767);var ee,te=n(65103),ne=n(23507),ae=n(74994),re=n(58773),oe=n(31828),se=n(2285),ie=n(78734),le=n(31085);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ce(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(){var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var l=a&&a.prototype instanceof i?a:i,c=Object.create(l.prototype);return me(c,"_invoke",function(n,a,r){var o,i,l,c=0,d=r||[],u=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,i=0,l=e,p.n=n,s}};function f(n,a){for(i=n,l=a,t=0;!u&&c&&!r&&t<d.length;t++){var r,o=d[t],f=p.p,m=o[2];n>3?(r=m===a)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=f&&((r=n<2&&f<o[1])?(i=0,p.v=a,p.n=o[1]):f<m&&(r=n<3||o[0]>a||a>m)&&(o[4]=n,o[5]=a,p.n=m,i=0))}if(r||n>1)return s;throw u=!0,a}return function(r,d,m){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&f(d,m),i=d,l=m;(t=i<2?e:l)||!u;){o||(i?i<3?(i>1&&(p.n=-1),f(i,l)):p.n=l:p.v=l);try{if(c=2,o){if(i||(r="next"),t=o[r]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),i=1);o=e}else if((t=(u=p.n<0)?l:n.call(a,p))!==s)break}catch(t){o=e,i=1,l=t}finally{c=1}}return{value:t,done:u}}}(n,r,o),!0),c}var s={};function i(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(me(t={},a,(function(){return this})),t),u=c.prototype=i.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,me(e,r,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,me(u,"constructor",c),me(c,"constructor",l),l.displayName="GeneratorFunction",me(c,r,"GeneratorFunction"),me(u),me(u,r,"Generator"),me(u,a,(function(){return this})),me(u,"toString",(function(){return"[object Generator]"})),(fe=function(){return{w:o,m:p}})()}function me(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}me=function(e,t,n,a){function o(t,n){me(e,t,(function(e){return this._invoke(t,n,e)}))}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},me(e,t,n,a)}function ge(e,t,n,a,r,o,s){try{var i=e[o](s),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){ge(o,a,r,s,i,"next",e)}function i(e){ge(o,a,r,s,i,"throw",e)}s(void 0)}))}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(ee="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&ee(e);var ve,Te,we="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},xe=(0,r.YK)({title:{id:"cYyX/U",defaultMessage:[{type:0,value:"Confirm request"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]},confirm:{id:"m1nG96",defaultMessage:[{type:0,value:"Confirm"}]},carefulWarning:{id:"HLft3N",defaultMessage:[{type:0,value:"Be careful!"}]},allowAndContinueText:{id:"hmCtzs",defaultMessage:[{type:0,value:"Allow and continue"}]}});function Ce(e){var t,n,r,g,b,h,v,T,w=e.options,ee=e.wallet,ce=e.feeWallet,de=e.unsignedTxOrUserOp,pe=e.blockchain,me=e.approveOperation,ge=e.error,he=e.isTxScannerLoading,ve=e.parsedOperations,Te=e.txScannerNotices,we=e.isTxScannerError,Ce=e.txScannerLoadStartTime,ke=e.resetLoadTimer,Le=e.isTxScannerEnabled,Se=e.onCompleteRequest,Ae=e.onCancelRequest,Me=(0,A.gs)(),Ie=(0,S.n)(),Re=ye((0,a.useState)(),2),De=Re[0],Ee=Re[1],je=(0,M.n)(),Fe=(0,W.A)(te.Zd),Pe=Fe.toAddress,Oe=Fe.unsignedTransaction,Ge=Fe.initialGasLimit,Ue=(0,N.lE)(te.Im).goToStep,He=(0,o.A)().formatMessage,qe=w.request,Ne=w.dappURL,We=w.dappName,Be=(0,a.useContext)($.L).disableConfirmButton,_e=ye((0,B.K)(!1),2),Ve=_e[0],Ke=_e[1],ze=Ke.toggleOn,Ze=Ke.toggleOff,$e=(0,y.f)(),Xe=(0,F.$)({request:qe.method,dappURL:(0,c.m)(Ne),blockchain:null===(t=Oe.value)||void 0===t?void 0:t.blockchain.rawValue,txScannerData:ve,isTxPreviewEnabled:$e,txScannerNotices:Te,walletIndex:null===(n=ee.selectedIndex)||void 0===n?void 0:n.toString(),chainId:null===(r=ee.network.asChain())||void 0===r?void 0:r.chainId.toString()});(0,a.useEffect)((function(){Be||(0,ae.gd)({dappURL:Ne,request:qe.method,blockchain:pe})}),[pe,Ne,Be,qe.method]),(0,l.NN)(Xe);var Ye=x(null==ve?void 0:ve.preAuthorizeOperations,Te),Je=(0,R.A)(de,ee),Qe=(0,l.x6)(Xe),et=(0,a.useCallback)((function(){Qe(),ze()}),[ze,Qe]),tt=(0,l.wZ)(Xe),nt=(0,a.useCallback)((function(e){(0,p.gf)({error:e,context:"transactions",severity:"error",isHandled:!1}),tt({errorMessage:e.message}),Ae(e)}),[tt,Ae]),at=(0,a.useCallback)((function(e){(0,p.gf)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),"EthAppPleaseEnableContractData"===e.name?Ee(e.message):nt(e)}),[nt]),rt=(0,a.useCallback)((function(){Ee(void 0),je(!1),Ze()}),[je,Ze]),ot=(0,X.s)(),st=(0,L.vQ)(ee.accountId),it=st.hasLocallyStoredKey,lt=st.isLedgerAccount,ct=(0,m.D)({wallet:ee,unsignedTxOrUserOp:Oe.value,signSuccess:Se,signError:nt,skipSubmit:!w.request.params.shouldSubmit,handleUnlock:ot(ee.accountId),source:We}),dt=ct.signAndSubmitStandalone,ut=ct.isSignAndSubmitStandaloneLoading,pt=(0,f.LK)({flow:f.nl.Dapp,unsignedTxOrUserOp:de,onSignSuccess:Se,onSignError:at,dappURL:Ne,source:We}),ft=pt.signAndSubmitLedger,mt=pt.isHardwareWalletSigning,gt=pt.hardwareWalletScreen,bt=null!=ut?ut:mt;if(!ce)throw new Error("Something went wrong in TransactionRequestStep");(0,a.useEffect)((function(){de!==Oe.value&&(Pe.onChange(qe.params.toAddress),Oe.onChange(de),(0,u._)(de)&&Ge.onChange(de.gasLimit))}),[Ge,qe.params.toAddress,Pe,Oe,de]);var yt=(0,E.j)(ee),ht=(0,Y.h)(),vt=it&&yt&&(!(0,oe.O)()||ht),Tt=(0,a.useCallback)((function(){(0,i.zv)(),Ue("adjustGasPreset")}),[Ue]),wt=(0,a.useMemo)((function(){return vt?(0,le.jsx)(K.o,{as:"button",onClick:Tt,background:"transparent",children:(0,le.jsx)(_.In,{name:"gear",size:"s",color:"fg",paddingStart:1})}):null}),[vt,Tt]),xt=(0,j.Z)({wallet:ee,unsignedTxOrUserOp:Oe.value,error:ge,feeWallet:ce,flow:"dappTx"}),Ct=(0,ie.X)(ee,he,Oe.value,ve,Ye,wt,xt),kt=(0,l.RQ)(Xe),Lt=(0,a.useCallback)((function(){kt(),Ze()}),[Ze,kt]),St=(0,l.wl)(Xe),At=(0,l.uE)(Xe),Mt=(0,a.useCallback)((function(){St(),Ae(s.standardErrors.provider.userRejectedRequest({}))}),[Ae,St]),It=(0,a.useCallback)(be(fe().m((function e(){return fe().w((function(e){for(;;)switch(e.n){case 0:if(At(),!it){e.n=1;break}return e.a(2,dt());case 1:if(!lt){e.n=2;break}return e.a(2,ft());case 2:return e.a(2)}}),e)}))),[At,it,lt,dt,ft]),Rt=(0,a.useMemo)((function(){var e;return[{children:He(xe.cancel),variant:"secondary",onClick:Mt,testID:"request-cancel-button"},{children:He(xe.confirm),variant:null!=xt&&xt.isDisabled?"secondary":"primary",disabled:(null!==(e=null==xt?void 0:xt.isDisabled)&&void 0!==e?e:bt)||Be,loading:bt,onClick:null!=Ye&&Ye.fraudWarningConfirmationText?et:It,testID:"request-confirm-button"}]}),[He,Mt,null==xt?void 0:xt.isDisabled,bt,Be,et,It,Ye]),Dt=C.J.isEqual(ee.blockchain,d.AA)&&k.j.isEqual(ee.currencyCode,k.j.ETH)&&I.lg.isEqual(ee.network,new I.lg("ETHEREUM_CHAIN:1",!1))&&void 0===ee.contractAddress&&0n===ee.selectedIndex,Et=Dt?void 0:null!==(g=null===(b=ee.network.asChain())||void 0===b?void 0:b.chainImageUrl)&&void 0!==g?g:ee.imageURL,jt=Dt?void 0:null!==(h=null===(v=ee.network.asChain())||void 0===v?void 0:v.displayName)&&void 0!==h?h:ee.displayName,Ft=Je,Pt=Ft.gasLimit,Ot=Ft.analyticsId,Gt=Ft.chainId,Ut=Ft.feeCurrencyCode,Ht=Je,qt=Ht.networkFeeInUSD,Nt=Ht.networkFeeInCrypto,Wt=Je,Bt=Wt.minFeeInUSD,_t=Wt.maxFeeInUSD,Vt=Wt.minFeeInCrypto,Kt=Wt.maxFeeInCrypto,zt=(0,a.useMemo)((function(){return{dappLogoURL:w.dappLogoURL,dappLogoURLAlt:w.dappLogoURLAlt,dappURL:w.dappURL,networkBadgeURL:Et,networkBadgeAlt:jt}}),[jt,Et,w.dappLogoURL,w.dappLogoURLAlt,w.dappURL]),Zt=(0,a.useMemo)((function(){return Boolean($e&&zt)}),[zt,$e]),$t=null===(T=ee.network.asChain())||void 0===T?void 0:T.chainId,Xt=(0,D.X)(ve),Yt=(0,a.useMemo)((function(){var e,t,n=(null==me?void 0:me.operationType)&&w;return $e?we?(0,le.jsx)(H.F,{analyticsData:Xe,txScannerNotices:Te}):he?(0,le.jsx)(q.l,{}):(null==ve||null===(e=ve.assetChangeOperations)||void 0===e?void 0:e.length)||(null==ve||null===(t=ve.preAuthorizeOperations)||void 0===t?void 0:t.length)?(0,le.jsx)(U.B,{resetLoadTimer:ke,txScannerLoadStartTime:Ce,parsedOperations:ve,userWalletAddress:ee.primaryAddress,analyticsData:Xe,isRevokeOperation:Xt,networkChainId:String($t),exchangeRatesMap:Me,activeFiatCurrency:Ie}):(0,le.jsx)(H.F,{analyticsData:Xe,txScannerNotices:Te}):n?(0,le.jsx)(V.a,{paddingTop:2,children:(0,le.jsx)(ne.I,{dappLogoURL:w.dappLogoURL,dappLogoURLAlt:w.dappLogoURLAlt,dappURL:w.dappURL,networkBadgeURL:Et,networkBadgeAlt:jt,approveOperation:me,request:qe.method,blockchain:pe,chainId:String($t)})}):(0,le.jsx)(se.q,{dappLogoURL:w.dappLogoURL,dappLogoURLAlt:w.dappLogoURLAlt,dappURL:w.dappURL,networkBadgeURL:Et,networkBadgeAlt:jt})}),[me,w,$e,Et,jt,we,he,ve,Xe,Te,ke,Ce,ee.primaryAddress,Xt,$t,Me,Ie,qe.method,pe]);return(0,a.useEffect)((function(){var e,t={gasLimit:Pt,analyticsId:Ot,chainId:Gt,feeCurrencyCode:Ut};yt?(e=ue(ue({},t),{},{minFeeInUSD:Bt,maxFeeInUSD:_t,minFeeInCrypto:Vt,maxFeeInCrypto:Kt}),(0,J.$s)("dapp_txn_confirmation_fee_viewed_1559",{action:Q.X2.view,loggingId:"a36eaafb-d620-4e8e-961c-aca8f859331c",componentType:Q.I5.page,minFeeInUSD:e.minFeeInUSD??"",maxFeeInUSD:e.maxFeeInUSD??"",feeCurrencyCode:e.feeCurrencyCode,minFeeInCrypto:e.minFeeInCrypto,maxFeeInCrypto:e.maxFeeInCrypto??"",gasLimit:e.gasLimit,analyticsId:e.analyticsId??"",chainId:e.chainId??""})):function(e){(0,J.$s)("dapp_txn_confirmation_fee_viewed_legacy",{action:Q.X2.view,loggingId:"978713d3-8cf7-4c39-b926-90e93f0a5e86",componentType:Q.I5.page,networkFeeInUSD:e.networkFeeInUSD??"",networkFeeInCrypto:e.networkFeeInUSD??"",feeCurrencyCode:e.feeCurrencyCode,gasLimit:e.gasLimit,analyticsId:e.analyticsId??"",chainId:e.chainId??""})}(ue(ue({},t),{},{networkFeeInUSD:qt,networkFeeInCrypto:Nt}))}),[Bt,_t,Vt,Kt,Pt,Ot,Gt,qt,Nt,Ut,yt]),De?(0,le.jsx)(P.v,ue(ue({padding:2,elevation:1},re.V6),{},{children:(0,le.jsx)(z.D,{handleBack:rt,errorMessage:De})})):mt?gt:Ve&&null!=Ye&&Ye.fraudWarningConfirmationText?(0,le.jsx)(P.v,ue(ue({padding:2,elevation:1},re.V6),{},{children:(0,le.jsx)(G.m,{handlePrimaryButtonPress:It,isLoading:bt,warningContent:Ye.fraudWarningConfirmationText,handleCancelButtonPress:Mt,handleBackButton:Lt,analyticsData:Xe,height:O.pA})})):ee?(0,le.jsx)(Z.Z,{isTxScannerEnabled:Le,shouldRenderTxPreviewHeader:Zt,dappInfo:zt,headerText:He(xe.title),topSection:Yt,detailRowItems:Ct,disableBackBtn:!0,error:xt,buttonProps:Rt,signingAddressToDisplay:ee.primaryAddress,height:O.fG,isRevokeOperation:Xt}):(0,le.jsx)(le.Fragment,{})}we(Ce,"useExchangeRatesMap{exchangeRatesMap}\nuseActiveFiatCurrency{activeFiatCurrency}\nuseState{[blindSigningError, setBlindSigningError]}\nuseSetIsHardwareWalletSigning{setIsHardwareWalletSigning}\nuseFields{{ toAddress, unsignedTransaction, initialGasLimit }}\nuseStepper{{ goToStep }}\nuseIntl{{ formatMessage }}\nuseContext{{ disableConfirmButton }}\nuseToggler{[\n    showFraudConfirmation,\n    { toggleOn: setShowFraudConfirmation, toggleOff: setHideFraudConfirmation },\n  ]}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseSignTransactionEventData{analyticsData}\nuseEffect{}\nuseTransactionRequestStepViewed{}\nuseTxScannerContent{txScannerContent}\nuseAnalyticsFeeData{analyticsFeeData}\nuseTriggerWeb3FraudWarningConfirmationClicked{triggerWeb3FraudWarningConfirmationClicked}\nuseCallback{navigationToFraudWarningConfirmationScreenPressed}\nuseTriggerWeb3SignTransactionError{triggerWeb3SignTransactionError}\nuseCallback{signError}\nuseCallback{signLedgerError}\nuseCallback{retryLedgerTransaction}\nuseHandleUnlockForSigning{handleUnlock}\nuseAccountById{{ hasLocallyStoredKey, isLedgerAccount }}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseEffect{}\nuseIs1559Enabled{is1559Enabled}\nuseIsAdjustableMinerFeeEnabled{isAdjustableMinerFeeEnabled}\nuseCallback{openAdjustableGasPreset}\nuseMemo{AdjustGasPresetAction}\nuseTransactionDetailsErrors{transactionDetailsErrors}\nuseTransactionRequestDetails{detailRows}\nuseTriggerFraudWarningConfirmationBackButtonClicked{triggerFraudWarningConfirmationBackButtonClicked}\nuseCallback{handleFraudConfirmationBackButtonClicked}\nuseTriggerWeb3CancelTransactionClicked{triggerWeb3CancelTransactionClicked}\nuseTriggerWeb3ConfirmTransactionClicked{triggerWeb3ConfirmTransactionClicked}\nuseCallback{handleCancelButtonPress}\nuseCallback{handlePrimaryButtonPress}\nuseMemo{buttonOptions: ButtonProps<ButtonDefaultElement>[]}\nuseMemo{dappInfo}\nuseMemo{shouldRenderTxPreviewHeader}\nuseIsRevokeOperation{isRevokeOperation}\nuseMemo{topSection}\nuseEffect{}",(function(){return[A.gs,S.n,M.n,W.A,N.lE,o.A,B.K,y.f,F.$,l.NN,x,R.A,l.x6,l.wZ,X.s,L.vQ,m.D,f.LK,E.j,Y.h,j.Z,ie.X,l.RQ,l.wl,l.uE,D.X]})),(ve="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ve.register(xe,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestStep.tsx"),ve.register(Ce,"TransactionRequestStep","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestStep.tsx")),(Te="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Te(e)},2285:(e,t,n)=>{"use strict";n.d(t,{q:()=>v});var a,r=n(14041),o=n(32183),s=n(8867),i=n(48597),l=n(2673),c=n(15654),d=n(84492),u=n(86382),p=n(94330),f=n(60149),m=n(31085);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=(0,o.YK)({requestFrom:{id:"YSmlWG",defaultMessage:[{type:0,value:"Request from"}]},requestWarning:{id:"7F2/Ht",defaultMessage:[{type:0,value:"Make sure you trust this dapp"}]}});function v(e){var t=e.dappLogoURL,n=e.dappLogoURLAlt,a=e.dappURL,o=e.networkBadgeURL,b=e.networkBadgeAlt,y=(0,s.A)().formatMessage,v=new URL(a),T=g((0,r.useState)(t),2),w=T[0],L=T[1],S=(0,r.useCallback)((function(){L(n)}),[n]);return(0,m.jsx)(c.T,{width:"100%",gap:.5,paddingTop:2,children:(0,m.jsx)(i.Z,{bordered:!0,borderRadius:200,elevation:1,padding:2,width:"100%",height:"160px",children:(0,m.jsxs)(c.T,{justifyContent:"center",gap:.5,height:"100%",children:[(0,m.jsxs)("div",{className:x,children:[(0,m.jsx)("img",{className:k,src:w,alt:n,onError:S}),o&&(0,m.jsx)("img",{className:C,src:o,alt:b})]}),(0,m.jsxs)(d.z,{alignItems:"center",children:[(0,m.jsx)(p.C,{color:"fgMuted",as:"p",children:y(h.requestFrom)}),(0,m.jsx)(u.m,{content:y(h.requestWarning),placement:"bottom",children:(0,m.jsx)(l.In,{testID:"dapp-transaction-request-more-info-icon",name:"info",size:"xs",color:"fgMuted",paddingStart:1})})]}),(0,m.jsx)(f.f,{as:"p",overflow:"break",testID:"dapp-transaction-request-dapp-host-name",children:v.hostname})]})})})}y(v,"useIntl{{\n    formatMessage\n  }}\nuseState{[sourceUrl, setSourceUrl](dappLogoURL)}\nuseCallback{setAlternativeDappLogoURL}",(function(){return[s.A]}));var T,w,x="lnr9chz",C="njuihv5",k="duoahwy";n(40601),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(h,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),T.register(v,"TransactionRequestTopSection","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),T.register(x,"logoContainer","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),T.register(C,"networkBadge","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx"),T.register(k,"dappLogo","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/TransactionRequestTopSection.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},78734:(e,t,n)=>{"use strict";n.d(t,{X:()=>S});var a,r=n(14041),o=n(32183),s=n(8867),i=n(46122),l=n(51676),c=n(4244),d=n(74045),u=n(36760),p=n(38755),f=n(95634),m=n(69148),g=n(16835),b=n(2775),y=n(16238),h=n.n(y);function v(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var w,x,C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k=(0,o.YK)({costLabel:{id:"WSwaWw",defaultMessage:[{type:0,value:"Cost"}]},networkFeeLabel:{id:"1TgfUs",defaultMessage:[{type:0,value:"Network fee"}]},networkNameLabel:{id:"MWZ9F7",defaultMessage:[{type:0,value:"Network"}]},unknownNetworkLabel:{id:"aihB8f",defaultMessage:[{type:0,value:"Unknown network ["},{type:1,value:"network"},{type:0,value:"]"}]},unknownChainIdLabel:{id:"ZXyz0F",defaultMessage:[{type:0,value:"Unknown chain id "},{type:1,value:"chainId"}]},totalCostLabel:{id:"j9RrnG",defaultMessage:[{type:0,value:"Total cost"}]},nftNameLabel:{id:"7vjoql",defaultMessage:[{type:0,value:"Item"}]},nftName:{id:"+fdnKn",defaultMessage:[{type:1,value:"nftName"}]},collectionNameLabel:{id:"oM6lPv",defaultMessage:[{type:0,value:"Collection"}]},collectionName:{id:"T2MxtE",defaultMessage:[{type:1,value:"collectionName"}]},spendLimitLabel:{id:"ntOJgI",defaultMessage:[{type:0,value:"Spend Limit"}]},fullBalance:{id:"BlUPJH",defaultMessage:[{type:0,value:"Full balance"}]},spendLimitTooltipText:{id:"wAda+E",defaultMessage:[{type:0,value:"The maximum amount the smart contract will be able to withdraw."}]},spendLimitTooltipDetailText:{id:"qPi7hI",defaultMessage:[{type:0,value:"This dapp will be allowed to automatically withdraw "},{type:1,value:"amount"},{type:0,value:" from your wallet"}]},fullBalanceTooltipDetailText:{id:"L3mGDN",defaultMessage:[{type:0,value:"This dapp can withdraw all your "},{type:1,value:"currencyCode"}]}}),L=0n;function S(e,t,n,a,o,y,T){var w,x=(0,s.A)().formatMessage,C=(0,c.J9)(),S=n,A=n,M=L,I=L,R=(0,m.f)(),D=(0,f.d)({wallet:e,isTxPreviewEnabled:R,isTxScannerLoading:t,parsedOperations:a}),E=(0,i._C)(e.network.rawValue),j=(0,d.Z)(E).networkFeeTooltip,F="unableToEstimateGasError"!==(null==T?void 0:T.type),P=(0,r.useMemo)((function(){var e=null==a?void 0:a.preAuthorizeOperations[0];return!e||R?[]:[e.operationType===g.S.ITEM_APPROVAL?{label:x(k.nftNameLabel),detailText:x(k.nftName,{nftName:(0,b.Eu)(e.NFTName||"",15)})}:null,e.operationType===g.S.ITEM_APPROVAL_ALL?{label:x(k.collectionNameLabel),detailText:x(k.collectionName,{collectionName:(0,b.Eu)(e.collectionName||"",15)})}:null]}),[null==a?void 0:a.preAuthorizeOperations,x,R]),O=(0,u.j)(e);n&&S.lowerBoundFee?M=S.lowerBoundFee<S.upperBoundFee?S.lowerBoundFee:S.upperBoundFee:n&&(I=n.estimatedFee);var G=(0,r.useMemo)((function(){var t="";return S?null!=(t=O?C.formatToFiatFeeRange({fromCurrencyCode:S.feeCurrencyCode,decimals:S.feeCurrencyDecimal,upperBoundValue:S.upperBoundFee,isAbbreviated:!1,lowerBoundValue:S.lowerBoundFee,network:S.network,blockchain:S.blockchain}):C.formatToFiat({fromCurrencyCode:A.feeCurrencyCode,decimals:A.feeCurrencyDecimal,value:I,isAbbreviated:!1,contractAddress:void 0,network:e.network,blockchain:e.blockchain}))?t:"":t}),[I,S,C,O,A,e.blockchain,e.network]),U=(0,r.useMemo)((function(){var t="";return S&&n&&!D?null!=(t=O?C.formatToFiatTotalRange({feeCurrencyCode:S.feeCurrencyCode,currencyCode:S.currencyCode,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,fee:S.upperBoundFee,lowerBoundFee:S.lowerBoundFee,amount:n.transferValue,isConfirmed:!1,decimals:e.decimals,includeFee:!0,feeDecimals:S.feeCurrencyDecimal}):C.formatToFiatTotalRange({feeCurrencyCode:A.feeCurrencyCode,currencyCode:A.currencyCode,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,fee:A.estimatedFee,lowerBoundFee:void 0,amount:n.transferValue,isConfirmed:!1,decimals:e.decimals,includeFee:!0,feeDecimals:A.feeCurrencyDecimal}))?t:"":t}),[S,C,O,A,n,e,D]),H=(0,r.useMemo)((function(){if(!n||D)return"";var t=C.fiatValue({currencyCode:n.currencyCode,decimals:e.decimals,value:BigInt(n.transferValue),contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,digitsToFixed:2}),a=C.formatToCrypto({currencyCode:n.currencyCode,decimals:e.decimals,value:BigInt(n.transferValue),includeCode:!0,maxDisplayDecimals:5n});return t?"$".concat(t," - ").concat(a):"".concat(a)}),[n,D,C,e]),q=(0,r.useMemo)((function(){if(!E)return x(k.unknownNetworkLabel,{network:e.network.rawValue});var t=l.ay.fromChainId(BigInt(E));return t?t.displayName:x(k.unknownChainIdLabel,{chainId:E.toString()})}),[x,e.network.rawValue,E]),N=(0,r.useMemo)((function(){if(!n)return"";var t=C.fiatValue({currencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(I),contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain,digitsToFixed:2});if(t)return"$".concat(t);var a=C.formatToCrypto({currencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(I),includeCode:!0,maxDisplayDecimals:5n});return"".concat(a)}),[n,C,e,I]),W=(0,r.useMemo)((function(){if(!n)return"";var t=n.transferValue+I,a=C.formatToFiat({fromCurrencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(t),isAbbreviated:!1,contractAddress:e.contractAddress,network:e.network,blockchain:e.blockchain});if(a)return"".concat(a);var r=C.formatToCrypto({currencyCode:n.feeCurrencyCode,decimals:e.decimals,value:BigInt(t),includeCode:!0});return"".concat(r)}),[n,I,C,e]),B=(0,p.q)({isTxScannerLoading:t,isTxPreviewEnabled:R,parsedOperations:a,blockExplorerUrl:null==n||null===(w=n.network.asChain())||void 0===w?void 0:w.blockExplorerUrl,recipientAddress:null==n?void 0:n.recipientAddress});return(0,r.useMemo)((function(){return h()([null!=o&&o.label?o:null].concat(v(P),[B,null!=n&&n.transferValue&&n.transferValue>0n&&H?{label:x(k.costLabel),detailText:H}:null,F&&M&&{label:x(k.networkFeeLabel),detailText:G,tooltipText:x(j),actionIcon:y},F&&!M&&{label:x(k.networkFeeLabel),detailText:N,tooltipText:x(j)},void 0!==M&&null!=n&&n.transferValue&&n.transferValue>0n&&U?{label:x(k.totalCostLabel),detailText:U}:null,void 0===M&&null!=n&&n.transferValue?{label:x(k.totalCostLabel),detailText:W}:null,{label:x(k.networkNameLabel),detailText:null==q?void 0:q.toString()}]))}),[o,P,B,null==n?void 0:n.transferValue,H,x,F,M,G,j,y,N,U,W,q])}C(S,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{formatter}\nuseIsTxPreviewEnabled{isTxPreviewEnabled}\nuseHideTotalCost{hideTotalCost}\nuseNetworkFeeTooltipMessages{{ networkFeeTooltip }}\nuseMemo{legacyApproveDetails}\nuseIs1559Enabled{is1559Enabled}\nuseMemo{formattedNetworkFee}\nuseMemo{formattedTotalCost}\nuseMemo{formattedCost}\nuseMemo{formattedNetworkName}\nuseMemo{formattedEstimatedNetworkFee}\nuseMemo{formattedEstimatedTotalCost}\nuseAddressInfo{addressInfo}\nuseMemo{}",(function(){return[s.A,c.J9,m.f,f.d,d.Z,u.j,p.q]})),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(k,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),w.register(L,"zero","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx"),w.register(S,"useTransactionRequestDetails","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TransactionRequestStep/useTransactionRequestDetails.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},23507:(e,t,n)=>{"use strict";n.d(t,{I:()=>E});var a,r=n(14041),o=n(32183),s=n(8867),i=n(52135),l=n(16835),c=n(72127),d=n(2673),u=n(55799),p=n(84492),f=n(15654),m=n(59600),g=n(86382),b=n(60149),y=n(94330),h=n(74994),v=n(31085);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=T(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,s,i=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},A="var(--foreground-muted)",M=(0,o.YK)({tokenAccessTitle:{id:"fQ+lNc",defaultMessage:[{type:0,value:"Allow token access"}]},nftAccessTitle:{id:"b/bkj/",defaultMessage:[{type:0,value:"Allow NFT access"}]},dappAllowedText:{id:"CUNSOm",defaultMessage:[{type:1,value:"dappHostname"}]},warning:{id:"ZCZhYq",defaultMessage:[{type:0,value:"Only allow dapps that you fully trust with access to your wallet"}]},onlySignText:{id:"crcesR",defaultMessage:[{type:0,value:"Only sign if you fully trust this site with access to your account"}]}});function I(e){var t=e.dappLogoURL,n=e.dappLogoURLAlt,a=e.dappURL,o=e.networkBadgeURL,T=e.networkBadgeAlt,w=e.approveOperation,C=e.request,L=e.blockchain,S=e.chainId,I=(0,r.useMemo)((function(){return(0,i.m)(a)}),[a]);(0,h.MQ)({approveOperation:w,dappURL:I,request:C,blockchain:L});var R=(0,s.A)().formatMessage,D=k((0,r.useState)(t),2),E=D[0],F=D[1],P=(0,r.useMemo)((function(){return null==w?void 0:w.imageUrl}),[w]),O=(0,r.useCallback)((function(e){return{imageUrl:e,contractAddress:"",youtubeUrl:void 0,iframeUrl:void 0,animationUrl:void 0,tokenType:"",collectionName:(!w||w.operationType!==l.S.ITEM_APPROVAL&&w.operationType!==l.S.ITEM_APPROVAL_ALL?"":w.collectionName)||"",tokenId:""}}),[w]),G=(0,r.useCallback)((function(){F(n)}),[n]),U=(0,r.useMemo)((function(){return"BALANCE_APPROVAL"===(null==w?void 0:w.operationType)?M.tokenAccessTitle:"ITEM_APPROVAL_ALL"===(null==w?void 0:w.operationType)||"ITEM_APPROVAL"===(null==w?void 0:w.operationType)?M.nftAccessTitle:null}),[null==w?void 0:w.operationType]);return(0,v.jsxs)(u.a,{bordered:!0,borderRadius:200,flexDirection:"column",paddingX:2,width:"100%",testID:"tx-approval",children:[(0,v.jsxs)(p.z,{justifyContent:"flex-start",alignItems:"center",children:[(0,v.jsxs)(u.a,{paddingTop:3,position:"relative",children:[(0,v.jsx)(m.W,{source:E,resizeMode:"contain",width:32,height:32,shape:"squircle",alt:n,onError:G}),o?(0,v.jsx)("img",{className:j,src:o,alt:T}):null]}),P?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.a,{paddingTop:3,paddingX:1,children:(0,v.jsx)(d.In,{size:"s",name:"arrowsHorizontal",dangerouslySetColor:A})}),(0,v.jsx)(u.a,{paddingTop:3,children:(0,v.jsx)(c.Vz,x(x({},O(P)),{},{radius:1e3,height:"32px",width:"32px",chainId:S}))})]}):null]}),(0,v.jsx)(u.a,{paddingBottom:.5,paddingTop:3,children:(0,v.jsx)(f.T,{children:Boolean(U)&&(0,v.jsx)(b.f,{as:"h1",children:R(U)})})}),(0,v.jsx)(u.a,{paddingBottom:3,children:(0,v.jsxs)(p.z,{children:[(0,v.jsx)(y.C,{as:"span",color:"fgMuted",overflow:"break",testID:"dapp-transaction-request-dapp-host-name",children:R(M.dappAllowedText,{dappHostname:I})}),(0,v.jsx)(g.m,{content:R(M.onlySignText),placement:"bottom",children:(0,v.jsx)(d.In,{testID:"dapp-transaction-request-more-info-icon",name:"info",size:"xs",color:"fgMuted",paddingStart:1,paddingTop:.5})})]})})]})}S(I,"useMemo{dappHostname: string}\nuseTriggerTxApprovalLoaded{}\nuseIntl{{\n    formatMessage\n  }}\nuseState{[sourceUrl, setSourceUrl](dappLogoURL)}\nuseMemo{imageUrl}\nuseCallback{collectionImageUrl}\nuseCallback{setAlternativeDappLogoURL}\nuseMemo{headerTitle}",(function(){return[h.MQ,s.A]}));var R,D,E=(0,r.memo)(I),j="nb1wmky";n(23013),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(A,"ICON_COLOR","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(M,"messages","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(I,"TxApprovalComponent","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(E,"TxApproval","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx"),R.register(j,"networkBadge","/workspaces/apps/extension/src/screens/Web3/DappTransactionRequest/steps/TxApproval/TxApproval.tsx")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)},90485:(e,t,n)=>{"use strict";n.d(t,{J:()=>h});var a,r=n(32183),o=n(8867),s=n(85581),i=n(98139),l=n(15654),c=n(95312),d=n(60149),u=n(97541),p=n(74994),f=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var m,g,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,r.YK)({title:{id:"3BZzpX",defaultMessage:[{type:0,value:"Something went wrong"}]},description:{id:"MROLtl",defaultMessage:[{type:0,value:"Your funds are safe. Please make sure you have the latest version of Coinbase Wallet."}]},primaryButton:{id:"mlGRj3",defaultMessage:[{type:0,value:"Close"}]}});function h(e){var t,n,a=e.onPressClose,r=e.analyticsData,m=(0,o.A)().formatMessage;return(0,p.Ad)({dappURL:null!==(t=r.dappURL)&&void 0!==t?t:"",request:null!==(n=r.request)&&void 0!==n?n:""}),(0,f.jsxs)(l.T,{justifyContent:"center",alignItems:"center",height:"100%",testID:"web3-request-error-fallback",padding:2,children:[(0,f.jsx)(c.h,{minVertical:3}),(0,f.jsx)(i.K,{name:"errorRefresh",dimension:"200x200",scaleMultiplier:.8}),(0,f.jsx)(d.f,{as:"h1",textAlign:"center",paddingTop:3,children:m(y.title)}),(0,f.jsx)(u.K,{as:"p",textAlign:"center",paddingTop:3,color:"fgMuted",children:m(y.description)}),(0,f.jsx)(c.h,{minVertical:4}),(0,f.jsx)(s.$n,{block:!0,onClick:a,testID:"web3-dialog-error-fallback-button",children:m(y.primaryButton)})]})}b(h,"useIntl{{ formatMessage }}\nuseLogWeb3RequestFallbackViewed{}",(function(){return[o.A,p.Ad]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(y,"messages","/workspaces/apps/extension/src/screens/Web3/Web3RequestErrorFallback.tsx"),m.register(h,"Web3RequestErrorFallback","/workspaces/apps/extension/src/screens/Web3/Web3RequestErrorFallback.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},83992:(e,t,n)=>{"use strict";var a,r,o,s=n(38851),i=n(66430),l=n(10168);function c(e){var t=e.mutationKey,n=e.mutationFn,a=e.onSuccess;return(0,s.n)({mutationKey:t,mutationFn:n,onSuccess:a,retry:function(e,t){return!(t instanceof l.I&&!t.shouldRetry)&&e<i.a_}})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(c,"useMutation{}",(function(){return[s.n]})),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(c,"useMutationWithRetry","/workspaces/libs/data/scw/api/utils/useMutationWithRetry.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},38755:(e,t,n)=>{"use strict";n.d(t,{q:()=>p});var a,r=n(14041),o=n(32183),s=n(8867),i=n(21476);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var l,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},u=(0,o.YK)({toLabel:{id:"2Wn1Up",defaultMessage:[{type:0,value:"To"}]},addressLabel:{id:"Lk+qm8",defaultMessage:[{type:0,value:"Address"}]},dappTxWarningTooltipLabel:{id:"Ifolgy",defaultMessage:[{type:0,value:"Be careful"}]},dappTxWarningTooltipText:{id:"Vdrfzt",defaultMessage:[{type:0,value:"This dapp is requesting an action which can take money from your wallet. Make sure you trust this site."}]},spenderAddressLabel:{id:"aZoEWg",defaultMessage:[{type:0,value:"Address"}]}});function p(e){var t=e.isTxPreviewEnabled,n=e.parsedOperations,a=e.blockExplorerUrl,o=e.recipientAddress,l=e.toAddressItem,c=e.isTxScannerLoading,d=(0,s.A)().formatMessage,p=(0,r.useCallback)((function(e){if(null!=l&&l.value)return{label:d(u.toLabel),detailText:a?{text:(0,i.R)(l.value),blockExplorerUrl:"".concat(a,"/address/").concat(l.address)}:(0,i.R)(l.value),testID:"send-confirmation-wallet-send-to-label"};if(t&&c)return{testID:"address",loadingLabelNode:!0,loadingDetailTextNode:!0,label:d(u.addressLabel)};if(null!=n&&n.hasAggregatedTransfers&&o)return{label:d(u.toLabel),detailText:a?{text:(0,i.R)(o),blockExplorerUrl:"".concat(a,"/address/").concat(o)}:(0,i.R)(o),testID:"send-confirmation-wallet-send-to-label"};var r=(0,i.R)(e);return{label:d(u.addressLabel),detailText:a?{text:r,blockExplorerUrl:"".concat(a,"/address/").concat(e)}:r,testID:"address"}}),[l,t,c,null==n?void 0:n.hasAggregatedTransfers,o,d,a]);return(0,r.useMemo)((function(){if(!t){var e,a=null==n?void 0:n.preAuthorizeOperations[0],r=null!==(e=null==a?void 0:a.spenderAddress)&&void 0!==e?e:o;return r?p(r):null}var s=o?p(o):null;return null!=n&&n.hasAggregatedTransfers?s:1===(null==n?void 0:n.assetChangeOperations.length)&&0===(null==n?void 0:n.preAuthorizeOperations.length)?p(n.assetChangeOperations[0].toAddress):null!=n&&n.assetChangeOperations&&n.assetChangeOperations.length>1&&0===(null==n?void 0:n.preAuthorizeOperations.length)||null!=n&&n.assetChangeOperations&&n.assetChangeOperations.length>=1&&(null==n?void 0:n.preAuthorizeOperations.length)>=1?s:0===(null==n?void 0:n.assetChangeOperations.length)&&1===(null==n?void 0:n.preAuthorizeOperations.length)||0===(null==n?void 0:n.assetChangeOperations.length)&&(null==n?void 0:n.preAuthorizeOperations.length)>1?p(n.preAuthorizeOperations[0].spenderAddress):s}),[t,o,p,n])}d(p,"useIntl{{ formatMessage }}\nuseCallback{addressLabel}\nuseMemo{}",(function(){return[s.A]})),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(u,"messages","/workspaces/libs/data/stores/TxScanner/hooks/useAddressInfo.tsx"),l.register(p,"useAddressInfo","/workspaces/libs/data/stores/TxScanner/hooks/useAddressInfo.tsx")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},95634:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var a,r,o,s=n(14041),i=n(16835);function l(e){var t=e.wallet,n=e.isTxPreviewEnabled,a=void 0!==n&&n,r=e.isTxScannerLoading,o=void 0!==r&&r,l=e.parsedOperations,c=void 0===l?void 0:l;return(0,s.useMemo)((function(){return!!o||!(!a||null==c||!c.assetChangeOperations.some((function(e){var n;return e.operationType===i.S.BALANCE_TRANSFER&&!e.contractAddress&&e.currencyCode.rawValue===(null===(n=t.network.asChain())||void 0===n?void 0:n.baseAssetCurrencyCode)})))}),[a,o,c,t])}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(l,"useMemo{}"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&r.register(l,"useHideTotalCost","/workspaces/libs/data/stores/TxScanner/hooks/useHideTotalCost.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},61415:(e,t,n)=>{"use strict";n.d(t,{B:()=>w});var a,r=n(14041),o=n(32183),s=n(8867),i=n(35333),l=n(13394),c=n(1974),d=n(55799),u=n(15654),p=n(28118),f=n(94330),m=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var g,b,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=(0,o.YK)({primeDynamicPresetTitle:{id:"5Qq+hG",defaultMessage:[{type:0,value:"Dynamic"}]},primeDynamicPresetLabel:{id:"aPa7vg",defaultMessage:[{type:0,value:"Fees will be refreshed before signing"}]},primeDynamicPresetTime:{id:"dizobu",defaultMessage:[{type:0,value:"Fastest"}]}}),v="p1b2c8ly",T={outerSpacing:{padding:2}};function w(e){var t=e.onPress,n=e.minerFees,a=e.unsignedTxOrUserOp,o=(0,s.A)().formatMessage,g=(0,r.useCallback)((function(){try{t()}catch(e){(0,l.gf)({error:e,metadata:{error:null==e?void 0:e.message},context:"prime-dynamic-fee-and-simulation",severity:"error",isHandled:!0})}}),[t]);return(0,i.D)(a)?null:(0,m.jsx)(d.a,{paddingX:1,paddingBottom:1,children:(0,m.jsx)(p.o,{background:"transparent",borderRadius:200,onClick:g,as:"a",className:v,noScaleOnPress:!0,width:"100%",children:(0,m.jsxs)(u.T,{children:[(0,m.jsx)(c.l,{title:o(h.primeDynamicPresetTitle),description:o(h.primeDynamicPresetTime),detail:n.fast.fiatRangeString,subdetail:n.fast.cryptoRangeString,testID:"prime-adjust-gas-preset-dynamic-cell",outerSpacing:T.outerSpacing}),(0,m.jsx)(f.C,{as:"p",color:"fgMuted",paddingBottom:1,paddingX:2,children:o(h.primeDynamicPresetLabel)})]})})})}y(w,"useIntl{{\n    formatMessage\n  }}\nuseCallback{handlePress}",(function(){return[s.A]})),n(7829),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(h,"messages","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx"),g.register(v,"primeDynamicPresetContainerStyle","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx"),g.register(T,"primeDynamicPresetCellSpacing","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx"),g.register(w,"PrimeDynamicFeeAndSimulation","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/PrimeDynamicFeeAndSimulation.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},41193:(e,t,n)=>{"use strict";n.d(t,{v:()=>M});var a=n(14041),r=n(32183),o=n(8867),s=n(73779),i=n(76116),l=n(21983),c=n(55452),d=n(34767);function u(e){(0,c.cp)("adjustable_gas.preset_screen_viewed",{loggingId:"01bf5ae7-413f-4732-a676-a497cd03debc",action:d.X2.view,componentType:d.I5.page,flowName:e})}var p,f=n(24905),m=n(60803),g=n(1974),b=n(15654),y=n(61415),h=n(31085);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&p(e);var C,k,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},S=(0,r.YK)({title:{id:"XB4/lj",defaultMessage:[{type:0,value:"Change speed"}]},fastPresetTitle:{id:"AHURpK",defaultMessage:[{type:0,value:"Fast"}]},normalPresetTitle:{id:"HJCEaL",defaultMessage:[{type:0,value:"Normal"}]},slowPresetTitle:{id:"G7UHQ3",defaultMessage:[{type:0,value:"Slow"}]},customCellTitle:{id:"rWNKmm",defaultMessage:[{type:0,value:"Custom"}]},fastPresetTime:{id:"l8uLpc",defaultMessage:[{type:0,value:"~15 sec"}]},normalPresetTime:{id:"HNQ7JV",defaultMessage:[{type:0,value:"~30 sec"}]},slowPresetTime:{id:"yQwV0U",defaultMessage:[{type:0,value:"45 sec+"}]},customCellDescription:{id:"P0FNv2",defaultMessage:[{type:0,value:"Manual Setting"}]}});function A(){return(0,h.jsxs)(b.T,{paddingX:1,children:[(0,h.jsx)(m.x,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,h.jsx)(m.x,{title:!0,description:!0,detail:!0,subdetail:!0}),(0,h.jsx)(m.x,{title:!0,description:!0,detail:!0,subdetail:!0})]})}function M(e){var t=e.wallet,n=e.toAddress,r=e.unsignedTxOrUserOp,p=e.isEntireBalance,m=e.initialGasLimit,v=e.handleGenerateTx,T=e.goBack,x=e.goToCustom,C=e.onGasPresetChange,k=e.flowName,L=e.onPrimeDynamicGasChange,M=e.showPrimeDynamicFeeAndSimulation,I=(0,o.A)().formatMessage,R=(0,s.K)(m,t.network,r.l1GasFee);u(k);var D=(0,a.useCallback)((function(e){if(!r)return null;var a={kind:p?"EntireBalance":"Amount",value:r.transferValue},o={selectedBaseFeePerGas:e.baseFeePerGas,selectedMaxFeePerGas:e.maxFeePerGas,selectedMaxPriorityFeePerGas:e.maxPriorityFeePerGas,selectedGasLimit:m};(0,i.Z)({wallet:t,transactionAmount:a,recipientAddress:n,metadata:r.metadata,txOrUserOpConfig:w({txType:"1559",nonce:void 0,dataBuffer:r.data},o)}).then((function(e){v(e),null==C||C(o)}))}),[v,m,p,C,n,r,t]),E=(0,a.useCallback)((function(e,t){return function(){var n;switch(t){case"primeDynamic":n="fast",function(e){(0,c.$s)("adjustable_gas.prime_dynamic_preset_clicked",{loggingId:"ef4796ee-ce12-4b93-923d-0ea05ec5641b",action:d.X2.click,componentType:d.I5.button,flowName:e})}(k);break;case"fast":!function(e){(0,c.$s)("adjustable_gas.fast_preset_clicked",{loggingId:"3bf99d9e-1f67-403d-bf24-1480933042ac",action:d.X2.click,componentType:d.I5.button,flowName:e})}(k);break;case"normal":!function(e){(0,c.$s)("adjustable_gas.normal_preset_clicked",{loggingId:"7600c715-d126-484b-bd1a-dc49800c3ef2",action:d.X2.click,componentType:d.I5.button,flowName:e})}(k);break;case"slow":!function(e){(0,c.$s)("adjustable_gas.slow_preset_clicked",{loggingId:"bf78c628-4890-4487-bc29-6ee272e8f3b9",action:d.X2.click,componentType:d.I5.button,flowName:e})}(k)}return null==L||L(n),D(e)}}),[k,D,L]);return(0,h.jsxs)(b.T,{height:f.pA,children:[(0,h.jsx)(l.u,{onBack:T,title:I(S.title)}),R?(0,h.jsxs)(h.Fragment,{children:[M&&(0,h.jsx)(y.B,{onPress:E(R.fast,"primeDynamic"),minerFees:R,unsignedTxOrUserOp:r}),(0,h.jsx)(g.l,{title:I(S.fastPresetTitle),description:I(S.fastPresetTime),detail:R.fast.fiatRangeString,subdetail:R.fast.cryptoRangeString,onClick:E(R.fast,"fast"),testID:"adjust-gas-preset-fast-cell"}),(0,h.jsx)(g.l,{title:I(S.normalPresetTitle),description:I(S.normalPresetTime),detail:R.normal.fiatRangeString,subdetail:R.normal.cryptoRangeString,onClick:E(R.normal,"normal"),testID:"adjust-gas-preset-normal-cell"}),(0,h.jsx)(g.l,{title:I(S.slowPresetTitle),description:I(S.slowPresetTime),detail:R.slow.fiatRangeString,subdetail:R.slow.cryptoRangeString,onClick:E(R.slow,"slow"),testID:"adjust-gas-preset-slow-cell"})]}):(0,h.jsx)(A,{}),(0,h.jsx)(g.l,{title:I(S.customCellTitle),subdetail:I(S.customCellDescription),onClick:x,testID:"adjust-gas-preset-custom-cell"})]})}L(M,"useIntl{{ formatMessage }}\nuseMinerFeeEstimates{minerFees}\nuseAdjustableGasPresetScreenViewed{}\nuseCallback{generateUnsigned1559Tx}\nuseCallback{handlePressPreset}",(function(){return[o.A,s.K,u]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(S,"messages","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),C.register(A,"Fallback","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx"),C.register(M,"SharedAdjustGasPresetStep","/workspaces/libs/wallet-cds-extension/components/SharedAdjustGasPresetStep/SharedAdjustGasPresetStep.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},48784:(e,t,n)=>{"use strict";n.d(t,{m:()=>h});var a,r=n(32183),o=n(8867),s=n(84141),i=n(91965),l=n(22115),c=n(85581),d=n(2673),u=n(15654),p=n(55799),f=n(60149),m=n(97541),g=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,r.YK)({carefulWarning:{id:"InIXe9",defaultMessage:[{type:0,value:"Fraud warning"}]},allowAndContinueText:{id:"hmCtzs",defaultMessage:[{type:0,value:"Allow and continue"}]},cancel:{id:"kSix9e",defaultMessage:[{type:0,value:"Cancel"}]}});function h(e){var t=e.handlePrimaryButtonPress,n=e.isLoading,a=e.warningContent,r=e.handleCancelButtonPress,b=e.handleBackButton,h=e.analyticsData,v=e.height,T=(0,o.A)().formatMessage;return(0,s.zE)(h),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.T,{height:v,width:"100%",justifyContent:"space-between",testID:"fraud-confirmation-warning-container",children:(0,g.jsxs)(u.T,{children:[(0,g.jsx)(p.a,{marginStart:-1,zIndex:10,children:(0,g.jsx)(i.K,{name:"backArrow",onClick:b,transparent:!0,accessibilityLabel:"back label",testID:"fraud-confirmation-warning-back-button"})}),(0,g.jsx)(p.a,{paddingTop:4,justifyContent:"center",style:w,children:(0,g.jsx)(d.In,{name:"warning",size:"l",dangerouslySetColor:"#ffd200"})}),(0,g.jsx)(f.f,{paddingTop:10,as:"h3",textAlign:"center",children:T(y.carefulWarning)}),(0,g.jsx)(m.K,{paddingTop:2,as:"p",textAlign:"center",children:a})]})}),(0,g.jsxs)(l.e,{accessibilityLabel:"fraudWarningConfirmationWarningLabel",direction:"vertical",children:[(0,g.jsx)(c.$n,{type:"button",variant:"primary",onClick:r,disabled:n,children:T(y.cancel)}),(0,g.jsx)(c.$n,{testID:"confirmation-button",type:"button",variant:"negative",onClick:t,loading:n,children:T(y.allowAndContinueText)})]})]})}b(h,"useIntl{{ formatMessage }}\nuseFraudWarningConfirmationPopUpViewed{}",(function(){return[o.A,s.zE]}));var v,T,w={transform:"scale(3)",margin:"10px"};(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(y,"messages","/workspaces/libs/wallet-cds-web/components/FraudWarningConfirmation/FraudWarningConfirmation.tsx"),v.register(h,"FraudWarningConfirmation","/workspaces/libs/wallet-cds-web/components/FraudWarningConfirmation/FraudWarningConfirmation.tsx"),v.register(w,"style","/workspaces/libs/wallet-cds-web/components/FraudWarningConfirmation/FraudWarningConfirmation.tsx")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)},95479:(e,t,n)=>{var a=n(93640),r=n(5485),o=a((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=o},40601:(e,t,n)=>{"use strict";n.r(t)},23013:(e,t,n)=>{"use strict";n.r(t)},7829:(e,t,n)=>{"use strict";n.r(t)},67662:(e,t,n)=>{"use strict";var a;n.d(t,{l:()=>a}),function(e){e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess",e.watchAssetApprove="watchAssetApprove",e.watchAssetDeny="watchAssetDeny",e.selectProviderApprove="selectProviderApprove",e.selectProviderDeny="selectProviderDeny",e.dappChainSwitched="dappChainSwitched"}(a||(a={}))},56328:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var a=n(33396);const r=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","ledger-success","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],o=new URLSearchParams(window.location.search).get("step"),s=r.find((e=>e===o)),i=(0,a.KT)({steps:r,defaultStep:s??"loading"})},95974:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(33396),r=n(56328);function o(){return(0,a.lE)(r.j)}},65103:(e,t,n)=>{"use strict";n.d(t,{Im:()=>o,Zd:()=>i});var a=n(33396),r=n(40019);const o=(0,a.KT)({steps:["transactionRequest","adjustGasPreset","adjustGasCustom"],defaultStep:"transactionRequest"}),s={toAddress:"",unsignedTransaction:void 0,initialGasLimit:0n},i=(0,r.A)({initialValues:s})},19529:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(34767);function r(e){(0,a.yu)().finally((()=>{setTimeout((()=>{window.close()}),e||0)}))}},23426:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var a,r=n(14041),o=n(2719);!function(e){e.web3RequestCanceled="web3RequestCanceled",e.parentDisconnected="parentDisconnect"}(a||(a={}));var s=n(74994);function i(){return(0,r.useCallback)((async function({eventId:e,error:t,dappURL:n,blockchain:r,request:i,chainId:l}){return new Promise((c=>{(0,s.j)({request:i,dappURL:n,errorMessage:t.message,errorName:t.name,blockchain:r}),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:e,action:a.web3RequestCanceled,error:(0,o.serializeError)(t,i),blockchain:r,chainId:l}},(()=>c()))}))}),[])}},92229:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var a=n(14041),r=n(99633),o=n(40441),s=n(79669);function i(){const e=(0,r.useRecoilValue)(s.P);return(0,a.useCallback)((()=>{const t=(0,o.$)().get("originTabId");return null!==t&&(e[t]??[]).length>0}),[e])}},36783:(e,t,n)=>{"use strict";n.d(t,{FP:()=>r,ZY:()=>i,kw:()=>a,qC:()=>o,sM:()=>s});class a{constructor(e,t,n,a,r,o,s){this.eventId=e,this.dappName=t,this.dappLogoURL=n,this.dappLogoURLAlt=a,this.dappURL=r,this.sessionId=o,this.sessionSecret=s,this.kind="solanaConnectionRequest"}}class r{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSignMessage"}}class o{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSignTransaction"}}class s{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSignAllTransactions"}}class i{constructor(e,t,n,a,r,o){this.eventId=e,this.request=t,this.dappName=n,this.dappLogoURL=a,this.dappLogoURLAlt=r,this.dappURL=o,this.kind="solanaSendTransaction"}}},22715:(e,t,n)=>{"use strict";n.d(t,{Hs:()=>s,w$:()=>r,yS:()=>o});var a=n(69434);function r(e){return"wallet_sendCalls"===e.method}function o(e){return!!e&&["addEthereumChain","ethereumAddressFromSignedMessage","requestEthereumAccounts","signEthereumMessage","signEthereumTransaction","switchEthereumChain","watchAsset","wallet_sendCalls","wallet_showCallsStatus"].includes(e?.method)}function s(e){return[a.l.signMessage,a.l.sendTransaction,a.l.signTransaction,a.l.signAllTransactions].includes(e.method)}},64593:(e,t,n)=>{"use strict";n.d(t,{q:()=>S});var a=n(13394),r=n(31700),o=(n(74740),n(89962));n(83992),n(10168);const s="scw/getAccounts";function i(e){return e.eoaMeta?{address:(0,o.bv)(e.baseContractAddress),factoryCalldata:"",factoryAddress:"",signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}:{address:(0,o.bv)(e.baseContractAddress),factoryCalldata:e.deploymentMeta?.factoryCalldata,factoryAddress:e.deploymentMeta?.factoryAddress,signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}}var l=n(62396),c=n(42066),d=n(58732),u=n(74146);const p="scwDataForAccount",f=36e5;async function m(e){return r.qQ.fetchQuery({queryKey:[p,e],queryFn:async()=>async function(e){if(!l.g.isSCWAccount(e))return;const t=l.g.parseAddressFromId(e);return g(t)}(e),staleTime:f})}async function g(e){const{accounts:t}=await(0,u.hm)(s,{baseContractAddress:e},{authenticated:!0,setAuthTokens:c.PR,apiVersion:3});if(!t?.length)throw new Error(`No scw account received from backend for address ${e}`);const n=t.find((t=>(0,d.L)(t.baseContractAddress,e)));if(!n)throw new Error(`Incorrect scw account from server for address ${e}`);if(!n?.signers?.length)throw new Error(`No signers found for address ${e}`);return i(n)}var b=n(30666),y=n(55459),h=n(65846),v=n(92517),T=n(38903);function w(e){return(0,h.di)((0,v.S)((0,T.nj)(e)),0,16)}const x=w("Coinbase Wallet"),C=w("com.coinbase.wallet"),k="0x00";function L(e){if(y.Z.getIsFeatureEnabled("scw_data_suffix")){const n=(t=C)?(0,b.xW)([x,k,t]):x;return(0,b.xW)([e,n])}var t;return e}async function S(e){const t=await m(e);if(!t){const e=new Error("scw data for account undefined");throw(0,a.gf)({context:"scw-error",error:e,isHandled:!1,severity:"error"}),e}return{txType:"UserOp",accountInitCode:L((0,b.xW)([t.factoryAddress,t.factoryCalldata])),paymentMethod:"WALLET"}}},29440:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var a=n(14041),r=n(56018),o=n(98837),s=n(31860),i=n(79071),l=n.n(i),c=n(22767);function d({wallet:e,unsignedTxsOrUserOps:t,signSuccess:n,signError:i,handleUnlock:d,unlockSuccess:u,unlockError:p,source:f="extension",txSubmissionType:m="original",skipSubmit:g=!0}){const[b,y]=(0,a.useState)(!1),h=(0,o.O)(),v=(0,a.useCallback)((function(t){return async n=>{t&&h([t.asTransaction(n.txHash,n.nonce,e,t.metadata,m)])}}),[h,m,e]),T=(0,a.useCallback)((function(e){return 0n===e.transferValue?l():v(e)}),[v]),w=(0,a.useCallback)((async function(){try{if(!t||t.length<1)return null;const a=[];for(const n of t){const t=await(0,s.Z)({unsignedTxOrUserOp:n,wallet:e,txSubmissionType:"original",skipSubmit:g,onSubmit:T(n),source:f});g||await(0,r.xw)({signature:t.txHash,mainAccountAddress:t.fromAddress,commitment:c.Ac.CONFIRMED,walletIndex:e.selectedIndex??0n,accountId:e.accountId}),a.push(t)}n(a)}catch(e){i(e)}finally{y(!1)}}),[t,n,e,g,T,f,i]),x=(0,a.useCallback)((function(){return y(!0),d({unlockSuccess:function(){u?.(),w()},unlockError:function(e){e&&p?.(e),y(!1)}})}),[d,w,p,u]);return(0,a.useMemo)((()=>({signMultipleTransactionsStandalone:x,isSignMultipleTransactionsStandaloneLoading:b})),[b,x])}},10168:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});class a extends Error{constructor(e,t=!1){super(e),this.message=e,this.shouldRetry=t,this.shouldRetry=t}}},94975:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(14041),r=n(46122),o=n(52303),s=n(54065),i=n(4244),l=n(27301),c=n(99172);function d(e,t){const n=(0,i.J9)(),{chainId:d}=(0,c.B9)(t.network.rawValue),u=e?.metadata.get(r.E_);return(0,a.useMemo)((()=>{if(!e)return{};if(l.J.isEqual(e.blockchain,r.AA)){if((0,o._)(e)){const a=e,{currencyCode:r,lowerBoundFee:o,upperBoundFee:s,gasLimit:i}=a,{minFeeInUSD:l,maxFeeInUSD:c}=n.formatToFiatFeeMinMax({fromCurrencyCode:r,decimals:t.decimals,upperBoundValue:s,isAbbreviated:!1,lowerBoundValue:o,network:t.network,blockchain:t.blockchain}),{minFeeInCrypto:p,maxFeeInCrypto:f}=n.formatToCryptoMinMax({decimals:t.decimals,lowerBoundValue:o,upperBoundValue:s});return{minFeeInUSD:l,maxFeeInUSD:c,feeCurrencyCode:r.code,upperBoundFee:s.toString(),lowerBoundFee:o.toString(),minFeeInCrypto:p,maxFeeInCrypto:f,gasLimit:i.toString(),chainId:d?.toString(),analyticsId:u,nonce:a.nonce?.toString()}}const a=e,{feeCurrencyCode:r,feeCurrencyDecimal:s,estimatedFee:i,gasLimit:l}=a;return{feeCurrencyCode:r.code,estimatedFee:i.toString(),networkFeeInUSD:n.formatToFiat({fromCurrencyCode:r,decimals:s,value:i,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain,includeCode:!1}),networkFeeInCrypto:n.formatToCrypto({currencyCode:r,decimals:s,value:i,network:t.network,blockchain:t.blockchain,includeCode:!1}),gasLimit:l?.toString(),chainId:d?.toString(),analyticsId:u,nonce:a.nonce?.toString()}}if(l.J.isEqual(e.blockchain,s.lf)){return{feeCurrencyCode:e.feeCurrencyCode.code,networkFeeInCrypto:n.formatToCrypto({currencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.estimatedFee,network:t.network,includeCode:!1}),estimatedFee:e.estimatedFee.toString(),networkFeeInUSD:n.formatToFiat({fromCurrencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.estimatedFee,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain,includeCode:!1}),extraFeeInCrypto:n.formatToCrypto({currencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.extraFee,network:t.network,includeCode:!1,convertFromFiat:!1}),extraFeeInUSD:n.formatToFiat({fromCurrencyCode:e.feeCurrencyCode,decimals:e.feeCurrencyDecimal,value:e.extraFee,isAbbreviated:!1,contractAddress:void 0,network:t.network,blockchain:t.blockchain,includeCode:!1}),chainId:d?.toString(),analyticsId:u}}return{}}),[e,n,t,d,u])}},36760:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var a=n(14041),r=n(46122);function o(e){return(0,a.useMemo)((()=>!!e&&(0,r.US)(e.network)),[e])}},58732:(e,t,n)=>{"use strict";function a(e,t){return e?.toLowerCase()===t?.toLowerCase()}n.d(t,{L:()=>a})},39139:(e,t,n)=>{"use strict";n.d(t,{Mb:()=>s,Vv:()=>r,Zp:()=>i,iR:()=>o});var a=n(47875);const r={small:{width:136,height:144},medium:{width:312,height:192},large:{width:void 0,height:void 0}},o="96x96",s="64x64",i=(0,a.E)(o)},48597:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(14041),r=n(39139),o=n(15654),s=n(28118),i=n(31085);const l=["children","background","size","onClick","onKeyDown","onKeyUp","href","target","pin","width","height","accessibilityLabel","accessibilityLabelledBy","accessibilityHint","testID","borderRadius","elevation","noScaleOnPress"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=(0,a.memo)((function(e){var t;let{children:n,background:c="bg",size:u="large",onClick:p,onKeyDown:f,onKeyUp:m,href:g,target:b,pin:y,width:h,height:v,accessibilityLabel:T,accessibilityLabelledBy:w,accessibilityHint:x,testID:C,borderRadius:k,elevation:L,noScaleOnPress:S}=e,A=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,l);const M=null!=h?h:r.Vv[u].width,I=null!=v?v:r.Vv[u].height,R=Boolean(g),D=Boolean(null!==(t=null!=p?p:f)&&void 0!==t?t:m),E=R||D,j=(0,a.useMemo)((()=>(0,i.jsx)(o.T,d(d({background:E?void 0:c,borderRadius:k,elevation:E?void 0:L,height:E?void 0:I,overflow:"hidden",pin:E?void 0:y,testID:E?void 0:C,width:E?void 0:M},A),{},{children:n}))),[c,k,n,L,I,E,y,A,C,M]);return R?(0,i.jsx)(s.o,{accessibilityHint:x,accessibilityLabel:T,accessibilityLabelledBy:w,as:"a",background:c,borderRadius:k,elevation:L,height:I,href:g,noScaleOnPress:S,onClick:p,onKeyDown:f,onKeyUp:m,pin:y,target:b,testID:C,width:M,children:j}):D?(0,i.jsx)(s.o,{accessibilityHint:x,accessibilityLabel:T,accessibilityLabelledBy:w,background:c,borderRadius:k,elevation:L,height:I,noScaleOnPress:S,onClick:p,onKeyDown:f,onKeyUp:m,pin:y,testID:C,width:M,children:j}):j}));p.displayName="Card"},72707:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var a=n(52845);const r=async(e,{hash:t})=>{const n=[t],r=await e.request({method:"eth_getUserOperationReceipt",params:n});if(!r)return null;return{userOpHash:r.userOpHash,sender:r.sender,nonce:BigInt(r.nonce),actualGasUsed:BigInt(r.actualGasUsed),actualGasCost:BigInt(r.actualGasCost),success:r.success,receipt:{transactionHash:r.receipt.transactionHash,transactionIndex:BigInt(r.receipt.transactionIndex),blockHash:r.receipt.blockHash,blockNumber:BigInt(r.receipt.blockNumber),from:r.receipt.from,to:r.receipt.to,cumulativeGasUsed:BigInt(r.receipt.cumulativeGasUsed),status:a.$[r.receipt.status],gasUsed:BigInt(r.receipt.gasUsed),contractAddress:r.receipt.contractAddress,logsBloom:r.receipt.logsBloom,effectiveGasPrice:BigInt(r.receipt.effectiveGasPrice)},logs:r.logs.map((e=>({data:e.data,blockNumber:BigInt(e.blockNumber),blockHash:e.blockHash,transactionHash:e.transactionHash,logIndex:BigInt(e.logIndex),transactionIndex:BigInt(e.transactionIndex),address:e.address,topics:e.topics})))}}}}]);
//# sourceMappingURL=1391.js.map