/*! For license information please see 6593.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8da64985-e416-4f97-9475-98265019bb60",e._sentryDebugIdIdentifier="sentry-dbid-8da64985-e416-4f97-9475-98265019bb60")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[6593],{17541:(e,t,n)=>{n.d(t,{N:()=>m});var r,o,a,s=n(14041),i=n(21476),c=n(1974),l=n(52501),d=n(2673),u=n(84492),f=n(95312),p=n(10297),g=n(97541),b=n(31085);function m(e){var t=e.addressOption,n=e.isSelected,r=e.onPress,o=e.blockchainSymbol,a=e.disabled,m=e.hasAddressBeenOnboarded,y=e.onDisabledCheckboxPress,v=(0,s.useCallback)((function(){r(t)}),[r,t]),h=(0,s.useMemo)((function(){return m||n?"fg":a?"fgMuted":"fg"}),[a,m,n]),x=(0,s.useMemo)((function(){return(0,b.jsxs)(u.z,{padding:0,children:[(0,b.jsx)(g.K,{color:h,padding:0,paddingEnd:1,as:"p",children:"".concat(t.index+1,".")}),(0,b.jsx)(g.K,{color:h,as:"span",children:(0,i.R)(t.address)})]})}),[t.address,t.index,h]),j=(0,s.useMemo)((function(){return a&&!n?"fgMuted":"fg"}),[a,n]),A=(0,s.useMemo)((function(){return m?(0,b.jsx)(d.In,{testID:"".concat(t.address,"-checkmark-icon"),color:"fgMuted",size:"s",name:"checkmark"}):a?(0,b.jsx)(p.t,{onClick:n?void 0:y,children:(0,b.jsx)(l.S,{disabled:!n&&a,testID:"".concat(t.address,"-checkbox"),checked:n,onChange:v})}):(0,b.jsx)(l.S,{testID:"".concat(t.address,"-checkbox"),checked:n,onChange:v})}),[t.address,a,v,m,n,y]),w=(0,s.useMemo)((function(){return(0,b.jsxs)(u.z,{alignItems:"center",children:[(0,b.jsx)(g.K,{color:j,as:"span",children:"".concat(t.balance," ").concat(o)}),(0,b.jsx)(f.h,{horizontal:2}),A]})}),[t.balance,j,o,A]),M=(0,s.useMemo)((function(){return w}),[w,a]);return(0,b.jsx)(c.l,{testID:t.address,title:x,variant:"positive",action:M,compact:!0},t.address)}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useCallback{handlePress}\nuseMemo{leftSideTextColor}\nuseMemo{formattedTitle}\nuseMemo{balanceAndBlockchainTextColor}\nuseMemo{checkboxComponent}\nuseMemo{actionComponents}\nuseMemo{action}"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(m,"AddressCell","/workspaces/apps/extension/src/components/HardwareWallet/AddressTable/AddressCell.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},81878:(e,t,n)=>{n.d(t,{l:()=>F});var r=n(14041),o=n(47695),a=n(96295),s=n(87432),i=n(88087),c=n(50259),l=n(20960),d=n(33142),u=n(44944),f=n(99633),p=n(60803),g=n(15654),b=n(68196),m=n(8148);var y=n(58152),v=n(63302);const h="component unmounted";async function x({index:e,hidDevice:t,selectedHdPath:n,signal:r}){if(r.aborted)throw Error(h);const o=m.z6.find((e=>e.name===n));if(!o)return{derivationPath:"",address:""};const a=(i=e,(s=o).isHardened?s.getIndex(i):`${s.prefix}/${i}`);var s,i;try{(0,b.j)("sent",t,y.q.getAddress);const e=await(0,v.bv)({derivationPath:a});return(0,b.j)("approved",t,y.q.getAddress),{derivationPath:a,address:e.address}}catch(e){(0,b.j)("rejected",t,y.q.getAddress);throw e}}var j=n(30505),A=n(26746),w=n(89029);const M="1000000000000000000";async function S(e,t=3){return function(e,t=3){return new w.Decimal(e.toString()).div(M).toDecimalPlaces(t,w.Decimal.ROUND_FLOOR).toNumber()}(await(0,A.aJ)(e,1),t)}var O,C,I,T=n(17541),k=n(31085);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof i?r:i,l=Object.create(c.prototype);return G(l,"_invoke",function(n,r,o){var a,i,c,l=0,d=o||[],u=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,c=e,f.n=n,s}};function p(n,r){for(i=n,c=r,t=0;!u&&l&&!o&&t<d.length;t++){var o,a=d[t],p=f.p,g=a[2];n>3?(o=g===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<g&&(o=n<3||a[0]>r||r>g)&&(a[4]=n,a[5]=r,f.n=g,i=0))}if(o||n>1)return s;throw u=!0,r}return function(o,d,g){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,g),i=d,c=g;(t=i<2?e:c)||!u;){a||(i?i<3?(i>1&&(f.n=-1),p(i,c)):f.n=c:f.v=c);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(u=f.n<0)?c:n.call(r,f))!==s)break}catch(t){a=e,i=1,c=t}finally{l=1}}return{value:t,done:u}}}(n,o,a),!0),l}var s={};function i(){}function c(){}function l(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(G(t={},r,(function(){return this})),t),u=l.prototype=i.prototype=Object.create(d);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,G(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=l,G(u,"constructor",l),G(l,"constructor",c),c.displayName="GeneratorFunction",G(l,o,"GeneratorFunction"),G(u),G(u,o,"Generator"),G(u,r,(function(){return this})),G(u,"toString",(function(){return"[object Generator]"})),(P=function(){return{w:a,m:f}})()}function G(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}G=function(e,t,n,r){function a(t,n){G(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},G(e,t,n,r)}function N(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function z(){return(0,k.jsxs)(g.T,{testID:"address-table-loading-fallback",children:[(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0})]})}function F(e){var t,n,b=e.selectedHdPath,m=e.onSelected,y=e.lock,v=e.onGetAddressError,h=e.onDisabledCheckboxPress,A=(0,l.m)(),w=R((0,f.useRecoilState)(u.Wi),2),M=w[0],O=w[1],C=(0,f.useRecoilValue)(u.an),I=R((0,r.useState)(E({},b,null!==(t=null===(n=M.get(b))||void 0===n?void 0:n.length)&&void 0!==t?t:0)),2),L=I[0],D=I[1],G=(0,d.F)(),W=(0,i.a)(c.CO.LEDGER),F=(0,r.useMemo)((function(){return W.map((function(e){return e.primaryAddress}))}),[W]),B=(0,r.useRef)(!1),Z=R((0,r.useState)(new AbortController),1)[0],_=(0,r.useMemo)((function(){return G+F.length>=A}),[F.length,G,A]),U=(0,r.useMemo)((function(){var e;return null!==(e=M.get(b))&&void 0!==e?e:[]}),[M,b]);(0,s.y)((function(){return function(){null==Z||Z.abort()}}));var q=(0,r.useCallback)((function(e){B.current=!0,m(e)}),[m]),Y=(0,r.useCallback)((function(){var e=U[0];F.includes(e.address)||Object.keys(C).length||(m(e),B.current=!0)}),[U,F,m,C]),V=(0,r.useCallback)(function(){var e,t=(e=P().m((function e(t){var n,r,o,a,s,i,c,l,d;return P().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,(0,j.y)("ledger-onboarding");case 1:if(n=e.v,!U[t]){e.n=2;break}return e.a(2);case 2:return e.n=3,y.acquire();case 3:return r=e.v,e.p=4,e.n=5,x({index:t,hidDevice:n,selectedHdPath:b,signal:Z.signal});case 5:return o=e.v,a=o.derivationPath,s=o.address,e.n=6,S(s);case 6:i=e.v,c={address:s,balance:i,derivationPath:a,index:t},U[t]=c,(l=new Map(M)).set(b,U),O(l),B.current||Y(),e.n=8;break;case 7:e.p=7,d=e.v,v(d);case 8:return e.p=8,r(),e.f(8);case 9:return e.a(2)}}),e,null,[[4,7,8,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){N(a,r,o,s,i,"next",e)}function i(e){N(a,r,o,s,i,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[U,y,b,Z.signal,M,O,Y,v]);(0,r.useEffect)((function(){U.length||V(0)}),[U.length,V,b]);var $=(0,r.useCallback)((function(e,t){if(e){var n,r=null!==(n=L[b])&&void 0!==n?n:0,o=Number(t.target.attributes.data.nodeValue),a=M.get(b),s=void 0!==(null==a?void 0:a[o+1]);a&&!s&&(V(r+1),D((function(e){return H(H({},e),{},E({},b,r+1))})))}}),[V,M,L,b]);return U.length?(0,k.jsxs)(g.T,{testID:"hw-connect-select-address-table",children:[null==U?void 0:U.map((function(e){var t=Boolean(C[e.address]),n=F.includes(e.address);return(0,k.jsx)(o.pL,{data:e.index.toString(),onChange:$,"data-testid":"".concat(e.address,"-container"),children:(0,k.jsx)(T.N,{disabled:_,onDisabledCheckboxPress:h,blockchainSymbol:a.fz,hasAddressBeenOnboarded:n,isSelected:t,addressOption:e,onPress:q},e.index)},"".concat(e.index,"/").concat(b))})),(0,k.jsxs)(g.T,{children:[(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0}),(0,k.jsx)(p.x,{title:!0,detail:!0})]})]}):(0,k.jsx)(z,{})}e=n.hmd(e),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&O(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(F,"useMaxWalletGroupsPerUserFacingAccount{maxWalletGroupsPerUserFacingAccount}\nuseRecoilState{[hardwareWalletEthAddressMap, setHardwareWalletEthAddressMapAtom]}\nuseRecoilValue{selectedAddressesByAddress}\nuseState{[lastFetchedIndexByDerivationPath, setLastFetchedIndexByDerivationPath]({\n    [selectedHdPath]: hardwareWalletEthAddressMap.get(selectedHdPath)?.length ?? 0,\n  })}\nuseNumberOfSelectedAddresses{numberOfSelectedAddresses}\nuseAccountsByAccountType{ledgerAccounts}\nuseMemo{ledgerAddresses}\nuseRef{isFormDirty}\nuseState{[controller](new AbortController())}\nuseMemo{hasReachedMaxAddresses}\nuseMemo{addressesBySelectedDerivationPath}\nuseOnMount{}\nuseCallback{handleOnSelected}\nuseCallback{preselectFirstNotImportedIndex}\nuseCallback{generateAddressOption}\nuseEffect{}\nuseCallback{updateCurrentIndex}",(function(){return[l.m,f.useRecoilState,f.useRecoilValue,d.F,i.a,s.y]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(z,"LoadingFallback","/workspaces/apps/extension/src/components/HardwareWallet/AddressTable/AddressTable.tsx"),C.register(F,"AddressTable","/workspaces/apps/extension/src/components/HardwareWallet/AddressTable/AddressTable.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},79603:(e,t,n)=>{n.d(t,{d:()=>H});var r,o=n(14041),a=n(32183),s=n(8867),i=n(33874),c=n(50259),l=n(59706),d=n(85581),u=n(98139),f=n(15654),p=n(32949),g=n(44659),b=n(97541),m=n(52331),y=n(39109),v=n(92125),h=n(85792),x=n(70660),j=n(60156),A=n(31085);function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof i?r:i,l=Object.create(c.prototype);return M(l,"_invoke",function(n,r,o){var a,i,c,l=0,d=o||[],u=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,c=e,f.n=n,s}};function p(n,r){for(i=n,c=r,t=0;!u&&l&&!o&&t<d.length;t++){var o,a=d[t],p=f.p,g=a[2];n>3?(o=g===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<g&&(o=n<3||a[0]>r||r>g)&&(a[4]=n,a[5]=r,f.n=g,i=0))}if(o||n>1)return s;throw u=!0,r}return function(o,d,g){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,g),i=d,c=g;(t=i<2?e:c)||!u;){a||(i?i<3?(i>1&&(f.n=-1),p(i,c)):f.n=c:f.v=c);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(u=f.n<0)?c:n.call(r,f))!==s)break}catch(t){a=e,i=1,c=t}finally{l=1}}return{value:t,done:u}}}(n,o,a),!0),l}var s={};function i(){}function c(){}function l(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(M(t={},r,(function(){return this})),t),u=l.prototype=i.prototype=Object.create(d);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,M(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=l,M(u,"constructor",l),M(l,"constructor",c),c.displayName="GeneratorFunction",M(l,o,"GeneratorFunction"),M(u),M(u,o,"Generator"),M(u,r,(function(){return this})),M(u,"toString",(function(){return"[object Generator]"})),(w=function(){return{w:a,m:f}})()}function M(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}M=function(e,t,n,r){function a(t,n){M(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},M(e,t,n,r)}function S(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){S(a,r,o,s,i,"next",e)}function i(e){S(a,r,o,s,i,"throw",e)}s(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var T,k,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},D=(0,a.YK)({title:{id:"WLecCb",defaultMessage:[{type:0,value:"Connect your Ledger"}]},troubleConnecting1:{id:"DnMXux",defaultMessage:[{type:0,value:"1. Close any other apps your Ledger is connected to, including Ledger Live."}]},troubleConnecting2:{id:"aiQNgM",defaultMessage:[{type:0,value:"2. Plug your Ledger into your computer."}]},troubleConnecting3:{id:"oOXDP3",defaultMessage:[{type:0,value:"3. Unlock your Ledger and open the Ethereum app."}]},connectCTA:{id:"fTeY7h",defaultMessage:[{type:0,value:"Connect now"}]},havingTrouble:{id:"sPl3k8",defaultMessage:[{type:0,value:"Having trouble?"}]}});function H(e){var t=e.testIDPrefix,n=void 0===t?"ledger-hw-connect-device":t,r=e.removeStepperIndicator,a=void 0!==r&&r,M=e.customStepper,S=void 0===M?null:M,I=e.context,T=e.onStepComplete,k=(0,s.A)().formatMessage,L=C((0,o.useState)(!1),2),H=L[0],P=L[1],G=C((0,o.useState)(!1),2),N=G[0],E=G[1],R=(0,o.useCallback)((function(){E(!1),P(!0)}),[]),W=(0,o.useCallback)(O(w().m((function e(){var t,n;return w().w((function(e){for(;;)switch(e.p=e.n){case 0:return(0,h.dI)({context:I}),E(!0),e.p=1,e.n=2,(0,x.og)((function(e){return e.vendorId===j.zL}));case 2:if(!(t=e.v).length){e.n=3;break}return(0,h.aW)({context:I,device:t[0]}),(0,h.h2)({context:I,device:t[0],isNewOrRemembered:"remembered"}),R(),e.a(2);case 3:return e.n=4,window.navigator.hid.requestDevice({filters:[{vendorId:j.zL}]});case 4:if(!(n=e.v).length){e.n=5;break}return(0,h.o$)({context:I,device:n[0]}),(0,h.h2)({context:I,device:n[0],isNewOrRemembered:"new"}),R(),e.a(2);case 5:(0,h.VL)({context:I}),E(!1),e.n=7;break;case 6:e.p=6,e.v,(0,h.XI)({context:I}),E(!1);case 7:return e.a(2)}}),e,null,[[1,6]])}))),[I,R]),z=(0,o.useCallback)((function(){T()}),[T]),F=(0,o.useCallback)((function(){(0,x.p4)(c.CO.LEDGER)}),[]),B=(0,i.f)(),Z=(0,o.useMemo)((function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(f.T,{children:(0,A.jsx)(g.f,{as:"h3",children:k(D.title)})}),(0,A.jsx)(f.T,{alignItems:"center",justifyContent:"center",children:(0,A.jsx)(l.t,{illustration:"LedgerPluginMiami",alt:k(D.title),children:(0,A.jsx)(u.K,{name:"ledgerPlugin",scaleMultiplier:.75})})}),(0,A.jsxs)(f.T,{gap:1,paddingBottom:2,children:[(0,A.jsx)(b.K,{as:"p",color:B?"fg":"fgMuted",children:k(D.troubleConnecting1)}),(0,A.jsx)(b.K,{as:"p",color:B?"fg":"fgMuted",children:k(D.troubleConnecting2)}),(0,A.jsx)(b.K,{paddingBottom:1,as:"p",color:B?"fg":"fgMuted",children:k(D.troubleConnecting3)})]}),(0,A.jsxs)(f.T,{alignItems:"center",gap:2,children:[(0,A.jsx)(d.$n,{testID:"".concat(n,"-connect-now-btn"),block:!0,onClick:W,children:N?(0,A.jsx)(p.y,{size:2,color:"fgPrimary"}):k(D.connectCTA)}),(0,A.jsx)(m.N,{testID:"".concat(n,"-having-trouble"),font:"body",color:"fgPrimary",onClick:F,as:"button",children:k(D.havingTrouble)})]})]})}),[k,B,n,W,N,F]);return H?(0,A.jsx)(y.D,{onAnimationEnd:z}):(0,A.jsx)(v.E,{flexDirection:"column",justifyContent:"space-between",testID:"connect-device-screen",customStepper:S,removeStepperIndicator:a,children:Z})}L(H,"useIntl{{ formatMessage }}\nuseState{[showAnimation, setShowAnimation](false)}\nuseState{[isDiscoveringDevices, setDiscoveringDevices](false)}\nuseCallback{handleDeviceFound}\nuseCallback{handleDiscoverLedger}\nuseCallback{handleAnimationEnd}\nuseCallback{handleHavingTroublePress}\nuseMiamiIllustrationsEnabled{isMiamiIllustrationsEnabled}\nuseMemo{pageContent}",(function(){return[s.A,i.f]})),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(D,"messages","/workspaces/apps/extension/src/components/HardwareWallet/ConnectDevice/ConnectDevice.tsx"),T.register(H,"ConnectDevice","/workspaces/apps/extension/src/components/HardwareWallet/ConnectDevice/ConnectDevice.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},87755:(e,t,n)=>{n.d(t,{D:()=>D});var r,o=n(14041),a=n(32183),s=n(8867),i=n(33874),c=n(86768),l=n(50259),d=n(26958),u=n(24905),f=n(59706),p=n(91965),g=n(85581),b=n(34107),m=n(15654),y=n(55799),v=n(60149),h=n(97541),x=n(94330),j=n(98055),A=n(52331),w=n(95974),M=n(70660),S=n(81475),O=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var C,I,T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k="hw-trouble-connecting",L=(0,a.YK)({tryAgainCTA:{id:"FazwRl",defaultMessage:[{type:0,value:"Try again"}]},backButtonAriaLabel:{id:"p72mKW",defaultMessage:[{type:0,value:"Go back"}]},errorMessage:{id:"29gmtd",defaultMessage:[{type:0,value:"Error: "},{type:1,value:"error"}]},havingTrouble:{id:"sPl3k8",defaultMessage:[{type:0,value:"Having trouble?"}]},gotIt:{id:"NYTGIb",defaultMessage:[{type:0,value:"Got it"}]}});function D(e){var t=e.statusCode,n=e.errorMessage,r=e.errorId,a=e.handleBack,C=(0,s.A)().formatMessage,I=(0,w.A)().goBack,T=(0,i.f)();(0,S.R)("errorMessage:",n,"statusCode:",t,"errorId:",r);var D=(0,c.bV)(t,r),H=(0,o.useCallback)((function(){a?a():I()}),[I,a]),P=(0,o.useCallback)((function(){(0,M.p4)(l.CO.LEDGER)}),[]);return(0,O.jsxs)(m.T,{height:u.pA,justifyContent:"space-between",testID:"".concat(k,"-container"),children:[(0,O.jsxs)(m.T,{children:[(0,O.jsx)(y.a,{marginStart:-1,children:(0,O.jsx)(p.K,{testID:"".concat(k,"-back-btn"),name:"backArrow",onClick:H,transparent:!0,accessibilityLabel:C(L.backButtonAriaLabel)})}),(0,O.jsx)(m.T,{alignItems:"center",justifyContent:"flex-start",paddingTop:3,children:t===c.UB?(0,O.jsx)(b.g,{name:"ledgerSignatureRejected",scaleMultiplier:1}):(0,O.jsx)(f.t,{illustration:"LedgerErrorMiami",children:(0,O.jsx)(b.g,{name:"ledgerFailed",scaleMultiplier:1})})})]}),(0,O.jsxs)(m.T,{gap:2,children:[(0,O.jsx)(v.f,{as:"p",children:C(D[0])}),(0,O.jsx)(h.K,{as:"p",color:T?"fg":"fgMuted",children:C(D[1])}),void 0!==t&&!(0,c.ux)(t)&&(0,O.jsx)(x.C,{as:"p",children:C(L.errorMessage,{error:t})}),n&&(null==n?void 0:n.length)>0&&(0,O.jsx)(j.v,{as:"p",children:C(L.errorMessage,{error:n})})]}),(0,O.jsxs)(m.T,{alignItems:"center",gap:2,children:[(0,O.jsx)(g.$n,{testID:"".concat(k,"-try-again-btn"),block:!0,onClick:H,children:t===c._c?C(L.gotIt):C(L.tryAgainCTA)}),(0,O.jsx)(d.V,{unset:!0,children:(0,O.jsx)(O.Fragment,{children:t!==c._c&&(0,O.jsx)(A.N,{testID:"".concat(k,"-having-trouble"),font:"body",color:"fgPrimary",onClick:P,as:"button",children:C(L.havingTrouble)})})})]})]})}T(D,"useIntl{{ formatMessage }}\nuseOnboardingStepper{{ goBack }}\nuseMiamiIllustrationsEnabled{isMiamiIllustrationsEnabled}\nuseCallback{handleOnBackOrTryAgainPress}\nuseCallback{handleHavingTroublePress}",(function(){return[s.A,w.A,i.f]})),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(k,"testIDPrefix","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),C.register(L,"messages","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx"),C.register(D,"HWTroubleConnecting","/workspaces/apps/extension/src/components/HardwareWallet/HWTroubleConnecting/HWTroubleConnecting.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},39109:(e,t,n)=>{n.d(t,{D:()=>v});var r=n(14041),o=n(32183),a=n(8867),s=n(14012),i=n(24905),c=n(63346),l=n(15654),d=n(97370);const u="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNDAiIGN5PSI0MCIgcj0iNDAiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNNDUuODA4IDU2LjYwN1Y1OWgxNi4xOTFWNDguMjFINTkuNjR2OC4zOTdINDUuODA4Wm0wLTM1LjYwN3YyLjM5Mkg1OS42NHY4LjM5OEg2MlYyMUg0NS44MDdabS05LjIzNCAxMC43OWgtMi4zNTl2MTYuNDJoMTAuNjR2LTIuMTU4aC04LjI4VjMxLjc5Wk0xOCA0OC4yMVY1OWgxNi4xOTJ2LTIuMzkzSDIwLjM1OVY0OC4yMUgxOFpNMTggMjF2MTAuNzloMi4zNnYtOC4zOThoMTMuODMyVjIxSDE4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==";var f,p=n(31085);e=n.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var g,b,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},y=(0,o.YK)({logoAltText:{id:"ZZjSaS",defaultMessage:[{type:0,value:"Ledger logo"}]}});function v(e){var t=e.onAnimationEnd,n=(0,a.A)().formatMessage,o=(0,c.D)().activeColorScheme,f=(0,r.useMemo)((function(){return"".concat("light"===o?u:d)}),[o]),g=(0,r.useCallback)((function(){var e=setTimeout((function(){t()}),2e3);return function(){return clearTimeout(e)}}),[t]);return(0,r.useEffect)(g,[g]),(0,p.jsx)(l.T,{height:i.pA,paddingTop:1,children:(0,p.jsx)(s.h,{authed:!0,logoSrc:f,logoAltText:n(y.logoAltText)})})}m(v,"useIntl{{ formatMessage }}\nuseTheme{theme}\nuseMemo{LedgerLogo}\nuseCallback{animationTimeout}\nuseEffect{}",(function(){return[a.A,c.D]})),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(y,"messages","/workspaces/apps/extension/src/components/HardwareWallet/HWWalletConnectionAnimation/HWWalletConnectionAnimation.tsx"),g.register(v,"HWWalletConnectionAnimation","/workspaces/apps/extension/src/components/HardwareWallet/HWWalletConnectionAnimation/HWWalletConnectionAnimation.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},46707:(e,t,n)=>{n.d(t,{J:()=>Z});var r,o=n(14041),a=n(32183),s=n(8867),i=n(87166),c=n(14630),l=n(33874),d=n(20960),u=n(33142),f=n(44944),p=n(99633),g=n(26651),b=n(85581),m=n(25495),y=n(29070),v=n(2673),h=n(15654),x=n(84492),j=n(32949),A=n(86382),w=n(44659),M=n(97541),S=n(81878),O=n(92125),C=n(8148),I=n(31085);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof i?r:i,l=Object.create(c.prototype);return H(l,"_invoke",function(n,r,o){var a,i,c,l=0,d=o||[],u=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,c=e,f.n=n,s}};function p(n,r){for(i=n,c=r,t=0;!u&&l&&!o&&t<d.length;t++){var o,a=d[t],p=f.p,g=a[2];n>3?(o=g===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<g&&(o=n<3||a[0]>r||r>g)&&(a[4]=n,a[5]=r,f.n=g,i=0))}if(o||n>1)return s;throw u=!0,r}return function(o,d,g){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,g),i=d,c=g;(t=i<2?e:c)||!u;){a||(i?i<3?(i>1&&(f.n=-1),p(i,c)):f.n=c:f.v=c);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(u=f.n<0)?c:n.call(r,f))!==s)break}catch(t){a=e,i=1,c=t}finally{l=1}}return{value:t,done:u}}}(n,o,a),!0),l}var s={};function i(){}function c(){}function l(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(H(t={},r,(function(){return this})),t),u=l.prototype=i.prototype=Object.create(d);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,H(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=l,H(u,"constructor",l),H(l,"constructor",c),c.displayName="GeneratorFunction",H(l,o,"GeneratorFunction"),H(u),H(u,o,"Generator"),H(u,r,(function(){return this})),H(u,"toString",(function(){return"[object Generator]"})),(D=function(){return{w:a,m:f}})()}function H(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}H=function(e,t,n,r){function a(t,n){H(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},H(e,t,n,r)}function P(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){P(a,r,o,s,i,"next",e)}function i(e){P(a,r,o,s,i,"throw",e)}s(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var R,W,z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},F="ledger-hw-select-addresses",B=(0,a.YK)({title:{id:"qR8aRp",defaultMessage:[{type:0,value:"Select addresses"}]},walletsTitle:{id:"xBrtnx",defaultMessage:[{type:0,value:"Addresses"}]},walletsLabel:{id:"Qp1beM",defaultMessage:[{type:0,value:"Path"}]},walletsTooltip:{id:"OqYrld",defaultMessage:[{type:0,value:"If you don't see the addresses you expect, try switching the \u201cderivation\u201d path"}]},noAddressSelectedCTA:{id:"qR8aRp",defaultMessage:[{type:0,value:"Select addresses"}]},singleAddressCTA:{id:"nDJiIx",defaultMessage:[{type:0,value:"Add 1 address"}]},multiAddressCTA:{id:"gOk21B",defaultMessage:[{type:0,value:"Add "},{type:1,value:"numberOfAddresses"},{type:0,value:" addresses"}]},addressLimitReachedToast:{id:"ZI1ANA",defaultMessage:[{type:0,value:"The current limit is "},{type:1,value:"addressLimit"},{type:0,value:" addresses"}]}});function Z(e){var t=e.onContinue,n=e.onGetAddressError,r=e.removeStepperIndicator,a=e.customStepper,T=e.context,H=(0,s.A)().formatMessage,P=(0,d.m)(),E=N((0,o.useState)(C.Nr.name),2),R=E[0],W=E[1],z=N((0,o.useState)(!1),2),Z=z[0],_=z[1],U=(0,p.useSetRecoilState)(f.an),q=(0,u.F)(),Y=(0,l.f)(),V=(0,g.d)(),$=(0,o.useRef)(null),K=(0,o.useRef)(null),J=(0,o.useRef)(null),Q=(0,o.useMemo)((function(){return new i.eu}),[]),X=(0,o.useCallback)(G(D().m((function e(){return D().w((function(e){for(;;)switch(e.n){case 0:return V.hide(),_(!0),e.n=1,Q.waitForUnlock();case 1:Q.acquire(),t(q);case 2:return e.a(2)}}),e)}))),[V,Q,t,q]),ee=(0,o.useCallback)((function(e){var t,n;null===(t=$.current)||void 0===t||null===(n=t.scrollTo)||void 0===n||n.call(t,0,0),W(e)}),[W]),te=(0,o.useCallback)((function(){var e,t,n,r,o=null!==(e=null===(t=K.current)||void 0===t?void 0:t.getBoundingClientRect().y)&&void 0!==e?e:0,a={bottomOffset:(null!==(n=null===(r=J.current)||void 0===r?void 0:r.getBoundingClientRect().height)&&void 0!==n?n:0)+o,hideCloseButton:!0},s=H(B.addressLimitReachedToast,{addressLimit:P});(0,c.gr)({context:T}),V.clearQueue(),setTimeout((function(){return V.show(s,a)}),0)}),[T,H,V,P]),ne=(0,o.useCallback)((function(){te()}),[te]),re=(0,o.useCallback)((function(e){U((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return n[e.address]?delete n[e.address]:n[e.address]=e,n}))}),[U]),oe=(0,o.useMemo)((function(){return H(B.walletsTooltip)}),[H]),ae=(0,o.useMemo)((function(){return Z?(0,I.jsx)(j.y,{size:2,color:"fgPrimary"}):0===q?H(B.noAddressSelectedCTA):1===q?H(B.singleAddressCTA):H(B.multiAddressCTA,{numberOfAddresses:q})}),[H,Z,q]);return(0,I.jsx)(h.T,{ref:K,children:(0,I.jsxs)(O.E,{flexDirection:"column",justifyContent:"space-between",position:"relative",width:"100%",testID:"ledger-select-account-screen",removeStepperIndicator:r,customStepper:a,children:[(0,I.jsx)(h.T,{paddingBottom:2,children:(0,I.jsx)(w.f,{as:"h3",children:H(B.title)})}),(0,I.jsx)(h.T,{paddingBottom:2,children:(0,I.jsx)(m.l,{value:R,testID:"".concat(R,"-hd-path-dropdown"),label:H(B.walletsLabel),placeholder:"Path",onChange:ee,compact:!0,children:C.z6.map((function(e){return(0,I.jsx)(y.O,{testID:"".concat(e.name,"-hd-path-select-option"),value:e.name,title:e.name,description:e.prefix},e.name)}))})}),(0,I.jsx)(h.T,{paddingBottom:2,position:"relative",width:"100%",children:(0,I.jsxs)(x.z,{alignItems:"center",children:[(0,I.jsx)(M.K,{as:"p",color:Y?"fg":"fgMuted",children:H(B.walletsTitle)}),(0,I.jsx)(A.m,{gap:0,content:oe,placement:"right",children:(0,I.jsx)(v.In,{testID:"select-account-tooltip-icon",name:"info",size:"xs",color:"fgMuted",paddingStart:1})})]})}),(0,I.jsx)(h.T,{ref:$,paddingBottom:2,overflow:"scroll",children:(0,I.jsx)(S.l,{onGetAddressError:n,selectedHdPath:R,lock:Q,onDisabledCheckboxPress:ne,onSelected:re})},"hw-wallet-select-address-table"),(0,I.jsx)(h.T,{paddingTop:2,children:(0,I.jsx)(b.$n,{ref:J,testID:"".concat(F,"-continue"),block:!0,onClick:X,disabled:0===q,children:ae})})]})})}z(Z,"useIntl{{ formatMessage }}\nuseMaxWalletGroupsPerUserFacingAccount{maxWalletGroupsPerUserFacingAccount}\nuseState{[selectedHdPath, setSelectedHdPath](LEDGER_LIVE_ETH.name)}\nuseState{[isHandlingContinue, setIsHandlingContinue](false)}\nuseSetRecoilState{setSelectedAddressesByAddress}\nuseNumberOfSelectedAddresses{numberOfSelectedAddresses}\nuseMiamiIllustrationsEnabled{isMiamiIllustrationsEnabled}\nuseToast{toast}\nuseRef{scrollContainerRef}\nuseRef{containerRef}\nuseRef{ctaButtonRef}\nuseMemo{lock}\nuseCallback{handleContinue}\nuseCallback{handleOnPathChange}\nuseCallback{handleShowMaxAddressesReachedToast}\nuseCallback{onDisabledCheckboxPress}\nuseCallback{handleOnSelected}\nuseMemo{tooltipContent}\nuseMemo{ctaContent}",(function(){return[s.A,d.m,p.useSetRecoilState,u.F,l.f,g.d]})),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(F,"testIDPrefix","/workspaces/apps/extension/src/components/HardwareWallet/SelectAddresses/SelectAddresses.tsx"),R.register(B,"messages","/workspaces/apps/extension/src/components/HardwareWallet/SelectAddresses/SelectAddresses.tsx"),R.register(Z,"SelectAddresses","/workspaces/apps/extension/src/components/HardwareWallet/SelectAddresses/SelectAddresses.tsx")),(W="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&W(e)},85419:(e,t,n)=>{n.d(t,{D:()=>y,E:()=>v});var r=n(14041),o=n(32183),a=n(15654),s=n(32949),i=n(60149),c=n(31085);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}e=n.hmd(e);var d,u=["textContent","spinnerColor","spinnerSize"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,m,y=(0,o.YK)({importingAddresses:{id:"0k70cR",defaultMessage:[{type:0,value:"Importing addresses"}]}}),v=(0,r.memo)((function(e){var t=e.textContent,n=e.spinnerColor,r=void 0===n?"fg":n,o=e.spinnerSize,l=void 0===o?4:o,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u),f=t?(0,c.jsx)(i.f,{as:"h4",paddingTop:2,testID:"text-content",children:t}):null;return(0,c.jsxs)(a.T,p(p({},d),{},{alignItems:"center",justifyContent:"center",height:"100%",children:[(0,c.jsx)(s.y,{color:r,size:l,testID:"spinner"}),f]}))}));(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(y,"messages","/workspaces/apps/extension/src/components/HardwareWallet/StepperFullScreenSpinner/StepperFullScreenSpinner.tsx"),b.register(v,"StepperFullScreenSpinner","/workspaces/apps/extension/src/components/HardwareWallet/StepperFullScreenSpinner/StepperFullScreenSpinner.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},14012:(e,t,n)=>{n.d(t,{h:()=>f});var r,o=n(32183),a=n(8867),s=n(41513),i=n(27183),c=n(39262),l=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},u=(0,o.YK)({HWWalletLogo:{id:"LspCIw",defaultMessage:[{type:0,value:"Hardware Wallet logo"}]},connectedStatusMessage:{id:"y8Pj9x",defaultMessage:[{type:0,value:"Connected"}]}});function f(e){var t=e.authed,n=e.logoSrc,r=e.logoAltText,o=e.onError,d=(0,a.A)().formatMessage;return(0,l.jsxs)("div",{className:b,children:[(0,l.jsx)("div",{className:(0,s.cx)(m,t&&v),"data-testid":"leftLogoAnimating",children:(0,l.jsx)("img",{src:i,alt:d(u.HWWalletLogo)})}),(0,l.jsx)("div",{className:(0,s.cx)(y,t&&h),"data-testid":"rightLogoAnimating",children:(0,l.jsx)("img",{src:n,alt:r,onError:o})}),(0,l.jsx)("div",{className:(0,s.cx)(x,t&&j),"data-testid":"checkmarkCircleAnimating",children:(0,l.jsx)("svg",{className:(0,s.cx)(M,t&&S),viewBox:"0 0 52 52",children:(0,l.jsx)("path",{className:(0,s.cx)(O),fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})})}),(0,l.jsx)("div",{className:(0,s.cx)(A,t&&w),children:(0,l.jsx)(c.w,{as:"span",children:d(u.connectedStatusMessage)})})]})}d(f,"useIntl{{\n    formatMessage\n  }}",(function(){return[a.A]}));var p,g,b="h154r6ok",m="l1fnrvsf",y="r3qznu0",v="l1397gfq",h="r1wisqn7",x="c116rrvj",j="cacjlt9",A="c16m7iou",w="c6fpzap",M="csl79vs",S="cf5aljr",O="c1nfyc1r";n(87486),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(u,"messages","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(f,"ConnectionAnimation","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(b,"header","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(m,"leftLogo","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(y,"rightLogo","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(v,"leftLogoAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(h,"rightLogoAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(x,"checkmarkCircle","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(j,"checkmarkCircleAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(A,"connectedText","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(w,"connectedTextAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(M,"checkmark","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(S,"checkAnimating","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx"),p.register(O,"check","/workspaces/libs/wallet-cds-extension/components/ConnectionAnimation.tsx")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},87486:(e,t,n)=>{n.r(t)},72062:(e,t,n)=>{n.d(t,{sm:()=>b,Qs:()=>g});var r=n(14630),o=n(3521),a=n(95007),s=n(68196),i=n(58152),c=n(37089),l=n(63302),d=n(1048).Buffer;async function u(e,t,n,r){const o=d.from(`${e}\n\nAddress: ${n}\nNonce: ${t}\nHost: ${c.a}`).toString("hex"),{signature:a}=await(0,l.lT)({address:n,message:o,derivationPath:r});return a}async function f(e){const t=await(0,a.mE)(),n=await async function(e){const{header:t,addresses:n,hidDevice:r,nonce:o,onRequestSent:s,onRequestApproved:i,onRequestRejected:c}=e,l=[],d=n.length;let f=0,p=0;for(const e of n){f++;const{address:n,derivationPath:g}=e,b=o||await(0,a.mE)();try{s({currentSignAddressAttempt:f,totalAddresses:d,totalSignedAddresses:p,hidDevice:r,ledgerAddress:e});const o={address:e,nonce:b,signature:await u(t,b,n,g)};p++,i({currentSignAddressAttempt:f,totalSignedAddresses:p,totalAddresses:d,hidDevice:r,ledgerAddress:e,ledgerSignature:o}),l.push(o)}catch(t){throw c({currentSignAddressAttempt:f,totalSignedAddresses:p,totalAddresses:d,hidDevice:r,ledgerAddress:e,error:t}),t}}return l}({nonce:t,...e});return{signatures:n,nonce:t}}async function p(e){const{onRequestSent:t,onRequestApproved:n,onRequestRejected:r,...o}=e;return f({...o,onRequestSent:e=>{(0,s.j)("sent",e.hidDevice,i.q.signMessage),t?.(e)},onRequestApproved:e=>{(0,s.j)("approved",e.hidDevice,i.q.signMessage),n?.(e)},onRequestRejected:e=>{(0,s.j)("rejected",e.hidDevice,i.q.signMessage),r?.(e)}})}async function g(e){const{onRequestSent:t,onRequestApproved:n,onRequestRejected:r,...a}=e;return p({...a,onRequestSent:e=>{(0,o.Bj)({currentSignAddressAttempt:e.currentSignAddressAttempt,totalAddresses:e.totalAddresses}),t?.(e)},onRequestApproved:e=>{(0,o.Wh)({currentSignAddressAttempt:e.currentSignAddressAttempt,totalAddresses:e.totalAddresses}),n?.(e)},onRequestRejected:e=>{(0,o.zO)({currentSignAddressAttempt:e.currentSignAddressAttempt,totalAddresses:e.totalAddresses}),r?.(e)}})}async function b(e){const{onRequestSent:t,onRequestApproved:n,onRequestRejected:o,...a}=e;return p({...a,onRequestSent:e=>{(0,r.WW)({currentSignAddressAttempt:e.currentSignAddressAttempt,totalAddresses:e.totalAddresses}),t?.(e)},onRequestApproved:e=>{(0,r.XP)({currentSignAddressAttempt:e.currentSignAddressAttempt,totalAddresses:e.totalAddresses}),n?.(e)},onRequestRejected:e=>{(0,r.c9)({currentSignAddressAttempt:e.currentSignAddressAttempt,totalAddresses:e.totalAddresses}),o?.(e)}})}},30505:(e,t,n)=>{n.d(t,{y:()=>c});var r=n(14630),o=n(88751),a=n(86768),s=n(70660),i=n(60156);async function c(e){try{const t=await(0,s.og)((e=>e.vendorId===i.zL));if(0===t.length)throw new o.o("TransportError",a.Ub,void 0);return(0,r.Z$)({context:e}),t[0]}catch(t){throw(0,r.Ep)({context:e}),t}}},68196:(e,t,n)=>{n.d(t,{j:()=>c,o:()=>i});var r=n(55452),o=n(21790),a=n(34767),s=n(8903);function i(){(0,r.$s)("onboarding.import_step.start_connect_device",{loggingId:"8a3ae0aa-f6c7-4191-b315-40c98164f363",action:a.X2.click,componentType:a.I5.button,onboardingSource:(0,o.U)()?"popup":"tab"})}function c(e,t,n){(0,r.$s)(`onboarding.import_step.hw_${n}_request_${e}`,{loggingId:"b31ad05f-c4c2-4b5e-9ae6-dd55780525f1",componentType:a.I5.button,action:a.X2.click,deviceModel:(0,s.S)(t.productName),vendorId:t.vendorId,requestEvent:n,requestAction:e})}},56328:(e,t,n)=>{n.d(t,{j:()=>i});var r=n(33396);const o=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","ledger-success","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],a=new URLSearchParams(window.location.search).get("step"),s=o.find((e=>e===a)),i=(0,r.KT)({steps:o,defaultStep:s??"loading"})},95974:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(33396),o=n(56328);function a(){return(0,r.lE)(o.j)}},8148:(e,t,n)=>{n.d(t,{Nr:()=>r,z6:()=>o});const r={name:"Ledger Live (ETH)",prefix:"m/44'/60'/0'/0/0",isHardened:!0,getIndex:e=>`m/44'/60'/${e}'/0/0`},o=[r,{name:"Default (ETH)",prefix:"m/44'/60'/0'/0",isHardened:!1},{name:"Ledger (ETH)",prefix:"m/44'/60'/0'",isHardened:!1},{name:"Testnet (ETH)",prefix:"m/44'/1'/0'/0",isHardened:!1}]},53770:(e,t,n)=>{n.d(t,{u:()=>u});var r=n(14041),o=n(70013),a=n(96295),s=n(13394),i=n(85536),c=n(62396),l=n(50259),d=n(41143);function u({context:e}){const t=function({context:e}){const t=(0,d.p)(),n=(0,i.R)();return(0,r.useCallback)((async function(r){(0,o.ZF)({accountType:l.CO.LEDGER,flow:e});try{const{address:s,derivationPath:i}=r,d=new c.g({type:l.CO.LEDGER,primaryAddress:s,primaryAddressChain:a.fz});return await t(d),(0,o.tL)({accountType:l.CO.LEDGER,flow:e}),await n([{accountId:d.id,walletIndex:0n,hardwareDerivationPath:i}]),(0,o.BR)({accountType:l.CO.LEDGER,flow:e}),(0,o.v5)({accountType:l.CO.LEDGER,flow:e}),d}catch(t){(0,o.Pg)({accountType:l.CO.LEDGER,flow:e});const n=(0,s.Gp)(t,"useCreateAccountForLedger");throw(0,s.gf)({error:n,context:"multi-account",severity:"error",isHandled:!1}),t}}),[e,t,n])}({context:e});return(0,r.useCallback)((async function(e){const n=[];for(const r of e)n.push(t(r));return Promise.all(n)}),[t])}},33142:(e,t,n)=>{n.d(t,{F:()=>a});var r=n(99633),o=n(44944);function a(){return(0,r.useRecoilValue)(o.dO)}},44944:(e,t,n)=>{n.d(t,{Wi:()=>c,Y0:()=>s,an:()=>l,dO:()=>u,g_:()=>p,lr:()=>i,x0:()=>d});var r=n(96351),o=n(98226),a=n(99633);const s=(0,a.atom)({key:"isHardwareWalletSigning",default:!1}),i=(0,a.atom)({key:"hasCreatedSessionWithLedger",default:!1}),c=(0,a.atom)({key:"hardwareWalletEthAddressMapAtom",default:new Map}),l=(0,a.atom)({key:"selectedAddressesByAddress",default:{}}),d=(0,a.selector)({key:"selectedAddresses",get:function({get:e}){const t=e(l);return Object.values(t)}}),u=(0,a.selector)({key:"numberOfSelectedAddressesSelector",get:({get:e})=>e(d).length}),f=new o.J("hasSeenLedgerAddAddressNUX"),p=(0,a.atom)({key:"hasSeenLedgerAddAddressNUX",default:!1,effects:[(0,r.D)(f)]})},19253:(e,t,n)=>{function r(e){return e||0===e?e.toString().replace(/[^#a-z0-9%()., _-]/gi,""):""}n.d(t,{p:()=>r})},97370:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNDAiIGN5PSI0MCIgcj0iNDAiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNNDUuODA4IDU2LjYwN1Y1OWgxNi4xOTFWNDguMjFINTkuNjR2OC4zOTdINDUuODA4Wm0wLTM1LjYwN3YyLjM5Mkg1OS42NHY4LjM5OEg2MlYyMUg0NS44MDdabS05LjIzNCAxMC43OWgtMi4zNTl2MTYuNDJoMTAuNjR2LTIuMTU4aC04LjI4VjMxLjc5Wk0xOCA0OC4yMVY1OWgxNi4xOTJ2LTIuMzkzSDIwLjM1OVY0OC4yMUgxOFpNMTggMjF2MTAuNzloMi4zNnYtOC4zOThoMTMuODMyVjIxSDE4WiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="},27183:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzQiIGhlaWdodD0iNzQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMzciIGN5PSIzNyIgcj0iMzUiIGZpbGw9IiMxQjUzRTQiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSI0Ii8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNy4yNDUgNjAuNjEyYy0xMi43NzIgMC0yMy4xMjUtMTAuMzUzLTIzLjEyNS0yMy4xMjUgMC0xMi43NzEgMTAuMzUzLTIzLjEyNSAyMy4xMjUtMjMuMTI1IDEyLjc3MSAwIDIzLjEyNSAxMC4zNTQgMjMuMTI1IDIzLjEyNSAwIDEyLjc3Mi0xMC4zNTQgMjMuMTI1LTIzLjEyNSAyMy4xMjVaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI5Ljc5NCAzMy4wMjFhMi45ODkgMi45ODkgMCAwIDEgMi45ODktMi45ODloOC45MjVhMi45ODkgMi45ODkgMCAwIDEgMi45ODkgMi45ODl2OC45MjVhMi45ODkgMi45ODkgMCAwIDEtMi45ODkgMi45ODloLTguOTI1YTIuOTg5IDIuOTg5IDAgMCAxLTIuOTktMi45ODl2LTguOTI1WiIgZmlsbD0iIzFCNTNFNCIvPjwvc3ZnPg=="}}]);
//# sourceMappingURL=6593.js.map