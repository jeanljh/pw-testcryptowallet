/*! For license information please see 5169.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="143bdd8b-e242-4c2e-9149-905a2e24fb94",e._sentryDebugIdIdentifier="sentry-dbid-143bdd8b-e242-4c2e-9149-905a2e24fb94")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[5169],{65169:(e,t,n)=>{n.r(t),n.d(t,{CollectionListingsAll:()=>O,CollectionListingsAllContent:()=>M});var r,o=n(14041),a=n(32183),i=n(8867),s=n(86090),l=n(2845),c=n(40498),u=n(99633),d=n(29070),f=n(22441),g=n(2673),p=n(15654),h=n(55799),y=n(84492),b=n(10297),m=n(98055),v=n(24476),x=n(71793),w=n(31085);function S(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return T(c,"_invoke",function(n,r,o){var a,s,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return a=t,s=0,l=e,f.n=n,i}};function g(n,r){for(s=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,a=u[t],g=f.p,p=a[2];n>3?(o=p===r)&&(l=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=g&&((o=n<2&&g<a[1])?(s=0,f.v=r,f.n=a[1]):g<p&&(o=n<3||a[0]>r||r>p)&&(a[4]=n,a[5]=r,f.n=p,s=0))}if(o||n>1)return i;throw d=!0,r}return function(o,u,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&g(u,p),s=u,l=p;(t=s<2?e:l)||!d;){a||(s?s<3?(s>1&&(f.n=-1),g(s,l)):f.n=l:f.v=l);try{if(c=2,a){if(s||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){a=e,s=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,a),!0),c}var i={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(T(t={},r,(function(){return this})),t),d=c.prototype=s.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,T(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,T(d,"constructor",c),T(c,"constructor",l),l.displayName="GeneratorFunction",T(c,o,"GeneratorFunction"),T(d),T(d,o,"Generator"),T(d,r,(function(){return this})),T(d,"toString",(function(){return"[object Generator]"})),(S=function(){return{w:a,m:f}})()}function T(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}T=function(e,t,n,r){function a(t,n){T(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},T(e,t,n,r)}function L(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function C(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,s,"next",e)}function s(e){L(a,r,o,i,s,"throw",e)}i(void 0)}))}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},I=(0,a.YK)({forSale:{id:"Pyw7dX",defaultMessage:[{type:0,value:"For sale"}]},eth:{id:"7n9L3r",defaultMessage:[{type:0,value:"ETH"}]},usd:{id:"4aj1yJ",defaultMessage:[{type:0,value:"USD"}]},pricesInETH:{id:"NN+7cK",defaultMessage:[{type:0,value:"Prices in ETH"}]},pricesInUSD:{id:"ig77v7",defaultMessage:[{type:0,value:"Prices in USD"}]},forSaleDisclaimerLineOne:{id:"lHtz5l",defaultMessage:[{type:0,value:"Items for sale on Coinbase NFT only."}]},forSaleDisclaimerLineTwo:{id:"Sh9cMG",defaultMessage:[{type:0,value:"More marketplaces coming soon."}]}});function M(){var e=(0,i.A)().formatMessage,t=(0,s.g)(),n=t.contractAddress,r=t.chainId,a=P((0,u.useRecoilState)(l.uV),2),v=a[0],T=a[1],L=(0,c.v)({contractAddress:n,chainId:r,limit:6}),A=L.listings,j=L.isFetchingNextPage,M=L.fetchNextPage,E=L.hasNextPage,N=(0,o.useCallback)(C(S().m((function e(){return S().w((function(e){for(;;)switch(e.n){case 0:!j&&E&&M();case 1:return e.a(2)}}),e)}))),[M,E,j]),O=(0,o.useMemo)((function(){var t={paddingX:.5,paddingY:0};return(0,w.jsx)(p.T,{padding:1,overflow:"hidden",children:[l.n2.ETH,l.n2.USD].map((function(n){var r=n===l.n2.ETH;return(0,w.jsx)(d.O,{value:n,title:e(r?I.eth:I.usd),outerSpacing:t,innerSpacing:t,borderRadius:200,media:(0,w.jsx)(g.In,{size:"xs",name:r?"ethereum":"cashUSD",color:"fg",paddingStart:2})},n)}))})}),[e]),k=(0,o.useCallback)((function(e){T(e)}),[T]),D=(0,o.useMemo)((function(){return(0,w.jsx)(h.a,{paddingStart:3,children:(0,w.jsx)(f.m,{disableCloseOnOptionChange:!1,onChange:k,onOpenMenu:void 0,content:O,children:(0,w.jsx)(b.t,{children:(0,w.jsxs)(y.z,{alignItems:"center",gap:1,paddingY:.5,paddingX:2,borderRadius:1e3,background:"bgSecondary",alignSelf:"flex-start",children:[(0,w.jsx)(g.In,{size:"xs",name:v===l.n2.ETH?"ethereum":"cashUSD",color:"fg"}),(0,w.jsx)(m.v,{as:"p",testID:"collection-listings-all-currency-switcher",children:e(v===l.n2.ETH?I.pricesInETH:I.pricesInUSD)})]})})})})}),[O,e,k,v]);return(0,w.jsx)(x.W,{testID:"collection-listings-all",navTitle:e(I.forSale),subNavElement:D,disclaimerTextLineOne:e(I.forSaleDisclaimerLineOne),disclaimerTextLineTwo:e(I.forSaleDisclaimerLineTwo),data:A,onEndReached:N,chainId:r})}j(M,"useIntl{{ formatMessage }}\nuseParams{{ contractAddress, chainId }}\nuseRecoilState{[priceCurrency, setPriceCurrency]}\nuseGetCollectionListings{{ listings, isFetchingNextPage, fetchNextPage, hasNextPage }}\nuseCallback{handleOnEndReached}\nuseMemo{dropdownContent}\nuseCallback{onChange}\nuseMemo{subNavElement}",(function(){return[i.A,s.g,u.useRecoilState,c.v]}));var E,N,O=(0,o.memo)(j((function(){var e=(0,i.A)().formatMessage;return(0,w.jsx)(o.Suspense,{fallback:(0,w.jsx)(v.G,{navTitle:e(I.forSale)}),children:(0,w.jsx)(M,{})})}),"useIntl{{ formatMessage }}",(function(){return[i.A]})));(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(E.register(I,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionListingsAll/CollectionListingsAll.tsx"),E.register(M,"CollectionListingsAllContent","/workspaces/apps/extension/src/screens/Explore/components/CollectionListingsAll/CollectionListingsAll.tsx"),E.register(O,"CollectionListingsAll","/workspaces/apps/extension/src/screens/Explore/components/CollectionListingsAll/CollectionListingsAll.tsx")),(N="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&N(e)},66018:(e,t,n)=>{n.d(t,{T:()=>u});var r=n(14041),o=n(24300),a=n(5264),i=n(66181),s=n(14928),l=n(54616),c=n(71676);function u({contractAddress:e,chainId:t,page:n="",limit:u=18}){const d=function(){const e=(0,i.l)((0,s.T)("kill_switch_aggregate_listings")),t=(0,c.Q)(),n=(0,r.useMemo)((()=>(0,l.t1)()),[]);return"ios"===n||"android"===n?!e:!e&&t}(),f=(0,r.useMemo)((()=>d?"ALL":"CBNFT"),[d]);return(0,o.q)([a.Wc,u,e],(async({pageParam:r=n})=>(0,a.se)(t,e,r||"",`${u}`,f)),{keepPreviousData:!0,getNextPageParam:e=>!!e.nextPage&&e.nextPage})}},40498:(e,t,n)=>{n.d(t,{v:()=>i});var r=n(14041),o=n(66018),a=n(63456);function i({contractAddress:e,chainId:t,page:n="",limit:i}){const{data:s,isLoading:l,isFetching:c,isFetchingNextPage:u,fetchNextPage:d,hasNextPage:f}=(0,o.T)({contractAddress:e,chainId:t,page:n,limit:i}),g=(0,r.useMemo)((()=>(s?.pages??[]).flatMap((e=>e.listings??[])).map((e=>new a.R(e)))),[s?.pages]);return(0,r.useMemo)((()=>({listings:g,isLoading:l,isFetching:c,isFetchingNextPage:u,fetchNextPage:d,hasNextPage:f})),[l,u,d,g,c,f])}}}]);
//# sourceMappingURL=5169.js.map