try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="10d60d1d-59d1-4a62-afb5-872c32cea55e",e._sentryDebugIdIdentifier="sentry-dbid-10d60d1d-59d1-4a62-afb5-872c32cea55e")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[2344],{54261:(e,t,s)=>{s.d(t,{Fu:()=>S,Io:()=>_,OM:()=>l,Q$:()=>f});s(31208);var r=s(58524),n=s(74146),a=s(78370);const o=`${r.V2}/v3/coinbase.asset_metadata_service.v2.public.AssetMetadataPublicService`,i=`${r.V2}/api/v3/coinbase.asset_stats_service.AssetStatsService`,c="getQuote",u="assets/getAssetsDetails",d="quote/getQuote";async function l(e){const t={q:e};try{return await(0,n.hm)(`${o}/GetAssetV2`,t,{isThirdParty:!0})}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}async function _(e){const t={q:e};try{return await(0,n.hm)(`${i}/ListAssetStats`,t,{isThirdParty:!0})}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}async function f(e){try{return await(0,n.TB)(u,e)}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}async function S({params:e,isQuoteV3Enabled:t}){let s;try{return s=t?await(0,n.TB)(c,e,{apiVersion:3}):await(0,n.TB)(d,e),s}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}},52344:(e,t,s)=>{s.d(t,{Q:()=>g});var r,n,a,o,i=s(71847),c=s(11554),u=s(14041),d=s(32550),l=s(13394),_=s(98053),f=s(84632),S=s(54261);!function(e){e.Usd="USD"}(r||(r={})),function(e){e.SORT_FIELD_UNSPECIFIED="SORT_FIELD_UNSPECIFIED",e.SORT_FIELD_MARKET_CAP="SORT_FIELD_MARKET_CAP",e.SORT_FIELD_ASSET_NAME="SORT_FIELD_ASSET_NAME",e.SORT_FIELD_PERCENT_CHANGE="SORT_FIELD_PERCENT_CHANGE",e.SORT_FIELD_RANK="SORT_FIELD_RANK",e.SORT_FIELD_PRICE="SORT_FIELD_PRICE",e.SORT_FIELD_VOLUME="SORT_FIELD_VOLUME"}(n||(n={})),function(e){e.SORT_ORDER_UNSPECIFIED="SORT_ORDER_UNSPECIFIED",e.SORT_ORDER_ASCENDING="SORT_ORDER_ASCENDING",e.SORT_ORDER_DESCENDING="SORT_ORDER_DESCENDING"}(a||(a={})),function(e){e.RESOLUTION_UNSPECIFIED="RESOLUTION_UNSPECIFIED",e.RESOLUTION_HOUR="RESOLUTION_HOUR",e.RESOLUTION_DAY="RESOLUTION_DAY",e.RESOLUTION_WEEK="RESOLUTION_WEEK",e.RESOLUTION_MONTH="RESOLUTION_MONTH",e.RESOLUTION_YEAR="RESOLUTION_YEAR",e.RESOLUTION_ALL="RESOLUTION_ALL"}(o||(o={}));var E=s(31208),y=s(3514),b=s.n(y),m=s(1048).Buffer;const I="coinbase_asset_v3",h=6e5;var p=s(62953),O=s(9492);const R="coinbase_asset_static",T="coinbase_asset_dynamic";function g({network:e,blockchain:t,contractAddress:s,assetSymbol:r,uuid:y,suspense:g=!1}){const N=(0,i.x)("asset_metadata_v4_migration"),A=e?.asChain()?.chainId,w=e?.asChain()?.isCustomNetwork?void 0:(0,c.S)({network:e,blockchain:t}),k=Boolean(w&&s||w&&r||A&&s||A&&r)&&N,{asset:D,isFetched:C}=function({assetSymbol:e,uuid:t,shouldUseV4:s=!1,suspense:r=!1}){const{code:i}=(0,f.n)(),c=(0,u.useMemo)((()=>{const s={currency:i.rawValue,resolution:o.RESOLUTION_DAY,sort_order:a.SORT_ORDER_ASCENDING,sort_field:n.SORT_FIELD_RANK};return t?(s.uuids=[t],s.filters={include_dex:!0}):s.query=e,m.from(JSON.stringify(s),"utf-8").toString("base64")}),[e,i.rawValue,t]),y=(0,u.useMemo)((()=>t?m.from(JSON.stringify({uuid:t}),"utf-8").toString("base64"):m.from(JSON.stringify({symbol:e}),"utf-8").toString("base64")),[e,t]),p=(0,u.useMemo)((()=>[I,c]),[c]),O=(0,u.useMemo)((()=>[I,y]),[y]),R=(0,d.jE)(),T={enabled:!s,staleTime:h,suspense:r},g=(0,u.useCallback)((function(s){return t?s.assetUuid===t:s.assetSymbol.toUpperCase()===e.toUpperCase()}),[e,t]),N=(0,u.useCallback)((e=>{try{if(!e)return;const t=(e?.assetStats??[]).find(g);if(t){const e=t.price,s=t.marketCap;return{latest:e,market_cap:s,volume_24h:t.volume24h,listed:t.categories?.includes("listed")??!1}}}catch(e){return(0,l.gf)(e),R.removeQueries(p),{latest:"",market_cap:"",volume_24h:"",listed:!1}}}),[g,R,p]),A=(0,u.useCallback)((e=>{try{if(!e)return;const t=e.asset,s=t.uuid,r=t.symbol,n=t.primaryColor,a=t.name,o=t.description,i=t.iconUrl,c=[];return t?.whitePaper&&c.push({title:"",link:t.whitePaper,type:"white_paper",icon_url:""}),t?.officialWebsite&&c.push({title:"",link:t.officialWebsite,type:"website",icon_url:""}),{id:s,symbol:r,color:n,name:a,description:o,image_url:i,resource_urls:c}}catch(e){return(0,l.gf)(e),R.removeQueries(O),{id:"",symbol:"",color:"",name:"",description:"",image_url:"",resource_urls:[]}}}),[R,O]),w=(0,u.useCallback)((function(s){(0,E.mA)(e,t,s);const r=(0,l.Gp)(s,"useAsset"),n={assetSymbol:e,uuid:t??""};(0,l.gf)({error:r,...n,context:"asset_http_error",severity:"error",isHandled:!1})}),[e,t]),k=(0,u.useCallback)((function(s){(0,E.o_)(e,t,s);const r=(0,l.Gp)(s,"useAsset"),n={assetSymbol:e,uuid:t??""};(0,l.gf)({error:r,...n,context:"asset_http_error",severity:"error",isHandled:!1})}),[e,t]),D={queryKey:p,queryFn:async()=>(0,S.Io)(c),select:N,onError:w,...T},C={queryKey:O,queryFn:async()=>(0,S.OM)(y),select:A,onError:k,...T},{data:v,isFetched:U}=(0,_.I)(D),{data:L,isFetched:F}=(0,_.I)(C);return{asset:!U||!F||b()(v)&&b()(L)?void 0:{...v,...L},isFetched:U&&F}}({assetSymbol:r,uuid:y,shouldUseV4:k,suspense:g}),{asset:v,isFetched:U}=function({networkId:e,contractAddress:t,assetSymbol:s,chainId:r,shouldUseV4:n,suspense:a=!1}){const o=(0,d.jE)(),c=!t,f=(0,u.useMemo)((()=>({networkId:e,contractAddresses:t?[t]:[],nativeAssetSymbols:c?[s]:[],chainId:r?r.toString():void 0})),[e,t,c,s,r]),E=(0,u.useMemo)((()=>[R,(0,O.t)(JSON.stringify(f))]),[f]),y=(0,u.useCallback)((e=>{try{if(!e)return;return function(e){const t=e.result?.assets?.[0];if(t){const{coinbaseUuid:e,symbol:s,name:r,color:n,description:a,imageUrl:o,coinbaseListed:i}=t,c=[];return t?.whitePaperUrl&&c.push({title:"",link:t.whitePaperUrl,type:"white_paper",icon_url:""}),t?.websiteUrl&&c.push({title:"",link:t.websiteUrl,type:"website",icon_url:""}),{id:e,symbol:s,color:n,name:r,description:a,image_url:o,resource_urls:c,listed:i}}}(e)}catch(e){return(0,l.gf)(e),o.removeQueries(E),{id:"",symbol:"",color:"",name:"",description:"",image_url:"",resource_urls:[],listed:!1}}}),[o,E]),m=(0,u.useCallback)((function(n){(0,p.dE)({assetSymbol:s,contractAddress:t,networkId:e,chainId:r,err:n});const a=(0,l.Gp)(n,"useAssetV4"),o={networkId:e,contractAddress:t,assetSymbol:s,chainId:r};(0,l.gf)({error:a,...o,context:"asset_http_error",severity:"error",isHandled:!1})}),[s,r,t,e]),I=(0,u.useCallback)((function(){(0,p.jr)({assetSymbol:s,contractAddress:t,networkId:e,chainId:r})}),[s,r,t,e]),h=(0,u.useMemo)((()=>({networkId:e,contractAddresses:t?[t]:[],nativeAssetSymbols:c?[s]:[],chainId:r?r.toString():void 0})),[e,t,c,s,r]),g=(0,u.useMemo)((()=>[T,(0,O.t)(JSON.stringify(h))]),[h]),N=(0,u.useCallback)((e=>{try{if(!e)return;return function(e){const t=e.results?.[0];if(t)return{latest:t.price?t.price.toString():"",market_cap:t.marketCap?t.marketCap.toString():"",volume_24h:t.volume24h?t.volume24h.toString():""}}(e)}catch(e){return(0,l.gf)(e),o.removeQueries(g),{latest:"",market_cap:"",volume_24h:""}}}),[o,g]),A=(0,u.useCallback)((function(n){(0,p.Ol)({assetSymbol:s,contractAddress:t,networkId:e,chainId:r,err:n});const a=(0,l.Gp)(n,"useAssetV4"),o={networkId:e,contractAddress:t,assetSymbol:s,chainId:r};(0,l.gf)({error:a,...o,context:"asset_http_error",severity:"error",isHandled:!1})}),[s,r,t,e]),w=(0,u.useCallback)((function(){(0,p.a0)({assetSymbol:s,contractAddress:t,networkId:e,chainId:r})}),[s,r,t,e]),k={queryKey:E,queryFn:async()=>(0,S.Q$)(f),select:y,onError:m,onSuccess:I,enabled:n,staleTime:18e5,suspense:a},D=(0,i.x)("quotes_v3"),C={queryKey:g,queryFn:async()=>(0,S.Fu)({params:h,isQuoteV3Enabled:D}),select:N,onError:A,onSuccess:w,enabled:n,staleTime:6e5,suspense:a},{data:v,isFetched:U}=(0,_.I)(k),{data:L,isFetched:F}=(0,_.I)(C);return{asset:!U||!F||b()(L)&&b()(v)?void 0:{...L,...v},isFetched:F&&U}}({networkId:w,contractAddress:s,assetSymbol:r,chainId:A,shouldUseV4:k,suspense:g});return{asset:k?v:D,isFetched:k?U:C}}},31208:(e,t,s)=>{s.d(t,{o_:()=>o,mA:()=>a,dC:()=>i});var r,n=s(55452);function a(e,t,s){(0,n.Np)("price_chart.asset_stats_v3.load_failed",{loggingId:"2f4f42b8-c663-4e20-9192-5e1590a4be7a",tokenSymbol:e,uuid:t,error:String(s)})}function o(e,t,s){(0,n.Np)("price_chart.asset_metadata_v3.load_failed",{loggingId:"9f213d12-3dff-4b34-8404-1ea214674b88",tokenSymbol:e,uuid:t,error:String(s)})}function i(e,t){(0,n.N8)({metricName:"price_chart.prices.load_failed",metricType:r.count,value:1,tags:{baseAssetSymbol:e,currencyCode:t}})}!function(e){e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram"}(r||(r={}))}}]);
//# sourceMappingURL=2344.js.map