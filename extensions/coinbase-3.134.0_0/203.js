try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="996bafdf-8f05-4cbb-8a24-4112d9c8584a",e._sentryDebugIdIdentifier="sentry-dbid-996bafdf-8f05-4cbb-8a24-4112d9c8584a")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.134.0-bffc4d"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[203],{90203:(e,t,a)=>{a.r(t),a.d(t,{WatchlistDiscovery:()=>M});var n=a(14041),s=a(32183),o=a(8867),i=a(86090),r=a(82733),c=a(92743),d=a(98053),l=a(31099),u=a(74146);const h="explore/tokens/marketCap";function m(){const e=(0,l.G)(),{data:t,isLoading:a,refetch:s}=(0,d.I)([h],(async()=>async function(e){const t={multichainEnabled:e?"1":"0"},{result:a}=await(0,u.hm)(h,t);return a.data}(e)));return(0,n.useMemo)((()=>({data:t,isLoading:a,refetch:s})),[t,a,s])}var f,p=a(32451),y=a(10058),b=a(4681),v=a(15654),g=a(44659),w=a(97541),k=a(86700),W=a(91971),A=a(581),I=a(31085);e=a.hmd(e),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var C,x,E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},L=(0,s.YK)({title:{id:"R5lQBf",defaultMessage:[{type:0,value:"Create a watchlist"}]},description:{id:"6fWljh",defaultMessage:[{type:0,value:"Add items to your watchlist and get alerted about important price movements"}]}}),M=(0,n.memo)(E((function(){var e,t=(0,o.A)().formatMessage,a=(0,i.W6)().goBack,s=m(),d=s.data,l=s.isLoading,u=null===(e=(0,c.t)().get("ETH"))||void 0===e?void 0:e.primaryAddress;(0,k.c)(p.fO.watchlist,p.j$.navigate_to_watchlist_discovery,{type:"end"});var h=(0,r.bj)(),f=(0,n.useCallback)((function(){h(),a()}),[h,a]);if(!u)throw new Error("WatchlistDiscovery: missing active ETH wallet");var C=(0,n.useMemo)((function(){return l?(0,I.jsx)(A.g,{description:t(L.description),title:t(L.title),isDiscovery:!0}):(0,I.jsxs)(v.T,{paddingX:3,gap:1,testID:"watchlist-discovery-list",paddingBottom:2,children:[(0,I.jsxs)(v.T,{paddingBottom:2,gap:1,children:[(0,I.jsx)(g.f,{overflow:"wrap",as:"h1",children:t(L.title)}),(0,I.jsx)(w.K,{as:"p",color:"fgMuted",children:t(L.description)})]}),null==d?void 0:d.map((function(e,t){return(0,I.jsx)(W._,{address:u,index:t,item:e})}))]})}),[d,t,l,u]);return(0,I.jsx)(b.ff,{height:"100%",header:(0,I.jsx)(y.jq,{variant:"secondary",handleBack:f,hasPageTitle:!0,isSticky:!0}),children:C})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseTopCoins{{ data, isLoading }}\nusePrimaryReceiveWallets{}\nusePerfMarkOnMount{}\nuseWatchlistDiscoveryButtonEvent{backEvent}\nuseCallback{handleGoBack}\nuseMemo{content}",(function(){return[o.A,i.W6,m,c.t,k.c,r.bj]})));(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(L,"messages","/workspaces/apps/extension/src/screens/Watchlist/WatchlistDiscovery.tsx"),C.register(M,"WatchlistDiscovery","/workspaces/apps/extension/src/screens/Watchlist/WatchlistDiscovery.tsx")),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&x(e)},91971:(e,t,a)=>{a.d(t,{_:()=>j});var n,s=a(14041),o=a(86090),i=a(82733),r=a(13394),c=a(93152),d=a(87432),l=a(76583),u=a(80587),h=a(70918),m=a(46166),f=a(48254),p=a(57256),y=a(27224),b=a(78392),v=a(91965),g=a(1974),w=a(84492),k=a(15654),W=a(28118),A=a(39262),I=a(94330),C=a(97541),x=a(32010),E=a(31085);e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var L,M,G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=(0,s.memo)(G((function(e){var t,a=e.address,n=e.index,L=e.item,M=(0,o.W6)(),G=(0,f.W)({networkId:L.networkId,chainId:L.chainId,contractAddress:L.address,symbol:L.currencyCode,uuid:L.uuid,walletAddress:a}),j=G.isWatchable,D=G.isWatching,H=G.optimisticUpdate,_=G.resetUpdate,T=(0,u.s)({address:L.address,networkId:L.networkId,blockchain:L.blockchain,chainId:L.chainId,decimals:L.decimals,name:L.name,symbol:L.currencyCode,uuid:L.uuid}),P=(0,s.useMemo)((function(){return{chainName:L.blockchain,entityName:L.name,entityType:i.je.ASSET,rankIndex:n}}),[n,L.blockchain,L.name]),S=(0,i.bW)(P),U=(0,i.UV)(P);(0,d.y)(U);var R=(0,i.D3)({entityName:L.name,chainName:L.blockchain}),N=(0,h.h)(),B=(0,l.q)(N)(T.id),Q=(0,c.m8)(L.currencyCode,L.uuid,!0),F=Q.formattedPercent,q=Q.percentColor,O=Q.percentArrow,K=(0,s.useCallback)((function(){var e;S(),M.push("/portfolio/crypto/".concat(encodeURIComponent(null!==(e=null==B?void 0:B.id)&&void 0!==e?e:T.id),"/").concat(x.tR.Explore))}),[null==B?void 0:B.id,S,M,T.id]),X=(0,y.X)(T),Y=(0,s.useMemo)((function(){return{currencyCode:T.symbol,iconUrl:T.imageUrl,showIconTooltipOverride:!1}}),[T.imageUrl,T.symbol]),$=(0,s.useCallback)((function(e){_(),(0,r.gf)({context:"component_error",error:new Error("WatchlistDiscoveryCell: ".concat(e)),severity:"error",isHandled:!1,isUserVisible:!0})}),[_]),V=(0,s.useCallback)((function(e){var t=e.isWatchingUpdate;R({componentName:t?"add":"remove"})}),[R]),J=(0,m.$)({blockchain:L.blockchain,networkId:L.networkId,chainId:L.chainId,contractAddress:L.address,handleError:$,handleSuccess:V,symbol:L.currencyCode,type:"OBJECT_TYPE_ASSET",uuid:L.uuid,walletAddress:a}),z=J.addToWatchlist,Z=J.isAdding,ee=(0,p.R)({networkId:L.networkId,chainId:L.chainId,contractAddress:L.address,handleError:$,handleSuccess:V,symbol:L.currencyCode,type:"OBJECT_TYPE_ASSET",walletAddress:a}),te=ee.removeFromWatchlist,ae=ee.isRemoving,ne=(0,s.useCallback)((function(e){e.stopPropagation(),H(),D?te():z()}),[z,D,H,te]),se=(0,i._t)({chainName:L.blockchain,contractAddress:null!==(t=L.address)&&void 0!==t?t:"",entityName:L.name,componentName:"watchlist_discovery"});return(0,s.useEffect)((function(){j||se()}),[se,j]),j?(0,E.jsx)(W.o,{borderRadius:400,background:"bgAlternate",onClick:K,children:(0,E.jsx)(g.l,{media:(0,E.jsx)(b.E,{asset:Y,width:32,height:32}),title:(0,E.jsx)(A.w,{as:"h1",noWrap:!0,overflow:"truncate",children:L.name}),description:(0,E.jsx)(I.C,{as:"p",color:"fgMuted",children:L.currencyCode}),detail:(0,E.jsxs)(w.z,{justifyContent:"flex-end",gap:1,children:[(0,E.jsxs)(k.T,{children:[(0,E.jsx)(I.C,{as:"p",textAlign:"end",children:X}),(0,E.jsx)(C.K,{as:"p",color:q,textAlign:"end",children:"".concat(O," ").concat(F)})]}),(0,E.jsx)(v.K,{name:D?"starActive":"starInactive",onClick:ne,disabled:Z||ae,variant:D?"primary":"secondary",testID:"watchlist-discovery-toggle",transparent:!0,compact:!0})]}),testID:"watchlist-discovery-cell",compact:!0})}):null}),"useHistory{history}\nuseAssetWatchlistState{{ isWatchable, isWatching, optimisticUpdate, resetUpdate }}\nuseWatchlistItem{watchedAsset}\nuseMemo{eventData}\nuseClickWatchlistDiscoveryCardEvent{cellClickEvent}\nuseViewWatchlistDiscoveryCardEvent{viewEvent}\nuseOnMount{}\nuseWatchlistButtonEvent{watchEvent}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGetExploreAssetWallet{getExploreAssetWallet}\nuseGetPriceDetail{{ formattedPercent, percentColor, percentArrow }}\nuseCallback{handleNavigation}\nuseWatchedAssetPrice{formattedAmount}\nuseMemo{assetLike}\nuseCallback{handleError}\nuseCallback{handleSuccess}\nuseAddToWatchlist{{ addToWatchlist, isAdding }}\nuseRemoveFromWatchlist{{ removeFromWatchlist, isRemoving }}\nuseCallback{handleWatchlistUpdate}\nuseUnwatchableAssetEvent{unwatchableAssetEvent}\nuseEffect{}",(function(){return[o.W6,f.W,u.s,i.bW,i.UV,d.y,i.D3,h.h,l.q,c.m8,y.X,m.$,p.R,i._t]})));(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&L.register(j,"WatchlistDiscoveryCell","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistDiscoveryCell.tsx"),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},581:(e,t,a)=>{a.d(t,{g:()=>m});var n,s=a(14041),o=a(60803),i=a(55799),r=a(15654),c=a(44659),d=a(97541),l=a(31085);e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,h,m=(0,s.memo)((function(e){var t=e.cta,a=void 0===t?void 0:t,n=e.description,u=void 0===n?void 0:n,h=e.isDiscovery,m=void 0!==h&&h,f=e.title;return(0,l.jsxs)(i.a,{flexBasis:1,flexGrow:1,flexDirection:"column",testID:"watchlist-".concat(m?"discovery-":"","loading"),children:[(0,l.jsxs)(r.T,{paddingX:3,paddingY:m?0:2,paddingBottom:m?3:0,gap:1,children:[(0,l.jsx)(c.f,{as:"h1",children:f}),!!u&&(0,l.jsx)(d.K,{as:"p",color:"fgMuted",children:u})]}),Array(4).fill((0,l.jsx)(o.x,{title:!0,description:!0,detail:!0,subdetail:!0,media:"asset"})).map((function(e,t){return(0,l.jsx)(s.Fragment,{children:e},"watchlist-".concat(m?"discovery-":"","fallback-").concat(t))})),a]})}));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(m,"WatchlistLoading","/workspaces/apps/extension/src/screens/Watchlist/components/WatchlistLoading.tsx"),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},93152:(e,t,a)=>{a.d(t,{m8:()=>h});var n=a(14041),s=a(8867),o=a(95734),i=a(52344),r=a(11554),c=a(42626),d=a(54996);const l="\u2197",u="\u2198";function h(e,t,a,h,m,f){const{formatNumber:p}=(0,s.A)(),y=(0,o.M)(),{asset:b,isFetched:v}=(0,i.Q)({assetSymbol:e,uuid:t,network:h,blockchain:m,contractAddress:f}),g=(0,r.S)({network:h,blockchain:m}),{data:w}=(0,d.o2)({assetId:b?.id,address:f,networkId:g,onlyPercentChangeResolutions:a?[c.ck]:void 0,enabled:v}),k=w?.prices.latestPrice,W=k?.amount,A=k?.percentChange.day,I=W?p(Math.abs(Number(W?.amount)),{style:"currency",currency:W?.currency,minimumFractionDigits:W?.scale}):"",C=!!A&&A>0,x=void 0!==A&&0===A,E=void 0!==A?y(Math.abs(A),2):"",L=(0,n.useMemo)((()=>x||!A?"":C?l:u),[x,A,C]),M=(0,n.useMemo)((()=>x||!A?"fgMuted":C?"fgPositive":"fgNegative"),[x,A,C]);return{formattedPercent:E,formattedAmount:I,color:b?.color??"fgPrimary",prices:a?void 0:w,percentArrow:L,percentColor:M}}},31099:(e,t,a)=>{a.d(t,{G:()=>o});var n=a(66181),s=a(44592);function o(){return!(0,n.l)((0,s.R)("kill_explore_multichain"))}},80587:(e,t,a)=>{a.d(t,{s:()=>d});var n=a(14041),s=a(27301),o=a(52344),i=a(37341),r=a(77646),c=a(54996);function d(e){const{data:t}=(0,c.o2)({assetId:e.uuid}),a=e.networkId?(0,r.e)(e.networkId):void 0,d=new s.J(e.blockchain),{asset:l}=(0,o.Q)({network:a,blockchain:d,contractAddress:e.address,assetSymbol:e.symbol,uuid:e.uuid,suspense:!0});if(!l)throw new Error(`useWatchlistItem: unable to get Asset information for ${e.symbol}`);const u=(0,i.e)({name:l.name,currencyCode:l.symbol,address:e.address,decimals:e.decimals,imageURL:l.image_url,chainId:e.chainId,networkId:e.networkId,blockchain:e.blockchain,uuid:l.id,percentChangeDay:t?.prices.latestPrice.percentChange.day??0});return(0,n.useMemo)((()=>({symbol:l.symbol,name:l.name,imageUrl:l.image_url,priceChange:t?.prices.latestPrice.percentChange.day,latestPrice:t?.prices.latestPrice,uuid:l.id,id:u.id,network:u.network})),[l.id,l.image_url,l.name,l.symbol,u.id,u.network,t?.prices.latestPrice])}},46166:(e,t,a)=>{a.d(t,{$:()=>r});var n=a(14041),s=a(38851),o=a(31700),i=a(3887);function r({blockchain:e,chainId:t,networkId:a,contractAddress:r,symbol:c,type:d,uuid:l,walletAddress:u,handleSuccess:h,handleError:m}){const{mutateAsync:f,isLoading:p}=(0,s.n)({mutationFn:async()=>(0,i.w7)({blockchain:e,networkId:a,chainId:t,contractAddress:r,symbol:c,type:d,uuid:l,walletAddress:u})}),y=(0,n.useCallback)((async function(){try{await f(),o.qQ.invalidateQueries([i.SS,u]),o.qQ.invalidateQueries([u,c]),h({isWatchingUpdate:!0})}catch(e){m(e)}}),[f,u,c,h,m]);return(0,n.useMemo)((()=>({addToWatchlist:y,isAdding:p})),[p,y])}},48254:(e,t,a)=>{a.d(t,{W:()=>i});var n=a(14041),s=a(98053),o=a(3887);function i(e){const{isWatchable:t,isWatching:a}=function({contractAddress:e,networkId:t,chainId:a,symbol:i,uuid:r,walletAddress:c}){const d=Boolean(t&&e||t&&i||a&&e||a&&i||r),{data:l}=(0,s.I)([c,i],(async()=>(0,o.wq)({contractAddress:e,networkId:t,chainId:a,symbol:i,uuid:r,walletAddress:c})),{notifyOnChangeProps:["data"],suspense:!0,enabled:d});return(0,n.useMemo)((()=>({isWatching:!!d&&l?.isWatching,isWatchable:!!d&&l?.isWatchable})),[l?.isWatchable,l?.isWatching,d])}(e);if(void 0===a)throw new Error("useAssetWatchlistState: didn't receive isWatching data");const[i,r]=(0,n.useState)(a);(0,n.useEffect)((function(){r(a)}),[a]);const c=(0,n.useCallback)((function(){r((e=>!e))}),[]);return(0,n.useMemo)((()=>({isWatching:i,isWatchable:t,optimisticUpdate:c,resetUpdate:c})),[t,i,c])}},57256:(e,t,a)=>{a.d(t,{R:()=>r});var n=a(14041),s=a(38851),o=a(31700),i=a(3887);function r({networkId:e,chainId:t,contractAddress:a,symbol:r,type:c,walletAddress:d,handleSuccess:l,handleError:u}){const{mutateAsync:h,isLoading:m}=(0,s.n)({mutationFn:async()=>(0,i.Qv)({networkId:e,chainId:t,contractAddress:a,symbol:r,type:c,walletAddress:d})}),f=(0,n.useCallback)((async function(){try{await h(),o.qQ.invalidateQueries([i.SS,d]),o.qQ.invalidateQueries([d,r]),l({isWatchingUpdate:!1})}catch(e){u(e)}}),[h,d,r,l,u]);return(0,n.useMemo)((()=>({removeFromWatchlist:f,isRemoving:m})),[m,f])}},27224:(e,t,a)=>{a.d(t,{X:()=>s});var n=a(8867);function s(e){const{formatNumber:t}=(0,n.A)();return e.latestPrice?t(Math.abs(Number(e.latestPrice.amount.amount)),{style:"currency",currency:e.latestPrice.amount.currency,minimumFractionDigits:e.latestPrice.amount.scale}):""}}}]);
//# sourceMappingURL=203.js.map