import{h as ne}from"./chunk-CP2RIMI2.js";import{c as C}from"./chunk-HMTT52FG.js";import{a as wr,b as Ve,o as Ce,s as Sr}from"./chunk-E4OV5WXB.js";import{D as A,K as $n}from"./chunk-VZKEX7KP.js";import{I as Ir,o as xr}from"./chunk-BJKBO23H.js";import{s as _r,va as Rn}from"./chunk-XFTQD4B2.js";import{a as te}from"./chunk-GVV6OTQP.js";import{z as D}from"./chunk-ZFVABNQN.js";import{b as bn}from"./chunk-73B6GL3S.js";import{a as kn}from"./chunk-M4ANCDMF.js";import{b as Ln}from"./chunk-HI3LE734.js";import{c as _,f as He,h as le,n as process,o as l,p,q as d}from"./chunk-Y5OH3DDZ.js";var de=_((qi,yr)=>{l();d();var zn="2.0.0",Wn=Number.MAX_SAFE_INTEGER||9007199254740991,Kn=16;yr.exports={SEMVER_SPEC_VERSION:zn,MAX_LENGTH:256,MAX_SAFE_INTEGER:Wn,MAX_SAFE_COMPONENT_LENGTH:Kn}});var fe=_((Mi,Cr)=>{l();d();var Yn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Cr.exports=Yn});var K=_((V,Tr)=>{l();d();var{MAX_SAFE_COMPONENT_LENGTH:We}=de(),Zn=fe();V=Tr.exports={};var Jn=V.re=[],m=V.src=[],g=V.t={},Qn=0,I=(t,e,r)=>{let n=Qn++;Zn(n,e),g[t]=n,m[n]=e,Jn[n]=new RegExp(e,r?"g":void 0)};I("NUMERICIDENTIFIER","0|[1-9]\\d*");I("NUMERICIDENTIFIERLOOSE","[0-9]+");I("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");I("MAINVERSION",`(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})\\.(${m[g.NUMERICIDENTIFIER]})`);I("MAINVERSIONLOOSE",`(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})\\.(${m[g.NUMERICIDENTIFIERLOOSE]})`);I("PRERELEASEIDENTIFIER",`(?:${m[g.NUMERICIDENTIFIER]}|${m[g.NONNUMERICIDENTIFIER]})`);I("PRERELEASEIDENTIFIERLOOSE",`(?:${m[g.NUMERICIDENTIFIERLOOSE]}|${m[g.NONNUMERICIDENTIFIER]})`);I("PRERELEASE",`(?:-(${m[g.PRERELEASEIDENTIFIER]}(?:\\.${m[g.PRERELEASEIDENTIFIER]})*))`);I("PRERELEASELOOSE",`(?:-?(${m[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[g.PRERELEASEIDENTIFIERLOOSE]})*))`);I("BUILDIDENTIFIER","[0-9A-Za-z-]+");I("BUILD",`(?:\\+(${m[g.BUILDIDENTIFIER]}(?:\\.${m[g.BUILDIDENTIFIER]})*))`);I("FULLPLAIN",`v?${m[g.MAINVERSION]}${m[g.PRERELEASE]}?${m[g.BUILD]}?`);I("FULL",`^${m[g.FULLPLAIN]}$`);I("LOOSEPLAIN",`[v=\\s]*${m[g.MAINVERSIONLOOSE]}${m[g.PRERELEASELOOSE]}?${m[g.BUILD]}?`);I("LOOSE",`^${m[g.LOOSEPLAIN]}$`);I("GTLT","((?:<|>)?=?)");I("XRANGEIDENTIFIERLOOSE",`${m[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);I("XRANGEIDENTIFIER",`${m[g.NUMERICIDENTIFIER]}|x|X|\\*`);I("XRANGEPLAIN",`[v=\\s]*(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:\\.(${m[g.XRANGEIDENTIFIER]})(?:${m[g.PRERELEASE]})?${m[g.BUILD]}?)?)?`);I("XRANGEPLAINLOOSE",`[v=\\s]*(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[g.XRANGEIDENTIFIERLOOSE]})(?:${m[g.PRERELEASELOOSE]})?${m[g.BUILD]}?)?)?`);I("XRANGE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAIN]}$`);I("XRANGELOOSE",`^${m[g.GTLT]}\\s*${m[g.XRANGEPLAINLOOSE]}$`);I("COERCE",`(^|[^\\d])(\\d{1,${We}})(?:\\.(\\d{1,${We}}))?(?:\\.(\\d{1,${We}}))?(?:$|[^\\d])`);I("COERCERTL",m[g.COERCE],!0);I("LONETILDE","(?:~>?)");I("TILDETRIM",`(\\s*)${m[g.LONETILDE]}\\s+`,!0);V.tildeTrimReplace="$1~";I("TILDE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAIN]}$`);I("TILDELOOSE",`^${m[g.LONETILDE]}${m[g.XRANGEPLAINLOOSE]}$`);I("LONECARET","(?:\\^)");I("CARETTRIM",`(\\s*)${m[g.LONECARET]}\\s+`,!0);V.caretTrimReplace="$1^";I("CARET",`^${m[g.LONECARET]}${m[g.XRANGEPLAIN]}$`);I("CARETLOOSE",`^${m[g.LONECARET]}${m[g.XRANGEPLAINLOOSE]}$`);I("COMPARATORLOOSE",`^${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]})$|^$`);I("COMPARATOR",`^${m[g.GTLT]}\\s*(${m[g.FULLPLAIN]})$|^$`);I("COMPARATORTRIM",`(\\s*)${m[g.GTLT]}\\s*(${m[g.LOOSEPLAIN]}|${m[g.XRANGEPLAIN]})`,!0);V.comparatorTrimReplace="$1$2$3";I("HYPHENRANGE",`^\\s*(${m[g.XRANGEPLAIN]})\\s+-\\s+(${m[g.XRANGEPLAIN]})\\s*$`);I("HYPHENRANGELOOSE",`^\\s*(${m[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[g.XRANGEPLAINLOOSE]})\\s*$`);I("STAR","(<|>)?=?\\s*\\*");I("GTE0","^\\s*>=\\s*0.0.0\\s*$");I("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var he=_((Vi,Nr)=>{l();d();var eo=["includePrerelease","loose","rtl"],ro=t=>t?typeof t!="object"?{loose:!0}:eo.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Nr.exports=ro});var Te=_((Ki,Or)=>{l();d();var Ar=/^[0-9]+$/,Dr=(t,e)=>{let r=Ar.test(t),n=Ar.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},to=(t,e)=>Dr(e,t);Or.exports={compareIdentifiers:Dr,rcompareIdentifiers:to}});var R=_((Ji,$r)=>{l();d();var Ne=fe(),{MAX_LENGTH:Lr,MAX_SAFE_INTEGER:Ae}=de(),{re:Rr,t:br}=K(),no=he(),{compareIdentifiers:pe}=Te(),k=class{constructor(e,r){if(r=no(r),e instanceof k){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Lr)throw new TypeError(`version is longer than ${Lr} characters`);Ne("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Rr[br.LOOSE]:Rr[br.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ae||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ae||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ae||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<Ae)return s}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ne("SemVer.compare",this.version,this.options,e),!(e instanceof k)){if(typeof e=="string"&&e===this.version)return 0;e=new k(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof k||(e=new k(e,this.options)),pe(this.major,e.major)||pe(this.minor,e.minor)||pe(this.patch,e.patch)}comparePre(e){if(e instanceof k||(e=new k(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],o=e.prerelease[r];if(Ne("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return pe(n,o)}while(++r)}compareBuild(e){e instanceof k||(e=new k(e,this.options));let r=0;do{let n=this.build[r],o=e.build[r];if(Ne("prerelease compare",r,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return pe(n,o)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};$r.exports=k});var Y=_((ra,qr)=>{l();d();var{MAX_LENGTH:oo}=de(),{re:kr,t:Pr}=K(),Br=R(),so=he(),io=(t,e)=>{if(e=so(e),t instanceof Br)return t;if(typeof t!="string"||t.length>oo||!(e.loose?kr[Pr.LOOSE]:kr[Pr.FULL]).test(t))return null;try{return new Br(t,e)}catch{return null}};qr.exports=io});var Fr=_((oa,Ur)=>{l();d();var ao=Y(),co=(t,e)=>{let r=ao(t,e);return r?r.version:null};Ur.exports=co});var Gr=_((aa,Mr)=>{l();d();var uo=Y(),lo=(t,e)=>{let r=uo(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Mr.exports=lo});var Xr=_((la,jr)=>{l();d();var fo=R(),ho=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new fo(t,r).inc(e,n).version}catch{return null}};jr.exports=ho});var P=_((ha,Vr)=>{l();d();var Hr=R(),po=(t,e,r)=>new Hr(t,r).compare(new Hr(e,r));Vr.exports=po});var De=_((ga,zr)=>{l();d();var mo=P(),go=(t,e,r)=>mo(t,e,r)===0;zr.exports=go});var Yr=_((_a,Kr)=>{l();d();var Wr=Y(),Eo=De(),vo=(t,e)=>{if(Eo(t,e))return null;{let r=Wr(t),n=Wr(e),o=r.prerelease.length||n.prerelease.length,s=o?"pre":"",i=o?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return s+a;return i}};Kr.exports=vo});var Jr=_((wa,Zr)=>{l();d();var _o=R(),xo=(t,e)=>new _o(t,e).major;Zr.exports=xo});var et=_((Ca,Qr)=>{l();d();var Io=R(),wo=(t,e)=>new Io(t,e).minor;Qr.exports=wo});var tt=_((Aa,rt)=>{l();d();var So=R(),yo=(t,e)=>new So(t,e).patch;rt.exports=yo});var ot=_((La,nt)=>{l();d();var Co=Y(),To=(t,e)=>{let r=Co(t,e);return r&&r.prerelease.length?r.prerelease:null};nt.exports=To});var it=_(($a,st)=>{l();d();var No=P(),Ao=(t,e,r)=>No(e,t,r);st.exports=Ao});var ct=_((Ba,at)=>{l();d();var Do=P(),Oo=(t,e)=>Do(t,e,!0);at.exports=Oo});var Oe=_((Fa,lt)=>{l();d();var ut=R(),Lo=(t,e,r)=>{let n=new ut(t,r),o=new ut(e,r);return n.compare(o)||n.compareBuild(o)};lt.exports=Lo});var ft=_((ja,dt)=>{l();d();var Ro=Oe(),bo=(t,e)=>t.sort((r,n)=>Ro(r,n,e));dt.exports=bo});var pt=_((Va,ht)=>{l();d();var $o=Oe(),ko=(t,e)=>t.sort((r,n)=>$o(n,r,e));ht.exports=ko});var me=_((Ka,mt)=>{l();d();var Po=P(),Bo=(t,e,r)=>Po(t,e,r)>0;mt.exports=Bo});var Le=_((Ja,gt)=>{l();d();var qo=P(),Uo=(t,e,r)=>qo(t,e,r)<0;gt.exports=Uo});var Ke=_((rc,Et)=>{l();d();var Fo=P(),Mo=(t,e,r)=>Fo(t,e,r)!==0;Et.exports=Mo});var Re=_((oc,vt)=>{l();d();var Go=P(),jo=(t,e,r)=>Go(t,e,r)>=0;vt.exports=jo});var be=_((ac,_t)=>{l();d();var Xo=P(),Ho=(t,e,r)=>Xo(t,e,r)<=0;_t.exports=Ho});var Ye=_((lc,xt)=>{l();d();var Vo=De(),zo=Ke(),Wo=me(),Ko=Re(),Yo=Le(),Zo=be(),Jo=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Vo(t,r,n);case"!=":return zo(t,r,n);case">":return Wo(t,r,n);case">=":return Ko(t,r,n);case"<":return Yo(t,r,n);case"<=":return Zo(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};xt.exports=Jo});var wt=_((hc,It)=>{l();d();var Qo=R(),es=Y(),{re:$e,t:ke}=K(),rs=(t,e)=>{if(t instanceof Qo)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match($e[ke.COERCE]);else{let n;for(;(n=$e[ke.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),$e[ke.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;$e[ke.COERCERTL].lastIndex=-1}return r===null?null:es(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};It.exports=rs});var Nt=_((gc,Tt)=>{l();d();var ts=kn(),Z=Symbol("max"),G=Symbol("length"),se=Symbol("lengthCalculator"),Ee=Symbol("allowStale"),J=Symbol("maxAge"),M=Symbol("dispose"),St=Symbol("noDisposeOnSet"),N=Symbol("lruList"),F=Symbol("cache"),Ct=Symbol("updateAgeOnGet"),Ze=()=>1,Qe=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Z]=e.max||1/0,n=e.length||Ze;if(this[se]=typeof n!="function"?Ze:n,this[Ee]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[J]=e.maxAge||0,this[M]=e.dispose,this[St]=e.noDisposeOnSet||!1,this[Ct]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Z]=e||1/0,ge(this)}get max(){return this[Z]}set allowStale(e){this[Ee]=!!e}get allowStale(){return this[Ee]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[J]=e,ge(this)}get maxAge(){return this[J]}set lengthCalculator(e){typeof e!="function"&&(e=Ze),e!==this[se]&&(this[se]=e,this[G]=0,this[N].forEach(r=>{r.length=this[se](r.value,r.key),this[G]+=r.length})),ge(this)}get lengthCalculator(){return this[se]}get length(){return this[G]}get itemCount(){return this[N].length}rforEach(e,r){r=r||this;for(let n=this[N].tail;n!==null;){let o=n.prev;yt(this,e,n,r),n=o}}forEach(e,r){r=r||this;for(let n=this[N].head;n!==null;){let o=n.next;yt(this,e,n,r),n=o}}keys(){return this[N].toArray().map(e=>e.key)}values(){return this[N].toArray().map(e=>e.value)}reset(){this[M]&&this[N]&&this[N].length&&this[N].forEach(e=>this[M](e.key,e.value)),this[F]=new Map,this[N]=new ts,this[G]=0}dump(){return this[N].map(e=>Pe(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[N]}set(e,r,n){if(n=n||this[J],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let o=n?Date.now():0,s=this[se](r,e);if(this[F].has(e)){if(s>this[Z])return ie(this,this[F].get(e)),!1;let u=this[F].get(e).value;return this[M]&&(this[St]||this[M](e,u.value)),u.now=o,u.maxAge=n,u.value=r,this[G]+=s-u.length,u.length=s,this.get(e),ge(this),!0}let i=new er(e,r,s,o,n);return i.length>this[Z]?(this[M]&&this[M](e,r),!1):(this[G]+=i.length,this[N].unshift(i),this[F].set(e,this[N].head),ge(this),!0)}has(e){if(!this[F].has(e))return!1;let r=this[F].get(e).value;return!Pe(this,r)}get(e){return Je(this,e,!0)}peek(e){return Je(this,e,!1)}pop(){let e=this[N].tail;return e?(ie(this,e),e.value):null}del(e){ie(this,this[F].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let o=e[n],s=o.e||0;if(s===0)this.set(o.k,o.v);else{let i=s-r;i>0&&this.set(o.k,o.v,i)}}}prune(){this[F].forEach((e,r)=>Je(this,r,!1))}},Je=(t,e,r)=>{let n=t[F].get(e);if(n){let o=n.value;if(Pe(t,o)){if(ie(t,n),!t[Ee])return}else r&&(t[Ct]&&(n.value.now=Date.now()),t[N].unshiftNode(n));return o.value}},Pe=(t,e)=>{if(!e||!e.maxAge&&!t[J])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[J]&&r>t[J]},ge=t=>{if(t[G]>t[Z])for(let e=t[N].tail;t[G]>t[Z]&&e!==null;){let r=e.prev;ie(t,e),e=r}},ie=(t,e)=>{if(e){let r=e.value;t[M]&&t[M](r.key,r.value),t[G]-=r.length,t[F].delete(r.key),t[N].removeNode(e)}},er=class{constructor(e,r,n,o,s){this.key=e,this.value=r,this.length=n,this.now=o,this.maxAge=s||0}},yt=(t,e,r,n)=>{let o=r.value;Pe(t,o)&&(ie(t,r),t[Ee]||(o=void 0)),o&&e.call(n,o.value,o.key,t)};Tt.exports=Qe});var B=_((_c,Lt)=>{l();d();var Q=class{constructor(e,r){if(r=os(r),e instanceof Q)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Q(e.raw,r);if(e instanceof rr)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(o=>!Dt(o[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&us(o[0])){this.set=[o];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,o=At.get(n);if(o)return o;let s=this.options.loose,i=s?b[O.HYPHENRANGELOOSE]:b[O.HYPHENRANGE];e=e.replace(i,_s(this.options.includePrerelease)),T("hyphen replace",e),e=e.replace(b[O.COMPARATORTRIM],is),T("comparator trim",e,b[O.COMPARATORTRIM]),e=e.replace(b[O.TILDETRIM],as),e=e.replace(b[O.CARETTRIM],cs),e=e.split(/\s+/).join(" ");let a=s?b[O.COMPARATORLOOSE]:b[O.COMPARATOR],u=e.split(" ").map(x=>ls(x,this.options)).join(" ").split(/\s+/).map(x=>vs(x,this.options)).filter(this.options.loose?x=>!!x.match(a):()=>!0).map(x=>new rr(x,this.options)),c=u.length,h=new Map;for(let x of u){if(Dt(x))return[x];h.set(x.value,x)}h.size>1&&h.has("")&&h.delete("");let v=[...h.values()];return At.set(n,v),v}intersects(e,r){if(!(e instanceof Q))throw new TypeError("a Range is required");return this.set.some(n=>Ot(n,r)&&e.set.some(o=>Ot(o,r)&&n.every(s=>o.every(i=>s.intersects(i,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ss(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(xs(this.set[r],e,this.options))return!0;return!1}};Lt.exports=Q;var ns=Nt(),At=new ns({max:1e3}),os=he(),rr=ve(),T=fe(),ss=R(),{re:b,t:O,comparatorTrimReplace:is,tildeTrimReplace:as,caretTrimReplace:cs}=K(),Dt=t=>t.value==="<0.0.0-0",us=t=>t.value==="",Ot=(t,e)=>{let r=!0,n=t.slice(),o=n.pop();for(;r&&n.length;)r=n.every(s=>o.intersects(s,e)),o=n.pop();return r},ls=(t,e)=>(T("comp",t,e),t=hs(t,e),T("caret",t),t=ds(t,e),T("tildes",t),t=ms(t,e),T("xrange",t),t=Es(t,e),T("stars",t),t),$=t=>!t||t.toLowerCase()==="x"||t==="*",ds=(t,e)=>t.trim().split(/\s+/).map(r=>fs(r,e)).join(" "),fs=(t,e)=>{let r=e.loose?b[O.TILDELOOSE]:b[O.TILDE];return t.replace(r,(n,o,s,i,a)=>{T("tilde",t,n,o,s,i,a);let u;return $(o)?u="":$(s)?u=`>=${o}.0.0 <${+o+1}.0.0-0`:$(i)?u=`>=${o}.${s}.0 <${o}.${+s+1}.0-0`:a?(T("replaceTilde pr",a),u=`>=${o}.${s}.${i}-${a} <${o}.${+s+1}.0-0`):u=`>=${o}.${s}.${i} <${o}.${+s+1}.0-0`,T("tilde return",u),u})},hs=(t,e)=>t.trim().split(/\s+/).map(r=>ps(r,e)).join(" "),ps=(t,e)=>{T("caret",t,e);let r=e.loose?b[O.CARETLOOSE]:b[O.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(o,s,i,a,u)=>{T("caret",t,o,s,i,a,u);let c;return $(s)?c="":$(i)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:$(a)?s==="0"?c=`>=${s}.${i}.0${n} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.0${n} <${+s+1}.0.0-0`:u?(T("replaceCaret pr",u),s==="0"?i==="0"?c=`>=${s}.${i}.${a}-${u} <${s}.${i}.${+a+1}-0`:c=`>=${s}.${i}.${a}-${u} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.${a}-${u} <${+s+1}.0.0-0`):(T("no pr"),s==="0"?i==="0"?c=`>=${s}.${i}.${a}${n} <${s}.${i}.${+a+1}-0`:c=`>=${s}.${i}.${a}${n} <${s}.${+i+1}.0-0`:c=`>=${s}.${i}.${a} <${+s+1}.0.0-0`),T("caret return",c),c})},ms=(t,e)=>(T("replaceXRanges",t,e),t.split(/\s+/).map(r=>gs(r,e)).join(" ")),gs=(t,e)=>{t=t.trim();let r=e.loose?b[O.XRANGELOOSE]:b[O.XRANGE];return t.replace(r,(n,o,s,i,a,u)=>{T("xRange",t,n,o,s,i,a,u);let c=$(s),h=c||$(i),v=h||$(a),x=v;return o==="="&&x&&(o=""),u=e.includePrerelease?"-0":"",c?o===">"||o==="<"?n="<0.0.0-0":n="*":o&&x?(h&&(i=0),a=0,o===">"?(o=">=",h?(s=+s+1,i=0,a=0):(i=+i+1,a=0)):o==="<="&&(o="<",h?s=+s+1:i=+i+1),o==="<"&&(u="-0"),n=`${o+s}.${i}.${a}${u}`):h?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:v&&(n=`>=${s}.${i}.0${u} <${s}.${+i+1}.0-0`),T("xRange return",n),n})},Es=(t,e)=>(T("replaceStars",t,e),t.trim().replace(b[O.STAR],"")),vs=(t,e)=>(T("replaceGTE0",t,e),t.trim().replace(b[e.includePrerelease?O.GTE0PRE:O.GTE0],"")),_s=t=>(e,r,n,o,s,i,a,u,c,h,v,x,E)=>($(n)?r="":$(o)?r=`>=${n}.0.0${t?"-0":""}`:$(s)?r=`>=${n}.${o}.0${t?"-0":""}`:i?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,$(c)?u="":$(h)?u=`<${+c+1}.0.0-0`:$(v)?u=`<${c}.${+h+1}.0-0`:x?u=`<=${c}.${h}.${v}-${x}`:t?u=`<${c}.${h}.${+v+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),xs=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(T(t[n].semver),t[n].semver!==rr.ANY&&t[n].semver.prerelease.length>0){let o=t[n].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}});var ve=_((wc,Pt)=>{l();d();var _e=Symbol("SemVer ANY"),ae=class{static get ANY(){return _e}constructor(e,r){if(r=Is(r),e instanceof ae){if(e.loose===!!r.loose)return e;e=e.value}nr("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===_e?this.value="":this.value=this.operator+this.semver.version,nr("comp",this)}parse(e){let r=this.options.loose?Rt[bt.COMPARATORLOOSE]:Rt[bt.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new $t(n[2],this.options.loose):this.semver=_e}toString(){return this.value}test(e){if(nr("Comparator.test",e,this.options.loose),this.semver===_e||e===_e)return!0;if(typeof e=="string")try{e=new $t(e,this.options)}catch{return!1}return tr(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof ae))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new kt(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new kt(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),o=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,i=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=tr(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=tr(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||o||s&&i||a||u}};Pt.exports=ae;var Is=he(),{re:Rt,t:bt}=K(),tr=Ye(),nr=fe(),$t=R(),kt=B()});var xe=_((Cc,Bt)=>{l();d();var ws=B(),Ss=(t,e,r)=>{try{e=new ws(e,r)}catch{return!1}return e.test(t)};Bt.exports=Ss});var Ut=_((Ac,qt)=>{l();d();var ys=B(),Cs=(t,e)=>new ys(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));qt.exports=Cs});var Mt=_((Lc,Ft)=>{l();d();var Ts=R(),Ns=B(),As=(t,e,r)=>{let n=null,o=null,s=null;try{s=new Ns(e,r)}catch{return null}return t.forEach(i=>{s.test(i)&&(!n||o.compare(i)===-1)&&(n=i,o=new Ts(n,r))}),n};Ft.exports=As});var jt=_(($c,Gt)=>{l();d();var Ds=R(),Os=B(),Ls=(t,e,r)=>{let n=null,o=null,s=null;try{s=new Os(e,r)}catch{return null}return t.forEach(i=>{s.test(i)&&(!n||o.compare(i)===1)&&(n=i,o=new Ds(n,r))}),n};Gt.exports=Ls});var Vt=_((Bc,Ht)=>{l();d();var or=R(),Rs=B(),Xt=me(),bs=(t,e)=>{t=new Rs(t,e);let r=new or("0.0.0");if(t.test(r)||(r=new or("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let o=t.set[n],s=null;o.forEach(i=>{let a=new or(i.semver.version);switch(i.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Xt(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),s&&(!r||Xt(r,s))&&(r=s)}return r&&t.test(r)?r:null};Ht.exports=bs});var Wt=_((Fc,zt)=>{l();d();var $s=B(),ks=(t,e)=>{try{return new $s(t,e).range||"*"}catch{return null}};zt.exports=ks});var Be=_((jc,Jt)=>{l();d();var Ps=R(),Zt=ve(),{ANY:Bs}=Zt,qs=B(),Us=xe(),Kt=me(),Yt=Le(),Fs=be(),Ms=Re(),Gs=(t,e,r,n)=>{t=new Ps(t,n),e=new qs(e,n);let o,s,i,a,u;switch(r){case">":o=Kt,s=Fs,i=Yt,a=">",u=">=";break;case"<":o=Yt,s=Ms,i=Kt,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Us(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],v=null,x=null;if(h.forEach(E=>{E.semver===Bs&&(E=new Zt(">=0.0.0")),v=v||E,x=x||E,o(E.semver,v.semver,n)?v=E:i(E.semver,x.semver,n)&&(x=E)}),v.operator===a||v.operator===u||(!x.operator||x.operator===a)&&s(t,x.semver))return!1;if(x.operator===u&&i(t,x.semver))return!1}return!0};Jt.exports=Gs});var en=_((Vc,Qt)=>{l();d();var js=Be(),Xs=(t,e,r)=>js(t,e,">",r);Qt.exports=Xs});var tn=_((Kc,rn)=>{l();d();var Hs=Be(),Vs=(t,e,r)=>Hs(t,e,"<",r);rn.exports=Vs});var sn=_((Jc,on)=>{l();d();var nn=B(),zs=(t,e,r)=>(t=new nn(t,r),e=new nn(e,r),t.intersects(e));on.exports=zs});var cn=_((ru,an)=>{l();d();var Ws=xe(),Ks=P();an.exports=(t,e,r)=>{let n=[],o=null,s=null,i=t.sort((h,v)=>Ks(h,v,r));for(let h of i)Ws(h,e,r)?(s=h,o||(o=h)):(s&&n.push([o,s]),s=null,o=null);o&&n.push([o,null]);let a=[];for(let[h,v]of n)h===v?a.push(h):!v&&h===i[0]?a.push("*"):v?h===i[0]?a.push(`<=${v}`):a.push(`${h} - ${v}`):a.push(`>=${h}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var hn=_((ou,fn)=>{l();d();var un=B(),qe=ve(),{ANY:sr}=qe,Ie=xe(),ir=P(),Ys=(t,e,r={})=>{if(t===e)return!0;t=new un(t,r),e=new un(e,r);let n=!1;e:for(let o of t.set){for(let s of e.set){let i=Zs(o,s,r);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Zs=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===sr){if(e.length===1&&e[0].semver===sr)return!0;r.includePrerelease?t=[new qe(">=0.0.0-0")]:t=[new qe(">=0.0.0")]}if(e.length===1&&e[0].semver===sr){if(r.includePrerelease)return!0;e=[new qe(">=0.0.0")]}let n=new Set,o,s;for(let E of t)E.operator===">"||E.operator===">="?o=ln(o,E,r):E.operator==="<"||E.operator==="<="?s=dn(s,E,r):n.add(E.semver);if(n.size>1)return null;let i;if(o&&s){if(i=ir(o.semver,s.semver,r),i>0)return null;if(i===0&&(o.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(o&&!Ie(E,String(o),r)||s&&!Ie(E,String(s),r))return null;for(let H of e)if(!Ie(E,String(H),r))return!1;return!0}let a,u,c,h,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,x=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1;v&&v.prerelease.length===1&&s.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(let E of e){if(h=h||E.operator===">"||E.operator===">=",c=c||E.operator==="<"||E.operator==="<=",o){if(x&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===x.major&&E.semver.minor===x.minor&&E.semver.patch===x.patch&&(x=!1),E.operator===">"||E.operator===">="){if(a=ln(o,E,r),a===E&&a!==o)return!1}else if(o.operator===">="&&!Ie(o.semver,String(E),r))return!1}if(s){if(v&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===v.major&&E.semver.minor===v.minor&&E.semver.patch===v.patch&&(v=!1),E.operator==="<"||E.operator==="<="){if(u=dn(s,E,r),u===E&&u!==s)return!1}else if(s.operator==="<="&&!Ie(s.semver,String(E),r))return!1}if(!E.operator&&(s||o)&&i!==0)return!1}return!(o&&c&&!s&&i!==0||s&&h&&!o&&i!==0||x||v)},ln=(t,e,r)=>{if(!t)return e;let n=ir(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},dn=(t,e,r)=>{if(!t)return e;let n=ir(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};fn.exports=Ys});var mn=_((au,pn)=>{l();d();var ar=K();pn.exports={re:ar.re,src:ar.src,tokens:ar.t,SEMVER_SPEC_VERSION:de().SEMVER_SPEC_VERSION,SemVer:R(),compareIdentifiers:Te().compareIdentifiers,rcompareIdentifiers:Te().rcompareIdentifiers,parse:Y(),valid:Fr(),clean:Gr(),inc:Xr(),diff:Yr(),major:Jr(),minor:et(),patch:tt(),prerelease:ot(),compare:P(),rcompare:it(),compareLoose:ct(),compareBuild:Oe(),sort:ft(),rsort:pt(),gt:me(),lt:Le(),eq:De(),neq:Ke(),gte:Re(),lte:be(),cmp:Ye(),coerce:wt(),Comparator:ve(),Range:B(),satisfies:xe(),toComparators:Ut(),maxSatisfying:Mt(),minSatisfying:jt(),minVersion:Vt(),validRange:Wt(),outside:Be(),gtr:en(),ltr:tn(),intersects:sn(),simplifyRange:cn(),subset:hn()}});l();d();var S=He(bn());$n();Rn();l();d();var w={root:"_root_1e4bi_1",title:"_title_1e4bi_8",confirmTitle:"_confirmTitle_1e4bi_15 _title_1e4bi_8",confirmTitleHighLight:"_confirmTitleHighLight_1e4bi_21 _title_1e4bi_8",confirmDesc:"_confirmDesc_1e4bi_26",commonTitle:"_commonTitle_1e4bi_39 _title_1e4bi_8",commonDesc:"_commonDesc_1e4bi_48",commonImage:"_commonImage_1e4bi_61",commonImageTag:"_commonImageTag_1e4bi_67",newImage:"_newImage_1e4bi_71",newImageTag:"_newImageTag_1e4bi_76",commonFooter:"_commonFooter_1e4bi_79",multiLineFooter:"_multiLineFooter_1e4bi_87",extButton:"_extButton_1e4bi_95"};var y={connectError:"CONNECTERROR",wrongApp:"WRONGAPP",rejected:"REJECTED",confirm:"CONFIRM",blindEnable:"BLINDENABLE",ledgerBusy:"LEDGERBUSY",disConnected:"DISCONNECTED",lockedDevice:"LOCKEDDEVICE",wrongAppToGetAddress:"WRONGAPPTOGETADDRESS",hardWareNotConnected:"HARDWARENOTCONNECTED"},oe=({titleKey:t,descKey:e,lightImg:r,darkImg:n,btnTextKey:o,isNewImage:s})=>({handleClose:i,onButtonClick:a})=>{let u=ne({light:r,dark:n});return S.default.createElement(C.Box,{className:w.root},S.default.createElement(C.Box,{className:w.commonTitle},A(t)),S.default.createElement(C.Box,{className:w.commonDesc},e?A(e):""),S.default.createElement(te,{src:u,pictureClassName:s?w.newImage:w.commonImage,className:s?w.newImageTag:w.commonImageTag}),S.default.createElement(C.Box,{className:w.commonFooter},S.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{a&&a(),i()},block:!0},A(o))))},Pn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_retry"}),Bn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_device_disconnected",lightImg:"/cdn/assets/imgs/245/3E037F1AD56B99E5.png",darkImg:"/cdn/assets/imgs/245/5C128DD70BFD43E6.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),qn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"extension_wallet_conncecthardware_keep_usbconnection",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Un=oe({titleKey:"wallet_dialog_title_transaction_reject",descKey:"wallet_dialog_subtitle_transaction_reject_desc",lightImg:"/cdn/assets/imgs/245/D20BB80F72E26AE8.png",darkImg:"/cdn/assets/imgs/245/84CF381F4BEFAB79.png",btnTextKey:"extension_wallet_conncecthardware_okbtn"}),Fn=oe({titleKey:"wallet_dialog_title_transaction_failed",descKey:"wallet_dialog_subtitle_transaction_error_reinitiate",lightImg:"/cdn/assets/imgs/245/9AD7699D75F09864.png",darkImg:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png",btnTextKey:"extension_wallet_conncecthardware_okbtn",isNewImage:!0}),Mn=oe({titleKey:"wallet_add_wallet_maintitle_hardware_wallet_conncet_failed",descKey:"wallet_extension_pop_title_hardware_wallet_notunlocked",lightImg:"/cdn/assets/imgs/245/038C820230C1D3E0.png",darkImg:"/cdn/assets/imgs/245/0EAF10E9F40C5541.png",btnTextKey:"extension_wallet_conncecthardware_retry",isNewImage:!0}),Gn=({handleClose:t,baseChain:e})=>{let r=ne({light:"/cdn/assets/imgs/245/9AD7699D75F09864.png",dark:"/cdn/assets/imgs/245/5E204EF0476C9EA5.png"});return S.default.createElement(C.Box,{className:w.root},S.default.createElement(C.Box,{className:w.commonTitle},A("wallet_add_wallet_maintitle_hardware_wallet_conncet_failed")),S.default.createElement(C.Box,{className:w.commonDesc},A("wallet_extension_pop_title_open_app",{Name:Ce[e]})),S.default.createElement(te,{src:r,className:w.newImageTag,pictureClassName:w.newImage}),S.default.createElement(C.Box,{className:w.commonFooter},S.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{window.location.reload(),t()},block:!0},A("extension_wallet_conncecthardware_retry"))))},jn=({handleClose:t,walletName:e,onButtonClick:r,onExtButtonClick:n})=>{let o=ne({light:"/cdn/assets/imgs/245/A9EDDD75B9E98A02.png",dark:"/cdn/assets/imgs/245/FCD6B8E149D00A31.png"});return S.default.createElement(C.Box,{className:w.root},S.default.createElement(C.Box,{className:w.commonTitle},A("wallet_extension_footer_btn_ok")),S.default.createElement(C.Box,{className:w.commonDesc},A("wallet_extension_top_subtitle_same_device",{acctName:e})),S.default.createElement(te,{src:o,className:w.commonImageTag,pictureClassName:w.commonImage}),S.default.createElement(C.Box,{className:w.multiLineFooter},S.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:()=>{r&&r(),t()},block:!0},A("wallet_add_wallet_btn_conncet_hardware_wallet")),S.default.createElement(C.Box,{className:w.extButton,onClick:n},A("wallet_extension_footer_btn_add_newdevice"))))},Xn=({handleClose:t,network:e})=>{let r=ne({light:"/cdn/assets/imgs/245/13DD433CD15E83AA.png",dark:"/cdn/assets/imgs/245/74F4F0AC071E323D.png"});return S.default.createElement(C.Box,{className:w.root},S.default.createElement(C.Box,{className:w.commonTitle},A("wallet_dialog_title_transaction_failed")),S.default.createElement(C.Box,{className:w.commonDesc},A("extension_wallet_dialog_subtitle_transaction_failed_desc",{network:e,signbyhash:"Blind signing"})),S.default.createElement(te,{src:r,className:w.commonImageTag,pictureClassName:w.commonImage}),S.default.createElement(C.Box,{className:w.commonFooter},S.default.createElement(D,{category:D.CATEGORY.fill,type:D.TYPE.highlight,size:D.SIZE.lg,onClick:t,block:!0},A("extension_wallet_conncecthardware_okbtn"))))},Hn=()=>{let t=ne({light:"/cdn/assets/imgs/245/56CE147131A188AA.png",dark:"/cdn/assets/imgs/245/FA61D5D25FCE8E12.png"});return S.default.createElement(C.Box,{className:w.root},S.default.createElement(C.Box,{className:w.confirmTitle},A("extension_wallet_conncecthardware_check_ledgerwallet",{transaction:S.default.createElement("span",{className:w.confirmTitleHighLight},A("extension_wallet_conncecthardware_transaction_details"))})),S.default.createElement(C.Box,{className:w.confirmDesc},A("extension_wallet_conncecthardware_transaction_sent")),S.default.createElement(te,{src:t,className:w.newImageTag,pictureClassName:w.newImage}))},Vn={[y.connectError]:Pn,[y.wrongApp]:qn,[y.rejected]:Un,[y.confirm]:Hn,[y.blindEnable]:Xn,[y.ledgerBusy]:Fn,[y.disConnected]:Bn,[y.lockedDevice]:Mn,[y.wrongAppToGetAddress]:Gn,[y.hardWareNotConnected]:jn},ze=class{constructor(){le(this,"renderContent",()=>{let{type:e,props:r}=this,n=Vn[e];return n?S.default.createElement(n,{...r,handleClose:this.closeModal}):null});le(this,"renderModalDom",()=>{let{hideCloseBtn:e=!1,onCloseBtnClick:r}=this.props;this.modalDom=xr.action({onClose:()=>{this.closeModal(),r&&r()},className:"hardware-wallet-tip-dialog",maskClosable:!1,alignBottom:!0,noTopRadius:!1,noContentPadding:!0,hideCloseBtn:e,children:this.renderContent()})});le(this,"openModal",_r((e,r={})=>{this.closeModal(),this.visible=!0,this.type=e,this.props=r,this.renderModalDom()},300));le(this,"closeModal",()=>{this.visible=!1,this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});this.visible=!1,this.type=y.confirm,this.props={},this.modalDom=null}},W=new ze;l();d();l();d();l();d();var lr=He(mn());var ur=function(){return ur=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ur.apply(this,arguments)},ee;var L;(function(t){t.blue="blue",t.nanoS="nanoS",t.nanoSP="nanoSP",t.nanoX="nanoX",t.stax="stax"})(L||(L={}));var dr=(ee={},ee[L.blue]={id:L.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(t){return 4*1024}},ee[L.nanoS]={id:L.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(t){var e;return lr.default.lt((e=lr.default.coerce(t))!==null&&e!==void 0?e:"","2.0.0")?4*1024:2*1024}},ee[L.nanoSP]={id:L.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(t){return 32}},ee[L.nanoX]={id:L.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(t){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},ee[L.stax]={id:L.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(t){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},ee),lu={Blue:L.blue,"Nano S":L.nanoS,"Nano S Plus":L.nanoSP,"Nano X":L.nanoX,Stax:L.stax},gn=Object.values(dr),re=11415;var fr=function(t){var e=gn.find(function(o){return o.legacyUsbProductId===t});if(e)return e;var r=t>>8,n=gn.find(function(o){return o.productIdMM===r});return n};var Js=[],En={};for(vn in dr)if(cr=dr[vn],Ue=cr.bluetoothSpec,Ue)for(Fe=0;Fe<Ue.length;Fe++)we=Ue[Fe],Js.push(we.serviceUuid),En[we.serviceUuid]=En[we.serviceUuid.replace(/-/g,"")]=ur({deviceModel:cr},we);var cr,Ue,we,Fe,vn;l();d();l();d();var Tn=He(Ln());l();d();l();d();var Qs=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var ei={},ri={},hr=function(t,e){ri[t]=e},f=function(t){var e=function(r){Qs(n,r);function n(o,s,i){var a=r.call(this,o||t,i)||this;if(Object.setPrototypeOf(a,n.prototype),a.name=t,s)for(var u in s)a[u]=s[u];if(i&&ti(i)&&"cause"in i&&!("cause"in a)){var c=i.cause;a.cause=c,"stack"in c&&(a.stack=a.stack+`
CAUSE: `+c.stack)}return a}return n}(Error);return ei[t]=e,e};function ti(t){return typeof t=="object"}var xn=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var xu=f("AccountNameRequired"),Iu=f("AccountNotSupported"),wu=f("AmountRequired"),Su=f("BluetoothRequired"),yu=f("BtcUnmatchedApp"),Cu=f("CantOpenDevice"),Tu=f("CashAddrNotSupported"),Nu=f("CurrencyNotSupported"),Au=f("DeviceAppVerifyNotSupported"),Du=f("DeviceGenuineSocketEarlyClose"),Ou=f("DeviceNotGenuine"),Lu=f("DeviceOnDashboardExpected"),Ru=f("DeviceOnDashboardUnexpected"),bu=f("DeviceInOSUExpected"),$u=f("DeviceHalted"),ku=f("DeviceNameInvalid"),Pu=f("DeviceSocketFail"),Bu=f("DeviceSocketNoBulkStatus"),ni=f("LockedDeviceError"),In=f("DisconnectedDevice"),wn=f("DisconnectedDeviceDuringOperation"),qu=f("DeviceExtractOnboardingStateError"),Uu=f("DeviceOnboardingStatePollingError"),Fu=f("EnpointConfig"),Mu=f("EthAppPleaseEnableContractData"),Gu=f("FeeEstimationFailed"),ju=f("FirmwareNotRecognized"),Xu=f("HardResetFail"),Hu=f("InvalidXRPTag"),Vu=f("InvalidAddress"),zu=f("InvalidAddressBecauseDestinationIsAlsoSource"),Wu=f("LatestMCUInstalledError"),Ku=f("UnknownMCU"),Yu=f("LedgerAPIError"),Zu=f("LedgerAPIErrorWithMessage"),Ju=f("LedgerAPINotAvailable"),Qu=f("ManagerAppAlreadyInstalled"),el=f("ManagerAppRelyOnBTC"),rl=f("ManagerAppDepInstallRequired"),tl=f("ManagerAppDepUninstallRequired"),nl=f("ManagerDeviceLocked"),ol=f("ManagerFirmwareNotEnoughSpace"),sl=f("ManagerNotEnoughSpace"),il=f("ManagerUninstallBTCDep"),al=f("NetworkDown"),cl=f("NoAddressesFound"),ul=f("NotEnoughBalance"),ll=f("NotEnoughBalanceToDelegate"),dl=f("NotEnoughBalanceInParentAccount"),fl=f("NotEnoughSpendableBalance"),hl=f("NotEnoughBalanceBecauseDestinationNotCreated"),pl=f("NoAccessToCamera"),ml=f("NotEnoughGas"),gl=f("NotSupportedLegacyAddress"),El=f("GasLessThanEstimate"),vl=f("PriorityFeeTooLow"),_l=f("PriorityFeeTooHigh"),xl=f("PriorityFeeHigherThanMaxFee"),Il=f("MaxFeeTooLow"),wl=f("PasswordsDontMatch"),Sl=f("PasswordIncorrect"),yl=f("RecommendSubAccountsToEmpty"),Cl=f("RecommendUndelegation"),Tl=f("TimeoutTagged"),Nl=f("UnexpectedBootloader"),Al=f("MCUNotGenuineToDashboard"),Dl=f("RecipientRequired"),Ol=f("UnavailableTezosOriginatedAccountReceive"),Ll=f("UnavailableTezosOriginatedAccountSend"),Rl=f("UpdateFetchFileFail"),bl=f("UpdateIncorrectHash"),$l=f("UpdateIncorrectSig"),kl=f("UpdateYourApp"),Pl=f("UserRefusedDeviceNameChange"),Bl=f("UserRefusedAddress"),ql=f("UserRefusedFirmwareUpdate"),Ul=f("UserRefusedAllowManager"),Fl=f("UserRefusedOnDevice"),pr=f("TransportOpenUserCancelled"),Ml=f("TransportInterfaceNotAvailable"),Sn=f("TransportRaceCondition"),Gl=f("TransportWebUSBGestureRequired"),jl=f("DeviceShouldStayInApp"),Xl=f("WebsocketConnectionError"),Hl=f("WebsocketConnectionFailed"),Vl=f("WrongDeviceForAccount"),zl=f("WrongAppForCurrency"),Wl=f("ETHAddressNonEIP"),Kl=f("CantScanQRCode"),Yl=f("FeeNotLoaded"),Zl=f("FeeRequired"),Jl=f("FeeTooHigh"),Ql=f("DustLimit"),ed=f("PendingOperation"),rd=f("SyncError"),td=f("PairingFailed"),nd=f("GenuineCheckFailed"),od=f("LedgerAPI4xx"),sd=f("LedgerAPI5xx"),id=f("FirmwareOrAppUpdateRequired"),ad=f("LanguageNotFound"),cd=f("NoDBPathGiven"),ud=f("DBWrongPassword"),ld=f("DBNotReset"),_n;(function(t){t[t.Unknown=0]="Unknown",t[t.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",t[t.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",t[t.BleScanStartFailed=3]="BleScanStartFailed"})(_n||(_n={}));var dd=function(t){xn(e,t);function e(r,n){var o=t.call(this,n)||this;return o.name="HwTransportError",o.type=r,Object.setPrototypeOf(o,e.prototype),o}return e}(Error);var q=function(t){xn(e,t);function e(r,n){var o=this,s="TransportError";return o=t.call(this,r||s)||this,o.name=s,o.message=r,o.stack=new Error().stack,o.id=n,o}return e}(Error);hr("TransportError",function(t){return new q(t.message,t.id)});var ce={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function yn(t){switch(t){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=t&&t<=28671)return"Internal error, please report"}function Se(t){var e=Object.keys(ce).find(function(s){return ce[s]===t})||"UNKNOWN_ERROR",r=yn(t)||e,n=t.toString(16),o="Ledger device: ".concat(r," (0x").concat(n,")");if(t===ce.LOCKED_DEVICE)throw new ni(o);this.name="TransportStatusError",this.message=o,this.stack=new Error().stack,this.statusCode=t,this.statusText=e}Se.prototype=new Error;hr("TransportStatusError",function(t){return new Se(t.statusCode)});var Me=function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(h){try{c(n.next(h))}catch(v){i(v)}}function u(h){try{c(n.throw(h))}catch(v){i(v)}}function c(h){h.done?s(h.value):o(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Ge=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(h){return u([c,h])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Cn=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oi=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},si=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,s;n<o;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};var ii=function(){function t(){var e=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new Tn.default,this.send=function(r,n,o,s,i,a){return i===void 0&&(i=p.Buffer.alloc(0)),a===void 0&&(a=[ce.OK]),Me(e,void 0,void 0,function(){var u,c;return Ge(this,function(h){switch(h.label){case 0:if(i.length>=256)throw new q("data.length exceed 256 bytes limit. Got: "+i.length,"DataLengthTooBig");return[4,this.exchange(p.Buffer.concat([p.Buffer.from([r,n,o,s]),p.Buffer.from([i.length]),i]))];case 1:if(u=h.sent(),c=u.readUInt16BE(u.length-2),!a.some(function(v){return v===c}))throw new Se(c);return[2,u]}})})},this.exchangeAtomicImpl=function(r){return Me(e,void 0,void 0,function(){var n,o,s,i,a,u=this;return Ge(this,function(c){switch(c.label){case 0:if(this.exchangeBusyPromise)throw new Sn("An action was already pending on the Ledger device. Please deny or reconnect.");o=new Promise(function(h){n=h}),this.exchangeBusyPromise=o,s=!1,i=setTimeout(function(){s=!0,u.emit("unresponsive")},this.unresponsiveTimeout),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,r()];case 2:return a=c.sent(),s&&this.emit("responsive"),[2,a];case 3:return clearTimeout(i),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return t.prototype.exchange=function(e){throw new Error("exchange not implemented")},t.prototype.exchangeBulk=function(e,r){var n=this,o=!1,s=function(){o=!0},i=function(){return Me(n,void 0,void 0,function(){var a,u,c,h,v,x,E,H;return Ge(this,function(U){switch(U.label){case 0:if(o)return[2];U.label=1;case 1:U.trys.push([1,6,7,8]),a=Cn(e),u=a.next(),U.label=2;case 2:return u.done?[3,5]:(c=u.value,[4,this.exchange(c)]);case 3:if(h=U.sent(),o)return[2];if(v=h.readUInt16BE(h.length-2),v!==ce.OK)throw new Se(v);r.next(h),U.label=4;case 4:return u=a.next(),[3,2];case 5:return[3,8];case 6:return x=U.sent(),E={error:x},[3,8];case 7:try{u&&!u.done&&(H=a.return)&&H.call(a)}finally{if(E)throw E.error}return[7];case 8:return[2]}})})};return i().then(function(){return!o&&r.complete()},function(a){return!o&&r.error(a)}),{unsubscribe:s}},t.prototype.setScrambleKey=function(e){},t.prototype.close=function(){return Promise.resolve()},t.prototype.on=function(e,r){this._events.on(e,r)},t.prototype.off=function(e,r){this._events.removeListener(e,r)},t.prototype.emit=function(e){for(var r,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(r=this._events).emit.apply(r,si([e],oi(n),!1))},t.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},t.prototype.setExchangeTimeout=function(e){this.exchangeTimeout=e},t.prototype.setExchangeUnresponsiveTimeout=function(e){this.unresponsiveTimeout=e},t.create=function(e,r){var n=this;return e===void 0&&(e=3e3),new Promise(function(o,s){var i=!1,a=n.listen({next:function(c){i=!0,a&&a.unsubscribe(),u&&clearTimeout(u),n.open(c.descriptor,e).then(o,s)},error:function(c){u&&clearTimeout(u),s(c)},complete:function(){u&&clearTimeout(u),i||s(new q(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),u=r?setTimeout(function(){a.unsubscribe(),s(new q(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},r):null})},t.prototype.decorateAppAPIMethods=function(e,r,n){var o,s;try{for(var i=Cn(r),a=i.next();!a.done;a=i.next()){var u=a.value;e[u]=this.decorateAppAPIMethod(u,e[u],e,n)}}catch(c){o={error:c}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}},t.prototype.decorateAppAPIMethod=function(e,r,n,o){var s=this;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return Me(s,void 0,void 0,function(){var u;return Ge(this,function(c){switch(c.label){case 0:if(u=this._appAPIlock,u)return[2,Promise.reject(new q("Ledger Device is busy (lock "+u+")","TransportLocked"))];c.label=1;case 1:return c.trys.push([1,,3,4]),this._appAPIlock=e,this.setScrambleKey(o),[4,r.apply(n,i)];case 2:return[2,c.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},t.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",t.ErrorMessage_NoDeviceFound="No Ledger device found",t}(),Nn=ii;l();d();var An=5;function ai(t){var e=p.Buffer.alloc(2);return e.writeUInt16BE(t,0),e}var ci={data:p.Buffer.alloc(0),dataLength:0,sequence:0},ui=function(t,e){return{makeBlocks:function(r){var n=p.Buffer.concat([ai(r.length),r]),o=e-5,s=Math.ceil(n.length/o);n=p.Buffer.concat([n,p.Buffer.alloc(s*o-n.length+1).fill(0)]);for(var i=[],a=0;a<s;a++){var u=p.Buffer.alloc(5);u.writeUInt16BE(t,0),u.writeUInt8(An,2),u.writeUInt16BE(a,3);var c=n.slice(a*o,(a+1)*o);i.push(p.Buffer.concat([u,c]))}return i},reduceResponse:function(r,n){var o=r||ci,s=o.data,i=o.dataLength,a=o.sequence;if(n.readUInt16BE(0)!==t)throw new q("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==An)throw new q("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new q("Invalid sequence","InvalidSequence");r||(i=n.readUInt16BE(5)),a++;var u=n.slice(r?5:7);return s=p.Buffer.concat([s,u]),s.length>i&&(s=s.slice(0,i)),{data:s,dataLength:i,sequence:a}},getReducedResult:function(r){if(r&&r.dataLength===r.data.length)return r.data}}},Dn=ui;l();d();var li=0,z=[],mr=function(t,e,r){var n={type:t,id:String(++li),date:new Date};e&&(n.message=e),r&&(n.data=r),fi(n)},di=function(t){return z.push(t),function(){var e=z.indexOf(t);e!==-1&&(z[e]=z[z.length-1],z.pop())}};function fi(t){for(var e=0;e<z.length;e++)try{z[e](t)}catch(r){console.error(r)}}typeof window<"u"&&(window.__ledgerLogsListen=di);var hi=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j=function(t,e,r,n){function o(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(h){try{c(n.next(h))}catch(v){i(v)}}function u(h){try{c(n.throw(h))}catch(v){i(v)}}function c(h){h.done?s(h.value):o(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},X=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(h){return u([c,h])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(h){c=[6,h],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},pi=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},mi=[{vendorId:re}],gi=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},je=function(){var t=navigator.hid;if(!t)throw new q("navigator.hid is not supported","HIDNotSupported");return t};function On(){return j(this,void 0,void 0,function(){var t;return X(this,function(e){switch(e.label){case 0:return[4,je().requestDevice({filters:mi})];case 1:return t=e.sent(),Array.isArray(t)?[2,t]:[2,[t]]}})})}function gr(){return j(this,void 0,void 0,function(){var t;return X(this,function(e){switch(e.label){case 0:return[4,je().getDevices()];case 1:return t=e.sent(),[2,t.filter(function(r){return r.vendorId===re})]}})})}function Ei(){return j(this,void 0,void 0,function(){var t,e;return X(this,function(r){switch(r.label){case 0:return[4,gr()];case 1:return t=r.sent(),t.length>0?[2,t[0]]:[4,On()];case 2:return e=r.sent(),[2,e[0]]}})})}var vi=function(t){hi(e,t);function e(r){var n=t.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(o){n.inputCallback=o})},n.onInputReport=function(o){var s=p.Buffer.from(o.data.buffer);n.inputCallback?(n.inputCallback(s),n.inputCallback=null):n.inputs.push(s)},n._disconnectEmitted=!1,n._emitDisconnect=function(o){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",o))},n.exchange=function(o){return j(n,void 0,void 0,function(){var s,i=this;return X(this,function(a){switch(a.label){case 0:return[4,this.exchangeAtomicImpl(function(){return j(i,void 0,void 0,function(){var u,c,h,v,x,E,H,U,vr;return X(this,function(ue){switch(ue.label){case 0:u=this,c=u.channel,h=u.packetSize,mr("apdu","=> "+o.toString("hex")),v=Dn(c,h),x=v.makeBlocks(o),E=0,ue.label=1;case 1:return E<x.length?[4,this.device.sendReport(0,x[E])]:[3,4];case 2:ue.sent(),ue.label=3;case 3:return E++,[3,1];case 4:return(H=v.getReducedResult(U))?[3,6]:[4,this.read()];case 5:return vr=ue.sent(),U=v.reduceResponse(U,vr),[3,4];case 6:return mr("apdu","<= "+H.toString("hex")),[2,H]}})})}).catch(function(u){throw u&&u.message&&u.message.includes("write")?(i._emitDisconnect(u),new wn(u.message)):u})];case 1:return s=a.sent(),[2,s]}})})},n.device=r,n.deviceModel=typeof r.productId=="number"?fr(r.productId):void 0,r.addEventListener("inputreport",n.onInputReport),n}return e.request=function(){return j(this,void 0,void 0,function(){var r,n;return X(this,function(o){switch(o.label){case 0:return[4,On()];case 1:return r=pi.apply(void 0,[o.sent(),1]),n=r[0],[2,e.open(n)]}})})},e.openConnected=function(){return j(this,void 0,void 0,function(){var r;return X(this,function(n){switch(n.label){case 0:return[4,gr()];case 1:return r=n.sent(),r.length===0?[2,null]:[2,e.open(r[0])]}})})},e.open=function(r){return j(this,void 0,void 0,function(){var n,o;return X(this,function(s){switch(s.label){case 0:return[4,r.open()];case 1:return s.sent(),n=new e(r),o=function(i){r===i.device&&(je().removeEventListener("disconnect",o),n._emitDisconnect(new In))},je().addEventListener("disconnect",o),[2,n]}})})},e.prototype.close=function(){return j(this,void 0,void 0,function(){return X(this,function(r){switch(r.label){case 0:return[4,this.exchangeBusyPromise];case 1:return r.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return r.sent(),[2]}})})},e.prototype.setScrambleKey=function(){},e.isSupported=gi,e.list=gr,e.listen=function(r){var n=!1;Ei().then(function(s){if(!s)r.error(new pr("Access denied to use Ledger device"));else if(!n){var i=typeof s.productId=="number"?fr(s.productId):void 0;r.next({type:"add",descriptor:s,deviceModel:i}),r.complete()}},function(s){r.error(new pr(s.message))});function o(){n=!0}return{unsubscribe:o}},e}(Nn),Er=vi;var Xe={[y.rejected]:"denied by the user",[y.ledgerBusy]:"Ledger Device is busy",[y.disConnected]:Ve,[y.lockedDevice]:"LockedDeviceError"},_i=t=>!!(y.wrongApp===t.message||t.name.match("TransportStatusError")||t.name.match("InvalidStateError")||t.name.match("Error")&&!t.message),xi=async()=>{let{hid:t}=window.navigator;return t.getDevices?(await t.getDevices()).filter(r=>r.vendorId===re)[0]:null},ye=class{constructor(){this.ledgerTransPorter=null}static async hasConnectedLedger(){return!!await xi()}static async requestLedgerDevice(){let{hid:e}=window.navigator,r=[];try{r=await e.requestDevice({filters:[{vendorId:re}]})}catch{r=[]}return r}async initLedgerTransPorter(){return this.ledgerTransPorter||(this.ledgerTransPorter=await Er.create()),this.ledgerTransPorter}throwTimeoutError(){return new Promise((e,r)=>{setTimeout(()=>{r(new Error("Timeout"))},Sr)})}async checkLedgerConnection(){if(await ye.hasConnectedLedger())await this.makeApp();else throw new Error(Ve)}handleErrors(e,r){throw e.message.match(Xe[y.rejected])?W.openModal(y.rejected):e.message.match(Xe[y.ledgerBusy])?W.openModal(y.ledgerBusy):e.message.match(Xe[y.disConnected])?W.openModal(y.disConnected):e.name===Xe[y.lockedDevice]?W.openModal(y.lockedDevice):_i(e)?W.openModal(y.wrongApp):e.name==="EthAppPleaseEnableContractData"||e.message.match("blind")?W.openModal(y.blindEnable,{network:Ce[r]}):Ir.error({title:e.message}),new Error(wr)}makeApp(){throw new Error("you have to override this method")}getAddress(){throw new Error("you have to override this method")}signTransaction(){throw new Error("you have to override this method")}signPersonalMessage(){throw new Error("you have to override this method")}signMessage(){throw new Error("you have to override this method")}},jd=ye;export{y as a,W as b,mn as c,Mu as d,mr as e,xi as f,jd as g};
//# sourceMappingURL=chunk-W4SQ6335.js.map
