import{a as Wi,d as bo,f as Ao}from"./chunk-BF6TFHGA.js";import{c as Ki}from"./chunk-57F7LIJM.js";import{a as Ji}from"./chunk-7OXXN2FT.js";import{b as qi,e as Eo,j as $r,o as zi,p as Yi,q as ht,s as $i,t as Qi,v as Zi}from"./chunk-RK7WST36.js";import{i as Oo}from"./chunk-7Q4IDC7V.js";import{b as Ie}from"./chunk-F57QKCZQ.js";import{D as ji,E as Gi,F as Ir,G as wr,H as yr,l as Re}from"./chunk-HIVYZXF3.js";import{a as J}from"./chunk-JALTSNOZ.js";import{C as Mi,V as Rt,Z as Ui}from"./chunk-4Y52FA3V.js";import{a as Yr,b as oe,c as mr,d as Xi}from"./chunk-B6WLGAPL.js";import{a as Bi}from"./chunk-ZYYACLV7.js";import{a as lr,c as Ue}from"./chunk-TQMC5UQS.js";import{a as Vi}from"./chunk-XNP3OGQC.js";import{a as ze}from"./chunk-7I4OPLNV.js";import{b as Fi,e as Ri}from"./chunk-YMYQJ726.js";import{b as Sr,d as gt,f as W,g as Le,i as qr,m as Kr,p as zr,s as Fe,t as Se,v as Co,x as vo,y as Pi}from"./chunk-FGRS6VIX.js";import{$ as jr,Ba as wi,Jb as re,Kb as Hr,L as fi,Mb as R,Nb as ki,Oa as So,Pa as Io,Qa as wo,Qb as Te,Rb as yo,Rc as Li,Sb as Ci,Ub as vi,Uc as Di,Vb as bi,Vc as Ni,Wb as xo,Xb as Ai,Yb as Ei,Zb as Oi,fa as To,fb as yi,ga as nt,ia as Tr,ja as gi,ka as hi,la as Gr,ma as Ti,na as Si,oa as Ii,qb as Wr,rb as xi,uc as ko,vd as m,wd as Vr}from"./chunk-INIQCRIO.js";import{a as Hi,c as K}from"./chunk-ZFBXO46L.js";import{a as ft}from"./chunk-6Z5HVUBK.js";import{A as Ur,E as Ft,G as Ae,N as _i,j as dr,l as Mr,m as ue,n as ui,q as pi,s as ci,x as Je,y as Pt}from"./chunk-ZBDGRK4Q.js";import{A as ct,H as Pe,I as _t,b as sr,g as ho,o as mi}from"./chunk-BJKBO23H.js";import{I as it,K as ai,L as fo,M as hr,U as di,aa as go,b as si,c as _o,ha as li,j as be,va as Rr}from"./chunk-XFTQD4B2.js";import{a as Br,t as Ke,u as ar,z as Nt}from"./chunk-ZFVABNQN.js";import{a as Q}from"./chunk-4QGZDIBD.js";import{b as A}from"./chunk-73B6GL3S.js";import{f as S,h as _,o as d,q as l}from"./chunk-Y5OH3DDZ.js";d();l();var pe=S(A()),Pr=S(Q());d();l();var en=S(A());var tn=({channel:o,onListenData:e,onSubscribeSuccess:t,onListenError:r,onListenReconnected:i})=>{(0,en.useEffect)(()=>{let n=Wi({isPri:!0,needLogin:!0,subscribeParams:[{channel:o}],onListenData:(s,a)=>{!s||a?.channel===o&&e(s,a)},onSubscribeSuccess:t,onListenError:r,onListenReconnected:i});return()=>{n?.()}},[])};var rn=o=>{tn({channel:bo.DEX_PUSH_ENGINE,...o})},on=o=>{tn({channel:bo.DEX_STRATEGY_ORDER,...o})};d();l();var nn=o=>{let{accountStore:e}=Hi();Mi({wallet_address:e.address,page_name:o})};d();l();Rr();d();l();async function sn(o){return await Ie.get("/priapi/v1/dx/trade/multi/myTrades",{params:o})}async function od(o){return await Ie.get("/priapi/v1/dx/trade/multi/buildCancelCallData",{params:o})}d();l();d();l();var an=o=>o.fromToken?{...o.fromToken,isFromToken:!0}:{chainLogoUrl:o.fromChainLogoUrl,tokenLogoUrl:o.fromIcon,tokenSymbol:o.fromTokenSymbol,chainName:o.fromChainName,chainId:o.fromChainId,tokenContractAddress:o.fromTokenAddress,tokenAmount:o.fromAmount,isFromToken:!0},Lo=o=>o.toToken?{...o.toToken,isToToken:!0}:{chainLogoUrl:o.toChainLogoUrl,tokenLogoUrl:o.toIcon,tokenSymbol:o.toTokenSymbol,chainName:o.toChainName,chainId:o.toChainId,tokenContractAddress:o.toTokenAddress,tokenAmount:o.toAmount,isToToken:!0},dn=o=>Number(o.exchangeDirection)===0?Lo(o):Number(o.exchangeDirection)===1?an(o):o.fromToken?.tokenIsCurrency&&!o.toToken?.tokenIsCurrency||o.fromTokenIsCurrency&&!o.toTokenIsCurrency?Lo(o):!o.fromToken?.tokenIsCurrency&&o.toToken?.tokenIsCurrency||!o.fromTokenIsCurrency&&o.toTokenIsCurrency?an(o):Lo(o);d();l();d();l();var fd=[0,2,3,4];var wd={["all"]:null,["market"]:[1],["limit"]:[6],["tp_sl"]:[201,202]};var ln={["swaptrade_tee_tag_cancelling"]:4,["swaptrade_history_cell_tag_processing"]:5,["swaptrade_tee_tag_cancelled"]:2,["swaptrade_tee_tag_completed"]:1,["swaptrade_tee_tag_failed"]:3,["swaptrade_bridge_cell_tag_ready_to_claim"]:6,["swaptrade_bridge_header_claiming"]:7};var mn={["swaptrade_tee_tag_failed"]:-1,["swaptrade_tee_tag_completed"]:1};d();l();var xr={Failed:"-1",Waiting:"1",Pending:"2",Succeed:"3"},Bt={ESTIMATE:1,EXCEED_ESTIMATE:2,UNTIMED:3,TIMEOUT:4},un={FromIsBtcChain:1,FromIsNotBtcChain:2,FromIsEthChainFacetCoin:3},ie={SINGLE_TIPS:1,GAS:2,BRIDGE:3,BLOCK_FROM:4,BLOCK_BRIDGE:5,BLOCK_TO:6},Ye={SINGLE:1,CROSS_FROM_SWAP:2,CROSS_BRIDGE_SWAP:3,CROSS_TO_SWAP:4};d();l();var Qr={SUCCESS:"success",FAIL:"fail",REJECT:"reject",TXHASH:"txhash",APPROVE:"approve",CONNECT:"connect",APP_STATUS:"appStatus",CLOSE:"close"},js=Object.values(Qr),No=class{constructor(){_(this,"toast",!0);_(this,"setToast",e=>{this.toast=e});_(this,"chainList",[]);_(this,"setChainList",e=>{this.chainList=e});_(this,"quote",{});_(this,"updateQuote",e=>{this.quote={...this.quote,...e}});_(this,"portal","");_(this,"setPortal",e=>{this.portal=e||""});_(this,"swapParams",{});_(this,"setSwapParams",({fromAmount:e,...t})=>{this.swapParams={...t,fromAmount:qr(e)?e:"1"}});_(this,"status","");_(this,"reset",()=>{this.to={},this.from={},this.events={},this.swapParams={}});_(this,"on",(e,t)=>{if(!js.includes(e))return new Error("Not support event!!");if(typeof t!="function")return{};this.events[e]||(this.events[e]=[]);let r=`${e}${this.events[e].length}`;return this.events[e].push({cb:t,eventId:r}),{eventId:r,remove:()=>{this.remove(e,r)}}});_(this,"emit",(e,...t)=>{let r=this.events[e];r&&r.length&&r.forEach(i=>{let{cb:n}=i;n&&n.apply(this,t)})});_(this,"remove",(e,t="")=>{let r=this.events[e];r&&t&&r.forEach((i,n)=>{i.eventId===t&&r.splice(n,1)})});_(this,"removeAll",()=>{this.events={}});this.events={}}static init(e){return this.instance||(this.instance=new No(e)),this.instance}},Xr=No;_(Xr,"instance",null);var Gs=new Xr,Do=Gs;d();l();var Tt=({fromAmount:o,fromSymbol:e,equal:t="=",toAmount:r,toSymbol:i,leftNumber:n=void 0,rightNumber:s=void 0})=>Je.formatRange({leftNumber:n??Je.formatCurrency(o,{code:e,isSymbol:!1}),sign:` ${t} `,rightNumber:s??Je.formatCurrency(r,{code:i,isSymbol:!1})}),St=({fromAmount:o,fromSymbol:e,equal:t="=",toAmount:r,toSymbol:i,leftNumber:n=void 0,rightNumber:s=void 0})=>Je.formatRange({leftNumber:n??Je.formatCurrency(o,{code:oe(e),isSymbol:!1}),sign:` ${t} `,rightNumber:s??Je.formatCurrency(r,{code:oe(i),isSymbol:!1})}),kr=({amount:o,symbol:e,extra:t})=>t?`${o} ${e} ${t}`:`${o} ${e}`,Ze=(o,e)=>ci.isRTL?`${e}${o}`:`${o}${e}`;d();l();var Ws=(o,e=0,t=0)=>!o||typeof o!="string"?re:o.length<=e+t||e===0||t===0?o:`${o.slice(0,e)}...${o.slice(-t)}`,ur=o=>Ws(o,6,4);d();l();d();l();var st=S(A());function Mt({type:o,title:e,exploreUrl:t,onURLClick:r,showClose:i,desc:n,id:s}){let a=s?`notification-${s}`:void 0,u=t?st.default.createElement(Ue,{className:"color-959dad",href:t,onClick:r},st.default.createElement("div",{className:"inline-flex align-items-center"},st.default.createElement("div",{className:"font-12 color-0569ff font-bold"},m("swaptrade_toast_anchor_view_in_explorer")),st.default.createElement(J,{className:"okx-defi-dex-link color-0569ff",size:20}))):void 0,p=3;o==="success"?Pe.success({title:e,desc:n||u,duration:p,placement:Pe.DIRECTION.top,id:a,enableLottie:!0}):o==="failed"?Pe.error({title:e,desc:n||u,duration:p,placement:Pe.DIRECTION.top,id:a,enableLottie:!0}):o==="info"?Pe.info({title:e,desc:n||u,duration:p,showClose:i,placement:Pe.DIRECTION.top}):o==="expired"?Pe.info({title:e,desc:n||u,duration:p,icon:"okds-clock",placement:Pe.DIRECTION.top}):o==="warn"?Pe.warn({title:e,desc:n||u,duration:p,showClose:i,placement:Pe.DIRECTION.top}):o==="pending"&&Pe.pending({title:e,desc:n||u,showClose:i,duration:p,placement:Pe.DIRECTION.top,id:a,enableLottie:{speed:3}})}function It({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null,orderId:i}){Mt({type:"success",title:o,exploreUrl:e,onURLClick:t,desc:r,id:i})}function pr({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null,orderId:i}){Mt({type:"failed",title:o,exploreUrl:e,onURLClick:t,desc:r,id:i})}function Po({title:o,exploreUrl:e="",onURLClick:t=()=>{},showClose:r=!0,desc:i=null}){Mt({type:"info",title:o,exploreUrl:e,onURLClick:t,showClose:r,desc:i})}function pn({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null}){Mt({type:"expired",title:o,exploreUrl:e,onURLClick:t,desc:r})}function cn({title:o,exploreUrl:e="",onURLClick:t=()=>{},showClose:r=!0,desc:i=null}){Mt({type:"warn",title:o,exploreUrl:e,onURLClick:t,showClose:r,desc:i})}function _n(o,e){let t=()=>{Ki(),e.onClaim(o)},r=m("swaptrade_bridge_alert_title_ready_to_claim"),i=st.default.createElement(st.default.Fragment,null,st.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},m("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:o.toChainName,token:o.toTokenSymbol})),st.default.createElement(sr,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},size:Nt.SIZE.xs,onClick:t},m("commonall_modal_btn_claim")));Mt({type:"success",title:r,desc:i})}function fn({title:o,exploreUrl:e="",onURLClick:t=()=>{},desc:r=null,orderId:i}){Mt({type:"pending",title:o,exploreUrl:e,onURLClick:t,desc:r,id:i})}function hn(o){let e=[];if(o){let{status:r,orderId:i,fromChildOrderDetailVO:n,failureReason:s}=o,{fromAmount:a,fromTokenSymbol:u,toAmount:p,toTokenSymbol:g,failureReason:f,exploreUrl:y}=n||{},x=`${i}_${r}`;if(e.includes(x))return;let w=()=>{e.unshift(x),e=e.slice(0,20)};r===Te.OPEN?(w(),Po({title:m("swaptrade_orders_notif_limitorder_submitted",{sellValue:Le(a,{needBillionMillionUnit:!0}),sellToken:oe(u),receiveValue:Fe(p),receiveToken:oe(g)})})):r===Te.SUCCEED?(w(),It({title:m("swaptrade_orders_notif_limitorder_success",{sellValue:Le(a,{needBillionMillionUnit:!0}),sellToken:u,receiveValue:Fe(p),receiveToken:g}),exploreUrl:y})):r===Te.FAILED&&s?(w(),pr({title:m("swaptrade_orders_notif_limitorder_failed",{sellValue:Le(a,{needBillionMillionUnit:!0}),sellToken:oe(u),receiveValue:Fe(p),receiveToken:oe(g)})})):r===Te.FAILED&&f?(w(),pr({title:m("swaptrade_orders_notif_limitorder_failed",{sellValue:Le(a,{needBillionMillionUnit:!0}),sellToken:oe(u),receiveValue:Fe(p),receiveToken:oe(g)}),exploreUrl:y})):r===Te.CANCELLED?(Po({title:m("swaptrade_orders_notif_limitorder_canceled",{sellValue:Le(a,{needBillionMillionUnit:!0}),sellToken:oe(u),receiveValue:Fe(p),receiveToken:oe(g)})}),w()):r===Te.EXPIRED&&(pn({title:m("swaptrade_orders_notif_limitorder_expired",{sellValue:Le(a,{needBillionMillionUnit:!0}),sellToken:oe(u),receiveValue:Fe(p),receiveToken:oe(g)}),exploreUrl:y}),w())}}d();l();var cr=class{constructor(e){_(this,"orderId","--");_(this,"chainId","--");_(this,"defiPlatformInfo","--");_(this,"fromAmount","--");_(this,"fromTokenSymbol","--");_(this,"price","--");_(this,"status","--");_(this,"time","--");_(this,"toAmount","--");_(this,"toTokenSymbol","--");_(this,"userWalletAddress","--");_(this,"exploreUrl","--");_(this,"isExchanged",!1);_(this,"swapType","--");_(this,"toChainId","--");Mr(this),Object.assign(this,e)}get computedFromAmount(){return`${Le(this.fromAmount,{needPlaceholder:!0,needBillionMillionUnit:!0})}`}get computedToAmount(){return W(this.toAmount)}get computedToNetWorkPath(){let{fromChainName:e,toChainName:t}=this;return e===t?t:`${e} ${m("swaptrade_order_info_label_network_to")} ${t}`}updateFromJson(e){Object.assign(this,e)}toJSON(){return dr(this)}};var{BigNumber:Fo}=ft,Hs=20,Jr=[],c={Pending:"0",Quick:"5",Failed:"-1",Succeed:"1",Waiting:"100",SpeedingUp:"-4",Canceling:"-3",Canceled:"-2",PendingWithdrawn:"10",PendingCanRedeem:"11",PendingRedeeming:"12",ReadyToClaim:"200",Claiming:"201",ClaimFailed:"202"},we={EXPIRED:-7,CANCELLING:-3,CANCELLED:-2,FAILED:-1,TRADING:0,COMPLETED:1,CREATING:2,ACTIVE:3,SUSPENDED:4},{Pending:Vs,SpeedingUp:qs,Canceling:Ks,PendingWithdrawn:zs,PendingCanRedeem:Ys,PendingRedeeming:$s,ReadyToClaim:Xs,Claiming:Qs,ClaimFailed:Js}=c,Zs=[Vs,qs,Ks,zs,Ys,$s,Xs,Qs,Js],I={SingleChain:"1",CrossBridge:"2",CrossChain:"3",FromBridge:"3-1",BridgeTo:"3-2",FromBridgeTo:"3-3",GasStation:"4",GasStationCross:"5",LimitOrder:"6",MemeMode:"7"},yt={TEE_SA_MARKET:1,TEE_SA_LIMIT_ORDER:6,TEE_SA_TP_ORDER:201,TEE_SA_SL_ORDER:202},Zr={COMMON:1,BUY_DIP:2,TAKE_PROFIT:3,STOP_LOSS:4,CHASE_HIGH:5},ea={[Zr.BUY_DIP]:"swaptrade_tee_tag_buy_below",[Zr.TAKE_PROFIT]:"swaptrade_tee_tag_take_profit",[Zr.STOP_LOSS]:"swaptrade_tee_tag_stop_loss",[Zr.CHASE_HIGH]:"swaptrade_tee_tag_buy_above"},ta=o=>ea[o]||"";var Be={from:1,bridge:2,fromSwapTimeout:3},ra={FAIL:"-1",NO_SELECTED:"0",WAITING_FOR_FINAL:"1",WAITING_FOR_TRANSFER:"2",TRANSFER_SUCCEED:"3"},{NO_SELECTED:oa,TRANSFER_SUCCEED:Tn}=ra,_r=10,Sn={curPageNum:1,pageSize:_r,total:0,lastCreateTime:null,cursor:null},ia={[I.SingleChain]:"swaptrade_order_swap_trade_type_swap",[I.CrossBridge]:"swaptrade_order_swap_trade_type_bridge",[I.CrossChain]:"swaptrade_order_swap_trade_type_cross_chain",[I.GasStation]:"swaptrade_dialog_tab_gasstation",[I.GasStationCross]:"swaptrade_dialog_tab_gasstation",[I.LimitOrder]:"swaptrade_dialog_tab_gasstation",[I.MemeMode]:"swaptrade_order_swap_trade_type_swap"},na={[yt.TEE_SA_LIMIT_ORDER]:(o,e)=>o?"swaptrade_tee_tab_label_limit_price":e?"swaptrade_tee_tab_label_limit_rate":"",[yt.TEE_SA_MARKET]:"swaptrade_tee_tab_label_market",[yt.TEE_SA_TP_ORDER]:"swaptrade_tee_tab_label_take_profit",[yt.TEE_SA_SL_ORDER]:"swaptrade_tee_tab_label_stop_loss"},In=(o,e,t)=>o===yt.TEE_SA_LIMIT_ORDER?e?"swaptrade_tee_tab_label_limit_price":t?"swaptrade_tee_tab_label_limit_rate":"swaptrade_orders_text_limit_order":na[o];function wt({childOrderId:o,status:e,exploreUrl:t,orderFailReason:r,toastGuideUrl:i,fromTokenIcon:n,fromChainLogoUrl:s,fromAmountIn:a,fromTokenSymbol:u,fromChainName:p,toTokenIcon:g,toChainLogoUrl:f,toAmountOut:y,toTokenSymbol:x,toChainName:w,originalTokenSymbol:C,refundAmount:k,refundSymbol:E,refundChain:O,errorCode:v,guideUrl:L},P,N={}){let F=P==="from",G=F?a:y,z=k?W(k,{needPlaceholder:!0}):"",q=F?Le(a):W(y,{needBillionMillionUnit:!1});N?.useCurrencyInputFormat&&(q=Le(G));let le=N?.isMemeModeOrder&&N?.assetDelay&&e===c.Succeed?"999999":v;return{key:`${o}${P}`,status:e,exploreUrl:t,orderFailReason:r,toastGuideUrl:i,originalTokenSymbol:C,fromChainName:p,fromTokenSymbol:u,toChainName:w,chainName:F?p:w,chainLogo:F?s:f,symbol:F?u:x,symbolLogo:F?n:g,amount:G==="-1"?"":q,errorCode:le,guideUrl:L,refund:{amount:z,symbol:E,chain:O},...N}}var sa={[we.CANCELLED]:c.Canceled,[we.COMPLETED]:c.Succeed,[we.FAILED]:c.Failed,[we.TRADING]:c.Pending,[we.CREATING]:c.Pending,[we.ACTIVE]:c.Pending,[we.SUSPENDED]:c.Pending,[we.EXPIRED]:c.Failed,[we.CANCELLING]:c.Canceling},aa=o=>o.map(e=>si(e)?{...e,time:e.tradeTime,fromIcon:be(e,"fromToken.tokenLogoUrl"),toIcon:be(e,"toToken.tokenLogoUrl"),fromTokenSymbol:be(e,"fromToken.tokenSymbol"),toTokenSymbol:be(e,"toToken.tokenSymbol"),fromAmount:be(e,"fromToken.tokenAmount"),toAmount:be(e,"toToken.tokenAmount"),fromChainName:e.chainName,toChainName:e.chainName,status:sa[e.status]}:e),Ro=class{constructor(e){_(this,"detail",{data:null,loading:!1,error:!1});_(this,"history",{list:[],loading:!1,loadMore:!1,hasMore:!1,error:null,pageInfo:{...Sn},chainId:-1,status:null});_(this,"limitHistory",{...this.history});_(this,"limitDetail",{...this.detail});_(this,"pendingOrders",[]);_(this,"modal",{orderId:"",visible:!1,defaultOrderId:""});_(this,"expireTime",0);_(this,"fromStepCountDownTimeGroup",{estimatedTime:0,estimatedTimeTotal:0});_(this,"bridgeStepCountDownTimeGroup",{estimatedTime:0,originEstimatedTime:0});_(this,"timeoutTimestamp",0);_(this,"timer",null);_(this,"timeOutTimer",null);_(this,"detailShowSource","");_(this,"showModal",(e,{tab:t="",isLimit:r,isBridge:i,orderData:n,strategyMode:s,orderType:a}={})=>{let u=typeof e=="string"?e:"";if(this.modal={visible:!0,orderId:u,defaultOrderId:u,isLimit:r,isBridge:i,orderData:n,strategyMode:s,orderType:a},t){this.setHistoryTab(t);return}let p=ki?.[this.commonStore?.currentTab]??R.SWAP;this.setHistoryTab(p)});_(this,"updateModal",(e,{orderType:t=void 0,strategyMode:r=void 0,orderData:i=void 0,isLimit:n=void 0,isBridge:s=void 0}={})=>{this.modal.orderId=typeof e=="string"?e:"",this.modal.orderType=t,this.modal.strategyMode=r,this.modal.orderData=i,this.modal.isLimit=n,this.modal.isBridge=s});_(this,"closeModal",()=>{this.modal.visible=!1,this.setDetailShowSource()});_(this,"setDetailShowSource",(e="")=>{this.detailShowSource=e});_(this,"setDetail",e=>{this.detail={...this.detail,...e}});_(this,"setLimitDetail",e=>{this.limitDetail={...this.limitDetail,...e}});_(this,"getStepCountDownTimeGroup",({estimatedTime:e,originEstimatedTime:t,expireTime:r,extraEstimatedTime:i,extraOriginEstimatedTime:n})=>{let s=Math.min(e,r),a=t||e;return this.computedMainOrderType===I.BridgeTo&&(s=e+Math.min(i,r),a+=n),{estimatedTime:s,estimatedTimeTotal:a}});_(this,"setSwapExpireTime",e=>{let t=!this.computedCurrentHistoryTabIsLimit&&Number(e.estimatedTime),r=Number(e.fromEstimatedTime)||0,i=Number(e.bridgeEstimatedTime)||0,n=Number(e.originFromEstimatedTime)||0,s=Number(e.originBridgeEstimatedTime)||0;this.fromStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:t,estimatedTime:r,originEstimatedTime:n}),this.bridgeStepCountDownTimeGroup=this.getStepCountDownTimeGroup({expireTime:t,estimatedTime:i,originEstimatedTime:s,extraEstimatedTime:r,extraOriginEstimatedTime:n}),this.expireTime=t,this.expireTime>0&&(this.timer=setInterval(()=>{let a=this.computedStepStatus.bridgeStatus,u=this.computedStepStatus.fromSwapStatus,p=this.detail?.data?.status===c.Canceling,g=f=>f===c.SpeedingUp||f===c.Pending;this.expireTime<1?(clearInterval(this.timer),this.bridgeStepCountDownTimeGroup.estimatedTime=0,this.fromStepCountDownTimeGroup.estimatedTime=0):(this.expireTime-=1,this.fromStepCountDownTimeGroup.estimatedTime>0&&g(u)&&!p&&(this.fromStepCountDownTimeGroup.estimatedTime-=1),this.bridgeStepCountDownTimeGroup.estimatedTime>0&&g(a)&&!p&&(this.bridgeStepCountDownTimeGroup.estimatedTime-=1))},1e3))});_(this,"setSwapTimeout",e=>{this.timeOutTimer&&clearInterval(this.timeOutTimer),this.timeoutTimestamp=Date.now()>e?0:e||0,this.timeoutTimestamp>0&&(this.timeOutTimer=setInterval(()=>{Date.now()>this.timeoutTimestamp&&(this.timeoutTimestamp=0,clearInterval(this.timeOutTimer))},1e3))});_(this,"removePendingOrder",e=>{let t=this.pendingOrders,r=t.findIndex(({orderId:n})=>n===e);r>-1&&t.splice(r,1),this.setPendingOrders([...t])});_(this,"updateDetailByData",e=>{let t=this.detail.data,r=i=>i&&{...i,fromAmountIn:i?.fromAmount,toAmountOut:i?.toAmount};if(t&&e&&e.orderId===t.orderId){let{fromChildOrder:i,bridgeChildOrder:n,toChildOrder:s}=e;this.setDetail({data:di(t,{...e,fromChildOrderDetailVo:r(i),bridgeChildOrderDetailVo:r(n),toChildOrderDetailVo:r(s)})})}});_(this,"fetchSwapHistoryList",async e=>{let{pageNum:t,...r}=e||{},n=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[s,a]=await Ae(sn({...r,pageSize:_r,accountId:this.accountStore.computedAccountId,...n}));if(s)return Promise.reject(s);let{dataList:u=[],cursor:p,hasNext:g}=a?.data||{};return{dataList:aa(u),pageSize:_r,cursor:p,hasMore:g}});_(this,"fetchBridgeHistoryList",async e=>{let{pageNum:t,chainId:r,...i}=e||{},s=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{},[a,u]=await Ae(Ie.get(Oi,{params:{...i,fromChainId:r,pageSize:_r,accountId:this.accountStore.computedAccountId,...s}}));if(a)return Promise.reject(a);let{dataList:p=[]}=u?.data||{};return{dataList:p,pageSize:_r,lastCreateTime:p.length?p[p.length-1].time:null,hasMore:p.length===_r}});_(this,"fetchLimitHistoryList",async(e={})=>{let t={...e,pageSize:this.limitHistory.pageInfo.pageSize,accountId:this.accountStore.computedAccountId,statusType:yo.ALL};e.pageNum||(t.pageNum=1);let[r,i]=await Ae(Ie.get(xo,{params:t}));return r?Promise.reject(r):i?.data||{}});_(this,"fetchHistoryFn",{[R.SWAP]:this.fetchSwapHistoryList,[R.BRIDGE]:this.fetchBridgeHistoryList,[R.LIMIT_ORDER]:this.fetchLimitHistoryList});_(this,"fetchHistory",async(e={},t=!1)=>{if(!this.historyTab)return;let r=this.accountStore.computedAccountWalletAddressesArray,i=this.fetchHistoryFn[this.historyTab];if(this.computedIsLimitOrSwapLabel.loading||this.computedIsLimitOrSwapLabel.loadMore||it(r)||!i)return;this.computedIsLimitOrSwapLabel.chainId!==-1&&Object.assign(e,{chainId:this.computedIsLimitOrSwapLabel.chainId}),this.computedStatusFilterValue&&Object.assign(e,{status:this.computedStatusFilterValue}),this.setSwapOrLimitHistory(t?{loadMore:!0}:{loading:!0});let[n,s]=await Ae(i(e));if(this.setSwapOrLimitHistory(t?{loadMore:!1}:{loading:!1}),n){this.setSwapOrLimitHistory({error:n});return}this.setSucResult(s,t)});_(this,"setSucResult",(e,t)=>{let{dataList:r,pageSize:i,totalCount:n,curPageNum:s,maxPageNum:a,lastCreateTime:u,hasMore:p,cursor:g}=e,f=t?this.computedIsLimitOrSwapLabel.list.concat(r):r;this.setSwapOrLimitHistory({list:f,pageInfo:{...this.computedIsLimitOrSwapLabel.pageInfo,total:n,pageSize:i,curPageNum:s,lastCreateTime:u,cursor:g},error:null,hasMore:p??a>s})});_(this,"updateSwapAndLimitDataList",e=>{this.computedIsLimitOrSwapLabel.list.forEach((t,r)=>{String(t?.orderId)===String(e?.orderId)&&(this.computedIsLimitOrSwapLabel.list[r]={...t,...e})})});_(this,"setChainId",async e=>{this.resetHistoryList(),this.setSwapOrLimitHistory({chainId:e}),await this.fetchHistory()});_(this,"setStatus",async e=>{this.resetHistoryList(),this.setSwapOrLimitHistory({status:e}),await this.fetchHistory()});_(this,"resetHistoryList",()=>{this.setSwapOrLimitHistory({pageInfo:{...Sn},list:[],error:null,loading:!1,loadMore:!1,hasMore:!1,chainId:-1,status:null})});_(this,"getLocalPriceFee",(e,t,r=!0)=>{let{symbol:i,usdToThisRate:n}=this.commonStore.nowCurrencyUnit||{};if(e&&t&&n){let s=ft.mul(ft.mul(e,t),n);return r?`(${gt(s,i)})`:gt(s,i)}return""});_(this,"getServiceFeeInfo",e=>{let{currencyConversionWithSymbol:t}=this.commonStore,{serviceFee:r,serviceFeeUsd:i,serviceFeeTokenSymbol:n,isDisplayServiceFee:s,isDisplayUsdFee:a,discountedServiceFeeRate:u}=go(e,"serviceFee","serviceFeeUsd","serviceFeeTokenSymbol","isDisplayServiceFee","isDisplayUsdFee","discountedServiceFeeRate"),p=Eo({serviceFee:r,serviceFeeUsd:i,tokenSymbol:n,formatServiceFeeUsd:t,discountedServiceFeeRate:u,isDisplayUsdFee:a}),g=String(s)==="1";return{formattedServiceFee:p,shouldDisplayServiceFee:g}});_(this,"getBridgeFeeInfo",e=>{let{currencyConversionWithSymbol:t}=this.commonStore,{toSwapServiceFee:r,toSwapServiceFeeUsd:i,toSwapServiceFeeTokenSymbol:n}=go(e,"toSwapServiceFee","toSwapServiceFeeUsd","toSwapServiceFeeTokenSymbol"),s=Eo({serviceFee:r,serviceFeeUsd:i,tokenSymbol:n,formatServiceFeeUsd:t}),a=qi(e);return{formattedServiceFee:s,shouldDisplayServiceFee:a}});_(this,"getDexGasStationFeeDetailTip",(e,t)=>{if(!this.computedIsGasStation||t!==c.Succeed||!e)return"";let{approveTokenAmount:r,gasTokenPriceUSD:i,gasTokenSymbol:n,swapGasFeeAmount:s,transferApproveTokenGasFeeAmount:a}=e||{};return m("swaptrade_swapforgas_tooltips_desc_gasswap_netfee",{value1:this.getLocalPriceFee(r,i,!1),approveFee:W(r),token1:n,value2:this.getLocalPriceFee(a,i,!1),transferFee:W(a),token2:n,value3:this.getLocalPriceFee(s,i,!1),swapFee:W(s),token3:n})});_(this,"checkSwapAgainBtn",({isOrderFinalized:e,isNotGasStationTrade:t,isMemeModeOrder:r})=>{if(Re()||Oo())return!1;let i=t&&e;return r?i&&nt():i});_(this,"emitOrder",e=>{if(e){let{status:t,orderId:r,strategyMode:i,orderType:n}=e;t===c.Succeed||t===Te.SUCCEED?Do.emit(Qr.SUCCESS,{status:0,data:dr(e),message:Ft("transaction success")}):(t===c.Failed||t===Te.FAILED)&&Do.emit(Qr.FAIL,{data:{orderId:r,strategyMode:i,orderType:n},status:-1,message:Ft("transaction fail")})}});_(this,"onSocket",(e,t=!0)=>{(e?.type==="1"||e?.type==="3")&&e?.dexData&&e.dexData.type!=="approve"&&e.dexData.type!=="register"&&(this.updateSwapAndLimitDataList(e.dexData),this.updateSwapDetail(e.dexData),this.updateLimitOuterOrderList(e.dexData),this.updatePendingOrdersByData(e.dexData),this.emitOrder(e.dexData),this.toastSwapAndLimitOrder(t,e.dexData)),e?.type==="5"&&e?.dexData&&e.dexData.type!=="approve"&&e.dexData.type!=="register"&&t&&this.quickToastSwapOrder(e.dexData)});_(this,"onLimitDetailSocket",e=>{this.updateLimitDetailByData(e)});_(this,"updateSwapDetail",e=>{e.swapTradeType!==I.LimitOrder&&this.updateDetailByData(e)});_(this,"updateLimitOuterOrderList",e=>{this.commonStore?.computedCurrentTabIsLimit&&this.rootStore.limitOrderListStore.updateLimitOuterListData(e)});_(this,"toastSwapAndLimitOrder",(e,t)=>{e&&!this.commonStore?.computedCurrentTabIsLimit?this.toastOrder(t):e&&this.commonStore?.computedCurrentTabIsLimit&&hn(t)});_(this,"quickToastSwapOrder",({status:e,receiveTokenStatus:t,transactionHash:r,orderId:i})=>{let n=t!==Tn;if(e===c.Succeed&&n){if(Ir(r),wr(r))return;yr(r);let s=Gi.getDuration(i),a=s?Vr("swaptrade_toast_msg_transaction_success_time",{time:React.createElement(ji,{duration:s})}):m("swaptrade_meme_broadcast_toast_trade_successful");It({title:a,orderId:i})}});_(this,"onSocketError",async()=>{let{computedAccountId:e}=this.accountStore,{visible:t,orderId:r,strategyMode:i,isLimit:n,orderType:s}=this.modal;if(!t){let[a]=await Ae(this.updatePendingOrders(e));a&&pi.error("history detail onSocketError",{error:a})}t&&r&&await Ae(this.updateDetail({orderId:r,strategyMode:i,silent:!0,isLimit:n,orderType:s}))});_(this,"historyTab","");_(this,"setHistoryTab",e=>{this.historyTab=e});_(this,"dialogVisible",!1);_(this,"setDialogVisible",e=>{this.dialogVisible=e});_(this,"dialogOrderId","");_(this,"setDialogOrderId",e=>{this.dialogOrderId=e});_(this,"openDialog",e=>{e&&(this.setDialogVisible(!0),this.setDialogOrderId(e))});_(this,"closeDialog",()=>{this.setDialogVisible(!1),this.setDialogOrderId("")});_(this,"setDefaultOrderId",e=>{this.modal.defaultOrderId=e});Mr(this,{},{autoBind:!0}),this.rootStore=e,this.commonStore=e.commonStore,this.accountStore=e.accountStore,this.fromToStore=e.fromToStore,this.tokenModalStore=e.tokenModalStore}get computedHistoryList(){return this.history.list.map(e=>new cr(dr(e)))}get computedLimitHistoryList(){return this.limitHistory.list.map(e=>new cr(dr(e)))}get computedTimeGroup(){let e=this.computedCurrentHistoryTabIsLimit?this.computedLimitHistoryList:this.computedHistoryList,t=this.computedCurrentHistoryTabIsLimit?"createTime":"time";return e.reduce((r,i)=>{let n=r.find(s=>s.time===Pt(i?.[t],{format:"yyyyMMdd"}));return n?n.list.push(i):r.push({time:Pt(i?.[t],{format:"yyyyMMdd"}),list:[i]}),r},[])}get noData(){return this.computedCurrentHistoryTabIsLimit?!this.computedLimitHistoryList.length:!this.computedHistoryList.length}setHistory(e){this.history={...this.history,...e}}setLimitHistory(e){this.limitHistory={...this.limitHistory,...e}}setPendingOrders(e){this.pendingOrders=e}fetchSwapOrderDetail({orderId:e}){return Ie.get(vi,{params:{orderId:e}}).then(({data:t})=>t)}fetchLimitOrderSimpleInfo({orderId:e,strategyMode:t,orderType:r,initialLimitDetail:i}){return Ie.get(Ei,{params:{orderId:e,strategyMode:t,orderType:r}}).then(({data:n})=>{let s={...i};return["approveMethod","executionHistoryList","transactionType","providerInfo","executionHistoryShowMaxNum","routeSelection"].forEach(a=>{n[a]&&(s[a]=n[a])}),s})}fetchLimitOrderDetail({orderId:e,strategyMode:t,orderType:r}){return Ie.get(Ai,{params:{orderId:e,strategyMode:t,orderType:r}}).then(({data:i})=>i)}fetchDetail({orderId:e,strategyMode:t,isLimit:r,orderType:i,initialLimitDetail:n}){if(r??this.computedCurrentHistoryTabIsLimit){let s={orderId:e,strategyMode:t,orderType:i};return n?this.fetchLimitOrderSimpleInfo({...s,initialLimitDetail:n}):this.fetchLimitOrderDetail(s)}return this.fetchSwapOrderDetail({orderId:e})}fetchPendingOrders(e){let r=this.rootStore.widgetConfigStore?.getOrdersQueryParams()||{};return Ie.post(bi,{accountId:e,...r}).then(({data:i})=>i)}async updatePendingOrders(e){if(ui())return;let t;if(this.commonStore?.computedCurrentTabIsLimit){let[,r]=await Ae(Ie.get(xo,{params:{accountId:this.accountStore.computedAccountId,chainId:"",pageNum:1,pageSize:10,statusType:yo.PENDING}}));t=r?.data?.dataList}else{let[,r]=await Ae(this.fetchPendingOrders(e));t=r}Array.isArray(t)?this.setPendingOrders(t):this.setPendingOrders([])}updatePendingOrdersByData(e){if(!e)return;let t=this.pendingOrders,r=t.findIndex(({orderId:s})=>s===e.orderId),i=r>-1,n=e.swapTradeType===I.LimitOrder?e.status===Te.PENDING:Zs.includes(e.status);n?(i&&t.splice(r,1),t.push(e)):!n&&i&&t.splice(r,1),this.setPendingOrders([...t])}async updateDetail({orderId:e,silent:t,strategyMode:r,isLimit:i,orderType:n,initialLimitDetail:s}){t||this.setLimitOrSwapDetail({data:null,loading:!0,error:!1},i);let[a,u]=await Ae(this.fetchDetail({orderId:e,strategyMode:r,isLimit:i,orderType:n,initialLimitDetail:s}));clearInterval(this.timer),a?this.setLimitOrSwapDetail({data:null,error:!0},i):u?(this.setLimitOrSwapDetail({data:u,error:!1},i),this.setSwapExpireTime(u),this.setSwapTimeout(Number(u.timeoutTimestamp))):this.setLimitOrSwapDetail({data:null,error:!1},i),this.setLimitOrSwapDetail({loading:!1},i)}setLimitOrSwapDetail(e,t){t??this.computedCurrentHistoryTabIsLimit?this.setLimitDetail(e):this.setDetail(e)}updateLimitDetailByData(e){let t=this.limitDetail.data;if(hr(e)||it(e)||!e?.orderId||t?.orderId!==e.orderId)return;let r={...t};if(hr(e.orderType)||(r.orderType=e.orderType),hr(e.userWalletAddress)||(r.userWalletAddress=e.userWalletAddress),hr(e.status)||(r.status=e.status),!e.extraInfo){this.setLimitDetail({data:r});return}if(e.extraInfo.type==="7"&&e.extraInfo.args){let{toTokenPrice:i,toTokenAmount:n}=e.extraInfo.args;r.toToken={...e.toToken,tokenAmount:n,tokenUsd:i},this.setLimitDetail({data:r});return}if(e.extraInfo.type==="3"&&e.extraInfo.args){let{failCode:i}=e.extraInfo.args;r.failCode=i,this.setLimitDetail({data:r})}}get computedStatusFilterValue(){return this.historyTab===R.SWAP?mn[this.computedIsLimitOrSwapLabel.status]:ln[this.computedIsLimitOrSwapLabel.status]}get computedIsLimitOrSwapLabel(){return this.computedCurrentHistoryTabIsLimit?this.limitHistory:this.history}setSwapOrLimitHistory(e){this.computedCurrentHistoryTabIsLimit?this.setLimitHistory(e):this.setHistory(e)}get computedIsSingleChain(){return[I.SingleChain,I.GasStation,I.MemeMode].includes(be(this,"detail.data.swapTradeType",""))}get computedIsGasStation(){return[I.GasStation,I.GasStationCross].includes(be(this,"detail.data.swapTradeType",""))}get computedMainOrderType(){let e=this.detail.data,t="";if(!e)return t;let{swapTradeType:r,hiddenFromOrder:i,toChildOrderDetailVo:n}=e;return r!==I.CrossChain?t=r:i==="1"?t=I.BridgeTo:n?t=I.FromBridgeTo:t=I.FromBridge,t}get computedStepStatus(){let e=this.detail.data,t=i=>i?[c.Waiting,c.Pending].includes(i)?c.Pending:i:"",r=this.computedMainOrderType===I.BridgeTo?t(e?.bridgeChildOrderDetailVo?.status||""):e?.bridgeChildOrderDetailVo?.status||"";return[I.BridgeTo,I.CrossBridge].includes(this.computedMainOrderType)&&[c.Failed,c.Canceled].includes(e?.status)&&(r=e?.status),{fromSwapStatus:t(e?.fromChildOrderDetailVo?.status||""),bridgeStatus:r,toSwapStatus:e?.toChildOrderDetailVo?.status||""}}get computedRatio(){let e=this.detail?.data;if(!e)return{fromRatio:0,bridgeRatio:0};let{status:t}=e,r=this.computedStepStatus.bridgeStatus,i=this.computedStepStatus.fromSwapStatus;if(t===c.Succeed||t===c.Canceled||t===c.Failed&&this.computedMainOrderType===I.BridgeTo)return{fromRatio:1,bridgeRatio:1};let s=(this.fromStepCountDownTimeGroup.estimatedTimeTotal-this.fromStepCountDownTimeGroup.estimatedTime)/this.fromStepCountDownTimeGroup.estimatedTimeTotal;s=s>.8||this.fromStepCountDownTimeGroup.estimatedTimeTotal===0?.8:s;let a=(this.bridgeStepCountDownTimeGroup.estimatedTimeTotal-this.bridgeStepCountDownTimeGroup.estimatedTime)/this.bridgeStepCountDownTimeGroup.estimatedTimeTotal;return a=a>.8||this.bridgeStepCountDownTimeGroup.estimatedTimeTotal===0?.8:a,i!==c.Pending&&i!==c.SpeedingUp&&i!==c.Canceling&&(s=1),this.computedMainOrderType===I.FromBridgeTo&&r!==c.Pending&&r!==c.SpeedingUp&&r!==c.Canceling&&(a=0),r===c.Succeed&&(a=1),{fromRatio:s,bridgeRatio:a}}get computedFoldTipToast(){let e=this.detail?.data;if(!e)return{foldTipType:""};let{bridgeChildOrderDetailVo:t}=e,r=[],i=[],n=!1,s=!1,a=0,u=this.fromStepCountDownTimeGroup.estimatedTime,p=this.bridgeStepCountDownTimeGroup.estimatedTime,g=this.computedMainOrderType===I.FromBridge;this.computedSubOrders.forEach((C,k)=>{(C.tipType===Be.from||C.tipType===Be.bridge)&&r.push(C),C.errorCode!=="0"&&k<this.computedSubOrders.length-1&&i.push(C)});let f=-1,y=-1;r.length>0&&(f=r[0]?.tipType,y=r[0]?.blockProcess),f===Be.bridge&&(a=p),f===Be.from&&(a=u),g&&f===Be.bridge&&(a=0),f===Be.from?s=u===0:f===Be.bridge&&(s=p===0);let x={...t,refund:{amount:t?.refundAmount?W(t.refundAmount):"",symbol:t?.refundSymbol,chain:t?.refundChain}},w=f===Be.bridge?x:r?.[0];return i.length>0&&(w=i[i.length-1],n=!0),{foldTipType:f,foldBlockProcess:y,currentProcessIsTimeOut:s,tipCountDownTime:a,filterProcessItem:w,needShowErrorTip:n}}get computedSubOrders(){let e=this.detail.data;if(!e)return[];let{fromChildOrderDetailVo:t,bridgeChildOrderDetailVo:r}=e,{toChildOrderDetailVo:i,status:n,assetDelay:s}=e,a=this.computedStepStatus.bridgeStatus,u=this.computedStepStatus.fromSwapStatus,p=this.computedMainOrderType===I.BridgeTo,g=[t?.errorCode,r?.errorCode,i?.errorCode].filter(Boolean).some(v=>v!=="0"),f=n===c.ReadyToClaim,y=this.computedMainOrderType===I.FromBridgeTo,x=this.computedMainOrderType===I.FromBridge,w=a===c.Pending||a===c.SpeedingUp||this.computedMainOrderType===I.CrossBridge&&n!==c.Failed&&n!==c.Canceled&&n!==c.Succeed||p&&a===c.Waiting?Be.bridge:0,C=u===c.Pending||u===c.SpeedingUp?Be.from:0,k={bridgeInfo:r?.bridgeOrderInfoVo,dexBridgeShadowTokenPair:r?.dexBridgeShadowTokenPairInfoVo,dexBridgeShadowTokenPairChainId:r?.toChainId,tipInfo:{toTokenSymbol:t?.toTokenSymbol},bridgeTipInfo:{bridgeName:r?.bridgeOrderInfoVo?.bridgeName||"",toChainName:r?.toChainName||""}};t={...t,status:this.computedStepStatus.fromSwapStatus};let E=r?.status;r={...r,status:this.computedStepStatus.bridgeStatus};let O=this.computedFromChainRefundInfo.isFromChainRefund?"":r?.exploreUrl;if(this.computedIsSingleChain||this.computedMainOrderType===I.GasStationCross){let v=!1;this.timeoutTimestamp?v=!this.expireTime&&t.status===c.Pending:v=t.status===c.Pending;let L=this.computedMainOrderType===I.MemeMode;return[wt(t,"from",{isFromStart:!0,hasTimeoutTips:v,timeoutType:ie.SINGLE_TIPS,hasErrorCode:g}),wt(t,"to",{...k,hiddenExploreUrl:!0,subOrderType:Ye.SINGLE,isMemeModeOrder:L,assetDelay:s,hasErrorCode:g})]}else if(this.computedMainOrderType===I.CrossBridge){let v=this.expireTime<1&&(r.status===c.Waiting||r.status===c.Pending);return[wt(t,"to",{...k,tipType:w&&!f,useCurrencyInputFormat:!0,hasTimeoutTips:v&&!f,timeoutType:ie[r.status===c.Pending?"BRIDGE":"GAS"],blockProcess:r.status===c.Pending?ie.BLOCK_BRIDGE:-1,hasErrorCode:g,subOrderDesc:"CrossBridge_1"}),wt(r,"to",{...k,exploreUrl:O,officialBridgeTime:r?.officialBridgeTime,hasErrorCode:g,subOrderType:Ye.CROSS_BRIDGE_SWAP,subOrderDesc:"CrossBridge_2"})]}else if([I.BridgeTo,I.FromBridge,I.FromBridgeTo].includes(this.computedMainOrderType)){let v=this.expireTime<1&&i?.status===c.Pending,L=!this.fromStepCountDownTimeGroup.estimatedTime&&(t.status===c.Pending||E===c.Waiting),P=!1,N;p&&!this.bridgeStepCountDownTimeGroup.estimatedTime?E===c.Waiting?(P=!0,N=ie.GAS):E===c.Pending&&(P=!0,N=ie.BRIDGE):y&&t?.status===c.Succeed&&!this.bridgeStepCountDownTimeGroup.estimatedTime&&(r.status===c.Waiting?(P=!0,N=ie.GAS):r.status===c.Pending&&(P=!0,N=ie.BRIDGE));let F=[wt(t,"from",{isFromStart:!0,ratio:this.computedRatio.fromRatio,showProgressBar:!0,tipType:C,hasTimeoutTips:L&&!f,timeoutType:ie.SINGLE_TIPS,blockProcess:L?ie.BLOCK_FROM:"",...k,hasErrorCode:g,subOrderDesc:"Bridge_from_1"}),wt(t,"to",{ratio:this.computedRatio.bridgeRatio,tipType:x&&L&&f?0:w&&!f,showProgressBar:y||p,countDownTime:!p&&this.fromStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:P&&!f,timeoutType:x?ie.SINGLE_TIPS:N,blockProcess:ie.BLOCK_BRIDGE,...k,subOrderType:Ye.CROSS_FROM_SWAP,hasErrorCode:g,subOrderDesc:"Bridge_to_2"}),wt(r,"to",{...k,exploreUrl:O,countDownTime:this.bridgeStepCountDownTimeGroup.estimatedTime,hasTimeoutTips:x?!1:v&&!f,blockProcess:!x&&v?ie.BLOCK_TO:"",timeoutType:ie.SINGLE_TIPS,subOrderType:Ye.CROSS_BRIDGE_SWAP,hasErrorCode:g,subOrderDesc:"Bridge_to_3"})];return p&&F.shift(),(p||y)&&F.push(wt(i,"to",{subOrderType:Ye.CROSS_TO_SWAP,hasErrorCode:g,subOrderDesc:"Bridge_to_4"})),F}return[]}get computedFirstTimeoutSubOrderBlockProcess(){let e=this.computedSubOrders,t=this.computedFoldTipToast||{},r=e.find(i=>i.hasTimeoutTips);return be(r,"blockProcess")||be(t,"foldBlockProcess")||-1}get computedDataDetail(){return this.computedCurrentHistoryTabIsLimit?this.limitDetail:this.detail}get computedLimitOrderInfo(){if(!this.limitDetail?.data)return null;let{orderId:e,transactionType:t,createTime:r,userWalletAddress:i,status:n,orderType:s,expireTime:a,fromToken:u={},toToken:p={},slippageInfo:g,networkFeeInfo:f,serviceFeeInfo:y,routeSelection:x,approveMethod:w,providerInfo:C,triggerInfo:k,transactionInfo:E,swapDuration:O,executionHistoryList:v,chainName:L,chainLogoUrl:P,chainSymbol:N,executionHistoryShowMaxNum:F,canResume:G,failureReason:z,strategyType:q}=this.limitDetail?.data??{},le=dn(this.limitDetail?.data),U=P,{chainId:Y,tokenLogoUrl:te,tokenAmount:Ce,tokenSymbol:ce}=u||{},{tokenLogoUrl:me,tokenSymbol:_e,tokenAmount:fe}=p||{},{tokenSymbol:$}=le,{nativeTokenCostAmt:ge}=f||{},{serviceFeeUsd:xe,nativeTokenCostAmt:Qe,discountedServiceFeeRate:he}=y||{},{transactionPrice:ve,transactionHash:Oe,transactionTime:rr,exploreUrl:rt,transactionRate:X}=E||{},or=[Te.CANCELLED,Te.EXPIRED,Te.SUCCEED,Te.FAILED].includes(n)&&!Oo(),mt=!fo(Ce)&&ft.gte(Ce,0),ut=!fo(fe)&&ft.gte(fe,0),Ve=Le(Ce,{noNeedThousandth:!0}),ir=Fe(fe,{needBillionMillionUnit:!1}),nr=!!k?.triggerRate,ot={fromAmount:1,fromSymbol:ce,toAmount:Fe(X,{needBillionMillionUnit:!1}),toSymbol:_e},qe={fromAmount:1,fromSymbol:$,rightNumber:this.getLocalPriceFee(1,ve,!1)},pt={leftNumber:this.getLocalPriceFee(1,1,!1),toAmount:Fe(Fo(1).div(ve).toString(),{needBillionMillionUnit:!1}),toSymbol:_e},Dt={fromAmount:1,fromSymbol:_e,toAmount:Fe(Fo(1).div(X).toString(),{needBillionMillionUnit:!1}),toSymbol:ce},co=this.getServiceFeeInfo({serviceFee:Qe||0,serviceFeeUsd:xe,serviceFeeTokenSymbol:N,isDisplayServiceFee:!!y,discountedServiceFeeRate:he,isDisplayUsdFee:!0}),Fr=String(Y)===String(xi.SOLANA_MAINNET);return{canResume:G,orderType:s,transactionType:t,executionHistoryShowMaxNum:ai(F)?F:5,typeKey:"swaptrade_orders_text_limit_order",orderTypeKey:In(s,!!k?.triggerPrice,!!k?.triggerRate),strategyType:q,strategyTypeKey:ta(q),status:n,fromToken:u||{},toToken:p||{},isSuccess:Number(n)===we.COMPLETED,isFailed:Number(n)===we.FAILED,isCreating:Number(n)===we.CREATING,fromTokenGroupLabel:`${Ze("-",Ve)} ${ce}`,formattedFromAmount:Ve,fromTokenGroupLabelEquation:`${mt?Ze("-",Ve):re} ${oe(ce)}`,toTokenGroupLabel:`${Ze("+",ir)} ${_e}`,toTokenGroupLabelEquation:`${ut?Ze("+",ir):re} ${oe(_e)}`,fromChainLogoUrl:P,fromTokenIcon:te,toChainLogoUrl:U,toTokenIcon:me,createTime:r?Pt(r,{format:"yyyyMMddHHmmss"}):"",expireTime:a?Pt(a,{format:"yyyyMMddHHmmss"}):"",txTime:rr?Pt(rr,{format:"yyyyMMddHHmmss"}):"",networksName:L,networksLogo:P,isExecutionPriceByRate:nr,execRate:X?Tt(ot):re,execPrice:ve?Tt(qe):re,reverseExecPrice:ve?Tt(pt):re,reverseExecRate:X?Tt(Dt):re,execPriceEquation:ve?St(qe):re,reverseExecPriceEquation:ve?St(pt):re,execRateEquation:X?St(ot):re,reverseExecRateEquation:X?St(Dt):re,fee:ge?kr({amount:Fe(ge),symbol:N}):re,originAddress:i,formatAddress:ur(i),exploreUrl:rt,fromTokenSymbol:ce,failureReason:z,showSwapAgainBtn:or,isSolanaLimitOrder:Fr,limitServiceFeeInfo:co,formattedLastedHash:ur(Oe),latestTransactionHash:Oe,routeSelection:x,approveMethod:w,executionHistoryList:v,swapDuration:it(O)?re:Co(O,{hideZero:!0}),slippageInfo:g,providerInfo:C,triggerInfo:k,orderId:e}}get computedLimitFromToInfo(){let e=this.limitDetail?.data;if(!e)return null;let{chainId:t,fromToken:r,toToken:i,userWalletAddress:n,swapTradeType:s}=e;return{apiRequestParams:{fromChainId:t,toChainId:t,userWalletAddress:n,swapTradeType:s},locationParams:{from:{chainId:t,tokenContractAddress:r.tokenContractAddress},to:{chainId:t,tokenContractAddress:i.tokenContractAddress}}}}get computedSwapFromToInfo(){let e=this.detail?.data;if(!e)return null;let{fromChainId:t,fromTokenAddress:r,toChainId:i,toTokenAddress:n,swapTradeType:s,from:a}=e;return{apiRequestParams:{fromChainId:t,toChainId:i,userWalletAddress:a,swapTradeType:s},locationParams:{from:{chainId:t,tokenContractAddress:r},to:{chainId:i,tokenContractAddress:n},inputAmount:this.computedIfSwapFailedAmount||fi}}}get computedFromToInfo(){return this.computedCurrentHistoryTabIsLimit?this.computedLimitFromToInfo:this.computedSwapFromToInfo}getForRefuelFromPrice(e){return e&&!Sr(e)?W(e):"--"}getReceiveTokenPrice(e){return e&&!Sr(e)?W(e):"--"}getExplorerUrl(e){return this.computedIsSingleChain?e?.exploreUrl:""}getOrderFinnishedTime(e,t,r){return[c.Succeed].includes(r)?Co(t-e,{hideZero:!0}):"--"}getFormattedNetworkFee(e){return e?W(e):""}getFormattedOtherFees(e){return e?W(e):""}getOtherFees(e,t){return e&&t?.fromTokenSymbol?`${e} ${t.fromTokenSymbol}`:""}getBridgeFee(e,t){return e?`${e} ${t?.toTokenSymbol}`:""}getBridgeFeeUsd(e,t,r){return Pi(e(t).toString(),r)}getEstimateBridgeFeeAmount(e,t){return e?`${W(e)} ${t}`:""}getEstimateBridgeFeeAmountUsd(e,t,r){return e?gt(r(e).toString(),t):""}getToSwapFee(e,t){return e?kr({amount:e,symbol:t}):""}getFromToPrice(e){return e&&!Sr(e)&&e!=="-1"?W(Fo("1").div(e).toString(10),{needBillionMillionUnit:!1}):"--"}getToFromPrice(e){return e&&!Sr(e)&&e!=="-1"?W(e,{needBillionMillionUnit:!1}):"--"}getGasToken(e,t,r,i,n){return!e||e===oa?null:{amount:t,symbol:r,status:e,exploreUrl:i,logoUrl:n}}get computedOrderInfo(){if(!this.detail.data)return null;let{swapTradeType:e,time:t,fromChainName:r,fromChainLogoUrl:i,fromChildOrderDetailVo:n,toChainName:s,toChainLogoUrl:a,networkFee:u,nativeTokenSymbol:p,otherFees:g,from:f,forRefuelFromAmount:y,fromAmount:x,fromChainId:w,fromTokenSymbol:C,fromTokenAddress:k,toTokenSymbol:E,toChainId:O,toTokenAddress:v,bridgeChildOrderDetailVo:L,receiveTokenStatus:P,receiveTokenExploreUrl:N,receiveTokenAmount:F,receiveTokenSymbol:G,abnormalStatus:z,hiddenFromOrder:q,bridgeFee:le,bridgeFeeUsd:U,estimateBridgeFeeAmount:Y,estimateBridgeFeeAmountUsd:te,toSwapFee:Ce,toChainNativeTokenSymbol:ce,hiddenOtherFee:me,toChildOrderDetailVo:_e,price:fe,receiveWalletAddress:$,gasStationActivityReward:ge,receiveTokenLogoUrl:xe,errorCode:Qe,status:he,orderCompletionTime:ve,orderId:Oe,specialOrderType:rr,mevInfo:rt,fromSwapMevInfo:X,toSwapMevInfo:or,assetDelay:mt,assetDelayTime:ut,isMemeTimeOut:Ve,totalSlippage:ir,slippageValue:nr,dexGasStationFeeDetailVO:ot,freeGas:qe,estimatedTime:pt,transactionHash:Dt,willNeedManualClaim:co,orderType:Fr,approveMethod:Cs}=this.detail.data,vs=String(qe)===$r.FREE,bs=this.detail.data?.defiPlatformInfo,{currencyConversion:ei,computedNowCurrencySymbol:ti}=this.commonStore,As=this.getServiceFeeInfo(this.detail.data),Es=this.getBridgeFeeInfo(this.detail.data),ri=[{chainName:r,chainLogo:i}];this.computedIsSingleChain||ri.push({chainName:s,chainLogo:a});let oi=this.getFormattedNetworkFee(u),Os=this.getFormattedOtherFees(g),Ls=vo(le),Ds=vo(Ce),ii=e===I.MemeMode,Ns=[c.Succeed,c.Failed,c.Canceled].includes(he),Ps=![I.GasStation,I.GasStationCross].includes(e),Fs=this.checkSwapAgainBtn({isOrderFinalized:Ns,isNotGasStationTrade:Ps,isMemeModeOrder:ii}),Rs=()=>{if(this.computedIsGasStation&&ot){let{gasTokenSymbol:Ms,totalGasFeeAmount:Us}=ot||{},ni=W(Us);return ni?kr({amount:ni,symbol:Ms}):"--"}return oi?kr({amount:oi,symbol:p}):"--"},Bs=L?.bridgeOrderInfoVo?.bridgeId;return{swapTradeType:e,orderType:Fr,routeSelection:rt,approveMethod:Cs,isSingleChain:this.computedIsSingleChain,type:e,transactionTypeKey:ia[e],orderTypeKey:In(Fr),isShowCancel:n?.isShowCancel,time:Pt(t,{format:"yyyyMMddHHmmss"}),networks:ri,assetDelay:mt,assetDelayTime:ut,isMemeTimeOut:Ve,isMemeModeOrder:ii,networkFee:Rs(),otherFees:this.getOtherFees(Os,L),bridgeFee:this.getBridgeFee(Ls,L),bridgeId:Bs,bridgeName:L?.bridgeOrderInfoVo?.bridgeName,bridgeLogo:L?.bridgeOrderInfoVo?.bridgeLogo,bridgeFeeUsd:this.getBridgeFeeUsd(ei,U,ti),estimateBridgeFeeAmount:this.getEstimateBridgeFeeAmount(Y,p),estimateBridgeFeeAmountUsd:this.getEstimateBridgeFeeAmountUsd(te,ti,ei),toSwapFee:this.getToSwapFee(Ds,ce),fromToPrice:this.getFromToPrice(fe),toFromPrice:this.getToFromPrice(fe),from:f,chainId:w,fromChainId:w,receiveWalletAddress:$,fromAmount:x,fromTokenAddress:k,fromSymbol:C,toSymbol:E,toChainId:O,toTokenAddress:v,omittedFrom:ur(f),omittedTo:ur($),gasToken:this.getGasToken(P,F,G,N,xe),abnormalStatus:z,hiddenFromOrder:q,hiddenOtherFee:me,hasToChildOrderDetailVo:!!_e,forRefuelFromPrice:this.getForRefuelFromPrice(y),receiveTokenPrice:this.getReceiveTokenPrice(F),receiveTokenStatus:P,gasStationActivityReward:ge,exploreUrl:this.getExplorerUrl(n),errorCode:Qe,orderFinishedTime:this.getOrderFinnishedTime(t,ve,he),status:he,showSwapAgainBtn:Fs,orderId:Oe,fromChainName:r,specialOrderType:rr,mevInfo:rt,fromSwapMevInfo:X,toSwapMevInfo:or,totalSlippage:ir,slippageValue:nr,defiPlatformInfo:bs,isIntentOrder:vs,dexGasStationFeeDetailTips:this.getDexGasStationFeeDetailTip(ot,he),freeGas:qe,estimatedTime:pt,singleChainServiceFeeInfo:As,crossChainServiceFeeInfo:Es,transactionHash:Dt,omittedHash:ur(Dt),willNeedManualClaim:co}}get computedFromChainRefundInfo(){let e=this.detail.data;if(!e)return{};let t=be(e,"bridgeChildOrderDetailVo.errorCode");if(String(t)!=="5001")return{};let r=be(e,"bridgeChildOrderDetailVo")||{},{exploreUrl:i,fromTokenIcon:n,refundAmount:s,refundSymbol:a,refundChain:u}=r;return{isFromChainRefund:!0,exploreUrl:i,fromTokenIcon:n,refundAmount:s,formatRefundAmount:W(s,{needPlaceholder:!0,needBillionMillionUnit:!1}),refundSymbol:a,refundChain:u}}get computedPendingOrdersCount(){return this.pendingOrders.filter(t=>t.status!==c.PendingCanRedeem).length}get computedOrdersHasFacetSwap(){let e=this.pendingOrders.find(t=>t.status==c.PendingCanRedeem);return{showTip:!!e,data:e||{}}}get computedPendingTimingStatus(){return this.timeoutTimestamp?this.expireTime!==0&&this.timeoutTimestamp?Bt.ESTIMATE:!this.expireTime&&this.timeoutTimestamp?Bt.EXCEED_ESTIMATE:!this.expireTime&&!this.timeoutTimestamp?Bt.TIMEOUT:1:Bt.TIMEOUT}toastOrder(e){if(e){let{status:t,orderId:r,fromAmount:i,fromTokenSymbol:n,toAmount:s,toTokenSymbol:a,fromChildOrder:u,receiveTokenStatus:p,type:g,swapTradeType:f,isMemeTimeOut:y,exploreUrl:x,assetDelay:w,sentSimpleVersion:C,willNeedManualClaim:k,transactionHash:E}=e,O=`${r}_${t}`;if(nt()||Jr.includes(O))return;let v=f===I.MemeMode,L=()=>{Jr.unshift(O),Jr=Jr.slice(0,Hs)},P=p!==Tn;if(t===c.Pending&&u?.status===c.Pending){if(L(),v&&y){cn({title:m("swaptrade_history_modal_error_likely_fail",{num:i,token1:n,token2:a})});return}fn({title:m("wallet_swap_toast_swap_submitted"),orderId:r})}else if(t===c.ReadyToClaim)L(),_n(e,this.rootStore.swapStore);else if(t===c.ClaimFailed)L(),pr({title:m("swaptrade_bridge_alert_failed_to_claim_please"),orderId:r});else if(t===c.Succeed&&P){let N=this.computedSubOrders;if(L(),k===jr){if(Ir(E),wr(E))return;yr(E),It({title:m("swaptrade_bridge_alert_youve_successfully_claimed_amt",{amt:W(s),token:a}),orderId:r});return}if(v&&w){if(Ir(E),wr(E))return;yr(E),It({title:m("swaptrade_history_modal_tips_swap_update",{num1:i,token1:n,num2:s,token2:a}),exploreUrl:x,orderId:r});return}if(!C){if(Ir(E),wr(E))return;yr(E),It({title:m("swaptrade_toast_swap_success",{fromCount:Le(i,{needBillionMillionUnit:!0}),fromToken:oe(n),toCount:W(s),toToken:oe(a)}),exploreUrl:N[N.length-1]?.exploreUrl,orderId:r})}}else if(t===c.Failed&&P){let F=this.computedSubOrders.filter(G=>G.status===c.Failed);L(),pr({title:g==="gasStation"?m("swaptrade_gasstation_toast_refill_failed",{nativeToken:oe(a)}):m("wallet_swap_toast_swap_failed"),exploreUrl:F[F.length-1]?.exploreUrl,orderId:r})}else t===c.Canceled&&P&&(It({title:m("swaptrade_placeorder_toast_transaction_canceled"),orderId:r}),L())}}get computedCurrentHistoryTabIsLimit(){return this.historyTab===R.LIMIT_ORDER}get computedOrigin(){return this.historyTab===R.LIMIT_ORDER?R.LIMIT_ORDER:[I.SingleChain,I.GasStation].includes(this.computedMainOrderType)?R.SWAP:R.BRIDGE}get computedIfSwapFailedAmount(){let e=this.detail?.data;return e?.status===c.Failed&&!this.computedCurrentHistoryTabIsLimit&&qr(e?.fromAmount)?e.fromAmount:""}},Rl=Ro;d();l();var wn=S(A());var da=({onButtonClick:o})=>wn.default.createElement(Yi,{title:m("swaptrade_pricechart_no_connection_title"),description:m("swaptrade_pricechart_no_connection_desc"),buttonText:m("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:o}),yn=da;d();l();var Ut=S(A());var xn=48,la=72,ma=40,Bo=513,Mo=678,kn=()=>{let[o,e]=(0,Ut.useState)(Bo),[t,r]=(0,Ut.useState)(Mo),{isSm:i}=Vi(),n=nt();return(0,Ut.useEffect)(()=>{let s=()=>{let a=window.innerHeight,u=a-53-la-ma-xn;u<Bo?e(u):e(Bo);let p=a-xn;p<Mo?r(p):r(Mo)};return!i&&!n&&(s(),window?.addEventListener?.("resize",s)),()=>{!i&&!n&&window?.removeEventListener?.("resize",s)}},[i,n]),(0,Ut.useMemo)(()=>i||n?{listStyle:{},detailStyle:{}}:{listStyle:{height:o},detailStyle:{minHeight:t}},[o,t,i,n])};d();l();var no=S(A()),zn=S(Q());d();l();var ye=S(A());d();l();var je=S(A()),Cn=S(Q());d();l();var De=S(A()),jt=S(Q());d();l();var B={item:"_item_rakqj_1",placeholder:"_placeholder_rakqj_8","chain-logo":"_chain-logo_rakqj_13",chainLogo:"_chain-logo_rakqj_13","chain-logos":"_chain-logos_rakqj_19",chainLogos:"_chain-logos_rakqj_19","chain-name":"_chain-name_rakqj_30",chainName:"_chain-name_rakqj_30","icon-btn":"_icon-btn_rakqj_33",iconBtn:"_icon-btn_rakqj_33",content:"_content_rakqj_43","label-tooltip":"_label-tooltip_rakqj_47",labelTooltip:"_label-tooltip_rakqj_47","icon-arrow":"_icon-arrow_rakqj_50",iconArrow:"_icon-arrow_rakqj_50","tooltip-icon":"_tooltip-icon_rakqj_55",tooltipIcon:"_tooltip-icon_rakqj_55",line:"_line_rakqj_58",link:"_link_rakqj_62","bridge-fee":"_bridge-fee_rakqj_69",bridgeFee:"_bridge-fee_rakqj_69","intent-order-network-fee":"_intent-order-network-fee_rakqj_73",intentOrderNetworkFee:"_intent-order-network-fee_rakqj_73","mev-box":"_mev-box_rakqj_76",mevBox:"_mev-box_rakqj_76","gas-station-fee-label":"_gas-station-fee-label_rakqj_79",gasStationFeeLabel:"_gas-station-fee-label_rakqj_79","info-icon":"_info-icon_rakqj_83",infoIcon:"_info-icon_rakqj_83",divider:"_divider_rakqj_86"};function ua({label:o,value:e,hasToolTips:t,toolTipsText:r="",className:i="",valueClassName:n="",labelOnClick:s,labelClassName:a=""}){let u=(0,De.useRef)(),[p,g]=(0,De.useState)(!1);(0,De.useEffect)(()=>{let x=u.current;x&&g(Fi(x))},[]);let y=De.default.createElement("div",{ref:u,...s?{onClick:s}:{},className:(0,jt.default)("content-contrast truncate",B.label,a)},o);return De.default.createElement("div",{className:(0,jt.default)("overflow-hidden font-14 ",B.item,i)},De.default.createElement("div",{className:(0,jt.default)("flex align-items-center overflow-hidden font-12")},p?De.default.createElement(ct,{maxWidth:200,prefixClassName:"cursor-pointer",title:o,className:"overflow-hidden"},y):y,t&&De.default.createElement(ct,{title:r,prefixClassName:"cursor-pointer",placement:ct.DIRECTION.bottom,className:(0,jt.default)("flex items-center",B.tooltipIcon),popupProps:{popupStyle:{maxWidth:"200px"}}},De.default.createElement(J,{className:(0,jt.default)("content-contrast",B.infoIcon),type:"okx-defi-dex-information"}))),De.default.createElement("div",{className:(0,jt.default)("whitespace-nowrap content-primary mt-4 font-14",n)},e))}var b=ua;var pa=()=>{let{recentTransactionStore:o}=K(),e=o?.computedOrderInfo,t=(0,je.useMemo)(()=>(parseInt(e?.estimatedTime||0,10)/60).toFixed(0),[e?.estimatedTime]),r=(0,je.useMemo)(()=>String(e?.freeGas)===$r.FREE,[e?.freeGas]),i=(0,je.useMemo)(()=>je.default.createElement(b,{label:m("swaptrade_history_card_text_from_chain_fee",{chainName:e?.networks[0]?.chainName}),value:m("swaptrade_card_tag_free"),valueClassName:(0,Cn.default)(B.intentOrderNetworkFee),hasToolTips:!1,labelOnClick:()=>{}}),[e?.networks]),n=(0,je.useMemo)(()=>{let a=e?.totalSlippage,u=a?Kr(a*100,{sigFigs:2,needZero:!1,rounded:Hr.TRUNCATE}):"--";return je.default.createElement(b,{label:m("swaptrade_extension_label_slippage_tolerance"),value:u,hasToolTips:!1,labelOnClick:()=>{}})},[e?.totalSlippage]),s=(0,je.useMemo)(()=>je.default.createElement(je.default.Fragment,null,t==="0"?null:je.default.createElement(b,{label:m("swaptrade_history_text_conversion_time"),value:m("swaptrade_xrouting_tag_mins",{value:t}),hasToolTips:!1,labelOnClick:()=>{}})),[t]);return{isBridgeDetailFreeNetwork:r,bridgeNetworkFee:i,bridgeSlippage:n,bridgeSwapDuration:s}},eo=pa;d();l();var vn=S(A());function Gt({value:o,label:e,hidden:t}){return t?null:vn.default.createElement(b,{label:e||m("swaptrade_tee_header_approval_method"),value:o||"--"})}d();l();var bn=S(A());function xt({value:o,label:e,hidden:t}){return t?null:bn.default.createElement(b,{label:e||m("swaptrade_common_label_time"),value:o})}d();l();var Ee=S(A()),An=S(Q());var Uo=o=>o==="Smart Mode"?m("swaptrade_history_mev_subtitle_smart_mode"):o;function Cr({type:o,fromSwapMevInfo:e,toSwapMevInfo:t,networks:r,mevInfo:i,label:n}){return(0,Ee.useMemo)(()=>o===I.CrossChain&&(e||t)?Ee.default.createElement(b,{label:n||m("swaptrade_history_label_mev_protect"),value:Ee.default.createElement("div",{className:(0,An.default)("flex items-center",B.mevBox)},!!e&&Ee.default.createElement("div",{className:"flex items-center"},Ee.default.createElement(lr,{alt:r[0]?.chainName,size:20,src:r[0]?.chainLogo}),Ee.default.createElement("span",{className:"ml-4"},Uo(e))),!!t&&Ee.default.createElement("div",{className:"flex items-center"},Ee.default.createElement(lr,{alt:r[1]?.chainName,size:20,src:r[1]?.chainLogo}),Ee.default.createElement("span",{className:"ml-4"},Uo(t))))}):i?Ee.default.createElement(b,{label:n||m("swaptrade_history_label_mev_protect"),value:Ee.default.createElement("div",{className:"flex items-center"},Ee.default.createElement(lr,{alt:r[0]?.chainName,size:20,src:r[0]?.chainLogo}),Ee.default.createElement("span",{className:"ml-4"},Uo(i)))}):null,[e,n,i,r,t,o])}d();l();var H=S(A()),En=S(Q());function vr({type:o,isBridgeDetailFreeNetwork:e,bridgeNetworkFee:t,hiddenOtherFee:r,networks:i,networkFee:n,bridgeFee:s,bridgeFeeUsd:a,estimateBridgeFeeAmount:u,estimateBridgeFeeAmountUsd:p,crossChainServiceFeeInfo:g,isWidget:f,otherFees:y,bridgeName:x,dexGasStationFeeDetailTips:w,isIntentOrder:C,hidden:k,isEstimated:E}){let{recentTransactionStore:O}=K(),v=(0,H.useCallback)(()=>{let N=mi.show({title:m("swaptrade_swap_history_subtitle_network_fee"),children:w,hideCloseBtn:!0,confirmText:m("swaptrade_dialog_modal_gotit"),onConfirm:()=>{N.destroy()}})},[w]),L=(0,H.useMemo)(()=>{let N=w?{labelOnClick:v,labelClassName:B.gasStationFeeLabel}:{};return H.default.createElement(b,{...N,label:m(E?"swaptrade_order_info_label_network_fee":"swaptrade_swap_history_subtitle_network_fee"),value:C?m("swaptrade_card_tag_free"):n,valueClassName:(0,En.default)({[B.intentOrderNetworkFee]:C})})},[n,C,v,w,E]);return(0,H.useMemo)(()=>{if(k)return null;let N=O.computedIsSingleChain||o===I.GasStationCross||o===I.GasStation;return N?L:e?t:r?H.default.createElement(H.default.Fragment,null,H.default.createElement(b,{label:m("swaptrade_history_card_text_from_chain_fee",{chainName:i[0].chainName}),value:n}),u&&H.default.createElement(b,{label:m("swaptrade_history_label_bridge_network_fee",{bridge:x}),className:B.bridgeFee,value:H.default.createElement("div",{className:"flex flex-column"},p?H.default.createElement("span",null,Ft(m("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:u,fee:p}))):H.default.createElement("span",null,u))}),!f&&!N&&g?.shouldDisplayServiceFee?H.default.createElement(b,{label:m("swaptrade_trade_label_service_fee"),value:H.default.createElement("div",{className:"flex align-items-center"},H.default.createElement("span",null,g?.formattedServiceFee))}):null,s&&H.default.createElement(b,{label:m("swaptrade_history_label_bridge_fee",{bridge:x}),className:B.bridgeFee,value:H.default.createElement("div",{className:"flex flex-column"},H.default.createElement("span",null,s))})):H.default.createElement(H.default.Fragment,null,L,H.default.createElement(b,{label:H.default.createElement(H.default.Fragment,null,m("swaptrade_order_info_label_other_fees")),value:y}))},[k,O.computedIsSingleChain,o,e,r,L,y,t,i,n,s,x,a,f,g?.shouldDisplayServiceFee,g?.formattedServiceFee,u,p])}d();l();var fr=S(A());function Wt({networks:o=[],showLogo:e=!1,label:t,hidden:r}){return r?null:fr.default.createElement(b,{label:t||m("swaptrade_order_info_label_network"),value:fr.default.createElement("div",{className:"flex align-items-center"},e&&fr.default.createElement("div",{className:B.chainLogos},o.map(({chainName:i,chainLogo:n})=>fr.default.createElement("img",{src:n,alt:`${i}Logo`,key:i}))),fr.default.createElement("div",{className:e?B.chainName:""},o.map(({chainName:i})=>i).join(` ${m("swaptrade_order_info_label_network_to")} `)))})}d();l();var et=S(A()),On=S(Q());function br({label:o,fromToPrice:e,toFromPrice:t,fromSymbol:r,toSymbol:i,type:n,hidden:s}){let[a,u]=(0,et.useState)("fromTo"),p=(0,et.useMemo)(()=>{if(e==="--"||t==="--")return{text:"--",equation:"--"};if(a==="fromTo"){let y={fromAmount:1,fromSymbol:r,toAmount:e,toSymbol:i};return{text:Tt(y),equation:St(y)}}let f={fromAmount:1,fromSymbol:i,toAmount:t,toSymbol:r};return{text:Tt(f),equation:St(f)}},[r,i,a,e,t]),g=![I.CrossBridge,I.GasStation,I.GasStationCross].includes(n)&&p.text!=="--";return s?null:et.default.createElement(b,{label:o||m("swaptrade_order_info_label_price"),value:et.default.createElement("div",{className:"flex align-items-center"},et.default.createElement("span",null,et.default.createElement(ht,{text:p.text,equation:p.equation},Ft(p.equation))),g&&et.default.createElement(Ke,{onClick:()=>{u(a==="fromTo"?"toFrom":"fromTo")},className:(0,On.default)("content-primary okx-defi-dex-rate",B.iconBtn),size:16,a11yText:""}))})}d();l();var Ht=S(A()),Ln=S(Yr()),Dn=S(Q());function jo({formatAddress:o,originAddress:e,label:t,hidden:r}){return r?null:Ht.default.createElement(b,{label:t||m("swaptrade_details_text_receive_address"),value:Ht.default.createElement("div",{className:"flex align-items-center"},Ht.default.createElement("span",null,o),Ht.default.createElement(Ln.CopyToClipboard,{text:e,onCopy:()=>{_t.success(m("swaptrade_order_info_label_from_copy_success"))}},Ht.default.createElement("div",{className:(0,Dn.default)("flex align-items-center",B.iconBtn)},Ht.default.createElement(J,{className:"okx-defi-dex-copy1",size:16}))))})}d();l();var to=S(A());function Vt({value:o,isEstimated:e=!0,label:t,hidden:r=!1}){return r?null:to.default.createElement(b,{label:t||(e?m("swaptrade_tee_tab_label_est_service_fee"):m("swaptrade_trade_label_service_fee")),value:to.default.createElement("div",{className:"flex align-items-center"},to.default.createElement("span",null,o))})}d();l();var Nn=S(A());function qt({value:o,label:e,autoFoumart:t=!0,hidden:r}){if(r)return null;let i=s=>t?Kr(Ur.mul(s,100),{sigFigs:2,needZero:!1,rounded:Hr.TRUNCATE}):s,n=()=>o?i(o):"--";return Nn.default.createElement(b,{label:e||m("swaptrade_tee_tab_label_slippage"),value:n()})}d();l();var Pn=S(A());function Kt({value:o,label:e,hidden:t}){return t?null:Pn.default.createElement(b,{label:e||m("swaptrade_history_text_conversion_time"),value:o||"--"})}d();l();var Fn=S(A());function zt({value:o,hidden:e,label:t}){return e?null:Fn.default.createElement(b,{label:t||m("swaptrade_order_info_label_type"),value:o||"--"})}d();l();var Yt=S(A()),Rn=S(Yr()),Bn=S(Q());function $t({omittedFrom:o,from:e,label:t,hidden:r}){return r?null:Yt.default.createElement(b,{label:t||m("swaptrade_order_info_label_from"),value:Yt.default.createElement("div",{className:"flex align-items-center"},Yt.default.createElement("span",null,o),Yt.default.createElement(Rn.CopyToClipboard,{text:e,onCopy:()=>{_t.success(m("swaptrade_order_info_label_from_copy_success"))}},Yt.default.createElement("div",{className:(0,Bn.default)("flex align-items-center",B.iconBtn)},Yt.default.createElement(J,{className:"okx-defi-dex-copy1",size:16}))))})}d();l();var Mn=S(A());d();l();var ro={title:"_title_m2btf_1"};function Xt(){return Mn.default.createElement("div",{className:ro.title},m("swaptrade_tee_tab_label_transaction_details"))}d();l();var Ar=S(A());function Go({bridgeLogo:o,bridgeName:e,label:t,hidden:r}){return r?null:Ar.default.createElement(b,{label:t||m("swaptrade_bot_hyperlink_label_bridge_route"),value:Ar.default.createElement("div",{className:"flex align-items-center"},Ar.default.createElement("img",{src:o,alt:e,className:B.chainLogo}),Ar.default.createElement("span",null,e))})}function ca({orderInfo:o}){let e=Re(),{type:t,time:r,networks:i,networkFee:n,otherFees:s,from:a,omittedFrom:u,omittedTo:p,receiveWalletAddress:g,fromSymbol:f,toSymbol:y,fromToPrice:x,toFromPrice:w,bridgeFee:C,bridgeName:k,bridgeFeeUsd:E,hiddenOtherFee:O,estimateBridgeFeeAmount:v,estimateBridgeFeeAmountUsd:L,orderFinishedTime:P,isIntentOrder:N,totalSlippage:F,status:G,dexGasStationFeeDetailTips:z,crossChainServiceFeeInfo:q,transactionTypeKey:le,toSwapMevInfo:U,mevInfo:Y,approveMethod:te,fromSwapMevInfo:Ce,slippageValue:ce,bridgeLogo:me}=o,{isBridgeDetailFreeNetwork:_e,bridgeNetworkFee:fe}=eo(),$=o?.singleChainServiceFeeInfo||{};return ye.default.createElement(ye.default.Fragment,null,ye.default.createElement(Xt,null),ye.default.createElement(zt,{value:m(le)}),ye.default.createElement(xt,{value:r}),ye.default.createElement(Wt,{networks:i}),ye.default.createElement(qt,{value:ce||F}),ye.default.createElement(vr,{type:t,isBridgeDetailFreeNetwork:_e,bridgeNetworkFee:fe,hiddenOtherFee:O,networks:i,networkFee:n,bridgeFee:C,bridgeFeeUsd:E,estimateBridgeFeeAmount:v,estimateBridgeFeeAmountUsd:L,crossChainServiceFeeInfo:q,isWidget:e,otherFees:s,bridgeName:k,dexGasStationFeeDetailTips:z,isIntentOrder:N}),ye.default.createElement(Vt,{value:$.formattedServiceFee,isEstimated:G!==c.Succeed,hidden:!$.shouldDisplayServiceFee}),ye.default.createElement(Cr,{type:t,fromSwapMevInfo:Ce,toSwapMevInfo:U,networks:i,mevInfo:Y,label:m("swaptrade_trade_label_route_selection")}),ye.default.createElement(Kt,{value:P}),ye.default.createElement(br,{type:t,fromSymbol:f,toSymbol:y,fromToPrice:x,toFromPrice:w}),ye.default.createElement(Gt,{value:te,hidden:!te}),ye.default.createElement(Go,{bridgeLogo:me,bridgeName:k}),ye.default.createElement($t,{omittedFrom:u,from:a}),ye.default.createElement(jo,{label:m("swaptrade_details_text_receive_address"),formatAddress:p,originAddress:g,hidden:!g||!p||t===I.GasStationCross}))}var Un=ue(ca);d();l();var j=S(A());d();l();var at=S(A());function oo({execPrice:o,reverseExecPrice:e,execPriceEquation:t,reverseExecPriceEquation:r,isSolanaLimitOrder:i,showReverseIcon:n=!0,hasToolTips:s=!0,label:a,hidden:u=!1}){let[p,g]=(0,at.useState)(!1);return u?null:at.default.createElement(b,{label:a||m("swaptrade_orders_label_execution_price"),hasToolTips:s,toolTipsText:i?m("swaptrade_limit_dialog_desc_executed_price_solana"):m("swaptrade_orders_tooltips_executed_price"),value:at.default.createElement("div",{className:"flex align-items-center content-primary"},at.default.createElement("div",null,p?at.default.createElement(ht,{text:e,equation:r}):at.default.createElement(ht,{text:o,equation:t})),n&&at.default.createElement(J,{onClick:()=>{g(!p)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}}))})}d();l();var jn=S(A());function gr({value:o,label:e,hidden:t}){return t?null:jn.default.createElement(b,{label:e||m("swaptrade_tee_tab_label_order_type"),value:o||"--"})}d();l();var io=S(A()),Gn=S(Q());function Er({logo:o,name:e,label:t,hidden:r}){return r?null:io.default.createElement(b,{label:t||m("swaptrade_mid_dialog_title_provider"),value:io.default.createElement("div",{className:"flex flex-column"},io.default.createElement($i,{size:20,logo:o,name:e,className:(0,Gn.default)("ml-4 content-primary","font-14")}))})}d();l();var Or=S(A());function Wo({chainName:o,chainLogo:e,value:t,label:r,hidden:i}){return i?null:Or.default.createElement(b,{label:r||m("swaptrade_history_label_mev_protect"),value:t?Or.default.createElement("div",{className:"flex items-center"},Or.default.createElement(lr,{alt:o,size:20,src:e}),Or.default.createElement("span",{className:"ml-4"},t)):"--"})}d();l();var Qt=S(A()),Wn=S(Yr()),Ho=S(Q());function Lr({originHash:o,formatHash:e,exploreUrl:t,label:r,hidden:i}){return i?null:Qt.default.createElement(b,{label:r||m("commonall_colheader_text_txn_hash"),value:Qt.default.createElement("div",{className:"flex align-items-center"},Qt.default.createElement(Ue,{href:t,className:(0,Ho.default)("font-14",B.link),handleStyle:!1},e),Qt.default.createElement(Wn.CopyToClipboard,{text:o,onCopy:()=>{_t.success(m("swaptrade_order_info_label_from_copy_success"))}},Qt.default.createElement("div",{className:(0,Ho.default)("flex align-items-center",B.iconBtn)},Qt.default.createElement(J,{className:"okx-defi-dex-copy1",size:16}))))})}d();l();var dt=S(A());var tt={triggerRate:"triggerRate",triggerPrice:"triggerPrice",triggerPriceMarketCapacity:"triggerPriceMarketCapacity"},_a=(o,e)=>e===yt.TEE_SA_SL_ORDER||e===yt.TEE_SA_TP_ORDER?tt.triggerPrice:o?.triggerPrice&&o?.triggerMarketCapacity?tt.triggerPriceMarketCapacity:o?.triggerRate?tt.triggerRate:o?.triggerPrice?tt.triggerPrice:"",fa={[tt.triggerRate]:"swaptrade_tee_label_trigger_rate",[tt.triggerPriceMarketCapacity]:"swaptrade_tee_label_trigger_price_market_cap",[tt.triggerPrice]:"swaptrade_tee_label_trigger_price"};function Vo({triggerInfo:o={},currencyConversion:e,computedNowCurrencySymbol:t,fromSymbol:r,toSymbol:i,orderType:n}){let[s,a]=(0,dt.useState)(!1),u=_a(o,n);if(!u)return null;let p=()=>u===tt.triggerRate?o.triggerRate?dt.default.createElement(dt.default.Fragment,null,dt.default.createElement("div",null,s?`1 ${i} = ${W(Ur.safeDiv(1,o.triggerRate))} ${r}`:`1 ${r} = ${W(o.triggerRate)} ${i}`),dt.default.createElement(Ke,{a11yText:"",onClick:()=>{a(!s)},className:"okx-defi-dex-rate",size:16,style:{cursor:"pointer",marginLeft:8}})):"--":u===tt.triggerPriceMarketCapacity?`${o?.triggerPrice?gt(e(o.triggerPrice).toString(),t):"--"} / ${o?.triggerMarketCapacity?gt(e(o.triggerMarketCapacity).toString(),t,{needBillionMillionUnit:!0}):"--"}`:u===tt.triggerPrice?o?.triggerPrice?gt(e(o?.triggerPrice).toString(),t):"--":"";return dt.default.createElement(b,{label:m(fa[u]),value:dt.default.createElement("div",{className:"flex align-items-center content-primary"},p())})}d();l();var Hn=S(A());function qo({txTime:o,isSuccess:e}){return!o||!e?null:Hn.default.createElement(b,{label:m("swaptrade_orders_label_order_time1"),value:o})}d();l();var Vn=S(A());function Dr(){return Vn.default.createElement("div",{className:ro.title},m("swaptrade_tee_reminder_order_details"))}function ga({orderInfo:o}){let{networksLogo:e,networksName:t,fee:r,createTime:i,expireTime:n,originAddress:s,formatAddress:a,execPrice:u,reverseExecPrice:p,execPriceEquation:g,reverseExecPriceEquation:f,exploreUrl:y,isSolanaLimitOrder:x,latestTransactionHash:w,formattedLastedHash:C,routeSelection:k,orderTypeKey:E,strategyType:O,strategyTypeKey:v,triggerInfo:L,slippageInfo:P,transactionType:N,fromToken:F,toToken:G,swapDuration:z,limitServiceFeeInfo:q={},approveMethod:le,providerInfo:U,status:Y,isSuccess:te,orderType:Ce,isExecutionPriceByRate:ce,execRateEquation:me,reverseExecRateEquation:_e,execRate:fe,reverseExecRate:$,txTime:ge}=o,{commonStore:{currencyConversion:xe,computedNowCurrencySymbol:Qe}}=K(),he=[we.CANCELLED,we.EXPIRED,we.COMPLETED].includes(Y);return j.default.createElement(j.default.Fragment,null,j.default.createElement(Dr,null),j.default.createElement(gr,{value:m(E)}),j.default.createElement(gr,{value:v?m(v):"",label:m("swaptrade_order_title_limit_type"),hidden:!v||O===1}),j.default.createElement(xt,{value:i,label:m("swaptrade_orders_label_order_time")}),j.default.createElement(xt,{label:m("swaptrade_tee_tab_label_expires_after"),value:n}),j.default.createElement(Vo,{triggerInfo:L,currencyConversion:xe,computedNowCurrencySymbol:Qe,fromSymbol:F.tokenSymbol,toSymbol:G.tokenSymbol,orderType:Ce}),j.default.createElement(Wt,{networks:[{chainName:t,chainLogo:e}]}),j.default.createElement(qt,{value:P?.slippageValue,isSuccess:te,slippageInfo:P}),j.default.createElement(b,{label:m(he?"swaptrade_orders_label_fee":"swaptrade_order_info_label_network_fee"),hasToolTips:!he,toolTipsText:he?"":m("swaptrade_tee_tooltip_desc_est_network_fee"),value:j.default.createElement("div",{className:"flex align-items-center content-primary"},r)}),j.default.createElement(Vt,{value:q?.formattedServiceFee,isEstimated:!he}),j.default.createElement(Wo,{chainName:t,chainLogo:e,value:k,hidden:!k}),j.default.createElement("div",{className:B.divider}),j.default.createElement(Xt,null),j.default.createElement(zt,{value:N}),j.default.createElement(Kt,{value:z,hidden:Y===we.SUSPENDED}),j.default.createElement(qo,{txTime:ge,isSuccess:te}),j.default.createElement(oo,{execPrice:fe,reverseExecPrice:$,execPriceEquation:me,reverseExecPriceEquation:_e,isSolanaLimitOrder:x,showReverseIcon:fe!==re,hasToolTips:!1,label:m("swaptrade_orders_label_execution_rate")}),!ce&&j.default.createElement(oo,{execPrice:u,reverseExecPrice:p,execPriceEquation:g,reverseExecPriceEquation:f,isSolanaLimitOrder:x,showReverseIcon:u!==re}),j.default.createElement(Gt,{value:le}),j.default.createElement(Er,{logo:U?.providerLogo,name:U?.provider}),j.default.createElement($t,{omittedFrom:a,from:s}),j.default.createElement(Lr,{hidden:!(y&&w),originHash:w,formatHash:C,exploreUrl:y}))}var qn=ga;d();l();var ne=S(A());function ha({orderInfo:o}){let e=Re(),{type:t,time:r,networks:i,networkFee:n,otherFees:s,from:a,omittedFrom:u,fromSymbol:p,toSymbol:g,fromToPrice:f,toFromPrice:y,bridgeFee:x,bridgeName:w,bridgeFeeUsd:C,hiddenOtherFee:k,exploreUrl:E,estimateBridgeFeeAmount:O,estimateBridgeFeeAmountUsd:v,orderFinishedTime:L,isIntentOrder:P,totalSlippage:N,status:F,defiPlatformInfo:G,dexGasStationFeeDetailTips:z,crossChainServiceFeeInfo:q,transactionHash:le,omittedHash:U,approveMethod:Y,transactionTypeKey:te,orderTypeKey:Ce,fromSwapMevInfo:ce,toSwapMevInfo:me,mevInfo:_e,slippageValue:fe}=o,{isBridgeDetailFreeNetwork:$,bridgeNetworkFee:ge}=eo(),xe=o?.singleChainServiceFeeInfo||{};return ne.default.createElement(ne.default.Fragment,null,ne.default.createElement(Dr,null),ne.default.createElement(gr,{value:m(Ce)}),ne.default.createElement(xt,{value:r}),ne.default.createElement(Wt,{networks:i}),ne.default.createElement(qt,{value:fe||N}),ne.default.createElement(vr,{type:t,isBridgeDetailFreeNetwork:$,bridgeNetworkFee:ge,hiddenOtherFee:k,networks:i,networkFee:n,bridgeFee:x,bridgeFeeUsd:C,estimateBridgeFeeAmount:O,estimateBridgeFeeAmountUsd:v,crossChainServiceFeeInfo:q,isWidget:e,otherFees:s,bridgeName:w,isEstimated:F!==c.Succeed,dexGasStationFeeDetailTips:z,isIntentOrder:P}),ne.default.createElement(Vt,{value:xe.formattedServiceFee,isEstimated:F!==c.Succeed,hidden:!xe.shouldDisplayServiceFee}),ne.default.createElement(Cr,{type:t,fromSwapMevInfo:ce,toSwapMevInfo:me,networks:i,mevInfo:_e,label:m("swaptrade_trade_label_route_selection")}),ne.default.createElement("div",{className:B.divider}),ne.default.createElement(Xt,null),ne.default.createElement(zt,{value:m(te)}),ne.default.createElement(Kt,{value:L}),ne.default.createElement(br,{type:t,fromSymbol:p,toSymbol:g,fromToPrice:f,toFromPrice:y}),ne.default.createElement(Gt,{value:Y}),ne.default.createElement(Er,{logo:G?.logo,name:G?.name,hidden:!G}),ne.default.createElement($t,{omittedFrom:u,from:a}),ne.default.createElement(Lr,{originHash:le,formatHash:U,exploreUrl:E,hidden:!E}))}var Kn=ue(ha);var Ta=(o={})=>![I.SingleChain,I.GasStation,I.LimitOrder,I.MemeMode].includes(o.swapTradeType);function Sa({orderInfo:o,isLimit:e,isBridge:t}){return e?qn:t??Ta(o)?Un:Kn}function Ia({orderInfo:o,className:e,gasToken:t,isWalletEnv:r,isLimit:i,isBridge:n}){let s=Sa({orderInfo:o,isLimit:i,isBridge:n});return no.default.createElement("div",{className:(0,zn.default)(e,{[B.wallet]:r})},no.default.createElement("div",{className:B.content},no.default.createElement(s,{orderInfo:o,gasToken:t})))}var Yn=Ia;d();l();var M=S(A()),Ne=S(Q());d();l();var Ko=S(A()),$n=S(Q());d();l();var T={wrapper:"_wrapper_nj2i6_1",item:"_item_nj2i6_15",label:"_label_nj2i6_15",last:"_last_nj2i6_19",waiting:"_waiting_nj2i6_23",token:"_token_nj2i6_26",amount:"_amount_nj2i6_34","last-succeed":"_last-succeed_nj2i6_39",lastSucceed:"_last-succeed_nj2i6_39","token-amount-content":"_token-amount-content_nj2i6_42",tokenAmountContent:"_token-amount-content_nj2i6_42",activity:"_activity_nj2i6_45","waiting-symbol":"_waiting-symbol_nj2i6_48",waitingSymbol:"_waiting-symbol_nj2i6_48","amount-info":"_amount-info_nj2i6_51",amountInfo:"_amount-info_nj2i6_51","amount-text":"_amount-text_nj2i6_54",amountText:"_amount-text_nj2i6_54","status-box":"_status-box_nj2i6_59",statusBox:"_status-box_nj2i6_59","status-overflow":"_status-overflow_nj2i6_62",statusOverflow:"_status-overflow_nj2i6_62","next-arrow":"_next-arrow_nj2i6_68",nextArrow:"_next-arrow_nj2i6_68",tip:"_tip_nj2i6_74","arrow-icon":"_arrow-icon_nj2i6_84",arrowIcon:"_arrow-icon_nj2i6_84","flex-grow-0":"_flex-grow-0_nj2i6_93",flexGrow0:"_flex-grow-0_nj2i6_93","extra-gain":"_extra-gain_nj2i6_100",extraGain:"_extra-gain_nj2i6_100","process-tip-wrapper":"_process-tip-wrapper_nj2i6_118",processTipWrapper:"_process-tip-wrapper_nj2i6_118","border-tip-wrapper":"_border-tip-wrapper_nj2i6_128",borderTipWrapper:"_border-tip-wrapper_nj2i6_128","shadow-token-box":"_shadow-token-box_nj2i6_134",shadowTokenBox:"_shadow-token-box_nj2i6_134","go-to-swap":"_go-to-swap_nj2i6_137",goToSwap:"_go-to-swap_nj2i6_137","tip-fold":"_tip-fold_nj2i6_140",tipFold:"_tip-fold_nj2i6_140",loader:"_loader_nj2i6_143","waiting-logo":"_waiting-logo_nj2i6_150",waitingLogo:"_waiting-logo_nj2i6_150","sub-status-box":"_sub-status-box_nj2i6_153",subStatusBox:"_sub-status-box_nj2i6_153","sub-status-icon":"_sub-status-icon_nj2i6_157",subStatusIcon:"_sub-status-icon_nj2i6_157","icon-rotate":"_icon-rotate_nj2i6_161",iconRotate:"_icon-rotate_nj2i6_161",rotate:"_rotate_nj2i6_1","sub-status-icon-gas-token":"_sub-status-icon-gas-token_nj2i6_169",subStatusIconGasToken:"_sub-status-icon-gas-token_nj2i6_169",s0:"_s0_nj2i6_178","token-border":"_token-border_nj2i6_186",tokenBorder:"_token-border_nj2i6_186","share-link":"_share-link_nj2i6_189",shareLink:"_share-link_nj2i6_189","chain-name":"_chain-name_nj2i6_194",chainName:"_chain-name_nj2i6_194","gas-token-wrapper":"_gas-token-wrapper_nj2i6_212",gasTokenWrapper:"_gas-token-wrapper_nj2i6_212","gas-token":"_gas-token_nj2i6_212",gasToken:"_gas-token_nj2i6_212","waiting-chain-name":"_waiting-chain-name_nj2i6_219",waitingChainName:"_waiting-chain-name_nj2i6_219",loading:"_loading_nj2i6_222","loading-text":"_loading-text_nj2i6_231",loadingText:"_loading-text_nj2i6_231",failed:"_failed_nj2i6_234","waiting-icon":"_waiting-icon_nj2i6_237",waitingIcon:"_waiting-icon_nj2i6_237","gas-token-amount":"_gas-token-amount_nj2i6_240",gasTokenAmount:"_gas-token-amount_nj2i6_240","waiting-gas-token":"_waiting-gas-token_nj2i6_244",waitingGasToken:"_waiting-gas-token_nj2i6_244","gas-token-logo":"_gas-token-logo_nj2i6_244",gasTokenLogo:"_gas-token-logo_nj2i6_244","gas-token-info":"_gas-token-info_nj2i6_247",gasTokenInfo:"_gas-token-info_nj2i6_247","gas-token-chain-name":"_gas-token-chain-name_nj2i6_250",gasTokenChainName:"_gas-token-chain-name_nj2i6_250","pending-gas-token":"_pending-gas-token_nj2i6_253",pendingGasToken:"_pending-gas-token_nj2i6_253","succeed-gas-token":"_succeed-gas-token_nj2i6_256",succeedGasToken:"_succeed-gas-token_nj2i6_256","gas-token-symbol":"_gas-token-symbol_nj2i6_260",gasTokenSymbol:"_gas-token-symbol_nj2i6_260","text-overflow":"_text-overflow_nj2i6_263",textOverflow:"_text-overflow_nj2i6_263","amount-overflow":"_amount-overflow_nj2i6_268",amountOverflow:"_amount-overflow_nj2i6_268","pending-right-state":"_pending-right-state_nj2i6_275",pendingRightState:"_pending-right-state_nj2i6_275","pending-left-content":"_pending-left-content_nj2i6_278",pendingLeftContent:"_pending-left-content_nj2i6_278",link:"_link_nj2i6_282","pending-bottom-32":"_pending-bottom-32_nj2i6_286",pendingBottom32:"_pending-bottom-32_nj2i6_286","count-down-pill":"_count-down-pill_nj2i6_289",countDownPill:"_count-down-pill_nj2i6_289","position-relative":"_position-relative_nj2i6_292",positionRelative:"_position-relative_nj2i6_292","speeding-up-content":"_speeding-up-content_nj2i6_295",speedingUpContent:"_speeding-up-content_nj2i6_295","speed-up":"_speed-up_nj2i6_299",speedUp:"_speed-up_nj2i6_299","filter-order-pill":"_filter-order-pill_nj2i6_302",filterOrderPill:"_filter-order-pill_nj2i6_302","item-wrapper":"_item-wrapper_nj2i6_306",itemWrapper:"_item-wrapper_nj2i6_306","item-wrapper-left":"_item-wrapper-left_nj2i6_309",itemWrapperLeft:"_item-wrapper-left_nj2i6_309","item-wrapper-right":"_item-wrapper-right_nj2i6_318",itemWrapperRight:"_item-wrapper-right_nj2i6_318","box-pd":"_box-pd_nj2i6_321",boxPd:"_box-pd_nj2i6_321","progress-bar":"_progress-bar_nj2i6_324",progressBar:"_progress-bar_nj2i6_324","progress-delay":"_progress-delay_nj2i6_329",progressDelay:"_progress-delay_nj2i6_329","progress-val":"_progress-val_nj2i6_332",progressVal:"_progress-val_nj2i6_332","symbol-color":"_symbol-color_nj2i6_339",symbolColor:"_symbol-color_nj2i6_339","fold-arrow":"_fold-arrow_nj2i6_342",foldArrow:"_fold-arrow_nj2i6_342","pending-left6":"_pending-left6_nj2i6_347",pendingLeft6:"_pending-left6_nj2i6_347","icon-font-centers":"_icon-font-centers_nj2i6_350",iconFontCenters:"_icon-font-centers_nj2i6_350","token-amount-big":"_token-amount-big_nj2i6_353",tokenAmountBig:"_token-amount-big_nj2i6_353","token-amount-small":"_token-amount-small_nj2i6_360",tokenAmountSmall:"_token-amount-small_nj2i6_360","token-amount-wrapper":"_token-amount-wrapper_nj2i6_367",tokenAmountWrapper:"_token-amount-wrapper_nj2i6_367"};var wa=({isFromStart:o,exploreUrl:e,hiddenExploreUrl:t,iconClassName:r})=>{let i={className:(0,$n.default)("content-contrast",T.shareLink),handleStyle:!1};return!o&&e&&!t?Ko.default.createElement(Ue,{href:e,...i},Ko.default.createElement(J,{className:r||"okx-defi-web3-open-link",size:16})):null},so=ue(wa);d();l();var Z={wrapper:"_wrapper_1y948_1","token-group":"_token-group_1y948_15",tokenGroup:"_token-group_1y948_15","detail-text":"_detail-text_1y948_25",detailText:"_detail-text_1y948_25",fail:"_fail_1y948_31",blue:"_blue_1y948_39",item:"_item_1y948_44",green:"_green_1y948_47",img:"_img_1y948_53","dialog-info":"_dialog-info_1y948_57",dialogInfo:"_dialog-info_1y948_57",statusBox:"_statusBox_1y948_61","fold-arrow":"_fold-arrow_1y948_65",foldArrow:"_fold-arrow_1y948_65","execution-history-box":"_execution-history-box_1y948_70",executionHistoryBox:"_execution-history-box_1y948_70","execution-history-title":"_execution-history-title_1y948_77",executionHistoryTitle:"_execution-history-title_1y948_77","execution-history-desc":"_execution-history-desc_1y948_83",executionHistoryDesc:"_execution-history-desc_1y948_83","execution-history-content":"_execution-history-content_1y948_90",executionHistoryContent:"_execution-history-content_1y948_90","execution-history-item":"_execution-history-item_1y948_95",executionHistoryItem:"_execution-history-item_1y948_95","execution-history-time":"_execution-history-time_1y948_103",executionHistoryTime:"_execution-history-time_1y948_103","execution-history-msg":"_execution-history-msg_1y948_106",executionHistoryMsg:"_execution-history-msg_1y948_106","execution-history-info":"_execution-history-info_1y948_112",executionHistoryInfo:"_execution-history-info_1y948_112","execution-history-icon":"_execution-history-icon_1y948_115",executionHistoryIcon:"_execution-history-icon_1y948_115"};var ya={0:"swaptrade_max_fee_reminder_trade_successful",3016:"swaptrade_max_fee_reminder_no_quote_low_liquidity",3005:"swaptrade_tee_reminder_quoted_price_below_min",3018:"swaptrade_tee_reminder_mev_provider_error",3017:"swaptrade_tee_reminder_unable_fetch_quote",3020:"swaptrade_tee_reminder_blocklisted_address_no_trade",3019:"swaptrade_tee_reminder_risky_token_no_trade",3023:"swaptrade_tee_reminder_limit_order_expired",3007:"swaptrade_tee_reminder_signature_failed",3006:"swaptrade_tee_reminder_preexecution_error",3014:"swaptrade_tee_reminder_insuffcient_funds_fee",3013:"swaptrade_tee_reminder_insufficient_funds_wallet",3015:"swaptrade_max_fee_reminder_order_exceeds_slippage",3008:"swaptrade_max_fee_reminder_broadcast_failed",3010:"swaptrade_tee_reminder_on_chain_failed",2001:"swaptrade_max_fee_reminder_failed_to_auto_cancel",2002:"swaptrade_max_fee_reminder_order_auto_canceled",2003:"swaptrade_max_fee_reminder_failed_to_cancel_order",2004:"swaptrade_max_fee_reminder_order_canceled",2005:"swaptrade_max_fee_reminder_order_expired",2006:"swaptrade_max_fee_reminder_failed_to_edit_order",2007:"swaptrade_max_fee_reminder_order_edited",2008:"swaptrade_max_fee_reminder_trade_successful",2009:"swaptrade_max_fee_reminder_broadcast_failed",2010:"swaptrade_max_fee_reminder_order_exceeds_slippage",2011:"swaptrade_max_fee_reminder_failed_to_create_order",2012:"swaptrade_max_fee_reminder_order_created"},xa=({orderInfo:o})=>{let{fromTokenGroupLabel:e,fromTokenGroupLabelEquation:t,fromTokenIcon:r,toTokenGroupLabel:i,toTokenGroupLabelEquation:n,toTokenIcon:s,isSuccess:a,isFailed:u,executionHistoryList:p=[],executionHistoryShowMaxNum:g=5}=o,[f,y]=(0,M.useState)(!1),x=p?.length>0;return M.default.createElement("div",{className:(0,Ne.default)(Z.wrapper)},M.default.createElement("div",{className:(0,Ne.default)("flex flex-col")},M.default.createElement("span",{className:(0,Ne.default)("font-14 mb-8")},m("swaptrade_orders_label_sell1")),M.default.createElement("div",{className:(0,Ne.default)("flex items-center",Z.tokenGroup)},M.default.createElement("img",{src:r??"",alt:"",className:(0,Ne.default)("mr-12",Z.img)}),M.default.createElement(ht,{text:e,equation:t},M.default.createElement("span",{className:(0,Ne.default)("ellipsis",Z.detailText)},t?.split(" ")?.[0]," ",M.default.createElement("span",{className:"content-contrast"},t?.split(" ")?.[1]))),x&&M.default.createElement("div",{className:(0,Ne.default)("flex justify-content-end",Z.statusBox)},M.default.createElement(J,{className:(0,Ne.default)(Z.foldArrow,{"okx-defi-dex-arrow-down":f,"okx-defi-dex-arrow-up":!f}),onClick:()=>{y(w=>!w)},size:24})))),x&&!f&&M.default.createElement("div",{className:Z.executionHistoryBox},M.default.createElement("div",{className:Z.executionHistoryTitle},m("swaptrade_max_fee_header_order_execution_history")),M.default.createElement("div",{className:Z.executionHistoryContent},M.default.createElement("div",{className:Z.executionHistoryDesc},m("swaptrade_max_fee_reminder_only_displaying_last_5",{num:Je.formatNumber(g)})),p.map((w,C)=>{let k=w.executionTime+w.code+C;return M.default.createElement("div",{key:k,className:Z.executionHistoryItem},M.default.createElement("div",{className:Z.executionHistoryInfo},M.default.createElement("span",{className:Z.executionHistoryTime},Je.formatDateTime(new Date(Number(w.executionTime)),{format:"yyyyMMddHHmm"})),M.default.createElement("span",{className:Z.executionHistoryMsg},m(ya[w.code])||"")),M.default.createElement("div",{className:Z.executionHistoryIcon},M.default.createElement(so,{exploreUrl:w.exploreUrl,hiddenExploreUrl:!w.exploreUrl})))}))),M.default.createElement("div",{className:(0,Ne.default)("flex flex-col",Z.item)},M.default.createElement("span",{className:(0,Ne.default)("font-14 mb-12")},m(a?"swaptrade_orders_label_receive":"swaptrade_tee_tab_label_est_received")),M.default.createElement("div",{className:(0,Ne.default)("flex items-center",Z.tokenGroup)},M.default.createElement("img",{src:s??"",alt:"",className:(0,Ne.default)("mr-12",Z.img)}),M.default.createElement(ht,{text:i,equation:n},M.default.createElement("span",{className:(0,Ne.default)("ellipsis",{[Z.green]:a,[Z.detailText]:!a})},u?re:M.default.createElement(M.default.Fragment,null,n?.split(" ")?.[0]," ",M.default.createElement("span",{className:"content-contrast"},n?.split(" ")?.[1])))))))},Xn=xa;d();l();var He=S(A()),Xo=S(Q());d();l();d();l();var $e=S(A()),Jn=S(Yr()),Zn=S(Q());d();l();var ka=o=>String(o)==="3",Ca=o=>String(o)==="8",zo=o=>String(o)==="22",va=o=>ka(o)||Ca(o)||zo(o),ao=({blockProcess:o,bridgeId:e})=>o===ie.BLOCK_BRIDGE&&va(e);d();l();var ee=S(A()),Ge=S(Q());d();l();var se={box:"_box_oxkj0_1","mt-12":"_mt-12_oxkj0_9",mt12:"_mt-12_oxkj0_9",content:"_content_oxkj0_12","show-less-content":"_show-less-content_oxkj0_17",showLessContent:"_show-less-content_oxkj0_17","show-more-content":"_show-more-content_oxkj0_20",showMoreContent:"_show-more-content_oxkj0_20",overview:"_overview_oxkj0_23","overview-ellipsis":"_overview-ellipsis_oxkj0_27",overviewEllipsis:"_overview-ellipsis_oxkj0_27",list:"_list_oxkj0_35","list-item":"_list-item_oxkj0_39",listItem:"_list-item_oxkj0_39","switch-btn":"_switch-btn_oxkj0_43",switchBtn:"_switch-btn_oxkj0_43","switch-btn-icon":"_switch-btn-icon_oxkj0_47",switchBtnIcon:"_switch-btn-icon_oxkj0_47","switch-btn-icon-hide":"_switch-btn-icon-hide_oxkj0_55",switchBtnIconHide:"_switch-btn-icon-hide_oxkj0_55","action-content":"_action-content_oxkj0_58",actionContent:"_action-content_oxkj0_58","action-content-icon":"_action-content-icon_oxkj0_63",actionContentIcon:"_action-content-icon_oxkj0_63","guid-url-content":"_guid-url-content_oxkj0_68",guidUrlContent:"_guid-url-content_oxkj0_68","guid-url":"_guid-url_oxkj0_68",guidUrl:"_guid-url_oxkj0_68","no-box-wrapper":"_no-box-wrapper_oxkj0_75",noBoxWrapper:"_no-box-wrapper_oxkj0_75"};d();l();var ba=o=>{switch(o){case Ye.SINGLE:return"customer_support_singlechainswap";case Ye.CROSS_FROM_SWAP:return"customer_support_fromswap";case Ye.CROSS_BRIDGE_SWAP:return"customer_support_bridge";case Ye.CROSS_TO_SWAP:return"customer_support_toswap";default:return""}},Qn=ba;var Aa=({overview:o,detailList:e=[],onClickSubOrderTip:t=null,subOrderTipText:r="",hasCustomerService:i=!1,orderId:n="",subOrderType:s="",className:a="",guideUrl:u=""})=>{let[p,g]=(0,ee.useState)(!1),[f,y]=(0,ee.useState)(!0),x=(0,ee.useRef)(null),{recentTransactionStore:w,accountStore:C}=K(),k=()=>{y(!f)},E=()=>{if(Rt({wallet_address:C.computedAccountWalletAddresses,order_id:n,button_name:Qn(s)}),nt()){let v=m("swaptrade_function_textbtn_contact_customer_support_link");_i(v,"_blank")}else w.closeModal(),window.okGlobal?.showCS?.()};return(0,ee.useEffect)(()=>{if(e&&e.length>0){g(!0);return}if(x?.current){let O=x.current.getBoundingClientRect().height;g(O>48)}},[o,e,x]),ee.default.createElement("div",{className:(0,Ge.default)("flex flex-column",se.box,se[a])},ee.default.createElement("div",{className:(0,Ge.default)("font-12",se.content,f?se.showLessContent:se.showMoreContent)},ee.default.createElement("p",{className:(0,Ge.default)(se.overview,{[se.overviewEllipsis]:f&&p}),ref:x},o),e.length>0&&!f?ee.default.createElement("ul",{className:se.list},e.map((O,v)=>ee.default.createElement("li",{key:v,className:se.listItem},O))):null),p?ee.default.createElement(sr,{className:(0,Ge.default)("flex align-items-center font-bold",se.switchBtn),onClick:k},f?m("swaptrade_function_dropdown_show_more"):m("swaptrade_function_dropdown_show_less"),ee.default.createElement(Ke,{className:(0,Ge.default)("okx-defi-dex-arrow-down-chevrons",se.switchBtnIcon,{[se.switchBtnIconHide]:f}),style:{fontSize:12}})):null,t?ee.default.createElement(sr,{className:(0,Ge.default)("flex align-items-center font-700",se.actionContent),onClick:t},r,ee.default.createElement(Ke,{className:(0,Ge.default)("okx-defi-dex-arrow-to",se.actionContentIcon),style:{fontSize:12}})):null,i?ee.default.createElement(sr,{className:(0,Ge.default)("flex align-items-center font-700",se.actionContent),onClick:E},m("swaptrade_function_textbtn_contact_customer_support"),ee.default.createElement(Ke,{className:(0,Ge.default)("okx-defi-dex-arrow-to",se.actionContentIcon),style:{fontSize:12}})):null,!!u&&ee.default.createElement(Ue,{handleStyle:!1,href:u,className:(0,Ge.default)("flex align-items-center font-700",se.guidUrlContent,se.guidUrl)},m("swaptrade_general_btn_check_guide"),ee.default.createElement(Ke,{className:(0,Ge.default)("okx-defi-dex-arrow-to",se.actionContentIcon),style:{fontSize:12}})))},Jt=ue(Aa);d();l();var kt={link:"_link_105qk_1","a-tag":"_a-tag_105qk_1",aTag:"_a-tag_105qk_1","tip-copy":"_tip-copy_105qk_8",tipCopy:"_tip-copy_105qk_8"};var Yo=({bridgeName:o="",bridgeId:e})=>{let t=m("swaptrade_bridge_reminder_desc_swft_reason",{bridge:o}),r=[];if(zo(e)){let i=m("swaptrade_bridge_reminder_desc_meson_org_address"),n=m("swaptrade_bridge_reminder_desc_meson_org_discord");r=[$e.default.createElement("span",{className:kt.link},$e.default.createElement(Br,{href:i,alt:o,className:kt.aTag},i)),$e.default.createElement("span",{className:kt.link},$e.default.createElement(Br,{href:n,alt:o,className:kt.aTag},n))]}else{let i=m("swaptrade_bridge_reminder_desc_swft_org_address"),n=m("swaptrade_bridge_reminder_desc_swft_org_email");r=[$e.default.createElement("span",{className:kt.link},$e.default.createElement(Br,{href:i,alt:i,className:kt.aTag},i)),$e.default.createElement("div",null,n,$e.default.createElement(Jn.CopyToClipboard,{text:n,onCopy:()=>{_t.success(m("swaptrade_order_info_label_from_copy_success"))}},$e.default.createElement(Ke,{className:(0,Zn.default)("okx-defi-dex-copy2",kt.tipCopy)})))]}return $e.default.createElement(Jt,{overview:t,detailList:r,className:"noBoxWrapper"})};d();l();var We=S(A()),es=S(Q());d();l();var $o={alert:"_alert_1eudu_1",close:"_close_1eudu_8","customer-text":"_customer-text_1eudu_15",customerText:"_customer-text_1eudu_15"};var Ea=({visible:o,computedPendingTimingStatus:e,isWalletEnv:t,order:r})=>{let{orderId:i,specialOrderType:n,fromChainName:s,willNeedManualClaim:a,toSymbol:u}=r,{recentTransactionStore:p,accountStore:g}=K(),f=(0,We.useCallback)(()=>{Rt({wallet_address:g.computedAccountWalletAddresses,order_id:i,button_name:"customer_support_top"})},[g.computedAccountWalletAddresses,i]),y=(0,We.useCallback)(()=>{f(),window.okGlobal?.showCS()},[f]),x=(0,We.useMemo)(()=>t?{target:"_blank",href:m("swaptrade_history_link_help_center"),onClick:f}:{onClick:y},[t,f,y]),w=(0,We.useMemo)(()=>n===un.FromIsBtcChain?m("swaptrade_history_text_mechanism_unique",{chain:s}):e===Bt.TIMEOUT?We.default.createElement(We.default.Fragment,null,m(t?"swaptrade_history_reminder_customer_service":"swaptrade_mid_reminder_avoid_waiting"),"\xA0",We.default.createElement(ho,{type:ho.TYPE.secondary,underline:!0,linkClassName:$o.customerText,...x},m(t?"swaptrade_history_textbtn_helper":"swaptrade_mid_textbtn_customer_service"))):a===jr?m("swaptrade_bridge_reminder_you_may_close_this",{token:u}):p.computedIsGasStation?m("swaptrade_history_toast_after_swap"):m("swaptrade_history_toast_confirming_check"),[e,p.computedIsGasStation,t,x,n,s,a,u]);return o?We.default.createElement("div",{className:(0,es.default)($o.alert)},We.default.createElement("p",null,w)):null},ts=ue(Ea);d();l();var Ct={status:"_status_omr0p_1",loader:"_loader_omr0p_1","loader-wrap":"_loader-wrap_omr0p_5",loaderWrap:"_loader-wrap_omr0p_5","cancel-btn":"_cancel-btn_omr0p_8",cancelBtn:"_cancel-btn_omr0p_8","fail-btn":"_fail-btn_omr0p_11",failBtn:"_fail-btn_omr0p_11","fail-icon":"_fail-icon_omr0p_14",failIcon:"_fail-icon_omr0p_14","fail-desc":"_fail-desc_omr0p_17",failDesc:"_fail-desc_omr0p_17","is-not-empty":"_is-not-empty_omr0p_20",isNotEmpty:"_is-not-empty_omr0p_20","fixed-btn":"_fixed-btn_omr0p_34",fixedBtn:"_fixed-btn_omr0p_34","inner-btn":"_inner-btn_omr0p_43",innerBtn:"_inner-btn_omr0p_43","header-status-wrap":"_header-status-wrap_omr0p_46",headerStatusWrap:"_header-status-wrap_omr0p_46",desc:"_desc_omr0p_58","expire-time":"_expire-time_omr0p_61",expireTime:"_expire-time_omr0p_61","expire-time-content":"_expire-time-content_omr0p_68",expireTimeContent:"_expire-time-content_omr0p_68","absolute-expire-time":"_absolute-expire-time_omr0p_72",absoluteExpireTime:"_absolute-expire-time_omr0p_72","back-icon":"_back-icon_omr0p_85",backIcon:"_back-icon_omr0p_85","top-wrapper":"_top-wrapper_omr0p_93",topWrapper:"_top-wrapper_omr0p_93","header-status-icon":"_header-status-icon_omr0p_100",headerStatusIcon:"_header-status-icon_omr0p_100"};function Oa({order:o,className:e="",isWalletEnv:t=!1,computedPendingTimingStatus:r,onClickSwapAgain:i,computedIfSwapFailedAmount:n,orderContinueStatus:s,isDialog:a,firstBlockProcess:u}){let{status:p,abnormalStatus:g,showSwapAgainBtn:f}=o,y=[c.Waiting,c.SpeedingUp].includes(p)?c.Pending:p,[x,w]=(0,He.useState)(!!ze.get(Ao)),C=ao({blockProcess:u,bridgeId:o?.bridgeId}),k=(0,He.useMemo)(()=>C?!1:!([c.Succeed,c.PendingWithdrawn,c.PendingCanRedeem,c.PendingRedeeming,c.Failed,c.Canceled,c.ReadyToClaim,c.Claiming].includes(y)||x),[x,y,C]),E=()=>{ze.set(Ao,"1"),w(!0)},O=(0,He.useMemo)(()=>{let L=null;return y===c.Pending&&g!=="-1"&&(L=He.default.createElement("div",{className:(0,Xo.default)("font-400 font-12 line-20 content-contrast",Ct.statusExplain)},g==="1"&&m("swaptrade_popup_pending_desc_for_assets_safety"),g==="2"&&m("swaptrade_popup_pending_desc_transaction_volume_toolarge"))),L},[y,g]),v=(0,He.useMemo)(()=>s===wi.LOADING,[s]);return He.default.createElement("div",{className:(0,Xo.default)("text-center",Ct.status,{[Ct.showAlert]:k,[Ct.wallet]:t,[Ct.isNotEmpty]:O||k},e)},f&&!a&&He.default.createElement("div",{className:Ct.fixedBtn},He.default.createElement(Nt,{loading:v,className:Ct.innerBtn,onClick:i,loadingText:n?m("swaptrade_history_btn_resubmit_transaction"):m("swaptrade_history_btn_onemore_conversion"),category:Nt.CATEGORY.fill,type:Nt.TYPE.primary,size:Nt.SIZE.md},n?m("swaptrade_history_btn_resubmit_transaction"):m("swaptrade_history_btn_onemore_conversion"))),O,He.default.createElement(ts,{isWalletEnv:t,computedPendingTimingStatus:r,visible:k,onClose:E,order:o}))}var rs=Oa;d();l();var bt=S(A()),fs=S(Q());d();l();var os=S(A());var La=o=>(0,os.useMemo)(()=>[c.Waiting,c.SpeedingUp].includes(o)?c.Pending:o,[o]),is=La;d();l();var ke=S(A()),lt=S(Q());d();l();var Zt={box:"_box_hp1z1_1","token-logo":"_token-logo_hp1z1_4",tokenLogo:"_token-logo_hp1z1_4","token-info":"_token-info_hp1z1_10",tokenInfo:"_token-info_hp1z1_10","token-amount":"_token-amount_hp1z1_13",tokenAmount:"_token-amount_hp1z1_13","share-link":"_share-link_hp1z1_23",shareLink:"_share-link_hp1z1_23","error-info":"_error-info_hp1z1_26",errorInfo:"_error-info_hp1z1_26"};var Da=({isFromChainRefund:o,exploreUrl:e,fromTokenIcon:t,formatRefundAmount:r,refundSymbol:i,refundChain:n})=>{if(!o)return null;let s=`${r} ${i}`,a=m("swaptrade_history_notif_thirdparty_bridge_refund",{amount:r,symbol:i,chain:n});return ke.default.createElement("div",{className:(0,lt.default)(Zt.box)},ke.default.createElement("div",{className:(0,lt.default)("flex align-items-center justify-between")},ke.default.createElement("div",{className:(0,lt.default)("flex align-items-center")},ke.default.createElement("div",{className:(0,lt.default)(Zt.tokenLogo)},ke.default.createElement(mr,{src:t,size:22,className:(0,lt.default)("shrink-0",T.tokenBorder)})),ke.default.createElement("div",{className:(0,lt.default)(Zt.tokenInfo)},ke.default.createElement(ct,{title:s,textOverflow:{text:s},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300},ke.default.createElement("div",{className:(0,lt.default)(Zt.tokenAmount,T.amountOverflow)},Ze("+",r)," ",ke.default.createElement("span",{className:T.symbolColor},i))),ke.default.createElement("p",{className:T.chainName},n))),e&&ke.default.createElement("div",null,ke.default.createElement(Ue,{href:e,className:(0,lt.default)("content-contrast",Zt.shareLink),handleStyle:!1},ke.default.createElement(J,{className:"okx-defi-web3-open-link",size:16})))),ke.default.createElement("div",{className:Zt.errorInfo},ke.default.createElement(Jt,{overview:a,hasCustomerService:!0})))},ns=Da;d();l();var V=S(A()),vt=S(Q());var Na=({gasToken:o,networks:e,isWalletEnv:t})=>{let r=(0,V.useRef)(null),i=(0,V.useRef)(null),n=(0,V.useRef)(null),s=(0,V.useRef)(null),[a,u]=(0,V.useState)({}),[p,g]=(0,V.useState)({}),f=(0,V.useMemo)(()=>({fontSize:14,lineHeight:"16px"}),[]),y="14px",x=(0,V.useCallback)(({expectWidth:C,rightTextWidth:k,refRightTextComputedStyle:E,refLeftTextComputedStyle:O})=>{C<k&&(E.fontSize!==y?u(f):O.fontSize!==y?(u(f),g(f)):(u({width:C,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...f}),g(f)))},[f]),w=(0,V.useCallback)(()=>{let C=r?.current?.clientWidth,k=i?.current?.scrollWidth,E=s?.current?.scrollWidth;if(C&&k&&E){let O=C-k-73,v=window.getComputedStyle(s?.current),L=window.getComputedStyle(n?.current);x({expectWidth:O,rightTextWidth:E,refRightTextComputedStyle:v,refLeftTextComputedStyle:L})}},[x]);return(0,V.useEffect)(()=>{w()},[a.fontSize,p.fontSize,w]),o?V.default.createElement("div",{className:(0,vt.default)("flex align-items-center justify-content-between overflow-hidden",T.gasTokenWrapper)},V.default.createElement("div",{ref:r,className:(0,vt.default)("flex align-items-center",T.gasToken,{[T.pendingGasToken]:o.status===xr.Pending,[T.waitingGasToken]:o.status===xr.Waiting,[T.succeedGasToken]:o.status===xr.Succeed})},V.default.createElement(mr,{src:o.logoUrl||yi(),size:32,className:(0,vt.default)("shrink-0",T.gasTokenLogo)}),V.default.createElement("div",{ref:i,className:(0,vt.default)("flex flex-column ml-12",{truncate:t},T.gasTokenInfo,T.pendingLeftContent)},V.default.createElement("span",{ref:n,className:(0,vt.default)(T.gasTokenAmount,{truncate:t}),style:p},Vr("swaptrade_confirm_transaction_text_numbersforrefuel",{value:W(o.amount),symbol:V.default.createElement("span",{className:T.gasTokenSymbol},o.symbol)})),V.default.createElement("span",{className:(0,vt.default)("font-12 content-contrast",T.label,T.gasTokenChainName)},e[1].chainName))),o.status===xr.Succeed&&V.default.createElement(Ue,{href:o.exploreUrl,className:(0,vt.default)(T.subStatusIconGasToken,T.shareLink)},V.default.createElement(J,{className:"okx-defi-web3-open-link content-contrast",size:16}))):null},ss=Na;d();l();var D=S(A()),de=S(Q());d();l();var er=S(A());var as=({countDownTime:o,isLast:e})=>o&&!e?er.default.createElement("span",{className:T.countDownPill},zr(o)):er.default.createElement(ar.Circle,{size:ar.SIZE.md,className:T.loader,loaderStyle:{borderWidth:1}}),Pa=({subOrder:o,isLast:e})=>{let{countDownTime:t,status:r}=o,i={countDownTime:t,isLast:e};return r===c.Pending?er.default.createElement(as,{...i}):r===c.SpeedingUp?er.default.createElement("div",{className:T.speedingUpContent},er.default.createElement("span",{className:T.speedUp},m("swaptrade_list_colored_speeding_up")),er.default.createElement(as,{...i})):null},ds=Pa;d();l();var Xe=S(A());d();l();var Nr=S(A());d();l();var Qo=S(A());Rr();d();l();var ae=o=>({amount:o?.refund?.amount,symbol:o?.refund?.symbol,chain:o?.refund?.chain}),tr=o=>({bridgeName:o?.bridgeInfo?.bridgeName}),Fa=o=>({bridge:o?.bridgeInfo?.bridgeName,token1:o?.dexBridgeShadowTokenPair?.realTokenSymbol,token2:o?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),Ra=()=>{let o=Re(),e=o?"swaptrade_history_notif_returned_failed_reasons":"swaptrade_servicefee_fee_notif_deduct_network_fee";return{1:{overviewKey:"swaptrade_history_notif_broadcast_failed"},2:{overviewKey:"swaptrade_history_notif_low_network_fee"},3:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},4:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},5:{overviewKey:"swaptrade_history_notif_failed_orders",detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},6:{overviewKey:"swaptrade_history_notif_accelerated_or_canceled"},7:{overviewKey:"swaptrade_history_notif_increase_gas"},8:{overviewKey:"swaptrade_history_errortip_official_bridge_asset_delay",renderOverview:t=>({chain:t?.chainName,value:t?.officialBridgeTime})},9:{overviewKey:"swaptrade_sub_order_tip_refund",hasCustomerService:!0},10:{overviewKey:"swaptrade_sub_order_tip_less_than_minimum"},11:{overviewKey:"swaptrade_trade_toast_multichain",renderOverview:t=>({wrapped:t.originalTokenSymbol,native:t.symbol})},12:{overviewKey:"swaptrade_bridge_toast_order_status_lag_behind_assets"},13:{overviewKey:"swaptrade_history_modal_top_error_jito_fail"},2003:{overviewKey:"swaptrade_history_notif_3rd_bridge_changes"},2501:{overviewKey:"swaptrade_history_notif_failed_returned_exchange",renderOverview:ae},2502:{overviewKey:"swaptrade_history_notif_failed_exchange"},2503:{overviewKey:"swaptrade_history_notif_returned_blacklist",renderOverview:ae},2504:{overviewKey:"swaptrade_history_notif_blacklist"},2506:{overviewKey:"swaptrade_history_notif_failed_increasing"},2507:{overviewKey:"swaptrade_history_notif_failed_returned_increasing",renderOverview:ae},2508:{overviewKey:"swaptrade_history_notif_failed_increasing"},2513:{overviewKey:"swaptrade_history_notif_returned_insufficient_liquidity",renderOverview:ae},2514:{overviewKey:"swaptrade_history_notif_3rdbridge_insufficient_liquidity"},2515:{overviewKey:"swaptrade_history_notif_returned_delisted_token",renderOverview:ae},2516:{overviewKey:"swaptrade_history_notif_delisted_token",renderOverview:ae},2517:{overviewKey:"swaptrade_history_notif_returned_limit",renderOverview:ae},2518:{overviewKey:"swaptrade_history_notif_limit"},2519:{overviewKey:"swaptrade_history_notif_bridge_slippage_later",renderOverview:ae},2520:{overviewKey:"swaptrade_history_notif_bridge_slippage_noref"},2598:{overviewKey:"swaptrade_history_notif_thirdparty_bridge_refund",renderOverview:ae,hasCustomerService:!0},2599:{overviewKey:"swaptrade_history_notif_thirdparty_bridge",hasCustomerService:!0},3502:{overviewKey:e,renderOverview:ae,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3504:{overviewKey:o?"swaptrade_history_notif_returned_contract":"swaptrade_servicefee_notif_returned_contract",renderOverview:ae},3505:{overviewKey:o?"swaptrade_history_notif_returned_broadcast_failed":"swaptrade_servicefee_notif_returned_broadcast_failed",renderOverview:ae},3506:{overviewKey:o?"swaptrade_history_notif_returned_low_fee":"swaptrade_servicefee_notif_returned_low_fee",renderOverview:ae},3507:{overviewKey:e,renderOverview:ae,detailKeyList:["swaptrade_history_notif_failure_reason1","swaptrade_history_notif_failure_reason1a"]},3508:{overviewKey:e,renderOverview:ae,detailKeyList:["swaptrade_history_notif_failure_reason2","swaptrade_history_notif_failure_reason2a","swaptrade_history_notif_failure_reason2b"]},3509:{overviewKey:e,renderOverview:ae,detailKeyList:["swaptrade_history_notif_failure_reason3","swaptrade_history_notif_failure_reason3a","swaptrade_history_notif_failure_reason3b"]},3510:{overviewKey:"swaptrade_history_notif_returned_accelerated_canceled",renderOverview:ae},3511:{overviewKey:o?"swaptrade_history_notif_returned_insufficient":"swaptrade_servicefee_notif_returned_insufficient",renderOverview:ae},3512:{overviewKey:"swaptrade_history_notif_returned_low_gas",renderOverview:ae},3599:{overviewKey:o?"swaptrade_history_notif_returned_error":"swaptrade_servicefee_notif_returned_error",renderOverview:ae,hasCustomerService:!0},9999:{overviewKey:"swaptrade_history_notif_error_contact_support",hasCustomerService:!0},4001:{overviewKey:"swaptrade_pop_dialog_desc_intent_error_retry"},4002:{overviewKey:"swaptrade_bridge_alert_desc_bridge_process_error",renderOverview:t=>({bridge:t?.bridgeInfo?.bridgeName})},4003:{overviewKey:"swaptrade_history_notif_desc_synapse_website_swap",renderOverview:Fa,hasGuideUrl:!0},999999:{overviewKey:"swaptrade_history_modal_tips_update_balance"},2600:{overviewKey:"swaptrade_reminder_desc_debridge_refund",renderOverview:tr,hasGuideUrl:!0},2601:{overviewKey:"swaptrade_reminder_desc_wormhole_refund",renderOverview:tr,hasGuideUrl:!0},2602:{overviewKey:"swaptrade_reminder_desc_arbitrum_refund",renderOverview:t=>({...tr(t),min:t?.officialBridgeTime}),hasGuideUrl:!0},2603:{overviewKey:"swaptrade_reminder_desc_wanchain_blocklist",renderOverview:tr},2604:{overviewKey:"swaptrade_reminder_desc_wormhole_daily_limit",renderOverview:tr},2605:{overviewKey:"swaptrade_reminder_desc_wormhole_maximum_limit",renderOverview:tr},2606:{overviewKey:"swaptrade_reminder_desc_meson_liquidity",renderOverview:tr}}},ls=Ra;var Ba=({errorCode:o,subOrder:e,onClickShadowToken:t=()=>{},orderId:r=""})=>{let i=be(ls(),o);if(i){let n=m(i.overviewKey,i.renderOverview?i.renderOverview(e):void 0),{subOrderType:s}=e||{},a=i.hasGuideUrl?e?.guideUrl:"",u=Array.isArray(i.detailKeyList)?i.detailKeyList.map(p=>m(p)):[];return Qo.default.createElement(Jt,{overview:n,detailList:u,hasCustomerService:!!i.hasCustomerService,orderId:r,subOrderType:s,guideUrl:a})}else if(o==="3501"){let n=e?.dexBridgeShadowTokenPair;if(n&&e?.dexBridgeShadowTokenPairChainId){let s=()=>{t({from:{chainId:e.dexBridgeShadowTokenPairChainId,tokenContractAddress:n.shadowTokenAddress??""},to:{chainId:e.dexBridgeShadowTokenPairChainId,tokenContractAddress:n.realTokenAddress??""},inputAmount:n.needSwapAmount??""})};return Qo.default.createElement(Jt,{overview:m("swaptrade_reminder_text_trade_convert",{bridge:e?.bridgeInfo?.bridgeName,tokensymbol:e?.dexBridgeShadowTokenPair?.shadowTokenSymbol}),subOrderTipText:m("swaptrade_function_notif_go_swap"),onClickSubOrderTip:s})}}return null},us=ue(Ba);d();l();var ps=S(A()),cs=S(Q());var Ma=({isFold:o,className:e,children:t})=>ps.default.createElement("div",{className:(0,cs.default)("font-12 flex-item",T.tip,e,{[T.tipFold]:o})},t),lo=Ma;var Ua=({isFold:o,subOrder:e={},insteadTip:t=null,onClickShadowToken:r=()=>{},orderId:i=""})=>{let n=String(e?.errorCode),s=(0,Nr.useMemo)(()=>n&&n!=="0"?Nr.default.createElement(us,{errorCode:n,subOrder:e,onClickShadowToken:r,orderId:i}):null,[n,e,r,i]);return s&&!e?.isFromStart?Nr.default.createElement(lo,{isFold:o},s):t},mo=Ua;d();l();var Me=S(A());var ja=({tipType:o,isFold:e=!1,subOrder:t={},isTimeOut:r=!1,fromStatus:i="",bridgeStatus:n="",tipCountDownTime:s=0,needShowErrorTip:a=!1,isOriginBridge:u,hasTimeoutTips:p,timeoutType:g,isMemeModeOrder:f=!1,isMemeTimeOut:y=!1,bridgeId:x="",bridgeName:w="",blockProcess:C=-1})=>{let{content:k,hasBorderStyle:E}=(0,Me.useMemo)(()=>{if(t.hasErrorCode)return{content:null};if(f&&y)return{content:m("swaptrade_history_modal_error_too_long")};let v=ao({blockProcess:C,bridgeId:x});if(p){if(v)return{hasBorderStyle:!0,content:Me.default.createElement(Yo,{bridgeName:w,bridgeId:x})};if(g===ie.SINGLE_TIPS||g===ie.GAS)return{content:m("swaptrade_history_reminder_wait_patiently")};if(g===ie.BRIDGE)return{content:m("swaptrade_history_reminder_crossing_assets_thx",{chain:t?.bridgeTipInfo?.toChainName||t?.toChainName,bridge:t?.bridgeTipInfo?.bridgeName||t?.bridgeOrderInfoVo?.bridgeName})}}return o===1?{content:Me.default.createElement(Me.default.Fragment,null,m(r?"swaptrade_history_reminder_exchanging_tokens_thx":"swaptrade_history_reminder_exchanging_tokens",{chain:t?.chainName,tokenSymbol1:t?.fromTokenSymbol,tokenSymbol2:t?.tipInfo?.toTokenSymbol}))}:o===2?v&&r?{hasBorderStyle:!0,content:Me.default.createElement(Yo,{bridgeName:w,bridgeId:x})}:{content:Me.default.createElement(Me.default.Fragment,null,m(r?"swaptrade_history_reminder_crossing_assets_thx":"swaptrade_history_reminder_crossing_assets",{chain:t?.bridgeTipInfo?.toChainName||t?.toChainName,bridge:t?.bridgeTipInfo?.bridgeName||t?.bridgeOrderInfoVo?.bridgeName}))}:{content:null}},[o,t,r,p,g,f,y,C,x,w]),O=i===c.SpeedingUp||n===c.SpeedingUp?`[${m("swaptrade_list_colored_speeding_up")}] `:"";return k?Me.default.createElement(lo,{isFold:e,className:E&&!e?T.borderTipWrapper:T.processTipWrapper},e&&!a&&Me.default.createElement("span",{className:T.filterOrderPill},O,s!==0&&Me.default.createElement("span",null,zr(s)," ")),u&&O&&Me.default.createElement("span",{className:T.filterOrderPill},O),k):null},uo=ja;var Ga=({isOriginBridge:o=!1,expireTime:e=0,isFold:t=!1,isLast:r=!1,fromStatus:i="",bridgeStatus:n="",foldTipToastData:s={foldTipType:"",currentProcessIsTimeOut:!0,tipCountDownTime:0,filterProcessItem:{},needShowErrorTip:!1},subOrder:a={},isWalletEnv:u=!1,onClickShadowToken:p=()=>{},isShow:g=!1,hasTimeoutTips:f,timeoutType:y,orderId:x="",isMemeModeOrder:w=!1,isMemeTimeOut:C=!1,bridgeId:k="",bridgeName:E="",blockProcess:O})=>{if(!g)return null;let{foldTipType:v,currentProcessIsTimeOut:L,tipCountDownTime:P,filterProcessItem:N,needShowErrorTip:F,foldBlockProcess:G}=s,z=t?N:a,q={isFold:t,isWalletEnv:u,subOrder:r?a:z,onClickShadowToken:p,orderId:x},le=a?.tipType===Be.bridge?Be.bridge:"",U={tipType:t?v:le,isFold:t,subOrder:r?a:z,isTimeOut:o?e<1:L,fromStatus:i,bridgeStatus:n,tipCountDownTime:P,needShowErrorTip:F,isOriginBridge:o,hasTimeoutTips:f,timeoutType:y,isMemeModeOrder:w,isMemeTimeOut:C,bridgeId:k,bridgeName:E,blockProcess:t?G:O},Y=Xe.default.createElement(Xe.default.Fragment,null);return t?F?Y=Xe.default.createElement(mo,{...q}):Y=r?Xe.default.createElement(mo,{...q}):Xe.default.createElement(uo,{...U}):f?Y=Xe.default.createElement(uo,{...U}):Y=Xe.default.createElement(Xe.default.Fragment,null,Xe.default.createElement(mo,{...q,insteadTip:r?null:Xe.default.createElement(uo,{...U})})),Y},Jo=ue(Ga);function Wa({bridgeStatus:o,fromStatus:e,expireTime:t,stepCount:r,subOrdersList:i,foldTipToastData:n,subOrder:s,index:a,isParticipateActivity:u,swapTradeType:p,gasStationActivityReward:g,isFold:f,setIsFold:y,isWalletEnv:x,onClickShadowToken:w,timeoutSubOrder:C,orderId:k,mainOrderStatus:E,isMemeModeOrder:O,isMemeTimeOut:v,bridgeId:L,bridgeName:P,fromChainRefundInfo:N,getScrollContainer:F=()=>{}}){let{key:G,status:z,exploreUrl:q,chainName:le,symbol:U,symbolLogo:Y,amount:te,isFromStart:Ce,hiddenExploreUrl:ce,showProgressBar:me,hasTimeoutTips:_e,timeoutType:fe,blockProcess:$}=s,ge=(0,D.useRef)(null),[xe,Qe]=(0,D.useState)(0),he=r===2,ve=z===c.Waiting,Oe=[c.Succeed,c.ReadyToClaim,c.Claiming,c.ClaimFailed].includes(z),rr=o===c.SpeedingUp,rt=a===0,X=a===i.length-1,or=a===i.length-2,mt=rt||X,ut="";te&&U&&(X&&Oe?ut="+":rt&&(ut="-"));let Ve=he&&rr,ir=z!==c.Pending&&z!==c.SpeedingUp||Ve,nr=[c.Pending,c.Waiting].includes(E),ot=`${Ze(ut,te)} ${U}`,qe={isFold:f,isLast:X,isOriginBridge:he,expireTime:t,fromStatus:e,bridgeStatus:o,foldTipToastData:n,subOrder:s,isWalletEnv:x,onClickShadowToken:w,hasTimeoutTips:_e&&nr,timeoutType:fe,orderId:k,isMemeModeOrder:O,isMemeTimeOut:v,bridgeId:L,bridgeName:P,blockProcess:$};return C&&f&&nr&&(qe.timeoutType=C.timeoutType,qe.hasTimeoutTips=C.hasTimeoutTips,qe.blockProcess=C.blockProcess),(0,D.useEffect)(()=>{let pt=ge?.current?.getBoundingClientRect()?.width||0,Dt=ge?.current?.parentElement?.getBoundingClientRect()?.width||0;Qe(Dt-pt-12)},[]),D.default.createElement("div",{className:(0,de.default)(T.item),key:G},rt&&D.default.createElement("div",{className:(0,de.default)("font-14",T.label)},m("swaptrade_card_swap_label1_pay")),X&&D.default.createElement("div",{className:(0,de.default)("font-14",T.label,X&&T.last,(ve||Ve)&&T.waiting)},m("swaptrade_card_swap_label2_receive")),D.default.createElement("div",{className:(0,de.default)("flex flex-row align-top",T.itemWrapper)},D.default.createElement("div",{className:T.itemWrapperLeft},D.default.createElement(mr,{src:Y,size:mt?32:22,className:(0,de.default)("shrink-0",T.tokenBorder,{[T.waitingLogo]:ve||Ve&&X})}),me&&!f&&D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:T["progress-bar"]},D.default.createElement("div",{className:(0,de.default)(T["progress-val"],{[T["progress-delay"]]:a===1})}))),X&&N.isFromChainRefund&&D.default.createElement("div",{className:T["progress-bar"]},D.default.createElement("div",{className:(0,de.default)(T["progress-val"],{[T["progress-delay"]]:a===1}),style:{height:"calc(100% + 44px)"}}))),D.default.createElement("div",{className:(0,de.default)(T.itemWrapperRight,{[T.boxPd]:!X&&!or,[T.iconFontCenters]:!mt})},D.default.createElement("div",{className:(0,de.default)("flex align-items-center",{[T["position-relative"]]:!X&&!or})},D.default.createElement("div",{className:T.token},D.default.createElement("div",{className:(0,de.default)("flex justify-between align-items-center")},D.default.createElement("div",{className:(0,de.default)(T.amount,{[T.flexGrow0]:!(te&&U),[T.lastSucceed]:X&&Oe,[T.activity]:u,[T.tokenAmountBig]:mt,[T.tokenAmountSmall]:!mt})},te&&U?D.default.createElement("div",{className:(0,de.default)("flex flex-item"),style:{maxWidth:`${xe}px`}},D.default.createElement(ct,{title:ot,textOverflow:{text:ot},alwaysUpdateTextOverflow:!0,noWrapper:!0,maxWidth:300,getScrollContainer:F},D.default.createElement("div",{className:(0,de.default)(T.tokenAmountWrapper,{[T.textOverflow]:!u,[T.amountOverflow]:u},u?"flex align-items-center flex-1 shrink-0":""),style:{maxWidth:`${xe}px`}},D.default.createElement("span",{className:T.tokenAmountContent},Ze(ut,te)," "),D.default.createElement("span",{className:T.symbolColor},U))),I.GasStation===p&&X&&u&&Oe&&D.default.createElement("div",{className:(0,de.default)("inline-flex align-items-center",T.extraGain)},D.default.createElement("div",{className:(0,de.default)("font-12")},m("swaptrade_order_tag_won_value",{percentage:Number(g.discount)*100})))):D.default.createElement(D.default.Fragment,null,!Ve&&D.default.createElement(ds,{subOrder:s,isLast:X}),ir&&D.default.createElement("span",{className:(0,de.default)({[T.waitingSymbol]:ve||Ve})},"--",D.default.createElement(Xi,{tokenSymbol:U,className:T.symbolColor}))),p!==I.SingleChain&&p!==I.GasStation?D.default.createElement("div",{className:(0,de.default)(T.chainName,ve&&T.waiting)},le):null),D.default.createElement("div",{ref:ge,className:(0,de.default)("flex justify-content-end",T.statusBox,T.textOverflow,T.flexGrow0)},rt&&!he&&D.default.createElement(J,{className:(0,de.default)(T.foldArrow,{"okx-defi-dex-arrow-down":f,"okx-defi-dex-arrow-up":!f}),onClick:()=>{y(pt=>!pt)},size:24}),D.default.createElement(so,{isFromStart:Ce,exploreUrl:q,hiddenExploreUrl:ce,index:a}))))),D.default.createElement(Jo,{...qe,isShow:!f||X}))),D.default.createElement(Jo,{...qe,isShow:f&&!X}))}var _s=ue(Wa);function Ha({subOrders:o,mainOrderStatus:e,swapTradeType:t,className:r="",gasToken:i,networks:n,orderInfo:s,isWalletEnv:a=!1,expireTime:u,foldTipToast:p,bridgeStatus:g,fromStatus:f,onClickShadowToken:y,fromChainRefundInfo:x,getScrollContainer:w}){let{gasStationActivityReward:C,orderId:k,status:E,isMemeModeOrder:O,isMemeTimeOut:v,bridgeId:L,bridgeName:P}=s,N=Number(C?.isParticipateActivity)===1,F=is(e),[G,z]=(0,bt.useState)(F!==c.Pending),q=G?[o[0],o[o.length-1]]:o,le=o.find(U=>U.hasTimeoutTips);return bt.default.createElement("div",null,bt.default.createElement("div",{className:(0,fs.default)(T.wrapper,{[T.wallet]:a},r)},q.map((U,Y)=>bt.default.createElement(_s,{bridgeStatus:g,fromStatus:f,key:`${U.key}_${Y}`,expireTime:u,stepCount:o.length,subOrdersList:q,foldTipToastData:p,subOrder:U,index:Y,isParticipateActivity:N,swapTradeType:t,gasStationActivityReward:C,isFold:G,setIsFold:z,isWalletEnv:a,onClickShadowToken:y,timeoutSubOrder:le,orderId:k,mainOrderStatus:E,isMemeModeOrder:O,isMemeTimeOut:v,bridgeId:L,bridgeName:P,fromChainRefundInfo:x,getScrollContainer:w})),bt.default.createElement(ns,{...x}),bt.default.createElement(ss,{gasToken:i,networks:n,mainOrderStatus:e,isWalletEnv:a})))}var gs=Ha;d();l();d();l();d();l();var At=()=>{let{replace:o}=Qi(!0),{recentTransactionStore:e}=K(),{computedDataDetail:t,computedFromToInfo:r}=e,{data:i}=t,n=Re()?{[I.LimitOrder]:Gr,[I.SingleChain]:Gr,[I.GasStation]:Gr}:{[I.LimitOrder]:hi,[I.SingleChain]:Tr,[I.GasStation]:Tr,[I.MemeMode]:i?.isNativeToken4FromToken==="1"?Tr+Ii:Tr+Si},s=Re()?Ti:gi;return a=>{let u=n[i.swapTradeType]||s;o({pathname:u,params:a||r.locationParams})}};var hs=()=>{let o=At();return e=>{o(e)}};d();l();var Ts=()=>{let{commonStore:o}=K(),{computedIsWalletEnv:e,forceUpdateFromTo:t}=o,r=At();return i=>{r(i),e&&t?.()}};d();l();var Ss=()=>{let{recentTransactionStore:o,fromToStore:e,commonStore:t}=K(),{computedIsWalletEnv:r,forceUpdateFromTo:i}=t,{beforeCheckUrl:n}=e,{computedFromToInfo:s}=o,a=At();return async()=>{!await n(s.apiRequestParams)||(a(),r&&i?.())}};d();l();d();l();Rr();d();l();Rr();var pS=(o,e)=>!!o.find(r=>Number(e)===Number(r.chainId)),Is=o=>{if(!o)return!1;let{fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i}=o,n=[Se(e)&&r,Se(t)&&i];return!!li(n,Boolean)};var Va=()=>({from:{chainId:null,tokenContractAddress:null},to:{chainId:null,tokenContractAddress:null}}),vS={BRIDGE:"bridge",SWAP:"swap"},Ot=class{constructor(e,t={},r={}){_(this,"setTab",e=>{this.tab=e});_(this,"hasFromToToken",e=>this.tab===R.LIMIT_ORDER?!it(e?.data?.fromToken)&&!it(e?.data?.toToken):!it(e?.data?.fromTokenInfo)&&!it(e?.data?.toTokenInfo));_(this,"getWidgetVersionParams",()=>!this.config.widgetVersion||this.tab===R.LIMIT_ORDER?{}:this.tab===R.BRIDGE?{widgetVersion:this.config.widgetVersion}:{widgetVersion:this.config.widgetVersion,widgetChainIds:this.config.widgetChainIds});_(this,"fetchSingleChainTokens",async({fromTokenAddress:e,toTokenAddress:t,chainId:r})=>{let[i,n]=await Ae(Ie.get(Li,{params:{fromTokenAddress:e,toTokenAddress:t,chainId:r,...this.getWidgetVersionParams()}}));return[i,n]});_(this,"generateSingleChainTokenPair",async({walletChainId:e,...t})=>{let i={chainId:Se(t.fromChainId)?t.fromChainId:t.toChainId,fromTokenAddress:t.fromTokenAddress,toTokenAddress:t.toTokenAddress};if(Se(i.chainId)){let[a,u]=await this.fetchSingleChainTokens(i);if(!a&&this.hasFromToToken(u))return[a,u]}if(Se(e)){let[a,u]=await this.fetchSingleChainTokens({chainId:e});if(!a&&this.hasFromToToken(u))return[a,u]}let[n,s]=await this.fetchSingleChainTokens({chainId:Wr});return[n,s]});_(this,"fetchCrossChainTokens",async({fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i})=>{let[n,s]=await Ae(Ie.get(ko,{params:{chainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i,...this.getWidgetVersionParams()}}));return[n,s]});_(this,"generateCrossChainTokenPair",async({walletChainId:e,...t})=>{if(Se(t.fromChainId)||Se(t.toChainId)){let n={...t},{hasFrom:s,hasTo:a}=Ot.checkTokenParams({chainId:t.fromChainId,tokenContractAddress:t.fromTokenAddress},{chainId:t.toChainId,tokenContractAddress:t.toTokenAddress});Ri(t.fromChainId,t.toChainId)&&(s?n={fromChainId:t.fromChainId,fromTokenAddress:t.fromTokenAddress}:a&&(n={toChainId:t.toChainId,toTokenAddress:t.toTokenAddress}));let[u,p]=await this.fetchCrossChainTokens(n);if(!u&&this.hasFromToToken(p))return[u,p]}if(Se(e)){let[n,s]=await this.fetchCrossChainTokens({fromChainId:e});if(!n&&this.hasFromToToken(s))return[n,s]}let[r,i]=await this.fetchCrossChainTokens({fromChainId:Wr});return[r,i]});_(this,"fetchLimitOrderRecommendTokens",async({fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i})=>{let[n,s]=await Ae(Ie.get(Di,{params:{fromChainId:e,toChainId:t,fromTokenAddress:r,toTokenAddress:i}}));return[n,s]});_(this,"generateLimitOrderTokenPair",async({walletChainId:e,...t})=>{let r=Se(t.fromChainId),n=Se(t.toChainId)?t.fromChainId===t.toChainId:!0;if(r&&n){let[u,p]=await this.fetchLimitOrderRecommendTokens(t);if(!u&&this.hasFromToToken(p))return[u,p]}if(Se(e)){let[u,p]=await this.fetchLimitOrderRecommendTokens({fromChainId:e});if(!u&&this.hasFromToToken(p))return[u,p]}let[s,a]=await this.fetchLimitOrderRecommendTokens({fromChainId:Wr,fromTokenAddress:""});return[s,a]});_(this,"getTokenPairByResponseData",e=>this.tab===R.LIMIT_ORDER?{from:e?.fromToken,to:e?.toToken}:{from:e?.fromTokenInfo,to:e?.toTokenInfo});_(this,"generateTokenAndTabConfig",({error:e,data:t})=>{if(e)return{error:e,from:null,to:null,tab:this.tab};let{from:r,to:i}=this.getTokenPairByResponseData(t);return{error:null,from:r,to:i,tab:this.tab}});_(this,"checkInputAmount",e=>{let t=ft.BigNumber(e);return!t.isNaN()&&t.isFinite()&&t.gt(0)?t.toString():""});_(this,"generateInitConfigByParams",async({from:e,to:t,inputAmount:r,walletChainId:i})=>{let n=this.checkInputAmount(r),s={fromChainId:e.chainId,toChainId:t.chainId,fromTokenAddress:e.tokenContractAddress,toTokenAddress:t.tokenContractAddress,walletChainId:i};if(this.tab===R.BRIDGE){let[a,u]=await this.generateCrossChainTokenPair(s);return{...this.generateTokenAndTabConfig({error:a,data:u.data}),inputAmount:n}}if(this.tab===R.SWAP){let[a,u]=await this.generateSingleChainTokenPair(s);return{...this.generateTokenAndTabConfig({error:a,data:u.data}),inputAmount:n}}if(this.tab===R.LIMIT_ORDER){let[a,u]=await this.generateLimitOrderTokenPair(s);return{...this.generateTokenAndTabConfig({error:a,data:u.data}),inputAmount:n}}return{error:new Error("tab is not valid"),from:null,to:null,tab:this.tab,inputAmount:n}});this.setTab(e),this.dexParams=t,this.config=r}async makeDexParams(){let{dexParams:e}=this,t=e;Ji(e)&&(t=this.readInfoFromLocalStorage());let r=Se(t?.from?.chainId),i=Se(t?.to?.chainId);return!r&&!i&&(t.walletChainId=await this.config.getChainId?.()),t}async initTokenPair(){let e=await this.makeDexParams(),{from:t,to:r,tab:i,inputAmount:n,error:s}=await this.generateInitConfigByParams(e);return{from:t,to:r,tab:i,inputAmount:n,error:s}}async switchTabAndInitToken(e){let{walletChainId:t,...r}=await this.makeDexParams(),{from:i,to:n,tab:s,inputAmount:a,error:u}=await this.generateInitConfigByParams({...r,tab:e});return{from:i,to:n,tab:s,inputAmount:a,error:u}}readInfoFromLocalStorage(){let e=Va(),t;switch(this.tab){case R.SWAP:t=ze.get(So);break;case R.BRIDGE:t=ze.get(Io);break;case R.LIMIT_ORDER:t=ze.get(wo)||ze.get(Ci)?.LIMIT_ORDER;break;default:break}let r={from:{...e.from,...t?.from},to:{...e.to,...t?.to}};return t?.from?.tokenContractAddress?r:e}writeTabInfoToLocalStorage(e){Ot.writeTabInfoToLocalStorage(this.tab,e)}static writeTabInfoToLocalStorage(e,t){switch(e){case R.SWAP:ze.set(So,t);break;case R.BRIDGE:ze.set(Io,t);break;case R.LIMIT_ORDER:ze.set(wo,t);break;default:break}}},Et=Ot;_(Et,"checkTokenParams",(e,t)=>{let r=Is({fromChainId:e?.chainId,toChainId:t?.chainId,fromTokenAddress:e?.tokenContractAddress,toTokenAddress:t?.tokenContractAddress}),i=Se(e?.chainId)&&!!e?.tokenContractAddress,n=Se(t?.chainId)&&!!t?.tokenContractAddress;return{isValid:r,hasFrom:i,hasTo:n}}),_(Et,"judgeTabTypeByChainId",async e=>{let[t,r]=await Ae(Ie.get(Ni));if(t)return R.SWAP;let{swap:i=[],bridge:n=[]}=r.data;return i.includes(_o(e))?R.SWAP:n.includes(_o(e))?R.BRIDGE:R.SWAP}),_(Et,"judgeTabTypeByParams",async(e,t)=>{let{isValid:r,hasFrom:i,hasTo:n}=Ot.checkTokenParams(e,t);if(!r)return R.SWAP;let s=e?.chainId,a=t?.chainId;if(i&&n)return s===a?R.SWAP:R.BRIDGE;let u;return i&&!n&&(u=s),!i&&n&&(u=a),await Ot.judgeTabTypeByChainId(u)}),_(Et,"formatDialogParams",e=>({from:{chainId:e?.fromChainId,tokenContractAddress:e?.fromTokenAddress},to:{chainId:e?.toChainId,tokenContractAddress:e?.toTokenAddress}})),_(Et,"getDialogInitTab",async e=>{let{from:t,to:r}=Ot.formatDialogParams(e);return await Ot.judgeTabTypeByParams(t,r)});var ws=Et;d();l();var po=o=>o.swapTradeType===I.LimitOrder?R.LIMIT_ORDER:[I.SingleChain,I.GasStation].includes(o.swapTradeType)?R.SWAP:R.BRIDGE;var ys=()=>{let{recentTransactionStore:o,commonStore:e}=K(),{setCurrentTab:t,forceUpdateFromTo:r}=e,{computedDataDetail:i,computedFromToInfo:n}=o,{data:s}=i,a=Zi();return u=>{let p=po(s),g=a(u?.from||n.locationParams.from,u?.to||n.locationParams.to);g&&p&&(new ws(p).writeTabInfoToLocalStorage(g),o.closeModal(),t(p),r?.())}};d();l();var xs=()=>{let{recentTransactionStore:o,commonStore:e}=K(),{forceUpdateFromTo:t}=e,r=At();return i=>{let{computedDataDetail:n}=o,{data:s}=n;if(s){let a=po(s);e.setCurrentTab(a)}o.closeModal(),r(i),t?.()}};var ks=()=>{let o=xs(),e=ys(),t=Ss(),r=Ts(),i=hs(),{commonStore:n}=K(),{computedIsUrlFillSwap:s}=n;return async(a,u)=>{let{portal:p}=n;if(s||Bi()){a?r(u):await t();return}if(p===To.MARKET){i(u);return}if(p===To.DEX){o(u);return}e(u)}};d();l();var Lt={wrapper:"_wrapper_10fve_1",abnormal:"_abnormal_10fve_10",info:"_info_10fve_18","footer-has-btn":"_footer-has-btn_10fve_21",footerHasBtn:"_footer-has-btn_10fve_21"};function Zo({children:o,className:e,style:t}){let r=Re();return pe.default.createElement("div",{className:(0,Pr.default)(Lt.wrapper,{[Lt.widgetWrapper]:r},e),style:t},pe.default.createElement("div",{className:(0,Pr.default)(Lt.abnormal,"flex align-items-center justify-content-center")},o))}function qa({orderId:o,orderData:e,className:t,isDialog:r,onClose:i,getScrollContainer:n,strategyMode:s,orderType:a,isLimit:u,isBridge:p}){let{recentTransactionStore:g,fromToStore:f,accountStore:y}=K(),{computedSubOrders:x,computedOrderInfo:w,expireTime:C,computedCurrentHistoryTabIsLimit:k,computedDataDetail:E,limitDetail:O,computedLimitOrderInfo:v,computedPendingTimingStatus:L,setLimitOrSwapDetail:P,setDetail:N,setLimitDetail:F,computedFoldTipToast:G,computedStepStatus:{bridgeStatus:z,fromSwapStatus:q},computedIfSwapFailedAmount:le,computedFirstTimeoutSubOrderBlockProcess:U,computedFromChainRefundInfo:Y,onLimitDetailSocket:te}=g,{orderContinueStatus:Ce}=f,ce=u?O:E,{data:me,error:_e,loading:fe}=ce||{},$=u??k,ge=nt();(0,pe.useEffect)(()=>(e&&P({data:e,loading:!1,error:!1},$),o&&g.updateDetail({orderId:o,strategyMode:s,orderType:a,isLimit:$,initialLimitDetail:e}),()=>{N({data:null,loading:!1,error:!1}),F({data:null,loading:!1,error:!1})}),[o,e,N,F,P,g,s,a,$]),(0,pe.useEffect)(()=>{(me?.status===c.ReadyToClaim||me?.status===c.Claiming)&&nn("bridge_claim")},[me?.status]);let{detailStyle:xe}=kn();(0,pe.useEffect)(()=>{o&&Ui({wallet_address:y.computedAccountWalletAddresses,order_id:o})},[o,y.computedAccountWalletAddresses]);let Qe=ks(),he=async()=>{i?.(),g.closeDialog(),Rt({wallet_address:y.computedAccountWalletAddresses,order_id:o,button_name:"trade_again"}),Qe(!1)},ve=Oe=>{Rt({wallet_address:y.computedAccountWalletAddresses,order_id:o,button_name:"bridge_token_exchange"}),Qe(!0,Oe)};return rn({onListenData:Oe=>{te(Oe)},onListenError:()=>{}}),on({onListenData:Oe=>{te(Oe)},onListenError:()=>{}}),_e?pe.default.createElement(Zo,{style:xe},pe.default.createElement(yn,{onButtonClick:()=>{g.updateDetail({orderId:o,strategyMode:s,orderType:a})}})):fe?pe.default.createElement(Zo,{style:xe},pe.default.createElement(ar.Circle,{type:ar.TYPE.neutral})):me?pe.default.createElement("div",{className:(0,Pr.default)(Lt.wrapper,t),style:xe},!$&&pe.default.createElement(rs,{order:w,expireTime:C,computedPendingTimingStatus:L,isWalletEnv:ge,onClickSwapAgain:he,computedIfSwapFailedAmount:le,orderContinueStatus:Ce,isDialog:r,firstBlockProcess:U}),!$&&pe.default.createElement(gs,{expireTime:C,mainOrderStatus:me.status,bridgeStatus:z,fromStatus:q,foldTipToast:G,subOrders:x,className:Lt.content,swapTradeType:me.swapTradeType,gasToken:w.gasToken,orderInfo:w,networks:w.networks,isWalletEnv:ge,onClickShadowToken:ve,fromChainRefundInfo:Y,getScrollContainer:n}),$&&pe.default.createElement(Xn,{isWalletEnv:ge,orderInfo:v}),pe.default.createElement(Yn,{className:(0,Pr.default)(Lt.info,{[Lt.footerHasBtn]:w?.showSwapAgainBtn&&!r||v?.showSwapAgainBtn&&!r||[Te.OPEN].includes(v?.status)}),isLimit:$,orderInfo:$?v:w,gasToken:$?{}:w.gasToken,isWalletEnv:ge,isBridge:p})):pe.default.createElement(Zo,{style:xe},pe.default.createElement(zi,{description:m("swaptrade_recent_transaction_dialog_no_data_desc")}))}var DI=ue(qa);export{pS as a,Is as b,Qr as c,Do as d,Bt as e,un as f,od as g,fd as h,It as i,pr as j,fn as k,c as l,we as m,I as n,Rl as o,Ct as p,vS as q,ws as r,DI as s};
//# sourceMappingURL=chunk-2JC6L37N.js.map
