import{P as r,Q as k,R as T,n as p}from"./chunk-HIVYZXF3.js";import{c as m,d as a,k as h}from"./chunk-ZBDGRK4Q.js";import{K as c,va as S}from"./chunk-XFTQD4B2.js";import{o as t,q as o}from"./chunk-Y5OH3DDZ.js";t();o();t();o();S();t();o();var l=class{constructor(){this.hiddenTokenList=[];this.smallAssetConfig={...r}}setSmallAssetConfig(e){this.smallAssetConfig=e}setHiddenTokenList(e){this.hiddenTokenList=e}};var u=class{constructor(){this.model=new l}get hiddenTokenCaList(){return this.model.hiddenTokenList.map(e=>e.tokenContractAddress)}isSmallAssetHidden(){return this.model.smallAssetConfig.open??r.open}getSmallAssetThreshold(){let e=parseFloat(this.model.smallAssetConfig.amount);return console.warn("getSmallAssetThreshold",e),Number.isNaN(e)||!c(e)||!e?Number(r.amount):e}isTokenHidden(e){return e.isNativeToken===1?this.model.hiddenTokenList.some(n=>n.isNativeToken&&n.chainId===e.chainId):this.hiddenTokenCaList.includes(e.tokenContractAddress)}};t();o();function A(s){return s.some(e=>"tokenList"in e)}var g=class extends u{getMinAmountThresholdParam(){if(!!this.isSmallAssetHidden())return this.getSmallAssetThreshold()}async loadSmallAssetConfig(){let e=await k();this.model.setSmallAssetConfig(e)}async loadHiddenTokenConfig(e,n){if(!e&&!n)return;let i=await T(e,n);this.model.setHiddenTokenList(i)}filterHiddenTokenList(e){if(!e?.length)return e;let n=(i=[])=>Array.isArray(i)?i.filter(_=>!this.isTokenHidden(_)):i;return A(e)?e.map(i=>({...i,tokenList:n(i.tokenList)})).filter(i=>i.tokenList.length):n(e)}},G=new g;t();o();t();o();var f=class extends p{constructor(){super();this.preChecking=!0;this.preCheckData=null;this.serviceState={loaded:!1,isLimitRegion:!1};h(this,{serviceState:m,computedIsLimitRegion:a,computedIsNotLimitRegion:a,preCheckData:m,preChecking:m,computedPreCheckMsg:a})}get computedPreCheckMsg(){return this.preCheckData&&this.preCheckData.status!==0?this.preCheckData?.msg:""}get computedIsLimitRegion(){return this.serviceState.loaded&&this.serviceState.isLimitRegion}get computedIsNotLimitRegion(){return this.serviceState.loaded&&!this.serviceState.isLimitRegion}},Y=new f;export{Y as a,G as b};
//# sourceMappingURL=chunk-KDWSU3J6.js.map
