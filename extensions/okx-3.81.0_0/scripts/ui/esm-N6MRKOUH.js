import{a as M}from"./chunk-OPJRP6YV.js";import{a as W}from"./chunk-OJXBW2YQ.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{b as g,f as y,n as process,o as a,q as u}from"./chunk-Y5OH3DDZ.js";function B(e,t){let n=o.default.encodeBase64(e);return t?encodeURIComponent(n):n}function b(e,t){return t&&(e=decodeURIComponent(e)),o.default.decodeBase64(e)}function k(e,t=!1){let n;return e instanceof Uint8Array?n=e:(typeof e!="string"&&(e=JSON.stringify(e)),n=o.default.decodeUTF8(e)),B(n,t)}function F(e,t=!1){let n=b(e,t);return{toString(){return o.default.encodeUTF8(n)},toObject(){try{return JSON.parse(o.default.encodeUTF8(n))}catch{return null}},toUint8Array(){return n}}}function H(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function m(e,t){if(t>=e.length)throw new Error("Index is out of buffer");let n=e.slice(0,t),r=e.slice(t);return[n,r]}function U(e){let t="";return e.forEach(n=>{t+=("0"+(n&255).toString(16)).slice(-2)}),t}function l(e){if(e.length%2!==0)throw new Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function T(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}var o,c,P,d,K,f,p,h,Q,R,w=g(()=>{a();u();o=y(M(),1),c=y(W(),1);(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",e[e.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(P||(P={}));(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(d||(d={}));(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(K||(K={}));(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(f||(f={}));(function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(p||(p={}));(function(e){e.MAINNET="-239",e.TESTNET="-3"})(h||(h={}));Q={encode:k,decode:F};R=class{constructor(t){this.nonceLength=24,this.keyPair=t?this.createKeypairFromString(t):this.createKeypair(),this.sessionId=U(this.keyPair.publicKey)}createKeypair(){return c.default.box.keyPair()}createKeypairFromString(t){return{publicKey:l(t.publicKey),secretKey:l(t.secretKey)}}createNonce(){return c.default.randomBytes(this.nonceLength)}encrypt(t,n){let r=new TextEncoder().encode(t),i=this.createNonce(),s=c.default.box(r,i,n,this.keyPair.secretKey);return H(i,s)}decrypt(t,n){let[r,i]=m(t,this.nonceLength),s=c.default.box.open(i,r,n,this.keyPair.secretKey);if(!s)throw new Error(`Decryption error: 
 message: ${t.toString()} 
 sender pubkey: ${n.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(s)}stringifyKeypair(){return{publicKey:U(this.keyPair.publicKey),secretKey:U(this.keyPair.secretKey)}}}});w();export{Q as Base64,h as CHAIN,P as CONNECT_EVENT_ERROR_CODES,d as CONNECT_ITEM_ERROR_CODES,p as DISCONNECT_ERROR_CODES,K as SEND_TRANSACTION_ERROR_CODES,f as SIGN_DATA_ERROR_CODES,R as SessionCrypto,H as concatUint8Arrays,l as hexToByteArray,T as isNode,m as splitToUint8Arrays,U as toHexString};
//# sourceMappingURL=esm-N6MRKOUH.js.map
