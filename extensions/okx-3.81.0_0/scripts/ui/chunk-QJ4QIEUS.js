import{a as Yn,b as te,c as M,d as et}from"./chunk-NYFK52S7.js";import{b as Qe}from"./chunk-HI3LE734.js";import{b,c as B,d as Jt,e as I,f as D,n as process,o as p,p as v,q as m}from"./chunk-Y5OH3DDZ.js";var ve,Ut=b(()=>{p();m();ve=class{}});var Wt=b(()=>{p();m();Ut()});var $t,we,tt,Ft,Zn,_e,Qn=b(()=>{p();m();$t=D(Qe()),we=D(Yn());Wt();tt=class extends ve{constructor(t){super()}},Ft=we.FIVE_SECONDS,Zn={pulse:"heartbeat_pulse"},_e=class extends tt{constructor(t){super(t),this.events=new $t.EventEmitter,this.interval=Ft,this.interval=t?.interval||Ft}static async init(t){let r=new _e(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,we.toMiliseconds)(this.interval))}pulse(){this.events.emit(Zn.pulse)}}});function no(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){oo(e);return}return t}function oo(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function re(e,t={}){if(typeof e!="string")return e;let r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!ro.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(eo.test(e)||to.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,no)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}var eo,to,ro,Gt=b(()=>{p();m();eo=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,to=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ro=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function so(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function O(e,...t){try{return so(e(...t))}catch(r){return Promise.reject(r)}}function io(e){let t=typeof e;return e===null||t!=="object"&&t!=="function"}function ao(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function ne(e){if(io(e))return String(e);if(ao(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return ne(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Ht(){if(typeof v.Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}function qt(e){if(typeof e=="string")return e;Ht();let t=v.Buffer.from(e).toString("base64");return rt+t}function Xt(e){return typeof e!="string"||!e.startsWith(rt)?e:(Ht(),v.Buffer.from(e.slice(rt.length),"base64"))}function R(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Yt(...e){return R(e.join(":"))}function oe(e){return e=R(e),e?e+":":""}var rt,Zt=b(()=>{p();m();rt="base64:"});function tr(e={}){let t={mounts:{"":e.driver||co()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=o=>{for(let u of t.mountpoints)if(o.startsWith(u))return{base:u,relativeKey:o.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:o,driver:t.mounts[""]}},n=(o,u)=>t.mountpoints.filter(a=>a.startsWith(o)||u&&o.startsWith(a)).map(a=>({relativeBase:o.length>a.length?o.slice(a.length):void 0,mountpoint:a,driver:t.mounts[a]})),s=(o,u)=>{if(!!t.watching){u=R(u);for(let a of t.watchListeners)a(o,u)}},i=async()=>{if(!t.watching){t.watching=!0;for(let o in t.mounts)t.unwatch[o]=await Qt(t.mounts[o],s,o)}},f=async()=>{if(!!t.watching){for(let o in t.unwatch)await t.unwatch[o]();t.unwatch={},t.watching=!1}},l=(o,u,a)=>{let d=new Map,g=h=>{let y=d.get(h.base);return y||(y={driver:h.driver,base:h.base,items:[]},d.set(h.base,y)),y};for(let h of o){let y=typeof h=="string",w=R(y?h:h.key),E=y?void 0:h.value,P=y||!h.options?u:{...u,...h.options},L=r(w);g(L).items.push({key:w,value:E,relativeKey:L.relativeKey,options:P})}return Promise.all([...d.values()].map(h=>a(h))).then(h=>h.flat())},c={hasItem(o,u={}){o=R(o);let{relativeKey:a,driver:d}=r(o);return O(d.hasItem,a,u)},getItem(o,u={}){o=R(o);let{relativeKey:a,driver:d}=r(o);return O(d.getItem,a,u).then(g=>re(g))},getItems(o,u){return l(o,u,a=>a.driver.getItems?O(a.driver.getItems,a.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(g=>({key:Yt(a.base,g.key),value:re(g.value)}))):Promise.all(a.items.map(d=>O(a.driver.getItem,d.relativeKey,d.options).then(g=>({key:d.key,value:re(g)})))))},getItemRaw(o,u={}){o=R(o);let{relativeKey:a,driver:d}=r(o);return d.getItemRaw?O(d.getItemRaw,a,u):O(d.getItem,a,u).then(g=>Xt(g))},async setItem(o,u,a={}){if(u===void 0)return c.removeItem(o);o=R(o);let{relativeKey:d,driver:g}=r(o);!g.setItem||(await O(g.setItem,d,ne(u),a),g.watch||s("update",o))},async setItems(o,u){await l(o,u,async a=>{if(a.driver.setItems)return O(a.driver.setItems,a.items.map(d=>({key:d.relativeKey,value:ne(d.value),options:d.options})),u);!a.driver.setItem||await Promise.all(a.items.map(d=>O(a.driver.setItem,d.relativeKey,ne(d.value),d.options)))})},async setItemRaw(o,u,a={}){if(u===void 0)return c.removeItem(o,a);o=R(o);let{relativeKey:d,driver:g}=r(o);if(g.setItemRaw)await O(g.setItemRaw,d,u,a);else if(g.setItem)await O(g.setItem,d,qt(u),a);else return;g.watch||s("update",o)},async removeItem(o,u={}){typeof u=="boolean"&&(u={removeMeta:u}),o=R(o);let{relativeKey:a,driver:d}=r(o);!d.removeItem||(await O(d.removeItem,a,u),(u.removeMeta||u.removeMata)&&await O(d.removeItem,a+"$",u),d.watch||s("remove",o))},async getMeta(o,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),o=R(o);let{relativeKey:a,driver:d}=r(o),g=Object.create(null);if(d.getMeta&&Object.assign(g,await O(d.getMeta,a,u)),!u.nativeOnly){let h=await O(d.getItem,a+"$",u).then(y=>re(y));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(g,h))}return g},setMeta(o,u,a={}){return this.setItem(o+"$",u,a)},removeMeta(o,u={}){return this.removeItem(o+"$",u)},async getKeys(o,u={}){o=oe(o);let a=n(o,!0),d=[],g=[];for(let h of a){let y=await O(h.driver.getKeys,h.relativeBase,u);for(let w of y){let E=h.mountpoint+R(w);d.some(P=>E.startsWith(P))||g.push(E)}d=[h.mountpoint,...d.filter(w=>!w.startsWith(h.mountpoint))]}return o?g.filter(h=>h.startsWith(o)&&h[h.length-1]!=="$"):g.filter(h=>h[h.length-1]!=="$")},async clear(o,u={}){o=oe(o),await Promise.all(n(o,!1).map(async a=>{if(a.driver.clear)return O(a.driver.clear,a.relativeBase,u);if(a.driver.removeItem){let d=await a.driver.getKeys(a.relativeBase||"",u);return Promise.all(d.map(g=>a.driver.removeItem(g,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(o=>er(o)))},async watch(o){return await i(),t.watchListeners.push(o),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==o),t.watchListeners.length===0&&await f()}},async unwatch(){t.watchListeners=[],await f()},mount(o,u){if(o=oe(o),o&&t.mounts[o])throw new Error(`already mounted at ${o}`);return o&&(t.mountpoints.push(o),t.mountpoints.sort((a,d)=>d.length-a.length)),t.mounts[o]=u,t.watching&&Promise.resolve(Qt(u,s,o)).then(a=>{t.unwatch[o]=a}).catch(console.error),c},async unmount(o,u=!0){o=oe(o),!(!o||!t.mounts[o])&&(t.watching&&o in t.unwatch&&(t.unwatch[o](),delete t.unwatch[o]),u&&await er(t.mounts[o]),t.mountpoints=t.mountpoints.filter(a=>a!==o),delete t.mounts[o])},getMount(o=""){o=R(o)+":";let u=r(o);return{driver:u.driver,base:u.base}},getMounts(o="",u={}){return o=R(o),n(o,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(o,u={})=>c.getKeys(o,u),get:(o,u={})=>c.getItem(o,u),set:(o,u,a={})=>c.setItem(o,u,a),has:(o,u={})=>c.hasItem(o,u),del:(o,u={})=>c.removeItem(o,u),remove:(o,u={})=>c.removeItem(o,u)};return c}function Qt(e,t,r){return e.watch?e.watch((n,s)=>t(n,r+s)):()=>{}}async function er(e){typeof e.dispose=="function"&&await O(e.dispose)}var uo,co,rr=b(()=>{p();m();Gt();Zt();uo="memory",co=()=>{let e=new Map;return{name:uo,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}}});function W(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function ot(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=W(r);return(s,i)=>n.then(f=>i(f.transaction(t,s).objectStore(t)))}function se(){return nt||(nt=ot("keyval-store","keyval")),nt}function st(e,t=se()){return t("readonly",r=>W(r.get(e)))}function nr(e,t,r=se()){return r("readwrite",n=>(n.put(t,e),W(n.transaction)))}function or(e,t=se()){return t("readwrite",r=>(r.delete(e),W(r.transaction)))}function sr(e=se()){return e("readwrite",t=>(t.clear(),W(t.transaction)))}function lo(e,t){return e.openCursor().onsuccess=function(){!this.result||(t(this.result),this.result.continue())},W(e.transaction)}function ir(e=se()){return e("readonly",t=>{if(t.getAllKeys)return W(t.getAllKeys());let r=[];return lo(t,n=>r.push(n.key)).then(()=>r)})}var nt,ar=b(()=>{p();m()});function mo(e){var t;return[e[0],te((t=e[1])!=null?t:"")]}var fo,ho,go,po,at,it,be,ut,yo,ur,vo,_o,cr,wo=b(()=>{p();m();rr();ar();et();fo="idb-keyval",ho=(e={})=>{let t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s,n;return e.dbName&&e.storeName&&(n=ot(e.dbName,e.storeName)),{name:fo,options:e,async hasItem(s){return!(typeof await st(r(s),n)>"u")},async getItem(s){return await st(r(s),n)??null},setItem(s,i){return nr(r(s),i,n)},removeItem(s){return or(r(s),n)},getKeys(){return ir(n)},clear(){return sr(n)}}},go="WALLET_CONNECT_V2_INDEXED_DB",po="keyvaluestorage",at=class{constructor(){this.indexedDb=tr({driver:ho({dbName:go,storeName:po})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){let r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,M(r))}async removeItem(t){await this.indexedDb.removeItem(t)}},it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},be={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof it<"u"&&it.localStorage?be.exports=it.localStorage:typeof window<"u"&&window.localStorage?be.exports=window.localStorage:be.exports=new t})();ut=class{constructor(){this.localStorage=be.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(mo)}async getItem(t){let r=this.localStorage.getItem(t);if(r!==null)return te(r)}async setItem(t,r){this.localStorage.setItem(t,M(r))}async removeItem(t){this.localStorage.removeItem(t)}},yo="wc_storage_version",ur=1,vo=async(e,t,r)=>{let n=yo,s=await t.getItem(n);if(s&&s>=ur){r(t);return}let i=await e.getKeys();if(!i.length){r(t);return}let f=[];for(;i.length;){let l=i.shift();if(!l)continue;let c=l.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let o=await e.getItem(l);await t.setItem(l,o),f.push(l)}}await t.setItem(n,ur),r(t),_o(e,f)},_o=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})},cr=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let t=new ut;this.storage=t;try{let r=new at;vo(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}}});var fr=B((wa,lr)=>{p();m();function bo(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}lr.exports=So;function So(e,t,r){var n=r&&r.stringify||bo,s=1;if(typeof e=="object"&&e!==null){var i=t.length+s;if(i===1)return e;var f=new Array(i);f[0]=n(e);for(var l=1;l<i;l++)f[l]=n(t[l]);return f.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var o="",u=1-s,a=-1,d=e&&e.length||0,g=0;g<d;){if(e.charCodeAt(g)===37&&g+1<d){switch(a=a>-1?a:0,e.charCodeAt(g+1)){case 100:case 102:if(u>=c||t[u]==null)break;a<g&&(o+=e.slice(a,g)),o+=Number(t[u]),a=g+2,g++;break;case 105:if(u>=c||t[u]==null)break;a<g&&(o+=e.slice(a,g)),o+=Math.floor(Number(t[u])),a=g+2,g++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;a<g&&(o+=e.slice(a,g));var h=typeof t[u];if(h==="string"){o+="'"+t[u]+"'",a=g+2,g++;break}if(h==="function"){o+=t[u].name||"<anonymous>",a=g+2,g++;break}o+=n(t[u]),a=g+2,g++;break;case 115:if(u>=c)break;a<g&&(o+=e.slice(a,g)),o+=String(t[u]),a=g+2,g++;break;case 37:a<g&&(o+=e.slice(a,g)),o+="%",a=g+2,g++,u--;break}++u}++g}return a===-1?e:(a<d&&(o+=e.slice(a)),o)}});var ft=B((Ea,pr)=>{p();m();var dr=fr();pr.exports=T;var ie=Po().console||{},Eo={mapHttpRequest:Se,mapHttpResponse:Se,wrapRequestSerializer:ct,wrapResponseSerializer:ct,wrapErrorSerializer:ct,req:Se,res:Se,err:Co};function Io(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function T(e){e=e||{},e.browser=e.browser||{};let t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");let r=e.browser.write||ie;e.browser.write&&(e.browser.asObject=!0);let n=e.serializers||{},s=Io(e.browser.serialize,n),i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);let f=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");let l=e.level||"info",c=Object.create(r);c.log||(c.log=ae),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:a,set:d});let o={transmit:t,serialize:s,asObject:e.browser.asObject,levels:f,timestamp:Lo(e)};c.levels=T.levels,c.level=l,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=ae,c.serializers=n,c._serialize=s,c._stdErrSerialize=i,c.child=g,t&&(c._logEvent=lt());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function a(){return this._level}function d(h){if(h!=="silent"&&!this.levels.values[h])throw Error("unknown level "+h);this._level=h,q(o,c,"error","log"),q(o,c,"fatal","error"),q(o,c,"warn","error"),q(o,c,"info","log"),q(o,c,"debug","log"),q(o,c,"trace","log")}function g(h,y){if(!h)throw new Error("missing bindings for child Pino");y=y||{},s&&h.serializers&&(y.serializers=h.serializers);let w=y.serializers;if(s&&w){var E=Object.assign({},n,w),P=e.browser.serialize===!0?Object.keys(E):s;delete h.serializers,Ee([h],P,E,this._stdErrSerialize)}function L(C){this._childLevel=(C._childLevel|0)+1,this.error=X(C,h,"error"),this.fatal=X(C,h,"fatal"),this.warn=X(C,h,"warn"),this.info=X(C,h,"info"),this.debug=X(C,h,"debug"),this.trace=X(C,h,"trace"),E&&(this.serializers=E,this._serialize=P),t&&(this._logEvent=lt([].concat(C._logEvent.bindings,h)))}return L.prototype=this,new L(this)}return c}T.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};T.stdSerializers=Eo;T.stdTimeFunctions=Object.assign({},{nullTime:hr,epochTime:gr,unixTime:To,isoTime:Ao});function q(e,t,r,n){let s=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?ae:s[r]?s[r]:ie[r]||ie[n]||ae,Oo(e,t,r)}function Oo(e,t,r){!e.transmit&&t[r]===ae||(t[r]=function(n){return function(){let i=e.timestamp(),f=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ie?ie:this;for(var c=0;c<f.length;c++)f[c]=arguments[c];if(e.serialize&&!e.asObject&&Ee(f,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(l,Ro(this,r,f,i)):n.apply(l,f),e.transmit){let o=e.transmit.level||t.level,u=T.levels.values[o],a=T.levels.values[r];if(a<u)return;xo(this,{ts:i,methodLevel:r,methodValue:a,transmitLevel:o,transmitValue:T.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},f)}}}(t[r]))}function Ro(e,t,r,n){e._serialize&&Ee(r,e._serialize,e.serializers,e._stdErrSerialize);let s=r.slice(),i=s[0],f={};n&&(f.time=n),f.level=T.levels.values[t];let l=(e._childLevel|0)+1;if(l<1&&(l=1),i!==null&&typeof i=="object"){for(;l--&&typeof s[0]=="object";)Object.assign(f,s.shift());i=s.length?dr(s.shift(),s):void 0}else typeof i=="string"&&(i=dr(s.shift(),s));return i!==void 0&&(f.msg=i),f}function Ee(e,t,r,n){for(let s in e)if(n&&e[s]instanceof Error)e[s]=T.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s]))for(let i in e[s])t&&t.indexOf(i)>-1&&i in r&&(e[s][i]=r[i](e[s][i]))}function X(e,t,r){return function(){let n=new Array(1+arguments.length);n[0]=t;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return e[r].apply(this,n)}}function xo(e,t,r){let n=t.send,s=t.ts,i=t.methodLevel,f=t.methodValue,l=t.val,c=e._logEvent.bindings;Ee(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter(function(o){return c.indexOf(o)===-1}),e._logEvent.level.label=i,e._logEvent.level.value=f,n(i,e._logEvent,l),e._logEvent=lt(c)}function lt(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Co(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)t[r]===void 0&&(t[r]=e[r]);return t}function Lo(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?hr:gr}function Se(){return{}}function ct(e){return e}function ae(){}function hr(){return!1}function gr(){return Date.now()}function To(){return Math.round(Date.now()/1e3)}function Ao(){return new Date(Date.now()).toISOString()}function Po(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}});function xa(e){return xe(Re({},e),{level:e?.level||zo.level})}function Ko(e,t=ue){return e[t]||""}function Vo(e,t,r=ue){return e[r]=t,e}function Jo(e,t=ue){let r="";return typeof e.bindings>"u"?r=Ko(e,t):r=e.bindings().context||"",r}function Uo(e,t,r=ue){let n=Jo(e,r);return n.trim()?`${n}/${t}`:t}function Ca(e,t,r=ue){let n=Uo(e,t,r),s=e.child({context:n});return Vo(s,n,r)}function Wo(e){var t,r;let n=new ht((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,j.default)(xe(Re({},e.opts),{level:"trace",browser:xe(Re({},(r=e.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function Fo(e){var t;let r=new gt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,j.default)(xe(Re({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function La(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Wo(e):Fo(e)}var j,jo,zo,ue,pt,dt,Ie,Oe,ht,gt,No,Bo,Do,mr,Mo,ko,yr,Re,xe,$o=b(()=>{p();m();j=D(ft()),jo=D(ft());et();zo={level:"info"},ue="custom_context",pt=1e3*1024,dt=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Ie=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){let r=new dt(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){let t=[],r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};let r=t.value;return t=t.next,{done:!1,value:r}}}}},Oe=class{constructor(t,r=pt){this.level=t??"error",this.levelValue=j.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Ie(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===j.levels.values.error?console.error(t):r===j.levels.values.warn?console.warn(t):r===j.levels.values.debug?console.debug(t):r===j.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(M({timestamp:new Date().toISOString(),log:t}));let r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Ie(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){let r=this.getLogArray();return r.push(M({extraMetadata:t})),new Blob(r,{type:"application/json"})}},ht=class{constructor(t,r=pt){this.baseChunkLogger=new Oe(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){let r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},gt=class{constructor(t,r=pt){this.baseChunkLogger=new Oe(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}},No=Object.defineProperty,Bo=Object.defineProperties,Do=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,Mo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,yr=(e,t,r)=>t in e?No(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Re=(e,t)=>{for(var r in t||(t={}))Mo.call(t,r)&&yr(e,r,t[r]);if(mr)for(var r of mr(t))ko.call(t,r)&&yr(e,r,t[r]);return e},xe=(e,t)=>Bo(e,Do(t))});var vr,_r,wr,br,Ce,ce,mt,Le,k,le,Te=b(()=>{p();m();vr="PARSE_ERROR",_r="INVALID_REQUEST",wr="METHOD_NOT_FOUND",br="INVALID_PARAMS",Ce="INTERNAL_ERROR",ce="SERVER_ERROR",mt=[-32700,-32600,-32601,-32602,-32603],Le=[-32e3,-32099],k={[vr]:{code:-32700,message:"Parse error"},[_r]:{code:-32600,message:"Invalid Request"},[wr]:{code:-32601,message:"Method not found"},[br]:{code:-32602,message:"Invalid params"},[Ce]:{code:-32603,message:"Internal error"},[ce]:{code:-32e3,message:"Server error"}},le=ce});function Go(e){return e<=Le[0]&&e>=Le[1]}function Ae(e){return mt.includes(e)}function Sr(e){return typeof e=="number"}function Pe(e){return Object.keys(k).includes(e)?k[e]:k[le]}function je(e){let t=Object.values(k).find(r=>r.code===e);return t||k[le]}function Ho(e){if(typeof e.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof e.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!Sr(e.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${e.error.code}`};if(Ae(e.error.code)){let t=je(e.error.code);if(t.message!==k[le].message&&e.error.message===t.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${e.error.code}`}}return{valid:!0}}function yt(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var vt=b(()=>{p();m();Te()});function _t(e=3){let t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function wt(e=6){return BigInt(_t(e))}function bt(e,t,r){return{id:r||_t(),jsonrpc:"2.0",method:e,params:t}}function qo(e,t){return{id:e,jsonrpc:"2.0",result:t}}function St(e,t,r){return{id:e,jsonrpc:"2.0",error:Er(t,r)}}function Er(e,t){return typeof e>"u"?Pe(Ce):(typeof e=="string"&&(e=Object.assign(Object.assign({},Pe(ce)),{message:e})),typeof t<"u"&&(e.data=t),Ae(e.code)&&(e=je(e.code)),e)}var Ir=b(()=>{p();m();vt();Te()});function Et(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Xo(e){return Et(e)&&"method"in e}function It(e){return Et(e)&&(Or(e)||ze(e))}function Or(e){return"result"in e}function ze(e){return"error"in e}function Yo(e){return"error"in e&&e.valid===!1}var Rr=b(()=>{p();m()});var Gr=B((Ha,Be)=>{p();m();var xr,Cr,Lr,Tr,Ar,Pr,jr,zr,Nr,Ne,Ot,Br,Dr,Y,Mr,kr,Kr,Vr,Jr,Ur,Wr,Fr,$r;(function(e){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Be=="object"&&typeof Be.exports=="object"?e(r(t,r(Be.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,f){return n[i]=s?s(i,f):f}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};xr=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},Cr=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(r[f]=n[f])}return r},Lr=function(r,n){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&n.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,i=Object.getOwnPropertySymbols(r);f<i.length;f++)n.indexOf(i[f])<0&&Object.prototype.propertyIsEnumerable.call(r,i[f])&&(s[i[f]]=r[i[f]]);return s},Tr=function(r,n,s,i){var f=arguments.length,l=f<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,s):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,n,s,i);else for(var o=r.length-1;o>=0;o--)(c=r[o])&&(l=(f<3?c(l):f>3?c(n,s,l):c(n,s))||l);return f>3&&l&&Object.defineProperty(n,s,l),l},Ar=function(r,n){return function(s,i){n(s,i,r)}},Pr=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},jr=function(r,n,s,i){function f(l){return l instanceof s?l:new s(function(c){c(l)})}return new(s||(s=Promise))(function(l,c){function o(d){try{a(i.next(d))}catch(g){c(g)}}function u(d){try{a(i.throw(d))}catch(g){c(g)}}function a(d){d.done?l(d.value):f(d.value).then(o,u)}a((i=i.apply(r,n||[])).next())})},zr=function(r,n){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,f,l,c;return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(a){return function(d){return u([a,d])}}function u(a){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,f&&(l=a[0]&2?f.return:a[0]?f.throw||((l=f.return)&&l.call(f),0):f.next)&&!(l=l.call(f,a[1])).done)return l;switch(f=0,l&&(a=[a[0]&2,l.value]),a[0]){case 0:case 1:l=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,f=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(a[0]===6||a[0]===2)){s=0;continue}if(a[0]===3&&(!l||a[1]>l[0]&&a[1]<l[3])){s.label=a[1];break}if(a[0]===6&&s.label<l[1]){s.label=l[1],l=a;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(a);break}l[2]&&s.ops.pop(),s.trys.pop();continue}a=n.call(r,s)}catch(d){a=[6,d],f=0}finally{i=l=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},$r=function(r,n,s,i){i===void 0&&(i=s),r[i]=n[s]},Nr=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},Ne=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],i=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Ot=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var i=s.call(r),f,l=[],c;try{for(;(n===void 0||n-- >0)&&!(f=i.next()).done;)l.push(f.value)}catch(o){c={error:o}}finally{try{f&&!f.done&&(s=i.return)&&s.call(i)}finally{if(c)throw c.error}}return l},Br=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Ot(arguments[n]));return r},Dr=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var i=Array(r),f=0,n=0;n<s;n++)for(var l=arguments[n],c=0,o=l.length;c<o;c++,f++)i[f]=l[c];return i},Y=function(r){return this instanceof Y?(this.v=r,this):new Y(r)},Mr=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s.apply(r,n||[]),f,l=[];return f={},c("next"),c("throw"),c("return"),f[Symbol.asyncIterator]=function(){return this},f;function c(h){i[h]&&(f[h]=function(y){return new Promise(function(w,E){l.push([h,y,w,E])>1||o(h,y)})})}function o(h,y){try{u(i[h](y))}catch(w){g(l[0][3],w)}}function u(h){h.value instanceof Y?Promise.resolve(h.value.v).then(a,d):g(l[0][2],h)}function a(h){o("next",h)}function d(h){o("throw",h)}function g(h,y){h(y),l.shift(),l.length&&o(l[0][0],l[0][1])}},kr=function(r){var n,s;return n={},i("next"),i("throw",function(f){throw f}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(f,l){n[f]=r[f]?function(c){return(s=!s)?{value:Y(r[f](c)),done:f==="return"}:l?l(c):c}:l}},Kr=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof Ne=="function"?Ne(r):r[Symbol.iterator](),s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s);function i(l){s[l]=r[l]&&function(c){return new Promise(function(o,u){c=r[l](c),f(o,u,c.done,c.value)})}}function f(l,c,o,u){Promise.resolve(u).then(function(a){l({value:a,done:o})},c)}},Vr=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},Jr=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},Ur=function(r){return r&&r.__esModule?r:{default:r}},Wr=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},Fr=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",xr),e("__assign",Cr),e("__rest",Lr),e("__decorate",Tr),e("__param",Ar),e("__metadata",Pr),e("__awaiter",jr),e("__generator",zr),e("__exportStar",Nr),e("__createBinding",$r),e("__values",Ne),e("__read",Ot),e("__spread",Br),e("__spreadArrays",Dr),e("__await",Y),e("__asyncGenerator",Mr),e("__asyncDelegator",kr),e("__asyncValues",Kr),e("__makeTemplateObject",Vr),e("__importStar",Jr),e("__importDefault",Ur),e("__classPrivateFieldGet",Wr),e("__classPrivateFieldSet",Fr)})});var qr=B(K=>{p();m();Object.defineProperty(K,"__esModule",{value:!0});K.isBrowserCryptoAvailable=K.getSubtleCrypto=K.getBrowerCrypto=void 0;function Rt(){return globalThis?.crypto||globalThis?.msCrypto||{}}K.getBrowerCrypto=Rt;function Hr(){let e=Rt();return e.subtle||e.webkitSubtle}K.getSubtleCrypto=Hr;function Zo(){return!!Rt()&&!!Hr()}K.isBrowserCryptoAvailable=Zo});var Zr=B(V=>{p();m();Object.defineProperty(V,"__esModule",{value:!0});V.isBrowser=V.isNode=V.isReactNative=void 0;function Xr(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}V.isReactNative=Xr;function Yr(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}V.isNode=Yr;function Qo(){return!Xr()&&!Yr()}V.isBrowser=Qo});var xt=B(De=>{p();m();Object.defineProperty(De,"__esModule",{value:!0});var Qr=Gr();Qr.__exportStar(qr(),De);Qr.__exportStar(Zr(),De)});var S={};Jt(S,{isNodeJs:()=>tn});var en,tn,rn=b(()=>{p();m();en=D(xt());I(S,D(xt()));tn=en.isNode});function es(e){return e.includes("*")?ke(e):!/\W/g.test(e)}function Me(e){return e==="*"}function ke(e){return Me(e)?!0:!(!e.includes("*")||e.split("*").length!==2||e.split("*").filter(t=>t.trim()==="").length!==1)}function ts(e){return!Me(e)&&ke(e)&&!e.split("*")[0].trim()}function rs(e){return!Me(e)&&ke(e)&&!e.split("*")[1].trim()}var nn=b(()=>{p();m()});var fe,Ct,Ke,de,on=b(()=>{p();m();fe=class{},Ct=class extends fe{constructor(t){super()}},Ke=class extends fe{constructor(){super()}},de=class extends Ke{constructor(t){super()}}});var sn=b(()=>{p();m();on()});function ss(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function an(e,t){let r=ss(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function is(e){return an(e,ns)}function Ve(e){return an(e,os)}function Lt(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}var ns,os,un=b(()=>{p();m();ns="^https?:",os="^wss?:"});var x={};Jt(x,{DEFAULT_ERROR:()=>le,IBaseJsonRpcProvider:()=>Ke,IEvents:()=>fe,IJsonRpcConnection:()=>Ct,IJsonRpcProvider:()=>de,INTERNAL_ERROR:()=>Ce,INVALID_PARAMS:()=>br,INVALID_REQUEST:()=>_r,METHOD_NOT_FOUND:()=>wr,PARSE_ERROR:()=>vr,RESERVED_ERROR_CODES:()=>mt,SERVER_ERROR:()=>ce,SERVER_ERROR_CODE_RANGE:()=>Le,STANDARD_ERROR_MAP:()=>k,formatErrorMessage:()=>Er,formatJsonRpcError:()=>St,formatJsonRpcRequest:()=>bt,formatJsonRpcResult:()=>qo,getBigIntRpcId:()=>wt,getError:()=>Pe,getErrorByCode:()=>je,isHttpUrl:()=>is,isJsonRpcError:()=>ze,isJsonRpcPayload:()=>Et,isJsonRpcRequest:()=>Xo,isJsonRpcResponse:()=>It,isJsonRpcResult:()=>Or,isJsonRpcValidationInvalid:()=>Yo,isLocalhostUrl:()=>Lt,isNodeJs:()=>tn,isReservedErrorCode:()=>Ae,isServerErrorCode:()=>Go,isValidDefaultRoute:()=>Me,isValidErrorCode:()=>Sr,isValidLeadingWildcardRoute:()=>ts,isValidRoute:()=>es,isValidTrailingWildcardRoute:()=>rs,isValidWildcardRoute:()=>ke,isWsUrl:()=>Ve,parseConnectionError:()=>yt,payloadId:()=>_t,validateJsonRpcError:()=>Ho});var Tt=b(()=>{p();m();Te();vt();rn();I(x,S);Ir();nn();sn();un();Rr()});var ln,cn,as=b(()=>{p();m();ln=D(Qe());Tt();cn=class extends de{constructor(t){super(t),this.events=new ln.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(bt(t.method,t.params||[],t.id||wt().toString()),r)}async requestStrict(t,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${t.id}`,i=>{ze(i)?s(i.error):n(i.result)});try{await this.connection.send(t,r)}catch(i){s(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),It(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var dn=B((Bu,fn)=>{p();m();fn.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var mn,us,cs,hn,gn,ls,pn,fs=b(()=>{p();m();mn=D(Qe());et();Tt();us=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:dn(),cs=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",hn=e=>e.split("?")[0],gn=10,ls=us(),pn=class{constructor(t){if(this.url=t,this.events=new mn.EventEmitter,this.registering=!1,!Ve(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(M(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Ve(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{let s=new URLSearchParams(t).get("origin"),i=(0,x.isReactNative)()?{headers:{origin:s}}:{rejectUnauthorized:!Lt(t)},f=new ls(t,[],i);cs()?f.onerror=l=>{let c=l;n(this.emitError(c.error))}:f.on("error",l=>{n(this.emitError(l))}),f.onopen=()=>{this.onOpen(f),r(f)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?te(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),s=n.message||n.toString(),i=St(t,s);this.events.emit("payload",i)}parseError(t,r=this.url){return yt(t,hn(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>gn&&this.events.setMaxListeners(gn)}emitError(t){let r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${hn(this.url)}`));return this.events.emit("register_error",r),r}}});var Ji=B((he,Q)=>{p();m();var ds=200,Vt="__lodash_hash_undefined__",qe=1,Cn=2,Ln=9007199254740991,Je="[object Arguments]",zt="[object Array]",hs="[object AsyncFunction]",Tn="[object Boolean]",An="[object Date]",Pn="[object Error]",jn="[object Function]",gs="[object GeneratorFunction]",Ue="[object Map]",zn="[object Number]",ps="[object Null]",Z="[object Object]",yn="[object Promise]",ms="[object Proxy]",Nn="[object RegExp]",We="[object Set]",Bn="[object String]",ys="[object Symbol]",vs="[object Undefined]",Nt="[object WeakMap]",Dn="[object ArrayBuffer]",Fe="[object DataView]",_s="[object Float32Array]",ws="[object Float64Array]",bs="[object Int8Array]",Ss="[object Int16Array]",Es="[object Int32Array]",Is="[object Uint8Array]",Os="[object Uint8ClampedArray]",Rs="[object Uint16Array]",xs="[object Uint32Array]",Cs=/[\\^$.*+?()[\]{}|]/g,Ls=/^\[object .+?Constructor\]$/,Ts=/^(?:0|[1-9]\d*)$/,_={};_[_s]=_[ws]=_[bs]=_[Ss]=_[Es]=_[Is]=_[Os]=_[Rs]=_[xs]=!0;_[Je]=_[zt]=_[Dn]=_[Tn]=_[Fe]=_[An]=_[Pn]=_[jn]=_[Ue]=_[zn]=_[Z]=_[Nn]=_[We]=_[Bn]=_[Nt]=!1;var Mn=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,As=typeof self=="object"&&self&&self.Object===Object&&self,z=Mn||As||Function("return this")(),kn=typeof he=="object"&&he&&!he.nodeType&&he,vn=kn&&typeof Q=="object"&&Q&&!Q.nodeType&&Q,Kn=vn&&vn.exports===kn,At=Kn&&Mn.process,_n=function(){try{return At&&At.binding&&At.binding("util")}catch{}}(),wn=_n&&_n.isTypedArray;function Ps(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var f=e[r];t(f,r,e)&&(i[s++]=f)}return i}function js(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}function zs(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Ns(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Bs(e){return function(t){return e(t)}}function Ds(e,t){return e.has(t)}function Ms(e,t){return e?.[t]}function ks(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function Ks(e,t){return function(r){return e(t(r))}}function Vs(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Js=Array.prototype,Us=Function.prototype,Xe=Object.prototype,Pt=z["__core-js_shared__"],Vn=Us.toString,A=Xe.hasOwnProperty,bn=function(){var e=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Jn=Xe.toString,Ws=RegExp("^"+Vn.call(A).replace(Cs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sn=Kn?z.Buffer:void 0,$e=z.Symbol,En=z.Uint8Array,Un=Xe.propertyIsEnumerable,Fs=Js.splice,F=$e?$e.toStringTag:void 0,In=Object.getOwnPropertySymbols,$s=Sn?Sn.isBuffer:void 0,Gs=Ks(Object.keys,Object),Bt=ee(z,"DataView"),ge=ee(z,"Map"),Dt=ee(z,"Promise"),Mt=ee(z,"Set"),kt=ee(z,"WeakMap"),pe=ee(Object,"create"),Hs=H(Bt),qs=H(ge),Xs=H(Dt),Ys=H(Mt),Zs=H(kt),On=$e?$e.prototype:void 0,jt=On?On.valueOf:void 0;function $(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Qs(){this.__data__=pe?pe(null):{},this.size=0}function ei(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function ti(e){var t=this.__data__;if(pe){var r=t[e];return r===Vt?void 0:r}return A.call(t,e)?t[e]:void 0}function ri(e){var t=this.__data__;return pe?t[e]!==void 0:A.call(t,e)}function ni(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pe&&t===void 0?Vt:t,this}$.prototype.clear=Qs;$.prototype.delete=ei;$.prototype.get=ti;$.prototype.has=ri;$.prototype.set=ni;function N(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oi(){this.__data__=[],this.size=0}function si(e){var t=this.__data__,r=Ye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fs.call(t,r,1),--this.size,!0}function ii(e){var t=this.__data__,r=Ye(t,e);return r<0?void 0:t[r][1]}function ai(e){return Ye(this.__data__,e)>-1}function ui(e,t){var r=this.__data__,n=Ye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}N.prototype.clear=oi;N.prototype.delete=si;N.prototype.get=ii;N.prototype.has=ai;N.prototype.set=ui;function G(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ci(){this.size=0,this.__data__={hash:new $,map:new(ge||N),string:new $}}function li(e){var t=Ze(this,e).delete(e);return this.size-=t?1:0,t}function fi(e){return Ze(this,e).get(e)}function di(e){return Ze(this,e).has(e)}function hi(e,t){var r=Ze(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}G.prototype.clear=ci;G.prototype.delete=li;G.prototype.get=fi;G.prototype.has=di;G.prototype.set=hi;function Ge(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new G;++t<r;)this.add(e[t])}function gi(e){return this.__data__.set(e,Vt),this}function pi(e){return this.__data__.has(e)}Ge.prototype.add=Ge.prototype.push=gi;Ge.prototype.has=pi;function U(e){var t=this.__data__=new N(e);this.size=t.size}function mi(){this.__data__=new N,this.size=0}function yi(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function vi(e){return this.__data__.get(e)}function _i(e){return this.__data__.has(e)}function wi(e,t){var r=this.__data__;if(r instanceof N){var n=r.__data__;if(!ge||n.length<ds-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new G(n)}return r.set(e,t),this.size=r.size,this}U.prototype.clear=mi;U.prototype.delete=yi;U.prototype.get=vi;U.prototype.has=_i;U.prototype.set=wi;function bi(e,t){var r=He(e),n=!r&&Bi(e),s=!r&&!n&&Kt(e),i=!r&&!n&&!s&&Xn(e),f=r||n||s||i,l=f?Ns(e.length,String):[],c=l.length;for(var o in e)(t||A.call(e,o))&&!(f&&(o=="length"||s&&(o=="offset"||o=="parent")||i&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||Ai(o,c)))&&l.push(o);return l}function Ye(e,t){for(var r=e.length;r--;)if($n(e[r][0],t))return r;return-1}function Si(e,t,r){var n=t(e);return He(e)?n:js(n,r(e))}function ye(e){return e==null?e===void 0?vs:ps:F&&F in Object(e)?Li(e):Ni(e)}function Rn(e){return me(e)&&ye(e)==Je}function Wn(e,t,r,n,s){return e===t?!0:e==null||t==null||!me(e)&&!me(t)?e!==e&&t!==t:Ei(e,t,r,n,Wn,s)}function Ei(e,t,r,n,s,i){var f=He(e),l=He(t),c=f?zt:J(e),o=l?zt:J(t);c=c==Je?Z:c,o=o==Je?Z:o;var u=c==Z,a=o==Z,d=c==o;if(d&&Kt(e)){if(!Kt(t))return!1;f=!0,u=!1}if(d&&!u)return i||(i=new U),f||Xn(e)?Fn(e,t,r,n,s,i):xi(e,t,c,r,n,s,i);if(!(r&qe)){var g=u&&A.call(e,"__wrapped__"),h=a&&A.call(t,"__wrapped__");if(g||h){var y=g?e.value():e,w=h?t.value():t;return i||(i=new U),s(y,w,r,n,i)}}return d?(i||(i=new U),Ci(e,t,r,n,s,i)):!1}function Ii(e){if(!qn(e)||ji(e))return!1;var t=Gn(e)?Ws:Ls;return t.test(H(e))}function Oi(e){return me(e)&&Hn(e.length)&&!!_[ye(e)]}function Ri(e){if(!zi(e))return Gs(e);var t=[];for(var r in Object(e))A.call(e,r)&&r!="constructor"&&t.push(r);return t}function Fn(e,t,r,n,s,i){var f=r&qe,l=e.length,c=t.length;if(l!=c&&!(f&&c>l))return!1;var o=i.get(e);if(o&&i.get(t))return o==t;var u=-1,a=!0,d=r&Cn?new Ge:void 0;for(i.set(e,t),i.set(t,e);++u<l;){var g=e[u],h=t[u];if(n)var y=f?n(h,g,u,t,e,i):n(g,h,u,e,t,i);if(y!==void 0){if(y)continue;a=!1;break}if(d){if(!zs(t,function(w,E){if(!Ds(d,E)&&(g===w||s(g,w,r,n,i)))return d.push(E)})){a=!1;break}}else if(!(g===h||s(g,h,r,n,i))){a=!1;break}}return i.delete(e),i.delete(t),a}function xi(e,t,r,n,s,i,f){switch(r){case Fe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dn:return!(e.byteLength!=t.byteLength||!i(new En(e),new En(t)));case Tn:case An:case zn:return $n(+e,+t);case Pn:return e.name==t.name&&e.message==t.message;case Nn:case Bn:return e==t+"";case Ue:var l=ks;case We:var c=n&qe;if(l||(l=Vs),e.size!=t.size&&!c)return!1;var o=f.get(e);if(o)return o==t;n|=Cn,f.set(e,t);var u=Fn(l(e),l(t),n,s,i,f);return f.delete(e),u;case ys:if(jt)return jt.call(e)==jt.call(t)}return!1}function Ci(e,t,r,n,s,i){var f=r&qe,l=xn(e),c=l.length,o=xn(t),u=o.length;if(c!=u&&!f)return!1;for(var a=c;a--;){var d=l[a];if(!(f?d in t:A.call(t,d)))return!1}var g=i.get(e);if(g&&i.get(t))return g==t;var h=!0;i.set(e,t),i.set(t,e);for(var y=f;++a<c;){d=l[a];var w=e[d],E=t[d];if(n)var P=f?n(E,w,d,t,e,i):n(w,E,d,e,t,i);if(!(P===void 0?w===E||s(w,E,r,n,i):P)){h=!1;break}y||(y=d=="constructor")}if(h&&!y){var L=e.constructor,C=t.constructor;L!=C&&"constructor"in e&&"constructor"in t&&!(typeof L=="function"&&L instanceof L&&typeof C=="function"&&C instanceof C)&&(h=!1)}return i.delete(e),i.delete(t),h}function xn(e){return Si(e,ki,Ti)}function Ze(e,t){var r=e.__data__;return Pi(t)?r[typeof t=="string"?"string":"hash"]:r.map}function ee(e,t){var r=Ms(e,t);return Ii(r)?r:void 0}function Li(e){var t=A.call(e,F),r=e[F];try{e[F]=void 0;var n=!0}catch{}var s=Jn.call(e);return n&&(t?e[F]=r:delete e[F]),s}var Ti=In?function(e){return e==null?[]:(e=Object(e),Ps(In(e),function(t){return Un.call(e,t)}))}:Ki,J=ye;(Bt&&J(new Bt(new ArrayBuffer(1)))!=Fe||ge&&J(new ge)!=Ue||Dt&&J(Dt.resolve())!=yn||Mt&&J(new Mt)!=We||kt&&J(new kt)!=Nt)&&(J=function(e){var t=ye(e),r=t==Z?e.constructor:void 0,n=r?H(r):"";if(n)switch(n){case Hs:return Fe;case qs:return Ue;case Xs:return yn;case Ys:return We;case Zs:return Nt}return t});function Ai(e,t){return t=t??Ln,!!t&&(typeof e=="number"||Ts.test(e))&&e>-1&&e%1==0&&e<t}function Pi(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ji(e){return!!bn&&bn in e}function zi(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Xe;return e===r}function Ni(e){return Jn.call(e)}function H(e){if(e!=null){try{return Vn.call(e)}catch{}try{return e+""}catch{}}return""}function $n(e,t){return e===t||e!==e&&t!==t}var Bi=Rn(function(){return arguments}())?Rn:function(e){return me(e)&&A.call(e,"callee")&&!Un.call(e,"callee")},He=Array.isArray;function Di(e){return e!=null&&Hn(e.length)&&!Gn(e)}var Kt=$s||Vi;function Mi(e,t){return Wn(e,t)}function Gn(e){if(!qn(e))return!1;var t=ye(e);return t==jn||t==gs||t==hs||t==ms}function Hn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ln}function qn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function me(e){return e!=null&&typeof e=="object"}var Xn=wn?Bs(wn):Oi;function ki(e){return Di(e)?bi(e):Ri(e)}function Ki(){return[]}function Vi(){return!1}Q.exports=Mi});export{ve as a,Wt as b,Zn as c,_e as d,Qn as e,cr as f,wo as g,jo as h,xa as i,Jo as j,Ca as k,La as l,$o as m,_t as n,wt as o,bt as p,qo as q,St as r,Xo as s,It as t,Or as u,ze as v,Tt as w,cn as x,as as y,pn as z,fs as A,Ji as B};
//# sourceMappingURL=chunk-QJ4QIEUS.js.map
