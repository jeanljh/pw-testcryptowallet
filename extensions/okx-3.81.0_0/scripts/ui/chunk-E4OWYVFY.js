import{a as hte}from"./chunk-IZUTUDUM.js";import{a as ZP,b as sE}from"./chunk-7THBEIEJ.js";import{c as aE}from"./chunk-QFKKFFVA.js";import{a as zP}from"./chunk-4RX5BQ36.js";import{a as ste}from"./chunk-VFMCFONI.js";import{a as VP}from"./chunk-O3KHH6JI.js";import{a as $P}from"./chunk-YDSDBRIT.js";import{c as vt}from"./chunk-HMTT52FG.js";import{a as JP}from"./chunk-45NMMWRA.js";import{a as iE,p as XP,q as oE,r as uu}from"./chunk-E4OV5WXB.js";import{b as HP,c as nte}from"./chunk-GR7YC6C3.js";import{E as WP,J as cte,j as YP,k as fte}from"./chunk-O33H5V3V.js";import{b as GP,n as ute}from"./chunk-35ANKHOJ.js";import{Tb as nE,_b as dte,la as sa,na as _0,tb as Zx}from"./chunk-COF7YKSN.js";import{A as Yt,K as v0,o as Fy}from"./chunk-VZKEX7KP.js";import{E as jP,o as Ml}from"./chunk-BJKBO23H.js";import{a as lte}from"./chunk-ZUJLXC72.js";import{f as LP,h as ate}from"./chunk-K336SGW3.js";import{I as qP,K as FP,p as kP,va as $x,z as bp}from"./chunk-XFTQD4B2.js";import{t as Ly,z as qo}from"./chunk-ZFVABNQN.js";import{a as UP}from"./chunk-4QGZDIBD.js";import{b as cc}from"./chunk-73B6GL3S.js";import{b as qy}from"./chunk-LVJGLJNA.js";import{a as rte}from"./chunk-5F7M5EJ4.js";import{a as ite,c as ote,e as KP}from"./chunk-H6JAOQCX.js";import{a as aa}from"./chunk-Z2AIGJGI.js";import{a as wp}from"./chunk-5CQODPK7.js";import{b as Jx,d as Qee,e as PP,f as ete,i as MP,j as tte,k as NP}from"./chunk-C5XO4JMZ.js";import{A as Zee,a as rE,b as Jee,u as $ee}from"./chunk-HI3LE734.js";import{d as Qn,e as Xx}from"./chunk-RX4V72AK.js";import{b as pe,c as T,d as g0,f as co,g as m0,h as y0,n as process,o as h,p as m,q as p}from"./chunk-Y5OH3DDZ.js";var fE=T(uE=>{h();p();Object.defineProperty(uE,"__esModule",{value:!0});uE.default=gte;var Qx,pte=new Uint8Array(16);function gte(){if(!Qx&&(Qx=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qx(pte)}});var QP=T(e3=>{h();p();Object.defineProperty(e3,"__esModule",{value:!0});e3.default=void 0;var mte=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;e3.default=mte});var Uy=T(t3=>{h();p();Object.defineProperty(t3,"__esModule",{value:!0});t3.default=void 0;var yte=vte(QP());function vte(r){return r&&r.__esModule?r:{default:r}}function _te(r){return typeof r=="string"&&yte.default.test(r)}var xte=_te;t3.default=xte});var Hy=T(jy=>{h();p();Object.defineProperty(jy,"__esModule",{value:!0});jy.default=void 0;jy.unsafeStringify=eM;var bte=wte(Uy());function wte(r){return r&&r.__esModule?r:{default:r}}var Cn=[];for(let r=0;r<256;++r)Cn.push((r+256).toString(16).slice(1));function eM(r,e=0){return(Cn[r[e+0]]+Cn[r[e+1]]+Cn[r[e+2]]+Cn[r[e+3]]+"-"+Cn[r[e+4]]+Cn[r[e+5]]+"-"+Cn[r[e+6]]+Cn[r[e+7]]+"-"+Cn[r[e+8]]+Cn[r[e+9]]+"-"+Cn[r[e+10]]+Cn[r[e+11]]+Cn[r[e+12]]+Cn[r[e+13]]+Cn[r[e+14]]+Cn[r[e+15]]).toLowerCase()}function Ste(r,e=0){let t=eM(r,e);if(!(0,bte.default)(t))throw TypeError("Stringified UUID is invalid");return t}var Cte=Ste;jy.default=Cte});var rM=T(r3=>{h();p();Object.defineProperty(r3,"__esModule",{value:!0});r3.default=void 0;var Ete=Tte(fE()),Ite=Hy();function Tte(r){return r&&r.__esModule?r:{default:r}}var tM,cE,dE=0,lE=0;function Ate(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||tM,a=r.clockseq!==void 0?r.clockseq:cE;if(o==null||a==null){let g=r.random||(r.rng||Ete.default)();o==null&&(o=tM=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),a==null&&(a=cE=(g[6]<<8|g[7])&16383)}let s=r.msecs!==void 0?r.msecs:Date.now(),u=r.nsecs!==void 0?r.nsecs:lE+1,f=s-dE+(u-lE)/1e4;if(f<0&&r.clockseq===void 0&&(a=a+1&16383),(f<0||s>dE)&&r.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dE=s,lE=u,cE=a,s+=122192928e5;let c=((s&268435455)*1e4+u)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;let l=s/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=l&255,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let g=0;g<6;++g)i[n+g]=o[g];return e||(0,Ite.unsafeStringify)(i)}var Ote=Ate;r3.default=Ote});var hE=T(n3=>{h();p();Object.defineProperty(n3,"__esModule",{value:!0});n3.default=void 0;var Dte=Rte(Uy());function Rte(r){return r&&r.__esModule?r:{default:r}}function Bte(r){if(!(0,Dte.default)(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Pte=Bte;n3.default=Pte});var pE=T(Nl=>{h();p();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.URL=Nl.DNS=void 0;Nl.default=Fte;var Mte=Hy(),Nte=kte(hE());function kte(r){return r&&r.__esModule?r:{default:r}}function qte(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var nM="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Nl.DNS=nM;var iM="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Nl.URL=iM;function Fte(r,e,t){function n(i,o,a,s){var u;if(typeof i=="string"&&(i=qte(i)),typeof o=="string"&&(o=(0,Nte.default)(o)),((u=o)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(o),f.set(i,o.length),f=t(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,a){s=s||0;for(let c=0;c<16;++c)a[s+c]=f[c];return a}return(0,Mte.unsafeStringify)(f)}try{n.name=r}catch{}return n.DNS=nM,n.URL=iM,n}});var aM=T(o3=>{h();p();Object.defineProperty(o3,"__esModule",{value:!0});o3.default=void 0;function Lte(r){if(typeof r=="string"){let e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(let t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Ute(jte(Hte(r),r.length*8))}function Ute(r){let e=[],t=r.length*32,n="0123456789abcdef";for(let i=0;i<t;i+=8){let o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function oM(r){return(r+64>>>9<<4)+14+1}function jte(r,e){r[e>>5]|=128<<e%32,r[oM(e)-1]=e;let t=1732584193,n=-271733879,i=-1732584194,o=271733878;for(let a=0;a<r.length;a+=16){let s=t,u=n,f=i,c=o;t=ei(t,n,i,o,r[a],7,-680876936),o=ei(o,t,n,i,r[a+1],12,-389564586),i=ei(i,o,t,n,r[a+2],17,606105819),n=ei(n,i,o,t,r[a+3],22,-1044525330),t=ei(t,n,i,o,r[a+4],7,-176418897),o=ei(o,t,n,i,r[a+5],12,1200080426),i=ei(i,o,t,n,r[a+6],17,-1473231341),n=ei(n,i,o,t,r[a+7],22,-45705983),t=ei(t,n,i,o,r[a+8],7,1770035416),o=ei(o,t,n,i,r[a+9],12,-1958414417),i=ei(i,o,t,n,r[a+10],17,-42063),n=ei(n,i,o,t,r[a+11],22,-1990404162),t=ei(t,n,i,o,r[a+12],7,1804603682),o=ei(o,t,n,i,r[a+13],12,-40341101),i=ei(i,o,t,n,r[a+14],17,-1502002290),n=ei(n,i,o,t,r[a+15],22,1236535329),t=ti(t,n,i,o,r[a+1],5,-165796510),o=ti(o,t,n,i,r[a+6],9,-1069501632),i=ti(i,o,t,n,r[a+11],14,643717713),n=ti(n,i,o,t,r[a],20,-373897302),t=ti(t,n,i,o,r[a+5],5,-701558691),o=ti(o,t,n,i,r[a+10],9,38016083),i=ti(i,o,t,n,r[a+15],14,-660478335),n=ti(n,i,o,t,r[a+4],20,-405537848),t=ti(t,n,i,o,r[a+9],5,568446438),o=ti(o,t,n,i,r[a+14],9,-1019803690),i=ti(i,o,t,n,r[a+3],14,-187363961),n=ti(n,i,o,t,r[a+8],20,1163531501),t=ti(t,n,i,o,r[a+13],5,-1444681467),o=ti(o,t,n,i,r[a+2],9,-51403784),i=ti(i,o,t,n,r[a+7],14,1735328473),n=ti(n,i,o,t,r[a+12],20,-1926607734),t=ri(t,n,i,o,r[a+5],4,-378558),o=ri(o,t,n,i,r[a+8],11,-2022574463),i=ri(i,o,t,n,r[a+11],16,1839030562),n=ri(n,i,o,t,r[a+14],23,-35309556),t=ri(t,n,i,o,r[a+1],4,-1530992060),o=ri(o,t,n,i,r[a+4],11,1272893353),i=ri(i,o,t,n,r[a+7],16,-155497632),n=ri(n,i,o,t,r[a+10],23,-1094730640),t=ri(t,n,i,o,r[a+13],4,681279174),o=ri(o,t,n,i,r[a],11,-358537222),i=ri(i,o,t,n,r[a+3],16,-722521979),n=ri(n,i,o,t,r[a+6],23,76029189),t=ri(t,n,i,o,r[a+9],4,-640364487),o=ri(o,t,n,i,r[a+12],11,-421815835),i=ri(i,o,t,n,r[a+15],16,530742520),n=ri(n,i,o,t,r[a+2],23,-995338651),t=ni(t,n,i,o,r[a],6,-198630844),o=ni(o,t,n,i,r[a+7],10,1126891415),i=ni(i,o,t,n,r[a+14],15,-1416354905),n=ni(n,i,o,t,r[a+5],21,-57434055),t=ni(t,n,i,o,r[a+12],6,1700485571),o=ni(o,t,n,i,r[a+3],10,-1894986606),i=ni(i,o,t,n,r[a+10],15,-1051523),n=ni(n,i,o,t,r[a+1],21,-2054922799),t=ni(t,n,i,o,r[a+8],6,1873313359),o=ni(o,t,n,i,r[a+15],10,-30611744),i=ni(i,o,t,n,r[a+6],15,-1560198380),n=ni(n,i,o,t,r[a+13],21,1309151649),t=ni(t,n,i,o,r[a+4],6,-145523070),o=ni(o,t,n,i,r[a+11],10,-1120210379),i=ni(i,o,t,n,r[a+2],15,718787259),n=ni(n,i,o,t,r[a+9],21,-343485551),t=x0(t,s),n=x0(n,u),i=x0(i,f),o=x0(o,c)}return[t,n,i,o]}function Hte(r){if(r.length===0)return[];let e=r.length*8,t=new Uint32Array(oM(e));for(let n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function x0(r,e){let t=(r&65535)+(e&65535);return(r>>16)+(e>>16)+(t>>16)<<16|t&65535}function Kte(r,e){return r<<e|r>>>32-e}function i3(r,e,t,n,i,o){return x0(Kte(x0(x0(e,r),x0(n,o)),i),t)}function ei(r,e,t,n,i,o,a){return i3(e&t|~e&n,r,e,i,o,a)}function ti(r,e,t,n,i,o,a){return i3(e&n|t&~n,r,e,i,o,a)}function ri(r,e,t,n,i,o,a){return i3(e^t^n,r,e,i,o,a)}function ni(r,e,t,n,i,o,a){return i3(t^(e|~n),r,e,i,o,a)}var Vte=Lte;o3.default=Vte});var uM=T(a3=>{h();p();Object.defineProperty(a3,"__esModule",{value:!0});a3.default=void 0;var zte=sM(pE()),Gte=sM(aM());function sM(r){return r&&r.__esModule?r:{default:r}}var Yte=(0,zte.default)("v3",48,Gte.default),Wte=Yte;a3.default=Wte});var fM=T(s3=>{h();p();Object.defineProperty(s3,"__esModule",{value:!0});s3.default=void 0;var Xte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jte={randomUUID:Xte};s3.default=Jte});var lM=T(u3=>{h();p();Object.defineProperty(u3,"__esModule",{value:!0});u3.default=void 0;var cM=dM(fM()),$te=dM(fE()),Zte=Hy();function dM(r){return r&&r.__esModule?r:{default:r}}function Qte(r,e,t){if(cM.default.randomUUID&&!e&&!r)return cM.default.randomUUID();r=r||{};let n=r.random||(r.rng||$te.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return(0,Zte.unsafeStringify)(n)}var ere=Qte;u3.default=ere});var hM=T(f3=>{h();p();Object.defineProperty(f3,"__esModule",{value:!0});f3.default=void 0;function tre(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function gE(r,e){return r<<e|r>>>32-e}function rre(r){let e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){let a=unescape(encodeURIComponent(r));r=[];for(let s=0;s<a.length;++s)r.push(a.charCodeAt(s))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);let n=r.length/4+2,i=Math.ceil(n/16),o=new Array(i);for(let a=0;a<i;++a){let s=new Uint32Array(16);for(let u=0;u<16;++u)s[u]=r[a*64+u*4]<<24|r[a*64+u*4+1]<<16|r[a*64+u*4+2]<<8|r[a*64+u*4+3];o[a]=s}o[i-1][14]=(r.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(r.length-1)*8&4294967295;for(let a=0;a<i;++a){let s=new Uint32Array(80);for(let y=0;y<16;++y)s[y]=o[a][y];for(let y=16;y<80;++y)s[y]=gE(s[y-3]^s[y-8]^s[y-14]^s[y-16],1);let u=t[0],f=t[1],c=t[2],l=t[3],g=t[4];for(let y=0;y<80;++y){let b=Math.floor(y/20),D=gE(u,5)+tre(b,f,c,l)+g+e[b]+s[y]>>>0;g=l,l=c,c=gE(f,30)>>>0,f=u,u=D}t[0]=t[0]+u>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+c>>>0,t[3]=t[3]+l>>>0,t[4]=t[4]+g>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var nre=rre;f3.default=nre});var gM=T(c3=>{h();p();Object.defineProperty(c3,"__esModule",{value:!0});c3.default=void 0;var ire=pM(pE()),ore=pM(hM());function pM(r){return r&&r.__esModule?r:{default:r}}var are=(0,ire.default)("v5",80,ore.default),sre=are;c3.default=sre});var mM=T(d3=>{h();p();Object.defineProperty(d3,"__esModule",{value:!0});d3.default=void 0;var ure="00000000-0000-0000-0000-000000000000";d3.default=ure});var yM=T(l3=>{h();p();Object.defineProperty(l3,"__esModule",{value:!0});l3.default=void 0;var fre=cre(Uy());function cre(r){return r&&r.__esModule?r:{default:r}}function dre(r){if(!(0,fre.default)(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var lre=dre;l3.default=lre});var h3=T(fu=>{h();p();Object.defineProperty(fu,"__esModule",{value:!0});Object.defineProperty(fu,"NIL",{enumerable:!0,get:function(){return yre.default}});Object.defineProperty(fu,"parse",{enumerable:!0,get:function(){return bre.default}});Object.defineProperty(fu,"stringify",{enumerable:!0,get:function(){return xre.default}});Object.defineProperty(fu,"v1",{enumerable:!0,get:function(){return hre.default}});Object.defineProperty(fu,"v3",{enumerable:!0,get:function(){return pre.default}});Object.defineProperty(fu,"v4",{enumerable:!0,get:function(){return gre.default}});Object.defineProperty(fu,"v5",{enumerable:!0,get:function(){return mre.default}});Object.defineProperty(fu,"validate",{enumerable:!0,get:function(){return _re.default}});Object.defineProperty(fu,"version",{enumerable:!0,get:function(){return vre.default}});var hre=dc(rM()),pre=dc(uM()),gre=dc(lM()),mre=dc(gM()),yre=dc(mM()),vre=dc(yM()),_re=dc(Uy()),xre=dc(Hy()),bre=dc(hE());function dc(r){return r&&r.__esModule?r:{default:r}}});var mE=T(p3=>{h();p();Object.defineProperty(p3,"__esModule",{value:!0});p3.getCoinSymbol=void 0;function wre(r){var e;return(e={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[r])!==null&&e!==void 0?e:""}p3.getCoinSymbol=wre});var _M=T(Sr=>{h();p();var vM=Sr&&Sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sre=Sr&&Sr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cre=Sr&&Sr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vM(e,r,t);return Sre(e,r),e},Ere=Sr&&Sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vM(e,r,t)};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.parsePath=Sr.uuidStringify=Sr.uuidParse=Sr.toBuffer=Sr.toHex=Sr.uuid=void 0;var yE=Cre(h3());Sr.uuid=yE;Ere(mE(),Sr);function Ire(r){return r===void 0?"":m.Buffer.from(r).toString("hex")}Sr.toHex=Ire;function Tre(r){return m.Buffer.from(r??"","hex")}Sr.toBuffer=Tre;function Are(r){return m.Buffer.from(yE.parse(r))}Sr.uuidParse=Are;function Ore(r){return yE.stringify(r)}Sr.uuidStringify=Ore;function Dre(r){return r.replace(/^m\//i,"").split("/").map(t=>{let n=t.endsWith("'");return{index:Number(n?t.substring(0,t.length-1):t),hardened:n}})}Sr.parsePath=Dre});var m3=T(g3=>{h();p();Object.defineProperty(g3,"__esModule",{value:!0});g3.DataItem=void 0;var vE=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};g3.DataItem=vE});var bM=T((xM,y3)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof y3<"u"&&y3.exports?y3.exports=e():r.CBOR=e()})(xM,function(){let{DataItem:r}=m3();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var v="",w=0;w<this.$hex.length;w+=2)v+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(v)}if(d==="latin"){for(var v=[],w=0;w<this.$hex.length;w+=2)v.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,v)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var v="",w=0;w<d.length;w++){var I=d.charCodeAt(w).toString(16);I.length===1&&(I="0"+I),v+=I}return new t(v)},t.fromUtf8String=function(d){for(var v=encodeURIComponent(d),w="",I=0;I<v.length;I++)if(v.charAt(I)==="%")w+=v.substring(I+1,I+3),I+=2;else{var x=v.charCodeAt(I).toString(16);x.length<2&&(x="0"+x),w+=x}return new t(w)};var n=[],i={},o=function(d){return function(){throw new Error(d+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),v=(d&32767)>>10,w=d&1023,I=d&32768;if(v===31)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-25)*(1024+w):Math.pow(2,-24)*w;return I?-x:x},readFloat32:function(){var d=this.readUint32(),v=(d&2147483647)>>23,w=d&8388607,I=d&2147483648;if(v===255)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-23-127)*(8388608+w):Math.pow(2,-23-126)*w;return I?-x:x},readFloat64:function(){var d=this.readUint32(),v=this.readUint32(),w=d>>20&2047,I=(d&1048575)*4294967296+v,x=d&2147483648;if(w===2047)return I===0?x?-1/0:1/0:NaN;var B=w?Math.pow(2,w-52-1023)*(4503599627370496+I):Math.pow(2,-52-1022)*I;return x?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function u(d){var v=d.readByte(),w=v>>5,I=v&31;return{type:w,value:I}}function f(d,v){var w=d.value;if(w<24)return w;if(w==24)return v.readByte();if(w==25)return v.readUint16();if(w==26)return v.readUint32();if(w==27)return v.readUint64();if(w==31)return null;o("Additional info: "+w)()}function c(d,v,w){w.writeByte(d<<5|v)}function l(d,v,w){var I=d<<5;v<24?w.writeByte(I|v):v<256?(w.writeByte(I|24),w.writeByte(v)):v<65536?(w.writeByte(I|25),w.writeUint16(v)):v<4294967296?(w.writeByte(I|26),w.writeUint32(v)):(w.writeByte(I|27),w.writeUint64(v))}var g=new Error;function y(d){var v=u(d);switch(v.type){case 0:return f(v,d);case 1:return-1-f(v,d);case 2:return d.readChunk(f(v,d));case 3:var w=d.readChunk(f(v,d));return w.toString("utf-8");case 4:case 5:var I=f(v,d),A=[];if(I!==null){v.type===5&&(I*=2);for(var x=0;x<I;x++)A[x]=y(d)}else for(var B;(B=y(d))!==g;)A.push(B);if(v.type===5){for(var E={},x=0;x<A.length;x+=2)E[A[x]]=A[x+1];return E}else return A;case 6:var _=f(v,d),C=i[_],A=y(d);return C?C(A):A;case 7:if(v.value===25)return d.readFloat16();if(v.value===26)return d.readFloat32();if(v.value===27)return d.readFloat64();switch(f(v,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+v.value)}default:throw new Error("Unsupported header: "+JSON.stringify(v))}throw new Error("not implemented yet")}function b(d,v){for(var w=0;w<n.length;w++){var I=n[w].fn(d);if(I!==void 0)return l(6,n[w].tag,v),b(I,v)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,v);else if(d===!0)l(7,21,v);else if(d===null)l(7,22,v);else if(d===void 0)l(7,23,v);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,v):l(0,d,v):(c(7,27,v),v.writeFloat64(d));else if(typeof d=="string")v.writeString(d,function(B){l(3,B,v)});else if(v.canWriteBinary(d))v.writeBinary(d,function(B){l(2,B,v)});else if(typeof d=="object")if(k.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,v);for(var w=0;w<d.length;w++)b(d[w],v)}else{var x=Object.keys(d);l(5,x.length,v);for(var w=0;w<x.length;w++){let E=parseInt(x[w]);isNaN(E)?(b(x[w],v),b(d[x[w]],v)):(b(E,v),b(d[x[w]],v))}}else throw new Error("CBOR encoding not supported: "+d)}var D=[],M=[],k={config:{useToJSON:!0},addWriter:function(d,v){typeof d=="string"?M.push(function(w){if(d===w)return v(w)}):M.push(d)},addReader:function(d,v){typeof d=="string"?D.push(function(w,I){if(d===I)return v(w,I)}):D.push(d)},encode:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return b(d,x),x.result()}throw new Error("Unsupported output format: "+v)},encodeDataItem:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return d.getTag()!==void 0?(b(d,x),x.result()):(b(d.getData(),x),x.result())}throw new Error("Unsupported output format: "+v)},decode:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x)return y(x)}throw new Error("Unsupported input format: "+v)},decodeToDataItem:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x){let B=y(x);return B instanceof r?B:new r(B)}}throw new Error("Unsupported input format: "+v)},addSemanticEncode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:v}),this},addSemanticDecode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=v,this}};function N(d){this.buffer=d,this.pos=0}N.prototype=Object.create(a.prototype),N.prototype.peekByte=function(){return this.buffer[this.pos]},N.prototype.readByte=function(){return this.buffer[this.pos++]},N.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},N.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},N.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},N.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},N.prototype.readChunk=function(d){var v=m.Buffer.alloc(d);return this.buffer.copy(v,0,this.pos,this.pos+=d),v};function K(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}K.prototype=Object.create(s.prototype),K.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},K.prototype.writeFloat32=function(d){var v=m.Buffer.alloc(4);v.writeFloatBE(d,0),this.writeBuffer(v)},K.prototype.writeFloat64=function(d){var v=m.Buffer.alloc(8);v.writeDoubleBE(d,0),this.writeBuffer(v)},K.prototype.writeString=function(d,v){var w=m.Buffer.from(d,"utf-8");v(w.length),this.writeBuffer(w)},K.prototype.canWriteBinary=function(d){return d instanceof m.Buffer},K.prototype.writeBinary=function(d,v){v(d.length),this.writeBuffer(d)},K.prototype.writeBuffer=function(d){if(!(d instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},K.prototype.result=function(){for(var d=m.Buffer.alloc(this.byteLength),v=0,w=0;w<this.completeBuffers.length;w++){var I=this.completeBuffers[w];I.copy(d,v,0,I.length),v+=I.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,v,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof m.Buffer=="function"&&(k.addReader(function(d,v){if(m.Buffer.isBuffer(d))return new N(d);if(v==="hex"||v==="base64"){var w=m.Buffer.from(d,v);return new N(w)}}),k.addWriter(function(d){if(!d||d==="buffer")return new K;if(d==="hex"||d==="base64")return new K(d)}));function X(d){this.hex=d,this.pos=0}X.prototype=Object.create(a.prototype),X.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},X.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},X.prototype.readChunk=function(d){var v=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof m.Buffer=="function"?m.Buffer.from(v,"hex"):new t(v)};function q(d){this.$hex="",this.finalFormat=d||"hex"}return q.prototype=Object.create(s.prototype),q.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var v=d.toString(16);v.length==1&&(v="0"+v),this.$hex+=v},q.prototype.canWriteBinary=function(d){return d instanceof t||typeof m.Buffer=="function"&&d instanceof m.Buffer},q.prototype.writeBinary=function(d,v){if(d instanceof t)v(d.length()),this.$hex+=d.$hex;else if(typeof m.Buffer=="function"&&d instanceof m.Buffer)v(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(d,v){var w=t.fromUtf8String(d);v(w.length()),this.$hex+=w.$hex},k.addReader(function(d,v){if(d instanceof t||d.$hex)return new X(d.$hex);if(v==="hex")return new X(d)}),k.addWriter(function(d){if(d==="hex")return new q}),k}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var dn=T(ii=>{h();p();Object.defineProperty(ii,"__esModule",{value:!0});ii.DataItem=ii.addWriter=ii.addReader=ii.addSemanticEncode=ii.addSemanticDecode=ii.decodeToDataItem=ii.encodeDataItem=void 0;var Sp=bM();Object.defineProperty(ii,"encodeDataItem",{enumerable:!0,get:function(){return Sp.encodeDataItem}});Object.defineProperty(ii,"decodeToDataItem",{enumerable:!0,get:function(){return Sp.decodeToDataItem}});Object.defineProperty(ii,"addSemanticDecode",{enumerable:!0,get:function(){return Sp.addSemanticDecode}});Object.defineProperty(ii,"addSemanticEncode",{enumerable:!0,get:function(){return Sp.addSemanticEncode}});Object.defineProperty(ii,"addReader",{enumerable:!0,get:function(){return Sp.addReader}});Object.defineProperty(ii,"addWriter",{enumerable:!0,get:function(){return Sp.addWriter}});var Rre=m3();Object.defineProperty(ii,"DataItem",{enumerable:!0,get:function(){return Rre.DataItem}})});var x3=T(_3=>{h();p();Object.defineProperty(_3,"__esModule",{value:!0});_3.patchTags=void 0;var v3=dn(),wM=[],Bre=r=>{r.forEach(e=>{wM.find(t=>t===e)||((0,v3.addSemanticEncode)(e,t=>{if(t instanceof v3.DataItem&&t.getTag()===e)return t.getData()}),(0,v3.addSemanticDecode)(e,t=>new v3.DataItem(t,e)),wM.push(e))})};_3.patchTags=Bre});var ln=T(Cp=>{h();p();Object.defineProperty(Cp,"__esModule",{value:!0});Cp.RegistryTypes=Cp.RegistryType=void 0;var oi=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Cp.RegistryType=oi;Cp.RegistryTypes={UUID:new oi("uuid",37),BYTES:new oi("bytes",void 0),CRYPTO_HDKEY:new oi("crypto-hdkey",303),CRYPTO_KEYPATH:new oi("crypto-keypath",304),CRYPTO_COIN_INFO:new oi("crypto-coin-info",305),CRYPTO_ECKEY:new oi("crypto-eckey",306),CRYPTO_OUTPUT:new oi("crypto-output",308),CRYPTO_PSBT:new oi("crypto-psbt",310),CRYPTO_ACCOUNT:new oi("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new oi("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new oi("qr-hardware-call",1201),KEY_DERIVATION_CALL:new oi("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new oi("key-derivation-schema",1302)}});var b3=T(kl=>{h();p();Object.defineProperty(kl,"__esModule",{value:!0});kl.ScriptExpressions=kl.ScriptExpression=void 0;var Fo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};kl.ScriptExpression=Fo;Fo.fromTag=r=>Object.values(kl.ScriptExpressions).find(t=>t.getTag()===r);kl.ScriptExpressions={SCRIPT_HASH:new Fo(400,"sh"),WITNESS_SCRIPT_HASH:new Fo(401,"wsh"),PUBLIC_KEY:new Fo(402,"pk"),PUBLIC_KEY_HASH:new Fo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Fo(404,"wpkh"),COMBO:new Fo(405,"combo"),MULTISIG:new Fo(406,"multi"),SORTED_MULTISIG:new Fo(407,"sortedmulti"),ADDRESS:new Fo(307,"addr"),RAW_SCRIPT:new Fo(408,"raw")}});var _E=T(SM=>{h();p();Object.defineProperty(SM,"__esModule",{value:!0});var Pre=x3(),Mre=ln(),Nre=b3(),kre=Object.values(Mre.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),qre=Object.values(Nre.ScriptExpressions).map(r=>r.getTag());(0,Pre.patchTags)(kre.concat(qre))});var bE=T(xE=>{h();p();xE.read=function(r,e,t,n,i){var o,a,s=i*8-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=t?i-1:0,g=t?-1:1,y=r[e+l];for(l+=g,o=y&(1<<-c)-1,y>>=-c,c+=s;c>0;o=o*256+r[e+l],l+=g,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=a*256+r[e+l],l+=g,c-=8);if(o===0)o=1-f;else{if(o===u)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(y?-1:1)*a*Math.pow(2,o-n)};xE.write=function(r,e,t,n,i,o){var a,s,u,f=o*8-i-1,c=(1<<f)-1,l=c>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,b=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+l>=1?e+=g/u:e+=g*Math.pow(2,1-l),e*u>=2&&(a++,u/=2),a+l>=c?(s=0,a=c):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a=a+l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;r[t+y]=s&255,y+=b,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[t+y]=a&255,y+=b,a/=256,f-=8);r[t+y-b]|=D*128}});var Op=T(Ap=>{h();p();var wE=VP(),Ip=bE(),CM=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ap.Buffer=le;Ap.SlowBuffer=Kre;Ap.INSPECT_MAX_BYTES=50;var w3=2147483647;Ap.kMaxLength=w3;le.TYPED_ARRAY_SUPPORT=Fre();!le.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Fre(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(le.prototype,"parent",{enumerable:!0,get:function(){if(!!le.isBuffer(this))return this.buffer}});Object.defineProperty(le.prototype,"offset",{enumerable:!0,get:function(){if(!!le.isBuffer(this))return this.byteOffset}});function lc(r){if(r>w3)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,le.prototype),e}function le(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return IE(r)}return AM(r,e,t)}le.poolSize=8192;function AM(r,e,t){if(typeof r=="string")return Ure(r,e);if(ArrayBuffer.isView(r))return jre(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(rf(r,ArrayBuffer)||r&&rf(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rf(r,SharedArrayBuffer)||r&&rf(r.buffer,SharedArrayBuffer)))return CE(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return le.from(n,e,t);let i=Hre(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return le.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}le.from=function(r,e,t){return AM(r,e,t)};Object.setPrototypeOf(le.prototype,Uint8Array.prototype);Object.setPrototypeOf(le,Uint8Array);function OM(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Lre(r,e,t){return OM(r),r<=0?lc(r):e!==void 0?typeof t=="string"?lc(r).fill(e,t):lc(r).fill(e):lc(r)}le.alloc=function(r,e,t){return Lre(r,e,t)};function IE(r){return OM(r),lc(r<0?0:TE(r)|0)}le.allocUnsafe=function(r){return IE(r)};le.allocUnsafeSlow=function(r){return IE(r)};function Ure(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!le.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=DM(r,e)|0,n=lc(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function SE(r){let e=r.length<0?0:TE(r.length)|0,t=lc(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function jre(r){if(rf(r,Uint8Array)){let e=new Uint8Array(r);return CE(e.buffer,e.byteOffset,e.byteLength)}return SE(r)}function CE(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,le.prototype),n}function Hre(r){if(le.isBuffer(r)){let e=TE(r.length)|0,t=lc(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||OE(r.length)?lc(0):SE(r);if(r.type==="Buffer"&&Array.isArray(r.data))return SE(r.data)}function TE(r){if(r>=w3)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w3.toString(16)+" bytes");return r|0}function Kre(r){return+r!=r&&(r=0),le.alloc(+r)}le.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==le.prototype};le.compare=function(e,t){if(rf(e,Uint8Array)&&(e=le.from(e,e.offset,e.byteLength)),rf(t,Uint8Array)&&(t=le.from(t,t.offset,t.byteLength)),!le.isBuffer(e)||!le.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};le.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};le.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return le.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=le.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let a=e[n];if(rf(a,Uint8Array))o+a.length>i.length?(le.isBuffer(a)||(a=le.from(a)),a.copy(i,o)):Uint8Array.prototype.set.call(i,a,o);else if(le.isBuffer(a))a.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return i};function DM(r,e){if(le.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||rf(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return EE(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return LM(r).length;default:if(i)return n?-1:EE(r).length;e=(""+e).toLowerCase(),i=!0}}le.byteLength=DM;function Vre(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return ene(this,e,t);case"utf8":case"utf-8":return BM(this,e,t);case"ascii":return Zre(this,e,t);case"latin1":case"binary":return Qre(this,e,t);case"base64":return Jre(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tne(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}le.prototype._isBuffer=!0;function ql(r,e,t){let n=r[e];r[e]=r[t],r[t]=n}le.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)ql(this,t,t+1);return this};le.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)ql(this,t,t+3),ql(this,t+1,t+2);return this};le.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)ql(this,t,t+7),ql(this,t+1,t+6),ql(this,t+2,t+5),ql(this,t+3,t+4);return this};le.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?BM(this,0,e):Vre.apply(this,arguments)};le.prototype.toLocaleString=le.prototype.toString;le.prototype.equals=function(e){if(!le.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:le.compare(this,e)===0};le.prototype.inspect=function(){let e="",t=Ap.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};CM&&(le.prototype[CM]=le.prototype.inspect);le.prototype.compare=function(e,t,n,i,o){if(rf(e,Uint8Array)&&(e=le.from(e,e.offset,e.byteLength)),!le.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let a=o-i,s=n-t,u=Math.min(a,s),f=this.slice(i,o),c=e.slice(t,n);for(let l=0;l<u;++l)if(f[l]!==c[l]){a=f[l],s=c[l];break}return a<s?-1:s<a?1:0};function RM(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,OE(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=le.from(e,n)),le.isBuffer(e))return e.length===0?-1:EM(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):EM(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function EM(r,e,t,n,i){let o=1,a=r.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,a/=2,s/=2,t/=2}function u(c,l){return o===1?c[l]:c.readUInt16BE(l*o)}let f;if(i){let c=-1;for(f=t;f<a;f++)if(u(r,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*o}else c!==-1&&(f-=f-c),c=-1}else for(t+s>a&&(t=a-s),f=t;f>=0;f--){let c=!0;for(let l=0;l<s;l++)if(u(r,f+l)!==u(e,l)){c=!1;break}if(c)return f}return-1}le.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};le.prototype.indexOf=function(e,t,n){return RM(this,e,t,n,!0)};le.prototype.lastIndexOf=function(e,t,n){return RM(this,e,t,n,!1)};function zre(r,e,t,n){t=Number(t)||0;let i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let s=parseInt(e.substr(a*2,2),16);if(OE(s))return a;r[t+a]=s}return a}function Gre(r,e,t,n){return S3(EE(e,r.length-t),r,t,n)}function Yre(r,e,t,n){return S3(one(e),r,t,n)}function Wre(r,e,t,n){return S3(LM(e),r,t,n)}function Xre(r,e,t,n){return S3(ane(e,r.length-t),r,t,n)}le.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return zre(this,e,t,n);case"utf8":case"utf-8":return Gre(this,e,t,n);case"ascii":case"latin1":case"binary":return Yre(this,e,t,n);case"base64":return Wre(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xre(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};le.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Jre(r,e,t){return e===0&&t===r.length?wE.fromByteArray(r):wE.fromByteArray(r.slice(e,t))}function BM(r,e,t){t=Math.min(r.length,t);let n=[],i=e;for(;i<t;){let o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=t){let u,f,c,l;switch(s){case 1:o<128&&(a=o);break;case 2:u=r[i+1],(u&192)===128&&(l=(o&31)<<6|u&63,l>127&&(a=l));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(l=(o&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:u=r[i+1],f=r[i+2],c=r[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(l=(o&15)<<18|(u&63)<<12|(f&63)<<6|c&63,l>65535&&l<1114112&&(a=l))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return $re(n)}var IM=4096;function $re(r){let e=r.length;if(e<=IM)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=IM));return t}function Zre(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function Qre(r,e,t){let n="";t=Math.min(r.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function ene(r,e,t){let n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let o=e;o<t;++o)i+=sne[r[o]];return i}function tne(r,e,t){let n=r.slice(e,t),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}le.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,le.prototype),i};function hn(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}le.prototype.readUintLE=le.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||hn(e,t,this.length);let i=this[e],o=1,a=0;for(;++a<t&&(o*=256);)i+=this[e+a]*o;return i};le.prototype.readUintBE=le.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||hn(e,t,this.length);let i=this[e+--t],o=1;for(;t>0&&(o*=256);)i+=this[e+--t]*o;return i};le.prototype.readUint8=le.prototype.readUInt8=function(e,t){return e=e>>>0,t||hn(e,1,this.length),this[e]};le.prototype.readUint16LE=le.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||hn(e,2,this.length),this[e]|this[e+1]<<8};le.prototype.readUint16BE=le.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||hn(e,2,this.length),this[e]<<8|this[e+1]};le.prototype.readUint32LE=le.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};le.prototype.readUint32BE=le.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};le.prototype.readBigUInt64LE=b0(function(e){e=e>>>0,Tp(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ky(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});le.prototype.readBigUInt64BE=b0(function(e){e=e>>>0,Tp(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ky(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});le.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||hn(e,t,this.length);let i=this[e],o=1,a=0;for(;++a<t&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};le.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||hn(e,t,this.length);let i=t,o=1,a=this[e+--i];for(;i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};le.prototype.readInt8=function(e,t){return e=e>>>0,t||hn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};le.prototype.readInt16LE=function(e,t){e=e>>>0,t||hn(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};le.prototype.readInt16BE=function(e,t){e=e>>>0,t||hn(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};le.prototype.readInt32LE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};le.prototype.readInt32BE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};le.prototype.readBigInt64LE=b0(function(e){e=e>>>0,Tp(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ky(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});le.prototype.readBigInt64BE=b0(function(e){e=e>>>0,Tp(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&Ky(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});le.prototype.readFloatLE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),Ip.read(this,e,!0,23,4)};le.prototype.readFloatBE=function(e,t){return e=e>>>0,t||hn(e,4,this.length),Ip.read(this,e,!1,23,4)};le.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||hn(e,8,this.length),Ip.read(this,e,!0,52,8)};le.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||hn(e,8,this.length),Ip.read(this,e,!1,52,8)};function Lo(r,e,t,n,i,o){if(!le.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}le.prototype.writeUintLE=le.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Lo(this,e,t,n,s,0)}let o=1,a=0;for(this[t]=e&255;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n};le.prototype.writeUintBE=le.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Lo(this,e,t,n,s,0)}let o=n-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n};le.prototype.writeUint8=le.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,1,255,0),this[t]=e&255,t+1};le.prototype.writeUint16LE=le.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};le.prototype.writeUint16BE=le.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};le.prototype.writeUint32LE=le.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};le.prototype.writeUint32BE=le.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function PM(r,e,t,n,i){FM(e,n,i,r,t,7);let o=Number(e&BigInt(4294967295));r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,a=a>>8,r[t++]=a,t}function MM(r,e,t,n,i){FM(e,n,i,r,t,7);let o=Number(e&BigInt(4294967295));r[t+7]=o,o=o>>8,r[t+6]=o,o=o>>8,r[t+5]=o,o=o>>8,r[t+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=a,a=a>>8,r[t+2]=a,a=a>>8,r[t+1]=a,a=a>>8,r[t]=a,t+8}le.prototype.writeBigUInt64LE=b0(function(e,t=0){return PM(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});le.prototype.writeBigUInt64BE=b0(function(e,t=0){return MM(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});le.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);Lo(this,e,t,n,u-1,-u)}let o=0,a=1,s=0;for(this[t]=e&255;++o<n&&(a*=256);)e<0&&s===0&&this[t+o-1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n};le.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let u=Math.pow(2,8*n-1);Lo(this,e,t,n,u-1,-u)}let o=n-1,a=1,s=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&s===0&&this[t+o+1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n};le.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};le.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};le.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};le.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};le.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||Lo(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};le.prototype.writeBigInt64LE=b0(function(e,t=0){return PM(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});le.prototype.writeBigInt64BE=b0(function(e,t=0){return MM(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function NM(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function kM(r,e,t,n,i){return e=+e,t=t>>>0,i||NM(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ip.write(r,e,t,n,23,4),t+4}le.prototype.writeFloatLE=function(e,t,n){return kM(this,e,t,!0,n)};le.prototype.writeFloatBE=function(e,t,n){return kM(this,e,t,!1,n)};function qM(r,e,t,n,i){return e=+e,t=t>>>0,i||NM(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ip.write(r,e,t,n,52,8),t+8}le.prototype.writeDoubleLE=function(e,t,n){return qM(this,e,t,!0,n)};le.prototype.writeDoubleBE=function(e,t,n){return qM(this,e,t,!1,n)};le.prototype.copy=function(e,t,n,i){if(!le.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),o};le.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!le.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{let a=le.isBuffer(e)?e:le.from(e,i),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var Ep={};function AE(r,e,t){Ep[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}AE("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);AE("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);AE("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=TM(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=TM(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function TM(r){let e="",t=r.length,n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function rne(r,e,t){Tp(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&Ky(e,r.length-(t+1))}function FM(r,e,t,n,i,o){if(r>t||r<e){let a=typeof e=="bigint"?"n":"",s;throw o>3?e===0||e===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:s=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:s=`>= ${e}${a} and <= ${t}${a}`,new Ep.ERR_OUT_OF_RANGE("value",s,r)}rne(n,i,o)}function Tp(r,e){if(typeof r!="number")throw new Ep.ERR_INVALID_ARG_TYPE(e,"number",r)}function Ky(r,e,t){throw Math.floor(r)!==r?(Tp(r,t),new Ep.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Ep.ERR_BUFFER_OUT_OF_BOUNDS:new Ep.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var nne=/[^+/0-9A-Za-z-_]/g;function ine(r){if(r=r.split("=")[0],r=r.trim().replace(nne,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function EE(r,e){e=e||1/0;let t,n=r.length,i=null,o=[];for(let a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function one(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function ane(r,e){let t,n,i,o=[];for(let a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function LM(r){return wE.toByteArray(ine(r))}function S3(r,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function rf(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function OE(r){return r!==r}var sne=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=r[t]+r[i]}return e}();function b0(r){return typeof BigInt>"u"?une:r}function une(){throw new Error("BigInt not supported")}});var jM=T((GBe,UM)=>{h();p();var C3=Xx().Buffer;function fne(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var a=r.length,s=r.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=C3.from(y)),!C3.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var b=0,D=0,M=0,k=y.length;M!==k&&y[M]===0;)M++,b++;for(var N=(k-M)*f+1>>>0,K=new Uint8Array(N);M!==k;){for(var X=y[M],q=0,d=N-1;(X!==0||q<D)&&d!==-1;d--,q++)X+=256*K[d]>>>0,K[d]=X%a>>>0,X=X/a>>>0;if(X!==0)throw new Error("Non-zero carry");D=q,M++}for(var v=N-D;v!==N&&K[v]===0;)v++;for(var w=s.repeat(b);v<N;++v)w+=r.charAt(K[v]);return w}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return C3.alloc(0);var b=0;if(y[b]!==" "){for(var D=0,M=0;y[b]===s;)D++,b++;for(var k=(y.length-b)*u+1>>>0,N=new Uint8Array(k);y[b];){var K=e[y.charCodeAt(b)];if(K===255)return;for(var X=0,q=k-1;(K!==0||X<M)&&q!==-1;q--,X++)K+=a*N[q]>>>0,N[q]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");M=X,b++}if(y[b]!==" "){for(var d=k-M;d!==k&&N[d]===0;)d++;var v=C3.allocUnsafe(D+(k-d));v.fill(0,0,D);for(var w=D;d!==k;)v[w++]=N[d++];return v}}}function g(y){var b=l(y);if(b)return b;throw new Error("Non-base"+a+" character")}return{encode:c,decodeUnsafe:l,decode:g}}UM.exports=fne});var KM=T((XBe,HM)=>{h();p();var cne=jM(),dne="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";HM.exports=cne(dne)});var zM=T((ZBe,VM)=>{h();p();var DE=KM(),lne=Xx().Buffer;VM.exports=function(r){function e(o){var a=r(o);return DE.encode(lne.concat([o,a],o.length+4))}function t(o){var a=o.slice(0,-4),s=o.slice(-4),u=r(a);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return a}function n(o){var a=DE.decodeUnsafe(o);if(!!a)return t(a)}function i(o){var a=DE.decode(o),s=t(a,r);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var WM=T((tPe,YM)=>{h();p();var GM=Jx(),hne=zM();function pne(r){var e=GM("sha256").update(r).digest();return GM("sha256").update(e).digest()}YM.exports=hne(pne)});var E3=T(La=>{h();p();Object.defineProperty(La,"__esModule",{value:!0});La.InvalidChecksumError=La.InvalidSequenceComponentError=La.InvalidTypeError=La.InvalidPathLengthError=La.InvalidSchemeError=void 0;var RE=class extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}};La.InvalidSchemeError=RE;var BE=class extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}};La.InvalidPathLengthError=BE;var PE=class extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}};La.InvalidTypeError=PE;var ME=class extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}};La.InvalidSequenceComponentError=ME;var NE=class extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}};La.InvalidChecksumError=NE});var Ua=T(kE=>{h();p();Object.defineProperty(kE,"__esModule",{value:!0});var Dp=Qn(),gne=Dp.Buffer.from&&Dp.Buffer.alloc&&Dp.Buffer.allocUnsafe&&Dp.Buffer.allocUnsafeSlow?Dp.Buffer.from:function(r){return new Dp.Buffer(r)};kE.default=gne});var ja=T(qE=>{h();p();Object.defineProperty(qE,"__esModule",{value:!0});qE.default=function(r,e){var t=function(i,o){return e(i,o)>>>0};return t.signed=e,t.unsigned=t,t.model=r,t}});var JM=T(FE=>{h();p();Object.defineProperty(FE,"__esModule",{value:!0});var mne=Qn(),yne=Ua(),vne=XM(yne),_ne=ja(),xne=XM(_ne);function XM(r){return r&&r.__esModule?r:{default:r}}var bne=(0,xne.default)("crc1",function(r,e){mne.Buffer.isBuffer(r)||(r=(0,vne.default)(r));for(var t=~~e,n=0,i=0;i<r.length;i++){var o=r[i];n+=o}return t+=n%256,t%256});FE.default=bne});var ZM=T((mPe,$M)=>{h();p();$M.exports=JM().default});var eN=T(UE=>{h();p();Object.defineProperty(UE,"__esModule",{value:!0});var wne=Qn(),Sne=Ua(),Cne=QM(Sne),Ene=ja(),Ine=QM(Ene);function QM(r){return r&&r.__esModule?r:{default:r}}var LE=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(LE=new Int32Array(LE));var Tne=(0,Ine.default)("crc-8",function(r,e){wne.Buffer.isBuffer(r)||(r=(0,Cne.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=LE[(t^i)&255]&255}return t});UE.default=Tne});var rN=T((wPe,tN)=>{h();p();tN.exports=eN().default});var iN=T(HE=>{h();p();Object.defineProperty(HE,"__esModule",{value:!0});var Ane=Qn(),One=Ua(),Dne=nN(One),Rne=ja(),Bne=nN(Rne);function nN(r){return r&&r.__esModule?r:{default:r}}var jE=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(jE=new Int32Array(jE));var Pne=(0,Bne.default)("dallas-1-wire",function(r,e){Ane.Buffer.isBuffer(r)||(r=(0,Dne.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=jE[(t^i)&255]&255}return t});HE.default=Pne});var aN=T((APe,oN)=>{h();p();oN.exports=iN().default});var uN=T(VE=>{h();p();Object.defineProperty(VE,"__esModule",{value:!0});var Mne=Qn(),Nne=Ua(),kne=sN(Nne),qne=ja(),Fne=sN(qne);function sN(r){return r&&r.__esModule?r:{default:r}}var KE=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(KE=new Int32Array(KE));var Lne=(0,Fne.default)("crc-16",function(r,e){Mne.Buffer.isBuffer(r)||(r=(0,kne.default)(r));for(var t=~~e,n=0;n<r.length;n++){var i=r[n];t=(KE[(t^i)&255]^t>>8)&65535}return t});VE.default=Lne});var cN=T((MPe,fN)=>{h();p();fN.exports=uN().default});var lN=T(GE=>{h();p();Object.defineProperty(GE,"__esModule",{value:!0});var Une=Qn(),jne=Ua(),Hne=dN(jne),Kne=ja(),Vne=dN(Kne);function dN(r){return r&&r.__esModule?r:{default:r}}var zE=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(zE=new Int32Array(zE));var zne=(0,Vne.default)("ccitt",function(r,e){Une.Buffer.isBuffer(r)||(r=(0,Hne.default)(r));for(var t=typeof e<"u"?~~e:65535,n=0;n<r.length;n++){var i=r[n];t=(zE[(t>>8^i)&255]^t<<8)&65535}return t});GE.default=zne});var pN=T((UPe,hN)=>{h();p();hN.exports=lN().default});var mN=T(WE=>{h();p();Object.defineProperty(WE,"__esModule",{value:!0});var Gne=Qn(),Yne=Ua(),Wne=gN(Yne),Xne=ja(),Jne=gN(Xne);function gN(r){return r&&r.__esModule?r:{default:r}}var YE=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(YE=new Int32Array(YE));var $ne=(0,Jne.default)("crc-16-modbus",function(r,e){Gne.Buffer.isBuffer(r)||(r=(0,Wne.default)(r));for(var t=typeof e<"u"?~~e:65535,n=0;n<r.length;n++){var i=r[n];t=(YE[(t^i)&255]^t>>8)&65535}return t});WE.default=$ne});var vN=T((GPe,yN)=>{h();p();yN.exports=mN().default});var xN=T(XE=>{h();p();Object.defineProperty(XE,"__esModule",{value:!0});var Zne=Qn(),Qne=Ua(),eie=_N(Qne),tie=ja(),rie=_N(tie);function _N(r){return r&&r.__esModule?r:{default:r}}var nie=(0,rie.default)("xmodem",function(r,e){Zne.Buffer.isBuffer(r)||(r=(0,eie.default)(r));for(var t=typeof e<"u"?~~e:0,n=0;n<r.length;n++){var i=r[n],o=t>>>8&255;o^=i&255,o^=o>>>4,t=t<<8&65535,t^=o,o=o<<5&65535,t^=o,o=o<<7&65535,t^=o}return t});XE.default=nie});var wN=T((ZPe,bN)=>{h();p();bN.exports=xN().default});var CN=T($E=>{h();p();Object.defineProperty($E,"__esModule",{value:!0});var iie=Qn(),oie=Ua(),aie=SN(oie),sie=ja(),uie=SN(sie);function SN(r){return r&&r.__esModule?r:{default:r}}var JE=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(JE=new Int32Array(JE));var fie=(0,uie.default)("kermit",function(r,e){iie.Buffer.isBuffer(r)||(r=(0,aie.default)(r));for(var t=typeof e<"u"?~~e:0,n=0;n<r.length;n++){var i=r[n];t=(JE[(t^i)&255]^t>>8)&65535}return t});$E.default=fie});var IN=T((iMe,EN)=>{h();p();EN.exports=CN().default});var AN=T(QE=>{h();p();Object.defineProperty(QE,"__esModule",{value:!0});var cie=Qn(),die=Ua(),lie=TN(die),hie=ja(),pie=TN(hie);function TN(r){return r&&r.__esModule?r:{default:r}}var ZE=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(ZE=new Int32Array(ZE));var gie=(0,pie.default)("crc-24",function(r,e){cie.Buffer.isBuffer(r)||(r=(0,lie.default)(r));for(var t=typeof e<"u"?~~e:11994318,n=0;n<r.length;n++){var i=r[n];t=(ZE[(t>>16^i)&255]^t<<8)&16777215}return t});QE.default=gie});var DN=T((cMe,ON)=>{h();p();ON.exports=AN().default});var BN=T(tI=>{h();p();Object.defineProperty(tI,"__esModule",{value:!0});var mie=Qn(),yie=Ua(),vie=RN(yie),_ie=ja(),xie=RN(_ie);function RN(r){return r&&r.__esModule?r:{default:r}}var eI=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(eI=new Int32Array(eI));var bie=(0,xie.default)("crc-32",function(r,e){mie.Buffer.isBuffer(r)||(r=(0,vie.default)(r));for(var t=e===0?0:~~e^-1,n=0;n<r.length;n++){var i=r[n];t=eI[(t^i)&255]^t>>>8}return t^-1});tI.default=bie});var MN=T((mMe,PN)=>{h();p();PN.exports=BN().default});var kN=T(nI=>{h();p();Object.defineProperty(nI,"__esModule",{value:!0});var wie=Qn(),Sie=Ua(),Cie=NN(Sie),Eie=ja(),Iie=NN(Eie);function NN(r){return r&&r.__esModule?r:{default:r}}var rI=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(rI=new Int32Array(rI));var Tie=(0,Iie.default)("jam",function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;wie.Buffer.isBuffer(r)||(r=(0,Cie.default)(r));for(var t=e===0?0:~~e,n=0;n<r.length;n++){var i=r[n];t=rI[(t^i)&255]^t>>>8}return t});nI.default=Tie});var FN=T((wMe,qN)=>{h();p();qN.exports=kN().default});var UN=T((EMe,LN)=>{h();p();LN.exports={crc1:ZM(),crc8:rN(),crc81wire:aN(),crc16:cN(),crc16ccitt:pN(),crc16modbus:vN(),crc16xmodem:wN(),crc16kermit:IN(),crc24:DN(),crc32:MN(),crcjam:FN()}});var w0=T(Wt=>{h();p();var Aie=Wt&&Wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.bufferXOR=Wt.setDifference=Wt.arrayContains=Wt.arraysEqual=Wt.hasPrefix=Wt.isURType=Wt.intToBytes=Wt.toUint32=Wt.getCRCHex=Wt.getCRC=Wt.split=Wt.partition=Wt.sha256Hash=void 0;var Oie=Aie(Zee()),jN=UN(),Die=r=>Oie.default("sha256").update(r).digest();Wt.sha256Hash=Die;var Rie=(r,e)=>r.match(new RegExp(".{1,"+e+"}","g"))||[r];Wt.partition=Rie;var Bie=(r,e)=>[r.slice(0,-e),r.slice(-e)];Wt.split=Bie;var Pie=r=>jN.crc32(r);Wt.getCRC=Pie;var Mie=r=>jN.crc32(r).toString(16).padStart(8,"0");Wt.getCRCHex=Mie;var Nie=r=>r>>>0;Wt.toUint32=Nie;var kie=r=>{let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,r,!1),m.Buffer.from(e)};Wt.intToBytes=kie;var qie=r=>r.split("").every((e,t)=>{let n=r.charCodeAt(t);return"a".charCodeAt(0)<=n&&n<="z".charCodeAt(0)||"0".charCodeAt(0)<=n&&n<="9".charCodeAt(0)||n==="-".charCodeAt(0)});Wt.isURType=qie;var Fie=(r,e)=>r.indexOf(e)===0;Wt.hasPrefix=Fie;var Lie=(r,e)=>r.length!==e.length?!1:r.every(t=>e.includes(t));Wt.arraysEqual=Lie;var Uie=(r,e)=>e.every(t=>r.includes(t));Wt.arrayContains=Uie;var jie=(r,e)=>r.filter(t=>e.indexOf(t)<0);Wt.setDifference=jie;var Hie=(r,e)=>{let t=Math.max(r.length,e.length),n=m.Buffer.allocUnsafe(t);for(let i=0;i<t;++i)n[i]=r[i]^e[i];return n};Wt.bufferXOR=Hie});var KN=T((HN,I3)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof I3<"u"&&I3.exports?I3.exports=e():r.CBOR=e()})(HN,function(){var r=function(){function e(q){this.$hex=q}e.prototype={length:function(){return this.$hex.length/2},toString:function(q){if(!q||q==="hex"||q===16)return this.$hex;if(q==="utf-8"){for(var d="",v=0;v<this.$hex.length;v+=2)d+="%"+this.$hex.substring(v,v+2);return decodeURIComponent(d)}if(q==="latin"){for(var d=[],v=0;v<this.$hex.length;v+=2)d.push(parseInt(this.$hex.substring(v,v+2),16));return String.fromCharCode.apply(String,d)}throw new Error("Unrecognised format: "+q)}},e.fromLatinString=function(q){for(var d="",v=0;v<q.length;v++){var w=q.charCodeAt(v).toString(16);w.length===1&&(w="0"+w),d+=w}return new e(d)},e.fromUtf8String=function(q){for(var d=encodeURIComponent(q),v="",w=0;w<d.length;w++)if(d.charAt(w)==="%")v+=d.substring(w+1,w+3),w+=2;else{var I=d.charCodeAt(w).toString(16);I.length<2&&(I="0"+I),v+=I}return new e(v)};var t=[],n={},i=function(q){return function(){throw new Error(q+" not implemented")}};function o(){}o.prototype={peekByte:i("peekByte"),readByte:i("readByte"),readChunk:i("readChunk"),readFloat16:function(){var q=this.readUint16(),d=(q&32767)>>10,v=q&1023,w=q&32768;if(d===31)return v===0?w?-1/0:1/0:NaN;var I=d?Math.pow(2,d-25)*(1024+v):Math.pow(2,-24)*v;return w?-I:I},readFloat32:function(){var q=this.readUint32(),d=(q&2147483647)>>23,v=q&8388607,w=q&2147483648;if(d===255)return v===0?w?-1/0:1/0:NaN;var I=d?Math.pow(2,d-23-127)*(8388608+v):Math.pow(2,-23-126)*v;return w?-I:I},readFloat64:function(){var q=this.readUint32(),d=this.readUint32(),v=q>>20&2047,w=(q&1048575)*4294967296+d,I=q&2147483648;if(v===2047)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-52-1023)*(4503599627370496+w):Math.pow(2,-52-1022)*w;return I?-x:x},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function a(){}a.prototype={writeByte:i("writeByte"),result:i("result"),writeFloat16:i("writeFloat16"),writeFloat32:i("writeFloat32"),writeFloat64:i("writeFloat64"),writeUint16:function(q){this.writeByte(q>>8&255),this.writeByte(q&255)},writeUint32:function(q){this.writeUint16(q>>16&65535),this.writeUint16(q&65535)},writeUint64:function(q){if(q>=9007199254740992||q<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+q+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(q/4294967296)),this.writeUint32(q%4294967296)},writeString:i("writeString"),canWriteBinary:function(q){return!1},writeBinary:i("writeChunk")};function s(q){var d=q.readByte(),v=d>>5,w=d&31;return{type:v,value:w}}function u(q,d){var v=q.value;if(v<24)return v;if(v==24)return d.readByte();if(v==25)return d.readUint16();if(v==26)return d.readUint32();if(v==27)return d.readUint64();if(v==31)return null;i("Additional info: "+v)()}function f(q,d,v){v.writeByte(q<<5|d)}function c(q,d,v){var w=q<<5;d<24?v.writeByte(w|d):d<256?(v.writeByte(w|24),v.writeByte(d)):d<65536?(v.writeByte(w|25),v.writeUint16(d)):d<4294967296?(v.writeByte(w|26),v.writeUint32(d)):(v.writeByte(w|27),v.writeUint64(d))}var l=new Error;function g(q){var d=s(q);switch(d.type){case 0:return u(d,q);case 1:return-1-u(d,q);case 2:return q.readChunk(u(d,q));case 3:var v=q.readChunk(u(d,q));return v.toString("utf-8");case 4:case 5:var w=u(d,q),C=[];if(w!==null){d.type===5&&(w*=2);for(var I=0;I<w;I++)C[I]=g(q)}else for(var x;(x=g(q))!==l;)C.push(x);if(d.type===5){for(var B={},I=0;I<C.length;I+=2)B[C[I]]=C[I+1];return B}else return C;case 6:var E=u(d,q),_=n[E],C=g(q);return _?_(C):C;case 7:if(d.value===25)return q.readFloat16();if(d.value===26)return q.readFloat32();if(d.value===27)return q.readFloat64();switch(u(d,q)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return l;default:throw new Error("Unknown fixed value: "+d.value)}default:throw new Error("Unsupported header: "+JSON.stringify(d))}throw new Error("not implemented yet")}function y(q,d){for(var v=0;v<t.length;v++){var w=t[v].fn(q);if(w!==void 0)return c(6,t[v].tag,d),y(w,d)}if(q&&typeof q.toCBOR=="function"&&(q=q.toCBOR()),q===!1)c(7,20,d);else if(q===!0)c(7,21,d);else if(q===null)c(7,22,d);else if(q===void 0)c(7,23,d);else if(typeof q=="number")Math.floor(q)===q&&q<9007199254740992&&q>-9007199254740992?q<0?c(1,-1-q,d):c(0,q,d):(f(7,27,d),d.writeFloat64(q));else if(typeof q=="string")d.writeString(q,function(x){c(3,x,d)});else if(d.canWriteBinary(q))d.writeBinary(q,function(x){c(2,x,d)});else if(typeof q=="object")if(M.config.useToJSON&&typeof q.toJSON=="function"&&(q=q.toJSON()),Array.isArray(q)){c(4,q.length,d);for(var v=0;v<q.length;v++)y(q[v],d)}else{var I=Object.keys(q);c(5,I.length,d);for(var v=0;v<I.length;v++)y(I[v],d),y(q[I[v]],d)}else throw new Error("CBOR encoding not supported: "+q)}var b=[],D=[],M={config:{useToJSON:!0},addWriter:function(q,d){typeof q=="string"?D.push(function(v){if(q===v)return d(v)}):D.push(q)},addReader:function(q,d){typeof q=="string"?b.push(function(v,w){if(q===w)return d(v,w)}):b.push(q)},encode:function(q,d){for(var v=0;v<D.length;v++){var w=D[v],I=w(d);if(I)return y(q,I),I.result()}throw new Error("Unsupported output format: "+d)},decode:function(q,d){for(var v=0;v<b.length;v++){var w=b[v],I=w(q,d);if(I)return g(I)}throw new Error("Unsupported input format: "+d)},addSemanticEncode:function(q,d){if(typeof q!="number"||q%1!==0||q<0)throw new Error("Tag must be a positive integer");return t.push({tag:q,fn:d}),this},addSemanticDecode:function(q,d){if(typeof q!="number"||q%1!==0||q<0)throw new Error("Tag must be a positive integer");return n[q]=d,this},Reader:o,Writer:a};function k(q){this.buffer=q,this.pos=0}k.prototype=Object.create(o.prototype),k.prototype.peekByte=function(){return this.buffer[this.pos]},k.prototype.readByte=function(){return this.buffer[this.pos++]},k.prototype.readUint16=function(){var q=this.buffer.readUInt16BE(this.pos);return this.pos+=2,q},k.prototype.readUint32=function(){var q=this.buffer.readUInt32BE(this.pos);return this.pos+=4,q},k.prototype.readFloat32=function(){var q=this.buffer.readFloatBE(this.pos);return this.pos+=4,q},k.prototype.readFloat64=function(){var q=this.buffer.readDoubleBE(this.pos);return this.pos+=8,q},k.prototype.readChunk=function(q){var d=m.Buffer.alloc(q);return this.buffer.copy(d,0,this.pos,this.pos+=q),d};function N(q){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=q}N.prototype=Object.create(a.prototype),N.prototype.writeByte=function(q){this.latestBuffer[this.latestBufferOffset++]=q,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},N.prototype.writeFloat32=function(q){var d=m.Buffer.alloc(4);d.writeFloatBE(q,0),this.writeBuffer(d)},N.prototype.writeFloat64=function(q){var d=m.Buffer.alloc(8);d.writeDoubleBE(q,0),this.writeBuffer(d)},N.prototype.writeString=function(q,d){var v=m.Buffer.from(q,"utf-8");d(v.length),this.writeBuffer(v)},N.prototype.canWriteBinary=function(q){return q instanceof m.Buffer},N.prototype.writeBinary=function(q,d){d(q.length),this.writeBuffer(q)},N.prototype.writeBuffer=function(q){if(!(q instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=q.length?(q.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=q.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(q),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(q),this.byteLength+=q.length},N.prototype.result=function(){for(var q=m.Buffer.alloc(this.byteLength),d=0,v=0;v<this.completeBuffers.length;v++){var w=this.completeBuffers[v];w.copy(q,d,0,w.length),d+=w.length}return this.latestBufferOffset&&this.latestBuffer.copy(q,d,0,this.latestBufferOffset),this.stringFormat?q.toString(this.stringFormat):q},typeof m.Buffer=="function"&&(M.addReader(function(q,d){if(q instanceof m.Buffer)return new k(q);if(d==="hex"||d==="base64"){var v=m.Buffer.from(q,d);return new k(v)}}),M.addWriter(function(q){if(!q||q==="buffer")return new N;if(q==="hex"||q==="base64")return new N(q)}));function K(q){this.hex=q,this.pos=0}K.prototype=Object.create(o.prototype),K.prototype.peekByte=function(){var q=this.hex.substring(this.pos,2);return parseInt(q,16)},K.prototype.readByte=function(){var q=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(q,16)},K.prototype.readChunk=function(q){var d=this.hex.substring(this.pos,this.pos+q*2);return this.pos+=q*2,typeof m.Buffer=="function"?m.Buffer.from(d,"hex"):new e(d)};function X(q){this.$hex="",this.finalFormat=q||"hex"}return X.prototype=Object.create(a.prototype),X.prototype.writeByte=function(q){if(q<0||q>255)throw new Error("Byte value out of range: "+q);var d=q.toString(16);d.length==1&&(d="0"+d),this.$hex+=d},X.prototype.canWriteBinary=function(q){return q instanceof e||typeof m.Buffer=="function"&&q instanceof m.Buffer},X.prototype.writeBinary=function(q,d){if(q instanceof e)d(q.length()),this.$hex+=q.$hex;else if(typeof m.Buffer=="function"&&q instanceof m.Buffer)d(q.length),this.$hex+=q.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},X.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},X.prototype.writeString=function(q,d){var v=e.fromUtf8String(q);d(v.length()),this.$hex+=v.$hex},M.addReader(function(q,d){if(q instanceof e||q.$hex)return new K(q.$hex);if(d==="hex")return new K(q)}),M.addWriter(function(q){if(q==="hex")return new X}),M}();return r.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),r})});var iI=T(Rp=>{h();p();Object.defineProperty(Rp,"__esModule",{value:!0});Rp.cborDecode=Rp.cborEncode=void 0;var VN=KN(),Kie=r=>VN.encode(r);Rp.cborEncode=Kie;var Vie=r=>VN.decode(m.Buffer.isBuffer(r)?r:m.Buffer.from(r,"hex"));Rp.cborDecode=Vie});var aI=T(oI=>{h();p();Object.defineProperty(oI,"__esModule",{value:!0});var zie=E3(),Gie=w0(),zN=iI(),Bp=class{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!Gie.isURType(this._type))throw new zie.InvalidTypeError}static fromBuffer(e){return new Bp(zN.cborEncode(e))}static from(e,t){return Bp.fromBuffer(m.Buffer.from(e,t))}decodeCBOR(){return zN.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}};oI.default=Bp});var GN=T((sI,uI)=>{h();p();(function(r,e){typeof sI=="object"&&typeof uI<"u"?uI.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.JSBI=e())})(sI,function(){"use strict";var r=Math.imul,e=Math.clz32,t=Math.abs,n=Math.max,i=Math.floor;class o extends Array{constructor(s,u){if(super(s),this.sign=u,s>o.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(s){var u=Number.isFinite;if(typeof s=="number"){if(s===0)return o.__zero();if(o.__isOneDigitInt(s))return 0>s?o.__oneDigit(-s,!0):o.__oneDigit(s,!1);if(!u(s)||i(s)!==s)throw new RangeError("The number "+s+" cannot be converted to BigInt because it is not an integer");return o.__fromDouble(s)}if(typeof s=="string"){let f=o.__fromString(s);if(f===null)throw new SyntaxError("Cannot convert "+s+" to a BigInt");return f}if(typeof s=="boolean")return s===!0?o.__oneDigit(1,!1):o.__zero();if(typeof s=="object"){if(s.constructor===o)return s;let f=o.__toPrimitive(s);return o.BigInt(f)}throw new TypeError("Cannot convert "+s+" to a BigInt")}toDebugString(){let s=["BigInt["];for(let u of this)s.push((u&&(u>>>0).toString(16))+", ");return s.push("]"),s.join("")}toString(s=10){if(2>s||36<s)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(s&s-1)==0?o.__toStringBasePowerOfTwo(this,s):o.__toStringGeneric(this,s,!1)}static toNumber(s){let u=s.length;if(u===0)return 0;if(u===1){let d=s.__unsignedDigit(0);return s.sign?-d:d}let f=s.__digit(u-1),c=o.__clz30(f),l=30*u-c;if(1024<l)return s.sign?-1/0:1/0;let g=l-1,y=f,b=u-1,D=c+3,M=D===32?0:y<<D;M>>>=12;let k=D-12,N=12<=D?0:y<<20+D,K=20+D;for(0<k&&0<b&&(b--,y=s.__digit(b),M|=y>>>30-k,N=y<<k+2,K=k+2);0<K&&0<b;)b--,y=s.__digit(b),N|=30<=K?y<<K-30:y>>>30-K,K-=30;let X=o.__decideRounding(s,K,b,y);if((X===1||X===0&&(1&N)==1)&&(N=N+1>>>0,N===0&&(M++,M>>>20!=0&&(M=0,g++,1023<g))))return s.sign?-1/0:1/0;let q=s.sign?-2147483648:0;return g=g+1023<<20,o.__kBitConversionInts[1]=q|g|M,o.__kBitConversionInts[0]=N,o.__kBitConversionDouble[0]}static unaryMinus(s){if(s.length===0)return s;let u=s.__copy();return u.sign=!s.sign,u}static bitwiseNot(s){return s.sign?o.__absoluteSubOne(s).__trim():o.__absoluteAddOne(s,!0)}static exponentiate(s,u){if(u.sign)throw new RangeError("Exponent must be positive");if(u.length===0)return o.__oneDigit(1,!1);if(s.length===0)return s;if(s.length===1&&s.__digit(0)===1)return s.sign&&(1&u.__digit(0))==0?o.unaryMinus(s):s;if(1<u.length)throw new RangeError("BigInt too big");let f=u.__unsignedDigit(0);if(f===1)return s;if(f>=o.__kMaxLengthBits)throw new RangeError("BigInt too big");if(s.length===1&&s.__digit(0)===2){let g=1+(0|f/30),y=s.sign&&(1&f)!=0,b=new o(g,y);b.__initializeDigits();let D=1<<f%30;return b.__setDigit(g-1,D),b}let c=null,l=s;for((1&f)!=0&&(c=s),f>>=1;f!==0;f>>=1)l=o.multiply(l,l),(1&f)!=0&&(c===null?c=l:c=o.multiply(c,l));return c}static multiply(s,u){if(s.length===0)return s;if(u.length===0)return u;let f=s.length+u.length;30<=s.__clzmsd()+u.__clzmsd()&&f--;let c=new o(f,s.sign!==u.sign);c.__initializeDigits();for(let l=0;l<s.length;l++)o.__multiplyAccumulate(u,s.__digit(l),c,l);return c.__trim()}static divide(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(s,u))return o.__zero();let f=s.sign!==u.sign,c=u.__unsignedDigit(0),l;if(u.length===1&&32767>=c){if(c===1)return f===s.sign?s:o.unaryMinus(s);l=o.__absoluteDivSmall(s,c,null)}else l=o.__absoluteDivLarge(s,u,!0,!1);return l.sign=f,l.__trim()}static remainder(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(s,u))return s;let f=u.__unsignedDigit(0);if(u.length===1&&32767>=f){if(f===1)return o.__zero();let l=o.__absoluteModSmall(s,f);return l===0?o.__zero():o.__oneDigit(l,s.sign)}let c=o.__absoluteDivLarge(s,u,!1,!0);return c.sign=s.sign,c.__trim()}static add(s,u){let f=s.sign;return f===u.sign?o.__absoluteAdd(s,u,f):0<=o.__absoluteCompare(s,u)?o.__absoluteSub(s,u,f):o.__absoluteSub(u,s,!f)}static subtract(s,u){let f=s.sign;return f===u.sign?0<=o.__absoluteCompare(s,u)?o.__absoluteSub(s,u,f):o.__absoluteSub(u,s,!f):o.__absoluteAdd(s,u,f)}static leftShift(s,u){return u.length===0||s.length===0?s:u.sign?o.__rightShiftByAbsolute(s,u):o.__leftShiftByAbsolute(s,u)}static signedRightShift(s,u){return u.length===0||s.length===0?s:u.sign?o.__leftShiftByAbsolute(s,u):o.__rightShiftByAbsolute(s,u)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(s,u){return 0>o.__compareToBigInt(s,u)}static lessThanOrEqual(s,u){return 0>=o.__compareToBigInt(s,u)}static greaterThan(s,u){return 0<o.__compareToBigInt(s,u)}static greaterThanOrEqual(s,u){return 0<=o.__compareToBigInt(s,u)}static equal(s,u){if(s.sign!==u.sign||s.length!==u.length)return!1;for(let f=0;f<s.length;f++)if(s.__digit(f)!==u.__digit(f))return!1;return!0}static notEqual(s,u){return!o.equal(s,u)}static bitwiseAnd(s,u){if(!s.sign&&!u.sign)return o.__absoluteAnd(s,u).__trim();if(s.sign&&u.sign){let f=n(s.length,u.length)+1,c=o.__absoluteSubOne(s,f),l=o.__absoluteSubOne(u);return c=o.__absoluteOr(c,l,c),o.__absoluteAddOne(c,!0,c).__trim()}return s.sign&&([s,u]=[u,s]),o.__absoluteAndNot(s,o.__absoluteSubOne(u)).__trim()}static bitwiseXor(s,u){if(!s.sign&&!u.sign)return o.__absoluteXor(s,u).__trim();if(s.sign&&u.sign){let l=n(s.length,u.length),g=o.__absoluteSubOne(s,l),y=o.__absoluteSubOne(u);return o.__absoluteXor(g,y,g).__trim()}let f=n(s.length,u.length)+1;s.sign&&([s,u]=[u,s]);let c=o.__absoluteSubOne(u,f);return c=o.__absoluteXor(c,s,c),o.__absoluteAddOne(c,!0,c).__trim()}static bitwiseOr(s,u){let f=n(s.length,u.length);if(!s.sign&&!u.sign)return o.__absoluteOr(s,u).__trim();if(s.sign&&u.sign){let l=o.__absoluteSubOne(s,f),g=o.__absoluteSubOne(u);return l=o.__absoluteAnd(l,g,l),o.__absoluteAddOne(l,!0,l).__trim()}s.sign&&([s,u]=[u,s]);let c=o.__absoluteSubOne(u,f);return c=o.__absoluteAndNot(c,s,c),o.__absoluteAddOne(c,!0,c).__trim()}static asIntN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return o.__zero();if(s>=o.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let c=u.__unsignedDigit(f-1),l=1<<(s-1)%30;if(u.length===f&&c<l)return u;if((c&l)!==l)return o.__truncateToNBits(s,u);if(!u.sign)return o.__truncateAndSubFromPowerOfTwo(s,u,!0);if((c&l-1)==0){for(let g=f-2;0<=g;g--)if(u.__digit(g)!==0)return o.__truncateAndSubFromPowerOfTwo(s,u,!1);return u.length===f&&c===l?u:o.__truncateToNBits(s,u)}return o.__truncateAndSubFromPowerOfTwo(s,u,!1)}static asUintN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return o.__zero();if(u.sign){if(s>o.__kMaxLengthBits)throw new RangeError("BigInt too big");return o.__truncateAndSubFromPowerOfTwo(s,u,!1)}if(s>=o.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let c=s%30;return u.length==f&&(c===0||u.__digit(f-1)>>>c==0)?u:o.__truncateToNBits(s,u)}static ADD(s,u){if(s=o.__toPrimitive(s),u=o.__toPrimitive(u),typeof s=="string")return typeof u!="string"&&(u=u.toString()),s+u;if(typeof u=="string")return s.toString()+u;if(s=o.__toNumeric(s),u=o.__toNumeric(u),o.__isBigInt(s)&&o.__isBigInt(u))return o.add(s,u);if(typeof s=="number"&&typeof u=="number")return s+u;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(s,u){return o.__compare(s,u,0)}static LE(s,u){return o.__compare(s,u,1)}static GT(s,u){return o.__compare(s,u,2)}static GE(s,u){return o.__compare(s,u,3)}static EQ(s,u){for(;;){if(o.__isBigInt(s))return o.__isBigInt(u)?o.equal(s,u):o.EQ(u,s);if(typeof s=="number"){if(o.__isBigInt(u))return o.__equalToNumber(u,s);if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="string"){if(o.__isBigInt(u))return s=o.__fromString(s),s!==null&&o.equal(s,u);if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="boolean"){if(o.__isBigInt(u))return o.__equalToNumber(u,+s);if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="symbol"){if(o.__isBigInt(u))return!1;if(typeof u!="object")return s==u;u=o.__toPrimitive(u)}else if(typeof s=="object"){if(typeof u=="object"&&u.constructor!==o)return s==u;s=o.__toPrimitive(s)}else return s==u}}static NE(s,u){return!o.EQ(s,u)}static __zero(){return new o(0,!1)}static __oneDigit(s,u){let f=new o(1,u);return f.__setDigit(0,s),f}__copy(){let s=new o(this.length,this.sign);for(let u=0;u<this.length;u++)s[u]=this[u];return s}__trim(){let s=this.length,u=this[s-1];for(;u===0;)s--,u=this[s-1],this.pop();return s===0&&(this.sign=!1),this}__initializeDigits(){for(let s=0;s<this.length;s++)this[s]=0}static __decideRounding(s,u,f,c){if(0<u)return-1;let l;if(0>u)l=-u-1;else{if(f===0)return-1;f--,c=s.__digit(f),l=29}let g=1<<l;if((c&g)==0)return-1;if(g-=1,(c&g)!=0)return 1;for(;0<f;)if(f--,s.__digit(f)!==0)return 1;return 0}static __fromDouble(s){o.__kBitConversionDouble[0]=s;let u=2047&o.__kBitConversionInts[1]>>>20,f=u-1023,c=(0|f/30)+1,l=new o(c,0>s),g=1048575&o.__kBitConversionInts[1]|1048576,y=o.__kBitConversionInts[0],b=20,D=f%30,M,k=0;if(20>D){let N=b-D;k=N+32,M=g>>>N,g=g<<32-N|y>>>N,y<<=32-N}else if(D===20)k=32,M=g,g=y,y=0;else{let N=D-b;k=32-N,M=g<<N|y>>>32-N,g=y<<N,y=0}l.__setDigit(c-1,M);for(let N=c-2;0<=N;N--)0<k?(k-=30,M=g>>>2,g=g<<30|y>>>2,y<<=30):M=0,l.__setDigit(N,M);return l.__trim()}static __isWhitespace(s){return 13>=s&&9<=s||(159>=s?s==32:131071>=s?s==160||s==5760:196607>=s?(s&=131071,10>=s||s==40||s==41||s==47||s==95||s==4096):s==65279)}static __fromString(s,u=0){let f=0,c=s.length,l=0;if(l===c)return o.__zero();let g=s.charCodeAt(l);for(;o.__isWhitespace(g);){if(++l===c)return o.__zero();g=s.charCodeAt(l)}if(g===43){if(++l===c)return null;g=s.charCodeAt(l),f=1}else if(g===45){if(++l===c)return null;g=s.charCodeAt(l),f=-1}if(u===0){if(u=10,g===48){if(++l===c)return o.__zero();if(g=s.charCodeAt(l),g===88||g===120){if(u=16,++l===c)return null;g=s.charCodeAt(l)}else if(g===79||g===111){if(u=8,++l===c)return null;g=s.charCodeAt(l)}else if(g===66||g===98){if(u=2,++l===c)return null;g=s.charCodeAt(l)}}}else if(u===16&&g===48){if(++l===c)return o.__zero();if(g=s.charCodeAt(l),g===88||g===120){if(++l===c)return null;g=s.charCodeAt(l)}}if(f!=0&&u!==10)return null;for(;g===48;){if(++l===c)return o.__zero();g=s.charCodeAt(l)}let y=c-l,b=o.__kMaxBitsPerChar[u],D=o.__kBitsPerCharTableMultiplier-1;if(y>1073741824/b)return null;let M=b*y+D>>>o.__kBitsPerCharTableShift,k=new o(0|(M+29)/30,!1),N=10>u?u:10,K=10<u?u-10:0;if((u&u-1)==0){b>>=o.__kBitsPerCharTableShift;let X=[],q=[],d=!1;do{let v=0,w=0;for(;;){let I;if(g-48>>>0<N)I=g-48;else if((32|g)-97>>>0<K)I=(32|g)-87;else{d=!0;break}if(w+=b,v=v<<b|I,++l===c){d=!0;break}if(g=s.charCodeAt(l),30<w+b)break}X.push(v),q.push(w)}while(!d);o.__fillFromParts(k,X,q)}else{k.__initializeDigits();let X=!1,q=0;do{let d=0,v=1;for(;;){let I;if(g-48>>>0<N)I=g-48;else if((32|g)-97>>>0<K)I=(32|g)-87;else{X=!0;break}let x=v*u;if(1073741823<x)break;if(v=x,d=d*u+I,q++,++l===c){X=!0;break}g=s.charCodeAt(l)}D=30*o.__kBitsPerCharTableMultiplier-1;let w=0|(b*q+D>>>o.__kBitsPerCharTableShift)/30;k.__inplaceMultiplyAdd(v,d,w)}while(!X)}if(l!==c){if(!o.__isWhitespace(g))return null;for(l++;l<c;l++)if(g=s.charCodeAt(l),!o.__isWhitespace(g))return null}return k.sign=f==-1,k.__trim()}static __fillFromParts(s,u,f){let c=0,l=0,g=0;for(let y=u.length-1;0<=y;y--){let b=u[y],D=f[y];l|=b<<g,g+=D,g===30?(s.__setDigit(c++,l),g=0,l=0):30<g&&(s.__setDigit(c++,1073741823&l),g-=30,l=b>>>D-g)}if(l!==0){if(c>=s.length)throw new Error("implementation bug");s.__setDigit(c++,l)}for(;c<s.length;c++)s.__setDigit(c,0)}static __toStringBasePowerOfTwo(s,u){let f=s.length,c=u-1;c=(85&c>>>1)+(85&c),c=(51&c>>>2)+(51&c),c=(15&c>>>4)+(15&c);let l=c,g=u-1,y=s.__digit(f-1),b=o.__clz30(y),D=0|(30*f-b+l-1)/l;if(s.sign&&D++,268435456<D)throw new Error("string too long");let M=Array(D),k=D-1,N=0,K=0;for(let q=0;q<f-1;q++){let d=s.__digit(q),v=(N|d<<K)&g;M[k--]=o.__kConversionChars[v];let w=l-K;for(N=d>>>w,K=30-w;K>=l;)M[k--]=o.__kConversionChars[N&g],N>>>=l,K-=l}let X=(N|y<<K)&g;for(M[k--]=o.__kConversionChars[X],N=y>>>l-K;N!==0;)M[k--]=o.__kConversionChars[N&g],N>>>=l;if(s.sign&&(M[k--]="-"),k!=-1)throw new Error("implementation bug");return M.join("")}static __toStringGeneric(s,u,f){let c=s.length;if(c===0)return"";if(c===1){let q=s.__unsignedDigit(0).toString(u);return f===!1&&s.sign&&(q="-"+q),q}let l=30*c-o.__clz30(s.__digit(c-1)),g=o.__kMaxBitsPerChar[u],y=g-1,b=l*o.__kBitsPerCharTableMultiplier;b+=y-1,b=0|b/y;let D=b+1>>1,M=o.exponentiate(o.__oneDigit(u,!1),o.__oneDigit(D,!1)),k,N,K=M.__unsignedDigit(0);if(M.length===1&&32767>=K){k=new o(s.length,!1),k.__initializeDigits();let q=0;for(let d=2*s.length-1;0<=d;d--){let v=q<<15|s.__halfDigit(d);k.__setHalfDigit(d,0|v/K),q=0|v%K}N=q.toString(u)}else{let q=o.__absoluteDivLarge(s,M,!0,!0);k=q.quotient;let d=q.remainder.__trim();N=o.__toStringGeneric(d,u,!0)}k.__trim();let X=o.__toStringGeneric(k,u,!0);for(;N.length<D;)N="0"+N;return f===!1&&s.sign&&(X="-"+X),X+N}static __unequalSign(s){return s?-1:1}static __absoluteGreater(s){return s?-1:1}static __absoluteLess(s){return s?1:-1}static __compareToBigInt(s,u){let f=s.sign;if(f!==u.sign)return o.__unequalSign(f);let c=o.__absoluteCompare(s,u);return 0<c?o.__absoluteGreater(f):0>c?o.__absoluteLess(f):0}static __compareToNumber(s,u){if(o.__isOneDigitInt(u)){let f=s.sign,c=0>u;if(f!==c)return o.__unequalSign(f);if(s.length===0){if(c)throw new Error("implementation bug");return u===0?0:-1}if(1<s.length)return o.__absoluteGreater(f);let l=t(u),g=s.__unsignedDigit(0);return g>l?o.__absoluteGreater(f):g<l?o.__absoluteLess(f):0}return o.__compareToDouble(s,u)}static __compareToDouble(s,u){if(u!==u)return u;if(u===1/0)return-1;if(u===-1/0)return 1;let f=s.sign;if(f!==0>u)return o.__unequalSign(f);if(u===0)throw new Error("implementation bug: should be handled elsewhere");if(s.length===0)return-1;o.__kBitConversionDouble[0]=u;let c=2047&o.__kBitConversionInts[1]>>>20;if(c==2047)throw new Error("implementation bug: handled elsewhere");let l=c-1023;if(0>l)return o.__absoluteGreater(f);let g=s.length,y=s.__digit(g-1),b=o.__clz30(y),D=30*g-b,M=l+1;if(D<M)return o.__absoluteLess(f);if(D>M)return o.__absoluteGreater(f);let k=1048576|1048575&o.__kBitConversionInts[1],N=o.__kBitConversionInts[0],K=20,X=29-b;if(X!==(0|(D-1)%30))throw new Error("implementation bug");let q,d=0;if(20>X){let v=K-X;d=v+32,q=k>>>v,k=k<<32-v|N>>>v,N<<=32-v}else if(X===20)d=32,q=k,k=N,N=0;else{let v=X-K;d=32-v,q=k<<v|N>>>32-v,k=N<<v,N=0}if(y>>>=0,q>>>=0,y>q)return o.__absoluteGreater(f);if(y<q)return o.__absoluteLess(f);for(let v=g-2;0<=v;v--){0<d?(d-=30,q=k>>>2,k=k<<30|N>>>2,N<<=30):q=0;let w=s.__unsignedDigit(v);if(w>q)return o.__absoluteGreater(f);if(w<q)return o.__absoluteLess(f)}if(k!==0||N!==0){if(d===0)throw new Error("implementation bug");return o.__absoluteLess(f)}return 0}static __equalToNumber(s,u){return o.__isOneDigitInt(u)?u===0?s.length===0:s.length===1&&s.sign===0>u&&s.__unsignedDigit(0)===t(u):o.__compareToDouble(s,u)===0}static __comparisonResultToBool(s,u){return u===0?0>s:u===1?0>=s:u===2?0<s:u===3?0<=s:void 0}static __compare(s,u,f){if(s=o.__toPrimitive(s),u=o.__toPrimitive(u),typeof s=="string"&&typeof u=="string")switch(f){case 0:return s<u;case 1:return s<=u;case 2:return s>u;case 3:return s>=u}if(o.__isBigInt(s)&&typeof u=="string")return u=o.__fromString(u),u!==null&&o.__comparisonResultToBool(o.__compareToBigInt(s,u),f);if(typeof s=="string"&&o.__isBigInt(u))return s=o.__fromString(s),s!==null&&o.__comparisonResultToBool(o.__compareToBigInt(s,u),f);if(s=o.__toNumeric(s),u=o.__toNumeric(u),o.__isBigInt(s)){if(o.__isBigInt(u))return o.__comparisonResultToBool(o.__compareToBigInt(s,u),f);if(typeof u!="number")throw new Error("implementation bug");return o.__comparisonResultToBool(o.__compareToNumber(s,u),f)}if(typeof s!="number")throw new Error("implementation bug");if(o.__isBigInt(u))return o.__comparisonResultToBool(o.__compareToNumber(u,s),2^f);if(typeof u!="number")throw new Error("implementation bug");return f===0?s<u:f===1?s<=u:f===2?s>u:f===3?s>=u:void 0}__clzmsd(){return o.__clz30(this.__digit(this.length-1))}static __absoluteAdd(s,u,f){if(s.length<u.length)return o.__absoluteAdd(u,s,f);if(s.length===0)return s;if(u.length===0)return s.sign===f?s:o.unaryMinus(s);let c=s.length;(s.__clzmsd()===0||u.length===s.length&&u.__clzmsd()===0)&&c++;let l=new o(c,f),g=0,y=0;for(;y<u.length;y++){let b=s.__digit(y)+u.__digit(y)+g;g=b>>>30,l.__setDigit(y,1073741823&b)}for(;y<s.length;y++){let b=s.__digit(y)+g;g=b>>>30,l.__setDigit(y,1073741823&b)}return y<l.length&&l.__setDigit(y,g),l.__trim()}static __absoluteSub(s,u,f){if(s.length===0)return s;if(u.length===0)return s.sign===f?s:o.unaryMinus(s);let c=new o(s.length,f),l=0,g=0;for(;g<u.length;g++){let y=s.__digit(g)-u.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}for(;g<s.length;g++){let y=s.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}return c.__trim()}static __absoluteAddOne(s,u,f=null){let c=s.length;f===null?f=new o(c,u):f.sign=u;let l=1;for(let g=0;g<c;g++){let y=s.__digit(g)+l;l=y>>>30,f.__setDigit(g,1073741823&y)}return l!=0&&f.__setDigitGrow(c,1),f}static __absoluteSubOne(s,u){let f=s.length;u=u||f;let c=new o(u,!1),l=1;for(let g=0;g<f;g++){let y=s.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}if(l!=0)throw new Error("implementation bug");for(let g=f;g<u;g++)c.__setDigit(g,0);return c}static __absoluteAnd(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let D=s,M=c;s=u,c=l,u=D,l=M}let y=g;f===null?f=new o(y,!1):y=f.length;let b=0;for(;b<g;b++)f.__setDigit(b,s.__digit(b)&u.__digit(b));for(;b<y;b++)f.__setDigit(b,0);return f}static __absoluteAndNot(s,u,f=null){let c=s.length,l=u.length,g=l;c<l&&(g=c);let y=c;f===null?f=new o(y,!1):y=f.length;let b=0;for(;b<g;b++)f.__setDigit(b,s.__digit(b)&~u.__digit(b));for(;b<c;b++)f.__setDigit(b,s.__digit(b));for(;b<y;b++)f.__setDigit(b,0);return f}static __absoluteOr(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let D=s,M=c;s=u,c=l,u=D,l=M}let y=c;f===null?f=new o(y,!1):y=f.length;let b=0;for(;b<g;b++)f.__setDigit(b,s.__digit(b)|u.__digit(b));for(;b<c;b++)f.__setDigit(b,s.__digit(b));for(;b<y;b++)f.__setDigit(b,0);return f}static __absoluteXor(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let D=s,M=c;s=u,c=l,u=D,l=M}let y=c;f===null?f=new o(y,!1):y=f.length;let b=0;for(;b<g;b++)f.__setDigit(b,s.__digit(b)^u.__digit(b));for(;b<c;b++)f.__setDigit(b,s.__digit(b));for(;b<y;b++)f.__setDigit(b,0);return f}static __absoluteCompare(s,u){let f=s.length-u.length;if(f!=0)return f;let c=s.length-1;for(;0<=c&&s.__digit(c)===u.__digit(c);)c--;return 0>c?0:s.__unsignedDigit(c)>u.__unsignedDigit(c)?1:-1}static __multiplyAccumulate(s,u,f,c){if(u===0)return;let l=32767&u,g=u>>>15,y=0,b=0;for(let D,M=0;M<s.length;M++,c++){D=f.__digit(c);let k=s.__digit(M),N=32767&k,K=k>>>15,X=o.__imul(N,l),q=o.__imul(N,g),d=o.__imul(K,l),v=o.__imul(K,g);D+=b+X+y,y=D>>>30,D&=1073741823,D+=((32767&q)<<15)+((32767&d)<<15),y+=D>>>30,b=v+(q>>>15)+(d>>>15),f.__setDigit(c,1073741823&D)}for(;y!=0||b!==0;c++){let D=f.__digit(c);D+=y+b,b=0,y=D>>>30,f.__setDigit(c,1073741823&D)}}static __internalMultiplyAdd(s,u,f,c,l){let g=f,y=0;for(let b=0;b<c;b++){let D=s.__digit(b),M=o.__imul(32767&D,u),k=o.__imul(D>>>15,u),N=M+((32767&k)<<15)+y+g;g=N>>>30,y=k>>>15,l.__setDigit(b,1073741823&N)}if(l.length>c)for(l.__setDigit(c++,g+y);c<l.length;)l.__setDigit(c++,0);else if(g+y!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(s,u,f){f>this.length&&(f=this.length);let c=32767&s,l=s>>>15,g=0,y=u;for(let b=0;b<f;b++){let D=this.__digit(b),M=32767&D,k=D>>>15,N=o.__imul(M,c),K=o.__imul(M,l),X=o.__imul(k,c),q=o.__imul(k,l),d=y+N+g;g=d>>>30,d&=1073741823,d+=((32767&K)<<15)+((32767&X)<<15),g+=d>>>30,y=q+(K>>>15)+(X>>>15),this.__setDigit(b,1073741823&d)}if(g!=0||y!==0)throw new Error("implementation bug")}static __absoluteDivSmall(s,u,f=null){f===null&&(f=new o(s.length,!1));let c=0;for(let l,g=2*s.length-1;0<=g;g-=2){l=(c<<15|s.__halfDigit(g))>>>0;let y=0|l/u;c=0|l%u,l=(c<<15|s.__halfDigit(g-1))>>>0;let b=0|l/u;c=0|l%u,f.__setDigit(g>>>1,y<<15|b)}return f}static __absoluteModSmall(s,u){let f=0;for(let c=2*s.length-1;0<=c;c--)f=0|((f<<15|s.__halfDigit(c))>>>0)%u;return f}static __absoluteDivLarge(s,u,f,c){let l=u.__halfDigitLength(),g=u.length,y=s.__halfDigitLength()-l,b=null;f&&(b=new o(y+2>>>1,!1),b.__initializeDigits());let D=new o(l+2>>>1,!1);D.__initializeDigits();let M=o.__clz15(u.__halfDigit(l-1));0<M&&(u=o.__specialLeftShift(u,M,0));let k=o.__specialLeftShift(s,M,1),N=u.__halfDigit(l-1),K=0;for(let X,q=y;0<=q;q--){X=32767;let d=k.__halfDigit(q+l);if(d!==N){let w=(d<<15|k.__halfDigit(q+l-1))>>>0;X=0|w/N;let I=0|w%N,x=u.__halfDigit(l-2),B=k.__halfDigit(q+l-2);for(;o.__imul(X,x)>>>0>(I<<16|B)>>>0&&(X--,I+=N,!(32767<I)););}o.__internalMultiplyAdd(u,X,0,g,D);let v=k.__inplaceSub(D,q,l+1);v!==0&&(v=k.__inplaceAdd(u,q,l),k.__setHalfDigit(q+l,32767&k.__halfDigit(q+l)+v),X--),f&&(1&q?K=X<<15:b.__setDigit(q>>>1,K|X))}if(c)return k.__inplaceRightShift(M),f?{quotient:b,remainder:k}:k;if(f)return b;throw new Error("unreachable")}static __clz15(s){return o.__clz30(s)-15}__inplaceAdd(s,u,f){let c=0;for(let l=0;l<f;l++){let g=this.__halfDigit(u+l)+s.__halfDigit(l)+c;c=g>>>15,this.__setHalfDigit(u+l,32767&g)}return c}__inplaceSub(s,u,f){let c=0;if(1&u){u>>=1;let l=this.__digit(u),g=32767&l,y=0;for(;y<f-1>>>1;y++){let M=s.__digit(y),k=(l>>>15)-(32767&M)-c;c=1&k>>>15,this.__setDigit(u+y,(32767&k)<<15|32767&g),l=this.__digit(u+y+1),g=(32767&l)-(M>>>15)-c,c=1&g>>>15}let b=s.__digit(y),D=(l>>>15)-(32767&b)-c;if(c=1&D>>>15,this.__setDigit(u+y,(32767&D)<<15|32767&g),u+y+1>=this.length)throw new RangeError("out of bounds");(1&f)==0&&(l=this.__digit(u+y+1),g=(32767&l)-(b>>>15)-c,c=1&g>>>15,this.__setDigit(u+s.length,1073709056&l|32767&g))}else{u>>=1;let l=0;for(;l<s.length-1;l++){let M=this.__digit(u+l),k=s.__digit(l),N=(32767&M)-(32767&k)-c;c=1&N>>>15;let K=(M>>>15)-(k>>>15)-c;c=1&K>>>15,this.__setDigit(u+l,(32767&K)<<15|32767&N)}let g=this.__digit(u+l),y=s.__digit(l),b=(32767&g)-(32767&y)-c;c=1&b>>>15;let D=0;(1&f)==0&&(D=(g>>>15)-(y>>>15)-c,c=1&D>>>15),this.__setDigit(u+l,(32767&D)<<15|32767&b)}return c}__inplaceRightShift(s){if(s===0)return;let u=this.__digit(0)>>>s,f=this.length-1;for(let c=0;c<f;c++){let l=this.__digit(c+1);this.__setDigit(c,1073741823&l<<30-s|u),u=l>>>s}this.__setDigit(f,u)}static __specialLeftShift(s,u,f){let c=s.length,l=new o(c+f,!1);if(u===0){for(let y=0;y<c;y++)l.__setDigit(y,s.__digit(y));return 0<f&&l.__setDigit(c,0),l}let g=0;for(let y=0;y<c;y++){let b=s.__digit(y);l.__setDigit(y,1073741823&b<<u|g),g=b>>>30-u}return 0<f&&l.__setDigit(c,g),l}static __leftShiftByAbsolute(s,u){let f=o.__toShiftAmount(u);if(0>f)throw new RangeError("BigInt too big");let c=0|f/30,l=f%30,g=s.length,y=l!==0&&s.__digit(g-1)>>>30-l!=0,b=g+c+(y?1:0),D=new o(b,s.sign);if(l===0){let M=0;for(;M<c;M++)D.__setDigit(M,0);for(;M<b;M++)D.__setDigit(M,s.__digit(M-c))}else{let M=0;for(let k=0;k<c;k++)D.__setDigit(k,0);for(let k=0;k<g;k++){let N=s.__digit(k);D.__setDigit(k+c,1073741823&N<<l|M),M=N>>>30-l}if(y)D.__setDigit(g+c,M);else if(M!==0)throw new Error("implementation bug")}return D.__trim()}static __rightShiftByAbsolute(s,u){let f=s.length,c=s.sign,l=o.__toShiftAmount(u);if(0>l)return o.__rightShiftByMaximum(c);let g=0|l/30,y=l%30,b=f-g;if(0>=b)return o.__rightShiftByMaximum(c);let D=!1;if(c){if((s.__digit(g)&(1<<y)-1)!=0)D=!0;else for(let k=0;k<g;k++)if(s.__digit(k)!==0){D=!0;break}}D&&y===0&&~s.__digit(f-1)==0&&b++;let M=new o(b,c);if(y===0){M.__setDigit(b-1,0);for(let k=g;k<f;k++)M.__setDigit(k-g,s.__digit(k))}else{let k=s.__digit(g)>>>y,N=f-g-1;for(let K=0;K<N;K++){let X=s.__digit(K+g+1);M.__setDigit(K,1073741823&X<<30-y|k),k=X>>>y}M.__setDigit(N,k)}return D&&(M=o.__absoluteAddOne(M,!0,M)),M.__trim()}static __rightShiftByMaximum(s){return s?o.__oneDigit(1,!0):o.__zero()}static __toShiftAmount(s){if(1<s.length)return-1;let u=s.__unsignedDigit(0);return u>o.__kMaxLengthBits?-1:u}static __toPrimitive(s,u="default"){if(typeof s!="object"||s.constructor===o)return s;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let l=s[Symbol.toPrimitive];if(l){let g=l(u);if(typeof g!="object")return g;throw new TypeError("Cannot convert object to primitive value")}}let f=s.valueOf;if(f){let l=f.call(s);if(typeof l!="object")return l}let c=s.toString;if(c){let l=c.call(s);if(typeof l!="object")return l}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(s){return o.__isBigInt(s)?s:+s}static __isBigInt(s){return typeof s=="object"&&s!==null&&s.constructor===o}static __truncateToNBits(s,u){let f=0|(s+29)/30,c=new o(f,u.sign),l=f-1;for(let y=0;y<l;y++)c.__setDigit(y,u.__digit(y));let g=u.__digit(l);if(s%30!=0){let y=32-s%30;g=g<<y>>>y}return c.__setDigit(l,g),c.__trim()}static __truncateAndSubFromPowerOfTwo(s,u,f){var c=Math.min;let l=0|(s+29)/30,g=new o(l,f),y=0,b=l-1,D=0;for(let K=c(b,u.length);y<K;y++){let X=0-u.__digit(y)-D;D=1&X>>>30,g.__setDigit(y,1073741823&X)}for(;y<b;y++)g.__setDigit(y,0|1073741823&-D);let M=b<u.length?u.__digit(b):0,k=s%30,N;if(k==0)N=0-M-D,N&=1073741823;else{let K=32-k;M=M<<K>>>K;let X=1<<32-K;N=X-M-D,N&=X-1}return g.__setDigit(b,N),g.__trim()}__digit(s){return this[s]}__unsignedDigit(s){return this[s]>>>0}__setDigit(s,u){this[s]=0|u}__setDigitGrow(s,u){this[s]=0|u}__halfDigitLength(){let s=this.length;return 32767>=this.__unsignedDigit(s-1)?2*s-1:2*s}__halfDigit(s){return 32767&this[s>>>1]>>>15*(1&s)}__setHalfDigit(s,u){let f=s>>>1,c=this.__digit(f),l=1&s?32767&c|u<<15:1073709056&c|32767&u;this.__setDigit(f,l)}static __digitPow(s,u){let f=1;for(;0<u;)1&u&&(f*=s),u>>>=1,s*=s;return f}static __isOneDigitInt(s){return(1073741823&s)===s}}return o.__kMaxLength=33554432,o.__kMaxLengthBits=o.__kMaxLength<<5,o.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],o.__kBitsPerCharTableShift=5,o.__kBitsPerCharTableMultiplier=1<<o.__kBitsPerCharTableShift,o.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o.__kBitConversionBuffer=new ArrayBuffer(8),o.__kBitConversionDouble=new Float64Array(o.__kBitConversionBuffer),o.__kBitConversionInts=new Int32Array(o.__kBitConversionBuffer),o.__clz30=e?function(a){return e(a)-2}:function(a){var s=Math.LN2,u=Math.log;return a===0?30:0|29-(0|u(a>>>0)/s)},o.__imul=r||function(a,s){return 0|a*s},o})});var JN=T(Vy=>{h();p();var XN=Vy&&Vy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vy,"__esModule",{value:!0});var Yie=w0(),YN=XN(rte()),Xe=XN(GN()),Wie=18446744073709552e3,WN=(r,e)=>Xe.default.bitwiseXor(Xe.default.asUintN(64,Xe.default.leftShift(r,Xe.default.BigInt(e))),Xe.default.BigInt(Xe.default.asUintN(64,Xe.default.signedRightShift(r,Xe.default.subtract(Xe.default.BigInt(64),Xe.default.BigInt(e)))))),fI=class{constructor(e){this.next=()=>new YN.default(this.roll().toString()),this.nextDouble=()=>new YN.default(this.roll().toString()).div(Wie+1),this.nextInt=(n,i)=>Math.floor(this.nextDouble().toNumber()*(i-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());let t=Yie.sha256Hash(e);this.s=[Xe.default.BigInt(0),Xe.default.BigInt(0),Xe.default.BigInt(0),Xe.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let n=t*8,i=Xe.default.BigInt(0);for(let o=0;o<8;o++)i=Xe.default.asUintN(64,Xe.default.leftShift(i,Xe.default.BigInt(8))),i=Xe.default.asUintN(64,Xe.default.bitwiseOr(i,Xe.default.BigInt(e[n+o])));this.s[t]=Xe.default.asUintN(64,i)}}roll(){let e=Xe.default.asUintN(64,Xe.default.multiply(WN(Xe.default.asUintN(64,Xe.default.multiply(this.s[1],Xe.default.BigInt(5))),7),Xe.default.BigInt(9))),t=Xe.default.asUintN(64,Xe.default.leftShift(this.s[1],Xe.default.BigInt(17)));return this.s[2]=Xe.default.asUintN(64,Xe.default.bitwiseXor(this.s[2],Xe.default.BigInt(this.s[0]))),this.s[3]=Xe.default.asUintN(64,Xe.default.bitwiseXor(this.s[3],Xe.default.BigInt(this.s[1]))),this.s[1]=Xe.default.asUintN(64,Xe.default.bitwiseXor(this.s[1],Xe.default.BigInt(this.s[2]))),this.s[0]=Xe.default.asUintN(64,Xe.default.bitwiseXor(this.s[0],Xe.default.BigInt(this.s[3]))),this.s[2]=Xe.default.asUintN(64,Xe.default.bitwiseXor(this.s[2],Xe.default.BigInt(t))),this.s[3]=Xe.default.asUintN(64,WN(this.s[3],45)),e}};Vy.default=fI});var ZN=T((VMe,$N)=>{h();p();function zy(r,e,t){"use strict";this.alias=[],this.prob=[],this.outcomes=e||this.indexedOutcomes(r.length),this.rng=t||Math.random,this.precomputeAlias(r)}zy.prototype.next=function(r){"use strict";var e=r||1,t=[],n=0;do{var i=Math.floor(this.rng()*this.prob.length);t[n]=this.outcomes[this.rng()<this.prob[i]?i:this.alias[i]]}while(++n<e);return e>1?t:t[0]};zy.prototype.precomputeAlias=function(r){"use strict";var e=r.length,t=0,n=0,i=0,o=[],a=[],s=[],u,f,c;for(f=0;f<e;++f){if(r[f]<0)throw"Probability must be a positive: p["+f+"]="+r[f];t+=r[f]}if(t===0)throw"Probability cannot be zero.";for(f=0;f<e;++f)o[f]=r[f]*e/t;for(f=e-1;f>=0;--f)o[f]<1?a[n++]=f:s[i++]=f;for(;n&&i;)c=a[--n],u=s[--i],this.prob[c]=o[c],this.alias[c]=u,o[u]=o[u]+o[c]-1,o[u]<1?a[n++]=u:s[i++]=u;for(;i;)this.prob[s[--i]]=1;for(;n;)this.prob[a[--n]]=1};zy.prototype.indexedOutcomes=function(r){"use strict";for(var e=[],t=0;t<r;t++)e[t]=t;return e};zy.prototype.randomInt=function(r,e){"use strict";return Math.floor(this.rng()*(e-r))+r};$N.exports=function(r,e,t){"use strict";return new zy(r,e,t)}});var cI=T(Ha=>{h();p();var Xie=Ha&&Ha.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.chooseFragments=Ha.shuffle=Ha.chooseDegree=void 0;var QN=w0(),Jie=Xie(JN()),$ie=ZN(),Zie=(r,e)=>{let t=[...new Array(r)].map((i,o)=>1/(o+1));return $ie(t,null,e.nextDouble).next()+1};Ha.chooseDegree=Zie;var Qie=(r,e)=>{let t=[...r],n=[];for(;t.length>0;){let i=e.nextInt(0,t.length-1),o=t[i];t.splice(i,1),n.push(o)}return n};Ha.shuffle=Qie;var eoe=(r,e,t)=>{if(r<=e)return[r-1];{let n=m.Buffer.concat([QN.intToBytes(r),QN.intToBytes(t)]),i=new Jie.default(n),o=Ha.chooseDegree(e,i),a=[...new Array(e)].map((u,f)=>f);return Ha.shuffle(a,i).slice(0,o)}};Ha.chooseFragments=eoe});var dI=T(Fl=>{h();p();var toe=Fl&&Fl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.FountainEncoderPart=void 0;var S0=toe(aa()),Gy=w0(),roe=cI(),ek=iI(),Pp=class{constructor(e,t,n,i,o){this._seqNum=e,this._seqLength=t,this._messageLength=n,this._checksum=i,this._fragment=o}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){let e=ek.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return m.Buffer.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){let[t,n,i,o,a]=ek.cborDecode(e);return S0.default(typeof t=="number"),S0.default(typeof n=="number"),S0.default(typeof i=="number"),S0.default(typeof o=="number"),S0.default(m.Buffer.isBuffer(a)&&a.length>0),new Pp(t,n,i,o,m.Buffer.from(a))}};Fl.FountainEncoderPart=Pp;var Mp=class{constructor(e,t=100,n=0,i=10){let o=Mp.findNominalFragmentLength(e.length,i,t);this._messageLength=e.length,this._fragments=Mp.partitionMessage(e,o),this.fragmentLength=o,this.seqNum=Gy.toUint32(n),this.checksum=Gy.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(e){return e.reduce((t,n)=>Gy.bufferXOR(this._fragments[n],t),m.Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=Gy.toUint32(this.seqNum+1);let e=roe.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new Pp(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,n){S0.default(e>0),S0.default(t>0),S0.default(n>=t);let i=Math.ceil(e/t),o=0;for(let a=1;a<=i&&(o=Math.ceil(e/a),!(o<=n));a++);return o}static partitionMessage(e,t){let n=m.Buffer.from(e),i,o=[];for(;n.length>0;)[i,n]=Gy.split(n,-t),i=m.Buffer.alloc(t,0).fill(i,0,i.length),o.push(i);return o}};Fl.default=Mp});var hI=T(Yy=>{h();p();var noe=Yy&&Yy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yy,"__esModule",{value:!0});var Np=noe(aa()),A3=w0(),ioe="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom",T3=[],ooe=256,C0=4,aoe=2,cu;(function(r){r.STANDARD="standard",r.URI="uri",r.MINIMAL="minimal"})(cu||(cu={}));var O3=r=>ioe.slice(r*C0,r*C0+C0),soe=r=>{let e=O3(r);return`${e[0]}${e[C0-1]}`},rk=r=>{let e=A3.getCRCHex(m.Buffer.from(r,"hex"));return`${r}${e}`},tk=(r,e)=>{let t=rk(r);return m.Buffer.from(t,"hex").reduce((o,a)=>[...o,O3(a)],[]).join(e)},uoe=r=>{let e=rk(r);return m.Buffer.from(e,"hex").reduce((i,o)=>i+soe(o),"")},foe=(r,e)=>{Np.default(r.length===e,"Invalid Bytewords: word.length does not match wordLength provided");let t=26;if(T3.length===0){let s=t*t;T3=[...new Array(s)].map(()=>-1);for(let u=0;u<ooe;u++){let f=O3(u),c=f[0].charCodeAt(0)-"a".charCodeAt(0),g=(f[3].charCodeAt(0)-"a".charCodeAt(0))*t+c;T3[g]=u}}let n=r[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),i=r[e==4?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);Np.default(0<=n&&n<t&&0<=i&&i<t,"Invalid Bytewords: invalid word");let o=i*t+n,a=T3[o];if(Np.default(a!==-1,"Invalid Bytewords: value not in lookup table"),e==C0){let s=O3(a),u=r[1].toLowerCase(),f=r[2].toLowerCase();Np.default(u===s[1]&&f===s[2],"Invalid Bytewords: invalid middle letters of word")}return m.Buffer.from([a]).toString("hex")},lI=(r,e,t)=>{let i=(t==C0?r.split(e):A3.partition(r,2)).map(u=>foe(u,t)).join("");Np.default(i.length>=5,"Invalid Bytewords: invalid decoded string length");let[o,a]=A3.split(m.Buffer.from(i,"hex"),4),s=A3.getCRCHex(o);return Np.default(s===a.toString("hex"),"Invalid Checksum"),o.toString("hex")},coe=(r,e=cu.MINIMAL)=>{switch(e){case cu.STANDARD:return lI(r," ",C0);case cu.URI:return lI(r,"-",C0);case cu.MINIMAL:return lI(r,"",aoe);default:throw new Error(`Invalid style ${e}`)}},doe=(r,e=cu.MINIMAL)=>{switch(e){case cu.STANDARD:return tk(r," ");case cu.URI:return tk(r,"-");case cu.MINIMAL:return uoe(r);default:throw new Error(`Invalid style ${e}`)}};Yy.default={decode:coe,encode:doe,STYLES:cu}});var ik=T(Wy=>{h();p();var nk=Wy&&Wy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wy,"__esModule",{value:!0});var loe=nk(dI()),D3=nk(hI()),hc=class{constructor(e,t,n,i){this.ur=e,this.fountainEncoder=new loe.default(e.cbor,t,n,i)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){let e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?hc.encodeSinglePart(this.ur):hc.encodePart(this.ur.type,e)}static encodeUri(e,t){let n=t.join("/");return[e,n].join(":")}static encodeUR(e){return hc.encodeUri("ur",e)}static encodePart(e,t){let n=`${t.seqNum}-${t.seqLength}`,i=D3.default.encode(t.cbor().toString("hex"),D3.default.STYLES.MINIMAL);return hc.encodeUR([e,n,i])}static encodeSinglePart(e){let t=D3.default.encode(e.cbor.toString("hex"),D3.default.STYLES.MINIMAL);return hc.encodeUR([e.type,t])}};Wy.default=hc});var ok=T(Xy=>{h();p();Object.defineProperty(Xy,"__esModule",{value:!0});Xy.FountainDecoderPart=void 0;var kp=w0(),hoe=cI(),poe=E3(),Ll=class{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){let t=hoe.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new Ll(t,n)}isSimple(){return this.indexes.length===1}};Xy.FountainDecoderPart=Ll;var qp=class{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(this.expectedPartIndexes.length===0)[...new Array(e.seqLength)].forEach((t,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else if(this.expectedPartIndexes.length!==e.seqLength||this.expectedMessageLength!==e.messageLength||this.expectedChecksum!==e.checksum||this.expectedFragmentLength!==e.fragment.length)return!1;return!0}reducePartByPart(e,t){if(kp.arrayContains(e.indexes,t.indexes)){let n=kp.setDifference(e.indexes,t.indexes),i=kp.bufferXOR(e.fragment,t.fragment);return new Ll(n,i)}else return e}reduceMixedBy(e){let t=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,e)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):t.push({key:n.indexes,value:n})}),this.mixedParts=t}processSimplePart(e){let t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),kp.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){let n=this.simpleParts.map(({value:a})=>a).sort((a,s)=>a.indexes[0]-s.indexes[0]),i=qp.joinFragments(n.map(a=>a.fragment),this.expectedMessageLength);kp.getCRC(i)===this.expectedChecksum?this.result=i:this.error=new poe.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:n})=>kp.arraysEqual(n,e.indexes)))return;let t=this.simpleParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),e);t=this.mixedParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(this.queuedParts.length===0)return;let e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete()||!this.validatePart(e))return!1;let t=Ll.fromEncoderPart(e);for(this.lastPartIndexes=t.indexes,this.queuedParts.push(t);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==void 0&&this.result.length>0)}isSuccess(){return Boolean(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:m.Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:Math.min(.99,this.processedPartsCount/(e*1.75))}getProgress(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:this.receivedPartIndexes.length/e}};Xy.default=qp;qp.joinFragments=(r,e)=>m.Buffer.concat(r).slice(0,e)});var ak=T(Jy=>{h();p();var P3=Jy&&Jy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jy,"__esModule",{value:!0});var goe=P3(ok()),R3=P3(hI()),moe=P3(aa()),B3=w0(),E0=E3(),pI=P3(aI()),yoe=dI(),I0=class{constructor(e=new goe.default,t="bytes"){this.fountainDecoder=e,this.type=t,moe.default(B3.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,t){let n=R3.default.decode(t,R3.default.STYLES.MINIMAL);return new pI.default(m.Buffer.from(n,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:B3.isURType(e)?(this.expected_type=e,!0):!1}static decode(e){let[t,n]=this.parse(e);if(n.length===0)throw new E0.InvalidPathLengthError;let i=n[0];return I0.decodeBody(t,i)}static parse(e){let t=e.toLowerCase();if(t.slice(0,3)!=="ur:")throw new E0.InvalidSchemeError;let i=t.slice(3).split("/"),o=i[0];if(i.length<2)throw new E0.InvalidPathLengthError;if(!B3.isURType(o))throw new E0.InvalidTypeError;return[o,i.slice(1)]}static parseSequenceComponent(e){let t=e.split("-");if(t.length!==2)throw new E0.InvalidSequenceComponentError;let n=B3.toUint32(Number(t[0])),i=Number(t[1]);if(n<1||i<1)throw new E0.InvalidSequenceComponentError;return[n,i]}receivePart(e){if(this.result!==void 0)return!1;let[t,n]=I0.parse(e);if(!this.validatePart(t))return!1;if(n.length===1)return this.result=I0.decodeBody(t,n[0]),!0;if(n.length!==2)throw new E0.InvalidPathLengthError;let[i,o]=n,[a,s]=I0.parseSequenceComponent(i),u=R3.default.decode(o,R3.default.STYLES.MINIMAL),f=yoe.FountainEncoderPart.fromCBOR(u);return a!==f.seqNum||s!==f.seqLength||!this.fountainDecoder.receivePart(f)?!1:(this.fountainDecoder.isSuccess()?this.result=new pI.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new E0.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new pI.default(m.Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}};Jy.default=I0});var pn=T(nf=>{h();p();var gI=nf&&nf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nf,"__esModule",{value:!0});nf.URDecoder=nf.UREncoder=nf.UR=void 0;var voe=gI(aI());nf.UR=voe.default;var _oe=gI(ik());nf.UREncoder=_oe.default;var xoe=gI(ak());nf.URDecoder=xoe.default});var ai=T(M3=>{h();p();Object.defineProperty(M3,"__esModule",{value:!0});M3.RegistryItem=void 0;var sk=pn(),boe=dn(),mI=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,boe.encodeDataItem)(this.toDataItem())},this.toUR=()=>new sk.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new sk.UREncoder(i,e,t,n)}}};M3.RegistryItem=mI});var N3=T(of=>{h();p();Object.defineProperty(of,"__esModule",{value:!0});of.CryptoCoinInfo=of.Network=of.Type=void 0;var uk=dn(),woe=ai(),Soe=ln(),Fp;(function(r){r.type="1",r.network="2"})(Fp||(Fp={}));var fk;(function(r){r[r.bitcoin=0]="bitcoin"})(fk=of.Type||(of.Type={}));var ck;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(ck=of.Network||(of.Network={}));var Ul=class extends woe.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Soe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||fk.bitcoin,this.getNetwork=()=>this.network||ck.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Fp.type]=this.type),this.network&&(n[Fp.network]=this.network),new uk.DataItem(n)}}};of.CryptoCoinInfo=Ul;Ul.fromDataItem=r=>{let e=r.getData(),t=e[Fp.type],n=e[Fp.network];return new Ul(t,n)};Ul.fromCBOR=r=>{let e=(0,uk.decodeToDataItem)(r);return Ul.fromDataItem(e)}});var q3=T(k3=>{h();p();Object.defineProperty(k3,"__esModule",{value:!0});k3.PathComponent=void 0;var Lp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Lp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};k3.PathComponent=Lp;Lp.HARDENED_BIT=2147483648});var $y=T(F3=>{h();p();Object.defineProperty(F3,"__esModule",{value:!0});F3.CryptoKeypath=void 0;var lk=dn(),dk=q3(),Coe=ai(),Eoe=ln(),T0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(T0||(T0={}));var jl=class extends Coe.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Eoe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[T0.components]=o,this.sourceFingerprint&&(i[T0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[T0.depth]=this.depth),new lk.DataItem(i)}}};F3.CryptoKeypath=jl;jl.fromDataItem=r=>{let e=r.getData(),t=[],n=e[T0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new dk.PathComponent({index:f,hardened:u})):t.push(new dk.PathComponent({hardened:u}))}let i=e[T0.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[T0.depth];return new jl(t,o,a)};jl.fromCBOR=r=>{let e=(0,lk.decodeToDataItem)(r);return jl.fromDataItem(e)}});var Up=T(L3=>{h();p();Object.defineProperty(L3,"__esModule",{value:!0});L3.CryptoHDKey=void 0;var Ioe=WM(),Toe=N3(),hk=$y(),pk=dn(),Aoe=ai(),Ooe=ln(),rr;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(rr||(rr={}));var Hl=class extends Aoe.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),b=y[y.length-1];b&&(s=b.isHardened()?b.getIndex()+2147483648:b.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let c=m.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return(0,Ioe.encode)(m.Buffer.concat([o,f,u,c,l,g]))},this.getRegistryType=()=>Ooe.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[rr.is_master]=!0,t[rr.key_data]=this.key,t[rr.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[rr.is_private]=this.privateKey),t[rr.key_data]=this.key,this.chainCode&&(t[rr.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[rr.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[rr.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[rr.children]=n}this.parentFingerprint&&(t[rr.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[rr.name]=this.name),this.note!==void 0&&(t[rr.note]=this.note)}return new pk.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};L3.CryptoHDKey=Hl;Hl.fromDataItem=r=>{let e=r.getData(),t=!!e[rr.is_master],n=e[rr.is_private],i=e[rr.key_data],o=e[rr.chain_code],a=e[rr.use_info]?Toe.CryptoCoinInfo.fromDataItem(e[rr.use_info]):void 0,s=e[rr.origin]?hk.CryptoKeypath.fromDataItem(e[rr.origin]):void 0,u=e[rr.children]?hk.CryptoKeypath.fromDataItem(e[rr.children]):void 0,f=e[rr.parent_fingerprint],c;f&&(c=m.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[rr.name],g=e[rr.note];return new Hl({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:c,name:l,note:g})};Hl.fromCBOR=r=>{let e=(0,pk.decodeToDataItem)(r);return Hl.fromDataItem(e)}});var Zy=T(U3=>{h();p();Object.defineProperty(U3,"__esModule",{value:!0});U3.CryptoECKey=void 0;var gk=dn(),Doe=ai(),Roe=ln(),A0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(A0||(A0={}));var Kl=class extends Doe.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Roe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[A0.curve]=this.curve),this.privateKey!==void 0&&(t[A0.private]=this.privateKey),t[A0.data]=this.data,new gk.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};U3.CryptoECKey=Kl;Kl.fromDataItem=r=>{let e=r.getData(),t=e[A0.curve],n=e[A0.private],i=e[A0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new Kl({data:i,curve:t,privateKey:n})};Kl.fromCBOR=r=>{let e=(0,gk.decodeToDataItem)(r);return Kl.fromDataItem(e)}});var yk=T(j3=>{h();p();Object.defineProperty(j3,"__esModule",{value:!0});j3.Bytes=void 0;var mk=dn(),Boe=ai(),Poe=ln(),Vl=class extends Boe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Poe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new mk.DataItem(this.bytes)}};j3.Bytes=Vl;Vl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new Vl(e)};Vl.fromCBOR=r=>{let e=(0,mk.decodeToDataItem)(r);return Vl.fromDataItem(e)}});var K3=T(H3=>{h();p();Object.defineProperty(H3,"__esModule",{value:!0});H3.MultiKey=void 0;var Moe=Zy(),Noe=Up(),koe=m3(),qoe=ai(),vk=ln(),jp;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(jp||(jp={}));var Qy=class extends qoe.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[jp.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[jp.keys]=i,new koe.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};H3.MultiKey=Qy;Qy.fromDataItem=r=>{let e=r.getData(),t=e[jp.threshold],n=e[jp.keys],i=[];return n.forEach(o=>{o.getTag()===vk.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Noe.CryptoHDKey.fromDataItem(o)):o.getTag()===vk.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Moe.CryptoECKey.fromDataItem(o))}),new Qy(t,i)}});var bI=T(V3=>{h();p();Object.defineProperty(V3,"__esModule",{value:!0});V3.CryptoOutput=void 0;var vI=Zy(),_I=Up(),xI=dn(),_k=K3(),Foe=ai(),xk=ln(),yI=b3(),pc=class extends Foe.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>xk.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof _I.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof vI.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof _k.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof vI.CryptoECKey||this.cryptoKey instanceof _I.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new xI.DataItem(n,a)}),n}}};V3.CryptoOutput=pc;pc.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=yI.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof xI.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===yI.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===yI.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=_k.MultiKey.fromDataItem(t);return new pc(e,o)}if(t.getTag()===xk.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=_I.CryptoHDKey.fromDataItem(t);return new pc(e,o)}else{let o=vI.CryptoECKey.fromDataItem(t);return new pc(e,o)}};pc.fromCBOR=r=>{let e=(0,xI.decodeToDataItem)(r);return pc.fromDataItem(e)}});var wI=T(z3=>{h();p();Object.defineProperty(z3,"__esModule",{value:!0});z3.CryptoPSBT=void 0;var bk=dn(),Loe=ai(),Uoe=ln(),zl=class extends Loe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Uoe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new bk.DataItem(this.psbt)}};z3.CryptoPSBT=zl;zl.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new zl(e)};zl.fromCBOR=r=>{let e=(0,bk.decodeToDataItem)(r);return zl.fromDataItem(e)}});var SI=T(G3=>{h();p();Object.defineProperty(G3,"__esModule",{value:!0});G3.CryptoAccount=void 0;var joe=O0(),wk=dn(),Hoe=ai(),Koe=ln(),Hp;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(Hp||(Hp={}));var Gl=class extends Hoe.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Koe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Hp.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Hp.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new wk.DataItem(n)}}};G3.CryptoAccount=Gl;Gl.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Hp.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Hp.outputDescriptors].map(a=>joe.CryptoOutput.fromDataItem(a));return new Gl(t,o)};Gl.fromCBOR=r=>{let e=(0,wk.decodeToDataItem)(r);return Gl.fromDataItem(e)}});var EI=T(Y3=>{h();p();Object.defineProperty(Y3,"__esModule",{value:!0});Y3.UnknownURTypeError=void 0;var CI=class extends Error{constructor(e){super(e)}};Y3.UnknownURTypeError=CI});var TI=T(W3=>{h();p();Object.defineProperty(W3,"__esModule",{value:!0});W3.URRegistryDecoder=void 0;var Voe=pn(),D0=O0(),R0=ln(),zoe=EI(),II=class extends Voe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case R0.RegistryTypes.BYTES.getType():return D0.Bytes.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_HDKEY.getType():return D0.CryptoHDKey.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_KEYPATH.getType():return D0.CryptoKeypath.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_COIN_INFO.getType():return D0.CryptoCoinInfo.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_ECKEY.getType():return D0.CryptoECKey.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_OUTPUT.getType():return D0.CryptoOutput.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_PSBT.getType():return D0.CryptoPSBT.fromCBOR(e.cbor);case R0.RegistryTypes.CRYPTO_ACCOUNT.getType():return D0.CryptoAccount.fromCBOR(e.cbor);default:throw new zoe.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};W3.URRegistryDecoder=II});var AI=T(X3=>{h();p();Object.defineProperty(X3,"__esModule",{value:!0});X3.CryptoMultiAccounts=void 0;var Goe=ln(),Yoe=Up(),Woe=ai(),Sk=dn(),Ka;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device",r[r.deviceId=4]="deviceId",r[r.version=5]="version"})(Ka||(Ka={}));var Yl=class extends Woe.RegistryItem{constructor(e,t,n,i,o){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.deviceId=i,this.version=o,this.getRegistryType=()=>Goe.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{let a={};return this.masterFingerprint&&(a[Ka.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(a[Ka.keys]=this.keys.map(s=>{let u=s.toDataItem();return u.setTag(s.getRegistryType().getTag()),u})),this.device&&(a[Ka.device]=this.device),this.deviceId&&(a[Ka.deviceId]=this.deviceId),this.version&&(a[Ka.version]=this.version),new Sk.DataItem(a)}}};X3.CryptoMultiAccounts=Yl;Yl.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Ka.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Ka.keys].map(f=>Yoe.CryptoHDKey.fromDataItem(f)),a=e[Ka.device],s=e[Ka.deviceId],u=e[Ka.version];return new Yl(t,o,a,s,u)};Yl.fromCBOR=r=>{let e=(0,Sk.decodeToDataItem)(r);return Yl.fromDataItem(e)}});var OI=T(af=>{h();p();Object.defineProperty(af,"__esModule",{value:!0});af.KeyDerivationSchema=af.DerivationAlgorithm=af.Curve=void 0;var Xoe=ln(),Joe=ai(),Ck=dn(),$oe=$y(),B0;(function(r){r[r.keyPath=1]="keyPath",r[r.curve=2]="curve",r[r.algo=3]="algo"})(B0||(B0={}));var Ek;(function(r){r[r.secp256k1=0]="secp256k1",r[r.ed25519=1]="ed25519"})(Ek=af.Curve||(af.Curve={}));var Ik;(function(r){r[r.slip10=0]="slip10",r[r.bip32ed25519=1]="bip32ed25519"})(Ik=af.DerivationAlgorithm||(af.DerivationAlgorithm={}));var Wl=class extends Joe.RegistryItem{constructor(e,t=Ek.secp256k1,n=Ik.slip10){super(),this.keypath=e,this.curve=t,this.algo=n,this.getRegistryType=()=>Xoe.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{let i={},o=this.getKeypath().toDataItem();return o.setTag(this.getKeypath().getRegistryType().getTag()),i[B0.keyPath]=o,i[B0.curve]=this.curve,i[B0.algo]=this.algo,new Ck.DataItem(i)}}};af.KeyDerivationSchema=Wl;Wl.fromDataItem=r=>{let e=r.getData(),t=$oe.CryptoKeypath.fromDataItem(e[B0.keyPath]),n=e[B0.curve],i=e[B0.algo];return new Wl(t,n,i)};Wl.fromCBOR=r=>{let e=(0,Ck.decodeToDataItem)(r);return Wl.fromDataItem(e)}});var DI=T($3=>{h();p();Object.defineProperty($3,"__esModule",{value:!0});$3.KeyDerivation=void 0;var Zoe=ln(),Qoe=ai(),Tk=dn(),eae=OI(),J3;(function(r){r[r.schemas=1]="schemas"})(J3||(J3={}));var Xl=class extends Qoe.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>Zoe.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{let t={};return t[J3.schemas]=this.schemas.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new Tk.DataItem(t)}}};$3.KeyDerivation=Xl;Xl.fromDataItem=r=>{let t=r.getData()[J3.schemas].map(n=>eae.KeyDerivationSchema.fromDataItem(n));return new Xl(t)};Xl.fromCBOR=r=>{let e=(0,Tk.decodeToDataItem)(r);return Xl.fromDataItem(e)}});var Ok=T($l=>{h();p();Object.defineProperty($l,"__esModule",{value:!0});$l.QRHardwareCall=$l.QRHardwareCallType=void 0;var tae=ln(),rae=ai(),Ak=dn(),nae=DI(),P0;(function(r){r[r.type=1]="type",r[r.params=2]="params",r[r.origin=3]="origin"})(P0||(P0={}));var RI;(function(r){r[r.KeyDerivation=0]="KeyDerivation"})(RI=$l.QRHardwareCallType||($l.QRHardwareCallType={}));var Jl=class extends rae.RegistryItem{constructor(e,t,n){super(),this.type=e,this.params=t,this.origin=n,this.getRegistryType=()=>tae.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};i[P0.type]=this.type;let o=this.params.toDataItem();return o.setTag(this.params.getRegistryType().getTag()),i[P0.params]=o,this.origin&&(i[P0.origin]=this.origin),new Ak.DataItem(i)}}};$l.QRHardwareCall=Jl;Jl.fromDataItem=r=>{let e=r.getData(),t=e[P0.type]||RI.KeyDerivation,n;switch(t){case RI.KeyDerivation:n=nae.KeyDerivation.fromDataItem(e[P0.params])}let i=e[P0.origin];return new Jl(t,n,i)};Jl.fromCBOR=r=>{let e=(0,Ak.decodeToDataItem)(r);return Jl.fromDataItem(e)}});var Rk=T(Dk=>{h();p();Object.defineProperty(Dk,"__esModule",{value:!0})});var O0=T(Ae=>{h();p();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Buffer=Ae.extend=Ae.PathComponent=Ae.ScriptExpressions=Ae.MultiKey=Ae.CryptoPSBT=Ae.CryptoOutput=Ae.CryptoECKey=Ae.CryptoCoinInfoNetwork=Ae.CryptoCoinInfoType=Ae.CryptoCoinInfo=Ae.CryptoKeypath=Ae.CryptoMultiAccounts=Ae.CryptoHDKey=Ae.CryptoAccount=Ae.Bytes=Ae.URRegistryDecoder=Ae.DataItem=void 0;var Pr=qy();_E();var iae=Op();Object.defineProperty(Ae,"Buffer",{enumerable:!0,get:function(){return iae.Buffer}});var Pk=Up();Object.defineProperty(Ae,"CryptoHDKey",{enumerable:!0,get:function(){return Pk.CryptoHDKey}});var Mk=$y();Object.defineProperty(Ae,"CryptoKeypath",{enumerable:!0,get:function(){return Mk.CryptoKeypath}});var Vp=N3();Object.defineProperty(Ae,"CryptoCoinInfo",{enumerable:!0,get:function(){return Vp.CryptoCoinInfo}});Object.defineProperty(Ae,"CryptoCoinInfoType",{enumerable:!0,get:function(){return Vp.Type}});Object.defineProperty(Ae,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return Vp.Network}});var Nk=Zy();Object.defineProperty(Ae,"CryptoECKey",{enumerable:!0,get:function(){return Nk.CryptoECKey}});var kk=yk();Object.defineProperty(Ae,"Bytes",{enumerable:!0,get:function(){return kk.Bytes}});var qk=bI();Object.defineProperty(Ae,"CryptoOutput",{enumerable:!0,get:function(){return qk.CryptoOutput}});var Fk=wI();Object.defineProperty(Ae,"CryptoPSBT",{enumerable:!0,get:function(){return Fk.CryptoPSBT}});var Lk=SI();Object.defineProperty(Ae,"CryptoAccount",{enumerable:!0,get:function(){return Lk.CryptoAccount}});var Uk=TI();Object.defineProperty(Ae,"URRegistryDecoder",{enumerable:!0,get:function(){return Uk.URRegistryDecoder}});var jk=K3();Object.defineProperty(Ae,"MultiKey",{enumerable:!0,get:function(){return jk.MultiKey}});var Hk=b3();Object.defineProperty(Ae,"ScriptExpressions",{enumerable:!0,get:function(){return Hk.ScriptExpressions}});var Kk=q3();Object.defineProperty(Ae,"PathComponent",{enumerable:!0,get:function(){return Kk.PathComponent}});var oae=ai(),Bk=ln(),Kp=dn(),aae=dn();Object.defineProperty(Ae,"DataItem",{enumerable:!0,get:function(){return aae.DataItem}});var sae=x3(),Vk=AI();Object.defineProperty(Ae,"CryptoMultiAccounts",{enumerable:!0,get:function(){return Vk.CryptoMultiAccounts}});var uae={URRegistryDecoder:Uk.URRegistryDecoder,Bytes:kk.Bytes,CryptoAccount:Lk.CryptoAccount,CryptoHDKey:Pk.CryptoHDKey,CryptoMultiAccounts:Vk.CryptoMultiAccounts,CryptoKeypath:Mk.CryptoKeypath,CryptoCoinInfo:Vp.CryptoCoinInfo,CryptoCoinInfoType:Vp.Type,CryptoCoinInfoNetwork:Vp.Network,CryptoECKey:Nk.CryptoECKey,CryptoOutput:qk.CryptoOutput,CryptoPSBT:Fk.CryptoPSBT,MultiKey:jk.MultiKey,ScriptExpressions:Hk.ScriptExpressions,PathComponent:Kk.PathComponent},fae={addReader:Kp.addReader,addSemanticDecode:Kp.addSemanticDecode,addSemanticEncode:Kp.addSemanticEncode,addWriter:Kp.addWriter,patchTags:sae.patchTags},cae={RegistryTypes:Bk.RegistryTypes,RegistryItem:oae.RegistryItem,RegistryType:Bk.RegistryType,decodeToDataItem:Kp.decodeToDataItem,encodeDataItem:Kp.encodeDataItem,cbor:fae};Ae.extend=cae;(0,Pr.__exportStar)(EI(),Ae);(0,Pr.__exportStar)(TI(),Ae);(0,Pr.__exportStar)(dn(),Ae);(0,Pr.__exportStar)(SI(),Ae);(0,Pr.__exportStar)(wI(),Ae);(0,Pr.__exportStar)(Up(),Ae);(0,Pr.__exportStar)(AI(),Ae);(0,Pr.__exportStar)(Ok(),Ae);(0,Pr.__exportStar)(DI(),Ae);(0,Pr.__exportStar)(OI(),Ae);(0,Pr.__exportStar)(bI(),Ae);(0,Pr.__exportStar)(N3(),Ae);(0,Pr.__exportStar)(Zy(),Ae);(0,Pr.__exportStar)(K3(),Ae);(0,Pr.__exportStar)($y(),Ae);(0,Pr.__exportStar)(_E(),Ae);(0,Pr.__exportStar)(q3(),Ae);(0,Pr.__exportStar)(ai(),Ae);(0,Pr.__exportStar)(ln(),Ae);(0,Pr.__exportStar)(Rk(),Ae);(0,Pr.__exportStar)(x3(),Ae);Ae.default=uae});var Gk=T(Z3=>{h();p();Object.defineProperty(Z3,"__esModule",{value:!0});Z3.pathToKeypath=void 0;var zk=O0(),dae=r=>{let t=r.replace(/[m|M]\//,"").split("/").map(n=>{let i=parseInt(n.replace("'",""),10),o=n.endsWith("'");return new zk.PathComponent({index:i,hardened:o})});return new zk.CryptoKeypath(t)};Z3.pathToKeypath=dae});var En=T(gc=>{h();p();var lae=gc&&gc.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BI=gc&&gc.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lae(e,r,t)};Object.defineProperty(gc,"__esModule",{value:!0});BI(_M(),gc);BI(Gk(),gc);BI(mE(),gc)});var Uo=T(Zl=>{h();p();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.URType=Zl.UR=void 0;var hae=pn();Object.defineProperty(Zl,"UR",{enumerable:!0,get:function(){return hae.UR}});var pae;(function(r){r.CryptoPSBT="crypto-psbt",r.CryptoMultiAccounts="crypto-multi-accounts",r.CryptoHDKey="crypto-hdkey",r.ArweaveCryptoAccount="arweave-crypto-account",r.EthSignature="eth-signature",r.SolSignature="sol-signature",r.CosmosSignature="cosmos-signature",r.EvmSignature="evm-signature",r.AptosSignature="aptos-signature",r.CardanoSignature="cardano-signature",r.TronSignature="keystone-sign-result",r.KeystoneSignResult="keystone-sign-result",r.NearSignature="near-signature",r.ArweaveSignature="arweave-signature",r.SuiSignature="sui-signature",r.XrpAccount="bytes",r.XrpSignRequest="bytes",r.XrpSignature="bytes"})(pae=Zl.URType||(Zl.URType={}))});var Wk=T(Q3=>{h();p();Object.defineProperty(Q3,"__esModule",{value:!0});Q3.KeystoneBitcoinSDK=void 0;var Yk=O0(),gae=En(),mae=Uo(),PI=class{parsePSBT(e){if(e.type!==mae.URType.CryptoPSBT)throw new Error("type not match");return(0,gae.toHex)(Yk.CryptoPSBT.fromCBOR(e.cbor).getPSBT())}generatePSBT(e){return new Yk.CryptoPSBT(e).toUR()}};Q3.KeystoneBitcoinSDK=PI});var tb=T(eb=>{h();p();Object.defineProperty(eb,"__esModule",{value:!0});eb.DataItem=void 0;var MI=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};eb.DataItem=MI});var Jk=T((Xk,rb)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof rb<"u"&&rb.exports?rb.exports=e():r.CBOR=e()})(Xk,function(){let{DataItem:r}=tb();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var v="",w=0;w<this.$hex.length;w+=2)v+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(v)}if(d==="latin"){for(var v=[],w=0;w<this.$hex.length;w+=2)v.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,v)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var v="",w=0;w<d.length;w++){var I=d.charCodeAt(w).toString(16);I.length===1&&(I="0"+I),v+=I}return new t(v)},t.fromUtf8String=function(d){for(var v=encodeURIComponent(d),w="",I=0;I<v.length;I++)if(v.charAt(I)==="%")w+=v.substring(I+1,I+3),I+=2;else{var x=v.charCodeAt(I).toString(16);x.length<2&&(x="0"+x),w+=x}return new t(w)};var n=[],i={},o=function(d){return function(){throw new Error(d+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),v=(d&32767)>>10,w=d&1023,I=d&32768;if(v===31)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-25)*(1024+w):Math.pow(2,-24)*w;return I?-x:x},readFloat32:function(){var d=this.readUint32(),v=(d&2147483647)>>23,w=d&8388607,I=d&2147483648;if(v===255)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-23-127)*(8388608+w):Math.pow(2,-23-126)*w;return I?-x:x},readFloat64:function(){var d=this.readUint32(),v=this.readUint32(),w=d>>20&2047,I=(d&1048575)*4294967296+v,x=d&2147483648;if(w===2047)return I===0?x?-1/0:1/0:NaN;var B=w?Math.pow(2,w-52-1023)*(4503599627370496+I):Math.pow(2,-52-1022)*I;return x?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function u(d){var v=d.readByte(),w=v>>5,I=v&31;return{type:w,value:I}}function f(d,v){var w=d.value;if(w<24)return w;if(w==24)return v.readByte();if(w==25)return v.readUint16();if(w==26)return v.readUint32();if(w==27)return v.readUint64();if(w==31)return null;o("Additional info: "+w)()}function c(d,v,w){w.writeByte(d<<5|v)}function l(d,v,w){var I=d<<5;v<24?w.writeByte(I|v):v<256?(w.writeByte(I|24),w.writeByte(v)):v<65536?(w.writeByte(I|25),w.writeUint16(v)):v<4294967296?(w.writeByte(I|26),w.writeUint32(v)):(w.writeByte(I|27),w.writeUint64(v))}var g=new Error;function y(d){var v=u(d);switch(v.type){case 0:return f(v,d);case 1:return-1-f(v,d);case 2:return d.readChunk(f(v,d));case 3:var w=d.readChunk(f(v,d));return w.toString("utf-8");case 4:case 5:var I=f(v,d),A=[];if(I!==null){v.type===5&&(I*=2);for(var x=0;x<I;x++)A[x]=y(d)}else for(var B;(B=y(d))!==g;)A.push(B);if(v.type===5){for(var E={},x=0;x<A.length;x+=2)E[A[x]]=A[x+1];return E}else return A;case 6:var _=f(v,d),C=i[_],A=y(d);return C?C(A):A;case 7:if(v.value===25)return d.readFloat16();if(v.value===26)return d.readFloat32();if(v.value===27)return d.readFloat64();switch(f(v,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+v.value)}default:throw new Error("Unsupported header: "+JSON.stringify(v))}throw new Error("not implemented yet")}function b(d,v){for(var w=0;w<n.length;w++){var I=n[w].fn(d);if(I!==void 0)return l(6,n[w].tag,v),b(I,v)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,v);else if(d===!0)l(7,21,v);else if(d===null)l(7,22,v);else if(d===void 0)l(7,23,v);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,v):l(0,d,v):(c(7,27,v),v.writeFloat64(d));else if(typeof d=="string")v.writeString(d,function(B){l(3,B,v)});else if(v.canWriteBinary(d))v.writeBinary(d,function(B){l(2,B,v)});else if(typeof d=="object")if(k.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,v);for(var w=0;w<d.length;w++)b(d[w],v)}else{var x=Object.keys(d);l(5,x.length,v);for(var w=0;w<x.length;w++){let E=parseInt(x[w]);isNaN(E)?(b(x[w],v),b(d[x[w]],v)):(b(E,v),b(d[x[w]],v))}}else throw new Error("CBOR encoding not supported: "+d)}var D=[],M=[],k={config:{useToJSON:!0},addWriter:function(d,v){typeof d=="string"?M.push(function(w){if(d===w)return v(w)}):M.push(d)},addReader:function(d,v){typeof d=="string"?D.push(function(w,I){if(d===I)return v(w,I)}):D.push(d)},encode:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return b(d,x),x.result()}throw new Error("Unsupported output format: "+v)},encodeDataItem:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return d.getTag()!==void 0?(b(d,x),x.result()):(b(d.getData(),x),x.result())}throw new Error("Unsupported output format: "+v)},decode:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x)return y(x)}throw new Error("Unsupported input format: "+v)},decodeToDataItem:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x){let B=y(x);return B instanceof r?B:new r(B)}}throw new Error("Unsupported input format: "+v)},addSemanticEncode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:v}),this},addSemanticDecode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=v,this}};function N(d){this.buffer=d,this.pos=0}N.prototype=Object.create(a.prototype),N.prototype.peekByte=function(){return this.buffer[this.pos]},N.prototype.readByte=function(){return this.buffer[this.pos++]},N.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},N.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},N.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},N.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},N.prototype.readChunk=function(d){var v=m.Buffer.alloc(d);return this.buffer.copy(v,0,this.pos,this.pos+=d),v};function K(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}K.prototype=Object.create(s.prototype),K.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},K.prototype.writeFloat32=function(d){var v=m.Buffer.alloc(4);v.writeFloatBE(d,0),this.writeBuffer(v)},K.prototype.writeFloat64=function(d){var v=m.Buffer.alloc(8);v.writeDoubleBE(d,0),this.writeBuffer(v)},K.prototype.writeString=function(d,v){var w=m.Buffer.from(d,"utf-8");v(w.length),this.writeBuffer(w)},K.prototype.canWriteBinary=function(d){return d instanceof m.Buffer},K.prototype.writeBinary=function(d,v){v(d.length),this.writeBuffer(d)},K.prototype.writeBuffer=function(d){if(!(d instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},K.prototype.result=function(){for(var d=m.Buffer.alloc(this.byteLength),v=0,w=0;w<this.completeBuffers.length;w++){var I=this.completeBuffers[w];I.copy(d,v,0,I.length),v+=I.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,v,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof m.Buffer=="function"&&(k.addReader(function(d,v){if(m.Buffer.isBuffer(d))return new N(d);if(v==="hex"||v==="base64"){var w=m.Buffer.from(d,v);return new N(w)}}),k.addWriter(function(d){if(!d||d==="buffer")return new K;if(d==="hex"||d==="base64")return new K(d)}));function X(d){this.hex=d,this.pos=0}X.prototype=Object.create(a.prototype),X.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},X.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},X.prototype.readChunk=function(d){var v=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof m.Buffer=="function"?m.Buffer.from(v,"hex"):new t(v)};function q(d){this.$hex="",this.finalFormat=d||"hex"}return q.prototype=Object.create(s.prototype),q.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var v=d.toString(16);v.length==1&&(v="0"+v),this.$hex+=v},q.prototype.canWriteBinary=function(d){return d instanceof t||typeof m.Buffer=="function"&&d instanceof m.Buffer},q.prototype.writeBinary=function(d,v){if(d instanceof t)v(d.length()),this.$hex+=d.$hex;else if(typeof m.Buffer=="function"&&d instanceof m.Buffer)v(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(d,v){var w=t.fromUtf8String(d);v(w.length()),this.$hex+=w.$hex},k.addReader(function(d,v){if(d instanceof t||d.$hex)return new X(d.$hex);if(v==="hex")return new X(d)}),k.addWriter(function(d){if(d==="hex")return new q}),k}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var lo=T(si=>{h();p();Object.defineProperty(si,"__esModule",{value:!0});si.DataItem=si.addWriter=si.addReader=si.addSemanticEncode=si.addSemanticDecode=si.decodeToDataItem=si.encodeDataItem=void 0;var zp=Jk();Object.defineProperty(si,"encodeDataItem",{enumerable:!0,get:function(){return zp.encodeDataItem}});Object.defineProperty(si,"decodeToDataItem",{enumerable:!0,get:function(){return zp.decodeToDataItem}});Object.defineProperty(si,"addSemanticDecode",{enumerable:!0,get:function(){return zp.addSemanticDecode}});Object.defineProperty(si,"addSemanticEncode",{enumerable:!0,get:function(){return zp.addSemanticEncode}});Object.defineProperty(si,"addReader",{enumerable:!0,get:function(){return zp.addReader}});Object.defineProperty(si,"addWriter",{enumerable:!0,get:function(){return zp.addWriter}});var yae=tb();Object.defineProperty(si,"DataItem",{enumerable:!0,get:function(){return yae.DataItem}})});var ob=T(ib=>{h();p();Object.defineProperty(ib,"__esModule",{value:!0});ib.patchTags=void 0;var nb=lo(),$k=[],vae=r=>{r.forEach(e=>{$k.find(t=>t===e)||((0,nb.addSemanticEncode)(e,t=>{if(t instanceof nb.DataItem&&t.getTag()===e)return t.getData()}),(0,nb.addSemanticDecode)(e,t=>new nb.DataItem(t,e)),$k.push(e))})};ib.patchTags=vae});var ho=T(Gp=>{h();p();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.RegistryTypes=Gp.RegistryType=void 0;var ua=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Gp.RegistryType=ua;Gp.RegistryTypes={UUID:new ua("uuid",37),BYTES:new ua("bytes",void 0),CRYPTO_HDKEY:new ua("crypto-hdkey",303),CRYPTO_KEYPATH:new ua("crypto-keypath",304),CRYPTO_COIN_INFO:new ua("crypto-coin-info",305),CRYPTO_ECKEY:new ua("crypto-eckey",306),CRYPTO_OUTPUT:new ua("crypto-output",308),CRYPTO_PSBT:new ua("crypto-psbt",310),CRYPTO_ACCOUNT:new ua("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ua("crypto-multi-accounts",1103)}});var ab=T(Ql=>{h();p();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.ScriptExpressions=Ql.ScriptExpression=void 0;var jo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Ql.ScriptExpression=jo;jo.fromTag=r=>Object.values(Ql.ScriptExpressions).find(t=>t.getTag()===r);Ql.ScriptExpressions={SCRIPT_HASH:new jo(400,"sh"),WITNESS_SCRIPT_HASH:new jo(401,"wsh"),PUBLIC_KEY:new jo(402,"pk"),PUBLIC_KEY_HASH:new jo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new jo(404,"wpkh"),COMBO:new jo(405,"combo"),MULTISIG:new jo(406,"multi"),SORTED_MULTISIG:new jo(407,"sortedmulti"),ADDRESS:new jo(307,"addr"),RAW_SCRIPT:new jo(408,"raw")}});var NI=T(Zk=>{h();p();Object.defineProperty(Zk,"__esModule",{value:!0});var _ae=ob(),xae=ho(),bae=ab(),wae=Object.values(xae.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),Sae=Object.values(bae.ScriptExpressions).map(r=>r.getTag());(0,_ae.patchTags)(wae.concat(Sae))});var fa=T(sb=>{h();p();Object.defineProperty(sb,"__esModule",{value:!0});sb.RegistryItem=void 0;var Qk=pn(),Cae=lo(),kI=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,Cae.encodeDataItem)(this.toDataItem())},this.toUR=()=>new Qk.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new Qk.UREncoder(i,e,t,n)}}};sb.RegistryItem=kI});var ub=T(sf=>{h();p();Object.defineProperty(sf,"__esModule",{value:!0});sf.CryptoCoinInfo=sf.Network=sf.Type=void 0;var eq=lo(),Eae=fa(),Iae=ho(),Yp;(function(r){r.type="1",r.network="2"})(Yp||(Yp={}));var tq;(function(r){r[r.bitcoin=0]="bitcoin"})(tq=sf.Type||(sf.Type={}));var rq;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(rq=sf.Network||(sf.Network={}));var eh=class extends Eae.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Iae.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||tq.bitcoin,this.getNetwork=()=>this.network||rq.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Yp.type]=this.type),this.network&&(n[Yp.network]=this.network),new eq.DataItem(n)}}};sf.CryptoCoinInfo=eh;eh.fromDataItem=r=>{let e=r.getData(),t=e[Yp.type],n=e[Yp.network];return new eh(t,n)};eh.fromCBOR=r=>{let e=(0,eq.decodeToDataItem)(r);return eh.fromDataItem(e)}});var cb=T(fb=>{h();p();Object.defineProperty(fb,"__esModule",{value:!0});fb.PathComponent=void 0;var Wp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Wp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};fb.PathComponent=Wp;Wp.HARDENED_BIT=2147483648});var lb=T(db=>{h();p();Object.defineProperty(db,"__esModule",{value:!0});db.CryptoKeypath=void 0;var iq=lo(),nq=cb(),Tae=fa(),Aae=ho(),M0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(M0||(M0={}));var th=class extends Tae.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Aae.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[M0.components]=o,this.sourceFingerprint&&(i[M0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[M0.depth]=this.depth),new iq.DataItem(i)}}};db.CryptoKeypath=th;th.fromDataItem=r=>{let e=r.getData(),t=[],n=e[M0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new nq.PathComponent({index:f,hardened:u})):t.push(new nq.PathComponent({hardened:u}))}let i=e[M0.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[M0.depth];return new th(t,o,a)};th.fromCBOR=r=>{let e=(0,iq.decodeToDataItem)(r);return th.fromDataItem(e)}});var Xp=T(hb=>{h();p();Object.defineProperty(hb,"__esModule",{value:!0});hb.CryptoHDKey=void 0;var Oae=wp(),Dae=ub(),oq=lb(),aq=lo(),Rae=fa(),Bae=ho(),nr;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(nr||(nr={}));var rh=class extends Rae.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),b=y[y.length-1];b&&(s=b.isHardened()?b.getIndex()+2147483648:b.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let c=m.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return(0,Oae.encode)(m.Buffer.concat([o,f,u,c,l,g]))},this.getRegistryType=()=>Bae.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[nr.is_master]=!0,t[nr.key_data]=this.key,t[nr.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[nr.is_private]=this.privateKey),t[nr.key_data]=this.key,this.chainCode&&(t[nr.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[nr.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[nr.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[nr.children]=n}this.parentFingerprint&&(t[nr.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[nr.name]=this.name),this.note!==void 0&&(t[nr.note]=this.note)}return new aq.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};hb.CryptoHDKey=rh;rh.fromDataItem=r=>{let e=r.getData(),t=!!e[nr.is_master],n=e[nr.is_private],i=e[nr.key_data],o=e[nr.chain_code],a=e[nr.use_info]?Dae.CryptoCoinInfo.fromDataItem(e[nr.use_info]):void 0,s=e[nr.origin]?oq.CryptoKeypath.fromDataItem(e[nr.origin]):void 0,u=e[nr.children]?oq.CryptoKeypath.fromDataItem(e[nr.children]):void 0,f=e[nr.parent_fingerprint],c;f&&(c=m.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[nr.name],g=e[nr.note];return new rh({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:c,name:l,note:g})};rh.fromCBOR=r=>{let e=(0,aq.decodeToDataItem)(r);return rh.fromDataItem(e)}});var ev=T(pb=>{h();p();Object.defineProperty(pb,"__esModule",{value:!0});pb.CryptoECKey=void 0;var sq=lo(),Pae=fa(),Mae=ho(),N0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(N0||(N0={}));var nh=class extends Pae.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Mae.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[N0.curve]=this.curve),this.privateKey!==void 0&&(t[N0.private]=this.privateKey),t[N0.data]=this.data,new sq.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};pb.CryptoECKey=nh;nh.fromDataItem=r=>{let e=r.getData(),t=e[N0.curve],n=e[N0.private],i=e[N0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new nh({data:i,curve:t,privateKey:n})};nh.fromCBOR=r=>{let e=(0,sq.decodeToDataItem)(r);return nh.fromDataItem(e)}});var fq=T(gb=>{h();p();Object.defineProperty(gb,"__esModule",{value:!0});gb.Bytes=void 0;var uq=lo(),Nae=fa(),kae=ho(),ih=class extends Nae.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>kae.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new uq.DataItem(this.bytes)}};gb.Bytes=ih;ih.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new ih(e)};ih.fromCBOR=r=>{let e=(0,uq.decodeToDataItem)(r);return ih.fromDataItem(e)}});var yb=T(mb=>{h();p();Object.defineProperty(mb,"__esModule",{value:!0});mb.MultiKey=void 0;var qae=ev(),Fae=Xp(),Lae=tb(),Uae=fa(),cq=ho(),Jp;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(Jp||(Jp={}));var tv=class extends Uae.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[Jp.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[Jp.keys]=i,new Lae.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};mb.MultiKey=tv;tv.fromDataItem=r=>{let e=r.getData(),t=e[Jp.threshold],n=e[Jp.keys],i=[];return n.forEach(o=>{o.getTag()===cq.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Fae.CryptoHDKey.fromDataItem(o)):o.getTag()===cq.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(qae.CryptoECKey.fromDataItem(o))}),new tv(t,i)}});var jI=T(vb=>{h();p();Object.defineProperty(vb,"__esModule",{value:!0});vb.CryptoOutput=void 0;var FI=ev(),LI=Xp(),UI=lo(),dq=yb(),jae=fa(),lq=ho(),qI=ab(),mc=class extends jae.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>lq.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof LI.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof FI.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof dq.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof FI.CryptoECKey||this.cryptoKey instanceof LI.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new UI.DataItem(n,a)}),n}}};vb.CryptoOutput=mc;mc.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=qI.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof UI.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===qI.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===qI.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=dq.MultiKey.fromDataItem(t);return new mc(e,o)}if(t.getTag()===lq.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=LI.CryptoHDKey.fromDataItem(t);return new mc(e,o)}else{let o=FI.CryptoECKey.fromDataItem(t);return new mc(e,o)}};mc.fromCBOR=r=>{let e=(0,UI.decodeToDataItem)(r);return mc.fromDataItem(e)}});var HI=T(_b=>{h();p();Object.defineProperty(_b,"__esModule",{value:!0});_b.CryptoPSBT=void 0;var hq=lo(),Hae=fa(),Kae=ho(),oh=class extends Hae.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Kae.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new hq.DataItem(this.psbt)}};_b.CryptoPSBT=oh;oh.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new oh(e)};oh.fromCBOR=r=>{let e=(0,hq.decodeToDataItem)(r);return oh.fromDataItem(e)}});var KI=T(xb=>{h();p();Object.defineProperty(xb,"__esModule",{value:!0});xb.CryptoAccount=void 0;var Vae=uf(),pq=lo(),zae=fa(),Gae=ho(),$p;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})($p||($p={}));var ah=class extends zae.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Gae.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[$p.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[$p.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new pq.DataItem(n)}}};xb.CryptoAccount=ah;ah.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[$p.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[$p.outputDescriptors].map(a=>Vae.CryptoOutput.fromDataItem(a));return new ah(t,o)};ah.fromCBOR=r=>{let e=(0,pq.decodeToDataItem)(r);return ah.fromDataItem(e)}});var zI=T(bb=>{h();p();Object.defineProperty(bb,"__esModule",{value:!0});bb.UnknownURTypeError=void 0;var VI=class extends Error{constructor(e){super(e)}};bb.UnknownURTypeError=VI});var YI=T(wb=>{h();p();Object.defineProperty(wb,"__esModule",{value:!0});wb.URRegistryDecoder=void 0;var Yae=pn(),k0=uf(),q0=ho(),Wae=zI(),GI=class extends Yae.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case q0.RegistryTypes.BYTES.getType():return k0.Bytes.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_HDKEY.getType():return k0.CryptoHDKey.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_KEYPATH.getType():return k0.CryptoKeypath.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_COIN_INFO.getType():return k0.CryptoCoinInfo.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_ECKEY.getType():return k0.CryptoECKey.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_OUTPUT.getType():return k0.CryptoOutput.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_PSBT.getType():return k0.CryptoPSBT.fromCBOR(e.cbor);case q0.RegistryTypes.CRYPTO_ACCOUNT.getType():return k0.CryptoAccount.fromCBOR(e.cbor);default:throw new Wae.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};wb.URRegistryDecoder=GI});var WI=T(Sb=>{h();p();Object.defineProperty(Sb,"__esModule",{value:!0});Sb.CryptoMultiAccounts=void 0;var Xae=ho(),Jae=Xp(),$ae=fa(),gq=lo(),F0;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(F0||(F0={}));var sh=class extends $ae.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Xae.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[F0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[F0.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[F0.device]=this.device),new gq.DataItem(i)}}};Sb.CryptoMultiAccounts=sh;sh.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[F0.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[F0.keys].map(s=>Jae.CryptoHDKey.fromDataItem(s)),a=e[F0.device];return new sh(t,o,a)};sh.fromCBOR=r=>{let e=(0,gq.decodeToDataItem)(r);return sh.fromDataItem(e)}});var yq=T(mq=>{h();p();Object.defineProperty(mq,"__esModule",{value:!0})});var uf=T(Fe=>{h();p();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Buffer=Fe.extend=Fe.PathComponent=Fe.ScriptExpressions=Fe.MultiKey=Fe.CryptoPSBT=Fe.CryptoOutput=Fe.CryptoECKey=Fe.CryptoCoinInfoNetwork=Fe.CryptoCoinInfoType=Fe.CryptoCoinInfo=Fe.CryptoKeypath=Fe.CryptoMultiAccounts=Fe.CryptoHDKey=Fe.CryptoAccount=Fe.Bytes=Fe.URRegistryDecoder=Fe.DataItem=void 0;var gn=qy();NI();var Zae=Op();Object.defineProperty(Fe,"Buffer",{enumerable:!0,get:function(){return Zae.Buffer}});var _q=Xp();Object.defineProperty(Fe,"CryptoHDKey",{enumerable:!0,get:function(){return _q.CryptoHDKey}});var xq=lb();Object.defineProperty(Fe,"CryptoKeypath",{enumerable:!0,get:function(){return xq.CryptoKeypath}});var Qp=ub();Object.defineProperty(Fe,"CryptoCoinInfo",{enumerable:!0,get:function(){return Qp.CryptoCoinInfo}});Object.defineProperty(Fe,"CryptoCoinInfoType",{enumerable:!0,get:function(){return Qp.Type}});Object.defineProperty(Fe,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return Qp.Network}});var bq=ev();Object.defineProperty(Fe,"CryptoECKey",{enumerable:!0,get:function(){return bq.CryptoECKey}});var wq=fq();Object.defineProperty(Fe,"Bytes",{enumerable:!0,get:function(){return wq.Bytes}});var Sq=jI();Object.defineProperty(Fe,"CryptoOutput",{enumerable:!0,get:function(){return Sq.CryptoOutput}});var Cq=HI();Object.defineProperty(Fe,"CryptoPSBT",{enumerable:!0,get:function(){return Cq.CryptoPSBT}});var Eq=KI();Object.defineProperty(Fe,"CryptoAccount",{enumerable:!0,get:function(){return Eq.CryptoAccount}});var Iq=YI();Object.defineProperty(Fe,"URRegistryDecoder",{enumerable:!0,get:function(){return Iq.URRegistryDecoder}});var Tq=yb();Object.defineProperty(Fe,"MultiKey",{enumerable:!0,get:function(){return Tq.MultiKey}});var Aq=ab();Object.defineProperty(Fe,"ScriptExpressions",{enumerable:!0,get:function(){return Aq.ScriptExpressions}});var Oq=cb();Object.defineProperty(Fe,"PathComponent",{enumerable:!0,get:function(){return Oq.PathComponent}});var Qae=fa(),vq=ho(),Zp=lo(),ese=lo();Object.defineProperty(Fe,"DataItem",{enumerable:!0,get:function(){return ese.DataItem}});var tse=ob(),Dq=WI();Object.defineProperty(Fe,"CryptoMultiAccounts",{enumerable:!0,get:function(){return Dq.CryptoMultiAccounts}});var rse={URRegistryDecoder:Iq.URRegistryDecoder,Bytes:wq.Bytes,CryptoAccount:Eq.CryptoAccount,CryptoHDKey:_q.CryptoHDKey,CryptoMultiAccounts:Dq.CryptoMultiAccounts,CryptoKeypath:xq.CryptoKeypath,CryptoCoinInfo:Qp.CryptoCoinInfo,CryptoCoinInfoType:Qp.Type,CryptoCoinInfoNetwork:Qp.Network,CryptoECKey:bq.CryptoECKey,CryptoOutput:Sq.CryptoOutput,CryptoPSBT:Cq.CryptoPSBT,MultiKey:Tq.MultiKey,ScriptExpressions:Aq.ScriptExpressions,PathComponent:Oq.PathComponent},nse={addReader:Zp.addReader,addSemanticDecode:Zp.addSemanticDecode,addSemanticEncode:Zp.addSemanticEncode,addWriter:Zp.addWriter,patchTags:tse.patchTags},ise={RegistryTypes:vq.RegistryTypes,RegistryItem:Qae.RegistryItem,RegistryType:vq.RegistryType,decodeToDataItem:Zp.decodeToDataItem,encodeDataItem:Zp.encodeDataItem,cbor:nse};Fe.extend=ise;(0,gn.__exportStar)(zI(),Fe);(0,gn.__exportStar)(YI(),Fe);(0,gn.__exportStar)(lo(),Fe);(0,gn.__exportStar)(KI(),Fe);(0,gn.__exportStar)(HI(),Fe);(0,gn.__exportStar)(Xp(),Fe);(0,gn.__exportStar)(WI(),Fe);(0,gn.__exportStar)(jI(),Fe);(0,gn.__exportStar)(ub(),Fe);(0,gn.__exportStar)(ev(),Fe);(0,gn.__exportStar)(yb(),Fe);(0,gn.__exportStar)(lb(),Fe);(0,gn.__exportStar)(NI(),Fe);(0,gn.__exportStar)(cb(),Fe);(0,gn.__exportStar)(fa(),Fe);(0,gn.__exportStar)(ho(),Fe);(0,gn.__exportStar)(yq(),Fe);(0,gn.__exportStar)(ob(),Fe);Fe.default=rse});function rv(){if(!Cb&&(Cb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Cb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cb(ose)}var Cb,ose,XI=pe(()=>{h();p();ose=new Uint8Array(16)});var Rq,Bq=pe(()=>{h();p();Rq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function ase(r){return typeof r=="string"&&Rq.test(r)}var L0,nv=pe(()=>{h();p();Bq();L0=ase});function sse(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(In[r[e+0]]+In[r[e+1]]+In[r[e+2]]+In[r[e+3]]+"-"+In[r[e+4]]+In[r[e+5]]+"-"+In[r[e+6]]+In[r[e+7]]+"-"+In[r[e+8]]+In[r[e+9]]+"-"+In[r[e+10]]+In[r[e+11]]+In[r[e+12]]+In[r[e+13]]+In[r[e+14]]+In[r[e+15]]).toLowerCase();if(!L0(t))throw TypeError("Stringified UUID is invalid");return t}var In,Eb,U0,iv=pe(()=>{h();p();nv();In=[];for(Eb=0;Eb<256;++Eb)In.push((Eb+256).toString(16).substr(1));U0=sse});function use(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||Pq,a=r.clockseq!==void 0?r.clockseq:JI;if(o==null||a==null){var s=r.random||(r.rng||rv)();o==null&&(o=Pq=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=JI=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:ZI+1,c=u-$I+(f-ZI)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>$I)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$I=u,ZI=f,JI=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||U0(i)}var Pq,JI,$I,ZI,Mq,Nq=pe(()=>{h();p();XI();iv();$I=0,ZI=0;Mq=use});function fse(r){if(!L0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Ib,QI=pe(()=>{h();p();nv();Ib=fse});function cse(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Tb(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=cse(i)),typeof o=="string"&&(o=Ib(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return U0(u)}try{n.name=r}catch{}return n.DNS=dse,n.URL=lse,n}var dse,lse,eT=pe(()=>{h();p();iv();QI();dse="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lse="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function hse(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return pse(gse(mse(r),r.length*8))}function pse(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function kq(r){return(r+64>>>9<<4)+14+1}function gse(r,e){r[e>>5]|=128<<e%32,r[kq(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=ui(t,n,i,o,r[a],7,-680876936),o=ui(o,t,n,i,r[a+1],12,-389564586),i=ui(i,o,t,n,r[a+2],17,606105819),n=ui(n,i,o,t,r[a+3],22,-1044525330),t=ui(t,n,i,o,r[a+4],7,-176418897),o=ui(o,t,n,i,r[a+5],12,1200080426),i=ui(i,o,t,n,r[a+6],17,-1473231341),n=ui(n,i,o,t,r[a+7],22,-45705983),t=ui(t,n,i,o,r[a+8],7,1770035416),o=ui(o,t,n,i,r[a+9],12,-1958414417),i=ui(i,o,t,n,r[a+10],17,-42063),n=ui(n,i,o,t,r[a+11],22,-1990404162),t=ui(t,n,i,o,r[a+12],7,1804603682),o=ui(o,t,n,i,r[a+13],12,-40341101),i=ui(i,o,t,n,r[a+14],17,-1502002290),n=ui(n,i,o,t,r[a+15],22,1236535329),t=fi(t,n,i,o,r[a+1],5,-165796510),o=fi(o,t,n,i,r[a+6],9,-1069501632),i=fi(i,o,t,n,r[a+11],14,643717713),n=fi(n,i,o,t,r[a],20,-373897302),t=fi(t,n,i,o,r[a+5],5,-701558691),o=fi(o,t,n,i,r[a+10],9,38016083),i=fi(i,o,t,n,r[a+15],14,-660478335),n=fi(n,i,o,t,r[a+4],20,-405537848),t=fi(t,n,i,o,r[a+9],5,568446438),o=fi(o,t,n,i,r[a+14],9,-1019803690),i=fi(i,o,t,n,r[a+3],14,-187363961),n=fi(n,i,o,t,r[a+8],20,1163531501),t=fi(t,n,i,o,r[a+13],5,-1444681467),o=fi(o,t,n,i,r[a+2],9,-51403784),i=fi(i,o,t,n,r[a+7],14,1735328473),n=fi(n,i,o,t,r[a+12],20,-1926607734),t=ci(t,n,i,o,r[a+5],4,-378558),o=ci(o,t,n,i,r[a+8],11,-2022574463),i=ci(i,o,t,n,r[a+11],16,1839030562),n=ci(n,i,o,t,r[a+14],23,-35309556),t=ci(t,n,i,o,r[a+1],4,-1530992060),o=ci(o,t,n,i,r[a+4],11,1272893353),i=ci(i,o,t,n,r[a+7],16,-155497632),n=ci(n,i,o,t,r[a+10],23,-1094730640),t=ci(t,n,i,o,r[a+13],4,681279174),o=ci(o,t,n,i,r[a],11,-358537222),i=ci(i,o,t,n,r[a+3],16,-722521979),n=ci(n,i,o,t,r[a+6],23,76029189),t=ci(t,n,i,o,r[a+9],4,-640364487),o=ci(o,t,n,i,r[a+12],11,-421815835),i=ci(i,o,t,n,r[a+15],16,530742520),n=ci(n,i,o,t,r[a+2],23,-995338651),t=di(t,n,i,o,r[a],6,-198630844),o=di(o,t,n,i,r[a+7],10,1126891415),i=di(i,o,t,n,r[a+14],15,-1416354905),n=di(n,i,o,t,r[a+5],21,-57434055),t=di(t,n,i,o,r[a+12],6,1700485571),o=di(o,t,n,i,r[a+3],10,-1894986606),i=di(i,o,t,n,r[a+10],15,-1051523),n=di(n,i,o,t,r[a+1],21,-2054922799),t=di(t,n,i,o,r[a+8],6,1873313359),o=di(o,t,n,i,r[a+15],10,-30611744),i=di(i,o,t,n,r[a+6],15,-1560198380),n=di(n,i,o,t,r[a+13],21,1309151649),t=di(t,n,i,o,r[a+4],6,-145523070),o=di(o,t,n,i,r[a+11],10,-1120210379),i=di(i,o,t,n,r[a+2],15,718787259),n=di(n,i,o,t,r[a+9],21,-343485551),t=j0(t,s),n=j0(n,u),i=j0(i,f),o=j0(o,c)}return[t,n,i,o]}function mse(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(kq(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function j0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function yse(r,e){return r<<e|r>>>32-e}function Ab(r,e,t,n,i,o){return j0(yse(j0(j0(e,r),j0(n,o)),i),t)}function ui(r,e,t,n,i,o,a){return Ab(e&t|~e&n,r,e,i,o,a)}function fi(r,e,t,n,i,o,a){return Ab(e&n|t&~n,r,e,i,o,a)}function ci(r,e,t,n,i,o,a){return Ab(e^t^n,r,e,i,o,a)}function di(r,e,t,n,i,o,a){return Ab(t^(e|~n),r,e,i,o,a)}var qq,Fq=pe(()=>{h();p();qq=hse});var vse,Lq,Uq=pe(()=>{h();p();eT();Fq();vse=Tb("v3",48,qq),Lq=vse});function _se(r,e,t){r=r||{};var n=r.random||(r.rng||rv)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return U0(n)}var jq,Hq=pe(()=>{h();p();XI();iv();jq=_se});function xse(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function tT(r,e){return r<<e|r>>>32-e}function bse(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=tT(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=tT(D,5)+xse(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=tT(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Kq,Vq=pe(()=>{h();p();Kq=bse});var wse,zq,Gq=pe(()=>{h();p();eT();Vq();wse=Tb("v5",80,Kq),zq=wse});var Yq,Wq=pe(()=>{h();p();Yq="00000000-0000-0000-0000-000000000000"});function Sse(r){if(!L0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Xq,Jq=pe(()=>{h();p();nv();Xq=Sse});var $q={};g0($q,{NIL:()=>Yq,parse:()=>Ib,stringify:()=>U0,v1:()=>Mq,v3:()=>Lq,v4:()=>jq,v5:()=>zq,validate:()=>L0,version:()=>Xq});var Zq=pe(()=>{h();p();Nq();Uq();Hq();Gq();Wq();Jq();nv();iv();QI()});var Qq=T(V0=>{h();p();Object.defineProperty(V0,"__esModule",{value:!0});var li=uf(),Cse=(Zq(),m0($q)),rT={COSMOS_SIGN_REQUEST:new li.RegistryType("cosmos-sign-request",4101),COSMOS_SIGNATURE:new li.RegistryType("cosmos-signature",4102)},{decodeToDataItem:Ese,RegistryTypes:Ise}=li.extend,H0,Tn;(H0=V0.SignDataType||(V0.SignDataType={}))[H0.amino=1]="amino",H0[H0.direct=2]="direct",H0[H0.textual=3]="textual",H0[H0.message=4]="message",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPaths=4]="derivationPaths",r[r.addresses=5]="addresses",r[r.origin=6]="origin"}(Tn||(Tn={}));var yc=class extends li.RegistryItem{constructor(e){super(),this.getRegistryType=()=>rT.COSMOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map(t=>t.getPath()),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return t[Tn.requestId]=new li.DataItem(this.requestId,Ise.UUID.getTag()),t[Tn.signData]=this.signData,t[Tn.dataType]=this.dataType,t[Tn.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.addresses&&(t[Tn.addresses]=this.addresses),this.origin&&(t[Tn.origin]=this.origin),new li.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructCosmosRequest(e,t,n,i,o,a,s){let u=o.map((f,c)=>{let l=f.replace(/[m|M]\//,"").split("/").map(g=>{let y=parseInt(g.replace("'","")),b=!1;return g.endsWith("'")&&(b=!0),new li.PathComponent({index:y,hardened:b})});return new li.CryptoKeypath(l,m.Buffer.from(t[c],"hex"))});return new yc({requestId:m.Buffer.from(Cse.parse(e)),signData:n,dataType:i||V0.SignDataType.amino,derivationPaths:u,addresses:a||void 0,origin:s||void 0})}};yc.fromDataItem=r=>{let e=r.getData(),t=e[Tn.requestId]?e[Tn.requestId].getData():void 0,n=e[Tn.signData],i=e[Tn.dataType],o=e[Tn.derivationPaths].map(a=>li.CryptoKeypath.fromDataItem(a));return new yc({requestId:t,signData:n,dataType:i,derivationPaths:o,addresses:e[Tn.addresses]?e[Tn.addresses]:void 0,origin:e[Tn.origin]?e[Tn.origin]:void 0})},yc.fromCBOR=r=>{let e=Ese(r);return yc.fromDataItem(e)};var{RegistryTypes:Tse,decodeToDataItem:Ase}=li.extend,K0;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.publicKey=3]="publicKey"})(K0||(K0={}));var uh=class extends li.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>rT.COSMOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return i[K0.requestId]=new li.DataItem(this.requestId,Tse.UUID.getTag()),i[K0.signature]=this.signature,i[K0.publicKey]=this.publicKey,new li.DataItem(i)},this.signature=e,this.requestId=t,this.publicKey=n}};uh.fromDataItem=r=>{let e=r.getData(),t=e[K0.signature],n=e[K0.requestId].getData();return new uh(t,n,e[K0.publicKey])},uh.fromCBOR=r=>{let e=Ase(r);return uh.fromDataItem(e)},li.patchTags(Object.values(rT).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(li).forEach(function(r){r!=="default"&&Object.defineProperty(V0,r,{enumerable:!0,get:function(){return li[r]}})}),V0.CosmosSignRequest=yc,V0.CosmosSignature=uh});var tF=T((oLe,eF)=>{h();p();eF.exports=Qq()});var rF=T(Db=>{h();p();Object.defineProperty(Db,"__esModule",{value:!0});Db.KeystoneCosmosSDK=void 0;var fh=En(),Ose=Uo(),ov=tF(),Ob=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==Ose.URType.CosmosSignature)throw new Error("type not match");let t=ov.CosmosSignature.fromCBOR(e.cbor);return{requestId:(0,fh.uuidStringify)(t.getRequestId()),signature:(0,fh.toHex)(t.getSignature()),publicKey:(0,fh.toHex)(t.getPublicKey())}}generateSignRequest({requestId:e,signData:t,dataType:n,accounts:i,origin:o}){var a;let s=[],u=[];return i.forEach(f=>{s.push(new ov.CryptoKeypath((0,fh.parsePath)(f.path).map(c=>new ov.PathComponent(c)),(0,fh.toBuffer)(f.xfp))),u.push(f.address)}),new ov.CosmosSignRequest({signData:(0,fh.toBuffer)(t),dataType:n,derivationPaths:s,requestId:(0,fh.uuidParse)(e),addresses:u,origin:o??((a=this.config)===null||a===void 0?void 0:a.origin)}).toUR()}};Ob.DataType=ov.SignDataType;Db.KeystoneCosmosSDK=Ob});var Bb=T(Rb=>{h();p();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.DataItem=void 0;var nT=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};Rb.DataItem=nT});var iF=T((nF,Pb)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof Pb<"u"&&Pb.exports?Pb.exports=e():r.CBOR=e()})(nF,function(){let{DataItem:r}=Bb();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var v="",w=0;w<this.$hex.length;w+=2)v+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(v)}if(d==="latin"){for(var v=[],w=0;w<this.$hex.length;w+=2)v.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,v)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var v="",w=0;w<d.length;w++){var I=d.charCodeAt(w).toString(16);I.length===1&&(I="0"+I),v+=I}return new t(v)},t.fromUtf8String=function(d){for(var v=encodeURIComponent(d),w="",I=0;I<v.length;I++)if(v.charAt(I)==="%")w+=v.substring(I+1,I+3),I+=2;else{var x=v.charCodeAt(I).toString(16);x.length<2&&(x="0"+x),w+=x}return new t(w)};var n=[],i={},o=function(d){return function(){throw new Error(d+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),v=(d&32767)>>10,w=d&1023,I=d&32768;if(v===31)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-25)*(1024+w):Math.pow(2,-24)*w;return I?-x:x},readFloat32:function(){var d=this.readUint32(),v=(d&2147483647)>>23,w=d&8388607,I=d&2147483648;if(v===255)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-23-127)*(8388608+w):Math.pow(2,-23-126)*w;return I?-x:x},readFloat64:function(){var d=this.readUint32(),v=this.readUint32(),w=d>>20&2047,I=(d&1048575)*4294967296+v,x=d&2147483648;if(w===2047)return I===0?x?-1/0:1/0:NaN;var B=w?Math.pow(2,w-52-1023)*(4503599627370496+I):Math.pow(2,-52-1022)*I;return x?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function u(d){var v=d.readByte(),w=v>>5,I=v&31;return{type:w,value:I}}function f(d,v){var w=d.value;if(w<24)return w;if(w==24)return v.readByte();if(w==25)return v.readUint16();if(w==26)return v.readUint32();if(w==27)return v.readUint64();if(w==31)return null;o("Additional info: "+w)()}function c(d,v,w){w.writeByte(d<<5|v)}function l(d,v,w){var I=d<<5;v<24?w.writeByte(I|v):v<256?(w.writeByte(I|24),w.writeByte(v)):v<65536?(w.writeByte(I|25),w.writeUint16(v)):v<4294967296?(w.writeByte(I|26),w.writeUint32(v)):(w.writeByte(I|27),w.writeUint64(v))}var g=new Error;function y(d){var v=u(d);switch(v.type){case 0:return f(v,d);case 1:return-1-f(v,d);case 2:return d.readChunk(f(v,d));case 3:var w=d.readChunk(f(v,d));return w.toString("utf-8");case 4:case 5:var I=f(v,d),A=[];if(I!==null){v.type===5&&(I*=2);for(var x=0;x<I;x++)A[x]=y(d)}else for(var B;(B=y(d))!==g;)A.push(B);if(v.type===5){for(var E={},x=0;x<A.length;x+=2)E[A[x]]=A[x+1];return E}else return A;case 6:var _=f(v,d),C=i[_],A=y(d);return C?C(A):A;case 7:if(v.value===25)return d.readFloat16();if(v.value===26)return d.readFloat32();if(v.value===27)return d.readFloat64();switch(f(v,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+v.value)}default:throw new Error("Unsupported header: "+JSON.stringify(v))}throw new Error("not implemented yet")}function b(d,v){for(var w=0;w<n.length;w++){var I=n[w].fn(d);if(I!==void 0)return l(6,n[w].tag,v),b(I,v)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,v);else if(d===!0)l(7,21,v);else if(d===null)l(7,22,v);else if(d===void 0)l(7,23,v);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,v):l(0,d,v):(c(7,27,v),v.writeFloat64(d));else if(typeof d=="string")v.writeString(d,function(B){l(3,B,v)});else if(v.canWriteBinary(d))v.writeBinary(d,function(B){l(2,B,v)});else if(typeof d=="object")if(k.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,v);for(var w=0;w<d.length;w++)b(d[w],v)}else{var x=Object.keys(d);l(5,x.length,v);for(var w=0;w<x.length;w++){let E=parseInt(x[w]);isNaN(E)?(b(x[w],v),b(d[x[w]],v)):(b(E,v),b(d[x[w]],v))}}else throw new Error("CBOR encoding not supported: "+d)}var D=[],M=[],k={config:{useToJSON:!0},addWriter:function(d,v){typeof d=="string"?M.push(function(w){if(d===w)return v(w)}):M.push(d)},addReader:function(d,v){typeof d=="string"?D.push(function(w,I){if(d===I)return v(w,I)}):D.push(d)},encode:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return b(d,x),x.result()}throw new Error("Unsupported output format: "+v)},encodeDataItem:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return d.getTag()!==void 0?(b(d,x),x.result()):(b(d.getData(),x),x.result())}throw new Error("Unsupported output format: "+v)},decode:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x)return y(x)}throw new Error("Unsupported input format: "+v)},decodeToDataItem:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x){let B=y(x);return B instanceof r?B:new r(B)}}throw new Error("Unsupported input format: "+v)},addSemanticEncode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:v}),this},addSemanticDecode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=v,this}};function N(d){this.buffer=d,this.pos=0}N.prototype=Object.create(a.prototype),N.prototype.peekByte=function(){return this.buffer[this.pos]},N.prototype.readByte=function(){return this.buffer[this.pos++]},N.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},N.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},N.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},N.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},N.prototype.readChunk=function(d){var v=m.Buffer.alloc(d);return this.buffer.copy(v,0,this.pos,this.pos+=d),v};function K(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}K.prototype=Object.create(s.prototype),K.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},K.prototype.writeFloat32=function(d){var v=m.Buffer.alloc(4);v.writeFloatBE(d,0),this.writeBuffer(v)},K.prototype.writeFloat64=function(d){var v=m.Buffer.alloc(8);v.writeDoubleBE(d,0),this.writeBuffer(v)},K.prototype.writeString=function(d,v){var w=m.Buffer.from(d,"utf-8");v(w.length),this.writeBuffer(w)},K.prototype.canWriteBinary=function(d){return d instanceof m.Buffer},K.prototype.writeBinary=function(d,v){v(d.length),this.writeBuffer(d)},K.prototype.writeBuffer=function(d){if(!(d instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},K.prototype.result=function(){for(var d=m.Buffer.alloc(this.byteLength),v=0,w=0;w<this.completeBuffers.length;w++){var I=this.completeBuffers[w];I.copy(d,v,0,I.length),v+=I.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,v,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof m.Buffer=="function"&&(k.addReader(function(d,v){if(m.Buffer.isBuffer(d))return new N(d);if(v==="hex"||v==="base64"){var w=m.Buffer.from(d,v);return new N(w)}}),k.addWriter(function(d){if(!d||d==="buffer")return new K;if(d==="hex"||d==="base64")return new K(d)}));function X(d){this.hex=d,this.pos=0}X.prototype=Object.create(a.prototype),X.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},X.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},X.prototype.readChunk=function(d){var v=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof m.Buffer=="function"?m.Buffer.from(v,"hex"):new t(v)};function q(d){this.$hex="",this.finalFormat=d||"hex"}return q.prototype=Object.create(s.prototype),q.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var v=d.toString(16);v.length==1&&(v="0"+v),this.$hex+=v},q.prototype.canWriteBinary=function(d){return d instanceof t||typeof m.Buffer=="function"&&d instanceof m.Buffer},q.prototype.writeBinary=function(d,v){if(d instanceof t)v(d.length()),this.$hex+=d.$hex;else if(typeof m.Buffer=="function"&&d instanceof m.Buffer)v(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(d,v){var w=t.fromUtf8String(d);v(w.length()),this.$hex+=w.$hex},k.addReader(function(d,v){if(d instanceof t||d.$hex)return new X(d.$hex);if(v==="hex")return new X(d)}),k.addWriter(function(d){if(d==="hex")return new q}),k}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var An=T(hi=>{h();p();Object.defineProperty(hi,"__esModule",{value:!0});hi.DataItem=hi.addWriter=hi.addReader=hi.addSemanticEncode=hi.addSemanticDecode=hi.decodeToDataItem=hi.encodeDataItem=void 0;var eg=iF();Object.defineProperty(hi,"encodeDataItem",{enumerable:!0,get:function(){return eg.encodeDataItem}});Object.defineProperty(hi,"decodeToDataItem",{enumerable:!0,get:function(){return eg.decodeToDataItem}});Object.defineProperty(hi,"addSemanticDecode",{enumerable:!0,get:function(){return eg.addSemanticDecode}});Object.defineProperty(hi,"addSemanticEncode",{enumerable:!0,get:function(){return eg.addSemanticEncode}});Object.defineProperty(hi,"addReader",{enumerable:!0,get:function(){return eg.addReader}});Object.defineProperty(hi,"addWriter",{enumerable:!0,get:function(){return eg.addWriter}});var Dse=Bb();Object.defineProperty(hi,"DataItem",{enumerable:!0,get:function(){return Dse.DataItem}})});var kb=T(Nb=>{h();p();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.patchTags=void 0;var Mb=An(),oF=[],Rse=r=>{r.forEach(e=>{oF.find(t=>t===e)||(Mb.addSemanticEncode(e,t=>{if(t instanceof Mb.DataItem&&t.getTag()===e)return t.getData()}),Mb.addSemanticDecode(e,t=>new Mb.DataItem(t,e)),oF.push(e))})};Nb.patchTags=Rse});var On=T(tg=>{h();p();Object.defineProperty(tg,"__esModule",{value:!0});tg.RegistryTypes=tg.RegistryType=void 0;var po=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};tg.RegistryType=po;tg.RegistryTypes={UUID:new po("uuid",37),BYTES:new po("bytes",void 0),CRYPTO_HDKEY:new po("crypto-hdkey",303),CRYPTO_KEYPATH:new po("crypto-keypath",304),CRYPTO_COIN_INFO:new po("crypto-coin-info",305),CRYPTO_ECKEY:new po("crypto-eckey",306),CRYPTO_OUTPUT:new po("crypto-output",308),CRYPTO_PSBT:new po("crypto-psbt",310),CRYPTO_ACCOUNT:new po("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new po("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new po("qr-hardware-call",1201),KEY_DERIVATION_CALL:new po("key-derivation-call",1301)}});var qb=T(ch=>{h();p();Object.defineProperty(ch,"__esModule",{value:!0});ch.ScriptExpressions=ch.ScriptExpression=void 0;var Ho=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};ch.ScriptExpression=Ho;Ho.fromTag=r=>Object.values(ch.ScriptExpressions).find(t=>t.getTag()===r);ch.ScriptExpressions={SCRIPT_HASH:new Ho(400,"sh"),WITNESS_SCRIPT_HASH:new Ho(401,"wsh"),PUBLIC_KEY:new Ho(402,"pk"),PUBLIC_KEY_HASH:new Ho(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Ho(404,"wpkh"),COMBO:new Ho(405,"combo"),MULTISIG:new Ho(406,"multi"),SORTED_MULTISIG:new Ho(407,"sortedmulti"),ADDRESS:new Ho(307,"addr"),RAW_SCRIPT:new Ho(408,"raw")}});var iT=T(aF=>{h();p();Object.defineProperty(aF,"__esModule",{value:!0});var Bse=kb(),Pse=On(),Mse=qb(),Nse=Object.values(Pse.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),kse=Object.values(Mse.ScriptExpressions).map(r=>r.getTag());Bse.patchTags(Nse.concat(kse))});var go=T(Fb=>{h();p();Object.defineProperty(Fb,"__esModule",{value:!0});Fb.RegistryItem=void 0;var sF=pn(),qse=An(),oT=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return qse.encodeDataItem(this.toDataItem())},this.toUR=()=>new sF.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new sF.UREncoder(i,e,t,n)}}};Fb.RegistryItem=oT});var Lb=T(ff=>{h();p();Object.defineProperty(ff,"__esModule",{value:!0});ff.CryptoCoinInfo=ff.Network=ff.Type=void 0;var uF=An(),Fse=go(),Lse=On(),rg;(function(r){r.type="1",r.network="2"})(rg||(rg={}));var fF;(function(r){r[r.bitcoin=0]="bitcoin"})(fF=ff.Type||(ff.Type={}));var cF;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(cF=ff.Network||(ff.Network={}));var dh=class extends Fse.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Lse.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||fF.bitcoin,this.getNetwork=()=>this.network||cF.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[rg.type]=this.type),this.network&&(n[rg.network]=this.network),new uF.DataItem(n)}}};ff.CryptoCoinInfo=dh;dh.fromDataItem=r=>{let e=r.getData(),t=e[rg.type],n=e[rg.network];return new dh(t,n)};dh.fromCBOR=r=>{let e=uF.decodeToDataItem(r);return dh.fromDataItem(e)}});var jb=T(Ub=>{h();p();Object.defineProperty(Ub,"__esModule",{value:!0});Ub.PathComponent=void 0;var ng=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&ng.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Ub.PathComponent=ng;ng.HARDENED_BIT=2147483648});var av=T(Hb=>{h();p();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.CryptoKeypath=void 0;var lF=An(),dF=jb(),Use=go(),jse=On(),z0;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(z0||(z0={}));var lh=class extends Use.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>jse.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[z0.components]=o,this.sourceFingerprint&&(i[z0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[z0.depth]=this.depth),new lF.DataItem(i)}}};Hb.CryptoKeypath=lh;lh.fromDataItem=r=>{let e=r.getData(),t=[],n=e[z0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new dF.PathComponent({index:f,hardened:u})):t.push(new dF.PathComponent({hardened:u}))}let i=e[z0.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[z0.depth];return new lh(t,o,a)};lh.fromCBOR=r=>{let e=lF.decodeToDataItem(r);return lh.fromDataItem(e)}});var ig=T(Kb=>{h();p();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.CryptoHDKey=void 0;var Hse=wp(),Kse=Lb(),hF=av(),pF=An(),Vse=go(),zse=On(),ir;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(ir||(ir={}));var hh=class extends Vse.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),b=y[y.length-1];b&&(s=b.isHardened()?b.getIndex()+2147483648:b.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let c=m.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return Hse.encode(m.Buffer.concat([o,f,u,c,l,g]))},this.getRegistryType=()=>zse.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[ir.is_master]=!0,t[ir.key_data]=this.key,t[ir.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[ir.is_private]=this.privateKey),t[ir.key_data]=this.key,this.chainCode&&(t[ir.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[ir.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[ir.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[ir.children]=n}this.parentFingerprint&&(t[ir.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[ir.name]=this.name),this.note!==void 0&&(t[ir.note]=this.note)}return new pF.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};Kb.CryptoHDKey=hh;hh.fromDataItem=r=>{let e=r.getData(),t=!!e[ir.is_master],n=e[ir.is_private],i=e[ir.key_data],o=e[ir.chain_code],a=e[ir.use_info]?Kse.CryptoCoinInfo.fromDataItem(e[ir.use_info]):void 0,s=e[ir.origin]?hF.CryptoKeypath.fromDataItem(e[ir.origin]):void 0,u=e[ir.children]?hF.CryptoKeypath.fromDataItem(e[ir.children]):void 0,f=e[ir.parent_fingerprint],c;f&&(c=m.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[ir.name],g=e[ir.note];return new hh({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:c,name:l,note:g})};hh.fromCBOR=r=>{let e=pF.decodeToDataItem(r);return hh.fromDataItem(e)}});var sv=T(Vb=>{h();p();Object.defineProperty(Vb,"__esModule",{value:!0});Vb.CryptoECKey=void 0;var gF=An(),Gse=go(),Yse=On(),G0;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(G0||(G0={}));var ph=class extends Gse.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Yse.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[G0.curve]=this.curve),this.privateKey!==void 0&&(t[G0.private]=this.privateKey),t[G0.data]=this.data,new gF.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};Vb.CryptoECKey=ph;ph.fromDataItem=r=>{let e=r.getData(),t=e[G0.curve],n=e[G0.private],i=e[G0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new ph({data:i,curve:t,privateKey:n})};ph.fromCBOR=r=>{let e=gF.decodeToDataItem(r);return ph.fromDataItem(e)}});var yF=T(zb=>{h();p();Object.defineProperty(zb,"__esModule",{value:!0});zb.Bytes=void 0;var mF=An(),Wse=go(),Xse=On(),gh=class extends Wse.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Xse.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new mF.DataItem(this.bytes)}};zb.Bytes=gh;gh.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new gh(e)};gh.fromCBOR=r=>{let e=mF.decodeToDataItem(r);return gh.fromDataItem(e)}});var Yb=T(Gb=>{h();p();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.MultiKey=void 0;var Jse=sv(),$se=ig(),Zse=Bb(),Qse=go(),vF=On(),og;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(og||(og={}));var uv=class extends Qse.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[og.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[og.keys]=i,new Zse.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Gb.MultiKey=uv;uv.fromDataItem=r=>{let e=r.getData(),t=e[og.threshold],n=e[og.keys],i=[];return n.forEach(o=>{o.getTag()===vF.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push($se.CryptoHDKey.fromDataItem(o)):o.getTag()===vF.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Jse.CryptoECKey.fromDataItem(o))}),new uv(t,i)}});var cT=T(Wb=>{h();p();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.CryptoOutput=void 0;var sT=sv(),uT=ig(),fT=An(),_F=Yb(),eue=go(),xF=On(),aT=qb(),vc=class extends eue.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>xF.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof uT.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof sT.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof _F.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof sT.CryptoECKey||this.cryptoKey instanceof uT.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new fT.DataItem(n,a)}),n}}};Wb.CryptoOutput=vc;vc.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=aT.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof fT.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===aT.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===aT.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=_F.MultiKey.fromDataItem(t);return new vc(e,o)}if(t.getTag()===xF.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=uT.CryptoHDKey.fromDataItem(t);return new vc(e,o)}else{let o=sT.CryptoECKey.fromDataItem(t);return new vc(e,o)}};vc.fromCBOR=r=>{let e=fT.decodeToDataItem(r);return vc.fromDataItem(e)}});var dT=T(Xb=>{h();p();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.CryptoPSBT=void 0;var bF=An(),tue=go(),rue=On(),mh=class extends tue.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>rue.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new bF.DataItem(this.psbt)}};Xb.CryptoPSBT=mh;mh.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new mh(e)};mh.fromCBOR=r=>{let e=bF.decodeToDataItem(r);return mh.fromDataItem(e)}});var lT=T(Jb=>{h();p();Object.defineProperty(Jb,"__esModule",{value:!0});Jb.CryptoAccount=void 0;var nue=$b(),wF=An(),iue=go(),oue=On(),ag;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(ag||(ag={}));var yh=class extends iue.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>oue.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[ag.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[ag.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new wF.DataItem(n)}}};Jb.CryptoAccount=yh;yh.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[ag.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[ag.outputDescriptors].map(a=>nue.CryptoOutput.fromDataItem(a));return new yh(t,o)};yh.fromCBOR=r=>{let e=wF.decodeToDataItem(r);return yh.fromDataItem(e)}});var pT=T(Zb=>{h();p();Object.defineProperty(Zb,"__esModule",{value:!0});Zb.UnknownURTypeError=void 0;var hT=class extends Error{constructor(e){super(e)}};Zb.UnknownURTypeError=hT});var mT=T(Qb=>{h();p();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.URRegistryDecoder=void 0;var aue=pn(),Y0=$b(),W0=On(),sue=pT(),gT=class extends aue.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case W0.RegistryTypes.BYTES.getType():return Y0.Bytes.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_HDKEY.getType():return Y0.CryptoHDKey.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_KEYPATH.getType():return Y0.CryptoKeypath.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_COIN_INFO.getType():return Y0.CryptoCoinInfo.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_ECKEY.getType():return Y0.CryptoECKey.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_OUTPUT.getType():return Y0.CryptoOutput.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_PSBT.getType():return Y0.CryptoPSBT.fromCBOR(e.cbor);case W0.RegistryTypes.CRYPTO_ACCOUNT.getType():return Y0.CryptoAccount.fromCBOR(e.cbor);default:throw new sue.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};Qb.URRegistryDecoder=gT});var yT=T(e4=>{h();p();Object.defineProperty(e4,"__esModule",{value:!0});e4.CryptoMultiAccounts=void 0;var uue=On(),fue=ig(),cue=go(),SF=An(),X0;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(X0||(X0={}));var vh=class extends cue.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>uue.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[X0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[X0.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[X0.device]=this.device),new SF.DataItem(i)}}};e4.CryptoMultiAccounts=vh;vh.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[X0.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[X0.keys].map(s=>fue.CryptoHDKey.fromDataItem(s)),a=e[X0.device];return new vh(t,o,a)};vh.fromCBOR=r=>{let e=SF.decodeToDataItem(r);return vh.fromDataItem(e)}});var vT=T(df=>{h();p();Object.defineProperty(df,"__esModule",{value:!0});df.KeyDerivation=df.DerivationAlgorithm=df.Curve=void 0;var due=On(),lue=go(),CF=An(),hue=av(),cf;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(cf||(cf={}));var EF;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(EF=df.Curve||(df.Curve={}));var IF;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(IF=df.DerivationAlgorithm||(df.DerivationAlgorithm={}));var _h=class extends lue.RegistryItem{constructor(e,t=EF.secp256k1,n=IF.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>due.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return o[cf.keyPaths]=this.keypaths.map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s}),o[cf.curve]=this.curve,o[cf.algo]=this.algo,this.origin&&(o[cf.origin]=this.origin),new CF.DataItem(o)}}};df.KeyDerivation=_h;_h.fromDataItem=r=>{let e=r.getData(),t=e[cf.keyPaths].map(a=>hue.CryptoKeypath.fromDataItem(a)),n=e[cf.curve],i=e[cf.algo],o=e[cf.origin];return new _h(t,n,i,o)};_h.fromCBOR=r=>{let e=CF.decodeToDataItem(r);return _h.fromDataItem(e)}});var AF=T(bh=>{h();p();Object.defineProperty(bh,"__esModule",{value:!0});bh.QRHardwareCall=bh.QRHardwareCallName=void 0;var pue=On(),gue=go(),TF=An(),mue=vT(),sg;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(sg||(sg={}));var _T;(function(r){r.KeyDerivation="key-derivation"})(_T=bh.QRHardwareCallName||(bh.QRHardwareCallName={}));var xh=class extends gue.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>pue.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[sg.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[sg.params]=i,new TF.DataItem(n)}}};bh.QRHardwareCall=xh;xh.fromDataItem=r=>{let e=r.getData(),t=e[sg.name]||_T.KeyDerivation,n;switch(t){case _T.KeyDerivation:n=mue.KeyDerivation.fromDataItem(e[sg.params])}return new xh(t,n)};xh.fromCBOR=r=>{let e=TF.decodeToDataItem(r);return xh.fromDataItem(e)}});var DF=T(OF=>{h();p();Object.defineProperty(OF,"__esModule",{value:!0})});var $b=T(Re=>{h();p();Object.defineProperty(Re,"__esModule",{value:!0});Re.Buffer=Re.extend=Re.PathComponent=Re.ScriptExpressions=Re.MultiKey=Re.CryptoPSBT=Re.CryptoOutput=Re.CryptoECKey=Re.CryptoCoinInfoNetwork=Re.CryptoCoinInfoType=Re.CryptoCoinInfo=Re.CryptoKeypath=Re.CryptoMultiAccounts=Re.CryptoHDKey=Re.CryptoAccount=Re.Bytes=Re.URRegistryDecoder=Re.DataItem=void 0;var Ur=qy();iT();var yue=Op();Object.defineProperty(Re,"Buffer",{enumerable:!0,get:function(){return yue.Buffer}});var BF=ig();Object.defineProperty(Re,"CryptoHDKey",{enumerable:!0,get:function(){return BF.CryptoHDKey}});var PF=av();Object.defineProperty(Re,"CryptoKeypath",{enumerable:!0,get:function(){return PF.CryptoKeypath}});var fg=Lb();Object.defineProperty(Re,"CryptoCoinInfo",{enumerable:!0,get:function(){return fg.CryptoCoinInfo}});Object.defineProperty(Re,"CryptoCoinInfoType",{enumerable:!0,get:function(){return fg.Type}});Object.defineProperty(Re,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return fg.Network}});var MF=sv();Object.defineProperty(Re,"CryptoECKey",{enumerable:!0,get:function(){return MF.CryptoECKey}});var NF=yF();Object.defineProperty(Re,"Bytes",{enumerable:!0,get:function(){return NF.Bytes}});var kF=cT();Object.defineProperty(Re,"CryptoOutput",{enumerable:!0,get:function(){return kF.CryptoOutput}});var qF=dT();Object.defineProperty(Re,"CryptoPSBT",{enumerable:!0,get:function(){return qF.CryptoPSBT}});var FF=lT();Object.defineProperty(Re,"CryptoAccount",{enumerable:!0,get:function(){return FF.CryptoAccount}});var LF=mT();Object.defineProperty(Re,"URRegistryDecoder",{enumerable:!0,get:function(){return LF.URRegistryDecoder}});var UF=Yb();Object.defineProperty(Re,"MultiKey",{enumerable:!0,get:function(){return UF.MultiKey}});var jF=qb();Object.defineProperty(Re,"ScriptExpressions",{enumerable:!0,get:function(){return jF.ScriptExpressions}});var HF=jb();Object.defineProperty(Re,"PathComponent",{enumerable:!0,get:function(){return HF.PathComponent}});var vue=go(),RF=On(),ug=An(),_ue=An();Object.defineProperty(Re,"DataItem",{enumerable:!0,get:function(){return _ue.DataItem}});var xue=kb(),KF=yT();Object.defineProperty(Re,"CryptoMultiAccounts",{enumerable:!0,get:function(){return KF.CryptoMultiAccounts}});var bue={URRegistryDecoder:LF.URRegistryDecoder,Bytes:NF.Bytes,CryptoAccount:FF.CryptoAccount,CryptoHDKey:BF.CryptoHDKey,CryptoMultiAccounts:KF.CryptoMultiAccounts,CryptoKeypath:PF.CryptoKeypath,CryptoCoinInfo:fg.CryptoCoinInfo,CryptoCoinInfoType:fg.Type,CryptoCoinInfoNetwork:fg.Network,CryptoECKey:MF.CryptoECKey,CryptoOutput:kF.CryptoOutput,CryptoPSBT:qF.CryptoPSBT,MultiKey:UF.MultiKey,ScriptExpressions:jF.ScriptExpressions,PathComponent:HF.PathComponent},wue={addReader:ug.addReader,addSemanticDecode:ug.addSemanticDecode,addSemanticEncode:ug.addSemanticEncode,addWriter:ug.addWriter,patchTags:xue.patchTags},Sue={RegistryTypes:RF.RegistryTypes,RegistryItem:vue.RegistryItem,RegistryType:RF.RegistryType,decodeToDataItem:ug.decodeToDataItem,encodeDataItem:ug.encodeDataItem,cbor:wue};Re.extend=Sue;Ur.__exportStar(pT(),Re);Ur.__exportStar(mT(),Re);Ur.__exportStar(An(),Re);Ur.__exportStar(lT(),Re);Ur.__exportStar(dT(),Re);Ur.__exportStar(ig(),Re);Ur.__exportStar(yT(),Re);Ur.__exportStar(AF(),Re);Ur.__exportStar(vT(),Re);Ur.__exportStar(cT(),Re);Ur.__exportStar(Lb(),Re);Ur.__exportStar(sv(),Re);Ur.__exportStar(Yb(),Re);Ur.__exportStar(av(),Re);Ur.__exportStar(iT(),Re);Ur.__exportStar(jb(),Re);Ur.__exportStar(go(),Re);Ur.__exportStar(On(),Re);Ur.__exportStar(DF(),Re);Ur.__exportStar(kb(),Re);Re.default=bue});var VF=T(J0=>{h();p();Object.defineProperty(J0,"__esModule",{value:!0});var pi=$b(),Cue=h3(),xT={EVM_SIGN_REQUEST:new pi.RegistryType("evm-sign-request",4101),EVM_SIGNATURE:new pi.RegistryType("evm-signature",4102)},{decodeToDataItem:Eue,RegistryTypes:Iue}=pi.extend,cg,Dn;(cg=J0.SignDataType||(J0.SignDataType={}))[cg.arbitrary=1]="arbitrary",cg[cg.cosmosAmino=2]="cosmosAmino",cg[cg.cosmosDirect=3]="cosmosDirect",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.customChainIdentifier=4]="customChainIdentifier",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"}(Dn||(Dn={}));var lf=class extends pi.RegistryItem{constructor(e){super(),this.getRegistryType=()=>xT.EVM_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getCustomChainIdentifier=()=>this.customChainIdentifier,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};t[Dn.requestId]=new pi.DataItem(this.requestId,Iue.UUID.getTag()),t[Dn.signData]=this.signData,t[Dn.dataType]=this.dataType,t[Dn.customChainIdentifier]=this.customChainIdentifier;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Dn.derivationPath]=n,this.address&&(t[Dn.address]=this.address),this.origin&&(t[Dn.origin]=this.origin),new pi.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.customChainIdentifier=e.customChainIdentifier,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static parsePath(e,t){let n=e.replace(/[m|M]\//,"").split("/").map(i=>{let o=parseInt(i.replace("'","")),a=!1;return i.endsWith("'")&&(a=!0),new pi.PathComponent({index:o,hardened:a})});return new pi.CryptoKeypath(n,m.Buffer.from(t,"hex"))}static constructEvmRequest(e,t,n,i,o,a,s,u){return new lf({requestId:m.Buffer.from(Cue.parse(e)),signData:n,dataType:i||J0.SignDataType.arbitrary,customChainIdentifier:o,derivationPath:lf.parsePath(a,t),address:s,origin:u})}};lf.fromDataItem=r=>{let e=r.getData(),t=e[Dn.requestId]?e[Dn.requestId].getData():void 0;return new lf({requestId:t,signData:e[Dn.signData],dataType:e[Dn.dataType],customChainIdentifier:e[Dn.customChainIdentifier],derivationPath:pi.CryptoKeypath.fromDataItem(e[Dn.derivationPath]),address:e[Dn.address],origin:e[Dn.origin]})},lf.fromCBOR=r=>{let e=Eue(r);return lf.fromDataItem(e)};var{RegistryTypes:Tue,decodeToDataItem:Aue}=pi.extend,dg;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(dg||(dg={}));var wh=class extends pi.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>xT.EVM_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return n[dg.requestId]=new pi.DataItem(this.requestId,Tue.UUID.getTag()),n[dg.signature]=this.signature,new pi.DataItem(n)},this.signature=e,this.requestId=t}};wh.fromDataItem=r=>{let e=r.getData(),t=e[dg.signature],n=e[dg.requestId].getData();return new wh(t,n)},wh.fromCBOR=r=>{let e=Aue(r);return wh.fromDataItem(e)},pi.patchTags(Object.values(xT).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(pi).forEach(function(r){r!=="default"&&Object.defineProperty(J0,r,{enumerable:!0,get:function(){return pi[r]}})}),J0.EvmSignRequest=lf,J0.EvmSignature=wh});var GF=T((MUe,zF)=>{h();p();zF.exports=VF()});var YF=T(r4=>{h();p();Object.defineProperty(r4,"__esModule",{value:!0});r4.KeystoneEvmSDK=void 0;var Sh=En(),Oue=Uo(),fv=GF(),t4=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==Oue.URType.EvmSignature)throw new Error("type not match");let t=fv.EvmSignature.fromCBOR(e.cbor);return{requestId:(0,Sh.uuidStringify)(t.getRequestId()),signature:(0,Sh.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,dataType:n,customChainIdentifier:i,account:o,origin:a}){var s;let u=new fv.CryptoKeypath((0,Sh.parsePath)(o.path).map(f=>new fv.PathComponent(f)),(0,Sh.toBuffer)(o.xfp));return new fv.EvmSignRequest({signData:(0,Sh.toBuffer)(t),dataType:n,customChainIdentifier:i,derivationPath:u,requestId:(0,Sh.uuidParse)(e),address:o.address!==void 0?(0,Sh.toBuffer)(o.address.substring(o.address.startsWith("0x")?2:0)):void 0,origin:a??((s=this.config)===null||s===void 0?void 0:s.origin)}).toUR()}};t4.DataType=fv.SignDataType;r4.KeystoneEvmSDK=t4});function cv(){if(!n4&&(n4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!n4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n4(Due)}var n4,Due,bT=pe(()=>{h();p();Due=new Uint8Array(16)});var WF,XF=pe(()=>{h();p();WF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Rue(r){return typeof r=="string"&&WF.test(r)}var $0,dv=pe(()=>{h();p();XF();$0=Rue});function Bue(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Rn[r[e+0]]+Rn[r[e+1]]+Rn[r[e+2]]+Rn[r[e+3]]+"-"+Rn[r[e+4]]+Rn[r[e+5]]+"-"+Rn[r[e+6]]+Rn[r[e+7]]+"-"+Rn[r[e+8]]+Rn[r[e+9]]+"-"+Rn[r[e+10]]+Rn[r[e+11]]+Rn[r[e+12]]+Rn[r[e+13]]+Rn[r[e+14]]+Rn[r[e+15]]).toLowerCase();if(!$0(t))throw TypeError("Stringified UUID is invalid");return t}var Rn,i4,Z0,lv=pe(()=>{h();p();dv();Rn=[];for(i4=0;i4<256;++i4)Rn.push((i4+256).toString(16).substr(1));Z0=Bue});function Pue(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||JF,a=r.clockseq!==void 0?r.clockseq:wT;if(o==null||a==null){var s=r.random||(r.rng||cv)();o==null&&(o=JF=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=wT=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:CT+1,c=u-ST+(f-CT)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>ST)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ST=u,CT=f,wT=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||Z0(i)}var JF,wT,ST,CT,$F,ZF=pe(()=>{h();p();bT();lv();ST=0,CT=0;$F=Pue});function Mue(r){if(!$0(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var o4,ET=pe(()=>{h();p();dv();o4=Mue});function Nue(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function a4(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=Nue(i)),typeof o=="string"&&(o=o4(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Z0(u)}try{n.name=r}catch{}return n.DNS=kue,n.URL=que,n}var kue,que,IT=pe(()=>{h();p();lv();ET();kue="6ba7b810-9dad-11d1-80b4-00c04fd430c8",que="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Fue(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Lue(Uue(jue(r),r.length*8))}function Lue(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function QF(r){return(r+64>>>9<<4)+14+1}function Uue(r,e){r[e>>5]|=128<<e%32,r[QF(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=gi(t,n,i,o,r[a],7,-680876936),o=gi(o,t,n,i,r[a+1],12,-389564586),i=gi(i,o,t,n,r[a+2],17,606105819),n=gi(n,i,o,t,r[a+3],22,-1044525330),t=gi(t,n,i,o,r[a+4],7,-176418897),o=gi(o,t,n,i,r[a+5],12,1200080426),i=gi(i,o,t,n,r[a+6],17,-1473231341),n=gi(n,i,o,t,r[a+7],22,-45705983),t=gi(t,n,i,o,r[a+8],7,1770035416),o=gi(o,t,n,i,r[a+9],12,-1958414417),i=gi(i,o,t,n,r[a+10],17,-42063),n=gi(n,i,o,t,r[a+11],22,-1990404162),t=gi(t,n,i,o,r[a+12],7,1804603682),o=gi(o,t,n,i,r[a+13],12,-40341101),i=gi(i,o,t,n,r[a+14],17,-1502002290),n=gi(n,i,o,t,r[a+15],22,1236535329),t=mi(t,n,i,o,r[a+1],5,-165796510),o=mi(o,t,n,i,r[a+6],9,-1069501632),i=mi(i,o,t,n,r[a+11],14,643717713),n=mi(n,i,o,t,r[a],20,-373897302),t=mi(t,n,i,o,r[a+5],5,-701558691),o=mi(o,t,n,i,r[a+10],9,38016083),i=mi(i,o,t,n,r[a+15],14,-660478335),n=mi(n,i,o,t,r[a+4],20,-405537848),t=mi(t,n,i,o,r[a+9],5,568446438),o=mi(o,t,n,i,r[a+14],9,-1019803690),i=mi(i,o,t,n,r[a+3],14,-187363961),n=mi(n,i,o,t,r[a+8],20,1163531501),t=mi(t,n,i,o,r[a+13],5,-1444681467),o=mi(o,t,n,i,r[a+2],9,-51403784),i=mi(i,o,t,n,r[a+7],14,1735328473),n=mi(n,i,o,t,r[a+12],20,-1926607734),t=yi(t,n,i,o,r[a+5],4,-378558),o=yi(o,t,n,i,r[a+8],11,-2022574463),i=yi(i,o,t,n,r[a+11],16,1839030562),n=yi(n,i,o,t,r[a+14],23,-35309556),t=yi(t,n,i,o,r[a+1],4,-1530992060),o=yi(o,t,n,i,r[a+4],11,1272893353),i=yi(i,o,t,n,r[a+7],16,-155497632),n=yi(n,i,o,t,r[a+10],23,-1094730640),t=yi(t,n,i,o,r[a+13],4,681279174),o=yi(o,t,n,i,r[a],11,-358537222),i=yi(i,o,t,n,r[a+3],16,-722521979),n=yi(n,i,o,t,r[a+6],23,76029189),t=yi(t,n,i,o,r[a+9],4,-640364487),o=yi(o,t,n,i,r[a+12],11,-421815835),i=yi(i,o,t,n,r[a+15],16,530742520),n=yi(n,i,o,t,r[a+2],23,-995338651),t=vi(t,n,i,o,r[a],6,-198630844),o=vi(o,t,n,i,r[a+7],10,1126891415),i=vi(i,o,t,n,r[a+14],15,-1416354905),n=vi(n,i,o,t,r[a+5],21,-57434055),t=vi(t,n,i,o,r[a+12],6,1700485571),o=vi(o,t,n,i,r[a+3],10,-1894986606),i=vi(i,o,t,n,r[a+10],15,-1051523),n=vi(n,i,o,t,r[a+1],21,-2054922799),t=vi(t,n,i,o,r[a+8],6,1873313359),o=vi(o,t,n,i,r[a+15],10,-30611744),i=vi(i,o,t,n,r[a+6],15,-1560198380),n=vi(n,i,o,t,r[a+13],21,1309151649),t=vi(t,n,i,o,r[a+4],6,-145523070),o=vi(o,t,n,i,r[a+11],10,-1120210379),i=vi(i,o,t,n,r[a+2],15,718787259),n=vi(n,i,o,t,r[a+9],21,-343485551),t=Q0(t,s),n=Q0(n,u),i=Q0(i,f),o=Q0(o,c)}return[t,n,i,o]}function jue(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(QF(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Q0(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Hue(r,e){return r<<e|r>>>32-e}function s4(r,e,t,n,i,o){return Q0(Hue(Q0(Q0(e,r),Q0(n,o)),i),t)}function gi(r,e,t,n,i,o,a){return s4(e&t|~e&n,r,e,i,o,a)}function mi(r,e,t,n,i,o,a){return s4(e&n|t&~n,r,e,i,o,a)}function yi(r,e,t,n,i,o,a){return s4(e^t^n,r,e,i,o,a)}function vi(r,e,t,n,i,o,a){return s4(t^(e|~n),r,e,i,o,a)}var eL,tL=pe(()=>{h();p();eL=Fue});var Kue,rL,nL=pe(()=>{h();p();IT();tL();Kue=a4("v3",48,eL),rL=Kue});function Vue(r,e,t){r=r||{};var n=r.random||(r.rng||cv)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Z0(n)}var iL,oL=pe(()=>{h();p();bT();lv();iL=Vue});function zue(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function TT(r,e){return r<<e|r>>>32-e}function Gue(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=TT(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=TT(D,5)+zue(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=TT(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var aL,sL=pe(()=>{h();p();aL=Gue});var Yue,uL,fL=pe(()=>{h();p();IT();sL();Yue=a4("v5",80,aL),uL=Yue});var cL,dL=pe(()=>{h();p();cL="00000000-0000-0000-0000-000000000000"});function Wue(r){if(!$0(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var lL,hL=pe(()=>{h();p();dv();lL=Wue});var pL={};g0(pL,{NIL:()=>cL,parse:()=>o4,stringify:()=>Z0,v1:()=>$F,v3:()=>rL,v4:()=>iL,v5:()=>uL,validate:()=>$0,version:()=>lL});var gL=pe(()=>{h();p();ZF();nL();oL();fL();dL();hL();dv();lv();ET()});var yL=T((Qje,mL)=>{h();p();var kt={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Va(r,e){if(!r)throw new Error(e)}function Ot(r,e,t){if(Va(e instanceof Uint8Array,`Expected ${r} to be an Uint8Array`),t!==void 0)if(Array.isArray(t)){let n=t.join(", "),i=`Expected ${r} to be an Uint8Array with length [${n}]`;Va(t.includes(e.length),i)}else{let n=`Expected ${r} to be an Uint8Array with length ${t}`;Va(e.length===t,n)}}function Ch(r){Va(lg(r)==="Boolean","Expected compressed to be a Boolean")}function du(r=t=>new Uint8Array(t),e){return typeof r=="function"&&(r=r(e)),Ot("output",r,e),r}function lg(r){return Object.prototype.toString.call(r).slice(8,-1)}mL.exports=r=>({contextRandomize(e){switch(Va(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Ot("seed",e,32),r.contextRandomize(e)){case 1:throw new Error(kt.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Ot("private key",e,32),r.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Ot("private key",e,32),r.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(kt.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,t){switch(Ot("private key",e,32),Ot("tweak",t,32),r.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(kt.TWEAK_ADD)}},privateKeyTweakMul(e,t){switch(Ot("private key",e,32),Ot("tweak",t,32),r.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(kt.TWEAK_MUL)}},publicKeyVerify(e){return Ot("public key",e,[33,65]),r.publicKeyVerify(e)===0},publicKeyCreate(e,t=!0,n){switch(Ot("private key",e,32),Ch(t),n=du(n,t?33:65),r.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(kt.SECKEY_INVALID);case 2:throw new Error(kt.PUBKEY_SERIALIZE)}},publicKeyConvert(e,t=!0,n){switch(Ot("public key",e,[33,65]),Ch(t),n=du(n,t?33:65),r.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(kt.PUBKEY_PARSE);case 2:throw new Error(kt.PUBKEY_SERIALIZE)}},publicKeyNegate(e,t=!0,n){switch(Ot("public key",e,[33,65]),Ch(t),n=du(n,t?33:65),r.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(kt.PUBKEY_PARSE);case 2:throw new Error(kt.IMPOSSIBLE_CASE);case 3:throw new Error(kt.PUBKEY_SERIALIZE)}},publicKeyCombine(e,t=!0,n){Va(Array.isArray(e),"Expected public keys to be an Array"),Va(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)Ot("public key",i,[33,65]);switch(Ch(t),n=du(n,t?33:65),r.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(kt.PUBKEY_PARSE);case 2:throw new Error(kt.PUBKEY_COMBINE);case 3:throw new Error(kt.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,t,n=!0,i){switch(Ot("public key",e,[33,65]),Ot("tweak",t,32),Ch(n),i=du(i,n?33:65),r.publicKeyTweakAdd(i,e,t)){case 0:return i;case 1:throw new Error(kt.PUBKEY_PARSE);case 2:throw new Error(kt.TWEAK_ADD)}},publicKeyTweakMul(e,t,n=!0,i){switch(Ot("public key",e,[33,65]),Ot("tweak",t,32),Ch(n),i=du(i,n?33:65),r.publicKeyTweakMul(i,e,t)){case 0:return i;case 1:throw new Error(kt.PUBKEY_PARSE);case 2:throw new Error(kt.TWEAK_MUL)}},signatureNormalize(e){switch(Ot("signature",e,64),r.signatureNormalize(e)){case 0:return e;case 1:throw new Error(kt.SIG_PARSE)}},signatureExport(e,t){Ot("signature",e,64),t=du(t,72);let n={output:t,outputlen:72};switch(r.signatureExport(n,e)){case 0:return t.slice(0,n.outputlen);case 1:throw new Error(kt.SIG_PARSE);case 2:throw new Error(kt.IMPOSSIBLE_CASE)}},signatureImport(e,t){switch(Ot("signature",e),t=du(t,64),r.signatureImport(t,e)){case 0:return t;case 1:throw new Error(kt.SIG_PARSE);case 2:throw new Error(kt.IMPOSSIBLE_CASE)}},ecdsaSign(e,t,n={},i){Ot("message",e,32),Ot("private key",t,32),Va(lg(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Ot("options.data",n.data),n.noncefn!==void 0&&Va(lg(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=du(i,64);let o={signature:i,recid:null};switch(r.ecdsaSign(o,e,t,n.data,n.noncefn)){case 0:return o;case 1:throw new Error(kt.SIGN);case 2:throw new Error(kt.IMPOSSIBLE_CASE)}},ecdsaVerify(e,t,n){switch(Ot("signature",e,64),Ot("message",t,32),Ot("public key",n,[33,65]),r.ecdsaVerify(e,t,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(kt.SIG_PARSE);case 2:throw new Error(kt.PUBKEY_PARSE)}},ecdsaRecover(e,t,n,i=!0,o){switch(Ot("signature",e,64),Va(lg(t)==="Number"&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),Ot("message",n,32),Ch(i),o=du(o,i?33:65),r.ecdsaRecover(o,e,t,n)){case 0:return o;case 1:throw new Error(kt.SIG_PARSE);case 2:throw new Error(kt.RECOVER);case 3:throw new Error(kt.IMPOSSIBLE_CASE)}},ecdh(e,t,n={},i){switch(Ot("public key",e,[33,65]),Ot("private key",t,32),Va(lg(n)==="Object","Expected options to be an Object"),n.data!==void 0&&Ot("options.data",n.data),n.hashfn!==void 0?(Va(lg(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&Ot("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&Ot("options.ybuf",n.ybuf,32),Ot("output",i)):i=du(i,32),r.ecdh(i,e,t,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(kt.PUBKEY_PARSE);case 2:throw new Error(kt.ECDH)}}})});var vL=T((rHe,Xue)=>{Xue.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var hf=T((_L,AT)=>{h();p();(function(r,e){"use strict";function t(I,x){if(!I)throw new Error(x||"Assertion failed")}function n(I,x){I.super_=x;var B=function(){};B.prototype=x.prototype,I.prototype=new B,I.prototype.constructor=I}function i(I,x,B){if(i.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((x==="le"||x==="be")&&(B=x,x=10),this._init(I||0,x||10,B||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{o=Qn().Buffer}catch{}i.isBN=function(x){return x instanceof i?!0:x!==null&&typeof x=="object"&&x.constructor.wordSize===i.wordSize&&Array.isArray(x.words)},i.max=function(x,B){return x.cmp(B)>0?x:B},i.min=function(x,B){return x.cmp(B)<0?x:B},i.prototype._init=function(x,B,E){if(typeof x=="number")return this._initNumber(x,B,E);if(typeof x=="object")return this._initArray(x,B,E);B==="hex"&&(B=16),t(B===(B|0)&&B>=2&&B<=36),x=x.toString().replace(/\s+/g,"");var _=0;x[0]==="-"&&_++,B===16?this._parseHex(x,_):this._parseBase(x,B,_),x[0]==="-"&&(this.negative=1),this.strip(),E==="le"&&this._initArray(this.toArray(),B,E)},i.prototype._initNumber=function(x,B,E){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[x&67108863],this.length=1):x<4503599627370496?(this.words=[x&67108863,x/67108864&67108863],this.length=2):(t(x<9007199254740992),this.words=[x&67108863,x/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),B,E)},i.prototype._initArray=function(x,B,E){if(t(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var C,A,U=0;if(E==="be")for(_=x.length-1,C=0;_>=0;_-=3)A=x[_]|x[_-1]<<8|x[_-2]<<16,this.words[C]|=A<<U&67108863,this.words[C+1]=A>>>26-U&67108863,U+=24,U>=26&&(U-=26,C++);else if(E==="le")for(_=0,C=0;_<x.length;_+=3)A=x[_]|x[_+1]<<8|x[_+2]<<16,this.words[C]|=A<<U&67108863,this.words[C+1]=A>>>26-U&67108863,U+=24,U>=26&&(U-=26,C++);return this.strip()};function a(I,x,B){for(var E=0,_=Math.min(I.length,B),C=x;C<_;C++){var A=I.charCodeAt(C)-48;E<<=4,A>=49&&A<=54?E|=A-49+10:A>=17&&A<=22?E|=A-17+10:E|=A&15}return E}i.prototype._parseHex=function(x,B){this.length=Math.ceil((x.length-B)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var _,C,A=0;for(E=x.length-6,_=0;E>=B;E-=6)C=a(x,E,E+6),this.words[_]|=C<<A&67108863,this.words[_+1]|=C>>>26-A&4194303,A+=24,A>=26&&(A-=26,_++);E+6!==B&&(C=a(x,B,E+6),this.words[_]|=C<<A&67108863,this.words[_+1]|=C>>>26-A&4194303),this.strip()};function s(I,x,B,E){for(var _=0,C=Math.min(I.length,B),A=x;A<C;A++){var U=I.charCodeAt(A)-48;_*=E,U>=49?_+=U-49+10:U>=17?_+=U-17+10:_+=U}return _}i.prototype._parseBase=function(x,B,E){this.words=[0],this.length=1;for(var _=0,C=1;C<=67108863;C*=B)_++;_--,C=C/B|0;for(var A=x.length-E,U=A%_,P=Math.min(A,A-U)+E,S=0,F=E;F<P;F+=_)S=s(x,F,F+_,B),this.imuln(C),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(U!==0){var W=1;for(S=s(x,F,x.length,B),F=0;F<U;F++)W*=B;this.imuln(W),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}},i.prototype.copy=function(x){x.words=new Array(this.length);for(var B=0;B<this.length;B++)x.words[B]=this.words[B];x.length=this.length,x.negative=this.negative,x.red=this.red},i.prototype.clone=function(){var x=new i(null);return this.copy(x),x},i.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(x,B){x=x||10,B=B|0||1;var E;if(x===16||x==="hex"){E="";for(var _=0,C=0,A=0;A<this.length;A++){var U=this.words[A],P=((U<<_|C)&16777215).toString(16);C=U>>>24-_&16777215,C!==0||A!==this.length-1?E=u[6-P.length]+P+E:E=P+E,_+=2,_>=26&&(_-=26,A--)}for(C!==0&&(E=C.toString(16)+E);E.length%B!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(x===(x|0)&&x>=2&&x<=36){var S=f[x],F=c[x];E="";var W=this.clone();for(W.negative=0;!W.isZero();){var R=W.modn(F).toString(x);W=W.idivn(F),W.isZero()?E=R+E:E=u[S-R.length]+R+E}for(this.isZero()&&(E="0"+E);E.length%B!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=this.words[1]*67108864:this.length===3&&this.words[2]===1?x+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(x,B){return t(typeof o<"u"),this.toArrayLike(o,x,B)},i.prototype.toArray=function(x,B){return this.toArrayLike(Array,x,B)},i.prototype.toArrayLike=function(x,B,E){var _=this.byteLength(),C=E||Math.max(1,_);t(_<=C,"byte array longer than desired length"),t(C>0,"Requested array length <= 0"),this.strip();var A=B==="le",U=new x(C),P,S,F=this.clone();if(A){for(S=0;!F.isZero();S++)P=F.andln(255),F.iushrn(8),U[S]=P;for(;S<C;S++)U[S]=0}else{for(S=0;S<C-_;S++)U[S]=0;for(S=0;!F.isZero();S++)P=F.andln(255),F.iushrn(8),U[C-S-1]=P}return U},Math.clz32?i.prototype._countBits=function(x){return 32-Math.clz32(x)}:i.prototype._countBits=function(x){var B=x,E=0;return B>=4096&&(E+=13,B>>>=13),B>=64&&(E+=7,B>>>=7),B>=8&&(E+=4,B>>>=4),B>=2&&(E+=2,B>>>=2),E+B},i.prototype._zeroBits=function(x){if(x===0)return 26;var B=x,E=0;return(B&8191)===0&&(E+=13,B>>>=13),(B&127)===0&&(E+=7,B>>>=7),(B&15)===0&&(E+=4,B>>>=4),(B&3)===0&&(E+=2,B>>>=2),(B&1)===0&&E++,E},i.prototype.bitLength=function(){var x=this.words[this.length-1],B=this._countBits(x);return(this.length-1)*26+B};function l(I){for(var x=new Array(I.bitLength()),B=0;B<x.length;B++){var E=B/26|0,_=B%26;x[B]=(I.words[E]&1<<_)>>>_}return x}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,B=0;B<this.length;B++){var E=this._zeroBits(this.words[B]);if(x+=E,E!==26)break}return x},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},i.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var B=0;B<x.length;B++)this.words[B]=this.words[B]|x.words[B];return this.strip()},i.prototype.ior=function(x){return t((this.negative|x.negative)===0),this.iuor(x)},i.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},i.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},i.prototype.iuand=function(x){var B;this.length>x.length?B=x:B=this;for(var E=0;E<B.length;E++)this.words[E]=this.words[E]&x.words[E];return this.length=B.length,this.strip()},i.prototype.iand=function(x){return t((this.negative|x.negative)===0),this.iuand(x)},i.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},i.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},i.prototype.iuxor=function(x){var B,E;this.length>x.length?(B=this,E=x):(B=x,E=this);for(var _=0;_<E.length;_++)this.words[_]=B.words[_]^E.words[_];if(this!==B)for(;_<B.length;_++)this.words[_]=B.words[_];return this.length=B.length,this.strip()},i.prototype.ixor=function(x){return t((this.negative|x.negative)===0),this.iuxor(x)},i.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},i.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},i.prototype.inotn=function(x){t(typeof x=="number"&&x>=0);var B=Math.ceil(x/26)|0,E=x%26;this._expand(B),E>0&&B--;for(var _=0;_<B;_++)this.words[_]=~this.words[_]&67108863;return E>0&&(this.words[_]=~this.words[_]&67108863>>26-E),this.strip()},i.prototype.notn=function(x){return this.clone().inotn(x)},i.prototype.setn=function(x,B){t(typeof x=="number"&&x>=0);var E=x/26|0,_=x%26;return this._expand(E+1),B?this.words[E]=this.words[E]|1<<_:this.words[E]=this.words[E]&~(1<<_),this.strip()},i.prototype.iadd=function(x){var B;if(this.negative!==0&&x.negative===0)return this.negative=0,B=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,B=this.isub(x),x.negative=1,B._normSign();var E,_;this.length>x.length?(E=this,_=x):(E=x,_=this);for(var C=0,A=0;A<_.length;A++)B=(E.words[A]|0)+(_.words[A]|0)+C,this.words[A]=B&67108863,C=B>>>26;for(;C!==0&&A<E.length;A++)B=(E.words[A]|0)+C,this.words[A]=B&67108863,C=B>>>26;if(this.length=E.length,C!==0)this.words[this.length]=C,this.length++;else if(E!==this)for(;A<E.length;A++)this.words[A]=E.words[A];return this},i.prototype.add=function(x){var B;return x.negative!==0&&this.negative===0?(x.negative=0,B=this.sub(x),x.negative^=1,B):x.negative===0&&this.negative!==0?(this.negative=0,B=x.sub(this),this.negative=1,B):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},i.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var B=this.iadd(x);return x.negative=1,B._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var E=this.cmp(x);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,C;E>0?(_=this,C=x):(_=x,C=this);for(var A=0,U=0;U<C.length;U++)B=(_.words[U]|0)-(C.words[U]|0)+A,A=B>>26,this.words[U]=B&67108863;for(;A!==0&&U<_.length;U++)B=(_.words[U]|0)+A,A=B>>26,this.words[U]=B&67108863;if(A===0&&U<_.length&&_!==this)for(;U<_.length;U++)this.words[U]=_.words[U];return this.length=Math.max(this.length,U),_!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(x){return this.clone().isub(x)};function g(I,x,B){B.negative=x.negative^I.negative;var E=I.length+x.length|0;B.length=E,E=E-1|0;var _=I.words[0]|0,C=x.words[0]|0,A=_*C,U=A&67108863,P=A/67108864|0;B.words[0]=U;for(var S=1;S<E;S++){for(var F=P>>>26,W=P&67108863,R=Math.min(S,x.length-1),J=Math.max(0,S-I.length+1);J<=R;J++){var he=S-J|0;_=I.words[he]|0,C=x.words[J]|0,A=_*C+W,F+=A/67108864|0,W=A&67108863}B.words[S]=W|0,P=F|0}return P!==0?B.words[S]=P|0:B.length--,B.strip()}var y=function(x,B,E){var _=x.words,C=B.words,A=E.words,U=0,P,S,F,W=_[0]|0,R=W&8191,J=W>>>13,he=_[1]|0,xe=he&8191,_e=he>>>13,ke=_[2]|0,Te=ke&8191,Oe=ke>>>13,cn=_[3]|0,De=cn&8191,je=cn>>>13,Fa=_[4]|0,Ze=Fa&8191,Qe=Fa>>>13,ko=_[5]|0,Ge=ko&8191,Je=ko>>>13,uo=_[6]|0,We=uo&8191,$e=uo>>>13,uc=_[7]|0,be=uc&8191,Ke=uc>>>13,V=_[8]|0,Y=V&8191,Z=V>>>13,ne=_[9]|0,oe=ne&8191,re=ne>>>13,ge=C[0]|0,se=ge&8191,fe=ge>>>13,Ue=C[1]|0,Ce=Ue&8191,Se=Ue>>>13,xt=C[2]|0,qe=xt&8191,Me=xt>>>13,au=C[3]|0,Ye=au&8191,nt=au>>>13,Al=C[4]|0,it=Al&8191,ot=Al>>>13,Ol=C[5]|0,at=Ol&8191,st=Ol>>>13,Dl=C[6]|0,ut=Dl&8191,ft=Dl>>>13,Rl=C[7]|0,ct=Rl&8191,dt=Rl>>>13,Bl=C[8]|0,lt=Bl&8191,ht=Bl>>>13,Pl=C[9]|0,pt=Pl&8191,gt=Pl>>>13;E.negative=x.negative^B.negative,E.length=19,P=Math.imul(R,se),S=Math.imul(R,fe),S=S+Math.imul(J,se)|0,F=Math.imul(J,fe);var p0=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(p0>>>26)|0,p0&=67108863,P=Math.imul(xe,se),S=Math.imul(xe,fe),S=S+Math.imul(_e,se)|0,F=Math.imul(_e,fe),P=P+Math.imul(R,Ce)|0,S=S+Math.imul(R,Se)|0,S=S+Math.imul(J,Ce)|0,F=F+Math.imul(J,Se)|0;var O=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(O>>>26)|0,O&=67108863,P=Math.imul(Te,se),S=Math.imul(Te,fe),S=S+Math.imul(Oe,se)|0,F=Math.imul(Oe,fe),P=P+Math.imul(xe,Ce)|0,S=S+Math.imul(xe,Se)|0,S=S+Math.imul(_e,Ce)|0,F=F+Math.imul(_e,Se)|0,P=P+Math.imul(R,qe)|0,S=S+Math.imul(R,Me)|0,S=S+Math.imul(J,qe)|0,F=F+Math.imul(J,Me)|0;var L=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(L>>>26)|0,L&=67108863,P=Math.imul(De,se),S=Math.imul(De,fe),S=S+Math.imul(je,se)|0,F=Math.imul(je,fe),P=P+Math.imul(Te,Ce)|0,S=S+Math.imul(Te,Se)|0,S=S+Math.imul(Oe,Ce)|0,F=F+Math.imul(Oe,Se)|0,P=P+Math.imul(xe,qe)|0,S=S+Math.imul(xe,Me)|0,S=S+Math.imul(_e,qe)|0,F=F+Math.imul(_e,Me)|0,P=P+Math.imul(R,Ye)|0,S=S+Math.imul(R,nt)|0,S=S+Math.imul(J,Ye)|0,F=F+Math.imul(J,nt)|0;var j=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(j>>>26)|0,j&=67108863,P=Math.imul(Ze,se),S=Math.imul(Ze,fe),S=S+Math.imul(Qe,se)|0,F=Math.imul(Qe,fe),P=P+Math.imul(De,Ce)|0,S=S+Math.imul(De,Se)|0,S=S+Math.imul(je,Ce)|0,F=F+Math.imul(je,Se)|0,P=P+Math.imul(Te,qe)|0,S=S+Math.imul(Te,Me)|0,S=S+Math.imul(Oe,qe)|0,F=F+Math.imul(Oe,Me)|0,P=P+Math.imul(xe,Ye)|0,S=S+Math.imul(xe,nt)|0,S=S+Math.imul(_e,Ye)|0,F=F+Math.imul(_e,nt)|0,P=P+Math.imul(R,it)|0,S=S+Math.imul(R,ot)|0,S=S+Math.imul(J,it)|0,F=F+Math.imul(J,ot)|0;var H=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(H>>>26)|0,H&=67108863,P=Math.imul(Ge,se),S=Math.imul(Ge,fe),S=S+Math.imul(Je,se)|0,F=Math.imul(Je,fe),P=P+Math.imul(Ze,Ce)|0,S=S+Math.imul(Ze,Se)|0,S=S+Math.imul(Qe,Ce)|0,F=F+Math.imul(Qe,Se)|0,P=P+Math.imul(De,qe)|0,S=S+Math.imul(De,Me)|0,S=S+Math.imul(je,qe)|0,F=F+Math.imul(je,Me)|0,P=P+Math.imul(Te,Ye)|0,S=S+Math.imul(Te,nt)|0,S=S+Math.imul(Oe,Ye)|0,F=F+Math.imul(Oe,nt)|0,P=P+Math.imul(xe,it)|0,S=S+Math.imul(xe,ot)|0,S=S+Math.imul(_e,it)|0,F=F+Math.imul(_e,ot)|0,P=P+Math.imul(R,at)|0,S=S+Math.imul(R,st)|0,S=S+Math.imul(J,at)|0,F=F+Math.imul(J,st)|0;var z=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(z>>>26)|0,z&=67108863,P=Math.imul(We,se),S=Math.imul(We,fe),S=S+Math.imul($e,se)|0,F=Math.imul($e,fe),P=P+Math.imul(Ge,Ce)|0,S=S+Math.imul(Ge,Se)|0,S=S+Math.imul(Je,Ce)|0,F=F+Math.imul(Je,Se)|0,P=P+Math.imul(Ze,qe)|0,S=S+Math.imul(Ze,Me)|0,S=S+Math.imul(Qe,qe)|0,F=F+Math.imul(Qe,Me)|0,P=P+Math.imul(De,Ye)|0,S=S+Math.imul(De,nt)|0,S=S+Math.imul(je,Ye)|0,F=F+Math.imul(je,nt)|0,P=P+Math.imul(Te,it)|0,S=S+Math.imul(Te,ot)|0,S=S+Math.imul(Oe,it)|0,F=F+Math.imul(Oe,ot)|0,P=P+Math.imul(xe,at)|0,S=S+Math.imul(xe,st)|0,S=S+Math.imul(_e,at)|0,F=F+Math.imul(_e,st)|0,P=P+Math.imul(R,ut)|0,S=S+Math.imul(R,ft)|0,S=S+Math.imul(J,ut)|0,F=F+Math.imul(J,ft)|0;var G=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(G>>>26)|0,G&=67108863,P=Math.imul(be,se),S=Math.imul(be,fe),S=S+Math.imul(Ke,se)|0,F=Math.imul(Ke,fe),P=P+Math.imul(We,Ce)|0,S=S+Math.imul(We,Se)|0,S=S+Math.imul($e,Ce)|0,F=F+Math.imul($e,Se)|0,P=P+Math.imul(Ge,qe)|0,S=S+Math.imul(Ge,Me)|0,S=S+Math.imul(Je,qe)|0,F=F+Math.imul(Je,Me)|0,P=P+Math.imul(Ze,Ye)|0,S=S+Math.imul(Ze,nt)|0,S=S+Math.imul(Qe,Ye)|0,F=F+Math.imul(Qe,nt)|0,P=P+Math.imul(De,it)|0,S=S+Math.imul(De,ot)|0,S=S+Math.imul(je,it)|0,F=F+Math.imul(je,ot)|0,P=P+Math.imul(Te,at)|0,S=S+Math.imul(Te,st)|0,S=S+Math.imul(Oe,at)|0,F=F+Math.imul(Oe,st)|0,P=P+Math.imul(xe,ut)|0,S=S+Math.imul(xe,ft)|0,S=S+Math.imul(_e,ut)|0,F=F+Math.imul(_e,ft)|0,P=P+Math.imul(R,ct)|0,S=S+Math.imul(R,dt)|0,S=S+Math.imul(J,ct)|0,F=F+Math.imul(J,dt)|0;var Q=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(Q>>>26)|0,Q&=67108863,P=Math.imul(Y,se),S=Math.imul(Y,fe),S=S+Math.imul(Z,se)|0,F=Math.imul(Z,fe),P=P+Math.imul(be,Ce)|0,S=S+Math.imul(be,Se)|0,S=S+Math.imul(Ke,Ce)|0,F=F+Math.imul(Ke,Se)|0,P=P+Math.imul(We,qe)|0,S=S+Math.imul(We,Me)|0,S=S+Math.imul($e,qe)|0,F=F+Math.imul($e,Me)|0,P=P+Math.imul(Ge,Ye)|0,S=S+Math.imul(Ge,nt)|0,S=S+Math.imul(Je,Ye)|0,F=F+Math.imul(Je,nt)|0,P=P+Math.imul(Ze,it)|0,S=S+Math.imul(Ze,ot)|0,S=S+Math.imul(Qe,it)|0,F=F+Math.imul(Qe,ot)|0,P=P+Math.imul(De,at)|0,S=S+Math.imul(De,st)|0,S=S+Math.imul(je,at)|0,F=F+Math.imul(je,st)|0,P=P+Math.imul(Te,ut)|0,S=S+Math.imul(Te,ft)|0,S=S+Math.imul(Oe,ut)|0,F=F+Math.imul(Oe,ft)|0,P=P+Math.imul(xe,ct)|0,S=S+Math.imul(xe,dt)|0,S=S+Math.imul(_e,ct)|0,F=F+Math.imul(_e,dt)|0,P=P+Math.imul(R,lt)|0,S=S+Math.imul(R,ht)|0,S=S+Math.imul(J,lt)|0,F=F+Math.imul(J,ht)|0;var ee=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(ee>>>26)|0,ee&=67108863,P=Math.imul(oe,se),S=Math.imul(oe,fe),S=S+Math.imul(re,se)|0,F=Math.imul(re,fe),P=P+Math.imul(Y,Ce)|0,S=S+Math.imul(Y,Se)|0,S=S+Math.imul(Z,Ce)|0,F=F+Math.imul(Z,Se)|0,P=P+Math.imul(be,qe)|0,S=S+Math.imul(be,Me)|0,S=S+Math.imul(Ke,qe)|0,F=F+Math.imul(Ke,Me)|0,P=P+Math.imul(We,Ye)|0,S=S+Math.imul(We,nt)|0,S=S+Math.imul($e,Ye)|0,F=F+Math.imul($e,nt)|0,P=P+Math.imul(Ge,it)|0,S=S+Math.imul(Ge,ot)|0,S=S+Math.imul(Je,it)|0,F=F+Math.imul(Je,ot)|0,P=P+Math.imul(Ze,at)|0,S=S+Math.imul(Ze,st)|0,S=S+Math.imul(Qe,at)|0,F=F+Math.imul(Qe,st)|0,P=P+Math.imul(De,ut)|0,S=S+Math.imul(De,ft)|0,S=S+Math.imul(je,ut)|0,F=F+Math.imul(je,ft)|0,P=P+Math.imul(Te,ct)|0,S=S+Math.imul(Te,dt)|0,S=S+Math.imul(Oe,ct)|0,F=F+Math.imul(Oe,dt)|0,P=P+Math.imul(xe,lt)|0,S=S+Math.imul(xe,ht)|0,S=S+Math.imul(_e,lt)|0,F=F+Math.imul(_e,ht)|0,P=P+Math.imul(R,pt)|0,S=S+Math.imul(R,gt)|0,S=S+Math.imul(J,pt)|0,F=F+Math.imul(J,gt)|0;var ie=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(ie>>>26)|0,ie&=67108863,P=Math.imul(oe,Ce),S=Math.imul(oe,Se),S=S+Math.imul(re,Ce)|0,F=Math.imul(re,Se),P=P+Math.imul(Y,qe)|0,S=S+Math.imul(Y,Me)|0,S=S+Math.imul(Z,qe)|0,F=F+Math.imul(Z,Me)|0,P=P+Math.imul(be,Ye)|0,S=S+Math.imul(be,nt)|0,S=S+Math.imul(Ke,Ye)|0,F=F+Math.imul(Ke,nt)|0,P=P+Math.imul(We,it)|0,S=S+Math.imul(We,ot)|0,S=S+Math.imul($e,it)|0,F=F+Math.imul($e,ot)|0,P=P+Math.imul(Ge,at)|0,S=S+Math.imul(Ge,st)|0,S=S+Math.imul(Je,at)|0,F=F+Math.imul(Je,st)|0,P=P+Math.imul(Ze,ut)|0,S=S+Math.imul(Ze,ft)|0,S=S+Math.imul(Qe,ut)|0,F=F+Math.imul(Qe,ft)|0,P=P+Math.imul(De,ct)|0,S=S+Math.imul(De,dt)|0,S=S+Math.imul(je,ct)|0,F=F+Math.imul(je,dt)|0,P=P+Math.imul(Te,lt)|0,S=S+Math.imul(Te,ht)|0,S=S+Math.imul(Oe,lt)|0,F=F+Math.imul(Oe,ht)|0,P=P+Math.imul(xe,pt)|0,S=S+Math.imul(xe,gt)|0,S=S+Math.imul(_e,pt)|0,F=F+Math.imul(_e,gt)|0;var te=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(te>>>26)|0,te&=67108863,P=Math.imul(oe,qe),S=Math.imul(oe,Me),S=S+Math.imul(re,qe)|0,F=Math.imul(re,Me),P=P+Math.imul(Y,Ye)|0,S=S+Math.imul(Y,nt)|0,S=S+Math.imul(Z,Ye)|0,F=F+Math.imul(Z,nt)|0,P=P+Math.imul(be,it)|0,S=S+Math.imul(be,ot)|0,S=S+Math.imul(Ke,it)|0,F=F+Math.imul(Ke,ot)|0,P=P+Math.imul(We,at)|0,S=S+Math.imul(We,st)|0,S=S+Math.imul($e,at)|0,F=F+Math.imul($e,st)|0,P=P+Math.imul(Ge,ut)|0,S=S+Math.imul(Ge,ft)|0,S=S+Math.imul(Je,ut)|0,F=F+Math.imul(Je,ft)|0,P=P+Math.imul(Ze,ct)|0,S=S+Math.imul(Ze,dt)|0,S=S+Math.imul(Qe,ct)|0,F=F+Math.imul(Qe,dt)|0,P=P+Math.imul(De,lt)|0,S=S+Math.imul(De,ht)|0,S=S+Math.imul(je,lt)|0,F=F+Math.imul(je,ht)|0,P=P+Math.imul(Te,pt)|0,S=S+Math.imul(Te,gt)|0,S=S+Math.imul(Oe,pt)|0,F=F+Math.imul(Oe,gt)|0;var ue=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(ue>>>26)|0,ue&=67108863,P=Math.imul(oe,Ye),S=Math.imul(oe,nt),S=S+Math.imul(re,Ye)|0,F=Math.imul(re,nt),P=P+Math.imul(Y,it)|0,S=S+Math.imul(Y,ot)|0,S=S+Math.imul(Z,it)|0,F=F+Math.imul(Z,ot)|0,P=P+Math.imul(be,at)|0,S=S+Math.imul(be,st)|0,S=S+Math.imul(Ke,at)|0,F=F+Math.imul(Ke,st)|0,P=P+Math.imul(We,ut)|0,S=S+Math.imul(We,ft)|0,S=S+Math.imul($e,ut)|0,F=F+Math.imul($e,ft)|0,P=P+Math.imul(Ge,ct)|0,S=S+Math.imul(Ge,dt)|0,S=S+Math.imul(Je,ct)|0,F=F+Math.imul(Je,dt)|0,P=P+Math.imul(Ze,lt)|0,S=S+Math.imul(Ze,ht)|0,S=S+Math.imul(Qe,lt)|0,F=F+Math.imul(Qe,ht)|0,P=P+Math.imul(De,pt)|0,S=S+Math.imul(De,gt)|0,S=S+Math.imul(je,pt)|0,F=F+Math.imul(je,gt)|0;var de=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(de>>>26)|0,de&=67108863,P=Math.imul(oe,it),S=Math.imul(oe,ot),S=S+Math.imul(re,it)|0,F=Math.imul(re,ot),P=P+Math.imul(Y,at)|0,S=S+Math.imul(Y,st)|0,S=S+Math.imul(Z,at)|0,F=F+Math.imul(Z,st)|0,P=P+Math.imul(be,ut)|0,S=S+Math.imul(be,ft)|0,S=S+Math.imul(Ke,ut)|0,F=F+Math.imul(Ke,ft)|0,P=P+Math.imul(We,ct)|0,S=S+Math.imul(We,dt)|0,S=S+Math.imul($e,ct)|0,F=F+Math.imul($e,dt)|0,P=P+Math.imul(Ge,lt)|0,S=S+Math.imul(Ge,ht)|0,S=S+Math.imul(Je,lt)|0,F=F+Math.imul(Je,ht)|0,P=P+Math.imul(Ze,pt)|0,S=S+Math.imul(Ze,gt)|0,S=S+Math.imul(Qe,pt)|0,F=F+Math.imul(Qe,gt)|0;var me=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(me>>>26)|0,me&=67108863,P=Math.imul(oe,at),S=Math.imul(oe,st),S=S+Math.imul(re,at)|0,F=Math.imul(re,st),P=P+Math.imul(Y,ut)|0,S=S+Math.imul(Y,ft)|0,S=S+Math.imul(Z,ut)|0,F=F+Math.imul(Z,ft)|0,P=P+Math.imul(be,ct)|0,S=S+Math.imul(be,dt)|0,S=S+Math.imul(Ke,ct)|0,F=F+Math.imul(Ke,dt)|0,P=P+Math.imul(We,lt)|0,S=S+Math.imul(We,ht)|0,S=S+Math.imul($e,lt)|0,F=F+Math.imul($e,ht)|0,P=P+Math.imul(Ge,pt)|0,S=S+Math.imul(Ge,gt)|0,S=S+Math.imul(Je,pt)|0,F=F+Math.imul(Je,gt)|0;var Ie=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,P=Math.imul(oe,ut),S=Math.imul(oe,ft),S=S+Math.imul(re,ut)|0,F=Math.imul(re,ft),P=P+Math.imul(Y,ct)|0,S=S+Math.imul(Y,dt)|0,S=S+Math.imul(Z,ct)|0,F=F+Math.imul(Z,dt)|0,P=P+Math.imul(be,lt)|0,S=S+Math.imul(be,ht)|0,S=S+Math.imul(Ke,lt)|0,F=F+Math.imul(Ke,ht)|0,P=P+Math.imul(We,pt)|0,S=S+Math.imul(We,gt)|0,S=S+Math.imul($e,pt)|0,F=F+Math.imul($e,gt)|0;var yt=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(yt>>>26)|0,yt&=67108863,P=Math.imul(oe,ct),S=Math.imul(oe,dt),S=S+Math.imul(re,ct)|0,F=Math.imul(re,dt),P=P+Math.imul(Y,lt)|0,S=S+Math.imul(Y,ht)|0,S=S+Math.imul(Z,lt)|0,F=F+Math.imul(Z,ht)|0,P=P+Math.imul(be,pt)|0,S=S+Math.imul(be,gt)|0,S=S+Math.imul(Ke,pt)|0,F=F+Math.imul(Ke,gt)|0;var He=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(He>>>26)|0,He&=67108863,P=Math.imul(oe,lt),S=Math.imul(oe,ht),S=S+Math.imul(re,lt)|0,F=Math.imul(re,ht),P=P+Math.imul(Y,pt)|0,S=S+Math.imul(Y,gt)|0,S=S+Math.imul(Z,pt)|0,F=F+Math.imul(Z,gt)|0;var wr=(U+P|0)+((S&8191)<<13)|0;U=(F+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,P=Math.imul(oe,pt),S=Math.imul(oe,gt),S=S+Math.imul(re,pt)|0,F=Math.imul(re,gt);var Ut=(U+P|0)+((S&8191)<<13)|0;return U=(F+(S>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,A[0]=p0,A[1]=O,A[2]=L,A[3]=j,A[4]=H,A[5]=z,A[6]=G,A[7]=Q,A[8]=ee,A[9]=ie,A[10]=te,A[11]=ue,A[12]=de,A[13]=me,A[14]=Ie,A[15]=yt,A[16]=He,A[17]=wr,A[18]=Ut,U!==0&&(A[19]=U,E.length++),E};Math.imul||(y=g);function b(I,x,B){B.negative=x.negative^I.negative,B.length=I.length+x.length;for(var E=0,_=0,C=0;C<B.length-1;C++){var A=_;_=0;for(var U=E&67108863,P=Math.min(C,x.length-1),S=Math.max(0,C-I.length+1);S<=P;S++){var F=C-S,W=I.words[F]|0,R=x.words[S]|0,J=W*R,he=J&67108863;A=A+(J/67108864|0)|0,he=he+U|0,U=he&67108863,A=A+(he>>>26)|0,_+=A>>>26,A&=67108863}B.words[C]=U,E=A,A=_}return E!==0?B.words[C]=E:B.length--,B.strip()}function D(I,x,B){var E=new M;return E.mulp(I,x,B)}i.prototype.mulTo=function(x,B){var E,_=this.length+x.length;return this.length===10&&x.length===10?E=y(this,x,B):_<63?E=g(this,x,B):_<1024?E=b(this,x,B):E=D(this,x,B),E};function M(I,x){this.x=I,this.y=x}M.prototype.makeRBT=function(x){for(var B=new Array(x),E=i.prototype._countBits(x)-1,_=0;_<x;_++)B[_]=this.revBin(_,E,x);return B},M.prototype.revBin=function(x,B,E){if(x===0||x===E-1)return x;for(var _=0,C=0;C<B;C++)_|=(x&1)<<B-C-1,x>>=1;return _},M.prototype.permute=function(x,B,E,_,C,A){for(var U=0;U<A;U++)_[U]=B[x[U]],C[U]=E[x[U]]},M.prototype.transform=function(x,B,E,_,C,A){this.permute(A,x,B,E,_,C);for(var U=1;U<C;U<<=1)for(var P=U<<1,S=Math.cos(2*Math.PI/P),F=Math.sin(2*Math.PI/P),W=0;W<C;W+=P)for(var R=S,J=F,he=0;he<U;he++){var xe=E[W+he],_e=_[W+he],ke=E[W+he+U],Te=_[W+he+U],Oe=R*ke-J*Te;Te=R*Te+J*ke,ke=Oe,E[W+he]=xe+ke,_[W+he]=_e+Te,E[W+he+U]=xe-ke,_[W+he+U]=_e-Te,he!==P&&(Oe=S*R-F*J,J=S*J+F*R,R=Oe)}},M.prototype.guessLen13b=function(x,B){var E=Math.max(B,x)|1,_=E&1,C=0;for(E=E/2|0;E;E=E>>>1)C++;return 1<<C+1+_},M.prototype.conjugate=function(x,B,E){if(!(E<=1))for(var _=0;_<E/2;_++){var C=x[_];x[_]=x[E-_-1],x[E-_-1]=C,C=B[_],B[_]=-B[E-_-1],B[E-_-1]=-C}},M.prototype.normalize13b=function(x,B){for(var E=0,_=0;_<B/2;_++){var C=Math.round(x[2*_+1]/B)*8192+Math.round(x[2*_]/B)+E;x[_]=C&67108863,C<67108864?E=0:E=C/67108864|0}return x},M.prototype.convert13b=function(x,B,E,_){for(var C=0,A=0;A<B;A++)C=C+(x[A]|0),E[2*A]=C&8191,C=C>>>13,E[2*A+1]=C&8191,C=C>>>13;for(A=2*B;A<_;++A)E[A]=0;t(C===0),t((C&-8192)===0)},M.prototype.stub=function(x){for(var B=new Array(x),E=0;E<x;E++)B[E]=0;return B},M.prototype.mulp=function(x,B,E){var _=2*this.guessLen13b(x.length,B.length),C=this.makeRBT(_),A=this.stub(_),U=new Array(_),P=new Array(_),S=new Array(_),F=new Array(_),W=new Array(_),R=new Array(_),J=E.words;J.length=_,this.convert13b(x.words,x.length,U,_),this.convert13b(B.words,B.length,F,_),this.transform(U,A,P,S,_,C),this.transform(F,A,W,R,_,C);for(var he=0;he<_;he++){var xe=P[he]*W[he]-S[he]*R[he];S[he]=P[he]*R[he]+S[he]*W[he],P[he]=xe}return this.conjugate(P,S,_),this.transform(P,S,J,A,_,C),this.conjugate(J,A,_),this.normalize13b(J,_),E.negative=x.negative^B.negative,E.length=x.length+B.length,E.strip()},i.prototype.mul=function(x){var B=new i(null);return B.words=new Array(this.length+x.length),this.mulTo(x,B)},i.prototype.mulf=function(x){var B=new i(null);return B.words=new Array(this.length+x.length),D(this,x,B)},i.prototype.imul=function(x){return this.clone().mulTo(x,this)},i.prototype.imuln=function(x){t(typeof x=="number"),t(x<67108864);for(var B=0,E=0;E<this.length;E++){var _=(this.words[E]|0)*x,C=(_&67108863)+(B&67108863);B>>=26,B+=_/67108864|0,B+=C>>>26,this.words[E]=C&67108863}return B!==0&&(this.words[E]=B,this.length++),this},i.prototype.muln=function(x){return this.clone().imuln(x)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(x){var B=l(x);if(B.length===0)return new i(1);for(var E=this,_=0;_<B.length&&B[_]===0;_++,E=E.sqr());if(++_<B.length)for(var C=E.sqr();_<B.length;_++,C=C.sqr())B[_]!==0&&(E=E.mul(C));return E},i.prototype.iushln=function(x){t(typeof x=="number"&&x>=0);var B=x%26,E=(x-B)/26,_=67108863>>>26-B<<26-B,C;if(B!==0){var A=0;for(C=0;C<this.length;C++){var U=this.words[C]&_,P=(this.words[C]|0)-U<<B;this.words[C]=P|A,A=U>>>26-B}A&&(this.words[C]=A,this.length++)}if(E!==0){for(C=this.length-1;C>=0;C--)this.words[C+E]=this.words[C];for(C=0;C<E;C++)this.words[C]=0;this.length+=E}return this.strip()},i.prototype.ishln=function(x){return t(this.negative===0),this.iushln(x)},i.prototype.iushrn=function(x,B,E){t(typeof x=="number"&&x>=0);var _;B?_=(B-B%26)/26:_=0;var C=x%26,A=Math.min((x-C)/26,this.length),U=67108863^67108863>>>C<<C,P=E;if(_-=A,_=Math.max(0,_),P){for(var S=0;S<A;S++)P.words[S]=this.words[S];P.length=A}if(A!==0)if(this.length>A)for(this.length-=A,S=0;S<this.length;S++)this.words[S]=this.words[S+A];else this.words[0]=0,this.length=1;var F=0;for(S=this.length-1;S>=0&&(F!==0||S>=_);S--){var W=this.words[S]|0;this.words[S]=F<<26-C|W>>>C,F=W&U}return P&&F!==0&&(P.words[P.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(x,B,E){return t(this.negative===0),this.iushrn(x,B,E)},i.prototype.shln=function(x){return this.clone().ishln(x)},i.prototype.ushln=function(x){return this.clone().iushln(x)},i.prototype.shrn=function(x){return this.clone().ishrn(x)},i.prototype.ushrn=function(x){return this.clone().iushrn(x)},i.prototype.testn=function(x){t(typeof x=="number"&&x>=0);var B=x%26,E=(x-B)/26,_=1<<B;if(this.length<=E)return!1;var C=this.words[E];return!!(C&_)},i.prototype.imaskn=function(x){t(typeof x=="number"&&x>=0);var B=x%26,E=(x-B)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(B!==0&&E++,this.length=Math.min(E,this.length),B!==0){var _=67108863^67108863>>>B<<B;this.words[this.length-1]&=_}return this.strip()},i.prototype.maskn=function(x){return this.clone().imaskn(x)},i.prototype.iaddn=function(x){return t(typeof x=="number"),t(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(this.words[0]|0)<x?(this.words[0]=x-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},i.prototype._iaddn=function(x){this.words[0]+=x;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},i.prototype.isubn=function(x){if(t(typeof x=="number"),t(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},i.prototype.addn=function(x){return this.clone().iaddn(x)},i.prototype.subn=function(x){return this.clone().isubn(x)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(x,B,E){var _=x.length+E,C;this._expand(_);var A,U=0;for(C=0;C<x.length;C++){A=(this.words[C+E]|0)+U;var P=(x.words[C]|0)*B;A-=P&67108863,U=(A>>26)-(P/67108864|0),this.words[C+E]=A&67108863}for(;C<this.length-E;C++)A=(this.words[C+E]|0)+U,U=A>>26,this.words[C+E]=A&67108863;if(U===0)return this.strip();for(t(U===-1),U=0,C=0;C<this.length;C++)A=-(this.words[C]|0)+U,U=A>>26,this.words[C]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(x,B){var E=this.length-x.length,_=this.clone(),C=x,A=C.words[C.length-1]|0,U=this._countBits(A);E=26-U,E!==0&&(C=C.ushln(E),_.iushln(E),A=C.words[C.length-1]|0);var P=_.length-C.length,S;if(B!=="mod"){S=new i(null),S.length=P+1,S.words=new Array(S.length);for(var F=0;F<S.length;F++)S.words[F]=0}var W=_.clone()._ishlnsubmul(C,1,P);W.negative===0&&(_=W,S&&(S.words[P]=1));for(var R=P-1;R>=0;R--){var J=(_.words[C.length+R]|0)*67108864+(_.words[C.length+R-1]|0);for(J=Math.min(J/A|0,67108863),_._ishlnsubmul(C,J,R);_.negative!==0;)J--,_.negative=0,_._ishlnsubmul(C,1,R),_.isZero()||(_.negative^=1);S&&(S.words[R]=J)}return S&&S.strip(),_.strip(),B!=="div"&&E!==0&&_.iushrn(E),{div:S||null,mod:_}},i.prototype.divmod=function(x,B,E){if(t(!x.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var _,C,A;return this.negative!==0&&x.negative===0?(A=this.neg().divmod(x,B),B!=="mod"&&(_=A.div.neg()),B!=="div"&&(C=A.mod.neg(),E&&C.negative!==0&&C.iadd(x)),{div:_,mod:C}):this.negative===0&&x.negative!==0?(A=this.divmod(x.neg(),B),B!=="mod"&&(_=A.div.neg()),{div:_,mod:A.mod}):(this.negative&x.negative)!==0?(A=this.neg().divmod(x.neg(),B),B!=="div"&&(C=A.mod.neg(),E&&C.negative!==0&&C.isub(x)),{div:A.div,mod:C}):x.length>this.length||this.cmp(x)<0?{div:new i(0),mod:this}:x.length===1?B==="div"?{div:this.divn(x.words[0]),mod:null}:B==="mod"?{div:null,mod:new i(this.modn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new i(this.modn(x.words[0]))}:this._wordDiv(x,B)},i.prototype.div=function(x){return this.divmod(x,"div",!1).div},i.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},i.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},i.prototype.divRound=function(x){var B=this.divmod(x);if(B.mod.isZero())return B.div;var E=B.div.negative!==0?B.mod.isub(x):B.mod,_=x.ushrn(1),C=x.andln(1),A=E.cmp(_);return A<0||C===1&&A===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},i.prototype.modn=function(x){t(x<=67108863);for(var B=(1<<26)%x,E=0,_=this.length-1;_>=0;_--)E=(B*E+(this.words[_]|0))%x;return E},i.prototype.idivn=function(x){t(x<=67108863);for(var B=0,E=this.length-1;E>=0;E--){var _=(this.words[E]|0)+B*67108864;this.words[E]=_/x|0,B=_%x}return this.strip()},i.prototype.divn=function(x){return this.clone().idivn(x)},i.prototype.egcd=function(x){t(x.negative===0),t(!x.isZero());var B=this,E=x.clone();B.negative!==0?B=B.umod(x):B=B.clone();for(var _=new i(1),C=new i(0),A=new i(0),U=new i(1),P=0;B.isEven()&&E.isEven();)B.iushrn(1),E.iushrn(1),++P;for(var S=E.clone(),F=B.clone();!B.isZero();){for(var W=0,R=1;(B.words[0]&R)===0&&W<26;++W,R<<=1);if(W>0)for(B.iushrn(W);W-- >0;)(_.isOdd()||C.isOdd())&&(_.iadd(S),C.isub(F)),_.iushrn(1),C.iushrn(1);for(var J=0,he=1;(E.words[0]&he)===0&&J<26;++J,he<<=1);if(J>0)for(E.iushrn(J);J-- >0;)(A.isOdd()||U.isOdd())&&(A.iadd(S),U.isub(F)),A.iushrn(1),U.iushrn(1);B.cmp(E)>=0?(B.isub(E),_.isub(A),C.isub(U)):(E.isub(B),A.isub(_),U.isub(C))}return{a:A,b:U,gcd:E.iushln(P)}},i.prototype._invmp=function(x){t(x.negative===0),t(!x.isZero());var B=this,E=x.clone();B.negative!==0?B=B.umod(x):B=B.clone();for(var _=new i(1),C=new i(0),A=E.clone();B.cmpn(1)>0&&E.cmpn(1)>0;){for(var U=0,P=1;(B.words[0]&P)===0&&U<26;++U,P<<=1);if(U>0)for(B.iushrn(U);U-- >0;)_.isOdd()&&_.iadd(A),_.iushrn(1);for(var S=0,F=1;(E.words[0]&F)===0&&S<26;++S,F<<=1);if(S>0)for(E.iushrn(S);S-- >0;)C.isOdd()&&C.iadd(A),C.iushrn(1);B.cmp(E)>=0?(B.isub(E),_.isub(C)):(E.isub(B),C.isub(_))}var W;return B.cmpn(1)===0?W=_:W=C,W.cmpn(0)<0&&W.iadd(x),W},i.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var B=this.clone(),E=x.clone();B.negative=0,E.negative=0;for(var _=0;B.isEven()&&E.isEven();_++)B.iushrn(1),E.iushrn(1);do{for(;B.isEven();)B.iushrn(1);for(;E.isEven();)E.iushrn(1);var C=B.cmp(E);if(C<0){var A=B;B=E,E=A}else if(C===0||E.cmpn(1)===0)break;B.isub(E)}while(!0);return E.iushln(_)},i.prototype.invm=function(x){return this.egcd(x).a.umod(x)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(x){return this.words[0]&x},i.prototype.bincn=function(x){t(typeof x=="number");var B=x%26,E=(x-B)/26,_=1<<B;if(this.length<=E)return this._expand(E+1),this.words[E]|=_,this;for(var C=_,A=E;C!==0&&A<this.length;A++){var U=this.words[A]|0;U+=C,C=U>>>26,U&=67108863,this.words[A]=U}return C!==0&&(this.words[A]=C,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(x){var B=x<0;if(this.negative!==0&&!B)return-1;if(this.negative===0&&B)return 1;this.strip();var E;if(this.length>1)E=1;else{B&&(x=-x),t(x<=67108863,"Number is too big");var _=this.words[0]|0;E=_===x?0:_<x?-1:1}return this.negative!==0?-E|0:E},i.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var B=this.ucmp(x);return this.negative!==0?-B|0:B},i.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var B=0,E=this.length-1;E>=0;E--){var _=this.words[E]|0,C=x.words[E]|0;if(_!==C){_<C?B=-1:_>C&&(B=1);break}}return B},i.prototype.gtn=function(x){return this.cmpn(x)===1},i.prototype.gt=function(x){return this.cmp(x)===1},i.prototype.gten=function(x){return this.cmpn(x)>=0},i.prototype.gte=function(x){return this.cmp(x)>=0},i.prototype.ltn=function(x){return this.cmpn(x)===-1},i.prototype.lt=function(x){return this.cmp(x)===-1},i.prototype.lten=function(x){return this.cmpn(x)<=0},i.prototype.lte=function(x){return this.cmp(x)<=0},i.prototype.eqn=function(x){return this.cmpn(x)===0},i.prototype.eq=function(x){return this.cmp(x)===0},i.red=function(x){return new v(x)},i.prototype.toRed=function(x){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(x){return this.red=x,this},i.prototype.forceRed=function(x){return t(!this.red,"Already a number in reduction context"),this._forceRed(x)},i.prototype.redAdd=function(x){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},i.prototype.redIAdd=function(x){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},i.prototype.redSub=function(x){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},i.prototype.redISub=function(x){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},i.prototype.redShl=function(x){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},i.prototype.redMul=function(x){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},i.prototype.redIMul=function(x){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(x){return t(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var k={k256:null,p224:null,p192:null,p25519:null};function N(I,x){this.name=I,this.p=new i(x,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var x=new i(null);return x.words=new Array(Math.ceil(this.n/13)),x},N.prototype.ireduce=function(x){var B=x,E;do this.split(B,this.tmp),B=this.imulK(B),B=B.iadd(this.tmp),E=B.bitLength();while(E>this.n);var _=E<this.n?-1:B.ucmp(this.p);return _===0?(B.words[0]=0,B.length=1):_>0?B.isub(this.p):B.strip!==void 0?B.strip():B._strip(),B},N.prototype.split=function(x,B){x.iushrn(this.n,0,B)},N.prototype.imulK=function(x){return x.imul(this.k)};function K(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,N),K.prototype.split=function(x,B){for(var E=4194303,_=Math.min(x.length,9),C=0;C<_;C++)B.words[C]=x.words[C];if(B.length=_,x.length<=9){x.words[0]=0,x.length=1;return}var A=x.words[9];for(B.words[B.length++]=A&E,C=10;C<x.length;C++){var U=x.words[C]|0;x.words[C-10]=(U&E)<<4|A>>>22,A=U}A>>>=22,x.words[C-10]=A,A===0&&x.length>10?x.length-=10:x.length-=9},K.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var B=0,E=0;E<x.length;E++){var _=x.words[E]|0;B+=_*977,x.words[E]=B&67108863,B=_*64+(B/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x};function X(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(X,N);function q(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(q,N);function d(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(d,N),d.prototype.imulK=function(x){for(var B=0,E=0;E<x.length;E++){var _=(x.words[E]|0)*19+B,C=_&67108863;_>>>=26,x.words[E]=C,B=_}return B!==0&&(x.words[x.length++]=B),x},i._prime=function(x){if(k[x])return k[x];var B;if(x==="k256")B=new K;else if(x==="p224")B=new X;else if(x==="p192")B=new q;else if(x==="p25519")B=new d;else throw new Error("Unknown prime "+x);return k[x]=B,B};function v(I){if(typeof I=="string"){var x=i._prime(I);this.m=x.p,this.prime=x}else t(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}v.prototype._verify1=function(x){t(x.negative===0,"red works only with positives"),t(x.red,"red works only with red numbers")},v.prototype._verify2=function(x,B){t((x.negative|B.negative)===0,"red works only with positives"),t(x.red&&x.red===B.red,"red works only with red numbers")},v.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):x.umod(this.m)._forceRed(this)},v.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},v.prototype.add=function(x,B){this._verify2(x,B);var E=x.add(B);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},v.prototype.iadd=function(x,B){this._verify2(x,B);var E=x.iadd(B);return E.cmp(this.m)>=0&&E.isub(this.m),E},v.prototype.sub=function(x,B){this._verify2(x,B);var E=x.sub(B);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},v.prototype.isub=function(x,B){this._verify2(x,B);var E=x.isub(B);return E.cmpn(0)<0&&E.iadd(this.m),E},v.prototype.shl=function(x,B){return this._verify1(x),this.imod(x.ushln(B))},v.prototype.imul=function(x,B){return this._verify2(x,B),this.imod(x.imul(B))},v.prototype.mul=function(x,B){return this._verify2(x,B),this.imod(x.mul(B))},v.prototype.isqr=function(x){return this.imul(x,x.clone())},v.prototype.sqr=function(x){return this.mul(x,x)},v.prototype.sqrt=function(x){if(x.isZero())return x.clone();var B=this.m.andln(3);if(t(B%2===1),B===3){var E=this.m.add(new i(1)).iushrn(2);return this.pow(x,E)}for(var _=this.m.subn(1),C=0;!_.isZero()&&_.andln(1)===0;)C++,_.iushrn(1);t(!_.isZero());var A=new i(1).toRed(this),U=A.redNeg(),P=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,P).cmp(U)!==0;)S.redIAdd(U);for(var F=this.pow(S,_),W=this.pow(x,_.addn(1).iushrn(1)),R=this.pow(x,_),J=C;R.cmp(A)!==0;){for(var he=R,xe=0;he.cmp(A)!==0;xe++)he=he.redSqr();t(xe<J);var _e=this.pow(F,new i(1).iushln(J-xe-1));W=W.redMul(_e),F=_e.redSqr(),R=R.redMul(F),J=xe}return W},v.prototype.invm=function(x){var B=x._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},v.prototype.pow=function(x,B){if(B.isZero())return new i(1).toRed(this);if(B.cmpn(1)===0)return x.clone();var E=4,_=new Array(1<<E);_[0]=new i(1).toRed(this),_[1]=x;for(var C=2;C<_.length;C++)_[C]=this.mul(_[C-1],x);var A=_[0],U=0,P=0,S=B.bitLength()%26;for(S===0&&(S=26),C=B.length-1;C>=0;C--){for(var F=B.words[C],W=S-1;W>=0;W--){var R=F>>W&1;if(A!==_[0]&&(A=this.sqr(A)),R===0&&U===0){P=0;continue}U<<=1,U|=R,P++,!(P!==E&&(C!==0||W!==0))&&(A=this.mul(A,_[U]),P=0,U=0)}S=26}return A},v.prototype.convertTo=function(x){var B=x.umod(this.m);return B===x?B.clone():B},v.prototype.convertFrom=function(x){var B=x.clone();return B.red=null,B},i.mont=function(x){return new w(x)};function w(I){v.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(w,v),w.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},w.prototype.convertFrom=function(x){var B=this.imod(x.mul(this.rinv));return B.red=null,B},w.prototype.imul=function(x,B){if(x.isZero()||B.isZero())return x.words[0]=0,x.length=1,x;var E=x.imul(B),_=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(_).iushrn(this.shift),A=C;return C.cmp(this.m)>=0?A=C.isub(this.m):C.cmpn(0)<0&&(A=C.iadd(this.m)),A._forceRed(this)},w.prototype.mul=function(x,B){if(x.isZero()||B.isZero())return new i(0)._forceRed(this);var E=x.mul(B),_=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=E.isub(_).iushrn(this.shift),A=C;return C.cmp(this.m)>=0?A=C.isub(this.m):C.cmpn(0)<0&&(A=C.iadd(this.m)),A._forceRed(this)},w.prototype.invm=function(x){var B=this.imod(x._invmp(this.m).mul(this.r2));return B._forceRed(this)}})(typeof AT>"u"||AT,_L)});var ca=T(xL=>{h();p();var lu=xL,Jue=hf(),$ue=Qee(),u4=ete();lu.assert=$ue;lu.toArray=u4.toArray;lu.zero2=u4.zero2;lu.toHex=u4.toHex;lu.encode=u4.encode;function Zue(r,e,t){var n=new Array(Math.max(r.bitLength(),t)+1);n.fill(0);for(var i=1<<e+1,o=r.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(u>(i>>1)-1?s=(i>>1)-u:s=u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n}lu.getNAF=Zue;function Que(r,e){var t=[[],[]];r=r.clone(),e=e.clone();for(var n=0,i=0,o;r.cmpn(-n)>0||e.cmpn(-i)>0;){var a=r.andln(3)+n&3,s=e.andln(3)+i&3;a===3&&(a=-1),s===3&&(s=-1);var u;(a&1)===0?u=0:(o=r.andln(7)+n&7,(o===3||o===5)&&s===2?u=-a:u=a),t[0].push(u);var f;(s&1)===0?f=0:(o=e.andln(7)+i&7,(o===3||o===5)&&a===2?f=-s:f=s),t[1].push(f),2*n===u+1&&(n=1-n),2*i===f+1&&(i=1-i),r.iushrn(1),e.iushrn(1)}return t}lu.getJSF=Que;function efe(r,e,t){var n="_"+e;r.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=t.call(this)}}lu.cachedProperty=efe;function tfe(r){return typeof r=="string"?lu.toArray(r,"hex"):r}lu.parseBytes=tfe;function rfe(r){return new Jue(r,"hex","le")}lu.intFromLE=rfe});var pv=T((uHe,bL)=>{h();p();var Eh=hf(),hv=ca(),f4=hv.getNAF,nfe=hv.getJSF,c4=hv.assert;function ed(r,e){this.type=r,this.p=new Eh(e.p,16),this.red=e.prime?Eh.red(e.prime):Eh.mont(this.p),this.zero=new Eh(0).toRed(this.red),this.one=new Eh(1).toRed(this.red),this.two=new Eh(2).toRed(this.red),this.n=e.n&&new Eh(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}bL.exports=ed;ed.prototype.point=function(){throw new Error("Not implemented")};ed.prototype.validate=function(){throw new Error("Not implemented")};ed.prototype._fixedNafMul=function(e,t){c4(e.precomputed);var n=e._getDoubles(),i=f4(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;var a=[],s,u;for(s=0;s<i.length;s+=n.step){u=0;for(var f=s+n.step-1;f>=s;f--)u=(u<<1)+i[f];a.push(u)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),g=o;g>0;g--){for(s=0;s<a.length;s++)u=a[s],u===g?l=l.mixedAdd(n.points[s]):u===-g&&(l=l.mixedAdd(n.points[s].neg()));c=c.add(l)}return c.toP()};ed.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,a=f4(t,n,this._bitLength),s=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&a[u]===0;u--)f++;if(u>=0&&f++,s=s.dblp(f),u<0)break;var c=a[u];c4(c!==0),e.type==="affine"?c>0?s=s.mixedAdd(o[c-1>>1]):s=s.mixedAdd(o[-c-1>>1].neg()):c>0?s=s.add(o[c-1>>1]):s=s.add(o[-c-1>>1].neg())}return e.type==="affine"?s.toP():s};ed.prototype._wnafMulAdd=function(e,t,n,i,o){var a=this._wnafT1,s=this._wnafT2,u=this._wnafT3,f=0,c,l,g;for(c=0;c<i;c++){g=t[c];var y=g._getNAFPoints(e);a[c]=y.wnd,s[c]=y.points}for(c=i-1;c>=1;c-=2){var b=c-1,D=c;if(a[b]!==1||a[D]!==1){u[b]=f4(n[b],a[b],this._bitLength),u[D]=f4(n[D],a[D],this._bitLength),f=Math.max(u[b].length,f),f=Math.max(u[D].length,f);continue}var M=[t[b],null,null,t[D]];t[b].y.cmp(t[D].y)===0?(M[1]=t[b].add(t[D]),M[2]=t[b].toJ().mixedAdd(t[D].neg())):t[b].y.cmp(t[D].y.redNeg())===0?(M[1]=t[b].toJ().mixedAdd(t[D]),M[2]=t[b].add(t[D].neg())):(M[1]=t[b].toJ().mixedAdd(t[D]),M[2]=t[b].toJ().mixedAdd(t[D].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],N=nfe(n[b],n[D]);for(f=Math.max(N[0].length,f),u[b]=new Array(f),u[D]=new Array(f),l=0;l<f;l++){var K=N[0][l]|0,X=N[1][l]|0;u[b][l]=k[(K+1)*3+(X+1)],u[D][l]=0,s[b]=M}}var q=this.jpoint(null,null,null),d=this._wnafT4;for(c=f;c>=0;c--){for(var v=0;c>=0;){var w=!0;for(l=0;l<i;l++)d[l]=u[l][c]|0,d[l]!==0&&(w=!1);if(!w)break;v++,c--}if(c>=0&&v++,q=q.dblp(v),c<0)break;for(l=0;l<i;l++){var I=d[l];I!==0&&(I>0?g=s[l][I-1>>1]:I<0&&(g=s[l][-I-1>>1].neg()),g.type==="affine"?q=q.mixedAdd(g):q=q.add(g))}}for(c=0;c<i;c++)s[c]=null;return o?q:q.toP()};function za(r,e){this.curve=r,this.type=e,this.precomputed=null}ed.BasePoint=za;za.prototype.eq=function(){throw new Error("Not implemented")};za.prototype.validate=function(){return this.curve.validate(this)};ed.prototype.decodePoint=function(e,t){e=hv.toArray(e,t);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?c4(e[e.length-1]%2===0):e[0]===7&&c4(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};za.prototype.encodeCompressed=function(e){return this.encode(e,!0)};za.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))};za.prototype.encode=function(e,t){return hv.encode(this._encode(t),e)};za.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};za.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};za.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<t;o+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};za.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)t[o]=t[o-1].add(i);return{wnd:e,points:t}};za.prototype._getBeta=function(){return null};za.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}});var SL=T((dHe,wL)=>{h();p();var ife=ca(),Er=hf(),OT=rE(),hg=pv(),ofe=ife.assert;function Ga(r){hg.call(this,"short",r),this.a=new Er(r.a,16).toRed(this.red),this.b=new Er(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}OT(Ga,hg);wL.exports=Ga;Ga.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,n;if(e.beta)t=new Er(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)n=new Er(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))===0?n=o[0]:(n=o[1],ofe(this.g.mul(n).x.cmp(this.g.x.redMul(t))===0))}var a;return e.basis?a=e.basis.map(function(s){return{a:new Er(s.a,16),b:new Er(s.b,16)}}):a=this._getEndoBasis(n),{beta:t,lambda:n,basis:a}}};Ga.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Er.mont(e),n=new Er(2).toRed(t).redInvm(),i=n.redNeg(),o=new Er(3).toRed(t).redNeg().redSqrt().redMul(n),a=i.redAdd(o).fromRed(),s=i.redSub(o).fromRed();return[a,s]};Ga.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Er(1),a=new Er(0),s=new Er(0),u=new Er(1),f,c,l,g,y,b,D,M=0,k,N;n.cmpn(0)!==0;){var K=i.div(n);k=i.sub(K.mul(n)),N=s.sub(K.mul(o));var X=u.sub(K.mul(a));if(!l&&k.cmp(t)<0)f=D.neg(),c=o,l=k.neg(),g=N;else if(l&&++M===2)break;D=k,i=n,n=k,s=o,o=N,u=a,a=X}y=k.neg(),b=N;var q=l.sqr().add(g.sqr()),d=y.sqr().add(b.sqr());return d.cmp(q)>=0&&(y=f,b=c),l.negative&&(l=l.neg(),g=g.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:l,b:g},{a:y,b}]};Ga.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],o=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),s=o.mul(n.a),u=a.mul(i.a),f=o.mul(n.b),c=a.mul(i.b),l=e.sub(s).sub(u),g=f.add(c).neg();return{k1:l,k2:g}};Ga.prototype.pointFromX=function(e,t){e=new Er(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)};Ga.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),o=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Ga.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),u=e[a],f=u._getBeta();s.k1.negative&&(s.k1.ineg(),u=u.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),i[a*2]=u,i[a*2+1]=f,o[a*2]=s.k1,o[a*2+1]=s.k2}for(var c=this._wnafMulAdd(1,i,o,a*2,n),l=0;l<a*2;l++)i[l]=null,o[l]=null;return c};function mn(r,e,t,n){hg.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Er(e,16),this.y=new Er(t,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}OT(mn,hg.BasePoint);Ga.prototype.point=function(e,t,n){return new mn(this,e,t,n)};Ga.prototype.pointFromJSON=function(e,t){return mn.fromJSON(this,e,t)};mn.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};mn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};mn.fromJSON=function(e,t,n){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function o(s){return e.point(s[0],s[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(o))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(o))}},i};mn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};mn.prototype.isInfinity=function(){return this.inf};mn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};mn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=o.redSqr().redISub(this.x.redAdd(this.x)),s=o.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)};mn.prototype.getX=function(){return this.x.fromRed()};mn.prototype.getY=function(){return this.y.fromRed()};mn.prototype.mul=function(e){return e=new Er(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};mn.prototype.mulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};mn.prototype.jmulAdd=function(e,t,n){var i=[this,t],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};mn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};mn.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t};mn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Bn(r,e,t,n){hg.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Er(0)):(this.x=new Er(e,16),this.y=new Er(t,16),this.z=new Er(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}OT(Bn,hg.BasePoint);Ga.prototype.jpoint=function(e,t,n){return new Bn(this,e,t,n)};Bn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)};Bn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Bn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),o=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),u=i.redSub(o),f=a.redSub(s);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),l=c.redMul(u),g=i.redMul(c),y=f.redSqr().redIAdd(l).redISub(g).redISub(g),b=f.redMul(g.redISub(y)).redISub(a.redMul(l)),D=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(y,b,D)};Bn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),o=this.y,a=e.y.redMul(t).redMul(this.z),s=n.redSub(i),u=o.redSub(a);if(s.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),g=u.redSqr().redIAdd(c).redISub(l).redISub(l),y=u.redMul(l.redISub(g)).redISub(o.redMul(c)),b=this.z.redMul(s);return this.curve.jpoint(g,y,b)};Bn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,a=this.x,s=this.y,u=this.z,f=u.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var l=a.redSqr(),g=c.redSqr(),y=g.redSqr(),b=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),D=a.redMul(g),M=b.redSqr().redISub(D.redAdd(D)),k=D.redISub(M),N=b.redMul(k);N=N.redIAdd(N).redISub(y);var K=c.redMul(u);t+1<e&&(f=f.redMul(y)),a=M,u=K,c=N}return this.curve.jpoint(a,c.redMul(o),u)};Bn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Bn.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(s).redISub(s),c=a.redIAdd(a);c=c.redIAdd(c),c=c.redIAdd(c),e=f,t=u.redMul(s.redISub(f)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(l).redISub(y);b=b.redIAdd(b);var D=l.redAdd(l).redIAdd(l),M=D.redSqr(),k=y.redIAdd(y);k=k.redIAdd(k),k=k.redIAdd(k),e=M.redISub(b).redISub(b),t=D.redMul(b.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,t,n)};Bn.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),s=this.x.redAdd(o).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(s).redISub(s);e=f;var c=a.redIAdd(a);c=c.redIAdd(c),c=c.redIAdd(c),t=u.redMul(s.redISub(f)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),g=this.y.redSqr(),y=this.x.redMul(g),b=this.x.redSub(l).redMul(this.x.redAdd(l));b=b.redAdd(b).redIAdd(b);var D=y.redIAdd(y);D=D.redIAdd(D);var M=D.redAdd(D);e=b.redSqr().redISub(M),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(l);var k=g.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=b.redMul(D.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,n)};Bn.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),a=t.redSqr(),s=n.redSqr(),u=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(o)),f=t.redAdd(t);f=f.redIAdd(f);var c=f.redMul(s),l=u.redSqr().redISub(c.redAdd(c)),g=c.redISub(l),y=s.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var b=u.redMul(g).redISub(y),D=n.redAdd(n).redMul(i);return this.curve.jpoint(l,b,D)};Bn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),o=e.redAdd(e).redIAdd(e),a=o.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(a);var u=s.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var c=o.redIAdd(s).redSqr().redISub(a).redISub(u).redISub(f),l=t.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var g=this.x.redMul(u).redISub(l);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.y.redMul(c.redMul(f.redISub(c)).redISub(s.redMul(u)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var b=this.z.redAdd(s).redSqr().redISub(n).redISub(u);return this.curve.jpoint(g,y,b)};Bn.prototype.mul=function(e,t){return e=new Er(e,t),this.curve._wnafMul(this,e)};Bn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};Bn.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};Bn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Bn.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var IL=T((pHe,EL)=>{h();p();var pg=hf(),CL=rE(),d4=pv(),afe=ca();function gg(r){d4.call(this,"mont",r),this.a=new pg(r.a,16).toRed(this.red),this.b=new pg(r.b,16).toRed(this.red),this.i4=new pg(4).toRed(this.red).redInvm(),this.two=new pg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}CL(gg,d4);EL.exports=gg;gg.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t),o=i.redSqrt();return o.redSqr().cmp(i)===0};function yn(r,e,t){d4.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new pg(e,16),this.z=new pg(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}CL(yn,d4.BasePoint);gg.prototype.decodePoint=function(e,t){return this.point(afe.toArray(e,t),1)};gg.prototype.point=function(e,t){return new yn(this,e,t)};gg.prototype.pointFromJSON=function(e){return yn.fromJSON(this,e)};yn.prototype.precompute=function(){};yn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};yn.fromJSON=function(e,t){return new yn(e,t[0],t[1]||e.one)};yn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};yn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};yn.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=t.redSub(i),a=t.redMul(i),s=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(a,s)};yn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};yn.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),a=e.x.redSub(e.z),s=a.redMul(n),u=o.redMul(i),f=t.z.redMul(s.redAdd(u).redSqr()),c=t.x.redMul(s.redISub(u).redSqr());return this.curve.point(f,c)};yn.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),o=this,a=[];t.cmpn(0)!==0;t.iushrn(1))a.push(t.andln(1));for(var s=a.length-1;s>=0;s--)a[s]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};yn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};yn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};yn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};yn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};yn.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var OL=T((yHe,AL)=>{h();p();var sfe=ca(),_c=hf(),TL=rE(),l4=pv(),ufe=sfe.assert;function pf(r){this.twisted=(r.a|0)!==1,this.mOneA=this.twisted&&(r.a|0)===-1,this.extended=this.mOneA,l4.call(this,"edwards",r),this.a=new _c(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new _c(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new _c(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ufe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)===1}TL(pf,l4);AL.exports=pf;pf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};pf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};pf.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)};pf.prototype.pointFromX=function(e,t){e=new _c(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)};pf.prototype.pointFromY=function(e,t){e=new _c(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(a.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(s.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)};pf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return i.cmp(o)===0};function lr(r,e,t,n,i){l4.BasePoint.call(this,r,"projective"),e===null&&t===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new _c(e,16),this.y=new _c(t,16),this.z=n?new _c(n,16):this.curve.one,this.t=i&&new _c(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}TL(lr,l4.BasePoint);pf.prototype.pointFromJSON=function(e){return lr.fromJSON(this,e)};pf.prototype.point=function(e,t,n,i){return new lr(this,e,t,n,i)};lr.fromJSON=function(e,t){return new lr(e,t[0],t[1],t[2])};lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};lr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};lr.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=i.redAdd(t),s=a.redSub(n),u=i.redSub(t),f=o.redMul(s),c=a.redMul(u),l=o.redMul(u),g=s.redMul(a);return this.curve.point(f,c,g,l)};lr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),n=this.y.redSqr(),i,o,a,s,u,f;if(this.curve.twisted){s=this.curve._mulA(t);var c=s.redAdd(n);this.zOne?(i=e.redSub(t).redSub(n).redMul(c.redSub(this.curve.two)),o=c.redMul(s.redSub(n)),a=c.redSqr().redSub(c).redSub(c)):(u=this.z.redSqr(),f=c.redSub(u).redISub(u),i=e.redSub(t).redISub(n).redMul(f),o=c.redMul(s.redSub(n)),a=c.redMul(f))}else s=t.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=s.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(s)).redMul(f),o=this.curve._mulC(s).redMul(t.redISub(n)),a=s.redMul(f);return this.curve.point(i,o,a)};lr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};lr.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),s=o.redSub(i),u=o.redAdd(i),f=n.redAdd(t),c=a.redMul(s),l=u.redMul(f),g=a.redMul(f),y=s.redMul(u);return this.curve.point(c,l,y,g)};lr.prototype._projAdd=function(e){var t=this.z.redMul(e.z),n=t.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(o),s=n.redSub(a),u=n.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),c=t.redMul(s).redMul(f),l,g;return this.curve.twisted?(l=t.redMul(u).redMul(o.redSub(this.curve._mulA(i))),g=s.redMul(u)):(l=t.redMul(u).redMul(o.redSub(i)),g=this.curve._mulC(s).redMul(u)),this.curve.point(c,l,g)};lr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};lr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};lr.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)};lr.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)};lr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};lr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};lr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};lr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};lr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};lr.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),this.x.cmp(t)===0)return!0}};lr.prototype.toP=lr.prototype.normalize;lr.prototype.mixedAdd=lr.prototype.add});var DT=T(DL=>{h();p();var h4=DL;h4.base=pv();h4.short=SL();h4.mont=IL();h4.edwards=OL()});var BL=T((SHe,RL)=>{h();p();RL.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var p4=T(NL=>{h();p();var BT=NL,td=MP(),RT=DT(),ffe=ca(),PL=ffe.assert;function ML(r){r.type==="short"?this.curve=new RT.short(r):r.type==="edwards"?this.curve=new RT.edwards(r):this.curve=new RT.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,PL(this.g.validate(),"Invalid curve"),PL(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}BT.PresetCurve=ML;function rd(r,e){Object.defineProperty(BT,r,{configurable:!0,enumerable:!0,get:function(){var t=new ML(e);return Object.defineProperty(BT,r,{configurable:!0,enumerable:!0,value:t}),t}})}rd("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:td.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});rd("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:td.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});rd("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:td.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});rd("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:td.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});rd("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:td.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});rd("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:td.sha256,gRed:!1,g:["9"]});rd("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:td.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var PT;try{PT=BL()}catch{PT=void 0}rd("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:td.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",PT]})});var qL=T((OHe,kL)=>{h();p();var cfe=hf(),dfe=ca(),MT=dfe.assert;function _i(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}kL.exports=_i;_i.fromPublic=function(e,t,n){return t instanceof _i?t:new _i(e,{pub:t,pubEnc:n})};_i.fromPrivate=function(e,t,n){return t instanceof _i?t:new _i(e,{priv:t,privEnc:n})};_i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};_i.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};_i.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};_i.prototype._importPrivate=function(e,t){this.priv=new cfe(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};_i.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?MT(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&MT(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};_i.prototype.derive=function(e){return e.validate()||MT(e.validate(),"public point not validated"),e.mul(this.priv).getX()};_i.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)};_i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};_i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var UL=T((BHe,LL)=>{h();p();var g4=hf(),qT=ca(),lfe=qT.assert;function m4(r,e){if(r instanceof m4)return r;this._importDER(r,e)||(lfe(r.r&&r.s,"Signature without r or s"),this.r=new g4(r.r,16),this.s=new g4(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}LL.exports=m4;function hfe(){this.place=0}function NT(r,e){var t=r[e.place++];if(!(t&128))return t;var n=t&15;if(n===0||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=r[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function FL(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}m4.prototype._importDER=function(e,t){e=qT.toArray(e,t);var n=new hfe;if(e[n.place++]!==48)return!1;var i=NT(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=NT(e,n);if(o===!1)return!1;var a=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var s=NT(e,n);if(s===!1||e.length!==s+n.place)return!1;var u=e.slice(n.place,s+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new g4(a),this.s=new g4(u),this.recoveryParam=null,!0};function kT(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}m4.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),n[0]&128&&(n=[0].concat(n)),t=FL(t),n=FL(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];kT(i,t.length),i=i.concat(t),i.push(2),kT(i,n.length);var o=i.concat(n),a=[48];return kT(a,o.length),a=a.concat(o),qT.encode(a,e)}});var VL=T((NHe,KL)=>{h();p();var Ih=hf(),jL=tte(),pfe=ca(),FT=p4(),gfe=PP(),HL=pfe.assert,LT=qL(),y4=UL();function Ya(r){if(!(this instanceof Ya))return new Ya(r);typeof r=="string"&&(HL(Object.prototype.hasOwnProperty.call(FT,r),"Unknown curve "+r),r=FT[r]),r instanceof FT.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}KL.exports=Ya;Ya.prototype.keyPair=function(e){return new LT(this,e)};Ya.prototype.keyFromPrivate=function(e,t){return LT.fromPrivate(this,e,t)};Ya.prototype.keyFromPublic=function(e,t){return LT.fromPublic(this,e,t)};Ya.prototype.genKeyPair=function(e){e||(e={});for(var t=new jL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||gfe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ih(2));;){var o=new Ih(t.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};Ya.prototype._truncateToN=function(e,t){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};Ya.prototype.sign=function(e,t,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new Ih(e,16));for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),s=e.toArray("be",o),u=new jL({hash:this.hash,entropy:a,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Ih(1)),c=0;;c++){var l=i.k?i.k(c):new Ih(u.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var g=this.g.mul(l);if(!g.isInfinity()){var y=g.getX(),b=y.umod(this.n);if(b.cmpn(0)!==0){var D=l.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(D=D.umod(this.n),D.cmpn(0)!==0){var M=(g.getY().isOdd()?1:0)|(y.cmp(b)!==0?2:0);return i.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),M^=1),new y4({r:b,s:D,recoveryParam:M})}}}}}};Ya.prototype.verify=function(e,t,n,i){e=this._truncateToN(new Ih(e,16)),n=this.keyFromPublic(n,i),t=new y4(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(o).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(u,n.getPublic(),f),c.isInfinity()?!1:c.eqXToP(o)):(c=this.g.mulAdd(u,n.getPublic(),f),c.isInfinity()?!1:c.getX().umod(this.n).cmp(o)===0)};Ya.prototype.recoverPubKey=function(r,e,t,n){HL((3&t)===t,"The recovery param is more than two bits"),e=new y4(e,n);var i=this.n,o=new Ih(r),a=e.r,s=e.s,u=t&1,f=t>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?a=this.curve.pointFromX(a.add(this.curve.n),u):a=this.curve.pointFromX(a,u);var c=e.r.invm(i),l=i.sub(o).mul(c).umod(i),g=s.mul(c).umod(i);return this.g.mulAdd(l,a,g)};Ya.prototype.getKeyRecoveryParam=function(r,e,t,n){if(e=new y4(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(r,e,i)}catch{continue}if(o.eq(t))return i}throw new Error("Unable to find valid recovery factor")}});var WL=T((FHe,YL)=>{h();p();var gv=ca(),GL=gv.assert,zL=gv.parseBytes,mg=gv.cachedProperty;function vn(r,e){this.eddsa=r,this._secret=zL(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=zL(e.pub)}vn.fromPublic=function(e,t){return t instanceof vn?t:new vn(e,{pub:t})};vn.fromSecret=function(e,t){return t instanceof vn?t:new vn(e,{secret:t})};vn.prototype.secret=function(){return this._secret};mg(vn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});mg(vn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});mg(vn,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});mg(vn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});mg(vn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});mg(vn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});vn.prototype.sign=function(e){return GL(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};vn.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};vn.prototype.getSecret=function(e){return GL(this._secret,"KeyPair is public only"),gv.encode(this.secret(),e)};vn.prototype.getPublic=function(e){return gv.encode(this.pubBytes(),e)};YL.exports=vn});var JL=T((jHe,XL)=>{h();p();var mfe=hf(),v4=ca(),yfe=v4.assert,_4=v4.cachedProperty,vfe=v4.parseBytes;function Th(r,e){this.eddsa=r,typeof e!="object"&&(e=vfe(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),yfe(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof mfe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}_4(Th,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});_4(Th,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});_4(Th,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});_4(Th,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Th.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Th.prototype.toHex=function(){return v4.encode(this.toBytes(),"hex").toUpperCase()};XL.exports=Th});var tU=T((VHe,eU)=>{h();p();var _fe=MP(),xfe=p4(),yg=ca(),bfe=yg.assert,ZL=yg.parseBytes,QL=WL(),$L=JL();function Ko(r){if(bfe(r==="ed25519","only tested with ed25519 so far"),!(this instanceof Ko))return new Ko(r);r=xfe[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=_fe.sha512}eU.exports=Ko;Ko.prototype.sign=function(e,t){e=ZL(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),a=this.encodePoint(o),s=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),u=i.add(s).umod(this.curve.n);return this.makeSignature({R:o,S:u,Rencoded:a})};Ko.prototype.verify=function(e,t,n){e=ZL(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),o=this.hashInt(t.Rencoded(),i.pubBytes(),e),a=this.g.mul(t.S()),s=t.R().add(i.pub().mul(o));return s.eq(a)};Ko.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return yg.intFromLE(e.digest()).umod(this.curve.n)};Ko.prototype.keyFromPublic=function(e){return QL.fromPublic(this,e)};Ko.prototype.keyFromSecret=function(e){return QL.fromSecret(this,e)};Ko.prototype.makeSignature=function(e){return e instanceof $L?e:new $L(this,e)};Ko.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};Ko.prototype.decodePoint=function(e){e=yg.parseBytes(e);var t=e.length-1,n=e.slice(0,t).concat(e[t]&-129),i=(e[t]&128)!==0,o=yg.intFromLE(n);return this.curve.pointFromY(o,i)};Ko.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ko.prototype.decodeInt=function(e){return yg.intFromLE(e)};Ko.prototype.isPoint=function(e){return e instanceof this.pointClass}});var nU=T(rU=>{h();p();var Ah=rU;Ah.version=vL().version;Ah.utils=ca();Ah.rand=PP();Ah.curve=DT();Ah.curves=p4();Ah.ec=VL();Ah.eddsa=tU()});var oU=T((JHe,iU)=>{h();p();var wfe=nU().ec,gf=new wfe("secp256k1"),Tt=gf.curve,or=Tt.n.constructor;function Sfe(r,e){let t=new or(e);if(t.cmp(Tt.p)>=0)return null;t=t.toRed(Tt.red);let n=t.redSqr().redIMul(t).redIAdd(Tt.b).redSqrt();return r===3!==n.isOdd()&&(n=n.redNeg()),gf.keyPair({pub:{x:t,y:n}})}function Cfe(r,e,t){let n=new or(e),i=new or(t);if(n.cmp(Tt.p)>=0||i.cmp(Tt.p)>=0||(n=n.toRed(Tt.red),i=i.toRed(Tt.red),(r===6||r===7)&&i.isOdd()!==(r===7)))return null;let o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(Tt.b)).isZero()?gf.keyPair({pub:{x:n,y:i}}):null}function nd(r){let e=r[0];switch(e){case 2:case 3:return r.length!==33?null:Sfe(e,r.subarray(1,33));case 4:case 6:case 7:return r.length!==65?null:Cfe(e,r.subarray(1,33),r.subarray(33,65));default:return null}}function Oh(r,e){let t=e.encode(null,r.length===33);for(let n=0;n<r.length;++n)r[n]=t[n]}iU.exports={contextRandomize(){return 0},privateKeyVerify(r){let e=new or(r);return e.cmp(Tt.n)<0&&!e.isZero()?0:1},privateKeyNegate(r){let e=new or(r),t=Tt.n.sub(e).umod(Tt.n).toArrayLike(Uint8Array,"be",32);return r.set(t),0},privateKeyTweakAdd(r,e){let t=new or(e);if(t.cmp(Tt.n)>=0||(t.iadd(new or(r)),t.cmp(Tt.n)>=0&&t.isub(Tt.n),t.isZero()))return 1;let n=t.toArrayLike(Uint8Array,"be",32);return r.set(n),0},privateKeyTweakMul(r,e){let t=new or(e);if(t.cmp(Tt.n)>=0||t.isZero())return 1;t.imul(new or(r)),t.cmp(Tt.n)>=0&&(t=t.umod(Tt.n));let n=t.toArrayLike(Uint8Array,"be",32);return r.set(n),0},publicKeyVerify(r){return nd(r)===null?1:0},publicKeyCreate(r,e){let t=new or(e);if(t.cmp(Tt.n)>=0||t.isZero())return 1;let n=gf.keyFromPrivate(e).getPublic();return Oh(r,n),0},publicKeyConvert(r,e){let t=nd(e);if(t===null)return 1;let n=t.getPublic();return Oh(r,n),0},publicKeyNegate(r,e){let t=nd(e);if(t===null)return 1;let n=t.getPublic();return n.y=n.y.redNeg(),Oh(r,n),0},publicKeyCombine(r,e){let t=new Array(e.length);for(let i=0;i<e.length;++i)if(t[i]=nd(e[i]),t[i]===null)return 1;let n=t[0].getPublic();for(let i=1;i<t.length;++i)n=n.add(t[i].pub);return n.isInfinity()?2:(Oh(r,n),0)},publicKeyTweakAdd(r,e,t){let n=nd(e);if(n===null)return 1;if(t=new or(t),t.cmp(Tt.n)>=0)return 2;let i=n.getPublic().add(Tt.g.mul(t));return i.isInfinity()?2:(Oh(r,i),0)},publicKeyTweakMul(r,e,t){let n=nd(e);if(n===null)return 1;if(t=new or(t),t.cmp(Tt.n)>=0||t.isZero())return 2;let i=n.getPublic().mul(t);return Oh(r,i),0},signatureNormalize(r){let e=new or(r.subarray(0,32)),t=new or(r.subarray(32,64));return e.cmp(Tt.n)>=0||t.cmp(Tt.n)>=0?1:(t.cmp(gf.nh)===1&&r.set(Tt.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,e){let t=e.subarray(0,32),n=e.subarray(32,64);if(new or(t).cmp(Tt.n)>=0||new or(n).cmp(Tt.n)>=0)return 1;let{output:i}=r,o=i.subarray(4,4+33);o[0]=0,o.set(t,1);let a=33,s=0;for(;a>1&&o[s]===0&&!(o[s+1]&128);--a,++s);if(o=o.subarray(s),o[0]&128||a>1&&o[0]===0&&!(o[1]&128))return 1;let u=i.subarray(6+33,6+33+33);u[0]=0,u.set(n,1);let f=33,c=0;for(;f>1&&u[c]===0&&!(u[c+1]&128);--f,++c);return u=u.subarray(c),u[0]&128||f>1&&u[0]===0&&!(u[1]&128)?1:(r.outputlen=6+a+f,i[0]=48,i[1]=r.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+a]=2,i[5+a]=u.length,i.set(u,6+a),0)},signatureImport(r,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return 1;let n=e[5+t];if(n===0||6+t+n!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||n>1&&e[t+6]===0&&!(e[t+7]&128))return 1;let i=e.subarray(4,4+t);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let o=e.subarray(6+t);if(o.length===33&&o[0]===0&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let a=new or(i);a.cmp(Tt.n)>=0&&(a=new or(0));let s=new or(e.subarray(6+t));return s.cmp(Tt.n)>=0&&(s=new or(0)),r.set(a.toArrayLike(Uint8Array,"be",32),0),r.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,e,t,n,i){if(i){let s=i;i=u=>{let f=s(e,t,null,n,u);if(!(f instanceof Uint8Array&&f.length===32))throw new Error("This is the way");return new or(f)}}let o=new or(t);if(o.cmp(Tt.n)>=0||o.isZero())return 1;let a;try{a=gf.sign(e,t,{canonical:!0,k:i,pers:n})}catch{return 1}return r.signature.set(a.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(a.s.toArrayLike(Uint8Array,"be",32),32),r.recid=a.recoveryParam,0},ecdsaVerify(r,e,t){let n={r:r.subarray(0,32),s:r.subarray(32,64)},i=new or(n.r),o=new or(n.s);if(i.cmp(Tt.n)>=0||o.cmp(Tt.n)>=0)return 1;if(o.cmp(gf.nh)===1||i.isZero()||o.isZero())return 3;let a=nd(t);if(a===null)return 2;let s=a.getPublic();return gf.verify(e,n,s)?0:3},ecdsaRecover(r,e,t,n){let i={r:e.slice(0,32),s:e.slice(32,64)},o=new or(i.r),a=new or(i.s);if(o.cmp(Tt.n)>=0||a.cmp(Tt.n)>=0)return 1;if(o.isZero()||a.isZero())return 2;let s;try{s=gf.recoverPubKey(n,i,t)}catch{return 2}return Oh(r,s),0},ecdh(r,e,t,n,i,o,a){let s=nd(e);if(s===null)return 1;let u=new or(t);if(u.cmp(Tt.n)>=0||u.isZero())return 2;let f=s.getPublic().mul(u);if(i===void 0){let c=f.encode(null,!0),l=gf.hash().update(c).digest();for(let g=0;g<32;++g)r[g]=l[g]}else{o||(o=new Uint8Array(32));let c=f.getX().toArray("be",32);for(let b=0;b<32;++b)o[b]=c[b];a||(a=new Uint8Array(32));let l=f.getY().toArray("be",32);for(let b=0;b<32;++b)a[b]=l[b];let g=i(o,a,n);if(!(g instanceof Uint8Array&&g.length===r.length))return 2;r.set(g)}return 0}}});var sU=T((QHe,aU)=>{h();p();aU.exports=yL()(oU())});var jT=T((rKe,lU)=>{h();p();var mf=aa(),xi=Xx().Buffer,b4=NP(),UT=wp(),Efe=$ee(),id=sU(),Ife=xi.from("Bitcoin seed","utf8"),x4=2147483648,Tfe=78,uU={private:76066276,public:76067358};function Ir(r){this.versions=r||uU,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(Ir.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(Ir.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(Ir.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(Ir.prototype,"privateKey",{get:function(){return this._privateKey},set:function(r){mf.equal(r.length,32,"Private key must be 32 bytes."),mf(id.privateKeyVerify(r)===!0,"Invalid private key"),this._privateKey=r,this._publicKey=xi.from(id.publicKeyCreate(r,!0)),this._identifier=dU(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});function fU(r,e){r._publicKey=xi.from(e),r._identifier=dU(e),r._fingerprint=r._identifier.slice(0,4).readUInt32BE(0),r._privateKey=null}Object.defineProperty(Ir.prototype,"publicKey",{get:function(){return this._publicKey},set:function(r){mf(r.length===33||r.length===65,"Public key must be 33 or 65 bytes."),mf(id.publicKeyVerify(r)===!0,"Invalid public key");let e=r.length===65?id.publicKeyConvert(r,!0):r;fU(this,e)}});Object.defineProperty(Ir.prototype,"privateExtendedKey",{get:function(){return this._privateKey?UT.encode(cU(this,this.versions.private,xi.concat([xi.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(Ir.prototype,"publicExtendedKey",{get:function(){return UT.encode(cU(this,this.versions.public,this.publicKey))}});Ir.prototype.derive=function(r){if(r==="m"||r==="M"||r==="m'"||r==="M'")return this;var e=r.split("/"),t=this;return e.forEach(function(n,i){if(i===0){mf(/^[mM]{1}/.test(n),'Path must start with "m" or "M"');return}var o=n.length>1&&n[n.length-1]==="'",a=parseInt(n,10);mf(a<x4,"Invalid index"),o&&(a+=x4),t=t.deriveChild(a)}),t};Ir.prototype.deriveChild=function(r){var e=r>=x4,t=xi.allocUnsafe(4);t.writeUInt32BE(r,0);var n;if(e){mf(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,o=xi.alloc(1,0);i=xi.concat([o,i]),n=xi.concat([i,t])}else n=xi.concat([this.publicKey,t]);var a=b4.createHmac("sha512",this.chainCode).update(n).digest(),s=a.slice(0,32),u=a.slice(32),f=new Ir(this.versions);if(this.privateKey)try{f.privateKey=xi.from(id.privateKeyTweakAdd(xi.from(this.privateKey),s))}catch{return this.deriveChild(r+1)}else try{f.publicKey=xi.from(id.publicKeyTweakAdd(xi.from(this.publicKey),s,!0))}catch{return this.deriveChild(r+1)}return f.chainCode=u,f.depth=this.depth+1,f.parentFingerprint=this.fingerprint,f.index=r,f};Ir.prototype.sign=function(r){return xi.from(id.ecdsaSign(Uint8Array.from(r),Uint8Array.from(this.privateKey)).signature)};Ir.prototype.verify=function(r,e){return id.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(r),Uint8Array.from(this.publicKey))};Ir.prototype.wipePrivateData=function(){return this._privateKey&&b4.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};Ir.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};Ir.fromMasterSeed=function(r,e){var t=b4.createHmac("sha512",Ife).update(r).digest(),n=t.slice(0,32),i=t.slice(32),o=new Ir(e);return o.chainCode=i,o.privateKey=n,o};Ir.fromExtendedKey=function(r,e,t){e=e||uU,t=t||!1;var n=new Ir(e),i=UT.decode(r),o=i.readUInt32BE(0);mf(o===e.private||o===e.public,"Version mismatch: does not match private or public"),n.depth=i.readUInt8(4),n.parentFingerprint=i.readUInt32BE(5),n.index=i.readUInt32BE(9),n.chainCode=i.slice(13,45);var a=i.slice(45);return a.readUInt8(0)===0?(mf(o===e.private,"Version mismatch: version does not match private"),n.privateKey=a.slice(1)):(mf(o===e.public,"Version mismatch: version does not match public"),t?fU(n,a):n.publicKey=a),n};Ir.fromJSON=function(r){return Ir.fromExtendedKey(r.xpriv)};function cU(r,e,t){var n=xi.allocUnsafe(Tfe);n.writeUInt32BE(e,0),n.writeUInt8(r.depth,4);var i=r.depth?r.parentFingerprint:0;return n.writeUInt32BE(i,5),n.writeUInt32BE(r.index,9),r.chainCode.copy(n,13),t.copy(n,45),n}function dU(r){var e=b4.createHash("sha256").update(r).digest();return new Efe().update(e).digest()}Ir.HARDENED_OFFSET=x4;lU.exports=Ir});var mv=T(mo=>{h();p();Object.defineProperty(mo,"__esModule",{value:!0});mo.output=mo.exists=mo.hash=mo.bytes=mo.bool=mo.number=void 0;function w4(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}mo.number=w4;function hU(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}mo.bool=hU;function HT(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}mo.bytes=HT;function pU(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");w4(r.outputLen),w4(r.blockLen)}mo.hash=pU;function gU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}mo.exists=gU;function mU(r,e){HT(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}mo.output=mU;var Afe={number:w4,bool:hU,bytes:HT,hash:pU,exists:gU,output:mU};mo.default=Afe});var yU=T(S4=>{h();p();Object.defineProperty(S4,"__esModule",{value:!0});S4.crypto=void 0;S4.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Dh=T(bt=>{h();p();Object.defineProperty(bt,"__esModule",{value:!0});bt.randomBytes=bt.wrapConstructorWithOpts=bt.wrapConstructor=bt.checkOpts=bt.Hash=bt.concatBytes=bt.toBytes=bt.utf8ToBytes=bt.asyncLoop=bt.nextTick=bt.hexToBytes=bt.bytesToHex=bt.isLE=bt.rotr=bt.createView=bt.u32=bt.u8=void 0;var C4=yU(),Ofe=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);bt.u8=Ofe;var Dfe=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));bt.u32=Dfe;var Rfe=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);bt.createView=Rfe;var Bfe=(r,e)=>r<<32-e|r>>>e;bt.rotr=Bfe;bt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!bt.isLE)throw new Error("Non little-endian hardware is not supported");var Pfe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Mfe(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Pfe[r[t]];return e}bt.bytesToHex=Mfe;function Nfe(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,i=r.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[t]=o}return e}bt.hexToBytes=Nfe;var kfe=async()=>{};bt.nextTick=kfe;async function qfe(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);let o=Date.now()-n;o>=0&&o<e||(await(0,bt.nextTick)(),n+=o)}}bt.asyncLoop=qfe;function vU(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}bt.utf8ToBytes=vU;function VT(r){if(typeof r=="string"&&(r=vU(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}bt.toBytes=VT;function Ffe(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let o=r[n];t.set(o,i),i+=o.length}return t}bt.concatBytes=Ffe;var KT=class{clone(){return this._cloneInto()}};bt.Hash=KT;var Lfe=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function Ufe(r,e){if(e!==void 0&&(typeof e!="object"||!Lfe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(r,e)}bt.checkOpts=Ufe;function jfe(r){let e=n=>r().update(VT(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}bt.wrapConstructor=jfe;function Hfe(r){let e=(n,i)=>r(i).update(VT(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}bt.wrapConstructorWithOpts=Hfe;function Kfe(r=32){if(C4.crypto.web)return C4.crypto.web.getRandomValues(new Uint8Array(r));if(C4.crypto.node)return new Uint8Array(C4.crypto.node.randomBytes(r).buffer);throw new Error("The environment doesn't have randomBytes function")}bt.randomBytes=Kfe});var _U=T(yv=>{h();p();Object.defineProperty(yv,"__esModule",{value:!0});yv.hmac=void 0;var E4=mv(),zT=Dh(),I4=class extends zT.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,E4.default.hash(e);let n=(0,zT.toBytes)(t);if(this.iHash=e.create(),!(this.iHash instanceof zT.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");let i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;let o=new Uint8Array(i);o.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=e.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(e){return E4.default.exists(this),this.iHash.update(e),this}digestInto(e){E4.default.exists(this),E4.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Vfe=(r,e,t)=>new I4(r,e).update(t).digest();yv.hmac=Vfe;yv.hmac.create=(r,e)=>new I4(r,e)});var xU=T(T4=>{h();p();Object.defineProperty(T4,"__esModule",{value:!0});T4.SHA2=void 0;var GT=mv(),vv=Dh();function zfe(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(t>>i&o),s=Number(t&o),u=n?4:0,f=n?0:4;r.setUint32(e+u,a,n),r.setUint32(e+f,s,n)}var YT=class extends vv.Hash{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,vv.createView)(this.buffer)}update(e){GT.default.exists(this);let{view:t,buffer:n,blockLen:i}=this;e=(0,vv.toBytes)(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let u=(0,vv.createView)(e);for(;i<=o-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){GT.default.exists(this),GT.default.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let u=a;u<i;u++)t[u]=0;zfe(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=(0,vv.createView)(e);this.get().forEach((u,f)=>s.setUint32(4*f,u,o))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%t&&e.buffer.set(n),e}};T4.SHA2=YT});var bU=T(A4=>{h();p();Object.defineProperty(A4,"__esModule",{value:!0});A4.sha256=void 0;var Gfe=xU(),hu=Dh(),Yfe=(r,e,t)=>r&e^~r&t,Wfe=(r,e,t)=>r&e^r&t^e&t,Xfe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),od=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ad=new Uint32Array(64),WT=class extends Gfe.SHA2{constructor(){super(64,32,8,!1),this.A=od[0]|0,this.B=od[1]|0,this.C=od[2]|0,this.D=od[3]|0,this.E=od[4]|0,this.F=od[5]|0,this.G=od[6]|0,this.H=od[7]|0}get(){let{A:e,B:t,C:n,D:i,E:o,F:a,G:s,H:u}=this;return[e,t,n,i,o,a,s,u]}set(e,t,n,i,o,a,s,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=u|0}process(e,t){for(let l=0;l<16;l++,t+=4)ad[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){let g=ad[l-15],y=ad[l-2],b=(0,hu.rotr)(g,7)^(0,hu.rotr)(g,18)^g>>>3,D=(0,hu.rotr)(y,17)^(0,hu.rotr)(y,19)^y>>>10;ad[l]=D+ad[l-7]+b+ad[l-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:u,G:f,H:c}=this;for(let l=0;l<64;l++){let g=(0,hu.rotr)(s,6)^(0,hu.rotr)(s,11)^(0,hu.rotr)(s,25),y=c+g+Yfe(s,u,f)+Xfe[l]+ad[l]|0,D=((0,hu.rotr)(n,2)^(0,hu.rotr)(n,13)^(0,hu.rotr)(n,22))+Wfe(n,i,o)|0;c=f,f=u,u=s,s=a+y|0,a=o,o=i,i=n,n=y+D|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(n,i,o,a,s,u,f,c)}roundClean(){ad.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};A4.sha256=(0,hu.wrapConstructor)(()=>new WT)});var QT=T(et=>{h();p();Object.defineProperty(et,"__esModule",{value:!0});et.utils=et.schnorr=et.verify=et.signSync=et.sign=et.getSharedSecret=et.recoverPublicKey=et.getPublicKey=et.Signature=et.Point=et.CURVE=void 0;var Jfe=NP(),Dt=BigInt(0),$t=BigInt(1),Mr=BigInt(2),xv=BigInt(3),$fe=BigInt(8),XT=Mr**BigInt(256),Bt={a:Dt,b:BigInt(7),P:XT-Mr**BigInt(32)-BigInt(977),n:XT-BigInt("432420386565659656852420866394968145599"),h:$t,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};et.CURVE=Bt;function wU(r){let{a:e,b:t}=Bt,n=Ee(r*r),i=Ee(n*r);return Ee(i+e*r+t)}var O4=Bt.a===Dt,Ht=class{constructor(e,t,n){this.x=e,this.y=t,this.z=n}static fromAffine(e){if(!(e instanceof Et))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Ht(e.x,e.y,$t)}static toAffineBatch(e){let t=tce(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(t[i]))}static normalizeZ(e){return Ht.toAffineBatch(e).map(Ht.fromAffine)}equals(e){if(!(e instanceof Ht))throw new TypeError("JacobianPoint expected");let{x:t,y:n,z:i}=this,{x:o,y:a,z:s}=e,u=Ee(i**Mr),f=Ee(s**Mr),c=Ee(t*f),l=Ee(o*u),g=Ee(Ee(n*s)*f),y=Ee(Ee(a*i)*u);return c===l&&g===y}negate(){return new Ht(this.x,Ee(-this.y),this.z)}double(){let{x:e,y:t,z:n}=this,i=Ee(e**Mr),o=Ee(t**Mr),a=Ee(o**Mr),s=Ee(Mr*(Ee((e+o)**Mr)-i-a)),u=Ee(xv*i),f=Ee(u**Mr),c=Ee(f-Mr*s),l=Ee(u*(s-c)-$fe*a),g=Ee(Mr*t*n);return new Ht(c,l,g)}add(e){if(!(e instanceof Ht))throw new TypeError("JacobianPoint expected");let{x:t,y:n,z:i}=this,{x:o,y:a,z:s}=e;if(o===Dt||a===Dt)return this;if(t===Dt||n===Dt)return e;let u=Ee(i**Mr),f=Ee(s**Mr),c=Ee(t*f),l=Ee(o*u),g=Ee(Ee(n*s)*f),y=Ee(Ee(a*i)*u),b=Ee(l-c),D=Ee(y-g);if(b===Dt)return D===Dt?this.double():Ht.ZERO;let M=Ee(b**Mr),k=Ee(b*M),N=Ee(c*M),K=Ee(D**Mr-k-Mr*N),X=Ee(D*(N-K)-g*k),q=Ee(i*s*b);return new Ht(K,X,q)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=Ht.ZERO;if(typeof e=="bigint"&&e===Dt)return t;let n=EU(e);if(n===$t)return this;if(!O4){let l=t,g=this;for(;n>Dt;)n&$t&&(l=l.add(g)),g=g.double(),n>>=$t;return l}let{k1neg:i,k1:o,k2neg:a,k2:s}=TU(n),u=t,f=t,c=this;for(;o>Dt||s>Dt;)o&$t&&(u=u.add(c)),s&$t&&(f=f.add(c)),c=c.double(),o>>=$t,s>>=$t;return i&&(u=u.negate()),a&&(f=f.negate()),f=new Ht(Ee(f.x*Bt.beta),f.y,f.z),u.add(f)}precomputeWindow(e){let t=O4?128/e+1:256/e+1,n=[],i=this,o=i;for(let a=0;a<t;a++){o=i,n.push(o);for(let s=1;s<2**(e-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,t){!t&&this.equals(Ht.BASE)&&(t=Et.BASE);let n=t&&t._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=t&&JT.get(t);i||(i=this.precomputeWindow(n),t&&n!==1&&(i=Ht.normalizeZ(i),JT.set(t,i)));let o=Ht.ZERO,a=Ht.ZERO,s=1+(O4?128/n:256/n),u=2**(n-1),f=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let g=0;g<s;g++){let y=g*u,b=Number(e&f);if(e>>=l,b>u&&(b-=c,e+=$t),b===0){let D=i[y];g%2&&(D=D.negate()),a=a.add(D)}else{let D=i[y+Math.abs(b)-1];b<0&&(D=D.negate()),o=o.add(D)}}return{p:o,f:a}}multiply(e,t){let n=EU(e),i,o;if(O4){let{k1neg:a,k1:s,k2neg:u,k2:f}=TU(n),{p:c,f:l}=this.wNAF(s,t),{p:g,f:y}=this.wNAF(f,t);a&&(c=c.negate()),u&&(g=g.negate()),g=new Ht(Ee(g.x*Bt.beta),g.y,g.z),i=c.add(g),o=l.add(y)}else{let{p:a,f:s}=this.wNAF(n,t);i=a,o=s}return Ht.normalizeZ([i,o])[0]}toAffine(e=wg(this.z)){let{x:t,y:n,z:i}=this,o=e,a=Ee(o*o),s=Ee(a*o),u=Ee(t*a),f=Ee(n*s);if(Ee(i*o)!==$t)throw new Error("invZ was invalid");return new Et(u,f)}};Ht.BASE=new Ht(Bt.Gx,Bt.Gy,$t);Ht.ZERO=new Ht(Dt,$t,Dt);var JT=new WeakMap,Et=class{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,JT.delete(this)}static fromCompressedHex(e){let t=e.length===32,n=yo(t?e:e.subarray(1));if(!B4(n))throw new Error("Point is not on curve");let i=wU(n),o=ece(i),a=(o&$t)===$t;t?a&&(o=Ee(-o)):(e[0]&1)===1!==a&&(o=Ee(-o));let s=new Et(n,o);return s.assertValidity(),s}static fromUncompressedHex(e){let t=yo(e.subarray(1,33)),n=yo(e.subarray(33,65)),i=new Et(t,n);return i.assertValidity(),i}static fromHex(e){let t=gu(e),n=t.length,i=t[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(t);if(n===65&&i===4)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Et.BASE.multiply(yf(e))}static fromSignature(e,t,n){e=gu(e);let i=OU(e),{r:o,s:a}=RU(t);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let s=n&1?"03":"02",u=Et.fromHex(s+xc(o)),{n:f}=Bt,c=wg(o,f),l=Ee(-i*c,f),g=Ee(a*c,f),y=Et.BASE.multiplyAndAddUnsafe(u,l,g);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(e=!1){return bc(this.toHex(e))}toHex(e=!1){let t=xc(this.x);return e?`${this.y&$t?"03":"02"}${t}`:`04${t}${xc(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:n}=this;if(!B4(t)||!B4(n))throw new Error(e);let i=Ee(n*n),o=wU(t);if(Ee(i-o)!==Dt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Et(this.x,Ee(-this.y))}double(){return Ht.fromAffine(this).double().toAffine()}add(e){return Ht.fromAffine(this).add(Ht.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ht.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,n){let i=Ht.fromAffine(this),o=t===Dt||t===$t||this!==Et.BASE?i.multiplyUnsafe(t):i.multiply(t),a=Ht.fromAffine(e).multiplyUnsafe(n),s=o.add(a);return s.equals(Ht.ZERO)?void 0:s.toAffine()}};et.Point=Et;Et.BASE=new Et(Bt.Gx,Bt.Gy);Et.ZERO=new Et(Dt,Dt);function SU(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function CU(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${xg(r)}`);let e=r[1],t=r.subarray(2,e+2);if(!e||t.length!==e)throw new Error("Invalid signature integer: wrong length");if(t[0]===0&&t[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:yo(t),left:r.subarray(e+2)}}function Zfe(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${xg(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:t}=CU(r.subarray(2)),{data:n,left:i}=CU(t);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${xg(i)}`);return{r:e,s:n}}var pu=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=bv(e),n="Signature.fromCompact";if(typeof e!="string"&&!t)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=t?xg(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new pu(P4(i.slice(0,64)),P4(i.slice(64,128)))}static fromDER(e){let t=bv(e);if(typeof e!="string"&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Zfe(t?e:bc(e));return new pu(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!bg(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!bg(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Bt.n>>$t;return this.s>e}normalizeS(){return this.hasHighS()?new pu(this.r,Bt.n-this.s):this}toDERRawBytes(e=!1){return bc(this.toDERHex(e))}toDERHex(e=!1){let t=SU(_v(this.s));if(e)return t;let n=SU(_v(this.r)),i=_v(n.length/2),o=_v(t.length/2);return`30${_v(n.length/2+t.length/2+4)}02${i}${n}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return bc(this.toCompactHex())}toCompactHex(){return xc(this.r)+xc(this.s)}};et.Signature=pu;function vg(...r){if(!r.every(bv))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let o=r[n];t.set(o,i),i+=o.length}return t}function bv(r){return r instanceof Uint8Array}var Qfe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function xg(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let t=0;t<r.length;t++)e+=Qfe[r[t]];return e}function xc(r){if(r>XT)throw new Error("Expected number < 2^256");return r.toString(16).padStart(64,"0")}function _g(r){return bc(xc(r))}function _v(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function P4(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function bc(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,i=r.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[t]=o}return e}function yo(r){return P4(xg(r))}function gu(r){return r instanceof Uint8Array?Uint8Array.from(r):bc(r)}function EU(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&bg(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Ee(r,e=Bt.P){let t=r%e;return t>=Dt?t:e+t}function Wa(r,e){let{P:t}=Bt,n=r;for(;e-- >Dt;)n*=n,n%=t;return n}function ece(r){let{P:e}=Bt,t=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),u=r*r*r%e,f=u*u*r%e,c=Wa(f,xv)*f%e,l=Wa(c,xv)*f%e,g=Wa(l,Mr)*u%e,y=Wa(g,n)*g%e,b=Wa(y,i)*y%e,D=Wa(b,a)*b%e,M=Wa(D,s)*D%e,k=Wa(M,a)*b%e,N=Wa(k,xv)*f%e,K=Wa(N,o)*y%e,X=Wa(K,t)*u%e;return Wa(X,Mr)}function wg(r,e=Bt.P){if(r===Dt||e<=Dt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Ee(r,e),n=e,i=Dt,o=$t,a=$t,s=Dt;for(;t!==Dt;){let f=n/t,c=n%t,l=i-a*f,g=o-s*f;n=t,t=c,i=a,o=s,a=l,s=g}if(n!==$t)throw new Error("invert: does not exist");return Ee(i,e)}function tce(r,e=Bt.P){let t=new Array(r.length),n=r.reduce((o,a,s)=>a===Dt?o:(t[s]=o,Ee(o*a,e)),$t),i=wg(n,e);return r.reduceRight((o,a,s)=>a===Dt?o:(t[s]=Ee(o*t[s],e),Ee(o*a,e)),i),t}var IU=(r,e)=>(r+e/Mr)/e,D4=Mr**BigInt(128);function TU(r){let{n:e}=Bt,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-$t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,a=IU(o*r,e),s=IU(-n*r,e),u=Ee(r-a*t-s*i,e),f=Ee(-a*n-s*o,e),c=u>D4,l=f>D4;if(c&&(u=e-u),l&&(f=e-f),u>D4||f>D4)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:c,k1:u,k2neg:l,k2:f}}function OU(r){let{n:e}=Bt,n=r.length*8-256,i=yo(r);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var M4=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return et.utils.hmacSha256(this.k,...e)}hmacSync(...e){if(typeof et.utils.hmacSha256Sync!="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");let t=et.utils.hmacSha256Sync(this.k,...e);if(t instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return t}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}};function bg(r){return Dt<r&&r<Bt.n}function B4(r){return Dt<r&&r<Bt.P}function DU(r,e,t){let n=yo(r);if(!bg(n))return;let{n:i}=Bt,o=Et.BASE.multiply(n),a=Ee(o.x,i);if(a===Dt)return;let s=Ee(wg(n,i)*Ee(e+t*a,i),i);if(s===Dt)return;let u=new pu(a,s),f=(o.x===u.r?0:2)|Number(o.y&$t);return{sig:u,recovery:f}}function yf(r){let e;if(typeof r=="bigint")e=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)e=BigInt(r);else if(typeof r=="string"){if(r.length!==64)throw new Error("Expected 32 bytes of private key");e=P4(r)}else if(bv(r)){if(r.length!==32)throw new Error("Expected 32 bytes of private key");e=yo(r)}else throw new TypeError("Expected valid private key");if(!bg(e))throw new Error("Expected private key: 0 < key < n");return e}function $T(r){return r instanceof Et?(r.assertValidity(),r):Et.fromHex(r)}function RU(r){if(r instanceof pu)return r.assertValidity(),r;try{return pu.fromDER(r)}catch{return pu.fromCompact(r)}}function rce(r,e=!1){return Et.fromPrivateKey(r).toRawBytes(e)}et.getPublicKey=rce;function nce(r,e,t,n=!1){return Et.fromSignature(r,e,t).toRawBytes(n)}et.recoverPublicKey=nce;function AU(r){let e=bv(r),t=typeof r=="string",n=(e||t)&&r.length;return e?n===33||n===65:t?n===66||n===130:r instanceof Et}function ice(r,e,t=!1){if(AU(r))throw new TypeError("getSharedSecret: first arg must be private key");if(!AU(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=$T(e);return n.assertValidity(),n.multiply(yf(r)).toRawBytes(t)}et.getSharedSecret=ice;function BU(r){let e=r.length>32?r.slice(0,32):r;return yo(e)}function oce(r){let e=BU(r),t=Ee(e,Bt.n);return PU(t<Dt?e:t)}function PU(r){if(typeof r!="bigint")throw new Error("Expected bigint");let e=xc(r);return bc(e)}function MU(r,e,t){if(r==null)throw new Error(`sign: expected valid message hash, not "${r}"`);let n=gu(r),i=yf(e),o=[PU(i),oce(n)];if(t!=null){t===!0&&(t=et.utils.randomBytes(32));let u=gu(t);if(u.length!==32)throw new Error("sign: Expected 32 bytes of extra data");o.push(u)}let a=vg(...o),s=BU(n);return{seed:a,m:s,d:i}}function NU(r,e){let{sig:t,recovery:n}=r,{canonical:i,der:o,recovered:a}=Object.assign({canonical:!0,der:!0},e);i&&t.hasHighS()&&(t=t.normalizeS(),n^=1);let s=o?t.toDERRawBytes():t.toCompactRawBytes();return a?[s,n]:s}async function ace(r,e,t={}){let{seed:n,m:i,d:o}=MU(r,e,t.extraEntropy),a,s=new M4;for(await s.reseed(n);!(a=DU(await s.generate(),i,o));)await s.reseed();return NU(a,t)}et.sign=ace;function sce(r,e,t={}){let{seed:n,m:i,d:o}=MU(r,e,t.extraEntropy),a,s=new M4;for(s.reseedSync(n);!(a=DU(s.generateSync(),i,o));)s.reseedSync();return NU(a,t)}et.signSync=sce;var uce={strict:!0};function fce(r,e,t,n=uce){let i;try{i=RU(r),e=gu(e)}catch{return!1}let{r:o,s:a}=i;if(n.strict&&i.hasHighS())return!1;let s=OU(e),u;try{u=$T(t)}catch{return!1}let{n:f}=Bt,c=wg(a,f),l=Ee(s*c,f),g=Ee(o*c,f),y=Et.BASE.multiplyAndAddUnsafe(u,l,g);return y?Ee(y.x,f)===o:!1}et.verify=fce;function N4(r){return Ee(yo(r),Bt.n)}function ZT(r){return(r.y&$t)===Dt}var ud=class{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=gu(e);if(t.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);let n=yo(t.subarray(0,32)),i=yo(t.subarray(32,64));return new ud(n,i)}assertValidity(){let{r:e,s:t}=this;if(!B4(e)||!bg(t))throw new Error("Invalid signature")}toHex(){return xc(this.r)+xc(this.s)}toRawBytes(){return bc(this.toHex())}};function cce(r){return Et.fromPrivateKey(r).toRawX()}function kU(r,e,t){if(r==null)throw new TypeError(`sign: Expected valid message, not "${r}"`);let n=gu(r),i=yf(e),o=gu(t);if(o.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let a=Et.fromPrivateKey(i),s=a.toRawX(),u=ZT(a)?i:Bt.n-i;return{m:n,P:a,px:s,d:u,rand:o}}function qU(r,e){return _g(r^yo(e))}function FU(r){let e=Ee(yo(r),Bt.n);if(e===Dt)throw new Error("sign: Creation of signature failed. k is zero");let t=Et.fromPrivateKey(e),n=t.toRawX(),i=ZT(t)?e:Bt.n-e;return{R:t,rx:n,k:i}}function LU(r,e,t,n){return new ud(r.x,Ee(e+t*n,Bt.n)).toRawBytes()}async function dce(r,e,t=et.utils.randomBytes()){let{m:n,px:i,d:o,rand:a}=kU(r,e,t),s=qU(o,await et.utils.taggedHash(sd.aux,a)),{R:u,rx:f,k:c}=FU(await et.utils.taggedHash(sd.nonce,s,i,n)),l=N4(await et.utils.taggedHash(sd.challenge,f,i,n)),g=LU(u,c,l,o);if(!await HU(g,n,i))throw new Error("sign: Invalid signature produced");return g}function lce(r,e,t=et.utils.randomBytes()){let{m:n,px:i,d:o,rand:a}=kU(r,e,t),s=qU(o,et.utils.taggedHashSync(sd.aux,a)),{R:u,rx:f,k:c}=FU(et.utils.taggedHashSync(sd.nonce,s,i,n)),l=N4(et.utils.taggedHashSync(sd.challenge,f,i,n)),g=LU(u,c,l,o);if(!KU(g,n,i))throw new Error("sign: Invalid signature produced");return g}function UU(r,e,t){let n=r instanceof ud,i=n?r:ud.fromHex(r);return n&&i.assertValidity(),{...i,m:gu(e),P:$T(t)}}function jU(r,e,t,n){let i=Et.BASE.multiplyAndAddUnsafe(e,yf(t),Ee(-n,Bt.n));return!(!i||!ZT(i)||i.x!==r)}async function HU(r,e,t){try{let{r:n,s:i,m:o,P:a}=UU(r,e,t),s=N4(await et.utils.taggedHash(sd.challenge,_g(n),a.toRawX(),o));return jU(n,a,i,s)}catch{return!1}}function KU(r,e,t){try{let{r:n,s:i,m:o,P:a}=UU(r,e,t),s=N4(et.utils.taggedHashSync(sd.challenge,_g(n),a.toRawX(),o));return jU(n,a,i,s)}catch{return!1}}et.schnorr={Signature:ud,getPublicKey:cce,sign:dce,verify:HU,signSync:lce,verifySync:KU};Et.BASE._setWindowSize(8);var da={node:Jfe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},sd={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},R4={};et.utils={isValidPrivateKey(r){try{return yf(r),!0}catch{return!1}},privateAdd:(r,e)=>{let t=yf(r),n=yf(e);return _g(Ee(t+n,Bt.n))},privateNegate:r=>{let e=yf(r);return _g(Bt.n-e)},pointAddScalar:(r,e,t)=>{let n=Et.fromHex(r),i=yf(e),o=Et.BASE.multiplyAndAddUnsafe(n,i,$t);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(t)},pointMultiply:(r,e,t)=>{let n=Et.fromHex(r),i=yo(gu(e));return n.multiply(i).toRawBytes(t)},hashToPrivateKey:r=>{if(r=gu(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=Ee(yo(r),Bt.n-$t)+$t;return _g(e)},randomBytes:(r=32)=>{if(da.web)return da.web.getRandomValues(new Uint8Array(r));if(da.node){let{randomBytes:e}=da.node;return Uint8Array.from(e(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>et.utils.hashToPrivateKey(et.utils.randomBytes(40)),bytesToHex:xg,hexToBytes:bc,concatBytes:vg,mod:Ee,invert:wg,sha256:async(...r)=>{if(da.web){let e=await da.web.subtle.digest("SHA-256",vg(...r));return new Uint8Array(e)}else if(da.node){let{createHash:e}=da.node,t=e("sha256");return r.forEach(n=>t.update(n)),Uint8Array.from(t.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...e)=>{if(da.web){let t=await da.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=vg(...e),i=await da.web.subtle.sign("HMAC",t,n);return new Uint8Array(i)}else if(da.node){let{createHmac:t}=da.node,n=t("sha256",r);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...e)=>{let t=R4[r];if(t===void 0){let n=await et.utils.sha256(Uint8Array.from(r,i=>i.charCodeAt(0)));t=vg(n,n),R4[r]=t}return et.utils.sha256(t,...e)},taggedHashSync:(r,...e)=>{if(typeof et.utils.sha256Sync!="function")throw new Error("utils.sha256Sync is undefined, you need to set it");let t=R4[r];if(t===void 0){let n=et.utils.sha256Sync(Uint8Array.from(r,i=>i.charCodeAt(0)));t=vg(n,n),R4[r]=t}return et.utils.sha256Sync(t,...e)},precompute(r=8,e=Et.BASE){let t=e===Et.BASE?e:new Et(e.x,e.y);return t._setWindowSize(r),t.multiply(xv),t}}});var k4=T(_r=>{h();p();Object.defineProperty(_r,"__esModule",{value:!0});_r.schnorr=_r.Signature=_r.Point=_r.CURVE=_r.utils=_r.getSharedSecret=_r.recoverPublicKey=_r.verify=_r.signSync=_r.sign=_r.getPublicKey=void 0;var hce=_U(),pce=bU(),gce=QT(),mu=QT();Object.defineProperty(_r,"getPublicKey",{enumerable:!0,get:function(){return mu.getPublicKey}});Object.defineProperty(_r,"sign",{enumerable:!0,get:function(){return mu.sign}});Object.defineProperty(_r,"signSync",{enumerable:!0,get:function(){return mu.signSync}});Object.defineProperty(_r,"verify",{enumerable:!0,get:function(){return mu.verify}});Object.defineProperty(_r,"recoverPublicKey",{enumerable:!0,get:function(){return mu.recoverPublicKey}});Object.defineProperty(_r,"getSharedSecret",{enumerable:!0,get:function(){return mu.getSharedSecret}});Object.defineProperty(_r,"utils",{enumerable:!0,get:function(){return mu.utils}});Object.defineProperty(_r,"CURVE",{enumerable:!0,get:function(){return mu.CURVE}});Object.defineProperty(_r,"Point",{enumerable:!0,get:function(){return mu.Point}});Object.defineProperty(_r,"Signature",{enumerable:!0,get:function(){return mu.Signature}});Object.defineProperty(_r,"schnorr",{enumerable:!0,get:function(){return mu.schnorr}});gce.utils.hmacSha256Sync=(r,...e)=>{let t=hce.hmac.create(pce.sha256,r);return e.forEach(n=>t.update(n)),t.digest()}});var F4=T(Kt=>{h();p();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.RLP_EMPTY_STRING=Kt.KECCAK256_RLP=Kt.KECCAK256_RLP_S=Kt.KECCAK256_RLP_ARRAY=Kt.KECCAK256_RLP_ARRAY_S=Kt.KECCAK256_NULL=Kt.KECCAK256_NULL_S=Kt.TWO_POW256=Kt.SECP256K1_ORDER_DIV_2=Kt.SECP256K1_ORDER=Kt.MAX_INTEGER_BIGINT=Kt.MAX_INTEGER=Kt.MAX_UINT64=void 0;var q4=Qn(),VU=k4();Kt.MAX_UINT64=BigInt("0xffffffffffffffff");Kt.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Kt.MAX_INTEGER_BIGINT=BigInt(2)**BigInt(256)-BigInt(1);Kt.SECP256K1_ORDER=VU.CURVE.n;Kt.SECP256K1_ORDER_DIV_2=VU.CURVE.n/BigInt(2);Kt.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");Kt.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Kt.KECCAK256_NULL=q4.Buffer.from(Kt.KECCAK256_NULL_S,"hex");Kt.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Kt.KECCAK256_RLP_ARRAY=q4.Buffer.from(Kt.KECCAK256_RLP_ARRAY_S,"hex");Kt.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Kt.KECCAK256_RLP=q4.Buffer.from(Kt.KECCAK256_RLP_S,"hex");Kt.RLP_EMPTY_STRING=q4.Buffer.from([128])});var QU=T(vf=>{h();p();Object.defineProperty(vf,"__esModule",{value:!0});vf.RLP=vf.utils=vf.decode=vf.encode=void 0;function r7(r){if(Array.isArray(r)){let t=[];for(let i=0;i<r.length;i++)t.push(r7(r[i]));let n=L4(...t);return L4(GU(n.length,192),n)}let e=ZU(r);return e.length===1&&e[0]<128?e:L4(GU(e.length,128),e)}vf.encode=r7;function Sg(r,e,t){if(t>r.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return r.slice(e,t)}function zU(r){if(r[0]===0)throw new Error("invalid RLP: extra zeros");return XU(WU(r))}function GU(r,e){if(r<56)return Uint8Array.from([r+e]);let t=t7(r),n=t.length/2,i=t7(e+55+n);return Uint8Array.from(U4(i+t))}function YU(r,e=!1){if(typeof r>"u"||r===null||r.length===0)return Uint8Array.from([]);let t=ZU(r),n=e7(t);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}vf.decode=YU;function e7(r){let e,t,n,i,o,a=[],s=r[0];if(s<=127)return{data:r.slice(0,1),remainder:r.slice(1)};if(s<=183){if(e=s-127,s===128?n=Uint8Array.from([]):n=Sg(r,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:r.slice(e)}}else if(s<=191){if(t=s-182,r.length-1<t)throw new Error("invalid RLP: not enough bytes for string length");if(e=zU(Sg(r,1,t)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=Sg(r,t,e+t),{data:n,remainder:r.slice(e+t)}}else if(s<=247){for(e=s-191,i=Sg(r,1,e);i.length;)o=e7(i),a.push(o.data),i=o.remainder;return{data:a,remainder:r.slice(e)}}else{if(t=s-246,e=zU(Sg(r,1,t)),e<56)throw new Error("invalid RLP: encoded list too short");let u=t+e;if(u>r.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Sg(r,t,u);i.length;)o=e7(i),a.push(o.data),i=o.remainder;return{data:a,remainder:r.slice(u)}}}var mce=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function WU(r){let e="";for(let t=0;t<r.length;t++)e+=mce[r[t]];return e}function XU(r){let e=Number.parseInt(r,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function U4(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2;e[t]=XU(r.slice(n,n+2))}return e}function L4(...r){if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let o=r[n];t.set(o,i),i+=o.length}return t}function JU(r){return new TextEncoder().encode(r)}function t7(r){if(r<0)throw new Error("Invalid integer as argument, must be unsigned!");let e=r.toString(16);return e.length%2?`0${e}`:e}function yce(r){return r.length%2?`0${r}`:r}function $U(r){return r.length>=2&&r[0]==="0"&&r[1]==="x"}function vce(r){return typeof r!="string"?r:$U(r)?r.slice(2):r}function ZU(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return $U(r)?U4(yce(vce(r))):JU(r);if(typeof r=="number"||typeof r=="bigint")return r?U4(t7(r)):Uint8Array.from([]);if(r==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof r)}vf.utils={bytesToHex:WU,concatBytes:L4,hexToBytes:U4,utf8ToBytes:JU};vf.RLP={encode:r7,decode:YU}});var rj=T(Xa=>{h();p();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.add=Xa.toBig=Xa.split=Xa.fromBig=void 0;var j4=BigInt(2**32-1),n7=BigInt(32);function i7(r,e=!1){return e?{h:Number(r&j4),l:Number(r>>n7&j4)}:{h:Number(r>>n7&j4)|0,l:Number(r&j4)|0}}Xa.fromBig=i7;function ej(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){let{h:o,l:a}=i7(r[i],e);[t[i],n[i]]=[o,a]}return[t,n]}Xa.split=ej;var _ce=(r,e)=>BigInt(r>>>0)<<n7|BigInt(e>>>0);Xa.toBig=_ce;var xce=(r,e,t)=>r>>>t,bce=(r,e,t)=>r<<32-t|e>>>t,wce=(r,e,t)=>r>>>t|e<<32-t,Sce=(r,e,t)=>r<<32-t|e>>>t,Cce=(r,e,t)=>r<<64-t|e>>>t-32,Ece=(r,e,t)=>r>>>t-32|e<<64-t,Ice=(r,e)=>e,Tce=(r,e)=>r,Ace=(r,e,t)=>r<<t|e>>>32-t,Oce=(r,e,t)=>e<<t|r>>>32-t,Dce=(r,e,t)=>e<<t-32|r>>>64-t,Rce=(r,e,t)=>r<<t-32|e>>>64-t;function tj(r,e,t,n){let i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}Xa.add=tj;var Bce=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),Pce=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,Mce=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),Nce=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,kce=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),qce=(r,e,t,n,i,o)=>e+t+n+i+o+(r/2**32|0)|0,Fce={fromBig:i7,split:ej,toBig:Xa.toBig,shrSH:xce,shrSL:bce,rotrSH:wce,rotrSL:Sce,rotrBH:Cce,rotrBL:Ece,rotr32H:Ice,rotr32L:Tce,rotlSH:Ace,rotlSL:Oce,rotlBH:Dce,rotlBL:Rce,add:tj,add3L:Bce,add3H:Pce,add4L:Mce,add4H:Nce,add5H:qce,add5L:kce};Xa.default=Fce});var cj=T(hr=>{h();p();Object.defineProperty(hr,"__esModule",{value:!0});hr.shake256=hr.shake128=hr.keccak_512=hr.keccak_384=hr.keccak_256=hr.keccak_224=hr.sha3_512=hr.sha3_384=hr.sha3_256=hr.sha3_224=hr.Keccak=hr.keccakP=void 0;var Cg=mv(),Cv=rj(),Sv=Dh(),[oj,aj,sj]=[[],[],[]],Lce=BigInt(0),wv=BigInt(1),Uce=BigInt(2),jce=BigInt(7),Hce=BigInt(256),Kce=BigInt(113);for(let r=0,e=wv,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],oj.push(2*(5*n+t)),aj.push((r+1)*(r+2)/2%64);let i=Lce;for(let o=0;o<7;o++)e=(e<<wv^(e>>jce)*Kce)%Hce,e&Uce&&(i^=wv<<(wv<<BigInt(o))-wv);sj.push(i)}var[Vce,zce]=Cv.default.split(sj,!0),nj=(r,e,t)=>t>32?Cv.default.rotlBH(r,e,t):Cv.default.rotlSH(r,e,t),ij=(r,e,t)=>t>32?Cv.default.rotlBL(r,e,t):Cv.default.rotlSL(r,e,t);function uj(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)t[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){let s=(a+8)%10,u=(a+2)%10,f=t[u],c=t[u+1],l=nj(f,c,1)^t[s],g=ij(f,c,1)^t[s+1];for(let y=0;y<50;y+=10)r[a+y]^=l,r[a+y+1]^=g}let i=r[2],o=r[3];for(let a=0;a<24;a++){let s=aj[a],u=nj(i,o,s),f=ij(i,o,s),c=oj[a];i=r[c],o=r[c+1],r[c]=u,r[c+1]=f}for(let a=0;a<50;a+=10){for(let s=0;s<10;s++)t[s]=r[a+s];for(let s=0;s<10;s++)r[a+s]^=~t[(s+2)%10]&t[(s+4)%10]}r[0]^=Vce[n],r[1]^=zce[n]}t.fill(0)}hr.keccakP=uj;var Rh=class extends Sv.Hash{constructor(e,t,n,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Cg.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Sv.u32)(this.state)}keccak(){uj(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Cg.default.exists(this);let{blockLen:t,state:n}=this;e=(0,Sv.toBytes)(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(t-this.pos,i-o);for(let s=0;s<a;s++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,(t&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Cg.default.exists(this,!1),Cg.default.bytes(e),this.finish();let t=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Cg.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Cg.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return e||(e=new Rh(t,n,i,a,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};hr.Keccak=Rh;var fd=(r,e,t)=>(0,Sv.wrapConstructor)(()=>new Rh(e,r,t));hr.sha3_224=fd(6,144,224/8);hr.sha3_256=fd(6,136,256/8);hr.sha3_384=fd(6,104,384/8);hr.sha3_512=fd(6,72,512/8);hr.keccak_224=fd(1,144,224/8);hr.keccak_256=fd(1,136,256/8);hr.keccak_384=fd(1,104,384/8);hr.keccak_512=fd(1,72,512/8);var fj=(r,e,t)=>(0,Sv.wrapConstructorWithOpts)((n={})=>new Rh(e,r,n.dkLen===void 0?t:n.dkLen,!0));hr.shake128=fj(31,168,128/8);hr.shake256=fj(31,136,256/8)});var a7=T((Zt,Ev)=>{h();p();var Gce=Zt&&Zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.crypto=Zt.wrapHash=Zt.equalsBytes=Zt.hexToBytes=Zt.bytesToUtf8=Zt.utf8ToBytes=Zt.createView=Zt.concatBytes=Zt.toHex=Zt.bytesToHex=Zt.assertBytes=Zt.assertBool=void 0;var o7=Gce(mv()),Yce=Dh(),Wce=o7.default.bool;Zt.assertBool=Wce;var Xce=o7.default.bytes;Zt.assertBytes=Xce;var Iv=Dh();Object.defineProperty(Zt,"bytesToHex",{enumerable:!0,get:function(){return Iv.bytesToHex}});Object.defineProperty(Zt,"toHex",{enumerable:!0,get:function(){return Iv.bytesToHex}});Object.defineProperty(Zt,"concatBytes",{enumerable:!0,get:function(){return Iv.concatBytes}});Object.defineProperty(Zt,"createView",{enumerable:!0,get:function(){return Iv.createView}});Object.defineProperty(Zt,"utf8ToBytes",{enumerable:!0,get:function(){return Iv.utf8ToBytes}});function Jce(r){if(!(r instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof r}`);return new TextDecoder().decode(r)}Zt.bytesToUtf8=Jce;function $ce(r){let e=r.startsWith("0x")?r.substring(2):r;return(0,Yce.hexToBytes)(e)}Zt.hexToBytes=$ce;function Zce(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}Zt.equalsBytes=Zce;function Qce(r){return e=>(o7.default.bytes(e),r(e))}Zt.wrapHash=Qce;Zt.crypto=(()=>{let r=typeof self=="object"&&"crypto"in self?self.crypto:void 0,e=typeof Ev<"u"&&typeof Ev.require=="function"&&Ev.require.bind(Ev);return{node:e&&!r?e("crypto"):void 0,web:r}})()});var s7=T(_f=>{h();p();Object.defineProperty(_f,"__esModule",{value:!0});_f.keccak512=_f.keccak384=_f.keccak256=_f.keccak224=void 0;var Tv=cj(),H4=a7();_f.keccak224=(0,H4.wrapHash)(Tv.keccak_224);_f.keccak256=(()=>{let r=(0,H4.wrapHash)(Tv.keccak_256);return r.create=Tv.keccak_256.create,r})();_f.keccak384=(0,H4.wrapHash)(Tv.keccak_384);_f.keccak512=(0,H4.wrapHash)(Tv.keccak_512)});var Eg=T(Tr=>{h();p();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isHexString=Tr.getKeys=Tr.fromAscii=Tr.fromUtf8=Tr.toAscii=Tr.arrayContainsArray=Tr.getBinarySize=Tr.padToEven=Tr.stripHexPrefix=Tr.isHexPrefixed=void 0;function dj(r){if(typeof r!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof r}`);return r[0]==="0"&&r[1]==="x"}Tr.isHexPrefixed=dj;var e0e=r=>{if(typeof r!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof r}`);return dj(r)?r.slice(2):r};Tr.stripHexPrefix=e0e;function lj(r){let e=r;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}Tr.padToEven=lj;function t0e(r){if(typeof r!="string")throw new Error(`[getBinarySize] method requires input type 'string', recieved ${typeof r}`);return m.Buffer.byteLength(r,"utf8")}Tr.getBinarySize=t0e;function r0e(r,e,t){if(Array.isArray(r)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof r}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[t===!0?"some":"every"](n=>r.indexOf(n)>=0)}Tr.arrayContainsArray=r0e;function n0e(r){let e="",t=0,n=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<n;t+=2){let i=parseInt(r.substr(t,2),16);e+=String.fromCharCode(i)}return e}Tr.toAscii=n0e;function i0e(r){let e=m.Buffer.from(r,"utf8");return`0x${lj(e.toString("hex")).replace(/^0+|0+$/g,"")}`}Tr.fromUtf8=i0e;function o0e(r){let e="";for(let t=0;t<r.length;t++){let i=r.charCodeAt(t).toString(16);e+=i.length<2?`0${i}`:i}return`0x${e}`}Tr.fromAscii=o0e;function a0e(r,e,t){if(!Array.isArray(r))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof r}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof r}`);let n=[];for(let i=0;i<r.length;i++){let o=r[i][e];if(t===!0&&!o)o="";else if(typeof o!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof o}`);n.push(o)}return n}Tr.getKeys=a0e;function s0e(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&r.length!==2+2*e)}Tr.isHexString=s0e});var K4=T(xf=>{h();p();Object.defineProperty(xf,"__esModule",{value:!0});xf.assertIsString=xf.assertIsArray=xf.assertIsBuffer=xf.assertIsHexString=void 0;var u0e=Eg(),f0e=function(r){if(!(0,u0e.isHexString)(r)){let e=`This method only supports 0x-prefixed hex strings but input was: ${r}`;throw new Error(e)}};xf.assertIsHexString=f0e;var c0e=function(r){if(!m.Buffer.isBuffer(r)){let e=`This method only supports Buffer but input was: ${r}`;throw new Error(e)}};xf.assertIsBuffer=c0e;var d0e=function(r){if(!Array.isArray(r)){let e=`This method only supports number arrays but input was: ${r}`;throw new Error(e)}};xf.assertIsArray=d0e;var l0e=function(r){if(typeof r!="string"){let e=`This method only supports strings but input was: ${r}`;throw new Error(e)}};xf.assertIsString=l0e});var Ig=T(Ne=>{h();p();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.bigIntToUnpaddedBuffer=Ne.bigIntToHex=Ne.bufArrToArr=Ne.arrToBufArr=Ne.validateNoLeadingZeroes=Ne.baToJSON=Ne.toUtf8=Ne.short=Ne.addHexPrefix=Ne.toUnsigned=Ne.fromSigned=Ne.bufferToInt=Ne.bigIntToBuffer=Ne.bufferToBigInt=Ne.bufferToHex=Ne.toBuffer=Ne.unpadHexString=Ne.unpadArray=Ne.unpadBuffer=Ne.setLengthRight=Ne.setLengthLeft=Ne.zeros=Ne.intToBuffer=Ne.intToHex=void 0;var Av=K4(),Bh=Eg(),h0e=function(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Received an invalid integer type: ${r}`);return`0x${r.toString(16)}`};Ne.intToHex=h0e;var p0e=function(r){let e=(0,Ne.intToHex)(r);return m.Buffer.from((0,Bh.padToEven)(e.slice(2)),"hex")};Ne.intToBuffer=p0e;var g0e=function(r){return m.Buffer.allocUnsafe(r).fill(0)};Ne.zeros=g0e;var hj=function(r,e,t){let n=(0,Ne.zeros)(e);return t?r.length<e?(r.copy(n),n):r.slice(0,e):r.length<e?(r.copy(n,e-r.length),n):r.slice(-e)},m0e=function(r,e){return(0,Av.assertIsBuffer)(r),hj(r,e,!1)};Ne.setLengthLeft=m0e;var y0e=function(r,e){return(0,Av.assertIsBuffer)(r),hj(r,e,!0)};Ne.setLengthRight=y0e;var u7=function(r){let e=r[0];for(;r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r},v0e=function(r){return(0,Av.assertIsBuffer)(r),u7(r)};Ne.unpadBuffer=v0e;var _0e=function(r){return(0,Av.assertIsArray)(r),u7(r)};Ne.unpadArray=_0e;var x0e=function(r){return(0,Av.assertIsHexString)(r),r=(0,Bh.stripHexPrefix)(r),"0x"+u7(r)};Ne.unpadHexString=x0e;var b0e=function(r){if(r==null)return m.Buffer.allocUnsafe(0);if(m.Buffer.isBuffer(r))return m.Buffer.from(r);if(Array.isArray(r)||r instanceof Uint8Array)return m.Buffer.from(r);if(typeof r=="string"){if(!(0,Bh.isHexString)(r))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${r}`);return m.Buffer.from((0,Bh.padToEven)((0,Bh.stripHexPrefix)(r)),"hex")}if(typeof r=="number")return(0,Ne.intToBuffer)(r);if(typeof r=="bigint"){if(r<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${r}`);let e=r.toString(16);return e.length%2&&(e="0"+e),m.Buffer.from(e,"hex")}if(r.toArray)return m.Buffer.from(r.toArray());if(r.toBuffer)return m.Buffer.from(r.toBuffer());throw new Error("invalid type")};Ne.toBuffer=b0e;var w0e=function(r){return r=(0,Ne.toBuffer)(r),"0x"+r.toString("hex")};Ne.bufferToHex=w0e;function f7(r){let e=(0,Ne.bufferToHex)(r);return BigInt(e==="0x"?0:e)}Ne.bufferToBigInt=f7;function c7(r){return(0,Ne.toBuffer)("0x"+r.toString(16))}Ne.bigIntToBuffer=c7;var S0e=function(r){let e=Number(f7(r));if(!Number.isSafeInteger(e))throw new Error("Number exceeds 53 bits");return e};Ne.bufferToInt=S0e;var C0e=function(r){return BigInt.asIntN(256,f7(r))};Ne.fromSigned=C0e;var E0e=function(r){return c7(BigInt.asUintN(256,r))};Ne.toUnsigned=E0e;var I0e=function(r){return typeof r!="string"||(0,Bh.isHexPrefixed)(r)?r:"0x"+r};Ne.addHexPrefix=I0e;function T0e(r,e=50){let t=m.Buffer.isBuffer(r)?r.toString("hex"):r;return t.length<=e?t:t.slice(0,e)+"\u2026"}Ne.short=T0e;var A0e=function(r){let e=/^(00)+|(00)+$/g;if(r=(0,Bh.stripHexPrefix)(r),r.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return m.Buffer.from(r.replace(e,""),"hex").toString("utf8")};Ne.toUtf8=A0e;var O0e=function(r){if(m.Buffer.isBuffer(r))return`0x${r.toString("hex")}`;if(r instanceof Array){let e=[];for(let t=0;t<r.length;t++)e.push((0,Ne.baToJSON)(r[t]));return e}};Ne.baToJSON=O0e;var D0e=function(r){for(let[e,t]of Object.entries(r))if(t!==void 0&&t.length>0&&t[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${t.toString("hex")}`)};Ne.validateNoLeadingZeroes=D0e;function pj(r){return Array.isArray(r)?r.map(e=>pj(e)):m.Buffer.from(r)}Ne.arrToBufArr=pj;function gj(r){return Array.isArray(r)?r.map(e=>gj(e)):Uint8Array.from(r??[])}Ne.bufArrToArr=gj;var R0e=r=>"0x"+r.toString(16);Ne.bigIntToHex=R0e;function B0e(r){return(0,Ne.unpadBuffer)(c7(r))}Ne.bigIntToUnpaddedBuffer=B0e});var d7=T(rt=>{h();p();Object.defineProperty(rt,"__esModule",{value:!0});rt.accountBodyToRLP=rt.accountBodyToSlim=rt.accountBodyFromSlim=rt.isZeroAddress=rt.zeroAddress=rt.importPublic=rt.privateToAddress=rt.privateToPublic=rt.publicToAddress=rt.pubToAddress=rt.isValidPublic=rt.isValidPrivate=rt.generateAddress2=rt.generateAddress=rt.isValidChecksumAddress=rt.toChecksumAddress=rt.isValidAddress=rt.Account=void 0;var Ov=QU(),Ag=s7(),Og=k4(),P0e=a7(),vr=Ig(),cd=F4(),Ja=K4(),M0e=Eg(),Tg=BigInt(0),Dg=class{constructor(e=Tg,t=Tg,n=cd.KECCAK256_RLP,i=cd.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=n,this.codeHash=i,this._validate()}static fromAccountData(e){let{nonce:t,balance:n,storageRoot:i,codeHash:o}=e;return new Dg(t!==void 0?(0,vr.bufferToBigInt)((0,vr.toBuffer)(t)):void 0,n!==void 0?(0,vr.bufferToBigInt)((0,vr.toBuffer)(n)):void 0,i!==void 0?(0,vr.toBuffer)(i):void 0,o!==void 0?(0,vr.toBuffer)(o):void 0)}static fromRlpSerializedAccount(e){let t=(0,vr.arrToBufArr)(Ov.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)}static fromValuesArray(e){let[t,n,i,o]=e;return new Dg((0,vr.bufferToBigInt)(t),(0,vr.bufferToBigInt)(n),i,o)}_validate(){if(this.nonce<Tg)throw new Error("nonce must be greater than zero");if(this.balance<Tg)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,vr.bigIntToUnpaddedBuffer)(this.nonce),(0,vr.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return m.Buffer.from(Ov.RLP.encode((0,vr.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(cd.KECCAK256_NULL)}isEmpty(){return this.balance===Tg&&this.nonce===Tg&&this.codeHash.equals(cd.KECCAK256_NULL)}};rt.Account=Dg;var N0e=function(r){try{(0,Ja.assertIsString)(r)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(r)};rt.isValidAddress=N0e;var k0e=function(r,e){(0,Ja.assertIsHexString)(r);let t=(0,M0e.stripHexPrefix)(r).toLowerCase(),n="";e!==void 0&&(n=(0,vr.bufferToBigInt)((0,vr.toBuffer)(e)).toString()+"0x");let i=m.Buffer.from(n+t,"utf8"),o=(0,P0e.bytesToHex)((0,Ag.keccak256)(i)),a="0x";for(let s=0;s<t.length;s++)parseInt(o[s],16)>=8?a+=t[s].toUpperCase():a+=t[s];return a};rt.toChecksumAddress=k0e;var q0e=function(r,e){return(0,rt.isValidAddress)(r)&&(0,rt.toChecksumAddress)(r,e)===r};rt.isValidChecksumAddress=q0e;var F0e=function(r,e){return(0,Ja.assertIsBuffer)(r),(0,Ja.assertIsBuffer)(e),(0,vr.bufferToBigInt)(e)===BigInt(0)?m.Buffer.from((0,Ag.keccak256)(Ov.RLP.encode((0,vr.bufArrToArr)([r,null])))).slice(-20):m.Buffer.from((0,Ag.keccak256)(Ov.RLP.encode((0,vr.bufArrToArr)([r,e])))).slice(-20)};rt.generateAddress=F0e;var L0e=function(r,e,t){if((0,Ja.assertIsBuffer)(r),(0,Ja.assertIsBuffer)(e),(0,Ja.assertIsBuffer)(t),r.length!==20)throw new Error("Expected from to be of length 20");if(e.length!==32)throw new Error("Expected salt to be of length 32");let n=(0,Ag.keccak256)(m.Buffer.concat([m.Buffer.from("ff","hex"),r,e,(0,Ag.keccak256)(t)]));return(0,vr.toBuffer)(n).slice(-20)};rt.generateAddress2=L0e;var U0e=function(r){return Og.utils.isValidPrivateKey(r)};rt.isValidPrivate=U0e;var j0e=function(r,e=!1){if((0,Ja.assertIsBuffer)(r),r.length===64)try{return Og.Point.fromHex(m.Buffer.concat([m.Buffer.from([4]),r])),!0}catch{return!1}if(!e)return!1;try{return Og.Point.fromHex(r),!0}catch{return!1}};rt.isValidPublic=j0e;var H0e=function(r,e=!1){if((0,Ja.assertIsBuffer)(r),e&&r.length!==64&&(r=m.Buffer.from(Og.Point.fromHex(r).toRawBytes(!1).slice(1))),r.length!==64)throw new Error("Expected pubKey to be of length 64");return m.Buffer.from((0,Ag.keccak256)(r)).slice(-20)};rt.pubToAddress=H0e;rt.publicToAddress=rt.pubToAddress;var K0e=function(r){return(0,Ja.assertIsBuffer)(r),m.Buffer.from(Og.Point.fromPrivateKey(r).toRawBytes(!1).slice(1))};rt.privateToPublic=K0e;var V0e=function(r){return(0,rt.publicToAddress)((0,rt.privateToPublic)(r))};rt.privateToAddress=V0e;var z0e=function(r){return(0,Ja.assertIsBuffer)(r),r.length!==64&&(r=m.Buffer.from(Og.Point.fromHex(r).toRawBytes(!1).slice(1))),r};rt.importPublic=z0e;var G0e=function(){let e=(0,vr.zeros)(20);return(0,vr.bufferToHex)(e)};rt.zeroAddress=G0e;var Y0e=function(r){try{(0,Ja.assertIsString)(r)}catch{return!1}return(0,rt.zeroAddress)()===r};rt.isZeroAddress=Y0e;function yj(r){let[e,t,n,i]=r;return[e,t,(0,vr.arrToBufArr)(n).length===0?cd.KECCAK256_RLP:n,(0,vr.arrToBufArr)(i).length===0?cd.KECCAK256_NULL:i]}rt.accountBodyFromSlim=yj;var mj=new Uint8Array(0);function W0e(r){let[e,t,n,i]=r;return[e,t,(0,vr.arrToBufArr)(n).equals(cd.KECCAK256_RLP)?mj:n,(0,vr.arrToBufArr)(i).equals(cd.KECCAK256_NULL)?mj:i]}rt.accountBodyToSlim=W0e;function X0e(r,e=!0){let t=e?yj(r):r;return(0,vr.arrToBufArr)(Ov.RLP.encode(t))}rt.accountBodyToRLP=X0e});var vj=T(z4=>{h();p();Object.defineProperty(z4,"__esModule",{value:!0});z4.Address=void 0;var Dv=d7(),V4=Ig(),yu=class{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new yu((0,V4.zeros)(20))}static fromString(e){if(!(0,Dv.isValidAddress)(e))throw new Error("Invalid address");return new yu((0,V4.toBuffer)(e))}static fromPublicKey(e){if(!m.Buffer.isBuffer(e))throw new Error("Public key should be Buffer");let t=(0,Dv.pubToAddress)(e);return new yu(t)}static fromPrivateKey(e){if(!m.Buffer.isBuffer(e))throw new Error("Private key should be Buffer");let t=(0,Dv.privateToAddress)(e);return new yu(t)}static generate(e,t){if(typeof t!="bigint")throw new Error("Expected nonce to be a bigint");return new yu((0,Dv.generateAddress)(e.buf,(0,V4.bigIntToBuffer)(t)))}static generate2(e,t,n){if(!m.Buffer.isBuffer(t))throw new Error("Expected salt to be a Buffer");if(!m.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new yu((0,Dv.generateAddress2)(e.buf,t,n))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(yu.zero())}isPrecompileOrSystemAddress(){let e=(0,V4.bufferToBigInt)(this.buf),t=BigInt(0),n=BigInt("0xffff");return e>=t&&e<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return m.Buffer.from(this.buf)}};z4.Address=yu});var xj=T(bi=>{h();p();Object.defineProperty(bi,"__esModule",{value:!0});bi.hashPersonalMessage=bi.isValidSignature=bi.fromRpcSig=bi.toCompactSig=bi.toRpcSig=bi.ecrecover=bi.ecsign=void 0;var J0e=s7(),_j=k4(),Vo=Ig(),l7=F4(),$0e=K4();function Z0e(r,e,t){let[n,i]=(0,_j.signSync)(r,e,{recovered:!0,der:!1}),o=m.Buffer.from(n.slice(0,32)),a=m.Buffer.from(n.slice(32,64)),s=t===void 0?BigInt(i+27):BigInt(i+35)+BigInt(t)*BigInt(2);return{r:o,s:a,v:s}}bi.ecsign=Z0e;function G4(r,e){return r===BigInt(0)||r===BigInt(1)?r:e===void 0?r-BigInt(27):r-(e*BigInt(2)+BigInt(35))}function Y4(r){return r===BigInt(0)||r===BigInt(1)}var Q0e=function(r,e,t,n,i){let o=m.Buffer.concat([(0,Vo.setLengthLeft)(t,32),(0,Vo.setLengthLeft)(n,32)],64),a=G4(e,i);if(!Y4(a))throw new Error("Invalid signature v value");let s=(0,_j.recoverPublicKey)(r,o,Number(a));return m.Buffer.from(s.slice(1))};bi.ecrecover=Q0e;var ede=function(r,e,t,n){let i=G4(r,n);if(!Y4(i))throw new Error("Invalid signature v value");return(0,Vo.bufferToHex)(m.Buffer.concat([(0,Vo.setLengthLeft)(e,32),(0,Vo.setLengthLeft)(t,32),(0,Vo.toBuffer)(r)]))};bi.toRpcSig=ede;var tde=function(r,e,t,n){let i=G4(r,n);if(!Y4(i))throw new Error("Invalid signature v value");let o=t;return(r>BigInt(28)&&r%BigInt(2)===BigInt(1)||r===BigInt(1)||r===BigInt(28))&&(o=m.Buffer.from(t),o[0]|=128),(0,Vo.bufferToHex)(m.Buffer.concat([(0,Vo.setLengthLeft)(e,32),(0,Vo.setLengthLeft)(o,32)]))};bi.toCompactSig=tde;var rde=function(r){let e=(0,Vo.toBuffer)(r),t,n,i;if(e.length>=65)t=e.slice(0,32),n=e.slice(32,64),i=(0,Vo.bufferToBigInt)(e.slice(64));else if(e.length===64)t=e.slice(0,32),n=e.slice(32,64),i=BigInt((0,Vo.bufferToInt)(e.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r:t,s:n}};bi.fromRpcSig=rde;var nde=function(r,e,t,n=!0,i){if(e.length!==32||t.length!==32||!Y4(G4(r,i)))return!1;let o=(0,Vo.bufferToBigInt)(e),a=(0,Vo.bufferToBigInt)(t);return!(o===BigInt(0)||o>=l7.SECP256K1_ORDER||a===BigInt(0)||a>=l7.SECP256K1_ORDER||n&&a>=l7.SECP256K1_ORDER_DIV_2)};bi.isValidSignature=nde;var ide=function(r){(0,$0e.assertIsBuffer)(r);let e=m.Buffer.from(`Ethereum Signed Message:
${r.length}`,"utf-8");return m.Buffer.from((0,J0e.keccak256)(m.Buffer.concat([e,r])))};bi.hashPersonalMessage=ide});var bj=T(Ph=>{h();p();Object.defineProperty(Ph,"__esModule",{value:!0});Ph.toType=Ph.TypeOutput=void 0;var W4=Ig(),ode=Eg(),Rv;(function(r){r[r.Number=0]="Number",r[r.BigInt=1]="BigInt",r[r.Buffer=2]="Buffer",r[r.PrefixedHexString=3]="PrefixedHexString"})(Rv=Ph.TypeOutput||(Ph.TypeOutput={}));function ade(r,e){if(r===null)return null;if(r===void 0)return;if(typeof r=="string"&&!(0,ode.isHexString)(r))throw new Error(`A string must be provided with a 0x-prefix, given: ${r}`);if(typeof r=="number"&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let t=(0,W4.toBuffer)(r);switch(e){case Rv.Buffer:return t;case Rv.BigInt:return(0,W4.bufferToBigInt)(t);case Rv.Number:{let n=(0,W4.bufferToBigInt)(t);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case Rv.PrefixedHexString:return(0,W4.bufferToHex)(t);default:throw new Error("unknown outputType")}}Ph.toType=ade});var wj=T(X4=>{h();p();Object.defineProperty(X4,"__esModule",{value:!0});X4.AsyncEventEmitter=void 0;var sde=hte(),ude=Jee(),h7=class extends ude.EventEmitter{emit(e,...t){let[n,i]=t,o=this,a=o._events[e]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(e==="newListener"||e==="removeListener")&&(n={event:n,fn:i},i=void 0),a=Array.isArray(a)?a:[a],(0,sde.eachSeries)(a.slice(),function(s,u){let f;if(s.length<2){try{s.call(o,n)}catch(c){f=c}return u(f)}s.call(o,n,u)},i),o.listenerCount(e)>0}once(e,t){let n=this,i;if(typeof t!="function")throw new TypeError("listener must be a function");return t.length>=2?i=function(o,a){n.removeListener(e,i),t(o,a)}:i=function(o){n.removeListener(e,i),t(o,i)},n.on(e,i),n}first(e,t){let n=this._events[e]??[];if(typeof t!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(t),this}before(e,t,n){return this.beforeOrAfter(e,t,n)}after(e,t,n){return this.beforeOrAfter(e,t,n,"after")}beforeOrAfter(e,t,n,i){let o=this._events[e]??[],a,s,u=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof t!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[e]=o=[o]),s=o.length,a=o.length;a--;)if(o[a]===t){s=a+u;break}return o.splice(s,0,n),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}};X4.AsyncEventEmitter=h7});var Sj=T(J4=>{h();p();Object.defineProperty(J4,"__esModule",{value:!0});J4.Lock=void 0;var p7=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;let e=this.promiseResolverQueue.shift();e&&e(!0)}}};J4.Lock=p7});var Cj=T(Rt=>{h();p();var fde=Rt&&Rt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dd=Rt&&Rt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fde(e,r,t)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.toAscii=Rt.stripHexPrefix=Rt.padToEven=Rt.isHexString=Rt.isHexPrefixed=Rt.getKeys=Rt.getBinarySize=Rt.fromUtf8=Rt.fromAscii=Rt.arrayContainsArray=void 0;dd(F4(),Rt);dd(d7(),Rt);dd(vj(),Rt);dd(xj(),Rt);dd(Ig(),Rt);dd(bj(),Rt);dd(wj(),Rt);var bf=Eg();Object.defineProperty(Rt,"arrayContainsArray",{enumerable:!0,get:function(){return bf.arrayContainsArray}});Object.defineProperty(Rt,"fromAscii",{enumerable:!0,get:function(){return bf.fromAscii}});Object.defineProperty(Rt,"fromUtf8",{enumerable:!0,get:function(){return bf.fromUtf8}});Object.defineProperty(Rt,"getBinarySize",{enumerable:!0,get:function(){return bf.getBinarySize}});Object.defineProperty(Rt,"getKeys",{enumerable:!0,get:function(){return bf.getKeys}});Object.defineProperty(Rt,"isHexPrefixed",{enumerable:!0,get:function(){return bf.isHexPrefixed}});Object.defineProperty(Rt,"isHexString",{enumerable:!0,get:function(){return bf.isHexString}});Object.defineProperty(Rt,"padToEven",{enumerable:!0,get:function(){return bf.padToEven}});Object.defineProperty(Rt,"stripHexPrefix",{enumerable:!0,get:function(){return bf.stripHexPrefix}});Object.defineProperty(Rt,"toAscii",{enumerable:!0,get:function(){return bf.toAscii}});dd(Sj(),Rt)});var Tj=T(wf=>{h();p();Object.defineProperty(wf,"__esModule",{value:!0});var Bv,Hr=uf(),cde=(gL(),m0(pL)),dde=(Bv=jT())&&typeof Bv=="object"&&"default"in Bv?Bv.default:Bv,Ej=Cj(),$4={ETH_SIGN_REQUEST:new Hr.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new Hr.RegistryType("eth-signature",402),ETH_NFT_ITEM:new Hr.RegistryType("eth-nft-item",403)},{decodeToDataItem:lde,RegistryTypes:hde}=Hr.extend,jr,ld;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.chainId=4]="chainId",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"})(jr||(jr={})),(ld=wf.DataType||(wf.DataType={}))[ld.transaction=1]="transaction",ld[ld.typedData=2]="typedData",ld[ld.personalMessage=3]="personalMessage",ld[ld.typedTransaction=4]="typedTransaction";var wc=class extends Hr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>$4.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[jr.requestId]=new Hr.DataItem(this.requestId,hde.UUID.getTag())),this.address&&(t[jr.address]=this.address),this.chainId&&(t[jr.chainId]=this.chainId),this.origin&&(t[jr.origin]=this.origin),t[jr.signData]=this.signData,t[jr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[jr.derivationPath]=n,new Hr.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,t,n,i,o,a,s,u){let f=n.replace(/[m|M]\//,"").split("/"),c=new Hr.CryptoKeypath(f.map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new Hr.PathComponent({index:g,hardened:y})}),m.Buffer.from(i,"hex"));return new wc({requestId:o?m.Buffer.from(cde.parse(o)):void 0,signData:e,dataType:t,derivationPath:c,chainId:a,address:s?m.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};wc.fromDataItem=r=>{let e=r.getData(),t=e[jr.signData],n=e[jr.dataType],i=Hr.CryptoKeypath.fromDataItem(e[jr.derivationPath]),o=e[jr.chainId]?e[jr.chainId]:void 0,a=e[jr.address]?e[jr.address]:void 0,s=e[jr.requestId]?e[jr.requestId].getData():void 0;return new wc({requestId:s,signData:t,dataType:n,chainId:o,derivationPath:i,address:a,origin:e[jr.origin]?e[jr.origin]:void 0})},wc.fromCBOR=r=>{let e=lde(r);return wc.fromDataItem(e)};var{RegistryTypes:pde,decodeToDataItem:gde}=Hr.extend,Sc;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(Sc||(Sc={}));var Mh=class extends Hr.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>$4.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};return this.requestId&&(i[Sc.requestId]=new Hr.DataItem(this.requestId,pde.UUID.getTag())),this.origin&&(i[Sc.origin]=this.origin),i[Sc.signature]=this.signature,new Hr.DataItem(i)},this.signature=e,this.requestId=t,this.origin=n}};Mh.fromDataItem=r=>{let e=r.getData(),t=e[Sc.signature],n=e[Sc.requestId]?e[Sc.requestId].getData():void 0;return new Mh(t,n,e[Sc.origin])},Mh.fromCBOR=r=>{let e=gde(r);return Mh.fromDataItem(e)};var{decodeToDataItem:mde}=Hr.extend,$a;(function(r){r[r.chainId=1]="chainId",r[r.contractAddress=2]="contractAddress",r[r.contractName=3]="contractName",r[r.name=4]="name",r[r.mediaData=5]="mediaData"})($a||($a={}));var Cc=class extends Hr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>$4.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{let t={};return t[$a.chainId]=this.chainId,t[$a.name]=this.name,t[$a.contractAddress]=this.contractAddress,t[$a.contractName]=this.contractName,t[$a.mediaData]=this.mediaData,new Hr.DataItem(t)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,i,o){return new Cc({chainId:e,contractAddress:t,contractName:n,mediaData:o,name:i})}};Cc.fromDataItem=r=>{let e=r.getData();return new Cc({chainId:e[$a.chainId],name:e[$a.name],contractAddress:e[$a.contractAddress],contractName:e[$a.contractName],mediaData:e[$a.mediaData]})},Cc.fromCBOR=r=>{let e=mde(r);return Cc.fromDataItem(e)};var Ij=(r,e)=>{let t=dde.fromExtendedKey(r).derive(e),n="0x"+Ej.publicToAddress(t.publicKey,!0).toString("hex");return Ej.toChecksumAddress(n)};Hr.patchTags(Object.values($4).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Hr).forEach(function(r){r!=="default"&&Object.defineProperty(wf,r,{enumerable:!0,get:function(){return Hr[r]}})}),wf.ETHNFTItem=Cc,wf.ETHSignature=Mh,wf.EthSignRequest=wc,wf.findHDPathFromAddress=(r,e,t,n)=>{for(let i=0;i<t;i++){let o=Ij(e,"M/0/"+i);if(r.toLowerCase()==o.toLowerCase())return`${n}/0/${i}`}return null},wf.generateAddressFromXpub=Ij});var Oj=T((EVe,Aj)=>{h();p();Aj.exports=Tj()});var Dj=T(Q4=>{h();p();Object.defineProperty(Q4,"__esModule",{value:!0});Q4.KeystoneEthereumSDK=void 0;var Pv=Oj(),Nh=En(),yde=Uo(),Z4=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==yde.URType.EthSignature)throw new Error("type not match");let t=Pv.ETHSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,Nh.uuidStringify)(n),signature:(0,Nh.toHex)(t.getSignature()),origin:t.getOrigin()}}generateSignRequest({requestId:e,signData:t,dataType:n,path:i,xfp:o,chainId:a,address:s,origin:u}){var f;return new Pv.EthSignRequest({requestId:(0,Nh.uuidParse)(e),signData:(0,Nh.toBuffer)(t),dataType:n,derivationPath:new Pv.CryptoKeypath((0,Nh.parsePath)(i).map(c=>new Pv.PathComponent(c)),(0,Nh.toBuffer)(o)),chainId:a,address:s!==void 0?(0,Nh.toBuffer)(s):void 0,origin:u??((f=this.config)===null||f===void 0?void 0:f.origin)}).toUR()}};Z4.DataType=Pv.DataType;Q4.KeystoneEthereumSDK=Z4});function Mv(){if(!e6&&(e6=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!e6))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e6(vde)}var e6,vde,g7=pe(()=>{h();p();vde=new Uint8Array(16)});var Rj,Bj=pe(()=>{h();p();Rj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function _de(r){return typeof r=="string"&&Rj.test(r)}var hd,Nv=pe(()=>{h();p();Bj();hd=_de});function xde(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Pn[r[e+0]]+Pn[r[e+1]]+Pn[r[e+2]]+Pn[r[e+3]]+"-"+Pn[r[e+4]]+Pn[r[e+5]]+"-"+Pn[r[e+6]]+Pn[r[e+7]]+"-"+Pn[r[e+8]]+Pn[r[e+9]]+"-"+Pn[r[e+10]]+Pn[r[e+11]]+Pn[r[e+12]]+Pn[r[e+13]]+Pn[r[e+14]]+Pn[r[e+15]]).toLowerCase();if(!hd(t))throw TypeError("Stringified UUID is invalid");return t}var Pn,t6,pd,kv=pe(()=>{h();p();Nv();Pn=[];for(t6=0;t6<256;++t6)Pn.push((t6+256).toString(16).substr(1));pd=xde});function bde(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||Pj,a=r.clockseq!==void 0?r.clockseq:m7;if(o==null||a==null){var s=r.random||(r.rng||Mv)();o==null&&(o=Pj=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=m7=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:v7+1,c=u-y7+(f-v7)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>y7)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y7=u,v7=f,m7=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||pd(i)}var Pj,m7,y7,v7,Mj,Nj=pe(()=>{h();p();g7();kv();y7=0,v7=0;Mj=bde});function wde(r){if(!hd(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var r6,_7=pe(()=>{h();p();Nv();r6=wde});function Sde(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function n6(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=Sde(i)),typeof o=="string"&&(o=r6(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return pd(u)}try{n.name=r}catch{}return n.DNS=Cde,n.URL=Ede,n}var Cde,Ede,x7=pe(()=>{h();p();kv();_7();Cde="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ede="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Ide(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Tde(Ade(Ode(r),r.length*8))}function Tde(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function kj(r){return(r+64>>>9<<4)+14+1}function Ade(r,e){r[e>>5]|=128<<e%32,r[kj(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=wi(t,n,i,o,r[a],7,-680876936),o=wi(o,t,n,i,r[a+1],12,-389564586),i=wi(i,o,t,n,r[a+2],17,606105819),n=wi(n,i,o,t,r[a+3],22,-1044525330),t=wi(t,n,i,o,r[a+4],7,-176418897),o=wi(o,t,n,i,r[a+5],12,1200080426),i=wi(i,o,t,n,r[a+6],17,-1473231341),n=wi(n,i,o,t,r[a+7],22,-45705983),t=wi(t,n,i,o,r[a+8],7,1770035416),o=wi(o,t,n,i,r[a+9],12,-1958414417),i=wi(i,o,t,n,r[a+10],17,-42063),n=wi(n,i,o,t,r[a+11],22,-1990404162),t=wi(t,n,i,o,r[a+12],7,1804603682),o=wi(o,t,n,i,r[a+13],12,-40341101),i=wi(i,o,t,n,r[a+14],17,-1502002290),n=wi(n,i,o,t,r[a+15],22,1236535329),t=Si(t,n,i,o,r[a+1],5,-165796510),o=Si(o,t,n,i,r[a+6],9,-1069501632),i=Si(i,o,t,n,r[a+11],14,643717713),n=Si(n,i,o,t,r[a],20,-373897302),t=Si(t,n,i,o,r[a+5],5,-701558691),o=Si(o,t,n,i,r[a+10],9,38016083),i=Si(i,o,t,n,r[a+15],14,-660478335),n=Si(n,i,o,t,r[a+4],20,-405537848),t=Si(t,n,i,o,r[a+9],5,568446438),o=Si(o,t,n,i,r[a+14],9,-1019803690),i=Si(i,o,t,n,r[a+3],14,-187363961),n=Si(n,i,o,t,r[a+8],20,1163531501),t=Si(t,n,i,o,r[a+13],5,-1444681467),o=Si(o,t,n,i,r[a+2],9,-51403784),i=Si(i,o,t,n,r[a+7],14,1735328473),n=Si(n,i,o,t,r[a+12],20,-1926607734),t=Ci(t,n,i,o,r[a+5],4,-378558),o=Ci(o,t,n,i,r[a+8],11,-2022574463),i=Ci(i,o,t,n,r[a+11],16,1839030562),n=Ci(n,i,o,t,r[a+14],23,-35309556),t=Ci(t,n,i,o,r[a+1],4,-1530992060),o=Ci(o,t,n,i,r[a+4],11,1272893353),i=Ci(i,o,t,n,r[a+7],16,-155497632),n=Ci(n,i,o,t,r[a+10],23,-1094730640),t=Ci(t,n,i,o,r[a+13],4,681279174),o=Ci(o,t,n,i,r[a],11,-358537222),i=Ci(i,o,t,n,r[a+3],16,-722521979),n=Ci(n,i,o,t,r[a+6],23,76029189),t=Ci(t,n,i,o,r[a+9],4,-640364487),o=Ci(o,t,n,i,r[a+12],11,-421815835),i=Ci(i,o,t,n,r[a+15],16,530742520),n=Ci(n,i,o,t,r[a+2],23,-995338651),t=Ei(t,n,i,o,r[a],6,-198630844),o=Ei(o,t,n,i,r[a+7],10,1126891415),i=Ei(i,o,t,n,r[a+14],15,-1416354905),n=Ei(n,i,o,t,r[a+5],21,-57434055),t=Ei(t,n,i,o,r[a+12],6,1700485571),o=Ei(o,t,n,i,r[a+3],10,-1894986606),i=Ei(i,o,t,n,r[a+10],15,-1051523),n=Ei(n,i,o,t,r[a+1],21,-2054922799),t=Ei(t,n,i,o,r[a+8],6,1873313359),o=Ei(o,t,n,i,r[a+15],10,-30611744),i=Ei(i,o,t,n,r[a+6],15,-1560198380),n=Ei(n,i,o,t,r[a+13],21,1309151649),t=Ei(t,n,i,o,r[a+4],6,-145523070),o=Ei(o,t,n,i,r[a+11],10,-1120210379),i=Ei(i,o,t,n,r[a+2],15,718787259),n=Ei(n,i,o,t,r[a+9],21,-343485551),t=gd(t,s),n=gd(n,u),i=gd(i,f),o=gd(o,c)}return[t,n,i,o]}function Ode(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(kj(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function gd(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Dde(r,e){return r<<e|r>>>32-e}function i6(r,e,t,n,i,o){return gd(Dde(gd(gd(e,r),gd(n,o)),i),t)}function wi(r,e,t,n,i,o,a){return i6(e&t|~e&n,r,e,i,o,a)}function Si(r,e,t,n,i,o,a){return i6(e&n|t&~n,r,e,i,o,a)}function Ci(r,e,t,n,i,o,a){return i6(e^t^n,r,e,i,o,a)}function Ei(r,e,t,n,i,o,a){return i6(t^(e|~n),r,e,i,o,a)}var qj,Fj=pe(()=>{h();p();qj=Ide});var Rde,Lj,Uj=pe(()=>{h();p();x7();Fj();Rde=n6("v3",48,qj),Lj=Rde});function Bde(r,e,t){r=r||{};var n=r.random||(r.rng||Mv)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return pd(n)}var jj,Hj=pe(()=>{h();p();g7();kv();jj=Bde});function Pde(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function b7(r,e){return r<<e|r>>>32-e}function Mde(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=b7(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=b7(D,5)+Pde(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=b7(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Kj,Vj=pe(()=>{h();p();Kj=Mde});var Nde,zj,Gj=pe(()=>{h();p();x7();Vj();Nde=n6("v5",80,Kj),zj=Nde});var Yj,Wj=pe(()=>{h();p();Yj="00000000-0000-0000-0000-000000000000"});function kde(r){if(!hd(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Xj,Jj=pe(()=>{h();p();Nv();Xj=kde});var $j={};g0($j,{NIL:()=>Yj,parse:()=>r6,stringify:()=>pd,v1:()=>Mj,v3:()=>Lj,v4:()=>jj,v5:()=>zj,validate:()=>hd,version:()=>Xj});var Zj=pe(()=>{h();p();Nj();Uj();Hj();Gj();Wj();Jj();Nv();kv();_7()});var Qj=T(md=>{h();p();Object.defineProperty(md,"__esModule",{value:!0});var Kr=uf(),qde=(Zj(),m0($j)),a6={SOL_SIGN_REQUEST:new Kr.RegistryType("sol-sign-request",1101),SOL_SIGNATURE:new Kr.RegistryType("sol-signature",1102),SOL_NFT_ITEM:new Kr.RegistryType("sol-nft-item",1104)},{decodeToDataItem:Fde,RegistryTypes:Lde}=Kr.extend,o6,Mn;(o6=md.SignType||(md.SignType={}))[o6.Transaction=1]="Transaction",o6[o6.Message=2]="Message",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.derivationPath=3]="derivationPath",r[r.address=4]="address",r[r.origin=5]="origin",r[r.signType=6]="signType"}(Mn||(Mn={}));var Ic=class extends Kr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>a6.SOL_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let t={};this.requestId&&(t[Mn.requestId]=new Kr.DataItem(this.requestId,Lde.UUID.getTag())),this.address&&(t[Mn.address]=this.address),this.origin&&(t[Mn.origin]=this.origin),t[Mn.signData]=this.signData,t[Mn.signType]=this.signType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Mn.derivationPath]=n,new Kr.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin,this.signType=e.signType}static constructSOLRequest(e,t,n,i,o,a,s){let u=t.replace(/[m|M]\//,"").split("/"),f=new Kr.CryptoKeypath(u.map(c=>{let l=parseInt(c.replace("'","")),g=!1;return c.endsWith("'")&&(g=!0),new Kr.PathComponent({index:l,hardened:g})}),m.Buffer.from(n,"hex"));return new Ic({requestId:o?m.Buffer.from(qde.parse(o)):void 0,signData:e,derivationPath:f,address:a?m.Buffer.from(a.replace("0x",""),"hex"):void 0,origin:s||void 0,signType:i})}};Ic.fromDataItem=r=>{let e=r.getData(),t=e[Mn.signData],n=Kr.CryptoKeypath.fromDataItem(e[Mn.derivationPath]),i=e[Mn.address]?e[Mn.address]:void 0,o=e[Mn.requestId]?e[Mn.requestId].getData():void 0;return new Ic({requestId:o,signData:t,derivationPath:n,address:i,origin:e[Mn.origin]?e[Mn.origin]:void 0,signType:e[Mn.signType]})},Ic.fromCBOR=r=>{let e=Fde(r);return Ic.fromDataItem(e)};var{RegistryTypes:Ude,decodeToDataItem:jde}=Kr.extend,qh;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(qh||(qh={}));var kh=class extends Kr.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>a6.SOL_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[qh.requestId]=new Kr.DataItem(this.requestId,Ude.UUID.getTag())),n[qh.signature]=this.signature,new Kr.DataItem(n)},this.signature=e,this.requestId=t}};kh.fromDataItem=r=>{let e=r.getData(),t=e[qh.signature],n=e[qh.requestId]?e[qh.requestId].getData():void 0;return new kh(t,n)},kh.fromCBOR=r=>{let e=jde(r);return kh.fromDataItem(e)};var{decodeToDataItem:Hde}=Kr.extend,Sf;(function(r){r[r.mintAddress=1]="mintAddress",r[r.collectionName=2]="collectionName",r[r.name=3]="name",r[r.mediaData=4]="mediaData"})(Sf||(Sf={}));var Ec=class extends Kr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>a6.SOL_NFT_ITEM,this.getName=()=>this.name,this.getMediaData=()=>this.mediaData,this.getMintAddress=()=>this.mintAddress,this.getCollectionName=()=>this.collectionName,this.toDataItem=()=>{let t={};return t[Sf.name]=this.name,t[Sf.mintAddress]=this.mintAddress,t[Sf.collectionName]=this.collectionName,t[Sf.mediaData]=this.mediaData,new Kr.DataItem(t)},this.name=e.name,this.mintAddress=e.mintAddress,this.collectionName=e.collectionName,this.mediaData=e.mediaData}static constructETHNFTItem(e,t,n,i){return new Ec({mintAddress:e,collectionName:t,mediaData:i,name:n})}};Ec.fromDataItem=r=>{let e=r.getData();return new Ec({name:e[Sf.name],mintAddress:e[Sf.mintAddress],collectionName:e[Sf.collectionName],mediaData:e[Sf.mediaData]})},Ec.fromCBOR=r=>{let e=Hde(r);return Ec.fromDataItem(e)},Kr.patchTags(Object.values(a6).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Kr).forEach(function(r){r!=="default"&&Object.defineProperty(md,r,{enumerable:!0,get:function(){return Kr[r]}})}),md.SOLNFTItem=Ec,md.SolSignRequest=Ic,md.SolSignature=kh});var tH=T((Yze,eH)=>{h();p();eH.exports=Qj()});var rH=T(u6=>{h();p();Object.defineProperty(u6,"__esModule",{value:!0});u6.KeystoneSolanaSDK=void 0;var qv=tH(),Fh=En(),Kde=Uo(),s6=class{parseSignature(e){if(e.type!==Kde.URType.SolSignature)throw new Error("type not match");let t=qv.SolSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,Fh.uuidStringify)(n),signature:(0,Fh.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,dataType:n,path:i,xfp:o,address:a,origin:s}){return new qv.SolSignRequest({requestId:(0,Fh.uuidParse)(e),signData:(0,Fh.toBuffer)(t),signType:n,derivationPath:new qv.CryptoKeypath((0,Fh.parsePath)(i).map(u=>new qv.PathComponent(u)),(0,Fh.toBuffer)(o)),address:a!==void 0?(0,Fh.toBuffer)(a):void 0,origin:s}).toUR()}};s6.DataType=qv.SignType;u6.KeystoneSolanaSDK=s6});var sH=T(vo=>{h();p();Object.defineProperty(vo,"__esModule",{value:!0});vo.output=vo.exists=vo.hash=vo.bytes=vo.bool=vo.number=void 0;function f6(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}vo.number=f6;function nH(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}vo.bool=nH;function w7(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}vo.bytes=w7;function iH(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");f6(r.outputLen),f6(r.blockLen)}vo.hash=iH;function oH(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}vo.exists=oH;function aH(r,e){w7(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}vo.output=aH;var Vde={number:f6,bool:nH,bytes:w7,hash:iH,exists:oH,output:aH};vo.default=Vde});var uH=T(c6=>{h();p();Object.defineProperty(c6,"__esModule",{value:!0});c6.crypto=void 0;c6.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var I7=T(wt=>{h();p();Object.defineProperty(wt,"__esModule",{value:!0});wt.randomBytes=wt.wrapConstructorWithOpts=wt.wrapConstructor=wt.checkOpts=wt.Hash=wt.concatBytes=wt.toBytes=wt.utf8ToBytes=wt.asyncLoop=wt.nextTick=wt.hexToBytes=wt.bytesToHex=wt.isLE=wt.rotr=wt.createView=wt.u32=wt.u8=void 0;var S7=uH(),zde=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);wt.u8=zde;var Gde=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));wt.u32=Gde;var Yde=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);wt.createView=Yde;var Wde=(r,e)=>r<<32-e|r>>>e;wt.rotr=Wde;wt.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wt.isLE)throw new Error("Non little-endian hardware is not supported");var Xde=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Jde(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Xde[r[t]];return e}wt.bytesToHex=Jde;function $de(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++){let n=t*2,i=r.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[t]=o}return e}wt.hexToBytes=$de;var Zde=async()=>{};wt.nextTick=Zde;async function Qde(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);let o=Date.now()-n;o>=0&&o<e||(await(0,wt.nextTick)(),n+=o)}}wt.asyncLoop=Qde;function fH(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}wt.utf8ToBytes=fH;function E7(r){if(typeof r=="string"&&(r=fH(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}wt.toBytes=E7;function ele(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];let e=r.reduce((n,i)=>n+i.length,0),t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){let o=r[n];t.set(o,i),i+=o.length}return t}wt.concatBytes=ele;var C7=class{clone(){return this._cloneInto()}};wt.Hash=C7;var tle=r=>Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object;function rle(r,e){if(e!==void 0&&(typeof e!="object"||!tle(e)))throw new TypeError("Options should be object or undefined");return Object.assign(r,e)}wt.checkOpts=rle;function nle(r){let e=n=>r().update(E7(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}wt.wrapConstructor=nle;function ile(r){let e=(n,i)=>r(i).update(E7(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}wt.wrapConstructorWithOpts=ile;function ole(r=32){if(S7.crypto&&typeof S7.crypto.getRandomValues=="function")return S7.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}wt.randomBytes=ole});var cH=T(d6=>{h();p();Object.defineProperty(d6,"__esModule",{value:!0});d6.SHA2=void 0;var T7=sH(),Fv=I7();function ale(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(t>>i&o),s=Number(t&o),u=n?4:0,f=n?0:4;r.setUint32(e+u,a,n),r.setUint32(e+f,s,n)}var A7=class extends Fv.Hash{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Fv.createView)(this.buffer)}update(e){T7.default.exists(this);let{view:t,buffer:n,blockLen:i}=this;e=(0,Fv.toBytes)(e);let o=e.length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let u=(0,Fv.createView)(e);for(;i<=o-a;a+=i)this.process(u,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){T7.default.exists(this),T7.default.output(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let l=a;l<i;l++)t[l]=0;ale(n,i-8,BigInt(this.length*8),o),this.process(n,0);let s=(0,Fv.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=u/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)s.setUint32(4*l,c[l],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%t&&e.buffer.set(n),e}};d6.SHA2=A7});var dH=T(Rg=>{h();p();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.sha224=Rg.sha256=void 0;var sle=cH(),Za=I7(),ule=(r,e,t)=>r&e^~r&t,fle=(r,e,t)=>r&e^r&t^e&t,cle=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vd=new Uint32Array(64),l6=class extends sle.SHA2{constructor(){super(64,32,8,!1),this.A=yd[0]|0,this.B=yd[1]|0,this.C=yd[2]|0,this.D=yd[3]|0,this.E=yd[4]|0,this.F=yd[5]|0,this.G=yd[6]|0,this.H=yd[7]|0}get(){let{A:e,B:t,C:n,D:i,E:o,F:a,G:s,H:u}=this;return[e,t,n,i,o,a,s,u]}set(e,t,n,i,o,a,s,u){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=u|0}process(e,t){for(let l=0;l<16;l++,t+=4)vd[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){let g=vd[l-15],y=vd[l-2],b=(0,Za.rotr)(g,7)^(0,Za.rotr)(g,18)^g>>>3,D=(0,Za.rotr)(y,17)^(0,Za.rotr)(y,19)^y>>>10;vd[l]=D+vd[l-7]+b+vd[l-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:u,G:f,H:c}=this;for(let l=0;l<64;l++){let g=(0,Za.rotr)(s,6)^(0,Za.rotr)(s,11)^(0,Za.rotr)(s,25),y=c+g+ule(s,u,f)+cle[l]+vd[l]|0,D=((0,Za.rotr)(n,2)^(0,Za.rotr)(n,13)^(0,Za.rotr)(n,22))+fle(n,i,o)|0;c=f,f=u,u=s,s=a+y|0,a=o,o=i,i=n,n=y+D|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(n,i,o,a,s,u,f,c)}roundClean(){vd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},O7=class extends l6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Rg.sha256=(0,Za.wrapConstructor)(()=>new l6);Rg.sha224=(0,Za.wrapConstructor)(()=>new O7)});var hH=T((pGe,lH)=>{h();p();var D7=lte();lH.exports=function(r){function e(o){var a=Uint8Array.from(o),s=r(a),u=a.length+4,f=new Uint8Array(u);return f.set(a,0),f.set(s.subarray(0,4),a.length),D7.encode(f,u)}function t(o){var a=o.slice(0,-4),s=o.slice(-4),u=r(a);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return a}function n(o){var a=D7.decodeUnsafe(o);if(!!a)return t(a)}function i(o){var a=D7.decode(o),s=t(a,r);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var mH=T((yGe,gH)=>{h();p();var{sha256:pH}=dH(),dle=hH();function lle(r){return pH(pH(r))}gH.exports=dle(lle)});var vu=T(Cf=>{h();p();Object.defineProperty(Cf,"__esModule",{value:!0});Cf.assertFloat32=Cf.assertUInt32=Cf.assertInt32=Cf.assert=void 0;function hle(r,e){if(!r)throw new Error(e)}Cf.assert=hle;var ple=34028234663852886e22,gle=-34028234663852886e22,mle=4294967295,yle=2147483647,vle=-2147483648;function _le(r){if(typeof r!="number")throw new Error("invalid int 32: "+typeof r);if(!Number.isInteger(r)||r>yle||r<vle)throw new Error("invalid int 32: "+r)}Cf.assertInt32=_le;function xle(r){if(typeof r!="number")throw new Error("invalid uint 32: "+typeof r);if(!Number.isInteger(r)||r>mle||r<0)throw new Error("invalid uint 32: "+r)}Cf.assertUInt32=xle;function ble(r){if(typeof r!="number")throw new Error("invalid float 32: "+typeof r);if(!!Number.isFinite(r)&&(r>ple||r<gle))throw new Error("invalid float 32: "+r)}Cf.assertFloat32=ble});var h6=T(Ef=>{h();p();Object.defineProperty(Ef,"__esModule",{value:!0});Ef.makeEnum=Ef.makeEnumType=Ef.setEnumType=Ef.getEnumType=void 0;var wle=vu(),yH=Symbol("@bufbuild/protobuf/enum-type");function Sle(r){let e=r[yH];return(0,wle.assert)(e,"missing enum type on enum object"),e}Ef.getEnumType=Sle;function vH(r,e,t,n){r[yH]=_H(e,t.map(i=>({no:i.no,name:i.name,localName:r[i.no]})),n)}Ef.setEnumType=vH;function _H(r,e,t){let n=Object.create(null),i=Object.create(null),o=[];for(let a of e){let s=xH(a);o.push(s),n[a.name]=s,i[a.no]=s}return{typeName:r,values:o,findName(a){return n[a]},findNumber(a){return i[a]}}}Ef.makeEnumType=_H;function Cle(r,e,t){let n={};for(let i of e){let o=xH(i);n[o.localName]=o.no,n[o.no]=o.localName}return vH(n,r,e,t),n}Ef.makeEnum=Cle;function xH(r){return"localName"in r?r:Object.assign(Object.assign({},r),{localName:r.name})}});var rn=T(p6=>{h();p();Object.defineProperty(p6,"__esModule",{value:!0});p6.Message=void 0;var R7=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){let n=this.getType(),i=n.runtime.bin,o=i.makeReadOptions(t);return i.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,t){let n=this.getType(),i=n.runtime.json,o=i.makeReadOptions(t);return i.readMessage(n,e,o,this),this}fromJsonString(e,t){let n;try{n=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(n,t)}toBinary(e){let t=this.getType(),n=t.runtime.bin,i=n.makeWriteOptions(e),o=i.writerFactory();return n.writeMessage(this,o,i),o.finish()}toJson(e){let t=this.getType(),n=t.runtime.json,i=n.makeWriteOptions(e);return n.writeMessage(this,i)}toJsonString(e){var t;let n=this.toJson(e);return JSON.stringify(n,null,(t=e?.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};p6.Message=R7});var bH=T(g6=>{h();p();Object.defineProperty(g6,"__esModule",{value:!0});g6.makeMessageType=void 0;var Ele=rn();function Ile(r,e,t,n){var i;let o=(i=n?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),a={[o]:function(s){r.util.initFields(this),r.util.initPartial(s,this)}}[o];return Object.setPrototypeOf(a.prototype,new Ele.Message),Object.assign(a,{runtime:r,typeName:e,fields:r.util.newFieldList(t),fromBinary(s,u){return new a().fromBinary(s,u)},fromJson(s,u){return new a().fromJson(s,u)},fromJsonString(s,u){return new a().fromJsonString(s,u)},equals(s,u){return r.util.equals(a,s,u)}}),a}g6.makeMessageType=Ile});var P7=T(m6=>{h();p();Object.defineProperty(m6,"__esModule",{value:!0});m6.makeProtoRuntime=void 0;var B7=h6(),Tle=bH();function Ale(r,e,t,n){return{syntax:r,json:e,bin:t,util:n,makeMessageType(i,o,a){return(0,Tle.makeMessageType)(this,i,o,a)},makeEnum:B7.makeEnum,makeEnumType:B7.makeEnumType,getEnumType:B7.getEnumType}}m6.makeProtoRuntime=Ale});var la=T(Lv=>{h();p();Object.defineProperty(Lv,"__esModule",{value:!0});Lv.ScalarType=void 0;var Ole;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(Ole=Lv.ScalarType||(Lv.ScalarType={}))});var N7=T(Ii=>{h();p();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.varint32read=Ii.varint32write=Ii.uInt64ToString=Ii.int64ToString=Ii.int64FromString=Ii.varint64write=Ii.varint64read=void 0;function Dle(){let r=0,e=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(r|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[r,e]}let t=this.buf[this.pos++];if(r|=(t&15)<<28,e=(t&112)>>4,(t&128)==0)return this.assertBounds(),[r,e];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[r,e]}throw new Error("invalid varint")}Ii.varint64read=Dle;function Rle(r,e,t){for(let o=0;o<28;o=o+7){let a=r>>>o,s=!(a>>>7==0&&e==0),u=(s?a|128:a)&255;if(t.push(u),!s)return}let n=r>>>28&15|(e&7)<<4,i=e>>3!=0;if(t.push((i?n|128:n)&255),!!i){for(let o=3;o<31;o=o+7){let a=e>>>o,s=a>>>7!=0,u=(s?a|128:a)&255;if(t.push(u),!s)return}t.push(e>>>31&1)}}Ii.varint64write=Rle;var y6=4294967296;function Ble(r){let e=r[0]==="-";e&&(r=r.slice(1));let t=1e6,n=0,i=0;function o(a,s){let u=Number(r.slice(a,s));i*=t,n=n*t+u,n>=y6&&(i=i+(n/y6|0),n=n%y6)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?CH(n,i):M7(n,i)}Ii.int64FromString=Ble;function Ple(r,e){let t=M7(r,e),n=t.hi&2147483648;n&&(t=CH(t.lo,t.hi));let i=SH(t.lo,t.hi);return n?"-"+i:i}Ii.int64ToString=Ple;function SH(r,e){if({lo:r,hi:e}=Mle(r,e),e<=2097151)return String(y6*e+r);let t=r&16777215,n=(r>>>24|e<<8)&16777215,i=e>>16&65535,o=t+n*6777216+i*6710656,a=n+i*8147497,s=i*2,u=1e7;return o>=u&&(a+=Math.floor(o/u),o%=u),a>=u&&(s+=Math.floor(a/u),a%=u),s.toString()+wH(a)+wH(o)}Ii.uInt64ToString=SH;function Mle(r,e){return{lo:r>>>0,hi:e>>>0}}function M7(r,e){return{lo:r|0,hi:e|0}}function CH(r,e){return e=~e,r?r=~r+1:e+=1,M7(r,e)}var wH=r=>{let e=String(r);return"0000000".slice(e.length)+e};function Nle(r,e){if(r>=0){for(;r>127;)e.push(r&127|128),r=r>>>7;e.push(r)}else{for(let t=0;t<9;t++)e.push(r&127|128),r=r>>7;e.push(1)}}Ii.varint32write=Nle;function kle(){let r=this.buf[this.pos++],e=r&127;if((r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<7,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<14,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<21,(r&128)==0)return this.assertBounds(),e;r=this.buf[this.pos++],e|=(r&15)<<28;for(let t=5;(r&128)!==0&&t<10;t++)r=this.buf[this.pos++];if((r&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}Ii.varint32read=kle});var Tc=T(_6=>{h();p();Object.defineProperty(_6,"__esModule",{value:!0});_6.protoInt64=void 0;var EH=vu(),v6=N7();function qle(){let r=new DataView(new ArrayBuffer(8));if(globalThis.BigInt!==void 0&&typeof r.getBigInt64=="function"&&typeof r.getBigUint64=="function"&&typeof r.setBigInt64=="function"&&typeof r.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),a=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>o||f<i)throw new Error(`int64 invalid: ${u}`);return f},uParse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>s||f<a)throw new Error(`uint64 invalid: ${u}`);return f},enc(u){return r.setBigInt64(0,this.parse(u),!0),{lo:r.getInt32(0,!0),hi:r.getInt32(4,!0)}},uEnc(u){return r.setBigInt64(0,this.uParse(u),!0),{lo:r.getInt32(0,!0),hi:r.getInt32(4,!0)}},dec(u,f){return r.setInt32(0,u,!0),r.setInt32(4,f,!0),r.getBigInt64(0,!0)},uDec(u,f){return r.setInt32(0,u,!0),r.setInt32(4,f,!0),r.getBigUint64(0,!0)}}}let t=i=>(0,EH.assert)(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),n=i=>(0,EH.assert)(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),t(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),t(i),(0,v6.int64FromString)(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),n(i),(0,v6.int64FromString)(i)},dec(i,o){return(0,v6.int64ToString)(i,o)},uDec(i,o){return(0,v6.uInt64ToString)(i,o)}}}_6.protoInt64=qle()});var Uv=T(Ac=>{h();p();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.BinaryReader=Ac.BinaryWriter=Ac.WireType=void 0;var Uh=N7(),Bg=vu(),If=Tc(),Lh;(function(r){r[r.Varint=0]="Varint",r[r.Bit64=1]="Bit64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Bit32=5]="Bit32"})(Lh=Ac.WireType||(Ac.WireType={}));var k7=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let t=new Uint8Array(e),n=0;for(let i=0;i<this.chunks.length;i++)t.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for((0,Bg.assertUInt32)(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return(0,Bg.assertInt32)(e),(0,Uh.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){(0,Bg.assertFloat32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){(0,Bg.assertUInt32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){(0,Bg.assertInt32)(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return(0,Bg.assertInt32)(e),e=(e<<1^e>>31)>>>0,(0,Uh.varint32write)(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=If.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),i=If.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=If.protoInt64.enc(e);return(0,Uh.varint64write)(t.lo,t.hi,this.buf),this}sint64(e){let t=If.protoInt64.enc(e),n=t.hi>>31,i=t.lo<<1^n,o=(t.hi<<1|t.lo>>>31)^n;return(0,Uh.varint64write)(i,o,this.buf),this}uint64(e){let t=If.protoInt64.uEnc(e);return(0,Uh.varint64write)(t.lo,t.hi,this.buf),this}};Ac.BinaryWriter=k7;var q7=class{constructor(e,t){this.varint64=Uh.varint64read,this.uint32=Uh.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,n=e&7;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case Lh.Varint:for(;this.buf[this.pos++]&128;);break;case Lh.Bit64:this.pos+=4;case Lh.Bit32:this.pos+=4;break;case Lh.LengthDelimited:let n=this.uint32();this.pos+=n;break;case Lh.StartGroup:let i;for(;(i=this.tag()[1])!==Lh.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return If.protoInt64.dec(...this.varint64())}uint64(){return If.protoInt64.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(e&1);return e=(e>>>1|(t&1)<<31)^n,t=t>>>1^n,If.protoInt64.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return If.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return If.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};Ac.BinaryReader=q7});var jv=T(Pg=>{h();p();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.getUnwrappedFieldType=Pg.wrapField=void 0;var Fle=rn(),Oc=la();function Lle(r,e){return e instanceof Fle.Message||!r.fieldWrapper?e:r.fieldWrapper.wrapField(e)}Pg.wrapField=Lle;function Ule(r){if(r.fieldKind==="message"&&!r.repeated&&r.oneof==null)return jle[r.message.typeName]}Pg.getUnwrappedFieldType=Ule;var jle={"google.protobuf.DoubleValue":Oc.ScalarType.DOUBLE,"google.protobuf.FloatValue":Oc.ScalarType.FLOAT,"google.protobuf.Int64Value":Oc.ScalarType.INT64,"google.protobuf.UInt64Value":Oc.ScalarType.UINT64,"google.protobuf.Int32Value":Oc.ScalarType.INT32,"google.protobuf.UInt32Value":Oc.ScalarType.UINT32,"google.protobuf.BoolValue":Oc.ScalarType.BOOL,"google.protobuf.StringValue":Oc.ScalarType.STRING,"google.protobuf.BytesValue":Oc.ScalarType.BYTES}});var Hv=T(_d=>{h();p();Object.defineProperty(_d,"__esModule",{value:!0});_d.scalarTypeInfo=_d.scalarDefaultValue=_d.scalarEquals=void 0;var Xt=la(),Dc=Uv(),Hle=Tc();function Kle(r,e,t){if(e===t)return!0;if(r==Xt.ScalarType.BYTES){if(!(e instanceof Uint8Array)||!(t instanceof Uint8Array)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}switch(r){case Xt.ScalarType.UINT64:case Xt.ScalarType.FIXED64:case Xt.ScalarType.INT64:case Xt.ScalarType.SFIXED64:case Xt.ScalarType.SINT64:return e==t}return!1}_d.scalarEquals=Kle;function Vle(r){switch(r){case Xt.ScalarType.BOOL:return!1;case Xt.ScalarType.UINT64:case Xt.ScalarType.FIXED64:case Xt.ScalarType.INT64:case Xt.ScalarType.SFIXED64:case Xt.ScalarType.SINT64:return Hle.protoInt64.zero;case Xt.ScalarType.DOUBLE:case Xt.ScalarType.FLOAT:return 0;case Xt.ScalarType.BYTES:return new Uint8Array(0);case Xt.ScalarType.STRING:return"";default:return 0}}_d.scalarDefaultValue=Vle;function zle(r,e){let t=e===void 0,n=Dc.WireType.Varint,i=e===0;switch(r){case Xt.ScalarType.STRING:i=t||!e.length,n=Dc.WireType.LengthDelimited;break;case Xt.ScalarType.BOOL:i=e===!1;break;case Xt.ScalarType.DOUBLE:n=Dc.WireType.Bit64;break;case Xt.ScalarType.FLOAT:n=Dc.WireType.Bit32;break;case Xt.ScalarType.INT64:i=t||e==0;break;case Xt.ScalarType.UINT64:i=t||e==0;break;case Xt.ScalarType.FIXED64:i=t||e==0,n=Dc.WireType.Bit64;break;case Xt.ScalarType.BYTES:i=t||!e.byteLength,n=Dc.WireType.LengthDelimited;break;case Xt.ScalarType.FIXED32:n=Dc.WireType.Bit32;break;case Xt.ScalarType.SFIXED32:n=Dc.WireType.Bit32;break;case Xt.ScalarType.SFIXED64:i=t||e==0,n=Dc.WireType.Bit64;break;case Xt.ScalarType.SINT64:i=t||e==0;break}let o=Xt.ScalarType[r].toLowerCase();return[n,o,t||i]}_d.scalarTypeInfo=zle});var S6=T(Qa=>{h();p();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.writePacked=Qa.writeScalar=Qa.writeMessageField=Qa.writeMapEntry=Qa.makeBinaryFormatCommon=void 0;var Ng=Uv(),Gle=rn(),pr=la(),Yle=jv(),w6=Hv(),Wle=vu(),Mg=Symbol("@bufbuild/protobuf/unknown-fields"),IH={readUnknownFields:!0,readerFactory:r=>new Ng.BinaryReader(r)},TH={writeUnknownFields:!0,writerFactory:()=>new Ng.BinaryWriter};function Xle(r){return r?Object.assign(Object.assign({},IH),r):IH}function Jle(r){return r?Object.assign(Object.assign({},TH),r):TH}function $le(){return{makeReadOptions:Xle,makeWriteOptions:Jle,listUnknownFields(r){var e;return(e=r[Mg])!==null&&e!==void 0?e:[]},discardUnknownFields(r){delete r[Mg]},writeUnknownFields(r,e){let n=r[Mg];if(n)for(let i of n)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(r,e,t,n){let i=r;Array.isArray(i[Mg])||(i[Mg]=[]),i[Mg].push({no:e,wireType:t,data:n})},readMessage(r,e,t,n){let i=r.getType(),o=t===void 0?e.len:e.pos+t;for(;e.pos<o;){let[a,s]=e.tag(),u=i.fields.find(a);if(!u){let g=e.skip(s);n.readUnknownFields&&this.onUnknownField(r,a,s,g);continue}let f=r,c=u.repeated,l=u.localName;switch(u.oneof&&(f=f[u.oneof.localName],f.case!=l&&delete f.value,f.case=l,l="value"),u.kind){case"scalar":case"enum":let g=u.kind=="enum"?pr.ScalarType.INT32:u.T;if(c){let M=f[l];if(s==Ng.WireType.LengthDelimited&&g!=pr.ScalarType.STRING&&g!=pr.ScalarType.BYTES){let k=e.uint32()+e.pos;for(;e.pos<k;)M.push(Kv(e,g))}else M.push(Kv(e,g))}else f[l]=Kv(e,g);break;case"message":let y=u.T;c?f[l].push(x6(e,new y,n)):f[l]instanceof Gle.Message?x6(e,f[l],n):(f[l]=x6(e,new y,n),y.fieldWrapper&&!u.oneof&&!u.repeated&&(f[l]=y.fieldWrapper.unwrapField(f[l])));break;case"map":let[b,D]=Zle(u,e,n);f[l][b]=D;break}}}}}Qa.makeBinaryFormatCommon=$le;function x6(r,e,t){return e.getType().runtime.bin.readMessage(e,r,r.uint32(),t),e}function Zle(r,e,t){let n=e.uint32(),i=e.pos+n,o,a;for(;e.pos<i;){let[s]=e.tag();switch(s){case 1:o=Kv(e,r.K);break;case 2:switch(r.V.kind){case"scalar":a=Kv(e,r.V.T);break;case"enum":a=e.int32();break;case"message":a=x6(e,new r.V.T,t);break}break}}if(o===void 0){let s=(0,w6.scalarDefaultValue)(r.K);o=r.K==pr.ScalarType.BOOL?s.toString():s}if(typeof o!="string"&&typeof o!="number"&&(o=o.toString()),a===void 0)switch(r.V.kind){case"scalar":a=(0,w6.scalarDefaultValue)(r.V.T);break;case"enum":a=0;break;case"message":a=new r.V.T;break}return[o,a]}function Kv(r,e){switch(e){case pr.ScalarType.STRING:return r.string();case pr.ScalarType.BOOL:return r.bool();case pr.ScalarType.DOUBLE:return r.double();case pr.ScalarType.FLOAT:return r.float();case pr.ScalarType.INT32:return r.int32();case pr.ScalarType.INT64:return r.int64();case pr.ScalarType.UINT64:return r.uint64();case pr.ScalarType.FIXED64:return r.fixed64();case pr.ScalarType.BYTES:return r.bytes();case pr.ScalarType.FIXED32:return r.fixed32();case pr.ScalarType.SFIXED32:return r.sfixed32();case pr.ScalarType.SFIXED64:return r.sfixed64();case pr.ScalarType.SINT64:return r.sint64();case pr.ScalarType.UINT32:return r.uint32();case pr.ScalarType.SINT32:return r.sint32()}}function Qle(r,e,t,n,i){r.tag(t.no,Ng.WireType.LengthDelimited),r.fork();let o=n;switch(t.K){case pr.ScalarType.INT32:case pr.ScalarType.FIXED32:case pr.ScalarType.UINT32:case pr.ScalarType.SFIXED32:case pr.ScalarType.SINT32:o=Number.parseInt(n);break;case pr.ScalarType.BOOL:(0,Wle.assert)(n=="true"||n=="false"),o=n=="true";break}switch(b6(r,t.K,1,o,!0),t.V.kind){case"scalar":b6(r,t.V.T,2,i,!0);break;case"enum":b6(r,pr.ScalarType.INT32,2,i,!0);break;case"message":AH(r,e,t.V.T,2,i);break}r.join()}Qa.writeMapEntry=Qle;function AH(r,e,t,n,i){if(i!==void 0){let o=(0,Yle.wrapField)(t,i);r.tag(n,Ng.WireType.LengthDelimited).bytes(o.toBinary(e))}}Qa.writeMessageField=AH;function b6(r,e,t,n,i){let[o,a,s]=(0,w6.scalarTypeInfo)(e,n);(!s||i)&&r.tag(t,o)[a](n)}Qa.writeScalar=b6;function ehe(r,e,t,n){if(!n.length)return;r.tag(t,Ng.WireType.LengthDelimited).fork();let[,i]=(0,w6.scalarTypeInfo)(e);for(let o=0;o<n.length;o++)r[i](n[o]);r.join()}Qa.writePacked=ehe});var OH=T(C6=>{h();p();Object.defineProperty(C6,"__esModule",{value:!0});C6.makeBinaryFormatProto3=void 0;var the=la(),jh=S6();function rhe(){return Object.assign(Object.assign({},(0,jh.makeBinaryFormatCommon)()),{writeMessage(r,e,t){let n=r.getType();for(let i of n.fields.byNumber()){let o,a=i.repeated,s=i.localName;if(i.oneof){let u=r[i.oneof.localName];if(u.case!==s)continue;o=u.value}else o=r[s];switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?the.ScalarType.INT32:i.T;if(a)if(i.packed)(0,jh.writePacked)(e,u,i.no,o);else for(let f of o)(0,jh.writeScalar)(e,u,i.no,f,!0);else o!==void 0&&(0,jh.writeScalar)(e,u,i.no,o,!!i.oneof||i.opt);break;case"message":if(a)for(let f of o)(0,jh.writeMessageField)(e,t,i.T,i.no,f);else(0,jh.writeMessageField)(e,t,i.T,i.no,o);break;case"map":for(let[f,c]of Object.entries(o))(0,jh.writeMapEntry)(e,t,i,f,c);break}}return t.writeUnknownFields&&this.writeUnknownFields(r,e),e}})}C6.makeBinaryFormatProto3=rhe});var F7=T(I6=>{h();p();Object.defineProperty(I6,"__esModule",{value:!0});I6.protoBase64=void 0;var Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),E6=[];for(let r=0;r<Rc.length;r++)E6[Rc[r].charCodeAt(0)]=r;E6["-".charCodeAt(0)]=Rc.indexOf("+");E6["_".charCodeAt(0)]=Rc.indexOf("/");I6.protoBase64={dec(r){let e=r.length*3/4;r[r.length-2]=="="?e-=2:r[r.length-1]=="="&&(e-=1);let t=new Uint8Array(e),n=0,i=0,o,a=0;for(let s=0;s<r.length;s++){if(o=E6[r.charCodeAt(s)],o===void 0)switch(r[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:a=o,i=1;break;case 1:t[n++]=a<<2|(o&48)>>4,a=o,i=2;break;case 2:t[n++]=(a&15)<<4|(o&60)>>2,a=o,i=3;break;case 3:t[n++]=(a&3)<<6|o,i=0;break}}if(i==1)throw Error("invalid base64 string.");return t.subarray(0,n)},enc(r){let e="",t=0,n,i=0;for(let o=0;o<r.length;o++)switch(n=r[o],t){case 0:e+=Rc[n>>2],i=(n&3)<<4,t=1;break;case 1:e+=Rc[i|n>>4],i=(n&15)<<2,t=2;break;case 2:e+=Rc[i|n>>6],e+=Rc[n&63],t=0;break}return t&&(e+=Rc[i],e+="=",t==1&&(e+="=")),e}}});var U7=T(A6=>{h();p();Object.defineProperty(A6,"__esModule",{value:!0});A6.makeJsonFormatCommon=void 0;var nhe=rn(),Pt=la(),Bc=vu(),T6=Tc(),PH=F7(),DH={ignoreUnknownFields:!1},RH={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function ihe(r){return r?Object.assign(Object.assign({},DH),r):DH}function ohe(r){return r?Object.assign(Object.assign({},RH),r):RH}function ahe(r){let e=r(she,BH);return{makeReadOptions:ihe,makeWriteOptions:ohe,readMessage(t,n,i,o){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${t.typeName} from JSON: ${this.debug(n)}`);o=o??new t;let a={};for(let[s,u]of Object.entries(n)){let f=t.fields.findJsonName(s);if(!f){if(!i.ignoreUnknownFields)throw new Error(`cannot decode message ${t.typeName} from JSON: key "${s}" is unknown`);continue}let c=f.localName,l=o;if(f.oneof){if(u===null&&f.kind=="scalar")continue;let g=a[f.oneof.localName];if(g)throw new Error(`cannot decode message ${t.typeName} from JSON: multiple keys for oneof "${f.oneof.name}" present: "${g}", "${s}"`);a[f.oneof.localName]=s,l=l[f.oneof.localName]={case:c},c="value"}if(f.repeated){if(u===null)continue;if(!Array.isArray(u))throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=l[c];for(let y of u){if(y===null)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(y)}`);let b;switch(f.kind){case"message":b=f.T.fromJson(y,i);break;case"enum":if(b=L7(f.T,y,i.ignoreUnknownFields),b===void 0)continue;break;case"scalar":try{b=Vv(f.T,y)}catch(D){let M=`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(y)}`;throw D instanceof Error&&D.message.length>0&&(M+=`: ${D.message}`),new Error(M)}break}g.push(b)}}else if(f.kind=="map"){if(u===null)continue;if(Array.isArray(u)||typeof u!="object")throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=l[c];for(let[y,b]of Object.entries(u)){if(b===null)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: map value null`);let D;switch(f.V.kind){case"message":D=f.V.T.fromJson(b,i);break;case"enum":if(D=L7(f.V.T,b,i.ignoreUnknownFields),D===void 0)continue;break;case"scalar":try{D=Vv(f.V.T,b)}catch(M){let k=`cannot decode map value for field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw M instanceof Error&&M.message.length>0&&(k+=`: ${M.message}`),new Error(k)}break}try{g[Vv(f.K,f.K==Pt.ScalarType.BOOL?y=="true"?!0:y=="false"?!1:y:y).toString()]=D}catch(M){let k=`cannot decode map key for field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw M instanceof Error&&M.message.length>0&&(k+=`: ${M.message}`),new Error(k)}}}else switch(f.kind){case"message":let g=f.T;if(u===null&&g.typeName!="google.protobuf.Value"){if(f.oneof)throw new Error(`cannot decode field ${t.typeName}.${f.name} from JSON: null is invalid for oneof field "${s}"`);continue}l[c]instanceof nhe.Message?l[c].fromJson(u,i):(l[c]=g.fromJson(u,i),g.fieldWrapper&&!f.oneof&&(l[c]=g.fieldWrapper.unwrapField(l[c])));break;case"enum":let y=L7(f.T,u,i.ignoreUnknownFields);y!==void 0&&(l[c]=y);break;case"scalar":try{l[c]=Vv(f.T,u)}catch(b){let D=`cannot decode field ${t.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw b instanceof Error&&b.message.length>0&&(D+=`: ${b.message}`),new Error(D)}break}}return o},writeMessage(t,n){let i=t.getType(),o={},a;try{for(let s of i.fields.byMember()){let u;if(s.kind=="oneof"){let f=t[s.localName];if(f.value===void 0)continue;if(a=s.findField(f.case),!a)throw"oneof case not found: "+f.case;u=e(a,f.value,n)}else a=s,u=e(a,t[a.localName],n);u!==void 0&&(o[n.useProtoFieldName?a.name:a.jsonName]=u)}}catch(s){let u=a?`cannot encode field ${i.typeName}.${a.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,f=s instanceof Error?s.message:String(s);throw new Error(u+(f.length>0?`: ${f}`:""))}return o},readScalar:Vv,writeScalar:BH,debug:MH}}A6.makeJsonFormatCommon=ahe;function MH(r){if(r===null)return"null";switch(typeof r){case"object":return Array.isArray(r)?"array":"object";case"string":return r.length>100?"string":`"${r.split('"').join('\\"')}"`;default:return r.toString()}}function Vv(r,e){switch(r){case Pt.ScalarType.DOUBLE:case Pt.ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;let t=Number(e);if(Number.isNaN(t)||!Number.isFinite(t))break;return r==Pt.ScalarType.FLOAT&&(0,Bc.assertFloat32)(t),t;case Pt.ScalarType.INT32:case Pt.ScalarType.FIXED32:case Pt.ScalarType.SFIXED32:case Pt.ScalarType.SINT32:case Pt.ScalarType.UINT32:if(e===null)return 0;let n;if(typeof e=="number"?n=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(n=Number(e)),n===void 0)break;return r==Pt.ScalarType.UINT32?(0,Bc.assertUInt32)(n):(0,Bc.assertInt32)(n),n;case Pt.ScalarType.INT64:case Pt.ScalarType.SFIXED64:case Pt.ScalarType.SINT64:if(e===null)return T6.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return T6.protoInt64.parse(e);case Pt.ScalarType.FIXED64:case Pt.ScalarType.UINT64:if(e===null)return T6.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return T6.protoInt64.uParse(e);case Pt.ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case Pt.ScalarType.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case Pt.ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return PH.protoBase64.dec(e)}throw new Error}function L7(r,e,t){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":let n=r.findName(e);if(n||t)return n?.no;break}throw new Error(`cannot decode enum ${r.typeName} from JSON: ${MH(e)}`)}function she(r,e,t,n){var i;if(e===void 0)return e;if(e===0&&!t)return;if(n)return e;if(r.typeName=="google.protobuf.NullValue")return null;let o=r.findNumber(e);return(i=o?.name)!==null&&i!==void 0?i:e}function BH(r,e,t){if(e!==void 0)switch(r){case Pt.ScalarType.INT32:case Pt.ScalarType.SFIXED32:case Pt.ScalarType.SINT32:case Pt.ScalarType.FIXED32:case Pt.ScalarType.UINT32:return(0,Bc.assert)(typeof e=="number"),e!=0||t?e:void 0;case Pt.ScalarType.FLOAT:case Pt.ScalarType.DOUBLE:return(0,Bc.assert)(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||t?e:void 0;case Pt.ScalarType.STRING:return(0,Bc.assert)(typeof e=="string"),e.length>0||t?e:void 0;case Pt.ScalarType.BOOL:return(0,Bc.assert)(typeof e=="boolean"),e||t?e:void 0;case Pt.ScalarType.UINT64:case Pt.ScalarType.FIXED64:case Pt.ScalarType.INT64:case Pt.ScalarType.SFIXED64:case Pt.ScalarType.SINT64:return(0,Bc.assert)(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),t||e!=0?e.toString(10):void 0;case Pt.ScalarType.BYTES:return(0,Bc.assert)(e instanceof Uint8Array),t||e.byteLength>0?PH.protoBase64.enc(e):void 0}}});var kH=T(O6=>{h();p();Object.defineProperty(O6,"__esModule",{value:!0});O6.makeJsonFormatProto3=void 0;var NH=jv(),j7=vu(),uhe=U7();function fhe(){return(0,uhe.makeJsonFormatCommon)((r,e)=>function(n,i,o){if(n.kind=="map"){let a={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let c=e(n.V.T,f,!0);(0,j7.assert)(c!==void 0),a[u.toString()]=c}break;case"message":for(let[u,f]of Object.entries(i))a[u.toString()]=f.toJson(o);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,j7.assert)(f===void 0||typeof f=="number");let c=r(s,f,!0,o.enumAsInteger);(0,j7.assert)(c!==void 0),a[u.toString()]=c}break}return o.emitDefaultValues||Object.keys(a).length>0?a:void 0}else if(n.repeated){let a=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)a.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)a.push(r(n.T,i[s],!0,o.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)a.push((0,NH.wrapField)(n.T,i[s]).toJson(o));break}return o.emitDefaultValues||a.length>0?a:void 0}else switch(n.kind){case"scalar":return e(n.T,i,!!n.oneof||n.opt||o.emitDefaultValues);case"enum":return r(n.T,i,!!n.oneof||n.opt||o.emitDefaultValues,o.enumAsInteger);case"message":return i!==void 0?(0,NH.wrapField)(n.T,i).toJson(o):void 0}})}O6.makeJsonFormatProto3=fhe});var H7=T(B6=>{h();p();Object.defineProperty(B6,"__esModule",{value:!0});B6.makeUtilCommon=void 0;var che=h6(),dhe=rn(),D6=la(),xd=Hv();function lhe(){return{setEnumType:che.setEnumType,initPartial(r,e){if(r===void 0)return;let t=e.getType();for(let n of t.fields.byMember()){let i=n.localName,o=e,a=r;if(a[i]!==void 0)switch(n.kind){case"oneof":let s=a[i].case;if(s===void 0)continue;let u=n.findField(s),f=a[i].value;u&&u.kind=="message"&&!(f instanceof u.T)&&(f=new u.T(f)),o[i]={case:s,value:f};break;case"scalar":case"enum":o[i]=a[i];break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(o[i],a[i]);break;case"message":let l=n.V.T;for(let g of Object.keys(a[i])){let y=a[i][g];l.fieldWrapper||(y=new l(y)),o[i][g]=y}break}break;case"message":let c=n.T;if(n.repeated)o[i]=a[i].map(l=>l instanceof c?l:new c(l));else if(a[i]!==void 0){let l=a[i];c.fieldWrapper?o[i]=l:o[i]=l instanceof c?l:new c(l)}break}}},equals(r,e,t){return e===t?!0:!e||!t?!1:r.fields.byMember().every(n=>{let i=e[n.localName],o=t[n.localName];if(n.repeated){if(i.length!==o.length)return!1;switch(n.kind){case"message":return i.every((a,s)=>n.T.equals(a,o[s]));case"scalar":return i.every((a,s)=>(0,xd.scalarEquals)(n.T,a,o[s]));case"enum":return i.every((a,s)=>(0,xd.scalarEquals)(D6.ScalarType.INT32,a,o[s]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(i,o);case"enum":return(0,xd.scalarEquals)(D6.ScalarType.INT32,i,o);case"scalar":return(0,xd.scalarEquals)(n.T,i,o);case"oneof":if(i.case!==o.case)return!1;let a=n.findField(i.case);if(a===void 0)return!0;switch(a.kind){case"message":return a.T.equals(i.value,o.value);case"enum":return(0,xd.scalarEquals)(D6.ScalarType.INT32,i.value,o.value);case"scalar":return(0,xd.scalarEquals)(a.T,i.value,o.value)}throw new Error(`oneof cannot contain ${a.kind}`);case"map":let s=Object.keys(i).concat(Object.keys(o));switch(n.V.kind){case"message":let u=n.V.T;return s.every(c=>u.equals(i[c],o[c]));case"enum":return s.every(c=>(0,xd.scalarEquals)(D6.ScalarType.INT32,i[c],o[c]));case"scalar":let f=n.V.T;return s.every(c=>(0,xd.scalarEquals)(f,i[c],o[c]))}break}})},clone(r){let e=r.getType(),t=new e,n=t;for(let i of e.fields.byMember()){let o=r[i.localName],a;if(i.repeated)a=o.map(s=>R6(i,s));else if(i.kind=="map"){a=n[i.localName];for(let[s,u]of Object.entries(o))a[s]=R6(i.V,u)}else if(i.kind=="oneof"){let s=i.findField(o.case);a=s?{case:o.case,value:R6(s,o.value)}:{case:void 0}}else a=R6(i,o);n[i.localName]=a}return t}}}B6.makeUtilCommon=lhe;function R6(r,e){if(e===void 0)return e;if(e instanceof dhe.Message)return e.clone();if(e instanceof Uint8Array){let t=new Uint8Array(e.byteLength);return t.set(e),t}return e}});var V7=T(P6=>{h();p();Object.defineProperty(P6,"__esModule",{value:!0});P6.InternalFieldList=void 0;var K7=class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){let t={};for(let n of this.list())t[n.jsonName]=t[n.name]=n;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){let t={};for(let n of this.list())t[n.no]=n;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];let e=this.members,t;for(let n of this.list())n.oneof?n.oneof!==t&&(t=n.oneof,e.push(t)):e.push(n)}return this.members}};P6.InternalFieldList=K7});var Hh=T(Nr=>{h();p();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.safeIdentifier=Nr.safeObjectProperty=Nr.findEnumSharedPrefix=Nr.fieldJsonName=Nr.localOneofName=Nr.localFieldName=Nr.localName=void 0;function hhe(r){switch(r.kind){case"field":return z7(r.name,r.oneof!==void 0);case"oneof":return qH(r.name);case"enum":case"message":case"service":{let e=r.file.proto.package,t=e===void 0?0:e.length+1,n=r.typeName.substring(t).replace(/\./g,"_");return(0,Nr.safeObjectProperty)((0,Nr.safeIdentifier)(n))}case"enum_value":{let e=r.parent.sharedPrefix;if(e===void 0)return r.name;let t=r.name.substring(e.length);return(0,Nr.safeObjectProperty)(t)}case"rpc":{let e=r.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),(0,Nr.safeObjectProperty)(e))}}}Nr.localName=hhe;function z7(r,e){let t=FH(r);return e?t:(0,Nr.safeObjectProperty)(_he(t))}Nr.localFieldName=z7;function qH(r){return z7(r,!1)}Nr.localOneofName=qH;Nr.fieldJsonName=FH;function phe(r,e){let t=ghe(r)+"_";for(let n of e){if(!n.toLowerCase().startsWith(t))return;let i=n.substring(t.length);if(i.length==0||/^\d/.test(i))return}return t}Nr.findEnumSharedPrefix=phe;function ghe(r){return(r.substring(0,1)+r.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function FH(r){let e=!1,t=[];for(let n=0;n<r.length;n++){let i=r.charAt(n);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),t.push(i);break}}return t.join("")}var mhe=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),yhe=new Set(["constructor","toString","toJSON","valueOf"]),vhe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),G7=r=>`${r}$`,_he=r=>vhe.has(r)?G7(r):r,xhe=r=>yhe.has(r)?G7(r):r;Nr.safeObjectProperty=xhe;var bhe=r=>mhe.has(r)?G7(r):r;Nr.safeIdentifier=bhe});var W7=T(M6=>{h();p();Object.defineProperty(M6,"__esModule",{value:!0});M6.InternalOneofInfo=void 0;var whe=Hh(),She=vu(),Y7=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=(0,whe.localOneofName)(e)}addField(e){(0,She.assert)(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}};M6.InternalOneofInfo=Y7});var ha=T(N6=>{h();p();Object.defineProperty(N6,"__esModule",{value:!0});N6.proto3=void 0;var Che=P7(),Ehe=OH(),Ihe=kH(),The=H7(),Ahe=V7(),Ohe=Hv(),LH=la(),Dhe=W7(),UH=Hh();N6.proto3=(0,Che.makeProtoRuntime)("proto3",(0,Ihe.makeJsonFormatProto3)(),(0,Ehe.makeBinaryFormatProto3)(),Object.assign(Object.assign({},(0,The.makeUtilCommon)()),{newFieldList(r){return new Ahe.InternalFieldList(r,Rhe)},initFields(r){for(let e of r.getType().fields.byMember()){if(e.opt)continue;let t=e.localName,n=r;if(e.repeated){n[t]=[];continue}switch(e.kind){case"oneof":n[t]={case:void 0};break;case"enum":n[t]=0;break;case"map":n[t]={};break;case"scalar":n[t]=(0,Ohe.scalarDefaultValue)(e.T);break;case"message":break}}}}));function Rhe(r){var e,t,n;let i=[],o;for(let a of typeof r=="function"?r():r){let s=a;if(s.localName=(0,UH.localFieldName)(a.name,a.oneof!==void 0),s.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:(0,UH.fieldJsonName)(a.name),s.repeated=(t=a.repeated)!==null&&t!==void 0?t:!1,s.packed=(n=a.packed)!==null&&n!==void 0?n:a.kind=="enum"||a.kind=="scalar"&&a.T!=LH.ScalarType.BYTES&&a.T!=LH.ScalarType.STRING,a.oneof!==void 0){let u=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=u)&&(o=new Dhe.InternalOneofInfo(u)),s.oneof=o,o.addField(s)}i.push(s)}return i}});var jH=T(k6=>{h();p();Object.defineProperty(k6,"__esModule",{value:!0});k6.makeBinaryFormatProto2=void 0;var Bhe=la(),Kh=S6();function Phe(){return Object.assign(Object.assign({},(0,Kh.makeBinaryFormatCommon)()),{writeMessage(r,e,t){let n=r.getType(),i;try{for(i of n.fields.byNumber()){let o,a=i.repeated,s=i.localName;if(i.oneof){let u=r[i.oneof.localName];if(u.case!==s)continue;o=u.value}else if(o=r[s],o===void 0&&!i.oneof&&!i.opt)throw new Error(`cannot encode field ${n.typeName}.${i.name} to binary: required field not set`);switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?Bhe.ScalarType.INT32:i.T;if(a)if(i.packed)(0,Kh.writePacked)(e,u,i.no,o);else for(let f of o)(0,Kh.writeScalar)(e,u,i.no,f,!0);else o!==void 0&&(0,Kh.writeScalar)(e,u,i.no,o,!0);break;case"message":if(a)for(let f of o)(0,Kh.writeMessageField)(e,t,i.T,i.no,f);else(0,Kh.writeMessageField)(e,t,i.T,i.no,o);break;case"map":for(let[f,c]of Object.entries(o))(0,Kh.writeMapEntry)(e,t,i,f,c);break}}}catch(o){let a=i?`cannot encode field ${n.typeName}.${i?.name} to binary`:`cannot encode message ${n.typeName} to binary`,s=o instanceof Error?o.message:String(o);throw new Error(a+(s.length>0?`: ${s}`:""))}return t.writeUnknownFields&&this.writeUnknownFields(r,e),e}})}k6.makeBinaryFormatProto2=Phe});var HH=T(q6=>{h();p();Object.defineProperty(q6,"__esModule",{value:!0});q6.makeJsonFormatProto2=void 0;var Mhe=jv(),X7=vu(),Nhe=U7();function khe(){return(0,Nhe.makeJsonFormatCommon)((r,e)=>function(n,i,o){if(n.kind=="map"){let a={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let c=e(n.V.T,f,!0);(0,X7.assert)(c!==void 0),a[u.toString()]=c}break;case"message":for(let[u,f]of Object.entries(i))a[u.toString()]=f.toJson(o);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,X7.assert)(f===void 0||typeof f=="number");let c=r(s,f,!0,o.enumAsInteger);(0,X7.assert)(c!==void 0),a[u.toString()]=c}break}return o.emitDefaultValues||Object.keys(a).length>0?a:void 0}else if(n.repeated){let a=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)a.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)a.push(r(n.T,i[s],!0,o.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)a.push(i[s].toJson(o));break}return o.emitDefaultValues||a.length>0?a:void 0}else{if(i===void 0){if(!n.oneof&&!n.opt)throw"required field not set";return}switch(n.kind){case"scalar":return e(n.T,i,!0);case"enum":return r(n.T,i,!0,o.enumAsInteger);case"message":return(0,Mhe.wrapField)(n.T,i).toJson(o)}}})}q6.makeJsonFormatProto2=khe});var zv=T(F6=>{h();p();Object.defineProperty(F6,"__esModule",{value:!0});F6.proto2=void 0;var qhe=P7(),Fhe=jH(),Lhe=H7(),Uhe=V7(),jhe=W7(),KH=Hh(),Hhe=HH();F6.proto2=(0,qhe.makeProtoRuntime)("proto2",(0,Hhe.makeJsonFormatProto2)(),(0,Fhe.makeBinaryFormatProto2)(),Object.assign(Object.assign({},(0,Lhe.makeUtilCommon)()),{newFieldList(r){return new Uhe.InternalFieldList(r,Khe)},initFields(r){for(let e of r.getType().fields.byMember()){let t=e.localName,n=r;if(e.repeated){n[t]=[];continue}switch(e.kind){case"oneof":n[t]={case:void 0};break;case"map":n[t]={};break;case"scalar":case"enum":case"message":break}}}}));function Khe(r){var e,t,n;let i=[],o;for(let a of typeof r=="function"?r():r){let s=a;if(s.localName=(0,KH.localFieldName)(a.name,a.oneof!==void 0),s.jsonName=(e=a.jsonName)!==null&&e!==void 0?e:(0,KH.fieldJsonName)(a.name),s.repeated=(t=a.repeated)!==null&&t!==void 0?t:!1,s.packed=(n=a.packed)!==null&&n!==void 0?n:!1,a.oneof!==void 0){let u=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!o||o.name!=u)&&(o=new jhe.InternalOneofInfo(u)),s.oneof=o,o.addField(s)}i.push(s)}return i}});var zH=T(es=>{h();p();var Vhe=es&&es.__asyncValues||function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=r[o]&&function(a){return new Promise(function(s,u){a=r[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(f){o({value:f,done:s})},a)}},kg=es&&es.__await||function(r){return this instanceof kg?(this.v=r,this):new kg(r)},zhe=es&&es.__asyncGenerator||function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(g){n[g]&&(i[g]=function(y){return new Promise(function(b,D){o.push([g,y,b,D])>1||s(g,y)})})}function s(g,y){try{u(n[g](y))}catch(b){l(o[0][3],b)}}function u(g){g.value instanceof kg?Promise.resolve(g.value.v).then(f,c):l(o[0][2],g)}function f(g){s("next",g)}function c(g){s("throw",g)}function l(g,y){g(y),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(es,"__esModule",{value:!0});es.protoDelimited=void 0;var VH=S6(),Ghe=Uv();es.protoDelimited={enc(r,e){let t=(0,VH.makeBinaryFormatCommon)().makeWriteOptions(e);return t.writerFactory().bytes(r.toBinary(t)).finish()},dec(r,e,t){let n=(0,VH.makeBinaryFormatCommon)().makeReadOptions(t);return r.fromBinary(n.readerFactory(e).bytes(),n)},decStream(r,e){return zhe(this,arguments,function*(){var n,i,o,a;function s(g,y){let b=new Uint8Array(g.byteLength+y.byteLength);return b.set(g),b.set(y,g.length),b}let u=new Uint8Array(0);try{for(var f=!0,c=Vhe(e),l;l=yield kg(c.next()),n=l.done,!n;){a=l.value,f=!1;try{for(u=s(u,a);;){let y=es.protoDelimited.peekSize(u);if(y.eof||y.offset+y.size>u.byteLength)break;yield yield kg(es.protoDelimited.dec(r,u)),u=u.subarray(y.offset+y.size)}}finally{f=!0}}}catch(g){i={error:g}}finally{try{!f&&!n&&(o=c.return)&&(yield kg(o.call(c)))}finally{if(i)throw i.error}}if(u.byteLength>0)throw new Error("incomplete data")})},peekSize(r){let e={eof:!0,size:null,offset:null};for(let t=0;t<10;t++){if(t>r.byteLength)return e;if((r[t]&128)==0){let n=new Ghe.BinaryReader(r),i;try{i=n.uint32()}catch(o){if(o instanceof RangeError)return e;throw o}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}}});var GH=T(L6=>{h();p();Object.defineProperty(L6,"__esModule",{value:!0});L6.reifyWkt=void 0;var Tf=la();function Yhe(r){switch(r.typeName){case"google.protobuf.Any":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===Tf.ScalarType.STRING),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===Tf.ScalarType.BYTES);if(e&&t)return{typeName:r.typeName,typeUrl:e,value:t};break}case"google.protobuf.Timestamp":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===Tf.ScalarType.INT64),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===Tf.ScalarType.INT32);if(e&&t)return{typeName:r.typeName,seconds:e,nanos:t};break}case"google.protobuf.Duration":{let e=r.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===Tf.ScalarType.INT64),t=r.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===Tf.ScalarType.INT32);if(e&&t)return{typeName:r.typeName,seconds:e,nanos:t};break}case"google.protobuf.Struct":{let e=r.fields.find(t=>t.number==1&&!t.repeated);if(e?.fieldKind!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:r.typeName,fields:e}}case"google.protobuf.Value":{let e=r.oneofs.find(u=>u.name==="kind"),t=r.fields.find(u=>u.number==1&&u.oneof===e);if(t?.fieldKind!=="enum"||t.enum.typeName!=="google.protobuf.NullValue")return;let n=r.fields.find(u=>u.number==2&&u.fieldKind=="scalar"&&u.scalar===Tf.ScalarType.DOUBLE&&u.oneof===e),i=r.fields.find(u=>u.number==3&&u.fieldKind=="scalar"&&u.scalar===Tf.ScalarType.STRING&&u.oneof===e),o=r.fields.find(u=>u.number==4&&u.fieldKind=="scalar"&&u.scalar===Tf.ScalarType.BOOL&&u.oneof===e),a=r.fields.find(u=>u.number==5&&u.oneof===e);if(a?.fieldKind!=="message"||a.message.typeName!=="google.protobuf.Struct")return;let s=r.fields.find(u=>u.number==6&&u.oneof===e);if(s?.fieldKind!=="message"||s.message.typeName!=="google.protobuf.ListValue")return;if(e&&n&&i&&o)return{typeName:r.typeName,kind:e,nullValue:t,numberValue:n,stringValue:i,boolValue:o,structValue:a,listValue:s};break}case"google.protobuf.ListValue":{let e=r.fields.find(t=>t.number==1&&t.repeated);if(e?.fieldKind!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:r.typeName,values:e}}case"google.protobuf.FieldMask":{let e=r.fields.find(t=>t.number==1&&t.fieldKind=="scalar"&&t.scalar===Tf.ScalarType.STRING&&t.repeated);if(e)return{typeName:r.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{let e=r.fields.find(t=>t.number==1&&t.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:r.typeName,value:e}}}}L6.reifyWkt=Yhe});var YH=T(U6=>{h();p();Object.defineProperty(U6,"__esModule",{value:!0});U6.codegenInfo=void 0;var J7=Hh(),Whe=jv(),Xhe=Hv(),Jhe=GH(),nn="@bufbuild/protobuf";U6.codegenInfo={packageName:nn,localName:J7.localName,reifyWkt:Jhe.reifyWkt,getUnwrappedFieldType:Whe.getUnwrappedFieldType,scalarDefaultValue:Xhe.scalarDefaultValue,safeIdentifier:J7.safeIdentifier,safeObjectProperty:J7.safeObjectProperty,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:nn},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:nn},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:nn},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:nn},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:nn},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:nn},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:nn},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:nn},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:nn},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:nn},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:nn},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:nn},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:nn},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:nn}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]}});var $7=T(bd=>{h();p();Object.defineProperty(bd,"__esModule",{value:!0});bd.MethodIdempotency=bd.MethodKind=void 0;var $he;(function(r){r[r.Unary=0]="Unary",r[r.ServerStreaming=1]="ServerStreaming",r[r.ClientStreaming=2]="ClientStreaming",r[r.BiDiStreaming=3]="BiDiStreaming"})($he=bd.MethodKind||(bd.MethodKind={}));var Zhe;(function(r){r[r.NoSideEffects=1]="NoSideEffects",r[r.Idempotent=2]="Idempotent"})(Zhe=bd.MethodIdempotency||(bd.MethodIdempotency={}))});var Gv=T(we=>{h();p();Object.defineProperty(we,"__esModule",{value:!0});we.GeneratedCodeInfo_Annotation_Semantic=we.GeneratedCodeInfo_Annotation=we.GeneratedCodeInfo=we.SourceCodeInfo_Location=we.SourceCodeInfo=we.UninterpretedOption_NamePart=we.UninterpretedOption=we.MethodOptions_IdempotencyLevel=we.MethodOptions=we.ServiceOptions=we.EnumValueOptions=we.EnumOptions=we.OneofOptions=we.FieldOptions_OptionTargetType=we.FieldOptions_OptionRetention=we.FieldOptions_JSType=we.FieldOptions_CType=we.FieldOptions=we.MessageOptions=we.FileOptions_OptimizeMode=we.FileOptions=we.MethodDescriptorProto=we.ServiceDescriptorProto=we.EnumValueDescriptorProto=we.EnumDescriptorProto_EnumReservedRange=we.EnumDescriptorProto=we.OneofDescriptorProto=we.FieldDescriptorProto_Label=we.FieldDescriptorProto_Type=we.FieldDescriptorProto=we.ExtensionRangeOptions_Declaration=we.ExtensionRangeOptions_VerificationState=we.ExtensionRangeOptions=we.DescriptorProto_ReservedRange=we.DescriptorProto_ExtensionRange=we.DescriptorProto=we.FileDescriptorProto=we.FileDescriptorSet=void 0;var Qt=rn(),ce=zv(),_u=class extends Qt.Message{constructor(e){super(),this.file=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new _u().fromBinary(e,t)}static fromJson(e,t){return new _u().fromJson(e,t)}static fromJsonString(e,t){return new _u().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(_u,e,t)}};_u.runtime=ce.proto2;_u.typeName="google.protobuf.FileDescriptorSet";_u.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:ts,repeated:!0}]);we.FileDescriptorSet=_u;var ts=class extends Qt.Message{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ts().fromBinary(e,t)}static fromJson(e,t){return new ts().fromJson(e,t)}static fromJsonString(e,t){return new ts().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ts,e,t)}};ts.runtime=ce.proto2;ts.typeName="google.protobuf.FileDescriptorProto";ts.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:pa,repeated:!0},{no:5,name:"enum_type",kind:"message",T:ga,repeated:!0},{no:6,name:"service",kind:"message",T:fs,repeated:!0},{no:7,name:"extension",kind:"message",T:zo,repeated:!0},{no:8,name:"options",kind:"message",T:ds,opt:!0},{no:9,name:"source_code_info",kind:"message",T:xs,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:13,name:"edition",kind:"scalar",T:9,opt:!0}]);we.FileDescriptorProto=ts;var pa=class extends Qt.Message{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new pa().fromBinary(e,t)}static fromJson(e,t){return new pa().fromJson(e,t)}static fromJsonString(e,t){return new pa().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(pa,e,t)}};pa.runtime=ce.proto2;pa.typeName="google.protobuf.DescriptorProto";pa.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:zo,repeated:!0},{no:6,name:"extension",kind:"message",T:zo,repeated:!0},{no:3,name:"nested_type",kind:"message",T:pa,repeated:!0},{no:4,name:"enum_type",kind:"message",T:ga,repeated:!0},{no:5,name:"extension_range",kind:"message",T:rs,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:as,repeated:!0},{no:7,name:"options",kind:"message",T:ls,opt:!0},{no:9,name:"reserved_range",kind:"message",T:ns,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);we.DescriptorProto=pa;var rs=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new rs().fromBinary(e,t)}static fromJson(e,t){return new rs().fromJson(e,t)}static fromJsonString(e,t){return new rs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(rs,e,t)}};rs.runtime=ce.proto2;rs.typeName="google.protobuf.DescriptorProto.ExtensionRange";rs.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:is,opt:!0}]);we.DescriptorProto_ExtensionRange=rs;var ns=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ns().fromBinary(e,t)}static fromJson(e,t){return new ns().fromJson(e,t)}static fromJsonString(e,t){return new ns().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ns,e,t)}};ns.runtime=ce.proto2;ns.typeName="google.protobuf.DescriptorProto.ReservedRange";ns.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);we.DescriptorProto_ReservedRange=ns;var is=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new is().fromBinary(e,t)}static fromJson(e,t){return new is().fromJson(e,t)}static fromJsonString(e,t){return new is().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(is,e,t)}};is.runtime=ce.proto2;is.typeName="google.protobuf.ExtensionRangeOptions";is.fields=ce.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0},{no:2,name:"declaration",kind:"message",T:os,repeated:!0},{no:3,name:"verification",kind:"enum",T:ce.proto2.getEnumType(j6),opt:!0,default:j6.UNVERIFIED}]);we.ExtensionRangeOptions=is;var j6;(function(r){r[r.DECLARATION=0]="DECLARATION",r[r.UNVERIFIED=1]="UNVERIFIED"})(j6=we.ExtensionRangeOptions_VerificationState||(we.ExtensionRangeOptions_VerificationState={}));ce.proto2.util.setEnumType(j6,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);var os=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new os().fromBinary(e,t)}static fromJson(e,t){return new os().fromJson(e,t)}static fromJsonString(e,t){return new os().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(os,e,t)}};os.runtime=ce.proto2;os.typeName="google.protobuf.ExtensionRangeOptions.Declaration";os.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:4,name:"is_repeated",kind:"scalar",T:8,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);we.ExtensionRangeOptions_Declaration=os;var zo=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new zo().fromBinary(e,t)}static fromJson(e,t){return new zo().fromJson(e,t)}static fromJsonString(e,t){return new zo().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(zo,e,t)}};zo.runtime=ce.proto2;zo.typeName="google.protobuf.FieldDescriptorProto";zo.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:ce.proto2.getEnumType(Q7),opt:!0},{no:5,name:"type",kind:"enum",T:ce.proto2.getEnumType(Z7),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:hs,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);we.FieldDescriptorProto=zo;var Z7;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.GROUP=10]="GROUP",r[r.MESSAGE=11]="MESSAGE",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.ENUM=14]="ENUM",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(Z7=we.FieldDescriptorProto_Type||(we.FieldDescriptorProto_Type={}));ce.proto2.util.setEnumType(Z7,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var Q7;(function(r){r[r.OPTIONAL=1]="OPTIONAL",r[r.REQUIRED=2]="REQUIRED",r[r.REPEATED=3]="REPEATED"})(Q7=we.FieldDescriptorProto_Label||(we.FieldDescriptorProto_Label={}));ce.proto2.util.setEnumType(Q7,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:2,name:"LABEL_REQUIRED"},{no:3,name:"LABEL_REPEATED"}]);var as=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new as().fromBinary(e,t)}static fromJson(e,t){return new as().fromJson(e,t)}static fromJsonString(e,t){return new as().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(as,e,t)}};as.runtime=ce.proto2;as.typeName="google.protobuf.OneofDescriptorProto";as.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:ps,opt:!0}]);we.OneofDescriptorProto=as;var ga=class extends Qt.Message{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ga().fromBinary(e,t)}static fromJson(e,t){return new ga().fromJson(e,t)}static fromJsonString(e,t){return new ga().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ga,e,t)}};ga.runtime=ce.proto2;ga.typeName="google.protobuf.EnumDescriptorProto";ga.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:us,repeated:!0},{no:3,name:"options",kind:"message",T:gs,opt:!0},{no:4,name:"reserved_range",kind:"message",T:ss,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);we.EnumDescriptorProto=ga;var ss=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ss().fromBinary(e,t)}static fromJson(e,t){return new ss().fromJson(e,t)}static fromJsonString(e,t){return new ss().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ss,e,t)}};ss.runtime=ce.proto2;ss.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange";ss.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);we.EnumDescriptorProto_EnumReservedRange=ss;var us=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new us().fromBinary(e,t)}static fromJson(e,t){return new us().fromJson(e,t)}static fromJsonString(e,t){return new us().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(us,e,t)}};us.runtime=ce.proto2;us.typeName="google.protobuf.EnumValueDescriptorProto";us.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:ms,opt:!0}]);we.EnumValueDescriptorProto=us;var fs=class extends Qt.Message{constructor(e){super(),this.method=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new fs().fromBinary(e,t)}static fromJson(e,t){return new fs().fromJson(e,t)}static fromJsonString(e,t){return new fs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(fs,e,t)}};fs.runtime=ce.proto2;fs.typeName="google.protobuf.ServiceDescriptorProto";fs.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:cs,repeated:!0},{no:3,name:"options",kind:"message",T:ys,opt:!0}]);we.ServiceDescriptorProto=fs;var cs=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new cs().fromBinary(e,t)}static fromJson(e,t){return new cs().fromJson(e,t)}static fromJsonString(e,t){return new cs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(cs,e,t)}};cs.runtime=ce.proto2;cs.typeName="google.protobuf.MethodDescriptorProto";cs.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:vs,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);we.MethodDescriptorProto=cs;var ds=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ds().fromBinary(e,t)}static fromJson(e,t){return new ds().fromJson(e,t)}static fromJsonString(e,t){return new ds().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ds,e,t)}};ds.runtime=ce.proto2;ds.typeName="google.protobuf.FileOptions";ds.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:ce.proto2.getEnumType(H6),opt:!0,default:H6.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.FileOptions=ds;var H6;(function(r){r[r.SPEED=1]="SPEED",r[r.CODE_SIZE=2]="CODE_SIZE",r[r.LITE_RUNTIME=3]="LITE_RUNTIME"})(H6=we.FileOptions_OptimizeMode||(we.FileOptions_OptimizeMode={}));ce.proto2.util.setEnumType(H6,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);var ls=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ls().fromBinary(e,t)}static fromJson(e,t){return new ls().fromJson(e,t)}static fromJsonString(e,t){return new ls().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ls,e,t)}};ls.runtime=ce.proto2;ls.typeName="google.protobuf.MessageOptions";ls.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.MessageOptions=ls;var hs=class extends Qt.Message{constructor(e){super(),this.targets=[],this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new hs().fromBinary(e,t)}static fromJson(e,t){return new hs().fromJson(e,t)}static fromJsonString(e,t){return new hs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(hs,e,t)}};hs.runtime=ce.proto2;hs.typeName="google.protobuf.FieldOptions";hs.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:ce.proto2.getEnumType(K6),opt:!0,default:K6.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:ce.proto2.getEnumType(V6),opt:!0,default:V6.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:ce.proto2.getEnumType(e9),opt:!0},{no:18,name:"target",kind:"enum",T:ce.proto2.getEnumType(z6),opt:!0},{no:19,name:"targets",kind:"enum",T:ce.proto2.getEnumType(z6),repeated:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.FieldOptions=hs;var K6;(function(r){r[r.STRING=0]="STRING",r[r.CORD=1]="CORD",r[r.STRING_PIECE=2]="STRING_PIECE"})(K6=we.FieldOptions_CType||(we.FieldOptions_CType={}));ce.proto2.util.setEnumType(K6,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var V6;(function(r){r[r.JS_NORMAL=0]="JS_NORMAL",r[r.JS_STRING=1]="JS_STRING",r[r.JS_NUMBER=2]="JS_NUMBER"})(V6=we.FieldOptions_JSType||(we.FieldOptions_JSType={}));ce.proto2.util.setEnumType(V6,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var e9;(function(r){r[r.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",r[r.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",r[r.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(e9=we.FieldOptions_OptionRetention||(we.FieldOptions_OptionRetention={}));ce.proto2.util.setEnumType(e9,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var z6;(function(r){r[r.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",r[r.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",r[r.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",r[r.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",r[r.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",r[r.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",r[r.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",r[r.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",r[r.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",r[r.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(z6=we.FieldOptions_OptionTargetType||(we.FieldOptions_OptionTargetType={}));ce.proto2.util.setEnumType(z6,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);var ps=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ps().fromBinary(e,t)}static fromJson(e,t){return new ps().fromJson(e,t)}static fromJsonString(e,t){return new ps().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ps,e,t)}};ps.runtime=ce.proto2;ps.typeName="google.protobuf.OneofOptions";ps.fields=ce.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.OneofOptions=ps;var gs=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new gs().fromBinary(e,t)}static fromJson(e,t){return new gs().fromJson(e,t)}static fromJsonString(e,t){return new gs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(gs,e,t)}};gs.runtime=ce.proto2;gs.typeName="google.protobuf.EnumOptions";gs.fields=ce.proto2.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.EnumOptions=gs;var ms=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ms().fromBinary(e,t)}static fromJson(e,t){return new ms().fromJson(e,t)}static fromJsonString(e,t){return new ms().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ms,e,t)}};ms.runtime=ce.proto2;ms.typeName="google.protobuf.EnumValueOptions";ms.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.EnumValueOptions=ms;var ys=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ys().fromBinary(e,t)}static fromJson(e,t){return new ys().fromJson(e,t)}static fromJsonString(e,t){return new ys().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ys,e,t)}};ys.runtime=ce.proto2;ys.typeName="google.protobuf.ServiceOptions";ys.fields=ce.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.ServiceOptions=ys;var vs=class extends Qt.Message{constructor(e){super(),this.uninterpretedOption=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new vs().fromBinary(e,t)}static fromJson(e,t){return new vs().fromJson(e,t)}static fromJsonString(e,t){return new vs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(vs,e,t)}};vs.runtime=ce.proto2;vs.typeName="google.protobuf.MethodOptions";vs.fields=ce.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:ce.proto2.getEnumType(G6),opt:!0,default:G6.IDEMPOTENCY_UNKNOWN},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);we.MethodOptions=vs;var G6;(function(r){r[r.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",r[r.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",r[r.IDEMPOTENT=2]="IDEMPOTENT"})(G6=we.MethodOptions_IdempotencyLevel||(we.MethodOptions_IdempotencyLevel={}));ce.proto2.util.setEnumType(G6,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);var Vr=class extends Qt.Message{constructor(e){super(),this.name=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Vr().fromBinary(e,t)}static fromJson(e,t){return new Vr().fromJson(e,t)}static fromJsonString(e,t){return new Vr().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(Vr,e,t)}};Vr.runtime=ce.proto2;Vr.typeName="google.protobuf.UninterpretedOption";Vr.fields=ce.proto2.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:_s,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);we.UninterpretedOption=Vr;var _s=class extends Qt.Message{constructor(e){super(),ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new _s().fromBinary(e,t)}static fromJson(e,t){return new _s().fromJson(e,t)}static fromJsonString(e,t){return new _s().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(_s,e,t)}};_s.runtime=ce.proto2;_s.typeName="google.protobuf.UninterpretedOption.NamePart";_s.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);we.UninterpretedOption_NamePart=_s;var xs=class extends Qt.Message{constructor(e){super(),this.location=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new xs().fromBinary(e,t)}static fromJson(e,t){return new xs().fromJson(e,t)}static fromJsonString(e,t){return new xs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(xs,e,t)}};xs.runtime=ce.proto2;xs.typeName="google.protobuf.SourceCodeInfo";xs.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:bs,repeated:!0}]);we.SourceCodeInfo=xs;var bs=class extends Qt.Message{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new bs().fromBinary(e,t)}static fromJson(e,t){return new bs().fromJson(e,t)}static fromJsonString(e,t){return new bs().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(bs,e,t)}};bs.runtime=ce.proto2;bs.typeName="google.protobuf.SourceCodeInfo.Location";bs.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);we.SourceCodeInfo_Location=bs;var xu=class extends Qt.Message{constructor(e){super(),this.annotation=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new xu().fromBinary(e,t)}static fromJson(e,t){return new xu().fromJson(e,t)}static fromJsonString(e,t){return new xu().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(xu,e,t)}};xu.runtime=ce.proto2;xu.typeName="google.protobuf.GeneratedCodeInfo";xu.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:ws,repeated:!0}]);we.GeneratedCodeInfo=xu;var ws=class extends Qt.Message{constructor(e){super(),this.path=[],ce.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new ws().fromBinary(e,t)}static fromJson(e,t){return new ws().fromJson(e,t)}static fromJsonString(e,t){return new ws().fromJsonString(e,t)}static equals(e,t){return ce.proto2.util.equals(ws,e,t)}};ws.runtime=ce.proto2;ws.typeName="google.protobuf.GeneratedCodeInfo.Annotation";ws.fields=ce.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:ce.proto2.getEnumType(t9),opt:!0}]);we.GeneratedCodeInfo_Annotation=ws;var t9;(function(r){r[r.NONE=0]="NONE",r[r.SET=1]="SET",r[r.ALIAS=2]="ALIAS"})(t9=we.GeneratedCodeInfo_Annotation_Semantic||(we.GeneratedCodeInfo_Annotation_Semantic={}));ce.proto2.util.setEnumType(t9,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}])});var o9=T(Lg=>{h();p();Object.defineProperty(Lg,"__esModule",{value:!0});Lg.isPackedFieldByDefault=Lg.createDescriptorSet=void 0;var tt=Gv(),Mt=vu(),It=la(),qg=$7(),JH=Hh(),r9=Tc();function Qhe(r){let e={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map},n=(r instanceof tt.FileDescriptorSet?r.file:r instanceof Uint8Array?tt.FileDescriptorSet.fromBinary(r).file:r).map(i=>e1e(i,e));return Object.assign({files:n},e)}Lg.createDescriptorSet=Qhe;function e1e(r,e){var t,n,i;(0,Mt.assert)(r.name,"invalid FileDescriptorProto: missing name"),(0,Mt.assert)(r.syntax===void 0||r.syntax==="proto3",`invalid FileDescriptorProto: unsupported syntax: ${(t=r.syntax)!==null&&t!==void 0?t:"undefined"}`);let o={kind:"file",proto:r,deprecated:(i=(n=r.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,syntax:r.syntax==="proto3"?"proto3":"proto2",name:r.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return Af(this.proto.sourceCodeInfo,[_o.FileDescriptorProto_Syntax])},getPackageComments(){return Af(this.proto.sourceCodeInfo,[_o.FileDescriptorProto_Package])}};e.mapEntries.clear();for(let a of r.enumType)$H(a,o,void 0,e);for(let a of r.messageType)ZH(a,o,void 0,e);for(let a of r.service)t1e(a,o,e);n9(o,e);for(let a of e.mapEntries.values())i9(a,e);for(let a of o.messages)i9(a,e),n9(a,e);return e.mapEntries.clear(),o}function n9(r,e){switch(r.kind){case"file":for(let t of r.proto.extension){let n=WH(t,r,void 0,e);r.extensions.push(n),e.extensions.set(n.typeName,n)}break;case"message":for(let t of r.proto.extension){let n=WH(t,r.file,r,e);r.nestedExtensions.push(n),e.extensions.set(n.typeName,n)}for(let t of r.nestedMessages)n9(t,e);break}}function i9(r,e){let t=r.proto.oneofDecl.map(i=>n1e(i,r)),n=new Set;for(let i of r.proto.field){let o=o1e(i,t),a=QH(i,r.file,r,o,e);r.fields.push(a),o===void 0?r.members.push(a):(o.fields.push(a),n.has(o)||(n.add(o),r.members.push(o)))}for(let i of t.filter(o=>n.has(o)))r.oneofs.push(i);for(let i of r.nestedMessages)i9(i,e)}function $H(r,e,t,n){var i,o,a;(0,Mt.assert)(r.name,"invalid EnumDescriptorProto: missing name");let s={kind:"enum",proto:r,deprecated:(o=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,file:e,parent:t,name:r.name,typeName:Y6(r,t,e),values:[],sharedPrefix:(0,JH.findEnumSharedPrefix)(r.name,r.value.map(u=>{var f;return(f=u.name)!==null&&f!==void 0?f:""})),toString(){return`enum ${this.typeName}`},getComments(){let u=this.parent?[...this.parent.getComments().sourcePath,_o.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[_o.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return Af(e.proto.sourceCodeInfo,u)}};n.enums.set(s.typeName,s),r.value.forEach(u=>{var f,c;(0,Mt.assert)(u.name,"invalid EnumValueDescriptorProto: missing name"),(0,Mt.assert)(u.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),s.values.push({kind:"enum_value",proto:u,deprecated:(c=(f=u.options)===null||f===void 0?void 0:f.deprecated)!==null&&c!==void 0?c:!1,parent:s,name:u.name,number:u.number,toString(){return`enum value ${s.typeName}.${this.name}`},declarationString(){var l;let g=`${this.name} = ${this.number}`;return((l=this.proto.options)===null||l===void 0?void 0:l.deprecated)===!0&&(g+=" [deprecated = true]"),g},getComments(){let l=[...this.parent.getComments().sourcePath,_o.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return Af(e.proto.sourceCodeInfo,l)}})}),((a=t?.nestedEnums)!==null&&a!==void 0?a:e.enums).push(s)}function ZH(r,e,t,n){var i,o,a,s;(0,Mt.assert)(r.name,"invalid DescriptorProto: missing name");let u={kind:"message",proto:r,deprecated:(o=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,file:e,parent:t,name:r.name,typeName:Y6(r,t,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){let f=this.parent?[...this.parent.getComments().sourcePath,_o.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[_o.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return Af(e.proto.sourceCodeInfo,f)}};((a=r.options)===null||a===void 0?void 0:a.mapEntry)===!0?n.mapEntries.set(u.typeName,u):(((s=t?.nestedMessages)!==null&&s!==void 0?s:e.messages).push(u),n.messages.set(u.typeName,u));for(let f of r.enumType)$H(f,e,u,n);for(let f of r.nestedType)ZH(f,e,u,n)}function t1e(r,e,t){var n,i;(0,Mt.assert)(r.name,"invalid ServiceDescriptorProto: missing name");let o={kind:"service",proto:r,deprecated:(i=(n=r.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,file:e,name:r.name,typeName:Y6(r,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){let a=[_o.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return Af(e.proto.sourceCodeInfo,a)}};e.services.push(o),t.services.set(o.typeName,o);for(let a of r.method)o.methods.push(r1e(a,o,t))}function r1e(r,e,t){var n,i,o;(0,Mt.assert)(r.name,"invalid MethodDescriptorProto: missing name"),(0,Mt.assert)(r.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,Mt.assert)(r.outputType,"invalid MethodDescriptorProto: missing output_type");let a;r.clientStreaming===!0&&r.serverStreaming===!0?a=qg.MethodKind.BiDiStreaming:r.clientStreaming===!0?a=qg.MethodKind.ClientStreaming:r.serverStreaming===!0?a=qg.MethodKind.ServerStreaming:a=qg.MethodKind.Unary;let s;switch((n=r.options)===null||n===void 0?void 0:n.idempotencyLevel){case tt.MethodOptions_IdempotencyLevel.IDEMPOTENT:s=qg.MethodIdempotency.Idempotent;break;case tt.MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS:s=qg.MethodIdempotency.NoSideEffects;break;case tt.MethodOptions_IdempotencyLevel.IDEMPOTENCY_UNKNOWN:case void 0:s=void 0;break}let u=t.messages.get(Fg(r.inputType)),f=t.messages.get(Fg(r.outputType));(0,Mt.assert)(u,`invalid MethodDescriptorProto: input_type ${r.inputType} not found`),(0,Mt.assert)(f,`invalid MethodDescriptorProto: output_type ${r.inputType} not found`);let c=r.name;return{kind:"rpc",proto:r,deprecated:(o=(i=r.options)===null||i===void 0?void 0:i.deprecated)!==null&&o!==void 0?o:!1,parent:e,name:c,methodKind:a,input:u,output:f,idempotency:s,toString(){return`rpc ${e.typeName}.${c}`},getComments(){let l=[...this.parent.getComments().sourcePath,_o.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return Af(e.file.proto.sourceCodeInfo,l)}}}function n1e(r,e){return(0,Mt.assert)(r.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:r,deprecated:!1,parent:e,fields:[],name:r.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){let t=[...this.parent.getComments().sourcePath,_o.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return Af(e.file.proto.sourceCodeInfo,t)}}}function QH(r,e,t,n,i){var o,a,s,u;(0,Mt.assert)(r.name,"invalid FieldDescriptorProto: missing name"),(0,Mt.assert)(r.number,"invalid FieldDescriptorProto: missing number"),(0,Mt.assert)(r.type,"invalid FieldDescriptorProto: missing type");let f=eK(r,e.syntax),c={proto:r,deprecated:(a=(o=r.options)===null||o===void 0?void 0:o.deprecated)!==null&&a!==void 0?a:!1,name:r.name,number:r.number,parent:t,oneof:n,optional:a1e(r,e.syntax),packed:(u=(s=r.options)===null||s===void 0?void 0:s.packed)!==null&&u!==void 0?u:f,packedByDefault:f,jsonName:r.jsonName===(0,JH.fieldJsonName)(r.name)?void 0:r.jsonName,scalar:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,toString(){return`field ${this.parent.typeName}.${this.name}`},declarationString:u1e,getComments(){let g=[...this.parent.getComments().sourcePath,_o.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return Af(e.proto.sourceCodeInfo,g)}},l=r.label===tt.FieldDescriptorProto_Label.REPEATED;switch(r.type){case tt.FieldDescriptorProto_Type.MESSAGE:case tt.FieldDescriptorProto_Type.GROUP:{(0,Mt.assert)(r.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.mapEntries.get(Fg(r.typeName));if(g!==void 0)return(0,Mt.assert)(l,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},c),{kind:"field",fieldKind:"map",repeated:!1}),i1e(g));let y=i.messages.get(Fg(r.typeName));return(0,Mt.assert)(y!==void 0,`invalid FieldDescriptorProto: type_name ${r.typeName} not found`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"message",repeated:l,message:y})}case tt.FieldDescriptorProto_Type.ENUM:{(0,Mt.assert)(r.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.enums.get(Fg(r.typeName));return(0,Mt.assert)(g!==void 0,`invalid FieldDescriptorProto: type_name ${r.typeName} not found`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"enum",getDefaultValue:XH,repeated:l,enum:g})}default:{let g=s1e[r.type];return(0,Mt.assert)(g,`invalid FieldDescriptorProto: unknown type ${r.type}`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"scalar",getDefaultValue:XH,repeated:l,scalar:g})}}}function WH(r,e,t,n){(0,Mt.assert)(r.extendee,"invalid FieldDescriptorProto: missing extendee");let i=QH(r,e,null,void 0,n),o=n.messages.get(Fg(r.extendee));return(0,Mt.assert)(o,`invalid FieldDescriptorProto: extendee ${r.extendee} not found`),Object.assign(Object.assign({},i),{kind:"extension",typeName:Y6(r,t,e),parent:t,file:e,extendee:o,toString(){return`extension ${this.typeName}`},getComments(){let a=this.parent?[...this.parent.getComments().sourcePath,_o.DescriptorProto_Extension,this.parent.proto.extension.indexOf(r)]:[_o.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(r)];return Af(e.proto.sourceCodeInfo,a)}})}function Y6(r,e,t){(0,Mt.assert)(r.name,`invalid ${r.getType().typeName}: missing name`);let n;return e?n=`${e.typeName}.${r.name}`:t.proto.package!==void 0?n=`${t.proto.package}.${r.name}`:n=`${r.name}`,n}function Fg(r){return r.startsWith(".")?r.substring(1):r}function i1e(r){var e,t;(0,Mt.assert)((e=r.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${r.toString()} to be a map entry`),(0,Mt.assert)(r.fields.length===2,`invalid DescriptorProto: map entry ${r.toString()} has ${r.fields.length} fields`);let n=r.fields.find(a=>a.proto.number===1);(0,Mt.assert)(n,`invalid DescriptorProto: map entry ${r.toString()} is missing key field`);let i=n.scalar;(0,Mt.assert)(i!==void 0&&i!==It.ScalarType.BYTES&&i!==It.ScalarType.FLOAT&&i!==It.ScalarType.DOUBLE,`invalid DescriptorProto: map entry ${r.toString()} has unexpected key type ${(t=n.proto.type)!==null&&t!==void 0?t:-1}`);let o=r.fields.find(a=>a.proto.number===2);switch((0,Mt.assert)(o,`invalid DescriptorProto: map entry ${r.toString()} is missing value field`),o.fieldKind){case"scalar":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"scalar"})};case"message":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"message"})};case"enum":return{mapKey:i,mapValue:Object.assign(Object.assign({},o),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function o1e(r,e){var t;let n=r.oneofIndex;if(n===void 0)return;let i;return r.proto3Optional!==!0&&(i=e[n],(0,Mt.assert)(i,`invalid FieldDescriptorProto: oneof #${n} for field #${(t=r.number)!==null&&t!==void 0?t:-1} not found`)),i}function a1e(r,e){switch(e){case"proto2":return r.oneofIndex===void 0&&r.label===tt.FieldDescriptorProto_Label.OPTIONAL;case"proto3":return r.proto3Optional===!0}}function eK(r,e){if((0,Mt.assert)(r.type,"invalid FieldDescriptorProto: missing type"),e==="proto3")switch(r.type){case tt.FieldDescriptorProto_Type.DOUBLE:case tt.FieldDescriptorProto_Type.FLOAT:case tt.FieldDescriptorProto_Type.INT64:case tt.FieldDescriptorProto_Type.UINT64:case tt.FieldDescriptorProto_Type.INT32:case tt.FieldDescriptorProto_Type.FIXED64:case tt.FieldDescriptorProto_Type.FIXED32:case tt.FieldDescriptorProto_Type.UINT32:case tt.FieldDescriptorProto_Type.SFIXED32:case tt.FieldDescriptorProto_Type.SFIXED64:case tt.FieldDescriptorProto_Type.SINT32:case tt.FieldDescriptorProto_Type.SINT64:case tt.FieldDescriptorProto_Type.BOOL:case tt.FieldDescriptorProto_Type.ENUM:return!0;default:return!1}return!1}Lg.isPackedFieldByDefault=eK;var s1e={[tt.FieldDescriptorProto_Type.DOUBLE]:It.ScalarType.DOUBLE,[tt.FieldDescriptorProto_Type.FLOAT]:It.ScalarType.FLOAT,[tt.FieldDescriptorProto_Type.INT64]:It.ScalarType.INT64,[tt.FieldDescriptorProto_Type.UINT64]:It.ScalarType.UINT64,[tt.FieldDescriptorProto_Type.INT32]:It.ScalarType.INT32,[tt.FieldDescriptorProto_Type.FIXED64]:It.ScalarType.FIXED64,[tt.FieldDescriptorProto_Type.FIXED32]:It.ScalarType.FIXED32,[tt.FieldDescriptorProto_Type.BOOL]:It.ScalarType.BOOL,[tt.FieldDescriptorProto_Type.STRING]:It.ScalarType.STRING,[tt.FieldDescriptorProto_Type.GROUP]:void 0,[tt.FieldDescriptorProto_Type.MESSAGE]:void 0,[tt.FieldDescriptorProto_Type.BYTES]:It.ScalarType.BYTES,[tt.FieldDescriptorProto_Type.UINT32]:It.ScalarType.UINT32,[tt.FieldDescriptorProto_Type.ENUM]:void 0,[tt.FieldDescriptorProto_Type.SFIXED32]:It.ScalarType.SFIXED32,[tt.FieldDescriptorProto_Type.SFIXED64]:It.ScalarType.SFIXED64,[tt.FieldDescriptorProto_Type.SINT32]:It.ScalarType.SINT32,[tt.FieldDescriptorProto_Type.SINT64]:It.ScalarType.SINT64};function Af(r,e){if(!r)return{leadingDetached:[],sourcePath:e};for(let t of r.location)if(t.path.length===e.length&&!t.path.some((n,i)=>e[i]!==n))return{leadingDetached:t.leadingDetachedComments,leading:t.leadingComments,trailing:t.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var _o;(function(r){r[r.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",r[r.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",r[r.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",r[r.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",r[r.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",r[r.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",r[r.DescriptorProto_Field=2]="DescriptorProto_Field",r[r.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",r[r.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",r[r.DescriptorProto_Extension=6]="DescriptorProto_Extension",r[r.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",r[r.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",r[r.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(_o||(_o={}));function u1e(){var r,e;let t=[];this.repeated&&t.push("repeated"),this.optional&&t.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===tt.FieldDescriptorProto_Label.REQUIRED&&t.push("required");let i;switch(this.fieldKind){case"scalar":i=It.ScalarType[this.scalar].toLowerCase();break;case"enum":i=this.enum.typeName;break;case"message":i=this.message.typeName;break;case"map":{let s=It.ScalarType[this.mapKey].toLowerCase(),u;switch(this.mapValue.kind){case"scalar":u=It.ScalarType[this.mapValue.scalar].toLowerCase();break;case"enum":u=this.mapValue.enum.typeName;break;case"message":u=this.mapValue.message.typeName;break}i=`map<${s}, ${u}>`;break}}t.push(`${i} ${this.name} = ${this.number}`);let o=[];((r=this.proto.options)===null||r===void 0?void 0:r.packed)!==void 0&&o.push(`packed = ${this.proto.options.packed.toString()}`);let a=this.proto.defaultValue;return a!==void 0&&((this.proto.type==tt.FieldDescriptorProto_Type.BYTES||this.proto.type==tt.FieldDescriptorProto_Type.STRING)&&(a='"'+a.replace('"','\\"')+'"'),o.push(`default = ${a}`)),this.jsonName!==void 0&&o.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.deprecated)===!0&&o.push("deprecated = true"),o.length>0&&t.push("["+o.join(", ")+"]"),t.join(" ")}function XH(){let r=this.proto.defaultValue;if(r!==void 0)switch(this.fieldKind){case"enum":{let e=this.enum.values.find(t=>t.name===r);return(0,Mt.assert)(e,`cannot parse ${this.toString()} default value: ${r}`),e.number}case"scalar":switch(this.scalar){case It.ScalarType.STRING:return r;case It.ScalarType.BYTES:{let e=f1e(r);if(e===!1)throw new Error(`cannot parse ${this.toString()} default value: ${r}`);return e}case It.ScalarType.INT64:case It.ScalarType.SFIXED64:case It.ScalarType.SINT64:return r9.protoInt64.parse(r);case It.ScalarType.UINT64:case It.ScalarType.FIXED64:return r9.protoInt64.uParse(r);case It.ScalarType.DOUBLE:case It.ScalarType.FLOAT:switch(r){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(r)}case It.ScalarType.BOOL:return r==="true";case It.ScalarType.INT32:case It.ScalarType.UINT32:case It.ScalarType.SINT32:case It.ScalarType.FIXED32:case It.ScalarType.SFIXED32:return parseInt(r,10)}break;default:return}}function f1e(r){let e=[],t={tail:r,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){let i=this.tail.substring(0,n);return this.tail=this.tail.substring(n),i}return!1}};for(;t.next();)switch(t.c){case"\\":if(t.next())switch(t.c){case"\\":e.push(t.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let n=t.c,i=t.take(2);if(i===!1)return!1;let o=parseInt(n+i,8);if(isNaN(o))return!1;e.push(o);break}case"x":{let n=t.c,i=t.take(2);if(i===!1)return!1;let o=parseInt(n+i,16);if(isNaN(o))return!1;e.push(o);break}case"u":{let n=t.c,i=t.take(4);if(i===!1)return!1;let o=parseInt(n+i,16);if(isNaN(o))return!1;let a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,o,!0),e.push(a[0],a[1],a[2],a[3]);break}case"U":{let n=t.c,i=t.take(8);if(i===!1)return!1;let o=r9.protoInt64.uEnc(n+i),a=new Uint8Array(8),s=new DataView(a.buffer);s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),e.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}break;default:e.push(t.c.charCodeAt(0))}return new Uint8Array(e)}});var tK=T(W6=>{h();p();Object.defineProperty(W6,"__esModule",{value:!0});W6.createRegistry=void 0;function c1e(...r){let e={},t={},n={},i={add(o){if("fields"in o){if(!this.findMessage(o.typeName)){e[o.typeName]=o;for(let a of o.fields.list())a.kind=="message"?this.add(a.T):a.kind=="map"&&a.V.kind=="message"?this.add(a.V.T):a.kind=="enum"&&this.add(a.T)}}else if("methods"in o){if(!this.findService(o.typeName)){n[o.typeName]=o;for(let a of Object.values(o.methods))this.add(a.I),this.add(a.O)}}else t[o.typeName]=o},findMessage(o){return e[o]},findEnum(o){return t[o]},findService(o){return n[o]}};for(let o of r)i.add(o);return i}W6.createRegistry=c1e});var s9=T(X6=>{h();p();Object.defineProperty(X6,"__esModule",{value:!0});X6.Timestamp=void 0;var d1e=rn(),a9=Tc(),Yv=ha(),ma=class extends d1e.Message{constructor(e){super(),this.seconds=a9.protoInt64.zero,this.nanos=0,Yv.proto3.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${Yv.proto3.json.debug(e)}`);let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=a9.protoInt64.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){let t=Number(this.seconds)*1e3;if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){let i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(t).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ma.fromDate(new Date)}static fromDate(e){let t=e.getTime();return new ma({seconds:a9.protoInt64.parse(Math.floor(t/1e3)),nanos:t%1e3*1e6})}static fromBinary(e,t){return new ma().fromBinary(e,t)}static fromJson(e,t){return new ma().fromJson(e,t)}static fromJsonString(e,t){return new ma().fromJsonString(e,t)}static equals(e,t){return Yv.proto3.util.equals(ma,e,t)}};ma.runtime=Yv.proto3;ma.typeName="google.protobuf.Timestamp";ma.fields=Yv.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);X6.Timestamp=ma});var f9=T(J6=>{h();p();Object.defineProperty(J6,"__esModule",{value:!0});J6.Duration=void 0;var l1e=rn(),u9=Tc(),Vh=ha(),bu=class extends l1e.Message{constructor(e){super(),this.seconds=u9.protoInt64.zero,this.nanos=0,Vh.proto3.util.initPartial(e,this)}fromJson(e,t){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Vh.proto3.json.debug(e)}`);let n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Vh.proto3.json.debug(e)}`);let i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Vh.proto3.json.debug(e)}`);if(this.seconds=u9.protoInt64.parse(i),typeof n[2]=="string"){let o=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(o),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let t=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),t+="."+n,this.nanos<0&&this.seconds===u9.protoInt64.zero&&(t="-"+t)}return t+"s"}static fromBinary(e,t){return new bu().fromBinary(e,t)}static fromJson(e,t){return new bu().fromJson(e,t)}static fromJsonString(e,t){return new bu().fromJsonString(e,t)}static equals(e,t){return Vh.proto3.util.equals(bu,e,t)}};bu.runtime=Vh.proto3;bu.typeName="google.protobuf.Duration";bu.fields=Vh.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);J6.Duration=bu});var Q6=T(Z6=>{h();p();Object.defineProperty(Z6,"__esModule",{value:!0});Z6.Any=void 0;var h1e=rn(),$6=ha(),Ss=class extends h1e.Message{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),$6.proto3.util.initPartial(e,this)}toJson(e){var t;if(this.typeUrl==="")return{};let n=this.typeUrlToName(this.typeUrl),i=(t=e?.typeRegistry)===null||t===void 0?void 0:t.findMessage(n);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let a=i.fromBinary(this.value).toJson(e);return(n.startsWith("google.protobuf.")||a===null||Array.isArray(a)||typeof a!="object")&&(a={value:a}),a["@type"]=this.typeUrl,a}fromJson(e,t){var n;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;let i=e["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');let o=this.typeUrlToName(i),a=(n=t?.typeRegistry)===null||n===void 0?void 0:n.findMessage(o);if(!a)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let s;if(o.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))s=a.fromJson(e.value,t);else{let u=Object.assign({},e);delete u["@type"],s=a.fromJson(u,t)}return this.packFrom(s),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;let t=e.findMessage(this.typeUrlToName(this.typeUrl));if(!!t)return t.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;let t=this.typeUrlToName(this.typeUrl),n="";return typeof e=="string"?n=e:n=e.typeName,t===n}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);let t=e.lastIndexOf("/"),n=t>0?e.substring(t+1):e;if(!n.length)throw new Error(`invalid type url: ${e}`);return n}static pack(e){let t=new Ss;return t.packFrom(e),t}static fromBinary(e,t){return new Ss().fromBinary(e,t)}static fromJson(e,t){return new Ss().fromJson(e,t)}static fromJsonString(e,t){return new Ss().fromJsonString(e,t)}static equals(e,t){return $6.proto3.util.equals(Ss,e,t)}};Ss.runtime=$6.proto3;Ss.typeName="google.protobuf.Any";Ss.fields=$6.proto3.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);Z6.Any=Ss});var c9=T(tw=>{h();p();Object.defineProperty(tw,"__esModule",{value:!0});tw.Empty=void 0;var p1e=rn(),ew=ha(),wu=class extends p1e.Message{constructor(e){super(),ew.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new wu().fromBinary(e,t)}static fromJson(e,t){return new wu().fromJson(e,t)}static fromJsonString(e,t){return new wu().fromJsonString(e,t)}static equals(e,t){return ew.proto3.util.equals(wu,e,t)}};wu.runtime=ew.proto3;wu.typeName="google.protobuf.Empty";wu.fields=ew.proto3.util.newFieldList(()=>[]);tw.Empty=wu});var d9=T(rw=>{h();p();Object.defineProperty(rw,"__esModule",{value:!0});rw.FieldMask=void 0;var g1e=rn(),Wv=ha(),Su=class extends g1e.Message{constructor(e){super(),this.paths=[],Wv.proto3.util.initPartial(e,this)}toJson(e){function t(n){let i=!1,o=[];for(let a=0;a<n.length;a++){let s=n.charAt(a);switch(s){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":o.push(s),i=!1;break;default:i&&(i=!1,s=s.toUpperCase()),o.push(s);break}}return o.join("")}return this.paths.map(n=>{if(n.match(/_[0-9]?_/g)||n.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+n+'" is irreversible');return t(n)}).join(",")}fromJson(e,t){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+Wv.proto3.json.debug(e));if(e==="")return this;function n(i){if(i.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");let o=i.replace(/[A-Z]/g,a=>"_"+a.toLowerCase());return o[0]==="_"?o.substring(1):o}return this.paths=e.split(",").map(n),this}static fromBinary(e,t){return new Su().fromBinary(e,t)}static fromJson(e,t){return new Su().fromJson(e,t)}static fromJsonString(e,t){return new Su().fromJsonString(e,t)}static equals(e,t){return Wv.proto3.util.equals(Su,e,t)}};Su.runtime=Wv.proto3;Su.typeName="google.protobuf.FieldMask";Su.fields=Wv.proto3.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);rw.FieldMask=Su});var h9=T(Cu=>{h();p();Object.defineProperty(Cu,"__esModule",{value:!0});Cu.ListValue=Cu.Value=Cu.Struct=Cu.NullValue=void 0;var Nn=ha(),l9=rn(),nw;(function(r){r[r.NULL_VALUE=0]="NULL_VALUE"})(nw=Cu.NullValue||(Cu.NullValue={}));Nn.proto3.util.setEnumType(nw,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);var ya=class extends l9.Message{constructor(e){super(),this.fields={},Nn.proto3.util.initPartial(e,this)}toJson(e){let t={};for(let[n,i]of Object.entries(this.fields))t[n]=i.toJson(e);return t}fromJson(e,t){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+Nn.proto3.json.debug(e));for(let[n,i]of Object.entries(e))this.fields[n]=xo.fromJson(i);return this}static fromBinary(e,t){return new ya().fromBinary(e,t)}static fromJson(e,t){return new ya().fromJson(e,t)}static fromJsonString(e,t){return new ya().fromJsonString(e,t)}static equals(e,t){return Nn.proto3.util.equals(ya,e,t)}};ya.runtime=Nn.proto3;ya.typeName="google.protobuf.Struct";ya.fields=Nn.proto3.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:xo}}]);Cu.Struct=ya;var xo=class extends l9.Message{constructor(e){super(),this.kind={case:void 0},Nn.proto3.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,t){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:nw.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:va.fromJson(e)}:this.kind={case:"structValue",value:ya.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+Nn.proto3.json.debug(e))}return this}static fromBinary(e,t){return new xo().fromBinary(e,t)}static fromJson(e,t){return new xo().fromJson(e,t)}static fromJsonString(e,t){return new xo().fromJsonString(e,t)}static equals(e,t){return Nn.proto3.util.equals(xo,e,t)}};xo.runtime=Nn.proto3;xo.typeName="google.protobuf.Value";xo.fields=Nn.proto3.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:Nn.proto3.getEnumType(nw),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:ya,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:va,oneof:"kind"}]);Cu.Value=xo;var va=class extends l9.Message{constructor(e){super(),this.values=[],Nn.proto3.util.initPartial(e,this)}toJson(e){return this.values.map(t=>t.toJson())}fromJson(e,t){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+Nn.proto3.json.debug(e));for(let n of e)this.values.push(xo.fromJson(n));return this}static fromBinary(e,t){return new va().fromBinary(e,t)}static fromJson(e,t){return new va().fromJson(e,t)}static fromJsonString(e,t){return new va().fromJsonString(e,t)}static equals(e,t){return Nn.proto3.util.equals(va,e,t)}};va.runtime=Nn.proto3;va.typeName="google.protobuf.ListValue";va.fields=Nn.proto3.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:xo,repeated:!0}]);Cu.ListValue=va});var p9=T(zr=>{h();p();Object.defineProperty(zr,"__esModule",{value:!0});zr.BytesValue=zr.StringValue=zr.BoolValue=zr.UInt32Value=zr.Int32Value=zr.UInt64Value=zr.Int64Value=zr.FloatValue=zr.DoubleValue=void 0;var Pc=rn(),Le=ha(),_n=la(),rK=Tc(),_a=class extends Pc.Message{constructor(e){super(),this.value=0,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.DOUBLE,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.DOUBLE,e)}catch(n){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new _a().fromBinary(e,t)}static fromJson(e,t){return new _a().fromJson(e,t)}static fromJsonString(e,t){return new _a().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(_a,e,t)}};_a.runtime=Le.proto3;_a.typeName="google.protobuf.DoubleValue";_a.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);_a.fieldWrapper={wrapField(r){return new _a({value:r})},unwrapField(r){return r.value}};zr.DoubleValue=_a;var xa=class extends Pc.Message{constructor(e){super(),this.value=0,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.FLOAT,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.FLOAT,e)}catch(n){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new xa().fromBinary(e,t)}static fromJson(e,t){return new xa().fromJson(e,t)}static fromJsonString(e,t){return new xa().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(xa,e,t)}};xa.runtime=Le.proto3;xa.typeName="google.protobuf.FloatValue";xa.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);xa.fieldWrapper={wrapField(r){return new xa({value:r})},unwrapField(r){return r.value}};zr.FloatValue=xa;var ba=class extends Pc.Message{constructor(e){super(),this.value=rK.protoInt64.zero,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.INT64,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.INT64,e)}catch(n){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new ba().fromBinary(e,t)}static fromJson(e,t){return new ba().fromJson(e,t)}static fromJsonString(e,t){return new ba().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(ba,e,t)}};ba.runtime=Le.proto3;ba.typeName="google.protobuf.Int64Value";ba.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);ba.fieldWrapper={wrapField(r){return new ba({value:r})},unwrapField(r){return r.value}};zr.Int64Value=ba;var wa=class extends Pc.Message{constructor(e){super(),this.value=rK.protoInt64.zero,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.UINT64,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.UINT64,e)}catch(n){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new wa().fromBinary(e,t)}static fromJson(e,t){return new wa().fromJson(e,t)}static fromJsonString(e,t){return new wa().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(wa,e,t)}};wa.runtime=Le.proto3;wa.typeName="google.protobuf.UInt64Value";wa.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);wa.fieldWrapper={wrapField(r){return new wa({value:r})},unwrapField(r){return r.value}};zr.UInt64Value=wa;var Sa=class extends Pc.Message{constructor(e){super(),this.value=0,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.INT32,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.INT32,e)}catch(n){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Sa().fromBinary(e,t)}static fromJson(e,t){return new Sa().fromJson(e,t)}static fromJsonString(e,t){return new Sa().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(Sa,e,t)}};Sa.runtime=Le.proto3;Sa.typeName="google.protobuf.Int32Value";Sa.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);Sa.fieldWrapper={wrapField(r){return new Sa({value:r})},unwrapField(r){return r.value}};zr.Int32Value=Sa;var Ca=class extends Pc.Message{constructor(e){super(),this.value=0,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.UINT32,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.UINT32,e)}catch(n){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ca().fromBinary(e,t)}static fromJson(e,t){return new Ca().fromJson(e,t)}static fromJsonString(e,t){return new Ca().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(Ca,e,t)}};Ca.runtime=Le.proto3;Ca.typeName="google.protobuf.UInt32Value";Ca.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);Ca.fieldWrapper={wrapField(r){return new Ca({value:r})},unwrapField(r){return r.value}};zr.UInt32Value=Ca;var Ea=class extends Pc.Message{constructor(e){super(),this.value=!1,Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.BOOL,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.BOOL,e)}catch(n){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ea().fromBinary(e,t)}static fromJson(e,t){return new Ea().fromJson(e,t)}static fromJsonString(e,t){return new Ea().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(Ea,e,t)}};Ea.runtime=Le.proto3;Ea.typeName="google.protobuf.BoolValue";Ea.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);Ea.fieldWrapper={wrapField(r){return new Ea({value:r})},unwrapField(r){return r.value}};zr.BoolValue=Ea;var Ia=class extends Pc.Message{constructor(e){super(),this.value="",Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.STRING,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.STRING,e)}catch(n){let i='cannot decode message google.protobuf.StringValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ia().fromBinary(e,t)}static fromJson(e,t){return new Ia().fromJson(e,t)}static fromJsonString(e,t){return new Ia().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(Ia,e,t)}};Ia.runtime=Le.proto3;Ia.typeName="google.protobuf.StringValue";Ia.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Ia.fieldWrapper={wrapField(r){return new Ia({value:r})},unwrapField(r){return r.value}};zr.StringValue=Ia;var Ta=class extends Pc.Message{constructor(e){super(),this.value=new Uint8Array(0),Le.proto3.util.initPartial(e,this)}toJson(e){return Le.proto3.json.writeScalar(_n.ScalarType.BYTES,this.value,!0)}fromJson(e,t){try{this.value=Le.proto3.json.readScalar(_n.ScalarType.BYTES,e)}catch(n){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,t){return new Ta().fromBinary(e,t)}static fromJson(e,t){return new Ta().fromJson(e,t)}static fromJsonString(e,t){return new Ta().fromJsonString(e,t)}static equals(e,t){return Le.proto3.util.equals(Ta,e,t)}};Ta.runtime=Le.proto3;Ta.typeName="google.protobuf.BytesValue";Ta.fields=Le.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);Ta.fieldWrapper={wrapField(r){return new Ta({value:r})},unwrapField(r){return r.value}};zr.BytesValue=Ta});var aK=T(ow=>{h();p();Object.defineProperty(ow,"__esModule",{value:!0});ow.createRegistryFromDescriptors=void 0;var Ug=vu(),nK=ha(),iK=zv(),g9=Hh(),m1e=s9(),oK=f9(),y1e=Q6(),v1e=c9(),_1e=d9(),iw=h9(),x1e=h6(),Mc=p9(),b1e=Gv(),w1e=o9(),S1e=[y1e.Any,oK.Duration,v1e.Empty,_1e.FieldMask,iw.Struct,iw.Value,iw.ListValue,m1e.Timestamp,oK.Duration,Mc.DoubleValue,Mc.FloatValue,Mc.Int64Value,Mc.Int32Value,Mc.UInt32Value,Mc.UInt64Value,Mc.BoolValue,Mc.StringValue,Mc.BytesValue],C1e=[(0,x1e.getEnumType)(iw.NullValue)];function E1e(r,e=!0){let t=r instanceof Uint8Array||r instanceof b1e.FileDescriptorSet?(0,w1e.createDescriptorSet)(r):r,n={},i={},o={};if(e){for(let a of S1e)i[a.typeName]=a;for(let a of C1e)n[a.typeName]=a}return{findEnum(a){let s=n[a];if(s)return s;let u=t.enums.get(a);if(!u)return;let c=(u.file.syntax=="proto3"?nK.proto3:iK.proto2).makeEnumType(a,u.values.map(l=>({no:l.number,name:l.name,localName:(0,g9.localName)(l)})),{});return n[a]=c,c},findMessage(a){let s=i[a];if(s)return s;let u=t.messages.get(a);if(!u)return;let f=u.file.syntax=="proto3"?nK.proto3:iK.proto2,c=[],l=f.makeMessageType(a,()=>c,{localName:(0,g9.localName)(u)});i[a]=l;for(let g of u.fields){let y=I1e(g,this);c.push(y)}return l},findService(a){let s=o[a];if(s)return s;let u=t.services.get(a);if(!u)return;let f={};for(let c of u.methods){let l=this.findMessage(c.input.typeName),g=this.findMessage(c.output.typeName);(0,Ug.assert)(l,`message "${c.input.typeName}" for ${c.toString()} not found`),(0,Ug.assert)(g,`output message "${c.output.typeName}" for ${c.toString()} not found`),f[(0,g9.localName)(c)]={name:c.name,I:l,O:g,kind:c.methodKind,idempotency:c.idempotency}}return o[a]={typeName:u.typeName,methods:f}}}}ow.createRegistryFromDescriptors=E1e;function I1e(r,e){switch(r.fieldKind){case"map":return T1e(r,e);case"message":return O1e(r,e);case"enum":{let t=D1e(r,e);return t.default=r.getDefaultValue(),t}case"scalar":{let t=A1e(r);return t.default=r.getDefaultValue(),t}}}function T1e(r,e){let t={kind:"map",no:r.number,name:r.name,jsonName:r.jsonName,K:r.mapKey};if(r.mapValue.message){let n=e.findMessage(r.mapValue.message.typeName);return(0,Ug.assert)(n,`message "${r.mapValue.message.typeName}" for ${r.toString()} not found`),Object.assign(Object.assign({},t),{V:{kind:"message",T:n}})}if(r.mapValue.enum){let n=e.findEnum(r.mapValue.enum.typeName);return(0,Ug.assert)(n,`enum "${r.mapValue.enum.typeName}" for ${r.toString()} not found`),Object.assign(Object.assign({},t),{V:{kind:"enum",T:n}})}return Object.assign(Object.assign({},t),{V:{kind:"scalar",T:r.mapValue.scalar}})}function A1e(r){let e={kind:"scalar",no:r.number,name:r.name,jsonName:r.jsonName,T:r.scalar};return r.repeated?Object.assign(Object.assign({},e),{repeated:!0,packed:r.packed,oneof:void 0,T:r.scalar}):r.oneof?Object.assign(Object.assign({},e),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},e),{opt:!0}):e}function O1e(r,e){let t=e.findMessage(r.message.typeName);(0,Ug.assert)(t,`message "${r.message.typeName}" for ${r.toString()} not found`);let n={kind:"message",no:r.number,name:r.name,jsonName:r.jsonName,T:t};return r.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:r.packed,oneof:void 0}):r.oneof?Object.assign(Object.assign({},n),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function D1e(r,e){let t=e.findEnum(r.enum.typeName);(0,Ug.assert)(t,`enum "${r.enum.typeName}" for ${r.toString()} not found`);let n={kind:"enum",no:r.number,name:r.name,jsonName:r.jsonName,T:t};return r.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:r.packed,oneof:void 0}):r.oneof?Object.assign(Object.assign({},n),{oneof:r.oneof.name}):r.optional?Object.assign(Object.assign({},n),{opt:!0}):n}});var fK=T(Aa=>{h();p();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.CodeGeneratorResponse_File=Aa.CodeGeneratorResponse_Feature=Aa.CodeGeneratorResponse=Aa.CodeGeneratorRequest=Aa.Version=void 0;var aw=rn(),kn=zv(),sK=Gv(),Cs=class extends aw.Message{constructor(e){super(),kn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Cs().fromBinary(e,t)}static fromJson(e,t){return new Cs().fromJson(e,t)}static fromJsonString(e,t){return new Cs().fromJsonString(e,t)}static equals(e,t){return kn.proto2.util.equals(Cs,e,t)}};Cs.runtime=kn.proto2;Cs.typeName="google.protobuf.compiler.Version";Cs.fields=kn.proto2.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);Aa.Version=Cs;var Eu=class extends aw.Message{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],kn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Eu().fromBinary(e,t)}static fromJson(e,t){return new Eu().fromJson(e,t)}static fromJsonString(e,t){return new Eu().fromJsonString(e,t)}static equals(e,t){return kn.proto2.util.equals(Eu,e,t)}};Eu.runtime=kn.proto2;Eu.typeName="google.protobuf.compiler.CodeGeneratorRequest";Eu.fields=kn.proto2.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:sK.FileDescriptorProto,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:Cs,opt:!0}]);Aa.CodeGeneratorRequest=Eu;var Iu=class extends aw.Message{constructor(e){super(),this.file=[],kn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Iu().fromBinary(e,t)}static fromJson(e,t){return new Iu().fromJson(e,t)}static fromJsonString(e,t){return new Iu().fromJsonString(e,t)}static equals(e,t){return kn.proto2.util.equals(Iu,e,t)}};Iu.runtime=kn.proto2;Iu.typeName="google.protobuf.compiler.CodeGeneratorResponse";Iu.fields=kn.proto2.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:Es,repeated:!0}]);Aa.CodeGeneratorResponse=Iu;var uK;(function(r){r[r.NONE=0]="NONE",r[r.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL"})(uK=Aa.CodeGeneratorResponse_Feature||(Aa.CodeGeneratorResponse_Feature={}));kn.proto2.util.setEnumType(uK,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"}]);var Es=class extends aw.Message{constructor(e){super(),kn.proto2.util.initPartial(e,this)}static fromBinary(e,t){return new Es().fromBinary(e,t)}static fromJson(e,t){return new Es().fromJson(e,t)}static fromJsonString(e,t){return new Es().fromJsonString(e,t)}static equals(e,t){return kn.proto2.util.equals(Es,e,t)}};Es.runtime=kn.proto2;Es.typeName="google.protobuf.compiler.CodeGeneratorResponse.File";Es.fields=kn.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:sK.GeneratedCodeInfo,opt:!0}]);Aa.CodeGeneratorResponse_File=Es});var fw=T(uw=>{h();p();Object.defineProperty(uw,"__esModule",{value:!0});uw.SourceContext=void 0;var R1e=rn(),sw=ha(),Tu=class extends R1e.Message{constructor(e){super(),this.fileName="",sw.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Tu().fromBinary(e,t)}static fromJson(e,t){return new Tu().fromJson(e,t)}static fromJsonString(e,t){return new Tu().fromJsonString(e,t)}static equals(e,t){return sw.proto3.util.equals(Tu,e,t)}};Tu.runtime=sw.proto3;Tu.typeName="google.protobuf.SourceContext";Tu.fields=sw.proto3.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);uw.SourceContext=Tu});var m9=T(kr=>{h();p();Object.defineProperty(kr,"__esModule",{value:!0});kr.Option=kr.EnumValue=kr.Enum=kr.Field_Cardinality=kr.Field_Kind=kr.Field=kr.Type=kr.Syntax=void 0;var ar=ha(),Xv=rn(),cK=fw(),B1e=Q6(),jg;(function(r){r[r.PROTO2=0]="PROTO2",r[r.PROTO3=1]="PROTO3",r[r.EDITIONS=2]="EDITIONS"})(jg=kr.Syntax||(kr.Syntax={}));ar.proto3.util.setEnumType(jg,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);var Au=class extends Xv.Message{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=jg.PROTO2,this.edition="",ar.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Au().fromBinary(e,t)}static fromJson(e,t){return new Au().fromJson(e,t)}static fromJsonString(e,t){return new Au().fromJsonString(e,t)}static equals(e,t){return ar.proto3.util.equals(Au,e,t)}};Au.runtime=ar.proto3;Au.typeName="google.protobuf.Type";Au.fields=ar.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:Is,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:bo,repeated:!0},{no:5,name:"source_context",kind:"message",T:cK.SourceContext},{no:6,name:"syntax",kind:"enum",T:ar.proto3.getEnumType(jg)},{no:7,name:"edition",kind:"scalar",T:9}]);kr.Type=Au;var Is=class extends Xv.Message{constructor(e){super(),this.kind=cw.TYPE_UNKNOWN,this.cardinality=dw.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",ar.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Is().fromBinary(e,t)}static fromJson(e,t){return new Is().fromJson(e,t)}static fromJsonString(e,t){return new Is().fromJsonString(e,t)}static equals(e,t){return ar.proto3.util.equals(Is,e,t)}};Is.runtime=ar.proto3;Is.typeName="google.protobuf.Field";Is.fields=ar.proto3.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:ar.proto3.getEnumType(cw)},{no:2,name:"cardinality",kind:"enum",T:ar.proto3.getEnumType(dw)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:bo,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);kr.Field=Is;var cw;(function(r){r[r.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",r[r.TYPE_DOUBLE=1]="TYPE_DOUBLE",r[r.TYPE_FLOAT=2]="TYPE_FLOAT",r[r.TYPE_INT64=3]="TYPE_INT64",r[r.TYPE_UINT64=4]="TYPE_UINT64",r[r.TYPE_INT32=5]="TYPE_INT32",r[r.TYPE_FIXED64=6]="TYPE_FIXED64",r[r.TYPE_FIXED32=7]="TYPE_FIXED32",r[r.TYPE_BOOL=8]="TYPE_BOOL",r[r.TYPE_STRING=9]="TYPE_STRING",r[r.TYPE_GROUP=10]="TYPE_GROUP",r[r.TYPE_MESSAGE=11]="TYPE_MESSAGE",r[r.TYPE_BYTES=12]="TYPE_BYTES",r[r.TYPE_UINT32=13]="TYPE_UINT32",r[r.TYPE_ENUM=14]="TYPE_ENUM",r[r.TYPE_SFIXED32=15]="TYPE_SFIXED32",r[r.TYPE_SFIXED64=16]="TYPE_SFIXED64",r[r.TYPE_SINT32=17]="TYPE_SINT32",r[r.TYPE_SINT64=18]="TYPE_SINT64"})(cw=kr.Field_Kind||(kr.Field_Kind={}));ar.proto3.util.setEnumType(cw,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var dw;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.OPTIONAL=1]="OPTIONAL",r[r.REQUIRED=2]="REQUIRED",r[r.REPEATED=3]="REPEATED"})(dw=kr.Field_Cardinality||(kr.Field_Cardinality={}));ar.proto3.util.setEnumType(dw,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);var Ou=class extends Xv.Message{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=jg.PROTO2,this.edition="",ar.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ou().fromBinary(e,t)}static fromJson(e,t){return new Ou().fromJson(e,t)}static fromJsonString(e,t){return new Ou().fromJsonString(e,t)}static equals(e,t){return ar.proto3.util.equals(Ou,e,t)}};Ou.runtime=ar.proto3;Ou.typeName="google.protobuf.Enum";Ou.fields=ar.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Ts,repeated:!0},{no:3,name:"options",kind:"message",T:bo,repeated:!0},{no:4,name:"source_context",kind:"message",T:cK.SourceContext},{no:5,name:"syntax",kind:"enum",T:ar.proto3.getEnumType(jg)},{no:6,name:"edition",kind:"scalar",T:9}]);kr.Enum=Ou;var Ts=class extends Xv.Message{constructor(e){super(),this.name="",this.number=0,this.options=[],ar.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ts().fromBinary(e,t)}static fromJson(e,t){return new Ts().fromJson(e,t)}static fromJsonString(e,t){return new Ts().fromJsonString(e,t)}static equals(e,t){return ar.proto3.util.equals(Ts,e,t)}};Ts.runtime=ar.proto3;Ts.typeName="google.protobuf.EnumValue";Ts.fields=ar.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:bo,repeated:!0}]);kr.EnumValue=Ts;var bo=class extends Xv.Message{constructor(e){super(),this.name="",ar.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new bo().fromBinary(e,t)}static fromJson(e,t){return new bo().fromJson(e,t)}static fromJsonString(e,t){return new bo().fromJsonString(e,t)}static equals(e,t){return ar.proto3.util.equals(bo,e,t)}};bo.runtime=ar.proto3;bo.typeName="google.protobuf.Option";bo.fields=ar.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:B1e.Any}]);kr.Option=bo});var dK=T(wd=>{h();p();Object.defineProperty(wd,"__esModule",{value:!0});wd.Mixin=wd.Method=wd.Api=void 0;var y9=rn(),Hg=m9(),P1e=fw(),Go=ha(),Du=class extends y9.Message{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=Hg.Syntax.PROTO2,Go.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Du().fromBinary(e,t)}static fromJson(e,t){return new Du().fromJson(e,t)}static fromJsonString(e,t){return new Du().fromJsonString(e,t)}static equals(e,t){return Go.proto3.util.equals(Du,e,t)}};Du.runtime=Go.proto3;Du.typeName="google.protobuf.Api";Du.fields=Go.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:As,repeated:!0},{no:3,name:"options",kind:"message",T:Hg.Option,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:P1e.SourceContext},{no:6,name:"mixins",kind:"message",T:Os,repeated:!0},{no:7,name:"syntax",kind:"enum",T:Go.proto3.getEnumType(Hg.Syntax)}]);wd.Api=Du;var As=class extends y9.Message{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=Hg.Syntax.PROTO2,Go.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new As().fromBinary(e,t)}static fromJson(e,t){return new As().fromJson(e,t)}static fromJsonString(e,t){return new As().fromJsonString(e,t)}static equals(e,t){return Go.proto3.util.equals(As,e,t)}};As.runtime=Go.proto3;As.typeName="google.protobuf.Method";As.fields=Go.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:Hg.Option,repeated:!0},{no:7,name:"syntax",kind:"enum",T:Go.proto3.getEnumType(Hg.Syntax)}]);wd.Method=As;var Os=class extends y9.Message{constructor(e){super(),this.name="",this.root="",Go.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Os().fromBinary(e,t)}static fromJson(e,t){return new Os().fromJson(e,t)}static fromJsonString(e,t){return new Os().fromJsonString(e,t)}static equals(e,t){return Go.proto3.util.equals(Os,e,t)}};Os.runtime=Go.proto3;Os.typeName="google.protobuf.Mixin";Os.fields=Go.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);wd.Mixin=Os});var Rs=T(Ve=>{h();p();var M1e=Ve&&Ve.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ds=Ve&&Ve.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&M1e(e,r,t)};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.createRegistryFromDescriptors=Ve.createRegistry=Ve.createDescriptorSet=Ve.BinaryReader=Ve.BinaryWriter=Ve.WireType=Ve.MethodIdempotency=Ve.MethodKind=Ve.ScalarType=Ve.Message=Ve.codegenInfo=Ve.protoDelimited=Ve.protoBase64=Ve.protoInt64=Ve.proto2=Ve.proto3=void 0;var N1e=ha();Object.defineProperty(Ve,"proto3",{enumerable:!0,get:function(){return N1e.proto3}});var k1e=zv();Object.defineProperty(Ve,"proto2",{enumerable:!0,get:function(){return k1e.proto2}});var q1e=Tc();Object.defineProperty(Ve,"protoInt64",{enumerable:!0,get:function(){return q1e.protoInt64}});var F1e=F7();Object.defineProperty(Ve,"protoBase64",{enumerable:!0,get:function(){return F1e.protoBase64}});var L1e=zH();Object.defineProperty(Ve,"protoDelimited",{enumerable:!0,get:function(){return L1e.protoDelimited}});var U1e=YH();Object.defineProperty(Ve,"codegenInfo",{enumerable:!0,get:function(){return U1e.codegenInfo}});var j1e=rn();Object.defineProperty(Ve,"Message",{enumerable:!0,get:function(){return j1e.Message}});var H1e=la();Object.defineProperty(Ve,"ScalarType",{enumerable:!0,get:function(){return H1e.ScalarType}});var lK=$7();Object.defineProperty(Ve,"MethodKind",{enumerable:!0,get:function(){return lK.MethodKind}});Object.defineProperty(Ve,"MethodIdempotency",{enumerable:!0,get:function(){return lK.MethodIdempotency}});var v9=Uv();Object.defineProperty(Ve,"WireType",{enumerable:!0,get:function(){return v9.WireType}});Object.defineProperty(Ve,"BinaryWriter",{enumerable:!0,get:function(){return v9.BinaryWriter}});Object.defineProperty(Ve,"BinaryReader",{enumerable:!0,get:function(){return v9.BinaryReader}});var K1e=o9();Object.defineProperty(Ve,"createDescriptorSet",{enumerable:!0,get:function(){return K1e.createDescriptorSet}});var V1e=tK();Object.defineProperty(Ve,"createRegistry",{enumerable:!0,get:function(){return V1e.createRegistry}});var z1e=aK();Object.defineProperty(Ve,"createRegistryFromDescriptors",{enumerable:!0,get:function(){return z1e.createRegistryFromDescriptors}});Ds(fK(),Ve);Ds(dK(),Ve);Ds(Q6(),Ve);Ds(Gv(),Ve);Ds(f9(),Ve);Ds(c9(),Ve);Ds(d9(),Ve);Ds(fw(),Ve);Ds(h9(),Ve);Ds(s9(),Ve);Ds(m9(),Ve);Ds(p9(),Ve)});var hK=T(Sd=>{h();p();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.TriggerSmartContract=Sd.TransferAssetContract=Sd.TransferContract=void 0;var Gr=Rs(),Ru=class extends Gr.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=Gr.protoInt64.zero,Gr.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ru().fromBinary(e,t)}static fromJson(e,t){return new Ru().fromJson(e,t)}static fromJsonString(e,t){return new Ru().fromJsonString(e,t)}static equals(e,t){return Gr.proto3.util.equals(Ru,e,t)}};Ru.runtime=Gr.proto3;Ru.typeName="protocol.TransferContract";Ru.fields=Gr.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"to_address",kind:"scalar",T:12},{no:3,name:"amount",kind:"scalar",T:3}]);Sd.TransferContract=Ru;var Bu=class extends Gr.Message{constructor(e){super(),this.assetName=new Uint8Array(0),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=Gr.protoInt64.zero,Gr.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Bu().fromBinary(e,t)}static fromJson(e,t){return new Bu().fromJson(e,t)}static fromJsonString(e,t){return new Bu().fromJsonString(e,t)}static equals(e,t){return Gr.proto3.util.equals(Bu,e,t)}};Bu.runtime=Gr.proto3;Bu.typeName="protocol.TransferAssetContract";Bu.fields=Gr.proto3.util.newFieldList(()=>[{no:1,name:"asset_name",kind:"scalar",T:12},{no:2,name:"owner_address",kind:"scalar",T:12},{no:3,name:"to_address",kind:"scalar",T:12},{no:4,name:"amount",kind:"scalar",T:3}]);Sd.TransferAssetContract=Bu;var Pu=class extends Gr.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.contractAddress=new Uint8Array(0),this.callValue=Gr.protoInt64.zero,this.data=new Uint8Array(0),this.callTokenValue=Gr.protoInt64.zero,this.tokenId=Gr.protoInt64.zero,Gr.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Pu().fromBinary(e,t)}static fromJson(e,t){return new Pu().fromJson(e,t)}static fromJsonString(e,t){return new Pu().fromJsonString(e,t)}static equals(e,t){return Gr.proto3.util.equals(Pu,e,t)}};Pu.runtime=Gr.proto3;Pu.typeName="protocol.TriggerSmartContract";Pu.fields=Gr.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"contract_address",kind:"scalar",T:12},{no:3,name:"call_value",kind:"scalar",T:3},{no:4,name:"data",kind:"scalar",T:12},{no:5,name:"call_token_value",kind:"scalar",T:3},{no:6,name:"token_id",kind:"scalar",T:3}]);Sd.TriggerSmartContract=Pu});var _9=T(wo=>{h();p();Object.defineProperty(wo,"__esModule",{value:!0});wo.Transaction_raw=wo.Transaction_Contract_ContractType=wo.Transaction_Contract=wo.Transaction=wo.authority=wo.AccountId=void 0;var qt=Rs(),Bs=class extends qt.Message{constructor(e){super(),this.name=new Uint8Array(0),this.address=new Uint8Array(0),qt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Bs().fromBinary(e,t)}static fromJson(e,t){return new Bs().fromJson(e,t)}static fromJsonString(e,t){return new Bs().fromJsonString(e,t)}static equals(e,t){return qt.proto3.util.equals(Bs,e,t)}};Bs.runtime=qt.proto3;Bs.typeName="protocol.AccountId";Bs.fields=qt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:12},{no:2,name:"address",kind:"scalar",T:12}]);wo.AccountId=Bs;var Ps=class extends qt.Message{constructor(e){super(),this.permissionName=new Uint8Array(0),qt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ps().fromBinary(e,t)}static fromJson(e,t){return new Ps().fromJson(e,t)}static fromJsonString(e,t){return new Ps().fromJsonString(e,t)}static equals(e,t){return qt.proto3.util.equals(Ps,e,t)}};Ps.runtime=qt.proto3;Ps.typeName="protocol.authority";Ps.fields=qt.proto3.util.newFieldList(()=>[{no:1,name:"account",kind:"message",T:Bs},{no:2,name:"permission_name",kind:"scalar",T:12}]);wo.authority=Ps;var Mu=class extends qt.Message{constructor(e){super(),this.signature=[],qt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Mu().fromBinary(e,t)}static fromJson(e,t){return new Mu().fromJson(e,t)}static fromJsonString(e,t){return new Mu().fromJsonString(e,t)}static equals(e,t){return qt.proto3.util.equals(Mu,e,t)}};Mu.runtime=qt.proto3;Mu.typeName="protocol.Transaction";Mu.fields=qt.proto3.util.newFieldList(()=>[{no:1,name:"raw_data",kind:"message",T:Ns},{no:2,name:"signature",kind:"scalar",T:12,repeated:!0}]);wo.Transaction=Mu;var Ms=class extends qt.Message{constructor(e){super(),this.type=lw.AccountCreateContract,this.provider=new Uint8Array(0),this.ContractName=new Uint8Array(0),this.PermissionId=0,qt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ms().fromBinary(e,t)}static fromJson(e,t){return new Ms().fromJson(e,t)}static fromJsonString(e,t){return new Ms().fromJsonString(e,t)}static equals(e,t){return qt.proto3.util.equals(Ms,e,t)}};Ms.runtime=qt.proto3;Ms.typeName="protocol.Transaction.Contract";Ms.fields=qt.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:qt.proto3.getEnumType(lw)},{no:2,name:"parameter",kind:"message",T:qt.Any},{no:3,name:"provider",kind:"scalar",T:12},{no:4,name:"ContractName",kind:"scalar",T:12},{no:5,name:"Permission_id",kind:"scalar",T:5}]);wo.Transaction_Contract=Ms;var lw;(function(r){r[r.AccountCreateContract=0]="AccountCreateContract",r[r.TransferContract=1]="TransferContract",r[r.TransferAssetContract=2]="TransferAssetContract",r[r.TriggerSmartContract=31]="TriggerSmartContract"})(lw=wo.Transaction_Contract_ContractType||(wo.Transaction_Contract_ContractType={}));qt.proto3.util.setEnumType(lw,"protocol.Transaction.Contract.ContractType",[{no:0,name:"AccountCreateContract"},{no:1,name:"TransferContract"},{no:2,name:"TransferAssetContract"},{no:31,name:"TriggerSmartContract"}]);var Ns=class extends qt.Message{constructor(e){super(),this.refBlockBytes=new Uint8Array(0),this.refBlockNum=qt.protoInt64.zero,this.refBlockHash=new Uint8Array(0),this.expiration=qt.protoInt64.zero,this.auths=[],this.data=new Uint8Array(0),this.contract=[],this.scripts=new Uint8Array(0),this.timestamp=qt.protoInt64.zero,this.feeLimit=qt.protoInt64.zero,qt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ns().fromBinary(e,t)}static fromJson(e,t){return new Ns().fromJson(e,t)}static fromJsonString(e,t){return new Ns().fromJsonString(e,t)}static equals(e,t){return qt.proto3.util.equals(Ns,e,t)}};Ns.runtime=qt.proto3;Ns.typeName="protocol.Transaction.raw";Ns.fields=qt.proto3.util.newFieldList(()=>[{no:1,name:"ref_block_bytes",kind:"scalar",T:12},{no:3,name:"ref_block_num",kind:"scalar",T:3},{no:4,name:"ref_block_hash",kind:"scalar",T:12},{no:8,name:"expiration",kind:"scalar",T:3},{no:9,name:"auths",kind:"message",T:Ps,repeated:!0},{no:10,name:"data",kind:"scalar",T:12},{no:11,name:"contract",kind:"message",T:Ms,repeated:!0},{no:12,name:"scripts",kind:"scalar",T:12},{no:14,name:"timestamp",kind:"scalar",T:3},{no:18,name:"fee_limit",kind:"scalar",T:3}]);wo.Transaction_raw=Ns});var x9=T(Cd=>{h();p();Object.defineProperty(Cd,"__esModule",{value:!0});Cd.TronTx=Cd.Override=Cd.LatestBlock=void 0;var Ti=Rs(),ks=class extends Ti.Message{constructor(e){super(),this.hash="",this.number=0,this.timestamp=Ti.protoInt64.zero,Ti.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ks().fromBinary(e,t)}static fromJson(e,t){return new ks().fromJson(e,t)}static fromJsonString(e,t){return new ks().fromJsonString(e,t)}static equals(e,t){return Ti.proto3.util.equals(ks,e,t)}};ks.runtime=Ti.proto3;ks.typeName="protoc.LatestBlock";ks.fields=Ti.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"timestamp",kind:"scalar",T:3}]);Cd.LatestBlock=ks;var qs=class extends Ti.Message{constructor(e){super(),this.tokenShortName="",this.tokenFullName="",this.decimals=0,Ti.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new qs().fromBinary(e,t)}static fromJson(e,t){return new qs().fromJson(e,t)}static fromJsonString(e,t){return new qs().fromJsonString(e,t)}static equals(e,t){return Ti.proto3.util.equals(qs,e,t)}};qs.runtime=Ti.proto3;qs.typeName="protoc.Override";qs.fields=Ti.proto3.util.newFieldList(()=>[{no:1,name:"tokenShortName",kind:"scalar",T:9},{no:2,name:"tokenFullName",kind:"scalar",T:9},{no:3,name:"decimals",kind:"scalar",T:5}]);Cd.Override=qs;var Nu=class extends Ti.Message{constructor(e){super(),this.token="",this.contractAddress="",this.from="",this.to="",this.memo="",this.value="",this.fee=0,Ti.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Nu().fromBinary(e,t)}static fromJson(e,t){return new Nu().fromJson(e,t)}static fromJsonString(e,t){return new Nu().fromJsonString(e,t)}static equals(e,t){return Ti.proto3.util.equals(Nu,e,t)}};Nu.runtime=Ti.proto3;Nu.typeName="protoc.TronTx";Nu.fields=Ti.proto3.util.newFieldList(()=>[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"contractAddress",kind:"scalar",T:9},{no:3,name:"from",kind:"scalar",T:9},{no:4,name:"to",kind:"scalar",T:9},{no:5,name:"memo",kind:"scalar",T:9},{no:6,name:"value",kind:"scalar",T:9},{no:7,name:"latestBlock",kind:"message",T:ks},{no:8,name:"override",kind:"message",T:qs},{no:9,name:"fee",kind:"scalar",T:5}]);Cd.TronTx=Nu});var gK=T(Kg=>{h();p();var G1e=Kg&&Kg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kg,"__esModule",{value:!0});Kg.raw2tx=void 0;var Y1e=G1e(mH()),b9=hK(),hw=_9(),pK=En(),pw=x9();function zh(r){return Y1e.default.encode(r)}function W1e(r,e){let t;try{t=hw.Transaction_raw.fromBinary(r)}catch{throw new Error("Sign data is invalid")}let n=e!==void 0?{decimals:e.decimals,tokenFullName:e.name,tokenShortName:e.symbol}:null,i=m.Buffer.from([...new Uint8Array(8).fill(0),...t.refBlockHash,...new Uint8Array(16).fill(0)]),o=new pw.LatestBlock({hash:(0,pK.toHex)(i),number:Number(`0x${(0,pK.toHex)(t.refBlockBytes.slice(0,2))}`),timestamp:BigInt(Number(t.expiration)-600*5*1e3)}),a=t.contract[0];if(a.parameter===void 0)throw new Error("contract is invalid");let s;switch(a.type){case hw.Transaction_Contract_ContractType.TransferContract:try{s=b9.TransferContract.fromBinary(a.parameter.value)}catch{throw new Error("sign data is invalid")}return new pw.TronTx({fee:Number(t.feeLimit),from:zh(s.ownerAddress),latestBlock:o,to:zh(s.toAddress),token:"TRX",value:s.amount.toString()});case hw.Transaction_Contract_ContractType.TransferAssetContract:try{s=b9.TransferAssetContract.fromBinary(a.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new pw.TronTx({fee:Number(t.feeLimit),from:zh(s.ownerAddress),latestBlock:o,override:n,to:zh(s.toAddress),token:m.Buffer.from(s.assetName).toString(),value:s.amount.toString()});case hw.Transaction_Contract_ContractType.TriggerSmartContract:try{s=b9.TriggerSmartContract.fromBinary(a.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new pw.TronTx({contractAddress:zh(s.contractAddress),fee:Number(t.feeLimit),from:zh(s.ownerAddress),latestBlock:o,override:n,to:zh(m.Buffer.from([65,...s.data.slice(16,36)])),value:BigInt(`0x${m.Buffer.from(s.data.slice(36,68)).toString("hex")}`).toString()});default:throw new Error("contract is not supported")}}Kg.raw2tx=W1e});var gw=T(Fs=>{h();p();Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Output=Fs.utxo=Fs.Input=Fs.Omni=Fs.BtcTx=void 0;var Jt=Rs(),ku=class extends Jt.Message{constructor(e){super(),this.fee=Jt.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Jt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ku().fromBinary(e,t)}static fromJson(e,t){return new ku().fromJson(e,t)}static fromJsonString(e,t){return new ku().fromJsonString(e,t)}static equals(e,t){return Jt.proto3.util.equals(ku,e,t)}};ku.runtime=Jt.proto3;ku.typeName="protoc.BtcTx";ku.fields=Jt.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Us,repeated:!0},{no:5,name:"outputs",kind:"message",T:Hs,repeated:!0},{no:6,name:"omni",kind:"message",T:Ls}]);Fs.BtcTx=ku;var Ls=class extends Jt.Message{constructor(e){super(),this.to="",this.changeAddress="",this.omniAmount=Jt.protoInt64.zero,this.propertyId=0,Jt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ls().fromBinary(e,t)}static fromJson(e,t){return new Ls().fromJson(e,t)}static fromJsonString(e,t){return new Ls().fromJsonString(e,t)}static equals(e,t){return Jt.proto3.util.equals(Ls,e,t)}};Ls.runtime=Jt.proto3;Ls.typeName="protoc.Omni";Ls.fields=Jt.proto3.util.newFieldList(()=>[{no:5,name:"to",kind:"scalar",T:9},{no:6,name:"changeAddress",kind:"scalar",T:9},{no:7,name:"omniAmount",kind:"scalar",T:3},{no:8,name:"propertyId",kind:"scalar",T:5}]);Fs.Omni=Ls;var Us=class extends Jt.Message{constructor(e){super(),this.hash="",this.index=0,this.ownerKeyPath="",Jt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Us().fromBinary(e,t)}static fromJson(e,t){return new Us().fromJson(e,t)}static fromJsonString(e,t){return new Us().fromJsonString(e,t)}static equals(e,t){return Jt.proto3.util.equals(Us,e,t)}};Us.runtime=Jt.proto3;Us.typeName="protoc.Input";Us.fields=Jt.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"utxo",kind:"message",T:js},{no:4,name:"ownerKeyPath",kind:"scalar",T:9}]);Fs.Input=Us;var js=class extends Jt.Message{constructor(e){super(),this.publicKey="",this.script="",this.value=Jt.protoInt64.zero,Jt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new js().fromBinary(e,t)}static fromJson(e,t){return new js().fromJson(e,t)}static fromJsonString(e,t){return new js().fromJsonString(e,t)}static equals(e,t){return Jt.proto3.util.equals(js,e,t)}};js.runtime=Jt.proto3;js.typeName="protoc.utxo";js.fields=Jt.proto3.util.newFieldList(()=>[{no:1,name:"publicKey",kind:"scalar",T:9},{no:2,name:"script",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:3}]);Fs.utxo=js;var Hs=class extends Jt.Message{constructor(e){super(),this.address="",this.value=Jt.protoInt64.zero,this.isChange=!1,this.changeAddressPath="",Jt.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Hs().fromBinary(e,t)}static fromJson(e,t){return new Hs().fromJson(e,t)}static fromJsonString(e,t){return new Hs().fromJsonString(e,t)}static equals(e,t){return Jt.proto3.util.equals(Hs,e,t)}};Hs.runtime=Jt.proto3;Hs.typeName="protoc.Output";Hs.fields=Jt.proto3.util.newFieldList(()=>[{no:1,name:"address",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:3},{no:3,name:"isChange",kind:"scalar",T:8},{no:4,name:"changeAddressPath",kind:"scalar",T:9}]);Fs.Output=Hs});var w9=T(Vg=>{h();p();Object.defineProperty(Vg,"__esModule",{value:!0});Vg.BchTx_Input=Vg.BchTx=void 0;var Ks=Rs(),X1e=gw(),qu=class extends Ks.Message{constructor(e){super(),this.fee=Ks.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Ks.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new qu().fromBinary(e,t)}static fromJson(e,t){return new qu().fromJson(e,t)}static fromJsonString(e,t){return new qu().fromJsonString(e,t)}static equals(e,t){return Ks.proto3.util.equals(qu,e,t)}};qu.runtime=Ks.proto3;qu.typeName="protoc.BchTx";qu.fields=Ks.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Vs,repeated:!0},{no:5,name:"outputs",kind:"message",T:X1e.Output,repeated:!0}]);Vg.BchTx=qu;var Vs=class extends Ks.Message{constructor(e){super(),this.hash="",this.index=0,this.value=Ks.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Ks.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Vs().fromBinary(e,t)}static fromJson(e,t){return new Vs().fromJson(e,t)}static fromJsonString(e,t){return new Vs().fromJsonString(e,t)}static equals(e,t){return Ks.proto3.util.equals(Vs,e,t)}};Vs.runtime=Ks.proto3;Vs.typeName="protoc.BchTx.Input";Vs.fields=Ks.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);Vg.BchTx_Input=Vs});var S9=T(zg=>{h();p();Object.defineProperty(zg,"__esModule",{value:!0});zg.DashTx_Input=zg.DashTx=void 0;var zs=Rs(),J1e=gw(),Fu=class extends zs.Message{constructor(e){super(),this.fee=zs.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],zs.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Fu().fromBinary(e,t)}static fromJson(e,t){return new Fu().fromJson(e,t)}static fromJsonString(e,t){return new Fu().fromJsonString(e,t)}static equals(e,t){return zs.proto3.util.equals(Fu,e,t)}};Fu.runtime=zs.proto3;Fu.typeName="protoc.DashTx";Fu.fields=zs.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Gs,repeated:!0},{no:5,name:"outputs",kind:"message",T:J1e.Output,repeated:!0}]);zg.DashTx=Fu;var Gs=class extends zs.Message{constructor(e){super(),this.hash="",this.index=0,this.value=zs.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",zs.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Gs().fromBinary(e,t)}static fromJson(e,t){return new Gs().fromJson(e,t)}static fromJsonString(e,t){return new Gs().fromJsonString(e,t)}static equals(e,t){return zs.proto3.util.equals(Gs,e,t)}};Gs.runtime=zs.proto3;Gs.typeName="protoc.DashTx.Input";Gs.fields=zs.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);zg.DashTx_Input=Gs});var C9=T(mw=>{h();p();Object.defineProperty(mw,"__esModule",{value:!0});mw.LtcTx=void 0;var Gg=Rs(),mK=gw(),Lu=class extends Gg.Message{constructor(e){super(),this.fee=Gg.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Gg.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Lu().fromBinary(e,t)}static fromJson(e,t){return new Lu().fromJson(e,t)}static fromJsonString(e,t){return new Lu().fromJsonString(e,t)}static equals(e,t){return Gg.proto3.util.equals(Lu,e,t)}};Lu.runtime=Gg.proto3;Lu.typeName="protoc.LtcTx";Lu.fields=Gg.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:mK.Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:mK.Output,repeated:!0}]);mw.LtcTx=Lu});var vw=T(yw=>{h();p();Object.defineProperty(yw,"__esModule",{value:!0});yw.SignTransaction=void 0;var Yg=Rs(),$1e=x9(),Z1e=w9(),Q1e=S9(),epe=C9(),Uu=class extends Yg.Message{constructor(e){super(),this.coinCode="",this.signId="",this.hdPath="",this.timestamp=Yg.protoInt64.zero,this.decimal=0,this.Transaction={case:void 0},Yg.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Uu().fromBinary(e,t)}static fromJson(e,t){return new Uu().fromJson(e,t)}static fromJsonString(e,t){return new Uu().fromJsonString(e,t)}static equals(e,t){return Yg.proto3.util.equals(Uu,e,t)}};Uu.runtime=Yg.proto3;Uu.typeName="protoc.SignTransaction";Uu.fields=Yg.proto3.util.newFieldList(()=>[{no:1,name:"coinCode",kind:"scalar",T:9},{no:2,name:"signId",kind:"scalar",T:9},{no:3,name:"hdPath",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3},{no:5,name:"decimal",kind:"scalar",T:5},{no:8,name:"tronTx",kind:"message",T:$1e.TronTx,oneof:"Transaction"},{no:10,name:"bchTx",kind:"message",T:Z1e.BchTx,oneof:"Transaction"},{no:11,name:"dashTx",kind:"message",T:Q1e.DashTx,oneof:"Transaction"},{no:12,name:"ltcTx",kind:"message",T:epe.LtcTx,oneof:"Transaction"}]);yw.SignTransaction=Uu});var yK=T(_w=>{h();p();Object.defineProperty(_w,"__esModule",{value:!0});_w.SignTransactionResult=void 0;var Jv=Rs(),ju=class extends Jv.Message{constructor(e){super(),this.signId="",this.txId="",this.rawTx="",Jv.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new ju().fromBinary(e,t)}static fromJson(e,t){return new ju().fromJson(e,t)}static fromJsonString(e,t){return new ju().fromJsonString(e,t)}static equals(e,t){return Jv.proto3.util.equals(ju,e,t)}};ju.runtime=Jv.proto3;ju.typeName="protoc.SignTransactionResult";ju.fields=Jv.proto3.util.newFieldList(()=>[{no:1,name:"signId",kind:"scalar",T:9},{no:2,name:"txId",kind:"scalar",T:9},{no:3,name:"rawTx",kind:"scalar",T:9}]);_w.SignTransactionResult=ju});var bw=T(Yh=>{h();p();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.Payload_Type=Yh.Payload=void 0;var Gh=Rs(),tpe=vw(),rpe=yK(),Hu=class extends Gh.Message{constructor(e){super(),this.type=xw.RESERVE,this.xfp="",this.Content={case:void 0},Gh.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Hu().fromBinary(e,t)}static fromJson(e,t){return new Hu().fromJson(e,t)}static fromJsonString(e,t){return new Hu().fromJsonString(e,t)}static equals(e,t){return Gh.proto3.util.equals(Hu,e,t)}};Hu.runtime=Gh.proto3;Hu.typeName="protoc.Payload";Hu.fields=Gh.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:Gh.proto3.getEnumType(xw)},{no:2,name:"xfp",kind:"scalar",T:9},{no:4,name:"signTx",kind:"message",T:tpe.SignTransaction,oneof:"Content"},{no:7,name:"signTxResult",kind:"message",T:rpe.SignTransactionResult,oneof:"Content"}]);Yh.Payload=Hu;var xw;(function(r){r[r.RESERVE=0]="RESERVE",r[r.SYNC=1]="SYNC",r[r.SIGN_TX=2]="SIGN_TX",r[r.SIGN_MSG=3]="SIGN_MSG",r[r.SIGN_MULTI_SIG=4]="SIGN_MULTI_SIG",r[r.SYNC_MULTI_SIG_MSG=5]="SYNC_MULTI_SIG_MSG",r[r.SIGN_ETH_MULTI_SIG_MSG=6]="SIGN_ETH_MULTI_SIG_MSG",r[r.VERIFY_ADDRESS=7]="VERIFY_ADDRESS",r[r.STAKING=8]="STAKING",r[r.SIGN_TX_RESULT=9]="SIGN_TX_RESULT"})(xw=Yh.Payload_Type||(Yh.Payload_Type={}));Gh.proto3.util.setEnumType(xw,"protoc.Payload.Type",[{no:0,name:"TYPE_RESERVE"},{no:1,name:"TYPE_SYNC"},{no:2,name:"TYPE_SIGN_TX"},{no:3,name:"TYPE_SIGN_MSG"},{no:4,name:"TYPE_SIGN_MULTI_SIG"},{no:5,name:"TYPE_SYNC_MULTI_SIG_MSG"},{no:6,name:"TYPE_SIGN_ETH_MULTI_SIG_MSG"},{no:7,name:"TYPE_VERIFY_ADDRESS"},{no:8,name:"TYPE_STAKING"},{no:9,name:"TYPE_SIGN_TX_RESULT"}])});var E9=T(ww=>{h();p();Object.defineProperty(ww,"__esModule",{value:!0});ww.Base=void 0;var $v=Rs(),npe=bw(),Ku=class extends $v.Message{constructor(e){super(),this.version=0,this.description="",this.Content={case:void 0},this.deviceType="",$v.proto3.util.initPartial(e,this)}static fromBinary(e,t){return new Ku().fromBinary(e,t)}static fromJson(e,t){return new Ku().fromJson(e,t)}static fromJsonString(e,t){return new Ku().fromJsonString(e,t)}static equals(e,t){return $v.proto3.util.equals(Ku,e,t)}};Ku.runtime=$v.proto3;Ku.typeName="protoc.Base";Ku.fields=$v.proto3.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:5},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:npe.Payload},{no:4,name:"hotVersion",kind:"scalar",T:5,oneof:"Content"},{no:5,name:"coldVersion",kind:"scalar",T:5,oneof:"Content"},{no:6,name:"deviceType",kind:"scalar",T:9}]);ww.Base=Ku});var vK=T(Zv=>{h();p();Object.defineProperty(Zv,"__esModule",{value:!0});var Vu=uf(),I9={KEYSTONE_SIGN_REQUEST:new Vu.RegistryType("keystone-sign-request",6101),KEYSTONE_SIGN_RESULT:new Vu.RegistryType("keystone-sign-result",6102)},{decodeToDataItem:ipe}=Vu.extend,Wg;(function(r){r[r.signData=1]="signData",r[r.origin=2]="origin"})(Wg||(Wg={}));var Nc=class extends Vu.RegistryItem{constructor(e){super(),this.getRegistryType=()=>I9.KEYSTONE_SIGN_REQUEST,this.getSignData=()=>this.signData,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return t[Wg.signData]=this.signData,this.origin&&(t[Wg.origin]=this.origin),new Vu.DataItem(t)},this.signData=e.signData,this.origin=e.origin}static constructKeystoneRequest(e,t){return new Nc({signData:e,origin:t})}};Nc.fromDataItem=r=>{let e=r.getData();return new Nc({signData:e[Wg.signData],origin:e[Wg.origin]})},Nc.fromCBOR=r=>{let e=ipe(r);return Nc.fromDataItem(e)};var{decodeToDataItem:ope}=Vu.extend,Sw;(function(r){r[r.signResult=1]="signResult"})(Sw||(Sw={}));var Wh=class extends Vu.RegistryItem{constructor(e){super(),this.getRegistryType=()=>I9.KEYSTONE_SIGN_RESULT,this.getSignResult=()=>this.signResult,this.toDataItem=()=>{let t={};return t[Sw.signResult]=this.signResult,new Vu.DataItem(t)},this.signResult=e}};Wh.fromDataItem=r=>{let e=r.getData();return new Wh(e[Sw.signResult])},Wh.fromCBOR=r=>{let e=ope(r);return Wh.fromDataItem(e)},Vu.patchTags(Object.values(I9).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Vu).forEach(function(r){r!=="default"&&Object.defineProperty(Zv,r,{enumerable:!0,get:function(){return Vu[r]}})}),Zv.KeystoneSignRequest=Nc,Zv.KeystoneSignResult=Wh});var T9=T((OXe,_K)=>{h();p();_K.exports=vK()});var CK=T(Xg=>{h();p();var ape=Xg&&Xg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xg,"__esModule",{value:!0});Xg.KeystoneTronSDK=void 0;var spe=En(),upe=Uo(),fpe=gK(),cpe=_9(),xK=ape(zP()),bK=E9(),wK=bw(),dpe=vw(),SK=T9(),A9=class{parseSignature(e){var t,n;if(e.type!==upe.URType.KeystoneSignResult)throw new Error("type not match");let i=SK.KeystoneSignResult.fromCBOR(e.cbor),o=bK.Base.fromBinary(xK.default.ungzip(i.getSignResult()));if(((t=o.data)===null||t===void 0?void 0:t.Content.case)!=="signTxResult")throw new Error("invalid sign result");let{signId:a,rawTx:s}=(n=o.data)===null||n===void 0?void 0:n.Content.value,u=cpe.Transaction.fromBinary(m.Buffer.from(s,"hex")),f=m.Buffer.from(u.signature[0]).toString("hex");return{requestId:a,signature:f}}generateSignRequest({requestId:e,signData:t,path:n,xfp:i,tokenInfo:o,origin:a}){let s=(0,fpe.raw2tx)((0,spe.toBuffer)(t),o),u=xK.default.gzip(new bK.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new wK.Payload({xfp:i,type:wK.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new dpe.SignTransaction({coinCode:"TRON",hdPath:n,signId:e,timestamp:BigInt(Date.now()),decimal:6,Transaction:{case:"tronTx",value:s}})}})}).toBinary());return new SK.KeystoneSignRequest({signData:m.Buffer.from(u),origin:a}).toUR()}};Xg.KeystoneTronSDK=A9});function Qv(){if(!Cw&&(Cw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Cw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cw(lpe)}var Cw,lpe,O9=pe(()=>{h();p();lpe=new Uint8Array(16)});var EK,IK=pe(()=>{h();p();EK=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function hpe(r){return typeof r=="string"&&EK.test(r)}var Ed,e2=pe(()=>{h();p();IK();Ed=hpe});function ppe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(qn[r[e+0]]+qn[r[e+1]]+qn[r[e+2]]+qn[r[e+3]]+"-"+qn[r[e+4]]+qn[r[e+5]]+"-"+qn[r[e+6]]+qn[r[e+7]]+"-"+qn[r[e+8]]+qn[r[e+9]]+"-"+qn[r[e+10]]+qn[r[e+11]]+qn[r[e+12]]+qn[r[e+13]]+qn[r[e+14]]+qn[r[e+15]]).toLowerCase();if(!Ed(t))throw TypeError("Stringified UUID is invalid");return t}var qn,Ew,Id,t2=pe(()=>{h();p();e2();qn=[];for(Ew=0;Ew<256;++Ew)qn.push((Ew+256).toString(16).substr(1));Id=ppe});function gpe(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||TK,a=r.clockseq!==void 0?r.clockseq:D9;if(o==null||a==null){var s=r.random||(r.rng||Qv)();o==null&&(o=TK=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=D9=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:B9+1,c=u-R9+(f-B9)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>R9)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");R9=u,B9=f,D9=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||Id(i)}var TK,D9,R9,B9,AK,OK=pe(()=>{h();p();O9();t2();R9=0,B9=0;AK=gpe});function mpe(r){if(!Ed(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Iw,P9=pe(()=>{h();p();e2();Iw=mpe});function ype(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Tw(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=ype(i)),typeof o=="string"&&(o=Iw(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Id(u)}try{n.name=r}catch{}return n.DNS=vpe,n.URL=_pe,n}var vpe,_pe,M9=pe(()=>{h();p();t2();P9();vpe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_pe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function xpe(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return bpe(wpe(Spe(r),r.length*8))}function bpe(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function DK(r){return(r+64>>>9<<4)+14+1}function wpe(r,e){r[e>>5]|=128<<e%32,r[DK(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=Ai(t,n,i,o,r[a],7,-680876936),o=Ai(o,t,n,i,r[a+1],12,-389564586),i=Ai(i,o,t,n,r[a+2],17,606105819),n=Ai(n,i,o,t,r[a+3],22,-1044525330),t=Ai(t,n,i,o,r[a+4],7,-176418897),o=Ai(o,t,n,i,r[a+5],12,1200080426),i=Ai(i,o,t,n,r[a+6],17,-1473231341),n=Ai(n,i,o,t,r[a+7],22,-45705983),t=Ai(t,n,i,o,r[a+8],7,1770035416),o=Ai(o,t,n,i,r[a+9],12,-1958414417),i=Ai(i,o,t,n,r[a+10],17,-42063),n=Ai(n,i,o,t,r[a+11],22,-1990404162),t=Ai(t,n,i,o,r[a+12],7,1804603682),o=Ai(o,t,n,i,r[a+13],12,-40341101),i=Ai(i,o,t,n,r[a+14],17,-1502002290),n=Ai(n,i,o,t,r[a+15],22,1236535329),t=Oi(t,n,i,o,r[a+1],5,-165796510),o=Oi(o,t,n,i,r[a+6],9,-1069501632),i=Oi(i,o,t,n,r[a+11],14,643717713),n=Oi(n,i,o,t,r[a],20,-373897302),t=Oi(t,n,i,o,r[a+5],5,-701558691),o=Oi(o,t,n,i,r[a+10],9,38016083),i=Oi(i,o,t,n,r[a+15],14,-660478335),n=Oi(n,i,o,t,r[a+4],20,-405537848),t=Oi(t,n,i,o,r[a+9],5,568446438),o=Oi(o,t,n,i,r[a+14],9,-1019803690),i=Oi(i,o,t,n,r[a+3],14,-187363961),n=Oi(n,i,o,t,r[a+8],20,1163531501),t=Oi(t,n,i,o,r[a+13],5,-1444681467),o=Oi(o,t,n,i,r[a+2],9,-51403784),i=Oi(i,o,t,n,r[a+7],14,1735328473),n=Oi(n,i,o,t,r[a+12],20,-1926607734),t=Di(t,n,i,o,r[a+5],4,-378558),o=Di(o,t,n,i,r[a+8],11,-2022574463),i=Di(i,o,t,n,r[a+11],16,1839030562),n=Di(n,i,o,t,r[a+14],23,-35309556),t=Di(t,n,i,o,r[a+1],4,-1530992060),o=Di(o,t,n,i,r[a+4],11,1272893353),i=Di(i,o,t,n,r[a+7],16,-155497632),n=Di(n,i,o,t,r[a+10],23,-1094730640),t=Di(t,n,i,o,r[a+13],4,681279174),o=Di(o,t,n,i,r[a],11,-358537222),i=Di(i,o,t,n,r[a+3],16,-722521979),n=Di(n,i,o,t,r[a+6],23,76029189),t=Di(t,n,i,o,r[a+9],4,-640364487),o=Di(o,t,n,i,r[a+12],11,-421815835),i=Di(i,o,t,n,r[a+15],16,530742520),n=Di(n,i,o,t,r[a+2],23,-995338651),t=Ri(t,n,i,o,r[a],6,-198630844),o=Ri(o,t,n,i,r[a+7],10,1126891415),i=Ri(i,o,t,n,r[a+14],15,-1416354905),n=Ri(n,i,o,t,r[a+5],21,-57434055),t=Ri(t,n,i,o,r[a+12],6,1700485571),o=Ri(o,t,n,i,r[a+3],10,-1894986606),i=Ri(i,o,t,n,r[a+10],15,-1051523),n=Ri(n,i,o,t,r[a+1],21,-2054922799),t=Ri(t,n,i,o,r[a+8],6,1873313359),o=Ri(o,t,n,i,r[a+15],10,-30611744),i=Ri(i,o,t,n,r[a+6],15,-1560198380),n=Ri(n,i,o,t,r[a+13],21,1309151649),t=Ri(t,n,i,o,r[a+4],6,-145523070),o=Ri(o,t,n,i,r[a+11],10,-1120210379),i=Ri(i,o,t,n,r[a+2],15,718787259),n=Ri(n,i,o,t,r[a+9],21,-343485551),t=Td(t,s),n=Td(n,u),i=Td(i,f),o=Td(o,c)}return[t,n,i,o]}function Spe(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(DK(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Td(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Cpe(r,e){return r<<e|r>>>32-e}function Aw(r,e,t,n,i,o){return Td(Cpe(Td(Td(e,r),Td(n,o)),i),t)}function Ai(r,e,t,n,i,o,a){return Aw(e&t|~e&n,r,e,i,o,a)}function Oi(r,e,t,n,i,o,a){return Aw(e&n|t&~n,r,e,i,o,a)}function Di(r,e,t,n,i,o,a){return Aw(e^t^n,r,e,i,o,a)}function Ri(r,e,t,n,i,o,a){return Aw(t^(e|~n),r,e,i,o,a)}var RK,BK=pe(()=>{h();p();RK=xpe});var Epe,PK,MK=pe(()=>{h();p();M9();BK();Epe=Tw("v3",48,RK),PK=Epe});function Ipe(r,e,t){r=r||{};var n=r.random||(r.rng||Qv)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Id(n)}var NK,kK=pe(()=>{h();p();O9();t2();NK=Ipe});function Tpe(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function N9(r,e){return r<<e|r>>>32-e}function Ape(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=N9(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=N9(D,5)+Tpe(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=N9(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var qK,FK=pe(()=>{h();p();qK=Ape});var Ope,LK,UK=pe(()=>{h();p();M9();FK();Ope=Tw("v5",80,qK),LK=Ope});var jK,HK=pe(()=>{h();p();jK="00000000-0000-0000-0000-000000000000"});function Dpe(r){if(!Ed(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var KK,VK=pe(()=>{h();p();e2();KK=Dpe});var zK={};g0(zK,{NIL:()=>jK,parse:()=>Iw,stringify:()=>Id,v1:()=>AK,v3:()=>PK,v4:()=>NK,v5:()=>LK,validate:()=>Ed,version:()=>KK});var GK=pe(()=>{h();p();OK();MK();kK();UK();HK();VK();e2();t2();P9()});var YK=T(Od=>{h();p();Object.defineProperty(Od,"__esModule",{value:!0});var Bi=uf(),Rpe=(GK(),m0(zK)),k9={APTOS_SIGN_REQUEST:new Bi.RegistryType("aptos-sign-request",3101),APTOS_SIGNATURE:new Bi.RegistryType("aptos-signature",3102)},{decodeToDataItem:Bpe,RegistryTypes:Ppe}=Bi.extend,Ow,Fn;(Ow=Od.SignType||(Od.SignType={}))[Ow.SingleSign=1]="SingleSign",Ow[Ow.MultiSign=2]="MultiSign",function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.authenticationKeyDerivationPaths=3]="authenticationKeyDerivationPaths",r[r.accounts=4]="accounts",r[r.origin=5]="origin",r[r.signType=6]="signType"}(Fn||(Fn={}));var kc=class extends Bi.RegistryItem{constructor(e){super(),this.getRegistryType=()=>k9.APTOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getAuthenticationKeyDerivationPaths=()=>this.authenticationKeyDerivationPaths.map(t=>t.getPath()),this.getSignRequestAccounts=()=>this.accounts,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let t={};return t[Fn.requestId]=new Bi.DataItem(this.requestId,Ppe.UUID.getTag()),this.accounts&&(t[Fn.accounts]=this.accounts),this.origin&&(t[Fn.origin]=this.origin),t[Fn.signData]=this.signData,t[Fn.signType]=this.signType,t[Fn.authenticationKeyDerivationPaths]=this.authenticationKeyDerivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new Bi.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.authenticationKeyDerivationPaths=e.authenticationKeyDerivationPaths,this.accounts=e.accounts,this.origin=e.origin,this.signType=e.signType}static constructAptosRequest(e,t,n,i,o,a,s){let u=t.map((f,c)=>{let l=f.replace(/[m|M]\//,"").split("/").map(g=>{let y=parseInt(g.replace("'","")),b=!1;return g.endsWith("'")&&(b=!0),new Bi.PathComponent({index:y,hardened:b})});return new Bi.CryptoKeypath(l,m.Buffer.from(n[c],"hex"))});return new kc({requestId:m.Buffer.from(Rpe.parse(o)),signData:e,authenticationKeyDerivationPaths:u,accounts:a||void 0,origin:s||void 0,signType:i||Od.SignType.SingleSign})}};kc.fromDataItem=r=>{let e=r.getData(),t=e[Fn.signData],n=e[Fn.signType],i=e[Fn.authenticationKeyDerivationPaths].map(s=>Bi.CryptoKeypath.fromDataItem(s)),o=e[Fn.accounts]?e[Fn.accounts]:void 0,a=e[Fn.requestId]?e[Fn.requestId].getData():void 0;return new kc({requestId:a,signData:t,authenticationKeyDerivationPaths:i,accounts:o,origin:e[Fn.origin]?e[Fn.origin]:void 0,signType:n})},kc.fromCBOR=r=>{let e=Bpe(r);return kc.fromDataItem(e)};var{RegistryTypes:Mpe,decodeToDataItem:Npe}=Bi.extend,Ad;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.authenticationPublicKey=3]="authenticationPublicKey"})(Ad||(Ad={}));var Xh=class extends Bi.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>k9.APTOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getAuthenticationPublicKey=()=>this.authenticationPublicKey,this.toDataItem=()=>{let i={};return i[Ad.requestId]=new Bi.DataItem(this.requestId,Mpe.UUID.getTag()),i[Ad.signature]=this.signature,i[Ad.authenticationPublicKey]=this.authenticationPublicKey,new Bi.DataItem(i)},this.signature=e,this.requestId=t,this.authenticationPublicKey=n}};Xh.fromDataItem=r=>{let e=r.getData(),t=e[Ad.signature],n=e[Ad.requestId].getData();return new Xh(t,n,e[Ad.authenticationPublicKey])},Xh.fromCBOR=r=>{let e=Npe(r);return Xh.fromDataItem(e)},Bi.patchTags(Object.values(k9).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Bi).forEach(function(r){r!=="default"&&Object.defineProperty(Od,r,{enumerable:!0,get:function(){return Bi[r]}})}),Od.AptosSignRequest=kc,Od.AptosSignature=Xh});var XK=T(($Je,WK)=>{h();p();WK.exports=YK()});var JK=T(Rw=>{h();p();Object.defineProperty(Rw,"__esModule",{value:!0});Rw.KeystoneAptosSDK=void 0;var r2=XK(),Dd=En(),kpe=Uo(),Dw=class{parseSignature(e){if(e.type!==kpe.URType.AptosSignature)throw new Error("type not match");let t=r2.AptosSignature.fromCBOR(e.cbor);return{requestId:(0,Dd.uuidStringify)(t.getRequestId()),signature:(0,Dd.toHex)(t.getSignature()),authenticationPublicKey:(0,Dd.toHex)(t.getAuthenticationPublicKey())}}generateSignRequest({requestId:e,signData:t,signType:n,accounts:i,origin:o}){let a=[],s=[];if(i.forEach(u=>{a.push(new r2.CryptoKeypath((0,Dd.parsePath)(u.path).map(f=>new r2.PathComponent(f)),(0,Dd.toBuffer)(u.xfp))),u.key!==void 0&&s.push((0,Dd.toBuffer)(u.key))}),s.length>0&&s.length!==a.length)throw new Error("account and path count must match");return new r2.AptosSignRequest({requestId:(0,Dd.uuidParse)(e),signData:(0,Dd.toBuffer)(t),signType:n,authenticationKeyDerivationPaths:a,accounts:s,origin:o}).toUR()}};Dw.SignType=r2.SignType;Rw.KeystoneAptosSDK=Dw});var Pw=T(Ys=>{h();p();var qpe=Ys&&Ys.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.Keystone=Ys.TXCase=Ys.Chain=void 0;var $K=qpe(zP()),Fpe=Uo(),ZK=T9(),QK=E9(),eV=bw(),Lpe=vw(),Upe=C9(),jpe=w9(),Hpe=S9(),Jh;(function(r){r.LTC="LTC",r.BCH="BCH",r.DASH="DASH"})(Jh=Ys.Chain||(Ys.Chain={}));var Bw;(function(r){r.LTC="ltcTx",r.BCH="bchTx",r.DASH="dashTx"})(Bw=Ys.TXCase||(Ys.TXCase={}));var q9=class{generateSignData({chain:e,requestId:t,signData:n,xfp:i}){let o,a,s;switch(e){case Jh.LTC:o=new Upe.LtcTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:5460})),s=Jh.LTC,a=Bw.LTC;break;case Jh.BCH:o=new jpe.BchTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=Jh.BCH,a=Bw.BCH;break;case Jh.DASH:o=new Hpe.DashTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=Jh.DASH,a=Bw.DASH;break;default:throw new Error("chain not support")}return $K.default.gzip(new QK.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new eV.Payload({xfp:i,type:eV.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new Lpe.SignTransaction({coinCode:s,hdPath:"",signId:t,timestamp:BigInt(Date.now()),decimal:8,Transaction:{case:a,value:o}})}})}).toBinary())}generateSignRequest(e){let t=m.Buffer.from(this.generateSignData(e));return new ZK.KeystoneSignRequest({signData:t,origin:e.origin}).toUR()}parseSignResult(e){var t,n;if(e.type!==Fpe.URType.KeystoneSignResult)throw new Error("type not match");let i=ZK.KeystoneSignResult.fromCBOR(e.cbor),o=QK.Base.fromBinary($K.default.ungzip(i.getSignResult()));if(((t=o.data)===null||t===void 0?void 0:t.Content.case)!=="signTxResult")throw new Error("invalid sign result");let a=(n=o.data)===null||n===void 0?void 0:n.Content.value;return{requestId:a.signId,rawData:a.rawTx}}};Ys.Keystone=q9});var rV=T(Mw=>{h();p();Object.defineProperty(Mw,"__esModule",{value:!0});Mw.KeystoneBitcoinCashSDK=void 0;var tV=Pw(),F9=class extends tV.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:tV.Chain.BCH},e))}};Mw.KeystoneBitcoinCashSDK=F9});var iV=T(Nw=>{h();p();Object.defineProperty(Nw,"__esModule",{value:!0});Nw.KeystoneDashSDK=void 0;var nV=Pw(),L9=class extends nV.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:nV.Chain.DASH},e))}};Nw.KeystoneDashSDK=L9});var aV=T(kw=>{h();p();Object.defineProperty(kw,"__esModule",{value:!0});kw.KeystoneLitecoinSDK=void 0;var oV=Pw(),U9=class extends oV.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:oV.Chain.LTC},e))}};kw.KeystoneLitecoinSDK=U9});function n2(){if(!qw&&(qw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!qw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qw(Kpe)}var qw,Kpe,j9=pe(()=>{h();p();Kpe=new Uint8Array(16)});var sV,uV=pe(()=>{h();p();sV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Vpe(r){return typeof r=="string"&&sV.test(r)}var Rd,i2=pe(()=>{h();p();uV();Rd=Vpe});function zpe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Ln[r[e+0]]+Ln[r[e+1]]+Ln[r[e+2]]+Ln[r[e+3]]+"-"+Ln[r[e+4]]+Ln[r[e+5]]+"-"+Ln[r[e+6]]+Ln[r[e+7]]+"-"+Ln[r[e+8]]+Ln[r[e+9]]+"-"+Ln[r[e+10]]+Ln[r[e+11]]+Ln[r[e+12]]+Ln[r[e+13]]+Ln[r[e+14]]+Ln[r[e+15]]).toLowerCase();if(!Rd(t))throw TypeError("Stringified UUID is invalid");return t}var Ln,Fw,Bd,o2=pe(()=>{h();p();i2();Ln=[];for(Fw=0;Fw<256;++Fw)Ln.push((Fw+256).toString(16).substr(1));Bd=zpe});function Gpe(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||fV,a=r.clockseq!==void 0?r.clockseq:H9;if(o==null||a==null){var s=r.random||(r.rng||n2)();o==null&&(o=fV=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=H9=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:V9+1,c=u-K9+(f-V9)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>K9)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");K9=u,V9=f,H9=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||Bd(i)}var fV,H9,K9,V9,cV,dV=pe(()=>{h();p();j9();o2();K9=0,V9=0;cV=Gpe});function Ype(r){if(!Rd(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var Lw,z9=pe(()=>{h();p();i2();Lw=Ype});function Wpe(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function Uw(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=Wpe(i)),typeof o=="string"&&(o=Lw(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Bd(u)}try{n.name=r}catch{}return n.DNS=Xpe,n.URL=Jpe,n}var Xpe,Jpe,G9=pe(()=>{h();p();o2();z9();Xpe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Jpe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function $pe(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Zpe(Qpe(ege(r),r.length*8))}function Zpe(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function lV(r){return(r+64>>>9<<4)+14+1}function Qpe(r,e){r[e>>5]|=128<<e%32,r[lV(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=Pi(t,n,i,o,r[a],7,-680876936),o=Pi(o,t,n,i,r[a+1],12,-389564586),i=Pi(i,o,t,n,r[a+2],17,606105819),n=Pi(n,i,o,t,r[a+3],22,-1044525330),t=Pi(t,n,i,o,r[a+4],7,-176418897),o=Pi(o,t,n,i,r[a+5],12,1200080426),i=Pi(i,o,t,n,r[a+6],17,-1473231341),n=Pi(n,i,o,t,r[a+7],22,-45705983),t=Pi(t,n,i,o,r[a+8],7,1770035416),o=Pi(o,t,n,i,r[a+9],12,-1958414417),i=Pi(i,o,t,n,r[a+10],17,-42063),n=Pi(n,i,o,t,r[a+11],22,-1990404162),t=Pi(t,n,i,o,r[a+12],7,1804603682),o=Pi(o,t,n,i,r[a+13],12,-40341101),i=Pi(i,o,t,n,r[a+14],17,-1502002290),n=Pi(n,i,o,t,r[a+15],22,1236535329),t=Mi(t,n,i,o,r[a+1],5,-165796510),o=Mi(o,t,n,i,r[a+6],9,-1069501632),i=Mi(i,o,t,n,r[a+11],14,643717713),n=Mi(n,i,o,t,r[a],20,-373897302),t=Mi(t,n,i,o,r[a+5],5,-701558691),o=Mi(o,t,n,i,r[a+10],9,38016083),i=Mi(i,o,t,n,r[a+15],14,-660478335),n=Mi(n,i,o,t,r[a+4],20,-405537848),t=Mi(t,n,i,o,r[a+9],5,568446438),o=Mi(o,t,n,i,r[a+14],9,-1019803690),i=Mi(i,o,t,n,r[a+3],14,-187363961),n=Mi(n,i,o,t,r[a+8],20,1163531501),t=Mi(t,n,i,o,r[a+13],5,-1444681467),o=Mi(o,t,n,i,r[a+2],9,-51403784),i=Mi(i,o,t,n,r[a+7],14,1735328473),n=Mi(n,i,o,t,r[a+12],20,-1926607734),t=Ni(t,n,i,o,r[a+5],4,-378558),o=Ni(o,t,n,i,r[a+8],11,-2022574463),i=Ni(i,o,t,n,r[a+11],16,1839030562),n=Ni(n,i,o,t,r[a+14],23,-35309556),t=Ni(t,n,i,o,r[a+1],4,-1530992060),o=Ni(o,t,n,i,r[a+4],11,1272893353),i=Ni(i,o,t,n,r[a+7],16,-155497632),n=Ni(n,i,o,t,r[a+10],23,-1094730640),t=Ni(t,n,i,o,r[a+13],4,681279174),o=Ni(o,t,n,i,r[a],11,-358537222),i=Ni(i,o,t,n,r[a+3],16,-722521979),n=Ni(n,i,o,t,r[a+6],23,76029189),t=Ni(t,n,i,o,r[a+9],4,-640364487),o=Ni(o,t,n,i,r[a+12],11,-421815835),i=Ni(i,o,t,n,r[a+15],16,530742520),n=Ni(n,i,o,t,r[a+2],23,-995338651),t=ki(t,n,i,o,r[a],6,-198630844),o=ki(o,t,n,i,r[a+7],10,1126891415),i=ki(i,o,t,n,r[a+14],15,-1416354905),n=ki(n,i,o,t,r[a+5],21,-57434055),t=ki(t,n,i,o,r[a+12],6,1700485571),o=ki(o,t,n,i,r[a+3],10,-1894986606),i=ki(i,o,t,n,r[a+10],15,-1051523),n=ki(n,i,o,t,r[a+1],21,-2054922799),t=ki(t,n,i,o,r[a+8],6,1873313359),o=ki(o,t,n,i,r[a+15],10,-30611744),i=ki(i,o,t,n,r[a+6],15,-1560198380),n=ki(n,i,o,t,r[a+13],21,1309151649),t=ki(t,n,i,o,r[a+4],6,-145523070),o=ki(o,t,n,i,r[a+11],10,-1120210379),i=ki(i,o,t,n,r[a+2],15,718787259),n=ki(n,i,o,t,r[a+9],21,-343485551),t=Pd(t,s),n=Pd(n,u),i=Pd(i,f),o=Pd(o,c)}return[t,n,i,o]}function ege(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(lV(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Pd(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function tge(r,e){return r<<e|r>>>32-e}function jw(r,e,t,n,i,o){return Pd(tge(Pd(Pd(e,r),Pd(n,o)),i),t)}function Pi(r,e,t,n,i,o,a){return jw(e&t|~e&n,r,e,i,o,a)}function Mi(r,e,t,n,i,o,a){return jw(e&n|t&~n,r,e,i,o,a)}function Ni(r,e,t,n,i,o,a){return jw(e^t^n,r,e,i,o,a)}function ki(r,e,t,n,i,o,a){return jw(t^(e|~n),r,e,i,o,a)}var hV,pV=pe(()=>{h();p();hV=$pe});var rge,gV,mV=pe(()=>{h();p();G9();pV();rge=Uw("v3",48,hV),gV=rge});function nge(r,e,t){r=r||{};var n=r.random||(r.rng||n2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Bd(n)}var yV,vV=pe(()=>{h();p();j9();o2();yV=nge});function ige(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function Y9(r,e){return r<<e|r>>>32-e}function oge(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=Y9(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=Y9(D,5)+ige(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=Y9(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var _V,xV=pe(()=>{h();p();_V=oge});var age,bV,wV=pe(()=>{h();p();G9();xV();age=Uw("v5",80,_V),bV=age});var SV,CV=pe(()=>{h();p();SV="00000000-0000-0000-0000-000000000000"});function sge(r){if(!Rd(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var EV,IV=pe(()=>{h();p();i2();EV=sge});var TV={};g0(TV,{NIL:()=>SV,parse:()=>Lw,stringify:()=>Bd,v1:()=>cV,v3:()=>gV,v4:()=>yV,v5:()=>bV,validate:()=>Rd,version:()=>EV});var AV=pe(()=>{h();p();dV();mV();vV();wV();CV();IV();i2();o2();z9()});var OV=T(a2=>{h();p();Object.defineProperty(a2,"__esModule",{value:!0});var Un=uf(),uge=(AV(),m0(TV)),W9={NEAR_SIGN_REQUEST:new Un.RegistryType("near-sign-request",2101),NEAR_SIGNATURE:new Un.RegistryType("near-signature",2102),CRYPTO_MULTI_ACCOUNTS:new Un.RegistryType("crypto-multi-accounts",2103)},{decodeToDataItem:fge,RegistryTypes:cge}=Un.extend,So;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.derivationPath=3]="derivationPath",r[r.account=4]="account",r[r.origin=5]="origin"})(So||(So={}));var qc=class extends Un.RegistryItem{constructor(e){super(),this.getRegistryType=()=>W9.NEAR_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAccount=()=>this.account,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[So.requestId]=new Un.DataItem(this.requestId,cge.UUID.getTag())),this.account&&(t[So.account]=this.account),this.origin&&(t[So.origin]=this.origin),t[So.signData]=this.signData;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[So.derivationPath]=n,new Un.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.account=e.account,this.origin=e.origin}static constructNearRequest(e,t,n,i,o,a){let s=t.replace(/[m|M]\//,"").split("/"),u=new Un.CryptoKeypath(s.map(f=>{let c=parseInt(f.replace("'","")),l=!1;return f.endsWith("'")&&(l=!0),new Un.PathComponent({index:c,hardened:l})}),m.Buffer.from(n,"hex"));return new qc({requestId:i?m.Buffer.from(uge.parse(i)):void 0,signData:e,derivationPath:u,account:o||void 0,origin:a||void 0})}};qc.fromDataItem=r=>{let e=r.getData(),t=e[So.signData],n=Un.CryptoKeypath.fromDataItem(e[So.derivationPath]),i=e[So.account]?e[So.account]:void 0,o=e[So.requestId]?e[So.requestId].getData():void 0;return new qc({requestId:o,signData:t,derivationPath:n,account:i,origin:e[So.origin]?e[So.origin]:void 0})},qc.fromCBOR=r=>{let e=fge(r);return qc.fromDataItem(e)};var{RegistryTypes:dge,decodeToDataItem:lge}=Un.extend,Zh;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(Zh||(Zh={}));var $h=class extends Un.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>W9.NEAR_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[Zh.requestId]=new Un.DataItem(this.requestId,dge.UUID.getTag())),n[Zh.signature]=this.signature,new Un.DataItem(n)},this.signature=e,this.requestId=t}};$h.fromDataItem=r=>{let e=r.getData(),t=e[Zh.signature],n=e[Zh.requestId]?e[Zh.requestId].getData():void 0;return new $h(t,n)},$h.fromCBOR=r=>{let e=lge(r);return $h.fromDataItem(e)},Un.patchTags(Object.values(W9).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Un).forEach(function(r){r!=="default"&&Object.defineProperty(a2,r,{enumerable:!0,get:function(){return Un[r]}})}),a2.NearSignRequest=qc,a2.NearSignature=$h});var RV=T((RZe,DV)=>{h();p();DV.exports=OV()});var BV=T(Kw=>{h();p();Object.defineProperty(Kw,"__esModule",{value:!0});Kw.KeystoneNearSDK=void 0;var Jg=En(),hge=Uo(),Hw=RV(),X9=class{parseSignature(e){if(e.type!==hge.URType.NearSignature)throw new Error("type not match");let t=Hw.NearSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:n===void 0?void 0:(0,Jg.uuidStringify)(n),signature:t.getSignature().map(i=>(0,Jg.toHex)(i))}}generateSignRequest({requestId:e,signData:t,path:n,xfp:i,account:o,origin:a}){return new Hw.NearSignRequest({requestId:(0,Jg.uuidParse)(e),signData:t.map(s=>(0,Jg.toBuffer)(s)),derivationPath:new Hw.CryptoKeypath((0,Jg.parsePath)(n).map(s=>new Hw.PathComponent(s)),(0,Jg.toBuffer)(i)),account:o,origin:a}).toUR()}};Kw.KeystoneNearSDK=X9});var zw=T(Vw=>{h();p();Object.defineProperty(Vw,"__esModule",{value:!0});Vw.DataItem=void 0;var J9=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};Vw.DataItem=J9});var MV=T((PV,Gw)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof Gw<"u"&&Gw.exports?Gw.exports=e():r.CBOR=e()})(PV,function(){let{DataItem:r}=zw();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var v="",w=0;w<this.$hex.length;w+=2)v+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(v)}if(d==="latin"){for(var v=[],w=0;w<this.$hex.length;w+=2)v.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,v)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var v="",w=0;w<d.length;w++){var I=d.charCodeAt(w).toString(16);I.length===1&&(I="0"+I),v+=I}return new t(v)},t.fromUtf8String=function(d){for(var v=encodeURIComponent(d),w="",I=0;I<v.length;I++)if(v.charAt(I)==="%")w+=v.substring(I+1,I+3),I+=2;else{var x=v.charCodeAt(I).toString(16);x.length<2&&(x="0"+x),w+=x}return new t(w)};var n=[],i={},o=function(d){return function(){throw new Error(d+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),v=(d&32767)>>10,w=d&1023,I=d&32768;if(v===31)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-25)*(1024+w):Math.pow(2,-24)*w;return I?-x:x},readFloat32:function(){var d=this.readUint32(),v=(d&2147483647)>>23,w=d&8388607,I=d&2147483648;if(v===255)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-23-127)*(8388608+w):Math.pow(2,-23-126)*w;return I?-x:x},readFloat64:function(){var d=this.readUint32(),v=this.readUint32(),w=d>>20&2047,I=(d&1048575)*4294967296+v,x=d&2147483648;if(w===2047)return I===0?x?-1/0:1/0:NaN;var B=w?Math.pow(2,w-52-1023)*(4503599627370496+I):Math.pow(2,-52-1022)*I;return x?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function u(d){var v=d.readByte(),w=v>>5,I=v&31;return{type:w,value:I}}function f(d,v){var w=d.value;if(w<24)return w;if(w==24)return v.readByte();if(w==25)return v.readUint16();if(w==26)return v.readUint32();if(w==27)return v.readUint64();if(w==31)return null;o("Additional info: "+w)()}function c(d,v,w){w.writeByte(d<<5|v)}function l(d,v,w){var I=d<<5;v<24?w.writeByte(I|v):v<256?(w.writeByte(I|24),w.writeByte(v)):v<65536?(w.writeByte(I|25),w.writeUint16(v)):v<4294967296?(w.writeByte(I|26),w.writeUint32(v)):(w.writeByte(I|27),w.writeUint64(v))}var g=new Error;function y(d){var v=u(d);switch(v.type){case 0:return f(v,d);case 1:return-1-f(v,d);case 2:return d.readChunk(f(v,d));case 3:var w=d.readChunk(f(v,d));return w.toString("utf-8");case 4:case 5:var I=f(v,d),A=[];if(I!==null){v.type===5&&(I*=2);for(var x=0;x<I;x++)A[x]=y(d)}else for(var B;(B=y(d))!==g;)A.push(B);if(v.type===5){for(var E={},x=0;x<A.length;x+=2)E[A[x]]=A[x+1];return E}else return A;case 6:var _=f(v,d),C=i[_],A=y(d);return C?C(A):A;case 7:if(v.value===25)return d.readFloat16();if(v.value===26)return d.readFloat32();if(v.value===27)return d.readFloat64();switch(f(v,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+v.value)}default:throw new Error("Unsupported header: "+JSON.stringify(v))}throw new Error("not implemented yet")}function b(d,v){for(var w=0;w<n.length;w++){var I=n[w].fn(d);if(I!==void 0)return l(6,n[w].tag,v),b(I,v)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,v);else if(d===!0)l(7,21,v);else if(d===null)l(7,22,v);else if(d===void 0)l(7,23,v);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,v):l(0,d,v):(c(7,27,v),v.writeFloat64(d));else if(typeof d=="string")v.writeString(d,function(B){l(3,B,v)});else if(v.canWriteBinary(d))v.writeBinary(d,function(B){l(2,B,v)});else if(typeof d=="object")if(k.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,v);for(var w=0;w<d.length;w++)b(d[w],v)}else{var x=Object.keys(d);l(5,x.length,v);for(var w=0;w<x.length;w++){let E=parseInt(x[w]);isNaN(E)?(b(x[w],v),b(d[x[w]],v)):(b(E,v),b(d[x[w]],v))}}else throw new Error("CBOR encoding not supported: "+d)}var D=[],M=[],k={config:{useToJSON:!0},addWriter:function(d,v){typeof d=="string"?M.push(function(w){if(d===w)return v(w)}):M.push(d)},addReader:function(d,v){typeof d=="string"?D.push(function(w,I){if(d===I)return v(w,I)}):D.push(d)},encode:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return b(d,x),x.result()}throw new Error("Unsupported output format: "+v)},encodeDataItem:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return d.getTag()!==void 0?(b(d,x),x.result()):(b(d.getData(),x),x.result())}throw new Error("Unsupported output format: "+v)},decode:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x)return y(x)}throw new Error("Unsupported input format: "+v)},decodeToDataItem:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x){let B=y(x);return B instanceof r?B:new r(B)}}throw new Error("Unsupported input format: "+v)},addSemanticEncode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:v}),this},addSemanticDecode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=v,this}};function N(d){this.buffer=d,this.pos=0}N.prototype=Object.create(a.prototype),N.prototype.peekByte=function(){return this.buffer[this.pos]},N.prototype.readByte=function(){return this.buffer[this.pos++]},N.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},N.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},N.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},N.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},N.prototype.readChunk=function(d){var v=m.Buffer.alloc(d);return this.buffer.copy(v,0,this.pos,this.pos+=d),v};function K(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}K.prototype=Object.create(s.prototype),K.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},K.prototype.writeFloat32=function(d){var v=m.Buffer.alloc(4);v.writeFloatBE(d,0),this.writeBuffer(v)},K.prototype.writeFloat64=function(d){var v=m.Buffer.alloc(8);v.writeDoubleBE(d,0),this.writeBuffer(v)},K.prototype.writeString=function(d,v){var w=m.Buffer.from(d,"utf-8");v(w.length),this.writeBuffer(w)},K.prototype.canWriteBinary=function(d){return d instanceof m.Buffer},K.prototype.writeBinary=function(d,v){v(d.length),this.writeBuffer(d)},K.prototype.writeBuffer=function(d){if(!(d instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},K.prototype.result=function(){for(var d=m.Buffer.alloc(this.byteLength),v=0,w=0;w<this.completeBuffers.length;w++){var I=this.completeBuffers[w];I.copy(d,v,0,I.length),v+=I.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,v,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof m.Buffer=="function"&&(k.addReader(function(d,v){if(m.Buffer.isBuffer(d))return new N(d);if(v==="hex"||v==="base64"){var w=m.Buffer.from(d,v);return new N(w)}}),k.addWriter(function(d){if(!d||d==="buffer")return new K;if(d==="hex"||d==="base64")return new K(d)}));function X(d){this.hex=d,this.pos=0}X.prototype=Object.create(a.prototype),X.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},X.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},X.prototype.readChunk=function(d){var v=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof m.Buffer=="function"?m.Buffer.from(v,"hex"):new t(v)};function q(d){this.$hex="",this.finalFormat=d||"hex"}return q.prototype=Object.create(s.prototype),q.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var v=d.toString(16);v.length==1&&(v="0"+v),this.$hex+=v},q.prototype.canWriteBinary=function(d){return d instanceof t||typeof m.Buffer=="function"&&d instanceof m.Buffer},q.prototype.writeBinary=function(d,v){if(d instanceof t)v(d.length()),this.$hex+=d.$hex;else if(typeof m.Buffer=="function"&&d instanceof m.Buffer)v(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(d,v){var w=t.fromUtf8String(d);v(w.length()),this.$hex+=w.$hex},k.addReader(function(d,v){if(d instanceof t||d.$hex)return new X(d.$hex);if(v==="hex")return new X(d)}),k.addWriter(function(d){if(d==="hex")return new q}),k}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var jn=T(qi=>{h();p();Object.defineProperty(qi,"__esModule",{value:!0});qi.DataItem=qi.addWriter=qi.addReader=qi.addSemanticEncode=qi.addSemanticDecode=qi.decodeToDataItem=qi.encodeDataItem=void 0;var $g=MV();Object.defineProperty(qi,"encodeDataItem",{enumerable:!0,get:function(){return $g.encodeDataItem}});Object.defineProperty(qi,"decodeToDataItem",{enumerable:!0,get:function(){return $g.decodeToDataItem}});Object.defineProperty(qi,"addSemanticDecode",{enumerable:!0,get:function(){return $g.addSemanticDecode}});Object.defineProperty(qi,"addSemanticEncode",{enumerable:!0,get:function(){return $g.addSemanticEncode}});Object.defineProperty(qi,"addReader",{enumerable:!0,get:function(){return $g.addReader}});Object.defineProperty(qi,"addWriter",{enumerable:!0,get:function(){return $g.addWriter}});var pge=zw();Object.defineProperty(qi,"DataItem",{enumerable:!0,get:function(){return pge.DataItem}})});var Xw=T(Ww=>{h();p();Object.defineProperty(Ww,"__esModule",{value:!0});Ww.patchTags=void 0;var Yw=jn(),NV=[],gge=r=>{r.forEach(e=>{NV.find(t=>t===e)||(Yw.addSemanticEncode(e,t=>{if(t instanceof Yw.DataItem&&t.getTag()===e)return t.getData()}),Yw.addSemanticDecode(e,t=>new Yw.DataItem(t,e)),NV.push(e))})};Ww.patchTags=gge});var Hn=T(Zg=>{h();p();Object.defineProperty(Zg,"__esModule",{value:!0});Zg.RegistryTypes=Zg.RegistryType=void 0;var Co=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};Zg.RegistryType=Co;Zg.RegistryTypes={UUID:new Co("uuid",37),BYTES:new Co("bytes",void 0),CRYPTO_HDKEY:new Co("crypto-hdkey",303),CRYPTO_KEYPATH:new Co("crypto-keypath",304),CRYPTO_COIN_INFO:new Co("crypto-coin-info",305),CRYPTO_ECKEY:new Co("crypto-eckey",306),CRYPTO_OUTPUT:new Co("crypto-output",308),CRYPTO_PSBT:new Co("crypto-psbt",310),CRYPTO_ACCOUNT:new Co("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Co("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Co("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Co("key-derivation-call",1301)}});var Jw=T(Qh=>{h();p();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.ScriptExpressions=Qh.ScriptExpression=void 0;var Yo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Qh.ScriptExpression=Yo;Yo.fromTag=r=>Object.values(Qh.ScriptExpressions).find(t=>t.getTag()===r);Qh.ScriptExpressions={SCRIPT_HASH:new Yo(400,"sh"),WITNESS_SCRIPT_HASH:new Yo(401,"wsh"),PUBLIC_KEY:new Yo(402,"pk"),PUBLIC_KEY_HASH:new Yo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Yo(404,"wpkh"),COMBO:new Yo(405,"combo"),MULTISIG:new Yo(406,"multi"),SORTED_MULTISIG:new Yo(407,"sortedmulti"),ADDRESS:new Yo(307,"addr"),RAW_SCRIPT:new Yo(408,"raw")}});var $9=T(kV=>{h();p();Object.defineProperty(kV,"__esModule",{value:!0});var mge=Xw(),yge=Hn(),vge=Jw(),_ge=Object.values(yge.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),xge=Object.values(vge.ScriptExpressions).map(r=>r.getTag());mge.patchTags(_ge.concat(xge))});var Eo=T($w=>{h();p();Object.defineProperty($w,"__esModule",{value:!0});$w.RegistryItem=void 0;var qV=pn(),bge=jn(),Z9=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return bge.encodeDataItem(this.toDataItem())},this.toUR=()=>new qV.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new qV.UREncoder(i,e,t,n)}}};$w.RegistryItem=Z9});var Zw=T(Of=>{h();p();Object.defineProperty(Of,"__esModule",{value:!0});Of.CryptoCoinInfo=Of.Network=Of.Type=void 0;var FV=jn(),wge=Eo(),Sge=Hn(),Qg;(function(r){r.type="1",r.network="2"})(Qg||(Qg={}));var LV;(function(r){r[r.bitcoin=0]="bitcoin"})(LV=Of.Type||(Of.Type={}));var UV;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(UV=Of.Network||(Of.Network={}));var e1=class extends wge.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>Sge.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||LV.bitcoin,this.getNetwork=()=>this.network||UV.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Qg.type]=this.type),this.network&&(n[Qg.network]=this.network),new FV.DataItem(n)}}};Of.CryptoCoinInfo=e1;e1.fromDataItem=r=>{let e=r.getData(),t=e[Qg.type],n=e[Qg.network];return new e1(t,n)};e1.fromCBOR=r=>{let e=FV.decodeToDataItem(r);return e1.fromDataItem(e)}});var e8=T(Qw=>{h();p();Object.defineProperty(Qw,"__esModule",{value:!0});Qw.PathComponent=void 0;var em=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&em.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Qw.PathComponent=em;em.HARDENED_BIT=2147483648});var s2=T(t8=>{h();p();Object.defineProperty(t8,"__esModule",{value:!0});t8.CryptoKeypath=void 0;var HV=jn(),jV=e8(),Cge=Eo(),Ege=Hn(),Md;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(Md||(Md={}));var t1=class extends Cge.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>Ege.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[Md.components]=o,this.sourceFingerprint&&(i[Md.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Md.depth]=this.depth),new HV.DataItem(i)}}};t8.CryptoKeypath=t1;t1.fromDataItem=r=>{let e=r.getData(),t=[],n=e[Md.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new jV.PathComponent({index:f,hardened:u})):t.push(new jV.PathComponent({hardened:u}))}let i=e[Md.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[Md.depth];return new t1(t,o,a)};t1.fromCBOR=r=>{let e=HV.decodeToDataItem(r);return t1.fromDataItem(e)}});var tm=T(r8=>{h();p();Object.defineProperty(r8,"__esModule",{value:!0});r8.CryptoHDKey=void 0;var Ige=wp(),Tge=Zw(),KV=s2(),VV=jn(),Age=Eo(),Oge=Hn(),sr;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(sr||(sr={}));var r1=class extends Age.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),b=y[y.length-1];b&&(s=b.isHardened()?b.getIndex()+2147483648:b.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let c=m.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return Ige.encode(m.Buffer.concat([o,f,u,c,l,g]))},this.getRegistryType=()=>Oge.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[sr.is_master]=!0,t[sr.key_data]=this.key,t[sr.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[sr.is_private]=this.privateKey),t[sr.key_data]=this.key,this.chainCode&&(t[sr.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[sr.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[sr.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[sr.children]=n}this.parentFingerprint&&(t[sr.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[sr.name]=this.name),this.note!==void 0&&(t[sr.note]=this.note)}return new VV.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};r8.CryptoHDKey=r1;r1.fromDataItem=r=>{let e=r.getData(),t=!!e[sr.is_master],n=e[sr.is_private],i=e[sr.key_data],o=e[sr.chain_code],a=e[sr.use_info]?Tge.CryptoCoinInfo.fromDataItem(e[sr.use_info]):void 0,s=e[sr.origin]?KV.CryptoKeypath.fromDataItem(e[sr.origin]):void 0,u=e[sr.children]?KV.CryptoKeypath.fromDataItem(e[sr.children]):void 0,f=e[sr.parent_fingerprint],c;f&&(c=m.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[sr.name],g=e[sr.note];return new r1({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:c,name:l,note:g})};r1.fromCBOR=r=>{let e=VV.decodeToDataItem(r);return r1.fromDataItem(e)}});var u2=T(n8=>{h();p();Object.defineProperty(n8,"__esModule",{value:!0});n8.CryptoECKey=void 0;var zV=jn(),Dge=Eo(),Rge=Hn(),Nd;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(Nd||(Nd={}));var n1=class extends Dge.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Rge.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[Nd.curve]=this.curve),this.privateKey!==void 0&&(t[Nd.private]=this.privateKey),t[Nd.data]=this.data,new zV.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};n8.CryptoECKey=n1;n1.fromDataItem=r=>{let e=r.getData(),t=e[Nd.curve],n=e[Nd.private],i=e[Nd.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new n1({data:i,curve:t,privateKey:n})};n1.fromCBOR=r=>{let e=zV.decodeToDataItem(r);return n1.fromDataItem(e)}});var YV=T(i8=>{h();p();Object.defineProperty(i8,"__esModule",{value:!0});i8.Bytes=void 0;var GV=jn(),Bge=Eo(),Pge=Hn(),i1=class extends Bge.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Pge.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new GV.DataItem(this.bytes)}};i8.Bytes=i1;i1.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new i1(e)};i1.fromCBOR=r=>{let e=GV.decodeToDataItem(r);return i1.fromDataItem(e)}});var a8=T(o8=>{h();p();Object.defineProperty(o8,"__esModule",{value:!0});o8.MultiKey=void 0;var Mge=u2(),Nge=tm(),kge=zw(),qge=Eo(),WV=Hn(),rm;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(rm||(rm={}));var f2=class extends qge.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[rm.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[rm.keys]=i,new kge.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};o8.MultiKey=f2;f2.fromDataItem=r=>{let e=r.getData(),t=e[rm.threshold],n=e[rm.keys],i=[];return n.forEach(o=>{o.getTag()===WV.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Nge.CryptoHDKey.fromDataItem(o)):o.getTag()===WV.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Mge.CryptoECKey.fromDataItem(o))}),new f2(t,i)}});var nA=T(s8=>{h();p();Object.defineProperty(s8,"__esModule",{value:!0});s8.CryptoOutput=void 0;var eA=u2(),tA=tm(),rA=jn(),XV=a8(),Fge=Eo(),JV=Hn(),Q9=Jw(),Fc=class extends Fge.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>JV.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof tA.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof eA.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof XV.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof eA.CryptoECKey||this.cryptoKey instanceof tA.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new rA.DataItem(n,a)}),n}}};s8.CryptoOutput=Fc;Fc.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=Q9.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof rA.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===Q9.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===Q9.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=XV.MultiKey.fromDataItem(t);return new Fc(e,o)}if(t.getTag()===JV.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=tA.CryptoHDKey.fromDataItem(t);return new Fc(e,o)}else{let o=eA.CryptoECKey.fromDataItem(t);return new Fc(e,o)}};Fc.fromCBOR=r=>{let e=rA.decodeToDataItem(r);return Fc.fromDataItem(e)}});var iA=T(u8=>{h();p();Object.defineProperty(u8,"__esModule",{value:!0});u8.CryptoPSBT=void 0;var $V=jn(),Lge=Eo(),Uge=Hn(),o1=class extends Lge.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Uge.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new $V.DataItem(this.psbt)}};u8.CryptoPSBT=o1;o1.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new o1(e)};o1.fromCBOR=r=>{let e=$V.decodeToDataItem(r);return o1.fromDataItem(e)}});var oA=T(f8=>{h();p();Object.defineProperty(f8,"__esModule",{value:!0});f8.CryptoAccount=void 0;var jge=c8(),ZV=jn(),Hge=Eo(),Kge=Hn(),nm;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(nm||(nm={}));var a1=class extends Hge.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Kge.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[nm.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[nm.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new ZV.DataItem(n)}}};f8.CryptoAccount=a1;a1.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[nm.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[nm.outputDescriptors].map(a=>jge.CryptoOutput.fromDataItem(a));return new a1(t,o)};a1.fromCBOR=r=>{let e=ZV.decodeToDataItem(r);return a1.fromDataItem(e)}});var sA=T(d8=>{h();p();Object.defineProperty(d8,"__esModule",{value:!0});d8.UnknownURTypeError=void 0;var aA=class extends Error{constructor(e){super(e)}};d8.UnknownURTypeError=aA});var fA=T(l8=>{h();p();Object.defineProperty(l8,"__esModule",{value:!0});l8.URRegistryDecoder=void 0;var Vge=pn(),kd=c8(),qd=Hn(),zge=sA(),uA=class extends Vge.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case qd.RegistryTypes.BYTES.getType():return kd.Bytes.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_HDKEY.getType():return kd.CryptoHDKey.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_KEYPATH.getType():return kd.CryptoKeypath.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_COIN_INFO.getType():return kd.CryptoCoinInfo.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_ECKEY.getType():return kd.CryptoECKey.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_OUTPUT.getType():return kd.CryptoOutput.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_PSBT.getType():return kd.CryptoPSBT.fromCBOR(e.cbor);case qd.RegistryTypes.CRYPTO_ACCOUNT.getType():return kd.CryptoAccount.fromCBOR(e.cbor);default:throw new zge.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};l8.URRegistryDecoder=uA});var cA=T(h8=>{h();p();Object.defineProperty(h8,"__esModule",{value:!0});h8.CryptoMultiAccounts=void 0;var Gge=Hn(),Yge=tm(),Wge=Eo(),QV=jn(),Fd;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(Fd||(Fd={}));var s1=class extends Wge.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Gge.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[Fd.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Fd.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[Fd.device]=this.device),new QV.DataItem(i)}}};h8.CryptoMultiAccounts=s1;s1.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Fd.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Fd.keys].map(s=>Yge.CryptoHDKey.fromDataItem(s)),a=e[Fd.device];return new s1(t,o,a)};s1.fromCBOR=r=>{let e=QV.decodeToDataItem(r);return s1.fromDataItem(e)}});var dA=T(Rf=>{h();p();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.KeyDerivation=Rf.DerivationAlgorithm=Rf.Curve=void 0;var Xge=Hn(),Jge=Eo(),ez=jn(),$ge=s2(),Df;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(Df||(Df={}));var tz;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(tz=Rf.Curve||(Rf.Curve={}));var rz;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(rz=Rf.DerivationAlgorithm||(Rf.DerivationAlgorithm={}));var u1=class extends Jge.RegistryItem{constructor(e,t=tz.secp256k1,n=rz.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>Xge.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return o[Df.keyPaths]=this.keypaths.map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s}),o[Df.curve]=this.curve,o[Df.algo]=this.algo,this.origin&&(o[Df.origin]=this.origin),new ez.DataItem(o)}}};Rf.KeyDerivation=u1;u1.fromDataItem=r=>{let e=r.getData(),t=e[Df.keyPaths].map(a=>$ge.CryptoKeypath.fromDataItem(a)),n=e[Df.curve],i=e[Df.algo],o=e[Df.origin];return new u1(t,n,i,o)};u1.fromCBOR=r=>{let e=ez.decodeToDataItem(r);return u1.fromDataItem(e)}});var iz=T(c1=>{h();p();Object.defineProperty(c1,"__esModule",{value:!0});c1.QRHardwareCall=c1.QRHardwareCallName=void 0;var Zge=Hn(),Qge=Eo(),nz=jn(),eme=dA(),im;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(im||(im={}));var lA;(function(r){r.KeyDerivation="key-derivation"})(lA=c1.QRHardwareCallName||(c1.QRHardwareCallName={}));var f1=class extends Qge.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>Zge.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[im.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[im.params]=i,new nz.DataItem(n)}}};c1.QRHardwareCall=f1;f1.fromDataItem=r=>{let e=r.getData(),t=e[im.name]||lA.KeyDerivation,n;switch(t){case lA.KeyDerivation:n=eme.KeyDerivation.fromDataItem(e[im.params])}return new f1(t,n)};f1.fromCBOR=r=>{let e=nz.decodeToDataItem(r);return f1.fromDataItem(e)}});var az=T(oz=>{h();p();Object.defineProperty(oz,"__esModule",{value:!0})});var c8=T(Be=>{h();p();Object.defineProperty(Be,"__esModule",{value:!0});Be.Buffer=Be.extend=Be.PathComponent=Be.ScriptExpressions=Be.MultiKey=Be.CryptoPSBT=Be.CryptoOutput=Be.CryptoECKey=Be.CryptoCoinInfoNetwork=Be.CryptoCoinInfoType=Be.CryptoCoinInfo=Be.CryptoKeypath=Be.CryptoMultiAccounts=Be.CryptoHDKey=Be.CryptoAccount=Be.Bytes=Be.URRegistryDecoder=Be.DataItem=void 0;var Yr=qy();$9();var tme=Op();Object.defineProperty(Be,"Buffer",{enumerable:!0,get:function(){return tme.Buffer}});var uz=tm();Object.defineProperty(Be,"CryptoHDKey",{enumerable:!0,get:function(){return uz.CryptoHDKey}});var fz=s2();Object.defineProperty(Be,"CryptoKeypath",{enumerable:!0,get:function(){return fz.CryptoKeypath}});var am=Zw();Object.defineProperty(Be,"CryptoCoinInfo",{enumerable:!0,get:function(){return am.CryptoCoinInfo}});Object.defineProperty(Be,"CryptoCoinInfoType",{enumerable:!0,get:function(){return am.Type}});Object.defineProperty(Be,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return am.Network}});var cz=u2();Object.defineProperty(Be,"CryptoECKey",{enumerable:!0,get:function(){return cz.CryptoECKey}});var dz=YV();Object.defineProperty(Be,"Bytes",{enumerable:!0,get:function(){return dz.Bytes}});var lz=nA();Object.defineProperty(Be,"CryptoOutput",{enumerable:!0,get:function(){return lz.CryptoOutput}});var hz=iA();Object.defineProperty(Be,"CryptoPSBT",{enumerable:!0,get:function(){return hz.CryptoPSBT}});var pz=oA();Object.defineProperty(Be,"CryptoAccount",{enumerable:!0,get:function(){return pz.CryptoAccount}});var gz=fA();Object.defineProperty(Be,"URRegistryDecoder",{enumerable:!0,get:function(){return gz.URRegistryDecoder}});var mz=a8();Object.defineProperty(Be,"MultiKey",{enumerable:!0,get:function(){return mz.MultiKey}});var yz=Jw();Object.defineProperty(Be,"ScriptExpressions",{enumerable:!0,get:function(){return yz.ScriptExpressions}});var vz=e8();Object.defineProperty(Be,"PathComponent",{enumerable:!0,get:function(){return vz.PathComponent}});var rme=Eo(),sz=Hn(),om=jn(),nme=jn();Object.defineProperty(Be,"DataItem",{enumerable:!0,get:function(){return nme.DataItem}});var ime=Xw(),_z=cA();Object.defineProperty(Be,"CryptoMultiAccounts",{enumerable:!0,get:function(){return _z.CryptoMultiAccounts}});var ome={URRegistryDecoder:gz.URRegistryDecoder,Bytes:dz.Bytes,CryptoAccount:pz.CryptoAccount,CryptoHDKey:uz.CryptoHDKey,CryptoMultiAccounts:_z.CryptoMultiAccounts,CryptoKeypath:fz.CryptoKeypath,CryptoCoinInfo:am.CryptoCoinInfo,CryptoCoinInfoType:am.Type,CryptoCoinInfoNetwork:am.Network,CryptoECKey:cz.CryptoECKey,CryptoOutput:lz.CryptoOutput,CryptoPSBT:hz.CryptoPSBT,MultiKey:mz.MultiKey,ScriptExpressions:yz.ScriptExpressions,PathComponent:vz.PathComponent},ame={addReader:om.addReader,addSemanticDecode:om.addSemanticDecode,addSemanticEncode:om.addSemanticEncode,addWriter:om.addWriter,patchTags:ime.patchTags},sme={RegistryTypes:sz.RegistryTypes,RegistryItem:rme.RegistryItem,RegistryType:sz.RegistryType,decodeToDataItem:om.decodeToDataItem,encodeDataItem:om.encodeDataItem,cbor:ame};Be.extend=sme;Yr.__exportStar(sA(),Be);Yr.__exportStar(fA(),Be);Yr.__exportStar(jn(),Be);Yr.__exportStar(oA(),Be);Yr.__exportStar(iA(),Be);Yr.__exportStar(tm(),Be);Yr.__exportStar(cA(),Be);Yr.__exportStar(iz(),Be);Yr.__exportStar(dA(),Be);Yr.__exportStar(nA(),Be);Yr.__exportStar(Zw(),Be);Yr.__exportStar(u2(),Be);Yr.__exportStar(a8(),Be);Yr.__exportStar(s2(),Be);Yr.__exportStar($9(),Be);Yr.__exportStar(e8(),Be);Yr.__exportStar(Eo(),Be);Yr.__exportStar(Hn(),Be);Yr.__exportStar(az(),Be);Yr.__exportStar(Xw(),Be);Be.default=ome});function c2(){if(!p8&&(p8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!p8))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p8(ume)}var p8,ume,hA=pe(()=>{h();p();ume=new Uint8Array(16)});var xz,bz=pe(()=>{h();p();xz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function fme(r){return typeof r=="string"&&xz.test(r)}var Ld,d2=pe(()=>{h();p();bz();Ld=fme});function cme(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kn[r[e+0]]+Kn[r[e+1]]+Kn[r[e+2]]+Kn[r[e+3]]+"-"+Kn[r[e+4]]+Kn[r[e+5]]+"-"+Kn[r[e+6]]+Kn[r[e+7]]+"-"+Kn[r[e+8]]+Kn[r[e+9]]+"-"+Kn[r[e+10]]+Kn[r[e+11]]+Kn[r[e+12]]+Kn[r[e+13]]+Kn[r[e+14]]+Kn[r[e+15]]).toLowerCase();if(!Ld(t))throw TypeError("Stringified UUID is invalid");return t}var Kn,g8,Ud,l2=pe(()=>{h();p();d2();Kn=[];for(g8=0;g8<256;++g8)Kn.push((g8+256).toString(16).substr(1));Ud=cme});function dme(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||wz,a=r.clockseq!==void 0?r.clockseq:pA;if(o==null||a==null){var s=r.random||(r.rng||c2)();o==null&&(o=wz=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=pA=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:mA+1,c=u-gA+(f-mA)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>gA)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gA=u,mA=f,pA=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||Ud(i)}var wz,pA,gA,mA,Sz,Cz=pe(()=>{h();p();hA();l2();gA=0,mA=0;Sz=dme});function lme(r){if(!Ld(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var m8,yA=pe(()=>{h();p();d2();m8=lme});function hme(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function y8(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=hme(i)),typeof o=="string"&&(o=m8(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Ud(u)}try{n.name=r}catch{}return n.DNS=pme,n.URL=gme,n}var pme,gme,vA=pe(()=>{h();p();l2();yA();pme="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gme="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function mme(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return yme(vme(_me(r),r.length*8))}function yme(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function Ez(r){return(r+64>>>9<<4)+14+1}function vme(r,e){r[e>>5]|=128<<e%32,r[Ez(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=Fi(t,n,i,o,r[a],7,-680876936),o=Fi(o,t,n,i,r[a+1],12,-389564586),i=Fi(i,o,t,n,r[a+2],17,606105819),n=Fi(n,i,o,t,r[a+3],22,-1044525330),t=Fi(t,n,i,o,r[a+4],7,-176418897),o=Fi(o,t,n,i,r[a+5],12,1200080426),i=Fi(i,o,t,n,r[a+6],17,-1473231341),n=Fi(n,i,o,t,r[a+7],22,-45705983),t=Fi(t,n,i,o,r[a+8],7,1770035416),o=Fi(o,t,n,i,r[a+9],12,-1958414417),i=Fi(i,o,t,n,r[a+10],17,-42063),n=Fi(n,i,o,t,r[a+11],22,-1990404162),t=Fi(t,n,i,o,r[a+12],7,1804603682),o=Fi(o,t,n,i,r[a+13],12,-40341101),i=Fi(i,o,t,n,r[a+14],17,-1502002290),n=Fi(n,i,o,t,r[a+15],22,1236535329),t=Li(t,n,i,o,r[a+1],5,-165796510),o=Li(o,t,n,i,r[a+6],9,-1069501632),i=Li(i,o,t,n,r[a+11],14,643717713),n=Li(n,i,o,t,r[a],20,-373897302),t=Li(t,n,i,o,r[a+5],5,-701558691),o=Li(o,t,n,i,r[a+10],9,38016083),i=Li(i,o,t,n,r[a+15],14,-660478335),n=Li(n,i,o,t,r[a+4],20,-405537848),t=Li(t,n,i,o,r[a+9],5,568446438),o=Li(o,t,n,i,r[a+14],9,-1019803690),i=Li(i,o,t,n,r[a+3],14,-187363961),n=Li(n,i,o,t,r[a+8],20,1163531501),t=Li(t,n,i,o,r[a+13],5,-1444681467),o=Li(o,t,n,i,r[a+2],9,-51403784),i=Li(i,o,t,n,r[a+7],14,1735328473),n=Li(n,i,o,t,r[a+12],20,-1926607734),t=Ui(t,n,i,o,r[a+5],4,-378558),o=Ui(o,t,n,i,r[a+8],11,-2022574463),i=Ui(i,o,t,n,r[a+11],16,1839030562),n=Ui(n,i,o,t,r[a+14],23,-35309556),t=Ui(t,n,i,o,r[a+1],4,-1530992060),o=Ui(o,t,n,i,r[a+4],11,1272893353),i=Ui(i,o,t,n,r[a+7],16,-155497632),n=Ui(n,i,o,t,r[a+10],23,-1094730640),t=Ui(t,n,i,o,r[a+13],4,681279174),o=Ui(o,t,n,i,r[a],11,-358537222),i=Ui(i,o,t,n,r[a+3],16,-722521979),n=Ui(n,i,o,t,r[a+6],23,76029189),t=Ui(t,n,i,o,r[a+9],4,-640364487),o=Ui(o,t,n,i,r[a+12],11,-421815835),i=Ui(i,o,t,n,r[a+15],16,530742520),n=Ui(n,i,o,t,r[a+2],23,-995338651),t=ji(t,n,i,o,r[a],6,-198630844),o=ji(o,t,n,i,r[a+7],10,1126891415),i=ji(i,o,t,n,r[a+14],15,-1416354905),n=ji(n,i,o,t,r[a+5],21,-57434055),t=ji(t,n,i,o,r[a+12],6,1700485571),o=ji(o,t,n,i,r[a+3],10,-1894986606),i=ji(i,o,t,n,r[a+10],15,-1051523),n=ji(n,i,o,t,r[a+1],21,-2054922799),t=ji(t,n,i,o,r[a+8],6,1873313359),o=ji(o,t,n,i,r[a+15],10,-30611744),i=ji(i,o,t,n,r[a+6],15,-1560198380),n=ji(n,i,o,t,r[a+13],21,1309151649),t=ji(t,n,i,o,r[a+4],6,-145523070),o=ji(o,t,n,i,r[a+11],10,-1120210379),i=ji(i,o,t,n,r[a+2],15,718787259),n=ji(n,i,o,t,r[a+9],21,-343485551),t=jd(t,s),n=jd(n,u),i=jd(i,f),o=jd(o,c)}return[t,n,i,o]}function _me(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(Ez(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function jd(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function xme(r,e){return r<<e|r>>>32-e}function v8(r,e,t,n,i,o){return jd(xme(jd(jd(e,r),jd(n,o)),i),t)}function Fi(r,e,t,n,i,o,a){return v8(e&t|~e&n,r,e,i,o,a)}function Li(r,e,t,n,i,o,a){return v8(e&n|t&~n,r,e,i,o,a)}function Ui(r,e,t,n,i,o,a){return v8(e^t^n,r,e,i,o,a)}function ji(r,e,t,n,i,o,a){return v8(t^(e|~n),r,e,i,o,a)}var Iz,Tz=pe(()=>{h();p();Iz=mme});var bme,Az,Oz=pe(()=>{h();p();vA();Tz();bme=y8("v3",48,Iz),Az=bme});function wme(r,e,t){r=r||{};var n=r.random||(r.rng||c2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Ud(n)}var Dz,Rz=pe(()=>{h();p();hA();l2();Dz=wme});function Sme(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function _A(r,e){return r<<e|r>>>32-e}function Cme(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=_A(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=_A(D,5)+Sme(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=_A(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var Bz,Pz=pe(()=>{h();p();Bz=Cme});var Eme,Mz,Nz=pe(()=>{h();p();vA();Pz();Eme=y8("v5",80,Bz),Mz=Eme});var kz,qz=pe(()=>{h();p();kz="00000000-0000-0000-0000-000000000000"});function Ime(r){if(!Ld(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Fz,Lz=pe(()=>{h();p();d2();Fz=Ime});var Uz={};g0(Uz,{NIL:()=>kz,parse:()=>m8,stringify:()=>Ud,v1:()=>Sz,v3:()=>Az,v4:()=>Dz,v5:()=>Mz,validate:()=>Ld,version:()=>Fz});var jz=pe(()=>{h();p();Cz();Oz();Rz();Nz();qz();Lz();d2();l2();yA()});var Hz=T(sm=>{h();p();Object.defineProperty(sm,"__esModule",{value:!0});var ur=c8(),Tme=(jz(),m0(Uz)),h2={CARDANO_UTXO:new ur.RegistryType("cardano-utxo",2201),CARDANO_SIGN_REQUEST:new ur.RegistryType("cardano-sign-request",2202),CARDANO_SIGNATURE:new ur.RegistryType("cardano-signature",2203),CARDANO_CERT_KEY:new ur.RegistryType("cardano-cert-key",2204)},{decodeToDataItem:Ame}=ur.extend,Ws;(function(r){r[r.transactionHash=1]="transactionHash",r[r.index=2]="index",r[r.amount=3]="amount",r[r.keyPath=4]="keyPath",r[r.address=5]="address"})(Ws||(Ws={}));var Bf=class extends ur.RegistryItem{constructor(e){super(),this.getRegistryType=()=>h2.CARDANO_UTXO,this.getTransactionHash=()=>this.transactionHash,this.getIndex=()=>this.index,this.getKeyPath=()=>this.keyPath.getPath(),this.getAmount=()=>this.amount,this.getAddress=()=>this.address,this.toDataItem=()=>{let t={};this.transactionHash&&(t[Ws.transactionHash]=this.transactionHash),t[Ws.index]=this.index,t[Ws.amount]=this.amount;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),t[Ws.keyPath]=n,t[Ws.address]=this.address,new ur.DataItem(t)},this.transactionHash=e.transactionHash,this.index=e.index,this.amount=e.amount,this.keyPath=e.keyPath,this.address=e.address}static constructCardanoUtxo({transactionHash:e,index:t,amount:n,xfp:i,hdPath:o,address:a}){let s=o.replace(/[m|M]\//,"").split("/"),u=new ur.CryptoKeypath(s.map(f=>{let c=parseInt(f.replace("'","")),l=f.endsWith("'");return new ur.PathComponent({index:c,hardened:l})}),m.Buffer.from(i,"hex"));return new Bf({transactionHash:m.Buffer.from(e,"hex"),index:t,amount:n,keyPath:u,address:a})}};Bf.fromDataItem=r=>{let e=r.getData(),t=e[Ws.transactionHash],n=e[Ws.index],i=ur.CryptoKeypath.fromDataItem(e[Ws.keyPath]);return new Bf({transactionHash:t,index:n,amount:e[Ws.amount],keyPath:i,address:e[Ws.address]})},Bf.fromCBOR=r=>{let e=Ame(r);return Bf.fromDataItem(e)};var{decodeToDataItem:Ome}=ur.extend,um;(function(r){r[r.keyHash=1]="keyHash",r[r.keyPath=2]="keyPath"})(um||(um={}));var zu=class extends ur.RegistryItem{constructor(e){super(),this.getRegistryType=()=>h2.CARDANO_CERT_KEY,this.getKeyHash=()=>this.keyHash,this.getKeyPath=()=>this.keyPath.getPath(),this.toDataItem=()=>{let t={};t[um.keyHash]=this.keyHash;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),t[um.keyPath]=n,new ur.DataItem(t)},this.keyHash=e.keyHash,this.keyPath=e.keyPath}static constructCardanoCertKey({keyHash:e,xfp:t,keyPath:n}){let i=n.replace(/[m|M]\//,"").split("/"),o=new ur.CryptoKeypath(i.map(a=>{let s=parseInt(a.replace("'","")),u=a.endsWith("'");return new ur.PathComponent({index:s,hardened:u})}),m.Buffer.from(t,"hex"));return new zu({keyHash:m.Buffer.from(e,"hex"),keyPath:o})}};zu.fromDataItem=r=>{let e=r.getData(),t=e[um.keyHash],n=ur.CryptoKeypath.fromDataItem(e[um.keyPath]);return new zu({keyHash:t,keyPath:n})},zu.fromCBOR=r=>{let e=Ome(r);return zu.fromDataItem(e)};var{decodeToDataItem:Dme,RegistryTypes:Rme}=ur.extend,Wo;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.utxos=3]="utxos",r[r.extraSigners=4]="extraSigners",r[r.origin=5]="origin"})(Wo||(Wo={}));var Lc=class extends ur.RegistryItem{constructor(e){super(),this.getRegistryType=()=>h2.CARDANO_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getUtxos=()=>this.utxos,this.getAdditionalSigners=()=>this.extraSigners,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return this.requestId&&(t[Wo.requestId]=new ur.DataItem(this.requestId,Rme.UUID.getTag())),t[Wo.signData]=this.signData,t[Wo.utxos]=this.utxos.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),t[Wo.extraSigners]=this.extraSigners.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.origin&&(t[Wo.origin]=this.origin),new ur.DataItem(t)},this.requestId=e.requestId,this.signData=e.signData,this.utxos=e.utxos,this.extraSigners=e.extraSigners,this.origin=e.origin}static constructCardanoSignRequest(e,t,n,i,o){let a=t.map(u=>Bf.constructCardanoUtxo(u)),s=n.map(u=>zu.constructCardanoCertKey(u));return new Lc({requestId:i?m.Buffer.from(Tme.parse(i)):void 0,signData:e,utxos:a,extraSigners:s,origin:o||void 0})}};Lc.fromDataItem=r=>{let e=r.getData(),t=e[Wo.signData],n=e[Wo.utxos].map(a=>Bf.fromDataItem(a)),i=e[Wo.extraSigners].map(a=>zu.fromDataItem(a)),o=e[Wo.requestId]?e[Wo.requestId].getData():void 0;return new Lc({requestId:o,signData:t,utxos:n,extraSigners:i,origin:e[Wo.origin]?e[Wo.origin]:void 0})},Lc.fromCBOR=r=>{let e=Dme(r);return Lc.fromDataItem(e)};var{RegistryTypes:Bme,decodeToDataItem:Pme}=ur.extend,l1;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(l1||(l1={}));var d1=class extends ur.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>h2.CARDANO_SIGNATURE,this.getRequestId=()=>this.requestId,this.getWitnessSet=()=>this.witnessSet,this.toDataItem=()=>{let n={};return this.requestId&&(n[l1.requestId]=new ur.DataItem(this.requestId,Bme.UUID.getTag())),n[l1.signature]=this.witnessSet,new ur.DataItem(n)},this.witnessSet=e,this.requestId=t}};d1.fromDataItem=r=>{let e=r.getData(),t=e[l1.signature],n=e[l1.requestId]?e[l1.requestId].getData():void 0;return new d1(t,n)},d1.fromCBOR=r=>{let e=Pme(r);return d1.fromDataItem(e)},ur.patchTags(Object.values(h2).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(ur).forEach(function(r){r!=="default"&&Object.defineProperty(sm,r,{enumerable:!0,get:function(){return ur[r]}})}),sm.CardanoCertKey=zu,sm.CardanoSignRequest=Lc,sm.CardanoSignature=d1});var Vz=T((btt,Kz)=>{h();p();Kz.exports=Hz()});var Yz=T(_8=>{h();p();Object.defineProperty(_8,"__esModule",{value:!0});_8.KeystoneCardanoSDK=void 0;var zz=Vz(),Gz=En(),Mme=Uo(),xA=class{parseSignature(e){if(e.type!==Mme.URType.CardanoSignature)throw new Error("type not match");let t=zz.CardanoSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:m.Buffer.isBuffer(n)?(0,Gz.uuidStringify)(n):"",witnessSet:(0,Gz.toHex)(t.getWitnessSet())}}generateSignRequest({signData:e,utxos:t,extraSigners:n,requestId:i,origin:o}){return zz.CardanoSignRequest.constructCardanoSignRequest(e,t,n,i,o).toUR()}};_8.KeystoneCardanoSDK=xA});function p2(){if(!x8&&(x8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x8))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x8(Nme)}var x8,Nme,bA=pe(()=>{h();p();Nme=new Uint8Array(16)});var Wz,Xz=pe(()=>{h();p();Wz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function kme(r){return typeof r=="string"&&Wz.test(r)}var Hd,g2=pe(()=>{h();p();Xz();Hd=kme});function qme(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Vn[r[e+0]]+Vn[r[e+1]]+Vn[r[e+2]]+Vn[r[e+3]]+"-"+Vn[r[e+4]]+Vn[r[e+5]]+"-"+Vn[r[e+6]]+Vn[r[e+7]]+"-"+Vn[r[e+8]]+Vn[r[e+9]]+"-"+Vn[r[e+10]]+Vn[r[e+11]]+Vn[r[e+12]]+Vn[r[e+13]]+Vn[r[e+14]]+Vn[r[e+15]]).toLowerCase();if(!Hd(t))throw TypeError("Stringified UUID is invalid");return t}var Vn,b8,Kd,m2=pe(()=>{h();p();g2();Vn=[];for(b8=0;b8<256;++b8)Vn.push((b8+256).toString(16).substr(1));Kd=qme});function Fme(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||Jz,a=r.clockseq!==void 0?r.clockseq:wA;if(o==null||a==null){var s=r.random||(r.rng||p2)();o==null&&(o=Jz=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=wA=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:CA+1,c=u-SA+(f-CA)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>SA)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");SA=u,CA=f,wA=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||Kd(i)}var Jz,wA,SA,CA,$z,Zz=pe(()=>{h();p();bA();m2();SA=0,CA=0;$z=Fme});function Lme(r){if(!Hd(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var w8,EA=pe(()=>{h();p();g2();w8=Lme});function Ume(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function S8(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=Ume(i)),typeof o=="string"&&(o=w8(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return Kd(u)}try{n.name=r}catch{}return n.DNS=jme,n.URL=Hme,n}var jme,Hme,IA=pe(()=>{h();p();m2();EA();jme="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Hme="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Kme(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return Vme(zme(Gme(r),r.length*8))}function Vme(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function Qz(r){return(r+64>>>9<<4)+14+1}function zme(r,e){r[e>>5]|=128<<e%32,r[Qz(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=Hi(t,n,i,o,r[a],7,-680876936),o=Hi(o,t,n,i,r[a+1],12,-389564586),i=Hi(i,o,t,n,r[a+2],17,606105819),n=Hi(n,i,o,t,r[a+3],22,-1044525330),t=Hi(t,n,i,o,r[a+4],7,-176418897),o=Hi(o,t,n,i,r[a+5],12,1200080426),i=Hi(i,o,t,n,r[a+6],17,-1473231341),n=Hi(n,i,o,t,r[a+7],22,-45705983),t=Hi(t,n,i,o,r[a+8],7,1770035416),o=Hi(o,t,n,i,r[a+9],12,-1958414417),i=Hi(i,o,t,n,r[a+10],17,-42063),n=Hi(n,i,o,t,r[a+11],22,-1990404162),t=Hi(t,n,i,o,r[a+12],7,1804603682),o=Hi(o,t,n,i,r[a+13],12,-40341101),i=Hi(i,o,t,n,r[a+14],17,-1502002290),n=Hi(n,i,o,t,r[a+15],22,1236535329),t=Ki(t,n,i,o,r[a+1],5,-165796510),o=Ki(o,t,n,i,r[a+6],9,-1069501632),i=Ki(i,o,t,n,r[a+11],14,643717713),n=Ki(n,i,o,t,r[a],20,-373897302),t=Ki(t,n,i,o,r[a+5],5,-701558691),o=Ki(o,t,n,i,r[a+10],9,38016083),i=Ki(i,o,t,n,r[a+15],14,-660478335),n=Ki(n,i,o,t,r[a+4],20,-405537848),t=Ki(t,n,i,o,r[a+9],5,568446438),o=Ki(o,t,n,i,r[a+14],9,-1019803690),i=Ki(i,o,t,n,r[a+3],14,-187363961),n=Ki(n,i,o,t,r[a+8],20,1163531501),t=Ki(t,n,i,o,r[a+13],5,-1444681467),o=Ki(o,t,n,i,r[a+2],9,-51403784),i=Ki(i,o,t,n,r[a+7],14,1735328473),n=Ki(n,i,o,t,r[a+12],20,-1926607734),t=Vi(t,n,i,o,r[a+5],4,-378558),o=Vi(o,t,n,i,r[a+8],11,-2022574463),i=Vi(i,o,t,n,r[a+11],16,1839030562),n=Vi(n,i,o,t,r[a+14],23,-35309556),t=Vi(t,n,i,o,r[a+1],4,-1530992060),o=Vi(o,t,n,i,r[a+4],11,1272893353),i=Vi(i,o,t,n,r[a+7],16,-155497632),n=Vi(n,i,o,t,r[a+10],23,-1094730640),t=Vi(t,n,i,o,r[a+13],4,681279174),o=Vi(o,t,n,i,r[a],11,-358537222),i=Vi(i,o,t,n,r[a+3],16,-722521979),n=Vi(n,i,o,t,r[a+6],23,76029189),t=Vi(t,n,i,o,r[a+9],4,-640364487),o=Vi(o,t,n,i,r[a+12],11,-421815835),i=Vi(i,o,t,n,r[a+15],16,530742520),n=Vi(n,i,o,t,r[a+2],23,-995338651),t=zi(t,n,i,o,r[a],6,-198630844),o=zi(o,t,n,i,r[a+7],10,1126891415),i=zi(i,o,t,n,r[a+14],15,-1416354905),n=zi(n,i,o,t,r[a+5],21,-57434055),t=zi(t,n,i,o,r[a+12],6,1700485571),o=zi(o,t,n,i,r[a+3],10,-1894986606),i=zi(i,o,t,n,r[a+10],15,-1051523),n=zi(n,i,o,t,r[a+1],21,-2054922799),t=zi(t,n,i,o,r[a+8],6,1873313359),o=zi(o,t,n,i,r[a+15],10,-30611744),i=zi(i,o,t,n,r[a+6],15,-1560198380),n=zi(n,i,o,t,r[a+13],21,1309151649),t=zi(t,n,i,o,r[a+4],6,-145523070),o=zi(o,t,n,i,r[a+11],10,-1120210379),i=zi(i,o,t,n,r[a+2],15,718787259),n=zi(n,i,o,t,r[a+9],21,-343485551),t=Vd(t,s),n=Vd(n,u),i=Vd(i,f),o=Vd(o,c)}return[t,n,i,o]}function Gme(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(Qz(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function Vd(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function Yme(r,e){return r<<e|r>>>32-e}function C8(r,e,t,n,i,o){return Vd(Yme(Vd(Vd(e,r),Vd(n,o)),i),t)}function Hi(r,e,t,n,i,o,a){return C8(e&t|~e&n,r,e,i,o,a)}function Ki(r,e,t,n,i,o,a){return C8(e&n|t&~n,r,e,i,o,a)}function Vi(r,e,t,n,i,o,a){return C8(e^t^n,r,e,i,o,a)}function zi(r,e,t,n,i,o,a){return C8(t^(e|~n),r,e,i,o,a)}var eG,tG=pe(()=>{h();p();eG=Kme});var Wme,rG,nG=pe(()=>{h();p();IA();tG();Wme=S8("v3",48,eG),rG=Wme});function Xme(r,e,t){r=r||{};var n=r.random||(r.rng||p2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return Kd(n)}var iG,oG=pe(()=>{h();p();bA();m2();iG=Xme});function Jme(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function TA(r,e){return r<<e|r>>>32-e}function $me(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=TA(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=TA(D,5)+Jme(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=TA(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var aG,sG=pe(()=>{h();p();aG=$me});var Zme,uG,fG=pe(()=>{h();p();IA();sG();Zme=S8("v5",80,aG),uG=Zme});var cG,dG=pe(()=>{h();p();cG="00000000-0000-0000-0000-000000000000"});function Qme(r){if(!Hd(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var lG,hG=pe(()=>{h();p();g2();lG=Qme});var pG={};g0(pG,{NIL:()=>cG,parse:()=>w8,stringify:()=>Kd,v1:()=>$z,v3:()=>rG,v4:()=>iG,v5:()=>uG,validate:()=>Hd,version:()=>lG});var gG=pe(()=>{h();p();Zz();nG();oG();fG();dG();hG();g2();m2();EA()});var mG=T(Pf=>{h();p();Object.defineProperty(Pf,"__esModule",{value:!0});var zn=uf(),eye=(gG(),m0(pG)),I8={ARWEAVE_CRYPTO_ACCOUNT:new zn.RegistryType("arweave-crypto-account",5101),ARWEAVE_SIGN_REQUEST:new zn.RegistryType("arweave-sign-request",5102),ARWEAVE_SIGNATURE:new zn.RegistryType("arweave-signature",5103)},{decodeToDataItem:tye,RegistryTypes:rye}=zn.extend,fm,E8,on;(fm=Pf.SignType||(Pf.SignType={}))[fm.Transaction=1]="Transaction",fm[fm.DataItem=2]="DataItem",fm[fm.Message=3]="Message",(E8=Pf.SaltLen||(Pf.SaltLen={}))[E8.Zero=0]="Zero",E8[E8.Digest=32]="Digest",function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.requestId=2]="requestId",r[r.signData=3]="signData",r[r.signType=4]="signType",r[r.saltLen=5]="saltLen",r[r.origin=6]="origin",r[r.account=7]="account"}(on||(on={}));var Uc=class extends zn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>I8.ARWEAVE_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getSignType=()=>this.signType,this.getSaltLen=()=>this.saltLen,this.getOrigin=()=>this.origin,this.getAccount=()=>this.account,this.getMasterFingerprint=()=>this.masterFingerprint,this.toDataItem=()=>{let t={};return this.requestId&&(t[on.requestId]=new zn.DataItem(this.requestId,rye.UUID.getTag())),this.account&&(t[on.account]=this.account),this.origin&&(t[on.origin]=this.origin),t[on.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),t[on.signData]=this.signData,t[on.signType]=this.signType,t[on.saltLen]=this.saltLen,new zn.DataItem(t)},this.masterFingerprint=e.masterFingerprint,this.requestId=e.requestId,this.signData=e.signData,this.signType=e.signType,this.saltLen=e.saltLen,this.origin=e.origin,this.account=e.account}static constructArweaveRequest(e,t,n,i,o,a,s){return new Uc({masterFingerprint:m.Buffer.from(t,"hex"),requestId:o?m.Buffer.from(eye.parse(o)):void 0,signData:e,signType:n,saltLen:i,account:a,origin:s})}};Uc.fromDataItem=r=>{let e=r.getData(),t=e[on.signData],n=e[on.account]?e[on.account]:void 0,i=e[on.requestId]?e[on.requestId].getData():void 0,o=e[on.origin]?e[on.origin]:void 0,a=e[on.signType],s=e[on.saltLen],u=m.Buffer.alloc(4);return u.writeUInt32BE(e[on.masterFingerprint],0),new Uc({masterFingerprint:u,requestId:i,signData:t,signType:a,saltLen:s,origin:o,account:n})},Uc.fromCBOR=r=>{let e=tye(r);return Uc.fromDataItem(e)};var{RegistryTypes:nye,decodeToDataItem:iye}=zn.extend,g1;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(g1||(g1={}));var p1=class extends zn.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>I8.ARWEAVE_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[g1.requestId]=new zn.DataItem(this.requestId,nye.UUID.getTag())),n[g1.signature]=this.signature,new zn.DataItem(n)},this.signature=e,this.requestId=t}};p1.fromDataItem=r=>{let e=r.getData(),t=e[g1.signature],n=e[g1.requestId]?e[g1.requestId].getData():void 0;return new p1(t,n)},p1.fromCBOR=r=>{let e=iye(r);return p1.fromDataItem(e)};var{decodeToDataItem:oye}=zn.extend,jc;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keyData=2]="keyData",r[r.device=3]="device"})(jc||(jc={}));var h1=class extends zn.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keyData=t,this.device=n,this.getRegistryType=()=>I8.ARWEAVE_CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeyData=()=>this.keyData,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return i[jc.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),i[jc.keyData]=this.keyData,this.device&&(i[jc.device]=this.device),new zn.DataItem(i)}}};h1.fromDataItem=r=>{let e=r.getData(),t=e[jc.keyData],n=m.Buffer.alloc(4);return n.writeUInt32BE(e[jc.masterFingerprint],0),new h1(n,t,e[jc.device]?e[jc.device]:void 0)},h1.fromCBOR=r=>{let e=oye(r);return h1.fromDataItem(e)},zn.patchTags(Object.values(I8).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(zn).forEach(function(r){r!=="default"&&Object.defineProperty(Pf,r,{enumerable:!0,get:function(){return zn[r]}})}),Pf.ArweaveCryptoAccount=h1,Pf.ArweaveSignRequest=Uc,Pf.ArweaveSignature=p1});var vG=T((Krt,yG)=>{h();p();yG.exports=mG()});var xG=T(T8=>{h();p();Object.defineProperty(T8,"__esModule",{value:!0});T8.KeystoneArweaveSDK=void 0;var zd=En(),_G=Uo(),y2=vG(),v2=class{parseAccount(e){if(e.type!==_G.URType.ArweaveCryptoAccount)throw new Error("type not match");let t=y2.ArweaveCryptoAccount.fromCBOR(e.cbor);return{masterFingerprint:(0,zd.toHex)(t.getMasterFingerprint()),keyData:(0,zd.toHex)(t.getKeyData()),device:t.getDevice()}}parseSignature(e){if(e.type!==_G.URType.ArweaveSignature)throw new Error("type not match");let t=y2.ArweaveSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:(0,zd.uuidStringify)(n),signature:(0,zd.toHex)(t.getSignature())}}generateSignRequest({requestId:e,signData:t,signType:n,saltLen:i,masterFingerprint:o,account:a,origin:s}){return new y2.ArweaveSignRequest({requestId:(0,zd.uuidParse)(e),signData:(0,zd.toBuffer)(t),signType:n,saltLen:i,masterFingerprint:(0,zd.toBuffer)(o),account:a!==void 0?(0,zd.toBuffer)(a):void 0,origin:s}).toUR()}};v2.SignType=y2.SignType;v2.SaltLen=y2.SaltLen;T8.KeystoneArweaveSDK=v2});var O8=T(A8=>{h();p();Object.defineProperty(A8,"__esModule",{value:!0});A8.DataItem=void 0;var AA=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};A8.DataItem=AA});var wG=T((bG,D8)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof D8<"u"&&D8.exports?D8.exports=e():r.CBOR=e()})(bG,function(){let{DataItem:r}=O8();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var v="",w=0;w<this.$hex.length;w+=2)v+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(v)}if(d==="latin"){for(var v=[],w=0;w<this.$hex.length;w+=2)v.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,v)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var v="",w=0;w<d.length;w++){var I=d.charCodeAt(w).toString(16);I.length===1&&(I="0"+I),v+=I}return new t(v)},t.fromUtf8String=function(d){for(var v=encodeURIComponent(d),w="",I=0;I<v.length;I++)if(v.charAt(I)==="%")w+=v.substring(I+1,I+3),I+=2;else{var x=v.charCodeAt(I).toString(16);x.length<2&&(x="0"+x),w+=x}return new t(w)};var n=[],i={},o=function(d){return function(){throw new Error(d+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),v=(d&32767)>>10,w=d&1023,I=d&32768;if(v===31)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-25)*(1024+w):Math.pow(2,-24)*w;return I?-x:x},readFloat32:function(){var d=this.readUint32(),v=(d&2147483647)>>23,w=d&8388607,I=d&2147483648;if(v===255)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-23-127)*(8388608+w):Math.pow(2,-23-126)*w;return I?-x:x},readFloat64:function(){var d=this.readUint32(),v=this.readUint32(),w=d>>20&2047,I=(d&1048575)*4294967296+v,x=d&2147483648;if(w===2047)return I===0?x?-1/0:1/0:NaN;var B=w?Math.pow(2,w-52-1023)*(4503599627370496+I):Math.pow(2,-52-1022)*I;return x?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function u(d){var v=d.readByte(),w=v>>5,I=v&31;return{type:w,value:I}}function f(d,v){var w=d.value;if(w<24)return w;if(w==24)return v.readByte();if(w==25)return v.readUint16();if(w==26)return v.readUint32();if(w==27)return v.readUint64();if(w==31)return null;o("Additional info: "+w)()}function c(d,v,w){w.writeByte(d<<5|v)}function l(d,v,w){var I=d<<5;v<24?w.writeByte(I|v):v<256?(w.writeByte(I|24),w.writeByte(v)):v<65536?(w.writeByte(I|25),w.writeUint16(v)):v<4294967296?(w.writeByte(I|26),w.writeUint32(v)):(w.writeByte(I|27),w.writeUint64(v))}var g=new Error;function y(d){var v=u(d);switch(v.type){case 0:return f(v,d);case 1:return-1-f(v,d);case 2:return d.readChunk(f(v,d));case 3:var w=d.readChunk(f(v,d));return w.toString("utf-8");case 4:case 5:var I=f(v,d),A=[];if(I!==null){v.type===5&&(I*=2);for(var x=0;x<I;x++)A[x]=y(d)}else for(var B;(B=y(d))!==g;)A.push(B);if(v.type===5){for(var E={},x=0;x<A.length;x+=2)E[A[x]]=A[x+1];return E}else return A;case 6:var _=f(v,d),C=i[_],A=y(d);return C?C(A):A;case 7:if(v.value===25)return d.readFloat16();if(v.value===26)return d.readFloat32();if(v.value===27)return d.readFloat64();switch(f(v,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+v.value)}default:throw new Error("Unsupported header: "+JSON.stringify(v))}throw new Error("not implemented yet")}function b(d,v){for(var w=0;w<n.length;w++){var I=n[w].fn(d);if(I!==void 0)return l(6,n[w].tag,v),b(I,v)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,v);else if(d===!0)l(7,21,v);else if(d===null)l(7,22,v);else if(d===void 0)l(7,23,v);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,v):l(0,d,v):(c(7,27,v),v.writeFloat64(d));else if(typeof d=="string")v.writeString(d,function(B){l(3,B,v)});else if(v.canWriteBinary(d))v.writeBinary(d,function(B){l(2,B,v)});else if(typeof d=="object")if(k.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,v);for(var w=0;w<d.length;w++)b(d[w],v)}else{var x=Object.keys(d);l(5,x.length,v);for(var w=0;w<x.length;w++){let E=parseInt(x[w]);isNaN(E)?(b(x[w],v),b(d[x[w]],v)):(b(E,v),b(d[x[w]],v))}}else throw new Error("CBOR encoding not supported: "+d)}var D=[],M=[],k={config:{useToJSON:!0},addWriter:function(d,v){typeof d=="string"?M.push(function(w){if(d===w)return v(w)}):M.push(d)},addReader:function(d,v){typeof d=="string"?D.push(function(w,I){if(d===I)return v(w,I)}):D.push(d)},encode:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return b(d,x),x.result()}throw new Error("Unsupported output format: "+v)},encodeDataItem:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return d.getTag()!==void 0?(b(d,x),x.result()):(b(d.getData(),x),x.result())}throw new Error("Unsupported output format: "+v)},decode:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x)return y(x)}throw new Error("Unsupported input format: "+v)},decodeToDataItem:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x){let B=y(x);return B instanceof r?B:new r(B)}}throw new Error("Unsupported input format: "+v)},addSemanticEncode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:v}),this},addSemanticDecode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=v,this}};function N(d){this.buffer=d,this.pos=0}N.prototype=Object.create(a.prototype),N.prototype.peekByte=function(){return this.buffer[this.pos]},N.prototype.readByte=function(){return this.buffer[this.pos++]},N.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},N.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},N.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},N.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},N.prototype.readChunk=function(d){var v=m.Buffer.alloc(d);return this.buffer.copy(v,0,this.pos,this.pos+=d),v};function K(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}K.prototype=Object.create(s.prototype),K.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},K.prototype.writeFloat32=function(d){var v=m.Buffer.alloc(4);v.writeFloatBE(d,0),this.writeBuffer(v)},K.prototype.writeFloat64=function(d){var v=m.Buffer.alloc(8);v.writeDoubleBE(d,0),this.writeBuffer(v)},K.prototype.writeString=function(d,v){var w=m.Buffer.from(d,"utf-8");v(w.length),this.writeBuffer(w)},K.prototype.canWriteBinary=function(d){return d instanceof m.Buffer},K.prototype.writeBinary=function(d,v){v(d.length),this.writeBuffer(d)},K.prototype.writeBuffer=function(d){if(!(d instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},K.prototype.result=function(){for(var d=m.Buffer.alloc(this.byteLength),v=0,w=0;w<this.completeBuffers.length;w++){var I=this.completeBuffers[w];I.copy(d,v,0,I.length),v+=I.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,v,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof m.Buffer=="function"&&(k.addReader(function(d,v){if(m.Buffer.isBuffer(d))return new N(d);if(v==="hex"||v==="base64"){var w=m.Buffer.from(d,v);return new N(w)}}),k.addWriter(function(d){if(!d||d==="buffer")return new K;if(d==="hex"||d==="base64")return new K(d)}));function X(d){this.hex=d,this.pos=0}X.prototype=Object.create(a.prototype),X.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},X.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},X.prototype.readChunk=function(d){var v=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof m.Buffer=="function"?m.Buffer.from(v,"hex"):new t(v)};function q(d){this.$hex="",this.finalFormat=d||"hex"}return q.prototype=Object.create(s.prototype),q.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var v=d.toString(16);v.length==1&&(v="0"+v),this.$hex+=v},q.prototype.canWriteBinary=function(d){return d instanceof t||typeof m.Buffer=="function"&&d instanceof m.Buffer},q.prototype.writeBinary=function(d,v){if(d instanceof t)v(d.length()),this.$hex+=d.$hex;else if(typeof m.Buffer=="function"&&d instanceof m.Buffer)v(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(d,v){var w=t.fromUtf8String(d);v(w.length()),this.$hex+=w.$hex},k.addReader(function(d,v){if(d instanceof t||d.$hex)return new X(d.$hex);if(v==="hex")return new X(d)}),k.addWriter(function(d){if(d==="hex")return new q}),k}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var Gn=T(Gi=>{h();p();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.DataItem=Gi.addWriter=Gi.addReader=Gi.addSemanticEncode=Gi.addSemanticDecode=Gi.decodeToDataItem=Gi.encodeDataItem=void 0;var cm=wG();Object.defineProperty(Gi,"encodeDataItem",{enumerable:!0,get:function(){return cm.encodeDataItem}});Object.defineProperty(Gi,"decodeToDataItem",{enumerable:!0,get:function(){return cm.decodeToDataItem}});Object.defineProperty(Gi,"addSemanticDecode",{enumerable:!0,get:function(){return cm.addSemanticDecode}});Object.defineProperty(Gi,"addSemanticEncode",{enumerable:!0,get:function(){return cm.addSemanticEncode}});Object.defineProperty(Gi,"addReader",{enumerable:!0,get:function(){return cm.addReader}});Object.defineProperty(Gi,"addWriter",{enumerable:!0,get:function(){return cm.addWriter}});var aye=O8();Object.defineProperty(Gi,"DataItem",{enumerable:!0,get:function(){return aye.DataItem}})});var P8=T(B8=>{h();p();Object.defineProperty(B8,"__esModule",{value:!0});B8.patchTags=void 0;var R8=Gn(),SG=[],sye=r=>{r.forEach(e=>{SG.find(t=>t===e)||(R8.addSemanticEncode(e,t=>{if(t instanceof R8.DataItem&&t.getTag()===e)return t.getData()}),R8.addSemanticDecode(e,t=>new R8.DataItem(t,e)),SG.push(e))})};B8.patchTags=sye});var Yn=T(dm=>{h();p();Object.defineProperty(dm,"__esModule",{value:!0});dm.RegistryTypes=dm.RegistryType=void 0;var Io=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};dm.RegistryType=Io;dm.RegistryTypes={UUID:new Io("uuid",37),BYTES:new Io("bytes",void 0),CRYPTO_HDKEY:new Io("crypto-hdkey",303),CRYPTO_KEYPATH:new Io("crypto-keypath",304),CRYPTO_COIN_INFO:new Io("crypto-coin-info",305),CRYPTO_ECKEY:new Io("crypto-eckey",306),CRYPTO_OUTPUT:new Io("crypto-output",308),CRYPTO_PSBT:new Io("crypto-psbt",310),CRYPTO_ACCOUNT:new Io("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Io("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Io("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Io("key-derivation-call",1301)}});var M8=T(m1=>{h();p();Object.defineProperty(m1,"__esModule",{value:!0});m1.ScriptExpressions=m1.ScriptExpression=void 0;var Xo=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};m1.ScriptExpression=Xo;Xo.fromTag=r=>Object.values(m1.ScriptExpressions).find(t=>t.getTag()===r);m1.ScriptExpressions={SCRIPT_HASH:new Xo(400,"sh"),WITNESS_SCRIPT_HASH:new Xo(401,"wsh"),PUBLIC_KEY:new Xo(402,"pk"),PUBLIC_KEY_HASH:new Xo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Xo(404,"wpkh"),COMBO:new Xo(405,"combo"),MULTISIG:new Xo(406,"multi"),SORTED_MULTISIG:new Xo(407,"sortedmulti"),ADDRESS:new Xo(307,"addr"),RAW_SCRIPT:new Xo(408,"raw")}});var OA=T(CG=>{h();p();Object.defineProperty(CG,"__esModule",{value:!0});var uye=P8(),fye=Yn(),cye=M8(),dye=Object.values(fye.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),lye=Object.values(cye.ScriptExpressions).map(r=>r.getTag());uye.patchTags(dye.concat(lye))});var To=T(N8=>{h();p();Object.defineProperty(N8,"__esModule",{value:!0});N8.RegistryItem=void 0;var EG=pn(),hye=Gn(),DA=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return hye.encodeDataItem(this.toDataItem())},this.toUR=()=>new EG.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new EG.UREncoder(i,e,t,n)}}};N8.RegistryItem=DA});var k8=T(Mf=>{h();p();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.CryptoCoinInfo=Mf.Network=Mf.Type=void 0;var IG=Gn(),pye=To(),gye=Yn(),lm;(function(r){r.type="1",r.network="2"})(lm||(lm={}));var TG;(function(r){r[r.bitcoin=0]="bitcoin"})(TG=Mf.Type||(Mf.Type={}));var AG;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(AG=Mf.Network||(Mf.Network={}));var y1=class extends pye.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>gye.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||TG.bitcoin,this.getNetwork=()=>this.network||AG.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[lm.type]=this.type),this.network&&(n[lm.network]=this.network),new IG.DataItem(n)}}};Mf.CryptoCoinInfo=y1;y1.fromDataItem=r=>{let e=r.getData(),t=e[lm.type],n=e[lm.network];return new y1(t,n)};y1.fromCBOR=r=>{let e=IG.decodeToDataItem(r);return y1.fromDataItem(e)}});var F8=T(q8=>{h();p();Object.defineProperty(q8,"__esModule",{value:!0});q8.PathComponent=void 0;var hm=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&hm.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};q8.PathComponent=hm;hm.HARDENED_BIT=2147483648});var _2=T(L8=>{h();p();Object.defineProperty(L8,"__esModule",{value:!0});L8.CryptoKeypath=void 0;var DG=Gn(),OG=F8(),mye=To(),yye=Yn(),Gd;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(Gd||(Gd={}));var v1=class extends mye.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>yye.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(a.isHardened())}),i[Gd.components]=o,this.sourceFingerprint&&(i[Gd.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Gd.depth]=this.depth),new DG.DataItem(i)}}};L8.CryptoKeypath=v1;v1.fromDataItem=r=>{let e=r.getData(),t=[],n=e[Gd.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new OG.PathComponent({index:f,hardened:u})):t.push(new OG.PathComponent({hardened:u}))}let i=e[Gd.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[Gd.depth];return new v1(t,o,a)};v1.fromCBOR=r=>{let e=DG.decodeToDataItem(r);return v1.fromDataItem(e)}});var pm=T(U8=>{h();p();Object.defineProperty(U8,"__esModule",{value:!0});U8.CryptoHDKey=void 0;var vye=wp(),_ye=k8(),RG=_2(),BG=Gn(),xye=To(),bye=Yn(),fr;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(fr||(fr={}));var _1=class extends xye.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var t,n,i;let o,a,s=0,u=m.Buffer.alloc(4).fill(0);if(this.isMaster())o=m.Buffer.from("0488ADE4","hex"),a=0,s=0;else{a=((t=this.getOrigin())===null||t===void 0?void 0:t.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),b=y[y.length-1];b&&(s=b.isHardened()?b.getIndex()+2147483648:b.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?o=m.Buffer.from("0488ADE4","hex"):o=m.Buffer.from("0488B21E","hex")}let f=m.Buffer.alloc(1);f.writeUInt8(a,0);let c=m.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return vye.encode(m.Buffer.concat([o,f,u,c,l,g]))},this.getRegistryType=()=>bye.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var t,n,i,o,a,s,u;let f="";return this.getOrigin()&&((t=this.getOrigin())===null||t===void 0?void 0:t.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(o=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||o===void 0?void 0:o.toString("hex")}/${(a=this.getOrigin())===null||a===void 0?void 0:a.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[fr.is_master]=!0,t[fr.key_data]=this.key,t[fr.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[fr.is_private]=this.privateKey),t[fr.key_data]=this.key,this.chainCode&&(t[fr.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[fr.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[fr.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[fr.children]=n}this.parentFingerprint&&(t[fr.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[fr.name]=this.name),this.note!==void 0&&(t[fr.note]=this.note)}return new BG.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};U8.CryptoHDKey=_1;_1.fromDataItem=r=>{let e=r.getData(),t=!!e[fr.is_master],n=e[fr.is_private],i=e[fr.key_data],o=e[fr.chain_code],a=e[fr.use_info]?_ye.CryptoCoinInfo.fromDataItem(e[fr.use_info]):void 0,s=e[fr.origin]?RG.CryptoKeypath.fromDataItem(e[fr.origin]):void 0,u=e[fr.children]?RG.CryptoKeypath.fromDataItem(e[fr.children]):void 0,f=e[fr.parent_fingerprint],c;f&&(c=m.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[fr.name],g=e[fr.note];return new _1({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:c,name:l,note:g})};_1.fromCBOR=r=>{let e=BG.decodeToDataItem(r);return _1.fromDataItem(e)}});var x2=T(j8=>{h();p();Object.defineProperty(j8,"__esModule",{value:!0});j8.CryptoECKey=void 0;var PG=Gn(),wye=To(),Sye=Yn(),Yd;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(Yd||(Yd={}));var x1=class extends wye.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>Sye.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[Yd.curve]=this.curve),this.privateKey!==void 0&&(t[Yd.private]=this.privateKey),t[Yd.data]=this.data,new PG.DataItem(t)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};j8.CryptoECKey=x1;x1.fromDataItem=r=>{let e=r.getData(),t=e[Yd.curve],n=e[Yd.private],i=e[Yd.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new x1({data:i,curve:t,privateKey:n})};x1.fromCBOR=r=>{let e=PG.decodeToDataItem(r);return x1.fromDataItem(e)}});var NG=T(H8=>{h();p();Object.defineProperty(H8,"__esModule",{value:!0});H8.Bytes=void 0;var MG=Gn(),Cye=To(),Eye=Yn(),b1=class extends Cye.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>Eye.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new MG.DataItem(this.bytes)}};H8.Bytes=b1;b1.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new b1(e)};b1.fromCBOR=r=>{let e=MG.decodeToDataItem(r);return b1.fromDataItem(e)}});var V8=T(K8=>{h();p();Object.defineProperty(K8,"__esModule",{value:!0});K8.MultiKey=void 0;var Iye=x2(),Tye=pm(),Aye=O8(),Oye=To(),kG=Yn(),gm;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(gm||(gm={}));var b2=class extends Oye.RegistryItem{constructor(e,t){super(),this.threshold=e,this.keys=t,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[gm.threshold]=this.threshold;let i=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a});return n[gm.keys]=i,new Aye.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};K8.MultiKey=b2;b2.fromDataItem=r=>{let e=r.getData(),t=e[gm.threshold],n=e[gm.keys],i=[];return n.forEach(o=>{o.getTag()===kG.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Tye.CryptoHDKey.fromDataItem(o)):o.getTag()===kG.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Iye.CryptoECKey.fromDataItem(o))}),new b2(t,i)}});var NA=T(z8=>{h();p();Object.defineProperty(z8,"__esModule",{value:!0});z8.CryptoOutput=void 0;var BA=x2(),PA=pm(),MA=Gn(),qG=V8(),Dye=To(),FG=Yn(),RA=M8(),Hc=class extends Dye.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>FG.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof PA.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof BA.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof qG.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof BA.CryptoECKey||this.cryptoKey instanceof PA.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new MA.DataItem(n,a)}),n}}};z8.CryptoOutput=Hc;Hc.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag(),a=RA.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof MA.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===RA.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===RA.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=qG.MultiKey.fromDataItem(t);return new Hc(e,o)}if(t.getTag()===FG.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=PA.CryptoHDKey.fromDataItem(t);return new Hc(e,o)}else{let o=BA.CryptoECKey.fromDataItem(t);return new Hc(e,o)}};Hc.fromCBOR=r=>{let e=MA.decodeToDataItem(r);return Hc.fromDataItem(e)}});var kA=T(G8=>{h();p();Object.defineProperty(G8,"__esModule",{value:!0});G8.CryptoPSBT=void 0;var LG=Gn(),Rye=To(),Bye=Yn(),w1=class extends Rye.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Bye.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new LG.DataItem(this.psbt)}};G8.CryptoPSBT=w1;w1.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new w1(e)};w1.fromCBOR=r=>{let e=LG.decodeToDataItem(r);return w1.fromDataItem(e)}});var qA=T(Y8=>{h();p();Object.defineProperty(Y8,"__esModule",{value:!0});Y8.CryptoAccount=void 0;var Pye=W8(),UG=Gn(),Mye=To(),Nye=Yn(),mm;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(mm||(mm={}));var S1=class extends Mye.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>Nye.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[mm.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[mm.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new UG.DataItem(n)}}};Y8.CryptoAccount=S1;S1.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[mm.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[mm.outputDescriptors].map(a=>Pye.CryptoOutput.fromDataItem(a));return new S1(t,o)};S1.fromCBOR=r=>{let e=UG.decodeToDataItem(r);return S1.fromDataItem(e)}});var LA=T(X8=>{h();p();Object.defineProperty(X8,"__esModule",{value:!0});X8.UnknownURTypeError=void 0;var FA=class extends Error{constructor(e){super(e)}};X8.UnknownURTypeError=FA});var jA=T(J8=>{h();p();Object.defineProperty(J8,"__esModule",{value:!0});J8.URRegistryDecoder=void 0;var kye=pn(),Wd=W8(),Xd=Yn(),qye=LA(),UA=class extends kye.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case Xd.RegistryTypes.BYTES.getType():return Wd.Bytes.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_HDKEY.getType():return Wd.CryptoHDKey.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_KEYPATH.getType():return Wd.CryptoKeypath.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_COIN_INFO.getType():return Wd.CryptoCoinInfo.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_ECKEY.getType():return Wd.CryptoECKey.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_OUTPUT.getType():return Wd.CryptoOutput.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_PSBT.getType():return Wd.CryptoPSBT.fromCBOR(e.cbor);case Xd.RegistryTypes.CRYPTO_ACCOUNT.getType():return Wd.CryptoAccount.fromCBOR(e.cbor);default:throw new qye.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};J8.URRegistryDecoder=UA});var HA=T($8=>{h();p();Object.defineProperty($8,"__esModule",{value:!0});$8.CryptoMultiAccounts=void 0;var Fye=Yn(),Lye=pm(),Uye=To(),jG=Gn(),Jd;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.keys=2]="keys",r[r.device=3]="device"})(Jd||(Jd={}));var C1=class extends Uye.RegistryItem{constructor(e,t,n){super(),this.masterFingerprint=e,this.keys=t,this.device=n,this.getRegistryType=()=>Fye.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[Jd.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Jd.keys]=this.keys.map(o=>{let a=o.toDataItem();return a.setTag(o.getRegistryType().getTag()),a})),this.device&&(i[Jd.device]=this.device),new jG.DataItem(i)}}};$8.CryptoMultiAccounts=C1;C1.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Jd.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Jd.keys].map(s=>Lye.CryptoHDKey.fromDataItem(s)),a=e[Jd.device];return new C1(t,o,a)};C1.fromCBOR=r=>{let e=jG.decodeToDataItem(r);return C1.fromDataItem(e)}});var KA=T(kf=>{h();p();Object.defineProperty(kf,"__esModule",{value:!0});kf.KeyDerivation=kf.DerivationAlgorithm=kf.Curve=void 0;var jye=Yn(),Hye=To(),HG=Gn(),Kye=_2(),Nf;(function(r){r[r.keyPaths=1]="keyPaths",r[r.curve=2]="curve",r[r.algo=3]="algo",r[r.origin=4]="origin"})(Nf||(Nf={}));var KG;(function(r){r.secp256k1="secp256k1",r.ed25519="ed25519"})(KG=kf.Curve||(kf.Curve={}));var VG;(function(r){r.slip10="slip10",r.bip32ed25519="bip32ed25519"})(VG=kf.DerivationAlgorithm||(kf.DerivationAlgorithm={}));var E1=class extends Hye.RegistryItem{constructor(e,t=KG.secp256k1,n=VG.slip10,i){super(),this.keypaths=e,this.curve=t,this.algo=n,this.origin=i,this.getRegistryType=()=>jye.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return o[Nf.keyPaths]=this.keypaths.map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s}),o[Nf.curve]=this.curve,o[Nf.algo]=this.algo,this.origin&&(o[Nf.origin]=this.origin),new HG.DataItem(o)}}};kf.KeyDerivation=E1;E1.fromDataItem=r=>{let e=r.getData(),t=e[Nf.keyPaths].map(a=>Kye.CryptoKeypath.fromDataItem(a)),n=e[Nf.curve],i=e[Nf.algo],o=e[Nf.origin];return new E1(t,n,i,o)};E1.fromCBOR=r=>{let e=HG.decodeToDataItem(r);return E1.fromDataItem(e)}});var GG=T(T1=>{h();p();Object.defineProperty(T1,"__esModule",{value:!0});T1.QRHardwareCall=T1.QRHardwareCallName=void 0;var Vye=Yn(),zye=To(),zG=Gn(),Gye=KA(),ym;(function(r){r[r.name=1]="name",r[r.params=2]="params"})(ym||(ym={}));var VA;(function(r){r.KeyDerivation="key-derivation"})(VA=T1.QRHardwareCallName||(T1.QRHardwareCallName={}));var I1=class extends zye.RegistryItem{constructor(e,t){super(),this.name=e,this.params=t,this.getRegistryType=()=>Vye.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[ym.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[ym.params]=i,new zG.DataItem(n)}}};T1.QRHardwareCall=I1;I1.fromDataItem=r=>{let e=r.getData(),t=e[ym.name]||VA.KeyDerivation,n;switch(t){case VA.KeyDerivation:n=Gye.KeyDerivation.fromDataItem(e[ym.params])}return new I1(t,n)};I1.fromCBOR=r=>{let e=zG.decodeToDataItem(r);return I1.fromDataItem(e)}});var WG=T(YG=>{h();p();Object.defineProperty(YG,"__esModule",{value:!0})});var W8=T(Pe=>{h();p();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.Buffer=Pe.extend=Pe.PathComponent=Pe.ScriptExpressions=Pe.MultiKey=Pe.CryptoPSBT=Pe.CryptoOutput=Pe.CryptoECKey=Pe.CryptoCoinInfoNetwork=Pe.CryptoCoinInfoType=Pe.CryptoCoinInfo=Pe.CryptoKeypath=Pe.CryptoMultiAccounts=Pe.CryptoHDKey=Pe.CryptoAccount=Pe.Bytes=Pe.URRegistryDecoder=Pe.DataItem=void 0;var Wr=qy();OA();var Yye=Op();Object.defineProperty(Pe,"Buffer",{enumerable:!0,get:function(){return Yye.Buffer}});var JG=pm();Object.defineProperty(Pe,"CryptoHDKey",{enumerable:!0,get:function(){return JG.CryptoHDKey}});var $G=_2();Object.defineProperty(Pe,"CryptoKeypath",{enumerable:!0,get:function(){return $G.CryptoKeypath}});var _m=k8();Object.defineProperty(Pe,"CryptoCoinInfo",{enumerable:!0,get:function(){return _m.CryptoCoinInfo}});Object.defineProperty(Pe,"CryptoCoinInfoType",{enumerable:!0,get:function(){return _m.Type}});Object.defineProperty(Pe,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return _m.Network}});var ZG=x2();Object.defineProperty(Pe,"CryptoECKey",{enumerable:!0,get:function(){return ZG.CryptoECKey}});var QG=NG();Object.defineProperty(Pe,"Bytes",{enumerable:!0,get:function(){return QG.Bytes}});var eY=NA();Object.defineProperty(Pe,"CryptoOutput",{enumerable:!0,get:function(){return eY.CryptoOutput}});var tY=kA();Object.defineProperty(Pe,"CryptoPSBT",{enumerable:!0,get:function(){return tY.CryptoPSBT}});var rY=qA();Object.defineProperty(Pe,"CryptoAccount",{enumerable:!0,get:function(){return rY.CryptoAccount}});var nY=jA();Object.defineProperty(Pe,"URRegistryDecoder",{enumerable:!0,get:function(){return nY.URRegistryDecoder}});var iY=V8();Object.defineProperty(Pe,"MultiKey",{enumerable:!0,get:function(){return iY.MultiKey}});var oY=M8();Object.defineProperty(Pe,"ScriptExpressions",{enumerable:!0,get:function(){return oY.ScriptExpressions}});var aY=F8();Object.defineProperty(Pe,"PathComponent",{enumerable:!0,get:function(){return aY.PathComponent}});var Wye=To(),XG=Yn(),vm=Gn(),Xye=Gn();Object.defineProperty(Pe,"DataItem",{enumerable:!0,get:function(){return Xye.DataItem}});var Jye=P8(),sY=HA();Object.defineProperty(Pe,"CryptoMultiAccounts",{enumerable:!0,get:function(){return sY.CryptoMultiAccounts}});var $ye={URRegistryDecoder:nY.URRegistryDecoder,Bytes:QG.Bytes,CryptoAccount:rY.CryptoAccount,CryptoHDKey:JG.CryptoHDKey,CryptoMultiAccounts:sY.CryptoMultiAccounts,CryptoKeypath:$G.CryptoKeypath,CryptoCoinInfo:_m.CryptoCoinInfo,CryptoCoinInfoType:_m.Type,CryptoCoinInfoNetwork:_m.Network,CryptoECKey:ZG.CryptoECKey,CryptoOutput:eY.CryptoOutput,CryptoPSBT:tY.CryptoPSBT,MultiKey:iY.MultiKey,ScriptExpressions:oY.ScriptExpressions,PathComponent:aY.PathComponent},Zye={addReader:vm.addReader,addSemanticDecode:vm.addSemanticDecode,addSemanticEncode:vm.addSemanticEncode,addWriter:vm.addWriter,patchTags:Jye.patchTags},Qye={RegistryTypes:XG.RegistryTypes,RegistryItem:Wye.RegistryItem,RegistryType:XG.RegistryType,decodeToDataItem:vm.decodeToDataItem,encodeDataItem:vm.encodeDataItem,cbor:Zye};Pe.extend=Qye;Wr.__exportStar(LA(),Pe);Wr.__exportStar(jA(),Pe);Wr.__exportStar(Gn(),Pe);Wr.__exportStar(qA(),Pe);Wr.__exportStar(kA(),Pe);Wr.__exportStar(pm(),Pe);Wr.__exportStar(HA(),Pe);Wr.__exportStar(GG(),Pe);Wr.__exportStar(KA(),Pe);Wr.__exportStar(NA(),Pe);Wr.__exportStar(k8(),Pe);Wr.__exportStar(x2(),Pe);Wr.__exportStar(V8(),Pe);Wr.__exportStar(_2(),Pe);Wr.__exportStar(OA(),Pe);Wr.__exportStar(F8(),Pe);Wr.__exportStar(To(),Pe);Wr.__exportStar(Yn(),Pe);Wr.__exportStar(WG(),Pe);Wr.__exportStar(P8(),Pe);Pe.default=$ye});var uY=T(w2=>{h();p();Object.defineProperty(w2,"__esModule",{value:!0});var Yi=W8(),eve=h3(),zA={SUI_SIGN_REQUEST:new Yi.RegistryType("sui-sign-request",7101),SUI_SIGNATURE:new Yi.RegistryType("sui-signature",7102)},{decodeToDataItem:tve,RegistryTypes:rve}=Yi.extend,Ao;(function(r){r[r.requestId=1]="requestId",r[r.intentMessage=2]="intentMessage",r[r.derivationPaths=3]="derivationPaths",r[r.addresses=4]="addresses",r[r.origin=5]="origin"})(Ao||(Ao={}));var Kc=class extends Yi.RegistryItem{constructor(e){super(),this.getRegistryType=()=>zA.SUI_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getIntentMessage=()=>this.intentMessage,this.getDerivationPaths=()=>this.derivationPaths.map(t=>t.getPath()),this.getAddresses=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};return this.requestId&&(t[Ao.requestId]=new Yi.DataItem(this.requestId,rve.UUID.getTag())),this.addresses&&(t[Ao.addresses]=this.addresses),this.origin&&(t[Ao.origin]=this.origin),t[Ao.intentMessage]=this.intentMessage,t[Ao.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new Yi.DataItem(t)},this.requestId=e.requestId,this.intentMessage=e.intentMessage,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructSuiRequest(e,t,n,i,o,a){let s=t.map((u,f)=>{let c=u.replace(/[m|M]\//,"").split("/").map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new Yi.PathComponent({index:g,hardened:y})});return new Yi.CryptoKeypath(c,m.Buffer.from(n[f],"hex"))});return new Kc({requestId:m.Buffer.from(eve.parse(i)),intentMessage:e,derivationPaths:s,addresses:o||void 0,origin:a||void 0})}};Kc.fromDataItem=r=>{let e=r.getData(),t=e[Ao.intentMessage],n=e[Ao.derivationPaths].map(a=>Yi.CryptoKeypath.fromDataItem(a)),i=e[Ao.addresses]?e[Ao.addresses]:void 0,o=e[Ao.requestId]?e[Ao.requestId].getData():void 0;return new Kc({requestId:o,intentMessage:t,derivationPaths:n,addresses:i,origin:e[Ao.origin]?e[Ao.origin]:void 0})},Kc.fromCBOR=r=>{let e=tve(r);return Kc.fromDataItem(e)};var{RegistryTypes:nve,decodeToDataItem:ive}=Yi.extend,$d;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.publicKey=3]="publicKey"})($d||($d={}));var A1=class extends Yi.RegistryItem{constructor(e,t,n){super(),this.getRegistryType=()=>zA.SUI_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return this.requestId&&(i[$d.requestId]=new Yi.DataItem(this.requestId,nve.UUID.getTag())),i[$d.signature]=this.signature,this.publicKey&&(i[$d.publicKey]=this.publicKey),new Yi.DataItem(i)},this.signature=e,this.requestId=t,this.publicKey=n}};A1.fromDataItem=r=>{let e=r.getData(),t=e[$d.signature],n=e[$d.requestId].getData();return new A1(t,n,e[$d.publicKey])},A1.fromCBOR=r=>{let e=ive(r);return A1.fromDataItem(e)},Yi.patchTags(Object.values(zA).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(Yi).forEach(function(r){r!=="default"&&Object.defineProperty(w2,r,{enumerable:!0,get:function(){return Yi[r]}})}),w2.SuiSignRequest=Kc,w2.SuiSignature=A1});var cY=T((vit,fY)=>{h();p();fY.exports=uY()});var dY=T(Q8=>{h();p();Object.defineProperty(Q8,"__esModule",{value:!0});Q8.KeystoneSuiSDK=void 0;var Z8=cY(),Zd=En(),ove=Uo(),GA=class{parseSignature(e){if(e.type!==ove.URType.SuiSignature)throw new Error("type not match");let t=Z8.SuiSignature.fromCBOR(e.cbor),n=t.getRequestId();return{requestId:m.Buffer.isBuffer(n)?(0,Zd.uuidStringify)(n):"",signature:(0,Zd.toHex)(t.getSignature()),publicKey:(0,Zd.toHex)(t.getPublicKey())}}generateSignRequest({requestId:e,intentMessage:t,accounts:n,origin:i}){let o=[],a=[];if(n.forEach(s=>{o.push(new Z8.CryptoKeypath((0,Zd.parsePath)(s.path).map(u=>new Z8.PathComponent(u)),(0,Zd.toBuffer)(s.xfp))),s.address!==void 0&&a.push((0,Zd.toBuffer)(s.address.startsWith("0x")?s.address.substring(2):s.address))}),a.length>0&&a.length!==o.length)throw new Error("address and path count must match");return new Z8.SuiSignRequest({requestId:(0,Zd.uuidParse)(e),intentMessage:(0,Zd.toBuffer)(t),derivationPaths:o,addresses:a,origin:i}).toUR()}};Q8.KeystoneSuiSDK=GA});var YA=T(Xr=>{h();p();var ave=Xr&&Xr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jo=Xr&&Xr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ave(e,r,t)};Object.defineProperty(Xr,"__esModule",{value:!0});Jo(Wk(),Xr);Jo(rF(),Xr);Jo(YF(),Xr);Jo(Dj(),Xr);Jo(rH(),Xr);Jo(CK(),Xr);Jo(JK(),Xr);Jo(rV(),Xr);Jo(iV(),Xr);Jo(aV(),Xr);Jo(BV(),Xr);Jo(Yz(),Xr);Jo(xG(),Xr);Jo(dY(),Xr)});var WA=T(Qd=>{h();p();Object.defineProperty(Qd,"__esModule",{value:!0});Qd.generateKeyDerivationCall=Qd.DerivationAlgorithm=Qd.Curve=void 0;var qf=O0();Object.defineProperty(Qd,"Curve",{enumerable:!0,get:function(){return qf.Curve}});Object.defineProperty(Qd,"DerivationAlgorithm",{enumerable:!0,get:function(){return qf.DerivationAlgorithm}});var sve=En(),uve=({schemas:r,origin:e})=>{let t=r.map(({path:o,curve:a=qf.Curve.secp256k1,algo:s=qf.DerivationAlgorithm.slip10})=>{if(a===qf.Curve.secp256k1&&s===qf.DerivationAlgorithm.bip32ed25519)throw new Error("the combination of the given curve and algo not supported");return new qf.KeyDerivationSchema((0,sve.pathToKeypath)(o),a,s)}),n=new qf.KeyDerivation(t);return new qf.QRHardwareCall(qf.QRHardwareCallType.KeyDerivation,n,e).toUR()};Qd.generateKeyDerivationCall=uve});var lY=T(S2=>{h();p();Object.defineProperty(S2,"__esModule",{value:!0});S2.AccountNote=void 0;var fve;(function(r){r.Standard="account.standard",r.LedgerLegacy="account.ledger_legacy",r.LedgerLive="account.ledger_live"})(fve=S2.AccountNote||(S2.AccountNote={}))});var pY=T(hY=>{h();p();Object.defineProperty(hY,"__esModule",{value:!0})});var mY=T(gY=>{h();p();Object.defineProperty(gY,"__esModule",{value:!0})});var vY=T(yY=>{h();p();Object.defineProperty(yY,"__esModule",{value:!0})});var eS=T(Gu=>{h();p();var cve=Gu&&Gu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),C2=Gu&&Gu.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cve(e,r,t)};Object.defineProperty(Gu,"__esModule",{value:!0});C2(lY(),Gu);C2(pY(),Gu);C2(mY(),Gu);C2(vY(),Gu);C2(Uo(),Gu)});var XA=T(tS=>{h();p();Object.defineProperty(tS,"__esModule",{value:!0});tS.generateExtraData=void 0;var dve={60:1},lve=r=>{var e;return{okx:{chainId:(e=dve[r])!==null&&e!==void 0?e:r}}};tS.generateExtraData=lve});var _Y=T(rS=>{h();p();Object.defineProperty(rS,"__esModule",{value:!0});rS.parseMultiAccounts=void 0;var hve=eS(),pve=O0(),E2=En(),gve=XA(),mve=r=>{if(r.type!==hve.URType.CryptoMultiAccounts)throw new Error("type not match");let e=pve.CryptoMultiAccounts.fromCBOR(r.cbor),t=(0,E2.toHex)(e.getMasterFingerprint());return{device:e.getDevice(),masterFingerprint:t,keys:e.getKeys().map(n=>{let i=(0,E2.toHex)(n.getChainCode()),o=(0,E2.toHex)(n.getParentFingerprint()),a=n.getOrigin();if(a===void 0)throw new Error("multi accounts is invalid");let s;i.length!==0&&o.length!==0&&(s=n.getBip32Key());let u=a.getComponents()[1].getIndex();return{chain:(0,E2.getCoinSymbol)(u),path:`m/${a.getPath()}`,publicKey:(0,E2.toHex)(n.getKey()),name:n.getName(),chainCode:i,extendedPublicKey:s,note:n.getNote(),extra:(0,gve.generateExtraData)(u)}}),deviceId:e.getDeviceId(),deviceVersion:e.getVersion()}};rS.parseMultiAccounts=mve});var xY=T(iS=>{h();p();Object.defineProperty(iS,"__esModule",{value:!0});iS.parseHDKey=void 0;var yve=eS(),vve=O0(),nS=En(),_ve=XA(),xve=r=>{var e;if(r.type!==yve.URType.CryptoHDKey)throw new Error("type not match");let t=vve.CryptoHDKey.fromCBOR(r.cbor),n=(0,nS.toHex)(t.getChainCode()),i=(0,nS.toHex)(t.getParentFingerprint()),o=t.getOrigin();if(((e=t.getOrigin().getSourceFingerprint())===null||e===void 0?void 0:e.toString("hex"))===void 0)throw new Error("HDKey is invalid");let s;n.length!==0&&i.length!==0&&(s=t.getBip32Key());let u=o.getComponents()[1].getIndex();return{chain:(0,nS.getCoinSymbol)(u),path:`m/${o.getPath()}`,publicKey:(0,nS.toHex)(t.getKey()),name:t.getName(),xfp:o.getSourceFingerprint().toString("hex"),chainCode:n,extendedPublicKey:s,note:t.getNote(),extra:(0,_ve.generateExtraData)(u)}};iS.parseHDKey=xve});var bY=T(Vc=>{h();p();var bve=Vc&&Vc.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),JA=Vc&&Vc.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bve(e,r,t)};Object.defineProperty(Vc,"__esModule",{value:!0});JA(WA(),Vc);JA(_Y(),Vc);JA(xY(),Vc)});var wY=T((not,wve)=>{wve.exports={TYPES:{Done:-1,Unknown:-2,NotPresent:0,UInt16:1,UInt32:2,UInt64:3,Hash128:4,Hash256:5,Amount:6,Blob:7,AccountID:8,STObject:14,STArray:15,UInt8:16,Hash160:17,PathSet:18,Vector256:19,UInt96:20,UInt192:21,UInt384:22,UInt512:23,Transaction:10001,LedgerEntry:10002,Validation:10003,Metadata:10004},LEDGER_ENTRY_TYPES:{Invalid:-1,AccountRoot:97,DirectoryNode:100,RippleState:114,Ticket:84,SignerList:83,Offer:111,LedgerHashes:104,Amendments:102,FeeSettings:115,Escrow:117,PayChannel:120,Check:67,DepositPreauth:112,NegativeUNL:78,NFTokenPage:80,NFTokenOffer:55,Any:-3,Child:-2,Nickname:110,Contract:99,GeneratorMap:103},FIELDS:[["Generic",{nth:0,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["Invalid",{nth:-1,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["ObjectEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ArrayEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["hash",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["index",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["taker_gets_funded",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["taker_pays_funded",{nth:259,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["LedgerEntry",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"LedgerEntry"}],["Transaction",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Transaction"}],["Validation",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Validation"}],["Metadata",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Metadata"}],["CloseResolution",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Method",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TransactionResult",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TickSize",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["UNLModifyDisabling",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["HookResult",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["LedgerEntryType",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransactionType",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["SignerWeight",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransferFee",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Version",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookStateChangeCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookEmitCount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookExecutionIndex",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookApiVersion",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Flags",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SourceTag",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Sequence",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["PreviousTxnLgrSeq",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LedgerSequence",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CloseTime",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ParentCloseTime",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SigningTime",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Expiration",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransferRate",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["WalletSize",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OwnerCount",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["DestinationTag",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityIn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityOut",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityIn",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityOut",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityIn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityOut",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["StampEscrow",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BondAmount",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LoadFee",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OfferSequence",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstLedgerSequence",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastLedgerSequence",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransactionIndex",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OperationLimit",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReferenceFeeUnits",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveBase",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveIncrement",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SetFlag",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ClearFlag",{nth:34,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerQuorum",{nth:35,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CancelAfter",{nth:36,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FinishAfter",{nth:37,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerListID",{nth:38,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SettleDelay",{nth:39,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketCount",{nth:40,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketSequence",{nth:41,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["NFTokenTaxon",{nth:42,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["MintedNFTokens",{nth:43,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BurnedNFTokens",{nth:44,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HookStateCount",{nth:45,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["EmitGeneration",{nth:46,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["IndexNext",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["IndexPrevious",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BookNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["OwnerNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BaseFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ExchangeRate",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["LowNode",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HighNode",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["DestinationNode",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["Cookie",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ServerVersion",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["NFTokenOfferNode",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmitBurden",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookOn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookInstructionCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookReturnCode",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ReferenceCount",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmailHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash128"}],["TakerPaysCurrency",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerPaysIssuer",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsCurrency",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsIssuer",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["LedgerHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ParentHash",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["TransactionHash",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountHash",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousTxnID",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["LedgerIndex",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["WalletLocator",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["RootIndex",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountTxnID",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenID",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitParentTxnID",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitNonce",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitHookHash",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["BookDirectory",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["InvoiceID",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Nickname",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amendment",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Digest",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Channel",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ConsensusHash",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["CheckID",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ValidatedHash",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousPageMin",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NextPageMin",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenBuyOffer",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenSellOffer",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookStateKey",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookHash",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookNamespace",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookSetTxnID",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amount",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Balance",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LimitAmount",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerPays",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerGets",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LowLimit",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["HighLimit",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Fee",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SendMax",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliverMin",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinimumOffer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["RippleEscrow",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliveredAmount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["NFTokenBrokerFee",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["PublicKey",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MessageKey",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["SigningPubKey",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["TxnSignature",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["URI",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Signature",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["Domain",{nth:7,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["FundCode",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["RemoveCode",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ExpireCode",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["CreateCode",{nth:11,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoType",{nth:12,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoData",{nth:13,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoFormat",{nth:14,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Fulfillment",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Condition",{nth:17,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MasterSignature",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["UNLModifyValidator",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToDisable",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToReEnable",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookStateData",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookReturnString",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterName",{nth:24,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterValue",{nth:25,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Account",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Owner",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Destination",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Issuer",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Authorize",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Unauthorize",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["RegularKey",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["NFTokenMinter",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["EmitCallback",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["HookAccount",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Indexes",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Hashes",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Amendments",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["NFTokenOffers",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Paths",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"PathSet"}],["TransactionMetaData",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["CreatedNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DeletedNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ModifiedNode",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PreviousFields",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["FinalFields",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NewFields",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["TemplateEntry",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Memo",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["SignerEntry",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NFToken",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmitDetails",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Hook",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Majority",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DisabledValidator",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmittedTxn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookExecution",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookDefinition",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookParameter",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookGrant",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signers",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!1,type:"STArray"}],["SignerEntries",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Template",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Necessary",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Sufficient",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AffectedNodes",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Memos",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["NFTokens",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Hooks",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Majorities",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["DisabledValidators",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookExecutions",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookParameters",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookGrants",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}]],TRANSACTION_RESULTS:{telLOCAL_ERROR:-399,telBAD_DOMAIN:-398,telBAD_PATH_COUNT:-397,telBAD_PUBLIC_KEY:-396,telFAILED_PROCESSING:-395,telINSUF_FEE_P:-394,telNO_DST_PARTIAL:-393,telCAN_NOT_QUEUE:-392,telCAN_NOT_QUEUE_BALANCE:-391,telCAN_NOT_QUEUE_BLOCKS:-390,telCAN_NOT_QUEUE_BLOCKED:-389,telCAN_NOT_QUEUE_FEE:-388,telCAN_NOT_QUEUE_FULL:-387,temMALFORMED:-299,temBAD_AMOUNT:-298,temBAD_CURRENCY:-297,temBAD_EXPIRATION:-296,temBAD_FEE:-295,temBAD_ISSUER:-294,temBAD_LIMIT:-293,temBAD_OFFER:-292,temBAD_PATH:-291,temBAD_PATH_LOOP:-290,temBAD_REGKEY:-289,temBAD_SEND_XRP_LIMIT:-288,temBAD_SEND_XRP_MAX:-287,temBAD_SEND_XRP_NO_DIRECT:-286,temBAD_SEND_XRP_PARTIAL:-285,temBAD_SEND_XRP_PATHS:-284,temBAD_SEQUENCE:-283,temBAD_SIGNATURE:-282,temBAD_SRC_ACCOUNT:-281,temBAD_TRANSFER_RATE:-280,temDST_IS_SRC:-279,temDST_NEEDED:-278,temINVALID:-277,temINVALID_FLAG:-276,temREDUNDANT:-275,temRIPPLE_EMPTY:-274,temDISABLED:-273,temBAD_SIGNER:-272,temBAD_QUORUM:-271,temBAD_WEIGHT:-270,temBAD_TICK_SIZE:-269,temINVALID_ACCOUNT_ID:-268,temCANNOT_PREAUTH_SELF:-267,temINVALID_COUNT:-266,temUNCERTAIN:-265,temUNKNOWN:-264,temSEQ_AND_TICKET:-263,temBAD_NFTOKEN_TRANSFER_FEE:-262,tefFAILURE:-199,tefALREADY:-198,tefBAD_ADD_AUTH:-197,tefBAD_AUTH:-196,tefBAD_LEDGER:-195,tefCREATED:-194,tefEXCEPTION:-193,tefINTERNAL:-192,tefNO_AUTH_REQUIRED:-191,tefPAST_SEQ:-190,tefWRONG_PRIOR:-189,tefMASTER_DISABLED:-188,tefMAX_LEDGER:-187,tefBAD_SIGNATURE:-186,tefBAD_QUORUM:-185,tefNOT_MULTI_SIGNING:-184,tefBAD_AUTH_MASTER:-183,tefINVARIANT_FAILED:-182,tefTOO_BIG:-181,tefNO_TICKET:-180,tefNFTOKEN_IS_NOT_TRANSFERABLE:-179,terRETRY:-99,terFUNDS_SPENT:-98,terINSUF_FEE_B:-97,terNO_ACCOUNT:-96,terNO_AUTH:-95,terNO_LINE:-94,terOWNERS:-93,terPRE_SEQ:-92,terLAST:-91,terNO_RIPPLE:-90,terQUEUED:-89,terPRE_TICKET:-88,tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecNO_ALTERNATIVE_KEY:130,tecNO_REGULAR_KEY:131,tecOWNERS:132,tecNO_ISSUER:133,tecNO_AUTH:134,tecNO_LINE:135,tecINSUFF_FEE:136,tecFROZEN:137,tecNO_TARGET:138,tecNO_PERMISSION:139,tecNO_ENTRY:140,tecINSUFFICIENT_RESERVE:141,tecNEED_MASTER_KEY:142,tecDST_TAG_NEEDED:143,tecINTERNAL:144,tecOVERSIZE:145,tecCRYPTOCONDITION_ERROR:146,tecINVARIANT_FAILED:147,tecEXPIRED:148,tecDUPLICATE:149,tecKILLED:150,tecHAS_OBLIGATIONS:151,tecTOO_SOON:152,tecMAX_SEQUENCE_REACHED:154,tecNO_SUITABLE_NFTOKEN_PAGE:155,tecNFTOKEN_BUY_SELL_MISMATCH:156,tecNFTOKEN_OFFER_TYPE_MISMATCH:157,tecCANT_ACCEPT_OWN_NFTOKEN_OFFER:158,tecINSUFFICIENT_FUNDS:159,tecOBJECT_NOT_FOUND:160,tecINSUFFICIENT_PAYMENT:161},TRANSACTION_TYPES:{Invalid:-1,Payment:0,EscrowCreate:1,EscrowFinish:2,AccountSet:3,EscrowCancel:4,SetRegularKey:5,NickNameSet:6,OfferCreate:7,OfferCancel:8,Contract:9,TicketCreate:10,TicketCancel:11,SignerListSet:12,PaymentChannelCreate:13,PaymentChannelFund:14,PaymentChannelClaim:15,CheckCreate:16,CheckCash:17,CheckCancel:18,DepositPreauth:19,TrustSet:20,AccountDelete:21,SetHook:22,NFTokenMint:25,NFTokenBurn:26,NFTokenCreateOffer:27,NFTokenCancelOffer:28,NFTokenAcceptOffer:29,EnableAmendment:100,SetFee:101,UNLModify:102}}});var xr=T(bm=>{h();p();var $A=VP(),xm=bE(),SY=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;bm.Buffer=ye;bm.SlowBuffer=Tve;bm.INSPECT_MAX_BYTES=50;var oS=2147483647;bm.kMaxLength=oS;ye.TYPED_ARRAY_SUPPORT=Sve();!ye.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Sve(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(ye.prototype,"parent",{enumerable:!0,get:function(){if(!!ye.isBuffer(this))return this.buffer}});Object.defineProperty(ye.prototype,"offset",{enumerable:!0,get:function(){if(!!ye.isBuffer(this))return this.byteOffset}});function zc(r){if(r>oS)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,ye.prototype),e}function ye(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return eO(r)}return TY(r,e,t)}ye.poolSize=8192;function TY(r,e,t){if(typeof r=="string")return Eve(r,e);if(ArrayBuffer.isView(r))return ZA(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Gc(r,ArrayBuffer)||r&&Gc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gc(r,SharedArrayBuffer)||r&&Gc(r.buffer,SharedArrayBuffer)))return CY(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return ye.from(n,e,t);var i=Ive(r);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return ye.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}ye.from=function(r,e,t){return TY(r,e,t)};Object.setPrototypeOf(ye.prototype,Uint8Array.prototype);Object.setPrototypeOf(ye,Uint8Array);function AY(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Cve(r,e,t){return AY(r),r<=0?zc(r):e!==void 0?typeof t=="string"?zc(r).fill(e,t):zc(r).fill(e):zc(r)}ye.alloc=function(r,e,t){return Cve(r,e,t)};function eO(r){return AY(r),zc(r<0?0:tO(r)|0)}ye.allocUnsafe=function(r){return eO(r)};ye.allocUnsafeSlow=function(r){return eO(r)};function Eve(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ye.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=OY(r,e)|0,n=zc(t),i=n.write(r,e);return i!==t&&(n=n.slice(0,i)),n}function ZA(r){for(var e=r.length<0?0:tO(r.length)|0,t=zc(e),n=0;n<e;n+=1)t[n]=r[n]&255;return t}function CY(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,ye.prototype),n}function Ive(r){if(ye.isBuffer(r)){var e=tO(r.length)|0,t=zc(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||rO(r.length)?zc(0):ZA(r);if(r.type==="Buffer"&&Array.isArray(r.data))return ZA(r.data)}function tO(r){if(r>=oS)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+oS.toString(16)+" bytes");return r|0}function Tve(r){return+r!=r&&(r=0),ye.alloc(+r)}ye.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ye.prototype};ye.compare=function(e,t){if(Gc(e,Uint8Array)&&(e=ye.from(e,e.offset,e.byteLength)),Gc(t,Uint8Array)&&(t=ye.from(t,t.offset,t.byteLength)),!ye.isBuffer(e)||!ye.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0};ye.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ye.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ye.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=ye.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(Gc(a,Uint8Array)&&(a=ye.from(a)),!ye.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};function OY(r,e){if(ye.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Gc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return QA(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return kY(r).length;default:if(i)return n?-1:QA(r).length;e=(""+e).toLowerCase(),i=!0}}ye.byteLength=OY;function Ave(r,e,t){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Fve(this,e,t);case"utf8":case"utf-8":return BY(this,e,t);case"ascii":return kve(this,e,t);case"latin1":case"binary":return qve(this,e,t);case"base64":return Mve(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lve(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}ye.prototype._isBuffer=!0;function O1(r,e,t){var n=r[e];r[e]=r[t],r[t]=n}ye.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)O1(this,t,t+1);return this};ye.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)O1(this,t,t+3),O1(this,t+1,t+2);return this};ye.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)O1(this,t,t+7),O1(this,t+1,t+6),O1(this,t+2,t+5),O1(this,t+3,t+4);return this};ye.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?BY(this,0,e):Ave.apply(this,arguments)};ye.prototype.toLocaleString=ye.prototype.toString;ye.prototype.equals=function(e){if(!ye.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ye.compare(this,e)===0};ye.prototype.inspect=function(){var e="",t=bm.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};SY&&(ye.prototype[SY]=ye.prototype.inspect);ye.prototype.compare=function(e,t,n,i,o){if(Gc(e,Uint8Array)&&(e=ye.from(e,e.offset,e.byteLength)),!ye.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=n-t,u=Math.min(a,s),f=this.slice(i,o),c=e.slice(t,n),l=0;l<u;++l)if(f[l]!==c[l]){a=f[l],s=c[l];break}return a<s?-1:s<a?1:0};function DY(r,e,t,n,i){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,rO(t)&&(t=i?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(i)return-1;t=r.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=ye.from(e,n)),ye.isBuffer(e))return e.length===0?-1:EY(r,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):EY(r,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function EY(r,e,t,n,i){var o=1,a=r.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;o=2,a/=2,s/=2,t/=2}function u(y,b){return o===1?y[b]:y.readUInt16BE(b*o)}var f;if(i){var c=-1;for(f=t;f<a;f++)if(u(r,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*o}else c!==-1&&(f-=f-c),c=-1}else for(t+s>a&&(t=a-s),f=t;f>=0;f--){for(var l=!0,g=0;g<s;g++)if(u(r,f+g)!==u(e,g)){l=!1;break}if(l)return f}return-1}ye.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};ye.prototype.indexOf=function(e,t,n){return DY(this,e,t,n,!0)};ye.prototype.lastIndexOf=function(e,t,n){return DY(this,e,t,n,!1)};function Ove(r,e,t,n){t=Number(t)||0;var i=r.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(a*2,2),16);if(rO(s))return a;r[t+a]=s}return a}function Dve(r,e,t,n){return aS(QA(e,r.length-t),r,t,n)}function RY(r,e,t,n){return aS(Hve(e),r,t,n)}function Rve(r,e,t,n){return RY(r,e,t,n)}function Bve(r,e,t,n){return aS(kY(e),r,t,n)}function Pve(r,e,t,n){return aS(Kve(e,r.length-t),r,t,n)}ye.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Ove(this,e,t,n);case"utf8":case"utf-8":return Dve(this,e,t,n);case"ascii":return RY(this,e,t,n);case"latin1":case"binary":return Rve(this,e,t,n);case"base64":return Bve(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pve(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Mve(r,e,t){return e===0&&t===r.length?$A.fromByteArray(r):$A.fromByteArray(r.slice(e,t))}function BY(r,e,t){t=Math.min(r.length,t);for(var n=[],i=e;i<t;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=t){var u,f,c,l;switch(s){case 1:o<128&&(a=o);break;case 2:u=r[i+1],(u&192)===128&&(l=(o&31)<<6|u&63,l>127&&(a=l));break;case 3:u=r[i+1],f=r[i+2],(u&192)===128&&(f&192)===128&&(l=(o&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:u=r[i+1],f=r[i+2],c=r[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(l=(o&15)<<18|(u&63)<<12|(f&63)<<6|c&63,l>65535&&l<1114112&&(a=l))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Nve(n)}var IY=4096;function Nve(r){var e=r.length;if(e<=IY)return String.fromCharCode.apply(String,r);for(var t="",n=0;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=IY));return t}function kve(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]&127);return n}function qve(r,e,t){var n="";t=Math.min(r.length,t);for(var i=e;i<t;++i)n+=String.fromCharCode(r[i]);return n}function Fve(r,e,t){var n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=e;o<t;++o)i+=Vve[r[o]];return i}function Lve(r,e,t){for(var n=r.slice(e,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}ye.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,ye.prototype),i};function xn(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ye.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||xn(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return i};ye.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||xn(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i};ye.prototype.readUInt8=function(e,t){return e=e>>>0,t||xn(e,1,this.length),this[e]};ye.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||xn(e,2,this.length),this[e]|this[e+1]<<8};ye.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||xn(e,2,this.length),this[e]<<8|this[e+1]};ye.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||xn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ye.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||xn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ye.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||xn(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};ye.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||xn(e,t,this.length);for(var i=t,o=1,a=this[e+--i];i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a};ye.prototype.readInt8=function(e,t){return e=e>>>0,t||xn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ye.prototype.readInt16LE=function(e,t){e=e>>>0,t||xn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ye.prototype.readInt16BE=function(e,t){e=e>>>0,t||xn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ye.prototype.readInt32LE=function(e,t){return e=e>>>0,t||xn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ye.prototype.readInt32BE=function(e,t){return e=e>>>0,t||xn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ye.prototype.readFloatLE=function(e,t){return e=e>>>0,t||xn(e,4,this.length),xm.read(this,e,!0,23,4)};ye.prototype.readFloatBE=function(e,t){return e=e>>>0,t||xn(e,4,this.length),xm.read(this,e,!1,23,4)};ye.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||xn(e,8,this.length),xm.read(this,e,!0,52,8)};ye.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||xn(e,8,this.length),xm.read(this,e,!1,52,8)};function $o(r,e,t,n,i,o){if(!ye.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}ye.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;$o(this,e,t,n,o,0)}var a=1,s=0;for(this[t]=e&255;++s<n&&(a*=256);)this[t+s]=e/a&255;return t+n};ye.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;$o(this,e,t,n,o,0)}var a=n-1,s=1;for(this[t+a]=e&255;--a>=0&&(s*=256);)this[t+a]=e/s&255;return t+n};ye.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,1,255,0),this[t]=e&255,t+1};ye.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};ye.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};ye.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};ye.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};ye.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var o=Math.pow(2,8*n-1);$o(this,e,t,n,o-1,-o)}var a=0,s=1,u=0;for(this[t]=e&255;++a<n&&(s*=256);)e<0&&u===0&&this[t+a-1]!==0&&(u=1),this[t+a]=(e/s>>0)-u&255;return t+n};ye.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){var o=Math.pow(2,8*n-1);$o(this,e,t,n,o-1,-o)}var a=n-1,s=1,u=0;for(this[t+a]=e&255;--a>=0&&(s*=256);)e<0&&u===0&&this[t+a+1]!==0&&(u=1),this[t+a]=(e/s>>0)-u&255;return t+n};ye.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};ye.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};ye.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};ye.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};ye.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||$o(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function PY(r,e,t,n,i,o){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function MY(r,e,t,n,i){return e=+e,t=t>>>0,i||PY(r,e,t,4,34028234663852886e22,-34028234663852886e22),xm.write(r,e,t,n,23,4),t+4}ye.prototype.writeFloatLE=function(e,t,n){return MY(this,e,t,!0,n)};ye.prototype.writeFloatBE=function(e,t,n){return MY(this,e,t,!1,n)};function NY(r,e,t,n,i){return e=+e,t=t>>>0,i||PY(r,e,t,8,17976931348623157e292,-17976931348623157e292),xm.write(r,e,t,n,52,8),t+8}ye.prototype.writeDoubleLE=function(e,t,n){return NY(this,e,t,!0,n)};ye.prototype.writeDoubleBE=function(e,t,n){return NY(this,e,t,!1,n)};ye.prototype.copy=function(e,t,n,i){if(!ye.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var a=o-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return o};ye.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ye.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var a;if(typeof e=="number")for(a=t;a<n;++a)this[a]=e;else{var s=ye.isBuffer(e)?e:ye.from(e,i),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var Uve=/[^+/0-9A-Za-z-_]/g;function jve(r){if(r=r.split("=")[0],r=r.trim().replace(Uve,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function QA(r,e){e=e||1/0;for(var t,n=r.length,i=null,o=[],a=0;a<n;++a){if(t=r.charCodeAt(a),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function Hve(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Kve(r,e){for(var t,n,i,o=[],a=0;a<r.length&&!((e-=2)<0);++a)t=r.charCodeAt(a),n=t>>8,i=t%256,o.push(i),o.push(n);return o}function kY(r){return $A.toByteArray(jve(r))}function aS(r,e,t,n){for(var i=0;i<n&&!(i+t>=e.length||i>=r.length);++i)e[i+t]=r[i];return i}function Gc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function rO(r){return r!==r}var Vve=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var n=t*16,i=0;i<16;++i)e[n+i]=r[t]+r[i];return e}()});var wm=T(Xs=>{h();p();var zve=Xs&&Xs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gve=Xs&&Xs.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yve=Xs&&Xs.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&zve(e,r,t);return Gve(e,r),e};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.BinarySerializer=Xs.BytesList=void 0;var qY=Yve(aa()),sS=xr(),I2=class{constructor(){this.bytesArray=[]}getLength(){return sS.Buffer.concat(this.bytesArray).byteLength}put(e){let t=sS.Buffer.from(e);return this.bytesArray.push(t),this}toBytesSink(e){e.put(this.toBytes())}toBytes(){return sS.Buffer.concat(this.bytesArray)}toHex(){return this.toBytes().toString("hex").toUpperCase()}};Xs.BytesList=I2;var nO=class{constructor(e){this.sink=new I2,this.sink=e}write(e){e.toBytesSink(this.sink)}put(e){this.sink.put(e)}writeType(e,t){this.write(e.from(t))}writeBytesList(e){e.toBytesSink(this.sink)}encodeVariableLength(e){let t=sS.Buffer.alloc(3);if(e<=192)return t[0]=e,t.slice(0,1);if(e<=12480)return e-=193,t[0]=193+(e>>>8),t[1]=e&255,t.slice(0,2);if(e<=918744)return e-=12481,t[0]=241+(e>>>16),t[1]=e>>8&255,t[2]=e&255,t.slice(0,3);throw new Error("Overflow error")}writeFieldAndValue(e,t,n=!1){let i=e.associatedType.from(t);qY.ok(i.toBytesSink!==void 0),qY.ok(e.name!==void 0),this.sink.put(e.header),e.isVariableLengthEncoded?this.writeLengthEncoded(i,n):i.toBytesSink(this.sink)}writeLengthEncoded(e,t=!1){let n=new I2;t||e.toBytesSink(n),this.put(this.encodeVariableLength(n.getLength())),this.writeBytesList(n)}};Xs.BinarySerializer=nO});var Ff=T(Sm=>{h();p();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.Comparable=Sm.SerializedType=void 0;var Wve=wm(),FY=xr(),uS=class{constructor(e){this.bytes=FY.Buffer.alloc(0),this.bytes=e??FY.Buffer.alloc(0)}static fromParser(e,t){throw new Error("fromParser not implemented")}static from(e){throw new Error("from not implemented")}toBytesSink(e){e.put(this.bytes)}toHex(){return this.toBytes().toString("hex").toUpperCase()}toBytes(){if(this.bytes)return this.bytes;let e=new Wve.BytesList;return this.toBytesSink(e),e.toBytes()}toJSON(){return this.toHex()}toString(){return this.toHex()}};Sm.SerializedType=uS;var iO=class extends uS{lt(e){return this.compareTo(e)<0}eq(e){return this.compareTo(e)===0}gt(e){return this.compareTo(e)>0}gte(e){return this.compareTo(e)>-1}lte(e){return this.compareTo(e)<1}compareTo(e){throw new Error(`cannot compare ${this.toString()} and ${e.toString()}`)}};Sm.Comparable=iO});var Im=T(Ar=>{h();p();var Xve=Ar&&Ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jve=Ar&&Ar.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$ve=Ar&&Ar.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Xve(e,r,t);return Jve(e,r),e};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.TransactionType=Ar.TransactionResult=Ar.LedgerEntryType=Ar.Type=Ar.Field=Ar.Bytes=Ar.TRANSACTION_TYPES=void 0;var D1=$ve(wY()),Zve=Ff(),LY=xr();Ar.TRANSACTION_TYPES=Object.entries(D1.TRANSACTION_TYPES).filter(([r,e])=>e>=0).map(([r,e])=>r);var UY=2,Qve=2,e2e=2,t2e=1;function r2e(r,e){let t=[];return r<16?e<16?t.push(r<<4|e):t.push(r<<4,e):e<16?t.push(e,r):t.push(0,r,e),LY.Buffer.from(t)}var Cm=class{constructor(e,t,n){this.name=e,this.ordinal=t,this.ordinalWidth=n,this.bytes=LY.Buffer.alloc(n);for(let i=0;i<n;i++)this.bytes[n-i-1]=t>>>i*8&255}toJSON(){return this.name}toBytesSink(e){e.put(this.bytes)}toBytes(){return this.bytes}};Ar.Bytes=Cm;var Em=class{constructor(e,t){this.ordinalWidth=t,Object.entries(e).forEach(([n,i])=>{this[n]=new Cm(n,i,t),this[i.toString()]=this[n]})}from(e){return e instanceof Cm?e:this[e]}fromParser(e){return this.from(e.readUIntN(this.ordinalWidth).toString())}};function n2e([r,e]){let t=D1.TYPES[e.type],n=r2e(t,e.nth);return{name:r,nth:e.nth,isVariableLengthEncoded:e.isVLEncoded,isSerialized:e.isSerialized,isSigningField:e.isSigningField,ordinal:t<<16|e.nth,type:new Cm(e.type,t,UY),header:n,associatedType:Zve.SerializedType}}var oO=class{constructor(e){e.forEach(([t,n])=>{this[t]=n2e([t,n]),this[this[t].ordinal.toString()]=this[t]})}fromString(e){return this[e]}},i2e=new Em(D1.TYPES,UY);Ar.Type=i2e;var o2e=new Em(D1.LEDGER_ENTRY_TYPES,Qve);Ar.LedgerEntryType=o2e;var a2e=new Em(D1.TRANSACTION_TYPES,e2e);Ar.TransactionType=a2e;var s2e=new Em(D1.TRANSACTION_RESULTS,t2e);Ar.TransactionResult=s2e;var u2e=new oO(D1.FIELDS);Ar.Field=u2e});var HY=T((mot,jY)=>{h();p();var fS=Xx().Buffer;function f2e(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var a=r.length,s=r.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=fS.from(y)),!fS.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var b=0,D=0,M=0,k=y.length;M!==k&&y[M]===0;)M++,b++;for(var N=(k-M)*f+1>>>0,K=new Uint8Array(N);M!==k;){for(var X=y[M],q=0,d=N-1;(X!==0||q<D)&&d!==-1;d--,q++)X+=256*K[d]>>>0,K[d]=X%a>>>0,X=X/a>>>0;if(X!==0)throw new Error("Non-zero carry");D=q,M++}for(var v=N-D;v!==N&&K[v]===0;)v++;for(var w=s.repeat(b);v<N;++v)w+=r.charAt(K[v]);return w}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return fS.alloc(0);for(var b=0,D=0,M=0;y[b]===s;)D++,b++;for(var k=(y.length-b)*u+1>>>0,N=new Uint8Array(k);y[b];){var K=e[y.charCodeAt(b)];if(K===255)return;for(var X=0,q=k-1;(K!==0||X<M)&&q!==-1;q--,X++)K+=a*N[q]>>>0,N[q]=K%256>>>0,K=K/256>>>0;if(K!==0)throw new Error("Non-zero carry");M=X,b++}for(var d=k-M;d!==k&&N[d]===0;)d++;var v=fS.allocUnsafe(D+(k-d));v.fill(0,0,D);for(var w=D;d!==k;)v[w++]=N[d++];return v}function g(y){var b=l(y);if(b)return b;throw new Error("Non-base"+a+" character")}return{encode:c,decodeUnsafe:l,decode:g}}jY.exports=f2e});var KY=T(Tm=>{h();p();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.concatArgs=Tm.seqEqual=void 0;function c2e(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}Tm.seqEqual=c2e;function d2e(r){return typeof r!="number"}function l2e(...r){let e=[];return r.forEach(t=>{if(d2e(t))for(let n of t)e.push(n);else e.push(t)}),e}Tm.concatArgs=l2e});var JY=T(gr=>{h();p();Object.defineProperty(gr,"__esModule",{value:!0});gr.isValidClassicAddress=gr.decodeAccountPublic=gr.encodeAccountPublic=gr.encodeNodePublic=gr.decodeNodePublic=gr.decodeAddress=gr.decodeAccountID=gr.encodeAddress=gr.encodeAccountID=gr.decodeSeed=gr.encodeSeed=gr.codec=void 0;var h2e=HY(),p2e=Jx(),cS=KY(),aO=class{constructor(e){this._sha256=e.sha256,this._alphabet=e.alphabet,this._codec=h2e(this._alphabet)}encode(e,t){let n=t.versions;return this._encodeVersioned(e,n,t.expectedLength)}decode(e,t){var n;let i=t.versions,o=t.versionTypes,a=this.decodeChecked(e);if(i.length>1&&!t.expectedLength)throw new Error("expectedLength is required because there are >= 2 possible versions");let s=typeof i[0]=="number"?1:i[0].length,u=(n=t.expectedLength)!==null&&n!==void 0?n:a.length-s,f=a.slice(0,-u),c=a.slice(-u);for(let l=0;l<i.length;l++){let g=Array.isArray(i[l])?i[l]:[i[l]];if((0,cS.seqEqual)(f,g))return{version:g,bytes:c,type:o?o[l]:null}}throw new Error("version_invalid: version bytes do not match any of the provided version(s)")}encodeChecked(e){let t=this._sha256(this._sha256(e)).slice(0,4);return this._encodeRaw(m.Buffer.from((0,cS.concatArgs)(e,t)))}decodeChecked(e){let t=this._decodeRaw(e);if(t.length<5)throw new Error("invalid_input_size: decoded data must have length >= 5");if(!this._verifyCheckSum(t))throw new Error("checksum_invalid");return t.slice(0,-4)}_encodeVersioned(e,t,n){if(n&&e.length!==n)throw new Error("unexpected_payload_length: bytes.length does not match expectedLength. Ensure that the bytes are a Buffer.");return this.encodeChecked(m.Buffer.from((0,cS.concatArgs)(t,e)))}_encodeRaw(e){return this._codec.encode(e)}_decodeRaw(e){return this._codec.decode(e)}_verifyCheckSum(e){let t=this._sha256(this._sha256(e.slice(0,-4))).slice(0,4),n=e.slice(-4);return(0,cS.seqEqual)(t,n)}},VY=0,zY=35,GY=33,YY=28,WY=[1,225,75],g2e={sha256(r){return p2e("sha256").update(m.Buffer.from(r)).digest()},alphabet:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"},Yc=new aO(g2e);gr.codec=Yc;function m2e(r,e){if(r.length!==16)throw new Error("entropy must have length 16");let t={expectedLength:16,versions:e==="ed25519"?WY:[GY]};return Yc.encode(r,t)}gr.encodeSeed=m2e;function y2e(r,e={versionTypes:["ed25519","secp256k1"],versions:[WY,GY],expectedLength:16}){return Yc.decode(r,e)}gr.decodeSeed=y2e;function XY(r){let e={versions:[VY],expectedLength:20};return Yc.encode(r,e)}gr.encodeAccountID=XY;gr.encodeAddress=XY;function sO(r){let e={versions:[VY],expectedLength:20};return Yc.decode(r,e).bytes}gr.decodeAccountID=sO;gr.decodeAddress=sO;function v2e(r){let e={versions:[YY],expectedLength:33};return Yc.decode(r,e).bytes}gr.decodeNodePublic=v2e;function _2e(r){let e={versions:[YY],expectedLength:33};return Yc.encode(r,e)}gr.encodeNodePublic=_2e;function x2e(r){let e={versions:[zY],expectedLength:33};return Yc.encode(r,e)}gr.encodeAccountPublic=x2e;function b2e(r){let e={versions:[zY],expectedLength:33};return Yc.decode(r,e).bytes}gr.decodeAccountPublic=b2e;function w2e(r){try{sO(r)}catch{return!1}return!0}gr.isValidClassicAddress=w2e});var fO=T(St=>{h();p();var S2e=St&&St.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),C2e=St&&St.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),E2e=St&&St.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&S2e(e,r,t);return C2e(e,r),e};Object.defineProperty(St,"__esModule",{value:!0});St.isValidXAddress=St.decodeXAddress=St.xAddressToClassicAddress=St.encodeXAddress=St.classicAddressToXAddress=St.isValidClassicAddress=St.decodeAccountPublic=St.encodeAccountPublic=St.decodeNodePublic=St.encodeNodePublic=St.decodeAccountID=St.encodeAccountID=St.decodeSeed=St.encodeSeed=St.codec=void 0;var $Y=E2e(aa()),Zo=JY();Object.defineProperty(St,"codec",{enumerable:!0,get:function(){return Zo.codec}});Object.defineProperty(St,"encodeSeed",{enumerable:!0,get:function(){return Zo.encodeSeed}});Object.defineProperty(St,"decodeSeed",{enumerable:!0,get:function(){return Zo.decodeSeed}});Object.defineProperty(St,"encodeAccountID",{enumerable:!0,get:function(){return Zo.encodeAccountID}});Object.defineProperty(St,"decodeAccountID",{enumerable:!0,get:function(){return Zo.decodeAccountID}});Object.defineProperty(St,"encodeNodePublic",{enumerable:!0,get:function(){return Zo.encodeNodePublic}});Object.defineProperty(St,"decodeNodePublic",{enumerable:!0,get:function(){return Zo.decodeNodePublic}});Object.defineProperty(St,"encodeAccountPublic",{enumerable:!0,get:function(){return Zo.encodeAccountPublic}});Object.defineProperty(St,"decodeAccountPublic",{enumerable:!0,get:function(){return Zo.decodeAccountPublic}});Object.defineProperty(St,"isValidClassicAddress",{enumerable:!0,get:function(){return Zo.isValidClassicAddress}});var dS={main:m.Buffer.from([5,68]),test:m.Buffer.from([4,147])},I2e=4294967295;function T2e(r,e,t){let n=(0,Zo.decodeAccountID)(r);return ZY(n,e,t)}St.classicAddressToXAddress=T2e;function ZY(r,e,t){if(r.length!==20)throw new Error("Account ID must be 20 bytes");if(e>I2e)throw new Error("Invalid tag");let n=e||0,i=e===!1||e==null?0:1,o=m.Buffer.concat([t?dS.test:dS.main,r,m.Buffer.from([i,n&255,n>>8&255,n>>16&255,n>>24&255,0,0,0,0])]);return Zo.codec.encodeChecked(o)}St.encodeXAddress=ZY;function A2e(r){let{accountId:e,tag:t,test:n}=uO(r);return{classicAddress:(0,Zo.encodeAccountID)(e),tag:t,test:n}}St.xAddressToClassicAddress=A2e;function uO(r){let e=Zo.codec.decodeChecked(r),t=O2e(e),n=e.slice(2,22),i=D2e(e);return{accountId:n,tag:i,test:t}}St.decodeXAddress=uO;function O2e(r){let e=r.slice(0,2);if(dS.main.equals(e))return!1;if(dS.test.equals(e))return!0;throw new Error("Invalid X-address: bad prefix")}function D2e(r){let e=r[22];if(e>=2)throw new Error("Unsupported X-address");return e===1?r[23]+r[24]*256+r[25]*65536+r[26]*16777216:($Y.strictEqual(e,0,"flag must be zero to indicate no tag"),$Y.ok(m.Buffer.from("0000000000000000","hex").equals(r.slice(23,23+8)),"remaining bytes must be zero"),!1)}function R2e(r){try{uO(r)}catch{return!1}return!0}St.isValidXAddress=R2e});var hS=T(lS=>{h();p();Object.defineProperty(lS,"__esModule",{value:!0});lS.Hash=void 0;var B2e=Ff(),P2e=xr(),cO=class extends B2e.Comparable{constructor(e){if(super(e),this.bytes.byteLength!==this.constructor.width)throw new Error(`Invalid Hash length ${this.bytes.byteLength}`)}static from(e){if(e instanceof this)return e;if(typeof e=="string")return new this(P2e.Buffer.from(e,"hex"));throw new Error("Cannot construct Hash from given value")}static fromParser(e,t){return new this(e.read(t??this.width))}compareTo(e){return this.bytes.compare(this.constructor.from(e).bytes)}toString(){return this.toHex()}nibblet(e){let t=e>0?e/2|0:0,n=this.bytes[t];return e%2===0?n=(n&240)>>>4:n=n&15,n}};lS.Hash=cO});var gS=T(pS=>{h();p();Object.defineProperty(pS,"__esModule",{value:!0});pS.Hash160=void 0;var M2e=hS(),N2e=xr(),Lf=class extends M2e.Hash{constructor(e){e&&e.byteLength===0&&(e=Lf.ZERO_160.bytes),super(e??Lf.ZERO_160.bytes)}};pS.Hash160=Lf;Lf.width=20;Lf.ZERO_160=new Lf(N2e.Buffer.alloc(Lf.width))});var vS=T(yS=>{h();p();Object.defineProperty(yS,"__esModule",{value:!0});yS.AccountID=void 0;var mS=fO(),k2e=gS(),dO=xr(),q2e=/^[A-F0-9]{40}$/,Yu=class extends k2e.Hash160{constructor(e){super(e??Yu.defaultAccountID.bytes)}static from(e){if(e instanceof Yu)return e;if(typeof e=="string")return e===""?new Yu:q2e.test(e)?new Yu(dO.Buffer.from(e,"hex")):this.fromBase58(e);throw new Error("Cannot construct AccountID from value given")}static fromBase58(e){if((0,mS.isValidXAddress)(e)){let t=(0,mS.xAddressToClassicAddress)(e);if(t.tag!==!1)throw new Error("Only allowed to have tag on Account or Destination");e=t.classicAddress}return new Yu(dO.Buffer.from((0,mS.decodeAccountID)(e)))}toJSON(){return this.toBase58()}toBase58(){return(0,mS.encodeAccountID)(this.bytes)}};yS.AccountID=Yu;Yu.defaultAccountID=new Yu(dO.Buffer.alloc(20))});var lO=T((QY,_S)=>{h();p();(function(r){"use strict";var e=9e15,t=1e9,n="0123456789abcdef",i="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",o="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",a={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-e,maxE:e,crypto:!1},s,u,f,c,l=!0,g="[DecimalError] ",y=g+"Invalid argument: ",b=g+"Precision limit exceeded",D=g+"crypto unavailable",M="[object Decimal]",k=Math.floor,N=Math.pow,K=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,X=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,q=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,v=1e7,w=7,I=9007199254740991,x=i.length-1,B=o.length-1,E={toStringTag:M};E.absoluteValue=E.abs=function(){var O=new this.constructor(this);return O.s<0&&(O.s=1),F(O)},E.ceil=function(){return F(new this.constructor(this),this.e+1,2)},E.clampedTo=E.clamp=function(O,L){var j,H=this,z=H.constructor;if(O=new z(O),L=new z(L),!O.s||!L.s)return new z(NaN);if(O.gt(L))throw Error(y+L);return j=H.cmp(O),j<0?O:H.cmp(L)>0?L:new z(H)},E.comparedTo=E.cmp=function(O){var L,j,H,z,G=this,Q=G.d,ee=(O=new G.constructor(O)).d,ie=G.s,te=O.s;if(!Q||!ee)return!ie||!te?NaN:ie!==te?ie:Q===ee?0:!Q^ie<0?1:-1;if(!Q[0]||!ee[0])return Q[0]?ie:ee[0]?-te:0;if(ie!==te)return ie;if(G.e!==O.e)return G.e>O.e^ie<0?1:-1;for(H=Q.length,z=ee.length,L=0,j=H<z?H:z;L<j;++L)if(Q[L]!==ee[L])return Q[L]>ee[L]^ie<0?1:-1;return H===z?0:H>z^ie<0?1:-1},E.cosine=E.cos=function(){var O,L,j=this,H=j.constructor;return j.d?j.d[0]?(O=H.precision,L=H.rounding,H.precision=O+Math.max(j.e,j.sd())+w,H.rounding=1,j=P(H,Je(H,j)),H.precision=O,H.rounding=L,F(c==2||c==3?j.neg():j,O,L,!0)):new H(1):new H(NaN)},E.cubeRoot=E.cbrt=function(){var O,L,j,H,z,G,Q,ee,ie,te,ue=this,de=ue.constructor;if(!ue.isFinite()||ue.isZero())return new de(ue);for(l=!1,G=ue.s*N(ue.s*ue,1/3),!G||Math.abs(G)==1/0?(j=_(ue.d),O=ue.e,(G=(O-j.length+1)%3)&&(j+=G==1||G==-2?"0":"00"),G=N(j,1/3),O=k((O+1)/3)-(O%3==(O<0?-1:2)),G==1/0?j="5e"+O:(j=G.toExponential(),j=j.slice(0,j.indexOf("e")+1)+O),H=new de(j),H.s=ue.s):H=new de(G.toString()),Q=(O=de.precision)+3;;)if(ee=H,ie=ee.times(ee).times(ee),te=ie.plus(ue),H=S(te.plus(ue).times(ee),te.plus(ie),Q+2,1),_(ee.d).slice(0,Q)===(j=_(H.d)).slice(0,Q))if(j=j.slice(Q-3,Q+1),j=="9999"||!z&&j=="4999"){if(!z&&(F(ee,O+1,0),ee.times(ee).times(ee).eq(ue))){H=ee;break}Q+=4,z=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&(F(H,O+1,1),L=!H.times(H).times(H).eq(ue));break}return l=!0,F(H,O,de.rounding,L)},E.decimalPlaces=E.dp=function(){var O,L=this.d,j=NaN;if(L){if(O=L.length-1,j=(O-k(this.e/w))*w,O=L[O],O)for(;O%10==0;O/=10)j--;j<0&&(j=0)}return j},E.dividedBy=E.div=function(O){return S(this,new this.constructor(O))},E.dividedToIntegerBy=E.divToInt=function(O){var L=this,j=L.constructor;return F(S(L,new j(O),0,1,1),j.precision,j.rounding)},E.equals=E.eq=function(O){return this.cmp(O)===0},E.floor=function(){return F(new this.constructor(this),this.e+1,3)},E.greaterThan=E.gt=function(O){return this.cmp(O)>0},E.greaterThanOrEqualTo=E.gte=function(O){var L=this.cmp(O);return L==1||L===0},E.hyperbolicCosine=E.cosh=function(){var O,L,j,H,z,G=this,Q=G.constructor,ee=new Q(1);if(!G.isFinite())return new Q(G.s?1/0:NaN);if(G.isZero())return ee;j=Q.precision,H=Q.rounding,Q.precision=j+Math.max(G.e,G.sd())+4,Q.rounding=1,z=G.d.length,z<32?(O=Math.ceil(z/3),L=(1/Ge(4,O)).toString()):(O=16,L="2.3283064365386962890625e-10"),G=ko(Q,1,G.times(L),new Q(1),!0);for(var ie,te=O,ue=new Q(8);te--;)ie=G.times(G),G=ee.minus(ie.times(ue.minus(ie.times(ue))));return F(G,Q.precision=j,Q.rounding=H,!0)},E.hyperbolicSine=E.sinh=function(){var O,L,j,H,z=this,G=z.constructor;if(!z.isFinite()||z.isZero())return new G(z);if(L=G.precision,j=G.rounding,G.precision=L+Math.max(z.e,z.sd())+4,G.rounding=1,H=z.d.length,H<3)z=ko(G,2,z,z,!0);else{O=1.4*Math.sqrt(H),O=O>16?16:O|0,z=z.times(1/Ge(5,O)),z=ko(G,2,z,z,!0);for(var Q,ee=new G(5),ie=new G(16),te=new G(20);O--;)Q=z.times(z),z=z.times(ee.plus(Q.times(ie.times(Q).plus(te))))}return G.precision=L,G.rounding=j,F(z,L,j,!0)},E.hyperbolicTangent=E.tanh=function(){var O,L,j=this,H=j.constructor;return j.isFinite()?j.isZero()?new H(j):(O=H.precision,L=H.rounding,H.precision=O+7,H.rounding=1,S(j.sinh(),j.cosh(),H.precision=O,H.rounding=L)):new H(j.s)},E.inverseCosine=E.acos=function(){var O,L=this,j=L.constructor,H=L.abs().cmp(1),z=j.precision,G=j.rounding;return H!==-1?H===0?L.isNeg()?he(j,z,G):new j(0):new j(NaN):L.isZero()?he(j,z+4,G).times(.5):(j.precision=z+6,j.rounding=1,L=L.asin(),O=he(j,z+4,G).times(.5),j.precision=z,j.rounding=G,O.minus(L))},E.inverseHyperbolicCosine=E.acosh=function(){var O,L,j=this,H=j.constructor;return j.lte(1)?new H(j.eq(1)?0:NaN):j.isFinite()?(O=H.precision,L=H.rounding,H.precision=O+Math.max(Math.abs(j.e),j.sd())+4,H.rounding=1,l=!1,j=j.times(j).minus(1).sqrt().plus(j),l=!0,H.precision=O,H.rounding=L,j.ln()):new H(j)},E.inverseHyperbolicSine=E.asinh=function(){var O,L,j=this,H=j.constructor;return!j.isFinite()||j.isZero()?new H(j):(O=H.precision,L=H.rounding,H.precision=O+2*Math.max(Math.abs(j.e),j.sd())+6,H.rounding=1,l=!1,j=j.times(j).plus(1).sqrt().plus(j),l=!0,H.precision=O,H.rounding=L,j.ln())},E.inverseHyperbolicTangent=E.atanh=function(){var O,L,j,H,z=this,G=z.constructor;return z.isFinite()?z.e>=0?new G(z.abs().eq(1)?z.s/0:z.isZero()?z:NaN):(O=G.precision,L=G.rounding,H=z.sd(),Math.max(H,O)<2*-z.e-1?F(new G(z),O,L,!0):(G.precision=j=H-z.e,z=S(z.plus(1),new G(1).minus(z),j+O,1),G.precision=O+4,G.rounding=1,z=z.ln(),G.precision=O,G.rounding=L,z.times(.5))):new G(NaN)},E.inverseSine=E.asin=function(){var O,L,j,H,z=this,G=z.constructor;return z.isZero()?new G(z):(L=z.abs().cmp(1),j=G.precision,H=G.rounding,L!==-1?L===0?(O=he(G,j+4,H).times(.5),O.s=z.s,O):new G(NaN):(G.precision=j+6,G.rounding=1,z=z.div(new G(1).minus(z.times(z)).sqrt().plus(1)).atan(),G.precision=j,G.rounding=H,z.times(2)))},E.inverseTangent=E.atan=function(){var O,L,j,H,z,G,Q,ee,ie,te=this,ue=te.constructor,de=ue.precision,me=ue.rounding;if(te.isFinite()){if(te.isZero())return new ue(te);if(te.abs().eq(1)&&de+4<=B)return Q=he(ue,de+4,me).times(.25),Q.s=te.s,Q}else{if(!te.s)return new ue(NaN);if(de+4<=B)return Q=he(ue,de+4,me).times(.5),Q.s=te.s,Q}for(ue.precision=ee=de+10,ue.rounding=1,j=Math.min(28,ee/w+2|0),O=j;O;--O)te=te.div(te.times(te).plus(1).sqrt().plus(1));for(l=!1,L=Math.ceil(ee/w),H=1,ie=te.times(te),Q=new ue(te),z=te;O!==-1;)if(z=z.times(ie),G=Q.minus(z.div(H+=2)),z=z.times(ie),Q=G.plus(z.div(H+=2)),Q.d[L]!==void 0)for(O=L;Q.d[O]===G.d[O]&&O--;);return j&&(Q=Q.times(2<<j-1)),l=!0,F(Q,ue.precision=de,ue.rounding=me,!0)},E.isFinite=function(){return!!this.d},E.isInteger=E.isInt=function(){return!!this.d&&k(this.e/w)>this.d.length-2},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isPositive=E.isPos=function(){return this.s>0},E.isZero=function(){return!!this.d&&this.d[0]===0},E.lessThan=E.lt=function(O){return this.cmp(O)<0},E.lessThanOrEqualTo=E.lte=function(O){return this.cmp(O)<1},E.logarithm=E.log=function(O){var L,j,H,z,G,Q,ee,ie,te=this,ue=te.constructor,de=ue.precision,me=ue.rounding,Ie=5;if(O==null)O=new ue(10),L=!0;else{if(O=new ue(O),j=O.d,O.s<0||!j||!j[0]||O.eq(1))return new ue(NaN);L=O.eq(10)}if(j=te.d,te.s<0||!j||!j[0]||te.eq(1))return new ue(j&&!j[0]?-1/0:te.s!=1?NaN:j?0:1/0);if(L)if(j.length>1)G=!0;else{for(z=j[0];z%10===0;)z/=10;G=z!==1}if(l=!1,ee=de+Ie,Q=De(te,ee),H=L?J(ue,ee+10):De(O,ee),ie=S(Q,H,ee,1),A(ie.d,z=de,me))do if(ee+=10,Q=De(te,ee),H=L?J(ue,ee+10):De(O,ee),ie=S(Q,H,ee,1),!G){+_(ie.d).slice(z+1,z+15)+1==1e14&&(ie=F(ie,de+1,0));break}while(A(ie.d,z+=10,me));return l=!0,F(ie,de,me)},E.minus=E.sub=function(O){var L,j,H,z,G,Q,ee,ie,te,ue,de,me,Ie=this,yt=Ie.constructor;if(O=new yt(O),!Ie.d||!O.d)return!Ie.s||!O.s?O=new yt(NaN):Ie.d?O.s=-O.s:O=new yt(O.d||Ie.s!==O.s?Ie:NaN),O;if(Ie.s!=O.s)return O.s=-O.s,Ie.plus(O);if(te=Ie.d,me=O.d,ee=yt.precision,ie=yt.rounding,!te[0]||!me[0]){if(me[0])O.s=-O.s;else if(te[0])O=new yt(Ie);else return new yt(ie===3?-0:0);return l?F(O,ee,ie):O}if(j=k(O.e/w),ue=k(Ie.e/w),te=te.slice(),G=ue-j,G){for(de=G<0,de?(L=te,G=-G,Q=me.length):(L=me,j=ue,Q=te.length),H=Math.max(Math.ceil(ee/w),Q)+2,G>H&&(G=H,L.length=1),L.reverse(),H=G;H--;)L.push(0);L.reverse()}else{for(H=te.length,Q=me.length,de=H<Q,de&&(Q=H),H=0;H<Q;H++)if(te[H]!=me[H]){de=te[H]<me[H];break}G=0}for(de&&(L=te,te=me,me=L,O.s=-O.s),Q=te.length,H=me.length-Q;H>0;--H)te[Q++]=0;for(H=me.length;H>G;){if(te[--H]<me[H]){for(z=H;z&&te[--z]===0;)te[z]=v-1;--te[z],te[H]+=v}te[H]-=me[H]}for(;te[--Q]===0;)te.pop();for(;te[0]===0;te.shift())--j;return te[0]?(O.d=te,O.e=R(te,j),l?F(O,ee,ie):O):new yt(ie===3?-0:0)},E.modulo=E.mod=function(O){var L,j=this,H=j.constructor;return O=new H(O),!j.d||!O.s||O.d&&!O.d[0]?new H(NaN):!O.d||j.d&&!j.d[0]?F(new H(j),H.precision,H.rounding):(l=!1,H.modulo==9?(L=S(j,O.abs(),0,3,1),L.s*=O.s):L=S(j,O,0,H.modulo,1),L=L.times(O),l=!0,j.minus(L))},E.naturalExponential=E.exp=function(){return cn(this)},E.naturalLogarithm=E.ln=function(){return De(this)},E.negated=E.neg=function(){var O=new this.constructor(this);return O.s=-O.s,F(O)},E.plus=E.add=function(O){var L,j,H,z,G,Q,ee,ie,te,ue,de=this,me=de.constructor;if(O=new me(O),!de.d||!O.d)return!de.s||!O.s?O=new me(NaN):de.d||(O=new me(O.d||de.s===O.s?de:NaN)),O;if(de.s!=O.s)return O.s=-O.s,de.minus(O);if(te=de.d,ue=O.d,ee=me.precision,ie=me.rounding,!te[0]||!ue[0])return ue[0]||(O=new me(de)),l?F(O,ee,ie):O;if(G=k(de.e/w),H=k(O.e/w),te=te.slice(),z=G-H,z){for(z<0?(j=te,z=-z,Q=ue.length):(j=ue,H=G,Q=te.length),G=Math.ceil(ee/w),Q=G>Q?G+1:Q+1,z>Q&&(z=Q,j.length=1),j.reverse();z--;)j.push(0);j.reverse()}for(Q=te.length,z=ue.length,Q-z<0&&(z=Q,j=ue,ue=te,te=j),L=0;z;)L=(te[--z]=te[z]+ue[z]+L)/v|0,te[z]%=v;for(L&&(te.unshift(L),++H),Q=te.length;te[--Q]==0;)te.pop();return O.d=te,O.e=R(te,H),l?F(O,ee,ie):O},E.precision=E.sd=function(O){var L,j=this;if(O!==void 0&&O!==!!O&&O!==1&&O!==0)throw Error(y+O);return j.d?(L=xe(j.d),O&&j.e+1>L&&(L=j.e+1)):L=NaN,L},E.round=function(){var O=this,L=O.constructor;return F(new L(O),O.e+1,L.rounding)},E.sine=E.sin=function(){var O,L,j=this,H=j.constructor;return j.isFinite()?j.isZero()?new H(j):(O=H.precision,L=H.rounding,H.precision=O+Math.max(j.e,j.sd())+w,H.rounding=1,j=Qe(H,Je(H,j)),H.precision=O,H.rounding=L,F(c>2?j.neg():j,O,L,!0)):new H(NaN)},E.squareRoot=E.sqrt=function(){var O,L,j,H,z,G,Q=this,ee=Q.d,ie=Q.e,te=Q.s,ue=Q.constructor;if(te!==1||!ee||!ee[0])return new ue(!te||te<0&&(!ee||ee[0])?NaN:ee?Q:1/0);for(l=!1,te=Math.sqrt(+Q),te==0||te==1/0?(L=_(ee),(L.length+ie)%2==0&&(L+="0"),te=Math.sqrt(L),ie=k((ie+1)/2)-(ie<0||ie%2),te==1/0?L="5e"+ie:(L=te.toExponential(),L=L.slice(0,L.indexOf("e")+1)+ie),H=new ue(L)):H=new ue(te.toString()),j=(ie=ue.precision)+3;;)if(G=H,H=G.plus(S(Q,G,j+2,1)).times(.5),_(G.d).slice(0,j)===(L=_(H.d)).slice(0,j))if(L=L.slice(j-3,j+1),L=="9999"||!z&&L=="4999"){if(!z&&(F(G,ie+1,0),G.times(G).eq(Q))){H=G;break}j+=4,z=1}else{(!+L||!+L.slice(1)&&L.charAt(0)=="5")&&(F(H,ie+1,1),O=!H.times(H).eq(Q));break}return l=!0,F(H,ie,ue.rounding,O)},E.tangent=E.tan=function(){var O,L,j=this,H=j.constructor;return j.isFinite()?j.isZero()?new H(j):(O=H.precision,L=H.rounding,H.precision=O+10,H.rounding=1,j=j.sin(),j.s=1,j=S(j,new H(1).minus(j.times(j)).sqrt(),O+10,0),H.precision=O,H.rounding=L,F(c==2||c==4?j.neg():j,O,L,!0)):new H(NaN)},E.times=E.mul=function(O){var L,j,H,z,G,Q,ee,ie,te,ue=this,de=ue.constructor,me=ue.d,Ie=(O=new de(O)).d;if(O.s*=ue.s,!me||!me[0]||!Ie||!Ie[0])return new de(!O.s||me&&!me[0]&&!Ie||Ie&&!Ie[0]&&!me?NaN:!me||!Ie?O.s/0:O.s*0);for(j=k(ue.e/w)+k(O.e/w),ie=me.length,te=Ie.length,ie<te&&(G=me,me=Ie,Ie=G,Q=ie,ie=te,te=Q),G=[],Q=ie+te,H=Q;H--;)G.push(0);for(H=te;--H>=0;){for(L=0,z=ie+H;z>H;)ee=G[z]+Ie[H]*me[z-H-1]+L,G[z--]=ee%v|0,L=ee/v|0;G[z]=(G[z]+L)%v|0}for(;!G[--Q];)G.pop();return L?++j:G.shift(),O.d=G,O.e=R(G,j),l?F(O,de.precision,de.rounding):O},E.toBinary=function(O,L){return uo(this,2,O,L)},E.toDecimalPlaces=E.toDP=function(O,L){var j=this,H=j.constructor;return j=new H(j),O===void 0?j:(C(O,0,t),L===void 0?L=H.rounding:C(L,0,8),F(j,O+j.e+1,L))},E.toExponential=function(O,L){var j,H=this,z=H.constructor;return O===void 0?j=W(H,!0):(C(O,0,t),L===void 0?L=z.rounding:C(L,0,8),H=F(new z(H),O+1,L),j=W(H,!0,O+1)),H.isNeg()&&!H.isZero()?"-"+j:j},E.toFixed=function(O,L){var j,H,z=this,G=z.constructor;return O===void 0?j=W(z):(C(O,0,t),L===void 0?L=G.rounding:C(L,0,8),H=F(new G(z),O+z.e+1,L),j=W(H,!1,O+H.e+1)),z.isNeg()&&!z.isZero()?"-"+j:j},E.toFraction=function(O){var L,j,H,z,G,Q,ee,ie,te,ue,de,me,Ie=this,yt=Ie.d,He=Ie.constructor;if(!yt)return new He(Ie);if(te=j=new He(1),H=ie=new He(0),L=new He(H),G=L.e=xe(yt)-Ie.e-1,Q=G%w,L.d[0]=N(10,Q<0?w+Q:Q),O==null)O=G>0?L:te;else{if(ee=new He(O),!ee.isInt()||ee.lt(te))throw Error(y+ee);O=ee.gt(L)?G>0?L:te:ee}for(l=!1,ee=new He(_(yt)),ue=He.precision,He.precision=G=yt.length*w*2;de=S(ee,L,0,1,1),z=j.plus(de.times(H)),z.cmp(O)!=1;)j=H,H=z,z=te,te=ie.plus(de.times(z)),ie=z,z=L,L=ee.minus(de.times(z)),ee=z;return z=S(O.minus(j),H,0,1,1),ie=ie.plus(z.times(te)),j=j.plus(z.times(H)),ie.s=te.s=Ie.s,me=S(te,H,G,1).minus(Ie).abs().cmp(S(ie,j,G,1).minus(Ie).abs())<1?[te,H]:[ie,j],He.precision=ue,l=!0,me},E.toHexadecimal=E.toHex=function(O,L){return uo(this,16,O,L)},E.toNearest=function(O,L){var j=this,H=j.constructor;if(j=new H(j),O==null){if(!j.d)return j;O=new H(1),L=H.rounding}else{if(O=new H(O),L===void 0?L=H.rounding:C(L,0,8),!j.d)return O.s?j:O;if(!O.d)return O.s&&(O.s=j.s),O}return O.d[0]?(l=!1,j=S(j,O,0,L,1).times(O),l=!0,F(j)):(O.s=j.s,j=O),j},E.toNumber=function(){return+this},E.toOctal=function(O,L){return uo(this,8,O,L)},E.toPower=E.pow=function(O){var L,j,H,z,G,Q,ee=this,ie=ee.constructor,te=+(O=new ie(O));if(!ee.d||!O.d||!ee.d[0]||!O.d[0])return new ie(N(+ee,te));if(ee=new ie(ee),ee.eq(1))return ee;if(H=ie.precision,G=ie.rounding,O.eq(1))return F(ee,H,G);if(L=k(O.e/w),L>=O.d.length-1&&(j=te<0?-te:te)<=I)return z=ke(ie,ee,j,H),O.s<0?new ie(1).div(z):F(z,H,G);if(Q=ee.s,Q<0){if(L<O.d.length-1)return new ie(NaN);if((O.d[L]&1)==0&&(Q=1),ee.e==0&&ee.d[0]==1&&ee.d.length==1)return ee.s=Q,ee}return j=N(+ee,te),L=j==0||!isFinite(j)?k(te*(Math.log("0."+_(ee.d))/Math.LN10+ee.e+1)):new ie(j+"").e,L>ie.maxE+1||L<ie.minE-1?new ie(L>0?Q/0:0):(l=!1,ie.rounding=ee.s=1,j=Math.min(12,(L+"").length),z=cn(O.times(De(ee,H+j)),H),z.d&&(z=F(z,H+5,1),A(z.d,H,G)&&(L=H+10,z=F(cn(O.times(De(ee,L+j)),L),L+5,1),+_(z.d).slice(H+1,H+15)+1==1e14&&(z=F(z,H+1,0)))),z.s=Q,l=!0,ie.rounding=G,F(z,H,G))},E.toPrecision=function(O,L){var j,H=this,z=H.constructor;return O===void 0?j=W(H,H.e<=z.toExpNeg||H.e>=z.toExpPos):(C(O,1,t),L===void 0?L=z.rounding:C(L,0,8),H=F(new z(H),O,L),j=W(H,O<=H.e||H.e<=z.toExpNeg,O)),H.isNeg()&&!H.isZero()?"-"+j:j},E.toSignificantDigits=E.toSD=function(O,L){var j=this,H=j.constructor;return O===void 0?(O=H.precision,L=H.rounding):(C(O,1,t),L===void 0?L=H.rounding:C(L,0,8)),F(new H(j),O,L)},E.toString=function(){var O=this,L=O.constructor,j=W(O,O.e<=L.toExpNeg||O.e>=L.toExpPos);return O.isNeg()&&!O.isZero()?"-"+j:j},E.truncated=E.trunc=function(){return F(new this.constructor(this),this.e+1,1)},E.valueOf=E.toJSON=function(){var O=this,L=O.constructor,j=W(O,O.e<=L.toExpNeg||O.e>=L.toExpPos);return O.isNeg()?"-"+j:j};function _(O){var L,j,H,z=O.length-1,G="",Q=O[0];if(z>0){for(G+=Q,L=1;L<z;L++)H=O[L]+"",j=w-H.length,j&&(G+=_e(j)),G+=H;Q=O[L],H=Q+"",j=w-H.length,j&&(G+=_e(j))}else if(Q===0)return"0";for(;Q%10===0;)Q/=10;return G+Q}function C(O,L,j){if(O!==~~O||O<L||O>j)throw Error(y+O)}function A(O,L,j,H){var z,G,Q,ee;for(G=O[0];G>=10;G/=10)--L;return--L<0?(L+=w,z=0):(z=Math.ceil((L+1)/w),L%=w),G=N(10,w-L),ee=O[z]%G|0,H==null?L<3?(L==0?ee=ee/100|0:L==1&&(ee=ee/10|0),Q=j<4&&ee==99999||j>3&&ee==49999||ee==5e4||ee==0):Q=(j<4&&ee+1==G||j>3&&ee+1==G/2)&&(O[z+1]/G/100|0)==N(10,L-2)-1||(ee==G/2||ee==0)&&(O[z+1]/G/100|0)==0:L<4?(L==0?ee=ee/1e3|0:L==1?ee=ee/100|0:L==2&&(ee=ee/10|0),Q=(H||j<4)&&ee==9999||!H&&j>3&&ee==4999):Q=((H||j<4)&&ee+1==G||!H&&j>3&&ee+1==G/2)&&(O[z+1]/G/1e3|0)==N(10,L-3)-1,Q}function U(O,L,j){for(var H,z=[0],G,Q=0,ee=O.length;Q<ee;){for(G=z.length;G--;)z[G]*=L;for(z[0]+=n.indexOf(O.charAt(Q++)),H=0;H<z.length;H++)z[H]>j-1&&(z[H+1]===void 0&&(z[H+1]=0),z[H+1]+=z[H]/j|0,z[H]%=j)}return z.reverse()}function P(O,L){var j,H,z;if(L.isZero())return L;H=L.d.length,H<32?(j=Math.ceil(H/3),z=(1/Ge(4,j)).toString()):(j=16,z="2.3283064365386962890625e-10"),O.precision+=j,L=ko(O,1,L.times(z),new O(1));for(var G=j;G--;){var Q=L.times(L);L=Q.times(Q).minus(Q).times(8).plus(1)}return O.precision-=j,L}var S=function(){function O(H,z,G){var Q,ee=0,ie=H.length;for(H=H.slice();ie--;)Q=H[ie]*z+ee,H[ie]=Q%G|0,ee=Q/G|0;return ee&&H.unshift(ee),H}function L(H,z,G,Q){var ee,ie;if(G!=Q)ie=G>Q?1:-1;else for(ee=ie=0;ee<G;ee++)if(H[ee]!=z[ee]){ie=H[ee]>z[ee]?1:-1;break}return ie}function j(H,z,G,Q){for(var ee=0;G--;)H[G]-=ee,ee=H[G]<z[G]?1:0,H[G]=ee*Q+H[G]-z[G];for(;!H[0]&&H.length>1;)H.shift()}return function(H,z,G,Q,ee,ie){var te,ue,de,me,Ie,yt,He,wr,Ut,fo,jt,Lr,zx,fc,Q5,Gx,ky,eE,su,Yx,Wx=H.constructor,tE=H.s==z.s?1:-1,Zn=H.d,dr=z.d;if(!Zn||!Zn[0]||!dr||!dr[0])return new Wx(!H.s||!z.s||(Zn?dr&&Zn[0]==dr[0]:!dr)?NaN:Zn&&Zn[0]==0||!dr?tE*0:tE/0);for(ie?(Ie=1,ue=H.e-z.e):(ie=v,Ie=w,ue=k(H.e/Ie)-k(z.e/Ie)),su=dr.length,ky=Zn.length,Ut=new Wx(tE),fo=Ut.d=[],de=0;dr[de]==(Zn[de]||0);de++);if(dr[de]>(Zn[de]||0)&&ue--,G==null?(fc=G=Wx.precision,Q=Wx.rounding):ee?fc=G+(H.e-z.e)+1:fc=G,fc<0)fo.push(1),yt=!0;else{if(fc=fc/Ie+2|0,de=0,su==1){for(me=0,dr=dr[0],fc++;(de<ky||me)&&fc--;de++)Q5=me*ie+(Zn[de]||0),fo[de]=Q5/dr|0,me=Q5%dr|0;yt=me||de<ky}else{for(me=ie/(dr[0]+1)|0,me>1&&(dr=O(dr,me,ie),Zn=O(Zn,me,ie),su=dr.length,ky=Zn.length),Gx=su,jt=Zn.slice(0,su),Lr=jt.length;Lr<su;)jt[Lr++]=0;Yx=dr.slice(),Yx.unshift(0),eE=dr[0],dr[1]>=ie/2&&++eE;do me=0,te=L(dr,jt,su,Lr),te<0?(zx=jt[0],su!=Lr&&(zx=zx*ie+(jt[1]||0)),me=zx/eE|0,me>1?(me>=ie&&(me=ie-1),He=O(dr,me,ie),wr=He.length,Lr=jt.length,te=L(He,jt,wr,Lr),te==1&&(me--,j(He,su<wr?Yx:dr,wr,ie))):(me==0&&(te=me=1),He=dr.slice()),wr=He.length,wr<Lr&&He.unshift(0),j(jt,He,Lr,ie),te==-1&&(Lr=jt.length,te=L(dr,jt,su,Lr),te<1&&(me++,j(jt,su<Lr?Yx:dr,Lr,ie))),Lr=jt.length):te===0&&(me++,jt=[0]),fo[de++]=me,te&&jt[0]?jt[Lr++]=Zn[Gx]||0:(jt=[Zn[Gx]],Lr=1);while((Gx++<ky||jt[0]!==void 0)&&fc--);yt=jt[0]!==void 0}fo[0]||fo.shift()}if(Ie==1)Ut.e=ue,u=yt;else{for(de=1,me=fo[0];me>=10;me/=10)de++;Ut.e=de+ue*Ie-1,F(Ut,ee?G+Ut.e+1:G,Q,yt)}return Ut}}();function F(O,L,j,H){var z,G,Q,ee,ie,te,ue,de,me,Ie=O.constructor;e:if(L!=null){if(de=O.d,!de)return O;for(z=1,ee=de[0];ee>=10;ee/=10)z++;if(G=L-z,G<0)G+=w,Q=L,ue=de[me=0],ie=ue/N(10,z-Q-1)%10|0;else if(me=Math.ceil((G+1)/w),ee=de.length,me>=ee)if(H){for(;ee++<=me;)de.push(0);ue=ie=0,z=1,G%=w,Q=G-w+1}else break e;else{for(ue=ee=de[me],z=1;ee>=10;ee/=10)z++;G%=w,Q=G-w+z,ie=Q<0?0:ue/N(10,z-Q-1)%10|0}if(H=H||L<0||de[me+1]!==void 0||(Q<0?ue:ue%N(10,z-Q-1)),te=j<4?(ie||H)&&(j==0||j==(O.s<0?3:2)):ie>5||ie==5&&(j==4||H||j==6&&(G>0?Q>0?ue/N(10,z-Q):0:de[me-1])%10&1||j==(O.s<0?8:7)),L<1||!de[0])return de.length=0,te?(L-=O.e+1,de[0]=N(10,(w-L%w)%w),O.e=-L||0):de[0]=O.e=0,O;if(G==0?(de.length=me,ee=1,me--):(de.length=me+1,ee=N(10,w-G),de[me]=Q>0?(ue/N(10,z-Q)%N(10,Q)|0)*ee:0),te)for(;;)if(me==0){for(G=1,Q=de[0];Q>=10;Q/=10)G++;for(Q=de[0]+=ee,ee=1;Q>=10;Q/=10)ee++;G!=ee&&(O.e++,de[0]==v&&(de[0]=1));break}else{if(de[me]+=ee,de[me]!=v)break;de[me--]=0,ee=1}for(G=de.length;de[--G]===0;)de.pop()}return l&&(O.e>Ie.maxE?(O.d=null,O.e=NaN):O.e<Ie.minE&&(O.e=0,O.d=[0])),O}function W(O,L,j){if(!O.isFinite())return je(O);var H,z=O.e,G=_(O.d),Q=G.length;return L?(j&&(H=j-Q)>0?G=G.charAt(0)+"."+G.slice(1)+_e(H):Q>1&&(G=G.charAt(0)+"."+G.slice(1)),G=G+(O.e<0?"e":"e+")+O.e):z<0?(G="0."+_e(-z-1)+G,j&&(H=j-Q)>0&&(G+=_e(H))):z>=Q?(G+=_e(z+1-Q),j&&(H=j-z-1)>0&&(G=G+"."+_e(H))):((H=z+1)<Q&&(G=G.slice(0,H)+"."+G.slice(H)),j&&(H=j-Q)>0&&(z+1===Q&&(G+="."),G+=_e(H))),G}function R(O,L){var j=O[0];for(L*=w;j>=10;j/=10)L++;return L}function J(O,L,j){if(L>x)throw l=!0,j&&(O.precision=j),Error(b);return F(new O(i),L,1,!0)}function he(O,L,j){if(L>B)throw Error(b);return F(new O(o),L,j,!0)}function xe(O){var L=O.length-1,j=L*w+1;if(L=O[L],L){for(;L%10==0;L/=10)j--;for(L=O[0];L>=10;L/=10)j++}return j}function _e(O){for(var L="";O--;)L+="0";return L}function ke(O,L,j,H){var z,G=new O(1),Q=Math.ceil(H/w+4);for(l=!1;;){if(j%2&&(G=G.times(L),We(G.d,Q)&&(z=!0)),j=k(j/2),j===0){j=G.d.length-1,z&&G.d[j]===0&&++G.d[j];break}L=L.times(L),We(L.d,Q)}return l=!0,G}function Te(O){return O.d[O.d.length-1]&1}function Oe(O,L,j){for(var H,z=new O(L[0]),G=0;++G<L.length;)if(H=new O(L[G]),H.s)z[j](H)&&(z=H);else{z=H;break}return z}function cn(O,L){var j,H,z,G,Q,ee,ie,te=0,ue=0,de=0,me=O.constructor,Ie=me.rounding,yt=me.precision;if(!O.d||!O.d[0]||O.e>17)return new me(O.d?O.d[0]?O.s<0?0:1/0:1:O.s?O.s<0?0:O:0/0);for(L==null?(l=!1,ie=yt):ie=L,ee=new me(.03125);O.e>-2;)O=O.times(ee),de+=5;for(H=Math.log(N(2,de))/Math.LN10*2+5|0,ie+=H,j=G=Q=new me(1),me.precision=ie;;){if(G=F(G.times(O),ie,1),j=j.times(++ue),ee=Q.plus(S(G,j,ie,1)),_(ee.d).slice(0,ie)===_(Q.d).slice(0,ie)){for(z=de;z--;)Q=F(Q.times(Q),ie,1);if(L==null)if(te<3&&A(Q.d,ie-H,Ie,te))me.precision=ie+=10,j=G=ee=new me(1),ue=0,te++;else return F(Q,me.precision=yt,Ie,l=!0);else return me.precision=yt,Q}Q=ee}}function De(O,L){var j,H,z,G,Q,ee,ie,te,ue,de,me,Ie=1,yt=10,He=O,wr=He.d,Ut=He.constructor,fo=Ut.rounding,jt=Ut.precision;if(He.s<0||!wr||!wr[0]||!He.e&&wr[0]==1&&wr.length==1)return new Ut(wr&&!wr[0]?-1/0:He.s!=1?NaN:wr?0:He);if(L==null?(l=!1,ue=jt):ue=L,Ut.precision=ue+=yt,j=_(wr),H=j.charAt(0),Math.abs(G=He.e)<15e14){for(;H<7&&H!=1||H==1&&j.charAt(1)>3;)He=He.times(O),j=_(He.d),H=j.charAt(0),Ie++;G=He.e,H>1?(He=new Ut("0."+j),G++):He=new Ut(H+"."+j.slice(1))}else return te=J(Ut,ue+2,jt).times(G+""),He=De(new Ut(H+"."+j.slice(1)),ue-yt).plus(te),Ut.precision=jt,L==null?F(He,jt,fo,l=!0):He;for(de=He,ie=Q=He=S(He.minus(1),He.plus(1),ue,1),me=F(He.times(He),ue,1),z=3;;){if(Q=F(Q.times(me),ue,1),te=ie.plus(S(Q,new Ut(z),ue,1)),_(te.d).slice(0,ue)===_(ie.d).slice(0,ue))if(ie=ie.times(2),G!==0&&(ie=ie.plus(J(Ut,ue+2,jt).times(G+""))),ie=S(ie,new Ut(Ie),ue,1),L==null)if(A(ie.d,ue-yt,fo,ee))Ut.precision=ue+=yt,te=Q=He=S(de.minus(1),de.plus(1),ue,1),me=F(He.times(He),ue,1),z=ee=1;else return F(ie,Ut.precision=jt,fo,l=!0);else return Ut.precision=jt,ie;ie=te,z+=2}}function je(O){return String(O.s*O.s/0)}function Fa(O,L){var j,H,z;for((j=L.indexOf("."))>-1&&(L=L.replace(".","")),(H=L.search(/e/i))>0?(j<0&&(j=H),j+=+L.slice(H+1),L=L.substring(0,H)):j<0&&(j=L.length),H=0;L.charCodeAt(H)===48;H++);for(z=L.length;L.charCodeAt(z-1)===48;--z);if(L=L.slice(H,z),L){if(z-=H,O.e=j=j-H-1,O.d=[],H=(j+1)%w,j<0&&(H+=w),H<z){for(H&&O.d.push(+L.slice(0,H)),z-=w;H<z;)O.d.push(+L.slice(H,H+=w));L=L.slice(H),H=w-L.length}else H-=z;for(;H--;)L+="0";O.d.push(+L),l&&(O.e>O.constructor.maxE?(O.d=null,O.e=NaN):O.e<O.constructor.minE&&(O.e=0,O.d=[0]))}else O.e=0,O.d=[0];return O}function Ze(O,L){var j,H,z,G,Q,ee,ie,te,ue;if(L.indexOf("_")>-1){if(L=L.replace(/(\d)_(?=\d)/g,"$1"),d.test(L))return Fa(O,L)}else if(L==="Infinity"||L==="NaN")return+L||(O.s=NaN),O.e=NaN,O.d=null,O;if(X.test(L))j=16,L=L.toLowerCase();else if(K.test(L))j=2;else if(q.test(L))j=8;else throw Error(y+L);for(G=L.search(/p/i),G>0?(ie=+L.slice(G+1),L=L.substring(2,G)):L=L.slice(2),G=L.indexOf("."),Q=G>=0,H=O.constructor,Q&&(L=L.replace(".",""),ee=L.length,G=ee-G,z=ke(H,new H(j),G,G*2)),te=U(L,j,v),ue=te.length-1,G=ue;te[G]===0;--G)te.pop();return G<0?new H(O.s*0):(O.e=R(te,ue),O.d=te,l=!1,Q&&(O=S(O,z,ee*4)),ie&&(O=O.times(Math.abs(ie)<54?N(2,ie):s.pow(2,ie))),l=!0,O)}function Qe(O,L){var j,H=L.d.length;if(H<3)return L.isZero()?L:ko(O,2,L,L);j=1.4*Math.sqrt(H),j=j>16?16:j|0,L=L.times(1/Ge(5,j)),L=ko(O,2,L,L);for(var z,G=new O(5),Q=new O(16),ee=new O(20);j--;)z=L.times(L),L=L.times(G.plus(z.times(Q.times(z).minus(ee))));return L}function ko(O,L,j,H,z){var G,Q,ee,ie,te=1,ue=O.precision,de=Math.ceil(ue/w);for(l=!1,ie=j.times(j),ee=new O(H);;){if(Q=S(ee.times(ie),new O(L++*L++),ue,1),ee=z?H.plus(Q):H.minus(Q),H=S(Q.times(ie),new O(L++*L++),ue,1),Q=ee.plus(H),Q.d[de]!==void 0){for(G=de;Q.d[G]===ee.d[G]&&G--;);if(G==-1)break}G=ee,ee=H,H=Q,Q=G,te++}return l=!0,Q.d.length=de+1,Q}function Ge(O,L){for(var j=O;--L;)j*=O;return j}function Je(O,L){var j,H=L.s<0,z=he(O,O.precision,1),G=z.times(.5);if(L=L.abs(),L.lte(G))return c=H?4:1,L;if(j=L.divToInt(z),j.isZero())c=H?3:2;else{if(L=L.minus(j.times(z)),L.lte(G))return c=Te(j)?H?2:3:H?4:1,L;c=Te(j)?H?1:4:H?3:2}return L.minus(z).abs()}function uo(O,L,j,H){var z,G,Q,ee,ie,te,ue,de,me,Ie=O.constructor,yt=j!==void 0;if(yt?(C(j,1,t),H===void 0?H=Ie.rounding:C(H,0,8)):(j=Ie.precision,H=Ie.rounding),!O.isFinite())ue=je(O);else{for(ue=W(O),Q=ue.indexOf("."),yt?(z=2,L==16?j=j*4-3:L==8&&(j=j*3-2)):z=L,Q>=0&&(ue=ue.replace(".",""),me=new Ie(1),me.e=ue.length-Q,me.d=U(W(me),10,z),me.e=me.d.length),de=U(ue,10,z),G=ie=de.length;de[--ie]==0;)de.pop();if(!de[0])ue=yt?"0p+0":"0";else{if(Q<0?G--:(O=new Ie(O),O.d=de,O.e=G,O=S(O,me,j,H,0,z),de=O.d,G=O.e,te=u),Q=de[j],ee=z/2,te=te||de[j+1]!==void 0,te=H<4?(Q!==void 0||te)&&(H===0||H===(O.s<0?3:2)):Q>ee||Q===ee&&(H===4||te||H===6&&de[j-1]&1||H===(O.s<0?8:7)),de.length=j,te)for(;++de[--j]>z-1;)de[j]=0,j||(++G,de.unshift(1));for(ie=de.length;!de[ie-1];--ie);for(Q=0,ue="";Q<ie;Q++)ue+=n.charAt(de[Q]);if(yt){if(ie>1)if(L==16||L==8){for(Q=L==16?4:3,--ie;ie%Q;ie++)ue+="0";for(de=U(ue,z,L),ie=de.length;!de[ie-1];--ie);for(Q=1,ue="1.";Q<ie;Q++)ue+=n.charAt(de[Q])}else ue=ue.charAt(0)+"."+ue.slice(1);ue=ue+(G<0?"p":"p+")+G}else if(G<0){for(;++G;)ue="0"+ue;ue="0."+ue}else if(++G>ie)for(G-=ie;G--;)ue+="0";else G<ie&&(ue=ue.slice(0,G)+"."+ue.slice(G))}ue=(L==16?"0x":L==2?"0b":L==8?"0o":"")+ue}return O.s<0?"-"+ue:ue}function We(O,L){if(O.length>L)return O.length=L,!0}function $e(O){return new this(O).abs()}function uc(O){return new this(O).acos()}function be(O){return new this(O).acosh()}function Ke(O,L){return new this(O).plus(L)}function V(O){return new this(O).asin()}function Y(O){return new this(O).asinh()}function Z(O){return new this(O).atan()}function ne(O){return new this(O).atanh()}function oe(O,L){O=new this(O),L=new this(L);var j,H=this.precision,z=this.rounding,G=H+4;return!O.s||!L.s?j=new this(NaN):!O.d&&!L.d?(j=he(this,G,1).times(L.s>0?.25:.75),j.s=O.s):!L.d||O.isZero()?(j=L.s<0?he(this,H,z):new this(0),j.s=O.s):!O.d||L.isZero()?(j=he(this,G,1).times(.5),j.s=O.s):L.s<0?(this.precision=G,this.rounding=1,j=this.atan(S(O,L,G,1)),L=he(this,G,1),this.precision=H,this.rounding=z,j=O.s<0?j.minus(L):j.plus(L)):j=this.atan(S(O,L,G,1)),j}function re(O){return new this(O).cbrt()}function ge(O){return F(O=new this(O),O.e+1,2)}function se(O,L,j){return new this(O).clamp(L,j)}function fe(O){if(!O||typeof O!="object")throw Error(g+"Object expected");var L,j,H,z=O.defaults===!0,G=["precision",1,t,"rounding",0,8,"toExpNeg",-e,0,"toExpPos",0,e,"maxE",0,e,"minE",-e,0,"modulo",0,9];for(L=0;L<G.length;L+=3)if(j=G[L],z&&(this[j]=a[j]),(H=O[j])!==void 0)if(k(H)===H&&H>=G[L+1]&&H<=G[L+2])this[j]=H;else throw Error(y+j+": "+H);if(j="crypto",z&&(this[j]=a[j]),(H=O[j])!==void 0)if(H===!0||H===!1||H===0||H===1)if(H)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[j]=!0;else throw Error(D);else this[j]=!1;else throw Error(y+j+": "+H);return this}function Ue(O){return new this(O).cos()}function Ce(O){return new this(O).cosh()}function Se(O){var L,j,H;function z(G){var Q,ee,ie,te=this;if(!(te instanceof z))return new z(G);if(te.constructor=z,Ye(G)){te.s=G.s,l?!G.d||G.e>z.maxE?(te.e=NaN,te.d=null):G.e<z.minE?(te.e=0,te.d=[0]):(te.e=G.e,te.d=G.d.slice()):(te.e=G.e,te.d=G.d?G.d.slice():G.d);return}if(ie=typeof G,ie==="number"){if(G===0){te.s=1/G<0?-1:1,te.e=0,te.d=[0];return}if(G<0?(G=-G,te.s=-1):te.s=1,G===~~G&&G<1e7){for(Q=0,ee=G;ee>=10;ee/=10)Q++;l?Q>z.maxE?(te.e=NaN,te.d=null):Q<z.minE?(te.e=0,te.d=[0]):(te.e=Q,te.d=[G]):(te.e=Q,te.d=[G]);return}else if(G*0!==0){G||(te.s=NaN),te.e=NaN,te.d=null;return}return Fa(te,G.toString())}else if(ie!=="string")throw Error(y+G);return(ee=G.charCodeAt(0))===45?(G=G.slice(1),te.s=-1):(ee===43&&(G=G.slice(1)),te.s=1),d.test(G)?Fa(te,G):Ze(te,G)}if(z.prototype=E,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=fe,z.clone=Se,z.isDecimal=Ye,z.abs=$e,z.acos=uc,z.acosh=be,z.add=Ke,z.asin=V,z.asinh=Y,z.atan=Z,z.atanh=ne,z.atan2=oe,z.cbrt=re,z.ceil=ge,z.clamp=se,z.cos=Ue,z.cosh=Ce,z.div=xt,z.exp=qe,z.floor=Me,z.hypot=au,z.ln=nt,z.log=Al,z.log10=ot,z.log2=it,z.max=Ol,z.min=at,z.mod=st,z.mul=Dl,z.pow=ut,z.random=ft,z.round=Rl,z.sign=ct,z.sin=dt,z.sinh=Bl,z.sqrt=lt,z.sub=ht,z.sum=Pl,z.tan=pt,z.tanh=gt,z.trunc=p0,O===void 0&&(O={}),O&&O.defaults!==!0)for(H=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],L=0;L<H.length;)O.hasOwnProperty(j=H[L++])||(O[j]=this[j]);return z.config(O),z}function xt(O,L){return new this(O).div(L)}function qe(O){return new this(O).exp()}function Me(O){return F(O=new this(O),O.e+1,3)}function au(){var O,L,j=new this(0);for(l=!1,O=0;O<arguments.length;)if(L=new this(arguments[O++]),L.d)j.d&&(j=j.plus(L.times(L)));else{if(L.s)return l=!0,new this(1/0);j=L}return l=!0,j.sqrt()}function Ye(O){return O instanceof s||O&&O.toStringTag===M||!1}function nt(O){return new this(O).ln()}function Al(O,L){return new this(O).log(L)}function it(O){return new this(O).log(2)}function ot(O){return new this(O).log(10)}function Ol(){return Oe(this,arguments,"lt")}function at(){return Oe(this,arguments,"gt")}function st(O,L){return new this(O).mod(L)}function Dl(O,L){return new this(O).mul(L)}function ut(O,L){return new this(O).pow(L)}function ft(O){var L,j,H,z,G=0,Q=new this(1),ee=[];if(O===void 0?O=this.precision:C(O,1,t),H=Math.ceil(O/w),this.crypto)if(crypto.getRandomValues)for(L=crypto.getRandomValues(new Uint32Array(H));G<H;)z=L[G],z>=429e7?L[G]=crypto.getRandomValues(new Uint32Array(1))[0]:ee[G++]=z%1e7;else if(crypto.randomBytes){for(L=crypto.randomBytes(H*=4);G<H;)z=L[G]+(L[G+1]<<8)+(L[G+2]<<16)+((L[G+3]&127)<<24),z>=214e7?crypto.randomBytes(4).copy(L,G):(ee.push(z%1e7),G+=4);G=H/4}else throw Error(D);else for(;G<H;)ee[G++]=Math.random()*1e7|0;for(H=ee[--G],O%=w,H&&O&&(z=N(10,w-O),ee[G]=(H/z|0)*z);ee[G]===0;G--)ee.pop();if(G<0)j=0,ee=[0];else{for(j=-1;ee[0]===0;j-=w)ee.shift();for(H=1,z=ee[0];z>=10;z/=10)H++;H<w&&(j-=w-H)}return Q.e=j,Q.d=ee,Q}function Rl(O){return F(O=new this(O),O.e+1,this.rounding)}function ct(O){return O=new this(O),O.d?O.d[0]?O.s:0*O.s:O.s||NaN}function dt(O){return new this(O).sin()}function Bl(O){return new this(O).sinh()}function lt(O){return new this(O).sqrt()}function ht(O,L){return new this(O).sub(L)}function Pl(){var O=0,L=arguments,j=new this(L[O]);for(l=!1;j.s&&++O<L.length;)j=j.plus(L[O]);return l=!0,F(j,this.precision,this.rounding)}function pt(O){return new this(O).tan()}function gt(O){return new this(O).tanh()}function p0(O){return F(O=new this(O),O.e+1,1)}s=Se(a),s.prototype.constructor=s,s.default=s.Decimal=s,i=new s(i),o=new s(o),typeof define=="function"&&define.amd?define(function(){return s}):typeof _S<"u"&&_S.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(E[Symbol.for("nodejs.util.inspect.custom")]=E.toString,E[Symbol.toStringTag]="Decimal"),_S.exports=s):(r||(r=typeof self<"u"&&self&&self.self==self?self:window),f=r.Decimal,s.noConflict=function(){return r.Decimal=f,s},r.Decimal=s)})(QY)});var R1=T(Uf=>{h();p();var F2e=Uf&&Uf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),L2e=Uf&&Uf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),U2e=Uf&&Uf.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&F2e(e,r,t);return L2e(e,r),e};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.BinaryParser=void 0;var xS=U2e(aa()),j2e=Im(),H2e=xr(),hO=class{constructor(e){this.bytes=H2e.Buffer.from(e,"hex")}peek(){return xS.ok(this.bytes.byteLength!==0),this.bytes[0]}skip(e){xS.ok(e<=this.bytes.byteLength),this.bytes=this.bytes.slice(e)}read(e){xS.ok(e<=this.bytes.byteLength);let t=this.bytes.slice(0,e);return this.skip(e),t}readUIntN(e){return xS.ok(0<e&&e<=4,"invalid n"),this.read(e).reduce((t,n)=>t<<8|n)>>>0}readUInt8(){return this.readUIntN(1)}readUInt16(){return this.readUIntN(2)}readUInt32(){return this.readUIntN(4)}size(){return this.bytes.byteLength}end(e){let t=this.bytes.byteLength;return t===0||e!==void 0&&t<=e}readVariableLength(){return this.read(this.readVariableLengthLength())}readVariableLengthLength(){let e=this.readUInt8();if(e<=192)return e;if(e<=240){let t=this.readUInt8();return 193+(e-193)*256+t}else if(e<=254){let t=this.readUInt8(),n=this.readUInt8();return 12481+(e-241)*65536+t*256+n}throw new Error("Invalid variable length indicator")}readFieldOrdinal(){let e=this.readUInt8(),t=e&15;if(e>>=4,e===0&&(e=this.readUInt8(),e===0||e<16))throw new Error("Cannot read FieldOrdinal, type_code out of range");if(t===0&&(t=this.readUInt8(),t===0||t<16))throw new Error("Cannot read FieldOrdinal, field_code out of range");return e<<16|t}readField(){return j2e.Field.fromString(this.readFieldOrdinal().toString())}readType(e){return e.fromParser(this)}typeForField(e){return e.associatedType}readFieldValue(e){let t=this.typeForField(e);if(!t)throw new Error(`unsupported: (${e.name}, ${e.type.name})`);let n=e.isVariableLengthEncoded?this.readVariableLengthLength():void 0,i=t.fromParser(this,n);if(i===void 0)throw new Error(`fromParser for (${e.name}, ${e.type.name}) -> undefined `);return i}readFieldAndValue(){let e=this.readField();return[e,this.readFieldValue(e)]}};Uf.BinaryParser=hO});var SS=T(wS=>{h();p();Object.defineProperty(wS,"__esModule",{value:!0});wS.Currency=void 0;var K2e=gS(),bS=xr(),V2e=/^0{40}$/,z2e=/^[A-Z0-9a-z?!@#$%^&*(){}[\]|]{3}$/,G2e=/^[A-F0-9]{40}$/,Y2e=/^0{24}[\x00-\x7F]{6}0{10}$/;function W2e(r){let e=bS.Buffer.alloc(20);if(r!=="XRP"){let t=r.split("").map(n=>n.charCodeAt(0));e.set(t,12)}return e}function X2e(r){return z2e.test(r)}function J2e(r){let e=r.toString();return e==="XRP"?null:X2e(e)?e:null}function $2e(r){return G2e.test(r)}function Z2e(r){return r.length===3||$2e(r)}function Q2e(r){return r.byteLength===20}function e_e(r){return r instanceof bS.Buffer?Q2e(r):Z2e(r)}function t_e(r){if(!e_e(r))throw new Error(`Unsupported Currency representation: ${r}`);return r.length===3?W2e(r):bS.Buffer.from(r,"hex")}var Wc=class extends K2e.Hash160{constructor(e){super(e??Wc.XRP.bytes);let t=this.bytes.toString("hex");V2e.test(t)?this._iso="XRP":Y2e.test(t)?this._iso=J2e(this.bytes.slice(12,15)):this._iso=null}iso(){return this._iso}static from(e){if(e instanceof Wc)return e;if(typeof e=="string")return new Wc(t_e(e));throw new Error("Cannot construct Currency from value given")}toJSON(){let e=this.iso();return e!==null?e:this.bytes.toString("hex").toUpperCase()}};wS.Currency=Wc;Wc.XRP=new Wc(bS.Buffer.alloc(20))});var B1=T((zot,CS)=>{h();p();var an=function(r){"use strict";var e=1e7,t=7,n=9007199254740992,i=g(n),o="0123456789abcdefghijklmnopqrstuvwxyz",a=typeof BigInt=="function";function s(V,Y,Z,ne){return typeof V>"u"?s[0]:typeof Y<"u"?+Y==10&&!Z?be(V):ko(V,Y,Z,ne):be(V)}function u(V,Y){this.value=V,this.sign=Y,this.isSmall=!1}u.prototype=Object.create(s.prototype);function f(V){this.value=V,this.sign=V<0,this.isSmall=!0}f.prototype=Object.create(s.prototype);function c(V){this.value=V}c.prototype=Object.create(s.prototype);function l(V){return-n<V&&V<n}function g(V){return V<1e7?[V]:V<1e14?[V%1e7,Math.floor(V/1e7)]:[V%1e7,Math.floor(V/1e7)%1e7,Math.floor(V/1e14)]}function y(V){b(V);var Y=V.length;if(Y<4&&S(V,i)<0)switch(Y){case 0:return 0;case 1:return V[0];case 2:return V[0]+V[1]*e;default:return V[0]+(V[1]+V[2]*e)*e}return V}function b(V){for(var Y=V.length;V[--Y]===0;);V.length=Y+1}function D(V){for(var Y=new Array(V),Z=-1;++Z<V;)Y[Z]=0;return Y}function M(V){return V>0?Math.floor(V):Math.ceil(V)}function k(V,Y){var Z=V.length,ne=Y.length,oe=new Array(Z),re=0,ge=e,se,fe;for(fe=0;fe<ne;fe++)se=V[fe]+Y[fe]+re,re=se>=ge?1:0,oe[fe]=se-re*ge;for(;fe<Z;)se=V[fe]+re,re=se===ge?1:0,oe[fe++]=se-re*ge;return re>0&&oe.push(re),oe}function N(V,Y){return V.length>=Y.length?k(V,Y):k(Y,V)}function K(V,Y){var Z=V.length,ne=new Array(Z),oe=e,re,ge;for(ge=0;ge<Z;ge++)re=V[ge]-oe+Y,Y=Math.floor(re/oe),ne[ge]=re-Y*oe,Y+=1;for(;Y>0;)ne[ge++]=Y%oe,Y=Math.floor(Y/oe);return ne}u.prototype.add=function(V){var Y=be(V);if(this.sign!==Y.sign)return this.subtract(Y.negate());var Z=this.value,ne=Y.value;return Y.isSmall?new u(K(Z,Math.abs(ne)),this.sign):new u(N(Z,ne),this.sign)},u.prototype.plus=u.prototype.add,f.prototype.add=function(V){var Y=be(V),Z=this.value;if(Z<0!==Y.sign)return this.subtract(Y.negate());var ne=Y.value;if(Y.isSmall){if(l(Z+ne))return new f(Z+ne);ne=g(Math.abs(ne))}return new u(K(ne,Math.abs(Z)),Z<0)},f.prototype.plus=f.prototype.add,c.prototype.add=function(V){return new c(this.value+be(V).value)},c.prototype.plus=c.prototype.add;function X(V,Y){var Z=V.length,ne=Y.length,oe=new Array(Z),re=0,ge=e,se,fe;for(se=0;se<ne;se++)fe=V[se]-re-Y[se],fe<0?(fe+=ge,re=1):re=0,oe[se]=fe;for(se=ne;se<Z;se++){if(fe=V[se]-re,fe<0)fe+=ge;else{oe[se++]=fe;break}oe[se]=fe}for(;se<Z;se++)oe[se]=V[se];return b(oe),oe}function q(V,Y,Z){var ne;return S(V,Y)>=0?ne=X(V,Y):(ne=X(Y,V),Z=!Z),ne=y(ne),typeof ne=="number"?(Z&&(ne=-ne),new f(ne)):new u(ne,Z)}function d(V,Y,Z){var ne=V.length,oe=new Array(ne),re=-Y,ge=e,se,fe;for(se=0;se<ne;se++)fe=V[se]+re,re=Math.floor(fe/ge),fe%=ge,oe[se]=fe<0?fe+ge:fe;return oe=y(oe),typeof oe=="number"?(Z&&(oe=-oe),new f(oe)):new u(oe,Z)}u.prototype.subtract=function(V){var Y=be(V);if(this.sign!==Y.sign)return this.add(Y.negate());var Z=this.value,ne=Y.value;return Y.isSmall?d(Z,Math.abs(ne),this.sign):q(Z,ne,this.sign)},u.prototype.minus=u.prototype.subtract,f.prototype.subtract=function(V){var Y=be(V),Z=this.value;if(Z<0!==Y.sign)return this.add(Y.negate());var ne=Y.value;return Y.isSmall?new f(Z-ne):d(ne,Math.abs(Z),Z>=0)},f.prototype.minus=f.prototype.subtract,c.prototype.subtract=function(V){return new c(this.value-be(V).value)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},f.prototype.negate=function(){var V=this.sign,Y=new f(-this.value);return Y.sign=!V,Y},c.prototype.negate=function(){return new c(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},f.prototype.abs=function(){return new f(Math.abs(this.value))},c.prototype.abs=function(){return new c(this.value>=0?this.value:-this.value)};function v(V,Y){var Z=V.length,ne=Y.length,oe=Z+ne,re=D(oe),ge=e,se,fe,Ue,Ce,Se;for(Ue=0;Ue<Z;++Ue){Ce=V[Ue];for(var xt=0;xt<ne;++xt)Se=Y[xt],se=Ce*Se+re[Ue+xt],fe=Math.floor(se/ge),re[Ue+xt]=se-fe*ge,re[Ue+xt+1]+=fe}return b(re),re}function w(V,Y){var Z=V.length,ne=new Array(Z),oe=e,re=0,ge,se;for(se=0;se<Z;se++)ge=V[se]*Y+re,re=Math.floor(ge/oe),ne[se]=ge-re*oe;for(;re>0;)ne[se++]=re%oe,re=Math.floor(re/oe);return ne}function I(V,Y){for(var Z=[];Y-- >0;)Z.push(0);return Z.concat(V)}function x(V,Y){var Z=Math.max(V.length,Y.length);if(Z<=30)return v(V,Y);Z=Math.ceil(Z/2);var ne=V.slice(Z),oe=V.slice(0,Z),re=Y.slice(Z),ge=Y.slice(0,Z),se=x(oe,ge),fe=x(ne,re),Ue=x(N(oe,ne),N(ge,re)),Ce=N(N(se,I(X(X(Ue,se),fe),Z)),I(fe,2*Z));return b(Ce),Ce}function B(V,Y){return-.012*V-.012*Y+15e-6*V*Y>0}u.prototype.multiply=function(V){var Y=be(V),Z=this.value,ne=Y.value,oe=this.sign!==Y.sign,re;if(Y.isSmall){if(ne===0)return s[0];if(ne===1)return this;if(ne===-1)return this.negate();if(re=Math.abs(ne),re<e)return new u(w(Z,re),oe);ne=g(re)}return B(Z.length,ne.length)?new u(x(Z,ne),oe):new u(v(Z,ne),oe)},u.prototype.times=u.prototype.multiply;function E(V,Y,Z){return V<e?new u(w(Y,V),Z):new u(v(Y,g(V)),Z)}f.prototype._multiplyBySmall=function(V){return l(V.value*this.value)?new f(V.value*this.value):E(Math.abs(V.value),g(Math.abs(this.value)),this.sign!==V.sign)},u.prototype._multiplyBySmall=function(V){return V.value===0?s[0]:V.value===1?this:V.value===-1?this.negate():E(Math.abs(V.value),this.value,this.sign!==V.sign)},f.prototype.multiply=function(V){return be(V)._multiplyBySmall(this)},f.prototype.times=f.prototype.multiply,c.prototype.multiply=function(V){return new c(this.value*be(V).value)},c.prototype.times=c.prototype.multiply;function _(V){var Y=V.length,Z=D(Y+Y),ne=e,oe,re,ge,se,fe;for(ge=0;ge<Y;ge++){se=V[ge],re=0-se*se;for(var Ue=ge;Ue<Y;Ue++)fe=V[Ue],oe=2*(se*fe)+Z[ge+Ue]+re,re=Math.floor(oe/ne),Z[ge+Ue]=oe-re*ne;Z[ge+Y]=re}return b(Z),Z}u.prototype.square=function(){return new u(_(this.value),!1)},f.prototype.square=function(){var V=this.value*this.value;return l(V)?new f(V):new u(_(g(Math.abs(this.value))),!1)},c.prototype.square=function(V){return new c(this.value*this.value)};function C(V,Y){var Z=V.length,ne=Y.length,oe=e,re=D(Y.length),ge=Y[ne-1],se=Math.ceil(oe/(2*ge)),fe=w(V,se),Ue=w(Y,se),Ce,Se,xt,qe,Me,au,Ye;for(fe.length<=Z&&fe.push(0),Ue.push(0),ge=Ue[ne-1],Se=Z-ne;Se>=0;Se--){for(Ce=oe-1,fe[Se+ne]!==ge&&(Ce=Math.floor((fe[Se+ne]*oe+fe[Se+ne-1])/ge)),xt=0,qe=0,au=Ue.length,Me=0;Me<au;Me++)xt+=Ce*Ue[Me],Ye=Math.floor(xt/oe),qe+=fe[Se+Me]-(xt-Ye*oe),xt=Ye,qe<0?(fe[Se+Me]=qe+oe,qe=-1):(fe[Se+Me]=qe,qe=0);for(;qe!==0;){for(Ce-=1,xt=0,Me=0;Me<au;Me++)xt+=fe[Se+Me]-oe+Ue[Me],xt<0?(fe[Se+Me]=xt+oe,xt=0):(fe[Se+Me]=xt,xt=1);qe+=xt}re[Se]=Ce}return fe=U(fe,se)[0],[y(re),y(fe)]}function A(V,Y){for(var Z=V.length,ne=Y.length,oe=[],re=[],ge=e,se,fe,Ue,Ce,Se;Z;){if(re.unshift(V[--Z]),b(re),S(re,Y)<0){oe.push(0);continue}fe=re.length,Ue=re[fe-1]*ge+re[fe-2],Ce=Y[ne-1]*ge+Y[ne-2],fe>ne&&(Ue=(Ue+1)*ge),se=Math.ceil(Ue/Ce);do{if(Se=w(Y,se),S(Se,re)<=0)break;se--}while(se);oe.push(se),re=X(re,Se)}return oe.reverse(),[y(oe),y(re)]}function U(V,Y){var Z=V.length,ne=D(Z),oe=e,re,ge,se,fe;for(se=0,re=Z-1;re>=0;--re)fe=se*oe+V[re],ge=M(fe/Y),se=fe-ge*Y,ne[re]=ge|0;return[ne,se|0]}function P(V,Y){var Z,ne=be(Y);if(a)return[new c(V.value/ne.value),new c(V.value%ne.value)];var oe=V.value,re=ne.value,ge;if(re===0)throw new Error("Cannot divide by zero");if(V.isSmall)return ne.isSmall?[new f(M(oe/re)),new f(oe%re)]:[s[0],V];if(ne.isSmall){if(re===1)return[V,s[0]];if(re==-1)return[V.negate(),s[0]];var se=Math.abs(re);if(se<e){Z=U(oe,se),ge=y(Z[0]);var fe=Z[1];return V.sign&&(fe=-fe),typeof ge=="number"?(V.sign!==ne.sign&&(ge=-ge),[new f(ge),new f(fe)]):[new u(ge,V.sign!==ne.sign),new f(fe)]}re=g(se)}var Ue=S(oe,re);if(Ue===-1)return[s[0],V];if(Ue===0)return[s[V.sign===ne.sign?1:-1],s[0]];oe.length+re.length<=200?Z=C(oe,re):Z=A(oe,re),ge=Z[0];var Ce=V.sign!==ne.sign,Se=Z[1],xt=V.sign;return typeof ge=="number"?(Ce&&(ge=-ge),ge=new f(ge)):ge=new u(ge,Ce),typeof Se=="number"?(xt&&(Se=-Se),Se=new f(Se)):Se=new u(Se,xt),[ge,Se]}u.prototype.divmod=function(V){var Y=P(this,V);return{quotient:Y[0],remainder:Y[1]}},c.prototype.divmod=f.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(V){return P(this,V)[0]},c.prototype.over=c.prototype.divide=function(V){return new c(this.value/be(V).value)},f.prototype.over=f.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(V){return P(this,V)[1]},c.prototype.mod=c.prototype.remainder=function(V){return new c(this.value%be(V).value)},f.prototype.remainder=f.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(V){var Y=be(V),Z=this.value,ne=Y.value,oe,re,ge;if(ne===0)return s[1];if(Z===0)return s[0];if(Z===1)return s[1];if(Z===-1)return Y.isEven()?s[1]:s[-1];if(Y.sign)return s[0];if(!Y.isSmall)throw new Error("The exponent "+Y.toString()+" is too large.");if(this.isSmall&&l(oe=Math.pow(Z,ne)))return new f(M(oe));for(re=this,ge=s[1];ne&!0&&(ge=ge.times(re),--ne),ne!==0;)ne/=2,re=re.square();return ge},f.prototype.pow=u.prototype.pow,c.prototype.pow=function(V){var Y=be(V),Z=this.value,ne=Y.value,oe=BigInt(0),re=BigInt(1),ge=BigInt(2);if(ne===oe)return s[1];if(Z===oe)return s[0];if(Z===re)return s[1];if(Z===BigInt(-1))return Y.isEven()?s[1]:s[-1];if(Y.isNegative())return new c(oe);for(var se=this,fe=s[1];(ne&re)===re&&(fe=fe.times(se),--ne),ne!==oe;)ne/=ge,se=se.square();return fe},u.prototype.modPow=function(V,Y){if(V=be(V),Y=be(Y),Y.isZero())throw new Error("Cannot take modPow with modulus 0");var Z=s[1],ne=this.mod(Y);for(V.isNegative()&&(V=V.multiply(s[-1]),ne=ne.modInv(Y));V.isPositive();){if(ne.isZero())return s[0];V.isOdd()&&(Z=Z.multiply(ne).mod(Y)),V=V.divide(2),ne=ne.square().mod(Y)}return Z},c.prototype.modPow=f.prototype.modPow=u.prototype.modPow;function S(V,Y){if(V.length!==Y.length)return V.length>Y.length?1:-1;for(var Z=V.length-1;Z>=0;Z--)if(V[Z]!==Y[Z])return V[Z]>Y[Z]?1:-1;return 0}u.prototype.compareAbs=function(V){var Y=be(V),Z=this.value,ne=Y.value;return Y.isSmall?1:S(Z,ne)},f.prototype.compareAbs=function(V){var Y=be(V),Z=Math.abs(this.value),ne=Y.value;return Y.isSmall?(ne=Math.abs(ne),Z===ne?0:Z>ne?1:-1):-1},c.prototype.compareAbs=function(V){var Y=this.value,Z=be(V).value;return Y=Y>=0?Y:-Y,Z=Z>=0?Z:-Z,Y===Z?0:Y>Z?1:-1},u.prototype.compare=function(V){if(V===1/0)return-1;if(V===-1/0)return 1;var Y=be(V),Z=this.value,ne=Y.value;return this.sign!==Y.sign?Y.sign?1:-1:Y.isSmall?this.sign?-1:1:S(Z,ne)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,f.prototype.compare=function(V){if(V===1/0)return-1;if(V===-1/0)return 1;var Y=be(V),Z=this.value,ne=Y.value;return Y.isSmall?Z==ne?0:Z>ne?1:-1:Z<0!==Y.sign?Z<0?-1:1:Z<0?1:-1},f.prototype.compareTo=f.prototype.compare,c.prototype.compare=function(V){if(V===1/0)return-1;if(V===-1/0)return 1;var Y=this.value,Z=be(V).value;return Y===Z?0:Y>Z?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(V){return this.compare(V)===0},c.prototype.eq=c.prototype.equals=f.prototype.eq=f.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(V){return this.compare(V)!==0},c.prototype.neq=c.prototype.notEquals=f.prototype.neq=f.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(V){return this.compare(V)>0},c.prototype.gt=c.prototype.greater=f.prototype.gt=f.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(V){return this.compare(V)<0},c.prototype.lt=c.prototype.lesser=f.prototype.lt=f.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(V){return this.compare(V)>=0},c.prototype.geq=c.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(V){return this.compare(V)<=0},c.prototype.leq=c.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},f.prototype.isEven=function(){return(this.value&1)===0},c.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},f.prototype.isOdd=function(){return(this.value&1)===1},c.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},f.prototype.isPositive=function(){return this.value>0},c.prototype.isPositive=f.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},f.prototype.isNegative=function(){return this.value<0},c.prototype.isNegative=f.prototype.isNegative,u.prototype.isUnit=function(){return!1},f.prototype.isUnit=function(){return Math.abs(this.value)===1},c.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},f.prototype.isZero=function(){return this.value===0},c.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(V){var Y=be(V);return Y.isZero()?!1:Y.isUnit()?!0:Y.compareAbs(2)===0?this.isEven():this.mod(Y).isZero()},c.prototype.isDivisibleBy=f.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function F(V){var Y=V.abs();if(Y.isUnit())return!1;if(Y.equals(2)||Y.equals(3)||Y.equals(5))return!0;if(Y.isEven()||Y.isDivisibleBy(3)||Y.isDivisibleBy(5))return!1;if(Y.lesser(49))return!0}function W(V,Y){for(var Z=V.prev(),ne=Z,oe=0,re,ge,se,fe;ne.isEven();)ne=ne.divide(2),oe++;e:for(se=0;se<Y.length;se++)if(!V.lesser(Y[se])&&(fe=an(Y[se]).modPow(ne,V),!(fe.isUnit()||fe.equals(Z)))){for(re=oe-1;re!=0;re--){if(fe=fe.square().mod(V),fe.isUnit())return!1;if(fe.equals(Z))continue e}return!1}return!0}u.prototype.isPrime=function(V){var Y=F(this);if(Y!==r)return Y;var Z=this.abs(),ne=Z.bitLength();if(ne<=64)return W(Z,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var oe=Math.log(2)*ne.toJSNumber(),re=Math.ceil(V===!0?2*Math.pow(oe,2):oe),ge=[],se=0;se<re;se++)ge.push(an(se+2));return W(Z,ge)},c.prototype.isPrime=f.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(V,Y){var Z=F(this);if(Z!==r)return Z;for(var ne=this.abs(),oe=V===r?5:V,re=[],ge=0;ge<oe;ge++)re.push(an.randBetween(2,ne.minus(2),Y));return W(ne,re)},c.prototype.isProbablePrime=f.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(V){for(var Y=an.zero,Z=an.one,ne=be(V),oe=this.abs(),re,ge,se;!oe.isZero();)re=ne.divide(oe),ge=Y,se=ne,Y=Z,ne=oe,Z=ge.subtract(re.multiply(Z)),oe=se.subtract(re.multiply(oe));if(!ne.isUnit())throw new Error(this.toString()+" and "+V.toString()+" are not co-prime");return Y.compare(0)===-1&&(Y=Y.add(V)),this.isNegative()?Y.negate():Y},c.prototype.modInv=f.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var V=this.value;return this.sign?d(V,1,this.sign):new u(K(V,1),this.sign)},f.prototype.next=function(){var V=this.value;return V+1<n?new f(V+1):new u(i,!1)},c.prototype.next=function(){return new c(this.value+BigInt(1))},u.prototype.prev=function(){var V=this.value;return this.sign?new u(K(V,1),!0):d(V,1,this.sign)},f.prototype.prev=function(){var V=this.value;return V-1>-n?new f(V-1):new u(i,!0)},c.prototype.prev=function(){return new c(this.value-BigInt(1))};for(var R=[1];2*R[R.length-1]<=e;)R.push(2*R[R.length-1]);var J=R.length,he=R[J-1];function xe(V){return Math.abs(V)<=e}u.prototype.shiftLeft=function(V){var Y=be(V).toJSNumber();if(!xe(Y))throw new Error(String(Y)+" is too large for shifting.");if(Y<0)return this.shiftRight(-Y);var Z=this;if(Z.isZero())return Z;for(;Y>=J;)Z=Z.multiply(he),Y-=J-1;return Z.multiply(R[Y])},c.prototype.shiftLeft=f.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(V){var Y,Z=be(V).toJSNumber();if(!xe(Z))throw new Error(String(Z)+" is too large for shifting.");if(Z<0)return this.shiftLeft(-Z);for(var ne=this;Z>=J;){if(ne.isZero()||ne.isNegative()&&ne.isUnit())return ne;Y=P(ne,he),ne=Y[1].isNegative()?Y[0].prev():Y[0],Z-=J-1}return Y=P(ne,R[Z]),Y[1].isNegative()?Y[0].prev():Y[0]},c.prototype.shiftRight=f.prototype.shiftRight=u.prototype.shiftRight;function _e(V,Y,Z){Y=be(Y);for(var ne=V.isNegative(),oe=Y.isNegative(),re=ne?V.not():V,ge=oe?Y.not():Y,se=0,fe=0,Ue=null,Ce=null,Se=[];!re.isZero()||!ge.isZero();)Ue=P(re,he),se=Ue[1].toJSNumber(),ne&&(se=he-1-se),Ce=P(ge,he),fe=Ce[1].toJSNumber(),oe&&(fe=he-1-fe),re=Ue[0],ge=Ce[0],Se.push(Z(se,fe));for(var xt=Z(ne?1:0,oe?1:0)!==0?an(-1):an(0),qe=Se.length-1;qe>=0;qe-=1)xt=xt.multiply(he).add(an(Se[qe]));return xt}u.prototype.not=function(){return this.negate().prev()},c.prototype.not=f.prototype.not=u.prototype.not,u.prototype.and=function(V){return _e(this,V,function(Y,Z){return Y&Z})},c.prototype.and=f.prototype.and=u.prototype.and,u.prototype.or=function(V){return _e(this,V,function(Y,Z){return Y|Z})},c.prototype.or=f.prototype.or=u.prototype.or,u.prototype.xor=function(V){return _e(this,V,function(Y,Z){return Y^Z})},c.prototype.xor=f.prototype.xor=u.prototype.xor;var ke=1<<30,Te=(e&-e)*(e&-e)|ke;function Oe(V){var Y=V.value,Z=typeof Y=="number"?Y|ke:typeof Y=="bigint"?Y|BigInt(ke):Y[0]+Y[1]*e|Te;return Z&-Z}function cn(V,Y){if(Y.compareTo(V)<=0){var Z=cn(V,Y.square(Y)),ne=Z.p,oe=Z.e,re=ne.multiply(Y);return re.compareTo(V)<=0?{p:re,e:oe*2+1}:{p:ne,e:oe*2}}return{p:an(1),e:0}}u.prototype.bitLength=function(){var V=this;return V.compareTo(an(0))<0&&(V=V.negate().subtract(an(1))),V.compareTo(an(0))===0?an(0):an(cn(V,an(2)).e).add(an(1))},c.prototype.bitLength=f.prototype.bitLength=u.prototype.bitLength;function De(V,Y){return V=be(V),Y=be(Y),V.greater(Y)?V:Y}function je(V,Y){return V=be(V),Y=be(Y),V.lesser(Y)?V:Y}function Fa(V,Y){if(V=be(V).abs(),Y=be(Y).abs(),V.equals(Y))return V;if(V.isZero())return Y;if(Y.isZero())return V;for(var Z=s[1],ne,oe;V.isEven()&&Y.isEven();)ne=je(Oe(V),Oe(Y)),V=V.divide(ne),Y=Y.divide(ne),Z=Z.multiply(ne);for(;V.isEven();)V=V.divide(Oe(V));do{for(;Y.isEven();)Y=Y.divide(Oe(Y));V.greater(Y)&&(oe=Y,Y=V,V=oe),Y=Y.subtract(V)}while(!Y.isZero());return Z.isUnit()?V:V.multiply(Z)}function Ze(V,Y){return V=be(V).abs(),Y=be(Y).abs(),V.divide(Fa(V,Y)).multiply(Y)}function Qe(V,Y,Z){V=be(V),Y=be(Y);var ne=Z||Math.random,oe=je(V,Y),re=De(V,Y),ge=re.subtract(oe).add(1);if(ge.isSmall)return oe.add(Math.floor(ne()*ge));for(var se=uo(ge,e).value,fe=[],Ue=!0,Ce=0;Ce<se.length;Ce++){var Se=Ue?se[Ce]+(Ce+1<se.length?se[Ce+1]/e:0):e,xt=M(ne()*Se);fe.push(xt),xt<se[Ce]&&(Ue=!1)}return oe.add(s.fromArray(fe,e,!1))}var ko=function(V,Y,Z,ne){Z=Z||o,V=String(V),ne||(V=V.toLowerCase(),Z=Z.toLowerCase());var oe=V.length,re,ge=Math.abs(Y),se={};for(re=0;re<Z.length;re++)se[Z[re]]=re;for(re=0;re<oe;re++){var fe=V[re];if(fe!=="-"&&fe in se&&se[fe]>=ge){if(fe==="1"&&ge===1)continue;throw new Error(fe+" is not a valid digit in base "+Y+".")}}Y=be(Y);var Ue=[],Ce=V[0]==="-";for(re=Ce?1:0;re<V.length;re++){var fe=V[re];if(fe in se)Ue.push(be(se[fe]));else if(fe==="<"){var Se=re;do re++;while(V[re]!==">"&&re<V.length);Ue.push(be(V.slice(Se+1,re)))}else throw new Error(fe+" is not a valid character")}return Ge(Ue,Y,Ce)};function Ge(V,Y,Z){var ne=s[0],oe=s[1],re;for(re=V.length-1;re>=0;re--)ne=ne.add(V[re].times(oe)),oe=oe.times(Y);return Z?ne.negate():ne}function Je(V,Y){return Y=Y||o,V<Y.length?Y[V]:"<"+V+">"}function uo(V,Y){if(Y=an(Y),Y.isZero()){if(V.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(Y.equals(-1)){if(V.isZero())return{value:[0],isNegative:!1};if(V.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-V.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Z=Array.apply(null,Array(V.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return Z.unshift([1]),{value:[].concat.apply([],Z),isNegative:!1}}var ne=!1;if(V.isNegative()&&Y.isPositive()&&(ne=!0,V=V.abs()),Y.isUnit())return V.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(V.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:ne};for(var oe=[],re=V,ge;re.isNegative()||re.compareAbs(Y)>=0;){ge=re.divmod(Y),re=ge.quotient;var se=ge.remainder;se.isNegative()&&(se=Y.minus(se).abs(),re=re.next()),oe.push(se.toJSNumber())}return oe.push(re.toJSNumber()),{value:oe.reverse(),isNegative:ne}}function We(V,Y,Z){var ne=uo(V,Y);return(ne.isNegative?"-":"")+ne.value.map(function(oe){return Je(oe,Z)}).join("")}u.prototype.toArray=function(V){return uo(this,V)},f.prototype.toArray=function(V){return uo(this,V)},c.prototype.toArray=function(V){return uo(this,V)},u.prototype.toString=function(V,Y){if(V===r&&(V=10),V!==10)return We(this,V,Y);for(var Z=this.value,ne=Z.length,oe=String(Z[--ne]),re="0000000",ge;--ne>=0;)ge=String(Z[ne]),oe+=re.slice(ge.length)+ge;var se=this.sign?"-":"";return se+oe},f.prototype.toString=function(V,Y){return V===r&&(V=10),V!=10?We(this,V,Y):String(this.value)},c.prototype.toString=f.prototype.toString,c.prototype.toJSON=u.prototype.toJSON=f.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,f.prototype.valueOf=function(){return this.value},f.prototype.toJSNumber=f.prototype.valueOf,c.prototype.valueOf=c.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function $e(V){if(l(+V)){var Y=+V;if(Y===M(Y))return a?new c(BigInt(Y)):new f(Y);throw new Error("Invalid integer: "+V)}var Z=V[0]==="-";Z&&(V=V.slice(1));var ne=V.split(/e/i);if(ne.length>2)throw new Error("Invalid integer: "+ne.join("e"));if(ne.length===2){var oe=ne[1];if(oe[0]==="+"&&(oe=oe.slice(1)),oe=+oe,oe!==M(oe)||!l(oe))throw new Error("Invalid integer: "+oe+" is not a valid exponent.");var re=ne[0],ge=re.indexOf(".");if(ge>=0&&(oe-=re.length-ge-1,re=re.slice(0,ge)+re.slice(ge+1)),oe<0)throw new Error("Cannot include negative exponent part for integers");re+=new Array(oe+1).join("0"),V=re}var se=/^([0-9][0-9]*)$/.test(V);if(!se)throw new Error("Invalid integer: "+V);if(a)return new c(BigInt(Z?"-"+V:V));for(var fe=[],Ue=V.length,Ce=t,Se=Ue-Ce;Ue>0;)fe.push(+V.slice(Se,Ue)),Se-=Ce,Se<0&&(Se=0),Ue-=Ce;return b(fe),new u(fe,Z)}function uc(V){if(a)return new c(BigInt(V));if(l(V)){if(V!==M(V))throw new Error(V+" is not an integer.");return new f(V)}return $e(V.toString())}function be(V){return typeof V=="number"?uc(V):typeof V=="string"?$e(V):typeof V=="bigint"?new c(V):V}for(var Ke=0;Ke<1e3;Ke++)s[Ke]=be(Ke),Ke>0&&(s[-Ke]=be(-Ke));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=De,s.min=je,s.gcd=Fa,s.lcm=Ze,s.isInstance=function(V){return V instanceof u||V instanceof f||V instanceof c},s.randBetween=Qe,s.fromArray=function(V,Y,Z){return Ge(V.map(be),be(Y||10),Z)},s}();typeof CS<"u"&&CS.hasOwnProperty("exports")&&(CS.exports=an);typeof define=="function"&&define.amd&&define(function(){return an})});var oW=T(ES=>{h();p();Object.defineProperty(ES,"__esModule",{value:!0});ES.Amount=void 0;var P1=lO(),r_e=R1(),eW=vS(),tW=SS(),n_e=Ff(),T2=B1(),Xc=xr(),nW=-96,iW=80,pO=16,i_e=new P1.Decimal("1e17"),o_e=new P1.Decimal("1e-6"),rW=T2(4294967295);P1.Decimal.config({toExpPos:iW+pO,toExpNeg:nW-pO});function a_e(r){let e=Object.keys(r).sort();return e.length===3&&e[0]==="currency"&&e[1]==="issuer"&&e[2]==="value"}var Qo=class extends n_e.SerializedType{constructor(e){super(e??Qo.defaultAmount.bytes)}static from(e){if(e instanceof Qo)return e;let t=Xc.Buffer.alloc(8);if(typeof e=="string"){Qo.assertXrpIsValid(e);let n=T2(e),i=[Xc.Buffer.alloc(4),Xc.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(rW)),0),t=Xc.Buffer.concat(i),t[0]|=64,new Qo(t)}if(a_e(e)){let n=new P1.Decimal(e.value);if(Qo.assertIouIsValid(n),n.isZero())t[0]|=128;else{let a=n.times(`1e${-(n.e-15)}`).abs().toString(),s=T2(a),u=[Xc.Buffer.alloc(4),Xc.Buffer.alloc(4)];u[0].writeUInt32BE(Number(s.shiftRight(32)),0),u[1].writeUInt32BE(Number(s.and(rW)),0),t=Xc.Buffer.concat(u),t[0]|=128,n.gt(new P1.Decimal(0))&&(t[0]|=64);let c=97+(n.e-15);t[0]|=c>>>2,t[1]|=(c&3)<<6}let i=tW.Currency.from(e.currency).toBytes(),o=eW.AccountID.from(e.issuer).toBytes();return new Qo(Xc.Buffer.concat([t,i,o]))}throw new Error("Invalid type to construct an Amount")}static fromParser(e){let n=e.peek()&128?48:8;return new Qo(e.read(n))}toJSON(){if(this.isNative()){let e=this.bytes,n=e[0]&64?"":"-";e[0]&=63;let i=T2(e.slice(0,4).readUInt32BE(0)),o=T2(e.slice(4).readUInt32BE(0)),a=i.shiftLeft(32).or(o);return`${n}${a.toString()}`}else{let e=new r_e.BinaryParser(this.toString()),t=e.read(8),n=tW.Currency.fromParser(e),i=eW.AccountID.fromParser(e),o=t[0],a=t[1],u=o&64?"":"-",f=((o&63)<<2)+((a&255)>>6)-97;t[0]=0,t[1]&=63;let c=new P1.Decimal(`${u}0x${t.toString("hex")}`).times(`1e${f}`);return Qo.assertIouIsValid(c),{value:c.toString(),currency:n.toJSON(),issuer:i.toJSON()}}}static assertXrpIsValid(e){if(e.indexOf(".")!==-1)throw new Error(`${e.toString()} is an illegal amount`);let t=new P1.Decimal(e);if(!t.isZero()&&(t.lt(o_e)||t.gt(i_e)))throw new Error(`${e.toString()} is an illegal amount`)}static assertIouIsValid(e){if(!e.isZero()){let t=e.precision(),n=e.e-15;if(t>pO||n>iW||n<nW)throw new Error("Decimal precision out of range");this.verifyNoDecimal(e)}}static verifyNoDecimal(e){if(e.times(`1e${-(e.e-15)}`).abs().toString().indexOf(".")!==-1)throw new Error("Decimal place found in integerNumberString")}isNative(){return(this.bytes[0]&128)===0}};ES.Amount=Qo;Qo.defaultAmount=new Qo(Xc.Buffer.from("4000000000000000","hex"))});var aW=T(IS=>{h();p();Object.defineProperty(IS,"__esModule",{value:!0});IS.Blob=void 0;var s_e=Ff(),u_e=xr(),M1=class extends s_e.SerializedType{constructor(e){super(e)}static fromParser(e,t){return new M1(e.read(t))}static from(e){if(e instanceof M1)return e;if(typeof e=="string")return new M1(u_e.Buffer.from(e,"hex"));throw new Error("Cannot construct Blob from value given")}};IS.Blob=M1});var sW=T(TS=>{h();p();Object.defineProperty(TS,"__esModule",{value:!0});TS.Hash128=void 0;var f_e=hS(),c_e=xr(),jf=class extends f_e.Hash{constructor(e){e&&e.byteLength===0&&(e=jf.ZERO_128.bytes),super(e??jf.ZERO_128.bytes)}toHex(){let e=this.toBytes().toString("hex").toUpperCase();return/^0+$/.exec(e)?"":e}};TS.Hash128=jf;jf.width=16;jf.ZERO_128=new jf(c_e.Buffer.alloc(jf.width))});var A2=T(AS=>{h();p();Object.defineProperty(AS,"__esModule",{value:!0});AS.Hash256=void 0;var d_e=hS(),l_e=xr(),Jc=class extends d_e.Hash{constructor(e){super(e??Jc.ZERO_256.bytes)}};AS.Hash256=Jc;Jc.width=32;Jc.ZERO_256=new Jc(l_e.Buffer.alloc(Jc.width))});var fW=T(OS=>{h();p();Object.defineProperty(OS,"__esModule",{value:!0});OS.PathSet=void 0;var Am=vS(),gO=SS(),xO=R1(),bO=Ff(),Hf=xr(),_O=0,uW=255,mO=1,yO=16,vO=32;function h_e(r){return r.issuer!==void 0||r.account!==void 0||r.currency!==void 0}function p_e(r){return Array.isArray(r)&&r.length===0||Array.isArray(r)&&Array.isArray(r[0])&&r[0].length===0||Array.isArray(r)&&Array.isArray(r[0])&&h_e(r[0][0])}var $c=class extends bO.SerializedType{static from(e){if(e instanceof $c)return e;let t=[Hf.Buffer.from([0])];return e.account&&(t.push(Am.AccountID.from(e.account).toBytes()),t[0][0]|=mO),e.currency&&(t.push(gO.Currency.from(e.currency).toBytes()),t[0][0]|=yO),e.issuer&&(t.push(Am.AccountID.from(e.issuer).toBytes()),t[0][0]|=vO),new $c(Hf.Buffer.concat(t))}static fromParser(e){let t=e.readUInt8(),n=[Hf.Buffer.from([t])];return t&mO&&n.push(e.read(Am.AccountID.width)),t&yO&&n.push(e.read(gO.Currency.width)),t&vO&&n.push(e.read(Am.AccountID.width)),new $c(Hf.Buffer.concat(n))}toJSON(){let e=new xO.BinaryParser(this.bytes.toString("hex")),t=e.readUInt8(),n,i,o;t&mO&&(n=Am.AccountID.fromParser(e).toJSON()),t&yO&&(i=gO.Currency.fromParser(e).toJSON()),t&vO&&(o=Am.AccountID.fromParser(e).toJSON());let a={};return n&&(a.account=n),o&&(a.issuer=o),i&&(a.currency=i),a}type(){return this.bytes[0]}},Zc=class extends bO.SerializedType{static from(e){if(e instanceof Zc)return e;let t=[];return e.forEach(n=>{t.push($c.from(n).toBytes())}),new Zc(Hf.Buffer.concat(t))}static fromParser(e){let t=[];for(;!e.end()&&(t.push($c.fromParser(e).toBytes()),!(e.peek()===_O||e.peek()===uW)););return new Zc(Hf.Buffer.concat(t))}toJSON(){let e=[],t=new xO.BinaryParser(this.toString());for(;!t.end();)e.push($c.fromParser(t).toJSON());return e}},N1=class extends bO.SerializedType{static from(e){if(e instanceof N1)return e;if(p_e(e)){let t=[];return e.forEach(n=>{t.push(Zc.from(n).toBytes()),t.push(Hf.Buffer.from([uW]))}),t[t.length-1]=Hf.Buffer.from([_O]),new N1(Hf.Buffer.concat(t))}throw new Error("Cannot construct PathSet from given value")}static fromParser(e){let t=[];for(;!e.end()&&(t.push(Zc.fromParser(e).toBytes()),t.push(e.read(1)),t[t.length-1][0]!=_O););return new N1(Hf.Buffer.concat(t))}toJSON(){let e=[],t=new xO.BinaryParser(this.toString());for(;!t.end();)e.push(Zc.fromParser(t).toJSON()),t.skip(1);return e}};OS.PathSet=N1});var BS=T(RS=>{h();p();Object.defineProperty(RS,"__esModule",{value:!0});RS.STObject=void 0;var g_e=Im(),m_e=Ff(),hW=fO(),y_e=R1(),DS=wm(),v_e=xr(),cW=v_e.Buffer.from([225]),dW="ObjectEndMarker",lW="STObject",__e="Destination",x_e="Account",wO="SourceTag",SO="DestinationTag";function b_e(r,e){let t=(0,hW.xAddressToClassicAddress)(e),n;if(r===__e)n=SO;else if(r===x_e)n=wO;else if(t.tag!==!1)throw new Error(`${r} cannot have an associated tag`);return t.tag!==!1?{[r]:t.classicAddress,[n]:t.tag}:{[r]:t.classicAddress}}function w_e(r,e){if(!(r[wO]===void 0||e[wO]===void 0))throw new Error("Cannot have Account X-Address and SourceTag");if(!(r[SO]===void 0||e[SO]===void 0))throw new Error("Cannot have Destination X-Address and DestinationTag")}var k1=class extends m_e.SerializedType{static fromParser(e){let t=new DS.BytesList,n=new DS.BinarySerializer(t);for(;!e.end();){let i=e.readField();if(i.name===dW)break;let o=e.readFieldValue(i);n.writeFieldAndValue(i,o),i.type.name===lW&&n.put(cW)}return new k1(t.toBytes())}static from(e,t){if(e instanceof k1)return e;let n=new DS.BytesList,i=new DS.BinarySerializer(n),o=!1,a=Object.entries(e).reduce((u,[f,c])=>{let l;return c&&(0,hW.isValidXAddress)(c.toString())&&(l=b_e(f,c.toString()),w_e(l,e)),Object.assign(u,l??{[f]:c})},{}),s=Object.keys(a).map(u=>g_e.Field[u]).filter(u=>u!==void 0&&a[u.name]!==void 0&&u.isSerialized).sort((u,f)=>u.ordinal-f.ordinal);return t!==void 0&&(s=s.filter(t)),s.forEach(u=>{let f=u.associatedType.from(a[u.name]);if(f==null)throw new TypeError(`Unable to interpret "${u.name}: ${a[u.name]}".`);f.name==="UNLModify"&&(o=!0);let c=u.name=="Account"&&o;i.writeFieldAndValue(u,f,c),u.type.name===lW&&i.put(cW)}),new k1(n.toBytes())}toJSON(){let e=new y_e.BinaryParser(this.toString()),t={};for(;!e.end();){let n=e.readField();if(n.name===dW)break;t[n.name]=e.readFieldValue(n).toJSON()}return t}};RS.STObject=k1});var yW=T(MS=>{h();p();Object.defineProperty(MS,"__esModule",{value:!0});MS.STArray=void 0;var S_e=Ff(),pW=BS(),C_e=R1(),PS=xr(),gW=PS.Buffer.from([241]),mW="ArrayEndMarker",E_e=PS.Buffer.from([225]);function I_e(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="object")}var q1=class extends S_e.SerializedType{static fromParser(e){let t=[];for(;!e.end();){let n=e.readField();if(n.name===mW)break;t.push(n.header,e.readFieldValue(n).toBytes(),E_e)}return t.push(gW),new q1(PS.Buffer.concat(t))}static from(e){if(e instanceof q1)return e;if(I_e(e)){let t=[];return e.forEach(n=>{t.push(pW.STObject.from(n).toBytes())}),t.push(gW),new q1(PS.Buffer.concat(t))}throw new Error("Cannot construct STArray from value given")}toJSON(){let e=[],t=new C_e.BinaryParser(this.toString());for(;!t.end();){let n=t.readField();if(n.name===mW)break;let i={};i[n.name]=pW.STObject.fromParser(t).toJSON(),e.push(i)}return e}};MS.STArray=q1});var O2=T(NS=>{h();p();Object.defineProperty(NS,"__esModule",{value:!0});NS.UInt=void 0;var T_e=Ff();function A_e(r,e){return r<e?-1:r==e?0:1}var CO=class extends T_e.Comparable{constructor(e){super(e)}compareTo(e){return A_e(this.valueOf(),e.valueOf())}toJSON(){let e=this.valueOf();return typeof e=="number"?e:e.toString()}};NS.UInt=CO});var _W=T(kS=>{h();p();Object.defineProperty(kS,"__esModule",{value:!0});kS.UInt16=void 0;var O_e=O2(),vW=xr(),ea=class extends O_e.UInt{constructor(e){super(e??ea.defaultUInt16.bytes)}static fromParser(e){return new ea(e.read(ea.width))}static from(e){if(e instanceof ea)return e;if(typeof e=="number"){let t=vW.Buffer.alloc(ea.width);return t.writeUInt16BE(e,0),new ea(t)}throw new Error("Can not construct UInt16 with given value")}valueOf(){return this.bytes.readUInt16BE(0)}};kS.UInt16=ea;ea.width=16/8;ea.defaultUInt16=new ea(vW.Buffer.alloc(ea.width))});var EO=T(qS=>{h();p();Object.defineProperty(qS,"__esModule",{value:!0});qS.UInt32=void 0;var D_e=O2(),xW=xr(),Oo=class extends D_e.UInt{constructor(e){super(e??Oo.defaultUInt32.bytes)}static fromParser(e){return new Oo(e.read(Oo.width))}static from(e){if(e instanceof Oo)return e;let t=xW.Buffer.alloc(Oo.width);if(typeof e=="string"){let n=Number.parseInt(e);return t.writeUInt32BE(n,0),new Oo(t)}if(typeof e=="number")return t.writeUInt32BE(e,0),new Oo(t);throw new Error("Cannot construct UInt32 from given value")}valueOf(){return this.bytes.readUInt32BE(0)}};qS.UInt32=Oo;Oo.width=32/8;Oo.defaultUInt32=new Oo(xW.Buffer.alloc(Oo.width))});var IO=T(FS=>{h();p();Object.defineProperty(FS,"__esModule",{value:!0});FS.UInt64=void 0;var R_e=O2(),Om=B1(),B_e=B1(),Qc=xr(),P_e=/^[a-fA-F0-9]{1,16}$/,bW=Om(4294967295),Wi=class extends R_e.UInt{constructor(e){super(e??Wi.defaultUInt64.bytes)}static fromParser(e){return new Wi(e.read(Wi.width))}static from(e){if(e instanceof Wi)return e;let t=Qc.Buffer.alloc(Wi.width);if(typeof e=="number"){if(e<0)throw new Error("value must be an unsigned integer");let n=Om(e),i=[Qc.Buffer.alloc(4),Qc.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(bW)),0),new Wi(Qc.Buffer.concat(i))}if(typeof e=="string"){if(!P_e.test(e))throw new Error(`${e} is not a valid hex-string`);let n=e.padStart(16,"0");return t=Qc.Buffer.from(n,"hex"),new Wi(t)}if((0,B_e.isInstance)(e)){let n=[Qc.Buffer.alloc(4),Qc.Buffer.alloc(4)];return n[0].writeUInt32BE(Number(e.shiftRight(Om(32))),0),n[1].writeUInt32BE(Number(e.and(bW)),0),new Wi(Qc.Buffer.concat(n))}throw new Error("Cannot construct UInt64 from given value")}toJSON(){return this.bytes.toString("hex").toUpperCase()}valueOf(){let e=Om(this.bytes.slice(0,4).readUInt32BE(0)),t=Om(this.bytes.slice(4).readUInt32BE(0));return e.shiftLeft(Om(32)).or(t)}toBytes(){return this.bytes}};FS.UInt64=Wi;Wi.width=64/8;Wi.defaultUInt64=new Wi(Qc.Buffer.alloc(Wi.width))});var TO=T(LS=>{h();p();Object.defineProperty(LS,"__esModule",{value:!0});LS.UInt8=void 0;var M_e=O2(),wW=xr(),ta=class extends M_e.UInt{constructor(e){super(e??ta.defaultUInt8.bytes)}static fromParser(e){return new ta(e.read(ta.width))}static from(e){if(e instanceof ta)return e;if(typeof e=="number"){let t=wW.Buffer.alloc(ta.width);return t.writeUInt8(e,0),new ta(t)}throw new Error("Cannot construct UInt8 from given value")}valueOf(){return this.bytes.readUInt8(0)}};LS.UInt8=ta;ta.width=8/8;ta.defaultUInt8=new ta(wW.Buffer.alloc(ta.width))});var EW=T(US=>{h();p();Object.defineProperty(US,"__esModule",{value:!0});US.Vector256=void 0;var N_e=Ff(),SW=A2(),CW=wm();function k_e(r){return Array.isArray(r)&&(r.length===0||typeof r[0]=="string")}var F1=class extends N_e.SerializedType{constructor(e){super(e)}static fromParser(e,t){let n=new CW.BytesList,o=(t??e.size())/32;for(let a=0;a<o;a++)SW.Hash256.fromParser(e).toBytesSink(n);return new F1(n.toBytes())}static from(e){if(e instanceof F1)return e;if(k_e(e)){let t=new CW.BytesList;return e.forEach(n=>{SW.Hash256.from(n).toBytesSink(t)}),new F1(t.toBytes())}throw new Error("Cannot construct Vector256 from given value")}toJSON(){if(this.bytes.byteLength%32!==0)throw new Error("Invalid bytes for Vector256");let e=[];for(let t=0;t<this.bytes.byteLength;t+=32)e.push(this.bytes.slice(t,t+32).toString("hex").toUpperCase());return e}};US.Vector256=F1});var D2=T(jS=>{h();p();Object.defineProperty(jS,"__esModule",{value:!0});jS.coreTypes=void 0;var L1=Im(),q_e=vS(),F_e=oW(),L_e=aW(),U_e=SS(),j_e=sW(),H_e=gS(),K_e=A2(),V_e=fW(),z_e=yW(),G_e=BS(),Y_e=_W(),W_e=EO(),X_e=IO(),J_e=TO(),$_e=EW(),IW={AccountID:q_e.AccountID,Amount:F_e.Amount,Blob:L_e.Blob,Currency:U_e.Currency,Hash128:j_e.Hash128,Hash160:H_e.Hash160,Hash256:K_e.Hash256,PathSet:V_e.PathSet,STArray:z_e.STArray,STObject:G_e.STObject,UInt8:J_e.UInt8,UInt16:Y_e.UInt16,UInt32:W_e.UInt32,UInt64:X_e.UInt64,Vector256:$_e.Vector256};jS.coreTypes=IW;Object.values(L1.Field).forEach(r=>{r.associatedType=IW[r.type.name]});L1.Field.TransactionType.associatedType=L1.TransactionType;L1.Field.TransactionResult.associatedType=L1.TransactionResult;L1.Field.LedgerEntryType.associatedType=L1.LedgerEntryType});var Dm=T(HS=>{h();p();Object.defineProperty(HS,"__esModule",{value:!0});HS.HashPrefix=void 0;var Z_e=xr();function Kf(r){let e=Z_e.Buffer.alloc(4);return e.writeUInt32BE(r,0),e}var Q_e={transactionID:Kf(1415073280),transaction:Kf(1397638144),accountStateEntry:Kf(1296846336),innerNode:Kf(1296649728),ledgerHeader:Kf(1280791040),transactionSig:Kf(1398036480),transactionMultiSig:Kf(1397576704),validation:Kf(1447119872),proposal:Kf(1347571712),paymentChannelClaim:Kf(1129073920)};HS.HashPrefix=Q_e});var R2=T(el=>{h();p();Object.defineProperty(el,"__esModule",{value:!0});el.transactionID=el.sha512Half=el.Sha512Half=void 0;var exe=Dm(),txe=Jx(),TW=A2(),rxe=wm(),nxe=xr(),Rm=class extends rxe.BytesList{constructor(){super(...arguments),this.hash=txe("sha512")}static put(e){return new Rm().put(e)}put(e){return this.hash.update(e),this}finish256(){return nxe.Buffer.from(this.hash.digest().slice(0,32))}finish(){return new TW.Hash256(this.finish256())}};el.Sha512Half=Rm;function AW(...r){let e=new Rm;return r.forEach(t=>e.put(t)),e.finish256()}el.sha512Half=AW;function ixe(r){return new TW.Hash256(AW(exe.HashPrefix.transactionID,r))}el.transactionID=ixe});var DO=T(mr=>{h();p();Object.defineProperty(mr,"__esModule",{value:!0});mr.transactionID=mr.sha512Half=mr.binaryToJSON=mr.signingClaimData=mr.signingData=mr.multiSigningData=mr.readJSON=mr.serializeObject=mr.makeParser=mr.BytesList=mr.BinarySerializer=mr.BinaryParser=void 0;var B2=D2(),OW=R1();Object.defineProperty(mr,"BinaryParser",{enumerable:!0,get:function(){return OW.BinaryParser}});var AO=Dm(),KS=wm();Object.defineProperty(mr,"BinarySerializer",{enumerable:!0,get:function(){return KS.BinarySerializer}});Object.defineProperty(mr,"BytesList",{enumerable:!0,get:function(){return KS.BytesList}});var DW=R2();Object.defineProperty(mr,"sha512Half",{enumerable:!0,get:function(){return DW.sha512Half}});Object.defineProperty(mr,"transactionID",{enumerable:!0,get:function(){return DW.transactionID}});var oxe=B1(),RW=r=>new OW.BinaryParser(r);mr.makeParser=RW;var BW=r=>r.readType(B2.coreTypes.STObject).toJSON();mr.readJSON=BW;var axe=r=>BW(RW(r));mr.binaryToJSON=axe;function OO(r,e={}){let{prefix:t,suffix:n,signingFieldsOnly:i=!1}=e,o=new KS.BytesList;t&&o.put(t);let a=i?s=>s.isSigningField:void 0;return B2.coreTypes.STObject.from(r,a).toBytesSink(o),n&&o.put(n),o.toBytes()}mr.serializeObject=OO;function sxe(r,e=AO.HashPrefix.transactionSig){return OO(r,{prefix:e,signingFieldsOnly:!0})}mr.signingData=sxe;function uxe(r){let e=oxe(String(r.amount)),t=AO.HashPrefix.paymentChannelClaim,n=B2.coreTypes.Hash256.from(r.channel).toBytes(),i=B2.coreTypes.UInt64.from(e).toBytes(),o=new KS.BytesList;return o.put(t),o.put(n),o.put(i),o.toBytes()}mr.signingClaimData=uxe;function fxe(r,e){let t=AO.HashPrefix.transactionMultiSig,n=B2.coreTypes.AccountID.from(e).toBytes();return OO(r,{prefix:t,suffix:n,signingFieldsOnly:!0})}mr.multiSigningData=fxe});var BO=T(tl=>{h();p();Object.defineProperty(tl,"__esModule",{value:!0});tl.ShaMapLeaf=tl.ShaMapNode=tl.ShaMap=void 0;var cxe=aa(),PW=D2(),dxe=Dm(),MW=R2(),lxe=xr(),P2=class{};tl.ShaMapNode=P2;var M2=class extends P2{constructor(e,t){super(),this.index=e,this.item=t}isLeaf(){return!0}isInner(){return!1}hashPrefix(){return this.item===void 0?lxe.Buffer.alloc(0):this.item.hashPrefix()}hash(){let e=MW.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){this.item!==void 0&&this.item.toBytesSink(e),this.index.toBytesSink(e)}};tl.ShaMapLeaf=M2;var Bm=class extends P2{constructor(e=0){super(),this.depth=e,this.slotBits=0,this.branches=Array(16)}isInner(){return!0}isLeaf(){return!1}hashPrefix(){return dxe.HashPrefix.innerNode}setBranch(e,t){this.slotBits=this.slotBits|1<<e,this.branches[e]=t}empty(){return this.slotBits===0}hash(){if(this.empty())return PW.coreTypes.Hash256.ZERO_256;let e=MW.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){for(let t=0;t<this.branches.length;t++){let n=this.branches[t];(n?n.hash():PW.coreTypes.Hash256.ZERO_256).toBytesSink(e)}}addItem(e,t,n){if(cxe.strict.ok(e!==void 0),e!==void 0){let i=e.nibblet(this.depth),o=this.branches[i];if(o===void 0)this.setBranch(i,n||new M2(e,t));else if(o instanceof M2){let a=new Bm(this.depth+1);a.addItem(o.index,void 0,o),a.addItem(e,t,n),this.setBranch(i,a)}else if(o instanceof Bm)o.addItem(e,t,n);else throw new Error("invalid ShaMap.addItem call")}}},RO=class extends Bm{};tl.ShaMap=RO});var NO=T(Xi=>{h();p();var hxe=Xi&&Xi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pxe=Xi&&Xi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gxe=Xi&&Xi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hxe(e,r,t);return pxe(e,r),e};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.decodeLedgerData=Xi.ledgerHash=Xi.transactionTreeHash=Xi.accountStateHash=void 0;var VS=gxe(aa()),mxe=BO(),MO=Dm(),yxe=R2(),qW=DO(),rl=A2(),NW=BS(),FW=IO(),PO=EO(),kW=TO(),vxe=R1(),_xe=B1();function LW(r,e){let t=new mxe.ShaMap;return e.forEach(n=>t.addItem(...r(n))),t.hash()}function xxe(r){return VS.ok(r.hash),[rl.Hash256.from(r.hash),{hashPrefix(){return MO.HashPrefix.transaction},toBytesSink(n){let i=new qW.BinarySerializer(n);i.writeLengthEncoded(NW.STObject.from(r)),i.writeLengthEncoded(NW.STObject.from(r.metaData))}},void 0]}function bxe(r){let e=rl.Hash256.from(r.index),t=(0,qW.serializeObject)(r);return[e,{hashPrefix(){return MO.HashPrefix.accountStateEntry},toBytesSink(i){i.put(t)}},void 0]}function wxe(r){return LW(xxe,r)}Xi.transactionTreeHash=wxe;function Sxe(r){return LW(bxe,r)}Xi.accountStateHash=Sxe;function Cxe(r){let e=new yxe.Sha512Half;return e.put(MO.HashPrefix.ledgerHeader),VS.ok(r.parent_close_time!==void 0),VS.ok(r.close_flags!==void 0),PO.UInt32.from(r.ledger_index).toBytesSink(e),FW.UInt64.from(_xe(String(r.total_coins))).toBytesSink(e),rl.Hash256.from(r.parent_hash).toBytesSink(e),rl.Hash256.from(r.transaction_hash).toBytesSink(e),rl.Hash256.from(r.account_hash).toBytesSink(e),PO.UInt32.from(r.parent_close_time).toBytesSink(e),PO.UInt32.from(r.close_time).toBytesSink(e),kW.UInt8.from(r.close_time_resolution).toBytesSink(e),kW.UInt8.from(r.close_flags).toBytesSink(e),e.finish()}Xi.ledgerHash=Cxe;function Exe(r){VS.ok(typeof r=="string","binary must be a hex string");let e=new vxe.BinaryParser(r);return{ledger_index:e.readUInt32(),total_coins:e.readType(FW.UInt64).valueOf().toString(),parent_hash:e.readType(rl.Hash256).toHex(),transaction_hash:e.readType(rl.Hash256).toHex(),account_hash:e.readType(rl.Hash256).toHex(),parent_close_time:e.readUInt32(),close_time:e.readUInt32(),close_time_resolution:e.readUInt8(),close_flags:e.readUInt8()}}Xi.decodeLedgerData=Exe});var jW=T(zS=>{h();p();Object.defineProperty(zS,"__esModule",{value:!0});zS.quality=void 0;var Ixe=D2(),UW=lO(),Txe=B1(),Axe=xr(),kO=class{static encode(e){let t=new UW.Decimal(e),n=t.e-15,i=t.times(`1e${-n}`).abs().toString(),o=Ixe.coreTypes.UInt64.from(Txe(i)).toBytes();return o[0]=n+100,o}static decode(e){let t=Axe.Buffer.from(e,"hex").slice(-8),n=t[0]-100;return new UW.Decimal(`0x${t.slice(1).toString("hex")}`).times(`1e${n}`)}};zS.quality=kO});var HW=T(Ft=>{h();p();var Oxe=Ft&&Ft.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dxe=Ft&&Ft.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),GS=Ft&&Ft.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Oxe(e,r,t);return Dxe(e,r),e};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.types=Ft.ShaMap=Ft.HashPrefix=Ft.quality=Ft.TransactionResult=Ft.Type=Ft.LedgerEntryType=Ft.TransactionType=Ft.Field=Ft.ledgerHashes=Ft.binary=Ft.hashes=void 0;var N2=Im();Object.defineProperty(Ft,"Field",{enumerable:!0,get:function(){return N2.Field}});Object.defineProperty(Ft,"TransactionType",{enumerable:!0,get:function(){return N2.TransactionType}});Object.defineProperty(Ft,"LedgerEntryType",{enumerable:!0,get:function(){return N2.LedgerEntryType}});Object.defineProperty(Ft,"Type",{enumerable:!0,get:function(){return N2.Type}});Object.defineProperty(Ft,"TransactionResult",{enumerable:!0,get:function(){return N2.TransactionResult}});var Rxe=GS(D2());Ft.types=Rxe;var Bxe=GS(DO());Ft.binary=Bxe;var Pxe=BO();Object.defineProperty(Ft,"ShaMap",{enumerable:!0,get:function(){return Pxe.ShaMap}});var Mxe=GS(NO());Ft.ledgerHashes=Mxe;var Nxe=GS(R2());Ft.hashes=Nxe;var kxe=jW();Object.defineProperty(Ft,"quality",{enumerable:!0,get:function(){return kxe.quality}});var qxe=Dm();Object.defineProperty(Ft,"HashPrefix",{enumerable:!0,get:function(){return qxe.HashPrefix}})});var KW=T(yr=>{h();p();var Fxe=yr&&yr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lxe=yr&&yr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Uxe=yr&&yr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Fxe(e,r,t);return Lxe(e,r),e};Object.defineProperty(yr,"__esModule",{value:!0});yr.TRANSACTION_TYPES=yr.decodeLedgerData=yr.decodeQuality=yr.encodeQuality=yr.encodeForMultisigning=yr.encodeForSigningClaim=yr.encodeForSigning=yr.encode=yr.decode=void 0;var nl=Uxe(aa()),qO=HW(),jxe=NO();Object.defineProperty(yr,"decodeLedgerData",{enumerable:!0,get:function(){return jxe.decodeLedgerData}});var Hxe=Im();Object.defineProperty(yr,"TRANSACTION_TYPES",{enumerable:!0,get:function(){return Hxe.TRANSACTION_TYPES}});var{signingData:Kxe,signingClaimData:Vxe,multiSigningData:zxe,binaryToJSON:Gxe,serializeObject:Yxe}=qO.binary;function Wxe(r){return nl.ok(typeof r=="string","binary must be a hex string"),Gxe(r)}yr.decode=Wxe;function Xxe(r){return nl.ok(typeof r=="object"),Yxe(r).toString("hex").toUpperCase()}yr.encode=Xxe;function Jxe(r){return nl.ok(typeof r=="object"),Kxe(r).toString("hex").toUpperCase()}yr.encodeForSigning=Jxe;function $xe(r){return nl.ok(typeof r=="object"),Vxe(r).toString("hex").toUpperCase()}yr.encodeForSigningClaim=$xe;function Zxe(r,e){return nl.ok(typeof r=="object"),nl.equal(r.SigningPubKey,""),zxe(r,e).toString("hex").toUpperCase()}yr.encodeForMultisigning=Zxe;function Qxe(r){return nl.ok(typeof r=="string"),qO.quality.encode(r).toString("hex").toUpperCase()}yr.encodeQuality=Qxe;function e3e(r){return nl.ok(typeof r=="string"),qO.quality.decode(r).toString()}yr.decodeQuality=e3e});var VW=T(YS=>{h();p();Object.defineProperty(YS,"__esModule",{value:!0});YS.KeystoneXrpSDK=void 0;var t3e=pn(),r3e=KW(),FO=class{parseAccount(e){let t=e.decodeCBOR().toString();return JSON.parse(t)}parseSignature(e){if(e.type!=="bytes")throw new Error("type not match");try{let t=e.decodeCBOR().toString("hex");return(0,r3e.decode)(t).TxnSignature}catch{throw new Error("signature is invalid")}}generateSignRequest(e){let t=JSON.stringify(e);return t3e.UR.fromBuffer(m.Buffer.from(t))}};YS.KeystoneXrpSDK=FO});var zW=T(U1=>{h();p();var n3e=U1&&U1.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),i3e=U1&&U1.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&n3e(e,r,t)};Object.defineProperty(U1,"__esModule",{value:!0});i3e(VW(),U1)});var GW=T(WS=>{h();p();Object.defineProperty(WS,"__esModule",{value:!0});WS.KeystoneSDK=void 0;var ra=YA(),Pm=bY(),o3e=zW(),Mm=class{constructor(e){this.parseMultiAccounts=Pm.parseMultiAccounts,this.parseHDKey=Pm.parseHDKey,this.generateKeyDerivationCall=Pm.generateKeyDerivationCall,this.config=e}get btc(){return this._btc===void 0&&(this._btc=new ra.KeystoneBitcoinSDK),this._btc}get eth(){return this._eth===void 0&&(this._eth=new ra.KeystoneEthereumSDK(this.config)),this._eth}get sol(){return this._sol===void 0&&(this._sol=new ra.KeystoneSolanaSDK),this._sol}get cosmos(){return this._cosmos===void 0&&(this._cosmos=new ra.KeystoneCosmosSDK(this.config)),this._cosmos}get evm(){return this._evm===void 0&&(this._evm=new ra.KeystoneEvmSDK(this.config)),this._evm}get tron(){return this._tron===void 0&&(this._tron=new ra.KeystoneTronSDK),this._tron}get ltc(){return this._ltc===void 0&&(this._ltc=new ra.KeystoneLitecoinSDK),this._ltc}get bch(){return this._bch===void 0&&(this._bch=new ra.KeystoneBitcoinCashSDK),this._bch}get dash(){return this._dash===void 0&&(this._dash=new ra.KeystoneDashSDK),this._dash}get aptos(){return this._aptos===void 0&&(this._aptos=new ra.KeystoneAptosSDK),this._aptos}get near(){return this._near===void 0&&(this._near=new ra.KeystoneNearSDK),this._near}get arweave(){return this._arweave===void 0&&(this._arweave=new ra.KeystoneArweaveSDK),this._arweave}get sui(){return this._sui===void 0&&(this._sui=new ra.KeystoneSuiSDK),this._sui}get cardano(){return this._cardano===void 0&&(this._cardano=new ra.KeystoneCardanoSDK),this._cardano}get xrp(){return this._xrp===void 0&&(this._xrp=new o3e.KeystoneXrpSDK),this._xrp}};Mm.parseMultiAccounts=Pm.parseMultiAccounts;Mm.parseHDKey=Pm.parseHDKey;Mm.generateKeyDerivationCall=Pm.generateKeyDerivationCall;WS.KeystoneSDK=Mm});var XS=T(Or=>{h();p();var YW=Or&&Or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),a3e=Or&&Or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s3e=Or&&Or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&YW(e,r,t);return a3e(e,r),e},LO=Or&&Or.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YW(e,r,t)};Object.defineProperty(Or,"__esModule",{value:!0});Or.utils=Or.KeystoneSDK=Or.DerivationAlgorithm=Or.Curve=void 0;var u3e=s3e(En());Or.utils=u3e;var WW=GW();Object.defineProperty(Or,"KeystoneSDK",{enumerable:!0,get:function(){return WW.KeystoneSDK}});LO(pn(),Or);LO(eS(),Or);LO(YA(),Or);var XW=WA();Object.defineProperty(Or,"Curve",{enumerable:!0,get:function(){return XW.Curve}});Object.defineProperty(Or,"DerivationAlgorithm",{enumerable:!0,get:function(){return XW.DerivationAlgorithm}});Or.default=WW.KeystoneSDK});var hX=T((Rst,lX)=>{h();p();var c3e=Object.create,q2=Object.defineProperty,d3e=Object.getOwnPropertyDescriptor,l3e=Object.getOwnPropertyNames,JS=Object.getOwnPropertySymbols,h3e=Object.getPrototypeOf,UO=Object.prototype.hasOwnProperty,ZW=Object.prototype.propertyIsEnumerable,$W=(r,e,t)=>e in r?q2(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,k2=(r,e)=>{for(var t in e||(e={}))UO.call(e,t)&&$W(r,t,e[t]);if(JS)for(var t of JS(e))ZW.call(e,t)&&$W(r,t,e[t]);return r},jO=(r,e)=>{var t={};for(var n in r)UO.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&JS)for(var n of JS(r))e.indexOf(n)<0&&ZW.call(r,n)&&(t[n]=r[n]);return t},p3e=(r,e)=>{for(var t in e)q2(r,t,{get:e[t],enumerable:!0})},QW=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of l3e(e))!UO.call(r,i)&&i!==t&&q2(r,i,{get:()=>e[i],enumerable:!(n=d3e(e,i))||n.enumerable});return r},g3e=(r,e,t)=>(t=r!=null?c3e(h3e(r)):{},QW(e||!r||!r.__esModule?q2(t,"default",{value:r,enumerable:!0}):t,r)),m3e=r=>QW(q2({},"__esModule",{value:!0}),r),eX={};p3e(eX,{QRCodeCanvas:()=>cX,QRCodeSVG:()=>dX,default:()=>_3e});lX.exports=m3e(eX);var Do=g3e(cc());var j1;(r=>{let e=class{constructor(u,f,c,l){if(this.version=u,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version value out of range");if(l<-1||l>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();let y=this.addEccAndInterleave(c);if(this.drawCodewords(y),l==-1){let b=1e9;for(let D=0;D<8;D++){this.applyMask(D),this.drawFormatBits(D);let M=this.getPenaltyScore();M<b&&(l=D,b=M),this.applyMask(D)}}o(0<=l&&l<=7),this.mask=l,this.applyMask(l),this.drawFormatBits(l),this.isFunction=[]}static encodeText(u,f){let c=r.QrSegment.makeSegments(u);return e.encodeSegments(c,f)}static encodeBinary(u,f){let c=r.QrSegment.makeBytes(u);return e.encodeSegments([c],f)}static encodeSegments(u,f,c=1,l=40,g=-1,y=!0){if(!(e.MIN_VERSION<=c&&c<=l&&l<=e.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,D;for(b=c;;b++){let K=e.getNumDataCodewords(b,f)*8,X=s.getTotalBits(u,b);if(X<=K){D=X;break}if(b>=l)throw new RangeError("Data too long")}for(let K of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])y&&D<=e.getNumDataCodewords(b,K)*8&&(f=K);let M=[];for(let K of u){n(K.mode.modeBits,4,M),n(K.numChars,K.mode.numCharCountBits(b),M);for(let X of K.getData())M.push(X)}o(M.length==D);let k=e.getNumDataCodewords(b,f)*8;o(M.length<=k),n(0,Math.min(4,k-M.length),M),n(0,(8-M.length%8)%8,M),o(M.length%8==0);for(let K=236;M.length<k;K^=253)n(K,8,M);let N=[];for(;N.length*8<M.length;)N.push(0);return M.forEach((K,X)=>N[X>>>3]|=K<<7-(X&7)),new e(b,f,N,g)}getModule(u,f){return 0<=u&&u<this.size&&0<=f&&f<this.size&&this.modules[f][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let u=this.getAlignmentPatternPositions(),f=u.length;for(let c=0;c<f;c++)for(let l=0;l<f;l++)c==0&&l==0||c==0&&l==f-1||c==f-1&&l==0||this.drawAlignmentPattern(u[c],u[l]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){let f=this.errorCorrectionLevel.formatBits<<3|u,c=f;for(let g=0;g<10;g++)c=c<<1^(c>>>9)*1335;let l=(f<<10|c)^21522;o(l>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,i(l,g));this.setFunctionModule(8,7,i(l,6)),this.setFunctionModule(8,8,i(l,7)),this.setFunctionModule(7,8,i(l,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,i(l,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,i(l,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,i(l,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let c=0;c<12;c++)u=u<<1^(u>>>11)*7973;let f=this.version<<12|u;o(f>>>18==0);for(let c=0;c<18;c++){let l=i(f,c),g=this.size-11+c%3,y=Math.floor(c/3);this.setFunctionModule(g,y,l),this.setFunctionModule(y,g,l)}}drawFinderPattern(u,f){for(let c=-4;c<=4;c++)for(let l=-4;l<=4;l++){let g=Math.max(Math.abs(l),Math.abs(c)),y=u+l,b=f+c;0<=y&&y<this.size&&0<=b&&b<this.size&&this.setFunctionModule(y,b,g!=2&&g!=4)}}drawAlignmentPattern(u,f){for(let c=-2;c<=2;c++)for(let l=-2;l<=2;l++)this.setFunctionModule(u+l,f+c,Math.max(Math.abs(l),Math.abs(c))!=1)}setFunctionModule(u,f,c){this.modules[f][u]=c,this.isFunction[f][u]=!0}addEccAndInterleave(u){let f=this.version,c=this.errorCorrectionLevel;if(u.length!=e.getNumDataCodewords(f,c))throw new RangeError("Invalid argument");let l=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][f],g=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][f],y=Math.floor(e.getNumRawDataModules(f)/8),b=l-y%l,D=Math.floor(y/l),M=[],k=e.reedSolomonComputeDivisor(g);for(let K=0,X=0;K<l;K++){let q=u.slice(X,X+D-g+(K<b?0:1));X+=q.length;let d=e.reedSolomonComputeRemainder(q,k);K<b&&q.push(0),M.push(q.concat(d))}let N=[];for(let K=0;K<M[0].length;K++)M.forEach((X,q)=>{(K!=D-g||q>=b)&&N.push(X[K])});return o(N.length==y),N}drawCodewords(u){if(u.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let l=0;l<this.size;l++)for(let g=0;g<2;g++){let y=c-g,D=(c+1&2)==0?this.size-1-l:l;!this.isFunction[D][y]&&f<u.length*8&&(this.modules[D][y]=i(u[f>>>3],7-(f&7)),f++)}}o(f==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let c=0;c<this.size;c++){let l;switch(u){case 0:l=(c+f)%2==0;break;case 1:l=f%2==0;break;case 2:l=c%3==0;break;case 3:l=(c+f)%3==0;break;case 4:l=(Math.floor(c/3)+Math.floor(f/2))%2==0;break;case 5:l=c*f%2+c*f%3==0;break;case 6:l=(c*f%2+c*f%3)%2==0;break;case 7:l=((c+f)%2+c*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][c]&&l&&(this.modules[f][c]=!this.modules[f][c])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let y=!1,b=0,D=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[g][M]==y?(b++,b==5?u+=e.PENALTY_N1:b>5&&u++):(this.finderPenaltyAddHistory(b,D),y||(u+=this.finderPenaltyCountPatterns(D)*e.PENALTY_N3),y=this.modules[g][M],b=1);u+=this.finderPenaltyTerminateAndCount(y,b,D)*e.PENALTY_N3}for(let g=0;g<this.size;g++){let y=!1,b=0,D=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[M][g]==y?(b++,b==5?u+=e.PENALTY_N1:b>5&&u++):(this.finderPenaltyAddHistory(b,D),y||(u+=this.finderPenaltyCountPatterns(D)*e.PENALTY_N3),y=this.modules[M][g],b=1);u+=this.finderPenaltyTerminateAndCount(y,b,D)*e.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let y=0;y<this.size-1;y++){let b=this.modules[g][y];b==this.modules[g][y+1]&&b==this.modules[g+1][y]&&b==this.modules[g+1][y+1]&&(u+=e.PENALTY_N2)}let f=0;for(let g of this.modules)f=g.reduce((y,b)=>y+(b?1:0),f);let c=this.size*this.size,l=Math.ceil(Math.abs(f*20-c*10)/c)-1;return o(0<=l&&l<=9),u+=l*e.PENALTY_N4,o(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{let u=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2,c=[6];for(let l=this.size-7;c.length<u;l-=f)c.splice(1,0,l);return c}}static getNumRawDataModules(u){if(u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*u+128)*u+64;if(u>=2){let c=Math.floor(u/7)+2;f-=(25*c-10)*c-55,u>=7&&(f-=36)}return o(208<=f&&f<=29648),f}static getNumDataCodewords(u,f){return Math.floor(e.getNumRawDataModules(u)/8)-e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u]*e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let f=[];for(let l=0;l<u-1;l++)f.push(0);f.push(1);let c=1;for(let l=0;l<u;l++){for(let g=0;g<f.length;g++)f[g]=e.reedSolomonMultiply(f[g],c),g+1<f.length&&(f[g]^=f[g+1]);c=e.reedSolomonMultiply(c,2)}return f}static reedSolomonComputeRemainder(u,f){let c=f.map(l=>0);for(let l of u){let g=l^c.shift();c.push(0),f.forEach((y,b)=>c[b]^=e.reedSolomonMultiply(y,g))}return c}static reedSolomonMultiply(u,f){if(u>>>8!=0||f>>>8!=0)throw new RangeError("Byte out of range");let c=0;for(let l=7;l>=0;l--)c=c<<1^(c>>>7)*285,c^=(f>>>l&1)*u;return o(c>>>8==0),c}finderPenaltyCountPatterns(u){let f=u[1];o(f<=this.size*3);let c=f>0&&u[2]==f&&u[3]==f*3&&u[4]==f&&u[5]==f;return(c&&u[0]>=f*4&&u[6]>=f?1:0)+(c&&u[6]>=f*4&&u[0]>=f?1:0)}finderPenaltyTerminateAndCount(u,f,c){return u&&(this.finderPenaltyAddHistory(f,c),f=0),f+=this.size,this.finderPenaltyAddHistory(f,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(u,f){f[0]==0&&(u+=this.size),f.pop(),f.unshift(u)}},t=e;t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=t;function n(u,f,c){if(f<0||f>31||u>>>f!=0)throw new RangeError("Value out of range");for(let l=f-1;l>=0;l--)c.push(u>>>l&1)}function i(u,f){return(u>>>f&1)!=0}function o(u){if(!u)throw new Error("Assertion error")}let a=class{constructor(u,f,c){if(this.mode=u,this.numChars=f,this.bitData=c,f<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(u){let f=[];for(let c of u)n(c,8,f);return new a(a.Mode.BYTE,u.length,f)}static makeNumeric(u){if(!a.isNumeric(u))throw new RangeError("String contains non-numeric characters");let f=[];for(let c=0;c<u.length;){let l=Math.min(u.length-c,3);n(parseInt(u.substr(c,l),10),l*3+1,f),c+=l}return new a(a.Mode.NUMERIC,u.length,f)}static makeAlphanumeric(u){if(!a.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],c;for(c=0;c+2<=u.length;c+=2){let l=a.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c))*45;l+=a.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c+1)),n(l,11,f)}return c<u.length&&n(a.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c)),6,f),new a(a.Mode.ALPHANUMERIC,u.length,f)}static makeSegments(u){return u==""?[]:a.isNumeric(u)?[a.makeNumeric(u)]:a.isAlphanumeric(u)?[a.makeAlphanumeric(u)]:[a.makeBytes(a.toUtf8ByteArray(u))]}static makeEci(u){let f=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<1<<7)n(u,8,f);else if(u<1<<14)n(2,2,f),n(u,14,f);else if(u<1e6)n(6,3,f),n(u,21,f);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,f)}static isNumeric(u){return a.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return a.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,f){let c=0;for(let l of u){let g=l.mode.numCharCountBits(f);if(l.numChars>=1<<g)return 1/0;c+=4+g+l.bitData.length}return c}static toUtf8ByteArray(u){u=encodeURI(u);let f=[];for(let c=0;c<u.length;c++)u.charAt(c)!="%"?f.push(u.charCodeAt(c)):(f.push(parseInt(u.substr(c+1,2),16)),c+=2);return f}},s=a;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.QrSegment=s})(j1||(j1={}));(r=>{let e;(t=>{let n=class{constructor(o,a){this.ordinal=o,this.formatBits=a}},i=n;i.LOW=new n(0,1),i.MEDIUM=new n(1,0),i.QUARTILE=new n(2,3),i.HIGH=new n(3,2),t.Ecc=i})(e=r.QrCode||(r.QrCode={}))})(j1||(j1={}));(r=>{let e;(t=>{let n=class{constructor(o,a){this.modeBits=o,this.numBitsCharCount=a}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}},i=n;i.NUMERIC=new n(1,[10,12,14]),i.ALPHANUMERIC=new n(2,[9,11,13]),i.BYTE=new n(4,[8,16,16]),i.KANJI=new n(8,[8,10,12]),i.ECI=new n(7,[0,0,0]),t.Mode=i})(e=r.QrSegment||(r.QrSegment={}))})(j1||(j1={}));var qm=j1;var tX={L:qm.QrCode.Ecc.LOW,M:qm.QrCode.Ecc.MEDIUM,Q:qm.QrCode.Ecc.QUARTILE,H:qm.QrCode.Ecc.HIGH},rX=128,nX="L",iX="#FFFFFF",oX="#000000",aX=!1,HO=4,y3e=.1;function sX(r,e=0){let t=[];return r.forEach(function(n,i){let o=null;n.forEach(function(a,s){if(!a&&o!==null){t.push(`M${o+e} ${i+e}h${s-o}v1H${o+e}z`),o=null;return}if(s===n.length-1){if(!a)return;o===null?t.push(`M${s+e},${i+e} h1v1H${s+e}z`):t.push(`M${o+e},${i+e} h${s+1-o}v1H${o+e}z`);return}a&&o===null&&(o=s)})}),t.join("")}function uX(r,e){return r.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function fX(r,e,t,n){if(n==null)return null;let i=t?HO:0,o=r.length+i*2,a=Math.floor(e*y3e),s=o/e,u=(n.width||a)*s,f=(n.height||a)*s,c=n.x==null?r.length/2-u/2:n.x*s,l=n.y==null?r.length/2-f/2:n.y*s,g=null;if(n.excavate){let y=Math.floor(c),b=Math.floor(l),D=Math.ceil(u+c-y),M=Math.ceil(f+l-b);g={x:y,y:b,w:D,h:M}}return{x:c,y:l,h:f,w:u,excavation:g}}var v3e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function cX(r){let e=r,{value:t,size:n=rX,level:i=nX,bgColor:o=iX,fgColor:a=oX,includeMargin:s=aX,style:u,imageSettings:f}=e,c=jO(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),l=f?.src,g=(0,Do.useRef)(null),y=(0,Do.useRef)(null),[b,D]=(0,Do.useState)(!1);(0,Do.useEffect)(()=>{if(g.current!=null){let N=g.current,K=N.getContext("2d");if(!K)return;let X=qm.QrCode.encodeText(t,tX[i]).getModules(),q=s?HO:0,d=X.length+q*2,v=fX(X,n,s,f),w=y.current,I=v!=null&&w!==null&&w.complete&&w.naturalHeight!==0&&w.naturalWidth!==0;I&&v.excavation!=null&&(X=uX(X,v.excavation));let x=window.devicePixelRatio||1;N.height=N.width=n*x;let B=n/d*x;K.scale(B,B),K.fillStyle=o,K.fillRect(0,0,d,d),K.fillStyle=a,v3e?K.fill(new Path2D(sX(X,q))):X.forEach(function(E,_){E.forEach(function(C,A){C&&K.fillRect(A+q,_+q,1,1)})}),I&&K.drawImage(w,v.x+q,v.y+q,v.w,v.h)}}),(0,Do.useEffect)(()=>{D(!1)},[l]);let M=k2({height:n,width:n},u),k=null;return l!=null&&(k=Do.default.createElement("img",{src:l,key:l,style:{display:"none"},onLoad:()=>{D(!0)},ref:y})),Do.default.createElement(Do.default.Fragment,null,Do.default.createElement("canvas",k2({style:M,height:n,width:n,ref:g},c)),k)}function dX(r){let e=r,{value:t,size:n=rX,level:i=nX,bgColor:o=iX,fgColor:a=oX,includeMargin:s=aX,imageSettings:u}=e,f=jO(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),c=qm.QrCode.encodeText(t,tX[i]).getModules(),l=s?HO:0,g=c.length+l*2,y=fX(c,n,s,u),b=null;u!=null&&y!=null&&(y.excavation!=null&&(c=uX(c,y.excavation)),b=Do.default.createElement("image",{xlinkHref:u.src,height:y.h,width:y.w,x:y.x+l,y:y.y+l,preserveAspectRatio:"none"}));let D=sX(c,l);return Do.default.createElement("svg",k2({height:n,width:n,viewBox:`0 0 ${g} ${g}`},f),Do.default.createElement("path",{fill:o,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),Do.default.createElement("path",{fill:a,d:D,shapeRendering:"crispEdges"}),b)}var _3e=r=>{let e=r,{renderAs:t}=e,n=jO(e,["renderAs"]);return t==="svg"?Do.default.createElement(dX,k2({},n)):Do.default.createElement(cX,k2({},n))}});var Ji=T(F2=>{h();p();var x3e=F2&&F2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(F2,"__esModule",{value:!0});var b3e=ste(),w3e=function(r){x3e(e,r);function e(t){t===void 0&&(t=void 0);var n=r.call(this,t)||this;return n.message=t,n}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(b3e.CustomError);F2.default=w3e});var $S=T(L2=>{h();p();var S3e=L2&&L2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(L2,"__esModule",{value:!0});var C3e=Ji(),E3e=function(r){S3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArgumentException",e}(C3e.default);L2.default=E3e});var Vt=T(U2=>{h();p();var I3e=U2&&U2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(U2,"__esModule",{value:!0});var T3e=Ji(),A3e=function(r){I3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(T3e.default);U2.default=A3e});var VO=T(KO=>{h();p();Object.defineProperty(KO,"__esModule",{value:!0});var O3e=Vt(),D3e=function(){function r(e){if(this.binarizer=e,e===null)throw new O3e.default("Binarizer must be non-null.")}return r.prototype.getWidth=function(){return this.binarizer.getWidth()},r.prototype.getHeight=function(){return this.binarizer.getHeight()},r.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},r.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},r.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},r.prototype.crop=function(e,t,n,i){var o=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new r(this.binarizer.createBinarizer(o))},r.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},r.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new r(this.binarizer.createBinarizer(e))},r.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new r(this.binarizer.createBinarizer(e))},r.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},r}();KO.default=D3e});var Wu=T(j2=>{h();p();var R3e=j2&&j2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(j2,"__esModule",{value:!0});var B3e=Ji(),P3e=function(r){R3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(B3e.default);j2.default=P3e});var GO=T(zO=>{h();p();Object.defineProperty(zO,"__esModule",{value:!0});var M3e=function(){function r(e){this.source=e}return r.prototype.getLuminanceSource=function(){return this.source},r.prototype.getWidth=function(){return this.source.getWidth()},r.prototype.getHeight=function(){return this.source.getHeight()},r}();zO.default=M3e});var bn=T(YO=>{h();p();Object.defineProperty(YO,"__esModule",{value:!0});var N3e=function(){function r(){}return r.arraycopy=function(e,t,n,i,o){for(;o--;)n[i++]=e[t++]},r.currentTimeMillis=function(){return Date.now()},r}();YO.default=N3e});var ZS=T(H2=>{h();p();var k3e=H2&&H2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(H2,"__esModule",{value:!0});var q3e=Ji(),F3e=function(r){k3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(q3e.default);H2.default=F3e});var pX=T(K2=>{h();p();var L3e=K2&&K2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(K2,"__esModule",{value:!0});var U3e=ZS(),j3e=function(r){L3e(e,r);function e(t,n){t===void 0&&(t=void 0),n===void 0&&(n=void 0);var i=r.call(this,n)||this;return i.index=t,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(U3e.default);K2.default=j3e});var Xu=T(V2=>{h();p();var H3e=V2&&V2.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(V2,"__esModule",{value:!0});var K3e=bn(),V3e=Vt(),gX=pX(),z3e=function(){function r(){}return r.fill=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]=t},r.fillWithin=function(e,t,n,i){r.rangeCheck(e.length,t,n);for(var o=t;o<n;o++)e[o]=i},r.rangeCheck=function(e,t,n){if(t>n)throw new V3e.default("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new gX.default(t);if(n>e)throw new gX.default(n)},r.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},r.create=function(e,t,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:t}).fill(n)})},r.createInt32Array=function(e,t,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:t}).fill(n)})},r.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0},r.hashCode=function(e){var t,n;if(e===null)return 0;var i=1;try{for(var o=H3e(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=31*i+s}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.fillUint8Array=function(e,t){for(var n=0;n!==e.length;n++)e[n]=t},r.copyOf=function(e,t){return e.slice(0,t)},r.copyOfUint8Array=function(e,t){if(e.length<=t){var n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)},r.copyOfRange=function(e,t,n){var i=n-t,o=new Int32Array(i);return K3e.default.arraycopy(e,t,o,0,i),o},r.binarySearch=function(e,t,n){n===void 0&&(n=r.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=n(t,e[a]);if(s>0)i=a+1;else if(s<0)o=a-1;else return a}return-i-1},r.numberComparator=function(e,t){return e-t},r}();V2.default=z3e});var na=T(WO=>{h();p();Object.defineProperty(WO,"__esModule",{value:!0});var G3e=function(){function r(){}return r.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)},r.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t},r.toHexString=function(e){return e.toString(16)},r.toBinaryString=function(e){return String(parseInt(String(e),2))},r.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},r.truncDivision=function(e,t){return Math.trunc(e/t)},r.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r.MIN_VALUE_32_BITS=-2147483648,r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}();WO.default=G3e});var Vf=T(XO=>{h();p();Object.defineProperty(XO,"__esModule",{value:!0});var QS=Vt(),mX=Xu(),yX=na(),Y3e=bn(),W3e=function(){function r(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=r.makeArray(e):this.bits=t)}return r.prototype.getSize=function(){return this.size},r.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},r.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=r.makeArray(e);Y3e.default.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},r.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},r.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},r.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},r.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return t;o=n[i]}var s=i*32+yX.default.numberOfTrailingZeros(o);return s>t?t:s},r.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return t;o=~n[i]}var s=i*32+yX.default.numberOfTrailingZeros(o);return s>t?t:s},r.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},r.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new QS.default;if(t!==e){t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits,a=n;a<=i;a++){var s=a>n?0:e&31,u=a<i?31:t&31,f=(2<<u)-(1<<s);o[a]|=f}}},r.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,n=0;n<e;n++)t[n]=0},r.prototype.isRange=function(e,t,n){if(t<e||e<0||t>this.size)throw new QS.default;if(t===e)return!0;t--;for(var i=Math.floor(e/32),o=Math.floor(t/32),a=this.bits,s=i;s<=o;s++){var u=s>i?0:e&31,f=s<o?31:t&31,c=(2<<f)-(1<<u)&4294967295;if((a[s]&c)!==(n?c:0))return!1}return!0},r.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},r.prototype.appendBits=function(e,t){if(t<0||t>32)throw new QS.default("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)},r.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var n=0;n<t;n++)this.appendBit(e.get(n))},r.prototype.xor=function(e){if(this.size!==e.size)throw new QS.default("Sizes don't match");for(var t=this.bits,n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]},r.prototype.toBytes=function(e,t,n,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;t[n+o]=a}},r.prototype.getBitArray=function(){return this.bits},r.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits,o=0;o<n;o++){var a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-o]=a}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,o=1;o<n;o++){var f=e[o];u|=f<<32-s,e[o-1]=u,u=f>>>s}e[n-1]=u}this.bits=e},r.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.size===t.size&&mX.default.equals(this.bits,t.bits)},r.prototype.hashCode=function(){return 31*this.size+mX.default.hashCode(this.bits)},r.prototype.toString=function(){for(var e="",t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},r.prototype.clone=function(){return new r(this.size,this.bits.slice())},r}();XO.default=W3e});var $i=T($O=>{h();p();Object.defineProperty($O,"__esModule",{value:!0});var JO;(function(r){r[r.OTHER=0]="OTHER",r[r.PURE_BARCODE=1]="PURE_BARCODE",r[r.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",r[r.TRY_HARDER=3]="TRY_HARDER",r[r.CHARACTER_SET=4]="CHARACTER_SET",r[r.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",r[r.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",r[r.ASSUME_GS1=7]="ASSUME_GS1",r[r.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",r[r.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",r[r.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(JO||(JO={}));$O.default=JO});var qr=T(z2=>{h();p();var X3e=z2&&z2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(z2,"__esModule",{value:!0});var J3e=Ji(),$3e=function(r){X3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(J3e.default);z2.default=$3e});var e0=T(il=>{h();p();var Z3e=il&&il.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(il,"__esModule",{value:!0});il.CharacterSetValueIdentifiers=void 0;var ZO=qr(),er;(function(r){r[r.Cp437=0]="Cp437",r[r.ISO8859_1=1]="ISO8859_1",r[r.ISO8859_2=2]="ISO8859_2",r[r.ISO8859_3=3]="ISO8859_3",r[r.ISO8859_4=4]="ISO8859_4",r[r.ISO8859_5=5]="ISO8859_5",r[r.ISO8859_6=6]="ISO8859_6",r[r.ISO8859_7=7]="ISO8859_7",r[r.ISO8859_8=8]="ISO8859_8",r[r.ISO8859_9=9]="ISO8859_9",r[r.ISO8859_10=10]="ISO8859_10",r[r.ISO8859_11=11]="ISO8859_11",r[r.ISO8859_13=12]="ISO8859_13",r[r.ISO8859_14=13]="ISO8859_14",r[r.ISO8859_15=14]="ISO8859_15",r[r.ISO8859_16=15]="ISO8859_16",r[r.SJIS=16]="SJIS",r[r.Cp1250=17]="Cp1250",r[r.Cp1251=18]="Cp1251",r[r.Cp1252=19]="Cp1252",r[r.Cp1256=20]="Cp1256",r[r.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",r[r.UTF8=22]="UTF8",r[r.ASCII=23]="ASCII",r[r.Big5=24]="Big5",r[r.GB18030=25]="GB18030",r[r.EUC_KR=26]="EUC_KR"})(er=il.CharacterSetValueIdentifiers||(il.CharacterSetValueIdentifiers={}));var Q3e=function(){function r(e,t,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=a,r.VALUE_IDENTIFIER_TO_ECI.set(e,this),r.NAME_TO_ECI.set(n,this);for(var u=this.values,f=0,c=u.length;f!==c;f++){var l=u[f];r.VALUES_TO_ECI.set(l,this)}try{for(var g=Z3e(a),y=g.next();!y.done;y=g.next()){var b=y.value;r.NAME_TO_ECI.set(b,this)}}catch(D){i={error:D}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}return r.prototype.getValueIdentifier=function(){return this.valueIdentifier},r.prototype.getName=function(){return this.name},r.prototype.getValue=function(){return this.values[0]},r.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ZO.default("incorect value");var t=r.VALUES_TO_ECI.get(e);if(t===void 0)throw new ZO.default("incorect value");return t},r.getCharacterSetECIByName=function(e){var t=r.NAME_TO_ECI.get(e);if(t===void 0)throw new ZO.default("incorect value");return t},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.getName()===t.getName()},r.VALUE_IDENTIFIER_TO_ECI=new Map,r.VALUES_TO_ECI=new Map,r.NAME_TO_ECI=new Map,r.Cp437=new r(er.Cp437,Int32Array.from([0,2]),"Cp437"),r.ISO8859_1=new r(er.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),r.ISO8859_2=new r(er.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),r.ISO8859_3=new r(er.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),r.ISO8859_4=new r(er.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),r.ISO8859_5=new r(er.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),r.ISO8859_6=new r(er.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),r.ISO8859_7=new r(er.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),r.ISO8859_8=new r(er.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),r.ISO8859_9=new r(er.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),r.ISO8859_10=new r(er.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),r.ISO8859_11=new r(er.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),r.ISO8859_13=new r(er.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),r.ISO8859_14=new r(er.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),r.ISO8859_15=new r(er.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),r.ISO8859_16=new r(er.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),r.SJIS=new r(er.SJIS,20,"SJIS","Shift_JIS"),r.Cp1250=new r(er.Cp1250,21,"Cp1250","windows-1250"),r.Cp1251=new r(er.Cp1251,22,"Cp1251","windows-1251"),r.Cp1252=new r(er.Cp1252,23,"Cp1252","windows-1252"),r.Cp1256=new r(er.Cp1256,24,"Cp1256","windows-1256"),r.UnicodeBigUnmarked=new r(er.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),r.UTF8=new r(er.UTF8,26,"UTF8","UTF-8"),r.ASCII=new r(er.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),r.Big5=new r(er.Big5,28,"Big5"),r.GB18030=new r(er.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),r.EUC_KR=new r(er.EUC_KR,30,"EUC_KR","EUC-KR"),r}();il.default=Q3e});var eC=T(G2=>{h();p();var ebe=G2&&G2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(G2,"__esModule",{value:!0});var tbe=Ji(),rbe=function(r){ebe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(tbe.default);G2.default=rbe});var H1=T(QO=>{h();p();Object.defineProperty(QO,"__esModule",{value:!0});var nbe=eC(),Fm=e0(),ibe=function(){function r(){}return r.decode=function(e,t){var n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},r.shouldDecodeOnFallback=function(e){return!r.isBrowser()&&e==="ISO-8859-1"},r.encode=function(e,t){var n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},r.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},r.encodingName=function(e){return typeof e=="string"?e:e.getName()},r.encodingCharacterSet=function(e){return e instanceof Fm.default?e:Fm.default.getCharacterSetECIByName(e)},r.decodeFallback=function(e,t){var n=this.encodingCharacterSet(t);if(r.isDecodeFallbackSupported(n)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Fm.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new nbe.default("Encoding "+this.encodingName(t)+" not supported by fallback.")},r.isDecodeFallbackSupported=function(e){return e.equals(Fm.default.UTF8)||e.equals(Fm.default.ISO8859_1)||e.equals(Fm.default.ASCII)},r.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),n=t.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},r}();QO.default=ibe});var Ju=T(tD=>{h();p();Object.defineProperty(tD,"__esModule",{value:!0});var vX=$i(),eD=e0(),_X=H1(),obe=function(){function r(){}return r.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var n=t?t.getName():this.ISO88591;return _X.default.decode(new Uint8Array([e]),n)},r.guessEncoding=function(e,t){if(t!=null&&t.get(vX.default.CHARACTER_SET)!==void 0)return t.get(vX.default.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,a=!0,s=0,u=0,f=0,c=0,l=0,g=0,y=0,b=0,D=0,M=0,k=0,N=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,K=0;K<n&&(i||o||a);K++){var X=e[K]&255;a&&(s>0?(X&128)===0?a=!1:s--:(X&128)!==0&&((X&64)===0?a=!1:(s++,(X&32)===0?u++:(s++,(X&16)===0?f++:(s++,(X&8)===0?c++:a=!1))))),i&&(X>127&&X<160?i=!1:X>159&&(X<192||X===215||X===247)&&k++),o&&(l>0?X<64||X===127||X>252?o=!1:l--:X===128||X===160||X>239?o=!1:X>160&&X<224?(g++,b=0,y++,y>D&&(D=y)):X>127?(l++,y=0,b++,b>M&&(M=b)):(y=0,b=0))}return a&&s>0&&(a=!1),o&&l>0&&(o=!1),a&&(N||u+f+c>0)?r.UTF8:o&&(r.ASSUME_SHIFT_JIS||D>=3||M>=3)?r.SHIFT_JIS:i&&o?D===2&&g===2||k*10>=n?r.SHIFT_JIS:r.ISO88591:i?r.ISO88591:o?r.SHIFT_JIS:a?r.UTF8:r.PLATFORM_DEFAULT_ENCODING},r.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=-1;function o(s,u,f,c,l,g){if(s==="%%")return"%";if(t[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var y=l?parseInt(l.substr(1)):void 0,b;switch(g){case"s":b=t[i];break;case"c":b=t[i][0];break;case"f":b=parseFloat(t[i]).toFixed(s);break;case"p":b=parseFloat(t[i]).toPrecision(s);break;case"e":b=parseFloat(t[i]).toExponential(s);break;case"x":b=parseInt(t[i]).toString(y||16);break;case"d":b=parseFloat(parseInt(t[i],y||10).toPrecision(s)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(y);for(var D=parseInt(f),M=f&&f[0]+""=="0"?"0":" ";b.length<D;)b=u!==void 0?b+M:M+b;return b}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},r.getBytes=function(e,t){return _X.default.encode(e,t)},r.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},r.getCharAt=function(e){return String.fromCharCode(e)},r.SHIFT_JIS=eD.default.SJIS.getName(),r.GB2312="GB2312",r.ISO88591=eD.default.ISO8859_1.getName(),r.EUC_JP="EUC_JP",r.UTF8=eD.default.UTF8.getName(),r.PLATFORM_DEFAULT_ENCODING=r.UTF8,r.ASSUME_SHIFT_JIS=!1,r}();tD.default=obe});var Jr=T(rD=>{h();p();Object.defineProperty(rD,"__esModule",{value:!0});var abe=Ju(),sbe=function(){function r(e){e===void 0&&(e=""),this.value=e}return r.prototype.enableDecoding=function(e){return this.encoding=e,this},r.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=abe.default.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},r.prototype.appendChars=function(e,t,n){for(var i=t;t<t+n;i++)this.append(e[i]);return this},r.prototype.length=function(){return this.value.length},r.prototype.charAt=function(e){return this.value.charAt(e)},r.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},r.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},r.prototype.substring=function(e,t){return this.value.substring(e,t)},r.prototype.setLengthToZero=function(){this.value=""},r.prototype.toString=function(){return this.value},r.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},r}();rD.default=sbe});var Oa=T(nD=>{h();p();Object.defineProperty(nD,"__esModule",{value:!0});var tC=Vf(),ube=bn(),xX=Xu(),fbe=Jr(),t0=Vt(),cbe=function(){function r(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new t0.default("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return r.parseFromBooleanArray=function(e){for(var t=e.length,n=e[0].length,i=new r(n,t),o=0;o<t;o++)for(var a=e[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},r.parseFromString=function(e,t,n){if(e===null)throw new t0.default("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new t0.default("row lengths do not match");a=o,u++}f++}else if(e.substring(f,f+t.length)===t)f+=t.length,i[o]=!0,o++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[o]=!1,o++;else throw new t0.default("illegal character encountered: "+e.substring(f));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new t0.default("row lengths do not match");u++}for(var c=new r(s,u),l=0;l<o;l++)i[l]&&c.set(Math.floor(l%s),Math.floor(l/s));return c},r.prototype.get=function(e,t){var n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},r.prototype.set=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},r.prototype.unset=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},r.prototype.flip=function(e,t){var n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},r.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new t0.default("input matrix dimensions do not match");for(var t=new tC.default(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*n,u=e.getRow(o,t).getBitArray(),f=0;f<n;f++)i[s+f]^=u[f]},r.prototype.clear=function(){for(var e=this.bits,t=e.length,n=0;n<t;n++)e[n]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw new t0.default("Left and top must be nonnegative");if(i<1||n<1)throw new t0.default("Height and width must be at least 1");var o=e+n,a=t+i;if(a>this.height||o>this.width)throw new t0.default("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=t;f<a;f++)for(var c=f*s,l=e;l<o;l++)u[c+Math.floor(l/32)]|=1<<(l&31)&4294967295},r.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new tC.default(this.width):t.clear();for(var n=this.rowSize,i=this.bits,o=e*n,a=0;a<n;a++)t.setBulk(a*32,i[o+a]);return t},r.prototype.setRow=function(e,t){ube.default.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},r.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),n=new tC.default(e),i=new tC.default(e),o=0,a=Math.floor((t+1)/2);o<a;o++)n=this.getRow(o,n),i=this.getRow(t-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(t-1-o,n)},r.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,n=this.rowSize,i=this.bits,o=e,a=t,s=-1,u=-1,f=0;f<t;f++)for(var c=0;c<n;c++){var l=i[f*n+c];if(l!==0){if(f<a&&(a=f),f>u&&(u=f),c*32<o){for(var g=0;(l<<31-g&4294967295)===0;)g++;c*32+g<o&&(o=c*32+g)}if(c*32+31>s){for(var g=31;l>>>g===0;)g--;c*32+g>s&&(s=c*32+g)}}}return s<o||u<a?null:Int32Array.from([o,a,s-o+1,u-a+1])},r.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,n=0;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;for(var i=n/e,o=n%e*32,a=t[n],s=0;(a<<31-s&4294967295)===0;)s++;return o+=s,Int32Array.from([o,i])},r.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,n=t.length-1;n>=0&&t[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,a=t[n],s=31;a>>>s===0;)s--;return o+=s,Int32Array.from([o,i])},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRowSize=function(){return this.rowSize},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&xX.default.equals(this.bits,t.bits)},r.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+xX.default.hashCode(this.bits),e},r.prototype.toString=function(e,t,n){return e===void 0&&(e="X "),t===void 0&&(t="  "),n===void 0&&(n=`
`),this.buildToString(e,t,n)},r.prototype.buildToString=function(e,t,n){for(var i=new fbe.default,o=0,a=this.height;o<a;o++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,o)?e:t);i.append(n)}return i.toString()},r.prototype.clone=function(){return new r(this.width,this.height,this.rowSize,this.bits.slice())},r}();nD.default=cbe});var _t=T(Y2=>{h();p();var dbe=Y2&&Y2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Y2,"__esModule",{value:!0});var lbe=Ji(),hbe=function(r){dbe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(lbe.default);Y2.default=hbe});var iD=T(W2=>{h();p();var pbe=W2&&W2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(W2,"__esModule",{value:!0});var gbe=GO(),mbe=Vf(),ybe=Oa(),vbe=_t(),_be=function(r){pbe(e,r);function e(t){var n=r.call(this,t)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(t,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new mbe.default(o):n.clear(),this.initArrays(o);for(var a=i.getRow(t,this.luminances),s=this.buckets,u=0;u<o;u++)s[(a[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(o<3)for(var u=0;u<o;u++)(a[u]&255)<f&&n.set(u);else for(var c=a[0]&255,l=a[1]&255,u=1;u<o-1;u++){var g=a[u+1]&255;(l*4-c-g)/2<f&&n.set(u),c=l,l=g}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),o=new ybe.default(n,i);this.initArrays(n);for(var a=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),f=t.getRow(u,this.luminances),c=Math.floor(n*4/5),l=Math.floor(n/5);l<c;l++){var g=f[l]&255;a[g>>e.LUMINANCE_SHIFT]++}for(var y=e.estimateBlackPoint(a),b=t.getMatrix(),s=0;s<i;s++)for(var D=s*n,l=0;l<n;l++){var g=b[D+l]&255;g<y&&o.set(l,s)}return o},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(t){for(var n=t.length,i=0,o=0,a=0,s=0;s<n;s++)t[s]>a&&(o=s,a=t[s]),t[s]>i&&(i=t[s]);for(var u=0,f=0,s=0;s<n;s++){var c=s-o,l=t[s]*c*c;l>f&&(u=s,f=l)}if(o>u){var g=o;o=u,u=g}if(u-o<=n/16)throw new vbe.default;for(var y=u-1,b=-1,s=u-1;s>o;s--){var D=s-o,l=D*D*(u-s)*(i-t[s]);l>b&&(y=s,b=l)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(gbe.default);W2.default=_be});var oD=T(X2=>{h();p();var xbe=X2&&X2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(X2,"__esModule",{value:!0});var bbe=iD(),wbe=Oa(),Sbe=function(r){xbe(e,r);function e(t){var n=r.call(this,t)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=t.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&a++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(o,a,s,n,i),f=new wbe.default(n,i);e.calculateThresholdForBlock(o,a,s,n,i,u,f),this.matrix=f}else this.matrix=r.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,i,o,a,s,u){for(var f=a-e.BLOCK_SIZE,c=o-e.BLOCK_SIZE,l=0;l<i;l++){var g=l<<e.BLOCK_SIZE_POWER;g>f&&(g=f);for(var y=e.cap(l,2,i-3),b=0;b<n;b++){var D=b<<e.BLOCK_SIZE_POWER;D>c&&(D=c);for(var M=e.cap(b,2,n-3),k=0,N=-2;N<=2;N++){var K=s[y+N];k+=K[M-2]+K[M-1]+K[M]+K[M+1]+K[M+2]}var X=k/25;e.thresholdBlock(t,D,g,X,o,u)}}},e.cap=function(t,n,i){return t<n?n:t>i?i:t},e.thresholdBlock=function(t,n,i,o,a,s){for(var u=0,f=i*a+n;u<e.BLOCK_SIZE;u++,f+=a)for(var c=0;c<e.BLOCK_SIZE;c++)(t[f+c]&255)<=o&&s.set(n+c,i+u)},e.calculateBlackPoints=function(t,n,i,o,a){for(var s=a-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,f=new Array(i),c=0;c<i;c++){f[c]=new Int32Array(n);var l=c<<e.BLOCK_SIZE_POWER;l>s&&(l=s);for(var g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>u&&(y=u);for(var b=0,D=255,M=0,k=0,N=l*o+y;k<e.BLOCK_SIZE;k++,N+=o){for(var K=0;K<e.BLOCK_SIZE;K++){var X=t[N+K]&255;b+=X,X<D&&(D=X),X>M&&(M=X)}if(M-D>e.MIN_DYNAMIC_RANGE)for(k++,N+=o;k<e.BLOCK_SIZE;k++,N+=o)for(var K=0;K<e.BLOCK_SIZE;K++)b+=t[N+K]&255}var q=b>>e.BLOCK_SIZE_POWER*2;if(M-D<=e.MIN_DYNAMIC_RANGE&&(q=D/2,c>0&&g>0)){var d=(f[c-1][g]+2*f[c][g-1]+f[c-1][g-1])/4;D<d&&(q=d)}f[c][g]=q}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(bbe.default);X2.default=Sbe});var Lm=T(sD=>{h();p();Object.defineProperty(sD,"__esModule",{value:!0});var Cbe=Jr(),aD=eC(),Ebe=function(){function r(e,t){this.width=e,this.height=t}return r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.isCropSupported=function(){return!1},r.prototype.crop=function(e,t,n,i){throw new aD.default("This luminance source does not support cropping.")},r.prototype.isRotateSupported=function(){return!1},r.prototype.rotateCounterClockwise=function(){throw new aD.default("This luminance source does not support rotation by 90 degrees.")},r.prototype.rotateCounterClockwise45=function(){throw new aD.default("This luminance source does not support rotation by 45 degrees.")},r.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Cbe.default,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var a=i[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",t.append(s)}t.append(`
`)}return t.toString()},r}();sD.default=Ebe});var Um=T(J2=>{h();p();var Ibe=J2&&J2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(J2,"__esModule",{value:!0});var Tbe=Lm(),Abe=function(r){Ibe(e,r);function e(t){var n=r.call(this,t.getWidth(),t.getHeight())||this;return n.delegate=t,n}return e.prototype.getRow=function(t,n){for(var i=this.delegate.getRow(t,n),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(t[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,i,o){return new e(this.delegate.crop(t,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Tbe.default);J2.default=Abe});var uD=T(jm=>{h();p();var Obe=jm&&jm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jm,"__esModule",{value:!0});jm.HTMLCanvasElementLuminanceSource=void 0;var Dbe=Um(),Rbe=Lm(),Bbe=Vt(),Pbe=function(r){Obe(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var o=new Uint8ClampedArray(n*i),a=0,s=0,u=t.length;a<u;a+=4,s++){var f=void 0,c=t[a+3];if(c===0)f=255;else{var l=t[a],g=t[a+1],y=t[a+2];f=306*l+601*g+117*y+512>>10}o[s]=f}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new Bbe.default("Requested row is outside the image: "+t);var i=this.getWidth(),o=t*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return r.prototype.crop.call(this,t,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),f=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return n.width=u,n.height=f,i.translate(u/2,f/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new Dbe.default(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Rbe.default);jm.HTMLCanvasElementLuminanceSource=Pbe});var fD=T(rC=>{h();p();Object.defineProperty(rC,"__esModule",{value:!0});rC.VideoInputDevice=void 0;var Mbe=function(){function r(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}return r.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},r}();rC.VideoInputDevice=Mbe});var ol=T(Gf=>{h();p();var Ro=Gf&&Gf.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{f(n.next(c))}catch(l){a(l)}}function u(c){try{f(n.throw(c))}catch(l){a(l)}}function f(c){c.done?o(c.value):i(c.value).then(s,u)}f((n=n.apply(r,e||[])).next())})},Bo=Gf&&Gf.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(c){f=[6,c],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Nbe=Gf&&Gf.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.BrowserCodeReader=void 0;var zf=$S(),kbe=VO(),bX=Wu(),qbe=oD(),wX=qr(),cD=_t(),Fbe=uD(),Lbe=fD(),Ube=function(){function r(e,t,n){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(r.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),r.prototype.listVideoInputDevices=function(){return Ro(this,void 0,void 0,function(){var e,t,n,i,o,a,s,u,f,c,l,g;return Bo(this,function(y){switch(y.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),t=[];try{for(n=Nbe(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,u=o.label||"Video device "+(t.length+1),f=o.groupId,c={deviceId:s,label:u,kind:a,groupId:f},t.push(c))}catch(b){l={error:b}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(l)throw l.error}}return[2,t]}})})},r.prototype.getVideoInputDevices=function(){return Ro(this,void 0,void 0,function(){var e;return Bo(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(n){return new Lbe.VideoInputDevice(n.deviceId,n.label)})]}})})},r.prototype.findDeviceById=function(e){return Ro(this,void 0,void 0,function(){var t;return Bo(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},r.prototype.decodeFromInputVideoDevice=function(e,t){return Ro(this,void 0,void 0,function(){return Bo(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Ro(this,void 0,void 0,function(){var n,i;return Bo(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Ro(this,void 0,void 0,function(){var n;return Bo(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Ro(this,void 0,void 0,function(){var n,i;return Bo(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},r.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,n){return Ro(this,void 0,void 0,function(){return Bo(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,n)];case 1:return[2,i.sent()]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Ro(this,void 0,void 0,function(){var i,o;return Bo(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Ro(this,void 0,void 0,function(){var i;return Bo(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,t,n)];case 2:return[2,o.sent()]}})})},r.prototype.decodeFromStream=function(e,t,n){return Ro(this,void 0,void 0,function(){var i;return Bo(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},r.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},r.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},r.prototype.attachStreamToVideo=function(e,t){return Ro(this,void 0,void 0,function(){var n;return Bo(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(t),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},r.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(n,i){return t.playVideoOnLoad(e,function(){return n()})})},r.prototype.playVideoOnLoad=function(e,t){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},r.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},r.prototype.tryPlayVideo=function(e){return Ro(this,void 0,void 0,function(){var t;return Bo(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},r.prototype.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new zf.default("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new zf.default("element with id '"+e+"' must be an "+t+" element");return n},r.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new zf.default("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},r.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new zf.default("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},r.prototype.decodeFromVideoContinuously=function(e,t,n){if(e===void 0&&t===void 0)throw new zf.default("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)},r.prototype.decodeFromImageElement=function(e){if(!e)throw new zf.default("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n},r.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},r.prototype.decodeFromVideoElementContinuously=function(e,t){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)},r.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new zf.default("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},r.prototype.decodeFromImageUrl=function(e){if(!e)throw new zf.default("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var n=this._decodeOnLoadImage(t);return t.src=e,n},r.prototype.decodeFromVideoUrl=function(e){if(!e)throw new zf.default("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n},r.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new zf.default("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i},r.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(n,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",t.imageLoadedListener)})},r.prototype._decodeOnLoadVideo=function(e){return Ro(this,void 0,void 0,function(){return Bo(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},r.prototype._decodeOnLoadVideoContinuously=function(e,t){return Ro(this,void 0,void 0,function(){return Bo(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,t),[2]}})})},r.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},r.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.prototype.decodeOnce=function(e,t,n){var i=this;t===void 0&&(t=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode){s(new cD.default("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);a(u)}catch(g){var f=t&&g instanceof cD.default,c=g instanceof bX.default||g instanceof wX.default,l=c&&n;if(f||l)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(g)}};return new Promise(function(a,s){return o(a,s)})},r.prototype.decodeContinuously=function(e,t){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);t(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){t(null,u);var a=u instanceof bX.default||u instanceof wX.default,s=u instanceof cD.default;(a||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},r.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},r.prototype._isHTMLVideoElement=function(e){var t=e;return t.videoWidth!==0},r.prototype.createBinaryBitmap=function(e){var t=this.getCaptureCanvasContext(e);this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new Fbe.HTMLCanvasElementLuminanceSource(n),o=new qbe.default(i);return new kbe.default(o)},r.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),n=void 0;try{n=t.getContext("2d",{willReadFrequently:!0})}catch{n=t.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},r.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},r.prototype.drawFrameOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.drawImageOnCanvas=function(e,t,n){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},r.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t},r.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},r.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},r.prototype._destroyVideoElement=function(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},r.prototype._destroyImageElement=function(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},r.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},r.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},r.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},r}();Gf.BrowserCodeReader=Ube});var Zi=T(dD=>{h();p();Object.defineProperty(dD,"__esModule",{value:!0});var nC=bn(),jbe=function(){function r(e,t,n,i,o,a){n===void 0&&(n=t==null?0:8*t.length),a===void 0&&(a=nC.default.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=nC.default.currentTimeMillis():this.timestamp=a}return r.prototype.getText=function(){return this.text},r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.getBarcodeFormat=function(){return this.format},r.prototype.getResultMetadata=function(){return this.resultMetadata},r.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},r.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},r.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(t.length+e.length);nC.default.arraycopy(t,0,n,0,t.length),nC.default.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.toString=function(){return this.text},r}();dD.default=jbe});var br=T(hD=>{h();p();Object.defineProperty(hD,"__esModule",{value:!0});var lD;(function(r){r[r.AZTEC=0]="AZTEC",r[r.CODABAR=1]="CODABAR",r[r.CODE_39=2]="CODE_39",r[r.CODE_93=3]="CODE_93",r[r.CODE_128=4]="CODE_128",r[r.DATA_MATRIX=5]="DATA_MATRIX",r[r.EAN_8=6]="EAN_8",r[r.EAN_13=7]="EAN_13",r[r.ITF=8]="ITF",r[r.MAXICODE=9]="MAXICODE",r[r.PDF_417=10]="PDF_417",r[r.QR_CODE=11]="QR_CODE",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(lD||(lD={}));hD.default=lD});var Yf=T(gD=>{h();p();Object.defineProperty(gD,"__esModule",{value:!0});var pD;(function(r){r[r.OTHER=0]="OTHER",r[r.ORIENTATION=1]="ORIENTATION",r[r.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",r[r.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",r[r.ISSUE_NUMBER=4]="ISSUE_NUMBER",r[r.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",r[r.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",r[r.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",r[r.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",r[r.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",r[r.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pD||(pD={}));gD.default=pD});var Hm=T(mD=>{h();p();Object.defineProperty(mD,"__esModule",{value:!0});var Hbe=function(){function r(e,t,n,i,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return r.prototype.getRawBytes=function(){return this.rawBytes},r.prototype.getNumBits=function(){return this.numBits},r.prototype.setNumBits=function(e){this.numBits=e},r.prototype.getText=function(){return this.text},r.prototype.getByteSegments=function(){return this.byteSegments},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getErrorsCorrected=function(){return this.errorsCorrected},r.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},r.prototype.getErasures=function(){return this.erasures},r.prototype.setErasures=function(e){this.erasures=e},r.prototype.getOther=function(){return this.other},r.prototype.setOther=function(e){this.other=e},r.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},r.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},r.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},r}();mD.default=Hbe});var vD=T(yD=>{h();p();Object.defineProperty(yD,"__esModule",{value:!0});var Kbe=Vt(),Vbe=function(){function r(){}return r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new Kbe.default;return this.logTable[e]},r.addOrSubtract=function(e,t){return e^t},r}();yD.default=Vbe});var $2=T(_D=>{h();p();Object.defineProperty(_D,"__esModule",{value:!0});var iC=vD(),SX=bn(),Km=Vt(),zbe=function(){function r(e,t){if(t.length===0)throw new Km.default;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),SX.default.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,n;if(e===1){n=0;for(var i=0,o=t.length;i!==o;i++){var a=t[i];n=iC.default.addOrSubtract(n,a)}return n}n=t[0];for(var s=t.length,u=this.field,i=1;i<s;i++)n=iC.default.addOrSubtract(u.multiply(e,n),t[i]);return n},r.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Km.default("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var o=new Int32Array(n.length),a=n.length-t.length;SX.default.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=iC.default.addOrSubtract(t[s-a],n[s]);return new r(this.field,o)},r.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Km.default("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,u=0;u<n;u++)for(var f=t[u],c=0;c<o;c++)a[u+c]=iC.default.addOrSubtract(a[u+c],s.multiply(f,i[c]));return new r(s,a)},r.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,n=this.field,i=new Int32Array(t),o=this.coefficients,a=0;a<t;a++)i[a]=n.multiply(o[a],e);return new r(n,i)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Km.default;if(t===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],t);return new r(a,o)},r.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Km.default("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Km.default("Divide by 0");for(var t=this.field,n=t.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=t.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),a),f=e.multiplyByMonomial(s,u),c=t.buildMonomial(s,u);n=n.addOrSubtract(c),i=i.addOrSubtract(f)}return[n,i]},r.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},r}();_D.default=zbe});var oC=T(Z2=>{h();p();var Gbe=Z2&&Z2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Z2,"__esModule",{value:!0});var Ybe=Ji(),Wbe=function(r){Gbe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ybe.default);Z2.default=Wbe});var r0=T(Q2=>{h();p();var Xbe=Q2&&Q2.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Q2,"__esModule",{value:!0});var xD=$2(),Jbe=vD(),$be=na(),Zbe=Vt(),Qbe=oC(),e4e=function(r){Xbe(e,r);function e(t,n,i){var o=r.call(this)||this;o.primitive=t,o.size=n,o.generatorBase=i;for(var a=new Int32Array(n),s=1,u=0;u<n;u++)a[u]=s,s*=2,s>=n&&(s^=t,s&=n-1);o.expTable=a;for(var f=new Int32Array(n),u=0;u<n-1;u++)f[a[u]]=u;return o.logTable=f,o.zero=new xD.default(o,Int32Array.from([0])),o.one=new xD.default(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new Zbe.default;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new xD.default(this,i)},e.prototype.inverse=function(t){if(t===0)throw new Qbe.default;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+$be.default.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Jbe.default);Q2.default=e4e});var bD=T(e_=>{h();p();var t4e=e_&&e_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(e_,"__esModule",{value:!0});var r4e=Ji(),n4e=function(r){t4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(r4e.default);e_.default=n4e});var Wf=T(t_=>{h();p();var i4e=t_&&t_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(t_,"__esModule",{value:!0});var o4e=Ji(),a4e=function(r){i4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(o4e.default);t_.default=a4e});var Vm=T(wD=>{h();p();Object.defineProperty(wD,"__esModule",{value:!0});var s4e=r0(),CX=$2(),aC=bD(),u4e=Wf(),f4e=function(){function r(e){this.field=e}return r.prototype.decode=function(e,t){for(var n=this.field,i=new CX.default(n,e),o=new Int32Array(t),a=!0,s=0;s<t;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=u,u!==0&&(a=!1)}if(!a)for(var f=new CX.default(n,o),c=this.runEuclideanAlgorithm(n.buildMonomial(t,1),f,t),l=c[0],g=c[1],y=this.findErrorLocations(l),b=this.findErrorMagnitudes(g,y),s=0;s<y.length;s++){var D=e.length-1-n.log(y[s]);if(D<0)throw new aC.default("Bad error location");e[D]=s4e.default.addOrSubtract(e[D],b[s])}},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=this.field,a=e,s=t,u=o.getZero(),f=o.getOne();s.getDegree()>=(n/2|0);){var c=a,l=u;if(a=s,u=f,a.isZero())throw new aC.default("r_{i-1} was zero");s=c;for(var g=o.getZero(),y=a.getCoefficient(a.getDegree()),b=o.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var D=s.getDegree()-a.getDegree(),M=o.multiply(s.getCoefficient(s.getDegree()),b);g=g.addOrSubtract(o.buildMonomial(D,M)),s=s.addOrSubtract(a.multiplyByMonomial(D,M))}if(f=g.multiply(u).addOrSubtract(l),s.getDegree()>=a.getDegree())throw new u4e.default("Division algorithm failed to reduce polynomial?")}var k=f.getCoefficient(0);if(k===0)throw new aC.default("sigmaTilde(0) was zero");var N=o.inverse(k),K=f.multiplyScalar(N),X=s.multiplyScalar(N);return[K,X]},r.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(t),i=0,o=this.field,a=1;a<o.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(n[i]=o.inverse(a),i++);if(i!==t)throw new aC.default("Error locator degree does not match number of roots");return n},r.prototype.findErrorMagnitudes=function(e,t){for(var n=t.length,i=new Int32Array(n),o=this.field,a=0;a<n;a++){for(var s=o.inverse(t[a]),u=1,f=0;f<n;f++)if(a!==f){var c=o.multiply(t[f],s),l=(c&1)===0?c|1:c&-2;u=o.multiply(u,l)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(u)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],s))}return i},r}();wD.default=f4e});var ED=T(CD=>{h();p();Object.defineProperty(CD,"__esModule",{value:!0});var c4e=Hm(),sC=r0(),d4e=Vm(),l4e=Wf(),SD=qr(),h4e=Ju(),uC=na(),Wn;(function(r){r[r.UPPER=0]="UPPER",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.DIGIT=3]="DIGIT",r[r.PUNCT=4]="PUNCT",r[r.BINARY=5]="BINARY"})(Wn||(Wn={}));var p4e=function(){function r(){}return r.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),o=r.convertBoolArrayToByteArray(i),a=r.getEncodedData(i),s=new c4e.default(o,a,null,null);return s.setNumBits(i.length),s},r.highLevelDecode=function(e){return this.getEncodedData(e)},r.getEncodedData=function(e){for(var t=e.length,n=Wn.UPPER,i=Wn.UPPER,o="",a=0;a<t;)if(i===Wn.BINARY){if(t-a<5)break;var s=r.readCode(e,a,5);if(a+=5,s===0){if(t-a<11)break;s=r.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(t-a<8){a=t;break}var f=r.readCode(e,a,8);o+=h4e.default.castAsNonUtf8Char(f),a+=8}i=n}else{var c=i===Wn.DIGIT?4:5;if(t-a<c)break;var f=r.readCode(e,a,c);a+=c;var l=r.getCharacter(i,f);l.startsWith("CTRL_")?(n=i,i=r.getTable(l.charAt(5)),l.charAt(6)==="L"&&(n=i)):(o+=l,i=n)}return o},r.getTable=function(e){switch(e){case"L":return Wn.LOWER;case"P":return Wn.PUNCT;case"M":return Wn.MIXED;case"D":return Wn.DIGIT;case"B":return Wn.BINARY;case"U":default:return Wn.UPPER}},r.getCharacter=function(e,t){switch(e){case Wn.UPPER:return r.UPPER_TABLE[t];case Wn.LOWER:return r.LOWER_TABLE[t];case Wn.MIXED:return r.MIXED_TABLE[t];case Wn.PUNCT:return r.PUNCT_TABLE[t];case Wn.DIGIT:return r.DIGIT_TABLE[t];default:throw new l4e.default("Bad table")}},r.prototype.correctBits=function(e){var t,n;this.ddata.getNbLayers()<=2?(n=6,t=sC.default.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=sC.default.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=sC.default.AZTEC_DATA_10):(n=12,t=sC.default.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new SD.default;for(var a=e.length%n,s=new Int32Array(o),u=0;u<o;u++,a+=n)s[u]=r.readCode(e,a,n);try{var f=new d4e.default(t);f.decode(s,o-i)}catch(M){throw new SD.default(M)}for(var c=(1<<n)-1,l=0,u=0;u<i;u++){var g=s[u];if(g===0||g===c)throw new SD.default;(g===1||g===c-1)&&l++}for(var y=new Array(i*n-l),b=0,u=0;u<i;u++){var g=s[u];if(g===1||g===c-1)y.fill(g>1,b,b+n-1),b+=n-1;else for(var D=n-1;D>=0;--D)y[b++]=(g&1<<D)!==0}return y},r.prototype.extractBits=function(e){var t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,t));if(t)for(var s=0;s<o.length;s++)o[s]=s;else for(var u=i+1+2*uC.default.truncDivision(uC.default.truncDivision(i,2)-1,15),f=i/2,c=uC.default.truncDivision(u,2),s=0;s<f;s++){var l=s+uC.default.truncDivision(s,15);o[f-s-1]=c-l-1,o[f+s]=c+l+1}for(var s=0,g=0;s<n;s++){for(var y=(n-s)*4+(t?9:12),b=s*2,D=i-1-b,M=0;M<y;M++)for(var k=M*2,N=0;N<2;N++)a[g+k+N]=e.get(o[b+N],o[b+M]),a[g+2*y+k+N]=e.get(o[b+M],o[D-N]),a[g+4*y+k+N]=e.get(o[D-N],o[D-M]),a[g+6*y+k+N]=e.get(o[D-M],o[b+N]);g+=y*8}return a},r.readCode=function(e,t,n){for(var i=0,o=t;o<t+n;o++)i<<=1,e[o]&&(i|=1);return i},r.readByte=function(e,t){var n=e.length-t;return n>=8?r.readCode(e,t,8):r.readCode(e,t,n)<<8-n},r.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),n=0;n<t.length;n++)t[n]=r.readByte(e,8*n);return t},r.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],r.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],r.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],r.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],r.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],r}();CD.default=p4e});var Js=T(ID=>{h();p();Object.defineProperty(ID,"__esModule",{value:!0});var g4e=function(){function r(){}return r.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},r.distance=function(e,t,n,i){var o=e-n,a=t-i;return Math.sqrt(o*o+a*a)},r.sum=function(e){for(var t=0,n=0,i=e.length;n!==i;n++){var o=e[n];t+=o}return t},r}();ID.default=g4e});var AD=T(TD=>{h();p();Object.defineProperty(TD,"__esModule",{value:!0});var m4e=function(){function r(){}return r.floatToIntBits=function(e){return e},r.MAX_VALUE=Number.MAX_SAFE_INTEGER,r}();TD.default=m4e});var $r=T(OD=>{h();p();Object.defineProperty(OD,"__esModule",{value:!0});var y4e=Js(),EX=AD(),v4e=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.equals=function(e){if(e instanceof r){var t=e;return this.x===t.x&&this.y===t.y}return!1},r.prototype.hashCode=function(){return 31*EX.default.floatToIntBits(this.x)+EX.default.floatToIntBits(this.y)},r.prototype.toString=function(){return"("+this.x+","+this.y+")"},r.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,a,s;if(n>=t&&n>=i?(a=e[0],o=e[1],s=e[2]):i>=n&&i>=t?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var u=o;o=s,s=u}e[0]=o,e[1]=a,e[2]=s},r.distance=function(e,t){return y4e.default.distance(e.x,e.y,t.x,t.y)},r.crossProductZ=function(e,t,n){var i=t.x,o=t.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},r}();OD.default=v4e});var r_=T(DD=>{h();p();Object.defineProperty(DD,"__esModule",{value:!0});var _4e=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}();DD.default=_4e});var RD=T(n_=>{h();p();var x4e=n_&&n_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(n_,"__esModule",{value:!0});var b4e=r_(),w4e=function(r){x4e(e,r);function e(t,n,i,o,a){var s=r.call(this,t,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(b4e.default);n_.default=w4e});var cC=T(BD=>{h();p();Object.defineProperty(BD,"__esModule",{value:!0});var n0=$r(),fC=Js(),zm=_t(),S4e=function(){function r(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=r.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=t/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new zm.default}return r.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,u=!1,f=!1,c=!1,l=!1,g=this.width,y=this.height;a;){a=!1;for(var b=!0;(b||!u)&&t<g;)b=this.containsBlackPoint(n,i,t,!1),b?(t++,a=!0,u=!0):u||t++;if(t>=g){o=!0;break}for(var D=!0;(D||!f)&&i<y;)D=this.containsBlackPoint(e,t,i,!0),D?(i++,a=!0,f=!0):f||i++;if(i>=y){o=!0;break}for(var M=!0;(M||!c)&&e>=0;)M=this.containsBlackPoint(n,i,e,!1),M?(e--,a=!0,c=!0):c||e--;if(e<0){o=!0;break}for(var k=!0;(k||!l)&&n>=0;)k=this.containsBlackPoint(e,t,n,!0),k?(n--,a=!0,l=!0):l||n--;if(n<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var N=t-e,K=null,X=1;K===null&&X<N;X++)K=this.getBlackPointOnSegment(e,i-X,e+X,i);if(K==null)throw new zm.default;for(var q=null,X=1;q===null&&X<N;X++)q=this.getBlackPointOnSegment(e,n+X,e+X,n);if(q==null)throw new zm.default;for(var d=null,X=1;d===null&&X<N;X++)d=this.getBlackPointOnSegment(t,n+X,t-X,n);if(d==null)throw new zm.default;for(var v=null,X=1;v===null&&X<N;X++)v=this.getBlackPointOnSegment(t,i-X,t-X,i);if(v==null)throw new zm.default;return this.centerEdges(v,K,d,q)}else throw new zm.default},r.prototype.getBlackPointOnSegment=function(e,t,n,i){for(var o=fC.default.round(fC.default.distance(e,t,n,i)),a=(n-e)/o,s=(i-t)/o,u=this.image,f=0;f<o;f++){var c=fC.default.round(e+f*a),l=fC.default.round(t+f*s);if(u.get(c,l))return new n0.default(c,l)}return null},r.prototype.centerEdges=function(e,t,n,i){var o=e.getX(),a=e.getY(),s=t.getX(),u=t.getY(),f=n.getX(),c=n.getY(),l=i.getX(),g=i.getY(),y=r.CORR;return o<this.width/2?[new n0.default(l-y,g+y),new n0.default(s+y,u+y),new n0.default(f-y,c-y),new n0.default(o+y,a-y)]:[new n0.default(l+y,g+y),new n0.default(s+y,u-y),new n0.default(f-y,c+y),new n0.default(o-y,a-y)]},r.prototype.containsBlackPoint=function(e,t,n,i){var o=this.image;if(i){for(var a=e;a<=t;a++)if(o.get(a,n))return!0}else for(var s=e;s<=t;s++)if(o.get(n,s))return!0;return!1},r.INIT_SIZE=10,r.CORR=1,r}();BD.default=S4e});var MD=T(PD=>{h();p();Object.defineProperty(PD,"__esModule",{value:!0});var IX=_t(),C4e=function(){function r(){}return r.checkAndNudgePoints=function(e,t){for(var n=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<t.length&&o;a+=2){var s=Math.floor(t[a]),u=Math.floor(t[a+1]);if(s<-1||s>n||u<-1||u>i)throw new IX.default;o=!1,s===-1?(t[a]=0,o=!0):s===n&&(t[a]=n-1,o=!0),u===-1?(t[a+1]=0,o=!0):u===i&&(t[a+1]=i-1,o=!0)}o=!0;for(var a=t.length-2;a>=0&&o;a-=2){var s=Math.floor(t[a]),u=Math.floor(t[a+1]);if(s<-1||s>n||u<-1||u>i)throw new IX.default;o=!1,s===-1?(t[a]=0,o=!0):s===n&&(t[a]=n-1,o=!0),u===-1?(t[a+1]=0,o=!0):u===i&&(t[a+1]=i-1,o=!0)}},r}();PD.default=C4e});var dC=T(ND=>{h();p();Object.defineProperty(ND,"__esModule",{value:!0});var E4e=function(){function r(e,t,n,i,o,a,s,u,f){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=u,this.a33=f}return r.quadrilateralToQuadrilateral=function(e,t,n,i,o,a,s,u,f,c,l,g,y,b,D,M){var k=r.quadrilateralToSquare(e,t,n,i,o,a,s,u),N=r.squareToQuadrilateral(f,c,l,g,y,b,D,M);return N.times(k)},r.prototype.transformPoints=function(e){for(var t=e.length,n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,c=this.a32,l=this.a33,g=0;g<t;g+=2){var y=e[g],b=e[g+1],D=o*y+u*b+l;e[g]=(n*y+a*b+f)/D,e[g+1]=(i*y+s*b+c)/D}},r.prototype.transformPointsWithValues=function(e,t){for(var n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,u=this.a23,f=this.a31,c=this.a32,l=this.a33,g=e.length,y=0;y<g;y++){var b=e[y],D=t[y],M=o*b+u*D+l;e[y]=(n*b+a*D+f)/M,t[y]=(i*b+s*D+c)/M}},r.squareToQuadrilateral=function(e,t,n,i,o,a,s,u){var f=e-n+o-s,c=t-i+a-u;if(f===0&&c===0)return new r(n-e,o-n,e,i-t,a-i,t,0,0,1);var l=n-o,g=s-o,y=i-a,b=u-a,D=l*b-g*y,M=(f*b-g*c)/D,k=(l*c-f*y)/D;return new r(n-e+M*n,s-e+k*s,e,i-t+M*i,u-t+k*u,t,M,k,1)},r.quadrilateralToSquare=function(e,t,n,i,o,a,s,u){return r.squareToQuadrilateral(e,t,n,i,o,a,s,u).buildAdjoint()},r.prototype.buildAdjoint=function(){return new r(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},r.prototype.times=function(e){return new r(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},r}();ND.default=E4e});var kD=T(i_=>{h();p();var I4e=i_&&i_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(i_,"__esModule",{value:!0});var TX=MD(),T4e=Oa(),A4e=dC(),AX=_t(),O4e=function(r){I4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,n,i,o,a,s,u,f,c,l,g,y,b,D,M,k,N,K,X){var q=A4e.default.quadrilateralToQuadrilateral(o,a,s,u,f,c,l,g,y,b,D,M,k,N,K,X);return this.sampleGridWithTransform(t,n,i,q)},e.prototype.sampleGridWithTransform=function(t,n,i,o){if(n<=0||i<=0)throw new AX.default;for(var a=new T4e.default(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var f=s.length,c=u+.5,l=0;l<f;l+=2)s[l]=l/2+.5,s[l+1]=c;o.transformPoints(s),TX.default.checkAndNudgePoints(t,s);try{for(var l=0;l<f;l+=2)t.get(Math.floor(s[l]),Math.floor(s[l+1]))&&a.set(l/2,u)}catch{throw new AX.default}}return a},e}(TX.default);i_.default=O4e});var o_=T(qD=>{h();p();Object.defineProperty(qD,"__esModule",{value:!0});var D4e=kD(),R4e=function(){function r(){}return r.setGridSampler=function(e){r.gridSampler=e},r.getInstance=function(){return r.gridSampler},r.gridSampler=new D4e.default,r}();qD.default=R4e});var hC=T(a_=>{h();p();Object.defineProperty(a_,"__esModule",{value:!0});a_.Point=void 0;var i0=$r(),B4e=RD(),$s=Js(),OX=cC(),P4e=r0(),M4e=Vm(),lC=_t(),N4e=o_(),DX=na(),Po=function(){function r(e,t){this.x=e,this.y=t}return r.prototype.toResultPoint=function(){return new i0.default(this.getX(),this.getY())},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r}();a_.Point=Po;var k4e=function(){function r(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return r.prototype.detect=function(){return this.detectMirror(!1)},r.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new B4e.default(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},r.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new lC.default;var t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);for(var i=0,o=0;o<4;o++){var a=n[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&31<<5)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},r.prototype.getRotation=function(e,t){var n=0;e.forEach(function(o,a,s){var u=(o>>t-2<<1)+(o&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(DX.default.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new lC.default},r.prototype.getCorrectedParameterData=function(e,t){var n,i;t?(n=7,i=2):(n=10,i=4);for(var o=n-i,a=new Int32Array(n),s=n-1;s>=0;--s)a[s]=e&15,e>>=4;try{var u=new M4e.default(P4e.default.AZTEC_PARAM);u.decode(a,o)}catch{throw new lC.default}for(var f=0,s=0;s<i;s++)f=(f<<4)+a[s];return f},r.prototype.getBullsEyeCorners=function(e){var t=e,n=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(t,a,1,-1),u=this.getFirstDifferent(n,a,1,1),f=this.getFirstDifferent(i,a,-1,1),c=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var l=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(l<.75||l>1.25||!this.isWhiteOrBlackRectangle(s,u,f,c))break}t=s,n=u,i=f,o=c,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new lC.default;this.compact=this.nbCenterLayers===5;var g=new i0.default(t.getX()+.5,t.getY()-.5),y=new i0.default(n.getX()+.5,n.getY()+.5),b=new i0.default(i.getX()-.5,i.getY()+.5),D=new i0.default(o.getX()-.5,o.getY()-.5);return this.expandSquare([g,y,b,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},r.prototype.getMatrixCenter=function(){var e,t,n,i;try{var o=new OX.default(this.image).detect();e=o[0],t=o[1],n=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Po(a+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Po(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Po(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Po(a-7,s-7),!1,-1,-1).toResultPoint()}var u=$s.default.round((e.getX()+i.getX()+t.getX()+n.getX())/4),f=$s.default.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{var o=new OX.default(this.image,15,u,f).detect();e=o[0],t=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new Po(u+7,f-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Po(u+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Po(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Po(u-7,f-7),!1,-1,-1).toResultPoint()}return u=$s.default.round((e.getX()+i.getX()+t.getX()+n.getX())/4),f=$s.default.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Po(u,f)},r.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},r.prototype.sampleGrid=function(e,t,n,i,o){var a=N4e.default.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},r.prototype.sampleLine=function(e,t,n){for(var i=0,o=this.distanceResultPoint(e,t),a=o/n,s=e.getX(),u=e.getY(),f=a*(t.getX()-e.getX())/o,c=a*(t.getY()-e.getY())/o,l=0;l<n;l++)this.image.get($s.default.round(s+l*f),$s.default.round(u+l*c))&&(i|=1<<n-l-1);return i},r.prototype.isWhiteOrBlackRectangle=function(e,t,n,i){var o=3;e=new Po(e.getX()-o,e.getY()+o),t=new Po(t.getX()-o,t.getY()-o),n=new Po(n.getX()+o,n.getY()-o),i=new Po(i.getX()+o,i.getY()+o);var a=this.getColor(i,e);if(a===0)return!1;var s=this.getColor(e,t);return s!==a||(s=this.getColor(t,n),s!==a)?!1:(s=this.getColor(n,i),s===a)},r.prototype.getColor=function(e,t){for(var n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,o=(t.getY()-e.getY())/n,a=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),l=0;l<c;l++)s+=i,u+=o,this.image.get($s.default.round(s),$s.default.round(u))!==f&&a++;var g=a/n;return g>.1&&g<.9?0:g<=.1===f?1:-1},r.prototype.getFirstDifferent=function(e,t,n,i){for(var o=e.getX()+n,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=n,a+=i;for(o-=n,a-=i;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===t;)a+=i;return a-=i,new Po(o,a)},r.prototype.expandSquare=function(e,t,n){var i=n/(2*t),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new i0.default(s+i*o,u+i*a),c=new i0.default(s-i*o,u-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var l=new i0.default(s+i*o,u+i*a),g=new i0.default(s-i*o,u-i*a),y=[f,l,c,g];return y},r.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},r.prototype.isValidPoint=function(e){var t=$s.default.round(e.getX()),n=$s.default.round(e.getY());return this.isValid(t,n)},r.prototype.distancePoint=function(e,t){return $s.default.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.distanceResultPoint=function(e,t){return $s.default.distance(e.getX(),e.getY(),t.getX(),t.getY())},r.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(DX.default.truncDivision(this.nbLayers-4,8)+1)+15},r}();a_.default=k4e});var pC=T(FD=>{h();p();Object.defineProperty(FD,"__esModule",{value:!0});var q4e=Zi(),F4e=br(),L4e=$i(),RX=Yf(),U4e=bn(),BX=ED(),j4e=hC(),H4e=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=null,i=new j4e.default(e.getBlackMatrix()),o=null,a=null;try{var s=i.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(t,o),a=new BX.default().decode(s)}catch(l){n=l}if(a==null)try{var s=i.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(t,o),a=new BX.default().decode(s)}catch(l){throw n??l}var u=new q4e.default(a.getText(),a.getRawBytes(),a.getNumBits(),o,F4e.default.AZTEC,U4e.default.currentTimeMillis()),f=a.getByteSegments();f!=null&&u.putMetadata(RX.default.BYTE_SEGMENTS,f);var c=a.getECLevel();return c!=null&&u.putMetadata(RX.default.ERROR_CORRECTION_LEVEL,c),u},r.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var n=e.get(L4e.default.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach(function(i,o,a){n.foundPossibleResultPoint(i)})}},r.prototype.reset=function(){},r}();FD.default=H4e});var PX=T(Gm=>{h();p();var K4e=Gm&&Gm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Gm,"__esModule",{value:!0});Gm.BrowserAztecCodeReader=void 0;var V4e=ol(),z4e=pC(),G4e=function(r){K4e(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new z4e.default,t)||this}return e}(V4e.BrowserCodeReader);Gm.BrowserAztecCodeReader=G4e});var Xf=T(UD=>{h();p();Object.defineProperty(UD,"__esModule",{value:!0});var Y4e=Vf(),gC=$i(),mC=Yf(),LD=$r(),s_=_t(),W4e=function(){function r(){}return r.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var n=t&&t.get(gC.default.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,t),a=o.getResultMetadata(),s=270;a!==null&&a.get(mC.default.ORIENTATION)===!0&&(s=s+a.get(mC.default.ORIENTATION)%360),o.putMetadata(mC.default.ORIENTATION,s);var u=o.getResultPoints();if(u!==null)for(var f=i.getHeight(),c=0;c<u.length;c++)u[c]=new LD.default(f-u[c].getY()-1,u[c].getX());return o}else throw new s_.default}},r.prototype.reset=function(){},r.prototype.doDecode=function(e,t){var n=e.getWidth(),i=e.getHeight(),o=new Y4e.default(n),a=t&&t.get(gC.default.TRY_HARDER)===!0,s=Math.max(1,i>>(a?8:5)),u;a?u=i:u=15;for(var f=Math.trunc(i/2),c=0;c<u;c++){var l=Math.trunc((c+1)/2),g=(c&1)===0,y=f+s*(g?l:-l);if(y<0||y>=i)break;try{o=e.getBlackRow(y,o)}catch{continue}for(var b=function(N){if(N===1&&(o.reverse(),t&&t.get(gC.default.NEED_RESULT_POINT_CALLBACK)===!0)){var K=new Map;t.forEach(function(d,v){return K.set(v,d)}),K.delete(gC.default.NEED_RESULT_POINT_CALLBACK),t=K}try{var X=D.decodeRow(y,o,t);if(N===1){X.putMetadata(mC.default.ORIENTATION,180);var q=X.getResultPoints();q!==null&&(q[0]=new LD.default(n-q[0].getX()-1,q[0].getY()),q[1]=new LD.default(n-q[1].getX()-1,q[1].getY()))}return{value:X}}catch{}},D=this,M=0;M<2;M++){var k=b(M);if(typeof k=="object")return k.value}}throw new s_.default},r.recordPattern=function(e,t,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var a=e.getSize();if(t>=a)throw new s_.default;for(var s=!e.get(t),u=0,f=t;f<a;){if(e.get(f)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}f++}if(!(u===i||u===i-1&&f===a))throw new s_.default},r.recordPatternInReverse=function(e,t,n){for(var i=n.length,o=e.get(t);t>0&&i>=0;)e.get(--t)!==o&&(i--,o=!o);if(i>=0)throw new s_.default;r.recordPattern(e,t+1,n)},r.patternMatchVariance=function(e,t,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=t[s];if(o<a)return Number.POSITIVE_INFINITY;var u=o/a;n*=u;for(var f=0,c=0;c<i;c++){var l=e[c],g=t[c]*u,y=l>g?l-g:g-l;if(y>n)return Number.POSITIVE_INFINITY;f+=y}return f/o},r}();UD.default=W4e});var HD=T(u_=>{h();p();var X4e=u_&&u_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(u_,"__esModule",{value:!0});var J4e=br(),$4e=Wu(),Z4e=$i(),MX=qr(),yC=_t(),Q4e=Zi(),NX=$r(),jD=Xf(),e6e=function(r){X4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var n=t.getSize(),i=t.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,f=6,c=i;c<n;c++)if(t.get(c)!==u)a[o]++;else{if(o===f-1){for(var l=e.MAX_AVG_VARIANCE,g=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var b=jD.default.patternMatchVariance(a,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);b<l&&(l=b,g=y)}if(g>=0&&t.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,g]);s+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,u=!u}throw new yC.default},e.decodeCode=function(t,n,i){jD.default.recordPattern(t,i,n);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,a=s)}if(a>=0)return a;throw new yC.default},e.prototype.decodeRow=function(t,n,i){var o=i&&i.get(Z4e.default.ASSUME_GS1)===!0,a=e.findStartPattern(n),s=a[2],u=0,f=new Uint8Array(20);f[u++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new MX.default}for(var l=!1,g=!1,y="",b=a[0],D=a[1],M=Int32Array.from([0,0,0,0,0,0]),k=0,N=0,K=s,X=0,q=!0,d=!1,v=!1;!l;){var w=g;switch(g=!1,k=N,N=e.decodeCode(n,M,D),f[u++]=N,N!==e.CODE_STOP&&(q=!0),N!==e.CODE_STOP&&(X++,K+=X*N),b=D,D+=M.reduce(function(P,S){return P+S},0),N){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new MX.default}switch(c){case e.CODE_CODE_A:if(N<64)v===d?y+=String.fromCharCode(" ".charCodeAt(0)+N):y+=String.fromCharCode(" ".charCodeAt(0)+N+128),v=!1;else if(N<96)v===d?y+=String.fromCharCode(N-64):y+=String.fromCharCode(N+64),v=!1;else switch(N!==e.CODE_STOP&&(q=!1),N){case e.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!d&&v?(d=!0,v=!1):d&&v?(d=!1,v=!1):v=!0;break;case e.CODE_SHIFT:g=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_B:if(N<96)v===d?y+=String.fromCharCode(" ".charCodeAt(0)+N):y+=String.fromCharCode(" ".charCodeAt(0)+N+128),v=!1;else switch(N!==e.CODE_STOP&&(q=!1),N){case e.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!d&&v?(d=!0,v=!1):d&&v?(d=!1,v=!1):v=!0;break;case e.CODE_SHIFT:g=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_C:if(N<100)N<10&&(y+="0"),y+=N;else switch(N!==e.CODE_STOP&&(q=!1),N){case e.CODE_FNC_1:o&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:l=!0;break}break}w&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var I=D-b;if(D=n.getNextUnset(D),!n.isRange(D,Math.min(n.getSize(),D+(D-b)/2),!1))throw new yC.default;if(K-=X*k,K%103!==k)throw new $4e.default;var x=y.length;if(x===0)throw new yC.default;x>0&&q&&(c===e.CODE_CODE_C?y=y.substring(0,x-2):y=y.substring(0,x-1));for(var B=(a[1]+a[0])/2,E=b+I/2,_=f.length,C=new Uint8Array(_),A=0;A<_;A++)C[A]=f[A];var U=[new NX.default(B,t),new NX.default(E,t)];return new Q4e.default(y,C,0,U,J4e.default.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(jD.default);u_.default=e6e});var VD=T(K1=>{h();p();var t6e=K1&&K1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KD=K1&&K1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(K1,"__esModule",{value:!0});var r6e=br(),n6e=Wu(),vC=qr(),f_=_t(),i6e=Xf(),o6e=Zi(),kX=$r(),a6e=function(r){t6e(e,r);function e(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=r.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,n,i){var o,a,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,f),l=n.getNextSet(c[1]),g=n.getSize(),y,b;do{e.recordPattern(n,l,f);var D=e.toNarrowWidePattern(f);if(D<0)throw new f_.default;y=e.patternToChar(D),this.decodeRowResult+=y,b=l;try{for(var M=(o=void 0,KD(f)),k=M.next();!k.done;k=M.next()){var N=k.value;l+=N}}catch(_){o={error:_}}finally{try{k&&!k.done&&(a=M.return)&&a.call(M)}finally{if(o)throw o.error}}l=n.getNextSet(l)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var K=0;try{for(var X=KD(f),q=X.next();!q.done;q=X.next()){var N=q.value;K+=N}}catch(_){s={error:_}}finally{try{q&&!q.done&&(u=X.return)&&u.call(X)}finally{if(s)throw s.error}}var d=l-b-K;if(l!==g&&d*2<K)throw new f_.default;if(this.usingCheckDigit){for(var v=this.decodeRowResult.length-1,w=0,I=0;I<v;I++)w+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(I));if(this.decodeRowResult.charAt(v)!==e.ALPHABET_STRING.charAt(w%43))throw new n6e.default;this.decodeRowResult=this.decodeRowResult.substring(0,v)}if(this.decodeRowResult.length===0)throw new f_.default;var x;this.extendedMode?x=e.decodeExtended(this.decodeRowResult):x=this.decodeRowResult;var B=(c[1]+c[0])/2,E=b+K/2;return new o6e.default(x,null,0,[new kX.default(B,t),new kX.default(E,t)],r6e.default.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,n){for(var i=t.getSize(),o=t.getNextSet(0),a=0,s=o,u=!1,f=n.length,c=o;c<i;c++)if(t.get(c)!==u)n[a]++;else{if(a===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,u=!u}throw new f_.default},e.toNarrowWidePattern=function(t){var n,i,o=t.length,a=0,s;do{var u=2147483647;try{for(var f=(n=void 0,KD(t)),c=f.next();!c.done;c=f.next()){var l=c.value;l<u&&l>a&&(u=l)}}catch(D){n={error:D}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}a=u,s=0;for(var g=0,y=0,b=0;b<o;b++){var l=t[b];l>a&&(y|=1<<o-1-b,s++,g+=l)}if(s===3){for(var b=0;b<o&&s>0;b++){var l=t[b];if(l>a&&(s--,l*2>=g))return-1}return y}}while(s>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new f_.default},e.decodeExtended=function(t){for(var n=t.length,i="",o=0;o<n;o++){var a=t.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=t.charAt(o+1),u="\0";switch(a){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new vC.default;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new vC.default;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="\x7F";else throw new vC.default;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new vC.default;break}i+=u,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(i6e.default);K1.default=a6e});var zD=T(V1=>{h();p();var s6e=V1&&V1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),u6e=V1&&V1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(V1,"__esModule",{value:!0});var f6e=br(),c6e=$i(),d6e=qr(),c_=_t(),l6e=Zi(),qX=$r(),h6e=Jr(),p6e=bn(),_C=Xf(),g6e=function(r){s6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,n,i){var o,a,s=this.decodeStart(n),u=this.decodeEnd(n),f=new h6e.default;e.decodeMiddle(n,s[1],u[0],f);var c=f.toString(),l=null;i!=null&&(l=i.get(c6e.default.ALLOWED_LENGTHS)),l==null&&(l=e.DEFAULT_ALLOWED_LENGTHS);var g=c.length,y=!1,b=0;try{for(var D=u6e(l),M=D.next();!M.done;M=D.next()){var k=M.value;if(g===k){y=!0;break}k>b&&(b=k)}}catch(X){o={error:X}}finally{try{M&&!M.done&&(a=D.return)&&a.call(D)}finally{if(o)throw o.error}}if(!y&&g>b&&(y=!0),!y)throw new d6e.default;var N=[new qX.default(s[1],t),new qX.default(u[0],t)],K=new l6e.default(c,null,0,N,f6e.default.ITF,new Date().getTime());return K},e.decodeMiddle=function(t,n,i,o){var a=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(a.fill(0),s.fill(0),u.fill(0);n<i;){_C.default.recordPattern(t,n,a);for(var f=0;f<5;f++){var c=2*f;s[f]=a[c],u[f]=a[c+1]}var l=e.decodeDigit(s);o.append(l.toString()),l=this.decodeDigit(u),o.append(l.toString()),a.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),i=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new c_.default},e.skipWhiteSpace=function(t){var n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new c_.default;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof c_.default&&(i=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}},e.findGuardPattern=function(t,n,i){var o=i.length,a=new Int32Array(o),s=t.getSize(),u=!1,f=0,c=n;a.fill(0);for(var l=n;l<s;l++)if(t.get(l)!==u)a[f]++;else{if(f===o-1){if(_C.default.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,l];c+=a[0]+a[1],p6e.default.arraycopy(a,2,a,0,f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,u=!u}throw new c_.default},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],u=_C.default.patternMatchVariance(t,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=a):u===n&&(i=-1)}if(i>=0)return i%10;throw new c_.default},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(_C.default);V1.default=g6e});var l_=T(d_=>{h();p();var m6e=d_&&d_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(d_,"__esModule",{value:!0});var GD=Xf(),FX=_t(),LX=qr(),y6e=function(r){m6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var n=!1,i,o=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,o,!1,this.START_END_PATTERN,a);var s=i[0];o=i[1];var u=s-(o-s);u>=0&&(n=t.isRange(u,s,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,o=n-1;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new LX.default;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new LX.default;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,n,i,o){return this.findGuardPattern(t,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(t,n,i,o,a){var s=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);for(var u=0,f=n,c=o.length,l=i,g=n;g<s;g++)if(t.get(g)!==l)a[u]++;else{if(u===c-1){if(GD.default.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,g]);f+=a[0]+a[1];for(var y=a.slice(2,a.length-1),b=0;b<u-1;b++)a[b]=y[b];a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,l=!l}throw new FX.default},e.decodeDigit=function(t,n,i,o){this.recordPattern(t,i,n);for(var a=this.MAX_AVG_VARIANCE,s=-1,u=o.length,f=0;f<u;f++){var c=o[f],l=GD.default.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);l<a&&(a=l,s=f)}if(s>=0)return s;throw new FX.default},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(GD.default);d_.default=y6e});var HX=T(h_=>{h();p();var v6e=h_&&h_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(h_,"__esModule",{value:!0});var _6e=br(),UX=l_(),x6e=Zi(),jX=$r(),b6e=Yf(),YD=_t(),w6e=function(){function r(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,i),a=i.toString(),s=r.parseExtensionString(a),u=[new jX.default((n[0]+n[1])/2,e),new jX.default(o,e)],f=new x6e.default(a,null,0,u,_6e.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},r.prototype.decodeMiddle=function(e,t,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=t[1],f=0,c=0;c<5&&u<s;c++){var l=UX.default.decodeDigit(e,a,u,UX.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var g=(i=void 0,v6e(a)),y=g.next();!y.done;y=g.next()){var b=y.value;u+=b}}catch(M){i={error:M}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}l>=10&&(f|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new YD.default;var D=this.determineCheckDigit(f);if(r.extensionChecksum(n.toString())!==D)throw new YD.default;return u},r.extensionChecksum=function(e){for(var t=e.length,n=0,i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},r.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new YD.default},r.parseExtensionString=function(e){if(e.length!==5)return null;var t=r.parseExtension5String(e);return t==null?null:new Map([[b6e.default.SUGGESTED_PRICE,t]])},r.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return t+i+"."+a},r}();h_.default=w6e});var GX=T(p_=>{h();p();var S6e=p_&&p_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(p_,"__esModule",{value:!0});var C6e=br(),KX=l_(),E6e=Zi(),VX=$r(),I6e=Yf(),zX=_t(),T6e=function(){function r(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return r.prototype.decodeRow=function(e,t,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(t,n,i),a=i.toString(),s=r.parseExtensionString(a),u=[new VX.default((n[0]+n[1])/2,e),new VX.default(o,e)],f=new E6e.default(a,null,0,u,C6e.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},r.prototype.decodeMiddle=function(e,t,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=t[1],f=0,c=0;c<2&&u<s;c++){var l=KX.default.decodeDigit(e,a,u,KX.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var g=(i=void 0,S6e(a)),y=g.next();!y.done;y=g.next()){var b=y.value;u+=b}}catch(D){i={error:D}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}l>=10&&(f|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new zX.default;if(parseInt(n.toString())%4!==f)throw new zX.default;return u},r.parseExtensionString=function(e){return e.length!==2?null:new Map([[I6e.default.ISSUE_NUMBER,parseInt(e)]])},r}();p_.default=T6e});var YX=T(WD=>{h();p();Object.defineProperty(WD,"__esModule",{value:!0});var A6e=l_(),O6e=HX(),D6e=GX(),R6e=function(){function r(){}return r.decodeRow=function(e,t,n){var i=A6e.default.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new O6e.default;return o.decodeRow(e,t,i)}catch{var a=new D6e.default;return a.decodeRow(e,t,i)}},r.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),r}();WD.default=R6e});var y_=T(m_=>{h();p();var B6e=m_&&m_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(m_,"__esModule",{value:!0});var WX=br(),XX=$i(),P6e=Zi(),M6e=Yf(),g_=$r(),N6e=YX(),k6e=l_(),JX=_t(),XD=qr(),q6e=Wu(),F6e=function(r){B6e(e,r);function e(){var t=r.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=o}return t}return e.prototype.decodeRow=function(t,n,i){var o=e.findStartGuardPattern(n),a=i==null?null:i.get(XX.default.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new g_.default((o[0]+o[1])/2,t);a.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,o,this.decodeRowStringBuffer),f=u.rowOffset,c=u.resultString;if(a!=null){var l=new g_.default(f,t);a.foundPossibleResultPoint(l)}var g=e.decodeEnd(n,f);if(a!=null){var y=new g_.default((g[0]+g[1])/2,t);a.foundPossibleResultPoint(y)}var b=g[1],D=b+(b-g[0]);if(D>=n.getSize()||!n.isRange(b,D,!1))throw new JX.default;var M=c.toString();if(M.length<8)throw new XD.default;if(!e.checkChecksum(M))throw new q6e.default;var k=(o[1]+o[0])/2,N=(g[1]+g[0])/2,K=this.getBarcodeFormat(),X=[new g_.default(k,t),new g_.default(N,t)],q=new P6e.default(M,null,0,X,K,new Date().getTime()),d=0;try{var v=N6e.default.decodeRow(t,n,g[1]);q.putMetadata(M6e.default.UPC_EAN_EXTENSION,v.getText()),q.putAllMetadata(v.getResultMetadata()),q.addResultPoints(v.getResultPoints()),d=v.getText().length}catch{}var w=i==null?null:i.get(XX.default.ALLOWED_EAN_EXTENSIONS);if(w!=null){var I=!1;for(var x in w)if(d.toString()===x){I=!0;break}if(!I)throw new JX.default}return K===WX.default.EAN_13||WX.default.UPC_A,q},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(n===0)return!1;var i=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(t){for(var n=t.length,i=0,o=n-1;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new XD.default;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new XD.default;i+=a}return(1e3-i)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(k6e.default);m_.default=F6e});var xC=T(z1=>{h();p();var L6e=z1&&z1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$X=z1&&z1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(z1,"__esModule",{value:!0});var U6e=br(),al=y_(),j6e=_t(),H6e=function(r){L6e(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var o,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var c=t.getSize(),l=n[1],g=0,y=0;y<6&&l<c;y++){var b=al.default.decodeDigit(t,f,l,al.default.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+b%10);try{for(var D=(o=void 0,$X(f)),M=D.next();!M.done;M=D.next()){var k=M.value;l+=k}}catch(q){o={error:q}}finally{try{M&&!M.done&&(a=D.return)&&a.call(D)}finally{if(o)throw o.error}}b>=10&&(g|=1<<5-y)}i=e.determineFirstDigit(i,g);var N=al.default.findGuardPattern(t,l,!0,al.default.MIDDLE_PATTERN,new Int32Array(al.default.MIDDLE_PATTERN.length).fill(0));l=N[1];for(var y=0;y<6&&l<c;y++){var b=al.default.decodeDigit(t,f,l,al.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+b);try{for(var K=(s=void 0,$X(f)),X=K.next();!X.done;X=K.next()){var k=X.value;l+=k}}catch(v){s={error:v}}finally{try{X&&!X.done&&(u=K.return)&&u.call(K)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return U6e.default.EAN_13},e.determineFirstDigit=function(t,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t,t;throw new j6e.default},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(al.default);z1.default=H6e});var QX=T(G1=>{h();p();var K6e=G1&&G1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZX=G1&&G1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(G1,"__esModule",{value:!0});var V6e=br(),sl=y_(),z6e=function(r){K6e(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,n,i){var o,a,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var c=t.getSize(),l=n[1],g=0;g<4&&l<c;g++){var y=sl.default.decodeDigit(t,f,l,sl.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y);try{for(var b=(o=void 0,ZX(f)),D=b.next();!D.done;D=b.next()){var M=D.value;l+=M}}catch(X){o={error:X}}finally{try{D&&!D.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}var k=sl.default.findGuardPattern(t,l,!0,sl.default.MIDDLE_PATTERN,new Int32Array(sl.default.MIDDLE_PATTERN.length).fill(0));l=k[1];for(var g=0;g<4&&l<c;g++){var y=sl.default.decodeDigit(t,f,l,sl.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y);try{for(var N=(s=void 0,ZX(f)),K=N.next();!K.done;K=N.next()){var M=K.value;l+=M}}catch(d){s={error:d}}finally{try{K&&!K.done&&(u=N.return)&&u.call(N)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return V6e.default.EAN_8},e}(sl.default);G1.default=z6e});var tJ=T(v_=>{h();p();var G6e=v_&&v_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(v_,"__esModule",{value:!0});var eJ=br(),Y6e=Zi(),W6e=_t(),X6e=xC(),J6e=y_(),$6e=function(r){G6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ean13Reader=new X6e.default,t}return e.prototype.getBarcodeFormat=function(){return eJ.default.UPC_A},e.prototype.decode=function(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))},e.prototype.decodeMiddle=function(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)},e.prototype.maybeReturnResult=function(t){var n=t.getText();if(n.charAt(0)==="0"){var i=new Y6e.default(n.substring(1),null,null,t.getResultPoints(),eJ.default.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new W6e.default},e.prototype.reset=function(){this.ean13Reader.reset()},e}(J6e.default);v_.default=$6e});var iJ=T(Y1=>{h();p();var Z6e=Y1&&Y1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Q6e=Y1&&Y1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Y1,"__esModule",{value:!0});var rJ=y_(),nJ=Jr(),ewe=_t(),twe=br(),rwe=function(r){Z6e(e,r);function e(){var t=r.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,n,i){var o,a,s=this.decodeMiddleCounters.map(function(M){return M});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),f=n[1],c=0,l=0;l<6&&f<u;l++){var g=e.decodeDigit(t,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);try{for(var y=(o=void 0,Q6e(s)),b=y.next();!b.done;b=y.next()){var D=b.value;f+=D}}catch(M){o={error:M}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}g>=10&&(c|=1<<5-l)}return e.determineNumSysAndCheckDigit(new nJ.default(i),c),f},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return rJ.default.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){t.insert(0,"0"+i),t.append("0"+o);return}throw ewe.default.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return twe.default.UPC_E},e.convertUPCEtoUPCA=function(t){var n=t.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new nJ.default;i.append(t.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(rJ.default);Y1.default=rwe});var dJ=T(X1=>{h();p();var nwe=X1&&X1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oJ=X1&&X1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(X1,"__esModule",{value:!0});var W1=br(),aJ=$i(),iwe=Zi(),owe=Xf(),sJ=xC(),uJ=QX(),fJ=tJ(),awe=_t(),cJ=iJ(),swe=function(r){nwe(e,r);function e(t){var n=r.call(this)||this,i=t==null?null:t.get(aJ.default.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(W1.default.EAN_13)>-1&&o.push(new sJ.default),i.indexOf(W1.default.UPC_A)>-1&&o.push(new fJ.default),i.indexOf(W1.default.EAN_8)>-1&&o.push(new uJ.default),i.indexOf(W1.default.UPC_E)>-1&&o.push(new cJ.default)),o.length===0&&(o.push(new sJ.default),o.push(new fJ.default),o.push(new uJ.default),o.push(new cJ.default)),n.readers=o,n}return e.prototype.decodeRow=function(t,n,i){var o,a;try{for(var s=oJ(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var c=f.decodeRow(t,n,i),l=c.getBarcodeFormat()===W1.default.EAN_13&&c.getText().charAt(0)==="0",g=i==null?null:i.get(aJ.default.POSSIBLE_FORMATS),y=g==null||g.includes(W1.default.UPC_A);if(l&&y){var b=c.getRawBytes(),D=new iwe.default(c.getText().substring(1),b,b?b.length:null,c.getResultPoints(),W1.default.UPC_A);return D.putAllMetadata(c.getResultMetadata()),D}return c}catch{}}}catch(M){o={error:M}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new awe.default},e.prototype.reset=function(){var t,n;try{for(var i=oJ(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;a.reset()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e}(owe.default);X1.default=swe});var JD=T(J1=>{h();p();var uwe=J1&&J1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fwe=J1&&J1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J1,"__esModule",{value:!0});var cwe=Js(),dwe=_t(),lJ=Xf(),lwe=function(r){uwe(e,r);function e(){var t=r.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var i=0;i<n.length;i++)if(lJ.default.patternMatchVariance(t,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new dwe.default},e.count=function(t){return cwe.default.sum(new Int32Array(t))},e.increment=function(t,n){for(var i=0,o=n[0],a=1;a<t.length;a++)n[a]>o&&(o=n[a],i=a);t[i]++},e.decrement=function(t,n){for(var i=0,o=n[0],a=1;a<t.length;a++)n[a]<o&&(o=n[a],i=a);t[i]--},e.isFinderPattern=function(t){var n,i,o=t[0]+t[1],a=o+t[2]+t[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var c=fwe(t),l=c.next();!l.done;l=c.next()){var g=l.value;g>f&&(f=g),g<u&&(u=g)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(lJ.default);J1.default=lwe});var bC=T($D=>{h();p();Object.defineProperty($D,"__esModule",{value:!0});var hwe=function(){function r(e,t){this.value=e,this.checksumPortion=t}return r.prototype.getValue=function(){return this.value},r.prototype.getChecksumPortion=function(){return this.checksumPortion},r.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},r.prototype.hashCode=function(){return this.value^this.checksumPortion},r}();$D.default=hwe});var QD=T(ZD=>{h();p();Object.defineProperty(ZD,"__esModule",{value:!0});var hJ=$r(),pwe=function(){function r(e,t,n,i,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new hJ.default(n,o)),this.resultPoints.push(new hJ.default(i,o))}return r.prototype.getValue=function(){return this.value},r.prototype.getStartEnd=function(){return this.startEnd},r.prototype.getResultPoints=function(){return this.resultPoints},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.hashCode=function(){return this.value},r}();ZD.default=pwe});var eR=T(__=>{h();p();var gwe=__&&__.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(__,"__esModule",{value:!0});var mwe=function(){function r(){}return r.getRSSvalue=function(e,t,n){var i,o,a=0;try{for(var s=gwe(e),u=s.next();!u.done;u=s.next()){var f=u.value;a+=f}}catch(N){i={error:N}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var c=0,l=0,g=e.length,y=0;y<g-1;y++){var b=void 0;for(b=1,l|=1<<y;b<e[y];b++,l&=~(1<<y)){var D=r.combins(a-b-1,g-y-2);if(n&&l===0&&a-b-(g-y-1)>=g-y-1&&(D-=r.combins(a-b-(g-y),g-y-2)),g-y-1>1){for(var M=0,k=a-b-(g-y-2);k>t;k--)M+=r.combins(a-b-k-1,g-y-3);D-=M*(g-1-y)}else a-b>t&&D--;c+=D}a-=b}return c},r.combins=function(e,t){var n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);for(var o=1,a=1,s=e;s>n;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},r}();__.default=mwe});var pJ=T(tR=>{h();p();Object.defineProperty(tR,"__esModule",{value:!0});var ywe=Vf(),vwe=function(){function r(){}return r.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var n=12*t,i=new ywe.default(n),o=0,a=e[0],s=a.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!=0&&i.set(o),o++;for(var u=1;u<e.length;++u){for(var f=e[u],c=f.getLeftChar().getValue(),l=11;l>=0;--l)(c&1<<l)!=0&&i.set(o),o++;if(f.getRightChar()!=null)for(var g=f.getRightChar().getValue(),l=11;l>=0;--l)(g&1<<l)!=0&&i.set(o),o++}return i},r}();tR.default=vwe});var gJ=T(rR=>{h();p();Object.defineProperty(rR,"__esModule",{value:!0});var _we=function(){function r(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return r.prototype.getDecodedInformation=function(){return this.decodedInformation},r.prototype.isFinished=function(){return this.finished},r}();rR.default=_we});var wC=T(nR=>{h();p();Object.defineProperty(nR,"__esModule",{value:!0});var xwe=function(){function r(e){this.newPosition=e}return r.prototype.getNewPosition=function(){return this.newPosition},r}();nR.default=xwe});var mJ=T(x_=>{h();p();var bwe=x_&&x_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(x_,"__esModule",{value:!0});var wwe=wC(),Swe=function(r){bwe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(wwe.default);x_.default=Swe});var yJ=T(b_=>{h();p();var Cwe=b_&&b_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(b_,"__esModule",{value:!0});var Ewe=wC(),Iwe=function(r){Cwe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Ewe.default);b_.default=Iwe});var vJ=T(w_=>{h();p();var Twe=w_&&w_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(w_,"__esModule",{value:!0});var Awe=qr(),Owe=wC(),Dwe=function(r){Twe(e,r);function e(t,n,i){var o=r.call(this,t)||this;if(n<0||n>10||i<0||i>10)throw new Awe.default;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Owe.default);w_.default=Dwe});var _J=T(S_=>{h();p();var SC=S_&&S_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(S_,"__esModule",{value:!0});var Ym=_t(),Rwe=function(){function r(){}return r.parseFieldsInGeneralPurpose=function(e){var t,n,i,o,a,s,u,f;if(!e)return null;if(e.length<2)throw new Ym.default;var c=e.substring(0,2);try{for(var l=SC(r.TWO_DIGIT_DATA_LENGTH),g=l.next();!g.done;g=l.next()){var y=g.value;if(y[0]===c)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(2,y[2],e):r.processFixedAI(2,y[1],e)}}catch(d){t={error:d}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}if(e.length<3)throw new Ym.default;var b=e.substring(0,3);try{for(var D=SC(r.THREE_DIGIT_DATA_LENGTH),M=D.next();!M.done;M=D.next()){var y=M.value;if(y[0]===b)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(3,y[2],e):r.processFixedAI(3,y[1],e)}}catch(d){i={error:d}}finally{try{M&&!M.done&&(o=D.return)&&o.call(D)}finally{if(i)throw i.error}}try{for(var k=SC(r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),N=k.next();!N.done;N=k.next()){var y=N.value;if(y[0]===b)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(d){a={error:d}}finally{try{N&&!N.done&&(s=k.return)&&s.call(k)}finally{if(a)throw a.error}}if(e.length<4)throw new Ym.default;var K=e.substring(0,4);try{for(var X=SC(r.FOUR_DIGIT_DATA_LENGTH),q=X.next();!q.done;q=X.next()){var y=q.value;if(y[0]===K)return y[1]===r.VARIABLE_LENGTH?r.processVariableAI(4,y[2],e):r.processFixedAI(4,y[1],e)}}catch(d){u={error:d}}finally{try{q&&!q.done&&(f=X.return)&&f.call(X)}finally{if(u)throw u.error}}throw new Ym.default},r.processFixedAI=function(e,t,n){if(n.length<e)throw new Ym.default;var i=n.substring(0,e);if(n.length<e+t)throw new Ym.default;var o=n.substring(e,e+t),a=n.substring(e+t),s="("+i+")"+o,u=r.parseFieldsInGeneralPurpose(a);return u==null?s:s+u},r.processVariableAI=function(e,t,n){var i=n.substring(0,e),o;n.length<e+t?o=n.length:o=e+t;var a=n.substring(e,o),s=n.substring(o),u="("+i+")"+a,f=r.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},r.VARIABLE_LENGTH=[],r.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",r.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",r.VARIABLE_LENGTH,20],["22",r.VARIABLE_LENGTH,29],["30",r.VARIABLE_LENGTH,8],["37",r.VARIABLE_LENGTH,8],["90",r.VARIABLE_LENGTH,30],["91",r.VARIABLE_LENGTH,30],["92",r.VARIABLE_LENGTH,30],["93",r.VARIABLE_LENGTH,30],["94",r.VARIABLE_LENGTH,30],["95",r.VARIABLE_LENGTH,30],["96",r.VARIABLE_LENGTH,30],["97",r.VARIABLE_LENGTH,3],["98",r.VARIABLE_LENGTH,30],["99",r.VARIABLE_LENGTH,30]],r.THREE_DIGIT_DATA_LENGTH=[["240",r.VARIABLE_LENGTH,30],["241",r.VARIABLE_LENGTH,30],["242",r.VARIABLE_LENGTH,6],["250",r.VARIABLE_LENGTH,30],["251",r.VARIABLE_LENGTH,30],["253",r.VARIABLE_LENGTH,17],["254",r.VARIABLE_LENGTH,20],["400",r.VARIABLE_LENGTH,30],["401",r.VARIABLE_LENGTH,30],["402",17],["403",r.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",r.VARIABLE_LENGTH,20],["421",r.VARIABLE_LENGTH,15],["422",3],["423",r.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],r.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",r.VARIABLE_LENGTH,15],["391",r.VARIABLE_LENGTH,18],["392",r.VARIABLE_LENGTH,15],["393",r.VARIABLE_LENGTH,18],["703",r.VARIABLE_LENGTH,30]],r.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",r.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",r.VARIABLE_LENGTH,20],["8003",r.VARIABLE_LENGTH,30],["8004",r.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",r.VARIABLE_LENGTH,30],["8008",r.VARIABLE_LENGTH,12],["8018",18],["8020",r.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",r.VARIABLE_LENGTH,70],["8200",r.VARIABLE_LENGTH,70]],r}();S_.default=Rwe});var oR=T(iR=>{h();p();Object.defineProperty(iR,"__esModule",{value:!0});var Bwe=qr(),Pwe=Wf(),Mwe=Jr(),$1=gJ(),$u=mJ(),Z1=yJ(),Wm=vJ(),Nwe=_J(),kwe=function(){function r(e){this.buffer=new Mwe.default,this.information=e}return r.prototype.decodeAllCodes=function(e,t){var n=t,i=null;do{var o=this.decodeGeneralPurposeField(n,i),a=Nwe.default.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},r.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},r.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Wm.default(this.information.getSize(),Wm.default.FNC1,Wm.default.FNC1):new Wm.default(this.information.getSize(),t-1,Wm.default.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new Wm.default(e+7,i,o)},r.prototype.extractNumericValueFromBitArray=function(e,t){return r.extractNumericValueFromBitArray(this.information,e,t)},r.extractNumericValueFromBitArray=function(e,t,n){for(var i=0,o=0;o<n;++o)e.get(t+o)&&(i|=1<<n-o-1);return i},r.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Z1.default(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Z1.default(this.current.getPosition(),this.buffer.toString())},r.prototype.parseBlocks=function(){var e,t;do{var n=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},r.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new Z1.default(this.current.getPosition(),this.buffer.toString()):t=new Z1.default(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new $1.default(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new Z1.default(this.current.getPosition(),this.buffer.toString());return new $1.default(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $1.default(!1)},r.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Z1.default(this.current.getPosition(),this.buffer.toString());return new $1.default(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $1.default(!1)},r.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new Z1.default(this.current.getPosition(),this.buffer.toString());return new $1.default(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $1.default(!1)},r.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},r.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new $u.default(e+5,$u.default.FNC1);if(t>=5&&t<15)return new $u.default(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new $u.default(e+7,""+(n+1));if(n>=90&&n<116)return new $u.default(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new Bwe.default}return new $u.default(e+8,o)},r.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},r.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new $u.default(e+5,$u.default.FNC1);if(t>=5&&t<15)return new $u.default(e+5,"0"+(t-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new $u.default(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Pwe.default("Decoding invalid alphanumeric value: "+n)}return new $u.default(e+6,i)},r.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},r.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},r.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},r}();iR.default=kwe});var CC=T(aR=>{h();p();Object.defineProperty(aR,"__esModule",{value:!0});var qwe=oR(),Fwe=function(){function r(e){this.information=e,this.generalDecoder=new qwe.default(e)}return r.prototype.getInformation=function(){return this.information},r.prototype.getGeneralDecoder=function(){return this.generalDecoder},r}();aR.default=Fwe});var E_=T(C_=>{h();p();var Lwe=C_&&C_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(C_,"__esModule",{value:!0});var Uwe=CC(),jwe=function(r){Lwe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,n){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,n){for(var i=0,o=0;o<13;o++){var a=t.charAt(o+n).charCodeAt(0)-"0".charCodeAt(0);i+=(o&1)===0?3*a:a}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(Uwe.default);C_.default=jwe});var xJ=T(I_=>{h();p();var Hwe=I_&&I_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(I_,"__esModule",{value:!0});var Kwe=E_(),Vwe=Jr(),zwe=function(r){Hwe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Vwe.default;t.append("(01)");var n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Kwe.default);I_.default=zwe});var bJ=T(T_=>{h();p();var Gwe=T_&&T_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(T_,"__esModule",{value:!0});var Ywe=Jr(),Wwe=CC(),Xwe=function(r){Gwe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ywe.default;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(Wwe.default);T_.default=Xwe});var sR=T(A_=>{h();p();var Jwe=A_&&A_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(A_,"__esModule",{value:!0});var $we=E_(),Zwe=function(r){Jwe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,o);for(var a=this.checkWeight(o),s=1e5,u=0;u<5;++u)a/s===0&&t.append("0"),s/=10;t.append(a)},e}($we.default);A_.default=Zwe});var fR=T(O_=>{h();p();var Qwe=O_&&O_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(O_,"__esModule",{value:!0});var uR=sR(),e8e=Jr(),t8e=_t(),r8e=function(r){Qwe(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+uR.default.GTIN_SIZE+e.WEIGHT_SIZE)throw new t8e.default;var t=new e8e.default;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+uR.default.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(uR.default);O_.default=r8e});var wJ=T(D_=>{h();p();var n8e=D_&&D_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(D_,"__esModule",{value:!0});var i8e=fR(),o8e=function(r){n8e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(i8e.default);D_.default=o8e});var SJ=T(R_=>{h();p();var a8e=R_&&R_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(R_,"__esModule",{value:!0});var s8e=fR(),u8e=function(r){a8e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.addWeightCode=function(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(s8e.default);R_.default=u8e});var CJ=T(B_=>{h();p();var f8e=B_&&B_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(B_,"__esModule",{value:!0});var EC=E_(),c8e=_t(),d8e=Jr(),l8e=function(r){f8e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+EC.default.GTIN_SIZE)throw new c8e.default;var t=new d8e.default;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+EC.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+EC.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(EC.default);B_.default=l8e});var EJ=T(M_=>{h();p();var h8e=M_&&M_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(M_,"__esModule",{value:!0});var P_=E_(),p8e=_t(),g8e=Jr(),m8e=function(r){h8e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+P_.default.GTIN_SIZE)throw new p8e.default;var t=new g8e.default;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+P_.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+P_.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+P_.default.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(P_.default);M_.default=m8e});var IJ=T(N_=>{h();p();var y8e=N_&&N_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(N_,"__esModule",{value:!0});var v8e=sR(),_8e=_t(),x8e=Jr(),b8e=function(r){y8e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new _8e.default;var t=new x8e.default;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){t.append("("),t.append(this.dateCode),t.append(")");var o=i%32;i/=32;var a=i%12+1;i/=12;var s=i;s/10==0&&t.append("0"),t.append(s),a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o)}},e.prototype.addWeightCode=function(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(v8e.default);N_.default=b8e});var dR=T(IC=>{h();p();Object.defineProperty(IC,"__esModule",{value:!0});IC.createDecoder=void 0;var w8e=Wf(),cR=oR(),S8e=xJ(),C8e=bJ(),E8e=wJ(),I8e=SJ(),T8e=CJ(),A8e=EJ(),ul=IJ();function O8e(r){try{if(r.get(1))return new S8e.default(r);if(!r.get(2))return new C8e.default(r);var e=cR.default.extractNumericValueFromBitArray(r,1,4);switch(e){case 4:return new E8e.default(r);case 5:return new I8e.default(r)}var t=cR.default.extractNumericValueFromBitArray(r,1,5);switch(t){case 12:return new T8e.default(r);case 13:return new A8e.default(r)}var n=cR.default.extractNumericValueFromBitArray(r,1,7);switch(n){case 56:return new ul.default(r,"310","11");case 57:return new ul.default(r,"320","11");case 58:return new ul.default(r,"310","13");case 59:return new ul.default(r,"320","13");case 60:return new ul.default(r,"310","15");case 61:return new ul.default(r,"320","15");case 62:return new ul.default(r,"310","17");case 63:return new ul.default(r,"320","17")}}catch(i){throw console.log(i),new w8e.default("unknown decoder: "+r)}}IC.createDecoder=O8e});var TJ=T(lR=>{h();p();Object.defineProperty(lR,"__esModule",{value:!0});var D8e=function(){function r(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}return r.prototype.mayBeLast=function(){return this.maybeLast},r.prototype.getLeftChar=function(){return this.leftchar},r.prototype.getRightChar=function(){return this.rightchar},r.prototype.getFinderPattern=function(){return this.finderpattern},r.prototype.mustBeLast=function(){return this.rightchar==null},r.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},r.equals=function(e,t){return e instanceof r?r.equalsOrNull(e.leftchar,t.leftchar)&&r.equalsOrNull(e.rightchar,t.rightchar)&&r.equalsOrNull(e.finderpattern,t.finderpattern):!1},r.equalsOrNull=function(e,t){return e===null?t===null:r.equals(e,t)},r.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},r}();lR.default=D8e});var AJ=T(hR=>{h();p();Object.defineProperty(hR,"__esModule",{value:!0});var R8e=function(){function r(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}return r.prototype.getPairs=function(){return this.pairs},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.isReversed=function(){return this.wasReversed},r.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},r.prototype.toString=function(){return"{ "+this.pairs+" }"},r.prototype.equals=function(e,t){return e instanceof r?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},r.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var n;return e.forEach(function(i,o){t.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},r}();hR.default=R8e});var gR=T(Q1=>{h();p();var B8e=Q1&&Q1.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fl=Q1&&Q1.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Q1,"__esModule",{value:!0});var P8e=br(),pR=Js(),sn=_t(),M8e=Zi(),N8e=bn(),k8e=JD(),q8e=bC(),F8e=QD(),OJ=eR(),L8e=pJ(),U8e=dR(),DJ=TJ(),j8e=AJ(),H8e=function(r){B8e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(s){if(s instanceof sn.default){if(!this.pairs.length)throw new sn.default;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new sn.default},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(t,n){for(var i,o,a=n;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var u=(i=void 0,fl(t)),f=u.next();!f.done;f=u.next()){var c=f.value;this.pairs.push(c.getPairs())}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var l=new Array(t);l.push(s);try{return this.checkRows(l,a+1)}catch(g){console.log(g)}}}throw new sn.default},e.isValidSequence=function(t){var n,i;try{for(var o=fl(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(t.length>s.length)){for(var u=!0,f=0;f<t.length;f++)if(t[f].getFinderPattern().getValue()!=s[f]){u=!1;break}if(u)return!0}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>t){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new j8e.default(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,n){var i,o,a,s,u,f;try{for(var c=fl(n),l=c.next();!l.done;l=c.next()){var g=l.value;if(g.getPairs().length!==t.length){var y=!0;try{for(var b=(a=void 0,fl(g.getPairs())),D=b.next();!D.done;D=b.next()){var M=D.value,k=!1;try{for(var N=(u=void 0,fl(t)),K=N.next();!K.done;K=N.next()){var X=K.value;if(DJ.default.equals(M,X)){k=!0;break}}}catch(q){u={error:q}}finally{try{K&&!K.done&&(f=N.return)&&f.call(N)}finally{if(u)throw u.error}}k||(y=!1)}}catch(q){a={error:q}}finally{try{D&&!D.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}}}}catch(q){i={error:q}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,n){var i,o,a,s,u,f;try{for(var c=fl(n),l=c.next();!l.done;l=c.next()){var g=l.value,y=!0;try{for(var b=(a=void 0,fl(t)),D=b.next();!D.done;D=b.next()){var M=D.value,k=!1;try{for(var N=(u=void 0,fl(g.getPairs())),K=N.next();!K.done;K=N.next()){var X=K.value;if(M.equals(X)){k=!0;break}}}catch(q){u={error:q}}finally{try{K&&!K.done&&(f=N.return)&&f.call(N)}finally{if(u)throw u.error}}if(!k){y=!1;break}}}catch(q){a={error:q}}finally{try{D&&!D.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(y)return!0}}catch(q){i={error:q}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var n=L8e.default.buildBitArray(t),i=U8e.createDecoder(n),o=i.parseInformation(),a=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),u=[a[0],a[1],s[0],s[1]];return new M8e.default(o,null,null,u,P8e.default.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);o+=u.getLeftChar().getChecksumPortion(),a++;var f=u.getRightChar();f!=null&&(o+=f.getChecksumPortion(),a++)}o%=211;var c=211*(a-4)+o;return c==n.getValue()},e.getNextSecondBar=function(t,n){var i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,n,i){var o=n.length%2==0;this.startFromEven&&(o=!o);var a,s=!0,u=-1;do this.findNextPair(t,n,u),a=this.parseFoundFinderPattern(t,i,o),a==null?u=e.getNextSecondBar(t,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(t,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new sn.default;var c;try{c=this.decodeDataCharacter(t,a,o,!1)}catch(l){c=null,console.log(l)}return new DJ.default(f,c,a,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=t.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=n.length%2!=0;this.startFromEven&&(f=!f);for(var c=!1;s<a&&(c=!t.get(s),!!c);)s++;for(var l=0,g=s,y=s;y<a;y++)if(t.get(y)!=c)o[l]++;else{if(l==3){if(f&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=g,this.startEnd[1]=y;return}f&&e.reverseCounters(o),g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,l--}else l++;o[l]=1,c=!c}throw new sn.default},e.reverseCounters=function(t){for(var n=t.length,i=0;i<n/2;++i){var o=t[i];t[i]=t[n-i-1],t[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(t,n,i){var o,a,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!t.get(u);)u--;u++,o=this.startEnd[0]-u,a=u,s=this.startEnd[1]}else a=this.startEnd[0],s=t.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var f=this.getDecodeFinderCounters();N8e.default.arraycopy(f,0,f,1,f.length-1),f[0]=o;var c;try{c=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch(l){return null}return new F8e.default(c,[a,s],a,s,n)},e.prototype.decodeDataCharacter=function(t,n,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(t,n.getStartEnd()[0],a);else{e.recordPattern(t,n.getStartEnd()[1],a);for(var u=0,f=a.length-1;u<f;u++,f--){var c=a[u];a[u]=a[f],a[f]=c}}var l=17,g=pR.default.sum(new Int32Array(a))/l,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new sn.default;for(var b=this.getOddCounts(),D=this.getEvenCounts(),M=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var N=1*a[u]/g,K=N+.5;if(K<1){if(N<.3)throw new sn.default;K=1}else if(K>8){if(N>8.7)throw new sn.default;K=8}var X=u/2;(u&1)==0?(b[X]=K,M[X]=N-K):(D[X]=K,k[X]=N-K)}this.adjustOddEvenCounts(l);for(var q=4*n.getValue()+(i?0:2)+(o?0:1)-1,d=0,v=0,u=b.length-1;u>=0;u--){if(e.isNotA1left(n,i,o)){var w=e.WEIGHTS[q][2*u];v+=b[u]*w}d+=b[u]}for(var I=0,u=D.length-1;u>=0;u--)if(e.isNotA1left(n,i,o)){var w=e.WEIGHTS[q][2*u+1];I+=D[u]*w}var x=v+I;if((d&1)!=0||d>13||d<4)throw new sn.default;var B=(13-d)/2,E=e.SYMBOL_WIDEST[B],_=9-E,C=OJ.default.getRSSvalue(b,E,!0),A=OJ.default.getRSSvalue(D,_,!1),U=e.EVEN_TOTAL_SUBSET[B],P=e.GSUM[B],S=C*U+A+P;return new q8e.default(S,x)},e.isNotA1left=function(t,n,i){return!(t.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(t){var n=pR.default.sum(new Int32Array(this.getOddCounts())),i=pR.default.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var f=n+i-t,c=(n&1)==1,l=(i&1)==0;if(f==1)if(c){if(l)throw new sn.default;a=!0}else{if(!l)throw new sn.default;u=!0}else if(f==-1)if(c){if(l)throw new sn.default;o=!0}else{if(!l)throw new sn.default;s=!0}else if(f==0){if(c){if(!l)throw new sn.default;n<i?(o=!0,u=!0):(a=!0,s=!0)}else if(l)throw new sn.default}else throw new sn.default;if(o){if(a)throw new sn.default;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new sn.default;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(k8e.default);Q1.default=H8e});var RJ=T(k_=>{h();p();var K8e=k_&&k_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(k_,"__esModule",{value:!0});var V8e=bC(),z8e=function(r){K8e(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(V8e.default);k_.default=z8e});var vR=T(ep=>{h();p();var G8e=ep&&ep.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mR=ep&&ep.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ep,"__esModule",{value:!0});var Xm=JD(),Y8e=RJ(),W8e=Zi(),X8e=$i(),Da=_t(),J8e=Jr(),$8e=br(),Z8e=$r(),Q8e=QD(),BJ=bC(),yR=Js(),TC=eR(),eSe=bn(),PJ=Xf(),tSe=function(r){G8e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,n,i){var o,a,s,u,f=this.decodePair(n,!1,t,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var c=this.decodePair(n,!0,t,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var l=mR(this.possibleLeftPairs),g=l.next();!g.done;g=l.next()){var y=g.value;if(y.getCount()>1)try{for(var b=(s=void 0,mR(this.possibleRightPairs)),D=b.next();!D.done;D=b.next()){var M=D.value;if(M.getCount()>1&&e.checkChecksum(y,M))return e.constructResult(y,M)}}catch(k){s={error:k}}finally{try{D&&!D.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}}}catch(k){o={error:k}}finally{try{g&&!g.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}throw new Da.default},e.addOrTally=function(t,n){var i,o;if(n!=null){var a=!1;try{for(var s=mR(t),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===n.getValue()){f.incrementCount(),a=!0;break}}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||t.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,n){for(var i=4537077*t.getValue()+n.getValue(),o=new String(i).toString(),a=new J8e.default,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var u=0,s=0;s<13;s++){var f=a.charAt(s).charCodeAt(0)-"0".charCodeAt(0);u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),a.append(u.toString());var c=t.getFinderPattern().getResultPoints(),l=n.getFinderPattern().getResultPoints();return new W8e.default(a.toString(),null,0,[c[0],c[1],l[0],l[1]],$8e.default.RSS_14,new Date().getTime())},e.checkChecksum=function(t,n){var i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(t,n,i,o){try{var a=this.findFinderPattern(t,n),s=this.parseFoundFinderPattern(t,i,n,a),u=o==null?null:o.get(X8e.default.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(a[0]+a[1])/2;n&&(f=t.getSize()-1-f),u.foundPossibleResultPoint(new Z8e.default(f,i))}var c=this.decodeDataCharacter(t,s,!0),l=this.decodeDataCharacter(t,s,!1);return new Y8e.default(1597*c.getValue()+l.getValue(),c.getChecksumPortion()+4*l.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(t,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)PJ.default.recordPatternInReverse(t,n.getStartEnd()[0],o);else{PJ.default.recordPattern(t,n.getStartEnd()[1]+1,o);for(var s=0,u=o.length-1;s<u;s++,u--){var f=o[s];o[s]=o[u],o[u]=f}}for(var c=i?16:15,l=yR.default.sum(new Int32Array(o))/c,g=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var M=o[s]/l,k=Math.floor(M+.5);k<1?k=1:k>8&&(k=8);var N=Math.floor(s/2);(s&1)===0?(g[N]=k,b[N]=M-k):(y[N]=k,D[N]=M-k)}this.adjustOddEvenCounts(i,c);for(var K=0,X=0,s=g.length-1;s>=0;s--)X*=9,X+=g[s],K+=g[s];for(var q=0,d=0,s=y.length-1;s>=0;s--)q*=9,q+=y[s],d+=y[s];var v=X+3*q;if(i){if((K&1)!==0||K>12||K<4)throw new Da.default;var w=(12-K)/2,I=e.OUTSIDE_ODD_WIDEST[w],x=9-I,B=TC.default.getRSSvalue(g,I,!1),E=TC.default.getRSSvalue(y,x,!0),_=e.OUTSIDE_EVEN_TOTAL_SUBSET[w],C=e.OUTSIDE_GSUM[w];return new BJ.default(B*_+E+C,v)}else{if((d&1)!==0||d>10||d<4)throw new Da.default;var w=(10-d)/2,I=e.INSIDE_ODD_WIDEST[w],x=9-I,B=TC.default.getRSSvalue(g,I,!0),E=TC.default.getRSSvalue(y,x,!1),A=e.INSIDE_ODD_TOTAL_SUBSET[w],C=e.INSIDE_GSUM[w];return new BJ.default(E*A+B+C,v)}},e.prototype.findFinderPattern=function(t,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=t.getSize(),a=!1,s=0;s<o&&(a=!t.get(s),n!==a);)s++;for(var u=0,f=s,c=s;c<o;c++)if(t.get(c)!==a)i[u]++;else{if(u===3){if(Xm.default.isFinderPattern(i))return[f,c];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,a=!a}throw new Da.default},e.prototype.parseFoundFinderPattern=function(t,n,i,o){for(var a=t.get(o[0]),s=o[0]-1;s>=0&&a!==t.get(s);)s--;s++;var u=o[0]-s,f=this.getDecodeFinderCounters(),c=new Int32Array(f.length);eSe.default.arraycopy(f,0,c,1,f.length-1),c[0]=u;var l=this.parseFinderValue(c,e.FINDER_PATTERNS),g=s,y=o[1];return i&&(g=t.getSize()-1-g,y=t.getSize()-1-y),new Q8e.default(l,[s,o[1]],g,y,n)},e.prototype.adjustOddEvenCounts=function(t,n){var i=yR.default.sum(new Int32Array(this.getOddCounts())),o=yR.default.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,u=!1,f=!1;t?(i>12?s=!0:i<4&&(a=!0),o>12?f=!0:o<4&&(u=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?f=!0:o<4&&(u=!0));var c=i+o-n,l=(i&1)===(t?1:0),g=(o&1)===1;if(c===1)if(l){if(g)throw new Da.default;s=!0}else{if(!g)throw new Da.default;f=!0}else if(c===-1)if(l){if(g)throw new Da.default;a=!0}else{if(!g)throw new Da.default;u=!0}else if(c===0){if(l){if(!g)throw new Da.default;i<o?(a=!0,f=!0):(s=!0,u=!0)}else if(g)throw new Da.default}else throw new Da.default;if(a){if(s)throw new Da.default;Xm.default.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Xm.default.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new Da.default;Xm.default.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Xm.default.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Xm.default);ep.default=tSe});var AC=T(q_=>{h();p();var rSe=q_&&q_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(q_,"__esModule",{value:!0});var o0=br(),MJ=$i(),nSe=_t(),NJ=HD(),kJ=VD(),qJ=zD(),_R=dJ(),iSe=Xf(),oSe=gR(),FJ=vR(),aSe=function(r){rSe(e,r);function e(t){var n=r.call(this)||this;n.readers=[];var i=t?t.get(MJ.default.POSSIBLE_FORMATS):null,o=t&&t.get(MJ.default.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(o0.default.EAN_13)||i.includes(o0.default.UPC_A)||i.includes(o0.default.EAN_8)||i.includes(o0.default.UPC_E))&&n.readers.push(new _R.default(t)),i.includes(o0.default.CODE_39)&&n.readers.push(new kJ.default(o)),i.includes(o0.default.CODE_128)&&n.readers.push(new NJ.default),i.includes(o0.default.ITF)&&n.readers.push(new qJ.default),i.includes(o0.default.RSS_14)&&n.readers.push(new FJ.default),i.includes(o0.default.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new oSe.default))),n.readers.length===0&&(n.readers.push(new _R.default(t)),n.readers.push(new kJ.default),n.readers.push(new _R.default(t)),n.readers.push(new NJ.default),n.readers.push(new qJ.default),n.readers.push(new FJ.default)),n}return e.prototype.decodeRow=function(t,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,n,i)}catch{}throw new nSe.default},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(iSe.default);q_.default=aSe});var LJ=T(Jm=>{h();p();var sSe=Jm&&Jm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jm,"__esModule",{value:!0});Jm.BrowserBarcodeReader=void 0;var uSe=ol(),fSe=AC(),cSe=function(r){sSe(e,r);function e(t,n){return t===void 0&&(t=500),r.call(this,new fSe.default(n),t,n)||this}return e}(uSe.BrowserCodeReader);Jm.BrowserBarcodeReader=cSe});var HJ=T(a0=>{h();p();var UJ=a0&&a0.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(a0,"__esModule",{value:!0});a0.ECB=a0.ECBlocks=void 0;var jJ=qr(),zt=function(){function r(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}return r.prototype.getECCodewords=function(){return this.ecCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r}();a0.ECBlocks=zt;var Lt=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}();a0.ECB=Lt;var dSe=function(){function r(e,t,n,i,o,a){var s,u;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var f=0,c=a.getECCodewords(),l=a.getECBlocks();try{for(var g=UJ(l),y=g.next();!y.done;y=g.next()){var b=y.value;f+=b.getCount()*(b.getDataCodewords()+c)}}catch(D){s={error:D}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}this.totalCodewords=f}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},r.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},r.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},r.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getECBlocks=function(){return this.ecBlocks},r.getVersionForDimensions=function(e,t){var n,i;if((e&1)!==0||(t&1)!==0)throw new jJ.default;try{for(var o=UJ(r.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===t)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new jJ.default},r.prototype.toString=function(){return""+this.versionNumber},r.buildVersions=function(){return[new r(1,10,10,8,8,new zt(5,new Lt(1,3))),new r(2,12,12,10,10,new zt(7,new Lt(1,5))),new r(3,14,14,12,12,new zt(10,new Lt(1,8))),new r(4,16,16,14,14,new zt(12,new Lt(1,12))),new r(5,18,18,16,16,new zt(14,new Lt(1,18))),new r(6,20,20,18,18,new zt(18,new Lt(1,22))),new r(7,22,22,20,20,new zt(20,new Lt(1,30))),new r(8,24,24,22,22,new zt(24,new Lt(1,36))),new r(9,26,26,24,24,new zt(28,new Lt(1,44))),new r(10,32,32,14,14,new zt(36,new Lt(1,62))),new r(11,36,36,16,16,new zt(42,new Lt(1,86))),new r(12,40,40,18,18,new zt(48,new Lt(1,114))),new r(13,44,44,20,20,new zt(56,new Lt(1,144))),new r(14,48,48,22,22,new zt(68,new Lt(1,174))),new r(15,52,52,24,24,new zt(42,new Lt(2,102))),new r(16,64,64,14,14,new zt(56,new Lt(2,140))),new r(17,72,72,16,16,new zt(36,new Lt(4,92))),new r(18,80,80,18,18,new zt(48,new Lt(4,114))),new r(19,88,88,20,20,new zt(56,new Lt(4,144))),new r(20,96,96,22,22,new zt(68,new Lt(4,174))),new r(21,104,104,24,24,new zt(56,new Lt(6,136))),new r(22,120,120,18,18,new zt(68,new Lt(6,175))),new r(23,132,132,20,20,new zt(62,new Lt(8,163))),new r(24,144,144,22,22,new zt(62,new Lt(8,156),new Lt(2,155))),new r(25,8,18,6,16,new zt(7,new Lt(1,5))),new r(26,8,32,6,14,new zt(11,new Lt(1,10))),new r(27,12,26,10,24,new zt(14,new Lt(1,16))),new r(28,12,36,10,16,new zt(18,new Lt(1,22))),new r(29,16,36,14,16,new zt(24,new Lt(1,32))),new r(30,16,48,14,22,new zt(28,new Lt(1,49)))]},r.VERSIONS=r.buildVersions(),r}();a0.default=dSe});var zJ=T(xR=>{h();p();Object.defineProperty(xR,"__esModule",{value:!0});var KJ=Oa(),lSe=HJ(),VJ=qr(),hSe=Vt(),pSe=function(){function r(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new VJ.default;this.version=r.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new KJ.default(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return r.prototype.getVersion=function(){return this.version},r.readVersion=function(e){var t=e.getHeight(),n=e.getWidth();return lSe.default.getVersionForDimensions(t,n)},r.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,c=!1;do if(n===o&&i===0&&!s)e[t++]=this.readCorner1(o,a)&255,n-=2,i+=2,s=!0;else if(n===o-2&&i===0&&(a&3)!==0&&!u)e[t++]=this.readCorner2(o,a)&255,n-=2,i+=2,u=!0;else if(n===o+4&&i===2&&(a&7)===0&&!f)e[t++]=this.readCorner3(o,a)&255,n-=2,i+=2,f=!0;else if(n===o-2&&i===0&&(a&7)===4&&!c)e[t++]=this.readCorner4(o,a)&255,n-=2,i+=2,c=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,o,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,o,a)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<a);if(t!==this.version.getTotalCodewords())throw new VJ.default;return e},r.prototype.readModule=function(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},r.prototype.readUtah=function(e,t,n,i){var o=0;return this.readModule(e-2,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,t,n,i)&&(o|=1),o<<=1,this.readModule(e,t-2,n,i)&&(o|=1),o<<=1,this.readModule(e,t-1,n,i)&&(o|=1),o<<=1,this.readModule(e,t,n,i)&&(o|=1),o},r.prototype.readCorner1=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.readCorner2=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner3=function(e,t){var n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n},r.prototype.readCorner4=function(e,t){var n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n},r.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new hSe.default("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=t/i|0,s=n/o|0,u=a*i,f=s*o,c=new KJ.default(f,u),l=0;l<a;++l)for(var g=l*i,y=0;y<s;++y)for(var b=y*o,D=0;D<i;++D)for(var M=l*(i+2)+1+D,k=g+D,N=0;N<o;++N){var K=y*(o+2)+1+N;if(e.get(K,M)){var X=b+N;c.set(X,k)}}return c},r}();xR.default=pSe});var YJ=T(F_=>{h();p();var GJ=F_&&F_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(F_,"__esModule",{value:!0});var gSe=Vt(),mSe=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t){var n,i,o,a,s=t.getECBlocks(),u=0,f=s.getECBlocks();try{for(var c=GJ(f),l=c.next();!l.done;l=c.next()){var g=l.value;u+=g.getCount()}}catch(C){n={error:C}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var y=new Array(u),b=0;try{for(var D=GJ(f),M=D.next();!M.done;M=D.next())for(var g=M.value,k=0;k<g.getCount();k++){var N=g.getDataCodewords(),K=s.getECCodewords()+N;y[b++]=new r(N,new Uint8Array(K))}}catch(C){o={error:C}}finally{try{M&&!M.done&&(a=D.return)&&a.call(D)}finally{if(o)throw o.error}}for(var X=y[0].codewords.length,q=X-s.getECCodewords(),d=q-1,v=0,k=0;k<d;k++)for(var w=0;w<b;w++)y[w].codewords[k]=e[v++];for(var I=t.getVersionNumber()===24,x=I?8:b,w=0;w<x;w++)y[w].codewords[q-1]=e[v++];for(var B=y[0].codewords.length,k=q;k<B;k++)for(var w=0;w<b;w++){var E=I?(w+8)%b:w,_=I&&E>7?k-1:k;y[E].codewords[_]=e[v++]}if(v!==e.length)throw new gSe.default;return y},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}();F_.default=mSe});var OC=T(bR=>{h();p();Object.defineProperty(bR,"__esModule",{value:!0});var ySe=Vt(),vSe=function(){function r(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return r.prototype.getBitOffset=function(){return this.bitOffset},r.prototype.getByteOffset=function(){return this.byteOffset},r.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new ySe.default(""+e);var t=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var a=8-n,s=e<a?e:a,u=a-s,f=255>>8-s<<u;t=(o[i]&f)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|o[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;t=t<<e|(o[i]&f)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,t},r.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},r}();bR.default=vSe});var SR=T(wR=>{h();p();Object.defineProperty(wR,"__esModule",{value:!0});var _Se=Hm(),xSe=OC(),WJ=Jr(),bSe=H1(),wSe=Ju(),Ra=qr(),SSe=Wf(),un;(function(r){r[r.PAD_ENCODE=0]="PAD_ENCODE",r[r.ASCII_ENCODE=1]="ASCII_ENCODE",r[r.C40_ENCODE=2]="C40_ENCODE",r[r.TEXT_ENCODE=3]="TEXT_ENCODE",r[r.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",r[r.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",r[r.BASE256_ENCODE=6]="BASE256_ENCODE"})(un||(un={}));var CSe=function(){function r(){}return r.decode=function(e){var t=new xSe.default(e),n=new WJ.default,i=new WJ.default,o=new Array,a=un.ASCII_ENCODE;do if(a===un.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,i);else{switch(a){case un.C40_ENCODE:this.decodeC40Segment(t,n);break;case un.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case un.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case un.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case un.BASE256_ENCODE:this.decodeBase256Segment(t,n,o);break;default:throw new Ra.default}a=un.ASCII_ENCODE}while(a!==un.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new _Se.default(e,n.toString(),o.length===0?null:o,null)},r.decodeAsciiSegment=function(e,t,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new Ra.default;if(o<=128)return i&&(o+=128),t.append(String.fromCharCode(o-1)),un.ASCII_ENCODE;if(o===129)return un.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&t.append("0"),t.append(""+a)}else switch(o){case 230:return un.C40_ENCODE;case 231:return un.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return un.ANSIX12_ENCODE;case 239:return un.TEXT_ENCODE;case 240:return un.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new Ra.default;break}}while(e.available()>0);return un.ASCII_ENCODE},r.decodeC40Segment=function(e,t){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else throw new Ra.default;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Ra.default}o=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),o=0;break;default:throw new Ra.default}}}while(e.available()>0)},r.decodeTextSegment=function(e,t){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(o){case 0:if(u<3)o=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else throw new Ra.default;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Ra.default}o=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):t.append(f),o=0}else throw new Ra.default;break;default:throw new Ra.default}}}while(e.available()>0)},r.decodeAnsiX12Segment=function(e,t){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var a=n[o];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new Ra.default;break}}}while(e.available()>0)},r.parseTwoBytes=function(e,t,n){var i=(e<<8)+t-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},r.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},r.decodeBase256Segment=function(e,t,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new Ra.default;for(var s=new Uint8Array(a),u=0;u<a;u++){if(e.available()<8)throw new Ra.default;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{t.append(bSe.default.decode(s,wSe.default.ISO88591))}catch(f){throw new SSe.default("Platform does not support required encoding: "+f.message)}},r.unrandomize255State=function(e,t){var n=149*t%255+1,i=e-n;return i>=0?i:i+256},r.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],r.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],r.TEXT_SHIFT2_SET_CHARS=r.C40_SHIFT2_SET_CHARS,r.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],r}();wR.default=CSe});var XJ=T(L_=>{h();p();var ESe=L_&&L_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(L_,"__esModule",{value:!0});var ISe=Wu(),TSe=r0(),ASe=Vm(),OSe=zJ(),DSe=YJ(),RSe=SR(),BSe=function(){function r(){this.rsDecoder=new ASe.default(TSe.default.DATA_MATRIX_FIELD_256)}return r.prototype.decode=function(e){var t,n,i=new OSe.default(e),o=i.getVersion(),a=i.readCodewords(),s=DSe.default.getDataBlocks(a,o),u=0;try{for(var f=ESe(s),c=f.next();!c.done;c=f.next()){var l=c.value;u+=l.getNumDataCodewords()}}catch(K){t={error:K}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}for(var g=new Uint8Array(u),y=s.length,b=0;b<y;b++){var D=s[b],M=D.getCodewords(),k=D.getNumDataCodewords();this.correctErrors(M,k);for(var N=0;N<k;N++)g[N*y+b]=M[N]}return RSe.default.decode(g)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new ISe.default}for(var i=0;i<t;i++)e[i]=n[i]},r}();L_.default=BSe});var JJ=T(CR=>{h();p();Object.defineProperty(CR,"__esModule",{value:!0});var PSe=cC(),MSe=r_(),NSe=o_(),kSe=_t(),DC=$r(),qSe=function(){function r(e){this.image=e,this.rectangleDetector=new PSe.default(this.image)}return r.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new kSe.default;t=this.shiftToModuleCenter(t);var n=t[0],i=t[1],o=t[2],a=t[3],s=this.transitionsBetween(n,a)+1,u=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=r.sampleGrid(this.image,n,i,o,a,s,u);return new MSe.default(f,[n,i,o,a])},r.shiftPoint=function(e,t,n){var i=(t.getX()-e.getX())/(n+1),o=(t.getY()-e.getY())/(n+1);return new DC.default(e.getX()+i,e.getY()+o)},r.moveAway=function(e,t,n){var i=e.getX(),o=e.getY();return i<t?i-=1:i+=1,o<n?o-=1:o+=1,new DC.default(i,o)},r.prototype.detectSolid1=function(e){var t=e[0],n=e[1],i=e[3],o=e[2],a=this.transitionsBetween(t,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,o),f=this.transitionsBetween(o,t),c=a,l=[o,t,n,i];return c>s&&(c=s,l[0]=t,l[1]=n,l[2]=i,l[3]=o),c>u&&(c=u,l[0]=n,l[1]=i,l[2]=o,l[3]=t),c>f&&(l[0]=i,l[1]=o,l[2]=t,l[3]=n),l},r.prototype.detectSolid2=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(t,o),s=r.shiftPoint(n,i,(a+1)*4),u=r.shiftPoint(i,n,(a+1)*4),f=this.transitionsBetween(s,t),c=this.transitionsBetween(u,o);return f<c?(e[0]=t,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=t),e},r.prototype.correctTopRight=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(t,o),s=this.transitionsBetween(n,o),u=r.shiftPoint(t,n,(s+1)*4),f=r.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(u,o),s=this.transitionsBetween(f,o);var c=new DC.default(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),l=new DC.default(o.getX()+(t.getX()-n.getX())/(s+1),o.getY()+(t.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(l)?l:null;if(!this.isValid(l))return c;var g=this.transitionsBetween(u,c)+this.transitionsBetween(f,c),y=this.transitionsBetween(u,l)+this.transitionsBetween(f,l);return g>y?c:l},r.prototype.shiftToModuleCenter=function(e){var t=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(t,o)+1,s=this.transitionsBetween(i,o)+1,u=r.shiftPoint(t,n,s*4),f=r.shiftPoint(i,n,a*4);a=this.transitionsBetween(u,o)+1,s=this.transitionsBetween(f,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var c=(t.getX()+n.getX()+i.getX()+o.getX())/4,l=(t.getY()+n.getY()+i.getY()+o.getY())/4;t=r.moveAway(t,c,l),n=r.moveAway(n,c,l),i=r.moveAway(i,c,l),o=r.moveAway(o,c,l);var g,y;return u=r.shiftPoint(t,n,s*4),u=r.shiftPoint(u,o,a*4),g=r.shiftPoint(n,t,s*4),g=r.shiftPoint(g,i,a*4),f=r.shiftPoint(i,o,s*4),f=r.shiftPoint(f,n,a*4),y=r.shiftPoint(o,i,s*4),y=r.shiftPoint(y,t,a*4),[u,g,f,y]},r.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},r.sampleGrid=function(e,t,n,i,o,a,s){var u=NSe.default.getInstance();return u.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,t.getX(),t.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},r.prototype.transitionsBetween=function(e,t){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),s=Math.abs(a-i)>Math.abs(o-n);if(s){var u=n;n=i,i=u,u=o,o=a,a=u}for(var f=Math.abs(o-n),c=Math.abs(a-i),l=-f/2,g=i<a?1:-1,y=n<o?1:-1,b=0,D=this.image.get(s?i:n,s?n:i),M=n,k=i;M!==o;M+=y){var N=this.image.get(s?k:M,s?M:k);if(N!==D&&(b++,D=N),l+=c,l>0){if(k===a)break;k+=g,l-=f}}return b},r}();CR.default=qSe});var BC=T(ER=>{h();p();Object.defineProperty(ER,"__esModule",{value:!0});var FSe=br(),LSe=Oa(),USe=$i(),RC=_t(),jSe=Zi(),$J=Yf(),HSe=bn(),KSe=XJ(),VSe=JJ(),zSe=function(){function r(){this.decoder=new KSe.default}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n,i;if(t!=null&&t.has(USe.default.PURE_BARCODE)){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=r.NO_POINTS}else{var a=new VSe.default(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),u=new jSe.default(n.getText(),s,8*s.length,i,FSe.default.DATA_MATRIX,HSe.default.currentTimeMillis()),f=n.getByteSegments();f!=null&&u.putMetadata($J.default.BYTE_SEGMENTS,f);var c=n.getECLevel();return c!=null&&u.putMetadata($J.default.ERROR_CORRECTION_LEVEL,c),u},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new RC.default;var i=this.moduleSize(t,e),o=t[1],a=n[1],s=t[0],u=n[0],f=(u-s+1)/i,c=(a-o+1)/i;if(f<=0||c<=0)throw new RC.default;var l=i/2;o+=l,s+=l;for(var g=new LSe.default(f,c),y=0;y<c;y++)for(var b=o+y*i,D=0;D<f;D++)e.get(s+D*i,b)&&g.set(D,y);return g},r.moduleSize=function(e,t){for(var n=t.getWidth(),i=e[0],o=e[1];i<n&&t.get(i,o);)i++;if(i===n)throw new RC.default;var a=i-e[0];if(a===0)throw new RC.default;return a},r.NO_POINTS=[],r}();ER.default=zSe});var ZJ=T($m=>{h();p();var GSe=$m&&$m.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($m,"__esModule",{value:!0});$m.BrowserDatamatrixCodeReader=void 0;var YSe=ol(),WSe=BC(),XSe=function(r){GSe(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new WSe.default,t)||this}return e}(YSe.BrowserCodeReader);$m.BrowserDatamatrixCodeReader=XSe});var j_=T(Zm=>{h();p();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.ErrorCorrectionLevelValues=void 0;var JSe=$S(),$Se=Vt(),U_;(function(r){r[r.L=0]="L",r[r.M=1]="M",r[r.Q=2]="Q",r[r.H=3]="H"})(U_=Zm.ErrorCorrectionLevelValues||(Zm.ErrorCorrectionLevelValues={}));var ZSe=function(){function r(e,t,n){this.value=e,this.stringValue=t,this.bits=n,r.FOR_BITS.set(n,this),r.FOR_VALUE.set(e,this)}return r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.fromString=function(e){switch(e){case"L":return r.L;case"M":return r.M;case"Q":return r.Q;case"H":return r.H;default:throw new JSe.default(e+"not available")}},r.prototype.toString=function(){return this.stringValue},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.forBits=function(e){if(e<0||e>=r.FOR_BITS.size)throw new $Se.default;return r.FOR_BITS.get(e)},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.L=new r(U_.L,"L",1),r.M=new r(U_.M,"M",0),r.Q=new r(U_.Q,"Q",3),r.H=new r(U_.H,"H",2),r}();Zm.default=ZSe});var PC=T(H_=>{h();p();var QSe=H_&&H_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(H_,"__esModule",{value:!0});var eCe=j_(),tCe=na(),rCe=function(){function r(e){this.errorCorrectionLevel=eCe.default.forBits(e>>3&3),this.dataMask=e&7}return r.numBitsDiffering=function(e,t){return tCe.default.bitCount(e^t)},r.decodeFormatInformation=function(e,t){var n=r.doDecodeFormatInformation(e,t);return n!==null?n:r.doDecodeFormatInformation(e^r.FORMAT_INFO_MASK_QR,t^r.FORMAT_INFO_MASK_QR)},r.doDecodeFormatInformation=function(e,t){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=QSe(r.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,c=f[0];if(c===e||c===t)return new r(f[1]);var l=r.numBitsDiffering(e,c);l<o&&(a=f[1],o=l),e!==t&&(l=r.numBitsDiffering(t,c),l<o&&(a=f[1],o=l))}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new r(a):null},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getDataMask=function(){return this.dataMask},r.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},r.FORMAT_INFO_MASK_QR=21522,r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],r}();H_.default=rCe});var QJ=T(K_=>{h();p();var nCe=K_&&K_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(K_,"__esModule",{value:!0});var iCe=function(){function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return r.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},r.prototype.getNumBlocks=function(){var e,t,n=0,i=this.ecBlocks;try{for(var o=nCe(i),a=o.next();!a.done;a=o.next()){var s=a.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n},r.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},r.prototype.getECBlocks=function(){return this.ecBlocks},r}();K_.default=iCe});var e$=T(IR=>{h();p();Object.defineProperty(IR,"__esModule",{value:!0});var oCe=function(){function r(e,t){this.count=e,this.dataCodewords=t}return r.prototype.getCount=function(){return this.count},r.prototype.getDataCodewords=function(){return this.dataCodewords},r}();IR.default=oCe});var z_=T(V_=>{h();p();var aCe=V_&&V_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(V_,"__esModule",{value:!0});var sCe=Oa(),uCe=PC(),ae=QJ(),$=e$(),t$=qr(),fCe=Vt(),cCe=function(){function r(e,t){for(var n,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=o;var s=0,u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();try{for(var c=aCe(f),l=c.next();!l.done;l=c.next()){var g=l.value;s+=g.getCount()*(g.getDataCodewords()+u)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return r.prototype.getVersionNumber=function(){return this.versionNumber},r.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},r.prototype.getTotalCodewords=function(){return this.totalCodewords},r.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},r.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},r.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new t$.default;try{return this.getVersionForNumber((e-17)/4)}catch{throw new t$.default}},r.getVersionForNumber=function(e){if(e<1||e>40)throw new fCe.default;return r.VERSIONS[e-1]},r.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var o=r.VERSION_DECODE_INFO[i];if(o===e)return r.getVersionForNumber(i+7);var a=uCe.default.numBitsDiffering(e,o);a<t&&(n=i+7,t=a)}return t<=3?r.getVersionForNumber(n):null},r.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new sCe.default(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},r.prototype.toString=function(){return""+this.versionNumber},r.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),r.VERSIONS=[new r(1,new Int32Array(0),new ae.default(7,new $.default(1,19)),new ae.default(10,new $.default(1,16)),new ae.default(13,new $.default(1,13)),new ae.default(17,new $.default(1,9))),new r(2,Int32Array.from([6,18]),new ae.default(10,new $.default(1,34)),new ae.default(16,new $.default(1,28)),new ae.default(22,new $.default(1,22)),new ae.default(28,new $.default(1,16))),new r(3,Int32Array.from([6,22]),new ae.default(15,new $.default(1,55)),new ae.default(26,new $.default(1,44)),new ae.default(18,new $.default(2,17)),new ae.default(22,new $.default(2,13))),new r(4,Int32Array.from([6,26]),new ae.default(20,new $.default(1,80)),new ae.default(18,new $.default(2,32)),new ae.default(26,new $.default(2,24)),new ae.default(16,new $.default(4,9))),new r(5,Int32Array.from([6,30]),new ae.default(26,new $.default(1,108)),new ae.default(24,new $.default(2,43)),new ae.default(18,new $.default(2,15),new $.default(2,16)),new ae.default(22,new $.default(2,11),new $.default(2,12))),new r(6,Int32Array.from([6,34]),new ae.default(18,new $.default(2,68)),new ae.default(16,new $.default(4,27)),new ae.default(24,new $.default(4,19)),new ae.default(28,new $.default(4,15))),new r(7,Int32Array.from([6,22,38]),new ae.default(20,new $.default(2,78)),new ae.default(18,new $.default(4,31)),new ae.default(18,new $.default(2,14),new $.default(4,15)),new ae.default(26,new $.default(4,13),new $.default(1,14))),new r(8,Int32Array.from([6,24,42]),new ae.default(24,new $.default(2,97)),new ae.default(22,new $.default(2,38),new $.default(2,39)),new ae.default(22,new $.default(4,18),new $.default(2,19)),new ae.default(26,new $.default(4,14),new $.default(2,15))),new r(9,Int32Array.from([6,26,46]),new ae.default(30,new $.default(2,116)),new ae.default(22,new $.default(3,36),new $.default(2,37)),new ae.default(20,new $.default(4,16),new $.default(4,17)),new ae.default(24,new $.default(4,12),new $.default(4,13))),new r(10,Int32Array.from([6,28,50]),new ae.default(18,new $.default(2,68),new $.default(2,69)),new ae.default(26,new $.default(4,43),new $.default(1,44)),new ae.default(24,new $.default(6,19),new $.default(2,20)),new ae.default(28,new $.default(6,15),new $.default(2,16))),new r(11,Int32Array.from([6,30,54]),new ae.default(20,new $.default(4,81)),new ae.default(30,new $.default(1,50),new $.default(4,51)),new ae.default(28,new $.default(4,22),new $.default(4,23)),new ae.default(24,new $.default(3,12),new $.default(8,13))),new r(12,Int32Array.from([6,32,58]),new ae.default(24,new $.default(2,92),new $.default(2,93)),new ae.default(22,new $.default(6,36),new $.default(2,37)),new ae.default(26,new $.default(4,20),new $.default(6,21)),new ae.default(28,new $.default(7,14),new $.default(4,15))),new r(13,Int32Array.from([6,34,62]),new ae.default(26,new $.default(4,107)),new ae.default(22,new $.default(8,37),new $.default(1,38)),new ae.default(24,new $.default(8,20),new $.default(4,21)),new ae.default(22,new $.default(12,11),new $.default(4,12))),new r(14,Int32Array.from([6,26,46,66]),new ae.default(30,new $.default(3,115),new $.default(1,116)),new ae.default(24,new $.default(4,40),new $.default(5,41)),new ae.default(20,new $.default(11,16),new $.default(5,17)),new ae.default(24,new $.default(11,12),new $.default(5,13))),new r(15,Int32Array.from([6,26,48,70]),new ae.default(22,new $.default(5,87),new $.default(1,88)),new ae.default(24,new $.default(5,41),new $.default(5,42)),new ae.default(30,new $.default(5,24),new $.default(7,25)),new ae.default(24,new $.default(11,12),new $.default(7,13))),new r(16,Int32Array.from([6,26,50,74]),new ae.default(24,new $.default(5,98),new $.default(1,99)),new ae.default(28,new $.default(7,45),new $.default(3,46)),new ae.default(24,new $.default(15,19),new $.default(2,20)),new ae.default(30,new $.default(3,15),new $.default(13,16))),new r(17,Int32Array.from([6,30,54,78]),new ae.default(28,new $.default(1,107),new $.default(5,108)),new ae.default(28,new $.default(10,46),new $.default(1,47)),new ae.default(28,new $.default(1,22),new $.default(15,23)),new ae.default(28,new $.default(2,14),new $.default(17,15))),new r(18,Int32Array.from([6,30,56,82]),new ae.default(30,new $.default(5,120),new $.default(1,121)),new ae.default(26,new $.default(9,43),new $.default(4,44)),new ae.default(28,new $.default(17,22),new $.default(1,23)),new ae.default(28,new $.default(2,14),new $.default(19,15))),new r(19,Int32Array.from([6,30,58,86]),new ae.default(28,new $.default(3,113),new $.default(4,114)),new ae.default(26,new $.default(3,44),new $.default(11,45)),new ae.default(26,new $.default(17,21),new $.default(4,22)),new ae.default(26,new $.default(9,13),new $.default(16,14))),new r(20,Int32Array.from([6,34,62,90]),new ae.default(28,new $.default(3,107),new $.default(5,108)),new ae.default(26,new $.default(3,41),new $.default(13,42)),new ae.default(30,new $.default(15,24),new $.default(5,25)),new ae.default(28,new $.default(15,15),new $.default(10,16))),new r(21,Int32Array.from([6,28,50,72,94]),new ae.default(28,new $.default(4,116),new $.default(4,117)),new ae.default(26,new $.default(17,42)),new ae.default(28,new $.default(17,22),new $.default(6,23)),new ae.default(30,new $.default(19,16),new $.default(6,17))),new r(22,Int32Array.from([6,26,50,74,98]),new ae.default(28,new $.default(2,111),new $.default(7,112)),new ae.default(28,new $.default(17,46)),new ae.default(30,new $.default(7,24),new $.default(16,25)),new ae.default(24,new $.default(34,13))),new r(23,Int32Array.from([6,30,54,78,102]),new ae.default(30,new $.default(4,121),new $.default(5,122)),new ae.default(28,new $.default(4,47),new $.default(14,48)),new ae.default(30,new $.default(11,24),new $.default(14,25)),new ae.default(30,new $.default(16,15),new $.default(14,16))),new r(24,Int32Array.from([6,28,54,80,106]),new ae.default(30,new $.default(6,117),new $.default(4,118)),new ae.default(28,new $.default(6,45),new $.default(14,46)),new ae.default(30,new $.default(11,24),new $.default(16,25)),new ae.default(30,new $.default(30,16),new $.default(2,17))),new r(25,Int32Array.from([6,32,58,84,110]),new ae.default(26,new $.default(8,106),new $.default(4,107)),new ae.default(28,new $.default(8,47),new $.default(13,48)),new ae.default(30,new $.default(7,24),new $.default(22,25)),new ae.default(30,new $.default(22,15),new $.default(13,16))),new r(26,Int32Array.from([6,30,58,86,114]),new ae.default(28,new $.default(10,114),new $.default(2,115)),new ae.default(28,new $.default(19,46),new $.default(4,47)),new ae.default(28,new $.default(28,22),new $.default(6,23)),new ae.default(30,new $.default(33,16),new $.default(4,17))),new r(27,Int32Array.from([6,34,62,90,118]),new ae.default(30,new $.default(8,122),new $.default(4,123)),new ae.default(28,new $.default(22,45),new $.default(3,46)),new ae.default(30,new $.default(8,23),new $.default(26,24)),new ae.default(30,new $.default(12,15),new $.default(28,16))),new r(28,Int32Array.from([6,26,50,74,98,122]),new ae.default(30,new $.default(3,117),new $.default(10,118)),new ae.default(28,new $.default(3,45),new $.default(23,46)),new ae.default(30,new $.default(4,24),new $.default(31,25)),new ae.default(30,new $.default(11,15),new $.default(31,16))),new r(29,Int32Array.from([6,30,54,78,102,126]),new ae.default(30,new $.default(7,116),new $.default(7,117)),new ae.default(28,new $.default(21,45),new $.default(7,46)),new ae.default(30,new $.default(1,23),new $.default(37,24)),new ae.default(30,new $.default(19,15),new $.default(26,16))),new r(30,Int32Array.from([6,26,52,78,104,130]),new ae.default(30,new $.default(5,115),new $.default(10,116)),new ae.default(28,new $.default(19,47),new $.default(10,48)),new ae.default(30,new $.default(15,24),new $.default(25,25)),new ae.default(30,new $.default(23,15),new $.default(25,16))),new r(31,Int32Array.from([6,30,56,82,108,134]),new ae.default(30,new $.default(13,115),new $.default(3,116)),new ae.default(28,new $.default(2,46),new $.default(29,47)),new ae.default(30,new $.default(42,24),new $.default(1,25)),new ae.default(30,new $.default(23,15),new $.default(28,16))),new r(32,Int32Array.from([6,34,60,86,112,138]),new ae.default(30,new $.default(17,115)),new ae.default(28,new $.default(10,46),new $.default(23,47)),new ae.default(30,new $.default(10,24),new $.default(35,25)),new ae.default(30,new $.default(19,15),new $.default(35,16))),new r(33,Int32Array.from([6,30,58,86,114,142]),new ae.default(30,new $.default(17,115),new $.default(1,116)),new ae.default(28,new $.default(14,46),new $.default(21,47)),new ae.default(30,new $.default(29,24),new $.default(19,25)),new ae.default(30,new $.default(11,15),new $.default(46,16))),new r(34,Int32Array.from([6,34,62,90,118,146]),new ae.default(30,new $.default(13,115),new $.default(6,116)),new ae.default(28,new $.default(14,46),new $.default(23,47)),new ae.default(30,new $.default(44,24),new $.default(7,25)),new ae.default(30,new $.default(59,16),new $.default(1,17))),new r(35,Int32Array.from([6,30,54,78,102,126,150]),new ae.default(30,new $.default(12,121),new $.default(7,122)),new ae.default(28,new $.default(12,47),new $.default(26,48)),new ae.default(30,new $.default(39,24),new $.default(14,25)),new ae.default(30,new $.default(22,15),new $.default(41,16))),new r(36,Int32Array.from([6,24,50,76,102,128,154]),new ae.default(30,new $.default(6,121),new $.default(14,122)),new ae.default(28,new $.default(6,47),new $.default(34,48)),new ae.default(30,new $.default(46,24),new $.default(10,25)),new ae.default(30,new $.default(2,15),new $.default(64,16))),new r(37,Int32Array.from([6,28,54,80,106,132,158]),new ae.default(30,new $.default(17,122),new $.default(4,123)),new ae.default(28,new $.default(29,46),new $.default(14,47)),new ae.default(30,new $.default(49,24),new $.default(10,25)),new ae.default(30,new $.default(24,15),new $.default(46,16))),new r(38,Int32Array.from([6,32,58,84,110,136,162]),new ae.default(30,new $.default(4,122),new $.default(18,123)),new ae.default(28,new $.default(13,46),new $.default(32,47)),new ae.default(30,new $.default(48,24),new $.default(14,25)),new ae.default(30,new $.default(42,15),new $.default(32,16))),new r(39,Int32Array.from([6,26,54,82,110,138,166]),new ae.default(30,new $.default(20,117),new $.default(4,118)),new ae.default(28,new $.default(40,47),new $.default(7,48)),new ae.default(30,new $.default(43,24),new $.default(22,25)),new ae.default(30,new $.default(10,15),new $.default(67,16))),new r(40,Int32Array.from([6,30,58,86,114,142,170]),new ae.default(30,new $.default(19,118),new $.default(6,119)),new ae.default(28,new $.default(18,47),new $.default(31,48)),new ae.default(30,new $.default(34,24),new $.default(34,25)),new ae.default(30,new $.default(20,15),new $.default(61,16)))],r}();V_.default=cCe});var TR=T(Qm=>{h();p();Object.defineProperty(Qm,"__esModule",{value:!0});Qm.DataMaskValues=void 0;var Xn;(function(r){r[r.DATA_MASK_000=0]="DATA_MASK_000",r[r.DATA_MASK_001=1]="DATA_MASK_001",r[r.DATA_MASK_010=2]="DATA_MASK_010",r[r.DATA_MASK_011=3]="DATA_MASK_011",r[r.DATA_MASK_100=4]="DATA_MASK_100",r[r.DATA_MASK_101=5]="DATA_MASK_101",r[r.DATA_MASK_110=6]="DATA_MASK_110",r[r.DATA_MASK_111=7]="DATA_MASK_111"})(Xn=Qm.DataMaskValues||(Qm.DataMaskValues={}));var dCe=function(){function r(e,t){this.value=e,this.isMasked=t}return r.prototype.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},r.values=new Map([[Xn.DATA_MASK_000,new r(Xn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Xn.DATA_MASK_001,new r(Xn.DATA_MASK_001,function(e,t){return(e&1)===0})],[Xn.DATA_MASK_010,new r(Xn.DATA_MASK_010,function(e,t){return t%3===0})],[Xn.DATA_MASK_011,new r(Xn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Xn.DATA_MASK_100,new r(Xn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Xn.DATA_MASK_101,new r(Xn.DATA_MASK_101,function(e,t){return e*t%6===0})],[Xn.DATA_MASK_110,new r(Xn.DATA_MASK_110,function(e,t){return e*t%6<3})],[Xn.DATA_MASK_111,new r(Xn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),r}();Qm.default=dCe});var n$=T(OR=>{h();p();Object.defineProperty(OR,"__esModule",{value:!0});var AR=z_(),lCe=PC(),r$=TR(),MC=qr(),hCe=function(){function r(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new MC.default;this.bitMatrix=e}return r.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,a=i-7,n=i-1;n>=a;n--)o=this.copyBit(8,n,o);for(var t=i-8;t<i;t++)o=this.copyBit(t,8,o);if(this.parsedFormatInfo=lCe.default.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new MC.default},r.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return AR.default.getVersionForNumber(t);for(var n=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,o,n);var s=AR.default.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(s=AR.default.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new MC.default},r.prototype.copyBit=function(e,t,n){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?n<<1|1:n<<1},r.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=r$.default.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=t.buildFunctionPattern(),a=!0,s=new Uint8Array(t.getTotalCodewords()),u=0,f=0,c=0,l=i-1;l>0;l-=2){l===6&&l--;for(var g=0;g<i;g++)for(var y=a?i-1-g:g,b=0;b<2;b++)o.get(l-b,y)||(c++,f<<=1,this.bitMatrix.get(l-b,y)&&(f|=1),c===8&&(s[u++]=f,c=0,f=0));a=!a}if(u!==t.getTotalCodewords())throw new MC.default;return s},r.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=r$.default.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},r.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},r.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,n=e.getWidth();t<n;t++)for(var i=t+1,o=e.getHeight();i<o;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},r}();OR.default=hCe});var o$=T(G_=>{h();p();var i$=G_&&G_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(G_,"__esModule",{value:!0});var pCe=Vt(),gCe=function(){function r(e,t){this.numDataCodewords=e,this.codewords=t}return r.getDataBlocks=function(e,t,n){var i,o,a,s;if(e.length!==t.getTotalCodewords())throw new pCe.default;var u=t.getECBlocksForLevel(n),f=0,c=u.getECBlocks();try{for(var l=i$(c),g=l.next();!g.done;g=l.next()){var y=g.value;f+=y.getCount()}}catch(_){i={error:_}}finally{try{g&&!g.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var b=new Array(f),D=0;try{for(var M=i$(c),k=M.next();!k.done;k=M.next())for(var y=k.value,N=0;N<y.getCount();N++){var K=y.getDataCodewords(),X=u.getECCodewordsPerBlock()+K;b[D++]=new r(K,new Uint8Array(X))}}catch(_){a={error:_}}finally{try{k&&!k.done&&(s=M.return)&&s.call(M)}finally{if(a)throw a.error}}for(var q=b[0].codewords.length,d=b.length-1;d>=0;){var v=b[d].codewords.length;if(v===q)break;d--}d++;for(var w=q-u.getECCodewordsPerBlock(),I=0,N=0;N<w;N++)for(var x=0;x<D;x++)b[x].codewords[N]=e[I++];for(var x=d;x<D;x++)b[x].codewords[w]=e[I++];for(var B=b[0].codewords.length,N=w;N<B;N++)for(var x=0;x<D;x++){var E=x<d?N:N+1;b[x].codewords[E]=e[I++]}return b},r.prototype.getNumDataCodewords=function(){return this.numDataCodewords},r.prototype.getCodewords=function(){return this.codewords},r}();G_.default=gCe});var NC=T(ey=>{h();p();Object.defineProperty(ey,"__esModule",{value:!0});ey.ModeValues=void 0;var mCe=Vt(),Zu;(function(r){r[r.TERMINATOR=0]="TERMINATOR",r[r.NUMERIC=1]="NUMERIC",r[r.ALPHANUMERIC=2]="ALPHANUMERIC",r[r.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",r[r.BYTE=4]="BYTE",r[r.ECI=5]="ECI",r[r.KANJI=6]="KANJI",r[r.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",r[r.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",r[r.HANZI=9]="HANZI"})(Zu=ey.ModeValues||(ey.ModeValues={}));var yCe=function(){function r(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,r.FOR_BITS.set(i,this),r.FOR_VALUE.set(e,this)}return r.forBits=function(e){var t=r.FOR_BITS.get(e);if(t===void 0)throw new mCe.default;return t},r.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]},r.prototype.getValue=function(){return this.value},r.prototype.getBits=function(){return this.bits},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;return this.value===t.value},r.prototype.toString=function(){return this.stringValue},r.FOR_BITS=new Map,r.FOR_VALUE=new Map,r.TERMINATOR=new r(Zu.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),r.NUMERIC=new r(Zu.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),r.ALPHANUMERIC=new r(Zu.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),r.STRUCTURED_APPEND=new r(Zu.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),r.BYTE=new r(Zu.BYTE,"BYTE",Int32Array.from([8,16,16]),4),r.ECI=new r(Zu.ECI,"ECI",Int32Array.from([0,0,0]),7),r.KANJI=new r(Zu.KANJI,"KANJI",Int32Array.from([8,10,12]),8),r.FNC1_FIRST_POSITION=new r(Zu.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),r.FNC1_SECOND_POSITION=new r(Zu.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),r.HANZI=new r(Zu.HANZI,"HANZI",Int32Array.from([8,10,12]),13),r}();ey.default=yCe});var PR=T(BR=>{h();p();Object.defineProperty(BR,"__esModule",{value:!0});var vCe=OC(),_Ce=e0(),xCe=Hm(),DR=Ju(),Zr=qr(),bCe=Jr(),RR=H1(),Ba=NC(),wCe=function(){function r(){}return r.decode=function(e,t,n,i){var o=new vCe.default(e),a=new bCe.default,s=new Array,u=-1,f=-1;try{var c=null,l=!1,g=void 0;do{if(o.available()<4)g=Ba.default.TERMINATOR;else{var y=o.readBits(4);g=Ba.default.forBits(y)}switch(g){case Ba.default.TERMINATOR:break;case Ba.default.FNC1_FIRST_POSITION:case Ba.default.FNC1_SECOND_POSITION:l=!0;break;case Ba.default.STRUCTURED_APPEND:if(o.available()<16)throw new Zr.default;u=o.readBits(8),f=o.readBits(8);break;case Ba.default.ECI:var b=r.parseECIValue(o);if(c=_Ce.default.getCharacterSetECIByValue(b),c===null)throw new Zr.default;break;case Ba.default.HANZI:var D=o.readBits(4),M=o.readBits(g.getCharacterCountBits(t));D===r.GB2312_SUBSET&&r.decodeHanziSegment(o,a,M);break;default:var k=o.readBits(g.getCharacterCountBits(t));switch(g){case Ba.default.NUMERIC:r.decodeNumericSegment(o,a,k);break;case Ba.default.ALPHANUMERIC:r.decodeAlphanumericSegment(o,a,k,l);break;case Ba.default.BYTE:r.decodeByteSegment(o,a,k,c,s,i);break;case Ba.default.KANJI:r.decodeKanjiSegment(o,a,k);break;default:throw new Zr.default}break}}while(g!==Ba.default.TERMINATOR)}catch{throw new Zr.default}return new xCe.default(e,a.toString(),s.length===0?null:s,n===null?null:n.toString(),u,f)},r.decodeHanziSegment=function(e,t,n){if(n*13>e.available())throw new Zr.default;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,i[o]=s>>8&255,i[o+1]=s&255,o+=2,n--}try{t.append(RR.default.decode(i,DR.default.GB2312))}catch(u){throw new Zr.default(u)}},r.decodeKanjiSegment=function(e,t,n){if(n*13>e.available())throw new Zr.default;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{t.append(RR.default.decode(i,DR.default.SHIFT_JIS))}catch(u){throw new Zr.default(u)}},r.decodeByteSegment=function(e,t,n,i,o,a){if(8*n>e.available())throw new Zr.default;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var f;i===null?f=DR.default.guessEncoding(s,a):f=i.getName();try{t.append(RR.default.decode(s,f))}catch(c){throw new Zr.default(c)}o.push(s)},r.toAlphaNumericChar=function(e){if(e>=r.ALPHANUMERIC_CHARS.length)throw new Zr.default;return r.ALPHANUMERIC_CHARS[e]},r.decodeAlphanumericSegment=function(e,t,n,i){for(var o=t.length();n>1;){if(e.available()<11)throw new Zr.default;var a=e.readBits(11);t.append(r.toAlphaNumericChar(Math.floor(a/45))),t.append(r.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new Zr.default;t.append(r.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,String.fromCharCode(29)))},r.decodeNumericSegment=function(e,t,n){for(;n>=3;){if(e.available()<10)throw new Zr.default;var i=e.readBits(10);if(i>=1e3)throw new Zr.default;t.append(r.toAlphaNumericChar(Math.floor(i/100))),t.append(r.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(r.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Zr.default;var o=e.readBits(7);if(o>=100)throw new Zr.default;t.append(r.toAlphaNumericChar(Math.floor(o/10))),t.append(r.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new Zr.default;var a=e.readBits(4);if(a>=10)throw new Zr.default;t.append(r.toAlphaNumericChar(a))}},r.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new Zr.default},r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",r.GB2312_SUBSET=1,r}();BR.default=wCe});var NR=T(MR=>{h();p();Object.defineProperty(MR,"__esModule",{value:!0});var SCe=function(){function r(e){this.mirrored=e}return r.prototype.isMirrored=function(){return this.mirrored},r.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},r}();MR.default=SCe});var s$=T(Y_=>{h();p();var a$=Y_&&Y_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Y_,"__esModule",{value:!0});var CCe=Wu(),ECe=Oa(),ICe=r0(),TCe=Vm(),ACe=n$(),OCe=o$(),DCe=PR(),RCe=NR(),BCe=function(){function r(){this.rsDecoder=new TCe.default(ICe.default.QR_CODE_FIELD_256)}return r.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ECe.default.parseFromBooleanArray(e),t)},r.prototype.decodeBitMatrix=function(e,t){var n=new ACe.default(e),i=null;try{return this.decodeBitMatrixParser(n,t)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,t);return o.setOther(new RCe.default(!0)),o}catch(a){throw i!==null?i:a}},r.prototype.decodeBitMatrixParser=function(e,t){var n,i,o,a,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),c=OCe.default.getDataBlocks(f,s,u),l=0;try{for(var g=a$(c),y=g.next();!y.done;y=g.next()){var b=y.value;l+=b.getNumDataCodewords()}}catch(d){n={error:d}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var D=new Uint8Array(l),M=0;try{for(var k=a$(c),N=k.next();!N.done;N=k.next()){var b=N.value,K=b.getCodewords(),X=b.getNumDataCodewords();this.correctErrors(K,X);for(var q=0;q<X;q++)D[M++]=K[q]}}catch(d){o={error:d}}finally{try{N&&!N.done&&(a=k.return)&&a.call(k)}finally{if(o)throw o.error}}return DCe.default.decode(D,s,u,t)},r.prototype.correctErrors=function(e,t){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new CCe.default}for(var i=0;i<t;i++)e[i]=n[i]},r}();Y_.default=BCe});var u$=T(W_=>{h();p();var PCe=W_&&W_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(W_,"__esModule",{value:!0});var MCe=$r(),NCe=function(r){PCe(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var o=(this.getX()+n)/2,a=(this.getY()+t)/2,s=(this.estimatedModuleSize+i)/2;return new e(o,a,s)},e}(MCe.default);W_.default=NCe});var f$=T(X_=>{h();p();var kCe=X_&&X_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(X_,"__esModule",{value:!0});var qCe=u$(),FCe=_t(),LCe=function(){function r(e,t,n,i,o,a,s){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return r.prototype.find=function(){for(var e=this.startX,t=this.height,n=this.width,i=e+n,o=this.startY+t/2,a=new Int32Array(3),s=this.image,u=0;u<t;u++){var f=o+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var c=e;c<i&&!s.get(c,f);)c++;for(var l=0;c<i;){if(s.get(c,f))if(l===1)a[1]++;else if(l===2){if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,f,c);if(g!==null)return g}a[0]=a[2],a[1]=1,a[2]=0,l=1}else a[++l]++;else l===1&&l++,a[l]++;c++}if(this.foundPatternCross(a)){var g=this.handlePossibleCenter(a,f,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new FCe.default},r.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},r.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},r.prototype.crossCheckVertical=function(e,t,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&o.get(t,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!o.get(t,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(t,u)&&s[1]<=n;)s[1]++,u++;if(u===a||s[1]>n)return NaN;for(;u<a&&!o.get(t,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.handlePossibleCenter=function(e,t,n){var i,o,a=e[0]+e[1]+e[2],s=r.centerFromEnd(e,n),u=this.crossCheckVertical(t,s,2*e[1],a);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var c=kCe(this.possibleCenters),l=c.next();!l.done;l=c.next()){var g=l.value;if(g.aboutEquals(f,u,s))return g.combineEstimate(u,s,f)}}catch(b){i={error:b}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}var y=new qCe.default(s,u,f);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null},r}();X_.default=LCe});var c$=T(J_=>{h();p();var UCe=J_&&J_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(J_,"__esModule",{value:!0});var jCe=$r(),HCe=function(r){UCe(e,r);function e(t,n,i,o){var a=r.call(this,t,n)||this;return a.estimatedModuleSize=i,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){var o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,i){var o=this.count+1,a=(this.count*this.getX()+n)/o,s=(this.count*this.getY()+t)/o,u=(this.count*this.estimatedModuleSize+i)/o;return new e(a,s,u,o)},e}(jCe.default);J_.default=HCe});var d$=T(kR=>{h();p();Object.defineProperty(kR,"__esModule",{value:!0});var KCe=function(){function r(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r}();kR.default=KCe});var h$=T(Z_=>{h();p();var $_=Z_&&Z_.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Z_,"__esModule",{value:!0});var l$=$i(),VCe=$r(),zCe=c$(),GCe=d$(),YCe=_t(),WCe=function(){function r(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return r.prototype.getImage=function(){return this.image},r.prototype.getPossibleCenters=function(){return this.possibleCenters},r.prototype.find=function(e){var t=e!=null&&e.get(l$.default.TRY_HARDER)!==void 0,n=e!=null&&e.get(l$.default.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*r.MAX_MODULES));(s<r.MIN_SKIP||t)&&(s=r.MIN_SKIP);for(var u=!1,f=new Int32Array(5),c=s-1;c<o&&!u;c+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var l=0,g=0;g<a;g++)if(i.get(g,c))(l&1)===1&&l++,f[l]++;else if((l&1)===0)if(l===4)if(r.foundPatternCross(f)){var y=this.handlePossibleCenter(f,c,g,n);if(y===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var b=this.findRowSkip();b>f[2]&&(c+=b-f[2]-s,g=a-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,l=3;continue}l=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,l=3;else f[++l]++;else f[l]++;if(r.foundPatternCross(f)){var y=this.handlePossibleCenter(f,c,a,n);y===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var D=this.selectBestPatterns();return VCe.default.orderBestPatterns(D),new GCe.default(D)},r.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},r.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;t+=i}if(t<7)return!1;var o=t/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},r.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},r.prototype.crossCheckDiagonal=function(e,t,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&t>=a&&s.get(t-a,e-a);)o[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!s.get(t-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||t<a||o[1]>n)return!1;for(;e>=a&&t>=a&&s.get(t-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var u=s.getHeight(),f=s.getWidth();for(a=1;e+a<u&&t+a<f&&s.get(t+a,e+a);)o[2]++,a++;if(e+a>=u||t+a>=f)return!1;for(;e+a<u&&t+a<f&&!s.get(t+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=u||t+a>=f||o[3]>=n)return!1;for(;e+a<u&&t+a<f&&s.get(t+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var c=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(c-i)<2*i&&r.foundPatternCross(o)},r.prototype.crossCheckVertical=function(e,t,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(t,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(t,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&o.get(t,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(t,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(t,u)&&s[3]<n;)s[3]++,u++;if(u===a||s[3]>=n)return NaN;for(;u<a&&o.get(t,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.crossCheckHorizontal=function(e,t,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,t);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,t)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&o.get(u,t)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<a&&o.get(u,t);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,t)&&s[3]<n;)s[3]++,u++;if(u===a||s[3]>=n)return NaN;for(;u<a&&o.get(u,t)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:r.foundPatternCross(s)?r.centerFromEnd(s,u):NaN},r.prototype.handlePossibleCenter=function(e,t,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=r.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var u=o/7,f=!1,c=this.possibleCenters,l=0,g=c.length;l<g;l++){var y=c[l];if(y.aboutEquals(u,s,a)){c[l]=y.combineEstimate(s,a,u),f=!0;break}}if(!f){var b=new zCe.default(a,s,u);c.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1},r.prototype.findRowSkip=function(){var e,t,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=$_(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=r.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return 0},r.prototype.haveMultiplyConfirmedCenters=function(){var e,t,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var u=$_(this.possibleCenters),f=u.next();!f.done;f=u.next()){var c=f.value;c.getCount()>=r.CENTER_QUORUM&&(o++,a+=c.getEstimatedModuleSize())}}catch(D){e={error:D}}finally{try{f&&!f.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}if(o<3)return!1;var l=a/s,g=0;try{for(var y=$_(this.possibleCenters),b=y.next();!b.done;b=y.next()){var c=b.value;g+=Math.abs(c.getEstimatedModuleSize()-l)}}catch(D){n={error:D}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return g<=.05*a},r.prototype.selectBestPatterns=function(){var e,t,n,i,o=this.possibleCenters.length;if(o<3)throw new YCe.default;var a=this.possibleCenters,s;if(o>3){var u=0,f=0;try{for(var c=$_(this.possibleCenters),l=c.next();!l.done;l=c.next()){var g=l.value,y=g.getEstimatedModuleSize();u+=y,f+=y*y}}catch(q){e={error:q}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}s=u/o;var b=Math.sqrt(f/o-s*s);a.sort(function(q,d){var v=Math.abs(d.getEstimatedModuleSize()-s),w=Math.abs(q.getEstimatedModuleSize()-s);return v<w?-1:v>w?1:0});for(var D=Math.max(.2*s,b),M=0;M<a.length&&a.length>3;M++){var k=a[M];Math.abs(k.getEstimatedModuleSize()-s)>D&&(a.splice(M,1),M--)}}if(a.length>3){var u=0;try{for(var N=$_(a),K=N.next();!K.done;K=N.next()){var X=K.value;u+=X.getEstimatedModuleSize()}}catch(d){n={error:d}}finally{try{K&&!K.done&&(i=N.return)&&i.call(N)}finally{if(n)throw n.error}}s=u/a.length,a.sort(function(d,v){if(v.getCount()===d.getCount()){var w=Math.abs(v.getEstimatedModuleSize()-s),I=Math.abs(d.getEstimatedModuleSize()-s);return w<I?1:w>I?-1:0}else return v.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},r.CENTER_QUORUM=2,r.MIN_SKIP=3,r.MAX_MODULES=57,r}();Z_.default=WCe});var g$=T(qR=>{h();p();Object.defineProperty(qR,"__esModule",{value:!0});var kC=Js(),XCe=r_(),JCe=o_(),$Ce=dC(),ZCe=$i(),Q_=_t(),p$=$r(),QCe=z_(),e5e=f$(),t5e=h$(),r5e=function(){function r(e){this.image=e}return r.prototype.getImage=function(){return this.image},r.prototype.getResultPointCallback=function(){return this.resultPointCallback},r.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(ZCe.default.NEED_RESULT_POINT_CALLBACK);var t=new t5e.default(this.image,this.resultPointCallback),n=t.find(e);return this.processFinderPatternInfo(n)},r.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(t,n,i);if(o<1)throw new Q_.default("No pattern found in proccess finder.");var a=r.computeDimension(t,n,i,o),s=QCe.default.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-t.getX()+i.getX(),l=n.getY()-t.getY()+i.getY(),g=1-3/u,y=Math.floor(t.getX()+g*(c-t.getX())),b=Math.floor(t.getY()+g*(l-t.getY())),D=4;D<=16;D<<=1)try{f=this.findAlignmentInRegion(o,y,b,D);break}catch(K){if(!(K instanceof Q_.default))throw K}var M=r.createTransform(t,n,i,f,a),k=r.sampleGrid(this.image,M,a),N;return f===null?N=[i,t,n]:N=[i,t,n,f],new XCe.default(k,N)},r.createTransform=function(e,t,n,i,o){var a=o-3.5,s,u,f,c;return i!==null?(s=i.getX(),u=i.getY(),f=a-3,c=f):(s=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),f=a,c=a),$Ce.default.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,f,c,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),s,u,n.getX(),n.getY())},r.sampleGrid=function(e,t,n){var i=JCe.default.getInstance();return i.sampleGridWithTransform(e,n,n,t)},r.computeDimension=function(e,t,n,i){var o=kC.default.round(p$.default.distance(e,t)/i),a=kC.default.round(p$.default.distance(e,n)/i),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Q_.default("Dimensions could be not found.")}return s},r.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},r.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},r.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,i),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(t-(i-t)*a);return a=1,u<0?(a=t/(t-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,t,s,u),o-1},r.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var o=Math.abs(i-t)>Math.abs(n-e);if(o){var a=e;e=t,t=a,a=n,n=i,i=a}for(var s=Math.abs(n-e),u=Math.abs(i-t),f=-s/2,c=e<n?1:-1,l=t<i?1:-1,g=0,y=n+c,b=e,D=t;b!==y;b+=c){var M=o?D:b,k=o?b:D;if(g===1===this.image.get(M,k)){if(g===2)return kC.default.distance(b,D,e,t);g++}if(f+=u,f>0){if(D===i)break;D+=l,f-=s}}return g===2?kC.default.distance(n+c,i,e,t):NaN},r.prototype.findAlignmentInRegion=function(e,t,n,i){var o=Math.floor(i*e),a=Math.max(0,t-o),s=Math.min(this.image.getWidth()-1,t+o);if(s-a<e*3)throw new Q_.default("Alignment top exceeds estimated module size.");var u=Math.max(0,n-o),f=Math.min(this.image.getHeight()-1,n+o);if(f-u<e*3)throw new Q_.default("Alignment bottom exceeds estimated module size.");var c=new e5e.default(this.image,a,u,s-a,f-u,e,this.resultPointCallback);return c.find()},r}();qR.default=r5e});var FC=T(FR=>{h();p();Object.defineProperty(FR,"__esModule",{value:!0});var n5e=br(),i5e=Oa(),o5e=$i(),cl=_t(),a5e=Zi(),qC=Yf(),s5e=s$(),u5e=NR(),f5e=g$(),c5e=function(){function r(){this.decoder=new s5e.default}return r.prototype.getDecoder=function(){return this.decoder},r.prototype.decode=function(e,t){var n,i;if(t!=null&&t.get(o5e.default.PURE_BARCODE)!==void 0){var o=r.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,t),i=r.NO_POINTS}else{var a=new f5e.default(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(a.getBits(),t),i=a.getPoints()}n.getOther()instanceof u5e.default&&n.getOther().applyMirroredCorrection(i);var s=new a5e.default(n.getText(),n.getRawBytes(),void 0,i,n5e.default.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(qC.default.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!==null&&s.putMetadata(qC.default.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(s.putMetadata(qC.default.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(qC.default.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},r.prototype.reset=function(){},r.extractPureBits=function(e){var t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new cl.default;var i=this.moduleSize(t,e),o=t[1],a=n[1],s=t[0],u=n[0];if(s>=u||o>=a)throw new cl.default;if(a-o!==u-s&&(u=s+(a-o),u>=e.getWidth()))throw new cl.default;var f=Math.round((u-s+1)/i),c=Math.round((a-o+1)/i);if(f<=0||c<=0)throw new cl.default;if(c!==f)throw new cl.default;var l=Math.floor(i/2);o+=l,s+=l;var g=s+Math.floor((f-1)*i)-u;if(g>0){if(g>l)throw new cl.default;s-=g}var y=o+Math.floor((c-1)*i)-a;if(y>0){if(y>l)throw new cl.default;o-=y}for(var b=new i5e.default(f,c),D=0;D<c;D++)for(var M=o+Math.floor(D*i),k=0;k<f;k++)e.get(s+Math.floor(k*i),M)&&b.set(k,D);return b},r.moduleSize=function(e,t){for(var n=t.getHeight(),i=t.getWidth(),o=e[0],a=e[1],s=!0,u=0;o<i&&a<n;){if(s!==t.get(o,a)){if(++u===5)break;s=!s}o++,a++}if(o===i||a===n)throw new cl.default;return(o-e[0])/7},r.NO_POINTS=new Array,r}();FR.default=c5e});var dl=T(ex=>{h();p();var d5e=ex&&ex.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ex,"__esModule",{value:!0});var l5e=Xu(),h5e=Js(),p5e=function(){function r(){}return r.prototype.PDF417Common=function(){},r.getBitCountSum=function(e){return h5e.default.sum(e)},r.toIntArray=function(e){var t,n;if(e==null||!e.length)return r.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=d5e(e),s=a.next();!s.done;s=a.next()){var u=s.value;i[o++]=u}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},r.getCodeword=function(e){var t=l5e.default.binarySearch(r.SYMBOL_TABLE,e&262143);return t<0?-1:(r.CODEWORD_TABLE[t]-1)%r.NUMBER_OF_CODEWORDS},r.NUMBER_OF_CODEWORDS=929,r.MAX_CODEWORDS_IN_BARCODE=r.NUMBER_OF_CODEWORDS-1,r.MIN_ROWS_IN_BARCODE=3,r.MAX_ROWS_IN_BARCODE=90,r.MODULES_IN_CODEWORD=17,r.MODULES_IN_STOP_PATTERN=18,r.BARS_IN_MODULE=8,r.EMPTY_INT_ARRAY=new Int32Array([]),r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),r}();ex.default=p5e});var m$=T(LR=>{h();p();Object.defineProperty(LR,"__esModule",{value:!0});var g5e=function(){function r(e,t){this.bits=e,this.points=t}return r.prototype.getBits=function(){return this.bits},r.prototype.getPoints=function(){return this.points},r}();LR.default=g5e});var v$=T(tx=>{h();p();var m5e=tx&&tx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(tx,"__esModule",{value:!0});var LC=$r(),y5e=bn(),y$=Xu(),v5e=m$(),_5e=function(){function r(){}return r.detectMultiple=function(e,t,n){var i=e.getBlackMatrix(),o=r.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=r.detect(n,i)),new v5e.default(i,o)},r.detect=function(e,t){for(var n,i,o=new Array,a=0,s=0,u=!1;a<t.getHeight();){var f=r.findVertices(t,a,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var c=(n=void 0,m5e(o)),l=c.next();!l.done;l=c.next()){var g=l.value;g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())))}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}a+=r.ROW_STEP;continue}if(u=!0,o.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return o},r.findVertices=function(e,t,n){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return r.copyToResult(a,r.findRowsWithPattern(e,i,o,t,n,r.START_PATTERN),r.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),r.copyToResult(a,r.findRowsWithPattern(e,i,o,t,n,r.STOP_PATTERN),r.INDEXES_STOP_PATTERN),a},r.copyToResult=function(e,t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[i]},r.findRowsWithPattern=function(e,t,n,i,o,a){for(var s=new Array(4),u=!1,f=new Int32Array(a.length);i<t;i+=r.ROW_STEP){var c=r.findGuardPattern(e,o,i,n,!1,a,f);if(c!=null){for(;i>0;){var l=r.findGuardPattern(e,o,--i,n,!1,a,f);if(l!=null)c=l;else{i++;break}}s[0]=new LC.default(c[0],i),s[1]=new LC.default(c[1],i),u=!0;break}}var g=i+1;if(u){for(var y=0,l=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<t;g++){var c=r.findGuardPattern(e,l[0],g,n,!1,a,f);if(c!=null&&Math.abs(l[0]-c[0])<r.MAX_PATTERN_DRIFT&&Math.abs(l[1]-c[1])<r.MAX_PATTERN_DRIFT)l=c,y=0;else{if(y>r.SKIPPED_ROW_COUNT_MAX)break;y++}}g-=y+1,s[2]=new LC.default(l[0],g),s[3]=new LC.default(l[1],g)}return g-i<r.BARCODE_MIN_HEIGHT&&y$.default.fill(s,null),s},r.findGuardPattern=function(e,t,n,i,o,a,s){y$.default.fillWithin(s,0,s.length,0);for(var u=t,f=0;e.get(u,n)&&u>0&&f++<r.MAX_PIXEL_DRIFT;)u--;for(var c=u,l=0,g=a.length,y=o;c<i;c++){var b=e.get(c,n);if(b!==y)s[l]++;else{if(l===g-1){if(r.patternMatchVariance(s,a,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],y5e.default.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,y=!y}}return l===g-1&&r.patternMatchVariance(s,a,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},r.patternMatchVariance=function(e,t,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=t[s];if(o<a)return 1/0;var u=o/a;n*=u;for(var f=0,c=0;c<i;c++){var l=e[c],g=t[c]*u,y=l>g?l-g:g-l;if(y>n)return 1/0;f+=y}return f/o},r.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),r.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),r.MAX_AVG_VARIANCE=.42,r.MAX_INDIVIDUAL_VARIANCE=.8,r.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),r.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),r.MAX_PIXEL_DRIFT=3,r.MAX_PATTERN_DRIFT=5,r.SKIPPED_ROW_COUNT_MAX=25,r.ROW_STEP=5,r.BARCODE_MIN_HEIGHT=10,r}();tx.default=_5e});var UR=T(nx=>{h();p();var x5e=nx&&nx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(nx,"__esModule",{value:!0});var rx=Vt(),_$=bn(),b5e=Jr(),w5e=function(){function r(e,t){if(t.length===0)throw new rx.default;this.field=e;var n=t.length;if(n>1&&t[0]===0){for(var i=1;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),_$.default.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return r.prototype.getCoefficients=function(){return this.coefficients},r.prototype.getDegree=function(){return this.coefficients.length-1},r.prototype.isZero=function(){return this.coefficients[0]===0},r.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},r.prototype.evaluateAt=function(e){var t,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=x5e(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;i=this.field.add(i,s)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,c=1;c<f;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},r.prototype.add=function(e){if(!this.field.equals(e.field))throw new rx.default("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}var o=new Int32Array(n.length),a=n.length-t.length;_$.default.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(t[s-a],n[s]);return new r(this.field,o)},r.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new rx.default("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},r.prototype.multiply=function(e){return e instanceof r?this.multiplyOther(e):this.multiplyScalar(e)},r.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new rx.default("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new r(this.field,new Int32Array([0]));for(var t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var u=t[s],f=0;f<o;f++)a[s+f]=this.field.add(a[s+f],this.field.multiply(u,i[f]));return new r(this.field,a)},r.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new r(this.field,t)},r.prototype.multiplyScalar=function(e){if(e===0)return new r(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,n=new Int32Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new r(this.field,n)},r.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new rx.default;if(t===0)return new r(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new r(this.field,i)},r.prototype.toString=function(){for(var e=new b5e.default,t=this.getDegree();t>=0;t--){var n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},r}();nx.default=w5e});var x$=T(jR=>{h();p();Object.defineProperty(jR,"__esModule",{value:!0});var S5e=Vt(),C5e=oC(),E5e=function(){function r(){}return r.prototype.add=function(e,t){return(e+t)%this.modulus},r.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},r.prototype.exp=function(e){return this.expTable[e]},r.prototype.log=function(e){if(e===0)throw new S5e.default;return this.logTable[e]},r.prototype.inverse=function(e){if(e===0)throw new C5e.default;return this.expTable[this.modulus-this.logTable[e]-1]},r.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},r.prototype.getSize=function(){return this.modulus},r.prototype.equals=function(e){return e===this},r}();jR.default=E5e});var b$=T(ix=>{h();p();var I5e=ix&&ix.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ix,"__esModule",{value:!0});var T5e=dl(),HR=UR(),A5e=Vt(),O5e=x$(),D5e=function(r){I5e(e,r);function e(t,n){var i=r.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var o=1,a=0;a<t;a++)i.expTable[a]=o,o=o*n%t;for(var a=0;a<t-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new HR.default(i,new Int32Array([0])),i.one=new HR.default(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,n){if(t<0)throw new A5e.default;if(n===0)return this.zero;var i=new Int32Array(t+1);return i[0]=n,new HR.default(this,i)},e.PDF417_GF=new e(T5e.default.NUMBER_OF_CODEWORDS,3),e}(O5e.default);ix.default=D5e});var KR=T(ox=>{h();p();var R5e=ox&&ox.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ox,"__esModule",{value:!0});var UC=Wu(),jC=UR(),B5e=b$(),P5e=function(){function r(){this.field=B5e.default.PDF417_GF}return r.prototype.decode=function(e,t,n){for(var i,o,a=new jC.default(this.field,e),s=new Int32Array(t),u=!1,f=t;f>0;f--){var c=a.evaluateAt(this.field.exp(f));s[t-f]=c,c!==0&&(u=!0)}if(!u)return 0;var l=this.field.getOne();if(n!=null)try{for(var g=R5e(n),y=g.next();!y.done;y=g.next()){var b=y.value,D=this.field.exp(e.length-1-b),M=new jC.default(this.field,new Int32Array([this.field.subtract(0,D),1]));l=l.multiply(M)}}catch(w){i={error:w}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}for(var k=new jC.default(this.field,s),N=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),k,t),K=N[0],X=N[1],q=this.findErrorLocations(K),d=this.findErrorMagnitudes(X,K,q),f=0;f<q.length;f++){var v=e.length-1-this.field.log(q[f]);if(v<0)throw UC.default.getChecksumInstance();e[v]=this.field.subtract(e[v],d[f])}return q.length},r.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var o=e,a=t,s=this.field.getZero(),u=this.field.getOne();a.getDegree()>=Math.round(n/2);){var f=o,c=s;if(o=a,s=u,o.isZero())throw UC.default.getChecksumInstance();a=f;for(var l=this.field.getZero(),g=o.getCoefficient(o.getDegree()),y=this.field.inverse(g);a.getDegree()>=o.getDegree()&&!a.isZero();){var b=a.getDegree()-o.getDegree(),D=this.field.multiply(a.getCoefficient(a.getDegree()),y);l=l.add(this.field.buildMonomial(b,D)),a=a.subtract(o.multiplyByMonomial(b,D))}u=l.multiply(s).subtract(c).negative()}var M=u.getCoefficient(0);if(M===0)throw UC.default.getChecksumInstance();var k=this.field.inverse(M),N=u.multiply(k),K=a.multiply(k);return[N,K]},r.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),n=new Int32Array(t),i=0,o=1;o<this.field.getSize()&&i<t;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==t)throw UC.default.getChecksumInstance();return n},r.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,t.getCoefficient(a));for(var s=new jC.default(this.field,o),u=n.length,f=new Int32Array(u),a=0;a<u;a++){var c=this.field.inverse(n[a]),l=this.field.subtract(0,e.evaluateAt(c)),g=this.field.inverse(s.evaluateAt(c));f[a]=this.field.multiply(l,g)}return f},r}();ox.default=P5e});var zR=T(VR=>{h();p();Object.defineProperty(VR,"__esModule",{value:!0});var M5e=_t(),ty=$r(),N5e=function(){function r(e,t,n,i,o){e instanceof r?this.constructor_2(e):this.constructor_1(e,t,n,i,o)}return r.prototype.constructor_1=function(e,t,n,i,o){var a=t==null||n==null,s=i==null||o==null;if(a&&s)throw new M5e.default;a?(t=new ty.default(0,i.getY()),n=new ty.default(0,o.getY())):s&&(i=new ty.default(e.getWidth()-1,t.getY()),o=new ty.default(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},r.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},r.merge=function(e,t){return e==null?t:t==null?e:new r(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},r.prototype.addMissingRows=function(e,t,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var c=new ty.default(u.getX(),f);n?i=c:a=c}if(t>0){var l=n?this.bottomLeft:this.bottomRight,g=Math.trunc(l.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var y=new ty.default(l.getX(),g);n?o=y:s=y}return new r(this.image,i,o,a,s)},r.prototype.getMinX=function(){return this.minX},r.prototype.getMaxX=function(){return this.maxX},r.prototype.getMinY=function(){return this.minY},r.prototype.getMaxY=function(){return this.maxY},r.prototype.getTopLeft=function(){return this.topLeft},r.prototype.getTopRight=function(){return this.topRight},r.prototype.getBottomLeft=function(){return this.bottomLeft},r.prototype.getBottomRight=function(){return this.bottomRight},r}();VR.default=N5e});var w$=T(GR=>{h();p();Object.defineProperty(GR,"__esModule",{value:!0});var k5e=function(){function r(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}return r.prototype.getColumnCount=function(){return this.columnCount},r.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},r.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},r}();GR.default=k5e});var HC=T(YR=>{h();p();Object.defineProperty(YR,"__esModule",{value:!0});var q5e=function(){function r(){this.buffer=""}return r.form=function(e,t){var n=-1;function i(a,s,u,f,c,l){if(a==="%%")return"%";if(t[++n]!==void 0){a=f?parseInt(f.substr(1)):void 0;var g=c?parseInt(c.substr(1)):void 0,y;switch(l){case"s":y=t[n];break;case"c":y=t[n][0];break;case"f":y=parseFloat(t[n]).toFixed(a);break;case"p":y=parseFloat(t[n]).toPrecision(a);break;case"e":y=parseFloat(t[n]).toExponential(a);break;case"x":y=parseInt(t[n]).toString(g||16);break;case"d":y=parseFloat(parseInt(t[n],g||10).toPrecision(a)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(g);for(var b=parseInt(u),D=u&&u[0]+""=="0"?"0":" ";y.length<b;)y=s!==void 0?y+D:D+y;return y}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},r.prototype.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.buffer+=r.form(e,t)},r.prototype.toString=function(){return this.buffer},r}();YR.default=q5e});var WR=T(ax=>{h();p();var F5e=ax&&ax.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ax,"__esModule",{value:!0});var L5e=HC(),U5e=zR(),j5e=function(){function r(e){this.boundingBox=new U5e.default(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return r.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var n=1;n<r.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},r.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},r.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},r.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.getCodewords=function(){return this.codewords},r.prototype.toString=function(){var e,t,n=new L5e.default,i=0;try{for(var o=F5e(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return n.toString()},r.MAX_NEARBY_DISTANCE=5,r}();ax.default=j5e});var XR=T(tp=>{h();p();var H5e=tp&&tp.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K5e=tp&&tp.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(tp,"__esModule",{value:!0});var V5e=dl(),z5e=function(){function r(){this.values=new Map}return r.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},r.prototype.getValue=function(){var e,t,n=-1,i=new Array,o=function(l,g){var y={getKey:function(){return l},getValue:function(){return g}};y.getValue()>n?(n=y.getValue(),i=[],i.push(y.getKey())):y.getValue()===n&&i.push(y.getKey())};try{for(var a=H5e(this.values.entries()),s=a.next();!s.done;s=a.next()){var u=K5e(s.value,2),f=u[0],c=u[1];o(f,c)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return V5e.default.toIntArray(i)},r.prototype.getConfidence=function(e){return this.values.get(e)},r}();tp.default=z5e});var C$=T(rp=>{h();p();var G5e=rp&&rp.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JR=rp&&rp.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(rp,"__esModule",{value:!0});var S$=dl(),Y5e=w$(),W5e=WR(),KC=XR(),X5e=function(r){G5e(e,r);function e(t,n){var i=r.call(this,t)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var t,n;try{for(var i=JR(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a?.setRowNumberAsRowIndicatorColumn()}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=-1,c=1,l=0,g=s;g<u;g++)if(n[g]!=null){var y=n[g],b=y.getRowNumber()-f;if(b===0)l++;else if(b===1)c=Math.max(c,l),l=1,f=y.getRowNumber();else if(b<0||y.getRowNumber()>=t.getRowCount()||b>g)n[g]=null;else{var D=void 0;c>2?D=(c-2)*b:D=b;for(var M=D>=g,k=1;k<=D&&!M;k++)M=n[g-k]!=null;M?n[g]=null:(f=y.getRowNumber(),l=1)}}},e.prototype.getRowHeights=function(){var t,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=JR(this.getCodewords()),s=a.next();!s.done;s=a.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=o.length)continue;o[f]++}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=this.getCodewords(),f=-1,c=1,l=0,g=a;g<s;g++)if(u[g]!=null){var y=u[g];y.setRowNumberAsRowIndicatorColumn();var b=y.getRowNumber()-f;b===0?l++:b===1?(c=Math.max(c,l),l=1,f=y.getRowNumber()):y.getRowNumber()>=t.getRowCount()?u[g]=null:(f=y.getRowNumber(),l=1)}},e.prototype.getBarcodeMetadata=function(){var t,n,i=this.getCodewords(),o=new KC.default,a=new KC.default,s=new KC.default,u=new KC.default;try{for(var f=JR(i),c=f.next();!c.done;c=f.next()){var l=c.value;if(l!=null){l.setRowNumberAsRowIndicatorColumn();var g=l.getValue()%30,y=l.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:a.setValue(g*3+1);break;case 1:u.setValue(g/3),s.setValue(g%3);break;case 2:o.setValue(g+1);break}}}}catch(D){t={error:D}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<S$.default.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>S$.default.MAX_ROWS_IN_BARCODE)return null;var b=new Y5e.default(o.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,b),b},e.prototype.removeIncorrectCodewords=function(t,n){for(var i=0;i<t.length;i++){var o=t[i];if(t[i]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:a+1!==n.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+r.prototype.toString.call(this)},e}(W5e.default);rp.default=X5e});var E$=T(sx=>{h();p();var J5e=sx&&sx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(sx,"__esModule",{value:!0});var $5e=dl(),Z5e=HC(),Q5e=function(){function r(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return r.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=$5e.default.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},r.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},r.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var n=this.detectionResultColumns[t].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n));return e},r.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},r.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},r.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=r.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},r.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),n=0;n<t.length;n++)if(t[n]!=null)for(var i=t[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=r.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},r.adjustRowNumberIfValid=function(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t},r.prototype.adjustRowNumbers=function(e,t,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var a=n[t],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[t],f[3]=u[t],t>0&&(f[0]=n[t-1],f[4]=s[t-1],f[5]=u[t-1]),t>1&&(f[8]=n[t-2],f[10]=s[t-2],f[11]=u[t-2]),t<n.length-1&&(f[1]=n[t+1],f[6]=s[t+1],f[7]=u[t+1]),t<n.length-2&&(f[9]=n[t+2],f[12]=s[t+2],f[13]=u[t+2]);try{for(var c=J5e(f),l=c.next();!l.done;l=c.next()){var g=l.value;if(r.adjustRowNumber(a,g))return}}catch(y){i={error:y}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}},r.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},r.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},r.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},r.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},r.prototype.setBoundingBox=function(e){this.boundingBox=e},r.prototype.getBoundingBox=function(){return this.boundingBox},r.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},r.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},r.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Z5e.default,n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()},r}();sx.default=Q5e});var I$=T($R=>{h();p();Object.defineProperty($R,"__esModule",{value:!0});var eEe=function(){function r(e,t,n,i){this.rowNumber=r.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return r.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},r.prototype.isValidRowNumber=function(e){return e!==r.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},r.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},r.prototype.getWidth=function(){return this.endX-this.startX},r.prototype.getStartX=function(){return this.startX},r.prototype.getEndX=function(){return this.endX},r.prototype.getBucket=function(){return this.bucket},r.prototype.getValue=function(){return this.value},r.prototype.getRowNumber=function(){return this.rowNumber},r.prototype.setRowNumber=function(e){this.rowNumber=e},r.prototype.toString=function(){return this.rowNumber+"|"+this.value},r.BARCODE_ROW_UNKNOWN=-1,r}();$R.default=eEe});var A$=T(ZR=>{h();p();Object.defineProperty(ZR,"__esModule",{value:!0});var T$=Js(),Qi=dl(),tEe=AD(),rEe=function(){function r(){}return r.initialize=function(){for(var e=0;e<Qi.default.SYMBOL_TABLE.length;e++)for(var t=Qi.default.SYMBOL_TABLE[e],n=t&1,i=0;i<Qi.default.BARS_IN_MODULE;i++){for(var o=0;(t&1)===n;)o+=1,t>>=1;n=t&1,r.RATIOS_TABLE[e]||(r.RATIOS_TABLE[e]=new Array(Qi.default.BARS_IN_MODULE)),r.RATIOS_TABLE[e][Qi.default.BARS_IN_MODULE-i-1]=Math.fround(o/Qi.default.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},r.getDecodedValue=function(e){var t=r.getDecodedCodewordValue(r.sampleBitCounts(e));return t!==-1?t:r.getClosestDecodedValue(e)},r.sampleBitCounts=function(e){for(var t=T$.default.sum(e),n=new Int32Array(Qi.default.BARS_IN_MODULE),i=0,o=0,a=0;a<Qi.default.MODULES_IN_CODEWORD;a++){var s=t/(2*Qi.default.MODULES_IN_CODEWORD)+a*t/Qi.default.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},r.getDecodedCodewordValue=function(e){var t=r.getBitValue(e);return Qi.default.getCodeword(t)===-1?-1:t},r.getBitValue=function(e){for(var t=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)},r.getClosestDecodedValue=function(e){var t=T$.default.sum(e),n=new Array(Qi.default.BARS_IN_MODULE);if(t>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/t);var o=tEe.default.MAX_VALUE,a=-1;this.bSymbolTableReady||r.initialize();for(var s=0;s<r.RATIOS_TABLE.length;s++){for(var u=0,f=r.RATIOS_TABLE[s],c=0;c<Qi.default.BARS_IN_MODULE;c++){var l=Math.fround(f[c]-n[c]);if(u+=Math.fround(l*l),u>=o)break}u<o&&(o=u,a=Qi.default.SYMBOL_TABLE[s])}return a},r.bSymbolTableReady=!1,r.RATIOS_TABLE=new Array(Qi.default.SYMBOL_TABLE.length).map(function(e){return e=new Array(Qi.default.BARS_IN_MODULE)}),r}();ZR.default=rEe});var eB=T(QR=>{h();p();Object.defineProperty(QR,"__esModule",{value:!0});var nEe=function(){function r(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return r.prototype.getSegmentIndex=function(){return this.segmentIndex},r.prototype.setSegmentIndex=function(e){this.segmentIndex=e},r.prototype.getFileId=function(){return this.fileId},r.prototype.setFileId=function(e){this.fileId=e},r.prototype.getOptionalData=function(){return this.optionalData},r.prototype.setOptionalData=function(e){this.optionalData=e},r.prototype.isLastSegment=function(){return this.lastSegment},r.prototype.setLastSegment=function(e){this.lastSegment=e},r.prototype.getSegmentCount=function(){return this.segmentCount},r.prototype.setSegmentCount=function(e){this.segmentCount=e},r.prototype.getSender=function(){return this.sender||null},r.prototype.setSender=function(e){this.sender=e},r.prototype.getAddressee=function(){return this.addressee||null},r.prototype.setAddressee=function(e){this.addressee=e},r.prototype.getFileName=function(){return this.fileName},r.prototype.setFileName=function(e){this.fileName=e},r.prototype.getFileSize=function(){return this.fileSize},r.prototype.setFileSize=function(e){this.fileSize=e},r.prototype.getChecksum=function(){return this.checksum},r.prototype.setChecksum=function(e){this.checksum=e},r.prototype.getTimestamp=function(){return this.timestamp},r.prototype.setTimestamp=function(e){this.timestamp=e},r}();QR.default=nEe});var O$=T(tB=>{h();p();Object.defineProperty(tB,"__esModule",{value:!0});var iEe=function(){function r(){}return r.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},r}();tB.default=iEe});var D$=T(ux=>{h();p();var oEe=ux&&ux.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ux,"__esModule",{value:!0});var aEe=Ji(),sEe=function(r){oEe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="NullPointerException",e}(aEe.default);ux.default=sEe});var R$=T(rB=>{h();p();Object.defineProperty(rB,"__esModule",{value:!0});var uEe=ZS(),fEe=D$(),cEe=function(){function r(){}return r.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},r.prototype.writeBytesOffset=function(e,t,n){if(e==null)throw new fEe.default;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new uEe.default;if(n===0)return;for(var i=0;i<n;i++)this.write(e[t+i])},r.prototype.flush=function(){},r.prototype.close=function(){},r}();rB.default=cEe});var B$=T(fx=>{h();p();var dEe=fx&&fx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fx,"__esModule",{value:!0});var lEe=Ji(),hEe=function(r){dEe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(lEe.default);fx.default=hEe});var M$=T(cx=>{h();p();var pEe=cx&&cx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cx,"__esModule",{value:!0});var P$=Xu(),gEe=R$(),mEe=na(),yEe=Vt(),vEe=B$(),_Ee=bn(),xEe=ZS(),bEe=function(r){pEe(e,r);function e(t){t===void 0&&(t=32);var n=r.call(this)||this;if(n.count=0,t<0)throw new yEe.default("Negative initial size: "+t);return n.buf=new Uint8Array(t),n}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var n=this.buf.length,i=n<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new vEe.default;i=mEe.default.MAX_VALUE}this.buf=P$.default.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new xEe.default;this.ensureCapacity(this.count+i),_Ee.default.arraycopy(t,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return P$.default.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(gEe.default);cx.default=bEe});var oB=T(iB=>{h();p();Object.defineProperty(iB,"__esModule",{value:!0});var np=qr(),N$=e0(),wEe=Hm(),SEe=eB(),CEe=Xu(),s0=Jr(),nB=na(),k$=O$(),EEe=M$(),IEe=H1(),tr;(function(r){r[r.ALPHA=0]="ALPHA",r[r.LOWER=1]="LOWER",r[r.MIXED=2]="MIXED",r[r.PUNCT=3]="PUNCT",r[r.ALPHA_SHIFT=4]="ALPHA_SHIFT",r[r.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(tr||(tr={}));function q$(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var VC;function ll(r){if(typeof VC>"u"&&(VC=q$()),VC===null)throw new Error("BigInt is not supported!");return VC(r)}function TEe(){var r=[];r[0]=ll(1);var e=ll(900);r[1]=e;for(var t=2;t<16;t++)r[t]=r[t-1]*e;return r}var AEe=function(){function r(){}return r.decode=function(e,t){var n=new s0.default(""),i=N$.default.ISO8859_1;n.enableDecoding(i);for(var o=1,a=e[o++],s=new SEe.default;o<e[0];){switch(a){case r.TEXT_COMPACTION_MODE_LATCH:o=r.textCompaction(e,o,n);break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:o=r.byteCompaction(a,e,i,o,n);break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case r.NUMERIC_COMPACTION_MODE_LATCH:o=r.numericCompaction(e,o,n);break;case r.ECI_CHARSET:var u=N$.default.getCharacterSetECIByValue(e[o++]);break;case r.ECI_GENERAL_PURPOSE:o+=2;break;case r.ECI_USER_DEFINED:o++;break;case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=r.decodeMacroBlock(e,o,s);break;case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:throw new np.default;default:o--,o=r.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw np.default.getFormatInstance()}if(n.length()===0)throw np.default.getFormatInstance();var f=new wEe.default(null,n.toString(),null,t);return f.setOther(s),f},r.decodeMacroBlock=function(e,t,n){if(t+r.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw np.default.getFormatInstance();for(var i=new Int32Array(r.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<r.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)i[o]=e[t];n.setSegmentIndex(nB.default.parseInt(r.decodeBase900toBase10(i,r.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new s0.default;t=r.textCompaction(e,t,a),n.setFileId(a.toString());var s=-1;for(e[t]===r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new s0.default;t=r.textCompaction(e,t+1,u),n.setFileName(u.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new s0.default;t=r.textCompaction(e,t+1,f),n.setSender(f.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new s0.default;t=r.textCompaction(e,t+1,c),n.setAddressee(c.toString());break;case r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var l=new s0.default;t=r.numericCompaction(e,t+1,l),n.setSegmentCount(nB.default.parseInt(l.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new s0.default;t=r.numericCompaction(e,t+1,g),n.setTimestamp(k$.default.parseLong(g.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var y=new s0.default;t=r.numericCompaction(e,t+1,y),n.setChecksum(nB.default.parseInt(y.toString()));break;case r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var b=new s0.default;t=r.numericCompaction(e,t+1,b),n.setFileSize(k$.default.parseLong(b.toString()));break;default:throw np.default.getFormatInstance()}break;case r.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw np.default.getFormatInstance()}if(s!==-1){var D=t-s;n.isLastSegment()&&D--,n.setOptionalData(CEe.default.copyOfRange(e,s,s+D))}return t},r.textCompaction=function(e,t,n){for(var i=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),a=0,s=!1;t<e[0]&&!s;){var u=e[t++];if(u<r.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case r.TEXT_COMPACTION_MODE_LATCH:i[a++]=r.TEXT_COMPACTION_MODE_LATCH;break;case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],o[a]=u,a++;break}}return r.decodeTextCompaction(i,o,a,n),t},r.decodeTextCompaction=function(e,t,n,i){for(var o=tr.ALPHA,a=tr.ALPHA,s=0;s<n;){var u=e[s],f="";switch(o){case tr.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case r.LL:o=tr.LOWER;break;case r.ML:o=tr.MIXED;break;case r.PS:a=o,o=tr.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=tr.ALPHA;break}break;case tr.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case r.AS:a=o,o=tr.ALPHA_SHIFT;break;case r.ML:o=tr.MIXED;break;case r.PS:a=o,o=tr.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=tr.ALPHA;break}break;case tr.MIXED:if(u<r.PL)f=r.MIXED_CHARS[u];else switch(u){case r.PL:o=tr.PUNCT;break;case 26:f=" ";break;case r.LL:o=tr.LOWER;break;case r.AL:o=tr.ALPHA;break;case r.PS:a=o,o=tr.PUNCT_SHIFT;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=tr.ALPHA;break}break;case tr.PUNCT:if(u<r.PAL)f=r.PUNCT_CHARS[u];else switch(u){case r.PAL:o=tr.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=tr.ALPHA;break}break;case tr.ALPHA_SHIFT:if(o=a,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case r.TEXT_COMPACTION_MODE_LATCH:o=tr.ALPHA;break}break;case tr.PUNCT_SHIFT:if(o=a,u<r.PAL)f=r.PUNCT_CHARS[u];else switch(u){case r.PAL:o=tr.ALPHA;break;case r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s]);break;case r.TEXT_COMPACTION_MODE_LATCH:o=tr.ALPHA;break}break}f!==""&&i.append(f),s++}},r.byteCompaction=function(e,t,n,i,o){var a=new EEe.default,s=0,u=0,f=!1;switch(e){case r.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),l=t[i++];i<t[0]&&!f;)switch(c[s++]=l,u=900*u+l,l=t[i++],l){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)a.write(Number(ll(u)>>ll(8*(5-g))));u=0,s=0}break}i===t[0]&&l<r.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=l);for(var y=0;y<s;y++)a.write(c[y]);break;case r.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!f;){var b=t[i++];if(b<r.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+b;else switch(b){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.NUMERIC_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)a.write(Number(ll(u)>>ll(8*(5-g))));u=0,s=0}}break}return o.append(IEe.default.decode(a.toByteArray(),n)),i},r.numericCompaction=function(e,t,n){for(var i=0,o=!1,a=new Int32Array(r.MAX_NUMERIC_CODEWORDS);t<e[0]&&!o;){var s=e[t++];if(t===e[0]&&(o=!0),s<r.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case r.TEXT_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH:case r.BYTE_COMPACTION_MODE_LATCH_6:case r.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case r.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(i%r.MAX_NUMERIC_CODEWORDS===0||s===r.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(r.decodeBase900toBase10(a,i)),i=0)}return t},r.decodeBase900toBase10=function(e,t){for(var n=ll(0),i=0;i<t;i++)n+=r.EXP900[t-i-1]*ll(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new np.default;return o.substring(1)},r.TEXT_COMPACTION_MODE_LATCH=900,r.BYTE_COMPACTION_MODE_LATCH=901,r.NUMERIC_COMPACTION_MODE_LATCH=902,r.BYTE_COMPACTION_MODE_LATCH_6=924,r.ECI_USER_DEFINED=925,r.ECI_GENERAL_PURPOSE=926,r.ECI_CHARSET=927,r.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,r.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,r.MACRO_PDF417_TERMINATOR=922,r.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,r.MAX_NUMERIC_CODEWORDS=15,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,r.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,r.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,r.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,r.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,r.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,r.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,r.PL=25,r.LL=27,r.AS=27,r.ML=28,r.AL=28,r.PS=29,r.PAL=29,r.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,r.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",r.EXP900=q$()?TEe():[],r.NUMBER_OF_SEQUENCE_CODEWORDS=2,r}();iB.default=AEe});var j$=T(hx=>{h();p();var dx=hx&&hx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hx,"__esModule",{value:!0});var lx=Wu(),zC=qr(),F$=_t(),OEe=Js(),GC=dl(),DEe=KR(),L$=zR(),U$=C$(),REe=E$(),BEe=WR(),PEe=I$(),MEe=XR(),NEe=A$(),kEe=oB(),qEe=HC(),FEe=function(){function r(){}return r.decode=function(e,t,n,i,o,a,s){for(var u=new L$.default(e,t,n,i,o),f=null,c=null,l,g=!0;;g=!1){if(t!=null&&(f=r.getRowIndicatorColumn(e,u,t,!0,a,s)),i!=null&&(c=r.getRowIndicatorColumn(e,u,i,!1,a,s)),l=r.merge(f,c),l==null)throw F$.default.getNotFoundInstance();var y=l.getBoundingBox();if(g&&y!=null&&(y.getMinY()<u.getMinY()||y.getMaxY()>u.getMaxY()))u=y;else break}l.setBoundingBox(u);var b=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,f),l.setDetectionResultColumn(b,c);for(var D=f!=null,M=1;M<=b;M++){var k=D?M:b-M;if(l.getDetectionResultColumn(k)===void 0){var N=void 0;k===0||k===b?N=new U$.default(u,k===0):N=new BEe.default(u),l.setDetectionResultColumn(k,N);for(var K=-1,X=K,q=u.getMinY();q<=u.getMaxY();q++){if(K=r.getStartColumn(l,k,q,D),K<0||K>u.getMaxX()){if(X===-1)continue;K=X}var d=r.detectCodeword(e,u.getMinX(),u.getMaxX(),D,K,q,a,s);d!=null&&(N.setCodeword(q,d),X=K,a=Math.min(a,d.getWidth()),s=Math.max(s,d.getWidth()))}}}return r.createDecoderResult(l)},r.merge=function(e,t){if(e==null&&t==null)return null;var n=r.getBarcodeMetadata(e,t);if(n==null)return null;var i=L$.default.merge(r.adjustBoundingBox(e),r.adjustBoundingBox(t));return new REe.default(n,i)},r.adjustBoundingBox=function(e){var t,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=r.getMax(i),a=0;try{for(var s=dx(i),u=s.next();!u.done;u=s.next()){var f=u.value;if(a+=o-f,f>0)break}}catch(y){t={error:y}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}for(var c=e.getCodewords(),l=0;a>0&&c[l]==null;l++)a--;for(var g=0,l=i.length-1;l>=0&&(g+=o-i[l],!(i[l]>0));l--);for(var l=c.length-1;g>0&&c[l]==null;l--)g--;return e.getBoundingBox().addMissingRows(a,g,e.isLeft())},r.getMax=function(e){var t,n,i=-1;try{for(var o=dx(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=Math.max(i,s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},r.getBarcodeMetadata=function(e,t){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},r.getRowIndicatorColumn=function(e,t,n,i,o,a){for(var s=new U$.default(t,i),u=0;u<2;u++)for(var f=u===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),l=Math.trunc(Math.trunc(n.getY()));l<=t.getMaxY()&&l>=t.getMinY();l+=f){var g=r.detectCodeword(e,0,e.getWidth(),i,c,l,o,a);g!=null&&(s.setCodeword(l,g),i?c=g.getStartX():c=g.getEndX())}return s},r.adjustCodewordCount=function(e,t){var n=t[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-r.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>GC.default.MAX_CODEWORDS_IN_BARCODE)throw F$.default.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},r.createDecoderResult=function(e){var t=r.createBarcodeMatrix(e);r.adjustCodewordCount(e,t);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=t[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;f.length===0?n.push(c):f.length===1?i[c]=f[0]:(a.push(c),o.push(f))}for(var l=new Array(o.length),g=0;g<l.length;g++)l[g]=o[g];return r.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,GC.default.toIntArray(n),GC.default.toIntArray(a),l)},r.createDecoderResultFromAmbiguousValues=function(e,t,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)t[i[u]]=o[u][a[u]];try{return r.decodeCodewords(t,e,n)}catch(c){var f=c instanceof lx.default;if(!f)throw c}if(a.length===0)throw lx.default.getChecksumInstance();for(var u=0;u<a.length;u++)if(a[u]<o[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw lx.default.getChecksumInstance()}throw lx.default.getChecksumInstance()},r.createBarcodeMatrix=function(e){for(var t,n,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var u=0;u<a[s].length;u++)a[s][u]=new MEe.default;var f=0;try{for(var c=dx(e.getDetectionResultColumns()),l=c.next();!l.done;l=c.next()){var g=l.value;if(g!=null)try{for(var y=(i=void 0,dx(g.getCodewords())),b=y.next();!b.done;b=y.next()){var D=b.value;if(D!=null){var M=D.getRowNumber();if(M>=0){if(M>=a.length)continue;a[M][f].setValue(D.getValue())}}}}catch(k){i={error:k}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}f++}}catch(k){t={error:k}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},r.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},r.getStartColumn=function(e,t,n,i){var o,a,s=i?1:-1,u=null;if(r.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(t).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(r.isValidBarcodeColumn(e,t-s)&&(u=e.getDetectionResultColumn(t-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;r.isValidBarcodeColumn(e,t-s);){t-=s;try{for(var c=(o=void 0,dx(e.getDetectionResultColumn(t).getCodewords())),l=c.next();!l.done;l=c.next()){var g=l.value;if(g!=null)return(i?g.getEndX():g.getStartX())+s*f*(g.getEndX()-g.getStartX())}}catch(y){o={error:y}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},r.detectCodeword=function(e,t,n,i,o,a,s,u){o=r.adjustCodewordStartColumn(e,t,n,i,o,a);var f=r.getModuleBitCount(e,t,n,i,o,a);if(f==null)return null;var c,l=OEe.default.sum(f);if(i)c=o+l;else{for(var g=0;g<f.length/2;g++){var y=f[g];f[g]=f[f.length-1-g],f[f.length-1-g]=y}c=o,o=c-l}if(!r.checkCodewordSkew(l,s,u))return null;var b=NEe.default.getDecodedValue(f),D=GC.default.getCodeword(b);return D===-1?null:new PEe.default(o,c,r.getCodewordBucketNumber(b),D)},r.getModuleBitCount=function(e,t,n,i,o,a){for(var s=o,u=new Int32Array(8),f=0,c=i?1:-1,l=i;(i?s<n:s>=t)&&f<u.length;)e.get(s,a)===l?(u[f]++,s+=c):(f++,l=!l);return f===u.length||s===(i?n:t)&&f===u.length-1?u:null},r.getNumberOfECCodeWords=function(e){return 2<<e},r.adjustCodewordStartColumn=function(e,t,n,i,o,a){for(var s=o,u=i?-1:1,f=0;f<2;f++){for(;(i?s>=t:s<n)&&i===e.get(s,a);){if(Math.abs(o-s)>r.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,i=!i}return s},r.checkCodewordSkew=function(e,t,n){return t-r.CODEWORD_SKEW_SIZE<=e&&e<=n+r.CODEWORD_SKEW_SIZE},r.decodeCodewords=function(e,t,n){if(e.length===0)throw zC.default.getFormatInstance();var i=1<<t+1,o=r.correctErrors(e,n,i);r.verifyCodewordCount(e,i);var a=kEe.default.decode(e,""+t);return a.setErrorsCorrected(o),a.setErasures(n.length),a},r.correctErrors=function(e,t,n){if(t!=null&&t.length>n/2+r.MAX_ERRORS||n<0||n>r.MAX_EC_CODEWORDS)throw lx.default.getChecksumInstance();return r.errorCorrection.decode(e,n,t)},r.verifyCodewordCount=function(e,t){if(e.length<4)throw zC.default.getFormatInstance();var n=e[0];if(n>e.length)throw zC.default.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw zC.default.getFormatInstance()},r.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),n=0,i=t.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t},r.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},r.getCodewordBucketNumber_number=function(e){return r.getCodewordBucketNumber(r.getBitCountForCodeword(e))},r.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},r.toString=function(e){for(var t=new qEe.default,n=0;n<e.length;n++){t.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()},r.CODEWORD_SKEW_SIZE=2,r.MAX_ERRORS=3,r.MAX_EC_CODEWORDS=512,r.errorCorrection=new DEe.default,r}();hx.default=FEe});var YC=T(px=>{h();p();var LEe=px&&px.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(px,"__esModule",{value:!0});var UEe=br(),jEe=Wu(),HEe=qr(),H$=_t(),KEe=Zi(),hl=dl(),VEe=na(),K$=Yf(),zEe=v$(),GEe=j$(),YEe=function(){function r(){}return r.prototype.decode=function(e,t){t===void 0&&(t=null);var n=r.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw H$.default.getNotFoundInstance();return n[0]},r.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return r.decode(e,t,!0)}catch(n){throw n instanceof HEe.default||n instanceof jEe.default?H$.default.getNotFoundInstance():n}},r.decode=function(e,t,n){var i,o,a=new Array,s=zEe.default.detectMultiple(e,t,n);try{for(var u=LEe(s.getPoints()),f=u.next();!f.done;f=u.next()){var c=f.value,l=GEe.default.decode(s.getBits(),c[4],c[5],c[6],c[7],r.getMinCodewordWidth(c),r.getMaxCodewordWidth(c)),g=new KEe.default(l.getText(),l.getRawBytes(),void 0,c,UEe.default.PDF_417);g.putMetadata(K$.default.ERROR_CORRECTION_LEVEL,l.getECLevel());var y=l.getOther();y!=null&&g.putMetadata(K$.default.PDF417_EXTRA_METADATA,y),a.push(g)}}catch(b){i={error:b}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a.map(function(b){return b})},r.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMinWidth=function(e,t){return e==null||t==null?VEe.default.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},r.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(r.getMaxWidth(e[0],e[4]),r.getMaxWidth(e[6],e[2])*hl.default.MODULES_IN_CODEWORD/hl.default.MODULES_IN_STOP_PATTERN),Math.max(r.getMaxWidth(e[1],e[5]),r.getMaxWidth(e[7],e[3])*hl.default.MODULES_IN_CODEWORD/hl.default.MODULES_IN_STOP_PATTERN)))},r.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(r.getMinWidth(e[0],e[4]),r.getMinWidth(e[6],e[2])*hl.default.MODULES_IN_CODEWORD/hl.default.MODULES_IN_STOP_PATTERN),Math.min(r.getMinWidth(e[1],e[5]),r.getMinWidth(e[7],e[3])*hl.default.MODULES_IN_CODEWORD/hl.default.MODULES_IN_STOP_PATTERN)))},r.prototype.reset=function(){},r}();px.default=YEe});var aB=T(gx=>{h();p();var WEe=gx&&gx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gx,"__esModule",{value:!0});var XEe=Ji(),JEe=function(r){WEe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="ReaderException",e}(XEe.default);gx.default=JEe});var sB=T(mx=>{h();p();var V$=mx&&mx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mx,"__esModule",{value:!0});var z$=$i(),Mo=br(),G$=FC(),Y$=pC(),WC=AC(),W$=BC(),$Ee=_t(),X$=YC(),J$=aB(),ZEe=function(){function r(){}return r.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},r.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},r.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(z$.default.TRY_HARDER)!==void 0,n=e==null?null:e.get(z$.default.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(a){return a===Mo.default.UPC_A||a===Mo.default.UPC_E||a===Mo.default.EAN_13||a===Mo.default.EAN_8||a===Mo.default.CODABAR||a===Mo.default.CODE_39||a===Mo.default.CODE_93||a===Mo.default.CODE_128||a===Mo.default.ITF||a===Mo.default.RSS_14||a===Mo.default.RSS_EXPANDED});o&&!t&&i.push(new WC.default(e)),n.includes(Mo.default.QR_CODE)&&i.push(new G$.default),n.includes(Mo.default.DATA_MATRIX)&&i.push(new W$.default),n.includes(Mo.default.AZTEC)&&i.push(new Y$.default),n.includes(Mo.default.PDF_417)&&i.push(new X$.default),o&&t&&i.push(new WC.default(e))}i.length===0&&(t||i.push(new WC.default(e)),i.push(new G$.default),i.push(new W$.default),i.push(new Y$.default),i.push(new X$.default),t&&i.push(new WC.default(e))),this.readers=i},r.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var n=V$(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.decodeInternal=function(e){var t,n;if(this.readers===null)throw new J$.default("No readers where selected, nothing can be read.");try{for(var i=V$(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof J$.default)continue}}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw new $Ee.default("No MultiFormat Readers were able to detect the code.")},r}();mx.default=ZEe});var $$=T(ry=>{h();p();var QEe=ry&&ry.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ry,"__esModule",{value:!0});ry.BrowserMultiFormatReader=void 0;var eIe=ol(),tIe=sB(),rIe=function(r){QEe(e,r);function e(t,n){t===void 0&&(t=null),n===void 0&&(n=500);var i=this,o=new tIe.default;return o.setHints(t),i=r.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e}(eIe.BrowserCodeReader);ry.BrowserMultiFormatReader=rIe});var Z$=T(ny=>{h();p();var nIe=ny&&ny.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ny,"__esModule",{value:!0});ny.BrowserPDF417Reader=void 0;var iIe=ol(),oIe=YC(),aIe=function(r){nIe(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new oIe.default,t)||this}return e}(iIe.BrowserCodeReader);ny.BrowserPDF417Reader=aIe});var Q$=T(iy=>{h();p();var sIe=iy&&iy.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iy,"__esModule",{value:!0});iy.BrowserQRCodeReader=void 0;var uIe=ol(),fIe=FC(),cIe=function(r){sIe(e,r);function e(t){return t===void 0&&(t=500),r.call(this,new fIe.default,t)||this}return e}(uIe.BrowserCodeReader);iy.BrowserQRCodeReader=cIe});var oy=T(fB=>{h();p();Object.defineProperty(fB,"__esModule",{value:!0});var uB;(function(r){r[r.ERROR_CORRECTION=0]="ERROR_CORRECTION",r[r.CHARACTER_SET=1]="CHARACTER_SET",r[r.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",r[r.MIN_SIZE=3]="MIN_SIZE",r[r.MAX_SIZE=4]="MAX_SIZE",r[r.MARGIN=5]="MARGIN",r[r.PDF417_COMPACT=6]="PDF417_COMPACT",r[r.PDF417_COMPACTION=7]="PDF417_COMPACTION",r[r.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",r[r.AZTEC_LAYERS=9]="AZTEC_LAYERS",r[r.QR_VERSION=10]="QR_VERSION"})(uB||(uB={}));fB.default=uB});var XC=T(dB=>{h();p();Object.defineProperty(dB,"__esModule",{value:!0});var cB=$2(),eZ=bn(),tZ=Vt(),dIe=function(){function r(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new cB.default(e,Int32Array.from([1])))}return r.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var n=t[t.length-1],i=this.field,o=t.length;o<=e;o++){var a=n.multiply(new cB.default(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));t.push(a),n=a}return t[e]},r.prototype.encode=function(e,t){if(t===0)throw new tZ.default("No error correction bytes");var n=e.length-t;if(n<=0)throw new tZ.default("No data bytes provided");var i=this.buildGenerator(t),o=new Int32Array(n);eZ.default.arraycopy(e,0,o,0,n);var a=new cB.default(this.field,o);a=a.multiplyByMonomial(t,1);for(var s=a.divide(i)[1],u=s.getCoefficients(),f=t-u.length,c=0;c<f;c++)e[n+c]=0;eZ.default.arraycopy(u,0,e,n+f,u.length)},r}();dB.default=dIe});var JC=T(lB=>{h();p();Object.defineProperty(lB,"__esModule",{value:!0});var lIe=Vt(),hIe=function(){function r(){}return r.applyMaskPenaltyRule1=function(e){return r.applyMaskPenaltyRule1Internal(e,!0)+r.applyMaskPenaltyRule1Internal(e,!1)},r.applyMaskPenaltyRule2=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=n[a],u=0;u<i-1;u++){var f=s[u];f===s[u+1]&&f===n[a+1][u]&&f===n[a+1][u+1]&&t++}return r.N2*t},r.applyMaskPenaltyRule3=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var u=n[a];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(r.isWhiteHorizontal(u,s-4,s)||r.isWhiteHorizontal(u,s+7,s+11))&&t++,a+6<o&&n[a][s]===1&&n[a+1][s]===0&&n[a+2][s]===1&&n[a+3][s]===1&&n[a+4][s]===1&&n[a+5][s]===0&&n[a+6][s]===1&&(r.isWhiteVertical(n,s,a-4,a)||r.isWhiteVertical(n,s,a+7,a+11))&&t++}return t*r.N3},r.isWhiteHorizontal=function(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(var i=t;i<n;i++)if(e[i]===1)return!1;return!0},r.isWhiteVertical=function(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][t]===1)return!1;return!0},r.applyMaskPenaltyRule4=function(e){for(var t=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=n[a],u=0;u<i;u++)s[u]===1&&t++;var f=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(t*2-f)*10/f);return c*r.N4},r.getDataMaskBit=function(e,t,n){var i,o;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:o=n*t,i=(o&1)+o%3;break;case 6:o=n*t,i=(o&1)+o%3&1;break;case 7:o=n*t,i=o%3+(n+t&1)&1;break;default:throw new lIe.default("Invalid mask pattern: "+e)}return i===0},r.applyMaskPenaltyRule1Internal=function(e,t){for(var n=0,i=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var u=0,f=-1,c=0;c<o;c++){var l=t?a[s][c]:a[c][s];l===f?u++:(u>=5&&(n+=r.N1+(u-5)),u=1,f=l)}u>=5&&(n+=r.N1+(u-5))}return n},r.N1=3,r.N2=3,r.N3=40,r.N4=10,r}();lB.default=hIe});var hB=T(yx=>{h();p();var pIe=yx&&yx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(yx,"__esModule",{value:!0});var gIe=Xu(),mIe=Jr(),yIe=function(){function r(e,t){this.width=e,this.height=t;for(var n=new Array(t),i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}return r.prototype.getHeight=function(){return this.height},r.prototype.getWidth=function(){return this.width},r.prototype.get=function(e,t){return this.bytes[t][e]},r.prototype.getArray=function(){return this.bytes},r.prototype.setNumber=function(e,t,n){this.bytes[t][e]=n},r.prototype.setBoolean=function(e,t,n){this.bytes[t][e]=n?1:0},r.prototype.clear=function(e){var t,n;try{for(var i=pIe(this.bytes),o=i.next();!o.done;o=i.next()){var a=o.value;gIe.default.fill(a,e)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},r.prototype.equals=function(e){if(!(e instanceof r))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=t.bytes[n],s=0,u=this.width;s<u;++s)if(o[s]!==a[s])return!1;return!0},r.prototype.toString=function(){for(var e=new mIe.default,t=0,n=this.height;t<n;++t){for(var i=this.bytes[t],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},r}();yx.default=yIe});var $C=T(pB=>{h();p();Object.defineProperty(pB,"__esModule",{value:!0});var vIe=Jr(),_Ie=function(){function r(){this.maskPattern=-1}return r.prototype.getMode=function(){return this.mode},r.prototype.getECLevel=function(){return this.ecLevel},r.prototype.getVersion=function(){return this.version},r.prototype.getMaskPattern=function(){return this.maskPattern},r.prototype.getMatrix=function(){return this.matrix},r.prototype.toString=function(){var e=new vIe.default;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},r.prototype.setMode=function(e){this.mode=e},r.prototype.setECLevel=function(e){this.ecLevel=e},r.prototype.setVersion=function(e){this.version=e},r.prototype.setMaskPattern=function(e){this.maskPattern=e},r.prototype.setMatrix=function(e){this.matrix=e},r.isValidMaskPattern=function(e){return e>=0&&e<r.NUM_MASK_PATTERNS},r.NUM_MASK_PATTERNS=8,r}();pB.default=_Ie});var ZC=T(vx=>{h();p();var xIe=vx&&vx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vx,"__esModule",{value:!0});var bIe=Ji(),wIe=function(r){xIe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.kind="WriterException",e}(bIe.default);vx.default=wIe});var yB=T(mB=>{h();p();Object.defineProperty(mB,"__esModule",{value:!0});var gB=Vf(),SIe=na(),CIe=$C(),EIe=JC(),ip=ZC(),IIe=Vt(),TIe=function(){function r(){}return r.clearMatrix=function(e){e.clear(255)},r.buildMatrix=function(e,t,n,i,o){r.clearMatrix(o),r.embedBasicPatterns(n,o),r.embedTypeInfo(t,i,o),r.maybeEmbedVersionInfo(n,o),r.embedDataBits(e,i,o)},r.embedBasicPatterns=function(e,t){r.embedPositionDetectionPatternsAndSeparators(t),r.embedDarkDotAtLeftBottomCorner(t),r.maybeEmbedPositionAdjustmentPatterns(e,t),r.embedTimingPatterns(t)},r.embedTypeInfo=function(e,t,n){var i=new gB.default;r.makeTypeInfoBits(e,t,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),u=r.TYPE_INFO_COORDINATES[o],f=u[0],c=u[1];if(n.setBoolean(f,c,s),o<8){var l=n.getWidth()-o-1,g=8;n.setBoolean(l,g,s)}else{var l=8,g=n.getHeight()-7+(o-8);n.setBoolean(l,g,s)}}},r.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var n=new gB.default;r.makeVersionInfoBits(e,n);for(var i=6*3-1,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,t.setBoolean(o,t.getHeight()-11+a,s),t.setBoolean(t.getHeight()-11+a,o,s)}}},r.embedDataBits=function(e,t,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var f=a-u;if(!!r.isEmpty(n.get(f,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,t!==255&&EIe.default.getDataMaskBit(t,f,s)&&(c=!c),n.setBoolean(f,s,c)}}s+=o}o=-o,s+=o,a-=2}if(i!==e.getSize())throw new ip.default("Not all bits consumed: "+i+"/"+e.getSize())},r.findMSBSet=function(e){return 32-SIe.default.numberOfLeadingZeros(e)},r.calculateBCHCode=function(e,t){if(t===0)throw new IIe.default("0 polynomial");var n=r.findMSBSet(t);for(e<<=n-1;r.findMSBSet(e)>=n;)e^=t<<r.findMSBSet(e)-n;return e},r.makeTypeInfoBits=function(e,t,n){if(!CIe.default.isValidMaskPattern(t))throw new ip.default("Invalid mask pattern");var i=e.getBits()<<3|t;n.appendBits(i,5);var o=r.calculateBCHCode(i,r.TYPE_INFO_POLY);n.appendBits(o,10);var a=new gB.default;if(a.appendBits(r.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new ip.default("should not happen but we got: "+n.getSize())},r.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var n=r.calculateBCHCode(e.getVersionNumber(),r.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new ip.default("should not happen but we got: "+t.getSize())},r.isEmpty=function(e){return e===255},r.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var n=(t+1)%2;r.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),r.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}},r.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new ip.default;e.setNumber(8,e.getHeight()-8,1)},r.embedHorizontalSeparationPattern=function(e,t,n){for(var i=0;i<8;++i){if(!r.isEmpty(n.get(e+i,t)))throw new ip.default;n.setNumber(e+i,t,0)}},r.embedVerticalSeparationPattern=function(e,t,n){for(var i=0;i<7;++i){if(!r.isEmpty(n.get(e,t+i)))throw new ip.default;n.setNumber(e,t+i,0)}},r.embedPositionAdjustmentPattern=function(e,t,n){for(var i=0;i<5;++i)for(var o=r.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,t+i,o[a])},r.embedPositionDetectionPattern=function(e,t,n){for(var i=0;i<7;++i)for(var o=r.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,t+i,o[a])},r.embedPositionDetectionPatternsAndSeparators=function(e){var t=r.POSITION_DETECTION_PATTERN[0].length;r.embedPositionDetectionPattern(0,0,e),r.embedPositionDetectionPattern(e.getWidth()-t,0,e),r.embedPositionDetectionPattern(0,e.getWidth()-t,e);var n=8;r.embedHorizontalSeparationPattern(0,n-1,e),r.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),r.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;r.embedVerticalSeparationPattern(i,0,e),r.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),r.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},r.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var u=0;u!==a;u++){var f=i[u];f>=0&&r.isEmpty(t.get(f,s))&&r.embedPositionAdjustmentPattern(f-2,s-2,t)}}},r.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),r.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),r.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),r.VERSION_INFO_POLY=7973,r.TYPE_INFO_POLY=1335,r.TYPE_INFO_MASK_PATTERN=21522,r}();mB.default=TIe});var rZ=T(vB=>{h();p();Object.defineProperty(vB,"__esModule",{value:!0});var AIe=function(){function r(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return r.prototype.getDataBytes=function(){return this.dataBytes},r.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},r}();vB.default=AIe});var r5=T(xx=>{h();p();var nZ=xx&&xx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xx,"__esModule",{value:!0});var QC=oy(),e5=Vf(),_x=e0(),OIe=r0(),DIe=XC(),Zs=NC(),_B=z_(),t5=JC(),RIe=hB(),iZ=$C(),oZ=yB(),xB=H1(),BIe=rZ(),wn=ZC(),PIe=function(){function r(){}return r.calculateMaskPenalty=function(e){return t5.default.applyMaskPenaltyRule1(e)+t5.default.applyMaskPenaltyRule2(e)+t5.default.applyMaskPenaltyRule3(e)+t5.default.applyMaskPenaltyRule4(e)},r.encode=function(e,t,n){n===void 0&&(n=null);var i=r.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(QC.default.CHARACTER_SET)!==void 0;o&&(i=n.get(QC.default.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new e5.default;if(a===Zs.default.BYTE&&(o||r.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=_x.default.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(a,s);var f=new e5.default;this.appendBytes(e,a,f,i);var c;if(n!==null&&n.get(QC.default.QR_VERSION)!==void 0){var l=Number.parseInt(n.get(QC.default.QR_VERSION).toString(),10);c=_B.default.getVersionForNumber(l);var g=this.calculateBitsNeeded(a,s,f,c);if(!this.willFit(g,c,t))throw new wn.default("Data too big for requested version")}else c=this.recommendVersion(t,a,s,f);var y=new e5.default;y.appendBitArray(s);var b=a===Zs.default.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,c,a,y),y.appendBitArray(f);var D=c.getECBlocksForLevel(t),M=c.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(M,y);var k=this.interleaveWithECBytes(y,c.getTotalCodewords(),M,D.getNumBlocks()),N=new iZ.default;N.setECLevel(t),N.setMode(a),N.setVersion(c);var K=c.getDimensionForVersion(),X=new RIe.default(K,K),q=this.chooseMaskPattern(k,t,c,X);return N.setMaskPattern(q),oZ.default.buildMatrix(k,t,c,q,X),N.setMatrix(X),N},r.recommendVersion=function(e,t,n,i){var o=this.calculateBitsNeeded(t,n,i,_B.default.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(t,n,i,a);return this.chooseVersion(s,e)},r.calculateBitsNeeded=function(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()},r.getAlphanumericCode=function(e){return e<r.ALPHANUMERIC_TABLE.length?r.ALPHANUMERIC_TABLE[e]:-1},r.chooseMode=function(e,t){if(t===void 0&&(t=null),_x.default.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Zs.default.KANJI;for(var n=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(r.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Zs.default.BYTE}return i?Zs.default.ALPHANUMERIC:n?Zs.default.NUMERIC:Zs.default.BYTE},r.isOnlyDoubleByteKanji=function(e){var t;try{t=xB.default.encode(e,_x.default.SJIS)}catch{return!1}var n=t.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=t[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},r.chooseMaskPattern=function(e,t,n,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<iZ.default.NUM_MASK_PATTERNS;s++){oZ.default.buildMatrix(e,t,n,s,i);var u=this.calculateMaskPenalty(i);u<o&&(o=u,a=s)}return a},r.chooseVersion=function(e,t){for(var n=1;n<=40;n++){var i=_B.default.getVersionForNumber(n);if(r.willFit(e,i,t))return i}throw new wn.default("Data too big")},r.willFit=function(e,t,n){var i=t.getTotalCodewords(),o=t.getECBlocksForLevel(n),a=o.getTotalECCodewords(),s=i-a,u=(e+7)/8;return s>=u},r.terminateBits=function(e,t){var n=e*8;if(t.getSize()>n)throw new wn.default("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(var i=0;i<4&&t.getSize()<n;++i)t.appendBit(!1);var o=t.getSize()&7;if(o>0)for(var i=o;i<8;i++)t.appendBit(!1);for(var a=e-t.getSizeInBytes(),i=0;i<a;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==n)throw new wn.default("Bits size does not equal capacity")},r.getNumDataBytesAndNumECBytesForBlockID=function(e,t,n,i,o,a){if(i>=n)throw new wn.default("Block ID too large");var s=e%n,u=n-s,f=Math.floor(e/n),c=f+1,l=Math.floor(t/n),g=l+1,y=f-l,b=c-g;if(y!==b)throw new wn.default("EC bytes mismatch");if(n!==u+s)throw new wn.default("RS blocks mismatch");if(e!==(l+y)*u+(g+b)*s)throw new wn.default("Total bytes mismatch");i<u?(o[0]=l,a[0]=y):(o[0]=g,a[0]=b)},r.interleaveWithECBytes=function(e,t,n,i){var o,a,s,u;if(e.getSizeInBytes()!==n)throw new wn.default("Number of bits and data bytes does not match");for(var f=0,c=0,l=0,g=new Array,y=0;y<i;++y){var b=new Int32Array(1),D=new Int32Array(1);r.getNumDataBytesAndNumECBytesForBlockID(t,n,i,y,b,D);var M=b[0],k=new Uint8Array(M);e.toBytes(8*f,k,0,M);var N=r.generateECBytes(k,D[0]);g.push(new BIe.default(k,N)),c=Math.max(c,M),l=Math.max(l,N.length),f+=b[0]}if(n!==f)throw new wn.default("Data bytes does not match offset");for(var K=new e5.default,y=0;y<c;++y)try{for(var X=(o=void 0,nZ(g)),q=X.next();!q.done;q=X.next()){var d=q.value,k=d.getDataBytes();y<k.length&&K.appendBits(k[y],8)}}catch(x){o={error:x}}finally{try{q&&!q.done&&(a=X.return)&&a.call(X)}finally{if(o)throw o.error}}for(var y=0;y<l;++y)try{for(var v=(s=void 0,nZ(g)),w=v.next();!w.done;w=v.next()){var d=w.value,N=d.getErrorCorrectionBytes();y<N.length&&K.appendBits(N[y],8)}}catch(x){s={error:x}}finally{try{w&&!w.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}if(t!==K.getSizeInBytes())throw new wn.default("Interleaving error: "+t+" and "+K.getSizeInBytes()+" differ.");return K},r.generateECBytes=function(e,t){for(var n=e.length,i=new Int32Array(n+t),o=0;o<n;o++)i[o]=e[o]&255;new DIe.default(OIe.default.QR_CODE_FIELD_256).encode(i,t);for(var a=new Uint8Array(t),o=0;o<t;o++)a[o]=i[n+o];return a},r.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},r.appendLengthInfo=function(e,t,n,i){var o=n.getCharacterCountBits(t);if(e>=1<<o)throw new wn.default(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},r.appendBytes=function(e,t,n,i){switch(t){case Zs.default.NUMERIC:r.appendNumericBytes(e,n);break;case Zs.default.ALPHANUMERIC:r.appendAlphanumericBytes(e,n);break;case Zs.default.BYTE:r.append8BitBytes(e,n,i);break;case Zs.default.KANJI:r.appendKanjiBytes(e,n);break;default:throw new wn.default("Invalid mode: "+t)}},r.getDigit=function(e){return e.charCodeAt(0)-48},r.isDigit=function(e){var t=r.getDigit(e);return t>=0&&t<=9},r.appendNumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var o=r.getDigit(e.charAt(i));if(i+2<n){var a=r.getDigit(e.charAt(i+1)),s=r.getDigit(e.charAt(i+2));t.appendBits(o*100+a*10+s,10),i+=3}else if(i+1<n){var a=r.getDigit(e.charAt(i+1));t.appendBits(o*10+a,7),i+=2}else t.appendBits(o,4),i++}},r.appendAlphanumericBytes=function(e,t){for(var n=e.length,i=0;i<n;){var o=r.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new wn.default;if(i+1<n){var a=r.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new wn.default;t.appendBits(o*45+a,11),i+=2}else t.appendBits(o,6),i++}},r.append8BitBytes=function(e,t,n){var i;try{i=xB.default.encode(e,n)}catch(u){throw new wn.default(u)}for(var o=0,a=i.length;o!==a;o++){var s=i[o];t.appendBits(s,8)}},r.appendKanjiBytes=function(e,t){var n;try{n=xB.default.encode(e,_x.default.SJIS)}catch(l){throw new wn.default(l)}for(var i=n.length,o=0;o<i;o+=2){var a=n[o]&255,s=n[o+1]&255,u=a<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new wn.default("Invalid byte sequence");var c=(f>>8)*192+(f&255);t.appendBits(c,13)}},r.appendECI=function(e,t){t.appendBits(Zs.default.ECI.getBits(),4),t.appendBits(e.getValue(),8)},r.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),r.DEFAULT_BYTE_MODE_ENCODING=_x.default.UTF8.getName(),r}();xx.default=PIe});var uZ=T(i5=>{h();p();Object.defineProperty(i5,"__esModule",{value:!0});i5.BrowserQRCodeSvgWriter=void 0;var n5=oy(),MIe=r5(),aZ=j_(),sZ=Vt(),NIe=Wf(),kIe=function(){function r(){}return r.prototype.write=function(e,t,n,i){if(i===void 0&&(i=null),e.length===0)throw new sZ.default("Found empty contents");if(t<0||n<0)throw new sZ.default("Requested dimensions are too small: "+t+"x"+n);var o=aZ.default.L,a=r.QUIET_ZONE_SIZE;i!==null&&(i.get(n5.default.ERROR_CORRECTION)!==void 0&&(o=aZ.default.fromString(i.get(n5.default.ERROR_CORRECTION).toString())),i.get(n5.default.MARGIN)!==void 0&&(a=Number.parseInt(i.get(n5.default.MARGIN).toString(),10)));var s=MIe.default.encode(e,o,i);return this.renderResult(s,t,n,a)},r.prototype.writeToDom=function(e,t,n,i,o){o===void 0&&(o=null),typeof e=="string"&&(e=document.querySelector(e));var a=this.write(t,n,i,o);e&&e.appendChild(a)},r.prototype.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new NIe.default;for(var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-a*g)/2),b=Math.floor((l-s*g)/2),D=this.createSVGElement(c,l),M=0,k=b;M<s;M++,k+=g)for(var N=0,K=y;N<a;N++,K+=g)if(o.get(N,M)===1){var X=this.createSvgRectElement(K,k,g,g);D.appendChild(X)}return D},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n},r.prototype.createSvgRectElement=function(e,t,n,i){var o=document.createElementNS(r.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o},r.QUIET_ZONE_SIZE=4,r.SVG_NS="http://www.w3.org/2000/svg",r}();i5.BrowserQRCodeSvgWriter=kIe});var cZ=T(fZ=>{h();p();Object.defineProperty(fZ,"__esModule",{value:!0})});var lZ=T(dZ=>{h();p();Object.defineProperty(dZ,"__esModule",{value:!0})});var hZ=T(Sn=>{h();p();var qIe=Sn&&Sn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qs=Sn&&Sn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&qIe(e,r,t)};Object.defineProperty(Sn,"__esModule",{value:!0});Qs(PX(),Sn);Qs(LJ(),Sn);Qs(ol(),Sn);Qs(ZJ(),Sn);Qs($$(),Sn);Qs(Z$(),Sn);Qs(Q$(),Sn);Qs(uZ(),Sn);Qs(cZ(),Sn);Qs(uD(),Sn);Qs(lZ(),Sn);Qs(fD(),Sn)});var SB=T(wB=>{h();p();Object.defineProperty(wB,"__esModule",{value:!0});var FIe=br(),o5=oy(),LIe=Oa(),pZ=j_(),UIe=r5(),bB=Vt(),jIe=Wf(),HIe=function(){function r(){}return r.prototype.encode=function(e,t,n,i,o){if(e.length===0)throw new bB.default("Found empty contents");if(t!==FIe.default.QR_CODE)throw new bB.default("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new bB.default("Requested dimensions are too small: "+n+"x"+i);var a=pZ.default.L,s=r.QUIET_ZONE_SIZE;o!==null&&(o.get(o5.default.ERROR_CORRECTION)!==void 0&&(a=pZ.default.fromString(o.get(o5.default.ERROR_CORRECTION).toString())),o.get(o5.default.MARGIN)!==void 0&&(s=Number.parseInt(o.get(o5.default.MARGIN).toString(),10)));var u=UIe.default.encode(e,a,o);return r.renderResult(u,n,i,s)},r.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new jIe.default;for(var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-a*g)/2),b=Math.floor((l-s*g)/2),D=new LIe.default(c,l),M=0,k=b;M<s;M++,k+=g)for(var N=0,K=y;N<a;N++,K+=g)o.get(N,M)===1&&D.setRegion(K,k,g,g);return D},r.QUIET_ZONE_SIZE=4,r}();wB.default=HIe});var gZ=T(CB=>{h();p();Object.defineProperty(CB,"__esModule",{value:!0});var KIe=SB(),VIe=br(),zIe=Vt(),GIe=function(){function r(){}return r.prototype.encode=function(e,t,n,i,o){var a;switch(t){case VIe.default.QR_CODE:a=new KIe.default;break;default:throw new zIe.default("No encoder available for format "+t)}return a.encode(e,t,n,i,o)},r}();CB.default=GIe});var yZ=T(bx=>{h();p();var YIe=bx&&bx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bx,"__esModule",{value:!0});var EB=bn(),WIe=Lm(),XIe=Um(),mZ=Vt(),JIe=function(r){YIe(e,r);function e(t,n,i,o,a,s,u,f){var c=r.call(this,s,u)||this;if(c.yuvData=t,c.dataWidth=n,c.dataHeight=i,c.left=o,c.top=a,o+s>n||a+u>i)throw new mZ.default("Crop rectangle does not fit within image data.");return f&&c.reverseHorizontal(s,u),c}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new mZ.default("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(t+this.top)*this.dataWidth+this.left;return EB.default.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=t*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return EB.default.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<n;s++){var u=s*t;EB.default.arraycopy(this.yuvData,a,o,u,t),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*t,f=0;f<t;f++){var c=o[a+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|c*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,n){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth)for(var s=a+t/2,u=a,f=a+t-1;u<s;u++,f--){var c=i[u];i[u]=i[f],i[f]=c}},e.prototype.invert=function(){return new XIe.default(this)},e.THUMBNAIL_SCALE_FACTOR=2,e}(WIe.default);bx.default=JIe});var _Z=T(wx=>{h();p();var $Ie=wx&&wx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wx,"__esModule",{value:!0});Um();var ZIe=Um(),QIe=Lm(),IB=bn(),vZ=Vt(),eTe=function(r){$Ie(e,r);function e(t,n,i,o,a,s,u){var f=r.call(this,n,i)||this;if(f.dataWidth=o,f.dataHeight=a,f.left=s,f.top=u,t.BYTES_PER_ELEMENT===4){for(var c=n*i,l=new Uint8ClampedArray(c),g=0;g<c;g++){var y=t[g],b=y>>16&255,D=y>>7&510,M=y&255;l[g]=(b+D+M)/4&255}f.luminances=l}else f.luminances=t;if(o===void 0&&(f.dataWidth=n),a===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new vZ.default("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new vZ.default("Requested row is outside the image: "+t);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(t+this.top)*this.dataWidth+this.left;return IB.default.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=t*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return IB.default.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<n;s++){var u=s*t;IB.default.arraycopy(this.luminances,a,o,u,t),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new ZIe.default(this)},e}(QIe.default);wx.default=eTe});var TB=T(Sx=>{h();p();var tTe=Sx&&Sx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Sx,"__esModule",{value:!0});var rTe=e0(),nTe=function(r){tTe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(rTe.default);Sx.default=nTe});var OB=T(AB=>{h();p();Object.defineProperty(AB,"__esModule",{value:!0});var iTe=e0(),oTe=function(){function r(){}return r.ISO_8859_1=iTe.default.ISO8859_1,r}();AB.default=oTe});var RB=T(DB=>{h();p();Object.defineProperty(DB,"__esModule",{value:!0});var aTe=function(){function r(){}return r.prototype.isCompact=function(){return this.compact},r.prototype.setCompact=function(e){this.compact=e},r.prototype.getSize=function(){return this.size},r.prototype.setSize=function(e){this.size=e},r.prototype.getLayers=function(){return this.layers},r.prototype.setLayers=function(e){this.layers=e},r.prototype.getCodeWords=function(){return this.codeWords},r.prototype.setCodeWords=function(e){this.codeWords=e},r.prototype.getMatrix=function(){return this.matrix},r.prototype.setMatrix=function(e){this.matrix=e},r}();DB.default=aTe});var xZ=T(BB=>{h();p();Object.defineProperty(BB,"__esModule",{value:!0});var sTe=function(){function r(){}return r.singletonList=function(e){return[e]},r.min=function(e,t){return e.sort(t)[0]},r}();BB.default=sTe});var bZ=T(PB=>{h();p();Object.defineProperty(PB,"__esModule",{value:!0});var uTe=function(){function r(e){this.previous=e}return r.prototype.getPrevious=function(){return this.previous},r}();PB.default=uTe});var a5=T(Cx=>{h();p();var fTe=Cx&&Cx.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Cx,"__esModule",{value:!0});var cTe=bZ(),dTe=na(),lTe=function(r){fTe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(t,n){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+dTe.default.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(cTe.default);Cx.default=lTe});var wZ=T(Ex=>{h();p();var hTe=Ex&&Ex.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ex,"__esModule",{value:!0});var pTe=a5(),gTe=function(r){hTe(e,r);function e(t,n,i){var o=r.call(this,t,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(t,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(pTe.default);Ex.default=gTe});var SZ=T(ay=>{h();p();Object.defineProperty(ay,"__esModule",{value:!0});ay.add=ay.addBinaryShift=void 0;var mTe=a5(),yTe=wZ();function vTe(r,e,t){return new yTe.default(r,e,t)}ay.addBinaryShift=vTe;function _Te(r,e,t){return new mTe.default(r,e,t)}ay.add=_Te});var Ix=T(eo=>{h();p();Object.defineProperty(eo,"__esModule",{value:!0});eo.EMPTY_TOKEN=eo.MODE_PUNCT=eo.MODE_MIXED=eo.MODE_DIGIT=eo.MODE_LOWER=eo.MODE_UPPER=eo.MODE_NAMES=void 0;var xTe=a5();eo.MODE_NAMES=["UPPER","LOWER","DIGIT","MIXED","PUNCT"];eo.MODE_UPPER=0;eo.MODE_LOWER=1;eo.MODE_DIGIT=2;eo.MODE_MIXED=3;eo.MODE_PUNCT=4;eo.EMPTY_TOKEN=new xTe.default(null,0,0)});var CZ=T(s5=>{h();p();Object.defineProperty(s5,"__esModule",{value:!0});s5.LATCH_TABLE=void 0;s5.LATCH_TABLE=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])]});var MB=T(pl=>{h();p();var bTe=pl&&pl.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(pl,"__esModule",{value:!0});pl.SHIFT_TABLE=pl.static_SHIFT_TABLE=void 0;var EZ=Xu(),eu=Ix();function IZ(r){var e,t;try{for(var n=bTe(r),i=n.next();!i.done;i=n.next()){var o=i.value;EZ.default.fill(o,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r[eu.MODE_UPPER][eu.MODE_PUNCT]=0,r[eu.MODE_LOWER][eu.MODE_PUNCT]=0,r[eu.MODE_LOWER][eu.MODE_UPPER]=28,r[eu.MODE_MIXED][eu.MODE_PUNCT]=0,r[eu.MODE_DIGIT][eu.MODE_PUNCT]=0,r[eu.MODE_DIGIT][eu.MODE_UPPER]=15,r}pl.static_SHIFT_TABLE=IZ;pl.SHIFT_TABLE=IZ(EZ.default.createInt32Array(6,6))});var TZ=T(Tx=>{h();p();var wTe=Tx&&Tx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Tx,"__esModule",{value:!0});var STe=Vf(),sy=SZ(),u0=Ix(),NB=CZ(),CTe=MB(),ETe=Ju(),ITe=function(){function r(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}return r.prototype.getMode=function(){return this.mode},r.prototype.getToken=function(){return this.token},r.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},r.prototype.getBitCount=function(){return this.bitCount},r.prototype.latchAndAppend=function(e,t){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=NB.LATCH_TABLE[this.mode][e];i=sy.add(i,o&65535,o>>16),n+=o>>16}var a=e===u0.MODE_DIGIT?4:5;return i=sy.add(i,t,a),new r(i,e,0,n+a)},r.prototype.shiftAndAppend=function(e,t){var n=this.token,i=this.mode===u0.MODE_DIGIT?4:5;return n=sy.add(n,CTe.SHIFT_TABLE[this.mode][e],i),n=sy.add(n,t,5),new r(n,this.mode,0,this.bitCount+i+5)},r.prototype.addBinaryShiftChar=function(e){var t=this.token,n=this.mode,i=this.bitCount;if(this.mode===u0.MODE_PUNCT||this.mode===u0.MODE_DIGIT){var o=NB.LATCH_TABLE[n][u0.MODE_UPPER];t=sy.add(t,o&65535,o>>16),i+=o>>16,n=u0.MODE_UPPER}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new r(t,n,this.binaryShiftByteCount+1,i+a);return s.binaryShiftByteCount===2047+31&&(s=s.endBinaryShift(e+1)),s},r.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=sy.addBinaryShift(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new r(t,this.mode,0,this.bitCount)},r.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(NB.LATCH_TABLE[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=r.calculateBinaryShiftCost(e)-r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},r.prototype.toBitArray=function(e){for(var t,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var a=new STe.default;try{for(var s=wTe(i),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(a,e)}}catch(c){t={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},r.prototype.toString=function(){return ETe.default.format("%s bits=%d bytes=%d",u0.MODE_NAMES[this.mode],this.bitCount,this.binaryShiftByteCount)},r.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},r.INITIAL_STATE=new r(u0.EMPTY_TOKEN,u0.MODE_UPPER,0,0),r}();Tx.default=ITe});var OZ=T(uy=>{h();p();Object.defineProperty(uy,"__esModule",{value:!0});uy.CHAR_MAP=uy.static_CHAR_MAP=void 0;var Jf=Ix(),TTe=Xu(),tu=Ju();function AZ(r){var e=tu.default.getCharCode(" "),t=tu.default.getCharCode("."),n=tu.default.getCharCode(",");r[Jf.MODE_UPPER][e]=1;for(var i=tu.default.getCharCode("Z"),o=tu.default.getCharCode("A"),a=o;a<=i;a++)r[Jf.MODE_UPPER][a]=a-o+2;r[Jf.MODE_LOWER][e]=1;for(var s=tu.default.getCharCode("z"),u=tu.default.getCharCode("a"),a=u;a<=s;a++)r[Jf.MODE_LOWER][a]=a-u+2;r[Jf.MODE_DIGIT][e]=1;for(var f=tu.default.getCharCode("9"),c=tu.default.getCharCode("0"),a=c;a<=f;a++)r[Jf.MODE_DIGIT][a]=a-c+2;r[Jf.MODE_DIGIT][n]=12,r[Jf.MODE_DIGIT][t]=13;for(var l=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"],g=0;g<l.length;g++)r[Jf.MODE_MIXED][tu.default.getCharCode(l[g])]=g;for(var y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<y.length;g++)tu.default.getCharCode(y[g])>0&&(r[Jf.MODE_PUNCT][tu.default.getCharCode(y[g])]=g);return r}uy.static_CHAR_MAP=AZ;uy.CHAR_MAP=AZ(TTe.default.createInt32Array(5,256))});var qB=T(Ax=>{h();p();var u5=Ax&&Ax.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ax,"__esModule",{value:!0});var DZ=xZ(),ATe=TZ(),op=Ix(),kB=OZ(),OTe=MB(),fy=Ju(),DTe=function(){function r(e){this.text=e}return r.prototype.encode=function(){for(var e=fy.default.getCharCode(" "),t=fy.default.getCharCode(`
`),n=DZ.default.singletonList(ATe.default.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case fy.default.getCharCode("\r"):o=a===t?2:0;break;case fy.default.getCharCode("."):o=a===e?3:0;break;case fy.default.getCharCode(","):o=a===e?4:0;break;case fy.default.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(n=r.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var s=DZ.default.min(n,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},r.prototype.updateStateListForChar=function(e,t){var n,i,o=[];try{for(var a=u5(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.updateStateForChar(u,t,o)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r.simplifyStates(o)},r.prototype.updateStateForChar=function(e,t,n){for(var i=this.text[t]&255,o=kB.CHAR_MAP[e.getMode()][i]>0,a=null,s=0;s<=op.MODE_PUNCT;s++){var u=kB.CHAR_MAP[s][i];if(u>0){if(a==null&&(a=e.endBinaryShift(t)),!o||s===e.getMode()||s===op.MODE_DIGIT){var f=a.latchAndAppend(s,u);n.push(f)}if(!o&&OTe.SHIFT_TABLE[e.getMode()][s]>=0){var c=a.shiftAndAppend(s,u);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||kB.CHAR_MAP[e.getMode()][i]===0){var l=e.addBinaryShiftChar(t);n.push(l)}},r.updateStateListForPair=function(e,t,n){var i,o,a=[];try{for(var s=u5(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,t,n,a)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},r.updateStateForPair=function(e,t,n,i){var o=e.endBinaryShift(t);if(i.push(o.latchAndAppend(op.MODE_PUNCT,n)),e.getMode()!==op.MODE_PUNCT&&i.push(o.shiftAndAppend(op.MODE_PUNCT,n)),n===3||n===4){var a=o.latchAndAppend(op.MODE_DIGIT,16-n).latchAndAppend(op.MODE_DIGIT,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(s)}},r.simplifyStates=function(e){var t,n,i,o,a=[];try{for(var s=u5(e),u=s.next();!u.done;u=s.next()){var f=u.value,c=!0,l=function(M){if(M.isBetterThanOrEqualTo(f))return c=!1,"break";f.isBetterThanOrEqualTo(M)&&(a=a.filter(function(k){return k!==M}))};try{for(var g=(i=void 0,u5(a)),y=g.next();!y.done;y=g.next()){var b=y.value,D=l(b);if(D==="break")break}}catch(M){i={error:M}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}c&&a.push(f)}}catch(M){t={error:M}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},r}();Ax.default=DTe});var LB=T(Rx=>{h();p();var RTe=Rx&&Rx.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Rx,"__esModule",{value:!0});var FB=Vf(),Ox=Vt(),BTe=Ju(),PTe=Oa(),MTe=RB(),NTe=XC(),Dx=r0(),kTe=qB(),Jn=na(),qTe=function(){function r(){}return r.encodeBytes=function(e){return r.encode(e,r.DEFAULT_EC_PERCENT,r.DEFAULT_AZTEC_LAYERS)},r.encode=function(e,t,n){var i=new kTe.default(e).encode(),o=Jn.default.truncDivision(i.getSize()*t,100)+11,a=i.getSize()+o,s,u,f,c,l;if(n!==r.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?r.MAX_NB_BITS_COMPACT:r.MAX_NB_BITS))throw new Ox.default(BTe.default.format("Illegal value %s for layers",n));f=r.totalBitsInLayer(u,s),c=r.WORD_SIZE[u];var g=f-f%c;if(l=r.stuffBits(i,c),l.getSize()+o>g)throw new Ox.default("Data to large for user specified layer");if(s&&l.getSize()>c*64)throw new Ox.default("Data to large for user specified layer")}else{c=0,l=null;for(var y=0;;y++){if(y>r.MAX_NB_BITS)throw new Ox.default("Data too large for an Aztec code");if(s=y<=3,u=s?y+1:y,f=r.totalBitsInLayer(u,s),!(a>f)){(l==null||c!==r.WORD_SIZE[u])&&(c=r.WORD_SIZE[u],l=r.stuffBits(i,c));var g=f-f%c;if(!(s&&l.getSize()>c*64)&&l.getSize()+o<=g)break}}}var b=r.generateCheckWords(l,f,c),D=l.getSize()/c,M=r.generateModeMessage(s,u,D),k=(s?11:14)+u*4,N=new Int32Array(k),K;if(s){K=k;for(var y=0;y<N.length;y++)N[y]=y}else{K=k+1+2*Jn.default.truncDivision(Jn.default.truncDivision(k,2)-1,15);for(var X=Jn.default.truncDivision(k,2),q=Jn.default.truncDivision(K,2),y=0;y<X;y++){var d=y+Jn.default.truncDivision(y,15);N[X-y-1]=q-d-1,N[X+y]=q+d+1}}for(var v=new PTe.default(K),y=0,w=0;y<u;y++){for(var I=(u-y)*4+(s?9:12),x=0;x<I;x++)for(var B=x*2,E=0;E<2;E++)b.get(w+B+E)&&v.set(N[y*2+E],N[y*2+x]),b.get(w+I*2+B+E)&&v.set(N[y*2+x],N[k-1-y*2-E]),b.get(w+I*4+B+E)&&v.set(N[k-1-y*2-E],N[k-1-y*2-x]),b.get(w+I*6+B+E)&&v.set(N[k-1-y*2-x],N[y*2+E]);w+=I*8}if(r.drawModeMessage(v,s,K,M),s)r.drawBullsEye(v,Jn.default.truncDivision(K,2),5);else{r.drawBullsEye(v,Jn.default.truncDivision(K,2),7);for(var y=0,x=0;y<Jn.default.truncDivision(k,2)-1;y+=15,x+=16)for(var E=Jn.default.truncDivision(K,2)&1;E<K;E+=2)v.set(Jn.default.truncDivision(K,2)-x,E),v.set(Jn.default.truncDivision(K,2)+x,E),v.set(E,Jn.default.truncDivision(K,2)-x),v.set(E,Jn.default.truncDivision(K,2)+x)}var _=new MTe.default;return _.setCompact(s),_.setSize(K),_.setLayers(u),_.setCodeWords(D),_.setMatrix(v),_},r.drawBullsEye=function(e,t,n){for(var i=0;i<n;i+=2)for(var o=t-i;o<=t+i;o++)e.set(o,t-i),e.set(o,t+i),e.set(t-i,o),e.set(t+i,o);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)},r.generateModeMessage=function(e,t,n){var i=new FB.default;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=r.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=r.generateCheckWords(i,40,4)),i},r.drawModeMessage=function(e,t,n,i){var o=Jn.default.truncDivision(n,2);if(t)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+Jn.default.truncDivision(a,5);i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)}},r.generateCheckWords=function(e,t,n){var i,o,a=e.getSize()/n,s=new NTe.default(r.getGF(n)),u=Jn.default.truncDivision(t,n),f=r.bitsToWords(e,n,u);s.encode(f,u-a);var c=t%n,l=new FB.default;l.appendBits(0,c);try{for(var g=RTe(Array.from(f)),y=g.next();!y.done;y=g.next()){var b=y.value;l.appendBits(b,n)}}catch(D){i={error:D}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return l},r.bitsToWords=function(e,t,n){var i=new Int32Array(n),o,a;for(o=0,a=e.getSize()/t;o<a;o++){for(var s=0,u=0;u<t;u++)s|=e.get(o*t+u)?1<<t-u-1:0;i[o]=s}return i},r.getGF=function(e){switch(e){case 4:return Dx.default.AZTEC_PARAM;case 6:return Dx.default.AZTEC_DATA_6;case 8:return Dx.default.AZTEC_DATA_8;case 10:return Dx.default.AZTEC_DATA_10;case 12:return Dx.default.AZTEC_DATA_12;default:throw new Ox.default("Unsupported word size "+e)}},r.stuffBits=function(e,t){for(var n=new FB.default,i=e.getSize(),o=(1<<t)-2,a=0;a<i;a+=t){for(var s=0,u=0;u<t;u++)(a+u>=i||e.get(a+u))&&(s|=1<<t-1-u);(s&o)===o?(n.appendBits(s&o,t),a--):(s&o)===0?(n.appendBits(s|1,t),a--):n.appendBits(s,t)}return n},r.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},r.DEFAULT_EC_PERCENT=33,r.DEFAULT_AZTEC_LAYERS=0,r.MAX_NB_BITS=32,r.MAX_NB_BITS_COMPACT=4,r.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),r}();Rx.default=qTe});var BZ=T(jB=>{h();p();Object.defineProperty(jB,"__esModule",{value:!0});var FTe=br(),cy=oy(),UB=LB(),LTe=Oa(),UTe=TB(),jTe=OB(),RZ=na(),HTe=Wf(),KTe=Vt(),VTe=Ju(),zTe=function(){function r(){}return r.prototype.encode=function(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)},r.prototype.encodeWithHints=function(e,t,n,i,o){var a=jTe.default.ISO_8859_1,s=UB.default.DEFAULT_EC_PERCENT,u=UB.default.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(cy.default.CHARACTER_SET)&&(a=UTe.default.forName(o.get(cy.default.CHARACTER_SET).toString())),o.has(cy.default.ERROR_CORRECTION)&&(s=RZ.default.parseInt(o.get(cy.default.ERROR_CORRECTION).toString())),o.has(cy.default.AZTEC_LAYERS)&&(u=RZ.default.parseInt(o.get(cy.default.AZTEC_LAYERS).toString()))),r.encodeLayers(e,t,n,i,a,s,u)},r.encodeLayers=function(e,t,n,i,o,a,s){if(t!==FTe.default.AZTEC)throw new KTe.default("Can only encode AZTEC, but got "+t);var u=UB.default.encode(VTe.default.getBytes(e,o),a,s);return r.renderResult(u,n,i)},r.renderResult=function(e,t,n){var i=e.getMatrix();if(i==null)throw new HTe.default;for(var o=i.getWidth(),a=i.getHeight(),s=Math.max(t,o),u=Math.max(n,a),f=Math.min(s/o,u/a),c=(s-o*f)/2,l=(u-a*f)/2,g=new LTe.default(s,u),y=0,b=l;y<a;y++,b+=f)for(var D=0,M=c;D<o;D++,M+=f)i.get(D,y)&&g.setRegion(M,b,f,f);return g},r}();jB.default=zTe});var Pa=T(ve=>{h();p();var GTe=ve&&ve.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YTe=ve&&ve.__exportStar||function(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&GTe(e,r,t)};Object.defineProperty(ve,"__esModule",{value:!0});YTe(hZ(),ve);var WTe=$S();Object.defineProperty(ve,"ArgumentException",{enumerable:!0,get:function(){return WTe.default}});var XTe=oC();Object.defineProperty(ve,"ArithmeticException",{enumerable:!0,get:function(){return XTe.default}});var JTe=Wu();Object.defineProperty(ve,"ChecksumException",{enumerable:!0,get:function(){return JTe.default}});var $Te=Ji();Object.defineProperty(ve,"Exception",{enumerable:!0,get:function(){return $Te.default}});var ZTe=qr();Object.defineProperty(ve,"FormatException",{enumerable:!0,get:function(){return ZTe.default}});var QTe=Vt();Object.defineProperty(ve,"IllegalArgumentException",{enumerable:!0,get:function(){return QTe.default}});var e7e=Wf();Object.defineProperty(ve,"IllegalStateException",{enumerable:!0,get:function(){return e7e.default}});var t7e=_t();Object.defineProperty(ve,"NotFoundException",{enumerable:!0,get:function(){return t7e.default}});var r7e=aB();Object.defineProperty(ve,"ReaderException",{enumerable:!0,get:function(){return r7e.default}});var n7e=bD();Object.defineProperty(ve,"ReedSolomonException",{enumerable:!0,get:function(){return n7e.default}});var i7e=eC();Object.defineProperty(ve,"UnsupportedOperationException",{enumerable:!0,get:function(){return i7e.default}});var o7e=ZC();Object.defineProperty(ve,"WriterException",{enumerable:!0,get:function(){return o7e.default}});var a7e=br();Object.defineProperty(ve,"BarcodeFormat",{enumerable:!0,get:function(){return a7e.default}});var s7e=GO();Object.defineProperty(ve,"Binarizer",{enumerable:!0,get:function(){return s7e.default}});var u7e=VO();Object.defineProperty(ve,"BinaryBitmap",{enumerable:!0,get:function(){return u7e.default}});var f7e=$i();Object.defineProperty(ve,"DecodeHintType",{enumerable:!0,get:function(){return f7e.default}});var c7e=Um();Object.defineProperty(ve,"InvertedLuminanceSource",{enumerable:!0,get:function(){return c7e.default}});var d7e=Lm();Object.defineProperty(ve,"LuminanceSource",{enumerable:!0,get:function(){return d7e.default}});var l7e=sB();Object.defineProperty(ve,"MultiFormatReader",{enumerable:!0,get:function(){return l7e.default}});var h7e=gZ();Object.defineProperty(ve,"MultiFormatWriter",{enumerable:!0,get:function(){return h7e.default}});var p7e=yZ();Object.defineProperty(ve,"PlanarYUVLuminanceSource",{enumerable:!0,get:function(){return p7e.default}});var g7e=Zi();Object.defineProperty(ve,"Result",{enumerable:!0,get:function(){return g7e.default}});var m7e=Yf();Object.defineProperty(ve,"ResultMetadataType",{enumerable:!0,get:function(){return m7e.default}});var y7e=_Z();Object.defineProperty(ve,"RGBLuminanceSource",{enumerable:!0,get:function(){return y7e.default}});var v7e=$r();Object.defineProperty(ve,"ResultPoint",{enumerable:!0,get:function(){return v7e.default}});var _7e=bn();Object.defineProperty(ve,"ZXingSystem",{enumerable:!0,get:function(){return _7e.default}});var x7e=Jr();Object.defineProperty(ve,"ZXingStringBuilder",{enumerable:!0,get:function(){return x7e.default}});var b7e=H1();Object.defineProperty(ve,"ZXingStringEncoding",{enumerable:!0,get:function(){return b7e.default}});var w7e=TB();Object.defineProperty(ve,"ZXingCharset",{enumerable:!0,get:function(){return w7e.default}});var S7e=Xu();Object.defineProperty(ve,"ZXingArrays",{enumerable:!0,get:function(){return S7e.default}});var C7e=OB();Object.defineProperty(ve,"ZXingStandardCharsets",{enumerable:!0,get:function(){return C7e.default}});var E7e=na();Object.defineProperty(ve,"ZXingInteger",{enumerable:!0,get:function(){return E7e.default}});var I7e=Vf();Object.defineProperty(ve,"BitArray",{enumerable:!0,get:function(){return I7e.default}});var T7e=Oa();Object.defineProperty(ve,"BitMatrix",{enumerable:!0,get:function(){return T7e.default}});var A7e=OC();Object.defineProperty(ve,"BitSource",{enumerable:!0,get:function(){return A7e.default}});var O7e=e0();Object.defineProperty(ve,"CharacterSetECI",{enumerable:!0,get:function(){return O7e.default}});var D7e=Hm();Object.defineProperty(ve,"DecoderResult",{enumerable:!0,get:function(){return D7e.default}});var R7e=kD();Object.defineProperty(ve,"DefaultGridSampler",{enumerable:!0,get:function(){return R7e.default}});var B7e=r_();Object.defineProperty(ve,"DetectorResult",{enumerable:!0,get:function(){return B7e.default}});var P7e=oy();Object.defineProperty(ve,"EncodeHintType",{enumerable:!0,get:function(){return P7e.default}});var M7e=iD();Object.defineProperty(ve,"GlobalHistogramBinarizer",{enumerable:!0,get:function(){return M7e.default}});var N7e=MD();Object.defineProperty(ve,"GridSampler",{enumerable:!0,get:function(){return N7e.default}});var k7e=o_();Object.defineProperty(ve,"GridSamplerInstance",{enumerable:!0,get:function(){return k7e.default}});var q7e=oD();Object.defineProperty(ve,"HybridBinarizer",{enumerable:!0,get:function(){return q7e.default}});var F7e=dC();Object.defineProperty(ve,"PerspectiveTransform",{enumerable:!0,get:function(){return F7e.default}});var L7e=Ju();Object.defineProperty(ve,"StringUtils",{enumerable:!0,get:function(){return L7e.default}});var U7e=Js();Object.defineProperty(ve,"MathUtils",{enumerable:!0,get:function(){return U7e.default}});var j7e=cC();Object.defineProperty(ve,"WhiteRectangleDetector",{enumerable:!0,get:function(){return j7e.default}});var H7e=r0();Object.defineProperty(ve,"GenericGF",{enumerable:!0,get:function(){return H7e.default}});var K7e=$2();Object.defineProperty(ve,"GenericGFPoly",{enumerable:!0,get:function(){return K7e.default}});var V7e=Vm();Object.defineProperty(ve,"ReedSolomonDecoder",{enumerable:!0,get:function(){return V7e.default}});var z7e=XC();Object.defineProperty(ve,"ReedSolomonEncoder",{enumerable:!0,get:function(){return z7e.default}});var G7e=BC();Object.defineProperty(ve,"DataMatrixReader",{enumerable:!0,get:function(){return G7e.default}});var Y7e=SR();Object.defineProperty(ve,"DataMatrixDecodedBitStreamParser",{enumerable:!0,get:function(){return Y7e.default}});var W7e=YC();Object.defineProperty(ve,"PDF417Reader",{enumerable:!0,get:function(){return W7e.default}});var X7e=eB();Object.defineProperty(ve,"PDF417ResultMetadata",{enumerable:!0,get:function(){return X7e.default}});var J7e=oB();Object.defineProperty(ve,"PDF417DecodedBitStreamParser",{enumerable:!0,get:function(){return J7e.default}});var $7e=KR();Object.defineProperty(ve,"PDF417DecoderErrorCorrection",{enumerable:!0,get:function(){return $7e.default}});var Z7e=FC();Object.defineProperty(ve,"QRCodeReader",{enumerable:!0,get:function(){return Z7e.default}});var Q7e=SB();Object.defineProperty(ve,"QRCodeWriter",{enumerable:!0,get:function(){return Q7e.default}});var e9e=j_();Object.defineProperty(ve,"QRCodeDecoderErrorCorrectionLevel",{enumerable:!0,get:function(){return e9e.default}});var t9e=PC();Object.defineProperty(ve,"QRCodeDecoderFormatInformation",{enumerable:!0,get:function(){return t9e.default}});var r9e=z_();Object.defineProperty(ve,"QRCodeVersion",{enumerable:!0,get:function(){return r9e.default}});var n9e=NC();Object.defineProperty(ve,"QRCodeMode",{enumerable:!0,get:function(){return n9e.default}});var i9e=PR();Object.defineProperty(ve,"QRCodeDecodedBitStreamParser",{enumerable:!0,get:function(){return i9e.default}});var o9e=TR();Object.defineProperty(ve,"QRCodeDataMask",{enumerable:!0,get:function(){return o9e.default}});var a9e=r5();Object.defineProperty(ve,"QRCodeEncoder",{enumerable:!0,get:function(){return a9e.default}});var s9e=$C();Object.defineProperty(ve,"QRCodeEncoderQRCode",{enumerable:!0,get:function(){return s9e.default}});var u9e=yB();Object.defineProperty(ve,"QRCodeMatrixUtil",{enumerable:!0,get:function(){return u9e.default}});var f9e=hB();Object.defineProperty(ve,"QRCodeByteMatrix",{enumerable:!0,get:function(){return f9e.default}});var c9e=JC();Object.defineProperty(ve,"QRCodeMaskUtil",{enumerable:!0,get:function(){return c9e.default}});var d9e=pC();Object.defineProperty(ve,"AztecCodeReader",{enumerable:!0,get:function(){return d9e.default}});var l9e=BZ();Object.defineProperty(ve,"AztecCodeWriter",{enumerable:!0,get:function(){return l9e.default}});var h9e=RD();Object.defineProperty(ve,"AztecDetectorResult",{enumerable:!0,get:function(){return h9e.default}});var p9e=LB();Object.defineProperty(ve,"AztecEncoder",{enumerable:!0,get:function(){return p9e.default}});var g9e=qB();Object.defineProperty(ve,"AztecHighLevelEncoder",{enumerable:!0,get:function(){return g9e.default}});var m9e=RB();Object.defineProperty(ve,"AztecCode",{enumerable:!0,get:function(){return m9e.default}});var y9e=ED();Object.defineProperty(ve,"AztecDecoder",{enumerable:!0,get:function(){return y9e.default}});var v9e=hC();Object.defineProperty(ve,"AztecDetector",{enumerable:!0,get:function(){return v9e.default}});var _9e=hC();Object.defineProperty(ve,"AztecPoint",{enumerable:!0,get:function(){return _9e.Point}});var x9e=Xf();Object.defineProperty(ve,"OneDReader",{enumerable:!0,get:function(){return x9e.default}});var b9e=xC();Object.defineProperty(ve,"EAN13Reader",{enumerable:!0,get:function(){return b9e.default}});var w9e=HD();Object.defineProperty(ve,"Code128Reader",{enumerable:!0,get:function(){return w9e.default}});var S9e=zD();Object.defineProperty(ve,"ITFReader",{enumerable:!0,get:function(){return S9e.default}});var C9e=VD();Object.defineProperty(ve,"Code39Reader",{enumerable:!0,get:function(){return C9e.default}});var E9e=vR();Object.defineProperty(ve,"RSS14Reader",{enumerable:!0,get:function(){return E9e.default}});var I9e=gR();Object.defineProperty(ve,"RSSExpandedReader",{enumerable:!0,get:function(){return I9e.default}});var T9e=CC();Object.defineProperty(ve,"AbstractExpandedDecoder",{enumerable:!0,get:function(){return T9e.default}});var A9e=dR();Object.defineProperty(ve,"createAbstractExpandedDecoder",{enumerable:!0,get:function(){return A9e.createDecoder}});var O9e=AC();Object.defineProperty(ve,"MultiFormatOneDReader",{enumerable:!0,get:function(){return O9e.default}})});var KB=T(dy=>{h();p();var D9e=dy&&dy.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dy,"__esModule",{value:!0});dy.HTMLCanvasElementLuminanceSource=void 0;var HB=Pa(),R9e=function(r){D9e(e,r);function e(t){var n=r.call(this,t.width,t.height)||this;return n.canvas=t,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(t),n}return e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,n,i){for(var o=new Uint8ClampedArray(n*i),a=0,s=0,u=t.length;a<u;a+=4,s++){var f=void 0,c=t[a+3];if(c===0)f=255;else{var l=t[a],g=t[a+1],y=t[a+2];f=306*l+601*g+117*y+512>>10}o[s]=f}return o},e.prototype.getRow=function(t,n){if(t<0||t>=this.getHeight())throw new HB.IllegalArgumentException("Requested row is outside the image: "+t);var i=this.getWidth(),o=t*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,i,o){return r.prototype.crop.call(this,t,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new HB.InvertedLuminanceSource(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);n.width=s,n.height=u;var f=n.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(s/2,u/2),f.rotate(i),f.drawImage(this.canvas,o/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(HB.LuminanceSource);dy.HTMLCanvasElementLuminanceSource=R9e});var MZ=T(PZ=>{h();p();Object.defineProperty(PZ,"__esModule",{value:!0})});var kZ=T(NZ=>{h();p();Object.defineProperty(NZ,"__esModule",{value:!0})});var FZ=T(ly=>{h();p();Object.defineProperty(ly,"__esModule",{value:!0});ly.canEnumerateDevices=ly.hasNavigator=void 0;function qZ(){return typeof navigator<"u"}ly.hasNavigator=qZ;function B9e(){return qZ()&&!!navigator.mediaDevices}function P9e(){return!!(B9e()&&navigator.mediaDevices.enumerateDevices)}ly.canEnumerateDevices=P9e});var gl=T(ru=>{h();p();var hy=ru&&ru.__assign||function(){return hy=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},hy.apply(this,arguments)},Dr=ru&&ru.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(c){try{f(n.next(c))}catch(l){a(l)}}function u(c){try{f(n.throw(c))}catch(l){a(l)}}function f(c){c.done?o(c.value):i(c.value).then(s,u)}f((n=n.apply(r,e||[])).next())})},Rr=ru&&ru.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(c){f=[6,c],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},VB=ru&&ru.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ru,"__esModule",{value:!0});ru.BrowserCodeReader=void 0;var fn=Pa(),M9e=KB(),LZ=FZ(),N9e={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},k9e=function(){function r(e,t,n){t===void 0&&(t=new Map),n===void 0&&(n={}),this.reader=e,this.hints=t,this.options=hy(hy({},N9e),n)}return Object.defineProperty(r.prototype,"possibleFormats",{set:function(e){this.hints.set(fn.DecodeHintType.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),r.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},r.mediaStreamSetTorch=function(e,t){return Dr(this,void 0,void 0,function(){return Rr(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return n.sent(),[2]}})})},r.mediaStreamIsTorchCompatible=function(e){var t,n,i=e.getVideoTracks();try{for(var o=VB(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(r.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1},r.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},r.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},r.getMediaElement=function(e,t){var n=document.getElementById(e);if(!n)throw new fn.ArgumentException("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new fn.ArgumentException("element with id '".concat(e,"' must be an ").concat(t," element"));return n},r.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return r.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},r.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return r.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},r.prepareVideoElement=function(e){var t=r.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},r.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},r.createBinaryBitmapFromCanvas=function(e){var t=new M9e.HTMLCanvasElementLuminanceSource(e),n=new fn.HybridBinarizer(t);return new fn.BinaryBitmap(n)},r.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},r.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},r.createCaptureCanvas=function(e){if(!e)throw new fn.ArgumentException("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),n=r.getMediaElementDimensions(e),i=n.width,o=n.height;return t.style.width=i+"px",t.style.height=o+"px",t.width=i,t.height=o,t},r.tryPlayVideo=function(e){return Dr(this,void 0,void 0,function(){var t;return Rr(this,function(n){switch(n.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(r.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},r.createCanvasFromMediaElement=function(e){var t=r.createCaptureCanvas(e),n=t.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return r.drawImageOnCanvas(n,e),t},r.createBinaryBitmapFromMediaElem=function(e){var t=r.createCanvasFromMediaElement(e);return r.createBinaryBitmapFromCanvas(t)},r.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},r.listVideoInputDevices=function(){return Dr(this,void 0,void 0,function(){var e,t,n,i,o,a,s,u,f,c,l,g;return Rr(this,function(y){switch(y.label){case 0:if(!(0,LZ.hasNavigator)())throw new Error("Can't enumerate devices, navigator is not present.");if(!(0,LZ.canEnumerateDevices)())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),t=[];try{for(n=VB(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,u=o.label||"Video device ".concat(t.length+1),f=o.groupId,c={deviceId:s,label:u,kind:a,groupId:f},t.push(c))}catch(b){l={error:b}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(l)throw l.error}}return[2,t]}})})},r.findDeviceById=function(e){return Dr(this,void 0,void 0,function(){var t;return Rr(this,function(n){switch(n.label){case 0:return[4,r.listVideoInputDevices()];case 1:return t=n.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},r.cleanVideoSource=function(e){if(!!e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},r.releaseAllStreams=function(){r.streamTracker.length!==0&&r.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),r.streamTracker=[]},r.playVideoOnLoadAsync=function(e,t){return Dr(this,void 0,void 0,function(){var n;return Rr(this,function(i){switch(i.label){case 0:return[4,r.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(o,a){var s=setTimeout(function(){r.isVideoPlaying(e)||(a(!1),e.removeEventListener("canplay",u))},t),u=function(){r.tryPlayVideo(e).then(function(f){clearTimeout(s),e.removeEventListener("canplay",u),o(f)})};e.addEventListener("canplay",u)})]}})})},r.attachStreamToVideo=function(e,t,n){return n===void 0&&(n=5e3),Dr(this,void 0,void 0,function(){var i;return Rr(this,function(o){switch(o.label){case 0:return i=r.prepareVideoElement(t),r.addVideoSource(i,e),[4,r.playVideoOnLoadAsync(i,n)];case 1:return o.sent(),[2,i]}})})},r._waitImageLoad=function(e){return new Promise(function(t,n){var i=1e4,o=setTimeout(function(){r.isImageLoaded(e)||(e.removeEventListener("load",a),n())},i),a=function(){clearTimeout(o),e.removeEventListener("load",a),t()};e.addEventListener("load",a)})},r.checkCallbackFnOrThrow=function(e){if(!e)throw new fn.ArgumentException("`callbackFn` is a required parameter, you cannot capture results without it.")},r.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},r.prototype.decode=function(e){var t=r.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},r.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},r.prototype.decodeFromCanvas=function(e){var t=r.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},r.prototype.decodeFromImageElement=function(e){return Dr(this,void 0,void 0,function(){var t;return Rr(this,function(n){switch(n.label){case 0:if(!e)throw new fn.ArgumentException("An image element must be provided.");return t=r.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,n.sent()]}})})},r.prototype.decodeFromImageUrl=function(e){return Dr(this,void 0,void 0,function(){var t;return Rr(this,function(n){switch(n.label){case 0:if(!e)throw new fn.ArgumentException("An URL must be provided.");t=r.prepareImageElement(),t.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,n.sent()];case 3:return r.destroyImageElement(t),[7];case 4:return[2]}})})},r.prototype.decodeFromConstraints=function(e,t,n){return Dr(this,void 0,void 0,function(){var i,o;return Rr(this,function(a){switch(a.label){case 0:return r.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,n)];case 3:return[2,a.sent()];case 4:throw o=a.sent(),r.disposeMediaStream(i),o;case 5:return[2]}})})},r.prototype.decodeFromStream=function(e,t,n){return Dr(this,void 0,void 0,function(){var i,o,a,s,u,f,c,l,g,y,b=this;return Rr(this,function(D){switch(D.label){case 0:return r.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,r.attachStreamToVideo(e,t,i)];case 1:return o=D.sent(),a=function(){r.disposeMediaStream(e),r.cleanVideoSource(o)},s=this.scan(o,n,a),u=e.getVideoTracks(),f=hy(hy({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(M,k){return Dr(this,void 0,void 0,function(){var N,K,X,q,d,v,w;return Rr(this,function(I){switch(I.label){case 0:N=k?u.filter(k):u,I.label=1;case 1:I.trys.push([1,6,7,8]),K=VB(N),X=K.next(),I.label=2;case 2:return X.done?[3,5]:(q=X.value,[4,q.applyConstraints(M)]);case 3:I.sent(),I.label=4;case 4:return X=K.next(),[3,2];case 5:return[3,8];case 6:return d=I.sent(),v={error:d},[3,8];case 7:try{X&&!X.done&&(w=K.return)&&w.call(K)}finally{if(v)throw v.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(M){return u.find(M).getConstraints()},streamVideoSettingsGet:function(M){return u.find(M).getSettings()},streamVideoCapabilitiesGet:function(M){return u.find(M).getCapabilities()}}),c=r.mediaStreamIsTorchCompatible(e),c&&(l=u?.find(function(M){return r.mediaStreamIsTorchCompatibleTrack(M)}),g=function(M){return Dr(b,void 0,void 0,function(){return Rr(this,function(k){switch(k.label){case 0:return[4,r.mediaStreamSetTorch(l,M)];case 1:return k.sent(),[2]}})})},f.switchTorch=g,y=function(){s.stop(),g(!1)},f.stop=y),[2,f]}})})},r.prototype.decodeFromVideoDevice=function(e,t,n){return Dr(this,void 0,void 0,function(){var i,o;return Rr(this,function(a){switch(a.label){case 0:return r.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,t,n)];case 1:return[2,a.sent()]}})})},r.prototype.decodeFromVideoElement=function(e,t){return Dr(this,void 0,void 0,function(){var n,i;return Rr(this,function(o){switch(o.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new fn.ArgumentException("A video element must be provided.");return n=r.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,i)];case 1:return o.sent(),[2,this.scan(n,t)]}})})},r.prototype.decodeFromVideoUrl=function(e,t){return Dr(this,void 0,void 0,function(){var n,i,o,a;return Rr(this,function(s){switch(s.label){case 0:if(r.checkCallbackFnOrThrow(t),!e)throw new fn.ArgumentException("An URL must be provided.");return n=r.prepareVideoElement(),n.src=e,i=function(){r.cleanVideoSource(n)},o=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(n,o)];case 1:return s.sent(),a=this.scan(n,t,i),[2,a]}})})},r.prototype.decodeOnceFromConstraints=function(e,t){return Dr(this,void 0,void 0,function(){var n;return Rr(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromStream=function(e,t){return Dr(this,void 0,void 0,function(){var n,i,o;return Rr(this,function(a){switch(a.label){case 0:return n=Boolean(t),[4,r.attachStreamToVideo(e,t)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return o=a.sent(),[2,o];case 4:return n||r.cleanVideoSource(i),[7];case 5:return[2]}})})},r.prototype.decodeOnceFromVideoDevice=function(e,t){return Dr(this,void 0,void 0,function(){var n,i;return Rr(this,function(o){switch(o.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,o.sent()]}})})},r.prototype.decodeOnceFromVideoElement=function(e){return Dr(this,void 0,void 0,function(){var t,n;return Rr(this,function(i){switch(i.label){case 0:if(!e)throw new fn.ArgumentException("A video element must be provided.");return t=r.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,r.playVideoOnLoadAsync(t,n)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},r.prototype.decodeOnceFromVideoUrl=function(e){return Dr(this,void 0,void 0,function(){var t,n;return Rr(this,function(i){switch(i.label){case 0:if(!e)throw new fn.ArgumentException("An URL must be provided.");t=r.prepareVideoElement(),t.src=e,n=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return r.cleanVideoSource(t),[7];case 4:return[2]}})})},r.prototype.scanOneResult=function(e,t,n,i){var o=this;return t===void 0&&(t=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(a,s){o.scan(e,function(u,f,c){if(u){a(u),c.stop();return}if(f){if(f instanceof fn.NotFoundException&&t||f instanceof fn.ChecksumException&&n||f instanceof fn.FormatException&&i)return;c.stop(),s(f)}})})},r.prototype.scan=function(e,t,n){var i=this;r.checkCallbackFnOrThrow(t);var o=r.createCaptureCanvas(e),a=o.getContext("2d");if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){a=void 0,o=void 0},u=!1,f,c=function(){u=!0,clearTimeout(f),s(),n&&n()},l={stop:c},g=function(){if(!u)try{r.drawImageOnCanvas(a,e);var y=i.decodeFromCanvas(o);t(y,void 0,l),f=setTimeout(g,i.options.delayBetweenScanSuccess)}catch(k){t(void 0,k,l);var b=k instanceof fn.ChecksumException,D=k instanceof fn.FormatException,M=k instanceof fn.NotFoundException;if(b||D||M){f=setTimeout(g,i.options.delayBetweenScanAttempts);return}s(),n&&n(k)}};return g(),l},r.prototype._decodeOnLoadImage=function(e){return Dr(this,void 0,void 0,function(){var t;return Rr(this,function(n){switch(n.label){case 0:return t=r.isImageLoaded(e),t?[3,2]:[4,r._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},r.prototype.getUserMedia=function(e){return Dr(this,void 0,void 0,function(){var t;return Rr(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=n.sent(),r.streamTracker.push(t),[2,t]}})})},r.streamTracker=[],r}();ru.BrowserCodeReader=k9e});var UZ=T(py=>{h();p();var q9e=py&&py.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(py,"__esModule",{value:!0});py.BrowserAztecCodeReader=void 0;var F9e=Pa(),L9e=gl(),U9e=function(r){q9e(e,r);function e(t,n){return r.call(this,new F9e.AztecCodeReader,t,n)||this}return e}(L9e.BrowserCodeReader);py.BrowserAztecCodeReader=U9e});var jZ=T(gy=>{h();p();var j9e=gy&&gy.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gy,"__esModule",{value:!0});gy.BrowserMultiFormatOneDReader=void 0;var H9e=Pa(),K9e=gl(),V9e=function(r){j9e(e,r);function e(t,n){return r.call(this,new H9e.MultiFormatOneDReader(t),t,n)||this}return e}(K9e.BrowserCodeReader);gy.BrowserMultiFormatOneDReader=V9e});var HZ=T(my=>{h();p();var z9e=my&&my.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(my,"__esModule",{value:!0});my.BrowserDatamatrixCodeReader=void 0;var G9e=Pa(),Y9e=gl(),W9e=function(r){z9e(e,r);function e(t,n){return r.call(this,new G9e.DataMatrixReader,t,n)||this}return e}(Y9e.BrowserCodeReader);my.BrowserDatamatrixCodeReader=W9e});var VZ=T(yy=>{h();p();var X9e=yy&&yy.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(yy,"__esModule",{value:!0});yy.BrowserMultiFormatReader=void 0;var KZ=Pa(),J9e=gl(),$9e=function(r){X9e(e,r);function e(t,n){var i=this,o=new KZ.MultiFormatReader;return o.setHints(t),i=r.call(this,o,t,n)||this,i.reader=o,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(KZ.DecodeHintType.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(J9e.BrowserCodeReader);yy.BrowserMultiFormatReader=$9e});var zZ=T(vy=>{h();p();var Z9e=vy&&vy.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vy,"__esModule",{value:!0});vy.BrowserPDF417Reader=void 0;var Q9e=Pa(),eAe=gl(),tAe=function(r){Z9e(e,r);function e(t,n){return r.call(this,new Q9e.PDF417Reader,t,n)||this}return e}(eAe.BrowserCodeReader);vy.BrowserPDF417Reader=tAe});var GZ=T(_y=>{h();p();var rAe=_y&&_y.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_y,"__esModule",{value:!0});_y.BrowserQRCodeReader=void 0;var nAe=Pa(),iAe=gl(),oAe=function(r){rAe(e,r);function e(t,n){return r.call(this,new nAe.QRCodeReader,t,n)||this}return e}(iAe.BrowserCodeReader);_y.BrowserQRCodeReader=oAe});var WZ=T(YZ=>{h();p();Object.defineProperty(YZ,"__esModule",{value:!0})});var XZ=T(f5=>{h();p();Object.defineProperty(f5,"__esModule",{value:!0});f5.BrowserCodeSvgWriter=void 0;var $f=Pa(),f0="http://www.w3.org/2000/svg",aAe=function(){function r(e){if(typeof e=="string"){var t=document.getElementById(e);if(!t)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=t}else this.containerElement=e}return r.prototype.write=function(e,t,n,i){if(e.length===0)throw new $f.IllegalArgumentException("Found empty contents");if(t<0||n<0)throw new $f.IllegalArgumentException("Requested dimensions are too small: "+t+"x"+n);var o=i&&i.get($f.EncodeHintType.MARGIN)!==void 0?Number.parseInt(i.get($f.EncodeHintType.MARGIN).toString(),10):r.QUIET_ZONE_SIZE,a=this.encode(i,e);return this.renderResult(a,t,n,o)},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"svg");return n.setAttributeNS(f0,"width",t.toString()),n.setAttributeNS(f0,"height",e.toString()),n},r.prototype.createSvgPathPlaceholderElement=function(e,t){var n=document.createElementNS(r.SVG_NS,"path");return n.setAttributeNS(f0,"d","M0 0h".concat(e,"v").concat(t,"H0z")),n.setAttributeNS(f0,"fill","none"),n},r.prototype.createSvgRectElement=function(e,t,n,i){var o=document.createElementNS(r.SVG_NS,"rect");return o.setAttributeNS(f0,"x",e.toString()),o.setAttributeNS(f0,"y",t.toString()),o.setAttributeNS(f0,"height",n.toString()),o.setAttributeNS(f0,"width",i.toString()),o.setAttributeNS(f0,"fill","#000000"),o},r.prototype.encode=function(e,t){var n=$f.QRCodeDecoderErrorCorrectionLevel.L;if(e&&e.get($f.EncodeHintType.ERROR_CORRECTION)!==void 0){var i=e.get($f.EncodeHintType.ERROR_CORRECTION).toString();n=$f.QRCodeDecoderErrorCorrectionLevel.fromString(i)}var o=$f.QRCodeEncoder.encode(t,n,e);return o},r.prototype.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new $f.IllegalStateException;var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-a*g)/2),b=Math.floor((l-s*g)/2),D=this.createSVGElement(c,l),M=this.createSvgPathPlaceholderElement(t,n);D.appendChild(M),this.containerElement.appendChild(D);for(var k=0,N=b;k<s;k++,N+=g)for(var K=0,X=y;K<a;K++,X+=g)if(o.get(K,k)===1){var q=this.createSvgRectElement(X,N,g,g);D.appendChild(q)}return D},r.QUIET_ZONE_SIZE=4,r.SVG_NS="http://www.w3.org/2000/svg",r}();f5.BrowserCodeSvgWriter=aAe});var $Z=T(c5=>{h();p();Object.defineProperty(c5,"__esModule",{value:!0});c5.BrowserQRCodeSvgWriter=void 0;var Zf=Pa(),JZ="http://www.w3.org/2000/svg",sAe=function(){function r(){}return r.prototype.write=function(e,t,n,i){if(e.length===0)throw new Zf.IllegalArgumentException("Found empty contents");if(t<0||n<0)throw new Zf.IllegalArgumentException("Requested dimensions are too small: "+t+"x"+n);var o=Zf.QRCodeDecoderErrorCorrectionLevel.L,a=r.QUIET_ZONE_SIZE;if(i){if(i.get(Zf.EncodeHintType.ERROR_CORRECTION)!==void 0){var s=i.get(Zf.EncodeHintType.ERROR_CORRECTION).toString();o=Zf.QRCodeDecoderErrorCorrectionLevel.fromString(s)}i.get(Zf.EncodeHintType.MARGIN)!==void 0&&(a=Number.parseInt(i.get(Zf.EncodeHintType.MARGIN).toString(),10))}var u=Zf.QRCodeEncoder.encode(e,o,i);return this.renderResult(u,t,n,a)},r.prototype.writeToDom=function(e,t,n,i,o){if(typeof e=="string"){var a=document.querySelector(e);if(!a)throw new Error("Could no find the target HTML element.");e=a}var s=this.write(t,n,i,o);e instanceof HTMLElement&&e.appendChild(s)},r.prototype.renderResult=function(e,t,n,i){var o=e.getMatrix();if(o===null)throw new Zf.IllegalStateException;for(var a=o.getWidth(),s=o.getHeight(),u=a+i*2,f=s+i*2,c=Math.max(t,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-a*g)/2),b=Math.floor((l-s*g)/2),D=this.createSVGElement(c,l),M=0,k=b;M<s;M++,k+=g)for(var N=0,K=y;N<a;N++,K+=g)if(o.get(N,M)===1){var X=this.createSvgRectElement(K,k,g,g);D.appendChild(X)}return D},r.prototype.createSVGElement=function(e,t){var n=document.createElementNS(JZ,"svg"),i=e.toString(),o=t.toString();return n.setAttribute("height",o),n.setAttribute("width",i),n.setAttribute("viewBox","0 0 "+i+" "+o),n},r.prototype.createSvgRectElement=function(e,t,n,i){var o=document.createElementNS(JZ,"rect");return o.setAttribute("x",e.toString()),o.setAttribute("y",t.toString()),o.setAttribute("height",n.toString()),o.setAttribute("width",i.toString()),o.setAttribute("fill","#000000"),o},r.QUIET_ZONE_SIZE=4,r}();c5.BrowserQRCodeSvgWriter=sAe});var ZZ=T(Fr=>{h();p();var uAe=Fr&&Fr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ma=Fr&&Fr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&uAe(e,r,t)};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.BarcodeFormat=void 0;var fAe=Pa();Object.defineProperty(Fr,"BarcodeFormat",{enumerable:!0,get:function(){return fAe.BarcodeFormat}});Ma(KB(),Fr);Ma(MZ(),Fr);Ma(kZ(),Fr);Ma(UZ(),Fr);Ma(jZ(),Fr);Ma(gl(),Fr);Ma(HZ(),Fr);Ma(VZ(),Fr);Ma(zZ(),Fr);Ma(GZ(),Fr);Ma(WZ(),Fr);Ma(XZ(),Fr);Ma($Z(),Fr)});var l5=T(d5=>{h();p();Object.defineProperty(d5,"__esModule",{value:!0});d5.DataItem=void 0;var zB=class{constructor(e,t){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=t}};d5.DataItem=zB});var eQ=T((QZ,h5)=>{h();p();(function(r,e){typeof define=="function"&&define.amd?define([],e):typeof h5<"u"&&h5.exports?h5.exports=e():r.CBOR=e()})(QZ,function(){let{DataItem:r}=l5();var e=function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var v="",w=0;w<this.$hex.length;w+=2)v+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(v)}if(d==="latin"){for(var v=[],w=0;w<this.$hex.length;w+=2)v.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,v)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var v="",w=0;w<d.length;w++){var I=d.charCodeAt(w).toString(16);I.length===1&&(I="0"+I),v+=I}return new t(v)},t.fromUtf8String=function(d){for(var v=encodeURIComponent(d),w="",I=0;I<v.length;I++)if(v.charAt(I)==="%")w+=v.substring(I+1,I+3),I+=2;else{var x=v.charCodeAt(I).toString(16);x.length<2&&(x="0"+x),w+=x}return new t(w)};var n=[],i={},o=function(d){return function(){throw new Error(d+" not implemented")}};function a(){}a.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),v=(d&32767)>>10,w=d&1023,I=d&32768;if(v===31)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-25)*(1024+w):Math.pow(2,-24)*w;return I?-x:x},readFloat32:function(){var d=this.readUint32(),v=(d&2147483647)>>23,w=d&8388607,I=d&2147483648;if(v===255)return w===0?I?-1/0:1/0:NaN;var x=v?Math.pow(2,v-23-127)*(8388608+w):Math.pow(2,-23-126)*w;return I?-x:x},readFloat64:function(){var d=this.readUint32(),v=this.readUint32(),w=d>>20&2047,I=(d&1048575)*4294967296+v,x=d&2147483648;if(w===2047)return I===0?x?-1/0:1/0:NaN;var B=w?Math.pow(2,w-52-1023)*(4503599627370496+I):Math.pow(2,-52-1022)*I;return x?-B:B},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function u(d){var v=d.readByte(),w=v>>5,I=v&31;return{type:w,value:I}}function f(d,v){var w=d.value;if(w<24)return w;if(w==24)return v.readByte();if(w==25)return v.readUint16();if(w==26)return v.readUint32();if(w==27)return v.readUint64();if(w==31)return null;o("Additional info: "+w)()}function c(d,v,w){w.writeByte(d<<5|v)}function l(d,v,w){var I=d<<5;v<24?w.writeByte(I|v):v<256?(w.writeByte(I|24),w.writeByte(v)):v<65536?(w.writeByte(I|25),w.writeUint16(v)):v<4294967296?(w.writeByte(I|26),w.writeUint32(v)):(w.writeByte(I|27),w.writeUint64(v))}var g=new Error;function y(d){var v=u(d);switch(v.type){case 0:return f(v,d);case 1:return-1-f(v,d);case 2:return d.readChunk(f(v,d));case 3:var w=d.readChunk(f(v,d));return w.toString("utf-8");case 4:case 5:var I=f(v,d),A=[];if(I!==null){v.type===5&&(I*=2);for(var x=0;x<I;x++)A[x]=y(d)}else for(var B;(B=y(d))!==g;)A.push(B);if(v.type===5){for(var E={},x=0;x<A.length;x+=2)E[A[x]]=A[x+1];return E}else return A;case 6:var _=f(v,d),C=i[_],A=y(d);return C?C(A):A;case 7:if(v.value===25)return d.readFloat16();if(v.value===26)return d.readFloat32();if(v.value===27)return d.readFloat64();switch(f(v,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+v.value)}default:throw new Error("Unsupported header: "+JSON.stringify(v))}throw new Error("not implemented yet")}function b(d,v){for(var w=0;w<n.length;w++){var I=n[w].fn(d);if(I!==void 0)return l(6,n[w].tag,v),b(I,v)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,v);else if(d===!0)l(7,21,v);else if(d===null)l(7,22,v);else if(d===void 0)l(7,23,v);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,v):l(0,d,v):(c(7,27,v),v.writeFloat64(d));else if(typeof d=="string")v.writeString(d,function(B){l(3,B,v)});else if(v.canWriteBinary(d))v.writeBinary(d,function(B){l(2,B,v)});else if(typeof d=="object")if(k.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,v);for(var w=0;w<d.length;w++)b(d[w],v)}else{var x=Object.keys(d);l(5,x.length,v);for(var w=0;w<x.length;w++){let E=parseInt(x[w]);isNaN(E)?(b(x[w],v),b(d[x[w]],v)):(b(E,v),b(d[x[w]],v))}}else throw new Error("CBOR encoding not supported: "+d)}var D=[],M=[],k={config:{useToJSON:!0},addWriter:function(d,v){typeof d=="string"?M.push(function(w){if(d===w)return v(w)}):M.push(d)},addReader:function(d,v){typeof d=="string"?D.push(function(w,I){if(d===I)return v(w,I)}):D.push(d)},encode:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return b(d,x),x.result()}throw new Error("Unsupported output format: "+v)},encodeDataItem:function(d,v){for(var w=0;w<M.length;w++){var I=M[w],x=I(v);if(x)return d.getTag()!==void 0?(b(d,x),x.result()):(b(d.getData(),x),x.result())}throw new Error("Unsupported output format: "+v)},decode:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x)return y(x)}throw new Error("Unsupported input format: "+v)},decodeToDataItem:function(d,v){for(var w=0;w<D.length;w++){var I=D[w],x=I(d,v);if(x){let B=y(x);return B instanceof r?B:new r(B)}}throw new Error("Unsupported input format: "+v)},addSemanticEncode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:v}),this},addSemanticDecode:function(d,v){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=v,this},Reader:a,Writer:s};function N(d){this.buffer=d,this.pos=0}N.prototype=Object.create(a.prototype),N.prototype.peekByte=function(){return this.buffer[this.pos]},N.prototype.readByte=function(){return this.buffer[this.pos++]},N.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},N.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},N.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},N.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},N.prototype.readChunk=function(d){var v=m.Buffer.alloc(d);return this.buffer.copy(v,0,this.pos,this.pos+=d),v};function K(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}K.prototype=Object.create(s.prototype),K.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},K.prototype.writeFloat32=function(d){var v=m.Buffer.alloc(4);v.writeFloatBE(d,0),this.writeBuffer(v)},K.prototype.writeFloat64=function(d){var v=m.Buffer.alloc(8);v.writeDoubleBE(d,0),this.writeBuffer(v)},K.prototype.writeString=function(d,v){var w=m.Buffer.from(d,"utf-8");v(w.length),this.writeBuffer(w)},K.prototype.canWriteBinary=function(d){return d instanceof m.Buffer},K.prototype.writeBinary=function(d,v){v(d.length),this.writeBuffer(d)},K.prototype.writeBuffer=function(d){if(!(d instanceof m.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=m.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},K.prototype.result=function(){for(var d=m.Buffer.alloc(this.byteLength),v=0,w=0;w<this.completeBuffers.length;w++){var I=this.completeBuffers[w];I.copy(d,v,0,I.length),v+=I.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,v,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof m.Buffer=="function"&&(k.addReader(function(d,v){if(d instanceof m.Buffer)return new N(d);if(v==="hex"||v==="base64"){var w=m.Buffer.from(d,v);return new N(w)}}),k.addWriter(function(d){if(!d||d==="buffer")return new K;if(d==="hex"||d==="base64")return new K(d)}));function X(d){this.hex=d,this.pos=0}X.prototype=Object.create(a.prototype),X.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},X.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},X.prototype.readChunk=function(d){var v=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof m.Buffer=="function"?m.Buffer.from(v,"hex"):new t(v)};function q(d){this.$hex="",this.finalFormat=d||"hex"}return q.prototype=Object.create(s.prototype),q.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var v=d.toString(16);v.length==1&&(v="0"+v),this.$hex+=v},q.prototype.canWriteBinary=function(d){return d instanceof t||typeof m.Buffer=="function"&&d instanceof m.Buffer},q.prototype.writeBinary=function(d,v){if(d instanceof t)v(d.length()),this.$hex+=d.$hex;else if(typeof m.Buffer=="function"&&d instanceof m.Buffer)v(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof m.Buffer=="function"?m.Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(d,v){var w=t.fromUtf8String(d);v(w.length()),this.$hex+=w.$hex},k.addReader(function(d,v){if(d instanceof t||d.$hex)return new X(d.$hex);if(v==="hex")return new X(d)}),k.addWriter(function(d){if(d==="hex")return new q}),k}();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var Na=T(to=>{h();p();Object.defineProperty(to,"__esModule",{value:!0});to.DataItem=to.addWriter=to.addReader=to.addSemanticEncode=to.addSemanticDecode=to.decodeToDataItem=to.encodeDataItem=void 0;var xy=eQ();Object.defineProperty(to,"encodeDataItem",{enumerable:!0,get:function(){return xy.encodeDataItem}});Object.defineProperty(to,"decodeToDataItem",{enumerable:!0,get:function(){return xy.decodeToDataItem}});Object.defineProperty(to,"addSemanticDecode",{enumerable:!0,get:function(){return xy.addSemanticDecode}});Object.defineProperty(to,"addSemanticEncode",{enumerable:!0,get:function(){return xy.addSemanticEncode}});Object.defineProperty(to,"addReader",{enumerable:!0,get:function(){return xy.addReader}});Object.defineProperty(to,"addWriter",{enumerable:!0,get:function(){return xy.addWriter}});var cAe=l5();Object.defineProperty(to,"DataItem",{enumerable:!0,get:function(){return cAe.DataItem}})});var GB=T(g5=>{h();p();Object.defineProperty(g5,"__esModule",{value:!0});g5.patchTags=void 0;var p5=Na(),tQ=[],dAe=r=>{r.forEach(e=>{tQ.find(t=>t===e)||(p5.addSemanticEncode(e,t=>{if(t instanceof p5.DataItem&&t.getTag()===e)return t.getData()}),p5.addSemanticDecode(e,t=>new p5.DataItem(t,e)),tQ.push(e))})};g5.patchTags=dAe});var ka=T(by=>{h();p();Object.defineProperty(by,"__esModule",{value:!0});by.RegistryTypes=by.RegistryType=void 0;var nu=class{constructor(e,t){this.type=e,this.tag=t,this.getTag=()=>this.tag,this.getType=()=>this.type}};by.RegistryType=nu;by.RegistryTypes={UUID:new nu("uuid",37),BYTES:new nu("bytes",void 0),CRYPTO_HDKEY:new nu("crypto-hdkey",303),CRYPTO_KEYPATH:new nu("crypto-keypath",304),CRYPTO_COIN_INFO:new nu("crypto-coin-info",305),CRYPTO_ECKEY:new nu("crypto-eckey",306),CRYPTO_OUTPUT:new nu("crypto-output",308),CRYPTO_PSBT:new nu("crypto-psbt",310),CRYPTO_ACCOUNT:new nu("crypto-account",311)}});var m5=T(ap=>{h();p();Object.defineProperty(ap,"__esModule",{value:!0});ap.ScriptExpressions=ap.ScriptExpression=void 0;var ia=class{constructor(e,t){this.tag=e,this.expression=t,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};ap.ScriptExpression=ia;ia.fromTag=r=>Object.values(ap.ScriptExpressions).find(t=>t.getTag()===r);ap.ScriptExpressions={SCRIPT_HASH:new ia(400,"sh"),WITNESS_SCRIPT_HASH:new ia(401,"wsh"),PUBLIC_KEY:new ia(402,"pk"),PUBLIC_KEY_HASH:new ia(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new ia(404,"wpkh"),COMBO:new ia(405,"combo"),MULTISIG:new ia(406,"multi"),SORTED_MULTISIG:new ia(407,"sorted"),ADDRESS:new ia(307,"addr"),RAW_SCRIPT:new ia(408,"raw")}});var nQ=T(rQ=>{h();p();Object.defineProperty(rQ,"__esModule",{value:!0});var lAe=GB(),hAe=ka(),pAe=m5(),gAe=Object.values(hAe.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),mAe=Object.values(pAe.ScriptExpressions).map(r=>r.getTag());lAe.patchTags(gAe.concat(mAe))});var Qu=T(y5=>{h();p();Object.defineProperty(y5,"__esModule",{value:!0});y5.RegistryItem=void 0;var iQ=pn(),yAe=Na(),YB=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return yAe.encodeDataItem(this.toDataItem())},this.toUR=()=>new iQ.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,t,n)=>{let i=this.toUR();return new iQ.UREncoder(i,e,t,n)}}};y5.RegistryItem=YB});var WB=T(Qf=>{h();p();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.CryptoCoinInfo=Qf.Network=Qf.Type=void 0;var oQ=Na(),vAe=Qu(),_Ae=ka(),wy;(function(r){r.type="1",r.network="2"})(wy||(wy={}));var aQ;(function(r){r[r.bitcoin=0]="bitcoin"})(aQ=Qf.Type||(Qf.Type={}));var sQ;(function(r){r[r.mainnet=0]="mainnet",r[r.testnet=1]="testnet"})(sQ=Qf.Network||(Qf.Network={}));var sp=class extends vAe.RegistryItem{constructor(e,t){super(),this.type=e,this.network=t,this.getRegistryType=()=>_Ae.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||aQ.bitcoin,this.getNetwork=()=>this.network||sQ.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[wy.type]=this.type),this.network&&(n[wy.network]=this.network),new oQ.DataItem(n)}}};Qf.CryptoCoinInfo=sp;sp.fromDataItem=r=>{let e=r.getData(),t=e[wy.type],n=e[wy.network];return new sp(t,n)};sp.fromCBOR=r=>{let e=oQ.decodeToDataItem(r);return sp.fromDataItem(e)}});var XB=T(v5=>{h();p();Object.defineProperty(v5,"__esModule",{value:!0});v5.PathComponent=void 0;var Sy=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Sy.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};v5.PathComponent=Sy;Sy.HARDENED_BIT=2147483648});var JB=T(_5=>{h();p();Object.defineProperty(_5,"__esModule",{value:!0});_5.CryptoKeypath=void 0;var fQ=Na(),uQ=XB(),xAe=Qu(),bAe=ka(),ml;(function(r){r[r.components=1]="components",r[r.source_fingerprint=2]="source_fingerprint",r[r.depth=3]="depth"})(ml||(ml={}));var up=class extends xAe.RegistryItem{constructor(e=[],t,n){super(),this.components=e,this.sourceFingerprint=t,this.depth=n,this.getRegistryType=()=>bAe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(o=>`${o.isWildcard()?"*":o.getIndex()}${o.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},o=[];return this.components&&this.components.forEach(a=>{a.isWildcard()?o.push([]):o.push(a.getIndex()),o.push(!!a.isHardened())}),i[ml.components]=o,this.sourceFingerprint&&(i[ml.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[ml.depth]=this.depth),new fQ.DataItem(i)}}};_5.CryptoKeypath=up;up.fromDataItem=r=>{let e=r.getData(),t=[],n=e[ml.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?t.push(new uQ.PathComponent({index:f,hardened:u})):t.push(new uQ.PathComponent({hardened:u}))}let i=e[ml.source_fingerprint],o;i&&(o=m.Buffer.alloc(4),o.writeUInt32BE(i,0));let a=e[ml.depth];return new up(t,o,a)};up.fromCBOR=r=>{let e=fQ.decodeToDataItem(r);return up.fromDataItem(e)}});var b5=T(x5=>{h();p();Object.defineProperty(x5,"__esModule",{value:!0});x5.CryptoHDKey=void 0;var wAe=wp(),SAe=WB(),cQ=JB(),dQ=Na(),CAe=Qu(),EAe=ka(),cr;(function(r){r[r.is_master=1]="is_master",r[r.is_private=2]="is_private",r[r.key_data=3]="key_data",r[r.chain_code=4]="chain_code",r[r.use_info=5]="use_info",r[r.origin=6]="origin",r[r.children=7]="children",r[r.parent_fingerprint=8]="parent_fingerprint",r[r.name=9]="name",r[r.note=10]="note"})(cr||(cr={}));var fp=class extends CAe.RegistryItem{constructor(e){super(),this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{let t,n,i,o=m.Buffer.alloc(4).fill(0);if(this.isMaster())t=m.Buffer.from("0488ADE4","hex"),n=0,i=0;else{n=this.getOrigin().getComponents().length||this.getOrigin().getDepth();let c=this.getOrigin().getComponents(),l=c[c.length-1];l&&(i=l.isHardened()?l.getIndex()+2147483648:l.getIndex(),o=this.getParentFingerprint()),this.isPrivateKey()?t=m.Buffer.from("0488ADE4","hex"):t=m.Buffer.from("0488B21E","hex")}let a=m.Buffer.alloc(1);a.writeUInt8(n,0);let s=m.Buffer.alloc(4);s.writeUInt32BE(i,0);let u=this.getChainCode(),f=this.getKey();return wAe.encode(m.Buffer.concat([t,a,o,s,u,f]))},this.getRegistryType=()=>EAe.RegistryTypes.CRYPTO_HDKEY,this.setupMasterKey=t=>{this.master=!0,this.key=t.key,this.chainCode=t.chainCode},this.setupDeriveKey=t=>{this.master=!1,this.privateKey=t.isPrivateKey,this.key=t.key,this.chainCode=t.chainCode,this.useInfo=t.useInfo,this.origin=t.origin,this.children=t.children,this.parentFingerprint=t.parentFingerprint,this.name=t.name,this.note=t.note},this.toDataItem=()=>{let t={};if(this.master)t[cr.is_master]=!0,t[cr.key_data]=this.key,t[cr.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(t[cr.is_private]=this.privateKey),t[cr.key_data]=this.key,this.chainCode&&(t[cr.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),t[cr.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),t[cr.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),t[cr.children]=n}this.parentFingerprint&&(t[cr.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(t[cr.name]=this.name),this.note!==void 0&&(t[cr.note]=this.note)}return new dQ.DataItem(t)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};x5.CryptoHDKey=fp;fp.fromDataItem=r=>{let e=r.getData(),t=!!e[cr.is_master],n=e[cr.is_private],i=e[cr.key_data],o=e[cr.chain_code],a=e[cr.use_info]?SAe.CryptoCoinInfo.fromDataItem(e[cr.use_info]):void 0,s=e[cr.origin]?cQ.CryptoKeypath.fromDataItem(e[cr.origin]):void 0,u=e[cr.children]?cQ.CryptoKeypath.fromDataItem(e[cr.children]):void 0,f=e[cr.parent_fingerprint],c;f&&(c=m.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[cr.name],g=e[cr.note];return new fp({isMaster:t,isPrivateKey:n,key:i,chainCode:o,useInfo:a,origin:s,children:u,parentFingerprint:c,name:l,note:g})};fp.fromCBOR=r=>{let e=dQ.decodeToDataItem(r);return fp.fromDataItem(e)}});var S5=T(w5=>{h();p();Object.defineProperty(w5,"__esModule",{value:!0});w5.CryptoECKey=void 0;var lQ=Na(),IAe=Qu(),TAe=ka(),yl;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(yl||(yl={}));var cp=class extends IAe.RegistryItem{constructor(e){super(),this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>TAe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let t={};return this.curve&&(t[yl.curve]=this.curve),this.privateKey!==void 0&&(t[yl.private]=this.privateKey),t[yl.data]=this.data,new lQ.DataItem(t)},this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey}};w5.CryptoECKey=cp;cp.fromDataItem=r=>{let e=r.getData(),t=e[yl.curve],n=e[yl.private],i=e[yl.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new cp({data:i,curve:t,privateKey:n})};cp.fromCBOR=r=>{let e=lQ.decodeToDataItem(r);return cp.fromDataItem(e)}});var pQ=T(C5=>{h();p();Object.defineProperty(C5,"__esModule",{value:!0});C5.Bytes=void 0;var hQ=Na(),AAe=Qu(),OAe=ka(),dp=class extends AAe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>OAe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new hQ.DataItem(this.bytes)}};C5.Bytes=dp;dp.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new dp(e)};dp.fromCBOR=r=>{let e=hQ.decodeToDataItem(r);return dp.fromDataItem(e)}});var $B=T(E5=>{h();p();Object.defineProperty(E5,"__esModule",{value:!0});E5.MultiKey=void 0;var DAe=S5(),RAe=b5(),BAe=l5(),PAe=Qu(),gQ=ka(),Cy;(function(r){r[r.threshold=1]="threshold",r[r.keys=2]="keys"})(Cy||(Cy={}));var Bx=class extends PAe.RegistryItem{constructor(e,t,n){super(),this.threshold=e,this.ecKeys=t,this.hdKeys=n,this.getThreshold=()=>this.threshold,this.getEcKeys=()=>this.ecKeys,this.getHdKeys=()=>this.hdKeys,this.toDataItem=()=>{let i={};i[Cy.threshold]=this.threshold;let o=[...this.ecKeys,...this.hdKeys].map(a=>{let s=a.toDataItem();return s.setTag(a.getRegistryType().getTag()),s});return i[Cy.keys]=o,new BAe.DataItem(i)}}};E5.MultiKey=Bx;Bx.fromDataItem=r=>{let e=r.getData(),t=e[Cy.threshold],n=e[Cy.keys],i=[],o=[];return n.forEach(a=>{a.getTag()===gQ.RegistryTypes.CRYPTO_HDKEY.getTag()?o.push(RAe.CryptoHDKey.fromDataItem(a)):a.getTag()===gQ.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(DAe.CryptoECKey.fromDataItem(a))}),new Bx(t,i,o)}});var vQ=T(I5=>{h();p();Object.defineProperty(I5,"__esModule",{value:!0});I5.CryptoOutput=void 0;var QB=S5(),eP=b5(),tP=Na(),mQ=$B(),MAe=Qu(),yQ=ka(),ZB=m5(),c0=class extends MAe.RegistryItem{constructor(e,t){super(),this.scriptExpressions=e,this.cryptoKey=t,this.getRegistryType=()=>yQ.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof eP.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof QB.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof mQ.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof QB.CryptoECKey||this.cryptoKey instanceof eP.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(o=>{let a=o.getTag();n.getTag()===void 0?n.setTag(a):n=new tP.DataItem(n,a)}),n}}};I5.CryptoOutput=c0;c0.fromDataItem=r=>{let e=[],t=r;for(;;){let o=t.getTag()||void 0,a=ZB.ScriptExpression.fromTag(o);if(a)if(e.push(a),t.getData()instanceof tP.DataItem)t=t.getData(),o=t.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===ZB.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===ZB.ScriptExpressions.SORTED_MULTISIG.getExpression())){let o=mQ.MultiKey.fromDataItem(t);return new c0(e,o)}if(t.getTag()===yQ.RegistryTypes.CRYPTO_HDKEY.getTag()){let o=eP.CryptoHDKey.fromDataItem(t);return new c0(e,o)}else{let o=QB.CryptoECKey.fromDataItem(t);return new c0(e,o)}};c0.fromCBOR=r=>{let e=tP.decodeToDataItem(r);return c0.fromDataItem(e)}});var xQ=T(T5=>{h();p();Object.defineProperty(T5,"__esModule",{value:!0});T5.CryptoPSBT=void 0;var _Q=Na(),NAe=Qu(),kAe=ka(),lp=class extends NAe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>kAe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new _Q.DataItem(this.psbt)}};T5.CryptoPSBT=lp;lp.fromDataItem=r=>{let e=r.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${r}`);return new lp(e)};lp.fromCBOR=r=>{let e=_Q.decodeToDataItem(r);return lp.fromDataItem(e)}});var wQ=T(A5=>{h();p();Object.defineProperty(A5,"__esModule",{value:!0});A5.CryptoAccount=void 0;var qAe=O5(),bQ=Na(),FAe=Qu(),LAe=ka(),Ey;(function(r){r[r.masterFingerprint=1]="masterFingerprint",r[r.outputDescriptors=2]="outputDescriptors"})(Ey||(Ey={}));var hp=class extends FAe.RegistryItem{constructor(e,t){super(),this.masterFingerprint=e,this.outputDescriptors=t,this.getRegistryType=()=>LAe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Ey.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Ey.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new bQ.DataItem(n)}}};A5.CryptoAccount=hp;hp.fromDataItem=r=>{let e=r.getData(),t=m.Buffer.alloc(4),n=e[Ey.masterFingerprint];n&&t.writeUInt32BE(n,0);let o=e[Ey.outputDescriptors].map(a=>qAe.CryptoOutput.fromDataItem(a));return new hp(t,o)};hp.fromCBOR=r=>{let e=bQ.decodeToDataItem(r);return hp.fromDataItem(e)}});var SQ=T(D5=>{h();p();Object.defineProperty(D5,"__esModule",{value:!0});D5.URRegistryDecoder=void 0;var UAe=pn(),vl=O5(),_l=ka(),rP=class extends UAe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case _l.RegistryTypes.BYTES.getType():return vl.Bytes.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_HDKEY.getType():return vl.CryptoHDKey.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_KEYPATH.getType():return vl.CryptoKeypath.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_COIN_INFO.getType():return vl.CryptoCoinInfo.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_ECKEY.getType():return vl.CryptoECKey.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_OUTPUT.getType():return vl.CryptoOutput.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_PSBT.getType():return vl.CryptoPSBT.fromCBOR(e.cbor);case _l.RegistryTypes.CRYPTO_ACCOUNT.getType():return vl.CryptoAccount.fromCBOR(e.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};D5.URRegistryDecoder=rP});var O5=T(Ct=>{h();p();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.extend=Ct.PathComponent=Ct.ScriptExpressions=Ct.MultiKey=Ct.CryptoPSBT=Ct.CryptoOutput=Ct.CryptoECKey=Ct.CryptoCoinInfoNetwork=Ct.CryptoCoinInfoType=Ct.CryptoCoinInfo=Ct.CryptoKeypath=Ct.CryptoHDKey=Ct.CryptoAccount=Ct.Bytes=Ct.URRegistryDecoder=Ct.RegistryItem=Ct.DataItem=void 0;nQ();var EQ=b5();Object.defineProperty(Ct,"CryptoHDKey",{enumerable:!0,get:function(){return EQ.CryptoHDKey}});var IQ=JB();Object.defineProperty(Ct,"CryptoKeypath",{enumerable:!0,get:function(){return IQ.CryptoKeypath}});var Ty=WB();Object.defineProperty(Ct,"CryptoCoinInfo",{enumerable:!0,get:function(){return Ty.CryptoCoinInfo}});Object.defineProperty(Ct,"CryptoCoinInfoType",{enumerable:!0,get:function(){return Ty.Type}});Object.defineProperty(Ct,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return Ty.Network}});var TQ=S5();Object.defineProperty(Ct,"CryptoECKey",{enumerable:!0,get:function(){return TQ.CryptoECKey}});var AQ=pQ();Object.defineProperty(Ct,"Bytes",{enumerable:!0,get:function(){return AQ.Bytes}});var OQ=vQ();Object.defineProperty(Ct,"CryptoOutput",{enumerable:!0,get:function(){return OQ.CryptoOutput}});var DQ=xQ();Object.defineProperty(Ct,"CryptoPSBT",{enumerable:!0,get:function(){return DQ.CryptoPSBT}});var RQ=wQ();Object.defineProperty(Ct,"CryptoAccount",{enumerable:!0,get:function(){return RQ.CryptoAccount}});var BQ=SQ();Object.defineProperty(Ct,"URRegistryDecoder",{enumerable:!0,get:function(){return BQ.URRegistryDecoder}});var PQ=$B();Object.defineProperty(Ct,"MultiKey",{enumerable:!0,get:function(){return PQ.MultiKey}});var MQ=m5();Object.defineProperty(Ct,"ScriptExpressions",{enumerable:!0,get:function(){return MQ.ScriptExpressions}});var NQ=XB();Object.defineProperty(Ct,"PathComponent",{enumerable:!0,get:function(){return NQ.PathComponent}});var CQ=ka(),Iy=Na(),jAe=Na();Object.defineProperty(Ct,"DataItem",{enumerable:!0,get:function(){return jAe.DataItem}});var HAe=Qu();Object.defineProperty(Ct,"RegistryItem",{enumerable:!0,get:function(){return HAe.RegistryItem}});var KAe=GB(),VAe={URRegistryDecoder:BQ.URRegistryDecoder,Bytes:AQ.Bytes,CryptoAccount:RQ.CryptoAccount,CryptoHDKey:EQ.CryptoHDKey,CryptoKeypath:IQ.CryptoKeypath,CryptoCoinInfo:Ty.CryptoCoinInfo,CryptoCoinInfoType:Ty.Type,CryptoCoinInfoNetwork:Ty.Network,CryptoECKey:TQ.CryptoECKey,CryptoOutput:OQ.CryptoOutput,CryptoPSBT:DQ.CryptoPSBT,MultiKey:PQ.MultiKey,ScriptExpressions:MQ.ScriptExpressions,PathComponent:NQ.PathComponent},zAe={addReader:Iy.addReader,addSemanticDecode:Iy.addSemanticDecode,addSemanticEncode:Iy.addSemanticEncode,addWriter:Iy.addWriter,patchTags:KAe.patchTags},GAe={RegistryTypes:CQ.RegistryTypes,RegistryType:CQ.RegistryType,decodeToDataItem:Iy.decodeToDataItem,encodeDataItem:Iy.encodeDataItem,cbor:zAe};Ct.extend=GAe;Ct.default=VAe});function Px(){if(!R5&&(R5=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!R5))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R5(YAe)}var R5,YAe,nP=pe(()=>{h();p();YAe=new Uint8Array(16)});var kQ,qQ=pe(()=>{h();p();kQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function WAe(r){return typeof r=="string"&&kQ.test(r)}var xl,Mx=pe(()=>{h();p();qQ();xl=WAe});function XAe(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=($n[r[e+0]]+$n[r[e+1]]+$n[r[e+2]]+$n[r[e+3]]+"-"+$n[r[e+4]]+$n[r[e+5]]+"-"+$n[r[e+6]]+$n[r[e+7]]+"-"+$n[r[e+8]]+$n[r[e+9]]+"-"+$n[r[e+10]]+$n[r[e+11]]+$n[r[e+12]]+$n[r[e+13]]+$n[r[e+14]]+$n[r[e+15]]).toLowerCase();if(!xl(t))throw TypeError("Stringified UUID is invalid");return t}var $n,B5,bl,Nx=pe(()=>{h();p();Mx();$n=[];for(B5=0;B5<256;++B5)$n.push((B5+256).toString(16).substr(1));bl=XAe});function JAe(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||FQ,a=r.clockseq!==void 0?r.clockseq:iP;if(o==null||a==null){var s=r.random||(r.rng||Px)();o==null&&(o=FQ=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=iP=(s[6]<<8|s[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:aP+1,c=u-oP+(f-aP)/1e4;if(c<0&&r.clockseq===void 0&&(a=a+1&16383),(c<0||u>oP)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");oP=u,aP=f,iP=a,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var y=0;y<6;++y)i[n+y]=o[y];return e||bl(i)}var FQ,iP,oP,aP,LQ,UQ=pe(()=>{h();p();nP();Nx();oP=0,aP=0;LQ=JAe});function $Ae(r){if(!xl(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var P5,sP=pe(()=>{h();p();Mx();P5=$Ae});function ZAe(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function M5(r,e,t){function n(i,o,a,s){if(typeof i=="string"&&(i=ZAe(i)),typeof o=="string"&&(o=P5(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=u[f];return a}return bl(u)}try{n.name=r}catch{}return n.DNS=QAe,n.URL=eOe,n}var QAe,eOe,uP=pe(()=>{h();p();Nx();sP();QAe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",eOe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function tOe(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return rOe(nOe(iOe(r),r.length*8))}function rOe(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(a)}return e}function jQ(r){return(r+64>>>9<<4)+14+1}function nOe(r,e){r[e>>5]|=128<<e%32,r[jQ(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=t,u=n,f=i,c=o;t=ro(t,n,i,o,r[a],7,-680876936),o=ro(o,t,n,i,r[a+1],12,-389564586),i=ro(i,o,t,n,r[a+2],17,606105819),n=ro(n,i,o,t,r[a+3],22,-1044525330),t=ro(t,n,i,o,r[a+4],7,-176418897),o=ro(o,t,n,i,r[a+5],12,1200080426),i=ro(i,o,t,n,r[a+6],17,-1473231341),n=ro(n,i,o,t,r[a+7],22,-45705983),t=ro(t,n,i,o,r[a+8],7,1770035416),o=ro(o,t,n,i,r[a+9],12,-1958414417),i=ro(i,o,t,n,r[a+10],17,-42063),n=ro(n,i,o,t,r[a+11],22,-1990404162),t=ro(t,n,i,o,r[a+12],7,1804603682),o=ro(o,t,n,i,r[a+13],12,-40341101),i=ro(i,o,t,n,r[a+14],17,-1502002290),n=ro(n,i,o,t,r[a+15],22,1236535329),t=no(t,n,i,o,r[a+1],5,-165796510),o=no(o,t,n,i,r[a+6],9,-1069501632),i=no(i,o,t,n,r[a+11],14,643717713),n=no(n,i,o,t,r[a],20,-373897302),t=no(t,n,i,o,r[a+5],5,-701558691),o=no(o,t,n,i,r[a+10],9,38016083),i=no(i,o,t,n,r[a+15],14,-660478335),n=no(n,i,o,t,r[a+4],20,-405537848),t=no(t,n,i,o,r[a+9],5,568446438),o=no(o,t,n,i,r[a+14],9,-1019803690),i=no(i,o,t,n,r[a+3],14,-187363961),n=no(n,i,o,t,r[a+8],20,1163531501),t=no(t,n,i,o,r[a+13],5,-1444681467),o=no(o,t,n,i,r[a+2],9,-51403784),i=no(i,o,t,n,r[a+7],14,1735328473),n=no(n,i,o,t,r[a+12],20,-1926607734),t=io(t,n,i,o,r[a+5],4,-378558),o=io(o,t,n,i,r[a+8],11,-2022574463),i=io(i,o,t,n,r[a+11],16,1839030562),n=io(n,i,o,t,r[a+14],23,-35309556),t=io(t,n,i,o,r[a+1],4,-1530992060),o=io(o,t,n,i,r[a+4],11,1272893353),i=io(i,o,t,n,r[a+7],16,-155497632),n=io(n,i,o,t,r[a+10],23,-1094730640),t=io(t,n,i,o,r[a+13],4,681279174),o=io(o,t,n,i,r[a],11,-358537222),i=io(i,o,t,n,r[a+3],16,-722521979),n=io(n,i,o,t,r[a+6],23,76029189),t=io(t,n,i,o,r[a+9],4,-640364487),o=io(o,t,n,i,r[a+12],11,-421815835),i=io(i,o,t,n,r[a+15],16,530742520),n=io(n,i,o,t,r[a+2],23,-995338651),t=oo(t,n,i,o,r[a],6,-198630844),o=oo(o,t,n,i,r[a+7],10,1126891415),i=oo(i,o,t,n,r[a+14],15,-1416354905),n=oo(n,i,o,t,r[a+5],21,-57434055),t=oo(t,n,i,o,r[a+12],6,1700485571),o=oo(o,t,n,i,r[a+3],10,-1894986606),i=oo(i,o,t,n,r[a+10],15,-1051523),n=oo(n,i,o,t,r[a+1],21,-2054922799),t=oo(t,n,i,o,r[a+8],6,1873313359),o=oo(o,t,n,i,r[a+15],10,-30611744),i=oo(i,o,t,n,r[a+6],15,-1560198380),n=oo(n,i,o,t,r[a+13],21,1309151649),t=oo(t,n,i,o,r[a+4],6,-145523070),o=oo(o,t,n,i,r[a+11],10,-1120210379),i=oo(i,o,t,n,r[a+2],15,718787259),n=oo(n,i,o,t,r[a+9],21,-343485551),t=wl(t,s),n=wl(n,u),i=wl(i,f),o=wl(o,c)}return[t,n,i,o]}function iOe(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(jQ(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function wl(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function oOe(r,e){return r<<e|r>>>32-e}function N5(r,e,t,n,i,o){return wl(oOe(wl(wl(e,r),wl(n,o)),i),t)}function ro(r,e,t,n,i,o,a){return N5(e&t|~e&n,r,e,i,o,a)}function no(r,e,t,n,i,o,a){return N5(e&n|t&~n,r,e,i,o,a)}function io(r,e,t,n,i,o,a){return N5(e^t^n,r,e,i,o,a)}function oo(r,e,t,n,i,o,a){return N5(t^(e|~n),r,e,i,o,a)}var HQ,KQ=pe(()=>{h();p();HQ=tOe});var aOe,VQ,zQ=pe(()=>{h();p();uP();KQ();aOe=M5("v3",48,HQ),VQ=aOe});function sOe(r,e,t){r=r||{};var n=r.random||(r.rng||Px)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return bl(n)}var GQ,YQ=pe(()=>{h();p();nP();Nx();GQ=sOe});function uOe(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function fP(r,e){return r<<e|r>>>32-e}function fOe(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=r[u*64+c*4]<<24|r[u*64+c*4+1]<<16|r[u*64+c*4+2]<<8|r[u*64+c*4+3];s[u]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var l=0;l<a;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var b=16;b<80;++b)g[b]=fP(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);for(var D=t[0],M=t[1],k=t[2],N=t[3],K=t[4],X=0;X<80;++X){var q=Math.floor(X/20),d=fP(D,5)+uOe(q,M,k,N)+K+e[q]+g[X]>>>0;K=N,N=k,k=fP(M,30)>>>0,M=D,D=d}t[0]=t[0]+D>>>0,t[1]=t[1]+M>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+N>>>0,t[4]=t[4]+K>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var WQ,XQ=pe(()=>{h();p();WQ=fOe});var cOe,JQ,$Q=pe(()=>{h();p();uP();XQ();cOe=M5("v5",80,WQ),JQ=cOe});var ZQ,QQ=pe(()=>{h();p();ZQ="00000000-0000-0000-0000-000000000000"});function dOe(r){if(!xl(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var eee,tee=pe(()=>{h();p();Mx();eee=dOe});var ree={};g0(ree,{NIL:()=>ZQ,parse:()=>P5,stringify:()=>bl,v1:()=>LQ,v3:()=>VQ,v4:()=>GQ,v5:()=>JQ,validate:()=>xl,version:()=>eee});var nee=pe(()=>{h();p();UQ();zQ();YQ();$Q();QQ();tee();Mx();Nx();sP()});var oee=T((iee,cP)=>{h();p();(function(r,e){"use strict";function t(E,_){if(!E)throw new Error(_||"Assertion failed")}function n(E,_){E.super_=_;var C=function(){};C.prototype=_.prototype,E.prototype=new C,E.prototype.constructor=E}function i(E,_,C){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((_==="le"||_==="be")&&(C=_,_=10),this._init(E||0,_||10,C||"be"))}typeof r=="object"?r.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var o;try{o=Qn().Buffer}catch{}i.isBN=function(_){return _ instanceof i?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===i.wordSize&&Array.isArray(_.words)},i.max=function(_,C){return _.cmp(C)>0?_:C},i.min=function(_,C){return _.cmp(C)<0?_:C},i.prototype._init=function(_,C,A){if(typeof _=="number")return this._initNumber(_,C,A);if(typeof _=="object")return this._initArray(_,C,A);C==="hex"&&(C=16),t(C===(C|0)&&C>=2&&C<=36),_=_.toString().replace(/\s+/g,"");var U=0;_[0]==="-"&&U++,C===16?this._parseHex(_,U):this._parseBase(_,C,U),_[0]==="-"&&(this.negative=1),this._strip(),A==="le"&&this._initArray(this.toArray(),C,A)},i.prototype._initNumber=function(_,C,A){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(t(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),C,A)},i.prototype._initArray=function(_,C,A){if(t(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var P,S,F=0;if(A==="be")for(U=_.length-1,P=0;U>=0;U-=3)S=_[U]|_[U-1]<<8|_[U-2]<<16,this.words[P]|=S<<F&67108863,this.words[P+1]=S>>>26-F&67108863,F+=24,F>=26&&(F-=26,P++);else if(A==="le")for(U=0,P=0;U<_.length;U+=3)S=_[U]|_[U+1]<<8|_[U+2]<<16,this.words[P]|=S<<F&67108863,this.words[P+1]=S>>>26-F&67108863,F+=24,F>=26&&(F-=26,P++);return this._strip()};function a(E,_,C){for(var A=0,U=Math.min(E.length,C),P=0,S=_;S<U;S++){var F=E.charCodeAt(S)-48;A<<=4;var W;F>=49&&F<=54?W=F-49+10:F>=17&&F<=22?W=F-17+10:W=F,A|=W,P|=W}return t(!(P&240),"Invalid character in "+E),A}i.prototype._parseHex=function(_,C){this.length=Math.ceil((_.length-C)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var U,P,S=0;for(A=_.length-6,U=0;A>=C;A-=6)P=a(_,A,A+6),this.words[U]|=P<<S&67108863,this.words[U+1]|=P>>>26-S&4194303,S+=24,S>=26&&(S-=26,U++);A+6!==C&&(P=a(_,C,A+6),this.words[U]|=P<<S&67108863,this.words[U+1]|=P>>>26-S&4194303),this._strip()};function s(E,_,C,A){for(var U=0,P=0,S=Math.min(E.length,C),F=_;F<S;F++){var W=E.charCodeAt(F)-48;U*=A,W>=49?P=W-49+10:W>=17?P=W-17+10:P=W,t(W>=0&&P<A,"Invalid character"),U+=P}return U}i.prototype._parseBase=function(_,C,A){this.words=[0],this.length=1;for(var U=0,P=1;P<=67108863;P*=C)U++;U--,P=P/C|0;for(var S=_.length-A,F=S%U,W=Math.min(S,S-F)+A,R=0,J=A;J<W;J+=U)R=s(_,J,J+U,C),this.imuln(P),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(F!==0){var he=1;for(R=s(_,J,_.length,C),J=0;J<F;J++)he*=C;this.imuln(he),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}},i.prototype.copy=function(_){_.words=new Array(this.length);for(var C=0;C<this.length;C++)_.words[C]=this.words[C];_.length=this.length,_.negative=this.negative,_.red=this.red};function u(E,_){E.words=_.words,E.length=_.length,E.negative=_.negative,E.red=_.red}if(i.prototype._move=function(_){u(_,this)},i.prototype.clone=function(){var _=new i(null);return this.copy(_),_},i.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(_,C){_=_||10,C=C|0||1;var A;if(_===16||_==="hex"){A="";for(var U=0,P=0,S=0;S<this.length;S++){var F=this.words[S],W=((F<<U|P)&16777215).toString(16);P=F>>>24-U&16777215,P!==0||S!==this.length-1?A=c[6-W.length]+W+A:A=W+A,U+=2,U>=26&&(U-=26,S--)}for(P!==0&&(A=P.toString(16)+A);A.length%C!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(_===(_|0)&&_>=2&&_<=36){var R=l[_],J=g[_];A="";var he=this.clone();for(he.negative=0;!he.isZero();){var xe=he.modrn(J).toString(_);he=he.idivn(J),he.isZero()?A=xe+A:A=c[R-xe.length]+xe+A}for(this.isZero()&&(A="0"+A);A.length%C!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}t(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(_,C){return this.toArrayLike(o,_,C)}),i.prototype.toArray=function(_,C){return this.toArrayLike(Array,_,C)};var y=function(_,C){return _.allocUnsafe?_.allocUnsafe(C):new _(C)};i.prototype.toArrayLike=function(_,C,A){this._strip();var U=this.byteLength(),P=A||Math.max(1,U);t(U<=P,"byte array longer than desired length"),t(P>0,"Requested array length <= 0");var S=y(_,P),F=C==="le"?"LE":"BE";return this["_toArrayLike"+F](S,U),S},i.prototype._toArrayLikeLE=function(_,C){for(var A=0,U=0,P=0,S=0;P<this.length;P++){var F=this.words[P]<<S|U;_[A++]=F&255,A<_.length&&(_[A++]=F>>8&255),A<_.length&&(_[A++]=F>>16&255),S===6?(A<_.length&&(_[A++]=F>>24&255),U=0,S=0):(U=F>>>24,S+=2)}if(A<_.length)for(_[A++]=U;A<_.length;)_[A++]=0},i.prototype._toArrayLikeBE=function(_,C){for(var A=_.length-1,U=0,P=0,S=0;P<this.length;P++){var F=this.words[P]<<S|U;_[A--]=F&255,A>=0&&(_[A--]=F>>8&255),A>=0&&(_[A--]=F>>16&255),S===6?(A>=0&&(_[A--]=F>>24&255),U=0,S=0):(U=F>>>24,S+=2)}if(A>=0)for(_[A--]=U;A>=0;)_[A--]=0},Math.clz32?i.prototype._countBits=function(_){return 32-Math.clz32(_)}:i.prototype._countBits=function(_){var C=_,A=0;return C>=4096&&(A+=13,C>>>=13),C>=64&&(A+=7,C>>>=7),C>=8&&(A+=4,C>>>=4),C>=2&&(A+=2,C>>>=2),A+C},i.prototype._zeroBits=function(_){if(_===0)return 26;var C=_,A=0;return(C&8191)===0&&(A+=13,C>>>=13),(C&127)===0&&(A+=7,C>>>=7),(C&15)===0&&(A+=4,C>>>=4),(C&3)===0&&(A+=2,C>>>=2),(C&1)===0&&A++,A},i.prototype.bitLength=function(){var _=this.words[this.length-1],C=this._countBits(_);return(this.length-1)*26+C};function b(E){for(var _=new Array(E.bitLength()),C=0;C<_.length;C++){var A=C/26|0,U=C%26;_[C]=E.words[A]>>>U&1}return _}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,C=0;C<this.length;C++){var A=this._zeroBits(this.words[C]);if(_+=A,A!==26)break}return _},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},i.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var C=0;C<_.length;C++)this.words[C]=this.words[C]|_.words[C];return this._strip()},i.prototype.ior=function(_){return t((this.negative|_.negative)===0),this.iuor(_)},i.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},i.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},i.prototype.iuand=function(_){var C;this.length>_.length?C=_:C=this;for(var A=0;A<C.length;A++)this.words[A]=this.words[A]&_.words[A];return this.length=C.length,this._strip()},i.prototype.iand=function(_){return t((this.negative|_.negative)===0),this.iuand(_)},i.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},i.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},i.prototype.iuxor=function(_){var C,A;this.length>_.length?(C=this,A=_):(C=_,A=this);for(var U=0;U<A.length;U++)this.words[U]=C.words[U]^A.words[U];if(this!==C)for(;U<C.length;U++)this.words[U]=C.words[U];return this.length=C.length,this._strip()},i.prototype.ixor=function(_){return t((this.negative|_.negative)===0),this.iuxor(_)},i.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},i.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},i.prototype.inotn=function(_){t(typeof _=="number"&&_>=0);var C=Math.ceil(_/26)|0,A=_%26;this._expand(C),A>0&&C--;for(var U=0;U<C;U++)this.words[U]=~this.words[U]&67108863;return A>0&&(this.words[U]=~this.words[U]&67108863>>26-A),this._strip()},i.prototype.notn=function(_){return this.clone().inotn(_)},i.prototype.setn=function(_,C){t(typeof _=="number"&&_>=0);var A=_/26|0,U=_%26;return this._expand(A+1),C?this.words[A]=this.words[A]|1<<U:this.words[A]=this.words[A]&~(1<<U),this._strip()},i.prototype.iadd=function(_){var C;if(this.negative!==0&&_.negative===0)return this.negative=0,C=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,C=this.isub(_),_.negative=1,C._normSign();var A,U;this.length>_.length?(A=this,U=_):(A=_,U=this);for(var P=0,S=0;S<U.length;S++)C=(A.words[S]|0)+(U.words[S]|0)+P,this.words[S]=C&67108863,P=C>>>26;for(;P!==0&&S<A.length;S++)C=(A.words[S]|0)+P,this.words[S]=C&67108863,P=C>>>26;if(this.length=A.length,P!==0)this.words[this.length]=P,this.length++;else if(A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this},i.prototype.add=function(_){var C;return _.negative!==0&&this.negative===0?(_.negative=0,C=this.sub(_),_.negative^=1,C):_.negative===0&&this.negative!==0?(this.negative=0,C=_.sub(this),this.negative=1,C):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},i.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var C=this.iadd(_);return _.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var A=this.cmp(_);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,P;A>0?(U=this,P=_):(U=_,P=this);for(var S=0,F=0;F<P.length;F++)C=(U.words[F]|0)-(P.words[F]|0)+S,S=C>>26,this.words[F]=C&67108863;for(;S!==0&&F<U.length;F++)C=(U.words[F]|0)+S,S=C>>26,this.words[F]=C&67108863;if(S===0&&F<U.length&&U!==this)for(;F<U.length;F++)this.words[F]=U.words[F];return this.length=Math.max(this.length,F),U!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(_){return this.clone().isub(_)};function D(E,_,C){C.negative=_.negative^E.negative;var A=E.length+_.length|0;C.length=A,A=A-1|0;var U=E.words[0]|0,P=_.words[0]|0,S=U*P,F=S&67108863,W=S/67108864|0;C.words[0]=F;for(var R=1;R<A;R++){for(var J=W>>>26,he=W&67108863,xe=Math.min(R,_.length-1),_e=Math.max(0,R-E.length+1);_e<=xe;_e++){var ke=R-_e|0;U=E.words[ke]|0,P=_.words[_e]|0,S=U*P+he,J+=S/67108864|0,he=S&67108863}C.words[R]=he|0,W=J|0}return W!==0?C.words[R]=W|0:C.length--,C._strip()}var M=function(_,C,A){var U=_.words,P=C.words,S=A.words,F=0,W,R,J,he=U[0]|0,xe=he&8191,_e=he>>>13,ke=U[1]|0,Te=ke&8191,Oe=ke>>>13,cn=U[2]|0,De=cn&8191,je=cn>>>13,Fa=U[3]|0,Ze=Fa&8191,Qe=Fa>>>13,ko=U[4]|0,Ge=ko&8191,Je=ko>>>13,uo=U[5]|0,We=uo&8191,$e=uo>>>13,uc=U[6]|0,be=uc&8191,Ke=uc>>>13,V=U[7]|0,Y=V&8191,Z=V>>>13,ne=U[8]|0,oe=ne&8191,re=ne>>>13,ge=U[9]|0,se=ge&8191,fe=ge>>>13,Ue=P[0]|0,Ce=Ue&8191,Se=Ue>>>13,xt=P[1]|0,qe=xt&8191,Me=xt>>>13,au=P[2]|0,Ye=au&8191,nt=au>>>13,Al=P[3]|0,it=Al&8191,ot=Al>>>13,Ol=P[4]|0,at=Ol&8191,st=Ol>>>13,Dl=P[5]|0,ut=Dl&8191,ft=Dl>>>13,Rl=P[6]|0,ct=Rl&8191,dt=Rl>>>13,Bl=P[7]|0,lt=Bl&8191,ht=Bl>>>13,Pl=P[8]|0,pt=Pl&8191,gt=Pl>>>13,p0=P[9]|0,O=p0&8191,L=p0>>>13;A.negative=_.negative^C.negative,A.length=19,W=Math.imul(xe,Ce),R=Math.imul(xe,Se),R=R+Math.imul(_e,Ce)|0,J=Math.imul(_e,Se);var j=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(j>>>26)|0,j&=67108863,W=Math.imul(Te,Ce),R=Math.imul(Te,Se),R=R+Math.imul(Oe,Ce)|0,J=Math.imul(Oe,Se),W=W+Math.imul(xe,qe)|0,R=R+Math.imul(xe,Me)|0,R=R+Math.imul(_e,qe)|0,J=J+Math.imul(_e,Me)|0;var H=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(H>>>26)|0,H&=67108863,W=Math.imul(De,Ce),R=Math.imul(De,Se),R=R+Math.imul(je,Ce)|0,J=Math.imul(je,Se),W=W+Math.imul(Te,qe)|0,R=R+Math.imul(Te,Me)|0,R=R+Math.imul(Oe,qe)|0,J=J+Math.imul(Oe,Me)|0,W=W+Math.imul(xe,Ye)|0,R=R+Math.imul(xe,nt)|0,R=R+Math.imul(_e,Ye)|0,J=J+Math.imul(_e,nt)|0;var z=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(z>>>26)|0,z&=67108863,W=Math.imul(Ze,Ce),R=Math.imul(Ze,Se),R=R+Math.imul(Qe,Ce)|0,J=Math.imul(Qe,Se),W=W+Math.imul(De,qe)|0,R=R+Math.imul(De,Me)|0,R=R+Math.imul(je,qe)|0,J=J+Math.imul(je,Me)|0,W=W+Math.imul(Te,Ye)|0,R=R+Math.imul(Te,nt)|0,R=R+Math.imul(Oe,Ye)|0,J=J+Math.imul(Oe,nt)|0,W=W+Math.imul(xe,it)|0,R=R+Math.imul(xe,ot)|0,R=R+Math.imul(_e,it)|0,J=J+Math.imul(_e,ot)|0;var G=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(G>>>26)|0,G&=67108863,W=Math.imul(Ge,Ce),R=Math.imul(Ge,Se),R=R+Math.imul(Je,Ce)|0,J=Math.imul(Je,Se),W=W+Math.imul(Ze,qe)|0,R=R+Math.imul(Ze,Me)|0,R=R+Math.imul(Qe,qe)|0,J=J+Math.imul(Qe,Me)|0,W=W+Math.imul(De,Ye)|0,R=R+Math.imul(De,nt)|0,R=R+Math.imul(je,Ye)|0,J=J+Math.imul(je,nt)|0,W=W+Math.imul(Te,it)|0,R=R+Math.imul(Te,ot)|0,R=R+Math.imul(Oe,it)|0,J=J+Math.imul(Oe,ot)|0,W=W+Math.imul(xe,at)|0,R=R+Math.imul(xe,st)|0,R=R+Math.imul(_e,at)|0,J=J+Math.imul(_e,st)|0;var Q=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(Q>>>26)|0,Q&=67108863,W=Math.imul(We,Ce),R=Math.imul(We,Se),R=R+Math.imul($e,Ce)|0,J=Math.imul($e,Se),W=W+Math.imul(Ge,qe)|0,R=R+Math.imul(Ge,Me)|0,R=R+Math.imul(Je,qe)|0,J=J+Math.imul(Je,Me)|0,W=W+Math.imul(Ze,Ye)|0,R=R+Math.imul(Ze,nt)|0,R=R+Math.imul(Qe,Ye)|0,J=J+Math.imul(Qe,nt)|0,W=W+Math.imul(De,it)|0,R=R+Math.imul(De,ot)|0,R=R+Math.imul(je,it)|0,J=J+Math.imul(je,ot)|0,W=W+Math.imul(Te,at)|0,R=R+Math.imul(Te,st)|0,R=R+Math.imul(Oe,at)|0,J=J+Math.imul(Oe,st)|0,W=W+Math.imul(xe,ut)|0,R=R+Math.imul(xe,ft)|0,R=R+Math.imul(_e,ut)|0,J=J+Math.imul(_e,ft)|0;var ee=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(ee>>>26)|0,ee&=67108863,W=Math.imul(be,Ce),R=Math.imul(be,Se),R=R+Math.imul(Ke,Ce)|0,J=Math.imul(Ke,Se),W=W+Math.imul(We,qe)|0,R=R+Math.imul(We,Me)|0,R=R+Math.imul($e,qe)|0,J=J+Math.imul($e,Me)|0,W=W+Math.imul(Ge,Ye)|0,R=R+Math.imul(Ge,nt)|0,R=R+Math.imul(Je,Ye)|0,J=J+Math.imul(Je,nt)|0,W=W+Math.imul(Ze,it)|0,R=R+Math.imul(Ze,ot)|0,R=R+Math.imul(Qe,it)|0,J=J+Math.imul(Qe,ot)|0,W=W+Math.imul(De,at)|0,R=R+Math.imul(De,st)|0,R=R+Math.imul(je,at)|0,J=J+Math.imul(je,st)|0,W=W+Math.imul(Te,ut)|0,R=R+Math.imul(Te,ft)|0,R=R+Math.imul(Oe,ut)|0,J=J+Math.imul(Oe,ft)|0,W=W+Math.imul(xe,ct)|0,R=R+Math.imul(xe,dt)|0,R=R+Math.imul(_e,ct)|0,J=J+Math.imul(_e,dt)|0;var ie=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(ie>>>26)|0,ie&=67108863,W=Math.imul(Y,Ce),R=Math.imul(Y,Se),R=R+Math.imul(Z,Ce)|0,J=Math.imul(Z,Se),W=W+Math.imul(be,qe)|0,R=R+Math.imul(be,Me)|0,R=R+Math.imul(Ke,qe)|0,J=J+Math.imul(Ke,Me)|0,W=W+Math.imul(We,Ye)|0,R=R+Math.imul(We,nt)|0,R=R+Math.imul($e,Ye)|0,J=J+Math.imul($e,nt)|0,W=W+Math.imul(Ge,it)|0,R=R+Math.imul(Ge,ot)|0,R=R+Math.imul(Je,it)|0,J=J+Math.imul(Je,ot)|0,W=W+Math.imul(Ze,at)|0,R=R+Math.imul(Ze,st)|0,R=R+Math.imul(Qe,at)|0,J=J+Math.imul(Qe,st)|0,W=W+Math.imul(De,ut)|0,R=R+Math.imul(De,ft)|0,R=R+Math.imul(je,ut)|0,J=J+Math.imul(je,ft)|0,W=W+Math.imul(Te,ct)|0,R=R+Math.imul(Te,dt)|0,R=R+Math.imul(Oe,ct)|0,J=J+Math.imul(Oe,dt)|0,W=W+Math.imul(xe,lt)|0,R=R+Math.imul(xe,ht)|0,R=R+Math.imul(_e,lt)|0,J=J+Math.imul(_e,ht)|0;var te=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(te>>>26)|0,te&=67108863,W=Math.imul(oe,Ce),R=Math.imul(oe,Se),R=R+Math.imul(re,Ce)|0,J=Math.imul(re,Se),W=W+Math.imul(Y,qe)|0,R=R+Math.imul(Y,Me)|0,R=R+Math.imul(Z,qe)|0,J=J+Math.imul(Z,Me)|0,W=W+Math.imul(be,Ye)|0,R=R+Math.imul(be,nt)|0,R=R+Math.imul(Ke,Ye)|0,J=J+Math.imul(Ke,nt)|0,W=W+Math.imul(We,it)|0,R=R+Math.imul(We,ot)|0,R=R+Math.imul($e,it)|0,J=J+Math.imul($e,ot)|0,W=W+Math.imul(Ge,at)|0,R=R+Math.imul(Ge,st)|0,R=R+Math.imul(Je,at)|0,J=J+Math.imul(Je,st)|0,W=W+Math.imul(Ze,ut)|0,R=R+Math.imul(Ze,ft)|0,R=R+Math.imul(Qe,ut)|0,J=J+Math.imul(Qe,ft)|0,W=W+Math.imul(De,ct)|0,R=R+Math.imul(De,dt)|0,R=R+Math.imul(je,ct)|0,J=J+Math.imul(je,dt)|0,W=W+Math.imul(Te,lt)|0,R=R+Math.imul(Te,ht)|0,R=R+Math.imul(Oe,lt)|0,J=J+Math.imul(Oe,ht)|0,W=W+Math.imul(xe,pt)|0,R=R+Math.imul(xe,gt)|0,R=R+Math.imul(_e,pt)|0,J=J+Math.imul(_e,gt)|0;var ue=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(ue>>>26)|0,ue&=67108863,W=Math.imul(se,Ce),R=Math.imul(se,Se),R=R+Math.imul(fe,Ce)|0,J=Math.imul(fe,Se),W=W+Math.imul(oe,qe)|0,R=R+Math.imul(oe,Me)|0,R=R+Math.imul(re,qe)|0,J=J+Math.imul(re,Me)|0,W=W+Math.imul(Y,Ye)|0,R=R+Math.imul(Y,nt)|0,R=R+Math.imul(Z,Ye)|0,J=J+Math.imul(Z,nt)|0,W=W+Math.imul(be,it)|0,R=R+Math.imul(be,ot)|0,R=R+Math.imul(Ke,it)|0,J=J+Math.imul(Ke,ot)|0,W=W+Math.imul(We,at)|0,R=R+Math.imul(We,st)|0,R=R+Math.imul($e,at)|0,J=J+Math.imul($e,st)|0,W=W+Math.imul(Ge,ut)|0,R=R+Math.imul(Ge,ft)|0,R=R+Math.imul(Je,ut)|0,J=J+Math.imul(Je,ft)|0,W=W+Math.imul(Ze,ct)|0,R=R+Math.imul(Ze,dt)|0,R=R+Math.imul(Qe,ct)|0,J=J+Math.imul(Qe,dt)|0,W=W+Math.imul(De,lt)|0,R=R+Math.imul(De,ht)|0,R=R+Math.imul(je,lt)|0,J=J+Math.imul(je,ht)|0,W=W+Math.imul(Te,pt)|0,R=R+Math.imul(Te,gt)|0,R=R+Math.imul(Oe,pt)|0,J=J+Math.imul(Oe,gt)|0,W=W+Math.imul(xe,O)|0,R=R+Math.imul(xe,L)|0,R=R+Math.imul(_e,O)|0,J=J+Math.imul(_e,L)|0;var de=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(de>>>26)|0,de&=67108863,W=Math.imul(se,qe),R=Math.imul(se,Me),R=R+Math.imul(fe,qe)|0,J=Math.imul(fe,Me),W=W+Math.imul(oe,Ye)|0,R=R+Math.imul(oe,nt)|0,R=R+Math.imul(re,Ye)|0,J=J+Math.imul(re,nt)|0,W=W+Math.imul(Y,it)|0,R=R+Math.imul(Y,ot)|0,R=R+Math.imul(Z,it)|0,J=J+Math.imul(Z,ot)|0,W=W+Math.imul(be,at)|0,R=R+Math.imul(be,st)|0,R=R+Math.imul(Ke,at)|0,J=J+Math.imul(Ke,st)|0,W=W+Math.imul(We,ut)|0,R=R+Math.imul(We,ft)|0,R=R+Math.imul($e,ut)|0,J=J+Math.imul($e,ft)|0,W=W+Math.imul(Ge,ct)|0,R=R+Math.imul(Ge,dt)|0,R=R+Math.imul(Je,ct)|0,J=J+Math.imul(Je,dt)|0,W=W+Math.imul(Ze,lt)|0,R=R+Math.imul(Ze,ht)|0,R=R+Math.imul(Qe,lt)|0,J=J+Math.imul(Qe,ht)|0,W=W+Math.imul(De,pt)|0,R=R+Math.imul(De,gt)|0,R=R+Math.imul(je,pt)|0,J=J+Math.imul(je,gt)|0,W=W+Math.imul(Te,O)|0,R=R+Math.imul(Te,L)|0,R=R+Math.imul(Oe,O)|0,J=J+Math.imul(Oe,L)|0;var me=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(me>>>26)|0,me&=67108863,W=Math.imul(se,Ye),R=Math.imul(se,nt),R=R+Math.imul(fe,Ye)|0,J=Math.imul(fe,nt),W=W+Math.imul(oe,it)|0,R=R+Math.imul(oe,ot)|0,R=R+Math.imul(re,it)|0,J=J+Math.imul(re,ot)|0,W=W+Math.imul(Y,at)|0,R=R+Math.imul(Y,st)|0,R=R+Math.imul(Z,at)|0,J=J+Math.imul(Z,st)|0,W=W+Math.imul(be,ut)|0,R=R+Math.imul(be,ft)|0,R=R+Math.imul(Ke,ut)|0,J=J+Math.imul(Ke,ft)|0,W=W+Math.imul(We,ct)|0,R=R+Math.imul(We,dt)|0,R=R+Math.imul($e,ct)|0,J=J+Math.imul($e,dt)|0,W=W+Math.imul(Ge,lt)|0,R=R+Math.imul(Ge,ht)|0,R=R+Math.imul(Je,lt)|0,J=J+Math.imul(Je,ht)|0,W=W+Math.imul(Ze,pt)|0,R=R+Math.imul(Ze,gt)|0,R=R+Math.imul(Qe,pt)|0,J=J+Math.imul(Qe,gt)|0,W=W+Math.imul(De,O)|0,R=R+Math.imul(De,L)|0,R=R+Math.imul(je,O)|0,J=J+Math.imul(je,L)|0;var Ie=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,W=Math.imul(se,it),R=Math.imul(se,ot),R=R+Math.imul(fe,it)|0,J=Math.imul(fe,ot),W=W+Math.imul(oe,at)|0,R=R+Math.imul(oe,st)|0,R=R+Math.imul(re,at)|0,J=J+Math.imul(re,st)|0,W=W+Math.imul(Y,ut)|0,R=R+Math.imul(Y,ft)|0,R=R+Math.imul(Z,ut)|0,J=J+Math.imul(Z,ft)|0,W=W+Math.imul(be,ct)|0,R=R+Math.imul(be,dt)|0,R=R+Math.imul(Ke,ct)|0,J=J+Math.imul(Ke,dt)|0,W=W+Math.imul(We,lt)|0,R=R+Math.imul(We,ht)|0,R=R+Math.imul($e,lt)|0,J=J+Math.imul($e,ht)|0,W=W+Math.imul(Ge,pt)|0,R=R+Math.imul(Ge,gt)|0,R=R+Math.imul(Je,pt)|0,J=J+Math.imul(Je,gt)|0,W=W+Math.imul(Ze,O)|0,R=R+Math.imul(Ze,L)|0,R=R+Math.imul(Qe,O)|0,J=J+Math.imul(Qe,L)|0;var yt=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(yt>>>26)|0,yt&=67108863,W=Math.imul(se,at),R=Math.imul(se,st),R=R+Math.imul(fe,at)|0,J=Math.imul(fe,st),W=W+Math.imul(oe,ut)|0,R=R+Math.imul(oe,ft)|0,R=R+Math.imul(re,ut)|0,J=J+Math.imul(re,ft)|0,W=W+Math.imul(Y,ct)|0,R=R+Math.imul(Y,dt)|0,R=R+Math.imul(Z,ct)|0,J=J+Math.imul(Z,dt)|0,W=W+Math.imul(be,lt)|0,R=R+Math.imul(be,ht)|0,R=R+Math.imul(Ke,lt)|0,J=J+Math.imul(Ke,ht)|0,W=W+Math.imul(We,pt)|0,R=R+Math.imul(We,gt)|0,R=R+Math.imul($e,pt)|0,J=J+Math.imul($e,gt)|0,W=W+Math.imul(Ge,O)|0,R=R+Math.imul(Ge,L)|0,R=R+Math.imul(Je,O)|0,J=J+Math.imul(Je,L)|0;var He=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(He>>>26)|0,He&=67108863,W=Math.imul(se,ut),R=Math.imul(se,ft),R=R+Math.imul(fe,ut)|0,J=Math.imul(fe,ft),W=W+Math.imul(oe,ct)|0,R=R+Math.imul(oe,dt)|0,R=R+Math.imul(re,ct)|0,J=J+Math.imul(re,dt)|0,W=W+Math.imul(Y,lt)|0,R=R+Math.imul(Y,ht)|0,R=R+Math.imul(Z,lt)|0,J=J+Math.imul(Z,ht)|0,W=W+Math.imul(be,pt)|0,R=R+Math.imul(be,gt)|0,R=R+Math.imul(Ke,pt)|0,J=J+Math.imul(Ke,gt)|0,W=W+Math.imul(We,O)|0,R=R+Math.imul(We,L)|0,R=R+Math.imul($e,O)|0,J=J+Math.imul($e,L)|0;var wr=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(wr>>>26)|0,wr&=67108863,W=Math.imul(se,ct),R=Math.imul(se,dt),R=R+Math.imul(fe,ct)|0,J=Math.imul(fe,dt),W=W+Math.imul(oe,lt)|0,R=R+Math.imul(oe,ht)|0,R=R+Math.imul(re,lt)|0,J=J+Math.imul(re,ht)|0,W=W+Math.imul(Y,pt)|0,R=R+Math.imul(Y,gt)|0,R=R+Math.imul(Z,pt)|0,J=J+Math.imul(Z,gt)|0,W=W+Math.imul(be,O)|0,R=R+Math.imul(be,L)|0,R=R+Math.imul(Ke,O)|0,J=J+Math.imul(Ke,L)|0;var Ut=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,W=Math.imul(se,lt),R=Math.imul(se,ht),R=R+Math.imul(fe,lt)|0,J=Math.imul(fe,ht),W=W+Math.imul(oe,pt)|0,R=R+Math.imul(oe,gt)|0,R=R+Math.imul(re,pt)|0,J=J+Math.imul(re,gt)|0,W=W+Math.imul(Y,O)|0,R=R+Math.imul(Y,L)|0,R=R+Math.imul(Z,O)|0,J=J+Math.imul(Z,L)|0;var fo=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(fo>>>26)|0,fo&=67108863,W=Math.imul(se,pt),R=Math.imul(se,gt),R=R+Math.imul(fe,pt)|0,J=Math.imul(fe,gt),W=W+Math.imul(oe,O)|0,R=R+Math.imul(oe,L)|0,R=R+Math.imul(re,O)|0,J=J+Math.imul(re,L)|0;var jt=(F+W|0)+((R&8191)<<13)|0;F=(J+(R>>>13)|0)+(jt>>>26)|0,jt&=67108863,W=Math.imul(se,O),R=Math.imul(se,L),R=R+Math.imul(fe,O)|0,J=Math.imul(fe,L);var Lr=(F+W|0)+((R&8191)<<13)|0;return F=(J+(R>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,S[0]=j,S[1]=H,S[2]=z,S[3]=G,S[4]=Q,S[5]=ee,S[6]=ie,S[7]=te,S[8]=ue,S[9]=de,S[10]=me,S[11]=Ie,S[12]=yt,S[13]=He,S[14]=wr,S[15]=Ut,S[16]=fo,S[17]=jt,S[18]=Lr,F!==0&&(S[19]=F,A.length++),A};Math.imul||(M=D);function k(E,_,C){C.negative=_.negative^E.negative,C.length=E.length+_.length;for(var A=0,U=0,P=0;P<C.length-1;P++){var S=U;U=0;for(var F=A&67108863,W=Math.min(P,_.length-1),R=Math.max(0,P-E.length+1);R<=W;R++){var J=P-R,he=E.words[J]|0,xe=_.words[R]|0,_e=he*xe,ke=_e&67108863;S=S+(_e/67108864|0)|0,ke=ke+F|0,F=ke&67108863,S=S+(ke>>>26)|0,U+=S>>>26,S&=67108863}C.words[P]=F,A=S,S=U}return A!==0?C.words[P]=A:C.length--,C._strip()}function N(E,_,C){return k(E,_,C)}i.prototype.mulTo=function(_,C){var A,U=this.length+_.length;return this.length===10&&_.length===10?A=M(this,_,C):U<63?A=D(this,_,C):U<1024?A=k(this,_,C):A=N(this,_,C),A};function K(E,_){this.x=E,this.y=_}K.prototype.makeRBT=function(_){for(var C=new Array(_),A=i.prototype._countBits(_)-1,U=0;U<_;U++)C[U]=this.revBin(U,A,_);return C},K.prototype.revBin=function(_,C,A){if(_===0||_===A-1)return _;for(var U=0,P=0;P<C;P++)U|=(_&1)<<C-P-1,_>>=1;return U},K.prototype.permute=function(_,C,A,U,P,S){for(var F=0;F<S;F++)U[F]=C[_[F]],P[F]=A[_[F]]},K.prototype.transform=function(_,C,A,U,P,S){this.permute(S,_,C,A,U,P);for(var F=1;F<P;F<<=1)for(var W=F<<1,R=Math.cos(2*Math.PI/W),J=Math.sin(2*Math.PI/W),he=0;he<P;he+=W)for(var xe=R,_e=J,ke=0;ke<F;ke++){var Te=A[he+ke],Oe=U[he+ke],cn=A[he+ke+F],De=U[he+ke+F],je=xe*cn-_e*De;De=xe*De+_e*cn,cn=je,A[he+ke]=Te+cn,U[he+ke]=Oe+De,A[he+ke+F]=Te-cn,U[he+ke+F]=Oe-De,ke!==W&&(je=R*xe-J*_e,_e=R*_e+J*xe,xe=je)}},K.prototype.guessLen13b=function(_,C){var A=Math.max(C,_)|1,U=A&1,P=0;for(A=A/2|0;A;A=A>>>1)P++;return 1<<P+1+U},K.prototype.conjugate=function(_,C,A){if(!(A<=1))for(var U=0;U<A/2;U++){var P=_[U];_[U]=_[A-U-1],_[A-U-1]=P,P=C[U],C[U]=-C[A-U-1],C[A-U-1]=-P}},K.prototype.normalize13b=function(_,C){for(var A=0,U=0;U<C/2;U++){var P=Math.round(_[2*U+1]/C)*8192+Math.round(_[2*U]/C)+A;_[U]=P&67108863,P<67108864?A=0:A=P/67108864|0}return _},K.prototype.convert13b=function(_,C,A,U){for(var P=0,S=0;S<C;S++)P=P+(_[S]|0),A[2*S]=P&8191,P=P>>>13,A[2*S+1]=P&8191,P=P>>>13;for(S=2*C;S<U;++S)A[S]=0;t(P===0),t((P&-8192)===0)},K.prototype.stub=function(_){for(var C=new Array(_),A=0;A<_;A++)C[A]=0;return C},K.prototype.mulp=function(_,C,A){var U=2*this.guessLen13b(_.length,C.length),P=this.makeRBT(U),S=this.stub(U),F=new Array(U),W=new Array(U),R=new Array(U),J=new Array(U),he=new Array(U),xe=new Array(U),_e=A.words;_e.length=U,this.convert13b(_.words,_.length,F,U),this.convert13b(C.words,C.length,J,U),this.transform(F,S,W,R,U,P),this.transform(J,S,he,xe,U,P);for(var ke=0;ke<U;ke++){var Te=W[ke]*he[ke]-R[ke]*xe[ke];R[ke]=W[ke]*xe[ke]+R[ke]*he[ke],W[ke]=Te}return this.conjugate(W,R,U),this.transform(W,R,_e,S,U,P),this.conjugate(_e,S,U),this.normalize13b(_e,U),A.negative=_.negative^C.negative,A.length=_.length+C.length,A._strip()},i.prototype.mul=function(_){var C=new i(null);return C.words=new Array(this.length+_.length),this.mulTo(_,C)},i.prototype.mulf=function(_){var C=new i(null);return C.words=new Array(this.length+_.length),N(this,_,C)},i.prototype.imul=function(_){return this.clone().mulTo(_,this)},i.prototype.imuln=function(_){var C=_<0;C&&(_=-_),t(typeof _=="number"),t(_<67108864);for(var A=0,U=0;U<this.length;U++){var P=(this.words[U]|0)*_,S=(P&67108863)+(A&67108863);A>>=26,A+=P/67108864|0,A+=S>>>26,this.words[U]=S&67108863}return A!==0&&(this.words[U]=A,this.length++),C?this.ineg():this},i.prototype.muln=function(_){return this.clone().imuln(_)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(_){var C=b(_);if(C.length===0)return new i(1);for(var A=this,U=0;U<C.length&&C[U]===0;U++,A=A.sqr());if(++U<C.length)for(var P=A.sqr();U<C.length;U++,P=P.sqr())C[U]!==0&&(A=A.mul(P));return A},i.prototype.iushln=function(_){t(typeof _=="number"&&_>=0);var C=_%26,A=(_-C)/26,U=67108863>>>26-C<<26-C,P;if(C!==0){var S=0;for(P=0;P<this.length;P++){var F=this.words[P]&U,W=(this.words[P]|0)-F<<C;this.words[P]=W|S,S=F>>>26-C}S&&(this.words[P]=S,this.length++)}if(A!==0){for(P=this.length-1;P>=0;P--)this.words[P+A]=this.words[P];for(P=0;P<A;P++)this.words[P]=0;this.length+=A}return this._strip()},i.prototype.ishln=function(_){return t(this.negative===0),this.iushln(_)},i.prototype.iushrn=function(_,C,A){t(typeof _=="number"&&_>=0);var U;C?U=(C-C%26)/26:U=0;var P=_%26,S=Math.min((_-P)/26,this.length),F=67108863^67108863>>>P<<P,W=A;if(U-=S,U=Math.max(0,U),W){for(var R=0;R<S;R++)W.words[R]=this.words[R];W.length=S}if(S!==0)if(this.length>S)for(this.length-=S,R=0;R<this.length;R++)this.words[R]=this.words[R+S];else this.words[0]=0,this.length=1;var J=0;for(R=this.length-1;R>=0&&(J!==0||R>=U);R--){var he=this.words[R]|0;this.words[R]=J<<26-P|he>>>P,J=he&F}return W&&J!==0&&(W.words[W.length++]=J),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(_,C,A){return t(this.negative===0),this.iushrn(_,C,A)},i.prototype.shln=function(_){return this.clone().ishln(_)},i.prototype.ushln=function(_){return this.clone().iushln(_)},i.prototype.shrn=function(_){return this.clone().ishrn(_)},i.prototype.ushrn=function(_){return this.clone().iushrn(_)},i.prototype.testn=function(_){t(typeof _=="number"&&_>=0);var C=_%26,A=(_-C)/26,U=1<<C;if(this.length<=A)return!1;var P=this.words[A];return!!(P&U)},i.prototype.imaskn=function(_){t(typeof _=="number"&&_>=0);var C=_%26,A=(_-C)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(C!==0&&A++,this.length=Math.min(A,this.length),C!==0){var U=67108863^67108863>>>C<<C;this.words[this.length-1]&=U}return this._strip()},i.prototype.maskn=function(_){return this.clone().imaskn(_)},i.prototype.iaddn=function(_){return t(typeof _=="number"),t(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},i.prototype._iaddn=function(_){this.words[0]+=_;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},i.prototype.isubn=function(_){if(t(typeof _=="number"),t(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},i.prototype.addn=function(_){return this.clone().iaddn(_)},i.prototype.subn=function(_){return this.clone().isubn(_)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(_,C,A){var U=_.length+A,P;this._expand(U);var S,F=0;for(P=0;P<_.length;P++){S=(this.words[P+A]|0)+F;var W=(_.words[P]|0)*C;S-=W&67108863,F=(S>>26)-(W/67108864|0),this.words[P+A]=S&67108863}for(;P<this.length-A;P++)S=(this.words[P+A]|0)+F,F=S>>26,this.words[P+A]=S&67108863;if(F===0)return this._strip();for(t(F===-1),F=0,P=0;P<this.length;P++)S=-(this.words[P]|0)+F,F=S>>26,this.words[P]=S&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(_,C){var A=this.length-_.length,U=this.clone(),P=_,S=P.words[P.length-1]|0,F=this._countBits(S);A=26-F,A!==0&&(P=P.ushln(A),U.iushln(A),S=P.words[P.length-1]|0);var W=U.length-P.length,R;if(C!=="mod"){R=new i(null),R.length=W+1,R.words=new Array(R.length);for(var J=0;J<R.length;J++)R.words[J]=0}var he=U.clone()._ishlnsubmul(P,1,W);he.negative===0&&(U=he,R&&(R.words[W]=1));for(var xe=W-1;xe>=0;xe--){var _e=(U.words[P.length+xe]|0)*67108864+(U.words[P.length+xe-1]|0);for(_e=Math.min(_e/S|0,67108863),U._ishlnsubmul(P,_e,xe);U.negative!==0;)_e--,U.negative=0,U._ishlnsubmul(P,1,xe),U.isZero()||(U.negative^=1);R&&(R.words[xe]=_e)}return R&&R._strip(),U._strip(),C!=="div"&&A!==0&&U.iushrn(A),{div:R||null,mod:U}},i.prototype.divmod=function(_,C,A){if(t(!_.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var U,P,S;return this.negative!==0&&_.negative===0?(S=this.neg().divmod(_,C),C!=="mod"&&(U=S.div.neg()),C!=="div"&&(P=S.mod.neg(),A&&P.negative!==0&&P.iadd(_)),{div:U,mod:P}):this.negative===0&&_.negative!==0?(S=this.divmod(_.neg(),C),C!=="mod"&&(U=S.div.neg()),{div:U,mod:S.mod}):(this.negative&_.negative)!==0?(S=this.neg().divmod(_.neg(),C),C!=="div"&&(P=S.mod.neg(),A&&P.negative!==0&&P.isub(_)),{div:S.div,mod:P}):_.length>this.length||this.cmp(_)<0?{div:new i(0),mod:this}:_.length===1?C==="div"?{div:this.divn(_.words[0]),mod:null}:C==="mod"?{div:null,mod:new i(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new i(this.modrn(_.words[0]))}:this._wordDiv(_,C)},i.prototype.div=function(_){return this.divmod(_,"div",!1).div},i.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},i.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},i.prototype.divRound=function(_){var C=this.divmod(_);if(C.mod.isZero())return C.div;var A=C.div.negative!==0?C.mod.isub(_):C.mod,U=_.ushrn(1),P=_.andln(1),S=A.cmp(U);return S<0||P===1&&S===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},i.prototype.modrn=function(_){var C=_<0;C&&(_=-_),t(_<=67108863);for(var A=(1<<26)%_,U=0,P=this.length-1;P>=0;P--)U=(A*U+(this.words[P]|0))%_;return C?-U:U},i.prototype.modn=function(_){return this.modrn(_)},i.prototype.idivn=function(_){var C=_<0;C&&(_=-_),t(_<=67108863);for(var A=0,U=this.length-1;U>=0;U--){var P=(this.words[U]|0)+A*67108864;this.words[U]=P/_|0,A=P%_}return this._strip(),C?this.ineg():this},i.prototype.divn=function(_){return this.clone().idivn(_)},i.prototype.egcd=function(_){t(_.negative===0),t(!_.isZero());var C=this,A=_.clone();C.negative!==0?C=C.umod(_):C=C.clone();for(var U=new i(1),P=new i(0),S=new i(0),F=new i(1),W=0;C.isEven()&&A.isEven();)C.iushrn(1),A.iushrn(1),++W;for(var R=A.clone(),J=C.clone();!C.isZero();){for(var he=0,xe=1;(C.words[0]&xe)===0&&he<26;++he,xe<<=1);if(he>0)for(C.iushrn(he);he-- >0;)(U.isOdd()||P.isOdd())&&(U.iadd(R),P.isub(J)),U.iushrn(1),P.iushrn(1);for(var _e=0,ke=1;(A.words[0]&ke)===0&&_e<26;++_e,ke<<=1);if(_e>0)for(A.iushrn(_e);_e-- >0;)(S.isOdd()||F.isOdd())&&(S.iadd(R),F.isub(J)),S.iushrn(1),F.iushrn(1);C.cmp(A)>=0?(C.isub(A),U.isub(S),P.isub(F)):(A.isub(C),S.isub(U),F.isub(P))}return{a:S,b:F,gcd:A.iushln(W)}},i.prototype._invmp=function(_){t(_.negative===0),t(!_.isZero());var C=this,A=_.clone();C.negative!==0?C=C.umod(_):C=C.clone();for(var U=new i(1),P=new i(0),S=A.clone();C.cmpn(1)>0&&A.cmpn(1)>0;){for(var F=0,W=1;(C.words[0]&W)===0&&F<26;++F,W<<=1);if(F>0)for(C.iushrn(F);F-- >0;)U.isOdd()&&U.iadd(S),U.iushrn(1);for(var R=0,J=1;(A.words[0]&J)===0&&R<26;++R,J<<=1);if(R>0)for(A.iushrn(R);R-- >0;)P.isOdd()&&P.iadd(S),P.iushrn(1);C.cmp(A)>=0?(C.isub(A),U.isub(P)):(A.isub(C),P.isub(U))}var he;return C.cmpn(1)===0?he=U:he=P,he.cmpn(0)<0&&he.iadd(_),he},i.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var C=this.clone(),A=_.clone();C.negative=0,A.negative=0;for(var U=0;C.isEven()&&A.isEven();U++)C.iushrn(1),A.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;A.isEven();)A.iushrn(1);var P=C.cmp(A);if(P<0){var S=C;C=A,A=S}else if(P===0||A.cmpn(1)===0)break;C.isub(A)}while(!0);return A.iushln(U)},i.prototype.invm=function(_){return this.egcd(_).a.umod(_)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(_){return this.words[0]&_},i.prototype.bincn=function(_){t(typeof _=="number");var C=_%26,A=(_-C)/26,U=1<<C;if(this.length<=A)return this._expand(A+1),this.words[A]|=U,this;for(var P=U,S=A;P!==0&&S<this.length;S++){var F=this.words[S]|0;F+=P,P=F>>>26,F&=67108863,this.words[S]=F}return P!==0&&(this.words[S]=P,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(_){var C=_<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var A;if(this.length>1)A=1;else{C&&(_=-_),t(_<=67108863,"Number is too big");var U=this.words[0]|0;A=U===_?0:U<_?-1:1}return this.negative!==0?-A|0:A},i.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var C=this.ucmp(_);return this.negative!==0?-C|0:C},i.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var C=0,A=this.length-1;A>=0;A--){var U=this.words[A]|0,P=_.words[A]|0;if(U!==P){U<P?C=-1:U>P&&(C=1);break}}return C},i.prototype.gtn=function(_){return this.cmpn(_)===1},i.prototype.gt=function(_){return this.cmp(_)===1},i.prototype.gten=function(_){return this.cmpn(_)>=0},i.prototype.gte=function(_){return this.cmp(_)>=0},i.prototype.ltn=function(_){return this.cmpn(_)===-1},i.prototype.lt=function(_){return this.cmp(_)===-1},i.prototype.lten=function(_){return this.cmpn(_)<=0},i.prototype.lte=function(_){return this.cmp(_)<=0},i.prototype.eqn=function(_){return this.cmpn(_)===0},i.prototype.eq=function(_){return this.cmp(_)===0},i.red=function(_){return new x(_)},i.prototype.toRed=function(_){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},i.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(_){return this.red=_,this},i.prototype.forceRed=function(_){return t(!this.red,"Already a number in reduction context"),this._forceRed(_)},i.prototype.redAdd=function(_){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},i.prototype.redIAdd=function(_){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},i.prototype.redSub=function(_){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},i.prototype.redISub=function(_){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},i.prototype.redShl=function(_){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},i.prototype.redMul=function(_){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},i.prototype.redIMul=function(_){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},i.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(_){return t(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var X={k256:null,p224:null,p192:null,p25519:null};function q(E,_){this.name=E,this.p=new i(_,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var _=new i(null);return _.words=new Array(Math.ceil(this.n/13)),_},q.prototype.ireduce=function(_){var C=_,A;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),A=C.bitLength();while(A>this.n);var U=A<this.n?-1:C.ucmp(this.p);return U===0?(C.words[0]=0,C.length=1):U>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},q.prototype.split=function(_,C){_.iushrn(this.n,0,C)},q.prototype.imulK=function(_){return _.imul(this.k)};function d(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(d,q),d.prototype.split=function(_,C){for(var A=4194303,U=Math.min(_.length,9),P=0;P<U;P++)C.words[P]=_.words[P];if(C.length=U,_.length<=9){_.words[0]=0,_.length=1;return}var S=_.words[9];for(C.words[C.length++]=S&A,P=10;P<_.length;P++){var F=_.words[P]|0;_.words[P-10]=(F&A)<<4|S>>>22,S=F}S>>>=22,_.words[P-10]=S,S===0&&_.length>10?_.length-=10:_.length-=9},d.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var C=0,A=0;A<_.length;A++){var U=_.words[A]|0;C+=U*977,_.words[A]=C&67108863,C=U*64+(C/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function v(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(v,q);function w(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(w,q);function I(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(I,q),I.prototype.imulK=function(_){for(var C=0,A=0;A<_.length;A++){var U=(_.words[A]|0)*19+C,P=U&67108863;U>>>=26,_.words[A]=P,C=U}return C!==0&&(_.words[_.length++]=C),_},i._prime=function(_){if(X[_])return X[_];var C;if(_==="k256")C=new d;else if(_==="p224")C=new v;else if(_==="p192")C=new w;else if(_==="p25519")C=new I;else throw new Error("Unknown prime "+_);return X[_]=C,C};function x(E){if(typeof E=="string"){var _=i._prime(E);this.m=_.p,this.prime=_}else t(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}x.prototype._verify1=function(_){t(_.negative===0,"red works only with positives"),t(_.red,"red works only with red numbers")},x.prototype._verify2=function(_,C){t((_.negative|C.negative)===0,"red works only with positives"),t(_.red&&_.red===C.red,"red works only with red numbers")},x.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(u(_,_.umod(this.m)._forceRed(this)),_)},x.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},x.prototype.add=function(_,C){this._verify2(_,C);var A=_.add(C);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},x.prototype.iadd=function(_,C){this._verify2(_,C);var A=_.iadd(C);return A.cmp(this.m)>=0&&A.isub(this.m),A},x.prototype.sub=function(_,C){this._verify2(_,C);var A=_.sub(C);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},x.prototype.isub=function(_,C){this._verify2(_,C);var A=_.isub(C);return A.cmpn(0)<0&&A.iadd(this.m),A},x.prototype.shl=function(_,C){return this._verify1(_),this.imod(_.ushln(C))},x.prototype.imul=function(_,C){return this._verify2(_,C),this.imod(_.imul(C))},x.prototype.mul=function(_,C){return this._verify2(_,C),this.imod(_.mul(C))},x.prototype.isqr=function(_){return this.imul(_,_.clone())},x.prototype.sqr=function(_){return this.mul(_,_)},x.prototype.sqrt=function(_){if(_.isZero())return _.clone();var C=this.m.andln(3);if(t(C%2===1),C===3){var A=this.m.add(new i(1)).iushrn(2);return this.pow(_,A)}for(var U=this.m.subn(1),P=0;!U.isZero()&&U.andln(1)===0;)P++,U.iushrn(1);t(!U.isZero());var S=new i(1).toRed(this),F=S.redNeg(),W=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new i(2*R*R).toRed(this);this.pow(R,W).cmp(F)!==0;)R.redIAdd(F);for(var J=this.pow(R,U),he=this.pow(_,U.addn(1).iushrn(1)),xe=this.pow(_,U),_e=P;xe.cmp(S)!==0;){for(var ke=xe,Te=0;ke.cmp(S)!==0;Te++)ke=ke.redSqr();t(Te<_e);var Oe=this.pow(J,new i(1).iushln(_e-Te-1));he=he.redMul(Oe),J=Oe.redSqr(),xe=xe.redMul(J),_e=Te}return he},x.prototype.invm=function(_){var C=_._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},x.prototype.pow=function(_,C){if(C.isZero())return new i(1).toRed(this);if(C.cmpn(1)===0)return _.clone();var A=4,U=new Array(1<<A);U[0]=new i(1).toRed(this),U[1]=_;for(var P=2;P<U.length;P++)U[P]=this.mul(U[P-1],_);var S=U[0],F=0,W=0,R=C.bitLength()%26;for(R===0&&(R=26),P=C.length-1;P>=0;P--){for(var J=C.words[P],he=R-1;he>=0;he--){var xe=J>>he&1;if(S!==U[0]&&(S=this.sqr(S)),xe===0&&F===0){W=0;continue}F<<=1,F|=xe,W++,!(W!==A&&(P!==0||he!==0))&&(S=this.mul(S,U[F]),W=0,F=0)}R=26}return S},x.prototype.convertTo=function(_){var C=_.umod(this.m);return C===_?C.clone():C},x.prototype.convertFrom=function(_){var C=_.clone();return C.red=null,C},i.mont=function(_){return new B(_)};function B(E){x.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(B,x),B.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},B.prototype.convertFrom=function(_){var C=this.imod(_.mul(this.rinv));return C.red=null,C},B.prototype.imul=function(_,C){if(_.isZero()||C.isZero())return _.words[0]=0,_.length=1,_;var A=_.imul(C),U=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=A.isub(U).iushrn(this.shift),S=P;return P.cmp(this.m)>=0?S=P.isub(this.m):P.cmpn(0)<0&&(S=P.iadd(this.m)),S._forceRed(this)},B.prototype.mul=function(_,C){if(_.isZero()||C.isZero())return new i(0)._forceRed(this);var A=_.mul(C),U=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=A.isub(U).iushrn(this.shift),S=P;return P.cmp(this.m)>=0?S=P.isub(this.m):P.cmpn(0)<0&&(S=P.iadd(this.m)),S._forceRed(this)},B.prototype.invm=function(_){var C=this.imod(_._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(typeof cP>"u"||cP,iee)});var ec=T(oa=>{h();p();var lOe=oa&&oa.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hOe=oa&&oa.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pOe=oa&&oa.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lOe(e,r,t);return hOe(e,r),e},gOe=oa&&oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oa,"__esModule",{value:!0});oa.rlp=oa.BN=void 0;var mOe=gOe(oee());oa.BN=mOe.default;var yOe=pOe(ite());oa.rlp=yOe});var hP=T(Cr=>{h();p();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.KECCAK256_RLP=Cr.KECCAK256_RLP_S=Cr.KECCAK256_RLP_ARRAY=Cr.KECCAK256_RLP_ARRAY_S=Cr.KECCAK256_NULL=Cr.KECCAK256_NULL_S=Cr.TWO_POW256=Cr.MAX_INTEGER=Cr.MAX_UINT64=void 0;var dP=Qn(),lP=ec();Cr.MAX_UINT64=new lP.BN("ffffffffffffffff",16);Cr.MAX_INTEGER=new lP.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);Cr.TWO_POW256=new lP.BN("10000000000000000000000000000000000000000000000000000000000000000",16);Cr.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Cr.KECCAK256_NULL=dP.Buffer.from(Cr.KECCAK256_NULL_S,"hex");Cr.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Cr.KECCAK256_RLP_ARRAY=dP.Buffer.from(Cr.KECCAK256_RLP_ARRAY_S,"hex");Cr.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Cr.KECCAK256_RLP=dP.Buffer.from(Cr.KECCAK256_RLP_S,"hex")});var pp=T(Br=>{h();p();Object.defineProperty(Br,"__esModule",{value:!0});Br.isHexString=Br.getKeys=Br.fromAscii=Br.fromUtf8=Br.toAscii=Br.arrayContainsArray=Br.getBinarySize=Br.padToEven=Br.stripHexPrefix=Br.isHexPrefixed=void 0;function aee(r){if(typeof r!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof r));return r[0]==="0"&&r[1]==="x"}Br.isHexPrefixed=aee;var vOe=function(r){if(typeof r!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof r));return aee(r)?r.slice(2):r};Br.stripHexPrefix=vOe;function see(r){var e=r;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}Br.padToEven=see;function _Oe(r){if(typeof r!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof r));return m.Buffer.byteLength(r,"utf8")}Br.getBinarySize=_Oe;function xOe(r,e,t){if(Array.isArray(r)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof r,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[t?"some":"every"](function(n){return r.indexOf(n)>=0})}Br.arrayContainsArray=xOe;function bOe(r){var e="",t=0,n=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<n;t+=2){var i=parseInt(r.substr(t,2),16);e+=String.fromCharCode(i)}return e}Br.toAscii=bOe;function wOe(r){var e=m.Buffer.from(r,"utf8");return"0x".concat(see(e.toString("hex")).replace(/^0+|0+$/g,""))}Br.fromUtf8=wOe;function SOe(r){for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t),i=n.toString(16);e+=i.length<2?"0".concat(i):i}return"0x".concat(e)}Br.fromAscii=SOe;function COe(r,e,t){if(!Array.isArray(r))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof r));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof r));for(var n=[],i=0;i<r.length;i++){var o=r[i][e];if(t&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof o));n.push(o)}return n}Br.getKeys=COe;function EOe(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Br.isHexString=EOe});var kx=T(tc=>{h();p();Object.defineProperty(tc,"__esModule",{value:!0});tc.assertIsString=tc.assertIsArray=tc.assertIsBuffer=tc.assertIsHexString=void 0;var IOe=pp(),TOe=function(r){if(!(0,IOe.isHexString)(r)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(r);throw new Error(e)}};tc.assertIsHexString=TOe;var AOe=function(r){if(!m.Buffer.isBuffer(r)){var e="This method only supports Buffer but input was: ".concat(r);throw new Error(e)}};tc.assertIsBuffer=AOe;var OOe=function(r){if(!Array.isArray(r)){var e="This method only supports number arrays but input was: ".concat(r);throw new Error(e)}};tc.assertIsArray=OOe;var DOe=function(r){if(typeof r!="string"){var e="This method only supports strings but input was: ".concat(r);throw new Error(e)}};tc.assertIsString=DOe});var Sl=T(ze=>{h();p();var ROe=ze&&ze.__values||function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BOe=ze&&ze.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(ze,"__esModule",{value:!0});ze.bufArrToArr=ze.arrToBufArr=ze.validateNoLeadingZeroes=ze.baToJSON=ze.toUtf8=ze.addHexPrefix=ze.toUnsigned=ze.fromSigned=ze.bufferToHex=ze.bufferToInt=ze.toBuffer=ze.unpadHexString=ze.unpadArray=ze.unpadBuffer=ze.setLengthRight=ze.setLengthLeft=ze.zeros=ze.intToBuffer=ze.intToHex=void 0;var pP=ec(),gp=pp(),qx=kx(),POe=function(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("Received an invalid integer type: ".concat(r));return"0x".concat(r.toString(16))};ze.intToHex=POe;var MOe=function(r){var e=(0,ze.intToHex)(r);return m.Buffer.from((0,gp.padToEven)(e.slice(2)),"hex")};ze.intToBuffer=MOe;var NOe=function(r){return m.Buffer.allocUnsafe(r).fill(0)};ze.zeros=NOe;var uee=function(r,e,t){var n=(0,ze.zeros)(e);return t?r.length<e?(r.copy(n),n):r.slice(0,e):r.length<e?(r.copy(n,e-r.length),n):r.slice(-e)},kOe=function(r,e){return(0,qx.assertIsBuffer)(r),uee(r,e,!1)};ze.setLengthLeft=kOe;var qOe=function(r,e){return(0,qx.assertIsBuffer)(r),uee(r,e,!0)};ze.setLengthRight=qOe;var gP=function(r){for(var e=r[0];r.length>0&&e.toString()==="0";)r=r.slice(1),e=r[0];return r},FOe=function(r){return(0,qx.assertIsBuffer)(r),gP(r)};ze.unpadBuffer=FOe;var LOe=function(r){return(0,qx.assertIsArray)(r),gP(r)};ze.unpadArray=LOe;var UOe=function(r){return(0,qx.assertIsHexString)(r),r=(0,gp.stripHexPrefix)(r),gP(r)};ze.unpadHexString=UOe;var jOe=function(r){if(r==null)return m.Buffer.allocUnsafe(0);if(m.Buffer.isBuffer(r))return m.Buffer.from(r);if(Array.isArray(r)||r instanceof Uint8Array)return m.Buffer.from(r);if(typeof r=="string"){if(!(0,gp.isHexString)(r))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(r));return m.Buffer.from((0,gp.padToEven)((0,gp.stripHexPrefix)(r)),"hex")}if(typeof r=="number")return(0,ze.intToBuffer)(r);if(pP.BN.isBN(r)){if(r.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(r));return r.toArrayLike(m.Buffer)}if(r.toArray)return m.Buffer.from(r.toArray());if(r.toBuffer)return m.Buffer.from(r.toBuffer());throw new Error("invalid type")};ze.toBuffer=jOe;var HOe=function(r){return new pP.BN((0,ze.toBuffer)(r)).toNumber()};ze.bufferToInt=HOe;var KOe=function(r){return r=(0,ze.toBuffer)(r),"0x"+r.toString("hex")};ze.bufferToHex=KOe;var VOe=function(r){return new pP.BN(r).fromTwos(256)};ze.fromSigned=VOe;var zOe=function(r){return m.Buffer.from(r.toTwos(256).toArray())};ze.toUnsigned=zOe;var GOe=function(r){return typeof r!="string"||(0,gp.isHexPrefixed)(r)?r:"0x"+r};ze.addHexPrefix=GOe;var YOe=function(r){var e=/^(00)+|(00)+$/g;if(r=(0,gp.stripHexPrefix)(r),r.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var t=m.Buffer.from(r.replace(e,""),"hex");return t.toString("utf8")};ze.toUtf8=YOe;var WOe=function(r){if(m.Buffer.isBuffer(r))return"0x".concat(r.toString("hex"));if(r instanceof Array){for(var e=[],t=0;t<r.length;t++)e.push((0,ze.baToJSON)(r[t]));return e}};ze.baToJSON=WOe;var XOe=function(r){var e,t;try{for(var n=ROe(Object.entries(r)),i=n.next();!i.done;i=n.next()){var o=BOe(i.value,2),a=o[0],s=o[1];if(s!==void 0&&s.length>0&&s[0]===0)throw new Error("".concat(a," cannot have leading zeroes, received: ").concat(s.toString("hex")))}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}};ze.validateNoLeadingZeroes=XOe;function fee(r){return Array.isArray(r)?r.map(function(e){return fee(e)}):m.Buffer.from(r)}ze.arrToBufArr=fee;function cee(r){return Array.isArray(r)?r.map(function(e){return cee(e)}):Uint8Array.from(r??[])}ze.bufArrToArr=cee});var q5=T(Gt=>{h();p();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.rlphash=Gt.ripemd160FromArray=Gt.ripemd160FromString=Gt.ripemd160=Gt.sha256FromArray=Gt.sha256FromString=Gt.sha256=Gt.keccakFromArray=Gt.keccakFromHexString=Gt.keccakFromString=Gt.keccak256=Gt.keccak=void 0;var k5=ote(),dee=Jx(),JOe=ec(),Fx=Sl(),rc=kx(),$Oe=function(r,e){switch(e===void 0&&(e=256),(0,rc.assertIsBuffer)(r),e){case 224:return(0,k5.keccak224)(r);case 256:return(0,k5.keccak256)(r);case 384:return(0,k5.keccak384)(r);case 512:return(0,k5.keccak512)(r);default:throw new Error("Invald algorithm: keccak".concat(e))}};Gt.keccak=$Oe;var ZOe=function(r){return(0,Gt.keccak)(r)};Gt.keccak256=ZOe;var QOe=function(r,e){e===void 0&&(e=256),(0,rc.assertIsString)(r);var t=m.Buffer.from(r,"utf8");return(0,Gt.keccak)(t,e)};Gt.keccakFromString=QOe;var eDe=function(r,e){return e===void 0&&(e=256),(0,rc.assertIsHexString)(r),(0,Gt.keccak)((0,Fx.toBuffer)(r),e)};Gt.keccakFromHexString=eDe;var tDe=function(r,e){return e===void 0&&(e=256),(0,rc.assertIsArray)(r),(0,Gt.keccak)((0,Fx.toBuffer)(r),e)};Gt.keccakFromArray=tDe;var mP=function(r){return r=(0,Fx.toBuffer)(r),dee("sha256").update(r).digest()},rDe=function(r){return(0,rc.assertIsBuffer)(r),mP(r)};Gt.sha256=rDe;var nDe=function(r){return(0,rc.assertIsString)(r),mP(r)};Gt.sha256FromString=nDe;var iDe=function(r){return(0,rc.assertIsArray)(r),mP(r)};Gt.sha256FromArray=iDe;var yP=function(r,e){r=(0,Fx.toBuffer)(r);var t=dee("rmd160").update(r).digest();return e===!0?(0,Fx.setLengthLeft)(t,32):t},oDe=function(r,e){return(0,rc.assertIsBuffer)(r),yP(r,e)};Gt.ripemd160=oDe;var aDe=function(r,e){return(0,rc.assertIsString)(r),yP(r,e)};Gt.ripemd160FromString=aDe;var sDe=function(r,e){return(0,rc.assertIsArray)(r),yP(r,e)};Gt.ripemd160FromArray=sDe;var uDe=function(r){return(0,Gt.keccak)(JOe.rlp.encode(r))};Gt.rlphash=uDe});var L5=T(qa=>{h();p();Object.defineProperty(qa,"__esModule",{value:!0});qa.toType=qa.TypeOutput=qa.bnToRlp=qa.bnToUnpaddedBuffer=qa.bnToHex=void 0;var vP=ec(),fDe=pp(),lee=Sl();function cDe(r){return"0x".concat(r.toString(16))}qa.bnToHex=cDe;function hee(r){return(0,lee.unpadBuffer)(r.toArrayLike(m.Buffer))}qa.bnToUnpaddedBuffer=hee;function dDe(r){return hee(r)}qa.bnToRlp=dDe;var F5;(function(r){r[r.Number=0]="Number",r[r.BN=1]="BN",r[r.Buffer=2]="Buffer",r[r.PrefixedHexString=3]="PrefixedHexString"})(F5=qa.TypeOutput||(qa.TypeOutput={}));function lDe(r,e){if(r===null)return null;if(r!==void 0){if(typeof r=="string"&&!(0,fDe.isHexString)(r))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(r));if(typeof r=="number"&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var t=(0,lee.toBuffer)(r);if(e===F5.Buffer)return t;if(e===F5.BN)return new vP.BN(t);if(e===F5.Number){var n=new vP.BN(t),i=new vP.BN(Number.MAX_SAFE_INTEGER.toString());if(n.gt(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}else return"0x".concat(t.toString("hex"))}}qa.toType=lDe});var xP=T(mt=>{h();p();var hDe=mt&&mt.__read||function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o},pDe=mt&&mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mt,"__esModule",{value:!0});mt.isZeroAddress=mt.zeroAddress=mt.importPublic=mt.privateToAddress=mt.privateToPublic=mt.publicToAddress=mt.pubToAddress=mt.isValidPublic=mt.isValidPrivate=mt.generateAddress2=mt.generateAddress=mt.isValidChecksumAddress=mt.toChecksumAddress=mt.isValidAddress=mt.Account=void 0;var _P=pDe(aa()),ef=ec(),Oy=KP(),gDe=pp(),U5=hP(),Ay=Sl(),Dy=q5(),iu=kx(),j5=L5(),mDe=function(){function r(e,t,n,i){e===void 0&&(e=new ef.BN(0)),t===void 0&&(t=new ef.BN(0)),n===void 0&&(n=U5.KECCAK256_RLP),i===void 0&&(i=U5.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=n,this.codeHash=i,this._validate()}return r.fromAccountData=function(e){var t=e.nonce,n=e.balance,i=e.stateRoot,o=e.codeHash;return new r(t?new ef.BN((0,Ay.toBuffer)(t)):void 0,n?new ef.BN((0,Ay.toBuffer)(n)):void 0,i?(0,Ay.toBuffer)(i):void 0,o?(0,Ay.toBuffer)(o):void 0)},r.fromRlpSerializedAccount=function(e){var t=ef.rlp.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},r.fromValuesArray=function(e){var t=hDe(e,4),n=t[0],i=t[1],o=t[2],a=t[3];return new r(new ef.BN(n),new ef.BN(i),o,a)},r.prototype._validate=function(){if(this.nonce.lt(new ef.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new ef.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},r.prototype.raw=function(){return[(0,j5.bnToUnpaddedBuffer)(this.nonce),(0,j5.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},r.prototype.serialize=function(){return ef.rlp.encode(this.raw())},r.prototype.isContract=function(){return!this.codeHash.equals(U5.KECCAK256_NULL)},r.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(U5.KECCAK256_NULL)},r}();mt.Account=mDe;var yDe=function(r){try{(0,iu.assertIsString)(r)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(r)};mt.isValidAddress=yDe;var vDe=function(r,e){(0,iu.assertIsHexString)(r);var t=(0,gDe.stripHexPrefix)(r).toLowerCase(),n="";if(e){var i=(0,j5.toType)(e,j5.TypeOutput.BN);n=i.toString()+"0x"}for(var o=(0,Dy.keccakFromString)(n+t).toString("hex"),a="0x",s=0;s<t.length;s++)parseInt(o[s],16)>=8?a+=t[s].toUpperCase():a+=t[s];return a};mt.toChecksumAddress=vDe;var _De=function(r,e){return(0,mt.isValidAddress)(r)&&(0,mt.toChecksumAddress)(r,e)===r};mt.isValidChecksumAddress=_De;var xDe=function(r,e){(0,iu.assertIsBuffer)(r),(0,iu.assertIsBuffer)(e);var t=new ef.BN(e);return t.isZero()?(0,Dy.rlphash)([r,null]).slice(-20):(0,Dy.rlphash)([r,m.Buffer.from(t.toArray())]).slice(-20)};mt.generateAddress=xDe;var bDe=function(r,e,t){(0,iu.assertIsBuffer)(r),(0,iu.assertIsBuffer)(e),(0,iu.assertIsBuffer)(t),(0,_P.default)(r.length===20),(0,_P.default)(e.length===32);var n=(0,Dy.keccak256)(m.Buffer.concat([m.Buffer.from("ff","hex"),r,e,(0,Dy.keccak256)(t)]));return n.slice(-20)};mt.generateAddress2=bDe;var wDe=function(r){return(0,Oy.privateKeyVerify)(r)};mt.isValidPrivate=wDe;var SDe=function(r,e){return e===void 0&&(e=!1),(0,iu.assertIsBuffer)(r),r.length===64?(0,Oy.publicKeyVerify)(m.Buffer.concat([m.Buffer.from([4]),r])):e?(0,Oy.publicKeyVerify)(r):!1};mt.isValidPublic=SDe;var CDe=function(r,e){return e===void 0&&(e=!1),(0,iu.assertIsBuffer)(r),e&&r.length!==64&&(r=m.Buffer.from((0,Oy.publicKeyConvert)(r,!1).slice(1))),(0,_P.default)(r.length===64),(0,Dy.keccak)(r).slice(-20)};mt.pubToAddress=CDe;mt.publicToAddress=mt.pubToAddress;var EDe=function(r){return(0,iu.assertIsBuffer)(r),m.Buffer.from((0,Oy.publicKeyCreate)(r,!1)).slice(1)};mt.privateToPublic=EDe;var IDe=function(r){return(0,mt.publicToAddress)((0,mt.privateToPublic)(r))};mt.privateToAddress=IDe;var TDe=function(r){return(0,iu.assertIsBuffer)(r),r.length!==64&&(r=m.Buffer.from((0,Oy.publicKeyConvert)(r,!1).slice(1))),r};mt.importPublic=TDe;var ADe=function(){var r=20,e=(0,Ay.zeros)(r);return(0,Ay.bufferToHex)(e)};mt.zeroAddress=ADe;var ODe=function(r){try{(0,iu.assertIsString)(r)}catch{return!1}var e=(0,mt.zeroAddress)();return e===r};mt.isZeroAddress=ODe});var gee=T(Ry=>{h();p();var DDe=Ry&&Ry.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.Address=void 0;var mp=DDe(aa()),H5=ec(),pee=Sl(),Lx=xP(),RDe=function(){function r(e){(0,mp.default)(e.length===20,"Invalid address length"),this.buf=e}return r.zero=function(){return new r((0,pee.zeros)(20))},r.fromString=function(e){return(0,mp.default)((0,Lx.isValidAddress)(e),"Invalid address"),new r((0,pee.toBuffer)(e))},r.fromPublicKey=function(e){(0,mp.default)(m.Buffer.isBuffer(e),"Public key should be Buffer");var t=(0,Lx.pubToAddress)(e);return new r(t)},r.fromPrivateKey=function(e){(0,mp.default)(m.Buffer.isBuffer(e),"Private key should be Buffer");var t=(0,Lx.privateToAddress)(e);return new r(t)},r.generate=function(e,t){return(0,mp.default)(H5.BN.isBN(t)),new r((0,Lx.generateAddress)(e.buf,t.toArrayLike(m.Buffer)))},r.generate2=function(e,t,n){return(0,mp.default)(m.Buffer.isBuffer(t)),(0,mp.default)(m.Buffer.isBuffer(n)),new r((0,Lx.generateAddress2)(e.buf,t,n))},r.prototype.equals=function(e){return this.buf.equals(e.buf)},r.prototype.isZero=function(){return this.equals(r.zero())},r.prototype.isPrecompileOrSystemAddress=function(){var e=new H5.BN(this.buf),t=new H5.BN(0),n=new H5.BN("ffff","hex");return e.gte(t)&&e.lte(n)},r.prototype.toString=function(){return"0x"+this.buf.toString("hex")},r.prototype.toBuffer=function(){return m.Buffer.from(this.buf)},r}();Ry.Address=RDe});var mee=T(ao=>{h();p();Object.defineProperty(ao,"__esModule",{value:!0});ao.hashPersonalMessage=ao.isValidSignature=ao.fromRpcSig=ao.toCompactSig=ao.toRpcSig=ao.ecrecover=ao.ecsign=void 0;var bP=KP(),Ux=ec(),ou=Sl(),BDe=q5(),PDe=kx(),nc=L5();function MDe(r,e,t){var n=(0,bP.ecdsaSign)(r,e),i=n.signature,o=n.recid,a=m.Buffer.from(i.slice(0,32)),s=m.Buffer.from(i.slice(32,64));if(!t||typeof t=="number"){if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var u=t?o+(t*2+35):o+27;return{r:a,s,v:u}}var f=(0,nc.toType)(t,nc.TypeOutput.BN),c=f.muln(2).addn(35).addn(o).toArrayLike(m.Buffer);return{r:a,s,v:c}}ao.ecsign=MDe;function K5(r,e){var t=(0,nc.toType)(r,nc.TypeOutput.BN);if(t.eqn(0)||t.eqn(1))return(0,nc.toType)(r,nc.TypeOutput.BN);if(!e)return t.subn(27);var n=(0,nc.toType)(e,nc.TypeOutput.BN);return t.sub(n.muln(2).addn(35))}function V5(r){var e=new Ux.BN(r);return e.eqn(0)||e.eqn(1)}var NDe=function(r,e,t,n,i){var o=m.Buffer.concat([(0,ou.setLengthLeft)(t,32),(0,ou.setLengthLeft)(n,32)],64),a=K5(e,i);if(!V5(a))throw new Error("Invalid signature v value");var s=(0,bP.ecdsaRecover)(o,a.toNumber(),r);return m.Buffer.from((0,bP.publicKeyConvert)(s,!1).slice(1))};ao.ecrecover=NDe;var kDe=function(r,e,t,n){var i=K5(r,n);if(!V5(i))throw new Error("Invalid signature v value");return(0,ou.bufferToHex)(m.Buffer.concat([(0,ou.setLengthLeft)(e,32),(0,ou.setLengthLeft)(t,32),(0,ou.toBuffer)(r)]))};ao.toRpcSig=kDe;var qDe=function(r,e,t,n){var i=K5(r,n);if(!V5(i))throw new Error("Invalid signature v value");var o=(0,nc.toType)(r,nc.TypeOutput.Number),a=t;return(o>28&&o%2===1||o===1||o===28)&&(a=m.Buffer.from(t),a[0]|=128),(0,ou.bufferToHex)(m.Buffer.concat([(0,ou.setLengthLeft)(e,32),(0,ou.setLengthLeft)(a,32)]))};ao.toCompactSig=qDe;var FDe=function(r){var e=(0,ou.toBuffer)(r),t,n,i;if(e.length>=65)t=e.slice(0,32),n=e.slice(32,64),i=(0,ou.bufferToInt)(e.slice(64));else if(e.length===64)t=e.slice(0,32),n=e.slice(32,64),i=(0,ou.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i+=27),{v:i,r:t,s:n}};ao.fromRpcSig=FDe;var LDe=function(r,e,t,n,i){n===void 0&&(n=!0);var o=new Ux.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new Ux.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||t.length!==32||!V5(K5(r,i)))return!1;var s=new Ux.BN(e),u=new Ux.BN(t);return!(s.isZero()||s.gt(a)||u.isZero()||u.gt(a)||n&&u.cmp(o)===1)};ao.isValidSignature=LDe;var UDe=function(r){(0,PDe.assertIsBuffer)(r);var e=m.Buffer.from(`Ethereum Signed Message:
`.concat(r.length),"utf-8");return(0,BDe.keccak)(m.Buffer.concat([e,r]))};ao.hashPersonalMessage=UDe});var _ee=T(By=>{h();p();var jDe=By&&By.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(By,"__esModule",{value:!0});By.defineProperties=void 0;var yee=jDe(aa()),HDe=pp(),vee=ec(),z5=Sl(),KDe=function(r,e,t){if(r.raw=[],r._fields=[],r.toJSON=function(i){if(i===void 0&&(i=!1),i){var o={};return r._fields.forEach(function(a){o[a]="0x".concat(r[a].toString("hex"))}),o}return(0,z5.baToJSON)(r.raw)},r.serialize=function(){return vee.rlp.encode(r.raw)},e.forEach(function(i,o){r._fields.push(i.name);function a(){return r.raw[o]}function s(u){u=(0,z5.toBuffer)(u),u.toString("hex")==="00"&&!i.allowZero&&(u=m.Buffer.allocUnsafe(0)),i.allowLess&&i.length?(u=(0,z5.unpadBuffer)(u),(0,yee.default)(i.length>=u.length,"The field ".concat(i.name," must not have more ").concat(i.length," bytes"))):!(i.allowZero&&u.length===0)&&i.length&&(0,yee.default)(i.length===u.length,"The field ".concat(i.name," must have byte length of ").concat(i.length)),r.raw[o]=u}Object.defineProperty(r,i.name,{enumerable:!0,configurable:!0,get:a,set:s}),i.default&&(r[i.name]=i.default),i.alias&&Object.defineProperty(r,i.alias,{enumerable:!1,configurable:!0,set:s,get:a})}),t)if(typeof t=="string"&&(t=m.Buffer.from((0,HDe.stripHexPrefix)(t),"hex")),m.Buffer.isBuffer(t)&&(t=vee.rlp.decode(t)),Array.isArray(t)){if(t.length>r._fields.length)throw new Error("wrong number of fields in data");t.forEach(function(i,o){r[r._fields[o]]=(0,z5.toBuffer)(i)})}else if(typeof t=="object"){var n=Object.keys(t);e.forEach(function(i){n.indexOf(i.name)!==-1&&(r[i.name]=t[i.name]),n.indexOf(i.alias)!==-1&&(r[i.alias]=t[i.alias])})}else throw new Error("invalid data")};By.defineProperties=KDe});var xee=T(At=>{h();p();var VDe=At&&At.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),d0=At&&At.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&VDe(e,r,t)};Object.defineProperty(At,"__esModule",{value:!0});At.isHexString=At.getKeys=At.fromAscii=At.fromUtf8=At.toAscii=At.arrayContainsArray=At.getBinarySize=At.padToEven=At.stripHexPrefix=At.isHexPrefixed=void 0;d0(hP(),At);d0(xP(),At);d0(gee(),At);d0(q5(),At);d0(mee(),At);d0(Sl(),At);d0(_ee(),At);d0(ec(),At);d0(L5(),At);var ic=pp();Object.defineProperty(At,"isHexPrefixed",{enumerable:!0,get:function(){return ic.isHexPrefixed}});Object.defineProperty(At,"stripHexPrefix",{enumerable:!0,get:function(){return ic.stripHexPrefix}});Object.defineProperty(At,"padToEven",{enumerable:!0,get:function(){return ic.padToEven}});Object.defineProperty(At,"getBinarySize",{enumerable:!0,get:function(){return ic.getBinarySize}});Object.defineProperty(At,"arrayContainsArray",{enumerable:!0,get:function(){return ic.arrayContainsArray}});Object.defineProperty(At,"toAscii",{enumerable:!0,get:function(){return ic.toAscii}});Object.defineProperty(At,"fromUtf8",{enumerable:!0,get:function(){return ic.fromUtf8}});Object.defineProperty(At,"fromAscii",{enumerable:!0,get:function(){return ic.fromAscii}});Object.defineProperty(At,"getKeys",{enumerable:!0,get:function(){return ic.getKeys}});Object.defineProperty(At,"isHexString",{enumerable:!0,get:function(){return ic.isHexString}})});var Cee=T(l0=>{h();p();Object.defineProperty(l0,"__esModule",{value:!0});var jx,No=O5(),zDe=(nee(),m0(ree)),GDe=(jx=jT())&&typeof jx=="object"&&"default"in jx?jx.default:jx,bee=xee(),{RegistryType:wee}=No.extend,wP={ETH_SIGN_REQUEST:new wee("eth-sign-request",401),ETH_SIGNATAURE:new wee("eth-signature",402)},{decodeToDataItem:YDe,RegistryTypes:WDe}=No.extend,Qr,Cl;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.chainId=4]="chainId",r[r.derivationPath=5]="derivationPath",r[r.address=6]="address",r[r.origin=7]="origin"})(Qr||(Qr={})),(Cl=l0.DataType||(l0.DataType={}))[Cl.transaction=1]="transaction",Cl[Cl.typedData=2]="typedData",Cl[Cl.personalMessage=3]="personalMessage",Cl[Cl.typedTransaction=4]="typedTransaction";var h0=class extends No.RegistryItem{constructor(e){super(),this.getRegistryType=()=>wP.ETH_SIGN_REQUEST,this.setupData=t=>{this.requestId=t.requestId,this.signData=t.signData,this.dataType=t.dataType,this.chainId=t.chainId,this.derivationPath=t.derivationPath,this.address=t.address,this.origin=t.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let t={};this.requestId&&(t[Qr.requestId]=new No.DataItem(this.requestId,WDe.UUID.getTag())),this.address&&(t[Qr.address]=this.address),this.chainId&&(t[Qr.chainId]=this.chainId),this.origin&&(t[Qr.origin]=this.origin),t[Qr.signData]=this.signData,t[Qr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),t[Qr.derivationPath]=n,new No.DataItem(t)},this.setupData(e)}static constructETHRequest(e,t,n,i,o,a,s,u){let f=n.replace(/[m|M]\//,"").split("/"),c=new No.CryptoKeypath(f.map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new No.PathComponent({index:g,hardened:y})}),m.Buffer.from(i,"hex"));return new h0({requestId:o?m.Buffer.from(zDe.parse(o)):void 0,signData:e,dataType:t,derivationPath:c,chainId:a,address:s?m.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};h0.fromDataItem=r=>{let e=r.getData(),t=e[Qr.signData],n=e[Qr.dataType],i=No.CryptoKeypath.fromDataItem(e[Qr.derivationPath]),o=e[Qr.chainId]?e[Qr.chainId]:void 0,a=e[Qr.address]?e[Qr.address]:void 0,s=e[Qr.requestId]?e[Qr.requestId].getData():void 0;return new h0({requestId:s,signData:t,dataType:n,chainId:o,derivationPath:i,address:a,origin:e[Qr.origin]?e[Qr.origin]:void 0})},h0.fromCBOR=r=>{let e=YDe(r);return h0.fromDataItem(e)};var{RegistryTypes:XDe,decodeToDataItem:JDe}=No.extend,vp;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature"})(vp||(vp={}));var yp=class extends No.RegistryItem{constructor(e,t){super(),this.getRegistryType=()=>wP.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[vp.requestId]=new No.DataItem(this.requestId,XDe.UUID.getTag())),n[vp.signature]=this.signature,new No.DataItem(n)},this.signature=e,this.requestId=t}};yp.fromDataItem=r=>{let e=r.getData(),t=e[vp.signature],n=e[vp.requestId]?e[vp.requestId].getData():void 0;return new yp(t,n)},yp.fromCBOR=r=>{let e=JDe(r);return yp.fromDataItem(e)};var See=(r,e)=>{let t=GDe.fromExtendedKey(r).derive(e),n="0x"+bee.publicToAddress(t.publicKey,!0).toString("hex");return bee.toChecksumAddress(n)},{cbor:$De}=No.extend;$De.patchTags(Object.values(wP).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(No).forEach(function(r){r!=="default"&&Object.defineProperty(l0,r,{enumerable:!0,get:function(){return No[r]}})}),l0.ETHSignature=yp,l0.EthSignRequest=h0,l0.findHDpatfromAddress=(r,e,t,n)=>{for(let i=0;i<t;i++){let o=See(e,"M/0/"+i);if(r.toLowerCase()==o.toLowerCase())return`${n}/0/${i}`}return null},l0.generateAddressfromXpub=See});var Iee=T((c_t,Eee)=>{h();p();Eee.exports=Cee()});var Tee=T(SP=>{h();p();Object.defineProperty(SP,"__esModule",{value:!0});var ZDe=pn(),oc=Iee();SP.URRegistryDecoder=class extends ZDe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let r=this.resultUR();switch(r.type){case"bytes":return oc.Bytes.fromCBOR(r.cbor);case"crypto-hdkey":return oc.CryptoHDKey.fromCBOR(r.cbor);case"crypto-keypath":return oc.CryptoKeypath.fromCBOR(r.cbor);case"crypto-coin-info":return oc.CryptoCoinInfo.fromCBOR(r.cbor);case"crypto-eckey":return oc.CryptoECKey.fromCBOR(r.cbor);case"crypto-output":return oc.CryptoOutput.fromCBOR(r.cbor);case"crypto-psbt":return oc.CryptoPSBT.fromCBOR(r.cbor);case"crypto-account":return oc.CryptoAccount.fromCBOR(r.cbor);case"eth-signature":return oc.ETHSignature.fromCBOR(r.cbor);case"eth-sign-request":return oc.EthSignRequest.fromCBOR(r.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${r.type} is not supported now`)}}}}});var Oee=T((y_t,Aee)=>{h();p();Aee.exports=Tee()});var Fee=T(Nt=>{h();p();Object.defineProperty(Nt,"__esModule",{value:!0});var Hx,tn=cc(),_p=(Hx=tn)&&typeof Hx=="object"&&"default"in Hx?Hx.default:Hx,Dee=pn(),QDe=hX(),Ree=Pa(),eRe=ZZ(),CP=Oee(),EP=({cbor:r,type:e,capacity:t=400,interval:n=100})=>{let i=tn.useMemo(()=>new Dee.UREncoder(new Dee.UR(m.Buffer.from(r,"hex"),e),t),[r,e]),[o,a]=tn.useState(i.nextPart().toUpperCase());return tn.useEffect(()=>{let s=setInterval(()=>{a(i.nextPart().toUpperCase())},n);return()=>{clearInterval(s)}},[i]),o},tRe=({value:r,size:e=180})=>_p.createElement("div",{style:{width:e,height:e,backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center"}},_p.createElement(QDe.QRCodeCanvas,{value:r,size:e-10})),IP="qr-scanner-video",Bee=({handleScan:r,handleError:e,blur:t=!0,videoLoaded:n,width:i,height:o})=>{let[a,s]=tn.useState(!1),u=tn.useMemo(()=>{let f=new Map;return f.set(Ree.DecodeHintType.POSSIBLE_FORMATS,[Ree.BarcodeFormat.QR_CODE]),new eRe.BrowserQRCodeReader(f,{delayBetweenScanAttempts:50,delayBetweenScanSuccess:100})},[]);return tn.useEffect(()=>{let f=document.getElementById(IP),c=()=>{s(!0),n&&n(!0)};f.addEventListener("canplay",c);let l=(f?.pendingScanRequest??Promise.resolve(void 0)).then(()=>u.decodeFromVideoDevice(void 0,f,(g,y)=>{g&&r(g.getText()),y&&e(y.message)})).catch(g=>{console.error(g)});return f&&(f.pendingScanRequest=l),()=>{f.removeEventListener("canplay",c),l.then(g=>{g&&g.stop()})}},[]),_p.createElement("video",{id:IP,"data-testid":IP,style:{display:a?"block":"none",width:i||"auto",height:o||"auto",objectFit:"cover",transform:"rotateY(180deg)",filter:t?"blur(4px)":"none"}})},Pee,en,El,Il;(Pee=Nt.QRCodeError||(Nt.QRCodeError={})).UNEXPECTED_QRCODE="UNEXPECTED_QRCODE",Pee.INVALID_QR_CODE="INVALID_QR_CODE",function(r){r.ACCESSING_CAMERA="ACCESSING_CAMERA",r.NO_WEBCAM="NO_WEBCAM_FOUND",r.PERMISSION_NEEDED="NO_WEBCAM_ACCESS",r.READY="READY",r.UNKNOWN_ERROR="UNKNOWN_CAMERA_ERROR"}(en||(en={})),(El=Nt.Purpose||(Nt.Purpose={})).SYNC="sync",El.SIGN="sign",El.SOL_SYNC="sol-sync",El.SOL_SIGN="sol-sign",El.NEAR_SYNC="near-sync",El.NEAR_SIGN="near-sign",El.COSMOS_SYNC="cosmos-sync",El.COSMOS_SIGN="cosmos-sign",(Il=Nt.URType||(Nt.URType={})).CRYPTO_HDKEY="crypto-hdkey",Il.CRYPTO_ACCOUNT="crypto-account",Il.CRYPTO_MULTI_ACCOUNTS="crypto-multi-accounts",Il.ETH_SIGNATURE="eth-signature",Il.SOL_SIGNATURE="sol-signature",Il.NEAR_SIGNATURE="near-signature",Il.COSMOS_SIGNATURE="cosmos-signature",Il.EVM_SIGNATURE="evm-signature";var Mee={[Nt.Purpose.SYNC]:[Nt.URType.CRYPTO_HDKEY,Nt.URType.CRYPTO_ACCOUNT],[Nt.Purpose.SIGN]:[Nt.URType.ETH_SIGNATURE],[Nt.Purpose.SOL_SYNC]:[Nt.URType.CRYPTO_MULTI_ACCOUNTS],[Nt.Purpose.SOL_SIGN]:[Nt.URType.SOL_SIGNATURE],[Nt.Purpose.NEAR_SYNC]:[Nt.URType.CRYPTO_MULTI_ACCOUNTS],[Nt.Purpose.NEAR_SIGN]:[Nt.URType.NEAR_SIGNATURE],[Nt.Purpose.COSMOS_SYNC]:[Nt.URType.CRYPTO_MULTI_ACCOUNTS],[Nt.Purpose.COSMOS_SIGN]:[Nt.URType.COSMOS_SIGNATURE]},Nee=({purpose:r,urTypes:e=[],handleScan:t,handleError:n,onProgress:i})=>{let o=new CP.URRegistryDecoder;return{handleScanSuccess:a=>{try{if(o.receivePart(a),!o.isComplete())return void(i&&i(Math.trunc(100*o.estimatedPercentComplete())));if(o.isError()&&n(Nt.QRCodeError.INVALID_QR_CODE),o.isSuccess()){let s=o.resultUR(),u=[];if(r&&Mee[r]&&u.push(...Mee[r]),u.push(...e),u.includes(s.type)){i&&i(100);try{t({type:s.type,cbor:s.cbor.toString("hex")})}catch{n("FAILED_TO_HANDLE_QR_CODE")}}else n(Nt.QRCodeError.UNEXPECTED_QRCODE);o=new CP.URRegistryDecoder}}catch{n(Nt.QRCodeError.INVALID_QR_CODE),o=new CP.URRegistryDecoder}},handleScanFailure:a=>{n&&a&&n(a)}}},kee=async r=>{let e=((a="popup.html")=>new URL(window.location.href).pathname==="/"+a)(r),t=(()=>{let{navigator:a}=window,{userAgent:s}=a;return s.includes("Firefox")||"brave"in a})(),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),i=n.length>0,o=n.some(a=>a.label&&a.label.length>0);if(i){let a=!0;return(t&&e||e&&!o)&&(a=!1),{permissions:o,environmentReady:a}}throw new Error(en.NO_WEBCAM)},qee=r=>{let[e,t]=tn.useState(en.ACCESSING_CAMERA),n=tn.useRef(!1),i=null,o=async()=>{try{let{permissions:s}=await kee(r);if(s){if(await new Promise(u=>setTimeout(u,2e3)),!n.current)return;t(en.READY)}else n.current&&(i=setTimeout(o,1e3),t(en.PERMISSION_NEEDED))}catch{n.current&&t(en.UNKNOWN_ERROR)}},a=()=>{try{o()}catch(s){if(!n.current)return;t(s?.name==="NotAllowedError"?en.PERMISSION_NEEDED:en.UNKNOWN_ERROR)}};return tn.useEffect(()=>(n.current=!0,(async()=>{try{let{environmentReady:s}=await kee(r);t(s?en.READY:en.PERMISSION_NEEDED)}catch{n.current&&t(en.UNKNOWN_ERROR)}a()})(),()=>{n.current=!1,clearTimeout(i)}),[]),tn.useEffect(()=>{e===en.READY?a():e===en.PERMISSION_NEEDED&&o()},[e]),{cameraStatus:e}};Nt.AnimatedQRCode=({cbor:r,type:e,options:t})=>{let n=EP({cbor:r,type:e,capacity:t?.capacity,interval:t?.interval});return _p.createElement(tRe,{value:n,size:t?.size})},Nt.AnimatedQRScanner=({purpose:r,urTypes:e,handleScan:t,handleError:n,options:i,videoLoaded:o,onProgress:a})=>{let s=tn.useRef(en.ACCESSING_CAMERA),{cameraStatus:u}=qee(),{handleScanSuccess:f,handleScanFailure:c}=Nee({purpose:r,urTypes:e,handleScan:t,handleError:n,onProgress:a});return tn.useEffect(()=>{o&&s.current!==u&&(u===en.PERMISSION_NEEDED||u===en.NO_WEBCAM?o(!1,u):u===en.READY&&o(!0))},[u]),_p.createElement(Bee,{handleScan:f,handleError:c,width:i?.width,height:i?.height,blur:i?.blur,videoLoaded:o})},Nt.useAnimatedQRCode=EP,Nt.useAnimatedQRScanner=({Scanner:r=Bee,scannerProps:e={}})=>{let[t,n]=tn.useState(!1),[i,o]=tn.useState(!0),a=tn.useRef(t),{cameraStatus:s}=qee(),u=tn.useMemo(()=>({purpose:f,urTypes:c,handleScan:l,handleError:g,options:y})=>{let b=[],{handleScanSuccess:D,handleScanFailure:M}=Nee({purpose:f,urTypes:c,handleScan:k=>{a.current||(n(!0),l(k))},handleError:k=>{if(a.current)return;if(!/^Dimensions/i.test(k))return n(!0),void g(k);let N=Date.now();b.unshift(N),b[4]&&N-b[4]<500&&(b.length=0,n(!0),g(k))}});return _p.createElement(r,Object.assign({handleScan:D,handleError:M},e,y))},[]);return tn.useEffect(()=>{a.current=t},[t]),tn.useEffect(()=>{s!==en.PERMISSION_NEEDED&&s!==en.NO_WEBCAM||o(!1)},[s]),{isDone:t,hasPermission:i,AnimatedQRScanner:u,setIsDone:n}},Nt.withAnimatedQRCode=({WrappedComponent:r,valueFieldName:e="text",additionalProps:t={}})=>tn.useMemo(()=>({cbor:n,type:i,capacity:o=400,interval:a=100})=>{let s=EP({cbor:n,type:i,capacity:o,interval:a});return _p.createElement(r,Object.assign({},{[e]:s},t))},[])});var G5=T((S_t,Lee)=>{h();p();Lee.exports=Fee()});h();p();var RP=co(cc());v0();h();p();var km=co(cc());v0();h();p();var Nm={root:"_root_1inmb_1",title:"_title_1inmb_5",content:"_content_1inmb_11",updateBtn:"_updateBtn_1inmb_19"};var f3e=({onClose:r,onConfirm:e})=>km.default.createElement(vt.Box,{className:Nm.root},km.default.createElement(vt.Box,{className:Nm.title},Yt("extension_wallet_hardware_wallet_title_hardware_update_keystone")),km.default.createElement(vt.Box,{className:Nm.content},Yt("extension_wallet_hardware_wallet_text_update_keystone")),km.default.createElement(qo,{category:qo.CATEGORY.fill,className:Nm.updateBtn,type:qo.TYPE.highlight,size:qo.SIZE.lg,onClick:e,block:!0},Yt("extension_wallet_hardware_wallet_btn_update_keystone")),km.default.createElement(qo,{category:qo.CATEGORY.outline,className:Nm.updateBtn,type:qo.TYPE.highlight,size:qo.SIZE.lg,onClick:r,block:!0},Yt("extension_wallet_hardware_wallet_btn_update_keystone_continue"))),JW=f3e;h();p();var so=co(cc()),Hee=co(G5()),Py=co(XS()),Kee=co(UP());v0();h();p();h();p();$x();v0();Zx();dte();nte();cte();var rRe=()=>({[sa]:uu.bip44,[_0]:nE.SEGWIT_NESTED_49}),Uee=(r,e)=>Object.values(e[r]).map(({address:t})=>t),nRe=async r=>{r=kP(r);let e=r.map(t=>{let n=Uee(sa,t),i=Uee(_0,t);return{evm:n,bitcoin:i}});try{let{data:t}=await WP(HP.getAssetFromChain,e),n=t.reduce((o,a)=>{let{evm:s,bitcoin:u}=a;return aE(o,s),aE(o,u),o},{});return r.map((o,a)=>{let{mainnet:s,bitcoin:u}=o,f=0,c="",l=[];Object.entries(s).forEach(([y,b])=>{b.balance=n[b.address]||0,l.includes(b.address)||(l.push(b.address),f=Fy.add(f,b.balance)),Fy.gt(b.balance,0)&&(c=y)}),o.addressType[sa]||(c||(a===0?c=uu.bip44:c=r[a-1]?.addressType[sa]),o.addressType[sa]=c);let g=0;return Object.values(u).forEach(({address:y})=>{g=Fy.add(g,n[y]||0)}),o.addressType[_0]??=nE.SEGWIT_NESTED_49,o.balance=Fy.add(f,g),o})}catch{return r.map(n=>(qP(n.addressType)&&(n.addressType=rRe()),n))}};h();p();$x();ute();ate();Zx();h();p();var Y5=r=>`m/44'/60'/${r}'/0/0`,W5=10,F_t=r=>[{pathName:`BIP44 standard | m/44/60'/0'/0/${r}`,recommend:!0,type:uu.bip44},{pathName:`Ledger live | m/44/60'/${r}'/0/0`,recommend:!1,type:uu.ledgerLive},{pathName:`Legacy | m/44/60'/0'/${r}`,recommend:!1,type:uu.legacy}],L_t="Keystone 3 Pro",U_t=(r,e)=>{let{isNaN:t}=Number,n=r.split("."),i=e.split(".");for(let o=0;o<3;o++){let a=Number(n[o]),s=Number(i[o]);if(a>s)return 1;if(s>a)return-1;if(!t(a)&&t(s))return 1;if(t(a)&&!t(s))return-1}return 0};var iRe=async(r,e,t)=>{let n=Y5(r),{publicKey:i}=bp(t,{path:n})||{},{getAddressByPublicKey:o}=await GP(),a=await o(LP.ETH,{publicKey:i});e[sa][uu.ledgerLive]={path:n,address:a}},oRe=sE(uu.legacy,""),aRe=sE(uu.bip44,"0/"),sRe=async(r,e,t)=>{e[sa]={},await oRe(r,e,t),await iRe(r,e,t),await aRe(r,e,t)},uRe=async r=>{let{keys:e,accountsWithBalance:t}=r,n=[];for(let i=0;i<W5;i++){let o=t?.[i],a={index:i,addressType:o?.addressType||{},addressTypeUpdated:o?.addressTypeUpdated||!1};await sRe(i,a,e),await ZP(i,a,e),n.push(a)}return n};h();p();$x();var fRe=r=>{for(let e=0;e<oE.length;e++){let{basePath:t}=oE[e];if(!bp(r,{path:t,chain:"BTC"})?.extendedPublicKey)return!1}return!0},cRe=r=>{for(let e=0;e<W5;e++){let t=Y5(e);if(!bp(r,{path:t,chain:"ETH"})?.publicKey)return!1}return!!bp(r,{path:XP,chain:"ETH"})?.extendedPublicKey},jee=[fRe,cRe],TP=(r={})=>{let{keys:e}=r;for(let t=0;t<jee.length;t++){let n=jee[t];if(!n(e))return!1}return!0};fte();h();p();var OP=co(cc());h();p();var AP={root:"_root_15ftx_1",scanBesomImage:"_scanBesomImage_15ftx_10",scan:"_scan_15ftx_10"};var dRe=({children:r})=>OP.default.createElement(vt.Box,{className:AP.root},OP.default.createElement(jP,{className:AP.scanBesomImage,src:`${JP()}/cdn/assets/imgs/236/3F2C9D51D44B734A.png`}),r),X5=dRe;h();p();v0();var lRe=()=>{let r=Ml.tip({width:320,zIndex:20001,title:Yt("wallet_extension_header_modaltitle_nocamera_recognized"),children:Yt("wallet_extension_mid_modaldesc_check_camera"),confirmText:Yt("wallet_extension_popup_btn_confirm"),onConfirm(){r.destroy()}})},J5=lRe;h();p();var ac={root:"_root_nakxb_1",header:"_header_nakxb_8",backIcon:"_backIcon_nakxb_14",icon:"_icon_nakxb_29",howToLink:"_howToLink_nakxb_32",status:"_status_nakxb_37",progress:"_progress_nakxb_42",intro:"_intro_nakxb_48",qrCodeHelper:"_qrCodeHelper_nakxb_54"};var hRe=({onBack:r,handler:e})=>{let[t,n]=(0,so.useState)(0),i=f=>{YP(f)&&f>0&&f<=100&&n(f)},o=(0,so.useRef)(null),a=({type:f,cbor:c})=>{let l=Py.default.parseMultiAccounts(new Py.UR(m.Buffer.from(c,"hex"),f));if(n(0),TP(l))e.resolve(l);else{if(o.current)return;o.current=Ml.tip({width:320,zIndex:20001,title:Yt("wallet_extension_header_modaltitle_error_qr"),children:Yt("wallet_extension_mid_modaldesc_check_qr"),confirmText:Yt("wallet_extension_popup_btn_confirm"),onConfirm(){o.current.destroy(),o.current=null}})}},s=f=>{console.log("error: ",f)},u=f=>{f||J5()};return so.default.createElement(vt.FlexBox,{align:vt.ALIGN.center,className:ac.root,direction:vt.DIRECTION.vertical},so.default.createElement(vt.FlexBox,{align:vt.ALIGN.center,className:ac.header,justify:"space-between"},so.default.createElement(vt.Box,{className:ac.backIcon,onClick:()=>r(!1)},so.default.createElement(Ly,{className:(0,Kee.default)("okx-wallet-plugin-back",ac.icon)})),so.default.createElement($P,{className:ac.howToLink,href:Yt("wallet_extension_footer_link_link_http")},Yt("wallet_extension_footer_textbtn_how_connect"))),so.default.createElement(X5,null,so.default.createElement(Hee.AnimatedQRScanner,{handleScan:a,handleError:s,onProgress:i,urTypes:[Py.URType.CryptoMultiAccounts],videoLoaded:u,options:{width:264,height:264}})),so.default.createElement(vt.Box,{className:ac.status},t?so.default.createElement(vt.Box,{className:ac.progress},Yt("wallet_extension_footer_text_progress",{value:t})):so.default.createElement(vt.Box,{className:ac.intro},Yt("wallet_extension_footer_text_scan_qr")),so.default.createElement(vt.Box,{className:ac.qrCodeHelper},Yt("wallet_extension_footer_text_clickqr_tryagain"))))},Vee=hRe;h();p();var tf=co(cc()),zee=co(G5()),Tl=co(XS());$x();v0();Zx();h();p();var Kx=co(cc()),$5=co(UP());v0();h();p();var My={"retina-border-basic":"_retina-border-basic_v8fqc_1",retinaBorderBasic:"_retina-border-basic_v8fqc_1",root:"_root_v8fqc_29","step-2":"_step-2_v8fqc_65",step2:"_step-2_v8fqc_65",main:"_main_v8fqc_68",back:"_back_v8fqc_71",close:"_close_v8fqc_72"};var pRe=({step:r,onBack:e,onClose:t})=>Kx.default.createElement(vt.FlexBox,{className:(0,$5.default)(My.root,{[My[`step-${r}`]]:!0}),align:vt.ALIGN.center},Kx.default.createElement(Ly,{className:(0,$5.default)(My.back,"okx-wallet-plugin-back"),onClick:e}),Kx.default.createElement(vt.Box,{className:My.main},Yt("wallet_extension_top_text_step1",{step:r,total:2})),Kx.default.createElement(Ly,{className:(0,$5.default)(My.close,"okx-wallet-plugin-close"),onClick:t})),Z5=pRe;h();p();var Ny={root:"_root_mb94k_1",main:"_main_mb94k_8",title:"_title_mb94k_13",desc:"_desc_mb94k_25",progress:"_progress_mb94k_37"};var gRe=({handler:r,baseChain:e,gotoShowTxParams:t,onClose:n})=>{let i=new Tl.default,o={[sa](){let y=({type:D,cbor:M})=>{let{signature:k}=i.eth.parseSignature(new Tl.UR(m.Buffer.from(M,"hex"),D));r.resolve(k)},b=[Tl.URType.EthSignature];return{onSucceed:y,urTypes:b}},[_0](){let y=({type:D,cbor:M})=>{let k=i.btc.parsePSBT(new Tl.UR(m.Buffer.from(M,"hex"),D));r.resolve(k)},b=[Tl.URType.CryptoPSBT];return{onSucceed:y,urTypes:b}}},{onSucceed:a,urTypes:s}=o[e](),u=y=>{console.log("error: ",y)},f=y=>{y||J5()},[c,l]=(0,tf.useState)(0),g=y=>{FP(y)&&y>0&&y<=100&&l(y)};return tf.default.createElement(vt.FlexBox,{direction:vt.DIRECTION.vertical,align:vt.ALIGN.center,className:Ny.root},tf.default.createElement(Z5,{step:"2",onBack:t,onClose:n}),tf.default.createElement(vt.FlexBox,{direction:vt.DIRECTION.vertical,align:vt.ALIGN.center,className:Ny.main},tf.default.createElement(vt.Box,{className:Ny.title},Yt("wallet_extension_top_title_receive_signature")),tf.default.createElement(vt.Box,{className:Ny.desc},Yt("wallet_extension_top_subtitle_scan_receive")),tf.default.createElement(X5,null,tf.default.createElement(zee.AnimatedQRScanner,{handleScan:a,handleError:u,videoLoaded:f,onProgress:g,urTypes:s,options:{width:264,height:264}})),!!c&&tf.default.createElement(vt.Box,{className:Ny.progress},Yt("wallet_extension_footer_text_progress",{value:c}))))},Gee=gRe;h();p();var sc=co(cc()),Yee=co(G5()),Wee=co(XS());v0();Zx();h();p();var xp={root:"_root_ilr2y_1",main:"_main_ilr2y_5",title:"_title_ilr2y_10",desc:"_desc_ilr2y_21",qrCode:"_qrCode_ilr2y_33",footerWrap:"_footerWrap_ilr2y_37"};var mRe=r=>{let{gotoGetSignature:e,signRequest:t,baseChain:n,onBack:i,onClose:o}=r,a=new Wee.default,u={[sa](){return a.eth.generateSignRequest(t)},[_0](){return a.btc.generatePSBT(m.Buffer.from(t,"hex"))}}[n]();return sc.default.createElement(vt.FlexBox,{direction:vt.DIRECTION.vertical,className:xp.root},sc.default.createElement(Z5,{step:"1",onBack:()=>i(!0),onClose:o}),sc.default.createElement(vt.FlexBox,{direction:vt.DIRECTION.vertical,align:vt.ALIGN.center,className:xp.main},sc.default.createElement(vt.Box,{className:xp.title},Yt("wallet_extension_top_title_signature_requesting")),sc.default.createElement(vt.Box,{className:xp.desc},Yt("wallet_extension_top_subtitle_signature_scanqr")),sc.default.createElement(vt.Box,{className:xp.qrCode},sc.default.createElement(Yee.AnimatedQRCode,{type:u.type,cbor:u.cbor.toString("hex"),options:{size:270}}))),sc.default.createElement(vt.Box,{className:xp.footerWrap},sc.default.createElement(qo,{category:qo.CATEGORY.fill,type:qo.TYPE.highlight,size:qo.SIZE.lg,className:"wallet-management__button",onClick:e},Yt("wallet_extension_footer_btn_signature_next"))))},Xee=mRe;h();p();var DP={dialogWrap:"_dialogWrap_16xm3_1",windowClass:"_windowClass_16xm3_7"};var Vx={getAccounts:"getAccounts",showTxParams:"showTxParams",getSignature:"getSignature"},yRe={[Vx.getAccounts]:Vee,[Vx.showTxParams]:Xee,[Vx.getSignature]:Gee},BP=class{constructor(){y0(this,"renderContent",()=>{let{type:e,props:t,gotoGetSignature:n,gotoShowTxParams:i,handler:o}=this,{onBackBtnClick:a,...s}=t,u=yRe[e];return u?RP.default.createElement(u,{...s,onBack:(l=!1)=>{this.closeModal(),a&&a(),l&&o.reject(new Error(iE))},onClose:()=>{this.closeModal(),o.reject(new Error(iE))},gotoShowTxParams:i,gotoGetSignature:n,handler:o}):null});y0(this,"renderModalDom",()=>{this.modalDom=Ml.show({float:!1,whiteboard:!0,className:DP.dialogWrap,windowClass:DP.windowClass,zIndex:2e4,children:this.renderContent()})});y0(this,"openModal",(e,t={})=>new Promise((n,i)=>{this.handler={resolve:o=>{this.closeModal(),n(o)},reject:o=>{this.closeModal(),i(o)}},this.type=e,this.props=t,this.renderModalDom()}));y0(this,"closeModal",()=>{this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});y0(this,"gotoGetSignature",()=>{this.type=Vx.getSignature,this.modalDom.update({children:this.renderContent()})});y0(this,"gotoShowTxParams",()=>{this.type=Vx.showTxParams,this.modalDom.update({children:this.renderContent()})});y0(this,"showUpdateModal",()=>{let e=Ml.action({alignBottom:!0,noTopRadius:!1,noContentPadding:!0,children:RP.default.createElement(JW,{onClose:()=>{e.destroy()},onConfirm:()=>{globalThis.platform.openTab({url:Yt("extension_wallet_hardware_wallet_url_guiddoc")}),e.destroy()}}),onClose(){e.destroy()}})});this.type="getAccounts",this.modalDom=null}},vRe=new BP,Q3t=vRe;export{XS as a,nRe as b,F_t as c,L_t as d,U_t as e,uRe as f,Vx as g,Q3t as h};
//# sourceMappingURL=chunk-E4OWYVFY.js.map
