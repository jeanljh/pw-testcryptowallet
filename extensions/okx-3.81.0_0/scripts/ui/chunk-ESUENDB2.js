import{d as N}from"./chunk-AQO2BBXJ.js";import{a as F}from"./chunk-XRCQOGA2.js";import{i as P}from"./chunk-U7IWD6UB.js";import{a as M}from"./chunk-FGAB46RQ.js";import{o as j}from"./chunk-Z62JX42S.js";import{H as O,Na as z,aa as x}from"./chunk-2QHGKEME.js";import{r as L}from"./chunk-WU2LB6XB.js";import{b as h,c as q}from"./chunk-GR7YC6C3.js";import{E as A,J as v}from"./chunk-O33H5V3V.js";import{na as I,tb as R}from"./chunk-COF7YKSN.js";import{K as b,o as g}from"./chunk-VZKEX7KP.js";import{b as W}from"./chunk-73B6GL3S.js";import{f as T,o as B,q as k}from"./chunk-Y5OH3DDZ.js";B();k();var c=T(W()),C=T(z()),y=T(j());b();R();q();v();function G(o={},e,a=!1){let r=(0,C.useSelector)(x),s=P(I)[e],i=F(I),u=e?s:i;return async()=>{let n={coinId:o?.coinId,utxoRequests:[{address:u,utxoType:12}]};try{let{data:t=[]}=await A(h.getBTCUTXO,n,{walletSignParams:{needWalletSign:!0,walletId:r}});return a?t?.map(f=>({...f,utxoList:f?.utxoList?.filter(p=>p.utxoStatusType===2)})):t}catch{return[]}}}function st(o={},e,a=!1){let r=G(o,e,a),{coinAmountInt:l=0}=N(o?.coinId,e),[s,{setTrue:i,setFalse:u}]=(0,y.useBoolean)(!1),[n,{setTrue:t}]=(0,y.useBoolean)(!1),[f,p]=(0,c.useState)(""),{coinId:_,decimals:d}=o||{};return(0,c.useEffect)(()=>{O(o)?r().then((w=[])=>{w.some((m={})=>m.utxoList?.length>0)?i():u();let S=w?.reduce((m,D)=>{let E=D?.utxoList?.reduce((U,X)=>X?.utxoStatusType===2?g.add(U,X?.coinAmount):U,0);return g.add(m,E)},0);if(S){let m=M(S,{useContractPrecision:!0,contractPrecision:{decimals:d},precision:d}).value;p(m)}t()}).catch(()=>{t(),u()}):(t(),u())},[_,d,l,t,i]),{showManageUTXO:s,NFTAmountDisplay:f,isCheckFinished:n}}function ut(o,e){let[a,r]=(0,c.useState)(0),[l,s]=(0,c.useState)([]),i=(0,C.useSelector)(x),u=async()=>{let n={coinId:e.coinId,utxoRequests:[{address:o,utxoType:L.Occupy}]};try{let{data:t}=await A(h.getBTCUTXO,n,{walletSignParams:{needWalletSign:!0,walletId:i}});return t[0]||null}catch{return null}};return(0,c.useEffect)(()=>{O(e)?u().then(n=>{r(n?.lockAmount||0),s(n?.utxoList||[])}).catch(()=>{r(0),s([])}):(r(0),s([]))},[o,e]),{lockedAmount:a,UTXOList:l}}export{st as a,ut as b};
//# sourceMappingURL=chunk-ESUENDB2.js.map
