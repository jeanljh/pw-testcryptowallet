import{B as pe,K as ge,R as j,V as Re,c as Ve,l as ne,n as se}from"./chunk-LBWWOQL4.js";import{a as qe}from"./chunk-4QGZDIBD.js";import{b as F}from"./chunk-73B6GL3S.js";import{f as D,o as i,q as a}from"./chunk-Y5OH3DDZ.js";i();a();var X=D(F()),Ee=D(qe()),c=D(Ve());i();a();var G=D(F());function Ye({alt:e,store:t,...r},u){let{onLoad:l,onError:m,needSource:d,sourceSrcset:p,requestSrc:s,imgSrcSet:S,imgSrc:f}=t;return f?G.default.createElement(G.default.Fragment,null,d&&G.default.createElement("source",{"data-testid":"okd-image-source-webp-default",srcSet:p}),G.default.createElement("img",{...r,src:f,ref:u,srcSet:S,alt:e,onLoad:n=>{l(n,f,s)},onError:n=>{m(n,f,s)}})):null}var Le=(0,G.forwardRef)(Ye);i();a();var Y=D(F());i();a();var He="x-oss-process=image/",nr=new RegExp(`(${He}[^&]+&??)`);var B={cover:"cover",contain:"contain"};B.allAsArray=Object.values(B);var K={resize:"resize",crop:"crop"},q={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"};i();a();i();a();var ae="x-oss-process=image/",Xe=new RegExp(`(${ae}[^&]+&??)`),$e="format,webp",ie="/ignore-error,1",ce={resize:"resize",crop:"crop"},Qe=e=>e.replace(/\s/g,"%20");function Se(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function ue(e){return e&&e.startsWith("blob:")}function Z(e){return e.includes($e)}function we(e){let{cdnDomainMap:t={}}=se,r="";return!e.includes(se.cdnBaseUrl)&&Object.values(t).some(u=>e.includes(u)?(r=u,!0):!1)?e.replace(r,se.cdnBaseUrl):e}function Pe(e){return e.includes(ie)?`${e.replace(ie,"")}${ie}`:`${e}${ie}`}function De(e="",t){let r=e;return e.includes(t)?e:(r.indexOf(ae)>-1?r=r.replace(Xe,`$1/${t}`):r.indexOf("?")!==-1?r+=`&${ae}${t}`:r+=`?${ae}${t}`,Pe(r))}function M(e,t=!0){let r=e;return r?ue(e)?e:(r=we(Qe(e)),t?De(r,$e):r):""}var Je=e=>e[0],V=(e={},t,r)=>{if(!t)return"";let u=Object.entries(e).map(([l,m])=>m?`${Je(l)}_${m}`:"").filter(Boolean).join(",");return u?De(t,`${r},${u},type_6`):t},he=(e,t)=>e.map(r=>{let{media:u,type:l=ce.resize,src:m,resize:d,crop:p,w:s,h:S,...f}=r,n=l;p&&(n=ce.crop),d&&(n=ce.resize);let x=V(d||p||{width:s,height:S},m||t,n);return{media:u,src:x,...f}}),de=({srcSetData:e,resize:t,useWebp:r})=>e.map(u=>`${V(t,M(u.src,r),ce.resize)} ${u.size}`).join(",");function xe({mediaSource:e,isErrorState:t,useWebp:r}){return e.map((u,l)=>{let{media:m,src:d,...p}=u,s=q[m]||m,S=d;return S&&!t?Y.default.createElement(Y.Fragment,{key:s||l},r&&!Z(S)&&Y.default.createElement("source",{"data-testid":"okd-image-source-webp-media",media:s,srcSet:M(S),...p}),Y.default.createElement("source",{"data-testid":"okd-image-source-media",media:s,srcSet:S})):null})}i();a();i();a();var H=D(F());function be(e){let t=(0,H.useRef)(null),[r,u]=(0,H.useState)(!e);return(0,H.useEffect)(()=>{if(!e)return;let{top:l=0,bottom:m=0,right:d=0,left:p=0,...s}=typeof e=="object"?e:{},S=`${l}px ${d}px ${m}px ${p}px`,f,n=!1;t.current&&!r&&(pe.IntersectionObserver?(f=new pe.IntersectionObserver(L=>{L.forEach(R=>{!n&&(R.intersectionRatio>0||R.isIntersecting)&&u(!0)})},{threshold:.01,rootMargin:S,...s}),f.observe(t.current)):u(!0));let x=t.current;return()=>{n=!0,f&&f.unobserve&&x&&(f.unobserve(x),f=null)}},[e]),{imageRef:t,visible:r,lazyload:e}}i();a();var me=D(F());function _e({store:e,ssrRendered:t}){let{onError:r,onLoad:u,mediaSource:l,loadedImages:m,requestSrc:d}=e,{media:p}=Re(),s=(0,me.useRef)(null);return(0,me.useEffect)(()=>{if(t&&s.current){let{complete:S,naturalHeight:f}=s.current,n=l&&l.find(x=>x.media===q[p])?.src||d;S&&!m.current.has(n)&&(f>0?u(s.current,d,n):r(s.current,d,n))}},[]),{imgRef:s}}i();a();var w=D(F());function ye(e){let{errorImg:t,src:r,onError:u,onLoad:l,mediaData:m,resize:d,useWebp:p,srcSetData:s,lazyload:S}=e,f=he(m,r),n=(0,w.useRef)(new Map),[x,L]=(0,w.useState)(!r),[R,v]=(0,w.useState)(x&&!t),[T,O]=(0,w.useState)(!1),N=(0,w.useMemo)(()=>{let b,h;return s.length>0&&(b=de({srcSetData:s,resize:d,useWebp:!1}),h=de({srcSetData:s,resize:d,useWebp:p})),{imgSrcSet:b,sourceSrcSet:h}},[s,d,p]),$=x&&t,A=(0,w.useMemo)(()=>{let b=$?t:r,h=$?M(b,!1):V(d,M(b,!1),K.resize),C=V(d,M(b,p),K.resize),k=p&&!Z(h),z=N.sourceSrcSet||C;return{imgSrc:h,sourceSrc:C,requestSrc:k?z:h,needSource:k,sourceSrcset:z}},[N,$,r,d,p,t]);return(0,w.useEffect)(()=>{x&&r&&L(!1),R&&r&&v(!1)},[r]),{onError:(b,h,C)=>{n.current.set(C,{onerror:!0}),L(!0),u(b,h),t?h==t&&v(!0):v(!0)},onLoad:(b,h,C)=>{n.current.set(C,{onload:!0}),S&&O(!0),l(b)},isLoaded:T,isFallbackError:R,isErrorState:$,mediaSource:f,loadedImages:n,...N,...A}}var Ce=`${j}-picture`;function U(e){let t=ge.useMergeProps(U.defaultPropsValue,e),{src:r,alt:u,layout:l,lazyload:m,className:d,useWebp:p,placeholder:s,errorImg:S,width:f,height:n,style:x,pictureClassName:L,pictureStyle:R,resize:v,originWidth:T,originHeight:O,mediaData:N,ssrRendered:$,srcSetData:A,getImgRef:W,...J}=t,b=Se(r)||ue(r)?!1:p,h=ye({...t,useWebp:b}),{isLoaded:C,isFallbackError:k,isErrorState:z,mediaSource:ee}=h,{imgRef:re}=_e({store:h,ssrRendered:$}),{imageRef:le,visible:o}=be(m),P=k||m&&!C&&!o,fe={width:f,height:n,...x};return X.default.createElement("picture",{className:(0,Ee.default)(ge.data.okdNamespace,Ce,L,{[`${Ce}-font`]:!P}),ref:le,style:R},o&&!k&&X.default.createElement(X.default.Fragment,null,X.default.createElement(xe,{mediaSource:ee,isErrorState:z,useWebp:b}),X.default.createElement(Le,{"data-testid":`okd-picture-img-${l||"default"}`,...J,store:h,ref:te=>{re.current=te,W?.(te)},width:T||f,height:O||n,style:fe,className:(0,Ee.default)(l&&`${Ce}-${l}`,d),alt:u})),P&&s)}U.propTypes={className:c.default.string,pictureClassName:c.default.string,style:c.default.object,pictureStyle:c.default.object,width:c.default.oneOfType([c.default.number,c.default.string]),height:c.default.oneOfType([c.default.number,c.default.string]),src:c.default.string.isRequired,useWebp:c.default.bool,alt:c.default.string.isRequired,layout:c.default.oneOf([B.contain,B.cover]),lazyload:c.default.oneOfType([c.default.bool,c.default.object]),mediaData:c.default.array,srcSetData:c.default.array,resize:c.default.object,errorImg:c.default.string,onError:c.default.func,onLoad:c.default.func,placeholder:c.default.node,originWidth:c.default.number,originHeight:c.default.number,ssrRendered:c.default.bool};U.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1};U.MEDIA=q;U.LAYOUT=B;U.ACTION=K;var ve=U;i();a();var Q=D(F());i();a();var y=D(F());var Ke=({lottie:e,lottieProps:t={},className:r="",style:u,animationPrefix:l,a11yText:m,a11yDescription:d})=>{let{animationData:p,path:s,loop:S,autoplay:f=!0,initialSegment:n,onComplete:x,onLoopComplete:L,onEnterFrame:R,onSegmentStart:v,onConfigReady:T,onDataReady:O,onDataFailed:N,onLoadedImages:$,onDOMLoaded:A,onDestroy:W,animationRef:J,lottieRef:b,renderer:h,name:C,assetsPath:k,rendererSettings:z,...ee}=t,[re,le]=(0,y.useState)(!1),o=(0,y.useRef)(),P=(0,y.useRef)(null),fe=()=>{o.current?.play()},te=()=>{o.current?.stop()},Oe=()=>{o.current?.pause()},Ae=g=>{o.current?.setSpeed(g)},ke=(g,E)=>{o.current?.goToAndPlay(g,E)},Fe=(g,E)=>{o.current?.goToAndStop(g,E)},Me=g=>{o.current?.setDirection(g)},We=(g,E)=>{o.current?.playSegments(g,E)},ze=g=>{o.current?.setSubframe(g)},je=g=>o.current?.getDuration(g),Ge=()=>{o.current?.destroy(),o.current=void 0},Ue=(g={})=>{if(!P.current)return()=>{};o.current?.destroy();let E={...t,...g,container:P.current,loop:S,rendererSettings:{role:"img",expression:!1,...t.rendererSettings}};return o.current=e.loadAnimation(E),()=>{o.current?.destroy(),o.current=void 0}};(0,y.useEffect)(()=>{let g=Ue();return()=>g?.()},[p,s,S]),(0,y.useEffect)(()=>{!o.current||(o.current.autoplay=!!f)},[f]),(0,y.useEffect)(()=>{if(!o.current)return;if(!n){o.current.resetSegments(!0);return}if(!Array.isArray(n)||!n.length)return;let[g,E]=n;(o.current.currentRawFrame<g||o.current.currentRawFrame>E)&&(o.current.currentRawFrame=g),o.current.setSegment(g,E)},[n]);let Ie=(0,y.useId)();return(0,y.useEffect)(()=>{let E=[{name:"complete",handler:x},{name:"loopComplete",handler:L},{name:"enterFrame",handler:R},{name:"segmentStart",handler:v},{name:"config_ready",handler:T},{name:"data_ready",handler:O},{name:"data_failed",handler:N},{name:"loaded_images",handler:$},{name:"DOMLoaded",handler:()=>{le(!0),A&&A();let _;if(h==="svg"?_=P.current.querySelector(`.${l}-view svg`):_=P.current.querySelector(`.${l}-view canvas`),m&&_.setAttribute("aria-label",ne(m)),_.setAttribute("role","img"),d){let oe=document.createElement("span");oe.id=Ie,oe.classList.add(`${j}-a11y-text`),oe.innerText=ne(d),P.current.appendChild(oe),_.setAttribute("aria-describedby",ne(Ie))}}},{name:"destroy",handler:W}].filter(_=>_.handler!=null);if(!E.length)return()=>{};let Be=E.map(_=>(o.current?.addEventListener(_.name,_.handler),()=>{o.current?.removeEventListener(_.name,_.handler)}));return()=>{Be.forEach(_=>_())}},[x,L,R,v,T,O,N,$,A,W,s]),{View:y.default.createElement("div",{className:`${l}-view ${r||""}`,style:{visibility:re?"visible":"hidden",...u},ref:P,...ee}),play:fe,stop:te,pause:Oe,setSpeed:Ae,goToAndStop:Fe,goToAndPlay:ke,setDirection:Me,playSegments:We,setSubframe:ze,getDuration:je,destroy:Ge,animationContainerRef:P,animationLoaded:re,lottieItem:o.current}},Ne=Ke;i();a();var Te=`${j}-animation`,Ze=e=>{let{containerClassName:t="",containerStyle:r={},style:u,className:l,poster:m,posterProps:d={},a11yDescription:p,a11yText:s,lottie:S,...f}=e,{View:n,play:x,stop:L,pause:R,setSpeed:v,goToAndStop:T,goToAndPlay:O,setDirection:N,playSegments:$,setSubframe:A,getDuration:W,destroy:J,animationContainerRef:b,animationLoaded:h,lottieItem:C}=Ne({lottie:S,lottieProps:f,className:l,style:u,animationPrefix:Te,a11yText:s,a11yDescription:p});(0,Q.useEffect)(()=>{e.animationRef&&Object.assign(e.animationRef,{current:{play:x,stop:L,pause:R,setSpeed:v,goToAndPlay:O,goToAndStop:T,setDirection:N,playSegments:$,setSubframe:A,getDuration:W,destroy:J,animationContainerRef:b,animationLoaded:h,lottieItem:C}})},[e.animationRef]),(0,Q.useEffect)(()=>{e.lottieRef&&Object.assign(e.lottieRef,{current:{...C}})},[e.lottieRef]);let{pictureClassName:k=""}=d,z=()=>!m||h?null:typeof m=="function"?m():Q.default.createElement(ve,{pictureClassName:`${j}-animation-poster ${k}`,src:m,...d});return Q.default.createElement("div",{className:`${Te} ${t}`,style:r},n,z())},xt=Ze;i();a();var Ct={SVG:"svg",CANVAS:"canvas"},Et={postive:1,reverse:-1};export{ve as a,xt as b,Ct as c,Et as d};
//# sourceMappingURL=chunk-GVV6OTQP.js.map
