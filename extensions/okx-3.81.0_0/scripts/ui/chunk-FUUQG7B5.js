import{y as P}from"./chunk-Q7DF5H6O.js";import{o as b}from"./chunk-Z62JX42S.js";import{la as T}from"./chunk-WU2LB6XB.js";import{c as i,e as W}from"./chunk-EN2WHAVL.js";import{b as l,c as f,j as d,v as p}from"./chunk-EFOY37CC.js";import{g as _,n as N}from"./chunk-35ANKHOJ.js";import{Ja as m,gb as y,tb as C}from"./chunk-COF7YKSN.js";import{I as s,va as F}from"./chunk-XFTQD4B2.js";import{f as S,o as e,q as a}from"./chunk-Y5OH3DDZ.js";e();a();W();N();C();function G(o){return f(p(l(+new Date,1e3),0),o)}async function K({fromAddress:o,body:t,walletId:r}){r??=await i().getWalletIdByAddress(o,m);let{TonWallet:n}=await _(),R=new n,E=await i().getTransactionBodyForSimulate(t,o,r),{seqno:g,walletVersion:h}=t,c={address:o,body:E,ignore_chksig:!0};if(d(g,"0")){let k=await i().getPublicKey(o,m,r),I={workChain:T,publicKey:k,walletVersion:h},u=await R.getWalletInformation(I);c={...c,init_code:u.initCode,init_data:u.initData}}return c}e();a();var A={TRANSFER:"transfer",JETTON_TRANSFER:"jettonTransfer"};e();a();var x=S(b());F();C();function B(){let o=P();return(0,x.useMemoizedFn)(async(t,r)=>{if(t.status===1&&!t.customPayload&&t.claimInfoUrl&&r===y){let n=await o(t.claimInfoUrl);return s(n)?{...t,getCustomPayloadInfoRpcError:!0}:{...t,...n,getCustomPayloadInfoRpcError:!1}}return{...t,getCustomPayloadInfoRpcError:!1}},[])}var Q=B;export{G as a,K as b,A as c,Q as d};
//# sourceMappingURL=chunk-FUUQG7B5.js.map
