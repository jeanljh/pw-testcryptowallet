import{a as m}from"./chunk-6Z5HVUBK.js";import{o as s,p as T,q as i}from"./chunk-Y5OH3DDZ.js";s();i();s();i();s();i();var x=async()=>await import("./index.browser.esm-KYD3SWTZ.js"),u=async()=>{let{default:t}=await import("./bs58-E22CYXYU.js");return t};var z=t=>{if(!t)return"0";let{BigNumber:n}=m,e=new n("365.25").div(2).multipliedBy(2);return new n("19.055441478439427").multipliedBy(t).multipliedBy(e).div(10**9).toFixed(9)},f=async(t,n={})=>{let{data:e,accountLength:a,bizType:o,bizId:c,from:l,to:p}=t,d=z(a);if(n.encoding==="base64")return{payload:{bizType:o,bizId:c,transaction:{transaction:e,encoding:"base64"}},inputData:e,from:l,to:p,rent:d};let{transaction:y,version:g}=await b(e);return{payload:{bizType:o,bizId:c,transaction:y,version:g},inputData:e,from:l,to:p,rent:d}},O=async(t,n={})=>{try{let e=JSON.parse(t);return e.array?await Promise.all(e.array.map(a=>f(a,n))):await Promise.all([e].map(a=>f(a,n)))}catch(e){return Promise.reject(e)}},B=t=>t.map(n=>n.payload.transaction),R=async(t,n)=>{let{isMemeMode:e=!1,isWidgetEnv:a=!1,isWallet:o=!1,isWalletInstantTrade:c=!1}=n||{},l=await u(),p=[],d=[];t.map(r=>{if(r.txHash&&r.signedTx)return r;if(e&&o||a||c){let{serializedTransaction:h,signature:I}=r;return{txHash:I,signedTx:h}}let S=r?.signature||r?.signatures[0],w=l.encode(S),W=l.encode(r.serialize());return{txHash:w,signedTx:W}}).forEach(r=>{p.push(r.signedTx),d.push(r.txHash)});let g=t[0]?.encoding??"base58";return{signedTx:p,transactionHash:d,encoding:g}},k=t=>{let n="0";return t.forEach(e=>{n=m.add(n,e.rent,{returnString:!0})}),n};var b=async t=>{let n=await x(),e=await u(),a,o;try{a=n.Transaction.from(e.decode(t)),o="transaction"}catch{a=n.VersionedTransaction.deserialize(e.decode(t)),o="versionedTransaction"}return{transaction:a,version:o}},L=async t=>{let n=await x(),e=T.Buffer.from(t,"base64");return n.VersionedTransaction.deserialize(e)},P=async t=>{let n=t.serialize();return T.Buffer.from(n).toString("base64")};export{u as a,L as b,P as c,f as d,O as e,B as f,R as g,k as h};
//# sourceMappingURL=chunk-2P6PTKAN.js.map
