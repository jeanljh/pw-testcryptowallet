import{A as y,qb as p}from"./chunk-GCS2RK7E.js";import{a as M}from"./chunk-6PA65BO3.js";import{A as t,K as L}from"./chunk-VZKEX7KP.js";import{I as l,o as C}from"./chunk-BJKBO23H.js";import{f as x,o as e,q as o}from"./chunk-Y5OH3DDZ.js";e();o();e();o();var k=()=>({cloudResetTip:()=>{},handleCloudResetError:a=>!1}),O=k;var T=O;e();o();var I=x(M());L();e();o();var c={OVER_LIMIT_ACCOUNT_NUMBER:"OVER_LIMIT_ACCOUNT_NUMBER",SERVER_ERROR:"SERVER_ERROR",NOT_SUPPORT_SYNC:"NOT_SUPPORT_SYNC",UNKNOWN_ERROR:"UNKNOWN_ERROR",PASSWORD_ERROR:"PASSWORD_ERROR",DOWNLOAD_ERROR:"DOWNLOAD_ERROR",UPLOAD_ERROR:"UPLOAD_ERROR",DATA_ERROR:"DATA_ERROR",HAS_CLOUD_UPDATE:"HAS_CLOUD_UPDATE",CLOUD_DATA_RESET:"CLOUD_DATA_RESET",EXCEED_MAXIMUM_ITEMS_LIMIt:"EXCEED_MAXIMUM_ITEMS_LIMIt",DATA_INVALID:"DATA_INVALID",NO_META_DATA:"NO_META_DATA"};e();o();e();o();e();o();var A={idle:"idle",syncing:"syncing",completed:"completed",failed:"failed"};var w=()=>{let a=async()=>{},u=async()=>{},d=async()=>{};return{isSyncSupported:!1,hasSyncEnabled:!1,hasUpdateOnCloud:!1,hasWalletDataOnCloud:!1,syncStatus:A.idle,syncError:null,manualSync:a,closeSync:u,hasCheckedCloudSyncInfo:!0,checkedCloudSyncInfoError:null,startSync:d}},h=w;var D=h;var W=()=>{let{isSyncSupported:a,hasSyncEnabled:u,hasUpdateOnCloud:d,hasWalletDataOnCloud:U,manualSync:S,closeSync:i,hasCheckedCloudSyncInfo:R,checkedCloudSyncInfoError:f}=D(),{cloudResetTip:N}=T(),m=(0,I.useHistory)();return{isSyncSupported:a,hasSyncEnabled:u,hasUpdateOnCloud:d,hasWalletDataOnCloud:U,manualSync:S,manualSyncWithCatch:async s=>{let r={success:!0,error:void 0};try{await S(s),l.success(t("wallet_extension_home_notification_backed_up"))}catch(E){r.success=!1,r.error=E;let _=E?.message;if(_===c.OVER_LIMIT_ACCOUNT_NUMBER){let g=C.tip({infoType:C.Tip.INFO_TYPE.default,title:t("wallet_extension_tgsync_dialog_title_reach_limit"),children:t("wallet_extension_tgsync_notification_failed"),confirmText:t("commonall_text_btn_ok_passive"),btnFull:!1,onConfirm:()=>{i(),g.destroy(),m.replace(y)}})}else _===c.HAS_CLOUD_UPDATE?m.replace(p):_===c.CLOUD_DATA_RESET?N():l.warn({title:_===c.PASSWORD_ERROR?t("wallet_tgsync_error_wrong_password"):t("wallet_extension_tgsync_notification_failed")})}return r},closeSync:i,closeSyncWithCatch:async()=>{let s={success:!0,error:void 0};try{await i()}catch(r){s.success=!1,s.error=r,l.warn({title:t("wallet_home_toast_network_error")})}return s},hasCheckedCloudSyncInfo:R,checkedCloudSyncInfoError:f,isDataValidated:R&&!f}},de=W;export{T as a,de as b};
//# sourceMappingURL=chunk-XIS6W7VE.js.map
