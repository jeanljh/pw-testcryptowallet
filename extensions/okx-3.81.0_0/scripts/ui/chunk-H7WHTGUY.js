import{B as u}from"./chunk-EFOY37CC.js";import{f as c,h as y}from"./chunk-BI4OEIFC.js";import{J as p,va as E}from"./chunk-XFTQD4B2.js";import{b as k}from"./chunk-73B6GL3S.js";import{f as b,n as process,o as d,q as g}from"./chunk-Y5OH3DDZ.js";d();g();var e=b(k());E();y();var o,t,S=(a,s={})=>{let[r,w]=(0,e.useState)(null),[i,f]=(0,e.useState)(s),l=(0,e.useCallback)(n=>{n.data.chanel===a&&(w(n.data),window.removeEventListener("message",l))},[a]);return(0,e.useEffect)(()=>{p(s,i)||f(s)},[s]),(0,e.useEffect)(()=>{if(r||t)return()=>{};let n=document.getElementById("sandbox"),m=v=>{v.data.status===201&&(window.removeEventListener("message",m),o&&clearInterval(o),t=n)},T=u();return!o&&!t&&(o=setInterval(()=>{n.contentWindow?.postMessage({status:200,buildType:process.env.ASSETS_BUILD_TYPE,cdn:c(),browser:T},"*")},1e3)),window.addEventListener("message",m),()=>{window.removeEventListener("message",m)}},[r]),(0,e.useEffect)(()=>(a&&t&&(window.addEventListener("message",l),t.contentWindow?.postMessage({chanel:a,data:i},"*")),()=>{window.removeEventListener("message",l)}),[a,t,i]),r};export{S as a};
//# sourceMappingURL=chunk-H7WHTGUY.js.map
