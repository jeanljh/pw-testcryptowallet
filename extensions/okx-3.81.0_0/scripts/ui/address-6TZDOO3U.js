import{b as po}from"./chunk-QLQZFQIM.js";import{a as uo}from"./chunk-JPDLWYEN.js";import"./chunk-FBYUYQL4.js";import{a as S}from"./chunk-OB3M5GPB.js";import{a as Eo}from"./chunk-JUPTKFJB.js";import{a as lo}from"./chunk-I4EML244.js";import"./chunk-TJIPZMF7.js";import"./chunk-57D6LCV2.js";import{c as mo}from"./chunk-AQ4KTATJ.js";import{d as ao}from"./chunk-ZDHJHPQ5.js";import{b as _o,f as co}from"./chunk-ROS2ENQV.js";import"./chunk-DFPRATON.js";import{a as E,b as T,c as eo,d as to,e as z,f as q,g as H,h as N,i as so}from"./chunk-IAN2CB2T.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import"./chunk-SYOIP55B.js";import"./chunk-EBRJSEEJ.js";import{c as V}from"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import"./chunk-CIVR4FUI.js";import"./chunk-44SDMU5C.js";import"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import{b as io}from"./chunk-7MCLPJAH.js";import"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{a as ro,ya as J}from"./chunk-GCS2RK7E.js";import"./chunk-5PRURJ2O.js";import"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import"./chunk-Z62JX42S.js";import{Na as I}from"./chunk-2QHGKEME.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as no}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import{c as _}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import"./chunk-COF7YKSN.js";import{A as a,K as y}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{H as v,o as R,q as Y,x as L,y as oo}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{z as A}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as X}from"./chunk-4QGZDIBD.js";import{b as k}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as i,o as t,q as s}from"./chunk-Y5OH3DDZ.js";t();s();var M=i(k()),B=i(no());t();s();var d=i(k()),D=i(I());t();s();var fo=i(k());y();function K({onAdd:r}){return fo.default.createElement(A,{className:"address-list__add-button",category:A.CATEGORY.fill,type:A.TYPE.highlight,size:A.SIZE.lg,onClick:r},a("wallet_extension_addressbook_btn_add_address"))}t();s();var xo=i(k()),ho=i(I()),go=i(no());y();var To=()=>{let r=(0,go.useHistory)(),o=(0,ho.useDispatch)(),e=()=>{o(so())};return xo.default.createElement(ao,{className:"address-list__header",title:a("wallet_extension_addressbook_title_address_book"),onBack:()=>{e(),r.goBack()},onClose:()=>{e(),r.push(ro)}})},ko=To;t();s();var n=i(k()),b=i(I()),Bo=i(X());y();t();s();var C=i(k()),wo=i(X());y();function Z({address:r,onEdit:o,onDelete:e}){let[p,l]=uo(),u=()=>{p||(l(r),v.success({title:a("wallet_extension_popup_title_receiving_address_copied"),desc:C.default.createElement("div",{className:"tx-clipboard__message"},r)}))},c=[{image:"okx-wallet-plugin-copy",label:a("wallet_extension_addressbook_dropdown_copy_address"),action:u},{image:"okx-wallet-plugin-edit-wallet",label:a("wallet_extension_addressbook_dropdown_edit_address"),action:o},{localItemClass:"address-list__list-item__menu--delete",image:"okx-wallet-plugin-trash",label:a("wallet_extension_addressbook_dropdown_detele_address"),action:()=>{e(r)}}],m=()=>C.default.createElement(V.IconButton,{icon:"okx-wallet-plugin-more",className:"address-list__list-item__menu-icon-button"}),g=({option:w})=>C.default.createElement("div",{className:(0,wo.default)("address-list__list-item__menu-option",w.localItemClass),onClick:w.action},C.default.createElement(V,{className:`address-list__list-item__menu-option-icon ${w.image}`}),C.default.createElement("span",{className:"address-list__list-item__menu-option-text"},w.label));return C.default.createElement(L,{options:c,align:L.DIRECTION.right,optionAlign:L.DIRECTION.right,displayArea:m,renderOption:g,optionItemClassName:"address-list__list-item__menu-option__wrapper"})}t();s();var h=i(k()),Co=i(Eo());t();s();var G={root:"_root_1kl5b_1",main:"_main_1kl5b_4"};var zo=h.default.memo(({seed:r})=>{let o=(0,h.useRef)(null),[e,p]=(0,h.useState)(null);return(0,h.useEffect)(()=>{let l=new IntersectionObserver(c=>{c.forEach(m=>{if(m.isIntersecting){let g=(0,Co.default)(r.toLowerCase());g&&p(g)}})},{root:null,rootMargin:"0px",threshold:0}),u=o?.current;return u&&l.observe(u),()=>{u&&l.unobserve(u)}},[e,r]),h.default.createElement(_.Box,{ref:o,className:G.root},h.default.createElement("img",{src:e,className:G.main,alt:""}))}),bo=zo;t();s();var f={"retina-border-basic":"_retina-border-basic_1oczq_1",retinaBorderBasic:"_retina-border-basic_1oczq_1",root:"_root_1oczq_29",item:"_item_1oczq_32",content:"_content_1oczq_40",background:"_background_1oczq_73",show:"_show_1oczq_84",hoverBox:"_hoverBox_1oczq_100",main:"_main_1oczq_106",name:"_name_1oczq_114",address:"_address_1oczq_121",menu:"_menu_1oczq_128",empty:"_empty_1oczq_132"};function qo({list:r,item:o,onEditAddress:e,onRemoveAddress:p}){let l=(0,b.useDispatch)(),[u,c]=(0,n.useState)(!1),m=(0,n.useMemo)(()=>({onMouseEnter(){c(!0)},onMouseLeave(){c(!1)},onClick(){e(o)}}),[o,e]);return n.default.createElement(_.Box,{className:f.item},n.default.createElement(_.Box,{className:(0,Bo.default)(f.background,{[f.show]:u}),onClick:()=>{e(o)}}),n.default.createElement(_.Box,{className:f.content},n.default.createElement(_.Box,{className:f.hoverBox,...m},n.default.createElement(bo,{seed:o.address}),n.default.createElement(_.Box,{className:f.main},n.default.createElement(lo,{text:o.name,tooltipProps:{className:f.name}}),n.default.createElement(_.Box,{className:f.address},o.address))),n.default.createElement(_.Box,{className:f.menu},n.default.createElement(Z,{address:o.address,onEdit:()=>{e(o)},onDelete:()=>{l(H(r.length===1)),p(o)}}))))}function $({onEdit:r,list:o}){let e=(0,b.useDispatch)(),p=(0,b.useSelector)(eo),l=(0,b.useSelector)(to),u=m=>{e(H(o.length===1)),r(m)};(0,n.useEffect)(()=>{p&&l&&(e(z("")),e(q(""))),e(N(!1))},[p,l]);let c=({id:m})=>{let g=R.warn({alignBottom:!1,title:a("wallet_extension_editaddress_modal_detele_address"),cancelText:a("wallet_extension_editaddress_btn_cancel"),confirmText:a("wallet_extension_editaddress_btn_confirm"),onCancel:()=>{g.destroy()},onConfirm:async()=>{await mo(m),v.success({title:a("wallet_extension_addressbook_toast_address_deleted")}),e(N(!0))}})};return n.default.createElement(_.Box,{className:f.root},o&&o.length>0?o.map(m=>n.default.createElement(qo,{list:o,item:m,onEditAddress:u,onRemoveAddress:c,key:m.address})):n.default.createElement(oo.State,{className:f.empty,title:a("wallet_extension_addressbook_text_no_address")}))}t();s();var j=i(k()),O=i(I());function Q(){let r=(0,O.useDispatch)(),o=(0,O.useSelector)(T);return j.default.createElement("div",{className:"address-network-selection"},j.default.createElement(po,{className:"address-network-selection__selection",valueKey:"localType",value:o,onChange:e=>{r(q(e))},searchable:!0}))}t();s();var yo=i(k()),F=i(I());y();function W(){let r=(0,F.useDispatch)(),o=(0,F.useSelector)(E),e=l=>{r(z(l.target.value))},p=a("wallet_extension_addressbook_input_search_address");return yo.default.createElement(Y.Search,{className:"address-list__search",placeholder:p,value:o,size:Y.SIZE.md,onChange:e})}t();s();var Oo=()=>{let r=(0,D.useDispatch)(),[o,e]=(0,d.useState)(!1),[p,l]=(0,d.useState)({}),[u,c]=(0,d.useState)(""),m=(0,D.useSelector)(E),g=(0,D.useSelector)(T),w=_o({name:m,network:g}),No=!m&&!g&&w.length===0,Io=co(()=>{c(S.TYPE.ADD),e(!0)}),So=({id:P,address:U})=>{c(S.TYPE.EDIT),l({id:P,address:U}),e(!0)},Do=({id:P,address:U})=>{e(!1),setTimeout(()=>{c(S.TYPE.EDIT),l({id:P,address:U}),e(!0)})},Lo=()=>{e(!1),l({}),c("")},vo=()=>{r(N(!0))};return d.default.createElement(_.Container,null,d.default.createElement(_.Box,null,d.default.createElement(ko,null),!No&&d.default.createElement(d.default.Fragment,null,d.default.createElement(W,null),d.default.createElement(Q,null))),d.default.createElement($,{onEdit:So,list:w}),!o&&d.default.createElement(io.FooterActions,{zIndex:"100"},d.default.createElement(K,{onAdd:Io})),d.default.createElement(S,{visible:o,type:u,data:p,onClose:Lo,onDelete:vo,onChangeToEdit:Do}))},Ao=Oo;function Fo(){return M.default.createElement(B.Switch,null,M.default.createElement(B.Route,{exact:!0,path:J,component:Ao}),M.default.createElement(B.Redirect,{to:J}))}export{Fo as default};
//# sourceMappingURL=address-6TZDOO3U.js.map
