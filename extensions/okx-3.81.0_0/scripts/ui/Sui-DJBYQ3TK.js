import{a as we}from"./chunk-SRF5FECQ.js";import{a as Se}from"./chunk-XF2W6BUP.js";import{a as xe}from"./chunk-6BLOO7ZN.js";import{a as R}from"./chunk-PRGPMYUJ.js";import{a as ge}from"./chunk-7F5XJ2TU.js";import{a as Ce}from"./chunk-MI2Q756Z.js";import{a as le,b as pe,c as de}from"./chunk-32IFYA56.js";import{a as G}from"./chunk-ZZ5BEB5E.js";import{a as v}from"./chunk-ELXRV4IW.js";import{a as ue}from"./chunk-T4CFY3IH.js";import{p as fe,q as D}from"./chunk-6PSK4535.js";import"./chunk-GCPFAJKK.js";import"./chunk-7OWNMKUE.js";import"./chunk-EDJJACNG.js";import"./chunk-V7XA3BQU.js";import{a as U}from"./chunk-PONOZOFT.js";import"./chunk-DEJA7CK3.js";import"./chunk-LS6URCUV.js";import"./chunk-XDEC3ZLT.js";import"./chunk-RGPNT5G7.js";import"./chunk-OQUE64GQ.js";import"./chunk-AQ4KTATJ.js";import"./chunk-Q7DF5H6O.js";import"./chunk-G23O242T.js";import"./chunk-AQO2BBXJ.js";import"./chunk-GWMNMJND.js";import{d as ce,m as me}from"./chunk-2VUOGSTW.js";import"./chunk-P4PGYDTS.js";import"./chunk-S7VT2TWF.js";import"./chunk-HBNZZZEG.js";import"./chunk-3W4MTHFJ.js";import"./chunk-L2MGED7F.js";import{d as b}from"./chunk-BNS5ABAB.js";import"./chunk-UFGJXE4D.js";import"./chunk-7QX2TXNH.js";import"./chunk-LBNBJFSZ.js";import"./chunk-SFA2I2L2.js";import"./chunk-ZDHJHPQ5.js";import"./chunk-ROS2ENQV.js";import"./chunk-DFPRATON.js";import"./chunk-WY5R5HAR.js";import"./chunk-GTQ5U6DA.js";import"./chunk-TE6AOABI.js";import"./chunk-63UDTGAT.js";import"./chunk-AZ2KZKVQ.js";import"./chunk-VCDDTW7H.js";import"./chunk-UULU72LG.js";import"./chunk-3MTWCI34.js";import"./chunk-E6XUX33V.js";import"./chunk-VTMJYROY.js";import"./chunk-ARK47WR5.js";import"./chunk-BEIWULHW.js";import"./chunk-DOCYQV54.js";import"./chunk-6T3CLU73.js";import"./chunk-STXPU7A6.js";import"./chunk-PFSPFZNW.js";import"./chunk-2JC6L37N.js";import"./chunk-BF6TFHGA.js";import"./chunk-57F7LIJM.js";import"./chunk-7OXXN2FT.js";import"./chunk-RK7WST36.js";import"./chunk-7Q4IDC7V.js";import"./chunk-F57QKCZQ.js";import"./chunk-HIVYZXF3.js";import"./chunk-JALTSNOZ.js";import"./chunk-4Y52FA3V.js";import"./chunk-B6WLGAPL.js";import"./chunk-ZYYACLV7.js";import"./chunk-TQMC5UQS.js";import"./chunk-ANWN6BF6.js";import"./chunk-XNP3OGQC.js";import"./chunk-A2QIZMPL.js";import"./chunk-HKU7TMFJ.js";import"./chunk-YTR7GLCK.js";import"./chunk-7I4OPLNV.js";import"./chunk-J3UBL564.js";import"./chunk-YMYQJ726.js";import"./chunk-FGRS6VIX.js";import"./chunk-INIQCRIO.js";import"./chunk-2P6PTKAN.js";import"./chunk-ZFBXO46L.js";import"./chunk-6Z5HVUBK.js";import"./chunk-ZBDGRK4Q.js";import"./chunk-XIYYKWE3.js";import"./chunk-GN2NRAOV.js";import"./chunk-SFFRTMXL.js";import"./chunk-RLY3NWVP.js";import"./chunk-U3KULTRT.js";import"./chunk-55T2IW2N.js";import"./chunk-WVUOJIBP.js";import"./chunk-JBROAQ6E.js";import"./chunk-LBCITKCK.js";import"./chunk-O4O5AL3V.js";import"./chunk-I56NHY6E.js";import"./chunk-GDQAWT2G.js";import"./chunk-QJ36ZOFH.js";import"./chunk-7HYQ2DGP.js";import"./chunk-G7XOYBNH.js";import"./chunk-JHO7RU36.js";import"./chunk-UOWKDFTX.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import"./chunk-F2SPBGOT.js";import"./chunk-SYOIP55B.js";import"./chunk-V7ZNWTMX.js";import"./chunk-MSP5TDR3.js";import"./chunk-VWGNVM37.js";import"./chunk-QKBWJPY2.js";import"./chunk-XFPD3Q2E.js";import"./chunk-AFJBSSNA.js";import"./chunk-3ZKJXYZ4.js";import{c as ie}from"./chunk-EBRJSEEJ.js";import"./chunk-PA7QUJH7.js";import"./chunk-MC7IOE6A.js";import"./chunk-N4IVZOUG.js";import"./chunk-JWVIZID6.js";import"./chunk-47LIW52M.js";import"./chunk-MSFAPAHB.js";import"./chunk-33XRMYWN.js";import{m as ae}from"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import"./chunk-WRVJM3F3.js";import"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import"./chunk-XRCQOGA2.js";import"./chunk-SWUBCABA.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import"./chunk-4W7LQOP5.js";import"./chunk-CIVR4FUI.js";import"./chunk-H7WHTGUY.js";import"./chunk-44SDMU5C.js";import"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import{j as se}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as qe}from"./chunk-Z62JX42S.js";import{Na as re}from"./chunk-2QHGKEME.js";import"./chunk-HAHRUU64.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import{M as _}from"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import{e as oe}from"./chunk-3QLLFUC4.js";import{i as z}from"./chunk-EFOY37CC.js";import"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{Ba as N,_a as O,tb as B}from"./chunk-COF7YKSN.js";import"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import{M as q,va as Xe}from"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-JHCCLVAB.js";import"./chunk-W7AONC6R.js";import"./chunk-FOOC6LB7.js";import"./chunk-SEAUBLKM.js";import"./chunk-UP4BZFYG.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import"./chunk-4QGZDIBD.js";import{b as F}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-FYJQM2AY.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RQWEJ5N6.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-OPJRP6YV.js";import"./chunk-H6JAOQCX.js";import"./chunk-OJXBW2YQ.js";import"./chunk-PDRHBICP.js";import"./chunk-Z2AIGJGI.js";import"./chunk-SLQQVCPY.js";import"./chunk-ZRVP4J67.js";import"./chunk-YSKQ76UN.js";import"./chunk-A3W4ZDEQ.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as x,o as s,q as a}from"./chunk-Y5OH3DDZ.js";s();a();var Pe=x(F());s();a();var H=x(F());s();a();var k=x(F());B();s();a();var ye=x(re());B();var ze=({walletId:e,method:t,message:o,onConfirm:i})=>{let u=(0,ye.useDispatch)();return async()=>{let l={message:o},r=await(async()=>u(R({walletId:e,localType:N,method:t,params:l})))();return i(r)}},Ae=ze;function He(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var _e=e=>{let{walletId:t,method:o,params:i,source:u,onConfirm:l,onCancel:p}=e,r=b(O)||{},C=ae(r?.localType,t),d=G(e),[g,S]=(0,k.useState)({}),c=He(we(i?.message)),m=u==="dapp",w=Ae({method:o,walletId:t,message:c,onConfirm:l}),n,f,y;m||(n=w,f=!0,y=p);let A=(0,k.useMemo)(()=>({method:o,dappData:JSON.stringify({data:c}),dappInfo:m?d:{},from:C,message:c,chainIndex:r.chainId}),[C]),T=se(t),L=Ce({unapproved:e,onConfirm:n,onConfirmReplace:f,onCancel:y,preExecInfo:g});return k.default.createElement(D,{needPreExecFn:()=>!1,preExecParams:A,buttonGroup:L,txType:fe.signMessage,handleCancel:y,walletAccount:T,onUpdatePreExecInfo:S,localType:r?.localType,slot:{bottom:!!i?.isSilentSign&&k.default.createElement(v,{walletAccount:T})}})};s();a();var E=x(F()),W=x(qe());s();a();Xe();s();a();var h=x(F());var Ie=(e,t)=>{let{from:o,transaction:i,provider:u}=e,[l,p]=(0,h.useState)(!0),[r,C]=(0,h.useState)(null),[d,g]=(0,h.useState)(!1),[S,c]=(0,h.useState)(""),m=Se();return(0,h.useEffect)(()=>{(async()=>{if(!i){p(!1);return}p(!0);try{let n=me.from(i);n.setSenderIfNotSet(o);let f="";u&&(f=ce(await n.build({client:u}))),t&&await t(f),C({fee:n?.blockData?.gasConfig?.budget||"0",tx:n,txBytes:f}),g(!1),c("")}catch(n){m({from:o,error:n,transaction:i}),g(!0),c(n?.message||"")}finally{p(!1)}})()},[i]),{loading:l,error:d,errorMsg:S,result:r}};var je=({coinId:e,unapproved:t,preExecInfo:o})=>{let i=U(t),{address:u,walletId:l}=i,p=ie({coinId:e}),{loading:r}=o||{},C=ue(e,l)||{},{coinAmountInt:d}=C,{loading:g,result:S,error:c,errorMsg:m}=Ie({from:u,transaction:t?.params?.transaction,provider:xe}),w=S?.fee,n=q(d)||z(d,w||0)||r,f=q(d)||z(d,0)||r,y={coinId:e,loading:g,estimateFailed:c,networkFee:w,network:p},A;return c&&m&&(A=m),{loading:g,networkFee:S,networkFeeProps:y,isSufficientGas:n,estimateFailed:c,estimateFailedMsg:A,isSufficientBalance:f,coinWithBalance:C}},ke=je;B();s();a();var he=x(re());B();var Qe=({walletId:e,method:t,params:o,extraParams:i,onConfirm:u})=>{let l=(0,he.useDispatch)();return async()=>{let r=await(async()=>l(R({walletId:e,localType:N,method:t,params:o,extraParams:i})))();return u(r)}},Ee=Qe;function Ve(e){let{id:t,method:o,source:i,onCancel:u,onConfirm:l,onAddressCopy:p,walletId:r,origin:C,isMev:d,needMev:g=!0,onMevChange:S}=e,c=O,m=b(c)||{},w=G(e),n=U(e),{address:f}=n,y=m.localType,[A,T]=(0,E.useState)({}),[L,Me]=(0,W.useSetState)({mevInfo:{},isMev:d}),Ne=(0,W.useMemoizedFn)((te,ne)=>{Me({isMev:te,mevInfo:ne}),S?.(te,ne)}),{isMev:j,mevInfo:Oe}=L,{networkFee:P,networkFeeProps:Be,isSufficientGas:Q,estimateFailed:V,estimateFailedMsg:be,loading:M,isSufficientBalance:Y,coinWithBalance:Z}=ke({coinId:c,unapproved:e,preExecInfo:A}),$=e?.params||{},ve=$?.transaction,De=(0,E.useMemo)(()=>M?{}:{forceLoading:!0,dappData:JSON.stringify({to:"",from:f,value:0,data:P?.txBytes}),from:f,dappInfo:w,chainIndex:m?.chainId,method:o},[m?.chainId,ve,f,P,M]),Ge={txId:t,baseCoin:m,estimateFailed:V,isSufficientBalance:Y,isSufficientGas:Q,estimateFailedMsg:be,coinWithBalance:Z},ee={txBytes:P?.txBytes,fee:P?.fee,isMev:j,mevInfo:Oe},Ue=pe({id:t,extraParams:ee}),Re=le({walletId:r,localType:y,id:t,origin:C}),We=Ee({walletId:r,method:o,onConfirm:l,extraParams:ee}),Le=ge({walletId:r}),J,K,X;i==="dapp"?(J=Ue,K=Re,X=Le):(J=We,K=u,X=p);let{handleCancel:Je,buttonGroup:Ke}=de({feeLoading:M,estimateFailed:V,isSufficientGas:Q,isSufficientBalance:Y,onCancel:K,onConfirm:J,chainConfirmDisabled:oe(n.initialType),coinWithBalance:Z,preExecInfo:A});return E.default.createElement(D,{loading:M,mevProps:{isMev:j,needMev:g,onMevChange:Ne},networkFeeProps:Be,preExecParams:De,onAddressCopy:X,walletAccount:n,handleCancel:Je,buttonGroup:Ke,localType:m?.localType,txState:Ge,onUpdatePreExecInfo:T,slot:{bottom:!!$?.isSilentSign&&E.default.createElement(v,{walletAccount:n})}})}var Fe=Ve;var Te=e=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:case _.SIGN_AND_EXECUTE_TRANSACTION:case _.SIGN_TRANSACTION:return H.default.createElement(Fe,{...e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return H.default.createElement(_e,{...e});default:return""}};var rn=({unapproved:e})=>{let{isMev:t,needMev:o}=e.params?.okxArgs||{};return Pe.default.createElement(Te,{...e,source:"dapp",isMev:t,needMev:o})};export{rn as default};
//# sourceMappingURL=Sui-DJBYQ3TK.js.map
