import{a as _t,c as gt,d as Nt}from"./chunk-ICYSIKSK.js";import{a as de}from"./chunk-FTPSEW3D.js";import{a as pt}from"./chunk-2L6CHWW2.js";import{a as ut}from"./chunk-OW45SNHL.js";import{a as dt}from"./chunk-UYJBEFNU.js";import{a as lt}from"./chunk-N4IRLXLS.js";import{a as mt}from"./chunk-5XDQ7TQF.js";import{b as ft}from"./chunk-YX2POTUH.js";import"./chunk-GTQ5U6DA.js";import"./chunk-MYXJSJEA.js";import"./chunk-SMB23TMJ.js";import{a as ct}from"./chunk-TE6AOABI.js";import"./chunk-DK5VLY7L.js";import{b as Ge,d as S,e as qe,g as je,h as Ye,i as Ke,j as ze,k as Ze,l as Je,m as Qe,p as Xe,q as et,r as tt}from"./chunk-FVCINJIW.js";import"./chunk-VUHYFIVA.js";import{b as P}from"./chunk-DZGSODSZ.js";import"./chunk-QRAFULYC.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import"./chunk-J6XCA7RV.js";import"./chunk-4W7LQOP5.js";import"./chunk-CIVR4FUI.js";import"./chunk-H7WHTGUY.js";import"./chunk-44SDMU5C.js";import{a as at}from"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import{b as it}from"./chunk-7MCLPJAH.js";import{a as rt}from"./chunk-WAIJPY5X.js";import{h as me,j as nt,m as st}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{v as X,w as $e}from"./chunk-GCS2RK7E.js";import{a as Ue}from"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{u as be}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as Ve}from"./chunk-Z62JX42S.js";import{H as Me,Na as ye}from"./chunk-2QHGKEME.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as xe}from"./chunk-6PA65BO3.js";import"./chunk-WU2LB6XB.js";import{a as le}from"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import{c as Ce,e as ro}from"./chunk-EN2WHAVL.js";import{h as ot}from"./chunk-CP2RIMI2.js";import{e as We}from"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import{c as ee}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import{b as v,c as ie}from"./chunk-GR7YC6C3.js";import{A as Le,E as V,J as ae}from"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{Db as J,Eb as Q,Sb as De,na as ce,tb as Re,ub as K,vb as z,wa as Be,wb as Z}from"./chunk-COF7YKSN.js";import{A as f,K as G,o as Oe}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{A as Y,E as M,I as Ie,o as se,p as re,y as L}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{t as j,u as H,z as D}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as q}from"./chunk-4QGZDIBD.js";import{b as A}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import{b as so}from"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as h,o as t,q as o}from"./chunk-Y5OH3DDZ.js";t();o();var g=h(A()),oe=h(ye()),Jt=h(xe()),ke=h(q());G();t();o();var Tt=h(Ve());t();o();ie();ae();var ht=(e,n="")=>V(v.checkHasHiddenNFT,{address:e,chain:n});t();o();var io=rt(Ye,Xe),kt=io;function ao(e){let{currentNetworkUniqueId:n}=Ue(),i=lt(),[r,a]=kt(),{loading:c,runAsync:s,run:_}=(0,Tt.useRequest)(()=>{let p=i(n).join(",");return p?ht(p,`${n}`).then(d=>{let N=!!d?.data?.ownedHiddenNft;return a(N),N}).catch(()=>(a(!1),!1)):(a(!1),Promise.resolve(!1))},{manual:e?.manual??!0,refreshDeps:[n],onSuccess:p=>{e?.onChecked?.(p)},onError:()=>{}});return{hasHiddenNFT:r,loading:c,checkAsync:s,check:_,setHasHiddenNft:a}}var fe=ao;t();o();var C=h(A()),Wt=h(xe());G();t();o();var k=h(A()),W=h(q());G();t();o();var b=h(A());var Rt=h(q());t();o();var Lt=h(A()),_e=h(Ve());G();t();o();var It=h(ye());function co(){let e=me(),n=(0,It.useDispatch)();return(i,r)=>{let{hideManualHidden:a}=qe(e),c={id:i,walletId:e,newData:{hiddenStatus:r?S.SHOW:S.MANUAL}};n(a&&!r?tt(c):et(c))}}var Ct=co;Re();t();o();function lo(e,n){return e.includes(n)}var yt=lo;t();o();var pe={SHOW:0,HIDE:1};t();o();var ue={hide:{button:"extension_wallet_filter_btn_hide",error:"extension_wallet_notif_text_hide_unsuccess",success:"extension_wallet_notif_text_hide_success"},show:{button:"extension_wallet_filter_btn_unhide",error:"extension_wallet_notif_text_unhide_unsuccess",success:"extension_wallet_notif_text_unhide_success"},transfer:"extension_wallet_filter_btn_transfer"};t();o();t();o();ie();ae();t();o();var xt={expired:4001,illegal:4002,parsingFailed:4003};var bt=e=>V(v.changeNFTVisibility,e),wt=e=>{let n=e?.data?.addressTokenErrorMap??{};return Object.values(n).some(i=>Object.values(xt).includes(i))};t();o();var we="nftToken",Ft=(e,n)=>{try{let i=localStorage.getItem(we)??"{}",r=JSON.parse(i);return localStorage.setItem(we,JSON.stringify({...r,[e]:n})),!0}catch{return!1}},At=e=>{try{let n=localStorage.getItem(we);return n?(JSON.parse(n)??{})?.[e]:void 0}catch{return}};t();o();ro();Re();t();o();ie();ae();var St=e=>Le(v.getNFTSignData,{address:e});t();o();ie();ae();De();var Pt={[K]:1,[Z]:2,[J]:2,[Q]:4,[z]:5},Et=e=>V(v.loginNFT,e);t();o();De();var Ht={[K]:K,[z]:z,[Q]:Q,[Z]:Z,[J]:J};var mo=e=>Object.values(Ht).includes(e),vt=async(e,n,i)=>{let r=le(n);if(!mo(r))return;let a=await St(e),c=a?.data?.signData,s=a?.data?.nonce;if(!c||!s)return;let _=await Ce().signMessageSilent({from:e,data:c,nonce:s},r,i);if(!_)return;let p={address:e,signature:_,algorithmCode:Pt[r]};if([ce,Be].includes(r)){let N=await Ce().getPublicKey(e,r,i);p.publicKey=N}return(await Et(p))?.data?.token};var Ot={LOGIN_ERROR:"LOGIN_ERROR",TOKEN_ERROR:"TOKEN_ERROR"},fo=async({address:e,baseCoinId:n,useNewToken:i,walletId:r})=>{let a=At(e);if(!i&&a)return a;try{let c=await vt(e,n,r);if(!c)throw new Error(Ot.LOGIN_ERROR);return Ft(e,c),c}catch{throw new Error(Ot.LOGIN_ERROR)}},Fe=0,po=3,Ae=async(e,n,i=!1)=>{let{addresses:r,nftId:a,type:c,walletId:s}=n,_=[];for(let d of r){let N=await fo({address:d,baseCoinId:e,useNewToken:i,walletId:s});_.push(N)}let p=r.reduce((d,N,u)=>(d[N]=_[u],d),{});try{await bt({nftId:a,type:c,addressTokenMap:p}),Fe=0}catch(d){if(wt(d)){if(Fe++,Fe>po)throw d;await Ae(e,n,!0)}else throw d}};function uo(e){let{id:n,baseCoinId:i,onSuccess:r,hiddenStatus:a}=e,c=!yt([S.AUTO,S.MANUAL],a),s=me(),_=st(),p=Ct(),{check:d}=fe(),N=c?ue.hide:ue.show,u=(0,_e.useRequest)(Ae,{onError:()=>{Ie.error(f(N.error))},onSuccess:(I,[,{nftId:O,type:F}])=>{Ie.success(f(N.success)),p(O,F===pe.SHOW),d(),r?.()},manual:!0}),T=()=>{if(u.loading)return;let I=_(s),O=le(i),F=I?.account?.[O],x=Object.values(I?.addressType?.bitcoin??{}).map(ne=>ne?.address).filter(Boolean);u.run(i,{addresses:O===ce?x:[F],type:c?pe.HIDE:pe.SHOW,nftId:n,walletId:s})},w=f(N.button);return{key:"visibility",loading:u.loading,text:w,onClick:T,icon:c?"okx-wallet-plugin-hide":"okx-wallet-plugin-show"}}function _o(e){let{ownerAddress:n,chainId:i,tokenId:r,contractAddress:a}=e,{loading:c,getNFTInfo:s}=_t({looker:n,chainId:`${i}`,tokenId:`${r}`,contractAddress:a}),_=gt(),p=async()=>{let N=await s();if(!!N){if(N?.chainName==="Solana"&&N?.sale){let u=se.tip({alignBottom:!1,title:f("extension_wallet_detail_title_transfer_faild"),children:f("extension_wallet_detail_text_transfer_faild"),confirmText:f("wallet_extension_btn_general_ok"),onConfirm:()=>{u.destroy()}});return}_(N)}},d=f(ue.transfer);return{key:"transfer",loading:c,text:d,onClick:p,icon:"okx-wallet-plugin-transfer"}}function go(){let e=(0,Lt.useRef)(null),n=()=>{e.current?.setVisible(!1)};return(0,_e.useEventListener)("scroll",n,{target:document.getElementById(ut)}),{popupRef:e,closePopup:n}}function No(e){let{popupRef:n,closePopup:i}=go(),{baseCoinId:r,id:a,hiddenStatus:c,ownerAddress:s,chainId:_,contractAddress:p,tokenId:d,transfer:N=!0,visible:u=!0}=e,T=uo({onSuccess:i,baseCoinId:r,id:a,hiddenStatus:c}),w=_o({ownerAddress:s,chainId:_,tokenId:d,contractAddress:p}),I=[];return N&&I.push(w),u&&I.push(T),{popupRef:n,actions:I}}var Bt=No;t();o();var B={root:"_root_1orqe_1",popup:"_popup_1orqe_6",item:"_item_1orqe_13",iconBox:"_iconBox_1orqe_24",loader:"_loader_1orqe_32",icon:"_icon_1orqe_24"};function ho(e){let{popupRef:n,actions:i}=Bt(e);return b.default.createElement(ee.Box,{className:B.root},b.default.createElement(re,{content:b.default.createElement(ee.Box,{className:B.popup},i.map(r=>b.default.createElement(ee.Box,{className:B.item,onClick:r.onClick,key:r.key},b.default.createElement(ee.Box,{className:B.iconBox},r.loading?b.default.createElement(H,{size:H.SIZE.sm,className:B.loader}):b.default.createElement(j,{className:(0,Rt.default)(r.icon,B.icon)})),b.default.createElement(be.Text,{size:be.SIZE.sm},r.text)))),trigger:re.TRIGGER.click,placement:re.DIRECTION.topRight,ref:n},b.default.createElement(j,{className:"okx-wallet-plugin-more"})))}var Dt=ho;t();o();var te=h(A()),Mt=h(q());t();o();var l={clickable:"_clickable_1le74_1",priceTitle:"_priceTitle_1le74_4",priceContent:"_priceContent_1le74_12",priceValue:"_priceValue_1le74_22","add-weight":"_add-weight_1le74_27",addWeight:"_add-weight_1le74_27",chainImage:"_chainImage_1le74_27",priceAmount:"_priceAmount_1le74_32",price:"_price_1le74_4",noResultImageBox:"_noResultImageBox_1le74_39",collectionName:"_collectionName_1le74_43","ok-nft-main-list":"_ok-nft-main-list_1le74_47",okNftMainList:"_ok-nft-main-list_1le74_47","ok-nft-loading-status":"_ok-nft-loading-status_1le74_54",okNftLoadingStatus:"_ok-nft-loading-status_1le74_54","ok-nft-main-no-nft":"_ok-nft-main-no-nft_1le74_59",okNftMainNoNft:"_ok-nft-main-no-nft_1le74_59","ok-nft-image":"_ok-nft-image_1le74_62",okNftImage:"_ok-nft-image_1le74_62","ok-nft-image-box":"_ok-nft-image-box_1le74_70",okNftImageBox:"_ok-nft-image-box_1le74_70","ok-nft-image-box-hide":"_ok-nft-image-box-hide_1le74_74",okNftImageBoxHide:"_ok-nft-image-box-hide_1le74_74","ok-nft-is-new":"_ok-nft-is-new_1le74_77",okNftIsNew:"_ok-nft-is-new_1le74_77","ok-nft-collections":"_ok-nft-collections_1le74_94",okNftCollections:"_ok-nft-collections_1le74_94","ok-nft-flag-image":"_ok-nft-flag-image_1le74_106",okNftFlagImage:"_ok-nft-flag-image_1le74_106","ok-nft-chain-image":"_ok-nft-chain-image_1le74_111",okNftChainImage:"_ok-nft-chain-image_1le74_111","ok-nft-name":"_ok-nft-name_1le74_120",okNftName:"_ok-nft-name_1le74_120","ok-nft-main-item":"_ok-nft-main-item_1le74_132",okNftMainItem:"_ok-nft-main-item_1le74_132","ok-nft-is-hide":"_ok-nft-is-hide_1le74_138",okNftIsHide:"_ok-nft-is-hide_1le74_138","ok-nft-is-hide-icon":"_ok-nft-is-hide-icon_1le74_150",okNftIsHideIcon:"_ok-nft-is-hide-icon_1le74_150","ok-nft-collection-identification-name":"_ok-nft-collection-identification-name_1le74_154",okNftCollectionIdentificationName:"_ok-nft-collection-identification-name_1le74_154","ok-nft-collection-name":"_ok-nft-collection-name_1le74_157",okNftCollectionName:"_ok-nft-collection-name_1le74_157"};var ko=({item:e,index:n})=>{let[i,r]=(0,te.useState)(!1),a=n%2>1?Y.DIRECTION.top:Y.DIRECTION.topRight;return te.default.createElement(Y,{show:i,title:e.collectionName,trigger:Y.TRIGGER.hover,placement:a},te.default.createElement("span",{onMouseOver:()=>{let c=e.isIdentification?127:144,s=document.querySelector(`.ok-nft--collection-name-hidden-${e.id}`);s&&s.clientWidth>c&&r(!0)},onMouseLeave:()=>{r(!1)},className:(0,Mt.default)(l.okNftCollectionName,l.addWeight,e.isIdentification?l.okNftCollectionIdentificationName:"")},e.collectionName||e.projectName))},Vt=ko;var To=()=>{let e=nt();return We(e?.initialType)},Io=e=>{let n=To(),{inImage:i}=e.slot||{},r=P(e.salePrice)||P(e.lastPrice)||P(e.bestOfferPrice),a=f("wallet_extension_nft_detail_text_price"),c="New";e.salePrice?a=f("wallet_extension_nft_detail_text_price"):e.lastPrice?a=f("wallet_extension_nft_detail_text_last"):e.bestOfferPrice&&(a=f("wallet_extension_nft_detail_text_best_offer"));let s=!n&&!e?.needClaim,_=e?.hiddenStatus===S.AUTO||e?.hiddenStatus===S.MANUAL,p=_&&k.default.createElement("div",{className:l.okNftIsHide},k.default.createElement(j,{className:(0,W.default)("okx-wallet-plugin-hide",l.okNftIsHideIcon)})),d=ot({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});return k.default.createElement("div",{className:l.okNftMainItem},k.default.createElement("div",{className:l.clickable,onClick:e.onClick},k.default.createElement("div",{className:l.okNftImageBox},k.default.createElement(pt,{src:e.image||e.resourceUrl,classnames:(0,W.default)(l.addWeight,l.okNftImage,_&&l.okNftImageBoxHide),backupImage:d}),e.isNew&&k.default.createElement("div",{className:l.okNftIsNew},c),i?i(p):p),k.default.createElement("div",null,k.default.createElement("div",{className:l.okNftCollections},k.default.createElement(Vt,{item:e}),k.default.createElement("div",{className:(0,W.default)(`ok-nft--collection-name-hidden-${e.id}`,l.collectionName)},e.collectionName),e.isIdentification&&k.default.createElement(M,{alt:"",src:"/static/images/nft/nft-isidentification.svg",className:l.okNftFlagImage}),k.default.createElement(M,{alt:"",src:e.chainIcon,className:(0,W.default)(l.addWeight,l.okNftChainImage)})),k.default.createElement("div",{className:l.okNftName},e.name))),k.default.createElement("div",{className:l.price},k.default.createElement("div",{className:l.priceTitle},a),k.default.createElement("div",{className:l.priceContent},k.default.createElement("div",{className:l.priceValue},r?.currencyUrl&&k.default.createElement(M,{alt:"",src:`${r?.currencyUrl}`,className:(0,W.default)(l.addWeight,l.chainImage)}),k.default.createElement("div",{className:l.priceAmount},r?.priceDisplay||"--")),s&&k.default.createElement(Dt,{id:e.id,hiddenStatus:e.hiddenStatus,baseCoinId:e.baseCoinId,ownerAddress:e.ownerAddress,chainId:e.chain,contractAddress:e.contractAddress,tokenId:e.tokenId,...e.actionsProps||{}}))))},ge=Io;t();o();var E={"new-home-page-aptos-box":"_new-home-page-aptos-box_btcug_1",newHomePageAptosBox:"_new-home-page-aptos-box_btcug_1","new-home-page-aptos-image":"_new-home-page-aptos-image_btcug_10",newHomePageAptosImage:"_new-home-page-aptos-image_btcug_10","new-home-page-aptos-text":"_new-home-page-aptos-text_btcug_17",newHomePageAptosText:"_new-home-page-aptos-text_btcug_17","new-home-page-aptos-notify":"_new-home-page-aptos-notify_btcug_27",newHomePageAptosNotify:"_new-home-page-aptos-notify_btcug_27","new-home-page-aptos-get":"_new-home-page-aptos-get_btcug_30",newHomePageAptosGet:"_new-home-page-aptos-get_btcug_30","new-home-page-aptos-claim":"_new-home-page-aptos-claim_btcug_44",newHomePageAptosClaim:"_new-home-page-aptos-claim_btcug_44","new-home-page-aptos-title":"_new-home-page-aptos-title_btcug_49",newHomePageAptosTitle:"_new-home-page-aptos-title_btcug_49","ok-nft-main-list":"_ok-nft-main-list_btcug_53",okNftMainList:"_ok-nft-main-list_btcug_53"};var Co=({data:e=[],accountAddress:n})=>{let[i,r]=(0,C.useState)(!1),a=(0,Wt.useHistory)(),c=f("extension_home_aptos_nft_card_receivenum",{num:C.default.createElement("span",{key:"language",className:E.newHomePageAptosNotify},e.length)});return C.default.createElement(C.default.Fragment,null,C.default.createElement(se.Action,{windowStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},onClose:()=>{r(!1)},visible:i,title:C.default.createElement("span",{className:E.newHomePageAptosTitle},f("extension_aptos_nft_title_receiveallowed")),windowClass:E.newHomePageAptosClaim},C.default.createElement("div",{className:E.okNftMainList},e.map(s=>(s.coverUrl?s.image=s.coverUrl:s.resourceType===1&&(s.image=s.resourceUrl),s.lastPrice=P(s.lastPrice),s.bestOffer=P(s.bestOffer),s.sale=P(s.sale),s.floorPriceDetail=P(s.floorPriceDetail),C.default.createElement(ge,{...s,key:s.tokenId,activeId:2,needClaim:!0,onClick:()=>{a.push({search:`chainId=${s.chain}&contractAddress=${s.contractAddress}&tokenId=${encodeURIComponent(s.tokenId)}&claim=true&offerAddress=${s.offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${X}`})}}))))),C.default.createElement("div",{className:E.newHomePageAptosBox},C.default.createElement(M,{alt:"",width:32,height:32,className:E.newHomePageAptosImage,src:e[0].coverUrl||e[0].resourceUrl}),C.default.createElement("div",{className:E.newHomePageAptosText},c),C.default.createElement("span",{className:E.newHomePageAptosGet,onClick:()=>{e.length>1?r(!0):a.push({search:`chainId=${e[0].chain}&contractAddress=${e[0].contractAddress}&tokenId=${encodeURIComponent(e[0].tokenId)}&claim=true&offerAddress=${e[0].offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${X}`})}},f("extension_home_aptos_nft_card_receivenow"))))},Ut=Co;t();o();var U=h(A()),Gt=h(ye()),qt=h(xe()),jt=h(q());t();o();var Ne=h(A());G();t();o();var y={INIT:"init",FILTER:"filter"};var yo=({type:e=y.INIT,hideButton:n=!1,emptyImgClassName:i})=>{let r=ct(),{resetHideUnverifiedCollection:a}=de(),{resetFilterInfo:c}=mt(),s=(0,Ne.useCallback)(()=>{a(),c()},[c,a]),_={[y.INIT]:f("wallet_extension_nft_tab_nfts_desc"),[y.FILTER]:f("wallet_extension_nft_text_no_items_found")},p={[y.INIT]:f("wallet_extension_nft_tab_nfts_btn_explorenfts"),[y.FILTER]:f("wallet_extension_nft_btn_back_to_items")},d={[y.INIT]:L.State.TYPE.noResult,[y.FILTER]:L.State.TYPE.noRecord};return Ne.default.createElement(L.State,{imgClassName:i,title:_[e],type:d[e],buttonText:n?null:p[e],onButtonClick:n?void 0:()=>{if(e===y.INIT){globalThis.platform.openTab({url:r?.nftMarketPlace});return}s()}})},$t=yo;var xo=({list:e=[],filterStatus:n=!1,hasNFTFilter:i=!1,emptyClassname:r,emptyImgClassName:a})=>{let c=(0,Gt.useSelector)(Qe),s=(0,qt.useHistory)(),{currentWalletSetting:_}=de(),{hideNoValue:p,hideManualHidden:d}=_,N=p||d;if(e.length>0)return U.default.createElement("div",{className:l.okNftMainList},e.map(T=>{let{nftStatusInfo:w}=T,I=w?.data?.nftStatus==="1",F=Me({coinId:T?.baseCoinId})&&!!T.inscriptionIdProtocol?T.inscriptionIdProtocol:T?.tokenId;return U.default.createElement(ge,{key:T.id,...T,tokenId:F,activeId:c,onClick:()=>{s.push({search:`looker=${T.ownerAddress}&chainId=${T.chain}&contractAddress=${T.contractAddress}&tokenId=${encodeURIComponent(F)}`,pathname:`${X}`})},actionsProps:{transfer:!I},slot:{inImage:x=>I?U.default.createElement(Nt,{className:l.okNftLoadingStatus,tooltip:!0,count:w.data?.txCount}):x}})}));let u=n&&!N?y.FILTER:y.INIT;return U.default.createElement("div",{className:(0,jt.default)(l.okNftMainNoNft,r)},U.default.createElement($t,{hideButton:u===y.INIT&&i,type:u,emptyImgClassName:a}))},Yt=xo;t();o();var R={showButton:"_showButton_5kvqf_1",loadingButton:"_loadingButton_5kvqf_12",loader:"_loader_5kvqf_17",empty:"_empty_5kvqf_23",emptyImg:"_emptyImg_5kvqf_26"};t();o();var $=h(A()),zt=h(so());var Kt=16,bo=158,he=12,wo=90+he,Zt=({width:e=360})=>{let[n,i]=(0,$.useState)(2),r=(0,$.useCallback)(()=>{let a=e-Kt*2;return Math.floor((a+he)/(bo+he))},[e]);return(0,$.useEffect)(()=>{let a=(0,zt.debounce)(()=>{i(r())},500);return i(r()),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[r]),{columns:n,itemHeight:(e-Kt*2-(n-1)*he)/n+wo}};var Fo=299,Ao=({aptosNftOffers:e,aptosAddress:n,scrollTop:i,backupHeight:r})=>{let a=at(),c=(0,oe.useSelector)(Ze),s=(0,oe.useSelector)(ze),_=(0,oe.useSelector)(Je),p=(0,g.useRef)(null),d=dt(),N=(0,Jt.useHistory)(),{list:u,total:T,pageNo:w}=(0,oe.useSelector)(Ke),{hasHiddenNFT:I}=fe({manual:!1}),O=!!a&&je(a,Ge.hideUnverifiedCollection),F=Object.keys(_).some(no=>_[no].length!==0)||O,x=F||I&&u.length<=2,{columns:ne,itemHeight:Se}=Zt({width:p.current?.clientWidth});(0,g.useEffect)(()=>{!s&&i>Se*Math.ceil(u.length/ne)-360&&T>u.length&&d({pageNo:w+1})},[i,s,u.length,T,w,d,ne,Se]);let Qt=(0,g.useMemo)(()=>s&&u.length>0&&i>480,[s,u.length,i]),Xt=f("wallet_extension_nft_popup_title_filter"),eo=f("extension_wallet_filter_textbtn_filter",{number:Oe.thousandFormat(T)}),to=x?eo:Xt,Pe=(0,g.useMemo)(()=>x||i>Fo,[x,i]),{paddingBottom:Ee,buttonPaddingBottom:Te,absoluteBottom:He}=ft({isButtonAbsolute:Pe,backupHeight:r}),ve=(0,g.useMemo)(()=>u.length===0&&!x?Te:Ee,[Te,x,u.length,Ee]),oo=(0,g.useMemo)(()=>I?!0:e.length>0||u.length>0,[e.length,I,u.length]);return c?g.default.createElement("div",{className:(0,ke.default)("ok-home--error-parent"),style:{paddingBottom:ve}},g.default.createElement(L.State,{imgClassName:R.emptyImg,type:L.State.TYPE.noNetwork,title:f("wallet_extension_nft_text_loading_failed"),buttonText:f("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{s||d({pageNo:1})}})):s&&u.length===0?g.default.createElement("div",{className:(0,ke.default)("ok-home--loading-parent")},g.default.createElement(H,{size:H.SIZE.xl})):g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{ref:p,style:{paddingBottom:ve}},e.length>0&&g.default.createElement(Ut,{data:e,accountAddress:n}),g.default.createElement(Yt,{filterStatus:F,list:u,hasNFTFilter:x,emptyClassname:oo?void 0:R.empty,emptyImgClassName:R.emptyImg})),Qt?g.default.createElement(it,{className:R.loadingButton,offsetBottom:He},g.default.createElement("div",{className:"ok-home-page--nft-loading"},g.default.createElement(H,{size:H.SIZE.lg,className:R.loader}))):g.default.createElement("div",{className:(0,ke.default)(`${Pe?R.showButton:""}`,"ok-home-bottom-panel--nft","ok-home-bottom-panel__disabled"),style:{bottom:He,paddingBottom:Te}},g.default.createElement(D,{icon:"okx-wallet-plugin-filter",type:D.TYPE.secondary,category:x?D.CATEGORY.fill:D.CATEGORY.outline,iconType:D.ICON_POSITION.leading,className:"home-button-nft sticky",onClick:()=>{N.push($e)}},to)))},gi=Ao;export{gi as default,Fo as nftItemHeight};
//# sourceMappingURL=Nft-7S2PNNUX.js.map
