import{c as $}from"./chunk-7I4OPLNV.js";import{b as w,t as h,u as p}from"./chunk-FGRS6VIX.js";import{fa as x,ga as g,m as _,ua as S}from"./chunk-INIQCRIO.js";import{O as I,s as m}from"./chunk-ZBDGRK4Q.js";import{A,W as P,g as k,ka as y,va as T}from"./chunk-XFTQD4B2.js";import{o as f,q as C}from"./chunk-Y5OH3DDZ.js";f();C();T();var b=e=>!!(Number(e?.isNativeToken)===_.TRUE||e?.isNativeToken===!0||e?.isBaseCoin),B=e=>e?h(e.chainId)&&e.tokenContractAddress:!1,K=({chainId:e,tokenContractAddress:t,tokenAddress:r=void 0}={})=>`${e}_${(t||r)?.toLowerCase()}`;function d(e,t=!1){let r=e?.tokenContractAddress||e?.tokenAddress||"";return t?r:y(r)}function L(e,t){return Number(e?.chainId)===Number(t?.chainId)}function V(e,t,r=!1){if(!L(e,t))return!1;let i=d(e,r),n=d(t,r);return i&&n?i===n:b(e)&&b(t)}f();C();T();var l=e=>g()?e:A(m.chainInfo,r=>r===e)||e,N=e=>{if(!p(e))return"";let t=e.chainId;return g()?t:m.chainInfo?.[t]||t},O=(e,t)=>p(e)&&p(t)?{chain:`${N(e)},${N(t)}`,token:`${d(e,!0)},${d(t,!0)}`}:{};function U({from:e,to:t,inputAmount:r,feeConfig:o,addressType:i}={}){let n=new URLSearchParams,s=(u,a)=>{h(a?.chainId)&&n.set(`${u}Chain`,a.chainId),a?.tokenContractAddress&&n.set(`${u}Currency`,a.tokenContractAddress)},c=u=>{u?.referrerAddress&&u?.feePercent&&(n.set("referrerAddress",u.referrerAddress),n.set("feePercent",u.feePercent))};return s("input",e),s("output",t),c(o),r&&n.set("inputAmount",r),i&&n.set("addressType",i),n}var ee=e=>{if(!e)return"";let t=e.get("inputChain"),r=e.get("inputCurrency"),o=e.get("outputChain"),i=e.get("outputCurrency"),n={};t&&r&&o&&i&&(e.delete("inputChain"),e.delete("inputCurrency"),e.delete("outputChain"),e.delete("outputCurrency"),n=O({chainId:t,tokenContractAddress:r},{chainId:o,tokenContractAddress:i}));let s=Object.fromEntries(e.entries());return new I().stringify({...n,...s})};function te(e={}){let t=U(e);t.delete("referrerAddress"),t.delete("feePercent");let r=P(e,["from","to","token","chain","inputAmount","feeConfig","addressType","tokenPair","bridgeTokenPair"]);return k(r).forEach(o=>{t.set(o,r[o])}),t}var q=e=>{if(!e)return e;let t=e.get("chain");if(!t)return e;if(t?.includes(",")){let[o,i]=t.split(",");e.set("inputChain",l(o)),e.set("outputChain",l(i))}else{let o=l(t);e.set("outputChain",o)}let r=e.get("token");if(!r)return e;if(r?.includes(",")){let[o,i]=r.split(",");e.set("inputCurrency",o),e.set("outputCurrency",i)}else e.set("outputCurrency",r);return e};function re(e,t){let r=q(e),o=n=>{let s=c=>{let u=r.get(`${n}${c}`);return!u&&t&&(u=r.get(`${n}Limit${c}`)),u};return{chainId:s("Chain"),tokenContractAddress:s("Currency")}},i=()=>{let n=r.get("referrerAddress"),s=r.get("feePercent");return $()&&n&&s&&!w(s)?{referrerAddress:n,feePercent:s}:{}};return{from:o("input"),to:o("output"),inputAmount:r.get("inputAmount"),feeConfig:i(),addressType:r.get("addressType"),autoSwitch:r.get("autoSwitch")}}function ne(e,t){return!e||!t?"":e===x.OKX_WALLET_EXTENSION?t:S(t)}export{B as a,K as b,d as c,L as d,V as e,O as f,U as g,ee as h,te as i,q as j,re as k,ne as l};
//# sourceMappingURL=chunk-A2QIZMPL.js.map
