import{b as Ke}from"./chunk-HB3JXXNO.js";import{i as h}from"./chunk-YI5V5HTO.js";import{b as se}from"./chunk-KDWSU3J6.js";import{g as X,h as ee}from"./chunk-QXEXAETB.js";import{b as We,m as Ue}from"./chunk-RK7WST36.js";import{K as Fe,c as j,l as Ie,m as Ae}from"./chunk-HIVYZXF3.js";import{a as Oe}from"./chunk-JALTSNOZ.js";import{W as Re,e as Ne,k as Me,r as Be}from"./chunk-4Y52FA3V.js";import{a as Ve}from"./chunk-XNP3OGQC.js";import{k as Le}from"./chunk-HKU7TMFJ.js";import{a as I}from"./chunk-7I4OPLNV.js";import{f as Ee,m as De,n as Pe}from"./chunk-FGRS6VIX.js";import{Mb as $,Ua as Y,Va as b,ia as be,ja as ve,na as ye,oa as Se,rb as ae,va as K,vd as c,wd as Q}from"./chunk-INIQCRIO.js";import{E as he,G as ke,W as Te,X as xe,m as we}from"./chunk-ZBDGRK4Q.js";import{a as fo}from"./chunk-6PA65BO3.js";import{A as Z,b as U,o as P,r as Ce}from"./chunk-BJKBO23H.js";import{c as ue,f as C,j as E,va as ie}from"./chunk-XFTQD4B2.js";import{a as ge}from"./chunk-GVV6OTQP.js";import{t as D,z as T}from"./chunk-ZFVABNQN.js";import{a as O}from"./chunk-4QGZDIBD.js";import{b as w}from"./chunk-73B6GL3S.js";import{f as m,o as r,q as n}from"./chunk-Y5OH3DDZ.js";r();n();var f=m(w()),Ye=m(fo()),ce=m(O());ie();r();n();var v={root:"_root_tldcp_1",select:"_select_tldcp_11",body:"_body_tldcp_14",item:"_item_tldcp_17",icon:"_icon_tldcp_34",name:"_name_tldcp_38",check:"_check_tldcp_47"};var mo=({key:o,icon:e,name:t,onClick:i,checked:a})=>f.default.createElement(U,{key:o,className:v.item,onClick:i},f.default.createElement(D,{className:`${e} ${v.icon}`,style:{fontSize:32}}),f.default.createElement("span",{className:v.name},t),a?f.default.createElement(Ce.Circle,{checked:!0,className:v.check}):null),po=async()=>{let[o,e]=await ke(Ke({sceneType:0}));if(o)return null;let t=e.data.find(s=>ue(s.chainId)===ae.SOLANA_MAINNET)||{},i=E(t,"nativeTokenInfo.chainId",""),a=E(t,"nativeTokenInfo.tokenContractAddress","");return{chainId:i,address:a}},_o=o=>{let[e,t]=(0,f.useState)(null);return(0,f.useEffect)(()=>{e||o||po().then(i=>{t(i)}).catch(C)},[e,o]),e},uo=({className:o,swapClick:e,bridgeClick:t,memeClick:i})=>{let{isSm:a}=Ve(),s=(0,Ye.useHistory)(),[p,l]=(0,f.useState)(!1),{pathname:g,search:x}=s.location,q=g===Te,R=g===xe,y=q||R,L=g===be,S=g===ve,F=_o(y),V=K(Se),J=K(ye),W=K(""),Qe=K("/bridge");(0,f.useEffect)(()=>{let _=b.SWAP;S&&(_=b.BRIDGE),q&&(_=b.MEME_BUY),R&&(_=b.MEME_SELL),I.set(Y,_)},[]);let eo=()=>{if(I.set(Y,b.MEME_BUY),y&&(i&&i(),l(!1)),L){let _=X(x),no=E(_,"from.chainId",0),io=E(_,"from.tokenContractAddress",""),ao=E(_,"to.chainId",0),so=E(_,"to.tokenContractAddress",""),co=no===F?.chainId&&io===F?.address,lo=ao===F?.chainId&&so===F?.address;co?s.replace(V+ee(X(x))):lo?s.replace(J+ee(X(x))):s.replace(V)}S&&s.replace(V)},oo=()=>{I.set(Y,b.SWAP),e&&e(),L&&l(!1),y&&s.replace(W+ee(X(x))),S&&s.replace(W)},to=()=>{I.set(Y,b.BRIDGE),t&&t(),S&&l(!1),(y||L)&&s.replace(Qe)},_e=[{tab:$.MEME_SWAP,icon:"okx-defi-dex-meme-mode",name:c("swaptrade_trade_bttmsheet_option_meme"),onClick:()=>{eo()},checked:y},{tab:$.SWAP,icon:"okx-defi-dex-advanced",name:c("swaptrade_trade_bttmsheet_option_advanced"),onClick:()=>{oo()},checked:L},{tab:$.BRIDGE,icon:"okx-defi-dex-bridge",name:c("swaptrade_trade_bttmsheet_option_bridge"),onClick:()=>{to()},checked:S}],ro=_e.find(_=>_.checked);return f.default.createElement(f.default.Fragment,null,f.default.createElement(U,{className:(0,ce.default)(o,v.root),onClick:()=>{l(!0)}},f.default.createElement("span",null,ro?.name||"--"),f.default.createElement(D,{className:(0,ce.default)("okx-defi-dex-arrow-down-sincere",v.select),style:{fontSize:12,height:32,width:32}})),f.default.createElement(P.Action,{onClose:()=>{l(!1)},visible:p,title:c("swaptrade_trade_bttmsheet_header_select_mode"),windowStyle:{borderTopLeftRadius:a?16:6,borderTopRightRadius:a?16:6}},f.default.createElement("div",{className:v.body},_e.map(_=>f.default.createElement(mo,{key:_.tab,..._})))))},Xo=we(uo);r();n();var A=m(w());ie();function Zo(o){let{computedAccountId:e,walletConfig:t}=o,[i,a]=(0,A.useState)(!1),s=(0,A.useCallback)(async()=>{if(!e)return;let l=t.address?.join(",")??void 0;await se.loadHiddenTokenConfig(e,l)},[e,t.address]),p=(0,A.useCallback)(async()=>{await se.loadSmallAssetConfig()},[]);return(0,A.useEffect)(()=>{Promise.allSettled([p(),s()]).then(C).catch(C).finally(()=>{a(!0)})},[e]),{loaded:i}}r();n();var N=m(w()),le=m(O());r();n();var oe={wrapper:"_wrapper_1k1o5_1",desc:"_desc_1k1o5_11"};var go=({token:o,className:e,iconClassName:t,showTooltip:i,showDesc:a,iconSize:s=12})=>{let p=Number(o?.riskLevel)===4,l=(0,N.useMemo)(()=>N.default.createElement("div",{className:(0,le.default)(oe.wrapper,e)},N.default.createElement(Oe,{className:(0,le.default)("okx-defi-dex-risky-svg",oe.icon,t),size:s}),a?N.default.createElement("span",{className:oe.desc},c("swaptrade_cefimode_alert_desc_unsafe_token")):null),[a,e,t,s]);return p?i?N.default.createElement(Z,{title:c("swaptrade_cefimode_textarea_unsafe_and_malicious")},l):l:null},dt=go;r();n();var M=m(w()),Ge=m(O());r();n();var u=m(w()),He=m(O());r();n();var Xe={"button-container":"_button-container_wmrwa_1",buttonContainer:"_button-container_wmrwa_1",base:"_base_wmrwa_12","tips-container":"_tips-container_wmrwa_21",tipsContainer:"_tips-container_wmrwa_21",footer:"_footer_wmrwa_30"};var Co=({dialogShow:o,tipsModuleShow:e,isSwapChain:t,swapChainValueDifferenceTooltip:i,crossValueDifferenceTooltipProps:a})=>{let{gasFlag:s,feeUsd:p,quote:l,computedIsFreeNetworkFee:g}=a||{},{crossChainFee:x,toToken:q,bridge:R}=l?.bestRoute||{},y=We(l?.bestRoute),L=()=>{if(t)return u.default.createElement(u.default.Fragment,null,u.default.createElement("p",null,c("swaptrade_card_modal_value_difference_tips")),u.default.createElement("p",null,i));let V=u.default.createElement("p",null,c(s?"swaptrade_card_modal_value_difference_details1":"swaptrade_card_modal_value_difference_tips"));if(g)return u.default.createElement(u.default.Fragment,null,V,u.default.createElement("p",null,c("swaptrade_pop_dialog_desc_value_diff_bridgeprovider")));let J=Ee(x,{needPlaceholder:!0}),W=R?.crossToToken?.tokenSymbol;return Ie()||!y?u.default.createElement("p",null,he(c("swaptrade_servicefee_dialog_value_differ",{bridge:R?.bridgeName,value:p,amount:J,symbol:W}))):u.default.createElement("p",null,c("swaptrade_servicefee_dialog_value_diff",{bridge:R?.bridgeName,value:p,amount:J,symbol:W,toChain:q?.chainName}))},S={title:c("swaptrade_modal_title_value_diff"),mobileWidth:"328",visible:e,confirmText:c("swaptrade_card_btn_value_difference_gotit"),onConfirm:()=>{o(!1)},onClose:()=>{o(!1)}},F=u.default.createElement("div",{className:(0,He.default)(Xe.tipsContainer)},L());return u.default.createElement(P.Tip,{...S},F)},ze=Co;r();n();var te={default:"_default_hmm0n_1",down:"_down_hmm0n_9",up:"_up_hmm0n_13"};var wo=({valueDifference:o,isSwapChain:e,crossValueDifferenceTooltipProps:t,swapChainValueDifferenceTooltip:i})=>{let[a,s]=(0,M.useState)(!1),{diffPercent:p,diffValueType:l}=o;return M.default.createElement("div",{className:"flex align-items-center"},l!=="hidden"&&M.default.createElement(Z,{title:i,disabled:!e||!i},M.default.createElement(U,{"data-testid":"diff-input",className:(0,Ge.default)("ml-4","content-contrast","keep-ltr",te.default,{[te.up]:l==="up",[te.down]:l==="down"}),onClick:()=>{Me({button_name:"value_difference"}),s(!0)}},`(${p})`)),M.default.createElement(ze,{dialogShow:g=>{s(g)},tipsModuleShow:a,isSwapChain:e,swapChainValueDifferenceTooltip:i,crossValueDifferenceTooltipProps:t}))},Xt=wo;r();n();var H=m(w()),fe=m(O());r();n();r();n();var ho=async()=>await j.getWalletType()===j.walletTypeEnum.OKX_WALLET;var re=async()=>{try{return await ho()?(await(await j.getWalletProvider())?.requestWallets()??{})[0]?.targetWalletId??null:null}catch{return null}};var qe=async({dexMode:o,tokenPair:e,originalServiceFeeRate:t,discountedServiceFeeRate:i})=>{let a=await re();Be({wallet_id:a,referral_code:h.refCode,dex_mode:o,token_pair:e,fee_rate_before_code:t,invitee_discount:i})},Je=async({dexMode:o,tokenPair:e,originalServiceFeeRate:t,discountedServiceFeeRate:i})=>{let a=await re();Re({wallet_id:a,referral_code:h.refCode,dex_mode:o,token_pair:e,fee_rate_before_code:t,invitee_discount:i})};var Ze=async({dexMode:o,tokenPair:e,originalServiceFeeRate:t,discountedServiceFeeRate:i,btnName:a})=>{let s=await re();Ne({wallet_id:s,referral_code:h.refCode,dex_mode:o,token_pair:e,fee_rate_before_code:t,invitee_discount:i,button_name:a})};r();n();var de={referralTag:"_referralTag_wkv6n_1",icon:"_icon_wkv6n_13"};var ko=({className:o,dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a})=>((0,H.useEffect)(()=>{qe({dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a})},[]),H.default.createElement("div",{className:(0,fe.default)(de.referralTag,o)},H.default.createElement(D,{className:(0,fe.default)(de.icon,"okx-defi-referral")}),c("swaptrade_placeorder_tag_referral"))),hr=ko;r();n();var pe=m(w());ie();r();n();var $e=o=>{if(!o)return;let t={[o.toUpperCase()]:!0};I.set(Fe,t)};r();n();var k=m(w());r();n();var B={dialogContent:"_dialogContent_1vyih_1",dialogTitle:"_dialogTitle_1vyih_7",dialogDesc:"_dialogDesc_1vyih_14",btnWrapper:"_btnWrapper_1vyih_20",refCode:"_refCode_1vyih_27"};var To=({titleKey:o,descKey:e,refCode:t,refInfo:i,confirmTextKey:a,cancelTextKey:s,onConfirm:p,onCancel:l})=>k.default.createElement("div",{className:B.dialogContent},k.default.createElement(ge,{width:128,height:128,src:Le(Ue()?"/cdn/assets/imgs/259/71D5A4042455ED22.png":"/cdn/assets/imgs/259/ABA5EC26AEF4A0F2.png"),alt:"ref-code-stop"}),k.default.createElement("div",{className:B.dialogTitle},c(o)),k.default.createElement("div",{className:B.dialogDesc},Q(e,{code:k.default.createElement("span",{className:B.refCode},t),discountNum:k.default.createElement("span",{className:B.discountNum},Pe(i?.discountRate))})),k.default.createElement("div",{className:B.btnWrapper},k.default.createElement(T,{category:T.CATEGORY.fill,type:T.TYPE.highlight,size:T.SIZE.xl,block:!0,onClick:p},c(a)),k.default.createElement(T,{category:T.CATEGORY.outline,type:T.TYPE.primary,size:T.SIZE.xl,block:!0,onClick:l},c(s)))),me=To;var xo=({onStop:o,onBtnClick:e})=>{if(!h.refInfo)return;let{refInfo:t,refCode:i}=h,a=P.show({children:pe.default.createElement(me,{titleKey:"swaptrade_placeorder_modaltitle_code_removed",descKey:"swaptrade_placeorder_modaldesc_code_removed_from_tnx",refCode:i,refInfo:t,confirmTextKey:"swaptrade_placeorder_modalbtn_no_keep_using",cancelTextKey:"swaptrade_placeorder_modalbtn_yes_stop_using",onConfirm:()=>{e("keep_using"),a.destroy()},onCancel:()=>{e("stop_using"),o?.(t),$e(i),h.clearRefInfo(i),a.destroy()}}),onClose:()=>{e("exit"),a.destroy()},width:420})},$r=({onStop:o,dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a})=>{if(!h.refInfo)return;Je({dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a}).then(C).catch(C);let s=x=>{Ze({dexMode:e,tokenPair:t,originalServiceFeeRate:i,discountedServiceFeeRate:a,btnName:x}).then(C).catch(C)},{refCode:p,refInfo:l}=h,g=P.show({children:pe.default.createElement(me,{titleKey:"swaptrade_placeorder_modaltitle_code_applied",descKey:"swaptrade_placeorder_modaldesc_code_transaction_auto",refCode:p,refInfo:l,confirmTextKey:"commonall_text_btn_ok_active",cancelTextKey:"swaptrade_placeorder_modalbtn_dont_use",onConfirm:()=>{s("ok"),g.destroy()},onCancel:()=>{s("do_not_use_code"),g.destroy(),xo({onStop:o,onBtnClick:s})}}),onClose:()=>{s("exit"),g.destroy()},width:420})};r();n();var nn=({specialValueRangePrompt:o,isOfflineType:e,isReferredFee:t,extendFeeConfig:i})=>{let a=o?c("swaptrade_intro_dialog_desc_single_value_diff"):c("swaptrade_card_modal_value_difference_tips1");return e?c("swaptrade_pop_dialog_desc_value_diff_cover"):t?c("swaptrade_card_dialog_price_diff",{thirdParty:Ae().iframe_referrer,value:De(i?.feePercent,{needZero:!1})}):a};r();n();var G=m(w());r();n();var ne=m(w());var je=({isUp:o=!1,children:e,customClassName:t="",isZero:i=!1})=>{let a=(0,ne.useMemo)(()=>i?{}:{color:o?"var(--color-up-text)":"var(--color-down-text)"},[i,o]);return ne.default.createElement("span",{className:t,style:a},e)};r();n();var z={container:"_container_17xnn_1",icon:"_icon_17xnn_10",error:"_error_17xnn_15","error-color":"_error-color_17xnn_18",errorColor:"_error-color_17xnn_18"};var xn=({loseDiffValueTxt:o,isUp:e})=>G.default.createElement("div",{className:z.container},G.default.createElement(D,{fontSize:"28px",iconName:"okds-warning-circle-fill",className:z.icon}),G.default.createElement("span",{className:z.error},Q("swaptrade_valuediff_select_title_one_value",{value:G.default.createElement(je,{customClassName:z.errorColor,isUp:e},o)})));export{Xt as a,nn as b,dt as c,xn as d,Xo as e,hr as f,$r as g,Zo as h};
//# sourceMappingURL=chunk-O2ACG5GT.js.map
