import{a as L,b as e}from"./chunk-HW7PF3XP.js";import{a as N}from"./chunk-Z5IYSPVF.js";import{a as T}from"./chunk-UYJBEFNU.js";import{h as C}from"./chunk-QKBWJPY2.js";import{b as A}from"./chunk-4ZSKRAEE.js";import{c as R}from"./chunk-OOYDFTEF.js";import{a as y}from"./chunk-6XGS36TZ.js";import{Na as H}from"./chunk-2QHGKEME.js";import{c as l}from"./chunk-HMTT52FG.js";import{A as u,K as k,r as I}from"./chunk-VZKEX7KP.js";import{H as m}from"./chunk-BJKBO23H.js";import{s as d,va as W}from"./chunk-XFTQD4B2.js";import{b as g}from"./chunk-73B6GL3S.js";import{f as E,o as i,q as a}from"./chunk-Y5OH3DDZ.js";i();a();var p=E(g());k();function P(){let n=A(),r=(0,p.useCallback)((o=5)=>{m.error({key:"serverLimitError",title:u("wallet_extension_home_notif_network_high_traffic"),duration:o,placement:m.DIRECTION.top})},[]),t=(0,p.useCallback)((o,s=5)=>{m.error({key:"customAlert",title:o,duration:s,placement:m.DIRECTION.top})},[]),c=(0,p.useCallback)((o,s)=>{switch(o){case e.CREATE_FAIL_FROM_NETWORK_ERROR:case e.ERR_NETWORK:n();break;case e.CREATE_FAIL_FROM_SERVER_LIMIT:case e.ERR_SERVER_LIMIT:r();break;case e.CREATE_FAIL_FROM_SERVER_ERROR:t(s);break;case e.ERR_SERVER_TINE_LIMIT:t(u("wallet_extension_error_check_device_time"));break;case e.ERR_SERVER_COMMON:t(s);break;default:break}},[t,n,r]);return{customAlert:t,serverLimitAlert:r,networkAlert:n,showErrorAlert:c}}var w=P;i();a();var h=E(g()),F=E(H());W();k();i();a();var f={refreshWrapper:"_refreshWrapper_1p4ns_1",refresh:"_refresh_1p4ns_1",loading:"_loading_1p4ns_26",rotate:"_rotate_1p4ns_1"};var fe=({className:n="",handleRefresh:r,onRefresh:t,status:c})=>{let o=(0,F.useDispatch)(),s=T(),b=async()=>{I.trigger(N)},{showErrorAlert:S}=w(),{successHaptic:O,impactHaptic:v}=y(),D=d(async()=>{t?.(),r("loading"),v();try{await Promise.all([o(C()),s(),b()]),r("success"),O()}catch(_){let{type:M,msg:B}=L(_);S(M,B),r("error")}},800,{leading:!0});return h.default.createElement(l.FlexBox,{align:l.ALIGN.center,justify:l.ALIGN.center,className:`${f.refreshWrapper} ${n}`,style:{visibility:c==="hidden"?"hidden":"visible"},onClick:_=>{_.stopPropagation(),c!=="loading"&&D()}},h.default.createElement(R,{size:R.SIZE.xs,icon:"okx-wallet-plugin-refresh",className:`${f.refresh} ${c==="loading"&&f.loading}`}))};export{w as a,fe as b};
//# sourceMappingURL=chunk-7X2CMAJK.js.map
