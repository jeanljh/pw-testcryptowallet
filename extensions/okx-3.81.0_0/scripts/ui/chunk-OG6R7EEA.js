import{a as Ft}from"./chunk-ZOPVBPAO.js";import{a as ht}from"./chunk-XIUQW5OS.js";import{a as Et}from"./chunk-RNB6EWQY.js";import{a as wt}from"./chunk-MJKLSIQL.js";import{a as kt}from"./chunk-7F5XJ2TU.js";import{a as At}from"./chunk-62VQDLH5.js";import{b as dt,c as Tt,d as xt,e as gt,f as yt,h as Ct,i as St}from"./chunk-QNQLOUVT.js";import{a as ct}from"./chunk-ZZ5BEB5E.js";import{a as lt}from"./chunk-EDJJACNG.js";import{a as _t}from"./chunk-PONOZOFT.js";import{a as c,c as C,d as ft}from"./chunk-KQ6OPOXD.js";import{a as ut}from"./chunk-DEJA7CK3.js";import{b as G}from"./chunk-RGPNT5G7.js";import{d as rt,f as nt,g as it,h as st,j as at,l as pt,m as mt}from"./chunk-Q7DF5H6O.js";import{d as ot}from"./chunk-ZDHJHPQ5.js";import{c as tt}from"./chunk-7HYQ2DGP.js";import{a as R}from"./chunk-UOWKDFTX.js";import{b as et}from"./chunk-7MCLPJAH.js";import{a as $,u as p}from"./chunk-FGAB46RQ.js";import{a as X}from"./chunk-MAAUVUWY.js";import{c as k}from"./chunk-WU2LB6XB.js";import{c as V,d as J,e as Q,f as N}from"./chunk-EZS2GR7E.js";import{b as Z,k as K}from"./chunk-EFOY37CC.js";import{c as P}from"./chunk-HMTT52FG.js";import{A as n,K as A}from"./chunk-VZKEX7KP.js";import{d as q}from"./chunk-BJKBO23H.js";import{f as H,va as zt}from"./chunk-XFTQD4B2.js";import{a as Ht}from"./chunk-4QGZDIBD.js";import{b as g}from"./chunk-73B6GL3S.js";import{f as T,o,q as r}from"./chunk-Y5OH3DDZ.js";o();r();o();r();var vt=T(g());A();var Zt=({loading:t,kysRet:e})=>{let i=e?.intention?.contract?.[0],m=!i||i?.supportIntentionFlag==="UNKNOWN";return(0,vt.useCallback)(()=>!t&&m&&!e?.assetChange?.length?{type:q.TYPE.warn,message:n("wallet_extension_transaction_title_unknown_asset")}:null,[e?.assetChange?.length,m,t])},It=Zt;var Kt=({baseCoin:t={},kysRet:e={},verifyGasLimitRet:i={},estimateFailed:m=!1,estimateFailedMsg:f=null,isSufficientGas:a=!0,isSufficientBalance:_=!0,coinWithBalance:d={}}={},y={})=>{let{isBalanceLoadError:x,coinAmount:U}=d,I=Tt({isBalanceLoadError:x}),L=dt({estimateFailed:m,estimateFailedMsg:f}),b=xt({verifyGasLimitRet:i}),E=gt({kysRet:e}),O=yt({kysRet:e}),W=Ct({baseCoin:t,isSufficientGas:a,coinAmount:U}),B=St({isSufficientBalance:_}),D=It({kysRet:e,loading:e?.loading}),{pre:Mt=[],post:Gt=[],custom:jt}=y,Y=jt||[...Mt,L,b,I,W,B,E,O,D,...Gt];for(let M=0;M<Y.length;M++){let Yt=Y[M],z=Yt();if(z)return z}return null},me=Kt;o();r();var Dt=T(g());o();r();var s=T(g());zt();A();o();r();A();var qt=(t,e="")=>R.DEPLOY_CONTRACT===e?n("wallet_transfer_dapp_conncetion_subtitle_contracrt_deployment"):t?.contract?.[0]?.intentionTypeLanguageText||n("wallet_extension_transaction_page_title_unknown_transaction"),Lt=qt;o();r();var S=T(g());o();r();var F=T(g());A();o();r();var Pt=T(g());o();r();var Nt={root:"_root_1wfix_1"};var $t=({text:t,type:e=p.TYPE.secondary})=>{let i=lt();return Pt.default.createElement(p.Text,{forceWrap:!0,size:p.SIZE.xs,type:e,className:Nt.root,onClick:()=>{i(t)}},t)},w=$t;o();r();var j=T(g());A();var Vt=({approveInfo:t})=>{let e=t?.addressType===mt.eoa&&st(t?.approvalType)?p.TYPE.danger:p.TYPE.secondary;return j.default.createElement(C,{title:n("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.imageUrl||J},title:t.name||N,desc:j.default.createElement(w,{text:t.address,type:e})}]})},h=Vt;var Jt=({approveInfo:t})=>F.default.createElement(c,null,F.default.createElement(C,{title:n(it(t.approvalType)?"extension_approve_maintitle_approve":"extension_revoke_approval_maintitle_revoke_approval"),summaryList:[{icon:{src:t.asset?.imageUrl||Q},title:t.asset?.name||N,desc:F.default.createElement(w,{text:t.asset?.address})}]}),F.default.createElement(h,{approveInfo:t})),Ut=Jt;o();r();var u=T(g()),bt=T(Ht());A();o();r();var v={approve:"_approve_ojrap_1",title:"_title_ojrap_1",titleContent:"_titleContent_ojrap_6",warning:"_warning_ojrap_10"};var Qt=t=>{typeof t!="string"&&(t=t.toString());let e=t?.length;return e<=15?30:e<=16?28:e<=17?26:e<=18?24:e<=20?22:e<=21?20:e<=23?18:e<=25?16:e<=29?14:12},Xt=({approveInfo:t,editBtnSlot:e=null,authAmount:i})=>{let{symbol:m,decimals:f,imageUrl:a=V}=t?.asset||{},{approvalRaw:_}=t||{},d=i||Z(X(_),K.pow(10,f));if([k.AUTHORIZATION,k.INCREASE_ALLOWANCE,k.COMMON_APPROVE].includes(t.approvalType)){let y=tt(d),x=`${y?n("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):$(d,{precision:f}).value} ${m}`;return u.default.createElement(c,{className:v.approve},u.default.createElement(C,{title:n(t.approvalType===k.INCREASE_ALLOWANCE?"wallet_extension_approve_text_increase_approval_amount":"extension_approve_maintitle_approve"),summaryList:[{title:u.default.createElement(P.Box,{className:v.title},u.default.createElement(p.AdaptiveText,{text:x,className:(0,bt.default)(v.titleContent,{[v.warning]:y}),autoSize:Qt,ellipsis:{tooltip:!0}},x),e),desc:!!y&&u.default.createElement(p.Text,{size:p.SIZE.xs,type:p.TYPE.warnig},n("wallet_extension_transfer_text_unlimited_approval_risk")),icon:{src:a},descSize:p.SIZE.xs}]}),u.default.createElement(h,{approveInfo:t}))}return u.default.createElement(c,null,u.default.createElement(C,{title:n(t.approvalType===k.CANCEL_AUTHORIZATION?"extension_revoke_approval_maintitle_revoke_approval":"wallet_extension_approve_text_reduce_approval_amount"),summaryList:[{desc:u.default.createElement(w,{text:t.asset?.address}),title:t.asset?.symbol,icon:{src:t.asset?.imageUrl}}]}),u.default.createElement(h,{approveInfo:t}))},Ot=Xt;var Rt=({kysRet:t,dappInfo:e,showDappInfo:i=!0})=>{let{approveList:m,assetChange:f,txType:a}=t,{loading:_}=t;if(_)return S.default.createElement(ht,null);let d=m?.[0]||{};return nt(a)?S.default.createElement(Ut,{approveInfo:d}):rt(a)?S.default.createElement(Ot,{approveInfo:d}):at(a)?S.default.createElement(Ft,{assetChange:f,dappInfo:e,showDappInfo:i}):i?S.default.createElement(c,null,S.default.createElement(Et,{...e})):null},Wt=Rt;var te=({kysRet:t={},loading:e=!1,dappInfo:i,showDappInfo:m=!0,walletId:f,fromAddress:a,networkFee:_,tipMessage:d,buttonGroup:y,contractAddress:x,showNetworkFee:U=!0,chainTxDetailSlot:I=null,onAddressCopy:L=H,slot:b,backable:E=!1,onBack:O,asPage:W})=>{let{top:B}=b||{},D=Lt(t?.intention);return(0,s.useEffect)(()=>{E||wt.hide()},[E]),e?s.default.createElement(At,null):s.default.createElement(P.Container,null,s.default.createElement(ot,{backable:E,closeable:!1,title:D,loading:t?.loading,useTgEffect:!1,onBack:O,asPage:W}),B,s.default.createElement(Wt,{kysRet:t,dappInfo:i,showDappInfo:m}),U&&s.default.createElement(c,null,s.default.createElement(ut,{useTransition:!1,..._})),s.default.createElement(c,{bordered:!!I},s.default.createElement(G,{address:a,walletId:f,title:n("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{L({type:"from",address:a})}}),x&&s.default.createElement(G,{address:x,title:n("wallet_extension_popup_text_interact_with"),onCopyCallback:()=>{L({type:"to",address:x})}})),I,s.default.createElement(et,{placeholder:!0,offsetBottom:0,borderTop:!0},s.default.createElement(ft,{...d}),s.default.createElement(pt,{buttonGroup:y})))},Bt=te;var ee=t=>{let{unapproved:e,backable:i=!1,...m}=t,f=ct(e),a=_t(e),_=kt({walletId:a.walletId});return Dt.default.createElement(Bt,{backable:i,onAddressCopy:_,dappInfo:f,walletId:a.walletId,fromAddress:a.address,...m})},Qo=ee;export{me as a,Qo as b};
//# sourceMappingURL=chunk-OG6R7EEA.js.map
