import{a as xe,b as Te}from"./chunk-PRXCTTVN.js";import"./chunk-GZ5TAKC7.js";import{a as Ho}from"./chunk-7KHIPD5T.js";import{a as ge}from"./chunk-QXMLTUW3.js";import{a as Wo}from"./chunk-XRMLFEEQ.js";import"./chunk-NTAM5KQ5.js";import{d as fe}from"./chunk-BNS5ABAB.js";import{d as ue}from"./chunk-ZDHJHPQ5.js";import"./chunk-NI73NP7N.js";import"./chunk-WY5R5HAR.js";import"./chunk-TF4QEXO7.js";import"./chunk-CHMHYYPI.js";import{d as ie,g as se}from"./chunk-JBNHZ7EW.js";import{a as ce,b as pe,h as D}from"./chunk-GDQAWT2G.js";import{a as Lo}from"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import"./chunk-V7ZNWTMX.js";import"./chunk-MSP5TDR3.js";import"./chunk-VWGNVM37.js";import"./chunk-QKBWJPY2.js";import"./chunk-XFPD3Q2E.js";import"./chunk-AFJBSSNA.js";import"./chunk-3ZKJXYZ4.js";import"./chunk-GEL5KEYP.js";import{c as oo}from"./chunk-EBRJSEEJ.js";import"./chunk-PA7QUJH7.js";import"./chunk-MC7IOE6A.js";import"./chunk-N4IVZOUG.js";import"./chunk-JWVIZID6.js";import"./chunk-33XRMYWN.js";import{m as ko}from"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import"./chunk-WRVJM3F3.js";import"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import{c as A}from"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import{a as me}from"./chunk-XRCQOGA2.js";import"./chunk-SWUBCABA.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import{h as R,k as vo}from"./chunk-44SDMU5C.js";import{d as de}from"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import{b as _e}from"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import{h as Q,j as X}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{n as le,u as o}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import"./chunk-Z62JX42S.js";import{C as J,E as re,Na as F,aa as Ao}from"./chunk-2QHGKEME.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import{a as ae,b as Fo,g as k,h as Mo,i as So}from"./chunk-EZS2GR7E.js";import{j as ne,q as Ze}from"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import{c as G,e as Oo}from"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import{c as i}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{H as jo,J as ze,Ja as L,Q as O,R as Y,S as U,Sb as Ge,T as $,Ub as oe,V as qo,W as Ko,Xb as po,Y as Jo,Z as Qo,_b as ee,ac as te,da as ao,ja as Xo,ka as wo,la as mo,na as S,nc as Ve,ra as lo,tb as No,vb as Ro,wa as co}from"./chunk-COF7YKSN.js";import{A as m,K as N}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{A as Co,E as $o,H as so,o as Uo}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import{a as E}from"./chunk-GVV6OTQP.js";import{t as Yo,z as io}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import"./chunk-4QGZDIBD.js";import{b as y}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as d,o as e,q as t}from"./chunk-Y5OH3DDZ.js";e();t();var b=d(y()),no=d(F());N();Oo();Ze();e();t();var he=d(y());Oo();var ye=d(F());var Po=({origin:r})=>{let n=(0,ye.useSelector)(({metamask:p})=>p.silence||{});return{removeSilencePermission:(0,he.useCallback)(async()=>{await G().removeSilencePermission(r)},[r]),silencePermissions:n[r]||[]}};e();t();e();t();var Zo=d(y()),Me=d(F());e();t();var C=d(y()),Io=d(F());N();e();t();var eo=d(y());e();t();var _o={main:"_main_o5n77_1",icon:"_icon_o5n77_6",logo:"_logo_o5n77_11",content:"_content_o5n77_15",network:"_network_o5n77_22"};function Eo({icon:r,customIcon:n,name:s,content:p=null,disconnect:c,showDisconnect:a=!0,className:x=""}){return eo.default.createElement("div",{className:`${_o.main} ${x}`},n||eo.default.createElement(A,{src:r,text:s,size:A.SIZE.lg,className:_o.logo}),eo.default.createElement("div",{className:_o.content},eo.default.createElement(o.Text,{strong:700,ellipsis:!0},s),p),a&&eo.default.createElement(A.IconButton,{icon:"okx-wallet-plugin-unlink",className:_o.icon,onClick:c}))}e();t();var fo=d(y());N();e();t();var uo={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var Ie=({origin:r})=>{let{removeSilencePermission:n,silencePermissions:s}=Po({origin:r});if(s.findIndex(a=>a.expireTime>Date.now())===-1)return null;let c=async()=>{await n()};return fo.default.createElement(i.Box,{className:uo.wrapper},fo.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:uo.silence},fo.default.createElement(o.Text,{className:uo.text,type:o.TYPE.secondary,size:o.SIZE.xs},m("wallet_extension_connect_text_silent_mode_enabled")),fo.default.createElement(o.Text,{strong:500,className:uo.cancel,size:o.SIZE.xs,onClick:c},m("wallet_extension_connect_btn_cancel"))))};Ve();e();t();var l=d(y()),zo=d(F());N();No();wo();e();t();var M=d(y());N();No();e();t();var V=d(y()),we=d(F());N();ee();e();t();var P=d(y());N();ee();e();t();var q={itemWrapper:"_itemWrapper_guwjx_1",chain:"_chain_guwjx_8",content:"_content_guwjx_11",address:"_address_guwjx_14",amount:"_amount_guwjx_17",active:"_active_guwjx_20"};var Ce=({data:r,active:n,onClick:s})=>{let{addressType:p,userAddress:c,coinAmount:a,currencyAmount:x,localType:f,displayPrecision:g,stableCoin:w}=r;return P.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${q.itemWrapper} ${n&&q.active}`,onClick:s},P.default.createElement(i.Box,{className:q.chain},P.default.createElement(E,{alt:"token",width:32,height:32,src:r?.image||Fo,errorImg:Fo})),P.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:"space-between",className:q.content},P.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical},P.default.createElement(o.Text,{strong:500,className:q.address},m(oe[po?.[f]?.[p]])),P.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs},J(c))),P.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,align:i.ALIGN.unset},P.default.createElement(o.DisplayAmount,{strong:!0,noStyle:!1,amount:a,mode:o.CRYPTO,ellipsis:!0,align:o.ALIGN.right,className:q.amount,displayPrecision:g,stableCoin:w}),P.default.createElement(o.DisplayAmount,{mode:o.LEGAL,size:o.SIZE.xs,type:o.TYPE.secondary,align:o.ALIGN.right,useApproximate:!1,ellipsis:!0},x))))};e();t();var go={main:"_main_dhmjq_1",title:"_title_dhmjq_4",subTitle:"_subTitle_dhmjq_9",dialogContainer:"_dialogContainer_dhmjq_13"};var Ne=({title:r,subTitle:n,visible:s,onClose:p,coinId:c,walletId:a})=>{let x=(0,we.useDispatch)(),f=fe(c),g=de(f?.localType,a),w=ge(f,a),z=g?.map(h=>w.find(B=>po?.[B?.localType]?.[B?.addressType]===h.addressType)).filter(Boolean),Z=ko(f?.localType,a),j=h=>{Z===h.userAddress||!f?.localType||(p(),x(ie(a,{[f?.localType]:po[f?.localType]?.[h?.addressType]})).then(()=>{so.success({title:m("wallet_extension_toast_address_format_changed"),desc:h.userAddress,duration:1.5,placement:so.DIRECTION.top,containerClassName:"address-copy-notification"})}).catch(()=>{}))};return V.default.createElement(Uo.Action,{visible:s,onClose:p,maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},containerClassName:go.dialogContainer,noContentPadding:!1},V.default.createElement(i.Box,{className:go.main},V.default.createElement(V.default.Fragment,null,V.default.createElement(o.Text,{strong:700,className:go.title},r),V.default.createElement(o.Text,{className:go.subTitle,size:o.SIZE.sm,type:o.TYPE.secondary},n)),z?.map((h,B)=>V.default.createElement(Ce,{key:h?.addressType||B,data:h,active:Z===h?.userAddress,onClick:()=>j(h)}))))};e();t();var to={lineItem:"_lineItem_764ku_1",chainIcon:"_chainIcon_764ku_4",networkTitle:"_networkTitle_764ku_7",detail:"_detail_764ku_10",arrow:"_arrow_764ku_13"};var je={[S]:m("wallet_extension_sonic_header_btc_address"),[L]:m("wallet_extension_dapp_address_ton")},H=({localType:r=S})=>{let n=oo({localType:r}),{coinId:s}=n||{},p=ko(r),c=Q(),[a,x]=M.default.useState(!1);return M.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:to.lineItem},M.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,className:to.networkTitle},je[r]),M.default.createElement(E,{width:16,height:16,alt:"chain",src:n?.imageUrl||k,errorImg:k,pictureClassName:to.chainIcon}),M.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:to.detail,onClick:()=>{x(!0)}},M.default.createElement(o.Text,{size:o.SIZE.xs},J(p)),M.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${to.arrow}`,size:A.SIZE.xxs})),M.default.createElement(Ne,{visible:a,onClose:()=>x(!1),coinId:s,walletId:c,title:m("extension_defi_top_header_title_select_address_type"),subTitle:m("extension_defi_popup_desc_new_address_default_icu",{chainName:n?.name})}))};e();t();var I=d(y()),Ae=d(F());N();Oo();ze();wo();e();t();var K={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};var u=({providerType:r,isAllchain:n=!1})=>{let s=Te({providerType:r}),{title:p,icon:c,chainName:a}=s,[x,f]=(0,I.useState)(!1),g=(0,Ae.useSelector)(D);return I.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:K.wrapper},I.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:K.title},p),n?I.default.createElement(o.Text,{type:o.SIZE.xs},m("wallet_extension_sonic_desc_all_networks")):I.default.createElement(I.default.Fragment,null,I.default.createElement(E,{width:16,height:16,alt:"chain",src:c||k,errorImg:k,pictureClassName:K.chainIcon}),I.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:K.switchNetwork,onClick:()=>f(!0)},I.default.createElement(o.Text,{size:o.SIZE.xs},a),I.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${K.arrow}`,size:A.SIZE.xxs}))),I.default.createElement(Wo,{visible:x,providerType:r,onClose:()=>f(!1),origin:g?.origin,onBeforeNetworkChange:()=>G().recordChainIdHandler({method:jo})},I.default.createElement(Wo.Header,{title:m("wallet_extension_title_switch_network"),subTitle:r===O?m("wallet_extension_evm_desc"):m("wallet_extension_aptos_toast_manually_switch_network",{network:a})})))},Ye=({chainName:r})=>I.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:K.tip},m("wallet_extension_sonic_toast_manually_switch_network",{network:r}));u.Tip=Ye;e();t();var ro=d(y());N();e();t();var xo={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var To=({showImage:r=!0,info:n})=>ro.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:xo.lineItem},ro.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:xo.title},m("wallet_extension_card_dropdown_available_network",{network:""})),r&&ro.default.createElement(E,{width:16,height:16,alt:"chain",src:n.image||k,errorImg:k,pictureClassName:xo.chainIcon}),ro.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:xo.switchNetwork},ro.default.createElement(o.Text,{size:o.SIZE.xs},n.chainName||"")));e();t();var Se={headerTip:"_headerTip_tbl1j_1"};var ke=({isAllchain:r,isCurrentDappConnect:n})=>{let s=X(),p=Q(),c=(0,zo.useSelector)(D),x=(0,zo.useSelector)(z=>vo(z,c?.origin,p))?.providerType||"",f=So[x],g=oo({localType:f}),w=()=>l.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:Se.headerTip},m("wallet_extension_dapp_subtitle_switch_btc_ton"));if(!n)return l.default.createElement(l.default.Fragment,null,w(),s?.account[mo]&&l.default.createElement(u,{providerType:O}),s?.account[lo]&&l.default.createElement(l.default.Fragment,null,l.default.createElement(u,{providerType:Y}),l.default.createElement(u,{providerType:U})),s?.account[co]&&l.default.createElement(u,{providerType:$}),s?.account[S]&&l.default.createElement(H,{localType:S}),s?.account[L]&&l.default.createElement(H,{localType:L}));if(r)return l.default.createElement(l.default.Fragment,null,w(),s?.account[mo]&&l.default.createElement(u,{providerType:O,isAllchain:r}),s?.account[lo]&&l.default.createElement(l.default.Fragment,null,l.default.createElement(u,{providerType:Y}),l.default.createElement(u,{providerType:U})),s?.account[co]&&l.default.createElement(u,{providerType:$}),s?.account[S]&&l.default.createElement(H,{localType:S}),s?.account[L]&&l.default.createElement(H,{localType:L}));switch(x){case O:case Mo["okx6963-provider"]:case Mo["ethereum-provider"]:return l.default.createElement(u,{providerType:O});case Y:case Ko:return l.default.createElement(l.default.Fragment,null,l.default.createElement(u.Tip,{chainName:g?.chainName}),l.default.createElement(u,{providerType:Y}));case U:return l.default.createElement(l.default.Fragment,null,l.default.createElement(u.Tip,{chainName:m("wallet_extension_approval_subtitle_placeholder_svm")}),l.default.createElement(u,{providerType:U}));case $:case Jo:return l.default.createElement(l.default.Fragment,null,l.default.createElement(u.Tip,{chainName:g?.chainName}),l.default.createElement(u,{providerType:$}));case Qo:case ao:return l.default.createElement(H,{localType:g?.localType});case Xo:return l.default.createElement(H,{localType:L});case qo:return l.default.createElement(To,{info:{chainName:m("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return l.default.createElement(To,{info:{image:g?.imageUrl,chainName:g?.chainName}})}};e();t();var T=d(y()),bo=d(F());No();wo();e();t();var ho=d(y());N();No();wo();e();t();var W=d(y());N();e();t();Ge();function ve(){let r=Ro;return{address:me(r)||"",localType:r}}e();t();var Go={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var Le=({walletId:r,network:n})=>{let{address:s}=ve(),[p,c]=W.default.useState(!1),a=n?.coinId;return W.default.createElement(W.default.Fragment,null,W.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Go.wrapper,onClick:()=>{c(!0)}},W.default.createElement(o.Text,{size:o.SIZE.xs},J(s)),W.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${Go.arrow}`,size:A.SIZE.xxs})),W.default.createElement(Ho,{visible:p,onClose:()=>c(!1),coinId:a,walletId:r},W.default.createElement(Ho.Header,{title:m("extension_defi_top_header_title_select_address_type"),subTitle:m("extension_defi_popup_desc_new_address_default")})))};e();t();var Do={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var Pe=({provider:r})=>{let n=r===ao?So[ao]:S,s=Q(),p=oo({localType:n});return ho.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Do.lineItem},ho.default.createElement(o.Text,{size:o.SIZE.xs,type:o.TYPE.secondary,className:Do.networkTitle},m("wallet_extension_sonic_header_btc_address")),ho.default.createElement(E,{width:16,height:16,alt:"chain",src:p?.imageUrl||k,errorImg:k,pictureClassName:Do.chainIcon}),ho.default.createElement(Le,{walletId:s,network:p}))};var Ue=({isCurrentDappConnect:r,isAllchain:n})=>T.default.createElement(u,{providerType:O,isAllchain:r?n:!1}),$e=()=>T.default.createElement(H,{localType:L}),qe=()=>{let r=(0,bo.useSelector)(Lo),n=r?.length?r[0]:{};return T.default.createElement(To,{info:{image:n?.image,chainName:n?.chainName}})},Ke=()=>{let r=(0,bo.useSelector)(Lo),n=r?.length?r[0]:{};return T.default.createElement(T.default.Fragment,null,T.default.createElement(u.Tip,{chainName:n?.chainName}),T.default.createElement(u,{providerType:Y}),T.default.createElement(u,{providerType:U}))},Je=()=>{let r=(0,bo.useSelector)(Lo),n=r?.length?r[0]:{};return T.default.createElement(T.default.Fragment,null,T.default.createElement(u.Tip,{chainName:n?.chainName}),T.default.createElement(u,{providerType:$}))},Ee=({isAllchain:r,isCurrentDappConnect:n,provider:s})=>{let p=X(),c=a=>!!p?.account?.[a];return c(mo)?T.default.createElement(Ue,{isCurrentDappConnect:n,isAllchain:r}):c(S)?T.default.createElement(Pe,{provider:s}):c(lo)?T.default.createElement(Ke,null):c(co)?T.default.createElement(Je,null):c(L)?T.default.createElement($e,null):T.default.createElement(qe,null)};e();t();var yo={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var De=({activeTab:r,removeAccount:n,domain:s})=>{let p=(0,Io.useSelector)(R),c=(0,Io.useSelector)(Ao),a=X(c),x=(0,Io.useSelector)(j=>vo(j,r?.origin,c)),f=(0,C.useMemo)(()=>a?.keyringIdentityType===te.PRIVATE_KEY,[a]),g=(0,C.useMemo)(()=>Boolean((p||[]).find(j=>j.origin===r?.origin)),[p,r]),w=(0,Io.useSelector)(ce),z=(0,C.useMemo)(()=>w[r?.origin]?.isOkx,[w,r]),Z=!x?.baseChain||z;return C.default.createElement(i.Box,{className:yo.main},C.default.createElement(i.FlexBox,{align:i.ALIGN.center},C.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs},m("wallet_extension_header_subtitle_current_dapp")),C.default.createElement(Co,{title:m("wallet_extension_toast_tooltip_adjust_retry"),trigger:Co.TRIGGER_TYPES.hover,placement:Co.DIRECTION.bottom,className:yo.tooltip},C.default.createElement(Yo,{className:`okx-wallet-plugin-question-mark_filled ${yo.tipIcon}`}))),C.default.createElement(Eo,{className:yo.connectedItem,customIcon:C.default.createElement($o,{alt:"connected",src:r?.icon||"/static/images/default-img.svg",errorImg:ae,className:"connect-site-page__origin-icon"}),name:s,disconnect:()=>n(r?.origin),showDisconnect:g}),f?C.default.createElement(Ee,{isAllchain:Z,isCurrentDappConnect:g,provider:x?.providerType||""}):C.default.createElement(ke,{isAllchain:Z,isCurrentDappConnect:g}),C.default.createElement(Ie,{origin:r?.origin}))};e();t();var v=d(y()),Bo=d(F());e();t();var Vo=d(y());N();e();t();var be={main:"_main_ntvor_1"};var Qe=({connectedDomains:r,onDisconnect:n,domainHostCount:s})=>{let p=a=>n(a.origin),c=a=>a.extensionId?m("wallet_dapp_conncetion_subtitle_external_extension"):s[a.host]>1?a.origin:re(a.origin);return Vo.default.createElement("main",{className:be.main},r.map(a=>Vo.default.createElement(Eo,{key:a.origin,icon:a.icon,name:c(a),disconnect:()=>p(a)})))},Be=Qe;N();e();t();var Oe={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var Xe=({loading:r,emptyText:n,onRemoveAccount:s,onRemoveAllAccount:p,children:c})=>{let a=(0,Bo.useSelector)(D),x=(0,Bo.useSelector)(pe),f=(0,Bo.useSelector)(R),g=(0,v.useMemo)(()=>(f||[]).filter(w=>w.origin!==a?.origin),[f,a]);return v.default.createElement(v.default.Fragment,null,c,!!c&&!!g.length&&v.default.createElement(le,null),!!g.length&&v.default.createElement(i.Box,null,v.default.createElement(i.FlexBox,{align:i.ALIGN.center},v.default.createElement(o.Text,{type:o.TYPE.secondary,size:o.SIZE.xs,className:Oe.connectedText},m("wallet_extension_header_subtitle_connected_dapp"))),v.default.createElement(Be,{domainHostCount:x,connectedDomains:g,onDisconnect:s})),!!f.length&&v.default.createElement(_e.FooterActions,null,v.default.createElement(io,{block:!0,loading:r,size:io.SIZE.lg,type:io.TYPE.highlight,category:io.CATEGORY.fill,onClick:p},m("wallet_extension_withdraw_btn_disconnected"))),!c&&!f.length&&!g.length&&n)},Fe=Xe;var Re=({loading:r,onRemoveAccount:n,onRemoveAllAccount:s})=>{let p=(0,Me.useSelector)(D),c=p?.origin&&p?.origin.replace(/^https?:\/\//iu,"");return Zo.default.createElement(Fe,{loading:r,onRemoveAccount:n,onRemoveAllAccount:s},Zo.default.createElement(De,{activeTab:p,removeAccount:n,domain:c}))},He=Re;var We=He;e();t();var ot=()=>{let r=(0,no.useSelector)(R),n=(0,no.useSelector)(Ao),s=(0,no.useDispatch)(),[p,c]=(0,b.useState)(!1),a=(0,no.useSelector)(D),{removeSilencePermission:x,silencePermissions:f}=Po({origin:a?.origin}),{setDisconnectUpgrade:g,isNeedShowDisconnectUpgrade:w}=xe(),z=(0,b.useCallback)(()=>{w&&(so.success({title:m("wallet_extension_card_subtitle_disconnect_update")}),g())},[w,g]),Z=async h=>{await G().clearCookie(h),await G().removePermittedAllAccount(h),z(),f.length>0&&x(h),await ne(s)},j=()=>{c(!0);try{Promise.all(r.map(B=>(f.length>0&&x(B.origin),G().clearCookie(B.origin)))).catch(()=>{});let h=r.map(async B=>s(se(B.origin,n)));Promise.all([...h]).then(()=>{c(!1),z()}).catch(()=>{c(!1)})}catch{c(!1)}};return b.default.createElement("div",{className:"connect-site-page__wrapper"},b.default.createElement(ue,{title:m("wallet_home_dapp_connection_btn_connect"),closeable:!1}),b.default.createElement(We,{loading:p,onRemoveAccount:Z,onRemoveAllAccount:j}))},fa=(0,b.memo)(ot);export{fa as default};
//# sourceMappingURL=DAppNetworkManage-7YGB5MNU.js.map
