import{e as o,f as r}from"./chunk-LBCITKCK.js";import"./chunk-LVJGLJNA.js";import"./chunk-5F7M5EJ4.js";import{o as u,q as g}from"./chunk-Y5OH3DDZ.js";u();g();var c={getAccount:async({provider:t})=>{let{address:n}=await t?.aptos?.connect();return n},signMessage:async({provider:t,message:n,nonce:a})=>{try{return(await t.aptos.signMessage({message:n,nonce:a}))?.signature}catch(s){throw s}},sendTransaction:async({provider:t,payload:n,cb:a})=>{try{let s=await t.aptos.signAndSubmitTransaction(n),{hash:e}=s;return a&&a(e),e}catch(s){throw s}},getPublicKey:async({provider:t})=>{let n=await t?.aptos?.connect(),{publicKey:a}=n||{};return a},registerAptosCoin:async({provider:t,contractAddress:n})=>{let a={function:"0x1::managed_coin::register",type_arguments:[n],arguments:[],type:"entry_function_payload"};return await c.sendTransaction({provider:t,payload:a})},checkRegStatusAptosCoin:({address:t,contractAddress:n})=>r.post(o.APTOS_ADDRESS_REGISTER_STATUS,{address:t,contractAddress:n}),checkAndRegAptosCoin:async({provider:t,address:n,contractAddress:a})=>{try{let s=await c.checkRegStatusAptosCoin({address:n,contractAddress:a}),{code:e,data:i}=s||{};if(e===0&&i){let{register:p}=i;return p?!0:await c.registerAptosCoin({provider:t,contractAddress:a})}}catch(s){throw s}},getAptosBalance:async({address:t,currency:n})=>{let a=`0x1::coin::CoinStore<${n}>`;try{return(await r.getNormal(`${o.APTOS_GET_RESOURCE}/${t}/resource/${a}`))?.data?.coin?.value}catch(s){throw s}},getAptosTransaction:async t=>(await r.getNormal(`${o.APTOS_GET_TRANSACTION}/${t}`))?.success},_=c;export{_ as default};
//# sourceMappingURL=Aptos-IZ3C6NUU.js.map
