import{a as ut}from"./chunk-ONYNK2VM.js";import{b as st,c as mt,d as lt}from"./chunk-3NE3KUUV.js";import{b as tt,i as ot,k as rt,m as nt,q as at,r as ct}from"./chunk-WRGSQF3V.js";import"./chunk-ELHHHA5F.js";import{e as et}from"./chunk-WD3IVQAU.js";import"./chunk-JVF7GJB3.js";import"./chunk-QKPPTYDW.js";import"./chunk-KPUXAS7Z.js";import"./chunk-IN42FW4K.js";import{e as it}from"./chunk-PQQFVOPL.js";import{a as Re}from"./chunk-WST3WRLT.js";import"./chunk-I4EML244.js";import"./chunk-TJIPZMF7.js";import"./chunk-57D6LCV2.js";import"./chunk-LS6URCUV.js";import"./chunk-OQUE64GQ.js";import"./chunk-AQ4KTATJ.js";import{b as se,k as Qe}from"./chunk-Q7DF5H6O.js";import"./chunk-G23O242T.js";import"./chunk-AQO2BBXJ.js";import"./chunk-GWMNMJND.js";import"./chunk-2VUOGSTW.js";import"./chunk-P4PGYDTS.js";import{a as U}from"./chunk-S7VT2TWF.js";import"./chunk-HBNZZZEG.js";import"./chunk-3W4MTHFJ.js";import"./chunk-L2MGED7F.js";import{a as $e,c as Xe}from"./chunk-BNS5ABAB.js";import"./chunk-UFGJXE4D.js";import{a as je}from"./chunk-7QX2TXNH.js";import{d as ie}from"./chunk-ZDHJHPQ5.js";import"./chunk-DFPRATON.js";import{a as Je}from"./chunk-WY5R5HAR.js";import"./chunk-GTQ5U6DA.js";import"./chunk-TE6AOABI.js";import"./chunk-63UDTGAT.js";import"./chunk-AZ2KZKVQ.js";import"./chunk-VCDDTW7H.js";import"./chunk-UULU72LG.js";import"./chunk-3MTWCI34.js";import"./chunk-E6XUX33V.js";import"./chunk-VTMJYROY.js";import"./chunk-ARK47WR5.js";import"./chunk-BEIWULHW.js";import"./chunk-DOCYQV54.js";import"./chunk-6T3CLU73.js";import"./chunk-STXPU7A6.js";import"./chunk-PFSPFZNW.js";import"./chunk-2JC6L37N.js";import"./chunk-BF6TFHGA.js";import"./chunk-57F7LIJM.js";import"./chunk-7OXXN2FT.js";import"./chunk-RK7WST36.js";import"./chunk-7Q4IDC7V.js";import"./chunk-F57QKCZQ.js";import"./chunk-HIVYZXF3.js";import"./chunk-JALTSNOZ.js";import"./chunk-4Y52FA3V.js";import"./chunk-B6WLGAPL.js";import"./chunk-ZYYACLV7.js";import"./chunk-TQMC5UQS.js";import"./chunk-ANWN6BF6.js";import"./chunk-XNP3OGQC.js";import"./chunk-A2QIZMPL.js";import"./chunk-HKU7TMFJ.js";import"./chunk-YTR7GLCK.js";import"./chunk-7I4OPLNV.js";import"./chunk-J3UBL564.js";import"./chunk-YMYQJ726.js";import"./chunk-FGRS6VIX.js";import"./chunk-INIQCRIO.js";import"./chunk-2P6PTKAN.js";import"./chunk-ZFBXO46L.js";import"./chunk-6Z5HVUBK.js";import"./chunk-ZBDGRK4Q.js";import"./chunk-XIYYKWE3.js";import"./chunk-GN2NRAOV.js";import"./chunk-SFFRTMXL.js";import"./chunk-RLY3NWVP.js";import"./chunk-U3KULTRT.js";import"./chunk-55T2IW2N.js";import"./chunk-WVUOJIBP.js";import"./chunk-JBROAQ6E.js";import"./chunk-LBCITKCK.js";import"./chunk-O4O5AL3V.js";import"./chunk-I56NHY6E.js";import"./chunk-VEPTXEII.js";import"./chunk-A5U7X3LN.js";import"./chunk-QJ36ZOFH.js";import"./chunk-7HYQ2DGP.js";import"./chunk-G7XOYBNH.js";import"./chunk-JHO7RU36.js";import"./chunk-UOWKDFTX.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import"./chunk-F2SPBGOT.js";import{e as G}from"./chunk-SYOIP55B.js";import"./chunk-V7ZNWTMX.js";import"./chunk-MSP5TDR3.js";import"./chunk-VWGNVM37.js";import"./chunk-QKBWJPY2.js";import"./chunk-XFPD3Q2E.js";import"./chunk-AFJBSSNA.js";import{b as He}from"./chunk-3ZKJXYZ4.js";import"./chunk-SOSR34AP.js";import"./chunk-EBRJSEEJ.js";import"./chunk-PA7QUJH7.js";import"./chunk-MC7IOE6A.js";import"./chunk-N4IVZOUG.js";import"./chunk-JWVIZID6.js";import"./chunk-MSFAPAHB.js";import"./chunk-33XRMYWN.js";import"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import"./chunk-WRVJM3F3.js";import"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import{c as Y}from"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import"./chunk-XRCQOGA2.js";import"./chunk-SWUBCABA.js";import"./chunk-DZGSODSZ.js";import"./chunk-QRAFULYC.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import"./chunk-4W7LQOP5.js";import"./chunk-CIVR4FUI.js";import"./chunk-H7WHTGUY.js";import"./chunk-44SDMU5C.js";import{a as qe}from"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import{b as ce}from"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import{e as Me}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{a as ae}from"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{u}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as Ce}from"./chunk-Z62JX42S.js";import{C as _e,F as De,H as Ve}from"./chunk-2QHGKEME.js";import"./chunk-HAHRUU64.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as Ke}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import{a as J,b as K}from"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import{c as ze,e as Ye,n as Ze}from"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import{c as $,e as xe}from"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import{i as Fe}from"./chunk-EFOY37CC.js";import{c as h}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{Da as Ee,Lb as Le,Ra as ve,Sa as Be,Sb as jt,Ub as Oe,Xb as ge,_b as Ue,bb as de,bc as Ge,na as ne,nc as Qt,tb as Ne}from"./chunk-COF7YKSN.js";import{A as _,K as O,o as pe}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{D as z,H as ye,c as Se,o as re}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-Q3GADXEN.js";import"./chunk-AHVVUOFF.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import{I as Ae,va as Xt}from"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-JHCCLVAB.js";import"./chunk-W7AONC6R.js";import"./chunk-FOOC6LB7.js";import"./chunk-SEAUBLKM.js";import"./chunk-UP4BZFYG.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{z as A}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as We}from"./chunk-4QGZDIBD.js";import{b as E}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-FYJQM2AY.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RQWEJ5N6.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-OPJRP6YV.js";import"./chunk-H6JAOQCX.js";import"./chunk-OJXBW2YQ.js";import"./chunk-PDRHBICP.js";import"./chunk-Z2AIGJGI.js";import"./chunk-SLQQVCPY.js";import"./chunk-ZRVP4J67.js";import"./chunk-YSKQ76UN.js";import"./chunk-A3W4ZDEQ.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as T,o as m,q as l}from"./chunk-Y5OH3DDZ.js";m();l();var w=T(E()),Ut=T(Ke()),me=T(Ce());O();xe();Ne();m();l();var ft=T(Ce());xe();Ne();Ue();var Rt=()=>{let t=Xe(),e=Me({hasBackup:!0}),a=$e();return(0,ft.useMemoizedFn)(async(c,n)=>{let o=await t(c),y=o?.localType;if(!c||!y)return null;let i=await $().getCreatedWalletIds(),f=await a({walletIds:i,chainId:o.chainId,coinId:c,flatten:!0});return(e?.map(r=>{let{walletIdentities:g}=r;return{...r,walletIdentities:g.map(C=>{let s=f[C?.walletId]||[];return{...C,coins:s.filter(p=>p?.coinId===c&&Fe(p.coinAmountInt,n))}}).filter(({coins:C})=>C?.length)}}).filter(({walletIdentities:r})=>r?.some(({coins:g})=>g?.length))).map(r=>{let g=r?.walletIdentities;return Ve({coinId:c})?g=g?.reduce((C,{coins:s,walletName:p,addressType:I,...b})=>[...C,...s.map(({coinAmountInt:k,addressType:S,...v})=>{let B=I?.[ne]?.find(P=>P?.addressType===ge[ne][S])?.address;return{...b,...v,walletName:p,coinAmountInt:k,label:`${r?.keyringName} - ${p}`,desc:_e(B),addressType:ge[ne][S],address:B}})],[]):g=g.map(({account:C,walletName:s,coins:p,...I})=>{let b=C?.[y];return{...p[0],...I,address:b,walletName:s,label:`${r?.keyringName} - ${s}`,desc:_e(b)}}),{...r,walletIdentities:g}})},[e])},pt=Rt;m();l();var yt=T(E());O();var eo=({fromAddr:t,coinId:e,toAddr:a,disabled:c,loading:n,walletId:o,walletType:y,sendAmount:i,hideLoading:f,onBeforeClick:x=()=>{},onPublishTrascation:r=()=>{},onClickWrap:g=()=>{}})=>{let{coin:C}=U(e,!1),[,s]=Re({coinId:e,address:t,chainId:C?.chainId},{pollingInterval:20*1e3}),p=s?.normal,[,I]=rt({coinId:e,walletId:o,address:t},{refreshDeps:[o,t]}),[,b]=at({coinId:e,toAddr:a,walletId:o,fromAddr:t,satBytes:p,coinAmount:i,canTransferAmount:I}),k=ct({coinId:e,toAddr:a,walletId:o,fromAddr:t,satBytes:p,networkFee:b,coinAmount:i,localType:C?.localType,dustSize:s?.minOutput}),S=ot({coinId:e,walletId:o,address:t,utxoType:tt.TRANSFER}),v=nt({coinId:e,txType:ze.TRANS_OUT,address:t}),B=async()=>{g(async()=>{x&&await x(b,I);let P=await S(i,b);await v(P,()=>{f?.()});let N=await k({utxoList:P}),V=await se(C.localType,N);r?.({coinId:e,txHash:V,signedTx:N,walletId:o,walletType:y,toAdr:a,serviceCharge:b,fromAdr:t,coinAmount:i})})};return yt.default.createElement(A,{loading:n,disabled:c,size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:B},_("wallet_extension_btn_general_confirm"))},dt=eo;m();l();var R=T(E());O();m();l();m();l();m();l();var to=({coinId:t,coinAmount:e,fromAddr:a,toAddr:c,ethereumGasInfo:n,btnProps:o,beforeClick:y,onClick:i})=>{let x={fetchParams:{coinId:t,from:a,to:c,amount:e,gasPrice:n.gasPrice},userGasInfo:n,baseCoinAmountUse:e};return{props:{beforeClick:y,dataForCheck:x,btnProps:o,onClick:i}}},gt=to;m();l();var _t=T(E());var oo=({coinId:t,sendAmount:e,fromAddr:a,toAddr:c})=>{let[n,o]=(0,_t.useState)({});return{props:{visible:!1,coinId:t,address:a,inputData:"",tokenAddress:c,value:e,onGasChange:o},ethereumGasInfo:n}},xt=oo;m();l();Qt();jt();var ro=({coinId:t,walletId:e,sendAmount:a,fromAddr:c,toAddr:n,ethereumGasInfo:o,onPublish:y})=>{let{coin:i}=U(t,!1),f=it({walletId:e,fromAddr:c,coinId:i.coinId}),x=s=>{let{updateGasInfo:p}=s;return p?{...p,gasLimit:o.gasLimit,supportEip1559:o.supportEip1559,networkFee:o.networkFee}:{...o}},r=({updateData:s,finallyGasInfo:p})=>{let{nonce:I}=s,b=Le(i.localType)?.realChainIdHex,k={from:c,gasLimit:K(p.gasLimit),nonce:K(I),chainId:b};return p.supportEip1559?(k.maxFeePerGas=K(p.maxFeePerGas),k.maxPriorityFeePerGas=K(p.maxPriorityFeePerGas),k.type=Ze.FEE_MARKET):k.gasPrice=K(p.gasPrice),k.value=K(a),k.to=n,De(k)},g=({txParams:s,finallyGasInfo:p})=>{let I=J(s.value),b=J(s.gasLimit),k=J(o.supportEip1559?s.maxFeePerGas:s.gasPrice),S={...s,value:I,from:c,to:n,gas:b,gasPrice:k,priorityFee:J(o.supportEip1559?s.maxPriorityFeePerGas:0),nonce:J(s.nonce),repeatTxType:Ye.CONFIRMING,oldTxHash:""};return{coinId:i.coinId,coinAmount:a,fromAdr:c,toAdr:n,serviceCharge:p.networkFee,extJson:JSON.stringify(S),txSource:Ge.NORMAL,inputData:s.data?s.data:""}};return async s=>{let p=x(s),I=r({updateData:s,finallyGasInfo:p}),b={...I,walletId:e,supportEip1559:p.supportEip1559},k=g({txParams:I,finallyGasInfo:p}),S=await f(b),v={...k,signedTx:S};typeof y=="function"&&await y(v)}},Ct=ro;var no=({toAddr:t,coinId:e,walletId:a,fromAddr:c,sendAmount:n,btnProps:o,onBeforeClick:y=()=>{},onPublishTrascation:i=()=>{},onClickWrap:f=()=>{}})=>{let{props:x,ethereumGasInfo:r}=xt({coinId:e,toAddr:t,fromAddr:c,sendAmount:n}),g=r?.networkFee,C=Ct({coinId:e,walletId:a,sendAmount:n,fromAddr:c,toAddr:t,ethereumGasInfo:r,onPublish:i}),{props:s}=gt({toAddr:t,coinId:e,fromAddr:c,ethereumGasInfo:r,coinAmount:n,btnProps:o,beforeClick:()=>y?.(g),onClick:(...p)=>{f(async()=>{await C(...p)})}});return R.default.createElement(R.default.Fragment,null,R.default.createElement(et,{...x}),R.default.createElement(ut,{...s},_("wallet_extension_btn_general_confirm")))},wt=no;m();l();var Pt=T(E()),ht=T(Ke());O();var ao=600001,co=({loading:t,disabled:e,fromPage:a,retryCreateAccount:c,onPublishTrascation:n=()=>Promise.resolve()})=>{let o=(0,ht.useHistory)(),y=async()=>{let i=await n?.();if(Number(i?.code)===ao){let f=re.warn({alignBottom:!1,title:_("wallet_extension_wax_modaltitle_account_unavailable"),text:_("wallet_extension_wax_modaldesc_free_account_unsupported"),cancelText:_("wallet_extension_btn_general_cancel"),confirmText:_("wallet_extension_mid_btn_retry"),onCancel:()=>{f.destroy(),o.push(a||ae)},onConfirm:()=>{f.destroy(),c?.()}})}};return Pt.default.createElement(A,{loading:t,disabled:e,size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:y},_("wallet_extension_btn_general_confirm"))},bt=co;m();l();var It=T(E());O();xe();var io=({fromAddr:t,coinId:e,toAddr:a,disabled:c,loading:n,walletId:o,walletType:y,sendAmount:i,onBeforeClick:f=()=>{},onPublishTrascation:x=()=>{},onClickWrap:r=()=>{}})=>{let{coin:g}=U(e,!1),C=async()=>{r(async()=>{typeof f=="function"&&f("0");let s=await He({coinId:e,fromAddr:t,toAddr:a}),{info:p}=s||{},{chainid:I,compression:b,refBlockNumber:k,refBlockId:S,refBlockTimestamp:v,expireSeconds:B}=p,P={type:0,from:t,to:a,amount:i,memo:"",common:{chainId:I,compression:b,refBlockNumber:k,refBlockId:S,refBlockTimestamp:v,expireSeconds:B}},N=await $().signTransaction(P,t,g.localType),V=await se(g.localType,N);typeof x=="function"&&await x({coinId:e,txHash:V,signedTx:N,walletId:o,walletType:y,toAdr:a,serviceCharge:"0",fromAdr:t,coinAmount:i})})};return It.default.createElement(A,{loading:n,disabled:c,size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:C},_("wallet_extension_btn_general_confirm"))},kt=io;m();l();var X=T(E()),Tt=T(We());O();m();l();var d={"retina-border-basic":"_retina-border-basic_t6cnr_1",retinaBorderBasic:"_retina-border-basic_t6cnr_1","wax-create-account-confirm":"_wax-create-account-confirm_t6cnr_29",waxCreateAccountConfirm:"_wax-create-account-confirm_t6cnr_29","wax-create-account-confirm-form":"_wax-create-account-confirm-form_t6cnr_32",waxCreateAccountConfirmForm:"_wax-create-account-confirm-form_t6cnr_32","wax-create-account-confirm-form-select":"_wax-create-account-confirm-form-select_t6cnr_35",waxCreateAccountConfirmFormSelect:"_wax-create-account-confirm-form-select_t6cnr_35","wax-create-account-confirm-form-select-disabled":"_wax-create-account-confirm-form-select-disabled_t6cnr_42",waxCreateAccountConfirmFormSelectDisabled:"_wax-create-account-confirm-form-select-disabled_t6cnr_42","wax-create-account-confirm-form-select-free":"_wax-create-account-confirm-form-select-free_t6cnr_46",waxCreateAccountConfirmFormSelectFree:"_wax-create-account-confirm-form-select-free_t6cnr_46","wax-create-account-confirm-form-select-free-text":"_wax-create-account-confirm-form-select-free-text_t6cnr_49",waxCreateAccountConfirmFormSelectFreeText:"_wax-create-account-confirm-form-select-free-text_t6cnr_49","wax-create-account-confirm-form-select-free-amount":"_wax-create-account-confirm-form-select-free-amount_t6cnr_53",waxCreateAccountConfirmFormSelectFreeAmount:"_wax-create-account-confirm-form-select-free-amount_t6cnr_53","wax-create-account-confirm-form-select-space":"_wax-create-account-confirm-form-select-space_t6cnr_57",waxCreateAccountConfirmFormSelectSpace:"_wax-create-account-confirm-form-select-space_t6cnr_57","wax-create-account-confirm-form-payInfo":"_wax-create-account-confirm-form-payInfo_t6cnr_60",waxCreateAccountConfirmFormPayInfo:"_wax-create-account-confirm-form-payInfo_t6cnr_60","wax-create-account-confirm-form-payInfo-icon":"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65",waxCreateAccountConfirmFormPayInfoIcon:"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65","wax-create-account-confirm-form-payCrypto-dialog":"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69",waxCreateAccountConfirmFormPayCryptoDialog:"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69","wax-create-account-confirm-form-payCrypto-title":"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72",waxCreateAccountConfirmFormPayCryptoTitle:"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72","wax-create-account-confirm-form-payCrypto-list":"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78",waxCreateAccountConfirmFormPayCryptoList:"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78","wax-create-account-confirm-form-payWallet":"_wax-create-account-confirm-form-payWallet_t6cnr_81",waxCreateAccountConfirmFormPayWallet:"_wax-create-account-confirm-form-payWallet_t6cnr_81","wax-create-account-confirm-form-payWallet-navigator":"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84",waxCreateAccountConfirmFormPayWalletNavigator:"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84","wax-create-account-confirm-form-payWallet-wallet-item":"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87",waxCreateAccountConfirmFormPayWalletWalletItem:"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87","wax-create-account-confirm-form-payWallet-accordion":"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90",waxCreateAccountConfirmFormPayWalletAccordion:"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90","wax-create-account-confirm-form-payWallet-accordion-header":"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96",waxCreateAccountConfirmFormPayWalletAccordionHeader:"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96","wax-create-account-confirm-form-payWallet-accordion-content":"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130",waxCreateAccountConfirmFormPayWalletAccordionContent:"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130","wax-create-account-confirm-form-payWallet-accordion-icon":"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133",waxCreateAccountConfirmFormPayWalletAccordionIcon:"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133","wax-create-account-confirm-form-payWallet-account-item":"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136",waxCreateAccountConfirmFormPayWalletAccountItem:"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136","wax-create-account-confirm-form-payWallet-account-item-main":"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140",waxCreateAccountConfirmFormPayWalletAccountItemMain:"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140","wax-create-account-confirm-form-payWallet-tag":"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143",waxCreateAccountConfirmFormPayWalletTag:"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143","wax-create-account-confirm-form-payWallet-selected-icon":"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152",waxCreateAccountConfirmFormPayWalletSelectedIcon:"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152","wax-create-account-confirm-form-payWallet-footer":"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155",waxCreateAccountConfirmFormPayWalletFooter:"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155","wax-create-account-confirm-form-insufficient-error":"_wax-create-account-confirm-form-insufficient-error_t6cnr_158",waxCreateAccountConfirmFormInsufficientError:"_wax-create-account-confirm-form-insufficient-error_t6cnr_158","wax-create-account-confirm-form-fill-up":"_wax-create-account-confirm-form-fill-up_t6cnr_161",waxCreateAccountConfirmFormFillUp:"_wax-create-account-confirm-form-fill-up_t6cnr_161"};var so=({coinAmount:t,decimals:e,symbol:a,displayPrecision:c,stableCoin:n})=>X.default.createElement(h.FlexBox,{align:h.ALIGN.center,className:(0,Tt.default)(d["wax-create-account-confirm-form-select"],d["wax-create-account-confirm-form-select-free"])},X.default.createElement(h.Space,{space:6,align:h.ALIGN.center,direction:h.DIRECTION.horizontal},X.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-select-free-text"]},_("wallet_extension_mid_colored_free")),X.default.createElement(u.DisplayAmount,{className:d["wax-create-account-confirm-form-select-free-amount"],mode:u.CRYPTO,size:u.SIZE.sm,symbol:a,amount:t,decimals:e,precision:c,isStableCoin:n}))),At=X.default.memo(so);m();l();var Z=T(E());O();var mo=({symbol:t,decimals:e,value:a={},displayPrecision:c,stableCoin:n})=>{let o=[{symbol:t,decimals:e,label:"extension_wallet_create_colored_cpu",value:a?.cpuAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_network",value:a?.netAmount},{decimals:0,symbol:"bytes",label:"extension_wallet_create_colored_ram",value:a?.ramAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_price",value:a?.sumAmount,icon:{icon:"okx-wallet-plugin-information-circle",tooltip:"extension_wallet_create_tooltip_20percent_transferfee"}}];return Z.default.createElement(G,{space:20,className:d["wax-create-account-confirm-form-payInfo"],dataSource:o,renderItem:y=>{let{icon:i,label:f,value:x,symbol:r,decimals:g}=y;return Z.default.createElement(G.Line,{size:u.SIZE.sm,label:Z.default.createElement(Z.default.Fragment,null,_(f),!!i&&Z.default.createElement(Y,{className:d["wax-create-account-confirm-form-payInfo-icon"],icon:i?.icon,size:Y.SIZE.xs,tooltip:i?.tooltip?_(i?.tooltip):!1})),value:Z.default.createElement(u.DisplayAmount,{symbol:r,decimals:g,precision:c,isStableCoin:n,mode:u.CRYPTO,size:u.SIZE.sm},x)})}})},Ft=Z.default.memo(mo);m();l();var H=T(E()),Wt=T(We());var lo=({type:t,value:e,disabled:a,placeholder:c,onClick:n})=>H.default.createElement(h.FlexBox,{align:h.ALIGN.center,onClick:()=>{n?.(t)},className:(0,Wt.default)(d["wax-create-account-confirm-form-select"],{[d["wax-create-account-confirm-form-select-disabled"]]:a})},H.default.createElement(h.Space,{className:d["wax-create-account-confirm-form-select-space"],space:0,direction:h.DIRECTION.vertical},!e&&c&&H.default.createElement(u.Text,{type:u.TYPE.secondary},c),!!e&&H.default.createElement(u.Text,null,e?.label||e),!!e?.desc&&H.default.createElement(u.Text,{size:u.SIZE.xs,type:u.TYPE.secondary},e?.desc||e)),!a&&H.default.createElement(Y,{icon:"okx-wallet-plugin-right",size:Y.SIZE.xs})),we=H.default.memo(lo);m();l();var D=T(E());O();var uo=({name:t,value:e,visible:a,options:c,onChange:n,onClose:o})=>D.default.createElement(re,{windowClass:d["wax-create-account-confirm-form-payCrypto-dialog"],alignBottom:!0,onClose:()=>{o?.(t)},visible:a},D.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-payCrypto-title"],strong:700,ellipsis:{tooltip:!0}},_("extension_wallet_popup_maintitle_select_crypto")),D.default.createElement(G,{className:d["wax-create-account-confirm-form-payCrypto-list"],space:16,dataSource:c,renderItem:y=>{let{icon:i}=y;return D.default.createElement(G.Card,{icon:{src:i},onClick:()=>{n?.({[t]:y}),o?.(t)},selected:e?.coinId===y.coinId},D.default.createElement(h.Space,{space:2,direction:h.DIRECTION.vertical},D.default.createElement(u.Text,null,y.label),D.default.createElement(u.Text,{type:u.TYPE.secondary,size:u.SIZE.sm},y.message)))}})),St=D.default.memo(uo);m();l();var W=T(E());O();Ue();var fo=({name:t,value:e,visible:a,options:c=[],onChange:n,onClose:o,coinId:y})=>{let[i,f]=(0,W.useState)(e),{coin:x}=U(y,!1);return(0,W.useEffect)(()=>{f(e)},[e]),a?W.default.createElement(h.Portal,{component:h.Container,className:d["wax-create-account-confirm-form-payWallet"]},W.default.createElement(ie,{className:d["wax-create-account-confirm-form-payWallet-navigator"],title:_("extension_wallet_header_title_select_wallet"),closeable:!1,onBack:()=>{o?.(t)}}),W.default.createElement(G,{className:d["wax-create-account-confirm-form-payWallet-wallet-item"],space:12,dataSource:c||[],renderItem:({keyringName:r,keyringColor:g,walletIdentities:C})=>W.default.createElement(Se,{defaultExpanded:!0,iconClassName:d["wax-create-account-confirm-form-payWallet-accordion-icon"],title:W.default.createElement(u.Text,{strong:!0,size:u.SIZE.lg,style:{color:g}},r),className:d["wax-create-account-confirm-form-payWallet-accordion"],headerClassName:d["wax-create-account-confirm-form-payWallet-accordion-header"],contentClassName:d["wax-create-account-confirm-form-payWallet-accordion-content"]},W.default.createElement(G,{dataSource:C,renderItem:s=>W.default.createElement(h.FlexBox,{className:d["wax-create-account-confirm-form-payWallet-account-item"],align:h.ALIGN.center,onClick:()=>{f(s)}},W.default.createElement(h.Space,{className:d["wax-create-account-confirm-form-payWallet-account-item-main"],space:0,direction:h.DIRECTION.vertical},W.default.createElement(h.Space,{space:8,align:h.ALIGN.center},W.default.createElement(u.Text,{size:u.SIZE.md},s?.walletName),!!s.addressType&&W.default.createElement(h.Box,{className:d["wax-create-account-confirm-form-payWallet-tag"]},_(Oe[s.addressType]))),W.default.createElement(u.DisplayAmount,{mode:u.CRYPTO,decimals:s?.decimals,symbol:s?.symbol,precision:x?.displayPrecision,isStableCoin:x?.stableCoin,size:u.SIZE.xs,type:u.TYPE.secondary},s?.coinAmountInt)),i?.address===s?.address&&W.default.createElement(Y,{className:d["wax-create-account-confirm-form-payWallet-selected-icon"],icon:"okx-wallet-plugin-completed"}))}))}),W.default.createElement(ce.FooterActions,{zIndex:101,className:d["wax-create-account-confirm-form-payWallet-footer"]},W.default.createElement(A,{size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:()=>{o?.(t),n?.({[t]:i})}},_("wallet_extension_btn_general_confirm")))):null},Et=fo;m();l();var vt=T(E());O();var po=({sendAmount:t,availableBalance:e="0",onCheckCallback:a})=>(0,vt.useCallback)((c="0",n)=>pe.gt(pe.add(t,c),n!==void 0?n:e)?a?.(!0):a?.(!1),[t,e]),Bt=po;m();l();var j=T(E());var yo=()=>{let t=z.useForm(),[e,a]=(0,j.useState)({}),[c,n]=(0,j.useState)({payCrypto:!1,payWallet:!1}),o=(0,j.useCallback)(i=>{n(f=>({...f,[i]:!f[i]}))},[]),y=(0,j.useCallback)(i=>{t.setFieldsValue(i),a((f={})=>({...f,...i}))},[]);return{form:t,visible:c,payValues:e,onPayValuesChange:y,onToggleSelectPanel:o}},Nt=yo;m();l();var M=T(E()),q=T(Ce());Xt();var go=60*1e3,_o=t=>{let[e,a]=(0,M.useState)({}),[c,{set:n}]=(0,q.useBoolean)(!1),[o,{set:y}]=(0,q.useBoolean)(),[i,f]=(0,M.useState)([]),x=Je(),r=(0,M.useMemo)(()=>Ae(x)?[]:i.map(p=>{let{coinId:I,coinAmount:b}=p,k=x[I]||{},{image:S,symbol:v,decimals:B,displayPrecision:P,stableCoin:N}=k;return{...k,...p,icon:S,label:M.default.createElement(u.DisplayAmount,{noStyle:!0,symbol:v,decimals:B,mode:u.CRYPTO,precision:P,isStableCoin:N},b)}}),[x,i]),g=async()=>{let{eosMarket:p,coins:I,freeAccount:b}=await st({coinId:t});a(p),f(I),y(b)},{runAsync:C,refreshAsync:s}=(0,q.useRequest)(g,{manual:!0,pollingInterval:go,pollingWhenHidden:!1,pollingErrorRetryCount:3});return(0,q.useMount)(()=>{(async()=>{try{n(!0),await C()}catch{}finally{n(!1)}})()}),[c,o,e,r,s]},Lt=_o;m();l();var Q=T(E());var xo=({form:t,payInfo:e,payValues:a,isFreeCreate:c,walletOptions:n,payCryptoOptions:o,onPayValuesChange:y,setPayWalletError:i})=>{let f=(0,Q.useRef)({payCrypto:!1,payWallet:!1}),x=r=>{y?.(r),t.setFieldsValue(r)};(0,Q.useEffect)(()=>{x({payInfo:e})},[e]),(0,Q.useEffect)(()=>{if(!f.current.payCrypto&&o?.length){let r=o.find(({recommend:g})=>g);x({payCrypto:r}),f.current={...f.current,payCrypto:!0}}if(f.current.payCrypto&&o?.length){let r=o.find(({coinId:g})=>g===a?.payCrypto?.coinId);r&&x({payCrypto:r})}},[o]),(0,Q.useEffect)(()=>{if(!c){if(!f.current.payWallet&&n?.length){let[{walletIdentities:[r]}]=n;x({payWallet:r}),f.current={...f.current,payWallet:!0}}if(f.current.payWallet){n?.length||(x({payWallet:null}),i?.(!1));let{coinId:r}=a?.payCrypto||{},{coinId:g}=a?.payWallet||{};if(n?.length&&r!==g){let[{walletIdentities:[C]}]=n;x({payWallet:C}),i?.(!1)}}}},[c,n])},Ot=xo;var Co=()=>{let t=je(),e=(0,Ut.useHistory)(),[a,c]=(0,w.useState)(null),n=Number(t.get("coinId"))||de,{coin:o}=U(n,!1),y=qe(),[i,f]=(0,w.useState)(!1),[x,r,g,C,s]=Lt(n),[p,I]=(0,w.useState)(!1),[b,{setTrue:k,setFalse:S}]=(0,me.useBoolean)(!1),{form:v,visible:B,payValues:P,onPayValuesChange:N,onToggleSelectPanel:V}=Nt({payInfo:g,payCryptoOptions:C}),le=pt();(0,me.useUpdateEffect)(()=>{(async()=>{if(!r&&P?.payCrypto?.coinId){let L=await le(P?.payCrypto?.coinId,P?.payCrypto?.coinAmount);c(L)}})()},[r,P?.payCrypto?.coinId,P?.payCrypto?.coinAmount]),Ot({form:v,payInfo:g,payValues:P,isFreeCreate:r,walletOptions:a,payCryptoOptions:C,setPayWalletError:f,onPayValuesChange:N});let{coinId:ee,coinAmount:Pe,toAddress:Gt}=P?.payCrypto||{},{walletId:Dt,serverWalletType:he,address:be,coinAmountInt:Ie}=P?.payWallet||{},Vt=async L=>{try{k(),await L()}catch(oe){let fe=oe?.msg||_("extension_wallet_transaction_notif_waxaccount_failed");ye.error({title:fe})}finally{S()}},zt=Bt({sendAmount:Pe,availableBalance:Ie,onCheckCallback:L=>(f(L),L?Promise.reject():Promise.resolve())}),ke=async L=>{let oe=await $().getPublicKeyByWalletId(y,Ee),{coinAmount:fe,symbol:Zt}=P?.payCrypto||{},{ramBytes:Ht,cpuAmount:Kt,ramAmount:Mt,netAmount:qt,sumAmount:$t}=P?.payInfo||{},Jt={transaction:L,order:{payCoin:Zt,ramBytes:Ht,payAmount:fe,eosAmount:$t,cpuAmount:Kt,ramAmount:Mt,netAmount:qt,ownerKey:oe,activeKey:oe,payAddress:be,account:t.get("account"),coinId:o?.coinId,chainId:o?.chainId}},Te=await(r?lt:mt)(Jt,y);return Number(Te.code)===0&&(ye.success({title:_("extension_wallet_transaction_notif_waxaccount_created"),desc:t.get("account")}),e.push(t.get("from")||ae)),Te},ue={coinId:ee,toAddr:Gt,walletId:Dt,fromAddr:be,sendAmount:Pe,onBeforeClick:zt,onPublishTrascation:ke,onClickWrap:Vt},te=!r&&(!P?.payCrypto||!P?.payWallet),Yt=(0,w.useMemo)(()=>r?C.find(L=>L?.coinId===n)||C?.[0]:{},[r,n,C]);return w.default.createElement(h.Container,{loading:x,className:d["wax-create-account-confirm"]},w.default.createElement(ie,{closeable:!1,title:_("extension_wallet_header_title_waxaccount_opening")}),w.default.createElement(z,{form:v,className:d["wax-create-account-confirm-form"]},w.default.createElement(z.Item,{name:"payCrypto",label:_("extension_wallet_create_text_payment_crypto")},r?w.default.createElement(At,{...Yt,displayPrecision:o?.displayPrecision,stableCoin:o?.stableCoin}):w.default.createElement(we,{type:"payCrypto",onClick:V})),!r&&w.default.createElement(z.Item,{name:"payWallet",extra:!!i&&w.default.createElement(h.Space,{space:7},w.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-insufficient-error"],size:u.SIZE.sm},_("extension_wallet_create_errortip_insufficient_balance")),w.default.createElement(u.Text,{className:d["wax-create-account-confirm-form-fill-up"],size:u.SIZE.sm,onClick:()=>{I(!0)}},_("extension_wallet_create_textbtn_fill_up",{crypto:P?.payCrypto?.symbol}))),label:_("extension_wallet_create_text_payment_wallet")},w.default.createElement(we,{type:"payWallet",onClick:V,disabled:!a?.length,placeholder:_("extension_wallet_create_input_no_available_wallets")})),w.default.createElement(z.Item,{name:"payInfo",label:_("extension_wallet_create_text_pay_toopen")},w.default.createElement(Ft,{symbol:o?.symbol,decimals:o?.decimals,displayPrecision:o?.displayPrecision,stableCoin:o?.stableCoin})),w.default.createElement(z.Item,null,w.default.createElement(ce.FooterActions,{placeholder:!1},!r&&ee===Be&&w.default.createElement(dt,{loading:b,disabled:te,walletType:he,hideLoading:S,availableAmount:Ie,...ue}),!r&&ee===ve&&w.default.createElement(wt,{btnProps:{loading:b,disabled:te},...ue}),!r&&ee===de&&w.default.createElement(kt,{loading:b,disabled:te,walletType:he,...ue}),r&&w.default.createElement(bt,{loading:b,disabled:te,fromPage:t.get("from"),retryCreateAccount:s,onPublishTrascation:ke})))),w.default.createElement(St,{name:"payCrypto",value:P.payCrypto,visible:B.payCrypto,options:C,onChange:N,onClose:V}),w.default.createElement(Et,{name:"payWallet",value:P?.payWallet,visible:B?.payWallet,options:a,onClose:V,onChange:N,coinId:P?.payCrypto?.coinId}),w.default.createElement(Qe,{visible:p,closeCallback:()=>I(!1),address:P?.payWallet?.address,coinId:P?.payCrypto?.coinId,receiveOnly:!0}))},Sa=w.default.memo(Co);export{Sa as default};
//# sourceMappingURL=ConfirmPay-AVSCOEIW.js.map
