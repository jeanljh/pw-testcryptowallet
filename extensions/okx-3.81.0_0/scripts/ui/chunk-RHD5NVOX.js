import{a as I}from"./chunk-WIHVOXA3.js";import{B as A,b as h}from"./chunk-Q7DF5H6O.js";import{a as X}from"./chunk-GOYCZBSH.js";import{m as T}from"./chunk-ZOKF3EKQ.js";import{j as x}from"./chunk-YGMRSF47.js";import{o as K}from"./chunk-Z62JX42S.js";import{c as g,e as G}from"./chunk-EN2WHAVL.js";import{Va as f,bc as w,nc as q,ta as t,tb as j}from"./chunk-COF7YKSN.js";import{j as c,va as O}from"./chunk-XFTQD4B2.js";import{b as R}from"./chunk-73B6GL3S.js";import{f as s,o as u,q as p}from"./chunk-Y5OH3DDZ.js";u();p();var b=s(R()),C=s(K());O();var _=s(X());G();q();j();var L=({walletId:y,txParams:i,onConfirm:m,onCancel:v,backable:P=!1,onBack:S,asPage:k,onBeforePublish:l})=>{let a=x(y),r=T(t,a?.walletId),D=A({coinAmount:"0",localType:t,coinId:f,fromAddr:r,walletId:a?.walletId,txSource:w.DAPP}),F={localType:t,params:{transaction:i},walletId:a?.walletId},H=(0,C.useMemoizedFn)(async({networkFee:W})=>{let{raw_data:e,raw_data_hex:M,txID:z,visible:B}=i||{};try{let o=await g().signCommonMessage(a?.walletId,r,{type:"protobuf",message:JSON.stringify({txID:z,visible:B,raw_data:e,raw_data_hex:M})},t),E=_.default.address.fromHex(c(e,"contract[0].parameter.value.contract_address",r)),J=c(e,"contract[0].parameter.value.data",""),n=await h(t,o),d={};typeof l=="function"&&(d=(await l({signedTx:o,txHash:n}))?.publishParams||{});let N=await D(o,{toAdr:E,txHash:n,serviceCharge:W,inputData:J,...d});m?.({txHash:n,txId:N})}catch(o){m({error:o})}});return b.default.createElement(I,{backable:P,onBack:S,asPage:k,onCancel:v,onConfirm:H,...F})},et=L;export{et as a};
//# sourceMappingURL=chunk-RHD5NVOX.js.map
