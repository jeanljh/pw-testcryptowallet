import{a as p,b as R,c as m,d as b,e as x,f as r}from"./chunk-7Q4IDC7V.js";import{ma as A}from"./chunk-HIVYZXF3.js";import{ga as N}from"./chunk-INIQCRIO.js";import{da as u,s as k}from"./chunk-ZBDGRK4Q.js";import{pa as L,va as v}from"./chunk-XFTQD4B2.js";import{n as process,o as s,q as n}from"./chunk-Y5OH3DDZ.js";s();n();v();s();n();var l=class extends x{constructor(){super(...arguments);this.connectedFnsList=new Set;this.statusFnsList=new Set}connectedCallback(){super.connectedCallback(),R(this.connectedFnsList,{disconnected:this.disconnected})}addListenerConnected(t){return m(this.connectedFnsList,t)}addListenerStatus(t){return m(this.statusFnsList,t)}statusCallback(t){R(this.statusFnsList,t)}getWsUrl(){let t=localStorage.getItem("dev_ct_wsPress"),_="";if(N()||A.isExtensionEnv)if(process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily")_="wss://wsdexpre.coinall.ltd:8443";else{let c=u.global?.getWssHostname?.(),d=A.global?.getWssHostname?.();_=`wss://${c||d}`}else _=k.socketBaseUrls?.dex;return t||`${_||""}/ws/v5/ipublic`}},C=new l;var J=({isPri:o=!1,subscribeParams:a,onSubscribeSuccess:t,onListenData:_,onListenError:c,onListenReconnected:d,needLogin:K=!1})=>{let E=o?r:C,i=b(a);if(i.length<=0||!a)return()=>{};E.subscribe(i,{needLogin:K});let g=L(i.map(e=>e.channel)).map((e,X)=>{let T=!1;return E.addListenerData(e,P=>{let{data:D,event:I,arg:O}=P;if(I===p.SUBSCRIBE){!T&&t?.(e),T=!0;return}!D||!T||_?.(D,O)},{argsParam:i[X]})}),f=E.addListenerError(e=>{c?.(e)}),M=E.addListenerConnected(e=>{e?.disconnected&&d?.()});return()=>{E.unsubscribe(i),g.forEach(e=>{e?.()}),f(),M()}};var Q=o=>{let a=()=>{r.tokens="",r.logout(o)};return o===r.tokens||(r.tokens=o,r.connect(),r.isConnected()&&r.connectedCallback()),a};s();n();var re={DEX_MARKET_CHANNEL:"dex-market",DEX_MARKET_TX_CHANNEL:"dex-market-v3",DEX_MARKET_HOLDER_CHANNEL_V2:"dex-market-holder-v2",DEX_MARKET_TRANSACTION_HISTORY_CHANNEL:"dex-market-trade-history",DEX_MARKET_TRADE_HISTORY_POP:"dex-market-trade-history-pop",DEX_MARKET_TRANSACTION_HISTORY_CHANNEL_PUB:"dex-market-trade-history-pub",DEX_MARKET_ADDRESS_SWAP_HISTORY:"dex-market-address-swap-history",DEX_MARKET_POOL_CHANGES_CHANNEL:"dex-market-pool-history",DEX_MARKET_PNL_LATEST:"dex-market-pnl-latest",DEX_MARKET_PNL_HISTORY:"dex-market-pnl-history",DEX_MARKET_TOKEN_KLINE_BAR:"dex-token-candle{bar}",DEX_MARKET_KLINE_HOLDER_BS:"dex-market-kline-bs-pop",DEX_MARKET_HOLDER_TRADE_STATISTICS:"dex-market-trade-history-statistics",DEX_MARKET_SM_PLATFORM_SIGNAL:"dex-market-sm-platform-signal",DEX_MARKET_PNL_LATEST_PUB:"dex-market-pnl-latest-pub",DEX_MARKET_TRADER_CHANNEL_V1:"dex-market-trader-v1",DEX_MARKET_TOKEN_EARLY_BUYER:"dex-market-token-early-buyer",DEX_MARKET_TRACKER_SM_ACTIVITY:"dex-market-tracker-sm-activity",DEX_MARKET_TOP_POOL_CHANNEL:"dex-market-v3-topPool",DEX_MARKET_ADDRESS_RADAR:"dex-market-address-radar",DEX_MARKET_SM_SIGNAL_STATUS:"dex-market-sm-signal-status",DEX_MARKET_TWITTER_CONTENT_RECOMMANDED:"dex-market-twitter-content-recommanded",DEX_MARKET_TRACKER_TRENDS_KOL_AND_SM:"dex-market-tracker-sm-trends"},se={DEX_PUSH_ENGINE:"dex-across-order-info",WALLET_ASSET:"wallet-asset",DEX_MARKET_TRACKER_ACTIVITY:"dex-market-tracker-activity",DEX_MARKET_TRACKER_TRENDS:"dex-market-tracker-trends",DEX_MARKET_TRACKER_TRENDS_SIDEBAR:"dex-market-tracker-trends-sidebar",DEX_MARKET_TRACKER_RANKING:"dex-market-tracker-ranking",SM_RANKING:"dex-market-sm-ranking",DEX_STRATEGY_BALANCE:"dex-strategy-balance",DEX_STRATEGY_ORDER:"tee-strategy-order-state",DEX_MARKET_TRACKER_TRENDS_FOLLOW:"dex-market-tracker-follow-trends"};s();n();var _e="",Ee="hide_detail_alert";export{J as a,Q as b,re as c,se as d,_e as e,Ee as f};
//# sourceMappingURL=chunk-BF6TFHGA.js.map
