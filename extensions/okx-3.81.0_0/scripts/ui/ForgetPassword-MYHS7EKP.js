import{b as X}from"./chunk-XIS6W7VE.js";import{a as Q}from"./chunk-JHEMUHSU.js";import{a as q}from"./chunk-7QX2TXNH.js";import{d as $}from"./chunk-ZDHJHPQ5.js";import"./chunk-QRGSOGHH.js";import{a as v}from"./chunk-JBNHZ7EW.js";import{m as x}from"./chunk-7HYQ2DGP.js";import"./chunk-UOWKDFTX.js";import"./chunk-3ZKJXYZ4.js";import{a as G}from"./chunk-AYPA3NBZ.js";import"./chunk-MC7IOE6A.js";import"./chunk-N4IVZOUG.js";import{c as I}from"./chunk-JWVIZID6.js";import{d as L}from"./chunk-47LIW52M.js";import{a as N}from"./chunk-33XRMYWN.js";import{e as K,i as Z,j as U}from"./chunk-KQ66JTF7.js";import"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import"./chunk-EEIYH3NC.js";import{b as V}from"./chunk-7MCLPJAH.js";import{p as M}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{A as F,qa as Y}from"./chunk-GCS2RK7E.js";import{a as D,c as W}from"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as P}from"./chunk-Z62JX42S.js";import{Na as pe}from"./chunk-2QHGKEME.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-4X64L7DZ.js";import"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import{c as O,e as B,f as _e}from"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import{c as p,e as A}from"./chunk-EN2WHAVL.js";import{h as z}from"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import"./chunk-COF7YKSN.js";import{A as s,K as de}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{H as w,o as T,q as b,r as S}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-JHCCLVAB.js";import"./chunk-W7AONC6R.js";import"./chunk-FOOC6LB7.js";import"./chunk-SEAUBLKM.js";import"./chunk-UP4BZFYG.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{z as o}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import"./chunk-4QGZDIBD.js";import{b as me}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as u,o as n,q as l}from"./chunk-Y5OH3DDZ.js";n();l();var e=u(me()),d=u(P());de();n();l();n();l();var H=u(pe()),J=u(P());n();l();_e();A();function j(){return async t=>{try{await p().resetOnboarding(),await p().clearDappData(),await I(N.moonCatData),t(B()),t(K(!1))}catch(r){throw t(O(r.message)),r}}}var ge=()=>{let t=(0,H.useDispatch)();return(0,J.useMemoizedFn)(async()=>{await t(v()),await t(j()),await t(W(D,void 0)),await t(Z(1)),await t(U(void 0)),await t(x.setSelectAccounts([]))})},R=ge;A();n();l();var ee=()=>["forgotpwd_mid_item_desc1","forgotpwd_mid_item_desc2","forgotpwd_mid_item_desc3"],te=()=>3;var oe="RESET",ue="reset-password",fe="verify-tg-password",Ce=t=>{let{hasSyncEnabled:r,isSyncSupported:i}=X();return t&&i&&!r||r},ye=()=>{let[t,r]=e.default.useState([]);return{checkeds:t,setCheckeds:r,onToggleCheck:c=>{t.includes(c)?r(a=>a.filter(m=>m!==c)):r(a=>[...a,c])}}},we=({history:t,verifyTGPassword:r})=>{let i=R(),[c,{set:a}]=(0,d.useBoolean)(!1),m=(0,d.useMemoizedFn)(async()=>{a(!0);try{r?await p().resetCloudWallet():await i(),w.success({placement:w.DIRECTION.top,title:s("walletsecurity_top_toast_notification")}),L(Q),t.push(F)}finally{a(!1)}},[]);return{loading:c,onConfirm:m}},mt=({history:t})=>{let r=q(),i=M(),[c,{toggle:a}]=(0,d.useBoolean)(!1),{checkeds:m,onToggleCheck:se}=ye(),[C,re]=e.default.useState(""),{isMoonCat:ie,loadingMoonCatData:ae}=G(),g=r.get("from")===ue,h=r.get("from")===fe,k=Ce(h),{loading:ne,onConfirm:E}=we({history:t,verifyTGPassword:h}),le=(0,d.useMemoizedFn)(()=>{i?.hasBackup?t.go(-1):t.push(`${Y}?keyringId=${i?.keyringId}`)},[i]),ce=z({dark:"/cdn/assets/imgs/245/A35F2C4117418EF8.png",light:"/cdn/assets/imgs/245/2DDC8ABECB4799BB.png"});return e.default.createElement("div",{className:"forget-password"},e.default.createElement($,{closeable:!1,title:s(g?"securityreset_header_text_reset":"forgotpwd_header_title_forget_password")}),e.default.createElement("div",{className:"forget-password__container"},e.default.createElement("img",{className:"forget-password__icon",src:ce,alt:""}),!!g&&e.default.createElement("h1",{className:"forget-password__title"},s("securityreset_mid_title_risk_warning")),g?e.default.createElement("div",{className:"forget-password__desc"},s("securityreset_mid_subtitle_note")):e.default.createElement("ul",{className:"forget-password__tips"},ee(k).map((_,y)=>e.default.createElement("li",{key:y,onClick:()=>{se(y)},className:"forget-password__tip"},e.default.createElement(S,{className:"forget-password__tip__icon",checked:m.includes(y)}),s(_)))),e.default.createElement(V.FooterActions,null,g?e.default.createElement(e.default.Fragment,null,e.default.createElement(o,{size:o.SIZE.lg,category:o.CATEGORY.outline,type:o.TYPE.primary,onClick:a},s("securityreset_header_text_reset")),e.default.createElement(o,{onClick:le,size:o.SIZE.lg,type:o.TYPE.highlight,category:o.CATEGORY.fill,disabled:!i?.hasBackup&&(ie||ae)},s(i?.hasBackup?"securityreset_mid_btn_cancel":"securityreset_footer_btn_back"))):e.default.createElement(o,{block:!0,size:o.SIZE.lg,onClick:a,type:o.TYPE.highlight,category:o.CATEGORY.fill,className:"forget-password__action",disabled:m.length!==te(k)},s("forgotpwd_footer_btn_reset_password")))),e.default.createElement(T,{hideCloseBtn:!0,noContentPadding:!0,visible:c},c&&e.default.createElement("div",{className:"reset-wallet"},e.default.createElement("h1",{className:"reset-wallet__title"},s("securityreset_mid_title_reset_password")),e.default.createElement("h2",{className:"reset-wallet__label"},s("securityreset_mid_text_enter_reset",{text:e.default.createElement("span",{key:"reset",style:{color:"var(--okd-color-semantic-negative)"}},s("securityreset_mid_placeholder_reset"))})),e.default.createElement(b,{size:"xl",cleanable:!0,value:C,autoFocus:!0,onKeyDown:_=>{_.keyCode===13&&C===oe&&E()},placeholder:s("securityreset_mid_placeholder_reset"),onChange:({target:{value:_}})=>{re(_)}}),e.default.createElement("div",{className:"reset-wallet__actions"},e.default.createElement(o,{size:o.SIZE.lg,type:o.TYPE.primary,className:"reset-wallet__action reset-wallet__cancel",category:o.CATEGORY.outline,onClick:a},s("securityreset_mid_btn_cancel")),e.default.createElement(o,{size:o.SIZE.lg,type:o.TYPE.red,category:o.CATEGORY.fill,className:"reset-wallet__action",disabled:C!==oe,loading:ne,onClick:E},s("securityreset_mid_btn_confirm"))))))};export{mt as default};
//# sourceMappingURL=ForgetPassword-MYHS7EKP.js.map
