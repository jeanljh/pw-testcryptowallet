import{a as Bs,k as Fs}from"./chunk-FIMSUQ6M.js";import{a as Ls,b as Os}from"./chunk-OK3BSTHU.js";import{a as gt,b as Gt,c as Ht,d as zo,e as Ps,f as As,g as Ns,h as Ds}from"./chunk-VXCH3ZZK.js";import{a as _s,b as Wo,c as ks,d as bs,e as ys,f as vs,h as Es,i as Is,j as ws,m as Ss}from"./chunk-LVDNG6XA.js";import{a as I,b as E,c as Ke,d as gs,e as Ts,f as De,g as Cs,h as Ro,i as xs,k as hs}from"./chunk-2UMIXQCO.js";import"./chunk-2FN5XB3U.js";import"./chunk-3YSB4TUI.js";import{a as be,b as Ne,c as _t,d as ds,e as ps,f as us,g as fs,i as Uo}from"./chunk-MJLF3K5Y.js";import{a as cs}from"./chunk-JPDLWYEN.js";import{d as y}from"./chunk-WCLDNAAR.js";import"./chunk-FBYUYQL4.js";import"./chunk-OQPEUXN4.js";import{a as ms,b as ls}from"./chunk-WA56EBYT.js";import{a as Ae}from"./chunk-GRCGLJO7.js";import{a as as}from"./chunk-6ZYLPGLN.js";import{a as Yn,b as Zn,c as Jn,d as Qn,e as ts,f as rs,g as ns,h as ss,i as is}from"./chunk-MLHXJD6C.js";import"./chunk-OOD2ESRB.js";import{a as qn}from"./chunk-APWPXM2W.js";import{a as $n}from"./chunk-PRXCTTVN.js";import"./chunk-7X2CMAJK.js";import"./chunk-HW7PF3XP.js";import"./chunk-4R74WMY3.js";import"./chunk-CIE6HRPG.js";import"./chunk-T4MGJ7E6.js";import"./chunk-GZ5TAKC7.js";import{a as os}from"./chunk-7P6PQ2A4.js";import"./chunk-JG2G3PLS.js";import"./chunk-WEPJKKBH.js";import"./chunk-IVH24YWV.js";import"./chunk-3C2GFLAI.js";import"./chunk-G42BVB67.js";import{f as Xn}from"./chunk-SNS3QUAD.js";import{b as Kn}from"./chunk-LBF75ZOB.js";import"./chunk-JUPTKFJB.js";import"./chunk-Z5IYSPVF.js";import"./chunk-5AGWELXA.js";import"./chunk-6C2G522Z.js";import{a as zn}from"./chunk-ICSA2KYO.js";import"./chunk-QXMLTUW3.js";import{a as Rn}from"./chunk-GCPFAJKK.js";import{a as Wn}from"./chunk-V7XA3BQU.js";import"./chunk-QKPPTYDW.js";import"./chunk-KPUXAS7Z.js";import{a as Dn,d as Ln}from"./chunk-IN42FW4K.js";import"./chunk-PQQFVOPL.js";import"./chunk-WST3WRLT.js";import"./chunk-PONOZOFT.js";import"./chunk-NTAM5KQ5.js";import{a as vr}from"./chunk-I4EML244.js";import{a as On}from"./chunk-TJIPZMF7.js";import"./chunk-57D6LCV2.js";import{a as Mt,b as Hn,d as wr}from"./chunk-KQ6OPOXD.js";import"./chunk-X7ACMHNF.js";import{a as Gn}from"./chunk-DEJA7CK3.js";import"./chunk-LS6URCUV.js";import{a as Mn,b as Ir}from"./chunk-RGPNT5G7.js";import"./chunk-OQUE64GQ.js";import"./chunk-AQ4KTATJ.js";import{l as Er}from"./chunk-Q7DF5H6O.js";import"./chunk-G23O242T.js";import"./chunk-AQO2BBXJ.js";import{f as ft}from"./chunk-GWMNMJND.js";import"./chunk-2VUOGSTW.js";import{a as Bn}from"./chunk-P4PGYDTS.js";import"./chunk-S7VT2TWF.js";import{b as Fn}from"./chunk-HBNZZZEG.js";import"./chunk-3W4MTHFJ.js";import"./chunk-L2MGED7F.js";import"./chunk-BNS5ABAB.js";import"./chunk-UFGJXE4D.js";import{a as se}from"./chunk-7QX2TXNH.js";import{d as W}from"./chunk-ZDHJHPQ5.js";import"./chunk-EIULTUCV.js";import{a as Ho,b as Vn}from"./chunk-L6EQYGXX.js";import"./chunk-UKZ3XNLC.js";import"./chunk-JTDYMQYG.js";import"./chunk-NI73NP7N.js";import"./chunk-DFPRATON.js";import"./chunk-WY5R5HAR.js";import"./chunk-2L6CHWW2.js";import"./chunk-UYJBEFNU.js";import"./chunk-N4IRLXLS.js";import"./chunk-5XDQ7TQF.js";import{b as es}from"./chunk-YX2POTUH.js";import"./chunk-GTQ5U6DA.js";import{a as jn}from"./chunk-MYXJSJEA.js";import{a as Go}from"./chunk-SMB23TMJ.js";import"./chunk-TE6AOABI.js";import"./chunk-63UDTGAT.js";import"./chunk-AZ2KZKVQ.js";import"./chunk-VCDDTW7H.js";import"./chunk-UULU72LG.js";import"./chunk-3MTWCI34.js";import"./chunk-E6XUX33V.js";import"./chunk-VTMJYROY.js";import"./chunk-ARK47WR5.js";import"./chunk-BEIWULHW.js";import"./chunk-DOCYQV54.js";import"./chunk-6T3CLU73.js";import"./chunk-STXPU7A6.js";import"./chunk-PFSPFZNW.js";import"./chunk-2JC6L37N.js";import"./chunk-BF6TFHGA.js";import"./chunk-57F7LIJM.js";import"./chunk-7OXXN2FT.js";import"./chunk-RK7WST36.js";import"./chunk-7Q4IDC7V.js";import"./chunk-F57QKCZQ.js";import"./chunk-HIVYZXF3.js";import"./chunk-JALTSNOZ.js";import"./chunk-4Y52FA3V.js";import"./chunk-B6WLGAPL.js";import"./chunk-ZYYACLV7.js";import"./chunk-TQMC5UQS.js";import"./chunk-ANWN6BF6.js";import"./chunk-XNP3OGQC.js";import"./chunk-A2QIZMPL.js";import"./chunk-HKU7TMFJ.js";import"./chunk-YTR7GLCK.js";import"./chunk-7I4OPLNV.js";import"./chunk-J3UBL564.js";import"./chunk-YMYQJ726.js";import"./chunk-FGRS6VIX.js";import"./chunk-INIQCRIO.js";import"./chunk-2P6PTKAN.js";import"./chunk-ZFBXO46L.js";import"./chunk-6Z5HVUBK.js";import"./chunk-ZBDGRK4Q.js";import"./chunk-XIYYKWE3.js";import"./chunk-GN2NRAOV.js";import"./chunk-SFFRTMXL.js";import"./chunk-RLY3NWVP.js";import"./chunk-U3KULTRT.js";import"./chunk-55T2IW2N.js";import"./chunk-WVUOJIBP.js";import"./chunk-JBROAQ6E.js";import"./chunk-LBCITKCK.js";import"./chunk-O4O5AL3V.js";import"./chunk-IBOMFII7.js";import"./chunk-URNFZHUR.js";import"./chunk-I56NHY6E.js";import{a as Ha,c as pt,d as re,e as Ot,f as hn}from"./chunk-EL32QQI5.js";import{b as K,c as ue,d as cn,e as Ao,f as dt,g as dn,h as No,i as pn,j as xr,k as Dt,l as Do,m as Lt,n as un,o as fn,p as _n,q as Lo,r as gn,s as hr,t as Tn,u as Cn,w as Oo,x as kr}from"./chunk-BC5LWHDZ.js";import"./chunk-SVG7BWFP.js";import"./chunk-JZBABWUI.js";import{b as Po}from"./chunk-UQTI5PPO.js";import{a as An}from"./chunk-EVEVDELV.js";import{a as Pn}from"./chunk-6Z5COCHC.js";import"./chunk-EDWL2MSA.js";import"./chunk-HGC2KGIM.js";import"./chunk-P3S4ES3J.js";import"./chunk-Z6EEIDRL.js";import"./chunk-NZX52M3S.js";import"./chunk-K35GFLBJ.js";import{c as Un}from"./chunk-EZ2ONRBI.js";import"./chunk-VEPTXEII.js";import"./chunk-A5U7X3LN.js";import{b as In}from"./chunk-TF4QEXO7.js";import"./chunk-CHMHYYPI.js";import"./chunk-JBNHZ7EW.js";import"./chunk-GDQAWT2G.js";import"./chunk-QJ36ZOFH.js";import"./chunk-7HYQ2DGP.js";import"./chunk-G7XOYBNH.js";import"./chunk-JHO7RU36.js";import"./chunk-UOWKDFTX.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import"./chunk-F2SPBGOT.js";import{c as wn,d as Sn,e as yr}from"./chunk-SYOIP55B.js";import"./chunk-V7ZNWTMX.js";import"./chunk-MSP5TDR3.js";import"./chunk-VWGNVM37.js";import"./chunk-QKBWJPY2.js";import"./chunk-XFPD3Q2E.js";import"./chunk-AFJBSSNA.js";import"./chunk-3ZKJXYZ4.js";import"./chunk-PMO2NS5Q.js";import"./chunk-4ZSKRAEE.js";import"./chunk-IIJNHSKZ.js";import{a as kn}from"./chunk-AYPA3NBZ.js";import{a as tn}from"./chunk-SOSR34AP.js";import"./chunk-GEL5KEYP.js";import"./chunk-EBRJSEEJ.js";import"./chunk-PA7QUJH7.js";import"./chunk-MC7IOE6A.js";import"./chunk-N4IVZOUG.js";import"./chunk-JWVIZID6.js";import"./chunk-47LIW52M.js";import{Ja as Jr,Sa as jr,d as Kr,ea as Xr}from"./chunk-MSFAPAHB.js";import"./chunk-33XRMYWN.js";import{B as vn,g as ln,j as xn,s as Bo,u as fe,v as w,w as bn,z as yn}from"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import{a as D}from"./chunk-WRVJM3F3.js";import"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import{a as Mo,c as ut}from"./chunk-OOYDFTEF.js";import{a as Ft}from"./chunk-JNIP4OYT.js";import{b as ne}from"./chunk-XRCQOGA2.js";import{b as at}from"./chunk-SWUBCABA.js";import"./chunk-FVCINJIW.js";import"./chunk-VUHYFIVA.js";import"./chunk-DZGSODSZ.js";import"./chunk-QRAFULYC.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import"./chunk-J6XCA7RV.js";import"./chunk-4W7LQOP5.js";import"./chunk-CIVR4FUI.js";import"./chunk-H7WHTGUY.js";import"./chunk-44SDMU5C.js";import{a as Nn}from"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import{b as Pe}from"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import{a as br,j as Bt}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{Ga as sn,Ha as bo,Ia as mt,Ja as pe,Ka as yo,La as vo,Ma as Eo,Na as Io,Oa as wo,Pa as lt,Qa as So,Z as rn,a as oe,j as on,ja as nn,jb as an,zb as mn}from"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import{f as ko}from"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{a as ho,g as Ya,h as Fo,m as En,u as ke}from"./chunk-FGAB46RQ.js";import{f as ct}from"./chunk-47ZMUKCZ.js";import{o as le}from"./chunk-Z62JX42S.js";import{C as U,Na as A,ga as $r,ka as Yr,la as Zr}from"./chunk-2QHGKEME.js";import"./chunk-HAHRUU64.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as V}from"./chunk-6PA65BO3.js";import"./chunk-XSVHDPBS.js";import"./chunk-OIXGC4LI.js";import{a as z,b as en}from"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import{f as Nt,n as it}from"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import{c as Qr}from"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import{c as qr,e as $a}from"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import{C as Wr,a as R,b as go,d as $e,f as To,g as nt,h as Ye,i as Pt,j as st,o as Ze,p as me,u as Co}from"./chunk-EFOY37CC.js";import{c as qe}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{J as Ua,O as Wa,cc as Cr,la as Vr,nc as Va,p as Ur,tb as za}from"./chunk-COF7YKSN.js";import{A as m,D as St,K as v,m as rt,o as F,r as Hr}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{A as he,D as H,H as Se,I as zr,d as Rr,o as xo,q as N,y as At}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-Q3GADXEN.js";import"./chunk-AHVVUOFF.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import{L as Gr,M as _o,f as Fr,s as Mr,va as wt}from"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-JHCCLVAB.js";import"./chunk-W7AONC6R.js";import"./chunk-FOOC6LB7.js";import"./chunk-SEAUBLKM.js";import"./chunk-UP4BZFYG.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{t as G,u as Tr,z as L}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as te}from"./chunk-4QGZDIBD.js";import{b as _}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-FYJQM2AY.js";import{b as Ra}from"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RQWEJ5N6.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-OPJRP6YV.js";import"./chunk-H6JAOQCX.js";import"./chunk-OJXBW2YQ.js";import"./chunk-PDRHBICP.js";import"./chunk-Z2AIGJGI.js";import"./chunk-SLQQVCPY.js";import"./chunk-ZRVP4J67.js";import"./chunk-YSKQ76UN.js";import"./chunk-A3W4ZDEQ.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as l,h as gr,o as s,q as i}from"./chunk-Y5OH3DDZ.js";s();i();var so=l(_()),Ga=l(A()),vt=l(V());s();i();var Y=l(_()),j=l(V());s();i();var xt=l(_());s();i();var Ut=l(_()),Ms=l(V()),Gs=l(Ya());v();s();i();function Le(){return se().get("address")}var Za=()=>{let e=(0,Ms.useHistory)(),o=Le(),t=w(o),r=()=>{e.push(oe)},n=o?`?address=${o}`:"";return Ut.default.createElement(W,{bordered:!1,classNames:{box:"coin-detail__header__box",title:"coin-detail__header__title",tag:"coin-detail__header__tag",icon:"coin-detail__header__icon"},icon:{type:ut.TYPE.text,text:t?.symbol},title:t?.symbol,onBack:r,titleLeft:{headerAddress:o||null,chainLogo:null,onCopyAddress:()=>{o&&((0,Gs.default)(o),Se.success({title:m("wallet_extension_asset_toast_address_copied"),desc:o}))}}},Ut.default.createElement(he,{title:m("developer_mode_infor_tooltip_token_details"),placement:he.DIRECTION.bottom},Ut.default.createElement(En,{icon:"okx-wallet-plugin-information-circle",size:"md","data-testid":Ft.RPC_MODE_COIN_DETAIL_HEADER.TOKEN_DETAIL_BUTTON,onClick:()=>{e.push(`${So}${n}`)}})))},Hs=Ut.default.memo(Za);s();i();var ge=l(_());v();s();i();s();i();var Sr=l(_()),Pr=l(te());s();i();var qa={lightBlue:{color:"var(--okx-wallet-color-white)",background:"var(--okd-color-semantic-informative)"},deepBlue:{color:"var(--okx-wallet-color-white)",background:"var(--okd-color-semantic-informative)"},lightGray:{background:"var(var(--okd-color-content-contrast))",color:"var(--okx-wallet-color-white)",borderWidth:"1px",borderStyle:"solid",borderColor:"var(--okx-wallet-color-white)"},black:{background:"var(--okx-wallet-color-black)",borderWidth:"1px",borderStyle:"solid",borderColor:"var(var(--okd-color-content-tertiary))",color:"var(--okx-wallet-color-white)"}},Ka={larger:{size:56,fontSize:30},large:{size:32,fontSize:20},normal:{size:24,fontSize:14},small:{size:20,fontSize:12}};function Xa({icon:e,className:o,text:t,size:r="normal",fontSize:n,theme:a,color:c,background:d}){if(!t)return null;let u=t[0].toUpperCase(),f,g,x;if(a){let P=qa[a];f=P?.color,g=P?.background,x=P?.border}let T,h;if(typeof r=="string"){let P=Ka[r];T=P?.size,h=P?.fontSize}else T=r.size;let C={width:`${T}px`,height:`${T}px`};return e?Sr.default.createElement("img",{alt:"",src:e,style:C,className:(0,Pr.default)("capitalize-letter",o)}):(C={...C,fontSize:`${n||h}px`,color:c||f,background:d||g,border:x},Sr.default.createElement("div",{style:C,className:(0,Pr.default)("capitalize-letter",o)},u))}var ie=Xa;s();i();var Ja=l(_());s();i();var je=l(_());v();s();i();var _e=l(_());v();s();i();s();i();var Tt=l(_());v();s();i();v();Va();function Vo({type:e,extraParams:o}){let t=Ke[e],r,n=m(t);return e===E.TRANS_OUT?r="okx-wallet-plugin-pointer-up":e===E.AUTHORIZATION||e===E.CANCEL_AUTHORIZATION?(r="okx-wallet-plugin-lock-1",n=m(t,{symbol:o?.coinSymbol})):e===E.CONTRACT_CALL?r="okx-wallet-plugin-report-centre":e===E.CONTRACT_DEPLOY&&(r="okx-wallet-plugin-futures-20"),{icons:[r],title:n}}function $o({type:e,txParams:o,extraParams:t}){let r=D();if(e===E.TRANS_OUT){let c=t?.value;return c&&(c=F.thousandFormat(c)),[{direction:Cr.OUT,coinAmount:`${c||""} ${t?.coinSymbol||""}`}]}let{value:n}=o||{},a=z(n);return Ye(a,0)?[{direction:Cr.OUT,coinAmount:`${F.thousandFormat(me(a))} ${r.symbol||""}`}]:[]}function Yo(e){let o;return e.type===E.TRANS_OUT?o=`${m("wallet_extension_history_list_send_to")}   ${U(e.extraParams?.toAddress)}`:e.type===E.AUTHORIZATION||e.type===E.CANCEL_AUTHORIZATION?o=U(e.extraParams?.approvedAddress):o=U(e.txParams?.to),o}function ja({status:e}){let o="",t="";return(e===I.FAILED||e===I.DROPPED)&&(o=Nt.FAILED,t=m("wallet_extension_history_status_failed")),{labelText:t,labelType:o}}function Qa(e){return[Yo(e)]}function em({tx:e,onClick:o}){let{icons:t,title:r}=Vo(e),n=$o(e),a=Qa(e),c=Uo(a,n),{labelType:d,labelText:u}=ja(e),f=Tt.default.createElement(y.Label,{className:"tx-history-ml4",type:d,text:u});return Tt.default.createElement(y.ItemContainer,{onClick:g=>{o&&o(e,g)}},Tt.default.createElement(y.Row,{assets:n,align:c},Tt.default.createElement(y.Info,{icons:t,title:r,label:f,details:a}),Tt.default.createElement(y.Assets,{assets:n})))}var Wt=em;s();i();var Xe=l(_()),Ar=l(A());v();function tm({txs:e,onClick:o}){let t=(0,Ar.useSelector)(ct),{dates:r}=(0,Ar.useSelector)(re),n=(0,Xe.useMemo)(()=>{let a=e.map(g=>({...g,groupDate:rt(g.sortTime,{format:"yyyyMMdd",locale:t})})),c=[],d=0,u,f;return a.forEach(g=>{let{groupDate:x}=g;u!==x&&(u=x,f=[],c[d++]={date:u,list:f}),f.push(g)}),c},[e,r]);return Xe.default.createElement(y.List,null,n.map(({date:a,list:c})=>Xe.default.createElement("div",{key:a},Xe.default.createElement(y.Date,null,a),c.map(d=>Xe.default.createElement(d.Comp,{key:d.id,tx:d,onClick:o})))))}var Rt=tm;s();i();var qo=l(_());s();i();var Zo=e=>{if(!e?.txParams)return{};let{gasPrice:o,maxFeePerGas:t,maxPriorityFeePerGas:r,gasLimit:n,type:a}=e.txParams,c={gasLimit:n};return a===it.FEE_MARKET?(c.maxFeePerGas=Co(R(t,1.2),0),c.maxPriorityFeePerGas=Co(R(r,1.2),0)):c.gasPrice=Co(R(o,1.2),0),c};function om({txId:e,onClose:o}){let t=Ro(e),r=vs(),n=w(),[a,c]=(0,qo.useState)(!1),d=Zo(t),u=async()=>{if(a)return;if(c(!0),(await Wo(t?.id)).status!==I.PENDING){c(!1),o();return}r(t,d).catch(C=>{console.log(C)}).finally(()=>{o(),c(!1)})},{type:f}=t?.txParams||{},g="";f===it.FEE_MARKET?g=d.maxFeePerGas:g=d.gasPrice;let x=Ht(me(R(g,d.gasLimit))),T=`Gas Price (${Ze(g)} GWEI) *Gas Limit(${d.gasLimit}) `;return qo.default.createElement(y.EthereumTxCancelDialogBase,{visible:!!t,onConfirm:u,loading:a,onClose:o,chainSymbol:n?.symbol,newGasFeeDisplay:x,newGasDetailDisplay:T})}var zt=om;s();i();var Ko=l(_());function rm({txId:e,onClose:o}){let t=Ro(e),r=ys(),[n,a]=(0,Ko.useState)(!1),c=Zo(t),d=async()=>{if(n)return;a(!0);let q=await Wo(t?.id);if(!q||q.status!==I.PENDING){a(!1),o();return}r(t,c).catch(Re=>{console.log(Re)}).finally(()=>{a(!1),o()})},{gasPrice:u,maxFeePerGas:f,gasLimit:g,type:x}=t?.txParams||{},T="",h="";x===it.FEE_MARKET?(T=f,h=c.maxFeePerGas):(T=u,h=c.gasPrice);let C=Ht(me(R(T,g))),P=`=Gas Price(${Ze(T)})`,Q=Ht(me(R(h,c.gasLimit))),Z=`=Gas Price(${Ze(h)})`;return Ko.default.createElement(y.EthereumTxSpeedDialogBase,{visible:!!t,onConfirm:d,loading:n,onClose:o,oldGasFeeDisplay:C,oldGasDetailDisplay:P,newGasFeeDisplay:Q,newGasDetailDisplay:Z})}var Vt=rm;s();i();var Je=l(_()),Rs=l(A());v();s();i();var $t=l(_());v();var Us=({onClick:e,children:o})=>$t.default.createElement(L,{className:"rpc-evm-tx-actions__button",category:L.CATEGORY.outline,type:L.TYPE.primary,size:L.SIZE.xs,onClick:t=>{t.stopPropagation(),e&&e(t)}},o);function nm({tx:e,onCancel:o,onSpeed:t}){let{isShowPending:r,isCanceling:n}=e,a=n?m("wallet_extension_history_list_status_btn_speed_up_cancellation"):m("wallet_extension_history_list_status_btn_cancel_transaction");return r?$t.default.createElement("div",{className:"rpc-evm-tx-actions"},$t.default.createElement(Us,{onClick:o},a),!n&&$t.default.createElement(Us,{onClick:t},m("wallet_extension_history_list_status_btn_speed_up"))):null}var Ws=nm;function sm({isShowPending:e,isSpeeding:o,isCanceling:t}){let r="",n="";return e?(r=Nt.PENDING,o?n=m("wallet_extension_send_status_speedingup"):t?n=m("wallet_extension_send_status_canceling"):n=m("wallet_extension_history_list_status_pending")):(r=Nt.WAITING,n=m("wallet_extension_history_list_status_waiting")),{labelType:r,labelText:n}}function im(e){let o=Yo(e),t=(0,Rs.useSelector)(ct),r=[o],n=rt(e.sendTime,{format:"yyyyMMddHHmmss",locale:t});return r.push(n),r}function am({tx:e,onClick:o,onCancel:t,onSpeed:r}){let{icons:n,title:a}=Vo(e),{labelType:c,labelText:d}=sm(e),u=$o(e),f=im(e),g=Uo(f,u),x=Je.default.createElement(y.Label,{className:"tx-history-ml4",type:c,text:d});return Je.default.createElement(y.ItemContainer,{onClick:T=>{o&&o(e,T)}},Je.default.createElement(y.Row,{assets:u,align:g},Je.default.createElement(y.Info,{icons:n,title:a,label:x,details:f}),Je.default.createElement(y.Assets,{assets:u})),Je.default.createElement(Ws,{tx:e,onCancel:t,onSpeed:r}))}var Yt=am;s();i();var ye=l(_());function mm({txs:e,onClick:o}){let[t,r]=(0,ye.useState)(null),[n,a]=(0,ye.useState)(null);return ye.default.createElement(ye.default.Fragment,null,e.map(c=>ye.default.createElement(Yt,{key:c.id,tx:c,onClick:o,onSpeed:()=>{r(c.id)},onCancel:()=>{a(c.id)}})),ye.default.createElement(Vt,{txId:t,onClose:()=>{r(null)}}),ye.default.createElement(zt,{txId:n,onClose:()=>{a(null)}}))}var Zt=mm;function lm({tx:e}){let o=hs(),{status:t,isShowPending:r,isCanceling:n}=e,[a,c]=(0,_e.useState)(!1),[d,u]=(0,_e.useState)(!1);return _e.default.createElement(_e.default.Fragment,null,(t===I.SUCCEED||t===I.FAILED)&&_e.default.createElement(ps,{url:o(e.txHash),text:m("wallet_extension_mid_link_explorer")}),r&&t===I.PENDING&&_e.default.createElement(us,{isShowCancel:!n,isShowSpeedUp:!n,isShowSpeedupCancel:n,onCancel:()=>{c(!0)},onSpeedUp:()=>{u(!0)}}),d&&_e.default.createElement(Vt,{txId:e?.id,onClose:()=>{u(!1)}}),a&&_e.default.createElement(zt,{txId:e?.id,onClose:()=>{c(!1)}}))}var zs=lm;s();i();var Oe=l(_());v();s();i();var X=l(_()),Xo=l(te());v();s();i();function cm({className:e,label:o,children:t}){return X.default.createElement("div",{className:(0,Xo.default)("rpc-evm-coin-flow__label",e)},X.default.createElement("div",{className:"rpc-evm-coin-flow__label-text"},o),X.default.createElement("div",null,t))}function dm({isNFT:e,icon:o,title:t,address:r}){let n=typeof o=="string"?X.default.createElement(On,{className:(0,Xo.default)({"rpc-evm-coin-flow__record-icon-nft":e}),src:o,alt:""}):o;return X.default.createElement("div",{className:"rpc-evm-coin-flow__record"},X.default.createElement("div",{className:"rpc-evm-coin-flow__record-icon"},n),X.default.createElement("div",{className:"rpc-evm-coin-flow__record-right"},X.default.createElement("div",{className:"rpc-evm-coin-flow__record-title"},t),r&&X.default.createElement(Ne,{className:"rpc-evm-coin-flow__record-address",label:U(r),value:r,message:m("wallet_extension_popup_title_receiving_address_copied")})))}function pm({data:e=[]}){let o=(e||[]).filter(Boolean);if(o.length===0)return null;let t=o.length===1,r=(n,a)=>{if(!n)return null;let{items:c,label:d,...u}=n;return X.default.createElement(cm,{...u,label:d,key:a},c.map((f,g)=>X.default.createElement(dm,{...f,key:g})))};return X.default.createElement("div",{className:(0,Xo.default)("rpc-evm-coin-flow",{"rpc-evm-coin-flow__hidden-label":t})},o.map(r))}var Vs=pm;var{TRANS_OUT:$s,CONTRACT_CALL:Ys,AUTHORIZATION:Jo,CANCEL_AUTHORIZATION:jo,CONTRACT_DEPLOY:Zs}=E,um={[Jo]:"wallet_extension_header_approval_title_approve",[jo]:"wallet_extension_header_approval_title_cancel_approval"},fm={[Jo]:"wallet_extension_header_approval_title_for",[jo]:"wallet_extension_header_approval_title_for"},_m="/static/images/tx-history/default-protocol.svg";function gm(e){let{type:o}=e,t=w("",!0);switch(o){case $s:{let{value:r,coinSymbol:n}=e.extraParams||{},a=`- ${F.thousandFormat(r)} ${n||m("wallet_extension_history_text_unknown_token")}`;return{items:[{icon:Oe.default.createElement(ie,{icon:!n&&Qr,text:n,size:"large",theme:"black"}),title:Oe.default.createElement(vr,{maxWidth:"284px",text:a})}]}}case Ys:{let{value:r}=e.txParams||{},n=z(r);if(st(n,0))return null;let a=`- ${gt(me(n),{symbol:t.symbol,decimals:t?.decimals})}`;return{items:[{icon:Oe.default.createElement(ie,{text:t.symbol,size:"large",theme:"black"}),title:Oe.default.createElement(vr,{text:a,maxWidth:"284px"})}]}}case Jo:case jo:{let{coinSymbol:r}=e.extraParams||{};return r?{label:m(um[o]),items:[{icon:Oe.default.createElement(ie,{text:r,size:"large",theme:"black"}),title:r}]}:null}case Zs:default:return null}}function Tm(e){let{type:o,extraParams:t}=e;switch(o){case Jo:case jo:{let{approvedAddress:r}=t||{};return{label:m(fm[o]),items:[{icon:_m,title:Oe.default.createElement(Ne,{className:"rpc-mode-evm-tx-detail-flow__authorization",label:U(r),value:r,message:m("wallet_extension_popup_title_receiving_address_copied")})}]}}case $s:case Ys:case Zs:default:return null}}function Cm({tx:e}){let o=gm(e),t=Tm(e);return Oe.default.createElement(Vs,{data:[o,t]})}var qs=Cm;s();i();var b=l(_()),Nr=l(A()),Ks=l(te());v();function xm({status:e,isCanceling:o,isSpeeding:t,isShowPending:r}){let n,a="";return e===I.SUCCEED?(n=_t.TxStatusInfoEnum.SUCCESS,a=m("wallet_extension_history_status_completed")):e===I.FAILED||e===I.DROPPED?(n=_t.TxStatusInfoEnum.FAILED,a=m("wallet_extension_history_status_failed")):e===I.PENDING&&(r?(n=_t.TxStatusInfoEnum.PENDING,o?a=m("wallet_extension_send_status_canceling"):t?a=m("wallet_extension_send_status_speedingup"):a=m("wallet_extension_history_list_status_pending")):(n=_t.TxStatusInfoEnum.WAITING,a=m("wallet_extension_history_list_status_waiting"))),b.default.createElement(_t,{label:m("wallet_extension_mid_text_status"),status:n,statusText:a})}function hm({status:e,sendTime:o,finishTime:t}){let r=(0,Nr.useSelector)(ct);return b.default.createElement(be,{label:m("wallet_extension_mid_text_time"),value:rt(e===I.PENDING?o:t,{format:"yyyyMMddHHmmss",locale:r})})}function km({type:e,extraParams:o}){let{approvedAmount:t}=o||{};return e!==E.AUTHORIZATION?null:b.default.createElement(be,{label:m("wallet_extension_mid_text_approved_amount"),value:t>=10**13?m("wallet_extension_mid_text_unlimited"):F.thousandFormat(t||"0")})}function bm({status:e,blockNumber:o}){let t=(0,Nr.useSelector)(Po),r=$e(t,o);return e===I.PENDING||e===I.DROPPED||nt(r,0)||Pt(r,14)?null:b.default.createElement(be,{label:m("wallet_extension_mid_text_block_confirmation"),value:r})}function ym(){let e=D();return b.default.createElement(be,{label:m("wallet_extension_mid_text_network"),value:b.default.createElement(b.default.Fragment,null,b.default.createElement(ie,{className:"rpc-mode-evm-tx-detail-info__network-icon",icon:e.icon,text:e.name,size:"small",theme:"lightGray"}),e.name)})}function vm({txParams:e}){let{from:o}=e;return b.default.createElement(be,{label:m("wallet_extension_mid_text_from"),value:b.default.createElement(Ne,{label:U(o),value:o,message:m("wallet_extension_popup_title_receiving_address_copied")})})}function Em({status:e,type:o,extraParams:t,txParams:r}){let{toAddress:n,tokenAddress:a,contractAddress:c}=t||{},{to:d}=r,u,f;if(o===E.TRANS_OUT)u=m("wallet_extension_mid_text_to"),f=n;else if(o===E.CONTRACT_DEPLOY)if(e===I.SUCCEED)u=m("developer_mode_history_subtitle_developer"),f=c;else return null;else u=m("wallet_extension_mid_text_interaction_address"),o===E.AUTHORIZATION||o===E.CANCEL_AUTHORIZATION?f=a:f=d;return b.default.createElement(be,{label:u,value:b.default.createElement(Ne,{label:U(f),value:f,message:m("wallet_extension_popup_title_receiving_address_copied")})})}function Im({status:e,gasUsed:o,txParams:t}){let r=D(),{gasLimit:n,maxFeePerGas:a,gasPrice:c}=t,d=Dn(R,me),u=c||a,f=gt(d(u,o||n),{symbol:r?.symbol,decimals:r?.decimals});return b.default.createElement(ds,{label:m("wallet_extension_mid_text_network_fee"),value:f,tip:e===I.PENDING&&m("wallet_extension_popup_cancle_transaction_gasprice_gaslimit",{gasPrice:F.thousandFormat(Ze(u)),gasLimit:F.thousandFormat(n)})})}function wm({txParams:e}){let{data:o}=e,[t,r]=(0,b.useState)(!1);return o?b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data"},b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data__inner"},b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data__title",onClick:()=>{r(n=>!n)}},m("developer_mode_history_title_transaction_data"),b.default.createElement(G,{className:(0,Ks.default)("okx-wallet-plugin-arrow-small-down rpc-mode-evm-tx-detail-info-data__arrow",{"rpc-mode-evm-tx-detail-info-data__arrow--spread":t})})),t&&b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info-data__data"},o))):null}function Sm({tx:e}){let{txHash:o,txParams:{nonce:t}}=e;return b.default.createElement("div",{className:"rpc-mode-evm-tx-detail-info"},b.default.createElement(xm,{...e}),b.default.createElement(hm,{...e}),b.default.createElement(km,{...e}),b.default.createElement(bm,{...e}),b.default.createElement(ym,{...e}),b.default.createElement(vm,{...e}),b.default.createElement(Em,{...e}),b.default.createElement(Im,{...e}),b.default.createElement(be,{label:m("developer_mode_history_title_nonce"),value:z(t)}),b.default.createElement(be,{label:m("wallet_extension_mid_text_transaction_hash"),value:b.default.createElement(Ne,{label:U(o),value:o,message:m("wallet_extension_popup_title_transaction_hash_copied")})}),b.default.createElement(wm,{...e}))}var Xs=Sm;var Pm=e=>{if(!e)return null;let{type:o,extraParams:t}=e,r=Ke[o];return o===E.AUTHORIZATION||o===E.CANCEL_AUTHORIZATION?m(r,{symbol:t?.coinSymbol||""}):m(r)};function Am({txId:e,onBack:o}){let r=Cs().find(({id:a})=>a===e),n=Pm(r);return je.default.createElement(xo.Action,{isFull:!0,titleCenter:!0,title:n,visible:!!e,onClose:o},je.default.createElement(fs,{message:r?.errorMessage}),!!r&&je.default.createElement("div",{className:"rpc-mode-tx-detail__content"},je.default.createElement(qs,{tx:r}),je.default.createElement(Xs,{tx:r}),je.default.createElement(zs,{tx:r})))}var qt=Am;s();i();s();i();var Qo=l(_());function Nm({txs:e,onClick:o}){let t=(0,Qo.useMemo)(()=>e.map(r=>{let n,a;return r.status===I.PENDING?(n=r.sendTime,a=Yt):(n=r.finishTime,a=Wt),{...r,sortTime:n,Comp:a}}),[e]);return t.length===0?null:Qo.default.createElement(Rt,{txs:t,onClick:o})}var Js=Nm;s();i();var js=l(_());function Dm({txs:e,onClick:o}){return e.length===0?null:js.default.createElement(Zt,{txs:e,onClick:o})}var Qs=Dm;s();i();var ei={"rpc-evm-coin-detail-list":"_rpc-evm-coin-detail-list_1xbbm_1",rpcEvmCoinDetailList:"_rpc-evm-coin-detail-list_1xbbm_1"};function Lm(){let e=Le(),o=xs({tokenAddress:e}),[t,r]=(0,ge.useState)(null),[n,a]=(0,ge.useMemo)(()=>{let d=[],u=[];return o.forEach(f=>{f.isShowPending?d.push(f):u.push(f)}),[d,u]},[o]),c=d=>{r(d.id)};return o.length===0?ge.default.createElement(y.Empty,{top:48,description:m("wallet_transaction_history_subtitle_no_records")}):ge.default.createElement("div",{className:ei.rpcEvmCoinDetailList},ge.default.createElement(Qs,{txs:n,onClick:c}),ge.default.createElement(Js,{txs:a,onClick:c}),ge.default.createElement(qt,{txId:t,onBack:()=>{r(null)}}))}var ti=Lm;s();i();var Ct=l(_()),si=l(A());s();i();var Kt=l(_()),oi=l(A()),ri=l(V());v();var Om=()=>{let e=(0,ri.useHistory)(),o=(0,oi.useDispatch)(),t=D(),r=Le(),n=w(r),a=`${lt}?address=${r||""}`,c=!r&&t?.faucetUrl;return Kt.default.createElement("div",{className:"rpc-evm-coin-detail-btns"},Kt.default.createElement(Mo,{strong:!1,space:"13px",size:Fo.xl,disabled:st(n?.balance,0),icon:"okx-wallet-plugin-up",text:m("wallet_home_btn_send"),onClick:()=>{o(Cn(a));let d=`${pe}?showClose=1`;r&&(d+=`&address=${r}`),e.push(d)}}),Kt.default.createElement(Mo,{strong:!1,space:"13px",size:Fo.xl,icon:"okx-wallet-plugin-down",text:m("wallet_home_btn_receive"),onClick:()=>{let d=r?`&address=${r}`:"";e.push(`${mt}?showClose=1${d}`)}}),c&&Kt.default.createElement(Mo,{strong:!1,space:"13px",size:Fo.xl,icon:"okx-wallet-plugin-web3-faucet",text:m("developer_mode_home_btn_faucet"),href:t?.faucetUrl}))},ni=Om;function Bm(){let e=Le(),o=w(e),t=o?.balance||0,{symbol:r,usdToThisRate:n}=(0,si.useSelector)(Zr),a=R(o?.price,n);return{coinAmount:t,coinSymbol:o?.symbol,coinAmountDisplay:ho(t,{useLargeNumberPrecision:!0}).value,currencyAmountDisplay:Ln({amount:t,rate:a,symbol:r},{useSign:!0,useFixed:!0})}}function Fm(){let e=ne(),{coinSymbol:o,coinAmountDisplay:t}=Bm();return Ct.default.createElement(Ct.default.Fragment,null,Ct.default.createElement(Bs,{coinSymbol:o,amountDisplay:t,currencyDisplay:null,justify:qe.ALIGN.start}),Ct.default.createElement(ni,null),Ct.default.createElement(Fs,{addressLabel:"",address:e,addressType:void 0,isDefaultAddress:!1,coin:{},baseCoin:{},canChangeDefaultAddress:!1,openAddressesDialog:()=>{}}))}var ii=Fm;s();i();function Mm(){return xt.default.createElement("div",{className:"rpc-evm-coin-detail"},xt.default.createElement(Hs,null),xt.default.createElement("div",{className:"rpc-evm-coin-detail__content"},xt.default.createElement(ii,null),xt.default.createElement(ti,null)))}var ai=Mm;s();i();var O=l(_());v();s();i();var ve=l(_()),mi=l(V()),Dr=l(le());wt();v();var Gm="0x",Hm=()=>{let e=Bo();return async o=>{try{return!ft(o)||await(await e()).getCode(o)===Gm}catch(t){return console.log(t),!0}}},li=()=>{let e=H.useForm(),o=(0,mi.useHistory)(),[t,r]=ve.default.useState(null),[n,a]=ve.default.useState(!1),[c,d]=ve.default.useState(!1),u=vn(),f=bn(),g=yn(),x=Hm(),T=fe(!0,!0),h=D();ve.default.useEffect(()=>{e?.setFieldsValue({network:h.name})},[h]);let C=(0,Dr.useMemoizedFn)(()=>{let{chainId:Z}=h,q=e.getFieldsValue();u(Z,q.address,q),g({chainId:Z,address:q.address}),Se.success({title:m("developer_mode_manage_toast_added")}),o.go(-1)},[h]),P=(0,Dr.useMemoizedFn)(Mr(async()=>{r(null),d(null);let Z=e.getFieldValue("address");if(e.cleanErrors(),!Z)return!1;let q=T.find(ae=>ae.address===Z);if(q&&!q.isDeleted)return e.setErrors({address:m("developer_mode_manage_errortip_duplicate_add")});if(a(!0),d(!1),await x(Z))return a(!1),e.setErrors({address:m("developer_mode_manage_errortip_request_failed")});try{let ae=await f(Z);r(ae),e.setFieldsValue(ae)}catch(ae){d(!0),e.setErrors({address:""}),console.log("error",ae)}finally{a(!1)}},250),[T]),Q=(0,ve.useMemo)(()=>c?ve.default.createElement("div",{className:"rpc-mode-custom-crypto__address__error"},m("developer_mode_manage_errortip_request_failed"),ve.default.createElement("span",{className:"rpc-mode-custom-crypto__address__refresh",onClick:P},m("developer_mode_manage_errortip_refresh"))):null,[c]);return{form:e,token:t,rpcInfo:h,fetching:n,addressError:Q,onConfirm:C,onAddressTrigger:P}};s();i();var Um=11,Wm=()=>{let{form:e,token:o,rpcInfo:t,fetching:r,onConfirm:n,addressError:a,onAddressTrigger:c}=li();return O.default.createElement("div",{className:"rpc-mode-custom-crypto"},O.default.createElement(W,{title:m("developer_mode_manage_maintitle_customcpt")}),O.default.createElement(H,{form:e,size:H.SIZE.lg,validateTrigger:["onBlur","onChange"],className:"rpc-mode-custom-crypto__form"},O.default.createElement(H.Item,{name:"network",label:m("developer_mode_manage_title_network")},O.default.createElement(N,{size:H.SIZE.xl,innerClassName:"rpc-mode-custom-crypto__form__input__disabled",prefix:O.default.createElement(ie,{theme:"lightGray",icon:t.icon,text:t?.name,className:"rpc-mode-custom-crypto__icon"})})),O.default.createElement(H.Item,{name:"address",label:m("developer_mode_manage_title_contractadd"),extra:a},O.default.createElement(N.TextArea,{autoResize:!0,size:H.SIZE.xl,onChange:c,errorType:N.TIP_TYPE.always,suffix:r&&O.default.createElement(Tr.Circle,{size:Tr.SIZE.sm})})),O.default.createElement(H.Item,{name:"symbol",hidden:!o,label:m("developer_mode_manage_title_symbol"),rules:[{validator:(d,u)=>u?.length>Um?Promise.reject(m("developer_mode_manage_errortip_symbollimit")):Promise.resolve()}]},O.default.createElement(N,{size:H.SIZE.xl})),O.default.createElement(H.Item,{hidden:!o,name:"decimals",label:m("developer_mode_manage_title_decimals")},O.default.createElement(N,{size:H.SIZE.xl,disabled:!0})),O.default.createElement(H.Item,{hidden:!0,name:"name"},O.default.createElement(N,{size:H.SIZE.xl})),O.default.createElement(H.Item,{noStyle:!0,shouldUpdate:!0},({getFieldsError:d,getFieldValue:u})=>O.default.createElement(Pe.FooterActions,{usePortal:!0,offsetBottom:0},O.default.createElement(L,{size:L.SIZE.lg,type:L.TYPE.highlight,category:L.CATEGORY.fill,disabled:d().length||!u("symbol"),onClick:n},m("developer_mode_manage_btn_confirm"))))))},ci=Wm;s();i();var fi=l(_());s();i();var Xt=l(_()),di=l(A()),er=l(le());wt();var pi=l(Ha());var Lr=class extends pi.default{constructor(){super();gr(this,"DROPPED_BUFFER_COUNT",3);gr(this,"droppedBlocksBufferByTxHash",new Map);this.confirmedTxs=[],this.provider=null}setProvider(t){this.provider=t}setConfirmedTxs(t){this.confirmedTxs=t}async checkPendingTx(t,r,n){let a=[t,...t.txPool],c=0,d;(await Promise.allSettled(a.map(f=>this.checkOnePendingTx(f)))).forEach(f=>{if(f.status==="fulfilled"){let{value:g={}}=f;if(g.status==="dropped")c++;else if(g.status==="confirmed"){let{txId:x,transactionReceipt:T}=g;d={id:x,transactionReceipt:T}}}}),d?r(d,t.id):c===a.length&&n(t.id)}async checkOnePendingTx(t){let{id:r,txHash:n}=t;if(!n||t.status===I.DROPPED||this.checkIfNonceIsTaken(t))return{status:"dropped"};try{let a=await this.provider.getTransactionReceipt(n);if(a?.blockNumber)return{status:"confirmed",txId:r,transactionReceipt:a}}catch(a){throw new Error(a)}return await this.checkIfTxWasDropped(t)?{status:"dropped"}:{}}checkIfNonceIsTaken(t){return this.confirmedTxs.some(r=>r.id!==t.id&&st(z(r.txParams.nonce),z(t.txParams.nonce)))}async checkIfTxWasDropped(t){let{id:r,txHash:n,txParams:{nonce:a,from:c}}=t,d=`${r}-${n}`,u;try{u=await this.provider.getTransactionCount(c)}catch{return!1}if(_o(u)||Pt(z(a),u))return!1;this.droppedBlocksBufferByTxHash.has(d)||this.droppedBlocksBufferByTxHash.set(d,0);let f=this.droppedBlocksBufferByTxHash.get(d);return f<this.DROPPED_BUFFER_COUNT?(this.droppedBlocksBufferByTxHash.set(d,f+1),!1):(this.droppedBlocksBufferByTxHash.delete(d),!0)}};function ui(){let e=Bo(),o=ks(),t=(0,di.useSelector)(Po),r=(0,er.useLatest)(ne()),n=(0,er.useLatest)(De()),a=(0,er.useLatest)(gs()),c=(0,Xt.useRef)(!1),d=(0,Xt.useRef)(new Lr),u=async(x,T,h)=>{let C=await _s({txId:x,replaceTxId:T,tx:h});o(C)},f=x=>{u(x,null,{status:I.DROPPED,finishTime:+new Date})},g=({id:x,transactionReceipt:T},h)=>{let C={blockNumber:T.blockNumber,gasUsed:T.gasUsed.toString(),finishTime:+new Date,extraParams:{contractAddress:T.contractAddress}};T.status?C.status=I.SUCCEED:C.status=I.FAILED,u(h,x,C)};(0,Xt.useEffect)(()=>{(async()=>{if(!(n.current.length===0||c.current)){c.current=!0;try{let T=await e();d.current.setProvider(T),d.current.setConfirmedTxs(a.current);let h=null;try{h=await T.getTransactionCount(r.current,"latest")}catch{}await Promise.all(n.current.map(C=>h!==null&&Pt(z(C.txParams.nonce),h)?null:d.current.checkPendingTx(C,g,f)))}finally{c.current=!1}}})()},[t,e])}var Rm=()=>(as(),As(),ui(),Ds(),null),_i=(0,fi.memo)(Rm);s();i();var k=l(_()),jt=l(A()),Ai=l(V()),Ni=l(le());v();Ua();s();i();var ce=l(_()),gi=l(V()),Ti=l(te()),Ci=l(br());v();s();i();var Jt={button:"_button_l2q1y_1",showButton:"_showButton_l2q1y_5",editIcon:"_editIcon_l2q1y_11"};var zm=190,xi=({dataSource:e,backupHeight:o,scrollTop:t})=>{let r=(0,ce.useMemo)(()=>e.length>=8&&t>zm,[e.length,t]),{paddingBottom:n,buttonPaddingBottom:a,absoluteBottom:c}=es({isButtonAbsolute:r,backupHeight:o});return ce.default.createElement("div",{className:Jt.wrapper},ce.default.createElement("div",{style:{paddingBottom:n}},ce.default.createElement(yr,{className:"rc-mode-home__tokens",dataSource:e,renderItem:d=>ce.default.createElement(yr.Coin,{name:d?.name,symbol:d?.symbol,to:`${lt}?${Ci.default.stringify({address:d?.address})}`,balance:d.balance||"0",market:!1,displayPrecision:d?.displayPrecision,stableCoin:d?.stableCoin,"data-testid":Ft.RPC_MODE_HOME_PAGE.TOKEN_LIST_ITEM})})),ce.default.createElement("div",{className:`${r?Jt.showButton:""} ${Jt.button}`,style:{bottom:c,paddingBottom:a}},ce.default.createElement(gi.Link,{to:Eo},ce.default.createElement(L,{circle:!0,type:L.TYPE.primary,category:L.CATEGORY.outline,"data-testid":Ft.RPC_MODE_HOME_PAGE.MANAGE_CRYPTO_BUTTON},ce.default.createElement(G,{className:(0,Ti.default)("okx-wallet-plugin-edit-wallet",Jt.editIcon)}),m("developer_mode_home_maintitle_managecpt")))))};s();i();var Be=l(_()),ki=l(V()),bi=l(br());s();i();var hi=[{text:"wallet_home_btn_send",icon:"okx-wallet-plugin-up",type:"SEND"},{text:"wallet_home_btn_receive",icon:"okx-wallet-plugin-down",type:"RECEIVE"},{text:"developer_mode_home_btn_faucet",icon:"okx-wallet-plugin-web3-faucet",type:"FAUCET",disabledText:"extension_wallet_home_tooltip_no_faucet"},{text:"developer_mode_home_btn_t_tradinghistory",icon:"okx-wallet-plugin-history-1",type:"HISTORY"},{text:"wallet_extension_home_text_toolkit",icon:"okx-wallet-plugin-overview-20",type:"MORE"}];var yi=()=>{let{isNotBackupWallet:e}=Go(),o=Ho(),t=(0,ki.useHistory)(),r=fe(),n=D(),a=(0,Be.useMemo)(()=>r.filter(({balance:C})=>!!Number(C)),[r]),c=(0,Be.useCallback)(()=>{a.length===1?t.push(`${pe}?${bi.default.stringify({address:a[0]?.address})}`):t.push(vo)},[a]),d=(0,Be.useCallback)(()=>{e?o():t.push(mt)},[e]),u=()=>{t.push(wo)},f=(0,Be.useCallback)(()=>{n.faucetUrl&&globalThis.open(n.faucetUrl)},[n.faucetUrl]),g=()=>{jr({button_name:"more",site:""})},x=()=>{t.push(on)},T=(0,Be.useCallback)(C=>{switch(C.type){case"SEND":c();break;case"RECEIVE":d();break;case"HISTORY":u();break;case"FAUCET":f();break;case"DAPP_CONNECT":x();break;case"MORE":g();break;default:break}},[x,f,u,d,c]),h=(0,Be.useMemo)(()=>hi.map(C=>C.type==="FAUCET"?{...C,disabled:!n?.faucetUrl}:C),[n]);return{clickHandle:T,iconOptions:h}};s();i();var tr=l(_()),Ei=l(A()),Ii=l(V()),wi=l(le());v();s();i();var Zm=l(_()),qm=l(A());s();i();var $m=l(_()),Ym=l(te());var vi="SHOW-SWITCH";var Si=()=>{let e=se(),o=(0,Ii.useHistory)(),t=fe(),r=D(),n=ne(),[a,c]=tr.default.useState(!0),{isNotBackupWallet:d}=Go(),u=(0,Ei.useSelector)($r);(0,wi.useMount)(()=>{e.get("from")==="setting"&&(c(!1),o.replace({search:""}),Hr.listen(vi,()=>{c(!0)}))});let f=(0,tr.useMemo)(()=>t.find(({address:g})=>!g)||{},[t]);return{rpcInfo:r,mainToken:f,chainTokens:t,walletAccount:u,ethereumAccount:n,isNotBackupWallet:d,switchVisible:a}};s();i();var Pi={wrapper:"_wrapper_11hdl_1"};var Km=({isNotBackupWallet:e,unapprovedRequestCount:o,unapprovedPermissionsRequestId:t,triggerShowBackupWalletDialog:r})=>{e&&o!==0&&r({text:m("wallet_dapp_conncetion_alert_backup_wallet")},t)},Xm=({history:e,isRpcMode:o})=>{o||e.replace(oe)},Jm=({walletAccount:e})=>{let{walletId:o}=e||{};return o},jm=e=>{let o=Wr()===Ur;(0,k.useEffect)(()=>{e&&o&&globalThis.platform.openExtensionInPopup(bo)},[])},Qm=()=>{let{isNeedShowDisconnectUpgrade:e,setDisconnectUpgrade:o}=$n();return(0,k.useCallback)(()=>{e&&(Se.success({title:m("wallet_extension_card_subtitle_disconnect_update")}),o())},[e,o])},el=e=>{let[o,t]=(0,k.useState)(at.init);return{tryRpc:()=>{!e.rpcUrl||(t(at.loading),Ls(e.rpcUrl).then(()=>{t(at.success)}).catch(()=>{t(at.failed)}))},status:o,setStatus:t}},tl=({mainToken:e,chainId:o,walletId:t,symbol:r})=>{let n=Bt(t);(0,k.useEffect)(()=>{(async()=>{if(e?.balance&&o){let a="";try{a=(await Un({keyringIdentityType:n?.keyringIdentityType,account:n?.account,serverWalletType:n?.serverWalletType}))?.refCode||""}catch{}Jr({wallet_id:t,main_coin_number_by_networks:[{chain_id:z(o),main_token_symbol:r,main_token_amount:e?.balance}],web3_c_ref:a})}})()},[t,e?.balance,o,r])},ol=(e,o)=>{let t=(0,jt.useDispatch)();(0,k.useEffect)(()=>{(async()=>{e===0&&!o&&await t(In())})()},[e])},rl=()=>{let e=(0,Ai.useHistory)(),o=Ho(),t=jn(),{rpcInfo:r,chainTokens:n,isNotBackupWallet:a,mainToken:c,ethereumAccount:d}=Si(),u=Bt(),f=(0,k.useRef)(null),[g,x]=(0,k.useState)(0),[T,h]=(0,k.useState)(0),C=(0,k.useRef)(null),{unapprovedRequestCount:P,unapprovedPermissionsRequestId:Q}=Ss(),Z=Pn(),q=An(),Re=Yn(),{loadingMoonCatData:ae}=kn(),io=(0,k.useCallback)((...fo)=>{ae||o(...fo)},[o,ae]);(0,k.useEffect)(()=>{Km({isNotBackupWallet:a,unapprovedRequestCount:P,unapprovedPermissionsRequestId:Q,triggerShowBackupWalletDialog:io});let fo=q({isNotBackupWallet:a,unapprovedRequestCount:P,unapprovedPermissionsRequestId:Q,unapprovedRequests:Z});fo&&e.replace(fo)},[a,P,io,q]);let ze=(0,jt.useSelector)(Yr);ol(P,ze);let{isRpcMode:ao}=(0,jt.useSelector)(ko);(0,k.useEffect)(()=>{Xm({history:e,isRpcMode:ao})},[ao]),jm(ze);let et=ho(c.balance).value,{clickHandle:Ve,iconOptions:ur}=yi(),tt=Qm(),{data:we,canUseSA:Et,refetch:B}=Xn(),It=(0,k.useMemo)(()=>Kn(we?.teeStatus),[we]),mo=()=>{Xr(),Et&&e.push(mn)},lo=(0,k.useCallback)(()=>{B()},[B]),fr=os(),{run:co}=(0,Ni.useDebounceFn)(()=>{h(C.current?.scrollTop||0)},{wait:50,maxWait:50}),{status:_r,tryRpc:po}=el(r);(0,k.useEffect)(()=>{po()},[r?.rpcUrl]),(0,k.useLayoutEffect)(()=>{f.current&&a&&x(f.current?.clientHeight||0)},[a]);let ee=Jm({walletAccount:u}),{chainId:ot,symbol:uo}=r;return tl({mainToken:c,chainId:ot,walletId:ee,symbol:uo}),k.default.createElement("div",{className:Pi.wrapper,ref:C,onScroll:()=>{co()}},Et&&It!=="not_enabled"&&we&&k.default.createElement(ts,{status:It,data:we,onClick:mo,onExpired:lo}),k.default.createElement("div",null,k.default.createElement(rs,{titleLeft:u?.keyringName,titleRight:u?.walletName,subTitle:U(d),address:d,chainName:r?.name,filterAddress:[],filterHotAddress:[],isNotBackupWallet:a,isFactionPKAccount:!1,saStatus:It}),k.default.createElement(is,{balance:et,symbol:c.symbol}),k.default.createElement(Qn,{clickHandle:Ve,iconOptions:ur}),k.default.createElement(Jn,null),k.default.createElement(xi,{dataSource:n,scrollTop:T,backupHeight:a?g+24:0})),k.default.createElement(Zn,{info:t,isNotBackupWallet:a,disconnectCallback:tt}),k.default.createElement("div",{ref:f},k.default.createElement(Vn,{offsetBottom:24})),k.default.createElement(ns,{showBackup:()=>{}}),k.default.createElement(Os,{visible:_r===at.failed,onRetry:po,onChangeNet:()=>{e.push(`${rn}?tab=${fr?.networkType??"1"}`)}}),Re&&k.default.createElement(qn,{actionMap:{["RECOVER"]:()=>{e.push(`${an}?action=${Bn.RECOVER}`)},["SWITCH_WALLET"]:()=>{e.push(`${nn}?fromHome=1`)}}}))},Di=rl;s();i();var $=l(_()),Wi=l(V()),Ri=l(te());v();s();i();var Ee=l(_()),Bi=l(te());s();i();var ht=l(_()),Li=l(te());var Oi=({token:e,className:o,children:t,onClick:r})=>ht.default.createElement("div",{onClick:r,className:(0,Li.default)("rc-mode__token",o)},ht.default.createElement(ie,{fontSize:"18px",theme:"black",className:"rc-mode__token__icon",size:"large",text:e?.symbol}),ht.default.createElement("div",{className:"rc-mode__token__info"},ht.default.createElement("div",{className:"rc-mode__token__title"},e.symbol),ht.default.createElement("div",{className:"rc-mode__token__name"},e.name)),t);var Fi=({className:e,dataSource:o=[],renderItem:t,emptyText:r,useFade:n,component:a="div",...c})=>{let d=!o.length,u=n?wn:Ee.default.Fragment,f=n?Sn:Ee.default.Fragment,g=n?"div":Ee.default.Fragment;return Ee.default.createElement(a,{className:(0,Bi.default)("rc-mode__tokens",e),...c},Ee.default.createElement(u,null,o.map((x,T)=>{let h=T,C=Ee.default.createRef();return Ee.default.createElement(f,{key:h,nodeRef:C},Ee.default.createElement(g,{ref:C},t(x)))})),d&&r)};Fi.Item=Oi;var Fe=Fi;s();i();var Mi=l(_()),Gi=l(A()),Hi=l(le());var Ui=()=>{let e=(0,Gi.useDispatch)(),o=D(),{chainId:t}=o,r=fe(!0,!0),n=(0,Mi.useMemo)(()=>{let c=[],d=[];return r.forEach(u=>{u.isDeleted?d.push(u):c.push(u)}),{usedChainTokens:c,disusedChainTokens:d}},[r]),a=(0,Hi.useMemoizedFn)(({address:c,isDeleted:d})=>{e(xn({chainId:t,address:c,isDeleted:!d}))});return[n,a]};s();i();var nl=()=>{let[{usedChainTokens:e,disusedChainTokens:o},t]=Ui();return $.default.createElement("div",{className:"rpc-mode-manage-crypto"},$.default.createElement(W,{closeable:!1,title:m("developer_mode_home_maintitle_managecpt")}),$.default.createElement(Wi.Link,{to:Io},$.default.createElement("div",{className:"rpc-mode-manage-crypto__custom"},$.default.createElement("span",{className:"rpc-mode-manage-crypto__custom__title"},m("developer_mode_manage_text_customcpt")),$.default.createElement(G,{className:"okx-wallet-plugin-right rpc-mode-manage-crypto__custom__icon"}))),$.default.createElement("h2",{className:"rpc-mode-manage-crypto__added"},m("developer_mode_manage_title_addedcpt")),$.default.createElement(Fe,{useFade:!0,className:"rc-mode-home__tokens",dataSource:e,renderItem:r=>{let n=!r.address;return $.default.createElement(Fe.Item,{token:r},$.default.createElement(G,{className:(0,Ri.default)("okx-wallet-plugin-take","rc-mode-home__token__action","rc-mode-home__token__action__minus",{"rc-mode-home__token__action__disabled":n}),onClick:()=>t(r)}))}}),!!o.length&&$.default.createElement("h2",{className:"rpc-mode-manage-crypto__added"},m("developer_mode_manage_title_adding")),$.default.createElement(Fe,{useFade:!0,className:"rc-mode-home__tokens",dataSource:o,renderItem:r=>$.default.createElement(Fe.Item,{token:r,key:r?.address},$.default.createElement(G,{className:"okx-wallet-plugin-add rc-mode-home__token__action rc-mode-home__token__action__add",onClick:()=>t(r)}))}))},zi=nl;s();i();var or=l(_()),Vi=l(V());var sl=()=>{let e=(0,Vi.useHistory)(),o=se(),t=o.get("showClose"),r=o.get("address"),n=D(),a=w(r),c=ne(),d=`ethereum:${c}`;return or.default.createElement(Fn,{navigator:{bordered:!1,onClose:t?()=>{e.push(oe)}:null,closeable:!0},content:{symbol:a?.symbol,coinLogo:a?.icon,chainName:n?.name,walletAddress:c,aggregation:!1,QRCodeAddress:d}})},$i=(0,or.memo)(sl);s();i();var de=l(_()),qi=l(V()),Ki=l(br());v();s();i();var Qt=l(_()),Yi=l(le());var Zi=()=>{let e=fe(),[o,t]=Qt.default.useState(),r=(0,Yi.useMemoizedFn)(({target:{value:c}})=>{t(c)}),n=(0,Qt.useMemo)(()=>e.filter(({balance:c})=>!!Number(c)),[e]);return[(0,Qt.useMemo)(()=>o?n.filter(({name:c,symbol:d})=>{let u=o?.toLowerCase();return c?.toLowerCase()?.includes(u)||d?.toLowerCase()?.includes(u)}):n,[o,n]),{onChange:r,value:o,showSearch:!!n.length}]};s();i();var il=()=>{let[e,{showSearch:o,...t}]=Zi();return de.default.createElement("div",{className:"rc-mode-select__token"},de.default.createElement(W,{title:m("developer_mode_send_title_selecta_token")}),o&&de.default.createElement(N.Search,{placeholder:m("developer_mode_send_input_selecta_token",{},{useBr:!1}),className:"rc-mode-select__token__search",...t}),de.default.createElement(Fe,{dataSource:e,renderItem:r=>de.default.createElement(qi.Link,{to:`${pe}?${Ki.default.stringify({showClose:1,address:r?.address})}`},de.default.createElement(Fe.Item,{token:r},de.default.createElement("div",{className:"rc-mode-select__token__balance"},de.default.createElement("div",{className:"rc-mode-select__token__amount"},F.thousandFormat(r.balance||0))))),emptyText:de.default.createElement(At.State,{className:"rc-mode-select__token__empty",title:o?m("developer_mode_send_toast_addnewtoken",{crypto:de.default.createElement("span",{className:"rc-mode-select__token__empty__title__special"},t.value)}):m("developer_mode_send_toast_nonetoken")})}))},Xi=il;s();i();var S=l(_()),M=l(A()),Ji=l(V()),ji=l(le());wt();v();za();function al(e){let o=(0,M.useSelector)(K),t=!o,r=ne(),n=(0,M.useSelector)(ue),a=(0,M.useSelector)(xr),c=(0,M.useSelector)(dn),d=(0,M.useSelector)(Dt),u=(0,M.useSelector)(Lt),f=D(),g={from:r,to:t?n:o,value:t?c:"0x0",data:a},[x,T]=Es(g),h=Is({data:g.data,type:x}),C=w(g.to),P=Rn(h?.amount||0,C?.decimals);return{txMeta:ws({tx:g,customGasInfo:e,nonce:d||u,txData:h,tokenInfo:C,chain:f,approvedAmount:P,formattedAmount:P,txType:x}),loadingTxData:T}}var ml=()=>{let e=(0,Ji.useHistory)(),o=(0,M.useDispatch)(),t=(0,M.useSelector)(Do),r=(0,M.useSelector)(K),n=w(r),a=w(),c=(0,M.useSelector)(dt),d=Nn(),u=Bt(d),f=(0,M.useSelector)(ue),g=(0,M.useSelector)(Dt),x=(0,M.useSelector)(Lt),T=(0,M.useSelector)(xr),h=D(),C=bs(h),P=Wn(d),[Q,Z]=(0,S.useState)(!1),[q,Re]=(0,S.useState)(!1),{setGasType:ae,chainGasLevels:io,currentGasInfo:ze,setCustomGasOption:ao,chainGasLoading:et,chainGasLoadFailed:Ve,chainGasLimitLoadFailed:ur}=zo(),tt=ze,we=Gt(ze),Et=(0,M.useSelector)(cn),{txMeta:B,loadingTxData:It}=al(ze),mo=n?.balanceInt;(0,ji.useMount)(()=>{if(!f){let ee=pe;r&&(ee+=`?address=${r}`),e.replace(ee)}});let lo=(0,S.useMemo)(()=>[E.AUTHORIZATION,E.CANCEL_AUTHORIZATION].includes(B.type)?!1:B.type===E.TRANS_OUT?B.extraParams?.value:c,[c,B]),fr=(0,S.useMemo)(()=>B.type===E.TRANS_OUT?B.extraParams?.coinSymbol:[E.AUTHORIZATION,E.CANCEL_AUTHORIZATION].includes(B.type)?m(Ke[B.type],{symbol:B.extraParams?.coinSymbol}):m(Ke[B.type]),[B]),co=()=>{setTimeout(()=>{o(Oo())},200),e.push(t||oe)},_r=async()=>{try{Re(!0),await C(B,void 0,ee=>{let ot=ln[u?.keyringIdentityType];Kr({tx_source:"transfer",from_addr:ee?.txParams?.from,to_addr:f,main_token_symbol:h?.symbol,token_symbol:ee?.extraParams?.coinSymbol||"",contract_address:r||"",volume_token:c,volume_usdt:"",tx_hash_unique:ee?.txHash,wallet_type:ot,chain_id:parseInt(h?.chainId,16)})}),co()}catch(ee){Fr(ee)}finally{Re(!1)}},po=(0,S.useMemo)(()=>Ve?{type:wr.TIP_TYPE.FEE_ERROR}:tt?.isSupportEip1559&&tt?.baseFeePerGas==="0"?{type:Rr.TYPE.warn,message:m("wallet_extension_transaction_error_base_zero")}:null,[Ve,tt?.baseFeePerGas,tt?.isSupportEip1559]);return(0,S.useEffect)(()=>{if(Et){let ee=n.decimals,ot=go(mo,10**ee),uo=r?ot:$e(ot,we);o(Lo(nt(uo,0)?"0":uo))}},[we,Et,mo,r,n.decimals]),S.default.createElement(qe.Container,null,S.default.createElement(W,{icon:B.type===E.TRANS_OUT&&{text:B.extraParams?.coinSymbol},title:fr,onClose:co}),lo&&S.default.createElement(Mt,null,S.default.createElement(Hn,{summaryList:[{useMinPrecision:!1,coinAmount:lo,injectCoin:n,displayEstimate:!1}],title:m("wallet_extension_send_colored_send")})),S.default.createElement(Mt,null,S.default.createElement(Ir,{localType:Vr,title:m("extension_send_mid_text_from"),walletId:d,onCopyCallback:()=>{P({trade:"send",all_confirmation:"wallet_used_address"})}}),S.default.createElement(Ir,{address:f,title:m("extension_send_mid_text_to"),onCopyCallback:()=>{P({trade:"send",all_confirmation:"to_address"})}})),S.default.createElement(Mt,null,S.default.createElement(Gn,{onClick:()=>{Z(!0)},injectCoin:a,estimateFailed:!!Ve,networkFee:et?void 0:F.mul(we,10**a?.decimals),loading:et})),S.default.createElement(Mt,{bordered:!1},S.default.createElement(Mn,{title:m("developer_mode_send_maintitle_nonce1")},S.default.createElement(ke.Text,{size:ke.SIZE.sm},g||x)),!!T&&S.default.createElement(zn,{copyable:!0,defaultExpanded:!0,data:T})),S.default.createElement(Pe,{placeholder:!0,offsetBottom:0},S.default.createElement(wr,{...po}),S.default.createElement(Er,{buttonGroup:[{disabled:!!Ve,onClick:_r,actionType:Er.ACTION_TYPE.CONFIRM,loading:(It||q||et)&&!Ve}]})),et?null:S.default.createElement(Ns,{onBack:()=>{Z(!1)},visible:Q,rpcInfo:h,setGasType:ae,chainGasLevels:io,setCustomGasOption:ao,currentGasInfo:ze,chainGasLimitLoadFailed:ur}))},Qi=ml;s();i();var Ce=l(_()),pa=l(A()),ua=l(le());s();i();var Qe=l(_()),eo=l(A());v();function ll(){let e=(0,eo.useDispatch)(),o=(0,eo.useSelector)(ue),t=(0,eo.useSelector)(Ao),r=(0,Qe.useRef)(null),n=c=>{let{value:d}=c.target,u=null;d?d&&!ft(d,{allowNonPrefixed:!1})&&(u={key:"wallet_manage_crypto_errortip_invalid_address_tips"}):u={key:"wallet_transfer_errortip_receive_address_empty"},e(fn(d)),e(_n(u))};(0,Qe.useLayoutEffect)(()=>{r.current.focus()},[]);let a=m("wallet_extension_transaction_placeholder_input_address");return Qe.default.createElement(Ae.Row,null,Qe.default.createElement(N.TextArea,{onRef:c=>{r.current=c},value:o,label:m("wallet_extension_transaction_input_label_to"),placeholder:a,size:N.SIZE.xl,autoResize:!0,errorType:N.TIP_TYPE.always,error:t&&m(t.key,t.args),onChange:n}))}var ea=ll;s();i();var Te=l(_()),Me=l(A()),nr=l(le());v();s();i();var rr={"max-button":"_max-button_zd8rw_1",maxButton:"_max-button_zd8rw_1",balance:"_balance_zd8rw_14","balance-wrap":"_balance-wrap_zd8rw_18",balanceWrap:"_balance-wrap_zd8rw_18"};function cl(e){let o=(0,Me.useDispatch)(),t=(0,Me.useSelector)(K),r=w(),n=w(t),a=r?.balance,c=Gt(e),d=!t,{run:u,cancel:f}=(0,nr.useThrottleFn)(g=>{let x=null,T=$e(a,c);To(T,"0")?x={key:"wallet_transfer_errortip_mainchain_coin_insufficient",args:{chainSymbol:r?.symbol}}:Ye(g,d?T:n?.balance)&&(x={key:"wallet_transfer_errortip_insufficient_balance"}),o(gn(x))},{wait:100});return(0,nr.useUnmount)(f),u}function dl({currentGasInfo:e}){let o=(0,Me.useDispatch)(),t=w(),r=(0,Me.useSelector)(K),n=(0,Me.useSelector)(dt),a=(0,Me.useSelector)(No),c=w(r),d=c?.balanceInt,u=gt(c?.balance,{symbol:c?.symbol,decimals:c?.decimals}),f=cl(e),g=Gt(e),x=(0,Te.useRef)(!!n),T=C=>{x.current=!0,o(Lo(C))},h=()=>{let C=c?.decimals,P=go(d,10**C);if(r)T(P);else{let Q=$e(P,g);T(nt(Q,"0")?"0":Q)}o(kr(!0))};return(0,Te.useEffect)(()=>{x.current&&f(n)},[n,g,t?.balance]),Te.default.createElement(Ae.Row,null,Te.default.createElement(N.Number,{placeholder:F.showFloorTruncation(0,6,{needZero:!0}),title:m("wallet_extension_send_subtitle_amount"),size:N.SIZE.xl,enableMinus:!1,precision:c?.decimals,value:n,error:a&&m(a.key,a.args),errorType:N.TIP_TYPE.always,onChange:C=>{T(C),o(kr(!1))},action:Te.default.createElement(ke.Text,{size:ke.SIZE.xs,type:ke.TYPE.secondary,className:rr["balance-wrap"],onClick:h},`${m("wallet_extension_send_text_balance")}:`,Te.default.createElement(ke.Text,{inherit:!0,ellipsis:{tooltip:!0},className:rr.balance},u)),suffix:Te.default.createElement(ke.Text,{className:rr["max-button"],onClick:h},m("wallet_extension_send_text_max"))}))}var ta=dl;s();i();var sr=l(_()),kt=l(A()),oa=l(V());v();function pl(){let e=(0,kt.useSelector)(ue),o=(0,kt.useSelector)(Ao),t=(0,kt.useSelector)(No);return!e||!!o||!!t}function ul({loading:e}){let o=(0,kt.useSelector)(ue),t=ne(),r=(0,oa.useHistory)(),n=(0,kt.useSelector)(K),a=pl(),c=ls(),[d,u]=(0,sr.useState)(!1),f=d||e,g=D(),x=async()=>{try{u(!0),await c({from:t,to:o,method:ms,isRpcChain:!0,chainIndex:z(g?.chainId)});let T=yo;n&&(T+=`?address=${n}`),r.push(T)}finally{u(!1)}};return sr.default.createElement(L,{category:L.CATEGORY.fill,type:L.TYPE.highlight,size:L.SIZE.lg,loading:f,block:!0,disabled:a,onClick:x},m("wallet_extension_send_btn_next"))}var ra=ul;s();i();var na=l(_()),to=l(A()),sa=l(V());var fl=()=>{let e=(0,sa.useHistory)(),o=(0,to.useDispatch)(),r=se().get("showClose"),n=(0,to.useSelector)(Do),a=(0,to.useSelector)(K),c=w(a),d=()=>{setTimeout(()=>{o(Oo())},200)},u=()=>{d(),e.goBack()},f=r?()=>{d(),e.push(n||oe)}:null;return na.default.createElement(W,{title:c?.symbol,icon:{text:c?.symbol},onBack:u,onClose:f})},ia=fl;s();i();var Ge=l(_()),Ie=l(A()),aa=l(Wa());wt();v();s();i();function _l(){let e=(0,Ie.useDispatch)(),o=(0,Ie.useSelector)(K),t=w(o),r=(0,Ie.useSelector)(ue),n=(0,Ie.useSelector)(dt);(0,Ge.useEffect)(()=>{if(o&&ft(r)&&t?.decimals){let a=!n||Gr(Number(n));e(hr(tn(r,a?"0":(0,aa.addHexPrefix)(en(R(n,10**t?.decimals))))))}},[o,t?.decimals,r,n])}function gl(){let e=(0,Ie.useDispatch)(),t=!(0,Ie.useSelector)(K),r=(0,Ie.useSelector)(pn);return _l(),t?Ge.default.createElement(Ae.Row,null,Ge.default.createElement(N,{title:Ge.default.createElement("div",{className:"rpc-evm-send-edit-input-data__title"},m("developer_mode_send_maintitle_gasprice"),Ge.default.createElement(he,{title:m("developer_mode_send_tooltip_additional_data"),placement:he.DIRECTION.topRight},Ge.default.createElement(G,{className:"okx-wallet-plugin-information-circle rpc-evm-send-edit-input-data__info-icon"}))),placeholder:m("developer_mode_select_a_token_input_optional"),errorType:N.TIP_TYPE.always,size:N.SIZE.xl,value:r,onChange:n=>{e(hr(n.target.value))}})):null}var ma=gl;s();i();var bt=l(_()),oo=l(A()),la=l(te());wt();v();s();i();function Tl(){let e=(0,oo.useDispatch)(),o=(0,oo.useSelector)(Dt),t=(0,oo.useSelector)(Lt),r=d=>{e(Tn(d))},n;o&&(Ye(o,t)?n=m("developer_mode_send_tooltip_higher",{num:t}):To(o,t)&&(n=m("developer_mode_send_tooltip_lower",{num:t})));let a=m("developer_mode_send_maintitle_nonce1"),c=`${_o(t)?"":F.thousandFormat(t)}`;return bt.default.createElement(Ae.Row,{className:"rpc-evm-send-edit-nonce",noMargin:!0},bt.default.createElement("div",{className:"rpc-evm-send-edit-nonce__inner"},bt.default.createElement(N.Number,{innerClassName:(0,la.default)({"rpc-evm-send-edit-nonce__warning-input":!!n}),withOperation:!0,alwaysOperation:!0,enableMinus:!1,precision:0,title:a,placeholder:c,size:N.SIZE.xl,value:o,onAdd:()=>!o&&t!==null?(r(t+1),!1):!0,onSub:()=>!o&&Ye(t,0)?(r(t-1),!1):!0,onChange:r})),n&&bt.default.createElement("div",{className:"rpc-evm-send-edit-nonce__warning-text"},bt.default.createElement(G,{className:"okx-wallet-plugin-warning-circle rpc-evm-send-edit-nonce__warning-icon"}),n))}var ca=Tl;s();i();var da={"rpc-evm-send-edit__inner":"_rpc-evm-send-edit__inner_3qvkv_1",rpcEvmSendEditInner:"_rpc-evm-send-edit__inner_3qvkv_1"};function Cl(){let e=(0,pa.useDispatch)(),o=se(),{chainGasLimitLoading:t,currentGasInfo:r}=zo(),{loadingNonce:n}=Ps();return(0,ua.useMount)(()=>{e(un(o.get("address")))}),Ce.default.createElement(qe.Container,null,Ce.default.createElement(ia,null),Ce.default.createElement(qe.Box,{className:da["rpc-evm-send-edit__inner"]},Ce.default.createElement(ea,null),Ce.default.createElement(ta,{currentGasInfo:r}),Ce.default.createElement(ma,null),Ce.default.createElement(ca,null)),Ce.default.createElement(Pe.FooterActions,{usePortal:!0},Ce.default.createElement(ra,{loading:t||n})))}var fa=Cl;s();i();var xe=l(_());v();s();i();s();i();var ir=l(_());var xl=({children:e})=>ir.default.createElement("div",{className:"token-detail-container"},e),_a=(0,ir.memo)(xl);s();i();var He=l(_());var hl=({image:e,symbol:o,name:t})=>He.default.createElement("div",{className:"token-detail-intro"},He.default.createElement("div",{className:"token-detail-intro__image"},e),He.default.createElement("div",{className:"token-detail-intro__desc"},He.default.createElement("div",{className:"token-detail-intro__symbol"},o),He.default.createElement("div",{className:"token-detail-intro__name"},t))),ga=(0,He.memo)(hl);s();i();var J=l(_()),Ta=l(te()),Ca=l(Ra());v();var kl=({className:e,title:o,text:t,copyText:r,copyNotificationTitle:n,copyNotificationDesc:a})=>{let c=(0,Ta.default)("token-detail-row",e),[d,u]=cs(),f=()=>{d||(u(r),Se.success({title:n,desc:J.default.createElement("div",{className:"token-detail-row__copy-desc"},a)}))};return J.default.createElement("div",{className:c},J.default.createElement("div",{className:"token-detail-row__title"},o),J.default.createElement("div",{className:"token-detail-row__content"},!(0,Ca.isNil)(t)&&t!==""?J.default.createElement(J.default.Fragment,null,J.default.createElement("div",{className:"token-detail-row__text"},t),r&&J.default.createElement("div",{className:"token-detail-row__copy",onClick:f},J.default.createElement(G,{className:"okx-wallet-plugin-copy"}))):J.default.createElement("div",{className:"token-detail-row__title"},St("wallet_extension_token_detail_label_unavailable_info"))))},ar=(0,J.memo)(kl);s();i();var ro=l(_()),xa=l(te());var bl=({details:e})=>ro.default.createElement("div",{className:"token-detail-details"},e.map((o,t)=>{let r=t===0?"":"token-detail-details__split",n=(0,xa.default)(o?.className,r);return ro.default.createElement(ar,{...o,className:n})})),ha=(0,ro.memo)(bl);var mr={Container:_a,Intro:ga,Row:ar,Details:ha};s();i();s();i();var Or=l(_());v();s();i();var ka={empty:"_empty_1vthf_1"};function Br(){return Or.default.createElement("div",{className:ka.empty},Or.default.createElement(At.State,{type:At.State.TYPE.noResult,title:St("wallet_extension_emptystate_title_no_full_tokeninfo"),description:St("wallet_extension_emptystate_desc_no_full_tokeninfo")}))}function yl(){let o=se().get("address"),t=w(o,!0),r=D(),n=[{title:m("developer_mode_infor_subtitle_contractadd"),text:U(o),copyText:o,copyNotificationTitle:m("developer_mode_infor_toast_success"),copyNotificationDesc:o},{title:m("developer_mode_infor_subtitle_tokendecimal"),text:t.decimals},{title:m("developer_mode_infor_subtitle_network"),text:r.name}],a=()=>!t?.name&&!t?.decimals&&!o?xe.default.createElement(Br,null):xe.default.createElement(xe.default.Fragment,null,xe.default.createElement(mr.Intro,{image:xe.default.createElement(ut,{size:ut.SIZE.lg,type:ut.TYPE.text,text:t.symbol}),symbol:t.symbol,name:t.name}),xe.default.createElement(mr.Details,{details:n}));return xe.default.createElement("div",{className:"rpc-evm-token-detail"},xe.default.createElement(W,{closeable:!1,bordered:!1}),xe.default.createElement(mr.Container,null,a()))}var ba=yl;s();i();var We=l(_());v();var Oa=l(le()),Ba=l(A());s();i();var ya=l(_()),lr=l(A());v();var va=l(le());function vl(){let e=(0,lr.useDispatch)(),o=(0,lr.useSelector)(re),t=De(),r=[{text:m("wallet_extension_history_option_pending",{num:t.length}),value:pt.PENDING},{text:m("wallet_extension_history_tab_completed"),value:pt.COMPLETE}];return(0,va.useMount)(()=>{t.length===0&&e(Ot({status:pt.COMPLETE}))}),ya.default.createElement(y.FilterTabs,{tabs:r,value:o.status,onSelect:n=>{e(Ot({status:n}))}})}var Ea=vl;s();i();var no=l(_()),dr=l(A()),Ia=l(te());v();$a();s();i();var cr={"retina-border-basic":"_retina-border-basic_2pibg_1",retinaBorderBasic:"_retina-border-basic_2pibg_1",root:"_root_2pibg_29",resetNonceIcon:"_resetNonceIcon_2pibg_99",disabledResetNonceIcon:"_disabledResetNonceIcon_2pibg_103"};function El(){let e=(0,dr.useDispatch)(),o=(0,dr.useSelector)(re),t=De(),r=()=>{t.length!==0&&xo.warn({alignBottom:!1,title:m("extension_wallet_advanced_title_clear_confirm"),text:m("extension_wallet_advanced_subtitle_clear_confirm"),cancelText:m("wallet_extension_btn_general_cancel"),confirmText:m("wallet_extension_btn_general_confirm"),onConfirm:async()=>{await qr().rpcEvmClearPendingTransaction(),zr.success({title:m("extension_wallet_advanced_notification_cleared")})}})};return no.default.createElement("div",{className:cr.root},no.default.createElement(y.DateRangeSelection,{dates:o.dates,onChange:(n,a)=>{e(Ot({dates:a}))}}),no.default.createElement(he,{title:m("wallet_extension_settings_tooltips_reset_nonce"),placement:he.DIRECTION.bottomRight},no.default.createElement(G,{className:(0,Ia.default)("okx-wallet-plugin-brush-20",cr.resetNonceIcon,{[cr.disabledResetNonceIcon]:t.length===0}),onClick:r})))}var wa=El;s();i();var Ue=l(_()),Da=l(A());s();i();var pr=l(_()),Sa=l(A());function Il({onClick:e}){let{dates:o}=(0,Sa.useSelector)(re),t=De({dates:o});return t.length===0?pr.default.createElement(y.Empty,{top:72}):pr.default.createElement(y.ListContainer,{style:{paddingTop:"8px"}},pr.default.createElement(Zt,{txs:t,onClick:e}))}var Pa=Il;s();i();var yt=l(_());var Aa=l(A());function wl({onClick:e}){let{dates:o}=(0,Aa.useSelector)(re),t=Ts({dates:o}),r=(0,yt.useMemo)(()=>t.map(n=>({...n,sortTime:n.finishTime,Comp:Wt})),[t]);return r.length===0?yt.default.createElement(y.Empty,{top:72}):yt.default.createElement(y.ListContainer,null,yt.default.createElement(Rt,{txs:r,onClick:e}))}var Na=wl;function Sl(){let e=(0,Da.useSelector)(re),[o,t]=(0,Ue.useState)(null),r=n=>{t(n.id)};return Ue.default.createElement(Ue.default.Fragment,null,e.status===pt.PENDING?Ue.default.createElement(Pa,{onClick:r}):Ue.default.createElement(Na,{onClick:r}),o&&Ue.default.createElement(qt,{txId:o,onBack:()=>{t(null)}}))}var La=Sl;s();i();function Pl(){let e=(0,Ba.useDispatch)();return(0,Oa.useUnmount)(()=>{e(hn())}),We.default.createElement(y.PageContainer,{className:"rpc-evm-tx-history"},We.default.createElement(Pe,{className:"rpc-evm-tx-history__top",offsetTop:0},We.default.createElement(W,{sticky:!1,title:m("wallet_extension_header_text_history")}),We.default.createElement(Ea,null),We.default.createElement(wa,null)),We.default.createElement("div",{className:"rpc-evm-tx-history__bottom"},We.default.createElement(La,null)))}var Fa=Pl;var Al=()=>Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(j.Switch,null,Y.default.createElement(j.Route,{path:bo,component:Di,exact:!0}),Y.default.createElement(j.Route,{path:mt,component:$i,exact:!0}),Y.default.createElement(j.Route,{path:pe,component:fa,exact:!0}),Y.default.createElement(j.Route,{path:yo,component:Qi,exact:!0}),Y.default.createElement(j.Route,{path:vo,component:Xi,exact:!0}),Y.default.createElement(j.Route,{path:Eo,component:zi,exact:!0}),Y.default.createElement(j.Route,{path:Io,component:ci,exact:!0}),Y.default.createElement(j.Route,{path:wo,component:Fa,exact:!0}),Y.default.createElement(j.Route,{path:lt,component:ai,exact:!0}),Y.default.createElement(j.Route,{path:So,component:ba,exact:!0})),Y.default.createElement(_i,null)),Ma=Al;var Nl=()=>{let e=(0,vt.useHistory)(),{isRpcMode:o}=(0,Ga.useSelector)(ko);return(0,so.useEffect)(()=>{o||e.replace(oe)},[o]),ss(),so.default.createElement(vt.Switch,null,so.default.createElement(vt.Route,{path:sn,component:Ma}))},_y=Nl;export{_y as default};
//# sourceMappingURL=rpc-mode-IR6H4D7I.js.map
