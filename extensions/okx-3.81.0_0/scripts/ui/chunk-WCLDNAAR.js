import{b as ho}from"./chunk-FBYUYQL4.js";import{c as co,d as tt,e as Te}from"./chunk-KPUXAS7Z.js";import{d as go,e as it}from"./chunk-PQQFVOPL.js";import{a as po}from"./chunk-WST3WRLT.js";import{b as uo}from"./chunk-TJIPZMF7.js";import{B as ot}from"./chunk-Q7DF5H6O.js";import{g as fo}from"./chunk-AQO2BBXJ.js";import{a as _o}from"./chunk-S7VT2TWF.js";import{d as mo,g as et}from"./chunk-BNS5ABAB.js";import{a as xo}from"./chunk-2L6CHWW2.js";import{a as di}from"./chunk-IBOMFII7.js";import{b as Bt}from"./chunk-SYOIP55B.js";import{c as ro}from"./chunk-3ZKJXYZ4.js";import{a as Re}from"./chunk-U7IWD6UB.js";import{gb as ao}from"./chunk-GCS2RK7E.js";import{u as Qe}from"./chunk-FGAB46RQ.js";import{o as Gt}from"./chunk-Z62JX42S.js";import{F as Je}from"./chunk-2QHGKEME.js";import{a as fi}from"./chunk-6PA65BO3.js";import{a as N,b}from"./chunk-MAAUVUWY.js";import{a as qe,b as so,c as ne,e as ge,f as W,g as Ke,n as je}from"./chunk-WU2LB6XB.js";import{h as lo}from"./chunk-CP2RIMI2.js";import{a as z,b as Oe,c as Me,d as le,f as me,h as qt,i as Kt,u as $e}from"./chunk-EFOY37CC.js";import{c as ve}from"./chunk-HMTT52FG.js";import{a as Xe}from"./chunk-E4OV5WXB.js";import{b as oo,c as ci}from"./chunk-GR7YC6C3.js";import{A as io,J as _i}from"./chunk-O33H5V3V.js";import{Lb as no,O as ui,Sb as pi,bc as Ve,cc as U,nc as Ye}from"./chunk-COF7YKSN.js";import{A as _,K as H,q as Jt}from"./chunk-VZKEX7KP.js";import{A as bt,H as We,I as Ze,P as ce,Q as Qt,T as Rt,U as eo,V as kt,W as to,o as fe,t as Xt,y as At}from"./chunk-BJKBO23H.js";import{I as He,e as wt,ma as ze,va as Ft}from"./chunk-XFTQD4B2.js";import{t as Ue,u as jt,z as F}from"./chunk-ZFVABNQN.js";import{a as w}from"./chunk-4QGZDIBD.js";import{b as x}from"./chunk-73B6GL3S.js";import{f as m,o as t,p as c,q as o}from"./chunk-Y5OH3DDZ.js";t();o();t();o();var Z=m(x());H();var Ne=({onClick:e,children:i})=>Z.default.createElement(F,{className:"tx-history-actions-button",category:F.CATEGORY.outline,type:F.TYPE.primary,size:F.SIZE.xs,onClick:e},i),gi=({data:e={coinId:-1,pendingHintMessage:"",isShowSpeedUp:!1,isShowCancel:!1,isShowSpeedupCancel:!1},onRepeat:i})=>{let{coinId:s}=e,{baseCoin:n}=_o(s,!0),{pendingHintMessage:r,isShowSpeedUp:a,isShowCancel:u,isShowSpeedupCancel:p}=e;return n.coinId===1||!r&&!a&&!u&&!p?null:Z.default.createElement("div",{className:"tx-history-actions"},r?Z.default.createElement("div",{className:"tx-history-actions-pending"},r):null,(()=>!a&&!u&&!p?null:Z.default.createElement("div",{className:"tx-history-actions-buttons-container"},u&&Z.default.createElement(Ne,{onClick:g=>{g.stopPropagation(),i(1)}},_("wallet_extension_history_list_status_btn_cancel_transaction")),a&&Z.default.createElement(Ne,{onClick:g=>{g.stopPropagation(),i(2)}},_("wallet_extension_history_list_status_btn_speed_up")),p&&Z.default.createElement(Ne,{onClick:g=>{g.stopPropagation(),i(3)}},_("wallet_extension_history_list_status_btn_speed_up_cancellation"))))())},Co=(0,Z.memo)(gi);t();o();var Se=m(x()),Ht=m(w());Ye();t();o();var j=m(x());var yo=(0,j.memo)(({className:e="",prefix:i,coinAmount:s="",symbol:n="",hiddenAssets:r,hiddenCls:a})=>{let u=`${i}${s} ${n}`;return j.default.createElement("div",{className:e},r?j.default.createElement("span",{className:a},"*****"):u)}),xe=(0,j.memo)(e=>j.default.createElement(yo,{...e,prefix:e.coinAmount===""?"":"+"})),he=(0,j.memo)(e=>j.default.createElement(yo,{...e,prefix:e.coinAmount===""?"":"-"}));t();o();var xi=({className:e="",assets:i=[]})=>{let s=(0,Ht.default)(e,"tx-history__assets"),n="tx-history__assets-asset-sm",r="tx-history__assets-asset-md",a="tx-history__assets-asset-green800",u="tx-history__assets-asset-gray900",p="tx-history__assets-asset-gray400",f=i.length===1?i.map(y=>{let P=y.direction===U.IN?a:u,E=y.direction===U.IN?xe:he;return{...y,className:`${r} ${P}`,Comp:E}}):i.map(y=>{let P=y.direction===U.IN?r:n,E=y.direction===U.IN?a:p,M=y.direction===U.IN?xe:he;return{...y,className:`${P} ${E}`,Comp:M}}),[g,...h]=f.filter(y=>y.coinAmount!==null),v=[g,...h].filter(Boolean);return Se.default.createElement("div",{className:s},v.map((y,P)=>{let{Comp:E,className:M,...R}=y,ee=(0,Ht.default)("tx-history__assets-asset",M);return Se.default.createElement(E,{key:P,className:ee,...R})}))},vo=(0,Se.memo)(xi);t();o();var zt=m(x()),No=m(fi());H();t();o();var To={root:"_root_iaqbx_1"};var hi=({data:e,source:i="list"})=>{let s=(0,No.useHistory)();return e?.claimableStatus===so.CLAIMABLE?zt.default.createElement(ve.Box,{className:To.root},zt.default.createElement(Ne,{onClick:n=>{n.stopPropagation(),s.push(`${ao}?orderId=${e.dexOrderId}&source=${i}`)}},_("wallet_extension_btn_claim"))):null},So=hi;t();o();var Ie=m(x()),Ot=m(w());Ye();t();o();var k={assetContainer:"_assetContainer_i1shr_1",baseAsset:"_baseAsset_i1shr_5",mt2:"_mt2_i1shr_11",titleSize:"_titleSize_i1shr_14",titleColorIn:"_titleColorIn_i1shr_19",titleColorOut:"_titleColorOut_i1shr_22",subtitleSize:"_subtitleSize_i1shr_25",subtitleColor:"_subtitleColor_i1shr_29",hiddenTitleText:"_hiddenTitleText_i1shr_32",hiddenSubtitleText:"_hiddenSubtitleText_i1shr_39"};var Ci=({className:e="",assets:i=[],hiddenAssets:s})=>{let n=i.map((r,a)=>{if(a===0){let g=k.titleSize,h=r.direction===U.IN?k.titleColorIn:k.titleColorOut,v=r.direction===U.IN?xe:he;return{...r,className:`${g} ${h}`,hiddenCls:k.hiddenTitleText,Comp:v}}let u=k.subtitleSize,p=k.subtitleColor,f=r.direction===U.IN?xe:he;return{...r,className:`${k.mt2} ${u} ${p}`,hiddenCls:`${k.hiddenSubtitleText} ${k.mt2}`,Comp:f}});return Ie.default.createElement("div",{className:(0,Ot.default)(e,k.assetContainer)},n.map(r=>{let{Comp:a,className:u,...p}=r,f=(0,Ot.default)(k.baseAsset,u);return r.coinAmount===null?null:Ie.default.createElement(a,{key:r.symbol,className:f,...p,hiddenAssets:s})}))},Io=(0,Ie.memo)(Ci);t();o();var nt=m(x());var yi=({children:e})=>nt.default.createElement("div",{className:"tx-history__date"},e),Po=(0,nt.memo)(yi);t();o();var O=m(x());H();t();o();var vi=(0,O.memo)(e=>{let{showPopup:i}=e;return O.default.createElement("div",{className:"date-range-selection__time"},_("wallet_extension_history_dropdown_time"),O.default.createElement(ho,{flip:i}))});function Ti({className:e,dates:i,onChange:s,customMinDate:n,mainCoinId:r,setDate:a}){let u=Jt.subtract(3,"M"),[p,f]=(0,O.useState)(u),[g,h]=(0,O.useState)(new Date);return(0,O.useEffect)(()=>{n&&f(n)},[n,r]),O.default.createElement(Xt.RangePicker,{className:e,inputClassNames:["date-range-selection__input","date-range-selection__input"],customReference:vi,value:i,min:p,max:g,dialogProps:{maskClosable:!0,subTitle:_("wallet_extension_history_desc_select_range")},onOpenChange:v=>{v&&(f(n||u),h(new Date))},onChange:(v,y)=>{s(v,y)},onReset:()=>{a([n||u,new Date])}})}var Eo=Ti;t();o();var se=m(x());t();o();var de=m(x());Ft();H();t();o();var Pe=m(x()),Ee=m(Gt());Ft();var Ni=(e,i={wait:200,disabled:!1,fetchOnce:null,forceUpdate:null,onFetchSuccess:()=>{},onFetchError:()=>{}})=>{let[s,n]=(0,Pe.useState)({}),[r,a]=(0,Pe.useState)(null),[u,{setTrue:p,setFalse:f}]=(0,Ee.useBoolean)(!0),[g,{setFalse:h}]=(0,Ee.useBoolean)(!0),{address:v,inputData:y,tokenAddress:P,coinId:E,value:M,authorizationList:R,stateOverrideList:ee}=e,{wait:be,disabled:B,fetchOnce:L,forceUpdate:Y,onFetchSuccess:te,onFetchError:pe}=i,Ce=async()=>{try{let re={coinId:E,value:M,address:v&&ze(v),inputData:y&&ze(y),authorizationList:R,stateOverrideList:ee};P&&(re.tokenAddress=ze(P));let{data:S}=await ro(re);n(S),L&&a(L),wt(te)&&te()}catch{n(S=>({...S,queryGasLimitErrorUseDefault:!0})),wt(pe)&&pe()}finally{f(),h()}},{run:D}=(0,Ee.useDebounceFn)(()=>{if(B){f(),h();return}if(L===r&&L!==null){f(),h();return}Ce()},{wait:be});return(0,Pe.useEffect)(()=>{p(),D()},[v,y,P,R,ee,E,M,L,Y,r,B]),[s,u,g]},st=Ni;Ye();pi();t();o();var Mt=m(w()),rt=m(x());t();o();var Le={value:"_value_1hw8x_1",feeDisplay:"_feeDisplay_1hw8x_4",feeDetailDisplay:"_feeDetailDisplay_1hw8x_10",feeDisplayHighlight:"_feeDisplayHighlight_1hw8x_17"};var Si=({className:e,fee:i,feeDetail:s,highlight:n})=>rt.default.createElement("div",{className:(0,Mt.default)(Le.value,e)},rt.default.createElement("div",{className:(0,Mt.default)(Le.feeDisplay,{[Le.feeDisplayHighlight]:n})},i),rt.default.createElement("div",{className:Le.feeDetailDisplay},s)),De=Si;t();o();var X=m(x());H();t();o();var ue={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Ii=({showLoading:e,title:i,content:s,visible:n,error:r,onClose:a,onConfirm:u,confirmText:p=_("wallet_extension_btn_general_confirm"),confirmLoading:f,errContent:g,headerTitle:h})=>{let v=(0,X.useCallback)(()=>{u&&u()},[u,n]);return X.default.createElement(fe.Confirmation,{showLoading:e,title:X.default.createElement("p",{className:ue.dialogTitle},i),topClassName:ue.dialogHeader,visible:n,closeIconClassName:ue.closeIcon,confirmLoading:f,onConfirm:v,onClose:()=>{a&&a()},confirmText:p,confirmBtnProps:{type:F.TYPE.highlight,size:F.SIZE.lg,block:!0},renderContent:()=>X.default.createElement("div",{className:ue.transactionAccelerationContainer},X.default.createElement("div",{className:ue.transactionAccelerationHeader},X.default.createElement("p",{className:ue.transactionAccelerationTitle},h)),r?g:s),renderFooter:y=>r?null:X.default.createElement(y,null)})},at=Ii;t();o();var lt=({gasLimit:e,gasPrice:i,baseCoin:s,L1Fee:n})=>{let r=fo(),{coinAmountInt:a}=r(s?.coinId);return p=>{let f=le(a,p);return!qt(Me(z(i,e),n),f)}};t();o();var mt=m(x()),Lo=m(Gt());var Pi=({signInfo:e={},txParams:i,coinId:s})=>{let[n,{setTrue:r,setFalse:a}]=(0,Lo.useBoolean)(!0),[u,p]=(0,mt.useState)(""),f=go();return(0,mt.useEffect)(()=>{try{e.needExtFee?(r(),(async()=>{let h=await f({...i,coinId:s});p(h),a()})()):(p(0),a())}catch{p(0),a()}},[e?.needExtFee]),[n,u]},ct=Pi;t();o();var $t={root:"_root_1a9wr_1",value:"_value_1a9wr_4"};var Ei=({feeDisplay:e,feeDetailDisplay:i})=>de.default.createElement("div",{className:$t.root},de.default.createElement(De,{className:$t.value,highlight:!0,fee:e,feeDetail:i}));function ut({tx:e={},visible:i=!1,onConfirm:s,onClose:n,repeatTxType:r,signInfo:a}){let[u,p]=(0,de.useState)(!1),f=Re(),{txType:g,from:h,nonce:v,coinId:y,gasPrice:P,priorityFee:E,gasLimit:M,txHash:R,txhash:ee}=e,B=g===ne.UPGRADE_7702||g===ne.REVOKE_7702?"0x0000000000000000000000000000000000000000":h,[L,Y]=et(y),te=a?.gasPrice||{},[pe,Ce]=st({address:h,tokenAddress:B,coinId:Y?.coinId,value:"0"},{wait:200,disabled:!Y||!i}),D=pe?.gasLimit||M,{normal:re,max:S,supportEip1559:oe,proposePriorityFee:vt,fastPriorityFee:J}=te,Tt=it({walletId:f,fromAddr:h,coinId:Y.coinId}),Nt=ot({coinId:L.coinId,fromAddr:h,toAddr:B,localType:L.localType}),ye=(d,l=P)=>me(le(Oe(d,l),"1"),"0.1"),ie=(d,l,T)=>{let C=d;return me(d,l)?(C=l,ye(l,d)&&(C=z(d,"1.1"))):Kt(d,l)&&me(d,T)?(C=T,ye(T,d)&&(C=z(d,"1.1"))):C=z(d,"1.2"),C=$e(C,0),C},ke=ie(E,vt,J),ae=oe?Me(le(S,J),ke):ie(P,re,S),St=()=>{let d=no(L.localType)?.realChainIdHex,l={from:h,to:B,nonce:b(v),gasLimit:b(D),chainId:d,value:b(0)};oe?(l.maxFeePerGas=b(ae),l.maxPriorityFeePerGas=b(ke),l.type=je.FEE_MARKET):l.gasPrice=b(ae);let C={...Je(l)};return C.walletId=f,C.supportEip1559=oe,C},q=d=>{let l=N(d.value),T=N(d.gasLimit),C=N(oe?d.maxFeePerGas:d.gasPrice),$={...d,value:l,from:d.from,to:d.to,gas:T,gasPrice:C,priorityFee:N(oe?d.maxPriorityFeePerGas:0),nonce:N(d.nonce),repeatTxType:r||ge.CANCELING,oldTxHash:R||ee};return{coinId:L.coinId,coinAmount:l,fromAdr:d.from,toAdr:d.to,serviceCharge:z(T,C),extJson:JSON.stringify($),txSource:Ve.NORMAL,inputData:d.data?d.data:""}},K=St(),It=()=>{if(oe)return{...K,gasLimit:D,maxFeePerGas:N(K.maxFeePerGas),maxPriorityFeePerGas:N(K.maxPriorityFeePerGas),value:N(K.value)};let d={...K};return delete d.maxFeePerGas,delete d.maxPriorityFeePerGas,{...d,gasLimit:D,gasPrice:N(d.gasPrice),value:N(d.value)}},[Ge,Be]=ct({signInfo:a,txParams:It(),coinId:y}),Pt=tt(ae,D,Y,Be),Et=Te(ae,D),Lt=lt({gasLimit:D,gasPrice:ae,baseCoin:Y,L1Fee:Be}),Dt=async()=>{try{p(!0);let d=q(K);if(!Lt(d.coinAmount)){We.error({title:_("extension_toast_text_insufficient_balance")}),p(!1);return}let T=await Tt(K),C=await Nt(T,d);s&&s(C)}catch(d){if(d.message!==Xe){let l=d?.data?.originalError?.msg||_("wallet_home_toast_network_error");Ze.error({title:l})}}finally{p(!1)}};return de.default.createElement(at,{title:_("wallet_extension_popup_title_cancle_transaction"),headerTitle:_("extension_defi_toast_desc_cancel_txn"),showLoading:Ge,visible:!He(a)&&i,content:de.default.createElement(Ei,{feeDisplay:Pt,feeDetailDisplay:Et}),confirmLoading:u||Ce,onConfirm:Dt,onClose:()=>{n&&n()}})}t();o();var I=m(x());Ft();H();Ye();t();o();var Do=m(x()),wo=m(di()),dt=m(ui());var Li=()=>(0,Do.useCallback)(e=>{if(typeof e!="string"||!e)return{to:"",inputData:"",chainId:"",value:"",nonce:""};let i=c.Buffer.from((0,dt.stripHexPrefix)(e),"hex"),s=wo.TransactionFactory.fromSerializedData(i),n=s.toJSON(),r=s.common.chainIdBN().toString("hex");return{to:n.to,inputData:n.data,chainId:(0,dt.addHexPrefix)(r),value:n.value,nonce:n.nonce}},[]),Fo=Li;t();o();var _t=m(x()),Ao=m(Gt());_i();ci();var Di=e=>{let[i,{setTrue:s,setFalse:n}]=(0,Ao.useBoolean)(!0),[r,a]=(0,_t.useState)("");return(0,_t.useEffect)(()=>{typeof e=="string"&&!!e&&(s(),(async()=>{let{data:p}=await io(oo.getRawTxWithTxId,{txId:e}),{signInfo:f}=p;a(f),n()})())},[e]),[i,r]},bo=Di;t();o();var we={"retina-border-basic":"_retina-border-basic_13c01_1",retinaBorderBasic:"_retina-border-basic_13c01_1",lineWrapper:"_lineWrapper_13c01_29",line:"_line_13c01_29",tip:"_tip_13c01_38"};var wi=({oldFee:e,oldFeeDetail:i,newFee:s,newFeeDetail:n})=>I.default.createElement(I.default.Fragment,null,I.default.createElement("div",{className:we.lineWrapper},I.default.createElement(Bt,{className:we.line,align:ve.ALIGN.start,size:Qe.SIZE.sm,label:_("wallet_extension_popup_speedup_transaction_before"),value:I.default.createElement(De,{fee:e,feeDetail:i})}),I.default.createElement(Bt,{className:we.line,align:ve.ALIGN.start,size:Qe.SIZE.sm,label:_("wallet_extension_popup_speedup_transaction_after"),value:I.default.createElement(De,{highlight:!0,fee:s,feeDetail:n})})),I.default.createElement("div",{className:we.tip},_("extension_defi_toast_desc_0service_fee")));function Ut({tx:e={},visible:i=!1,onConfirm:s,onClose:n,signInfo:r,repeatTxType:a,loading:u}){let[p,f]=(0,I.useState)(!1),g=Re(),{from:h,coinId:v,gasPrice:y,priorityFee:P,gasLimit:E,txHash:M,txhash:R,txId:ee}=e,be=Fo(),[B,L]=et(v),[Y,te]=bo(ee),pe=r?.gasPrice||{},{max:Ce,supportEip1559:D,fastPriorityFee:re}=pe,S=(0,I.useMemo)(()=>be(te),[te]),[oe,vt]=st({address:h,inputData:S.inputData&&S.inputData!=="0x"?S.inputData:void 0,tokenAddress:S?.to,coinId:v,value:S?.value?N(S.value):"0"},{wait:200,disabled:!te||!i}),J=oe.gasLimit||E,Tt=it({walletId:g,fromAddr:h,coinId:B.coinId}),Nt=ot({coinId:B.coinId,fromAddr:h,toAddr:S.to,localType:B.localType}),ye=(l,T)=>{let C=l;return me(l,T)?(C=T,me(le(Oe(T,l),"1"),"0.1")&&(C=z(l,"1.1"))):C=z(l,"1.2"),C=$e(C,0),C},ie=ye(y,Ce),ke=ye(P,re),ae=()=>{let l={from:h,to:S.to,nonce:S.nonce,gasLimit:b(J),chainId:S.chainId,value:S.value},{inputData:T}=S;T&&T!=="0x"&&(l.data=T),D?(l.maxFeePerGas=b(ie),l.maxPriorityFeePerGas=b(ke),l.type=je.FEE_MARKET):l.gasPrice=b(ie);let $={...Je(l)};return $.walletId=g,$.supportEip1559=D,$},St=l=>{let T=N(l.value),C=N(l.gasLimit),$=N(D?l.maxFeePerGas:l.gasPrice),Yt={...l,value:T,from:l.from,to:l.to,gas:C,gasPrice:$,priorityFee:N(D?l.maxPriorityFeePerGas:0),nonce:N(l.nonce),repeatTxType:a||ge.SPEEDING,oldTxHash:M||R};return{coinId:B.coinId,coinAmount:T,fromAdr:l.from,toAdr:l.to,serviceCharge:z(C,$),extJson:JSON.stringify(Yt),txSource:Ve.NORMAL,inputData:l.data?l.data:""}},q=ae(),K=()=>{if(D)return{...q,gasLimit:J,maxFeePerGas:N(q.maxFeePerGas),maxPriorityFeePerGas:N(q.maxPriorityFeePerGas),value:N(q.value)};let l={...q};return delete l.maxFeePerGas,delete l.maxPriorityFeePerGas,{...l,gasLimit:J,gasPrice:N(l.gasPrice),value:N(l.value)}},[It,Ge]=ct({signInfo:r,txParams:K(),coinId:v}),Be=co(y,E,L),Pt=Te(y,E),Et=tt(ie,J,L,Ge),Lt=Te(ie,J),Dt=lt({gasLimit:J,gasPrice:ie,baseCoin:L,L1Fee:Ge}),d=async()=>{try{f(!0);let l=St(q);if(!Dt(l.coinAmount)){We.error({title:_("extension_toast_text_insufficient_balance")}),f(!1);return}let C=await Tt({...q,contractAddress:void 0}),$=await Nt(C,l);s&&s($)}catch(l){if(l.message!==Xe){let T=l?.data?.originalError?.msg||_("wallet_home_toast_network_error");Ze.error({title:T})}}finally{f(!1)}};return I.default.createElement(at,{title:_("wallet_extension_popup_title_speedup_transaction"),headerTitle:_("wallet_extension_popup_speedup_transaction_desc"),showLoading:u||Y||It,visible:!He(r)&&i,content:I.default.createElement(wi,{oldFee:Be,oldFeeDetail:Pt,newFee:Et,newFeeDetail:Lt}),confirmLoading:p||vt,onConfirm:d,onClose:()=>{n&&n()}})}var Fi=({data:e={},type:i,onConfirm:s,onCancel:n})=>{let{from:r,coinId:a,isShowSpeedUp:u,isShowCancel:p,isShowSpeedupCancel:f}=e,g=mo(a),[h,v]=po({coinId:a,address:r,chainId:g?.chainId});return!u&&!p&&!f||i===0?null:se.default.createElement(se.default.Fragment,null,p&&se.default.createElement(ut,{tx:e,visible:i===1,onConfirm:s,onClose:n,signInfo:v}),u&&se.default.createElement(Ut,{tx:e,loading:h,visible:i===2,onConfirm:s,onClose:n,signInfo:v}),f&&se.default.createElement(ut,{tx:e,visible:i===3,onConfirm:s,onClose:n,repeatTxType:3,signInfo:v}))},ko=(0,se.memo)(Fi);t();o();var Fe=m(x());var Ai=({top:e=24,buttonText:i="",onButtonClick:s,description:n})=>Fe.default.createElement("div",{style:{paddingTop:e}},Fe.default.createElement(At.State,{type:At.State.TYPE.noRecord,title:null,description:n,buttonText:i,onButtonClick:s})),Go=(0,Fe.memo)(Ai);t();o();var Q=m(x());H();function bi({visible:e,onConfirm:i,loading:s,onClose:n,chainSymbol:r,newGasFeeDisplay:a,newGasDetailDisplay:u}){return Q.default.createElement(fe.Prompt,{visible:e,className:"ethereum-tx-cancel-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:i,confirmLoading:s,onClose:()=>{n&&n()},confirmText:_("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:F.TYPE.highlight,size:F.SIZE.lg},renderContent:p=>Q.default.createElement(p,null,Q.default.createElement("div",{className:"ethereum-tx-cancel-dialog__title"},_("wallet_extension_popup_title_cancle_transaction")),Q.default.createElement("div",{className:"ethereum-tx-cancel-dialog__subtitle"},_("wallet_extension_popup_cancle_transaction_desc",{symbol:r})),Q.default.createElement("div",{className:"ethereum-tx-cancel-dialog__description"},_("wallet_extension_popup_cancle_transaction_desc2")),Q.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee"},Q.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__fee-detail"},a),Q.default.createElement("div",{className:"ethereum-tx-cancel-dialog__fee__gas-detail"},u)))})}var Bo=bi;t();o();var A=m(x());H();function ki({initLoading:e,visible:i,onConfirm:s,loading:n,onClose:r,oldGasFeeDisplay:a,oldGasDetailDisplay:u,newGasFeeDisplay:p,newGasDetailDisplay:f}){return A.default.createElement(fe.Prompt,{showLoading:e,visible:i,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:s,confirmLoading:n,onClose:()=>{r&&r()},confirmText:_("wallet_extension_popup_cancle_transaction_btn_confirm"),confirmBtnProps:{type:F.TYPE.highlight,size:F.SIZE.lg},renderContent:g=>A.default.createElement(g,null,A.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},_("wallet_extension_popup_title_speedup_transaction")),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},_("wallet_extension_popup_speedup_transaction_desc")),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},_("wallet_extension_popup_speedup_transaction_before")),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail"},a),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},u)),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee-title"},_("wallet_extension_popup_speedup_transaction_after")),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee"},A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__fee-detail--speed"},p),A.default.createElement("div",{className:"ethereum-tx-speed-dialog__fee__gas-detail"},f)))})}var Ho=ki;t();o();var zo=m(x()),Oo=m(w());function Gi({className:e,children:i}){return zo.default.createElement("div",{className:(0,Oo.default)("tx-filter-container",e)},i)}var Mo=Gi;t();o();var Wt=m(x()),Zt=m(w());function Bi({className:e,tabs:i,value:s,onSelect:n}){return Wt.default.createElement("div",{className:(0,Zt.default)("tx-history__tabs",e)},i.map(({text:r,value:a})=>Wt.default.createElement("div",{className:(0,Zt.default)("tx-history__tabs-option",{"tx-history__tabs-option--selected":s===a}),key:a,onClick:()=>{n(a)}},r)))}var $o=Bi;t();o();var G=m(x()),Zo=m(w());t();o();var Vt=m(x()),Wo=m(w());H();t();o();var Uo={icon:"_icon_1qgf3_1"};var Hi={riskTransaction:{key:"wallet_extension_assets_tooltips_risky_transaction",icon:"okx-wallet-plugin-report"},phishing:{key:"wallet_extension_assets_tooltips_phishing_risk",icon:"okx-wallet-plugin-suspected-phishing-filled"}};function zi({tipsType:e,className:i}){let s=Hi[e];return s?Vt.default.createElement(bt,{title:_(s.key),placement:bt.DIRECTION.top},Vt.default.createElement(Ue,{className:(0,Wo.default)(s.icon,Uo.icon,i)})):null}var pt=zi;var Oi=({className:e="",icons:i=[],title:s="",details:n=[],label:r=null,data:a={}})=>{let u=(0,Zo.default)(e,"tx-history__info"),p=(0,G.useMemo)(()=>a?.txStatus===qe.PENDING&&a?.isShowPending,[a]),f=a?.txType===ne.REVOKE_7702;return G.default.createElement("div",{className:u},G.default.createElement(uo,{srcset:i}),G.default.createElement("div",{className:"tx-history__info-main"},G.default.createElement("div",{className:"tx-history__info-main-top"},G.default.createElement("div",{className:p?"tx-history__info-main-top-pending":"tx-history__info-main-top-title"},s,G.default.createElement(pt,{className:"tx-history__info__risk-icon",tipsType:a.tipsType})),r),!f&&G.default.createElement("div",{className:"tx-history__info-main-details"},n.map(g=>G.default.createElement("div",{className:"tx-history__info-main-details-detail",key:g},g)))))},Vo=G.default.memo(Oi);t();o();var ft=m(x()),Yo=m(w());var Mi=({children:e,className:i,onClick:s})=>{let n=(0,Yo.default)("tx-history-item-container",i);return ft.default.createElement("div",{className:n,onClick:s},e)},Jo=(0,ft.memo)(Mi);t();o();var V=m(x()),qo=m(w());var $i=({type:e,text:i,isPurePending:s})=>e===W.FAILED?V.default.createElement(Rt,{iconName:"okx-wallet-plugin-failed",size:ce.SIZE.sm,className:"status-tag"},i):e===W.PENDING&&s?V.default.createElement(Ue,{className:"okx-wallet-plugin-pending tx-history-label-image-purepending"}):e===W.PENDING?V.default.createElement(to,{iconName:"okx-wallet-plugin-pending",iconClassName:"tx-history-label-image",className:"status-tag",size:ce.SIZE.sm},i):e===W.WAITING?V.default.createElement(eo,{iconName:"okx-wallet-plugin-clock",size:ce.SIZE.sm,className:"status-tag"},i):e===W.CANCELED?V.default.createElement(Qt,{iconName:"okx-wallet-plugin-failed",size:ce.SIZE.sm,className:"status-tag"},i):e===W.CLAIMABLE?V.default.createElement(kt,{size:ce.SIZE.sm,className:"status-tag"},i):e===W.CLAIMING?V.default.createElement(kt,{iconName:"okx-wallet-plugin-pending",iconClassName:"tx-history-label-claim-loading",size:ce.SIZE.sm,className:"status-tag"},i):null,Ko=({className:e,type:i=W.PENDING,text:s,data:n})=>{let r="tx-history-label",a=n?.txStatus===qe.PENDING&&n?.isShowPending&&(n?.repeatTxType===ge.CONFIRMING||n.txType===ne.GAS_STATION||n.txType===ne.DEX_CROSS_CHAIN_SWAP),u=(0,qo.default)(r,a?`${r}-purePending`:`${r}-${i}`,e);return V.default.createElement("div",{className:u},V.default.createElement($i,{type:i,text:s,isPurePending:a}))};Ko.TYPE=W;var jo=Ko;t();o();var gt=m(x());var Ui=({children:e})=>gt.default.createElement("div",{className:"tx-history-list"},e),Xo=(0,gt.memo)(Ui);t();o();var xt=m(x()),Qo=m(w());var Wi=({className:e,style:i,children:s,onContainer:n})=>{let r=(0,Qo.default)("tx-history-list-container",e);return xt.default.createElement("div",{className:r,style:i,ref:n},s)},Ro=(0,xt.memo)(Wi);t();o();var Ae=m(x()),ti=m(w());t();o();var ei={"tx-history-loading":"_tx-history-loading_ca289_1",txHistoryLoading:"_tx-history-loading_ca289_1"};var Zi=({top:e=24,className:i})=>Ae.default.createElement("div",{className:(0,ti.default)(ei.txHistoryLoading,i),style:{paddingTop:e}},Ae.default.createElement(jt,null)),oi=(0,Ae.memo)(Zi);t();o();var _e=m(x()),ht=m(w());H();var Vi=(e=[])=>e.length===1||e.length===2?"tx-history-nfts__image-container-size136":"tx-history-nfts__image-container-size86",Yi=({className:e,data:i})=>{let{nftImageUrls:s}=i,n=(s||[]).slice(0,6),r=lo({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});if(n.length===0)return null;let a=(0,ht.default)("tx-history-nfts__container",e),u=Vi(n),p=(0,ht.default)("tx-history-nfts__image-container",u),f=g=>(0,ht.default)("tx-history-nfts__image",{"tx-history-nfts__image-border":g===5});return _e.default.createElement("div",{className:a},n.map((g,h)=>_e.default.createElement("div",{key:h,className:p},_e.default.createElement(xo,{startStatus:!0,src:g,backupImage:r,classnames:f(h)}),h===5?_e.default.createElement("div",{className:"tx-history-nfts__image-shade"},_("wallet_extension_history_list_text_more")):null)))},ii=(0,_e.memo)(Yi);t();o();var ni=m(x()),si=m(w());t();o();function Ji({className:e,children:i}){return ni.default.createElement("div",{className:(0,si.default)("tx-page-container",e)},i)}var ri=Ji;t();o();var Ct=m(x());t();o();H();var qi=()=>Ct.default.createElement("div",{className:"tx-pending__text"},_("wallet_extension_history_tab_pending")),ai=(0,Ct.memo)(qi);t();o();var yt=m(x()),li=m(w());var Ki=({children:e=null,assets:i=[],align:s=""})=>{let n=i.length>2?Ke.center:Ke.top,a=(s||n)===Ke.center?"tx-history-list-row-center":"",u=(0,li.default)("tx-history-list-row",a);return yt.default.createElement("div",{className:u},e)},mi=(0,yt.memo)(Ki);var vm={Dialogs:ko,Empty:Go,Row:mi,Info:Vo,Assets:vo,Date:Po,Label:jo,NFTs:ii,Actions:Co,ItemContainer:Jo,List:Xo,ListContainer:Ro,DateRangeSelection:Eo,FilterTabs:$o,EthereumTxSpeedDialogBase:Ho,EthereumTxCancelDialogBase:Bo,PageContainer:ri,FilterContainer:Mo,PendingTag:ai,CoinAssets:Io,Loading:oi,Claim:So,RiskIcon:pt};export{at as a,ut as b,Ut as c,vm as d};
//# sourceMappingURL=chunk-WCLDNAAR.js.map
