import{b as Yn,d as Re}from"./chunk-SLQQVCPY.js";import{c as y,o as a,p as g,q as c}from"./chunk-Y5OH3DDZ.js";var Qr=y(Jn=>{a();c();Object.defineProperty(Jn,"__esModule",{value:!0});Jn.config=void 0;var Yu={network:{layer1:"placeholder"},logLevel:"debug"};Jn.config=Yu});var fs=y(S=>{a();c();Object.defineProperty(S,"__esModule",{value:!0});S.PreconditionFailedError=S.PayloadTooLargeError=S.ValidationError=S.BadPathError=S.NotEnoughProofError=S.ConflictError=S.DoesNotExist=S.GaiaHubError=S.NoSessionDataError=S.InvalidStateError=S.FailedDecryptionError=S.SignatureVerificationError=S.LoginFailedError=S.InvalidAmountError=S.NotEnoughFundsError=S.InvalidDIDError=S.MissingParameterError=S.InvalidParameterError=S.BlockstackError=S.ERROR_CODES=void 0;S.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(S.ERROR_CODES);var me=class extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,i=this.stack;if(i)r+=`Stack Trace:
${i}`;else try{throw new Error}catch(o){i=o.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};S.BlockstackError=me;var ei=class extends me{constructor(t,n=""){super({code:S.ERROR_CODES.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}};S.InvalidParameterError=ei;var ti=class extends me{constructor(t,n=""){super({code:S.ERROR_CODES.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}};S.MissingParameterError=ti;var ni=class extends me{constructor(t=""){super({code:S.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};S.InvalidDIDError=ni;var ri=class extends me{constructor(t){let n=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:S.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:n}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=n}};S.NotEnoughFundsError=ri;var ii=class extends me{constructor(t,n){let r=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${n}`;super({code:S.ERROR_CODES.INVALID_AMOUNT_ERROR,message:r}),this.specifiedAmount=n,this.fees=t,this.name="InvalidAmountError",this.message=r}};S.InvalidAmountError=ii;var oi=class extends me{constructor(t){let n=`Failed to login: ${t}`;super({code:S.ERROR_CODES.LOGIN_FAILED_ERROR,message:n}),this.message=n,this.name="LoginFailedError"}};S.LoginFailedError=oi;var si=class extends me{constructor(t){let n=`Failed to verify signature: ${t}`;super({code:S.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:n}),this.message=n,this.name="SignatureVerificationError"}};S.SignatureVerificationError=si;var ai=class extends me{constructor(t="Unable to decrypt cipher object."){super({code:S.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};S.FailedDecryptionError=ai;var ci=class extends me{constructor(t){super({code:S.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};S.InvalidStateError=ci;var ui=class extends me{constructor(t){super({code:S.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};S.NoSessionDataError=ui;var qe=class extends me{constructor(t,n){super(t),n&&(this.hubError={statusCode:n.status,statusText:n.statusText},typeof n.body=="string"?this.hubError.message=n.body:typeof n.body=="object"&&Object.assign(this.hubError,n.body))}};S.GaiaHubError=qe;var di=class extends qe{constructor(t,n){super({message:t,code:S.ERROR_CODES.DOES_NOT_EXIST},n),this.name="DoesNotExist"}};S.DoesNotExist=di;var li=class extends qe{constructor(t,n){super({message:t,code:S.ERROR_CODES.CONFLICT_ERROR},n),this.name="ConflictError"}};S.ConflictError=li;var fi=class extends qe{constructor(t,n){super({message:t,code:S.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},n),this.name="NotEnoughProofError"}};S.NotEnoughProofError=fi;var yi=class extends qe{constructor(t,n){super({message:t,code:S.ERROR_CODES.BAD_PATH_ERROR},n),this.name="BadPathError"}};S.BadPathError=yi;var gi=class extends qe{constructor(t,n){super({message:t,code:S.ERROR_CODES.VALIDATION_ERROR},n),this.name="ValidationError"}};S.ValidationError=gi;var pi=class extends qe{constructor(t,n,r){super({message:t,code:S.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},n),this.name="PayloadTooLargeError",this.maxUploadByteSize=r}};S.PayloadTooLargeError=pi;var hi=class extends qe{constructor(t,n){super({message:t,code:S.ERROR_CODES.PRECONDITION_FAILED_ERROR},n),this.name="PreconditionFailedError"}};S.PreconditionFailedError=hi});var gs=y(Zn=>{a();c();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Logger=void 0;var Ju=Qr(),ys=["debug","info","warn","error","none"],Ci={},Zu={};for(let e=0;e<ys.length;e++){let t=ys[e];Ci[t]=e,Zu[e]=t}var _i=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,n){return`[${t.toUpperCase()}] ${n}`}static shouldLog(t){return Ci[Ju.config.logLevel]<=Ci[t]}};Zn.Logger=_i});var Qn=y(w=>{a();c();Object.defineProperty(w,"__esModule",{value:!0});w.isInstance=w.concatArray=w.concatBytes=w.toBytes=w.octetsToBytes=w.bytesToAscii=w.asciiToBytes=w.bytesToUtf8=w.utf8ToBytes=w.hexToBytes=w.bytesToHex=w.fromTwos=w.toTwos=w.bigIntToBytes=w.hexToInt=w.intToHex=w.hexToBigInt=w.with0x=w.intToBigInt=w.intToBytes=void 0;function Qu(e,t,n){return hs(Pi(e,t),n)}w.intToBytes=Qu;function Pi(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=mi(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)if(t){let r=Cs(BigInt(`0x${Si(n)}`),BigInt(n.byteLength*8));return BigInt(r.toString())}else return BigInt(`0x${Si(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}w.intToBigInt=Pi;function ed(e){return e.startsWith("0x")?e:`0x${e}`}w.with0x=ed;function td(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}w.hexToBigInt=td;function ps(e,t=8){return(typeof e=="bigint"?e:Pi(e,!1)).toString(16).padStart(t*2,"0")}w.intToHex=ps;function nd(e){return parseInt(e,16)}w.hexToInt=nd;function hs(e,t=16){let n=ps(e,t);return mi(n)}w.bigIntToBytes=hs;function rd(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw new Error(`Unable to represent integer in width: ${t}`);return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}w.toTwos=rd;function id(e,t){return e&BigInt(1)<<t}function Cs(e,t){return id(e,t-BigInt(1))?e-(BigInt(1)<<t):e}w.fromTwos=Cs;var od=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Si(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n of e)t+=od[n];return t}w.bytesToHex=Si;function mi(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){let i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}w.hexToBytes=mi;function _s(e){return new TextEncoder().encode(e)}w.utf8ToBytes=_s;function sd(e){return new TextDecoder().decode(e)}w.bytesToUtf8=sd;function ad(e){let t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}w.asciiToBytes=ad;function cd(e){return String.fromCharCode.apply(null,e)}w.bytesToAscii=cd;function ud(e){return!Number.isInteger(e)||e<0||e>255}function Ti(e){if(e.some(ud))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}w.octetsToBytes=Ti;function dd(e){if(typeof e=="string")return _s(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}w.toBytes=dd;function Ss(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){let o=e[r];n.set(o,i),i+=o.length}return n}w.concatBytes=Ss;function ld(e){return Ss(...e.map(t=>typeof t=="number"?Ti([t]):t instanceof Array?Ti(t):t))}w.concatArray=ld;function fd(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}w.isInstance=fd});var Ts=y(Ee=>{a();c();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=Ee.PRIVATE_KEY_UNCOMPRESSED_LENGTH=Ee.PRIVATE_KEY_COMPRESSED_LENGTH=Ee.TransactionVersion=Ee.ChainID=void 0;var yd;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(yd=Ee.ChainID||(Ee.ChainID={}));var gd;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(gd=Ee.TransactionVersion||(Ee.TransactionVersion={}));Ee.PRIVATE_KEY_COMPRESSED_LENGTH=33;Ee.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;Ee.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var Ps=y(ut=>{a();c();Object.defineProperty(ut,"__esModule",{value:!0});ut.signatureRsvToVrs=ut.signatureVrsToRsv=ut.parseRecoverableSignatureVrs=void 0;var pd=Qn(),Ei=32;function hd(e){if(e.length<Ei*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),n=e.slice(2,2+Ei*2),r=e.slice(2+Ei*2);return{recoveryId:(0,pd.hexToInt)(t),r:n,s:r}}ut.parseRecoverableSignatureVrs=hd;function Cd(e){return e.slice(2)+e.slice(0,2)}ut.signatureVrsToRsv=Cd;function _d(e){return e.slice(-2)+e.slice(0,-2)}ut.signatureRsvToVrs=_d});var ms=y(er=>{a();c();Object.defineProperty(er,"__esModule",{value:!0});er.privateKeyToBytes=void 0;var Sd=Qn();function Td(e){let t=typeof e=="string"?(0,Sd.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}er.privateKeyToBytes=Td});var Es=y(q=>{a();c();Object.defineProperty(q,"__esModule",{value:!0});q.writeUInt32LE=q.readUInt32LE=q.writeUInt32BE=q.readUInt32BE=q.writeUInt16LE=q.readUInt16LE=q.writeUInt8=q.readUInt8=q.writeUInt16BE=q.readUInt16BE=q.alloc=q.equals=void 0;function Pd(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}q.equals=Pd;function md(e,t){let n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t;return n}q.alloc=md;function Ed(e,t){return(e[t+0]<<8|e[t+1])>>>0}q.readUInt16BE=Ed;function bd(e,t,n){e[n+0]=t>>>8,e[n+1]=t>>>0}q.writeUInt16BE=bd;function Ad(e,t){return e[t]}q.readUInt8=Ad;function Id(e,t,n){e[n]=t}q.writeUInt8=Id;function wd(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}q.readUInt16LE=wd;function Od(e,t,n){e[n+0]=t&255,t>>>=8,e[n+1]=t&255}q.writeUInt16LE=Od;function Rd(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}q.readUInt32BE=Rd;function vd(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}q.writeUInt32BE=vd;function xd(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}q.readUInt32LE=xd;function Nd(e,t,n){e[n+0]=t&255,t>>>=8,e[n+1]=t&255,t>>>=8,e[n+2]=t&255,t>>>=8,e[n+3]=t&255}q.writeUInt32LE=Nd});var k=y(be=>{a();c();var Bd=be&&be.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),dt=be&&be.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Bd(t,e,n)};Object.defineProperty(be,"__esModule",{value:!0});dt(Qr(),be);dt(fs(),be);dt(gs(),be);dt(Qn(),be);dt(Ts(),be);dt(Ps(),be);dt(ms(),be);dt(Es(),be)});var le=y(_=>{a();c();Object.defineProperty(_,"__esModule",{value:!0});_.TxRejectedReason=_.AssetType=_.NonFungibleConditionCode=_.FungibleConditionCode=_.PubKeyEncoding=_.AddressVersion=_.AddressHashMode=_.AuthType=_.PostConditionPrincipalID=_.PostConditionType=_.PostConditionMode=_.TransactionVersion=_.anchorModeFromNameOrValue=_.AnchorModeNames=_.AnchorMode=_.ClarityVersion=_.PayloadType=_.StacksMessageType=_.ChainID=_.DEFAULT_CORE_NODE_API_URL=_.MEMO_MAX_LENGTH_BYTES=_.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=_.COMPRESSED_PUBKEY_LENGTH_BYTES=_.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=_.DEFAULT_TRANSACTION_VERSION=_.DEFAULT_CHAIN_ID=_.COINBASE_BYTES_LENGTH=_.CLARITY_INT_BYTE_SIZE=_.CLARITY_INT_SIZE=_.MAX_STRING_LENGTH_BYTES=_.whenMessageType=void 0;var tr;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(tr||(tr={}));_.ChainID=tr;var Md=tr.Mainnet;_.DEFAULT_CHAIN_ID=Md;var Vd=128;_.MAX_STRING_LENGTH_BYTES=Vd;var kd=128;_.CLARITY_INT_SIZE=kd;var Dd=16;_.CLARITY_INT_BYTE_SIZE=Dd;var Ld=32;_.COINBASE_BYTES_LENGTH=Ld;var Hd=65;_.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=Hd;var Kd=32;_.COMPRESSED_PUBKEY_LENGTH_BYTES=Kd;var Ud=64;_.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=Ud;var Fd=34;_.MEMO_MAX_LENGTH_BYTES=Fd;var zd="https://stacks-node-api.mainnet.stacks.co";_.DEFAULT_CORE_NODE_API_URL=zd;var bi;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(bi||(bi={}));_.StacksMessageType=bi;function qd(e){return t=>t[e]}_.whenMessageType=qd;var Ai;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(Ai||(Ai={}));_.PayloadType=Ai;var Ii;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(Ii||(Ii={}));_.ClarityVersion=Ii;var ke;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(ke||(ke={}));_.AnchorMode=ke;var An=["onChainOnly","offChainOnly","any"];_.AnchorModeNames=An;var bs={[An[0]]:ke.OnChainOnly,[An[1]]:ke.OffChainOnly,[An[2]]:ke.Any,[ke.OnChainOnly]:ke.OnChainOnly,[ke.OffChainOnly]:ke.OffChainOnly,[ke.Any]:ke.Any};function $d(e){if(e in bs)return bs[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${An.join(", ")}`)}_.anchorModeFromNameOrValue=$d;var nr;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(nr||(nr={}));_.TransactionVersion=nr;var jd=nr.Mainnet;_.DEFAULT_TRANSACTION_VERSION=jd;var wi;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(wi||(wi={}));_.PostConditionMode=wi;var Oi;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Oi||(Oi={}));_.PostConditionType=Oi;var Ri;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(Ri||(Ri={}));_.AuthType=Ri;var vi;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(vi||(vi={}));_.AddressHashMode=vi;var xi;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(xi||(xi={}));_.AddressVersion=xi;var Ni;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Ni||(Ni={}));_.PubKeyEncoding=Ni;var Bi;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(Bi||(Bi={}));_.FungibleConditionCode=Bi;var Mi;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Mi||(Mi={}));_.NonFungibleConditionCode=Mi;var Vi;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(Vi||(Vi={}));_.PostConditionPrincipalID=Vi;var ki;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(ki||(ki={}));_.AssetType=ki;var Di;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(Di||(Di={}));_.TxRejectedReason=Di});var Li=y(fe=>{a();c();Object.defineProperty(fe,"__esModule",{value:!0});fe.c32decode=fe.c32normalize=fe.c32encode=fe.c32=void 0;var Gd=k();fe.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var In="0123456789abcdef";function Wd(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let n=[],r=0;for(let u=e.length-1;u>=0;u--)if(r<4){let d=In.indexOf(e[u])>>r,C=0;u!==0&&(C=In.indexOf(e[u-1]));let B=1+r,H=C%(1<<B)<<5-B,Z=fe.c32[d+H];r=B,n.unshift(Z)}else r=0;let i=0;for(let u=0;u<n.length&&n[u]==="0";u++)i++;n=n.slice(i);let o=new TextDecoder().decode((0,Gd.hexToBytes)(e)).match(/^\u0000*/),s=o?o[0].length:0;for(let u=0;u<s;u++)n.unshift(fe.c32[0]);if(t){let u=t-n.length;for(let d=0;d<u;d++)n.unshift(fe.c32[0])}return n.join("")}fe.c32encode=Wd;function As(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}fe.c32normalize=As;function Xd(e,t){if(e=As(e),!e.match(`^[${fe.c32}]*$`))throw new Error("Not a c32-encoded string");let n=e.match(`^${fe.c32[0]}*`),r=n?n[0].length:0,i=[],o=0,s=0;for(let C=e.length-1;C>=0;C--){s===4&&(i.unshift(In[o]),s=0,o=0);let H=(fe.c32.indexOf(e[C])<<s)+o,Z=In[H%16];if(s+=1,o=H>>4,o>1<<s)throw new Error("Panic error in decoding.");i.unshift(Z)}i.unshift(In[o]),i.length%2===1&&i.unshift("0");let u=0;for(let C=0;C<i.length&&i[C]==="0";C++)u++;i=i.slice(u-u%2);let d=i.join("");for(let C=0;C<r;C++)d=`00${d}`;if(t){let C=t*2-d.length;for(let B=0;B<C;B+=2)d=`00${d}`}return d}fe.c32decode=Xd});var Hi=y(Ht=>{a();c();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.c32checkDecode=Ht.c32checkEncode=void 0;var Is=Re(),ws=k(),wn=Li();function Os(e){let t=Is.base.sha256(Is.base.sha256((0,ws.hexToBytes)(e)));return(0,ws.bytesToHex)(t.slice(0,4))}function Yd(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);let r=Os(`${n}${t}`),i=(0,wn.c32encode)(`${t}${r}`);return`${wn.c32[e]}${i}`}Ht.c32checkEncode=Yd;function Jd(e){e=(0,wn.c32normalize)(e);let t=(0,wn.c32decode)(e.slice(1)),n=e[0],r=wn.c32.indexOf(n),i=t.slice(-8),o=r.toString(16);if(o.length===1&&(o=`0${o}`),Os(`${o}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}Ht.c32checkDecode=Jd});var vs=y((GC,Rs)=>{a();c();function Zd(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,u=e.charAt(0),d=Math.log(s)/Math.log(256),C=Math.log(256)/Math.log(s);function B(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var W=0,te=0,ne=0,de=R.length;ne!==de&&R[ne]===0;)ne++,W++;for(var oe=(de-ne)*C+1>>>0,we=new Uint8Array(oe);ne!==de;){for(var Ve=R[ne],ze=0,Oe=oe-1;(Ve!==0||ze<te)&&Oe!==-1;Oe--,ze++)Ve+=256*we[Oe]>>>0,we[Oe]=Ve%s>>>0,Ve=Ve/s>>>0;if(Ve!==0)throw new Error("Non-zero carry");te=ze,ne++}for(var Qe=oe-te;Qe!==oe&&we[Qe]===0;)Qe++;for(var Xn=u.repeat(W);Qe<oe;++Qe)Xn+=e.charAt(we[Qe]);return Xn}function H(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;for(var W=0,te=0,ne=0;R[W]===u;)te++,W++;for(var de=(R.length-W)*d+1>>>0,oe=new Uint8Array(de);R[W];){var we=t[R.charCodeAt(W)];if(we===255)return;for(var Ve=0,ze=de-1;(we!==0||Ve<ne)&&ze!==-1;ze--,Ve++)we+=s*oe[ze]>>>0,oe[ze]=we%256>>>0,we=we/256>>>0;if(we!==0)throw new Error("Non-zero carry");ne=Ve,W++}for(var Oe=de-ne;Oe!==de&&oe[Oe]===0;)Oe++;for(var Qe=new Uint8Array(te+(de-Oe)),Xn=te;Oe!==de;)Qe[Xn++]=oe[Oe++];return Qe}function Z(R){var W=H(R);if(W)return W;throw new Error("Non-base"+s+" character")}return{encode:B,decodeUnsafe:H,decode:Z}}Rs.exports=Zd});var Ms=y(lt=>{a();c();var Qd=lt&&lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lt,"__esModule",{value:!0});lt.decode=lt.encode=void 0;var rr=Re(),xs=k(),Ns=Qd(vs()),Bs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function el(e,t="00"){let n=typeof e=="string"?(0,xs.hexToBytes)(e):e,r=typeof t=="string"?(0,xs.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let i=rr.base.sha256(rr.base.sha256(new Uint8Array([...r,...n])));return(0,Ns.default)(Bs).encode([...r,...n,...i.slice(0,4)])}lt.encode=el;function tl(e){let t=(0,Ns.default)(Bs).decode(e),n=t.slice(0,1),r=t.slice(1,-4),i=rr.base.sha256(rr.base.sha256(new Uint8Array([...n,...r])));return t.slice(-4).forEach((o,s)=>{if(o!==i[s])throw new Error("Invalid checksum")}),{prefix:n,data:r}}lt.decode=tl});var Ks=y($=>{a();c();var nl=$&&$.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rl=$&&$.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),il=$&&$.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nl(t,e,n);return rl(t,e),t};Object.defineProperty($,"__esModule",{value:!0});$.c32ToB58=$.b58ToC32=$.c32addressDecode=$.c32address=$.versions=void 0;var ks=Hi(),Ds=il(Ms()),Vs=k();$.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var Kt={};Kt[0]=$.versions.mainnet.p2pkh;Kt[5]=$.versions.mainnet.p2sh;Kt[111]=$.versions.testnet.p2pkh;Kt[196]=$.versions.testnet.p2sh;var Ut={};Ut[$.versions.mainnet.p2pkh]=0;Ut[$.versions.mainnet.p2sh]=5;Ut[$.versions.testnet.p2pkh]=111;Ut[$.versions.testnet.p2sh]=196;function Ls(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,ks.c32checkEncode)(e,t)}`}$.c32address=Ls;function Hs(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,ks.c32checkDecode)(e.slice(1))}$.c32addressDecode=Hs;function ol(e,t=-1){let n=Ds.decode(e),r=(0,Vs.bytesToHex)(n.data),i=parseInt((0,Vs.bytesToHex)(n.prefix),16),o;return t<0?(o=i,Kt[i]!==void 0&&(o=Kt[i])):o=t,Ls(o,r)}$.b58ToC32=ol;function sl(e,t=-1){let n=Hs(e),r=n[0],i=n[1],o;t<0?(o=r,Ut[r]!==void 0&&(o=Ut[r])):o=t;let s=o.toString(16);return s.length===1&&(s=`0${s}`),Ds.encode(i,s)}$.c32ToB58=sl});var Ft=y(re=>{a();c();Object.defineProperty(re,"__esModule",{value:!0});re.b58ToC32=re.c32ToB58=re.versions=re.c32normalize=re.c32addressDecode=re.c32address=re.c32checkDecode=re.c32checkEncode=re.c32decode=re.c32encode=void 0;var Ki=Li();Object.defineProperty(re,"c32encode",{enumerable:!0,get:function(){return Ki.c32encode}});Object.defineProperty(re,"c32decode",{enumerable:!0,get:function(){return Ki.c32decode}});Object.defineProperty(re,"c32normalize",{enumerable:!0,get:function(){return Ki.c32normalize}});var Us=Hi();Object.defineProperty(re,"c32checkEncode",{enumerable:!0,get:function(){return Us.c32checkEncode}});Object.defineProperty(re,"c32checkDecode",{enumerable:!0,get:function(){return Us.c32checkDecode}});var On=Ks();Object.defineProperty(re,"c32address",{enumerable:!0,get:function(){return On.c32address}});Object.defineProperty(re,"c32addressDecode",{enumerable:!0,get:function(){return On.c32addressDecode}});Object.defineProperty(re,"c32ToB58",{enumerable:!0,get:function(){return On.c32ToB58}});Object.defineProperty(re,"b58ToC32",{enumerable:!0,get:function(){return On.b58ToC32}});Object.defineProperty(re,"versions",{enumerable:!0,get:function(){return On.versions}})});var Ra=y((Rn,zt)=>{a();c();var al=200,Qs="__lodash_hash_undefined__",ea=9007199254740991,Wi="[object Arguments]",cl="[object Array]",ta="[object Boolean]",na="[object Date]",ul="[object Error]",Xi="[object Function]",ra="[object GeneratorFunction]",ir="[object Map]",ia="[object Number]",Yi="[object Object]",Fs="[object Promise]",oa="[object RegExp]",or="[object Set]",sa="[object String]",aa="[object Symbol]",Fi="[object WeakMap]",ca="[object ArrayBuffer]",sr="[object DataView]",ua="[object Float32Array]",da="[object Float64Array]",la="[object Int8Array]",fa="[object Int16Array]",ya="[object Int32Array]",ga="[object Uint8Array]",pa="[object Uint8ClampedArray]",ha="[object Uint16Array]",Ca="[object Uint32Array]",dl=/[\\^$.*+?()[\]{}|]/g,ll=/\w*$/,fl=/^\[object .+?Constructor\]$/,yl=/^(?:0|[1-9]\d*)$/,j={};j[Wi]=j[cl]=j[ca]=j[sr]=j[ta]=j[na]=j[ua]=j[da]=j[la]=j[fa]=j[ya]=j[ir]=j[ia]=j[Yi]=j[oa]=j[or]=j[sa]=j[aa]=j[ga]=j[pa]=j[ha]=j[Ca]=!0;j[ul]=j[Xi]=j[Fi]=!1;var gl=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,pl=typeof self=="object"&&self&&self.Object===Object&&self,et=gl||pl||Function("return this")(),_a=typeof Rn=="object"&&Rn&&!Rn.nodeType&&Rn,zs=_a&&typeof zt=="object"&&zt&&!zt.nodeType&&zt,hl=zs&&zs.exports===_a;function Cl(e,t){return e.set(t[0],t[1]),e}function _l(e,t){return e.add(t),e}function Sl(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Tl(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Sa(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Pl(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ml(e,t){return e?.[t]}function Ta(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function qs(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Ji(e,t){return function(n){return e(t(n))}}function $s(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var El=Array.prototype,bl=Function.prototype,ar=Object.prototype,Ui=et["__core-js_shared__"],js=function(){var e=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pa=bl.toString,ft=ar.hasOwnProperty,cr=ar.toString,Al=RegExp("^"+Pa.call(ft).replace(dl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gs=hl?et.Buffer:void 0,Ws=et.Symbol,Xs=et.Uint8Array,Il=Ji(Object.getPrototypeOf,Object),wl=Object.create,Ol=ar.propertyIsEnumerable,Rl=El.splice,Ys=Object.getOwnPropertySymbols,vl=Gs?Gs.isBuffer:void 0,xl=Ji(Object.keys,Object),zi=jt(et,"DataView"),vn=jt(et,"Map"),qi=jt(et,"Promise"),$i=jt(et,"Set"),ji=jt(et,"WeakMap"),xn=jt(Object,"create"),Nl=Nt(zi),Bl=Nt(vn),Ml=Nt(qi),Vl=Nt($i),kl=Nt(ji),Js=Ws?Ws.prototype:void 0,Zs=Js?Js.valueOf:void 0;function xt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dl(){this.__data__=xn?xn(null):{}}function Ll(e){return this.has(e)&&delete this.__data__[e]}function Hl(e){var t=this.__data__;if(xn){var n=t[e];return n===Qs?void 0:n}return ft.call(t,e)?t[e]:void 0}function Kl(e){var t=this.__data__;return xn?t[e]!==void 0:ft.call(t,e)}function Ul(e,t){var n=this.__data__;return n[e]=xn&&t===void 0?Qs:t,this}xt.prototype.clear=Dl;xt.prototype.delete=Ll;xt.prototype.get=Hl;xt.prototype.has=Kl;xt.prototype.set=Ul;function tt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fl(){this.__data__=[]}function zl(e){var t=this.__data__,n=ur(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Rl.call(t,n,1),!0}function ql(e){var t=this.__data__,n=ur(t,e);return n<0?void 0:t[n][1]}function $l(e){return ur(this.__data__,e)>-1}function jl(e,t){var n=this.__data__,r=ur(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}tt.prototype.clear=Fl;tt.prototype.delete=zl;tt.prototype.get=ql;tt.prototype.has=$l;tt.prototype.set=jl;function qt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gl(){this.__data__={hash:new xt,map:new(vn||tt),string:new xt}}function Wl(e){return dr(this,e).delete(e)}function Xl(e){return dr(this,e).get(e)}function Yl(e){return dr(this,e).has(e)}function Jl(e,t){return dr(this,e).set(e,t),this}qt.prototype.clear=Gl;qt.prototype.delete=Wl;qt.prototype.get=Xl;qt.prototype.has=Yl;qt.prototype.set=Jl;function $t(e){this.__data__=new tt(e)}function Zl(){this.__data__=new tt}function Ql(e){return this.__data__.delete(e)}function ef(e){return this.__data__.get(e)}function tf(e){return this.__data__.has(e)}function nf(e,t){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!vn||r.length<al-1)return r.push([e,t]),this;n=this.__data__=new qt(r)}return n.set(e,t),this}$t.prototype.clear=Zl;$t.prototype.delete=Ql;$t.prototype.get=ef;$t.prototype.has=tf;$t.prototype.set=nf;function rf(e,t){var n=Qi(e)||Of(e)?Pl(e.length,String):[],r=n.length,i=!!r;for(var o in e)(t||ft.call(e,o))&&!(i&&(o=="length"||bf(o,r)))&&n.push(o);return n}function ma(e,t,n){var r=e[t];(!(ft.call(e,t)&&Ia(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function ur(e,t){for(var n=e.length;n--;)if(Ia(e[n][0],t))return n;return-1}function of(e,t){return e&&Ea(t,eo(t),e)}function Gi(e,t,n,r,i,o,s){var u;if(r&&(u=o?r(e,i,o,s):r(e)),u!==void 0)return u;if(!lr(e))return e;var d=Qi(e);if(d){if(u=Pf(e),!t)return _f(e,u)}else{var C=vt(e),B=C==Xi||C==ra;if(vf(e))return lf(e,t);if(C==Yi||C==Wi||B&&!o){if(Ta(e))return o?e:{};if(u=mf(B?{}:e),!t)return Sf(e,of(u,e))}else{if(!j[C])return o?e:{};u=Ef(e,C,Gi,t)}}s||(s=new $t);var H=s.get(e);if(H)return H;if(s.set(e,u),!d)var Z=n?Tf(e):eo(e);return Sl(Z||e,function(R,W){Z&&(W=R,R=e[W]),ma(u,W,Gi(R,t,n,r,W,e,s))}),u}function sf(e){return lr(e)?wl(e):{}}function af(e,t,n){var r=t(e);return Qi(e)?r:Tl(r,n(e))}function cf(e){return cr.call(e)}function uf(e){if(!lr(e)||If(e))return!1;var t=Oa(e)||Ta(e)?Al:fl;return t.test(Nt(e))}function df(e){if(!Aa(e))return xl(e);var t=[];for(var n in Object(e))ft.call(e,n)&&n!="constructor"&&t.push(n);return t}function lf(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Zi(e){var t=new e.constructor(e.byteLength);return new Xs(t).set(new Xs(e)),t}function ff(e,t){var n=t?Zi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function yf(e,t,n){var r=t?n(qs(e),!0):qs(e);return Sa(r,Cl,new e.constructor)}function gf(e){var t=new e.constructor(e.source,ll.exec(e));return t.lastIndex=e.lastIndex,t}function pf(e,t,n){var r=t?n($s(e),!0):$s(e);return Sa(r,_l,new e.constructor)}function hf(e){return Zs?Object(Zs.call(e)):{}}function Cf(e,t){var n=t?Zi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _f(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Ea(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;ma(n,s,u===void 0?e[s]:u)}return n}function Sf(e,t){return Ea(e,ba(e),t)}function Tf(e){return af(e,eo,ba)}function dr(e,t){var n=e.__data__;return Af(t)?n[typeof t=="string"?"string":"hash"]:n.map}function jt(e,t){var n=ml(e,t);return uf(n)?n:void 0}var ba=Ys?Ji(Ys,Object):Bf,vt=cf;(zi&&vt(new zi(new ArrayBuffer(1)))!=sr||vn&&vt(new vn)!=ir||qi&&vt(qi.resolve())!=Fs||$i&&vt(new $i)!=or||ji&&vt(new ji)!=Fi)&&(vt=function(e){var t=cr.call(e),n=t==Yi?e.constructor:void 0,r=n?Nt(n):void 0;if(r)switch(r){case Nl:return sr;case Bl:return ir;case Ml:return Fs;case Vl:return or;case kl:return Fi}return t});function Pf(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&ft.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function mf(e){return typeof e.constructor=="function"&&!Aa(e)?sf(Il(e)):{}}function Ef(e,t,n,r){var i=e.constructor;switch(t){case ca:return Zi(e);case ta:case na:return new i(+e);case sr:return ff(e,r);case ua:case da:case la:case fa:case ya:case ga:case pa:case ha:case Ca:return Cf(e,r);case ir:return yf(e,r,n);case ia:case sa:return new i(e);case oa:return gf(e);case or:return pf(e,r,n);case aa:return hf(e)}}function bf(e,t){return t=t??ea,!!t&&(typeof e=="number"||yl.test(e))&&e>-1&&e%1==0&&e<t}function Af(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function If(e){return!!js&&js in e}function Aa(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ar;return e===n}function Nt(e){if(e!=null){try{return Pa.call(e)}catch{}try{return e+""}catch{}}return""}function wf(e){return Gi(e,!0,!0)}function Ia(e,t){return e===t||e!==e&&t!==t}function Of(e){return Rf(e)&&ft.call(e,"callee")&&(!Ol.call(e,"callee")||cr.call(e)==Wi)}var Qi=Array.isArray;function wa(e){return e!=null&&xf(e.length)&&!Oa(e)}function Rf(e){return Nf(e)&&wa(e)}var vf=vl||Mf;function Oa(e){var t=lr(e)?cr.call(e):"";return t==Xi||t==ra}function xf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ea}function lr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Nf(e){return!!e&&typeof e=="object"}function eo(e){return wa(e)?rf(e):df(e)}function Bf(){return[]}function Mf(){return!1}zt.exports=wf});var Gt=y($e=>{a();c();Object.defineProperty($e,"__esModule",{value:!0});$e.addressToString=$e.addressFromVersionHash=$e.addressHashModeToVersion=$e.createMessageSignature=void 0;var Ce=le(),Vf=Ft(),kf=k();function Df(e){if((0,kf.hexToBytes)(e).byteLength!=Ce.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:Ce.StacksMessageType.MessageSignature,data:e}}$e.createMessageSignature=Df;function Lf(e,t){switch(e){case Ce.AddressHashMode.SerializeP2PKH:switch(t){case Ce.TransactionVersion.Mainnet:return Ce.AddressVersion.MainnetSingleSig;case Ce.TransactionVersion.Testnet:return Ce.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case Ce.AddressHashMode.SerializeP2SH:case Ce.AddressHashMode.SerializeP2WPKH:case Ce.AddressHashMode.SerializeP2WSH:switch(t){case Ce.TransactionVersion.Mainnet:return Ce.AddressVersion.MainnetMultiSig;case Ce.TransactionVersion.Testnet:return Ce.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}$e.addressHashModeToVersion=Lf;function Hf(e,t){return{type:Ce.StacksMessageType.Address,version:e,hash160:t}}$e.addressFromVersionHash=Hf;function Kf(e){return(0,Vf.c32address)(e.version,e.hash160)}$e.addressToString=Kf});var nt=y(ye=>{a();c();Object.defineProperty(ye,"__esModule",{value:!0});ye.createStandardPrincipal=ye.createContractPrincipal=ye.parsePrincipalString=ye.createAddress=ye.createAssetInfo=ye.createLPString=ye.parseAssetInfoString=void 0;var yt=le(),Uf=Ft(),Ff=Ue();function zf(e){let[t,n,r]=e.split(/\.|::/);return va(t,n,r)}ye.parseAssetInfoString=zf;function fr(e,t,n){let r=t||1,i=n||yt.MAX_STRING_LENGTH_BYTES;if((0,Ff.exceedsMaxLengthBytes)(e,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:yt.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:i}}ye.createLPString=fr;function va(e,t,n){return{type:yt.StacksMessageType.AssetInfo,address:yr(e),contractName:fr(t),assetName:fr(n)}}ye.createAssetInfo=va;function yr(e){let t=(0,Uf.c32addressDecode)(e);return{type:yt.StacksMessageType.Address,version:t[0],hash160:t[1]}}ye.createAddress=yr;function qf(e){if(e.includes(".")){let[t,n]=e.split(".");return xa(t,n)}else return Na(e)}ye.parsePrincipalString=qf;function xa(e,t){let n=yr(e),r=fr(t);return{type:yt.StacksMessageType.Principal,prefix:yt.PostConditionPrincipalID.Contract,address:n,contractName:r}}ye.createContractPrincipal=xa;function Na(e){let t=yr(e);return{type:yt.StacksMessageType.Principal,prefix:yt.PostConditionPrincipalID.Standard,address:t}}ye.createStandardPrincipal=Na});var ve=y(Nn=>{a();c();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.ClarityType=void 0;var $f;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})($f=Nn.ClarityType||(Nn.ClarityType={}))});var pr=y(ge=>{a();c();Object.defineProperty(ge,"__esModule",{value:!0});ge.contractPrincipalCVFromStandard=ge.contractPrincipalCVFromAddress=ge.contractPrincipalCV=ge.standardPrincipalCVFromAddress=ge.standardPrincipalCV=ge.principalToString=ge.principalCV=void 0;var jf=k(),Ba=Gt(),gr=nt(),Wt=ve();function Gf(e){if(e.type===Wt.ClarityType.PrincipalStandard)return(0,Ba.addressToString)(e.address);if(e.type===Wt.ClarityType.PrincipalContract)return`${(0,Ba.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}ge.principalToString=Gf;function Wf(e){if(e.includes(".")){let[t,n]=e.split(".");return Va(t,n)}else return Ma(e)}ge.principalCV=Wf;function Ma(e){let t=(0,gr.createAddress)(e);return{type:Wt.ClarityType.PrincipalStandard,address:t}}ge.standardPrincipalCV=Ma;function Xf(e){return{type:Wt.ClarityType.PrincipalStandard,address:e}}ge.standardPrincipalCVFromAddress=Xf;function Va(e,t){let n=(0,gr.createAddress)(e),r=(0,gr.createLPString)(t);return ka(n,r)}ge.contractPrincipalCV=Va;function ka(e,t){if((0,jf.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:Wt.ClarityType.PrincipalContract,address:e,contractName:t}}ge.contractPrincipalCVFromAddress=ka;function Yf(e,t){let n=(0,gr.createLPString)(t);return{type:Wt.ClarityType.PrincipalContract,address:e.address,contractName:n}}ge.contractPrincipalCVFromStandard=Yf});var La=y(je=>{a();c();Object.defineProperty(je,"__esModule",{value:!0});je.getCVTypeString=je.cvToJSON=je.cvToValue=je.cvToString=void 0;var Da=pr(),b=ve(),Bn=k();function Xt(e,t="hex"){switch(e.type){case b.ClarityType.BoolTrue:return"true";case b.ClarityType.BoolFalse:return"false";case b.ClarityType.Int:return e.value.toString();case b.ClarityType.UInt:return`u${e.value.toString()}`;case b.ClarityType.Buffer:if(t==="tryAscii"){let n=(0,Bn.bytesToAscii)(e.buffer);if(/[ -~]/.test(n))return JSON.stringify(n)}return`0x${(0,Bn.bytesToHex)(e.buffer)}`;case b.ClarityType.OptionalNone:return"none";case b.ClarityType.OptionalSome:return`(some ${Xt(e.value,t)})`;case b.ClarityType.ResponseErr:return`(err ${Xt(e.value,t)})`;case b.ClarityType.ResponseOk:return`(ok ${Xt(e.value,t)})`;case b.ClarityType.PrincipalStandard:case b.ClarityType.PrincipalContract:return(0,Da.principalToString)(e);case b.ClarityType.List:return`(list ${e.list.map(n=>Xt(n,t)).join(" ")})`;case b.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(n=>`(${n} ${Xt(e.data[n],t)})`).join(" ")})`;case b.ClarityType.StringASCII:return`"${e.data}"`;case b.ClarityType.StringUTF8:return`u"${e.data}"`}}je.cvToString=Xt;function hr(e,t=!1){switch(e.type){case b.ClarityType.BoolTrue:return!0;case b.ClarityType.BoolFalse:return!1;case b.ClarityType.Int:case b.ClarityType.UInt:return t?e.value.toString():e.value;case b.ClarityType.Buffer:return`0x${(0,Bn.bytesToHex)(e.buffer)}`;case b.ClarityType.OptionalNone:return null;case b.ClarityType.OptionalSome:return Yt(e.value);case b.ClarityType.ResponseErr:return Yt(e.value);case b.ClarityType.ResponseOk:return Yt(e.value);case b.ClarityType.PrincipalStandard:case b.ClarityType.PrincipalContract:return(0,Da.principalToString)(e);case b.ClarityType.List:return e.list.map(r=>Yt(r));case b.ClarityType.Tuple:let n={};return Object.keys(e.data).forEach(r=>{n[r]=Yt(e.data[r])}),n;case b.ClarityType.StringASCII:return e.data;case b.ClarityType.StringUTF8:return e.data}}je.cvToValue=hr;function Yt(e){switch(e.type){case b.ClarityType.ResponseErr:return{type:rt(e),value:hr(e,!0),success:!1};case b.ClarityType.ResponseOk:return{type:rt(e),value:hr(e,!0),success:!0};default:return{type:rt(e),value:hr(e,!0)}}}je.cvToJSON=Yt;function rt(e){switch(e.type){case b.ClarityType.BoolTrue:case b.ClarityType.BoolFalse:return"bool";case b.ClarityType.Int:return"int";case b.ClarityType.UInt:return"uint";case b.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case b.ClarityType.OptionalNone:return"(optional none)";case b.ClarityType.OptionalSome:return`(optional ${rt(e.value)})`;case b.ClarityType.ResponseErr:return`(response UnknownType ${rt(e.value)})`;case b.ClarityType.ResponseOk:return`(response ${rt(e.value)} UnknownType)`;case b.ClarityType.PrincipalStandard:case b.ClarityType.PrincipalContract:return"principal";case b.ClarityType.List:return`(list ${e.list.length} ${e.list.length?rt(e.list[0]):"UnknownType"})`;case b.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${rt(e.data[t])})`).join(" ")})`;case b.ClarityType.StringASCII:return`(string-ascii ${(0,Bn.asciiToBytes)(e.data).length})`;case b.ClarityType.StringUTF8:return`(string-utf8 ${(0,Bn.utf8ToBytes)(e.data).length})`}}je.getCVTypeString=rt});var Fa=y(gt=>{a();c();Object.defineProperty(gt,"__esModule",{value:!0});gt.falseCV=gt.trueCV=gt.boolCV=void 0;var Ha=ve(),Ka=()=>({type:Ha.ClarityType.BoolTrue});gt.trueCV=Ka;var Ua=()=>({type:Ha.ClarityType.BoolFalse});gt.falseCV=Ua;var Jf=e=>e?Ka():Ua();gt.boolCV=Jf});var Wa=y(Jt=>{a();c();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.uintCV=Jt.intCV=void 0;var ja=k(),Ga=ve(),za=BigInt("0xffffffffffffffffffffffffffffffff"),Zf=BigInt(0),qa=BigInt("0x7fffffffffffffffffffffffffffffff"),$a=BigInt("-170141183460469231731687303715884105728"),Qf=e=>{let t=(0,ja.intToBigInt)(e,!0);if(t>qa)throw new RangeError(`Cannot construct clarity integer from value greater than ${qa}`);if(t<$a)throw new RangeError(`Cannot construct clarity integer form value less than ${$a}`);return{type:Ga.ClarityType.Int,value:t}};Jt.intCV=Qf;var ey=e=>{let t=(0,ja.intToBigInt)(e,!1);if(t<Zf)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>za)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${za}`);return{type:Ga.ClarityType.UInt,value:t}};Jt.uintCV=ey});var Ya=y(Zt=>{a();c();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.bufferCVFromString=Zt.bufferCV=void 0;var ty=k(),ny=ve(),Xa=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:ny.ClarityType.Buffer,buffer:e}};Zt.bufferCV=Xa;var ry=e=>Xa((0,ty.utf8ToBytes)(e));Zt.bufferCVFromString=ry});var ec=y(pt=>{a();c();Object.defineProperty(pt,"__esModule",{value:!0});pt.optionalCVOf=pt.someCV=pt.noneCV=void 0;var Ja=ve();function Za(){return{type:Ja.ClarityType.OptionalNone}}pt.noneCV=Za;function Qa(e){return{type:Ja.ClarityType.OptionalSome,value:e}}pt.someCV=Qa;function iy(e){return e?Qa(e):Za()}pt.optionalCVOf=iy});var nc=y(Qt=>{a();c();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.responseOkCV=Qt.responseErrorCV=void 0;var tc=ve();function oy(e){return{type:tc.ClarityType.ResponseErr,value:e}}Qt.responseErrorCV=oy;function sy(e){return{type:tc.ClarityType.ResponseOk,value:e}}Qt.responseOkCV=sy});var rc=y(Cr=>{a();c();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.listCV=void 0;var ay=ve();function cy(e){return{type:ay.ClarityType.List,list:e}}Cr.listCV=cy});var ic=y(_r=>{a();c();Object.defineProperty(_r,"__esModule",{value:!0});_r.tupleCV=void 0;var uy=ve(),dy=Ue();function ly(e){for(let t in e)if(!(0,dy.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:uy.ClarityType.Tuple,data:e}}_r.tupleCV=ly});var Sr=y(ht=>{a();c();Object.defineProperty(ht,"__esModule",{value:!0});ht.stringCV=ht.stringUtf8CV=ht.stringAsciiCV=void 0;var oc=ve(),sc=e=>({type:oc.ClarityType.StringASCII,data:e});ht.stringAsciiCV=sc;var ac=e=>({type:oc.ClarityType.StringUTF8,data:e});ht.stringUtf8CV=ac;var fy=(e,t)=>{switch(t){case"ascii":return sc(e);case"utf8":return ac(e)}};ht.stringCV=fy});var Ct=y(v=>{a();c();Object.defineProperty(v,"__esModule",{value:!0});v.publicKeyToAddress=v.privateKeyToString=v.getPublicKey=v.signMessageHashRsv=v.signWithKey=v.makeRandomPrivKey=v.createStacksPrivateKey=v.deserializePublicKey=v.compressPublicKey=v.pubKeyfromPrivKey=v.serializePublicKey=v.publicKeyToString=v.isCompressed=v.publicKeyFromBytes=v.publicKeyFromSignatureRsv=v.publicKeyFromSignatureVrs=v.createStacksPublicKey=v.getAddressFromPublicKey=v.getAddressFromPrivateKey=void 0;var Mn=Yn(),cc=Re(),yy=Mn.secp256k1.getPublicKey,uc=Mn.secp256k1.Point,dc=Mn.secp256k1.Signature,gy=Mn.secp256k1.signSync,lc=Mn.secp256k1.utils,ce=k(),py=Ft(),Tr=Gt(),Ge=le(),fc=Ue();lc.hmacSha256Sync=(e,...t)=>{let n=cc.base.hmac.create(cc.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};function hy(e,t=Ge.TransactionVersion.Mainnet){let n=no(e);return yc(n.data,t)}v.getAddressFromPrivateKey=hy;function yc(e,t=Ge.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,ce.bytesToHex)(e);let n=(0,Tr.addressHashModeToVersion)(Ge.AddressHashMode.SerializeP2PKH,t),r=(0,Tr.addressFromVersionHash)(n,(0,fc.hashP2PKH)((0,ce.hexToBytes)(e)));return(0,Tr.addressToString)(r)}v.getAddressFromPublicKey=yc;function to(e){return{type:Ge.StacksMessageType.PublicKey,data:(0,ce.hexToBytes)(e)}}v.createStacksPublicKey=to;function gc(e,t,n=Ge.PubKeyEncoding.Compressed){let r=(0,ce.parseRecoverableSignatureVrs)(t.data),i=new dc((0,ce.hexToBigInt)(r.r),(0,ce.hexToBigInt)(r.s)),o=uc.fromSignature(e,i,r.recoveryId),s=n===Ge.PubKeyEncoding.Compressed;return o.toHex(s)}v.publicKeyFromSignatureVrs=gc;function Cy(e,t,n=Ge.PubKeyEncoding.Compressed){return gc(e,{...t,data:(0,ce.signatureRsvToVrs)(t.data)},n)}v.publicKeyFromSignatureRsv=Cy;function pc(e){return{type:Ge.StacksMessageType.PublicKey,data:e}}v.publicKeyFromBytes=pc;function _y(e){return!(0,ce.bytesToHex)(e.data).startsWith("04")}v.isCompressed=_y;function Sy(e){return(0,ce.bytesToHex)(e.data)}v.publicKeyToString=Sy;function Ty(e){return e.data.slice()}v.serializePublicKey=Ty;function no(e){let t=ro(e),n=yy(t.data.slice(0,32),t.compressed);return to((0,ce.bytesToHex)(n))}v.pubKeyfromPrivKey=no;function Py(e){let t=typeof e=="string"?e:(0,ce.bytesToHex)(e),n=uc.fromHex(t).toHex(!0);return to(n)}v.compressPublicKey=Py;function my(e){let t=e.readUInt8(),n=t!==4?Ge.COMPRESSED_PUBKEY_LENGTH_BYTES:Ge.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return pc((0,ce.concatArray)([t,e.readBytes(n)]))}v.deserializePublicKey=my;function ro(e){if(e==null||null||e.length==0)throw new Error("invalid key");let t=(0,ce.privateKeyToBytes)(e);if(t.every(r=>r===0))throw new Error("invalid key");let n=t.length==ce.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:n}}v.createStacksPrivateKey=ro;function Ey(){return ro(lc.randomPrivateKey())}v.makeRandomPrivKey=Ey;function hc(e,t){let[n,r]=gy(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(r==null)throw new Error("No signature recoveryId received");let o=(0,ce.intToHex)(r,1)+dc.fromHex(n).toCompactHex();return(0,Tr.createMessageSignature)(o)}v.signWithKey=hc;function by({messageHash:e,privateKey:t}){let n=hc(t,e);return{...n,data:(0,ce.signatureVrsToRsv)(n.data)}}v.signMessageHashRsv=by;function Ay(e){return no(e.data)}v.getPublicKey=Ay;function Iy(e){return(0,ce.bytesToHex)(e.data)}v.privateKeyToString=Iy;function wy(e,t){return(0,py.c32address)(e,(0,ce.bytesToHex)((0,fc.hash160)(t.data)))}v.publicKeyToAddress=wy});var tn=y(G=>{a();c();Object.defineProperty(G,"__esModule",{value:!0});G.deserializePayload=G.serializePayload=G.createCoinbasePayload=G.createPoisonPayload=G.createSmartContractPayload=G.createContractCallPayload=G.createTokenTransferPayload=G.isCoinbasePayload=G.isPoisonPayload=G.isSmartContractPayload=G.isContractCallPayload=G.isTokenTransferPayload=void 0;var Vn=k(),N=le(),en=it(),Oy=pr(),Pr=nt(),se=_t();function Ry(e){return e.payloadType===N.PayloadType.TokenTransfer}G.isTokenTransferPayload=Ry;function vy(e){return e.payloadType===N.PayloadType.ContractCall}G.isContractCallPayload=vy;function xy(e){return e.payloadType===N.PayloadType.SmartContract}G.isSmartContractPayload=xy;function Ny(e){return e.payloadType===N.PayloadType.PoisonMicroblock}G.isPoisonPayload=Ny;function By(e){return e.payloadType===N.PayloadType.Coinbase}G.isCoinbasePayload=By;function Cc(e,t,n){return typeof e=="string"&&(e=(0,Oy.principalCV)(e)),typeof n=="string"&&(n=(0,se.createMemoString)(n)),{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.TokenTransfer,recipient:e,amount:(0,Vn.intToBigInt)(t,!1),memo:n??(0,se.createMemoString)("")}}G.createTokenTransferPayload=Cc;function _c(e,t,n,r){return typeof e=="string"&&(e=(0,Pr.createAddress)(e)),typeof t=="string"&&(t=(0,Pr.createLPString)(t)),typeof n=="string"&&(n=(0,Pr.createLPString)(n)),{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:n,functionArgs:r}}G.createContractCallPayload=_c;function io(e,t,n){return typeof e=="string"&&(e=(0,Pr.createLPString)(e)),typeof t=="string"&&(t=(0,se.codeBodyString)(t)),typeof n=="number"?{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.VersionedSmartContract,clarityVersion:n,contractName:e,codeBody:t}:{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.SmartContract,contractName:e,codeBody:t}}G.createSmartContractPayload=io;function Sc(){return{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.PoisonMicroblock}}G.createPoisonPayload=Sc;function oo(e,t){if(e.byteLength!=N.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${N.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:N.StacksMessageType.Payload,payloadType:N.PayloadType.Coinbase,coinbaseBytes:e}}G.createCoinbasePayload=oo;function My(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case N.PayloadType.TokenTransfer:t.push((0,en.serializeCV)(e.recipient)),t.push((0,Vn.intToBytes)(e.amount,!1,8)),t.push((0,se.serializeStacksMessage)(e.memo));break;case N.PayloadType.ContractCall:t.push((0,se.serializeStacksMessage)(e.contractAddress)),t.push((0,se.serializeStacksMessage)(e.contractName)),t.push((0,se.serializeStacksMessage)(e.functionName));let n=new Uint8Array(4);(0,Vn.writeUInt32BE)(n,e.functionArgs.length,0),t.push(n),e.functionArgs.forEach(r=>{t.push((0,en.serializeCV)(r))});break;case N.PayloadType.SmartContract:t.push((0,se.serializeStacksMessage)(e.contractName)),t.push((0,se.serializeStacksMessage)(e.codeBody));break;case N.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,se.serializeStacksMessage)(e.contractName)),t.push((0,se.serializeStacksMessage)(e.codeBody));break;case N.PayloadType.PoisonMicroblock:break;case N.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case N.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,en.serializeCV)(e.recipient));break}return(0,Vn.concatArray)(t)}G.serializePayload=My;function Vy(e){switch(e.readUInt8Enum(N.PayloadType,n=>{throw new Error(`Cannot recognize PayloadType: ${n}`)})){case N.PayloadType.TokenTransfer:let n=(0,en.deserializeCV)(e),r=(0,Vn.intToBigInt)(e.readBytes(8),!1),i=(0,se.deserializeMemoString)(e);return Cc(n,r,i);case N.PayloadType.ContractCall:let o=(0,se.deserializeAddress)(e),s=(0,se.deserializeLPString)(e),u=(0,se.deserializeLPString)(e),d=[],C=e.readUInt32BE();for(let te=0;te<C;te++){let ne=(0,en.deserializeCV)(e);d.push(ne)}return _c(o,s,u,d);case N.PayloadType.SmartContract:let B=(0,se.deserializeLPString)(e),H=(0,se.deserializeLPString)(e,4,1e5);return io(B,H);case N.PayloadType.VersionedSmartContract:{let te=e.readUInt8Enum(N.ClarityVersion,oe=>{throw new Error(`Cannot recognize ClarityVersion: ${oe}`)}),ne=(0,se.deserializeLPString)(e),de=(0,se.deserializeLPString)(e,4,1e5);return io(ne,de,te)}case N.PayloadType.PoisonMicroblock:return Sc();case N.PayloadType.Coinbase:let Z=e.readBytes(N.COINBASE_BYTES_LENGTH);return oo(Z);case N.PayloadType.CoinbaseToAltRecipient:let R=e.readBytes(N.COINBASE_BYTES_LENGTH),W=(0,en.deserializeCV)(e);return oo(R,W)}}G.deserializePayload=Vy});var ot=y(Ae=>{a();c();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.VerificationError=Ae.SigningError=Ae.NotImplementedError=Ae.NoEstimateAvailableError=Ae.DeserializationError=Ae.SerializationError=void 0;var St=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},so=class extends St{constructor(t){super(t)}};Ae.SerializationError=so;var ao=class extends St{constructor(t){super(t)}};Ae.DeserializationError=ao;var co=class extends St{constructor(t){super(t)}};Ae.NoEstimateAvailableError=co;var uo=class extends St{constructor(t){super(t)}};Ae.NotImplementedError=uo;var lo=class extends St{constructor(t){super(t)}};Ae.SigningError=lo;var fo=class extends St{constructor(t){super(t)}};Ae.VerificationError=fo});var Ln=y(_e=>{a();c();Object.defineProperty(_e,"__esModule",{value:!0});_e.serializeTransactionAuthField=_e.serializeMessageSignature=_e.deserializeTransactionAuthField=_e.createTransactionAuthField=_e.deserializeMessageSignature=_e.AuthFieldType=void 0;var ky=ot(),Xe=le(),Dn=Ct(),Dy=Gt(),go=k(),We;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(We=_e.AuthFieldType||(_e.AuthFieldType={}));function yo(e){return(0,Dy.createMessageSignature)((0,go.bytesToHex)(e.readBytes(Xe.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}_e.deserializeMessageSignature=yo;function kn(e,t){return{pubKeyEncoding:e,type:Xe.StacksMessageType.TransactionAuthField,contents:t}}_e.createTransactionAuthField=kn;function Ly(e){let t=e.readUInt8Enum(We,n=>{throw new ky.DeserializationError(`Could not read ${n} as AuthFieldType`)});switch(t){case We.PublicKeyCompressed:return kn(Xe.PubKeyEncoding.Compressed,(0,Dn.deserializePublicKey)(e));case We.PublicKeyUncompressed:return kn(Xe.PubKeyEncoding.Uncompressed,(0,Dn.deserializePublicKey)(e));case We.SignatureCompressed:return kn(Xe.PubKeyEncoding.Compressed,yo(e));case We.SignatureUncompressed:return kn(Xe.PubKeyEncoding.Uncompressed,yo(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}_e.deserializeTransactionAuthField=Ly;function Tc(e){return(0,go.hexToBytes)(e.data)}_e.serializeMessageSignature=Tc;function Hy(e){let t=[];switch(e.contents.type){case Xe.StacksMessageType.PublicKey:e.pubKeyEncoding==Xe.PubKeyEncoding.Compressed?(t.push(We.PublicKeyCompressed),t.push((0,Dn.serializePublicKey)(e.contents))):(t.push(We.PublicKeyUncompressed),t.push((0,Dn.serializePublicKey)((0,Dn.compressPublicKey)(e.contents.data))));break;case Xe.StacksMessageType.MessageSignature:e.pubKeyEncoding==Xe.PubKeyEncoding.Compressed?t.push(We.SignatureCompressed):t.push(We.SignatureUncompressed),t.push(Tc(e.contents));break}return(0,go.concatArray)(t)}_e.serializeTransactionAuthField=Hy});var _t=y(A=>{a();c();Object.defineProperty(A,"__esModule",{value:!0});A.deserializePostCondition=A.serializePostCondition=A.deserializeLPList=A.serializeLPList=A.createLPList=A.deserializeAssetInfo=A.serializeAssetInfo=A.deserializeMemoString=A.serializeMemoString=A.createMemoString=A.codeBodyString=A.deserializeLPString=A.serializeLPString=A.deserializePrincipal=A.serializePrincipal=A.deserializeAddress=A.serializeAddress=A.addressFromPublicKeys=A.addressFromHashMode=A.createEmptyAddress=A.deserializeStacksMessage=A.serializeStacksMessage=void 0;var K=k(),f=le(),sn=Ct(),nn=Ue(),Pc=nt(),mc=tn(),rn=ot(),mr=Ln(),on=Gt(),Ec=it();function bc(e){switch(e.type){case f.StacksMessageType.Address:return Er(e);case f.StacksMessageType.Principal:return po(e);case f.StacksMessageType.LengthPrefixedString:return Hn(e);case f.StacksMessageType.MemoString:return Ac(e);case f.StacksMessageType.AssetInfo:return _o(e);case f.StacksMessageType.PostCondition:return Rc(e);case f.StacksMessageType.PublicKey:return(0,sn.serializePublicKey)(e);case f.StacksMessageType.LengthPrefixedList:return wc(e);case f.StacksMessageType.Payload:return(0,mc.serializePayload)(e);case f.StacksMessageType.TransactionAuthField:return(0,mr.serializeTransactionAuthField)(e);case f.StacksMessageType.MessageSignature:return(0,mr.serializeMessageSignature)(e)}}A.serializeStacksMessage=bc;function Ky(e,t,n){switch(t){case f.StacksMessageType.Address:return Un(e);case f.StacksMessageType.Principal:return ho(e);case f.StacksMessageType.LengthPrefixedString:return an(e);case f.StacksMessageType.MemoString:return Co(e);case f.StacksMessageType.AssetInfo:return Kn(e);case f.StacksMessageType.PostCondition:return So(e);case f.StacksMessageType.PublicKey:return(0,sn.deserializePublicKey)(e);case f.StacksMessageType.Payload:return(0,mc.deserializePayload)(e);case f.StacksMessageType.LengthPrefixedList:if(!n)throw new rn.DeserializationError("No List Type specified");return Oc(e,n);case f.StacksMessageType.MessageSignature:return(0,mr.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}A.deserializeStacksMessage=Ky;function Uy(){return{type:f.StacksMessageType.Address,version:f.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}A.createEmptyAddress=Uy;function Fy(e,t,n){let r=(0,on.addressHashModeToVersion)(e,t);return(0,on.addressFromVersionHash)(r,n)}A.addressFromHashMode=Fy;function zy(e,t,n,r){if(r.length===0)throw Error("Invalid number of public keys");if((t===f.AddressHashMode.SerializeP2PKH||t===f.AddressHashMode.SerializeP2WPKH)&&(r.length!==1||n!==1))throw Error("Invalid number of public keys or signatures");if(t===f.AddressHashMode.SerializeP2WPKH||t===f.AddressHashMode.SerializeP2WSH){for(let i=0;i<r.length;i++)if(!(0,sn.isCompressed)(r[i]))throw Error("Public keys must be compressed for segwit")}switch(t){case f.AddressHashMode.SerializeP2PKH:return(0,on.addressFromVersionHash)(e,(0,nn.hashP2PKH)(r[0].data));case f.AddressHashMode.SerializeP2WPKH:return(0,on.addressFromVersionHash)(e,(0,nn.hashP2WPKH)(r[0].data));case f.AddressHashMode.SerializeP2SH:return(0,on.addressFromVersionHash)(e,(0,nn.hashP2SH)(n,r.map(sn.serializePublicKey)));case f.AddressHashMode.SerializeP2WSH:return(0,on.addressFromVersionHash)(e,(0,nn.hashP2WSH)(n,r.map(sn.serializePublicKey)))}}A.addressFromPublicKeys=zy;function Er(e){let t=[];return t.push((0,K.hexToBytes)((0,K.intToHex)(e.version,1))),t.push((0,K.hexToBytes)(e.hash160)),(0,K.concatArray)(t)}A.serializeAddress=Er;function Un(e){let t=(0,K.hexToInt)((0,K.bytesToHex)(e.readBytes(1))),n=(0,K.bytesToHex)(e.readBytes(20));return{type:f.StacksMessageType.Address,version:t,hash160:n}}A.deserializeAddress=Un;function po(e){let t=[];return t.push(e.prefix),t.push(Er(e.address)),e.prefix===f.PostConditionPrincipalID.Contract&&t.push(Hn(e.contractName)),(0,K.concatArray)(t)}A.serializePrincipal=po;function ho(e){let t=e.readUInt8Enum(f.PostConditionPrincipalID,i=>{throw new rn.DeserializationError(`Unexpected Principal payload type: ${i}`)}),n=Un(e);if(t===f.PostConditionPrincipalID.Standard)return{type:f.StacksMessageType.Principal,prefix:t,address:n};let r=an(e);return{type:f.StacksMessageType.Principal,prefix:t,address:n,contractName:r}}A.deserializePrincipal=ho;function Hn(e){let t=[],n=(0,K.utf8ToBytes)(e.content),r=n.byteLength;return t.push((0,K.hexToBytes)((0,K.intToHex)(r,e.lengthPrefixBytes))),t.push(n),(0,K.concatArray)(t)}A.serializeLPString=Hn;function an(e,t,n){t=t||1;let r=(0,K.hexToInt)((0,K.bytesToHex)(e.readBytes(t))),i=(0,K.bytesToUtf8)(e.readBytes(r));return(0,Pc.createLPString)(i,t,n??128)}A.deserializeLPString=an;function qy(e){return(0,Pc.createLPString)(e,4,1e5)}A.codeBodyString=qy;function $y(e){if(e&&(0,nn.exceedsMaxLengthBytes)(e,f.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${f.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:f.StacksMessageType.MemoString,content:e}}A.createMemoString=$y;function Ac(e){let t=[],n=(0,K.utf8ToBytes)(e.content),r=(0,nn.rightPadHexToLength)((0,K.bytesToHex)(n),f.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,K.hexToBytes)(r)),(0,K.concatArray)(t)}A.serializeMemoString=Ac;function Co(e){let t=(0,K.bytesToUtf8)(e.readBytes(f.MEMO_MAX_LENGTH_BYTES));return{type:f.StacksMessageType.MemoString,content:t}}A.deserializeMemoString=Co;function _o(e){let t=[];return t.push(Er(e.address)),t.push(Hn(e.contractName)),t.push(Hn(e.assetName)),(0,K.concatArray)(t)}A.serializeAssetInfo=_o;function Kn(e){return{type:f.StacksMessageType.AssetInfo,address:Un(e),contractName:an(e),assetName:an(e)}}A.deserializeAssetInfo=Kn;function Ic(e,t){return{type:f.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}A.createLPList=Ic;function wc(e){let t=e.values,n=[];n.push((0,K.hexToBytes)((0,K.intToHex)(t.length,e.lengthPrefixBytes)));for(let r of t)n.push(bc(r));return(0,K.concatArray)(n)}A.serializeLPList=wc;function Oc(e,t,n){let r=(0,K.hexToInt)((0,K.bytesToHex)(e.readBytes(n||4))),i=[];for(let o=0;o<r;o++)switch(t){case f.StacksMessageType.Address:i.push(Un(e));break;case f.StacksMessageType.LengthPrefixedString:i.push(an(e));break;case f.StacksMessageType.MemoString:i.push(Co(e));break;case f.StacksMessageType.AssetInfo:i.push(Kn(e));break;case f.StacksMessageType.PostCondition:i.push(So(e));break;case f.StacksMessageType.PublicKey:i.push((0,sn.deserializePublicKey)(e));break;case f.StacksMessageType.TransactionAuthField:i.push((0,mr.deserializeTransactionAuthField)(e));break}return Ic(i,n)}A.deserializeLPList=Oc;function Rc(e){let t=[];return t.push(e.conditionType),t.push(po(e.principal)),(e.conditionType===f.PostConditionType.Fungible||e.conditionType===f.PostConditionType.NonFungible)&&t.push(_o(e.assetInfo)),e.conditionType===f.PostConditionType.NonFungible&&t.push((0,Ec.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===f.PostConditionType.STX||e.conditionType===f.PostConditionType.Fungible)&&t.push((0,K.intToBytes)(e.amount,!1,8)),(0,K.concatArray)(t)}A.serializePostCondition=Rc;function So(e){let t=e.readUInt8Enum(f.PostConditionType,s=>{throw new rn.DeserializationError(`Could not read ${s} as PostConditionType`)}),n=ho(e),r,i,o;switch(t){case f.PostConditionType.STX:return r=e.readUInt8Enum(f.FungibleConditionCode,u=>{throw new rn.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),o=BigInt(`0x${(0,K.bytesToHex)(e.readBytes(8))}`),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.STX,principal:n,conditionCode:r,amount:o};case f.PostConditionType.Fungible:return i=Kn(e),r=e.readUInt8Enum(f.FungibleConditionCode,u=>{throw new rn.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),o=BigInt(`0x${(0,K.bytesToHex)(e.readBytes(8))}`),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.Fungible,principal:n,conditionCode:r,amount:o,assetInfo:i};case f.PostConditionType.NonFungible:i=Kn(e);let s=(0,Ec.deserializeCV)(e);return r=e.readUInt8Enum(f.NonFungibleConditionCode,u=>{throw new rn.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.NonFungible,principal:n,conditionCode:r,assetInfo:i,assetName:s}}}A.deserializePostCondition=So});var xc=y(Ar=>{a();c();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.serializeCV=void 0;var Se=k(),br=_t(),jy=nt(),pe=ve(),Gy=ot(),To=le();function Ye(e,t){return(0,Se.concatArray)([e,t])}function Wy(e){return new Uint8Array([e.type])}function Xy(e){return e.type===pe.ClarityType.OptionalNone?new Uint8Array([e.type]):Ye(e.type,Fn(e.value))}function Yy(e){let t=new Uint8Array(4);return(0,Se.writeUInt32BE)(t,e.buffer.length,0),Ye(e.type,(0,Se.concatBytes)(t,e.buffer))}function Jy(e){let t=(0,Se.bigIntToBytes)((0,Se.toTwos)(e.value,BigInt(To.CLARITY_INT_SIZE)),To.CLARITY_INT_BYTE_SIZE);return Ye(e.type,t)}function Zy(e){let t=(0,Se.bigIntToBytes)(e.value,To.CLARITY_INT_BYTE_SIZE);return Ye(e.type,t)}function Qy(e){return Ye(e.type,(0,br.serializeAddress)(e.address))}function eg(e){return Ye(e.type,(0,Se.concatBytes)((0,br.serializeAddress)(e.address),(0,br.serializeLPString)(e.contractName)))}function tg(e){return Ye(e.type,Fn(e.value))}function ng(e){let t=[],n=new Uint8Array(4);(0,Se.writeUInt32BE)(n,e.list.length,0),t.push(n);for(let r of e.list){let i=Fn(r);t.push(i)}return Ye(e.type,(0,Se.concatArray)(t))}function rg(e){let t=[],n=new Uint8Array(4);(0,Se.writeUInt32BE)(n,Object.keys(e.data).length,0),t.push(n);let r=Object.keys(e.data).sort((i,o)=>i.localeCompare(o));for(let i of r){let o=(0,jy.createLPString)(i);t.push((0,br.serializeLPString)(o));let s=Fn(e.data[i]);t.push(s)}return Ye(e.type,(0,Se.concatArray)(t))}function vc(e,t){let n=[],r=t=="ascii"?(0,Se.asciiToBytes)(e.data):(0,Se.utf8ToBytes)(e.data),i=new Uint8Array(4);return(0,Se.writeUInt32BE)(i,r.length,0),n.push(i),n.push(r),Ye(e.type,(0,Se.concatArray)(n))}function ig(e){return vc(e,"ascii")}function og(e){return vc(e,"utf8")}function Fn(e){switch(e.type){case pe.ClarityType.BoolTrue:case pe.ClarityType.BoolFalse:return Wy(e);case pe.ClarityType.OptionalNone:case pe.ClarityType.OptionalSome:return Xy(e);case pe.ClarityType.Buffer:return Yy(e);case pe.ClarityType.UInt:return Zy(e);case pe.ClarityType.Int:return Jy(e);case pe.ClarityType.PrincipalStandard:return Qy(e);case pe.ClarityType.PrincipalContract:return eg(e);case pe.ClarityType.ResponseOk:case pe.ClarityType.ResponseErr:return tg(e);case pe.ClarityType.List:return ng(e);case pe.ClarityType.Tuple:return rg(e);case pe.ClarityType.StringASCII:return ig(e);case pe.ClarityType.StringUTF8:return og(e);default:throw new Gy.SerializationError("Unable to serialize. Invalid Clarity Value.")}}Ar.serializeCV=Fn});var Ir=y(cn=>{a();c();Object.defineProperty(cn,"__esModule",{value:!0});cn.BytesReader=cn.isEnum=void 0;var zn=k();function sg(e){let t=Object.values(e).filter(r=>typeof r=="number"),n=new Set(t);return r=>n.has(r)}var Nc=new Map;function mo(e,t){let n=Nc.get(e);if(n!==void 0)return n(t);let r=sg(e);return Nc.set(e,r),mo(e,t)}cn.isEnum=mo;var Po=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let n=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,n}readUInt32BE(){return(0,zn.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,zn.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,zn.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let n=this.readBytes(t).slice().reverse(),r=(0,zn.bytesToHex)(n);return BigInt(`0x${r}`)}readBigUIntBE(t){let n=this.readBytes(t),r=(0,zn.bytesToHex)(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,n){let r=this.readUInt8();if(mo(t,r))return r;throw n(r)}};cn.BytesReader=Po});var Vc=y(Ao=>{a();c();Object.defineProperty(Ao,"__esModule",{value:!0});var U=it(),Bc=Ir(),wr=_t(),Eo=ot(),Mc=Sr(),bo=k();function un(e){let t;if(typeof e=="string"){let r=e.slice(0,2).toLowerCase()==="0x";t=new Bc.BytesReader((0,bo.hexToBytes)(r?e.slice(2):e))}else e instanceof Uint8Array?t=new Bc.BytesReader(e):t=e;switch(t.readUInt8Enum(U.ClarityType,r=>{throw new Eo.DeserializationError(`Cannot recognize Clarity Type: ${r}`)})){case U.ClarityType.Int:return(0,U.intCV)(t.readBytes(16));case U.ClarityType.UInt:return(0,U.uintCV)(t.readBytes(16));case U.ClarityType.Buffer:let r=t.readUInt32BE();return(0,U.bufferCV)(t.readBytes(r));case U.ClarityType.BoolTrue:return(0,U.trueCV)();case U.ClarityType.BoolFalse:return(0,U.falseCV)();case U.ClarityType.PrincipalStandard:let i=(0,wr.deserializeAddress)(t);return(0,U.standardPrincipalCVFromAddress)(i);case U.ClarityType.PrincipalContract:let o=(0,wr.deserializeAddress)(t),s=(0,wr.deserializeLPString)(t);return(0,U.contractPrincipalCVFromAddress)(o,s);case U.ClarityType.ResponseOk:return(0,U.responseOkCV)(un(t));case U.ClarityType.ResponseErr:return(0,U.responseErrorCV)(un(t));case U.ClarityType.OptionalNone:return(0,U.noneCV)();case U.ClarityType.OptionalSome:return(0,U.someCV)(un(t));case U.ClarityType.List:let u=t.readUInt32BE(),d=[];for(let te=0;te<u;te++)d.push(un(t));return(0,U.listCV)(d);case U.ClarityType.Tuple:let C=t.readUInt32BE(),B={};for(let te=0;te<C;te++){let ne=(0,wr.deserializeLPString)(t).content;if(ne===void 0)throw new Eo.DeserializationError('"content" is undefined');B[ne]=un(t)}return(0,U.tupleCV)(B);case U.ClarityType.StringASCII:let H=t.readUInt32BE(),Z=(0,bo.bytesToAscii)(t.readBytes(H));return(0,Mc.stringAsciiCV)(Z);case U.ClarityType.StringUTF8:let R=t.readUInt32BE(),W=(0,bo.bytesToUtf8)(t.readBytes(R));return(0,Mc.stringUtf8CV)(W);default:throw new Eo.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}Ao.default=un});var it=y(p=>{a();c();var ag=p&&p.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p,"__esModule",{value:!0});p.principalToString=p.cvToValue=p.cvToJSON=p.cvToString=p.deserializeCV=p.serializeCV=p.getCVTypeString=p.stringUtf8CV=p.stringAsciiCV=p.stringCV=p.tupleCV=p.listCV=p.contractPrincipalCVFromStandard=p.contractPrincipalCVFromAddress=p.contractPrincipalCV=p.standardPrincipalCVFromAddress=p.standardPrincipalCV=p.principalCV=p.responseErrorCV=p.responseOkCV=p.optionalCVOf=p.someCV=p.noneCV=p.bufferCVFromString=p.bufferCV=p.uintCV=p.intCV=p.falseCV=p.trueCV=p.boolCV=p.ClarityType=void 0;var Or=La();Object.defineProperty(p,"getCVTypeString",{enumerable:!0,get:function(){return Or.getCVTypeString}});Object.defineProperty(p,"cvToString",{enumerable:!0,get:function(){return Or.cvToString}});Object.defineProperty(p,"cvToJSON",{enumerable:!0,get:function(){return Or.cvToJSON}});Object.defineProperty(p,"cvToValue",{enumerable:!0,get:function(){return Or.cvToValue}});var cg=ve();Object.defineProperty(p,"ClarityType",{enumerable:!0,get:function(){return cg.ClarityType}});var Io=Fa();Object.defineProperty(p,"trueCV",{enumerable:!0,get:function(){return Io.trueCV}});Object.defineProperty(p,"falseCV",{enumerable:!0,get:function(){return Io.falseCV}});Object.defineProperty(p,"boolCV",{enumerable:!0,get:function(){return Io.boolCV}});var kc=Wa();Object.defineProperty(p,"intCV",{enumerable:!0,get:function(){return kc.intCV}});Object.defineProperty(p,"uintCV",{enumerable:!0,get:function(){return kc.uintCV}});var Dc=Ya();Object.defineProperty(p,"bufferCV",{enumerable:!0,get:function(){return Dc.bufferCV}});Object.defineProperty(p,"bufferCVFromString",{enumerable:!0,get:function(){return Dc.bufferCVFromString}});var wo=ec();Object.defineProperty(p,"noneCV",{enumerable:!0,get:function(){return wo.noneCV}});Object.defineProperty(p,"someCV",{enumerable:!0,get:function(){return wo.someCV}});Object.defineProperty(p,"optionalCVOf",{enumerable:!0,get:function(){return wo.optionalCVOf}});var Lc=nc();Object.defineProperty(p,"responseOkCV",{enumerable:!0,get:function(){return Lc.responseOkCV}});Object.defineProperty(p,"responseErrorCV",{enumerable:!0,get:function(){return Lc.responseErrorCV}});var Bt=pr();Object.defineProperty(p,"standardPrincipalCV",{enumerable:!0,get:function(){return Bt.standardPrincipalCV}});Object.defineProperty(p,"contractPrincipalCV",{enumerable:!0,get:function(){return Bt.contractPrincipalCV}});Object.defineProperty(p,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return Bt.standardPrincipalCVFromAddress}});Object.defineProperty(p,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return Bt.contractPrincipalCVFromAddress}});Object.defineProperty(p,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return Bt.contractPrincipalCVFromStandard}});Object.defineProperty(p,"principalCV",{enumerable:!0,get:function(){return Bt.principalCV}});Object.defineProperty(p,"principalToString",{enumerable:!0,get:function(){return Bt.principalToString}});var ug=rc();Object.defineProperty(p,"listCV",{enumerable:!0,get:function(){return ug.listCV}});var dg=ic();Object.defineProperty(p,"tupleCV",{enumerable:!0,get:function(){return dg.tupleCV}});var Oo=Sr();Object.defineProperty(p,"stringUtf8CV",{enumerable:!0,get:function(){return Oo.stringUtf8CV}});Object.defineProperty(p,"stringAsciiCV",{enumerable:!0,get:function(){return Oo.stringAsciiCV}});Object.defineProperty(p,"stringCV",{enumerable:!0,get:function(){return Oo.stringCV}});var lg=xc();Object.defineProperty(p,"serializeCV",{enumerable:!0,get:function(){return lg.serializeCV}});var fg=ag(Vc());p.deserializeCV=fg.default});var Ue=y(m=>{a();c();var yg=m&&m.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0});m.addHex=m.postConditionFromString=m.hexToBuff=m.validateTxId=m.validateStacksAddress=m.parseReadOnlyResponse=m.hexToCV=m.cvToHex=m.isClarityName=m.hashP2WSH=m.hashP2SH=m.hashP2WPKH=m.hashP2PKH=m.hash160=m.txidFromData=m.omit=m.cloneDeep=m.exceedsMaxLengthBytes=m.rightPadHexToLength=m.leftPadHexToLength=m.leftPadHex=m.randomBytes=void 0;var qn=Re(),Ie=k(),gg=Ft(),pg=yg(Ra()),Kc=it(),Hc=dn(),hg=e=>qn.base.randomBytes(Number(e));m.randomBytes=hg;var Cg=e=>e.length%2==0?e:`0${e}`;m.leftPadHex=Cg;var _g=(e,t)=>e.padStart(t,"0");m.leftPadHexToLength=_g;var Sg=(e,t)=>e.padEnd(t,"0");m.rightPadHexToLength=Sg;var Tg=(e,t)=>e?(0,Ie.utf8ToBytes)(e).length>t:!1;m.exceedsMaxLengthBytes=Tg;function Uc(e){return(0,pg.default)(e)}m.cloneDeep=Uc;function Pg(e,t){let n=Uc(e);return delete n[t],n}m.omit=Pg;var mg=e=>(0,Ie.bytesToHex)(qn.base.sha512_256(e));m.txidFromData=mg;var Eg=e=>qn.base.ripemd160(qn.base.sha256(e));m.hash160=Eg;var bg=e=>(0,Ie.bytesToHex)((0,m.hash160)(e));m.hashP2PKH=bg;var Ag=e=>{let t=(0,m.hash160)(e),n=(0,Ie.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),r=(0,m.hash160)(n);return(0,Ie.bytesToHex)(r)};m.hashP2WPKH=Ag;var Ig=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let n=[];n.push(80+e),t.forEach(o=>{n.push(o.length),n.push(o)}),n.push(80+t.length),n.push(174);let r=(0,Ie.concatArray)(n),i=(0,m.hash160)(r);return(0,Ie.bytesToHex)(i)};m.hashP2SH=Ig;var wg=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let n=[];n.push(80+e),t.forEach(d=>{n.push(d.length),n.push(d)}),n.push(80+t.length),n.push(174);let r=(0,Ie.concatArray)(n),i=qn.base.sha256(r),o=[];o.push(0),o.push(i.length),o.push(i);let s=(0,Ie.concatArray)(o),u=(0,m.hash160)(s);return(0,Ie.bytesToHex)(u)};m.hashP2WSH=wg;function Og(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}m.isClarityName=Og;function Rg(e){let t=(0,Kc.serializeCV)(e);return`0x${(0,Ie.bytesToHex)(t)}`}m.cvToHex=Rg;function Fc(e){return(0,Kc.deserializeCV)(e)}m.hexToCV=Fc;var vg=e=>{if(e.okay)return Fc(e.result);throw new Error(e.cause)};m.parseReadOnlyResponse=vg;var xg=e=>{try{return(0,gg.c32addressDecode)(e),!0}catch{return!1}};m.validateStacksAddress=xg;var Ng=e=>{if(e==="success")return!0;let t=(0,Ie.with0x)(e).toLowerCase();return t.length!==66?!1:(0,Ie.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};m.validateTxId=Ng;function Bg(e){return g.Buffer.from(Mg(e),"hex")}m.hexToBuff=Bg;function Mg(e){return e.startsWith("0x")?e.replace("0x",""):e}function Vg(e){let t=new Hc.BytesReader((0,Ie.hexToBytes)(e));return(0,Hc.deserializePostCondition)(t)}m.postConditionFromString=Vg;function kg(e){return e.startsWith("0x")?e:`0x${e}`}m.addHex=kg});var ln=y(E=>{a();c();Object.defineProperty(E,"__esModule",{value:!0});E.deserializeAuthorization=E.serializeAuthorization=E.setSponsor=E.setSponsorNonce=E.setNonce=E.getFee=E.setFee=E.verifyOrigin=E.intoInitialSighashAuth=E.createSponsoredAuth=E.createStandardAuth=E.nextVerification=E.nextSignature=E.makeSigHashPreSign=E.deserializeSpendingCondition=E.serializeSpendingCondition=E.deserializeMultiSigSpendingCondition=E.deserializeSingleSigSpendingCondition=E.serializeMultiSigSpendingCondition=E.serializeSingleSigSpendingCondition=E.isSingleSig=E.createMultiSigSpendingCondition=E.createSingleSigSpendingCondition=E.emptyMessageSignature=void 0;var M=k(),O=le(),xr=Ue(),$c=Ln(),Tt=_t(),Fe=Ct(),xe=ot();function Nr(){return{type:O.StacksMessageType.MessageSignature,data:(0,M.bytesToHex)(new Uint8Array(O.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}E.emptyMessageSignature=Nr;function Ro(e,t,n,r){let i=(0,Tt.addressFromPublicKeys)(0,e,1,[(0,Fe.createStacksPublicKey)(t)]).hash160,o=(0,Fe.isCompressed)((0,Fe.createStacksPublicKey)(t))?O.PubKeyEncoding.Compressed:O.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:i,nonce:(0,M.intToBigInt)(n,!1),fee:(0,M.intToBigInt)(r,!1),keyEncoding:o,signature:Nr()}}E.createSingleSigSpendingCondition=Ro;function Dg(e,t,n,r,i){let o=n.map(Fe.createStacksPublicKey),s=(0,Tt.addressFromPublicKeys)(0,e,t,o).hash160;return{hashMode:e,signer:s,nonce:(0,M.intToBigInt)(r,!1),fee:(0,M.intToBigInt)(i,!1),fields:[],signaturesRequired:t}}E.createMultiSigSpendingCondition=Dg;function Br(e){return"signature"in e}E.isSingleSig=Br;function zc(e){let t=(0,xr.cloneDeep)(e);return t.nonce=0,t.fee=0,Br(t)?t.signature=Nr():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function jc(e){let t=[e.hashMode,(0,M.hexToBytes)(e.signer),(0,M.intToBytes)(e.nonce,!1,8),(0,M.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,$c.serializeMessageSignature)(e.signature)];return(0,M.concatArray)(t)}E.serializeSingleSigSpendingCondition=jc;function Gc(e){let t=[e.hashMode,(0,M.hexToBytes)(e.signer),(0,M.intToBytes)(e.nonce,!1,8),(0,M.intToBytes)(e.fee,!1,8)],n=(0,Tt.createLPList)(e.fields);t.push((0,Tt.serializeLPList)(n));let r=new Uint8Array(2);return(0,M.writeUInt16BE)(r,e.signaturesRequired,0),t.push(r),(0,M.concatArray)(t)}E.serializeMultiSigSpendingCondition=Gc;function Wc(e,t){let n=(0,M.bytesToHex)(t.readBytes(20)),r=BigInt(`0x${(0,M.bytesToHex)(t.readBytes(8))}`),i=BigInt(`0x${(0,M.bytesToHex)(t.readBytes(8))}`),o=t.readUInt8Enum(O.PubKeyEncoding,u=>{throw new xe.DeserializationError(`Could not parse ${u} as PubKeyEncoding`)});if(e===O.AddressHashMode.SerializeP2WPKH&&o!=O.PubKeyEncoding.Compressed)throw new xe.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let s=(0,$c.deserializeMessageSignature)(t);return{hashMode:e,signer:n,nonce:r,fee:i,keyEncoding:o,signature:s}}E.deserializeSingleSigSpendingCondition=Wc;function Xc(e,t){let n=(0,M.bytesToHex)(t.readBytes(20)),r=BigInt("0x"+(0,M.bytesToHex)(t.readBytes(8))),i=BigInt("0x"+(0,M.bytesToHex)(t.readBytes(8))),o=(0,Tt.deserializeLPList)(t,O.StacksMessageType.TransactionAuthField).values,s=!1,u=0;for(let C of o)switch(C.contents.type){case O.StacksMessageType.PublicKey:(0,Fe.isCompressed)(C.contents)||(s=!0);break;case O.StacksMessageType.MessageSignature:if(C.pubKeyEncoding===O.PubKeyEncoding.Uncompressed&&(s=!0),u+=1,u===65536)throw new xe.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let d=t.readUInt16BE();if(s&&e===O.AddressHashMode.SerializeP2SH)throw new xe.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:n,nonce:r,fee:i,fields:o,signaturesRequired:d}}E.deserializeMultiSigSpendingCondition=Xc;function Rr(e){return Br(e)?jc(e):Gc(e)}E.serializeSpendingCondition=Rr;function vr(e){let t=e.readUInt8Enum(O.AddressHashMode,n=>{throw new xe.DeserializationError(`Could not parse ${n} as AddressHashMode`)});return t===O.AddressHashMode.SerializeP2PKH||t===O.AddressHashMode.SerializeP2WPKH?Wc(t,e):Xc(t,e)}E.deserializeSpendingCondition=vr;function vo(e,t,n,r){let o=e+(0,M.bytesToHex)(new Uint8Array([t]))+(0,M.bytesToHex)((0,M.intToBytes)(n,!1,8))+(0,M.bytesToHex)((0,M.intToBytes)(r,!1,8));if((0,M.hexToBytes)(o).byteLength!==49)throw Error("Invalid signature hash length");return(0,xr.txidFromData)((0,M.hexToBytes)(o))}E.makeSigHashPreSign=vo;function Yc(e,t,n){let r=33+O.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,i=(0,Fe.isCompressed)(t)?O.PubKeyEncoding.Compressed:O.PubKeyEncoding.Uncompressed,o=e+(0,xr.leftPadHex)(i.toString(16))+n.data,s=(0,M.hexToBytes)(o);if(s.byteLength>r)throw Error("Invalid signature hash length");return(0,xr.txidFromData)(s)}function Lg(e,t,n,r,i){let o=vo(e,t,n,r),s=(0,Fe.signWithKey)(i,o),u=(0,Fe.getPublicKey)(i),d=Yc(o,u,s);return{nextSig:s,nextSigHash:d}}E.nextSignature=Lg;function xo(e,t,n,r,i,o){let s=vo(e,t,n,r),u=(0,Fe.createStacksPublicKey)((0,Fe.publicKeyFromSignatureVrs)(s,o,i)),d=Yc(s,u,o);return{pubKey:u,nextSigHash:d}}E.nextVerification=xo;function Hg(){let e=Ro(O.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,Tt.createEmptyAddress)().hash160,e.keyEncoding=O.PubKeyEncoding.Compressed,e.signature=Nr(),e}function qc(e,t,n){return Br(e)?Kg(e,t,n):Ug(e,t,n)}function Kg(e,t,n){let{pubKey:r,nextSigHash:i}=xo(t,n,e.fee,e.nonce,e.keyEncoding,e.signature),o=(0,Tt.addressFromPublicKeys)(0,e.hashMode,1,[r]).hash160;if(o!==e.signer)throw new xe.VerificationError(`Signer hash does not equal hash of public key(s): ${o} != ${e.signer}`);return i}function Ug(e,t,n){let r=[],i=t,o=!1,s=0;for(let d of e.fields){let C;switch(d.contents.type){case O.StacksMessageType.PublicKey:(0,Fe.isCompressed)(d.contents)||(o=!0),C=d.contents;break;case O.StacksMessageType.MessageSignature:d.pubKeyEncoding===O.PubKeyEncoding.Uncompressed&&(o=!0);let{pubKey:B,nextSigHash:H}=xo(i,n,e.fee,e.nonce,d.pubKeyEncoding,d.contents);if(i=H,C=B,s+=1,s===65536)throw new xe.VerificationError("Too many signatures");break}r.push(C)}if(s!==e.signaturesRequired)throw new xe.VerificationError("Incorrect number of signatures");if(o&&e.hashMode===O.AddressHashMode.SerializeP2SH)throw new xe.VerificationError("Uncompressed keys are not allowed in this hash mode");let u=(0,Tt.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,r).hash160;if(u!==e.signer)throw new xe.VerificationError(`Signer hash does not equal hash of public key(s): ${u} != ${e.signer}`);return i}function No(e){return{authType:O.AuthType.Standard,spendingCondition:e}}E.createStandardAuth=No;function Bo(e,t){return{authType:O.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||Ro(O.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}E.createSponsoredAuth=Bo;function Fg(e){if(e.spendingCondition)switch(e.authType){case O.AuthType.Standard:return No(zc(e.spendingCondition));case O.AuthType.Sponsored:return Bo(zc(e.spendingCondition),Hg());default:throw new xe.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}E.intoInitialSighashAuth=Fg;function zg(e,t){switch(e.authType){case O.AuthType.Standard:return qc(e.spendingCondition,t,O.AuthType.Standard);case O.AuthType.Sponsored:return qc(e.spendingCondition,t,O.AuthType.Standard);default:throw new xe.SigningError("Invalid origin auth type")}}E.verifyOrigin=zg;function qg(e,t){switch(e.authType){case O.AuthType.Standard:let n={...e.spendingCondition,fee:(0,M.intToBigInt)(t,!1)};return{...e,spendingCondition:n};case O.AuthType.Sponsored:let r={...e.sponsorSpendingCondition,fee:(0,M.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}}E.setFee=qg;function $g(e){switch(e.authType){case O.AuthType.Standard:return e.spendingCondition.fee;case O.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}E.getFee=$g;function jg(e,t){let n={...e.spendingCondition,nonce:(0,M.intToBigInt)(t,!1)};return{...e,spendingCondition:n}}E.setNonce=jg;function Gg(e,t){let n={...e.sponsorSpendingCondition,nonce:(0,M.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}E.setSponsorNonce=Gg;function Wg(e,t){let n={...t,nonce:(0,M.intToBigInt)(t.nonce,!1),fee:(0,M.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:n}}E.setSponsor=Wg;function Xg(e){let t=[];switch(t.push(e.authType),e.authType){case O.AuthType.Standard:t.push(Rr(e.spendingCondition));break;case O.AuthType.Sponsored:t.push(Rr(e.spendingCondition)),t.push(Rr(e.sponsorSpendingCondition));break}return(0,M.concatArray)(t)}E.serializeAuthorization=Xg;function Yg(e){let t=e.readUInt8Enum(O.AuthType,r=>{throw new xe.DeserializationError(`Could not parse ${r} as AuthType`)}),n;switch(t){case O.AuthType.Standard:return n=vr(e),No(n);case O.AuthType.Sponsored:n=vr(e);let r=vr(e);return Bo(n,r)}}E.deserializeAuthorization=Yg});var Jc=y(X=>{a();c();Object.defineProperty(X,"__esModule",{value:!0});X.StacksDevnet=X.StacksMocknet=X.StacksTestnet=X.StacksMainnet=X.StacksNetwork=X.StacksNetworks=X.HIRO_MOCKNET_DEFAULT=X.HIRO_TESTNET_DEFAULT=X.HIRO_MAINNET_DEFAULT=void 0;var st=k();X.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";X.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";X.HIRO_MOCKNET_DEFAULT="http://localhost:3999";X.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var at=class{constructor(t){this.version=st.TransactionVersion.Mainnet,this.chainId=st.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===st.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,i)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(i)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(i=`${i}?limit=${r.limit}&offset=${r.offset}`),i},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(i=`${i}?limit=${r.limit}&offset=${r.offset}`),i},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,i)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${i}?proof=0`,this.getMapEntryUrl=(n,r,i)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${i}?proof=0`,this.coreApiUrl=t.url}};X.StacksNetwork=at;at.fromName=e=>{switch(e){case"mainnet":return new Mr;case"testnet":return new Vr;case"devnet":return new X.StacksDevnet;case"mocknet":return new $n;default:throw new Error(`Invalid network name provided. Must be one of the following: ${X.StacksNetworks.join(", ")}`)}};at.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:at.fromName(e);var Mr=class extends at{constructor(t){super({url:t?.url??X.HIRO_MAINNET_DEFAULT}),this.version=st.TransactionVersion.Mainnet,this.chainId=st.ChainID.Mainnet}};X.StacksMainnet=Mr;var Vr=class extends at{constructor(t){super({url:t?.url??X.HIRO_TESTNET_DEFAULT}),this.version=st.TransactionVersion.Testnet,this.chainId=st.ChainID.Testnet}};X.StacksTestnet=Vr;var $n=class extends at{constructor(t){super({url:t?.url??X.HIRO_MOCKNET_DEFAULT}),this.version=st.TransactionVersion.Testnet,this.chainId=st.ChainID.Testnet}};X.StacksMocknet=$n;X.StacksDevnet=$n});var jn=y(Mt=>{a();c();var Jg=Mt&&Mt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Zg=Mt&&Mt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Jg(t,e,n)};Object.defineProperty(Mt,"__esModule",{value:!0});Zg(Jc(),Mt)});var Mo=y(Pt=>{a();c();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.createNonFungiblePostCondition=Pt.createFungiblePostCondition=Pt.createSTXPostCondition=void 0;var Zc=k(),fn=le(),Gn=nt();function Qg(e,t,n){return typeof e=="string"&&(e=(0,Gn.parsePrincipalString)(e)),{type:fn.StacksMessageType.PostCondition,conditionType:fn.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,Zc.intToBigInt)(n,!1)}}Pt.createSTXPostCondition=Qg;function ep(e,t,n,r){return typeof e=="string"&&(e=(0,Gn.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,Gn.parseAssetInfoString)(r)),{type:fn.StacksMessageType.PostCondition,conditionType:fn.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,Zc.intToBigInt)(n,!1),assetInfo:r}}Pt.createFungiblePostCondition=ep;function tp(e,t,n,r){return typeof e=="string"&&(e=(0,Gn.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,Gn.parseAssetInfoString)(n)),{type:fn.StacksMessageType.PostCondition,conditionType:fn.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:n,assetName:r}}Pt.createNonFungiblePostCondition=tp});var Lo=y(kr=>{a();c();Object.defineProperty(kr,"__esModule",{value:!0});kr.TransactionSigner=void 0;var Vo=ln(),ko=Ue(),yn=le(),gn=ot(),Do=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let n=t.auth.spendingCondition;if(n&&!(0,Vo.isSingleSig)(n)){if(n.fields.filter(r=>r.contents.type===yn.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");n.fields.forEach(r=>{if(r.contents.type===yn.StacksMessageType.MessageSignature){let i=r.contents,o=(0,Vo.nextVerification)(this.sigHash,t.auth.authType,n.fee,n.nonce,yn.PubKeyEncoding.Compressed,i);this.sigHash=o.nextSigHash}})}}static createSponsorSigner(t,n){if(t.auth.authType!=yn.AuthType.Sponsored)throw new gn.SigningError("Cannot add sponsor to non-sponsored transaction");let r=(0,ko.cloneDeep)(t);r.setSponsor(n);let i=r.verifyOrigin(),o=new this(r);return o.originDone=!0,o.sigHash=i,o.checkOversign=!0,o.checkOverlap=!0,o}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new gn.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new gn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new gn.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,Vo.isSingleSig)(this.transaction.auth.spendingCondition)){let r=this.transaction.auth.spendingCondition;if(this.checkOversign&&r.fields.filter(i=>i.contents.type===yn.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("Origin would have too many signatures")}let n=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=n}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new gn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==yn.AuthType.Sponsored)throw new gn.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let n=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=n,this.originDone=!0}getTxInComplete(){return(0,ko.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,ko.cloneDeep)(t),this.sigHash=t.signBegin()}};kr.TransactionSigner=Do});var Fo=y(hn=>{a();c();Object.defineProperty(hn,"__esModule",{value:!0});hn.deserializeTransaction=hn.StacksTransaction=void 0;var pn=k(),Y=le(),De=ln(),Qc=Ln(),Ho=Ue(),eu=tn(),Uo=_t(),np=Ct(),Ko=Ir(),Vt=ot(),Dr=class{constructor(t,n,r,i,o,s,u){if(this.version=t,this.auth=n,"amount"in r?this.payload={...r,amount:(0,pn.intToBigInt)(r.amount,!1)}:this.payload=r,this.chainId=u??Y.DEFAULT_CHAIN_ID,this.postConditionMode=o??Y.PostConditionMode.Deny,this.postConditions=i??(0,Uo.createLPList)([]),s)this.anchorMode=(0,Y.anchorModeFromNameOrValue)(s);else switch(r.payloadType){case Y.PayloadType.Coinbase:case Y.PayloadType.CoinbaseToAltRecipient:case Y.PayloadType.PoisonMicroblock:{this.anchorMode=Y.AnchorMode.OnChainOnly;break}case Y.PayloadType.ContractCall:case Y.PayloadType.SmartContract:case Y.PayloadType.VersionedSmartContract:case Y.PayloadType.TokenTransfer:{this.anchorMode=Y.AnchorMode.Any;break}}}signBegin(){let t=(0,Ho.cloneDeep)(this);return t.auth=(0,De.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,Ho.cloneDeep)(this);return t.auth=(0,De.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,De.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,n){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,Y.AuthType.Standard,n)}signNextSponsor(t,n){if(this.auth.authType===Y.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,Y.AuthType.Sponsored,n);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let n=this.auth.spendingCondition;if(n&&!(0,De.isSingleSig)(n)){let r=(0,np.isCompressed)(t);n.fields.push((0,Qc.createTransactionAuthField)(r?Y.PubKeyEncoding.Compressed:Y.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,n,r,i){let{nextSig:o,nextSigHash:s}=(0,De.nextSignature)(n,r,t.fee,t.nonce,i);if((0,De.isSingleSig)(t))t.signature=o;else{let u=(0,pn.bytesToHex)(i.data).endsWith("01");t.fields.push((0,Qc.createTransactionAuthField)(u?Y.PubKeyEncoding.Compressed:Y.PubKeyEncoding.Uncompressed,o))}return s}txid(){let t=this.serialize();return(0,Ho.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=Y.AuthType.Sponsored)throw new Vt.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,De.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,De.setFee)(this.auth,t)}setNonce(t){this.auth=(0,De.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=Y.AuthType.Sponsored)throw new Vt.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,De.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new Vt.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new Vt.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new Vt.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new Vt.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new Vt.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let n=new Uint8Array(4);return(0,pn.writeUInt32BE)(n,this.chainId,0),t.push(n),t.push((0,De.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,Uo.serializeLPList)(this.postConditions)),t.push((0,eu.serializePayload)(this.payload)),(0,pn.concatArray)(t)}};hn.StacksTransaction=Dr;function rp(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new Ko.BytesReader((0,pn.hexToBytes)(e.slice(2))):t=new Ko.BytesReader((0,pn.hexToBytes)(e)):e instanceof Uint8Array?t=new Ko.BytesReader(e):t=e;let n=t.readUInt8Enum(Y.TransactionVersion,C=>{throw new Error(`Could not parse ${C} as TransactionVersion`)}),r=t.readUInt32BE(),i=(0,De.deserializeAuthorization)(t),o=t.readUInt8Enum(Y.AnchorMode,C=>{throw new Error(`Could not parse ${C} as AnchorMode`)}),s=t.readUInt8Enum(Y.PostConditionMode,C=>{throw new Error(`Could not parse ${C} as PostConditionMode`)}),u=(0,Uo.deserializeLPList)(t,Y.StacksMessageType.PostCondition),d=(0,eu.deserializePayload)(t);return new Dr(n,i,d,u,s,o,r)}hn.deserializeTransaction=rp});var $o=y(Q=>{a();c();Object.defineProperty(Q,"__esModule",{value:!0});Q.makeContractDeploy=Q.makeUnsignedContractDeploy=Q.estimateTransactionByteLength=Q.makeContractNonFungiblePostCondition=Q.makeStandardNonFungiblePostCondition=Q.makeContractFungiblePostCondition=Q.makeStandardFungiblePostCondition=Q.makeContractSTXPostCondition=Q.makeStandardSTXPostCondition=Q.makeContractCall=Q.makeUnsignedContractCall=void 0;var tu=k(),Lr=jn(),kt=ln(),Je=le(),Le=Ct(),ru=tn(),Cn=Mo(),_n=nt(),zo=Lo(),iu=Fo(),ou=_t(),nu=Ue();async function qo(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Lr.StacksMainnet,postConditionMode:Je.PostConditionMode.Deny,sponsored:!1},n=Object.assign(t,e),r=(0,ru.createContractCallPayload)(n.contractAddress,n.contractName,n.functionName,n.functionArgs),i=null,o=null;"publicKey"in n?i=(0,kt.createSingleSigSpendingCondition)(Je.AddressHashMode.SerializeP2PKH,n.publicKey,n.nonce,n.fee):i=(0,kt.createMultiSigSpendingCondition)(Je.AddressHashMode.SerializeP2SH,n.numSignatures,n.publicKeys,n.nonce,n.fee),n.sponsored?o=(0,kt.createSponsoredAuth)(i):o=(0,kt.createStandardAuth)(i);let s=Lr.StacksNetwork.fromNameOrNetwork(n.network),u=[];n.postConditions&&n.postConditions.length>0&&n.postConditions.forEach(B=>{u.push(B)});let d=(0,ou.createLPList)(u);return new iu.StacksTransaction(s.version,o,r,d,n.postConditionMode,n.anchorMode,s.chainId)}Q.makeUnsignedContractCall=qo;async function ip(e){if("senderKey"in e){let t=(0,Le.publicKeyToString)((0,Le.getPublicKey)((0,Le.createStacksPrivateKey)(e.senderKey))),n=(0,nu.omit)(e,"senderKey"),r=await qo({publicKey:t,...n}),i=(0,Le.createStacksPrivateKey)(e.senderKey);return new zo.TransactionSigner(r).signOrigin(i),r}else{let t=(0,nu.omit)(e,"signerKeys"),n=await qo(t),r=new zo.TransactionSigner(n),i=e.publicKeys;for(let o of e.signerKeys){let s=(0,Le.pubKeyfromPrivKey)(o);i=i.filter(u=>u!==(0,tu.bytesToHex)(s.data)),r.signOrigin((0,Le.createStacksPrivateKey)(o))}for(let o of i)r.appendOrigin((0,Le.publicKeyFromBytes)((0,tu.hexToBytes)(o)));return n}}Q.makeContractCall=ip;function op(e,t,n){return(0,Cn.createSTXPostCondition)((0,_n.createStandardPrincipal)(e),t,n)}Q.makeStandardSTXPostCondition=op;function sp(e,t,n,r){return(0,Cn.createSTXPostCondition)((0,_n.createContractPrincipal)(e,t),n,r)}Q.makeContractSTXPostCondition=sp;function ap(e,t,n,r){return(0,Cn.createFungiblePostCondition)((0,_n.createStandardPrincipal)(e),t,n,r)}Q.makeStandardFungiblePostCondition=ap;function cp(e,t,n,r,i){return(0,Cn.createFungiblePostCondition)((0,_n.createContractPrincipal)(e,t),n,r,i)}Q.makeContractFungiblePostCondition=cp;function up(e,t,n,r){return(0,Cn.createNonFungiblePostCondition)((0,_n.createStandardPrincipal)(e),t,n,r)}Q.makeStandardNonFungiblePostCondition=up;function dp(e,t,n,r,i){return(0,Cn.createNonFungiblePostCondition)((0,_n.createContractPrincipal)(e,t),n,r,i)}Q.makeContractNonFungiblePostCondition=dp;function lp(e){let t=e.auth.spendingCondition.hashMode;if([Je.AddressHashMode.SerializeP2SH,Je.AddressHashMode.SerializeP2WSH].includes(t)){let r=e.auth.spendingCondition,i=r.fields.filter(s=>s.contents.type===Je.StacksMessageType.MessageSignature).length,o=(r.signaturesRequired-i)*(Je.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+o}else return e.serialize().byteLength}Q.estimateTransactionByteLength=lp;async function su(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Lr.StacksMainnet,postConditionMode:Je.PostConditionMode.Deny,sponsored:!1,clarityVersion:Je.ClarityVersion.Clarity2},n=Object.assign(t,e),r=(0,ru.createSmartContractPayload)(n.contractName,n.codeBody,n.clarityVersion),i=Je.AddressHashMode.SerializeP2PKH,o=(0,Le.createStacksPublicKey)(n.publicKey),s=null,u=(0,kt.createSingleSigSpendingCondition)(i,(0,Le.publicKeyToString)(o),n.nonce,n.fee);n.sponsored?s=(0,kt.createSponsoredAuth)(u):s=(0,kt.createStandardAuth)(u);let d=Lr.StacksNetwork.fromNameOrNetwork(n.network),C=[];n.postConditions&&n.postConditions.length>0&&n.postConditions.forEach(Z=>{C.push(Z)});let B=(0,ou.createLPList)(C);return new iu.StacksTransaction(d.version,s,r,B,n.postConditionMode,n.anchorMode,d.chainId)}Q.makeUnsignedContractDeploy=su;async function fp(e){let t=(0,Le.createStacksPrivateKey)(e.senderKey),n=(0,Le.getPublicKey)(t),r=(0,Le.publicKeyToString)(n),i={...e,publicKey:r},o=await su(i);return e.senderKey&&new zo.TransactionSigner(o).signOrigin(t),o}Q.makeContractDeploy=fp});var au=y(x=>{a();c();Object.defineProperty(x,"__esModule",{value:!0});x.deserialize=x.serialize=x.tuple=x.error=x.ok=x.some=x.none=x.bufferFromUtf8=x.bufferFromAscii=x.bufferFromHex=x.buffer=x.stringUtf8=x.stringAscii=x.list=x.standardPrincipal=x.contractPrincipal=x.uint=x.int=x.bool=void 0;var jo=k(),ae=it();x.bool=ae.boolCV;x.int=ae.intCV;x.uint=ae.uintCV;x.contractPrincipal=ae.contractPrincipalCV;x.standardPrincipal=ae.standardPrincipalCV;x.list=ae.listCV;x.stringAscii=ae.stringAsciiCV;x.stringUtf8=ae.stringUtf8CV;x.buffer=ae.bufferCV;var yp=e=>(0,ae.bufferCV)((0,jo.hexToBytes)(e));x.bufferFromHex=yp;var gp=e=>(0,ae.bufferCV)((0,jo.asciiToBytes)(e));x.bufferFromAscii=gp;var pp=e=>(0,ae.bufferCV)((0,jo.utf8ToBytes)(e));x.bufferFromUtf8=pp;x.none=ae.noneCV;x.some=ae.someCV;x.ok=ae.responseOkCV;x.error=ae.responseErrorCV;x.tuple=ae.tupleCV;x.serialize=ae.serializeCV;x.deserialize=ae.deserializeCV});var du=y(T=>{a();c();Object.defineProperty(T,"__esModule",{value:!0});T.parseToCV=T.validateContractCall=T.abiFunctionToString=T.getTypeString=T.encodeClarityValue=T.getTypeUnion=T.isClarityAbiList=T.isClarityAbiTuple=T.isClarityAbiOptional=T.isClarityAbiResponse=T.isClarityAbiStringUtf8=T.isClarityAbiStringAscii=T.isClarityAbiBuffer=T.isClarityAbiPrimitive=T.ClarityAbiTypeId=void 0;var hp=Ue(),L=it(),Hr=ot(),cu=Sr(),uu=k(),I;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(I=T.ClarityAbiTypeId||(T.ClarityAbiTypeId={}));var Cp=e=>typeof e=="string";T.isClarityAbiPrimitive=Cp;var _p=e=>e.buffer!==void 0;T.isClarityAbiBuffer=_p;var Sp=e=>e["string-ascii"]!==void 0;T.isClarityAbiStringAscii=Sp;var Tp=e=>e["string-utf8"]!==void 0;T.isClarityAbiStringUtf8=Tp;var Pp=e=>e.response!==void 0;T.isClarityAbiResponse=Pp;var mp=e=>e.optional!==void 0;T.isClarityAbiOptional=mp;var Ep=e=>e.tuple!==void 0;T.isClarityAbiTuple=Ep;var bp=e=>e.list!==void 0;T.isClarityAbiList=bp;function Go(e){if((0,T.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:I.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:I.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:I.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:I.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:I.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:I.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,T.isClarityAbiBuffer)(e))return{id:I.ClarityAbiTypeBuffer,type:e};if((0,T.isClarityAbiResponse)(e))return{id:I.ClarityAbiTypeResponse,type:e};if((0,T.isClarityAbiOptional)(e))return{id:I.ClarityAbiTypeOptional,type:e};if((0,T.isClarityAbiTuple)(e))return{id:I.ClarityAbiTypeTuple,type:e};if((0,T.isClarityAbiList)(e))return{id:I.ClarityAbiTypeList,type:e};if((0,T.isClarityAbiStringAscii)(e))return{id:I.ClarityAbiTypeStringAscii,type:e};if((0,T.isClarityAbiStringUtf8)(e))return{id:I.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}T.getTypeUnion=Go;function Ap(e,t){let n;switch(e.id!==void 0?n=e:n=Go(e),n.id){case I.ClarityAbiTypeUInt128:return(0,L.uintCV)(t);case I.ClarityAbiTypeInt128:return(0,L.intCV)(t);case I.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,L.falseCV)();if(t==="true"||t==="1")return(0,L.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case I.ClarityAbiTypePrincipal:if(t.includes(".")){let[o,s]=t.split(".");return(0,L.contractPrincipalCV)(o,s)}else return(0,L.standardPrincipalCV)(t);case I.ClarityAbiTypeTraitReference:let[r,i]=t.split(".");return(0,L.contractPrincipalCV)(r,i);case I.ClarityAbiTypeNone:return(0,L.noneCV)();case I.ClarityAbiTypeBuffer:return(0,L.bufferCV)((0,uu.utf8ToBytes)(t));case I.ClarityAbiTypeStringAscii:return(0,cu.stringAsciiCV)(t);case I.ClarityAbiTypeStringUtf8:return(0,cu.stringUtf8CV)(t);case I.ClarityAbiTypeResponse:throw new Hr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case I.ClarityAbiTypeOptional:throw new Hr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case I.ClarityAbiTypeTuple:throw new Hr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case I.ClarityAbiTypeList:throw new Hr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(n)}`)}}T.encodeClarityValue=Ap;function ct(e){if((0,T.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,T.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,T.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,T.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,T.isClarityAbiResponse)(e))return`(response ${ct(e.response.ok)} ${ct(e.response.error)})`;if((0,T.isClarityAbiOptional)(e))return`(optional ${ct(e.optional)})`;if((0,T.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${ct(t.type)})`).join(" ")})`;if((0,T.isClarityAbiList)(e))return`(list ${e.list.length} ${ct(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}T.getTypeString=ct;function Ip(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(n=>`(${n.name} ${ct(n.type)})`).join(" ")}))`}T.abiFunctionToString=Ip;function Sn(e,t){let n=Go(t);switch(e.type){case L.ClarityType.BoolTrue:case L.ClarityType.BoolFalse:return n.id===I.ClarityAbiTypeBool;case L.ClarityType.Int:return n.id===I.ClarityAbiTypeInt128;case L.ClarityType.UInt:return n.id===I.ClarityAbiTypeUInt128;case L.ClarityType.Buffer:return n.id===I.ClarityAbiTypeBuffer&&n.type.buffer.length>=e.buffer.length;case L.ClarityType.StringASCII:return n.id===I.ClarityAbiTypeStringAscii&&n.type["string-ascii"].length>=e.data.length;case L.ClarityType.StringUTF8:return n.id===I.ClarityAbiTypeStringUtf8&&n.type["string-utf8"].length>=e.data.length;case L.ClarityType.OptionalNone:return n.id===I.ClarityAbiTypeNone||n.id===I.ClarityAbiTypeOptional;case L.ClarityType.OptionalSome:return n.id===I.ClarityAbiTypeOptional&&Sn(e.value,n.type.optional);case L.ClarityType.ResponseErr:return n.id===I.ClarityAbiTypeResponse&&Sn(e.value,n.type.response.error);case L.ClarityType.ResponseOk:return n.id===I.ClarityAbiTypeResponse&&Sn(e.value,n.type.response.ok);case L.ClarityType.PrincipalContract:return n.id===I.ClarityAbiTypePrincipal||n.id===I.ClarityAbiTypeTraitReference;case L.ClarityType.PrincipalStandard:return n.id===I.ClarityAbiTypePrincipal;case L.ClarityType.List:return n.id==I.ClarityAbiTypeList&&n.type.list.length>=e.list.length&&e.list.every(r=>Sn(r,n.type.list.type));case L.ClarityType.Tuple:if(n.id==I.ClarityAbiTypeTuple){let r=(0,hp.cloneDeep)(e.data);for(let i=0;i<n.type.tuple.length;i++){let o=n.type.tuple[i],s=o.name,u=r[s];if(u){if(!Sn(u,o.type))return!1;delete r[s]}else return!1}return!0}else return!1;default:return!1}}function wp(e,t){let n=t.functions.filter(r=>r.name===e.functionName.content);if(n.length===1){let i=n[0].args;if(e.functionArgs.length!==i.length)throw new Error(`Clarity function expects ${i.length} argument(s) but received ${e.functionArgs.length}`);for(let o=0;o<e.functionArgs.length;o++){let s=e.functionArgs[o],u=i[o];if(!Sn(s,u.type)){let d=o+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${d} to be of type ${ct(u.type)}, not ${(0,L.getCVTypeString)(s)}`)}}return!0}else throw n.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}T.validateContractCall=wp;function Op(e,t){let n=ct(t);if((0,T.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,L.uintCV)(e);if(t==="int128")return(0,L.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,L.trueCV)();if(e.toLowerCase()==="false")return(0,L.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[r,i]=e.split(".");return(0,L.contractPrincipalCV)(r,i)}else return(0,L.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}else if((0,T.isClarityAbiBuffer)(t)){if((0,uu.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,L.bufferCVFromString)(e)}else throw(0,T.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,T.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,T.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,T.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):new Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}T.parseToCV=Op});var lu=y(qr=>{a();c();Object.defineProperty(qr,"__esModule",{value:!0});qr.principal=void 0;var Tn=$o(),Dt=le(),Kr=nt();function Rp(e){if(xp(e)){let[t,n]=zr(e);return new Ur(t,n)}return new Ur(e,void 0)}qr.principal=Rp;var Ur=class{constructor(t,n){this.address=t,this.contractName=n}willSendEq(t){return new Lt(this.address,t,Dt.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new Lt(this.address,t,Dt.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new Lt(this.address,t,Dt.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new Lt(this.address,t,Dt.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new Lt(this.address,t,Dt.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new Fr(this.address,Dt.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new Fr(this.address,Dt.NonFungibleConditionCode.DoesNotSend,this.contractName)}},Lt=class{constructor(t,n,r,i){this.address=t,this.amount=n,this.code=r,this.contractName=i}ustx(){return this.contractName?(0,Tn.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,Tn.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,n){let[r,i]=zr(t);return this.contractName?(0,Tn.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Kr.createAssetInfo)(r,i,n)):(0,Tn.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Kr.createAssetInfo)(r,i,n))}},Fr=class{constructor(t,n,r){this.principal=t,this.code=n,this.contractName=r}nft(...t){let{contractAddress:n,contractName:r,tokenName:i,assetId:o}=Np(...t);return this.contractName?(0,Tn.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Kr.createAssetInfo)(n,r,i),o):(0,Tn.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Kr.createAssetInfo)(n,r,i),o)}};function zr(e){let[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}function vp(e){let[t,n]=e.split("::");if(!t||!n)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[r,i]=zr(t);return{contractAddress:r,contractName:i,tokenName:n}}function xp(e){return e.includes(".")}function Np(...e){if(e.length===2){let[s,u]=e;return{...vp(s),assetId:u}}let[t,n,r]=e,[i,o]=zr(t);return{contractAddress:i,contractName:o,tokenName:n,assetId:r}}});var pu=y(he=>{a();c();Object.defineProperty(he,"__esModule",{value:!0});he.signStructuredData=he.decodeStructuredDataSignature=he.encodeStructuredData=he.hashStructuredData=he.STRUCTURED_DATA_PREFIX=void 0;var yu=Re(),Xo=k(),$r=it(),Bp=le(),Mp=Ct();he.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function Wo(e){return yu.base.sha256((0,$r.serializeCV)(e))}he.hashStructuredData=Wo;var fu=32;function Vp(e){return!(e.type!==$r.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===$r.ClarityType.StringASCII)||e.data["chain-id"].type!==$r.ClarityType.UInt)}function gu({message:e,domain:t}){let n=Wo(e);if(!Vp(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let r=Wo(t);return(0,Xo.concatBytes)(he.STRUCTURED_DATA_PREFIX,r,n)}he.encodeStructuredData=gu;function kp(e){let t=typeof e=="string"?(0,Xo.utf8ToBytes)(e):e,n=t.slice(he.STRUCTURED_DATA_PREFIX.length,he.STRUCTURED_DATA_PREFIX.length+fu),r=t.slice(he.STRUCTURED_DATA_PREFIX.length+fu);return{domainHash:n,messageHash:r}}he.decodeStructuredDataSignature=kp;function Dp({message:e,domain:t,privateKey:n}){let r=(0,Xo.bytesToHex)(yu.base.sha256(gu({message:e,domain:t}))),{data:i}=(0,Mp.signMessageHashRsv)({messageHash:r,privateKey:n});return{data:i,type:Bp.StacksMessageType.StructuredDataSignature}}he.signStructuredData=Dp});var dn=y(P=>{a();c();var hu=P&&P.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Lp=P&&P.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ne=P&&P.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&hu(t,e,n)},Cu=P&&P.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&hu(t,e,n);return Lp(t,e),t};Object.defineProperty(P,"__esModule",{value:!0});P.deserializeTransaction=P.StacksTransaction=P.createSTXPostCondition=P.createNonFungiblePostCondition=P.createFungiblePostCondition=P.Pc=P.serializePayload=P.isTokenTransferPayload=P.isSmartContractPayload=P.isPoisonPayload=P.isContractCallPayload=P.isCoinbasePayload=P.Cl=P.BytesReader=P.isSingleSig=P.emptyMessageSignature=void 0;Ne(ln(),P);var _u=ln();Object.defineProperty(P,"emptyMessageSignature",{enumerable:!0,get:function(){return _u.emptyMessageSignature}});Object.defineProperty(P,"isSingleSig",{enumerable:!0,get:function(){return _u.isSingleSig}});Ne($o(),P);var Hp=Ir();Object.defineProperty(P,"BytesReader",{enumerable:!0,get:function(){return Hp.BytesReader}});P.Cl=Cu(au());Ne(it(),P);Ne(Gt(),P);Ne(le(),P);Ne(du(),P);Ne(Ct(),P);var Pn=tn();Object.defineProperty(P,"isCoinbasePayload",{enumerable:!0,get:function(){return Pn.isCoinbasePayload}});Object.defineProperty(P,"isContractCallPayload",{enumerable:!0,get:function(){return Pn.isContractCallPayload}});Object.defineProperty(P,"isPoisonPayload",{enumerable:!0,get:function(){return Pn.isPoisonPayload}});Object.defineProperty(P,"isSmartContractPayload",{enumerable:!0,get:function(){return Pn.isSmartContractPayload}});Object.defineProperty(P,"isTokenTransferPayload",{enumerable:!0,get:function(){return Pn.isTokenTransferPayload}});Object.defineProperty(P,"serializePayload",{enumerable:!0,get:function(){return Pn.serializePayload}});P.Pc=Cu(lu());var Yo=Mo();Object.defineProperty(P,"createFungiblePostCondition",{enumerable:!0,get:function(){return Yo.createFungiblePostCondition}});Object.defineProperty(P,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return Yo.createNonFungiblePostCondition}});Object.defineProperty(P,"createSTXPostCondition",{enumerable:!0,get:function(){return Yo.createSTXPostCondition}});Ne(nt(),P);Ne(Ln(),P);Ne(Lo(),P);Ne(pu(),P);var Su=Fo();Object.defineProperty(P,"StacksTransaction",{enumerable:!0,get:function(){return Su.StacksTransaction}});Object.defineProperty(P,"deserializeTransaction",{enumerable:!0,get:function(){return Su.deserializeTransaction}});Ne(_t(),P);Ne(Ue(),P)});var Tu=y(jr=>{a();c();Object.defineProperty(jr,"__esModule",{value:!0});jr.hashRipemd160=void 0;var Kp=Re();function Up(e){return Kp.base.ripemd160(e)}jr.hashRipemd160=Up});var Gr=y(mt=>{a();c();Object.defineProperty(mt,"__esModule",{value:!0});mt.hashSha512Sync=mt.hashSha256Sync=mt.NodeCryptoSha2Hash=void 0;var Pu=Re(),Jo=class{constructor(t){this.createHash=t}async digest(t,n="sha256"){try{let r=this.createHash(n).update(t).digest();return Promise.resolve(r)}catch(r){return console.log(r),console.log(`Error performing ${n} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(n==="sha256"?mu(t):Eu(t))}}};mt.NodeCryptoSha2Hash=Jo;function mu(e){return Pu.base.sha256(e)}mt.hashSha256Sync=mu;function Eu(e){return Pu.base.sha512(e)}mt.hashSha512Sync=Eu});var es=y(ie=>{a();c();Object.defineProperty(ie,"__esModule",{value:!0});ie.compressPrivateKey=ie.isValidPrivateKey=ie.ecSign=ie.getPublicKeyFromPrivate=ie.publicKeyToBtcAddress=ie.base58CheckEncode=ie.base58Encode=ie.base58CheckDecode=ie.makeECPrivateKey=void 0;var Zo=Yn(),Et=Re(),Fp=Zo.secp256k1.getPublicKey,zp=Zo.secp256k1.signSync,Qo=Zo.secp256k1.utils,He=k(),qp=Tu(),$p=Gr(),jp=0;Qo.hmacSha256Sync=(e,...t)=>{let n=Et.base.hmac.create(Et.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};function Gp(){return(0,He.bytesToHex)(Qo.randomPrivateKey())}ie.makeECPrivateKey=Gp;function Wp(e){let t=Et.base.base58.decode(e),n=t.slice(0,-4),r=t.slice(-4),i=Et.base.sha256(Et.base.sha256(n));if(r[0]^i[0]|r[1]^i[1]|r[2]^i[2]|r[3]^i[3])throw new Error("Invalid checksum");if(n.length!==21)throw new TypeError("Invalid address length");let o=(0,He.readUInt8)(n,0),s=n.slice(1);return{version:o,hash:s}}ie.base58CheckDecode=Wp;function bu(e){let t=Et.base.sha256(Et.base.sha256(e));return Et.base.base58.encode((0,He.concatBytes)(e,t).slice(0,e.length+4))}ie.base58Encode=bu;function Au(e,t){return bu((0,He.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}ie.base58CheckEncode=Au;function Xp(e,t=jp){let n=typeof e=="string"?(0,He.hexToBytes)(e):e,r=(0,qp.hashRipemd160)((0,$p.hashSha256Sync)(n));return Au(t,r)}ie.publicKeyToBtcAddress=Xp;function Yp(e){let t=(0,He.privateKeyToBytes)(e);return(0,He.bytesToHex)(Fp(t.slice(0,32),!0))}ie.getPublicKeyFromPrivate=Yp;function Jp(e,t){return zp(e,(0,He.privateKeyToBytes)(t).slice(0,32),{der:!1})}ie.ecSign=Jp;function Zp(e){return Qo.isValidPrivateKey((0,He.privateKeyToBytes)(e))}ie.isValidPrivateKey=Zp;function Qp(e){let t=(0,He.privateKeyToBytes)(e);return t.length==He.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,He.concatBytes)(t,new Uint8Array([1]))}ie.compressPrivateKey=Qp});var Iu=y(Wr=>{a();c();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.randomBytes=void 0;var eh=Re(),th=(e=32)=>eh.base.randomBytes(e);Wr.randomBytes=th});var ts=y(bt=>{a();c();Object.defineProperty(bt,"__esModule",{value:!0});bt.hashCode=bt.getBase64OutputLength=bt.getAesCbcOutputLength=void 0;function nh(e){return(Math.floor(e/16)+1)*16}bt.getAesCbcOutputLength=nh;function rh(e){return Math.ceil(e/3)*4}bt.getBase64OutputLength=rh;function ih(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t&2147483647}bt.hashCode=ih});var Ou=y(At=>{a();c();Object.defineProperty(At,"__esModule",{value:!0});At.encodingLength=At.decode=At.encode=void 0;var Be=k(),oh=9007199254740991;function ns(e){if(e<0||e>oh||e%1!==0)throw new RangeError("value out of range")}function sh(e,t,n=0){return ns(e),t||(t=new Uint8Array(wu(e))),e<253?(0,Be.writeUInt8)(t,e,n):e<=65535?((0,Be.writeUInt8)(t,253,n),(0,Be.writeUInt16LE)(t,e,n+1)):e<=4294967295?((0,Be.writeUInt8)(t,254,n),(0,Be.writeUInt32LE)(t,e,n+1)):((0,Be.writeUInt8)(t,255,n),(0,Be.writeUInt32LE)(t,e>>>0,n+1),(0,Be.writeUInt32LE)(t,e/4294967296|0,n+5)),t}At.encode=sh;function ah(e,t=0){let n=(0,Be.readUInt8)(e,t);if(n<253)return n;if(n===253)return(0,Be.readUInt16LE)(e,t+1);if(n===254)return(0,Be.readUInt32LE)(e,t+1);{let r=(0,Be.readUInt32LE)(e,t+1),o=(0,Be.readUInt32LE)(e,t+5)*4294967296+r;return ns(o),o}}At.decode=ah;function wu(e){return ns(e),e<253?1:e<=65535?3:e<=4294967295?5:9}At.encodingLength=wu});var os=y(It=>{a();c();Object.defineProperty(It,"__esModule",{value:!0});It.decodeMessage=It.encodeMessage=It.hashMessage=void 0;var ch=Re(),Xr=k(),rs=Ou(),is=`Stacks Signed Message:
`;function uh(e,t=is){return ch.base.sha256(Ru(e,t))}It.hashMessage=uh;function Ru(e,t=is){let n=typeof e=="string"?(0,Xr.utf8ToBytes)(e):e,r=(0,rs.encode)(n.length);return(0,Xr.concatBytes)((0,Xr.utf8ToBytes)(t),r,n)}It.encodeMessage=Ru;function dh(e,t=is){let n=(0,Xr.utf8ToBytes)(t).byteLength,r=e.subarray(n),i=(0,rs.decode)(r),o=(0,rs.encodingLength)(i);return r.slice(o)}It.decodeMessage=dh});var ku=y(J=>{a();c();Object.defineProperty(J,"__esModule",{value:!0});J.verifyMessageSignatureRsv=J.verifyMessageSignature=J.verifyECDSA=J.signECDSA=J.eciesGetJsonStringLength=J.getSignedCipherObjectWrapper=J.getCipherObjectWrapper=J.getBytesFromBN=J.getHexFromBN=J.hmacSha256=J.InvalidPublicKeyReason=void 0;var mn=Yn(),Wn=Re(),lh=mn.secp256k1.signSync,fh=mn.secp256k1.utils,wt=k(),yh=es(),vu=os(),Nu=Gr(),xu=ts();fh.hmacSha256Sync=(e,...t)=>{let n=Wn.base.hmac.create(Wn.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};var gh;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(gh=J.InvalidPublicKeyReason||(J.InvalidPublicKeyReason={}));function ph(e,t){return Wn.base.hmac(Wn.base.sha256,e,t)}J.hmacSha256=ph;function hh(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}J.getHexFromBN=hh;function Ch(e){let t=(0,wt.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}J.getBytesFromBN=Ch;function Bu(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let n=32,r=66,i=64;return{payloadValuesLength:n+r+i,payloadShell:JSON.stringify(t)}}J.getCipherObjectWrapper=Bu;function Mu(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}J.getSignedCipherObjectWrapper=Mu;function _h(e){let{payloadShell:t,payloadValuesLength:n}=Bu(e),r=(0,xu.getAesCbcOutputLength)(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=r*2;else if(e.cipherTextEncoding==="base64")i=(0,xu.getBase64OutputLength)(r);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:o,signedPayloadValuesLength:s}=Mu(t);return o.length+s+n+i}else return t.length+n+i}J.eciesGetJsonStringLength=_h;function Sh(e,t){let n=typeof t=="string"?(0,wt.utf8ToBytes)(t):t,r=(0,yh.getPublicKeyFromPrivate)(e),i=(0,Nu.hashSha256Sync)(n),o=lh(i,e);return{signature:(0,wt.bytesToHex)(o),publicKey:r}}J.signECDSA=Sh;function Th(e,t,n){let r=typeof e=="string"?(0,wt.utf8ToBytes)(e):e,i=(0,Nu.hashSha256Sync)(r);return mn.secp256k1.verify(n,i,t,{strict:!1})}J.verifyECDSA=Th;function Vu({signature:e,message:t,publicKey:n}){let{r,s:i}=(0,wt.parseRecoverableSignatureVrs)(e),o=new mn.secp256k1.Signature((0,wt.hexToBigInt)(r),(0,wt.hexToBigInt)(i)),s=typeof t=="string"?(0,vu.hashMessage)(t):t,u=mn.secp256k1.verify(o,s,n,{strict:!1});if(u||typeof t!="string")return u;let d=`Stacks Message Signing:
`,C=Wn.base.sha256((0,vu.encodeMessage)(t,d));return mn.secp256k1.verify(o,C,n,{strict:!1})}J.verifyMessageSignature=Vu;function Ph({signature:e,message:t,publicKey:n}){return Vu({signature:(0,wt.signatureRsvToVrs)(e),message:t,publicKey:n})}J.verifyMessageSignatureRsv=Ph});var ss=y(Ke=>{a();c();var mh=Ke&&Ke.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),En=Ke&&Ke.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&mh(t,e,n)};Object.defineProperty(Ke,"__esModule",{value:!0});En(es(),Ke);En(Iu(),Ke);En(Gr(),Ke);En(ts(),Ke);En(os(),Ke);En(ku(),Ke)});var Du=y(z=>{a();c();Object.defineProperty(z,"__esModule",{value:!0});z.StackingErrors=z.PoxOperationPeriod=z.SEGWIT_V1=z.SEGWIT_V0=z.SEGWIT_ADDR_PREFIXES=z.SegwitPrefix=z.SEGWIT_V1_ADDR_PREFIX=z.SEGWIT_V0_ADDR_PREFIX=z.B58_ADDR_PREFIXES=z.BitcoinNetworkVersion=z.PoXAddressVersion=void 0;var Eh;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(Eh=z.PoXAddressVersion||(z.PoXAddressVersion={}));z.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};z.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;z.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;z.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;z.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};z.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;z.SEGWIT_V0=0;z.SEGWIT_V1=1;var bh;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(bh=z.PoxOperationPeriod||(z.PoxOperationPeriod={}));var Ah;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(Ah=z.StackingErrors||(z.StackingErrors={}))});var as=y(ee=>{a();c();Object.defineProperty(ee,"__esModule",{value:!0});ee.ensureLegacyBtcAddressForPox1=ee.ensurePox2Activated=ee.unwrapMap=ee.unwrap=ee.poxAddressToBtcAddress=ee.poxAddressToTuple=ee.getErrorString=ee.extractPoxAddressFromClarityValue=ee.decodeBtcAddress=ee.btcAddressVersionToLegacyHashMode=ee.InvalidAddressError=void 0;var Ot=Re(),Ih=k(),Lu=ss(),Ze=dn(),h=Du(),Yr=class extends Error{constructor(t,n){let r=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(r),this.message=r,this.name=this.constructor.name,this.innerError=n,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};ee.InvalidAddressError=Yr;function Hu(e){switch(e){case h.BitcoinNetworkVersion.mainnet.P2PKH:return h.PoXAddressVersion.P2PKH;case h.BitcoinNetworkVersion.testnet.P2PKH:return h.PoXAddressVersion.P2PKH;case h.BitcoinNetworkVersion.mainnet.P2SH:return h.PoXAddressVersion.P2SH;case h.BitcoinNetworkVersion.testnet.P2SH:return h.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}ee.btcAddressVersionToLegacyHashMode=Hu;function wh(e,t){if(e===h.SEGWIT_V0&&t===20)return h.PoXAddressVersion.P2WPKH;if(e===h.SEGWIT_V0&&t===32)return h.PoXAddressVersion.P2WSH;if(e===h.SEGWIT_V1&&t===32)return h.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function Oh(e){let{words:t}=Ot.base.bech32.decode(e),n=t[0];if(n>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:n,data:Ot.base.bech32.fromWords(t.slice(1))}}function Rh(e){let{words:t}=Ot.base.bech32m.decode(e),n=t[0];if(n==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:n,data:Ot.base.bech32m.fromWords(t.slice(1))}}function vh(e){if(h.SEGWIT_V0_ADDR_PREFIX.test(e))return Oh(e);if(h.SEGWIT_V1_ADDR_PREFIX.test(e))return Rh(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${h.SEGWIT_V0_ADDR_PREFIX} or ${h.SEGWIT_V1_ADDR_PREFIX}`)}function Ku(e){try{if(h.B58_ADDR_PREFIXES.test(e)){let t=(0,Lu.base58CheckDecode)(e);return{version:Hu(t.version),data:t.hash}}else if(h.SEGWIT_ADDR_PREFIXES.test(e)){let t=vh(e);return{version:wh(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new Yr(e,t)}}ee.decodeBtcAddress=Ku;function Uu(e){let t=e;if(t.type!==Ze.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let n=t.data.version,r=t.data.hashbytes;if(n.type!==Ze.ClarityType.Buffer||r.type!==Ze.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:n.buffer[0],hashBytes:r.buffer}}ee.extractPoxAddressFromClarityValue=Uu;function xh(e){switch(e){case h.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case h.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case h.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case h.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case h.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case h.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case h.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case h.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case h.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case h.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case h.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case h.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case h.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case h.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case h.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case h.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case h.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case h.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case h.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case h.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case h.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case h.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case h.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case h.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case h.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case h.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case h.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}ee.getErrorString=xh;function Nh(e){let{version:t,data:n}=Ku(e),r=(0,Ze.bufferCV)((0,Ih.bigIntToBytes)(BigInt(t),1)),i=(0,Ze.bufferCV)(n);return(0,Ze.tupleCV)({version:r,hashbytes:i})}ee.poxAddressToTuple=Nh;function Bh(e,t){switch(e){case h.PoXAddressVersion.P2PKH:return h.BitcoinNetworkVersion[t].P2PKH;case h.PoXAddressVersion.P2SH:case h.PoXAddressVersion.P2SHP2WPKH:case h.PoXAddressVersion.P2SHP2WSH:return h.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function Fu(e,t,n){if(!["mainnet","testnet","regtest"].includes(n))throw new Error("Invalid network.");switch(e){case h.PoXAddressVersion.P2PKH:case h.PoXAddressVersion.P2SH:case h.PoXAddressVersion.P2SHP2WPKH:case h.PoXAddressVersion.P2SHP2WSH:{let r=Bh(e,n);return(0,Lu.base58CheckEncode)(r,t)}case h.PoXAddressVersion.P2WPKH:case h.PoXAddressVersion.P2WSH:{let r=Ot.base.bech32.toWords(t);return Ot.base.bech32.encode(h.SegwitPrefix[n],[h.SEGWIT_V0,...r])}case h.PoXAddressVersion.P2TR:{let r=Ot.base.bech32m.toWords(t);return Ot.base.bech32m.encode(h.SegwitPrefix[n],[h.SEGWIT_V1,...r])}}throw new Error(`Unexpected address version: ${e}`)}function Mh(e,t){let n=Uu(e);return Fu(n.version,n.hashBytes,t)}function Vh(...e){return typeof e[0]=="number"?Fu(e[0],e[1],e[2]):Mh(e[0],e[1])}ee.poxAddressToBtcAddress=Vh;function kh(e){if(e.type===Ze.ClarityType.OptionalSome)return e.value;if(e.type!==Ze.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}ee.unwrap=kh;function Dh(e,t){if(e.type===Ze.ClarityType.OptionalSome)return t(e.value);if(e.type!==Ze.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}ee.unwrapMap=Dh;function Lh(e){if(e.period===h.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}ee.ensurePox2Activated=Lh;function Hh({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!h.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}ee.ensureLegacyBtcAddressForPox1=Hh});var us=y(Me=>{a();c();var Kh=Me&&Me.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Uh=Me&&Me.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Kh(t,e,n)};Object.defineProperty(Me,"__esModule",{value:!0});Me.getDelegateOptions=Me.renamePrivateKey=Me.stack=void 0;var Fh=k(),zu=jn(),Te=dn(),cs=as();Uh(as(),Me);async function zh({contract:e,amountMicroStx:t,poxAddress:n,cycles:r,burnBlockHeight:i,...o}){(0,cs.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:n});let s=qh({amountMicroStx:t,cycles:r,poxAddress:n,contract:e,burnBlockHeight:i}),u=await(0,Te.makeContractCall)({...s,...qu(o)}),d=(0,Te.addHex)(u.txid()),C=(0,Fh.bytesToHex)(u.serialize());return{txId:d,txSerializedHexString:C}}Me.stack=zh;function qh({amountMicroStx:e,poxAddress:t,cycles:n,contract:r,burnBlockHeight:i}){let o=(0,cs.poxAddressToTuple)(t),[s,u]=$h(r);return{contractAddress:s,contractName:u,functionName:"stack-stx",functionArgs:[(0,Te.uintCV)(e),o,(0,Te.uintCV)(i),(0,Te.uintCV)(n)],validateWithAbi:!0,network:new zu.StacksMainnet,anchorMode:Te.AnchorMode.Any}}function $h(e){let t=e.split(".");if(t.length===2&&(0,Te.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function qu(e){return e.senderKey=e.privateKey,delete e.privateKey,e}Me.renamePrivateKey=qu;function jh(e,t,n,r,i,o,s){let u=s?(0,Te.someCV)((0,cs.poxAddressToTuple)(s)):(0,Te.noneCV)();return{contractAddress:e,contractName:t,functionName:n,functionArgs:[(0,Te.uintCV)(r),(0,Te.principalCV)(i),o?(0,Te.someCV)((0,Te.uintCV)(o)):(0,Te.noneCV)(),u],validateWithAbi:!0,network:new zu.StacksMainnet,anchorMode:Te.AnchorMode.Any}}Me.getDelegateOptions=jh});var $u=y(V=>{a();c();Object.defineProperty(V,"__esModule",{value:!0});V.getDeployPayload=V.getContractCallPayload=V.getRevokeDelegateStxPayload=V.getDelegateStxPayload=V.getAllowContractCallerPayload=V.getTokenTransferPayload=V.getTransferPayload=V.revokeDelegateStx=V.delegateStx=V.ContractDeployTx=V.makeContractCallTx=V.TransactionTypes=V.allowContractCaller=V.tokenTransfer=V.stacks=V.transfer=void 0;var l=dn(),Rt=tn(),Pe=k(),Jr=jn(),ds=us();function Gh(e,t,n,r,i,o,s){let u=l.TransactionVersion.Mainnet,d=t,C=(0,l.createStandardPrincipal)(d),B=(0,l.standardPrincipalCV)(d),H=(0,Rt.createTokenTransferPayload)(B,n,r),Z=l.AddressHashMode.SerializeP2PKH,R=(0,l.createStacksPrivateKey)(e),W=(0,Pe.bytesToHex)((0,l.getPublicKey)(R).data),te=(0,l.createSingleSigSpendingCondition)(Z,W,i,o),ne=(0,l.createStandardAuth)(te),de=(0,l.createLPList)([]),oe=new l.StacksTransaction(u,ne,H,de,void 0,s);new l.TransactionSigner(oe).signOrigin((0,l.createStacksPrivateKey)(e)),oe.verifyOrigin();let Ve=(0,l.addHex)(oe.txid()),ze=oe.serialize(),Oe=(0,Pe.bytesToHex)(ze);return{txId:Ve,txSerializedHexString:Oe}}V.transfer=Gh;async function Wh(e,t,n,r,i,o,s,u,d){let C=new Jr.StacksMainnet;return await(0,ds.stack)({contract:s,amountMicroStx:r,poxAddress:n,cycles:i,privateKey:e,burnBlockHeight:o,fee:u,nonce:d})}V.stacks=Wh;async function Xh(e,t,n,r,i,o,s,u,d,C,B){let H=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:o,contractName:s,fee:B,functionArgs:[(0,l.uintCV)(i),(0,l.standardPrincipalCV)(t),(0,l.standardPrincipalCV)(n),(0,l.someCV)((0,l.bufferCVFromString)(r))],functionName:d,nonce:C,postConditionMode:l.PostConditionMode.Deny,postConditions:[(0,l.makeStandardFungiblePostCondition)(t,l.FungibleConditionCode.Equal,i,(0,l.createAssetInfo)(o,s,u))],senderKey:e,network:new Jr.StacksMainnet}),Z=(0,l.addHex)(H.txid()),R=(0,Pe.bytesToHex)(H.serialize());return{txId:Z,txSerializedHexString:R}}V.tokenTransfer=Xh;async function Yh(e,t,n,r,i,o,s,u){let d=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:n,contractName:r,fee:u,functionArgs:[(0,l.principalCV)(t),o?(0,l.someCV)((0,l.uintCV)(o)):(0,l.noneCV)()],functionName:i,nonce:s,senderKey:e,network:new Jr.StacksMainnet}),C=(0,l.addHex)(d.txid()),B=(0,Pe.bytesToHex)(d.serialize());return{txId:C,txSerializedHexString:B}}V.allowContractCaller=Yh;var Jh;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(Jh=V.TransactionTypes||(V.TransactionTypes={}));async function Zh(e,t){let{txData:n,nonce:r,fee:i}=e,{contractName:o,contractAddress:s,functionName:u,functionArgs:d,sponsored:C,postConditionMode:B,postConditions:H,anchorMode:Z}=n,R=d.map(oe=>(0,l.deserializeCV)((0,l.hexToBuff)(oe))),W={senderKey:t,contractName:o,contractAddress:s,functionName:u,anchorMode:Z??l.AnchorMode.Any,functionArgs:R,nonce:r,fee:i,postConditionMode:B,postConditions:H?.map(l.postConditionFromString),sponsored:C},te=await(0,l.makeContractCall)(W),ne=(0,l.addHex)(te.txid()),de=(0,Pe.bytesToHex)(te.serialize());return{txId:ne,txSerializedHexString:de}}V.makeContractCallTx=Zh;async function Qh(e,t){let{txData:n,nonce:r,fee:i}=e,{contractName:o,codeBody:s,postConditions:u,postConditionMode:d,anchorMode:C}=n,B={senderKey:t,contractName:o,codeBody:s,nonce:r,fee:i,anchorMode:C??l.AnchorMode.Any,postConditionMode:d,postConditions:u?.map(l.postConditionFromString)},H=await(0,l.makeContractDeploy)(B),Z=(0,l.addHex)(H.txid()),R=(0,Pe.bytesToHex)(H.serialize());return{txId:Z,txSerializedHexString:R}}V.ContractDeployTx=Qh;async function eC(e,t,n,r,i,o,s,u,d,C){let B=(0,ds.getDelegateOptions)(t,n,r,s,i,u,o),H=await(0,l.makeContractCall)({...B,senderKey:e,nonce:d,fee:C}),Z=(0,l.addHex)(H.txid()),R=(0,Pe.bytesToHex)(H.serialize());return{txId:Z,txSerializedHexString:R}}V.delegateStx=eC;async function tC(e,t,n,r,i,o){let s=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:t,contractName:n,fee:o,functionArgs:[],functionName:r,nonce:i,senderKey:e,network:new Jr.StacksMainnet}),u=(0,l.addHex)(s.txid()),d=(0,Pe.bytesToHex)(s.serialize());return{txId:u,txSerializedHexString:d}}V.revokeDelegateStx=tC;function nC(e,t,n){let r=e,i=(0,l.standardPrincipalCV)(r),o=(0,Rt.createTokenTransferPayload)(i,t,n),s=(0,l.serializePayload)(o);return(0,Pe.bytesToHex)(s)}V.getTransferPayload=nC;function rC(e,t,n,r,i,o,s){let u=(0,Rt.createContractCallPayload)(i,o,s,[(0,l.uintCV)(r),(0,l.standardPrincipalCV)(e),(0,l.standardPrincipalCV)(t),(0,l.someCV)((0,l.bufferCVFromString)(n))]),d=(0,l.serializePayload)(u);return(0,Pe.bytesToHex)(d)}V.getTokenTransferPayload=rC;function iC(e,t,n,r,i){let o=(0,Rt.createContractCallPayload)(t,n,r,[(0,l.principalCV)(e),i?(0,l.someCV)((0,l.uintCV)(i)):(0,l.noneCV)()]),s=(0,l.serializePayload)(o);return(0,Pe.bytesToHex)(s)}V.getAllowContractCallerPayload=iC;function oC(e,t,n,r,i,o,s){let u=i?(0,l.someCV)((0,ds.poxAddressToTuple)(i)):(0,l.noneCV)(),d=[(0,l.uintCV)(o),(0,l.principalCV)(r),s?(0,l.someCV)((0,l.uintCV)(s)):(0,l.noneCV)(),u],C=(0,Rt.createContractCallPayload)(e,t,n,d),B=(0,l.serializePayload)(C);return(0,Pe.bytesToHex)(B)}V.getDelegateStxPayload=oC;function sC(e,t,n){let r=(0,Rt.createContractCallPayload)(e,t,n,[]),i=(0,l.serializePayload)(r);return(0,Pe.bytesToHex)(i)}V.getRevokeDelegateStxPayload=sC;function aC(e,t,n,r){let i=r.map(u=>(0,l.deserializeCV)((0,l.hexToBuff)(u))),o=(0,Rt.createContractCallPayload)(e,t,n,i),s=(0,l.serializePayload)(o);return(0,Pe.bytesToHex)(s)}V.getContractCallPayload=aC;function cC(e,t){let n=(0,Rt.createSmartContractPayload)(e,t,l.ClarityVersion.Clarity2),r=(0,l.serializePayload)(n);return(0,Pe.bytesToHex)(r)}V.getDeployPayload=cC});var Gu=y(Zr=>{a();c();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.StxWallet=void 0;var ju=Yn(),F=Re(),D=Wu(),ls=class extends F.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return ju.bip39.mnemonicToSeedV2(t.mnemonic).then(n=>{let r=ju.bip32.fromSeedV2(n,t.hdPath);return r.privateKey?Promise.resolve(F.base.toHex(r.privateKey)+"01"):Promise.reject(F.GenPrivateKeyError)}).catch(n=>Promise.reject(F.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=F.base.randomBytes(32);if((0,F.secp256k1SignTest)(t))return Promise.resolve(F.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(F.GenPrivateKeyError)}getNewAddress(t){try{let n=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,r=(0,D.createStacksPrivateKey)(n.toLowerCase()),i=F.base.toHex((0,D.getPublicKey)(r).data),o;t.version&&t.version==="Testnet"?o=(0,D.getAddressFromPublicKey)(i,D.TransactionVersion.Testnet):o=(0,D.getAddressFromPublicKey)(i);let s={address:o,publicKey:i};return Promise.resolve(s)}catch{return Promise.reject(F.NewAddressError)}}checkPrivateKey(t){return t.toLowerCase().startsWith("0x")&&(t=t.substring(2)),(0,D.createStacksPrivateKey)(t),!0}async validPrivateKey(t){let n;try{n=this.checkPrivateKey(t.privateKey)}catch{n=!1}let r={isValid:n,privateKey:t.privateKey};return Promise.resolve(r)}async signTransaction(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let n=t.data;if(n.type=="transfer"){let r=n.data;if(r.to==null||r.amount==null||r.nonce==null||r.fee==null)return Promise.reject(F.SignTxError);let i=(0,D.transfer)(t.privateKey,r.to,r.amount,r.memo,r.nonce,r.fee,r.anchorMode);return Promise.resolve(i)}else if(n.type=="tokenTransfer"){let r=n.data;if(r.from==null||r.to==null||r.amount==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(F.SignTxError);let i=await(0,D.tokenTransfer)(t.privateKey,r.from,r.to,r.memo,r.amount,r.contract,r.contractName,r.tokenName,r.functionName,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="allowContractCaller"){let r=n.data;if(r.caller==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(F.SignTxError);let i=await(0,D.allowContractCaller)(t.privateKey,r.caller,r.contract,r.contractName,r.functionName,r.untilBurnBlockHeight,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="delegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null||r.amountMicroStx==null||r.delegateTo==null)return Promise.reject(F.SignTxError);let i=await(0,D.delegateStx)(t.privateKey,r.contract,r.contractName,r.functionName,r.delegateTo,r.poxAddress,r.amountMicroStx,r.untilBurnBlockHeight,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="revokeDelegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(F.SignTxError);let i=await(0,D.revokeDelegateStx)(t.privateKey,r.contract,r.contractName,r.functionName,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="contractCall"){let r=n.data,i=await(0,D.makeContractCallTx)(r,t.privateKey);return Promise.resolve(i)}else if(n.type=="deployContract"){let r=n.data,i=await(0,D.ContractDeployTx)(r,t.privateKey);return Promise.resolve(i)}return Promise.reject(F.SignTxError)}catch(n){return Promise.reject(n)}}async signCommonMsg(t){let n=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,r=(0,D.createStacksPrivateKey)(n.toLowerCase()),i=r.compressed?F.base.toHex(r.data.slice(0,32)):F.base.toHex(r.data);return super.signCommonMsg({privateKey:t.privateKey,privateKeyHex:i,message:t.message,signType:F.SignType.Secp256k1,version:t.version})}async signMessage(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let n=(0,D.createStacksPrivateKey)(t.privateKey);if(t.data.type=="signMessage"){let r=(0,D.hashMessage)(t.data.message),i=(0,D.signMessageHashRsv)({messageHash:(0,D.bytesToHex)(r),privateKey:n});return Promise.resolve({signature:i.data,publicKey:(0,D.publicKeyToString)((0,D.getPublicKey)(n))})}else if(t.data.type=="signStructuredData"){let r=t.data.message,i=t.data.domain,o=(0,D.signStructuredData)({message:r,domain:i,privateKey:n}).data;return Promise.resolve({signature:o,publicKey:(0,D.publicKeyToString)((0,D.getPublicKey)(n))})}}catch{return Promise.reject(F.SignMsgError)}}async verifyMessage(t){try{let n=t.data;if(n.publicKey===void 0)return Promise.reject(F.SignMsgError);let r=t.signature,i=(0,D.hashMessage)(t.data.message),o=n.publicKey;return Promise.resolve((0,D.verifyMessageSignatureRsv)({signature:r,message:i,publicKey:o}))}catch(n){return Promise.reject(n)}}validAddress(t){let n;try{n=(0,D.validateStacksAddress)(t.address)}catch{n=!1}let r={isValid:n,address:t.address};return Promise.resolve(r)}getRawTransaction(t){try{let n=t.data;if(n.type=="transfer"){let r=n.data;if(r.to==null||r.amount==null)return Promise.reject(F.GetPayLoadError);let i=(0,D.getTransferPayload)(r.to,r.amount,r.memo);return Promise.resolve(i)}else if(n.type=="tokenTransfer"){let r=n.data;if(r.from==null||r.to==null||r.amount==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(F.GetPayLoadError);let i=(0,D.getTokenTransferPayload)(r.from,r.to,r.memo,r.amount,r.contract,r.contractName,r.functionName);return Promise.resolve(i)}else if(n.type=="allowContractCaller"){let r=n.data;if(r.caller==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(F.GetPayLoadError);let i=(0,D.getAllowContractCallerPayload)(r.caller,r.contract,r.contractName,r.functionName,r.untilBurnBlockHeight);return Promise.resolve(i)}else if(n.type=="delegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null||r.amountMicroStx==null||r.delegateTo==null)return Promise.reject(F.GetPayLoadError);let i=(0,D.getDelegateStxPayload)(r.contract,r.contractName,r.functionName,r.delegateTo,r.poxAddress,r.amountMicroStx,r.untilBurnBlockHeight);return Promise.resolve(i)}else if(n.type=="revokeDelegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(F.GetPayLoadError);let i=(0,D.getRevokeDelegateStxPayload)(r.contract,r.contractName,r.functionName);return Promise.resolve(i)}else if(n.type=="contractCall"){let r=n.data,i=(0,D.getContractCallPayload)(r.contract,r.contractName,r.functionName,r.functionArgs);return Promise.resolve(i)}else if(n.type=="deployContract"){let r=n.data,i=(0,D.getDeployPayload)(r.contractName,r.codeBody);return Promise.resolve(i)}return Promise.reject(F.GetPayLoadError)}catch{return Promise.reject(F.GetPayLoadError)}}};Zr.StxWallet=ls});var Wu=y(ue=>{a();c();var uC=ue&&ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),bn=ue&&ue.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&uC(t,e,n)};Object.defineProperty(ue,"__esModule",{value:!0});ue.verifyMessageSignatureRsv=ue.hashMessage=ue.bytesToHex=void 0;bn(dn(),ue);bn(us(),ue);bn(jn(),ue);bn(Ft(),ue);bn($u(),ue);var dC=k();Object.defineProperty(ue,"bytesToHex",{enumerable:!0,get:function(){return dC.bytesToHex}});var Xu=ss();Object.defineProperty(ue,"hashMessage",{enumerable:!0,get:function(){return Xu.hashMessage}});Object.defineProperty(ue,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return Xu.verifyMessageSignatureRsv}});bn(Gu(),ue)});export{Wu as a};
//# sourceMappingURL=chunk-7F2KBHWG.js.map
