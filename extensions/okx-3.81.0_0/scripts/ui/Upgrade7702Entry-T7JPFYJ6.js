import{a as tt}from"./chunk-3HMBEO4H.js";import"./chunk-EHX5MFHL.js";import{a as J}from"./chunk-7QX2TXNH.js";import{d as Q}from"./chunk-ZDHJHPQ5.js";import{c as H}from"./chunk-A4VJP6UE.js";import{a as Z}from"./chunk-5GHXPDUI.js";import{e as O}from"./chunk-SYOIP55B.js";import{Ba as Y,Va as R,l as K}from"./chunk-MSFAPAHB.js";import"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import"./chunk-WRVJM3F3.js";import"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import"./chunk-OOYDFTEF.js";import{a as _}from"./chunk-JNIP4OYT.js";import"./chunk-XRCQOGA2.js";import"./chunk-SWUBCABA.js";import{b as z}from"./chunk-QRAFULYC.js";import"./chunk-ITDLKQAF.js";import{a as $}from"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import{j as X}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{D as j,a as M,wb as F}from"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import"./chunk-Z62JX42S.js";import{Na as wt}from"./chunk-2QHGKEME.js";import"./chunk-HAHRUU64.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as V}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{Jb as q,Sb as gt}from"./chunk-COF7YKSN.js";import{A as o,K as D}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{I as B,o as G}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{t as U,u as W,z as l}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as L}from"./chunk-4QGZDIBD.js";import{b as I}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import{b as ft}from"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as c,o as a,q as r}from"./chunk-Y5OH3DDZ.js";a();r();var e=c(I()),rt=c(V()),b=c(L()),st=c(ft());D();a();r();gt();a();r();var n=c(I()),it=c(wt()),nt=c(V());D();a();r();var g=c(I()),et=c(L());D();a();r();var f={content:"_content_vcvw7_1",title:"_title_vcvw7_4",desc:"_desc_vcvw7_10",btn:"_btn_vcvw7_17",applyOkxBtn:"_applyOkxBtn_vcvw7_31"};function vt({visible:s,onSwitch:w,onRevoke:h,onCancel:d}){return g.default.createElement(G,{whiteboard:!0,visible:s},g.default.createElement("div",{className:f.content},g.default.createElement("div",{className:f.title},o("wallet_extension_function_dialog_title_upgrade_3rd_7702")),g.default.createElement("div",{className:f.desc},o("wallet_extension_function_dialog_desc_upgrade_3rd_7702"))),g.default.createElement("div",{className:(0,et.default)(f.btn,f.applyOkxBtn),onClick:w,"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.APPLY_OKX_DIALOG_BUTTON},o("wallet_extension_function_dialog_btn_apply_okx7702")),g.default.createElement("div",{className:f.btn,onClick:h,"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.REVOKE_DIALOG_BUTTON},o("wallet_extension_function_dialog_btn_revoke_existing")),g.default.createElement("div",{className:f.btn,onClick:d},o("wallet_extension_general_dialog_btn_maybe_later")))}var ot=vt;a();r();var N={root:"_root_1j4vn_1",emptyClassName:"_emptyClassName_1j4vn_5",notSupportTitle:"_notSupportTitle_1j4vn_8",notSupportDesc:"_notSupportDesc_1j4vn_15",notSupportButton:"_notSupportButton_1j4vn_23"};function y(s,w){Y({button7702:s,network_filter:w,terminal:"extension"})}function Et({onSwitch:s}){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:N.notSupportTitle},o("wallet_extension_function_emptystate_title_no_wallets_available")),n.default.createElement("div",{className:N.notSupportDesc},o("wallet_extension_function_emptystate_desc_switch_evm7702")),n.default.createElement("div",{className:N.notSupportButton},n.default.createElement(l,{category:l.CATEGORY.outline,type:l.TYPE.primary,size:l.SIZE.md,onClick:s},o("wallet_extension_general_btn_switch_wallet"))))}function Tt(s){let w=(0,it.useDispatch)(),h=(0,nt.useHistory)(),[d,v]=n.default.useState(),k=t=>{let i="upgrade7702";w(H({type:i,data:[t]})),h.push({pathname:F,search:`?type=${i}`})},P=t=>{let{baseCoinId:i,revokeContractAddress:E,revokeContractData:T}=t;k({walletId:s.walletId,baseCoinId:i,upgradeAddress:E,inputData:T,isUpgrade:!1})},u=t=>{let{baseCoinId:i,contractAddress:E,contractData:T}=t;k({walletId:s.walletId,baseCoinId:i,upgradeAddress:E,inputData:T,isUpgrade:!0})};return n.default.createElement(n.default.Fragment,null,n.default.createElement(O,{emptyClassName:N.emptyClassName,emptyText:n.default.createElement(Et,{onSwitch:s.onSwitch}),dataSource:s.supportedNetworks,renderItem:t=>{let i;return t.status===5?i={loadingText:o("wallet_extension_function_btn_revoking"),type:l.TYPE.gray,loading:!0,"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.REVOKING_BUTTON}:t.status===2?i={loadingText:o("wallet_extension_function_btn_upgrading"),type:l.TYPE.highlight,loading:!0,"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.UPGRADING_BUTTON}:t.status===3?i={children:o("wallet_extension_function_btn_revoke"),type:l.TYPE.gray,onClick:()=>{P(t),y("revokeokx7702",t.chainIndex)},"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.REVOKE_BUTTON}:t.status===4?i={children:o("wallet_extension_function_btn_apply_okx"),type:l.TYPE.gray,onClick:()=>{v(t)},"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.APPLY_OKX_BUTTON}:i={children:o("wallet_extension_function_btn_upgrade"),type:l.TYPE.highlight,onClick:()=>{u(t),y("upgrade",t.chainIndex)},"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.UPGRADE_BUTTON},n.default.createElement(O.Coin,{className:N.root,disabledCursor:!0,symbol:t.chainName,icon:t.imageUrl,"data-testid":_.UPGRADE_7702_SUPPORTED_NETWORKS.NETWORK_ITEM},n.default.createElement(l,{category:l.CATEGORY.fill,size:l.SIZE.xs,...i}))}}),n.default.createElement(ot,{visible:!!d,onSwitch:()=>{d&&(u(d),v(void 0),y("applyokx7702",d.chainIndex))},onRevoke:()=>{d&&(P(d),v(void 0),y("revokeothers",d.chainIndex))},onCancel:()=>{v(void 0)}}))}var at=Tt;a();r();var p={content:"_content_dqvuo_1",title:"_title_dqvuo_4",subTitle:"_subTitle_dqvuo_10",walletWrapper:"_walletWrapper_dqvuo_17",wallet:"_wallet_dqvuo_17",walletIcon:"_walletIcon_dqvuo_34",questionIcon:"_questionIcon_dqvuo_37",supportNetworks:"_supportNetworks_dqvuo_42",loading:"_loading_dqvuo_50"};function Nt(){let s=(0,rt.useHistory)(),w=J(),[h,d]=(0,e.useState)(!0),[v,k]=(0,e.useState)([]),P=$(),u=w.get("walletId")||P,t=X(u),i=(0,e.useMemo)(()=>{let m="";return(0,st.isEmpty)(t)||t.keyringName&&(m+=t.keyringName,t.walletName&&(m+="-",m+=t.walletName)),m},[t]),E=()=>{s.push(`${j}?walletId=${u}`),K({terminal:"extension"})},T=async()=>{try{let lt=((await Z(u))?.chainList||[]).map(({contractAddress:_t,contractData:dt,revokeContractAddress:pt,revokeContractData:mt,chainIndex:A,address:ct,status:ut})=>{let C=q({chainId:A});return{chainName:C.chainName,baseCoinId:C.coinId,imageUrl:C.imageUrl,contractAddress:_t,contractData:dt,revokeContractAddress:pt,revokeContractData:mt,chainIndex:A,address:ct,status:ut}});k(lt)}catch(m){let x=m;B.error({title:x?.msg||o("wallet_home_toast_network_error")})}finally{d(!1)}};return(0,e.useEffect)(()=>{T()},[u]),z("wallet-inform",{onSuccess:async m=>{if(!m?.data)return;m.data.type===1&&await T()}}),e.default.createElement(e.default.Fragment,null,e.default.createElement(Q,{onBack:()=>{s.push(M)},className:p.nav,bordered:!1,closeable:!1}),e.default.createElement("div",{className:p.content},e.default.createElement("div",{className:p.title},o("wallet_extension_function_header_upgrade_evm_wallets")),e.default.createElement("div",{className:p.subTitle},o("wallet_extension_function_header_7702_gives")),e.default.createElement("div",{className:p.walletWrapper},e.default.createElement("div",{className:p.wallet,onClick:E,"data-testid":_.UPGRADE_7702_ENTRY_PAGE.WALLET_SELECTOR},e.default.createElement(U,{className:(0,b.default)("okx-wallet-plugin-wallet",p.walletIcon)}),i),e.default.createElement(U,{className:(0,b.default)("okx-wallet-plugin-question-mark",p.questionIcon),onClick:()=>{globalThis.platform.openTab({url:o("wallet_extension_dialog_hyperlink_eip7702")}),R({terminal:"extension"})}})),e.default.createElement(tt,null),e.default.createElement("div",{className:p.supportNetworks},o("wallet_extension_function_select_title_supported_wallets")),h?e.default.createElement("div",{className:p.loading},e.default.createElement(W.Circle,null)):e.default.createElement(at,{walletId:u,supportedNetworks:v,onSwitch:E})))}var Ie=Nt;export{Ie as default};
//# sourceMappingURL=Upgrade7702Entry-T7JPFYJ6.js.map
