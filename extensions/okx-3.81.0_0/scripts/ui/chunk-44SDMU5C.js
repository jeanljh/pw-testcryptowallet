import{aa as p,ua as g}from"./chunk-2QHGKEME.js";import{C as m,va as C}from"./chunk-XFTQD4B2.js";import{o as d,q as u}from"./chunk-Y5OH3DDZ.js";d();u();C();d();u();var f="multi",l="single";var A=(n,i)=>{let{metamask:t}=n;return t.domains?t.domains[i]:void 0},c=(n,i)=>{let t=A(n,i);if(!t)return{};let e={};return t.single&&m(t.single,(s,r)=>{m(s,(o,a)=>{(!e[a]||e[a].timestamp<o.timestamp)&&(e[a]={source:"single",timestamp:o.timestamp,chain:r,providerType:o.providerType})})}),t?.multi&&m(t.multi,(s,r)=>{(!e[r]||e[r].timestamp<s.timestamp)&&(e[r]={source:"multi",timestamp:s.timestamp,providerType:s.providerType})}),e},h=(n,i)=>{let t=c(n,i),e=Object.keys(t).reduce((s,r)=>t[r].timestamp>s.timestamp?{timestamp:t[r].timestamp,accountId:r,chain:t[r].chain}:s,{timestamp:0,accountId:"",chain:void 0});if(e?.chain)return e.chain},D=(n,i)=>{let t=A(n,i);if(t?.single)return l;if(t?.multi)return f},y=n=>{let{metamask:i}=n;return i.domains};var R=n=>{let{metamask:i}=n;return i.domainMetadata},L=n=>{let{metamask:i}=n,t=i.domains;if(!t)return{};let e={};return m(t,(s,r)=>{let o=c(n,r);e[r]=Object.keys(o)}),e},E=(n,i)=>{let t=c(n,i),e=h(n,i);return e?Object.keys(t).filter(s=>t[s].chain===e):Object.keys(t)},T=(n,i)=>{let{metamask:t}=n,e=t.domains;if(!e)return[];let s=[];return m(e,(r,o)=>{let a=c(n,o);i in a&&s.push(o)}),s},N=(n,i,t)=>{let e=c(n,i);return e[t]?e[t]:void 0},O=(n,i)=>{let t=T(n,i),e=R(n);return t.map(s=>({...e?.[s]??{},origin:s}))},M=n=>{let i=p(n);return O(n,i)},P=(n,i)=>{if(!i)return;let t=c(n,i);return Object.keys(t).length===0?void 0:Object.keys(t).reduce((s,r)=>t[r].timestamp>t[s].timestamp?r:s,Object.keys(t)[0])},B=(n,i)=>{if(!i)return{latestAccountId:null,approvedAccountList:[]};let t=c(n,i),e=Object.keys(t);return e.length===0?{latestAccountId:null,approvedAccountList:[]}:{latestAccountId:e.reduce((r,o)=>t[o].timestamp>t[r].timestamp?o:r,e[0]),approvedAccountList:e}},j=(n,i,t)=>{if(!i)return;let e=c(n,i);if(Object.keys(e).length===0)return;let s;if(t){if(!e[t])return;s=t}else s=Object.keys(e).reduce((o,a)=>e[a].timestamp>e[o].timestamp?a:o,Object.keys(e)[0]);let r=e[s];return{lastConnectedWalletId:s,baseChain:r.chain,timestamp:r.timestamp,providerType:r.providerType??null}},F=n=>{let i=y(n),t=g(n);return!i||!t?!1:!!i[t]};export{f as a,h as b,D as c,L as d,E as e,N as f,O as g,M as h,P as i,B as j,j as k,F as l};
//# sourceMappingURL=chunk-44SDMU5C.js.map
