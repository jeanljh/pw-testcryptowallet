import{a as hu}from"./chunk-4RX5BQ36.js";import{b as pt,d as xt}from"./chunk-SLQQVCPY.js";import{c as f,o as a,p as d,q as c}from"./chunk-Y5OH3DDZ.js";var go=f(Pr=>{a();c();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.SignerInterface=void 0;var Ln=class{};Pr.SignerInterface=Ln});var po=f(yo=>{a();c();Object.defineProperty(yo,"__esModule",{value:!0})});var bo=f(mo=>{a();c();Object.defineProperty(mo,"__esModule",{value:!0})});var Co=f(To=>{a();c();Object.defineProperty(To,"__esModule",{value:!0})});var Eo=f(we=>{a();c();var gu=we&&we.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jn=we&&we.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gu(t,e,r)};Object.defineProperty(we,"__esModule",{value:!0});we.EntryPointType=void 0;we.EntryPointType={EXTERNAL:"EXTERNAL",L1_HANDLER:"L1_HANDLER",CONSTRUCTOR:"CONSTRUCTOR"};jn(po(),we);jn(bo(),we);jn(Co(),we)});var Ao=f(ee=>{a();c();var yu=ee&&ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pu=ee&&ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yu(t,e,r)};Object.defineProperty(ee,"__esModule",{value:!0});ee.BlockTag=ee.BlockStatus=ee.TransactionExecutionStatus=ee.TransactionFinalityStatus=ee.TransactionType=void 0;ee.TransactionType={DECLARE:"DECLARE",DEPLOY:"DEPLOY",DEPLOY_ACCOUNT:"DEPLOY_ACCOUNT",INVOKE:"INVOKE_FUNCTION"};ee.TransactionFinalityStatus={NOT_RECEIVED:"NOT_RECEIVED",RECEIVED:"RECEIVED",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",ACCEPTED_ON_L1:"ACCEPTED_ON_L1"};ee.TransactionExecutionStatus={REJECTED:"REJECTED",REVERTED:"REVERTED",SUCCEEDED:"SUCCEEDED"};ee.BlockStatus={PENDING:"PENDING",ACCEPTED_ON_L1:"ACCEPTED_ON_L1",ACCEPTED_ON_L2:"ACCEPTED_ON_L2",REJECTED:"REJECTED"};ee.BlockTag={PENDING:"pending",LATEST:"latest"};pu(Eo(),ee)});var vo=f(So=>{a();c();Object.defineProperty(So,"__esModule",{value:!0})});var Po=f(Oo=>{a();c();Object.defineProperty(Oo,"__esModule",{value:!0})});var No=f(xo=>{a();c();Object.defineProperty(xo,"__esModule",{value:!0})});var wo=f(Do=>{a();c();Object.defineProperty(Do,"__esModule",{value:!0})});var Mo=f(Io=>{a();c();Object.defineProperty(Io,"__esModule",{value:!0})});var Bo=f(Ho=>{a();c();Object.defineProperty(Ho,"__esModule",{value:!0})});var Vo=f(Ro=>{a();c();Object.defineProperty(Ro,"__esModule",{value:!0})});var Lo=f(y=>{a();c();Object.defineProperty(y,"__esModule",{value:!0});y.ETransactionVersion3=y.ETransactionVersion2=y.ETransactionVersion=y.EDAMode=y.EDataAvailabilityMode=y.EBlockTag=y.ETransactionExecutionStatus=y.ETransactionFinalityStatus=y.ETransactionStatus=y.ESimulationFlag=y.ETransactionType=y.CALL_TYPE=y.L1_DA_MODE=y.PRICE_UNIT_FRI=y.PRICE_UNIT_WEI=y.STATE_MUTABILITY_EXTERNAL=y.STATE_MUTABILITY_VIEW=y.ABI_TYPE_ENUM=y.ABI_TYPE_L1_HANDLER=y.ABI_TYPE_CONSTRUCTOR=y.ABI_TYPE_FUNCTION=y.EVENT_ABI_TYPE=y.STRUCT_ABI_TYPE=y.TXN_TYPE_L1_HANDLER=y.TXN_TYPE_INVOKE=y.TXN_TYPE_DEPLOY_ACCOUNT=y.TXN_TYPE_DEPLOY=y.TXN_TYPE_DECLARE=y.STATUS_RECEIVED=y.STATUS_REJECTED=y.STATUS_PENDING=y.STATUS_REVERTED=y.STATUS_SUCCEEDED=y.STATUS_ACCEPTED_ON_L1=y.STATUS_ACCEPTED_ON_L2=void 0;y.STATUS_ACCEPTED_ON_L2="ACCEPTED_ON_L2";y.STATUS_ACCEPTED_ON_L1="ACCEPTED_ON_L1";y.STATUS_SUCCEEDED="SUCCEEDED";y.STATUS_REVERTED="REVERTED";y.STATUS_PENDING="PENDING";y.STATUS_REJECTED="REJECTED";y.STATUS_RECEIVED="RECEIVED";y.TXN_TYPE_DECLARE="DECLARE";y.TXN_TYPE_DEPLOY="DEPLOY";y.TXN_TYPE_DEPLOY_ACCOUNT="DEPLOY_ACCOUNT";y.TXN_TYPE_INVOKE="INVOKE";y.TXN_TYPE_L1_HANDLER="L1_HANDLER";y.STRUCT_ABI_TYPE="struct";y.EVENT_ABI_TYPE="event";y.ABI_TYPE_FUNCTION="function";y.ABI_TYPE_CONSTRUCTOR="constructor";y.ABI_TYPE_L1_HANDLER="l1_handler";y.ABI_TYPE_ENUM="enum";y.STATE_MUTABILITY_VIEW="view";y.STATE_MUTABILITY_EXTERNAL="external";y.PRICE_UNIT_WEI="WEI";y.PRICE_UNIT_FRI="FRI";y.L1_DA_MODE={BLOB:"BLOB",CALLDATA:"CALLDATA"};y.CALL_TYPE={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"};y.ETransactionType={DECLARE:y.TXN_TYPE_DECLARE,DEPLOY:y.TXN_TYPE_DEPLOY,DEPLOY_ACCOUNT:y.TXN_TYPE_DEPLOY_ACCOUNT,INVOKE:y.TXN_TYPE_INVOKE,L1_HANDLER:y.TXN_TYPE_L1_HANDLER};y.ESimulationFlag={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"};y.ETransactionStatus={RECEIVED:y.STATUS_RECEIVED,REJECTED:y.STATUS_REJECTED,ACCEPTED_ON_L2:y.STATUS_ACCEPTED_ON_L2,ACCEPTED_ON_L1:y.STATUS_ACCEPTED_ON_L1};y.ETransactionFinalityStatus={ACCEPTED_ON_L2:y.STATUS_ACCEPTED_ON_L2,ACCEPTED_ON_L1:y.STATUS_ACCEPTED_ON_L1};y.ETransactionExecutionStatus={SUCCEEDED:y.STATUS_SUCCEEDED,REVERTED:y.STATUS_REVERTED};y.EBlockTag={LATEST:"latest",PENDING:"pending"};y.EDataAvailabilityMode={L1:"L1",L2:"L2"};y.EDAMode={L1:0,L2:1};y.ETransactionVersion={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"};y.ETransactionVersion2={V0:y.ETransactionVersion.V0,V1:y.ETransactionVersion.V1,V2:y.ETransactionVersion.V2,F0:y.ETransactionVersion.F0,F1:y.ETransactionVersion.F1,F2:y.ETransactionVersion.F2};y.ETransactionVersion3={V3:y.ETransactionVersion.V3,F3:y.ETransactionVersion.F3}});var qo=f(jo=>{a();c();Object.defineProperty(jo,"__esModule",{value:!0})});var Fo=f(Uo=>{a();c();Object.defineProperty(Uo,"__esModule",{value:!0})});var qn=f(W=>{a();c();var $o=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mu=W&&W.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mt=W&&W.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$o(t,e,r)},bu=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$o(t,e,r);return mu(t,e),t};Object.defineProperty(W,"__esModule",{value:!0});W.CONTRACT=void 0;mt(No(),W);W.CONTRACT=bu(wo());mt(Mo(),W);mt(Bo(),W);mt(Vo(),W);mt(Lo(),W);mt(qo(),W);mt(Fo(),W)});var ko=f(xr=>{a();c();Object.defineProperty(xr,"__esModule",{value:!0});xr.Permission=void 0;xr.Permission={ACCOUNTS:"accounts"}});var Ko=f(Nr=>{a();c();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.TypedDataRevision=void 0;Nr.TypedDataRevision={ACTIVE:"1",LEGACY:"0"}});var Go=f(Yo=>{a();c();Object.defineProperty(Yo,"__esModule",{value:!0})});var Wo=f(Xo=>{a();c();Object.defineProperty(Xo,"__esModule",{value:!0})});var zo=f(Zo=>{a();c();Object.defineProperty(Zo,"__esModule",{value:!0})});var Qo=f(Jo=>{a();c();Object.defineProperty(Jo,"__esModule",{value:!0})});var ts=f(es=>{a();c();Object.defineProperty(es,"__esModule",{value:!0})});var Un=f(ge=>{a();c();var Tu=ge&&ge.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bt=ge&&ge.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tu(t,e,r)};Object.defineProperty(ge,"__esModule",{value:!0});bt(ko(),ge);bt(Ko(),ge);bt(Go(),ge);bt(Wo(),ge);bt(zo(),ge);bt(Qo(),ge);bt(ts(),ge)});var ns=f(rs=>{a();c();Object.defineProperty(rs,"__esModule",{value:!0})});var os=f(is=>{a();c();Object.defineProperty(is,"__esModule",{value:!0})});var as=f(ss=>{a();c();Object.defineProperty(ss,"__esModule",{value:!0})});var us=f(cs=>{a();c();Object.defineProperty(cs,"__esModule",{value:!0})});var ls=f(He=>{a();c();var Cu=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dr=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Cu(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});Dr(ns(),He);Dr(os(),He);Dr(as(),He);Dr(us(),He)});var wr=f(z=>{a();c();var ds=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Eu=z&&z.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fs=z&&z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ds(t,e,r)},Fn=z&&z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ds(t,e,r);return Eu(t,e),t};Object.defineProperty(z,"__esModule",{value:!0});z.PAYMASTER_API=z.WALLET_API=z.API=void 0;fs(qn(),z);z.API=Fn(qn());fs(Un(),z);z.WALLET_API=Fn(Un());z.PAYMASTER_API=Fn(ls())});var Ct=f(M=>{a();c();var Au=M&&M.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Su=M&&M.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_s=M&&M.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Au(t,e,r);return Su(t,e),t};Object.defineProperty(M,"__esModule",{value:!0});M.ETransactionExecutionStatus=M.ETransactionStatus=M.isRPC08_ResourceBounds=M.isRPC08_FeeEstimate=M.EDAMode=M.EDataAvailabilityMode=M.ETransactionVersion3=M.ETransactionVersion2=M.ETransactionVersion=M.RPCSPEC08=void 0;var Tt=_s(wr());M.RPCSPEC08=_s(wr());M.ETransactionVersion=Tt.ETransactionVersion;M.ETransactionVersion2=Tt.ETransactionVersion2;M.ETransactionVersion3=Tt.ETransactionVersion3;M.EDataAvailabilityMode=Tt.EDataAvailabilityMode;M.EDAMode=Tt.EDAMode;function vu(e){return"l1_data_gas_consumed"in e}M.isRPC08_FeeEstimate=vu;function Ou(e){return"l1_data_gas"in e}M.isRPC08_ResourceBounds=Ou;M.ETransactionStatus=Tt.ETransactionStatus;M.ETransactionExecutionStatus=Tt.ETransactionExecutionStatus});var hs=f(We=>{a();c();var Pu=We&&We.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$n=We&&We.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pu(t,e,r)};Object.defineProperty(We,"__esModule",{value:!0});$n(vo(),We);$n(Po(),We);$n(Ct(),We)});var ys=f(gs=>{a();c();Object.defineProperty(gs,"__esModule",{value:!0})});var ms=f(ps=>{a();c();Object.defineProperty(ps,"__esModule",{value:!0})});var bs=f(Ae=>{a();c();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.NON_ZERO_PREFIX=Ae.ETH_ADDRESS=Ae.Literal=Ae.Uint=Ae.ValidateType=void 0;Ae.ValidateType={DEPLOY:"DEPLOY",CALL:"CALL",INVOKE:"INVOKE"};Ae.Uint={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"};Ae.Literal={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"};Ae.ETH_ADDRESS="core::starknet::eth_address::EthAddress";Ae.NON_ZERO_PREFIX="core::zeroable::NonZero::"});var Cs=f(Ts=>{a();c();Object.defineProperty(Ts,"__esModule",{value:!0})});var As=f(Es=>{a();c();Object.defineProperty(Es,"__esModule",{value:!0})});var Ss=f(et=>{a();c();Object.defineProperty(et,"__esModule",{value:!0});et.OutsideExecutionVersion=et.OutsideExecutionTypesV2=et.OutsideExecutionTypesV1=void 0;et.OutsideExecutionTypesV1={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]};et.OutsideExecutionTypesV2={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]};et.OutsideExecutionVersion={UNSUPPORTED:"0",V1:"1",V2:"2"}});var Os=f(vs=>{a();c();Object.defineProperty(vs,"__esModule",{value:!0})});var xs=f(Ps=>{a();c();Object.defineProperty(Ps,"__esModule",{value:!0})});var Ns=f(Ir=>{a();c();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.TypedDataRevision=void 0;var xu=wr();Object.defineProperty(Ir,"TypedDataRevision",{enumerable:!0,get:function(){return xu.TypedDataRevision}})});var ws=f(Ds=>{a();c();Object.defineProperty(Ds,"__esModule",{value:!0})});var Mr=f(ye=>{a();c();var Is=ye&&ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nu=ye&&ye.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Du=ye&&ye.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Is(t,e,r);return Nu(t,e),t},wu=ye&&ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Is(t,e,r)};Object.defineProperty(ye,"__esModule",{value:!0});ye.JRPC=void 0;ye.JRPC=Du(ws());wu(Ct(),ye)});var Be=f(q=>{a();c();var Ms=q&&q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Iu=q&&q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ie=q&&q.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ms(t,e,r)},Mu=q&&q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Ms(t,e,r);return Iu(t,e),t};Object.defineProperty(q,"__esModule",{value:!0});q.RPC=void 0;Ie(Ao(),q);Ie(hs(),q);Ie(ys(),q);Ie(ms(),q);Ie(bs(),q);Ie(Cs(),q);Ie(As(),q);Ie(Ss(),q);Ie(Os(),q);Ie(xs(),q);Ie(Ns(),q);q.RPC=Mu(Mr())});var Et=f(kn=>{a();c();Object.defineProperty(kn,"__esModule",{value:!0});function Hu(e,t){if(!e)throw new Error(t||"Assertion failure")}kn.default=Hu});var oe=f(w=>{a();c();Object.defineProperty(w,"__esModule",{value:!0});w.concatenateArrayBuffer=w.pascalToSnake=w.sanitizeHex=w.sanitizeBytes=w.calcByteLength=w.padLeft=w.addHexPrefix=w.removeHexPrefix=w.buf2hex=w.btoaUniversal=w.atobUniversal=w.utf8ToArray=w.arrayBufferToString=w.IS_BROWSER=void 0;var Hs=xt();w.IS_BROWSER=typeof window<"u";var Kn="0";function Bu(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}w.arrayBufferToString=Bu;function Ru(e){return new TextEncoder().encode(e)}w.utf8ToArray=Ru;function Vu(e){return Hs.base.fromBase64(e)}w.atobUniversal=Vu;function Lu(e){return Hs.base.toBase64(new Uint8Array(e))}w.btoaUniversal=Lu;function ju(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}w.buf2hex=ju;function Yn(e){return e.replace(/^0x/i,"")}w.removeHexPrefix=Yn;function Bs(e){return`0x${Yn(e)}`}w.addHexPrefix=Bs;function qu(e,t,r,n=Kn){let i=t-e.length,o=e;if(i>0){let s=n.repeat(i);o=r?s+e:e+s}return o}function Rs(e,t,r=Kn){return qu(e,t,!0,r)}w.padLeft=Rs;function Vs(e,t=8){let{length:r}=e,n=r%t;return n?(r-n)/t*t+t:r}w.calcByteLength=Vs;function Ls(e,t=8,r=Kn){return Rs(e,Vs(e,t),r)}w.sanitizeBytes=Ls;function Uu(e){let t=Yn(e),r=Ls(t,2);return r&&Bs(r)}w.sanitizeHex=Uu;var Fu=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e;w.pascalToSnake=Fu;function $u(e){let t=e.reduce((i,o)=>i+o.byteLength,0),r=new Uint8Array(t),n=0;return e.forEach(i=>{r.set(i,n),n+=i.byteLength}),r}w.concatenateArrayBuffer=$u});var se=f(b=>{a();c();Object.defineProperty(b,"__esModule",{value:!0});b.SYSTEM_MESSAGES=b.RPC_DEFAULT_NODES=b.DEFAULT_GLOBAL_CONFIG=b.SupportedRpcVersion=b.TransactionHashPrefix=b.StarknetChainId=b.NetworkName=b.BaseUrl=b.HARDENING_4BYTES=b.HARDENING_BYTE=b.SNIP9_V2_INTERFACE_ID=b.SNIP9_V1_INTERFACE_ID=b.OutsideExecutionCallerAny=b.UDC=b.RANGE_U128=b.RANGE_I128=b.RANGE_FELT=b.ADDR_BOUND=b.MAX_STORAGE_ITEM_SIZE=b.PRIME=b.API_VERSION=b.MASK_31=b.MASK_250=b.ZERO=b.TRANSACTION_VERSION=b.TEXT_TO_FELT_MAX_LEN=b.IS_BROWSER=void 0;var ku=Be(),Ku=Mr(),Yu=oe();Object.defineProperty(b,"IS_BROWSER",{enumerable:!0,get:function(){return Yu.IS_BROWSER}});b.TEXT_TO_FELT_MAX_LEN=31;b.TRANSACTION_VERSION=Ku.RPCSPEC08.ETransactionVersion;b.ZERO=0n;b.MASK_250=2n**250n-1n;b.MASK_31=2n**31n-1n;b.API_VERSION=b.ZERO;b.PRIME=2n**251n+17n*2n**192n+1n;b.MAX_STORAGE_ITEM_SIZE=256n;b.ADDR_BOUND=2n**251n-b.MAX_STORAGE_ITEM_SIZE;var Gn=(e,t)=>({min:e,max:t});b.RANGE_FELT=Gn(b.ZERO,b.PRIME-1n);b.RANGE_I128=Gn(-(2n**127n),2n**127n-1n);b.RANGE_U128=Gn(b.ZERO,2n**128n-1n);b.UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"};b.OutsideExecutionCallerAny="0x414e595f43414c4c4552";b.SNIP9_V1_INTERFACE_ID="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181";b.SNIP9_V2_INTERFACE_ID="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872";b.HARDENING_BYTE=128;b.HARDENING_4BYTES=2147483648n;var Gu={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"};b.BaseUrl=Gu;var Xu={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"};b.NetworkName=Xu;var Wu={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"};b.StarknetChainId=Wu;var Zu={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"};b.TransactionHashPrefix=Zu;var zu={"0.7.1":"0.7.1","0.8.1":"0.8.1",v0_7_1:"0.7.1",v0_8_1:"0.8.1"};b.SupportedRpcVersion=zu;b.DEFAULT_GLOBAL_CONFIG={legacyMode:!1,rpcVersion:"0.8.1",transactionVersion:ku.ETransactionVersion.V3,feeMarginPercentage:{bounds:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},maxFee:50},fetch:void 0,websocket:void 0};b.RPC_DEFAULT_NODES={SN_MAIN:["https://starknet-mainnet.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/mainnet-juno/"],SN_SEPOLIA:["https://starknet-sepolia.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/sepolia-juno/"]};b.SYSTEM_MESSAGES={legacyTxWarningMessage:`You are using a deprecated transaction version (V0,V1,V2)!
Update to the latest V3 transactions!`,legacyTxRPC08Message:"RPC 0.8 do not support legacy transactions",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library"}});var Y=f(ue=>{a();c();Object.defineProperty(ue,"__esModule",{value:!0});ue.isObject=ue.isString=ue.isBigInt=ue.isBoolean=ue.isNumber=ue.isUndefined=void 0;var Ju=e=>typeof e>"u"||e===void 0;ue.isUndefined=Ju;function Qu(e){return typeof e=="number"}ue.isNumber=Qu;function el(e){return typeof e=="boolean"}ue.isBoolean=el;function tl(e){return typeof e=="bigint"}ue.isBigInt=tl;function rl(e){return typeof e=="string"}ue.isString=rl;function nl(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}ue.isObject=nl});var F=f(C=>{a();c();var il=C&&C.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(C,"__esModule",{value:!0});C.isBigNumberish=C.stringToSha256ToArrayBuff4=C.addPercent=C.hexToBytes=C.toCairoBool=C.getHexStringArray=C.getHexString=C.getDecimalString=C.isStringWholeNumber=C.bigNumberishArrayToHexadecimalStringArray=C.bigNumberishArrayToDecimalStringArray=C.assertInRange=C.cleanHex=C.hexToDecimalString=C.toHex64=C.toStorageKey=C.toHexString=C.toHex=C.tryToBigInt=C.toBigInt=C.isHex=void 0;var js=xt(),ol=se(),sl=il(Et()),At=oe(),Xn=Y();function or(e){return/^0x[0-9a-f]*$/i.test(e)}C.isHex=or;function sr(e){return BigInt(e)}C.toBigInt=sr;function al(e){return e?BigInt(e):void 0}C.tryToBigInt=al;function Hr(e){return(0,At.addHexPrefix)(sr(e).toString(16))}C.toHex=Hr;C.toHexString=Hr;function cl(e){return(0,At.addHexPrefix)(sr(e).toString(16).padStart(64,"0"))}C.toStorageKey=cl;function ul(e){let t=(0,At.addHexPrefix)(sr(e).toString(16).padStart(64,"0"));if(t.length!==66)throw TypeError("number is too big for hex 0x(64) representation");return t}C.toHex64=ul;function qs(e){return BigInt((0,At.addHexPrefix)(e)).toString(10)}C.hexToDecimalString=qs;function ll(e){return e.toLowerCase().replace(/^(0x)0+/,"$1")}C.cleanHex=ll;function dl(e,t,r,n=""){let i=n===""?"invalid length":`invalid ${n} length`,o=BigInt(e),s=BigInt(t),u=BigInt(r);(0,sl.default)(o>=s&&o<=u,`Message not signable, ${i}.`)}C.assertInRange=dl;function fl(e){return e.map(t=>sr(t).toString(10))}C.bigNumberishArrayToDecimalStringArray=fl;function _l(e){return e.map(t=>Hr(t))}C.bigNumberishArrayToHexadecimalStringArray=_l;function Br(e){return/^\d+$/.test(e)}C.isStringWholeNumber=Br;function hl(e){if(or(e))return qs(e);if(Br(e))return e;throw new Error(`${e} needs to be a hex-string or whole-number-string`)}C.getDecimalString=hl;function Us(e){if(or(e))return e;if(Br(e))return(0,C.toHexString)(e);throw new Error(`${e} needs to be a hex-string or whole-number-string`)}C.getHexString=Us;function gl(e){return e.map(Us)}C.getHexStringArray=gl;function yl(e){return(+e).toString()}C.toCairoBool=yl;function Fs(e){if(!or(e))throw new Error(`${e} needs to be a hex-string`);let t=(0,At.removeHexPrefix)(e);return t.length%2!==0&&(t=`0${t}`),js.base.fromHex(t)}C.hexToBytes=Fs;function pl(e,t){let r=BigInt(e);return r+r*BigInt(t)/100n}C.addPercent=pl;function ml(e){let r=(n=>Number(n&ol.MASK_31))(BigInt((0,At.addHexPrefix)((0,At.buf2hex)(js.base.sha256(e)))));return Fs(Hr(r))}C.stringToSha256ToArrayBuff4=ml;function bl(e){return(0,Xn.isNumber)(e)||(0,Xn.isBigInt)(e)||(0,Xn.isString)(e)&&(or(e)||Br(e))}C.isBigNumberish=bl});var Vr=f(le=>{a();c();Object.defineProperty(le,"__esModule",{value:!0});le.getL2MessageHash=le.solidityUint256PackedKeccak256=le.getSelector=le.getSelectorFromName=le.starknetKeccak=le.keccakBn=void 0;var Rr=xt(),Tl=se(),tt=oe(),Ze=F(),$s=Y();function Cl(e){let t=(0,tt.removeHexPrefix)((0,Ze.toHex)(BigInt(e))),r=t.length%2===0?t:`0${t}`;return(0,tt.addHexPrefix)(Rr.base.keccak((0,Ze.hexToBytes)((0,tt.addHexPrefix)(r))).toString("hex"))}le.keccakBn=Cl;function El(e){return(0,tt.addHexPrefix)(Rr.base.keccak((0,tt.utf8ToArray)(e)).toString("hex"))}function ks(e){return BigInt(El(e))&Tl.MASK_250}le.starknetKeccak=ks;function Ks(e){return(0,Ze.toHex)(ks(e))}le.getSelectorFromName=Ks;function Al(e){return(0,$s.isNumber)(e)||(0,$s.isBigInt)(e)?(0,Ze.toHex)(e):(0,Ze.isHex)(e)?e:(0,Ze.isStringWholeNumber)(e)?(0,Ze.toHex)(e):Ks(e)}le.getSelector=Al;function Ys(e){let t=(0,tt.addHexPrefix)(e.reduce((r,n)=>r+(0,tt.removeHexPrefix)((0,Ze.toHex)(n)).padStart(64,"0"),""));return(0,tt.addHexPrefix)(Rr.base.toHex(Rr.base.keccak_256((0,Ze.hexToBytes)(t))))}le.solidityUint256PackedKeccak256=Ys;function Sl(e,t,r,n,i){return Ys([e,t,i,r,n.length,...n])}le.getL2MessageHash=Sl});var pe=f(G=>{a();c();Object.defineProperty(G,"__esModule",{value:!0});G.decodeShortString=G.encodeShortString=G.splitLongString=G.isLongText=G.isShortText=G.isText=G.isDecimalString=G.isShortString=G.isASCII=void 0;var Gs=se(),Xs=oe(),Wn=F(),vl=Y();function Zn(e){return/^[\x00-\x7F]*$/.test(e)}G.isASCII=Zn;function Lr(e){return e.length<=Gs.TEXT_TO_FELT_MAX_LEN}G.isShortString=Lr;function Ws(e){return/^[0-9]*$/i.test(e)}G.isDecimalString=Ws;function zn(e){return(0,vl.isString)(e)&&!(0,Wn.isHex)(e)&&!(0,Wn.isStringWholeNumber)(e)}G.isText=zn;var Ol=e=>zn(e)&&Lr(e);G.isShortText=Ol;var Pl=e=>zn(e)&&!Lr(e);G.isLongText=Pl;function xl(e){let t=RegExp(`[^]{1,${Gs.TEXT_TO_FELT_MAX_LEN}}`,"g");return e.match(t)||[]}G.splitLongString=xl;function Nl(e){if(!Zn(e))throw new Error(`${e} is not an ASCII string`);if(!Lr(e))throw new Error(`${e} is too long`);return(0,Xs.addHexPrefix)(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}G.encodeShortString=Nl;function Zs(e){if(!Zn(e))throw new Error(`${e} is not an ASCII string`);if((0,Wn.isHex)(e))return(0,Xs.removeHexPrefix)(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(Ws(e))return Zs("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}G.decodeShortString=Zs});var Dt=f(Nt=>{a();c();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.byteArrayFromString=Nt.stringFromByteArray=void 0;var zs=F(),jr=pe();function Dl(e){let t=BigInt(e.pending_word)===0n?"":(0,jr.decodeShortString)((0,zs.toHex)(e.pending_word));return e.data.reduce((r,n)=>{let i=BigInt(n)===0n?"":(0,jr.decodeShortString)((0,zs.toHex)(n));return r+i},"")+t}Nt.stringFromByteArray=Dl;function wl(e){let t=(0,jr.splitLongString)(e),r=t[t.length-1],n=t.map(jr.encodeShortString),[i,o]=r===void 0||r.length===31?["0x00",0]:[n.pop(),r.length];return{data:n.length===0?[]:n,pending_word:i,pending_word_len:o}}Nt.byteArrayFromString=wl});var Ur=f(qr=>{a();c();Object.defineProperty(qr,"__esModule",{value:!0});qr.CairoFelt=void 0;var Js=F(),Jn=pe(),Qn=Y();function Il(e){if((0,Qn.isBigInt)(e)||Number.isInteger(e))return e.toString();if((0,Qn.isString)(e)){if((0,Js.isHex)(e))return BigInt(e).toString();if((0,Jn.isText)(e)){if(!(0,Jn.isShortString)(e))throw new Error(`${e} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt((0,Jn.encodeShortString)(e)).toString()}if((0,Js.isStringWholeNumber)(e))return e}if((0,Qn.isBoolean)(e))return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}qr.CairoFelt=Il});var rt=f(j=>{a();c();Object.defineProperty(j,"__esModule",{value:!0});j.CairoUint256=j.UINT_256_HIGH_MIN=j.UINT_256_LOW_MIN=j.UINT_256_HIGH_MAX=j.UINT_256_LOW_MAX=j.UINT_256_MIN=j.UINT_256_MAX=j.UINT_128_MAX=void 0;var Qs=oe(),ea=Ur();j.UINT_128_MAX=(1n<<128n)-1n;j.UINT_256_MAX=(1n<<256n)-1n;j.UINT_256_MIN=0n;j.UINT_256_LOW_MAX=340282366920938463463374607431768211455n;j.UINT_256_HIGH_MAX=340282366920938463463374607431768211455n;j.UINT_256_LOW_MIN=0n;j.UINT_256_HIGH_MIN=0n;var Re=class{constructor(...t){if(typeof t[0]=="object"&&t.length===1&&"low"in t[0]&&"high"in t[0]){let r=Re.validateProps(t[0].low,t[0].high);this.low=r.low,this.high=r.high}else if(t.length===1){let r=Re.validate(t[0]);this.low=r&j.UINT_128_MAX,this.high=r>>128n}else if(t.length===2){let r=Re.validateProps(t[0],t[1]);this.low=r.low,this.high=r.high}else throw Error("Incorrect constructor parameters")}static validate(t){let r=BigInt(t);if(r<j.UINT_256_MIN)throw Error("bigNumberish is smaller than UINT_256_MIN");if(r>j.UINT_256_MAX)throw new Error("bigNumberish is bigger than UINT_256_MAX");return r}static validateProps(t,r){let n=BigInt(t),i=BigInt(r);if(n<j.UINT_256_LOW_MIN||n>j.UINT_256_LOW_MAX)throw new Error("low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX");if(i<j.UINT_256_HIGH_MIN||i>j.UINT_256_HIGH_MAX)throw new Error("high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX");return{low:n,high:i}}static is(t){try{Re.validate(t)}catch{return!1}return!0}static isAbiType(t){return t===Re.abiSelector}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:(0,Qs.addHexPrefix)(this.low.toString(16)),high:(0,Qs.addHexPrefix)(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[(0,ea.CairoFelt)(this.low),(0,ea.CairoFelt)(this.high)]}};j.CairoUint256=Re;Re.abiSelector="core::integer::u256"});var wt=f(me=>{a();c();Object.defineProperty(me,"__esModule",{value:!0});me.CairoUint512=me.UINT_128_MIN=me.UINT_512_MIN=me.UINT_512_MAX=void 0;var Fr=oe(),$r=Ur(),kr=rt();me.UINT_512_MAX=(1n<<512n)-1n;me.UINT_512_MIN=0n;me.UINT_128_MIN=0n;var Ve=class{constructor(...t){if(typeof t[0]=="object"&&t.length===1&&"limb0"in t[0]&&"limb1"in t[0]&&"limb2"in t[0]&&"limb3"in t[0]){let r=Ve.validateProps(t[0].limb0,t[0].limb1,t[0].limb2,t[0].limb3);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else if(t.length===1){let r=Ve.validate(t[0]);this.limb0=r&kr.UINT_128_MAX,this.limb1=(r&kr.UINT_128_MAX<<128n)>>128n,this.limb2=(r&kr.UINT_128_MAX<<256n)>>256n,this.limb3=r>>384n}else if(t.length===4){let r=Ve.validateProps(t[0],t[1],t[2],t[3]);this.limb0=r.limb0,this.limb1=r.limb1,this.limb2=r.limb2,this.limb3=r.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(t){let r=BigInt(t);if(r<me.UINT_512_MIN)throw Error("bigNumberish is smaller than UINT_512_MIN.");if(r>me.UINT_512_MAX)throw Error("bigNumberish is bigger than UINT_512_MAX.");return r}static validateProps(t,r,n,i){let o=BigInt(t),s=BigInt(r),u=BigInt(n),l=BigInt(i);return[o,s,u,l].forEach((_,p)=>{if(_<me.UINT_128_MIN||_>kr.UINT_128_MAX)throw Error(`limb${p} is not in the range of a u128 number`)}),{limb0:o,limb1:s,limb2:u,limb3:l}}static is(t){try{Ve.validate(t)}catch{return!1}return!0}static isAbiType(t){return t===Ve.abiSelector}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:(0,Fr.addHexPrefix)(this.limb0.toString(16)),limb1:(0,Fr.addHexPrefix)(this.limb1.toString(16)),limb2:(0,Fr.addHexPrefix)(this.limb2.toString(16)),limb3:(0,Fr.addHexPrefix)(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[(0,$r.CairoFelt)(this.limb0),(0,$r.CairoFelt)(this.limb1),(0,$r.CairoFelt)(this.limb2),(0,$r.CairoFelt)(this.limb3)]}};me.CairoUint512=Ve;Ve.abiSelector="core::integer::u512"});var Me=f(T=>{a();c();Object.defineProperty(T,"__esModule",{value:!0});T.felt=T.tuple=T.uint512=T.uint256=T.getAbiContractVersion=T.isTypeNonZero=T.isCairo1Abi=T.getArrayType=T.isCairo1Type=T.isTypeSecp256k1Point=T.isTypeU96=T.isTypeByteArray=T.isTypeBytes31=T.isTypeEthAddress=T.isTypeContractAddress=T.isTypeBool=T.isTypeLiteral=T.isTypeUint256=T.isTypeUint=T.isTypeResult=T.isTypeOption=T.isTypeEnum=T.isTypeStruct=T.isTypeNamedTuple=T.isTypeTuple=T.isTypeArray=T.isTypeFelt=T.isLen=void 0;var It=Be(),Ml=Ur(),ta=rt(),Hl=wt(),Bl=e=>/_len$/.test(e);T.isLen=Bl;var Rl=e=>e==="felt"||e==="core::felt252";T.isTypeFelt=Rl;var Vl=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::");T.isTypeArray=Vl;var Ll=e=>/^\(.*\)$/i.test(e);T.isTypeTuple=Ll;var jl=e=>/\(.*\)/i.test(e)&&e.includes(":");T.isTypeNamedTuple=jl;var ql=(e,t)=>e in t;T.isTypeStruct=ql;var Ul=(e,t)=>e in t;T.isTypeEnum=Ul;var Fl=e=>e.startsWith("core::option::Option::");T.isTypeOption=Fl;var $l=e=>e.startsWith("core::result::Result::");T.isTypeResult=$l;var kl=e=>Object.values(It.Uint).includes(e);T.isTypeUint=kl;var Kl=e=>ta.CairoUint256.isAbiType(e);T.isTypeUint256=Kl;var Yl=e=>Object.values(It.Literal).includes(e);T.isTypeLiteral=Yl;var Gl=e=>e==="core::bool";T.isTypeBool=Gl;var Xl=e=>e===It.Literal.ContractAddress;T.isTypeContractAddress=Xl;var Wl=e=>e===It.ETH_ADDRESS;T.isTypeEthAddress=Wl;var Zl=e=>e==="core::bytes_31::bytes31";T.isTypeBytes31=Zl;var zl=e=>e==="core::byte_array::ByteArray";T.isTypeByteArray=zl;var Jl=e=>e==="core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>";T.isTypeU96=Jl;var Ql=e=>e===It.Literal.Secp256k1Point;T.isTypeSecp256k1Point=Ql;var ed=e=>e.includes("::");T.isCairo1Type=ed;var td=e=>(0,T.isCairo1Type)(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");T.getArrayType=td;function rd(e){let{cairo:t}=ra(e);if(t===void 0)throw Error("Unable to determine Cairo version");return t==="1"}T.isCairo1Abi=rd;function nd(e){return e.startsWith(It.NON_ZERO_PREFIX)}T.isTypeNonZero=nd;function ra(e){if(e.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};let t=e.find(n=>(n.type==="function"||n.type==="constructor")&&(n.inputs.length||n.outputs.length));if(!t)return{cairo:void 0,compiler:void 0};let r=t.inputs.length?t.inputs:t.outputs;return(0,T.isCairo1Type)(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}T.getAbiContractVersion=ra;var id=e=>new ta.CairoUint256(e).toUint256DecimalString();T.uint256=id;var od=e=>new Hl.CairoUint512(e).toUint512DecimalString();T.uint512=od;var sd=(...e)=>({...e});T.tuple=sd;function ad(e){return(0,Ml.CairoFelt)(e)}T.felt=ad});var na=f(Yr=>{a();c();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.CairoCustomEnum=void 0;var Kr=Y(),ei=class{constructor(t){let r=Object.values(t);if(r.length===0)throw new Error("This Enum must have at least 1 variant");if(r.filter(i=>!(0,Kr.isUndefined)(i)).length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=t}unwrap(){return Object.values(this.variant).find(r=>!(0,Kr.isUndefined)(r))}activeVariant(){let r=Object.entries(this.variant).find(n=>!(0,Kr.isUndefined)(n[1]));return(0,Kr.isUndefined)(r)?"":r[0]}};Yr.CairoCustomEnum=ei});var oa=f(nt=>{a();c();Object.defineProperty(nt,"__esModule",{value:!0});nt.CairoOption=nt.CairoOptionVariant=void 0;var ia=Y();nt.CairoOptionVariant={Some:0,None:1};var ti=class{constructor(t,r){if(!(t in Object.values(nt.CairoOptionVariant)))throw new Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(t===nt.CairoOptionVariant.Some){if((0,ia.isUndefined)(r))throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=r,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!(0,ia.isUndefined)(this.Some)}isNone(){return this.None===!0}};nt.CairoOption=ti});var sa=f(it=>{a();c();Object.defineProperty(it,"__esModule",{value:!0});it.CairoResult=it.CairoResultVariant=void 0;var Gr=Y();it.CairoResultVariant={Ok:0,Err:1};var ri=class{constructor(t,r){if(!(t in Object.values(it.CairoResultVariant)))throw new Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");t===it.CairoResultVariant.Ok?(this.Ok=r,this.Err=void 0):(this.Ok=void 0,this.Err=r)}unwrap(){if(!(0,Gr.isUndefined)(this.Ok))return this.Ok;if(!(0,Gr.isUndefined)(this.Err))return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(0,Gr.isUndefined)(this.Ok)}isErr(){return!(0,Gr.isUndefined)(this.Err)}};it.CairoResult=ri});var ar=f(ze=>{a();c();var cd=ze&&ze.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ni=ze&&ze.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cd(t,e,r)};Object.defineProperty(ze,"__esModule",{value:!0});ni(na(),ze);ni(oa(),ze);ni(sa(),ze)});var ca=f(oi=>{a();c();Object.defineProperty(oi,"__esModule",{value:!0});var aa=Y(),ud=pe(),ii={isBN:(e,t,r)=>{if(!(0,aa.isBigInt)(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function Xr(e,t,r){return Object.entries(e).reduce((n,[i,o])=>{let s=r??t[i];if(!(i in t)&&!r)return n[i]=o,n;if(s==="string"){if(Array.isArray(e[i])){let u=Xr(e[i],e[i].map(l=>s));return n[i]=Object.values(u).join(""),n}return ii.isBN(e,t,i),n[i]=(0,ud.decodeShortString)(o),n}if(s==="number")return ii.isBN(e,t,i),n[i]=Number(o),n;if(typeof s=="function")return n[i]=s(o),n;if(Array.isArray(s)){let u=Xr(e[i],s,s[0]);return n[i]=Object.values(u),n}return(0,aa.isObject)(s)?(n[i]=Xr(e[i],s),n):(ii.unknown(e,t,i),n)},{})}oi.default=Xr});var ua=f(Wr=>{a();c();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.AbiParser1=void 0;var ld=Me(),si=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.reduce((r,n)=>(0,ld.isLen)(n.name)?r:r+1,0)}getMethod(t){return this.abi.find(r=>r.name===t)}getLegacyFormat(){return this.abi}};Wr.AbiParser1=si});var la=f(Zr=>{a();c();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.AbiParser2=void 0;var ai=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.length}getMethod(t){return this.abi.find(n=>n.type==="interface")?.items?.find(n=>n.name===t)}getLegacyFormat(){return this.abi.flatMap(t=>t.type==="interface"?t.items:t)}};Zr.AbiParser2=ai});var fa=f(ot=>{a();c();Object.defineProperty(ot,"__esModule",{value:!0});ot.isNoConstructorValid=ot.getAbiVersion=ot.createAbiParser=void 0;var dd=Me(),fd=ua(),_d=la();function hd(e){let t=da(e);if(t===0||t===1)return new fd.AbiParser1(e);if(t===2)return new _d.AbiParser2(e);throw Error(`Unsupported ABI version ${t}`)}ot.createAbiParser=hd;function da(e){return e.find(t=>t.type==="interface")?2:(0,dd.isCairo1Abi)(e)?1:0}ot.getAbiVersion=da;function gd(e,t,r){return e==="constructor"&&!r&&!t.length}ot.isNoConstructorValid=gd});var zr=f(ci=>{a();c();Object.defineProperty(ci,"__esModule",{value:!0});var ha=Me();function yd(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function pd(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if(e[n]==="("){let i=1,o=n;for(n++;i;)e[n]===")"&&i--,e[n]==="("&&i++,n++;t.push(e.substring(o,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function md(e){let t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=pd(t),i=n.split(",").map(o=>r.length?o.replace(" ",r.shift()):o);return(0,ha.isTypeNamedTuple)(e)&&(i=i.reduce((o,s)=>o.concat(yd(s)),[])),i}function _a(e,t,r){for(let n=0,i=0;n<e.length;n++)if(e[n]===t)i++;else if(e[n]===r&&--i===0)return n;return Number.POSITIVE_INFINITY}function bd(e){let t=e.slice(1,-1),r=[],n=0,i;for(;n<t.length;){switch(!0){case t[n]==="(":{i=n+_a(t.slice(n),"(",")")+1;break}case(t.startsWith("core::result::Result::<",n)||t.startsWith("core::array::Array::<",n)||t.startsWith("core::option::Option::<",n)):{i=n+_a(t.slice(n),"<",">")+1;break}default:{let o=t.indexOf(",",n);i=o!==-1?o:Number.POSITIVE_INFINITY}}r.push(t.slice(n,i)),n=i+2}return r}function Td(e){return(0,ha.isCairo1Type)(e)?bd(e):md(e)}ci.default=Td});var cr=f(Mt=>{a();c();var Cd=Mt&&Mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.CairoFixedArray=void 0;var ga=Cd(Et()),be=class{constructor(t,r){(0,ga.default)(be.isTypeFixedArray(r),`The type ${r} is not a Cairo fixed array. Needs [type; length].`);try{be.getFixedArrayType(r)}catch{throw new Error(`The type ${r} do not includes any content type. Needs [type; length].`)}try{be.getFixedArraySize(r)}catch{throw new Error(`The type ${r} type do not includes any length. Needs [type; length].`)}(0,ga.default)(be.getFixedArraySize(r)===t.length,`The ABI type ${r} is expecting ${be.getFixedArraySize(r)} items. ${t.length} items provided.`),this.content=t,this.arrayType=r}static getFixedArraySize(t){let r=t.match(/(?<=; )\d+(?=\])/);if(r===null)throw new Error(`ABI type ${t} do not includes a valid number after ';' character.`);return Number(r[0])}getFixedArraySize(){return be.getFixedArraySize(this.arrayType)}getFixedArrayType(){return be.getFixedArrayType(this.arrayType)}static compile(t){return t.reduce((r,n,i)=>(r[i]=n,r),{})}compile(){return be.compile(this.content)}static isTypeFixedArray(t){return/^\[.*;\s.*\]$/.test(t)&&/(?<=\[).+(?=;)/.test(t)&&/(?<=; )\d+(?=\])/.test(t)}};Mt.CairoFixedArray=be;be.getFixedArrayType=e=>{let t=e.match(/(?<=\[).+(?=;)/);if(t===null)throw new Error(`ABI type ${e} do not includes a valid type of data.`);return t[0]}});var pa=f(ur=>{a();c();var Ed=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ur,"__esModule",{value:!0});var Ad=rt(),Sd=wt(),ae=Me(),Je=ar(),vd=Ed(zr()),ya=Y(),ui=cr();function Od(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function Pd(e){return Error(`Your object includes the property : ${e}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`)}function xd(e,t,r,n){let i=(g,h)=>{if(ui.CairoFixedArray.isTypeFixedArray(h))return u(g,h);if((0,ae.isTypeArray)(h))return s(g,h);if((0,ae.isTypeEnum)(h,n)){let m=n[h];return _(g,m)}if((0,ae.isTypeTuple)(h))return l(g,h);if((0,ae.isTypeEthAddress)(h)||(0,ae.isTypeNonZero)(h)||(0,ae.isTypeByteArray)(h)||(0,ae.isTypeU96)(h)||(0,ae.isTypeSecp256k1Point)(h))return g;if(Ad.CairoUint256.isAbiType(h)){let m=g;if(typeof m!="object")return m;if(!("low"in m&&"high"in m))throw Od(h);return{low:m.low,high:m.high}}if(Sd.CairoUint512.isAbiType(h)){let m=g;if(typeof m!="object")return m;if(!["limb0","limb1","limb2","limb3"].every(v=>v in m))throw Pd(h);return{limb0:m.limb0,limb1:m.limb1,limb2:m.limb2,limb3:m.limb3}}if((0,ae.isTypeStruct)(h,r)){let m=r[h].members;return o(g,m)}return g},o=(g,h)=>h.reduce((v,A)=>{let O=D=>Object.defineProperty(v,A.name,{enumerable:!0,value:D??g[A.name]});if(g[A.name]==="undefined"&&((0,ae.isCairo1Type)(A.type)||!(0,ae.isLen)(A.name)))throw Error(`Your object needs a property with key : ${A.name} .`);return O(i(g[A.name],A.type)),v},{});function s(g,h){let m=(0,ae.getArrayType)(h);return(0,ya.isString)(g)?g:g.map(v=>i(v,m))}function u(g,h){let m=ui.CairoFixedArray.getFixedArrayType(h),v=ui.CairoFixedArray.getFixedArraySize(h);if(Array.isArray(g)){if(v!==g.length)throw new Error(`ABI type ${h}: array provided do not includes  ${v} items. ${g.length} items provided.`);return g.map(A=>i(A,m))}if(v!==Object.keys(g).length)throw new Error(`ABI type ${h}: object provided do not includes  ${v} properties. ${Object.keys(g).length} items provided.`);return i(g,m)}function l(g,h){return(0,vd.default)(h).reduce((A,O,D)=>{let Ee=Object.keys(g),tr=Rn=>Object.defineProperty(A,D.toString(),{enumerable:!0,value:Rn??g[Ee[D]]}),rr=O?.type?O.type:O;return tr(i(g[Ee[D]],rr)),A},{})}let _=(g,h)=>{if((0,ae.isTypeResult)(h.name)){let O=g,D=h.name.substring(h.name.indexOf("<")+1,h.name.lastIndexOf(",")),Ee=h.name.substring(h.name.indexOf(",")+1,h.name.lastIndexOf(">"));return O.isOk()?new Je.CairoResult(Je.CairoResultVariant.Ok,i(g.unwrap(),D)):new Je.CairoResult(Je.CairoResultVariant.Err,i(g.unwrap(),Ee))}if((0,ae.isTypeOption)(h.name)){let O=g,D=h.name.substring(h.name.indexOf("<")+1,h.name.lastIndexOf(">"));return O.isSome()?new Je.CairoOption(Je.CairoOptionVariant.Some,i(O.unwrap(),D)):new Je.CairoOption(Je.CairoOptionVariant.None,{})}let m=g,A=Object.entries(m.variant).map(O=>{if((0,ya.isUndefined)(O[1]))return O;let D=h.type.substring(h.type.lastIndexOf("<")+1,h.type.lastIndexOf(">"));return D==="()"?O:[O[0],i(m.unwrap(),D)]});return new Je.CairoCustomEnum(Object.fromEntries(A))};return t.reduce((g,h)=>{let m=v=>Object.defineProperty(g,h.name,{enumerable:!0,value:v});return(0,ae.isLen)(h.name)&&!(0,ae.isCairo1Type)(h.type)||m(i(e[h.name],h.type)),g},{})}ur.default=xd});var fi=f(Vt=>{a();c();var ma=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.parseCalldataField=void 0;var Nd=ma(Et()),Ht=cr(),St=rt(),Bt=wt(),li=oe(),Dd=F(),di=pe(),lr=Y(),wd=Dt(),B=Me(),Le=ar(),Id=ma(zr());function Rt(e,t){switch(!0){case St.CairoUint256.isAbiType(e):return new St.CairoUint256(t).toApiRequest();case Bt.CairoUint512.isAbiType(e):return new Bt.CairoUint512(t).toApiRequest();case(0,B.isTypeBytes31)(e):return(0,di.encodeShortString)(t.toString());case(0,B.isTypeSecp256k1Point)(e):{let r=(0,li.removeHexPrefix)((0,Dd.toHex)(t)).padStart(128,"0"),n=(0,B.uint256)((0,li.addHexPrefix)(r.slice(-64))),i=(0,B.uint256)((0,li.addHexPrefix)(r.slice(0,-64)));return[(0,B.felt)(i.low),(0,B.felt)(i.high),(0,B.felt)(n.low),(0,B.felt)(n.high)]}default:return(0,B.felt)(t)}}function Md(e,t){let r=(0,Id.default)(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n}
      expected: ${r}`);return r.map((i,o)=>({element:n[o],type:i.type??i}))}function Hd(e){let t=(0,wd.byteArrayFromString)(e);return[t.data.length.toString(),...t.data.map(r=>r.toString()),t.pending_word.toString(),t.pending_word_len.toString()]}function Se(e,t,r,n){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Ht.CairoFixedArray.isTypeFixedArray(t)){let i=Ht.CairoFixedArray.getFixedArrayType(t),o=[];if(Array.isArray(e))o=new Ht.CairoFixedArray(e,t).content;else if(typeof e=="object")o=Object.values(e),(0,Nd.default)(o.length===Ht.CairoFixedArray.getFixedArraySize(t),`ABI type ${t}: object provided do not includes  ${Ht.CairoFixedArray.getFixedArraySize(t)} items. ${o.length} items provided.`);else throw new Error(`ABI type ${t}: not an Array representing a cairo.fixedArray() provided.`);return o.reduce((s,u)=>s.concat(Se(u,i,r,n)),[])}if(Array.isArray(e)){let i=[];i.push((0,B.felt)(e.length));let o=(0,B.getArrayType)(t);return e.reduce((s,u)=>s.concat(Se(u,o,r,n)),i)}if(r[t]&&r[t].members.length){if(St.CairoUint256.isAbiType(t))return new St.CairoUint256(e).toApiRequest();if(Bt.CairoUint512.isAbiType(t))return new Bt.CairoUint512(e).toApiRequest();if((0,B.isTypeEthAddress)(t))return Rt(t,e);if((0,B.isTypeByteArray)(t))return Hd(e);let{members:i}=r[t],o=e;return i.reduce((s,u)=>s.concat(Se(o[u.name],u.type,r,n)),[])}if((0,B.isTypeTuple)(t))return Md(e,t).reduce((o,s)=>{let u=Se(s.element,s.type,r,n);return o.concat(u)},[]);if(St.CairoUint256.isAbiType(t))return new St.CairoUint256(e).toApiRequest();if(Bt.CairoUint512.isAbiType(t))return new Bt.CairoUint512(e).toApiRequest();if((0,B.isTypeEnum)(t,n)){let{variants:i}=n[t];if((0,B.isTypeOption)(t)){let g=e;if(g.isSome()){let h=i.find(A=>A.name==="Some");if((0,lr.isUndefined)(h))throw Error("Error in abi : Option has no 'Some' variant.");let m=h.type;if(m==="()")return Le.CairoOptionVariant.Some.toString();let v=Se(g.unwrap(),m,r,n);return Array.isArray(v)?[Le.CairoOptionVariant.Some.toString(),...v]:[Le.CairoOptionVariant.Some.toString(),v]}return Le.CairoOptionVariant.None.toString()}if((0,B.isTypeResult)(t)){let g=e;if(g.isOk()){let A=i.find(Ee=>Ee.name==="Ok");if((0,lr.isUndefined)(A))throw Error("Error in abi : Result has no 'Ok' variant.");let O=A.type;if(O==="()")return Le.CairoResultVariant.Ok.toString();let D=Se(g.unwrap(),O,r,n);return Array.isArray(D)?[Le.CairoResultVariant.Ok.toString(),...D]:[Le.CairoResultVariant.Ok.toString(),D]}let h=i.find(A=>A.name==="Err");if((0,lr.isUndefined)(h))throw Error("Error in abi : Result has no 'Err' variant.");let m=h.type;if(m==="()")return Le.CairoResultVariant.Err.toString();let v=Se(g.unwrap(),m,r,n);return Array.isArray(v)?[Le.CairoResultVariant.Err.toString(),...v]:[Le.CairoResultVariant.Err.toString(),v]}let o=e,s=o.activeVariant(),u=i.find(g=>g.name===s);if((0,lr.isUndefined)(u))throw Error(`Not find in abi : Enum has no '${s}' variant.`);let l=u.type,_=i.findIndex(g=>g.name===s);if(l==="()")return _.toString();let p=Se(o.unwrap(),l,r,n);return Array.isArray(p)?[_.toString(),...p]:[_.toString(),p]}if((0,B.isTypeNonZero)(t))return Rt((0,B.getArrayType)(t),e);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return Rt(t,e)}function Bd(e,t,r,n){let{name:i,type:o}=t,{value:s}=e.next();switch(!0){case Ht.CairoFixedArray.isTypeFixedArray(o):if(!Array.isArray(s)&&typeof s!="object")throw Error(`ABI expected parameter ${i} to be an array or an object, got ${s}`);return Se(s,t.type,r,n);case(0,B.isTypeArray)(o):if(!Array.isArray(s)&&!(0,di.isText)(s))throw Error(`ABI expected parameter ${i} to be array or long string, got ${s}`);return(0,lr.isString)(s)&&(s=(0,di.splitLongString)(s)),Se(s,t.type,r,n);case(0,B.isTypeNonZero)(o):return Rt((0,B.getArrayType)(o),s);case(0,B.isTypeEthAddress)(o):return Rt(o,s);case((0,B.isTypeStruct)(o,r)||(0,B.isTypeTuple)(o)||St.CairoUint256.isAbiType(o)):return Se(s,o,r,n);case(0,B.isTypeEnum)(o,n):return Se(s,o,r,n);default:return Rt(o,s)}}Vt.parseCalldataField=Bd});var Ta=f(_r=>{a();c();var Rd=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_r,"__esModule",{value:!0});var Jr=cr(),Qr=rt(),en=wt(),dr=oe(),ba=F(),Vd=pe(),Ld=Dt(),Z=Me(),fr=ar(),jd=Rd(zr());function _i(e,t){let r;switch(!0){case(0,Z.isTypeBool)(e):return r=t.next().value,Boolean(BigInt(r));case Qr.CairoUint256.isAbiType(e):let n=t.next().value,i=t.next().value;return new Qr.CairoUint256(n,i).toBigInt();case en.CairoUint512.isAbiType(e):let o=t.next().value,s=t.next().value,u=t.next().value,l=t.next().value;return new en.CairoUint512(o,s,u,l).toBigInt();case(0,Z.isTypeEthAddress)(e):return r=t.next().value,BigInt(r);case(0,Z.isTypeBytes31)(e):return r=t.next().value,(0,Vd.decodeShortString)(r);case(0,Z.isTypeSecp256k1Point)(e):let _=(0,dr.removeHexPrefix)(t.next().value).padStart(32,"0"),p=(0,dr.removeHexPrefix)(t.next().value).padStart(32,"0"),g=(0,dr.removeHexPrefix)(t.next().value).padStart(32,"0"),h=(0,dr.removeHexPrefix)(t.next().value).padStart(32,"0");return BigInt((0,dr.addHexPrefix)(p+_+h+g));default:return r=t.next().value,BigInt(r)}}function Te(e,t,r,n){if(t.type==="()")return{};if(Qr.CairoUint256.isAbiType(t.type)){let i=e.next().value,o=e.next().value;return new Qr.CairoUint256(i,o).toBigInt()}if(en.CairoUint512.isAbiType(t.type)){let i=e.next().value,o=e.next().value,s=e.next().value,u=e.next().value;return new en.CairoUint512(i,o,s,u).toBigInt()}if((0,Z.isTypeByteArray)(t.type)){let i=[],o=BigInt(e.next().value);for(;i.length<o;)i.push((0,ba.toHex)(e.next().value));let s=(0,ba.toHex)(e.next().value),u=BigInt(e.next().value),l={data:i,pending_word:s,pending_word_len:u};return(0,Ld.stringFromByteArray)(l)}if(Jr.CairoFixedArray.isTypeFixedArray(t.type)){let i=[],o={name:"",type:Jr.CairoFixedArray.getFixedArrayType(t.type)},s=Jr.CairoFixedArray.getFixedArraySize(t.type);for(;i.length<s;)i.push(Te(e,o,r,n));return i}if((0,Z.isTypeArray)(t.type)){let i=[],o={name:"",type:(0,Z.getArrayType)(t.type)},s=BigInt(e.next().value);for(;i.length<s;)i.push(Te(e,o,r,n));return i}if((0,Z.isTypeNonZero)(t.type)){let i={name:"",type:(0,Z.getArrayType)(t.type)};return Te(e,i,r,n)}if(r&&t.type in r&&r[t.type])return(0,Z.isTypeEthAddress)(t.type)?_i(t.type,e):r[t.type].members.reduce((i,o)=>(i[o.name]=Te(e,o,r,n),i),{});if(n&&t.type in n&&n[t.type]){let i=Number(e.next().value),o=n[t.type].variants.reduce((u,l,_)=>_===i?(u[l.name]=Te(e,{name:"",type:l.type},r,n),u):(u[l.name]=void 0,u),{});if(t.type.startsWith("core::option::Option")){let u=i===fr.CairoOptionVariant.Some?o.Some:void 0;return new fr.CairoOption(i,u)}if(t.type.startsWith("core::result::Result")){let u;return i===fr.CairoResultVariant.Ok?u=o.Ok:u=o.Err,new fr.CairoResult(i,u)}return new fr.CairoCustomEnum(o)}if((0,Z.isTypeTuple)(t.type))return(0,jd.default)(t.type).reduce((o,s,u)=>{let l=s?.name?s.name:u,_=s?.type?s.type:s,p={name:l,type:_};return o[l]=Te(e,p,r,n),o},{});if((0,Z.isTypeArray)(t.type)){let i=[],o={name:"",type:(0,Z.getArrayType)(t.type)},s=BigInt(e.next().value);for(;i.length<s;)i.push(Te(e,o,r,n));return i}return _i(t.type,e)}function qd(e,t,r,n,i){let{name:o,type:s}=t,u;switch(!0){case(0,Z.isLen)(o):return u=e.next().value,BigInt(u);case(r&&s in r||(0,Z.isTypeTuple)(s)):return Te(e,t,r,n);case(n&&(0,Z.isTypeEnum)(s,n)):return Te(e,t,r,n);case Jr.CairoFixedArray.isTypeFixedArray(s):return Te(e,t,r,n);case(0,Z.isTypeArray)(s):if((0,Z.isCairo1Type)(s))return Te(e,t,r,n);let l=[];if(i&&i[`${o}_len`]){let _=i[`${o}_len`];for(;l.length<_;)l.push(Te(e,{name:o,type:t.type.replace("*","")},r,n))}return l;case(0,Z.isTypeNonZero)(s):return Te(e,t,r,n);default:return _i(s,e)}}_r.default=qd});var xa=f(hr=>{a();c();var Ud=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hr,"__esModule",{value:!0});var ce=Be(),I=Ud(Et()),Ca=cr(),Ea=rt(),hi=wt(),gi=F(),Fd=pe(),te=Y(),N=Me(),yi=(e,t)=>{if((0,I.default)((0,te.isString)(e)||(0,te.isNumber)(e)||(0,te.isBigInt)(e),`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),(0,te.isString)(e)&&!(0,gi.isHex)(e))return;let r=BigInt(e.toString(10));(0,I.default)(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},$d=(e,t)=>{(0,I.default)((0,te.isString)(e),`Validate: arg ${t.name} should be a string.`),(0,I.default)(e.length<32,`Validate: arg ${t.name} cairo typed ${t.type} should be a string of less than 32 characters.`)},kd=(e,t)=>{(0,I.default)((0,te.isString)(e),`Validate: arg ${t.name} should be a string.`)},tn=(e,t)=>{(0,te.isNumber)(e)&&(0,I.default)(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),(0,I.default)((0,te.isString)(e)||(0,te.isNumber)(e)||(0,te.isBigInt)(e)||(0,te.isObject)(e)&&"low"in e&&"high"in e||(0,te.isObject)(e)&&["limb0","limb1","limb2","limb3"].every(n=>n in e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`);let r;switch(t.type){case ce.Uint.u256:r=new Ea.CairoUint256(e).toBigInt();break;case ce.Uint.u512:r=new hi.CairoUint512(e).toBigInt();break;default:r=(0,gi.toBigInt)(e)}switch(t.type){case ce.Uint.u8:(0,I.default)(r>=0n&&r<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case ce.Uint.u16:(0,I.default)(r>=0n&&r<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case ce.Uint.u32:(0,I.default)(r>=0n&&r<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case ce.Uint.u64:(0,I.default)(r>=0n&&r<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case ce.Uint.u128:(0,I.default)(r>=0n&&r<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case ce.Uint.u256:(0,I.default)(r>=0n&&r<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^256-1`);break;case ce.Uint.u512:(0,I.default)(hi.CairoUint512.is(r),`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^512-1`);break;case ce.Literal.ClassHash:(0,I.default)(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case ce.Literal.ContractAddress:(0,I.default)(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case ce.Literal.Secp256k1Point:{(0,I.default)(r>=0n&&r<=2n**512n-1n,`Validate: arg ${t.name} must be ${t.type} : a 512 bits number.`);break}case ce.Literal.U96:{(0,I.default)(r>=0n&&r<=2n**96n-1n,`Validate: arg ${t.name} must be ${t.type} : a 96 bits number.`);break}default:break}},Aa=(e,t)=>{(0,I.default)((0,te.isBoolean)(e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},Sa=(e,t,r)=>{if(t.type===ce.Uint.u256||t.type===ce.Uint.u512){tn(e,t);return}if((0,N.isTypeEthAddress)(t.type)){(0,I.default)(!(0,te.isObject)(e),`EthAddress type is waiting a BigNumberish. Got "${e}"`);let n=BigInt(e.toString(10));(0,I.default)(n>=0n&&n<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`);return}(0,I.default)((0,te.isObject)(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as a js object (not array)`),r[t.type].members.forEach(({name:n})=>{(0,I.default)(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},va=(e,t)=>{(0,I.default)((0,te.isObject)(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as a js object (not array)`);let r=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),n=[...Object.getOwnPropertyNames(e),...r];if(!((0,N.isTypeOption)(t.type)&&n.includes("isSome")&&n.includes("isNone"))&&!((0,N.isTypeResult)(t.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received "${e}", is not an Enum.`)},Oa=(e,t)=>{(0,I.default)((0,te.isObject)(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},Pa=(e,t,r,n)=>{let i=(0,N.isTypeArray)(t.type),o=i?(0,N.getArrayType)(t.type):Ca.CairoFixedArray.getFixedArrayType(t.type);if(i&&(0,N.isTypeFelt)(o)&&(0,Fd.isLongText)(e))return;let s=[];if(i)(0,I.default)(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),s=e;else switch(!0){case Array.isArray(e):s=e;break;case typeof e=="object":s=Object.values(e);break;default:throw new Error(`Validate: arg ${t.name} should be an Array or an object.`)}switch(!0){case(0,N.isTypeFelt)(o):s.forEach(u=>yi(u,t));break;case(0,N.isTypeTuple)(o):s.forEach(u=>Oa(u,{name:t.name,type:o}));break;case(0,N.isTypeArray)(o):s.forEach(u=>Pa(u,{name:"",type:o},r,n));break;case(0,N.isTypeStruct)(o,r):s.forEach(u=>Sa(u,{name:t.name,type:o},r));break;case(0,N.isTypeEnum)(o,n):s.forEach(u=>va(u,{name:t.name,type:o}));break;case((0,N.isTypeUint)(o)||(0,N.isTypeLiteral)(o)):s.forEach(u=>tn(u,{name:"",type:o}));break;case(0,N.isTypeBool)(o):s.forEach(u=>Aa(u,t));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${s}`)}},Kd=(e,t)=>{let r=(0,N.getArrayType)(t.type);switch((0,I.default)((0,N.isTypeUint)(r)&&r!==hi.CairoUint512.abiSelector||(0,N.isTypeFelt)(r),`Validate: ${t.name} type is not authorized for NonZero type.`),!0){case(0,N.isTypeFelt)(r):yi(e,t),(0,I.default)(BigInt(e.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case(0,N.isTypeUint)(r):switch(tn(e,{name:"",type:r}),r){case ce.Uint.u256:(0,I.default)(new Ea.CairoUint256(e).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type.");break;default:(0,I.default)((0,gi.toBigInt)(e)>0,"Validate: value 0 is not authorized in NonZero uint type.")}break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value "${e}"`)}};function Yd(e,t,r,n){e.inputs.reduce((i,o)=>{let s=t[i];switch(!0){case(0,N.isLen)(o.name):return i;case(0,N.isTypeFelt)(o.type):yi(s,o);break;case(0,N.isTypeBytes31)(o.type):$d(s,o);break;case((0,N.isTypeUint)(o.type)||(0,N.isTypeLiteral)(o.type)):tn(s,o);break;case(0,N.isTypeBool)(o.type):Aa(s,o);break;case(0,N.isTypeByteArray)(o.type):kd(s,o);break;case((0,N.isTypeArray)(o.type)||Ca.CairoFixedArray.isTypeFixedArray(o.type)):Pa(s,o,r,n);break;case(0,N.isTypeStruct)(o.type,r):Sa(s,o,r);break;case(0,N.isTypeEnum)(o.type,n):va(s,o);break;case(0,N.isTypeTuple)(o.type):Oa(s,o);break;case(0,N.isTypeNonZero)(o.type):Kd(s,o);break;default:throw new Error(`Validate Unhandled: argument ${o.name}, type ${o.type}, value ${s}`)}return i+1},0)}hr.default=Yd});var vt=f(J=>{a();c();var Gd=J&&J.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xd=J&&J.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wa=J&&J.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Gd(t,e,r);return Xd(t,e),t},gr=J&&J.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J,"__esModule",{value:!0});J.CallData=J.parseCalldataField=J.byteArray=J.cairo=void 0;var rn=Be(),Wd=gr(Et()),Zd=F(),zd=Y(),Jd=Vr(),Qd=pe(),ef=Dt(),Lt=Me(),nn=ar(),tf=gr(ca()),pi=fa(),rf=gr(pa()),nf=fi(),Na=gr(Ta()),Da=gr(xa());J.cairo=wa(Me());J.byteArray=wa(Dt());var of=fi();Object.defineProperty(J,"parseCalldataField",{enumerable:!0,get:function(){return of.parseCalldataField}});var st=class{constructor(t){this.structs=st.getAbiStruct(t),this.enums=st.getAbiEnum(t),this.parser=(0,pi.createAbiParser)(t),this.abi=this.parser.getLegacyFormat()}validate(t,r,n=[]){if(t!==rn.ValidateType.DEPLOY){let s=this.abi.filter(u=>{if(u.type!=="function")return!1;let l=u.stateMutability==="view"||u.state_mutability==="view";return t===rn.ValidateType.INVOKE?!l:l}).map(u=>u.name);(0,Wd.default)(s.includes(r),`${t===rn.ValidateType.INVOKE?"invocable":"viewable"} method not found in abi`)}let i=this.abi.find(s=>t===rn.ValidateType.DEPLOY?s.name===r&&s.type==="constructor":s.name===r&&s.type==="function");if((0,pi.isNoConstructorValid)(r,n,i))return;let o=this.parser.methodInputsLength(i);if(n.length!==o)throw Error(`Invalid number of arguments, expected ${o} arguments, but got ${n.length}`);(0,Da.default)(i,n,this.structs,this.enums)}compile(t,r){let n=this.abi.find(u=>u.name===t);if((0,pi.isNoConstructorValid)(t,r,n))return[];let i;if(Array.isArray(r))i=r;else{let u=(0,rf.default)(r,n.inputs,this.structs,this.enums);i=Object.values(u),(0,Da.default)(n,i,this.structs,this.enums)}let o=i[Symbol.iterator](),s=n.inputs.reduce((u,l)=>(0,Lt.isLen)(l.name)&&!(0,Lt.isCairo1Type)(l.type)?u:u.concat((0,nf.parseCalldataField)(o,l,this.structs,this.enums)),[]);return Object.defineProperty(s,"__compiled__",{enumerable:!1,writable:!1,value:!0}),s}static compile(t){let r=i=>{let o=(u,l=".")=>{let _=Array.isArray(u)?[u.length.toString(),...u]:u;return Object.entries(_).flatMap(([p,g])=>{let h=g;p==="entrypoint"?h=(0,Jd.getSelectorFromName)(h):(0,Qd.isLongText)(h)&&(h=(0,ef.byteArrayFromString)(h));let m=Array.isArray(_)&&p==="0"?"$$len":p;if((0,zd.isBigInt)(h))return[[`${l}${m}`,(0,Lt.felt)(h)]];if(Object(h)===h){let v=Object.getOwnPropertyNames(Object.getPrototypeOf(h)),A=[...Object.getOwnPropertyNames(h),...v];if(A.includes("isSome")&&A.includes("isNone")){let O=h,D=O.isSome()?nn.CairoOptionVariant.Some:nn.CairoOptionVariant.None;return O.isSome()?o({0:D,1:O.unwrap()},`${l}${m}.`):[[`${l}${m}`,(0,Lt.felt)(D)]]}if(A.includes("isOk")&&A.includes("isErr")){let O=h,D=O.isOk()?nn.CairoResultVariant.Ok:nn.CairoResultVariant.Err;return o({0:D,1:O.unwrap()},`${l}${m}.`)}if(A.includes("variant")&&A.includes("activeVariant")){let O=h,D=O.activeVariant(),tr=Object.keys(O.variant).findIndex(rr=>rr===D);return typeof O.unwrap()=="object"&&Object.keys(O.unwrap()).length===0?[[`${l}${m}`,(0,Lt.felt)(tr)]]:o({0:tr,1:O.unwrap()},`${l}${m}.`)}return o(h,`${l}${m}.`)}return[[`${l}${m}`,(0,Lt.felt)(h)]]})};return Object.fromEntries(o(i))},n;if(Array.isArray(t)){let i={...t},o=r(i);n=Object.values(o)}else{let i=r(t);n=Object.values(i)}return Object.defineProperty(n,"__compiled__",{enumerable:!1,writable:!1,value:!0}),n}parse(t,r){let{outputs:n}=this.abi.find(s=>s.name===t),i=r.flat()[Symbol.iterator](),o=n.flat().reduce((s,u,l)=>{let _=u.name??l;return s[_]=(0,Na.default)(i,u,this.structs,this.enums,s),s[_]&&s[`${_}_len`]&&delete s[`${_}_len`],s},{});return Object.keys(o).length===1&&0 in o?o[0]:o}format(t,r,n){let i=this.parse(t,r);return(0,tf.default)(i,n)}static getAbiStruct(t){return t.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}static getAbiEnum(t){let r=t.filter(n=>n.type==="enum").reduce((n,i)=>({...n,[i.name]:i}),{});return delete r["core::bool"],r}static toCalldata(t=[]){return st.compile(t)}static toHex(t=[]){return st.compile(t).map(n=>(0,Zd.toHex)(n))}decodeParameters(t,r){let n=Array.isArray(t)?t:[t],i=r.flat()[Symbol.iterator](),o=n.map(s=>(0,Na.default)(i,{name:"",type:s},this.structs,this.enums));return o.length===1?o[0]:o}};J.CallData=st});var je=f(on=>{a();c();Object.defineProperty(on,"__esModule",{value:!0});on.starkCurve=void 0;var sf=pt();on.starkCurve=sf.signUtil.schnorr.stark});var bi=f(de=>{a();c();Object.defineProperty(de,"__esModule",{value:!0});de.calculateL2MessageTxHash=de.calculateTransactionHash=de.calculateDeployAccountTransactionHash=de.calculateDeclareTransactionHash=de.calculateTransactionHashCommon=de.computeHashOnElements=void 0;var sn=se(),af=je(),Ia=F(),cf=Vr();function mi(e){return[...e,e.length].reduce((t,r)=>af.starkCurve.pedersen((0,Ia.toBigInt)(t),(0,Ia.toBigInt)(r)),0).toString()}de.computeHashOnElements=mi;function yr(e,t,r,n,i,o,s,u=[]){let l=mi(i),_=[e,t,r,n,l,o,s,...u];return mi(_)}de.calculateTransactionHashCommon=yr;function uf(e,t,r,n,i,o,s){return yr(sn.TransactionHashPrefix.DECLARE,r,t,0,[e],n,i,[o,...s?[s]:[]])}de.calculateDeclareTransactionHash=uf;function lf(e,t,r,n,i,o,s,u){let l=[t,n,...r];return yr(sn.TransactionHashPrefix.DEPLOY_ACCOUNT,i,e,0,l,o,s,[u])}de.calculateDeployAccountTransactionHash=lf;function df(e,t,r,n,i,o){return yr(sn.TransactionHashPrefix.INVOKE,t,e,0,r,n,i,[o])}de.calculateTransactionHash=df;function ff(e,t,r,n,i,o){let s=[e,...n];return yr(sn.TransactionHashPrefix.L1_HANDLER,0,t,(0,cf.getSelector)(r),s,0,i,[o])}de.calculateL2MessageTxHash=ff});var Va=f($=>{a();c();Object.defineProperty($,"__esModule",{value:!0});$.calculateInvokeTransactionHash=$.calculateDeclareTransactionHash=$.calculateDeployAccountTransactionHash=$.calculateTransactionHashCommon=$.hashFeeFieldV3B3=$.hashFeeField=$.encodeDataResourceBoundsL1=$.encodeResourceBoundsL2=$.encodeResourceBoundsL1=$.hashDAMode=void 0;var _f=pt(),ct=_f.signUtil.schnorr.stark.poseidonHashMany,Ti=se(),hf=F(),Ci=pe(),gf=Ct(),at=e=>e.map(t=>BigInt(t)),yf=32n,pf=64n,an=128n,Ei=pf+an,mf=BigInt((0,Ci.encodeShortString)("L1_GAS")),bf=BigInt((0,Ci.encodeShortString)("L2_GAS")),Tf=BigInt((0,Ci.encodeShortString)("L1_DATA"));function Ma(e,t){return(BigInt(e)<<yf)+BigInt(t)}$.hashDAMode=Ma;function Ai(e){return(mf<<Ei)+(BigInt(e.l1_gas.max_amount)<<an)+BigInt(e.l1_gas.max_price_per_unit)}$.encodeResourceBoundsL1=Ai;function Si(e){return(bf<<Ei)+(BigInt(e.l2_gas.max_amount)<<an)+BigInt(e.l2_gas.max_price_per_unit)}$.encodeResourceBoundsL2=Si;function Ha(e){return(Tf<<Ei)+(BigInt(e.l1_data_gas.max_amount)<<an)+BigInt(e.l1_data_gas.max_price_per_unit)}$.encodeDataResourceBoundsL1=Ha;function Ba(e,t){let r=Ai(t),n=Si(t);return ct([BigInt(e),r,n])}$.hashFeeField=Ba;function Ra(e,t){let r=Ai(t),n=Si(t),i=Ha(t);return ct([BigInt(e),r,n,i])}$.hashFeeFieldV3B3=Ra;function cn(e,t,r,n,i,o,s,u,l,_,p=[]){let g=(0,gf.isRPC08_ResourceBounds)(_)?Ra(o,_):Ba(o,_),h=Ma(u,l),m=at([e,t,r,g,ct(at(s)),n,i,h,...at(p)]);return(0,hf.toHex)(ct(m))}$.calculateTransactionHashCommon=cn;function Cf(e,t,r,n,i,o,s,u,l,_,p,g){return cn(Ti.TransactionHashPrefix.DEPLOY_ACCOUNT,i,e,o,s,p,g,u,l,_,[ct(at(r)),t,n])}$.calculateDeployAccountTransactionHash=Cf;function Ef(e,t,r,n,i,o,s,u,l,_,p,g){return cn(Ti.TransactionHashPrefix.DECLARE,n,r,i,o,p,at(g),u,l,_,[ct(at(s)),e,t])}$.calculateDeclareTransactionHash=Ef;function Af(e,t,r,n,i,o,s,u,l,_,p){return cn(Ti.TransactionHashPrefix.INVOKE,t,e,n,i,_,p,s,u,l,[ct(at(o)),ct(at(r))])}$.calculateInvokeTransactionHash=Af});var La=f(qe=>{a();c();Object.defineProperty(qe,"__esModule",{value:!0});qe.calculateDeployAccountTransactionHash=qe.calculateDeclareTransactionHash=qe.calculateInvokeTransactionHash=qe.calculateL2MessageTxHash=void 0;var jt=Mr(),vi=bi(),Oi=Va(),Sf=bi();Object.defineProperty(qe,"calculateL2MessageTxHash",{enumerable:!0,get:function(){return Sf.calculateL2MessageTxHash}});function vf(e){return[jt.ETransactionVersion.V3,jt.ETransactionVersion.F3].includes(e.version)}function Of(e){return vf(e)?(0,Oi.calculateInvokeTransactionHash)(e.senderAddress,e.version,e.compiledCalldata,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):(0,vi.calculateTransactionHash)(e.senderAddress,e.version,e.compiledCalldata,e.maxFee,e.chainId,e.nonce)}qe.calculateInvokeTransactionHash=Of;function Pf(e){return[jt.ETransactionVersion.V3,jt.ETransactionVersion.F3].includes(e.version)}function xf(e){return Pf(e)?(0,Oi.calculateDeclareTransactionHash)(e.classHash,e.compiledClassHash,e.senderAddress,e.version,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):(0,vi.calculateDeclareTransactionHash)(e.classHash,e.senderAddress,e.version,e.maxFee,e.chainId,e.nonce,e.compiledClassHash)}qe.calculateDeclareTransactionHash=xf;function Nf(e){return[jt.ETransactionVersion.V3,jt.ETransactionVersion.F3].includes(e.version)}function Df(e){return Nf(e)?(0,Oi.calculateDeployAccountTransactionHash)(e.contractAddress,e.classHash,e.compiledConstructorCalldata,e.salt,e.version,e.chainId,e.nonce,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData):(0,vi.calculateDeployAccountTransactionHash)(e.contractAddress,e.classHash,e.constructorCalldata,e.salt,e.version,e.maxFee,e.chainId,e.nonce)}qe.calculateDeployAccountTransactionHash=Df});var pr=f(re=>{a();c();Object.defineProperty(re,"__esModule",{value:!0});re.extractSignificantDigits=re.toSafeNumberOrThrow=re.getUnsafeNumberReason=re.UnsafeNumberReason=re.isSafeNumber=re.isNumber=re.isInteger=void 0;function xi(e){return wf.test(e)}re.isInteger=xi;var wf=/^-?[0-9]+$/;function If(e){return Mf.test(e)}re.isNumber=If;var Mf=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function ja(e,t){let r=parseFloat(e),n=String(r),i=Pi(e),o=Pi(n);return!!(i===o||t?.approx===!0&&!xi(e)&&o.length>=14&&i.startsWith(o.substring(0,14)))}re.isSafeNumber=ja;var qt;(function(e){e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float"})(qt=re.UnsafeNumberReason||(re.UnsafeNumberReason={}));function qa(e){if(ja(e,{approx:!1}))return;if(xi(e))return qt.truncate_integer;let t=parseFloat(e);return isFinite(t)?t===0?qt.underflow:qt.truncate_float:qt.overflow}re.getUnsafeNumberReason=qa;function Hf(e,t){let r=parseFloat(e),n=qa(e);if(t?.approx===!0?n&&n!==qt.truncate_float:n){let i=n.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${i} and become ${r}`)}return r}re.toSafeNumberOrThrow=Hf;function Pi(e){return e.replace(Bf,"").replace(Vf,"").replace(Lf,"").replace(Rf,"")}re.extractSignificantDigits=Pi;var Bf=/[eE][+-]?\d+$/,Rf=/^-?(0*)?/,Vf=/\./,Lf=/0+$/});var ln=f(ut=>{a();c();Object.defineProperty(ut,"__esModule",{value:!0});ut.toLosslessNumber=ut.isLosslessNumber=ut.LosslessNumber=void 0;var mr=pr(),un=class{constructor(t){if(this.isLosslessNumber=!0,!(0,mr.isNumber)(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}valueOf(){let t=(0,mr.getUnsafeNumberReason)(this.value);if(t===void 0||t===mr.UnsafeNumberReason.truncate_float)return parseFloat(this.value);if((0,mr.isInteger)(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${parseFloat(this.value)}`)}toString(){return this.value}};ut.LosslessNumber=un;function jf(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}ut.isLosslessNumber=jf;function qf(e){if((0,mr.extractSignificantDigits)(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new un(String(e))}ut.toLosslessNumber=qf});var Ni=f(Ut=>{a();c();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.parseNumberAndBigInt=Ut.parseLosslessNumber=void 0;var Uf=ln(),Ff=pr();function $f(e){return new Uf.LosslessNumber(e)}Ut.parseLosslessNumber=$f;function kf(e){return(0,Ff.isInteger)(e)?BigInt(e):parseFloat(e)}Ut.parseNumberAndBigInt=kf});var Ua=f(dn=>{a();c();Object.defineProperty(dn,"__esModule",{value:!0});dn.revive=void 0;var Kf=ln();function Yf(e,t){return Di({"":e},"",e,t)}dn.revive=Yf;function Di(e,t,r,n){return Array.isArray(r)?n.call(e,t,Xf(r,n)):r&&typeof r=="object"&&!(0,Kf.isLosslessNumber)(r)?n.call(e,t,Gf(r,n)):n.call(e,t,r)}function Gf(e,t){return Object.keys(e).forEach(r=>{let n=Di(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function Xf(e,t){for(let r=0;r<e.length;r++)e[r]=Di(e,r+"",e[r],t);return e}});var Ga=f(R=>{a();c();Object.defineProperty(R,"__esModule",{value:!0});R.codeLowercaseF=R.codeUppercaseF=R.codeLowercaseE=R.codeUppercaseE=R.codeLowercaseA=R.codeUppercaseA=R.isDeepEqual=R.isValidStringCharacter=R.parse=void 0;var Wf=Ni(),Zf=Ua();function zf(e,t,r=Wf.parseLosslessNumber){let n=0,i=u();return v(i),O(),t?(0,Zf.revive)(i,t):i;function o(){if(e.charCodeAt(n)===r_){n++,_();let S={},K=!0;for(;n<e.length&&e.charCodeAt(n)!==$a;){K?K=!1:(h(),_());let Xe=n,ir=p();if(ir===void 0)throw new SyntaxError(`Quoted object key expected ${De()}`);_(),m();let Vn=u();Vn===void 0&&du(),Object.prototype.hasOwnProperty.call(S,ir)&&!hn(Vn,S[ir])&&rr(ir,Xe+1),S[ir]=Vn}return e.charCodeAt(n)!==$a&&Rn(),n++,S}}function s(){if(e.charCodeAt(n)===n_){n++,_();let S=[],K=!0;for(;n<e.length&&e.charCodeAt(n)!==ka;){K?K=!1:h();let Xe=u();A(Xe),S.push(Xe)}return e.charCodeAt(n)!==ka&&cu(),n++,S}}function u(){_();let S=p()??g()??o()??s()??l("true",!0)??l("false",!1)??l("null",null);return _(),S}function l(S,K){if(e.slice(n,n+S.length)===S)return n+=S.length,K}function _(){for(;Jf(e.charCodeAt(n));)n++}function p(){if(e.charCodeAt(n)===wi){n++;let S="";for(;n<e.length&&e.charCodeAt(n)!==wi;){if(e.charCodeAt(n)===t_){let K=e[n+1],Xe=e_[K];Xe!==void 0?(S+=Xe,n++):K==="u"?fn(e.charCodeAt(n+2))&&fn(e.charCodeAt(n+3))&&fn(e.charCodeAt(n+4))&&fn(e.charCodeAt(n+5))?(S+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):fu(n):lu(n)}else Ya(e.charCodeAt(n))?S+=e[n]:uu(e[n]);n++}return Ee(),n++,S}}function g(){let S=n;if(e.charCodeAt(n)===Ka&&(n++,D(S)),e.charCodeAt(n)===Ii)n++;else if(Qf(e.charCodeAt(n)))for(n++;_n(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===d_)for(n++,D(S);_n(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===R.codeLowercaseE||e.charCodeAt(n)===R.codeUppercaseE)for(n++,(e.charCodeAt(n)===Ka||e.charCodeAt(n)===c_)&&n++,D(S);_n(e.charCodeAt(n));)n++;if(n>S)return r(e.slice(S,n))}function h(){if(e.charCodeAt(n)!==l_)throw new SyntaxError(`Comma ',' expected after value ${De()}`);n++}function m(){if(e.charCodeAt(n)!==f_)throw new SyntaxError(`Colon ':' expected after property name ${De()}`);n++}function v(S){if(S===void 0)throw new SyntaxError(`JSON value expected ${De()}`)}function A(S){if(S===void 0)throw new SyntaxError(`Array item expected ${De()}`)}function O(){if(n<e.length)throw new SyntaxError(`Expected end of input ${De()}`)}function D(S){if(!_n(e.charCodeAt(n))){let K=e.slice(S,n);throw new SyntaxError(`Invalid number '${K}', expecting a digit ${De()}`)}}function Ee(){if(e.charCodeAt(n)!==wi)throw new SyntaxError(`End of string '"' expected ${De()}`)}function tr(){throw new SyntaxError(`Quoted object key expected ${De()}`)}function rr(S,K){throw new SyntaxError(`Duplicate key '${S}' encountered at position ${K}`)}function Rn(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${De()}`)}function cu(){throw new SyntaxError(`Array item or end of array ']' expected ${De()}`)}function uu(S){throw new SyntaxError(`Invalid character '${S}' ${nr()}`)}function lu(S){let K=e.slice(S,S+2);throw new SyntaxError(`Invalid escape character '${K}' ${nr()}`)}function du(){throw new SyntaxError(`Object value expected after ':' ${nr()}`)}function fu(S){let K=S+2;for(;/\w/.test(e[K]);)K++;let Xe=e.slice(S,K);throw new SyntaxError(`Invalid unicode character '${Xe}' ${nr()}`)}function nr(){return`at position ${n}`}function _u(){return n<e.length?`but got '${e[n]}'`:"but reached end of input"}function De(){return _u()+" "+nr()}}R.parse=zf;function Jf(e){return e===i_||e===o_||e===s_||e===a_}function fn(e){return e>=Ii&&e<=Mi||e>=R.codeUppercaseA&&e<=R.codeUppercaseF||e>=R.codeLowercaseA&&e<=R.codeLowercaseF}function _n(e){return e>=Ii&&e<=Mi}function Qf(e){return e>=u_&&e<=Mi}function Ya(e){return e>=32&&e<=1114111}R.isValidStringCharacter=Ya;function hn(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((r,n)=>hn(r,t[n])):Fa(e)&&Fa(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(n=>hn(e[n],t[n])):!1}R.isDeepEqual=hn;function Fa(e){return typeof e=="object"&&e!==null}var e_={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},t_=92,r_=123,$a=125,n_=91,ka=93,i_=32,o_=10,s_=9,a_=13,wi=34,c_=43,Ka=45,Ii=48,u_=49,Mi=57,l_=44,d_=46,f_=58;R.codeUppercaseA=65;R.codeLowercaseA=97;R.codeUppercaseE=69;R.codeLowercaseE=101;R.codeUppercaseF=70;R.codeLowercaseF=102});var Wa=f(gn=>{a();c();Object.defineProperty(gn,"__esModule",{value:!0});gn.stringify=void 0;var __=pr();function Xa(e,t,r,n){let i=h_(r),o=typeof t=="function"?t.call({"":e},"",e):e;return s(o,"");function s(p,g){if(Array.isArray(n)){let h=n.find(m=>m.test(p));if(h){let m=h.stringify(p);if(typeof m!="string"||!(0,__.isNumber)(m))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${m})`);return m}}if(typeof p=="boolean"||typeof p=="number"||typeof p=="string"||p===null||p instanceof Date||p instanceof Boolean||p instanceof Number||p instanceof String)return JSON.stringify(p);if(p&&p.isLosslessNumber||typeof p=="bigint")return p.toString();if(Array.isArray(p))return u(p,g);if(p&&typeof p=="object")return l(p,g)}function u(p,g){if(p.length===0)return"[]";let h=i?g+i:void 0,m=i?`[
`:"[";for(let v=0;v<p.length;v++){let A=typeof t=="function"?t.call(p,String(v),p[v]):p[v];i&&(m+=h),typeof A<"u"&&typeof A!="function"?m+=s(A,h):m+="null",v<p.length-1&&(m+=i?`,
`:",")}return m+=i?`
`+g+"]":"]",m}function l(p,g){if(typeof p.toJSON=="function")return Xa(p.toJSON(),t,r,void 0);let h=Array.isArray(t)?t.map(String):Object.keys(p);if(h.length===0)return"{}";let m=i?g+i:void 0,v=!0,A=i?`{
`:"{";return h.forEach(O=>{let D=typeof t=="function"?t.call(p,O,p[O]):p[O];if(_(O,D)){v?v=!1:A+=i?`,
`:",";let Ee=JSON.stringify(O);A+=i?m+Ee+": ":Ee+":",A+=s(D,m)}}),A+=i?`
`+g+"}":"}",A}function _(p,g){return typeof g<"u"&&typeof g!="function"&&typeof g!="symbol"}}gn.stringify=Xa;function h_(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}});var za=f(Za=>{a();c();Object.defineProperty(Za,"__esModule",{value:!0})});var Qa=f(P=>{a();c();var g_=P&&P.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y_=P&&P.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&g_(t,e,r)};Object.defineProperty(P,"__esModule",{value:!0});P.getUnsafeNumberReason=P.toSafeNumberOrThrow=P.isSafeNumber=P.isNumber=P.isInteger=P.UnsafeNumberReason=P.parseNumberAndBigInt=P.parseLosslessNumber=P.toLosslessNumber=P.isLosslessNumber=P.LosslessNumber=P.stringify=P.parse=void 0;var p_=Ga();Object.defineProperty(P,"parse",{enumerable:!0,get:function(){return p_.parse}});var m_=Wa();Object.defineProperty(P,"stringify",{enumerable:!0,get:function(){return m_.stringify}});var Hi=ln();Object.defineProperty(P,"LosslessNumber",{enumerable:!0,get:function(){return Hi.LosslessNumber}});Object.defineProperty(P,"isLosslessNumber",{enumerable:!0,get:function(){return Hi.isLosslessNumber}});Object.defineProperty(P,"toLosslessNumber",{enumerable:!0,get:function(){return Hi.toLosslessNumber}});var Ja=Ni();Object.defineProperty(P,"parseLosslessNumber",{enumerable:!0,get:function(){return Ja.parseLosslessNumber}});Object.defineProperty(P,"parseNumberAndBigInt",{enumerable:!0,get:function(){return Ja.parseNumberAndBigInt}});var Ft=pr();Object.defineProperty(P,"UnsafeNumberReason",{enumerable:!0,get:function(){return Ft.UnsafeNumberReason}});Object.defineProperty(P,"isInteger",{enumerable:!0,get:function(){return Ft.isInteger}});Object.defineProperty(P,"isNumber",{enumerable:!0,get:function(){return Ft.isNumber}});Object.defineProperty(P,"isSafeNumber",{enumerable:!0,get:function(){return Ft.isSafeNumber}});Object.defineProperty(P,"toSafeNumberOrThrow",{enumerable:!0,get:function(){return Ft.toSafeNumberOrThrow}});Object.defineProperty(P,"getUnsafeNumberReason",{enumerable:!0,get:function(){return Ft.getUnsafeNumberReason}});y_(za(),P)});var Ot=f(fe=>{a();c();var b_=fe&&fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),T_=fe&&fe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),C_=fe&&fe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&b_(t,e,r);return T_(t,e),t};Object.defineProperty(fe,"__esModule",{value:!0});fe.stringify=fe.parseAlwaysAsBig=fe.parse=void 0;var br=C_(Qa()),E_=e=>{if(!br.isInteger(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},A_=e=>br.parse(String(e),void 0,E_);fe.parse=A_;var S_=e=>br.parse(String(e),void 0,br.parseNumberAndBigInt);fe.parseAlwaysAsBig=S_;var v_=(e,t,r,n)=>br.stringify(e,t,r,n);fe.stringify=v_});var sc=f(H=>{a();c();Object.defineProperty(H,"__esModule",{value:!0});H.computeContractClassHash=H.computeSierraContractClassHash=H.computeCompiledClassHash=H.hashByteCodeSegments=H.computeLegacyContractClassHash=H.computeHintedClassHash=H.formatSpaces=H.calculateContractAddressFromHash=H.computePoseidonHashOnElements=H.computePedersenHashOnElements=H.computeHashOnElements=H.computePoseidonHash=H.computePedersenHash=void 0;var O_=pt(),Fe=O_.signUtil.schnorr.stark.poseidonHashMany,ec=se(),P_=vt(),x_=Me(),Tr=je(),yn=oe(),pn=Ot(),$t=F(),mn=pe(),tc=Y();function N_(e,t){return Tr.starkCurve.pedersen(BigInt(e),BigInt(t))}H.computePedersenHash=N_;function D_(e,t){return(0,$t.toHex)(Tr.starkCurve.poseidonHash(BigInt(e),BigInt(t)))}H.computePoseidonHash=D_;function Ue(e){return[...e,e.length].reduce((t,r)=>Tr.starkCurve.pedersen(BigInt(t),BigInt(r)),0).toString()}H.computeHashOnElements=Ue;H.computePedersenHashOnElements=Ue;function w_(e){return(0,$t.toHex)(Fe(e.map(t=>BigInt(t))))}H.computePoseidonHashOnElements=w_;function I_(e,t,r,n){let i=P_.CallData.compile(r),o=Ue(i),s=(0,x_.felt)("0x535441524b4e45545f434f4e54524143545f41444452455353"),u=Ue([s,n,e,t,o]);return(0,$t.toHex)(BigInt(u)%ec.ADDR_BOUND)}H.calculateContractAddressFromHash=I_;function M_(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function Vi(e){let t=!1,r=[];for(let n of e)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(t=!t),t?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}H.formatSpaces=Vi;function rc(e){let{abi:t,program:r}=e,n={abi:t,program:r},i=Vi((0,pn.stringify)(n,M_));return(0,yn.addHexPrefix)(Tr.starkCurve.keccak((0,yn.utf8ToArray)(i)).toString(16))}H.computeHintedClassHash=rc;function nc(e){let t=(0,tc.isString)(e)?(0,pn.parse)(e):e,r=(0,$t.toHex)(ec.API_VERSION),n=Ue(t.entry_points_by_type.EXTERNAL.flatMap(_=>[_.selector,_.offset])),i=Ue(t.entry_points_by_type.L1_HANDLER.flatMap(_=>[_.selector,_.offset])),o=Ue(t.entry_points_by_type.CONSTRUCTOR.flatMap(_=>[_.selector,_.offset])),s=Ue(t.program.builtins.map(_=>(0,mn.encodeShortString)(_))),u=rc(t),l=Ue(t.program.data);return Ue([r,n,i,o,s,u,l])}H.computeLegacyContractClassHash=nc;function H_(e){return Fe(e.flatMap(t=>BigInt((0,mn.encodeShortString)(t))))}function Bi(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),H_(r.builtins)]);return Fe(t)}function ic(e){let t=e.bytecode.map(o=>BigInt(o)),r=e.bytecode_segment_lengths??[],n=0,i=r.flatMap(o=>{let s=t.slice(n,n+=o);return[BigInt(o),Fe(s)]});return 1n+Fe(i)}H.hashByteCodeSegments=ic;function B_(e){let t="COMPILED_CLASS_V1",r=BigInt((0,mn.encodeShortString)(t)),n=Bi(e.entry_points_by_type.EXTERNAL),i=Bi(e.entry_points_by_type.L1_HANDLER),o=Bi(e.entry_points_by_type.CONSTRUCTOR),s=e.bytecode_segment_lengths?ic(e):Fe(e.bytecode.map(u=>BigInt(u)));return(0,$t.toHex)(Fe([r,n,i,o,s]))}H.computeCompiledClassHash=B_;function Ri(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return Fe(t)}function R_(e){let t=Vi((0,pn.stringify)(e.abi,null));return BigInt((0,yn.addHexPrefix)(Tr.starkCurve.keccak((0,yn.utf8ToArray)(t)).toString(16)))}function oc(e){let t="CONTRACT_CLASS_V0.1.0",r=BigInt((0,mn.encodeShortString)(t)),n=Ri(e.entry_points_by_type.EXTERNAL),i=Ri(e.entry_points_by_type.L1_HANDLER),o=Ri(e.entry_points_by_type.CONSTRUCTOR),s=R_(e),u=Fe(e.sierra_program.map(l=>BigInt(l)));return(0,$t.toHex)(Fe([r,n,i,o,s,u]))}H.computeSierraContractClassHash=oc;function V_(e){let t=(0,tc.isString)(e)?(0,pn.parse)(e):e;return"sierra_program"in t?oc(t):nc(t)}H.computeContractClassHash=V_});var ve=f(Qe=>{a();c();var L_=Qe&&Qe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Li=Qe&&Qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&L_(t,e,r)};Object.defineProperty(Qe,"__esModule",{value:!0});Li(Vr(),Qe);Li(La(),Qe);Li(sc(),Qe)});var Tn=f(bn=>{a();c();Object.defineProperty(bn,"__esModule",{value:!0});bn.config=void 0;var j_=se(),lt=class{constructor(){this.initialize()}initialize(){this.config={...j_.DEFAULT_GLOBAL_CONFIG}}static getInstance(){return lt.instance||(lt.instance=new lt),lt.instance}get(t,r){return this.config[t]??r}set(t,r){this.config[t]=r}update(t){this.config={...this.config,...t}}getAll(){return{...this.config}}reset(){this.initialize()}delete(t){delete this.config[t]}hasKey(t){return t in this.config}};bn.config=lt.getInstance()});var ac=f(Cn=>{a();c();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.estimateFeeToBounds=void 0;var Oe=F();function q_(e,t){return{l2_gas:{max_amount:(0,Oe.toHex)((0,Oe.addPercent)(e.l2_gas_consumed,t.l2_gas.max_amount)),max_price_per_unit:(0,Oe.toHex)((0,Oe.addPercent)(e.l2_gas_price,t.l2_gas.max_price_per_unit))},l1_gas:{max_amount:(0,Oe.toHex)((0,Oe.addPercent)(e.l1_gas_consumed,t.l1_gas.max_amount)),max_price_per_unit:(0,Oe.toHex)((0,Oe.addPercent)(e.l1_gas_price,t.l1_gas.max_price_per_unit))},l1_data_gas:{max_amount:(0,Oe.toHex)((0,Oe.addPercent)(e.l1_data_gas_consumed,t.l1_data_gas.max_amount)),max_price_per_unit:(0,Oe.toHex)((0,Oe.addPercent)(e.l1_data_gas_price,t.l1_data_gas.max_price_per_unit))}}}Cn.estimateFeeToBounds=q_});var dt=f(x=>{a();c();Object.defineProperty(x,"__esModule",{value:!0});x.getFullPublicKey=x.reduceV2=x.v3Details=x.toFeeVersion=x.toTransactionVersion=x.intDAM=x.ZEROFee=x.estimateFeeToBounds=x.estimatedFeeToMaxFee=x.signatureToHexArray=x.signatureToDecimalArray=x.formatSignature=x.randomAddress=x.decompressProgram=x.compressProgram=void 0;var ji=pt(),cc=hu(),uc=Tn(),En=se(),X=Ct(),Cr=oe(),lc=Ot(),$e=F(),dc=Y(),U_=ac();function F_(e){let t=(0,dc.isString)(e)?e:(0,lc.stringify)(e),r=(0,cc.gzip)(t);return(0,Cr.btoaUniversal)(r)}x.compressProgram=F_;function $_(e){if(Array.isArray(e))return e;let t=(0,Cr.arrayBufferToString)((0,cc.ungzip)((0,Cr.atobUniversal)(e)));return(0,lc.parse)(t)}x.decompressProgram=$_;function k_(){let e=ji.signUtil.schnorr.stark.utils.randomPrivateKey();return ji.signUtil.schnorr.stark.getStarkKey(e)}x.randomAddress=k_;function qi(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>(0,$e.toHex)(t));try{let{r:t,s:r}=e;return[(0,$e.toHex)(t),(0,$e.toHex)(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}x.formatSignature=qi;function K_(e){return(0,$e.bigNumberishArrayToDecimalStringArray)(qi(e))}x.signatureToDecimalArray=K_;function Y_(e){return(0,$e.bigNumberishArrayToHexadecimalStringArray)(qi(e))}x.signatureToHexArray=Y_;function G_(e,t=uc.config.get("feeMarginPercentage").maxFee){return(0,$e.addPercent)(e,t)}x.estimatedFeeToMaxFee=G_;function Ui(e,t=uc.config.get("feeMarginPercentage").bounds,r){return(0,dc.isBigInt)(e)?{l2_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_gas:{max_amount:"0x0",max_price_per_unit:"0x0"},l1_data_gas:{max_amount:"0x0",max_price_per_unit:"0x0"}}:(0,U_.estimateFeeToBounds)(e,t)}x.estimateFeeToBounds=Ui;function X_(e){return{l1_gas_consumed:0n,l1_gas_price:0n,l1_data_gas_consumed:0n,l1_data_gas_price:0n,l2_gas_consumed:0n,l2_gas_price:0n,overall_fee:En.ZERO,unit:"FRI",suggestedMaxFee:En.ZERO,resourceBounds:Ui(En.ZERO,void 0,e)}}x.ZEROFee=X_;function W_(e){if(e===X.EDataAvailabilityMode.L1)return X.EDAMode.L1;if(e===X.EDataAvailabilityMode.L2)return X.EDAMode.L2;throw Error("EDAM conversion")}x.intDAM=W_;function Z_(e,t){let r=t?(0,$e.toHex)(t):void 0,n=(0,$e.toHex)(e);if(t&&!Object.values(X.ETransactionVersion).includes(r))throw Error(`providedVersion ${t} is not ETransactionVersion`);if(!Object.values(X.ETransactionVersion).includes(n))throw Error(`defaultVersion ${e} is not ETransactionVersion`);return t?r:n}x.toTransactionVersion=Z_;function z_(e){if(!e)return;let t=(0,$e.toHex)(e);if(t===X.ETransactionVersion.V0)return X.ETransactionVersion.F0;if(t===X.ETransactionVersion.V1)return X.ETransactionVersion.F1;if(t===X.ETransactionVersion.V2)return X.ETransactionVersion.F2;if(t===X.ETransactionVersion.V3)return X.ETransactionVersion.F3;throw Error(`toFeeVersion: ${t} is not supported`)}x.toFeeVersion=z_;function J_(e,t){return{tip:e.tip||0,paymasterData:e.paymasterData||[],accountDeploymentData:e.accountDeploymentData||[],nonceDataAvailabilityMode:e.nonceDataAvailabilityMode||X.EDataAvailabilityMode.L1,feeDataAvailabilityMode:e.feeDataAvailabilityMode||X.EDataAvailabilityMode.L1,resourceBounds:e.resourceBounds??Ui(En.ZERO,void 0,t)}}x.v3Details=J_;function Q_(e){return e===X.ETransactionVersion.F2?X.ETransactionVersion.F1:e===X.ETransactionVersion.V2?X.ETransactionVersion.V1:e}x.reduceV2=Q_;function eh(e){let t=(0,$e.toHex)(e);return(0,Cr.addHexPrefix)((0,Cr.buf2hex)(ji.signUtil.schnorr.stark.getPublicKey(t,!1)))}x.getFullPublicKey=eh});var An=f(ne=>{a();c();Object.defineProperty(ne,"__esModule",{value:!0});ne.getVersionsByType=ne.buildUDCCall=ne.getExecuteCalldata=ne.fromCallsToExecuteCalldata_cairo1=ne.fromCallsToExecuteCalldata=ne.transformCallsToMulticallArrays=void 0;var Fi=se(),kt=Ct(),Kt=vt(),th=je(),fc=ve(),$i=F(),rh=dt(),nh=e=>{let t=[],r=[];return e.forEach(n=>{let i=Kt.CallData.compile(n.calldata||[]);t.push({to:(0,$i.toBigInt)(n.contractAddress).toString(10),selector:(0,$i.toBigInt)((0,fc.getSelectorFromName)(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:t,calldata:Kt.CallData.compile({calldata:r})}};ne.transformCallsToMulticallArrays=nh;var ih=e=>{let{callArray:t,calldata:r}=(0,ne.transformCallsToMulticallArrays)(e);return[...Kt.CallData.compile({callArray:t}),...r]};ne.fromCallsToExecuteCalldata=ih;var oh=e=>{let t=e.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:Kt.CallData.compile(r.calldata)}));return Kt.CallData.compile({orderCalls:t})};ne.fromCallsToExecuteCalldata_cairo1=oh;var sh=(e,t="0")=>t==="1"?(0,ne.fromCallsToExecuteCalldata_cairo1)(e):(0,ne.fromCallsToExecuteCalldata)(e);ne.getExecuteCalldata=sh;function ah(e,t){let r=[].concat(e).map(n=>{let{classHash:i,salt:o,unique:s=!0,constructorCalldata:u=[]}=n,l=Kt.CallData.compile(u),_=o??(0,rh.randomAddress)();return{call:{contractAddress:Fi.UDC.ADDRESS,entrypoint:Fi.UDC.ENTRYPOINT,calldata:[i,_,(0,$i.toCairoBool)(s),l.length,...l]},address:(0,fc.calculateContractAddressFromHash)(s?th.starkCurve.pedersen(t,_):_,i,l,s?Fi.UDC.ADDRESS:0)}});return{calls:r.map(n=>n.call),addresses:r.map(n=>n.address)}}ne.buildUDCCall=ah;function ch(e){return e==="fee"?{v1:kt.ETransactionVersion.F1,v2:kt.ETransactionVersion.F2,v3:kt.ETransactionVersion.F3}:{v1:kt.ETransactionVersion.V1,v2:kt.ETransactionVersion.V2,v3:kt.ETransactionVersion.V3}}ne.getVersionsByType=ch});var Ki=f(Yt=>{a();c();Object.defineProperty(Yt,"__esModule",{value:!0});Yt.proofMerklePath=Yt.MerkleTree=void 0;var ki=ve(),ft=class{constructor(t,r=ki.computePedersenHash){this.branches=[],this.hashMethod=r,this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(ft.hash(t[n],"0x0",this.hashMethod)):r.push(ft.hash(t[n],t[n+1],this.hashMethod));return this.build(r)}static hash(t,r,n=ki.computePedersenHash){let[i,o]=[BigInt(t),BigInt(r)].sort((s,u)=>s>=u?1:-1);return n(i,o)}getProof(t,r=this.leaves,n=[]){let i=r.indexOf(t);if(i===-1)throw new Error("leaf not found");if(r.length===1)return n;let o=i%2===0,s=(o?r[i+1]:r[i-1])??"0x0",u=[...n,s],l=this.leaves.length===r.length?-1:this.branches.findIndex(p=>p.length===r.length),_=this.branches[l+1]??[this.root];return this.getProof(ft.hash(o?t:s,o?s:t,this.hashMethod),_,u)}};Yt.MerkleTree=ft;function _c(e,t,r,n=ki.computePedersenHash){if(r.length===0)return e===t;let[i,...o]=r;return _c(e,ft.hash(t,i,n),o,n)}Yt.proofMerklePath=_c});var vn=f(V=>{a();c();var uh=V&&V.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(V,"__esModule",{value:!0});V.verifyMessage=V.getMessageHash=V.getStructHash=V.encodeData=V.encodeValue=V.getTypeHash=V.encodeType=V.getDependencies=V.isMerkleTreeType=V.prepareSelector=V.validateTypedData=void 0;var Er=se(),L=Be(),gc=uh(Et()),lh=Dt(),hc=je(),Gt=ve(),dh=Ki(),Pt=F(),yc=pe(),pc=Y(),fh={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},Ce={[L.TypedDataRevision.ACTIVE]:{domain:"StarknetDomain",hashMethod:Gt.computePoseidonHashOnElements,hashMerkleMethod:Gt.computePoseidonHash,escapeTypeString:e=>`"${e}"`,presetTypes:fh},[L.TypedDataRevision.LEGACY]:{domain:"StarkNetDomain",hashMethod:Gt.computePedersenHashOnElements,hashMerkleMethod:Gt.computePedersenHash,escapeTypeString:e=>e,presetTypes:{}}};function Sn(e,t,{min:r,max:n}){let i=BigInt(e);(0,gc.default)(i>=r&&i<=n,`${i} (${t}) is out of bounds [${r}, ${n}]`)}function mc({types:e,domain:t}){if(Ce[L.TypedDataRevision.ACTIVE].domain in e&&t.revision===L.TypedDataRevision.ACTIVE)return L.TypedDataRevision.ACTIVE;if(Ce[L.TypedDataRevision.LEGACY].domain in e&&(t.revision??L.TypedDataRevision.LEGACY)===L.TypedDataRevision.LEGACY)return L.TypedDataRevision.LEGACY}function ke(e){try{return(0,Pt.toHex)(e)}catch{if((0,pc.isString)(e))return(0,Pt.toHex)((0,yc.encodeShortString)(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function Yi(e){let t=e;return Boolean(t.message&&t.primaryType&&t.types&&mc(t))}V.validateTypedData=Yi;function bc(e){return(0,Pt.isHex)(e)?e:(0,Gt.getSelectorFromName)(e)}V.prepareSelector=bc;function Tc(e){return e.type==="merkletree"}V.isMerkleTreeType=Tc;function Gi(e,t,r=[],n="",i=L.TypedDataRevision.LEGACY){let o=[t];return t[t.length-1]==="*"?o=[t.slice(0,-1)]:i===L.TypedDataRevision.ACTIVE&&(t==="enum"?o=[n]:t.match(/^\(.*\)$/)&&(o=t.slice(1,-1).split(",").map(s=>s[s.length-1]==="*"?s.slice(0,-1):s))),o.filter(s=>!r.includes(s)&&e[s]).reduce((s,u)=>[...s,...[u,...e[u].reduce((l,_)=>[...l,...Gi(e,_.type,l,_.contains,i).filter(p=>!l.includes(p))],[])].filter(l=>!s.includes(l))],[])}V.getDependencies=Gi;function _h(e,t){if(t.parent&&t.key){let n=e[t.parent].find(o=>o.name===t.key);if(!Tc(n))throw new Error(`${t.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return n.contains}return"raw"}function Cc(e,t,r=L.TypedDataRevision.LEGACY){let n=r===L.TypedDataRevision.ACTIVE?{...e,...Ce[r].presetTypes}:e,[i,...o]=Gi(n,t,void 0,void 0,r),s=i?[i,...o.sort()]:[],u=Ce[r].escapeTypeString;return s.map(l=>{let _=n[l].map(p=>{let g=p.type==="enum"&&r===L.TypedDataRevision.ACTIVE?p.contains:p.type,h=g.match(/^\(.*\)$/)?`(${g.slice(1,-1).split(",").map(m=>m&&u(m)).join(",")})`:u(g);return`${u(p.name)}:${h}`});return`${u(l)}(${_})`}).join("")}V.encodeType=Cc;function Ec(e,t,r=L.TypedDataRevision.LEGACY){return(0,Gt.getSelectorFromName)(Cc(e,t,r))}V.getTypeHash=Ec;function Ar(e,t,r,n={},i=L.TypedDataRevision.LEGACY){if(e[t])return[t,Sr(e,t,r,i)];if(Ce[i].presetTypes[t])return[t,Sr(Ce[i].presetTypes,t,r,i)];if(t.endsWith("*")){let o=r.map(s=>Ar(e,t.slice(0,-1),s,void 0,i)[1]);return[t,Ce[i].hashMethod(o)]}switch(t){case"enum":{if(i===L.TypedDataRevision.ACTIVE){let[o,s]=Object.entries(r)[0],u=e[n.parent].find(h=>h.name===n.key),l=e[u.contains],_=l.find(h=>h.name===o),p=l.indexOf(_),g=_.type.slice(1,-1).split(",").map((h,m)=>{if(!h)return h;let v=s[m];return Ar(e,h,v,void 0,i)[1]});return[t,Ce[i].hashMethod([p,...g])]}return[t,ke(r)]}case"merkletree":{let o=_h(e,n),s=r.map(l=>Ar(e,o,l,void 0,i)[1]),{root:u}=new dh.MerkleTree(s,Ce[i].hashMerkleMethod);return["felt",u]}case"selector":return["felt",bc(r)];case"string":{if(i===L.TypedDataRevision.ACTIVE){let o=(0,lh.byteArrayFromString)(r),s=[o.data.length,...o.data,o.pending_word,o.pending_word_len];return[t,Ce[i].hashMethod(s)]}return[t,ke(r)]}case"i128":{if(i===L.TypedDataRevision.ACTIVE){let o=BigInt(r);return Sn(o,t,Er.RANGE_I128),[t,ke(o<0n?Er.PRIME+o:o)]}return[t,ke(r)]}case"timestamp":case"u128":return i===L.TypedDataRevision.ACTIVE&&Sn(r,t,Er.RANGE_U128),[t,ke(r)];case"felt":case"shortstring":return i===L.TypedDataRevision.ACTIVE&&Sn(ke(r),t,Er.RANGE_FELT),[t,ke(r)];case"ClassHash":case"ContractAddress":return i===L.TypedDataRevision.ACTIVE&&Sn(r,t,Er.RANGE_FELT),[t,ke(r)];case"bool":return i===L.TypedDataRevision.ACTIVE&&(0,gc.default)((0,pc.isBoolean)(r),`Type mismatch for ${t} ${r}`),[t,ke(r)];default:{if(i===L.TypedDataRevision.ACTIVE)throw new Error(`Unsupported type: ${t}`);return[t,ke(r)]}}}V.encodeValue=Ar;function Ac(e,t,r,n=L.TypedDataRevision.LEGACY){let i=e[t]??Ce[n].presetTypes[t],[o,s]=i.reduce(([u,l],_)=>{if(r[_.name]===void 0||r[_.name]===null&&_.type!=="enum")throw new Error(`Cannot encode data: missing data for '${_.name}'`);let p=r[_.name],g={parent:t,key:_.name},[h,m]=Ar(e,_.type,p,g,n);return[[...u,h],[...l,m]]},[["felt"],[Ec(e,t,n)]]);return[o,s]}V.encodeData=Ac;function Sr(e,t,r,n=L.TypedDataRevision.LEGACY){return Ce[n].hashMethod(Ac(e,t,r,n)[1])}V.getStructHash=Sr;function Sc(e,t){if(!Yi(e))throw new Error("Typed data does not match JSON schema");let r=mc(e),{domain:n,hashMethod:i}=Ce[r],o=[(0,yc.encodeShortString)("StarkNet Message"),Sr(e.types,n,e.domain,r),t,Sr(e.types,e.primaryType,e.message,r)];return i(o)}V.getMessageHash=Sc;function hh(e,t,r,n){let i=Yi(e);if(!(0,Pt.isBigNumberish)(e)&&!i)throw new Error("message has a wrong format.");if(i&&n===void 0)throw new Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(i&&!(0,Pt.isBigNumberish)(n))throw new Error("accountAddress shall be a BigNumberish");let o=i?Sc(e,n):(0,Pt.toHex)(e),s=Array.isArray(t)?new hc.starkCurve.Signature(BigInt(t[0]),BigInt(t[1])):t,u=(0,Pt.toHex)(r);return hc.starkCurve.verify(s,o,u)}V.verifyMessage=hh});var vc=f(On=>{a();c();Object.defineProperty(On,"__esModule",{value:!0});On.Signer=void 0;var Xt=Be(),gh=vt(),Xi=je(),yh=oe(),Wt=ve(),ph=F(),Zt=dt(),mh=An(),bh=vn(),Wi=class{constructor(t=Xi.starkCurve.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?(0,yh.buf2hex)(t):(0,ph.toHex)(t)}async getPubKey(){return Xi.starkCurve.getStarkKey(this.pk)}async signMessage(t,r){let n=(0,bh.getMessageHash)(t,r);return(await this.signRaw(n)).signature}async signTransaction(t,r){let n=(0,mh.getExecuteCalldata)(t,r.cairoVersion),i;if(Object.values(Xt.ETransactionVersion2).includes(r.version)){let o=r;i=(0,Wt.calculateInvokeTransactionHash)({...o,senderAddress:o.walletAddress,compiledCalldata:n,version:o.version})}else if(Object.values(Xt.ETransactionVersion3).includes(r.version)){let o=r;i=(0,Wt.calculateInvokeTransactionHash)({...o,senderAddress:o.walletAddress,compiledCalldata:n,version:o.version,nonceDataAvailabilityMode:(0,Zt.intDAM)(o.nonceDataAvailabilityMode),feeDataAvailabilityMode:(0,Zt.intDAM)(o.feeDataAvailabilityMode)})}else throw Error("unsupported signTransaction version");return this.signRaw(i)}async signDeployAccountTransaction(t){let r=gh.CallData.compile(t.constructorCalldata),n;if(Object.values(Xt.ETransactionVersion2).includes(t.version)){let i=t;n=(0,Wt.calculateDeployAccountTransactionHash)({...i,salt:i.addressSalt,constructorCalldata:r,version:i.version})}else if(Object.values(Xt.ETransactionVersion3).includes(t.version)){let i=t;n=(0,Wt.calculateDeployAccountTransactionHash)({...i,salt:i.addressSalt,compiledConstructorCalldata:r,version:i.version,nonceDataAvailabilityMode:(0,Zt.intDAM)(i.nonceDataAvailabilityMode),feeDataAvailabilityMode:(0,Zt.intDAM)(i.feeDataAvailabilityMode)})}else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(n)}async signDeclareTransaction(t){let r;if(Object.values(Xt.ETransactionVersion2).includes(t.version)){let n=t;r=(0,Wt.calculateDeclareTransactionHash)({...n,version:n.version})}else if(Object.values(Xt.ETransactionVersion3).includes(t.version)){let n=t;r=(0,Wt.calculateDeclareTransactionHash)({...n,version:n.version,nonceDataAvailabilityMode:(0,Zt.intDAM)(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:(0,Zt.intDAM)(n.feeDataAvailabilityMode)})}else throw Error("unsupported signDeclareTransaction version");return this.signRaw(r)}async signRaw(t){return{signature:Xi.starkCurve.sign(t,this.pk),hash:t}}};On.Signer=Wi});var Zi=f(_t=>{a();c();var Th=_t&&_t.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Oc=_t&&_t.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Th(t,e,r)};Object.defineProperty(_t,"__esModule",{value:!0});Oc(go(),_t);Oc(vc(),_t)});var Ji=f(ht=>{a();c();Object.defineProperty(ht,"__esModule",{value:!0});ht.contractClassResponseToLegacyCompiledContract=ht.extractContractHashes=ht.isSierra=void 0;var Pc=ve(),Ch=Ot(),Eh=dt(),Ah=Y();function zi(e){return"sierra_program"in((0,Ah.isString)(e)?(0,Ch.parse)(e):e)}ht.isSierra=zi;function Sh(e){let t={...e};if(zi(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=(0,Pc.computeCompiledClassHash)(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??(0,Pc.computeContractClassHash)(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}ht.extractContractHashes=Sh;function vh(e){if(zi(e))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");let t=e;return{...t,program:(0,Eh.decompressProgram)(t.program)}}ht.contractClassResponseToLegacyCompiledContract=vh});var Bc=f(ie=>{a();c();Object.defineProperty(ie,"__esModule",{value:!0});ie.Block=ie.validBlockTags=ie.getDefaultNodes=ie.getDefaultNodeUrl=ie.parseContract=ie.createSierraContractClass=ie.wait=void 0;var Oh=Tn(),Dc=se(),wc=Be(),Ph=Ji(),xc=ve(),Qi=Ot(),Nc=F(),xh=pe(),Ic=dt(),vr=Y();function Nh(e){return new Promise(t=>{setTimeout(t,e)})}ie.wait=Nh;function Mc(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=(0,xc.formatSpaces)((0,Qi.stringify)(e.abi)),t.sierra_program=(0,xc.formatSpaces)((0,Qi.stringify)(e.sierra_program)),t.sierra_program=(0,Ic.compressProgram)(t.sierra_program),t}ie.createSierraContractClass=Mc;function Dh(e){let t=(0,vr.isString)(e)?(0,Qi.parse)(e):e;return(0,Ph.isSierra)(e)?Mc(t):{...t,..."program"in t&&{program:(0,Ic.compressProgram)(t.program)}}}ie.parseContract=Dh;var wh=(e,t=!1,r)=>{let i=Hc(r??Oh.config.get("rpcVersion"))[e??Dc.NetworkName.SN_SEPOLIA],o=Math.floor(Math.random()*i.length);return i[o]};ie.getDefaultNodeUrl=wh;function Hc(e){let t=n=>`v${n.replace(/^v/,"").replace(/\./g,"_")}`,r={...Dc.RPC_DEFAULT_NODES};return Object.keys(r).forEach(function(n,i){r[n]=r[n].map(o=>`${o}${t(e)}`)}),r}ie.getDefaultNodes=Hc;ie.validBlockTags=Object.values(wc.BlockTag);var eo=class{setIdentifier(t){if((0,vr.isString)(t))if((0,xh.isDecimalString)(t))this.number=parseInt(t,10);else if((0,Nc.isHex)(t))this.hash=t;else if(ie.validBlockTags.includes(t))this.tag=t;else throw TypeError(`Block identifier unmanaged: ${t}`);else(0,vr.isBigInt)(t)?this.hash=(0,Nc.toHex)(t):(0,vr.isNumber)(t)?this.number=t:this.tag=wc.BlockTag.PENDING;if((0,vr.isNumber)(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}constructor(t){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(t)}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(t){this.setIdentifier(t)}};ie.Block=eo});var qc=f(xn=>{a();c();Object.defineProperty(xn,"__esModule",{value:!0});xn.Account=void 0;var Ih=Tn(),Ke=se(),Or=Ct(),Mh=Zi(),to=Be(),Pn=vt(),Rc=Ji(),Vc=ve(),zt=F(),Hh=Bc(),Pe=dt(),Lc=An(),jc=Y(),Bh=vn(),ro=(e,t=!0)=>{let{tip:r,paymasterData:n,accountDeploymentData:i,nonceDataAvailabilityMode:o,feeDataAvailabilityMode:s,resourceBounds:u}=(0,Pe.v3Details)(e,Ke.SupportedRpcVersion.v0_8_1),l={resource_bounds:{L1_GAS:u.l1_gas,L1_DATA_GAS:u.l1_data_gas,L2_GAS:u.l2_gas},tip:(0,zt.toHex)(r),paymaster_data:n,nonce_data_availability_mode:s=="L1"?0:1,fee_data_availability_mode:o=="L1"?0:1};return t&&(l.account_deployment_data=i),l},no=class{constructor(t,r,n,i=Ih.config.get("transactionVersion")){this.address=t.toLowerCase(),this.signer=(0,jc.isString)(r)||r instanceof Uint8Array?new Mh.Signer(r):r,n&&(this.cairoVersion=n.toString()),this.transactionVersion=i}async getCairoVersion(){return this.cairoVersion}async execute(t,r={}){let n=Array.isArray(t)?t:[t];if(r.nonce===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let i=Or.ETransactionVersion.V3,o={...(0,Pe.v3Details)(r,Ke.SupportedRpcVersion.v0_8_1),walletAddress:this.address,nonce:r.nonce,chainId:r.chainId,cairoVersion:await this.getCairoVersion(),version:i},s=await this.signer.signTransaction(n,o),u=(0,Lc.getExecuteCalldata)(n,await this.getCairoVersion());return{txId:s.hash,signature:{type:to.TransactionType.INVOKE,sender_address:this.address,calldata:(0,Pe.signatureToHexArray)(Pn.CallData.compile(u)),signature:(0,Pe.signatureToHexArray)(s.signature),nonce:(0,zt.toHex)(r.nonce),...ro(r),version:i}}}async declare(t,r={}){let n=(0,Rc.extractContractHashes)(t),{version:i}=r;if(r.nonce===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let o=Or.ETransactionVersion.V3,s={...(0,Pe.v3Details)(r,Ke.SupportedRpcVersion.v0_8_1),nonce:r.nonce,version:o,chainId:r.chainId,walletAddress:this.address,cairoVersion:void 0},{compiledClassHash:u,contract:l,signature:_}=await this.buildDeclarePayload(n,s);return{type:to.TransactionType.DECLARE,sender_address:this.address,compiled_class_hash:u,contract_class:l,nonce:(0,zt.toHex)(r.nonce),signature:(0,Pe.signatureToDecimalArray)(_),...ro(r),version:o}}async deploy(t,r={}){let{calls:n}=(0,Lc.buildUDCCall)(t,this.address);return await this.execute(n,r)}async deployAccount({classHash:t,constructorCalldata:r=[],addressSalt:n=0,contractAddress:i},o={}){let s=Or.ETransactionVersion.V3,u=Ke.ZERO;if(o.chainId===void 0)throw new Error("missing transaction parameter");let l=Pn.CallData.compile(r),_=i??(0,Vc.calculateContractAddressFromHash)(n,t,l,0),p=await this.signer.signDeployAccountTransaction({...(0,Pe.v3Details)(o,Ke.SupportedRpcVersion.v0_8_1),classHash:t,constructorCalldata:l,contractAddress:_,addressSalt:n,chainId:o.chainId,version:s,nonce:u});return{txId:p.hash,signature:{type:to.TransactionType.DEPLOY_ACCOUNT,version:s,signature:(0,Pe.signatureToHexArray)(p.signature),nonce:(0,zt.toHex)(u),contract_address_salt:n,constructor_calldata:(0,Pe.signatureToHexArray)(l),class_hash:(0,zt.toHex)(t),...ro(o,!1)}}}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return(0,Bh.getMessageHash)(t,this.address)}async buildDeclarePayload(t,r){let{classHash:n,contract:i,compiledClassHash:o}=(0,Rc.extractContractHashes)(t),s=(0,Hh.parseContract)(i);if((0,jc.isUndefined)(o)&&(r.version===Or.ETransactionVersion3.F3||r.version===Or.ETransactionVersion3.V3))throw Error("V3 Transaction work with Cairo1 Contracts and require compiledClassHash");let u=r.skipValidate?[]:await this.signer.signDeclareTransaction({...r,...(0,Pe.v3Details)(r,Ke.SupportedRpcVersion.v0_8_1),classHash:n,compiledClassHash:o,senderAddress:r.walletAddress});return{senderAddress:r.walletAddress,signature:u,contract:s,compiledClassHash:o}}async buildAccountDeployPayload({classHash:t,addressSalt:r=0,constructorCalldata:n=[],contractAddress:i},o){let s=Pn.CallData.compile(n),u=i??(0,Vc.calculateContractAddressFromHash)(r,t,s,0),l=o.skipValidate?[]:await this.signer.signDeployAccountTransaction({...o,...(0,Pe.v3Details)(o,Ke.SupportedRpcVersion.v0_8_1),classHash:t,contractAddress:u,addressSalt:r,constructorCalldata:s});return{...(0,Pe.v3Details)(o,Ke.SupportedRpcVersion.v0_8_1),classHash:t,addressSalt:r,constructorCalldata:s,signature:l}}buildUDCContractPayload(t){return[].concat(t).map(n=>{let{classHash:i,salt:o="0",unique:s=!0,constructorCalldata:u=[]}=n,l=Pn.CallData.compile(u);return{contractAddress:Ke.UDC.ADDRESS,entrypoint:Ke.UDC.ENTRYPOINT,calldata:[i,o,(0,zt.toCairoBool)(s),l.length,...l]}})}};xn.Account=no});var Uc=f(Nn=>{a();c();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.AccountInterface=void 0;var io=class{};Nn.AccountInterface=io});var Dn=f(gt=>{a();c();var Rh=gt&&gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fc=gt&&gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rh(t,e,r)};Object.defineProperty(gt,"__esModule",{value:!0});Fc(qc(),gt);Fc(Uc(),gt)});var $c=f(yt=>{a();c();Object.defineProperty(yt,"__esModule",{value:!0});yt.bnToUint256=yt.isUint256=yt.uint256ToBN=void 0;var oo=rt();function Vh(e){return new oo.CairoUint256(e).toBigInt()}yt.uint256ToBN=Vh;function Lh(e){return oo.CairoUint256.is(e)}yt.isUint256=Lh;function jh(e){return new oo.CairoUint256(e).toUint256HexString()}yt.bnToUint256=jh});var so=f(Ye=>{a();c();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.validateChecksumAddress=Ye.getChecksumAddress=Ye.validateAndParseAddress=Ye.addAddressPadding=void 0;var qh=xt(),kc=se(),Jt=oe(),Uh=ve(),Kc=F(),Fh=Y();function Yc(e){let t=(0,Kc.toHex)((0,Fh.isString)(e)?(0,Jt.addHexPrefix)(e):e),r=(0,Jt.removeHexPrefix)(t).padStart(64,"0");return(0,Jt.addHexPrefix)(r)}Ye.addAddressPadding=Yc;function Gc(e){let t=Yc(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return(0,Kc.assertInRange)(t,kc.ZERO,kc.ADDR_BOUND-1n,"Starknet Address"),t}Ye.validateAndParseAddress=Gc;function Xc(e){let t=(0,Jt.removeHexPrefix)(Gc(e)).toLowerCase().split(""),r=(0,Jt.removeHexPrefix)((0,Uh.keccakBn)(e)),n=qh.base.fromHex(r.padStart(64,"0"));for(let i=0;i<t.length;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return(0,Jt.addHexPrefix)(t.join(""))}Ye.getChecksumAddress=Xc;function $h(e){return Xc(e)===e}Ye.validateChecksumAddress=$h});var Wc=f(xe=>{a();c();Object.defineProperty(xe,"__esModule",{value:!0});xe.accountClassHash=xe.ProxyAccountClassHash=xe.ETHBridge=xe.STRK=xe.ETH=void 0;xe.ETH="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";xe.STRK="0x04718f5a0Fc34cC1AF16A1cdee98fFB20C31f5cD61D6Ab07201858f4287c938D";xe.ETHBridge="0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82";xe.ProxyAccountClassHash="0x3530cc4759d78042f1b543bf797f5f3d647cde0388c33734cf91b7f7b9314a9";xe.accountClassHash="0x309c042d3729173c7f2f91a34f04d8c509c1b292d334679ef1aabf8da0899cc"});var uo=f(Q=>{a();c();var kh=Q&&Q.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kh=Q&&Q.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),co=Q&&Q.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&kh(t,e,r);return Kh(t,e),t};Object.defineProperty(Q,"__esModule",{value:!0});Q.CreateMultiContractCall=Q.CreateContractCall=Q.CreateTransferTx=Q.CreateSignedDeployAccountTx=Q.CalculateContractAddressFromHash=void 0;var Mn=Dn(),Yh=co(je()),ao=co(ve()),Hn=co(Ot()),wn=vt(),Bn=oe(),Gh=so(),In=Wc();function Zc(e){let t={implementation:In.accountClassHash,selector:ao.getSelectorFromName("initialize"),calldata:wn.CallData.compile({signer:e,guardian:"0"})},r=ao.calculateContractAddressFromHash(e,In.ProxyAccountClassHash,wn.CallData.compile(t),0);return(0,Gh.addAddressPadding)(r)}Q.CalculateContractAddressFromHash=Zc;async function Xh(e,t,r){let n=Yh.starkCurve.getStarkKey(r),i=Zc(n),o=new Mn.Account(i,(0,Bn.addHexPrefix)(r)),s={implementation:In.accountClassHash,selector:ao.getSelectorFromName("initialize"),calldata:wn.CallData.compile({signer:n,guardian:"0"})},u=wn.CallData.compile(s),l=await o.deployAccount({addressSalt:n,classHash:In.ProxyAccountClassHash,constructorCalldata:u,contractAddress:i},{chainId:t,resourceBounds:e});return{txId:l.txId,signature:Hn.stringify(l.signature)}}Q.CreateSignedDeployAccountTx=Xh;async function Wh(e,t,r,n,i,o,s,u){let _=await new Mn.Account(t,(0,Bn.addHexPrefix)(u)).execute({contractAddress:e,entrypoint:"transfer",calldata:[r,n,0]},{chainId:s,nonce:i,resourceBounds:o});return{txId:_.txId,signature:Hn.stringify(_.signature)}}Q.CreateTransferTx=Wh;async function Zh(e,t,r,n,i,o,s,u){let l=new Mn.Account(t,(0,Bn.addHexPrefix)(u));n||(n=[]);let _=await l.execute({contractAddress:e,entrypoint:r,calldata:n},{chainId:s,nonce:i,resourceBounds:o});return{txId:_.txId,signature:Hn.stringify(_.signature)}}Q.CreateContractCall=Zh;async function zh(e,t,r,n,i,o){let s=new Mn.Account(e,(0,Bn.addHexPrefix)(o)),u=t.map(_=>({contractAddress:_.contract_address?_.contract_address:_.contractAddress,entrypoint:_.entry_point?_.entry_point:_.entrypoint,calldata:_.calldata})),l=await s.execute(u,{chainId:i,nonce:r,resourceBounds:n});return{txId:l.txId,signature:Hn.stringify(l.signature)}}Q.CreateMultiContractCall=zh});var Jc=f(_e=>{a();c();var Jh=_e&&_e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qh=_e&&_e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eg=_e&&_e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Jh(t,e,r);return Qh(t,e),t};Object.defineProperty(_e,"__esModule",{value:!0});_e.verifyMessage=_e.signMessage=_e.signMessageWithTypeData=void 0;var zc=eg(je()),tg=Dn(),rg=oe(),ng=uo(),lo=pt();async function ig(e,t){let r=lo.signUtil.schnorr.stark.getPublicKey(t),n=zc.starkCurve.getStarkKey(t),i=(0,ng.CalculateContractAddressFromHash)(n),o=new tg.Account(i,(0,rg.addHexPrefix)(t)),s=await o.signMessage(e),u=await o.hashMessage(e);return{signature:s,hash:u,publicKey:r}}_e.signMessageWithTypeData=ig;async function og(e,t){let r=lo.signUtil.schnorr.stark.getPublicKey(t);return{signature:zc.starkCurve.sign(e,t),hash:e,publicKey:r}}_e.signMessage=og;function sg(e,t,r){return lo.signUtil.schnorr.stark.verify(e,t,r)}_e.verifyMessage=sg});var tu=f(he=>{a();c();var ag=he&&he.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cg=he&&he.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ug=he&&he.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ag(t,e,r);return cg(t,e),t};Object.defineProperty(he,"__esModule",{value:!0});he.modPrivateKey=he.testSign=he.GetRandomPrivateKey=void 0;var Qc=pt(),fo=xt(),_o=ug(je());async function lg(){for(;;){let e=fo.base.randomBytes(32);if(dg(e)&&eu(e.toString("hex")))return`0x${Qc.signUtil.schnorr.bytesToHex(e)}`}}he.GetRandomPrivateKey=lg;function eu(e){let t="7465dd6b1bbffdb05442eb17f5ca38ad1aa78a6f56bf4415bdee219114a47a1",r=_o.starkCurve.sign(t,e),n=Qc.signUtil.schnorr.stark.getPublicKey(e);return _o.starkCurve.verify(r,t,n)}he.testSign=eu;function dg(e){let t=new fo.BN(Array.from(e)),r=new fo.BN(_o.starkCurve.CURVE.n.toString());return t.cmp(r)<0&&!t.isZero()}var fg=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function _g(e){let t;return!e.startsWith("0x")&&!e.startsWith("0X")?t=`0x${e}`:t=e,"0x"+(BigInt(t.toLowerCase())%fg).toString(16)}he.modPrivateKey=_g});var ou=f(er=>{a();c();Object.defineProperty(er,"__esModule",{value:!0});er.StarknetWallet=er.resourceBoundsFromRPC=void 0;var U=xt(),Qt=pt(),k=su(),ru=F(),hg=dt(),gg=se();function iu(e){let t=r=>"0x"+BigInt(r).toString(16);return{l1_gas:{max_amount:t(e.l1_gas_consumed),max_price_per_unit:t(e.l1_gas_price)},l1_data_gas:{max_amount:t(e.l1_data_gas_consumed),max_price_per_unit:t(e.l1_data_gas_price)},l2_gas:{max_amount:t(e.l2_gas_consumed),max_price_per_unit:t(e.l2_gas_price)}}}er.resourceBoundsFromRPC=iu;function yg(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||!t.match(/^[0-9A-Fa-f]*$/))}function nu(e){if(!yg(e))return!1;let t=U.base.fromHex(e.toLowerCase());return!(t.length<25||t.length>33||t.every(r=>r===0))}var ho=class extends U.BaseWallet{getRandomPrivateKey(){return(0,k.GetRandomPrivateKey)()}async getDerivedPath(t){return`m/44'/9004'/0'/0/${t.index}`}async getDerivedPrivateKey(t){return Qt.bip39.mnemonicToSeedV2(t.mnemonic).then(r=>{let n=Qt.bip32.fromSeedV2(r,"m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(U.GenPrivateKeyError);let i=d.Buffer.from(n.privateKey),o=Qt.bip32.fromSeedV2(i,t.hdPath);if(o.privateKey){let s=U.base.toHex(o.privateKey),u=k.ec.starkCurve.grindKey(s);return Promise.resolve(`0x${u}`)}else return Promise.reject(U.GenPrivateKeyError)}).catch(r=>Promise.reject(U.GenPrivateKeyError))}async getDerivedPrivateKeyOld(t){return Qt.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=Qt.bip32.fromSeed(r).derivePath("m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(U.GenPrivateKeyError);let i=d.Buffer.from(n.privateKey),o=Qt.bip32.fromSeed(i).derivePath(t.hdPath);if(o.privateKey){let s=U.base.toHex(o.privateKey),u=k.ec.starkCurve.grindKey(s);return Promise.resolve(`0x${u}`)}else return Promise.reject(U.GenPrivateKeyError)}).catch(r=>Promise.reject(U.GenPrivateKeyError+":"+r))}async getNewAddress(t){if(!nu(t.privateKey))throw new Error("invalid key");try{let r=(0,k.modPrivateKey)(t.privateKey),n=k.ec.starkCurve.getStarkKey(r),o={address:(0,k.CalculateContractAddressFromHash)(n),publicKey:n};return Promise.resolve(o)}catch(r){return Promise.reject(U.NewAddressError+":"+r)}}async validPrivateKey(t){let n={isValid:nu(t.privateKey),privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{let r=t.data;if(r.nonce===void 0)return Promise.reject(U.SignTxError);let n=r.nonce,i=r.chainId||k.constants.StarknetChainId.SN_MAIN,o=(0,hg.estimateFeeToBounds)(gg.ZERO);r.resourceBounds&&(o=iu(r.resourceBounds));let s=(0,k.modPrivateKey)(t.privateKey);if(r.type=="transfer"&&r.transferData!==void 0){let u=r.transferData.contractAddress,l=r.transferData.from,_=r.transferData.to,p=r.transferData.amount,g=await(0,k.CreateTransferTx)(u,l,_,p,n,o,i,s);return Promise.resolve(g)}else if(r.type=="deploy_account"){let u=await(0,k.CreateSignedDeployAccountTx)(o,i,s);return Promise.resolve(u)}else if(r.type=="contract_call"&&r.contractCallData!==void 0){let u=r.contractCallData.contractAddress,l=r.contractCallData.from,_=r.contractCallData.functionName,p=r.contractCallData.callData,g=await(0,k.CreateContractCall)(u,l,_,p,n,o,i,s);return Promise.resolve(g)}else if(r.type=="multi_contract_call"&&r.multiContractCallData!==void 0){let u=r.multiContractCallData.from,l=r.multiContractCallData.calls,_=(0,k.CreateMultiContractCall)(u,l,n,o,i,s);return Promise.resolve(_)}return Promise.reject(U.SignTxError)}catch(r){return Promise.reject(U.SignTxError+":"+r)}}async validAddress(t){let r;try{(0,k.validateAndParseAddress)(t.address),r=t.address.startsWith("0x")&&t.address.length>50}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}async signMessage(t){try{let r=(0,k.modPrivateKey)(t.privateKey);if(typeof t.data.message=="string"){let n=t.data.message;if(n.startsWith("0x")){let i=await(0,k.signMessage)(n,r),o=i.signature,s={signature:{r:o.r,s:o.s,recovery:o.recovery},hash:i.hash,publicKey:i.publicKey};return Promise.resolve(s)}}else{let n=t.data.message,i=await(0,k.signMessageWithTypeData)(n,r),o=i.signature,s={signature:{r:o.r,s:o.s,recovery:o.recovery},hash:i.hash,publicKey:i.publicKey};return Promise.resolve(s)}}catch(r){return Promise.reject(U.SignTxError+":"+r)}}async signCommonMsg(t){let r;if(t.message.text)r=t.message.text;else{let g=await this.getNewAddress({privateKey:t.privateKey});g.publicKey.startsWith("0x")&&(g.publicKey=g.publicKey.substring(2)),r=(0,U.buildCommonSignMsg)(g.publicKey,t.message.walletId)}let n=U.base.magicHash(r),i=n.slice(0,16),o=n.slice(16),s=(0,k.computeHashOnElements)([(0,ru.hexToDecimalString)(U.base.toHex(i)),(0,ru.hexToDecimalString)(U.base.toHex(o))]);s.startsWith("0x")&&(s=s.substring(2));let u=(0,k.modPrivateKey)(t.privateKey),l=k.ec.starkCurve.sign(s,u),_=k.ec.starkCurve.ProjectivePoint.fromHex(U.base.toHex(k.ec.starkCurve.getPublicKey(u))),p={publicKey:_.x.toString(16),publicKeyY:_.y.toString(16),signedDataR:l.r.toString(16),signedDataS:l.s.toString(16)};return Promise.resolve(U.base.toHex(U.base.toUtf8((0,U.jsonStringifyUniform)(p))))}verifyMessage(t){try{let r=t.data.signature,n=t.data.hash,i=t.data.publicKey;return Promise.resolve((0,k.verifyMessage)(r,n,i))}catch(r){return Promise.reject(r)}}};er.StarknetWallet=ho});var su=f(E=>{a();c();var au=E&&E.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pg=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ge=E&&E.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&au(t,e,r)},Ne=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&au(t,e,r);return pg(t,e),t};Object.defineProperty(E,"__esModule",{value:!0});E.typedData=E.shortString=E.uint256=E.merkle=E.ec=E.stark=E.transaction=E.num=E.json=E.hash=E.encode=E.constants=void 0;Ge(Zi(),E);Ge(Be(),E);Ge(ve(),E);Ge(Dn(),E);E.constants=Ne(se());E.encode=Ne(oe());E.hash=Ne(ve());E.json=Ne(Ot());E.num=Ne(F());E.transaction=Ne(An());E.stark=Ne(dt());E.ec=Ne(je());E.merkle=Ne(Ki());E.uint256=Ne($c());E.shortString=Ne(pe());E.typedData=Ne(vn());Ge(so(),E);Ge(vt(),E);Ge(Jc(),E);Ge(tu(),E);Ge(uo(),E);Ge(ou(),E)});export{su as a};
//# sourceMappingURL=chunk-76PX7FQZ.js.map
