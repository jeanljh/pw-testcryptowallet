import{a as f}from"./chunk-MC7IOE6A.js";import{a as s}from"./chunk-N4IVZOUG.js";import{a as d,b as E}from"./chunk-JWVIZID6.js";import{a as C}from"./chunk-33XRMYWN.js";import{c,e as L}from"./chunk-EN2WHAVL.js";import{F as _,K as T}from"./chunk-VZKEX7KP.js";import{o as r,q as e}from"./chunk-Y5OH3DDZ.js";r();e();r();e();T();L();r();e();var o={INVALID_MOON_CAT:"INVALID_MOON_CAT",GET_MOON_CAT_FAILED:"GET_MOON_CAT_FAILED",CHECK_MOON_CAT_FAILED:"CHECK_MOON_CAT_FAILED",READ_FAILED:"READ_FAILED",SET_FAILED:"SET_ERROR"};function O(){return"U2FhdGVkX1+7Kj#9jN$2QwRzL&v8RxYqT5pJtB!e"}var A=async()=>{let[a,t]=await _(E(C.moonCatData));if(a)throw new s(o.READ_FAILED,o.READ_FAILED);return t},w=async a=>{let[t,n]=await _(d(C.moonCatData,a));if(t)throw new s(o.SET_FAILED,o.SET_FAILED);return n};async function I(a){if((await A())?.data)return;let n=O(),[D,m]=await _(c().encrypt(n,a));if(D)throw new s(o.GET_MOON_CAT_FAILED,o.GET_MOON_CAT_FAILED);let i={data:m.vault,createdAt:Date.now()};await w(i)}async function N(a){let t=await A();if(!t?.data)return;let[n,D]=await _(c().decrypt(t.data,a));if(n)throw new s(o.INVALID_MOON_CAT,o.INVALID_MOON_CAT);return D}async function g(){let t={...await A(),data:void 0};await w(t)}async function M(a){let t=await N(a);if(t!==void 0){if(t!==O())throw new s(o.INVALID_MOON_CAT,o.INVALID_MOON_CAT);await g()}}var B=()=>{let{data:a,loading:t}=f(C.moonCatData),n=!!a?.data;return{loadingMoonCatData:t,isMoonCat:n,enableMoonCat:async i=>{n||await I(i)},disableMoonCat:async i=>{!n||await M(i)}}};export{B as a};
//# sourceMappingURL=chunk-AYPA3NBZ.js.map
