import{D as ko,E as Io,G as Mo,H as No,I as Do,J as Eo,K as Lo,M as yo,N as Fo,O as Bo,P as Po,Q as Vo,R as Uo,S as Ao,b as no,c as X,d as go,e as To,f as xo,g as Co,h as wo,v as bo}from"./chunk-B4L3SSG4.js";import{a as Oo}from"./chunk-C627M2I3.js";import{a as So}from"./chunk-BZ2IK5IM.js";import{h as vo}from"./chunk-O2ACG5GT.js";import"./chunk-HB3JXXNO.js";import"./chunk-YI5V5HTO.js";import"./chunk-KDWSU3J6.js";import"./chunk-CKYJ25ZA.js";import{a as ho}from"./chunk-EL4V5BC4.js";import"./chunk-MFKZWCTA.js";import"./chunk-QXEXAETB.js";import"./chunk-3WFHNRKN.js";import{c as j}from"./chunk-E6XUX33V.js";import"./chunk-VTMJYROY.js";import"./chunk-ARK47WR5.js";import"./chunk-BEIWULHW.js";import"./chunk-DOCYQV54.js";import"./chunk-6T3CLU73.js";import"./chunk-STXPU7A6.js";import"./chunk-PFSPFZNW.js";import"./chunk-RK7WST36.js";import"./chunk-7Q4IDC7V.js";import"./chunk-F57QKCZQ.js";import"./chunk-HIVYZXF3.js";import{a as ro}from"./chunk-JALTSNOZ.js";import{v as fo}from"./chunk-4Y52FA3V.js";import"./chunk-B6WLGAPL.js";import"./chunk-ZYYACLV7.js";import"./chunk-TQMC5UQS.js";import"./chunk-ANWN6BF6.js";import"./chunk-XNP3OGQC.js";import"./chunk-A2QIZMPL.js";import"./chunk-HKU7TMFJ.js";import"./chunk-YTR7GLCK.js";import"./chunk-7I4OPLNV.js";import{d as to}from"./chunk-YMYQJ726.js";import{f as $}from"./chunk-FGRS6VIX.js";import{Cb as uo,Mb as _o,T as b,U as B,tb as h,vd as g}from"./chunk-INIQCRIO.js";import{c as T}from"./chunk-ZFBXO46L.js";import"./chunk-6Z5HVUBK.js";import{m as z}from"./chunk-ZBDGRK4Q.js";import"./chunk-GN2NRAOV.js";import"./chunk-SFFRTMXL.js";import"./chunk-RLY3NWVP.js";import"./chunk-U3KULTRT.js";import"./chunk-55T2IW2N.js";import"./chunk-WVUOJIBP.js";import"./chunk-JBROAQ6E.js";import"./chunk-LBCITKCK.js";import"./chunk-O4O5AL3V.js";import"./chunk-B624VS3G.js";import"./chunk-6PA65BO3.js";import"./chunk-QCEQQDCM.js";import{A as H,C as eo}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-SEAUBLKM.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{z as co}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as po}from"./chunk-4QGZDIBD.js";import{b as F}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-FYJQM2AY.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RX4V72AK.js";import{f as M,o as n,q as a}from"./chunk-Y5OH3DDZ.js";n();a();var o=M(F()),J=M(po());n();a();var ao=M(F());var qo=()=>{let{fromToStore:p,quoteStore:c,commonStore:u,accountStore:e,mevStore:t}=T(),{getChainInfo:s,from:i,to:S,computedIsSingleChain:r}=p,{quote:x}=c,{setShowMev:C}=t,d=s(i.chainId),l=s(S.chainId),w=d?.supportMev===B.ON&&x?.bestRoute?.fromDexRouterList?.length!==0,N=l?.supportMev===B.ON&&x?.bestRoute?.toDexRouterToList?.length!==0,I=r&&d?.supportMev===B.ON,{walletSupportMev:P,checkOkxVersion:O,isConnectedWallet:v,walletConfig:y}=e,D=u.computedIsWalletEnv||P;(0,ao.useEffect)(()=>{O()},[O,v,y]),(0,ao.useEffect)(()=>{C(D&&(w||N||I))},[C,D,w,N,I])};n();a();var m=M(F()),f=M(po());n();a();var _={box:"_box_l4aox_1","text-margin-left":"_text-margin-left_l4aox_12",textMarginLeft:"_text-margin-left_l4aox_12","color-dbdbdb":"_color-dbdbdb_l4aox_16",colorDbdbdb:"_color-dbdbdb_l4aox_16",text:"_text_l4aox_12","tooltip-icon":"_tooltip-icon_l4aox_22",tooltipIcon:"_tooltip-icon_l4aox_22","gas-desc":"_gas-desc_l4aox_25",gasDesc:"_gas-desc_l4aox_25","gas-wrap":"_gas-wrap_l4aox_28",gasWrap:"_gas-wrap_l4aox_28","pay-num":"_pay-num_l4aox_36",payNum:"_pay-num_l4aox_36",icon:"_icon_l4aox_40","gas-num":"_gas-num_l4aox_43",gasNum:"_gas-num_l4aox_43",show:"_show_l4aox_46"};function ne({fromTokenLogoUrl:p,fromTokenSymbol:c,gasDropConfig:u,onSwitch:e,className:t,gasDropFromAmount:s,isWalletEnv:i}){let{gasDrop:S,tokenSymbol:r,tokenLogoUrl:x,chainName:C,gasDropSwitch:d}=u,l=u.gasDropSwitch&&s;return m.default.createElement("div",{className:(0,f.default)("flex align-items-center justify-content-start","cursor-pointer",_.box,t)},m.default.createElement("div",{className:(0,f.default)("flex flex-col",_.gasDesc)},m.default.createElement("div",{className:"gasTitle flex justify-between"},m.default.createElement("div",{className:(0,f.default)("flex")},m.default.createElement("span",{className:(0,f.default)("font-bold font-14 ellipsis",_.text)},g("swaptrade_order_modal_title_enable_refuel")),m.default.createElement(H,{alwaysUpdatePopper:!0,maxWidth:i?200:297,placement:i?H.DIRECTION.topRight:H.DIRECTION.bottom,title:g("swaptrade_info_modal_text_why_refuel",{chainName:C,nativeToken:r})},m.default.createElement(ro,{type:"okx-defi-dex-information",className:(0,f.default)("font-14 color-bdbdbd",_.tooltipIcon)}))),m.default.createElement(eo,{size:eo.SIZE.sm,className:(0,f.default)(_.switch),onChange:w=>{e(w)},checked:Boolean(Number(d))})),m.default.createElement("div",{className:(0,f.default)("flex",_.gasWrap,{[_.show]:l})},m.default.createElement(ho,{tokenSrc:p??"",chainSrc:x??"",tokenSize:16,chainSize:16,className:"boxSame"}),m.default.createElement("span",{className:(0,f.default)("font-14",_.payNum)},`${s} ${c}`),m.default.createElement(ro,{className:(0,f.default)("okds-arrow-pointer-right-sm",_.icon)}),m.default.createElement("span",{className:(0,f.default)("font-14",_.gasNum)},`${$(S)} ${r}`))))}var Go=z(ne);n();a();var Z=M(F());var ae=()=>{let{tokenModalStore:p,fromToStore:c,commonStore:u}=T(),{from:e,to:t}=c,{chainList:s}=u,{setFromSelectedChainId:i,setToSelectedChainId:S,computedCurrentToChainId:r,setTokenPageChainList:x,getTokenListByChainId:C,setCommonlyUsedChain:d,setTokenModalFromState:l,initLoading:w,setSearchValue:N,changeTokenModalVisible:I,tokenModalVisible:P,setFromSelectedChainAtSearch:O,setToSelectedChainAtSearch:v}=p,y=e.chainId,D=t.chainId,[G,K]=(0,Z.useState)("");return{handleOpenSelectToken:(0,Z.useCallback)(V=>{fo({from_or_to:V===h.FROM?h.FROM:h.TO}),l(V),w(),N("");let U=to(y,uo.chainId);i(U);let W=to(D,r);S(W),O(U),v(W);let A=d();A=A.map(Y=>s.find(Q=>Q?.chainId===Y)),x(A),C(),K(V===h.FROM?g("wallet_swap_toast_select_pay_token"):g("wallet_swap_toast_select_receive_token")),I(!0)},[s,l,I,r,y,C,w,d,i,N,S,x,D,O,v]),tokenModalVisible:P,tokenListPageTitle:G,changeTokenModalVisible:I}},Wo=ae;n();a();var Qo=M(F());var se=(p,c)=>{let{quoteStore:u,fromToStore:e}=T(),{setCurrentBridgeId:t}=u,{to:s,from:i}=e;(0,Qo.useEffect)(()=>{!p&&!c&&t("")},[i.chainId,i.tokenContractAddress,s.chainId,s.tokenContractAddress,t])},Ho=se;n();a();var so=M(F());function zo(){let{mevStore:p,quoteStore:c,fromToStore:u}=T(),{setMevUserSwitchOpen:e,mevSwitchOpenStatue:t}=p,{quote:s}=c,{from:i,to:S}=u,r=Number(s?.bestRoute?.isEnableMev)===B.ON;(0,so.useEffect)(()=>{e(b.AUTO_OFF)},[i.chainId,S.chainId]),(0,so.useEffect)(()=>{r&&t!==b.USER_OFF?e(b.AUTO_ON):r&&t===b.USER_OFF?e(b.USER_OFF):!r&&t===b.USER_ON?e(b.USER_ON):r||e(b.AUTO_OFF)},[r,e,t])}n();a();var k={container:"_container_145ls_1",scroll:"_scroll_145ls_6",wrap:"_wrap_145ls_10","wallet-header":"_wallet-header_145ls_15",walletHeader:"_wallet-header_145ls_15","input-panel-box":"_input-panel-box_145ls_19",inputPanelBox:"_input-panel-box_145ls_19","mb-6":"_mb-6_145ls_23",mb6:"_mb-6_145ls_23","swap-to-panel":"_swap-to-panel_145ls_26",swapToPanel:"_swap-to-panel_145ls_26"};var ie=()=>{let{commonStore:p,accountStore:c,fromToStore:u,quoteStore:e,safeMoonStore:t,swapBtnStore:s,gasDropStore:i,chainMaintanceStore:S}=T();Ao();let r=S?.isCurrChainInMaintenance,{chainListLoadError:x,resetFromToByTabChange:C}=p,{to:d,from:l,onClickMax:w,onSwitchFromTo:N,setStorageShowMaxDialog:I,visibleMaxDialog:P,computedIsCrossChain:O,computedIsSingleChain:v,computedMaxTipsText:y}=u,{computedInputVal:D,computedOutputVal:G,computedOutputPopVal:K}=t,{computedNonsupportChain:io}=c;Oo(),So(),Bo({computedIsSingleChain:v,chainId:l.chainId,clearProps:[l.tokenSymbol,d.tokenSymbol]}),Fo(),qo(),zo(),vo(c);let{fetchQuote:V,cleanQuoteTimer:U,computedCurrentTimerQuoteState:{isShowLoadingCpt:W},getGasTokenFeeLoading:A,isPickRouterFromWallet:Y,quoteNumber:Q,quoteScope:R}=e,$o=(0,o.useMemo)(()=>{if(Q===1&&R){let{crossMiniAmount:re}=R;return g("swaptrade_placeorder_placeholder_min_input_amount",{value:$(re,{cutPriceText:!0,isFloor:!1})})}return null},[Q,R]),E=!l.tokenContractAddress;Lo(),(0,o.useEffect)(()=>()=>{U()},[]);let{extensionHeaderSettingMap:jo}=Uo();Ho(Y,C);let{gasDropConfig:Xo,showSwapGasDrop:Zo,showInputGasDrop:Jo,gasDropFromAmount:lo}=Eo();Do(V,U);let{handleTypeInput:Ko,handleTypeOutput:Yo}=Po(),{handleOpenSelectToken:mo,tokenModalVisible:Ro,tokenListPageTitle:oe,changeTokenModalVisible:ee}=Wo(),te=e.quote.quoteError||e.quote.quoteNull||t.computedHoneypot||io,{fromCurrencyInputProps:q,toCurrencyInputProps:oo}=yo();return x?o.default.createElement(Io,null):o.default.createElement("div",{className:k.container},o.default.createElement("div",{className:k.scroll},o.default.createElement("div",{className:k.wrap},o.default.createElement(Co,{...jo[_o.BRIDGE],outClassName:(0,J.default)(k.walletHeader)}),o.default.createElement("div",{className:k.inputPanelBox},o.default.createElement(No,null),o.default.createElement(j,{loading:E,height:128,className:k.mb6},o.default.createElement(no,{isExtension:!0,computedIsSingleChain:v,className:(0,J.default)(k.mb6),token:l,type:h.FROM,onClickMax:w,showMax:q.showMax&&!r,computedFromGasDropAmount:lo,showGasDrop:Jo,showMaxIcon:q.showMaxIcon,value:D,costValue:q.costValue,onChange:Ko,openSelectToken:()=>{mo(h.FROM)},label:g("swaptrade_card_swap_label1_pay"),balanceStatus:q.balanceStatus,visibleMaxDialog:P,maxDialogConfirm:I,maxTipsText:y,gasFeeLoading:A,placeholder:$o,disableInput:q.disableInput||r,disabledTokenSelect:!l.chainId})),o.default.createElement("div",{className:(0,J.default)(k.swapToPanel)},o.default.createElement(wo,{onSwitchFromTo:N}),o.default.createElement(j,{loading:E,height:128},o.default.createElement(no,{isExtension:!0,computedIsSingleChain:v,value:G,costValue:oo.costValue,popover:K,onChange:Yo,token:d,type:h.TO,openSelectToken:()=>{mo(h.TO)},label:g("swaptrade_card_swap_label2_receive"),computedValueDifference:oo.valueDifference,balanceStatus:oo.balanceStatus,computedIsCrossChain:O,disabledTokenSelect:!d.chainId})))),o.default.createElement(X,null,o.default.createElement(To,{isSkeleton:E}),o.default.createElement(go,{isSkeleton:E}),o.default.createElement(X.Item,{id:"swapGasDrop"},Zo&&o.default.createElement(Go,{isWalletEnv:!0,fromTokenLogoUrl:l?.tokenLogoUrl,fromTokenSymbol:l?.tokenSymbol,gasDropFromAmount:lo,gasDropConfig:Xo,onSwitch:i.setGasDropSwitch})),o.default.createElement(X.Item,{id:"detail"},o.default.createElement(ko,{isSkeleton:E}))))),o.default.createElement(j,{style:{marginTop:16,borderRadius:24},loading:E,height:48},o.default.createElement(xo,{skeleton:!0,btnData:s.computedBtnStatus,isShowLoadingCpt:E||W,isShowError:te,isWalletEnv:p.computedIsWalletEnv,size:co.SIZE.lg})),o.default.createElement(Mo,{visible:Ro,setVisible:ee,title:oe}),o.default.createElement(Vo,null),o.default.createElement(bo,null))},Bt=z(ie);export{Bt as default};
//# sourceMappingURL=Bridge-YGJUTPHS.js.map
