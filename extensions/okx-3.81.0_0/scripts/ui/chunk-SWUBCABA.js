import{b as R}from"./chunk-MAAUVUWY.js";import{E as N}from"./chunk-EFOY37CC.js";import{b as y,c as A}from"./chunk-GR7YC6C3.js";import{A as f,J as b}from"./chunk-O33H5V3V.js";import{M as n,N as l}from"./chunk-COF7YKSN.js";import{b as P}from"./chunk-73B6GL3S.js";import{f as E,o as a,q as i}from"./chunk-Y5OH3DDZ.js";a();i();var q={CAN:"1",CANT:"0"},S={EVM:"0"},L={init:"INIT",loading:"LOADING",success:"SUCCESS",failed:"FAILED"},U=(c,o)=>c?.uniqueId===o?.uniqueId;a();i();var u=E(P());A();l();a();i();l();async function M(c){try{return(await(await Promise.resolve(n.rpc_networks)).query(c)||[]).sort((w,m)=>w.order-m.order)}catch{return[]}}async function C(c){try{return await(await Promise.resolve(n.rpc_networks)).delete(c),!0}catch{return!1}}b();var I=c=>{let o={...c};return o?.chainId.startsWith("0x")||(o.chainId=`0x${R(o.chainId)}`),o};var X=()=>{let[c,o]=(0,u.useState)("loading"),[d,w]=(0,u.useState)({rpcNetworks:[],customNets:[],defaultNets:[]}),m=async e=>{let t=e,s=Number.parseInt(t.chainId,16);try{let{data:r}=await f(y.getRpcNetworkByChainId,{chainIds:[s]});if(Array.isArray(r)){let p=r.find(v=>v.chainId===s);t.faucetUrl=p?.faucets?.[0]||""}}catch{t.faucetUrl=""}return t},k=e=>{let t=e.filter(r=>r.isCustom),s=e.filter(r=>!r.isCustom).sort((r,p)=>r.order-p.order);return{rpcNetworks:[...s,...t],customNets:t,defaultNets:s}},_=async e=>{try{let t=await Promise.resolve(n.rpc_networks),s={...e,uniqueId:e.uniqueId||N(),type:S.EVM,isCustom:!0},r=await m(I(s));return await t.set(r),r}catch{return{}}},T=async e=>{try{let t=await Promise.resolve(n.rpc_networks),s=await m(I(e));return await t.get(e.uniqueId)&&await t.set(s),s}catch{return{}}},x=async e=>{try{let s=await(await Promise.resolve(n.rpc_networks)).query(e);w(k(s)),o("success")}catch{o("failed")}},g=async e=>{try{await C(e.uniqueId)}catch(t){console.log(t)}};return(0,u.useEffect)(()=>{let e;return(async()=>(await x({}),e=(await Promise.resolve(n.rpc_networks)).liveQuery().subscribe((s,r)=>{if(!r){let p=k(s);w(p),o("success")}})))(),()=>{e&&e?.unsubscribe()}},[]),{addRpcNetwork:_,updateRpcNetwork:T,deleteRpcNetwork:g,status:c,...d}};export{q as a,L as b,U as c,M as d,X as e};
//# sourceMappingURL=chunk-SWUBCABA.js.map
