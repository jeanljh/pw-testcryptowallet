import{a as Ho}from"./chunk-OOD2ESRB.js";import{b as $o}from"./chunk-APWPXM2W.js";import{b as Lo}from"./chunk-PRXCTTVN.js";import{b as Zo}from"./chunk-7X2CMAJK.js";import{a as Oo}from"./chunk-4R74WMY3.js";import{a as Uo}from"./chunk-CIE6HRPG.js";import{a as zo}from"./chunk-7P6PQ2A4.js";import{a as Vo}from"./chunk-IVH24YWV.js";import{a as Mo}from"./chunk-3C2GFLAI.js";import{a as Wo,e as Fo,f as Go}from"./chunk-SNS3QUAD.js";import{a as Po,b as Fe,e as ct}from"./chunk-LBF75ZOB.js";import{a as ie}from"./chunk-6C2G522Z.js";import{a as Bo}from"./chunk-PONOZOFT.js";import{a as lt}from"./chunk-EIULTUCV.js";import{a as Do}from"./chunk-SMB23TMJ.js";import{a as st,c as oo}from"./chunk-EDWL2MSA.js";import{f as Rt}from"./chunk-P3S4ES3J.js";import{c as go}from"./chunk-K35GFLBJ.js";import{e as eo,f as to}from"./chunk-JBNHZ7EW.js";import{h as Io}from"./chunk-GDQAWT2G.js";import{c as Ao}from"./chunk-5A7EFNRM.js";import{a as fo}from"./chunk-AYPA3NBZ.js";import{b as wo}from"./chunk-GEL5KEYP.js";import{a as vo}from"./chunk-EBRJSEEJ.js";import{$ as De,Da as ne,T as nt,W as Kt}from"./chunk-MSFAPAHB.js";import{n as xo}from"./chunk-ZOKF3EKQ.js";import{h as Me}from"./chunk-KQ66JTF7.js";import{c as E}from"./chunk-OOYDFTEF.js";import{a as v}from"./chunk-JNIP4OYT.js";import{d as so,e as ao}from"./chunk-SWUBCABA.js";import{a as ho,b as yo,c as To,e as Eo,f as No,g as So,i as Co,k as We,l as ko}from"./chunk-44SDMU5C.js";import{b as bo}from"./chunk-7MCLPJAH.js";import{h as ae,j as Pe}from"./chunk-YGMRSF47.js";import{a as Oe}from"./chunk-6XGS36TZ.js";import{K as mo,Z as _o,a as co,j as Le,ja as po,ma as uo,zb as it}from"./chunk-GCS2RK7E.js";import{a as io}from"./chunk-OIPQWTNV.js";import{f as no,g as Br,u as p}from"./chunk-FGAB46RQ.js";import{o as ro}from"./chunk-Z62JX42S.js";import{C as Zt,Na as $,aa as we,ea as ve,g as $t,oa as jt,sa as Be,ua as Yt}from"./chunk-2QHGKEME.js";import{a as se}from"./chunk-6PA65BO3.js";import{k as lo}from"./chunk-GLL4BXR6.js";import{g as j,h as at}from"./chunk-EZS2GR7E.js";import{j as qt,m as Qt,q as Jt}from"./chunk-NUN72MDU.js";import{c as re,e as Xt}from"./chunk-EN2WHAVL.js";import{B as Se}from"./chunk-EFOY37CC.js";import{c as s}from"./chunk-HMTT52FG.js";import{b as St,c as kr}from"./chunk-GR7YC6C3.js";import{A as Ct,J as Ar}from"./chunk-O33H5V3V.js";import{$ as Pt,C as Ne,Ib as Vt,J as yt,Q as be,R as kt,S as At,Sb as wr,T as bt,U as wt,V as vt,W as Bt,X as Dt,Y as Lt,Z as Ot,ac as Ut,f as Ee,fa as Mt,g as Sr,ha as Wt,ia as Ft,ja as Gt,ka as Ht,la as zt,nc as vr,tb as br}from"./chunk-COF7YKSN.js";import{A as C,D as et,K as pe,j as It,l as ht}from"./chunk-VZKEX7KP.js";import{A as oe,E as Nt,H as ue,f as ke,j as ot,n as Et,o as Ae,x as rt}from"./chunk-BJKBO23H.js";import{H as gt,va as Cr}from"./chunk-XFTQD4B2.js";import{a as tt}from"./chunk-GVV6OTQP.js";import{t as W,u as Tt,z as V}from"./chunk-ZFVABNQN.js";import{a as Ce}from"./chunk-4QGZDIBD.js";import{b as k}from"./chunk-73B6GL3S.js";import{f as m,o as t,q as o}from"./chunk-Y5OH3DDZ.js";t();o();vr();var jo=m(k()),mt=m($());var Rr=e=>{let r=(0,mt.useSelector)(we),a=(0,mt.useSelector)(ve)[e||r];return(0,jo.useMemo)(()=>a?.keyringIdentityType===Ut.MPC,[a])};t();o();var f=m(k()),le=m($()),Ro=m(se());pe();Xt();Jt();Ht();t();o();var B={main:"_main_mv0wj_1",connectManage:"_connectManage_mv0wj_11",button:"_button_mv0wj_14","divider-line":"_divider-line_mv0wj_24",dividerLine:"_divider-line_mv0wj_24","divider-line__inner":"_divider-line__inner_mv0wj_29",dividerLineInner:"_divider-line__inner_mv0wj_29",left:"_left_mv0wj_34",imgWrapper:"_imgWrapper_mv0wj_41",icon:"_icon_mv0wj_47",chainIcon:"_chainIcon_mv0wj_50",status:"_status_mv0wj_53",origin:"_origin_mv0wj_61",arrowIcon:"_arrowIcon_mv0wj_65",disconnectIcon:"_disconnectIcon_mv0wj_70",divider:"_divider_mv0wj_24"};t();o();var Yo=m(k());br();var Xo=({baseChain:e})=>{let{rpcNetworks:r}=ao(),n=r?.map(lo)||[],a=vo();return(0,Yo.useMemo)(()=>e?e===zt?a.concat(n).find(c=>c.baseChain===e&&c.isDefault):a.find(c=>c.baseChain===e):{},[e,a])};var _t=()=>f.default.createElement("div",{className:B.dividerLine},f.default.createElement("div",{className:B["divider-line__inner"]})),Dr=({info:e,isNotBackupWallet:r,disconnectCallback:n})=>{let a=(0,Ro.useHistory)(),l=(0,le.useDispatch)(),c=ae(),i=(0,le.useSelector)(P=>We(P,e?.origin,c)),I=wo(i?.providerType||""),x=(0,le.useSelector)(Yt),d=(0,le.useSelector)(P=>No(P,x,c)),{chain:T}=d||{},_=xo(T,c),N=Xo({baseChain:T}),S=Lo({providerType:I?.providerType??N?.providerType}),H=(0,f.useMemo)(()=>N?.appBaseChain!==S?.appBaseChain?N:S,[S,N]),J=i?.method===Oo.walletRequestWallets&&i?.providerType===be||e?.isOkx,R=(0,f.useMemo)(()=>{if(i?.providerType===vt)return f.default.createElement(f.default.Fragment,null,f.default.createElement(_t,null),f.default.createElement(p.Text,{size:p.SIZE.xs,strong:500,ellipsis:!0},C("wallet_extension_cosmos_text_cosmos_network")),f.default.createElement(W,{className:`okx-wallet-plugin-chevron-right ${B.arrowIcon}`}));if(!_?.address&&!e?.isOkx)return null;let P=null;switch(!0){case J:P=f.default.createElement(f.default.Fragment,null,f.default.createElement(_t,null),f.default.createElement(p.Text,{size:p.SIZE.xs,strong:500,ellipsis:!0},C("wallet_extension_card_text_all_network")),f.default.createElement(W,{className:`okx-wallet-plugin-chevron-right ${B.arrowIcon}`}));break;case!!_?.address:P=f.default.createElement(f.default.Fragment,null,f.default.createElement(_t,null),f.default.createElement(tt,{width:14,height:14,alt:"chain",src:H?.imageUrl||H?.icon||j,errorImg:j,pictureClassName:B.chainIcon}),f.default.createElement(p.Text,{size:p.SIZE.xs,ellipsis:!0,strong:500},Zt(_.address)),f.default.createElement(W,{className:`okx-wallet-plugin-chevron-right ${B.arrowIcon}`}));break;default:break}return P},[i?.providerType,e?.isOkx,_?.address,H]);if(!e?.originNoPrefix||r)return null;let K=()=>{a.push(Le)},ee=async()=>{!e||(re().clearCookie(e.origin),await re().removePermittedAllAccount(e.origin),await re().removeSilencePermission(e.origin),n(),await qt(l))};return f.default.createElement(bo,{offsetBottom:0,style:{zIndex:10}},f.default.createElement("div",{className:B.main},f.default.createElement("div",{className:B.left},f.default.createElement("div",{className:B.imgWrapper},f.default.createElement(tt,{width:44,height:44,alt:"dapp-icon",src:e?.icon||j,errorImg:j,className:B.icon})),f.default.createElement("div",{className:B.status},f.default.createElement(p.Text,{strong:700,ellipsis:!0,className:B.origin},e?.originNoPrefix),f.default.createElement(s.FlexBox,null,f.default.createElement(s.FlexBox,{align:s.ALIGN.center,onClick:K,className:B.connectManage},f.default.createElement(p.Text,{size:p.SIZE.xs,type:p.TYPE.secondary,style:{color:"var(--okd-color-content-disabled)"},ellipsis:!0},C("extension_defi_bot_text_connected")),R)))),f.default.createElement("div",{className:B.divider}),f.default.createElement(oe,{title:C("wallet_extension_footer_textbtn_disconnect"),placement:oe.DIRECTION.topLeft},f.default.createElement(E.IconButton,{icon:"okx-wallet-plugin-unlink",className:B.disconnectIcon,onClick:ee}))))},Ln=Dr;t();o();var A=m(k());t();o();var pt=m(k());t();o();var Ge={main:"_main_1li3n_1",line:"_line_1li3n_5",dot:"_dot_1li3n_11"};var Ko=({total:e,activeIndex:r,className:n})=>pt.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:`${Ge.main} ${n}`},Array(e).fill("").map((a,l)=>pt.default.createElement("div",{className:r===l?Ge.line:Ge.dot})));t();o();var He=m(k());t();o();var de={main:"_main_si9mr_1",icon:"_icon_si9mr_1",left:"_left_si9mr_11"};var qo=({handlePrev:e,handleNext:r,className:n})=>He.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:`${de.main} ${n}`},He.default.createElement(E,{size:E.SIZE.xxs,onClick:e,icon:"okx-wallet-plugin-left",className:`${de.icon} ${de.left} `}),He.default.createElement(E,{size:E.SIZE.xxs,onClick:r,icon:"okx-wallet-plugin-right",className:de.icon}));t();o();var Y=m(k()),ze=m($());Cr();Sr();kr();Ar();var Qo=()=>{let[e,r]=(0,Y.useState)([]),n=(0,ze.useSelector)(oo),a=(0,ze.useDispatch)(),l=Et();(0,Y.useEffect)(()=>{(async()=>{let{data:I=[]}=await Ct(St.getBannerConfig),{uiData:x}=await Ee.get("uiData"),d=x?.closedBannerStore||[];a(st({allData:I,closedBanners:d,theme:l})),r(I)})()},[l]);let c=(0,Y.useMemo)(()=>n.length,[n]),i=(0,Y.useCallback)(async I=>{let{uiData:x}=await Ee.get("uiData"),{closedBannerStore:d=[]}=x,T=d;T.push(I?.id);let _=gt(T,e,(N,S)=>N===S?.id);await Ee.set({uiData:{...x??{},closedBannerStore:_}}),a(st({allData:e,closedBanners:_,theme:l}))},[e,l]);return{bannerList:n,total:c,handleClose:i}};t();o();var er=m(k()),tr=m(se());t();o();var ut=m(k()),Jo=m(se());var Or="smart-account",Ve=()=>{let e=(0,Jo.useHistory)(),r=ae(),n=Pe(r),{data:a}=Go(),l=x=>x.urlType===2&&x.url===`wallet://${Or}`,c=(0,ut.useCallback)(()=>Po(n),[n]),{prefetchSAStatus:i}=Mo(),I=(0,ut.useCallback)(()=>{if(!a?.teeStatus)return;if(i(),Fe(a?.teeStatus)==="not_enabled"){e.push(`${it}?from=${4 .toString()}&keyringId=${n?.keyringId}`);return}e.push(it)},[a,n,r]);return{checkIsSaBanner:l,checkSaBannerAvailable:c,clickSaBanner:I}};var or=()=>{let e=(0,tr.useHistory)(),{checkIsSaBanner:r,clickSaBanner:n}=Ve();return{link:(0,er.useCallback)(l=>{if(De({click_close:!1,banner_id:l.id}),r(l)){n();return}switch(l.urlType){case 2:{let c=l.url.replace("wallet://","");e.push(c);break}case 1:globalThis.open(l.url);break;default:break}},[n])}};t();o();var F={"retina-border-basic":"_retina-border-basic_60npk_1",retinaBorderBasic:"_retina-border-basic_60npk_1",main:"_main_60npk_29",carousel:"_carousel_60npk_63",closeWrapper:"_closeWrapper_60npk_67",banner:"_banner_60npk_75",content:"_content_60npk_80",left:"_left_60npk_83",title:"_title_60npk_87",icon:"_icon_60npk_90",buttonIndex:"_buttonIndex_60npk_95",switch:"_switch_60npk_100"};var ea=()=>{let[e,r]=(0,A.useState)(0),[n,a]=(0,A.useState)(!1),{checkSaBannerAvailable:l,checkIsSaBanner:c}=Ve(),i=A.default.useRef(null),{link:I}=or(),{bannerList:x,total:d,handleClose:T}=Qo(),{isSmartAccountActivatedOnce:_}=Wo(),N=(0,A.useMemo)(()=>x.filter(S=>!(c(S)&&(_||!l()))),[x,l]);return d===0?null:A.default.createElement(s.FlexBox,{className:F.main,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},A.default.createElement(ot,{touchSwitch:d>1,className:F.carousel,autoplay:d>1?5e3:!1,ref:i,loop:d>1,navigation:!1,showIndicators:!1,onChange:S=>{r(S)}},N?.map((S,H)=>{let Z=H;return A.default.createElement(ot.Slide,{key:Z},A.default.createElement(s.FlexBox,{className:F.banner},A.default.createElement(s.FlexBox,{onClick:()=>I(S),className:F.content,align:d===1?s.ALIGN.center:s.ALIGN.start},A.default.createElement("div",{className:F.left},A.default.createElement(p.Text,{ellipsis:{rows:2},size:p.SIZE.sm,strong:500,className:F.title},S.title)),A.default.createElement(E,{type:E.TYPE.image,className:F.icon,src:S.img,radius:!1})),A.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:F.closeWrapper,onClick:()=>{De({click_close:!0,banner_id:S.id}),T(S)}},A.default.createElement(W,{className:"okx-wallet-plugin-close"}))))})),d>1&&A.default.createElement("div",null,n?A.default.createElement(qo,{className:F.switch,handlePrev:()=>i.current?.prev(),handleNext:()=>i.current?.next()}):A.default.createElement(Ko,{total:d,activeIndex:e,className:F.buttonIndex})))};t();o();var L=m(k());pe();t();o();var M=m(k());var Pr=(0,M.lazy)(()=>import("./Toolkit-QUIEUE6S.js"));function fe({visible:e,onClose:r}){return M.default.createElement(M.default.Fragment,null,M.default.createElement(M.Suspense,{fallback:null},M.default.createElement(Ae,{footer:null,alignBottom:!0,maskClosable:!0,noContentPadding:!0,noMargin:!0,title:M.default.createElement("div",null),topClassName:lt.dialogHeader,visible:e,onClose:r},M.default.createElement("div",{className:lt.toolkitWrapper},M.default.createElement(Pr,null)))))}t();o();t();o();var xe={"retina-border-basic":"_retina-border-basic_1cz1e_1",retinaBorderBasic:"_retina-border-basic_1cz1e_1",main:"_main_1cz1e_29",iconWrapper:"_iconWrapper_1cz1e_67",iconItem:"_iconItem_1cz1e_70",iconAniWrapper:"_iconAniWrapper_1cz1e_101",text:"_text_1cz1e_116",moveOutAnimation:"_moveOutAnimation_1cz1e_119",moveOut:"_moveOut_1cz1e_119",moveInAnimation:"_moveInAnimation_1cz1e_123",moveIn:"_moveIn_1cz1e_123",iconTitle:"_iconTitle_1cz1e_137"};var Mr=46,ba=({clickHandle:e,iconOptions:r,customMore:n})=>{let[a,l]=(0,L.useState)(!1),[c,i]=(0,L.useState)(""),I=(0,L.useRef)(),x=ie(ne),d=async _=>{_.type==="MORE"&&(x({homepage:"toolkit"}),l(!0)),e(_)};(0,L.useLayoutEffect)(()=>{let _=Mr;for(let N of I?.current?.children)_=Math.max(_,N.getBoundingClientRect().width||0);I.current?.children?.length>0&&i(Math.ceil(_))},[r]);let T=_=>{let N=_.type==="MORE";return N&&n?L.default.createElement("div",{onClick:()=>{d(_)},"data-testid":v.HOME_PAGE.TOOLKIT_ICON},n(c)):L.default.createElement(E.IconButtonWithLabel,{textDisabled:_.disabled,style:{width:c},className:xe.iconWrapper,iconClassName:`${xe.iconItem} ${N?xe.moveOutAnimation:""}`,strong:!1,disabled:_.disabled,space:13,ellipsis:!0,text:C(_.text),icon:_.icon,onClick:()=>{d(_)},"data-testid":`${v.HOME_PAGE.ACTION_ITEM}-${_.text}`})};return L.default.createElement("div",{className:xe.main,ref:I,"data-testid":v.HOME_PAGE.HOME_PAGE_ICON_LIST},r.map(_=>_.disabled&&_.disabledText?L.default.createElement(oe,{title:C(_.disabledText),placement:oe.DIRECTION.bottom},T(_)):T(_)),L.default.createElement(fe,{visible:a,onClose:()=>l(!1)}))};t();o();var Q=m(k()),$e=m(Ce());pe();t();o();var U={"sa-status-bar":"_sa-status-bar_173dm_1",saStatusBar:"_sa-status-bar_173dm_1","sa-status-bar__content":"_sa-status-bar__content_173dm_12",saStatusBarContent:"_sa-status-bar__content_173dm_12","sa-status-bar__icon":"_sa-status-bar__icon_173dm_19",saStatusBarIcon:"_sa-status-bar__icon_173dm_19","sa-status-bar__icon--enabled":"_sa-status-bar__icon--enabled_173dm_30",saStatusBarIconEnabled:"_sa-status-bar__icon--enabled_173dm_30","sa-status-bar__icon--expiring":"_sa-status-bar__icon--expiring_173dm_33",saStatusBarIconExpiring:"_sa-status-bar__icon--expiring_173dm_33","sa-status-bar__icon--expired":"_sa-status-bar__icon--expired_173dm_36",saStatusBarIconExpired:"_sa-status-bar__icon--expired_173dm_36","sa-status-bar__text":"_sa-status-bar__text_173dm_39",saStatusBarText:"_sa-status-bar__text_173dm_39","sa-status-bar__text--expired":"_sa-status-bar__text--expired_173dm_49",saStatusBarTextExpired:"_sa-status-bar__text--expired_173dm_49","sa-status-bar__chevron":"_sa-status-bar__chevron_173dm_52",saStatusBarChevron:"_sa-status-bar__chevron_173dm_52"};var Za=({status:e,data:r,onClick:n,onExpired:a})=>{let l=e==="enabled",c=e==="expiring",i=e==="expired",I=()=>{switch(e){case"enabled":{let x=ht.formatDateTime(new Date(r.teeStatus.expiredTimestamp),{format:It.SimpleDate});return et("wallet_extension_account_details_status_renew_by_date",{date:x})}case"expiring":return Q.default.createElement(Ho,{key:r.teeStatus.expiredTimestamp,remainingTime:r.teeStatus.expiredTimestamp-Date.now(),expiredTimestamp:r.teeStatus.expiredTimestamp,onFinish:a});case"expired":return et("wallet_extension_home_top_desc_smart_account_disabled");default:return null}};return["enabled","expiring","expired"].includes(e)?Q.default.createElement("div",{className:U["sa-status-bar"],tabIndex:n?0:void 0,role:n?"button":void 0,onClick:n,onKeyPress:x=>{n&&(x.key==="Enter"||x.key===" ")&&n()},"data-testid":go.HOME_PAGE_SA_STATUS_BAR,"aria-disabled":i},Q.default.createElement("div",{className:U["sa-status-bar__content"]},Q.default.createElement(W,{className:(0,$e.default)("okx-wallet-plugin-bot-filled",U["sa-status-bar__icon"],{[U["sa-status-bar__icon--enabled"]]:l||c,[U["sa-status-bar__icon--expired"]]:i}),fontSize:"20px"}),Q.default.createElement("div",{className:(0,$e.default)(U["sa-status-bar__text"],{[U["sa-status-bar__text--expired"]]:e==="expired"})},I())),Q.default.createElement(W,{className:(0,$e.default)("okx-wallet-plugin-chevron-right",U["sa-status-bar__chevron"]),"aria-hidden":"true",fontSize:"18px"})):null};t();o();var u=m(k()),ge=m($()),pr=m(se()),je=m(ro()),Ze=m(Ce()),ur=m(Br());pe();Jt();yt();t();o();var X=m(k()),nr=m(se());t();o();var rr={container:"_container_108va_1"};var Wr=({currentNetwork:e})=>{let r=(0,X.useMemo)(()=>{let{chainName:i,icon:I,id:x}=e;return x===""?{size:"22px",fontSize:"22px",icon:I,type:"icon",text:i,defaultIcon:j}:{size:"22px",fontSize:"22px",src:I,text:i,defaultIcon:j}},[e]),n=(0,nr.useHistory)(),a=ie(ne),{impactHaptic:l}=Oe(),c=(0,X.useCallback)(()=>{a({homepage:"network"}),l(),n.push(`${_o}?tab=${e?.networkType}`)},[n,e]);return X.default.createElement("div",{className:rr.container,onClick:c},X.default.createElement(E,{...r}))},sr=()=>{let e=zo();return e?X.default.createElement(Wr,{currentNetwork:e}):null};t();o();var G=m(k());t();o();var ar={addressIcon:"_addressIcon_1kfaz_1"};var Fr=(0,G.lazy)(()=>import("./DropCopy-LZUKQDTE.js")),Gr=({visible:e,addresses:r,hotAddresses:n,setVisible:a})=>G.default.createElement(G.default.Fragment,null,G.default.createElement(E.IconButton,{size:E.SIZE.md,icon:"okx-wallet-plugin-copy-3",className:ar.addressIcon}),e?G.default.createElement(G.Suspense,{fallback:null},G.default.createElement(Fr,{visible:e,setVisible:a,CopyButton:()=>G.default.createElement("div",null),addresses:r,hotAddresses:n})):null),ir=Gr;t();o();var w={main:"_main_1v96i_1","main--sticky":"_main--sticky_1v96i_10",mainSticky:"_main--sticky_1v96i_10",avatar:"_avatar_1v96i_13",editMask:"_editMask_1v96i_24",editIcon:"_editIcon_1v96i_43",topTitle:"_topTitle_1v96i_47",content:"_content_1v96i_50",address:"_address_1v96i_56","address__text--enabled":"_address__text--enabled_1v96i_61",addressTextEnabled:"_address__text--enabled_1v96i_61","address__text--expiring":"_address__text--expiring_1v96i_64",addressTextExpiring:"_address__text--expiring_1v96i_64",copyWrapper:"_copyWrapper_1v96i_67",title:"_title_1v96i_71",titleLeft:"_titleLeft_1v96i_74",divider:"_divider_1v96i_77",locking:"_locking_1v96i_81",optionIcon:"_optionIcon_1v96i_86",network:"_network_1v96i_90",setting:"_setting_1v96i_97",chainIcon:"_chainIcon_1v96i_104",unfoldIcon:"_unfoldIcon_1v96i_109","addr-wrapper":"_addr-wrapper_1v96i_112",addrWrapper:"_addr-wrapper_1v96i_112"};t();o();var Ue=m(k()),cr=m($());t();o();var lr=[{type:"url",to:mo,label:"wallet_extension_top_hover_settings",icon:"okx-wallet-plugin-settings-2",monitor:"setting"},{type:"url",to:Le,label:"wallet_extension_home_title_dapps_connection",icon:"okx-wallet-plugin-network",monitor:"connect_dapp"},{type:"sidepanel",icon:"okx-wallet-plugin-home-swap",label:"wallet_extension_home_title_sidebar_mode"},{type:"lock",label:"wallet_settings_btn_lock_wallet",icon:"okx-wallet-plugin-lock-1",monitor:"lock_wallet"}];var mr=()=>{let[e,r]=(0,Ue.useState)(lr),{sidepanelAvailable:n,sidepanelMode:a}=(0,cr.useSelector)(Be);return(0,Ue.useEffect)(()=>{r(l=>{let c=l.findIndex(i=>i.type==="sidepanel");if(c!==-1){let i=[...l];return i[c]={...i[c],hide:!n,label:a?"wallet_extension_home_title_popup_mode":"wallet_extension_home_title_sidebar_mode"},i}return l})},[n,a]),{dropdownOptions:e,setDropdownOptions:r}};var Hr=({report:e,impactHaptic:r,handleLocking:n,toggleSidepanel:a,setToolkitVisible:l,history:c})=>(0,u.useCallback)(async i=>{if(i.monitor&&e({homepage:i.monitor}),r(),i.type==="lock"&&n(),i.type!=="locking")return i.type==="sidepanel"&&a(),i.type==="toolkit"&&(e({homepage:"toolkit"}),l(!0)),i?.to&&c.push(i.to),i?.href&&globalThis.open(i.href),!0},[e,r,n,a,l,c]),zr=()=>{let e=(0,ge.useDispatch)(),{sidepanelMode:r}=(0,ge.useSelector)(Be);return(0,u.useCallback)(async()=>{try{r?(await globalThis.platform.setPanelBehavior(!1),e(Me(!1)),nt({mode_type:"popup"}),window.close()):(nt({mode_type:"sidebar"}),await globalThis.platform.setPanelBehavior(!0),e(Me(!0)),await globalThis.platform.openSidepanel(),window.close())}catch{await globalThis.platform.setPanelBehavior(!1),e(Me(!1))}},[e,r])},Vr=({isFactionPKAccount:e,chainName:r})=>e?C("wallet_extension_popup_title_receiving_address_copied"):C("wallet_extension_transaction_toast_network_address_copied",{network:r}),$r=({isNotBackupWallet:e,address:r,copyMessageTitle:n,setVisible:a})=>(0,je.useDebounceFn)(()=>{if(e){ue.warn({title:C("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:ue.DIRECTION.top});return}r?(ue.success({title:n,desc:r,duration:1.5,placement:ue.DIRECTION.top,containerClassName:"address-copy-notification"}),(0,ur.default)(r)):n.length>0&&a(!0)},{leading:!0,wait:300}),_r=(e,r,n)=>e.type===r?{...e,type:n}:e,ml=u.default.memo(u.default.forwardRef(({titleLeft:e,titleRight:r,subTitle:n,address:a,chainName:l,filterAddress:c,filterHotAddress:i,isNotBackupWallet:I,isFactionPKAccount:x,saStatus:d},T)=>{let _=ae(),[N,S]=u.default.useState(!1),[H,Z]=u.default.useState(!1),J=(0,ge.useDispatch)(),R=Pe(_),{dropdownOptions:K,setDropdownOptions:ee}=mr(),[,P]=(0,je.useSessionStorageState)("recentlyLock"),{impactHaptic:_e}=Oe(),he=K.filter(b=>!b.hide),ye=Vr({isFactionPKAccount:x,chainName:l}),Ye=async()=>{ee(b=>b.map(Je=>_r(Je,"lock","locking"))),Rt(),J(Qt()),P(Date.now()),ee(b=>b.map(Je=>_r(Je,"locking","lock")))},Xe=zr(),te=(0,pr.useHistory)(),Re=`${po}?fromHome=1`,h=ie(ne),z=Hr({report:h,impactHaptic:_e,handleLocking:Ye,toggleSidepanel:Xe,setToolkitVisible:Z,history:te}),{run:Ke}=$r({address:a,isNotBackupWallet:I,copyMessageTitle:ye,setVisible:S}),qe=()=>{h({homepage:"manage_wallet"})},Qe=()=>{qe(),_e(),te.push(Re)},Te=()=>{te.push(`${uo}?walletId=${_}`)},q=(0,u.useCallback)(()=>u.default.createElement(E.IconButton,{size:E.SIZE.md,icon:"okx-wallet-plugin-settings-2",className:w.setting}),[]);return u.default.createElement(s.FlexBox,{ref:T,align:s.ALIGN.center,className:(0,Ze.default)(w.main,{[w.mainSticky]:Se()!==Ne})},u.default.createElement(s.Box,{onClick:Te,className:w.avatar,"data-testid":v.HOME_PAGE.WALLET_AVATAR},u.default.createElement(ct,{size:ct?.SIZE.sm,walletIdentity:R}),u.default.createElement("div",{className:w.editMask},u.default.createElement(W,{className:(0,Ze.default)("okx-wallet-plugin-draw-20",w.editIcon)}))),u.default.createElement(s.FlexBox,{className:w.content,gutter:6,align:s.ALIGN.center},u.default.createElement(s.FlexBox,{direction:s.DIRECTION.vertical,className:w.copyWrapper,onClick:Qe},u.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:w.addrWrapper,"data-testid":v.HOME_PAGE.WALLET_ACCOUNT_NAME},u.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:w.address},u.default.createElement(p.Text,{strong:500,ellipsis:!0,size:p.SIZE.sm,"data-testid":v.HOME_PAGE.WALLET_ACCOUNT_NAME_TEXT,className:(0,Ze.default)(w.address__text,{[w["address__text--enabled"]]:d==="enabled"||d==="expiring"})},n),u.default.createElement(E,{size:"16px",fontSize:"16px",className:"okx-wallet-plugin-down-1"}))),u.default.createElement(s.FlexBox,{align:s.ALIGN.center,gutter:6,className:w.title,"data-testid":v.HOME_PAGE.WALLET_NAME},u.default.createElement(p.Text,{size:p.SIZE.xs,type:p.TYPE.secondary,className:w.titleLeft,ellipsis:!0},e,"\xA0"),r&&u.default.createElement(p.Text,{size:p.SIZE.xs,type:p.TYPE.secondary,ellipsis:!0},`- ${r}`)))),u.default.createElement(s.FlexBox,{align:s.ALIGN.center},u.default.createElement(s.FlexBox,{onClick:b=>{b.stopPropagation(),h({homepage:"copy_address"}),Ke()},"data-testid":v.HOME_PAGE.COPY_ADDRESS},u.default.createElement(ir,{visible:N,setVisible:S,addresses:c,hotAddresses:i})),u.default.createElement("div",{"data-testid":v.HOME_PAGE.TOP_BAR_SETTINGS_DROPDOWN},u.default.createElement(rt,{displayArea:q,renderOption:({option:b})=>b?.type==="locking"?u.default.createElement(s.FlexBox,{align:s.ALIGN.center,"data-testid":`${v.HOME_PAGE.TOP_BAR_SETTINGS_DROPDOWN_ITEM}-${b.label}`},u.default.createElement(Tt,{className:w.locking,loaderStyle:{height:16,width:16}}),u.default.createElement(p.Text,{size:p.SIZE.sm,strong:500},C(b.label))):u.default.createElement(s.FlexBox,{align:s.ALIGN.center,"data-testid":`${v.HOME_PAGE.TOP_BAR_SETTINGS_DROPDOWN_ITEM}-${b?.label}`},u.default.createElement(E,{size:E.SIZE.xs,icon:b.icon,className:w.optionIcon}),u.default.createElement(p.Text,{size:p.SIZE.sm,strong:500},C(b.label))),hoverMode:!0,options:he,onChange:z,align:rt.DIRECTION.right})),u.default.createElement(fe,{visible:H,onClose:()=>Z(!1)}),u.default.createElement(s.FlexBox,{align:s.ALIGN.center,"data-testid":v.HOME_PAGE.NETWORKS},u.default.createElement(sr,null))))}));t();o();var y=m(k()),O=m($()),Ir=m(se()),xt=m(Ce());pe();Xt();t();o();var D={main:"_main_h9f95_1",header:"_header_h9f95_5",logo:"_logo_h9f95_5",dappName:"_dappName_h9f95_11",currentAccount:"_currentAccount_h9f95_15",title:"_title_h9f95_18",connectItem:"_connectItem_h9f95_21",connectItemTitleContainer:"_connectItemTitleContainer_h9f95_28",connectItemTitle:"_connectItemTitle_h9f95_28","connectItemTitle--enabled":"_connectItemTitle--enabled_h9f95_39",connectItemTitleEnabled:"_connectItemTitle--enabled_h9f95_39","connectItemTitle--expiring":"_connectItemTitle--expiring_h9f95_42",connectItemTitleExpiring:"_connectItemTitle--expiring_h9f95_42",disabled:"_disabled_h9f95_45","disable-message":"_disable-message_h9f95_54",disableMessage:"_disable-message_h9f95_54"};t();o();var fr=m(k()),xr=m($());t();o();Ht();var dr=[be,Ot,wt,kt,Bt,At,bt,Dt,Pt,Mt,Wt,Ft,at["ethereum-provider"],at["okx6963-provider"],Gt,Lt];var gr=e=>{let r=(0,xr.useSelector)(a=>We(a,e));return{allowChangeAccount:(0,fr.useMemo)(()=>dr.includes(r?.providerType??""),[r])}};var ft=null,Ur=({showBackup:e})=>{let r=(0,O.useDispatch)(),[n,a]=(0,y.useState)(!1),l=(0,O.useSelector)(Ao),c=(0,O.useSelector)(we),i=(0,O.useSelector)(ve),I=(0,Ir.useHistory)(),x=(0,O.useSelector)(h=>So(h,c)),d=(0,O.useSelector)(Io),T=(0,O.useSelector)(h=>Eo(h,d.origin)),_=(0,O.useSelector)(h=>Co(h,d.origin)),N=(0,O.useSelector)(ko),{isNotBackupWallet:S}=Do(),H=(0,O.useSelector)(h=>yo(h,d.origin)),Z=Bo({walletId:c,localType:H??""}),J=(0,O.useSelector)(h=>To(h,d.origin)),R=(0,y.useMemo)(()=>T.some(h=>h===c)?!1:J===ho?!0:!!Z?.address,[J,Z,T,c]),K=$o(c),{allowChangeAccount:ee}=gr(d.origin),{loadingMoonCatData:P}=fo();(0,y.useEffect)(()=>{if(!P&&(!ft||ft!==l)){if(ft=l,!d||!N||!K)return;if(S){e();return}a(N&&K)}},[d,N,x,l,S,K,e,P]);let _e=!n||!ee||!R,he=(0,y.useMemo)(()=>Object.keys(i),[i]),{data:ye=[]}=Fo(he,{ready:!_e&&he.length>0}),Ye=(0,y.useMemo)(()=>ye.reduce((h,z)=>(h[z.accountId]=z,h),{}),[ye]),Xe=()=>{Kt({dapp_url:d?.origin}),r(to(d?.origin,c)),a(!1)},te=({title:h,right:z,active:Ke=!1,disabled:qe,accountId:Qe})=>{let Te=Ye[Qe],q=null,b=!1;return Te&&(q=Fe(Te?.teeStatus),b=["enabled","expiring","expired"].includes(q)),y.default.createElement(s.FlexBox,{justify:"space-between",className:(0,xt.default)({[D.connectItem]:!0,[D.disabled]:qe}),align:s.ALIGN.center},y.default.createElement(s.FlexBox,{justify:"center",align:s.ALIGN.center,className:D.connectItemTitleContainer},y.default.createElement(p.Text,{strong:700,ellipsis:{tooltip:!0,rows:1},size:p.SIZE.md,className:(0,xt.default)(D.connectItemTitle,{[D["connectItemTitle--enabled"]]:q==="enabled"||q==="expiring"})},h),b&&y.default.createElement(Vo,{status:q}),Ke&&y.default.createElement(ke,{color:ke.COLOR.green,type:ke.TYPE.rounded},C("wallet_extension_mid_tag_active"))),z)},Re=async h=>{await r(eo(h)),await re().getChainsFromServerAndSyncToControllers(),I.push(co)};return _e?null:y.default.createElement(Ae.Action,{onClose:()=>{a(!1)},visible:!0,noTopRadius:!1,topStyle:{border:"none"},windowStyle:{overflow:"hidden",background:"var(--okd-color-container-primary)",height:"540px"},title:y.default.createElement(y.default.Fragment,null)},y.default.createElement("div",{className:D.main},y.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:D.header,direction:s.DIRECTION.vertical},y.default.createElement(Nt,{alt:"dapp-logo",className:D.logo,src:d.icon}),y.default.createElement(p.Text,{strong:700,size:p.SIZE.md,className:D.dappName},C("wallet_extension_top_title_current_unconnected",{dapp:d?.name||""}))),y.default.createElement("div",{className:D.currentAccount},y.default.createElement(p.Text,{type:p.TYPE.secondary,size:p.SIZE.xs,className:D.title},C("wallet_extension_header_subtitle_current_account")),te({title:l,disabled:!R,accountId:c,right:y.default.createElement(V,{category:V.CATEGORY.fill,type:V.TYPE.highlight,size:V.SIZE.xs,onClick:Xe,disabled:!R},C("wallet_extension_mid_btn_connect"))})),T.length>0&&y.default.createElement("div",{className:D.connectedAccount},y.default.createElement(p.Text,{type:p.TYPE.secondary,size:p.SIZE.xs,className:D.title},C("wallet_extension_header_subtitle_connected_account2",{wallet_extension_header_subtitle_connected_account2:T.length,num:T.length})),T.map(h=>{let z=i[h]||{};return te({title:`${z.keyringName} - ${z.walletName}`,active:_===h,accountId:h,right:y.default.createElement(V,{category:V.CATEGORY.outline,type:V.TYPE.primary,size:V.SIZE.xs,onClick:()=>Re(h)},C("wallet_extension_mid_btn_switch"))})}))))},Jl=Ur;t();o();var hr=m($()),yr=m(ro());wr();var Zr=()=>{let{currentNetworkUniqueId:e,isRpcMode:r,hasInitNetworkConfig:n}=io(),a=(0,hr.useDispatch)(),l=async(I,x)=>{await a(Uo({isRpcMode:I,currentNetworkUniqueId:x}))},c=async()=>{await l(!1,"")},i=async(I,x)=>{if(I)return(await so()).some(_=>_.uniqueId===x);let d=await Vt();return x===""||d.some(T=>String(T.chainId)===x)};(0,yr.useAsyncEffect)(async()=>{try{if(!n){await c();return}await i(r,e)||await c()}catch{}},[r,e,n])},ic=Zr;t();o();var me=m(k()),Er=m($()),Nr=m(Ce());yt();t();o();var Ie=m(k());var Tr=()=>{let[e,r]=(0,Ie.useState)("hidden"),n=(0,Ie.useCallback)(()=>{e!=="loading"&&r("show")},[e]),a=(0,Ie.useCallback)(()=>{e!=="loading"&&r("hidden")},[e]);return{status:e,setStatus:r,onMouseEnterCallback:n,onMouseLeaveCallback:a,handleOnAnimationEnd:()=>{r("hidden")}}};t();o();var ce={balanceWrapper:"_balanceWrapper_150zi_1","balanceWrapper--sticky":"_balanceWrapper--sticky_150zi_11",balanceWrapperSticky:"_balanceWrapper--sticky_150zi_11",refreshIcon:"_refreshIcon_150zi_14",balance:"_balance_150zi_1",refreshAnimation:"_refreshAnimation_150zi_33",refresh:"_refresh_150zi_14"};var Lc=({balance:e,className:r="",symbol:n,hiddenAssets:a,onToggleHiddenAssets:l,onRefresh:c})=>{let{status:i,setStatus:I,onMouseEnterCallback:x,onMouseLeaveCallback:d,handleOnAnimationEnd:T}=Tr(),_=(0,Er.useSelector)(jt),N=(0,me.useMemo)(()=>n?`${e} ${n}`:no(e,{currencySign:_,useApproximate:!1}).value,[n,e,_]);return me.default.createElement(s.FlexBox,{align:s.ALIGN.center,className:(0,Nr.default)(ce.balanceWrapper,r,{[ce.balanceWrapperSticky]:Se()!==Ne}),onClick:l,onMouseEnter:x,onMouseLeave:d,"data-testid":v.HOME_PAGE.TOTAL_ASSETS_BALANCE_WRAPPER},me.default.createElement(p.AdaptiveText,{strong:!0,autoSize:!0,ellipsis:{tooltip:!0},text:N,onAnimationEnd:T,className:`${ce.balance} ${i==="success"&&ce.refreshAnimation}`},a?$t:""),!a&&me.default.createElement(Zo,{className:ce.refreshIcon,status:i,handleRefresh:I,onRefresh:c}))};export{Rr as a,Ln as b,ea as c,ba as d,Za as e,ml as f,Jl as g,ic as h,Lc as i};
//# sourceMappingURL=chunk-MLHXJD6C.js.map
