import{a as P}from"./chunk-PQQFVOPL.js";import{b as L,h,n as R}from"./chunk-35ANKHOJ.js";import{Jb as y,Sb as S}from"./chunk-COF7YKSN.js";import{A as f,K as M}from"./chunk-VZKEX7KP.js";import{I as p}from"./chunk-BJKBO23H.js";import{b as K}from"./chunk-73B6GL3S.js";import{f as E,o as u,q as d}from"./chunk-Y5OH3DDZ.js";u();d();var t=E(K());M();R();S();function k({fromAddress:a,disabled:n,localType:w,inputData:m,createInputDataFn:e,upgradeAddress:r,isUpgrade7702:c}){let i=y({localType:w}),[x,s]=(0,t.useState)(!1),[_,v]=(0,t.useState)(null),l=i?.realChainIdHex;return(0,t.useEffect)(()=>{if(n){s(!1);return}s(!0),(async()=>{try{let{getRandomPrivateKey:C,getNewAddress:G}=await L(),o=await C(i?.coinType),{address:z}=await G(i?.coinType,{privateKey:o}),b=e?await e({address:z,privateKey:o}):m,g={from:a,to:a,value:"0",data:b,authorizationList:[],stateOverrideList:[{address:a,code:c?`0xef0100${r.substring(2).toLowerCase()}`:"0x"}]},I={privateKey:o,data:{chainId:l,address:r,nonce:P(1)}},{EthWallet:T}=await h(),A=await new T().signAuthorizationListItemForRPC(I);g.authorizationList=[A],v(g),s(!1)}catch{p.error({title:f("wallet_extension_general_error_extension_code_error")})}})()},[a,n,m,e,l,r,i?.coinType,c]),{gasLimitParams:_,loading:x}}var j=k;export{j as a};
//# sourceMappingURL=chunk-YVVEDZW4.js.map
