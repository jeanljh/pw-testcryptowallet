import{a as A}from"./chunk-ZZ5BEB5E.js";import{O as S}from"./chunk-OQUE64GQ.js";import{n as D}from"./chunk-7HYQ2DGP.js";import{Na as K}from"./chunk-2QHGKEME.js";import{G as d,J as _}from"./chunk-WU2LB6XB.js";import{j as O,q as G}from"./chunk-NUN72MDU.js";import{c as I,e as B}from"./chunk-EN2WHAVL.js";import{E as C,J as L,Q as r,S as c,Y as l,ka as W,mc as m,nc as b}from"./chunk-COF7YKSN.js";import{A as a,K as v}from"./chunk-VZKEX7KP.js";import{b as k}from"./chunk-73B6GL3S.js";import{f as h,o as u,q as g}from"./chunk-Y5OH3DDZ.js";u();g();var i=h(k()),N=h(K());v();B();G();L();b();W();var F=({unapproved:f,network:s,providerType:e})=>{let w="eth_chainId",{origin:p,id:M}=f,P=A(f),[T,R]=(0,i.useState)(!0),E=(0,N.useDispatch)(),V=S({handleCancel:async()=>{await E(D(M)),await O(E)}}),y=[{btnLayout:"vertical",image:{light:"/cdn/assets/imgs/254/1A753CC7A4597254.png",dark:"/cdn/assets/imgs/254/8FE5EBEDCD07371B.png"},title:a("wallet_extension_header_title_transaction_risk"),descRaw:a("wallet_extension_approval_subtitle_dapp_wrong_network",{network:s,dapp:P.name}),highlightBtnText:a("wallet_extension_mid_btn_cancel_transaction"),grayBtnText:a("wallet_extension_approval_btn_correct_network"),evtType:"chainId-screen-1"}],H=async()=>{let o,n,t=await I().getChainIdHandleRecords();try{if(e===r&&(o=t?.evm?.[w],n=t?.evm?.[C.SWITCH_ETHEREUM_CHAIN]),e===c&&(o=t?.svm?.[d.GET_NETWORK],n=t?.svm?.[d.CHANGE_NETWORK]),e===l&&(o=t?.[m.AVM]?.[_.NETWORK],n=t?.[m.AVM]?.[_.CHANGE_NETWORK]),n?.origin===p||o?.origin===p&&o?.lastTimestamp>=(n?.lastTimestamp||0))return;await V(y)}catch{}finally{R(!1)}},x=[r,c,l];return(0,i.useEffect)(()=>{if(!x.includes(e)){R(!1);return}s&&H()},[s,e]),{loading:T}},at=F;export{at as a};
//# sourceMappingURL=chunk-GRN4OI4B.js.map
