import{a as Sp}from"./chunk-RQWEJ5N6.js";import{a as Tp}from"./chunk-OJXBW2YQ.js";import{a as Bp}from"./chunk-4YOOCWNJ.js";import{a as El}from"./chunk-Z2AIGJGI.js";import{b as mc,d as Ht}from"./chunk-SLQQVCPY.js";import{b as Bl,d as er}from"./chunk-ZRVP4J67.js";import{k as Ep}from"./chunk-C5XO4JMZ.js";import{b as xp,d as Rn,o as wp,p as mp,r as vp}from"./chunk-HI3LE734.js";import{d as Aa}from"./chunk-RX4V72AK.js";import{a as vl,b as wr,c as D,d as Sa,f as pp,g as wc,n as process,o as b,p as y,q as p}from"./chunk-Y5OH3DDZ.js";var vc=D(ue=>{b();p();Object.defineProperty(ue,"__esModule",{value:!0});ue.BIGINT_2EXP256=ue.BIGINT_2EXP224=ue.BIGINT_2EXP160=ue.BIGINT_2EXP96=ue.BIGINT_224=ue.BIGINT_160=ue.BIGINT_100=ue.BIGINT_96=ue.BIGINT_256=ue.BIGINT_255=ue.BIGINT_128=ue.BIGINT_64=ue.BIGINT_32=ue.BIGINT_31=ue.BIGINT_28=ue.BIGINT_27=ue.BIGINT_8=ue.BIGINT_7=ue.BIGINT_3=ue.BIGINT_2=ue.BIGINT_1=ue.BIGINT_0=ue.BIGINT_NEG1=ue.MAX_UINT64_BI=ue.MAX_UINT64=ue.MAX_INTEGER_BI=ue.MAX_INTEGER=void 0;var rT=Aa().Buffer,Tl=Ht();ue.MAX_INTEGER=new Tl.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);ue.MAX_INTEGER_BI=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");ue.MAX_UINT64=new Tl.BN("ffffffffffffffff",16);ue.MAX_UINT64_BI=BigInt("0xffffffffffffffff");ue.BIGINT_NEG1=BigInt(-1);ue.BIGINT_0=BigInt(0);ue.BIGINT_1=BigInt(1);ue.BIGINT_2=BigInt(2);ue.BIGINT_3=BigInt(3);ue.BIGINT_7=BigInt(7);ue.BIGINT_8=BigInt(8);ue.BIGINT_27=BigInt(27);ue.BIGINT_28=BigInt(28);ue.BIGINT_31=BigInt(31);ue.BIGINT_32=BigInt(32);ue.BIGINT_64=BigInt(64);ue.BIGINT_128=BigInt(128);ue.BIGINT_255=BigInt(255);ue.BIGINT_256=BigInt(256);ue.BIGINT_96=BigInt(96);ue.BIGINT_100=BigInt(100);ue.BIGINT_160=BigInt(160);ue.BIGINT_224=BigInt(224);ue.BIGINT_2EXP96=BigInt(7922816251426434e13);ue.BIGINT_2EXP160=BigInt(1461501637330903e33);ue.BIGINT_2EXP224=BigInt(2695994666715064e52);ue.BIGINT_2EXP256=ue.BIGINT_2**ue.BIGINT_256});var Ic=D(zr=>{b();p();Object.defineProperty(zr,"__esModule",{value:!0});zr.stripHexPrefix=zr.isHexPrefixed=zr.getLength=zr.decode=zr.encode=void 0;var Ap=Ht();function Al(e){if(Array.isArray(e)){let t=[];for(let n=0;n<e.length;n++)t.push(Al(e[n]));let r=y.Buffer.concat(t);return y.Buffer.concat([Sl(r.length,192),r])}else{let t=Ac(e);return t.length===1&&t[0]<128?t:y.Buffer.concat([Sl(t.length,128),t])}}zr.encode=Al;function Ec(e,t){if(e[0]==="0"&&e[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function Sl(e,t){if(e<56)return y.Buffer.from([e+t]);{let r=Tc(e),n=r.length/2,i=Tc(t+55+n);return y.Buffer.from(i+r,"hex")}}function Ip(e,t=!1){if(!e||e.length===0)return y.Buffer.from([]);let r=Ac(e),n=Bc(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}zr.decode=Ip;function Pp(e){if(!e||e.length===0)return y.Buffer.from([]);let t=Ac(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;{let n=r-246,i=Ec(t.slice(1,n).toString("hex"),16);return n+i}}zr.getLength=Pp;function Bc(e){let t,r,n,i,o,a=[],f=e[0];if(f<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(f<=183){if(t=f-127,f===128?n=y.Buffer.from([]):n=e.slice(1,t),t===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:e.slice(t)}}else if(f<=191){if(r=f-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Ec(e.slice(1,r).toString("hex"),16),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=e.slice(r,t+r),n.length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:e.slice(t+r)}}else if(f<=247){for(t=f-191,i=e.slice(1,t);i.length;)o=Bc(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(t)}}else{r=f-246,t=Ec(e.slice(1,r).toString("hex"),16);let d=r+t;if(d>e.length)throw new Error("invalid rlp: total length is larger than the data");if(i=e.slice(r,d),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)o=Bc(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(d)}}}function Sc(e){return e.slice(0,2)==="0x"}zr.isHexPrefixed=Sc;function Il(e){return typeof e!="string"?e:Sc(e)?e.slice(2):e}zr.stripHexPrefix=Il;function Tc(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t}function Lp(e){return e.length%2?`0${e}`:e}function kp(e){let t=Tc(e);return y.Buffer.from(t,"hex")}function Ac(e){if(!y.Buffer.isBuffer(e)){if(typeof e=="string")return Sc(e)?y.Buffer.from(Lp(Il(e)),"hex"):y.Buffer.from(e);if(typeof e=="number"||typeof e=="bigint")return e?kp(e):y.Buffer.from([]);if(e==null)return y.Buffer.from([]);if(e instanceof Uint8Array)return y.Buffer.from(e);if(Ap.BN.isBN(e))return y.Buffer.from(e.toArray());throw new Error("invalid type")}return e}});var Oo=D(xt=>{b();p();Object.defineProperty(xt,"__esModule",{value:!0});xt.numberToBuffer=xt.isHexString=xt.getKeys=xt.fromAscii=xt.fromUtf8=xt.toAscii=xt.toUtf8=xt.getBinarySize=xt.intToBuffer=xt.intToHex=xt.padToEven=void 0;var Op=Ht();function Ia(e){let t=e;if(typeof t!="string")throw new Error(`[ethjs-util] while padding to even, value must be string, is currently ${typeof t}, while padToEven.`);return t.length%2&&(t=`0${t}`),t}xt.padToEven=Ia;function Pl(e){return`0x${e.toString(16)}`}xt.intToHex=Pl;function Np(e){let t=Pl(e);return y.Buffer.from(Ia(t.slice(2)),"hex")}xt.intToBuffer=Np;function Cp(e){if(typeof e!="string")throw new Error(`[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '${typeof e}'.`);return y.Buffer.byteLength(e,"utf8")}xt.getBinarySize=Cp;function Hp(e){return new y.Buffer(Ia(Op.base.stripHexPrefix(e).replace(/(^0+)|(0+$)/g,"")),"hex").toString("utf8")}xt.toUtf8=Hp;function Up(e){var t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){let i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}xt.toAscii=Up;function Mp(e){let t=new y.Buffer(e,"utf8");return`0x${Ia(t.toString("hex")).replace(/(^0+)|(0+$)/g,"")}`}xt.fromUtf8=Mp;function Rp(e){for(var t="",r=0;r<e.length;r++){let i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}xt.fromAscii=Rp;function jp(e,t,r){if(!Array.isArray(e))throw new Error(`[ethjs-util] method getKeys expecting type Array as 'params' input, got '${typeof e}'`);if(typeof t!="string")throw new Error(`[ethjs-util] method getKeys expecting type String for input 'key' got '${typeof t}'.`);for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}xt.getKeys=jp;function qp(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}xt.isHexString=qp;function Dp(e){let t=e.toString(16),r=t.length%2?"0":"";return y.Buffer.from(r+t,"hex")}xt.numberToBuffer=Dp});var _s=D($r=>{b();p();Object.defineProperty($r,"__esModule",{value:!0});$r.assertIsBytes=$r.assertIsString=$r.assertIsArray=$r.assertIsBuffer=$r.assertIsHexString=void 0;var zp=Oo(),$p=function(e){if(!(0,zp.isHexString)(e)){let t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};$r.assertIsHexString=$p;var Vp=function(e){if(!y.Buffer.isBuffer(e)){let t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};$r.assertIsBuffer=Vp;var Gp=function(e){if(!Array.isArray(e)){let t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};$r.assertIsArray=Gp;var Fp=function(e){if(typeof e!="string"){let t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};$r.assertIsString=Fp;var Zp=function(e){if(!(e instanceof Uint8Array)){let t=`This method only supports Uint8Array but input was: ${e}`;throw new Error(t)}};$r.assertIsBytes=Zp});var Pa=D($t=>{b();p();var Kp=$t&&$t.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wp=$t&&$t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Yp=$t&&$t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Kp(t,e,r);return Wp(t,e),t};Object.defineProperty($t,"__esModule",{value:!0});$t.rlphash=$t.keccakFromString=$t.keccak256=$t.keccak=void 0;var Xp=Yp(Ic()),Jp=_s(),Qp=Ht(),ex=Aa();$t.keccak=Qp.base.keccak;var tx=function(e){return(0,$t.keccak)(e,256)};$t.keccak256=tx;var rx=function(e,t=256){(0,Jp.assertIsString)(e);let r=ex.Buffer.from(e,"utf8");return(0,$t.keccak)(r,t)};$t.keccakFromString=rx;var nx=function(e){return(0,$t.keccak)(Xp.encode(e))};$t.rlphash=nx});var Ul=D(Qe=>{b();p();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.notImplemented=Qe.bitMask=void 0;Qe.isBytes=Oa;Qe.abytes=Na;Qe.abool=ox;Qe.bytesToHex=kc;Qe.numberToHexUnpadded=Ol;Qe.hexToNumber=Oc;Qe.hexToBytes=Ca;Qe.bytesToNumberBE=ax;Qe.bytesToNumberLE=fx;Qe.numberToBytesBE=Nl;Qe.numberToBytesLE=cx;Qe.numberToVarBytesBE=ux;Qe.ensureBytes=dx;Qe.concatBytes=Cl;Qe.equalBytes=lx;Qe.utf8ToBytes=hx;Qe.inRange=Hl;Qe.aInRange=gx;Qe.bitLen=_x;Qe.bitGet=yx;Qe.bitSet=bx;Qe.createHmacDrbg=xx;Qe.validateObject=mx;Qe.memoized=Ex;var La=BigInt(0),ka=BigInt(1),ix=BigInt(2);function Oa(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Na(e){if(!Oa(e))throw new Error("Uint8Array expected")}function ox(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}var sx=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function kc(e){Na(e);let t="";for(let r=0;r<e.length;r++)t+=sx[e[r]];return t}function Ol(e){let t=e.toString(16);return t.length&1?"0"+t:t}function Oc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?La:BigInt("0x"+e)}var jn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Ll(e){if(e>=jn._0&&e<=jn._9)return e-jn._0;if(e>=jn.A&&e<=jn.F)return e-(jn.A-10);if(e>=jn.a&&e<=jn.f)return e-(jn.a-10)}function Ca(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=Ll(e.charCodeAt(o)),f=Ll(e.charCodeAt(o+1));if(a===void 0||f===void 0){let d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=a*16+f}return n}function ax(e){return Oc(kc(e))}function fx(e){return Na(e),Oc(kc(Uint8Array.from(e).reverse()))}function Nl(e,t){return Ca(e.toString(16).padStart(t*2,"0"))}function cx(e,t){return Nl(e,t).reverse()}function ux(e){return Ca(Ol(e))}function dx(e,t,r){let n;if(typeof t=="string")try{n=Ca(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Oa(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Cl(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];Na(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}function lx(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function hx(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}var Pc=e=>typeof e=="bigint"&&La<=e;function Hl(e,t,r){return Pc(e)&&Pc(t)&&Pc(r)&&t<=e&&e<r}function gx(e,t,r,n){if(!Hl(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function _x(e){let t;for(t=0;e>La;e>>=ka,t+=1);return t}function yx(e,t){return e>>BigInt(t)&ka}function bx(e,t,r){return e|(r?ka:La)<<BigInt(t)}var px=e=>(ix<<BigInt(e-1))-ka;Qe.bitMask=px;var Lc=e=>new Uint8Array(e),kl=e=>Uint8Array.from(e);function xx(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Lc(e),i=Lc(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},f=(...w)=>r(i,n,...w),d=(w=Lc())=>{i=f(kl([0]),w),n=f(),w.length!==0&&(i=f(kl([1]),w),n=f())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let w=0,E=[];for(;w<t;){n=f();let m=n.slice();E.push(m),w+=n.length}return Cl(...E)};return(w,E)=>{a(),d(w);let m;for(;!(m=E(u()));)d();return a(),m}}var wx={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Oa(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function mx(e,t,r={}){let n=(i,o,a)=>{let f=wx[o];if(typeof f!="function")throw new Error("invalid validator function");let d=e[i];if(!(a&&d===void 0)&&!f(d,e))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+d)};for(let[i,o]of Object.entries(t))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return e}var vx=()=>{throw new Error("not implemented")};Qe.notImplemented=vx;function Ex(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(i!==void 0)return i;let o=e(r,...n);return t.set(r,o),o}}});var Cc=D(Fi=>{b();p();Object.defineProperty(Fi,"__esModule",{value:!0});Fi.anumber=Nc;Fi.abytes=Ml;Fi.ahash=Tx;Fi.aexists=Sx;Fi.aoutput=Ax;function Nc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Bx(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ml(e,...t){if(!Bx(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Tx(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nc(e.outputLen),Nc(e.blockLen)}function Sx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ax(e,t){Ml(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var Rl=D(Ha=>{b();p();Object.defineProperty(Ha,"__esModule",{value:!0});Ha.crypto=void 0;Ha.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Rc=D(Ye=>{b();p();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.Hash=Ye.nextTick=Ye.byteSwapIfBE=Ye.isLE=void 0;Ye.isBytes=Ix;Ye.u8=Px;Ye.u32=Lx;Ye.createView=kx;Ye.rotr=Ox;Ye.rotl=Nx;Ye.byteSwap=Mc;Ye.byteSwap32=Cx;Ye.bytesToHex=Ux;Ye.hexToBytes=Mx;Ye.asyncLoop=jx;Ye.utf8ToBytes=ql;Ye.toBytes=Ua;Ye.concatBytes=qx;Ye.checkOpts=Dx;Ye.wrapConstructor=zx;Ye.wrapConstructorWithOpts=$x;Ye.wrapXOFConstructorWithOpts=Vx;Ye.randomBytes=Gx;var No=Rl(),Uc=Cc();function Ix(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Px(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Lx(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function kx(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ox(e,t){return e<<32-t|e>>>t}function Nx(e,t){return e<<t|e>>>32-t>>>0}Ye.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();function Mc(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}Ye.byteSwapIfBE=Ye.isLE?e=>e:e=>Mc(e);function Cx(e){for(let t=0;t<e.length;t++)e[t]=Mc(e[t])}var Hx=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ux(e){(0,Uc.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=Hx[e[r]];return t}var qn={_0:48,_9:57,A:65,F:70,a:97,f:102};function jl(e){if(e>=qn._0&&e<=qn._9)return e-qn._0;if(e>=qn.A&&e<=qn.F)return e-(qn.A-10);if(e>=qn.a&&e<=qn.f)return e-(qn.a-10)}function Mx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=jl(e.charCodeAt(o)),f=jl(e.charCodeAt(o+1));if(a===void 0||f===void 0){let d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=a*16+f}return n}var Rx=async()=>{};Ye.nextTick=Rx;async function jx(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,Ye.nextTick)(),n+=o)}}function ql(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Ua(e){return typeof e=="string"&&(e=ql(e)),(0,Uc.abytes)(e),e}function qx(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,Uc.abytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Hc=class{clone(){return this._cloneInto()}};Ye.Hash=Hc;function Dx(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function zx(e){let t=n=>e().update(Ua(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function $x(e){let t=(n,i)=>e(i).update(Ua(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Vx(e){let t=(n,i)=>e(i).update(Ua(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Gx(e=32){if(No.crypto&&typeof No.crypto.getRandomValues=="function")return No.crypto.getRandomValues(new Uint8Array(e));if(No.crypto&&typeof No.crypto.randomBytes=="function")return No.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}});var zl=D(Ut=>{b();p();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.assertBytes=Ut.assertBool=Ut.utf8ToBytes=Ut.toHex=Ut.createView=Ut.concatBytes=Ut.bytesToHex=void 0;Ut.bytesToUtf8=Kx;Ut.hexToBytes=Wx;Ut.equalsBytes=Yx;Ut.wrapHash=Xx;var Fx=Ul();Object.defineProperty(Ut,"assertBool",{enumerable:!0,get:function(){return Fx.abool}});var Dl=Cc();Object.defineProperty(Ut,"assertBytes",{enumerable:!0,get:function(){return Dl.abytes}});var Zx=Rc(),ys=Rc();Object.defineProperty(Ut,"bytesToHex",{enumerable:!0,get:function(){return ys.bytesToHex}});Object.defineProperty(Ut,"concatBytes",{enumerable:!0,get:function(){return ys.concatBytes}});Object.defineProperty(Ut,"createView",{enumerable:!0,get:function(){return ys.createView}});Object.defineProperty(Ut,"toHex",{enumerable:!0,get:function(){return ys.bytesToHex}});Object.defineProperty(Ut,"utf8ToBytes",{enumerable:!0,get:function(){return ys.utf8ToBytes}});function Kx(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}function Wx(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,Zx.hexToBytes)(t)}function Yx(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Xx(e){return t=>((0,Dl.abytes)(t),e(t))}});var ps=D(Se=>{b();p();Object.defineProperty(Se,"__esModule",{value:!0});Se.bytesToBigInt=Se.validateNoLeadingZeroes=Se.concatBytes=Se.unpadBytes=Se.bytesToHex=Se.hexToBytes=Se.addHexPrefix=Se.toUnsigned=Se.fromSigned=Se.bufferToHex=Se.toBuffer=Se.unpadArray=Se.unpadBuffer=Se.stripZeros=Se.setLengthLeft=Se.zeros=Se.bytesToUnprefixedHex=void 0;var bs=Ht(),Ma=Oo(),Ra=_s(),$l=zl(),Jx=vc();Se.bytesToUnprefixedHex=$l.bytesToHex;var Qx=function(e){return y.Buffer.allocUnsafe(e).fill(0)};Se.zeros=Qx;var e1=function(e,t,r){let n=(0,Se.zeros)(t);return r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)},t1=function(e,t){return(0,Ra.assertIsBuffer)(e),e1(e,t,!1)};Se.setLengthLeft=t1;var r1=function(e){let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e};Se.stripZeros=r1;var n1=function(e){return(0,Ra.assertIsBuffer)(e),(0,Se.stripZeros)(e)};Se.unpadBuffer=n1;var i1=function(e){return(0,Ra.assertIsArray)(e),(0,Se.stripZeros)(e)};Se.unpadArray=i1;var o1=function(e){if(e==null)return y.Buffer.allocUnsafe(0);if(y.Buffer.isBuffer(e))return y.Buffer.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return y.Buffer.from(e);if(typeof e=="string"){if(!(0,Ma.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return y.Buffer.from((0,Ma.padToEven)(bs.base.stripHexPrefix(e)),"hex")}if(typeof e=="number")return(0,Ma.intToBuffer)(e);if(bs.BN.isBN(e))return e.toArrayLike(y.Buffer);if(e.toArray)return y.Buffer.from(e.toArray());if(e.toBuffer)return y.Buffer.from(e.toBuffer());throw new Error("invalid type")};Se.toBuffer=o1;var s1=function(e){return e=(0,Se.toBuffer)(e),"0x"+e.toString("hex")};Se.bufferToHex=s1;var a1=function(e){return new bs.BN(e).fromTwos(256)};Se.fromSigned=a1;var f1=function(e){return y.Buffer.from(e.toTwos(256).toArray())};Se.toUnsigned=f1;var c1=function(e){return typeof e!="string"||bs.base.isHexPrefixed(e)?e:"0x"+e};Se.addHexPrefix=c1;var u1=e=>{if(!e.startsWith("0x"))throw new Error("input string must be 0x prefixed");return(0,$l.hexToBytes)((0,Ma.padToEven)(bs.base.stripHexPrefix(e)))};Se.hexToBytes=u1;var d1=e=>e===void 0||e.length===0?"0x":"0x"+(0,Se.bytesToUnprefixedHex)(e);Se.bytesToHex=d1;var l1=e=>((0,Ra.assertIsBytes)(e),(0,Se.stripZeros)(e));Se.unpadBytes=l1;var h1=(...e)=>{if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r};Se.concatBytes=h1;var g1=e=>{for(let[t,r]of Object.entries(e))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${(0,Se.bytesToHex)(r)}`)};Se.validateNoLeadingZeroes=g1;var jc=[];for(let e=0;e<=256*256-1;e++)jc[e]=BigInt(e);var _1=(e,t=!1)=>{t&&e.reverse();let r=(0,Se.bytesToHex)(e);return r==="0x"?Jx.BIGINT_0:r.length===4?jc[e[0]]:r.length===6?jc[e[0]*256+e[1]]:BigInt(r)};Se.bytesToBigInt=_1});var qa=D(Hr=>{b();p();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.toType=Hr.TypeOutput=Hr.bnToRlp=Hr.bnToUnpaddedBuffer=Hr.bnToHex=void 0;var qc=Ht(),y1=Oo(),Dc=ps();function b1(e){return`0x${e.toString(16)}`}Hr.bnToHex=b1;function p1(e){return(0,Dc.unpadBuffer)(e.toArrayLike(y.Buffer))}Hr.bnToUnpaddedBuffer=p1;function x1(e){return(0,Dc.unpadBuffer)(e.toArrayLike(y.Buffer))}Hr.bnToRlp=x1;var ja;(function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"})(ja=Hr.TypeOutput||(Hr.TypeOutput={}));function w1(e,t){if(typeof e=="string"&&!(0,y1.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");if(e=(0,Dc.toBuffer)(e),t===ja.Buffer)return e;if(t===ja.BN)return new qc.BN(e);if(t===ja.Number){let r=new qc.BN(e),n=new qc.BN(Number.MAX_SAFE_INTEGER.toString());if(r.gt(n))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return r.toNumber()}else return`0x${e.toString("hex")}`}Hr.toType=w1});var $c=D(Ot=>{b();p();var m1=Ot&&Ot.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.privateToAddress=Ot.privateToPublicRaw=Ot.privateToPublic=Ot.publicToAddress=Ot.pubToAddress=Ot.toChecksumAddress=Ot.isValidAddress=void 0;var v1=m1(El()),E1=Ht(),zc=mc(),Gl=Pa(),xs=_s(),Vl=qa(),B1=function(e){return(0,xs.assertIsHexString)(e),/^0x[0-9a-fA-F]{40}$/.test(e)};Ot.isValidAddress=B1;var T1=function(e,t){(0,xs.assertIsHexString)(e);let r=E1.base.stripHexPrefix(e).toLowerCase(),n="";t&&(n=(0,Vl.toType)(t,Vl.TypeOutput.BN).toString()+"0x");let i=(0,Gl.keccakFromString)(n+r).toString("hex"),o="0x";for(let a=0;a<r.length;a++)parseInt(i[a],16)>=8?o+=r[a].toUpperCase():o+=r[a];return o};Ot.toChecksumAddress=T1;var S1=function(e,t=!1){if((0,xs.assertIsBuffer)(e),t&&e.length!==64){let r=zc.signUtil.secp256k1.publicKeyConvert(e,!1);e=y.Buffer.from(r.slice(1))}return(0,v1.default)(e.length===64),(0,Gl.keccak)(e).slice(-20)};Ot.pubToAddress=S1;Ot.publicToAddress=Ot.pubToAddress;var A1=function(e){return(0,xs.assertIsBuffer)(e),zc.signUtil.secp256k1.publicKeyCreate(e,!1).slice(1)};Ot.privateToPublic=A1;var I1=function(e){return(0,xs.assertIsBuffer)(e),zc.signUtil.secp256k1.publicKeyCreate(e,!1)};Ot.privateToPublicRaw=I1;var P1=function(e){return(0,Ot.publicToAddress)((0,Ot.privateToPublic)(e))};Ot.privateToAddress=P1});var Zl=D(za=>{b();p();Object.defineProperty(za,"__esModule",{value:!0});za.Address=void 0;var Da=El(),Fl=ps(),Vc=$c(),Dn=class{constructor(t){Da(t.length===20,"Invalid address length"),this.buf=t}static zero(){return new Dn((0,Fl.zeros)(20))}static fromString(t){return Da((0,Vc.isValidAddress)(t),"Invalid address"),new Dn((0,Fl.toBuffer)(t))}static fromPublicKey(t){Da(y.Buffer.isBuffer(t),"Public key should be Buffer");let r=(0,Vc.pubToAddress)(t);return new Dn(r)}static fromPrivateKey(t){Da(y.Buffer.isBuffer(t),"Private key should be Buffer");let r=(0,Vc.privateToAddress)(t);return new Dn(r)}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(Dn.zero())}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return y.Buffer.from(this.buf)}};za.Address=Dn});var Wl=D(($a,Kl)=>{b();p();(function(e,t){typeof $a=="object"&&typeof Kl<"u"?t($a):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.Superstruct={}))})($a,function(e){"use strict";class t extends TypeError{constructor(B,A){let C,{message:Q,explanation:pe,...Ke}=B,{path:ut}=B,ft=ut.length===0?Q:`At path: ${ut.join(".")} -- ${Q}`;super(pe??ft),pe!=null&&(this.cause=ft),Object.assign(this,Ke),this.name=this.constructor.name,this.failures=()=>C??(C=[B,...A()])}}function r(v){return n(v)&&typeof v[Symbol.iterator]=="function"}function n(v){return typeof v=="object"&&v!=null}function i(v){if(Object.prototype.toString.call(v)!=="[object Object]")return!1;let B=Object.getPrototypeOf(v);return B===null||B===Object.prototype}function o(v){return typeof v=="symbol"?v.toString():typeof v=="string"?JSON.stringify(v):`${v}`}function a(v){let{done:B,value:A}=v.next();return B?void 0:A}function f(v,B,A,C){if(v===!0)return;v===!1?v={}:typeof v=="string"&&(v={message:v});let{path:Q,branch:pe}=B,{type:Ke}=A,{refinement:ut,message:ft=`Expected a value of type \`${Ke}\`${ut?` with refinement \`${ut}\``:""}, but received: \`${o(C)}\``}=v;return{value:C,type:Ke,refinement:ut,key:Q[Q.length-1],path:Q,branch:pe,...v,message:ft}}function*d(v,B,A,C){r(v)||(v=[v]);for(let Q of v){let pe=f(Q,B,A,C);pe&&(yield pe)}}function*u(v,B,A={}){let{path:C=[],branch:Q=[v],coerce:pe=!1,mask:Ke=!1}=A,ut={path:C,branch:Q};if(pe&&(v=B.coercer(v,ut),Ke&&B.type!=="type"&&n(B.schema)&&n(v)&&!Array.isArray(v)))for(let tt in v)B.schema[tt]===void 0&&delete v[tt];let ft="valid";for(let tt of B.validator(v,ut))tt.explanation=A.message,ft="not_valid",yield[tt,void 0];for(let[tt,Wt,Lo]of B.entries(v,ut)){let Vi=u(Wt,Lo,{path:tt===void 0?C:[...C,tt],branch:tt===void 0?Q:[...Q,Wt],coerce:pe,mask:Ke,message:A.message});for(let _n of Vi)_n[0]?(ft=_n[0].refinement!=null?"not_refined":"not_valid",yield[_n[0],void 0]):pe&&(Wt=_n[1],tt===void 0?v=Wt:v instanceof Map?v.set(tt,Wt):v instanceof Set?v.add(Wt):n(v)&&(Wt!==void 0||tt in v)&&(v[tt]=Wt))}if(ft!=="not_valid")for(let tt of B.refiner(v,ut))tt.explanation=A.message,ft="not_refined",yield[tt,void 0];ft==="valid"&&(yield[void 0,v])}class g{constructor(B){let{type:A,schema:C,validator:Q,refiner:pe,coercer:Ke=ft=>ft,entries:ut=function*(){}}=B;this.type=A,this.schema=C,this.entries=ut,this.coercer=Ke,Q?this.validator=(ft,tt)=>{let Wt=Q(ft,tt);return d(Wt,tt,this,ft)}:this.validator=()=>[],pe?this.refiner=(ft,tt)=>{let Wt=pe(ft,tt);return d(Wt,tt,this,ft)}:this.refiner=()=>[]}assert(B,A){return w(B,this,A)}create(B,A){return E(B,this,A)}is(B){return P(B,this)}mask(B,A){return m(B,this,A)}validate(B,A={}){return S(B,this,A)}}function w(v,B,A){let C=S(v,B,{message:A});if(C[0])throw C[0]}function E(v,B,A){let C=S(v,B,{coerce:!0,message:A});if(C[0])throw C[0];return C[1]}function m(v,B,A){let C=S(v,B,{coerce:!0,mask:!0,message:A});if(C[0])throw C[0];return C[1]}function P(v,B){return!S(v,B)[0]}function S(v,B,A={}){let C=u(v,B,A),Q=a(C);return Q[0]?[new t(Q[0],function*(){for(let Ke of C)Ke[0]&&(yield Ke[0])}),void 0]:[void 0,Q[1]]}function k(...v){let B=v[0].type==="type",A=v.map(Q=>Q.schema),C=Object.assign({},...A);return B?Nr(C):ye(C)}function L(v,B){return new g({type:v,schema:null,validator:B})}function H(v,B){return new g({...v,refiner:(A,C)=>A===void 0||v.refiner(A,C),validator(A,C){return A===void 0?!0:(B(A,C),v.validator(A,C))}})}function q(v){return new g({type:"dynamic",schema:null,*entries(B,A){yield*v(B,A).entries(B,A)},validator(B,A){return v(B,A).validator(B,A)},coercer(B,A){return v(B,A).coercer(B,A)},refiner(B,A){return v(B,A).refiner(B,A)}})}function U(v){let B;return new g({type:"lazy",schema:null,*entries(A,C){B??(B=v()),yield*B.entries(A,C)},validator(A,C){return B??(B=v()),B.validator(A,C)},coercer(A,C){return B??(B=v()),B.coercer(A,C)},refiner(A,C){return B??(B=v()),B.refiner(A,C)}})}function Z(v,B){let{schema:A}=v,C={...A};for(let Q of B)delete C[Q];switch(v.type){case"type":return Nr(C);default:return ye(C)}}function K(v){let B=v instanceof g,A=B?{...v.schema}:{...v};for(let C in A)A[C]=Tt(A[C]);return B&&v.type==="type"?Nr(A):ye(A)}function $(v,B){let{schema:A}=v,C={};for(let Q of B)C[Q]=A[Q];switch(v.type){case"type":return Nr(C);default:return ye(C)}}function te(v,B){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),L(v,B)}function be(){return L("any",()=>!0)}function X(v){return new g({type:"array",schema:v,*entries(B){if(v&&Array.isArray(B))for(let[A,C]of B.entries())yield[A,C,v]},coercer(B){return Array.isArray(B)?B.slice():B},validator(B){return Array.isArray(B)||`Expected an array value, but received: ${o(B)}`}})}function le(){return L("bigint",v=>typeof v=="bigint")}function ct(){return L("boolean",v=>typeof v=="boolean")}function pt(){return L("date",v=>v instanceof Date&&!isNaN(v.getTime())||`Expected a valid \`Date\` object, but received: ${o(v)}`)}function Qt(v){let B={},A=v.map(C=>o(C)).join();for(let C of v)B[C]=C;return new g({type:"enums",schema:B,validator(C){return v.includes(C)||`Expected one of \`${A}\`, but received: ${o(C)}`}})}function F(){return L("func",v=>typeof v=="function"||`Expected a function, but received: ${o(v)}`)}function W(v){return L("instance",B=>B instanceof v||`Expected a \`${v.name}\` instance, but received: ${o(B)}`)}function _e(){return L("integer",v=>typeof v=="number"&&!isNaN(v)&&Number.isInteger(v)||`Expected an integer, but received: ${o(v)}`)}function Re(v){return new g({type:"intersection",schema:null,*entries(B,A){for(let C of v)yield*C.entries(B,A)},*validator(B,A){for(let C of v)yield*C.validator(B,A)},*refiner(B,A){for(let C of v)yield*C.refiner(B,A)}})}function Ze(v){let B=o(v),A=typeof v;return new g({type:"literal",schema:A==="string"||A==="number"||A==="boolean"?v:null,validator(C){return C===v||`Expected the literal \`${B}\`, but received: ${o(C)}`}})}function Nt(v,B){return new g({type:"map",schema:null,*entries(A){if(v&&B&&A instanceof Map)for(let[C,Q]of A.entries())yield[C,C,v],yield[C,Q,B]},coercer(A){return A instanceof Map?new Map(A):A},validator(A){return A instanceof Map||`Expected a \`Map\` object, but received: ${o(A)}`}})}function Ct(){return L("never",()=>!1)}function at(v){return new g({...v,validator:(B,A)=>B===null||v.validator(B,A),refiner:(B,A)=>B===null||v.refiner(B,A)})}function Bt(){return L("number",v=>typeof v=="number"&&!isNaN(v)||`Expected a number, but received: ${o(v)}`)}function ye(v){let B=v?Object.keys(v):[],A=Ct();return new g({type:"object",schema:v||null,*entries(C){if(v&&n(C)){let Q=new Set(Object.keys(C));for(let pe of B)Q.delete(pe),yield[pe,C[pe],v[pe]];for(let pe of Q)yield[pe,C[pe],A]}},validator(C){return n(C)||`Expected an object, but received: ${o(C)}`},coercer(C){return n(C)?{...C}:C}})}function Tt(v){return new g({...v,validator:(B,A)=>B===void 0||v.validator(B,A),refiner:(B,A)=>B===void 0||v.refiner(B,A)})}function dn(v,B){return new g({type:"record",schema:null,*entries(A){if(n(A))for(let C in A){let Q=A[C];yield[C,C,v],yield[C,Q,B]}},validator(A){return n(A)||`Expected an object, but received: ${o(A)}`}})}function Or(){return L("regexp",v=>v instanceof RegExp)}function ln(v){return new g({type:"set",schema:null,*entries(B){if(v&&B instanceof Set)for(let A of B)yield[A,A,v]},coercer(B){return B instanceof Set?new Set(B):B},validator(B){return B instanceof Set||`Expected a \`Set\` object, but received: ${o(B)}`}})}function hr(){return L("string",v=>typeof v=="string"||`Expected a string, but received: ${o(v)}`)}function tn(v){let B=Ct();return new g({type:"tuple",schema:null,*entries(A){if(Array.isArray(A)){let C=Math.max(v.length,A.length);for(let Q=0;Q<C;Q++)yield[Q,A[Q],v[Q]||B]}},validator(A){return Array.isArray(A)||`Expected an array, but received: ${o(A)}`}})}function Nr(v){let B=Object.keys(v);return new g({type:"type",schema:v,*entries(A){if(n(A))for(let C of B)yield[C,A[C],v[C]]},validator(A){return n(A)||`Expected an object, but received: ${o(A)}`},coercer(A){return n(A)?{...A}:A}})}function gr(v){let B=v.map(A=>A.type).join(" | ");return new g({type:"union",schema:null,coercer(A){for(let C of v){let[Q,pe]=C.validate(A,{coerce:!0});if(!Q)return pe}return A},validator(A,C){let Q=[];for(let pe of v){let[...Ke]=u(A,pe,C),[ut]=Ke;if(ut[0])for(let[ft]of Ke)ft&&Q.push(ft);else return[]}return[`Expected the value to satisfy a union of \`${B}\`, but received: ${o(A)}`,...Q]}})}function rn(){return L("unknown",()=>!0)}function hn(v,B,A){return new g({...v,coercer:(C,Q)=>P(C,B)?v.coercer(A(C,Q),Q):v.coercer(C,Q)})}function Ao(v,B,A={}){return hn(v,rn(),C=>{let Q=typeof B=="function"?B():B;if(C===void 0)return Q;if(!A.strict&&i(C)&&i(Q)){let pe={...C},Ke=!1;for(let ut in Q)pe[ut]===void 0&&(pe[ut]=Q[ut],Ke=!0);if(Ke)return pe}return C})}function $i(v){return hn(v,hr(),B=>B.trim())}function Ba(v){return nn(v,"empty",B=>{let A=gn(B);return A===0||`Expected an empty ${v.type} but received one with a size of \`${A}\``})}function gn(v){return v instanceof Map||v instanceof Set?v.size:v.length}function Io(v,B,A={}){let{exclusive:C}=A;return nn(v,"max",Q=>C?Q<B:Q<=B||`Expected a ${v.type} less than ${C?"":"or equal to "}${B} but received \`${Q}\``)}function Ta(v,B,A={}){let{exclusive:C}=A;return nn(v,"min",Q=>C?Q>B:Q>=B||`Expected a ${v.type} greater than ${C?"":"or equal to "}${B} but received \`${Q}\``)}function hs(v){return nn(v,"nonempty",B=>gn(B)>0||`Expected a nonempty ${v.type} but received an empty one`)}function gs(v,B){return nn(v,"pattern",A=>B.test(A)||`Expected a ${v.type} matching \`/${B.source}/\` but received "${A}"`)}function Po(v,B,A=B){let C=`Expected a ${v.type}`,Q=B===A?`of \`${B}\``:`between \`${B}\` and \`${A}\``;return nn(v,"size",pe=>{if(typeof pe=="number"||pe instanceof Date)return B<=pe&&pe<=A||`${C} ${Q} but received \`${pe}\``;if(pe instanceof Map||pe instanceof Set){let{size:Ke}=pe;return B<=Ke&&Ke<=A||`${C} with a size ${Q} but received one with a size of \`${Ke}\``}else{let{length:Ke}=pe;return B<=Ke&&Ke<=A||`${C} with a length ${Q} but received one with a length of \`${Ke}\``}})}function nn(v,B,A){return new g({...v,*refiner(C,Q){yield*v.refiner(C,Q);let pe=A(C,Q),Ke=d(pe,Q,v,C);for(let ut of Ke)yield{...ut,refinement:B}}})}e.Struct=g,e.StructError=t,e.any=be,e.array=X,e.assert=w,e.assign=k,e.bigint=le,e.boolean=ct,e.coerce=hn,e.create=E,e.date=pt,e.defaulted=Ao,e.define=L,e.deprecated=H,e.dynamic=q,e.empty=Ba,e.enums=Qt,e.func=F,e.instance=W,e.integer=_e,e.intersection=Re,e.is=P,e.lazy=U,e.literal=Ze,e.map=Nt,e.mask=m,e.max=Io,e.min=Ta,e.never=Ct,e.nonempty=hs,e.nullable=at,e.number=Bt,e.object=ye,e.omit=Z,e.optional=Tt,e.partial=K,e.pattern=gs,e.pick=$,e.record=dn,e.refine=nn,e.regexp=Or,e.set=ln,e.size=Po,e.string=hr,e.struct=te,e.trimmed=$i,e.tuple=tn,e.type=Nr,e.union=gr,e.unknown=rn,e.validate=S})});var u0=D(Be=>{b();p();Object.defineProperty(Be,"__esModule",{value:!0});Be.typedSignatureHash=Be.TypedDataUtils=Be.TYPED_MESSAGE_SCHEMA=Be.getLength=Be.getErrorStack=Be.padStart=Be.bigIntToBytes=Be.remove0x=Be.add0x=Be.hexToBytes=Be.isStrictHexString=Be.assertIsHexString=Be.concatBytes=Be.valueToBytes=Be.isBytes=Be.stringToBytes=Be.numberToBytes=Be.assert=Be.SignTypedDataVersion=Be.StrictHexStruct=void 0;var Vr=Rr(),L1=Zi(),ws=Ht(),Gc=Wl(),Yl=48,Xl=58,Jl=87,k1=/^u?int(?<length>[0-9]*)?$/u,O1=32;Be.StrictHexStruct=(0,Gc.pattern)((0,Gc.string)(),/^0x[0-9a-f]+$/iu);var Ur;(function(e){e.V1="V1",e.V3="V3",e.V4="V4"})(Ur=Be.SignTypedDataVersion||(Be.SignTypedDataVersion={}));function Mr(e,t){if(!e)throw new Error(t)}Be.assert=Mr;function ms(e){Mr(typeof e=="number","Value must be a number."),Mr(e>=0,"Value must be a non-negative number."),Mr(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");let t=e.toString(16);return Co(t)}Be.numberToBytes=ms;function Ga(e){return Mr(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}Be.stringToBytes=Ga;function e0(e){return e instanceof Uint8Array}Be.isBytes=e0;function t0(e){if(typeof e=="bigint")return Fa(e);if(typeof e=="number")return ms(e);if(typeof e=="string")return e.startsWith("0x")?Co(e):Ga(e);if(e0(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}Be.valueToBytes=t0;function r0(e){let t=new Array(e.length),r=0;for(let i=0;i<e.length;i++){let o=t0(e[i]);t[i]=o,r+=o.length}let n=new Uint8Array(r);for(let i=0,o=0;i<t.length;i++)n.set(t[i],o),o+=t[i].length;return n}Be.concatBytes=r0;function n0(e){Mr((0,Vr.isHexString)(e),"Value must be a hexadecimal string.")}Be.assertIsHexString=n0;function Va(e){return(0,Gc.is)(e,Be.StrictHexStruct)}Be.isStrictHexString=Va;function Co(e){if(e?.toLowerCase?.()==="0x")return new Uint8Array;n0(e);let t=o0(e).toLowerCase(),r=t.length%2===0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){let o=r.charCodeAt(i*2),a=r.charCodeAt(i*2+1),f=o-(o<Xl?Yl:Jl),d=a-(a<Xl?Yl:Jl);n[i]=f*16+d}return n}Be.hexToBytes=Co;function i0(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}Be.add0x=i0;function o0(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}Be.remove0x=o0;function Fa(e){Mr(typeof e=="bigint","Value must be a bigint."),Mr(e>=BigInt(0),"Value must be a non-negative bigint.");let t=e.toString(16);return Co(t)}Be.bigIntToBytes=Fa;function Fc(e,t=O1){let r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return r0([r,e])}Be.padStart=Fc;var N1=e=>{if(e instanceof Error)return e.stack};Be.getErrorStack=N1;var C1=e=>{if(e==="int"||e==="uint")return 256;let t=e.match(k1);Mr(t?.groups?.length,`Invalid number type. Expected a number type, but received "${e}".`);let r=parseInt(t.groups.length,10);return Mr(r>=8&&r<=256,`Invalid number length. Expected a number between 8 and 256, but received "${e}".`),Mr(r%8===0,`Invalid number length. Expected a multiple of 8, but received "${e}".`),r};Be.getLength=C1;Be.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string",enum:H1()}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function H1(){let e=["bool","address","string","bytes"],t=Array.from(new Array(32)).map((i,o)=>`int${(o+1)*8}`),r=Array.from(new Array(32)).map((i,o)=>`uint${(o+1)*8}`),n=Array.from(new Array(32)).map((i,o)=>`bytes${o+1}`);return[...e,...t,...r,...n]}function Za(e,t){if(Object.keys(Ur).includes(e)){if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}else throw new Error(`Invalid version: '${e}'`)}function U1(e){let t=BigInt(0);for(let r=0;r<e.length;r++){let n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),n>=49?t+=n-BigInt(49)+BigInt(10):n>=17?t+=n-BigInt(17)+BigInt(10):t+=n}return Fc(Fa(t),20)}function M1(e,t){Mr(t!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);let r=BigInt(t),n=(0,Be.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return Mr(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function s0(e,t,r,n,i){if(Za(i,[Ur.V3,Ur.V4]),e[r]!==void 0)return["bytes32",i===Ur.V4&&n==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,Vr.keccak)(Zc(r,n,e,i))];if(r==="function")throw new Error('Unsupported or invalid type: "function"');if(n===void 0)throw new Error(`missing value for field ${t} of type ${r}`);if(r==="address"){if(typeof n=="number")return["address",Fc(ms(n),20)];if(Va(n))return["address",i0(n)];if(typeof n=="string")return["address",U1(n).subarray(0,20)]}if(r==="bool")return["bool",Boolean(n)];if(r==="bytes")return typeof n=="number"?n=ms(n):Va(n)?n=Co(n):typeof n=="string"&&(n=Ga(n)),["bytes32",(0,Vr.keccak)(n)];if(r.startsWith("bytes")&&r!=="bytes"&&!r.includes("["))return typeof n=="number"?n<0?["bytes32",new Uint8Array(32)]:["bytes32",Fa(BigInt(n))]:Va(n)?["bytes32",Co(n)]:["bytes32",n];if(r.startsWith("int")&&!r.includes("[")){let o=M1(r,n);return o>=BigInt(0)?["uint256",o]:["int256",o]}if(r==="string")return typeof n=="number"?n=ms(n):n=Ga(n??""),["bytes32",(0,Vr.keccak)(n)];if(r.endsWith("]")){if(i===Ur.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");let o=r.slice(0,r.lastIndexOf("[")),a=n.map(u=>s0(e,t,o,u,i)),f=a.map(([u])=>u),d=a.map(([,u])=>u);return["bytes32",(0,Vr.keccak)(ws.abi.RawEncode(f,d))]}return[r,n]}function Zc(e,t,r,n){Za(n,[Ur.V3,Ur.V4]);let i=["bytes32"],o=[c0(e,r)];for(let a of r[e]){if(n===Ur.V3&&t[a.name]===void 0)continue;let[f,d]=s0(r,a.name,a.type,t[a.name],n);i.push(f),o.push(d)}return ws.abi.RawEncode(i,o)}function a0(e,t){let r="",n=f0(e,t);n.delete(e);let i=[e,...Array.from(n).sort()];for(let o of i){if(!t[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${t[o].map(({name:f,type:d})=>`${d} ${f}`).join(",")})`}return r}function f0(e,t,r=new Set){if([e]=e.match(/^\w*/u),r.has(e)||t[e]===void 0)return r;r.add(e);for(let n of t[e])f0(n.type,t,r);return r}function Ql(e,t,r,n){return Za(n,[Ur.V3,Ur.V4]),(0,Vr.keccak)(Zc(e,t,r,n))}function c0(e,t){return(0,Vr.keccak)(y.Buffer.from(a0(e,t)))}function R1(e){let t={};for(let r in Be.TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types={EIP712Domain:[],...t.types}),t}function j1(e,t){Za(t,[Ur.V3,Ur.V4]);let r=R1(e),n=[y.Buffer.from("1901","hex")];return n.push(Ql("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(Ql(r.primaryType,r.message,r.types,t)),(0,Vr.keccak)(y.Buffer.concat(n))}Be.TypedDataUtils={encodeData:Zc,encodeType:a0,hashType:c0,eip712Hash:j1};function q1(e){let t=D1(e);return(0,Vr.bufferToHex)(t)}Be.typedSignatureHash=q1;function D1(e){let t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!("length"in e)||!e.length)throw t;let r=e.map(function(g){return g.type!=="bytes"?g.value:(0,L1.legacyToBuffer)(g.value)}),n=e.map(function(g){return g.type}),i=e.map(function(g){if(!g.name)throw t;return`${g.type} ${g.name}`}),o=ws.abi.ABI.solidityPack(new Array(e.length).fill("string"),i),a=ws.abi.ABI.solidityPack(n,r),f=(0,Vr.keccak256)(o),d=(0,Vr.keccak256)(a),u=ws.abi.ABI.solidityPack(["bytes32","bytes32"],[f,d]);return(0,Vr.keccak256)(u)}});var d0=D((YT,Ka)=>{b();p();(function(e){"use strict";var t=function(c){var h,l=new Float64Array(16);if(c)for(h=0;h<c.length;h++)l[h]=c[h];return l},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),a=t([1]),f=t([56129,1]),d=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(c,h,l,s){c[h]=l>>24&255,c[h+1]=l>>16&255,c[h+2]=l>>8&255,c[h+3]=l&255,c[h+4]=s>>24&255,c[h+5]=s>>16&255,c[h+6]=s>>8&255,c[h+7]=s&255}function P(c,h,l,s,_){var T,I=0;for(T=0;T<_;T++)I|=c[h+T]^l[s+T];return(1&I-1>>>8)-1}function S(c,h,l,s){return P(c,h,l,s,16)}function k(c,h,l,s){return P(c,h,l,s,32)}function L(c,h,l,s){for(var _=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,T=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,I=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,R=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,G=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,ce=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,J=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,$e=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,ne=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,xe=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,me=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Pe=l[16]&255|(l[17]&255)<<8|(l[18]&255)<<16|(l[19]&255)<<24,Ie=l[20]&255|(l[21]&255)<<8|(l[22]&255)<<16|(l[23]&255)<<24,ve=l[24]&255|(l[25]&255)<<8|(l[26]&255)<<16|(l[27]&255)<<24,Te=l[28]&255|(l[29]&255)<<8|(l[30]&255)<<16|(l[31]&255)<<24,Ee=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,oe=_,de=T,ee=I,se=R,ae=G,Y=ce,O=J,N=$e,z=ne,M=xe,j=me,V=Pe,he=Ie,Le=ve,Oe=Te,ke=Ee,x,He=0;He<20;He+=2)x=oe+he|0,ae^=x<<7|x>>>32-7,x=ae+oe|0,z^=x<<9|x>>>32-9,x=z+ae|0,he^=x<<13|x>>>32-13,x=he+z|0,oe^=x<<18|x>>>32-18,x=Y+de|0,M^=x<<7|x>>>32-7,x=M+Y|0,Le^=x<<9|x>>>32-9,x=Le+M|0,de^=x<<13|x>>>32-13,x=de+Le|0,Y^=x<<18|x>>>32-18,x=j+O|0,Oe^=x<<7|x>>>32-7,x=Oe+j|0,ee^=x<<9|x>>>32-9,x=ee+Oe|0,O^=x<<13|x>>>32-13,x=O+ee|0,j^=x<<18|x>>>32-18,x=ke+V|0,se^=x<<7|x>>>32-7,x=se+ke|0,N^=x<<9|x>>>32-9,x=N+se|0,V^=x<<13|x>>>32-13,x=V+N|0,ke^=x<<18|x>>>32-18,x=oe+se|0,de^=x<<7|x>>>32-7,x=de+oe|0,ee^=x<<9|x>>>32-9,x=ee+de|0,se^=x<<13|x>>>32-13,x=se+ee|0,oe^=x<<18|x>>>32-18,x=Y+ae|0,O^=x<<7|x>>>32-7,x=O+Y|0,N^=x<<9|x>>>32-9,x=N+O|0,ae^=x<<13|x>>>32-13,x=ae+N|0,Y^=x<<18|x>>>32-18,x=j+M|0,V^=x<<7|x>>>32-7,x=V+j|0,z^=x<<9|x>>>32-9,x=z+V|0,M^=x<<13|x>>>32-13,x=M+z|0,j^=x<<18|x>>>32-18,x=ke+Oe|0,he^=x<<7|x>>>32-7,x=he+ke|0,Le^=x<<9|x>>>32-9,x=Le+he|0,Oe^=x<<13|x>>>32-13,x=Oe+Le|0,ke^=x<<18|x>>>32-18;oe=oe+_|0,de=de+T|0,ee=ee+I|0,se=se+R|0,ae=ae+G|0,Y=Y+ce|0,O=O+J|0,N=N+$e|0,z=z+ne|0,M=M+xe|0,j=j+me|0,V=V+Pe|0,he=he+Ie|0,Le=Le+ve|0,Oe=Oe+Te|0,ke=ke+Ee|0,c[0]=oe>>>0&255,c[1]=oe>>>8&255,c[2]=oe>>>16&255,c[3]=oe>>>24&255,c[4]=de>>>0&255,c[5]=de>>>8&255,c[6]=de>>>16&255,c[7]=de>>>24&255,c[8]=ee>>>0&255,c[9]=ee>>>8&255,c[10]=ee>>>16&255,c[11]=ee>>>24&255,c[12]=se>>>0&255,c[13]=se>>>8&255,c[14]=se>>>16&255,c[15]=se>>>24&255,c[16]=ae>>>0&255,c[17]=ae>>>8&255,c[18]=ae>>>16&255,c[19]=ae>>>24&255,c[20]=Y>>>0&255,c[21]=Y>>>8&255,c[22]=Y>>>16&255,c[23]=Y>>>24&255,c[24]=O>>>0&255,c[25]=O>>>8&255,c[26]=O>>>16&255,c[27]=O>>>24&255,c[28]=N>>>0&255,c[29]=N>>>8&255,c[30]=N>>>16&255,c[31]=N>>>24&255,c[32]=z>>>0&255,c[33]=z>>>8&255,c[34]=z>>>16&255,c[35]=z>>>24&255,c[36]=M>>>0&255,c[37]=M>>>8&255,c[38]=M>>>16&255,c[39]=M>>>24&255,c[40]=j>>>0&255,c[41]=j>>>8&255,c[42]=j>>>16&255,c[43]=j>>>24&255,c[44]=V>>>0&255,c[45]=V>>>8&255,c[46]=V>>>16&255,c[47]=V>>>24&255,c[48]=he>>>0&255,c[49]=he>>>8&255,c[50]=he>>>16&255,c[51]=he>>>24&255,c[52]=Le>>>0&255,c[53]=Le>>>8&255,c[54]=Le>>>16&255,c[55]=Le>>>24&255,c[56]=Oe>>>0&255,c[57]=Oe>>>8&255,c[58]=Oe>>>16&255,c[59]=Oe>>>24&255,c[60]=ke>>>0&255,c[61]=ke>>>8&255,c[62]=ke>>>16&255,c[63]=ke>>>24&255}function H(c,h,l,s){for(var _=s[0]&255|(s[1]&255)<<8|(s[2]&255)<<16|(s[3]&255)<<24,T=l[0]&255|(l[1]&255)<<8|(l[2]&255)<<16|(l[3]&255)<<24,I=l[4]&255|(l[5]&255)<<8|(l[6]&255)<<16|(l[7]&255)<<24,R=l[8]&255|(l[9]&255)<<8|(l[10]&255)<<16|(l[11]&255)<<24,G=l[12]&255|(l[13]&255)<<8|(l[14]&255)<<16|(l[15]&255)<<24,ce=s[4]&255|(s[5]&255)<<8|(s[6]&255)<<16|(s[7]&255)<<24,J=h[0]&255|(h[1]&255)<<8|(h[2]&255)<<16|(h[3]&255)<<24,$e=h[4]&255|(h[5]&255)<<8|(h[6]&255)<<16|(h[7]&255)<<24,ne=h[8]&255|(h[9]&255)<<8|(h[10]&255)<<16|(h[11]&255)<<24,xe=h[12]&255|(h[13]&255)<<8|(h[14]&255)<<16|(h[15]&255)<<24,me=s[8]&255|(s[9]&255)<<8|(s[10]&255)<<16|(s[11]&255)<<24,Pe=l[16]&255|(l[17]&255)<<8|(l[18]&255)<<16|(l[19]&255)<<24,Ie=l[20]&255|(l[21]&255)<<8|(l[22]&255)<<16|(l[23]&255)<<24,ve=l[24]&255|(l[25]&255)<<8|(l[26]&255)<<16|(l[27]&255)<<24,Te=l[28]&255|(l[29]&255)<<8|(l[30]&255)<<16|(l[31]&255)<<24,Ee=s[12]&255|(s[13]&255)<<8|(s[14]&255)<<16|(s[15]&255)<<24,oe=_,de=T,ee=I,se=R,ae=G,Y=ce,O=J,N=$e,z=ne,M=xe,j=me,V=Pe,he=Ie,Le=ve,Oe=Te,ke=Ee,x,He=0;He<20;He+=2)x=oe+he|0,ae^=x<<7|x>>>32-7,x=ae+oe|0,z^=x<<9|x>>>32-9,x=z+ae|0,he^=x<<13|x>>>32-13,x=he+z|0,oe^=x<<18|x>>>32-18,x=Y+de|0,M^=x<<7|x>>>32-7,x=M+Y|0,Le^=x<<9|x>>>32-9,x=Le+M|0,de^=x<<13|x>>>32-13,x=de+Le|0,Y^=x<<18|x>>>32-18,x=j+O|0,Oe^=x<<7|x>>>32-7,x=Oe+j|0,ee^=x<<9|x>>>32-9,x=ee+Oe|0,O^=x<<13|x>>>32-13,x=O+ee|0,j^=x<<18|x>>>32-18,x=ke+V|0,se^=x<<7|x>>>32-7,x=se+ke|0,N^=x<<9|x>>>32-9,x=N+se|0,V^=x<<13|x>>>32-13,x=V+N|0,ke^=x<<18|x>>>32-18,x=oe+se|0,de^=x<<7|x>>>32-7,x=de+oe|0,ee^=x<<9|x>>>32-9,x=ee+de|0,se^=x<<13|x>>>32-13,x=se+ee|0,oe^=x<<18|x>>>32-18,x=Y+ae|0,O^=x<<7|x>>>32-7,x=O+Y|0,N^=x<<9|x>>>32-9,x=N+O|0,ae^=x<<13|x>>>32-13,x=ae+N|0,Y^=x<<18|x>>>32-18,x=j+M|0,V^=x<<7|x>>>32-7,x=V+j|0,z^=x<<9|x>>>32-9,x=z+V|0,M^=x<<13|x>>>32-13,x=M+z|0,j^=x<<18|x>>>32-18,x=ke+Oe|0,he^=x<<7|x>>>32-7,x=he+ke|0,Le^=x<<9|x>>>32-9,x=Le+he|0,Oe^=x<<13|x>>>32-13,x=Oe+Le|0,ke^=x<<18|x>>>32-18;c[0]=oe>>>0&255,c[1]=oe>>>8&255,c[2]=oe>>>16&255,c[3]=oe>>>24&255,c[4]=Y>>>0&255,c[5]=Y>>>8&255,c[6]=Y>>>16&255,c[7]=Y>>>24&255,c[8]=j>>>0&255,c[9]=j>>>8&255,c[10]=j>>>16&255,c[11]=j>>>24&255,c[12]=ke>>>0&255,c[13]=ke>>>8&255,c[14]=ke>>>16&255,c[15]=ke>>>24&255,c[16]=O>>>0&255,c[17]=O>>>8&255,c[18]=O>>>16&255,c[19]=O>>>24&255,c[20]=N>>>0&255,c[21]=N>>>8&255,c[22]=N>>>16&255,c[23]=N>>>24&255,c[24]=z>>>0&255,c[25]=z>>>8&255,c[26]=z>>>16&255,c[27]=z>>>24&255,c[28]=M>>>0&255,c[29]=M>>>8&255,c[30]=M>>>16&255,c[31]=M>>>24&255}function q(c,h,l,s){L(c,h,l,s)}function U(c,h,l,s){H(c,h,l,s)}var Z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function K(c,h,l,s,_,T,I){var R=new Uint8Array(16),G=new Uint8Array(64),ce,J;for(J=0;J<16;J++)R[J]=0;for(J=0;J<8;J++)R[J]=T[J];for(;_>=64;){for(q(G,R,I,Z),J=0;J<64;J++)c[h+J]=l[s+J]^G[J];for(ce=1,J=8;J<16;J++)ce=ce+(R[J]&255)|0,R[J]=ce&255,ce>>>=8;_-=64,h+=64,s+=64}if(_>0)for(q(G,R,I,Z),J=0;J<_;J++)c[h+J]=l[s+J]^G[J];return 0}function $(c,h,l,s,_){var T=new Uint8Array(16),I=new Uint8Array(64),R,G;for(G=0;G<16;G++)T[G]=0;for(G=0;G<8;G++)T[G]=s[G];for(;l>=64;){for(q(I,T,_,Z),G=0;G<64;G++)c[h+G]=I[G];for(R=1,G=8;G<16;G++)R=R+(T[G]&255)|0,T[G]=R&255,R>>>=8;l-=64,h+=64}if(l>0)for(q(I,T,_,Z),G=0;G<l;G++)c[h+G]=I[G];return 0}function te(c,h,l,s,_){var T=new Uint8Array(32);U(T,s,_,Z);for(var I=new Uint8Array(8),R=0;R<8;R++)I[R]=s[R+16];return $(c,h,l,I,T)}function be(c,h,l,s,_,T,I){var R=new Uint8Array(32);U(R,T,I,Z);for(var G=new Uint8Array(8),ce=0;ce<8;ce++)G[ce]=T[ce+16];return K(c,h,l,s,_,G,R)}var X=function(c){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var h,l,s,_,T,I,R,G;h=c[0]&255|(c[1]&255)<<8,this.r[0]=h&8191,l=c[2]&255|(c[3]&255)<<8,this.r[1]=(h>>>13|l<<3)&8191,s=c[4]&255|(c[5]&255)<<8,this.r[2]=(l>>>10|s<<6)&7939,_=c[6]&255|(c[7]&255)<<8,this.r[3]=(s>>>7|_<<9)&8191,T=c[8]&255|(c[9]&255)<<8,this.r[4]=(_>>>4|T<<12)&255,this.r[5]=T>>>1&8190,I=c[10]&255|(c[11]&255)<<8,this.r[6]=(T>>>14|I<<2)&8191,R=c[12]&255|(c[13]&255)<<8,this.r[7]=(I>>>11|R<<5)&8065,G=c[14]&255|(c[15]&255)<<8,this.r[8]=(R>>>8|G<<8)&8191,this.r[9]=G>>>5&127,this.pad[0]=c[16]&255|(c[17]&255)<<8,this.pad[1]=c[18]&255|(c[19]&255)<<8,this.pad[2]=c[20]&255|(c[21]&255)<<8,this.pad[3]=c[22]&255|(c[23]&255)<<8,this.pad[4]=c[24]&255|(c[25]&255)<<8,this.pad[5]=c[26]&255|(c[27]&255)<<8,this.pad[6]=c[28]&255|(c[29]&255)<<8,this.pad[7]=c[30]&255|(c[31]&255)<<8};X.prototype.blocks=function(c,h,l){for(var s=this.fin?0:2048,_,T,I,R,G,ce,J,$e,ne,xe,me,Pe,Ie,ve,Te,Ee,oe,de,ee,se=this.h[0],ae=this.h[1],Y=this.h[2],O=this.h[3],N=this.h[4],z=this.h[5],M=this.h[6],j=this.h[7],V=this.h[8],he=this.h[9],Le=this.r[0],Oe=this.r[1],ke=this.r[2],x=this.r[3],He=this.r[4],Ve=this.r[5],Ge=this.r[6],Ce=this.r[7],De=this.r[8],ze=this.r[9];l>=16;)_=c[h+0]&255|(c[h+1]&255)<<8,se+=_&8191,T=c[h+2]&255|(c[h+3]&255)<<8,ae+=(_>>>13|T<<3)&8191,I=c[h+4]&255|(c[h+5]&255)<<8,Y+=(T>>>10|I<<6)&8191,R=c[h+6]&255|(c[h+7]&255)<<8,O+=(I>>>7|R<<9)&8191,G=c[h+8]&255|(c[h+9]&255)<<8,N+=(R>>>4|G<<12)&8191,z+=G>>>1&8191,ce=c[h+10]&255|(c[h+11]&255)<<8,M+=(G>>>14|ce<<2)&8191,J=c[h+12]&255|(c[h+13]&255)<<8,j+=(ce>>>11|J<<5)&8191,$e=c[h+14]&255|(c[h+15]&255)<<8,V+=(J>>>8|$e<<8)&8191,he+=$e>>>5|s,ne=0,xe=ne,xe+=se*Le,xe+=ae*(5*ze),xe+=Y*(5*De),xe+=O*(5*Ce),xe+=N*(5*Ge),ne=xe>>>13,xe&=8191,xe+=z*(5*Ve),xe+=M*(5*He),xe+=j*(5*x),xe+=V*(5*ke),xe+=he*(5*Oe),ne+=xe>>>13,xe&=8191,me=ne,me+=se*Oe,me+=ae*Le,me+=Y*(5*ze),me+=O*(5*De),me+=N*(5*Ce),ne=me>>>13,me&=8191,me+=z*(5*Ge),me+=M*(5*Ve),me+=j*(5*He),me+=V*(5*x),me+=he*(5*ke),ne+=me>>>13,me&=8191,Pe=ne,Pe+=se*ke,Pe+=ae*Oe,Pe+=Y*Le,Pe+=O*(5*ze),Pe+=N*(5*De),ne=Pe>>>13,Pe&=8191,Pe+=z*(5*Ce),Pe+=M*(5*Ge),Pe+=j*(5*Ve),Pe+=V*(5*He),Pe+=he*(5*x),ne+=Pe>>>13,Pe&=8191,Ie=ne,Ie+=se*x,Ie+=ae*ke,Ie+=Y*Oe,Ie+=O*Le,Ie+=N*(5*ze),ne=Ie>>>13,Ie&=8191,Ie+=z*(5*De),Ie+=M*(5*Ce),Ie+=j*(5*Ge),Ie+=V*(5*Ve),Ie+=he*(5*He),ne+=Ie>>>13,Ie&=8191,ve=ne,ve+=se*He,ve+=ae*x,ve+=Y*ke,ve+=O*Oe,ve+=N*Le,ne=ve>>>13,ve&=8191,ve+=z*(5*ze),ve+=M*(5*De),ve+=j*(5*Ce),ve+=V*(5*Ge),ve+=he*(5*Ve),ne+=ve>>>13,ve&=8191,Te=ne,Te+=se*Ve,Te+=ae*He,Te+=Y*x,Te+=O*ke,Te+=N*Oe,ne=Te>>>13,Te&=8191,Te+=z*Le,Te+=M*(5*ze),Te+=j*(5*De),Te+=V*(5*Ce),Te+=he*(5*Ge),ne+=Te>>>13,Te&=8191,Ee=ne,Ee+=se*Ge,Ee+=ae*Ve,Ee+=Y*He,Ee+=O*x,Ee+=N*ke,ne=Ee>>>13,Ee&=8191,Ee+=z*Oe,Ee+=M*Le,Ee+=j*(5*ze),Ee+=V*(5*De),Ee+=he*(5*Ce),ne+=Ee>>>13,Ee&=8191,oe=ne,oe+=se*Ce,oe+=ae*Ge,oe+=Y*Ve,oe+=O*He,oe+=N*x,ne=oe>>>13,oe&=8191,oe+=z*ke,oe+=M*Oe,oe+=j*Le,oe+=V*(5*ze),oe+=he*(5*De),ne+=oe>>>13,oe&=8191,de=ne,de+=se*De,de+=ae*Ce,de+=Y*Ge,de+=O*Ve,de+=N*He,ne=de>>>13,de&=8191,de+=z*x,de+=M*ke,de+=j*Oe,de+=V*Le,de+=he*(5*ze),ne+=de>>>13,de&=8191,ee=ne,ee+=se*ze,ee+=ae*De,ee+=Y*Ce,ee+=O*Ge,ee+=N*Ve,ne=ee>>>13,ee&=8191,ee+=z*He,ee+=M*x,ee+=j*ke,ee+=V*Oe,ee+=he*Le,ne+=ee>>>13,ee&=8191,ne=(ne<<2)+ne|0,ne=ne+xe|0,xe=ne&8191,ne=ne>>>13,me+=ne,se=xe,ae=me,Y=Pe,O=Ie,N=ve,z=Te,M=Ee,j=oe,V=de,he=ee,h+=16,l-=16;this.h[0]=se,this.h[1]=ae,this.h[2]=Y,this.h[3]=O,this.h[4]=N,this.h[5]=z,this.h[6]=M,this.h[7]=j,this.h[8]=V,this.h[9]=he},X.prototype.finish=function(c,h){var l=new Uint16Array(10),s,_,T,I;if(this.leftover){for(I=this.leftover,this.buffer[I++]=1;I<16;I++)this.buffer[I]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(s=this.h[1]>>>13,this.h[1]&=8191,I=2;I<10;I++)this.h[I]+=s,s=this.h[I]>>>13,this.h[I]&=8191;for(this.h[0]+=s*5,s=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=s,s=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=s,l[0]=this.h[0]+5,s=l[0]>>>13,l[0]&=8191,I=1;I<10;I++)l[I]=this.h[I]+s,s=l[I]>>>13,l[I]&=8191;for(l[9]-=1<<13,_=(s^1)-1,I=0;I<10;I++)l[I]&=_;for(_=~_,I=0;I<10;I++)this.h[I]=this.h[I]&_|l[I];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,T=this.h[0]+this.pad[0],this.h[0]=T&65535,I=1;I<8;I++)T=(this.h[I]+this.pad[I]|0)+(T>>>16)|0,this.h[I]=T&65535;c[h+0]=this.h[0]>>>0&255,c[h+1]=this.h[0]>>>8&255,c[h+2]=this.h[1]>>>0&255,c[h+3]=this.h[1]>>>8&255,c[h+4]=this.h[2]>>>0&255,c[h+5]=this.h[2]>>>8&255,c[h+6]=this.h[3]>>>0&255,c[h+7]=this.h[3]>>>8&255,c[h+8]=this.h[4]>>>0&255,c[h+9]=this.h[4]>>>8&255,c[h+10]=this.h[5]>>>0&255,c[h+11]=this.h[5]>>>8&255,c[h+12]=this.h[6]>>>0&255,c[h+13]=this.h[6]>>>8&255,c[h+14]=this.h[7]>>>0&255,c[h+15]=this.h[7]>>>8&255},X.prototype.update=function(c,h,l){var s,_;if(this.leftover){for(_=16-this.leftover,_>l&&(_=l),s=0;s<_;s++)this.buffer[this.leftover+s]=c[h+s];if(l-=_,h+=_,this.leftover+=_,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(l>=16&&(_=l-l%16,this.blocks(c,h,_),h+=_,l-=_),l){for(s=0;s<l;s++)this.buffer[this.leftover+s]=c[h+s];this.leftover+=l}};function le(c,h,l,s,_,T){var I=new X(T);return I.update(l,s,_),I.finish(c,h),0}function ct(c,h,l,s,_,T){var I=new Uint8Array(16);return le(I,0,l,s,_,T),S(c,h,I,0)}function pt(c,h,l,s,_){var T;if(l<32)return-1;for(be(c,0,h,0,l,s,_),le(c,16,c,32,l-32,c),T=0;T<16;T++)c[T]=0;return 0}function Qt(c,h,l,s,_){var T,I=new Uint8Array(32);if(l<32||(te(I,0,32,s,_),ct(h,16,h,32,l-32,I)!==0))return-1;for(be(c,0,h,0,l,s,_),T=0;T<32;T++)c[T]=0;return 0}function F(c,h){var l;for(l=0;l<16;l++)c[l]=h[l]|0}function W(c){var h,l,s=1;for(h=0;h<16;h++)l=c[h]+s+65535,s=Math.floor(l/65536),c[h]=l-s*65536;c[0]+=s-1+37*(s-1)}function _e(c,h,l){for(var s,_=~(l-1),T=0;T<16;T++)s=_&(c[T]^h[T]),c[T]^=s,h[T]^=s}function Re(c,h){var l,s,_,T=t(),I=t();for(l=0;l<16;l++)I[l]=h[l];for(W(I),W(I),W(I),s=0;s<2;s++){for(T[0]=I[0]-65517,l=1;l<15;l++)T[l]=I[l]-65535-(T[l-1]>>16&1),T[l-1]&=65535;T[15]=I[15]-32767-(T[14]>>16&1),_=T[15]>>16&1,T[14]&=65535,_e(I,T,1-_)}for(l=0;l<16;l++)c[2*l]=I[l]&255,c[2*l+1]=I[l]>>8}function Ze(c,h){var l=new Uint8Array(32),s=new Uint8Array(32);return Re(l,c),Re(s,h),k(l,0,s,0)}function Nt(c){var h=new Uint8Array(32);return Re(h,c),h[0]&1}function Ct(c,h){var l;for(l=0;l<16;l++)c[l]=h[2*l]+(h[2*l+1]<<8);c[15]&=32767}function at(c,h,l){for(var s=0;s<16;s++)c[s]=h[s]+l[s]}function Bt(c,h,l){for(var s=0;s<16;s++)c[s]=h[s]-l[s]}function ye(c,h,l){var s,_,T=0,I=0,R=0,G=0,ce=0,J=0,$e=0,ne=0,xe=0,me=0,Pe=0,Ie=0,ve=0,Te=0,Ee=0,oe=0,de=0,ee=0,se=0,ae=0,Y=0,O=0,N=0,z=0,M=0,j=0,V=0,he=0,Le=0,Oe=0,ke=0,x=l[0],He=l[1],Ve=l[2],Ge=l[3],Ce=l[4],De=l[5],ze=l[6],kt=l[7],rt=l[8],St=l[9],At=l[10],It=l[11],zt=l[12],ir=l[13],or=l[14],sr=l[15];s=h[0],T+=s*x,I+=s*He,R+=s*Ve,G+=s*Ge,ce+=s*Ce,J+=s*De,$e+=s*ze,ne+=s*kt,xe+=s*rt,me+=s*St,Pe+=s*At,Ie+=s*It,ve+=s*zt,Te+=s*ir,Ee+=s*or,oe+=s*sr,s=h[1],I+=s*x,R+=s*He,G+=s*Ve,ce+=s*Ge,J+=s*Ce,$e+=s*De,ne+=s*ze,xe+=s*kt,me+=s*rt,Pe+=s*St,Ie+=s*At,ve+=s*It,Te+=s*zt,Ee+=s*ir,oe+=s*or,de+=s*sr,s=h[2],R+=s*x,G+=s*He,ce+=s*Ve,J+=s*Ge,$e+=s*Ce,ne+=s*De,xe+=s*ze,me+=s*kt,Pe+=s*rt,Ie+=s*St,ve+=s*At,Te+=s*It,Ee+=s*zt,oe+=s*ir,de+=s*or,ee+=s*sr,s=h[3],G+=s*x,ce+=s*He,J+=s*Ve,$e+=s*Ge,ne+=s*Ce,xe+=s*De,me+=s*ze,Pe+=s*kt,Ie+=s*rt,ve+=s*St,Te+=s*At,Ee+=s*It,oe+=s*zt,de+=s*ir,ee+=s*or,se+=s*sr,s=h[4],ce+=s*x,J+=s*He,$e+=s*Ve,ne+=s*Ge,xe+=s*Ce,me+=s*De,Pe+=s*ze,Ie+=s*kt,ve+=s*rt,Te+=s*St,Ee+=s*At,oe+=s*It,de+=s*zt,ee+=s*ir,se+=s*or,ae+=s*sr,s=h[5],J+=s*x,$e+=s*He,ne+=s*Ve,xe+=s*Ge,me+=s*Ce,Pe+=s*De,Ie+=s*ze,ve+=s*kt,Te+=s*rt,Ee+=s*St,oe+=s*At,de+=s*It,ee+=s*zt,se+=s*ir,ae+=s*or,Y+=s*sr,s=h[6],$e+=s*x,ne+=s*He,xe+=s*Ve,me+=s*Ge,Pe+=s*Ce,Ie+=s*De,ve+=s*ze,Te+=s*kt,Ee+=s*rt,oe+=s*St,de+=s*At,ee+=s*It,se+=s*zt,ae+=s*ir,Y+=s*or,O+=s*sr,s=h[7],ne+=s*x,xe+=s*He,me+=s*Ve,Pe+=s*Ge,Ie+=s*Ce,ve+=s*De,Te+=s*ze,Ee+=s*kt,oe+=s*rt,de+=s*St,ee+=s*At,se+=s*It,ae+=s*zt,Y+=s*ir,O+=s*or,N+=s*sr,s=h[8],xe+=s*x,me+=s*He,Pe+=s*Ve,Ie+=s*Ge,ve+=s*Ce,Te+=s*De,Ee+=s*ze,oe+=s*kt,de+=s*rt,ee+=s*St,se+=s*At,ae+=s*It,Y+=s*zt,O+=s*ir,N+=s*or,z+=s*sr,s=h[9],me+=s*x,Pe+=s*He,Ie+=s*Ve,ve+=s*Ge,Te+=s*Ce,Ee+=s*De,oe+=s*ze,de+=s*kt,ee+=s*rt,se+=s*St,ae+=s*At,Y+=s*It,O+=s*zt,N+=s*ir,z+=s*or,M+=s*sr,s=h[10],Pe+=s*x,Ie+=s*He,ve+=s*Ve,Te+=s*Ge,Ee+=s*Ce,oe+=s*De,de+=s*ze,ee+=s*kt,se+=s*rt,ae+=s*St,Y+=s*At,O+=s*It,N+=s*zt,z+=s*ir,M+=s*or,j+=s*sr,s=h[11],Ie+=s*x,ve+=s*He,Te+=s*Ve,Ee+=s*Ge,oe+=s*Ce,de+=s*De,ee+=s*ze,se+=s*kt,ae+=s*rt,Y+=s*St,O+=s*At,N+=s*It,z+=s*zt,M+=s*ir,j+=s*or,V+=s*sr,s=h[12],ve+=s*x,Te+=s*He,Ee+=s*Ve,oe+=s*Ge,de+=s*Ce,ee+=s*De,se+=s*ze,ae+=s*kt,Y+=s*rt,O+=s*St,N+=s*At,z+=s*It,M+=s*zt,j+=s*ir,V+=s*or,he+=s*sr,s=h[13],Te+=s*x,Ee+=s*He,oe+=s*Ve,de+=s*Ge,ee+=s*Ce,se+=s*De,ae+=s*ze,Y+=s*kt,O+=s*rt,N+=s*St,z+=s*At,M+=s*It,j+=s*zt,V+=s*ir,he+=s*or,Le+=s*sr,s=h[14],Ee+=s*x,oe+=s*He,de+=s*Ve,ee+=s*Ge,se+=s*Ce,ae+=s*De,Y+=s*ze,O+=s*kt,N+=s*rt,z+=s*St,M+=s*At,j+=s*It,V+=s*zt,he+=s*ir,Le+=s*or,Oe+=s*sr,s=h[15],oe+=s*x,de+=s*He,ee+=s*Ve,se+=s*Ge,ae+=s*Ce,Y+=s*De,O+=s*ze,N+=s*kt,z+=s*rt,M+=s*St,j+=s*At,V+=s*It,he+=s*zt,Le+=s*ir,Oe+=s*or,ke+=s*sr,T+=38*de,I+=38*ee,R+=38*se,G+=38*ae,ce+=38*Y,J+=38*O,$e+=38*N,ne+=38*z,xe+=38*M,me+=38*j,Pe+=38*V,Ie+=38*he,ve+=38*Le,Te+=38*Oe,Ee+=38*ke,_=1,s=T+_+65535,_=Math.floor(s/65536),T=s-_*65536,s=I+_+65535,_=Math.floor(s/65536),I=s-_*65536,s=R+_+65535,_=Math.floor(s/65536),R=s-_*65536,s=G+_+65535,_=Math.floor(s/65536),G=s-_*65536,s=ce+_+65535,_=Math.floor(s/65536),ce=s-_*65536,s=J+_+65535,_=Math.floor(s/65536),J=s-_*65536,s=$e+_+65535,_=Math.floor(s/65536),$e=s-_*65536,s=ne+_+65535,_=Math.floor(s/65536),ne=s-_*65536,s=xe+_+65535,_=Math.floor(s/65536),xe=s-_*65536,s=me+_+65535,_=Math.floor(s/65536),me=s-_*65536,s=Pe+_+65535,_=Math.floor(s/65536),Pe=s-_*65536,s=Ie+_+65535,_=Math.floor(s/65536),Ie=s-_*65536,s=ve+_+65535,_=Math.floor(s/65536),ve=s-_*65536,s=Te+_+65535,_=Math.floor(s/65536),Te=s-_*65536,s=Ee+_+65535,_=Math.floor(s/65536),Ee=s-_*65536,s=oe+_+65535,_=Math.floor(s/65536),oe=s-_*65536,T+=_-1+37*(_-1),_=1,s=T+_+65535,_=Math.floor(s/65536),T=s-_*65536,s=I+_+65535,_=Math.floor(s/65536),I=s-_*65536,s=R+_+65535,_=Math.floor(s/65536),R=s-_*65536,s=G+_+65535,_=Math.floor(s/65536),G=s-_*65536,s=ce+_+65535,_=Math.floor(s/65536),ce=s-_*65536,s=J+_+65535,_=Math.floor(s/65536),J=s-_*65536,s=$e+_+65535,_=Math.floor(s/65536),$e=s-_*65536,s=ne+_+65535,_=Math.floor(s/65536),ne=s-_*65536,s=xe+_+65535,_=Math.floor(s/65536),xe=s-_*65536,s=me+_+65535,_=Math.floor(s/65536),me=s-_*65536,s=Pe+_+65535,_=Math.floor(s/65536),Pe=s-_*65536,s=Ie+_+65535,_=Math.floor(s/65536),Ie=s-_*65536,s=ve+_+65535,_=Math.floor(s/65536),ve=s-_*65536,s=Te+_+65535,_=Math.floor(s/65536),Te=s-_*65536,s=Ee+_+65535,_=Math.floor(s/65536),Ee=s-_*65536,s=oe+_+65535,_=Math.floor(s/65536),oe=s-_*65536,T+=_-1+37*(_-1),c[0]=T,c[1]=I,c[2]=R,c[3]=G,c[4]=ce,c[5]=J,c[6]=$e,c[7]=ne,c[8]=xe,c[9]=me,c[10]=Pe,c[11]=Ie,c[12]=ve,c[13]=Te,c[14]=Ee,c[15]=oe}function Tt(c,h){ye(c,h,h)}function dn(c,h){var l=t(),s;for(s=0;s<16;s++)l[s]=h[s];for(s=253;s>=0;s--)Tt(l,l),s!==2&&s!==4&&ye(l,l,h);for(s=0;s<16;s++)c[s]=l[s]}function Or(c,h){var l=t(),s;for(s=0;s<16;s++)l[s]=h[s];for(s=250;s>=0;s--)Tt(l,l),s!==1&&ye(l,l,h);for(s=0;s<16;s++)c[s]=l[s]}function ln(c,h,l){var s=new Uint8Array(32),_=new Float64Array(80),T,I,R=t(),G=t(),ce=t(),J=t(),$e=t(),ne=t();for(I=0;I<31;I++)s[I]=h[I];for(s[31]=h[31]&127|64,s[0]&=248,Ct(_,l),I=0;I<16;I++)G[I]=_[I],J[I]=R[I]=ce[I]=0;for(R[0]=J[0]=1,I=254;I>=0;--I)T=s[I>>>3]>>>(I&7)&1,_e(R,G,T),_e(ce,J,T),at($e,R,ce),Bt(R,R,ce),at(ce,G,J),Bt(G,G,J),Tt(J,$e),Tt(ne,R),ye(R,ce,R),ye(ce,G,$e),at($e,R,ce),Bt(R,R,ce),Tt(G,R),Bt(ce,J,ne),ye(R,ce,f),at(R,R,J),ye(ce,ce,R),ye(R,J,ne),ye(J,G,_),Tt(G,$e),_e(R,G,T),_e(ce,J,T);for(I=0;I<16;I++)_[I+16]=R[I],_[I+32]=ce[I],_[I+48]=G[I],_[I+64]=J[I];var xe=_.subarray(32),me=_.subarray(16);return dn(xe,xe),ye(me,me,xe),Re(c,me),0}function hr(c,h){return ln(c,h,i)}function tn(c,h){return r(h,32),hr(c,h)}function Nr(c,h,l){var s=new Uint8Array(32);return ln(s,l,h),U(c,n,s,Z)}var gr=pt,rn=Qt;function hn(c,h,l,s,_,T){var I=new Uint8Array(32);return Nr(I,_,T),gr(c,h,l,s,I)}function Ao(c,h,l,s,_,T){var I=new Uint8Array(32);return Nr(I,_,T),rn(c,h,l,s,I)}var $i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ba(c,h,l,s){for(var _=new Int32Array(16),T=new Int32Array(16),I,R,G,ce,J,$e,ne,xe,me,Pe,Ie,ve,Te,Ee,oe,de,ee,se,ae,Y,O,N,z,M,j,V,he=c[0],Le=c[1],Oe=c[2],ke=c[3],x=c[4],He=c[5],Ve=c[6],Ge=c[7],Ce=h[0],De=h[1],ze=h[2],kt=h[3],rt=h[4],St=h[5],At=h[6],It=h[7],zt=0;s>=128;){for(ae=0;ae<16;ae++)Y=8*ae+zt,_[ae]=l[Y+0]<<24|l[Y+1]<<16|l[Y+2]<<8|l[Y+3],T[ae]=l[Y+4]<<24|l[Y+5]<<16|l[Y+6]<<8|l[Y+7];for(ae=0;ae<80;ae++)if(I=he,R=Le,G=Oe,ce=ke,J=x,$e=He,ne=Ve,xe=Ge,me=Ce,Pe=De,Ie=ze,ve=kt,Te=rt,Ee=St,oe=At,de=It,O=Ge,N=It,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=(x>>>14|rt<<32-14)^(x>>>18|rt<<32-18)^(rt>>>41-32|x<<32-(41-32)),N=(rt>>>14|x<<32-14)^(rt>>>18|x<<32-18)^(x>>>41-32|rt<<32-(41-32)),z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,O=x&He^~x&Ve,N=rt&St^~rt&At,z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,O=$i[ae*2],N=$i[ae*2+1],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,O=_[ae%16],N=T[ae%16],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,ee=j&65535|V<<16,se=z&65535|M<<16,O=ee,N=se,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=(he>>>28|Ce<<32-28)^(Ce>>>34-32|he<<32-(34-32))^(Ce>>>39-32|he<<32-(39-32)),N=(Ce>>>28|he<<32-28)^(he>>>34-32|Ce<<32-(34-32))^(he>>>39-32|Ce<<32-(39-32)),z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,O=he&Le^he&Oe^Le&Oe,N=Ce&De^Ce&ze^De&ze,z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,xe=j&65535|V<<16,de=z&65535|M<<16,O=ce,N=ve,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=ee,N=se,z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,ce=j&65535|V<<16,ve=z&65535|M<<16,Le=I,Oe=R,ke=G,x=ce,He=J,Ve=$e,Ge=ne,he=xe,De=me,ze=Pe,kt=Ie,rt=ve,St=Te,At=Ee,It=oe,Ce=de,ae%16===15)for(Y=0;Y<16;Y++)O=_[Y],N=T[Y],z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=_[(Y+9)%16],N=T[(Y+9)%16],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,ee=_[(Y+1)%16],se=T[(Y+1)%16],O=(ee>>>1|se<<32-1)^(ee>>>8|se<<32-8)^ee>>>7,N=(se>>>1|ee<<32-1)^(se>>>8|ee<<32-8)^(se>>>7|ee<<32-7),z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,ee=_[(Y+14)%16],se=T[(Y+14)%16],O=(ee>>>19|se<<32-19)^(se>>>61-32|ee<<32-(61-32))^ee>>>6,N=(se>>>19|ee<<32-19)^(ee>>>61-32|se<<32-(61-32))^(se>>>6|ee<<32-6),z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,_[Y]=j&65535|V<<16,T[Y]=z&65535|M<<16;O=he,N=Ce,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[0],N=h[0],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[0]=he=j&65535|V<<16,h[0]=Ce=z&65535|M<<16,O=Le,N=De,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[1],N=h[1],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[1]=Le=j&65535|V<<16,h[1]=De=z&65535|M<<16,O=Oe,N=ze,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[2],N=h[2],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[2]=Oe=j&65535|V<<16,h[2]=ze=z&65535|M<<16,O=ke,N=kt,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[3],N=h[3],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[3]=ke=j&65535|V<<16,h[3]=kt=z&65535|M<<16,O=x,N=rt,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[4],N=h[4],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[4]=x=j&65535|V<<16,h[4]=rt=z&65535|M<<16,O=He,N=St,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[5],N=h[5],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[5]=He=j&65535|V<<16,h[5]=St=z&65535|M<<16,O=Ve,N=At,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[6],N=h[6],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[6]=Ve=j&65535|V<<16,h[6]=At=z&65535|M<<16,O=Ge,N=It,z=N&65535,M=N>>>16,j=O&65535,V=O>>>16,O=c[7],N=h[7],z+=N&65535,M+=N>>>16,j+=O&65535,V+=O>>>16,M+=z>>>16,j+=M>>>16,V+=j>>>16,c[7]=Ge=j&65535|V<<16,h[7]=It=z&65535|M<<16,zt+=128,s-=128}return s}function gn(c,h,l){var s=new Int32Array(8),_=new Int32Array(8),T=new Uint8Array(256),I,R=l;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,_[0]=4089235720,_[1]=2227873595,_[2]=4271175723,_[3]=1595750129,_[4]=2917565137,_[5]=725511199,_[6]=4215389547,_[7]=327033209,Ba(s,_,h,l),l%=128,I=0;I<l;I++)T[I]=h[R-l+I];for(T[l]=128,l=256-128*(l<112?1:0),T[l-9]=0,m(T,l-8,R/536870912|0,R<<3),Ba(s,_,T,l),I=0;I<8;I++)m(c,8*I,s[I],_[I]);return 0}function Io(c,h){var l=t(),s=t(),_=t(),T=t(),I=t(),R=t(),G=t(),ce=t(),J=t();Bt(l,c[1],c[0]),Bt(J,h[1],h[0]),ye(l,l,J),at(s,c[0],c[1]),at(J,h[0],h[1]),ye(s,s,J),ye(_,c[3],h[3]),ye(_,_,u),ye(T,c[2],h[2]),at(T,T,T),Bt(I,s,l),Bt(R,T,_),at(G,T,_),at(ce,s,l),ye(c[0],I,R),ye(c[1],ce,G),ye(c[2],G,R),ye(c[3],I,ce)}function Ta(c,h,l){var s;for(s=0;s<4;s++)_e(c[s],h[s],l)}function hs(c,h){var l=t(),s=t(),_=t();dn(_,h[2]),ye(l,h[0],_),ye(s,h[1],_),Re(c,s),c[31]^=Nt(l)<<7}function gs(c,h,l){var s,_;for(F(c[0],o),F(c[1],a),F(c[2],a),F(c[3],o),_=255;_>=0;--_)s=l[_/8|0]>>(_&7)&1,Ta(c,h,s),Io(h,c),Io(c,c),Ta(c,h,s)}function Po(c,h){var l=[t(),t(),t(),t()];F(l[0],g),F(l[1],w),F(l[2],a),ye(l[3],g,w),gs(c,l,h)}function nn(c,h,l){var s=new Uint8Array(64),_=[t(),t(),t(),t()],T;for(l||r(h,32),gn(s,h,32),s[0]&=248,s[31]&=127,s[31]|=64,Po(_,s),hs(c,_),T=0;T<32;T++)h[T+32]=c[T];return 0}var v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function B(c,h){var l,s,_,T;for(s=63;s>=32;--s){for(l=0,_=s-32,T=s-12;_<T;++_)h[_]+=l-16*h[s]*v[_-(s-32)],l=Math.floor((h[_]+128)/256),h[_]-=l*256;h[_]+=l,h[s]=0}for(l=0,_=0;_<32;_++)h[_]+=l-(h[31]>>4)*v[_],l=h[_]>>8,h[_]&=255;for(_=0;_<32;_++)h[_]-=l*v[_];for(s=0;s<32;s++)h[s+1]+=h[s]>>8,c[s]=h[s]&255}function A(c){var h=new Float64Array(64),l;for(l=0;l<64;l++)h[l]=c[l];for(l=0;l<64;l++)c[l]=0;B(c,h)}function C(c,h,l,s){var _=new Uint8Array(64),T=new Uint8Array(64),I=new Uint8Array(64),R,G,ce=new Float64Array(64),J=[t(),t(),t(),t()];gn(_,s,32),_[0]&=248,_[31]&=127,_[31]|=64;var $e=l+64;for(R=0;R<l;R++)c[64+R]=h[R];for(R=0;R<32;R++)c[32+R]=_[32+R];for(gn(I,c.subarray(32),l+32),A(I),Po(J,I),hs(c,J),R=32;R<64;R++)c[R]=s[R];for(gn(T,c,l+64),A(T),R=0;R<64;R++)ce[R]=0;for(R=0;R<32;R++)ce[R]=I[R];for(R=0;R<32;R++)for(G=0;G<32;G++)ce[R+G]+=T[R]*_[G];return B(c.subarray(32),ce),$e}function Q(c,h){var l=t(),s=t(),_=t(),T=t(),I=t(),R=t(),G=t();return F(c[2],a),Ct(c[1],h),Tt(_,c[1]),ye(T,_,d),Bt(_,_,c[2]),at(T,c[2],T),Tt(I,T),Tt(R,I),ye(G,R,I),ye(l,G,_),ye(l,l,T),Or(l,l),ye(l,l,_),ye(l,l,T),ye(l,l,T),ye(c[0],l,T),Tt(s,c[0]),ye(s,s,T),Ze(s,_)&&ye(c[0],c[0],E),Tt(s,c[0]),ye(s,s,T),Ze(s,_)?-1:(Nt(c[0])===h[31]>>7&&Bt(c[0],o,c[0]),ye(c[3],c[0],c[1]),0)}function pe(c,h,l,s){var _,T=new Uint8Array(32),I=new Uint8Array(64),R=[t(),t(),t(),t()],G=[t(),t(),t(),t()];if(l<64||Q(G,s))return-1;for(_=0;_<l;_++)c[_]=h[_];for(_=0;_<32;_++)c[_+32]=s[_];if(gn(I,c,l),A(I),gs(R,G,I),Po(G,h.subarray(32)),Io(R,G),hs(T,R),l-=64,k(h,0,T,0)){for(_=0;_<l;_++)c[_]=0;return-1}for(_=0;_<l;_++)c[_]=h[_+64];return l}var Ke=32,ut=24,ft=32,tt=16,Wt=32,Lo=32,Vi=32,_n=32,bc=32,xl=ut,_p=ft,yp=tt,Mn=64,Gi=32,ko=64,pc=32,xc=64;e.lowlevel={crypto_core_hsalsa20:U,crypto_stream_xor:be,crypto_stream:te,crypto_stream_salsa20_xor:K,crypto_stream_salsa20:$,crypto_onetimeauth:le,crypto_onetimeauth_verify:ct,crypto_verify_16:S,crypto_verify_32:k,crypto_secretbox:pt,crypto_secretbox_open:Qt,crypto_scalarmult:ln,crypto_scalarmult_base:hr,crypto_box_beforenm:Nr,crypto_box_afternm:gr,crypto_box:hn,crypto_box_open:Ao,crypto_box_keypair:tn,crypto_hash:gn,crypto_sign:C,crypto_sign_keypair:nn,crypto_sign_open:pe,crypto_secretbox_KEYBYTES:Ke,crypto_secretbox_NONCEBYTES:ut,crypto_secretbox_ZEROBYTES:ft,crypto_secretbox_BOXZEROBYTES:tt,crypto_scalarmult_BYTES:Wt,crypto_scalarmult_SCALARBYTES:Lo,crypto_box_PUBLICKEYBYTES:Vi,crypto_box_SECRETKEYBYTES:_n,crypto_box_BEFORENMBYTES:bc,crypto_box_NONCEBYTES:xl,crypto_box_ZEROBYTES:_p,crypto_box_BOXZEROBYTES:yp,crypto_sign_BYTES:Mn,crypto_sign_PUBLICKEYBYTES:Gi,crypto_sign_SECRETKEYBYTES:ko,crypto_sign_SEEDBYTES:pc,crypto_hash_BYTES:xc,gf:t,D:d,L:v,pack25519:Re,unpack25519:Ct,M:ye,A:at,S:Tt,Z:Bt,pow2523:Or,add:Io,set25519:F,modL:B,scalarmult:gs,scalarbase:Po};function wl(c,h){if(c.length!==Ke)throw new Error("bad key size");if(h.length!==ut)throw new Error("bad nonce size")}function bp(c,h){if(c.length!==Vi)throw new Error("bad public key size");if(h.length!==_n)throw new Error("bad secret key size")}function Cr(){for(var c=0;c<arguments.length;c++)if(!(arguments[c]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ml(c){for(var h=0;h<c.length;h++)c[h]=0}e.randomBytes=function(c){var h=new Uint8Array(c);return r(h,c),h},e.secretbox=function(c,h,l){Cr(c,h,l),wl(l,h);for(var s=new Uint8Array(ft+c.length),_=new Uint8Array(s.length),T=0;T<c.length;T++)s[T+ft]=c[T];return pt(_,s,s.length,h,l),_.subarray(tt)},e.secretbox.open=function(c,h,l){Cr(c,h,l),wl(l,h);for(var s=new Uint8Array(tt+c.length),_=new Uint8Array(s.length),T=0;T<c.length;T++)s[T+tt]=c[T];return s.length<32||Qt(_,s,s.length,h,l)!==0?null:_.subarray(ft)},e.secretbox.keyLength=Ke,e.secretbox.nonceLength=ut,e.secretbox.overheadLength=tt,e.scalarMult=function(c,h){if(Cr(c,h),c.length!==Lo)throw new Error("bad n size");if(h.length!==Wt)throw new Error("bad p size");var l=new Uint8Array(Wt);return ln(l,c,h),l},e.scalarMult.base=function(c){if(Cr(c),c.length!==Lo)throw new Error("bad n size");var h=new Uint8Array(Wt);return hr(h,c),h},e.scalarMult.scalarLength=Lo,e.scalarMult.groupElementLength=Wt,e.box=function(c,h,l,s){var _=e.box.before(l,s);return e.secretbox(c,h,_)},e.box.before=function(c,h){Cr(c,h),bp(c,h);var l=new Uint8Array(bc);return Nr(l,c,h),l},e.box.after=e.secretbox,e.box.open=function(c,h,l,s){var _=e.box.before(l,s);return e.secretbox.open(c,h,_)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var c=new Uint8Array(Vi),h=new Uint8Array(_n);return tn(c,h),{publicKey:c,secretKey:h}},e.box.keyPair.fromSecretKey=function(c){if(Cr(c),c.length!==_n)throw new Error("bad secret key size");var h=new Uint8Array(Vi);return hr(h,c),{publicKey:h,secretKey:new Uint8Array(c)}},e.box.publicKeyLength=Vi,e.box.secretKeyLength=_n,e.box.sharedKeyLength=bc,e.box.nonceLength=xl,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(c,h){if(Cr(c,h),h.length!==ko)throw new Error("bad secret key size");var l=new Uint8Array(Mn+c.length);return C(l,c,c.length,h),l},e.sign.open=function(c,h){if(Cr(c,h),h.length!==Gi)throw new Error("bad public key size");var l=new Uint8Array(c.length),s=pe(l,c,c.length,h);if(s<0)return null;for(var _=new Uint8Array(s),T=0;T<_.length;T++)_[T]=l[T];return _},e.sign.detached=function(c,h){for(var l=e.sign(c,h),s=new Uint8Array(Mn),_=0;_<s.length;_++)s[_]=l[_];return s},e.sign.detached.verify=function(c,h,l){if(Cr(c,h,l),h.length!==Mn)throw new Error("bad signature size");if(l.length!==Gi)throw new Error("bad public key size");var s=new Uint8Array(Mn+c.length),_=new Uint8Array(Mn+c.length),T;for(T=0;T<Mn;T++)s[T]=h[T];for(T=0;T<c.length;T++)s[T+Mn]=c[T];return pe(_,s,s.length,l)>=0},e.sign.keyPair=function(){var c=new Uint8Array(Gi),h=new Uint8Array(ko);return nn(c,h),{publicKey:c,secretKey:h}},e.sign.keyPair.fromSecretKey=function(c){if(Cr(c),c.length!==ko)throw new Error("bad secret key size");for(var h=new Uint8Array(Gi),l=0;l<h.length;l++)h[l]=c[32+l];return{publicKey:h,secretKey:new Uint8Array(c)}},e.sign.keyPair.fromSeed=function(c){if(Cr(c),c.length!==pc)throw new Error("bad seed size");for(var h=new Uint8Array(Gi),l=new Uint8Array(ko),s=0;s<32;s++)l[s]=c[s];return nn(h,l,!0),{publicKey:h,secretKey:l}},e.sign.publicKeyLength=Gi,e.sign.secretKeyLength=ko,e.sign.seedLength=pc,e.sign.signatureLength=Mn,e.hash=function(c){Cr(c);var h=new Uint8Array(xc);return gn(h,c,c.length),h},e.hash.hashLength=xc,e.verify=function(c,h){return Cr(c,h),c.length===0||h.length===0||c.length!==h.length?!1:P(c,0,h,0,c.length)===0},e.setPRNG=function(c){r=c},function(){var c=typeof self<"u"?self.crypto||self.msCrypto:null;if(c&&c.getRandomValues){var h=65536;e.setPRNG(function(l,s){var _,T=new Uint8Array(s);for(_=0;_<s;_+=h)c.getRandomValues(T.subarray(_,_+Math.min(s-_,h)));for(_=0;_<s;_++)l[_]=T[_];ml(T)})}else typeof vl<"u"&&(c=Ep(),c&&c.randomBytes&&e.setPRNG(function(l,s){var _,T=c.randomBytes(s);for(_=0;_<s;_++)l[_]=T[_];ml(T)}))}()})(typeof Ka<"u"&&Ka.exports?Ka.exports:self.nacl=self.nacl||{})});var h0=D((l0,Wa)=>{b();p();(function(e,t){"use strict";typeof Wa<"u"&&Wa.exports?Wa.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(l0,function(){"use strict";var e={};function t(r){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(r))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(r){if(typeof r!="string")throw new TypeError("expected string");var n,i=unescape(encodeURIComponent(r)),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o},e.encodeUTF8=function(r){var n,i=[];for(n=0;n<r.length;n++)i.push(String.fromCharCode(r[n]));return decodeURIComponent(escape(i.join("")))},typeof atob>"u"?typeof y.Buffer.from<"u"?(e.encodeBase64=function(r){return y.Buffer.from(r).toString("base64")},e.decodeBase64=function(r){return t(r),new Uint8Array(Array.prototype.slice.call(y.Buffer.from(r,"base64"),0))}):(e.encodeBase64=function(r){return new y.Buffer(r).toString("base64")},e.decodeBase64=function(r){return t(r),new Uint8Array(Array.prototype.slice.call(new y.Buffer(r,"base64"),0))}):(e.encodeBase64=function(r){var n,i=[],o=r.length;for(n=0;n<o;n++)i.push(String.fromCharCode(r[n]));return btoa(i.join(""))},e.decodeBase64=function(r){t(r);var n,i=atob(r),o=new Uint8Array(i.length);for(n=0;n<i.length;n++)o[n]=i.charCodeAt(n);return o}),e})});var b0=D(Gr=>{b();p();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.getEncryptionPublicKey=Gr.decryptSafely=Gr.decrypt=Gr.encryptSafely=Gr.encrypt=void 0;var Ki=d0(),on=h0(),yn=Zi();function g0({publicKey:e,data:t,version:r}){if((0,yn.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,yn.isNullish)(t))throw new Error("Missing data parameter");if((0,yn.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{let n=Ki.box.keyPair(),i;try{i=on.decodeBase64(e)}catch{throw new Error("Bad public key")}let o=on.decodeUTF8(t),a=Ki.randomBytes(Ki.box.nonceLength),f=Ki.box(o,a,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:on.encodeBase64(a),ephemPublicKey:on.encodeBase64(n.publicKey),ciphertext:on.encodeBase64(f)}}default:throw new Error("Encryption type/version not supported")}}Gr.encrypt=g0;function z1({publicKey:e,data:t,version:r}){if((0,yn.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,yn.isNullish)(t))throw new Error("Missing data parameter");if((0,yn.isNullish)(r))throw new Error("Missing version parameter");let n=2**11,i=16;if(typeof t=="object"&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:t,padding:""},f=y.Buffer.byteLength(JSON.stringify(o),"utf-8")%n,d=0;f>0&&(d=n-f-i),o.padding="0".repeat(d);let u=JSON.stringify(o);return g0({publicKey:e,data:u,version:r})}Gr.encryptSafely=z1;function _0({encryptedData:e,privateKey:t}){if((0,yn.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,yn.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{let r=y0(t),n=Ki.box.keyPair.fromSecretKey(r).secretKey,i=on.decodeBase64(e.nonce),o=on.decodeBase64(e.ciphertext),a=on.decodeBase64(e.ephemPublicKey),f=Ki.box.open(o,i,a,n),d;try{d=on.encodeUTF8(f)}catch{throw new Error("Decryption failed.")}if(d)return d;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}Gr.decrypt=_0;function $1({encryptedData:e,privateKey:t}){if((0,yn.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,yn.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(_0({encryptedData:e,privateKey:t})).data}Gr.decryptSafely=$1;function V1(e){let t=y0(e),r=Ki.box.keyPair.fromSecretKey(t).publicKey;return on.encodeBase64(r)}Gr.getEncryptionPublicKey=V1;function y0(e){let t=y.Buffer.from(e,"hex").toString("base64");return on.decodeBase64(t)}});var Zi=D(mr=>{b();p();var G1=mr&&mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),x0=mr&&mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&G1(t,e,r)};Object.defineProperty(mr,"__esModule",{value:!0});mr.isNullish=mr.legacyToBuffer=mr.padWithZeroes=void 0;x0(u0(),mr);x0(b0(),mr);var p0=Rr();function F1(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}mr.padWithZeroes=F1;function Z1(e){return typeof e=="string"&&!(0,p0.isHexString)(e)?y.Buffer.from(e):(0,p0.toBuffer)(e)}mr.legacyToBuffer=Z1;function K1(e){return e==null}mr.isNullish=K1});var B0=D(vr=>{b();p();Object.defineProperty(vr,"__esModule",{value:!0});vr.recoverFromSignature=vr.ecdsaSign=vr.makeSignature=vr.calculateSigRecovery=vr.isValidSigRecovery=vr.hashPersonalMessage=void 0;var W1=Pa(),Y1=_s(),m0=Ht(),Kc=mc(),Ya=qa(),vs=Aa(),Wi=ps(),w0=Zi(),X1=Oo(),J1=function(e){(0,Y1.assertIsBuffer)(e);let t=vs.Buffer.from(`Ethereum Signed Message:
${e.length.toString()}`,"utf-8");return(0,W1.keccak)(vs.Buffer.concat([t,e]))};vr.hashPersonalMessage=J1;function v0(e){let t=new m0.BN(e);return t.eqn(0)||t.eqn(1)}vr.isValidSigRecovery=v0;function E0(e,t){let r=(0,Ya.toType)(e,Ya.TypeOutput.BN);if(!t)return r.subn(27);let n=(0,Ya.toType)(t,Ya.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}vr.calculateSigRecovery=E0;function Q1(e,t,r){let n=(0,Wi.fromSigned)(t),i=(0,Wi.fromSigned)(r),o=e,a=(0,w0.padWithZeroes)((0,Wi.toUnsigned)(n).toString("hex"),64),f=(0,w0.padWithZeroes)((0,Wi.toUnsigned)(i).toString("hex"),64),d=m0.base.stripHexPrefix((0,X1.intToHex)(o));return(0,Wi.addHexPrefix)(a.concat(f,d))}vr.makeSignature=Q1;function ew(e,t,r){let{signature:n,recovery:i}=Kc.signUtil.secp256k1.sign(e,t),o=vs.Buffer.from(n.slice(0,32)),a=vs.Buffer.from(n.slice(32,64));if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{v:r?i+(r*2+35):i+27,r:o,s:a}}vr.ecdsaSign=ew;function tw(e,t,r,n,i){let o=vs.Buffer.concat([(0,Wi.setLengthLeft)(r,32),(0,Wi.setLengthLeft)(n,32)],64),a=E0(t,i);if(!v0(a))throw new Error("Invalid signature v value");let f=Kc.signUtil.secp256k1.recover(o,a.toNumber(),e,!1);if(f==null)throw new Error("ecdsaRecover error");let d=Kc.signUtil.secp256k1.publicKeyConvert(f,!1);if(d==null)throw new Error("publicKeyConvert error");return d.slice(1)}vr.recoverFromSignature=tw});var Rr=D(Mt=>{b();p();var T0=Mt&&Mt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rw=Mt&&Mt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fi=Mt&&Mt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&T0(t,e,r)},nw=Mt&&Mt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&T0(t,e,r);return rw(t,e),t};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.rlp=void 0;fi(vc(),Mt);fi($c(),Mt);fi(Zl(),Mt);fi(Pa(),Mt);fi(B0(),Mt);fi(ps(),Mt);fi(qa(),Mt);Mt.rlp=nw(Ic());fi(Oo(),Mt)});var Es=D(Xi=>{b();p();Object.defineProperty(Xi,"__esModule",{value:!0});Xi.BaseTransaction=Xi.Chain=void 0;var ar=Rr(),Yi=Ht(),S0;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Kovan=42]="Kovan",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"})(S0=Xi.Chain||(Xi.Chain={}));var Wc=class{constructor(t){this.activeCapabilities=[],this.DEFAULT_CHAIN=S0.Mainnet;let{nonce:r,gasLimit:n,to:i,value:o,data:a,v:f,r:d,s:u,type:g}=t;this._type=new Yi.BN((0,ar.toBuffer)(g)).toNumber();let w=(0,ar.toBuffer)(i===""?"0x":i),E=(0,ar.toBuffer)(f===""?"0x":f),m=(0,ar.toBuffer)(d===""?"0x":d),P=(0,ar.toBuffer)(u===""?"0x":u);this.nonce=new Yi.BN((0,ar.toBuffer)(r===""?"0x":r)),this.gasLimit=new Yi.BN((0,ar.toBuffer)(n===""?"0x":n)),this.to=w.length>0?new ar.Address(w):void 0,this.value=new Yi.BN((0,ar.toBuffer)(o===""?"0x":o)),this.data=(0,ar.toBuffer)(a===""?"0x":a),this.v=E.length>0?new Yi.BN(E):void 0,this.r=m.length>0?new Yi.BN(m):void 0,this.s=P.length>0?new Yi.BN(P):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0)}get transactionType(){return this.type}get type(){return this._type}isSigned(){let{v:t,r,s:n}=this;return this.type===0?!(!t||!r||!n):!(t===void 0||!r||!n)}sign(t){if(t.length!==32){let a=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(a)}let r=this.getMessageToSign(!0),{v:n,r:i,s:o}=(0,ar.ecdsaSign)(r,t);return this._processSignature(n,i,o)}_validateCannotExceedMaxInteger(t,r=256,n=!1){for(let[i,o]of Object.entries(t))switch(r){case 64:if(n){if(o?.gte(ar.MAX_UINT64)){let a=this._errorMsg(`${i} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(a)}}else if(o?.gt(ar.MAX_UINT64)){let a=this._errorMsg(`${i} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(a)}break;case 256:if(n){if(o?.gte(ar.MAX_INTEGER)){let a=this._errorMsg(`${i} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(a)}}else if(o?.gt(ar.MAX_INTEGER)){let a=this._errorMsg(`${i} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(a)}break;default:{let a=this._errorMsg("unimplemented bits value");throw new Error(a)}}}_getSharedErrorPostfix(){let t="";try{t=this.isSigned()?(0,ar.bufferToHex)(this.hash()):"not available (unsigned)"}catch{t="error"}let r="";try{r=this.isSigned().toString()}catch{t="error"}let n=`tx type=${this.type} hash=${t} nonce=${this.nonce} value=${this.value} `;return n+=`signed=${r}`,n}processSignature(t,r,n){return this._processSignature(t,r,n)}processSignatureWithRawV(t,r,n){return this._processSignatureWithRawV(t,r,n)}};Xi.BaseTransaction=Wc});var A0=D(Yc=>{b();p();Object.defineProperty(Yc,"__esModule",{value:!0});var Xe=Rr(),iw=Es(),ci=Ht(),ow=0,ui=class extends iw.BaseTransaction{static fromTxData(t){return new ui(t)}static fromSerializedTx(t,r){let n=Xe.rlp.decode(t);if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,r)}static fromValuesArray(t,r){if(t.length!==6&&t.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");let[n,i,o,a,f,d,u,g,w]=t;return(0,Xe.validateNoLeadingZeroes)({nonce:n,gasPrice:i,gasLimit:o,value:f,v:u,r:g,s:w}),new ui({nonce:n,gasPrice:i,gasLimit:o,to:a,value:f,data:d,v:u,r:g,s:w,chainId:r})}constructor(t){if(super({...t,type:ow}),this.gasPrice=new ci.BN((0,Xe.toBuffer)(t.gasPrice===""?"0x":t.gasPrice)),this.chainId=new ci.BN((0,Xe.toBuffer)(t.chainId===""?"0x":t.chainId)),this.gasPrice.mul(this.gasLimit).gt(Xe.MAX_INTEGER)){let r=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(r)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice})}raw(){return[(0,Xe.bnToUnpaddedBuffer)(this.nonce),(0,Xe.bnToUnpaddedBuffer)(this.gasPrice),(0,Xe.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,Xe.bnToUnpaddedBuffer)(this.value),this.data,this.v!==void 0?(0,Xe.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,Xe.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,Xe.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]}serialize(){return Xe.rlp.encode(this.raw())}_getMessageToSign(){return[(0,Xe.bnToUnpaddedBuffer)(this.nonce),(0,Xe.bnToUnpaddedBuffer)(this.gasPrice),(0,Xe.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,Xe.bnToUnpaddedBuffer)(this.value),this.data,(0,Xe.toBuffer)(this.chainId),(0,Xe.unpadBuffer)((0,Xe.toBuffer)(0)),(0,Xe.unpadBuffer)((0,Xe.toBuffer)(0))]}getMessageToSign(t=!0){let r=this._getMessageToSign();return t?(0,Xe.rlphash)(r):r}hash(){return(0,Xe.rlphash)(this.raw())}_processSignature(t,r,n){let i=new ci.BN(2*this.chainId.toNumber()+t+8);return ui.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,chainId:this.chainId,v:i,r:new ci.BN(r),s:new ci.BN(n)})}_processSignatureWithRawV(t,r,n){return ui.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,chainId:this.chainId,v:new ci.BN(t),r:new ci.BN(r),s:new ci.BN(n)})}toJSON(){return{nonce:(0,Xe.bnToHex)(this.nonce),gasPrice:(0,Xe.bnToHex)(this.gasPrice),gasLimit:(0,Xe.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Xe.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==void 0?(0,Xe.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,Xe.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,Xe.bnToHex)(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}};Yc.default=ui});var Xc=D(bn=>{b();p();Object.defineProperty(bn,"__esModule",{value:!0});bn.isAuthorizationList=bn.isAuthorizationListBytes=bn.isAccessList=bn.isAccessListBuffer=void 0;function I0(e){if(e.length===0)return!0;let t=e[0];return!!Array.isArray(t)}bn.isAccessListBuffer=I0;function sw(e){return!I0(e)}bn.isAccessList=sw;function P0(e){if(e.length===0)return!0;let t=e[0];return!!Array.isArray(t)}bn.isAuthorizationListBytes=P0;function aw(e){return!P0(e)}bn.isAuthorizationList=aw});var Xa=D(Ho=>{b();p();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.AuthorizationLists=Ho.AccessLists=void 0;var ot=Rr(),L0=Xc(),Jc=class{static getAccessListData(t){let r,n;if(t&&(0,L0.isAccessList)(t)){r=t;let i=[];for(let o=0;o<t.length;o++){let a=t[o],f=(0,ot.toBuffer)(a.address),d=[];for(let u=0;u<a.storageKeys.length;u++)d.push((0,ot.toBuffer)(a.storageKeys[u]));i.push([f,d])}n=i}else{n=t??[];let i=[];for(let o=0;o<n.length;o++){let a=n[o],f=(0,ot.bufferToHex)(a[0]),d=[];for(let g=0;g<a[1].length;g++)d.push((0,ot.bufferToHex)(a[1][g]));let u={address:f,storageKeys:d};i.push(u)}r=i}return{AccessListJSON:r,accessList:n}}static verifyAccessList(t){for(let r=0;r<t.length;r++){let n=t[r],i=n[0],o=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(i.length!=20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let a=0;a<o.length;a++)if(o[a].length!=32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(t){let r=[];for(let n=0;n<t.length;n++){let i=t[n],o={address:"0x"+(0,ot.setLengthLeft)(i[0],20).toString("hex"),storageKeys:[]},a=i[1];for(let f=0;f<a.length;f++){let d=a[f];o.storageKeys.push("0x"+(0,ot.setLengthLeft)(d,32).toString("hex"))}r.push(o)}return r}};Ho.AccessLists=Jc;var Qc=class{static getAuthorizationListData(t){let r,n;if((0,L0.isAuthorizationList)(t)){r=t;let i=[],o=["chainId","address","nonce","yParity","r","s"];for(let a=0;a<t.length;a++){let f=t[a];for(let P of o)if(f[P]===void 0)throw new Error(`EIP-7702 authorization list invalid: ${P} is not defined`);let d=(0,ot.hexToBytes)(f.chainId),u=(0,ot.hexToBytes)(f.address),g=(0,ot.hexToBytes)(f.nonce),w=(0,ot.hexToBytes)(f.yParity),E=(0,ot.hexToBytes)(f.r),m=(0,ot.hexToBytes)(f.s);i.push([d,u,g,w,E,m])}n=i}else{n=t??[];let i=[];for(let o=0;o<n.length;o++){let a=n[o],f=(0,ot.bytesToHex)(a[0]),d=(0,ot.bytesToHex)(a[1]),u=(0,ot.bytesToHex)(a[2]),g=(0,ot.bytesToHex)(a[3]),w=(0,ot.bytesToHex)(a[4]),E=(0,ot.bytesToHex)(a[5]),m={chainId:f,address:d,nonce:u,yParity:g,r:w,s:E};i.push(m)}r=i}return{AuthorizationListJSON:r,authorizationList:n}}static verifyAuthorizationList(t){if(t.length===0)throw new Error("Invalid EIP-7702 transaction: authorization list is empty");for(let r=0;r<t.length;r++){let n=t[r],i=n[0],o=n[1],a=n[2],f=n[3],d=n[4],u=n[5];if((0,ot.validateNoLeadingZeroes)({yParity:f,r:d,s:u,nonce:a,chainId:i}),o.length!==20)throw new Error("Invalid EIP-7702 transaction: address length should be 20 bytes");if((0,ot.bytesToBigInt)(i)>ot.MAX_INTEGER_BI)throw new Error("Invalid EIP-7702 transaction: chainId exceeds 2^256 - 1");if((0,ot.bytesToBigInt)(a)>ot.MAX_UINT64_BI)throw new Error("Invalid EIP-7702 transaction: nonce exceeds 2^64 - 1");if((0,ot.bytesToBigInt)(f)>=BigInt(2**8))throw new Error("Invalid EIP-7702 transaction: yParity should be fit within 1 byte (0 - 255)");if((0,ot.bytesToBigInt)(d)>ot.MAX_INTEGER_BI)throw new Error("Invalid EIP-7702 transaction: r exceeds 2^256 - 1");if((0,ot.bytesToBigInt)(u)>ot.MAX_INTEGER_BI)throw new Error("Invalid EIP-7702 transaction: s exceeds 2^256 - 1")}}};Ho.AuthorizationLists=Qc});var k0=D(nu=>{b();p();Object.defineProperty(nu,"__esModule",{value:!0});var dt=Rr(),zn=Ht(),fw=Es(),eu=Xa(),ru=1,tu=y.Buffer.from(ru.toString(16).padStart(2,"0"),"hex"),$n=class extends fw.BaseTransaction{static fromTxData(t){return new $n(t)}static fromSerializedTx(t){if(!t.slice(0,1).equals(tu))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${ru}, received: ${t.slice(0,1).toString("hex")}`);let r=dt.rlp.decode(t.slice(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return $n.fromValuesArray(r)}static fromValuesArray(t){if(t.length!==8&&t.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");let[r,n,i,o,a,f,d,u,g,w,E]=t;(0,dt.validateNoLeadingZeroes)({nonce:n,gasPrice:i,gasLimit:o,value:f,v:g,r:w,s:E});let m=[];return new $n({chainId:new zn.BN(r),nonce:n,gasPrice:i,gasLimit:o,to:a,value:f,data:d,accessList:u??m,v:g!==void 0?new zn.BN(g):void 0,r:w,s:E})}constructor(t){super({...t,type:ru});let{chainId:r,accessList:n,gasPrice:i}=t;this.chainId=(0,dt.toType)(r,dt.TypeOutput.BN),this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);let o=eu.AccessLists.getAccessListData(n??[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,eu.AccessLists.verifyAccessList(this.accessList),this.gasPrice=new zn.BN((0,dt.toBuffer)(i===""?"0x":i)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),this.gasPrice.mul(this.gasLimit).gt(dt.MAX_INTEGER)){let a=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(a)}if(this.v&&!this.v.eqn(0)&&!this.v.eqn(1)){let a=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(a)}}raw(){return[(0,dt.bnToUnpaddedBuffer)(this.chainId),(0,dt.bnToUnpaddedBuffer)(this.nonce),(0,dt.bnToUnpaddedBuffer)(this.gasPrice),(0,dt.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,dt.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,dt.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,dt.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,dt.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]}serialize(){let t=this.raw();return y.Buffer.concat([tu,dt.rlp.encode(t)])}getMessageToSign(t=!0){let r=this.raw().slice(0,8),n=y.Buffer.concat([tu,dt.rlp.encode(r)]);return t?(0,dt.keccak256)(n):n}hash(){if(!this.isSigned()){let t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return(0,dt.keccak256)(this.serialize())}_processSignature(t,r,n){return $n.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new zn.BN(t-27),r:new zn.BN(r),s:new zn.BN(n)})}_processSignatureWithRawV(t,r,n){return $n.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new zn.BN(t),r:new zn.BN(r),s:new zn.BN(n)})}toJSON(){let t=eu.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,dt.bnToHex)(this.chainId),nonce:(0,dt.bnToHex)(this.nonce),gasPrice:(0,dt.bnToHex)(this.gasPrice),gasLimit:(0,dt.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,dt.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:this.v!==void 0?(0,dt.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,dt.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,dt.bnToHex)(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length??0}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}};nu.default=$n});var O0=D(ou=>{b();p();Object.defineProperty(ou,"__esModule",{value:!0});var cw=Rr(),uw=Ht(),Vn=su(),iu=class{static fromTxData(t){if(!("type"in t)||t.type===void 0)return Vn.Transaction.fromTxData(t);{let r=new uw.BN((0,cw.toBuffer)(t.type)).toNumber();if(r===0)return Vn.Transaction.fromTxData(t);if(r===1)return Vn.AccessListEIP2930Transaction.fromTxData(t);if(r===2)return Vn.FeeMarketEIP1559Transaction.fromTxData(t);if(r===4)return Vn.EOACodeEIP7702Transaction.fromTxData(t);throw new Error(`Tx instantiation with type ${r} not supported`)}}static fromSerializedData(t,r){if(t[0]<=127){let n;switch(t[0]){case 1:n=2930;break;case 2:n=1559;break;case 4:n=7702;break;default:throw new Error(`TypedTransaction with ID ${t[0]} unknown`)}return n===1559?Vn.FeeMarketEIP1559Transaction.fromSerializedTx(t):n===7702?Vn.EOACodeEIP7702Transaction.fromSerializedTx(t):Vn.AccessListEIP2930Transaction.fromSerializedTx(t)}else return Vn.Transaction.fromSerializedTx(t,r)}};ou.default=iu});var N0=D(uu=>{b();p();Object.defineProperty(uu,"__esModule",{value:!0});var nt=Rr(),pn=Ht(),dw=Es(),au=Xa(),cu=2,fu=y.Buffer.from(cu.toString(16).padStart(2,"0"),"hex"),Gn=class extends dw.BaseTransaction{static fromTxData(t){return new Gn(t)}static fromSerializedTx(t){if(!t.slice(0,1).equals(fu))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${cu}, received: ${t.slice(0,1).toString("hex")}`);let r=nt.rlp.decode(t.slice(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Gn.fromValuesArray(r)}static fromValuesArray(t){if(t.length!==9&&t.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");let[r,n,i,o,a,f,d,u,g,w,E,m]=t;return(0,nt.validateNoLeadingZeroes)({nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:o,gasLimit:a,value:d,v:w,r:E,s:m}),new Gn({chainId:new pn.BN(r),nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:o,gasLimit:a,to:f,value:d,data:u,accessList:g??[],v:w!==void 0?new pn.BN(w):void 0,r:E,s:m})}constructor(t){super({...t,type:cu});let{chainId:r,accessList:n,maxFeePerGas:i,maxPriorityFeePerGas:o}=t;this.chainId=(0,nt.toType)(r,nt.TypeOutput.BN),this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);let a=au.AccessLists.getAccessListData(n??[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,au.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=new pn.BN((0,nt.toBuffer)(i===""?"0x":i)),this.maxPriorityFeePerGas=new pn.BN((0,nt.toBuffer)(o===""?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),this.gasLimit.mul(this.maxFeePerGas).gt(nt.MAX_INTEGER)){let f=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(f)}if(this.maxFeePerGas.lt(this.maxPriorityFeePerGas)){let f=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(f)}if(this.v&&!this.v.eqn(0)&&!this.v.eqn(1)){let f=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(f)}}raw(){return[(0,nt.bnToUnpaddedBuffer)(this.chainId),(0,nt.bnToUnpaddedBuffer)(this.nonce),(0,nt.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,nt.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,nt.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,nt.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,nt.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,nt.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,nt.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]}serialize(){let t=this.raw();return y.Buffer.concat([fu,nt.rlp.encode(t)])}getMessageToSign(t=!0){let r=this.raw().slice(0,9),n=y.Buffer.concat([fu,nt.rlp.encode(r)]);return t?(0,nt.keccak256)(n):n}hash(){if(!this.isSigned()){let t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return(0,nt.keccak256)(this.serialize())}_processSignature(t,r,n){return Gn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new pn.BN(t-27),r:new pn.BN(r),s:new pn.BN(n)})}_processSignatureWithRawV(t,r,n){return Gn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new pn.BN(t),r:new pn.BN(r),s:new pn.BN(n)})}toJSON(){let t=au.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,nt.bnToHex)(this.chainId),nonce:(0,nt.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,nt.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,nt.bnToHex)(this.maxFeePerGas),gasLimit:(0,nt.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,nt.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,v:this.v!==void 0?(0,nt.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,nt.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,nt.bnToHex)(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}};uu.default=Gn});var C0=D(hu=>{b();p();Object.defineProperty(hu,"__esModule",{value:!0});var it=Rr(),xn=Ht(),lw=Es(),Bs=Xa(),lu=4,du=y.Buffer.from(lu.toString(16).padStart(2,"0"),"hex"),Fn=class extends lw.BaseTransaction{static fromTxData(t){return new Fn(t)}static fromSerializedTx(t){if(!t.slice(0,1).equals(du))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${lu}, received: ${t.slice(0,1).toString("hex")}`);let r=it.rlp.decode(t.slice(1));if(!Array.isArray(r))throw new Error("Invalid serialized tx input: must be array");return Fn.fromValuesArray(r)}static fromValuesArray(t){if(t.length!==10&&t.length!==13)throw new Error("Invalid EIP-7702 transaction. Only expecting 10 values (for unsigned tx) or 13 values (for signed tx).");let[r,n,i,o,a,f,d,u,g,w,E,m,P]=t;return(0,it.validateNoLeadingZeroes)({nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:o,gasLimit:a,value:d,v:E,r:m,s:P}),new Fn({chainId:new xn.BN(r),nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:o,gasLimit:a,to:f,value:d,data:u,accessList:g??[],authorizationList:w??[],v:E!==void 0?new xn.BN(E):void 0,r:m,s:P})}constructor(t){super({...t,type:lu});let{chainId:r,accessList:n,authorizationList:i,maxFeePerGas:o,maxPriorityFeePerGas:a}=t;this.chainId=(0,it.toType)(r,it.TypeOutput.BN),this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930,7702]);let f=Bs.AccessLists.getAccessListData(n??[]);if(this.accessList=f.accessList,this.AccessListJSON=f.AccessListJSON,Bs.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=new xn.BN((0,it.toBuffer)(o===""?"0x":o)),this.maxPriorityFeePerGas=new xn.BN((0,it.toBuffer)(a===""?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),this.gasLimit.mul(this.maxFeePerGas).gt(it.MAX_INTEGER)){let u=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(u)}if(this.maxFeePerGas.lt(this.maxPriorityFeePerGas)){let u=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(u)}if(this.v&&!this.v.eqn(0)&&!this.v.eqn(1)){let u=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(u)}let d=Bs.AuthorizationLists.getAuthorizationListData(i??[]);this.authorizationList=d.authorizationList,this.AuthorizationListJSON=d.AuthorizationListJSON,Bs.AuthorizationLists.verifyAuthorizationList(this.authorizationList)}raw(){return[(0,it.bnToUnpaddedBuffer)(this.chainId),(0,it.bnToUnpaddedBuffer)(this.nonce),(0,it.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,it.bnToUnpaddedBuffer)(this.maxFeePerGas),(0,it.bnToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:y.Buffer.from([]),(0,it.bnToUnpaddedBuffer)(this.value),this.data,this.accessList,this.authorizationList,this.v!==void 0?(0,it.bnToUnpaddedBuffer)(this.v):y.Buffer.from([]),this.r!==void 0?(0,it.bnToUnpaddedBuffer)(this.r):y.Buffer.from([]),this.s!==void 0?(0,it.bnToUnpaddedBuffer)(this.s):y.Buffer.from([])]}serialize(){let t=this.raw();return y.Buffer.concat([du,it.rlp.encode(t)])}getMessageToSign(t=!0){let r=this.raw().slice(0,10),n=y.Buffer.concat([du,it.rlp.encode(r)]);return t?(0,it.keccak256)(n):n}hash(){if(!this.isSigned()){let t=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(t)}return(0,it.keccak256)(this.serialize())}_processSignature(t,r,n){return Fn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,authorizationList:this.authorizationList,v:new xn.BN(t-27),r:new xn.BN(r),s:new xn.BN(n)})}_processSignatureWithRawV(t,r,n){return Fn.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:new xn.BN(t),r:new xn.BN(r),s:new xn.BN(n)})}toJSON(){let t=Bs.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,it.bnToHex)(this.chainId),nonce:(0,it.bnToHex)(this.nonce),maxPriorityFeePerGas:(0,it.bnToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,it.bnToHex)(this.maxFeePerGas),gasLimit:(0,it.bnToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,it.bnToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:t,authorizationList:this.AuthorizationListJSON,v:this.v!==void 0?(0,it.bnToHex)(this.v):void 0,r:this.r!==void 0?(0,it.bnToHex)(this.r):void 0,s:this.s!==void 0?(0,it.bnToHex)(this.s):void 0}}errorStr(){let t=this._getSharedErrorPostfix();return t+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,t}_errorMsg(t){return`${t} (${this.errorStr()})`}};hu.default=Fn});var su=D(Vt=>{b();p();var hw=Vt&&Vt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gw=Vt&&Vt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hw(t,e,r)},Ts=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.EOACodeEIP7702Transaction=Vt.FeeMarketEIP1559Transaction=Vt.TransactionFactory=Vt.AccessListEIP2930Transaction=Vt.Transaction=void 0;var _w=A0();Object.defineProperty(Vt,"Transaction",{enumerable:!0,get:function(){return Ts(_w).default}});var yw=k0();Object.defineProperty(Vt,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return Ts(yw).default}});var bw=O0();Object.defineProperty(Vt,"TransactionFactory",{enumerable:!0,get:function(){return Ts(bw).default}});var pw=N0();Object.defineProperty(Vt,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return Ts(pw).default}});var xw=C0();Object.defineProperty(Vt,"EOACodeEIP7702Transaction",{enumerable:!0,get:function(){return Ts(xw).default}});gw(Xc(),Vt)});var gu=D(Er=>{b();p();var H0=Er&&Er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ww=Er&&Er.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U0=Er&&Er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&H0(t,e,r)},mw=Er&&Er.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&H0(t,e,r);return ww(t,e),t};Object.defineProperty(Er,"__esModule",{value:!0});Er.sigUtil=void 0;U0(Rr(),Er);U0(su(),Er);Er.sigUtil=mw(Zi())});var _u=D(jr=>{b();p();var vw=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ew=jr&&jr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),R0=jr&&jr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&vw(t,e,r);return Ew(t,e),t};Object.defineProperty(jr,"__esModule",{value:!0});jr.hashMessage=jr.MessageTypes=void 0;var Ss=R0(Zi()),Uo=R0(Rr()),M0=Ht(),Mo;(function(e){e[e.ETH_SIGN=0]="ETH_SIGN",e[e.PERSONAL_SIGN=1]="PERSONAL_SIGN",e[e.TYPE_DATA_V1=2]="TYPE_DATA_V1",e[e.TYPE_DATA_V3=3]="TYPE_DATA_V3",e[e.TYPE_DATA_V4=4]="TYPE_DATA_V4"})(Mo=jr.MessageTypes||(jr.MessageTypes={}));var Bw=(e,t)=>{switch(e){case Mo.ETH_SIGN:return Uo.addHexPrefix(t);case Mo.PERSONAL_SIGN:{let r=M0.base.isHexString(t)?M0.base.fromHex(t):y.Buffer.from(t);return Uo.addHexPrefix(Uo.hashPersonalMessage(r).toString("hex"))}case Mo.TYPE_DATA_V1:return Uo.addHexPrefix(Ss.typedSignatureHash(JSON.parse(t)));case Mo.TYPE_DATA_V3:return Uo.addHexPrefix(Ss.TypedDataUtils.eip712Hash(JSON.parse(t),Ss.SignTypedDataVersion.V3).toString("hex"));case Mo.TYPE_DATA_V4:return Uo.addHexPrefix(Ss.TypedDataUtils.eip712Hash(JSON.parse(t),Ss.SignTypedDataVersion.V4).toString("hex"));default:throw new Error(`Invalid messageType: ${e}`)}};jr.hashMessage=Bw});var As=D(_r=>{b();p();Object.defineProperty(_r,"__esModule",{value:!0});_r.output=_r.exists=_r.hash=_r.bytes=_r.bool=_r.number=void 0;function Ja(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}_r.number=Ja;function j0(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}_r.bool=j0;function yu(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}_r.bytes=yu;function q0(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ja(e.outputLen),Ja(e.blockLen)}_r.hash=q0;function D0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}_r.exists=D0;function z0(e,t){yu(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}_r.output=z0;var Tw={number:Ja,bool:j0,bytes:yu,hash:q0,exists:D0,output:z0};_r.default=Tw});var $0=D(Qa=>{b();p();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.crypto=void 0;Qa.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Zn=D(Ue=>{b();p();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.randomBytes=Ue.wrapConstructorWithOpts=Ue.wrapConstructor=Ue.checkOpts=Ue.Hash=Ue.concatBytes=Ue.toBytes=Ue.utf8ToBytes=Ue.asyncLoop=Ue.nextTick=Ue.hexToBytes=Ue.bytesToHex=Ue.isLE=Ue.rotr=Ue.createView=Ue.u32=Ue.u8=void 0;var bu=$0(),Sw=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Ue.u8=Sw;var Aw=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));Ue.u32=Aw;var Iw=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);Ue.createView=Iw;var Pw=(e,t)=>e<<32-t|e>>>t;Ue.rotr=Pw;Ue.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ue.isLE)throw new Error("Non little-endian hardware is not supported");var Lw=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function kw(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Lw[e[r]];return t}Ue.bytesToHex=kw;function Ow(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}Ue.hexToBytes=Ow;var Nw=async()=>{};Ue.nextTick=Nw;async function Cw(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,Ue.nextTick)(),n+=o)}}Ue.asyncLoop=Cw;function V0(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}Ue.utf8ToBytes=V0;function xu(e){if(typeof e=="string"&&(e=V0(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Ue.toBytes=xu;function Hw(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}Ue.concatBytes=Hw;var pu=class{clone(){return this._cloneInto()}};Ue.Hash=pu;var Uw=e=>Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object;function Mw(e,t){if(t!==void 0&&(typeof t!="object"||!Uw(t)))throw new TypeError("Options should be object or undefined");return Object.assign(e,t)}Ue.checkOpts=Mw;function Rw(e){let t=n=>e().update(xu(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}Ue.wrapConstructor=Rw;function jw(e){let t=(n,i)=>e(i).update(xu(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}Ue.wrapConstructorWithOpts=jw;function qw(e=32){if(bu.crypto&&typeof bu.crypto.getRandomValues=="function")return bu.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}Ue.randomBytes=qw});var G0=D(ef=>{b();p();Object.defineProperty(ef,"__esModule",{value:!0});ef.SHA2=void 0;var wu=As(),Is=Zn();function Dw(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),f=Number(r&o),d=n?4:0,u=n?0:4;e.setUint32(t+d,a,n),e.setUint32(t+u,f,n)}var mu=class extends Is.Hash{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Is.createView)(this.buffer)}update(t){wu.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=(0,Is.toBytes)(t);let o=t.length;for(let a=0;a<o;){let f=Math.min(i-this.pos,o-a);if(f===i){let d=(0,Is.createView)(t);for(;i<=o-a;a+=i)this.process(d,a);continue}n.set(t.subarray(a,a+f),this.pos),this.pos+=f,a+=f,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){wu.default.exists(this),wu.default.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let w=a;w<i;w++)r[w]=0;Dw(n,i-8,BigInt(this.length*8),o),this.process(n,0);let f=(0,Is.createView)(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=d/4,g=this.get();if(u>g.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<u;w++)f.setUint32(4*w,g[w],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:f}=this;return t.length=i,t.pos=f,t.finished=o,t.destroyed=a,i%r&&t.buffer.set(n),t}};ef.SHA2=mu});var F0=D(Ro=>{b();p();Object.defineProperty(Ro,"__esModule",{value:!0});Ro.sha224=Ro.sha256=void 0;var zw=G0(),Fr=Zn(),$w=(e,t,r)=>e&t^~e&r,Vw=(e,t,r)=>e&t^e&r^t&r,Gw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),di=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),li=new Uint32Array(64),tf=class extends zw.SHA2{constructor(){super(64,32,8,!1),this.A=di[0]|0,this.B=di[1]|0,this.C=di[2]|0,this.D=di[3]|0,this.E=di[4]|0,this.F=di[5]|0,this.G=di[6]|0,this.H=di[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:a,G:f,H:d}=this;return[t,r,n,i,o,a,f,d]}set(t,r,n,i,o,a,f,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=f|0,this.H=d|0}process(t,r){for(let w=0;w<16;w++,r+=4)li[w]=t.getUint32(r,!1);for(let w=16;w<64;w++){let E=li[w-15],m=li[w-2],P=(0,Fr.rotr)(E,7)^(0,Fr.rotr)(E,18)^E>>>3,S=(0,Fr.rotr)(m,17)^(0,Fr.rotr)(m,19)^m>>>10;li[w]=S+li[w-7]+P+li[w-16]|0}let{A:n,B:i,C:o,D:a,E:f,F:d,G:u,H:g}=this;for(let w=0;w<64;w++){let E=(0,Fr.rotr)(f,6)^(0,Fr.rotr)(f,11)^(0,Fr.rotr)(f,25),m=g+E+$w(f,d,u)+Gw[w]+li[w]|0,S=((0,Fr.rotr)(n,2)^(0,Fr.rotr)(n,13)^(0,Fr.rotr)(n,22))+Vw(n,i,o)|0;g=u,u=d,d=f,f=a+m|0,a=o,o=i,i=n,n=m+S|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,f=f+this.E|0,d=d+this.F|0,u=u+this.G|0,g=g+this.H|0,this.set(n,i,o,a,f,d,u,g)}roundClean(){li.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},vu=class extends tf{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Ro.sha256=(0,Fr.wrapConstructor)(()=>new tf);Ro.sha224=(0,Fr.wrapConstructor)(()=>new vu)});var Ji=D(Ne=>{b();p();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.validateObject=Ne.createHmacDrbg=Ne.bitMask=Ne.bitSet=Ne.bitGet=Ne.bitLen=Ne.utf8ToBytes=Ne.equalBytes=Ne.concatBytes=Ne.ensureBytes=Ne.numberToVarBytesBE=Ne.numberToBytesLE=Ne.numberToBytesBE=Ne.bytesToNumberLE=Ne.bytesToNumberBE=Ne.hexToBytes=Ne.hexToNumber=Ne.numberToHexUnpadded=Ne.bytesToHex=void 0;var K0=BigInt(0),rf=BigInt(1),Fw=BigInt(2),nf=e=>e instanceof Uint8Array,Zw=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Bu(e){if(!nf(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Zw[e[r]];return t}Ne.bytesToHex=Bu;function W0(e){let t=e.toString(16);return t.length&1?`0${t}`:t}Ne.numberToHexUnpadded=W0;function Tu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}Ne.hexToNumber=Tu;function of(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("invalid byte sequence");t[r]=o}return t}Ne.hexToBytes=of;function Kw(e){return Tu(Bu(e))}Ne.bytesToNumberBE=Kw;function Ww(e){if(!nf(e))throw new Error("Uint8Array expected");return Tu(Bu(Uint8Array.from(e).reverse()))}Ne.bytesToNumberLE=Ww;var Yw=(e,t)=>of(e.toString(16).padStart(t*2,"0"));Ne.numberToBytesBE=Yw;var Xw=(e,t)=>(0,Ne.numberToBytesBE)(e,t).reverse();Ne.numberToBytesLE=Xw;var Jw=e=>of(W0(e));Ne.numberToVarBytesBE=Jw;function Qw(e,t,r){let n;if(typeof t=="string")try{n=of(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(nf(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}Ne.ensureBytes=Qw;function Y0(...e){let t=new Uint8Array(e.reduce((n,i)=>n+i.length,0)),r=0;return e.forEach(n=>{if(!nf(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}Ne.concatBytes=Y0;function e2(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}Ne.equalBytes=e2;function t2(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}Ne.utf8ToBytes=t2;function r2(e){let t;for(t=0;e>K0;e>>=rf,t+=1);return t}Ne.bitLen=r2;var n2=(e,t)=>e>>BigInt(t)&rf;Ne.bitGet=n2;var i2=(e,t,r)=>e|(r?rf:K0)<<BigInt(t);Ne.bitSet=i2;var o2=e=>(Fw<<BigInt(e-1))-rf;Ne.bitMask=o2;var Eu=e=>new Uint8Array(e),Z0=e=>Uint8Array.from(e);function s2(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Eu(e),i=Eu(e),o=0,a=()=>{n.fill(1),i.fill(0),o=0},f=(...w)=>r(i,n,...w),d=(w=Eu())=>{i=f(Z0([0]),w),n=f(),w.length!==0&&(i=f(Z0([1]),w),n=f())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let w=0,E=[];for(;w<t;){n=f();let m=n.slice();E.push(m),w+=n.length}return Y0(...E)};return(w,E)=>{a(),d(w);let m;for(;!(m=E(u()));)d();return a(),m}}Ne.createHmacDrbg=s2;var a2={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function f2(e,t,r={}){let n=(i,o,a)=>{let f=a2[o];if(typeof f!="function")throw new Error(`Invalid validator "${o}", expected function`);let d=e[i];if(!(a&&d===void 0)&&!f(d,e))throw new Error(`Invalid param ${String(i)}=${d} (${typeof d}), expected ${o}`)};for(let[i,o]of Object.entries(t))n(i,o,!1);for(let[i,o]of Object.entries(r))n(i,o,!0);return e}Ne.validateObject=f2});var Ps=D(je=>{b();p();Object.defineProperty(je,"__esModule",{value:!0});je.hashToPrivateScalar=je.FpSqrtEven=je.FpSqrtOdd=je.Field=je.nLength=je.FpIsSquare=je.FpDiv=je.FpInvertBatch=je.FpPow=je.validateField=je.isNegativeLE=je.FpSqrt=je.tonelliShanks=je.invert=je.pow2=je.pow=je.mod=void 0;var Kn=Ji(),Gt=BigInt(0),yt=BigInt(1),hi=BigInt(2),c2=BigInt(3),Su=BigInt(4),X0=BigInt(5),J0=BigInt(8),u2=BigInt(9),d2=BigInt(16);function Zr(e,t){let r=e%t;return r>=Gt?r:t+r}je.mod=Zr;function Q0(e,t,r){if(r<=Gt||t<Gt)throw new Error("Expected power/modulo > 0");if(r===yt)return Gt;let n=yt;for(;t>Gt;)t&yt&&(n=n*e%r),e=e*e%r,t>>=yt;return n}je.pow=Q0;function l2(e,t,r){let n=e;for(;t-- >Gt;)n*=n,n%=r;return n}je.pow2=l2;function sf(e,t){if(e===Gt||t<=Gt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Zr(e,t),n=t,i=Gt,o=yt,a=yt,f=Gt;for(;r!==Gt;){let u=n/r,g=n%r,w=i-a*u,E=o-f*u;n=r,r=g,i=a,o=f,a=w,f=E}if(n!==yt)throw new Error("invert: does not exist");return Zr(i,t)}je.invert=sf;function eh(e){let t=(e-yt)/hi,r,n,i;for(r=e-yt,n=0;r%hi===Gt;r/=hi,n++);for(i=hi;i<e&&Q0(i,t,e)!==e-yt;i++);if(n===1){let a=(e+yt)/Su;return function(d,u){let g=d.pow(u,a);if(!d.eql(d.sqr(g),u))throw new Error("Cannot find square root");return g}}let o=(r+yt)/hi;return function(f,d){if(f.pow(d,t)===f.neg(f.ONE))throw new Error("Cannot find square root");let u=n,g=f.pow(f.mul(f.ONE,i),r),w=f.pow(d,o),E=f.pow(d,r);for(;!f.eql(E,f.ONE);){if(f.eql(E,f.ZERO))return f.ZERO;let m=1;for(let S=f.sqr(E);m<u&&!f.eql(S,f.ONE);m++)S=f.sqr(S);let P=f.pow(g,yt<<BigInt(u-m-1));g=f.sqr(P),w=f.mul(w,P),E=f.mul(E,g),u=m}return w}}je.tonelliShanks=eh;function th(e){if(e%Su===c2){let t=(e+yt)/Su;return function(n,i){let o=n.pow(i,t);if(!n.eql(n.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%J0===X0){let t=(e-X0)/J0;return function(n,i){let o=n.mul(i,hi),a=n.pow(o,t),f=n.mul(i,a),d=n.mul(n.mul(f,hi),a),u=n.mul(f,n.sub(d,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return e%d2,eh(e)}je.FpSqrt=th;var h2=(e,t)=>(Zr(e,t)&yt)===yt;je.isNegativeLE=h2;var g2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _2(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=g2.reduce((n,i)=>(n[i]="function",n),t);return(0,Kn.validateObject)(e,r)}je.validateField=_2;function rh(e,t,r){if(r<Gt)throw new Error("Expected power > 0");if(r===Gt)return e.ONE;if(r===yt)return t;let n=e.ONE,i=t;for(;r>Gt;)r&yt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=yt;return n}je.FpPow=rh;function nh(e,t){let r=new Array(t.length),n=t.reduce((o,a,f)=>e.is0(a)?o:(r[f]=o,e.mul(o,a)),e.ONE),i=e.inv(n);return t.reduceRight((o,a,f)=>e.is0(a)?o:(r[f]=e.mul(o,r[f]),e.mul(o,a)),i),r}je.FpInvertBatch=nh;function y2(e,t,r){return e.mul(t,typeof r=="bigint"?sf(r,e.ORDER):e.inv(r))}je.FpDiv=y2;function b2(e){let t=(e.ORDER-yt)/hi;return r=>{let n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}}je.FpIsSquare=b2;function Au(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}je.nLength=Au;function p2(e,t,r=!1,n={}){if(e<=Gt)throw new Error(`Expected Fp ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:o}=Au(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=th(e),f=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:(0,Kn.bitMask)(i),ZERO:Gt,ONE:yt,create:d=>Zr(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return Gt<=d&&d<e},is0:d=>d===Gt,isOdd:d=>(d&yt)===yt,neg:d=>Zr(-d,e),eql:(d,u)=>d===u,sqr:d=>Zr(d*d,e),add:(d,u)=>Zr(d+u,e),sub:(d,u)=>Zr(d-u,e),mul:(d,u)=>Zr(d*u,e),pow:(d,u)=>rh(f,d,u),div:(d,u)=>Zr(d*sf(u,e),e),sqrN:d=>d*d,addN:(d,u)=>d+u,subN:(d,u)=>d-u,mulN:(d,u)=>d*u,inv:d=>sf(d,e),sqrt:n.sqrt||(d=>a(f,d)),invertBatch:d=>nh(f,d),cmov:(d,u,g)=>g?u:d,toBytes:d=>r?(0,Kn.numberToBytesLE)(d,o):(0,Kn.numberToBytesBE)(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return r?(0,Kn.bytesToNumberLE)(d):(0,Kn.bytesToNumberBE)(d)}});return Object.freeze(f)}je.Field=p2;function x2(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}je.FpSqrtOdd=x2;function w2(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");let r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}je.FpSqrtEven=w2;function m2(e,t,r=!1){e=(0,Kn.ensureBytes)("privateHash",e);let n=e.length,i=Au(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let o=r?(0,Kn.bytesToNumberLE)(e):(0,Kn.bytesToNumberBE)(e);return Zr(o,t-yt)+yt}je.hashToPrivateScalar=m2});var oh=D(jo=>{b();p();Object.defineProperty(jo,"__esModule",{value:!0});jo.validateBasic=jo.wNAF=void 0;var ih=Ps(),v2=Ji(),E2=BigInt(0),Iu=BigInt(1);function B2(e,t){let r=(i,o)=>{let a=o.negate();return i?a:o},n=i=>{let o=Math.ceil(t/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,o){let a=e.ZERO,f=i;for(;o>E2;)o&Iu&&(a=a.add(f)),f=f.double(),o>>=Iu;return a},precomputeWindow(i,o){let{windows:a,windowSize:f}=n(o),d=[],u=i,g=u;for(let w=0;w<a;w++){g=u,d.push(g);for(let E=1;E<f;E++)g=g.add(u),d.push(g);u=g.double()}return d},wNAF(i,o,a){let{windows:f,windowSize:d}=n(i),u=e.ZERO,g=e.BASE,w=BigInt(2**i-1),E=2**i,m=BigInt(i);for(let P=0;P<f;P++){let S=P*d,k=Number(a&w);a>>=m,k>d&&(k-=E,a+=Iu);let L=S,H=S+Math.abs(k)-1,q=P%2!==0,U=k<0;k===0?g=g.add(r(q,o[L])):u=u.add(r(U,o[H]))}return{p:u,f:g}},wNAFCached(i,o,a,f){let d=i._WINDOW_SIZE||1,u=o.get(i);return u||(u=this.precomputeWindow(i,d),d!==1&&o.set(i,f(u))),this.wNAF(d,u,a)}}}jo.wNAF=B2;function T2(e){return(0,ih.validateField)(e.Fp),(0,v2.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,ih.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}jo.validateBasic=T2});var Lu=D(Ft=>{b();p();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.mapToCurveSimpleSWU=Ft.SWUFpSqrtRatio=Ft.weierstrass=Ft.weierstrassPoints=Ft.DER=void 0;var Ls=Ps(),Rt=Ji(),wn=Ji(),Pu=oh();function S2(e){let t=(0,Pu.validateBasic)(e);Rt.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:A2,hexToBytes:I2}=Rt;Ft.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){let{Err:t}=Ft.DER;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:A2(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=Ft.DER,r=typeof e=="string"?I2(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:o}=Ft.DER._parseInt(r.subarray(2)),{d:a,l:f}=Ft.DER._parseInt(o);if(f.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){let t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{let g=u.toString(16);return g.length&1?`0${g}`:g},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,a=i.length/2,f=r(o),d=r(a);return`30${r(a+o+4)}02${d}${i}02${f}${n}`}};var sn=BigInt(0),jt=BigInt(1),Wn=BigInt(2),af=BigInt(3),sh=BigInt(4);function ah(e){let t=S2(e),{Fp:r}=t,n=t.toBytes||((P,S,k)=>{let L=S.toAffine();return Rt.concatBytes(Uint8Array.from([4]),r.toBytes(L.x),r.toBytes(L.y))}),i=t.fromBytes||(P=>{let S=P.subarray(1),k=r.fromBytes(S.subarray(0,r.BYTES)),L=r.fromBytes(S.subarray(r.BYTES,2*r.BYTES));return{x:k,y:L}});function o(P){let{a:S,b:k}=t,L=r.sqr(P),H=r.mul(L,P);return r.add(r.add(H,r.mul(P,S)),k)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(P){return typeof P=="bigint"&&sn<P&&P<t.n}function f(P){if(!a(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(P){let{allowedPrivateKeyLengths:S,nByteLength:k,wrapPrivateKey:L,n:H}=t;if(S&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=Rt.bytesToHex(P)),typeof P!="string"||!S.includes(P.length))throw new Error("Invalid key");P=P.padStart(k*2,"0")}let q;try{q=typeof P=="bigint"?P:Rt.bytesToNumberBE((0,wn.ensureBytes)("private key",P,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof P}`)}return L&&(q=Ls.mod(q,H)),f(q),q}let u=new Map;function g(P){if(!(P instanceof w))throw new Error("ProjectivePoint expected")}class w{constructor(S,k,L){if(this.px=S,this.py=k,this.pz=L,S==null||!r.isValid(S))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(L==null||!r.isValid(L))throw new Error("z required")}static fromAffine(S){let{x:k,y:L}=S||{};if(!S||!r.isValid(k)||!r.isValid(L))throw new Error("invalid affine point");if(S instanceof w)throw new Error("projective point not allowed");let H=q=>r.eql(q,r.ZERO);return H(k)&&H(L)?w.ZERO:new w(k,L,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){let k=r.invertBatch(S.map(L=>L.pz));return S.map((L,H)=>L.toAffine(k[H])).map(w.fromAffine)}static fromHex(S){let k=w.fromAffine(i((0,wn.ensureBytes)("pointHex",S)));return k.assertValidity(),k}static fromPrivateKey(S){return w.BASE.multiply(d(S))}_setWindowSize(S){this._WINDOW_SIZE=S,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:S,y:k}=this.toAffine();if(!r.isValid(S)||!r.isValid(k))throw new Error("bad point: x or y not FE");let L=r.sqr(k),H=o(S);if(!r.eql(L,H))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:S}=this.toAffine();if(r.isOdd)return!r.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){g(S);let{px:k,py:L,pz:H}=this,{px:q,py:U,pz:Z}=S,K=r.eql(r.mul(k,Z),r.mul(q,H)),$=r.eql(r.mul(L,Z),r.mul(U,H));return K&&$}negate(){return new w(this.px,r.neg(this.py),this.pz)}double(){let{a:S,b:k}=t,L=r.mul(k,af),{px:H,py:q,pz:U}=this,Z=r.ZERO,K=r.ZERO,$=r.ZERO,te=r.mul(H,H),be=r.mul(q,q),X=r.mul(U,U),le=r.mul(H,q);return le=r.add(le,le),$=r.mul(H,U),$=r.add($,$),Z=r.mul(S,$),K=r.mul(L,X),K=r.add(Z,K),Z=r.sub(be,K),K=r.add(be,K),K=r.mul(Z,K),Z=r.mul(le,Z),$=r.mul(L,$),X=r.mul(S,X),le=r.sub(te,X),le=r.mul(S,le),le=r.add(le,$),$=r.add(te,te),te=r.add($,te),te=r.add(te,X),te=r.mul(te,le),K=r.add(K,te),X=r.mul(q,U),X=r.add(X,X),te=r.mul(X,le),Z=r.sub(Z,te),$=r.mul(X,be),$=r.add($,$),$=r.add($,$),new w(Z,K,$)}add(S){g(S);let{px:k,py:L,pz:H}=this,{px:q,py:U,pz:Z}=S,K=r.ZERO,$=r.ZERO,te=r.ZERO,be=t.a,X=r.mul(t.b,af),le=r.mul(k,q),ct=r.mul(L,U),pt=r.mul(H,Z),Qt=r.add(k,L),F=r.add(q,U);Qt=r.mul(Qt,F),F=r.add(le,ct),Qt=r.sub(Qt,F),F=r.add(k,H);let W=r.add(q,Z);return F=r.mul(F,W),W=r.add(le,pt),F=r.sub(F,W),W=r.add(L,H),K=r.add(U,Z),W=r.mul(W,K),K=r.add(ct,pt),W=r.sub(W,K),te=r.mul(be,F),K=r.mul(X,pt),te=r.add(K,te),K=r.sub(ct,te),te=r.add(ct,te),$=r.mul(K,te),ct=r.add(le,le),ct=r.add(ct,le),pt=r.mul(be,pt),F=r.mul(X,F),ct=r.add(ct,pt),pt=r.sub(le,pt),pt=r.mul(be,pt),F=r.add(F,pt),le=r.mul(ct,F),$=r.add($,le),le=r.mul(W,F),K=r.mul(Qt,K),K=r.sub(K,le),le=r.mul(Qt,ct),te=r.mul(W,te),te=r.add(te,le),new w(K,$,te)}subtract(S){return this.add(S.negate())}is0(){return this.equals(w.ZERO)}wNAF(S){return m.wNAFCached(this,u,S,k=>{let L=r.invertBatch(k.map(H=>H.pz));return k.map((H,q)=>H.toAffine(L[q])).map(w.fromAffine)})}multiplyUnsafe(S){let k=w.ZERO;if(S===sn)return k;if(f(S),S===jt)return this;let{endo:L}=t;if(!L)return m.unsafeLadder(this,S);let{k1neg:H,k1:q,k2neg:U,k2:Z}=L.splitScalar(S),K=k,$=k,te=this;for(;q>sn||Z>sn;)q&jt&&(K=K.add(te)),Z&jt&&($=$.add(te)),te=te.double(),q>>=jt,Z>>=jt;return H&&(K=K.negate()),U&&($=$.negate()),$=new w(r.mul($.px,L.beta),$.py,$.pz),K.add($)}multiply(S){f(S);let k=S,L,H,{endo:q}=t;if(q){let{k1neg:U,k1:Z,k2neg:K,k2:$}=q.splitScalar(k),{p:te,f:be}=this.wNAF(Z),{p:X,f:le}=this.wNAF($);te=m.constTimeNegate(U,te),X=m.constTimeNegate(K,X),X=new w(r.mul(X.px,q.beta),X.py,X.pz),L=te.add(X),H=be.add(le)}else{let{p:U,f:Z}=this.wNAF(k);L=U,H=Z}return w.normalizeZ([L,H])[0]}multiplyAndAddUnsafe(S,k,L){let H=w.BASE,q=(Z,K)=>K===sn||K===jt||!Z.equals(H)?Z.multiplyUnsafe(K):Z.multiply(K),U=q(this,k).add(q(S,L));return U.is0()?void 0:U}toAffine(S){let{px:k,py:L,pz:H}=this,q=this.is0();S==null&&(S=q?r.ONE:r.inv(H));let U=r.mul(k,S),Z=r.mul(L,S),K=r.mul(H,S);if(q)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:U,y:Z}}isTorsionFree(){let{h:S,isTorsionFree:k}=t;if(S===jt)return!0;if(k)return k(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:S,clearCofactor:k}=t;return S===jt?this:k?k(w,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return this.assertValidity(),n(w,this,S)}toHex(S=!0){return Rt.bytesToHex(this.toRawBytes(S))}}w.BASE=new w(t.Gx,t.Gy,r.ONE),w.ZERO=new w(r.ZERO,r.ONE,r.ZERO);let E=t.nBitLength,m=(0,Pu.wNAF)(w,t.endo?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:w,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:a}}Ft.weierstrassPoints=ah;function P2(e){let t=(0,Pu.validateBasic)(e);return Rt.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function L2(e){let t=P2(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function a(F){return sn<F&&F<r.ORDER}function f(F){return Ls.mod(F,n)}function d(F){return Ls.invert(F,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:g,weierstrassEquation:w,isWithinCurveOrder:E}=ah({...t,toBytes(F,W,_e){let Re=W.toAffine(),Ze=r.toBytes(Re.x),Nt=Rt.concatBytes;return _e?Nt(Uint8Array.from([W.hasEvenY()?2:3]),Ze):Nt(Uint8Array.from([4]),Ze,r.toBytes(Re.y))},fromBytes(F){let W=F.length,_e=F[0],Re=F.subarray(1);if(W===i&&(_e===2||_e===3)){let Ze=Rt.bytesToNumberBE(Re);if(!a(Ze))throw new Error("Point is not on curve");let Nt=w(Ze),Ct=r.sqrt(Nt),at=(Ct&jt)===jt;return(_e&1)===1!==at&&(Ct=r.neg(Ct)),{x:Ze,y:Ct}}else if(W===o&&_e===4){let Ze=r.fromBytes(Re.subarray(0,r.BYTES)),Nt=r.fromBytes(Re.subarray(r.BYTES,2*r.BYTES));return{x:Ze,y:Nt}}else throw new Error(`Point of length ${W} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),m=F=>Rt.bytesToHex(Rt.numberToBytesBE(F,t.nByteLength));function P(F){let W=n>>jt;return F>W}function S(F){return P(F)?f(-F):F}let k=(F,W,_e)=>Rt.bytesToNumberBE(F.slice(W,_e));class L{constructor(W,_e,Re){this.r=W,this.s=_e,this.recovery=Re,this.assertValidity()}static fromCompact(W){let _e=t.nByteLength;return W=(0,wn.ensureBytes)("compactSignature",W,_e*2),new L(k(W,0,_e),k(W,_e,2*_e))}static fromDER(W){let{r:_e,s:Re}=Ft.DER.toSig((0,wn.ensureBytes)("DER",W));return new L(_e,Re)}assertValidity(){if(!E(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(W){return new L(this.r,this.s,W)}recoverPublicKey(W){let{r:_e,s:Re,recovery:Ze}=this,Nt=$((0,wn.ensureBytes)("msgHash",W));if(Ze==null||![0,1,2,3].includes(Ze))throw new Error("recovery id invalid");let Ct=Ze===2||Ze===3?_e+t.n:_e;if(Ct>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let at=(Ze&1)===0?"02":"03",Bt=u.fromHex(at+m(Ct)),ye=d(Ct),Tt=f(-Nt*ye),dn=f(Re*ye),Or=u.BASE.multiplyAndAddUnsafe(Bt,Tt,dn);if(!Or)throw new Error("point at infinify");return Or.assertValidity(),Or}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new L(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Rt.hexToBytes(this.toDERHex())}toDERHex(){return Ft.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Rt.hexToBytes(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}let H={isValidPrivateKey(F){try{return g(F),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let F=t.randomBytes(r.BYTES+8),W=Ls.hashToPrivateScalar(F,n);return Rt.numberToBytesBE(W,t.nByteLength)},precompute(F=8,W=u.BASE){return W._setWindowSize(F),W.multiply(BigInt(3)),W}};function q(F,W=!0){return u.fromPrivateKey(F).toRawBytes(W)}function U(F){let W=F instanceof Uint8Array,_e=typeof F=="string",Re=(W||_e)&&F.length;return W?Re===i||Re===o:_e?Re===2*i||Re===2*o:F instanceof u}function Z(F,W,_e=!0){if(U(F))throw new Error("first arg must be private key");if(!U(W))throw new Error("second arg must be public key");return u.fromHex(W).multiply(g(F)).toRawBytes(_e)}let K=t.bits2int||function(F){let W=Rt.bytesToNumberBE(F),_e=F.length*8-t.nBitLength;return _e>0?W>>BigInt(_e):W},$=t.bits2int_modN||function(F){return f(K(F))},te=Rt.bitMask(t.nBitLength);function be(F){if(typeof F!="bigint")throw new Error("bigint expected");if(!(sn<=F&&F<te))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Rt.numberToBytesBE(F,t.nByteLength)}function X(F,W,_e=le){if(["recovered","canonical"].some(hr=>hr in _e))throw new Error("sign() legacy options not supported");let{hash:Re,randomBytes:Ze}=t,{lowS:Nt,prehash:Ct,extraEntropy:at}=_e;Nt==null&&(Nt=!0),F=(0,wn.ensureBytes)("msgHash",F),Ct&&(F=(0,wn.ensureBytes)("prehashed msgHash",Re(F)));let Bt=$(F),ye=g(W),Tt=[be(ye),be(Bt)];if(at!=null){let hr=at===!0?Ze(r.BYTES):at;Tt.push((0,wn.ensureBytes)("extraEntropy",hr,r.BYTES))}let dn=Rt.concatBytes(...Tt),Or=Bt;function ln(hr){let tn=K(hr);if(!E(tn))return;let Nr=d(tn),gr=u.BASE.multiply(tn).toAffine(),rn=f(gr.x);if(rn===sn)return;let hn=f(Nr*f(Or+rn*ye));if(hn===sn)return;let Ao=(gr.x===rn?0:2)|Number(gr.y&jt),$i=hn;return Nt&&P(hn)&&($i=S(hn),Ao^=1),new L(rn,$i,Ao)}return{seed:dn,k2sig:ln}}let le={lowS:t.lowS,prehash:!1},ct={lowS:t.lowS,prehash:!1};function pt(F,W,_e=le){let{seed:Re,k2sig:Ze}=X(F,W,_e);return Rt.createHmacDrbg(t.hash.outputLen,t.nByteLength,t.hmac)(Re,Ze)}u.BASE._setWindowSize(8);function Qt(F,W,_e,Re=ct){let Ze=F;if(W=(0,wn.ensureBytes)("msgHash",W),_e=(0,wn.ensureBytes)("publicKey",_e),"strict"in Re)throw new Error("options.strict was renamed to lowS");let{lowS:Nt,prehash:Ct}=Re,at,Bt;try{if(typeof Ze=="string"||Ze instanceof Uint8Array)try{at=L.fromDER(Ze)}catch(gr){if(!(gr instanceof Ft.DER.Err))throw gr;at=L.fromCompact(Ze)}else if(typeof Ze=="object"&&typeof Ze.r=="bigint"&&typeof Ze.s=="bigint"){let{r:gr,s:rn}=Ze;at=new L(gr,rn)}else throw new Error("PARSE");Bt=u.fromHex(_e)}catch(gr){if(gr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Nt&&at.hasHighS())return!1;Ct&&(W=t.hash(W));let{r:ye,s:Tt}=at,dn=$(W),Or=d(Tt),ln=f(dn*Or),hr=f(ye*Or),tn=u.BASE.multiplyAndAddUnsafe(Bt,ln,hr)?.toAffine();return tn?f(tn.x)===ye:!1}return{CURVE:t,getPublicKey:q,getSharedSecret:Z,sign:pt,verify:Qt,ProjectivePoint:u,Signature:L,utils:H}}Ft.weierstrass=L2;function fh(e,t){let r=e.ORDER,n=sn;for(let E=r-jt;E%Wn===sn;E/=Wn)n+=jt;let i=n,o=(r-jt)/Wn**i,a=(o-jt)/Wn,f=Wn**i-jt,d=Wn**(i-jt),u=e.pow(t,o),g=e.pow(t,(o+jt)/Wn),w=(E,m)=>{let P=u,S=e.pow(m,f),k=e.sqr(S);k=e.mul(k,m);let L=e.mul(E,k);L=e.pow(L,a),L=e.mul(L,S),S=e.mul(L,m),k=e.mul(L,E);let H=e.mul(k,S);L=e.pow(H,d);let q=e.eql(L,e.ONE);S=e.mul(k,g),L=e.mul(H,P),k=e.cmov(S,k,q),H=e.cmov(L,H,q);for(let U=i;U>jt;U--){let Z=Wn**(U-Wn),K=e.pow(H,Z),$=e.eql(K,e.ONE);S=e.mul(k,P),P=e.mul(P,P),K=e.mul(H,P),k=e.cmov(S,k,$),H=e.cmov(K,H,$)}return{isValid:q,value:k}};if(e.ORDER%sh===af){let E=(e.ORDER-af)/sh,m=e.sqrt(e.neg(t));w=(P,S)=>{let k=e.sqr(S),L=e.mul(P,S);k=e.mul(k,L);let H=e.pow(k,E);H=e.mul(H,L);let q=e.mul(H,m),U=e.mul(e.sqr(H),S),Z=e.eql(U,P),K=e.cmov(q,H,Z);return{isValid:Z,value:K}}}return w}Ft.SWUFpSqrtRatio=fh;function k2(e,t){if(Ls.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=fh(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,a,f,d,u,g,w;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),a=e.add(o,e.ONE),a=e.mul(a,t.B),f=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),f=e.mul(f,t.A),o=e.sqr(a),u=e.sqr(f),d=e.mul(u,t.A),o=e.add(o,d),o=e.mul(o,a),u=e.mul(u,f),d=e.mul(u,t.B),o=e.add(o,d),g=e.mul(i,a);let{isValid:E,value:m}=r(o,u);w=e.mul(i,n),w=e.mul(w,m),g=e.cmov(g,a,E),w=e.cmov(w,m,E);let P=e.isOdd(n)===e.isOdd(w);return w=e.cmov(e.neg(w),w,P),g=e.div(g,f),{x:g,y:w}}}Ft.mapToCurveSimpleSWU=k2});var dh=D(Kr=>{b();p();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.createHasher=Kr.isogenyMap=Kr.hash_to_field=Kr.expand_message_xof=Kr.expand_message_xmd=void 0;var O2=Ps(),an=Ji();function N2(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,an.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}var C2=an.bytesToNumberBE;function gi(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function H2(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function ks(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function Ou(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function ch(e,t,r,n){ks(e),ks(t),Ou(r),t.length>255&&(t=n((0,an.concatBytes)((0,an.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));let{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(a>255)throw new Error("Invalid xmd length");let f=(0,an.concatBytes)(t,gi(t.length,1)),d=gi(0,o),u=gi(r,2),g=new Array(a),w=n((0,an.concatBytes)(d,e,u,gi(0,1),f));g[0]=n((0,an.concatBytes)(w,gi(1,1),f));for(let m=1;m<=a;m++){let P=[H2(w,g[m-1]),gi(m+1,1),f];g[m]=n((0,an.concatBytes)(...P))}return(0,an.concatBytes)(...g).slice(0,r)}Kr.expand_message_xmd=ch;function uh(e,t,r,n,i){if(ks(e),ks(t),Ou(r),t.length>255){let o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,an.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(gi(r,2)).update(t).update(gi(t.length,1)).digest()}Kr.expand_message_xof=uh;function ku(e,t,r){(0,an.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:o,hash:a,expand:f,DST:d}=r;ks(e),Ou(t);let u=N2(d),g=n.toString(2).length,w=Math.ceil((g+i)/8),E=t*o*w,m;if(f==="xmd")m=ch(e,u,E,a);else if(f==="xof")m=uh(e,u,E,i,a);else if(f==="_internal_pass")m=e;else throw new Error('expand must be "xmd" or "xof"');let P=new Array(t);for(let S=0;S<t;S++){let k=new Array(o);for(let L=0;L<o;L++){let H=w*(L+S*o),q=m.subarray(H,H+w);k[L]=(0,O2.mod)(C2(q),n)}P[S]=k}return P}Kr.hash_to_field=ku;function U2(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,i)=>{let[o,a,f,d]=r.map(u=>u.reduce((g,w)=>e.add(e.mul(g,n),w)));return n=e.div(o,a),i=e.mul(i,e.div(f,d)),{x:n,y:i}}}Kr.isogenyMap=U2;function M2(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let o=ku(n,2,{...r,DST:r.DST,...i}),a=e.fromAffine(t(o[0])),f=e.fromAffine(t(o[1])),d=a.add(f).clearCofactor();return d.assertValidity(),d},encodeToCurve(n,i){let o=ku(n,1,{...r,DST:r.encodeDST,...i}),a=e.fromAffine(t(o[0])).clearCofactor();return a.assertValidity(),a}}}Kr.createHasher=M2});var hh=D(Os=>{b();p();Object.defineProperty(Os,"__esModule",{value:!0});Os.hmac=void 0;var ff=As(),lh=Zn(),cf=class extends lh.Hash{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,ff.default.hash(t);let n=(0,lh.toBytes)(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),o.fill(0)}update(t){return ff.default.exists(this),this.iHash.update(t),this}digestInto(t){ff.default.exists(this),ff.default.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:a,outputLen:f}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=a,t.outputLen=f,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},R2=(e,t,r)=>new cf(e,t).update(r).digest();Os.hmac=R2;Os.hmac.create=(e,t)=>new cf(e,t)});var yh=D(qo=>{b();p();Object.defineProperty(qo,"__esModule",{value:!0});qo.createCurve=qo.getHash=void 0;var j2=hh(),gh=Zn(),q2=Lu();function _h(e){return{hash:e,hmac:(t,...r)=>(0,j2.hmac)(e,t,(0,gh.concatBytes)(...r)),randomBytes:gh.randomBytes}}qo.getHash=_h;function D2(e,t){let r=n=>(0,q2.weierstrass)({...e,..._h(n)});return Object.freeze({...r(t),create:r})}qo.createCurve=D2});var Sh=D(Br=>{b();p();var Nu;Object.defineProperty(Br,"__esModule",{value:!0});Br.encodeToCurve=Br.hashToCurve=Br.schnorr=Br.secp256k1=void 0;var uf=F0(),z2=Zn(),Yt=Ps(),$2=Lu(),fr=Ji(),xh=dh(),V2=yh(),gf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),df=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wh=BigInt(1),lf=BigInt(2),bh=(e,t)=>(e+t/lf)/t;function mh(e){let t=gf,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),f=BigInt(44),d=BigInt(88),u=e*e*e%t,g=u*u*e%t,w=(0,Yt.pow2)(g,r,t)*g%t,E=(0,Yt.pow2)(w,r,t)*g%t,m=(0,Yt.pow2)(E,lf,t)*u%t,P=(0,Yt.pow2)(m,i,t)*m%t,S=(0,Yt.pow2)(P,o,t)*P%t,k=(0,Yt.pow2)(S,f,t)*S%t,L=(0,Yt.pow2)(k,d,t)*k%t,H=(0,Yt.pow2)(L,f,t)*S%t,q=(0,Yt.pow2)(H,r,t)*g%t,U=(0,Yt.pow2)(q,a,t)*P%t,Z=(0,Yt.pow2)(U,n,t)*u%t,K=(0,Yt.pow2)(Z,lf,t);if(!_i.eql(_i.sqr(K),e))throw new Error("Cannot find square root");return K}var _i=(0,Yt.Field)(gf,void 0,void 0,{sqrt:mh});Br.secp256k1=(0,V2.createCurve)({a:BigInt(0),b:BigInt(7),Fp:_i,n:df,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=df,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-wh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),f=bh(o*e,t),d=bh(-n*e,t),u=(0,Yt.mod)(e-f*r-d*i,t),g=(0,Yt.mod)(-f*n-d*o,t),w=u>a,E=g>a;if(w&&(u=t-u),E&&(g=t-g),u>a||g>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:w,k1:u,k2neg:E,k2:g}}}},uf.sha256);var _f=BigInt(0),vh=e=>typeof e=="bigint"&&_f<e&&e<gf,G2=e=>typeof e=="bigint"&&_f<e&&e<df,ph={};function hf(e,...t){let r=ph[e];if(r===void 0){let n=(0,uf.sha256)(Uint8Array.from(e,i=>i.charCodeAt(0)));r=(0,fr.concatBytes)(n,n),ph[e]=r}return(0,uf.sha256)((0,fr.concatBytes)(r,...t))}var Mu=e=>e.toRawBytes(!0).slice(1),Hu=e=>(0,fr.numberToBytesBE)(e,32),Cu=e=>(0,Yt.mod)(e,gf),Ns=e=>(0,Yt.mod)(e,df),Ru=Br.secp256k1.ProjectivePoint,F2=(e,t,r)=>Ru.BASE.multiplyAndAddUnsafe(e,t,r);function Uu(e){let t=Br.secp256k1.utils.normPrivateKeyToScalar(e),r=Ru.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:Ns(-t),bytes:Mu(r)}}function Eh(e){if(!vh(e))throw new Error("bad x: need 0 < x < p");let t=Cu(e*e),r=Cu(t*e+BigInt(7)),n=mh(r);n%lf!==_f&&(n=Cu(-n));let i=new Ru(e,n,wh);return i.assertValidity(),i}function Bh(...e){return Ns((0,fr.bytesToNumberBE)(hf("BIP0340/challenge",...e)))}function Z2(e){return Uu(e).bytes}function K2(e,t,r=(0,z2.randomBytes)(32)){let n=(0,fr.ensureBytes)("message",e),{bytes:i,scalar:o}=Uu(t),a=(0,fr.ensureBytes)("auxRand",r,32),f=Hu(o^(0,fr.bytesToNumberBE)(hf("BIP0340/aux",a))),d=hf("BIP0340/nonce",f,i,n),u=Ns((0,fr.bytesToNumberBE)(d));if(u===_f)throw new Error("sign failed: k is zero");let{bytes:g,scalar:w}=Uu(u),E=Bh(g,i,n),m=new Uint8Array(64);if(m.set(g,0),m.set(Hu(Ns(w+E*o)),32),!Th(m,n,i))throw new Error("sign: Invalid signature produced");return m}function Th(e,t,r){let n=(0,fr.ensureBytes)("signature",e,64),i=(0,fr.ensureBytes)("message",t),o=(0,fr.ensureBytes)("publicKey",r,32);try{let a=Eh((0,fr.bytesToNumberBE)(o)),f=(0,fr.bytesToNumberBE)(n.subarray(0,32));if(!vh(f))return!1;let d=(0,fr.bytesToNumberBE)(n.subarray(32,64));if(!G2(d))return!1;let u=Bh(Hu(f),Mu(a),i),g=F2(a,d,Ns(-u));return!(!g||!g.hasEvenY()||g.toAffine().x!==f)}catch{return!1}}Br.schnorr={getPublicKey:Z2,sign:K2,verify:Th,utils:{randomPrivateKey:Br.secp256k1.utils.randomPrivateKey,lift_x:Eh,pointToBytes:Mu,numberToBytesBE:fr.numberToBytesBE,bytesToNumberBE:fr.bytesToNumberBE,taggedHash:hf,mod:Yt.mod}};var W2=xh.isogenyMap(_i,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),Y2=(0,$2.mapToCurveSimpleSWU)(_i,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:_i.create(BigInt("-11"))});Nu=xh.createHasher(Br.secp256k1.ProjectivePoint,e=>{let{x:t,y:r}=Y2(_i.create(e[0]));return W2(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:_i.ORDER,m:1,k:128,expand:"xmd",hash:uf.sha256}),Br.hashToCurve=Nu.hashToCurve,Br.encodeToCurve=Nu.encodeToCurve});var bf=D(yf=>{b();p();Object.defineProperty(yf,"__esModule",{value:!0});yf.secp256k1=void 0;var X2=Sh();Object.defineProperty(yf,"secp256k1",{enumerable:!0,get:function(){return X2.secp256k1}})});var xf=D(Fe=>{b();p();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.MAX_WITHDRAWALS_PER_PAYLOAD=Fe.RLP_EMPTY_STRING=Fe.KECCAK256_RLP=Fe.KECCAK256_RLP_S=Fe.KECCAK256_RLP_ARRAY=Fe.KECCAK256_RLP_ARRAY_S=Fe.KECCAK256_NULL=Fe.KECCAK256_NULL_S=Fe.TWO_POW256=Fe.SECP256K1_ORDER_DIV_2=Fe.SECP256K1_ORDER=Fe.MAX_INTEGER_BIGINT=Fe.MAX_INTEGER=Fe.MAX_UINT64=void 0;var pf=Aa(),Ah=bf();Fe.MAX_UINT64=BigInt("0xffffffffffffffff");Fe.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Fe.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");Fe.SECP256K1_ORDER=Ah.secp256k1.CURVE.n;Fe.SECP256K1_ORDER_DIV_2=Ah.secp256k1.CURVE.n/BigInt(2);Fe.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");Fe.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Fe.KECCAK256_NULL=pf.Buffer.from(Fe.KECCAK256_NULL_S,"hex");Fe.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Fe.KECCAK256_RLP_ARRAY=pf.Buffer.from(Fe.KECCAK256_RLP_ARRAY_S,"hex");Fe.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Fe.KECCAK256_RLP=pf.Buffer.from(Fe.KECCAK256_RLP_S,"hex");Fe.RLP_EMPTY_STRING=pf.Buffer.from([128]);Fe.MAX_WITHDRAWALS_PER_PAYLOAD=16});var Ih=D(wf=>{b();p();Object.defineProperty(wf,"__esModule",{value:!0});wf.GWEI_TO_WEI=void 0;wf.GWEI_TO_WEI=BigInt(1e9)});var $u=D(mn=>{b();p();Object.defineProperty(mn,"__esModule",{value:!0});mn.RLP=mn.utils=mn.decode=mn.encode=void 0;function zu(e){if(Array.isArray(e)){let r=[],n=0;for(let i=0;i<e.length;i++){let o=zu(e[i]);r.push(o),n+=o.length}return qu(Lh(n,192),...r)}let t=Uh(e);return t.length===1&&t[0]<128?t:qu(Lh(t.length,128),t)}mn.encode=zu;function Do(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function Ph(e){if(e[0]===0)throw new Error("invalid RLP: extra zeros");return Nh(Oh(e))}function Lh(e,t){if(e<56)return Uint8Array.from([e+t]);let r=Du(e),n=r.length/2,i=Du(t+55+n);return Uint8Array.from(mf(i+r))}function kh(e,t=!1){if(typeof e>"u"||e===null||e.length===0)return Uint8Array.from([]);let r=Uh(e),n=ju(r);if(t)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}mn.decode=kh;function ju(e){let t,r,n,i,o,a=[],f=e[0];if(f<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(f<=183){if(t=f-127,f===128?n=Uint8Array.from([]):n=Do(e,1,t),t===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}else if(f<=191){if(r=f-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=Ph(Do(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=Do(e,r,t+r),{data:n,remainder:e.slice(t+r)}}else if(f<=247){for(t=f-191,i=Do(e,1,t);i.length;)o=ju(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(t)}}else{if(r=f-246,t=Ph(Do(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");let d=r+t;if(d>e.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Do(e,r,d);i.length;)o=ju(i),a.push(o.data),i=o.remainder;return{data:a,remainder:e.slice(d)}}}var J2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Oh(e){let t="";for(let r=0;r<e.length;r++)t+=J2[e[r]];return t}function Nh(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function mf(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2;t[r]=Nh(e.slice(n,n+2))}return t}function qu(...e){if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}function Ch(e){return new TextEncoder().encode(e)}function Du(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t}function Q2(e){return e.length%2?`0${e}`:e}function Hh(e){return e.length>=2&&e[0]==="0"&&e[1]==="x"}function em(e){return typeof e!="string"?e:Hh(e)?e.slice(2):e}function Uh(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return Hh(e)?mf(Q2(em(e))):Ch(e);if(typeof e=="number"||typeof e=="bigint")return e?mf(Du(e)):Uint8Array.from([]);if(e==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}mn.utils={bytesToHex:Oh,concatBytes:qu,hexToBytes:mf,utf8ToBytes:Ch};mn.RLP={encode:zu,decode:kh}});var jh=D(Wr=>{b();p();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.add=Wr.toBig=Wr.split=Wr.fromBig=void 0;var vf=BigInt(2**32-1),Vu=BigInt(32);function Gu(e,t=!1){return t?{h:Number(e&vf),l:Number(e>>Vu&vf)}:{h:Number(e>>Vu&vf)|0,l:Number(e&vf)|0}}Wr.fromBig=Gu;function Mh(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:a}=Gu(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}Wr.split=Mh;var tm=(e,t)=>BigInt(e>>>0)<<Vu|BigInt(t>>>0);Wr.toBig=tm;var rm=(e,t,r)=>e>>>r,nm=(e,t,r)=>e<<32-r|t>>>r,im=(e,t,r)=>e>>>r|t<<32-r,om=(e,t,r)=>e<<32-r|t>>>r,sm=(e,t,r)=>e<<64-r|t>>>r-32,am=(e,t,r)=>e>>>r-32|t<<64-r,fm=(e,t)=>t,cm=(e,t)=>e,um=(e,t,r)=>e<<r|t>>>32-r,dm=(e,t,r)=>t<<r|e>>>32-r,lm=(e,t,r)=>t<<r-32|e>>>64-r,hm=(e,t,r)=>e<<r-32|t>>>64-r;function Rh(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}Wr.add=Rh;var gm=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),_m=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,ym=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),bm=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,pm=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),xm=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,wm={fromBig:Gu,split:Mh,toBig:Wr.toBig,shrSH:rm,shrSL:nm,rotrSH:im,rotrSL:om,rotrBH:sm,rotrBL:am,rotr32H:fm,rotr32L:cm,rotlSH:um,rotlSL:dm,rotlBH:lm,rotlBL:hm,add:Rh,add3L:gm,add3H:_m,add4L:ym,add4H:bm,add5H:xm,add5L:pm};Wr.default=wm});var Zh=D(lt=>{b();p();Object.defineProperty(lt,"__esModule",{value:!0});lt.shake256=lt.shake128=lt.keccak_512=lt.keccak_384=lt.keccak_256=lt.keccak_224=lt.sha3_512=lt.sha3_384=lt.sha3_256=lt.sha3_224=lt.Keccak=lt.keccakP=void 0;var zo=As(),Us=jh(),Hs=Zn(),[zh,$h,Vh]=[[],[],[]],mm=BigInt(0),Cs=BigInt(1),vm=BigInt(2),Em=BigInt(7),Bm=BigInt(256),Tm=BigInt(113);for(let e=0,t=Cs,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],zh.push(2*(5*n+r)),$h.push((e+1)*(e+2)/2%64);let i=mm;for(let o=0;o<7;o++)t=(t<<Cs^(t>>Em)*Tm)%Bm,t&vm&&(i^=Cs<<(Cs<<BigInt(o))-Cs);Vh.push(i)}var[Sm,Am]=Us.default.split(Vh,!0),qh=(e,t,r)=>r>32?Us.default.rotlBH(e,t,r):Us.default.rotlSH(e,t,r),Dh=(e,t,r)=>r>32?Us.default.rotlBL(e,t,r):Us.default.rotlSL(e,t,r);function Gh(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){let f=(a+8)%10,d=(a+2)%10,u=r[d],g=r[d+1],w=qh(u,g,1)^r[f],E=Dh(u,g,1)^r[f+1];for(let m=0;m<50;m+=10)e[a+m]^=w,e[a+m+1]^=E}let i=e[2],o=e[3];for(let a=0;a<24;a++){let f=$h[a],d=qh(i,o,f),u=Dh(i,o,f),g=zh[a];i=e[g],o=e[g+1],e[g]=d,e[g+1]=u}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=e[a+f];for(let f=0;f<10;f++)e[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}e[0]^=Sm[n],e[1]^=Am[n]}r.fill(0)}lt.keccakP=Gh;var Qi=class extends Hs.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,zo.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Hs.u32)(this.state)}keccak(){Gh(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){zo.default.exists(this);let{blockLen:r,state:n}=this;t=(0,Hs.toBytes)(t);let i=t.length;for(let o=0;o<i;){let a=Math.min(r-this.pos,i-o);for(let f=0;f<a;f++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){zo.default.exists(this,!1),zo.default.bytes(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return zo.default.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(zo.default.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return t||(t=new Qi(r,n,i,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=a,t.destroyed=this.destroyed,t}};lt.Keccak=Qi;var yi=(e,t,r)=>(0,Hs.wrapConstructor)(()=>new Qi(t,e,r));lt.sha3_224=yi(6,144,224/8);lt.sha3_256=yi(6,136,256/8);lt.sha3_384=yi(6,104,384/8);lt.sha3_512=yi(6,72,512/8);lt.keccak_224=yi(1,144,224/8);lt.keccak_256=yi(1,136,256/8);lt.keccak_384=yi(1,104,384/8);lt.keccak_512=yi(1,72,512/8);var Fh=(e,t,r)=>(0,Hs.wrapConstructorWithOpts)((n={})=>new Qi(t,e,n.dkLen===void 0?r:n.dkLen,!0));lt.shake128=Fh(31,168,128/8);lt.shake256=Fh(31,136,256/8)});var Zu=D((st,Ms)=>{b();p();var Im=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(st,"__esModule",{value:!0});st.crypto=st.wrapHash=st.equalsBytes=st.hexToBytes=st.bytesToUtf8=st.utf8ToBytes=st.createView=st.concatBytes=st.toHex=st.bytesToHex=st.assertBytes=st.assertBool=void 0;var Fu=Im(As()),Pm=Zn(),Lm=Fu.default.bool;st.assertBool=Lm;var km=Fu.default.bytes;st.assertBytes=km;var Rs=Zn();Object.defineProperty(st,"bytesToHex",{enumerable:!0,get:function(){return Rs.bytesToHex}});Object.defineProperty(st,"toHex",{enumerable:!0,get:function(){return Rs.bytesToHex}});Object.defineProperty(st,"concatBytes",{enumerable:!0,get:function(){return Rs.concatBytes}});Object.defineProperty(st,"createView",{enumerable:!0,get:function(){return Rs.createView}});Object.defineProperty(st,"utf8ToBytes",{enumerable:!0,get:function(){return Rs.utf8ToBytes}});function Om(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}st.bytesToUtf8=Om;function Nm(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,Pm.hexToBytes)(t)}st.hexToBytes=Nm;function Cm(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}st.equalsBytes=Cm;function Hm(e){return t=>(Fu.default.bytes(t),e(t))}st.wrapHash=Hm;st.crypto=(()=>{let e=typeof self=="object"&&"crypto"in self?self.crypto:void 0,t=typeof Ms<"u"&&typeof Ms.require=="function"&&Ms.require.bind(Ms);return{node:t&&!e?t("crypto"):void 0,web:e}})()});var Ku=D(vn=>{b();p();Object.defineProperty(vn,"__esModule",{value:!0});vn.keccak512=vn.keccak384=vn.keccak256=vn.keccak224=void 0;var js=Zh(),Ef=Zu();vn.keccak224=(0,Ef.wrapHash)(js.keccak_224);vn.keccak256=(()=>{let e=(0,Ef.wrapHash)(js.keccak_256);return e.create=js.keccak_256.create,e})();vn.keccak384=(0,Ef.wrapHash)(js.keccak_384);vn.keccak512=(0,Ef.wrapHash)(js.keccak_512)});var $o=D(Pt=>{b();p();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.isHexString=Pt.getKeys=Pt.fromAscii=Pt.fromUtf8=Pt.toAscii=Pt.arrayContainsArray=Pt.getBinarySize=Pt.padToEven=Pt.stripHexPrefix=Pt.isHexPrefixed=void 0;function Kh(e){if(typeof e!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e[0]==="0"&&e[1]==="x"}Pt.isHexPrefixed=Kh;var Um=e=>{if(typeof e!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return Kh(e)?e.slice(2):e};Pt.stripHexPrefix=Um;function Wh(e){let t=e;if(typeof t!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}Pt.padToEven=Wh;function Mm(e){if(typeof e!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof e}`);return y.Buffer.byteLength(e,"utf8")}Pt.getBinarySize=Mm;function Rm(e,t,r){if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[r===!0?"some":"every"](n=>e.indexOf(n)>=0)}Pt.arrayContainsArray=Rm;function jm(e){let t="",r=0,n=e.length;for(e.substring(0,2)==="0x"&&(r=2);r<n;r+=2){let i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t}Pt.toAscii=jm;function qm(e){let t=y.Buffer.from(e,"utf8");return`0x${Wh(t.toString("hex")).replace(/^0+|0+$/g,"")}`}Pt.fromUtf8=qm;function Dm(e){let t="";for(let r=0;r<e.length;r++){let i=e.charCodeAt(r).toString(16);t+=i.length<2?`0${i}`:i}return`0x${t}`}Pt.fromAscii=Dm;function zm(e,t,r){if(!Array.isArray(e))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof e}`);if(typeof t!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof e}`);let n=[];for(let i=0;i<e.length;i++){let o=e[i][t];if(r===!0&&!o)o="";else if(typeof o!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof o}`);n.push(o)}return n}Pt.getKeys=zm;function $m(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t<"u"&&t>0&&e.length!==2+2*t)}Pt.isHexString=$m});var Bf=D(En=>{b();p();Object.defineProperty(En,"__esModule",{value:!0});En.assertIsString=En.assertIsArray=En.assertIsBuffer=En.assertIsHexString=void 0;var Vm=$o(),Gm=function(e){if(!(0,Vm.isHexString)(e)){let t=`This method only supports 0x-prefixed hex strings but input was: ${e}`;throw new Error(t)}};En.assertIsHexString=Gm;var Fm=function(e){if(!y.Buffer.isBuffer(e)){let t=`This method only supports Buffer but input was: ${e}`;throw new Error(t)}};En.assertIsBuffer=Fm;var Zm=function(e){if(!Array.isArray(e)){let t=`This method only supports number arrays but input was: ${e}`;throw new Error(t)}};En.assertIsArray=Zm;var Km=function(e){if(typeof e!="string"){let t=`This method only supports strings but input was: ${e}`;throw new Error(t)}};En.assertIsString=Km});var to=D(fe=>{b();p();Object.defineProperty(fe,"__esModule",{value:!0});fe.intToUnpaddedBuffer=fe.bigIntToUnpaddedBuffer=fe.bigIntToHex=fe.bufArrToArr=fe.arrToBufArr=fe.validateNoLeadingZeroes=fe.baToJSON=fe.toUtf8=fe.short=fe.addHexPrefix=fe.toUnsigned=fe.fromSigned=fe.bufferToInt=fe.bigIntToBuffer=fe.bufferToBigInt=fe.bufferToHex=fe.toBuffer=fe.unpadHexString=fe.unpadArray=fe.unpadBuffer=fe.setLengthRight=fe.setLengthLeft=fe.zeros=fe.intToBuffer=fe.intToHex=void 0;var qs=Bf(),eo=$o(),Wm=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};fe.intToHex=Wm;var Ym=function(e){let t=(0,fe.intToHex)(e);return y.Buffer.from((0,eo.padToEven)(t.slice(2)),"hex")};fe.intToBuffer=Ym;var Xm=function(e){return y.Buffer.allocUnsafe(e).fill(0)};fe.zeros=Xm;var Yh=function(e,t,r){let n=(0,fe.zeros)(t);return r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)},Jm=function(e,t){return(0,qs.assertIsBuffer)(e),Yh(e,t,!1)};fe.setLengthLeft=Jm;var Qm=function(e,t){return(0,qs.assertIsBuffer)(e),Yh(e,t,!0)};fe.setLengthRight=Qm;var Wu=function(e){let t=e[0];for(;e.length>0&&t.toString()==="0";)e=e.slice(1),t=e[0];return e},ev=function(e){return(0,qs.assertIsBuffer)(e),Wu(e)};fe.unpadBuffer=ev;var tv=function(e){return(0,qs.assertIsArray)(e),Wu(e)};fe.unpadArray=tv;var rv=function(e){return(0,qs.assertIsHexString)(e),e=(0,eo.stripHexPrefix)(e),"0x"+Wu(e)};fe.unpadHexString=rv;var nv=function(e){if(e==null)return y.Buffer.allocUnsafe(0);if(y.Buffer.isBuffer(e))return y.Buffer.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return y.Buffer.from(e);if(typeof e=="string"){if(!(0,eo.isHexString)(e))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${e}`);return y.Buffer.from((0,eo.padToEven)((0,eo.stripHexPrefix)(e)),"hex")}if(typeof e=="number")return(0,fe.intToBuffer)(e);if(typeof e=="bigint"){if(e<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t="0"+t),y.Buffer.from(t,"hex")}if(e.toArray)return y.Buffer.from(e.toArray());if(e.toBuffer)return y.Buffer.from(e.toBuffer());throw new Error("invalid type")};fe.toBuffer=nv;var iv=function(e){return e=(0,fe.toBuffer)(e),"0x"+e.toString("hex")};fe.bufferToHex=iv;function Yu(e){let t=(0,fe.bufferToHex)(e);return BigInt(t==="0x"?0:t)}fe.bufferToBigInt=Yu;function Xu(e){return(0,fe.toBuffer)("0x"+e.toString(16))}fe.bigIntToBuffer=Xu;var ov=function(e){let t=Number(Yu(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};fe.bufferToInt=ov;var sv=function(e){return BigInt.asIntN(256,Yu(e))};fe.fromSigned=sv;var av=function(e){return Xu(BigInt.asUintN(256,e))};fe.toUnsigned=av;var fv=function(e){return typeof e!="string"||(0,eo.isHexPrefixed)(e)?e:"0x"+e};fe.addHexPrefix=fv;function cv(e,t=50){let r=y.Buffer.isBuffer(e)?e.toString("hex"):e;return r.length<=t?r:r.slice(0,t)+"\u2026"}fe.short=cv;var uv=function(e){let t=/^(00)+|(00)+$/g;if(e=(0,eo.stripHexPrefix)(e),e.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return y.Buffer.from(e.replace(t,""),"hex").toString("utf8")};fe.toUtf8=uv;var dv=function(e){if(y.Buffer.isBuffer(e))return`0x${e.toString("hex")}`;if(e instanceof Array){let t=[];for(let r=0;r<e.length;r++)t.push((0,fe.baToJSON)(e[r]));return t}};fe.baToJSON=dv;var lv=function(e){for(let[t,r]of Object.entries(e))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)};fe.validateNoLeadingZeroes=lv;function Xh(e){return Array.isArray(e)?e.map(t=>Xh(t)):y.Buffer.from(e)}fe.arrToBufArr=Xh;function Jh(e){return Array.isArray(e)?e.map(t=>Jh(t)):Uint8Array.from(e??[])}fe.bufArrToArr=Jh;var hv=e=>"0x"+e.toString(16);fe.bigIntToHex=hv;function gv(e){return(0,fe.unpadBuffer)(Xu(e))}fe.bigIntToUnpaddedBuffer=gv;function _v(e){return(0,fe.unpadBuffer)((0,fe.intToBuffer)(e))}fe.intToUnpaddedBuffer=_v});var Ju=D(Ae=>{b();p();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.accountBodyToRLP=Ae.accountBodyToSlim=Ae.accountBodyFromSlim=Ae.isZeroAddress=Ae.zeroAddress=Ae.importPublic=Ae.privateToAddress=Ae.privateToPublic=Ae.publicToAddress=Ae.pubToAddress=Ae.isValidPublic=Ae.isValidPrivate=Ae.generateAddress2=Ae.generateAddress=Ae.isValidChecksumAddress=Ae.toChecksumAddress=Ae.isValidAddress=Ae.Account=void 0;var Ds=$u(),Go=Ku(),Fo=bf(),yv=Zu(),bt=to(),bi=xf(),Yr=Bf(),bv=$o(),Vo=BigInt(0),Zo=class{constructor(t=Vo,r=Vo,n=bi.KECCAK256_RLP,i=bi.KECCAK256_NULL){this.nonce=t,this.balance=r,this.storageRoot=n,this.codeHash=i,this._validate()}static fromAccountData(t){let{nonce:r,balance:n,storageRoot:i,codeHash:o}=t;return new Zo(r!==void 0?(0,bt.bufferToBigInt)((0,bt.toBuffer)(r)):void 0,n!==void 0?(0,bt.bufferToBigInt)((0,bt.toBuffer)(n)):void 0,i!==void 0?(0,bt.toBuffer)(i):void 0,o!==void 0?(0,bt.toBuffer)(o):void 0)}static fromRlpSerializedAccount(t){let r=(0,bt.arrToBufArr)(Ds.RLP.decode(Uint8Array.from(t)));if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)}static fromValuesArray(t){let[r,n,i,o]=t;return new Zo((0,bt.bufferToBigInt)(r),(0,bt.bufferToBigInt)(n),i,o)}_validate(){if(this.nonce<Vo)throw new Error("nonce must be greater than zero");if(this.balance<Vo)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,bt.bigIntToUnpaddedBuffer)(this.nonce),(0,bt.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return y.Buffer.from(Ds.RLP.encode((0,bt.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(bi.KECCAK256_NULL)}isEmpty(){return this.balance===Vo&&this.nonce===Vo&&this.codeHash.equals(bi.KECCAK256_NULL)}};Ae.Account=Zo;var pv=function(e){try{(0,Yr.assertIsString)(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};Ae.isValidAddress=pv;var xv=function(e,t){(0,Yr.assertIsHexString)(e);let r=(0,bv.stripHexPrefix)(e).toLowerCase(),n="";t!==void 0&&(n=(0,bt.bufferToBigInt)((0,bt.toBuffer)(t)).toString()+"0x");let i=y.Buffer.from(n+r,"utf8"),o=(0,yv.bytesToHex)((0,Go.keccak256)(i)),a="0x";for(let f=0;f<r.length;f++)parseInt(o[f],16)>=8?a+=r[f].toUpperCase():a+=r[f];return a};Ae.toChecksumAddress=xv;var wv=function(e,t){return(0,Ae.isValidAddress)(e)&&(0,Ae.toChecksumAddress)(e,t)===e};Ae.isValidChecksumAddress=wv;var mv=function(e,t){return(0,Yr.assertIsBuffer)(e),(0,Yr.assertIsBuffer)(t),(0,bt.bufferToBigInt)(t)===BigInt(0)?y.Buffer.from((0,Go.keccak256)(Ds.RLP.encode((0,bt.bufArrToArr)([e,null])))).slice(-20):y.Buffer.from((0,Go.keccak256)(Ds.RLP.encode((0,bt.bufArrToArr)([e,t])))).slice(-20)};Ae.generateAddress=mv;var vv=function(e,t,r){if((0,Yr.assertIsBuffer)(e),(0,Yr.assertIsBuffer)(t),(0,Yr.assertIsBuffer)(r),e.length!==20)throw new Error("Expected from to be of length 20");if(t.length!==32)throw new Error("Expected salt to be of length 32");let n=(0,Go.keccak256)(y.Buffer.concat([y.Buffer.from("ff","hex"),e,t,(0,Go.keccak256)(r)]));return(0,bt.toBuffer)(n).slice(-20)};Ae.generateAddress2=vv;var Ev=function(e){return Fo.secp256k1.utils.isValidPrivateKey(e)};Ae.isValidPrivate=Ev;var Bv=function(e,t=!1){if((0,Yr.assertIsBuffer)(e),e.length===64)try{return Fo.secp256k1.ProjectivePoint.fromHex(y.Buffer.concat([y.Buffer.from([4]),e])),!0}catch{return!1}if(!t)return!1;try{return Fo.secp256k1.ProjectivePoint.fromHex(e),!0}catch{return!1}};Ae.isValidPublic=Bv;var Tv=function(e,t=!1){if((0,Yr.assertIsBuffer)(e),t&&e.length!==64&&(e=y.Buffer.from(Fo.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e.length!==64)throw new Error("Expected pubKey to be of length 64");return y.Buffer.from((0,Go.keccak256)(e)).slice(-20)};Ae.pubToAddress=Tv;Ae.publicToAddress=Ae.pubToAddress;var Sv=function(e){return(0,Yr.assertIsBuffer)(e),y.Buffer.from(Fo.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};Ae.privateToPublic=Sv;var Av=function(e){return(0,Ae.publicToAddress)((0,Ae.privateToPublic)(e))};Ae.privateToAddress=Av;var Iv=function(e){return(0,Yr.assertIsBuffer)(e),e.length!==64&&(e=y.Buffer.from(Fo.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};Ae.importPublic=Iv;var Pv=function(){let t=(0,bt.zeros)(20);return(0,bt.bufferToHex)(t)};Ae.zeroAddress=Pv;var Lv=function(e){try{(0,Yr.assertIsString)(e)}catch{return!1}return(0,Ae.zeroAddress)()===e};Ae.isZeroAddress=Lv;function eg(e){let[t,r,n,i]=e;return[t,r,(0,bt.arrToBufArr)(n).length===0?bi.KECCAK256_RLP:n,(0,bt.arrToBufArr)(i).length===0?bi.KECCAK256_NULL:i]}Ae.accountBodyFromSlim=eg;var Qh=new Uint8Array(0);function kv(e){let[t,r,n,i]=e;return[t,r,(0,bt.arrToBufArr)(n).equals(bi.KECCAK256_RLP)?Qh:n,(0,bt.arrToBufArr)(i).equals(bi.KECCAK256_NULL)?Qh:i]}Ae.accountBodyToSlim=kv;function Ov(e,t=!0){let r=t?eg(e):e;return(0,bt.arrToBufArr)(Ds.RLP.encode(r))}Ae.accountBodyToRLP=Ov});var Qu=D(Sf=>{b();p();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.Address=void 0;var zs=Ju(),Tf=to(),fn=class{constructor(t){if(t.length!==20)throw new Error("Invalid address length");this.buf=t}static zero(){return new fn((0,Tf.zeros)(20))}static fromString(t){if(!(0,zs.isValidAddress)(t))throw new Error("Invalid address");return new fn((0,Tf.toBuffer)(t))}static fromPublicKey(t){if(!y.Buffer.isBuffer(t))throw new Error("Public key should be Buffer");let r=(0,zs.pubToAddress)(t);return new fn(r)}static fromPrivateKey(t){if(!y.Buffer.isBuffer(t))throw new Error("Private key should be Buffer");let r=(0,zs.privateToAddress)(t);return new fn(r)}static generate(t,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new fn((0,zs.generateAddress)(t.buf,(0,Tf.bigIntToBuffer)(r)))}static generate2(t,r,n){if(!y.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!y.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new fn((0,zs.generateAddress2)(t.buf,r,n))}equals(t){return this.buf.equals(t.buf)}isZero(){return this.equals(fn.zero())}isPrecompileOrSystemAddress(){let t=(0,Tf.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return t>=r&&t<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return y.Buffer.from(this.buf)}};Sf.Address=fn});var ed=D(ro=>{b();p();Object.defineProperty(ro,"__esModule",{value:!0});ro.toType=ro.TypeOutput=void 0;var Af=to(),Nv=$o(),$s;(function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"})($s=ro.TypeOutput||(ro.TypeOutput={}));function Cv(e,t){if(e===null)return null;if(e===void 0)return;if(typeof e=="string"&&!(0,Nv.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let r=(0,Af.toBuffer)(e);switch(t){case $s.Buffer:return r;case $s.BigInt:return(0,Af.bufferToBigInt)(r);case $s.Number:{let n=(0,Af.bufferToBigInt)(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case $s.PrefixedHexString:return(0,Af.bufferToHex)(r);default:throw new Error("unknown outputType")}}ro.toType=Cv});var rg=D(If=>{b();p();Object.defineProperty(If,"__esModule",{value:!0});If.Withdrawal=void 0;var tg=Qu(),td=to(),Lt=ed(),no=class{constructor(t,r,n,i){this.index=t,this.validatorIndex=r,this.address=n,this.amount=i}static fromWithdrawalData(t){let{index:r,validatorIndex:n,address:i,amount:o}=t,a=(0,Lt.toType)(r,Lt.TypeOutput.BigInt),f=(0,Lt.toType)(n,Lt.TypeOutput.BigInt),d=new tg.Address((0,Lt.toType)(i,Lt.TypeOutput.Buffer)),u=(0,Lt.toType)(o,Lt.TypeOutput.BigInt);return new no(a,f,d,u)}static fromValuesArray(t){if(t.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${t.length}`);let[r,n,i,o]=t;return no.fromWithdrawalData({index:r,validatorIndex:n,address:i,amount:o})}static toBufferArray(t){let{index:r,validatorIndex:n,address:i,amount:o}=t,a=(0,Lt.toType)(r,Lt.TypeOutput.BigInt)===BigInt(0)?y.Buffer.alloc(0):(0,Lt.toType)(r,Lt.TypeOutput.Buffer),f=(0,Lt.toType)(n,Lt.TypeOutput.BigInt)===BigInt(0)?y.Buffer.alloc(0):(0,Lt.toType)(n,Lt.TypeOutput.Buffer),d;i instanceof tg.Address?d=i.buf:d=(0,Lt.toType)(i,Lt.TypeOutput.Buffer);let u=(0,Lt.toType)(o,Lt.TypeOutput.BigInt)===BigInt(0)?y.Buffer.alloc(0):(0,Lt.toType)(o,Lt.TypeOutput.Buffer);return[a,f,d,u]}raw(){return no.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,td.bigIntToHex)(this.index),validatorIndex:(0,td.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,td.bigIntToHex)(this.amount)}}};If.Withdrawal=no});var ig=D(cr=>{b();p();Object.defineProperty(cr,"__esModule",{value:!0});cr.hashPersonalMessage=cr.isValidSignature=cr.fromRpcSig=cr.toCompactSig=cr.toRpcSig=cr.ecrecover=cr.ecsign=void 0;var Hv=Ku(),ng=bf(),Tr=to(),rd=xf(),Uv=Bf();function Mv(e,t,r){let n=ng.secp256k1.sign(e,t),i=n.toCompactRawBytes(),o=y.Buffer.from(i.slice(0,32)),a=y.Buffer.from(i.slice(32,64)),f=r===void 0?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2);return{r:o,s:a,v:f}}cr.ecsign=Mv;function Pf(e,t){return e===BigInt(0)||e===BigInt(1)?e:t===void 0?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function Lf(e){return e===BigInt(0)||e===BigInt(1)}var Rv=function(e,t,r,n,i){let o=y.Buffer.concat([(0,Tr.setLengthLeft)(r,32),(0,Tr.setLengthLeft)(n,32)],64),a=Pf(t,i);if(!Lf(a))throw new Error("Invalid signature v value");let d=ng.secp256k1.Signature.fromCompact(o).addRecoveryBit(Number(a)).recoverPublicKey(e);return y.Buffer.from(d.toRawBytes(!1).slice(1))};cr.ecrecover=Rv;var jv=function(e,t,r,n){let i=Pf(e,n);if(!Lf(i))throw new Error("Invalid signature v value");return(0,Tr.bufferToHex)(y.Buffer.concat([(0,Tr.setLengthLeft)(t,32),(0,Tr.setLengthLeft)(r,32),(0,Tr.toBuffer)(e)]))};cr.toRpcSig=jv;var qv=function(e,t,r,n){let i=Pf(e,n);if(!Lf(i))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=y.Buffer.from(r),o[0]|=128),(0,Tr.bufferToHex)(y.Buffer.concat([(0,Tr.setLengthLeft)(t,32),(0,Tr.setLengthLeft)(o,32)]))};cr.toCompactSig=qv;var Dv=function(e){let t=(0,Tr.toBuffer)(e),r,n,i;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),i=(0,Tr.bufferToBigInt)(t.slice(64));else if(t.length===64)r=t.slice(0,32),n=t.slice(32,64),i=BigInt((0,Tr.bufferToInt)(t.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};cr.fromRpcSig=Dv;var zv=function(e,t,r,n=!0,i){if(t.length!==32||r.length!==32||!Lf(Pf(e,i)))return!1;let o=(0,Tr.bufferToBigInt)(t),a=(0,Tr.bufferToBigInt)(r);return!(o===BigInt(0)||o>=rd.SECP256K1_ORDER||a===BigInt(0)||a>=rd.SECP256K1_ORDER||n&&a>=rd.SECP256K1_ORDER_DIV_2)};cr.isValidSignature=zv;var $v=function(e){(0,Uv.assertIsBuffer)(e);let t=y.Buffer.from(`Ethereum Signed Message:
${e.length}`,"utf-8");return y.Buffer.from((0,Hv.keccak256)(y.Buffer.concat([t,e])))};cr.hashPersonalMessage=$v});var og=D(yr=>{b();p();Object.defineProperty(yr,"__esModule",{value:!0});yr.compactBytesToNibbles=yr.bytesToNibbles=yr.nibblesToCompactBytes=yr.nibblesToBytes=yr.hasTerminator=void 0;var Vv=e=>e.length>0&&e[e.length-1]===16;yr.hasTerminator=Vv;var Gv=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};yr.nibblesToBytes=Gv;var Fv=e=>{let t=0;(0,yr.hasTerminator)(e)&&(t=1,e=e.subarray(0,e.length-1));let r=new Uint8Array(e.length/2+1);return r[0]=t<<5,(e.length&1)===1&&(r[0]|=1<<4,r[0]|=e[0],e=e.subarray(1)),(0,yr.nibblesToBytes)(e,r.subarray(1)),r};yr.nibblesToCompactBytes=Fv;var Zv=e=>{let t=e.length*2+1,r=new Uint8Array(t);for(let n=0;n<e.length;n++){let i=e[n];r[n*2]=i/16,r[n*2+1]=i%16}return r[t-1]=16,r};yr.bytesToNibbles=Zv;var Kv=e=>{if(e.length===0)return e;let t=(0,yr.bytesToNibbles)(e);t[0]<2&&(t=t.subarray(0,t.length-1));let r=2-(t[0]&1);return t.subarray(r)};yr.compactBytesToNibbles=Kv});var sg=D(kf=>{b();p();Object.defineProperty(kf,"__esModule",{value:!0});kf.AsyncEventEmitter=void 0;var Wv=xp();async function Yv(e,t,r){let n;for await(let i of t)try{i.length<2?i.call(e,r):await new Promise((o,a)=>{i.call(e,r,f=>{f?a(f):o()})})}catch(o){n=o}if(n)throw n}var nd=class extends Wv.EventEmitter{emit(t,...r){let[n,i]=r,o=this,a=o._events[t]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(t==="newListener"||t==="removeListener")&&(n={event:n,fn:i},i=void 0),a=Array.isArray(a)?a:[a],Yv(o,a.slice(),n).then(i).catch(i),o.listenerCount(t)>0}once(t,r){let n=this,i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(o,a){n.removeListener(t,i),r(o,a)}:i=function(o){n.removeListener(t,i),r(o,i)},n.on(t,i),n}first(t,r){let n=this._events[t]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[t]=n=[n]),n.unshift(r),this}before(t,r,n){return this.beforeOrAfter(t,r,n)}after(t,r,n){return this.beforeOrAfter(t,r,n,"after")}beforeOrAfter(t,r,n,i){let o=this._events[t]??[],a,f,d=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(o)||(this._events[t]=o=[o]),f=o.length,a=o.length;a--;)if(o[a]===r){f=a+d;break}return o.splice(f,0,n),this}on(t,r){return super.on(t,r)}addListener(t,r){return super.addListener(t,r)}prependListener(t,r){return super.prependListener(t,r)}prependOnceListener(t,r){return super.prependOnceListener(t,r)}removeAllListeners(t){return super.removeAllListeners(t)}removeListener(t,r){return super.removeListener(t,r)}eventNames(){return super.eventNames()}listeners(t){return super.listeners(t)}listenerCount(t){return super.listenerCount(t)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(t){return super.setMaxListeners(t)}};kf.AsyncEventEmitter=nd});var ag=D(Of=>{b();p();Object.defineProperty(Of,"__esModule",{value:!0});Of.Lock=void 0;var id=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(t=>this.promiseResolverQueue.push(t))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;let t=this.promiseResolverQueue.shift();t&&t(!0)}}};Of.Lock=id});var fg={};Sa(fg,{default:()=>Xv});var Xv,cg=wr(()=>{b();p();Xv={}});var ug=D((M5,Nf)=>{b();p();var io=(cg(),wc(fg));if(io&&io.default){Nf.exports=io.default;for(let e in io)Nf.exports[e]=io[e]}else io&&(Nf.exports=io)});var dg={};Sa(dg,{default:()=>Jv});var Jv,lg=wr(()=>{b();p();Jv={}});var hg=D((z5,Cf)=>{b();p();var oo=(lg(),wc(dg));if(oo&&oo.default){Cf.exports=oo.default;for(let e in oo)Cf.exports[e]=oo[e]}else oo&&(Cf.exports=oo)});var Hf,od=wr(()=>{b();p();Hf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});function Qv(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gg,_g=wr(()=>{b();p();gg=Qv});function Xr(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var o=0;o<n;o++)e[i+o]=t[r+o]}var Ko,br,Vs,Gs=wr(()=>{b();p();Ko=Uint8Array,br=Uint16Array,Vs=Int32Array});function Yo(e){for(var t=e.length;--t>=0;)e[t]=0}function ad(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function fd(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Og(e){return e<256?Ks[e]:Ks[256+(e>>>7)]}function Ys(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Sr(e,t,r){e.bi_valid>sd-r?(e.bi_buf|=t<<e.bi_valid&65535,Ys(e,e.bi_buf),e.bi_buf=t>>sd-e.bi_valid,e.bi_valid+=r-sd):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Bn(e,t,r){Sr(e,r[t*2],r[t*2+1])}function Ng(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function cE(e){e.bi_valid===16?(Ys(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function uE(e,t){var r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,d=t.stat_desc.max_length,u,g,w,E,m,P,S=0;for(E=0;E<=so;E++)e.bl_count[E]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<Bg;u++)g=e.heap[u],E=r[r[g*2+1]*2+1]+1,E>d&&(E=d,S++),r[g*2+1]=E,!(g>n)&&(e.bl_count[E]++,m=0,g>=f&&(m=a[g-f]),P=r[g*2],e.opt_len+=P*(E+m),o&&(e.static_len+=P*(i[g*2+1]+m)));if(S!==0){do{for(E=d-1;e.bl_count[E]===0;)E--;e.bl_count[E]--,e.bl_count[E+1]+=2,e.bl_count[d]--,S-=2}while(S>0);for(E=d;E!==0;E--)for(g=e.bl_count[E];g!==0;)w=e.heap[--u],!(w>n)&&(r[w*2+1]!==E&&(e.opt_len+=(E-r[w*2+1])*r[w*2],r[w*2+1]=E),g--)}}function Cg(e,t,r){var n=new Array(so+1),i=0,o,a;for(o=1;o<=so;o++)n[o]=i=i+r[o-1]<<1;for(a=0;a<=t;a++){var f=e[a*2+1];f!==0&&(e[a*2]=Ng(n[f]++,f))}}function dE(){var e,t,r,n,i,o=new Array(so+1);for(r=0,n=0;n<ld-1;n++)for(_d[n]=r,e=0;e<1<<ud[n];e++)Ws[r++]=n;for(Ws[r-1]=n,i=0,n=0;n<16;n++)for(Mf[n]=i,e=0;e<1<<Uf[n];e++)Ks[i++]=n;for(i>>=7;n<Wo;n++)for(Mf[n]=i<<7,e=0;e<1<<Uf[n]-7;e++)Ks[256+i++]=n;for(t=0;t<=so;t++)o[t]=0;for(e=0;e<=143;)Yn[e*2+1]=8,e++,o[8]++;for(;e<=255;)Yn[e*2+1]=9,e++,o[9]++;for(;e<=279;)Yn[e*2+1]=7,e++,o[7]++;for(;e<=287;)Yn[e*2+1]=8,e++,o[8]++;for(Cg(Yn,Zs+1,o),e=0;e<Wo;e++)Fs[e*2+1]=5,Fs[e*2]=Ng(e,5);Pg=new ad(Yn,ud,Xs+1,Zs,so),Lg=new ad(Fs,Uf,0,Wo,so),kg=new ad(new Array(0),aE,0,hd,sE)}function Hg(e){var t;for(t=0;t<Zs;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Wo;t++)e.dyn_dtree[t*2]=0;for(t=0;t<hd;t++)e.bl_tree[t*2]=0;e.dyn_ltree[gd*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Ug(e){e.bi_valid>8?Ys(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function lE(e,t,r,n){Ug(e),n&&(Ys(e,r),Ys(e,~r)),Xr(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function pg(e,t,r,n){var i=t*2,o=r*2;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function cd(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&pg(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!pg(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function xg(e,t,r){var n,i,o=0,a,f;if(e.last_lit!==0)do n=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,n===0?Bn(e,i,t):(a=Ws[i],Bn(e,a+Xs+1,t),f=ud[a],f!==0&&(i-=_d[a],Sr(e,i,f)),n--,a=Og(n),Bn(e,a,r),f=Uf[a],f!==0&&(n-=Mf[a],Sr(e,n,f)));while(o<e.last_lit);Bn(e,gd,t)}function dd(e,t){var r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,f,d=-1,u;for(e.heap_len=0,e.heap_max=Bg,a=0;a<o;a++)r[a*2]!==0?(e.heap[++e.heap_len]=d=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=d<2?++d:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[u*2+1]);for(t.max_code=d,a=e.heap_len>>1;a>=1;a--)cd(e,r,a);u=o;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],cd(e,r,1),f=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=f,r[u*2]=r[a*2]+r[f*2],e.depth[u]=(e.depth[a]>=e.depth[f]?e.depth[a]:e.depth[f])+1,r[a*2+1]=r[f*2+1]=u,e.heap[1]=u++,cd(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],uE(e,t),Cg(r,d,e.bl_count)}function wg(e,t,r){var n,i=-1,o,a=t[0*2+1],f=0,d=7,u=4;for(a===0&&(d=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)o=a,a=t[(n+1)*2+1],!(++f<d&&o===a)&&(f<u?e.bl_tree[o*2]+=f:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[Tg*2]++):f<=10?e.bl_tree[Sg*2]++:e.bl_tree[Ag*2]++,f=0,i=o,a===0?(d=138,u=3):o===a?(d=6,u=3):(d=7,u=4))}function mg(e,t,r){var n,i=-1,o,a=t[0*2+1],f=0,d=7,u=4;for(a===0&&(d=138,u=3),n=0;n<=r;n++)if(o=a,a=t[(n+1)*2+1],!(++f<d&&o===a)){if(f<u)do Bn(e,o,e.bl_tree);while(--f!==0);else o!==0?(o!==i&&(Bn(e,o,e.bl_tree),f--),Bn(e,Tg,e.bl_tree),Sr(e,f-3,2)):f<=10?(Bn(e,Sg,e.bl_tree),Sr(e,f-3,3)):(Bn(e,Ag,e.bl_tree),Sr(e,f-11,7));f=0,i=o,a===0?(d=138,u=3):o===a?(d=6,u=3):(d=7,u=4)}}function hE(e){var t;for(wg(e,e.dyn_ltree,e.l_desc.max_code),wg(e,e.dyn_dtree,e.d_desc.max_code),dd(e,e.bl_desc),t=hd-1;t>=3&&e.bl_tree[Ig[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function gE(e,t,r,n){var i;for(Sr(e,t-257,5),Sr(e,r-1,5),Sr(e,n-4,4),i=0;i<n;i++)Sr(e,e.bl_tree[Ig[i]*2+1],3);mg(e,e.dyn_ltree,t-1),mg(e,e.dyn_dtree,r-1)}function _E(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return yg;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return bg;for(r=32;r<Xs;r++)if(e.dyn_ltree[r*2]!==0)return bg;return yg}function Mg(e){vg||(dE(),vg=!0),e.l_desc=new fd(e.dyn_ltree,Pg),e.d_desc=new fd(e.dyn_dtree,Lg),e.bl_desc=new fd(e.bl_tree,kg),e.bi_buf=0,e.bi_valid=0,Hg(e)}function yd(e,t,r,n){Sr(e,(rE<<1)+(n?1:0),3),lE(e,t,r,!0)}function Rg(e){Sr(e,Eg<<1,3),Bn(e,gd,Yn),cE(e)}function jg(e,t,r,n){var i,o,a=0;e.level>0?(e.strm.data_type===tE&&(e.strm.data_type=_E(e)),dd(e,e.l_desc),dd(e,e.d_desc),a=hE(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&t!==-1?yd(e,t,r,n):e.strategy===eE||o===i?(Sr(e,(Eg<<1)+(n?1:0),3),xg(e,Yn,Fs)):(Sr(e,(nE<<1)+(n?1:0),3),gE(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),xg(e,e.dyn_ltree,e.dyn_dtree)),Hg(e),n&&Ug(e)}function Xn(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Ws[r]+Xs+1)*2]++,e.dyn_dtree[Og(t)*2]++),e.last_lit===e.lit_bufsize-1}var eE,yg,bg,tE,rE,Eg,nE,iE,oE,ld,Xs,Zs,Wo,hd,Bg,so,sd,sE,gd,Tg,Sg,Ag,ud,Uf,aE,Ig,fE,Yn,Fs,Ks,Ws,_d,Mf,Pg,Lg,kg,vg,qg=wr(()=>{b();p();Gs();eE=4,yg=0,bg=1,tE=2;rE=0,Eg=1,nE=2,iE=3,oE=258,ld=29,Xs=256,Zs=Xs+1+ld,Wo=30,hd=19,Bg=2*Zs+1,so=15,sd=16,sE=7,gd=256,Tg=16,Sg=17,Ag=18,ud=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Uf=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],aE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ig=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fE=512,Yn=new Array((Zs+2)*2);Yo(Yn);Fs=new Array(Wo*2);Yo(Fs);Ks=new Array(fE);Yo(Ks);Ws=new Array(oE-iE+1);Yo(Ws);_d=new Array(ld);Yo(_d);Mf=new Array(Wo);Yo(Mf);vg=!1});function yE(e,t,r,n){for(var i=e&65535|0,o=e>>>16&65535|0,a=0;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}var Js,bd=wr(()=>{b();p();Js=yE});function bE(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}function xE(e,t,r,n){var i=pE,o=n+r;e^=-1;for(var a=n;a<o;a++)e=e>>>8^i[(e^t[a])&255];return e^-1}var pE,qt,pd=wr(()=>{b();p();pE=bE();qt=xE});function mi(e,t){return e.msg=Hf[t],t}function $g(e){return(e<<1)-(e>4?9:0)}function ao(e){for(var t=e.length;--t>=0;)e[t]=0}function pi(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(Xr(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function tr(e,t){jg(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,pi(e.strm)}function We(e,t){e.pending_buf[e.pending++]=t}function Qs(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function ME(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,Xr(t,e.input,e.next_in,i,r),e.state.wrap===1?e.adler=Js(e.adler,t,i,r):e.state.wrap===2&&(e.adler=qt(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function Vg(e,t){var r=e.max_chain_length,n=e.strstart,i,o,a=e.prev_length,f=e.nice_match,d=e.strstart>e.w_size-cn?e.strstart-(e.w_size-cn):0,u=e.window,g=e.w_mask,w=e.prev,E=e.strstart+wi,m=u[n+a-1],P=u[n+a];e.prev_length>=e.good_match&&(r>>=2),f>e.lookahead&&(f=e.lookahead);do if(i=t,!(u[i+a]!==P||u[i+a-1]!==m||u[i]!==u[n]||u[++i]!==u[n+1])){n+=2,i++;do;while(u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&u[++n]===u[++i]&&n<E);if(o=wi-(E-n),n=E-wi,o>a){if(e.match_start=t,a=o,o>=f)break;m=u[n+a-1],P=u[n+a]}}while((t=w[t&g])>d&&--r!==0);return a<=e.lookahead?a:e.lookahead}function ra(e){var t=e.w_size,r,n,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-cn)){Xr(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do i=e.head[--r],e.head[r]=i>=t?i-t:0;while(--n);n=t,r=n;do i=e.prev[--r],e.prev[r]=i>=t?i-t:0;while(--n);o+=t}if(e.strm.avail_in===0)break;if(n=ME(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=et)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+et-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<et)););}while(e.lookahead<cn&&e.strm.avail_in!==0)}function RE(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ra(e),e.lookahead===0&&t===uo)return Zt;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((e.strstart===0||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,tr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-cn&&(tr(e,!1),e.strm.avail_out===0))return Zt}return e.insert=0,t===vi?(tr(e,!0),e.strm.avail_out===0?co:Qo):(e.strstart>e.block_start&&(tr(e,!1),e.strm.avail_out===0),Zt)}function wd(e,t){for(var r,n;;){if(e.lookahead<cn){if(ra(e),e.lookahead<cn&&t===uo)return Zt;if(e.lookahead===0)break}if(r=0,e.lookahead>=et&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+et-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-cn&&(e.match_length=Vg(e,r)),e.match_length>=et)if(n=Xn(e,e.strstart-e.match_start,e.match_length-et),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=et){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+et-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Xn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(tr(e,!1),e.strm.avail_out===0))return Zt}return e.insert=e.strstart<et-1?e.strstart:et-1,t===vi?(tr(e,!0),e.strm.avail_out===0?co:Qo):e.last_lit&&(tr(e,!1),e.strm.avail_out===0)?Zt:ta}function Xo(e,t){for(var r,n,i;;){if(e.lookahead<cn){if(ra(e),e.lookahead<cn&&t===uo)return Zt;if(e.lookahead===0)break}if(r=0,e.lookahead>=et&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+et-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=et-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-cn&&(e.match_length=Vg(e,r),e.match_length<=5&&(e.strategy===BE||e.match_length===et&&e.strstart-e.match_start>4096)&&(e.match_length=et-1)),e.prev_length>=et&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-et,n=Xn(e,e.strstart-1-e.prev_match,e.prev_length-et),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+et-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=et-1,e.strstart++,n&&(tr(e,!1),e.strm.avail_out===0))return Zt}else if(e.match_available){if(n=Xn(e,0,e.window[e.strstart-1]),n&&tr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Zt}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Xn(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<et-1?e.strstart:et-1,t===vi?(tr(e,!0),e.strm.avail_out===0?co:Qo):e.last_lit&&(tr(e,!1),e.strm.avail_out===0)?Zt:ta}function jE(e,t){for(var r,n,i,o,a=e.window;;){if(e.lookahead<=wi){if(ra(e),e.lookahead<=wi&&t===uo)return Zt;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=et&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=e.strstart+wi;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);e.match_length=wi-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=et?(r=Xn(e,1,e.match_length-et),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Xn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(tr(e,!1),e.strm.avail_out===0))return Zt}return e.insert=0,t===vi?(tr(e,!0),e.strm.avail_out===0?co:Qo):e.last_lit&&(tr(e,!1),e.strm.avail_out===0)?Zt:ta}function qE(e,t){for(var r;;){if(e.lookahead===0&&(ra(e),e.lookahead===0)){if(t===uo)return Zt;break}if(e.match_length=0,r=Xn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(tr(e,!1),e.strm.avail_out===0))return Zt}return e.insert=0,t===vi?(tr(e,!0),e.strm.avail_out===0?co:Qo):e.last_lit&&(tr(e,!1),e.strm.avail_out===0)?Zt:ta}function Tn(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function DE(e){e.window_size=2*e.w_size,ao(e.head),e.max_lazy_match=Jo[e.level].max_lazy,e.good_match=Jo[e.level].good_length,e.nice_match=Jo[e.level].nice_length,e.max_chain_length=Jo[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=et-1,e.match_available=0,e.ins_h=0}function zE(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ed,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new br(NE*2),this.dyn_dtree=new br((2*kE+1)*2),this.bl_tree=new br((2*OE+1)*2),ao(this.dyn_ltree),ao(this.dyn_dtree),ao(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new br(CE+1),this.heap=new br(2*md+1),ao(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new br(2*md+1),ao(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $E(e){var t;return!e||!e.state?mi(e,Ei):(e.total_in=e.total_out=0,e.data_type=AE,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Bd:fo,e.adler=t.wrap===2?0:1,t.last_flush=uo,Mg(t),xi)}function Td(e){var t=$E(e);return t===xi&&DE(e.state),t}function Gg(e,t,r,n,i,o){if(!e)return Ei;var a=1;if(t===EE&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>IE||r!==Ed||n<8||n>15||t<0||t>9||o<0||o>SE)return mi(e,Ei);n===8&&(n=9);var f=new zE;return e.state=f,f.strm=e,f.wrap=a,f.gzhead=null,f.w_bits=n,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=i+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+et-1)/et),f.window=new Ko(f.w_size*2),f.head=new br(f.hash_size),f.prev=new br(f.w_size),f.lit_bufsize=1<<i+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=new Ko(f.pending_buf_size),f.d_buf=1*f.lit_bufsize,f.l_buf=(1+2)*f.lit_bufsize,f.level=t,f.strategy=o,f.method=r,Td(e)}function Fg(e,t){var r,n,i,o;if(!e||!e.state||t>Dg||t<0)return e?mi(e,Ei):Ei;if(n=e.state,!e.output||!e.input&&e.avail_in!==0||n.status===ea&&t!==vi)return mi(e,e.avail_out===0?xd:Ei);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Bd)if(n.wrap===2)e.adler=0,We(n,31),We(n,139),We(n,8),n.gzhead?(We(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),We(n,n.gzhead.time&255),We(n,n.gzhead.time>>8&255),We(n,n.gzhead.time>>16&255),We(n,n.gzhead.time>>24&255),We(n,n.level===9?2:n.strategy>=Rf||n.level<2?4:0),We(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(We(n,n.gzhead.extra.length&255),We(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=qt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=vd):(We(n,0),We(n,0),We(n,0),We(n,0),We(n,0),We(n,n.level===9?2:n.strategy>=Rf||n.level<2?4:0),We(n,UE),n.status=fo);else{var a=Ed+(n.w_bits-8<<4)<<8,f=-1;n.strategy>=Rf||n.level<2?f=0:n.level<6?f=1:n.level===6?f=2:f=3,a|=f<<6,n.strstart!==0&&(a|=HE),a+=31-a%31,n.status=fo,Qs(n,a),n.strstart!==0&&(Qs(n,e.adler>>>16),Qs(n,e.adler&65535)),e.adler=1}if(n.status===vd)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=qt(e.adler,n.pending_buf,n.pending-i,i)),pi(e),i=n.pending,n.pending===n.pending_buf_size));)We(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=qt(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=jf)}else n.status=jf;if(n.status===jf)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=qt(e.adler,n.pending_buf,n.pending-i,i)),pi(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,We(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=qt(e.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.gzindex=0,n.status=qf)}else n.status=qf;if(n.status===qf)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=qt(e.adler,n.pending_buf,n.pending-i,i)),pi(e),i=n.pending,n.pending===n.pending_buf_size)){o=1;break}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,We(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=qt(e.adler,n.pending_buf,n.pending-i,i)),o===0&&(n.status=Df)}else n.status=Df;if(n.status===Df&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&pi(e),n.pending+2<=n.pending_buf_size&&(We(n,e.adler&255),We(n,e.adler>>8&255),e.adler=0,n.status=fo)):n.status=fo),n.pending!==0){if(pi(e),e.avail_out===0)return n.last_flush=-1,xi}else if(e.avail_in===0&&$g(t)<=$g(r)&&t!==vi)return mi(e,xd);if(n.status===ea&&e.avail_in!==0)return mi(e,xd);if(e.avail_in!==0||n.lookahead!==0||t!==uo&&n.status!==ea){var d=n.strategy===Rf?qE(n,t):n.strategy===TE?jE(n,t):Jo[n.level].func(n,t);if((d===co||d===Qo)&&(n.status=ea),d===Zt||d===co)return e.avail_out===0&&(n.last_flush=-1),xi;if(d===ta&&(t===wE?Rg(n):t!==Dg&&(yd(n,0,0,!1),t===mE&&(ao(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),pi(e),e.avail_out===0))return n.last_flush=-1,xi}return t!==vi?xi:n.wrap<=0?zg:(n.wrap===2?(We(n,e.adler&255),We(n,e.adler>>8&255),We(n,e.adler>>16&255),We(n,e.adler>>24&255),We(n,e.total_in&255),We(n,e.total_in>>8&255),We(n,e.total_in>>16&255),We(n,e.total_in>>24&255)):(Qs(n,e.adler>>>16),Qs(n,e.adler&65535)),pi(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?xi:zg)}function Zg(e){var t;return!e||!e.state?Ei:(t=e.state.status,t!==Bd&&t!==vd&&t!==jf&&t!==qf&&t!==Df&&t!==fo&&t!==ea?mi(e,Ei):(e.state=null,t===fo?mi(e,vE):xi))}var uo,wE,mE,vi,Dg,xi,zg,Ei,vE,xd,EE,BE,Rf,TE,SE,AE,Ed,IE,PE,LE,md,kE,OE,NE,CE,et,wi,cn,HE,Bd,vd,jf,qf,Df,fo,ea,Zt,ta,co,Qo,UE,Jo,Kg=wr(()=>{b();p();Gs();qg();bd();pd();od();uo=0,wE=1,mE=3,vi=4,Dg=5,xi=0,zg=1,Ei=-2,vE=-3,xd=-5,EE=-1,BE=1,Rf=2,TE=3,SE=4,AE=2,Ed=8,IE=9,PE=29,LE=256,md=LE+1+PE,kE=30,OE=19,NE=2*md+1,CE=15,et=3,wi=258,cn=wi+et+1,HE=32,Bd=42,vd=69,jf=73,qf=91,Df=103,fo=113,ea=666,Zt=1,ta=2,co=3,Qo=4,UE=3;Jo=[new Tn(0,0,0,0,RE),new Tn(4,4,8,4,wd),new Tn(4,5,16,8,wd),new Tn(4,6,32,32,wd),new Tn(4,4,16,16,Xo),new Tn(8,16,32,32,Xo),new Tn(8,16,128,128,Xo),new Tn(8,32,128,256,Xo),new Tn(32,128,258,1024,Xo),new Tn(32,258,258,4096,Xo)]});function Sd(e,t){var r,n,i,o,a,f,d,u,g,w,E,m,P,S,k,L,H,q,U,Z,K,$,te,be,X;r=e.state,n=e.next_in,be=e.input,i=n+(e.avail_in-5),o=e.next_out,X=e.output,a=o-(t-e.avail_out),f=o+(e.avail_out-257),d=r.dmax,u=r.wsize,g=r.whave,w=r.wnext,E=r.window,m=r.hold,P=r.bits,S=r.lencode,k=r.distcode,L=(1<<r.lenbits)-1,H=(1<<r.distbits)-1;e:do{P<15&&(m+=be[n++]<<P,P+=8,m+=be[n++]<<P,P+=8),q=S[m&L];t:for(;;){if(U=q>>>24,m>>>=U,P-=U,U=q>>>16&255,U===0)X[o++]=q&65535;else if(U&16){Z=q&65535,U&=15,U&&(P<U&&(m+=be[n++]<<P,P+=8),Z+=m&(1<<U)-1,m>>>=U,P-=U),P<15&&(m+=be[n++]<<P,P+=8,m+=be[n++]<<P,P+=8),q=k[m&H];r:for(;;){if(U=q>>>24,m>>>=U,P-=U,U=q>>>16&255,U&16){if(K=q&65535,U&=15,P<U&&(m+=be[n++]<<P,P+=8,P<U&&(m+=be[n++]<<P,P+=8)),K+=m&(1<<U)-1,K>d){e.msg="invalid distance too far back",r.mode=zf;break e}if(m>>>=U,P-=U,U=o-a,K>U){if(U=K-U,U>g&&r.sane){e.msg="invalid distance too far back",r.mode=zf;break e}if($=0,te=E,w===0){if($+=u-U,U<Z){Z-=U;do X[o++]=E[$++];while(--U);$=o-K,te=X}}else if(w<U){if($+=u+w-U,U-=w,U<Z){Z-=U;do X[o++]=E[$++];while(--U);if($=0,w<Z){U=w,Z-=U;do X[o++]=E[$++];while(--U);$=o-K,te=X}}}else if($+=w-U,U<Z){Z-=U;do X[o++]=E[$++];while(--U);$=o-K,te=X}for(;Z>2;)X[o++]=te[$++],X[o++]=te[$++],X[o++]=te[$++],Z-=3;Z&&(X[o++]=te[$++],Z>1&&(X[o++]=te[$++]))}else{$=o-K;do X[o++]=X[$++],X[o++]=X[$++],X[o++]=X[$++],Z-=3;while(Z>2);Z&&(X[o++]=X[$++],Z>1&&(X[o++]=X[$++]))}}else if((U&64)===0){q=k[(q&65535)+(m&(1<<U)-1)];continue r}else{e.msg="invalid distance code",r.mode=zf;break e}break}}else if((U&64)===0){q=S[(q&65535)+(m&(1<<U)-1)];continue t}else if(U&32){r.mode=VE;break e}else{e.msg="invalid literal/length code",r.mode=zf;break e}break}}while(n<i&&o<f);Z=P>>3,n-=Z,P-=Z<<3,m&=(1<<P)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<f?257+(f-o):257-(o-f),r.hold=m,r.bits=P}var zf,VE,Wg=wr(()=>{b();p();zf=30,VE=12});function lo(e,t,r,n,i,o,a,f){var d=f.bits,u=0,g=0,w=0,E=0,m=0,P=0,S=0,k=0,L=0,H=0,q,U,Z,K,$,te=null,be=0,X,le=new br(es+1),ct=new br(es+1),pt=null,Qt=0,F,W,_e;for(u=0;u<=es;u++)le[u]=0;for(g=0;g<n;g++)le[t[r+g]]++;for(m=d,E=es;E>=1&&le[E]===0;E--);if(m>E&&(m=E),E===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,f.bits=1,0;for(w=1;w<E&&le[w]===0;w++);for(m<w&&(m=w),k=1,u=1;u<=es;u++)if(k<<=1,k-=le[u],k<0)return-1;if(k>0&&(e===Jg||E!==1))return-1;for(ct[1]=0,u=1;u<es;u++)ct[u+1]=ct[u]+le[u];for(g=0;g<n;g++)t[r+g]!==0&&(a[ct[t[r+g]]++]=g);if(e===Jg?(te=pt=a,X=19):e===Ad?(te=GE,be-=257,pt=FE,Qt-=257,X=256):(te=ZE,pt=KE,X=-1),H=0,g=0,u=w,$=o,P=m,S=0,Z=-1,L=1<<m,K=L-1,e===Ad&&L>Yg||e===Qg&&L>Xg)return 1;for(var Re=0;;){Re++,F=u-S,a[g]<X?(W=0,_e=a[g]):a[g]>X?(W=pt[Qt+a[g]],_e=te[be+a[g]]):(W=32+64,_e=0),q=1<<u-S,U=1<<P,w=U;do U-=q,i[$+(H>>S)+U]=F<<24|W<<16|_e|0;while(U!==0);for(q=1<<u-1;H&q;)q>>=1;if(q!==0?(H&=q-1,H+=q):H=0,g++,--le[u]===0){if(u===E)break;u=t[r+a[g]]}if(u>m&&(H&K)!==Z){for(S===0&&(S=m),$+=w,P=u-S,k=1<<P;P+S<E&&(k-=le[P+S],!(k<=0));)P++,k<<=1;if(L+=1<<P,e===Ad&&L>Yg||e===Qg&&L>Xg)return 1;Z=H&K,i[Z]=m<<24|P<<16|$-o|0}}return H!==0&&(i[$+H]=u-S<<24|64<<16|0),f.bits=m,0}var es,Yg,Xg,Jg,Ad,Qg,GE,FE,ZE,KE,e_=wr(()=>{b();p();Gs();es=15,Yg=852,Xg=592,Jg=0,Ad=1,Qg=2,GE=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],FE=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ZE=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],KE=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]});function A_(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function i6(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new br(320),this.work=new br(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o6(e){var t;return!e||!e.state?Bi:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=k_,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Vs(r6),t.distcode=t.distdyn=new Vs(n6),t.sane=1,t.back=-1,na)}function Nd(e){var t;return!e||!e.state?Bi:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o6(e))}function s6(e,t){var r,n;return!e||!e.state||(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Bi:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Nd(e))}function O_(e,t){var r,n;return e?(n=new i6,e.state=n,n.window=null,r=s6(e,t),r!==na&&(e.state=null),r):Bi}function a6(e){if(I_){var t;for(kd=new Vs(512),Od=new Vs(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(lo(P_,e.lens,0,288,kd,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;lo(L_,e.lens,0,32,Od,0,e.work,{bits:5}),I_=!1}e.lencode=kd,e.lenbits=9,e.distcode=Od,e.distbits=5}function f6(e,t,r,n){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Ko(o.wsize)),n>=o.wsize?(Xr(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),Xr(o.window,t,r-n,i,o.wnext),n-=i,n?(Xr(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function N_(e,t){var r,n,i,o,a,f,d,u,g,w,E,m,P,S,k=0,L,H,q,U,Z,K,$,te,be=new Ko(4),X,le,ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Bi;r=e.state,r.mode===Jn&&(r.mode=Id),a=e.next_out,i=e.output,d=e.avail_out,o=e.next_in,n=e.input,f=e.avail_in,u=r.hold,g=r.bits,w=f,E=d,te=na;e:for(;;)switch(r.mode){case k_:if(r.wrap===0){r.mode=Id;break}for(;g<16;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(r.wrap&2&&u===35615){r.check=0,be[0]=u&255,be[1]=u>>>8&255,r.check=qt(r.check,be,2,0),u=0,g=0,r.mode=i_;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=wt;break}if((u&15)!==n_){e.msg="unknown compression method",r.mode=wt;break}if(u>>>=4,g-=4,$=(u&15)+8,r.wbits===0)r.wbits=$;else if($>r.wbits){e.msg="invalid window size",r.mode=wt;break}r.dmax=1<<$,e.adler=r.check=1,r.mode=u&512?l_:Jn,u=0,g=0;break;case i_:for(;g<16;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(r.flags=u,(r.flags&255)!==n_){e.msg="unknown compression method",r.mode=wt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=wt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&(be[0]=u&255,be[1]=u>>>8&255,r.check=qt(r.check,be,2,0)),u=0,g=0,r.mode=o_;case o_:for(;g<32;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}r.head&&(r.head.time=u),r.flags&512&&(be[0]=u&255,be[1]=u>>>8&255,be[2]=u>>>16&255,be[3]=u>>>24&255,r.check=qt(r.check,be,4,0)),u=0,g=0,r.mode=s_;case s_:for(;g<16;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&(be[0]=u&255,be[1]=u>>>8&255,r.check=qt(r.check,be,2,0)),u=0,g=0,r.mode=a_;case a_:if(r.flags&1024){for(;g<16;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&(be[0]=u&255,be[1]=u>>>8&255,r.check=qt(r.check,be,2,0)),u=0,g=0}else r.head&&(r.head.extra=null);r.mode=f_;case f_:if(r.flags&1024&&(m=r.length,m>f&&(m=f),m&&(r.head&&($=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Xr(r.head.extra,n,o,m,$)),r.flags&512&&(r.check=qt(r.check,n,m,o)),f-=m,o+=m,r.length-=m),r.length))break e;r.length=0,r.mode=c_;case c_:if(r.flags&2048){if(f===0)break e;m=0;do $=n[o+m++],r.head&&$&&r.length<65536&&(r.head.name+=String.fromCharCode($));while($&&m<f);if(r.flags&512&&(r.check=qt(r.check,n,m,o)),f-=m,o+=m,$)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=u_;case u_:if(r.flags&4096){if(f===0)break e;m=0;do $=n[o+m++],r.head&&$&&r.length<65536&&(r.head.comment+=String.fromCharCode($));while($&&m<f);if(r.flags&512&&(r.check=qt(r.check,n,m,o)),f-=m,o+=m,$)break e}else r.head&&(r.head.comment=null);r.mode=d_;case d_:if(r.flags&512){for(;g<16;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=wt;break}u=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Jn;break;case l_:for(;g<32;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}e.adler=r.check=A_(u),u=0,g=0,r.mode=h_;case h_:if(r.havedict===0)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=f,r.hold=u,r.bits=g,JE;e.adler=r.check=1,r.mode=Jn;case Jn:if(t===YE||t===$f)break e;case Id:if(r.last){u>>>=g&7,g-=g&7,r.mode=Ld;break}for(;g<3;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}switch(r.last=u&1,u>>>=1,g-=1,u&3){case 0:r.mode=g_;break;case 1:if(a6(r),r.mode=Vf,t===$f){u>>>=2,g-=2;break e}break;case 2:r.mode=y_;break;case 3:e.msg="invalid block type",r.mode=wt}u>>>=2,g-=2;break;case g_:for(u>>>=g&7,g-=g&7;g<32;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=wt;break}if(r.length=u&65535,u=0,g=0,r.mode=Pd,t===$f)break e;case Pd:r.mode=__;case __:if(m=r.length,m){if(m>f&&(m=f),m>d&&(m=d),m===0)break e;Xr(i,n,o,m,a),f-=m,o+=m,d-=m,a+=m,r.length-=m;break}r.mode=Jn;break;case y_:for(;g<14;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(r.nlen=(u&31)+257,u>>>=5,g-=5,r.ndist=(u&31)+1,u>>>=5,g-=5,r.ncode=(u&15)+4,u>>>=4,g-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=wt;break}r.have=0,r.mode=b_;case b_:for(;r.have<r.ncode;){for(;g<3;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}r.lens[ct[r.have++]]=u&7,u>>>=3,g-=3}for(;r.have<19;)r.lens[ct[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,X={bits:r.lenbits},te=lo(WE,r.lens,0,19,r.lencode,0,r.work,X),r.lenbits=X.bits,te){e.msg="invalid code lengths set",r.mode=wt;break}r.have=0,r.mode=p_;case p_:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[u&(1<<r.lenbits)-1],L=k>>>24,H=k>>>16&255,q=k&65535,!(L<=g);){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(q<16)u>>>=L,g-=L,r.lens[r.have++]=q;else{if(q===16){for(le=L+2;g<le;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(u>>>=L,g-=L,r.have===0){e.msg="invalid bit length repeat",r.mode=wt;break}$=r.lens[r.have-1],m=3+(u&3),u>>>=2,g-=2}else if(q===17){for(le=L+3;g<le;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}u>>>=L,g-=L,$=0,m=3+(u&7),u>>>=3,g-=3}else{for(le=L+7;g<le;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}u>>>=L,g-=L,$=0,m=11+(u&127),u>>>=7,g-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=wt;break}for(;m--;)r.lens[r.have++]=$}}if(r.mode===wt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=wt;break}if(r.lenbits=9,X={bits:r.lenbits},te=lo(P_,r.lens,0,r.nlen,r.lencode,0,r.work,X),r.lenbits=X.bits,te){e.msg="invalid literal/lengths set",r.mode=wt;break}if(r.distbits=6,r.distcode=r.distdyn,X={bits:r.distbits},te=lo(L_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,X),r.distbits=X.bits,te){e.msg="invalid distances set",r.mode=wt;break}if(r.mode=Vf,t===$f)break e;case Vf:r.mode=Gf;case Gf:if(f>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=f,r.hold=u,r.bits=g,Sd(e,E),a=e.next_out,i=e.output,d=e.avail_out,o=e.next_in,n=e.input,f=e.avail_in,u=r.hold,g=r.bits,r.mode===Jn&&(r.back=-1);break}for(r.back=0;k=r.lencode[u&(1<<r.lenbits)-1],L=k>>>24,H=k>>>16&255,q=k&65535,!(L<=g);){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(H&&(H&240)===0){for(U=L,Z=H,K=q;k=r.lencode[K+((u&(1<<U+Z)-1)>>U)],L=k>>>24,H=k>>>16&255,q=k&65535,!(U+L<=g);){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}u>>>=U,g-=U,r.back+=U}if(u>>>=L,g-=L,r.back+=L,r.length=q,H===0){r.mode=E_;break}if(H&32){r.back=-1,r.mode=Jn;break}if(H&64){e.msg="invalid literal/length code",r.mode=wt;break}r.extra=H&15,r.mode=x_;case x_:if(r.extra){for(le=r.extra;g<le;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=w_;case w_:for(;k=r.distcode[u&(1<<r.distbits)-1],L=k>>>24,H=k>>>16&255,q=k&65535,!(L<=g);){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if((H&240)===0){for(U=L,Z=H,K=q;k=r.distcode[K+((u&(1<<U+Z)-1)>>U)],L=k>>>24,H=k>>>16&255,q=k&65535,!(U+L<=g);){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}u>>>=U,g-=U,r.back+=U}if(u>>>=L,g-=L,r.back+=L,H&64){e.msg="invalid distance code",r.mode=wt;break}r.offset=q,r.extra=H&15,r.mode=m_;case m_:if(r.extra){for(le=r.extra;g<le;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=wt;break}r.mode=v_;case v_:if(d===0)break e;if(m=E-d,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=wt;break}m>r.wnext?(m-=r.wnext,P=r.wsize-m):P=r.wnext-m,m>r.length&&(m=r.length),S=r.window}else S=i,P=a-r.offset,m=r.length;m>d&&(m=d),d-=m,r.length-=m;do i[a++]=S[P++];while(--m);r.length===0&&(r.mode=Gf);break;case E_:if(d===0)break e;i[a++]=r.length,d--,r.mode=Gf;break;case Ld:if(r.wrap){for(;g<32;){if(f===0)break e;f--,u|=n[o++]<<g,g+=8}if(E-=d,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?qt(r.check,i,E,a-E):Js(r.check,i,E,a-E)),E=d,(r.flags?u:A_(u))!==r.check){e.msg="incorrect data check",r.mode=wt;break}u=0,g=0}r.mode=B_;case B_:if(r.wrap&&r.flags){for(;g<32;){if(f===0)break e;f--,u+=n[o++]<<g,g+=8}if(u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=wt;break}u=0,g=0}r.mode=T_;case T_:te=XE;break e;case wt:te=QE;break e;case S_:return r_;case t6:default:return Bi}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=f,r.hold=u,r.bits=g,(r.wsize||E!==e.avail_out&&r.mode<wt&&(r.mode<Ld||t!==t_))&&f6(e,e.output,e.next_out,E-e.avail_out)?(r.mode=S_,r_):(w-=e.avail_in,E-=e.avail_out,e.total_in+=w,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?qt(r.check,i,E,e.next_out-E):Js(r.check,i,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Jn?128:0)+(r.mode===Vf||r.mode===Pd?256:0),(w===0&&E===0||t===t_)&&te===na&&(te=e6),te)}function C_(e){if(!e||!e.state)return Bi;var t=e.state;return t.window&&(t.window=null),e.state=null,na}var WE,P_,L_,t_,YE,$f,na,XE,JE,Bi,QE,r_,e6,n_,k_,i_,o_,s_,a_,f_,c_,u_,d_,l_,h_,Jn,Id,g_,Pd,__,y_,b_,p_,Vf,Gf,x_,w_,m_,v_,E_,Ld,B_,T_,wt,S_,t6,r6,n6,I_,kd,Od,H_=wr(()=>{b();p();Gs();bd();pd();Wg();e_();WE=0,P_=1,L_=2,t_=4,YE=5,$f=6,na=0,XE=1,JE=2,Bi=-2,QE=-3,r_=-4,e6=-5,n_=8,k_=1,i_=2,o_=3,s_=4,a_=5,f_=6,c_=7,u_=8,d_=9,l_=10,h_=11,Jn=12,Id=13,g_=14,Pd=15,__=16,y_=17,b_=18,p_=19,Vf=20,Gf=21,x_=22,w_=23,m_=24,v_=25,E_=26,Ld=27,B_=28,T_=29,wt=30,S_=31,t6=32,r6=852,n6=592;I_=!0});var Yf={};Sa(Yf,{DEFLATE:()=>rs,DEFLATERAW:()=>ts,GUNZIP:()=>Zf,GZIP:()=>ia,INFLATE:()=>Kf,INFLATERAW:()=>oa,NONE:()=>Cd,UNZIP:()=>sa,Z_BEST_COMPRESSION:()=>b6,Z_BEST_SPEED:()=>y6,Z_BINARY:()=>B6,Z_BLOCK:()=>D_,Z_BUF_ERROR:()=>g6,Z_DATA_ERROR:()=>h6,Z_DEFAULT_COMPRESSION:()=>p6,Z_DEFAULT_STRATEGY:()=>E6,Z_DEFLATED:()=>$_,Z_ERRNO:()=>d6,Z_FILTERED:()=>x6,Z_FINISH:()=>q_,Z_FIXED:()=>v6,Z_FULL_FLUSH:()=>j_,Z_HUFFMAN_ONLY:()=>w6,Z_NEED_DICT:()=>u6,Z_NO_COMPRESSION:()=>_6,Z_NO_FLUSH:()=>U_,Z_OK:()=>Wf,Z_PARTIAL_FLUSH:()=>M_,Z_RLE:()=>m6,Z_STREAM_END:()=>z_,Z_STREAM_ERROR:()=>l6,Z_SYNC_FLUSH:()=>R_,Z_TEXT:()=>T6,Z_TREES:()=>c6,Z_UNKNOWN:()=>S6,Zlib:()=>Sn});function Sn(e){if(e<rs||e>sa)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function A6(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}var Cd,rs,Kf,ia,Zf,ts,oa,sa,U_,M_,R_,j_,q_,D_,c6,Wf,z_,u6,d6,l6,h6,g6,_6,y6,b6,p6,x6,w6,m6,v6,E6,B6,T6,S6,$_,Ff,V_=wr(()=>{b();p();od();_g();Kg();H_();Cd=0,rs=1,Kf=2,ia=3,Zf=4,ts=5,oa=6,sa=7,U_=0,M_=1,R_=2,j_=3,q_=4,D_=5,c6=6,Wf=0,z_=1,u6=2,d6=-1,l6=-2,h6=-3,g6=-5,_6=0,y6=1,b6=9,p6=-1,x6=1,w6=2,m6=3,v6=4,E6=0,B6=0,T6=1,S6=2,$_=8;Sn.prototype.init=function(e,t,r,n,i){this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,(this.mode===ia||this.mode===Zf)&&(this.windowBits+=16),this.mode===sa&&(this.windowBits+=32),(this.mode===ts||this.mode===oa)&&(this.windowBits=-this.windowBits),this.strm=new gg;var o;switch(this.mode){case rs:case ia:case ts:o=Gg(this.strm,this.level,$_,this.windowBits,this.memLevel,this.strategy);break;case Kf:case Zf:case oa:case sa:o=O_(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(o!==Wf){this._error(o);return}this.write_in_progress=!1,this.init_done=!0};Sn.prototype.params=function(){throw new Error("deflateParams Not supported")};Sn.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===Cd)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")};Sn.prototype.write=function(e,t,r,n,i,o,a){this._writeCheck(),this.write_in_progress=!0;var f=this;return process.nextTick(function(){f.write_in_progress=!1;var d=f._write(e,t,r,n,i,o,a);f.callback(d[0],d[1]),f.pending_close&&f.close()}),this};Sn.prototype.writeSync=function(e,t,r,n,i,o,a){return this._writeCheck(),this._write(e,t,r,n,i,o,a)};Sn.prototype._write=function(e,t,r,n,i,o,a){if(this.write_in_progress=!0,e!==U_&&e!==M_&&e!==R_&&e!==j_&&e!==q_&&e!==D_)throw new Error("Invalid flush value");t==null&&(t=new y.Buffer(0),n=0,r=0),i._set?i.set=i._set:i.set=A6;var f=this.strm;f.avail_in=n,f.input=t,f.next_in=r,f.avail_out=a,f.output=i,f.next_out=o;var d;switch(this.mode){case rs:case ia:case ts:d=Fg(f,e);break;case sa:case Kf:case Zf:case oa:d=N_(f,e);break;default:throw new Error("Unknown mode "+this.mode)}return d!==z_&&d!==Wf&&this._error(d),this.write_in_progress=!1,[f.avail_in,f.avail_out]};Sn.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,this.mode===rs||this.mode===ia||this.mode===ts?Zg(this.strm):C_(this.strm),this.mode=Cd};Sn.prototype.reset=function(){switch(this.mode){case rs:case ts:Ff=Td(this.strm);break;case Kf:case oa:Ff=Nd(this.strm);break}Ff!==Wf&&this._error(Ff)};Sn.prototype._error=function(e){this.onerror(Hf[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()}});var ly={};Sa(ly,{Deflate:()=>Ti,DeflateRaw:()=>Pi,Gunzip:()=>Ii,Gzip:()=>Ai,Inflate:()=>Si,InflateRaw:()=>Li,Unzip:()=>ki,Zlib:()=>mt,codes:()=>aa,createDeflate:()=>G_,createDeflateRaw:()=>Z_,createGunzip:()=>Y_,createGzip:()=>W_,createInflate:()=>F_,createInflateRaw:()=>K_,createUnzip:()=>X_,default:()=>P6,deflate:()=>J_,deflateRaw:()=>ry,deflateRawSync:()=>ny,deflateSync:()=>Q_,gunzip:()=>fy,gunzipSync:()=>cy,gzip:()=>ey,gzipSync:()=>ty,inflate:()=>sy,inflateRaw:()=>uy,inflateRawSync:()=>dy,inflateSync:()=>ay,unzip:()=>iy,unzipSync:()=>oy});function I6(e,t){if(!e)throw new Error(t)}function G_(e){return new Ti(e)}function F_(e){return new Si(e)}function Z_(e){return new Pi(e)}function K_(e){return new Li(e)}function W_(e){return new Ai(e)}function Y_(e){return new Ii(e)}function X_(e){return new ki(e)}function J_(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new Ti(t),e,r)}function Q_(e,t){return go(new Ti(t),e)}function ey(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new Ai(t),e,r)}function ty(e,t){return go(new Ai(t),e)}function ry(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new Pi(t),e,r)}function ny(e,t){return go(new Pi(t),e)}function iy(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new ki(t),e,r)}function oy(e,t){return go(new ki(t),e)}function sy(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new Si(t),e,r)}function ay(e,t){return go(new Si(t),e)}function fy(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new Ii(t),e,r)}function cy(e,t){return go(new Ii(t),e)}function uy(e,t,r){return typeof t=="function"&&(r=t,t={}),ho(new Li(t),e,r)}function dy(e,t){return go(new Li(t),e)}function ho(e,t,r){var n=[],i=0;e.on("error",a),e.on("end",f),e.end(t),o();function o(){for(var d;(d=e.read())!==null;)n.push(d),i+=d.length;e.once("readable",o)}function a(d){e.removeListener("end",f),e.removeListener("readable",o),r(d)}function f(){var d=y.Buffer.concat(n,i);n=[],r(null,d),e.close()}}function go(e,t){if(typeof t=="string"&&(t=new y.Buffer(t)),!y.Buffer.isBuffer(t))throw new TypeError("Not a string or buffer");var r=re.Z_FINISH;return e._processChunk(t,r)}function Ti(e){if(!(this instanceof Ti))return new Ti(e);mt.call(this,e,re.DEFLATE)}function Si(e){if(!(this instanceof Si))return new Si(e);mt.call(this,e,re.INFLATE)}function Ai(e){if(!(this instanceof Ai))return new Ai(e);mt.call(this,e,re.GZIP)}function Ii(e){if(!(this instanceof Ii))return new Ii(e);mt.call(this,e,re.GUNZIP)}function Pi(e){if(!(this instanceof Pi))return new Pi(e);mt.call(this,e,re.DEFLATERAW)}function Li(e){if(!(this instanceof Li))return new Li(e);mt.call(this,e,re.INFLATERAW)}function ki(e){if(!(this instanceof ki))return new ki(e);mt.call(this,e,re.UNZIP)}function mt(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||re.Z_DEFAULT_CHUNK,Hd.Transform.call(this,e),e.flush&&e.flush!==re.Z_NO_FLUSH&&e.flush!==re.Z_PARTIAL_FLUSH&&e.flush!==re.Z_SYNC_FLUSH&&e.flush!==re.Z_FULL_FLUSH&&e.flush!==re.Z_FINISH&&e.flush!==re.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||re.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<re.Z_MIN_CHUNK||e.chunkSize>re.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<re.Z_MIN_WINDOWBITS||e.windowBits>re.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<re.Z_MIN_LEVEL||e.level>re.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<re.Z_MIN_MEMLEVEL||e.memLevel>re.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=re.Z_FILTERED&&e.strategy!=re.Z_HUFFMAN_ONLY&&e.strategy!=re.Z_RLE&&e.strategy!=re.Z_FIXED&&e.strategy!=re.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!y.Buffer.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new re.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(o,a){r._binding=null,r._hadError=!0;var f=new Error(o);f.errno=a,f.code=re.codes[a],r.emit("error",f)};var n=re.Z_DEFAULT_COMPRESSION;typeof e.level=="number"&&(n=e.level);var i=re.Z_DEFAULT_STRATEGY;typeof e.strategy=="number"&&(i=e.strategy),this._binding.init(e.windowBits||re.Z_DEFAULT_WINDOWBITS,n,e.memLevel||re.Z_DEFAULT_MEMLEVEL,i,e.dictionary),this._buffer=new y.Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=i,this.once("end",this.close)}var Hd,re,aa,P6,hy=wr(()=>{b();p();Hd=pp(vp());V_();wp();re={};Object.keys(Yf).forEach(function(e){re[e]=Yf[e]});re.Z_MIN_WINDOWBITS=8;re.Z_MAX_WINDOWBITS=15;re.Z_DEFAULT_WINDOWBITS=15;re.Z_MIN_CHUNK=64;re.Z_MAX_CHUNK=1/0;re.Z_DEFAULT_CHUNK=16*1024;re.Z_MIN_MEMLEVEL=1;re.Z_MAX_MEMLEVEL=9;re.Z_DEFAULT_MEMLEVEL=8;re.Z_MIN_LEVEL=-1;re.Z_MAX_LEVEL=9;re.Z_DEFAULT_LEVEL=re.Z_DEFAULT_COMPRESSION;aa={Z_OK:re.Z_OK,Z_STREAM_END:re.Z_STREAM_END,Z_NEED_DICT:re.Z_NEED_DICT,Z_ERRNO:re.Z_ERRNO,Z_STREAM_ERROR:re.Z_STREAM_ERROR,Z_DATA_ERROR:re.Z_DATA_ERROR,Z_MEM_ERROR:re.Z_MEM_ERROR,Z_BUF_ERROR:re.Z_BUF_ERROR,Z_VERSION_ERROR:re.Z_VERSION_ERROR};Object.keys(aa).forEach(function(e){aa[aa[e]]=e});Rn(mt,Hd.Transform);mt.prototype.params=function(e,t,r){if(e<re.Z_MIN_LEVEL||e>re.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=re.Z_FILTERED&&t!=re.Z_HUFFMAN_ONLY&&t!=re.Z_RLE&&t!=re.Z_FIXED&&t!=re.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(re.Z_SYNC_FLUSH,function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())})}else process.nextTick(r)};mt.prototype.reset=function(){return this._binding.reset()};mt.prototype._flush=function(e){this._transform(new y.Buffer(0),"",e)};mt.prototype.flush=function(e,t){var r=this._writableState;if((typeof e=="function"||e===void 0&&!t)&&(t=e,e=re.Z_FULL_FLUSH),r.ended)t&&process.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",function(){n.flush(t)})}else this._flushFlag=e,this.write(new y.Buffer(0),"",t)};mt.prototype.close=function(e){if(e&&process.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;process.nextTick(function(){t.emit("close")})}};mt.prototype._transform=function(e,t,r){var n,i=this._writableState,o=i.ending||i.ended,a=o&&(!e||i.length===e.length);if(!e===null&&!y.Buffer.isBuffer(e))return r(new Error("invalid input"));a?n=re.Z_FINISH:(n=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||re.Z_NO_FLUSH)),this._processChunk(e,n,r)};mt.prototype._processChunk=function(e,t,r){var n=e&&e.length,i=this._chunkSize-this._offset,o=0,a=this,f=typeof r=="function";if(!f){var d=[],u=0,g;this.on("error",function(S){g=S});do var w=this._binding.writeSync(t,e,o,n,this._buffer,this._offset,i);while(!this._hadError&&P(w[0],w[1]));if(this._hadError)throw g;var E=y.Buffer.concat(d,u);return this.close(),E}var m=this._binding.write(t,e,o,n,this._buffer,this._offset,i);m.buffer=e,m.callback=P;function P(S,k){if(!a._hadError){var L=i-k;if(I6(L>=0,"have should not go down"),L>0){var H=a._buffer.slice(a._offset,a._offset+L);a._offset+=L,f?a.push(H):(d.push(H),u+=H.length)}if((k===0||a._offset>=a._chunkSize)&&(i=a._chunkSize,a._offset=0,a._buffer=new y.Buffer(a._chunkSize)),k===0){if(o+=n-S,n=S,!f)return!0;var q=a._binding.write(t,e,o,n,a._buffer,a._offset,a._chunkSize);q.callback=P,q.buffer=e;return}if(!f)return!1;r()}}};Rn(Ti,mt);Rn(Si,mt);Rn(Ai,mt);Rn(Ii,mt);Rn(Pi,mt);Rn(Li,mt);Rn(ki,mt);P6={codes:aa,createDeflate:G_,createInflate:F_,createDeflateRaw:Z_,createInflateRaw:K_,createGzip:W_,createGunzip:Y_,createUnzip:X_,deflate:J_,deflateSync:Q_,gzip:ey,gzipSync:ty,deflateRaw:ry,deflateRawSync:ny,unzip:iy,unzipSync:oy,inflate:sy,inflateSync:ay,gunzip:fy,gunzipSync:cy,inflateRaw:uy,inflateRawSync:dy,Deflate:Ti,Inflate:Si,Gzip:Ai,Gunzip:Ii,DeflateRaw:Pi,InflateRaw:Li,Unzip:ki,Zlib:mt}});var gy=D((zA,Xf)=>{b();p();var _o=(hy(),wc(ly));if(_o&&_o.default){Xf.exports=_o.default;for(let e in _o)Xf.exports[e]=_o[e]}else _o&&(Xf.exports=_o)});var py=D(yo=>{b();p();Object.defineProperty(yo,"__esModule",{value:!0});yo.InvalidStatusCodeError=yo.InvalidCertError=void 0;var yy=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0}),fa=class extends Error{constructor(t,r){super(t),this.fingerprint256=r}};yo.InvalidCertError=fa;var ca=class extends Error{constructor(t){super(`Request Failed. Status Code: ${t}`),this.statusCode=t}};yo.InvalidStatusCodeError=ca;function by(e,t){if(!t||t==="text"||t==="json")try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if(t==="text")return r;try{return JSON.parse(r)}catch(n){if(t==="json")throw n;return r}}catch(r){if(t==="text"||t==="json")throw r}return e}var _y={};function Ud(e,t){let r={...yy,...t},n=ug(),i=hg(),o=gy(),{promisify:a}=mp(),{resolve:f}=Bp(),d=!!/^https/.test(e),u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}},g=E=>E.replace(/:| /g,"").toLowerCase();if(r.keepAlive){let E={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},m=[d,d&&r.sslPinnedCertificates?.map(P=>g(P)).sort()].join();u.agent=_y[m]||(_y[m]=new(d?i:n).Agent(E))}r.type==="json"&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body=r.type==="json"?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);let w=async E=>{let m=E.statusCode;if(r.redirect&&300<=m&&m<400&&E.headers.location){if(r._redirectCount==10)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await Ud(f(e,E.headers.location),r)}if(r.expectStatusCode&&m!==r.expectStatusCode)throw E.resume(),new ca(m);let P=[];for await(let H of E)P.push(H);let S=y.Buffer.concat(P),k=E.headers["content-encoding"];k==="br"&&(S=await a(o.brotliDecompress)(S)),(k==="gzip"||k==="deflate")&&(S=await a(o.unzip)(S));let L=by(S,r.type);return r.full?{headers:E.headers,status:m,body:L}:L};return new Promise((E,m)=>{let P=async H=>{if(H&&H.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Ud(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(q){q&&q.fingerprint256&&(H=new fa(`Self-signed SSL certificate: ${q.fingerprint256}`,q.fingerprint256))}m(H)},S=(d?i:n).request(e,u,H=>{H.on("error",P),(async()=>{try{E(await w(H))}catch(q){m(q)}})()});S.on("error",P);let k=r.sslPinnedCertificates?.map(H=>g(H)),L=H=>{let q=g(H.getPeerCertificate()?.fingerprint256||"");if(!(!q&&H.isSessionReused())&&!k.includes(q))return S.emit("error",new fa(`Invalid SSL certificate: ${q} Expected: ${k}`,q)),S.abort()};r.sslPinnedCertificates&&S.on("socket",H=>{H.listeners("secureConnect").map(U=>(U.name||"").replace("bound ","")).includes("mfetchSecureConnect")||H.on("secureConnect",L.bind(null,H))}),r.keepAlive&&S.setNoDelay(!0),u.body&&S.write(u.body),S.end()})}var L6=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(e=>e.toLowerCase())),k6=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(e=>e.toLowerCase()));async function O6(e,t){let r={...yy,...t},n=new Headers;r.type==="json"&&n.set("Content-Type","application/json");let i=new URL(e);if(i.username){let d=btoa(`${i.username}:${i.password}`);n.set("Authorization",`Basic ${d}`),i.username="",i.password=""}e=""+i;for(let d in r.headers){let u=d.toLowerCase();(L6.has(u)||r.cors&&!k6.has(u))&&n.set(d,r.headers[d])}let o={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(o.referrerPolicy="no-referrer"),r.cors&&(o.mode="cors"),r.data&&(r.method||(o.method="POST"),o.body=r.type==="json"?JSON.stringify(r.data):r.data);let a=await fetch(e,o);if(r.expectStatusCode&&a.status!==r.expectStatusCode)throw new ca(a.status);let f=by(new Uint8Array(await a.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(a.headers.entries()),status:a.status,body:f}:f}var N6=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function C6(e,t){return(N6?Ud:O6)(e,t)}yo.default=C6});var xy=D(ns=>{b();p();Object.defineProperty(ns,"__esModule",{value:!0});ns.getProvider=ns.fetchFromProvider=void 0;var H6=py(),U6=async(e,t)=>(await(0,H6.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;ns.fetchFromProvider=U6;var M6=e=>{if(typeof e=="string")return e;if(e?.connection?.url!==void 0)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};ns.getProvider=M6});var ua=D(Me=>{b();p();var R6=Me&&Me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Jr=Me&&Me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&R6(t,e,r)};Object.defineProperty(Me,"__esModule",{value:!0});Me.toAscii=Me.stripHexPrefix=Me.padToEven=Me.isHexString=Me.isHexPrefixed=Me.getKeys=Me.getBinarySize=Me.fromUtf8=Me.fromAscii=Me.arrayContainsArray=void 0;Jr(xf(),Me);Jr(Ih(),Me);Jr(Ju(),Me);Jr(Qu(),Me);Jr(rg(),Me);Jr(ig(),Me);Jr(to(),Me);Jr(ed(),Me);Jr(og(),Me);Jr(sg(),Me);var An=$o();Object.defineProperty(Me,"arrayContainsArray",{enumerable:!0,get:function(){return An.arrayContainsArray}});Object.defineProperty(Me,"fromAscii",{enumerable:!0,get:function(){return An.fromAscii}});Object.defineProperty(Me,"fromUtf8",{enumerable:!0,get:function(){return An.fromUtf8}});Object.defineProperty(Me,"getBinarySize",{enumerable:!0,get:function(){return An.getBinarySize}});Object.defineProperty(Me,"getKeys",{enumerable:!0,get:function(){return An.getKeys}});Object.defineProperty(Me,"isHexPrefixed",{enumerable:!0,get:function(){return An.isHexPrefixed}});Object.defineProperty(Me,"isHexString",{enumerable:!0,get:function(){return An.isHexString}});Object.defineProperty(Me,"padToEven",{enumerable:!0,get:function(){return An.padToEven}});Object.defineProperty(Me,"stripHexPrefix",{enumerable:!0,get:function(){return An.stripHexPrefix}});Object.defineProperty(Me,"toAscii",{enumerable:!0,get:function(){return An.toAscii}});Jr(ag(),Me);Jr(xy(),Me)});var os=D(Ar=>{b();p();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.normalize=Ar.recoverPublicKey=Ar.concatSig=Ar.legacyToBuffer=Ar.isNullish=Ar.padWithZeroes=void 0;var Qn=ua(),is=er();function Md(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}Ar.padWithZeroes=Md;function wy(e){return e==null}Ar.isNullish=wy;function j6(e){return typeof e=="string"&&!(0,Qn.isHexString)(e)?y.Buffer.from(e):(0,Qn.toBuffer)(e)}Ar.legacyToBuffer=j6;function q6(e,t,r){let n=(0,Qn.fromSigned)(t),i=(0,Qn.fromSigned)(r),o=(0,Qn.bufferToInt)(e),a=Md((0,Qn.toUnsigned)(n).toString("hex"),64),f=Md((0,Qn.toUnsigned)(i).toString("hex"),64),d=(0,is.remove0x)((0,is.numberToHex)(o));return(0,is.add0x)(a.concat(f,d))}Ar.concatSig=q6;function D6(e,t){let r=(0,Qn.fromRpcSig)(t);return(0,Qn.ecrecover)(e,r.v,r.r,r.s)}Ar.recoverPublicKey=D6;function z6(e){if(!wy(e)){if(typeof e=="number"){if(e<0)return"0x";let t=(0,is.numberToBytes)(e);e=(0,is.bytesToHex)(t)}if(typeof e!="string"){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,is.add0x)(e.toLowerCase())}}Ar.normalize=z6});var vy=D(Oi=>{b();p();Object.defineProperty(Oi,"__esModule",{value:!0});Oi.extractPublicKey=Oi.recoverPersonalSignature=Oi.personalSign=void 0;var ss=ua(),In=os();function $6({privateKey:e,data:t}){if((0,In.isNullish)(t))throw new Error("Missing data parameter");if((0,In.isNullish)(e))throw new Error("Missing privateKey parameter");let r=(0,In.legacyToBuffer)(t),n=(0,ss.hashPersonalMessage)(r),i=(0,ss.ecsign)(n,e);return(0,In.concatSig)((0,ss.toBuffer)(i.v),i.r,i.s)}Oi.personalSign=$6;function V6({data:e,signature:t}){if((0,In.isNullish)(e))throw new Error("Missing data parameter");if((0,In.isNullish)(t))throw new Error("Missing signature parameter");let r=my(e,t),n=(0,ss.publicToAddress)(r);return(0,ss.bufferToHex)(n)}Oi.recoverPersonalSignature=V6;function G6({data:e,signature:t}){if((0,In.isNullish)(e))throw new Error("Missing data parameter");if((0,In.isNullish)(t))throw new Error("Missing signature parameter");return`0x${my(e,t).toString("hex")}`}Oi.extractPublicKey=G6;function my(e,t){let r=(0,ss.hashPersonalMessage)((0,In.legacyToBuffer)(e));return(0,In.recoverPublicKey)(r,t)}});var un=D(ei=>{b();p();Object.defineProperty(ei,"__esModule",{value:!0});ei.ParserError=ei.getErrorStack=ei.getErrorMessage=void 0;var Ey=er(),F6=e=>typeof e=="string"?e:e instanceof Error||(0,Ey.isObject)(e)&&(0,Ey.hasProperty)(e,"message")&&typeof e.message=="string"?e.message:"Unknown error.";ei.getErrorMessage=F6;var Z6=e=>{if(e instanceof Error)return e.stack};ei.getErrorStack=Z6;var Rd=class extends Error{constructor(t,r){super(t),this.name="ParserError";let n=(0,ei.getErrorStack)(r);n&&(this.stack=n)}};ei.ParserError=Rd});var Ty=D(Jf=>{b();p();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.iterate=void 0;var By=er(),K6=function*(e,t=32){for(let r=0;r<e.length;r+=t){let n=o=>{(0,By.assert)(o>=0,"Cannot skip a negative number of bytes."),(0,By.assert)(o%t===0,"Length must be a multiple of the size."),r+=o},i=e.subarray(r);yield{skip:n,value:i}}return{skip:()=>{},value:new Uint8Array}};Jf.iterate=K6});var Ay=D(Ni=>{b();p();Object.defineProperty(Ni,"__esModule",{value:!0});Ni.padEnd=Ni.padStart=Ni.set=void 0;var jd=er(),Sy=32,W6=(e,t,r)=>(0,jd.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);Ni.set=W6;var Y6=(e,t=Sy)=>{let r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,jd.concatBytes)([r,e])};Ni.padStart=Y6;var X6=(e,t=Sy)=>{let r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,jd.concatBytes)([e,r])};Ni.padEnd=X6});var Ci=D(bo=>{b();p();var J6=bo&&bo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q6=bo&&bo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&J6(t,e,r)};Object.defineProperty(bo,"__esModule",{value:!0});Q6(Ay(),bo)});var Py=D(po=>{b();p();Object.defineProperty(po,"__esModule",{value:!0});po.address=po.getAddress=void 0;var as=er(),eB=un(),Iy=Ci(),tB=e=>{let t=(0,as.createBytes)(e);return(0,as.assert)(t.length<=20,new eB.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${t.length} bytes.`)),(0,Iy.padStart)(t,20)};po.getAddress=tB;po.address={isDynamic:!1,isType:e=>e==="address",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){let n=(0,po.getAddress)(t);if(r)return(0,as.concatBytes)([e,n]);let i=(0,Iy.padStart)(n);return(0,as.concatBytes)([e,i])},decode({value:e}){return(0,as.add0x)((0,as.bytesToHex)(e.slice(12,32)))}}});var Qf=D(Hi=>{b();p();Object.defineProperty(Hi,"__esModule",{value:!0});Hi.fixedBytes=Hi.getByteLength=void 0;var fs=er(),ky=un(),Ly=Ci(),Oy=/^bytes([0-9]{1,2})$/u,rB=e=>{let t=e.match(Oy)?.[1];(0,fs.assert)(t,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);let r=Number(t);return(0,fs.assert)(r>0&&r<=32,new ky.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),r};Hi.getByteLength=rB;Hi.fixedBytes={isDynamic:!1,isType(e){return Oy.test(e)},getByteLength(){return 32},encode({type:e,buffer:t,value:r,packed:n}){let i=(0,Hi.getByteLength)(e),o=(0,fs.createBytes)(r);return(0,fs.assert)(o.length<=i,new ky.ParserError(`Expected a value of length ${i}, but received a value of length ${o.length}.`)),n?(0,fs.concatBytes)([t,(0,Ly.padEnd)(o,i)]):(0,fs.concatBytes)([t,(0,Ly.padEnd)(o)])},decode({type:e,value:t}){let r=(0,Hi.getByteLength)(e);return t.slice(0,r)}}});var qd=D(Pn=>{b();p();Object.defineProperty(Pn,"__esModule",{value:!0});Pn.tuple=Pn.getTupleElements=void 0;var nB=er(),iB=un(),cs=ec(),oB=/^\((.+)\)$/u,sB=e=>oB.test(e),aB=e=>{(0,nB.assert)(e.startsWith("(")&&e.endsWith(")"),new iB.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));let t=[],r="",n=0;for(let i=1;i<e.length-1;i++){let o=e[i];o===","&&n===0?(t.push(r.trim()),r=""):(r+=o,o==="("?n+=1:o===")"&&(n-=1))}return r.trim()&&t.push(r.trim()),t};Pn.getTupleElements=aB;Pn.tuple={isDynamic(e){return(0,Pn.getTupleElements)(e).some(r=>{let n=(0,cs.getParser)(r);return(0,cs.isDynamicParser)(n,r)})},isType(e){return sB(e)},getByteLength(e){return(0,cs.isDynamicParser)(this,e)?32:(0,Pn.getTupleElements)(e).reduce((r,n)=>r+(0,cs.getParser)(n).getByteLength(n),0)},encode({type:e,buffer:t,value:r,packed:n,tight:i}){let o=(0,Pn.getTupleElements)(e);return(0,cs.pack)({types:o,values:r,byteArray:t,packed:n,tight:i})},decode({type:e,value:t,skip:r}){let n=(0,Pn.getTupleElements)(e),i=this.getByteLength(e)-32;return r(i),(0,cs.unpack)(n,t)}}});var Hy=D(Dt=>{b();p();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.array=Dt.getTupleType=Dt.getArrayType=Dt.isArrayType=void 0;var Ui=er(),da=un(),ti=ec(),fB=Ci(),Ny=Qf(),Dd=qd(),Cy=/^(?<type>.*)\[(?<length>\d*?)\]$/u,cB=e=>Cy.test(e);Dt.isArrayType=cB;var uB=e=>{let t=e.match(Cy);return(0,Ui.assert)(t?.groups?.type,new da.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[t.groups.type,t.groups.length?parseInt(t.groups.length,10):void 0]};Dt.getArrayType=uB;var dB=(e,t)=>`(${new Array(t).fill(e).join(",")})`;Dt.getTupleType=dB;Dt.array={isDynamic(e){let[t,r]=(0,Dt.getArrayType)(e);return r===void 0||(0,ti.isDynamicParser)((0,ti.getParser)(t),t)},isType(e){return(0,Dt.isArrayType)(e)},getByteLength(e){(0,Ui.assert)((0,Dt.isArrayType)(e),new da.ParserError(`Expected an array type, but received "${e}".`));let[t,r]=(0,Dt.getArrayType)(e);return!(0,ti.isDynamicParser)(this,e)&&r!==void 0?Dd.tuple.getByteLength((0,Dt.getTupleType)(t,r)):32},encode({type:e,buffer:t,value:r,packed:n,tight:i}){let[o,a]=(0,Dt.getArrayType)(e);if((0,Ui.assert)(!n||!(0,Dt.isArrayType)(o),new da.ParserError("Cannot pack nested arrays.")),n&&(0,ti.isDynamicParser)((0,ti.getParser)(o),o))return(0,ti.pack)({types:new Array(r.length).fill(o),values:r,byteArray:t,packed:n,arrayPacked:!0,tight:i});if(a)return(0,Ui.assert)(a===r.length,new da.ParserError(`Array length does not match type length. Expected a length of ${a}, but received ${r.length}.`)),Dd.tuple.encode({type:(0,Dt.getTupleType)(o,a),buffer:t,value:r,packed:Ny.fixedBytes.isType(o)&&i,tight:i});if(n)return(0,ti.pack)({types:new Array(r.length).fill(o),values:r,byteArray:t,packed:Ny.fixedBytes.isType(o)&&i,arrayPacked:!0,tight:i});let f=(0,fB.padStart)((0,Ui.numberToBytes)(r.length));return(0,ti.pack)({types:new Array(r.length).fill(o),values:r,byteArray:(0,Ui.concatBytes)([t,f]),packed:n,tight:i})},decode({type:e,value:t,...r}){let[n,i]=(0,Dt.getArrayType)(e);if(i){let a=Dd.tuple.decode({type:(0,Dt.getTupleType)(n,i),value:t,...r});return(0,Ui.assert)(a.length===i,new da.ParserError(`Array length does not match type length. Expected a length of ${i}, but received ${a.length}.`)),a}let o=(0,Ui.bytesToNumber)(t.subarray(0,32));return(0,ti.unpack)(new Array(o).fill(n),t.subarray(32))}}});var $d=D(Et=>{b();p();Object.defineProperty(Et,"__esModule",{value:!0});Et.number=Et.getBigInt=Et.assertNumberLength=Et.getLength=Et.isSigned=void 0;var ur=er(),us=un(),zd=Ci(),Uy=/^u?int(?<length>[0-9]*)?$/u,lB=e=>!e.startsWith("u");Et.isSigned=lB;var hB=e=>{if(e==="int"||e==="uint")return 256;let t=e.match(Uy);(0,ur.assert)(t?.groups?.length,new us.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));let r=parseInt(t.groups.length,10);return(0,ur.assert)(r>=8&&r<=256,new us.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,ur.assert)(r%8===0,new us.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),r};Et.getLength=hB;var gB=(e,t)=>{let r=(0,Et.getLength)(t),n=BigInt(2)**BigInt(r-((0,Et.isSigned)(t)?1:0))-BigInt(1);if((0,Et.isSigned)(t)){(0,ur.assert)(e>=-(n+BigInt(1))&&e<=n,new us.ParserError(`Number "${e}" is out of range for type "${t}".`));return}(0,ur.assert)(e<=n,new us.ParserError(`Number "${e}" is out of range for type "${t}".`))};Et.assertNumberLength=gB;var _B=e=>{try{return(0,ur.createBigInt)(e)}catch{throw new us.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}};Et.getBigInt=_B;Et.number={isDynamic:!1,isType(e){return Uy.test(e)},getByteLength(){return 32},encode({type:e,buffer:t,value:r,packed:n}){let i=(0,Et.getBigInt)(r);if((0,Et.assertNumberLength)(i,e),(0,Et.isSigned)(e)){if(n){let o=(0,Et.getLength)(e)/8;return(0,ur.concatBytes)([t,(0,ur.signedBigIntToBytes)(i,o)])}return(0,ur.concatBytes)([t,(0,zd.padStart)((0,ur.signedBigIntToBytes)(i,32))])}if(n){let o=(0,Et.getLength)(e)/8;return(0,ur.concatBytes)([t,(0,zd.padStart)((0,ur.bigIntToBytes)(i),o)])}return(0,ur.concatBytes)([t,(0,zd.padStart)((0,ur.bigIntToBytes)(i))])},decode({type:e,value:t}){let r=t.subarray(0,32);if((0,Et.isSigned)(e)){let i=(0,ur.bytesToSignedBigInt)(r);return(0,Et.assertNumberLength)(i,e),i}let n=(0,ur.bytesToBigInt)(r);return(0,Et.assertNumberLength)(n,e),n}}});var jy=D(xo=>{b();p();Object.defineProperty(xo,"__esModule",{value:!0});xo.bool=xo.getBooleanValue=void 0;var ds=Bl(),My=er(),yB=un(),Ry=$d(),bB=(0,ds.coerce)((0,ds.boolean)(),(0,ds.union)([(0,ds.literal)("true"),(0,ds.literal)("false")]),e=>e==="true"),pB=e=>{try{return(0,ds.create)(e,bB)?BigInt(1):BigInt(0)}catch{throw new yB.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}};xo.getBooleanValue=pB;xo.bool={isDynamic:!1,isType:e=>e==="bool",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){let i=(0,xo.getBooleanValue)(t);return r?(0,My.concatBytes)([e,(0,My.bigIntToBytes)(i)]):Ry.number.encode({type:"uint256",buffer:e,value:i,packed:r,tight:n})},decode(e){return Ry.number.decode({...e,type:"uint256"})===BigInt(1)}}});var Vd=D(tc=>{b();p();Object.defineProperty(tc,"__esModule",{value:!0});tc.bytes=void 0;var la=er(),qy=Ci();tc.bytes={isDynamic:!0,isType:e=>e==="bytes",getByteLength(){return 32},encode({buffer:e,value:t,packed:r}){let n=(0,la.createBytes)(t);if(r)return(0,la.concatBytes)([e,n]);let i=Math.ceil(n.byteLength/32)*32;return(0,la.concatBytes)([e,(0,qy.padStart)((0,la.numberToBytes)(n.byteLength)),(0,qy.padEnd)(n,i)])},decode({value:e}){let t=e.subarray(0,32),r=(0,la.bytesToNumber)(t);return e.slice(32,32+r)}}});var Dy=D(wo=>{b();p();Object.defineProperty(wo,"__esModule",{value:!0});wo.fn=wo.getFunction=void 0;var ha=Bl(),Qr=er(),xB=un(),wB=Qf(),mB=(0,ha.coerce)((0,ha.object)({address:Qr.StrictHexStruct,selector:Qr.StrictHexStruct}),(0,ha.union)([Qr.StrictHexStruct,(0,ha.instance)(Uint8Array)]),e=>{let t=(0,Qr.createBytes)(e);return(0,Qr.assert)(t.length===24,new xB.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${t.length} bytes.`)),{address:(0,Qr.bytesToHex)(t.subarray(0,20)),selector:(0,Qr.bytesToHex)(t.subarray(20,24))}}),vB=e=>{let t=(0,ha.create)(e,mB);return(0,Qr.concatBytes)([(0,Qr.hexToBytes)(t.address),(0,Qr.hexToBytes)(t.selector)])};wo.getFunction=vB;wo.fn={isDynamic:!1,isType:e=>e==="function",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){let i=(0,wo.getFunction)(t);return wB.fixedBytes.encode({type:"bytes24",buffer:e,value:i,packed:r,tight:n})},decode({value:e}){return{address:(0,Qr.bytesToHex)(e.slice(0,20)),selector:(0,Qr.bytesToHex)(e.slice(20,24))}}}});var $y=D(zy=>{b();p();Object.defineProperty(zy,"__esModule",{value:!0})});var Fy=D(rc=>{b();p();Object.defineProperty(rc,"__esModule",{value:!0});rc.string=void 0;var Vy=er(),Gy=Vd();rc.string={isDynamic:!0,isType:e=>e==="string",getByteLength(){return 32},encode({buffer:e,value:t,packed:r,tight:n}){return Gy.bytes.encode({type:"bytes",buffer:e,value:(0,Vy.stringToBytes)(t),packed:r,tight:n})},decode(e){return(0,Vy.bytesToString)(Gy.bytes.decode(e))}}});var Gd=D(dr=>{b();p();var EB=dr&&dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ln=dr&&dr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EB(t,e,r)};Object.defineProperty(dr,"__esModule",{value:!0});Ln(Py(),dr);Ln(Hy(),dr);Ln(jy(),dr);Ln(Vd(),dr);Ln(Qf(),dr);Ln(Dy(),dr);Ln($d(),dr);Ln($y(),dr);Ln(Fy(),dr);Ln(qd(),dr)});var ec=D(Ir=>{b();p();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.unpack=Ir.pack=Ir.isDynamicParser=Ir.getParser=void 0;var mo=er(),nc=un(),BB=Ty(),ri=Gd(),Zy=Ci(),TB=e=>{let t={address:ri.address,array:ri.array,bool:ri.bool,bytes:ri.bytes,fixedBytes:ri.fixedBytes,function:ri.fn,number:ri.number,string:ri.string,tuple:ri.tuple},r=t[e];if(r)return r;let n=Object.values(t).find(i=>i.isType(e));if(n)return n;throw new nc.ParserError(`The type "${e}" is not supported.`)};Ir.getParser=TB;var SB=(e,t)=>{let{isDynamic:r}=e;return typeof r=="function"?r(t):r};Ir.isDynamicParser=SB;var AB=({types:e,values:t,packed:r=!1,tight:n=!1,arrayPacked:i=!1,byteArray:o=new Uint8Array})=>{(0,mo.assert)(e.length===t.length,new nc.ParserError(`The number of types (${e.length}) does not match the number of values (${t.length}).`));let{staticBuffer:a,dynamicBuffer:f,pointers:d}=e.reduce(({staticBuffer:w,dynamicBuffer:E,pointers:m},P,S)=>{let k=(0,Ir.getParser)(P),L=t[S];if(r||i||!(0,Ir.isDynamicParser)(k,P))return{staticBuffer:k.encode({buffer:w,value:L,type:P,packed:r,tight:n}),dynamicBuffer:E,pointers:m};let H=(0,mo.concatBytes)([w,new Uint8Array(32)]),q=k.encode({buffer:E,value:L,type:P,packed:r,tight:n});return{staticBuffer:H,dynamicBuffer:q,pointers:[...m,{position:w.length,pointer:E.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,mo.assert)(!r&&!i||f.length===0,new nc.ParserError("Invalid pack state."));let u=a.length,g=d.reduce((w,{pointer:E,position:m})=>{let P=(0,Zy.padStart)((0,mo.numberToBytes)(u+E));return(0,Zy.set)(w,P,m)},a);return(0,mo.concatBytes)([o,g,f])};Ir.pack=AB;var IB=(e,t)=>{let r=(0,BB.iterate)(t);return e.map(n=>{let{value:{value:i,skip:o},done:a}=r.next();(0,mo.assert)(!a,new nc.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${n}".`));let f=(0,Ir.getParser)(n);if((0,Ir.isDynamicParser)(f,n)){let u=(0,mo.bytesToNumber)(i.subarray(0,32)),g=t.subarray(u);return f.decode({type:n,value:g,skip:o})}return f.decode({type:n,value:i,skip:o})})};Ir.unpack=IB});var Yy=D(pr=>{b();p();Object.defineProperty(pr,"__esModule",{value:!0});pr.decodeSingle=pr.decode=pr.encodePacked=pr.encodeSingle=pr.encode=void 0;var Ky=er(),ni=un(),Wy=ec(),PB=(e,t,r,n)=>{try{return(0,Wy.pack)({types:e,values:t,packed:r,tight:n})}catch(i){throw i instanceof ni.ParserError?new ni.ParserError(`Unable to encode value: ${i.message}`,i):new ni.ParserError(`An unexpected error occurred: ${(0,ni.getErrorMessage)(i)}`,i)}};pr.encode=PB;var LB=(e,t)=>(0,pr.encode)([e],[t]);pr.encodeSingle=LB;var kB=(e,t,r)=>(0,pr.encode)(e,t,!0,r);pr.encodePacked=kB;var OB=(e,t)=>{let r=(0,Ky.createBytes)(t);try{return(0,Wy.unpack)(e,r)}catch(n){throw n instanceof ni.ParserError?new ni.ParserError(`Unable to decode value: ${n.message}`,n):new ni.ParserError(`An unexpected error occurred: ${(0,ni.getErrorMessage)(n)}`,n)}};pr.decode=OB;var NB=(e,t)=>{let r=(0,pr.decode)([e],t);return(0,Ky.assert)(r.length===1,new ni.ParserError("Decoded value array has unexpected length.")),r[0]};pr.decodeSingle=NB});var Jy=D(Xy=>{b();p();Object.defineProperty(Xy,"__esModule",{value:!0})});var Qy=D(vo=>{b();p();var CB=vo&&vo.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HB=vo&&vo.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&CB(t,e,r)};Object.defineProperty(vo,"__esModule",{value:!0});HB(Jy(),vo)});var eb=D(ii=>{b();p();var UB=ii&&ii.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fd=ii&&ii.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UB(t,e,r)};Object.defineProperty(ii,"__esModule",{value:!0});Fd(Yy(),ii);Fd(un(),ii);Fd(Qy(),ii)});var oc=D(rr=>{b();p();Object.defineProperty(rr,"__esModule",{value:!0});rr.output=rr.exists=rr.hash=rr.bytes=rr.bool=rr.number=rr.isBytes=void 0;function ic(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}rr.number=ic;function tb(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}rr.bool=tb;function rb(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}rr.isBytes=rb;function Zd(e,...t){if(!rb(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}rr.bytes=Zd;function nb(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ic(e.outputLen),ic(e.blockLen)}rr.hash=nb;function ib(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}rr.exists=ib;function ob(e,t){Zd(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}rr.output=ob;var MB={number:ic,bool:tb,bytes:Zd,hash:nb,exists:ib,output:ob};rr.default=MB});var Ab=D(we=>{b();p();Object.defineProperty(we,"__esModule",{value:!0});we.add5L=we.add5H=we.add4H=we.add4L=we.add3H=we.add3L=we.add=we.rotlBL=we.rotlBH=we.rotlSL=we.rotlSH=we.rotr32L=we.rotr32H=we.rotrBL=we.rotrBH=we.rotrSL=we.rotrSH=we.shrSL=we.shrSH=we.toBig=we.split=we.fromBig=void 0;var sc=BigInt(2**32-1),Kd=BigInt(32);function Wd(e,t=!1){return t?{h:Number(e&sc),l:Number(e>>Kd&sc)}:{h:Number(e>>Kd&sc)|0,l:Number(e&sc)|0}}we.fromBig=Wd;function sb(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:a}=Wd(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}we.split=sb;var ab=(e,t)=>BigInt(e>>>0)<<Kd|BigInt(t>>>0);we.toBig=ab;var fb=(e,t,r)=>e>>>r;we.shrSH=fb;var cb=(e,t,r)=>e<<32-r|t>>>r;we.shrSL=cb;var ub=(e,t,r)=>e>>>r|t<<32-r;we.rotrSH=ub;var db=(e,t,r)=>e<<32-r|t>>>r;we.rotrSL=db;var lb=(e,t,r)=>e<<64-r|t>>>r-32;we.rotrBH=lb;var hb=(e,t,r)=>e>>>r-32|t<<64-r;we.rotrBL=hb;var gb=(e,t)=>t;we.rotr32H=gb;var _b=(e,t)=>e;we.rotr32L=_b;var yb=(e,t,r)=>e<<r|t>>>32-r;we.rotlSH=yb;var bb=(e,t,r)=>t<<r|e>>>32-r;we.rotlSL=bb;var pb=(e,t,r)=>t<<r-32|e>>>64-r;we.rotlBH=pb;var xb=(e,t,r)=>e<<r-32|t>>>64-r;we.rotlBL=xb;function wb(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}we.add=wb;var mb=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);we.add3L=mb;var vb=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;we.add3H=vb;var Eb=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);we.add4L=Eb;var Bb=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;we.add4H=Bb;var Tb=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);we.add5L=Tb;var Sb=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;we.add5H=Sb;var RB={fromBig:Wd,split:sb,toBig:ab,shrSH:fb,shrSL:cb,rotrSH:ub,rotrSL:db,rotrBH:lb,rotrBL:hb,rotr32H:gb,rotr32L:_b,rotlSH:yb,rotlSL:bb,rotlBH:pb,rotlBL:xb,add:wb,add3L:mb,add3H:vb,add4L:Eb,add4H:Bb,add5H:Sb,add5L:Tb};we.default=RB});var Ib=D(ac=>{b();p();Object.defineProperty(ac,"__esModule",{value:!0});ac.crypto=void 0;ac.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var cc=D(ge=>{b();p();Object.defineProperty(ge,"__esModule",{value:!0});ge.randomBytes=ge.wrapXOFConstructorWithOpts=ge.wrapConstructorWithOpts=ge.wrapConstructor=ge.checkOpts=ge.Hash=ge.concatBytes=ge.toBytes=ge.utf8ToBytes=ge.asyncLoop=ge.nextTick=ge.hexToBytes=ge.bytesToHex=ge.byteSwap32=ge.byteSwapIfBE=ge.byteSwap=ge.isLE=ge.rotl=ge.rotr=ge.createView=ge.u32=ge.u8=ge.isBytes=void 0;var Yd=Ib(),Jd=oc();function jB(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}ge.isBytes=jB;var qB=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);ge.u8=qB;var DB=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));ge.u32=DB;var zB=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);ge.createView=zB;var $B=(e,t)=>e<<32-t|e>>>t;ge.rotr=$B;var VB=(e,t)=>e<<t|e>>>32-t>>>0;ge.rotl=VB;ge.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;var GB=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;ge.byteSwap=GB;ge.byteSwapIfBE=ge.isLE?e=>e:e=>(0,ge.byteSwap)(e);function FB(e){for(let t=0;t<e.length;t++)e[t]=(0,ge.byteSwap)(e[t])}ge.byteSwap32=FB;var ZB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function KB(e){(0,Jd.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=ZB[e[r]];return t}ge.bytesToHex=KB;var oi={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Pb(e){if(e>=oi._0&&e<=oi._9)return e-oi._0;if(e>=oi._A&&e<=oi._F)return e-(oi._A-10);if(e>=oi._a&&e<=oi._f)return e-(oi._a-10)}function WB(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let a=Pb(e.charCodeAt(o)),f=Pb(e.charCodeAt(o+1));if(a===void 0||f===void 0){let d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=a*16+f}return n}ge.hexToBytes=WB;var YB=async()=>{};ge.nextTick=YB;async function XB(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let o=Date.now()-n;o>=0&&o<t||(await(0,ge.nextTick)(),n+=o)}}ge.asyncLoop=XB;function Lb(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}ge.utf8ToBytes=Lb;function fc(e){return typeof e=="string"&&(e=Lb(e)),(0,Jd.bytes)(e),e}ge.toBytes=fc;function JB(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,Jd.bytes)(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}ge.concatBytes=JB;var Xd=class{clone(){return this._cloneInto()}};ge.Hash=Xd;var QB={}.toString;function e3(e,t){if(t!==void 0&&QB.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}ge.checkOpts=e3;function t3(e){let t=n=>e().update(fc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}ge.wrapConstructor=t3;function r3(e){let t=(n,i)=>e(i).update(fc(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}ge.wrapConstructorWithOpts=r3;function n3(e){let t=(n,i)=>e(i).update(fc(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}ge.wrapXOFConstructorWithOpts=n3;function i3(e=32){if(Yd.crypto&&typeof Yd.crypto.getRandomValues=="function")return Yd.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}ge.randomBytes=i3});var Rb=D(ht=>{b();p();Object.defineProperty(ht,"__esModule",{value:!0});ht.shake256=ht.shake128=ht.keccak_512=ht.keccak_384=ht.keccak_256=ht.keccak_224=ht.sha3_512=ht.sha3_384=ht.sha3_256=ht.sha3_224=ht.Keccak=ht.keccakP=void 0;var ls=oc(),_a=Ab(),si=cc(),Nb=[],Cb=[],Hb=[],o3=BigInt(0),ga=BigInt(1),s3=BigInt(2),a3=BigInt(7),f3=BigInt(256),c3=BigInt(113);for(let e=0,t=ga,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Nb.push(2*(5*n+r)),Cb.push((e+1)*(e+2)/2%64);let i=o3;for(let o=0;o<7;o++)t=(t<<ga^(t>>a3)*c3)%f3,t&s3&&(i^=ga<<(ga<<BigInt(o))-ga);Hb.push(i)}var[u3,d3]=(0,_a.split)(Hb,!0),kb=(e,t,r)=>r>32?(0,_a.rotlBH)(e,t,r):(0,_a.rotlSH)(e,t,r),Ob=(e,t,r)=>r>32?(0,_a.rotlBL)(e,t,r):(0,_a.rotlSL)(e,t,r);function Ub(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){let f=(a+8)%10,d=(a+2)%10,u=r[d],g=r[d+1],w=kb(u,g,1)^r[f],E=Ob(u,g,1)^r[f+1];for(let m=0;m<50;m+=10)e[a+m]^=w,e[a+m+1]^=E}let i=e[2],o=e[3];for(let a=0;a<24;a++){let f=Cb[a],d=kb(i,o,f),u=Ob(i,o,f),g=Nb[a];i=e[g],o=e[g+1],e[g]=d,e[g+1]=u}for(let a=0;a<50;a+=10){for(let f=0;f<10;f++)r[f]=e[a+f];for(let f=0;f<10;f++)e[a+f]^=~r[(f+2)%10]&r[(f+4)%10]}e[0]^=u3[n],e[1]^=d3[n]}r.fill(0)}ht.keccakP=Ub;var Eo=class extends si.Hash{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ls.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,si.u32)(this.state)}keccak(){si.isLE||(0,si.byteSwap32)(this.state32),Ub(this.state32,this.rounds),si.isLE||(0,si.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(t){(0,ls.exists)(this);let{blockLen:r,state:n}=this;t=(0,si.toBytes)(t);let i=t.length;for(let o=0;o<i;){let a=Math.min(r-this.pos,i-o);for(let f=0;f<a;f++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){(0,ls.exists)(this,!1),(0,ls.bytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,ls.number)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,ls.output)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:a}=this;return t||(t=new Eo(r,n,i,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=a,t.destroyed=this.destroyed,t}};ht.Keccak=Eo;var Mi=(e,t,r)=>(0,si.wrapConstructor)(()=>new Eo(t,e,r));ht.sha3_224=Mi(6,144,224/8);ht.sha3_256=Mi(6,136,256/8);ht.sha3_384=Mi(6,104,384/8);ht.sha3_512=Mi(6,72,512/8);ht.keccak_224=Mi(1,144,224/8);ht.keccak_256=Mi(1,136,256/8);ht.keccak_384=Mi(1,104,384/8);ht.keccak_512=Mi(1,72,512/8);var Mb=(e,t,r)=>(0,si.wrapXOFConstructorWithOpts)((n={})=>new Eo(t,e,n.dkLen===void 0?r:n.dkLen,!0));ht.shake128=Mb(31,168,128/8);ht.shake256=Mb(31,136,256/8)});var jb=D((vt,ya)=>{b();p();var l3=vt&&vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vt,"__esModule",{value:!0});vt.crypto=vt.utf8ToBytes=vt.createView=vt.concatBytes=vt.toHex=vt.bytesToHex=vt.assertBytes=vt.assertBool=void 0;vt.bytesToUtf8=y3;vt.hexToBytes=b3;vt.equalsBytes=p3;vt.wrapHash=x3;var Qd=l3(oc()),h3=cc(),g3=Qd.default.bool;vt.assertBool=g3;var _3=Qd.default.bytes;vt.assertBytes=_3;var ba=cc();Object.defineProperty(vt,"bytesToHex",{enumerable:!0,get:function(){return ba.bytesToHex}});Object.defineProperty(vt,"toHex",{enumerable:!0,get:function(){return ba.bytesToHex}});Object.defineProperty(vt,"concatBytes",{enumerable:!0,get:function(){return ba.concatBytes}});Object.defineProperty(vt,"createView",{enumerable:!0,get:function(){return ba.createView}});Object.defineProperty(vt,"utf8ToBytes",{enumerable:!0,get:function(){return ba.utf8ToBytes}});function y3(e){if(!(e instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}function b3(e){let t=e.startsWith("0x")?e.substring(2):e;return(0,h3.hexToBytes)(t)}function p3(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function x3(e){return t=>(Qd.default.bytes(t),e(t))}vt.crypto=(()=>{let e=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,t=typeof ya<"u"&&typeof ya.require=="function"&&ya.require.bind(ya);return{node:t&&!e?t("crypto"):void 0,web:e}})()});var el=D(kn=>{b();p();Object.defineProperty(kn,"__esModule",{value:!0});kn.keccak512=kn.keccak384=kn.keccak256=kn.keccak224=void 0;var pa=Rb(),uc=jb();kn.keccak224=(0,uc.wrapHash)(pa.keccak_224);kn.keccak256=(()=>{let e=(0,uc.wrapHash)(pa.keccak_256);return e.create=pa.keccak_256.create,e})();kn.keccak384=(0,uc.wrapHash)(pa.keccak_384);kn.keccak512=(0,uc.wrapHash)(pa.keccak_512)});var Fb=D(Xt=>{b();p();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.recoverTypedSignature=Xt.signTypedData=Xt.typedSignatureHash=Xt.TypedDataUtils=Xt.TYPED_MESSAGE_SCHEMA=Xt.SignTypedDataVersion=void 0;var en=ua(),xa=eb(),Ri=Gd(),ji=Ci(),Je=er(),On=el(),Bo=os(),nr;(function(e){e.V1="V1",e.V3="V3",e.V4="V4"})(nr=Xt.SignTypedDataVersion||(Xt.SignTypedDataVersion={}));Xt.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function To(e,t){if(Object.keys(nr).includes(e)){if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}else throw new Error(`Invalid version: '${e}'`)}function qb(e,t){(0,Je.assert)(t!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);let r=BigInt(t),n=(0,Ri.getLength)(e),i=BigInt(2)**BigInt(n)-BigInt(1);return(0,Je.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function w3(e){let t=BigInt(0);for(let r=0;r<e.length;r++){let n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),n>=49?t+=n-BigInt(49)+BigInt(10):n>=17?t+=n-BigInt(17)+BigInt(10):t+=n}return(0,ji.padStart)((0,Je.bigIntToBytes)(t),20)}function Db(e,t,r,n,i){if(To(i,[nr.V3,nr.V4]),e[r]!==void 0)return["bytes32",i===nr.V4&&n==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,en.arrToBufArr)((0,On.keccak256)(tl(r,n,e,i)))];if(r==="function")throw new Error('Unsupported or invalid type: "function"');if(n===void 0)throw new Error(`missing value for field ${t} of type ${r}`);if(r==="address"){if(typeof n=="number")return["address",(0,ji.padStart)((0,Je.numberToBytes)(n),20)];if((0,Je.isStrictHexString)(n))return["address",(0,Je.add0x)(n)];if(typeof n=="string")return["address",w3(n).subarray(0,20)]}if(r==="bool")return["bool",Boolean(n)];if(r==="bytes")return typeof n=="number"?n=(0,Je.numberToBytes)(n):(0,Je.isStrictHexString)(n)||n==="0x"?n=(0,Je.hexToBytes)(n):typeof n=="string"&&(n=(0,Je.stringToBytes)(n)),["bytes32",(0,en.arrToBufArr)((0,On.keccak256)(n))];if(r.startsWith("bytes")&&r!=="bytes"&&!r.includes("["))return typeof n=="number"?n<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,Je.bigIntToBytes)(BigInt(n))]:(0,Je.isStrictHexString)(n)?["bytes32",(0,Je.hexToBytes)(n)]:["bytes32",n];if(r.startsWith("int")&&!r.includes("[")){let o=qb(r,n);return o>=BigInt(0)?["uint256",o]:["int256",o]}if(r==="string")return typeof n=="number"?n=(0,Je.numberToBytes)(n):n=(0,Je.stringToBytes)(n??""),["bytes32",(0,en.arrToBufArr)((0,On.keccak256)(n))];if(r.endsWith("]")){if(i===nr.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");let o=r.slice(0,r.lastIndexOf("[")),a=n.map(f=>Db(e,t,o,f,i));return["bytes32",(0,en.arrToBufArr)((0,On.keccak256)((0,xa.encode)(a.map(([f])=>f),a.map(([,f])=>f))))]}return[r,n]}function tl(e,t,r,n){To(n,[nr.V3,nr.V4]);let i=["bytes32"],o=[$b(e,r)];for(let a of r[e]){if(n===nr.V3&&t[a.name]===void 0)continue;let[f,d]=Db(r,a.name,a.type,t[a.name],n);i.push(f),o.push(d)}return(0,en.arrToBufArr)((0,xa.encode)(i,o))}function zb(e,t){let r="",n=rl(e,t);n.delete(e);let i=[e,...Array.from(n).sort()];for(let o of i){if(!t[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${t[o].map(({name:f,type:d})=>`${d} ${f}`).join(",")})`}return r}function rl(e,t,r=new Set){if(typeof e!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);if([e]=e.match(/^\w*/u),r.has(e)||t[e]===void 0)return r;r.add(e);for(let i of t[e])rl(i.type,t,r);return r}function nl(e,t,r,n){To(n,[nr.V3,nr.V4]);let i=tl(e,t,r,n),o=(0,On.keccak256)(i);return(0,en.arrToBufArr)(o)}function $b(e,t){let r=(0,Je.stringToBytes)(zb(e,t));return(0,en.arrToBufArr)((0,On.keccak256)(r))}function il(e){let t={};for(let r in Xt.TYPED_MESSAGE_SCHEMA.properties)e[r]&&(t[r]=e[r]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function Vb(e,t){To(t,[nr.V3,nr.V4]);let r=il(e),{domain:n}=r,i={EIP712Domain:r.types.EIP712Domain};return nl("EIP712Domain",n,i,t)}function m3(e,t){To(t,[nr.V3,nr.V4]);let r=il(e),n=[(0,Je.hexToBytes)("1901")];return n.push(Vb(e,t)),r.primaryType!=="EIP712Domain"&&n.push(nl(r.primaryType,r.message,r.types,t)),(0,en.arrToBufArr)((0,On.keccak256)((0,Je.concatBytes)(n)))}Xt.TypedDataUtils={encodeData:tl,encodeType:zb,findTypeDependencies:rl,hashStruct:nl,hashType:$b,sanitizeData:il,eip712Hash:m3,eip712DomainHash:Vb};function v3(e){let t=ol(e);return(0,Je.bytesToHex)(t)}Xt.typedSignatureHash=v3;function Gb(e,t){if((0,Ri.isArrayType)(e)&&Array.isArray(t)){let[r]=(0,Ri.getArrayType)(e);return t.map(n=>Gb(r,n))}if(e==="address"){if((0,Je.isStrictHexString)(t))return(0,ji.padStart)((0,Je.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,ji.padStart)(t.subarray(0,20),20)}if(e==="bool")return Boolean(t);if(e.startsWith("bytes")&&e!=="bytes"){let r=(0,Ri.getByteLength)(e);if(typeof t=="number")return t<0?new Uint8Array:(0,Je.numberToBytes)(t).subarray(0,r);if((0,Je.isStrictHexString)(t))return(0,Je.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&typeof t=="number")return Math.abs(t);if(e.startsWith("int")&&typeof t=="number"){let r=(0,Ri.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function E3(e){return e.map(t=>typeof t=="number"?(0,ji.padStart)((0,Je.numberToBytes)(t),32):(0,Je.isStrictHexString)(t)?(0,ji.padStart)((0,Je.hexToBytes)(t).subarray(0,32),32):t instanceof Uint8Array?(0,ji.padStart)(t.subarray(0,32),32):t)}function B3(e,t){return t.map(r=>{if(typeof r=="string"||typeof r=="number"||typeof r=="bigint"){let n=qb(e,r);if(n>=BigInt(0))return(0,ji.padStart)((0,Je.bigIntToBytes)(n),32);let i=(0,Ri.getLength)(e),o=BigInt.asIntN(i,n);return(0,Je.signedBigIntToBytes)(o,32)}return r})}function ol(e){let t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!("length"in e)||!e.length)throw t;let r=e.map(({name:a,type:f,value:d})=>{if(f==="address[]")return{name:a,type:"bytes32[]",value:E3(d)};if(f.startsWith("int")&&(0,Ri.isArrayType)(f)){let[u,g]=(0,Ri.getArrayType)(f);return{name:a,type:`bytes32[${g??""}]`,value:B3(u,d)}}return{name:a,type:f,value:Gb(f,d)}}),n=r.map(a=>a.type!=="bytes"?a.value:(0,Bo.legacyToBuffer)(a.value)),i=r.map(a=>{if(a.type==="function")throw new Error('Unsupported or invalid type: "function"');return a.type}),o=e.map(a=>{if(!a.name)throw t;return`${a.type} ${a.name}`});return(0,en.arrToBufArr)((0,On.keccak256)((0,xa.encodePacked)(["bytes32","bytes32"],[(0,On.keccak256)((0,xa.encodePacked)(["string[]"],[o],!0)),(0,On.keccak256)((0,xa.encodePacked)(i,n,!0))])))}function T3({privateKey:e,data:t,version:r}){if(To(r),(0,Bo.isNullish)(t))throw new Error("Missing data parameter");if((0,Bo.isNullish)(e))throw new Error("Missing private key parameter");let n=r===nr.V1?ol(t):Xt.TypedDataUtils.eip712Hash(t,r),i=(0,en.ecsign)(n,e);return(0,Bo.concatSig)((0,en.arrToBufArr)((0,Je.bigIntToBytes)(i.v)),i.r,i.s)}Xt.signTypedData=T3;function S3({data:e,signature:t,version:r}){if(To(r),(0,Bo.isNullish)(e))throw new Error("Missing data parameter");if((0,Bo.isNullish)(t))throw new Error("Missing signature parameter");let n=r===nr.V1?ol(e):Xt.TypedDataUtils.eip712Hash(e,r),i=(0,Bo.recoverPublicKey)(n,t),o=(0,en.publicToAddress)(i);return(0,Je.bytesToHex)(o)}Xt.recoverTypedSignature=S3});var np=D(ie=>{b();p();Object.defineProperty(ie,"__esModule",{value:!0});ie.bytes=ie.stringToBytes=ie.str=ie.bytesToString=ie.hex=ie.utf8=ie.bech32m=ie.bech32=ie.base58check=ie.createBase58check=ie.base58xmr=ie.base58xrp=ie.base58flickr=ie.base58=ie.base64urlnopad=ie.base64url=ie.base64nopad=ie.base64=ie.base32crockford=ie.base32hexnopad=ie.base32hex=ie.base32nopad=ie.base32=ie.base16=ie.utils=void 0;ie.assertNumber=qi;function qi(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function ma(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function xr(...e){let t=o=>o,r=(o,a)=>f=>o(a(f)),n=e.map(o=>o.encode).reduceRight(r,t),i=e.map(o=>o.decode).reduce(r,t);return{encode:n,decode:i}}function Pr(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(qi(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function Lr(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function va(e,t="="){if(qi(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function Xb(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function sl(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(a=>{if(qi(a),a<0||a>=t)throw new Error(`Wrong integer: ${a}`)});;){let a=0,f=!0;for(let d=n;d<o.length;d++){let u=o[d],g=t*a+u;if(!Number.isSafeInteger(g)||t*a/t!==a||g-u!==t*a)throw new Error("convertRadix: carry overflow");a=g%r;let w=Math.floor(g/r);if(o[d]=w,!Number.isSafeInteger(w)||w*r+a!==g)throw new Error("convertRadix: carry overflow");if(f)w?f=!1:n=d;else continue}if(i.push(a),f)break}for(let a=0;a<e.length-1&&e[a]===0;a++)i.push(0);return i.reverse()}var Jb=(e,t)=>t?Jb(t,e%t):e,dc=(e,t)=>e+(t-Jb(e,t));function lc(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(dc(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${dc(t,r)}`);let i=0,o=0,a=2**r-1,f=[];for(let d of e){if(qi(d),d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(i=i<<t|d,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)f.push((i>>o-r&a)>>>0);i&=2**o-1}if(i=i<<r-o&a,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&f.push(i>>>0),f}function Qb(e){return qi(e),{encode:t=>{if(!ma(t))throw new Error("radix.encode input should be Uint8Array");return sl(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(sl(t,e,2**8))}}}function qr(e,t=!1){if(qi(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(dc(8,e)>32||dc(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!ma(r))throw new Error("radix2.encode input should be Uint8Array");return lc(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(lc(r,e,8,t))}}}function Zb(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}function ep(e,t){if(qi(e),typeof t!="function")throw new Error("checksum fn should be function");return{encode(r){if(!ma(r))throw new Error("checksum.encode: input should be Uint8Array");let n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!ma(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let a=0;a<e;a++)if(i[a]!==o[a])throw new Error("Invalid checksum");return n}}}ie.utils={alphabet:Pr,chain:xr,checksum:ep,convertRadix:sl,convertRadix2:lc,radix:Qb,radix2:qr,join:Lr,padding:va};ie.base16=xr(qr(4),Pr("0123456789ABCDEF"),Lr(""));ie.base32=xr(qr(5),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),va(5),Lr(""));ie.base32nopad=xr(qr(5),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Lr(""));ie.base32hex=xr(qr(5),Pr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),va(5),Lr(""));ie.base32hexnopad=xr(qr(5),Pr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Lr(""));ie.base32crockford=xr(qr(5),Pr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Lr(""),Xb(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));ie.base64=xr(qr(6),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),va(6),Lr(""));ie.base64nopad=xr(qr(6),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Lr(""));ie.base64url=xr(qr(6),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),va(6),Lr(""));ie.base64urlnopad=xr(qr(6),Pr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Lr(""));var fl=e=>xr(Qb(58),Pr(e),Lr(""));ie.base58=fl("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");ie.base58flickr=fl("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");ie.base58xrp=fl("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");var Kb=[0,2,3,5,6,7,9,10,11];ie.base58xmr={encode(e){let t="";for(let r=0;r<e.length;r+=8){let n=e.subarray(r,r+8);t+=ie.base58.encode(n).padStart(Kb[n.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){let n=e.slice(r,r+11),i=Kb.indexOf(n.length),o=ie.base58.decode(n);for(let a=0;a<o.length-i;a++)if(o[a]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(t)}};var A3=e=>xr(ep(4,t=>e(e(t))),ie.base58);ie.createBase58check=A3;ie.base58check=ie.createBase58check;var al=xr(Pr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Lr("")),Wb=[996825010,642813549,513874426,1027748829,705979059];function wa(e){let t=e>>25,r=(e&33554431)<<5;for(let n=0;n<Wb.length;n++)(t>>n&1)===1&&(r^=Wb[n]);return r}function Yb(e,t,r=1){let n=e.length,i=1;for(let o=0;o<n;o++){let a=e.charCodeAt(o);if(a<33||a>126)throw new Error(`Invalid prefix (${e})`);i=wa(i)^a>>5}i=wa(i);for(let o=0;o<n;o++)i=wa(i)^e.charCodeAt(o)&31;for(let o of t)i=wa(i)^o;for(let o=0;o<6;o++)i=wa(i);return i^=r,al.encode(lc([i%2**30],30,5,!1))}function tp(e){let t=e==="bech32"?1:734539939,r=qr(5),n=r.decode,i=r.encode,o=Zb(n);function a(w,E,m=90){if(typeof w!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof w}`);if(E instanceof Uint8Array&&(E=Array.from(E)),!Array.isArray(E)||E.length&&typeof E[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof E}`);if(w.length===0)throw new TypeError(`Invalid prefix length ${w.length}`);let P=w.length+7+E.length;if(m!==!1&&P>m)throw new TypeError(`Length ${P} exceeds limit ${m}`);let S=w.toLowerCase(),k=Yb(S,E,t);return`${S}1${al.encode(E)}${k}`}function f(w,E=90){if(typeof w!="string")throw new Error(`bech32.decode input should be string, not ${typeof w}`);if(w.length<8||E!==!1&&w.length>E)throw new TypeError(`Wrong string length: ${w.length} (${w}). Expected (8..${E})`);let m=w.toLowerCase();if(w!==m&&w!==w.toUpperCase())throw new Error("String must be lowercase or uppercase");let P=m.lastIndexOf("1");if(P===0||P===-1)throw new Error('Letter "1" must be present between prefix and data only');let S=m.slice(0,P),k=m.slice(P+1);if(k.length<6)throw new Error("Data must be at least 6 characters long");let L=al.decode(k).slice(0,-6),H=Yb(S,L,t);if(!k.endsWith(H))throw new Error(`Invalid checksum in ${w}: expected "${H}"`);return{prefix:S,words:L}}let d=Zb(f);function u(w){let{prefix:E,words:m}=f(w,!1);return{prefix:E,words:m,bytes:n(m)}}function g(w,E){return a(w,i(E))}return{encode:a,decode:f,encodeFromBytes:g,decodeToBytes:u,decodeUnsafe:d,fromWords:n,fromWordsUnsafe:o,toWords:i}}ie.bech32=tp("bech32");ie.bech32m=tp("bech32m");ie.utf8={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)};ie.hex=xr(qr(4),Pr("0123456789abcdef"),Lr(""),Xb(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));var hc={utf8:ie.utf8,hex:ie.hex,base16:ie.base16,base32:ie.base32,base64:ie.base64,base64url:ie.base64url,base58:ie.base58,base58xmr:ie.base58xmr},rp="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",I3=(e,t)=>{if(typeof e!="string"||!hc.hasOwnProperty(e))throw new TypeError(rp);if(!ma(t))throw new TypeError("bytesToString() expects Uint8Array");return hc[e].encode(t)};ie.bytesToString=I3;ie.str=ie.bytesToString;var P3=(e,t)=>{if(!hc.hasOwnProperty(e))throw new TypeError(rp);if(typeof t!="string")throw new TypeError("stringToBytes() expects string");return hc[e].decode(t)};ie.stringToBytes=P3;ie.bytes=ie.stringToBytes});var sp=D(Jt=>{b();p();var L3=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),k3=Jt&&Jt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O3=Jt&&Jt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&L3(t,e,r);return k3(t,e),t};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getEncryptionPublicKey=Jt.decryptSafely=Jt.decrypt=Jt.encryptSafely=Jt.encrypt=void 0;var Nn=np(),So=O3(Tp()),Cn=os();function ip({publicKey:e,data:t,version:r}){if((0,Cn.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Cn.isNullish)(t))throw new Error("Missing data parameter");if((0,Cn.isNullish)(r))throw new Error("Missing version parameter");switch(r){case"x25519-xsalsa20-poly1305":{if(typeof t!="string")throw new Error("Message data must be given as a string");let n=So.box.keyPair(),i;try{i=Nn.base64.decode(e)}catch{throw new Error("Bad public key")}let o=Nn.utf8.decode(t),a=So.randomBytes(So.box.nonceLength),f=So.box(o,a,i,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Nn.base64.encode(a),ephemPublicKey:Nn.base64.encode(n.publicKey),ciphertext:Nn.base64.encode(f)}}default:throw new Error("Encryption type/version not supported")}}Jt.encrypt=ip;function N3({publicKey:e,data:t,version:r}){if((0,Cn.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Cn.isNullish)(t))throw new Error("Missing data parameter");if((0,Cn.isNullish)(r))throw new Error("Missing version parameter");let n=2**11,i=16;if(typeof t=="object"&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");let o={data:t,padding:""},f=y.Buffer.byteLength(JSON.stringify(o),"utf-8")%n,d=0;f>0&&(d=n-f-i),o.padding="0".repeat(d);let u=JSON.stringify(o);return ip({publicKey:e,data:u,version:r})}Jt.encryptSafely=N3;function op({encryptedData:e,privateKey:t}){if((0,Cn.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Cn.isNullish)(t))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{let r=y.Buffer.from(t,"hex"),n=So.box.keyPair.fromSecretKey(r).secretKey,i=Nn.base64.decode(e.nonce),o=Nn.base64.decode(e.ciphertext),a=Nn.base64.decode(e.ephemPublicKey),f=So.box.open(o,i,a,n);try{if(!f)throw new Error;let d=Nn.utf8.encode(f);if(!d)throw new Error;return d}catch(d){throw d&&typeof d.message=="string"&&d.message.length?new Error(`Decryption failed: ${d.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Jt.decrypt=op;function C3({encryptedData:e,privateKey:t}){if((0,Cn.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Cn.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(op({encryptedData:e,privateKey:t})).data}Jt.decryptSafely=C3;function H3(e){let t=y.Buffer.from(e,"hex"),r=So.box.keyPair.fromSecretKey(t).publicKey;return Nn.base64.encode(r)}Jt.getEncryptionPublicKey=H3});var ap=D(zi=>{b();p();Object.defineProperty(zi,"__esModule",{value:!0});zi.hashEIP7702Authorization=zi.recoverEIP7702Authorization=zi.signEIP7702Authorization=void 0;var U3=$u(),cl=ua(),M3=er(),R3=el(),Di=os();function j3({privateKey:e,authorization:t}){if(dl(t),(0,Di.isNullish)(e))throw new Error("Missing privateKey parameter");let r=ul(t),{r:n,s:i,v:o}=(0,cl.ecsign)(r,e),a=(0,cl.toBuffer)(o);return(0,Di.concatSig)(a,n,i)}zi.signEIP7702Authorization=j3;function q3({signature:e,authorization:t}){if(dl(t),(0,Di.isNullish)(e))throw new Error("Missing signature parameter");let r=ul(t),n=(0,Di.recoverPublicKey)(r,e),i=(0,cl.publicToAddress)(n);return(0,M3.bytesToHex)(i)}zi.recoverEIP7702Authorization=q3;function ul(e){dl(e);let t=(0,U3.encode)(e),r=y.Buffer.concat([y.Buffer.from("05","hex"),t]);return y.Buffer.from((0,R3.keccak256)(r))}zi.hashEIP7702Authorization=ul;function dl(e){if((0,Di.isNullish)(e))throw new Error("Missing authorization parameter");let[t,r,n]=e;if((0,Di.isNullish)(t))throw new Error("Missing chainId parameter");if((0,Di.isNullish)(r))throw new Error("Missing contractAddress parameter");if((0,Di.isNullish)(n))throw new Error("Missing nonce parameter")}});var cp=D(kr=>{b();p();var D3=kr&&kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gc=kr&&kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&D3(t,e,r)};Object.defineProperty(kr,"__esModule",{value:!0});kr.normalize=kr.concatSig=void 0;gc(vy(),kr);gc(Fb(),kr);gc(sp(),kr);gc(ap(),kr);var fp=os();Object.defineProperty(kr,"concatSig",{enumerable:!0,get:function(){return fp.concatSig}});Object.defineProperty(kr,"normalize",{enumerable:!0,get:function(){return fp.normalize}})});var lp=D(gt=>{b();p();Object.defineProperty(gt,"__esModule",{value:!0});gt.validSignedTransaction=gt.getSignHash=gt.getSignedTransaction=gt.getMPCSignedMessage=gt.getMPCTransaction=gt.verifyMessage=gt.signMPCMessage=gt.signMessage=gt.signTransaction=gt.validAddress=gt.validPrivateKey=gt.getNewAddress=void 0;var gl=mc(),qe=Ht(),Dr=gu(),ai=_u(),Ea=Zi(),ll=Sp(),hl=cp();function z3(e){if(!up(e))throw new Error("invalid key");let t=qe.base.fromHex(e),r=(0,Dr.privateToPublicRaw)(t),n=(0,Dr.publicToAddress)(r.slice(1));return{address:qe.base.toHex(n,!0),publicKey:qe.base.toHex(r,!0)}}gt.getNewAddress=z3;function up(e){if(!qe.base.validateHexString(e))return!1;let t=qe.base.fromHex(e.toLowerCase());return!(t.length!=32||t.every(r=>r===0))}gt.validPrivateKey=up;function $3(e){let t="",r=(0,Dr.isValidAddress)(e);return t=(0,Dr.toChecksumAddress)(e),{isValid:r,address:t}}gt.validAddress=$3;function V3(e,t){let r=Dr.TransactionFactory.fromTxData(t);if(!e)return{raw:qe.base.toHex(y.Buffer.from(JSON.stringify(t))),hash:qe.base.toHex(r.getMessageToSign(!0)),serializeRaw:qe.base.toHex(r.serialize())};let n=qe.base.fromHex(e),i=r.sign(n);return qe.base.toHex(i.serialize(),!0)}gt.signTransaction=V3;function G3(e,t,r){if(!r)return dp(e,t);if(e==ai.MessageTypes.TYPE_DATA_V1)return(0,hl.signTypedData)({privateKey:r,data:JSON.parse(t),version:Ea.SignTypedDataVersion.V1});if(e==ai.MessageTypes.TYPE_DATA_V3)return(0,hl.signTypedData)({privateKey:r,data:JSON.parse(t),version:Ea.SignTypedDataVersion.V3});if(e==ai.MessageTypes.TYPE_DATA_V4)return(0,hl.signTypedData)({privateKey:r,data:JSON.parse(t),version:Ea.SignTypedDataVersion.V4});let n=(0,ai.hashMessage)(e,t),{v:i,r:o,s:a}=(0,Dr.ecdsaSign)(qe.base.fromHex(n),r);return(0,Dr.makeSignature)(i,o,a)}gt.signMessage=G3;function dp(e,t){return e==ai.MessageTypes.TYPE_DATA_V1?(0,ll.typedSignatureHash)(JSON.parse(t)):e==ai.MessageTypes.TYPE_DATA_V3?qe.base.toHex(ll.TypedDataUtils.sign(JSON.parse(t),!1)):e==ai.MessageTypes.TYPE_DATA_V4?qe.base.toHex(ll.TypedDataUtils.sign(JSON.parse(t))):(0,ai.hashMessage)(e,t)}gt.signMPCMessage=dp;function F3(e,t,r){let n=(0,ai.hashMessage)(e,t),[i,o,a]=[r.slice(0,32),r.slice(32,64),r[64]];return(0,Dr.recoverFromSignature)(qe.base.fromHex(n),a,i,o)}gt.verifyMessage=F3;function Z3(e,t,r){let n=Dr.TransactionFactory.fromTxData(JSON.parse(qe.base.fromHex(e).toString())),i=n.getMessageToSign(!0),o=qe.base.fromHex(t),a=o.slice(0,32),f=o.slice(32,64),d=gl.signUtil.secp256k1.getV(i,qe.base.toHex(a),qe.base.toHex(f),qe.base.fromHex(r));return n=n.processSignature(d+27,a,f),qe.base.toHex(n.serialize(),!0)}gt.getMPCTransaction=Z3;function K3(e,t,r){let n=qe.base.fromHex(t),i=n.slice(0,32),o=n.slice(32,64),a=gl.signUtil.secp256k1.getV(qe.base.fromHex(e),qe.base.toHex(i),qe.base.toHex(o),qe.base.fromHex(r))+27;return(0,Dr.makeSignature)(a,i,o)}gt.getMPCSignedMessage=K3;function W3(e,t,r,n){let i=Dr.TransactionFactory.fromSerializedData(qe.base.fromHex(e));return i=i.processSignatureWithRawV(parseInt(n,16),qe.base.fromHex(t),qe.base.fromHex(r)),qe.base.toHex(i.serialize(),!0)}gt.getSignedTransaction=W3;function Y3(e){let t=Dr.TransactionFactory.fromSerializedData(qe.base.fromHex(e));return qe.base.toHex(t.getMessageToSign(!0))}gt.getSignHash=Y3;function X3(e,t,r){let n=Dr.TransactionFactory.fromSerializedData(qe.base.fromHex(e),t),i=n.getMessageToSign(!0),o=(0,Ea.padWithZeroes)(qe.base.toHex(n.r.toArrayLike(y.Buffer)),64),a=(0,Ea.padWithZeroes)(qe.base.toHex(n.s.toArrayLike(y.Buffer)),64),f=qe.base.fromHex(o.concat(a));return r&&!gl.signUtil.secp256k1.verifyWithNoRecovery(i,f,qe.base.fromHex(r))?new Error("signature error"):n}gt.validSignedTransaction=X3});var gp=D(Hn=>{b();p();var J3=Hn&&Hn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q3=Hn&&Hn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eT=Hn&&Hn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&J3(t,e,r);return Q3(t,e),t};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.EthWallet=void 0;var lr=Ht(),Kt=Ht(),_l=Ht(),_t=eT(pl()),hp=Rr(),_c=pl(),yl="0xa9059cbb",bl=class extends lr.BaseWallet{async getDerivedPath(t){return`m/44'/60'/0'/0/${t.index}`}async getNewAddress(t){let r=t.privateKey;if(!_t.validPrivateKey(r))throw new Error("invalid key");try{let i=Kt.base.fromHex(r.toLowerCase());return(0,lr.assertBufferLength)(i,32),Promise.resolve(_t.getNewAddress(r.toLowerCase()))}catch{}return Promise.reject(lr.NewAddressError)}async validPrivateKey(t){let n={isValid:_t.validPrivateKey(t.privateKey),privateKey:t.privateKey};return Promise.resolve(n)}async validAddress(t){return Promise.resolve(_t.validAddress(t.address))}convert2HexString(t){let r;return Kt.BigNumber.isBigNumber(t)?r=t:r=new Kt.BigNumber(t),Kt.base.toBigIntHex(r)}convert2TxParam(t){return{to:t.to,value:this.convert2HexString(t.value||0),nonce:this.convert2HexString(t.nonce),contractAddress:t.contractAddress,gasPrice:this.convert2HexString(t.gasPrice||0),gasLimit:this.convert2HexString(t.gasLimit||0),data:t.data,chainId:this.convert2HexString(t.chainId||1),type:t.type||0,maxPriorityFeePerGas:this.convert2HexString(t.maxPriorityFeePerGas||0),maxFeePerGas:this.convert2HexString(t.maxFeePerGas||0),authorizationList:t.authorizationList||[],useValue:t.useValue||!1}}async signTransaction(t){try{let r=t.privateKey;r&&(0,lr.assertBufferLength)(Kt.base.fromHex(r),32);let n=this.convert2TxParam(t.data),i=n.chainId,o=n.nonce,a=n.type;if(a===0||a===1){let f=n.gasPrice,d=n.contractAddress,u=n.to,g=n.value,w;d?(w=yl+Array.prototype.map.call(_l.abi.RawEncode(["address","uint256"],[u,g]),m=>`00${m.toString(16)}`.slice(-2)).join(""),n.useValue||(g="0x0"),u=d):w=n.data;let E={nonce:o,gasPrice:f,gasLimit:n.gasLimit,to:u,value:g,data:w,chainId:i,type:a};return Promise.resolve(_t.signTransaction(r,E))}else if(a===2){let f=n.contractAddress,d=n.to,u=n.value,g;f?(g=yl+Array.prototype.map.call(_l.abi.RawEncode(["address","uint256"],[d,u]),E=>`00${E.toString(16)}`.slice(-2)).join(""),u="0x0",d=f):g=n.data;let w={nonce:o,gasLimit:n.gasLimit,to:d,value:u,data:g,chainId:i,type:a,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas};return Promise.resolve(_t.signTransaction(r,w))}else if(a===4){let f=n.contractAddress,d=n.to,u=n.value,g;f?(g=yl+Array.prototype.map.call(_l.abi.RawEncode(["address","uint256"],[d,u]),E=>`00${E.toString(16)}`.slice(-2)).join(""),u="0x0",d=f):g=n.data;let w={nonce:o,gasLimit:n.gasLimit,to:d,value:u,data:g,chainId:i,type:a,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,authorizationList:n.authorizationList};return Promise.resolve(_t.signTransaction(r,w))}return Promise.reject(lr.SignTxError)}catch{return Promise.reject(lr.SignTxError)}}async signAuthorizationListItem(t){if(!t.privateKey)throw Error("privateKey is invalid");let r=Kt.base.fromHex(t.privateKey);(0,lr.assertBufferLength)(Kt.base.fromHex(t.privateKey),32);let{chainId:n,nonce:i,address:o}=t.data,a=_t.unpadBytes(_t.hexToBytes(n)),f=i!==void 0?_t.unpadBytes(_t.hexToBytes(i)):new Uint8Array,d=_t.hexToBytes(o),u=hp.rlp.encode([a,d,f]),g=_t.keccak256((0,hp.concatBytes)(new Uint8Array([5]),u)),w=_t.ecdsaSign(g,r);return{chainId:(0,_c.bytesToHex)(a),address:o,nonce:(0,_c.bytesToHex)(f),yParity:w.v-27===0?"0x":"0x1",r:Kt.base.toHex((0,_c.unpadBuffer)(w.r),!0),s:Kt.base.toHex((0,_c.unpadBuffer)(w.s),!0)}}async signAuthorizationListItemForRPC(t){let r=await this.signAuthorizationListItem(t);return this.toRpcAuth(r)}toRpcAuth(t){let r=["chainId","nonce","yParity","r","s"],n={...t};for(let i of r)n[i]=this.toRpcHex(n[i]);return n}toRpcHex(t){return"0x"+(t.slice(2).replace(/^0+/,"")||"0")}async signMessage(t){let r;t.privateKey&&((0,lr.assertBufferLength)(Kt.base.fromHex(t.privateKey),32),r=Kt.base.fromHex(t.privateKey));let n=t.data,i=n.type,o=_t.signMessage(i,n.message,r);return Promise.resolve(o)}async verifyMessage(t){let r=t.data,n=await this.ecRecover(r,t.signature),i=t.address||"";return Promise.resolve(i.toLowerCase()===n.toLowerCase())}async ecRecover(t,r){let n=t.type,i=_t.verifyMessage(n,t.message,Kt.base.fromHex(r)),o=Kt.base.toHex(_t.publicToAddress(i),!0);return Promise.resolve(o)}async encrypt(t,r,n){return Promise.resolve(_t.sigUtil.encrypt({publicKey:t,data:r,version:n}))}async decrypt(t,r){return Promise.resolve(_t.sigUtil.decrypt({encryptedData:t,privateKey:Kt.base.stripHexPrefix(r)}))}async getEncryptionPublicKey(t){return Promise.resolve(_t.sigUtil.getEncryptionPublicKey(Kt.base.stripHexPrefix(t)))}getAddressByPublicKey(t){return Promise.resolve(Kt.base.toHex(_t.publicToAddress(Kt.base.fromHex(t.publicKey),!0),!0))}async getMPCRawTransaction(t){try{let r=await this.signTransaction(t);return Promise.resolve({raw:r.raw,hash:r.hash})}catch{return Promise.reject(lr.GetMpcRawTransactionError)}}async getMPCTransaction(t){try{let r=_t.getMPCTransaction(t.raw,t.sigs,t.publicKey);return Promise.resolve(r)}catch{return Promise.reject(lr.GetMpcTransactionError)}}async getMPCRawMessage(t){try{let r=await this.signMessage(t);return Promise.resolve({hash:r})}catch{return Promise.reject(lr.GetMpcRawTransactionError)}}async getMPCSignedMessage(t){try{return Promise.resolve(_t.getMPCSignedMessage(t.hash,t.sigs,t.publicKey))}catch{return Promise.reject(lr.GetMpcTransactionError)}}async getHardWareRawTransaction(t){try{let r=await this.signTransaction(t);return Promise.resolve(r.serializeRaw)}catch{return Promise.reject(lr.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(t){try{return _t.getSignedTransaction(t.raw,t.r,t.s,t.v)}catch{return Promise.reject(lr.GetHardwareSignedTransactionError)}}async calcTxHash(t){let r=Kt.base.fromHex(t.data),n=_t.TransactionFactory.fromSerializedData(r);return Promise.resolve(Kt.base.toHex(n.hash(),!0))}async validSignedTransaction(t){try{let r=t.data?t.data.chainId:void 0,n=t.data?t.data.publicKey:void 0,i=_t.validSignedTransaction(t.tx,r,n);return Promise.resolve((0,lr.jsonStringifyUniform)(i))}catch{return Promise.reject(lr.validSignedTransactionError)}}};Hn.EthWallet=bl});var pl=D(Un=>{b();p();var tT=Un&&Un.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yc=Un&&Un.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tT(t,e,r)};Object.defineProperty(Un,"__esModule",{value:!0});yc(lp(),Un);yc(_u(),Un);yc(gu(),Un);yc(gp(),Un)});export{pl as a};
//# sourceMappingURL=chunk-YYJBFMAM.js.map
