import{b as C}from"./chunk-QL63AAOK.js";import{k as I}from"./chunk-QXEXAETB.js";import{b as k,c as v,p as F,s as O,t as w}from"./chunk-HKU7TMFJ.js";import{a as S}from"./chunk-7I4OPLNV.js";import{vd as E}from"./chunk-INIQCRIO.js";import{I as r,U as h,j as R,va as X}from"./chunk-XFTQD4B2.js";import{b as Y}from"./chunk-73B6GL3S.js";import{f as N,o as b,q as A}from"./chunk-Y5OH3DDZ.js";b();A();var l=N(Y());X();var j=()=>{let{configStore:L}=C(),{computedConfig:_}=L,{defaultBuyPresets:c=[],defaultSellPresets:M=[],slippageConfig:e={},priorityFeeInfo:t={}}=_||{},a=(i,o,s,y)=>{if(r(i)||r(e)||r(s))return[];let{min:f,max:x,supportMaxSlippage:m,dynamicSlippageRangeMin:u,dynamicSlippageRangeMax:p,recommendSlippageRangeMin:g,recommendSlippageRangeMax:n}=e,U={low:o[0],medium:o[1],high:o[2]};return i.map((D,T)=>{let{slippage:B,priorityFeeType:G,[y?"defaultBuyAmountList":"defaultSellPercentList"]:$}=D,V=o.indexOf(B),K=V!==-1?w[V]:v.CUSTOM;return{id:`${F}${T+1}`,amountList:$,slippage:{mode:k.DYNAMIC,supportCustomMax:m,dynamicMax:p,dynamicMin:u,recommendMax:n,recommendMin:g,customMax:"",value:B,type:K,config:U,min:f,max:x},priorityFee:{value:"",type:O[G-1],max:String(s?.maxValue),recommendMaxValue:s?.recommendMaxValue,recommendMinValue:s?.recommendMinValue,config:{market:{},fast:{},turbo:{}}},isEnableMev:D.isEnableMev,priorityMode:"auto",manualType:0,name:T===0?E("swaptrade_market_placeorder_preset_option_default"):E("swaptrade_market_placeorder_preset_option_meme")}})},d=(0,l.useMemo)(()=>a(c,e.slippageList,t,!0),[c,e,t]),P=(0,l.useMemo)(()=>a(M,e.slippageList,t,!1),[M,e,t]);return{computeBuyDefaultPresetList:d,computedSellDefaultPresetList:P}},oe=()=>{let{buyStore:L,sellStore:_,configStore:c}=C(),{tradeScene:M,currentChainID:e,presetStorageKey:t}=c,{setBuyPresetList:a,buyPresetList:d,currentBuyPresetId:P,setCurrentBuyPresetId:i}=L,{setSellPresetList:o,sellPresetList:s,currentSellPresetId:y,setCurrentSellPresetId:f}=_,{computedConfig:x}=c,{slippageConfig:m={}}=x||{},{computeBuyDefaultPresetList:u,computedSellDefaultPresetList:p}=j();(0,l.useEffect)(()=>{if(r(u)||r(p)||r(m))return;let g=S.get(t),n=R(g,e)??null;if(n){a(I(n.buyPresetList,m)),i(n.currentBuyPresetId),o(I(n.sellPresetList,m)),f(n.currentSellPresetId);return}a(u),i(u?.[0]?.id),o(p),f(p?.[0]?.id)},[M,e,a,o,i,f,t,u,p,m]),(0,l.useEffect)(()=>{if(r(d)||r(s))return;let g=S.get(t);S.set(t,h({},g,{[e]:{buyPresetList:d,currentBuyPresetId:P,sellPresetList:s,currentSellPresetId:y}}))},[e,d,s,P,y,t])};export{j as a,oe as b};
//# sourceMappingURL=chunk-SYP4PRCG.js.map
