import{a as v}from"./chunk-H7WHTGUY.js";import{B,J as G}from"./chunk-O33H5V3V.js";import{c as N,f as _,g as E,l as S,m as H}from"./chunk-COF7YKSN.js";import{D as o,K as $}from"./chunk-VZKEX7KP.js";import{S as P,T as y,o as h,r as L}from"./chunk-BJKBO23H.js";import{u as A}from"./chunk-ZFVABNQN.js";import{b as T}from"./chunk-73B6GL3S.js";import{f as g,n as process,o as l,q as m}from"./chunk-Y5OH3DDZ.js";l();m();var n=g(T()),M=g(N());$();E();l();m();var p=g(T());E();H();G();l();m();var D=g(N());var O={version:D.default.runtime.getManifest().version,manifest:D.default.runtime.getManifest(),id:D.default.runtime.id,buildType:process.env.ASSETS_BUILD_TYPE};var R=()=>{let i=v("apiDomain",{...O,location:window.location.href}),[s,w]=(0,p.useState)([]),[t,r]=(0,p.useState)([]);return(0,p.useEffect)(()=>{(async()=>{if(i?.data){await _.set({networkChangeAPIDomain:i.data?.apiDomain}),w(i.data?.apiDomain);return}let{networkChangeAPIDomain:e=[]}=await _.get("networkChangeAPIDomain");w(e)})()},[i]),(0,p.useEffect)(()=>{(async()=>{let e=[],f=[],{apiDomain:d}=await _.get("apiDomain");for(let a=0,k=s.length;a<k;a++)f.push({url:s[a],status:-1,checked:d===s[a]}),e.push((c=>new Promise(C=>{let I={url:c,checked:d===c};B(`${c}${S.app.tryPaths.apiDomain.url}`,{},{timeout:2e3}).then(()=>{C({...I,status:1})}).catch(()=>{C({...I,status:0})})}))(s[a]));r(f),Promise.allSettled(e).then(a=>{let k=[];a.forEach(c=>{c.status==="fulfilled"&&k.push(c.value)}),r(k)}).catch(()=>{})})()},[s[0]]),t};l();m();var u={networkHeight:"_networkHeight_1ifa0_1",networkName:"_networkName_1ifa0_9",networkIcon:"_networkIcon_1ifa0_14",networkDisable:"_networkDisable_1ifa0_19",networkPadding:"_networkPadding_1ifa0_23"};var x={AVAILABLE:1,FAILED:0,LOADING:-1},F={FOCUSABLE:0,NOT_FOCUSABLE:-1},K=1,U=()=>{let i=R(),s=(t,r)=>{r&&h.warn({alignBottom:!1,title:o("wallet_extension_settings_popup_title_restart_extension"),text:o("wallet_extension_settings_popup_text_restart_extension"),cancelText:o("wallet_extension_settings_popup_btn_not_now"),confirmText:o("wallet_extension_settings_popup_btn_restart"),onConfirm:async()=>{await _.set({userChooseNetwork:x.AVAILABLE}),await _.set({apiDomain:t.url}),M.default.runtime.reload()}})},w=(t,r,e)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),s(r,e))};return n.default.createElement("div",{className:u.networkPadding},i.map((t,r)=>{let e=t.status===x.AVAILABLE,f=`${r+K}`,d=e?F.FOCUSABLE:F.NOT_FOCUSABLE;return n.default.createElement("div",{key:t.url,onClick:()=>{s(t,e)},onKeyDown:a=>{w(a,t,e)},role:"button",tabIndex:d,"aria-label":o("wallet_extension_settings_text_server1",{num:f}),className:`${u.networkHeight} ${e?"":u.networkDisable}`},n.default.createElement("span",{className:u.networkName},o("wallet_extension_settings_text_server1",{num:f})),e&&n.default.createElement(P,null,o("wallet_extension_settings_tag_available")),t.status===x.FAILED&&n.default.createElement(y,null,o("wallet_extension_settings_tag_failed")),t.status===x.LOADING&&n.default.createElement(A,{size:A.SIZE.sm}),e&&t.checked&&n.default.createElement(L.Circle,{checked:!0,className:u.networkIcon}))}))},ut=()=>{h.action({noTopRadius:!1,title:o("wallet_extension_settings_select_text_switch_servers"),children:n.default.createElement(U,null)})},ft=({visible:i=!1,onClose:s=()=>{}})=>n.default.createElement(h.Action,{visible:i,onClose:s,title:o("wallet_extension_settings_select_text_switch_servers")},n.default.createElement(U,null));export{O as a,ut as b,ft as c};
//# sourceMappingURL=chunk-IIJNHSKZ.js.map
