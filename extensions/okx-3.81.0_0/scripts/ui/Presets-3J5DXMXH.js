import{a as F,b as R,c as he,e as ve}from"./chunk-LQ3PT46O.js";import"./chunk-SYP4PRCG.js";import{d as J}from"./chunk-TA357MUD.js";import{b as K}from"./chunk-QL63AAOK.js";import{a as ge}from"./chunk-MFKZWCTA.js";import"./chunk-QXEXAETB.js";import{a as q}from"./chunk-6T3CLU73.js";import"./chunk-STXPU7A6.js";import{f as ue}from"./chunk-PFSPFZNW.js";import{a as fe}from"./chunk-XNP3OGQC.js";import"./chunk-A2QIZMPL.js";import{b as ie,p as T}from"./chunk-HKU7TMFJ.js";import"./chunk-YTR7GLCK.js";import{a as se}from"./chunk-7I4OPLNV.js";import{m as pe}from"./chunk-FGRS6VIX.js";import{Wa as re,ta as Z,va as V,vd as d}from"./chunk-INIQCRIO.js";import"./chunk-6Z5HVUBK.js";import{m as W}from"./chunk-ZBDGRK4Q.js";import{a as ce}from"./chunk-6PA65BO3.js";import{I as X,b as le,u as _e}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-XFTQD4B2.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{t as I,z as c}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as oe}from"./chunk-4QGZDIBD.js";import{b as H}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-5F7M5EJ4.js";import{f as x,o as r,q as s}from"./chunk-Y5OH3DDZ.js";r();s();var ee=x(H());r();s();r();s();var O=x(H()),Ee=x(ce()),xe=x(oe());r();s();var e=x(H()),S=x(oe());r();s();var l={"preset-item":"_preset-item_hhs7f_1",presetItem:"_preset-item_hhs7f_1","preset-padding":"_preset-padding_hhs7f_7",presetPadding:"_preset-padding_hhs7f_7","preset-name":"_preset-name_hhs7f_15",presetName:"_preset-name_hhs7f_15",divide:"_divide_hhs7f_26",icon:"_icon_hhs7f_33",text:"_text_hhs7f_36",green:"_green_hhs7f_43",normal:"_normal_hhs7f_46","remove-icon":"_remove-icon_hhs7f_49",removeIcon:"_remove-icon_hhs7f_49","disabled-icon":"_disabled-icon_hhs7f_54",disabledIcon:"_disabled-icon_hhs7f_54","edit-icon":"_edit-icon_hhs7f_58",editIcon:"_edit-icon_hhs7f_58","selected-icon":"_selected-icon_hhs7f_62",selectedIcon:"_selected-icon_hhs7f_62","preset-info":"_preset-info_hhs7f_65",presetInfo:"_preset-info_hhs7f_65","icon-wrapper":"_icon-wrapper_hhs7f_74",iconWrapper:"_icon-wrapper_hhs7f_74"};var Te=({isEdit:n,preset:a,isSelected:g,handleClickPreset:m,disableDelete:v,handleDeletePreset:E,handleEditPreset:p,hasShadow:f=!0,currentPresetId:C,tradeScene:y,jitoIsSuccess:k=!0,mevUnstableShowLevel:N,computedQuoteCompleted:D=!1})=>{let{name:A,slippage:u,priorityFee:z,id:P,priorityMode:j="auto",manualType:Y=0}=a,{type:B}=z,_=ge({priorityMode:j,manualType:Y,jitoIsSuccess:k,mevUnstableShowLevel:N,computedQuoteCompleted:D}),L=(0,e.useMemo)(()=>({market:d("swaptrade_modal_dialog_option_market"),fast:d("swaptrade_modal_dialog_option_fast5x"),turbo:d("swaptrade_modal_dialog_option_turbo10x"),custom:d("swaptrade_extension_cinteraction_custom")})[B],[B]),Q=(0,e.useMemo)(()=>{let U=G=>G?`${pe(ue(G),{needZero:!1})}`:"--";return u?.mode===ie.FIXED?U(u?.value):u?.mode===ie.DYNAMIC?u?.customMax?U(u?.customMax):d("swaptrade_slippage_cell_label_dynamic"):"--"},[u?.customMax,u?.mode,u?.value]);return e.default.createElement(le,{className:(0,S.default)("flex items-center justify-between",l.presetItem,{[l.presetPadding]:!n}),onClick:()=>{m&&m()}},e.default.createElement("div",{className:(0,S.default)("flex items-center")},n&&e.default.createElement(I,{className:(0,S.default)("okds-intermediate",l.removeIcon,{[l.disabledIcon]:v}),onClick:()=>{E&&E()},style:{fontSize:24},a11yText:"remove-item"}),e.default.createElement("div",{className:l.presetInfo},e.default.createElement("div",null,a.id===`${T}2`?e.default.createElement("div",{className:"flex items-center"},e.default.createElement(I,{className:(0,S.default)(P===C?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:20,marginRight:"4px",marginBottom:"8px"},a11yText:"meme-mode-icon"}),e.default.createElement("span",{className:l.presetName},A)):e.default.createElement("span",{className:l.presetName},A)),e.default.createElement("div",{className:(0,S.default)("flex items-center",l.presetTag)},e.default.createElement(q,{icon:"okx-defi-dex-slippage",text:Q}),e.default.createElement("div",{className:l.divide}),e.default.createElement(q,{icon:"okx-defi-dex-fee",text:L}),y===0&&e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:l.divide}),e.default.createElement(q,{text:_.text,icon:_.icon,status:_.status,tooltipText:_.tips,showWarningIcon:_.showWarningIcon}))))),n?e.default.createElement(e.default.Fragment,null,f&&e.default.createElement("div",{className:l.shadow}),e.default.createElement("div",{className:(0,S.default)("flex items-center justify-center",l.iconWrapper)},e.default.createElement(I,{className:(0,S.default)("okx-defi-marketplace-edit",l.editIcon),style:{fontSize:24},a11yText:"edit-item",onClick:p}))):g&&e.default.createElement(I,{className:(0,S.default)("okx-defi-marketplace-selected",l.selectedIcon),style:{fontSize:24},a11yText:"edit-item"}))},$=Te;r();s();var ne={root:"_root_1hlcl_1",btns:"_btns_1hlcl_4","no-bg":"_no-bg_1hlcl_13",noBg:"_no-bg_1hlcl_13"};var Ne=W(({addClick:n,onSelect:a})=>{let{configStore:g,quoteStore:m}=K(),{currentMode:v,tradeScene:E}=g,{jitoIsSuccess:p,mevUnstableShowLevel:f,computedQuoteCompleted:C}=m,{currentPresetList:y,currentPresetId:k,setCurrentPresetId:N}=J(),D=(0,Ee.useHistory)(),{presetPageEditState:A,setPresetPageEditState:u}=F(),z=()=>{u(!0)},{setEditPreset:P}=R(),{newPreset:j}=he(),Y=()=>{if(y.length>7){X.info({title:d("swaptrade_meme_toast_preset_max",{num:8})});return}if(P({value:j,isEdit:!1}),n)n();else{let L=`${V(Z)}?tab=${v}`;D.push(L)}},B=_=>{N(y?.[_]?.id),a?a():D.goBack()};return O.default.createElement("div",{className:ne.root},y.map((_,L)=>O.default.createElement($,{key:_.id,jitoIsSuccess:p,mevUnstableShowLevel:f,preset:_,isEdit:A,isSelected:_?.id===k,handleClickPreset:()=>{B(L)},currentPresetId:k,tradeScene:E,computedQuoteCompleted:C})),O.default.createElement("div",{className:(0,xe.default)("flex justify-between",ne.btns)},O.default.createElement(c,{className:"flex-1",category:c.CATEGORY.outline,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:z},d("commonall_filter_btn_edit")),O.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:Y},d(v==="buy"?"swaptrade_meme_btn_add_buy_preset":"swaptrade_meme_btn_add_sell_preset"))))}),Pe=Ne;r();s();var o=x(H()),Me=x(ce()),w=x(oe());r();s();var be=x(H());function Se({currentPresetList:n,currentPresetId:a}){let[g,m]=(0,be.useMemo)(()=>{let v=n.map(f=>({...f,isSelected:f.id===a})),E=[],p=[];return v.forEach(f=>{f.id.includes(T)?E.push(f):p.push(f)}),[E,p]},[n,a]);return{defaultList:g,formatList:m}}function we({defaultList:n,list:a,setCurrentPresetList:g,setCurrentPresetId:m,setPresetPageEditState:v}){return{handleDone:()=>{let p=[...n,...a];g(p),p.findIndex(C=>C.isSelected===!0)===-1&&m(p[0].id),v(!1)}}}r();s();var i={root:"_root_swnpm_1",btns:"_btns_swnpm_4","no-bg":"_no-bg_swnpm_13",noBg:"_no-bg_swnpm_13",wrapper:"_wrapper_swnpm_16","drag-item":"_drag-item_swnpm_19",dragItem:"_drag-item_swnpm_19","custom-drag-item":"_custom-drag-item_swnpm_19",customDragItem:"_custom-drag-item_swnpm_19",item:"_item_swnpm_19","drag-item-active":"_drag-item-active_swnpm_28",dragItemActive:"_drag-item-active_swnpm_28",dragging:"_dragging_swnpm_28","drag-icon":"_drag-icon_swnpm_32",dragIcon:"_drag-icon_swnpm_32","not-drag":"_not-drag_swnpm_36",notDrag:"_not-drag_swnpm_36","icon-padding":"_icon-padding_swnpm_40",iconPadding:"_icon-padding_swnpm_40","preset-padding":"_preset-padding_swnpm_43",presetPadding:"_preset-padding_swnpm_43","icon-wrapper":"_icon-wrapper_swnpm_46",iconWrapper:"_icon-wrapper_swnpm_46","icon-wrapper-hover":"_icon-wrapper-hover_swnpm_51",iconWrapperHover:"_icon-wrapper-hover_swnpm_51"};var Ae=W(({editClick:n})=>{let{isSm:a}=fe(),{currentPresetList:g,currentPresetId:m,setCurrentPresetId:v,setCurrentPresetList:E}=J(),{setPresetPageEditState:p}=F(),{configStore:f,quoteStore:C}=K(),{currentMode:y,tradeScene:k}=f,{jitoIsSuccess:N,mevUnstableShowLevel:D,computedQuoteCompleted:A}=C,{defaultList:u,formatList:z}=Se({currentPresetList:g,currentPresetId:m}),[P,j]=(0,o.useState)(z),{setEditPreset:Y}=R(),B=(0,Me.useHistory)(),{handleDone:_}=we({defaultList:u,list:P,setCurrentPresetList:E,setCurrentPresetId:v,setPresetPageEditState:p}),[L,Q]=(0,o.useState)(!1),[U,G]=(0,o.useState)(!1),ae=t=>{let h=P.filter((M,te)=>te!==t);j(h)},ye=(t,h)=>{let M=se.get(re),{isSelected:te}=t;if(te&&!M){Q(!0);return}ae(h)},ke=()=>{U&&se.set(re,"1");let t=P.findIndex(h=>h.isSelected===!0);ae(t),Q(!1)},de=t=>{let h=g.find(M=>M.id===t)||{};if(Y({value:h,isEdit:!0}),n)n();else{let M=`${V(Z)}?tab=${y}`;B.push(M)}},De=t=>{j(t)};(0,o.useEffect)(()=>()=>{p(!1)},[]);let Le=(0,o.useCallback)(()=>{a&&X.info({title:d("swaptrade_market_placeorder_error_preset_unable_delete")})},[a]);return o.default.createElement("div",{className:i.root},u.map(t=>o.default.createElement("div",{className:(0,w.default)("flex items-center justify-between",i.presetPadding),key:t.id},o.default.createElement($,{jitoIsSuccess:N,mevUnstableShowLevel:D,hasShadow:!0,key:t.id,preset:t,isEdit:!0,isSelected:t.id===m,handleDeletePreset:Le,disableDelete:t.id.includes(T),handleEditPreset:()=>de(t.id),currentPresetId:m,tradeScene:k,computedQuoteCompleted:A}),o.default.createElement("div",{className:(0,w.default)("flex items-center justify-center",i.iconWrapper,i.iconPadding)},o.default.createElement(I,{className:(0,w.default)("okds-hamburger flex items-center",i.notDrag),style:{fontSize:24},a11yText:"drag-item"})))),o.default.createElement("div",null,o.default.createElement(_e.Sortable,{restrictToParentElement:!0,onDragEnd:De,dataSource:P,mobileLongPress:!0,withOverlay:!1,wrapperStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:0,itemClassName:(0,w.default)(i.dragItem,i.customDragItem,i.item),itemDraggingClassName:(0,w.default)(i.dragItemActive,i.dragging),itemWrapperClassName:i.wrapper,renderHandler:({getHandlerRef:t,listeners:h,disabled:M})=>M?o.default.createElement("div",{ref:t}):o.default.createElement("div",{className:(0,w.default)("flex items-center justify-center",i.iconWrapper,i.iconWrapperHover,i.iconPadding)},o.default.createElement(I,{ref:t,...h,className:(0,w.default)("okds-hamburger flex items-center",i.dragIcon),style:{fontSize:24},a11yText:"drag-item"}))},P.map((t,h)=>o.default.createElement($,{jitoIsSuccess:N,mevUnstableShowLevel:D,key:t.name+h,preset:t,isEdit:!0,isSelected:t.id===m,handleDeletePreset:()=>ye(t,h),disableDelete:t.id.includes(T),handleEditPreset:()=>de(t.id),currentPresetId:m,tradeScene:k})))),o.default.createElement("div",{className:(0,w.default)("flex justify-between",i.btns)},o.default.createElement(c,{className:"flex-1",category:c.CATEGORY.fill,type:c.TYPE.primary,size:c.SIZE.lg,block:!0,onClick:_},d("commonall_button_text_done"))),o.default.createElement(ve,{isChecked:U,setIsChecked:G,onConfirm:ke,visible:L,text:d("swaptrade_meme_dialog_desc_preset_delete"),showChecked:!0,confirmText:d("commonall_text_btn_ok_passive")}))}),Ie=Ae;var me={DefaultList:Pe,EditList:Ie};r();s();var Ce={root:"_root_45u39_1","no-bg":"_no-bg_45u39_4",noBg:"_no-bg_45u39_4"};var je=W(({editClick:n,addClick:a,onSelect:g})=>{let{presetPageEditState:m}=F();return ee.default.createElement("div",{className:Ce.root},m?ee.default.createElement(me.EditList,{editClick:n}):ee.default.createElement(me.DefaultList,{addClick:a,onSelect:g}))}),fo=je;export{fo as default};
//# sourceMappingURL=Presets-3J5DXMXH.js.map
