import{m as Jn,t as ro,u as W}from"./chunk-BYVN72KS.js";import{a as no}from"./chunk-ZUJLXC72.js";import{a as zr}from"./chunk-OJXBW2YQ.js";import{c as Q,f as yt,o as E,p as N,q as _}from"./chunk-Y5OH3DDZ.js";var gr=Q((Yd,Vt)=>{E();_();function fa(e){return e&&e.__esModule?e:{default:e}}Vt.exports=fa,Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports});var mr=Q((eh,Ft)=>{E();_();function xi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function da(e,t,r){return t&&xi(e.prototype,t),r&&xi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Ft.exports=da,Ft.exports.__esModule=!0,Ft.exports.default=Ft.exports});var br=Q((nh,Gt)=>{E();_();function ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Gt.exports=ha,Gt.exports.__esModule=!0,Gt.exports.default=Gt.exports});var Si=Q((oh,Ge)=>{E();_();function hn(e,t){return Ge.exports=hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports,hn(e,t)}Ge.exports=hn,Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports});var wr=Q((uh,qt)=>{E();_();var pa=Si();function ya(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pa(e,t)}qt.exports=ya,qt.exports.__esModule=!0,qt.exports.default=qt.exports});var vr=Q((dh,qe)=>{E();_();function pn(e){return qe.exports=pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe.exports.__esModule=!0,qe.exports.default=qe.exports,pn(e)}qe.exports=pn,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var Ei=Q((yh,Ht)=>{E();_();function ga(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ht.exports=ga,Ht.exports.__esModule=!0,Ht.exports.default=Ht.exports});var xr=Q((bh,Wt)=>{E();_();var ma=vr().default,ba=Ei();function wa(e,t){if(t&&(ma(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ba(e)}Wt.exports=wa,Wt.exports.__esModule=!0,Wt.exports.default=Wt.exports});var Sr=Q((xh,He)=>{E();_();function yn(e){return He.exports=yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},He.exports.__esModule=!0,He.exports.default=He.exports,yn(e)}He.exports=yn,He.exports.__esModule=!0,He.exports.default=He.exports});var mn=Q((_h,gn)=>{E();_();var va=Object.prototype.hasOwnProperty,oe="~";function zt(){}Object.create&&(zt.prototype=Object.create(null),new zt().__proto__||(oe=!1));function xa(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function _i(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new xa(r,n||e,i),s=oe?oe+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Er(e,t){--e._eventsCount===0?e._events=new zt:delete e._events[t]}function ne(){this._events=new zt,this._eventsCount=0}ne.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)va.call(r,n)&&t.push(oe?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};ne.prototype.listeners=function(t){var r=oe?oe+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};ne.prototype.listenerCount=function(t){var r=oe?oe+t:t,n=this._events[r];return n?n.fn?1:n.length:0};ne.prototype.emit=function(t,r,n,i,o,s){var a=oe?oe+t:t;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,h,f;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,s),!0}for(f=1,h=new Array(l-1);f<l;f++)h[f-1]=arguments[f];c.fn.apply(c.context,h)}else{var y=c.length,g;for(f=0;f<y;f++)switch(c[f].once&&this.removeListener(t,c[f].fn,void 0,!0),l){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,r);break;case 3:c[f].fn.call(c[f].context,r,n);break;case 4:c[f].fn.call(c[f].context,r,n,i);break;default:if(!h)for(g=1,h=new Array(l-1);g<l;g++)h[g-1]=arguments[g];c[f].fn.apply(c[f].context,h)}}return!0};ne.prototype.on=function(t,r,n){return _i(this,t,r,n,!1)};ne.prototype.once=function(t,r,n){return _i(this,t,r,n,!0)};ne.prototype.removeListener=function(t,r,n,i){var o=oe?oe+t:t;if(!this._events[o])return this;if(!r)return Er(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&Er(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=c.length===1?c[0]:c:Er(this,o)}return this};ne.prototype.removeAllListeners=function(t){var r;return t?(r=oe?oe+t:t,this._events[r]&&Er(this,r)):(this._events=new zt,this._eventsCount=0),this};ne.prototype.off=ne.prototype.removeListener;ne.prototype.addListener=ne.prototype.on;ne.prefixed=oe;ne.EventEmitter=ne;typeof gn<"u"&&(gn.exports=ne)});var ki=Q(bn=>{E();_();var Jt=gr();Object.defineProperty(bn,"__esModule",{value:!0});bn.default=Oa;var Sa=Jt(br()),Ea=Jt(mr()),_a=Jt(wr()),Ta=Jt(xr()),Ti=Jt(Sr()),ka=mn();function Ca(e){var t=Aa();return function(){var n=(0,Ti.default)(e),i;if(t){var o=(0,Ti.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Ta.default)(this,i)}}function Aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ba=function(e){(0,_a.default)(r,e);var t=Ca(r);function r(n,i,o){var s;return(0,Sa.default)(this,r),s=t.call(this),s.socket=new window.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(a){return s.emit("message",a.data)},s.socket.onerror=function(a){return s.emit("error",a)},s.socket.onclose=function(a){s.emit("close",a.code,a.reason)},s}return(0,Ea.default)(r,[{key:"send",value:function(i,o,s){var a=s||o;try{this.socket.send(i),a()}catch(c){a(c)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(ka.EventEmitter);function Oa(e,t){return new Ba(e,t)}});var Ai=Q((Oh,We)=>{E();_();var Ia=vr().default;function Ci(){"use strict";We.exports=Ci=function(){return e},We.exports.__esModule=!0,We.exports.default=We.exports;var e={},t=Object.prototype,r=t.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(S,m,A){return Object.defineProperty(S,m,{value:A,enumerable:!0,configurable:!0,writable:!0}),S[m]}try{a({},"")}catch{a=function(A,O,R){return A[O]=R}}function c(S,m,A,O){var R=m&&m.prototype instanceof f?m:f,P=Object.create(R.prototype),J=new pt(O||[]);return P._invoke=function(ke,Pe,G){var te="suspendedStart";return function(De,Wn){if(te==="executing")throw new Error("Generator is already running");if(te==="completed"){if(De==="throw")throw Wn;return be()}for(G.method=De,G.arg=Wn;;){var zn=G.delegate;if(zn){var Wr=fe(zn,G);if(Wr){if(Wr===h)continue;return Wr}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(te==="suspendedStart")throw te="completed",G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);te="executing";var Ut=l(ke,Pe,G);if(Ut.type==="normal"){if(te=G.done?"completed":"suspendedYield",Ut.arg===h)continue;return{value:Ut.arg,done:G.done}}Ut.type==="throw"&&(te="completed",G.method="throw",G.arg=Ut.arg)}}}(S,A,J),P}function l(S,m,A){try{return{type:"normal",arg:S.call(m,A)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var h={};function f(){}function y(){}function g(){}var w={};a(w,i,function(){return this});var x=Object.getPrototypeOf,I=x&&x(x(de([])));I&&I!==t&&r.call(I,i)&&(w=I);var F=g.prototype=f.prototype=Object.create(w);function Z(S){["next","throw","return"].forEach(function(m){a(S,m,function(A){return this._invoke(m,A)})})}function L(S,m){function A(R,P,J,ke){var Pe=l(S[R],S,P);if(Pe.type!=="throw"){var G=Pe.arg,te=G.value;return te&&Ia(te)=="object"&&r.call(te,"__await")?m.resolve(te.__await).then(function(De){A("next",De,J,ke)},function(De){A("throw",De,J,ke)}):m.resolve(te).then(function(De){G.value=De,J(G)},function(De){return A("throw",De,J,ke)})}ke(Pe.arg)}var O;this._invoke=function(R,P){function J(){return new m(function(ke,Pe){A(R,P,ke,Pe)})}return O=O?O.then(J,J):J()}}function fe(S,m){var A=S.iterator[m.method];if(A===void 0){if(m.delegate=null,m.method==="throw"){if(S.iterator.return&&(m.method="return",m.arg=void 0,fe(S,m),m.method==="throw"))return h;m.method="throw",m.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var O=l(A,S.iterator,m.arg);if(O.type==="throw")return m.method="throw",m.arg=O.arg,m.delegate=null,h;var R=O.arg;return R?R.done?(m[S.resultName]=R.value,m.next=S.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,h):R:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,h)}function z(S){var m={tryLoc:S[0]};1 in S&&(m.catchLoc=S[1]),2 in S&&(m.finallyLoc=S[2],m.afterLoc=S[3]),this.tryEntries.push(m)}function Te(S){var m=S.completion||{};m.type="normal",delete m.arg,S.completion=m}function pt(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(z,this),this.reset(!0)}function de(S){if(S){var m=S[i];if(m)return m.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var A=-1,O=function R(){for(;++A<S.length;)if(r.call(S,A))return R.value=S[A],R.done=!1,R;return R.value=void 0,R.done=!0,R};return O.next=O}}return{next:be}}function be(){return{value:void 0,done:!0}}return y.prototype=g,a(F,"constructor",g),a(g,"constructor",y),y.displayName=a(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(S){var m=typeof S=="function"&&S.constructor;return!!m&&(m===y||(m.displayName||m.name)==="GeneratorFunction")},e.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,g):(S.__proto__=g,a(S,s,"GeneratorFunction")),S.prototype=Object.create(F),S},e.awrap=function(S){return{__await:S}},Z(L.prototype),a(L.prototype,o,function(){return this}),e.AsyncIterator=L,e.async=function(S,m,A,O,R){R===void 0&&(R=Promise);var P=new L(c(S,m,A,O),R);return e.isGeneratorFunction(m)?P:P.next().then(function(J){return J.done?J.value:P.next()})},Z(F),a(F,s,"Generator"),a(F,i,function(){return this}),a(F,"toString",function(){return"[object Generator]"}),e.keys=function(S){var m=[];for(var A in S)m.push(A);return m.reverse(),function O(){for(;m.length;){var R=m.pop();if(R in S)return O.value=R,O.done=!1,O}return O.done=!0,O}},e.values=de,pt.prototype={constructor:pt,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Te),!m)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var A=this;function O(G,te){return J.type="throw",J.arg=m,A.next=G,te&&(A.method="next",A.arg=void 0),!!te}for(var R=this.tryEntries.length-1;R>=0;--R){var P=this.tryEntries[R],J=P.completion;if(P.tryLoc==="root")return O("end");if(P.tryLoc<=this.prev){var ke=r.call(P,"catchLoc"),Pe=r.call(P,"finallyLoc");if(ke&&Pe){if(this.prev<P.catchLoc)return O(P.catchLoc,!0);if(this.prev<P.finallyLoc)return O(P.finallyLoc)}else if(ke){if(this.prev<P.catchLoc)return O(P.catchLoc,!0)}else{if(!Pe)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return O(P.finallyLoc)}}}},abrupt:function(m,A){for(var O=this.tryEntries.length-1;O>=0;--O){var R=this.tryEntries[O];if(R.tryLoc<=this.prev&&r.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var P=R;break}}P&&(m==="break"||m==="continue")&&P.tryLoc<=A&&A<=P.finallyLoc&&(P=null);var J=P?P.completion:{};return J.type=m,J.arg=A,P?(this.method="next",this.next=P.finallyLoc,h):this.complete(J)},complete:function(m,A){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&A&&(this.next=A),h},finish:function(m){for(var A=this.tryEntries.length-1;A>=0;--A){var O=this.tryEntries[A];if(O.finallyLoc===m)return this.complete(O.completion,O.afterLoc),Te(O),h}},catch:function(m){for(var A=this.tryEntries.length-1;A>=0;--A){var O=this.tryEntries[A];if(O.tryLoc===m){var R=O.completion;if(R.type==="throw"){var P=R.arg;Te(O)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(m,A,O){return this.delegate={iterator:de(m),resultName:A,nextLoc:O},this.method==="next"&&(this.arg=void 0),h}},e}We.exports=Ci,We.exports.__esModule=!0,We.exports.default=We.exports});var Oi=Q((Rh,Bi)=>{E();_();var _r=Ai()();Bi.exports=_r;try{regeneratorRuntime=_r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=_r:Function("r","regeneratorRuntime = r")(_r)}});var ji=Q((Uh,Xt)=>{E();_();function Ii(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(l){r(l);return}a.done?t(c):Promise.resolve(c).then(n,i)}function ja(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(c){Ii(o,n,i,s,a,"next",c)}function a(c){Ii(o,n,i,s,a,"throw",c)}s(void 0)})}}Xt.exports=ja,Xt.exports.__esModule=!0,Xt.exports.default=Xt.exports});var Pi=Q(kr=>{E();_();var ut=gr();Object.defineProperty(kr,"__esModule",{value:!0});kr.default=void 0;var ct=ut(Oi()),Tr=ut(ji()),Ra=ut(vr()),Pa=ut(br()),Da=ut(mr()),Ua=ut(wr()),Na=ut(xr()),Ri=ut(Sr()),Ma=mn();function La(e){var t=$a();return function(){var n=(0,Ri.default)(e),i;if(t){var o=(0,Ri.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Na.default)(this,i)}}function $a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ka=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Va=function(e){(0,Ua.default)(r,e);var t=La(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,Pa.default)(this,r);var c=s.autoconnect,l=c===void 0?!0:c,h=s.reconnect,f=h===void 0?!0:h,y=s.reconnect_interval,g=y===void 0?1e3:y,w=s.max_reconnects,x=w===void 0?5:w,I=Ka(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=t.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=l,i.ready=!1,i.reconnect=f,i.reconnect_timer_id=void 0,i.reconnect_interval=g,i.max_reconnects=x,i.rest_options=I,i.current_reconnects=0,i.generate_request_id=a||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,Da.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,a){var c=this;return!a&&(0,Ra.default)(s)==="object"&&(a=s,s=null),new Promise(function(l,h){if(!c.ready)return h(new Error("socket not ready"));var f=c.generate_request_id(i,o),y={jsonrpc:"2.0",method:i,params:o||null,id:f};c.socket.send(JSON.stringify(y),a,function(g){if(g)return h(g);c.queue[f]={promise:[l,h]},s&&(c.queue[f].timeout=setTimeout(function(){delete c.queue[f],h(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,Tr.default)(ct.default.mark(function o(s){var a;return ct.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.call("rpc.login",s);case 2:if(a=l.sent,a){l.next=5;break}throw new Error("authentication failed");case 5:return l.abrupt("return",a);case 6:case"end":return l.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,Tr.default)(ct.default.mark(function o(){return ct.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(a,c){if(!s.ready)return c(new Error("socket not ready"));var l={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(l),function(h){if(h)return c(h);a()})})}},{key:"subscribe",value:function(){var n=(0,Tr.default)(ct.default.mark(function o(s){var a;return ct.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return typeof s=="string"&&(s=[s]),l.next=3,this.call("rpc.on",s);case 3:if(a=l.sent,!(typeof s=="string"&&a[s]!=="ok")){l.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+a[s]);case 6:return l.abrupt("return",a);case 7:case"end":return l.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,Tr.default)(ct.default.mark(function o(s){var a;return ct.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return typeof s=="string"&&(s=[s]),l.next=3,this.call("rpc.off",s);case 3:if(a=l.sent,!(typeof s=="string"&&a[s]!=="ok")){l.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return l.abrupt("return",a);case 7:case"end":return l.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(a){var c=a.data;c instanceof ArrayBuffer&&(c=N.Buffer.from(c).toString());try{c=JSON.parse(c)}catch{return}if(c.notification&&s.listeners(c.notification).length){if(!Object.keys(c.params).length)return s.emit(c.notification);var l=[c.notification];if(c.params.constructor===Object)l.push(c.params);else for(var h=0;h<c.params.length;h++)l.push(c.params[h]);return Promise.resolve().then(function(){s.emit.apply(s,l)})}if(!s.queue[c.id])return c.method&&c.params?Promise.resolve().then(function(){s.emit(c.method,c.params)}):void 0;"error"in c=="result"in c&&s.queue[c.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[c.id].timeout&&clearTimeout(s.queue[c.id].timeout),c.error?s.queue[c.id].promise[1](c.error):s.queue[c.id].promise[0](c.result),delete s.queue[c.id]}),this.socket.addEventListener("error",function(a){return s.emit("error",a)}),this.socket.addEventListener("close",function(a){var c=a.code,l=a.reason;s.ready&&setTimeout(function(){return s.emit("close",c,l)},0),s.ready=!1,s.socket=void 0,c!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(Ma.EventEmitter);kr.default=Va});var Ui=Q(Cr=>{E();_();var xt=gr();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Client=void 0;var Fa=xt(mr()),Ga=xt(br()),qa=xt(wr()),Ha=xt(xr()),Di=xt(Sr()),Wa=xt(ki()),za=xt(Pi());function Ja(e){var t=Xa();return function(){var n=(0,Di.default)(e),i;if(t){var o=(0,Di.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Ha.default)(this,i)}}function Xa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ya=function(e){(0,qa.default)(r,e);var t=Ja(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.autoconnect,s=o===void 0?!0:o,a=i.reconnect,c=a===void 0?!0:a,l=i.reconnect_interval,h=l===void 0?1e3:l,f=i.max_reconnects,y=f===void 0?5:f,g=arguments.length>2?arguments[2]:void 0;return(0,Ga.default)(this,r),t.call(this,Wa.default,n,{autoconnect:s,reconnect:c,reconnect_interval:h,max_reconnects:y},g)}return(0,Fa.default)(r)}(za.default);Cr.Client=Ya});var Li=Q((qh,Mi)=>{E();_();function Ni(e){return/^\d+\.\d+\.\d+$/.test(e)}function Ie(e){if(!Ni(e))throw new Error("Invalid semver version: "+e);let[t,r,n]=e.split(".").map(i=>parseInt(i,10));return{major:t,minor:r,patch:n}}function Za(e,t){let r=Ie(e),n=Ie(t);return r.major!==n.major?r.major<n.major:r.minor!==n.minor?r.minor<n.minor:r.patch!==n.patch?r.patch<n.patch:!1}function Qa(e,t){let r=Ie(e),n=Ie(t);return r.major!==n.major?r.major<=n.major:r.minor!==n.minor?r.minor<=n.minor:r.patch!==n.patch?r.patch<=n.patch:!0}function ec(e,t){let r=Ie(e),n=Ie(t);return r.major!==n.major?r.major>n.major:r.minor!==n.minor?r.minor>n.minor:r.patch!==n.patch?r.patch>n.patch:!1}function tc(e,t){let r=Ie(e),n=Ie(t);return r.major!==n.major?r.major>=n.major:r.minor!==n.minor?r.minor>=n.minor:r.patch!==n.patch?r.patch>=n.patch:!0}function rc(e,t){return Ie(e),Ie(t),e===t}Mi.exports={isValid:Ni,parse:Ie,lt:Za,lte:Qa,gt:ec,gte:tc,eq:rc}});E();_();var Et=yt(zr(),1);E();_();var Xr=yt(no(),1);function io(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0}function q(e,t){for(var r=e.replace(/[^A-Za-z0-9+/]/g,""),n=r.length,i=t?Math.ceil((n*3+1>>2)/t)*t:n*3+1>>2,o=new Uint8Array(i),s,a,c=0,l=0,h=0;h<n;h++)if(a=h&3,c|=io(r.charCodeAt(h))<<6*(3-a),a===3||n-h===1){for(s=0;s<3&&l<i;s++,l++)o[l]=c>>>(16>>>s&24)&255;c=0}return o}function rr(e){return e<26?e+65:e<52?e+71:e<62?e-4:e===62?43:e===63?47:65}function H(e){for(var t=2,r="",n=e.length,i=0,o=0;o<n;o++)t=o%3,o>0&&o*4/3%76===0&&(r+=""),i|=e[o]<<(16>>>t&24),(t===2||e.length-o===1)&&(r+=String.fromCodePoint(rr(i>>>18&63),rr(i>>>12&63),rr(i>>>6&63),rr(i&63)),i=0);return r.slice(0,r.length-2+t)+(t===2?"":t===1?"=":"==")}function Mt(e){let t=e.replace("0x","").match(/.{1,2}/g).map(r=>parseInt(r,16));if(t===null)throw new Error(`Unable to parse HEX: ${e}`);return Uint8Array.from(t)}function Lt(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}var so=32;function Jr(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e=e/BigInt(256),n+=1;return r}var nr=e=>Xr.default.encode(e),ir=e=>Xr.default.decode(e),oo=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),r=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read128(){let e=BigInt(this.read64()),r=BigInt(this.read64()).toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read256(){let e=BigInt(this.read128()),r=BigInt(this.read128()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+r).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=uo(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}},ao=class{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let t=this.bytePosition+e;if(t>this.size){let r=Math.min(this.maxSize,this.size+this.allocateSize);if(t>r)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=r;let n=new ArrayBuffer(this.size);new Uint8Array(n).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(n)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return Jr(BigInt(e),8).forEach(t=>this.write8(t)),this}write128(e){return Jr(BigInt(e),16).forEach(t=>this.write8(t)),this}write256(e){return Jr(BigInt(e),32).forEach(t=>this.write8(t)),this}writeULEB(e){return co(e).forEach(t=>this.write8(t)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return lo(this.toBytes(),e)}};function co(e){let t=[],r=0;if(e===0)return[0];for(;e>0;)t[r]=e&127,(e>>=7)&&(t[r]|=128),r+=1;return t}function uo(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(i&127)<<r,(i&128)===0)break;r+=7}return{value:t,length:n}}var Nt=class{constructor(e){if(this.types=new Map,this.counter=0,e instanceof Nt){this.schema=e.schema,this.types=new Map(e.types);return}if(this.schema=e,this.registerAddressType(Nt.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);e.withPrimitives!==!1&&ho(this)}tempKey(){return`bcs-struct-${++this.counter}`}ser(e,t,r){if(typeof e=="string"||Array.isArray(e)){let{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).encode(this,t,r,i)}if(typeof e=="object"){let n=this.tempKey();return new Nt(this).registerStructType(n,e).ser(n,t,r)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(e)}`)}de(e,t,r){if(typeof t=="string")if(r)t=fo(t,r);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof e=="string"||Array.isArray(e)){let{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).decode(this,t,i)}if(typeof e=="object"){let n=new Nt(this),i=this.tempKey();return n.registerStructType(i,e).de(i,t,r)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=()=>!0){let{name:i,params:o}=this.parseTypeName(e);return this.types.set(i,{encode(s,a,c,l){let h=o.reduce((f,y,g)=>Object.assign(f,{[y]:l[g]}),{});return this._encodeRaw.call(s,new ao(c),a,l,h)},decode(s,a,c){let l=o.reduce((h,f,y)=>Object.assign(h,{[f]:c[y]}),{});return this._decodeRaw.call(s,new oo(a),c,l)},_encodeRaw(s,a,c,l){if(n(a))return t.call(this,s,a,c,l);throw new Error(`Validation failed for type ${i}, data: ${a}`)},_decodeRaw(s,a,c){return r.call(this,s,a,c)}}),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,function(i,o){return q(o).reduce((s,a)=>s.write8(a),i)},function(i){return H(i.readBytes(t))});case"hex":return this.registerType(e,function(i,o){return Mt(o).reduce((s,a)=>s.write8(a),i)},function(i){return Lt(i.readBytes(t))});default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,function(i,o,s,a){return i.writeVec(o,(c,l)=>{let h=s[0];if(!h)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:f,params:y}=this.parseTypeName(h);if(this.hasType(f))return this.getTypeInterface(f)._encodeRaw.call(this,c,l,y,a);if(!(f in a))throw new Error(`Unable to find a matching type definition for ${f} in vector; make sure you passed a generic`);let{name:g,params:w}=this.parseTypeName(a[f]);return this.getTypeInterface(g)._encodeRaw.call(this,c,l,w,a)})},function(i,o,s){return i.readVec(a=>{let c=o[0];if(!c)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:l,params:h}=this.parseTypeName(c);if(this.hasType(l))return this.getTypeInterface(l)._decodeRaw.call(this,a,h,s);if(!(l in s))throw new Error(`Unable to find a matching type definition for ${l} in vector; make sure you passed a generic`);let{name:f,params:y}=this.parseTypeName(s[l]);this.getTypeInterface(f)._decodeRaw.call(this,a,y,s)})})}registerStructType(e,t){for(let s in t){let a=this.tempKey(),c=t[s];!Array.isArray(c)&&typeof c!="string"&&(t[s]=a,this.registerStructType(a,c))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,function(a,c,l,h){if(!c||c.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${c}`);if(l.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${l.length}`);for(let f of n){if(!(f in c))throw new Error(`Struct ${i} requires field ${f}:${r[f]}`);let{name:y,params:g}=this.parseTypeName(r[f]);if(!o.includes(y))this.getTypeInterface(y)._encodeRaw.call(this,a,c[f],g,h);else{let w=o.indexOf(y),{name:x,params:I}=this.parseTypeName(l[w]);if(this.hasType(x)){this.getTypeInterface(x)._encodeRaw.call(this,a,c[f],I,h);continue}if(!(x in h))throw new Error(`Unable to find a matching type definition for ${x} in ${i}; make sure you passed a generic`);let{name:F,params:Z}=this.parseTypeName(h[x]);this.getTypeInterface(F)._encodeRaw.call(this,a,c[f],Z,h)}}return a},function(a,c,l){if(c.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${c.length}`);let h={};for(let f of n){let{name:y,params:g}=this.parseTypeName(r[f]);if(!o.includes(y))h[f]=this.getTypeInterface(y)._decodeRaw.call(this,a,g,l);else{let w=o.indexOf(y),{name:x,params:I}=this.parseTypeName(c[w]);if(this.hasType(x)){h[f]=this.getTypeInterface(x)._decodeRaw.call(this,a,I,l);continue}if(!(x in l))throw new Error(`Unable to find a matching type definition for ${x} in ${i}; make sure you passed a generic`);let{name:F,params:Z}=this.parseTypeName(l[x]);h[f]=this.getTypeInterface(F)._decodeRaw.call(this,a,Z,l)}}return h})}registerEnumType(e,t){for(let s in t){let a=this.tempKey(),c=t[s];c!==null&&!Array.isArray(c)&&typeof c!="string"&&(t[s]=a,this.registerStructType(a,c))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,function(a,c,l,h){if(!c)throw new Error(`Unable to write enum "${i}", missing data.
Received: "${c}"`);if(typeof c!="object")throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".
Received: "${JSON.stringify(c)}"`);let f=Object.keys(c)[0];if(f===void 0)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let y=n.indexOf(f);if(y===-1)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${f}"`);let g=n[y],w=r[g];if(a.write8(y),w===null)return a;let x=o.indexOf(w),I=x===-1?w:l[x];{let{name:F,params:Z}=this.parseTypeName(I);return this.getTypeInterface(F)._encodeRaw.call(this,a,c[f],Z,h)}},function(a,c,l){let h=a.readULEB(),f=n[h],y=r[f];if(h===-1)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${h}"`);if(y===null)return{[f]:!0};let g=o.indexOf(y),w=g===-1?y:c[g];{let{name:x,params:I}=this.parseTypeName(w);return{[f]:this.getTypeInterface(x)._decodeRaw.call(this,a,I,l)}}})}getTypeInterface(e){let t=this.types.get(e);if(typeof t=="string"){let r=[];for(;typeof t=="string";){if(r.includes(t))throw new Error(`Recursive definition found: ${r.join(" -> ")} -> ${t}`);r.push(t),t=this.types.get(t)}}if(t===void 0)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[a,...c]=e;return{name:a,params:c}}if(typeof e!="string")throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(n===-1&&i===-1)return{name:e,params:[]};if(n===-1||i===-1)throw new Error(`Unclosed generic in name '${e}'`);let o=e.slice(0,n),s=e.slice(n+1,e.length-i-1).split(",").map(a=>a.trim());return{name:o,params:s}}},k=Nt;k.U8="u8";k.U16="u16";k.U32="u32";k.U64="u64";k.U128="u128";k.U256="u256";k.BOOL="bool";k.VECTOR="vector";k.ADDRESS="address";k.STRING="string";k.HEX="hex-string";k.BASE58="base58-string";k.BASE64="base64-string";function lo(e,t){switch(t){case"base58":return nr(e);case"base64":return H(e);case"hex":return Lt(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function fo(e,t){switch(t){case"base58":return ir(e);case"base64":return q(e);case"hex":return Mt(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function ho(e){e.registerType(k.U8,function(t,r){return t.write8(r)},function(t){return t.read8()},t=>t<256),e.registerType(k.U16,function(t,r){return t.write16(r)},function(t){return t.read16()},t=>t<65536),e.registerType(k.U32,function(t,r){return t.write32(r)},function(t){return t.read32()},t=>t<=4294967296n),e.registerType(k.U64,function(t,r){return t.write64(r)},function(t){return t.read64()}),e.registerType(k.U128,function(t,r){return t.write128(r)},function(t){return t.read128()}),e.registerType(k.U256,function(t,r){return t.write256(r)},function(t){return t.read256()}),e.registerType(k.BOOL,function(t,r){return t.write8(r)},function(t){return t.read8().toString(10)==="1"}),e.registerType(k.STRING,function(t,r){return t.writeVec(Array.from(r),(n,i)=>n.write8(i.charCodeAt(0)))},function(t){return t.readVec(r=>r.read8()).map(r=>String.fromCharCode(Number(r))).join("")},t=>!0),e.registerType(k.HEX,function(t,r){return t.writeVec(Array.from(Mt(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return Lt(new Uint8Array(r))}),e.registerType(k.BASE58,function(t,r){return t.writeVec(Array.from(ir(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return nr(new Uint8Array(r))}),e.registerType(k.BASE64,function(t,r){return t.writeVec(Array.from(q(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return H(new Uint8Array(r))})}function Xn(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:so,addressEncoding:"hex"}}E();_();E();_();E();_();function Ue(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function po(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function he(e,...t){if(!po(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function sr(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ue(e.outputLen),Ue(e.blockLen)}function Ke(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function or(e,t){he(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}E();_();var Ot=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Ne=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ce=(e,t)=>e<<32-t|e>>>t,$t=(e,t)=>e<<t|e>>>32-t>>>0,Ze=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Zn=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,Ae=Ze?e=>e:e=>Zn(e);function gt(e){for(let t=0;t<e.length;t++)e[t]=Zn(e[t])}var yo=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qe(e){he(e);let t="";for(let r=0;r<e.length;r++)t+=yo[e[r]];return t}var Ve={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Yn(e){if(e>=Ve._0&&e<=Ve._9)return e-Ve._0;if(e>=Ve._A&&e<=Ve._F)return e-(Ve._A-10);if(e>=Ve._a&&e<=Ve._f)return e-(Ve._a-10)}function Qn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Yn(e.charCodeAt(o)),a=Yn(e.charCodeAt(o+1));if(s===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function Yr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ie(e){return typeof e=="string"&&(e=Yr(e)),he(e),e}function Kt(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];he(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Ye=class{clone(){return this._cloneInto()}},go={}.toString;function ei(e,t){if(t!==void 0&&go.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function It(e){let t=n=>e().update(ie(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ti(e){let t=(n,i)=>e(i).update(ie(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function mo(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)}var ri=(e,t,r)=>e&t^~e&r,ni=(e,t,r)=>e&t^e&r^t&r,et=class extends Ye{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ne(this.buffer)}update(t){Ke(this);let{view:r,buffer:n,blockLen:i}=this;t=ie(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=Ne(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ke(this),or(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;mo(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=Ne(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,h[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var bo=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rt=new Uint32Array(64),Zr=class extends et{constructor(){super(64,32,8,!1),this.A=tt[0]|0,this.B=tt[1]|0,this.C=tt[2]|0,this.D=tt[3]|0,this.E=tt[4]|0,this.F=tt[5]|0,this.G=tt[6]|0,this.H=tt[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)rt[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let y=rt[f-15],g=rt[f-2],w=Ce(y,7)^Ce(y,18)^y>>>3,x=Ce(g,17)^Ce(g,19)^g>>>10;rt[f]=x+rt[f-7]+w+rt[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:h}=this;for(let f=0;f<64;f++){let y=Ce(a,6)^Ce(a,11)^Ce(a,25),g=h+y+ri(a,c,l)+bo[f]+rt[f]|0,x=(Ce(n,2)^Ce(n,13)^Ce(n,22))+ni(n,i,o)|0;h=l,l=c,c=a,a=s+g|0,s=o,o=i,i=n,n=g+x|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,i,o,s,a,c,l,h)}roundClean(){rt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var mt=It(()=>new Zr);E();_();E();_();var ii=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),ar=class extends Ye{constructor(t,r,n={},i,o,s){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Ue(t),Ue(r),Ue(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=Ot(this.buffer=new Uint8Array(t))}update(t){Ke(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=ie(t);let o=t.length,s=t.byteOffset,a=t.buffer;for(let c=0;c<o;){this.pos===r&&(Ze||gt(i),this.compress(i,0,!1),Ze||gt(i),this.pos=0);let l=Math.min(r-this.pos,o-c),h=s+c;if(l===r&&!(h%4)&&c+l<o){let f=new Uint32Array(a,h,Math.floor((o-c)/4));Ze||gt(f);for(let y=0;c+r<o;y+=i.length,c+=r)this.length+=r,this.compress(f,y,!1);Ze||gt(f);continue}n.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){Ke(this),or(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Ze||gt(n),this.compress(n,0,!0),Ze||gt(n);let i=Ot(t);this.get().forEach((o,s)=>i[s]=Ae(o))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=o,t.outputLen=s,t.buffer.set(r),t.pos=a,t}};E();_();var cr=BigInt(4294967295),Qr=BigInt(32);function si(e,t=!1){return t?{h:Number(e&cr),l:Number(e>>Qr&cr)}:{h:Number(e>>Qr&cr)|0,l:Number(e&cr)|0}}function wo(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=si(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var vo=(e,t)=>BigInt(e>>>0)<<Qr|BigInt(t>>>0),xo=(e,t,r)=>e>>>r,So=(e,t,r)=>e<<32-r|t>>>r,Eo=(e,t,r)=>e>>>r|t<<32-r,_o=(e,t,r)=>e<<32-r|t>>>r,To=(e,t,r)=>e<<64-r|t>>>r-32,ko=(e,t,r)=>e>>>r-32|t<<64-r,Co=(e,t)=>t,Ao=(e,t)=>e,Bo=(e,t,r)=>e<<r|t>>>32-r,Oo=(e,t,r)=>t<<r|e>>>32-r,Io=(e,t,r)=>t<<r-32|e>>>64-r,jo=(e,t,r)=>e<<r-32|t>>>64-r;function Ro(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Po=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Do=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Uo=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),No=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Mo=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Lo=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;var $o={fromBig:si,split:wo,toBig:vo,shrSH:xo,shrSL:So,rotrSH:Eo,rotrSL:_o,rotrBH:To,rotrBL:ko,rotr32H:Co,rotr32L:Ao,rotlSH:Bo,rotlSL:Oo,rotlBH:Io,rotlBL:jo,add:Ro,add3L:Po,add3H:Do,add4L:Uo,add4H:No,add5H:Lo,add5L:Mo},C=$o;var X=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),v=new Uint32Array(32);function nt(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=v[2*e],l=v[2*e+1],h=v[2*t],f=v[2*t+1],y=v[2*r],g=v[2*r+1],w=v[2*n],x=v[2*n+1],I=C.add3L(c,h,s);l=C.add3H(I,l,f,a),c=I|0,{Dh:x,Dl:w}={Dh:x^l,Dl:w^c},{Dh:x,Dl:w}={Dh:C.rotr32H(x,w),Dl:C.rotr32L(x,w)},{h:g,l:y}=C.add(g,y,x,w),{Bh:f,Bl:h}={Bh:f^g,Bl:h^y},{Bh:f,Bl:h}={Bh:C.rotrSH(f,h,24),Bl:C.rotrSL(f,h,24)},v[2*e]=c,v[2*e+1]=l,v[2*t]=h,v[2*t+1]=f,v[2*r]=y,v[2*r+1]=g,v[2*n]=w,v[2*n+1]=x}function it(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=v[2*e],l=v[2*e+1],h=v[2*t],f=v[2*t+1],y=v[2*r],g=v[2*r+1],w=v[2*n],x=v[2*n+1],I=C.add3L(c,h,s);l=C.add3H(I,l,f,a),c=I|0,{Dh:x,Dl:w}={Dh:x^l,Dl:w^c},{Dh:x,Dl:w}={Dh:C.rotrSH(x,w,16),Dl:C.rotrSL(x,w,16)},{h:g,l:y}=C.add(g,y,x,w),{Bh:f,Bl:h}={Bh:f^g,Bl:h^y},{Bh:f,Bl:h}={Bh:C.rotrBH(f,h,63),Bl:C.rotrBL(f,h,63)},v[2*e]=c,v[2*e+1]=l,v[2*t]=h,v[2*t+1]=f,v[2*r]=y,v[2*r+1]=g,v[2*n]=w,v[2*n+1]=x}var en=class extends ar{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=X[0]|0,this.v0h=X[1]|0,this.v1l=X[2]|0,this.v1h=X[3]|0,this.v2l=X[4]|0,this.v2h=X[5]|0,this.v3l=X[6]|0,this.v3h=X[7]|0,this.v4l=X[8]|0,this.v4h=X[9]|0,this.v5l=X[10]|0,this.v5h=X[11]|0,this.v6l=X[12]|0,this.v6h=X[13]|0,this.v7l=X[14]|0,this.v7h=X[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=Ot(ie(t.salt));this.v4l^=Ae(n[0]),this.v4h^=Ae(n[1]),this.v5l^=Ae(n[2]),this.v5h^=Ae(n[3])}if(t.personalization){let n=Ot(ie(t.personalization));this.v6l^=Ae(n[0]),this.v6h^=Ae(n[1]),this.v7l^=Ae(n[2]),this.v7h^=Ae(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set(ie(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:a,v3h:c,v4l:l,v4h:h,v5l:f,v5h:y,v6l:g,v6h:w,v7l:x,v7h:I}=this;return[t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I]}set(t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=h|0,this.v5l=f|0,this.v5h=y|0,this.v6l=g|0,this.v6h=w|0,this.v7l=x|0,this.v7h=I|0}compress(t,r,n){this.get().forEach((c,l)=>v[l]=c),v.set(X,16);let{h:i,l:o}=C.fromBig(BigInt(this.length));v[24]=X[8]^o,v[25]=X[9]^i,n&&(v[28]=~v[28],v[29]=~v[29]);let s=0,a=ii;for(let c=0;c<12;c++)nt(0,4,8,12,t,r+2*a[s++]),it(0,4,8,12,t,r+2*a[s++]),nt(1,5,9,13,t,r+2*a[s++]),it(1,5,9,13,t,r+2*a[s++]),nt(2,6,10,14,t,r+2*a[s++]),it(2,6,10,14,t,r+2*a[s++]),nt(3,7,11,15,t,r+2*a[s++]),it(3,7,11,15,t,r+2*a[s++]),nt(0,5,10,15,t,r+2*a[s++]),it(0,5,10,15,t,r+2*a[s++]),nt(1,6,11,12,t,r+2*a[s++]),it(1,6,11,12,t,r+2*a[s++]),nt(2,7,8,13,t,r+2*a[s++]),it(2,7,8,13,t,r+2*a[s++]),nt(3,4,9,14,t,r+2*a[s++]),it(3,4,9,14,t,r+2*a[s++]);this.v0l^=v[0]^v[16],this.v0h^=v[1]^v[17],this.v1l^=v[2]^v[18],this.v1h^=v[3]^v[19],this.v2l^=v[4]^v[20],this.v2h^=v[5]^v[21],this.v3l^=v[6]^v[22],this.v3h^=v[7]^v[23],this.v4l^=v[8]^v[24],this.v4h^=v[9]^v[25],this.v5l^=v[10]^v[26],this.v5h^=v[11]^v[27],this.v6l^=v[12]^v[28],this.v6h^=v[13]^v[29],this.v7l^=v[14]^v[30],this.v7h^=v[15]^v[31],v.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},we=ti(e=>new en(e));E();_();var tn=class extends TypeError{constructor(t,r){let n,{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}};function Ko(e){return ve(e)&&typeof e[Symbol.iterator]=="function"}function ve(e){return typeof e=="object"&&e!=null}function xe(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Vo(e){let{done:t,value:r}=e.next();return t?void 0:r}function Fo(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});let{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${xe(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*oi(e,t,r,n){Ko(e)||(e=[e]);for(let i of e){let o=Fo(i,t,r,n);o&&(yield o)}}function*rn(e,t,r={}){let{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&ve(t.schema)&&ve(e)&&!Array.isArray(e)))for(let l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(let l of t.validator(e,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,h,f]of t.entries(e,a)){let y=rn(h,f,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,h],coerce:o,mask:s,message:r.message});for(let g of y)g[0]?(c=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):o&&(h=g[1],l===void 0?e=h:e instanceof Map?e.set(l,h):e instanceof Set?e.add(h):ve(e)&&(h!==void 0||l in e)&&(e[l]=h))}if(c!=="not_valid")for(let l of t.refiner(e,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}var Se=class{constructor(t){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{let h=i(c,l);return oi(h,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{let h=o(c,l);return oi(h,l,this,c)}:this.refiner=()=>[]}assert(t,r){return bt(t,this,r)}create(t,r){return nn(t,this,r)}is(t){return K(t,this)}mask(t,r){return sn(t,this,r)}validate(t,r={}){return wt(t,this,r)}};function bt(e,t,r){let n=wt(e,t,{message:r});if(n[0])throw n[0]}function nn(e,t,r){let n=wt(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function sn(e,t,r){let n=wt(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function K(e,t){return!wt(e,t)[0]}function wt(e,t,r={}){let n=rn(e,t,r),i=Vo(n);return i[0]?[new tn(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Be(...e){let t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Go(n):d(n)}function se(e,t){return new Se({type:e,schema:null,validator:t})}function re(){return se("any",()=>!0)}function p(e){return new Se({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${xe(t)}`}})}function U(){return se("boolean",e=>typeof e=="boolean")}function Ee(){return se("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${xe(e)}`)}function T(e){let t=xe(e),r=typeof e;return new Se({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${xe(n)}`}})}function ai(){return se("never",()=>!1)}function D(e){return new Se({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function B(){return se("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${xe(e)}`)}function d(e){let t=e?Object.keys(e):[],r=ai();return new Se({type:"object",schema:e||null,*entries(n){if(e&&ve(n)){let i=new Set(Object.keys(n));for(let o of t)i.delete(o),yield[o,n[o],e[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return ve(n)||`Expected an object, but received: ${xe(n)}`},coercer(n){return ve(n)?{...n}:n}})}function b(e){return new Se({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function _e(e,t){return new Se({type:"record",schema:null,*entries(r){if(ve(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return ve(r)||`Expected an object, but received: ${xe(r)}`}})}function u(){return se("string",e=>typeof e=="string"||`Expected a string, but received: ${xe(e)}`)}function Y(e){let t=ai();return new Se({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${xe(r)}`}})}function Go(e){let t=Object.keys(e);return new Se({type:"type",schema:e,*entries(r){if(ve(r))for(let n of t)yield[n,r[n],e[n]]},validator(r){return ve(r)||`Expected an object, but received: ${xe(r)}`},coercer(r){return ve(r)?{...r}:r}})}function j(e){let t=e.map(r=>r.type).join(" | ");return new Se({type:"union",schema:null,coercer(r){for(let n of e){let[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){let i=[];for(let o of e){let[...s]=rn(r,o,n),[a]=s;if(a[0])for(let[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${xe(r)}`,...i]}})}E();_();E();_();E();_();var ur=class extends Ye{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,sr(t);let n=ie(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Ke(this),this.iHash.update(t),this}digestInto(t){Ke(this),he(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fe=(e,t,r)=>new ur(e,t).update(r).digest();Fe.create=(e,t)=>new ur(e,t);function qo(e,t,r,n){sr(e);let i=ei({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(Ue(o),Ue(s),Ue(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=ie(t),l=ie(r),h=new Uint8Array(s),f=Fe.create(e,c),y=f._cloneInto().update(l);return{c:o,dkLen:s,asyncTick:a,DK:h,PRF:f,PRFSalt:y}}function Ho(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function ci(e,t,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=qo(e,t,r,n),l,h=new Uint8Array(4),f=Ne(h),y=new Uint8Array(a.outputLen);for(let g=1,w=0;w<o;g++,w+=a.outputLen){let x=s.subarray(w,w+a.outputLen);f.setInt32(0,g,!1),(l=c._cloneInto(l)).update(h).digestInto(y),x.set(y.subarray(0,x.length));for(let I=1;I<i;I++){a._cloneInto(l).update(y).digestInto(y);for(let F=0;F<x.length;F++)x[F]^=y[F]}}return Ho(a,c,s,l,y)}E();_();var[Wo,zo]=(()=>C.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),st=new Uint32Array(80),ot=new Uint32Array(80),on=class extends et{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:h,Fh:f,Fl:y,Gh:g,Gl:w,Hh:x,Hl:I}=this;return[t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I]}set(t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=h|0,this.Fh=f|0,this.Fl=y|0,this.Gh=g|0,this.Gl=w|0,this.Hh=x|0,this.Hl=I|0}process(t,r){for(let L=0;L<16;L++,r+=4)st[L]=t.getUint32(r),ot[L]=t.getUint32(r+=4);for(let L=16;L<80;L++){let fe=st[L-15]|0,z=ot[L-15]|0,Te=C.rotrSH(fe,z,1)^C.rotrSH(fe,z,8)^C.shrSH(fe,z,7),pt=C.rotrSL(fe,z,1)^C.rotrSL(fe,z,8)^C.shrSL(fe,z,7),de=st[L-2]|0,be=ot[L-2]|0,S=C.rotrSH(de,be,19)^C.rotrBH(de,be,61)^C.shrSH(de,be,6),m=C.rotrSL(de,be,19)^C.rotrBL(de,be,61)^C.shrSL(de,be,6),A=C.add4L(pt,m,ot[L-7],ot[L-16]),O=C.add4H(A,Te,S,st[L-7],st[L-16]);st[L]=O|0,ot[L]=A|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:h,Eh:f,El:y,Fh:g,Fl:w,Gh:x,Gl:I,Hh:F,Hl:Z}=this;for(let L=0;L<80;L++){let fe=C.rotrSH(f,y,14)^C.rotrSH(f,y,18)^C.rotrBH(f,y,41),z=C.rotrSL(f,y,14)^C.rotrSL(f,y,18)^C.rotrBL(f,y,41),Te=f&g^~f&x,pt=y&w^~y&I,de=C.add5L(Z,z,pt,zo[L],ot[L]),be=C.add5H(de,F,fe,Te,Wo[L],st[L]),S=de|0,m=C.rotrSH(n,i,28)^C.rotrBH(n,i,34)^C.rotrBH(n,i,39),A=C.rotrSL(n,i,28)^C.rotrBL(n,i,34)^C.rotrBL(n,i,39),O=n&o^n&a^o&a,R=i&s^i&c^s&c;F=x|0,Z=I|0,x=g|0,I=w|0,g=f|0,w=y|0,{h:f,l:y}=C.add(l|0,h|0,be|0,S|0),l=a|0,h=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let P=C.add3L(S,A,R);n=C.add3H(P,be,m,O),i=P|0}({h:n,l:i}=C.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=C.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=C.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:h}=C.add(this.Dh|0,this.Dl|0,l|0,h|0),{h:f,l:y}=C.add(this.Eh|0,this.El|0,f|0,y|0),{h:g,l:w}=C.add(this.Fh|0,this.Fl|0,g|0,w|0),{h:x,l:I}=C.add(this.Gh|0,this.Gl|0,x|0,I|0),{h:F,l:Z}=C.add(this.Hh|0,this.Hl|0,F|0,Z|0),this.set(n,i,o,s,a,c,l,h,f,y,g,w,x,I,F,Z)}roundClean(){st.fill(0),ot.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var at=It(()=>new on);E();_();function vt(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function lr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ce(...e){let t=o=>o,r=(o,s)=>a=>o(s(a)),n=e.map(o=>o.encode).reduceRight(r,t),i=e.map(o=>o.decode).reduce(r,t);return{encode:n,decode:i}}function pe(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(vt(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function ye(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function dr(e,t="="){if(vt(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function fi(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function ui(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(s=>{if(vt(s),s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let c=n;c<o.length;c++){let l=o[c],h=t*s+l;if(!Number.isSafeInteger(h)||t*s/t!==s||h-l!==t*s)throw new Error("convertRadix: carry overflow");s=h%r;let f=Math.floor(h/r);if(o[c]=f,!Number.isSafeInteger(f)||f*r+s!==h)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:n=c;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}var di=(e,t)=>t?di(t,e%t):e,fr=(e,t)=>e+(t-di(e,t));function li(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(fr(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${fr(t,r)}`);let i=0,o=0,s=2**r-1,a=[];for(let c of e){if(vt(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function Jo(e){return vt(e),{encode:t=>{if(!lr(t))throw new Error("radix.encode input should be Uint8Array");return ui(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(ui(t,e,2**8))}}}function Oe(e,t=!1){if(vt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(fr(8,e)>32||fr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!lr(r))throw new Error("radix2.encode input should be Uint8Array");return li(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(li(r,e,8,t))}}}function Xo(e,t){if(vt(e),typeof t!="function")throw new Error("checksum fn should be function");return{encode(r){if(!lr(r))throw new Error("checksum.encode: input should be Uint8Array");let n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!lr(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let s=0;s<e;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var hd=ce(Oe(4),pe("0123456789ABCDEF"),ye("")),pd=ce(Oe(5),pe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),dr(5),ye("")),yd=ce(Oe(5),pe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ye("")),gd=ce(Oe(5),pe("0123456789ABCDEFGHIJKLMNOPQRSTUV"),dr(5),ye("")),md=ce(Oe(5),pe("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ye("")),bd=ce(Oe(5),pe("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),ye(""),fi(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),wd=ce(Oe(6),pe("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),dr(6),ye("")),vd=ce(Oe(6),pe("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ye("")),xd=ce(Oe(6),pe("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),dr(6),ye("")),Sd=ce(Oe(6),pe("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ye("")),Yo=e=>ce(Jo(58),pe(e),ye("")),Zo=Yo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var hi=e=>ce(Xo(4,t=>e(e(t))),Zo);var Ed=ce(pe("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ye(""));var _d=ce(Oe(4),pe("0123456789abcdef"),ye(""),fi(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));function pi(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function Qo(e){let t=pi(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}var ea=e=>pi(`mnemonic${e}`);function yi(e,t=""){return ci(at,Qo(e).nfkd,ea(t),{c:2048,dkLen:64})}E();_();E();_();var ta=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),mi=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),ra=mi.map(e=>(9*e+5)%16),cn=[mi],un=[ra];for(let e=0;e<4;e++)for(let t of[cn,un])t.push(t[e].map(r=>ta[r]));var bi=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),na=cn.map((e,t)=>e.map(r=>bi[t][r])),ia=un.map((e,t)=>e.map(r=>bi[t][r])),sa=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oa=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function gi(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var hr=new Uint32Array(16),an=class extends et{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(t,r){for(let g=0;g<16;g++,r+=4)hr[g]=t.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,c=a,l=this.h3|0,h=l,f=this.h4|0,y=f;for(let g=0;g<5;g++){let w=4-g,x=sa[g],I=oa[g],F=cn[g],Z=un[g],L=na[g],fe=ia[g];for(let z=0;z<16;z++){let Te=$t(n+gi(g,o,a,l)+hr[F[z]]+x,L[z])+f|0;n=f,f=l,l=$t(a,10)|0,a=o,o=Te}for(let z=0;z<16;z++){let Te=$t(i+gi(w,s,c,h)+hr[Z[z]]+I,fe[z])+y|0;i=y,y=h,h=$t(c,10)|0,c=s,s=Te}}this.set(this.h1+a+h|0,this.h2+l+y|0,this.h3+f+i|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){hr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},wi=It(()=>new an);var pr=W.ProjectivePoint,ln=hi(mt);function vi(e){return BigInt(`0x${Qe(e)}`)}function aa(e){return Qn(e.toString(16).padStart(64,"0"))}var ca=Yr("Bitcoin seed"),fn={private:76066276,public:76067358},dn=2147483648,ua=e=>wi(mt(e)),la=e=>Ne(e).getUint32(0,!1),yr=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);let t=new Uint8Array(4);return Ne(t).setUint32(0,e,!1),t},Me=class{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return la(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let t=this.privateKey;if(!t)throw new Error("No private key");return ln.encode(this.serialize(this.versions.private,Kt(new Uint8Array([0]),t)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return ln.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(t,r=fn){if(he(t),8*t.length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);let n=Fe(at,ca,t);return new Me({versions:r,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(t,r=fn){let n=ln.decode(t),i=Ne(n),o=i.getUint32(0,!1),s={versions:r,depth:n[4],parentFingerprint:i.getUint32(5,!1),index:i.getUint32(9,!1),chainCode:n.slice(13,45)},a=n.slice(45),c=a[0]===0;if(o!==r[c?"private":"public"])throw new Error("Version mismatch");return c?new Me({...s,privateKey:a.slice(1)}):new Me({...s,publicKey:a})}static fromJSON(t){return Me.fromExtendedKey(t.xpriv)}constructor(t){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!t||typeof t!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=t.versions||fn,this.depth=t.depth||0,this.chainCode=t.chainCode||null,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(t.publicKey&&t.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(t.privateKey){if(!W.utils.isValidPrivateKey(t.privateKey))throw new Error("Invalid private key");this.privKey=typeof t.privateKey=="bigint"?t.privateKey:vi(t.privateKey),this.privKeyBytes=aa(this.privKey),this.pubKey=W.getPublicKey(t.privateKey,!0)}else if(t.publicKey)this.pubKey=pr.fromHex(t.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=ua(this.pubKey)}derive(t){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;let r=t.replace(/^[mM]'?\//,"").split("/"),n=this;for(let i of r){let o=/^(\d+)('?)$/.exec(i),s=o&&o[1];if(!o||o.length!==3||typeof s!="string")throw new Error(`Invalid child index: ${i}`);let a=+s;if(!Number.isSafeInteger(a)||a>=dn)throw new Error("Invalid index");o[2]==="'"&&(a+=dn),n=n.deriveChild(a)}return n}deriveChild(t){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let r=yr(t);if(t>=dn){let a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");r=Kt(new Uint8Array([0]),a,r)}else r=Kt(this.pubKey,r);let n=Fe(at,this.chainCode,r),i=vi(n.slice(0,32)),o=n.slice(32);if(!W.utils.isValidPrivateKey(i))throw new Error("Tweak bigger than curve order");let s={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:t};try{if(this.privateKey){let a=Jn(this.privKey+i,W.CURVE.n);if(!W.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=a}else{let a=pr.fromHex(this.pubKey).add(pr.fromPrivateKey(i));if(a.equals(pr.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=a.toRawBytes(!0)}return new Me(s)}catch{return this.deriveChild(t+1)}}sign(t){if(!this.privateKey)throw new Error("No privateKey set!");return he(t,32),W.sign(t,this.privKey).toCompactRawBytes()}verify(t,r){if(he(t,32),he(r,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=W.Signature.fromCompact(r)}catch{return!1}return W.verify(n,t,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(t,r){if(!this.chainCode)throw new Error("No chainCode set");return he(r,33),Kt(yr(t),new Uint8Array([this.depth]),yr(this.parentFingerprint),yr(this.index),this.chainCode,r)}};var Oy=yt(zr(),1);var js=yt(ro(),1);var Ps=yt(Ui(),1);var On=yt(Li(),1);var to=yt(zr(),1);var jn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},V=(e,t,r)=>(jn(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Yt=(e,t,r,n)=>(jn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),kt=(e,t,r)=>(jn(e,t,"access private method"),r),me=u(),nc=u(),ic=u(),M=u(),ae=u(),le=u(),ht=j([d({AddressOwner:ae}),d({ObjectOwner:ae}),d({Shared:d({initial_shared_version:B()})}),T("Immutable")]),sc=se("SuiJsonValue",()=>!0),oc=32;function $i(e){try{return ir(e).length===oc}catch{return!1}}var Kr=32;function ft(e){return ac(e)&&cc(e)===Kr}function Ar(e){return ft(e)}function ee(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Kr*2,"0")}`}function Le(e,t=!1){return ee(e,t)}function ac(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function cc(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}var rp=j([u(),T("package")]),$e=d({digest:me,objectId:u(),version:j([B(),u()])}),uc=d({payment:p($e),owner:u(),price:u(),budget:u()}),lc=Be($e,d({type:u(),owner:ht,previousTransaction:me})),fc=_e(u(),re()),dc=_e(u(),u()),ss=d({type:u(),fields:fc,hasPublicTransfer:U()}),xn=d({disassembled:dc}),hc=j([Be(ss,d({dataType:T("moveObject")})),Be(xn,d({dataType:T("package")}))]),np=d({type:u(),hasPublicTransfer:U(),version:le,bcsBytes:p(B())}),pc=d({id:M,moduleMap:_e(u(),u())}),yc=j([Be(ss,d({dataType:T("moveObject")})),Be(pc,d({dataType:T("package")}))]),ip=9,sp=BigInt(1e9),Bt=u(),os=d({code:u(),error:b(u()),object_id:b(M),version:b(le),digest:b(Bt)}),as=d({data:D(_e(u(),u())),error:D(os)}),gc=j([as,b(_e(u(),u()))]),mc=d({objectId:M,version:le,digest:Bt,type:b(u()),content:b(hc),bcs:b(yc),owner:b(ht),previousTransaction:b(me),storageRebate:b(u()),display:b(gc)}),op=d({showType:b(U()),showContent:b(U()),showBcs:b(U()),showOwner:b(U()),showPreviousTransaction:b(U()),showStorageRebate:b(U()),showDisplay:b(U())}),ap=j([T("Exists"),T("notExists"),T("Deleted")]),cp=p(lc),jr=d({data:b(mc),error:b(os)});function Dt(e){return e.data}function bc(e){if(e.error&&"object_id"in e.error&&"version"in e.error&&"digest"in e.error){let t=e.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}function wc(e){if(e.error&&"object_id"in e.error&&!("version"in e.error)&&!("digest"in e.error))return e.error.object_id}function Vr(e){if("reference"in e)return e.reference;let t=Dt(e);return t?{objectId:t.objectId,version:t.version,digest:t.digest}:bc(e)}function vc(e){return"objectId"in e?e.objectId:Vr(e)?.objectId??wc(e)}function up(e){return"version"in e?e.version:Vr(e)?.version}function xc(e){return e.data!==void 0}function Sc(e){let t=xc(e)?e.data:e;return!t?.type&&"data"in e?t?.content?.dataType==="package"?"package":_c(e):t?.type}function lp(e){return Dt(e)?.previousTransaction}function Rn(e){return K(e,ht)?e:Dt(e)?.owner}function fp(e){let t=Dt(e)?.display;return t?K(t,as)?t:{data:t,error:null}:{data:null,error:null}}function Ec(e){let t=Rn(e);if(typeof t=="object"&&"Shared"in t)return t.Shared.initial_shared_version}function dp(e){let t=Rn(e);return typeof t=="object"&&"Shared"in t}function hp(e){return Rn(e)==="Immutable"}function _c(e){return Pn(e)?.type}function Tc(e){return"fields"in e?e.fields:Pn(e)?.fields}function kc(e){return e.content!==void 0}function Pn(e){let t="data"in e?Dt(e):e;if(!(!t||!kc(t)||t.content.dataType!=="moveObject"))return t.content}function pp(e){return Pn(e)?.hasPublicTransfer??!1}function yp(e){if("disassembled"in e)return e.disassembled;let t=Dt(e);if(t?.content?.dataType==="package")return t.content.disassembled}var Cc=d({objectId:M,atCheckpoint:b(B())}),Ac=d({data:p(jr),nextCursor:j([D(M),D(Cc)]),hasNextPage:U()}),cs=d({txDigest:me,eventSeq:le}),Dn=d({id:cs,packageId:M,transactionModule:u(),sender:ae,type:u(),parsedJson:b(_e(u(),re())),bcs:b(u()),timestampMs:b(u())}),Bc=d({data:p(Dn),nextCursor:D(cs),hasNextPage:U()}),Oc=B(),Ic=d({subscription:Oc,result:Dn});function mp(e){return e.sender}function bp(e){return e.packageId}var Ct=u(),jc=d({epoch:Ct,storage_charge:u(),computation_charge:u(),storage_rebate:u(),epoch_start_timestamp_ms:b(u())}),Rc=d({epoch:Ct,round:u(),commit_timestamp_ms:u()}),Pc=d({objects:p(M)}),Re=j([T("GasCoin"),d({Input:B()}),d({Result:B()}),d({NestedResult:Y([B(),B()])})]),Dc=d({arguments:b(p(Re)),type_arguments:b(p(u())),package:M,module:u(),function:u()}),Uc=j([d({MoveCall:Dc}),d({TransferObjects:Y([p(Re),Re])}),d({SplitCoins:Y([Re,p(Re)])}),d({MergeCoins:Y([Re,p(Re)])}),d({Publish:j([Y([xn,p(M)]),p(M)])}),d({Upgrade:j([Y([xn,p(M),M,Re]),Y([p(M),M,Re])])}),d({MakeMoveVec:Y([D(u()),p(Re)])})]),Nc=j([d({type:T("pure"),valueType:b(u()),value:sc}),d({type:T("object"),objectType:T("immOrOwnedObject"),objectId:M,version:le,digest:Bt}),d({type:T("object"),objectType:T("sharedObject"),objectId:M,initialSharedVersion:le,mutable:U()})]),Mc=d({transactions:p(Uc),inputs:p(Nc)}),Lc=j([Be(jc,d({kind:T("ChangeEpoch")})),Be(Rc,d({kind:T("ConsensusCommitPrologue")})),Be(Pc,d({kind:T("Genesis")})),Be(Mc,d({kind:T("ProgrammableTransaction")}))]),us=d({messageVersion:T("v1"),transaction:Lc,sender:ae,gasData:uc}),Ki=u(),$c=j([Ki,p(Ki)]),vp=d({epoch:Ct,signature:$c,signers_map:p(B())}),Kc=d({computationCost:u(),storageCost:u(),storageRebate:u(),nonRefundableStorageFee:u()}),Vc=j([T("success"),T("failure")]),Fc=d({status:Vc,error:b(u())}),Br=d({owner:ht,reference:$e}),Gc=d({objectId:M,sequenceNumber:le}),Fr=d({messageVersion:T("v1"),status:Fc,executedEpoch:Ct,modifiedAtVersions:b(p(Gc)),gasUsed:Kc,sharedObjects:b(p($e)),transactionDigest:me,created:b(p(Br)),mutated:b(p(Br)),unwrapped:b(p(Br)),deleted:b(p($e)),unwrapped_then_deleted:b(p($e)),wrapped:b(p($e)),gasObject:Br,eventsDigest:b(ic),dependencies:b(p(me))}),Un=p(Dn),qc=Y([p(B()),u()]),Hc=Y([Re,p(B()),u()]),Wc=d({mutableReferenceOutputs:b(p(Hc)),returnValues:b(p(qc))}),zc=d({effects:Fr,events:Un,results:b(p(Wc)),error:b(u())}),Jc=u(),Xc=d({data:us,txSignatures:p(u())}),ls=d({type:T("published"),packageId:M,version:le,digest:Bt,modules:p(u())}),Yc=d({type:T("transferred"),sender:ae,recipient:ht,objectType:u(),objectId:M,version:le,digest:Bt}),Zc=d({type:T("mutated"),sender:ae,owner:ht,objectType:u(),objectId:M,version:le,previousVersion:le,digest:Bt}),Qc=d({type:T("deleted"),sender:ae,objectType:u(),objectId:M,version:le}),eu=d({type:T("wrapped"),sender:ae,objectType:u(),objectId:M,version:le}),tu=d({type:T("created"),sender:ae,owner:ht,objectType:u(),objectId:M,version:le,digest:Bt}),fs=j([ls,Yc,Zc,Qc,eu,tu]),ds=d({owner:ht,coinType:u(),amount:u()}),Rr=d({digest:me,transaction:b(Xc),effects:b(Fr),events:b(Un),timestampMs:b(u()),checkpoint:b(u()),confirmedLocalExecution:b(U()),objectChanges:b(p(fs)),balanceChanges:b(p(ds)),errors:b(p(u()))}),xp=d({showInput:b(U()),showEffects:b(U()),showEvents:b(U()),showObjectChanges:b(U()),showBalanceChanges:b(U())}),ru=d({data:p(Rr),nextCursor:D(me),hasNextPage:U()}),nu=d({effects:Fr,events:Un,objectChanges:p(fs),balanceChanges:p(ds),input:b(us)});function Sp(e){return e.transaction}function Ep(e){return e.digest}function _p(e){return e.transaction?.txSignatures}function Tp(e){return e.transaction?.data.sender}function Nn(e){return e.transaction?.data.gasData}function kp(e){return Nn(e)?.payment}function Cp(e){return Nn(e)?.price}function Ap(e){return Nn(e)?.budget}function Bp(e){return e.kind==="ChangeEpoch"?e:void 0}function Op(e){return e.kind==="ConsensusCommitPrologue"?e:void 0}function Ip(e){return e.transaction?.data.transaction}function jp(e){return e.kind}function Rp(e){return e.kind==="ProgrammableTransaction"?e:void 0}function Pp(e){return hs(e)?.status}function hs(e){return Gr(e)?.status}function Dp(e){return hs(e)?.error}function ps(e){return K(e,Fr)?e.gasUsed:Gr(e)?.gasUsed}function Up(e){let t=ps(e);return t?BigInt(t.computationCost)+BigInt(t.storageCost)-BigInt(t.storageRebate):void 0}function iu(e){let t=ps(e);return t?BigInt(t.computationCost)+BigInt(t.storageCost):void 0}function Gr(e){return e.effects}function Np(e){return e.events}function Mp(e){return Gr(e)?.created}function Lp(e){return e.timestampMs??void 0}function $p(e){return Gr(e)?.created?.map(t=>t.reference)}function Kp(e){return e.objectChanges}function Vp(e){return e.objectChanges?.filter(t=>K(t,ls))??[]}function Vi(e){if(!(typeof e=="object"&&e!==null&&"type"in e&&e.type.startsWith("0x1::option::Option<")))return e}var Fi="0x3",ys="0x2",Mn="0x1",su="object",Gp="UID",ou="ID",au=`${ys}::sui::SUI`,qp="0x3::validator_set::ValidatorEpochInfoEventV2",Hp=Le("0x6"),Wp="pay",zp="split_vec",Jp="join",Gi=/^0x2::coin::Coin<(.+)>$/;function cu(e){return!!e.data||!!e.type}var uu=d({decimals:B(),name:u(),symbol:u(),description:u(),iconUrl:D(u()),id:D(M)}),je=class{static isCoin(e){return je.getType(e)?.match(Gi)!=null}static getCoinType(e){let[,t]=e.match(Gi)??[];return t||null}static getCoinTypeArg(e){let t=je.getType(e);return t?je.getCoinType(t):null}static isSUI(e){let t=je.getCoinTypeArg(e);return t?je.getCoinSymbol(t)==="SUI":!1}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getCoinStructTag(e){return{address:Le(e.split("::")[0]),module:e.split("::")[1],name:e.split("::")[2],typeParams:[]}}static getID(e){return"fields"in e?e.fields.id.id:vc(e)}static totalBalance(e){return e.reduce((t,r)=>t+je.getBalanceFromCoinStruct(r),BigInt(0))}static sortByBalance(e){return[...e].sort((t,r)=>je.getBalanceFromCoinStruct(t)<je.getBalanceFromCoinStruct(r)?-1:je.getBalanceFromCoinStruct(t)>je.getBalanceFromCoinStruct(r)?1:0)}static getBalanceFromCoinStruct(e){return BigInt(e.balance)}static getBalance(e){if(!je.isCoin(e))return;let t=Tc(e)?.balance;return BigInt(t)}static getType(e){return cu(e)?Sc(e):e.type}},gs=class{static isDelegationSuiObject(e){return"type"in e&&e.type===gs.SUI_OBJECT_TYPE}constructor(e){this.suiObject=e}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt(Vi(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return Vi(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(e){return this.nextRewardUnclaimedEpoch()<=e&&(this.isActive()||(this.endingEpoch()||0)>e)}},lu=gs;lu.SUI_OBJECT_TYPE="0x2::delegation::Delegation";function Yp(e){return e.Pure!==void 0}var jt="vector",fu={kind:"TransactionKind",sender:k.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},du={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[jt,k.U8],Object:"ObjectArg",ObjVec:[jt,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:k.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:k.ADDRESS,version:k.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:k.ADDRESS,initialSharedVersion:k.U64,mutable:k.BOOL},StructTag:{address:k.ADDRESS,module:k.STRING,name:k.STRING,typeParams:[jt,"TypeTag"]},GasData:{payment:[jt,"SuiObjectRef"],owner:k.ADDRESS,price:k.U64,budget:k.U64},SenderSignedData:{data:"TransactionData",txSignatures:[jt,[jt,k.U8]]},TransactionDataV1:fu},aliases:{ObjectDigest:k.BASE58}},ms=new k({...Xn(),types:du});ms.registerType("utf8string",(e,t)=>{let r=Array.from(new TextEncoder().encode(t));return e.writeVec(r,(n,i)=>n.write8(i))},e=>{let t=e.readVec(r=>r.read8());return new TextDecoder().decode(new Uint8Array(t))});var hu=d({amount:B(),id:M,transferTxDigest:me}),Qp=d({transferredGasObjects:p(hu),error:D(u())}),pu=j([u(),d({Object:u()})]),yu=p(pu),gu=d({address:u(),name:u()}),mu=j([T("Private"),T("Public"),T("Friend")]),Ln=d({abilities:p(u())}),bu=d({constraints:Ln,isPhantom:U()}),wu=d({TypeParameter:B()}),wn=Y([d({module:u(),package:u(),function:u()}),u()]),vu=d({rank3Days:p(wn),rank7Days:p(wn),rank30Days:p(wn)});function bs(e){if(!e)return!1;if(typeof e=="string"||K(e,wu)||ws(e))return!0;if(typeof e!="object")return!1;let t=e;return!!(K(t.Reference,Rt)||K(t.MutableReference,Rt)||K(t.Vector,Rt))}var Rt=se("SuiMoveNormalizedType",bs);function ws(e){if(!e||typeof e!="object")return!1;let t=e;if(!t.Struct||typeof t.Struct!="object")return!1;let r=t.Struct;return!(typeof r.address!="string"||typeof r.module!="string"||typeof r.name!="string"||!Array.isArray(r.typeArguments)||!r.typeArguments.every(n=>bs(n)))}var ty=se("SuiMoveNormalizedStructType",ws),vs=d({visibility:mu,isEntry:U(),typeParameters:p(Ln),parameters:p(Rt),return:p(Rt)}),xu=d({name:u(),type:Rt}),xs=d({abilities:Ln,typeParameters:p(bu),fields:p(xu)}),Ss=d({fileFormatVersion:B(),address:u(),name:u(),friends:p(gu),structs:_e(u(),xs),exposedFunctions:_e(u(),vs)}),Su=_e(u(),Ss);function Es(e){return typeof e=="object"&&"MutableReference"in e?e.MutableReference:void 0}function Eu(e){return typeof e=="object"&&"Reference"in e?e.Reference:void 0}function _s(e){if(typeof e=="object"&&"Struct"in e)return e;let t=Eu(e),r=Es(e);if(typeof t=="object"&&"Struct"in t)return t;if(typeof r=="object"&&"Struct"in r)return r}var _u=d({apy:B(),address:ae}),Tu=d({epoch:u(),apys:p(_u)}),ny=d({value:B()}),ku=d({stakedSuiId:M,stakeRequestEpoch:Ct,stakeActiveEpoch:Ct,principal:u(),status:j([T("Active"),T("Pending"),T("Unstaked")]),estimatedReward:b(u())}),qi=d({validatorAddress:ae,stakingPool:M,stakes:p(ku)}),Cu=d({balance:d({value:B()}),distribution_counter:B(),current_distribution_amount:B(),stake_subsidy_period_length:B(),stake_subsidy_decrease_rate:B()}),iy=d({type:u(),fields:Cu}),sy=d({value:B()}),Au=d({id:u(),size:B(),head:d({vec:p()}),tail:d({vec:p()})}),oy=d({id:u(),size:B()}),ay=d({type:u(),fields:Au}),Bu=d({exchangeRates:d({id:u(),size:B()}),id:u(),pendingStake:B(),pendingPoolTokenWithdraw:B(),pendingTotalSuiWithdraw:B(),poolTokenBalance:B(),rewardsPool:d({value:B()}),activationEpoch:d({vec:p()}),deactivationEpoch:d({vec:p()}),suiBalance:B()}),cy=d({type:u(),fields:Bu}),Ou=p(Y([Jc,u()])),Iu=d({epoch:Ct,validators:Ou}),Ts=d({suiAddress:ae,protocolPubkeyBytes:u(),networkPubkeyBytes:u(),workerPubkeyBytes:u(),proofOfPossessionBytes:u(),operationCapId:u(),name:u(),description:u(),imageUrl:u(),projectUrl:u(),p2pAddress:u(),netAddress:u(),primaryAddress:u(),workerAddress:u(),nextEpochProtocolPubkeyBytes:D(u()),nextEpochProofOfPossession:D(u()),nextEpochNetworkPubkeyBytes:D(u()),nextEpochWorkerPubkeyBytes:D(u()),nextEpochNetAddress:D(u()),nextEpochP2pAddress:D(u()),nextEpochPrimaryAddress:D(u()),nextEpochWorkerAddress:D(u()),votingPower:u(),gasPrice:u(),commissionRate:u(),nextEpochStake:u(),nextEpochGasPrice:u(),nextEpochCommissionRate:u(),stakingPoolId:u(),stakingPoolActivationEpoch:D(u()),stakingPoolDeactivationEpoch:D(u()),stakingPoolSuiBalance:u(),rewardsPool:u(),poolTokenBalance:u(),pendingStake:u(),pendingPoolTokenWithdraw:u(),pendingTotalSuiWithdraw:u(),exchangeRatesId:u(),exchangeRatesSize:u()}),ju=d({epoch:u(),protocolVersion:u(),systemStateVersion:u(),storageFundTotalObjectStorageRebates:u(),storageFundNonRefundableBalance:u(),referenceGasPrice:u(),safeMode:U(),safeModeStorageRewards:u(),safeModeComputationRewards:u(),safeModeStorageRebates:u(),safeModeNonRefundableStorageFee:u(),epochStartTimestampMs:u(),epochDurationMs:u(),stakeSubsidyStartEpoch:u(),maxValidatorCount:u(),minValidatorJoiningStake:u(),validatorLowStakeThreshold:u(),validatorVeryLowStakeThreshold:u(),validatorLowStakeGracePeriod:u(),stakeSubsidyBalance:u(),stakeSubsidyDistributionCounter:u(),stakeSubsidyCurrentDistributionAmount:u(),stakeSubsidyPeriodLength:u(),stakeSubsidyDecreaseRate:B(),totalStake:u(),activeValidators:p(Ts),pendingActiveValidatorsId:u(),pendingActiveValidatorsSize:u(),pendingRemovals:p(u()),stakingPoolMappingsId:u(),stakingPoolMappingsSize:u(),inactivePoolsId:u(),inactivePoolsSize:u(),validatorCandidatesId:u(),validatorCandidatesSize:u(),atRiskValidators:p(Y([ae,u()])),validatorReportRecords:p(Y([ae,p(ae)]))}),Ru=d({coinType:u(),coinObjectId:M,version:u(),digest:me,balance:u(),lockedUntilEpoch:b(D(B())),previousTransaction:me}),Hi=d({data:p(Ru),nextCursor:D(M),hasNextPage:U()}),Wi=d({coinType:u(),coinObjectCount:B(),totalBalance:u(),lockedBalance:d({epochId:b(B()),number:b(B())})}),Pu=d({value:u()}),Du=d({lastCheckpointId:u(),epochEndTimestamp:u(),protocolVersion:u(),referenceGasPrice:u(),totalStake:u(),storageFundReinvestment:u(),storageCharge:u(),storageRebate:u(),storageFundBalance:u(),stakeSubsidyAmount:u(),totalGasFees:u(),totalStakeRewardsDistributed:u(),leftoverStorageFundInflow:u()}),ks=d({epoch:u(),validators:p(Ts),epochTotalTransactions:u(),firstCheckpointId:u(),epochStartTimestamp:u(),endOfEpochInfo:D(Du)}),Uu=d({data:p(ks),nextCursor:D(u()),hasNextPage:U()}),Nu=d({computationCost:u(),storageCost:u(),storageRebate:u(),nonRefundableStorageFee:u()}),dy=u(),zi=u(),hy=d({digest:p(B())}),Cs=re(),Mu=u(),Lu=d({nextEpochCommittee:p(Y([u(),u()])),nextEpochProtocolVersion:u(),epochCommitments:p(Cs)}),py=d({transaction:me,effects:nc}),As=d({epoch:u(),sequenceNumber:u(),digest:zi,networkTotalTransactions:u(),previousDigest:b(zi),epochRollingGasCostSummary:Nu,timestampMs:u(),endOfEpochData:b(Lu),validatorSignature:b(Mu),transactions:p(me),checkpointCommitments:p(Cs)}),$u=d({data:p(As),nextCursor:D(u()),hasNextPage:U()}),$n={ED25519:0,Secp256k1:1},Ku={0:"ED25519",1:"Secp256k1"};function Vu({signature:e,signatureScheme:t,pubKey:r}){let n=new Uint8Array(1+e.length+r.toBytes().length);return n.set([$n[t]]),n.set(e,1),n.set(r.toBytes(),1+e.length),H(n)}function Fu(e){let t=q(e),r=Ku[t[0]],n=r==="ED25519"?qr:Hr,i=t.slice(1,t.length-n.SIZE),o=t.slice(1+i.length),s=new n(o);return{signatureScheme:r,signature:i,pubKey:s}}var Pr=32,qr=class{constructor(e){if(typeof e=="string"?this.data=q(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Pr)throw new Error(`Invalid public key input. Expected ${Pr} bytes, got ${this.data.length}`)}equals(e){return Bs(this.toBytes(),e.toBytes())}toBase64(){return H(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let e=new Uint8Array(Pr+1);return e.set([$n.ED25519]),e.set(this.toBytes(),1),ee(Qe(we(e,{dkLen:32})).slice(0,Kr*2))}};qr.SIZE=Pr;function Bs(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function wy(e,t){if(e==="ED25519")return new qr(t);if(e==="Secp256k1")return new Hr(t);throw new Error("Unknown public key schema")}var Dr=33,Hr=class{constructor(e){if(typeof e=="string"?this.data=q(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Dr)throw new Error(`Invalid public key input. Expected ${Dr} bytes, got ${this.data.length}`)}equals(e){return Bs(this.toBytes(),e.toBytes())}toBase64(){return H(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let e=new Uint8Array(Dr+1);return e.set([$n.Secp256k1]),e.set(this.toBytes(),1),ee(Qe(we(e,{dkLen:32})).slice(0,Kr*2))}};Hr.SIZE=Dr;function Gu(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function qu(e){return!!new RegExp("^m\\/54'\\/784'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(e)}function Os(e){return yi(e,"")}function Hu(e){return Lt(Os(e))}var Wu="m/54'/784'/0'/0/0",Zt=class{constructor(e){if(e)this.keypair=e;else{let t=W.utils.randomPrivateKey(),r=W.getPublicKey(t,!0);this.keypair={publicKey:r,secretKey:t}}}getKeyScheme(){return"Secp256k1"}static generate(){return new Zt}static fromSecretKey(e,t){let r=W.getPublicKey(e,!0);if(!t||!t.skipValidation){let i=new TextEncoder().encode("sui validation"),o=Qe(we(i,{dkLen:32})),s=W.sign(o,e);if(!W.verify(s,o,r,{lowS:!0}))throw new Error("Provided secretKey is invalid")}return new Zt({publicKey:r,secretKey:e})}static fromSeed(e){let t=W.getPublicKey(e,!0);return new Zt({publicKey:t,secretKey:e})}getPublicKey(){return new Hr(this.keypair.publicKey)}signData(e){let t=mt(e);return W.sign(t,this.keypair.secretKey,{lowS:!0}).toCompactRawBytes()}static deriveKeypair(e,t){if(t==null&&(t=Wu),!qu(t))throw new Error("Invalid derivation path");let r=Me.fromMasterSeed(Os(e)).derive(t);if(r.publicKey==null||r.privateKey==null)throw new Error("Invalid key");return new Zt({publicKey:r.publicKey,secretKey:r.privateKey})}export(){return{schema:"Secp256k1",privateKey:H(this.keypair.secretKey)}}},Ur=32,zu=64;function Cy(e){let t=q(e.privateKey);switch(e.schema){case"ED25519":let r=t;return t.length===zu&&(r=t.slice(0,Ur)),Nr.fromSecretKey(r);case"Secp256k1":return Zt.fromSecretKey(t);default:throw new Error(`Invalid keypair schema ${e.schema}`)}}var Ju="ed25519 seed",Xu=2147483648,Yu=new RegExp("^m(\\/[0-9]+')+$"),Is=e=>e.replace("'",""),Zu=e=>{let r=Fe.create(at,Ju).update(Mt(e)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},Qu=({key:e,chainCode:t},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+e.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(e,1),o.set(new Uint8Array(n,0,n.byteLength),e.length+1);let s=Fe.create(at,t).update(o).digest(),a=s.slice(0,32),c=s.slice(32);return{key:a,chainCode:c}},el=e=>Yu.test(e)?!e.split("/").slice(1).map(Is).some(isNaN):!1,tl=(e,t,r=Xu)=>{if(!el(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Zu(t);return e.split("/").slice(1).map(Is).map(s=>parseInt(s,10)).reduce((s,a)=>Qu(s,a+r),{key:n,chainCode:i})},rl="m/44'/784'/0'/0'/0'",Nr=class{constructor(e){e?this.keypair=e:this.keypair=Et.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Nr(Et.default.sign.keyPair())}static fromSecretKey(e,t){let r=e.length;if(r!==Ur)throw new Error(`Wrong secretKey size. Expected ${Ur} bytes, got ${r}.`);let n=Et.default.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){let o=new TextEncoder().encode("sui validation"),s=Et.default.sign.detached(o,n.secretKey);if(!Et.default.sign.detached.verify(o,s,n.publicKey))throw new Error("provided secretKey is invalid")}return new Nr(n)}getPublicKey(){return new qr(this.keypair.publicKey)}signData(e){return Et.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(t==null&&(t=rl),!Gu(t))throw new Error("Invalid derivation path");let{key:r}=tl(t,Hu(e));return Nr.fromSecretKey(r)}export(){return{schema:"ED25519",privateKey:H(this.keypair.secretKey.slice(0,Ur))}}},nl="0.33.0",il="1.1.0",Sn=class extends Error{constructor(e){super(e.cause?`RPC Error: ${e.cause.message}`:"Unknown RPC Error",{cause:e.cause}),this.req=e.req,this.code=e.code,this.data=e.data}},sl=class extends Error{constructor(e){super("RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.",{cause:e.cause}),this.req=e.req,this.result=e.result,this.message=this.toString()}toString(){let e=super.toString();return this.cause&&(e+=`
Cause: ${this.cause}`),this.result&&(e+=`
Reponse Received: ${JSON.stringify(this.result,null,2)}`),e}},ol=class extends Error{},al=d({jsonrpc:T("2.0"),id:u(),result:re()}),Rs=d({jsonrpc:T("2.0"),id:u(),error:d({code:re(),message:u(),data:b(re())})}),cl=class{constructor(e,t){this.rpcClient=new js.default(async(r,n)=>{let i={method:"POST",body:r,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":nl,"Client-Target-Api-Version":il,...t}};try{let o=await fetch(e,i),s=await o.text();if(o.ok)n(null,s);else{let a=o.headers.get("content-type")==="text/html";n(new Error(`${o.status} ${o.statusText}${a?"":`: ${s}`}`))}}catch(o){n(o)}},{})}async requestWithType(e,t,r){let n={method:e,args:t},i=await this.request(e,t);if(K(i,Rs))throw new Sn({req:n,code:i.error.code,data:i.error.data,cause:new Error(i.error.message)});if(K(i,al)){let[o]=wt(i.result,r);return o&&console.warn(new sl({req:n,result:i.result,cause:o})),i.result}throw new Sn({req:n,data:i})}async request(e,t){return new Promise((r,n)=>{this.rpcClient.request(e,t,(i,o)=>{if(i){n(i);return}r(o)})})}},ul=j([T("DynamicField"),T("DynamicObject")]),ll=d({type:u(),value:re()}),fl=d({name:ll,bcsName:u(),type:ul,objectType:u(),objectId:M,version:B(),digest:u()}),dl=d({data:p(fl),nextCursor:D(M),hasNextPage:U()}),hl=(e,t)=>{let r=new URL(e);return r.protocol=r.protocol.replace("http","ws"),t&&(r.port=t.toString()),r.toString()},pl=e=>e&&"subscription"in e&&typeof e.subscription=="number"&&"result"in e&&typeof e.result=="object",Ds={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},Ji="suix_subscribeEvent",yl="suix_unsubscribeEvent",gl=class{constructor(e,t=Ds){this.endpoint=e,this.options=t,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=hl(this.endpoint)),this.rpcClient=new Ps.Client(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(e){let t=JSON.parse(e),r=t.params;if(t.method===Ji){if(pl(r)){let n=this.eventSubscriptions.get(r.subscription);n&&n.onMessage(r.result)}else if(K(r,Ic)){let n=this.eventSubscriptions.get(r.subscription);n&&n.onMessage(r.result)}}}async connect(){return this.connectionPromise?this.connectionPromise:this.connectionState===2?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeout=setTimeout(()=>t(new Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,e()}),this.rpcClient.once("error",r=>{this.connectionPromise=null,t(r)})}),this.connectionPromise)}async refreshSubscriptions(){if(this.eventSubscriptions.size!==0)try{let e=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map(async r=>{let n=r.onMessage,i=r.filter;return!i||!n?Promise.resolve(null):{id:await this.subscribeEvent(i,n),onMessage:n,filter:i}}))).forEach(r=>{if(r===null)return;let n=r.filter,i=r.onMessage;e.set(r.id,{filter:n,onMessage:i})}),this.eventSubscriptions=e}catch(e){throw new Error(`error refreshing event subscriptions: ${e}`)}}async subscribeEvent(e,t){try{this.connectionState!==2&&await this.connect();let r=await this.rpcClient.call(Ji,[e],this.options.callTimeout);return this.eventSubscriptions.set(r,{filter:e,onMessage:t}),r}catch(r){throw new Error(`Error subscribing to event: ${JSON.stringify(r,null,2)}, filter: ${JSON.stringify(e)}`)}}async unsubscribeEvent(e){try{this.connectionState!==2&&await this.connect();let t=await this.rpcClient.call(yl,[e],this.options.callTimeout);return this.eventSubscriptions.delete(e)||t}catch(t){throw new Error(`Error unsubscribing from event: ${t}, subscription: ${e}`)}}};async function ml(e,t,r){let n=await fetch(e,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:t}}),headers:{"Content-Type":"application/json",...r||{}}});if(n.status===429)throw new ol("Too many requests from this client have been sent to the faucet. Please retry later");let i;try{i=await n.json()}catch(o){throw new Error(`Encountered error when parsing response from faucet, error: ${o}, status ${n.status}, response ${n}`)}if(i.error)throw new Error(`Faucet returns error: ${i.error}`);return i}var _t,Kn=class{constructor(e){St(this,_t,void 0),Yt(this,_t,e)}get fullnode(){return V(this,_t).fullnode}get websocket(){return V(this,_t).websocket||V(this,_t).fullnode}get faucet(){return V(this,_t).faucet}};_t=new WeakMap;var Ly=new Kn({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"}),bl=new Kn({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"}),$y=new Kn({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"});function ge(e,t){return nn(e,t)}var $r=Symbol("transaction-argument-type"),wl=e=>j([d({None:j([T(!0),T(null)])}),d({Some:e})]),er=d({kind:T("Input"),index:Ee(),value:b(re()),type:b(j([T("pure"),T("object")]))}),Vn=[er,d({kind:T("GasCoin")}),d({kind:T("Result"),index:Ee()}),d({kind:T("NestedResult"),index:Ee(),resultIndex:Ee()})],vl=j([...Vn]),At=j([...Vn]);At[$r]={kind:"object"};var Us=e=>{let t=j([...Vn]);return t[$r]={kind:"pure",type:e},t},Ns=d({kind:T("MoveCall"),target:se("target",u().validator),typeArguments:p(u()),arguments:p(vl)}),Ms=d({kind:T("TransferObjects"),objects:p(At),address:Us(k.ADDRESS)}),Ls=d({kind:T("SplitCoins"),coin:At,amounts:p(Us("u64"))}),$s=d({kind:T("MergeCoins"),destination:At,sources:p(At)}),Ks=d({kind:T("MakeMoveVec"),type:b(wl(u())),objects:p(At)}),Vs=d({kind:T("Publish"),modules:p(p(Ee())),dependencies:p(M)}),xl=(e=>(e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY",e))(xl||{}),Fs=d({kind:T("Upgrade"),modules:p(p(Ee())),dependencies:p(M),packageId:M,ticket:At}),Gs=[Ns,Ms,Ls,$s,Vs,Fs,Ks],qs=j([...Gs]);function Sl(e){return bt(e,qs),Gs.find(t=>K(e,t))}var lt={MoveCall(e){return ge({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},Ns)},TransferObjects(e,t){return ge({kind:"TransferObjects",objects:e,address:t},Ms)},SplitCoins(e,t){return ge({kind:"SplitCoins",coin:e,amounts:t},Ls)},MergeCoins(e,t){return ge({kind:"MergeCoins",destination:e,sources:t},$s)},Publish({modules:e,dependencies:t}){return ge({kind:"Publish",modules:e.map(r=>typeof r=="string"?Array.from(q(r)):r),dependencies:t.map(r=>Le(r))},Vs)},Upgrade({modules:e,dependencies:t,packageId:r,ticket:n}){return ge({kind:"Upgrade",modules:e.map(i=>typeof i=="string"?Array.from(q(i)):i),dependencies:t.map(i=>Le(i)),packageId:r,ticket:n},Fs)},MakeMoveVec({type:e,objects:t}){return ge({kind:"MakeMoveVec",type:e?{Some:e}:{None:null},objects:t},Ks)}},El=/^vector<(.+)>$/,_l=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,Tt=class{static parseFromStr(e,t=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let r=e.match(El);if(r)return{vector:Tt.parseFromStr(r[1],t)};let n=e.match(_l);if(n)return{struct:{address:t?ee(n[1]):n[1],module:n[2],name:n[3],typeParams:n[5]===void 0?[]:Tt.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){let r=[],n="",i=0;for(let o=0;o<e.length;o++){let s=e[o];if(s==="<"&&i++,s===">"&&i--,i===0&&s===","){r.push(n.trim()),n="";continue}n+=s}return r.push(n.trim()),r.map(o=>Tt.parseFromStr(o,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${Tt.tagToString(e.vector)}>`;if("struct"in e){let t=e.struct,r=t.typeParams.map(Tt.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}},Hs="Argument",ue="vector",Tl="Option",kl="CallArg",Xi="TypeTag",zy="ObjectArg",Cl="ProgrammableTransaction",En="ProgrammableMoveCall",Ws="Transaction",Fn="EnumKind",Al=[Fn,Ws],ze=[Fn,Hs],zs="SimpleProgrammableMoveCall",dt=new k(ms).registerStructType(Cl,{inputs:[ue,kl],transactions:[ue,Al]}).registerEnumType(Hs,{GasCoin:null,Input:{index:k.U16},Result:{index:k.U16},NestedResult:{index:k.U16,resultIndex:k.U16}}).registerStructType(En,{package:k.ADDRESS,module:k.STRING,function:k.STRING,type_arguments:[ue,Xi],arguments:[ue,ze]}).registerEnumType(Ws,{MoveCall:zs,TransferObjects:{objects:[ue,ze],address:ze},SplitCoins:{coin:ze,amounts:[ue,ze]},MergeCoins:{destination:ze,sources:[ue,ze]},Publish:{modules:[ue,[ue,k.U8]],dependencies:[ue,k.ADDRESS]},MakeMoveVec:{type:[Tl,Xi],objects:[ue,ze]},Upgrade:{modules:[ue,[ue,k.U8]],dependencies:[ue,k.ADDRESS],packageId:k.ADDRESS,ticket:ze}});dt.registerType([Fn,"T"],function(t,r,n,i){let s={[r.kind]:r},[a]=n;return this.getTypeInterface(a)._encodeRaw.call(this,t,s,n,i)},function(t,r,n){let[i]=r,o=this.getTypeInterface(i)._decodeRaw.call(this,t,r,n),s=Object.keys(o)[0];return{kind:s,...o[s]}},e=>{if(typeof e!="object"&&!("kind"in e))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(e)}`);return!0});dt.registerType(zs,function(t,r,n,i){let[o,s,a]=r.target.split("::"),c=r.typeArguments.map(l=>Tt.parseFromStr(l,!0));return this.getTypeInterface(En)._encodeRaw.call(this,t,{package:ee(o),module:s,function:a,type_arguments:c,arguments:r.arguments},n,i)},function(t,r,n){let i=dt.getTypeInterface(En)._decodeRaw.call(this,t,r,n);return{target:[i.package,i.module,i.function].join("::"),arguments:i.arguments,typeArguments:i.type_arguments.map(Tt.tagToString)}},e=>e.target.split("::").length===3);var Bl=j([d({ImmOrOwned:$e}),d({Shared:d({objectId:u(),initialSharedVersion:j([Ee(),u()]),mutable:U()})})]),_n=d({Pure:p(Ee())}),Ol=d({Object:Bl}),Qt=j([_n,Ol]),Il=16*1024,Je={Pure(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:dt.ser(t,e,{maxSize:Il}).toBytes())}},ObjectRef({objectId:e,digest:t,version:r}){return{Object:{ImmOrOwned:{digest:t,version:r,objectId:ee(e)}}}},SharedObjectRef({objectId:e,mutable:t,initialSharedVersion:r}){return{Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:ee(e)}}}}};function Yi(e){return typeof e=="string"?ee(e):"ImmOrOwned"in e.Object?ee(e.Object.ImmOrOwned.objectId):ee(e.Object.Shared.objectId)}function Js(e){return typeof e=="object"&&"Object"in e&&"Shared"in e.Object?e.Object.Shared:void 0}function Jy(e){return!!Js(e)}function jl(e){return Js(e)?.mutable??!1}var Rl="ascii",Pl="String",Dl="string",Ul="String",Nl="option",Ml="Option",Ll={address:ys,module:su,name:ou},$l={address:Mn,module:Rl,name:Pl},Kl={address:Mn,module:Dl,name:Ul},Vl={address:Mn,module:Nl,name:Ml},Or=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function Fl(e){let t=_s(e)?.Struct;return t?.address==="0x2"&&t?.module==="tx_context"&&t?.name==="TxContext"}function vn(e,t){if(!(typeof t>"u")&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}var Gl=["Address","Bool","U8","U16","U32","U64","U128","U256"];function Tn(e,t){if(typeof e=="string"&&Gl.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])vn("number",t);else if(e==="Bool")vn("boolean",t);else if(e==="Address"&&(vn("string",t),t&&!ft(t)))throw new Error("Invalid Sui Address");return e.toLowerCase()}else if(typeof e=="string")throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((t===void 0||typeof t=="string")&&e.Vector==="U8")return"string";if(t!==void 0&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);let r=Tn(e.Vector,t?t[0]:void 0);return r===void 0?void 0:`vector<${r}>`}if("Struct"in e){if(Or(e.Struct,$l))return"string";if(Or(e.Struct,Kl))return"utf8string";if(Or(e.Struct,Ll))return"address";if(Or(e.Struct,Vl)){let r={Vector:e.Struct.typeArguments[0]};return Tn(r,t)}}}function ql(e,t){let r=Array.from(`${e}::`).map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),we(n,{dkLen:32})}var Hl=b(D(j([d({Epoch:Ee()}),d({None:j([T(!0),T(null)])})]))),Xs=u(),Zi=se("StringEncodedBigint",e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}}),Wl=d({budget:b(Zi),price:b(Zi),payment:b(p($e)),owner:b(Xs)}),Ir=d({version:T(1),sender:b(Xs),expiration:Hl,gasConfig:Wl,inputs:p(er),transactions:p(qs)});function Qi(e){return ee(e).replace("0x","")}var es=128*1024,Xe=class{constructor(e){this.version=1,this.sender=e?.sender,this.expiration=e?.expiration,this.gasConfig=e?.gasConfig??{},this.inputs=e?.inputs??[],this.transactions=e?.transactions??[]}static fromKindBytes(e){let r=dt.de("TransactionKind",e)?.ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");let n=ge({version:1,gasConfig:{},inputs:r.inputs.map((i,o)=>ge({kind:"Input",value:i,index:o,type:K(i,_n)?"pure":"object"},er)),transactions:r.transactions},Ir);return Xe.restore(n)}static fromBytes(e){let r=dt.de("TransactionData",e)?.V1,n=r?.kind?.ProgrammableTransaction;if(!r||!n)throw new Error("Unable to deserialize from bytes.");let i=ge({version:1,sender:r.sender,expiration:r.expiration,gasConfig:r.gasData,inputs:n.inputs.map((o,s)=>ge({kind:"Input",value:o,index:s,type:K(o,_n)?"pure":"object"},er)),transactions:n.transactions},Ir);return Xe.restore(i)}static restore(e){bt(e,Ir);let t=new Xe;return Object.assign(t,e),t}static getDigestFromBytes(e){let t=ql("TransactionData",e);return nr(t)}build({overrides:e,onlyTransactionKind:t}={}){let r=this.inputs.map(c=>(bt(c.value,Qt),c.value)),n={ProgrammableTransaction:{inputs:r,transactions:this.transactions}};if(t)return dt.ser("TransactionKind",n,{maxSize:es}).toBytes();let i=e?.expiration??this.expiration,o=e?.sender??this.sender,s={...this.gasConfig,...e?.gasConfig};if(!o)throw new Error("Missing transaction sender");if(!s.budget)throw new Error("Missing gas budget");if(!s.payment)throw new Error("Missing gas payment");if(!s.price)throw new Error("Missing gas price");let a={sender:Qi(o),expiration:i||{None:!0},gasData:{payment:s.payment,owner:Qi(this.gasConfig.owner??o),price:BigInt(s.price),budget:BigInt(s.budget)},kind:{ProgrammableTransaction:{inputs:r,transactions:this.transactions}}};return dt.ser("TransactionData",{V1:a},{maxSize:es}).toBytes()}getDigest(){let e=this.build({onlyTransactionKind:!1});return Xe.getDigestFromBytes(e)}snapshot(){return ge(this,Ir)}};function zl(e){let t={kind:"Result",index:e},r=[],n=i=>r[i]??(r[i]={kind:"NestedResult",index:e,resultIndex:i});return new Proxy(t,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,o){if(o in i)return Reflect.get(i,o);if(o===Symbol.iterator)return function*(){let a=0;for(;;)yield n(a),a++};if(typeof o=="symbol")return;let s=parseInt(o,10);if(!(Number.isNaN(s)||s<0))return n(s)}})}function tr(e){if(!e)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e}var ts=Symbol.for("@mysten/transaction"),kn=256,Jl=5e10,Xl=1000n,Yl=50,Zl=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(r,n)=>e.slice(n*t,n*t+t)),$,Mr,Cn,Gn,Ys,qn,Zs,Hn,Qs,Lr,An,Bn=class{constructor(e){St(this,Mr),St(this,Gn),St(this,qn),St(this,Hn),St(this,Lr),St(this,$,void 0),Yt(this,$,new Xe(e?e.blockData:void 0))}static is(e){return!!e&&typeof e=="object"&&e[ts]===!0}static fromKind(e){let t=new Bn;return Yt(t,$,Xe.fromKindBytes(typeof e=="string"?q(e):e)),t}static from(e){let t=new Bn;return typeof e!="string"||!e.startsWith("{")?Yt(t,$,Xe.fromBytes(typeof e=="string"?q(e):e)):Yt(t,$,Xe.restore(JSON.parse(e))),t}static get Transactions(){return lt}static get Inputs(){return Je}setSender(e){V(this,$).sender=e}setSenderIfNotSet(e){V(this,$).sender||(V(this,$).sender=e)}setExpiration(e){V(this,$).expiration=e}setGasPrice(e){V(this,$).gasConfig.price=String(e)}setGasBudget(e){V(this,$).gasConfig.budget=String(e)}setGasOwner(e){V(this,$).gasConfig.owner=e}setGasPayment(e){if(e.length>=kn)throw new Error(`Payment objects exceed maximum amount ${kn}`);V(this,$).gasConfig.payment=e.map(t=>sn(t,$e))}get blockData(){return V(this,$).snapshot()}get[ts](){return!0}get gas(){return{kind:"GasCoin"}}object(e){let t=Yi(e);return V(this,$).inputs.find(n=>n.type==="object"&&t===Yi(n.value))??kt(this,Mr,Cn).call(this,"object",e)}objectRef(...e){return this.object(Je.ObjectRef(...e))}sharedObjectRef(...e){return this.object(Je.SharedObjectRef(...e))}pure(e,t){return kt(this,Mr,Cn).call(this,"pure",e instanceof Uint8Array?Je.Pure(e):t?Je.Pure(e,t):e)}add(e){let t=V(this,$).transactions.push(e);return zl(t-1)}splitCoins(...e){return this.add(lt.SplitCoins(...e))}mergeCoins(...e){return this.add(lt.MergeCoins(...e))}publish(...e){return this.add(lt.Publish(...e))}upgrade(...e){return this.add(lt.Upgrade(...e))}moveCall(...e){return this.add(lt.MoveCall(...e))}transferObjects(...e){return this.add(lt.TransferObjects(...e))}makeMoveVec(...e){return this.add(lt.MakeMoveVec(...e))}serialize(){return JSON.stringify(V(this,$).snapshot())}async build({provider:e,onlyTransactionKind:t}={}){return await kt(this,Lr,An).call(this,{provider:e,onlyTransactionKind:t}),V(this,$).build({onlyTransactionKind:t})}async getDigest({provider:e}={}){return await kt(this,Lr,An).call(this,{provider:e}),V(this,$).getDigest()}},Pt=Bn;$=new WeakMap;Mr=new WeakSet;Cn=function(e,t){let r=V(this,$).inputs.length,n=ge({kind:"Input",value:typeof t=="bigint"?String(t):t,index:r,type:e},er);return V(this,$).inputs.push(n),n};Gn=new WeakSet;Ys=async function({provider:e,onlyTransactionKind:t}){if(t||V(this,$).gasConfig.payment)return;let r=V(this,$).gasConfig.owner??V(this,$).sender,i=(await tr(e).getCoins({owner:r,coinType:au})).data.filter(o=>!V(this,$).inputs.find(a=>K(a.value,Qt)&&"Object"in a.value&&"ImmOrOwned"in a.value.Object?o.coinObjectId===a.value.Object.ImmOrOwned.objectId:!1)).slice(0,kn-1).map(o=>({objectId:o.coinObjectId,digest:o.digest,version:o.version}));if(!i.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(i)};qn=new WeakSet;Zs=async function({provider:e,onlyTransactionKind:t}){t||V(this,$).gasConfig.price||this.setGasPrice(await tr(e).getReferenceGasPrice())};Hn=new WeakSet;Qs=async function(e){let{inputs:t,transactions:r}=V(this,$),n=[],i=[];if(r.forEach(o=>{if(o.kind==="MoveCall"){o.arguments.some(c=>c.kind==="Input"&&!K(t[c.index].value,Qt))&&n.push(o);return}let s=Sl(o);!s.schema||Object.entries(o).forEach(([a,c])=>{if(a==="kind")return;let l=s.schema[a],h=l.type==="array",f=h?l.schema[$r]:l[$r];if(!f)return;let y=g=>{let w=t[g];if(!w)throw new Error(`Missing input ${c.index}`);if(!K(w.value,Qt))if(f.kind==="object"&&typeof w.value=="string")i.push({id:w.value,input:w});else if(f.kind==="pure")w.value=Je.Pure(w.value,f.type);else throw new Error("Unexpected input format.")};if(h)c.forEach(g=>{g.kind==="Input"&&y(g.index)});else{if(c.kind!=="Input")return;y(c.index)}})}),n.length&&await Promise.all(n.map(async o=>{let[s,a,c]=o.target.split("::"),l=await tr(e).getNormalizedMoveFunction({package:Le(s),module:a,function:c}),f=l.parameters.length>0&&Fl(l.parameters.at(-1))?l.parameters.slice(0,l.parameters.length-1):l.parameters;if(f.length!==o.arguments.length)throw new Error("Incorrect number of arguments.");f.forEach((y,g)=>{let w=o.arguments[g];if(w.kind!=="Input")return;let x=t[w.index];if(K(x.value,Qt))return;let I=x.value,F=Tn(y,I);if(F){x.value=Je.Pure(I,F);return}if(_s(y)!=null||typeof y=="object"&&"TypeParameter"in y){if(typeof I!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(I,null,2)}`);i.push({id:I,input:x,normalizedType:y});return}throw new Error(`Unknown call arg type ${JSON.stringify(y,null,2)} for value ${JSON.stringify(I,null,2)}`)})})),i.length){let o=[...new Set(i.map(({id:h})=>h))],s=Zl(o,Yl),a=(await Promise.all(s.map(h=>tr(e).multiGetObjects({ids:h,options:{showOwner:!0}})))).flat(),c=new Map(o.map((h,f)=>[h,a[f]])),l=Array.from(c).filter(([h,f])=>f.error).map(([h,f])=>h);if(l.length)throw new Error(`The following input objects are not invalid: ${l.join(", ")}`);i.forEach(({id:h,input:f,normalizedType:y})=>{let g=c.get(h),w=Ec(g);if(w){let x=jl(f.value)||y!=null&&Es(y)!=null;f.value=Je.SharedObjectRef({objectId:h,initialSharedVersion:w,mutable:x})}else f.value=Je.ObjectRef(Vr(g))})}};Lr=new WeakSet;An=async function({provider:e,onlyTransactionKind:t}){if(!t&&!V(this,$).sender)throw new Error("Missing transaction sender");if(await Promise.all([kt(this,qn,Zs).call(this,{provider:e,onlyTransactionKind:t}),kt(this,Hn,Qs).call(this,e)]),!t&&(await kt(this,Gn,Ys).call(this,{provider:e,onlyTransactionKind:t}),!V(this,$).gasConfig.budget)){let r=await tr(e).dryRunTransactionBlock({transactionBlock:V(this,$).build({overrides:{gasConfig:{budget:String(Jl),payment:[]}}})});if(r.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});let n=Xl*BigInt(this.blockData.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,o=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);this.setGasBudget(o>i?o:i)}};var Ql=d({currentTps:B(),tps30Days:B(),currentCheckpoint:u(),currentEpoch:u(),totalAddresses:u(),totalObjects:u(),totalPackages:u()}),rs={socketOptions:Ds,versionCacheTimeoutInSeconds:600},eg=class{constructor(e=bl,t=rs){this.options=t,this.connection=e;let r={...rs,...t};this.options=r,this.client=r.rpcClient??new cl(this.connection.fullnode),this.wsClient=r.websocketClient??new gl(this.connection.websocket,r.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{let e=await this.client.requestWithType("rpc.discover",[],re());return this.rpcApiVersion=e.info.version,this.cacheExpiry=Date.now()+(this.options.versionCacheTimeoutInSeconds??0)*1e3,this.rpcApiVersion}catch(e){console.warn("Error fetching version number of the RPC API",e)}}async requestSuiFromFaucet(e,t){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return ml(this.connection.faucet,e,t)}async getCoins(e){if(!e.owner||!ft(ee(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[e.owner,e.coinType,e.cursor,e.limit],Hi)}async getAllCoins(e){if(!e.owner||!ft(ee(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[e.owner,e.cursor,e.limit],Hi)}async getBalance(e){if(!e.owner||!ft(ee(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[e.owner,e.coinType],Wi)}async getAllBalances(e){if(!e.owner||!ft(ee(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[e.owner],p(Wi))}async getCoinMetadata(e){return await this.client.requestWithType("suix_getCoinMetadata",[e.coinType],uu)}async getTotalSupply(e){return await this.client.requestWithType("suix_getTotalSupply",[e.coinType],Pu)}async call(e,t){let r=await this.client.request(e,t);if(K(r,Rs))throw new Sn({req:{method:e,args:t},code:r.error.code,data:r.error.data,cause:new Error(r.error.message)});return r.result}async getMoveFunctionArgTypes(e){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[e.package,e.module,e.function],yu)}async getNormalizedMoveModulesByPackage(e){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[e.package],Su)}async getNormalizedMoveModule(e){return await this.client.requestWithType("sui_getNormalizedMoveModule",[e.package,e.module],Ss)}async getNormalizedMoveFunction(e){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[e.package,e.module,e.function],vs)}async getNormalizedMoveStruct(e){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[e.package,e.module,e.struct],xs)}async getOwnedObjects(e){if(!e.owner||!ft(ee(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit],Ac)}async getObject(e){if(!e.id||!Ar(Le(e.id)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[e.id,e.options],jr)}async multiGetObjects(e){if(e.ids.forEach(r=>{if(!r||!Ar(Le(r)))throw new Error(`Invalid Sui Object id ${r}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[e.ids,e.options],p(jr))}async queryTransactionBlocks(e){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"],ru)}async getTransactionBlock(e){if(!$i(e.digest))throw new Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[e.digest,e.options],Rr)}async multiGetTransactionBlocks(e){if(e.digests.forEach(r=>{if(!$i(r))throw new Error(`Invalid Transaction digest ${r}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[e.digests,e.options],p(Rr))}async executeTransactionBlock(e){return await this.client.requestWithType("sui_executeTransactionBlock",[typeof e.transactionBlock=="string"?e.transactionBlock:H(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType],Rr)}async getTotalTransactionBlocks(){let e=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],u());return BigInt(e)}async getReferenceGasPrice(){let e=await this.client.requestWithType("suix_getReferenceGasPrice",[],u());return BigInt(e)}async getStakes(e){if(!e.owner||!ft(ee(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[e.owner],p(qi))}async getStakesByIds(e){return e.stakedSuiIds.forEach(t=>{if(!t||!Ar(Le(t)))throw new Error(`Invalid Sui Stake id ${t}`)}),await this.client.requestWithType("suix_getStakesByIds",[e.stakedSuiIds],p(qi))}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],ju)}async queryEvents(e){return await this.client.requestWithType("suix_queryEvents",[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"],Bc)}async subscribeEvent(e){return this.wsClient.subscribeEvent(e.filter,e.onMessage)}async unsubscribeEvent(e){return this.wsClient.unsubscribeEvent(e.id)}async devInspectTransactionBlock(e){let t;if(Pt.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=H(await e.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")t=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)t=H(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.client.requestWithType("sui_devInspectTransactionBlock",[e.sender,t,e.gasPrice,e.epoch],zc)}async dryRunTransactionBlock(e){return await this.client.requestWithType("sui_dryRunTransactionBlock",[typeof e.transactionBlock=="string"?e.transactionBlock:H(e.transactionBlock)],nu)}async getDynamicFields(e){if(!e.parentId||!Ar(Le(e.parentId)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[e.parentId,e.cursor,e.limit],dl)}async getDynamicFieldObject(e){return await this.client.requestWithType("suix_getDynamicFieldObject",[e.parentId,e.name],jr)}async getLatestCheckpointSequenceNumber(){let e=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],u());return String(e)}async getCheckpoint(e){return await this.client.requestWithType("sui_getCheckpoint",[e.id],As)}async getCheckpoints(e){let t=await this.getRpcApiVersion();return await this.client.requestWithType("sui_getCheckpoints",[e.cursor,t&&(0,On.lt)(t,"0.32.0")?String(e?.limit):e?.limit,e.descendingOrder],$u)}async getCommitteeInfo(e){return await this.client.requestWithType("suix_getCommitteeInfo",[e?.epoch],Iu)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],Ql)}async getEpochs(e){let t=await this.getRpcApiVersion();return await this.client.requestWithType("suix_getEpochs",[e?.cursor,t&&(0,On.lt)(t,"0.32.0")?String(e?.limit):e?.limit,e?.descendingOrder],Uu)}async getMoveCallMetrics(){return await this.client.requestWithType("suix_getMoveCallMetrics",[],vu)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],ks)}async getValidatorsApy(){return await this.client.requestWithType("suix_getValidatorsApy",[],Tu)}async waitForTransactionBlock({signal:e,timeout:t=60*1e3,pollInterval:r=2*1e3,...n}){let i=AbortSignal.timeout(t),o=new Promise((s,a)=>{i.addEventListener("abort",()=>a(i.reason))});for(;!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch{await Promise.race([new Promise(a=>setTimeout(a,r)),o])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}},ef=(e=>(e[e.Sui=0]="Sui",e))(ef||{}),tf=(e=>(e[e.V0=0]="V0",e))(tf||{}),rf=(e=>(e[e.TransactionData=0]="TransactionData",e[e.TransactionEffects=1]="TransactionEffects",e[e.CheckpointSummary=2]="CheckpointSummary",e[e.PersonalMessage=3]="PersonalMessage",e))(rf||{});function nf(e){return[e,0,0]}function In(e,t){let r=nf(e),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),n}var sf=class{async requestSuiFromFaucet(e){return this.provider.requestSuiFromFaucet(await this.getAddress(),e)}constructor(e){this.provider=e}async signMessage(e){let t=await this.signData(In(3,e.message));return{messageBytes:H(e.message),signature:t}}async signTransactionBlock(e){let t;if(Pt.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(await this.getAddress()),t=await e.transactionBlock.build({provider:this.provider});else if(e.transactionBlock instanceof Uint8Array)t=e.transactionBlock;else throw new Error("Unknown transaction format");let r=In(0,t),n=await this.signData(r);return{transactionBlockBytes:H(t),signature:n}}async signAndExecuteTransactionBlock(e){let{transactionBlockBytes:t,signature:r}=await this.signTransactionBlock({transactionBlock:e.transactionBlock});return await this.provider.executeTransactionBlock({transactionBlock:t,signature:r,options:e.options,requestType:e.requestType})}async getTransactionBlockDigest(e){if(Pt.is(e))return e.setSenderIfNotSet(await this.getAddress()),e.getDigest({provider:this.provider});if(e instanceof Uint8Array)return Xe.getDigestFromBytes(e);throw new Error("Unknown transaction format.")}async devInspectTransactionBlock(e){let t=await this.getAddress();return this.provider.devInspectTransactionBlock({sender:t,...e})}async dryRunTransactionBlock(e){let t;if(Pt.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(await this.getAddress()),t=await e.transactionBlock.build({provider:this.provider});else if(typeof e.transactionBlock=="string")t=q(e.transactionBlock);else if(e.transactionBlock instanceof Uint8Array)t=e.transactionBlock;else throw new Error("Unknown transaction format");return this.provider.dryRunTransactionBlock({transactionBlock:t})}async getGasCostEstimation(...e){let t=await this.dryRunTransactionBlock(...e),r=iu(t.effects);if(typeof r>"u")throw new Error("Failed to estimate the gas cost from transaction");return r}},of=class extends sf{constructor(e,t){super(t),this.keypair=e}async getAddress(){return this.keypair.getPublicKey().toSuiAddress()}async signData(e){let t=this.keypair.getPublicKey(),r=we(e,{dkLen:32}),n=this.keypair.signData(r),i=this.keypair.getKeyScheme();return Vu({signatureScheme:i,signature:n,pubKey:t})}connect(e){return new of(this.keypair,e)}},eo="\u2026";function ng(e){let t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}${eo}${e.slice(-4)}`}function ig(e){return`${e.slice(0,10)}${eo}`}async function ug(e,t,r){let n=Fu(t),i=In(r,typeof e=="string"?q(e):e),o=we(i,{dkLen:32});switch(n.signatureScheme){case"ED25519":return to.default.sign.detached.verify(o,n.signature,n.pubKey.toBytes());case"Secp256k1":return W.verify(W.Signature.fromCompact(n.signature),mt(o),n.pubKey.toBytes());default:throw new Error(`Unknown signature scheme: "${n.signatureScheme}"`)}}var ns=Le("0x5"),is="sui_system",af="request_add_stake",lg="request_add_stake_with_locked_coin",cf="request_withdraw_stake",fg=class{static async newRequestAddStakeTxn(e,t,r,n){let i=new Pt,o=i.splitCoins(i.gas,[i.pure(r)]);i.moveCall({target:`${Fi}::${is}::${af}`,arguments:[i.object(ns),o,i.pure(n)]});let s=await e.multiGetObjects({ids:t,options:{showOwner:!0}});return i.setGasPayment(s.map(a=>Vr(a))),i}static async newRequestWithdrawlStakeTxn(e,t){let r=new Pt;return r.moveCall({target:`${Fi}::${is}::${cf}`,arguments:[r.object(ns),r.object(e),r.object(t)]}),r}};export{q as a,H as b,bt as c,K as d,me as e,nc as f,ic as g,M as h,ae as i,le as j,ht as k,sc as l,$i as m,Kr as n,ft as o,Ar as p,ee as q,Le as r,rp as s,$e as t,uc as u,lc as v,fc as w,dc as x,ss as y,xn as z,hc as A,np as B,pc as C,yc as D,ip as E,sp as F,Bt as G,os as H,as as I,gc as J,mc as K,op as L,ap as M,cp as N,jr as O,Dt as P,bc as Q,wc as R,Vr as S,vc as T,up as U,xc as V,Sc as W,lp as X,Rn as Y,fp as Z,Ec as _,dp as $,hp as aa,_c as ba,Tc as ca,Pn as da,pp as ea,yp as fa,Cc as ga,Ac as ha,cs as ia,Dn as ja,Bc as ka,Oc as la,Ic as ma,mp as na,bp as oa,Ct as pa,jc as qa,Rc as ra,Pc as sa,Re as ta,Dc as ua,Uc as va,Nc as wa,Mc as xa,Lc as ya,us as za,Ki as Aa,$c as Ba,vp as Ca,Vc as Da,Fc as Ea,Br as Fa,Gc as Ga,Fr as Ha,Un as Ia,zc as Ja,Jc as Ka,Xc as La,ls as Ma,Yc as Na,Zc as Oa,Qc as Pa,eu as Qa,tu as Ra,fs as Sa,ds as Ta,Rr as Ua,xp as Va,ru as Wa,nu as Xa,Sp as Ya,Ep as Za,_p as _a,Tp as $a,Nn as ab,kp as bb,Cp as cb,Ap as db,Bp as eb,Op as fb,Ip as gb,jp as hb,Rp as ib,Pp as jb,hs as kb,Dp as lb,ps as mb,Up as nb,iu as ob,Gr as pb,Np as qb,Mp as rb,Lp as sb,$p as tb,Kp as ub,Vp as vb,Fi as wb,ys as xb,Mn as yb,su as zb,Gp as Ab,ou as Bb,au as Cb,qp as Db,Hp as Eb,Wp as Fb,zp as Gb,Jp as Hb,Gi as Ib,cu as Jb,uu as Kb,je as Lb,lu as Mb,Yp as Nb,ms as Ob,hu as Pb,Qp as Qb,pu as Rb,yu as Sb,gu as Tb,mu as Ub,Ln as Vb,bu as Wb,wu as Xb,wn as Yb,vu as Zb,Rt as _b,ty as $b,vs as ac,xu as bc,xs as cc,Ss as dc,Su as ec,Es as fc,Eu as gc,_s as hc,_u as ic,Tu as jc,ny as kc,ku as lc,qi as mc,Cu as nc,iy as oc,sy as pc,Au as qc,oy as rc,ay as sc,Bu as tc,cy as uc,Ou as vc,Iu as wc,Ts as xc,ju as yc,Ru as zc,Hi as Ac,Wi as Bc,Pu as Cc,Du as Dc,ks as Ec,Uu as Fc,Nu as Gc,zi as Hc,As as Ic,$n as Jc,Ku as Kc,Vu as Lc,Fu as Mc,qr as Nc,Bs as Oc,wy as Pc,Hr as Qc,Gu as Rc,qu as Sc,Os as Tc,Hu as Uc,Wu as Vc,Zt as Wc,Ur as Xc,zu as Yc,Cy as Zc,rl as _c,Nr as $c,Sn as ad,sl as bd,ol as cd,al as dd,Rs as ed,cl as fd,hl as gd,Ds as hd,gl as id,ml as jd,Kn as kd,Ly as ld,bl as md,$y as nd,er as od,vl as pd,At as qd,Us as rd,Ns as sd,Ms as td,Ls as ud,$s as vd,Ks as wd,Vs as xd,xl as yd,Fs as zd,qs as Ad,Sl as Bd,lt as Cd,Tt as Dd,Hs as Ed,ue as Fd,Tl as Gd,kl as Hd,Xi as Id,zy as Jd,Cl as Kd,En as Ld,Ws as Md,Fn as Nd,Al as Od,ze as Pd,zs as Qd,dt as Rd,_n as Sd,Ol as Td,Qt as Ud,Je as Vd,Yi as Wd,Js as Xd,Jy as Yd,jl as Zd,Fl as _d,Tn as $d,Pt as ae,eg as be,ef as ce,tf as de,rf as ee,In as fe,sf as ge,of as he,ng as ie,ig as je,ug as ke,ns as le,is as me,af as ne,lg as oe,cf as pe,fg as qe};
//# sourceMappingURL=chunk-XIYYKWE3.js.map
