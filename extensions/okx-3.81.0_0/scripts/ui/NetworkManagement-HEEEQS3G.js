import{a as Rt,b as Ut}from"./chunk-OK3BSTHU.js";import{a as Ot}from"./chunk-O44OX6MD.js";import{a as st}from"./chunk-CIE6HRPG.js";import{a as At}from"./chunk-JG2G3PLS.js";import{a as Ft}from"./chunk-WEPJKKBH.js";import"./chunk-5AGWELXA.js";import{a as Mt}from"./chunk-7QX2TXNH.js";import{d as St}from"./chunk-ZDHJHPQ5.js";import{a as Dt}from"./chunk-6C7EZEII.js";import{a as Pt}from"./chunk-5XDQ7TQF.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import{a as bt,e as vt}from"./chunk-SYOIP55B.js";import{a as Tt}from"./chunk-WRVJM3F3.js";import{c as g}from"./chunk-OOYDFTEF.js";import{a as v}from"./chunk-JNIP4OYT.js";import{a as Y,b,c as gt,e as ht}from"./chunk-SWUBCABA.js";import"./chunk-FVCINJIW.js";import"./chunk-VUHYFIVA.js";import"./chunk-DZGSODSZ.js";import"./chunk-EEIYH3NC.js";import"./chunk-44SDMU5C.js";import{b as Lt}from"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{Ha as it,Z as It,_ as O,a as Et}from"./chunk-GCS2RK7E.js";import{a as xt}from"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{u as f}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as _e}from"./chunk-Z62JX42S.js";import{Na as de}from"./chunk-2QHGKEME.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as j}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import{c as Nt}from"./chunk-EZS2GR7E.js";import{j as kt,q as pe}from"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import{c as Ct,e as ce}from"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import{c as C}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import"./chunk-COF7YKSN.js";import{A as a,K as M}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{O as H,q as nt,x as V,y as yt}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{t as wt,u as rt,z as K}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as Z}from"./chunk-4QGZDIBD.js";import{b as T}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as c,o as t,q as e}from"./chunk-Y5OH3DDZ.js";t();e();var s=c(T()),te=c(de()),ee=c(j()),oe=c(_e());M();ce();pe();t();e();var D=c(T());var Gt=c(j());t();e();var R={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Kt=({currentTab:o,onTabChange:r,tabsConfig:l})=>{let n=(0,Gt.useHistory)(),m=(0,D.useCallback)(i=>{r(i),n.replace(`${It}?tab=${String(i)}`)},[n]);return D.default.createElement(D.default.Fragment,null,D.default.createElement(H,{className:R.tabsContainer,headerClassName:R.tabs,panelListClassName:R.panelList,activeId:o,size:H.SIZE.xl,color:H.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:m,navLeftClassName:R.left,navRightClassName:R.right},l.map(i=>{let{title:_,id:w}=i;return D.default.createElement(H.TabPane,{tab:_,key:w,id:w},i.contentComponent)})))};t();e();var P=c(T()),$t=c(j()),Zt=c(Z());M();t();e();var h=c(T()),Ht=c(Z());M();t();e();var U={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var fe=({onViewDetail:o,onDelete:r})=>{let l=(0,h.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:a("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:a("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>h.default.createElement(g.IconButton,{icon:"okx-wallet-plugin-more",className:U.moreIcon}),m=({option:_})=>{let w=_;return h.default.createElement("div",{className:U.option},h.default.createElement(g,{className:(0,Ht.default)(w.icon,U.optionIcon)}),h.default.createElement("span",{className:U.optionText},w.label))},i=(0,h.useCallback)(_=>{_.preventDefault(),_.stopPropagation()},[]);return h.default.createElement("div",{onClick:i},h.default.createElement(V,{options:l,align:V.DIRECTION.right,optionAlign:V.DIRECTION.left,displayArea:n,renderOption:m,onChange:_=>{_?.action()},optionItemClassName:U.optionItem}))},qt=fe;t();e();var E=c(T()),Wt=c(Z());M();t();e();var k=c(T()),Bt=c(Z());t();e();var q={root:"_root_1lmgy_1",title__wrap:"_title__wrap_1lmgy_4",titleWrap:"_title__wrap_1lmgy_4",desc__wrap:"_desc__wrap_1lmgy_9",descWrap:"_desc__wrap_1lmgy_9",checkIcon:"_checkIcon_1lmgy_12"};var ue=({icon:o,name:r,rpcUrl:l,children:n,keyword:m,className:i,onClick:_,id:w,...x})=>{let L=Ft(),d=w===L,A=(0,k.useMemo)(()=>{if(o&&k.default.isValidElement(o))return o;let N={size:g.SIZE.lg};return o&&typeof o=="string"?{src:o,type:g.TYPE.image,defaultIcon:Nt,...N}:o&&typeof o=="object"?{...N,...o}:r&&typeof r=="string"?{text:r,type:g.TYPE.text,textTheme:g.TEXT_THEME.black,...N}:!1},[o,r]);return k.default.createElement(bt,{icon:A,className:(0,Bt.default)(q["wallet-list-token"],i),onClick:_,keyword:m,...x},k.default.createElement(C.FlexBox,{style:{flex:1,overflow:"hidden"},direction:C.DIRECTION.vertical},k.default.createElement(C.FlexBox,{align:C.ALIGN.center,className:q.title__wrap},k.default.createElement(f.HighlightKeyword,{strong:!0,text:r,keyword:m,ellipsis:{tooltip:!0}})),!!l&&k.default.createElement(C.FlexBox,{align:C.ALIGN.center,className:q.desc__wrap},k.default.createElement(f.Text,{strong:!0,ellipsis:{tooltip:!0},size:f.SIZE.xs,type:f.TYPE.secondary},l))),d&&k.default.createElement(g,{icon:"okx-wallet-plugin-check",className:q.checkIcon}),n)},zt=k.default.memo(ue);t();e();var Q={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var S=({listData:o,keywords:r,onSelect:l,emptyText:n,renderCustomItem:m,isRpcMode:i,children:_,listContainerClassName:w,searchMode:x=!1})=>{let L=(0,E.useRef)(null),d=(0,E.useCallback)(N=>{let{chainName:z,icon:W,rpcUrl:tt,id:et}=N||{};return E.default.createElement(zt,{id:N.id,name:z,icon:et===""?{size:"32px",fontSize:"32px",icon:W,type:"icon",text:z}:W,rpcUrl:tt,keyword:r,onClick:()=>{l(N,i)}},m?.(N))},[r,l,i,m]),A=(0,E.useCallback)(()=>x?null:E.default.createElement(yt.State,{className:Q.emptyContainer,title:n??a("wallet_extension_cryptodetail_text_nodata_found")}),[n,x]);return E.default.createElement("div",{ref:L,className:(0,Wt.default)(Q.listContainer,w,{[Q.searchMode]:x})},E.default.createElement(vt,{virtualable:!x,itemKey:"id","data-testid":v.NETWORK_MANAGEMENT_PAGE.NETWORK_LIST,searchable:!1,dataSource:o,renderItem:d,renderEmpty:A}),_)};t();e();var at={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var X=({isEVMChainExisted:o,disableScroll:r=!1,...l})=>{let n=(0,$t.useHistory)(),m=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(O):Dt(O)},i=async d=>{n.push(`${O}?id=${encodeURIComponent(d.id)}&modify=${Y.CAN}`)},_=Ot(),w=d=>{_({editRpcInfo:{uniqueId:d.id,rpcUrl:d.rpcUrl}})},x=d=>P.default.createElement(qt,{onDelete:()=>{w(d)},onViewDetail:()=>{i(d)}}),L=o;return P.default.createElement(P.default.Fragment,null,P.default.createElement(S,{...l,listContainerClassName:(0,Zt.default)({[at.listContainer]:L,[at.unScollListContainer]:r}),renderCustomItem:x},L&&P.default.createElement(Lt.FooterActions,null,P.default.createElement(K,{block:!0,size:K.SIZE.lg,type:K.TYPE.highlight,category:K.CATEGORY.fill,onClick:m},a("developer_mode_network_maintitle_add_network")))))};t();e();var Yt=c(T());M();t();e();var Vt={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var jt=({onSearch:o,searchKeyword:r})=>Yt.default.createElement(nt.Search,{className:Vt.searchInput,"data-testid":v.NETWORK_MANAGEMENT_PAGE.NETWORK_SEARCH,placeholder:a("extension_wallet_network_input_search_network"),size:nt.SIZE.md,value:r,onChange:l=>{let n=l.target.value;o(n)}});t();e();var mt=c(T());var Qt=c(j());t();e();var lt={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var J=o=>{let r=(0,Qt.useHistory)();return mt.default.createElement(S,{...o,renderCustomItem:n=>mt.default.createElement(g.IconButton,{icon:"okx-wallet-plugin-more",className:lt.moreIcon,coreClassName:lt["more-icon__core"],onClick:m=>{m.preventDefault(),m.stopPropagation(),r.push(`${O}?id=${encodeURIComponent(n.id)}&modify=${Y.CANT}`)}})})};t();e();var G=c(T());M();t();e();var Xt=o=>{let{onClose:r,visible:l,network:n}=o;return l?G.default.createElement(C.Portal,{component:C.Container,className:"net-loading"},G.default.createElement(wt,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),G.default.createElement("div",{className:"net-loading__content"},G.default.createElement(rt,{size:rt.SIZE.xl}),G.default.createElement("div",{className:"net-loading__content-text"},a("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=c(T());M();t();e();var B={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function ct(o){let{mainnetList:r,testnetList:l,customList:n,debouncedKeywords:m,onSelect:i}=o;return u.default.createElement("div",{className:B.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:B.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},a("extension_wallet_network_tab_main_network")),u.default.createElement(S,{listData:r,keywords:m,onSelect:i,isRpcMode:!1,searchMode:!0})):null,l.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:B.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},a("developer_mode_network_title_test_network")),u.default.createElement(J,{listData:l,keywords:m,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:B.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},a("developer_mode_network_title_editcustom")),u.default.createElement(X,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:m,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}t();e();var Jt={root:"_root_1basx_1","header-gulf":"_header-gulf_1basx_7",headerGulf:"_header-gulf_1basx_7"};var we=()=>{let o=(0,ee.useHistory)(),r=(0,te.useDispatch)(),l=Mt(),n=(0,s.useCallback)(()=>{o.replace(Et)},[o]),[m,i]=(0,s.useState)(b.init),[_,w]=(0,s.useState)({rpcUrl:"",uniqueId:"",name:""}),{rpcNetworks:x}=ht(),L=Tt(),d=(0,s.useRef)(!1),A=async y=>{i(b.loading),d.current=!1;try{let{rpcUrl:I,uniqueId:ot}=y;await Rt(I),d.current||(await r(st({isRpcMode:!0,currentNetworkUniqueId:ot})),i(b.success),o.replace(it))}catch{d.current||i(b.failed)}},[N,z]=(0,s.useState)(""),W=y=>{z(y)},[tt,et]=(0,s.useState)(parseInt(l.get("tab")||"0",10)),re=y=>{et(y)},F=(0,oe.useDebounce)(N,{wait:300}),{resetFilterInfo:ne}=Pt(),{mainnetListForUI:pt,customListForUI:_t,testnetListForUI:dt,isEVMChainExisted:ft}=At(F),{isRpcMode:ie}=xt(),se=async y=>{let I=x.find(ot=>ot.uniqueId===y.id);if(ie&&gt(L,I)){o.replace(it);return}I&&(w(I),await A(I))},ae=async y=>{await r(st({isRpcMode:!1,currentNetworkUniqueId:y.id})),ne(!0),n()},le=async()=>{await Ct().clearDappData(),await kt(r)},$=async(y,I)=>{await le(),I?await se(y):await ae(y)},ut=ft?a("wallet_extension_cryptodetail_text_nodata_found"):a("extension_wallet_network_text_unused_testnet"),me=[{title:s.default.createElement("div",{"data-testid":`${v.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-extension_wallet_network_tab_main_network`},a("extension_wallet_network_tab_main_network")),id:0,contentComponent:s.default.createElement(S,{listData:pt,keywords:F,onSelect:$,isRpcMode:!1})},{title:s.default.createElement("div",{"data-testid":`${v.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-developer_mode_network_title_test_network`},a("developer_mode_network_title_test_network")),id:1,contentComponent:s.default.createElement(J,{listData:dt,keywords:F,onSelect:$,emptyText:ut,isRpcMode:!0})},{title:s.default.createElement("div",{"data-testid":`${v.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-developer_mode_network_title_editcustom`},a("developer_mode_network_title_editcustom")),id:2,contentComponent:s.default.createElement(X,{isEVMChainExisted:ft,emptyText:ut,listData:_t,keywords:F,onSelect:$,isRpcMode:!0})}];return s.default.createElement(C.Container,{className:Jt.root},s.default.createElement(St,{title:a("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),s.default.createElement(jt,{onSearch:W,searchKeyword:N}),F?s.default.createElement(ct,{mainnetList:pt,testnetList:dt,customList:_t,debouncedKeywords:F,onSelect:$}):s.default.createElement(Kt,{currentTab:tt,onTabChange:re,tabsConfig:me}),s.default.createElement(Ut,{visible:m===b.failed,onRetry:async()=>{await A(_)},onChangeNet:()=>{i(b.init)}}),s.default.createElement(Xt,{visible:m===b.loading,network:_?.name,onClose:()=>{i(b.init),d.current=!0}}))},gn=we;export{we as NetworkManagement,gn as default};
//# sourceMappingURL=NetworkManagement-HEEEQS3G.js.map
