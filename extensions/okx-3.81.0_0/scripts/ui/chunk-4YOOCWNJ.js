import{a as X,c as mt}from"./chunk-PDRHBICP.js";import{a as Y,b as J,d as lt}from"./chunk-6L3YEHQB.js";import{f as $,g as W,h as _,j as G,o as ft}from"./chunk-HI3LE734.js";import{b as it,c as ut,d as pt,g as ct,o as T,q as Z}from"./chunk-Y5OH3DDZ.js";var st={};pt(st,{Url:()=>g,default:()=>yt,format:()=>tt,parse:()=>z,resolve:()=>ht,resolveObject:()=>ot});function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function z(t,s,h){if(t&&G(t)&&t instanceof g)return t;var i=new g;return i.parse(t,s,h),i}function E(t,s,h,i){if(!_(s))throw new TypeError("Parameter 'url' must be a string, not "+typeof s);var l=s.indexOf("?"),u=l!==-1&&l<s.indexOf("#")?"?":"#",y=s.split(u),c=/\\/g;y[0]=y[0].replace(c,"/"),s=y.join(u);var o=s;if(o=o.trim(),!i&&s.split("#").length===1){var n=xt.exec(o);if(n)return t.path=o,t.href=o,t.pathname=n[1],n[2]?(t.search=n[2],h?t.query=J(t.search.substr(1)):t.query=t.search.substr(1)):h&&(t.search="",t.query={}),t}var p=qt.exec(o);if(p){p=p[0];var O=p.toLowerCase();t.protocol=O,o=o.substr(p.length)}if(i||p||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var P=o.substr(0,2)==="//";P&&!(p&&S[p])&&(o=o.substr(2),t.slashes=!0)}var e,q,C,A;if(!S[p]&&(P||p&&!I[p])){var r=-1;for(e=0;e<k.length;e++)q=o.indexOf(k[e]),q!==-1&&(r===-1||q<r)&&(r=q);var L,a;for(r===-1?a=o.lastIndexOf("@"):a=o.lastIndexOf("@",r),a!==-1&&(L=o.slice(0,a),o=o.slice(a+1),t.auth=decodeURIComponent(L)),r=-1,e=0;e<H.length;e++)q=o.indexOf(H[e]),q!==-1&&(r===-1||q<r)&&(r=q);r===-1&&(r=o.length),t.host=o.slice(0,r),o=o.slice(r),at(t),t.hostname=t.hostname||"";var j=t.hostname[0]==="["&&t.hostname[t.hostname.length-1]==="]";if(!j){var f=t.hostname.split(/\./);for(e=0,C=f.length;e<C;e++){var m=f[e];if(!!m&&!m.match(Q)){for(var R="",b=0,x=m.length;b<x;b++)m.charCodeAt(b)>127?R+="x":R+=m[b];if(!R.match(Q)){var U=f.slice(0,e),F=f.slice(e+1),M=m.match(dt);M&&(U.push(M[1]),F.unshift(M[2])),F.length&&(o="/"+F.join(".")+o),t.hostname=U.join(".");break}}}}t.hostname.length>jt?t.hostname="":t.hostname=t.hostname.toLowerCase(),j||(t.hostname=X(t.hostname)),A=t.port?":"+t.port:"";var nt=t.hostname||"";t.host=nt+A,t.href+=t.host,j&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!Ct[O])for(e=0,C=K.length;e<C;e++){var w=K[e];if(o.indexOf(w)!==-1){var B=encodeURIComponent(w);B===w&&(B=escape(w)),o=o.split(w).join(B)}}var D=o.indexOf("#");D!==-1&&(t.hash=o.substr(D),o=o.slice(0,D));var N=o.indexOf("?");if(N!==-1?(t.search=o.substr(N),t.query=o.substr(N+1),h&&(t.query=J(t.query)),o=o.slice(0,N)):h&&(t.search="",t.query={}),o&&(t.pathname=o),I[O]&&t.hostname&&!t.pathname&&(t.pathname="/"),t.pathname||t.search){A=t.pathname||"";var et=t.search||"";t.path=A+et}return t.href=V(t),t}function tt(t){return _(t)&&(t=E({},t)),V(t)}function V(t){var s=t.auth||"";s&&(s=encodeURIComponent(s),s=s.replace(/%3A/i,":"),s+="@");var h=t.protocol||"",i=t.pathname||"",l=t.hash||"",u=!1,y="";t.host?u=s+t.host:t.hostname&&(u=s+(t.hostname.indexOf(":")===-1?t.hostname:"["+this.hostname+"]"),t.port&&(u+=":"+t.port)),t.query&&G(t.query)&&Object.keys(t.query).length&&(y=Y(t.query));var c=t.search||y&&"?"+y||"";return h&&h.substr(-1)!==":"&&(h+=":"),t.slashes||(!h||I[h])&&u!==!1?(u="//"+(u||""),i&&i.charAt(0)!=="/"&&(i="/"+i)):u||(u=""),l&&l.charAt(0)!=="#"&&(l="#"+l),c&&c.charAt(0)!=="?"&&(c="?"+c),i=i.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),c=c.replace("#","%23"),h+u+i+c+l}function ht(t,s){return z(t,!1,!0).resolve(s)}function ot(t,s){return t?z(t,!1,!0).resolveObject(s):s}function at(t){var s=t.host,h=bt.exec(s);h&&(h=h[0],h!==":"&&(t.port=h.substr(1)),s=s.substr(0,s.length-h.length)),s&&(t.hostname=s)}var yt,qt,bt,xt,Ot,At,K,H,k,jt,Q,dt,Ct,S,I,rt=it(()=>{T();Z();mt();ft();lt();yt={parse:z,resolve:ht,resolveObject:ot,format:tt,Url:g};qt=/^([a-z0-9.+-]+:)/i,bt=/:[0-9]*$/,xt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ot=["<",">",'"',"`"," ","\r",`
`,"	"],At=["{","}","|","\\","^","`"].concat(Ot),K=["'"].concat(At),H=["%","/","?",";","#"].concat(K),k=["/","?","#"],jt=255,Q=/^[+a-z0-9A-Z_-]{0,63}$/,dt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ct={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};g.prototype.parse=function(t,s,h){return E(this,t,s,h)};g.prototype.format=function(){return V(this)};g.prototype.resolve=function(t){return this.resolveObject(z(t,!1,!0)).format()};g.prototype.resolveObject=function(t){if(_(t)){var s=new g;s.parse(t,!1,!0),t=s}for(var h=new g,i=Object.keys(this),l=0;l<i.length;l++){var u=i[l];h[u]=this[u]}if(h.hash=t.hash,t.href==="")return h.href=h.format(),h;if(t.slashes&&!t.protocol){for(var y=Object.keys(t),c=0;c<y.length;c++){var o=y[c];o!=="protocol"&&(h[o]=t[o])}return I[h.protocol]&&h.hostname&&!h.pathname&&(h.path=h.pathname="/"),h.href=h.format(),h}var n;if(t.protocol&&t.protocol!==h.protocol){if(!I[t.protocol]){for(var p=Object.keys(t),O=0;O<p.length;O++){var P=p[O];h[P]=t[P]}return h.href=h.format(),h}if(h.protocol=t.protocol,!t.host&&!S[t.protocol]){for(n=(t.pathname||"").split("/");n.length&&!(t.host=n.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),n[0]!==""&&n.unshift(""),n.length<2&&n.unshift(""),h.pathname=n.join("/")}else h.pathname=t.pathname;if(h.search=t.search,h.query=t.query,h.host=t.host||"",h.auth=t.auth,h.hostname=t.hostname||t.host,h.port=t.port,h.pathname||h.search){var e=h.pathname||"",q=h.search||"";h.path=e+q}return h.slashes=h.slashes||t.slashes,h.href=h.format(),h}var C=h.pathname&&h.pathname.charAt(0)==="/",A=t.host||t.pathname&&t.pathname.charAt(0)==="/",r=A||C||h.host&&t.pathname,L=r,a=h.pathname&&h.pathname.split("/")||[],j=h.protocol&&!I[h.protocol];n=t.pathname&&t.pathname.split("/")||[],j&&(h.hostname="",h.port=null,h.host&&(a[0]===""?a[0]=h.host:a.unshift(h.host)),h.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(n[0]===""?n[0]=t.host:n.unshift(t.host)),t.host=null),r=r&&(n[0]===""||a[0]===""));var f;if(A)h.host=t.host||t.host===""?t.host:h.host,h.hostname=t.hostname||t.hostname===""?t.hostname:h.hostname,h.search=t.search,h.query=t.query,a=n;else if(n.length)a||(a=[]),a.pop(),a=a.concat(n),h.search=t.search,h.query=t.query;else if(!W(t.search))return j&&(h.hostname=h.host=a.shift(),f=h.host&&h.host.indexOf("@")>0?h.host.split("@"):!1,f&&(h.auth=f.shift(),h.host=h.hostname=f.shift())),h.search=t.search,h.query=t.query,(!$(h.pathname)||!$(h.search))&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.href=h.format(),h;if(!a.length)return h.pathname=null,h.search?h.path="/"+h.search:h.path=null,h.href=h.format(),h;for(var m=a.slice(-1)[0],R=(h.host||t.host||a.length>1)&&(m==="."||m==="..")||m==="",b=0,x=a.length;x>=0;x--)m=a[x],m==="."?a.splice(x,1):m===".."?(a.splice(x,1),b++):b&&(a.splice(x,1),b--);if(!r&&!L)for(;b--;b)a.unshift("..");r&&a[0]!==""&&(!a[0]||a[0].charAt(0)!=="/")&&a.unshift(""),R&&a.join("/").substr(-1)!=="/"&&a.push("");var U=a[0]===""||a[0]&&a[0].charAt(0)==="/";return j&&(h.hostname=h.host=U?"":a.length?a.shift():"",f=h.host&&h.host.indexOf("@")>0?h.host.split("@"):!1,f&&(h.auth=f.shift(),h.host=h.hostname=f.shift())),r=r||h.host&&a.length,r&&!U&&a.unshift(""),a.length?h.pathname=a.join("/"):(h.pathname=null,h.path=null),(!$(h.pathname)||!$(h.search))&&(h.path=(h.pathname?h.pathname:"")+(h.search?h.search:"")),h.auth=t.auth||h.auth,h.slashes=h.slashes||t.slashes,h.href=h.format(),h};g.prototype.parseHost=function(){return at(this)}});var It=ut((zt,v)=>{T();Z();var d=(rt(),ct(st));if(d&&d.default){v.exports=d.default;for(let t in d)v.exports[t]=d[t]}else d&&(v.exports=d)});export{It as a};
//# sourceMappingURL=chunk-4YOOCWNJ.js.map
