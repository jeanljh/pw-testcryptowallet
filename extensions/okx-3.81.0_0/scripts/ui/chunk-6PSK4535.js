import{c as Kt}from"./chunk-GCPFAJKK.js";import{a as qt}from"./chunk-7OWNMKUE.js";import{a as Jt}from"./chunk-DEJA7CK3.js";import{a as _e,b as Vt}from"./chunk-RGPNT5G7.js";import{O as He}from"./chunk-OQUE64GQ.js";import{k as Yt,l as ve}from"./chunk-Q7DF5H6O.js";import{A as $t}from"./chunk-2VUOGSTW.js";import{d as zt,g as Ht}from"./chunk-BNS5ABAB.js";import{c as Zt}from"./chunk-ROS2ENQV.js";import{a as Gt}from"./chunk-TE6AOABI.js";import{a as fr}from"./chunk-I56NHY6E.js";import{e as Ot}from"./chunk-7HYQ2DGP.js";import{a as Ae}from"./chunk-UOWKDFTX.js";import{a as jt,e as ze}from"./chunk-SYOIP55B.js";import{k as Bt}from"./chunk-3ZKJXYZ4.js";import{La as wt,ia as At}from"./chunk-MSFAPAHB.js";import{c as ye}from"./chunk-OOYDFTEF.js";import{b as gr}from"./chunk-4W7LQOP5.js";import{b as be}from"./chunk-7MCLPJAH.js";import{a as te,f as Mt,g as Ut,n as rt,o as Wt,u as a}from"./chunk-FGAB46RQ.js";import{o as pe}from"./chunk-Z62JX42S.js";import{C as Et,Na as Pt,la as Ue,ma as Lt}from"./chunk-2QHGKEME.js";import{c as Y,ha as St,ia as kt}from"./chunk-WU2LB6XB.js";import{b as Ft,c as We,g as ot}from"./chunk-EZS2GR7E.js";import{h as je,i as Dt}from"./chunk-CP2RIMI2.js";import{f as Nt}from"./chunk-EFOY37CC.js";import{c as r}from"./chunk-HMTT52FG.js";import{Sb as xr,ub as De}from"./chunk-COF7YKSN.js";import{A as m,K as J,o as G,z as me}from"./chunk-VZKEX7KP.js";import{A as $,H as Oe,O as tt,c as It,e as ne,g as Be,o as Pe}from"./chunk-BJKBO23H.js";import{I as bt,M as Se,U as vt,W as Ct,a as Tt,b as et,e as yt,f as Te,va as ke}from"./chunk-XFTQD4B2.js";import{a as K}from"./chunk-GVV6OTQP.js";import{t as re,z as q}from"./chunk-ZFVABNQN.js";import{L as ht}from"./chunk-LBWWOQL4.js";import{a as se}from"./chunk-4QGZDIBD.js";import{b as v}from"./chunk-73B6GL3S.js";import{b as dr}from"./chunk-Z7PBP7IJ.js";import{f as _,o as n,q as i}from"./chunk-Y5OH3DDZ.js";n();i();var Ge=_(v()),to=_(pe());n();i();var O=_(v()),Xt=_(Pt()),Rt=_(se());J();n();i();var Qt=e=>{e&&typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=12?28:t<=14?26:t>14&&t<=16?24:t>16&&t<=18?22:t>18&&t<=20?20:t>20&&t<=22?18:16};n();i();var ce={singleChangeSummary:"_singleChangeSummary_15r2r_1",cryptoWrap:"_cryptoWrap_15r2r_4",cryptoNumber:"_cryptoNumber_15r2r_8",cryptoSymbol:"_cryptoSymbol_15r2r_13",currencyNumber:"_currencyNumber_15r2r_17",coinLogo:"_coinLogo_15r2r_22",singleChangeSummaryWithLogo:"_singleChangeSummaryWithLogo_15r2r_26"};var Tr=({coinId:e,injectCoin:t,currencyId:o,assetChange:s,justify:l="center",currencyAssetChange:p,withCoinLogo:c=!1,useMinPrecision:x=!0,needSwapCurrency:d=!1})=>{let b=zt(e,{withPrice:!0}),f=(0,O.useMemo)(()=>t||b,[b,t]),I=(0,Xt.useSelector)(T=>typeof o!="number"?Ue(T):Lt(T,o)),N=f?.usdPrice?G.mul(f?.usdPrice,I?.usdToThisRate):0,C=(0,O.useMemo)(()=>{let T;return s!==void 0&&!x&&(T=s),T===void 0&&s!==void 0&&f?.decimals!==void 0&&x&&(T=G.div(s,10**f?.decimals)),T===void 0&&p!==void 0&&N&&(T=G.div(p,N)),T},[s,p,N,f?.decimals,x]),h=(0,O.useMemo)(()=>{let T;return p!==void 0&&(T=G.mul(p,d?I?.usdToThisRate:1)),T===void 0&&C!==void 0&&(T=G.mul(C,N||0)),T===void 0&&G.lt(T,0)&&(T=G.mul(T,-1)),T},[N,C,d,p,I?.usdToThisRate]),k=(0,O.useMemo)(()=>C!==void 0?te(C,{signDisplay:!0,precision:f?.orderDecimalNum??f?.decimals}).value:"",[f?.decimals,C]),U=(0,O.useMemo)(()=>h!==void 0?Mt(h,{currencySign:I?.symbol}).value:"",[I?.symbol,h]),B=(0,O.useMemo)(()=>f?.image?{src:f?.image}:f?.symbol?{text:f?.symbol}:null,[f?.image,f?.symbol]),y=c?r.FlexBox:O.default.Fragment,L=c?{align:r.ALIGN.center}:{};return O.default.createElement(y,{...L},!!c&&!!B&&O.default.createElement(ye,{...B,size:ye.SIZE.lg,className:ce.coinLogo}),O.default.createElement(r.FlexBox,{wrap:!0,justify:l,align:r.ALIGN.end,className:(0,Rt.default)(ce.singleChangeSummary,{[ce.singleChangeSummaryWithLogo]:c})},O.default.createElement(a.AdaptiveText,{strong:!0,nowrap:!0,ellipsis:{tooltip:`${k} ${f?.symbol}`},component:"span",autoSize:Qt,className:ce.cryptoWrap,text:`${k}${f?.symbol}`},O.default.createElement(a.Text,{inherit:!0,className:ce.cryptoNumber,component:"span"},k),O.default.createElement(a.Text,{inherit:!0,className:ce.cryptoSymbol,component:"span"},f?.symbol)),O.default.createElement(a.Text,{component:"span",className:ce.currencyNumber},U)))},eo=Tr;var yr=({title:e,space:t=24,tooltip:o,currencyId:s,summaryList:l,useMinPrecision:p,needSwapCurrency:c})=>{let x=(0,to.useMemoizedFn)(d=>Ge.default.createElement(eo,{withCoinLogo:!0,justify:"flex-start",coinId:d?.coinId,injectCoin:d?.injectCoin,assetChange:d?.assetChange,currencyId:d?.currencyId||s,currencyAssetChange:d?.currencyAssetChange,useMinPrecision:d?.useMinPrecision||p,needSwapCurrency:d?.needSwapCurrency||c}));return Ge.default.createElement(_e,{title:e,tooltip:o,space:8},Ge.default.createElement(ze,{space:t,renderEmpty:!1,dataSource:l,renderItem:x}))},oo=yr;n();i();var S=_(v()),no=_(pe()),io=_(se());ke();J();n();i();var A={NORMAL:"NORMAL",FEE_ERROR:"FEE_ERROR",...kt,...St},ro={[A.BALANCE_INSUFFICIENT]:"wallet_transfer_errortip_insufficient_balance",[A.FEE_ERROR]:"wallet_extension_alert_estimate_unavailable",[A.DEFRAUD]:"wallet_extension_protocol_toast_risk_warning_desc",[A.SIMILAR]:"wallet_extension_modaldesc_riskaddress"};n();i();var xe={"retina-border-basic":"_retina-border-basic_rvlw9_1",retinaBorderBasic:"_retina-border-basic_rvlw9_1",headerTip:"_headerTip_rvlw9_29","tip-message-link":"_tip-message-link_rvlw9_65",tipMessageLink:"_tip-message-link_rvlw9_65",headerTipWarning:"_headerTipWarning_rvlw9_68",headerTipContent:"_headerTipContent_rvlw9_72",headerTipMsg:"_headerTipMsg_rvlw9_75",headerTipAction:"_headerTipAction_rvlw9_83"};var br=({text:e,track:t})=>{let o=Gt();return S.default.createElement(S.default.Fragment,null,e,S.default.createElement(Be,{className:xe["tip-message-link"],type:Be.TYPE.primary,weight:Be.WEIGHT.muted,size:Be.SIZE.xs,onClick:()=>{yt(t)&&t(),setTimeout(()=>{globalThis.platform.openTab({url:o?.scamsUrl})},100)}},m("wallet_extension_scam_toast_link_view_scams")))};function vr(e,t,o,s){if([A.DEFRAUD,A.SIMILAR].includes(e)){let l=!!s&&Et(s),p=e===A.DEFRAUD?t?.msg:m(o,{contractaddress:l});return S.default.createElement(br,{track:At,text:p})}return null}var Cr=({type:e,coinId:t,inherit:o,address:s,walletId:l,className:p,message:c,hidden:x,actions:d=[],renderActions:b,renderMessage:f,blockAddressInfo:I,supportGasStation:N=!0})=>{let[C,{toggle:h}]=(0,no.useBoolean)(!1),[k,U]=(0,S.useState)(t),[B,y]=Ht(t),L=B?.baseCoinId===0,T=(0,S.useMemo)(()=>{if(f&&typeof f=="function"){let j=f(e);if(j)return j}if(B?.symbol&&e===A.FEE_BALANCE_INSUFFICIENT)return m(L?"wallet_extension_popup_adjust_add":"wallet_extension_popup_insufficient_network_fee",{token:y?.symbol,symbol:y?.symbol});if(B?.symbol&&e===A.BALANCE_INSUFFICIENT)return m("wallet_transfer_errortip_insufficient_balance",{chainSymbol:B?.symbol});if(c)return c;if(!e)return null;let V=ro[e],ee=vr(e,I,V,s);return ee||m(V,{chainSymbol:B?.symbol})},[f,B?.symbol,e,c,L,y?.symbol,s,I?.msg]),W=(0,S.useMemo)(()=>b&&typeof b=="function"?b(e)||[]:d,[d,b]),R=(0,S.useMemo)(()=>{let V=[];if(!!e&&[A.BALANCE_INSUFFICIENT,A.FEE_BALANCE_INSUFFICIENT].includes(e)&&N&&!o){let ee=e===A.FEE_BALANCE_INSUFFICIENT?y?.symbol:B?.symbol;return V=[{btnText:m("wallet_extension_placeorder_textbtn_replenish",{token:ee}),onClick:()=>{h(),U(e===A.FEE_BALANCE_INSUFFICIENT?y?.coinId:t)}}],[...V,...W]}return W},[o,e,N,W,y?.symbol,y?.coinId,B?.symbol,h,t]);return x||!T?null:S.default.createElement(S.default.Fragment,null,S.default.createElement(be,{offsetTop:0,style:{zIndex:10}},S.default.createElement(r.FlexBox,{className:(0,io.default)(xe.headerTip,p),align:r.ALIGN.center},S.default.createElement(re,{iconName:"okx-wallet-plugin-error",className:xe.headerTipWarning}),S.default.createElement(r.Box,{className:xe.headerTipContent},S.default.createElement(a.Text,{block:!0,className:xe.headerTipMsg},T),!bt(R)&&S.default.createElement(r.Space,{wrap:!0,space:12,style:{marginTop:"4px"}},R.map(({btnText:V,onClick:ee})=>S.default.createElement(a.Text,{strong:700,className:xe.headerTipAction,onClick:ee},V)))))),N&&S.default.createElement(Yt,{address:s,visible:C,walletId:l,coinId:k,closeCallback:h}))},so=S.default.memo(Cr);n();i();var ao=_(v());var Nr=({preExecRet:e})=>{let{assetDiffList:t}=e||{};if(t?.length){let o=t.map(s=>({title:s.title,tooltip:s.titleHover,summaryList:s.tokenAssetDifflist.map(l=>{let{tokenInfo:p,type:c,amount:x,usdAmount:d}=l;return{injectCoin:{...p,image:p.imageUrl},withCoinLogo:!0,assetChange:x?`${c}${x}`:void 0,currencyAssetChange:d||void 0,needSwapCurrency:!0}})}));return ao.default.createElement(r.Space,{space:24,direction:r.DIRECTION.vertical},o.map(oo))}return null},lo=Nr;n();i();var g=_(v()),ue=_(pe()),nt=_(se());ke();J();xr();n();i();var ae=_(v()),mo=_(pe());n();i();var E={"mev-control-enter":"_mev-control-enter_1499c_1",mevControlEnter:"_mev-control-enter_1499c_1","mev-control-content":"_mev-control-content_1499c_6",mevControlContent:"_mev-control-content_1499c_6","mev-control-content-title":"_mev-control-content-title_1499c_9",mevControlContentTitle:"_mev-control-content-title_1499c_9","mev-control-content-desc":"_mev-control-content-desc_1499c_14",mevControlContentDesc:"_mev-control-content-desc_1499c_14","list-content":"_list-content_1499c_18",listContent:"_list-content_1499c_18","list-wrap":"_list-wrap_1499c_21",listWrap:"_list-wrap_1499c_21","list-item":"_list-item_1499c_24",listItem:"_list-item_1499c_24","item-icon":"_item-icon_1499c_30",itemIcon:"_item-icon_1499c_30","list-item-text":"_list-item-text_1499c_34",listItemText:"_list-item-text_1499c_34","mev-control-title":"_mev-control-title_1499c_38",mevControlTitle:"_mev-control-title_1499c_38","mev-control-sub-title":"_mev-control-sub-title_1499c_43",mevControlSubTitle:"_mev-control-sub-title_1499c_43","mev-control-picture":"_mev-control-picture_1499c_48",mevControlPicture:"_mev-control-picture_1499c_48","mev-control-divider":"_mev-control-divider_1499c_52",mevControlDivider:"_mev-control-divider_1499c_52","mev-control-text-content":"_mev-control-text-content_1499c_56",mevControlTextContent:"_mev-control-text-content_1499c_56","mev-status":"_mev-status_1499c_60",mevStatus:"_mev-status_1499c_60","mev-status__text":"_mev-status__text_1499c_64",mevStatusText:"_mev-status__text_1499c_64","mev-status__text__active":"_mev-status__text__active_1499c_69",mevStatusTextActive:"_mev-status__text__active_1499c_69","mev-tooltip":"_mev-tooltip_1499c_72",mevTooltip:"_mev-tooltip_1499c_72"};var hr=({mevNodeList:e})=>{let t=(0,ae.useRef)(null),o=(0,mo.useSize)(t),s=l=>ae.default.createElement(jt,{hovered:!1,icon:{size:ye.SIZE.lg,src:l.vendorIcon||Ft,type:ye.TYPE.image},className:E["list-item"]},ae.default.createElement(r.FlexBox,{direction:r.DIRECTION.vertical},ae.default.createElement(r.FlexBox,{align:r.ALIGN.center},ae.default.createElement(a.Text,{className:E["list-item-text"]},l.name))));return e.length?ae.default.createElement("div",{ref:t,className:E["list-content"]},ae.default.createElement(ze,{itemKey:"id",height:o?.height??408,searchable:!1,dataSource:e,renderItem:s,className:E["list-wrap"]})):null},po=hr;var it="mevOperated",st="mevToggle",Ir=2e3,_o="isUpgradeToObjectMev";function co(e,t){return me.get(e)?.[t]}function uo(e,t,o){let s=me.get(e);me.set(e,{...s||{},[t]:o})}function Er(e){return co(it,e)}function fo(e,t){uo(it,e,t)}function Lr(e){return co(st,e)}function xo(e,t){uo(st,e,t)}var Sr=({isMev:e,needTooltip:t=!0,isShowBlockSwapMevTooltip:o,onMevChange:s,serverMevInfo:l,className:p="",title:c=m("wallet_extension_mev_subtitle_protection"),children:x,networkId:d})=>{let b=d?$t(d).baseChain:De,{mevNodeList:f,openMev:I,gas:N,priorityRate:C}=l,[h,{setFalse:k,setTrue:U}]=(0,ue.useBoolean)(!1),[B,{toggle:y}]=(0,ue.useBoolean)(!1),[L,T]=(0,g.useState)(""),W=(0,g.useMemo)(()=>f?.length?f.map(j=>j.supplier):[],[f]),R={gas:N,mevSuppliers:W,priorityRate:C};(0,g.useEffect)(()=>{let j=!e&&o,Me=!e&&Er(b)===void 0,Ee=()=>{k()},Fe=()=>{fo(b,1)};return j?(T("wallet_extension_trade_tooltip_enable_mev"),U(),document.addEventListener("click",Ee,!1)):Me&&(T("wallet_extension_mev_pop_turnon_mev"),U(),document.addEventListener("click",Ee,!1),document.addEventListener("click",Fe,!1)),()=>{document.removeEventListener("click",Ee,!1),document.removeEventListener("click",Fe,!1)}},[]);let V=(0,ue.useMemoizedFn)(()=>{let j=!e;typeof s=="function"&&s(j,R),xo(b,j),wt({mev:j}),T(e?"wallet_extension_mev_pop_mev_off":"wallet_extension_mev_pop_mev_on"),y(),U(),setTimeout(()=>{k()},Ir)});(0,ue.useMount)(async()=>{if(typeof s=="function"){if(!Se(e)){s(e,R);return}let j=Lr(b);if(!Se(j)){s(j,R);return}s(I,R)}});let ee=je({dark:"/cdn/assets/imgs/245/127CAD27DF691613.png",light:"/cdn/assets/imgs/2311/700F36AE20EC394E.png"});return g.default.createElement(g.default.Fragment,null,g.default.createElement("div",{className:(0,nt.default)(E["mev-status"],p),onClick:y},g.default.createElement(Wt,{show:h,title:t&&m(L),placement:$.DIRECTION.bottomRight},x||g.default.createElement(_e,{clickable:!0,title:c},g.default.createElement(a.Text,{className:(0,nt.default)(E["mev-status__text"],{[E["mev-status__text__active"]]:e})},m(e?"wallet_extension_mev_desc_open":"wallet_extension_mev_desc_closed"))))),g.default.createElement(Pe.Action,{visible:B,onClose:y,onCancel:y,title:g.default.createElement(g.default.Fragment,null),isFull:!0,noContentPadding:!0,noMargin:!0,onConfirm:V,confirmBtnProps:e?{size:q.SIZE.lg,type:q.TYPE.primary,category:q.CATEGORY.outline}:{size:q.SIZE.lg,type:q.TYPE.highlight,category:q.CATEGORY.fill},confirmText:e?m("wallet_extension_mev_btn_disable_mev"):m("wallet_extension_mev_btn_activate_protection")},g.default.createElement(r.Box,{className:E["mev-control-content"]},g.default.createElement(r.FlexBox,{justify:"space-between",align:r.ALIGN.center},g.default.createElement(r.Space,{direction:r.DIRECTION.vertical,space:12},g.default.createElement(a.Text,{className:E["mev-control-title"]},m("wallet_extension_mev_grouptitle_mev_protection")),g.default.createElement(a.Text,{style:{color:e?"var(--okd-color-semantic-positive)":"var(--okd-color-content-primary)"},className:E["mev-control-sub-title"]},m(e?"wallet_extension_mev_label_enabled":"wallet_extension_mev_label_disabled"))),g.default.createElement(K,{className:E["mev-control-picture"],src:ee})),g.default.createElement(rt,{className:E["mev-control-divider"],style:{marginTop:24}}),g.default.createElement(r.Space,{className:E["mev-control-text-content"],direction:r.DIRECTION.vertical,space:24},g.default.createElement(r.Box,null,g.default.createElement(a.Text,{className:E["mev-control-content-title"]},m("wallet_extension_mev_title_provider")),g.default.createElement(po,{mevNodeList:f})),g.default.createElement(rt,{className:E["mev-control-divider"]}),g.default.createElement(r.Box,null,g.default.createElement(a.Text,{className:E["mev-control-content-title"]},m("wallet_extension_mev_title_mev_meaning")),g.default.createElement(a.Text,{className:E["mev-control-content-desc"]},m("wallet_extension_mev_desc_mev_meaning"))),g.default.createElement(r.Box,null,g.default.createElement(a.Text,{className:E["mev-control-content-title"]},m("wallet_extension_mev_title_mev_avoid")),g.default.createElement(a.Text,{className:E["mev-control-content-desc"]},m("wallet_extension_mev_desc_mev_avoid"))),g.default.createElement(r.Box,null,g.default.createElement(a.Text,{className:E["mev-control-content-title"]},m("wallet_extension_mev_title_why_attack")),g.default.createElement(a.Text,{className:E["mev-control-content-desc"]},m("wallet_extension_mev_desc_why_attack")))))))};function kr(e){let[t,o]=(0,g.useState)(me.get(_o));return(0,ue.useMount)(()=>{if(!t){let s=me.get(it);s!==void 0&&fo(De,s);let l=me.get(st);l!==void 0&&xo(De,l),me.set(_o,!0),o(!0)}}),t?g.default.createElement(Sr,{...e}):null}var go=kr;n();i();var de=_(v()),lt=_(se());ke();n();i();J();var at="UNKNOWN",To={[at]:{title:m("wallet_extension_transaction_page_title_unknown_transaction"),image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"}},[Y.TRANS_OUT]:{title:m("wallet_extension_send_title_send"),image:{light:"/cdn/assets/imgs/2411/CB43D95ECC4204BB.png",dark:"/cdn/assets/imgs/2411/07EBF82A7C4E6ABA.png"}},[Y.REGISTRATION]:{title:m("wallet_dapp_conncetion_notify_signature_request"),image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"}}};n();i();var le={"retina-border-basic":"_retina-border-basic_uvlo7_1",retinaBorderBasic:"_retina-border-basic_uvlo7_1",txType:"_txType_uvlo7_29",bordered:"_bordered_uvlo7_33",txTypeLogo:"_txTypeLogo_uvlo7_66",txTypeTitle:"_txTypeTitle_uvlo7_70",txTypeSubTitle:"_txTypeSubTitle_uvlo7_77",txTypeDesc:"_txTypeDesc_uvlo7_85",content:"_content_uvlo7_93",needChildrenPadding:"_needChildrenPadding_uvlo7_96"};var Br=({className:e,txType:t=at,injectInfo:o={},children:s,bordered:l=!0,needChildrenPadding:p,styles:c={}})=>{let x=vt({},To[t],o),d=je(x?.image),{titleStyle:b}=c;return de.default.createElement(r.FlexBox,{justify:"center",align:r.ALIGN.center,direction:r.DIRECTION.vertical,className:(0,lt.default)(le.txType,{[le.bordered]:l},e)},de.default.createElement(K,{src:d,className:le.txTypeLogo}),de.default.createElement(a.Text,{style:b,strong:500,className:le.txTypeTitle},x?.title),de.default.createElement(a.Text,{strong:500,className:le.txTypeSubTitle},x?.subTitle),de.default.createElement(a.Text,{className:le.txTypeDesc},x?.desc),de.default.createElement(r.Box,{className:(0,lt.default)(le.content,{[le.needChildrenPadding]:p})},s))},yo=de.default.memo(Br);n();i();var z=_(v()),bo=_(pe());n();i();var Q={root:"_root_ib0kb_1",txExplain:"_txExplain_ib0kb_1",txExplainModal:"_txExplainModal_ib0kb_7",main:"_main_ib0kb_20",image:"_image_ib0kb_28",title:"_title_ib0kb_33",infoList:"_infoList_ib0kb_40",info:"_info_ib0kb_40",subTitle:"_subTitle_ib0kb_46",text:"_text_ib0kb_53",footWrap:"_footWrap_ib0kb_58"};var Ar=({txExplain:e})=>{let[t,{toggle:o}]=(0,bo.useBoolean)(!1),{image:s,descList:l,title:p,confirmBtnText:c}=e,x=Dt(s);return z.default.createElement(r.Box,{className:Q.root},z.default.createElement(r.Box,{onClick:o,className:Q.txExplain},z.default.createElement(re,{className:"okx-wallet-plugin-question-mark"})),z.default.createElement(Pe.Action,{noContentPadding:!0,visible:t,onClose:o},z.default.createElement(r.Box,{className:Q.txExplainModal},z.default.createElement(r.Box,{className:Q.main},z.default.createElement(K,{src:x,className:Q.image}),z.default.createElement(r.Box,{className:Q.title},p),l?.length?z.default.createElement(r.Box,{className:Q.infoList},l.map(d=>z.default.createElement(r.Box,{className:Q.info},z.default.createElement(r.Box,{className:Q.subTitle},d.text),z.default.createElement(r.Box,{className:Q.text},d.desc)))):null),z.default.createElement(r.Box,{className:Q.footWrap},z.default.createElement(q,{block:!0,onClick:o,size:q.SIZE.lg,type:q.TYPE.highlight,category:q.CATEGORY.fill},c)))))},vo=Ar;n();i();var Co=_(gr());var wr={[Ae.TOKEN_METHOD_APPROVE]:{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},[Ae.TOKEN_METHOD_INCREASE_ALLOWANCE]:{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}},Ws=e=>[Y.AUTHORIZATION,Y.NFT_AUTHORIZATION,Y.COMMON_APPROVE].includes(e),js=e=>[Y.CANCEL_AUTHORIZATION,Y.NFT_CANCEL_AUTHORIZATION].includes(e),Mr=({spender:e,value:t,type:o})=>!e||Nt(t,0)?"":Co.default.encodeMethod(wr[o],[e,t]);function zs(e,{approveAmount:t},o){if(o){if(o.name!==Ae.TOKEN_METHOD_APPROVE&&o.name!==Ae.TOKEN_METHOD_INCREASE_ALLOWANCE)throw new Error(`Invalid data; should be 'approve' method, but instead is '${o.name}'`)}else throw new Error("Invalid data");let s=Kt(o);return Mr({spender:s,value:t,type:o.name})}var mt=(e,t=24)=>e?.length>t?`${e.slice(0,t)}...`:e;n();i();var w=_(v()),cr=_(pe());ke();J();n();i();var H=_(v()),No=_(fr());n();i();var Z={root:"_root_ud6a5_1",main:"_main_ud6a5_8",icon:"_icon_ud6a5_14",title:"_title_ud6a5_19",subTitle:"_subTitle_ud6a5_24",txInfo:"_txInfo_ud6a5_29",content:"_content_ud6a5_38",line:"_line_ud6a5_42",field:"_field_ud6a5_46"};var Fr=({confirmBtnText:e,cancelBtnText:t,handleCancel:o})=>{let s=[{onClick:o,actionType:ve.ACTION_TYPE.CANCEL,btnText:t},{onClick:No.default,disabled:!0,actionType:ve.ACTION_TYPE.CONFIRM,btnText:e}];return H.default.createElement(r.Box,{className:Z.root},H.default.createElement(r.Box,{className:Z.main},H.default.createElement(ne.Input,{active:!0,className:Z.icon}),H.default.createElement(ne.Input,{active:!0,className:Z.title}),H.default.createElement(ne.Input,{active:!0,className:Z.subTitle}),H.default.createElement(r.Box,{className:Z.txInfo},H.default.createElement(ne.Input,{active:!0,className:Z.title}),H.default.createElement(ne.Input,{active:!0,className:Z.content})),H.default.createElement(ne.Input,{active:!0,className:Z.line}),H.default.createElement(ne.Input,{active:!0,className:Z.field}),H.default.createElement(ne.Input,{active:!0,className:Z.field}),H.default.createElement(ne.Input,{active:!0,className:Z.field})),H.default.createElement(be,{placeholder:!0,offsetBottom:0,borderTop:!0},H.default.createElement(ve,{buttonGroup:s})))},ho=Fr;n();i();var Io=_(v());J();var Pr=({txState:{txId:e="",baseCoin:t={},estimateFailed:o=!1,isSufficientBalance:s=!0,isSufficientGas:l=!0,estimateFailedMsg:p,coinWithBalance:c={}},loading:x,walletAccount:d,preExecRet:b={},chainHeaderTips:f=[]})=>{let{isBalanceLoadError:I,requestBalance:N,coinAmount:C}=c||{},{tipMessageInfo:h,needFillUp:k}=b,U=(0,Io.useMemo)(()=>{let y=[],L=t?.coinId,{address:T,walletId:W}=d;return I&&y.push({message:m("wallet_extension_transfer_error_text_wallet_balance_unavailable"),level:850,actions:[{btnText:m("wallet_extension_transfer_error_text_reload"),onClick:N}]}),k&&y.push({type:A.FEE_BALANCE_INSUFFICIENT,renderMessage:()=>m("wallet_extension_toast_insufficient_balance_amount",{token:t?.symbol,balance:te(C,{useLargeNumberPrecision:!0,precision:c?.displayPrecision,isStableCoin:c?.stableCoin}).value}),txId:e,coinId:L,address:T,walletId:W,level:820}),o&&y.push({type:A.FEE_ERROR,message:p,level:775}),l||y.push({type:A.FEE_BALANCE_INSUFFICIENT,renderMessage:()=>m("wallet_extension_toast_insufficient_balance_amt_netfee",{token:t?.symbol,amount:te(C,{useLargeNumberPrecision:!0,precision:c?.displayPrecision,isStableCoin:c?.stableCoin}).value}),txId:e,coinId:L,address:T,walletId:W,level:765}),s||y.push({type:A.BALANCE_INSUFFICIENT,renderMessage:()=>m("wallet_extension_toast_insufficient_balance_txn_cost",{token:t?.symbol,amount:te(C,{useLargeNumberPrecision:!0,precision:c?.displayPrecision,isStableCoin:c?.stableCoin}).value}),txId:e,coinId:L,address:T,walletId:W,level:760}),y},[t?.coinId,t?.symbol,d,I,l,s,o,N,e,C,p,k,c?.decimals]),B=h?.tipMessage?{message:h.tipMessage,level:h.level}:null;return x?null:[...U,B,...f].filter(Boolean).sort((y,L)=>y.level-L.level).pop()||null},Eo=Pr;n();i();var Lo=_(v());var Or=e=>{let{address:t,title:o,localType:s,className:l,showAccountNameFlag:p,redShow:c}=e,d=Zt(s)(t),b=Boolean(t&&d?.name);return Lo.default.createElement(Vt,{className:l,address:t,connectable:!c,title:o,tags:b&&p?[d?.name]:null})},$e=Or;n();i();var D=_(v()),Po=_(se()),Oo=_(Ut()),Do=_(dr());J();n();i();var M=_(v()),ko=_(se());ke();n();i();var X={"retina-border-basic":"_retina-border-basic_ir9et_1",retinaBorderBasic:"_retina-border-basic_ir9et_1",root:"_root_ir9et_29",noPadding:"_noPadding_ir9et_29",firstLayerWrap:"_firstLayerWrap_ir9et_29",blockItem:"_blockItem_ir9et_75",blockItemLabel:"_blockItemLabel_ir9et_75",wholeLine:"_wholeLine_ir9et_82",blockItemValue:"_blockItemValue_ir9et_85",fieldItem:"_fieldItem_ir9et_91",fieldLabel:"_fieldLabel_ir9et_98",fieldValue:"_fieldValue_ir9et_105",item:"_item_ir9et_113"};var Bo=({label:e,value:t,children:o})=>M.default.createElement(r.Box,{className:X.blockItem},M.default.createElement(a.Text,{ellipsis:{tooltip:!0},className:`${X.blockItemLabel} ${o?"":X.wholeLine}`},e,":"),o||M.default.createElement(r.Box,{className:X.blockItemValue},t)),Ao=({label:e,value:t})=>M.default.createElement(r.Box,{className:X.fieldItem},M.default.createElement(a.Text,{ellipsis:{tooltip:!0},className:X.fieldLabel},e,":"),M.default.createElement(r.Box,{className:X.fieldValue},t)),wo=({value:e,layer:t})=>Object.entries(e).map(([o,s])=>M.default.createElement(r.Box,{className:X.item},!!s&&typeof s=="object"?M.default.createElement(Bo,{label:o,value:s},M.default.createElement(wo,{label:o,value:s,layer:t+1})):M.default.createElement(Ao,{label:o,value:s}))),So=({message:e,noPadding:t})=>et(e)?M.default.createElement(r.Box,{className:(0,ko.default)(X.root,{[X.noPadding]:t})},Object.entries(e).map(([o,s])=>M.default.createElement(r.Box,{className:X.firstLayerWrap},s?M.default.createElement(Bo,{label:o,value:s},et(s)||Tt(s)?M.default.createElement(wo,{label:o,value:s,layer:1}):null):M.default.createElement(Ao,{label:o,value:String(s)})))):null,Dr=({message:e,noPadding:t=!1})=>Array.isArray(e)?e.map(o=>M.default.createElement(So,{message:o,noPadding:t})):M.default.createElement(So,{message:e,noPadding:t}),Mo=Dr;n();i();var ge=_(v()),Fo=_(Ut());J();n();i();var pt={root:"_root_n95v9_1",copyable:"_copyable_n95v9_1"};var Ur=e=>{(0,Fo.default)(e),Oe.success({title:m("wallet_receive_toast_address_copied")})},Wr=e=>{let{title:t,text:o,type:s,copyable:l=!1}=e,p=()=>{if(s==="date")return ge.default.createElement(a.DateTime,{size:a.SIZE.sm,dateTime:o});let c=ge.default.createElement(a.Text,{forceWrap:!0,size:a.SIZE.sm},o);return l?ge.default.createElement($,{title:m("wallet_receive_btn_copy_address"),type:$.TYPES.neutral,trigger:$.TRIGGER_TYPES.hover,zIndex:101},ge.default.createElement(r.Box,{className:pt.copyable,onClick:()=>{Ur(o)}},c)):c};return ge.default.createElement(r.Space,{space:4,className:pt.root,direction:r.DIRECTION.vertical},ge.default.createElement(a.Text,{type:a.TYPE.secondary,size:a.SIZE.xs},t),p())},Ye=Wr;n();i();var ie={root:"_root_j9s07_1",header:"_header_j9s07_4",title:"_title_j9s07_10",content:"_content_j9s07_14",contractAddress:"_contractAddress_j9s07_18",tabContent:"_tabContent_j9s07_21",data:"_data_j9s07_24",abi:"_abi_j9s07_27",icon:"_icon_j9s07_37",copyableText:"_copyableText_j9s07_41",address:"_address_j9s07_44"};var Uo=e=>{(0,Oo.default)(e),Oe.success({title:m("wallet_receive_toast_address_copied")})},jr=e=>D.default.createElement(tt.Underline,{size:ht.xs,noLine:!0,noPadding:!0,paneSpacing:24},e?.children?.map((t,o)=>{let{type:s,data:l,title:p}=t,c=`${p}_${o}`;return D.default.createElement(tt.TabPane,{tab:p,id:p,key:c},D.default.createElement(r.Box,{className:ie.tabContent},D.default.createElement($,{graspBaseDom:!0,title:m("wallet_receive_btn_copy_address"),type:$.TYPES.neutral,trigger:$.TRIGGER_TYPES.hover},D.default.createElement(a.Text,{forceWrap:!0,onClick:()=>{Uo(l)},size:a.SIZE.sm,className:ie.data},s==="text"?l:D.default.createElement("pre",{className:ie.abi},JSON.stringify(JSON.parse(l),null,2))))))})),zr=e=>D.default.createElement($e,{...e,className:ie.address}),Hr=e=>{let{data:t}=e,o=t;try{o=JSON.parse(t)}catch{}return D.default.createElement(_e,{title:e.title},(0,Do.isString)(o)?D.default.createElement($,{title:m("wallet_receive_btn_copy_address"),type:$.TYPES.neutral,trigger:$.TRIGGER_TYPES.hover,zIndex:101},D.default.createElement(a.Text,{forceWrap:!0,onClick:()=>{Uo(o)},size:a.SIZE.sm},o)):D.default.createElement(Mo,{message:o,noPadding:!0}))},Gr=e=>D.default.createElement(Ye,{...e,copyable:!0}),$r={tabs:jr,address:zr,signJsonRouter:Hr,text:Gr},Yr=e=>D.default.createElement(re,{className:(0,Po.default)(ie.icon,"okx-wallet-plugin-arrow-small-down",{"okui-accordion-header-icon-expanded":e})}),Zr=e=>{let{title:t,children:o,listExpansion:s}=e;return D.default.createElement(It,{className:ie.root,headerClassName:ie.header,titleClass:ie.title,contentClassName:ie.content,defaultExpanded:s,customHeaderIcon:Yr,title:t},o.map(l=>{let{moduleName:p,data:c}=l,x=$r[p];return x?D.default.createElement(x,{...c}):null}))},Wo=Zr;n();i();var Ke=_(v()),$o=_(pe());n();i();var P=_(v()),jo=_(pe()),zo=_(se());J();n();i();var Ve=_(v());n();i();var Ze={root:"_root_195s5_1",image:"_image_195s5_7",text:"_text_195s5_13"};var Vr=({imageUrl:e,text:t})=>Ve.default.createElement(r.Box,{className:Ze.root},Ve.default.createElement(K,{src:e,className:Ze.image,errorImg:We}),Ve.default.createElement(a.Text,{ellipsis:{tooltip:t},className:Ze.text},t)),Ce=Vr;n();i();var F={root:"_root_ibv1m_1",title:"_title_ibv1m_1","static-title":"_static-title_ibv1m_11",staticTitle:"_static-title_ibv1m_11",approveInfoList:"_approveInfoList_ibv1m_15",approve:"_approve_ibv1m_15",token:"_token_ibv1m_18",amount:"_amount_ibv1m_24",amountWrap:"_amountWrap_ibv1m_31",number:"_number_ibv1m_34",symbol:"_symbol_ibv1m_35",expiration:"_expiration_ibv1m_47",foldSwitch:"_foldSwitch_ibv1m_53",fold:"_fold_ibv1m_53",image:"_image_ibv1m_74"};var Jr=({amount:e,decimals:t})=>Ot(e)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):te(e,{useContractPrecision:!0,contractPrecision:{decimals:t},precision:t}).value,Kr=e=>{e&&typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=12?28:t<=14?26:t>14&&t<=16?24:t>16&&t<=18?22:t>18&&t<=20?20:t>20&&t<=22?18:16},qr=({approveInfoList:e,eip5792Call:t,renderEditApproveAmount:o,updateApproveInfo:s,alwaysShowTitle:l,txTitle:p})=>{let c=e.length>3,[x,{toggle:d}]=(0,jo.useBoolean)(c),b=x?e.slice(0,3):e;if(e.length===1){let[f]=e,{tokenInfo:I,spender:N}=f,{symbol:C,imageUrl:h}=I||{},k=mt(C,12);if([Y.CANCEL_AUTHORIZATION,Y.NFT_CANCEL_AUTHORIZATION,Y.DECREASE_ALLOWANCE].includes(N?.approvalType))return P.default.createElement(r.Box,{className:F.root},P.default.createElement(a.Text,{type:a.TYPE.secondary,size:a.SIZE.xs,className:l?F.staticTitle:F.title},m("wallet_extension_approve_subtitle_cancel_approve")),P.default.createElement(Ce,{imageUrl:h,text:k}))}return P.default.createElement(r.Box,{className:F.root},P.default.createElement(a.Text,{type:a.TYPE.secondary,size:a.SIZE.xs,className:l?F.staticTitle:F.title},m("wallet_extension_approve_subtitle_approve")),P.default.createElement(r.Box,{className:F.approveInfoList},b.map((f,I)=>({...f,idLocal:I})).map((f,I)=>{let{amount:N,tokenInfo:C,expiration:h}=f,{decimals:k,symbol:U,imageUrl:B}=C||{},y=mt(U,12),L=Jr({amount:N,decimals:k});return P.default.createElement(r.Box,{className:F.approve,key:f.idLocal},P.default.createElement(r.Box,{className:F.token},P.default.createElement(r.Box,{className:F.amount},P.default.createElement(K,{src:B,className:F.image,errorImg:We}),P.default.createElement(a.AdaptiveText,{nowrap:!0,ellipsis:{tooltip:`${L} ${y}`},autoSize:Kr,text:`${L}${y}`,className:F.amountWrap},P.default.createElement(a.Text,{inherit:!0,className:F.number},L),P.default.createElement(a.Text,{inherit:!0,className:F.symbol},y))),o({...f,eip5792Call:t,txTitle:p,index:I},s)),h?P.default.createElement(r.Box,{className:F.expiration},m("wallet_extension_permitapproval_variable_days",{num:h})):null)}),c&&P.default.createElement(r.Box,{align:r.ALIGN.center,className:(0,zo.default)(F.foldSwitch,{[F.fold]:x}),onClick:d},P.default.createElement(r.Box,null,m(x?"extension_defi_card_textbtn_view_all":"extension_defi_card_textbtn_view_less")),P.default.createElement(re,{className:"okx-wallet-plugin-add-arrow-chevrons"}))))},Ho=qr;n();i();var Je=_(v()),Go=_(se());n();i();var we={root:"_root_1xbje_1",title:"_title_1xbje_6",risk:"_risk_1xbje_12",subTitle:"_subTitle_1xbje_18"};var Qr=({title:e,subTitle:t,riskPopupInfo:o})=>{let s=He();if(!e)return null;let l=o?.moduleName==="txRiskExplain"?o?.data:null,p=()=>{!l||s([l])};return Je.default.createElement("div",{className:we.root},Je.default.createElement("div",{className:(0,Go.default)(we.title,{[we.risk]:!!l}),onClick:p},e),t&&Je.default.createElement("div",{className:we.subTitle},t))},Ne=Qr;var Xr=e=>{let{index:t,title:o,renderEditApproveAmount:s,approveInfoList:l,preExecRet:p,onDataChange:c,eip5792Call:x,txTitle:d}=e,b=(0,$o.useMemoizedFn)((f,I,N)=>{let C=[...p.moduleList],h=C[t];C[t]={...h,data:{...h.data||{},approveInfoList:l.map((k,U)=>U===f?{...k,...I}:k),eip5792Call:{...h?.data?.eip5792Call||{},data:N},modifiedData:N}},c({...p,moduleList:C})});return Ke.default.createElement(r.Box,null,Ke.default.createElement(Ne,{...e}),Ke.default.createElement(Ho,{txTitle:d,updateApproveInfo:b,approveInfoList:l,eip5792Call:x,renderEditApproveAmount:s,alwaysShowTitle:!o}))},Yo=Xr;n();i();var he=_(v());var Rr=e=>he.default.createElement(he.default.Fragment,null,he.default.createElement(r.Box,null,he.default.createElement(Ne,{...e}),he.default.createElement(lo,{preExecRet:e}))),Zo=Rr;n();i();var Vo=_(v());var en=({host:e,icon:t})=>Vo.default.createElement(Ce,{imageUrl:t,text:e}),Jo=en;n();i();var qe=_(v());function tn(e){let{txInfo:t}=e,{icon:o,title:s}=t||{};return qe.default.createElement(r.Box,null,qe.default.createElement(Ne,{...e}),qe.default.createElement(Ce,{imageUrl:o,text:s}))}var Ko=tn;n();i();var Qo=_(v());n();i();var qo={"retina-border-basic":"_retina-border-basic_1ihhp_1",retinaBorderBasic:"_retina-border-basic_1ihhp_1",divide:"_divide_1ihhp_29"};var on=()=>Qo.default.createElement(r.Box,{className:qo.divide}),Xo=on;n();i();var _t=_(v());var rn=({preExecParams:e})=>{let{message:t}=e;return _t.default.createElement(r.Box,null,_t.default.createElement(qt,{message:t}))},Ro=rn;n();i();var er=_(v());var nn=e=>{let{mevProps:t,title:o,txState:s}=e,{baseCoin:l}=s||{},{isMev:p,onMevChange:c,isShowBlockSwapMevTooltip:x,needMev:d}=t;return d?er.default.createElement(go,{networkId:l?.chainId,title:o,isMev:p,needTooltip:!1,onMevChange:c,isShowBlockSwapMevTooltip:x,serverMevInfo:e}):null},tr=nn;n();i();var Ie=_(v());J();n();i();var Qe={root:"_root_dpdwi_1",image:"_image_dpdwi_7",chainName:"_chainName_dpdwi_12"};var sn=e=>{let{networkFeeProps:t,titleHover:o,showFee:s}=e,{network:l}=t||{};return s?Ie.default.createElement(Jt,{useTransition:!1,...t,titleHover:o}):Ie.default.createElement(_e,{title:m("wallet_dapp_conncetion_subtitle_network")},Ie.default.createElement(r.Box,{className:Qe.root},Ie.default.createElement(K,{className:Qe.image,src:l?.imageUrl||ot,errorImg:ot}),Ie.default.createElement(a.Text,{ellipsis:{tooltip:!0},className:Qe.chainName},l?.chainName)))},or=sn;n();i();var fe=_(v()),nr=_(se());J();n();i();var rr={"switch-icon":"_switch-icon_h8b4m_1",switchIcon:"_switch-icon_h8b4m_1"};var an=e=>{let{title:t,token1Symbol:o,token2Symbol:s,token1ToToken2:l}=e,p=`1 ${o} \u2248 ${te(l).value} ${s}`,c=te(G.div(1,l)).value,x=`1 ${s} \u2248 ${c} ${o}`,[d,b]=(0,fe.useState)(p),f=()=>{b(d===p?x:p)};return fe.default.createElement(r.Space,{space:4,direction:r.DIRECTION.vertical},fe.default.createElement(a.Text,{type:a.TYPE.secondary,size:a.SIZE.xs},t),fe.default.createElement(r.FlexBox,{justify:"flex-start",align:r.ALIGN.center},fe.default.createElement(a.Text,{size:a.SIZE.sm},d),fe.default.createElement(re,{className:(0,nr.default)("okx-wallet-plugin-home-swap",rr.switchIcon),onClick:f})))},ir=an;n();i();var Xe=_(v()),sr=_(Pt());J();var ln=e=>{let{title:t,usdPrice:o,marketCap:s}=e,l=(0,sr.useSelector)(Ue),p=o?G.mul(o,l?.usdToThisRate):0,c=`${l.symbol}${p}`,x=G.mul(s,l?.usdToThisRate),d=`${l.symbol}${G.floorTruncateShort(x,{needChineseUnit:!0,shortNeedZero:!1})}`,b=`${c} / ${d}`;return Xe.default.createElement(r.Space,{space:4,direction:r.DIRECTION.vertical},Xe.default.createElement(a.Text,{type:a.TYPE.secondary,size:a.SIZE.xs},t),Xe.default.createElement(a.Text,{size:a.SIZE.sm},b))},ar=ln;n();i();var ct=_(v());n();i();var lr={"tx-explain-mod":"_tx-explain-mod_dbqrt_1",txExplainMod:"_tx-explain-mod_dbqrt_1"};var mn=e=>ct.default.createElement(r.Box,{className:lr.txExplainMod},ct.default.createElement(vo,{txExplain:e})),mr=mn;n();i();var ut=_(v());n();i();var pr={"tx-title-mod":"_tx-title-mod_19u2x_1",txTitleMod:"_tx-title-mod_19u2x_1"};var pn=e=>{let{title:t}=e,o;return t?.text&&(o={...e,title:t.text}),ut.default.createElement(r.Box,{className:pr.txTitleMod},ut.default.createElement(yo,{injectInfo:o,bordered:!1,needChildrenPadding:!1}))},_r=pn;n();i();var dt={root:"_root_wkp78_1",txTypeExtInfo:"_txTypeExtInfo_wkp78_6","section-wrap":"_section-wrap_wkp78_12",sectionWrap:"_section-wrap_wkp78_12"};var Re={signMessage:"signMessage",signTransaction:"signTransaction",signTypedData:"signTypedData"},_n={txExplain:mr,txTitle:_r,dappInfo:Jo,approveInfo:Yo,assetDiff:Zo,divide:Xo,networkFee:or,address:$e,message:Ro,text:Ye,triggerPrice:ar,tokenPair:ir,advance:Wo,mevInfo:tr,defaultTx:Ko},cn=({txType:e,preExecParams:t,localType:o,walletAccount:s})=>{let l=t?.dappInfo,p=t?.dappData,c=p;try{c=JSON.parse(p).data}catch(b){console.log(b)}let d={[Re.signMessage]:[{moduleName:"txTitle",data:{image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"},title:{text:m("wallet_dapp_conncetion_notify_signature_request")}}},{moduleName:"dappInfo",data:l},{moduleName:"divide"},{moduleName:"address",data:{address:s?.account?.[o],title:m("wallet_extension_network_address_title_walletused"),localType:o}},{moduleName:"message"}],[Re.signTypedData]:[{moduleName:"txTitle",data:{image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"},title:{text:m("wallet_dapp_conncetion_notify_signature_request")}}},{moduleName:"dappInfo",data:l},{moduleName:"divide"},{moduleName:"address",data:{address:s?.account?.[o],title:m("wallet_extension_network_address_title_walletused"),localType:o}},{moduleName:"advance",data:{title:m("wallet_extension_transaction_tab_advanced"),listExpansion:!0,children:[{moduleName:"signJsonRouter",data:{title:m("wallet_dapp_connection_subtitle_data_label"),data:c}}]}}],[Re.signTransaction]:[{moduleName:"txTitle",data:{image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"},title:{text:m("wallet_extension_transaction_page_title_unknown_transaction")},subTitle:l?.host}},{moduleName:"divide"},{moduleName:"networkFee"},{moduleName:"address",data:{address:s?.account?.[o],title:m("wallet_extension_network_address_title_walletused"),localType:o}}]}[e];return{defaultPreExecRet:{tipMessageInfo:{tipMessage:m("wallet_extension_transaction_error_general_check_network"),level:780},moduleList:d,canConfirm:!1}}},un=(e,t)=>{e?.moduleList?.length||(e.moduleList=t.moduleList)},dn=async({popupInfoList:e,loading:t,secModalFn:o})=>{t&&e?.length&&await o(e).catch(Te)},fn=(e,t)=>e||t,xn=(0,w.memo)(({loading:e,txType:t=Re.signTransaction,needPreExecFn:o=()=>!0,preExecParams:s={},slot:l={},handleCancel:p=Te,buttonGroup:c,txState:x={},localType:d,networkFeeProps:b,walletAccount:f,renderEditApproveAmount:I=Te,onUpdatePreExecInfo:N=Te,chainHeaderTips:C=[],mevProps:h={},onDataChange:k=Te,confirmBtnText:U,cancelBtnText:B})=>{let{defaultPreExecRet:y}=cn({txType:t,preExecParams:s,localType:d,walletAccount:f}),[L,T]=(0,w.useState)({}),[W,R]=(0,w.useState)(o()),[V,ee]=(0,w.useState)(!0),j=He({handleCancel:p}),Me=(0,cr.useMemoizedFn)(async()=>{try{let oe={};if(!o(s))oe.moduleList=y.moduleList;else{s.forceLoading&&R(!0),ee(!0),oe=await Bt(Ct(s,["preStepFailed"]));let{popupInfoList:Le}=oe;un(oe,y),await dn({popupInfoList:Le,loading:W,secModalFn:j})}T(oe)}catch{T(y)}finally{R(!1),ee(!1)}});(0,w.useEffect)(()=>{N({...L,loading:W,silentLoading:V})},[L,W,N,V]),(0,w.useEffect)(()=>{if(s.preStepFailed){T(y),R(!1);return}Se(s.chainIndex)||Me()},[s]);let Ee=Eo({txState:x,walletAccount:f,preExecRet:L,loading:W,chainHeaderTips:C}),Fe=({moduleName:oe,data:Le,index:ft})=>{let ur={index:ft,txState:x,walletAccount:f,networkFeeProps:b,renderEditApproveAmount:I,localType:d,preExecParams:s,setPreExecRet:T,mevProps:h,preExecRet:L,onDataChange:gt=>{T(gt),k(gt)},...Le},xt=_n[oe];return xt?w.default.createElement(xt,{...ur,key:ft}):null};return w.default.createElement(r.Container,{className:dt.root},fn(e,W)?w.default.createElement(ho,{confirmBtnText:U,cancelBtnText:B,handleCancel:p}):w.default.createElement(w.default.Fragment,null,w.default.createElement(so,{...Ee}),l.top,w.default.createElement(r.FlexBox,{className:dt["section-wrap"],direction:r.DIRECTION.vertical},L.moduleList?.map((oe,Le)=>Fe({...oe,index:Le}))),w.default.createElement(be,{borderTop:!0,placeholder:!0,offsetBottom:0,style:{zIndex:205}},w.default.createElement(ve,{buttonGroup:c}),l.bottom)))}),L_=xn;export{eo as a,oo as b,A as c,so as d,lo as e,yo as f,vo as g,ho as h,Ws as i,js as j,zs as k,mt as l,Ce as m,Ho as n,go as o,Re as p,L_ as q};
//# sourceMappingURL=chunk-6PSK4535.js.map
