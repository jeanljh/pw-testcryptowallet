import{a as _e}from"./chunk-23JC5SDF.js";import{a as he}from"./chunk-766S4OF7.js";import{b as me,c as ge}from"./chunk-TPLMQJ6F.js";import{c as ye}from"./chunk-77GR2SPQ.js";import{a as ue}from"./chunk-L2AWIRLM.js";import{a as fe}from"./chunk-5FY6FXSV.js";import"./chunk-EP773FEO.js";import"./chunk-H4KXECK4.js";import"./chunk-ZD6ZRVEI.js";import{a as pe}from"./chunk-4R74WMY3.js";import"./chunk-IVH24YWV.js";import"./chunk-SNS3QUAD.js";import"./chunk-LBF75ZOB.js";import"./chunk-JUPTKFJB.js";import{c as $,d as q}from"./chunk-P4PGYDTS.js";import{d as de}from"./chunk-ZDHJHPQ5.js";import"./chunk-42XTLCCX.js";import"./chunk-TE6AOABI.js";import"./chunk-ITLEVVXJ.js";import"./chunk-NZX52M3S.js";import"./chunk-K35GFLBJ.js";import{k as ne,m as re}from"./chunk-7HYQ2DGP.js";import"./chunk-UOWKDFTX.js";import{e as N}from"./chunk-SYOIP55B.js";import{h as te}from"./chunk-QKBWJPY2.js";import"./chunk-XFPD3Q2E.js";import"./chunk-AFJBSSNA.js";import"./chunk-3ZKJXYZ4.js";import"./chunk-PMO2NS5Q.js";import"./chunk-4ZSKRAEE.js";import"./chunk-IIJNHSKZ.js";import{a as ce}from"./chunk-EBRJSEEJ.js";import"./chunk-PA7QUJH7.js";import"./chunk-N4IVZOUG.js";import"./chunk-JWVIZID6.js";import"./chunk-47LIW52M.js";import"./chunk-MSFAPAHB.js";import"./chunk-33XRMYWN.js";import{E as se,G as ae}from"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import"./chunk-WRVJM3F3.js";import{a as ie}from"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import"./chunk-XRCQOGA2.js";import"./chunk-SWUBCABA.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import"./chunk-H7WHTGUY.js";import"./chunk-PAJAZXOA.js";import{b as le}from"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import{f as oe}from"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{a as Y}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import"./chunk-Z62JX42S.js";import{Na as Oe}from"./chunk-2QHGKEME.js";import"./chunk-HAHRUU64.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as Ge}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import{c as u}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{$b as X,Q,ac as U,ka as Ve,nc as ee}from"./chunk-COF7YKSN.js";import{A as M,K as De}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{c as J,d as O,r as G}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import{f as Z,va as Fe}from"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-JHCCLVAB.js";import"./chunk-W7AONC6R.js";import"./chunk-FOOC6LB7.js";import"./chunk-SEAUBLKM.js";import"./chunk-UP4BZFYG.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{z as v}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as V}from"./chunk-4QGZDIBD.js";import{b as w}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as A,o as t,q as o}from"./chunk-Y5OH3DDZ.js";t();o();var e=A(w()),E=A(Oe()),We=A(Ge());De();t();o();var Ce=A(w());var Ae=(i={})=>{let a=se(i);return(0,Ce.useMemo)(()=>a.map(l=>{let{walletIdentities:n,marketValueSymbol:p,marketValue:g}=l;return{...l,walletAsset:`${Y(g).value} ${p||""}`,walletIdentities:n.map(r=>{let{balance:m="--",symbol:s}=r;return{...r,walletAsset:`${Y(m).value} ${s||""}`}})}}),[a])};ee();Ve();t();o();var Ie=i=>{let a={providerType:i?.providerType,method:i?.method||"",exts:i?.exts},{baseChain:l,chainName:n}=_e(a),p=i?.providerTypes||[],g=ce(),r=p.filter(s=>s.required).map(s=>g.find(f=>f.localType===s.providerType)),m=p.filter(s=>!s.required).map(s=>g.find(f=>f.localType===s.providerType));if(r.length>0||m.length>0){let s=r.map(_=>_?.baseChain),c=m.map(_=>_?.baseChain),f=r.map(_=>_?.chainName).join(", ");return{requestChains:s,optionalChains:c,chainNames:f}}return{requestChains:[l],optionalChains:[],chainNames:n}};t();o();var y=A(w()),xe=A(V());ee();t();o();var T=A(w()),Te=A(V());t();o();var P=A(w()),be=A(V());Fe();t();o();var z={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Ue=({selected:i=!1,disabled:a=!1,onClick:l=Z})=>P.default.createElement(u.FlexBox,{onClick:l,className:(0,be.default)(z.root,{[z.disabled]:a}),align:u.ALIGN.center,justify:u.ALIGN.center},a?P.default.createElement(G.Circle,{disabled:!0,checked:!1}):P.default.createElement(G.Circle,{checked:i})),B=Ue;t();o();var R={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var Ye=({selected:i,createdId:a,isRpcMode:l,hiddenAssets:n,walletIdentity:p,handleClickWallet:g,requestChains:r,optionalChains:m,disabled:s=!1})=>{let{walletId:c=""}=p,f=(0,T.useMemo)(()=>i.includes(c),[i,c]),_=(0,T.useMemo)(()=>{let C=r.length===0&&m.some(W=>p?.account?.[W]),h=r.length===0&&m.length===0,x=r.length>0&&r.every(W=>p?.account?.[W]);return C||h||x},[m,r,p?.account]),d=s||!_,S=(0,T.useCallback)(()=>{d||g(c)},[g,c,d]);return T.default.createElement(u.FlexBox,{className:(0,Te.default)(R.root,{[R.highlight]:c===a,[R.disabled]:d}),align:u.ALIGN.center,onClick:S},T.default.createElement(ye,{disabled:d,isRpcMode:l,hiddenAssets:n,walletIdentity:p}),T.default.createElement(B,{selected:f,disabled:d}))},ke=Ye;t();o();var k={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var $e=({selected:i,isRpcMode:a,hiddenAssets:l,keyringIdentity:n,handleClickWallet:p,requestChains:g,optionalChains:r})=>{let[m,s]=ge(),[c,f]=(0,y.useState)(!0),_=()=>{f(C=>!C)},d=(0,y.useMemo)(()=>n?.keyringIdentityType===U.MPC,[n]),S=(0,y.useMemo)(()=>{let{mpcStatus:C,accountStatus:h}=n?.status||{};return d&&(C===q.ESCAPE||C===q.RECOVER||h===$.DELETE||h===$.FROZEN)},[d,n?.status]);return y.default.createElement(u.Box,{className:k.root},y.default.createElement(J,{onToggle:_,expanded:c,titleClass:k.title,className:k.keyring,headerClassName:k.header,contentClassName:k.content,iconClassName:(0,xe.default)(k.icon),title:y.default.createElement(fe,{isRpcMode:a,hiddenAssets:l,keyringIdentity:n})},d&&y.default.createElement(he,{keyringIdentity:n,className:k.mpcStatusAlertWrapper}),y.default.createElement(N,{dataSource:n?.walletIdentities||[],renderItem:C=>y.default.createElement(ke,{selected:i,isRpcMode:a,createdId:m,hiddenAssets:l,walletIdentity:C,handleClickWallet:p,requestChains:g,optionalChains:r,disabled:S})}),n.keyringIdentityType===U.MNEMONIC?y.default.createElement(me,{createdCb:s,keyringIdentity:n,canAddSmartAccount:!1}):null))},Se=$e;t();o();var K={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var ze=({request:i,multi:a=!1})=>{let l=(0,E.useDispatch)(),{requestChains:n,optionalChains:p,chainNames:g}=Ie(i),r=(0,e.useMemo)(()=>i?.method===pe.walletRequestWallets&&i?.providerType===Q,[i]);(0,e.useEffect)(()=>{l(te())},[l]);let[,m]=ae({hasBackup:!0}),s=Ae({hasBackup:!0}),{isRpcMode:c}=(0,E.useSelector)(oe),f=(0,e.useMemo)(()=>c?s:m,[c,m,s]),{keyringIdentitiesWithSA:_}=ue(f),{backupedWallets:d,showTip:S}=(0,e.useMemo)(()=>{let I=!1;return{backupedWallets:f.reduce((D,j)=>{let Ee=j?.walletIdentities?.map(Le=>{let{initialType:Ne,walletId:Pe,account:Be}=Le;if(Ne===X.MPC_KEYRING&&j?.status?.mpcStatus===q.ESCAPE)return"";let Re=n?.every(Ke=>Be?.[Ke]);return!r&&!Re?(I=!0,""):Pe})?.filter(Boolean);return D.concat(Ee)},[]),showTip:I}},[f,r,n]),C=(0,E.useSelector)(ne),[h,x]=(0,e.useState)(C?.length>0?C:[]),W=d.length>1&&a,F=(0,e.useMemo)(()=>d.length===h.length,[d,h]),we=(0,e.useCallback)(()=>{x(F?[]:d)},[F,d]),Me=(0,e.useCallback)(I=>{h.includes(I)?x(L=>L.filter(D=>D!==I)):x(L=>a?[...L,I]:[I])},[h,a]),H=(0,We.useHistory)(),ve=(0,e.useCallback)(()=>{l(re.setSelectAccounts(h)),H.goBack()},[h,H,l]),[qe]=ie();return e.default.createElement(u.Container,{className:K.root},e.default.createElement(de,{closeable:!1,bordered:!1,title:M("wallet_dapp_conncetion_subtitle_select_accounts")}),S&&e.default.createElement(O,{desc:M("wallet_extension_connect_notification_text_dont_select_wallets",{network:g}),type:O.TYPE.warn,closable:!1}),W?e.default.createElement(u.FlexBox,{align:u.ALIGN.center,className:K.selectAll},e.default.createElement(u.Box,{className:K.text},M("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(B,{selected:F,onClick:we})):null,e.default.createElement(N,{dataSource:_,renderItem:I=>e.default.createElement(Se,{selected:h,isRpcMode:c,hiddenAssets:qe,keyringIdentity:I,handleClickWallet:Me,requestChains:r?[]:n,optionalChains:r?[]:p})}),e.default.createElement(le.FooterActions,null,e.default.createElement(v,{block:!0,disabled:!h.length,category:v.CATEGORY.fill,type:v.TYPE.highlight,size:v.SIZE.lg,onClick:ve},M("wallet_set_password_btn_confirm"))))},ko=ze;export{ko as default};
//# sourceMappingURL=Comp-UJZBDEGH.js.map
