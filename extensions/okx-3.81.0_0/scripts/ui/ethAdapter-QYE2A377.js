import{a as F,g as c,h as u}from"./chunk-E4OWYVFY.js";import"./chunk-IZUTUDUM.js";import"./chunk-7THBEIEJ.js";import{a as E}from"./chunk-QFKKFFVA.js";import"./chunk-4RX5BQ36.js";import"./chunk-VFMCFONI.js";import"./chunk-O3KHH6JI.js";import"./chunk-YDSDBRIT.js";import"./chunk-6PA65BO3.js";import{a as l,b as D}from"./chunk-XSVHDPBS.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import{n as w}from"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-3QLLFUC4.js";import{E as g}from"./chunk-EFOY37CC.js";import"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{O as N,la as s,tb as A}from"./chunk-COF7YKSN.js";import"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import"./chunk-4QGZDIBD.js";import"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as y,h as T,o as M,p,q as S}from"./chunk-Y5OH3DDZ.js";M();S();var r=y(F()),d=y(N());A();var f=class{constructor(){T(this,"signTransaction",async(t,e,n)=>{e=E(e);let o=await l(e),a=o.getMessageToSign(!1),i=p.Buffer.isBuffer(a)?a.toString("hex"):d.rlp.encode(a).toString("hex"),{type:h,chainId:C}=e,P={path:t.hdPathMap[s],chainId:C,requestId:g().toLowerCase(),signData:i,dataType:h===w.FEE_MARKET?r.KeystoneEthereumSDK.DataType.typedTransaction:r.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},q=await u.openModal(c.showTxParams,{signRequest:P,baseChain:s}),m=p.Buffer.from(q,"hex"),_=m.slice(0,32),R=m.slice(32,64),b=m.slice(64),x=await D(o,{r:_,s:R,v:b});return n?x:{rawTxResult:x}});T(this,"signTypedData",async(t,e)=>{let n=t.hdPathMap[s];if(!["V4","V3"].includes(e.version))throw new Error("this version of typed data signing is no't supported");let a=p.Buffer.from(e.data,"utf-8"),i={path:n,requestId:g().toLowerCase(),signData:a,dataType:r.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint};return`0x${await u.openModal(c.showTxParams,{signRequest:i,baseChain:s})}`})}async signPersonalMessage(t,e){let n=t.hdPathMap[s],o=(0,d.stripHexPrefix)(e.data),a={path:n,requestId:g().toLowerCase(),signData:o,dataType:r.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint};return`0x${await u.openModal(c.showTxParams,{signRequest:a,baseChain:s})}`}},V=new f;export{V as default};
//# sourceMappingURL=ethAdapter-QYE2A377.js.map
