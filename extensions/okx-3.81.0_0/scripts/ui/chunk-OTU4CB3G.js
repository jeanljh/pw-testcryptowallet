import{ua as ca,va as ua}from"./chunk-XFTQD4B2.js";import{a as QY,b as XY,c as YY,d as Q9}from"./chunk-W7AONC6R.js";import{b as OP,c as vT}from"./chunk-UP4BZFYG.js";import{a as $9,b as _T}from"./chunk-Z7PBP7IJ.js";import{a as ZY}from"./chunk-YYJBFMAM.js";import{d as Z9}from"./chunk-SLQQVCPY.js";import{d as W9}from"./chunk-RX4V72AK.js";import{c as M,g as aa,h as O,i as h,j as T,k as w,l as kn,m as U,o as y,q as b}from"./chunk-Y5OH3DDZ.js";var PT=M(TP=>{y();b();Object.defineProperty(TP,"__esModule",{value:!0});TP.validPrivateKey=void 0;var X9=Z9();function eee(r){if(!X9.base.validateHexString(r))return!1;let e=X9.base.fromHex(r.toLowerCase());return!(e.length!=32||e.every(t=>t===0))}TP.validPrivateKey=eee});var Y9=M(NP=>{y();b();Object.defineProperty(NP,"__esModule",{value:!0});NP.version=void 0;NP.version="logger/5.8.0"});var $s=M(_c=>{y();b();Object.defineProperty(_c,"__esModule",{value:!0});_c.Logger=_c.ErrorCode=_c.LogLevel=void 0;var e7=!1,t7=!1,CP={debug:1,default:2,info:2,warning:3,error:4,off:5},r7=CP.default,tee=Y9(),AT=null;function ree(){try{var r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(function(e){try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var n7=ree(),i7;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(i7=_c.LogLevel||(_c.LogLevel={}));var wc;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(wc=_c.ErrorCode||(_c.ErrorCode={}));var s7="0123456789abcdef",nee=function(){function r(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}return r.prototype._log=function(e,t){var n=e.toLowerCase();CP[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(r7>CP[n])&&console.log.apply(console,t)},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.DEBUG,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.INFO,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.WARNING,e)},r.prototype.makeError=function(e,t,n){if(t7)return this.makeError("censored error",t,{});t||(t=r.errors.UNKNOWN_ERROR),n||(n={});var s=[];Object.keys(n).forEach(function(f){var g=n[f];try{if(g instanceof Uint8Array){for(var p="",A=0;A<g.length;A++)p+=s7[g[A]>>4],p+=s7[g[A]&15];s.push(f+"=Uint8Array(0x"+p+")")}else s.push(f+"="+JSON.stringify(g))}catch{s.push(f+"="+JSON.stringify(n[f].toString()))}}),s.push("code="+t),s.push("version="+this.version);var i=e,o="";switch(t){case wc.NUMERIC_FAULT:{o="NUMERIC_FAULT";var a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":o+="-"+a;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case wc.CALL_EXCEPTION:case wc.INSUFFICIENT_FUNDS:case wc.MISSING_NEW:case wc.NONCE_EXPIRED:case wc.REPLACEMENT_UNDERPRICED:case wc.TRANSACTION_REPLACED:case wc.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),s.length&&(e+=" ("+s.join(", ")+")");var c=new Error(e);return c.reason=i,c.code=t,Object.keys(n).forEach(function(f){c[f]=n[f]}),c},r.prototype.throwError=function(e,t,n){throw this.makeError(e,t,n)},r.prototype.throwArgumentError=function(e,t,n){return this.throwError(e,r.errors.INVALID_ARGUMENT,{argument:t,value:n})},r.prototype.assert=function(e,t,n,s){e||this.throwError(t,n,s)},r.prototype.assertArgument=function(e,t,n,s){e||this.throwArgumentError(t,n,s)},r.prototype.checkNormalize=function(e){e==null&&(e="platform missing String.prototype.normalize"),n7&&this.throwError("platform missing String.prototype.normalize",r.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:n7})},r.prototype.checkSafeUint53=function(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))},r.prototype.checkArgumentCount=function(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,r.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,r.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})},r.prototype.checkNew=function(e,t){(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.prototype.checkAbstract=function(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",r.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.globalLogger=function(){return AT||(AT=new r(tee.version)),AT},r.setCensorship=function(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),e7){if(!e)return;this.globalLogger().throwError("error censorship permanent",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}t7=!!e,e7=!!t},r.setLogLevel=function(e){var t=CP[e.toLowerCase()];if(t==null){r.globalLogger().warn("invalid log level - "+e);return}r7=t},r.from=function(e){return new r(e)},r.errors=wc,r.levels=i7,r}();_c.Logger=nee});var o7=M(RP=>{y();b();Object.defineProperty(RP,"__esModule",{value:!0});RP.version=void 0;RP.version="bytes/5.8.0"});var g7=M(Ut=>{y();b();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.joinSignature=Ut.splitSignature=Ut.hexZeroPad=Ut.hexStripZeros=Ut.hexValue=Ut.hexConcat=Ut.hexDataSlice=Ut.hexDataLength=Ut.hexlify=Ut.isHexString=Ut.zeroPad=Ut.stripZeros=Ut.concat=Ut.arrayify=Ut.isBytes=Ut.isBytesLike=void 0;var see=$s(),iee=o7(),Ir=new see.Logger(iee.version);function c7(r){return!!r.toHexString}function Dg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Dg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function u7(r){return fa(r)&&!(r.length%2)||IP(r)}Ut.isBytesLike=u7;function a7(r){return typeof r=="number"&&r==r&&r%1===0}function IP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!a7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!a7(t)||t<0||t>=256)return!1}return!0}Ut.isBytes=IP;function x0(r,e){if(e||(e={}),typeof r=="number"){Ir.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Dg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),c7(r)&&(r=r.toHexString()),fa(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Ir.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Dg(new Uint8Array(t))}return IP(r)?Dg(new Uint8Array(r)):Ir.throwArgumentError("invalid arrayify value","value",r)}Ut.arrayify=x0;function f7(r){var e=r.map(function(s){return x0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Dg(n)}Ut.concat=f7;function oee(r){var e=x0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Ut.stripZeros=oee;function l7(r,e){r=x0(r),r.length>e&&Ir.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Dg(t)}Ut.zeroPad=l7;function fa(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Ut.isHexString=fa;var ET="0123456789abcdef";function zn(r,e){if(e||(e={}),typeof r=="number"){Ir.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=ET[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),c7(r))return r.toHexString();if(fa(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Ir.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(IP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=ET[(i&240)>>4]+ET[i&15]}return n}return Ir.throwArgumentError("invalid hexlify value","value",r)}Ut.hexlify=zn;function aee(r){if(typeof r!="string")r=zn(r);else if(!fa(r)||r.length%2)return null;return(r.length-2)/2}Ut.hexDataLength=aee;function cee(r,e,t){return typeof r!="string"?r=zn(r):(!fa(r)||r.length%2)&&Ir.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Ut.hexDataSlice=cee;function uee(r){var e="0x";return r.forEach(function(t){e+=zn(t).substring(2)}),e}Ut.hexConcat=uee;function fee(r){var e=d7(zn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Ut.hexValue=fee;function d7(r){typeof r!="string"&&(r=zn(r)),fa(r)||Ir.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Ut.hexStripZeros=d7;function BP(r,e){for(typeof r!="string"?r=zn(r):fa(r)||Ir.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Ir.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Ut.hexZeroPad=BP;function h7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(u7(r)){var t=x0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=zn(t.slice(0,32)),e.s=zn(t.slice(32,64))):t.length===65?(e.r=zn(t.slice(0,32)),e.s=zn(t.slice(32,64)),e.v=t[64]):Ir.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ir.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=zn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=l7(x0(e._vs),32);e._vs=zn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ir.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=zn(n);e.s==null?e.s=i:e.s!==i&&Ir.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Ir.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Ir.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!fa(e.r)?Ir.throwArgumentError("signature missing or invalid r","signature",r):e.r=BP(e.r,32),e.s==null||!fa(e.s)?Ir.throwArgumentError("signature missing or invalid s","signature",r):e.s=BP(e.s,32);var a=x0(e.s);a[0]>=128&&Ir.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=zn(a);e._vs&&(fa(e._vs)||Ir.throwArgumentError("signature invalid _vs","signature",r),e._vs=BP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Ir.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Ut.splitSignature=h7;function lee(r){return r=h7(r),zn(f7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Ut.joinSignature=lee});var m7=M((p7,ST)=>{y();b();(function(r,e){"use strict";function t(S,u){if(!S)throw new Error(u||"Assertion failed")}function n(S,u){S.super_=u;var l=function(){};l.prototype=u.prototype,S.prototype=new l,S.prototype.constructor=S}function s(S,u,l){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(l=u,u=10),this._init(S||0,u||10,l||"be"))}typeof r=="object"?r.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=W9().Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,l){return u.cmp(l)>0?u:l},s.min=function(u,l){return u.cmp(l)<0?u:l},s.prototype._init=function(u,l,m){if(typeof u=="number")return this._initNumber(u,l,m);if(typeof u=="object")return this._initArray(u,l,m);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),u=u.toString().replace(/\s+/g,"");var x=0;u[0]==="-"&&(x++,this.negative=1),x<u.length&&(l===16?this._parseHex(u,x,m):(this._parseBase(u,l,x),m==="le"&&this._initArray(this.toArray(),l,m)))},s.prototype._initNumber=function(u,l,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),l,m)},s.prototype._initArray=function(u,l,m){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,k,R=0;if(m==="be")for(x=u.length-1,_=0;x>=0;x-=3)k=u[x]|u[x-1]<<8|u[x-2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(m==="le")for(x=0,_=0;x<u.length;x+=3)k=u[x]|u[x+1]<<8|u[x+2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this._strip()};function o(S,u){var l=S.charCodeAt(u);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+S)}function a(S,u,l){var m=o(S,l);return l-1>=u&&(m|=o(S,l-1)<<4),m}s.prototype._parseHex=function(u,l,m){this.length=Math.ceil((u.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,k=0,R;if(m==="be")for(x=u.length-1;x>=l;x-=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8;else{var v=u.length-l;for(x=v%2===0?l+1:l;x<u.length;x+=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8}this._strip()};function c(S,u,l,m){for(var x=0,_=0,k=Math.min(S.length,l),R=u;R<k;R++){var v=S.charCodeAt(R)-48;x*=m,v>=49?_=v-49+10:v>=17?_=v-17+10:_=v,t(v>=0&&_<m,"Invalid character"),x+=_}return x}s.prototype._parseBase=function(u,l,m){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=l)x++;x--,_=_/l|0;for(var k=u.length-m,R=k%x,v=Math.min(k,k-R)+m,d=0,E=m;E<v;E+=x)d=c(u,E,E+x,l),this.imuln(_),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(R!==0){var z=1;for(d=c(u,E,u.length,l),E=0;E<R;E++)z*=l;this.imuln(z),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var l=0;l<this.length;l++)u.words[l]=this.words[l];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(S,u){S.words=u.words,S.length=u.length,S.negative=u.negative,S.red=u.red}if(s.prototype._move=function(u){f(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,l){u=u||10,l=l|0||1;var m;if(u===16||u==="hex"){m="";for(var x=0,_=0,k=0;k<this.length;k++){var R=this.words[k],v=((R<<x|_)&16777215).toString(16);_=R>>>24-x&16777215,x+=2,x>=26&&(x-=26,k--),_!==0||k!==this.length-1?m=p[6-v.length]+v+m:m=v+m}for(_!==0&&(m=_.toString(16)+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=A[u],E=P[u];m="";var z=this.clone();for(z.negative=0;!z.isZero();){var W=z.modrn(E).toString(u);z=z.idivn(E),z.isZero()?m=W+m:m=p[d-W.length]+W+m}for(this.isZero()&&(m="0"+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}t(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(u,l){return this.toArrayLike(i,u,l)}),s.prototype.toArray=function(u,l){return this.toArrayLike(Array,u,l)};var C=function(u,l){return u.allocUnsafe?u.allocUnsafe(l):new u(l)};s.prototype.toArrayLike=function(u,l,m){this._strip();var x=this.byteLength(),_=m||Math.max(1,x);t(x<=_,"byte array longer than desired length"),t(_>0,"Requested array length <= 0");var k=C(u,_),R=l==="le"?"LE":"BE";return this["_toArrayLike"+R](k,x),k},s.prototype._toArrayLikeLE=function(u,l){for(var m=0,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m++]=R&255,m<u.length&&(u[m++]=R>>8&255),m<u.length&&(u[m++]=R>>16&255),k===6?(m<u.length&&(u[m++]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m<u.length)for(u[m++]=x;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,l){for(var m=u.length-1,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m--]=R&255,m>=0&&(u[m--]=R>>8&255),m>=0&&(u[m--]=R>>16&255),k===6?(m>=0&&(u[m--]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m>=0)for(u[m--]=x;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var l=u,m=0;return l>=4096&&(m+=13,l>>>=13),l>=64&&(m+=7,l>>>=7),l>=8&&(m+=4,l>>>=4),l>=2&&(m+=2,l>>>=2),m+l},s.prototype._zeroBits=function(u){if(u===0)return 26;var l=u,m=0;return(l&8191)===0&&(m+=13,l>>>=13),(l&127)===0&&(m+=7,l>>>=7),(l&15)===0&&(m+=4,l>>>=4),(l&3)===0&&(m+=2,l>>>=2),(l&1)===0&&m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],l=this._countBits(u);return(this.length-1)*26+l};function N(S){for(var u=new Array(S.bitLength()),l=0;l<u.length;l++){var m=l/26|0,x=l%26;u[l]=S.words[m]>>>x&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,l=0;l<this.length;l++){var m=this._zeroBits(this.words[l]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]|u.words[l];return this._strip()},s.prototype.ior=function(u){return t((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var l;this.length>u.length?l=u:l=this;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=l.length,this._strip()},s.prototype.iand=function(u){return t((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var x=0;x<m.length;x++)this.words[x]=l.words[x]^m.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},s.prototype.ixor=function(u){return t((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var l=Math.ceil(u/26)|0,m=u%26;this._expand(l),m>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,l){t(typeof u=="number"&&u>=0);var m=u/26|0,x=u%26;return this._expand(m+1),l?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this._strip()},s.prototype.iadd=function(u){var l;if(this.negative!==0&&u.negative===0)return this.negative=0,l=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,l=this.isub(u),u.negative=1,l._normSign();var m,x;this.length>u.length?(m=this,x=u):(m=u,x=this);for(var _=0,k=0;k<x.length;k++)l=(m.words[k]|0)+(x.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;for(;_!==0&&k<m.length;k++)l=(m.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;if(this.length=m.length,_!==0)this.words[this.length]=_,this.length++;else if(m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this},s.prototype.add=function(u){var l;return u.negative!==0&&this.negative===0?(u.negative=0,l=this.sub(u),u.negative^=1,l):u.negative===0&&this.negative!==0?(this.negative=0,l=u.sub(this),this.negative=1,l):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var l=this.iadd(u);return u.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;m>0?(x=this,_=u):(x=u,_=this);for(var k=0,R=0;R<_.length;R++)l=(x.words[R]|0)-(_.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;for(;k!==0&&R<x.length;R++)l=(x.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;if(k===0&&R<x.length&&x!==this)for(;R<x.length;R++)this.words[R]=x.words[R];return this.length=Math.max(this.length,R),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function L(S,u,l){l.negative=u.negative^S.negative;var m=S.length+u.length|0;l.length=m,m=m-1|0;var x=S.words[0]|0,_=u.words[0]|0,k=x*_,R=k&67108863,v=k/67108864|0;l.words[0]=R;for(var d=1;d<m;d++){for(var E=v>>>26,z=v&67108863,W=Math.min(d,u.length-1),Q=Math.max(0,d-S.length+1);Q<=W;Q++){var ee=d-Q|0;x=S.words[ee]|0,_=u.words[Q]|0,k=x*_+z,E+=k/67108864|0,z=k&67108863}l.words[d]=z|0,v=E|0}return v!==0?l.words[d]=v|0:l.length--,l._strip()}var F=function(u,l,m){var x=u.words,_=l.words,k=m.words,R=0,v,d,E,z=x[0]|0,W=z&8191,Q=z>>>13,ee=x[1]|0,de=ee&8191,he=ee>>>13,tr=x[2]|0,be=tr&8191,fe=tr>>>13,bn=x[3]|0,Se=bn&8191,Oe=bn>>>13,oa=x[4]|0,Ge=oa&8191,Ke=oa>>>13,K1=x[5]|0,Ve=K1&8191,ze=K1>>>13,V1=x[6]|0,Je=V1&8191,We=V1>>>13,z1=x[7]|0,$e=z1&8191,Ze=z1>>>13,J1=x[8]|0,Qe=J1&8191,Xe=J1>>>13,W1=x[9]|0,Ye=W1&8191,et=W1>>>13,$1=_[0]|0,tt=$1&8191,rt=$1>>>13,Z1=_[1]|0,nt=Z1&8191,st=Z1>>>13,Q1=_[2]|0,it=Q1&8191,ot=Q1>>>13,X1=_[3]|0,at=X1&8191,ct=X1>>>13,Y1=_[4]|0,ut=Y1&8191,ft=Y1>>>13,ew=_[5]|0,lt=ew&8191,dt=ew>>>13,tw=_[6]|0,ht=tw&8191,gt=tw>>>13,rw=_[7]|0,pt=rw&8191,mt=rw>>>13,nw=_[8]|0,yt=nw&8191,bt=nw>>>13,sw=_[9]|0,xt=sw&8191,wt=sw>>>13;m.negative=u.negative^l.negative,m.length=19,v=Math.imul(W,tt),d=Math.imul(W,rt),d=d+Math.imul(Q,tt)|0,E=Math.imul(Q,rt);var e0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(e0>>>26)|0,e0&=67108863,v=Math.imul(de,tt),d=Math.imul(de,rt),d=d+Math.imul(he,tt)|0,E=Math.imul(he,rt),v=v+Math.imul(W,nt)|0,d=d+Math.imul(W,st)|0,d=d+Math.imul(Q,nt)|0,E=E+Math.imul(Q,st)|0;var t0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(t0>>>26)|0,t0&=67108863,v=Math.imul(be,tt),d=Math.imul(be,rt),d=d+Math.imul(fe,tt)|0,E=Math.imul(fe,rt),v=v+Math.imul(de,nt)|0,d=d+Math.imul(de,st)|0,d=d+Math.imul(he,nt)|0,E=E+Math.imul(he,st)|0,v=v+Math.imul(W,it)|0,d=d+Math.imul(W,ot)|0,d=d+Math.imul(Q,it)|0,E=E+Math.imul(Q,ot)|0;var r0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(r0>>>26)|0,r0&=67108863,v=Math.imul(Se,tt),d=Math.imul(Se,rt),d=d+Math.imul(Oe,tt)|0,E=Math.imul(Oe,rt),v=v+Math.imul(be,nt)|0,d=d+Math.imul(be,st)|0,d=d+Math.imul(fe,nt)|0,E=E+Math.imul(fe,st)|0,v=v+Math.imul(de,it)|0,d=d+Math.imul(de,ot)|0,d=d+Math.imul(he,it)|0,E=E+Math.imul(he,ot)|0,v=v+Math.imul(W,at)|0,d=d+Math.imul(W,ct)|0,d=d+Math.imul(Q,at)|0,E=E+Math.imul(Q,ct)|0;var n0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(n0>>>26)|0,n0&=67108863,v=Math.imul(Ge,tt),d=Math.imul(Ge,rt),d=d+Math.imul(Ke,tt)|0,E=Math.imul(Ke,rt),v=v+Math.imul(Se,nt)|0,d=d+Math.imul(Se,st)|0,d=d+Math.imul(Oe,nt)|0,E=E+Math.imul(Oe,st)|0,v=v+Math.imul(be,it)|0,d=d+Math.imul(be,ot)|0,d=d+Math.imul(fe,it)|0,E=E+Math.imul(fe,ot)|0,v=v+Math.imul(de,at)|0,d=d+Math.imul(de,ct)|0,d=d+Math.imul(he,at)|0,E=E+Math.imul(he,ct)|0,v=v+Math.imul(W,ut)|0,d=d+Math.imul(W,ft)|0,d=d+Math.imul(Q,ut)|0,E=E+Math.imul(Q,ft)|0;var s0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(s0>>>26)|0,s0&=67108863,v=Math.imul(Ve,tt),d=Math.imul(Ve,rt),d=d+Math.imul(ze,tt)|0,E=Math.imul(ze,rt),v=v+Math.imul(Ge,nt)|0,d=d+Math.imul(Ge,st)|0,d=d+Math.imul(Ke,nt)|0,E=E+Math.imul(Ke,st)|0,v=v+Math.imul(Se,it)|0,d=d+Math.imul(Se,ot)|0,d=d+Math.imul(Oe,it)|0,E=E+Math.imul(Oe,ot)|0,v=v+Math.imul(be,at)|0,d=d+Math.imul(be,ct)|0,d=d+Math.imul(fe,at)|0,E=E+Math.imul(fe,ct)|0,v=v+Math.imul(de,ut)|0,d=d+Math.imul(de,ft)|0,d=d+Math.imul(he,ut)|0,E=E+Math.imul(he,ft)|0,v=v+Math.imul(W,lt)|0,d=d+Math.imul(W,dt)|0,d=d+Math.imul(Q,lt)|0,E=E+Math.imul(Q,dt)|0;var i0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(i0>>>26)|0,i0&=67108863,v=Math.imul(Je,tt),d=Math.imul(Je,rt),d=d+Math.imul(We,tt)|0,E=Math.imul(We,rt),v=v+Math.imul(Ve,nt)|0,d=d+Math.imul(Ve,st)|0,d=d+Math.imul(ze,nt)|0,E=E+Math.imul(ze,st)|0,v=v+Math.imul(Ge,it)|0,d=d+Math.imul(Ge,ot)|0,d=d+Math.imul(Ke,it)|0,E=E+Math.imul(Ke,ot)|0,v=v+Math.imul(Se,at)|0,d=d+Math.imul(Se,ct)|0,d=d+Math.imul(Oe,at)|0,E=E+Math.imul(Oe,ct)|0,v=v+Math.imul(be,ut)|0,d=d+Math.imul(be,ft)|0,d=d+Math.imul(fe,ut)|0,E=E+Math.imul(fe,ft)|0,v=v+Math.imul(de,lt)|0,d=d+Math.imul(de,dt)|0,d=d+Math.imul(he,lt)|0,E=E+Math.imul(he,dt)|0,v=v+Math.imul(W,ht)|0,d=d+Math.imul(W,gt)|0,d=d+Math.imul(Q,ht)|0,E=E+Math.imul(Q,gt)|0;var o0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(o0>>>26)|0,o0&=67108863,v=Math.imul($e,tt),d=Math.imul($e,rt),d=d+Math.imul(Ze,tt)|0,E=Math.imul(Ze,rt),v=v+Math.imul(Je,nt)|0,d=d+Math.imul(Je,st)|0,d=d+Math.imul(We,nt)|0,E=E+Math.imul(We,st)|0,v=v+Math.imul(Ve,it)|0,d=d+Math.imul(Ve,ot)|0,d=d+Math.imul(ze,it)|0,E=E+Math.imul(ze,ot)|0,v=v+Math.imul(Ge,at)|0,d=d+Math.imul(Ge,ct)|0,d=d+Math.imul(Ke,at)|0,E=E+Math.imul(Ke,ct)|0,v=v+Math.imul(Se,ut)|0,d=d+Math.imul(Se,ft)|0,d=d+Math.imul(Oe,ut)|0,E=E+Math.imul(Oe,ft)|0,v=v+Math.imul(be,lt)|0,d=d+Math.imul(be,dt)|0,d=d+Math.imul(fe,lt)|0,E=E+Math.imul(fe,dt)|0,v=v+Math.imul(de,ht)|0,d=d+Math.imul(de,gt)|0,d=d+Math.imul(he,ht)|0,E=E+Math.imul(he,gt)|0,v=v+Math.imul(W,pt)|0,d=d+Math.imul(W,mt)|0,d=d+Math.imul(Q,pt)|0,E=E+Math.imul(Q,mt)|0;var a0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(a0>>>26)|0,a0&=67108863,v=Math.imul(Qe,tt),d=Math.imul(Qe,rt),d=d+Math.imul(Xe,tt)|0,E=Math.imul(Xe,rt),v=v+Math.imul($e,nt)|0,d=d+Math.imul($e,st)|0,d=d+Math.imul(Ze,nt)|0,E=E+Math.imul(Ze,st)|0,v=v+Math.imul(Je,it)|0,d=d+Math.imul(Je,ot)|0,d=d+Math.imul(We,it)|0,E=E+Math.imul(We,ot)|0,v=v+Math.imul(Ve,at)|0,d=d+Math.imul(Ve,ct)|0,d=d+Math.imul(ze,at)|0,E=E+Math.imul(ze,ct)|0,v=v+Math.imul(Ge,ut)|0,d=d+Math.imul(Ge,ft)|0,d=d+Math.imul(Ke,ut)|0,E=E+Math.imul(Ke,ft)|0,v=v+Math.imul(Se,lt)|0,d=d+Math.imul(Se,dt)|0,d=d+Math.imul(Oe,lt)|0,E=E+Math.imul(Oe,dt)|0,v=v+Math.imul(be,ht)|0,d=d+Math.imul(be,gt)|0,d=d+Math.imul(fe,ht)|0,E=E+Math.imul(fe,gt)|0,v=v+Math.imul(de,pt)|0,d=d+Math.imul(de,mt)|0,d=d+Math.imul(he,pt)|0,E=E+Math.imul(he,mt)|0,v=v+Math.imul(W,yt)|0,d=d+Math.imul(W,bt)|0,d=d+Math.imul(Q,yt)|0,E=E+Math.imul(Q,bt)|0;var c0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(c0>>>26)|0,c0&=67108863,v=Math.imul(Ye,tt),d=Math.imul(Ye,rt),d=d+Math.imul(et,tt)|0,E=Math.imul(et,rt),v=v+Math.imul(Qe,nt)|0,d=d+Math.imul(Qe,st)|0,d=d+Math.imul(Xe,nt)|0,E=E+Math.imul(Xe,st)|0,v=v+Math.imul($e,it)|0,d=d+Math.imul($e,ot)|0,d=d+Math.imul(Ze,it)|0,E=E+Math.imul(Ze,ot)|0,v=v+Math.imul(Je,at)|0,d=d+Math.imul(Je,ct)|0,d=d+Math.imul(We,at)|0,E=E+Math.imul(We,ct)|0,v=v+Math.imul(Ve,ut)|0,d=d+Math.imul(Ve,ft)|0,d=d+Math.imul(ze,ut)|0,E=E+Math.imul(ze,ft)|0,v=v+Math.imul(Ge,lt)|0,d=d+Math.imul(Ge,dt)|0,d=d+Math.imul(Ke,lt)|0,E=E+Math.imul(Ke,dt)|0,v=v+Math.imul(Se,ht)|0,d=d+Math.imul(Se,gt)|0,d=d+Math.imul(Oe,ht)|0,E=E+Math.imul(Oe,gt)|0,v=v+Math.imul(be,pt)|0,d=d+Math.imul(be,mt)|0,d=d+Math.imul(fe,pt)|0,E=E+Math.imul(fe,mt)|0,v=v+Math.imul(de,yt)|0,d=d+Math.imul(de,bt)|0,d=d+Math.imul(he,yt)|0,E=E+Math.imul(he,bt)|0,v=v+Math.imul(W,xt)|0,d=d+Math.imul(W,wt)|0,d=d+Math.imul(Q,xt)|0,E=E+Math.imul(Q,wt)|0;var u0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(u0>>>26)|0,u0&=67108863,v=Math.imul(Ye,nt),d=Math.imul(Ye,st),d=d+Math.imul(et,nt)|0,E=Math.imul(et,st),v=v+Math.imul(Qe,it)|0,d=d+Math.imul(Qe,ot)|0,d=d+Math.imul(Xe,it)|0,E=E+Math.imul(Xe,ot)|0,v=v+Math.imul($e,at)|0,d=d+Math.imul($e,ct)|0,d=d+Math.imul(Ze,at)|0,E=E+Math.imul(Ze,ct)|0,v=v+Math.imul(Je,ut)|0,d=d+Math.imul(Je,ft)|0,d=d+Math.imul(We,ut)|0,E=E+Math.imul(We,ft)|0,v=v+Math.imul(Ve,lt)|0,d=d+Math.imul(Ve,dt)|0,d=d+Math.imul(ze,lt)|0,E=E+Math.imul(ze,dt)|0,v=v+Math.imul(Ge,ht)|0,d=d+Math.imul(Ge,gt)|0,d=d+Math.imul(Ke,ht)|0,E=E+Math.imul(Ke,gt)|0,v=v+Math.imul(Se,pt)|0,d=d+Math.imul(Se,mt)|0,d=d+Math.imul(Oe,pt)|0,E=E+Math.imul(Oe,mt)|0,v=v+Math.imul(be,yt)|0,d=d+Math.imul(be,bt)|0,d=d+Math.imul(fe,yt)|0,E=E+Math.imul(fe,bt)|0,v=v+Math.imul(de,xt)|0,d=d+Math.imul(de,wt)|0,d=d+Math.imul(he,xt)|0,E=E+Math.imul(he,wt)|0;var f0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(f0>>>26)|0,f0&=67108863,v=Math.imul(Ye,it),d=Math.imul(Ye,ot),d=d+Math.imul(et,it)|0,E=Math.imul(et,ot),v=v+Math.imul(Qe,at)|0,d=d+Math.imul(Qe,ct)|0,d=d+Math.imul(Xe,at)|0,E=E+Math.imul(Xe,ct)|0,v=v+Math.imul($e,ut)|0,d=d+Math.imul($e,ft)|0,d=d+Math.imul(Ze,ut)|0,E=E+Math.imul(Ze,ft)|0,v=v+Math.imul(Je,lt)|0,d=d+Math.imul(Je,dt)|0,d=d+Math.imul(We,lt)|0,E=E+Math.imul(We,dt)|0,v=v+Math.imul(Ve,ht)|0,d=d+Math.imul(Ve,gt)|0,d=d+Math.imul(ze,ht)|0,E=E+Math.imul(ze,gt)|0,v=v+Math.imul(Ge,pt)|0,d=d+Math.imul(Ge,mt)|0,d=d+Math.imul(Ke,pt)|0,E=E+Math.imul(Ke,mt)|0,v=v+Math.imul(Se,yt)|0,d=d+Math.imul(Se,bt)|0,d=d+Math.imul(Oe,yt)|0,E=E+Math.imul(Oe,bt)|0,v=v+Math.imul(be,xt)|0,d=d+Math.imul(be,wt)|0,d=d+Math.imul(fe,xt)|0,E=E+Math.imul(fe,wt)|0;var l0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(l0>>>26)|0,l0&=67108863,v=Math.imul(Ye,at),d=Math.imul(Ye,ct),d=d+Math.imul(et,at)|0,E=Math.imul(et,ct),v=v+Math.imul(Qe,ut)|0,d=d+Math.imul(Qe,ft)|0,d=d+Math.imul(Xe,ut)|0,E=E+Math.imul(Xe,ft)|0,v=v+Math.imul($e,lt)|0,d=d+Math.imul($e,dt)|0,d=d+Math.imul(Ze,lt)|0,E=E+Math.imul(Ze,dt)|0,v=v+Math.imul(Je,ht)|0,d=d+Math.imul(Je,gt)|0,d=d+Math.imul(We,ht)|0,E=E+Math.imul(We,gt)|0,v=v+Math.imul(Ve,pt)|0,d=d+Math.imul(Ve,mt)|0,d=d+Math.imul(ze,pt)|0,E=E+Math.imul(ze,mt)|0,v=v+Math.imul(Ge,yt)|0,d=d+Math.imul(Ge,bt)|0,d=d+Math.imul(Ke,yt)|0,E=E+Math.imul(Ke,bt)|0,v=v+Math.imul(Se,xt)|0,d=d+Math.imul(Se,wt)|0,d=d+Math.imul(Oe,xt)|0,E=E+Math.imul(Oe,wt)|0;var d0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(d0>>>26)|0,d0&=67108863,v=Math.imul(Ye,ut),d=Math.imul(Ye,ft),d=d+Math.imul(et,ut)|0,E=Math.imul(et,ft),v=v+Math.imul(Qe,lt)|0,d=d+Math.imul(Qe,dt)|0,d=d+Math.imul(Xe,lt)|0,E=E+Math.imul(Xe,dt)|0,v=v+Math.imul($e,ht)|0,d=d+Math.imul($e,gt)|0,d=d+Math.imul(Ze,ht)|0,E=E+Math.imul(Ze,gt)|0,v=v+Math.imul(Je,pt)|0,d=d+Math.imul(Je,mt)|0,d=d+Math.imul(We,pt)|0,E=E+Math.imul(We,mt)|0,v=v+Math.imul(Ve,yt)|0,d=d+Math.imul(Ve,bt)|0,d=d+Math.imul(ze,yt)|0,E=E+Math.imul(ze,bt)|0,v=v+Math.imul(Ge,xt)|0,d=d+Math.imul(Ge,wt)|0,d=d+Math.imul(Ke,xt)|0,E=E+Math.imul(Ke,wt)|0;var h0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(h0>>>26)|0,h0&=67108863,v=Math.imul(Ye,lt),d=Math.imul(Ye,dt),d=d+Math.imul(et,lt)|0,E=Math.imul(et,dt),v=v+Math.imul(Qe,ht)|0,d=d+Math.imul(Qe,gt)|0,d=d+Math.imul(Xe,ht)|0,E=E+Math.imul(Xe,gt)|0,v=v+Math.imul($e,pt)|0,d=d+Math.imul($e,mt)|0,d=d+Math.imul(Ze,pt)|0,E=E+Math.imul(Ze,mt)|0,v=v+Math.imul(Je,yt)|0,d=d+Math.imul(Je,bt)|0,d=d+Math.imul(We,yt)|0,E=E+Math.imul(We,bt)|0,v=v+Math.imul(Ve,xt)|0,d=d+Math.imul(Ve,wt)|0,d=d+Math.imul(ze,xt)|0,E=E+Math.imul(ze,wt)|0;var g0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(g0>>>26)|0,g0&=67108863,v=Math.imul(Ye,ht),d=Math.imul(Ye,gt),d=d+Math.imul(et,ht)|0,E=Math.imul(et,gt),v=v+Math.imul(Qe,pt)|0,d=d+Math.imul(Qe,mt)|0,d=d+Math.imul(Xe,pt)|0,E=E+Math.imul(Xe,mt)|0,v=v+Math.imul($e,yt)|0,d=d+Math.imul($e,bt)|0,d=d+Math.imul(Ze,yt)|0,E=E+Math.imul(Ze,bt)|0,v=v+Math.imul(Je,xt)|0,d=d+Math.imul(Je,wt)|0,d=d+Math.imul(We,xt)|0,E=E+Math.imul(We,wt)|0;var p0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(p0>>>26)|0,p0&=67108863,v=Math.imul(Ye,pt),d=Math.imul(Ye,mt),d=d+Math.imul(et,pt)|0,E=Math.imul(et,mt),v=v+Math.imul(Qe,yt)|0,d=d+Math.imul(Qe,bt)|0,d=d+Math.imul(Xe,yt)|0,E=E+Math.imul(Xe,bt)|0,v=v+Math.imul($e,xt)|0,d=d+Math.imul($e,wt)|0,d=d+Math.imul(Ze,xt)|0,E=E+Math.imul(Ze,wt)|0;var m0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(m0>>>26)|0,m0&=67108863,v=Math.imul(Ye,yt),d=Math.imul(Ye,bt),d=d+Math.imul(et,yt)|0,E=Math.imul(et,bt),v=v+Math.imul(Qe,xt)|0,d=d+Math.imul(Qe,wt)|0,d=d+Math.imul(Xe,xt)|0,E=E+Math.imul(Xe,wt)|0;var y0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(y0>>>26)|0,y0&=67108863,v=Math.imul(Ye,xt),d=Math.imul(Ye,wt),d=d+Math.imul(et,xt)|0,E=Math.imul(et,wt);var b0=(R+v|0)+((d&8191)<<13)|0;return R=(E+(d>>>13)|0)+(b0>>>26)|0,b0&=67108863,k[0]=e0,k[1]=t0,k[2]=r0,k[3]=n0,k[4]=s0,k[5]=i0,k[6]=o0,k[7]=a0,k[8]=c0,k[9]=u0,k[10]=f0,k[11]=l0,k[12]=d0,k[13]=h0,k[14]=g0,k[15]=p0,k[16]=m0,k[17]=y0,k[18]=b0,R!==0&&(k[19]=R,m.length++),m};Math.imul||(F=L);function D(S,u,l){l.negative=u.negative^S.negative,l.length=S.length+u.length;for(var m=0,x=0,_=0;_<l.length-1;_++){var k=x;x=0;for(var R=m&67108863,v=Math.min(_,u.length-1),d=Math.max(0,_-S.length+1);d<=v;d++){var E=_-d,z=S.words[E]|0,W=u.words[d]|0,Q=z*W,ee=Q&67108863;k=k+(Q/67108864|0)|0,ee=ee+R|0,R=ee&67108863,k=k+(ee>>>26)|0,x+=k>>>26,k&=67108863}l.words[_]=R,m=k,k=x}return m!==0?l.words[_]=m:l.length--,l._strip()}function q(S,u,l){return D(S,u,l)}s.prototype.mulTo=function(u,l){var m,x=this.length+u.length;return this.length===10&&u.length===10?m=F(this,u,l):x<63?m=L(this,u,l):x<1024?m=D(this,u,l):m=q(this,u,l),m};function K(S,u){this.x=S,this.y=u}K.prototype.makeRBT=function(u){for(var l=new Array(u),m=s.prototype._countBits(u)-1,x=0;x<u;x++)l[x]=this.revBin(x,m,u);return l},K.prototype.revBin=function(u,l,m){if(u===0||u===m-1)return u;for(var x=0,_=0;_<l;_++)x|=(u&1)<<l-_-1,u>>=1;return x},K.prototype.permute=function(u,l,m,x,_,k){for(var R=0;R<k;R++)x[R]=l[u[R]],_[R]=m[u[R]]},K.prototype.transform=function(u,l,m,x,_,k){this.permute(k,u,l,m,x,_);for(var R=1;R<_;R<<=1)for(var v=R<<1,d=Math.cos(2*Math.PI/v),E=Math.sin(2*Math.PI/v),z=0;z<_;z+=v)for(var W=d,Q=E,ee=0;ee<R;ee++){var de=m[z+ee],he=x[z+ee],tr=m[z+ee+R],be=x[z+ee+R],fe=W*tr-Q*be;be=W*be+Q*tr,tr=fe,m[z+ee]=de+tr,x[z+ee]=he+be,m[z+ee+R]=de-tr,x[z+ee+R]=he-be,ee!==v&&(fe=d*W-E*Q,Q=d*Q+E*W,W=fe)}},K.prototype.guessLen13b=function(u,l){var m=Math.max(l,u)|1,x=m&1,_=0;for(m=m/2|0;m;m=m>>>1)_++;return 1<<_+1+x},K.prototype.conjugate=function(u,l,m){if(!(m<=1))for(var x=0;x<m/2;x++){var _=u[x];u[x]=u[m-x-1],u[m-x-1]=_,_=l[x],l[x]=-l[m-x-1],l[m-x-1]=-_}},K.prototype.normalize13b=function(u,l){for(var m=0,x=0;x<l/2;x++){var _=Math.round(u[2*x+1]/l)*8192+Math.round(u[2*x]/l)+m;u[x]=_&67108863,_<67108864?m=0:m=_/67108864|0}return u},K.prototype.convert13b=function(u,l,m,x){for(var _=0,k=0;k<l;k++)_=_+(u[k]|0),m[2*k]=_&8191,_=_>>>13,m[2*k+1]=_&8191,_=_>>>13;for(k=2*l;k<x;++k)m[k]=0;t(_===0),t((_&-8192)===0)},K.prototype.stub=function(u){for(var l=new Array(u),m=0;m<u;m++)l[m]=0;return l},K.prototype.mulp=function(u,l,m){var x=2*this.guessLen13b(u.length,l.length),_=this.makeRBT(x),k=this.stub(x),R=new Array(x),v=new Array(x),d=new Array(x),E=new Array(x),z=new Array(x),W=new Array(x),Q=m.words;Q.length=x,this.convert13b(u.words,u.length,R,x),this.convert13b(l.words,l.length,E,x),this.transform(R,k,v,d,x,_),this.transform(E,k,z,W,x,_);for(var ee=0;ee<x;ee++){var de=v[ee]*z[ee]-d[ee]*W[ee];d[ee]=v[ee]*W[ee]+d[ee]*z[ee],v[ee]=de}return this.conjugate(v,d,x),this.transform(v,d,Q,k,x,_),this.conjugate(Q,k,x),this.normalize13b(Q,x),m.negative=u.negative^l.negative,m.length=u.length+l.length,m._strip()},s.prototype.mul=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),this.mulTo(u,l)},s.prototype.mulf=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),q(this,u,l)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var l=u<0;l&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var m=0,x=0;x<this.length;x++){var _=(this.words[x]|0)*u,k=(_&67108863)+(m&67108863);m>>=26,m+=_/67108864|0,m+=k>>>26,this.words[x]=k&67108863}return m!==0&&(this.words[x]=m,this.length++),l?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var l=N(u);if(l.length===0)return new s(1);for(var m=this,x=0;x<l.length&&l[x]===0;x++,m=m.sqr());if(++x<l.length)for(var _=m.sqr();x<l.length;x++,_=_.sqr())l[x]!==0&&(m=m.mul(_));return m},s.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=67108863>>>26-l<<26-l,_;if(l!==0){var k=0;for(_=0;_<this.length;_++){var R=this.words[_]&x,v=(this.words[_]|0)-R<<l;this.words[_]=v|k,k=R>>>26-l}k&&(this.words[_]=k,this.length++)}if(m!==0){for(_=this.length-1;_>=0;_--)this.words[_+m]=this.words[_];for(_=0;_<m;_++)this.words[_]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,l,m){t(typeof u=="number"&&u>=0);var x;l?x=(l-l%26)/26:x=0;var _=u%26,k=Math.min((u-_)/26,this.length),R=67108863^67108863>>>_<<_,v=m;if(x-=k,x=Math.max(0,x),v){for(var d=0;d<k;d++)v.words[d]=this.words[d];v.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=x);d--){var z=this.words[d]|0;this.words[d]=E<<26-_|z>>>_,E=z&R}return v&&E!==0&&(v.words[v.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,l,m){return t(this.negative===0),this.iushrn(u,l,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return!1;var _=this.words[m];return!!(_&x)},s.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(l!==0&&m++,this.length=Math.min(m,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,l,m){var x=u.length+m,_;this._expand(x);var k,R=0;for(_=0;_<u.length;_++){k=(this.words[_+m]|0)+R;var v=(u.words[_]|0)*l;k-=v&67108863,R=(k>>26)-(v/67108864|0),this.words[_+m]=k&67108863}for(;_<this.length-m;_++)k=(this.words[_+m]|0)+R,R=k>>26,this.words[_+m]=k&67108863;if(R===0)return this._strip();for(t(R===-1),R=0,_=0;_<this.length;_++)k=-(this.words[_]|0)+R,R=k>>26,this.words[_]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,l){var m=this.length-u.length,x=this.clone(),_=u,k=_.words[_.length-1]|0,R=this._countBits(k);m=26-R,m!==0&&(_=_.ushln(m),x.iushln(m),k=_.words[_.length-1]|0);var v=x.length-_.length,d;if(l!=="mod"){d=new s(null),d.length=v+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var z=x.clone()._ishlnsubmul(_,1,v);z.negative===0&&(x=z,d&&(d.words[v]=1));for(var W=v-1;W>=0;W--){var Q=(x.words[_.length+W]|0)*67108864+(x.words[_.length+W-1]|0);for(Q=Math.min(Q/k|0,67108863),x._ishlnsubmul(_,Q,W);x.negative!==0;)Q--,x.negative=0,x._ishlnsubmul(_,1,W),x.isZero()||(x.negative^=1);d&&(d.words[W]=Q)}return d&&d._strip(),x._strip(),l!=="div"&&m!==0&&x.iushrn(m),{div:d||null,mod:x}},s.prototype.divmod=function(u,l,m){if(t(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,_,k;return this.negative!==0&&u.negative===0?(k=this.neg().divmod(u,l),l!=="mod"&&(x=k.div.neg()),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.iadd(u)),{div:x,mod:_}):this.negative===0&&u.negative!==0?(k=this.divmod(u.neg(),l),l!=="mod"&&(x=k.div.neg()),{div:x,mod:k.mod}):(this.negative&u.negative)!==0?(k=this.neg().divmod(u.neg(),l),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.isub(u)),{div:k.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?l==="div"?{div:this.divn(u.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,l)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var l=this.divmod(u);if(l.mod.isZero())return l.div;var m=l.div.negative!==0?l.mod.isub(u):l.mod,x=u.ushrn(1),_=u.andln(1),k=m.cmp(x);return k<0||_===1&&k===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=(1<<26)%u,x=0,_=this.length-1;_>=0;_--)x=(m*x+(this.words[_]|0))%u;return l?-x:x},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=0,x=this.length-1;x>=0;x--){var _=(this.words[x]|0)+m*67108864;this.words[x]=_/u|0,m=_%u}return this._strip(),l?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=new s(0),R=new s(1),v=0;l.isEven()&&m.isEven();)l.iushrn(1),m.iushrn(1),++v;for(var d=m.clone(),E=l.clone();!l.isZero();){for(var z=0,W=1;(l.words[0]&W)===0&&z<26;++z,W<<=1);if(z>0)for(l.iushrn(z);z-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(d),_.isub(E)),x.iushrn(1),_.iushrn(1);for(var Q=0,ee=1;(m.words[0]&ee)===0&&Q<26;++Q,ee<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(k.isOdd()||R.isOdd())&&(k.iadd(d),R.isub(E)),k.iushrn(1),R.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(k),_.isub(R)):(m.isub(l),k.isub(x),R.isub(_))}return{a:k,b:R,gcd:m.iushln(v)}},s.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=m.clone();l.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,v=1;(l.words[0]&v)===0&&R<26;++R,v<<=1);if(R>0)for(l.iushrn(R);R-- >0;)x.isOdd()&&x.iadd(k),x.iushrn(1);for(var d=0,E=1;(m.words[0]&E)===0&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(_)):(m.isub(l),_.isub(x))}var z;return l.cmpn(1)===0?z=x:z=_,z.cmpn(0)<0&&z.iadd(u),z},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var l=this.clone(),m=u.clone();l.negative=0,m.negative=0;for(var x=0;l.isEven()&&m.isEven();x++)l.iushrn(1),m.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;m.isEven();)m.iushrn(1);var _=l.cmp(m);if(_<0){var k=l;l=m,m=k}else if(_===0||m.cmpn(1)===0)break;l.isub(m)}while(!0);return m.iushln(x)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){t(typeof u=="number");var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var _=x,k=m;_!==0&&k<this.length;k++){var R=this.words[k]|0;R+=_,_=R>>>26,R&=67108863,this.words[k]=R}return _!==0&&(this.words[k]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var l=u<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var m;if(this.length>1)m=1;else{l&&(u=-u),t(u<=67108863,"Number is too big");var x=this.words[0]|0;m=x===u?0:x<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var l=this.ucmp(u);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var l=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,_=u.words[m]|0;if(x!==_){x<_?l=-1:x>_&&(l=1);break}}return l},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new $(u)},s.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var H={k256:null,p224:null,p192:null,p25519:null};function G(S,u){this.name=S,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},G.prototype.ireduce=function(u){var l=u,m;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),m=l.bitLength();while(m>this.n);var x=m<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},G.prototype.split=function(u,l){u.iushrn(this.n,0,l)},G.prototype.imulK=function(u){return u.imul(this.k)};function V(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(V,G),V.prototype.split=function(u,l){for(var m=4194303,x=Math.min(u.length,9),_=0;_<x;_++)l.words[_]=u.words[_];if(l.length=x,u.length<=9){u.words[0]=0,u.length=1;return}var k=u.words[9];for(l.words[l.length++]=k&m,_=10;_<u.length;_++){var R=u.words[_]|0;u.words[_-10]=(R&m)<<4|k>>>22,k=R}k>>>=22,u.words[_-10]=k,k===0&&u.length>10?u.length-=10:u.length-=9},V.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var l=0,m=0;m<u.length;m++){var x=u.words[m]|0;l+=x*977,u.words[m]=l&67108863,l=x*64+(l/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function J(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(J,G);function ae(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ae,G);function se(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(se,G),se.prototype.imulK=function(u){for(var l=0,m=0;m<u.length;m++){var x=(u.words[m]|0)*19+l,_=x&67108863;x>>>=26,u.words[m]=_,l=x}return l!==0&&(u.words[u.length++]=l),u},s._prime=function(u){if(H[u])return H[u];var l;if(u==="k256")l=new V;else if(u==="p224")l=new J;else if(u==="p192")l=new ae;else if(u==="p25519")l=new se;else throw new Error("Unknown prime "+u);return H[u]=l,l};function $(S){if(typeof S=="string"){var u=s._prime(S);this.m=u.p,this.prime=u}else t(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,l){t((u.negative|l.negative)===0,"red works only with positives"),t(u.red&&u.red===l.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,l){this._verify2(u,l);var m=u.add(l);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(u,l){this._verify2(u,l);var m=u.iadd(l);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(u,l){this._verify2(u,l);var m=u.sub(l);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(u,l){this._verify2(u,l);var m=u.isub(l);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(u,l){return this._verify1(u),this.imod(u.ushln(l))},$.prototype.imul=function(u,l){return this._verify2(u,l),this.imod(u.imul(l))},$.prototype.mul=function(u,l){return this._verify2(u,l),this.imod(u.mul(l))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);t(!x.isZero());var k=new s(1).toRed(this),R=k.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,v).cmp(R)!==0;)d.redIAdd(R);for(var E=this.pow(d,x),z=this.pow(u,x.addn(1).iushrn(1)),W=this.pow(u,x),Q=_;W.cmp(k)!==0;){for(var ee=W,de=0;ee.cmp(k)!==0;de++)ee=ee.redSqr();t(de<Q);var he=this.pow(E,new s(1).iushln(Q-de-1));z=z.redMul(he),E=he.redSqr(),W=W.redMul(E),Q=de}return z},$.prototype.invm=function(u){var l=u._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},$.prototype.pow=function(u,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return u.clone();var m=4,x=new Array(1<<m);x[0]=new s(1).toRed(this),x[1]=u;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],u);var k=x[0],R=0,v=0,d=l.bitLength()%26;for(d===0&&(d=26),_=l.length-1;_>=0;_--){for(var E=l.words[_],z=d-1;z>=0;z--){var W=E>>z&1;if(k!==x[0]&&(k=this.sqr(k)),W===0&&R===0){v=0;continue}R<<=1,R|=W,v++,!(v!==m&&(_!==0||z!==0))&&(k=this.mul(k,x[R]),v=0,R=0)}d=26}return k},$.prototype.convertTo=function(u){var l=u.umod(this.m);return l===u?l.clone():l},$.prototype.convertFrom=function(u){var l=u.clone();return l.red=null,l},s.mont=function(u){return new le(u)};function le(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(le,$),le.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},le.prototype.convertFrom=function(u){var l=this.imod(u.mul(this.rinv));return l.red=null,l},le.prototype.imul=function(u,l){if(u.isZero()||l.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},le.prototype.mul=function(u,l){if(u.isZero()||l.isZero())return new s(0)._forceRed(this);var m=u.mul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},le.prototype.invm=function(u){var l=this.imod(u._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof ST>"u"||ST,p7)});var y7=M(MP=>{y();b();Object.defineProperty(MP,"__esModule",{value:!0});MP.version=void 0;MP.version="bytes/5.8.0"});var OT=M(Dt=>{y();b();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.joinSignature=Dt.splitSignature=Dt.hexZeroPad=Dt.hexStripZeros=Dt.hexValue=Dt.hexConcat=Dt.hexDataSlice=Dt.hexDataLength=Dt.hexlify=Dt.isHexString=Dt.zeroPad=Dt.stripZeros=Dt.concat=Dt.arrayify=Dt.isBytes=Dt.isBytesLike=void 0;var dee=$s(),hee=y7(),Mr=new dee.Logger(hee.version);function x7(r){return!!r.toHexString}function qg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return qg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function w7(r){return la(r)&&!(r.length%2)||FP(r)}Dt.isBytesLike=w7;function b7(r){return typeof r=="number"&&r==r&&r%1===0}function FP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!b7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!b7(t)||t<0||t>=256)return!1}return!0}Dt.isBytes=FP;function w0(r,e){if(e||(e={}),typeof r=="number"){Mr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),qg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),x7(r)&&(r=r.toHexString()),la(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Mr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return qg(new Uint8Array(t))}return FP(r)?qg(new Uint8Array(r)):Mr.throwArgumentError("invalid arrayify value","value",r)}Dt.arrayify=w0;function _7(r){var e=r.map(function(s){return w0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),qg(n)}Dt.concat=_7;function gee(r){var e=w0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Dt.stripZeros=gee;function v7(r,e){r=w0(r),r.length>e&&Mr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),qg(t)}Dt.zeroPad=v7;function la(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Dt.isHexString=la;var kT="0123456789abcdef";function Jn(r,e){if(e||(e={}),typeof r=="number"){Mr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=kT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),x7(r))return r.toHexString();if(la(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Mr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(FP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=kT[(i&240)>>4]+kT[i&15]}return n}return Mr.throwArgumentError("invalid hexlify value","value",r)}Dt.hexlify=Jn;function pee(r){if(typeof r!="string")r=Jn(r);else if(!la(r)||r.length%2)return null;return(r.length-2)/2}Dt.hexDataLength=pee;function mee(r,e,t){return typeof r!="string"?r=Jn(r):(!la(r)||r.length%2)&&Mr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Dt.hexDataSlice=mee;function yee(r){var e="0x";return r.forEach(function(t){e+=Jn(t).substring(2)}),e}Dt.hexConcat=yee;function bee(r){var e=P7(Jn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Dt.hexValue=bee;function P7(r){typeof r!="string"&&(r=Jn(r)),la(r)||Mr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Dt.hexStripZeros=P7;function jP(r,e){for(typeof r!="string"?r=Jn(r):la(r)||Mr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Mr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Dt.hexZeroPad=jP;function A7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(w7(r)){var t=w0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Jn(t.slice(0,32)),e.s=Jn(t.slice(32,64))):t.length===65?(e.r=Jn(t.slice(0,32)),e.s=Jn(t.slice(32,64)),e.v=t[64]):Mr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Mr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Jn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=v7(w0(e._vs),32);e._vs=Jn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Mr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Jn(n);e.s==null?e.s=i:e.s!==i&&Mr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Mr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Mr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!la(e.r)?Mr.throwArgumentError("signature missing or invalid r","signature",r):e.r=jP(e.r,32),e.s==null||!la(e.s)?Mr.throwArgumentError("signature missing or invalid s","signature",r):e.s=jP(e.s,32);var a=w0(e.s);a[0]>=128&&Mr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Jn(a);e._vs&&(la(e._vs)||Mr.throwArgumentError("signature invalid _vs","signature",r),e._vs=jP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Mr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Dt.splitSignature=A7;function xee(r){return r=A7(r),Jn(_7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Dt.joinSignature=xee});var TT=M(LP=>{y();b();Object.defineProperty(LP,"__esModule",{value:!0});LP.version=void 0;LP.version="bignumber/5.8.0"});var DP=M(Wi=>{y();b();var wee=Wi&&Wi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wi,"__esModule",{value:!0});Wi._base16To36=Wi._base36To16=Wi.BigNumber=Wi.isBigNumberish=void 0;var _ee=wee(m7()),iw=_ee.default.BN,Hg=OT(),Gg=$s(),vee=TT(),Bu=new Gg.Logger(vee.version),NT={},E7=9007199254740991;function Pee(r){return r!=null&&(UP.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||(0,Hg.isHexString)(r)||typeof r=="bigint"||(0,Hg.isBytes)(r))}Wi.isBigNumberish=Pee;var S7=!1,UP=function(){function r(e,t){e!==NT&&Bu.throwError("cannot call constructor directly; use BigNumber.from",Gg.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return r.prototype.fromTwos=function(e){return Zs(Nt(this).fromTwos(e))},r.prototype.toTwos=function(e){return Zs(Nt(this).toTwos(e))},r.prototype.abs=function(){return this._hex[0]==="-"?r.from(this._hex.substring(1)):this},r.prototype.add=function(e){return Zs(Nt(this).add(Nt(e)))},r.prototype.sub=function(e){return Zs(Nt(this).sub(Nt(e)))},r.prototype.div=function(e){var t=r.from(e);return t.isZero()&&Ji("division-by-zero","div"),Zs(Nt(this).div(Nt(e)))},r.prototype.mul=function(e){return Zs(Nt(this).mul(Nt(e)))},r.prototype.mod=function(e){var t=Nt(e);return t.isNeg()&&Ji("division-by-zero","mod"),Zs(Nt(this).umod(t))},r.prototype.pow=function(e){var t=Nt(e);return t.isNeg()&&Ji("negative-power","pow"),Zs(Nt(this).pow(t))},r.prototype.and=function(e){var t=Nt(e);return(this.isNegative()||t.isNeg())&&Ji("unbound-bitwise-result","and"),Zs(Nt(this).and(t))},r.prototype.or=function(e){var t=Nt(e);return(this.isNegative()||t.isNeg())&&Ji("unbound-bitwise-result","or"),Zs(Nt(this).or(t))},r.prototype.xor=function(e){var t=Nt(e);return(this.isNegative()||t.isNeg())&&Ji("unbound-bitwise-result","xor"),Zs(Nt(this).xor(t))},r.prototype.mask=function(e){return(this.isNegative()||e<0)&&Ji("negative-width","mask"),Zs(Nt(this).maskn(e))},r.prototype.shl=function(e){return(this.isNegative()||e<0)&&Ji("negative-width","shl"),Zs(Nt(this).shln(e))},r.prototype.shr=function(e){return(this.isNegative()||e<0)&&Ji("negative-width","shr"),Zs(Nt(this).shrn(e))},r.prototype.eq=function(e){return Nt(this).eq(Nt(e))},r.prototype.lt=function(e){return Nt(this).lt(Nt(e))},r.prototype.lte=function(e){return Nt(this).lte(Nt(e))},r.prototype.gt=function(e){return Nt(this).gt(Nt(e))},r.prototype.gte=function(e){return Nt(this).gte(Nt(e))},r.prototype.isNegative=function(){return this._hex[0]==="-"},r.prototype.isZero=function(){return Nt(this).isZero()},r.prototype.toNumber=function(){try{return Nt(this).toNumber()}catch{Ji("overflow","toNumber",this.toString())}return null},r.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch{}return Bu.throwError("this platform does not support BigInt",Gg.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},r.prototype.toString=function(){return arguments.length>0&&(arguments[0]===10?S7||(S7=!0,Bu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Bu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Gg.Logger.errors.UNEXPECTED_ARGUMENT,{}):Bu.throwError("BigNumber.toString does not accept parameters",Gg.Logger.errors.UNEXPECTED_ARGUMENT,{})),Nt(this).toString(10)},r.prototype.toHexString=function(){return this._hex},r.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},r.from=function(e){if(e instanceof r)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new r(NT,ow(e)):e.match(/^-?[0-9]+$/)?new r(NT,ow(new iw(e))):Bu.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ji("underflow","BigNumber.from",e),(e>=E7||e<=-E7)&&Ji("overflow","BigNumber.from",e),r.from(String(e));var t=e;if(typeof t=="bigint")return r.from(t.toString());if((0,Hg.isBytes)(t))return r.from((0,Hg.hexlify)(t));if(t)if(t.toHexString){var n=t.toHexString();if(typeof n=="string")return r.from(n)}else{var n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&((0,Hg.isHexString)(n)||n[0]==="-"&&(0,Hg.isHexString)(n.substring(1))))return r.from(n)}return Bu.throwArgumentError("invalid BigNumber value","value",e)},r.isBigNumber=function(e){return!!(e&&e._isBigNumber)},r}();Wi.BigNumber=UP;function ow(r){if(typeof r!="string")return ow(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Bu.throwArgumentError("invalid hex","value",r),r=ow(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Zs(r){return UP.from(ow(r))}function Nt(r){var e=UP.from(r).toHexString();return e[0]==="-"?new iw("-"+e.substring(3),16):new iw(e.substring(2),16)}function Ji(r,e,t){var n={fault:r,operation:e};return t!=null&&(n.value=t),Bu.throwError(r,Gg.Logger.errors.NUMERIC_FAULT,n)}function Aee(r){return new iw(r,36).toString(16)}Wi._base36To16=Aee;function Eee(r){return new iw(r,16).toString(36)}Wi._base16To36=Eee});var C7=M(Pc=>{y();b();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.FixedNumber=Pc.FixedFormat=Pc.parseFixed=Pc.formatFixed=void 0;var qP=OT(),uw=$s(),See=TT(),_s=new uw.Logger(See.version),Iu=DP(),aw={},O7=Iu.BigNumber.from(0),T7=Iu.BigNumber.from(-1);function N7(r,e,t,n){var s={fault:e,operation:t};return n!==void 0&&(s.value=n),_s.throwError(r,uw.Logger.errors.NUMERIC_FAULT,s)}var cw="0";for(;cw.length<256;)cw+=cw;function CT(r){if(typeof r!="number")try{r=Iu.BigNumber.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+cw.substring(0,r):_s.throwArgumentError("invalid decimal size","decimals",r)}function HP(r,e){e==null&&(e=0);var t=CT(e);r=Iu.BigNumber.from(r);var n=r.lt(O7);n&&(r=r.mul(T7));for(var s=r.mod(t).toString();s.length<t.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=r.div(t).toString();return t.length===1?r=i:r=i+"."+s,n&&(r="-"+r),r}Pc.formatFixed=HP;function vc(r,e){e==null&&(e=0);var t=CT(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&_s.throwArgumentError("invalid decimal value","value",r);var n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&_s.throwArgumentError("missing value","value",r);var s=r.split(".");s.length>2&&_s.throwArgumentError("too many decimal points","value",r);var i=s[0],o=s[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&N7("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";var a=Iu.BigNumber.from(i),c=Iu.BigNumber.from(o),f=a.mul(t).add(c);return n&&(f=f.mul(T7)),f}Pc.parseFixed=vc;var GP=function(){function r(e,t,n,s){e!==aw&&_s.throwError("cannot use FixedFormat constructor; use FixedFormat.from",uw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=s,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(s),this._multiplier=CT(s),Object.freeze(this)}return r.from=function(e){if(e instanceof r)return e;typeof e=="number"&&(e="fixed128x"+e);var t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||_s.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(e){var o=function(a,c,f){return e[a]==null?f:(typeof e[a]!==c&&_s.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,e[a]),e[a])};t=o("signed","boolean",t),n=o("width","number",n),s=o("decimals","number",s)}return n%8&&_s.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),s>80&&_s.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new r(aw,t,n,s)},r}();Pc.FixedFormat=GP;var RT=function(){function r(e,t,n,s){e!==aw&&_s.throwError("cannot use FixedNumber constructor; use FixedNumber.from",uw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return r.prototype._checkFormat=function(e){this.format.name!==e.format.name&&_s.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},r.prototype.addUnsafe=function(e){this._checkFormat(e);var t=vc(this._value,this.format.decimals),n=vc(e._value,e.format.decimals);return r.fromValue(t.add(n),this.format.decimals,this.format)},r.prototype.subUnsafe=function(e){this._checkFormat(e);var t=vc(this._value,this.format.decimals),n=vc(e._value,e.format.decimals);return r.fromValue(t.sub(n),this.format.decimals,this.format)},r.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=vc(this._value,this.format.decimals),n=vc(e._value,e.format.decimals);return r.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},r.prototype.divUnsafe=function(e){this._checkFormat(e);var t=vc(this._value,this.format.decimals),n=vc(e._value,e.format.decimals);return r.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},r.prototype.floor=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(k7.toFormat(t.format))),t},r.prototype.ceiling=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(k7.toFormat(t.format))),t},r.prototype.round=function(e){e==null&&(e=0);var t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&_s.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var n=r.from("1"+cw.substring(0,e),this.format),s=kee.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(s).floor().divUnsafe(n)},r.prototype.isZero=function(){return this._value==="0.0"||this._value==="0"},r.prototype.isNegative=function(){return this._value[0]==="-"},r.prototype.toString=function(){return this._value},r.prototype.toHexString=function(e){if(e==null)return this._hex;e%8&&_s.throwArgumentError("invalid byte width","width",e);var t=Iu.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,qP.hexZeroPad)(t,e/8)},r.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},r.prototype.toFormat=function(e){return r.fromString(this._value,e)},r.fromValue=function(e,t,n){return n==null&&t!=null&&!(0,Iu.isBigNumberish)(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),r.fromString(HP(e,t),GP.from(n))},r.fromString=function(e,t){t==null&&(t="fixed");var n=GP.from(t),s=vc(e,n.decimals);!n.signed&&s.lt(O7)&&N7("unsigned value cannot be negative","overflow","value",e);var i=null;n.signed?i=s.toTwos(n.width).toHexString():(i=s.toHexString(),i=(0,qP.hexZeroPad)(i,n.width/8));var o=HP(s,n.decimals);return new r(aw,i,o,n)},r.fromBytes=function(e,t){t==null&&(t="fixed");var n=GP.from(t);if((0,qP.arrayify)(e).length>n.width/8)throw new Error("overflow");var s=Iu.BigNumber.from(e);n.signed&&(s=s.fromTwos(n.width));var i=s.toTwos((n.signed?0:1)+n.width).toHexString(),o=HP(s,n.decimals);return new r(aw,i,o,n)},r.from=function(e,t){if(typeof e=="string")return r.fromString(e,t);if((0,qP.isBytes)(e))return r.fromBytes(e,t);try{return r.fromValue(e,0,t)}catch(n){if(n.code!==uw.Logger.errors.INVALID_ARGUMENT)throw n}return _s.throwArgumentError("invalid FixedNumber value","value",e)},r.isFixedNumber=function(e){return!!(e&&e._isFixedNumber)},r}();Pc.FixedNumber=RT;var k7=RT.from(1),kee=RT.from("0.5")});var VP=M(Wn=>{y();b();Object.defineProperty(Wn,"__esModule",{value:!0});Wn._base36To16=Wn._base16To36=Wn.parseFixed=Wn.FixedNumber=Wn.FixedFormat=Wn.formatFixed=Wn.BigNumber=void 0;var Oee=DP();Object.defineProperty(Wn,"BigNumber",{enumerable:!0,get:function(){return Oee.BigNumber}});var KP=C7();Object.defineProperty(Wn,"formatFixed",{enumerable:!0,get:function(){return KP.formatFixed}});Object.defineProperty(Wn,"FixedFormat",{enumerable:!0,get:function(){return KP.FixedFormat}});Object.defineProperty(Wn,"FixedNumber",{enumerable:!0,get:function(){return KP.FixedNumber}});Object.defineProperty(Wn,"parseFixed",{enumerable:!0,get:function(){return KP.parseFixed}});var R7=DP();Object.defineProperty(Wn,"_base16To36",{enumerable:!0,get:function(){return R7._base16To36}});Object.defineProperty(Wn,"_base36To16",{enumerable:!0,get:function(){return R7._base36To16}})});var B7=M(zP=>{y();b();Object.defineProperty(zP,"__esModule",{value:!0});zP.version=void 0;zP.version="bytes/5.8.0"});var q7=M(qt=>{y();b();Object.defineProperty(qt,"__esModule",{value:!0});qt.joinSignature=qt.splitSignature=qt.hexZeroPad=qt.hexStripZeros=qt.hexValue=qt.hexConcat=qt.hexDataSlice=qt.hexDataLength=qt.hexlify=qt.isHexString=qt.zeroPad=qt.stripZeros=qt.concat=qt.arrayify=qt.isBytes=qt.isBytesLike=void 0;var Tee=$s(),Nee=B7(),jr=new Tee.Logger(Nee.version);function M7(r){return!!r.toHexString}function Kg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Kg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function j7(r){return da(r)&&!(r.length%2)||WP(r)}qt.isBytesLike=j7;function I7(r){return typeof r=="number"&&r==r&&r%1===0}function WP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!I7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!I7(t)||t<0||t>=256)return!1}return!0}qt.isBytes=WP;function _0(r,e){if(e||(e={}),typeof r=="number"){jr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Kg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),M7(r)&&(r=r.toHexString()),da(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":jr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Kg(new Uint8Array(t))}return WP(r)?Kg(new Uint8Array(r)):jr.throwArgumentError("invalid arrayify value","value",r)}qt.arrayify=_0;function F7(r){var e=r.map(function(s){return _0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Kg(n)}qt.concat=F7;function Cee(r){var e=_0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}qt.stripZeros=Cee;function L7(r,e){r=_0(r),r.length>e&&jr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Kg(t)}qt.zeroPad=L7;function da(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}qt.isHexString=da;var BT="0123456789abcdef";function $n(r,e){if(e||(e={}),typeof r=="number"){jr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=BT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),M7(r))return r.toHexString();if(da(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":jr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(WP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=BT[(i&240)>>4]+BT[i&15]}return n}return jr.throwArgumentError("invalid hexlify value","value",r)}qt.hexlify=$n;function Ree(r){if(typeof r!="string")r=$n(r);else if(!da(r)||r.length%2)return null;return(r.length-2)/2}qt.hexDataLength=Ree;function Bee(r,e,t){return typeof r!="string"?r=$n(r):(!da(r)||r.length%2)&&jr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}qt.hexDataSlice=Bee;function Iee(r){var e="0x";return r.forEach(function(t){e+=$n(t).substring(2)}),e}qt.hexConcat=Iee;function Mee(r){var e=U7($n(r,{hexPad:"left"}));return e==="0x"?"0x0":e}qt.hexValue=Mee;function U7(r){typeof r!="string"&&(r=$n(r)),da(r)||jr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}qt.hexStripZeros=U7;function JP(r,e){for(typeof r!="string"?r=$n(r):da(r)||jr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&jr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}qt.hexZeroPad=JP;function D7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(j7(r)){var t=_0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=$n(t.slice(0,32)),e.s=$n(t.slice(32,64))):t.length===65?(e.r=$n(t.slice(0,32)),e.s=$n(t.slice(32,64)),e.v=t[64]):jr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:jr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=$n(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=L7(_0(e._vs),32);e._vs=$n(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&jr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=$n(n);e.s==null?e.s=i:e.s!==i&&jr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?jr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&jr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!da(e.r)?jr.throwArgumentError("signature missing or invalid r","signature",r):e.r=JP(e.r,32),e.s==null||!da(e.s)?jr.throwArgumentError("signature missing or invalid s","signature",r):e.s=JP(e.s,32);var a=_0(e.s);a[0]>=128&&jr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=$n(a);e._vs&&(da(e._vs)||jr.throwArgumentError("signature invalid _vs","signature",r),e._vs=JP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&jr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}qt.splitSignature=D7;function jee(r){return r=D7(r),$n(F7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}qt.joinSignature=jee});var IT=M(Vg=>{y();b();var Fee=Vg&&Vg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vg,"__esModule",{value:!0});Vg.keccak256=void 0;var Lee=Fee(QY()),Uee=q7();function Dee(r){return"0x"+Lee.default.keccak_256((0,Uee.arrayify)(r))}Vg.keccak256=Dee});var H7=M($P=>{y();b();Object.defineProperty($P,"__esModule",{value:!0});$P.version=void 0;$P.version="bytes/5.8.0"});var Z7=M(Ht=>{y();b();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.joinSignature=Ht.splitSignature=Ht.hexZeroPad=Ht.hexStripZeros=Ht.hexValue=Ht.hexConcat=Ht.hexDataSlice=Ht.hexDataLength=Ht.hexlify=Ht.isHexString=Ht.zeroPad=Ht.stripZeros=Ht.concat=Ht.arrayify=Ht.isBytes=Ht.isBytesLike=void 0;var qee=$s(),Hee=H7(),Fr=new qee.Logger(Hee.version);function K7(r){return!!r.toHexString}function zg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return zg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function V7(r){return ha(r)&&!(r.length%2)||QP(r)}Ht.isBytesLike=V7;function G7(r){return typeof r=="number"&&r==r&&r%1===0}function QP(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!G7(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!G7(t)||t<0||t>=256)return!1}return!0}Ht.isBytes=QP;function v0(r,e){if(e||(e={}),typeof r=="number"){Fr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),zg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),K7(r)&&(r=r.toHexString()),ha(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Fr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return zg(new Uint8Array(t))}return QP(r)?zg(new Uint8Array(r)):Fr.throwArgumentError("invalid arrayify value","value",r)}Ht.arrayify=v0;function z7(r){var e=r.map(function(s){return v0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),zg(n)}Ht.concat=z7;function Gee(r){var e=v0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Ht.stripZeros=Gee;function J7(r,e){r=v0(r),r.length>e&&Fr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),zg(t)}Ht.zeroPad=J7;function ha(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Ht.isHexString=ha;var MT="0123456789abcdef";function Zn(r,e){if(e||(e={}),typeof r=="number"){Fr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=MT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),K7(r))return r.toHexString();if(ha(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Fr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(QP(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=MT[(i&240)>>4]+MT[i&15]}return n}return Fr.throwArgumentError("invalid hexlify value","value",r)}Ht.hexlify=Zn;function Kee(r){if(typeof r!="string")r=Zn(r);else if(!ha(r)||r.length%2)return null;return(r.length-2)/2}Ht.hexDataLength=Kee;function Vee(r,e,t){return typeof r!="string"?r=Zn(r):(!ha(r)||r.length%2)&&Fr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Ht.hexDataSlice=Vee;function zee(r){var e="0x";return r.forEach(function(t){e+=Zn(t).substring(2)}),e}Ht.hexConcat=zee;function Jee(r){var e=W7(Zn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Ht.hexValue=Jee;function W7(r){typeof r!="string"&&(r=Zn(r)),ha(r)||Fr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Ht.hexStripZeros=W7;function ZP(r,e){for(typeof r!="string"?r=Zn(r):ha(r)||Fr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Fr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Ht.hexZeroPad=ZP;function $7(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(V7(r)){var t=v0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Zn(t.slice(0,32)),e.s=Zn(t.slice(32,64))):t.length===65?(e.r=Zn(t.slice(0,32)),e.s=Zn(t.slice(32,64)),e.v=t[64]):Fr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Fr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Zn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=J7(v0(e._vs),32);e._vs=Zn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Fr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Zn(n);e.s==null?e.s=i:e.s!==i&&Fr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Fr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Fr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ha(e.r)?Fr.throwArgumentError("signature missing or invalid r","signature",r):e.r=ZP(e.r,32),e.s==null||!ha(e.s)?Fr.throwArgumentError("signature missing or invalid s","signature",r):e.s=ZP(e.s,32);var a=v0(e.s);a[0]>=128&&Fr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Zn(a);e._vs&&(ha(e._vs)||Fr.throwArgumentError("signature invalid _vs","signature",r),e._vs=ZP(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Fr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Ht.splitSignature=$7;function Wee(r){return r=$7(r),Zn(z7([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Ht.joinSignature=Wee});var Q7=M(XP=>{y();b();Object.defineProperty(XP,"__esModule",{value:!0});XP.version=void 0;XP.version="rlp/5.8.0"});var jT=M(Jg=>{y();b();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.decode=Jg.encode=void 0;var P0=Z7(),Mu=$s(),$ee=Q7(),Ac=new Mu.Logger($ee.version);function X7(r){for(var e=[];r;)e.unshift(r&255),r>>=8;return e}function Y7(r,e,t){for(var n=0,s=0;s<t;s++)n=n*256+r[e+s];return n}function tj(r){if(Array.isArray(r)){var e=[];if(r.forEach(function(i){e=e.concat(tj(i))}),e.length<=55)return e.unshift(192+e.length),e;var t=X7(e.length);return t.unshift(247+t.length),t.concat(e)}(0,P0.isBytesLike)(r)||Ac.throwArgumentError("RLP object must be BytesLike","object",r);var n=Array.prototype.slice.call((0,P0.arrayify)(r));if(n.length===1&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var s=X7(n.length);return s.unshift(183+s.length),s.concat(n)}function Zee(r){return(0,P0.hexlify)(tj(r))}Jg.encode=Zee;function ej(r,e,t,n){for(var s=[];t<e+1+n;){var i=rj(r,t);s.push(i.result),t+=i.consumed,t>e+1+n&&Ac.throwError("child data too short",Mu.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:s}}function rj(r,e){if(r.length===0&&Ac.throwError("data too short",Mu.Logger.errors.BUFFER_OVERRUN,{}),r[e]>=248){var t=r[e]-247;e+1+t>r.length&&Ac.throwError("data short segment too short",Mu.Logger.errors.BUFFER_OVERRUN,{});var n=Y7(r,e+1,t);return e+1+t+n>r.length&&Ac.throwError("data long segment too short",Mu.Logger.errors.BUFFER_OVERRUN,{}),ej(r,e,e+1+t,t+n)}else if(r[e]>=192){var s=r[e]-192;return e+1+s>r.length&&Ac.throwError("data array too short",Mu.Logger.errors.BUFFER_OVERRUN,{}),ej(r,e,e+1,s)}else if(r[e]>=184){var t=r[e]-183;e+1+t>r.length&&Ac.throwError("data array too short",Mu.Logger.errors.BUFFER_OVERRUN,{});var i=Y7(r,e+1,t);e+1+t+i>r.length&&Ac.throwError("data array too short",Mu.Logger.errors.BUFFER_OVERRUN,{});var o=(0,P0.hexlify)(r.slice(e+1+t,e+1+t+i));return{consumed:1+t+i,result:o}}else if(r[e]>=128){var a=r[e]-128;e+1+a>r.length&&Ac.throwError("data too short",Mu.Logger.errors.BUFFER_OVERRUN,{});var o=(0,P0.hexlify)(r.slice(e+1,e+1+a));return{consumed:1+a,result:o}}return{consumed:1,result:(0,P0.hexlify)(r[e])}}function Qee(r){var e=(0,P0.arrayify)(r),t=rj(e,0);return t.consumed!==e.length&&Ac.throwArgumentError("invalid rlp data","data",r),t.result}Jg.decode=Qee});var nj=M(YP=>{y();b();Object.defineProperty(YP,"__esModule",{value:!0});YP.version=void 0;YP.version="address/5.8.0"});var DT=M($i=>{y();b();Object.defineProperty($i,"__esModule",{value:!0});$i.getCreate2Address=$i.getContractAddress=$i.getIcapAddress=$i.isAddress=$i.getAddress=void 0;var ju=g7(),FT=VP(),LT=IT(),Xee=jT(),Yee=$s(),ete=nj(),Wf=new Yee.Logger(ete.version);function sj(r){(0,ju.isHexString)(r,20)||Wf.throwArgumentError("invalid address","address",r),r=r.toLowerCase();for(var e=r.substring(2).split(""),t=new Uint8Array(40),n=0;n<40;n++)t[n]=e[n].charCodeAt(0);for(var s=(0,ju.arrayify)((0,LT.keccak256)(t)),n=0;n<40;n+=2)s[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(s[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}var tte=9007199254740991;function rte(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}var UT={};for(ga=0;ga<10;ga++)UT[String(ga)]=String(ga);var ga;for(ga=0;ga<26;ga++)UT[String.fromCharCode(65+ga)]=String(10+ga);var ga,ij=Math.floor(rte(tte));function oj(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";for(var e=r.split("").map(function(s){return UT[s]}).join("");e.length>=ij;){var t=e.substring(0,ij);e=parseInt(t,10)%97+e.substring(t.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function A0(r){var e=null;if(typeof r!="string"&&Wf.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=sj(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Wf.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==oj(r)&&Wf.throwArgumentError("bad icap checksum","address",r),e=(0,FT._base36To16)(r.substring(4));e.length<40;)e="0"+e;e=sj("0x"+e)}else Wf.throwArgumentError("invalid address","address",r);return e}$i.getAddress=A0;function nte(r){try{return A0(r),!0}catch{}return!1}$i.isAddress=nte;function ste(r){for(var e=(0,FT._base16To36)(A0(r).substring(2)).toUpperCase();e.length<30;)e="0"+e;return"XE"+oj("XE00"+e)+e}$i.getIcapAddress=ste;function ite(r){var e=null;try{e=A0(r.from)}catch{Wf.throwArgumentError("missing from address","transaction",r)}var t=(0,ju.stripZeros)((0,ju.arrayify)(FT.BigNumber.from(r.nonce).toHexString()));return A0((0,ju.hexDataSlice)((0,LT.keccak256)((0,Xee.encode)([e,t])),12))}$i.getContractAddress=ite;function ote(r,e,t){return(0,ju.hexDataLength)(e)!==32&&Wf.throwArgumentError("salt must be 32 bytes","salt",e),(0,ju.hexDataLength)(t)!==32&&Wf.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),A0((0,ju.hexDataSlice)((0,LT.keccak256)((0,ju.concat)(["0xff",A0(r),e,t])),12))}$i.getCreate2Address=ote});var aj=M(eA=>{y();b();Object.defineProperty(eA,"__esModule",{value:!0});eA.version=void 0;eA.version="bytes/5.8.0"});var pj=M(Gt=>{y();b();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.joinSignature=Gt.splitSignature=Gt.hexZeroPad=Gt.hexStripZeros=Gt.hexValue=Gt.hexConcat=Gt.hexDataSlice=Gt.hexDataLength=Gt.hexlify=Gt.isHexString=Gt.zeroPad=Gt.stripZeros=Gt.concat=Gt.arrayify=Gt.isBytes=Gt.isBytesLike=void 0;var ate=$s(),cte=aj(),Lr=new ate.Logger(cte.version);function uj(r){return!!r.toHexString}function Wg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Wg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function fj(r){return pa(r)&&!(r.length%2)||rA(r)}Gt.isBytesLike=fj;function cj(r){return typeof r=="number"&&r==r&&r%1===0}function rA(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!cj(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!cj(t)||t<0||t>=256)return!1}return!0}Gt.isBytes=rA;function E0(r,e){if(e||(e={}),typeof r=="number"){Lr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Wg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),uj(r)&&(r=r.toHexString()),pa(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Lr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Wg(new Uint8Array(t))}return rA(r)?Wg(new Uint8Array(r)):Lr.throwArgumentError("invalid arrayify value","value",r)}Gt.arrayify=E0;function lj(r){var e=r.map(function(s){return E0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Wg(n)}Gt.concat=lj;function ute(r){var e=E0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Gt.stripZeros=ute;function dj(r,e){r=E0(r),r.length>e&&Lr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Wg(t)}Gt.zeroPad=dj;function pa(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Gt.isHexString=pa;var qT="0123456789abcdef";function Qn(r,e){if(e||(e={}),typeof r=="number"){Lr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=qT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),uj(r))return r.toHexString();if(pa(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Lr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(rA(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=qT[(i&240)>>4]+qT[i&15]}return n}return Lr.throwArgumentError("invalid hexlify value","value",r)}Gt.hexlify=Qn;function fte(r){if(typeof r!="string")r=Qn(r);else if(!pa(r)||r.length%2)return null;return(r.length-2)/2}Gt.hexDataLength=fte;function lte(r,e,t){return typeof r!="string"?r=Qn(r):(!pa(r)||r.length%2)&&Lr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Gt.hexDataSlice=lte;function dte(r){var e="0x";return r.forEach(function(t){e+=Qn(t).substring(2)}),e}Gt.hexConcat=dte;function hte(r){var e=hj(Qn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Gt.hexValue=hte;function hj(r){typeof r!="string"&&(r=Qn(r)),pa(r)||Lr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Gt.hexStripZeros=hj;function tA(r,e){for(typeof r!="string"?r=Qn(r):pa(r)||Lr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Lr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Gt.hexZeroPad=tA;function gj(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(fj(r)){var t=E0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Qn(t.slice(0,32)),e.s=Qn(t.slice(32,64))):t.length===65?(e.r=Qn(t.slice(0,32)),e.s=Qn(t.slice(32,64)),e.v=t[64]):Lr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Lr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Qn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=dj(E0(e._vs),32);e._vs=Qn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Lr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Qn(n);e.s==null?e.s=i:e.s!==i&&Lr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Lr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Lr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!pa(e.r)?Lr.throwArgumentError("signature missing or invalid r","signature",r):e.r=tA(e.r,32),e.s==null||!pa(e.s)?Lr.throwArgumentError("signature missing or invalid s","signature",r):e.s=tA(e.s,32);var a=E0(e.s);a[0]>=128&&Lr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Qn(a);e._vs&&(pa(e._vs)||Lr.throwArgumentError("signature invalid _vs","signature",r),e._vs=tA(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Lr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Gt.splitSignature=gj;function gte(r){return r=gj(r),Qn(lj([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Gt.joinSignature=gte});var mj=M(nA=>{y();b();Object.defineProperty(nA,"__esModule",{value:!0});nA.AddressZero=void 0;nA.AddressZero="0x0000000000000000000000000000000000000000"});var yj=M(On=>{y();b();Object.defineProperty(On,"__esModule",{value:!0});On.MaxInt256=On.MinInt256=On.MaxUint256=On.WeiPerEther=On.Two=On.One=On.Zero=On.NegativeOne=void 0;var $f=VP(),pte=$f.BigNumber.from(-1);On.NegativeOne=pte;var mte=$f.BigNumber.from(0);On.Zero=mte;var yte=$f.BigNumber.from(1);On.One=yte;var bte=$f.BigNumber.from(2);On.Two=bte;var xte=$f.BigNumber.from("1000000000000000000");On.WeiPerEther=xte;var wte=$f.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");On.MaxUint256=wte;var _te=$f.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");On.MinInt256=_te;var vte=$f.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");On.MaxInt256=vte});var bj=M(sA=>{y();b();Object.defineProperty(sA,"__esModule",{value:!0});sA.HashZero=void 0;sA.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"});var xj=M(iA=>{y();b();Object.defineProperty(iA,"__esModule",{value:!0});iA.EtherSymbol=void 0;iA.EtherSymbol="\u039E"});var wj=M(Er=>{y();b();Object.defineProperty(Er,"__esModule",{value:!0});Er.EtherSymbol=Er.HashZero=Er.MaxInt256=Er.MinInt256=Er.MaxUint256=Er.WeiPerEther=Er.Two=Er.One=Er.Zero=Er.NegativeOne=Er.AddressZero=void 0;var Pte=mj();Object.defineProperty(Er,"AddressZero",{enumerable:!0,get:function(){return Pte.AddressZero}});var Zf=yj();Object.defineProperty(Er,"NegativeOne",{enumerable:!0,get:function(){return Zf.NegativeOne}});Object.defineProperty(Er,"Zero",{enumerable:!0,get:function(){return Zf.Zero}});Object.defineProperty(Er,"One",{enumerable:!0,get:function(){return Zf.One}});Object.defineProperty(Er,"Two",{enumerable:!0,get:function(){return Zf.Two}});Object.defineProperty(Er,"WeiPerEther",{enumerable:!0,get:function(){return Zf.WeiPerEther}});Object.defineProperty(Er,"MaxUint256",{enumerable:!0,get:function(){return Zf.MaxUint256}});Object.defineProperty(Er,"MinInt256",{enumerable:!0,get:function(){return Zf.MinInt256}});Object.defineProperty(Er,"MaxInt256",{enumerable:!0,get:function(){return Zf.MaxInt256}});var Ate=bj();Object.defineProperty(Er,"HashZero",{enumerable:!0,get:function(){return Ate.HashZero}});var Ete=xj();Object.defineProperty(Er,"EtherSymbol",{enumerable:!0,get:function(){return Ete.EtherSymbol}})});var _j=M(oA=>{y();b();Object.defineProperty(oA,"__esModule",{value:!0});oA.version=void 0;oA.version="properties/5.8.0"});var HT=M(rn=>{y();b();var Ste=rn&&rn.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(g){try{f(n.next(g))}catch(p){o(p)}}function c(g){try{f(n.throw(g))}catch(p){o(p)}}function f(g){g.done?i(g.value):s(g.value).then(a,c)}f((n=n.apply(r,e||[])).next())})},kte=rn&&rn.__generator||function(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(g){return c([f,g])}}function c(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=f[0]&2?s.return:f[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,f[1])).done)return i;switch(s=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(r,t)}catch(g){f=[6,g],s=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(rn,"__esModule",{value:!0});rn.Description=rn.deepCopy=rn.shallowCopy=rn.checkProperties=rn.resolveProperties=rn.getStatic=rn.defineReadOnly=void 0;var Ote=$s(),Tte=_j(),aA=new Ote.Logger(Tte.version);function vj(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}rn.defineReadOnly=vj;function Nte(r,e){for(var t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}rn.getStatic=Nte;function Cte(r){return Ste(this,void 0,void 0,function(){var e,t;return kte(this,function(n){switch(n.label){case 0:return e=Object.keys(r).map(function(s){var i=r[s];return Promise.resolve(i).then(function(o){return{key:s,value:o}})}),[4,Promise.all(e)];case 1:return t=n.sent(),[2,t.reduce(function(s,i){return s[i.key]=i.value,s},{})]}})})}rn.resolveProperties=Cte;function Rte(r,e){(!r||typeof r!="object")&&aA.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(function(t){e[t]||aA.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}rn.checkProperties=Rte;function Bte(r){var e={};for(var t in r)e[t]=r[t];return e}rn.shallowCopy=Bte;var Ite={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Pj(r){if(r==null||Ite[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;for(var e=Object.keys(r),t=0;t<e.length;t++){var n=null;try{n=r[e[t]]}catch{continue}if(!Pj(n))return!1}return!0}return aA.throwArgumentError("Cannot deepCopy "+typeof r,"object",r)}function Mte(r){if(Pj(r))return r;if(Array.isArray(r))return Object.freeze(r.map(function(s){return cA(s)}));if(typeof r=="object"){var e={};for(var t in r){var n=r[t];n!==void 0&&vj(e,t,cA(n))}return e}return aA.throwArgumentError("Cannot deepCopy "+typeof r,"object",r)}function cA(r){return Mte(r)}rn.deepCopy=cA;var jte=function(){function r(e){for(var t in e)this[t]=cA(e[t])}return r}();rn.Description=jte});var Aj=M($g=>{y();b();var Fte=$g&&$g.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($g,"__esModule",{value:!0});$g.EC=void 0;var Lte=Fte($9()),Ute=Lte.default.ec;$g.EC=Ute});var Ej=M(uA=>{y();b();Object.defineProperty(uA,"__esModule",{value:!0});uA.version=void 0;uA.version="bytes/5.8.0"});var Bj=M(Kt=>{y();b();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.joinSignature=Kt.splitSignature=Kt.hexZeroPad=Kt.hexStripZeros=Kt.hexValue=Kt.hexConcat=Kt.hexDataSlice=Kt.hexDataLength=Kt.hexlify=Kt.isHexString=Kt.zeroPad=Kt.stripZeros=Kt.concat=Kt.arrayify=Kt.isBytes=Kt.isBytesLike=void 0;var Dte=$s(),qte=Ej(),Ur=new Dte.Logger(qte.version);function kj(r){return!!r.toHexString}function Zg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Zg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Oj(r){return ma(r)&&!(r.length%2)||lA(r)}Kt.isBytesLike=Oj;function Sj(r){return typeof r=="number"&&r==r&&r%1===0}function lA(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!Sj(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!Sj(t)||t<0||t>=256)return!1}return!0}Kt.isBytes=lA;function S0(r,e){if(e||(e={}),typeof r=="number"){Ur.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Zg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),kj(r)&&(r=r.toHexString()),ma(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Ur.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Zg(new Uint8Array(t))}return lA(r)?Zg(new Uint8Array(r)):Ur.throwArgumentError("invalid arrayify value","value",r)}Kt.arrayify=S0;function Tj(r){var e=r.map(function(s){return S0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Zg(n)}Kt.concat=Tj;function Hte(r){var e=S0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Kt.stripZeros=Hte;function Nj(r,e){r=S0(r),r.length>e&&Ur.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Zg(t)}Kt.zeroPad=Nj;function ma(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Kt.isHexString=ma;var GT="0123456789abcdef";function Xn(r,e){if(e||(e={}),typeof r=="number"){Ur.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=GT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),kj(r))return r.toHexString();if(ma(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Ur.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(lA(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=GT[(i&240)>>4]+GT[i&15]}return n}return Ur.throwArgumentError("invalid hexlify value","value",r)}Kt.hexlify=Xn;function Gte(r){if(typeof r!="string")r=Xn(r);else if(!ma(r)||r.length%2)return null;return(r.length-2)/2}Kt.hexDataLength=Gte;function Kte(r,e,t){return typeof r!="string"?r=Xn(r):(!ma(r)||r.length%2)&&Ur.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Kt.hexDataSlice=Kte;function Vte(r){var e="0x";return r.forEach(function(t){e+=Xn(t).substring(2)}),e}Kt.hexConcat=Vte;function zte(r){var e=Cj(Xn(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Kt.hexValue=zte;function Cj(r){typeof r!="string"&&(r=Xn(r)),ma(r)||Ur.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Kt.hexStripZeros=Cj;function fA(r,e){for(typeof r!="string"?r=Xn(r):ma(r)||Ur.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Ur.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Kt.hexZeroPad=fA;function Rj(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Oj(r)){var t=S0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Xn(t.slice(0,32)),e.s=Xn(t.slice(32,64))):t.length===65?(e.r=Xn(t.slice(0,32)),e.s=Xn(t.slice(32,64)),e.v=t[64]):Ur.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ur.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Xn(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=Nj(S0(e._vs),32);e._vs=Xn(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ur.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=Xn(n);e.s==null?e.s=i:e.s!==i&&Ur.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Ur.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Ur.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ma(e.r)?Ur.throwArgumentError("signature missing or invalid r","signature",r):e.r=fA(e.r,32),e.s==null||!ma(e.s)?Ur.throwArgumentError("signature missing or invalid s","signature",r):e.s=fA(e.s,32);var a=S0(e.s);a[0]>=128&&Ur.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=Xn(a);e._vs&&(ma(e._vs)||Ur.throwArgumentError("signature invalid _vs","signature",r),e._vs=fA(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Ur.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Kt.splitSignature=Rj;function Jte(r){return r=Rj(r),Xn(Tj([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Kt.joinSignature=Jte});var Ij=M(dA=>{y();b();Object.defineProperty(dA,"__esModule",{value:!0});dA.version=void 0;dA.version="signing-key/5.8.0"});var Fj=M(Qf=>{y();b();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.computePublicKey=Qf.recoverPublicKey=Qf.SigningKey=void 0;var Wte=Aj(),nn=Bj(),fw=HT(),$te=$s(),Zte=Ij(),VT=new $te.Logger(Zte.version),KT=null;function Ec(){return KT||(KT=new Wte.EC("secp256k1")),KT}var Mj=function(){function r(e){(0,fw.defineReadOnly)(this,"curve","secp256k1"),(0,fw.defineReadOnly)(this,"privateKey",(0,nn.hexlify)(e)),(0,nn.hexDataLength)(this.privateKey)!==32&&VT.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var t=Ec().keyFromPrivate((0,nn.arrayify)(this.privateKey));(0,fw.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,fw.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,fw.defineReadOnly)(this,"_isSigningKey",!0)}return r.prototype._addPoint=function(e){var t=Ec().keyFromPublic((0,nn.arrayify)(this.publicKey)),n=Ec().keyFromPublic((0,nn.arrayify)(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")},r.prototype.signDigest=function(e){var t=Ec().keyFromPrivate((0,nn.arrayify)(this.privateKey)),n=(0,nn.arrayify)(e);n.length!==32&&VT.throwArgumentError("bad digest length","digest",e);var s=t.sign(n,{canonical:!0});return(0,nn.splitSignature)({recoveryParam:s.recoveryParam,r:(0,nn.hexZeroPad)("0x"+s.r.toString(16),32),s:(0,nn.hexZeroPad)("0x"+s.s.toString(16),32)})},r.prototype.computeSharedSecret=function(e){var t=Ec().keyFromPrivate((0,nn.arrayify)(this.privateKey)),n=Ec().keyFromPublic((0,nn.arrayify)(jj(e)));return(0,nn.hexZeroPad)("0x"+t.derive(n.getPublic()).toString(16),32)},r.isSigningKey=function(e){return!!(e&&e._isSigningKey)},r}();Qf.SigningKey=Mj;function Qte(r,e){var t=(0,nn.splitSignature)(e),n={r:(0,nn.arrayify)(t.r),s:(0,nn.arrayify)(t.s)};return"0x"+Ec().recoverPubKey((0,nn.arrayify)(r),n,t.recoveryParam).encode("hex",!1)}Qf.recoverPublicKey=Qte;function jj(r,e){var t=(0,nn.arrayify)(r);if(t.length===32){var n=new Mj(t);return e?"0x"+Ec().keyFromPrivate(t).getPublic(!0,"hex"):n.publicKey}else{if(t.length===33)return e?(0,nn.hexlify)(t):"0x"+Ec().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Ec().keyFromPublic(t).getPublic(!0,"hex"):(0,nn.hexlify)(t)}return VT.throwArgumentError("invalid public or private key","key","[REDACTED]")}Qf.computePublicKey=jj});var Lj=M(hA=>{y();b();Object.defineProperty(hA,"__esModule",{value:!0});hA.version=void 0;hA.version="transactions/5.8.0"});var Vj=M($r=>{y();b();var Xte=$r&&$r.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yte=$r&&$r.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ere=$r&&$r.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Xte(e,r,t);return Yte(e,r),e};Object.defineProperty($r,"__esModule",{value:!0});$r.parse=$r.serialize=$r.accessListify=$r.recoverAddress=$r.computeAddress=$r.TransactionTypes=void 0;var lw=DT(),k0=VP(),Mt=pj(),tre=wj(),Qg=IT(),rre=HT(),Xf=ere(jT()),Uj=Fj(),JT=$s(),nre=Lj(),es=new JT.Logger(nre.version),sre;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(sre=$r.TransactionTypes||($r.TransactionTypes={}));function WT(r){return r==="0x"?null:(0,lw.getAddress)(r)}function Yn(r){return r==="0x"?tre.Zero:k0.BigNumber.from(r)}var ire=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],ore={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Dj(r){var e=(0,Uj.computePublicKey)(r);return(0,lw.getAddress)((0,Mt.hexDataSlice)((0,Qg.keccak256)((0,Mt.hexDataSlice)(e,1)),12))}$r.computeAddress=Dj;function $T(r,e){return Dj((0,Uj.recoverPublicKey)((0,Mt.arrayify)(r),e))}$r.recoverAddress=$T;function Ei(r,e){var t=(0,Mt.stripZeros)(k0.BigNumber.from(r).toHexString());return t.length>32&&es.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function zT(r,e){return{address:(0,lw.getAddress)(r),storageKeys:(e||[]).map(function(t,n){return(0,Mt.hexDataLength)(t)!==32&&es.throwArgumentError("invalid access list storageKey","accessList["+r+":"+n+"]",t),t.toLowerCase()})}}function gA(r){if(Array.isArray(r))return r.map(function(t,n){return Array.isArray(t)?(t.length>2&&es.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value["+n+"]",t),zT(t[0],t[1])):zT(t.address,t.storageKeys)});var e=Object.keys(r).map(function(t){var n=r[t].reduce(function(s,i){return s[i]=!0,s},{});return zT(t,Object.keys(n).sort())});return e.sort(function(t,n){return t.address.localeCompare(n.address)}),e}$r.accessListify=gA;function qj(r){return gA(r).map(function(e){return[e.address,e.storageKeys]})}function Hj(r,e){if(r.gasPrice!=null){var t=k0.BigNumber.from(r.gasPrice),n=k0.BigNumber.from(r.maxFeePerGas||0);t.eq(n)||es.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}var s=[Ei(r.chainId||0,"chainId"),Ei(r.nonce||0,"nonce"),Ei(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ei(r.maxFeePerGas||0,"maxFeePerGas"),Ei(r.gasLimit||0,"gasLimit"),r.to!=null?(0,lw.getAddress)(r.to):"0x",Ei(r.value||0,"value"),r.data||"0x",qj(r.accessList||[])];if(e){var i=(0,Mt.splitSignature)(e);s.push(Ei(i.recoveryParam,"recoveryParam")),s.push((0,Mt.stripZeros)(i.r)),s.push((0,Mt.stripZeros)(i.s))}return(0,Mt.hexConcat)(["0x02",Xf.encode(s)])}function Gj(r,e){var t=[Ei(r.chainId||0,"chainId"),Ei(r.nonce||0,"nonce"),Ei(r.gasPrice||0,"gasPrice"),Ei(r.gasLimit||0,"gasLimit"),r.to!=null?(0,lw.getAddress)(r.to):"0x",Ei(r.value||0,"value"),r.data||"0x",qj(r.accessList||[])];if(e){var n=(0,Mt.splitSignature)(e);t.push(Ei(n.recoveryParam,"recoveryParam")),t.push((0,Mt.stripZeros)(n.r)),t.push((0,Mt.stripZeros)(n.s))}return(0,Mt.hexConcat)(["0x01",Xf.encode(t)])}function are(r,e){(0,rre.checkProperties)(r,ore);var t=[];ire.forEach(function(o){var a=r[o.name]||[],c={};o.numeric&&(c.hexPad="left"),a=(0,Mt.arrayify)((0,Mt.hexlify)(a,c)),o.length&&a.length!==o.length&&a.length>0&&es.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=(0,Mt.stripZeros)(a),a.length>o.maxLength&&es.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push((0,Mt.hexlify)(a))});var n=0;if(r.chainId!=null?(n=r.chainId,typeof n!="number"&&es.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!(0,Mt.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(t.push((0,Mt.hexlify)(n)),t.push("0x"),t.push("0x")),!e)return Xf.encode(t);var s=(0,Mt.splitSignature)(e),i=27+s.recoveryParam;return n!==0?(t.pop(),t.pop(),t.pop(),i+=n*2+8,s.v>28&&s.v!==i&&es.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):s.v!==i&&es.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push((0,Mt.hexlify)(i)),t.push((0,Mt.stripZeros)((0,Mt.arrayify)(s.r))),t.push((0,Mt.stripZeros)((0,Mt.arrayify)(s.s))),Xf.encode(t)}function cre(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&es.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),are(r,e);switch(r.type){case 1:return Gj(r,e);case 2:return Hj(r,e);default:break}return es.throwError("unsupported transaction type: "+r.type,JT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}$r.serialize=cre;function Kj(r,e,t){try{var n=Yn(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");r.v=n}catch{es.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=(0,Mt.hexZeroPad)(e[1],32),r.s=(0,Mt.hexZeroPad)(e[2],32);try{var s=(0,Qg.keccak256)(t(r));r.from=$T(s,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function ure(r){var e=Xf.decode(r.slice(1));e.length!==9&&e.length!==12&&es.throwArgumentError("invalid component count for transaction type: 2","payload",(0,Mt.hexlify)(r));var t=Yn(e[2]),n=Yn(e[3]),s={type:2,chainId:Yn(e[0]).toNumber(),nonce:Yn(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:n,gasPrice:null,gasLimit:Yn(e[4]),to:WT(e[5]),value:Yn(e[6]),data:e[7],accessList:gA(e[8])};return e.length===9||(s.hash=(0,Qg.keccak256)(r),Kj(s,e.slice(9),Hj)),s}function fre(r){var e=Xf.decode(r.slice(1));e.length!==8&&e.length!==11&&es.throwArgumentError("invalid component count for transaction type: 1","payload",(0,Mt.hexlify)(r));var t={type:1,chainId:Yn(e[0]).toNumber(),nonce:Yn(e[1]).toNumber(),gasPrice:Yn(e[2]),gasLimit:Yn(e[3]),to:WT(e[4]),value:Yn(e[5]),data:e[6],accessList:gA(e[7])};return e.length===8||(t.hash=(0,Qg.keccak256)(r),Kj(t,e.slice(8),Gj)),t}function lre(r){var e=Xf.decode(r);e.length!==9&&e.length!==6&&es.throwArgumentError("invalid raw transaction","rawTransaction",r);var t={nonce:Yn(e[0]).toNumber(),gasPrice:Yn(e[1]),gasLimit:Yn(e[2]),to:WT(e[3]),value:Yn(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=k0.BigNumber.from(e[6]).toNumber()}catch{return t}if(t.r=(0,Mt.hexZeroPad)(e[7],32),t.s=(0,Mt.hexZeroPad)(e[8],32),k0.BigNumber.from(t.r).isZero()&&k0.BigNumber.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);var n=t.v-27,s=e.slice(0,6);t.chainId!==0&&(s.push((0,Mt.hexlify)(t.chainId)),s.push("0x"),s.push("0x"),n-=t.chainId*2+8);var i=(0,Qg.keccak256)(Xf.encode(s));try{t.from=$T(i,{r:(0,Mt.hexlify)(t.r),s:(0,Mt.hexlify)(t.s),recoveryParam:n})}catch{}t.hash=(0,Qg.keccak256)(r)}return t.type=null,t}function dre(r){var e=(0,Mt.arrayify)(r);if(e[0]>127)return lre(e);switch(e[0]){case 1:return fre(e);case 2:return ure(e);default:break}return es.throwError("unsupported transaction type: "+e[0],JT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}$r.parse=dre});var zj=M(pA=>{y();b();Object.defineProperty(pA,"__esModule",{value:!0});pA.AddressZero=void 0;pA.AddressZero="0x0000000000000000000000000000000000000000"});var QT=M((Jj,ZT)=>{y();b();(function(r,e){"use strict";function t(S,u){if(!S)throw new Error(u||"Assertion failed")}function n(S,u){S.super_=u;var l=function(){};l.prototype=u.prototype,S.prototype=new l,S.prototype.constructor=S}function s(S,u,l){if(s.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((u==="le"||u==="be")&&(l=u,u=10),this._init(S||0,u||10,l||"be"))}typeof r=="object"?r.exports=s:e.BN=s,s.BN=s,s.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=W9().Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,l){return u.cmp(l)>0?u:l},s.min=function(u,l){return u.cmp(l)<0?u:l},s.prototype._init=function(u,l,m){if(typeof u=="number")return this._initNumber(u,l,m);if(typeof u=="object")return this._initArray(u,l,m);l==="hex"&&(l=16),t(l===(l|0)&&l>=2&&l<=36),u=u.toString().replace(/\s+/g,"");var x=0;u[0]==="-"&&(x++,this.negative=1),x<u.length&&(l===16?this._parseHex(u,x,m):(this._parseBase(u,l,x),m==="le"&&this._initArray(this.toArray(),l,m)))},s.prototype._initNumber=function(u,l,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),l,m)},s.prototype._initArray=function(u,l,m){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,k,R=0;if(m==="be")for(x=u.length-1,_=0;x>=0;x-=3)k=u[x]|u[x-1]<<8|u[x-2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);else if(m==="le")for(x=0,_=0;x<u.length;x+=3)k=u[x]|u[x+1]<<8|u[x+2]<<16,this.words[_]|=k<<R&67108863,this.words[_+1]=k>>>26-R&67108863,R+=24,R>=26&&(R-=26,_++);return this._strip()};function o(S,u){var l=S.charCodeAt(u);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;t(!1,"Invalid character in "+S)}function a(S,u,l){var m=o(S,l);return l-1>=u&&(m|=o(S,l-1)<<4),m}s.prototype._parseHex=function(u,l,m){this.length=Math.ceil((u.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _=0,k=0,R;if(m==="be")for(x=u.length-1;x>=l;x-=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8;else{var v=u.length-l;for(x=v%2===0?l+1:l;x<u.length;x+=2)R=a(u,l,x)<<_,this.words[k]|=R&67108863,_>=18?(_-=18,k+=1,this.words[k]|=R>>>26):_+=8}this._strip()};function c(S,u,l,m){for(var x=0,_=0,k=Math.min(S.length,l),R=u;R<k;R++){var v=S.charCodeAt(R)-48;x*=m,v>=49?_=v-49+10:v>=17?_=v-17+10:_=v,t(v>=0&&_<m,"Invalid character"),x+=_}return x}s.prototype._parseBase=function(u,l,m){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=l)x++;x--,_=_/l|0;for(var k=u.length-m,R=k%x,v=Math.min(k,k-R)+m,d=0,E=m;E<v;E+=x)d=c(u,E,E+x,l),this.imuln(_),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(R!==0){var z=1;for(d=c(u,E,u.length,l),E=0;E<R;E++)z*=l;this.imuln(z),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var l=0;l<this.length;l++)u.words[l]=this.words[l];u.length=this.length,u.negative=this.negative,u.red=this.red};function f(S,u){S.words=u.words,S.length=u.length,S.negative=u.negative,S.red=u.red}if(s.prototype._move=function(u){f(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,l){u=u||10,l=l|0||1;var m;if(u===16||u==="hex"){m="";for(var x=0,_=0,k=0;k<this.length;k++){var R=this.words[k],v=((R<<x|_)&16777215).toString(16);_=R>>>24-x&16777215,x+=2,x>=26&&(x-=26,k--),_!==0||k!==this.length-1?m=p[6-v.length]+v+m:m=v+m}for(_!==0&&(m=_.toString(16)+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var d=A[u],E=P[u];m="";var z=this.clone();for(z.negative=0;!z.isZero();){var W=z.modrn(E).toString(u);z=z.idivn(E),z.isZero()?m=W+m:m=p[d-W.length]+W+m}for(this.isZero()&&(m="0"+m);m.length%l!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}t(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(u,l){return this.toArrayLike(i,u,l)}),s.prototype.toArray=function(u,l){return this.toArrayLike(Array,u,l)};var C=function(u,l){return u.allocUnsafe?u.allocUnsafe(l):new u(l)};s.prototype.toArrayLike=function(u,l,m){this._strip();var x=this.byteLength(),_=m||Math.max(1,x);t(x<=_,"byte array longer than desired length"),t(_>0,"Requested array length <= 0");var k=C(u,_),R=l==="le"?"LE":"BE";return this["_toArrayLike"+R](k,x),k},s.prototype._toArrayLikeLE=function(u,l){for(var m=0,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m++]=R&255,m<u.length&&(u[m++]=R>>8&255),m<u.length&&(u[m++]=R>>16&255),k===6?(m<u.length&&(u[m++]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m<u.length)for(u[m++]=x;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,l){for(var m=u.length-1,x=0,_=0,k=0;_<this.length;_++){var R=this.words[_]<<k|x;u[m--]=R&255,m>=0&&(u[m--]=R>>8&255),m>=0&&(u[m--]=R>>16&255),k===6?(m>=0&&(u[m--]=R>>24&255),x=0,k=0):(x=R>>>24,k+=2)}if(m>=0)for(u[m--]=x;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var l=u,m=0;return l>=4096&&(m+=13,l>>>=13),l>=64&&(m+=7,l>>>=7),l>=8&&(m+=4,l>>>=4),l>=2&&(m+=2,l>>>=2),m+l},s.prototype._zeroBits=function(u){if(u===0)return 26;var l=u,m=0;return(l&8191)===0&&(m+=13,l>>>=13),(l&127)===0&&(m+=7,l>>>=7),(l&15)===0&&(m+=4,l>>>=4),(l&3)===0&&(m+=2,l>>>=2),(l&1)===0&&m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],l=this._countBits(u);return(this.length-1)*26+l};function N(S){for(var u=new Array(S.bitLength()),l=0;l<u.length;l++){var m=l/26|0,x=l%26;u[l]=S.words[m]>>>x&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,l=0;l<this.length;l++){var m=this._zeroBits(this.words[l]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var l=0;l<u.length;l++)this.words[l]=this.words[l]|u.words[l];return this._strip()},s.prototype.ior=function(u){return t((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var l;this.length>u.length?l=u:l=this;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=l.length,this._strip()},s.prototype.iand=function(u){return t((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var l,m;this.length>u.length?(l=this,m=u):(l=u,m=this);for(var x=0;x<m.length;x++)this.words[x]=l.words[x]^m.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},s.prototype.ixor=function(u){return t((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var l=Math.ceil(u/26)|0,m=u%26;this._expand(l),m>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return m>0&&(this.words[x]=~this.words[x]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,l){t(typeof u=="number"&&u>=0);var m=u/26|0,x=u%26;return this._expand(m+1),l?this.words[m]=this.words[m]|1<<x:this.words[m]=this.words[m]&~(1<<x),this._strip()},s.prototype.iadd=function(u){var l;if(this.negative!==0&&u.negative===0)return this.negative=0,l=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,l=this.isub(u),u.negative=1,l._normSign();var m,x;this.length>u.length?(m=this,x=u):(m=u,x=this);for(var _=0,k=0;k<x.length;k++)l=(m.words[k]|0)+(x.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;for(;_!==0&&k<m.length;k++)l=(m.words[k]|0)+_,this.words[k]=l&67108863,_=l>>>26;if(this.length=m.length,_!==0)this.words[this.length]=_,this.length++;else if(m!==this)for(;k<m.length;k++)this.words[k]=m.words[k];return this},s.prototype.add=function(u){var l;return u.negative!==0&&this.negative===0?(u.negative=0,l=this.sub(u),u.negative^=1,l):u.negative===0&&this.negative!==0?(this.negative=0,l=u.sub(this),this.negative=1,l):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var l=this.iadd(u);return u.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,_;m>0?(x=this,_=u):(x=u,_=this);for(var k=0,R=0;R<_.length;R++)l=(x.words[R]|0)-(_.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;for(;k!==0&&R<x.length;R++)l=(x.words[R]|0)+k,k=l>>26,this.words[R]=l&67108863;if(k===0&&R<x.length&&x!==this)for(;R<x.length;R++)this.words[R]=x.words[R];return this.length=Math.max(this.length,R),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function L(S,u,l){l.negative=u.negative^S.negative;var m=S.length+u.length|0;l.length=m,m=m-1|0;var x=S.words[0]|0,_=u.words[0]|0,k=x*_,R=k&67108863,v=k/67108864|0;l.words[0]=R;for(var d=1;d<m;d++){for(var E=v>>>26,z=v&67108863,W=Math.min(d,u.length-1),Q=Math.max(0,d-S.length+1);Q<=W;Q++){var ee=d-Q|0;x=S.words[ee]|0,_=u.words[Q]|0,k=x*_+z,E+=k/67108864|0,z=k&67108863}l.words[d]=z|0,v=E|0}return v!==0?l.words[d]=v|0:l.length--,l._strip()}var F=function(u,l,m){var x=u.words,_=l.words,k=m.words,R=0,v,d,E,z=x[0]|0,W=z&8191,Q=z>>>13,ee=x[1]|0,de=ee&8191,he=ee>>>13,tr=x[2]|0,be=tr&8191,fe=tr>>>13,bn=x[3]|0,Se=bn&8191,Oe=bn>>>13,oa=x[4]|0,Ge=oa&8191,Ke=oa>>>13,K1=x[5]|0,Ve=K1&8191,ze=K1>>>13,V1=x[6]|0,Je=V1&8191,We=V1>>>13,z1=x[7]|0,$e=z1&8191,Ze=z1>>>13,J1=x[8]|0,Qe=J1&8191,Xe=J1>>>13,W1=x[9]|0,Ye=W1&8191,et=W1>>>13,$1=_[0]|0,tt=$1&8191,rt=$1>>>13,Z1=_[1]|0,nt=Z1&8191,st=Z1>>>13,Q1=_[2]|0,it=Q1&8191,ot=Q1>>>13,X1=_[3]|0,at=X1&8191,ct=X1>>>13,Y1=_[4]|0,ut=Y1&8191,ft=Y1>>>13,ew=_[5]|0,lt=ew&8191,dt=ew>>>13,tw=_[6]|0,ht=tw&8191,gt=tw>>>13,rw=_[7]|0,pt=rw&8191,mt=rw>>>13,nw=_[8]|0,yt=nw&8191,bt=nw>>>13,sw=_[9]|0,xt=sw&8191,wt=sw>>>13;m.negative=u.negative^l.negative,m.length=19,v=Math.imul(W,tt),d=Math.imul(W,rt),d=d+Math.imul(Q,tt)|0,E=Math.imul(Q,rt);var e0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(e0>>>26)|0,e0&=67108863,v=Math.imul(de,tt),d=Math.imul(de,rt),d=d+Math.imul(he,tt)|0,E=Math.imul(he,rt),v=v+Math.imul(W,nt)|0,d=d+Math.imul(W,st)|0,d=d+Math.imul(Q,nt)|0,E=E+Math.imul(Q,st)|0;var t0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(t0>>>26)|0,t0&=67108863,v=Math.imul(be,tt),d=Math.imul(be,rt),d=d+Math.imul(fe,tt)|0,E=Math.imul(fe,rt),v=v+Math.imul(de,nt)|0,d=d+Math.imul(de,st)|0,d=d+Math.imul(he,nt)|0,E=E+Math.imul(he,st)|0,v=v+Math.imul(W,it)|0,d=d+Math.imul(W,ot)|0,d=d+Math.imul(Q,it)|0,E=E+Math.imul(Q,ot)|0;var r0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(r0>>>26)|0,r0&=67108863,v=Math.imul(Se,tt),d=Math.imul(Se,rt),d=d+Math.imul(Oe,tt)|0,E=Math.imul(Oe,rt),v=v+Math.imul(be,nt)|0,d=d+Math.imul(be,st)|0,d=d+Math.imul(fe,nt)|0,E=E+Math.imul(fe,st)|0,v=v+Math.imul(de,it)|0,d=d+Math.imul(de,ot)|0,d=d+Math.imul(he,it)|0,E=E+Math.imul(he,ot)|0,v=v+Math.imul(W,at)|0,d=d+Math.imul(W,ct)|0,d=d+Math.imul(Q,at)|0,E=E+Math.imul(Q,ct)|0;var n0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(n0>>>26)|0,n0&=67108863,v=Math.imul(Ge,tt),d=Math.imul(Ge,rt),d=d+Math.imul(Ke,tt)|0,E=Math.imul(Ke,rt),v=v+Math.imul(Se,nt)|0,d=d+Math.imul(Se,st)|0,d=d+Math.imul(Oe,nt)|0,E=E+Math.imul(Oe,st)|0,v=v+Math.imul(be,it)|0,d=d+Math.imul(be,ot)|0,d=d+Math.imul(fe,it)|0,E=E+Math.imul(fe,ot)|0,v=v+Math.imul(de,at)|0,d=d+Math.imul(de,ct)|0,d=d+Math.imul(he,at)|0,E=E+Math.imul(he,ct)|0,v=v+Math.imul(W,ut)|0,d=d+Math.imul(W,ft)|0,d=d+Math.imul(Q,ut)|0,E=E+Math.imul(Q,ft)|0;var s0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(s0>>>26)|0,s0&=67108863,v=Math.imul(Ve,tt),d=Math.imul(Ve,rt),d=d+Math.imul(ze,tt)|0,E=Math.imul(ze,rt),v=v+Math.imul(Ge,nt)|0,d=d+Math.imul(Ge,st)|0,d=d+Math.imul(Ke,nt)|0,E=E+Math.imul(Ke,st)|0,v=v+Math.imul(Se,it)|0,d=d+Math.imul(Se,ot)|0,d=d+Math.imul(Oe,it)|0,E=E+Math.imul(Oe,ot)|0,v=v+Math.imul(be,at)|0,d=d+Math.imul(be,ct)|0,d=d+Math.imul(fe,at)|0,E=E+Math.imul(fe,ct)|0,v=v+Math.imul(de,ut)|0,d=d+Math.imul(de,ft)|0,d=d+Math.imul(he,ut)|0,E=E+Math.imul(he,ft)|0,v=v+Math.imul(W,lt)|0,d=d+Math.imul(W,dt)|0,d=d+Math.imul(Q,lt)|0,E=E+Math.imul(Q,dt)|0;var i0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(i0>>>26)|0,i0&=67108863,v=Math.imul(Je,tt),d=Math.imul(Je,rt),d=d+Math.imul(We,tt)|0,E=Math.imul(We,rt),v=v+Math.imul(Ve,nt)|0,d=d+Math.imul(Ve,st)|0,d=d+Math.imul(ze,nt)|0,E=E+Math.imul(ze,st)|0,v=v+Math.imul(Ge,it)|0,d=d+Math.imul(Ge,ot)|0,d=d+Math.imul(Ke,it)|0,E=E+Math.imul(Ke,ot)|0,v=v+Math.imul(Se,at)|0,d=d+Math.imul(Se,ct)|0,d=d+Math.imul(Oe,at)|0,E=E+Math.imul(Oe,ct)|0,v=v+Math.imul(be,ut)|0,d=d+Math.imul(be,ft)|0,d=d+Math.imul(fe,ut)|0,E=E+Math.imul(fe,ft)|0,v=v+Math.imul(de,lt)|0,d=d+Math.imul(de,dt)|0,d=d+Math.imul(he,lt)|0,E=E+Math.imul(he,dt)|0,v=v+Math.imul(W,ht)|0,d=d+Math.imul(W,gt)|0,d=d+Math.imul(Q,ht)|0,E=E+Math.imul(Q,gt)|0;var o0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(o0>>>26)|0,o0&=67108863,v=Math.imul($e,tt),d=Math.imul($e,rt),d=d+Math.imul(Ze,tt)|0,E=Math.imul(Ze,rt),v=v+Math.imul(Je,nt)|0,d=d+Math.imul(Je,st)|0,d=d+Math.imul(We,nt)|0,E=E+Math.imul(We,st)|0,v=v+Math.imul(Ve,it)|0,d=d+Math.imul(Ve,ot)|0,d=d+Math.imul(ze,it)|0,E=E+Math.imul(ze,ot)|0,v=v+Math.imul(Ge,at)|0,d=d+Math.imul(Ge,ct)|0,d=d+Math.imul(Ke,at)|0,E=E+Math.imul(Ke,ct)|0,v=v+Math.imul(Se,ut)|0,d=d+Math.imul(Se,ft)|0,d=d+Math.imul(Oe,ut)|0,E=E+Math.imul(Oe,ft)|0,v=v+Math.imul(be,lt)|0,d=d+Math.imul(be,dt)|0,d=d+Math.imul(fe,lt)|0,E=E+Math.imul(fe,dt)|0,v=v+Math.imul(de,ht)|0,d=d+Math.imul(de,gt)|0,d=d+Math.imul(he,ht)|0,E=E+Math.imul(he,gt)|0,v=v+Math.imul(W,pt)|0,d=d+Math.imul(W,mt)|0,d=d+Math.imul(Q,pt)|0,E=E+Math.imul(Q,mt)|0;var a0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(a0>>>26)|0,a0&=67108863,v=Math.imul(Qe,tt),d=Math.imul(Qe,rt),d=d+Math.imul(Xe,tt)|0,E=Math.imul(Xe,rt),v=v+Math.imul($e,nt)|0,d=d+Math.imul($e,st)|0,d=d+Math.imul(Ze,nt)|0,E=E+Math.imul(Ze,st)|0,v=v+Math.imul(Je,it)|0,d=d+Math.imul(Je,ot)|0,d=d+Math.imul(We,it)|0,E=E+Math.imul(We,ot)|0,v=v+Math.imul(Ve,at)|0,d=d+Math.imul(Ve,ct)|0,d=d+Math.imul(ze,at)|0,E=E+Math.imul(ze,ct)|0,v=v+Math.imul(Ge,ut)|0,d=d+Math.imul(Ge,ft)|0,d=d+Math.imul(Ke,ut)|0,E=E+Math.imul(Ke,ft)|0,v=v+Math.imul(Se,lt)|0,d=d+Math.imul(Se,dt)|0,d=d+Math.imul(Oe,lt)|0,E=E+Math.imul(Oe,dt)|0,v=v+Math.imul(be,ht)|0,d=d+Math.imul(be,gt)|0,d=d+Math.imul(fe,ht)|0,E=E+Math.imul(fe,gt)|0,v=v+Math.imul(de,pt)|0,d=d+Math.imul(de,mt)|0,d=d+Math.imul(he,pt)|0,E=E+Math.imul(he,mt)|0,v=v+Math.imul(W,yt)|0,d=d+Math.imul(W,bt)|0,d=d+Math.imul(Q,yt)|0,E=E+Math.imul(Q,bt)|0;var c0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(c0>>>26)|0,c0&=67108863,v=Math.imul(Ye,tt),d=Math.imul(Ye,rt),d=d+Math.imul(et,tt)|0,E=Math.imul(et,rt),v=v+Math.imul(Qe,nt)|0,d=d+Math.imul(Qe,st)|0,d=d+Math.imul(Xe,nt)|0,E=E+Math.imul(Xe,st)|0,v=v+Math.imul($e,it)|0,d=d+Math.imul($e,ot)|0,d=d+Math.imul(Ze,it)|0,E=E+Math.imul(Ze,ot)|0,v=v+Math.imul(Je,at)|0,d=d+Math.imul(Je,ct)|0,d=d+Math.imul(We,at)|0,E=E+Math.imul(We,ct)|0,v=v+Math.imul(Ve,ut)|0,d=d+Math.imul(Ve,ft)|0,d=d+Math.imul(ze,ut)|0,E=E+Math.imul(ze,ft)|0,v=v+Math.imul(Ge,lt)|0,d=d+Math.imul(Ge,dt)|0,d=d+Math.imul(Ke,lt)|0,E=E+Math.imul(Ke,dt)|0,v=v+Math.imul(Se,ht)|0,d=d+Math.imul(Se,gt)|0,d=d+Math.imul(Oe,ht)|0,E=E+Math.imul(Oe,gt)|0,v=v+Math.imul(be,pt)|0,d=d+Math.imul(be,mt)|0,d=d+Math.imul(fe,pt)|0,E=E+Math.imul(fe,mt)|0,v=v+Math.imul(de,yt)|0,d=d+Math.imul(de,bt)|0,d=d+Math.imul(he,yt)|0,E=E+Math.imul(he,bt)|0,v=v+Math.imul(W,xt)|0,d=d+Math.imul(W,wt)|0,d=d+Math.imul(Q,xt)|0,E=E+Math.imul(Q,wt)|0;var u0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(u0>>>26)|0,u0&=67108863,v=Math.imul(Ye,nt),d=Math.imul(Ye,st),d=d+Math.imul(et,nt)|0,E=Math.imul(et,st),v=v+Math.imul(Qe,it)|0,d=d+Math.imul(Qe,ot)|0,d=d+Math.imul(Xe,it)|0,E=E+Math.imul(Xe,ot)|0,v=v+Math.imul($e,at)|0,d=d+Math.imul($e,ct)|0,d=d+Math.imul(Ze,at)|0,E=E+Math.imul(Ze,ct)|0,v=v+Math.imul(Je,ut)|0,d=d+Math.imul(Je,ft)|0,d=d+Math.imul(We,ut)|0,E=E+Math.imul(We,ft)|0,v=v+Math.imul(Ve,lt)|0,d=d+Math.imul(Ve,dt)|0,d=d+Math.imul(ze,lt)|0,E=E+Math.imul(ze,dt)|0,v=v+Math.imul(Ge,ht)|0,d=d+Math.imul(Ge,gt)|0,d=d+Math.imul(Ke,ht)|0,E=E+Math.imul(Ke,gt)|0,v=v+Math.imul(Se,pt)|0,d=d+Math.imul(Se,mt)|0,d=d+Math.imul(Oe,pt)|0,E=E+Math.imul(Oe,mt)|0,v=v+Math.imul(be,yt)|0,d=d+Math.imul(be,bt)|0,d=d+Math.imul(fe,yt)|0,E=E+Math.imul(fe,bt)|0,v=v+Math.imul(de,xt)|0,d=d+Math.imul(de,wt)|0,d=d+Math.imul(he,xt)|0,E=E+Math.imul(he,wt)|0;var f0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(f0>>>26)|0,f0&=67108863,v=Math.imul(Ye,it),d=Math.imul(Ye,ot),d=d+Math.imul(et,it)|0,E=Math.imul(et,ot),v=v+Math.imul(Qe,at)|0,d=d+Math.imul(Qe,ct)|0,d=d+Math.imul(Xe,at)|0,E=E+Math.imul(Xe,ct)|0,v=v+Math.imul($e,ut)|0,d=d+Math.imul($e,ft)|0,d=d+Math.imul(Ze,ut)|0,E=E+Math.imul(Ze,ft)|0,v=v+Math.imul(Je,lt)|0,d=d+Math.imul(Je,dt)|0,d=d+Math.imul(We,lt)|0,E=E+Math.imul(We,dt)|0,v=v+Math.imul(Ve,ht)|0,d=d+Math.imul(Ve,gt)|0,d=d+Math.imul(ze,ht)|0,E=E+Math.imul(ze,gt)|0,v=v+Math.imul(Ge,pt)|0,d=d+Math.imul(Ge,mt)|0,d=d+Math.imul(Ke,pt)|0,E=E+Math.imul(Ke,mt)|0,v=v+Math.imul(Se,yt)|0,d=d+Math.imul(Se,bt)|0,d=d+Math.imul(Oe,yt)|0,E=E+Math.imul(Oe,bt)|0,v=v+Math.imul(be,xt)|0,d=d+Math.imul(be,wt)|0,d=d+Math.imul(fe,xt)|0,E=E+Math.imul(fe,wt)|0;var l0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(l0>>>26)|0,l0&=67108863,v=Math.imul(Ye,at),d=Math.imul(Ye,ct),d=d+Math.imul(et,at)|0,E=Math.imul(et,ct),v=v+Math.imul(Qe,ut)|0,d=d+Math.imul(Qe,ft)|0,d=d+Math.imul(Xe,ut)|0,E=E+Math.imul(Xe,ft)|0,v=v+Math.imul($e,lt)|0,d=d+Math.imul($e,dt)|0,d=d+Math.imul(Ze,lt)|0,E=E+Math.imul(Ze,dt)|0,v=v+Math.imul(Je,ht)|0,d=d+Math.imul(Je,gt)|0,d=d+Math.imul(We,ht)|0,E=E+Math.imul(We,gt)|0,v=v+Math.imul(Ve,pt)|0,d=d+Math.imul(Ve,mt)|0,d=d+Math.imul(ze,pt)|0,E=E+Math.imul(ze,mt)|0,v=v+Math.imul(Ge,yt)|0,d=d+Math.imul(Ge,bt)|0,d=d+Math.imul(Ke,yt)|0,E=E+Math.imul(Ke,bt)|0,v=v+Math.imul(Se,xt)|0,d=d+Math.imul(Se,wt)|0,d=d+Math.imul(Oe,xt)|0,E=E+Math.imul(Oe,wt)|0;var d0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(d0>>>26)|0,d0&=67108863,v=Math.imul(Ye,ut),d=Math.imul(Ye,ft),d=d+Math.imul(et,ut)|0,E=Math.imul(et,ft),v=v+Math.imul(Qe,lt)|0,d=d+Math.imul(Qe,dt)|0,d=d+Math.imul(Xe,lt)|0,E=E+Math.imul(Xe,dt)|0,v=v+Math.imul($e,ht)|0,d=d+Math.imul($e,gt)|0,d=d+Math.imul(Ze,ht)|0,E=E+Math.imul(Ze,gt)|0,v=v+Math.imul(Je,pt)|0,d=d+Math.imul(Je,mt)|0,d=d+Math.imul(We,pt)|0,E=E+Math.imul(We,mt)|0,v=v+Math.imul(Ve,yt)|0,d=d+Math.imul(Ve,bt)|0,d=d+Math.imul(ze,yt)|0,E=E+Math.imul(ze,bt)|0,v=v+Math.imul(Ge,xt)|0,d=d+Math.imul(Ge,wt)|0,d=d+Math.imul(Ke,xt)|0,E=E+Math.imul(Ke,wt)|0;var h0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(h0>>>26)|0,h0&=67108863,v=Math.imul(Ye,lt),d=Math.imul(Ye,dt),d=d+Math.imul(et,lt)|0,E=Math.imul(et,dt),v=v+Math.imul(Qe,ht)|0,d=d+Math.imul(Qe,gt)|0,d=d+Math.imul(Xe,ht)|0,E=E+Math.imul(Xe,gt)|0,v=v+Math.imul($e,pt)|0,d=d+Math.imul($e,mt)|0,d=d+Math.imul(Ze,pt)|0,E=E+Math.imul(Ze,mt)|0,v=v+Math.imul(Je,yt)|0,d=d+Math.imul(Je,bt)|0,d=d+Math.imul(We,yt)|0,E=E+Math.imul(We,bt)|0,v=v+Math.imul(Ve,xt)|0,d=d+Math.imul(Ve,wt)|0,d=d+Math.imul(ze,xt)|0,E=E+Math.imul(ze,wt)|0;var g0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(g0>>>26)|0,g0&=67108863,v=Math.imul(Ye,ht),d=Math.imul(Ye,gt),d=d+Math.imul(et,ht)|0,E=Math.imul(et,gt),v=v+Math.imul(Qe,pt)|0,d=d+Math.imul(Qe,mt)|0,d=d+Math.imul(Xe,pt)|0,E=E+Math.imul(Xe,mt)|0,v=v+Math.imul($e,yt)|0,d=d+Math.imul($e,bt)|0,d=d+Math.imul(Ze,yt)|0,E=E+Math.imul(Ze,bt)|0,v=v+Math.imul(Je,xt)|0,d=d+Math.imul(Je,wt)|0,d=d+Math.imul(We,xt)|0,E=E+Math.imul(We,wt)|0;var p0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(p0>>>26)|0,p0&=67108863,v=Math.imul(Ye,pt),d=Math.imul(Ye,mt),d=d+Math.imul(et,pt)|0,E=Math.imul(et,mt),v=v+Math.imul(Qe,yt)|0,d=d+Math.imul(Qe,bt)|0,d=d+Math.imul(Xe,yt)|0,E=E+Math.imul(Xe,bt)|0,v=v+Math.imul($e,xt)|0,d=d+Math.imul($e,wt)|0,d=d+Math.imul(Ze,xt)|0,E=E+Math.imul(Ze,wt)|0;var m0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(m0>>>26)|0,m0&=67108863,v=Math.imul(Ye,yt),d=Math.imul(Ye,bt),d=d+Math.imul(et,yt)|0,E=Math.imul(et,bt),v=v+Math.imul(Qe,xt)|0,d=d+Math.imul(Qe,wt)|0,d=d+Math.imul(Xe,xt)|0,E=E+Math.imul(Xe,wt)|0;var y0=(R+v|0)+((d&8191)<<13)|0;R=(E+(d>>>13)|0)+(y0>>>26)|0,y0&=67108863,v=Math.imul(Ye,xt),d=Math.imul(Ye,wt),d=d+Math.imul(et,xt)|0,E=Math.imul(et,wt);var b0=(R+v|0)+((d&8191)<<13)|0;return R=(E+(d>>>13)|0)+(b0>>>26)|0,b0&=67108863,k[0]=e0,k[1]=t0,k[2]=r0,k[3]=n0,k[4]=s0,k[5]=i0,k[6]=o0,k[7]=a0,k[8]=c0,k[9]=u0,k[10]=f0,k[11]=l0,k[12]=d0,k[13]=h0,k[14]=g0,k[15]=p0,k[16]=m0,k[17]=y0,k[18]=b0,R!==0&&(k[19]=R,m.length++),m};Math.imul||(F=L);function D(S,u,l){l.negative=u.negative^S.negative,l.length=S.length+u.length;for(var m=0,x=0,_=0;_<l.length-1;_++){var k=x;x=0;for(var R=m&67108863,v=Math.min(_,u.length-1),d=Math.max(0,_-S.length+1);d<=v;d++){var E=_-d,z=S.words[E]|0,W=u.words[d]|0,Q=z*W,ee=Q&67108863;k=k+(Q/67108864|0)|0,ee=ee+R|0,R=ee&67108863,k=k+(ee>>>26)|0,x+=k>>>26,k&=67108863}l.words[_]=R,m=k,k=x}return m!==0?l.words[_]=m:l.length--,l._strip()}function q(S,u,l){return D(S,u,l)}s.prototype.mulTo=function(u,l){var m,x=this.length+u.length;return this.length===10&&u.length===10?m=F(this,u,l):x<63?m=L(this,u,l):x<1024?m=D(this,u,l):m=q(this,u,l),m};function K(S,u){this.x=S,this.y=u}K.prototype.makeRBT=function(u){for(var l=new Array(u),m=s.prototype._countBits(u)-1,x=0;x<u;x++)l[x]=this.revBin(x,m,u);return l},K.prototype.revBin=function(u,l,m){if(u===0||u===m-1)return u;for(var x=0,_=0;_<l;_++)x|=(u&1)<<l-_-1,u>>=1;return x},K.prototype.permute=function(u,l,m,x,_,k){for(var R=0;R<k;R++)x[R]=l[u[R]],_[R]=m[u[R]]},K.prototype.transform=function(u,l,m,x,_,k){this.permute(k,u,l,m,x,_);for(var R=1;R<_;R<<=1)for(var v=R<<1,d=Math.cos(2*Math.PI/v),E=Math.sin(2*Math.PI/v),z=0;z<_;z+=v)for(var W=d,Q=E,ee=0;ee<R;ee++){var de=m[z+ee],he=x[z+ee],tr=m[z+ee+R],be=x[z+ee+R],fe=W*tr-Q*be;be=W*be+Q*tr,tr=fe,m[z+ee]=de+tr,x[z+ee]=he+be,m[z+ee+R]=de-tr,x[z+ee+R]=he-be,ee!==v&&(fe=d*W-E*Q,Q=d*Q+E*W,W=fe)}},K.prototype.guessLen13b=function(u,l){var m=Math.max(l,u)|1,x=m&1,_=0;for(m=m/2|0;m;m=m>>>1)_++;return 1<<_+1+x},K.prototype.conjugate=function(u,l,m){if(!(m<=1))for(var x=0;x<m/2;x++){var _=u[x];u[x]=u[m-x-1],u[m-x-1]=_,_=l[x],l[x]=-l[m-x-1],l[m-x-1]=-_}},K.prototype.normalize13b=function(u,l){for(var m=0,x=0;x<l/2;x++){var _=Math.round(u[2*x+1]/l)*8192+Math.round(u[2*x]/l)+m;u[x]=_&67108863,_<67108864?m=0:m=_/67108864|0}return u},K.prototype.convert13b=function(u,l,m,x){for(var _=0,k=0;k<l;k++)_=_+(u[k]|0),m[2*k]=_&8191,_=_>>>13,m[2*k+1]=_&8191,_=_>>>13;for(k=2*l;k<x;++k)m[k]=0;t(_===0),t((_&-8192)===0)},K.prototype.stub=function(u){for(var l=new Array(u),m=0;m<u;m++)l[m]=0;return l},K.prototype.mulp=function(u,l,m){var x=2*this.guessLen13b(u.length,l.length),_=this.makeRBT(x),k=this.stub(x),R=new Array(x),v=new Array(x),d=new Array(x),E=new Array(x),z=new Array(x),W=new Array(x),Q=m.words;Q.length=x,this.convert13b(u.words,u.length,R,x),this.convert13b(l.words,l.length,E,x),this.transform(R,k,v,d,x,_),this.transform(E,k,z,W,x,_);for(var ee=0;ee<x;ee++){var de=v[ee]*z[ee]-d[ee]*W[ee];d[ee]=v[ee]*W[ee]+d[ee]*z[ee],v[ee]=de}return this.conjugate(v,d,x),this.transform(v,d,Q,k,x,_),this.conjugate(Q,k,x),this.normalize13b(Q,x),m.negative=u.negative^l.negative,m.length=u.length+l.length,m._strip()},s.prototype.mul=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),this.mulTo(u,l)},s.prototype.mulf=function(u){var l=new s(null);return l.words=new Array(this.length+u.length),q(this,u,l)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var l=u<0;l&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var m=0,x=0;x<this.length;x++){var _=(this.words[x]|0)*u,k=(_&67108863)+(m&67108863);m>>=26,m+=_/67108864|0,m+=k>>>26,this.words[x]=k&67108863}return m!==0&&(this.words[x]=m,this.length++),l?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var l=N(u);if(l.length===0)return new s(1);for(var m=this,x=0;x<l.length&&l[x]===0;x++,m=m.sqr());if(++x<l.length)for(var _=m.sqr();x<l.length;x++,_=_.sqr())l[x]!==0&&(m=m.mul(_));return m},s.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=67108863>>>26-l<<26-l,_;if(l!==0){var k=0;for(_=0;_<this.length;_++){var R=this.words[_]&x,v=(this.words[_]|0)-R<<l;this.words[_]=v|k,k=R>>>26-l}k&&(this.words[_]=k,this.length++)}if(m!==0){for(_=this.length-1;_>=0;_--)this.words[_+m]=this.words[_];for(_=0;_<m;_++)this.words[_]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,l,m){t(typeof u=="number"&&u>=0);var x;l?x=(l-l%26)/26:x=0;var _=u%26,k=Math.min((u-_)/26,this.length),R=67108863^67108863>>>_<<_,v=m;if(x-=k,x=Math.max(0,x),v){for(var d=0;d<k;d++)v.words[d]=this.words[d];v.length=k}if(k!==0)if(this.length>k)for(this.length-=k,d=0;d<this.length;d++)this.words[d]=this.words[d+k];else this.words[0]=0,this.length=1;var E=0;for(d=this.length-1;d>=0&&(E!==0||d>=x);d--){var z=this.words[d]|0;this.words[d]=E<<26-_|z>>>_,E=z&R}return v&&E!==0&&(v.words[v.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,l,m){return t(this.negative===0),this.iushrn(u,l,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return!1;var _=this.words[m];return!!(_&x)},s.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var l=u%26,m=(u-l)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(l!==0&&m++,this.length=Math.min(m,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},s.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,l,m){var x=u.length+m,_;this._expand(x);var k,R=0;for(_=0;_<u.length;_++){k=(this.words[_+m]|0)+R;var v=(u.words[_]|0)*l;k-=v&67108863,R=(k>>26)-(v/67108864|0),this.words[_+m]=k&67108863}for(;_<this.length-m;_++)k=(this.words[_+m]|0)+R,R=k>>26,this.words[_+m]=k&67108863;if(R===0)return this._strip();for(t(R===-1),R=0,_=0;_<this.length;_++)k=-(this.words[_]|0)+R,R=k>>26,this.words[_]=k&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,l){var m=this.length-u.length,x=this.clone(),_=u,k=_.words[_.length-1]|0,R=this._countBits(k);m=26-R,m!==0&&(_=_.ushln(m),x.iushln(m),k=_.words[_.length-1]|0);var v=x.length-_.length,d;if(l!=="mod"){d=new s(null),d.length=v+1,d.words=new Array(d.length);for(var E=0;E<d.length;E++)d.words[E]=0}var z=x.clone()._ishlnsubmul(_,1,v);z.negative===0&&(x=z,d&&(d.words[v]=1));for(var W=v-1;W>=0;W--){var Q=(x.words[_.length+W]|0)*67108864+(x.words[_.length+W-1]|0);for(Q=Math.min(Q/k|0,67108863),x._ishlnsubmul(_,Q,W);x.negative!==0;)Q--,x.negative=0,x._ishlnsubmul(_,1,W),x.isZero()||(x.negative^=1);d&&(d.words[W]=Q)}return d&&d._strip(),x._strip(),l!=="div"&&m!==0&&x.iushrn(m),{div:d||null,mod:x}},s.prototype.divmod=function(u,l,m){if(t(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,_,k;return this.negative!==0&&u.negative===0?(k=this.neg().divmod(u,l),l!=="mod"&&(x=k.div.neg()),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.iadd(u)),{div:x,mod:_}):this.negative===0&&u.negative!==0?(k=this.divmod(u.neg(),l),l!=="mod"&&(x=k.div.neg()),{div:x,mod:k.mod}):(this.negative&u.negative)!==0?(k=this.neg().divmod(u.neg(),l),l!=="div"&&(_=k.mod.neg(),m&&_.negative!==0&&_.isub(u)),{div:k.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?l==="div"?{div:this.divn(u.words[0]),mod:null}:l==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,l)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var l=this.divmod(u);if(l.mod.isZero())return l.div;var m=l.div.negative!==0?l.mod.isub(u):l.mod,x=u.ushrn(1),_=u.andln(1),k=m.cmp(x);return k<0||_===1&&k===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},s.prototype.modrn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=(1<<26)%u,x=0,_=this.length-1;_>=0;_--)x=(m*x+(this.words[_]|0))%u;return l?-x:x},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var l=u<0;l&&(u=-u),t(u<=67108863);for(var m=0,x=this.length-1;x>=0;x--){var _=(this.words[x]|0)+m*67108864;this.words[x]=_/u|0,m=_%u}return this._strip(),l?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=new s(0),R=new s(1),v=0;l.isEven()&&m.isEven();)l.iushrn(1),m.iushrn(1),++v;for(var d=m.clone(),E=l.clone();!l.isZero();){for(var z=0,W=1;(l.words[0]&W)===0&&z<26;++z,W<<=1);if(z>0)for(l.iushrn(z);z-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(d),_.isub(E)),x.iushrn(1),_.iushrn(1);for(var Q=0,ee=1;(m.words[0]&ee)===0&&Q<26;++Q,ee<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(k.isOdd()||R.isOdd())&&(k.iadd(d),R.isub(E)),k.iushrn(1),R.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(k),_.isub(R)):(m.isub(l),k.isub(x),R.isub(_))}return{a:k,b:R,gcd:m.iushln(v)}},s.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var l=this,m=u.clone();l.negative!==0?l=l.umod(u):l=l.clone();for(var x=new s(1),_=new s(0),k=m.clone();l.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,v=1;(l.words[0]&v)===0&&R<26;++R,v<<=1);if(R>0)for(l.iushrn(R);R-- >0;)x.isOdd()&&x.iadd(k),x.iushrn(1);for(var d=0,E=1;(m.words[0]&E)===0&&d<26;++d,E<<=1);if(d>0)for(m.iushrn(d);d-- >0;)_.isOdd()&&_.iadd(k),_.iushrn(1);l.cmp(m)>=0?(l.isub(m),x.isub(_)):(m.isub(l),_.isub(x))}var z;return l.cmpn(1)===0?z=x:z=_,z.cmpn(0)<0&&z.iadd(u),z},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var l=this.clone(),m=u.clone();l.negative=0,m.negative=0;for(var x=0;l.isEven()&&m.isEven();x++)l.iushrn(1),m.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;m.isEven();)m.iushrn(1);var _=l.cmp(m);if(_<0){var k=l;l=m,m=k}else if(_===0||m.cmpn(1)===0)break;l.isub(m)}while(!0);return m.iushln(x)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){t(typeof u=="number");var l=u%26,m=(u-l)/26,x=1<<l;if(this.length<=m)return this._expand(m+1),this.words[m]|=x,this;for(var _=x,k=m;_!==0&&k<this.length;k++){var R=this.words[k]|0;R+=_,_=R>>>26,R&=67108863,this.words[k]=R}return _!==0&&(this.words[k]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var l=u<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var m;if(this.length>1)m=1;else{l&&(u=-u),t(u<=67108863,"Number is too big");var x=this.words[0]|0;m=x===u?0:x<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var l=this.ucmp(u);return this.negative!==0?-l|0:l},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var l=0,m=this.length-1;m>=0;m--){var x=this.words[m]|0,_=u.words[m]|0;if(x!==_){x<_?l=-1:x>_&&(l=1);break}}return l},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new $(u)},s.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var H={k256:null,p224:null,p192:null,p25519:null};function G(S,u){this.name=S,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},G.prototype.ireduce=function(u){var l=u,m;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),m=l.bitLength();while(m>this.n);var x=m<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},G.prototype.split=function(u,l){u.iushrn(this.n,0,l)},G.prototype.imulK=function(u){return u.imul(this.k)};function V(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(V,G),V.prototype.split=function(u,l){for(var m=4194303,x=Math.min(u.length,9),_=0;_<x;_++)l.words[_]=u.words[_];if(l.length=x,u.length<=9){u.words[0]=0,u.length=1;return}var k=u.words[9];for(l.words[l.length++]=k&m,_=10;_<u.length;_++){var R=u.words[_]|0;u.words[_-10]=(R&m)<<4|k>>>22,k=R}k>>>=22,u.words[_-10]=k,k===0&&u.length>10?u.length-=10:u.length-=9},V.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var l=0,m=0;m<u.length;m++){var x=u.words[m]|0;l+=x*977,u.words[m]=l&67108863,l=x*64+(l/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function J(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(J,G);function ae(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(ae,G);function se(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(se,G),se.prototype.imulK=function(u){for(var l=0,m=0;m<u.length;m++){var x=(u.words[m]|0)*19+l,_=x&67108863;x>>>=26,u.words[m]=_,l=x}return l!==0&&(u.words[u.length++]=l),u},s._prime=function(u){if(H[u])return H[u];var l;if(u==="k256")l=new V;else if(u==="p224")l=new J;else if(u==="p192")l=new ae;else if(u==="p25519")l=new se;else throw new Error("Unknown prime "+u);return H[u]=l,l};function $(S){if(typeof S=="string"){var u=s._prime(S);this.m=u.p,this.prime=u}else t(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}$.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},$.prototype._verify2=function(u,l){t((u.negative|l.negative)===0,"red works only with positives"),t(u.red&&u.red===l.red,"red works only with red numbers")},$.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(f(u,u.umod(this.m)._forceRed(this)),u)},$.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},$.prototype.add=function(u,l){this._verify2(u,l);var m=u.add(l);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(u,l){this._verify2(u,l);var m=u.iadd(l);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(u,l){this._verify2(u,l);var m=u.sub(l);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(u,l){this._verify2(u,l);var m=u.isub(l);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(u,l){return this._verify1(u),this.imod(u.ushln(l))},$.prototype.imul=function(u,l){return this._verify2(u,l),this.imod(u.imul(l))},$.prototype.mul=function(u,l){return this._verify2(u,l),this.imod(u.mul(l))},$.prototype.isqr=function(u){return this.imul(u,u.clone())},$.prototype.sqr=function(u){return this.mul(u,u)},$.prototype.sqrt=function(u){if(u.isZero())return u.clone();var l=this.m.andln(3);if(t(l%2===1),l===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);t(!x.isZero());var k=new s(1).toRed(this),R=k.redNeg(),v=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,v).cmp(R)!==0;)d.redIAdd(R);for(var E=this.pow(d,x),z=this.pow(u,x.addn(1).iushrn(1)),W=this.pow(u,x),Q=_;W.cmp(k)!==0;){for(var ee=W,de=0;ee.cmp(k)!==0;de++)ee=ee.redSqr();t(de<Q);var he=this.pow(E,new s(1).iushln(Q-de-1));z=z.redMul(he),E=he.redSqr(),W=W.redMul(E),Q=de}return z},$.prototype.invm=function(u){var l=u._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},$.prototype.pow=function(u,l){if(l.isZero())return new s(1).toRed(this);if(l.cmpn(1)===0)return u.clone();var m=4,x=new Array(1<<m);x[0]=new s(1).toRed(this),x[1]=u;for(var _=2;_<x.length;_++)x[_]=this.mul(x[_-1],u);var k=x[0],R=0,v=0,d=l.bitLength()%26;for(d===0&&(d=26),_=l.length-1;_>=0;_--){for(var E=l.words[_],z=d-1;z>=0;z--){var W=E>>z&1;if(k!==x[0]&&(k=this.sqr(k)),W===0&&R===0){v=0;continue}R<<=1,R|=W,v++,!(v!==m&&(_!==0||z!==0))&&(k=this.mul(k,x[R]),v=0,R=0)}d=26}return k},$.prototype.convertTo=function(u){var l=u.umod(this.m);return l===u?l.clone():l},$.prototype.convertFrom=function(u){var l=u.clone();return l.red=null,l},s.mont=function(u){return new le(u)};function le(S){$.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(le,$),le.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},le.prototype.convertFrom=function(u){var l=this.imod(u.mul(this.rinv));return l.red=null,l},le.prototype.imul=function(u,l){if(u.isZero()||l.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},le.prototype.mul=function(u,l){if(u.isZero()||l.isZero())return new s(0)._forceRed(this);var m=u.mul(l),x=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(x).iushrn(this.shift),k=_;return _.cmp(this.m)>=0?k=_.isub(this.m):_.cmpn(0)<0&&(k=_.iadd(this.m)),k._forceRed(this)},le.prototype.invm=function(u){var l=this.imod(u._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof ZT>"u"||ZT,Jj)});var Wj=M(mA=>{y();b();Object.defineProperty(mA,"__esModule",{value:!0});mA.version=void 0;mA.version="logger/5.8.0"});var Yf=M(kc=>{y();b();Object.defineProperty(kc,"__esModule",{value:!0});kc.Logger=kc.ErrorCode=kc.LogLevel=void 0;var $j=!1,Zj=!1,yA={debug:1,default:2,info:2,warning:3,error:4,off:5},Qj=yA.default,hre=Wj(),XT=null;function gre(){try{var r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(function(e){try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}var Xj=gre(),eF;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(eF=kc.LogLevel||(kc.LogLevel={}));var Sc;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Sc=kc.ErrorCode||(kc.ErrorCode={}));var Yj="0123456789abcdef",pre=function(){function r(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}return r.prototype._log=function(e,t){var n=e.toLowerCase();yA[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Qj>yA[n])&&console.log.apply(console,t)},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.DEBUG,e)},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.INFO,e)},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(r.levels.WARNING,e)},r.prototype.makeError=function(e,t,n){if(Zj)return this.makeError("censored error",t,{});t||(t=r.errors.UNKNOWN_ERROR),n||(n={});var s=[];Object.keys(n).forEach(function(f){var g=n[f];try{if(g instanceof Uint8Array){for(var p="",A=0;A<g.length;A++)p+=Yj[g[A]>>4],p+=Yj[g[A]&15];s.push(f+"=Uint8Array(0x"+p+")")}else s.push(f+"="+JSON.stringify(g))}catch{s.push(f+"="+JSON.stringify(n[f].toString()))}}),s.push("code="+t),s.push("version="+this.version);var i=e,o="";switch(t){case Sc.NUMERIC_FAULT:{o="NUMERIC_FAULT";var a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":o+="-"+a;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sc.CALL_EXCEPTION:case Sc.INSUFFICIENT_FUNDS:case Sc.MISSING_NEW:case Sc.NONCE_EXPIRED:case Sc.REPLACEMENT_UNDERPRICED:case Sc.TRANSACTION_REPLACED:case Sc.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),s.length&&(e+=" ("+s.join(", ")+")");var c=new Error(e);return c.reason=i,c.code=t,Object.keys(n).forEach(function(f){c[f]=n[f]}),c},r.prototype.throwError=function(e,t,n){throw this.makeError(e,t,n)},r.prototype.throwArgumentError=function(e,t,n){return this.throwError(e,r.errors.INVALID_ARGUMENT,{argument:t,value:n})},r.prototype.assert=function(e,t,n,s){e||this.throwError(t,n,s)},r.prototype.assertArgument=function(e,t,n,s){e||this.throwArgumentError(t,n,s)},r.prototype.checkNormalize=function(e){e==null&&(e="platform missing String.prototype.normalize"),Xj&&this.throwError("platform missing String.prototype.normalize",r.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Xj})},r.prototype.checkSafeUint53=function(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))},r.prototype.checkArgumentCount=function(e,t,n){n?n=": "+n:n="",e<t&&this.throwError("missing argument"+n,r.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,r.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})},r.prototype.checkNew=function(e,t){(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.prototype.checkAbstract=function(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",r.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",r.errors.MISSING_NEW,{name:t.name})},r.globalLogger=function(){return XT||(XT=new r(hre.version)),XT},r.setCensorship=function(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$j){if(!e)return;this.globalLogger().throwError("error censorship permanent",r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Zj=!!e,$j=!!t},r.setLogLevel=function(e){var t=yA[e.toLowerCase()];if(t==null){r.globalLogger().warn("invalid log level - "+e);return}Qj=t},r.from=function(e){return new r(e)},r.errors=Sc,r.levels=eF,r}();kc.Logger=pre});var tF=M(bA=>{y();b();Object.defineProperty(bA,"__esModule",{value:!0});bA.version=void 0;bA.version="bytes/5.8.0"});var e5=M(Vt=>{y();b();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.joinSignature=Vt.splitSignature=Vt.hexZeroPad=Vt.hexStripZeros=Vt.hexValue=Vt.hexConcat=Vt.hexDataSlice=Vt.hexDataLength=Vt.hexlify=Vt.isHexString=Vt.zeroPad=Vt.stripZeros=Vt.concat=Vt.arrayify=Vt.isBytes=Vt.isBytesLike=void 0;var mre=Yf(),yre=tF(),Dr=new mre.Logger(yre.version);function nF(r){return!!r.toHexString}function Xg(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Xg(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function sF(r){return ya(r)&&!(r.length%2)||wA(r)}Vt.isBytesLike=sF;function rF(r){return typeof r=="number"&&r==r&&r%1===0}function wA(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!rF(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!rF(t)||t<0||t>=256)return!1}return!0}Vt.isBytes=wA;function O0(r,e){if(e||(e={}),typeof r=="number"){Dr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Xg(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),nF(r)&&(r=r.toHexString()),ya(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Dr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Xg(new Uint8Array(t))}return wA(r)?Xg(new Uint8Array(r)):Dr.throwArgumentError("invalid arrayify value","value",r)}Vt.arrayify=O0;function iF(r){var e=r.map(function(s){return O0(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Xg(n)}Vt.concat=iF;function bre(r){var e=O0(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}Vt.stripZeros=bre;function oF(r,e){r=O0(r),r.length>e&&Dr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Xg(t)}Vt.zeroPad=oF;function ya(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}Vt.isHexString=ya;var YT="0123456789abcdef";function ts(r,e){if(e||(e={}),typeof r=="number"){Dr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=YT[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),nF(r))return r.toHexString();if(ya(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Dr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(wA(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=YT[(i&240)>>4]+YT[i&15]}return n}return Dr.throwArgumentError("invalid hexlify value","value",r)}Vt.hexlify=ts;function xre(r){if(typeof r!="string")r=ts(r);else if(!ya(r)||r.length%2)return null;return(r.length-2)/2}Vt.hexDataLength=xre;function wre(r,e,t){return typeof r!="string"?r=ts(r):(!ya(r)||r.length%2)&&Dr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}Vt.hexDataSlice=wre;function _re(r){var e="0x";return r.forEach(function(t){e+=ts(t).substring(2)}),e}Vt.hexConcat=_re;function vre(r){var e=aF(ts(r,{hexPad:"left"}));return e==="0x"?"0x0":e}Vt.hexValue=vre;function aF(r){typeof r!="string"&&(r=ts(r)),ya(r)||Dr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}Vt.hexStripZeros=aF;function xA(r,e){for(typeof r!="string"?r=ts(r):ya(r)||Dr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Dr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}Vt.hexZeroPad=xA;function cF(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(sF(r)){var t=O0(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ts(t.slice(0,32)),e.s=ts(t.slice(32,64))):t.length===65?(e.r=ts(t.slice(0,32)),e.s=ts(t.slice(32,64)),e.v=t[64]):Dr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Dr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ts(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=oF(O0(e._vs),32);e._vs=ts(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Dr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=ts(n);e.s==null?e.s=i:e.s!==i&&Dr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Dr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Dr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!ya(e.r)?Dr.throwArgumentError("signature missing or invalid r","signature",r):e.r=xA(e.r,32),e.s==null||!ya(e.s)?Dr.throwArgumentError("signature missing or invalid s","signature",r):e.s=xA(e.s,32);var a=O0(e.s);a[0]>=128&&Dr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=ts(a);e._vs&&(ya(e._vs)||Dr.throwArgumentError("signature invalid _vs","signature",r),e._vs=xA(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Dr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}Vt.splitSignature=cF;function Pre(r){return r=cF(r),ts(iF([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}Vt.joinSignature=Pre});var t5=M(_A=>{y();b();Object.defineProperty(_A,"__esModule",{value:!0});_A.version=void 0;_A.version="bignumber/5.8.0"});var PA=M(Qi=>{y();b();var Are=Qi&&Qi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qi,"__esModule",{value:!0});Qi._base16To36=Qi._base36To16=Qi.BigNumber=Qi.isBigNumberish=void 0;var Ere=Are(QT()),dw=Ere.default.BN,Yg=e5(),ep=Yf(),Sre=t5(),Fu=new ep.Logger(Sre.version),r5={},uF=9007199254740991;function kre(r){return r!=null&&(vA.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||(0,Yg.isHexString)(r)||typeof r=="bigint"||(0,Yg.isBytes)(r))}Qi.isBigNumberish=kre;var fF=!1,vA=function(){function r(e,t){e!==r5&&Fu.throwError("cannot call constructor directly; use BigNumber.from",ep.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return r.prototype.fromTwos=function(e){return Qs(Ct(this).fromTwos(e))},r.prototype.toTwos=function(e){return Qs(Ct(this).toTwos(e))},r.prototype.abs=function(){return this._hex[0]==="-"?r.from(this._hex.substring(1)):this},r.prototype.add=function(e){return Qs(Ct(this).add(Ct(e)))},r.prototype.sub=function(e){return Qs(Ct(this).sub(Ct(e)))},r.prototype.div=function(e){var t=r.from(e);return t.isZero()&&Zi("division-by-zero","div"),Qs(Ct(this).div(Ct(e)))},r.prototype.mul=function(e){return Qs(Ct(this).mul(Ct(e)))},r.prototype.mod=function(e){var t=Ct(e);return t.isNeg()&&Zi("division-by-zero","mod"),Qs(Ct(this).umod(t))},r.prototype.pow=function(e){var t=Ct(e);return t.isNeg()&&Zi("negative-power","pow"),Qs(Ct(this).pow(t))},r.prototype.and=function(e){var t=Ct(e);return(this.isNegative()||t.isNeg())&&Zi("unbound-bitwise-result","and"),Qs(Ct(this).and(t))},r.prototype.or=function(e){var t=Ct(e);return(this.isNegative()||t.isNeg())&&Zi("unbound-bitwise-result","or"),Qs(Ct(this).or(t))},r.prototype.xor=function(e){var t=Ct(e);return(this.isNegative()||t.isNeg())&&Zi("unbound-bitwise-result","xor"),Qs(Ct(this).xor(t))},r.prototype.mask=function(e){return(this.isNegative()||e<0)&&Zi("negative-width","mask"),Qs(Ct(this).maskn(e))},r.prototype.shl=function(e){return(this.isNegative()||e<0)&&Zi("negative-width","shl"),Qs(Ct(this).shln(e))},r.prototype.shr=function(e){return(this.isNegative()||e<0)&&Zi("negative-width","shr"),Qs(Ct(this).shrn(e))},r.prototype.eq=function(e){return Ct(this).eq(Ct(e))},r.prototype.lt=function(e){return Ct(this).lt(Ct(e))},r.prototype.lte=function(e){return Ct(this).lte(Ct(e))},r.prototype.gt=function(e){return Ct(this).gt(Ct(e))},r.prototype.gte=function(e){return Ct(this).gte(Ct(e))},r.prototype.isNegative=function(){return this._hex[0]==="-"},r.prototype.isZero=function(){return Ct(this).isZero()},r.prototype.toNumber=function(){try{return Ct(this).toNumber()}catch{Zi("overflow","toNumber",this.toString())}return null},r.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch{}return Fu.throwError("this platform does not support BigInt",ep.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},r.prototype.toString=function(){return arguments.length>0&&(arguments[0]===10?fF||(fF=!0,Fu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Fu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ep.Logger.errors.UNEXPECTED_ARGUMENT,{}):Fu.throwError("BigNumber.toString does not accept parameters",ep.Logger.errors.UNEXPECTED_ARGUMENT,{})),Ct(this).toString(10)},r.prototype.toHexString=function(){return this._hex},r.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},r.from=function(e){if(e instanceof r)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new r(r5,hw(e)):e.match(/^-?[0-9]+$/)?new r(r5,hw(new dw(e))):Fu.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Zi("underflow","BigNumber.from",e),(e>=uF||e<=-uF)&&Zi("overflow","BigNumber.from",e),r.from(String(e));var t=e;if(typeof t=="bigint")return r.from(t.toString());if((0,Yg.isBytes)(t))return r.from((0,Yg.hexlify)(t));if(t)if(t.toHexString){var n=t.toHexString();if(typeof n=="string")return r.from(n)}else{var n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&((0,Yg.isHexString)(n)||n[0]==="-"&&(0,Yg.isHexString)(n.substring(1))))return r.from(n)}return Fu.throwArgumentError("invalid BigNumber value","value",e)},r.isBigNumber=function(e){return!!(e&&e._isBigNumber)},r}();Qi.BigNumber=vA;function hw(r){if(typeof r!="string")return hw(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Fu.throwArgumentError("invalid hex","value",r),r=hw(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Qs(r){return vA.from(hw(r))}function Ct(r){var e=vA.from(r).toHexString();return e[0]==="-"?new dw("-"+e.substring(3),16):new dw(e.substring(2),16)}function Zi(r,e,t){var n={fault:r,operation:e};return t!=null&&(n.value=t),Fu.throwError(r,ep.Logger.errors.NUMERIC_FAULT,n)}function Ore(r){return new dw(r,36).toString(16)}Qi._base36To16=Ore;function Tre(r){return new dw(r,16).toString(36)}Qi._base16To36=Tre});var pF=M(Tc=>{y();b();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.FixedNumber=Tc.FixedFormat=Tc.parseFixed=Tc.formatFixed=void 0;var AA=e5(),mw=Yf(),Nre=t5(),vs=new mw.Logger(Nre.version),Lu=PA(),gw={},dF=Lu.BigNumber.from(0),hF=Lu.BigNumber.from(-1);function gF(r,e,t,n){var s={fault:e,operation:t};return n!==void 0&&(s.value=n),vs.throwError(r,mw.Logger.errors.NUMERIC_FAULT,s)}var pw="0";for(;pw.length<256;)pw+=pw;function n5(r){if(typeof r!="number")try{r=Lu.BigNumber.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+pw.substring(0,r):vs.throwArgumentError("invalid decimal size","decimals",r)}function EA(r,e){e==null&&(e=0);var t=n5(e);r=Lu.BigNumber.from(r);var n=r.lt(dF);n&&(r=r.mul(hF));for(var s=r.mod(t).toString();s.length<t.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=r.div(t).toString();return t.length===1?r=i:r=i+"."+s,n&&(r="-"+r),r}Tc.formatFixed=EA;function Oc(r,e){e==null&&(e=0);var t=n5(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&vs.throwArgumentError("invalid decimal value","value",r);var n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&vs.throwArgumentError("missing value","value",r);var s=r.split(".");s.length>2&&vs.throwArgumentError("too many decimal points","value",r);var i=s[0],o=s[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&gF("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";var a=Lu.BigNumber.from(i),c=Lu.BigNumber.from(o),f=a.mul(t).add(c);return n&&(f=f.mul(hF)),f}Tc.parseFixed=Oc;var SA=function(){function r(e,t,n,s){e!==gw&&vs.throwError("cannot use FixedFormat constructor; use FixedFormat.from",mw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=s,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(s),this._multiplier=n5(s),Object.freeze(this)}return r.from=function(e){if(e instanceof r)return e;typeof e=="number"&&(e="fixed128x"+e);var t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||vs.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(e){var o=function(a,c,f){return e[a]==null?f:(typeof e[a]!==c&&vs.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,e[a]),e[a])};t=o("signed","boolean",t),n=o("width","number",n),s=o("decimals","number",s)}return n%8&&vs.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),s>80&&vs.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new r(gw,t,n,s)},r}();Tc.FixedFormat=SA;var s5=function(){function r(e,t,n,s){e!==gw&&vs.throwError("cannot use FixedNumber constructor; use FixedNumber.from",mw.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return r.prototype._checkFormat=function(e){this.format.name!==e.format.name&&vs.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},r.prototype.addUnsafe=function(e){this._checkFormat(e);var t=Oc(this._value,this.format.decimals),n=Oc(e._value,e.format.decimals);return r.fromValue(t.add(n),this.format.decimals,this.format)},r.prototype.subUnsafe=function(e){this._checkFormat(e);var t=Oc(this._value,this.format.decimals),n=Oc(e._value,e.format.decimals);return r.fromValue(t.sub(n),this.format.decimals,this.format)},r.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=Oc(this._value,this.format.decimals),n=Oc(e._value,e.format.decimals);return r.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},r.prototype.divUnsafe=function(e){this._checkFormat(e);var t=Oc(this._value,this.format.decimals),n=Oc(e._value,e.format.decimals);return r.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},r.prototype.floor=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(lF.toFormat(t.format))),t},r.prototype.ceiling=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(lF.toFormat(t.format))),t},r.prototype.round=function(e){e==null&&(e=0);var t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&vs.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var n=r.from("1"+pw.substring(0,e),this.format),s=Cre.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(s).floor().divUnsafe(n)},r.prototype.isZero=function(){return this._value==="0.0"||this._value==="0"},r.prototype.isNegative=function(){return this._value[0]==="-"},r.prototype.toString=function(){return this._value},r.prototype.toHexString=function(e){if(e==null)return this._hex;e%8&&vs.throwArgumentError("invalid byte width","width",e);var t=Lu.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,AA.hexZeroPad)(t,e/8)},r.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},r.prototype.toFormat=function(e){return r.fromString(this._value,e)},r.fromValue=function(e,t,n){return n==null&&t!=null&&!(0,Lu.isBigNumberish)(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),r.fromString(EA(e,t),SA.from(n))},r.fromString=function(e,t){t==null&&(t="fixed");var n=SA.from(t),s=Oc(e,n.decimals);!n.signed&&s.lt(dF)&&gF("unsigned value cannot be negative","overflow","value",e);var i=null;n.signed?i=s.toTwos(n.width).toHexString():(i=s.toHexString(),i=(0,AA.hexZeroPad)(i,n.width/8));var o=EA(s,n.decimals);return new r(gw,i,o,n)},r.fromBytes=function(e,t){t==null&&(t="fixed");var n=SA.from(t);if((0,AA.arrayify)(e).length>n.width/8)throw new Error("overflow");var s=Lu.BigNumber.from(e);n.signed&&(s=s.fromTwos(n.width));var i=s.toTwos((n.signed?0:1)+n.width).toHexString(),o=EA(s,n.decimals);return new r(gw,i,o,n)},r.from=function(e,t){if(typeof e=="string")return r.fromString(e,t);if((0,AA.isBytes)(e))return r.fromBytes(e,t);try{return r.fromValue(e,0,t)}catch(n){if(n.code!==mw.Logger.errors.INVALID_ARGUMENT)throw n}return vs.throwArgumentError("invalid FixedNumber value","value",e)},r.isFixedNumber=function(e){return!!(e&&e._isFixedNumber)},r}();Tc.FixedNumber=s5;var lF=s5.from(1),Cre=s5.from("0.5")});var yF=M(rs=>{y();b();Object.defineProperty(rs,"__esModule",{value:!0});rs._base36To16=rs._base16To36=rs.parseFixed=rs.FixedNumber=rs.FixedFormat=rs.formatFixed=rs.BigNumber=void 0;var Rre=PA();Object.defineProperty(rs,"BigNumber",{enumerable:!0,get:function(){return Rre.BigNumber}});var kA=pF();Object.defineProperty(rs,"formatFixed",{enumerable:!0,get:function(){return kA.formatFixed}});Object.defineProperty(rs,"FixedFormat",{enumerable:!0,get:function(){return kA.FixedFormat}});Object.defineProperty(rs,"FixedNumber",{enumerable:!0,get:function(){return kA.FixedNumber}});Object.defineProperty(rs,"parseFixed",{enumerable:!0,get:function(){return kA.parseFixed}});var mF=PA();Object.defineProperty(rs,"_base16To36",{enumerable:!0,get:function(){return mF._base16To36}});Object.defineProperty(rs,"_base36To16",{enumerable:!0,get:function(){return mF._base36To16}})});var bF=M(Tn=>{y();b();Object.defineProperty(Tn,"__esModule",{value:!0});Tn.MaxInt256=Tn.MinInt256=Tn.MaxUint256=Tn.WeiPerEther=Tn.Two=Tn.One=Tn.Zero=Tn.NegativeOne=void 0;var el=yF(),Bre=el.BigNumber.from(-1);Tn.NegativeOne=Bre;var Ire=el.BigNumber.from(0);Tn.Zero=Ire;var Mre=el.BigNumber.from(1);Tn.One=Mre;var jre=el.BigNumber.from(2);Tn.Two=jre;var Fre=el.BigNumber.from("1000000000000000000");Tn.WeiPerEther=Fre;var Lre=el.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tn.MaxUint256=Lre;var Ure=el.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");Tn.MinInt256=Ure;var Dre=el.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tn.MaxInt256=Dre});var xF=M(OA=>{y();b();Object.defineProperty(OA,"__esModule",{value:!0});OA.HashZero=void 0;OA.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"});var wF=M(TA=>{y();b();Object.defineProperty(TA,"__esModule",{value:!0});TA.EtherSymbol=void 0;TA.EtherSymbol="\u039E"});var _F=M(Sr=>{y();b();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.EtherSymbol=Sr.HashZero=Sr.MaxInt256=Sr.MinInt256=Sr.MaxUint256=Sr.WeiPerEther=Sr.Two=Sr.One=Sr.Zero=Sr.NegativeOne=Sr.AddressZero=void 0;var qre=zj();Object.defineProperty(Sr,"AddressZero",{enumerable:!0,get:function(){return qre.AddressZero}});var tl=bF();Object.defineProperty(Sr,"NegativeOne",{enumerable:!0,get:function(){return tl.NegativeOne}});Object.defineProperty(Sr,"Zero",{enumerable:!0,get:function(){return tl.Zero}});Object.defineProperty(Sr,"One",{enumerable:!0,get:function(){return tl.One}});Object.defineProperty(Sr,"Two",{enumerable:!0,get:function(){return tl.Two}});Object.defineProperty(Sr,"WeiPerEther",{enumerable:!0,get:function(){return tl.WeiPerEther}});Object.defineProperty(Sr,"MaxUint256",{enumerable:!0,get:function(){return tl.MaxUint256}});Object.defineProperty(Sr,"MinInt256",{enumerable:!0,get:function(){return tl.MinInt256}});Object.defineProperty(Sr,"MaxInt256",{enumerable:!0,get:function(){return tl.MaxInt256}});var Hre=xF();Object.defineProperty(Sr,"HashZero",{enumerable:!0,get:function(){return Hre.HashZero}});var Gre=wF();Object.defineProperty(Sr,"EtherSymbol",{enumerable:!0,get:function(){return Gre.EtherSymbol}})});var yw=M(Ps=>{y();b();var Kre=Ps&&Ps.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vre=Ps&&Ps.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AF=Ps&&Ps.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),s=0;s<n.length;s++)n[s]!=="default"&&Kre(t,e,n[s]);return Vre(t,e),t}}();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.HexStr=Ps.RLP=void 0;Ps.getTypePrefix=Wre;var zre=Q9(),vF=vT(),T0=AF(OP()),Jre=_F(),PF=AF(YY());Ps.RLP={encode:PF.encode,decode:PF.decode};Ps.HexStr={toNumber(r){return vF.BigNumber.from(r).toNumber()},fromNumber(r){return vF.BigNumber.from(r).toHexString()},from(r){return T0.hexlify(r)},concat(...r){return T0.hexlify(T0.concat(r))},isHex(r,e){return T0.isHexString(r,e)},stripZeros(r){return T0.hexlify(T0.stripZeros(r))},zeroPad(r,e){return T0.hexZeroPad(r,e)},withHexPrefix(r){return r.replace(/^(0x)?/,"0x")},stripHexPrefix(r){return r.replace(/^(0x)?/,"")},toAddress(r){return!r||r=="0x"?Jre.AddressZero:(0,zre.getAddress)(r)},toBoolean(r){if(r=="0x")return!1;if(r=="0x01")return!0;throw new Error(`Invalid RLP boolean: '${r}'`)}};function Wre(r){if(!Ps.HexStr.isHex(r))throw new Error("Not an RLP encoded string");if(r.length<4)throw new Error("RLP encoded string too short");return Ps.HexStr.toNumber(r.substring(0,4))}});var i5=M(Hn=>{y();b();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.CodeFormatEVM=Hn.AccountKeyType=Hn.TxType=void 0;Hn.parseTxType=SF;Hn.getKaikasTxType=$re;Hn.isKlaytnTxType=kF;Hn.isBasicTxType=Zre;Hn.isFeeDelegationTxType=OF;Hn.isPartialFeeDelegationTxType=TF;Hn.isFeePayerSigTxType=Qre;Hn.isKlaytnAccountKeyType=Xre;Hn.isEmbeddableAccountKeyType=Yre;var N0=(ua(),aa(ca)),EF=yw(),Uu;(function(r){r[r.ValueTransfer=8]="ValueTransfer",r[r.ValueTransferMemo=16]="ValueTransferMemo",r[r.AccountUpdate=32]="AccountUpdate",r[r.SmartContractDeploy=40]="SmartContractDeploy",r[r.SmartContractExecution=48]="SmartContractExecution",r[r.Cancel=56]="Cancel",r[r.FeeDelegatedValueTransfer=9]="FeeDelegatedValueTransfer",r[r.FeeDelegatedValueTransferMemo=17]="FeeDelegatedValueTransferMemo",r[r.FeeDelegatedAccountUpdate=33]="FeeDelegatedAccountUpdate",r[r.FeeDelegatedSmartContractDeploy=41]="FeeDelegatedSmartContractDeploy",r[r.FeeDelegatedSmartContractExecution=49]="FeeDelegatedSmartContractExecution",r[r.FeeDelegatedCancel=57]="FeeDelegatedCancel",r[r.FeeDelegatedValueTransferWithRatio=10]="FeeDelegatedValueTransferWithRatio",r[r.FeeDelegatedValueTransferMemoWithRatio=18]="FeeDelegatedValueTransferMemoWithRatio",r[r.FeeDelegatedAccountUpdateWithRatio=34]="FeeDelegatedAccountUpdateWithRatio",r[r.FeeDelegatedSmartContractDeployWithRatio=42]="FeeDelegatedSmartContractDeployWithRatio",r[r.FeeDelegatedSmartContractExecutionWithRatio=50]="FeeDelegatedSmartContractExecutionWithRatio",r[r.FeeDelegatedCancelWithRatio=58]="FeeDelegatedCancelWithRatio"})(Uu||(Hn.TxType=Uu={}));function SF(r){if(r==null&&(r=0),typeof r=="bigint"&&(r=Number(r)),(0,N0.isNumber)(r))return r;if((0,N0.isString)(r)&&r.length>0){if(EF.HexStr.isHex(r))return EF.HexStr.toNumber(r);let e=r;if(e.startsWith("TxType")&&(e=e.substring(6)),e=(0,N0.upperFirst)((0,N0.camelCase)(e)),(0,N0.has)(Uu,e))return(0,N0.get)(Uu,e)}throw new Error(`Unrecognized tx type '${r}'. Expected a number.'`)}function $re(r){let e=SF(r);if(kF(e)){let t=Uu[e];return(0,N0.snakeCase)(t).toUpperCase()}else return e}function kF(r){return!!r&&r in Uu}function Zre(r){return!!r&&r in Uu&&(r&3)==0}function OF(r){return!!r&&r in Uu&&(r&3)==1}function TF(r){return!!r&&r in Uu&&(r&3)==2}function Qre(r){return OF(r)||TF(r)}var bw;(function(r){r[r.Nil=0]="Nil",r[r.Legacy=1]="Legacy",r[r.Public=2]="Public",r[r.Fail=3]="Fail",r[r.WeightedMultiSig=4]="WeightedMultiSig",r[r.RoleBased=5]="RoleBased"})(bw||(Hn.AccountKeyType=bw={}));function Xre(r){return!!r&&r in bw}function Yre(r){return!!r&&r in bw&&r!=bw.RoleBased}Hn.CodeFormatEVM=0});var a5=M(rp=>{y();b();Object.defineProperty(rp,"__esModule",{value:!0});rp.getPublicKeyFromPrivate=tne;rp.getCompressedPublicKey=CF;rp.getSignatureTuple=rne;rp.getChainIdFromSignatureTuples=nne;var NF=OP(),ene=$9(),As=yw(),tp=(ua(),aa(ca)),o5=new ene.ec("secp256k1");function tne(r){let e=o5.keyFromPrivate(As.HexStr.stripHexPrefix(r),"hex");return CF(e.getPublic(!0,"hex"))}function CF(r){if(r instanceof Uint8Array&&(r=As.HexStr.from(r)),(0,tp.isString)(r)){let e=As.HexStr.from(As.HexStr.withHexPrefix(r));if(As.HexStr.isHex(e,33)||As.HexStr.isHex(e,65)){let t=As.HexStr.stripHexPrefix(e);return"0x"+o5.keyFromPublic(t,"hex").getPublic(!0,"hex")}}if((0,tp.isString)(r.x)&&(0,tp.isString)(r.y))return r.x=As.HexStr.stripHexPrefix(r.x),r.y=As.HexStr.stripHexPrefix(r.y),"0x"+o5.keyFromPublic(r).getPublic(!0,"hex");throw new Error("Public key must be a hex string of 33 or 65 bytes, or an { x, y } object")}function rne(r){let e;if((0,tp.isArray)(r)){if(r.length!=3)throw new Error("Signature tuple must have 3 elements [v,r,s]");let t=As.HexStr.toNumber(r[0]);e=(0,NF.splitSignature)({v:t,r:r[1],s:r[2]})}else e=(0,NF.splitSignature)(r);return[As.HexStr.fromNumber(e.v),As.HexStr.stripZeros(e.r),As.HexStr.stripZeros(e.s)]}function nne(r){if(!(0,tp.isArray)(r)||r.length==0)return;let e=r[0];if(!(0,tp.isArray)(e)||e.length!=3)return;let t=e[0];if(!As.HexStr.isHex(t))return;let n=As.HexStr.toNumber(t);if(n>=35)return(n+n%2-36)/2}});var RF=M(NA=>{y();b();Object.defineProperty(NA,"__esModule",{value:!0});NA.splitKeystoreKIP3=sne;NA.isKIP3Json=ine;var C0=(ua(),aa(ca));function sne(r,e=!0){let t=JSON.parse(r),n=t.keyring;if(!(0,C0.isArray)(n))throw new Error("Invalid KIP-3 JSON wallet");let s=[];return(0,C0.isArray)(n[0])?s=(0,C0.flattenDepth)(n,2):s=(0,C0.flattenDepth)(n,1),(0,C0.map)(s,i=>{let o={version:3,crypto:i,address:t.address,id:t.id};return e&&delete o.address,JSON.stringify(o)})}function ine(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return(0,C0.isNumber)(e.version)&&e.version==4&&(0,C0.isArray)(e.keyring)}});var MF=M(R0=>{y();b();Object.defineProperty(R0,"__esModule",{value:!0});R0.JsonRpcClient=void 0;R0.promisifyMethod=BF;R0.promisifyApi=IF;R0.asyncOpenApi=ane;var one=(ua(),aa(ca)),CA=class{constructor(e){this.send=e}callApi(e,t,n,s,i,o,a,c,f,g,p,A,P){this.send(a.method,a.params).then(C=>P(null,C)).catch(C=>P(C,null))}};R0.JsonRpcClient=CA;function BF(r,e,t){return async function(...n){if(n.length<t)throw new Error(`API ${String(e)} expects ${t} or more arguments, got ${n.length}`);let s=n.slice(0,t),i=n.slice(t);return new Promise((o,a)=>{r[e](...s,i,(c,f)=>{c?a(c):o(f)})})}}function IF(r){let e={},t=Reflect.getPrototypeOf(r);if(!t)throw new Error("Cannot promisify OpenApi object");let n=Reflect.ownKeys(t);for(let s of n){if(s=="constructor")continue;let i=Reflect.get(t,s);if(!(0,one.isFunction)(i)||i.length<2)continue;let o=i.length-2;e[s]=BF(r,s,o)}return e}function ane(r,e){let t=new CA(r),n=new e(t);return IF(n)}});var uL=M((wAe,IA)=>{y();b();var jF,FF,LF,UF,DF,qF,HF,GF,KF,VF,zF,JF,WF,RA,c5,$F,ZF,QF,np,XF,YF,eL,tL,rL,nL,sL,iL,oL,BA,aL,cL;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof IA=="object"&&typeof IA.exports=="object"?r(t(e,t(IA.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])};jF=function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function o(){this.constructor=s}s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},FF=Object.assign||function(s){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])}return s},LF=function(s,i){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(o[a[c]]=s[a[c]]);return o},UF=function(s,i,o,a){var c=arguments.length,f=c<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(s,i,o,a);else for(var p=s.length-1;p>=0;p--)(g=s[p])&&(f=(c<3?g(f):c>3?g(i,o,f):g(i,o))||f);return c>3&&f&&Object.defineProperty(i,o,f),f},DF=function(s,i){return function(o,a){i(o,a,s)}},qF=function(s,i,o,a,c,f){function g(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var p=a.kind,A=p==="getter"?"get":p==="setter"?"set":"value",P=!i&&s?a.static?s:s.prototype:null,C=i||(P?Object.getOwnPropertyDescriptor(P,a.name):{}),N,L=!1,F=o.length-1;F>=0;F--){var D={};for(var q in a)D[q]=q==="access"?{}:a[q];for(var q in a.access)D.access[q]=a.access[q];D.addInitializer=function(H){if(L)throw new TypeError("Cannot add initializers after decoration has completed");f.push(g(H||null))};var K=(0,o[F])(p==="accessor"?{get:C.get,set:C.set}:C[A],D);if(p==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(N=g(K.get))&&(C.get=N),(N=g(K.set))&&(C.set=N),(N=g(K.init))&&c.unshift(N)}else(N=g(K))&&(p==="field"?c.unshift(N):C[A]=N)}P&&Object.defineProperty(P,a.name,C),L=!0},HF=function(s,i,o){for(var a=arguments.length>2,c=0;c<i.length;c++)o=a?i[c].call(s,o):i[c].call(s);return a?o:void 0},GF=function(s){return typeof s=="symbol"?s:"".concat(s)},KF=function(s,i,o){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},VF=function(s,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,i)},zF=function(s,i,o,a){function c(f){return f instanceof o?f:new o(function(g){g(f)})}return new(o||(o=Promise))(function(f,g){function p(C){try{P(a.next(C))}catch(N){g(N)}}function A(C){try{P(a.throw(C))}catch(N){g(N)}}function P(C){C.done?f(C.value):c(C.value).then(p,A)}P((a=a.apply(s,i||[])).next())})},JF=function(s,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=p(0),g.throw=p(1),g.return=p(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(P){return function(C){return A([P,C])}}function A(P){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,P[0]&&(o=0)),o;)try{if(a=1,c&&(f=P[0]&2?c.return:P[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,P[1])).done)return f;switch(c=0,f&&(P=[P[0]&2,f.value]),P[0]){case 0:case 1:f=P;break;case 4:return o.label++,{value:P[1],done:!1};case 5:o.label++,c=P[1],P=[0];continue;case 7:P=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(P[0]===6||P[0]===2)){o=0;continue}if(P[0]===3&&(!f||P[1]>f[0]&&P[1]<f[3])){o.label=P[1];break}if(P[0]===6&&o.label<f[1]){o.label=f[1],f=P;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(P);break}f[2]&&o.ops.pop(),o.trys.pop();continue}P=i.call(s,o)}catch(C){P=[6,C],c=0}finally{a=f=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},WF=function(s,i){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&BA(i,s,o)},BA=Object.create?function(s,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(s,a,c)}:function(s,i,o,a){a===void 0&&(a=o),s[a]=i[o]},RA=function(s){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&s[i],a=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},c5=function(s,i){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var a=o.call(s),c,f=[],g;try{for(;(i===void 0||i-- >0)&&!(c=a.next()).done;)f.push(c.value)}catch(p){g={error:p}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(g)throw g.error}}return f},$F=function(){for(var s=[],i=0;i<arguments.length;i++)s=s.concat(c5(arguments[i]));return s},ZF=function(){for(var s=0,i=0,o=arguments.length;i<o;i++)s+=arguments[i].length;for(var a=Array(s),c=0,i=0;i<o;i++)for(var f=arguments[i],g=0,p=f.length;g<p;g++,c++)a[c]=f[g];return a},QF=function(s,i,o){if(o||arguments.length===2)for(var a=0,c=i.length,f;a<c;a++)(f||!(a in i))&&(f||(f=Array.prototype.slice.call(i,0,a)),f[a]=i[a]);return s.concat(f||Array.prototype.slice.call(i))},np=function(s){return this instanceof np?(this.v=s,this):new np(s)},XF=function(s,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(s,i||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(F){return function(D){return Promise.resolve(D).then(F,N)}}function p(F,D){a[F]&&(c[F]=function(q){return new Promise(function(K,H){f.push([F,q,K,H])>1||A(F,q)})},D&&(c[F]=D(c[F])))}function A(F,D){try{P(a[F](D))}catch(q){L(f[0][3],q)}}function P(F){F.value instanceof np?Promise.resolve(F.value.v).then(C,N):L(f[0][2],F)}function C(F){A("next",F)}function N(F){A("throw",F)}function L(F,D){F(D),f.shift(),f.length&&A(f[0][0],f[0][1])}},YF=function(s){var i,o;return i={},a("next"),a("throw",function(c){throw c}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(c,f){i[c]=s[c]?function(g){return(o=!o)?{value:np(s[c](g)),done:!1}:f?f(g):g}:f}},eL=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s[Symbol.asyncIterator],o;return i?i.call(s):(s=typeof RA=="function"?RA(s):s[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=s[f]&&function(g){return new Promise(function(p,A){g=s[f](g),c(p,A,g.done,g.value)})}}function c(f,g,p,A){Promise.resolve(A).then(function(P){f({value:P,done:p})},g)}},tL=function(s,i){return Object.defineProperty?Object.defineProperty(s,"raw",{value:i}):s.raw=i,s};var t=Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i};rL=function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var o in s)o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)&&BA(i,s,o);return t(i,s),i},nL=function(s){return s&&s.__esModule?s:{default:s}},sL=function(s,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?s!==i||!a:!i.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(s):a?a.value:i.get(s)},iL=function(s,i,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?s!==i||!c:!i.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(s,o):c?c.value=o:i.set(s,o),o},oL=function(s,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?i===s:s.has(i)},aL=function(s,i,o){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var a,c;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=i[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=i[Symbol.dispose],o&&(c=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");c&&(a=function(){try{c.call(this)}catch(f){return Promise.reject(f)}}),s.stack.push({value:i,dispose:a,async:o})}else o&&s.stack.push({async:!0});return i};var n=typeof SuppressedError=="function"?SuppressedError:function(s,i,o){var a=new Error(o);return a.name="SuppressedError",a.error=s,a.suppressed=i,a};cL=function(s){function i(f){s.error=s.hasError?new n(f,s.error,"An error was suppressed during disposal."):f,s.hasError=!0}var o,a=0;function c(){for(;o=s.stack.pop();)try{if(!o.async&&a===1)return a=0,s.stack.push(o),Promise.resolve().then(c);if(o.dispose){var f=o.dispose.call(o.value);if(o.async)return a|=2,Promise.resolve(f).then(c,function(g){return i(g),c()})}else a|=1}catch(g){i(g)}if(a===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return c()},r("__extends",jF),r("__assign",FF),r("__rest",LF),r("__decorate",UF),r("__param",DF),r("__esDecorate",qF),r("__runInitializers",HF),r("__propKey",GF),r("__setFunctionName",KF),r("__metadata",VF),r("__awaiter",zF),r("__generator",JF),r("__exportStar",WF),r("__createBinding",BA),r("__values",RA),r("__read",c5),r("__spread",$F),r("__spreadArrays",ZF),r("__spreadArray",QF),r("__await",np),r("__asyncGenerator",XF),r("__asyncDelegator",YF),r("__asyncValues",eL),r("__makeTemplateObject",tL),r("__importStar",rL),r("__importDefault",nL),r("__classPrivateFieldGet",sL),r("__classPrivateFieldSet",iL),r("__classPrivateFieldIn",oL),r("__addDisposableResource",aL),r("__disposeResources",cL)})});var jA=M(MA=>{y();b();Object.defineProperty(MA,"__esModule",{value:!0});MA.version=void 0;MA.version="6.15.0"});var rl=M(sp=>{y();b();Object.defineProperty(sp,"__esModule",{value:!0});sp.defineProperties=sp.resolveProperties=void 0;function cne(r,e,t){let n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function une(r){let e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}sp.resolveProperties=une;function fne(r,e,t){for(let n in e){let s=e[n],i=t?t[n]:null;i&&cne(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}sp.defineProperties=fne});var ba=M(Nn=>{y();b();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.assertPrivate=Nn.assertNormalize=Nn.assertArgumentCount=Nn.assertArgument=Nn.assert=Nn.makeError=Nn.isCallException=Nn.isError=void 0;var lne=jA(),fL=rl();function ip(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>ip(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){let t="0123456789abcdef",n="0x";for(let s=0;s<r.length;s++)n+=t[r[s]>>4],n+=t[r[s]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return ip(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${ip(n,e)}: ${ip(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function lL(r,e){return r&&r.code===e}Nn.isError=lL;function dne(r){return lL(r,"CALL_EXCEPTION")}Nn.isCallException=dne;function dL(r,e,t){let n=r;{let i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${ip(t)}`);for(let o in t){if(o==="shortMessage")continue;let a=t[o];i.push(o+"="+ip(a))}}i.push(`code=${e}`),i.push(`version=${lne.version}`),i.length&&(r+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return(0,fL.defineProperties)(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&(0,fL.defineProperties)(s,{shortMessage:n}),s}Nn.makeError=dL;function op(r,e,t,n){if(!r)throw dL(e,t,n)}Nn.assert=op;function hne(r,e,t,n){op(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}Nn.assertArgument=hne;function gne(r,e,t){t==null&&(t=""),t&&(t=": "+t),op(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),op(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}Nn.assertArgumentCount=gne;var pne=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){let t=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(t!==n)throw new Error("broken")}r.push(e)}catch{}return r},[]);function mne(r){op(pne.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}Nn.assertNormalize=mne;function yne(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),op(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}Nn.assertPrivate=yne});var Xi=M(kr=>{y();b();Object.defineProperty(kr,"__esModule",{value:!0});kr.zeroPadBytes=kr.zeroPadValue=kr.stripZerosLeft=kr.dataSlice=kr.dataLength=kr.concat=kr.hexlify=kr.isBytesLike=kr.isHexString=kr.getBytesCopy=kr.getBytes=void 0;var u5=ba();function gL(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let n=new Uint8Array((r.length-2)/2),s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}(0,u5.assertArgument)(!1,"invalid BytesLike value",e||"value",r)}function xw(r,e){return gL(r,e,!1)}kr.getBytes=xw;function bne(r,e){return gL(r,e,!0)}kr.getBytesCopy=bne;function f5(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}kr.isHexString=f5;function xne(r){return f5(r,!0)||r instanceof Uint8Array}kr.isBytesLike=xne;var hL="0123456789abcdef";function ww(r){let e=xw(r),t="0x";for(let n=0;n<e.length;n++){let s=e[n];t+=hL[(s&240)>>4]+hL[s&15]}return t}kr.hexlify=ww;function wne(r){return"0x"+r.map(e=>ww(e).substring(2)).join("")}kr.concat=wne;function _ne(r){return f5(r,!0)?(r.length-2)/2:xw(r).length}kr.dataLength=_ne;function vne(r,e,t){let n=xw(r);return t!=null&&t>n.length&&(0,u5.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),ww(n.slice(e??0,t??n.length))}kr.dataSlice=vne;function Pne(r){let e=ww(r).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}kr.stripZerosLeft=Pne;function pL(r,e,t){let n=xw(r);(0,u5.assert)(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),ww(s)}function Ane(r,e){return pL(r,e,!0)}kr.zeroPadValue=Ane;function Ene(r,e){return pL(r,e,!1)}kr.zeroPadBytes=Ene});var cp=M(Or=>{y();b();Object.defineProperty(Or,"__esModule",{value:!0});Or.toQuantity=Or.toBeArray=Or.toBeHex=Or.toNumber=Or.getNumber=Or.toBigInt=Or.getUint=Or.getBigInt=Or.mask=Or.toTwos=Or.fromTwos=void 0;var mL=Xi(),Xs=ba(),FA=BigInt(0),xa=BigInt(1),ap=9007199254740991;function Sne(r,e){let t=_w(r,"value"),n=BigInt(B0(e,"width"));if((0,Xs.assert)(t>>n===FA,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-xa){let s=(xa<<n)-xa;return-((~t&s)+xa)}return t}Or.fromTwos=Sne;function kne(r,e){let t=LA(r,"value"),n=BigInt(B0(e,"width")),s=xa<<n-xa;if(t<FA){t=-t,(0,Xs.assert)(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});let i=(xa<<n)-xa;return(~t&i)+xa}else(0,Xs.assert)(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}Or.toTwos=kne;function One(r,e){let t=_w(r,"value"),n=BigInt(B0(e,"bits"));return t&(xa<<n)-xa}Or.mask=One;function LA(r,e){switch(typeof r){case"bigint":return r;case"number":return(0,Xs.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,Xs.assertArgument)(r>=-ap&&r<=ap,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){(0,Xs.assertArgument)(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}(0,Xs.assertArgument)(!1,"invalid BigNumberish value",e||"value",r)}Or.getBigInt=LA;function _w(r,e){let t=LA(r,e);return(0,Xs.assert)(t>=FA,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}Or.getUint=_w;var yL="0123456789abcdef";function bL(r){if(r instanceof Uint8Array){let e="0x0";for(let t of r)e+=yL[t>>4],e+=yL[t&15];return BigInt(e)}return LA(r)}Or.toBigInt=bL;function B0(r,e){switch(typeof r){case"bigint":return(0,Xs.assertArgument)(r>=-ap&&r<=ap,"overflow",e||"value",r),Number(r);case"number":return(0,Xs.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,Xs.assertArgument)(r>=-ap&&r<=ap,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return B0(BigInt(r),e)}catch(t){(0,Xs.assertArgument)(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}(0,Xs.assertArgument)(!1,"invalid numeric value",e||"value",r)}Or.getNumber=B0;function Tne(r){return B0(bL(r))}Or.toNumber=Tne;function Nne(r,e){let n=_w(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{let s=B0(e,"width");for((0,Xs.assert)(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}Or.toBeHex=Nne;function xL(r){let e=_w(r,"value");if(e===FA)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);let n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){let i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}Or.toBeArray=xL;function Cne(r){let e=(0,mL.hexlify)((0,mL.isBytesLike)(r)?r:xL(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}Or.toQuantity=Cne});var wL=M(up=>{y();b();Object.defineProperty(up,"__esModule",{value:!0});up.decodeBase58=up.encodeBase58=void 0;var Rne=Xi(),Bne=ba(),Ine=cp(),DA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",UA=null;function Mne(r){if(UA==null){UA={};for(let t=0;t<DA.length;t++)UA[DA[t]]=BigInt(t)}let e=UA[r];return(0,Bne.assertArgument)(e!=null,"invalid base58 value","letter",r),e}var jne=BigInt(0),l5=BigInt(58);function Fne(r){let e=(0,Rne.getBytes)(r),t=(0,Ine.toBigInt)(e),n="";for(;t;)n=DA[Number(t%l5)]+n,t/=l5;for(let s=0;s<e.length&&!e[s];s++)n=DA[0]+n;return n}up.encodeBase58=Fne;function Lne(r){let e=jne;for(let t=0;t<r.length;t++)e*=l5,e+=Mne(r[t]);return e}up.decodeBase58=Lne});var d5=M(fp=>{y();b();Object.defineProperty(fp,"__esModule",{value:!0});fp.encodeBase64=fp.decodeBase64=void 0;var _L=Xi();function Une(r){r=atob(r);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return(0,_L.getBytes)(e)}fp.decodeBase64=Une;function Dne(r){let e=(0,_L.getBytes)(r),t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}fp.encodeBase64=Dne});var vL=M(qA=>{y();b();Object.defineProperty(qA,"__esModule",{value:!0});qA.EventPayload=void 0;var qne=rl(),lp,h5=class{constructor(e,t,n){O(this,"filter");O(this,"emitter");T(this,lp,void 0);w(this,lp,t),(0,qne.defineProperties)(this,{emitter:e,filter:n})}async removeListener(){h(this,lp)!=null&&await this.emitter.off(this.filter,h(this,lp))}};lp=new WeakMap;qA.EventPayload=h5});var HA=M(wa=>{y();b();Object.defineProperty(wa,"__esModule",{value:!0});wa.toUtf8CodePoints=wa.toUtf8String=wa.toUtf8Bytes=wa.Utf8ErrorFuncs=void 0;var Hne=Xi(),vw=ba();function Gne(r,e,t,n,s){(0,vw.assertArgument)(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function PL(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function Kne(r,e,t,n,s){return r==="OVERLONG"?((0,vw.assertArgument)(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),PL(r,e,t,n,s))}wa.Utf8ErrorFuncs=Object.freeze({error:Gne,ignore:PL,replace:Kne});function AL(r,e){e==null&&(e=wa.Utf8ErrorFuncs.error);let t=(0,Hne.getBytes)(r,"bytes"),n=[],s=0;for(;s<t.length;){let i=t[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=i&(1<<8-o-1)-1;for(let f=0;f<o;f++){let g=t[s];if((g&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|g&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,n,c);continue}n.push(c)}}return n}function EL(r,e){(0,vw.assertArgument)(typeof r=="string","invalid string value","str",r),e!=null&&((0,vw.assertNormalize)(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;let i=r.charCodeAt(n);(0,vw.assertArgument)(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);let o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}wa.toUtf8Bytes=EL;function Vne(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function zne(r,e){return Vne(AL(r,e))}wa.toUtf8String=zne;function Jne(r,e){return AL(EL(r,e))}wa.toUtf8CodePoints=Jne});var kL=M(dp=>{y();b();Object.defineProperty(dp,"__esModule",{value:!0});dp.getUrl=dp.createGetUrl=void 0;var Pw=ba();function SL(r){async function e(t,n){(0,Pw.assert)(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let s=t.url.split(":")[0].toLowerCase();(0,Pw.assert)(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),(0,Pw.assert)(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,o=new AbortController,a=setTimeout(()=>{i=(0,Pw.makeError)("request timeout","TIMEOUT"),o.abort()},t.timeout);n&&n.addListener(()=>{i=(0,Pw.makeError)("request cancelled","CANCELLED"),o.abort()});let c=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal}),f;try{f=await fetch(t.url,c)}catch(P){throw clearTimeout(a),i||P}clearTimeout(a);let g={};f.headers.forEach((P,C)=>{g[C.toLowerCase()]=P});let p=await f.arrayBuffer(),A=p==null?null:new Uint8Array(p);return{statusCode:f.status,statusMessage:f.statusText,headers:g,body:A}}return e}dp.createGetUrl=SL;var Wne=SL({});async function $ne(r,e){return Wne(r,e)}dp.getUrl=$ne});var jL=M(il=>{y();b();Object.defineProperty(il,"__esModule",{value:!0});il.FetchResponse=il.FetchRequest=il.FetchCancelSignal=void 0;var NL=d5(),CL=Xi(),Yi=ba(),Zne=rl(),hp=HA(),RL=kL(),Qne=12,Xne=250,OL=(0,RL.createGetUrl)(),Yne=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ese=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),g5=!1;async function BL(r,e){try{let t=r.match(Yne);if(!t)throw new Error("invalid data");return new Hu(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(0,NL.decodeBase64)(t[3]):tse(t[3]))}catch{return new Hu(599,"BAD REQUEST (invalid data: URI)",{},null,new xp(r))}}function IL(r){async function e(t,n){try{let s=t.match(ese);if(!s)throw new Error("invalid link");return new xp(`${r}${s[2]}`)}catch{return new Hu(599,"BAD REQUEST (invalid IPFS URI)",{},null,new xp(t))}}return e}var GA={data:BL,ipfs:IL("https://gateway.ipfs.io/ipfs/")},ML=new WeakMap,I0,nl,VA=class{constructor(e){T(this,I0,void 0);T(this,nl,void 0);w(this,I0,[]),w(this,nl,!1),ML.set(e,()=>{if(!h(this,nl)){w(this,nl,!0);for(let t of h(this,I0))setTimeout(()=>{t()},0);w(this,I0,[])}})}addListener(e){(0,Yi.assert)(!h(this,nl),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),h(this,I0).push(e)}get cancelled(){return h(this,nl)}checkSignal(){(0,Yi.assert)(!this.cancelled,"cancelled","CANCELLED",{})}};I0=new WeakMap,nl=new WeakMap;il.FetchCancelSignal=VA;function KA(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var gp,pp,_a,Du,mp,yp,Cn,Si,qu,M0,j0,F0,Nc,va,sl,L0,Aw,zA=class{constructor(e){T(this,L0);T(this,gp,void 0);T(this,pp,void 0);T(this,_a,void 0);T(this,Du,void 0);T(this,mp,void 0);T(this,yp,void 0);T(this,Cn,void 0);T(this,Si,void 0);T(this,qu,void 0);T(this,M0,void 0);T(this,j0,void 0);T(this,F0,void 0);T(this,Nc,void 0);T(this,va,void 0);T(this,sl,void 0);w(this,yp,String(e)),w(this,gp,!1),w(this,pp,!0),w(this,_a,{}),w(this,Du,""),w(this,mp,3e5),w(this,va,{slotInterval:Xne,maxAttempts:Qne}),w(this,sl,null)}get url(){return h(this,yp)}set url(e){w(this,yp,String(e))}get body(){return h(this,Cn)==null?null:new Uint8Array(h(this,Cn))}set body(e){if(e==null)w(this,Cn,void 0),w(this,Si,void 0);else if(typeof e=="string")w(this,Cn,(0,hp.toUtf8Bytes)(e)),w(this,Si,"text/plain");else if(e instanceof Uint8Array)w(this,Cn,e),w(this,Si,"application/octet-stream");else if(typeof e=="object")w(this,Cn,(0,hp.toUtf8Bytes)(JSON.stringify(e))),w(this,Si,"application/json");else throw new Error("invalid body")}hasBody(){return h(this,Cn)!=null}get method(){return h(this,Du)?h(this,Du):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),w(this,Du,String(e).toUpperCase())}get headers(){let e=Object.assign({},h(this,_a));return h(this,qu)&&(e.authorization=`Basic ${(0,NL.encodeBase64)((0,hp.toUtf8Bytes)(h(this,qu)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&h(this,Si)&&(e["content-type"]=h(this,Si)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){h(this,_a)[String(e).toLowerCase()]=String(t)}clearHeaders(){w(this,_a,{})}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return h(this,qu)||null}setCredentials(e,t){(0,Yi.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,qu,`${e}:${t}`)}get allowGzip(){return h(this,pp)}set allowGzip(e){w(this,pp,!!e)}get allowInsecureAuthentication(){return!!h(this,gp)}set allowInsecureAuthentication(e){w(this,gp,!!e)}get timeout(){return h(this,mp)}set timeout(e){(0,Yi.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),w(this,mp,e)}get preflightFunc(){return h(this,M0)||null}set preflightFunc(e){w(this,M0,e)}get processFunc(){return h(this,j0)||null}set processFunc(e){w(this,j0,e)}get retryFunc(){return h(this,F0)||null}set retryFunc(e){w(this,F0,e)}get getUrlFunc(){return h(this,sl)||OL}set getUrlFunc(e){w(this,sl,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${h(this,Cn)?(0,CL.hexlify)(h(this,Cn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(h(this,va).slotInterval=e.slotInterval),e.maxAttempts!=null&&(h(this,va).maxAttempts=e.maxAttempts)}send(){return(0,Yi.assert)(h(this,Nc)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,Nc,new VA(this)),U(this,L0,Aw).call(this,0,TL()+this.timeout,0,this,new Hu(0,"",{},null,this))}cancel(){(0,Yi.assert)(h(this,Nc)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=ML.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();(0,Yi.assert)(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new zA(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,w(s,_a,Object.assign({},h(this,_a))),h(this,Cn)&&w(s,Cn,new Uint8Array(h(this,Cn))),w(s,Si,h(this,Si)),s}clone(){let e=new zA(this.url);return w(e,Du,h(this,Du)),h(this,Cn)&&w(e,Cn,h(this,Cn)),w(e,Si,h(this,Si)),w(e,_a,Object.assign({},h(this,_a))),w(e,qu,h(this,qu)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),w(e,M0,h(this,M0)),w(e,j0,h(this,j0)),w(e,F0,h(this,F0)),w(e,va,Object.assign({},h(this,va))),w(e,sl,h(this,sl)),e}static lockConfig(){g5=!0}static getGateway(e){return GA[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(g5)throw new Error("gateways locked");GA[e]=t}static registerGetUrl(e){if(g5)throw new Error("gateways locked");OL=e}static createGetUrlFunc(e){return(0,RL.createGetUrl)(e)}static createDataGateway(){return BL}static createIpfsGatewayFunc(e){return IL(e)}},xp=zA;gp=new WeakMap,pp=new WeakMap,_a=new WeakMap,Du=new WeakMap,mp=new WeakMap,yp=new WeakMap,Cn=new WeakMap,Si=new WeakMap,qu=new WeakMap,M0=new WeakMap,j0=new WeakMap,F0=new WeakMap,Nc=new WeakMap,va=new WeakMap,sl=new WeakMap,L0=new WeakSet,Aw=async function(e,t,n,s,i){var g,p,A;if(e>=h(this,va).maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,Yi.assert)(TL()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await rse(n);let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in GA){let P=await GA[a](o.url,KA(h(s,Nc)));if(P instanceof Hu){let C=P;if(this.processFunc){KA(h(s,Nc));try{C=await this.processFunc(o,C)}catch(N){(N.throttle==null||typeof N.stall!="number")&&C.makeServerError("error in post-processing function",N).assertOk()}}return C}o=P}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,KA(h(s,Nc))),f=new Hu(c.statusCode,c.statusMessage,c.headers,c.body,s);if(f.statusCode===301||f.statusCode===302){try{let P=f.headers.location||"";return U(g=o.redirect(P),L0,Aw).call(g,e+1,t,0,s,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){let P=f.headers["retry-after"],C=h(this,va).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof P=="string"&&P.match(/^[1-9][0-9]*$/)&&(C=parseInt(P)),U(p=o.clone(),L0,Aw).call(p,e+1,t,C,s,f)}if(this.processFunc){KA(h(s,Nc));try{f=await this.processFunc(o,f)}catch(P){(P.throttle==null||typeof P.stall!="number")&&f.makeServerError("error in post-processing function",P).assertOk();let C=h(this,va).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return P.stall>=0&&(C=P.stall),U(A=o.clone(),L0,Aw).call(A,e+1,t,C,s,f)}}return f};il.FetchRequest=xp;var Ew,Sw,kw,ki,bp,U0,p5=class{constructor(e,t,n,s,i){T(this,Ew,void 0);T(this,Sw,void 0);T(this,kw,void 0);T(this,ki,void 0);T(this,bp,void 0);T(this,U0,void 0);w(this,Ew,e),w(this,Sw,t),w(this,kw,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),w(this,ki,s==null?null:new Uint8Array(s)),w(this,bp,i||null),w(this,U0,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${h(this,ki)?(0,CL.hexlify)(h(this,ki)):"null"}>`}get statusCode(){return h(this,Ew)}get statusMessage(){return h(this,Sw)}get headers(){return Object.assign({},h(this,kw))}get body(){return h(this,ki)==null?null:new Uint8Array(h(this,ki))}get bodyText(){try{return h(this,ki)==null?"":(0,hp.toUtf8String)(h(this,ki))}catch{(0,Yi.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,Yi.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new p5(599,n,this.headers,this.body,h(this,bp)||void 0);return w(s,U0,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:(0,Yi.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let n=new Error(e||"throttling requests");throw(0,Zne.defineProperties)(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return h(this,ki)!=null}get request(){return h(this,bp)}ok(){return h(this,U0).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=h(this,U0);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{h(this,ki)&&(s=(0,hp.toUtf8String)(h(this,ki)))}catch{}(0,Yi.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}},Hu=p5;Ew=new WeakMap,Sw=new WeakMap,kw=new WeakMap,ki=new WeakMap,bp=new WeakMap,U0=new WeakMap;il.FetchResponse=Hu;function TL(){return new Date().getTime()}function tse(r){return(0,hp.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function rse(r){return new Promise(e=>setTimeout(e,r))}});var v5=M(JA=>{y();b();Object.defineProperty(JA,"__esModule",{value:!0});JA.FixedNumber=void 0;var nse=Xi(),Ss=ba(),al=cp(),sse=rl(),ise=BigInt(-1),Pa=BigInt(0),_p=BigInt(1),ose=BigInt(5),wp={},vp="0000";for(;vp.length<80;)vp+=vp;function D0(r){let e=vp;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function Ow(r,e,t){let n=BigInt(e.width);if(e.signed){let s=_p<<n-_p;(0,Ss.assert)(t==null||r>=-s&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>Pa?r=(0,al.fromTwos)((0,al.mask)(r,n),n):r=-(0,al.fromTwos)((0,al.mask)(-r,n),n)}else{let s=_p<<n;(0,Ss.assert)(t==null||r>=0&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%s+s)%s&s-_p}return r}function m5(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{let i=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,Ss.assertArgument)(i,"invalid fixed format","format",r),e=i[1]!=="u",t=parseInt(i[2]),n=parseInt(i[3])}}else if(r){let i=r,o=(a,c,f)=>i[a]==null?f:((0,Ss.assertArgument)(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),n=o("decimals","number",n)}(0,Ss.assertArgument)(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),(0,Ss.assertArgument)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let s=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:s}}function ase(r,e){let t="";r<Pa&&(t="-",r*=ise);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=vp+n;let s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var Aa,nr,Es,Ku,q0,Ea,Gu,Tw,b5,Nw,x5,Cw,w5,Rw,_5,ol=class{constructor(e,t,n){T(this,Ku);T(this,Ea);T(this,Tw);T(this,Nw);T(this,Cw);T(this,Rw);O(this,"format");T(this,Aa,void 0);T(this,nr,void 0);T(this,Es,void 0);O(this,"_value");(0,Ss.assertPrivate)(e,wp,"FixedNumber"),w(this,nr,t),w(this,Aa,n);let s=ase(t,n.decimals);(0,sse.defineProperties)(this,{format:n.name,_value:s}),w(this,Es,D0(n.decimals))}get signed(){return h(this,Aa).signed}get width(){return h(this,Aa).width}get decimals(){return h(this,Aa).decimals}get value(){return h(this,nr)}addUnsafe(e){return U(this,Tw,b5).call(this,e)}add(e){return U(this,Tw,b5).call(this,e,"add")}subUnsafe(e){return U(this,Nw,x5).call(this,e)}sub(e){return U(this,Nw,x5).call(this,e,"sub")}mulUnsafe(e){return U(this,Cw,w5).call(this,e)}mul(e){return U(this,Cw,w5).call(this,e,"mul")}mulSignal(e){U(this,Ku,q0).call(this,e);let t=h(this,nr)*h(e,nr);return(0,Ss.assert)(t%h(this,Es)===Pa,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),U(this,Ea,Gu).call(this,t/h(this,Es),"mulSignal")}divUnsafe(e){return U(this,Rw,_5).call(this,e)}div(e){return U(this,Rw,_5).call(this,e,"div")}divSignal(e){(0,Ss.assert)(h(e,nr)!==Pa,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),U(this,Ku,q0).call(this,e);let t=h(this,nr)*h(this,Es);return(0,Ss.assert)(t%h(e,nr)===Pa,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),U(this,Ea,Gu).call(this,t/h(e,nr),"divSignal")}cmp(e){let t=this.value,n=e.value,s=this.decimals-e.decimals;return s>0?n*=D0(s):s<0&&(t*=D0(-s)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=h(this,nr);return h(this,nr)<Pa&&(e-=h(this,Es)-_p),e=h(this,nr)/h(this,Es)*h(this,Es),U(this,Ea,Gu).call(this,e,"floor")}ceiling(){let e=h(this,nr);return h(this,nr)>Pa&&(e+=h(this,Es)-_p),e=h(this,nr)/h(this,Es)*h(this,Es),U(this,Ea,Gu).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,n=ose*D0(t-1),s=this.value+n,i=D0(t);return s=s/i*i,Ow(s,h(this,Aa),"round"),new ol(wp,s,h(this,Aa))}isZero(){return h(this,nr)===Pa}isNegative(){return h(this,nr)<Pa}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ol.fromString(this.toString(),e)}static fromValue(e,t,n){let s=t==null?0:(0,al.getNumber)(t),i=m5(n),o=(0,al.getBigInt)(e,"value"),a=s-i.decimals;if(a>0){let c=D0(a);(0,Ss.assert)(o%c===Pa,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=D0(-a));return Ow(o,i,"fromValue"),new ol(wp,o,i)}static fromString(e,t){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,Ss.assertArgument)(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let s=m5(t),i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=vp;(0,Ss.assert)(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);let a=BigInt(n[1]+i+o);return Ow(a,s,"fromString"),new ol(wp,a,s)}static fromBytes(e,t){let n=(0,al.toBigInt)((0,nse.getBytes)(e,"value")),s=m5(t);return s.signed&&(n=(0,al.fromTwos)(n,s.width)),Ow(n,s,"fromBytes"),new ol(wp,n,s)}},y5=ol;Aa=new WeakMap,nr=new WeakMap,Es=new WeakMap,Ku=new WeakSet,q0=function(e){(0,Ss.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Ea=new WeakSet,Gu=function(e,t){return e=Ow(e,h(this,Aa),t),new ol(wp,e,h(this,Aa))},Tw=new WeakSet,b5=function(e,t){return U(this,Ku,q0).call(this,e),U(this,Ea,Gu).call(this,h(this,nr)+h(e,nr),t)},Nw=new WeakSet,x5=function(e,t){return U(this,Ku,q0).call(this,e),U(this,Ea,Gu).call(this,h(this,nr)-h(e,nr),t)},Cw=new WeakSet,w5=function(e,t){return U(this,Ku,q0).call(this,e),U(this,Ea,Gu).call(this,h(this,nr)*h(e,nr)/h(this,Es),t)},Rw=new WeakSet,_5=function(e,t){return(0,Ss.assert)(h(e,nr)!==Pa,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),U(this,Ku,q0).call(this,e),U(this,Ea,Gu).call(this,h(this,nr)*h(this,Es)/h(e,nr),t)};JA.FixedNumber=y5});var qL=M($A=>{y();b();Object.defineProperty($A,"__esModule",{value:!0});$A.decodeRlp=void 0;var FL=Xi(),WA=ba(),cse=Xi();function use(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function LL(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function UL(r,e,t,n){let s=[];for(;t<e+1+n;){let i=DL(r,t);s.push(i.result),t+=i.consumed,(0,WA.assert)(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function DL(r,e){(0,WA.assert)(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});let t=n=>{(0,WA.assert)(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){let n=r[e]-247;t(e+1+n);let s=LL(r,e+1,n);return t(e+1+n+s),UL(r,e,e+1+n,n+s)}else if(r[e]>=192){let n=r[e]-192;return t(e+1+n),UL(r,e,e+1,n)}else if(r[e]>=184){let n=r[e]-183;t(e+1+n);let s=LL(r,e+1,n);t(e+1+n+s);let i=(0,FL.hexlify)(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){let n=r[e]-128;t(e+1+n);let s=(0,FL.hexlify)(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:use(r[e])}}function fse(r){let e=(0,cse.getBytes)(r,"data"),t=DL(e,0);return(0,WA.assertArgument)(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}$A.decodeRlp=fse});var VL=M(ZA=>{y();b();Object.defineProperty(ZA,"__esModule",{value:!0});ZA.encodeRlp=void 0;var lse=Xi();function HL(r){let e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function KL(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(KL(i))}),n.length<=55)return n.unshift(192+n.length),n;let s=HL(n.length);return s.unshift(247+s.length),s.concat(n)}let e=Array.prototype.slice.call((0,lse.getBytes)(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=HL(e.length);return t.unshift(183+t.length),t.concat(e)}var GL="0123456789abcdef";function dse(r){let e="0x";for(let t of KL(r))e+=GL[t>>4],e+=GL[t&15];return e}ZA.encodeRlp=dse});var QL=M(Cc=>{y();b();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.parseEther=Cc.formatEther=Cc.parseUnits=Cc.formatUnits=void 0;var P5=ba(),zL=v5(),JL=cp(),WL=["wei","kwei","mwei","gwei","szabo","finney","ether"];function $L(r,e){let t=18;if(typeof e=="string"){let n=WL.indexOf(e);(0,P5.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,JL.getNumber)(e,"unit"));return zL.FixedNumber.fromValue(r,t,{decimals:t,width:512}).toString()}Cc.formatUnits=$L;function ZL(r,e){(0,P5.assertArgument)(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){let n=WL.indexOf(e);(0,P5.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,JL.getNumber)(e,"unit"));return zL.FixedNumber.fromString(r,{decimals:t,width:512}).value}Cc.parseUnits=ZL;function hse(r){return $L(r,18)}Cc.formatEther=hse;function gse(r){return ZL(r,18)}Cc.parseEther=gse});var YL=M(QA=>{y();b();Object.defineProperty(QA,"__esModule",{value:!0});QA.uuidV4=void 0;var XL=Xi();function pse(r){let e=(0,XL.getBytes)(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=(0,XL.hexlify)(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}QA.uuidV4=pse});var ue=M(X=>{y();b();Object.defineProperty(X,"__esModule",{value:!0});X.toUtf8String=X.toUtf8CodePoints=X.toUtf8Bytes=X.parseUnits=X.formatUnits=X.parseEther=X.formatEther=X.encodeRlp=X.decodeRlp=X.defineProperties=X.resolveProperties=X.toQuantity=X.toBeArray=X.toBeHex=X.toNumber=X.toBigInt=X.getUint=X.getNumber=X.getBigInt=X.mask=X.toTwos=X.fromTwos=X.FixedNumber=X.FetchCancelSignal=X.FetchResponse=X.FetchRequest=X.EventPayload=X.makeError=X.assertNormalize=X.assertPrivate=X.assertArgumentCount=X.assertArgument=X.assert=X.isError=X.isCallException=X.zeroPadBytes=X.zeroPadValue=X.stripZerosLeft=X.dataSlice=X.dataLength=X.concat=X.hexlify=X.isBytesLike=X.isHexString=X.getBytesCopy=X.getBytes=X.encodeBase64=X.decodeBase64=X.encodeBase58=X.decodeBase58=void 0;X.uuidV4=X.Utf8ErrorFuncs=void 0;var eU=wL();Object.defineProperty(X,"decodeBase58",{enumerable:!0,get:function(){return eU.decodeBase58}});Object.defineProperty(X,"encodeBase58",{enumerable:!0,get:function(){return eU.encodeBase58}});var tU=d5();Object.defineProperty(X,"decodeBase64",{enumerable:!0,get:function(){return tU.decodeBase64}});Object.defineProperty(X,"encodeBase64",{enumerable:!0,get:function(){return tU.encodeBase64}});var Sa=Xi();Object.defineProperty(X,"getBytes",{enumerable:!0,get:function(){return Sa.getBytes}});Object.defineProperty(X,"getBytesCopy",{enumerable:!0,get:function(){return Sa.getBytesCopy}});Object.defineProperty(X,"isHexString",{enumerable:!0,get:function(){return Sa.isHexString}});Object.defineProperty(X,"isBytesLike",{enumerable:!0,get:function(){return Sa.isBytesLike}});Object.defineProperty(X,"hexlify",{enumerable:!0,get:function(){return Sa.hexlify}});Object.defineProperty(X,"concat",{enumerable:!0,get:function(){return Sa.concat}});Object.defineProperty(X,"dataLength",{enumerable:!0,get:function(){return Sa.dataLength}});Object.defineProperty(X,"dataSlice",{enumerable:!0,get:function(){return Sa.dataSlice}});Object.defineProperty(X,"stripZerosLeft",{enumerable:!0,get:function(){return Sa.stripZerosLeft}});Object.defineProperty(X,"zeroPadValue",{enumerable:!0,get:function(){return Sa.zeroPadValue}});Object.defineProperty(X,"zeroPadBytes",{enumerable:!0,get:function(){return Sa.zeroPadBytes}});var cl=ba();Object.defineProperty(X,"isCallException",{enumerable:!0,get:function(){return cl.isCallException}});Object.defineProperty(X,"isError",{enumerable:!0,get:function(){return cl.isError}});Object.defineProperty(X,"assert",{enumerable:!0,get:function(){return cl.assert}});Object.defineProperty(X,"assertArgument",{enumerable:!0,get:function(){return cl.assertArgument}});Object.defineProperty(X,"assertArgumentCount",{enumerable:!0,get:function(){return cl.assertArgumentCount}});Object.defineProperty(X,"assertPrivate",{enumerable:!0,get:function(){return cl.assertPrivate}});Object.defineProperty(X,"assertNormalize",{enumerable:!0,get:function(){return cl.assertNormalize}});Object.defineProperty(X,"makeError",{enumerable:!0,get:function(){return cl.makeError}});var mse=vL();Object.defineProperty(X,"EventPayload",{enumerable:!0,get:function(){return mse.EventPayload}});var A5=jL();Object.defineProperty(X,"FetchRequest",{enumerable:!0,get:function(){return A5.FetchRequest}});Object.defineProperty(X,"FetchResponse",{enumerable:!0,get:function(){return A5.FetchResponse}});Object.defineProperty(X,"FetchCancelSignal",{enumerable:!0,get:function(){return A5.FetchCancelSignal}});var yse=v5();Object.defineProperty(X,"FixedNumber",{enumerable:!0,get:function(){return yse.FixedNumber}});var ka=cp();Object.defineProperty(X,"fromTwos",{enumerable:!0,get:function(){return ka.fromTwos}});Object.defineProperty(X,"toTwos",{enumerable:!0,get:function(){return ka.toTwos}});Object.defineProperty(X,"mask",{enumerable:!0,get:function(){return ka.mask}});Object.defineProperty(X,"getBigInt",{enumerable:!0,get:function(){return ka.getBigInt}});Object.defineProperty(X,"getNumber",{enumerable:!0,get:function(){return ka.getNumber}});Object.defineProperty(X,"getUint",{enumerable:!0,get:function(){return ka.getUint}});Object.defineProperty(X,"toBigInt",{enumerable:!0,get:function(){return ka.toBigInt}});Object.defineProperty(X,"toNumber",{enumerable:!0,get:function(){return ka.toNumber}});Object.defineProperty(X,"toBeHex",{enumerable:!0,get:function(){return ka.toBeHex}});Object.defineProperty(X,"toBeArray",{enumerable:!0,get:function(){return ka.toBeArray}});Object.defineProperty(X,"toQuantity",{enumerable:!0,get:function(){return ka.toQuantity}});var rU=rl();Object.defineProperty(X,"resolveProperties",{enumerable:!0,get:function(){return rU.resolveProperties}});Object.defineProperty(X,"defineProperties",{enumerable:!0,get:function(){return rU.defineProperties}});var bse=qL();Object.defineProperty(X,"decodeRlp",{enumerable:!0,get:function(){return bse.decodeRlp}});var xse=VL();Object.defineProperty(X,"encodeRlp",{enumerable:!0,get:function(){return xse.encodeRlp}});var XA=QL();Object.defineProperty(X,"formatEther",{enumerable:!0,get:function(){return XA.formatEther}});Object.defineProperty(X,"parseEther",{enumerable:!0,get:function(){return XA.parseEther}});Object.defineProperty(X,"formatUnits",{enumerable:!0,get:function(){return XA.formatUnits}});Object.defineProperty(X,"parseUnits",{enumerable:!0,get:function(){return XA.parseUnits}});var YA=HA();Object.defineProperty(X,"toUtf8Bytes",{enumerable:!0,get:function(){return YA.toUtf8Bytes}});Object.defineProperty(X,"toUtf8CodePoints",{enumerable:!0,get:function(){return YA.toUtf8CodePoints}});Object.defineProperty(X,"toUtf8String",{enumerable:!0,get:function(){return YA.toUtf8String}});Object.defineProperty(X,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return YA.Utf8ErrorFuncs}});var wse=YL();Object.defineProperty(X,"uuidV4",{enumerable:!0,get:function(){return wse.uuidV4}})});var eo=M(br=>{y();b();Object.defineProperty(br,"__esModule",{value:!0});br.Reader=br.Writer=br.Coder=br.checkResultErrors=br.Result=br.WordSize=void 0;var qr=ue();br.WordSize=32;var E5=new Uint8Array(br.WordSize),_se=["then"],eE={},iU=new WeakMap;function H0(r){return iU.get(r)}function nU(r,e){iU.set(r,e)}function Bw(r,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function S5(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof Iw?S5(H0(n),n,t):n):r.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(t&&o instanceof Iw&&(o=S5(H0(o),o,t)),n[s]=o),n},{})}var Ap,Pp=class extends Array{constructor(...t){let n=t[0],s=t[1],i=(t[2]||[]).slice(),o=!0;n!==eE&&(s=t,i=[],o=!1);super(s.length);T(this,Ap,void 0);s.forEach((f,g)=>{this[g]=f});let a=i.reduce((f,g)=>(typeof g=="string"&&f.set(g,(f.get(g)||0)+1),f),new Map);if(nU(this,Object.freeze(s.map((f,g)=>{let p=i[g];return p!=null&&a.get(p)===1?p:null}))),w(this,Ap,[]),h(this,Ap)==null&&h(this,Ap),!o)return;Object.freeze(this);let c=new Proxy(this,{get:(f,g,p)=>{if(typeof g=="string"){if(g.match(/^[0-9]+$/)){let P=(0,qr.getNumber)(g,"%index");if(P<0||P>=this.length)throw new RangeError("out of result range");let C=f[P];return C instanceof Error&&Bw(`index ${P}`,C),C}if(_se.indexOf(g)>=0)return Reflect.get(f,g,p);let A=f[g];if(A instanceof Function)return function(...P){return A.apply(this===p?f:this,P)};if(!(g in f))return f.getValue.apply(this===p?f:this,[g])}return Reflect.get(f,g,p)}});return nU(c,H0(this)),c}toArray(t){let n=[];return this.forEach((s,i)=>{s instanceof Error&&Bw(`index ${i}`,s),t&&s instanceof Pp&&(s=s.toArray(t)),n.push(s)}),n}toObject(t){let n=H0(this);return n.reduce((s,i,o)=>((0,qr.assert)(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),S5(n,this,t)),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let s=H0(this),i=[],o=[];for(let a=t;a<n;a++)i.push(this[a]),o.push(s[a]);return new Pp(eE,i,o)}filter(t,n){let s=H0(this),i=[],o=[];for(let a=0;a<this.length;a++){let c=this[a];c instanceof Error&&Bw(`index ${a}`,c),t.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new Pp(eE,i,o)}map(t,n){let s=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&Bw(`index ${i}`,o),s.push(t.call(n,o,i,this))}return s}getValue(t){let n=H0(this).indexOf(t);if(n===-1)return;let s=this[n];return s instanceof Error&&Bw(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,n){return new Pp(eE,t,n)}},Iw=Pp;Ap=new WeakMap;br.Result=Iw;function vse(r){let e=[],t=function(n,s){if(!!Array.isArray(s))for(let i in s){let o=n.slice();o.push(i);try{t(o,s[i])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}br.checkResultErrors=vse;function sU(r){let e=(0,qr.toBeArray)(r);return(0,qr.assert)(e.length<=br.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:br.WordSize,offset:e.length}),e.length!==br.WordSize&&(e=(0,qr.getBytesCopy)((0,qr.concat)([E5.slice(e.length%br.WordSize),e]))),e}var k5=class{constructor(e,t,n,s){O(this,"name");O(this,"type");O(this,"localName");O(this,"dynamic");(0,qr.defineProperties)(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,qr.assertArgument)(!1,e,this.localName,t)}};br.Coder=k5;var Vu,G0,Ep,tE,O5=class{constructor(){T(this,Ep);T(this,Vu,void 0);T(this,G0,void 0);w(this,Vu,[]),w(this,G0,0)}get data(){return(0,qr.concat)(h(this,Vu))}get length(){return h(this,G0)}appendWriter(e){return U(this,Ep,tE).call(this,(0,qr.getBytesCopy)(e.data))}writeBytes(e){let t=(0,qr.getBytesCopy)(e),n=t.length%br.WordSize;return n&&(t=(0,qr.getBytesCopy)((0,qr.concat)([t,E5.slice(n)]))),U(this,Ep,tE).call(this,t)}writeValue(e){return U(this,Ep,tE).call(this,sU(e))}writeUpdatableValue(){let e=h(this,Vu).length;return h(this,Vu).push(E5),w(this,G0,h(this,G0)+br.WordSize),t=>{h(this,Vu)[e]=sU(t)}}};Vu=new WeakMap,G0=new WeakMap,Ep=new WeakSet,tE=function(e){return h(this,Vu).push(e),w(this,G0,h(this,G0)+e.length),e.length};br.Writer=O5;var Ys,Oi,K0,V0,ul,Mw,N5,rE,oU,C5=class{constructor(e,t,n){T(this,Mw);T(this,rE);O(this,"allowLoose");T(this,Ys,void 0);T(this,Oi,void 0);T(this,K0,void 0);T(this,V0,void 0);T(this,ul,void 0);(0,qr.defineProperties)(this,{allowLoose:!!t}),w(this,Ys,(0,qr.getBytesCopy)(e)),w(this,K0,0),w(this,V0,null),w(this,ul,n??1024),w(this,Oi,0)}get data(){return(0,qr.hexlify)(h(this,Ys))}get dataLength(){return h(this,Ys).length}get consumed(){return h(this,Oi)}get bytes(){return new Uint8Array(h(this,Ys))}subReader(e){let t=new C5(h(this,Ys).slice(h(this,Oi)+e),this.allowLoose,h(this,ul));return w(t,V0,this),t}readBytes(e,t){let n=U(this,rE,oU).call(this,0,e,!!t);return U(this,Mw,N5).call(this,e),w(this,Oi,h(this,Oi)+n.length),n.slice(0,e)}readValue(){return(0,qr.toBigInt)(this.readBytes(br.WordSize))}readIndex(){return(0,qr.toNumber)(this.readBytes(br.WordSize))}},T5=C5;Ys=new WeakMap,Oi=new WeakMap,K0=new WeakMap,V0=new WeakMap,ul=new WeakMap,Mw=new WeakSet,N5=function(e){var t;if(h(this,V0))return U(t=h(this,V0),Mw,N5).call(t,e);w(this,K0,h(this,K0)+e),(0,qr.assert)(h(this,ul)<1||h(this,K0)<=h(this,ul)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${h(this,ul)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,qr.getBytesCopy)(h(this,Ys)),offset:h(this,Oi),length:e,info:{bytesRead:h(this,K0),dataLength:this.dataLength}})},rE=new WeakSet,oU=function(e,t,n){let s=Math.ceil(t/br.WordSize)*br.WordSize;return h(this,Oi)+s>h(this,Ys).length&&(this.allowLoose&&n&&h(this,Oi)+t<=h(this,Ys).length?s=t:(0,qr.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,qr.getBytesCopy)(h(this,Ys)),length:h(this,Ys).length,offset:h(this,Oi)+s})),h(this,Ys).slice(h(this,Oi),h(this,Oi)+s)};br.Reader=T5});var Sp=M(ks=>{y();b();Object.defineProperty(ks,"__esModule",{value:!0});ks.output=ks.exists=ks.hash=ks.bytes=ks.bool=ks.number=void 0;function nE(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}ks.number=nE;function aU(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}ks.bool=aU;function R5(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}ks.bytes=R5;function cU(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nE(r.outputLen),nE(r.blockLen)}ks.hash=cU;function uU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}ks.exists=uU;function fU(r,e){R5(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}ks.output=fU;var Pse={number:nE,bool:aU,bytes:R5,hash:cU,exists:uU,output:fU};ks.default=Pse});var lU=M(sE=>{y();b();Object.defineProperty(sE,"__esModule",{value:!0});sE.crypto=void 0;sE.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Oa=M(_t=>{y();b();Object.defineProperty(_t,"__esModule",{value:!0});_t.randomBytes=_t.wrapXOFConstructorWithOpts=_t.wrapConstructorWithOpts=_t.wrapConstructor=_t.checkOpts=_t.Hash=_t.concatBytes=_t.toBytes=_t.utf8ToBytes=_t.asyncLoop=_t.nextTick=_t.hexToBytes=_t.bytesToHex=_t.isLE=_t.rotr=_t.createView=_t.u32=_t.u8=void 0;var B5=lU(),M5=r=>r instanceof Uint8Array,Ase=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);_t.u8=Ase;var Ese=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));_t.u32=Ese;var Sse=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);_t.createView=Sse;var kse=(r,e)=>r<<32-e|r>>>e;_t.rotr=kse;_t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_t.isLE)throw new Error("Non little-endian hardware is not supported");var Ose=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Tse(r){if(!M5(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Ose[r[t]];return e}_t.bytesToHex=Tse;function Nse(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}_t.hexToBytes=Nse;var Cse=async()=>{};_t.nextTick=Cse;async function Rse(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);let i=Date.now()-n;i>=0&&i<e||(await(0,_t.nextTick)(),n+=i)}}_t.asyncLoop=Rse;function dU(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}_t.utf8ToBytes=dU;function iE(r){if(typeof r=="string"&&(r=dU(r)),!M5(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}_t.toBytes=iE;function Bse(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!M5(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}_t.concatBytes=Bse;var I5=class{clone(){return this._cloneInto()}};_t.Hash=I5;var Ise={}.toString;function Mse(r,e){if(e!==void 0&&Ise.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}_t.checkOpts=Mse;function jse(r){let e=n=>r().update(iE(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}_t.wrapConstructor=jse;function Fse(r){let e=(n,s)=>r(s).update(iE(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}_t.wrapConstructorWithOpts=Fse;function Lse(r){let e=(n,s)=>r(s).update(iE(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}_t.wrapXOFConstructorWithOpts=Lse;function Use(r=32){if(B5.crypto&&typeof B5.crypto.getRandomValues=="function")return B5.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}_t.randomBytes=Use});var aE=M(z0=>{y();b();Object.defineProperty(z0,"__esModule",{value:!0});z0.hmac=z0.HMAC=void 0;var oE=Sp(),hU=Oa(),jw=class extends hU.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,oE.hash)(e);let n=(0,hU.toBytes)(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,oE.exists)(this),this.iHash.update(e),this}digestInto(e){(0,oE.exists)(this),(0,oE.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};z0.HMAC=jw;var Dse=(r,e,t)=>new jw(r,e).update(t).digest();z0.hmac=Dse;z0.hmac.create=(r,e)=>new jw(r,e)});var j5=M(Op=>{y();b();Object.defineProperty(Op,"__esModule",{value:!0});Op.pbkdf2Async=Op.pbkdf2=void 0;var cE=Sp(),qse=aE(),kp=Oa();function gU(r,e,t,n){(0,cE.hash)(r);let s=(0,kp.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if((0,cE.number)(i),(0,cE.number)(o),(0,cE.number)(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=(0,kp.toBytes)(e),f=(0,kp.toBytes)(t),g=new Uint8Array(o),p=qse.hmac.create(r,c),A=p._cloneInto().update(f);return{c:i,dkLen:o,asyncTick:a,DK:g,PRF:p,PRFSalt:A}}function pU(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function Hse(r,e,t,n){let{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=gU(r,e,t,n),f,g=new Uint8Array(4),p=(0,kp.createView)(g),A=new Uint8Array(a.outputLen);for(let P=1,C=0;C<i;P++,C+=a.outputLen){let N=o.subarray(C,C+a.outputLen);p.setInt32(0,P,!1),(f=c._cloneInto(f)).update(g).digestInto(A),N.set(A.subarray(0,N.length));for(let L=1;L<s;L++){a._cloneInto(f).update(A).digestInto(A);for(let F=0;F<N.length;F++)N[F]^=A[F]}}return pU(a,c,o,f,A)}Op.pbkdf2=Hse;async function Gse(r,e,t,n){let{c:s,dkLen:i,asyncTick:o,DK:a,PRF:c,PRFSalt:f}=gU(r,e,t,n),g,p=new Uint8Array(4),A=(0,kp.createView)(p),P=new Uint8Array(c.outputLen);for(let C=1,N=0;N<i;C++,N+=c.outputLen){let L=a.subarray(N,N+c.outputLen);A.setInt32(0,C,!1),(g=f._cloneInto(g)).update(p).digestInto(P),L.set(P.subarray(0,L.length)),await(0,kp.asyncLoop)(s-1,o,()=>{c._cloneInto(g).update(P).digestInto(P);for(let F=0;F<L.length;F++)L[F]^=P[F]})}return pU(c,f,a,g,P)}Op.pbkdf2Async=Gse});var fE=M(uE=>{y();b();Object.defineProperty(uE,"__esModule",{value:!0});uE.SHA2=void 0;var F5=Sp(),Fw=Oa();function Kse(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}var L5=class extends Fw.Hash{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Fw.createView)(this.buffer)}update(e){(0,F5.exists)(this);let{view:t,buffer:n,blockLen:s}=this;e=(0,Fw.toBytes)(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=(0,Fw.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,F5.exists)(this),(0,F5.output)(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let p=o;p<s;p++)t[p]=0;Kse(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,Fw.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,g[p],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}};uE.SHA2=L5});var dE=M(Tp=>{y();b();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.sha224=Tp.sha256=void 0;var Vse=fE(),to=Oa(),zse=(r,e,t)=>r&e^~r&t,Jse=(r,e,t)=>r&e^r&t^e&t,Wse=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ll=new Uint32Array(64),lE=class extends Vse.SHA2{constructor(){super(64,32,8,!1),this.A=fl[0]|0,this.B=fl[1]|0,this.C=fl[2]|0,this.D=fl[3]|0,this.E=fl[4]|0,this.F=fl[5]|0,this.G=fl[6]|0,this.H=fl[7]|0}get(){let{A:e,B:t,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,n,s,i,o,a,c]}set(e,t,n,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let p=0;p<16;p++,t+=4)ll[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let A=ll[p-15],P=ll[p-2],C=(0,to.rotr)(A,7)^(0,to.rotr)(A,18)^A>>>3,N=(0,to.rotr)(P,17)^(0,to.rotr)(P,19)^P>>>10;ll[p]=N+ll[p-7]+C+ll[p-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:f,H:g}=this;for(let p=0;p<64;p++){let A=(0,to.rotr)(a,6)^(0,to.rotr)(a,11)^(0,to.rotr)(a,25),P=g+A+zse(a,c,f)+Wse[p]+ll[p]|0,N=((0,to.rotr)(n,2)^(0,to.rotr)(n,13)^(0,to.rotr)(n,22))+Jse(n,s,i)|0;g=f,f=c,c=a,a=o+P|0,o=i,i=s,s=n,n=P+N|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(n,s,i,o,a,c,f,g)}roundClean(){ll.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},U5=class extends lE{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Tp.sha256=(0,to.wrapConstructor)(()=>new lE);Tp.sha224=(0,to.wrapConstructor)(()=>new U5)});var H5=M(Te=>{y();b();Object.defineProperty(Te,"__esModule",{value:!0});Te.add5L=Te.add5H=Te.add4H=Te.add4L=Te.add3H=Te.add3L=Te.add=Te.rotlBL=Te.rotlBH=Te.rotlSL=Te.rotlSH=Te.rotr32L=Te.rotr32H=Te.rotrBL=Te.rotrBH=Te.rotrSL=Te.rotrSH=Te.shrSL=Te.shrSH=Te.toBig=Te.split=Te.fromBig=void 0;var hE=BigInt(2**32-1),D5=BigInt(32);function q5(r,e=!1){return e?{h:Number(r&hE),l:Number(r>>D5&hE)}:{h:Number(r>>D5&hE)|0,l:Number(r&hE)|0}}Te.fromBig=q5;function mU(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:i,l:o}=q5(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}Te.split=mU;var yU=(r,e)=>BigInt(r>>>0)<<D5|BigInt(e>>>0);Te.toBig=yU;var bU=(r,e,t)=>r>>>t;Te.shrSH=bU;var xU=(r,e,t)=>r<<32-t|e>>>t;Te.shrSL=xU;var wU=(r,e,t)=>r>>>t|e<<32-t;Te.rotrSH=wU;var _U=(r,e,t)=>r<<32-t|e>>>t;Te.rotrSL=_U;var vU=(r,e,t)=>r<<64-t|e>>>t-32;Te.rotrBH=vU;var PU=(r,e,t)=>r>>>t-32|e<<64-t;Te.rotrBL=PU;var AU=(r,e)=>e;Te.rotr32H=AU;var EU=(r,e)=>r;Te.rotr32L=EU;var SU=(r,e,t)=>r<<t|e>>>32-t;Te.rotlSH=SU;var kU=(r,e,t)=>e<<t|r>>>32-t;Te.rotlSL=kU;var OU=(r,e,t)=>e<<t-32|r>>>64-t;Te.rotlBH=OU;var TU=(r,e,t)=>r<<t-32|e>>>64-t;Te.rotlBL=TU;function NU(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}Te.add=NU;var CU=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0);Te.add3L=CU;var RU=(r,e,t,n)=>e+t+n+(r/2**32|0)|0;Te.add3H=RU;var BU=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0);Te.add4L=BU;var IU=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0;Te.add4H=IU;var MU=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0);Te.add5L=MU;var jU=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0;Te.add5H=jU;var $se={fromBig:q5,split:mU,toBig:yU,shrSH:bU,shrSL:xU,rotrSH:wU,rotrSL:_U,rotrBH:vU,rotrBL:PU,rotr32H:AU,rotr32L:EU,rotlSH:SU,rotlSL:kU,rotlBH:OU,rotlBL:TU,add:NU,add3L:CU,add3H:RU,add4L:BU,add4H:IU,add5H:jU,add5L:MU};Te.default=$se});var FU=M(ro=>{y();b();Object.defineProperty(ro,"__esModule",{value:!0});ro.sha384=ro.sha512_256=ro.sha512_224=ro.sha512=ro.SHA512=void 0;var Zse=fE(),vt=H5(),gE=Oa(),[Qse,Xse]=(()=>vt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),dl=new Uint32Array(80),hl=new Uint32Array(80),J0=class extends Zse.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:f,El:g,Fh:p,Fl:A,Gh:P,Gl:C,Hh:N,Hl:L}=this;return[e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,L]}set(e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,L){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=g|0,this.Fh=p|0,this.Fl=A|0,this.Gh=P|0,this.Gl=C|0,this.Hh=N|0,this.Hl=L|0}process(e,t){for(let q=0;q<16;q++,t+=4)dl[q]=e.getUint32(t),hl[q]=e.getUint32(t+=4);for(let q=16;q<80;q++){let K=dl[q-15]|0,H=hl[q-15]|0,G=vt.default.rotrSH(K,H,1)^vt.default.rotrSH(K,H,8)^vt.default.shrSH(K,H,7),V=vt.default.rotrSL(K,H,1)^vt.default.rotrSL(K,H,8)^vt.default.shrSL(K,H,7),J=dl[q-2]|0,ae=hl[q-2]|0,se=vt.default.rotrSH(J,ae,19)^vt.default.rotrBH(J,ae,61)^vt.default.shrSH(J,ae,6),$=vt.default.rotrSL(J,ae,19)^vt.default.rotrBL(J,ae,61)^vt.default.shrSL(J,ae,6),le=vt.default.add4L(V,$,hl[q-7],hl[q-16]),S=vt.default.add4H(le,G,se,dl[q-7],dl[q-16]);dl[q]=S|0,hl[q]=le|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:f,Dl:g,Eh:p,El:A,Fh:P,Fl:C,Gh:N,Gl:L,Hh:F,Hl:D}=this;for(let q=0;q<80;q++){let K=vt.default.rotrSH(p,A,14)^vt.default.rotrSH(p,A,18)^vt.default.rotrBH(p,A,41),H=vt.default.rotrSL(p,A,14)^vt.default.rotrSL(p,A,18)^vt.default.rotrBL(p,A,41),G=p&P^~p&N,V=A&C^~A&L,J=vt.default.add5L(D,H,V,Xse[q],hl[q]),ae=vt.default.add5H(J,F,K,G,Qse[q],dl[q]),se=J|0,$=vt.default.rotrSH(n,s,28)^vt.default.rotrBH(n,s,34)^vt.default.rotrBH(n,s,39),le=vt.default.rotrSL(n,s,28)^vt.default.rotrBL(n,s,34)^vt.default.rotrBL(n,s,39),S=n&i^n&a^i&a,u=s&o^s&c^o&c;F=N|0,D=L|0,N=P|0,L=C|0,P=p|0,C=A|0,{h:p,l:A}=vt.default.add(f|0,g|0,ae|0,se|0),f=a|0,g=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let l=vt.default.add3L(se,le,u);n=vt.default.add3H(l,ae,$,S),s=l|0}({h:n,l:s}=vt.default.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=vt.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=vt.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l:g}=vt.default.add(this.Dh|0,this.Dl|0,f|0,g|0),{h:p,l:A}=vt.default.add(this.Eh|0,this.El|0,p|0,A|0),{h:P,l:C}=vt.default.add(this.Fh|0,this.Fl|0,P|0,C|0),{h:N,l:L}=vt.default.add(this.Gh|0,this.Gl|0,N|0,L|0),{h:F,l:D}=vt.default.add(this.Hh|0,this.Hl|0,F|0,D|0),this.set(n,s,i,o,a,c,f,g,p,A,P,C,N,L,F,D)}roundClean(){dl.fill(0),hl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ro.SHA512=J0;var G5=class extends J0{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},K5=class extends J0{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},V5=class extends J0{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};ro.sha512=(0,gE.wrapConstructor)(()=>new J0);ro.sha512_224=(0,gE.wrapConstructor)(()=>new G5);ro.sha512_256=(0,gE.wrapConstructor)(()=>new K5);ro.sha384=(0,gE.wrapConstructor)(()=>new V5)});var Uw=M(Rc=>{y();b();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.randomBytes=Rc.pbkdf2Sync=Rc.createHmac=Rc.createHash=void 0;var Yse=aE(),eie=j5(),z5=dE(),J5=FU(),Lw=ue();function tie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var LU=tie(),UU=LU.crypto||LU.msCrypto;function rie(r){switch(r){case"sha256":return z5.sha256.create();case"sha512":return J5.sha512.create()}(0,Lw.assertArgument)(!1,"invalid hashing algorithm name","algorithm",r)}Rc.createHash=rie;function nie(r,e){let t={sha256:z5.sha256,sha512:J5.sha512}[r];return(0,Lw.assertArgument)(t!=null,"invalid hmac algorithm","algorithm",r),Yse.hmac.create(t,e)}Rc.createHmac=nie;function sie(r,e,t,n,s){let i={sha256:z5.sha256,sha512:J5.sha512}[s];return(0,Lw.assertArgument)(i!=null,"invalid pbkdf2 algorithm","algorithm",s),(0,eie.pbkdf2)(i,r,e,{c:t,dkLen:n})}Rc.pbkdf2Sync=sie;function iie(r){(0,Lw.assert)(UU!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,Lw.assertArgument)(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);let e=new Uint8Array(r);return UU.getRandomValues(e),e}Rc.randomBytes=iie});var GU=M(pE=>{y();b();Object.defineProperty(pE,"__esModule",{value:!0});pE.computeHmac=void 0;var oie=Uw(),W5=ue(),DU=!1,qU=function(r,e,t){return(0,oie.createHmac)(r,e).update(t).digest()},HU=qU;function Dw(r,e,t){let n=(0,W5.getBytes)(e,"key"),s=(0,W5.getBytes)(t,"data");return(0,W5.hexlify)(HU(r,n,s))}pE.computeHmac=Dw;Dw._=qU;Dw.lock=function(){DU=!0};Dw.register=function(r){if(DU)throw new Error("computeHmac is locked");HU=r};Object.freeze(Dw)});var QU=M(fr=>{y();b();Object.defineProperty(fr,"__esModule",{value:!0});fr.shake256=fr.shake128=fr.keccak_512=fr.keccak_384=fr.keccak_256=fr.keccak_224=fr.sha3_512=fr.sha3_384=fr.sha3_256=fr.sha3_224=fr.Keccak=fr.keccakP=void 0;var Np=Sp(),Gw=H5(),Hw=Oa(),[zU,JU,WU]=[[],[],[]],aie=BigInt(0),qw=BigInt(1),cie=BigInt(2),uie=BigInt(7),fie=BigInt(256),lie=BigInt(113);for(let r=0,e=qw,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],zU.push(2*(5*n+t)),JU.push((r+1)*(r+2)/2%64);let s=aie;for(let i=0;i<7;i++)e=(e<<qw^(e>>uie)*lie)%fie,e&cie&&(s^=qw<<(qw<<BigInt(i))-qw);WU.push(s)}var[die,hie]=(0,Gw.split)(WU,!0),KU=(r,e,t)=>t>32?(0,Gw.rotlBH)(r,e,t):(0,Gw.rotlSH)(r,e,t),VU=(r,e,t)=>t>32?(0,Gw.rotlBL)(r,e,t):(0,Gw.rotlSL)(r,e,t);function $U(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,f=t[c],g=t[c+1],p=KU(f,g,1)^t[a],A=VU(f,g,1)^t[a+1];for(let P=0;P<50;P+=10)r[o+P]^=p,r[o+P+1]^=A}let s=r[2],i=r[3];for(let o=0;o<24;o++){let a=JU[o],c=KU(s,i,a),f=VU(s,i,a),g=zU[o];s=r[g],i=r[g+1],r[g]=c,r[g+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=die[n],r[1]^=hie[n]}t.fill(0)}fr.keccakP=$U;var W0=class extends Hw.Hash{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Np.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Hw.u32)(this.state)}keccak(){$U(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,Np.exists)(this);let{blockLen:t,state:n}=this;e=(0,Hw.toBytes)(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,Np.exists)(this,!1),(0,Np.bytes)(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Np.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Np.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new W0(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};fr.Keccak=W0;var gl=(r,e,t)=>(0,Hw.wrapConstructor)(()=>new W0(e,r,t));fr.sha3_224=gl(6,144,224/8);fr.sha3_256=gl(6,136,256/8);fr.sha3_384=gl(6,104,384/8);fr.sha3_512=gl(6,72,512/8);fr.keccak_224=gl(1,144,224/8);fr.keccak_256=gl(1,136,256/8);fr.keccak_384=gl(1,104,384/8);fr.keccak_512=gl(1,72,512/8);var ZU=(r,e,t)=>(0,Hw.wrapXOFConstructorWithOpts)((n={})=>new W0(e,r,n.dkLen===void 0?t:n.dkLen,!0));fr.shake128=ZU(31,168,128/8);fr.shake256=ZU(31,136,256/8)});var rD=M(mE=>{y();b();Object.defineProperty(mE,"__esModule",{value:!0});mE.keccak256=void 0;var gie=QU(),XU=ue(),YU=!1,eD=function(r){return(0,gie.keccak_256)(r)},tD=eD;function Kw(r){let e=(0,XU.getBytes)(r,"data");return(0,XU.hexlify)(tD(e))}mE.keccak256=Kw;Kw._=eD;Kw.lock=function(){YU=!0};Kw.register=function(r){if(YU)throw new TypeError("keccak256 is locked");tD=r};Object.freeze(Kw)});var oD=M(Cp=>{y();b();Object.defineProperty(Cp,"__esModule",{value:!0});Cp.ripemd160=Cp.RIPEMD160=void 0;var pie=fE(),mie=Oa(),yie=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),sD=Uint8Array.from({length:16},(r,e)=>e),bie=sD.map(r=>(9*r+5)%16),$5=[sD],Z5=[bie];for(let r=0;r<4;r++)for(let e of[$5,Z5])e.push(e[r].map(t=>yie[t]));var iD=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),xie=$5.map((r,e)=>r.map(t=>iD[e][t])),wie=Z5.map((r,e)=>r.map(t=>iD[e][t])),_ie=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),vie=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),yE=(r,e)=>r<<e|r>>>32-e;function nD(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}var bE=new Uint32Array(16),xE=class extends pie.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let P=0;P<16;P++,t+=4)bE[P]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,f=this.h3|0,g=f,p=this.h4|0,A=p;for(let P=0;P<5;P++){let C=4-P,N=_ie[P],L=vie[P],F=$5[P],D=Z5[P],q=xie[P],K=wie[P];for(let H=0;H<16;H++){let G=yE(n+nD(P,i,a,f)+bE[F[H]]+N,q[H])+p|0;n=p,p=f,f=yE(a,10)|0,a=i,i=G}for(let H=0;H<16;H++){let G=yE(s+nD(C,o,c,g)+bE[D[H]]+L,K[H])+A|0;s=A,A=g,g=yE(c,10)|0,c=o,o=G}}this.set(this.h1+a+g|0,this.h2+f+A|0,this.h3+p+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){bE.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Cp.RIPEMD160=xE;Cp.ripemd160=(0,mie.wrapConstructor)(()=>new xE)});var lD=M(wE=>{y();b();Object.defineProperty(wE,"__esModule",{value:!0});wE.ripemd160=void 0;var Pie=oD(),aD=ue(),cD=!1,uD=function(r){return(0,Pie.ripemd160)(r)},fD=uD;function Vw(r){let e=(0,aD.getBytes)(r,"data");return(0,aD.hexlify)(fD(e))}wE.ripemd160=Vw;Vw._=uD;Vw.lock=function(){cD=!0};Vw.register=function(r){if(cD)throw new TypeError("ripemd160 is locked");fD=r};Object.freeze(Vw)});var pD=M(_E=>{y();b();Object.defineProperty(_E,"__esModule",{value:!0});_E.pbkdf2=void 0;var Aie=Uw(),Q5=ue(),dD=!1,hD=function(r,e,t,n,s){return(0,Aie.pbkdf2Sync)(r,e,t,n,s)},gD=hD;function zw(r,e,t,n,s){let i=(0,Q5.getBytes)(r,"password"),o=(0,Q5.getBytes)(e,"salt");return(0,Q5.hexlify)(gD(i,o,t,n,s))}_E.pbkdf2=zw;zw._=hD;zw.lock=function(){dD=!0};zw.register=function(r){if(dD)throw new Error("pbkdf2 is locked");gD=r};Object.freeze(zw)});var xD=M(vE=>{y();b();Object.defineProperty(vE,"__esModule",{value:!0});vE.randomBytes=void 0;var Eie=Uw(),mD=!1,yD=function(r){return new Uint8Array((0,Eie.randomBytes)(r))},bD=yD;function Jw(r){return bD(r)}vE.randomBytes=Jw;Jw._=yD;Jw.lock=function(){mD=!0};Jw.register=function(r){if(mD)throw new Error("randomBytes is locked");bD=r};Object.freeze(Jw)});var ED=M(Mp=>{y();b();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.scryptAsync=Mp.scrypt=void 0;var Rp=Sp(),_D=dE(),vD=j5(),Bp=Oa(),Jt=(r,e)=>r<<e|r>>>32-e;function wD(r,e,t,n,s,i){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],f=r[e++]^t[n++],g=r[e++]^t[n++],p=r[e++]^t[n++],A=r[e++]^t[n++],P=r[e++]^t[n++],C=r[e++]^t[n++],N=r[e++]^t[n++],L=r[e++]^t[n++],F=r[e++]^t[n++],D=r[e++]^t[n++],q=r[e++]^t[n++],K=r[e++]^t[n++],H=r[e++]^t[n++],G=o,V=a,J=c,ae=f,se=g,$=p,le=A,S=P,u=C,l=N,m=L,x=F,_=D,k=q,R=K,v=H;for(let d=0;d<8;d+=2)se^=Jt(G+_|0,7),u^=Jt(se+G|0,9),_^=Jt(u+se|0,13),G^=Jt(_+u|0,18),l^=Jt($+V|0,7),k^=Jt(l+$|0,9),V^=Jt(k+l|0,13),$^=Jt(V+k|0,18),R^=Jt(m+le|0,7),J^=Jt(R+m|0,9),le^=Jt(J+R|0,13),m^=Jt(le+J|0,18),ae^=Jt(v+x|0,7),S^=Jt(ae+v|0,9),x^=Jt(S+ae|0,13),v^=Jt(x+S|0,18),V^=Jt(G+ae|0,7),J^=Jt(V+G|0,9),ae^=Jt(J+V|0,13),G^=Jt(ae+J|0,18),le^=Jt($+se|0,7),S^=Jt(le+$|0,9),se^=Jt(S+le|0,13),$^=Jt(se+S|0,18),x^=Jt(m+l|0,7),u^=Jt(x+m|0,9),l^=Jt(u+x|0,13),m^=Jt(l+u|0,18),_^=Jt(v+R|0,7),k^=Jt(_+v|0,9),R^=Jt(k+_|0,13),v^=Jt(R+k|0,18);s[i++]=o+G|0,s[i++]=a+V|0,s[i++]=c+J|0,s[i++]=f+ae|0,s[i++]=g+se|0,s[i++]=p+$|0,s[i++]=A+le|0,s[i++]=P+S|0,s[i++]=C+u|0,s[i++]=N+l|0,s[i++]=L+m|0,s[i++]=F+x|0,s[i++]=D+_|0,s[i++]=q+k|0,s[i++]=K+R|0,s[i++]=H+v|0}function Ip(r,e,t,n,s){let i=n+0,o=n+16*s;for(let a=0;a<16;a++)t[o+a]=r[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)wD(t,o,r,e,t,i),a>0&&(o+=16),wD(t,i,r,e+=16,t,o)}function PD(r,e,t){let n=(0,Bp.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:f,onProgress:g}=n;if((0,Rp.number)(s),(0,Rp.number)(i),(0,Rp.number)(o),(0,Rp.number)(a),(0,Rp.number)(c),(0,Rp.number)(f),g!==void 0&&typeof g!="function")throw new Error("progressCb should be function");let p=128*i,A=p/4;if(s<=1||(s&s-1)!==0||s>=2**(p/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let P=p*(s+o);if(P>f)throw new Error(`Scrypt: parameters too large, ${P} (128 * r * (N + p)) > ${f} (maxmem)`);let C=(0,vD.pbkdf2)(_D.sha256,r,e,{c:1,dkLen:p*o}),N=(0,Bp.u32)(C),L=(0,Bp.u32)(new Uint8Array(p*s)),F=(0,Bp.u32)(new Uint8Array(p)),D=()=>{};if(g){let q=2*s*o,K=Math.max(Math.floor(q/1e4),1),H=0;D=()=>{H++,g&&(!(H%K)||H===q)&&g(H/q)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:A,V:L,B32:N,B:C,tmp:F,blockMixCb:D,asyncTick:c}}function AD(r,e,t,n,s){let i=(0,vD.pbkdf2)(_D.sha256,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function Sie(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A}=PD(r,e,t);for(let P=0;P<i;P++){let C=a*P;for(let N=0;N<a;N++)c[N]=f[C+N];for(let N=0,L=0;N<n-1;N++)Ip(c,L,c,L+=a,s),A();Ip(c,(n-1)*a,f,C,s),A();for(let N=0;N<n;N++){let L=f[C+a-16]%n;for(let F=0;F<a;F++)p[F]=f[C+F]^c[L*a+F];Ip(p,0,f,C,s),A()}}return AD(r,o,g,c,p)}Mp.scrypt=Sie;async function kie(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A,asyncTick:P}=PD(r,e,t);for(let C=0;C<i;C++){let N=a*C;for(let F=0;F<a;F++)c[F]=f[N+F];let L=0;await(0,Bp.asyncLoop)(n-1,P,()=>{Ip(c,L,c,L+=a,s),A()}),Ip(c,(n-1)*a,f,N,s),A(),await(0,Bp.asyncLoop)(n,P,()=>{let F=f[N+a-16]%n;for(let D=0;D<a;D++)p[D]=f[N+D]^c[F*a+D];Ip(p,0,f,N,s),A()})}return AD(r,o,g,c,p)}Mp.scryptAsync=kie});var BD=M(Fp=>{y();b();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.scryptSync=Fp.scrypt=void 0;var SD=ED(),jp=ue(),kD=!1,OD=!1,TD=async function(r,e,t,n,s,i,o){return await(0,SD.scryptAsync)(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:o})},ND=function(r,e,t,n,s,i){return(0,SD.scrypt)(r,e,{N:t,r:n,p:s,dkLen:i})},CD=TD,RD=ND;async function Ww(r,e,t,n,s,i,o){let a=(0,jp.getBytes)(r,"passwd"),c=(0,jp.getBytes)(e,"salt");return(0,jp.hexlify)(await CD(a,c,t,n,s,i,o))}Fp.scrypt=Ww;Ww._=TD;Ww.lock=function(){OD=!0};Ww.register=function(r){if(OD)throw new Error("scrypt is locked");CD=r};Object.freeze(Ww);function $w(r,e,t,n,s,i){let o=(0,jp.getBytes)(r,"passwd"),a=(0,jp.getBytes)(e,"salt");return(0,jp.hexlify)(RD(o,a,t,n,s,i))}Fp.scryptSync=$w;$w._=ND;$w.lock=function(){kD=!0};$w.register=function(r){if(kD)throw new Error("scryptSync is locked");RD=r};Object.freeze($w)});var qD=M(Lp=>{y();b();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.sha512=Lp.sha256=void 0;var ID=Uw(),PE=ue(),MD=function(r){return(0,ID.createHash)("sha256").update(r).digest()},jD=function(r){return(0,ID.createHash)("sha512").update(r).digest()},FD=MD,LD=jD,UD=!1,DD=!1;function Up(r){let e=(0,PE.getBytes)(r,"data");return(0,PE.hexlify)(FD(e))}Lp.sha256=Up;Up._=MD;Up.lock=function(){UD=!0};Up.register=function(r){if(UD)throw new Error("sha256 is locked");FD=r};Object.freeze(Up);function AE(r){let e=(0,PE.getBytes)(r,"data");return(0,PE.hexlify)(LD(e))}Lp.sha512=AE;AE._=jD;AE.lock=function(){DD=!0};AE.register=function(r){if(DD)throw new Error("sha512 is locked");LD=r};Object.freeze(Up)});var $0=M(Pt=>{y();b();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.validateObject=Pt.createHmacDrbg=Pt.bitMask=Pt.bitSet=Pt.bitGet=Pt.bitLen=Pt.utf8ToBytes=Pt.equalBytes=Pt.concatBytes=Pt.ensureBytes=Pt.numberToVarBytesBE=Pt.numberToBytesLE=Pt.numberToBytesBE=Pt.bytesToNumberLE=Pt.bytesToNumberBE=Pt.hexToBytes=Pt.hexToNumber=Pt.numberToHexUnpadded=Pt.bytesToHex=void 0;var GD=BigInt(0),EE=BigInt(1),Oie=BigInt(2),SE=r=>r instanceof Uint8Array,Tie=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Y5(r){if(!SE(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Tie[r[t]];return e}Pt.bytesToHex=Y5;function KD(r){let e=r.toString(16);return e.length&1?`0${e}`:e}Pt.numberToHexUnpadded=KD;function eN(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}Pt.hexToNumber=eN;function kE(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}Pt.hexToBytes=kE;function Nie(r){return eN(Y5(r))}Pt.bytesToNumberBE=Nie;function Cie(r){if(!SE(r))throw new Error("Uint8Array expected");return eN(Y5(Uint8Array.from(r).reverse()))}Pt.bytesToNumberLE=Cie;function VD(r,e){return kE(r.toString(16).padStart(e*2,"0"))}Pt.numberToBytesBE=VD;function Rie(r,e){return VD(r,e).reverse()}Pt.numberToBytesLE=Rie;function Bie(r){return kE(KD(r))}Pt.numberToVarBytesBE=Bie;function Iie(r,e,t){let n;if(typeof e=="string")try{n=kE(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(SE(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}Pt.ensureBytes=Iie;function zD(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!SE(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}Pt.concatBytes=zD;function Mie(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}Pt.equalBytes=Mie;function jie(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}Pt.utf8ToBytes=jie;function Fie(r){let e;for(e=0;r>GD;r>>=EE,e+=1);return e}Pt.bitLen=Fie;function Lie(r,e){return r>>BigInt(e)&EE}Pt.bitGet=Lie;var Uie=(r,e,t)=>r|(t?EE:GD)<<BigInt(e);Pt.bitSet=Uie;var Die=r=>(Oie<<BigInt(r-1))-EE;Pt.bitMask=Die;var X5=r=>new Uint8Array(r),HD=r=>Uint8Array.from(r);function qie(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=X5(r),s=X5(r),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...p)=>t(s,n,...p),c=(p=X5())=>{s=a(HD([0]),p),n=a(),p.length!==0&&(s=a(HD([1]),p),n=a())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,A=[];for(;p<e;){n=a();let P=n.slice();A.push(P),p+=n.length}return zD(...A)};return(p,A)=>{o(),c(p);let P;for(;!(P=A(f()));)c();return o(),P}}Pt.createHmacDrbg=qie;var Hie={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Gie(r,e,t={}){let n=(s,i,o)=>{let a=Hie[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(t))n(s,i,!0);return r}Pt.validateObject=Gie});var Zw=M(Ue=>{y();b();Object.defineProperty(Ue,"__esModule",{value:!0});Ue.mapHashToField=Ue.getMinHashLength=Ue.getFieldBytesLength=Ue.hashToPrivateScalar=Ue.FpSqrtEven=Ue.FpSqrtOdd=Ue.Field=Ue.nLength=Ue.FpIsSquare=Ue.FpDiv=Ue.FpInvertBatch=Ue.FpPow=Ue.validateField=Ue.isNegativeLE=Ue.FpSqrt=Ue.tonelliShanks=Ue.invert=Ue.pow2=Ue.pow=Ue.mod=void 0;var Ni=$0(),xn=BigInt(0),cr=BigInt(1),pl=BigInt(2),Kie=BigInt(3),tN=BigInt(4),JD=BigInt(5),WD=BigInt(8),Vie=BigInt(9),zie=BigInt(16);function Ti(r,e){let t=r%e;return t>=xn?t:e+t}Ue.mod=Ti;function $D(r,e,t){if(t<=xn||e<xn)throw new Error("Expected power/modulo > 0");if(t===cr)return xn;let n=cr;for(;e>xn;)e&cr&&(n=n*r%t),r=r*r%t,e>>=cr;return n}Ue.pow=$D;function Jie(r,e,t){let n=r;for(;e-- >xn;)n*=n,n%=t;return n}Ue.pow2=Jie;function OE(r,e){if(r===xn||e<=xn)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Ti(r,e),n=e,s=xn,i=cr,o=cr,a=xn;for(;t!==xn;){let f=n/t,g=n%t,p=s-o*f,A=i-a*f;n=t,t=g,s=o,i=a,o=p,a=A}if(n!==cr)throw new Error("invert: does not exist");return Ti(s,e)}Ue.invert=OE;function ZD(r){let e=(r-cr)/pl,t,n,s;for(t=r-cr,n=0;t%pl===xn;t/=pl,n++);for(s=pl;s<r&&$D(s,e,r)!==r-cr;s++);if(n===1){let o=(r+cr)/tN;return function(c,f){let g=c.pow(f,o);if(!c.eql(c.sqr(g),f))throw new Error("Cannot find square root");return g}}let i=(t+cr)/pl;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,g=a.pow(a.mul(a.ONE,s),t),p=a.pow(c,i),A=a.pow(c,t);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let P=1;for(let N=a.sqr(A);P<f&&!a.eql(N,a.ONE);P++)N=a.sqr(N);let C=a.pow(g,cr<<BigInt(f-P-1));g=a.sqr(C),p=a.mul(p,C),A=a.mul(A,g),f=P}return p}}Ue.tonelliShanks=ZD;function QD(r){if(r%tN===Kie){let e=(r+cr)/tN;return function(n,s){let i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%WD===JD){let e=(r-JD)/WD;return function(n,s){let i=n.mul(s,pl),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,pl),o),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f}}return r%zie,ZD(r)}Ue.FpSqrt=QD;var Wie=(r,e)=>(Ti(r,e)&cr)===cr;Ue.isNegativeLE=Wie;var $ie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zie(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=$ie.reduce((n,s)=>(n[s]="function",n),e);return(0,Ni.validateObject)(r,t)}Ue.validateField=Zie;function XD(r,e,t){if(t<xn)throw new Error("Expected power > 0");if(t===xn)return r.ONE;if(t===cr)return e;let n=r.ONE,s=e;for(;t>xn;)t&cr&&(n=r.mul(n,s)),s=r.sqr(s),t>>=cr;return n}Ue.FpPow=XD;function YD(r,e){let t=new Array(e.length),n=e.reduce((i,o,a)=>r.is0(o)?i:(t[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,a)=>r.is0(o)?i:(t[a]=r.mul(i,t[a]),r.mul(i,o)),s),t}Ue.FpInvertBatch=YD;function Qie(r,e,t){return r.mul(e,typeof t=="bigint"?OE(t,r.ORDER):r.inv(t))}Ue.FpDiv=Qie;function Xie(r){let e=(r.ORDER-cr)/pl;return t=>{let n=r.pow(t,e);return r.eql(n,r.ZERO)||r.eql(n,r.ONE)}}Ue.FpIsSquare=Xie;function rN(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}Ue.nLength=rN;function Yie(r,e,t=!1,n={}){if(r<=xn)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:s,nByteLength:i}=rN(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=QD(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:(0,Ni.bitMask)(s),ZERO:xn,ONE:cr,create:c=>Ti(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return xn<=c&&c<r},is0:c=>c===xn,isOdd:c=>(c&cr)===cr,neg:c=>Ti(-c,r),eql:(c,f)=>c===f,sqr:c=>Ti(c*c,r),add:(c,f)=>Ti(c+f,r),sub:(c,f)=>Ti(c-f,r),mul:(c,f)=>Ti(c*f,r),pow:(c,f)=>XD(a,c,f),div:(c,f)=>Ti(c*OE(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>OE(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>YD(a,c),cmov:(c,f,g)=>g?f:c,toBytes:c=>t?(0,Ni.numberToBytesLE)(c,i):(0,Ni.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,Ni.bytesToNumberLE)(c):(0,Ni.bytesToNumberBE)(c)}});return Object.freeze(a)}Ue.Field=Yie;function eoe(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?t:r.neg(t)}Ue.FpSqrtOdd=eoe;function toe(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?r.neg(t):t}Ue.FpSqrtEven=toe;function roe(r,e,t=!1){r=(0,Ni.ensureBytes)("privateHash",r);let n=r.length,s=rN(e).nByteLength+8;if(s<24||n<s||n>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${n}`);let i=t?(0,Ni.bytesToNumberLE)(r):(0,Ni.bytesToNumberBE)(r);return Ti(i,e-cr)+cr}Ue.hashToPrivateScalar=roe;function nN(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}Ue.getFieldBytesLength=nN;function eq(r){let e=nN(r);return e+Math.ceil(e/2)}Ue.getMinHashLength=eq;function noe(r,e,t=!1){let n=r.length,s=nN(e),i=eq(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let o=t?(0,Ni.bytesToNumberBE)(r):(0,Ni.bytesToNumberLE)(r),a=Ti(o,e-cr)+cr;return t?(0,Ni.numberToBytesLE)(a,s):(0,Ni.numberToBytesBE)(a,s)}Ue.mapHashToField=noe});var rq=M(Dp=>{y();b();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.validateBasic=Dp.wNAF=void 0;var tq=Zw(),soe=$0(),ioe=BigInt(0),sN=BigInt(1);function ooe(r,e){let t=(s,i)=>{let o=i.negate();return s?o:i},n=s=>{let i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=r.ZERO,a=s;for(;i>ioe;)i&sN&&(o=o.add(a)),a=a.double(),i>>=sN;return o},precomputeWindow(s,i){let{windows:o,windowSize:a}=n(i),c=[],f=s,g=f;for(let p=0;p<o;p++){g=f,c.push(g);for(let A=1;A<a;A++)g=g.add(f),c.push(g);f=g.double()}return c},wNAF(s,i,o){let{windows:a,windowSize:c}=n(s),f=r.ZERO,g=r.BASE,p=BigInt(2**s-1),A=2**s,P=BigInt(s);for(let C=0;C<a;C++){let N=C*c,L=Number(o&p);o>>=P,L>c&&(L-=A,o+=sN);let F=N,D=N+Math.abs(L)-1,q=C%2!==0,K=L<0;L===0?g=g.add(t(q,i[F])):f=f.add(t(K,i[D]))}return{p:f,f:g}},wNAFCached(s,i,o,a){let c=s._WINDOW_SIZE||1,f=i.get(s);return f||(f=this.precomputeWindow(s,c),c!==1&&i.set(s,a(f))),this.wNAF(c,f,o)}}}Dp.wNAF=ooe;function aoe(r){return(0,tq.validateField)(r.Fp),(0,soe.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,tq.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}Dp.validateBasic=aoe});var oN=M(_n=>{y();b();Object.defineProperty(_n,"__esModule",{value:!0});_n.mapToCurveSimpleSWU=_n.SWUFpSqrtRatio=_n.weierstrass=_n.weierstrassPoints=_n.DER=void 0;var qp=Zw(),wn=$0(),Bc=$0(),iN=rq();function coe(r){let e=(0,iN.validateBasic)(r);wn.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:uoe,hexToBytes:foe}=wn;_n.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=_n.DER;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:uoe(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=_n.DER,t=typeof r=="string"?foe(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:s,l:i}=_n.DER._parseInt(t.subarray(2)),{d:o,l:a}=_n.DER._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let g=f.toString(16);return g.length&1?`0${g}`:g},n=e(t(r.s)),s=e(t(r.r)),i=n.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${n}`}};var Ta=BigInt(0),Hr=BigInt(1),ml=BigInt(2),TE=BigInt(3),nq=BigInt(4);function sq(r){let e=coe(r),{Fp:t}=e,n=e.toBytes||((C,N,L)=>{let F=N.toAffine();return wn.concatBytes(Uint8Array.from([4]),t.toBytes(F.x),t.toBytes(F.y))}),s=e.fromBytes||(C=>{let N=C.subarray(1),L=t.fromBytes(N.subarray(0,t.BYTES)),F=t.fromBytes(N.subarray(t.BYTES,2*t.BYTES));return{x:L,y:F}});function i(C){let{a:N,b:L}=e,F=t.sqr(C),D=t.mul(F,C);return t.add(t.add(D,t.mul(C,N)),L)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(C){return typeof C=="bigint"&&Ta<C&&C<e.n}function a(C){if(!o(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(C){let{allowedPrivateKeyLengths:N,nByteLength:L,wrapPrivateKey:F,n:D}=e;if(N&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=wn.bytesToHex(C)),typeof C!="string"||!N.includes(C.length))throw new Error("Invalid key");C=C.padStart(L*2,"0")}let q;try{q=typeof C=="bigint"?C:wn.bytesToNumberBE((0,Bc.ensureBytes)("private key",C,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof C}`)}return F&&(q=qp.mod(q,D)),a(q),q}let f=new Map;function g(C){if(!(C instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(N,L,F){if(this.px=N,this.py=L,this.pz=F,N==null||!t.isValid(N))throw new Error("x required");if(L==null||!t.isValid(L))throw new Error("y required");if(F==null||!t.isValid(F))throw new Error("z required")}static fromAffine(N){let{x:L,y:F}=N||{};if(!N||!t.isValid(L)||!t.isValid(F))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");let D=q=>t.eql(q,t.ZERO);return D(L)&&D(F)?p.ZERO:new p(L,F,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let L=t.invertBatch(N.map(F=>F.pz));return N.map((F,D)=>F.toAffine(L[D])).map(p.fromAffine)}static fromHex(N){let L=p.fromAffine(s((0,Bc.ensureBytes)("pointHex",N)));return L.assertValidity(),L}static fromPrivateKey(N){return p.BASE.multiply(c(N))}_setWindowSize(N){this._WINDOW_SIZE=N,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:L}=this.toAffine();if(!t.isValid(N)||!t.isValid(L))throw new Error("bad point: x or y not FE");let F=t.sqr(L),D=i(N);if(!t.eql(F,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(t.isOdd)return!t.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);let{px:L,py:F,pz:D}=this,{px:q,py:K,pz:H}=N,G=t.eql(t.mul(L,H),t.mul(q,D)),V=t.eql(t.mul(F,H),t.mul(K,D));return G&&V}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){let{a:N,b:L}=e,F=t.mul(L,TE),{px:D,py:q,pz:K}=this,H=t.ZERO,G=t.ZERO,V=t.ZERO,J=t.mul(D,D),ae=t.mul(q,q),se=t.mul(K,K),$=t.mul(D,q);return $=t.add($,$),V=t.mul(D,K),V=t.add(V,V),H=t.mul(N,V),G=t.mul(F,se),G=t.add(H,G),H=t.sub(ae,G),G=t.add(ae,G),G=t.mul(H,G),H=t.mul($,H),V=t.mul(F,V),se=t.mul(N,se),$=t.sub(J,se),$=t.mul(N,$),$=t.add($,V),V=t.add(J,J),J=t.add(V,J),J=t.add(J,se),J=t.mul(J,$),G=t.add(G,J),se=t.mul(q,K),se=t.add(se,se),J=t.mul(se,$),H=t.sub(H,J),V=t.mul(se,ae),V=t.add(V,V),V=t.add(V,V),new p(H,G,V)}add(N){g(N);let{px:L,py:F,pz:D}=this,{px:q,py:K,pz:H}=N,G=t.ZERO,V=t.ZERO,J=t.ZERO,ae=e.a,se=t.mul(e.b,TE),$=t.mul(L,q),le=t.mul(F,K),S=t.mul(D,H),u=t.add(L,F),l=t.add(q,K);u=t.mul(u,l),l=t.add($,le),u=t.sub(u,l),l=t.add(L,D);let m=t.add(q,H);return l=t.mul(l,m),m=t.add($,S),l=t.sub(l,m),m=t.add(F,D),G=t.add(K,H),m=t.mul(m,G),G=t.add(le,S),m=t.sub(m,G),J=t.mul(ae,l),G=t.mul(se,S),J=t.add(G,J),G=t.sub(le,J),J=t.add(le,J),V=t.mul(G,J),le=t.add($,$),le=t.add(le,$),S=t.mul(ae,S),l=t.mul(se,l),le=t.add(le,S),S=t.sub($,S),S=t.mul(ae,S),l=t.add(l,S),$=t.mul(le,l),V=t.add(V,$),$=t.mul(m,l),G=t.mul(u,G),G=t.sub(G,$),$=t.mul(u,le),J=t.mul(m,J),J=t.add(J,$),new p(G,V,J)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return P.wNAFCached(this,f,N,L=>{let F=t.invertBatch(L.map(D=>D.pz));return L.map((D,q)=>D.toAffine(F[q])).map(p.fromAffine)})}multiplyUnsafe(N){let L=p.ZERO;if(N===Ta)return L;if(a(N),N===Hr)return this;let{endo:F}=e;if(!F)return P.unsafeLadder(this,N);let{k1neg:D,k1:q,k2neg:K,k2:H}=F.splitScalar(N),G=L,V=L,J=this;for(;q>Ta||H>Ta;)q&Hr&&(G=G.add(J)),H&Hr&&(V=V.add(J)),J=J.double(),q>>=Hr,H>>=Hr;return D&&(G=G.negate()),K&&(V=V.negate()),V=new p(t.mul(V.px,F.beta),V.py,V.pz),G.add(V)}multiply(N){a(N);let L=N,F,D,{endo:q}=e;if(q){let{k1neg:K,k1:H,k2neg:G,k2:V}=q.splitScalar(L),{p:J,f:ae}=this.wNAF(H),{p:se,f:$}=this.wNAF(V);J=P.constTimeNegate(K,J),se=P.constTimeNegate(G,se),se=new p(t.mul(se.px,q.beta),se.py,se.pz),F=J.add(se),D=ae.add($)}else{let{p:K,f:H}=this.wNAF(L);F=K,D=H}return p.normalizeZ([F,D])[0]}multiplyAndAddUnsafe(N,L,F){let D=p.BASE,q=(H,G)=>G===Ta||G===Hr||!H.equals(D)?H.multiplyUnsafe(G):H.multiply(G),K=q(this,L).add(q(N,F));return K.is0()?void 0:K}toAffine(N){let{px:L,py:F,pz:D}=this,q=this.is0();N==null&&(N=q?t.ONE:t.inv(D));let K=t.mul(L,N),H=t.mul(F,N),G=t.mul(D,N);if(q)return{x:t.ZERO,y:t.ZERO};if(!t.eql(G,t.ONE))throw new Error("invZ was invalid");return{x:K,y:H}}isTorsionFree(){let{h:N,isTorsionFree:L}=e;if(N===Hr)return!0;if(L)return L(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:L}=e;return N===Hr?this:L?L(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(p,this,N)}toHex(N=!0){return wn.bytesToHex(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);let A=e.nBitLength,P=(0,iN.wNAF)(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}_n.weierstrassPoints=sq;function loe(r){let e=(0,iN.validateBasic)(r);return wn.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function doe(r){let e=loe(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(l){return Ta<l&&l<t.ORDER}function a(l){return qp.mod(l,n)}function c(l){return qp.invert(l,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:A}=sq({...e,toBytes(l,m,x){let _=m.toAffine(),k=t.toBytes(_.x),R=wn.concatBytes;return x?R(Uint8Array.from([m.hasEvenY()?2:3]),k):R(Uint8Array.from([4]),k,t.toBytes(_.y))},fromBytes(l){let m=l.length,x=l[0],_=l.subarray(1);if(m===s&&(x===2||x===3)){let k=wn.bytesToNumberBE(_);if(!o(k))throw new Error("Point is not on curve");let R=p(k),v=t.sqrt(R),d=(v&Hr)===Hr;return(x&1)===1!==d&&(v=t.neg(v)),{x:k,y:v}}else if(m===i&&x===4){let k=t.fromBytes(_.subarray(0,t.BYTES)),R=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:k,y:R}}else throw new Error(`Point of length ${m} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),P=l=>wn.bytesToHex(wn.numberToBytesBE(l,e.nByteLength));function C(l){let m=n>>Hr;return l>m}function N(l){return C(l)?a(-l):l}let L=(l,m,x)=>wn.bytesToNumberBE(l.slice(m,x));class F{constructor(m,x,_){this.r=m,this.s=x,this.recovery=_,this.assertValidity()}static fromCompact(m){let x=e.nByteLength;return m=(0,Bc.ensureBytes)("compactSignature",m,x*2),new F(L(m,0,x),L(m,x,2*x))}static fromDER(m){let{r:x,s:_}=_n.DER.toSig((0,Bc.ensureBytes)("DER",m));return new F(x,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new F(this.r,this.s,m)}recoverPublicKey(m){let{r:x,s:_,recovery:k}=this,R=V((0,Bc.ensureBytes)("msgHash",m));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let v=k===2||k===3?x+e.n:x;if(v>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let d=(k&1)===0?"02":"03",E=f.fromHex(d+P(v)),z=c(v),W=a(-R*z),Q=a(_*z),ee=f.BASE.multiplyAndAddUnsafe(E,W,Q);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return wn.hexToBytes(this.toDERHex())}toDERHex(){return _n.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wn.hexToBytes(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}let D={isValidPrivateKey(l){try{return g(l),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let l=qp.getMinHashLength(e.n);return qp.mapHashToField(e.randomBytes(l),e.n)},precompute(l=8,m=f.BASE){return m._setWindowSize(l),m.multiply(BigInt(3)),m}};function q(l,m=!0){return f.fromPrivateKey(l).toRawBytes(m)}function K(l){let m=l instanceof Uint8Array,x=typeof l=="string",_=(m||x)&&l.length;return m?_===s||_===i:x?_===2*s||_===2*i:l instanceof f}function H(l,m,x=!0){if(K(l))throw new Error("first arg must be private key");if(!K(m))throw new Error("second arg must be public key");return f.fromHex(m).multiply(g(l)).toRawBytes(x)}let G=e.bits2int||function(l){let m=wn.bytesToNumberBE(l),x=l.length*8-e.nBitLength;return x>0?m>>BigInt(x):m},V=e.bits2int_modN||function(l){return a(G(l))},J=wn.bitMask(e.nBitLength);function ae(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(Ta<=l&&l<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return wn.numberToBytesBE(l,e.nByteLength)}function se(l,m,x=$){if(["recovered","canonical"].some(he=>he in x))throw new Error("sign() legacy options not supported");let{hash:_,randomBytes:k}=e,{lowS:R,prehash:v,extraEntropy:d}=x;R==null&&(R=!0),l=(0,Bc.ensureBytes)("msgHash",l),v&&(l=(0,Bc.ensureBytes)("prehashed msgHash",_(l)));let E=V(l),z=g(m),W=[ae(z),ae(E)];if(d!=null){let he=d===!0?k(t.BYTES):d;W.push((0,Bc.ensureBytes)("extraEntropy",he))}let Q=wn.concatBytes(...W),ee=E;function de(he){let tr=G(he);if(!A(tr))return;let be=c(tr),fe=f.BASE.multiply(tr).toAffine(),bn=a(fe.x);if(bn===Ta)return;let Se=a(be*a(ee+bn*z));if(Se===Ta)return;let Oe=(fe.x===bn?0:2)|Number(fe.y&Hr),oa=Se;return R&&C(Se)&&(oa=N(Se),Oe^=1),new F(bn,oa,Oe)}return{seed:Q,k2sig:de}}let $={lowS:e.lowS,prehash:!1},le={lowS:e.lowS,prehash:!1};function S(l,m,x=$){let{seed:_,k2sig:k}=se(l,m,x),R=e;return wn.createHmacDrbg(R.hash.outputLen,R.nByteLength,R.hmac)(_,k)}f.BASE._setWindowSize(8);function u(l,m,x,_=le){let k=l;if(m=(0,Bc.ensureBytes)("msgHash",m),x=(0,Bc.ensureBytes)("publicKey",x),"strict"in _)throw new Error("options.strict was renamed to lowS");let{lowS:R,prehash:v}=_,d,E;try{if(typeof k=="string"||k instanceof Uint8Array)try{d=F.fromDER(k)}catch(fe){if(!(fe instanceof _n.DER.Err))throw fe;d=F.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){let{r:fe,s:bn}=k;d=new F(fe,bn)}else throw new Error("PARSE");E=f.fromHex(x)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&d.hasHighS())return!1;v&&(m=e.hash(m));let{r:z,s:W}=d,Q=V(m),ee=c(W),de=a(Q*ee),he=a(z*ee),tr=f.BASE.multiplyAndAddUnsafe(E,de,he)?.toAffine();return tr?a(tr.x)===z:!1}return{CURVE:e,getPublicKey:q,getSharedSecret:H,sign:S,verify:u,ProjectivePoint:f,Signature:F,utils:D}}_n.weierstrass=doe;function iq(r,e){let t=r.ORDER,n=Ta;for(let C=t-Hr;C%ml===Ta;C/=ml)n+=Hr;let s=n,i=ml<<s-Hr-Hr,o=i*ml,a=(t-Hr)/o,c=(a-Hr)/ml,f=o-Hr,g=i,p=r.pow(e,a),A=r.pow(e,(a+Hr)/ml),P=(C,N)=>{let L=p,F=r.pow(N,f),D=r.sqr(F);D=r.mul(D,N);let q=r.mul(C,D);q=r.pow(q,c),q=r.mul(q,F),F=r.mul(q,N),D=r.mul(q,C);let K=r.mul(D,F);q=r.pow(K,g);let H=r.eql(q,r.ONE);F=r.mul(D,A),q=r.mul(K,L),D=r.cmov(F,D,H),K=r.cmov(q,K,H);for(let G=s;G>Hr;G--){let V=G-ml;V=ml<<V-Hr;let J=r.pow(K,V),ae=r.eql(J,r.ONE);F=r.mul(D,L),L=r.mul(L,L),J=r.mul(K,L),D=r.cmov(F,D,ae),K=r.cmov(J,K,ae)}return{isValid:H,value:D}};if(r.ORDER%nq===TE){let C=(r.ORDER-TE)/nq,N=r.sqrt(r.neg(e));P=(L,F)=>{let D=r.sqr(F),q=r.mul(L,F);D=r.mul(D,q);let K=r.pow(D,C);K=r.mul(K,q);let H=r.mul(K,N),G=r.mul(r.sqr(K),F),V=r.eql(G,L),J=r.cmov(H,K,V);return{isValid:V,value:J}}}return P}_n.SWUFpSqrtRatio=iq;function hoe(r,e){if(qp.validateField(r),!r.isValid(e.A)||!r.isValid(e.B)||!r.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=iq(r,e.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,o,a,c,f,g,p;s=r.sqr(n),s=r.mul(s,e.Z),i=r.sqr(s),i=r.add(i,s),o=r.add(i,r.ONE),o=r.mul(o,e.B),a=r.cmov(e.Z,r.neg(i),!r.eql(i,r.ZERO)),a=r.mul(a,e.A),i=r.sqr(o),f=r.sqr(a),c=r.mul(f,e.A),i=r.add(i,c),i=r.mul(i,o),f=r.mul(f,a),c=r.mul(f,e.B),i=r.add(i,c),g=r.mul(s,o);let{isValid:A,value:P}=t(i,f);p=r.mul(s,n),p=r.mul(p,P),g=r.cmov(g,o,A),p=r.cmov(p,P,A);let C=r.isOdd(n)===r.isOdd(p);return p=r.cmov(r.neg(p),p,C),g=r.div(g,a),{x:g,y:p}}}_n.mapToCurveSimpleSWU=hoe});var cq=M(no=>{y();b();Object.defineProperty(no,"__esModule",{value:!0});no.createHasher=no.isogenyMap=no.hash_to_field=no.expand_message_xof=no.expand_message_xmd=void 0;var goe=Zw(),Na=$0();function poe(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return(0,Na.utf8ToBytes)(r);throw new Error("DST must be Uint8Array or string")}var moe=Na.bytesToNumberBE;function yl(r,e){if(r<0||r>=1<<8*e)throw new Error(`bad I2OSP call: value=${r} length=${e}`);let t=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)t[n]=r&255,r>>>=8;return new Uint8Array(t)}function yoe(r,e){let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}function Qw(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected")}function cN(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function oq(r,e,t,n){Qw(r),Qw(e),cN(t),e.length>255&&(e=n((0,Na.concatBytes)((0,Na.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:s,blockLen:i}=n,o=Math.ceil(t/s);if(o>255)throw new Error("Invalid xmd length");let a=(0,Na.concatBytes)(e,yl(e.length,1)),c=yl(0,i),f=yl(t,2),g=new Array(o),p=n((0,Na.concatBytes)(c,r,f,yl(0,1),a));g[0]=n((0,Na.concatBytes)(p,yl(1,1),a));for(let P=1;P<=o;P++){let C=[yoe(p,g[P-1]),yl(P+1,1),a];g[P]=n((0,Na.concatBytes)(...C))}return(0,Na.concatBytes)(...g).slice(0,t)}no.expand_message_xmd=oq;function aq(r,e,t,n,s){if(Qw(r),Qw(e),cN(t),e.length>255){let i=Math.ceil(2*n/8);e=s.create({dkLen:i}).update((0,Na.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(r).update(yl(t,2)).update(e).update(yl(e.length,1)).digest()}no.expand_message_xof=aq;function aN(r,e,t){(0,Na.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:i,hash:o,expand:a,DST:c}=t;Qw(r),cN(e);let f=poe(c),g=n.toString(2).length,p=Math.ceil((g+s)/8),A=e*i*p,P;if(a==="xmd")P=oq(r,f,A,o);else if(a==="xof")P=aq(r,f,A,s,o);else if(a==="_internal_pass")P=r;else throw new Error('expand must be "xmd" or "xof"');let C=new Array(e);for(let N=0;N<e;N++){let L=new Array(i);for(let F=0;F<i;F++){let D=p*(F+N*i),q=P.subarray(D,D+p);L[F]=(0,goe.mod)(moe(q),n)}C[N]=L}return C}no.hash_to_field=aN;function boe(r,e){let t=e.map(n=>Array.from(n).reverse());return(n,s)=>{let[i,o,a,c]=t.map(f=>f.reduce((g,p)=>r.add(r.mul(g,n),p)));return n=r.div(i,o),s=r.mul(s,r.div(a,c)),{x:n,y:s}}}no.isogenyMap=boe;function xoe(r,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){let i=aN(n,2,{...t,DST:t.DST,...s}),o=r.fromAffine(e(i[0])),a=r.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,s){let i=aN(n,1,{...t,DST:t.encodeDST,...s}),o=r.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o}}}no.createHasher=xoe});var lq=M(Hp=>{y();b();Object.defineProperty(Hp,"__esModule",{value:!0});Hp.createCurve=Hp.getHash=void 0;var woe=aE(),uq=Oa(),_oe=oN();function fq(r){return{hash:r,hmac:(e,...t)=>(0,woe.hmac)(r,e,(0,uq.concatBytes)(...t)),randomBytes:uq.randomBytes}}Hp.getHash=fq;function voe(r,e){let t=n=>(0,_oe.weierstrass)({...r,...fq(n)});return Object.freeze({...t(e),create:t})}Hp.createCurve=voe});var vq=M(ei=>{y();b();Object.defineProperty(ei,"__esModule",{value:!0});ei.encodeToCurve=ei.hashToCurve=ei.schnorr=ei.secp256k1=void 0;var NE=dE(),Poe=Oa(),Rn=Zw(),Aoe=oN(),ns=$0(),gq=cq(),Eoe=lq(),IE=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),CE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pq=BigInt(1),RE=BigInt(2),dq=(r,e)=>(r+e/RE)/e;function mq(r){let e=IE,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,g=f*f*r%e,p=(0,Rn.pow2)(g,t,e)*g%e,A=(0,Rn.pow2)(p,t,e)*g%e,P=(0,Rn.pow2)(A,RE,e)*f%e,C=(0,Rn.pow2)(P,s,e)*P%e,N=(0,Rn.pow2)(C,i,e)*C%e,L=(0,Rn.pow2)(N,a,e)*N%e,F=(0,Rn.pow2)(L,c,e)*L%e,D=(0,Rn.pow2)(F,a,e)*N%e,q=(0,Rn.pow2)(D,t,e)*g%e,K=(0,Rn.pow2)(q,o,e)*C%e,H=(0,Rn.pow2)(K,n,e)*f%e,G=(0,Rn.pow2)(H,RE,e);if(!bl.eql(bl.sqr(G),r))throw new Error("Cannot find square root");return G}var bl=(0,Rn.Field)(IE,void 0,void 0,{sqrt:mq});ei.secp256k1=(0,Eoe.createCurve)({a:BigInt(0),b:BigInt(7),Fp:bl,n:CE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=CE,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-pq*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=dq(i*r,e),c=dq(-n*r,e),f=(0,Rn.mod)(r-a*t-c*s,e),g=(0,Rn.mod)(-a*n-c*i,e),p=f>o,A=g>o;if(p&&(f=e-f),A&&(g=e-g),f>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:f,k2neg:A,k2:g}}}},NE.sha256);var ME=BigInt(0),yq=r=>typeof r=="bigint"&&ME<r&&r<IE,Soe=r=>typeof r=="bigint"&&ME<r&&r<CE,hq={};function BE(r,...e){let t=hq[r];if(t===void 0){let n=(0,NE.sha256)(Uint8Array.from(r,s=>s.charCodeAt(0)));t=(0,ns.concatBytes)(n,n),hq[r]=t}return(0,NE.sha256)((0,ns.concatBytes)(t,...e))}var dN=r=>r.toRawBytes(!0).slice(1),fN=r=>(0,ns.numberToBytesBE)(r,32),uN=r=>(0,Rn.mod)(r,IE),Xw=r=>(0,Rn.mod)(r,CE),hN=ei.secp256k1.ProjectivePoint,koe=(r,e,t)=>hN.BASE.multiplyAndAddUnsafe(r,e,t);function lN(r){let e=ei.secp256k1.utils.normPrivateKeyToScalar(r),t=hN.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:Xw(-e),bytes:dN(t)}}function bq(r){if(!yq(r))throw new Error("bad x: need 0 < x < p");let e=uN(r*r),t=uN(e*r+BigInt(7)),n=mq(t);n%RE!==ME&&(n=uN(-n));let s=new hN(r,n,pq);return s.assertValidity(),s}function xq(...r){return Xw((0,ns.bytesToNumberBE)(BE("BIP0340/challenge",...r)))}function Ooe(r){return lN(r).bytes}function Toe(r,e,t=(0,Poe.randomBytes)(32)){let n=(0,ns.ensureBytes)("message",r),{bytes:s,scalar:i}=lN(e),o=(0,ns.ensureBytes)("auxRand",t,32),a=fN(i^(0,ns.bytesToNumberBE)(BE("BIP0340/aux",o))),c=BE("BIP0340/nonce",a,s,n),f=Xw((0,ns.bytesToNumberBE)(c));if(f===ME)throw new Error("sign failed: k is zero");let{bytes:g,scalar:p}=lN(f),A=xq(g,s,n),P=new Uint8Array(64);if(P.set(g,0),P.set(fN(Xw(p+A*i)),32),!wq(P,n,s))throw new Error("sign: Invalid signature produced");return P}function wq(r,e,t){let n=(0,ns.ensureBytes)("signature",r,64),s=(0,ns.ensureBytes)("message",e),i=(0,ns.ensureBytes)("publicKey",t,32);try{let o=bq((0,ns.bytesToNumberBE)(i)),a=(0,ns.bytesToNumberBE)(n.subarray(0,32));if(!yq(a))return!1;let c=(0,ns.bytesToNumberBE)(n.subarray(32,64));if(!Soe(c))return!1;let f=xq(fN(a),dN(o),s),g=koe(o,c,Xw(-f));return!(!g||!g.hasEvenY()||g.toAffine().x!==a)}catch{return!1}}ei.schnorr=(()=>({getPublicKey:Ooe,sign:Toe,verify:wq,utils:{randomPrivateKey:ei.secp256k1.utils.randomPrivateKey,lift_x:bq,pointToBytes:dN,numberToBytesBE:ns.numberToBytesBE,bytesToNumberBE:ns.bytesToNumberBE,taggedHash:BE,mod:Rn.mod}}))();var Noe=(()=>(0,gq.isogenyMap)(bl,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(e=>BigInt(e)))))(),Coe=(()=>(0,Aoe.mapToCurveSimpleSWU)(bl,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:bl.create(BigInt("-11"))}))(),_q=(()=>(0,gq.createHasher)(ei.secp256k1.ProjectivePoint,r=>{let{x:e,y:t}=Coe(bl.create(r[0]));return Noe(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:bl.ORDER,m:1,k:128,expand:"xmd",hash:NE.sha256}))();ei.hashToCurve=(()=>_q.hashToCurve)();ei.encodeToCurve=(()=>_q.encodeToCurve)()});var gN=M(jE=>{y();b();Object.defineProperty(jE,"__esModule",{value:!0});jE.ZeroAddress=void 0;jE.ZeroAddress="0x0000000000000000000000000000000000000000"});var Pq=M(FE=>{y();b();Object.defineProperty(FE,"__esModule",{value:!0});FE.ZeroHash=void 0;FE.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"});var Aq=M(so=>{y();b();Object.defineProperty(so,"__esModule",{value:!0});so.MaxInt256=so.MinInt256=so.MaxUint256=so.WeiPerEther=so.N=void 0;so.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");so.WeiPerEther=BigInt("1000000000000000000");so.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");so.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);so.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var Eq=M(Gp=>{y();b();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.MessagePrefix=Gp.EtherSymbol=void 0;Gp.EtherSymbol="\u039E";Gp.MessagePrefix=`Ethereum Signed Message:
`});var Kp=M(sn=>{y();b();Object.defineProperty(sn,"__esModule",{value:!0});sn.MessagePrefix=sn.EtherSymbol=sn.MaxInt256=sn.MinInt256=sn.MaxUint256=sn.WeiPerEther=sn.N=sn.ZeroHash=sn.ZeroAddress=void 0;var Roe=gN();Object.defineProperty(sn,"ZeroAddress",{enumerable:!0,get:function(){return Roe.ZeroAddress}});var Boe=Pq();Object.defineProperty(sn,"ZeroHash",{enumerable:!0,get:function(){return Boe.ZeroHash}});var Yw=Aq();Object.defineProperty(sn,"N",{enumerable:!0,get:function(){return Yw.N}});Object.defineProperty(sn,"WeiPerEther",{enumerable:!0,get:function(){return Yw.WeiPerEther}});Object.defineProperty(sn,"MaxUint256",{enumerable:!0,get:function(){return Yw.MaxUint256}});Object.defineProperty(sn,"MinInt256",{enumerable:!0,get:function(){return Yw.MinInt256}});Object.defineProperty(sn,"MaxInt256",{enumerable:!0,get:function(){return Yw.MaxInt256}});var Sq=Eq();Object.defineProperty(sn,"EtherSymbol",{enumerable:!0,get:function(){return Sq.EtherSymbol}});Object.defineProperty(sn,"MessagePrefix",{enumerable:!0,get:function(){return Sq.MessagePrefix}})});var mN=M(UE=>{y();b();Object.defineProperty(UE,"__esModule",{value:!0});UE.Signature=void 0;var kq=Kp(),jt=ue(),Oq=BigInt(0),Tq=BigInt(1),Nq=BigInt(2),Cq=BigInt(27),Rq=BigInt(28),LE=BigInt(35),Vp={};function Bq(r){return(0,jt.zeroPadValue)((0,jt.toBeArray)(r),32)}var zp,Ic,Jp,Z0,Ca=class{constructor(e,t,n,s){T(this,zp,void 0);T(this,Ic,void 0);T(this,Jp,void 0);T(this,Z0,void 0);(0,jt.assertPrivate)(e,Vp,"Signature"),w(this,zp,t),w(this,Ic,n),w(this,Jp,s),w(this,Z0,null)}get r(){return h(this,zp)}set r(e){(0,jt.assertArgument)((0,jt.dataLength)(e)===32,"invalid r","value",e),w(this,zp,(0,jt.hexlify)(e))}get s(){return(0,jt.assertArgument)(parseInt(h(this,Ic).substring(0,3))<8,"non-canonical s; use ._s","s",h(this,Ic)),h(this,Ic)}set s(e){(0,jt.assertArgument)((0,jt.dataLength)(e)===32,"invalid s","value",e),w(this,Ic,(0,jt.hexlify)(e))}get _s(){return h(this,Ic)}isValid(){return parseInt(h(this,Ic).substring(0,3))<8}get v(){return h(this,Jp)}set v(e){let t=(0,jt.getNumber)(e,"value");(0,jt.assertArgument)(t===27||t===28,"invalid v","v",e),w(this,Jp,t)}get networkV(){return h(this,Z0)}get legacyChainId(){let e=this.networkV;return e==null?null:Ca.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=(0,jt.getBytes)(this.s);return this.yParity&&(e[0]|=128),(0,jt.hexlify)(e)}get compactSerialized(){return(0,jt.concat)([this.r,this.yParityAndS])}get serialized(){return(0,jt.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new Ca(Vp,this.r,this._s,this.v);return this.networkV&&w(e,Z0,this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let t=(0,jt.getBigInt)(e,"v");return t==Cq||t==Rq?Oq:((0,jt.assertArgument)(t>=LE,"invalid EIP-155 v","v",e),(t-LE)/Nq)}static getChainIdV(e,t){return(0,jt.getBigInt)(e)*Nq+BigInt(35+t-27)}static getNormalizedV(e){let t=(0,jt.getBigInt)(e);return t===Oq||t===Cq?27:t===Tq||t===Rq?28:((0,jt.assertArgument)(t>=LE,"invalid v","v",e),t&Tq?27:28)}static from(e){function t(f,g){(0,jt.assertArgument)(f,g,"signature",e)}if(e==null)return new Ca(Vp,kq.ZeroHash,kq.ZeroHash,27);if(typeof e=="string"){let f=(0,jt.getBytes)(e,"signature");if(f.length===64){let g=(0,jt.hexlify)(f.slice(0,32)),p=f.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new Ca(Vp,g,(0,jt.hexlify)(p),A)}if(f.length===65){let g=(0,jt.hexlify)(f.slice(0,32)),p=(0,jt.hexlify)(f.slice(32,64)),A=Ca.getNormalizedV(f[64]);return new Ca(Vp,g,p,A)}t(!1,"invalid raw signature length")}if(e instanceof Ca)return e.clone();let n=e.r;t(n!=null,"missing r");let s=Bq(n),i=function(f,g){if(f!=null)return Bq(f);if(g!=null){t((0,jt.isHexString)(g,32),"invalid yParityAndS");let p=(0,jt.getBytes)(g);return p[0]&=127,(0,jt.hexlify)(p)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(f,g,p){if(f!=null){let A=(0,jt.getBigInt)(f);return{networkV:A>=LE?A:void 0,v:Ca.getNormalizedV(A)}}if(g!=null)return t((0,jt.isHexString)(g,32),"invalid yParityAndS"),{v:(0,jt.getBytes)(g)[0]&128?28:27};if(p!=null){switch((0,jt.getNumber)(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Ca(Vp,s,i,a);return o&&w(c,Z0,o),t(e.yParity==null||(0,jt.getNumber)(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},pN=Ca;zp=new WeakMap,Ic=new WeakMap,Jp=new WeakMap,Z0=new WeakMap;UE.Signature=pN});var Mq=M(DE=>{y();b();Object.defineProperty(DE,"__esModule",{value:!0});DE.SigningKey=void 0;var Q0=vq(),Zr=ue(),Iq=mN(),zu,X0=class{constructor(e){T(this,zu,void 0);(0,Zr.assertArgument)((0,Zr.dataLength)(e)===32,"invalid private key","privateKey","[REDACTED]"),w(this,zu,(0,Zr.hexlify)(e))}get privateKey(){return h(this,zu)}get publicKey(){return X0.computePublicKey(h(this,zu))}get compressedPublicKey(){return X0.computePublicKey(h(this,zu),!0)}sign(e){(0,Zr.assertArgument)((0,Zr.dataLength)(e)===32,"invalid digest length","digest",e);let t=Q0.secp256k1.sign((0,Zr.getBytesCopy)(e),(0,Zr.getBytesCopy)(h(this,zu)),{lowS:!0});return Iq.Signature.from({r:(0,Zr.toBeHex)(t.r,32),s:(0,Zr.toBeHex)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=X0.computePublicKey(e);return(0,Zr.hexlify)(Q0.secp256k1.getSharedSecret((0,Zr.getBytesCopy)(h(this,zu)),(0,Zr.getBytes)(t),!1))}static computePublicKey(e,t){let n=(0,Zr.getBytes)(e,"key");if(n.length===32){let i=Q0.secp256k1.getPublicKey(n,!!t);return(0,Zr.hexlify)(i)}if(n.length===64){let i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}let s=Q0.secp256k1.ProjectivePoint.fromHex(n);return(0,Zr.hexlify)(s.toRawBytes(t))}static recoverPublicKey(e,t){(0,Zr.assertArgument)((0,Zr.dataLength)(e)===32,"invalid digest length","digest",e);let n=Iq.Signature.from(t),s=Q0.secp256k1.Signature.fromCompact((0,Zr.getBytesCopy)((0,Zr.concat)([n.r,n.s])));s=s.addRecoveryBit(n.yParity);let i=s.recoverPublicKey((0,Zr.getBytesCopy)(e));return(0,Zr.assertArgument)(i!=null,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){let s=Q0.secp256k1.ProjectivePoint.fromHex(X0.computePublicKey(e).substring(2)),i=Q0.secp256k1.ProjectivePoint.fromHex(X0.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}},yN=X0;zu=new WeakMap;DE.SigningKey=yN});var on=M(lr=>{y();b();Object.defineProperty(lr,"__esModule",{value:!0});lr.lock=lr.Signature=lr.SigningKey=lr.scryptSync=lr.scrypt=lr.pbkdf2=lr.sha512=lr.sha256=lr.ripemd160=lr.keccak256=lr.randomBytes=lr.computeHmac=void 0;var jq=GU();Object.defineProperty(lr,"computeHmac",{enumerable:!0,get:function(){return jq.computeHmac}});var Fq=rD();Object.defineProperty(lr,"keccak256",{enumerable:!0,get:function(){return Fq.keccak256}});var Lq=lD();Object.defineProperty(lr,"ripemd160",{enumerable:!0,get:function(){return Lq.ripemd160}});var Uq=pD();Object.defineProperty(lr,"pbkdf2",{enumerable:!0,get:function(){return Uq.pbkdf2}});var bN=xD();Object.defineProperty(lr,"randomBytes",{enumerable:!0,get:function(){return bN.randomBytes}});var qE=BD();Object.defineProperty(lr,"scrypt",{enumerable:!0,get:function(){return qE.scrypt}});Object.defineProperty(lr,"scryptSync",{enumerable:!0,get:function(){return qE.scryptSync}});var HE=qD();Object.defineProperty(lr,"sha256",{enumerable:!0,get:function(){return HE.sha256}});Object.defineProperty(lr,"sha512",{enumerable:!0,get:function(){return HE.sha512}});var Ioe=Mq();Object.defineProperty(lr,"SigningKey",{enumerable:!0,get:function(){return Ioe.SigningKey}});var Moe=mN();Object.defineProperty(lr,"Signature",{enumerable:!0,get:function(){return Moe.Signature}});function joe(){jq.computeHmac.lock(),Fq.keccak256.lock(),Uq.pbkdf2.lock(),bN.randomBytes.lock(),Lq.ripemd160.lock(),qE.scrypt.lock(),qE.scryptSync.lock(),HE.sha256.lock(),HE.sha512.lock(),bN.randomBytes.lock()}lr.lock=joe});var GE=M(Wp=>{y();b();Object.defineProperty(Wp,"__esModule",{value:!0});Wp.getIcapAddress=Wp.getAddress=void 0;var Foe=on(),e_=ue(),Loe=BigInt(0),Uoe=BigInt(36);function Dq(r){r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);let n=(0,e_.getBytes)((0,Foe.keccak256)(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var xN={};for(let r=0;r<10;r++)xN[String(r)]=String(r);for(let r=0;r<26;r++)xN[String.fromCharCode(65+r)]=String(10+r);var qq=15;function Hq(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>xN[n]).join("");for(;e.length>=qq;){let n=e.substring(0,qq);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var Doe=function(){let r={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function qoe(r){r=r.toLowerCase();let e=Loe;for(let t=0;t<r.length;t++)e=e*Uoe+Doe[r[t]];return e}function Gq(r){if((0,e_.assertArgument)(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);let e=Dq(r);return(0,e_.assertArgument)(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,e_.assertArgument)(r.substring(2,4)===Hq(r),"bad icap checksum","address",r);let e=qoe(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Dq("0x"+e)}(0,e_.assertArgument)(!1,"invalid address","address",r)}Wp.getAddress=Gq;function Hoe(r){let e=BigInt(Gq(r)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Hq("XE00"+e)+e}Wp.getIcapAddress=Hoe});var Vq=M($p=>{y();b();Object.defineProperty($p,"__esModule",{value:!0});$p.getCreate2Address=$p.getCreateAddress=void 0;var Kq=on(),Ju=ue(),KE=GE();function Goe(r){let e=(0,KE.getAddress)(r.from),n=(0,Ju.getBigInt)(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,(0,KE.getAddress)((0,Ju.dataSlice)((0,Kq.keccak256)((0,Ju.encodeRlp)([e,n])),12))}$p.getCreateAddress=Goe;function Koe(r,e,t){let n=(0,KE.getAddress)(r),s=(0,Ju.getBytes)(e,"salt"),i=(0,Ju.getBytes)(t,"initCodeHash");return(0,Ju.assertArgument)(s.length===32,"salt must be 32 bytes","salt",e),(0,Ju.assertArgument)(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),(0,KE.getAddress)((0,Ju.dataSlice)((0,Kq.keccak256)((0,Ju.concat)(["0xff",n,s,i])),12))}$p.getCreate2Address=Koe});var Jq=M(xl=>{y();b();Object.defineProperty(xl,"__esModule",{value:!0});xl.resolveAddress=xl.isAddress=xl.isAddressable=void 0;var VE=ue(),_N=GE();function zq(r){return r&&typeof r.getAddress=="function"}xl.isAddressable=zq;function Voe(r){try{return(0,_N.getAddress)(r),!0}catch{}return!1}xl.isAddress=Voe;async function wN(r,e){let t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&((0,VE.assert)(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),(0,VE.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),(0,_N.getAddress)(t)}function zoe(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?(0,_N.getAddress)(r):((0,VE.assert)(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),wN(r,e.resolveName(r)));if(zq(r))return wN(r,r.getAddress());if(r&&typeof r.then=="function")return wN(r,r);(0,VE.assertArgument)(!1,"unsupported addressable value","target",r)}xl.resolveAddress=zoe});var Qr=M(ss=>{y();b();Object.defineProperty(ss,"__esModule",{value:!0});ss.resolveAddress=ss.isAddress=ss.isAddressable=ss.getCreate2Address=ss.getCreateAddress=ss.getIcapAddress=ss.getAddress=void 0;var Wq=GE();Object.defineProperty(ss,"getAddress",{enumerable:!0,get:function(){return Wq.getAddress}});Object.defineProperty(ss,"getIcapAddress",{enumerable:!0,get:function(){return Wq.getIcapAddress}});var $q=Vq();Object.defineProperty(ss,"getCreateAddress",{enumerable:!0,get:function(){return $q.getCreateAddress}});Object.defineProperty(ss,"getCreate2Address",{enumerable:!0,get:function(){return $q.getCreate2Address}});var vN=Jq();Object.defineProperty(ss,"isAddressable",{enumerable:!0,get:function(){return vN.isAddressable}});Object.defineProperty(ss,"isAddress",{enumerable:!0,get:function(){return vN.isAddress}});Object.defineProperty(ss,"resolveAddress",{enumerable:!0,get:function(){return vN.resolveAddress}})});var Mc=M(zE=>{y();b();Object.defineProperty(zE,"__esModule",{value:!0});zE.Typed=void 0;var Zq=ue(),Ra={};function me(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new t_(Ra,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Wt(r,e){return new t_(Ra,`bytes${e||""}`,r,{size:e})}var Qq=Symbol.for("_ethers_typed"),Y0,Ba=class{constructor(e,t,n,s){O(this,"type");O(this,"value");T(this,Y0,void 0);O(this,"_typedSymbol");s==null&&(s=null),(0,Zq.assertPrivate)(Ra,e,"Typed"),(0,Zq.defineProperties)(this,{_typedSymbol:Qq,type:t,value:n}),w(this,Y0,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return h(this,Y0)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return h(this,Y0)===!0?-1:h(this,Y0)===!1?this.value.length:null}static from(e,t){return new Ba(Ra,e,t)}static uint8(e){return me(e,8)}static uint16(e){return me(e,16)}static uint24(e){return me(e,24)}static uint32(e){return me(e,32)}static uint40(e){return me(e,40)}static uint48(e){return me(e,48)}static uint56(e){return me(e,56)}static uint64(e){return me(e,64)}static uint72(e){return me(e,72)}static uint80(e){return me(e,80)}static uint88(e){return me(e,88)}static uint96(e){return me(e,96)}static uint104(e){return me(e,104)}static uint112(e){return me(e,112)}static uint120(e){return me(e,120)}static uint128(e){return me(e,128)}static uint136(e){return me(e,136)}static uint144(e){return me(e,144)}static uint152(e){return me(e,152)}static uint160(e){return me(e,160)}static uint168(e){return me(e,168)}static uint176(e){return me(e,176)}static uint184(e){return me(e,184)}static uint192(e){return me(e,192)}static uint200(e){return me(e,200)}static uint208(e){return me(e,208)}static uint216(e){return me(e,216)}static uint224(e){return me(e,224)}static uint232(e){return me(e,232)}static uint240(e){return me(e,240)}static uint248(e){return me(e,248)}static uint256(e){return me(e,256)}static uint(e){return me(e,256)}static int8(e){return me(e,-8)}static int16(e){return me(e,-16)}static int24(e){return me(e,-24)}static int32(e){return me(e,-32)}static int40(e){return me(e,-40)}static int48(e){return me(e,-48)}static int56(e){return me(e,-56)}static int64(e){return me(e,-64)}static int72(e){return me(e,-72)}static int80(e){return me(e,-80)}static int88(e){return me(e,-88)}static int96(e){return me(e,-96)}static int104(e){return me(e,-104)}static int112(e){return me(e,-112)}static int120(e){return me(e,-120)}static int128(e){return me(e,-128)}static int136(e){return me(e,-136)}static int144(e){return me(e,-144)}static int152(e){return me(e,-152)}static int160(e){return me(e,-160)}static int168(e){return me(e,-168)}static int176(e){return me(e,-176)}static int184(e){return me(e,-184)}static int192(e){return me(e,-192)}static int200(e){return me(e,-200)}static int208(e){return me(e,-208)}static int216(e){return me(e,-216)}static int224(e){return me(e,-224)}static int232(e){return me(e,-232)}static int240(e){return me(e,-240)}static int248(e){return me(e,-248)}static int256(e){return me(e,-256)}static int(e){return me(e,-256)}static bytes1(e){return Wt(e,1)}static bytes2(e){return Wt(e,2)}static bytes3(e){return Wt(e,3)}static bytes4(e){return Wt(e,4)}static bytes5(e){return Wt(e,5)}static bytes6(e){return Wt(e,6)}static bytes7(e){return Wt(e,7)}static bytes8(e){return Wt(e,8)}static bytes9(e){return Wt(e,9)}static bytes10(e){return Wt(e,10)}static bytes11(e){return Wt(e,11)}static bytes12(e){return Wt(e,12)}static bytes13(e){return Wt(e,13)}static bytes14(e){return Wt(e,14)}static bytes15(e){return Wt(e,15)}static bytes16(e){return Wt(e,16)}static bytes17(e){return Wt(e,17)}static bytes18(e){return Wt(e,18)}static bytes19(e){return Wt(e,19)}static bytes20(e){return Wt(e,20)}static bytes21(e){return Wt(e,21)}static bytes22(e){return Wt(e,22)}static bytes23(e){return Wt(e,23)}static bytes24(e){return Wt(e,24)}static bytes25(e){return Wt(e,25)}static bytes26(e){return Wt(e,26)}static bytes27(e){return Wt(e,27)}static bytes28(e){return Wt(e,28)}static bytes29(e){return Wt(e,29)}static bytes30(e){return Wt(e,30)}static bytes31(e){return Wt(e,31)}static bytes32(e){return Wt(e,32)}static address(e){return new Ba(Ra,"address",e)}static bool(e){return new Ba(Ra,"bool",!!e)}static bytes(e){return new Ba(Ra,"bytes",e)}static string(e){return new Ba(Ra,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Ba(Ra,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Qq}static dereference(e,t){if(Ba.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}},t_=Ba;Y0=new WeakMap;zE.Typed=t_});var Yq=M(JE=>{y();b();Object.defineProperty(JE,"__esModule",{value:!0});JE.AddressCoder=void 0;var Xq=Qr(),Joe=cp(),Woe=Mc(),$oe=eo(),PN=class extends $oe.Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Woe.Typed.dereference(t,"string");try{n=(0,Xq.getAddress)(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return(0,Xq.getAddress)((0,Joe.toBeHex)(e.readValue(),20))}};JE.AddressCoder=PN});var eH=M(WE=>{y();b();Object.defineProperty(WE,"__esModule",{value:!0});WE.AnonymousCoder=void 0;var Zoe=eo(),AN=class extends Zoe.Coder{constructor(t){super(t.name,t.type,"_",t.dynamic);O(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}};WE.AnonymousCoder=AN});var SN=M(wl=>{y();b();Object.defineProperty(wl,"__esModule",{value:!0});wl.ArrayCoder=wl.unpack=wl.pack=void 0;var Wu=ue(),Qoe=Mc(),Zp=eo(),Xoe=eH();function tH(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{let g=f.localName;return(0,Wu.assert)(g,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),(0,Wu.assert)(!c[g],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),c[g]=!0,t[g]})}else(0,Wu.assertArgument)(!1,"invalid tuple value","tuple",t);(0,Wu.assertArgument)(e.length===n.length,"types/value length mismatch","tuple",t);let s=new Zp.Writer,i=new Zp.Writer,o=[];e.forEach((c,f)=>{let g=n[f];if(c.dynamic){let p=i.length;c.encode(i,g);let A=s.writeUpdatableValue();o.push(P=>{A(P+p)})}else c.encode(s,g)}),o.forEach(c=>{c(s.length)});let a=r.appendWriter(s);return a+=r.appendWriter(i),a}wl.pack=tH;function rH(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=r.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(f){if((0,Wu.isError)(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(r)}catch(a){if((0,Wu.isError)(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),n.push(i.localName||null)}),Zp.Result.fromItems(t,n)}wl.unpack=rH;var EN=class extends Zp.Coder{constructor(t,n,s){let i=t.type+"["+(n>=0?n:"")+"]",o=n===-1||t.dynamic;super("array",i,s,o);O(this,"coder");O(this,"length");(0,Wu.defineProperties)(this,{coder:t,length:n})}defaultValue(){let t=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(t);return n}encode(t,n){let s=Qoe.Typed.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),(0,Wu.assertArgumentCount)(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return tH(t,o,s)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),(0,Wu.assert)(n*Zp.WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*Zp.WordSize,length:t.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Xoe.AnonymousCoder(this.coder));return rH(t,s)}};wl.ArrayCoder=EN});var nH=M($E=>{y();b();Object.defineProperty($E,"__esModule",{value:!0});$E.BooleanCoder=void 0;var Yoe=Mc(),eae=eo(),kN=class extends eae.Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let n=Yoe.Typed.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};$E.BooleanCoder=kN});var TN=M(Qp=>{y();b();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.BytesCoder=Qp.DynamicBytesCoder=void 0;var sH=ue(),tae=eo(),ZE=class extends tae.Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,sH.getBytesCopy)(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}};Qp.DynamicBytesCoder=ZE;var ON=class extends ZE{constructor(e){super("bytes",e)}decode(e){return(0,sH.hexlify)(super.decode(e))}};Qp.BytesCoder=ON});var iH=M(QE=>{y();b();Object.defineProperty(QE,"__esModule",{value:!0});QE.FixedBytesCoder=void 0;var NN=ue(),rae=Mc(),nae=eo(),CN=class extends nae.Coder{constructor(t,n){let s="bytes"+String(t);super(s,s,n,!1);O(this,"size");(0,NN.defineProperties)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let s=(0,NN.getBytesCopy)(rae.Typed.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(s)}decode(t){return(0,NN.hexlify)(t.readBytes(this.size))}};QE.FixedBytesCoder=CN});var oH=M(XE=>{y();b();Object.defineProperty(XE,"__esModule",{value:!0});XE.NullCoder=void 0;var sae=eo(),iae=new Uint8Array([]),RN=class extends sae.Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(iae)}decode(e){return e.readBytes(0),null}};XE.NullCoder=RN});var aH=M(YE=>{y();b();Object.defineProperty(YE,"__esModule",{value:!0});YE.NumberCoder=void 0;var _l=ue(),oae=Mc(),BN=eo(),aae=BigInt(0),cae=BigInt(1),uae=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),IN=class extends BN.Coder{constructor(t,n,s){let i=(n?"int":"uint")+t*8;super(i,i,s,!1);O(this,"size");O(this,"signed");(0,_l.defineProperties)(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let s=(0,_l.getBigInt)(oae.Typed.dereference(n,this.type)),i=(0,_l.mask)(uae,BN.WordSize*8);if(this.signed){let o=(0,_l.mask)(i,this.size*8-1);(s>o||s<-(o+cae))&&this._throwError("value out-of-bounds",n),s=(0,_l.toTwos)(s,8*BN.WordSize)}else(s<aae||s>(0,_l.mask)(i,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(s)}decode(t){let n=(0,_l.mask)(t.readValue(),this.size*8);return this.signed&&(n=(0,_l.fromTwos)(n,this.size*8)),n}};YE.NumberCoder=IN});var uH=M(e3=>{y();b();Object.defineProperty(e3,"__esModule",{value:!0});e3.StringCoder=void 0;var cH=HA(),fae=Mc(),lae=TN(),MN=class extends lae.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,cH.toUtf8Bytes)(fae.Typed.dereference(t,"string")))}decode(e){return(0,cH.toUtf8String)(super.decode(e))}};e3.StringCoder=MN});var lH=M(t3=>{y();b();Object.defineProperty(t3,"__esModule",{value:!0});t3.TupleCoder=void 0;var dae=rl(),hae=Mc(),gae=eo(),fH=SN(),jN=class extends gae.Coder{constructor(t,n){let s=!1,i=[];t.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});let o="tuple("+i.join(",")+")";super("tuple",o,n,s);O(this,"coders");(0,dae.defineProperties)(this,{coders:Object.freeze(t.slice())})}defaultValue(){let t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});let n=this.coders.reduce((s,i)=>{let o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,n){let s=hae.Typed.dereference(n,"tuple");return(0,fH.pack)(t,this.coders,s)}decode(t){return(0,fH.unpack)(t,this.coders)}};t3.TupleCoder=jN});var LN=M(r3=>{y();b();Object.defineProperty(r3,"__esModule",{value:!0});r3.accessListify=void 0;var pae=Qr(),r_=ue();function FN(r,e){return{address:(0,pae.getAddress)(r),storageKeys:e.map((t,n)=>((0,r_.assertArgument)((0,r_.isHexString)(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function mae(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?((0,r_.assertArgument)(t.length===2,"invalid slot set",`value[${n}]`,t),FN(t[0],t[1])):((0,r_.assertArgument)(t!=null&&typeof t=="object","invalid address-slot set","value",r),FN(t.address,t.storageKeys)));(0,r_.assertArgument)(r!=null&&typeof r=="object","invalid access list","value",r);let e=Object.keys(r).map(t=>{let n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return FN(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}r3.accessListify=mae});var UN=M(n3=>{y();b();Object.defineProperty(n3,"__esModule",{value:!0});n3.authorizationify=void 0;var yae=Qr(),bae=on(),dH=ue();function xae(r){return{address:(0,yae.getAddress)(r.address),nonce:(0,dH.getBigInt)(r.nonce!=null?r.nonce:0),chainId:(0,dH.getBigInt)(r.chainId!=null?r.chainId:0),signature:bae.Signature.from(r.signature)}}n3.authorizationify=xae});var qN=M(Xp=>{y();b();Object.defineProperty(Xp,"__esModule",{value:!0});Xp.recoverAddress=Xp.computeAddress=void 0;var wae=Qr(),DN=on();function hH(r){let e;return typeof r=="string"?e=DN.SigningKey.computePublicKey(r,!1):e=r.publicKey,(0,wae.getAddress)((0,DN.keccak256)("0x"+e.substring(4)).substring(26))}Xp.computeAddress=hH;function _ae(r,e){return hH(DN.SigningKey.recoverPublicKey(r,e))}Xp.recoverAddress=_ae});var yH=M(c3=>{y();b();Object.defineProperty(c3,"__esModule",{value:!0});c3.Transaction=void 0;var pH=Qr(),mH=gN(),Lc=on(),Z=ue(),KN=LN(),vae=UN(),Pae=qN(),Bn=BigInt(0),Aae=BigInt(2),Eae=BigInt(27),Sae=BigInt(28),kae=BigInt(35),Oae=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),HN=4096*32;function Tae(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return(0,Z.getBytes)(r.blobToKzgCommitment((0,Z.hexlify)(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return(0,Z.getBytes)(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return(0,Z.getBytes)(r.blobToKZGCommitment((0,Z.hexlify)(n)));(0,Z.assertArgument)(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return(0,Z.getBytes)(r.computeBlobProof((0,Z.hexlify)(n),(0,Z.hexlify)(s)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return(0,Z.getBytes)(r.computeBlobKZGProof((0,Z.hexlify)(n),(0,Z.hexlify)(s)));(0,Z.assertArgument)(!1,"unsupported KZG library","kzg",r)}}}function gH(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=(0,Lc.sha256)(e).substring(4),"0x"+t}function dm(r){return r==="0x"?null:(0,pH.getAddress)(r)}function i3(r,e){try{return(0,KN.accessListify)(r)}catch(t){(0,Z.assertArgument)(!1,t.message,e,r)}}function Nae(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");let t=[];for(let n=0;n<r.length;n++){let s=r[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);t.push({address:dm(s[1]),nonce:sr(s[2],"nonce"),chainId:sr(s[0],"chainId"),signature:Lc.Signature.from({yParity:th(s[3],"yParity"),r:(0,Z.zeroPadValue)(s[4],32),s:(0,Z.zeroPadValue)(s[5],32)})})}return t}catch(t){(0,Z.assertArgument)(!1,t.message,e,r)}}function th(r,e){return r==="0x"?0:(0,Z.getNumber)(r,e)}function sr(r,e){if(r==="0x")return Bn;let t=(0,Z.getBigInt)(r,e);return(0,Z.assertArgument)(t<=Oae,"value exceeds uint size",e,t),t}function Ft(r,e){let t=(0,Z.getBigInt)(r,"value"),n=(0,Z.toBeArray)(t);return(0,Z.assertArgument)(n.length<=32,"value too large",`tx.${e}`,t),n}function o3(r){return(0,KN.accessListify)(r).map(e=>[e.address,e.storageKeys])}function Cae(r){return r.map(e=>[Ft(e.chainId,"chainId"),e.address,Ft(e.nonce,"nonce"),Ft(e.signature.yParity,"yParity"),(0,Z.toBeArray)(e.signature.r),(0,Z.toBeArray)(e.signature.s)])}function Rae(r,e){(0,Z.assertArgument)(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)(0,Z.assertArgument)((0,Z.isHexString)(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function Bae(r){let e=(0,Z.decodeRlp)(r);(0,Z.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);let t={type:0,nonce:th(e[0],"nonce"),gasPrice:sr(e[1],"gasPrice"),gasLimit:sr(e[2],"gasLimit"),to:dm(e[3]),value:sr(e[4],"value"),data:(0,Z.hexlify)(e[5]),chainId:Bn};if(e.length===6)return t;let n=sr(e[6],"v"),s=sr(e[7],"r"),i=sr(e[8],"s");if(s===Bn&&i===Bn)t.chainId=n;else{let o=(n-kae)/Aae;o<Bn&&(o=Bn),t.chainId=o,(0,Z.assertArgument)(o!==Bn||n===Eae||n===Sae,"non-canonical legacy v","v",e[6]),t.signature=Lc.Signature.from({r:(0,Z.zeroPadValue)(e[7],32),s:(0,Z.zeroPadValue)(e[8],32),v:n})}return t}function Iae(r,e){let t=[Ft(r.nonce,"nonce"),Ft(r.gasPrice||0,"gasPrice"),Ft(r.gasLimit,"gasLimit"),r.to||"0x",Ft(r.value,"value"),r.data],n=Bn;if(r.chainId!=Bn)n=(0,Z.getBigInt)(r.chainId,"tx.chainId"),(0,Z.assertArgument)(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){let i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==Bn&&(t.push((0,Z.toBeArray)(n)),t.push("0x"),t.push("0x")),(0,Z.encodeRlp)(t);let s=BigInt(27+e.yParity);return n!==Bn?s=Lc.Signature.getChainIdV(n,e.v):BigInt(e.v)!==s&&(0,Z.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",e),t.push((0,Z.toBeArray)(s)),t.push((0,Z.toBeArray)(e.r)),t.push((0,Z.toBeArray)(e.s)),(0,Z.encodeRlp)(t)}function a3(r,e){let t;try{if(t=th(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{(0,Z.assertArgument)(!1,"invalid yParity","yParity",e[0])}let n=(0,Z.zeroPadValue)(e[1],32),s=(0,Z.zeroPadValue)(e[2],32),i=Lc.Signature.from({r:n,s,yParity:t});r.signature=i}function Mae(r){let e=(0,Z.decodeRlp)((0,Z.getBytes)(r).slice(1));(0,Z.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",(0,Z.hexlify)(r));let t={type:2,chainId:sr(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:sr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:sr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:sr(e[4],"gasLimit"),to:dm(e[5]),value:sr(e[6],"value"),data:(0,Z.hexlify)(e[7]),accessList:i3(e[8],"accessList")};return e.length===9||a3(t,e.slice(9)),t}function jae(r,e){let t=[Ft(r.chainId,"chainId"),Ft(r.nonce,"nonce"),Ft(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(r.maxFeePerGas||0,"maxFeePerGas"),Ft(r.gasLimit,"gasLimit"),r.to||"0x",Ft(r.value,"value"),r.data,o3(r.accessList||[])];return e&&(t.push(Ft(e.yParity,"yParity")),t.push((0,Z.toBeArray)(e.r)),t.push((0,Z.toBeArray)(e.s))),(0,Z.concat)(["0x02",(0,Z.encodeRlp)(t)])}function Fae(r){let e=(0,Z.decodeRlp)((0,Z.getBytes)(r).slice(1));(0,Z.assertArgument)(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",(0,Z.hexlify)(r));let t={type:1,chainId:sr(e[0],"chainId"),nonce:th(e[1],"nonce"),gasPrice:sr(e[2],"gasPrice"),gasLimit:sr(e[3],"gasLimit"),to:dm(e[4]),value:sr(e[5],"value"),data:(0,Z.hexlify)(e[6]),accessList:i3(e[7],"accessList")};return e.length===8||a3(t,e.slice(8)),t}function Lae(r,e){let t=[Ft(r.chainId,"chainId"),Ft(r.nonce,"nonce"),Ft(r.gasPrice||0,"gasPrice"),Ft(r.gasLimit,"gasLimit"),r.to||"0x",Ft(r.value,"value"),r.data,o3(r.accessList||[])];return e&&(t.push(Ft(e.yParity,"recoveryParam")),t.push((0,Z.toBeArray)(e.r)),t.push((0,Z.toBeArray)(e.s))),(0,Z.concat)(["0x01",(0,Z.encodeRlp)(t)])}function Uae(r){let e=(0,Z.decodeRlp)((0,Z.getBytes)(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let i=e[1],o=e[2],a=e[3];(0,Z.assertArgument)(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),(0,Z.assertArgument)(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),(0,Z.assertArgument)(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),(0,Z.assertArgument)(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),(0,Z.assertArgument)(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}(0,Z.assertArgument)(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",(0,Z.hexlify)(r));let s={type:3,chainId:sr(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:sr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:sr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:sr(e[4],"gasLimit"),to:dm(e[5]),value:sr(e[6],"value"),data:(0,Z.hexlify)(e[7]),accessList:i3(e[8],"accessList"),maxFeePerBlobGas:sr(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),(0,Z.assertArgument)(s.to!=null,`invalid address for transaction type: ${t}`,"data",r),(0,Z.assertArgument)(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<s.blobVersionedHashes.length;i++)(0,Z.assertArgument)((0,Z.isHexString)(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||a3(s,e.slice(11)),s}function Dae(r,e,t){let n=[Ft(r.chainId,"chainId"),Ft(r.nonce,"nonce"),Ft(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(r.maxFeePerGas||0,"maxFeePerGas"),Ft(r.gasLimit,"gasLimit"),r.to||mH.ZeroAddress,Ft(r.value,"value"),r.data,o3(r.accessList||[]),Ft(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Rae(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Ft(e.yParity,"yParity")),n.push((0,Z.toBeArray)(e.r)),n.push((0,Z.toBeArray)(e.s)),t)?(0,Z.concat)(["0x03",(0,Z.encodeRlp)([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):(0,Z.concat)(["0x03",(0,Z.encodeRlp)(n)])}function qae(r){let e=(0,Z.decodeRlp)((0,Z.getBytes)(r).slice(1));(0,Z.assertArgument)(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",(0,Z.hexlify)(r));let t={type:4,chainId:sr(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:sr(e[2],"maxPriorityFeePerGas"),maxFeePerGas:sr(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:sr(e[4],"gasLimit"),to:dm(e[5]),value:sr(e[6],"value"),data:(0,Z.hexlify)(e[7]),accessList:i3(e[8],"accessList"),authorizationList:Nae(e[9],"authorizationList")};return e.length===10||a3(t,e.slice(10)),t}function Hae(r,e){let t=[Ft(r.chainId,"chainId"),Ft(r.nonce,"nonce"),Ft(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ft(r.maxFeePerGas||0,"maxFeePerGas"),Ft(r.gasLimit,"gasLimit"),r.to||"0x",Ft(r.value,"value"),r.data,o3(r.accessList||[]),Cae(r.authorizationList||[])];return e&&(t.push(Ft(e.yParity,"yParity")),t.push((0,Z.toBeArray)(e.r)),t.push((0,Z.toBeArray)(e.s))),(0,Z.concat)(["0x04",(0,Z.encodeRlp)(t)])}var Ia,Yp,em,tm,rm,nm,sm,im,om,am,cm,um,eh,vl,Fc,Pl,fm,lm,s3,jc=class{constructor(){T(this,lm);T(this,Ia,void 0);T(this,Yp,void 0);T(this,em,void 0);T(this,tm,void 0);T(this,rm,void 0);T(this,nm,void 0);T(this,sm,void 0);T(this,im,void 0);T(this,om,void 0);T(this,am,void 0);T(this,cm,void 0);T(this,um,void 0);T(this,eh,void 0);T(this,vl,void 0);T(this,Fc,void 0);T(this,Pl,void 0);T(this,fm,void 0);w(this,Ia,null),w(this,Yp,null),w(this,tm,0),w(this,rm,Bn),w(this,nm,null),w(this,sm,null),w(this,im,null),w(this,em,"0x"),w(this,om,Bn),w(this,am,Bn),w(this,cm,null),w(this,um,null),w(this,eh,null),w(this,vl,null),w(this,Fc,null),w(this,Pl,null),w(this,fm,null)}get type(){return h(this,Ia)}set type(e){switch(e){case null:w(this,Ia,null);break;case 0:case"legacy":w(this,Ia,0);break;case 1:case"berlin":case"eip-2930":w(this,Ia,1);break;case 2:case"london":case"eip-1559":w(this,Ia,2);break;case 3:case"cancun":case"eip-4844":w(this,Ia,3);break;case 4:case"pectra":case"eip-7702":w(this,Ia,4);break;default:(0,Z.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=h(this,Yp);return e==null&&this.type===3?mH.ZeroAddress:e}set to(e){w(this,Yp,e==null?null:(0,pH.getAddress)(e))}get nonce(){return h(this,tm)}set nonce(e){w(this,tm,(0,Z.getNumber)(e,"value"))}get gasLimit(){return h(this,rm)}set gasLimit(e){w(this,rm,(0,Z.getBigInt)(e))}get gasPrice(){let e=h(this,nm);return e==null&&(this.type===0||this.type===1)?Bn:e}set gasPrice(e){w(this,nm,e==null?null:(0,Z.getBigInt)(e,"gasPrice"))}get maxPriorityFeePerGas(){let e=h(this,sm);return e??(this.type===2||this.type===3?Bn:null)}set maxPriorityFeePerGas(e){w(this,sm,e==null?null:(0,Z.getBigInt)(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){let e=h(this,im);return e??(this.type===2||this.type===3?Bn:null)}set maxFeePerGas(e){w(this,im,e==null?null:(0,Z.getBigInt)(e,"maxFeePerGas"))}get data(){return h(this,em)}set data(e){w(this,em,(0,Z.hexlify)(e))}get value(){return h(this,om)}set value(e){w(this,om,(0,Z.getBigInt)(e,"value"))}get chainId(){return h(this,am)}set chainId(e){w(this,am,(0,Z.getBigInt)(e))}get signature(){return h(this,cm)||null}set signature(e){w(this,cm,e==null?null:Lc.Signature.from(e))}get accessList(){let e=h(this,um)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){w(this,um,e==null?null:(0,KN.accessListify)(e))}get authorizationList(){let e=h(this,fm)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){w(this,fm,e==null?null:e.map(t=>(0,vae.authorizationify)(t)))}get maxFeePerBlobGas(){let e=h(this,eh);return e==null&&this.type===3?Bn:e}set maxFeePerBlobGas(e){w(this,eh,e==null?null:(0,Z.getBigInt)(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=h(this,vl);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){(0,Z.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,Z.assertArgument)((0,Z.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}w(this,vl,e)}get blobs(){return h(this,Pl)==null?null:h(this,Pl).map(e=>Object.assign({},e))}set blobs(e){if(e==null){w(this,Pl,null);return}let t=[],n=[];for(let s=0;s<e.length;s++){let i=e[s];if((0,Z.isBytesLike)(i)){(0,Z.assert)(h(this,Fc),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=(0,Z.getBytes)(i);if((0,Z.assertArgument)(o.length<=HN,"blob is too large",`blobs[${s}]`,i),o.length!==HN){let f=new Uint8Array(HN);f.set(o),o=f}let a=h(this,Fc).blobToKzgCommitment(o),c=(0,Z.hexlify)(h(this,Fc).computeBlobKzgProof(o,a));t.push({data:(0,Z.hexlify)(o),commitment:(0,Z.hexlify)(a),proof:c}),n.push(gH(1,a))}else{let o=(0,Z.hexlify)(i.commitment);t.push({data:(0,Z.hexlify)(i.data),commitment:o,proof:(0,Z.hexlify)(i.proof)}),n.push(gH(1,o))}}w(this,Pl,t),w(this,vl,n)}get kzg(){return h(this,Fc)}set kzg(e){e==null?w(this,Fc,null):w(this,Fc,Tae(e))}get hash(){return this.signature==null?null:(0,Lc.keccak256)(U(this,lm,s3).call(this,!0,!1))}get unsignedHash(){return(0,Lc.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,Pae.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Lc.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return U(this,lm,s3).call(this,!0,!0)}get unsignedSerialized(){return U(this,lm,s3).call(this,!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=h(this,eh)!=null||h(this,vl);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,Z.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,Z.assert)(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,Z.assert)(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return jc.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new jc;if(typeof e=="string"){let n=(0,Z.getBytes)(e);if(n[0]>=127)return jc.from(Bae(n));switch(n[0]){case 1:return jc.from(Fae(n));case 2:return jc.from(Mae(n));case 3:return jc.from(Uae(n));case 4:return jc.from(qae(n))}(0,Z.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new jc;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Lc.Signature.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&((0,Z.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,Z.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&((0,Z.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,Z.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}},GN=jc;Ia=new WeakMap,Yp=new WeakMap,em=new WeakMap,tm=new WeakMap,rm=new WeakMap,nm=new WeakMap,sm=new WeakMap,im=new WeakMap,om=new WeakMap,am=new WeakMap,cm=new WeakMap,um=new WeakMap,eh=new WeakMap,vl=new WeakMap,Fc=new WeakMap,Pl=new WeakMap,fm=new WeakMap,lm=new WeakSet,s3=function(e,t){(0,Z.assert)(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return Iae(this,n);case 1:return Lae(this,n);case 2:return jae(this,n);case 3:return Dae(this,n,t?this.blobs:null);case 4:return Hae(this,n)}(0,Z.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};c3.Transaction=GN});var Os=M(io=>{y();b();Object.defineProperty(io,"__esModule",{value:!0});io.Transaction=io.recoverAddress=io.computeAddress=io.authorizationify=io.accessListify=void 0;var Gae=LN();Object.defineProperty(io,"accessListify",{enumerable:!0,get:function(){return Gae.accessListify}});var Kae=UN();Object.defineProperty(io,"authorizationify",{enumerable:!0,get:function(){return Kae.authorizationify}});var bH=qN();Object.defineProperty(io,"computeAddress",{enumerable:!0,get:function(){return bH.computeAddress}});Object.defineProperty(io,"recoverAddress",{enumerable:!0,get:function(){return bH.recoverAddress}});var Vae=yH();Object.defineProperty(io,"Transaction",{enumerable:!0,get:function(){return Vae.Transaction}})});var wH=M(hm=>{y();b();Object.defineProperty(hm,"__esModule",{value:!0});hm.verifyAuthorization=hm.hashAuthorization=void 0;var zae=Qr(),Jae=on(),Wae=Os(),n_=ue();function xH(r){return(0,n_.assertArgument)(typeof r.address=="string","invalid address for hashAuthorization","auth.address",r),(0,Jae.keccak256)((0,n_.concat)(["0x05",(0,n_.encodeRlp)([r.chainId!=null?(0,n_.toBeArray)(r.chainId):"0x",(0,zae.getAddress)(r.address),r.nonce!=null?(0,n_.toBeArray)(r.nonce):"0x"])]))}hm.hashAuthorization=xH;function $ae(r,e){return(0,Wae.recoverAddress)(xH(r),e)}hm.verifyAuthorization=$ae});var VN=M(u3=>{y();b();Object.defineProperty(u3,"__esModule",{value:!0});u3.id=void 0;var Zae=on(),Qae=ue();function Xae(r){return(0,Zae.keccak256)((0,Qae.toUtf8Bytes)(r))}u3.id=Xae});var a4=M(oo=>{"use strict";y();b();var Yae="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI",_H=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),vH=4;function ece(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),s=1,i=[0,1];for(let H=1;H<n;H++)i.push(s+=t());let o=t(),a=e;e+=o;let c=0,f=0;function g(){return c==0&&(f=f<<8|r[e++],c=8),f>>--c&1}let p=31,A=2**p,P=A>>>1,C=P>>1,N=A-1,L=0;for(let H=0;H<p;H++)L=L<<1|g();let F=[],D=0,q=A;for(;;){let H=Math.floor(((L-D+1)*s-1)/q),G=0,V=n;for(;V-G>1;){let se=G+V>>>1;H<i[se]?V=se:G=se}if(G==0)break;F.push(G);let J=D+Math.floor(q*i[G]/s),ae=D+Math.floor(q*i[G+1]/s)-1;for(;((J^ae)&P)==0;)L=L<<1&N|g(),J=J<<1&N,ae=ae<<1&N|1;for(;J&~ae&C;)L=L&P|L<<1&N>>>1|g(),J=J<<1^P,ae=(ae^P)<<1|P|1;D=J,q=1+ae-J}let K=n-4;return F.map(H=>{switch(H-K){case 3:return K+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return K+256+(r[a++]<<8|r[a++]);case 1:return K+r[a++];default:return H-1}})}function tce(r){let e=0;return()=>r[e++]}function kH(r){return tce(ece(rce(r)))}function rce(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=r.length,n=new Uint8Array(6*t>>3);for(let s=0,i=0,o=0,a=0;s<t;s++)a=a<<6|e[r.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function nce(r){return r&1?~r>>1:r>>1}function sce(r,e){let t=Array(r);for(let n=0,s=0;n<r;n++)t[n]=s+=nce(e());return t}function a_(r,e=0){let t=[];for(;;){let n=r(),s=r();if(!s)break;e+=n;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function OH(r){return c_(()=>{let e=a_(r);if(e.length)return e})}function TH(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(ice(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(oce(t,r))}return e.flat()}function c_(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function NH(r,e,t){let n=Array(r).fill().map(()=>[]);for(let s=0;s<e;s++)sce(r,t).forEach((i,o)=>n[o].push(i));return n}function ice(r,e){let t=1+e(),n=e(),s=c_(e);return NH(s.length,1+r,e).flatMap((o,a)=>{let[c,...f]=o;return Array(s[a]).fill().map((g,p)=>{let A=p*n;return[c+p*t,f.map(P=>P+A)]})})}function oce(r,e){let t=1+e();return NH(t,1+r,e).map(s=>[s[0],s.slice(1)])}function ace(r){let e=[],t=a_(r);return s(n([]),[]),e;function n(i){let o=r(),a=c_(()=>{let c=a_(r).map(f=>t[f]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let f of o)for(let g of f.Q)s(f,[...a,g],c)}}}function cce(r){return r.toString(16).toUpperCase().padStart(2,"0")}function CH(r){return`{${cce(r)}}`}function t4(r){let e=[];for(let t=0,n=r.length;t<n;){let s=r.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function El(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}function RH(r,e){let t=r.length,n=t-e.length;for(let s=0;n==0&&s<t;s++)n=r[s]-e[s];return n}var uce="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g",u_=44032,l3=4352,d3=4449,h3=4519,BH=19,IH=21,mm=28,g3=IH*mm,fce=BH*g3,lce=u_+fce,dce=l3+BH,hce=d3+IH,gce=h3+mm;function s_(r){return r>>24&255}function MH(r){return r&16777215}var $N,PH,ZN,f3;function pce(){let r=kH(uce);$N=new Map(OH(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),PH=new Set(a_(r)),ZN=new Map,f3=new Map;for(let[e,t]of TH(r)){if(!PH.has(e)&&t.length==2){let[n,s]=t,i=f3.get(n);i||(i=new Map,f3.set(n,i)),i.set(s,e)}ZN.set(e,t.reverse())}}function jH(r){return r>=u_&&r<lce}function mce(r,e){if(r>=l3&&r<dce&&e>=d3&&e<hce)return u_+(r-l3)*g3+(e-d3)*mm;if(jH(r)&&e>h3&&e<gce&&(r-u_)%mm==0)return r+(e-h3);{let t=f3.get(r);return t&&(t=t.get(e),t)?t:-1}}function FH(r){$N||pce();let e=[],t=[],n=!1;function s(i){let o=$N.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of r)for(;;){if(i<128)e.push(i);else if(jH(i)){let o=i-u_,a=o/g3|0,c=o%g3/mm|0,f=o%mm;s(l3+a),s(d3+c),f>0&&s(h3+f)}else{let o=ZN.get(i);o?t.push(...o):s(i)}if(!t.length)break;i=t.pop()}if(n&&e.length>1){let i=s_(e[0]);for(let o=1;o<e.length;o++){let a=s_(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let f=e[c+1];if(e[c+1]=e[c],e[c]=f,!c||(i=s_(e[--c]),i<=a))break}i=s_(e[o])}}return e}function yce(r){let e=[],t=[],n=-1,s=0;for(let i of r){let o=s_(i),a=MH(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...t),t.length=0,n=a):t.push(a),s=o;else{let c=mce(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(t.push(a),s=o)}}return n>=0&&e.push(n,...t),e}function b3(r){return FH(r).map(MH)}function ym(r){return yce(FH(r))}var AH=45,bce=46,p3=".",LH=65039,UH=1,m3=r=>Array.from(r);function f_(r,e){return r.P.has(e)||r.Q.has(e)}var QN=class extends Array{get is_emoji(){return!0}},y3,r4,rh,XN,DH,qH,pm,zN,gm,Al,YN,e4;function bm(){if(y3)return;let r=kH(Yae),e=()=>a_(r),t=()=>new Set(e()),n=(g,p)=>p.forEach(A=>g.add(A));y3=new Map(TH(r)),r4=t(),rh=e(),XN=new Set(e().map(g=>rh[g])),rh=new Set(rh),DH=t(),qH=t();let s=OH(r),i=r(),o=()=>{let g=new Set;return e().forEach(p=>n(g,s[p])),n(g,e()),g};pm=c_(g=>{let p=c_(r).map(A=>A+96);if(p.length){let A=g>=i;p[0]-=32,p=El(p),A&&(p=`Restricted[${p}]`);let P=o(),C=o(),N=!r();return{N:p,P,Q:C,M:N,R:A}}}),zN=t(),gm=new Map;let a=e().concat(m3(zN)).sort((g,p)=>g-p);a.forEach((g,p)=>{let A=r(),P=a[p]=A?a[p-A]:{V:[],M:new Map};P.V.push(g),zN.has(g)||gm.set(g,P)});for(let{V:g,M:p}of new Set(gm.values())){let A=[];for(let C of g){let N=pm.filter(F=>f_(F,C)),L=A.find(({G:F})=>N.some(D=>F.has(D)));L||(L={G:new Set,V:[]},A.push(L)),L.V.push(C),n(L.G,N)}let P=A.flatMap(C=>m3(C.G));for(let{G:C,V:N}of A){let L=new Set(P.filter(F=>!C.has(F)));for(let F of N)p.set(F,L)}}Al=new Set;let c=new Set,f=g=>Al.has(g)?c.add(g):Al.add(g);for(let g of pm){for(let p of g.P)f(p);for(let p of g.Q)f(p)}for(let g of Al)!gm.has(g)&&!c.has(g)&&gm.set(g,UH);n(Al,b3(Al)),YN=ace(r).map(g=>QN.from(g)).sort(RH),e4=new Map;for(let g of YN){let p=[e4];for(let A of g){let P=p.map(C=>{let N=C.get(A);return N||(N=new Map,C.set(A,N)),N});A===LH?p.push(...P):p=P}for(let A of p)A.V=g}}function n4(r){return(i4(r)?"":`${s4(l_([r]))} `)+CH(r)}function s4(r){return`"${r}"\u200E`}function xce(r){if(r.length>=4&&r[2]==AH&&r[3]==AH)throw new Error(`invalid label extension: "${El(r.slice(0,4))}"`)}function wce(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function _ce(r){let e=r[0],t=_H.get(e);if(t)throw i_(`leading ${t}`);let n=r.length,s=-1;for(let i=1;i<n;i++){e=r[i];let o=_H.get(e);if(o){if(s==i)throw i_(`${t} + ${o}`);s=i+1,t=o}}if(s==n)throw i_(`trailing ${t}`)}function l_(r,e=1/0,t=CH){let n=[];HH(r[0])&&n.push("\u25CC"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let s=0,i=r.length;for(let o=0;o<i;o++){let a=r[o];i4(a)&&(n.push(El(r.slice(s,o))),n.push(t(a)),s=o+1)}return n.push(El(r.slice(s,i))),n.join("")}function HH(r){return bm(),rh.has(r)}function i4(r){return bm(),DH.has(r)}function vce(){return bm(),YN.map(r=>r.slice())}function Pce(r,e){bm();let t=e?b3:ym;return r.split(p3).map(n=>El(zH(t4(n),t,x3).flat())).join(p3)}function Ace(r){return GH(o4(r,ym,x3))}function Ece(r){let e=o4(r,ym,t=>t);for(let{type:t,output:n,error:s}of e){if(s)break;t!=="Greek"&&Sce(n,958,926)}return GH(e)}function Sce(r,e,t){let n=0;for(;;){let s=r.indexOf(e,n);if(s<0)break;r[s]=t,n=s+1}}function kce(r,e){return o4(r,ym,e?t=>t.slice():x3)}function o4(r,e,t){if(!r)return[];bm();let n=0;return r.split(p3).map(s=>{let i=t4(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=zH(i,e,t),c=a.length,f;if(!c)throw new Error("empty label");let g=o.output=a.flat();if(wce(g),!(o.emoji=c>1||a[0].is_emoji)&&g.every(A=>A<128))xce(g),f="ASCII";else{let A=a.flatMap(P=>P.is_emoji?[]:P);if(!A.length)f="Emoji";else{if(rh.has(g[0]))throw i_("leading combining mark");for(let N=1;N<c;N++){let L=a[N];if(!L.is_emoji&&rh.has(L[0]))throw i_(`emoji + combining mark: "${El(a[N-1])} + ${l_([L[0]])}"`)}_ce(g);let P=m3(new Set(A)),[C]=Tce(P);Nce(C,A),Oce(C,P),f=C.N}}o.type=f}catch(a){o.error=a}return o})}function Oce(r,e){let t,n=[];for(let s of e){let i=gm.get(s);if(i===UH)return;if(i){let o=i.M.get(s);if(t=t?t.filter(a=>o.has(a)):m3(o),!t.length)return}else n.push(s)}if(t){for(let s of t)if(n.every(i=>f_(s,i)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function Tce(r){let e=pm;for(let t of r){let n=e.filter(s=>f_(s,t));if(!n.length)throw pm.some(s=>f_(s,t))?VH(e[0],t):KH(t);if(e=n,n.length==1)break}return e}function GH(r){return r.map(({input:e,error:t,output:n})=>{if(t){let s=t.message;throw new Error(r.length==1?s:`Invalid label ${s4(l_(e,63))}: ${s}`)}return El(n)}).join(p3)}function KH(r){return new Error(`disallowed character: ${n4(r)}`)}function VH(r,e){let t=n4(e),n=pm.find(s=>s.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function i_(r){return new Error(`illegal placement: ${r}`)}function Nce(r,e){for(let t of e)if(!f_(r,t))throw VH(r,t);if(r.M){let t=b3(e);for(let n=1,s=t.length;n<s;n++)if(XN.has(t[n])){let i=n+1;for(let o;i<s&&XN.has(o=t[i]);i++)for(let a=n;a<i;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${n4(o)}`);if(i-n>vH)throw new Error(`excessive non-spacing marks: ${s4(l_(t.slice(n-1,i)))} (${i-n}/${vH})`);n=i}}}function zH(r,e,t){let n=[],s=[];for(r=r.slice().reverse();r.length;){let i=JH(r);if(i)s.length&&(n.push(e(s)),s=[]),n.push(t(i));else{let o=r.pop();if(Al.has(o))s.push(o);else{let a=y3.get(o);if(a)s.push(...a);else if(!r4.has(o))throw KH(o)}}}return s.length&&n.push(e(s)),n}function x3(r){return r.filter(e=>e!=LH)}function JH(r,e){let t=e4,n,s=r.length;for(;s&&(t=t.get(r[--s]),!!t);){let{V:i}=t;i&&(n=i,e&&e.push(...r.slice(s).reverse()),r.length=s)}return n}var o_="valid",WH="mapped",JN="ignored",Cce="disallowed",Rce="emoji",Bce="nfc",Ice="stop";function $H(r,{nf:e=!0}={}){bm();let t=t4(r).reverse(),n=[],s=[];for(;t.length;){let i=JH(t,n);if(i)s.push({type:Rce,emoji:i.slice(),input:n,cps:x3(i)}),n=[];else{let o=t.pop();if(o==bce)s.push({type:Ice,cp:o});else if(Al.has(o))s.push({type:o_,cps:[o]});else if(r4.has(o))s.push({type:JN,cp:o});else{let a=y3.get(o);a?s.push({type:WH,cp:o,cps:a.slice()}):s.push({type:Cce,cp:o})}}}if(e)for(let i=0,o=-1;i<s.length;i++){let a=s[i];if(WN(a.type))if(EH(a.cps)){let c=i+1;for(let A=c;A<s.length;A++){let{type:P,cps:C}=s[A];if(WN(P)){if(!EH(C))break;c=A+1}else if(P!==JN)break}o<0&&(o=i);let f=s.slice(o,c),g=f.flatMap(A=>WN(A.type)?A.cps:[]),p=ym(g);RH(p,g)?(s.splice(o,c-o,{type:Bce,input:g,cps:p,tokens0:SH(f),tokens:$H(El(p),{nf:!1})}),i=o):i=c-1,o=-1}else o=i;else a.type!==JN&&(o=-1)}return SH(s)}function WN(r){return r==o_||r==WH}function EH(r){return r.some(e=>qH.has(e))}function SH(r){for(let e=0;e<r.length;e++)if(r[e].type==o_){let t=e+1;for(;t<r.length&&r[t].type==o_;)t++;r.splice(e,t-e,{type:o_,cps:r.slice(e,t).flatMap(n=>n.cps)})}return r}oo.ens_beautify=Ece;oo.ens_emoji=vce;oo.ens_normalize=Ace;oo.ens_normalize_fragment=Pce;oo.ens_split=kce;oo.ens_tokenize=$H;oo.is_combining_mark=HH;oo.nfc=ym;oo.nfd=b3;oo.safe_str_from_cps=l_;oo.should_escape=i4});var eG=M(Uc=>{y();b();Object.defineProperty(Uc,"__esModule",{value:!0});Uc.dnsEncode=Uc.namehash=Uc.isValidName=Uc.ensNormalize=void 0;var ZH=on(),ao=ue(),Mce=a4(),XH=new Uint8Array(32);XH.fill(0);function QH(r){return(0,ao.assertArgument)(r.length!==0,"invalid ENS name; empty component","comp",r),r}function c4(r){let e=(0,ao.toUtf8Bytes)(YH(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(QH(e.slice(n,s))),n=s+1);return(0,ao.assertArgument)(n<e.length,"invalid ENS name; empty component","name",r),t.push(QH(e.slice(n))),t}function YH(r){try{if(r.length===0)throw new Error("empty label");return(0,Mce.ens_normalize)(r)}catch(e){(0,ao.assertArgument)(!1,`invalid ENS name (${e.message})`,"name",r)}}Uc.ensNormalize=YH;function jce(r){try{return c4(r).length!==0}catch{}return!1}Uc.isValidName=jce;function Fce(r){(0,ao.assertArgument)(typeof r=="string","invalid ENS name; not a string","name",r),(0,ao.assertArgument)(r.length,"invalid ENS name (empty label)","name",r);let e=XH,t=c4(r);for(;t.length;)e=(0,ZH.keccak256)((0,ao.concat)([e,(0,ZH.keccak256)(t.pop())]));return(0,ao.hexlify)(e)}Uc.namehash=Fce;function Lce(r,e){let t=e??63;return(0,ao.assertArgument)(t<=255,"DNS encoded label cannot exceed 255","length",t),(0,ao.hexlify)((0,ao.concat)(c4(r).map(n=>{(0,ao.assertArgument)(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);let s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}Uc.dnsEncode=Lce});var rG=M(xm=>{y();b();Object.defineProperty(xm,"__esModule",{value:!0});xm.verifyMessage=xm.hashMessage=void 0;var Uce=on(),Dce=Kp(),qce=Os(),w3=ue();function tG(r){return typeof r=="string"&&(r=(0,w3.toUtf8Bytes)(r)),(0,Uce.keccak256)((0,w3.concat)([(0,w3.toUtf8Bytes)(Dce.MessagePrefix),(0,w3.toUtf8Bytes)(String(r.length)),r]))}xm.hashMessage=tG;function Hce(r,e){let t=tG(r);return(0,qce.recoverAddress)(t,e)}xm.verifyMessage=Hce});var iG=M(Sl=>{y();b();Object.defineProperty(Sl,"__esModule",{value:!0});Sl.solidityPackedSha256=Sl.solidityPackedKeccak256=Sl.solidityPacked=void 0;var Gce=Qr(),nG=on(),xr=ue(),Kce=new RegExp("^bytes([0-9]+)$"),Vce=new RegExp("^(u?int)([0-9]*)$"),zce=new RegExp("^(.*)\\[([0-9]*)\\]$");function sG(r,e,t){switch(r){case"address":return t?(0,xr.getBytes)((0,xr.zeroPadValue)(e,32)):(0,xr.getBytes)((0,Gce.getAddress)(e));case"string":return(0,xr.toUtf8Bytes)(e);case"bytes":return(0,xr.getBytes)(e);case"bool":return e=e?"0x01":"0x00",t?(0,xr.getBytes)((0,xr.zeroPadValue)(e,32)):(0,xr.getBytes)(e)}let n=r.match(Vce);if(n){let s=n[1]==="int",i=parseInt(n[2]||"256");return(0,xr.assertArgument)((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",r),t&&(i=256),s&&(e=(0,xr.toTwos)(e,i)),(0,xr.getBytes)((0,xr.zeroPadValue)((0,xr.toBeArray)(e),i/8))}if(n=r.match(Kce),n){let s=parseInt(n[1]);return(0,xr.assertArgument)(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",r),(0,xr.assertArgument)((0,xr.dataLength)(e)===s,`invalid value for ${r}`,"value",e),t?(0,xr.getBytes)((0,xr.zeroPadBytes)(e,32)):e}if(n=r.match(zce),n&&Array.isArray(e)){let s=n[1],i=parseInt(n[2]||String(e.length));(0,xr.assertArgument)(i===e.length,`invalid array length for ${r}`,"value",e);let o=[];return e.forEach(function(a){o.push(sG(s,a,!0))}),(0,xr.getBytes)((0,xr.concat)(o))}(0,xr.assertArgument)(!1,"invalid type","type",r)}function u4(r,e){(0,xr.assertArgument)(r.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return r.forEach(function(n,s){t.push(sG(n,e[s]))}),(0,xr.hexlify)((0,xr.concat)(t))}Sl.solidityPacked=u4;function Jce(r,e){return(0,nG.keccak256)(u4(r,e))}Sl.solidityPackedKeccak256=Jce;function Wce(r,e){return(0,nG.sha256)(u4(r,e))}Sl.solidityPackedSha256=Wce});var pG=M(vm=>{y();b();Object.defineProperty(vm,"__esModule",{value:!0});vm.verifyTypedData=vm.TypedDataEncoder=void 0;var uG=Qr(),wm=on(),$ce=Os(),Ne=ue(),fG=VN(),lG=new Uint8Array(32);lG.fill(0);var Zce=BigInt(-1),dG=BigInt(0),hG=BigInt(1),Qce=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xce(r){let e=(0,Ne.getBytes)(r),t=e.length%32;return t?(0,Ne.concat)([e,lG.slice(t)]):(0,Ne.hexlify)(e)}var Yce=(0,Ne.toBeHex)(hG,32),eue=(0,Ne.toBeHex)(dG,32),oG={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},f4=["name","version","chainId","verifyingContract","salt"];function aG(r){return function(e){return(0,Ne.assertArgument)(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}var tue={name:aG("name"),version:aG("version"),chainId:function(r){let e=(0,Ne.getBigInt)(r,"domain.chainId");return(0,Ne.assertArgument)(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):(0,Ne.toQuantity)(e)},verifyingContract:function(r){try{return(0,uG.getAddress)(r).toLowerCase()}catch{}(0,Ne.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){let e=(0,Ne.getBytes)(r,"domain.salt");return(0,Ne.assertArgument)(e.length===32,'invalid domain value "salt"',"domain.salt",r),(0,Ne.hexlify)(e)}};function l4(r){{let e=r.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",n=parseInt(e[2]);(0,Ne.assertArgument)(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);let s=(0,Ne.mask)(Qce,t?n-1:n),i=t?(s+hG)*Zce:dG;return function(o){let a=(0,Ne.getBigInt)(o,"value");return(0,Ne.assertArgument)(a>=i&&a<=s,`value out-of-bounds for ${r}`,"value",a),(0,Ne.toBeHex)(t?(0,Ne.toTwos)(a,256):a,32)}}}{let e=r.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return(0,Ne.assertArgument)(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){let s=(0,Ne.getBytes)(n);return(0,Ne.assertArgument)(s.length===t,`invalid length for ${r}`,"value",n),Xce(n)}}}switch(r){case"address":return function(e){return(0,Ne.zeroPadValue)((0,uG.getAddress)(e),32)};case"bool":return function(e){return e?Yce:eue};case"bytes":return function(e){return(0,wm.keccak256)(e)};case"string":return function(e){return(0,fG.id)(e)}}return null}function cG(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function _3(r){let e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}var d_,$u,_m,P3,gG,co=class{constructor(e){T(this,P3);O(this,"primaryType");T(this,d_,void 0);T(this,$u,void 0);T(this,_m,void 0);w(this,$u,new Map),w(this,_m,new Map);let t=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:f,type:g})=>{let{base:p,index:A}=_3(g);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:f,type:p+(A||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),w(this,d_,JSON.stringify(i));for(let c in i){let f=new Set;for(let g of i[c]){(0,Ne.assertArgument)(!f.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(c)}`,"types",e),f.add(g.name);let p=_3(g.type).base;(0,Ne.assertArgument)(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!l4(p)&&((0,Ne.assertArgument)(n.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),n.get(p).push(c),t.get(c).add(p))}}let o=Array.from(n.keys()).filter(c=>n.get(c).length===0);(0,Ne.assertArgument)(o.length!==0,"missing primary type","types",e),(0,Ne.assertArgument)(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),(0,Ne.defineProperties)(this,{primaryType:o[0]});function a(c,f){(0,Ne.assertArgument)(!f.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),f.add(c);for(let g of t.get(c))if(!!n.has(g)){a(g,f);for(let p of f)s.get(p).add(g)}f.delete(c)}a(this.primaryType,new Set);for(let[c,f]of s){let g=Array.from(f);g.sort(),h(this,$u).set(c,cG(c,i[c])+g.map(p=>cG(p,i[p])).join(""))}}get types(){return JSON.parse(h(this,d_))}getEncoder(e){let t=h(this,_m).get(e);return t||(t=U(this,P3,gG).call(this,e),h(this,_m).set(e,t)),t}encodeType(e){let t=h(this,$u).get(e);return(0,Ne.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,wm.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(l4(e))return n(e,t);let s=_3(e).array;if(s)return(0,Ne.assertArgument)(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,n));let i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{});(0,Ne.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new co(e)}static getPrimaryType(e){return co.from(e).primaryType}static hashStruct(e,t,n){return co.from(t).hashStruct(e,n)}static hashDomain(e){let t=[];for(let n in e){if(e[n]==null)continue;let s=oG[n];(0,Ne.assertArgument)(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>f4.indexOf(n.name)-f4.indexOf(s.name)),co.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return(0,Ne.concat)(["0x1901",co.hashDomain(e),co.from(t).hash(n)])}static hash(e,t,n){return(0,wm.keccak256)(co.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!(0,Ne.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=co.from(t);o.visit(n,(a,c)=>(a==="address"&&!(0,Ne.isHexString)(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,t,n){co.hashDomain(e);let s={},i=[];f4.forEach(c=>{let f=e[c];f!=null&&(s[c]=tue[c](f),i.push({name:c,type:oG[c]}))});let o=co.from(t);t=o.types;let a=Object.assign({},t);return(0,Ne.assertArgument)(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return(0,Ne.hexlify)((0,Ne.getBytes)(f));if(c.match(/^u?int/))return(0,Ne.getBigInt)(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return(0,Ne.assertArgument)(typeof f=="string","invalid string","value",f),f}(0,Ne.assertArgument)(!1,"unsupported type","type",c)})}}},v3=co;d_=new WeakMap,$u=new WeakMap,_m=new WeakMap,P3=new WeakSet,gG=function(e){{let s=l4(e);if(s)return s}let t=_3(e).array;if(t){let s=t.prefix,i=this.getEncoder(s);return o=>{(0,Ne.assertArgument)(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return h(this,$u).has(s)&&(a=a.map(wm.keccak256)),(0,wm.keccak256)((0,Ne.concat)(a))}}let n=this.types[e];if(n){let s=(0,fG.id)(h(this,$u).get(e));return i=>{let o=n.map(({name:a,type:c})=>{let f=this.getEncoder(c)(i[a]);return h(this,$u).has(c)?(0,wm.keccak256)(f):f});return o.unshift(s),(0,Ne.concat)(o)}}(0,Ne.assertArgument)(!1,`unknown type: ${e}`,"type",e)};vm.TypedDataEncoder=v3;function rue(r,e,t,n){return(0,$ce.recoverAddress)(v3.hash(r,e,t),n)}vm.verifyTypedData=rue});var Dc=M(rr=>{y();b();Object.defineProperty(rr,"__esModule",{value:!0});rr.verifyTypedData=rr.TypedDataEncoder=rr.solidityPackedSha256=rr.solidityPackedKeccak256=rr.solidityPacked=rr.verifyMessage=rr.hashMessage=rr.dnsEncode=rr.namehash=rr.isValidName=rr.ensNormalize=rr.id=rr.verifyAuthorization=rr.hashAuthorization=void 0;var mG=wH();Object.defineProperty(rr,"hashAuthorization",{enumerable:!0,get:function(){return mG.hashAuthorization}});Object.defineProperty(rr,"verifyAuthorization",{enumerable:!0,get:function(){return mG.verifyAuthorization}});var nue=VN();Object.defineProperty(rr,"id",{enumerable:!0,get:function(){return nue.id}});var A3=eG();Object.defineProperty(rr,"ensNormalize",{enumerable:!0,get:function(){return A3.ensNormalize}});Object.defineProperty(rr,"isValidName",{enumerable:!0,get:function(){return A3.isValidName}});Object.defineProperty(rr,"namehash",{enumerable:!0,get:function(){return A3.namehash}});Object.defineProperty(rr,"dnsEncode",{enumerable:!0,get:function(){return A3.dnsEncode}});var yG=rG();Object.defineProperty(rr,"hashMessage",{enumerable:!0,get:function(){return yG.hashMessage}});Object.defineProperty(rr,"verifyMessage",{enumerable:!0,get:function(){return yG.verifyMessage}});var d4=iG();Object.defineProperty(rr,"solidityPacked",{enumerable:!0,get:function(){return d4.solidityPacked}});Object.defineProperty(rr,"solidityPackedKeccak256",{enumerable:!0,get:function(){return d4.solidityPackedKeccak256}});Object.defineProperty(rr,"solidityPackedSha256",{enumerable:!0,get:function(){return d4.solidityPackedSha256}});var bG=pG();Object.defineProperty(rr,"TypedDataEncoder",{enumerable:!0,get:function(){return bG.TypedDataEncoder}});Object.defineProperty(rr,"verifyTypedData",{enumerable:!0,get:function(){return bG.verifyTypedData}})});var O3=M(an=>{y();b();Object.defineProperty(an,"__esModule",{value:!0});an.StructFragment=an.FunctionFragment=an.FallbackFragment=an.ConstructorFragment=an.EventFragment=an.ErrorFragment=an.NamedFragment=an.Fragment=an.ParamType=void 0;var $t=ue(),g4=Dc();function Ts(r){let e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}var sue="external public payable override",iue=Ts(sue.split(" ")),OG="constant external internal payable private public pure view override",oue=Ts(OG.split(" ")),TG="constructor error event fallback function receive struct",NG=Ts(TG.split(" ")),CG="calldata memory storage payable indexed",aue=Ts(CG.split(" ")),cue="tuple returns",uue=[TG,CG,cue,OG].join(" "),fue=Ts(uue.split(" ")),lue={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},due=new RegExp("^(\\s*)"),hue=new RegExp("^([0-9]+)"),gue=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),RG=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),BG=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Gn,Ma,g_,h4,S3=class{constructor(e){T(this,g_);T(this,Gn,void 0);T(this,Ma,void 0);w(this,Gn,0),w(this,Ma,e.slice())}get offset(){return h(this,Gn)}get length(){return h(this,Ma).length-h(this,Gn)}clone(){return new S3(h(this,Ma))}reset(){w(this,Gn,0)}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=U(this,g_,h4).call(this,h(this,Gn)+1,e.match+1);return w(this,Gn,e.match+1),t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;h(this,Gn)<e.match-1;){let n=this.peek().linkNext;t.push(U(this,g_,h4).call(this,h(this,Gn)+1,n)),w(this,Gn,n)}return w(this,Gn,e.match+1),t}peek(){if(h(this,Gn)>=h(this,Ma).length)throw new Error("out-of-bounds");return h(this,Ma)[h(this,Gn)]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return kn(this,Gn)._++,e}toString(){let e=[];for(let t=h(this,Gn);t<h(this,Ma).length;t++){let n=h(this,Ma)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}},La=S3;Gn=new WeakMap,Ma=new WeakMap,g_=new WeakSet,h4=function(e=0,t=0){return new S3(h(this,Ma).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};function kl(r){let e=[],t=o=>{let a=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)},n=[],s=[],i=0;for(;i<r.length;){let o=r.substring(i),a=o.match(due);a&&(i+=a[1].length,o=r.substring(i));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let f=lue[o[0]]||"";if(f){if(c.type=f,c.text=o[0],i++,f==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(f==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(f==="OPEN_BRACKET")c.type="BRACKET";else if(f==="CLOSE_BRACKET"){let g=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let p=e.pop().text;g=p+g,e[e.length-1].value=(0,$t.getNumber)(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=g}continue}if(a=o.match(gue),a){if(c.text=a[1],i+=c.text.length,fue.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(BG)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(hue),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new La(e.map(o=>Object.freeze(o)))}function xG(r,e){let t=[];for(let n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function k3(r,e){if(e.peekKeyword(NG)){let t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function Qu(r,e){let t=new Set;for(;;){let n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function IG(r){let e=Qu(r,oue);return xG(e,Ts("constant payable nonpayable".split(" "))),xG(e,Ts("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Zu(r,e){return r.popParams().map(t=>ti.from(t,e))}function MG(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return(0,$t.getBigInt)(r.pop().text);throw new Error("invalid gas")}return null}function nh(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}var pue=new RegExp(/^(.*)\[([0-9]*)\]$/);function wG(r){let e=r.match(BG);if((0,$t.assertArgument)(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){let t=parseInt(e[2]);(0,$t.assertArgument)(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){let t=parseInt(e[3]);(0,$t.assertArgument)(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}var Rr={},ri=Symbol.for("_ethers_internal"),_G="_ParamTypeInternal",vG="_ErrorInternal",PG="_EventInternal",AG="_ConstructorInternal",EG="_FallbackInternal",SG="_FunctionInternal",kG="_StructInternal",Pm,E3,uo=class{constructor(e,t,n,s,i,o,a,c){T(this,Pm);O(this,"name");O(this,"type");O(this,"baseType");O(this,"indexed");O(this,"components");O(this,"arrayLength");O(this,"arrayChildren");if((0,$t.assertPrivate)(e,Rr,"ParamType"),Object.defineProperty(this,ri,{value:_G}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");(0,$t.defineProperties)(this,{name:t,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){let n=[],s=[e];return U(this,Pm,E3).call(this,n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(uo.isParamType(e))return e;if(typeof e=="string")try{return uo.from(kl(e),t)}catch{(0,$t.assertArgument)(!1,"invalid param type","obj",e)}else if(e instanceof La){let a="",c="",f=null;Qu(e,Ts(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",f=e.popParams().map(N=>uo.from(N)),a=`tuple(${f.map(N=>N.format()).join(",")})`):(a=wG(e.popType("TYPE")),c=a);let g=null,p=null;for(;e.length&&e.peekType("BRACKET");){let N=e.pop();g=new uo(Rr,"",a,c,null,f,p,g),p=N.value,a+=N.text,c="array",f=null}let A=null;if(Qu(e,aue).has("indexed")){if(!t)throw new Error("");A=!0}let C=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new uo(Rr,C,a,c,A,f,p,g)}let n=e.name;(0,$t.assertArgument)(!n||typeof n=="string"&&n.match(RG),"invalid name","obj.name",n);let s=e.indexed;s!=null&&((0,$t.assertArgument)(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(pue);if(o){let a=parseInt(o[2]||"-1"),c=uo.from({type:o[1],components:e.components});return new uo(Rr,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(f=>uo.from(f)):null;return new uo(Rr,n||"",i,"tuple",s,a,null,null)}return i=wG(e.type),new uo(Rr,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[ri]===_G}},ti=uo;Pm=new WeakSet,E3=function(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=t.slice();a.forEach((c,f)=>{var g;U(g=o,Pm,E3).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}if(this.isTuple()){let o=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,f)=>{var g;U(g=o[f],Pm,E3).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}let i=n(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};an.ParamType=ti;var Xu=class{constructor(e,t,n){O(this,"type");O(this,"inputs");(0,$t.assertPrivate)(e,Rr,"Fragment"),n=Object.freeze(n.slice()),(0,$t.defineProperties)(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{Xu.from(JSON.parse(e))}catch{}return Xu.from(kl(e))}if(e instanceof La)switch(e.peekKeyword(NG)){case"constructor":return Fa.from(e);case"error":return ja.from(e);case"event":return lo.from(e);case"fallback":case"receive":return fo.from(e);case"function":return ho.from(e);case"struct":return qc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Fa.from(e);case"error":return ja.from(e);case"event":return lo.from(e);case"fallback":case"receive":return fo.from(e);case"function":return ho.from(e);case"struct":return qc.from(e)}(0,$t.assert)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,$t.assertArgument)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Fa.isFragment(e)}static isError(e){return ja.isFragment(e)}static isEvent(e){return lo.isFragment(e)}static isFunction(e){return ho.isFragment(e)}static isStruct(e){return qc.isFragment(e)}};an.Fragment=Xu;var sh=class extends Xu{constructor(t,n,s,i){super(t,n,i);O(this,"name");(0,$t.assertArgument)(typeof s=="string"&&s.match(RG),"invalid identifier","name",s),i=Object.freeze(i.slice()),(0,$t.defineProperties)(this,{name:s})}};an.NamedFragment=sh;function h_(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}var ja=class extends sh{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,ri,{value:vG})}get selector(){return(0,g4.id)(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+h_(e,this.inputs)),t.join(" ")}static from(e){if(ja.isFragment(e))return e;if(typeof e=="string")return ja.from(kl(e));if(e instanceof La){let t=k3("error",e),n=Zu(e);return nh(e),new ja(Rr,t,n)}return new ja(Rr,e.name,e.inputs?e.inputs.map(ti.from):[])}static isFragment(e){return e&&e[ri]===vG}};an.ErrorFragment=ja;var lo=class extends sh{constructor(t,n,s,i){super(t,"event",n,s);O(this,"anonymous");Object.defineProperty(this,ri,{value:PG}),(0,$t.defineProperties)(this,{anonymous:i})}get topicHash(){return(0,g4.id)(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+h_(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(i=>ti.from(i)),new lo(Rr,t,n,!1).topicHash}static from(t){if(lo.isFragment(t))return t;if(typeof t=="string")try{return lo.from(kl(t))}catch{(0,$t.assertArgument)(!1,"invalid event fragment","obj",t)}else if(t instanceof La){let n=k3("event",t),s=Zu(t,!0),i=!!Qu(t,Ts(["anonymous"])).has("anonymous");return nh(t),new lo(Rr,n,s,i)}return new lo(Rr,t.name,t.inputs?t.inputs.map(n=>ti.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[ri]===PG}};an.EventFragment=lo;var Fa=class extends Xu{constructor(t,n,s,i,o){super(t,n,s);O(this,"payable");O(this,"gas");Object.defineProperty(this,ri,{value:AG}),(0,$t.defineProperties)(this,{payable:i,gas:o})}format(t){if((0,$t.assert)(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[`constructor${h_(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(Fa.isFragment(t))return t;if(typeof t=="string")try{return Fa.from(kl(t))}catch{(0,$t.assertArgument)(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof La){Qu(t,Ts(["constructor"]));let n=Zu(t),s=!!Qu(t,iue).has("payable"),i=MG(t);return nh(t),new Fa(Rr,"constructor",n,s,i)}return new Fa(Rr,"constructor",t.inputs?t.inputs.map(ti.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ri]===AG}};an.ConstructorFragment=Fa;var fo=class extends Xu{constructor(t,n,s){super(t,"fallback",n);O(this,"payable");Object.defineProperty(this,ri,{value:EG}),(0,$t.defineProperties)(this,{payable:s})}format(t){let n=this.inputs.length===0?"receive":"fallback";if(t==="json"){let s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(t){if(fo.isFragment(t))return t;if(typeof t=="string")try{return fo.from(kl(t))}catch{(0,$t.assertArgument)(!1,"invalid fallback fragment","obj",t)}else if(t instanceof La){let n=t.toString(),s=t.peekKeyword(Ts(["fallback","receive"]));if((0,$t.assertArgument)(s,"type must be fallback or receive","obj",n),t.popKeyword(Ts(["fallback","receive"]))==="receive"){let c=Zu(t);return(0,$t.assertArgument)(c.length===0,"receive cannot have arguments","obj.inputs",c),Qu(t,Ts(["payable"])),nh(t),new fo(Rr,[],!0)}let o=Zu(t);o.length?(0,$t.assertArgument)(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[ti.from("bytes")];let a=IG(t);if((0,$t.assertArgument)(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Qu(t,Ts(["returns"])).has("returns")){let c=Zu(t);(0,$t.assertArgument)(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(f=>f.format("minimal")).join(", "))}return nh(t),new fo(Rr,o,a==="payable")}if(t.type==="receive")return new fo(Rr,[],!0);if(t.type==="fallback"){let n=[ti.from("bytes")],s=t.stateMutability==="payable";return new fo(Rr,n,s)}(0,$t.assertArgument)(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[ri]===EG}};an.FallbackFragment=fo;var ho=class extends sh{constructor(t,n,s,i,o,a){super(t,"function",n,i);O(this,"constant");O(this,"outputs");O(this,"stateMutability");O(this,"payable");O(this,"gas");Object.defineProperty(this,ri,{value:SG}),o=Object.freeze(o.slice());let c=s==="view"||s==="pure",f=s==="payable";(0,$t.defineProperties)(this,{constant:c,gas:a,outputs:o,payable:f,stateMutability:s})}get selector(){return(0,g4.id)(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+h_(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(h_(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(i=>ti.from(i)),new ho(Rr,t,"view",n,[],null).selector}static from(t){if(ho.isFragment(t))return t;if(typeof t=="string")try{return ho.from(kl(t))}catch{(0,$t.assertArgument)(!1,"invalid function fragment","obj",t)}else if(t instanceof La){let s=k3("function",t),i=Zu(t),o=IG(t),a=[];Qu(t,Ts(["returns"])).has("returns")&&(a=Zu(t));let c=MG(t);return nh(t),new ho(Rr,s,o,i,a,c)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new ho(Rr,t.name,n,t.inputs?t.inputs.map(ti.from):[],t.outputs?t.outputs.map(ti.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[ri]===SG}};an.FunctionFragment=ho;var qc=class extends sh{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,ri,{value:kG})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return qc.from(kl(e))}catch{(0,$t.assertArgument)(!1,"invalid struct fragment","obj",e)}else if(e instanceof La){let t=k3("struct",e),n=Zu(e);return nh(e),new qc(Rr,t,n)}return new qc(Rr,e.name,e.inputs?e.inputs.map(ti.from):[])}static isFragment(e){return e&&e[ri]===kG}};an.StructFragment=qc});var b4=M(C3=>{y();b();Object.defineProperty(C3,"__esModule",{value:!0});C3.AbiCoder=void 0;var p_=ue(),jG=eo(),mue=Yq(),yue=SN(),bue=nH(),xue=TN(),wue=iH(),_ue=oH(),vue=aH(),Pue=uH(),T3=lH(),p4=O3(),FG=Qr(),m_=ue(),Ua=new Map;Ua.set(0,"GENERIC_PANIC");Ua.set(1,"ASSERT_FALSE");Ua.set(17,"OVERFLOW");Ua.set(18,"DIVIDE_BY_ZERO");Ua.set(33,"ENUM_RANGE_ERROR");Ua.set(34,"BAD_STORAGE_DATA");Ua.set(49,"STACK_UNDERFLOW");Ua.set(50,"ARRAY_RANGE_ERROR");Ua.set(65,"OUT_OF_MEMORY");Ua.set(81,"UNINITIALIZED_FUNCTION_CALL");var Aue=new RegExp(/^bytes([0-9]*)$/),Eue=new RegExp(/^(u?int)([0-9]*)$/),m4=null,LG=1024;function Sue(r,e,t,n){let s="missing revert data",i=null,o=null,a=null;if(t){s="execution reverted";let f=(0,m_.getBytes)(t);if(t=(0,m_.hexlify)(t),f.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(f.length%32!==4)s+=" (could not decode reason; invalid data length)";else if((0,m_.hexlify)(f.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if((0,m_.hexlify)(f.slice(0,4))==="0x4e487b71")try{let g=Number(n.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[g]},i=`Panic due to ${Ua.get(g)||"UNKNOWN"}(${g})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?(0,FG.getAddress)(e.to):null,data:e.data||"0x"};return e.from&&(c.from=(0,FG.getAddress)(e.from)),(0,m_.makeError)(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:c,invocation:o,revert:a})}var Ol,Am,N3=class{constructor(){T(this,Ol)}getDefaultValue(e){let t=e.map(s=>U(this,Ol,Am).call(this,p4.ParamType.from(s)));return new T3.TupleCoder(t,"_").defaultValue()}encode(e,t){(0,p_.assertArgumentCount)(t.length,e.length,"types/values length mismatch");let n=e.map(o=>U(this,Ol,Am).call(this,p4.ParamType.from(o))),s=new T3.TupleCoder(n,"_"),i=new jG.Writer;return s.encode(i,t),i.data}decode(e,t,n){let s=e.map(o=>U(this,Ol,Am).call(this,p4.ParamType.from(o)));return new T3.TupleCoder(s,"_").decode(new jG.Reader(t,n,LG))}static _setDefaultMaxInflation(e){(0,p_.assertArgument)(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),LG=e}static defaultAbiCoder(){return m4==null&&(m4=new N3),m4}static getBuiltinCallException(e,t,n){return Sue(e,t,n,N3.defaultAbiCoder())}},y4=N3;Ol=new WeakSet,Am=function(e){if(e.isArray())return new yue.ArrayCoder(U(this,Ol,Am).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new T3.TupleCoder(e.components.map(n=>U(this,Ol,Am).call(this,n)),e.name);switch(e.baseType){case"address":return new mue.AddressCoder(e.name);case"bool":return new bue.BooleanCoder(e.name);case"string":return new Pue.StringCoder(e.name);case"bytes":return new xue.BytesCoder(e.name);case"":return new _ue.NullCoder(e.name)}let t=e.type.match(Eue);if(t){let n=parseInt(t[2]||"256");return(0,p_.assertArgument)(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new vue.NumberCoder(n/8,t[1]==="int",e.name)}if(t=e.type.match(Aue),t){let n=parseInt(t[1]);return(0,p_.assertArgument)(n!==0&&n<=32,"invalid bytes length","param",e),new wue.FixedBytesCoder(n,e.name)}(0,p_.assertArgument)(!1,"invalid type","type",e.type)};C3.AbiCoder=y4});var UG=M(Em=>{y();b();Object.defineProperty(Em,"__esModule",{value:!0});Em.decodeBytes32String=Em.encodeBytes32String=void 0;var R3=ue();function kue(r){let e=(0,R3.toUtf8Bytes)(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,R3.zeroPadBytes)(e,32)}Em.encodeBytes32String=kue;function Oue(r){let e=(0,R3.getBytes)(r,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return(0,R3.toUtf8String)(e.slice(0,t))}Em.decodeBytes32String=Oue});var VG=M(os=>{y();b();Object.defineProperty(os,"__esModule",{value:!0});os.Interface=os.Indexed=os.ErrorDescription=os.TransactionDescription=os.LogDescription=os.Result=os.checkResultErrors=void 0;var DG=on(),qG=Dc(),xe=ue(),HG=b4(),_4=eo();Object.defineProperty(os,"checkResultErrors",{enumerable:!0,get:function(){return _4.checkResultErrors}});Object.defineProperty(os,"Result",{enumerable:!0,get:function(){return _4.Result}});var Da=O3(),x4=Mc(),M3=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"signature");O(this,"topic");O(this,"args");let s=e.name,i=e.format();(0,xe.defineProperties)(this,{fragment:e,name:s,signature:i,topic:t,args:n})}};os.LogDescription=M3;var j3=class{constructor(e,t,n,s){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");O(this,"value");let i=e.name,o=e.format();(0,xe.defineProperties)(this,{fragment:e,name:i,args:n,signature:o,selector:t,value:s})}};os.TransactionDescription=j3;var F3=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");let s=e.name,i=e.format();(0,xe.defineProperties)(this,{fragment:e,name:s,args:n,signature:i,selector:t})}};os.ErrorDescription=F3;var y_=class{constructor(e){O(this,"hash");O(this,"_isIndexed");(0,xe.defineProperties)(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}};os.Indexed=y_;var GG={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},KG={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&GG[r.toString()]&&(e=GG[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}},Hc,Gc,Kc,is,Sm,B3,km,I3,ih=class{constructor(e){T(this,Sm);T(this,km);O(this,"fragments");O(this,"deploy");O(this,"fallback");O(this,"receive");T(this,Hc,void 0);T(this,Gc,void 0);T(this,Kc,void 0);T(this,is,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,w(this,Kc,new Map),w(this,Hc,new Map),w(this,Gc,new Map);let n=[];for(let o of t)try{n.push(Da.Fragment.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}(0,xe.defineProperties)(this,{fragments:Object.freeze(n)});let s=null,i=!1;w(this,is,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,xe.defineProperties)(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:((0,xe.assertArgument)(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=h(this,Kc);break;case"event":c=h(this,Gc);break;case"error":c=h(this,Hc);break;default:return}let f=o.format();c.has(f)||c.set(f,o)}),this.deploy||(0,xe.defineProperties)(this,{deploy:Da.ConstructorFragment.from("constructor()")}),(0,xe.defineProperties)(this,{fallback:s,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return HG.AbiCoder.defaultAbiCoder()}getFunctionName(e){let t=U(this,Sm,B3).call(this,e,null,!1);return(0,xe.assertArgument)(t,"no matching function","key",e),t.name}hasFunction(e){return!!U(this,Sm,B3).call(this,e,null,!1)}getFunction(e,t){return U(this,Sm,B3).call(this,e,t||null,!0)}forEachFunction(e){let t=Array.from(h(this,Kc).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,Kc).get(s),n)}}getEventName(e){let t=U(this,km,I3).call(this,e,null,!1);return(0,xe.assertArgument)(t,"no matching event","key",e),t.name}hasEvent(e){return!!U(this,km,I3).call(this,e,null,!1)}getEvent(e,t){return U(this,km,I3).call(this,e,t||null,!0)}forEachEvent(e){let t=Array.from(h(this,Gc).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,Gc).get(s),n)}}getError(e,t){if((0,xe.isHexString)(e)){let s=e.toLowerCase();if(KG[s])return Da.ErrorFragment.from(KG[s].signature);for(let i of h(this,Hc).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of h(this,Hc))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Da.ErrorFragment.from("error Error(string)"):e==="Panic"?Da.ErrorFragment.from("error Panic(uint256)"):null;if(s.length>1){let i=s.map(o=>JSON.stringify(o.format())).join(", ");(0,xe.assertArgument)(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Da.ErrorFragment.from(e).format(),e==="Error(string)")return Da.ErrorFragment.from("error Error(string)");if(e==="Panic(uint256)")return Da.ErrorFragment.from("error Panic(uint256)");let n=h(this,Hc).get(e);return n||null}forEachError(e){let t=Array.from(h(this,Hc).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,Hc).get(s),n)}}_decodeParams(e,t){return h(this,is).decode(e,t)}_encodeParams(e,t){return h(this,is).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,xe.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,xe.assertArgument)((0,xe.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,xe.dataSlice)(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,xe.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,xe.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,xe.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,xe.assertArgument)((0,xe.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,xe.dataSlice)(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,xe.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,xe.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let i=this.getFunction(e);(0,xe.assertArgument)(i,"unknown function","fragment",e),e=i}let n="invalid length for result data",s=(0,xe.getBytesCopy)(t);if(s.length%32===0)try{return h(this,is).decode(e.outputs,s)}catch{n="could not decode result data"}(0,xe.assert)(!1,n,"BAD_DATA",{value:(0,xe.hexlify)(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){let n=(0,xe.getBytes)(e,"data"),s=HG.AbiCoder.getBuiltinCallException("call",t,n),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){let a=(0,xe.hexlify)(n.slice(0,4)),c=this.getError(a);if(c)try{let f=h(this,is).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:f},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,xe.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,xe.hexlify)(h(this,is).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let i=this.getEvent(e);(0,xe.assertArgument)(i,"unknown event","eventFragment",e),e=i}(0,xe.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let s=(i,o)=>i.type==="string"?(0,qG.id)(o):i.type==="bytes"?(0,DG.keccak256)((0,xe.hexlify)(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=(0,xe.toBeHex)(o):i.type.match(/^bytes/)?o=(0,xe.zeroPadBytes)(o,32):i.type==="address"&&h(this,is).encode(["address"],[o]),(0,xe.zeroPadValue)((0,xe.hexlify)(o),32));for(t.forEach((i,o)=>{let a=e.inputs[o];if(!a.indexed){(0,xe.assertArgument)(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?(0,xe.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){let o=this.getEvent(e);(0,xe.assertArgument)(o,"unknown event","eventFragment",e),e=o}let n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),(0,xe.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{let c=t[a];if(o.indexed)if(o.type==="string")n.push((0,qG.id)(c));else if(o.type==="bytes")n.push((0,DG.keccak256)(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(h(this,is).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:h(this,is).encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){let P=this.getEvent(e);(0,xe.assertArgument)(P,"unknown event","eventFragment",e),e=P}if(n!=null&&!e.anonymous){let P=e.topicHash;(0,xe.assertArgument)((0,xe.isHexString)(n[0],32)&&n[0].toLowerCase()===P,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((P,C)=>{P.indexed?P.type==="string"||P.type==="bytes"||P.baseType==="tuple"||P.baseType==="array"?(s.push(Da.ParamType.from({type:"bytes32",name:P.name})),o.push(!0)):(s.push(P),o.push(!1)):(i.push(P),o.push(!1))});let a=n!=null?h(this,is).decode(s,(0,xe.concat)(n)):null,c=h(this,is).decode(i,t,!0),f=[],g=[],p=0,A=0;return e.inputs.forEach((P,C)=>{let N=null;if(P.indexed)if(a==null)N=new y_(null);else if(o[C])N=new y_(a[A++]);else try{N=a[A++]}catch(L){N=L}else try{N=c[p++]}catch(L){N=L}f.push(N),g.push(P.name||null)}),_4.Result.fromItems(f,g)}parseTransaction(e){let t=(0,xe.getBytes)(e.data,"tx.data"),n=(0,xe.getBigInt)(e.value!=null?e.value:0,"tx.value"),s=this.getFunction((0,xe.hexlify)(t.slice(0,4)));if(!s)return null;let i=h(this,is).decode(s.inputs,t.slice(4));return new j3(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new M3(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=(0,xe.hexlify)(e),n=this.getError((0,xe.dataSlice)(t,0,4));if(!n)return null;let s=h(this,is).decode(n.inputs,(0,xe.dataSlice)(t,4));return new F3(n,n.selector,s)}static from(e){return e instanceof ih?e:typeof e=="string"?new ih(JSON.parse(e)):typeof e.formatJson=="function"?new ih(e.formatJson()):typeof e.format=="function"?new ih(e.format("json")):new ih(e)}},w4=ih;Hc=new WeakMap,Gc=new WeakMap,Kc=new WeakMap,is=new WeakMap,Sm=new WeakSet,B3=function(e,t,n){if((0,xe.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,Kc).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,Kc))o.split("(")[0]===e&&i.push(a);if(t){let o=t.length>0?t[t.length-1]:null,a=t.length,c=!0;x4.Typed.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let f=i.length-1;f>=0;f--){let g=i[f].inputs.length;g!==a&&(!c||g!==a-1)&&i.splice(f,1)}for(let f=i.length-1;f>=0;f--){let g=i[f].inputs;for(let p=0;p<t.length;p++)if(!!x4.Typed.isTyped(t[p])){if(p>=g.length){if(t[p].type==="overrides")continue;i.splice(f,1);break}if(t[p].type!==g[p].baseType){i.splice(f,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){let o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,xe.assertArgument)(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,Kc).get(Da.FunctionFragment.from(e).format());return s||null},km=new WeakSet,I3=function(e,t,n){if((0,xe.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,Gc).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,Gc))o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){let a=i[o].inputs;for(let c=0;c<t.length;c++)if(!!x4.Typed.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,xe.assertArgument)(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,Gc).get(Da.EventFragment.from(e).format());return s||null};os.Interface=w4});var Om=M(De=>{y();b();Object.defineProperty(De,"__esModule",{value:!0});De.Typed=De.Result=De.TransactionDescription=De.LogDescription=De.ErrorDescription=De.Interface=De.Indexed=De.checkResultErrors=De.StructFragment=De.ParamType=De.NamedFragment=De.FunctionFragment=De.Fragment=De.FallbackFragment=De.EventFragment=De.ErrorFragment=De.ConstructorFragment=De.encodeBytes32String=De.decodeBytes32String=De.AbiCoder=void 0;var Tue=b4();Object.defineProperty(De,"AbiCoder",{enumerable:!0,get:function(){return Tue.AbiCoder}});var zG=UG();Object.defineProperty(De,"decodeBytes32String",{enumerable:!0,get:function(){return zG.decodeBytes32String}});Object.defineProperty(De,"encodeBytes32String",{enumerable:!0,get:function(){return zG.encodeBytes32String}});var Yu=O3();Object.defineProperty(De,"ConstructorFragment",{enumerable:!0,get:function(){return Yu.ConstructorFragment}});Object.defineProperty(De,"ErrorFragment",{enumerable:!0,get:function(){return Yu.ErrorFragment}});Object.defineProperty(De,"EventFragment",{enumerable:!0,get:function(){return Yu.EventFragment}});Object.defineProperty(De,"FallbackFragment",{enumerable:!0,get:function(){return Yu.FallbackFragment}});Object.defineProperty(De,"Fragment",{enumerable:!0,get:function(){return Yu.Fragment}});Object.defineProperty(De,"FunctionFragment",{enumerable:!0,get:function(){return Yu.FunctionFragment}});Object.defineProperty(De,"NamedFragment",{enumerable:!0,get:function(){return Yu.NamedFragment}});Object.defineProperty(De,"ParamType",{enumerable:!0,get:function(){return Yu.ParamType}});Object.defineProperty(De,"StructFragment",{enumerable:!0,get:function(){return Yu.StructFragment}});var oh=VG();Object.defineProperty(De,"checkResultErrors",{enumerable:!0,get:function(){return oh.checkResultErrors}});Object.defineProperty(De,"Indexed",{enumerable:!0,get:function(){return oh.Indexed}});Object.defineProperty(De,"Interface",{enumerable:!0,get:function(){return oh.Interface}});Object.defineProperty(De,"ErrorDescription",{enumerable:!0,get:function(){return oh.ErrorDescription}});Object.defineProperty(De,"LogDescription",{enumerable:!0,get:function(){return oh.LogDescription}});Object.defineProperty(De,"TransactionDescription",{enumerable:!0,get:function(){return oh.TransactionDescription}});Object.defineProperty(De,"Result",{enumerable:!0,get:function(){return oh.Result}});var Nue=Mc();Object.defineProperty(De,"Typed",{enumerable:!0,get:function(){return Nue.Typed}})});var Nm=M(ni=>{y();b();Object.defineProperty(ni,"__esModule",{value:!0});ni.TransactionResponse=ni.TransactionReceipt=ni.Log=ni.Block=ni.copyRequest=ni.FeeData=void 0;var wr=ue(),Cue=Os(),JG=BigInt(0);function Tm(r){return r??null}function Xr(r){return r==null?null:r.toString()}var v4=class{constructor(e,t,n){O(this,"gasPrice");O(this,"maxFeePerGas");O(this,"maxPriorityFeePerGas");(0,wr.defineProperties)(this,{gasPrice:Tm(e),maxFeePerGas:Tm(t),maxPriorityFeePerGas:Tm(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Xr(e),maxFeePerGas:Xr(t),maxPriorityFeePerGas:Xr(n)}}};ni.FeeData=v4;function Rue(r){let e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=(0,wr.hexlify)(r.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of t)!(s in r)||r[s]==null||(e[s]=(0,wr.getBigInt)(r[s],`request.${s}`));let n="type,nonce".split(/,/);for(let s of n)!(s in r)||r[s]==null||(e[s]=(0,wr.getNumber)(r[s],`request.${s}`));return r.accessList&&(e.accessList=(0,Cue.accessListify)(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>(0,wr.isBytesLike)(s)?(0,wr.hexlify)(s):Object.assign({},s))),e}ni.copyRequest=Rue;var ef,P4=class{constructor(e,t){O(this,"provider");O(this,"number");O(this,"hash");O(this,"timestamp");O(this,"parentHash");O(this,"parentBeaconBlockRoot");O(this,"nonce");O(this,"difficulty");O(this,"gasLimit");O(this,"gasUsed");O(this,"stateRoot");O(this,"receiptsRoot");O(this,"blobGasUsed");O(this,"excessBlobGas");O(this,"miner");O(this,"prevRandao");O(this,"extraData");O(this,"baseFeePerGas");T(this,ef,void 0);w(this,ef,e.transactions.map(n=>typeof n!="string"?new U3(n,t):n)),(0,wr.defineProperties)(this,{provider:t,hash:Tm(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Tm(e.prevRandao),extraData:e.extraData,baseFeePerGas:Tm(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return h(this,ef).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=h(this,ef).slice();return e.length===0?[]:((0,wr.assert)(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,timestamp:N,transactions:L}=this;return{_type:"Block",baseFeePerGas:Xr(e),difficulty:Xr(t),extraData:n,gasLimit:Xr(s),gasUsed:Xr(i),blobGasUsed:Xr(this.blobGasUsed),excessBlobGas:Xr(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,timestamp:N,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,transactions:L}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return h(this,ef).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=h(this,ef)[e];else{let n=e.toLowerCase();for(let s of h(this,ef))if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let n of t)if(n.hash===e)return n;(0,wr.assertArgument)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Bue(this)}};ef=new WeakMap;ni.Block=P4;var L3=class{constructor(e,t){O(this,"provider");O(this,"transactionHash");O(this,"blockHash");O(this,"blockNumber");O(this,"removed");O(this,"address");O(this,"data");O(this,"topics");O(this,"index");O(this,"transactionIndex");this.provider=t;let n=Object.freeze(e.topics.slice());(0,wr.defineProperties)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return(0,wr.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return(0,wr.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,wr.assert)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Iue(this)}};ni.Log=L3;var b_,A4=class{constructor(e,t){O(this,"provider");O(this,"to");O(this,"from");O(this,"contractAddress");O(this,"hash");O(this,"index");O(this,"blockHash");O(this,"blockNumber");O(this,"logsBloom");O(this,"gasUsed");O(this,"blobGasUsed");O(this,"cumulativeGasUsed");O(this,"gasPrice");O(this,"blobGasPrice");O(this,"type");O(this,"status");O(this,"root");T(this,b_,void 0);w(this,b_,Object.freeze(e.logs.map(s=>new L3(s,t))));let n=JG;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),(0,wr.defineProperties)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return h(this,b_)}toJSON(){let{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:f,status:g,root:p}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Xr(this.cumulativeGasUsed),from:t,gasPrice:Xr(this.gasPrice),blobGasUsed:Xr(this.blobGasUsed),blobGasPrice:Xr(this.blobGasPrice),gasUsed:Xr(this.gasUsed),hash:s,index:i,logs:f,logsBloom:c,root:p,status:g,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return $G(this)}reorderedEvent(e){return(0,wr.assert)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),WG(this,e)}};b_=new WeakMap;ni.TransactionReceipt=A4;var Tl,E4=class{constructor(e,t){O(this,"provider");O(this,"blockNumber");O(this,"blockHash");O(this,"index");O(this,"hash");O(this,"type");O(this,"to");O(this,"from");O(this,"nonce");O(this,"gasLimit");O(this,"gasPrice");O(this,"maxPriorityFeePerGas");O(this,"maxFeePerGas");O(this,"maxFeePerBlobGas");O(this,"data");O(this,"value");O(this,"chainId");O(this,"signature");O(this,"accessList");O(this,"blobVersionedHashes");O(this,"authorizationList");T(this,Tl,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,w(this,Tl,-1)}toJSON(){let{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:f,signature:g,accessList:p,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:t,blobVersionedHashes:A,chainId:Xr(this.chainId),data:f,from:a,gasLimit:Xr(this.gasLimit),gasPrice:Xr(this.gasPrice),hash:s,maxFeePerGas:Xr(this.maxFeePerGas),maxPriorityFeePerGas:Xr(this.maxPriorityFeePerGas),maxFeePerBlobGas:Xr(this.maxFeePerBlobGas),nonce:c,signature:g,to:o,index:n,type:i,value:Xr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:t,blockNumber:n}=await(0,wr.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let n=e??1,s=t??0,i=h(this,Tl),o=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:A,nonce:P}=await(0,wr.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(P<this.nonce){i=A;return}if(a)return null;let C=await this.getTransaction();if(!(C&&C.blockNumber!=null))for(o===-1&&(o=i-3,o<h(this,Tl)&&(o=h(this,Tl)));o<=A;){if(a)return null;let N=await this.provider.getBlock(o,!0);if(N==null)return;for(let L of N)if(L===this.hash)return;for(let L=0;L<N.length;L++){let F=await N.getTransaction(L);if(F.from===this.from&&F.nonce===this.nonce){if(a)return null;let D=await this.provider.getTransactionReceipt(F.hash);if(D==null||A-D.blockNumber+1<n)return;let q="replaced";F.data===this.data&&F.to===this.to&&F.value===this.value?q="repriced":F.data==="0x"&&F.from===F.to&&F.value===JG&&(q="cancelled"),(0,wr.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:q==="replaced"||q==="cancelled",reason:q,replacement:F.replaceableTransaction(i),hash:F.hash,receipt:D})}}o++}},f=A=>{if(A==null||A.status!==0)return A;(0,wr.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},g=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(g);if(g){if(n===1||await g.confirmations()>=n)return f(g)}else if(await c(),n===0)return null;return await new Promise((A,P)=>{let C=[],N=()=>{C.forEach(F=>F())};if(C.push(()=>{a=!0}),s>0){let F=setTimeout(()=>{N(),P((0,wr.makeError)("wait for transaction timeout","TIMEOUT"))},s);C.push(()=>{clearTimeout(F)})}let L=async F=>{if(await F.confirmations()>=n){N();try{A(f(F))}catch(D){P(D)}}};if(C.push(()=>{this.provider.off(this.hash,L)}),this.provider.on(this.hash,L),i>=0){let F=async()=>{try{await c()}catch(D){if((0,wr.isError)(D,"TRANSACTION_REPLACED")){N(),P(D);return}}a||this.provider.once("block",F)};C.push(()=>{this.provider.off("block",F)}),this.provider.once("block",F)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,wr.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$G(this)}reorderedEvent(e){return(0,wr.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,wr.assert)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),WG(this,e)}replaceableTransaction(e){(0,wr.assertArgument)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new E4(this,this.provider);return w(t,Tl,e),t}},U3=E4;Tl=new WeakMap;ni.TransactionResponse=U3;function Bue(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function WG(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function $G(r){return{orphan:"drop-transaction",tx:r}}function Iue(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}});var O4=M(si=>{y();b();Object.defineProperty(si,"__esModule",{value:!0});si.ContractEventPayload=si.ContractUnknownEventPayload=si.ContractTransactionResponse=si.ContractTransactionReceipt=si.UndecodedEventLog=si.EventLog=void 0;var G3=Nm(),x_=ue(),w_=class extends G3.Log{constructor(t,n,s){super(t,t.provider);O(this,"interface");O(this,"fragment");O(this,"args");let i=n.decodeEventLog(s,t.data,t.topics);(0,x_.defineProperties)(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};si.EventLog=w_;var D3=class extends G3.Log{constructor(t,n){super(t,t.provider);O(this,"error");(0,x_.defineProperties)(this,{error:n})}};si.UndecodedEventLog=D3;var Cm,q3=class extends G3.TransactionReceipt{constructor(t,n,s){super(s,n);T(this,Cm,void 0);w(this,Cm,t)}get logs(){return super.logs.map(t=>{let n=t.topics.length?h(this,Cm).getEvent(t.topics[0]):null;if(n)try{return new w_(t,h(this,Cm),n)}catch(s){return new D3(t,s)}return t})}};Cm=new WeakMap;si.ContractTransactionReceipt=q3;var __,S4=class extends G3.TransactionResponse{constructor(t,n,s){super(s,n);T(this,__,void 0);w(this,__,t)}async wait(t,n){let s=await super.wait(t,n);return s==null?null:new q3(h(this,__),this.provider,s)}};__=new WeakMap;si.ContractTransactionResponse=S4;var H3=class extends x_.EventPayload{constructor(t,n,s,i){super(t,n,s);O(this,"log");(0,x_.defineProperties)(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};si.ContractUnknownEventPayload=H3;var k4=class extends H3{constructor(e,t,n,s,i){super(e,t,n,new w_(i,e.interface,s));let o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,x_.defineProperties)(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};si.ContractEventPayload=k4});var j4=M(Vc=>{y();b();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.Contract=Vc.BaseContract=Vc.resolveArgs=Vc.copyOverrides=void 0;var B4=Om(),Rm=Qr(),XG=Nm(),je=ue(),ch=O4(),ZG=BigInt(0);function YG(r){return r&&typeof r.call=="function"}function eK(r){return r&&typeof r.estimateGas=="function"}function J3(r){return r&&typeof r.resolveName=="function"}function tK(r){return r&&typeof r.sendTransaction=="function"}function rK(r){if(r!=null){if(J3(r))return r;if(r.provider)return r.provider}}var A_,T4=class{constructor(e,t,n){T(this,A_,void 0);O(this,"fragment");if((0,je.defineProperties)(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");let s=uh(e.runner,"resolveName"),i=J3(s)?s:null;w(this,A_,async function(){let o=await Promise.all(t.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(g,p)=>g==="address"?Array.isArray(p)?Promise.all(p.map(A=>(0,Rm.resolveAddress)(A,i))):(0,Rm.resolveAddress)(p,i):p)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return h(this,A_)}};A_=new WeakMap;function uh(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function ah(r){return r==null?null:r.provider||null}async function I4(r,e){let t=B4.Typed.dereference(r,"overrides");(0,je.assertArgument)(typeof t=="object","invalid overrides parameter","overrides",r);let n=(0,XG.copyRequest)(t);return(0,je.assertArgument)(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),(0,je.assertArgument)(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}Vc.copyOverrides=I4;async function nK(r,e,t){let n=uh(r,"resolveName"),s=J3(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=B4.Typed.dereference(c,a),a==="address"?(0,Rm.resolveAddress)(c,s):c))))}Vc.resolveArgs=nK;function Mue(r){let e=async function(o){let a=await I4(o,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await(0,Rm.resolveAddress)(a.from,rK(r.runner)));let c=r.interface,f=(0,je.getBigInt)(a.value||ZG,"overrides.value")===ZG,g=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!g&&!f&&(0,je.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),(0,je.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data);let p=c.receive||c.fallback&&c.fallback.payable;return(0,je.assertArgument)(p||f,"cannot send value to non-payable fallback","overrides.value",a.value),(0,je.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){let a=uh(r.runner,"call");(0,je.assert)(YG(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await a.call(c)}catch(f){throw(0,je.isCallException)(f)&&f.data?r.interface.makeError(f.data,c):f}},n=async function(o){let a=r.runner;(0,je.assert)(tK(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(o)),f=ah(r.runner);return new ch.ContractTransactionResponse(r.interface,f,c)},s=async function(o){let a=uh(r.runner,"estimateGas");return(0,je.assert)(eK(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return(0,je.defineProperties)(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function jue(r,e){let t=function(...f){let g=r.interface.getFunction(e,f);return(0,je.assert)(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),g},n=async function(...f){let g=t(...f),p={};if(g.inputs.length+1===f.length&&(p=await I4(f.pop()),p.from&&(p.from=await(0,Rm.resolveAddress)(p.from,rK(r.runner)))),g.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let A=await nK(r.runner,g.inputs,f);return Object.assign({},p,await(0,je.resolveProperties)({to:r.getAddress(),data:r.interface.encodeFunctionData(g,A)}))},s=async function(...f){let g=await a(...f);return g.length===1?g[0]:g},i=async function(...f){let g=r.runner;(0,je.assert)(tK(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let p=await g.sendTransaction(await n(...f)),A=ah(r.runner);return new ch.ContractTransactionResponse(r.interface,A,p)},o=async function(...f){let g=uh(r.runner,"estimateGas");return(0,je.assert)(eK(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await n(...f))},a=async function(...f){let g=uh(r.runner,"call");(0,je.assert)(YG(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let p=await n(...f),A="0x";try{A=await g.call(p)}catch(C){throw(0,je.isCallException)(C)&&C.data?r.interface.makeError(C.data,p):C}let P=t(...f);return r.interface.decodeFunctionResult(P,A)},c=async(...f)=>t(...f).constant?await s(...f):await i(...f);return(0,je.defineProperties)(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let f=r.interface.getFunction(e);return(0,je.assert)(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),c}function Fue(r,e){let t=function(...s){let i=r.interface.getEvent(e,s);return(0,je.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new T4(r,t(...s),s)};return(0,je.defineProperties)(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=r.interface.getEvent(e);return(0,je.assert)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}var V3=Symbol.for("_ethersInternal_contract"),sK=new WeakMap;function Lue(r,e){sK.set(r[V3],e)}function Ci(r){return sK.get(r[V3])}function Uue(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function M4(r,e){let t,n=null;if(Array.isArray(e)){let i=function(o){if((0,je.isHexString)(o,32))return o;let a=r.interface.getEvent(o);return(0,je.assertArgument)(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?(0,je.isHexString)(e,32)?t=[e]:(n=r.interface.getEvent(e),(0,je.assertArgument)(n,"unknown fragment","event",e),t=[n.topicHash]):Uue(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):(0,je.assertArgument)(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){let o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});let s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function v_(r,e){let{subs:t}=Ci(r);return t.get((await M4(r,e)).tag)||null}async function QG(r,e,t){let n=ah(r.runner);(0,je.assert)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:i,topics:o}=await M4(r,t),{addr:a,subs:c}=Ci(r),f=c.get(i);if(!f){let p={address:a||r,topics:o},A=L=>{let F=s;if(F==null)try{F=r.interface.getEvent(L.topics[0])}catch{}if(F){let D=F,q=s?r.interface.decodeEventLog(s,L.data,L.topics):[];C4(r,t,q,K=>new ch.ContractEventPayload(r,K,t,D,L))}else C4(r,t,[],D=>new ch.ContractUnknownEventPayload(r,D,t,L))},P=[];f={tag:i,listeners:[],start:()=>{P.length||P.push(n.on(p,A))},stop:async()=>{if(P.length==0)return;let L=P;P=[],await Promise.all(L),n.off(p,A)}},c.set(i,f)}return f}var N4=Promise.resolve();async function Due(r,e,t,n){await N4;let s=await v_(r,e);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{let c=Array.from(t);n&&c.push(n(a?null:o));try{o.call(r,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Ci(r).subs.delete(s.tag)),i>0}async function C4(r,e,t,n){try{await N4}catch{}let s=Due(r,e,t,n);return N4=s,await s}var K3=["then"],Hue,P_=class{constructor(e,t,n,s){O(this,"target");O(this,"interface");O(this,"runner");O(this,"filters");O(this,Hue);O(this,"fallback");(0,je.assertArgument)(typeof e=="string"||(0,Rm.isAddressable)(e),"invalid value for Contract target","target",e),n==null&&(n=null);let i=B4.Interface.from(t);(0,je.defineProperties)(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,V3,{value:{}});let o,a=null,c=null;if(s){let p=ah(n);c=new ch.ContractTransactionResponse(this.interface,p,s)}let f=new Map;if(typeof e=="string")if((0,je.isHexString)(e))a=e,o=Promise.resolve(e);else{let p=uh(n,"resolveName");if(!J3(p))throw(0,je.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=p.resolveName(e).then(A=>{if(A==null)throw(0,je.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ci(this).addr=A,A})}else o=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Ci(this).addr=p,p});Lue(this,{addrPromise:o,addr:a,deployTx:c,subs:f});let g=new Proxy({},{get:(p,A,P)=>{if(typeof A=="symbol"||K3.indexOf(A)>=0)return Reflect.get(p,A,P);try{return this.getEvent(A)}catch(C){if(!(0,je.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>K3.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return(0,je.defineProperties)(this,{filters:g}),(0,je.defineProperties)(this,{fallback:i.receive||i.fallback?Mue(this):null}),new Proxy(this,{get:(p,A,P)=>{if(typeof A=="symbol"||A in p||K3.indexOf(A)>=0)return Reflect.get(p,A,P);try{return p.getFunction(A)}catch(C){if(!(0,je.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>typeof A=="symbol"||A in p||K3.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new P_(this.target,this.interface,e)}attach(e){return new P_(e,this.interface,this.runner)}async getAddress(){return await Ci(this).addrPromise}async getDeployedCode(){let e=ah(this.runner);(0,je.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=ah(this.runner);return(0,je.assert)(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Ci(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),jue(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Fue(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");let{addr:s,addrPromise:i}=Ci(this),o=s||await i,{fragment:a,topics:c}=await M4(this,e),f={address:o,topics:c,fromBlock:t,toBlock:n},g=ah(this.runner);return(0,je.assert)(g,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await g.getLogs(f)).map(p=>{let A=a;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new ch.EventLog(p,this.interface,A)}catch(P){return new ch.UndecodedEventLog(p,P)}return new XG.Log(p,g)})}async on(e,t){let n=await QG(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){let n=await QG(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await C4(this,e,t,null)}async listenerCount(e){if(e){let s=await v_(this,e);return s?s.listeners.length:0}let{subs:t}=Ci(this),n=0;for(let{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){let s=await v_(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let{subs:t}=Ci(this),n=[];for(let{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){let n=await v_(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Ci(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let t=await v_(this,e);if(!t)return this;t.stop(),Ci(this).subs.delete(t.tag)}else{let{subs:t}=Ci(this);for(let{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends P_{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}},z3=P_;Hue=V3;Vc.BaseContract=z3;function que(){return z3}var R4=class extends que(){};Vc.Contract=R4});var iK=M($3=>{y();b();Object.defineProperty($3,"__esModule",{value:!0});$3.ContractFactory=void 0;var Gue=Om(),Kue=Qr(),Nl=ue(),W3=j4(),E_=class{constructor(e,t,n){O(this,"interface");O(this,"bytecode");O(this,"runner");let s=Gue.Interface.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=(0,Nl.hexlify)((0,Nl.getBytes)(t)),(0,Nl.defineProperties)(this,{bytecode:t,interface:s,runner:n||null})}attach(e){return new W3.BaseContract(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await(0,W3.copyOverrides)(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await(0,W3.resolveArgs)(this.runner,n.inputs,e),i=(0,Nl.concat)([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:i})}async deploy(...e){let t=await this.getDeployTransaction(...e);(0,Nl.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(t),s=(0,Kue.getCreateAddress)(n);return new W3.BaseContract(s,this.interface,this.runner,n)}connect(e){return new E_(this.interface,this.bytecode,e)}static fromSolidity(e,t){(0,Nl.assertArgument)(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,t)}};$3.ContractFactory=E_});var S_=M(cn=>{y();b();Object.defineProperty(cn,"__esModule",{value:!0});cn.UndecodedEventLog=cn.EventLog=cn.ContractTransactionResponse=cn.ContractTransactionReceipt=cn.ContractUnknownEventPayload=cn.ContractEventPayload=cn.ContractFactory=cn.Contract=cn.BaseContract=void 0;var oK=j4();Object.defineProperty(cn,"BaseContract",{enumerable:!0,get:function(){return oK.BaseContract}});Object.defineProperty(cn,"Contract",{enumerable:!0,get:function(){return oK.Contract}});var Vue=iK();Object.defineProperty(cn,"ContractFactory",{enumerable:!0,get:function(){return Vue.ContractFactory}});var Bm=O4();Object.defineProperty(cn,"ContractEventPayload",{enumerable:!0,get:function(){return Bm.ContractEventPayload}});Object.defineProperty(cn,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return Bm.ContractUnknownEventPayload}});Object.defineProperty(cn,"ContractTransactionReceipt",{enumerable:!0,get:function(){return Bm.ContractTransactionReceipt}});Object.defineProperty(cn,"ContractTransactionResponse",{enumerable:!0,get:function(){return Bm.ContractTransactionResponse}});Object.defineProperty(cn,"EventLog",{enumerable:!0,get:function(){return Bm.EventLog}});Object.defineProperty(cn,"UndecodedEventLog",{enumerable:!0,get:function(){return Bm.UndecodedEventLog}})});var q4=M(Bl=>{y();b();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.EnsResolver=Bl.BasicMulticoinProviderPlugin=Bl.MulticoinProviderPlugin=void 0;var zue=Qr(),aK=Kp(),F4=S_(),L4=Dc(),Ns=ue();function U4(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):(0,Ns.assertArgument)(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}var O_=class{constructor(e){O(this,"name");(0,Ns.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};Bl.MulticoinProviderPlugin=O_;var Jue="org.ethers.plugins.provider.BasicMulticoin",D4=class extends O_{constructor(){super(Jue)}};Bl.BasicMulticoinProviderPlugin=D4;var uK=new RegExp("^(ipfs)://(.*)$","i"),cK=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),uK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Cl,fh,Rl,Im,Q3,fK,k_=class{constructor(e,t,n){T(this,Rl);O(this,"provider");O(this,"address");O(this,"name");T(this,Cl,void 0);T(this,fh,void 0);(0,Ns.defineProperties)(this,{provider:e,address:t,name:n}),w(this,Cl,null),w(this,fh,new F4.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return h(this,Cl)==null&&w(this,Cl,(async()=>{try{return await h(this,fh).supportsInterface("0x9061b923")}catch(e){if((0,Ns.isError)(e,"CALL_EXCEPTION"))return!1;throw w(this,Cl,null),e}})()),await h(this,Cl)}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await U(this,Rl,Im).call(this,"addr(bytes32)");return i==null||i===aK.ZeroAddress?null:i}catch(i){if((0,Ns.isError)(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,o=await U(this,Rl,Im).call(this,"addr(bytes32,uint)",[i]);if((0,Ns.isHexString)(o,20))return(0,zue.getAddress)(o)}let t=null;for(let i of this.provider.plugins)if(i instanceof O_&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;let n=await U(this,Rl,Im).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let s=await t.decodeAddress(e,n);if(s!=null)return s;(0,Ns.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let t=await U(this,Rl,Im).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){let e=await U(this,Rl,Im).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${(0,Ns.encodeBase58)("0x"+t[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;(0,Ns.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<cK.length;n++){let s=t.match(cK[n]);if(s==null)continue;let i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let o=U4(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};let f=c[1],g=new F4.Contract(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let N=await g.ownerOf(f);if(a!==N)return e.push({type:"!owner",value:N}),{url:null,linkage:e};e.push({type:"owner",value:N})}else if(i==="erc1155"){let N=await g.balanceOf(a,f);if(!N)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:N.toString()})}let p=await g[o](f);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),i==="erc1155"&&(p=p.replace("{id}",(0,Ns.toBeHex)(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=U4(p)),e.push({type:"metadata-url",value:p});let A={},P=await new Ns.FetchRequest(p).send();P.assertOk();try{A=P.bodyJson}catch{try{e.push({type:"!metadata",value:P.bodyText})}catch{let F=P.body;return F&&e.push({type:"!metadata",value:(0,Ns.hexlify)(F)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let C=A.image;if(typeof C!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(uK)==null)return e.push({type:"!imageUrl-ipfs",value:C}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:C}),C=U4(C)}return e.push({type:"url",value:C}),{linkage:e,url:C}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return(0,Ns.assert)(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var s;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;let i=await U(s=k_,Q3,fK).call(s,e,n);if(i!=null){let o=new k_(e,i,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}},Z3=k_;Cl=new WeakMap,fh=new WeakMap,Rl=new WeakSet,Im=async function(e,t){t=(t||[]).slice();let n=h(this,fh).interface;t.unshift((0,L4.namehash)(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),(0,Ns.assert)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(0,L4.dnsEncode)(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await h(this,fh)[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!(0,Ns.isError)(i,"CALL_EXCEPTION"))throw i}return null},Q3=new WeakSet,fK=async function(e,t){let n=await k_.getEnsAddress(e);try{let i=await new F4.Contract(n,["function resolver(bytes32) view returns (address)"],e).resolver((0,L4.namehash)(t),{enableCcipRead:!0});return i===aK.ZeroAddress?null:i}catch(s){throw s}return null},T(Z3,Q3);Bl.EnsResolver=Z3});var pK=M(dr=>{y();b();Object.defineProperty(dr,"__esModule",{value:!0});dr.formatTransactionResponse=dr.formatTransactionReceipt=dr.formatReceiptLog=dr.formatBlock=dr.formatLog=dr.formatUint256=dr.formatHash=dr.formatData=dr.formatBoolean=dr.object=dr.arrayOf=dr.allowNull=void 0;var qa=Qr(),H4=on(),Wue=Os(),ke=ue(),lK=BigInt(0);function Rt(r,e){return function(t){return t==null?e:r(t)}}dr.allowNull=Rt;function Mm(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))}}dr.arrayOf=Mm;function jm(r,e){return t=>{let n={};for(let s in r){let i=s;if(e&&s in e&&!(i in t)){for(let o of e[s])if(o in t){i=o;break}}try{let o=r[s](t[i]);o!==void 0&&(n[s]=o)}catch(o){let a=o instanceof Error?o.message:"not-an-error";(0,ke.assert)(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return n}}dr.object=jm;function dK(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}(0,ke.assertArgument)(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}dr.formatBoolean=dK;function lh(r){return(0,ke.assertArgument)((0,ke.isHexString)(r,!0),"invalid data","value",r),r}dr.formatData=lh;function In(r){return(0,ke.assertArgument)((0,ke.isHexString)(r,32),"invalid hash","value",r),r}dr.formatHash=In;function $ue(r){if(!(0,ke.isHexString)(r))throw new Error("invalid uint256");return(0,ke.zeroPadValue)(r,32)}dr.formatUint256=$ue;var Zue=jm({address:qa.getAddress,blockHash:In,blockNumber:ke.getNumber,data:lh,index:ke.getNumber,removed:Rt(dK,!1),topics:Mm(In),transactionHash:In,transactionIndex:ke.getNumber},{index:["logIndex"]});function Que(r){return Zue(r)}dr.formatLog=Que;var Xue=jm({hash:Rt(In),parentHash:In,parentBeaconBlockRoot:Rt(In,null),number:ke.getNumber,timestamp:ke.getNumber,nonce:Rt(lh),difficulty:ke.getBigInt,gasLimit:ke.getBigInt,gasUsed:ke.getBigInt,stateRoot:Rt(In,null),receiptsRoot:Rt(In,null),blobGasUsed:Rt(ke.getBigInt,null),excessBlobGas:Rt(ke.getBigInt,null),miner:Rt(qa.getAddress),prevRandao:Rt(In,null),extraData:lh,baseFeePerGas:Rt(ke.getBigInt)},{prevRandao:["mixHash"]});function Yue(r){let e=Xue(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:gK(t)),e}dr.formatBlock=Yue;var efe=jm({transactionIndex:ke.getNumber,blockNumber:ke.getNumber,transactionHash:In,address:qa.getAddress,topics:Mm(In),data:lh,index:ke.getNumber,blockHash:In},{index:["logIndex"]});function hK(r){return efe(r)}dr.formatReceiptLog=hK;var tfe=jm({to:Rt(qa.getAddress,null),from:Rt(qa.getAddress,null),contractAddress:Rt(qa.getAddress,null),index:ke.getNumber,root:Rt(ke.hexlify),gasUsed:ke.getBigInt,blobGasUsed:Rt(ke.getBigInt,null),logsBloom:Rt(lh),blockHash:In,hash:In,logs:Mm(hK),blockNumber:ke.getNumber,cumulativeGasUsed:ke.getBigInt,effectiveGasPrice:Rt(ke.getBigInt),blobGasPrice:Rt(ke.getBigInt,null),status:Rt(ke.getNumber),type:Rt(ke.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function rfe(r){return tfe(r)}dr.formatTransactionReceipt=rfe;function gK(r){r.to&&(0,ke.getBigInt)(r.to)===lK&&(r.to="0x0000000000000000000000000000000000000000");let e=jm({hash:In,index:Rt(ke.getNumber,void 0),type:t=>t==="0x"||t==null?0:(0,ke.getNumber)(t),accessList:Rt(Wue.accessListify,null),blobVersionedHashes:Rt(Mm(In,!0),null),authorizationList:Rt(Mm(t=>{let n;if(t.signature)n=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},t,{yParity:s})}return{address:(0,qa.getAddress)(t.address),chainId:(0,ke.getBigInt)(t.chainId),nonce:(0,ke.getBigInt)(t.nonce),signature:H4.Signature.from(n)}},!1),null),blockHash:Rt(In,null),blockNumber:Rt(ke.getNumber,null),transactionIndex:Rt(ke.getNumber,null),from:qa.getAddress,gasPrice:Rt(ke.getBigInt),maxPriorityFeePerGas:Rt(ke.getBigInt),maxFeePerGas:Rt(ke.getBigInt),maxFeePerBlobGas:Rt(ke.getBigInt,null),gasLimit:ke.getBigInt,to:Rt(qa.getAddress,null),value:ke.getBigInt,nonce:ke.getNumber,data:lh,creates:Rt(qa.getAddress,null),chainId:Rt(ke.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=(0,qa.getCreateAddress)(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=H4.Signature.from(r.signature):e.signature=H4.Signature.from(r),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&(0,ke.getBigInt)(e.blockHash)===lK&&(e.blockHash=null),e}dr.formatTransactionResponse=gK});var X3=M(go=>{y();b();Object.defineProperty(go,"__esModule",{value:!0});go.FetchUrlFeeDataNetworkPlugin=go.FeeDataNetworkPlugin=go.EnsPlugin=go.GasCostPlugin=go.NetworkPlugin=void 0;var V4=rl(),nfe=ue(),sfe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",tf=class{constructor(e){O(this,"name");(0,V4.defineProperties)(this,{name:e})}clone(){return new tf(this.name)}};go.NetworkPlugin=tf;var T_=class extends tf{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);O(this,"effectiveBlock");O(this,"txBase");O(this,"txCreate");O(this,"txDataZero");O(this,"txDataNonzero");O(this,"txAccessListStorageKey");O(this,"txAccessListAddress");let s={effectiveBlock:t};function i(o,a){let c=(n||{})[o];c==null&&(c=a),(0,nfe.assertArgument)(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,V4.defineProperties)(this,s)}clone(){return new T_(this.effectiveBlock,this)}};go.GasCostPlugin=T_;var N_=class extends tf{constructor(t,n){super("org.ethers.plugins.network.Ens");O(this,"address");O(this,"targetNetwork");(0,V4.defineProperties)(this,{address:t||sfe,targetNetwork:n??1})}clone(){return new N_(this.address,this.targetNetwork)}};go.EnsPlugin=N_;var dh,z4=class extends tf{constructor(t){super("org.ethers.plugins.network.FeeData");T(this,dh,void 0);w(this,dh,t)}get feeDataFunc(){return h(this,dh)}async getFeeData(t){return await h(this,dh).call(this,t)}clone(){return new z4(h(this,dh))}},G4=z4;dh=new WeakMap;go.FeeDataNetworkPlugin=G4;var C_,R_,K4=class extends tf{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");T(this,C_,void 0);T(this,R_,void 0);w(this,C_,t),w(this,R_,n)}get url(){return h(this,C_)}get processFunc(){return h(this,R_)}clone(){return this}};C_=new WeakMap,R_=new WeakMap;go.FetchUrlFeeDataNetworkPlugin=K4});var Cs=M(Y3=>{y();b();Object.defineProperty(Y3,"__esModule",{value:!0});Y3.Network=void 0;var ife=Os(),zc=ue(),B_=X3(),J4=new Map,Lm,Um,Il,Fm=class{constructor(e,t){T(this,Lm,void 0);T(this,Um,void 0);T(this,Il,void 0);w(this,Lm,e),w(this,Um,(0,zc.getBigInt)(t)),w(this,Il,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return h(this,Lm)}set name(e){w(this,Lm,e)}get chainId(){return h(this,Um)}set chainId(e){w(this,Um,(0,zc.getBigInt)(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===(0,zc.getBigInt)(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===(0,zc.getBigInt)(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===(0,zc.getBigInt)(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(h(this,Il).values())}attachPlugin(e){if(h(this,Il).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Il).set(e.name,e.clone()),this}getPlugin(e){return h(this,Il).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new Fm(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new B_.GasCostPlugin,n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){let s=(0,ife.accessListify)(e.accessList);for(let i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(ofe(),e==null)return Fm.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=J4.get(e);if(t)return t();if(typeof e=="bigint")return new Fm("unknown",e);(0,zc.assertArgument)(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){(0,zc.assertArgument)(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new Fm(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new B_.EnsPlugin(e.ensAddress,e.ensNetwork)),t}(0,zc.assertArgument)(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let n=J4.get(e);n&&(0,zc.assertArgument)(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),J4.set(e,t)}},hh=Fm;Lm=new WeakMap,Um=new WeakMap,Il=new WeakMap;Y3.Network=hh;function mK(r,e){let t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);let n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function yK(r){return new B_.FetchUrlFeeDataNetworkPlugin(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{let[i,o]=await Promise.all([n.send(),e()]);s=i;let a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:mK(a.maxFee,9),maxPriorityFeePerGas:mK(a.maxPriorityFee,9)}}catch(i){(0,zc.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}var bK=!1;function ofe(){if(bK)return;bK=!0;function r(e,t,n){let s=function(){let i=new hh(e,t);return n.ensNetwork!=null&&i.attachPlugin(new B_.EnsPlugin(null,n.ensNetwork)),i.attachPlugin(new B_.GasCostPlugin),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};hh.register(e,s),hh.register(t,s),n.altNames&&n.altNames.forEach(i=>{hh.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[yK("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[yK("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}});var sS=M(as=>{y();b();Object.defineProperty(as,"__esModule",{value:!0});as.PollingEventSubscriber=as.PollingTransactionSubscriber=as.PollingOrphanSubscriber=as.PollingBlockTagSubscriber=as.OnBlockSubscriber=as.PollingBlockSubscriber=as.getPollingSubscriber=void 0;var xK=ue();function W4(r){return JSON.parse(JSON.stringify(r))}function afe(r,e){if(e==="block")return new tS(r);if((0,xK.isHexString)(e,32))return new rS(r,e);(0,xK.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:e}})}as.getPollingSubscriber=afe;var rf,po,Ml,Jc,Dm,eS,tS=class{constructor(e){T(this,Dm);T(this,rf,void 0);T(this,po,void 0);T(this,Ml,void 0);T(this,Jc,void 0);w(this,rf,e),w(this,po,null),w(this,Ml,4e3),w(this,Jc,-2)}get pollingInterval(){return h(this,Ml)}set pollingInterval(e){w(this,Ml,e)}start(){h(this,po)||(w(this,po,h(this,rf)._setTimeout(U(this,Dm,eS).bind(this),h(this,Ml))),U(this,Dm,eS).call(this))}stop(){!h(this,po)||(h(this,rf)._clearTimeout(h(this,po)),w(this,po,null))}pause(e){this.stop(),e&&w(this,Jc,-2)}resume(){this.start()}};rf=new WeakMap,po=new WeakMap,Ml=new WeakMap,Jc=new WeakMap,Dm=new WeakSet,eS=async function(){try{let e=await h(this,rf).getBlockNumber();if(h(this,Jc)===-2){w(this,Jc,e);return}if(e!==h(this,Jc)){for(let t=h(this,Jc)+1;t<=e;t++){if(h(this,po)==null)return;await h(this,rf).emit("block",t)}w(this,Jc,e)}}catch{}h(this,po)!=null&&w(this,po,h(this,rf)._setTimeout(U(this,Dm,eS).bind(this),h(this,Ml)))};as.PollingBlockSubscriber=tS;var gh,ph,jl,Vm=class{constructor(e){T(this,gh,void 0);T(this,ph,void 0);T(this,jl,void 0);w(this,gh,e),w(this,jl,!1),w(this,ph,t=>{this._poll(t,h(this,gh))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){h(this,jl)||(w(this,jl,!0),h(this,ph).call(this,-2),h(this,gh).on("block",h(this,ph)))}stop(){!h(this,jl)||(w(this,jl,!1),h(this,gh).off("block",h(this,ph)))}pause(e){this.stop()}resume(){this.start()}};gh=new WeakMap,ph=new WeakMap,jl=new WeakMap;as.OnBlockSubscriber=Vm;var qm,nf,$4=class extends Vm{constructor(t,n){super(t);T(this,qm,void 0);T(this,nf,void 0);w(this,qm,n),w(this,nf,-2)}pause(t){t&&w(this,nf,-2),super.pause(t)}async _poll(t,n){let s=await n.getBlock(h(this,qm));s!=null&&(h(this,nf)===-2?w(this,nf,s.number):s.number>h(this,nf)&&(n.emit(h(this,qm),s.number),w(this,nf,s.number)))}};qm=new WeakMap,nf=new WeakMap;as.PollingBlockTagSubscriber=$4;var I_,Z4=class extends Vm{constructor(t,n){super(t);T(this,I_,void 0);w(this,I_,W4(n))}async _poll(t,n){throw new Error("@TODO")}};I_=new WeakMap;as.PollingOrphanSubscriber=Z4;var Hm,rS=class extends Vm{constructor(t,n){super(t);T(this,Hm,void 0);w(this,Hm,n)}async _poll(t,n){let s=await n.getTransactionReceipt(h(this,Hm));s&&n.emit(h(this,Hm),s)}};Hm=new WeakMap;as.PollingTransactionSubscriber=rS;var sf,Gm,Km,Fl,mo,nS,wK,Q4=class{constructor(e,t){T(this,nS);T(this,sf,void 0);T(this,Gm,void 0);T(this,Km,void 0);T(this,Fl,void 0);T(this,mo,void 0);w(this,sf,e),w(this,Gm,W4(t)),w(this,Km,U(this,nS,wK).bind(this)),w(this,Fl,!1),w(this,mo,-2)}start(){h(this,Fl)||(w(this,Fl,!0),h(this,mo)===-2&&h(this,sf).getBlockNumber().then(e=>{w(this,mo,e)}),h(this,sf).on("block",h(this,Km)))}stop(){!h(this,Fl)||(w(this,Fl,!1),h(this,sf).off("block",h(this,Km)))}pause(e){this.stop(),e&&w(this,mo,-2)}resume(){this.start()}};sf=new WeakMap,Gm=new WeakMap,Km=new WeakMap,Fl=new WeakMap,mo=new WeakMap,nS=new WeakSet,wK=async function(e){if(h(this,mo)===-2)return;let t=W4(h(this,Gm));t.fromBlock=h(this,mo)+1,t.toBlock=e;let n=await h(this,sf).getLogs(t);if(n.length===0){h(this,mo)<e-60&&w(this,mo,e-60);return}for(let s of n)h(this,sf).emit(h(this,Gm),s),w(this,mo,s.blockNumber)};as.PollingEventSubscriber=Q4});var Qm=M(Zm=>{y();b();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.AbstractProvider=Zm.UnmanagedSubscriber=void 0;var j_=Qr(),cfe=Kp(),_K=S_(),ufe=Dc(),ffe=Os(),ie=ue(),vK=q4(),iS=pK(),lfe=Cs(),Ll=Nm(),M_=sS(),dfe=BigInt(2),hfe=10;function oS(r){return r&&typeof r.then=="function"}function aS(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}var uS=class{constructor(e){O(this,"name");(0,ie.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};Zm.UnmanagedSubscriber=uS;function gfe(r){return JSON.parse(JSON.stringify(r))}function eC(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function X4(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if((0,ie.isHexString)(r,32)){let t=r.toLowerCase();return{type:"transaction",tag:aS("tx",{hash:t}),hash:t}}if(r.orphan){let t=r;return{type:"orphan",tag:aS("orphan",t),filter:gfe(t)}}if(r.address||r.topics){let t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?eC(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){let s=[],i=[],o=a=>{(0,ie.isHexString)(a)?s.push(a):i.push((async()=>{s.push(await(0,j_.resolveAddress)(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),n.address=eC(s.map(a=>a.toLowerCase()))}return{filter:n,tag:aS("event",n),type:"event"}}(0,ie.assertArgument)(!1,"unknown ProviderEvent","event",r)}function Y4(){return new Date().getTime()}var pfe={cacheTimeout:250,pollingInterval:4e3},cs,Ul,us,zm,Bi,mh,Dl,of,U_,yo,Jm,Wm,Rs,Ri,D_,rC,q_,nC,yh,F_,H_,sC,bh,L_,$m,cS,tC=class{constructor(e,t){T(this,Rs);T(this,D_);T(this,q_);T(this,yh);T(this,H_);T(this,bh);T(this,$m);T(this,cs,void 0);T(this,Ul,void 0);T(this,us,void 0);T(this,zm,void 0);T(this,Bi,void 0);T(this,mh,void 0);T(this,Dl,void 0);T(this,of,void 0);T(this,U_,void 0);T(this,yo,void 0);T(this,Jm,void 0);T(this,Wm,void 0);if(w(this,Wm,Object.assign({},pfe,t||{})),e==="any")w(this,mh,!0),w(this,Bi,null);else if(e){let n=lfe.Network.from(e);w(this,mh,!1),w(this,Bi,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else w(this,mh,!1),w(this,Bi,null);w(this,of,-1),w(this,Dl,new Map),w(this,cs,new Map),w(this,Ul,new Map),w(this,us,null),w(this,zm,!1),w(this,U_,1),w(this,yo,new Map),w(this,Jm,!1)}get pollingInterval(){return h(this,Wm).pollingInterval}get provider(){return this}get plugins(){return Array.from(h(this,Ul).values())}attachPlugin(e){if(h(this,Ul).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Ul).set(e.name,e.connect(this)),this}getPlugin(e){return h(this,Ul).get(e)||null}get disableCcipRead(){return h(this,Jm)}set disableCcipRead(e){w(this,Jm,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){let c=n[a],f=c.replace("{sender}",s).replace("{data}",i),g=new ie.FetchRequest(f);c.indexOf("{data}")===-1&&(g.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:g,index:a,urls:n});let p="unknown error",A;try{A=await g.send()}catch(P){o.push(P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:{error:P}});continue}try{let P=A.bodyJson;if(P.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:g,result:P}),P.data;P.message&&(p=P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:P})}catch{}(0,ie.assert)(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:p}}),o.push(p)}(0,ie.assert)(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new Ll.Block((0,iS.formatBlock)(e),this)}_wrapLog(e,t){return new Ll.Log((0,iS.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new Ll.TransactionReceipt((0,iS.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new Ll.TransactionResponse((0,iS.formatTransactionResponse)(e),this)}_detectNetwork(){(0,ie.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,ie.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,ie.getNumber)(await U(this,Rs,Ri).call(this,{method:"getBlockNumber"}),"%response");return h(this,of)>=0&&w(this,of,e),e}_getAddress(e){return(0,j_.resolveAddress)(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if((0,ie.isHexString)(e))return(0,ie.isHexString)(e,32)?e:(0,ie.toQuantity)(e);if(typeof e=="bigint"&&(e=(0,ie.getNumber)(e,"blockTag")),typeof e=="number")return e>=0?(0,ie.toQuantity)(e):h(this,of)>=0?(0,ie.toQuantity)(h(this,of)+e):this.getBlockNumber().then(t=>(0,ie.toQuantity)(t+e));(0,ie.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?eC(c.map(f=>f.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,f,g)=>{let p;switch(c.length){case 0:break;case 1:p=c[0];break;default:c.sort(),p=c}if(n&&(f!=null||g!=null))throw new Error("invalid filter");let A={};return p&&(A.address=p),t.length&&(A.topics=t),f&&(A.fromBlock=f),g&&(A.toBlock=g),n&&(A.blockHash=n),A},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){let t=(0,Ll.copyRequest)(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;let i=(0,j_.resolveAddress)(t[s],this);oS(i)?n.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){let s=this._getBlockTag(t.blockTag);oS(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(h(this,Bi)==null){let s=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw h(this,Bi)===s&&w(this,Bi,null),i}})();return w(this,Bi,s),(await s).clone()}let e=h(this,Bi),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(h(this,mh)?(this.emit("network",n,t),h(this,Bi)===e&&w(this,Bi,Promise.resolve(n))):(0,ie.assert)(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:s,gasPrice:i,priorityFee:o}=await(0,ie.resolveProperties)({_block:U(this,H_,sC).call(this,"latest",!1),gasPrice:(async()=>{try{let g=await U(this,Rs,Ri).call(this,{method:"getGasPrice"});return(0,ie.getBigInt)(g,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let g=await U(this,Rs,Ri).call(this,{method:"getPriorityFee"});return(0,ie.getBigInt)(g,"%response")}catch{}return null})()}),a=null,c=null,f=this._wrapBlock(s,e);return f&&f.baseFeePerGas&&(c=o??BigInt("1000000000"),a=f.baseFeePerGas*dfe+c),new Ll.FeeData(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let s=new ie.FetchRequest(n.url),i=await n.processFunc(t,this,s);return new Ll.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return oS(t)&&(t=await t),(0,ie.getBigInt)(await U(this,Rs,Ri).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){let{tx:t,blockTag:n}=await(0,ie.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await U(this,q_,nC).call(this,U(this,D_,rC).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return(0,ie.getBigInt)(await U(this,yh,F_).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,ie.getNumber)(await U(this,yh,F_).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,ie.hexlify)(await U(this,yh,F_).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){let s=(0,ie.getBigInt)(t,"position");return(0,ie.hexlify)(await U(this,yh,F_).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){let{blockNumber:t,hash:n,network:s}=await(0,ie.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=ffe.Transaction.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){let{network:n,params:s}=await(0,ie.resolveProperties)({network:this.getNetwork(),params:U(this,H_,sC).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){let{network:t,params:n}=await(0,ie.resolveProperties)({network:this.getNetwork(),params:U(this,Rs,Ri).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){let{network:t,params:n}=await(0,ie.resolveProperties)({network:this.getNetwork(),params:U(this,Rs,Ri).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let s=await U(this,Rs,Ri).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){let{result:t}=await(0,ie.resolveProperties)({network:this.getNetwork(),result:U(this,Rs,Ri).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:(0,ie.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);oS(t)&&(t=await t);let{network:n,params:s}=await(0,ie.resolveProperties)({network:this.getNetwork(),params:U(this,Rs,Ri).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){(0,ie.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await vK.EnsResolver.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=(0,j_.getAddress)(e);let t=(0,ufe.namehash)(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await vK.EnsResolver.getEnsAddress(this),i=await new _K.Contract(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===cfe.ZeroAddress)return null;let a=await new _K.Contract(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if((0,ie.isError)(n,"BAD_DATA")&&n.value==="0x"||(0,ie.isError)(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){let s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null,c=async f=>{try{let g=await this.getTransactionReceipt(e);if(g!=null&&f-g.blockNumber+1>=s){i(g),a&&(clearTimeout(a),a=null);return}}catch(g){console.log("EEE",g)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o((0,ie.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){(0,ie.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=h(this,yo).get(e);!t||(t.timer&&clearTimeout(t.timer),h(this,yo).delete(e))}_setTimeout(e,t){t==null&&(t=0);let n=kn(this,U_)._++,s=()=>{h(this,yo).delete(n),e()};if(this.paused)h(this,yo).set(n,{timer:null,func:s,time:t});else{let i=setTimeout(s,t);h(this,yo).set(n,{timer:i,func:s,time:Y4()})}return n}_forEachSubscriber(e){for(let t of h(this,cs).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new uS(e.type);case"block":{let t=new M_.PollingBlockSubscriber(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new M_.PollingBlockTagSubscriber(this,e.type);case"event":return new M_.PollingEventSubscriber(this,e.filter);case"transaction":return new M_.PollingTransactionSubscriber(this,e.hash);case"orphan":return new M_.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let n of h(this,cs).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),h(this,us)!=null&&t.pause(h(this,us));break}}async on(e,t){let n=await U(this,$m,cS).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,h(this,us)!=null&&n.subscriber.pause(h(this,us))),this}async once(e,t){let n=await U(this,$m,cS).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,h(this,us)!=null&&n.subscriber.pause(h(this,us))),this}async emit(e,...t){let n=await U(this,bh,L_).call(this,e,t);if(!n||n.listeners.length===0)return!1;let s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{let a=new ie.EventPayload(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),h(this,cs).delete(n.tag)),s>0}async listenerCount(e){if(e){let n=await U(this,bh,L_).call(this,e);return n?n.listeners.length:0}let t=0;for(let{listeners:n}of h(this,cs).values())t+=n.length;return t}async listeners(e){if(e){let n=await U(this,bh,L_).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(let{listeners:n}of h(this,cs).values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){let n=await U(this,bh,L_).call(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),h(this,cs).delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:n,subscriber:s}=await U(this,$m,cS).call(this,e);n&&s.stop(),h(this,cs).delete(t)}else for(let[t,{started:n,subscriber:s}]of h(this,cs))n&&s.stop(),h(this,cs).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return h(this,zm)}destroy(){this.removeAllListeners();for(let e of h(this,yo).keys())this._clearTimeout(e);w(this,zm,!0)}get paused(){return h(this,us)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(w(this,of,-1),h(this,us)!=null){if(h(this,us)==!!e)return;(0,ie.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),w(this,us,!!e);for(let t of h(this,yo).values())t.timer&&clearTimeout(t.timer),t.time=Y4()-t.time}resume(){if(h(this,us)!=null){this._forEachSubscriber(e=>e.resume()),w(this,us,null);for(let e of h(this,yo).values()){let t=e.time;t<0&&(t=0),e.time=Y4(),setTimeout(e.func,t)}}}};cs=new WeakMap,Ul=new WeakMap,us=new WeakMap,zm=new WeakMap,Bi=new WeakMap,mh=new WeakMap,Dl=new WeakMap,of=new WeakMap,U_=new WeakMap,yo=new WeakMap,Jm=new WeakMap,Wm=new WeakMap,Rs=new WeakSet,Ri=async function(e){let t=h(this,Wm).cacheTimeout;if(t<0)return await this._perform(e);let n=aS(e.method,e),s=h(this,Dl).get(n);return s||(s=this._perform(e),h(this,Dl).set(n,s),setTimeout(()=>{h(this,Dl).get(n)===s&&h(this,Dl).delete(n)},t)),await s},D_=new WeakSet,rC=async function(e,t,n){(0,ie.assert)(n<hfe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=(0,Ll.copyRequest)(e);try{return(0,ie.hexlify)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&(0,ie.isCallException)(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&(0,ie.dataSlice)(i.data,0,4)==="0x556f1830"){let o=i.data,a=await(0,j_.resolveAddress)(s.to,this),c;try{c=wfe((0,ie.dataSlice)(i.data,4))}catch(p){(0,ie.assert)(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}(0,ie.assert)(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let f=await this.ccipReadFetch(s,c.calldata,c.urls);(0,ie.assert)(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});let g={to:a,data:(0,ie.concat)([c.selector,xfe([f,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:g});try{let p=await U(this,D_,rC).call(this,g,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},g),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},g),error:p}),p}}throw i}},q_=new WeakSet,nC=async function(e){let{value:t}=await(0,ie.resolveProperties)({network:this.getNetwork(),value:e});return t},yh=new WeakSet,F_=async function(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await U(this,q_,nC).call(this,U(this,Rs,Ri).call(this,Object.assign(e,{address:s,blockTag:i})))},H_=new WeakSet,sC=async function(e,t){if((0,ie.isHexString)(e,32))return await U(this,Rs,Ri).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await U(this,Rs,Ri).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},bh=new WeakSet,L_=async function(e,t){let n=await X4(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await X4({orphan:"drop-log",log:t[0]},this)),h(this,cs).get(n.tag)||null},$m=new WeakSet,cS=async function(e){let t=await X4(e,this),n=t.tag,s=h(this,cs).get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},h(this,cs).set(n,s)),s};Zm.AbstractProvider=tC;function mfe(r,e){try{let t=iC(r,e);if(t)return(0,ie.toUtf8String)(t)}catch{}return null}function iC(r,e){if(r==="0x")return null;try{let t=(0,ie.getNumber)((0,ie.dataSlice)(r,e,e+32)),n=(0,ie.getNumber)((0,ie.dataSlice)(r,t,t+32));return(0,ie.dataSlice)(r,t+32,t+32+n)}catch{}return null}function PK(r){let e=(0,ie.toBeArray)(r);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function yfe(r){if(r.length%32===0)return r;let e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}var bfe=new Uint8Array([]);function xfe(r){let e=[],t=0;for(let n=0;n<r.length;n++)e.push(bfe),t+=32;for(let n=0;n<r.length;n++){let s=(0,ie.getBytes)(r[n]);e[n]=PK(t),e.push(PK(s.length)),e.push(yfe(s)),t+=32+Math.ceil(s.length/32)*32}return(0,ie.concat)(e)}var AK="0x0000000000000000000000000000000000000000000000000000000000000000";function wfe(r){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,ie.assert)((0,ie.dataLength)(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=(0,ie.dataSlice)(r,0,32);(0,ie.assert)((0,ie.dataSlice)(t,0,12)===(0,ie.dataSlice)(AK,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=(0,ie.dataSlice)(t,12);try{let n=[],s=(0,ie.getNumber)((0,ie.dataSlice)(r,32,64)),i=(0,ie.getNumber)((0,ie.dataSlice)(r,s,s+32)),o=(0,ie.dataSlice)(r,s+32);for(let a=0;a<i;a++){let c=mfe(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{(0,ie.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=iC(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{(0,ie.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,ie.assert)((0,ie.dataSlice)(r,100,128)===(0,ie.dataSlice)(AK,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=(0,ie.dataSlice)(r,96,100);try{let n=iC(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{(0,ie.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}});var dS=M(Ym=>{y();b();Object.defineProperty(Ym,"__esModule",{value:!0});Ym.VoidSigner=Ym.AbstractSigner=void 0;var EK=Qr(),_fe=Os(),Bs=ue(),vfe=Nm();function xh(r,e){if(r.provider)return r.provider;(0,Bs.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function SK(r,e){let t=(0,vfe.copyRequest)(e);if(t.to!=null&&(t.to=(0,EK.resolveAddress)(t.to,r)),t.from!=null){let n=t.from;t.from=Promise.all([r.getAddress(),(0,EK.resolveAddress)(n,r)]).then(([s,i])=>((0,Bs.assertArgument)(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await(0,Bs.resolveProperties)(t)}var lS=class{constructor(e){O(this,"provider");(0,Bs.defineProperties)(this,{provider:e||null})}async getNonce(e){return xh(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await SK(this,e)}async populateTransaction(e){let t=xh(this,"populateTransaction"),n=await SK(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let s=await this.provider.getNetwork();if(n.chainId!=null){let o=(0,Bs.getBigInt)(n.chainId);(0,Bs.assertArgument)(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;let i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?(0,Bs.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&(0,Bs.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let o=await t.getFeeData();(0,Bs.assert)(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{let o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?((0,Bs.assert)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):(0,Bs.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await(0,Bs.resolveProperties)(n)}async populateAuthorization(e){let t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await xh(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return xh(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return xh(this,"call").call(await this.populateCall(e))}async resolveName(e){return await xh(this,"resolveName").resolveName(e)}async sendTransaction(e){let t=xh(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let s=_fe.Transaction.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){(0,Bs.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}};Ym.AbstractSigner=lS;var Xm,fS,aC=class extends lS{constructor(t,n){super(n);T(this,Xm);O(this,"address");(0,Bs.defineProperties)(this,{address:t})}async getAddress(){return this.address}connect(t){return new aC(this.address,t)}async signTransaction(t){U(this,Xm,fS).call(this,"transactions","signTransaction")}async signMessage(t){U(this,Xm,fS).call(this,"messages","signMessage")}async signTypedData(t,n,s){U(this,Xm,fS).call(this,"typed-data","signTypedData")}},oC=aC;Xm=new WeakSet,fS=function(t,n){(0,Bs.assert)(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};Ym.VoidSigner=oC});var af=M(hS=>{y();b();Object.defineProperty(hS,"__esModule",{value:!0});hS.showThrottleMessage=void 0;var kK=new Set;function Pfe(r){kK.has(r)||(kK.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}hS.showThrottleMessage=Pfe});var OK=M(Hl=>{y();b();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.FilterIdPendingSubscriber=Hl.FilterIdEventSubscriber=Hl.FilterIdSubscriber=void 0;var Afe=ue(),Efe=sS();function Sfe(r){return JSON.parse(JSON.stringify(r))}var Is,Wc,wh,ql,_h,ey,K_,cC,V_,uC,G_=class{constructor(e){T(this,K_);T(this,V_);T(this,Is,void 0);T(this,Wc,void 0);T(this,wh,void 0);T(this,ql,void 0);T(this,_h,void 0);T(this,ey,void 0);w(this,Is,e),w(this,Wc,null),w(this,wh,U(this,K_,cC).bind(this)),w(this,ql,!1),w(this,_h,null),w(this,ey,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){h(this,ql)||(w(this,ql,!0),U(this,K_,cC).call(this,-2))}stop(){!h(this,ql)||(w(this,ql,!1),w(this,ey,!0),U(this,V_,uC).call(this),h(this,Is).off("block",h(this,wh)))}pause(e){e&&U(this,V_,uC).call(this),h(this,Is).off("block",h(this,wh))}resume(){this.start()}};Is=new WeakMap,Wc=new WeakMap,wh=new WeakMap,ql=new WeakMap,_h=new WeakMap,ey=new WeakMap,K_=new WeakSet,cC=async function(e){try{h(this,Wc)==null&&w(this,Wc,this._subscribe(h(this,Is)));let t=null;try{t=await h(this,Wc)}catch(i){if(!(0,Afe.isError)(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){w(this,Wc,null),h(this,Is)._recoverSubscriber(this,this._recover(h(this,Is)));return}let n=await h(this,Is).getNetwork();if(h(this,_h)||w(this,_h,n),h(this,_h).chainId!==n.chainId)throw new Error("chaid changed");if(h(this,ey))return;let s=await h(this,Is).send("eth_getFilterChanges",[t]);await this._emitResults(h(this,Is),s)}catch(t){console.log("@TODO",t)}h(this,Is).once("block",h(this,wh))},V_=new WeakSet,uC=function(){let e=h(this,Wc);e&&(w(this,Wc,null),e.then(t=>{h(this,Is).destroyed||h(this,Is).send("eth_uninstallFilter",[t])}))};Hl.FilterIdSubscriber=G_;var vh,fC=class extends G_{constructor(t,n){super(t);T(this,vh,void 0);w(this,vh,Sfe(n))}_recover(t){return new Efe.PollingEventSubscriber(t,h(this,vh))}async _subscribe(t){return await t.send("eth_newFilter",[h(this,vh)])}async _emitResults(t,n){for(let s of n)t.emit(h(this,vh),t._wrapLog(s,t._network))}};vh=new WeakMap;Hl.FilterIdEventSubscriber=fC;var lC=class extends G_{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let n of t)e.emit("pending",n)}};Hl.FilterIdPendingSubscriber=lC});var Ii=M(Zc=>{y();b();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.JsonRpcProvider=Zc.JsonRpcApiPollingProvider=Zc.JsonRpcApiProvider=Zc.JsonRpcSigner=void 0;var kfe=Om(),Ph=Qr(),TK=Dc(),NK=Os(),Be=ue(),CK=Qm(),Ofe=dS(),dC=Cs(),RK=OK(),Tfe=sS(),Nfe="bigint,boolean,function,number,string,symbol".split(/,/g);function gS(r){if(r==null||Nfe.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(gS);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function Cfe(r){return new Promise(e=>{setTimeout(e,r)})}function ty(r){return r&&r.toLowerCase()}function BK(r){return r&&typeof r.pollingInterval=="number"}var IK={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},ry=class extends Ofe.AbstractSigner{constructor(t,n){super(t);O(this,"address");n=(0,Ph.getAddress)(n),(0,Be.defineProperties)(this,{address:n})}connect(t){(0,Be.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){let n=gS(t),s=[];if(n.from){let o=n.from;s.push((async()=>{let a=await(0,Ph.resolveAddress)(o,this.provider);(0,Be.assertArgument)(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let o=n.to;s.push((async()=>{n.to=await(0,Ph.resolveAddress)(o,this.provider)})())}s.length&&await Promise.all(s);let i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){let n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,o)=>{let a=[1e3,100],c=0,f=async()=>{try{let g=await this.provider.getTransaction(s);if(g!=null){i(g.replaceableTransaction(n));return}}catch(g){if((0,Be.isError)(g,"CANCELLED")||(0,Be.isError)(g,"BAD_DATA")||(0,Be.isError)(g,"NETWORK_ERROR")||(0,Be.isError)(g,"UNSUPPORTED_OPERATION")){g.info==null&&(g.info={}),g.info.sendTransactionHash=s,o(g);return}if((0,Be.isError)(g,"INVALID_ARGUMENT")&&(c++,g.info==null&&(g.info={}),g.info.sendTransactionHash=s,c>10)){o(g);return}this.provider.emit("error",(0,Be.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:g}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(t){let n=gS(t);if(n.from){let i=await(0,Ph.resolveAddress)(n.from,this.provider);(0,Be.assertArgument)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=i}else n.from=this.address;let s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){let n=typeof t=="string"?(0,Be.toUtf8Bytes)(t):t;return await this.provider.send("personal_sign",[(0,Be.hexlify)(n),this.address.toLowerCase()])}async signTypedData(t,n,s){let i=gS(s),o=await TK.TypedDataEncoder.resolveNames(t,n,i,async a=>{let c=await(0,Ph.resolveAddress)(a);return(0,Be.assertArgument)(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TK.TypedDataEncoder.getPayload(o.domain,n,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){let n=typeof t=="string"?(0,Be.toUtf8Bytes)(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,Be.hexlify)(n)])}};Zc.JsonRpcSigner=ry;var Ah,ny,cf,$c,Ha,bo,ii,z_,hC,pS=class extends CK.AbstractProvider{constructor(t,n){super(t,n);T(this,z_);T(this,Ah,void 0);T(this,ny,void 0);T(this,cf,void 0);T(this,$c,void 0);T(this,Ha,void 0);T(this,bo,void 0);T(this,ii,void 0);w(this,ny,1),w(this,Ah,Object.assign({},IK,n||{})),w(this,cf,[]),w(this,$c,null),w(this,bo,null),w(this,ii,null);{let i=null,o=new Promise(a=>{i=a});w(this,Ha,{promise:o,resolve:i})}let s=this._getOption("staticNetwork");typeof s=="boolean"?((0,Be.assertArgument)(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&t!=null&&w(this,bo,dC.Network.from(t))):s&&((0,Be.assertArgument)(t==null||s.matches(t),"staticNetwork MUST match network object","options",n),w(this,bo,s))}_getOption(t){return h(this,Ah)[t]}get _network(){return(0,Be.assert)(h(this,bo),"network is not available yet","NETWORK_ERROR"),h(this,bo)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&(0,Be.getBigInt)(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}let n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){let t=this._getOption("staticNetwork");if(t)if(t===!0){if(h(this,bo))return h(this,bo)}else return t;return h(this,ii)?await h(this,ii):this.ready?(w(this,ii,(async()=>{try{let n=dC.Network.from((0,Be.getBigInt)(await this.send("eth_chainId",[])));return w(this,ii,null),n}catch(n){throw w(this,ii,null),n}})()),await h(this,ii)):(w(this,ii,(async()=>{let n={id:kn(this,ny)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],w(this,ii,null)}catch(i){throw w(this,ii,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return dC.Network.from((0,Be.getBigInt)(s.result));throw this.getRpcError(n,s)})()),await h(this,ii))}_start(){h(this,Ha)==null||h(this,Ha).resolve==null||(h(this,Ha).resolve(),w(this,Ha,null),(async()=>{for(;h(this,bo)==null&&!this.destroyed;)try{w(this,bo,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,Be.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Cfe(1e3)}U(this,z_,hC).call(this)})())}async _waitUntilReady(){if(h(this,Ha)!=null)return await h(this,Ha).promise}_getSubscriber(t){return t.type==="pending"?new RK.FilterIdPendingSubscriber(this):t.type==="event"?this._getOption("polling")?new Tfe.PollingEventSubscriber(this,t.filter):new RK.FilterIdEventSubscriber(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new CK.UnmanagedSubscriber("orphan"):super._getSubscriber(t)}get ready(){return h(this,Ha)==null}getRpcTransaction(t){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=(0,Be.toQuantity)((0,Be.getBigInt)(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(n[s]=(0,Be.hexlify)(t[s]))}),t.accessList&&(n.accessList=(0,NK.accessListify)(t.accessList)),t.blobVersionedHashes&&(n.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),t.authorizationList&&(n.authorizationList=t.authorizationList.map(s=>{let i=(0,NK.authorizationify)(s);return{address:i.address,nonce:(0,Be.toQuantity)(i.nonce),chainId:(0,Be.toQuantity)(i.chainId),yParity:(0,Be.toQuantity)(i.signature.yParity),r:(0,Be.toQuantity)(i.signature.r),s:(0,Be.toQuantity)(i.signature.s)}})),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ty(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ty(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[ty(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ty(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(ty):t.filter.address=ty(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){let{method:s}=t,{error:i}=n;if(s==="eth_estimateGas"&&i.message){let c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return(0,Be.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return(0,Be.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){let c=pC(i),f=kfe.AbiCoder.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return f.info={error:i,payload:t},f}let o=JSON.stringify(Rfe(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i)){let c={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,Be.makeError)("user rejected action","ACTION_REJECTED",{action:c[s]||"unknown",reason:"rejected",info:{payload:t,error:i}})}if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){let c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,Be.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,Be.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,Be.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return(0,Be.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,Be.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):(0,Be.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,n){if(this.destroyed)return Promise.reject((0,Be.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));let s=kn(this,ny)._++,i=new Promise((o,a)=>{h(this,cf).push({resolve:o,reject:a,payload:{method:t,params:n,id:s,jsonrpc:"2.0"}})});return U(this,z_,hC).call(this),i}async getSigner(t){t==null&&(t=0);let n=this.send("eth_accounts",[]);if(typeof t=="number"){let i=await n;if(t>=i.length)throw new Error("no such account");return new ry(this,i[t])}let{accounts:s}=await(0,Be.resolveProperties)({network:this.getNetwork(),accounts:n});t=(0,Ph.getAddress)(t);for(let i of s)if((0,Ph.getAddress)(i)===t)return new ry(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new ry(this,n))}destroy(){h(this,$c)&&(clearTimeout(h(this,$c)),w(this,$c,null));for(let{payload:t,reject:n}of h(this,cf))n((0,Be.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));w(this,cf,[]),super.destroy()}};Ah=new WeakMap,ny=new WeakMap,cf=new WeakMap,$c=new WeakMap,Ha=new WeakMap,bo=new WeakMap,ii=new WeakMap,z_=new WeakSet,hC=function(){if(h(this,$c))return;let t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,$c,setTimeout(()=>{w(this,$c,null);let n=h(this,cf);for(w(this,cf,[]);n.length;){let s=[n.shift()];for(;n.length&&s.length!==h(this,Ah).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>h(this,Ah).batchMaxSize){n.unshift(s.pop());break}(async()=>{let i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:a,reject:c,payload:f}of s){if(this.destroyed){c((0,Be.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}let g=o.filter(p=>p.id===f.id)[0];if(g==null){let p=(0,Be.makeError)("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",p),c(p);continue}if("error"in g){c(this.getRpcError(f,g));continue}a(g.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:a}of s)a(o)}})()}},t))};Zc.JsonRpcApiProvider=pS;var Gl,mS=class extends pS{constructor(t,n){super(t,n);T(this,Gl,void 0);let s=this._getOption("pollingInterval");s==null&&(s=IK.pollingInterval),w(this,Gl,s)}_getSubscriber(t){let n=super._getSubscriber(t);return BK(n)&&(n.pollingInterval=h(this,Gl)),n}get pollingInterval(){return h(this,Gl)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");w(this,Gl,t),this._forEachSubscriber(n=>{BK(n)&&(n.pollingInterval=h(this,Gl))})}};Gl=new WeakMap;Zc.JsonRpcApiPollingProvider=mS;var sy,gC=class extends mS{constructor(t,n,s){t==null&&(t="http://localhost:8545");super(n,s);T(this,sy,void 0);typeof t=="string"?w(this,sy,new Be.FetchRequest(t)):w(this,sy,t.clone())}_getConnection(){return h(this,sy).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){let n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");let s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}};sy=new WeakMap;Zc.JsonRpcProvider=gC;function pC(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&(0,Be.isHexString)(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(let e in r){let t=pC(r[e]);if(t)return t}return null}if(typeof r=="string")try{return pC(JSON.parse(r))}catch{}return null}function mC(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(let t in r)mC(r[t],e);if(typeof r=="string")try{return mC(JSON.parse(r),e)}catch{}}}function Rfe(r){let e=[];return mC(r,e),e}});var bC=M(bS=>{y();b();Object.defineProperty(bS,"__esModule",{value:!0});bS.AnkrProvider=void 0;var yC=ue(),Bfe=af(),Ife=Cs(),Mfe=Ii(),yS="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function jfe(r){switch(r){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,yC.assertArgument)(!1,"unsupported network","network",r)}var iy=class extends Mfe.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Ife.Network.from(t);n==null&&(n=yS);let i={polling:!0,staticNetwork:s},o=iy.getRequest(s,n);super(o,s,i);O(this,"apiKey");(0,yC.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new iy(t,this.apiKey)}catch{}return super._getProvider(t)}static getRequest(t,n){n==null&&(n=yS);let s=new yC.FetchRequest(`https://${jfe(t.name)}/${n}`);return s.allowGzip=!0,n===yS&&(s.retryFunc=async(i,o,a)=>((0,Bfe.showThrottleMessage)("AnkrProvider"),!0)),s}getRpcError(t,n){return t.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(t,n)}isCommunityResource(){return this.apiKey===yS}};bS.AnkrProvider=iy});var xC=M(wS=>{y();b();Object.defineProperty(wS,"__esModule",{value:!0});wS.AlchemyProvider=void 0;var oy=ue(),Ffe=af(),Lfe=Cs(),Ufe=Ii(),xS="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function Dfe(r){switch(r){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,oy.assertArgument)(!1,"unsupported network","network",r)}var ay=class extends Ufe.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Lfe.Network.from(t);n==null&&(n=xS);let i=ay.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,oy.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new ay(t,this.apiKey)}catch{}return super._getProvider(t)}async _perform(t){if(t.method==="getTransactionResult"){let{trace:n,tx:s}=await(0,oy.resolveProperties)({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(n==null||s==null)return null;let i,o=!1;try{i=n[0].result.output,o=n[0].error==="Reverted"}catch{}if(i)return(0,oy.assert)(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:s,invocation:null,revert:null}),i;(0,oy.assert)(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(t)}isCommunityResource(){return this.apiKey===xS}static getRequest(t,n){n==null&&(n=xS);let s=new oy.FetchRequest(`https://${Dfe(t.name)}/v2/${n}`);return s.allowGzip=!0,n===xS&&(s.retryFunc=async(i,o,a)=>((0,Ffe.showThrottleMessage)("alchemy"),!0)),s}};wS.AlchemyProvider=ay});var wC=M(PS=>{y();b();Object.defineProperty(PS,"__esModule",{value:!0});PS.ChainstackProvider=void 0;var vS=ue(),qfe=af(),Hfe=Cs(),Gfe=Ii();function _S(r){switch(r){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,vS.assertArgument)(!1,"unsupported network","network",r)}function Kfe(r){switch(r){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,vS.assertArgument)(!1,"unsupported network","network",r)}var cy=class extends Gfe.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Hfe.Network.from(t);n==null&&(n=_S(s.name));let i=cy.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,vS.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new cy(t,this.apiKey)}catch{}return super._getProvider(t)}isCommunityResource(){return this.apiKey===_S(this._network.name)}static getRequest(t,n){n==null&&(n=_S(t.name));let s=new vS.FetchRequest(`https://${Kfe(t.name)}/${n}`);return s.allowGzip=!0,n===_S(t.name)&&(s.retryFunc=async(i,o,a)=>((0,qfe.showThrottleMessage)("ChainstackProvider"),!0)),s}};PS.ChainstackProvider=cy});var vC=M(AS=>{y();b();Object.defineProperty(AS,"__esModule",{value:!0});AS.CloudflareProvider=void 0;var Vfe=ue(),zfe=Cs(),Jfe=Ii(),_C=class extends Jfe.JsonRpcProvider{constructor(e){e==null&&(e="mainnet");let t=zfe.Network.from(e);(0,Vfe.assertArgument)(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};AS.CloudflareProvider=_C});var AC=M(fy=>{y();b();Object.defineProperty(fy,"__esModule",{value:!0});fy.EtherscanProvider=fy.EtherscanPlugin=void 0;var Wfe=Om(),$fe=S_(),MK=Os(),un=ue(),Zfe=Qm(),Qfe=Cs(),Xfe=X3(),Yfe=af(),jK=2e3;function ele(r){return r&&typeof r.then=="function"}var FK="org.ethers.plugins.provider.Etherscan",J_=class extends Xfe.NetworkPlugin{constructor(t){super(FK);O(this,"baseUrl");(0,un.defineProperties)(this,{baseUrl:t})}clone(){return new J_(this.baseUrl)}};fy.EtherscanPlugin=J_;var tle=["enableCcipRead"],rle=1,uy,PC=class extends Zfe.AbstractProvider{constructor(t,n){let s=n??null;super();O(this,"network");O(this,"apiKey");T(this,uy,void 0);let i=Qfe.Network.from(t);w(this,uy,i.getPlugin(FK)),(0,un.defineProperties)(this,{apiKey:s,network:i})}getBaseUrl(){if(h(this,uy))return h(this,uy).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}(0,un.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(t,n){let s=Object.keys(n).reduce((i,o)=>{let a=n[o];return a!=null&&(i+=`&${o}=${a}`),i},"");return this.apiKey&&(s+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${t}${s}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(t,n){return n.module=t,n.apikey=this.apiKey,n.chainid=this.network.chainId,n}async detectNetwork(){return this.network}async fetch(t,n,s){let i=rle++,o=s?this.getPostUrl():this.getUrl(t,n),a=s?this.getPostData(t,n):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:a});let c=new un.FetchRequest(o);c.setThrottleParams({slotInterval:1e3}),c.retryFunc=(p,A,P)=>(this.isCommunityResource()&&(0,Yfe.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),c.processFunc=async(p,A)=>{let P=A.hasBody()?JSON.parse((0,un.toUtf8String)(A.body)):{},C=(typeof P.result=="string"?P.result:"").toLowerCase().indexOf("rate limit")>=0;return t==="proxy"?P&&P.status==0&&P.message=="NOTOK"&&C&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:P}),A.throwThrottleError(P.result,jK)):C&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:P.result}),A.throwThrottleError(P.result,jK)),A},a&&(c.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),c.body=Object.keys(a).map(p=>`${p}=${a[p]}`).join("&"));let f=await c.send();try{f.assertOk()}catch(p){this.emit("debug",{action:"receiveError",id:i,error:p,reason:"assertOk"}),(0,un.assert)(!1,"response error","SERVER_ERROR",{request:c,response:f})}f.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),(0,un.assert)(!1,"missing response","SERVER_ERROR",{request:c,response:f}));let g=JSON.parse((0,un.toUtf8String)(f.body));return t==="proxy"?(g.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"invalid JSON-RPC"}),(0,un.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:c,response:f,info:{result:g}})),g.error&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"JSON-RPC error"}),(0,un.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):g.status==0&&(g.message==="No records found"||g.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):((g.status!=1||typeof g.message=="string"&&!g.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:g}),(0,un.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result)}_getTransactionPostData(t){let n={};for(let s in t){if(tle.indexOf(s)>=0||t[s]==null)continue;let i=t[s];if(!(s==="type"&&i===0)&&!(s==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[s])i=(0,un.toQuantity)(i);else if(s==="accessList")i="["+(0,MK.accessListify)(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(s==="blobVersionedHashes"){if(i.length===0)continue;(0,un.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:t}})}else i=(0,un.hexlify)(i);n[s]=i}}return n}_checkError(t,n,s){let i="";if((0,un.isError)(n,"SERVER_ERROR")){try{i=n.info.result.error.message}catch{}if(!i)try{i=n.info.message}catch{}}if(t.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,un.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.transaction}),(t.method==="call"||t.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=n.info.result.error.data}catch{}let a=Wfe.AbiCoder.getBuiltinCallException(t.method,t.transaction,o);throw a.info={request:t,error:n},a}if(i&&t.method==="broadcastTransaction"){let o=MK.Transaction.from(t.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,un.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&(0,un.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,un.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw n}async _detectNetwork(){return this.network}async _perform(t){switch(t.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(n=>this._checkError(t,n,t.signedTransaction));case"getBlock":if("blockTag"in t)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});(0,un.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.hash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}case"estimateGas":{let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}default:break}return super._perform(t)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(t){let n=this._getAddress(t);ele(n)&&(n=await n);try{let s=await this.fetch("contract",{action:"getabi",address:n}),i=JSON.parse(s);return new $fe.Contract(n,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};uy=new WeakMap;fy.EtherscanProvider=PC});var LK=M(ES=>{y();b();Object.defineProperty(ES,"__esModule",{value:!0});ES.WebSocket=void 0;function nle(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var sle=nle().WebSocket;ES.WebSocket=sle});var TS=M(xo=>{y();b();Object.defineProperty(xo,"__esModule",{value:!0});xo.SocketProvider=xo.SocketEventSubscriber=xo.SocketPendingSubscriber=xo.SocketBlockSubscriber=xo.SocketSubscriber=void 0;var UK=Qm(),W_=ue(),ile=Ii(),Qc,$_,Kl,Eh,Vl,dy=class{constructor(e,t){T(this,Qc,void 0);T(this,$_,void 0);T(this,Kl,void 0);T(this,Eh,void 0);T(this,Vl,void 0);w(this,Qc,e),w(this,$_,JSON.stringify(t)),w(this,Kl,null),w(this,Eh,null),w(this,Vl,null)}get filter(){return JSON.parse(h(this,$_))}start(){w(this,Kl,h(this,Qc).send("eth_subscribe",this.filter).then(e=>(h(this,Qc)._register(e,this),e)))}stop(){h(this,Kl).then(e=>{h(this,Qc).destroyed||h(this,Qc).send("eth_unsubscribe",[e])}),w(this,Kl,null)}pause(e){(0,W_.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),w(this,Eh,!!e)}resume(){w(this,Eh,null)}_handleMessage(e){if(h(this,Kl)!=null&&h(this,Eh)===null){let t=h(this,Vl);t==null?t=this._emit(h(this,Qc),e):t=t.then(async()=>{await this._emit(h(this,Qc),e)}),w(this,Vl,t.then(()=>{h(this,Vl)===t&&w(this,Vl,null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}};Qc=new WeakMap,$_=new WeakMap,Kl=new WeakMap,Eh=new WeakMap,Vl=new WeakMap;xo.SocketSubscriber=dy;var SS=class extends dy{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}};xo.SocketBlockSubscriber=SS;var kS=class extends dy{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}};xo.SocketPendingSubscriber=kS;var Z_,OS=class extends dy{constructor(t,n){super(t,["logs",n]);T(this,Z_,void 0);w(this,Z_,JSON.stringify(n))}get logFilter(){return JSON.parse(h(this,Z_))}async _emit(t,n){t.emit(this.logFilter,t._wrapLog(n,t._network))}};Z_=new WeakMap;xo.SocketEventSubscriber=OS;var Sh,ly,zl,EC=class extends ile.JsonRpcApiProvider{constructor(t,n){let s=Object.assign({},n??{});(0,W_.assertArgument)(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(t,s);T(this,Sh,void 0);T(this,ly,void 0);T(this,zl,void 0);w(this,Sh,new Map),w(this,ly,new Map),w(this,zl,new Map)}_getSubscriber(t){switch(t.type){case"close":return new UK.UnmanagedSubscriber("close");case"block":return new SS(this);case"pending":return new kS(this);case"event":return new OS(this,t.filter);case"orphan":if(t.filter.orphan==="drop-log")return new UK.UnmanagedSubscriber("drop-log")}return super._getSubscriber(t)}_register(t,n){h(this,ly).set(t,n);let s=h(this,zl).get(t);if(s){for(let i of s)n._handleMessage(i);h(this,zl).delete(t)}}async _send(t){(0,W_.assertArgument)(!Array.isArray(t),"WebSocket does not support batch send","payload",t);let n=new Promise((s,i)=>{h(this,Sh).set(t.id,{payload:t,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(t)),[await n]}async _processMessage(t){let n=JSON.parse(t);if(n&&typeof n=="object"&&"id"in n){let s=h(this,Sh).get(n.id);if(s==null){this.emit("error",(0,W_.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}h(this,Sh).delete(n.id),s.resolve(n)}else if(n&&n.method==="eth_subscription"){let s=n.params.subscription,i=h(this,ly).get(s);if(i)i._handleMessage(n.params.result);else{let o=h(this,zl).get(s);o==null&&(o=[],h(this,zl).set(s,o)),o.push(n.params.result)}}else{this.emit("error",(0,W_.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(t){throw new Error("sub-classes must override this")}};Sh=new WeakMap,ly=new WeakMap,zl=new WeakMap;xo.SocketProvider=EC});var CS=M(NS=>{y();b();Object.defineProperty(NS,"__esModule",{value:!0});NS.WebSocketProvider=void 0;var ole=LK(),ale=TS(),kh,Ga,SC=class extends ale.SocketProvider{constructor(t,n,s){super(n,s);T(this,kh,void 0);T(this,Ga,void 0);typeof t=="string"?(w(this,kh,()=>new ole.WebSocket(t)),w(this,Ga,h(this,kh).call(this))):typeof t=="function"?(w(this,kh,t),w(this,Ga,t())):(w(this,kh,null),w(this,Ga,t)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(h(this,Ga)==null)throw new Error("websocket closed");return h(this,Ga)}async _write(t){this.websocket.send(t)}async destroy(){h(this,Ga)!=null&&(h(this,Ga).close(),w(this,Ga,null)),super.destroy()}};kh=new WeakMap,Ga=new WeakMap;NS.WebSocketProvider=SC});var kC=M(hy=>{y();b();Object.defineProperty(hy,"__esModule",{value:!0});hy.InfuraProvider=hy.InfuraWebSocketProvider=void 0;var X_=ue(),cle=af(),ule=Cs(),fle=Ii(),lle=CS(),Q_="84842078b09946638c03157f83405213";function dle(r){switch(r){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,X_.assertArgument)(!1,"unsupported network","network",r)}var RS=class extends lle.WebSocketProvider{constructor(t,n){let s=new Oh(t,n),i=s._getConnection();(0,X_.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);O(this,"projectId");O(this,"projectSecret");(0,X_.defineProperties)(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===Q_}};hy.InfuraWebSocketProvider=RS;var Oh=class extends fle.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=ule.Network.from(t);n==null&&(n=Q_),s==null&&(s=null);let o=Oh.getRequest(i,n,s);super(o,i,{staticNetwork:i});O(this,"projectId");O(this,"projectSecret");(0,X_.defineProperties)(this,{projectId:n,projectSecret:s})}_getProvider(t){try{return new Oh(t,this.projectId,this.projectSecret)}catch{}return super._getProvider(t)}isCommunityResource(){return this.projectId===Q_}static getWebSocketProvider(t,n){return new RS(t,n)}static getRequest(t,n,s){n==null&&(n=Q_),s==null&&(s=null);let i=new X_.FetchRequest(`https://${dle(t.name)}/v3/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===Q_&&(i.retryFunc=async(o,a,c)=>((0,cle.showThrottleMessage)("InfuraProvider"),!0)),i}};hy.InfuraProvider=Oh});var TC=M(IS=>{y();b();Object.defineProperty(IS,"__esModule",{value:!0});IS.QuickNodeProvider=void 0;var OC=ue(),hle=af(),gle=Cs(),ple=Ii(),BS="919b412a057b5e9c9b6dce193c5a60242d6efadb";function mle(r){switch(r){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,OC.assertArgument)(!1,"unsupported network","network",r)}var gy=class extends ple.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=gle.Network.from(t);n==null&&(n=BS);let i=gy.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"token");(0,OC.defineProperties)(this,{token:n})}_getProvider(t){try{return new gy(t,this.token)}catch{}return super._getProvider(t)}isCommunityResource(){return this.token===BS}static getRequest(t,n){n==null&&(n=BS);let s=new OC.FetchRequest(`https://${mle(t.name)}/${n}`);return s.allowGzip=!0,n===BS&&(s.retryFunc=async(i,o,a)=>((0,hle.showThrottleMessage)("QuickNodeProvider"),!0)),s}};IS.QuickNodeProvider=gy});var LC=M(US=>{y();b();Object.defineProperty(US,"__esModule",{value:!0});US.FallbackProvider=void 0;var wo=ue(),DK=Qm(),yle=Cs(),ble=BigInt("1"),xle=BigInt("2");function wle(r){for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}}function _le(r){return new Promise(e=>{setTimeout(e,r)})}function BC(){return new Date().getTime()}function NC(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var qK={stallTimeout:400,priority:1,weight:1},HK={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function vle(r,e){for(;(r.blockNumber<0||r.blockNumber<e)&&(r._updateNumber||(r._updateNumber=(async()=>{try{let t=await r.provider.getBlockNumber();t>r.blockNumber&&(r.blockNumber=t)}catch(t){r.blockNumber=-2,r._lastFatalError=t,r._lastFatalErrorTimestamp=BC()}r._updateNumber=null})()),await r._updateNumber,r.outOfSync++,!r._lastFatalError););}function py(r){if(r==null)return"null";if(Array.isArray(r))return"["+r.map(py).join(",")+"]";if(typeof r=="object"&&typeof r.toJSON=="function")return py(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":case"number":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${py(r[t])}`).join(",")+"}"}}throw console.log("Could not serialize",r),new Error("Hmm...")}function CC(r,e){if("error"in e){let n=e.error,s;return(0,wo.isError)(n,"CALL_EXCEPTION")?s=py(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):s=py(n),{tag:s,value:n}}let t=e.result;return{tag:py(t),value:t}}function MS(r,e){let t=new Map;for(let{value:s,tag:i,weight:o}of e){let a=t.get(i)||{value:s,weight:0};a.weight+=o,t.set(i,a)}let n=null;for(let s of t.values())s.weight>=r&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function IC(r,e){let t=0,n=new Map,s=null,i=[];for(let{value:a,tag:c,weight:f}of e)if(a instanceof Error){let g=n.get(c)||{value:a,weight:0};g.weight+=f,n.set(c,g),(s==null||g.weight>s.weight)&&(s=g)}else i.push(BigInt(a)),t+=f;if(t<r)return s&&s.weight>=r?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+ble)/xle}function RC(r,e){let t=MS(r,e);if(t!==void 0)return t;for(let n of e)if(n.value)return n.value}function Ple(r,e){if(r===1)return(0,wo.getNumber)(IC(r,e),"%internal");let t=new Map,n=(o,a)=>{let c=t.get(o)||{result:o,weight:0};c.weight+=a,t.set(o,c)};for(let{weight:o,value:a}of e){let c=(0,wo.getNumber)(a);n(c-1,o),n(c,o),n(c+1,o)}let s=0,i;for(let{weight:o,result:a}of t.values())o>=r&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var oi,uf,my,jS,GK,Y_,jC,FS,KK,LS,VK,ev,FC,MC=class extends DK.AbstractProvider{constructor(t,n,s){super(n,s);T(this,jS);T(this,Y_);T(this,FS);T(this,LS);T(this,ev);O(this,"quorum");O(this,"eventQuorum");O(this,"eventWorkers");T(this,oi,void 0);T(this,uf,void 0);T(this,my,void 0);w(this,oi,t.map(i=>i instanceof DK.AbstractProvider?Object.assign({provider:i},qK,HK):Object.assign({},qK,i,HK))),w(this,uf,-2),w(this,my,null),s&&s.quorum!=null?this.quorum=s.quorum:this.quorum=Math.ceil(h(this,oi).reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,wo.assertArgument)(this.quorum<=h(this,oi).reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return h(this,oi).map(t=>{let n=Object.assign({},t);for(let s in n)s[0]==="_"&&delete n[s];return n})}async _detectNetwork(){return yle.Network.from((0,wo.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(t,n){switch(n.method){case"broadcastTransaction":return await t.broadcastTransaction(n.signedTransaction);case"call":return await t.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await t.getNetwork()).chainId;case"estimateGas":return await t.estimateGas(n.transaction);case"getBalance":return await t.getBalance(n.address,n.blockTag);case"getBlock":{let s="blockHash"in n?n.blockHash:n.blockTag;return await t.getBlock(s,n.includeTransactions)}case"getBlockNumber":return await t.getBlockNumber();case"getCode":return await t.getCode(n.address,n.blockTag);case"getGasPrice":return(await t.getFeeData()).gasPrice;case"getPriorityFee":return(await t.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await t.getLogs(n.filter);case"getStorage":return await t.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await t.getTransaction(n.hash);case"getTransactionCount":return await t.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await t.getTransactionReceipt(n.hash);case"getTransactionResult":return await t.getTransactionResult(n.hash)}}async _perform(t){if(t.method==="broadcastTransaction"){let o=h(this,oi).map(f=>null),a=h(this,oi).map(async({provider:f,weight:g},p)=>{try{let A=await f._perform(t);o[p]=Object.assign(CC(t.method,{result:A}),{weight:g})}catch(A){o[p]=Object.assign(CC(t.method,{error:A}),{weight:g})}});for(;;){let f=o.filter(A=>A!=null);for(let{value:A}of f)if(!(A instanceof Error))return A;let g=MS(this.quorum,o.filter(A=>A!=null));if((0,wo.isError)(g,"INSUFFICIENT_FUNDS"))throw g;let p=a.filter((A,P)=>o[P]==null);if(p.length===0)break;await Promise.race(p)}let c=RC(this.quorum,o);if((0,wo.assert)(c!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:o.map(NC)}}),c instanceof Error)throw c;return c}await U(this,FS,KK).call(this);let n=new Set,s=0;for(;;){let o=U(this,Y_,jC).call(this,n,t);if(o==null||(s+=o.config.weight,s>=this.quorum))break}let i=await U(this,ev,FC).call(this,n,t);for(let o of n)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:t}of h(this,oi))t.destroy();super.destroy()}};oi=new WeakMap,uf=new WeakMap,my=new WeakMap,jS=new WeakSet,GK=function(t){let n=Array.from(t).map(i=>i.config),s=h(this,oi).slice();wle(s),s.sort((i,o)=>i.priority-o.priority);for(let i of s)if(!i._lastFatalError&&n.indexOf(i)===-1)return i;return null},Y_=new WeakSet,jC=function(t,n){let s=U(this,jS,GK).call(this,t);if(s==null)return null;let i={config:s,result:null,didBump:!1,perform:null,staller:null},o=BC();return i.perform=(async()=>{try{s.requests++;let c=await this._translatePerform(s.provider,n);i.result={result:c}}catch(c){s.errorResponses++,i.result={error:c}}let a=BC()-o;s._totalTime+=a,s.rollingDuration=.95*s.rollingDuration+.05*a,i.perform=null})(),i.staller=(async()=>{await _le(s.stallTimeout),i.staller=null})(),t.add(i),i},FS=new WeakSet,KK=async function(){let t=h(this,my);if(!t){let n=[];h(this,oi).forEach(s=>{n.push((async()=>{await vle(s,0),s._lastFatalError||(s._network=await s.provider.getNetwork())})())}),w(this,my,t=(async()=>{await Promise.all(n);let s=null;for(let i of h(this,oi)){if(i._lastFatalError)continue;let o=i._network;s==null?s=o.chainId:o.chainId!==s&&(0,wo.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await t},LS=new WeakSet,VK=async function(t,n){let s=[];for(let i of t)if(i.result!=null){let{tag:o,value:a}=CC(n.method,i.result);s.push({tag:o,value:a,weight:i.config.weight})}if(!(s.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{h(this,uf)===-2&&w(this,uf,Math.ceil((0,wo.getNumber)(IC(this.quorum,h(this,oi).filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:(0,wo.getNumber)(o.blockNumber).toString(),weight:o.weight}))))));let i=Ple(this.quorum,s);return i===void 0?void 0:(i>h(this,uf)&&w(this,uf,i),h(this,uf))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return IC(this.quorum,s);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?RC(this.quorum,s):MS(this.quorum,s);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return MS(this.quorum,s);case"broadcastTransaction":return RC(this.quorum,s)}(0,wo.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${NC(n.method)})`})}},ev=new WeakSet,FC=async function(t,n){if(t.size===0)throw new Error("no runners?!");let s=[],i=0;for(let a of t){if(a.perform&&s.push(a.perform),a.staller){s.push(a.staller);continue}a.didBump||(a.didBump=!0,i++)}let o=await U(this,LS,VK).call(this,t,n);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let a=0;a<i;a++)U(this,Y_,jC).call(this,t,n);return(0,wo.assert)(s.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(t).map(a=>NC(a.result))}}),await Promise.race(s),await U(this,ev,FC).call(this,t,n)};US.FallbackProvider=MC});var zK=M(DS=>{y();b();Object.defineProperty(DS,"__esModule",{value:!0});DS.getDefaultProvider=void 0;var Ale=ue(),Ele=bC(),Sle=xC(),kle=wC(),Ole=vC(),Tle=AC(),Nle=kC(),Cle=TC(),Rle=LC(),UC=Ii(),Ble=Cs(),Ile=CS();function Mle(r){return r&&typeof r.send=="function"&&typeof r.close=="function"}var jle="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Fle(r,e){e==null&&(e={});let t=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof r=="string"&&r.match(/^https?:/))return new UC.JsonRpcProvider(r);if(typeof r=="string"&&r.match(/^wss?:/)||Mle(r))return new Ile.WebSocketProvider(r);let n=null;try{n=Ble.Network.from(r)}catch{}let s=[];if(t("publicPolygon")&&n&&(n.name==="matic"?s.push(new UC.JsonRpcProvider("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new UC.JsonRpcProvider("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),t("alchemy"))try{s.push(new Sle.AlchemyProvider(r,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new Ele.AnkrProvider(r,e.ankr))}catch{}if(t("chainstack"))try{s.push(new kle.ChainstackProvider(r,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new Ole.CloudflareProvider(r))}catch{}if(t("etherscan"))try{s.push(new Tle.EtherscanProvider(r,e.etherscan))}catch{}if(t("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new Nle.InfuraProvider(r,o,a))}catch{}if(t("quicknode"))try{let o=e.quicknode;s.push(new Cle.QuickNodeProvider(r,o))}catch{}if((0,Ale.assert)(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),n&&jle.indexOf(n.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new Rle.FallbackProvider(s,void 0,{quorum:i})}DS.getDefaultProvider=Fle});var JK=M(qS=>{y();b();Object.defineProperty(qS,"__esModule",{value:!0});qS.NonceManager=void 0;var Lle=ue(),Ule=dS(),Jl,Th,qC=class extends Ule.AbstractSigner{constructor(t){super(t.provider);O(this,"signer");T(this,Jl,void 0);T(this,Th,void 0);(0,Lle.defineProperties)(this,{signer:t}),w(this,Jl,null),w(this,Th,0)}async getAddress(){return this.signer.getAddress()}connect(t){return new qC(this.signer.connect(t))}async getNonce(t){if(t==="pending"){h(this,Jl)==null&&w(this,Jl,super.getNonce("pending"));let n=h(this,Th);return await h(this,Jl)+n}return super.getNonce(t)}increment(){kn(this,Th)._++}reset(){w(this,Th,0),w(this,Jl,null)}async sendTransaction(t){let n=this.getNonce("pending");return this.increment(),t=await this.signer.populateTransaction(t),t.nonce=await n,await this.signer.sendTransaction(t)}signTransaction(t){return this.signer.signTransaction(t)}signMessage(t){return this.signer.signMessage(t)}signTypedData(t,n,s){return this.signer.signTypedData(t,n,s)}},DC=qC;Jl=new WeakMap,Th=new WeakMap;qS.NonceManager=DC});var WK=M(HS=>{y();b();Object.defineProperty(HS,"__esModule",{value:!0});HS.BrowserProvider=void 0;var HC=ue(),Dle=Ii(),yy,by,Nh=class extends Dle.JsonRpcApiPollingProvider{constructor(t,n,s){let i=Object.assign({},s??{},{batchMaxCount:1});(0,HC.assertArgument)(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(n,i);T(this,yy,void 0);T(this,by,void 0);w(this,by,null),s&&s.providerInfo&&w(this,by,s.providerInfo),w(this,yy,async(o,a)=>{let c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{let f=await t.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){let g=new Error(f.message);throw g.code=f.code,g.data=f.data,g.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:g}),g}})}get providerInfo(){return h(this,by)}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){(0,HC.assertArgument)(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{let n=await h(this,yy).call(this,t.method,t.params||[]);return[{id:t.id,result:n}]}catch(n){return[{id:t.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(t,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(t,n)}async hasSigner(t){t==null&&(t=0);let n=await this.send("eth_accounts",[]);return typeof t=="number"?n.length>t:(t=t.toLowerCase(),n.filter(s=>s.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await h(this,yy).call(this,"eth_requestAccounts",[])}catch(n){let s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new Nh(t.provider);let n=t.window?t.window:typeof window<"u"?window:null;if(n==null)return null;let s=t.anyProvider;if(s&&n.ethereum)return new Nh(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;let i=t.timeout?t.timeout:300;return i===0?null:await new Promise((o,a)=>{let c=[],f=A=>{c.push(A.detail),s&&g()},g=()=>{if(clearTimeout(p),c.length)if(t&&t.filter){let A=t.filter(c.map(P=>Object.assign({},P.info)));if(A==null)o(null);else if(A instanceof Nh)o(A);else{let P=null;if(A.uuid&&(P=c.filter(N=>A.uuid===N.info.uuid)[0]),P){let{provider:C,info:N}=P;o(new Nh(C,void 0,{providerInfo:N}))}else a((0,HC.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:A}))}}else{let{provider:A,info:P}=c[0];o(new Nh(A,void 0,{providerInfo:P}))}else o(null);n.removeEventListener("eip6963:announceProvider",f)},p=setTimeout(()=>{g()},i);n.addEventListener("eip6963:announceProvider",f),n.dispatchEvent(new Event("eip6963:requestProvider"))})}},GC=Nh;yy=new WeakMap,by=new WeakMap;HS.BrowserProvider=GC});var $K=M(KS=>{y();b();Object.defineProperty(KS,"__esModule",{value:!0});KS.BlockscoutProvider=void 0;var GS=ue(),qle=Cs(),Hle=Ii();function Gle(r){switch(r){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}(0,GS.assertArgument)(!1,"unsupported network","network",r)}var xy=class extends Hle.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=qle.Network.from(t);n==null&&(n=null);let i=xy.getRequest(s);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,GS.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new xy(t,this.apiKey)}catch{}return super._getProvider(t)}isCommunityResource(){return this.apiKey===null}getRpcRequest(t){let n=super.getRpcRequest(t);return n&&n.method==="eth_estimateGas"&&n.args.length==1&&(n.args=n.args.slice(),n.args.push("latest")),n}getRpcError(t,n){let s=n?n.error:null;if(s&&s.code===-32015&&!(0,GS.isHexString)(s.data||"",!0)){let i={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";s.message==="VM execution error."?o=i[s.data]||"":i[s.message||""]&&(o=i[s.message||""]),o&&(s.message+=` (reverted: ${s.data})`,s.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else s&&s.code===-32e3&&s.message==="wrong transaction nonce"&&(s.message+=" (nonce too low)");return super.getRpcError(t,n)}static getRequest(t){let n=new GS.FetchRequest(Gle(t.name));return n.allowGzip=!0,n}};KS.BlockscoutProvider=xy});var ZK=M(zS=>{y();b();Object.defineProperty(zS,"__esModule",{value:!0});zS.PocketProvider=void 0;var KC=ue(),Kle=af(),Vle=Cs(),zle=Ii(),VS="62e1ad51b37b8e00394bda3b";function Jle(r){switch(r){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,KC.assertArgument)(!1,"unsupported network","network",r)}var wy=class extends zle.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=Vle.Network.from(t);n==null&&(n=VS),s==null&&(s=null);let o={staticNetwork:i},a=wy.getRequest(i,n,s);super(a,i,o);O(this,"applicationId");O(this,"applicationSecret");(0,KC.defineProperties)(this,{applicationId:n,applicationSecret:s})}_getProvider(t){try{return new wy(t,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(t)}static getRequest(t,n,s){n==null&&(n=VS);let i=new KC.FetchRequest(`https://${Jle(t.name)}/v1/lb/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===VS&&(i.retryFunc=async(o,a,c)=>((0,Kle.showThrottleMessage)("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===VS}};zS.PocketProvider=wy});var QK=M(JS=>{y();b();Object.defineProperty(JS,"__esModule",{value:!0});JS.IpcSocketProvider=void 0;var Wle=void 0;JS.IpcSocketProvider=Wle});var $S=M(re=>{y();b();Object.defineProperty(re,"__esModule",{value:!0});re.SocketEventSubscriber=re.SocketPendingSubscriber=re.SocketBlockSubscriber=re.SocketSubscriber=re.WebSocketProvider=re.SocketProvider=re.IpcSocketProvider=re.QuickNodeProvider=re.PocketProvider=re.InfuraWebSocketProvider=re.InfuraProvider=re.EtherscanPlugin=re.EtherscanProvider=re.ChainstackProvider=re.CloudflareProvider=re.AnkrProvider=re.BlockscoutProvider=re.AlchemyProvider=re.BrowserProvider=re.JsonRpcSigner=re.JsonRpcProvider=re.JsonRpcApiProvider=re.FallbackProvider=re.copyRequest=re.TransactionResponse=re.TransactionReceipt=re.Log=re.FeeData=re.Block=re.FetchUrlFeeDataNetworkPlugin=re.FeeDataNetworkPlugin=re.EnsPlugin=re.GasCostPlugin=re.NetworkPlugin=re.NonceManager=re.Network=re.MulticoinProviderPlugin=re.EnsResolver=re.getDefaultProvider=re.showThrottleMessage=re.VoidSigner=re.AbstractSigner=re.UnmanagedSubscriber=re.AbstractProvider=void 0;var XK=Qm();Object.defineProperty(re,"AbstractProvider",{enumerable:!0,get:function(){return XK.AbstractProvider}});Object.defineProperty(re,"UnmanagedSubscriber",{enumerable:!0,get:function(){return XK.UnmanagedSubscriber}});var YK=dS();Object.defineProperty(re,"AbstractSigner",{enumerable:!0,get:function(){return YK.AbstractSigner}});Object.defineProperty(re,"VoidSigner",{enumerable:!0,get:function(){return YK.VoidSigner}});var $le=af();Object.defineProperty(re,"showThrottleMessage",{enumerable:!0,get:function(){return $le.showThrottleMessage}});var Zle=zK();Object.defineProperty(re,"getDefaultProvider",{enumerable:!0,get:function(){return Zle.getDefaultProvider}});var eV=q4();Object.defineProperty(re,"EnsResolver",{enumerable:!0,get:function(){return eV.EnsResolver}});Object.defineProperty(re,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return eV.MulticoinProviderPlugin}});var Qle=Cs();Object.defineProperty(re,"Network",{enumerable:!0,get:function(){return Qle.Network}});var Xle=JK();Object.defineProperty(re,"NonceManager",{enumerable:!0,get:function(){return Xle.NonceManager}});var tv=X3();Object.defineProperty(re,"NetworkPlugin",{enumerable:!0,get:function(){return tv.NetworkPlugin}});Object.defineProperty(re,"GasCostPlugin",{enumerable:!0,get:function(){return tv.GasCostPlugin}});Object.defineProperty(re,"EnsPlugin",{enumerable:!0,get:function(){return tv.EnsPlugin}});Object.defineProperty(re,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return tv.FeeDataNetworkPlugin}});Object.defineProperty(re,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return tv.FetchUrlFeeDataNetworkPlugin}});var _y=Nm();Object.defineProperty(re,"Block",{enumerable:!0,get:function(){return _y.Block}});Object.defineProperty(re,"FeeData",{enumerable:!0,get:function(){return _y.FeeData}});Object.defineProperty(re,"Log",{enumerable:!0,get:function(){return _y.Log}});Object.defineProperty(re,"TransactionReceipt",{enumerable:!0,get:function(){return _y.TransactionReceipt}});Object.defineProperty(re,"TransactionResponse",{enumerable:!0,get:function(){return _y.TransactionResponse}});Object.defineProperty(re,"copyRequest",{enumerable:!0,get:function(){return _y.copyRequest}});var Yle=LC();Object.defineProperty(re,"FallbackProvider",{enumerable:!0,get:function(){return Yle.FallbackProvider}});var VC=Ii();Object.defineProperty(re,"JsonRpcApiProvider",{enumerable:!0,get:function(){return VC.JsonRpcApiProvider}});Object.defineProperty(re,"JsonRpcProvider",{enumerable:!0,get:function(){return VC.JsonRpcProvider}});Object.defineProperty(re,"JsonRpcSigner",{enumerable:!0,get:function(){return VC.JsonRpcSigner}});var ede=WK();Object.defineProperty(re,"BrowserProvider",{enumerable:!0,get:function(){return ede.BrowserProvider}});var tde=xC();Object.defineProperty(re,"AlchemyProvider",{enumerable:!0,get:function(){return tde.AlchemyProvider}});var rde=$K();Object.defineProperty(re,"BlockscoutProvider",{enumerable:!0,get:function(){return rde.BlockscoutProvider}});var nde=bC();Object.defineProperty(re,"AnkrProvider",{enumerable:!0,get:function(){return nde.AnkrProvider}});var sde=vC();Object.defineProperty(re,"CloudflareProvider",{enumerable:!0,get:function(){return sde.CloudflareProvider}});var ide=wC();Object.defineProperty(re,"ChainstackProvider",{enumerable:!0,get:function(){return ide.ChainstackProvider}});var tV=AC();Object.defineProperty(re,"EtherscanProvider",{enumerable:!0,get:function(){return tV.EtherscanProvider}});Object.defineProperty(re,"EtherscanPlugin",{enumerable:!0,get:function(){return tV.EtherscanPlugin}});var rV=kC();Object.defineProperty(re,"InfuraProvider",{enumerable:!0,get:function(){return rV.InfuraProvider}});Object.defineProperty(re,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return rV.InfuraWebSocketProvider}});var ode=ZK();Object.defineProperty(re,"PocketProvider",{enumerable:!0,get:function(){return ode.PocketProvider}});var ade=TC();Object.defineProperty(re,"QuickNodeProvider",{enumerable:!0,get:function(){return ade.QuickNodeProvider}});var cde=QK();Object.defineProperty(re,"IpcSocketProvider",{enumerable:!0,get:function(){return cde.IpcSocketProvider}});var ude=TS();Object.defineProperty(re,"SocketProvider",{enumerable:!0,get:function(){return ude.SocketProvider}});var fde=CS();Object.defineProperty(re,"WebSocketProvider",{enumerable:!0,get:function(){return fde.WebSocketProvider}});var WS=TS();Object.defineProperty(re,"SocketSubscriber",{enumerable:!0,get:function(){return WS.SocketSubscriber}});Object.defineProperty(re,"SocketBlockSubscriber",{enumerable:!0,get:function(){return WS.SocketBlockSubscriber}});Object.defineProperty(re,"SocketPendingSubscriber",{enumerable:!0,get:function(){return WS.SocketPendingSubscriber}});Object.defineProperty(re,"SocketEventSubscriber",{enumerable:!0,get:function(){return WS.SocketEventSubscriber}})});var XS=M(QS=>{y();b();Object.defineProperty(QS,"__esModule",{value:!0});QS.BaseWallet=void 0;var rv=Qr(),ZS=Dc(),nV=$S(),sV=Os(),ff=ue(),vy,JC=class extends nV.AbstractSigner{constructor(t,n){super(n);O(this,"address");T(this,vy,void 0);(0,ff.assertArgument)(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),w(this,vy,t);let s=(0,sV.computeAddress)(this.signingKey.publicKey);(0,ff.defineProperties)(this,{address:s})}get signingKey(){return h(this,vy)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new JC(h(this,vy),t)}async signTransaction(t){t=(0,nV.copyRequest)(t);let{to:n,from:s}=await(0,ff.resolveProperties)({to:t.to?(0,rv.resolveAddress)(t.to,this):void 0,from:t.from?(0,rv.resolveAddress)(t.from,this):void 0});n!=null&&(t.to=n),s!=null&&(t.from=s),t.from!=null&&((0,ff.assertArgument)((0,rv.getAddress)(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);let i=sV.Transaction.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign((0,ZS.hashMessage)(t)).serialized}authorizeSync(t){(0,ff.assertArgument)(typeof t.address=="string","invalid address for authorizeSync","auth.address",t);let n=this.signingKey.sign((0,ZS.hashAuthorization)(t));return Object.assign({},{address:(0,rv.getAddress)(t.address),nonce:(0,ff.getBigInt)(t.nonce||0),chainId:(0,ff.getBigInt)(t.chainId||0)},{signature:n})}async authorize(t){return t=Object.assign({},t,{address:await(0,rv.resolveAddress)(t.address,this)}),this.authorizeSync(await this.populateAuthorization(t))}async signTypedData(t,n,s){let i=await ZS.TypedDataEncoder.resolveNames(t,n,s,async o=>{(0,ff.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let a=await this.provider.resolveName(o);return(0,ff.assert)(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(ZS.TypedDataEncoder.hash(i.domain,n,i.value)).serialized}},zC=JC;vy=new WeakMap;QS.BaseWallet=zC});var WC=M(Py=>{y();b();Object.defineProperty(Py,"__esModule",{value:!0});Py.decodeOwl=Py.decode=void 0;var lde=ue(),YS=" !#$%&'()*+,-./<=>?@[]^_`{|}~",dde=/^[a-z]*$/i;function iV(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(dde)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function oV(r,e){for(let s=YS.length-1;s>=0;s--)r=r.split(YS[s]).join(e.substring(2*s,2*s+2));let t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return iV(iV(t,";"),":")}Py.decode=oV;function hde(r){return(0,lde.assertArgument)(r[0]==="0","unsupported auwl data","data",r),oV(r.substring(1+2*YS.length),r.substring(1,1+2*YS.length))}Py.decodeOwl=hde});var ZC=M(e6=>{y();b();Object.defineProperty(e6,"__esModule",{value:!0});e6.Wordlist=void 0;var gde=ue(),$C=class{constructor(e){O(this,"locale");(0,gde.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};e6.Wordlist=$C});var r6=M(t6=>{y();b();Object.defineProperty(t6,"__esModule",{value:!0});t6.WordlistOwl=void 0;var pde=Dc(),mde=ue(),yde=WC(),bde=ZC(),Ay,nv,Ch,sv,XC,QC=class extends bde.Wordlist{constructor(t,n,s){super(t);T(this,sv);T(this,Ay,void 0);T(this,nv,void 0);T(this,Ch,void 0);w(this,Ay,n),w(this,nv,s),w(this,Ch,null)}get _data(){return h(this,Ay)}_decodeWords(){return(0,yde.decodeOwl)(h(this,Ay))}getWord(t){let n=U(this,sv,XC).call(this);return(0,mde.assertArgument)(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return U(this,sv,XC).call(this).indexOf(t)}};Ay=new WeakMap,nv=new WeakMap,Ch=new WeakMap,sv=new WeakSet,XC=function(){if(h(this,Ch)==null){let t=this._decodeWords();if((0,pde.id)(t.join(`
`)+`
`)!==h(this,nv))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);w(this,Ch,t)}return h(this,Ch)};t6.WordlistOwl=QC});var ov=M(n6=>{y();b();Object.defineProperty(n6,"__esModule",{value:!0});n6.LangEn=void 0;var xde=r6(),wde="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",_de="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",YC=null,iv=class extends xde.WordlistOwl{constructor(){super("en",wde,_de)}static wordlist(){return YC==null&&(YC=new iv),YC}};n6.LangEn=iv});var i6=M(s6=>{y();b();Object.defineProperty(s6,"__esModule",{value:!0});s6.Mnemonic=void 0;var nR=on(),Ms=ue(),sR=ov();function aV(r){return(1<<r)-1<<8-r&255}function vde(r){return(1<<r)-1&255}function eR(r,e){(0,Ms.assertNormalize)("NFKD"),e==null&&(e=sR.LangEn.wordlist());let t=e.split(r);(0,Ms.assertArgument)(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*t.length/8)),s=0;for(let f=0;f<t.length;f++){let g=e.getWordIndex(t[f].normalize("NFKD"));(0,Ms.assertArgument)(g>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let p=0;p<11;p++)g&1<<10-p&&(n[s>>3]|=1<<7-s%8),s++}let i=32*t.length/3,o=t.length/3,a=aV(o),c=(0,Ms.getBytes)((0,nR.sha256)(n.slice(0,i/8)))[0]&a;return(0,Ms.assertArgument)(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,Ms.hexlify)(n.slice(0,i/8))}function tR(r,e){(0,Ms.assertArgument)(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=sR.LangEn.wordlist());let t=[0],n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&vde(8-n)),n+=3);let s=r.length/4,i=parseInt((0,nR.sha256)(r).substring(2,4),16)&aV(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}var rR={},Ey=class{constructor(e,t,n,s,i){O(this,"phrase");O(this,"password");O(this,"wordlist");O(this,"entropy");s==null&&(s=""),i==null&&(i=sR.LangEn.wordlist()),(0,Ms.assertPrivate)(e,rR,"Mnemonic"),(0,Ms.defineProperties)(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){let e=(0,Ms.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,nR.pbkdf2)((0,Ms.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){let s=eR(e,n);return e=tR((0,Ms.getBytes)(s),n),new Ey(rR,s,e,t,n)}static fromEntropy(e,t,n){let s=(0,Ms.getBytes)(e,"entropy"),i=tR(s,n);return new Ey(rR,(0,Ms.hexlify)(s),i,t,n)}static entropyToPhrase(e,t){let n=(0,Ms.getBytes)(e,"entropy");return tR(n,t)}static phraseToEntropy(e,t){return eR(e,t)}static isValidMnemonic(e,t){try{return eR(e,t),!0}catch{}return!1}};s6.Mnemonic=Ey});var aR=M(Wl=>{y();b();var Kn=Wl&&Wl.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},iR=Wl&&Wl.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},a6,vo,Xc;Object.defineProperty(Wl,"__esModule",{value:!0});Wl.AES=void 0;var Pde={16:10,24:12,32:14},Ade=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_o=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],o6=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Ede=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],Sde=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],kde=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Ode=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],Tde=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],Nde=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Cde=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Rde=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],Bde=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Ide=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Mde=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],jde=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function oR(r){let e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}var av=class{get key(){return Kn(this,a6,"f").slice()}constructor(e){if(a6.set(this,void 0),vo.set(this,void 0),Xc.set(this,void 0),!(this instanceof av))throw Error("AES must be instanitated with `new`");iR(this,a6,new Uint8Array(e),"f");let t=Pde[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");iR(this,Xc,[],"f"),iR(this,vo,[],"f");for(let g=0;g<=t;g++)Kn(this,Xc,"f").push([0,0,0,0]),Kn(this,vo,"f").push([0,0,0,0]);let n=(t+1)*4,s=this.key.length/4,i=oR(this.key),o;for(let g=0;g<s;g++)o=g>>2,Kn(this,Xc,"f")[o][g%4]=i[g],Kn(this,vo,"f")[t-o][g%4]=i[g];let a=0,c=s,f;for(;c<n;){if(f=i[s-1],i[0]^=_o[f>>16&255]<<24^_o[f>>8&255]<<16^_o[f&255]<<8^_o[f>>24&255]^Ade[a]<<24,a+=1,s!=8)for(let P=1;P<s;P++)i[P]^=i[P-1];else{for(let P=1;P<s/2;P++)i[P]^=i[P-1];f=i[s/2-1],i[s/2]^=_o[f&255]^_o[f>>8&255]<<8^_o[f>>16&255]<<16^_o[f>>24&255]<<24;for(let P=s/2+1;P<s;P++)i[P]^=i[P-1]}let g=0,p,A;for(;g<s&&c<n;)p=c>>2,A=c%4,Kn(this,Xc,"f")[p][A]=i[g],Kn(this,vo,"f")[t-p][A]=i[g++],c++}for(let g=1;g<t;g++)for(let p=0;p<4;p++)f=Kn(this,vo,"f")[g][p],Kn(this,vo,"f")[g][p]=Bde[f>>24&255]^Ide[f>>16&255]^Mde[f>>8&255]^jde[f&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let t=Kn(this,Xc,"f").length-1,n=[0,0,0,0],s=oR(e);for(let a=0;a<4;a++)s[a]^=Kn(this,Xc,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=Ede[s[c]>>24&255]^Sde[s[(c+1)%4]>>16&255]^kde[s[(c+2)%4]>>8&255]^Ode[s[(c+3)%4]&255]^Kn(this,Xc,"f")[a][c];s=n.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=Kn(this,Xc,"f")[t][a],i[4*a]=(_o[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(_o[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(_o[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(_o[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let t=Kn(this,vo,"f").length-1,n=[0,0,0,0],s=oR(e);for(let a=0;a<4;a++)s[a]^=Kn(this,vo,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=Tde[s[c]>>24&255]^Nde[s[(c+3)%4]>>16&255]^Cde[s[(c+2)%4]>>8&255]^Rde[s[(c+1)%4]&255]^Kn(this,vo,"f")[a][c];s=n.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=Kn(this,vo,"f")[t][a],i[4*a]=(o6[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(o6[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(o6[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(o6[s[(a+1)%4]&255]^o)&255;return i}};Wl.AES=av;a6=new WeakMap,vo=new WeakMap,Xc=new WeakMap});var Rh=M(c6=>{y();b();Object.defineProperty(c6,"__esModule",{value:!0});c6.ModeOfOperation=void 0;var Fde=aR(),cR=class{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Fde.AES(t)},name:{enumerable:!0,value:e}})}};c6.ModeOfOperation=cR});var cV=M($l=>{y();b();var u6=$l&&$l.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Sy=$l&&$l.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},cv,lf;Object.defineProperty($l,"__esModule",{value:!0});$l.CBC=void 0;var Lde=Rh(),uv=class extends Lde.ModeOfOperation{constructor(e,t){if(super("ECC",e,uv),cv.set(this,void 0),lf.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");u6(this,cv,new Uint8Array(t),"f")}else u6(this,cv,new Uint8Array(16),"f");u6(this,lf,this.iv,"f")}get iv(){return new Uint8Array(Sy(this,cv,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)Sy(this,lf,"f")[s]^=e[n+s];u6(this,lf,this.aes.encrypt(Sy(this,lf,"f")),"f"),t.set(Sy(this,lf,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){let s=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=s[i]^Sy(this,lf,"f")[i],Sy(this,lf,"f")[i]=e[n+i]}return t}};$l.CBC=uv;cv=new WeakMap,lf=new WeakMap});var uV=M(Xl=>{y();b();var uR=Xl&&Xl.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Zl=Xl&&Xl.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},f6,fv,Ql,fR;Object.defineProperty(Xl,"__esModule",{value:!0});Xl.CFB=void 0;var Ude=Rh(),lv=class extends Ude.ModeOfOperation{constructor(e,t,n=8){if(super("CFB",e,lv),f6.add(this),fv.set(this,void 0),Ql.set(this,void 0),!Number.isInteger(n)||n%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:n}}),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");uR(this,fv,new Uint8Array(t),"f")}else uR(this,fv,new Uint8Array(16),"f");uR(this,Ql,this.iv,"f")}get iv(){return new Uint8Array(Zl(this,fv,"f"))}encrypt(e){if(8*e.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");let t=this.segmentSize/8,n=new Uint8Array(e);for(let s=0;s<n.length;s+=t){let i=this.aes.encrypt(Zl(this,Ql,"f"));for(let o=0;o<t;o++)n[s+o]^=i[o];Zl(this,f6,"m",fR).call(this,n.subarray(s))}return n}decrypt(e){if(8*e.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");let t=this.segmentSize/8,n=new Uint8Array(e);for(let s=0;s<n.length;s+=t){let i=this.aes.encrypt(Zl(this,Ql,"f"));for(let o=0;o<t;o++)n[s+o]^=i[o];Zl(this,f6,"m",fR).call(this,e.subarray(s))}return n}};Xl.CFB=lv;fv=new WeakMap,Ql=new WeakMap,f6=new WeakSet,fR=function(e){let t=this.segmentSize/8;Zl(this,Ql,"f").set(Zl(this,Ql,"f").subarray(t)),Zl(this,Ql,"f").set(e.subarray(0,t),16-t)}});var fV=M(Yl=>{y();b();var ky=Yl&&Yl.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Po=Yl&&Yl.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},dv,Bh,Ao;Object.defineProperty(Yl,"__esModule",{value:!0});Yl.CTR=void 0;var Dde=Rh(),hv=class extends Dde.ModeOfOperation{constructor(e,t){super("CTR",e,hv),dv.set(this,void 0),Bh.set(this,void 0),Ao.set(this,void 0),ky(this,Ao,new Uint8Array(16),"f"),Po(this,Ao,"f").fill(0),ky(this,dv,Po(this,Ao,"f"),"f"),ky(this,Bh,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Po(this,Ao,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Po(this,Ao,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Po(this,Ao,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Po(this,Ao,"f")[e]===255)Po(this,Ao,"f")[e]=0;else{Po(this,Ao,"f")[e]++;break}}encrypt(e){var t,n;let s=new Uint8Array(e);for(let i=0;i<s.length;i++)Po(this,Bh,"f")===16&&(ky(this,dv,this.aes.encrypt(Po(this,Ao,"f")),"f"),ky(this,Bh,0,"f"),this.increment()),s[i]^=Po(this,dv,"f")[ky(this,Bh,(n=Po(this,Bh,"f"),t=n++,n),"f"),t];return s}decrypt(e){return this.encrypt(e)}};Yl.CTR=hv;dv=new WeakMap,Bh=new WeakMap,Ao=new WeakMap});var lV=M(l6=>{y();b();Object.defineProperty(l6,"__esModule",{value:!0});l6.ECB=void 0;var qde=Rh(),gv=class extends qde.ModeOfOperation{constructor(e){super("ECB",e,gv)}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16)t.set(this.aes.encrypt(e.subarray(n,n+16)),n);return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16)t.set(this.aes.decrypt(e.subarray(n,n+16)),n);return t}};l6.ECB=gv});var dV=M(ed=>{y();b();var Ih=ed&&ed.__classPrivateFieldSet||function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},pv=ed&&ed.__classPrivateFieldGet||function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},mv,Oy,Mh;Object.defineProperty(ed,"__esModule",{value:!0});ed.OFB=void 0;var Hde=Rh(),yv=class extends Hde.ModeOfOperation{constructor(e,t){if(super("OFB",e,yv),mv.set(this,void 0),Oy.set(this,void 0),Mh.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Ih(this,mv,new Uint8Array(t),"f")}else Ih(this,mv,new Uint8Array(16),"f");Ih(this,Oy,this.iv,"f"),Ih(this,Mh,16,"f")}get iv(){return new Uint8Array(pv(this,mv,"f"))}encrypt(e){var t,n;if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let s=new Uint8Array(e);for(let i=0;i<s.length;i++)pv(this,Mh,"f")===16&&(Ih(this,Oy,this.aes.encrypt(pv(this,Oy,"f")),"f"),Ih(this,Mh,0,"f")),s[i]^=pv(this,Oy,"f")[Ih(this,Mh,(n=pv(this,Mh,"f"),t=n++,n),"f"),t];return s}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(e)}};ed.OFB=yv;mv=new WeakMap,Oy=new WeakMap,Mh=new WeakMap});var hV=M(Ty=>{y();b();Object.defineProperty(Ty,"__esModule",{value:!0});Ty.pkcs7Strip=Ty.pkcs7Pad=void 0;function Gde(r){let e=16-r.length%16,t=new Uint8Array(r.length+e);t.set(r);for(let n=r.length;n<t.length;n++)t[n]=e;return t}Ty.pkcs7Pad=Gde;function Kde(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");let e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}Ty.pkcs7Strip=Kde});var bv=M(fn=>{y();b();Object.defineProperty(fn,"__esModule",{value:!0});fn.pkcs7Strip=fn.pkcs7Pad=fn.OFB=fn.ECB=fn.CTR=fn.CFB=fn.CBC=fn.ModeOfOperation=fn.AES=void 0;var Vde=aR();Object.defineProperty(fn,"AES",{enumerable:!0,get:function(){return Vde.AES}});var zde=Rh();Object.defineProperty(fn,"ModeOfOperation",{enumerable:!0,get:function(){return zde.ModeOfOperation}});var Jde=cV();Object.defineProperty(fn,"CBC",{enumerable:!0,get:function(){return Jde.CBC}});var Wde=uV();Object.defineProperty(fn,"CFB",{enumerable:!0,get:function(){return Wde.CFB}});var $de=fV();Object.defineProperty(fn,"CTR",{enumerable:!0,get:function(){return $de.CTR}});var Zde=lV();Object.defineProperty(fn,"ECB",{enumerable:!0,get:function(){return Zde.ECB}});var Qde=dV();Object.defineProperty(fn,"OFB",{enumerable:!0,get:function(){return Qde.OFB}});var gV=hV();Object.defineProperty(fn,"pkcs7Pad",{enumerable:!0,get:function(){return gV.pkcs7Pad}});Object.defineProperty(fn,"pkcs7Strip",{enumerable:!0,get:function(){return gV.pkcs7Strip}})});var lR=M(Yc=>{y();b();Object.defineProperty(Yc,"__esModule",{value:!0});Yc.spelunk=Yc.getPassword=Yc.zpad=Yc.looseArrayify=void 0;var Ny=ue();function pV(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),(0,Ny.getBytesCopy)(r)}Yc.looseArrayify=pV;function Xde(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}Yc.zpad=Xde;function Yde(r){return typeof r=="string"?(0,Ny.toUtf8Bytes)(r,"NFKC"):(0,Ny.getBytesCopy)(r)}Yc.getPassword=Yde;function e0e(r,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,Ny.assertArgument)(t!=null,"invalid path","path",e);let n=t[1],s=t[3],i=t[4]==="!",o=r;for(let a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(let f in o)if(f.toLowerCase()===a){c=o[f];break}o=c}else o=null;if(o==null)break}if((0,Ny.assertArgument)(!i||o!=null,"missing required value","path",n),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return pV(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;(0,Ny.assertArgument)(!1,`wrong type found for ${s} `,"path",n)}return o}Yc.spelunk=e0e});var g6=M(Eo=>{y();b();Object.defineProperty(Eo,"__esModule",{value:!0});Eo.encryptKeystoreJson=Eo.encryptKeystoreJsonSync=Eo.decryptKeystoreJson=Eo.decryptKeystoreJsonSync=Eo.isKeystoreJson=void 0;var d6=bv(),t0e=Qr(),So=on(),r0e=Os(),Ot=ue(),ir=lR(),n0e=jA(),yV="m/44'/60'/0'/0/0";function s0e(r){try{let e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}Eo.isKeystoreJson=s0e;function i0e(r,e,t){if((0,ir.spelunk)(r,"crypto.cipher:string")==="aes-128-ctr"){let s=(0,ir.spelunk)(r,"crypto.cipherparams.iv:data!"),i=new d6.CTR(e,s);return(0,Ot.hexlify)(i.decrypt(t))}(0,Ot.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function h6(r,e){let t=(0,Ot.getBytes)(e),n=(0,ir.spelunk)(r,"crypto.ciphertext:data!"),s=(0,Ot.hexlify)((0,So.keccak256)((0,Ot.concat)([t.slice(16,32),n]))).substring(2);(0,Ot.assertArgument)(s===(0,ir.spelunk)(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=i0e(r,t.slice(0,16),n),o=(0,r0e.computeAddress)(i);if(r.address){let f=r.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),(0,Ot.assertArgument)((0,t0e.getAddress)(f)===o,"keystore address/privateKey mismatch","address",r.address)}let a={address:o,privateKey:i};if((0,ir.spelunk)(r,"x-ethers.version:string")==="0.1"){let f=t.slice(32,64),g=(0,ir.spelunk)(r,"x-ethers.mnemonicCiphertext:data!"),p=(0,ir.spelunk)(r,"x-ethers.mnemonicCounter:data!"),A=new d6.CTR(f,p);a.mnemonic={path:(0,ir.spelunk)(r,"x-ethers.path:string")||yV,locale:(0,ir.spelunk)(r,"x-ethers.locale:string")||"en",entropy:(0,Ot.hexlify)((0,Ot.getBytes)(A.decrypt(g)))}}return a}function bV(r){let e=(0,ir.spelunk)(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=(0,ir.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,ir.spelunk)(r,"crypto.kdfparams.n:int!"),s=(0,ir.spelunk)(r,"crypto.kdfparams.r:int!"),i=(0,ir.spelunk)(r,"crypto.kdfparams.p:int!");(0,Ot.assertArgument)(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),(0,Ot.assertArgument)(s>0&&i>0,"invalid kdf","kdf",e);let o=(0,ir.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Ot.assertArgument)(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=(0,ir.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,ir.spelunk)(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();(0,Ot.assertArgument)(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);let i=(0,ir.spelunk)(r,"crypto.kdfparams.c:int!"),o=(0,ir.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Ot.assertArgument)(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}(0,Ot.assertArgument)(!1,"unsupported key-derivation function","kdf",e)}function o0e(r,e){let t=JSON.parse(r),n=(0,ir.getPassword)(e),s=bV(t);if(s.name==="pbkdf2"){let{salt:p,count:A,dkLen:P,algorithm:C}=s,N=(0,So.pbkdf2)(n,p,A,P,C);return h6(t,N)}(0,Ot.assert)(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:i,N:o,r:a,p:c,dkLen:f}=s,g=(0,So.scryptSync)(n,i,o,a,c,f);return h6(t,g)}Eo.decryptKeystoreJsonSync=o0e;function mV(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function a0e(r,e,t){let n=JSON.parse(r),s=(0,ir.getPassword)(e),i=bV(n);if(i.name==="pbkdf2"){t&&(t(0),await mV(0));let{salt:A,count:P,dkLen:C,algorithm:N}=i,L=(0,So.pbkdf2)(s,A,P,C,N);return t&&(t(1),await mV(0)),h6(n,L)}(0,Ot.assert)(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:a,r:c,p:f,dkLen:g}=i,p=await(0,So.scrypt)(s,o,a,c,f,g,t);return h6(n,p)}Eo.decryptKeystoreJson=a0e;function xV(r){let e=r.salt!=null?(0,Ot.getBytes)(r.salt,"options.salt"):(0,So.randomBytes)(32),t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),(0,Ot.assertArgument)(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),(0,Ot.assertArgument)(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),(0,Ot.assertArgument)(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function wV(r,e,t,n){let s=(0,Ot.getBytes)(t.privateKey,"privateKey"),i=n.iv!=null?(0,Ot.getBytes)(n.iv,"options.iv"):(0,So.randomBytes)(16);(0,Ot.assertArgument)(i.length===16,"invalid options.iv length","options.iv",n.iv);let o=n.uuid!=null?(0,Ot.getBytes)(n.uuid,"options.uuid"):(0,So.randomBytes)(16);(0,Ot.assertArgument)(o.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=r.slice(0,16),c=r.slice(16,32),f=new d6.CTR(a,i),g=(0,Ot.getBytes)(f.encrypt(s)),p=(0,So.keccak256)((0,Ot.concat)([c,g])),A={address:t.address.substring(2).toLowerCase(),id:(0,Ot.uuidV4)(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Ot.hexlify)(i).substring(2)},ciphertext:(0,Ot.hexlify)(g).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Ot.hexlify)(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:p.substring(2)}};if(t.mnemonic){let P=n.client!=null?n.client:`ethers/${n0e.version}`,C=t.mnemonic.path||yV,N=t.mnemonic.locale||"en",L=r.slice(32,64),F=(0,Ot.getBytes)(t.mnemonic.entropy,"account.mnemonic.entropy"),D=(0,So.randomBytes)(16),q=new d6.CTR(L,D),K=(0,Ot.getBytes)(q.encrypt(F)),H=new Date,V="UTC--"+(H.getUTCFullYear()+"-"+(0,ir.zpad)(H.getUTCMonth()+1,2)+"-"+(0,ir.zpad)(H.getUTCDate(),2)+"T"+(0,ir.zpad)(H.getUTCHours(),2)+"-"+(0,ir.zpad)(H.getUTCMinutes(),2)+"-"+(0,ir.zpad)(H.getUTCSeconds(),2)+".0Z")+"--"+A.address;A["x-ethers"]={client:P,gethFilename:V,path:C,locale:N,mnemonicCounter:(0,Ot.hexlify)(D).substring(2),mnemonicCiphertext:(0,Ot.hexlify)(K).substring(2),version:"0.1"}}return JSON.stringify(A)}function c0e(r,e,t){t==null&&(t={});let n=(0,ir.getPassword)(e),s=xV(t),i=(0,So.scryptSync)(n,s.salt,s.N,s.r,s.p,64);return wV((0,Ot.getBytes)(i),s,r,t)}Eo.encryptKeystoreJsonSync=c0e;async function u0e(r,e,t){t==null&&(t={});let n=(0,ir.getPassword)(e),s=xV(t),i=await(0,So.scrypt)(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return wV((0,Ot.getBytes)(i),s,r,t)}Eo.encryptKeystoreJson=u0e});var gR=M(js=>{y();b();Object.defineProperty(js,"__esModule",{value:!0});js.getIndexedAccountPath=js.getAccountPath=js.HDNodeVoidWallet=js.HDNodeWallet=js.defaultPath=void 0;var Mi=on(),f0e=$S(),AV=Os(),ve=ue(),_V=ov(),l0e=XS(),vV=i6(),PV=g6();js.defaultPath="m/44'/60'/0'/0/0";var d0e=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),ru=2147483648,h0e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),g0e="0123456789abcdef";function m6(r,e){let t="";for(;r;)t=g0e[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function dR(r){let e=(0,ve.getBytes)(r),t=(0,ve.dataSlice)((0,Mi.sha256)((0,Mi.sha256)(e)),0,4),n=(0,ve.concat)([e,t]);return(0,ve.encodeBase58)(n)}var tu={};function EV(r,e,t,n){let s=new Uint8Array(37);r&ru?((0,ve.assert)(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set((0,ve.getBytes)(n),1)):s.set((0,ve.getBytes)(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=r>>24-o&255;let i=(0,ve.getBytes)((0,Mi.computeHmac)("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function SV(r,e){let t=e.split("/");(0,ve.assertArgument)(t.length>0,"invalid path","path",e),t[0]==="m"&&((0,ve.assertArgument)(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){let i=t[s];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));(0,ve.assertArgument)(o<ru,"invalid path index",`path[${s}]`,i),n=n.deriveChild(ru+o)}else if(i.match(/^[0-9]+$/)){let o=parseInt(i);(0,ve.assertArgument)(o<ru,"invalid path index",`path[${s}]`,i),n=n.deriveChild(o)}else(0,ve.assertArgument)(!1,"invalid path component",`path[${s}]`,i)}return n}var wv,hR,jh,xv,eu=class extends l0e.BaseWallet{constructor(t,n,s,i,o,a,c,f,g){super(n,g);T(this,wv);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"mnemonic");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,ve.assertPrivate)(t,tu,"HDNodeWallet"),(0,ve.defineProperties)(this,{publicKey:n.compressedPublicKey});let p=(0,ve.dataSlice)((0,Mi.ripemd160)((0,Mi.sha256)(this.publicKey)),0,4);(0,ve.defineProperties)(this,{parentFingerprint:s,fingerprint:p,chainCode:i,path:o,index:a,depth:c}),(0,ve.defineProperties)(this,{mnemonic:f})}connect(t){return new eu(tu,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await(0,PV.encryptKeystoreJson)(U(this,wv,hR).call(this),t,{progressCallback:n})}encryptSync(t){return(0,PV.encryptKeystoreJsonSync)(U(this,wv,hR).call(this),t)}get extendedKey(){return(0,ve.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),dR((0,ve.concat)(["0x0488ADE4",m6(this.depth,1),this.parentFingerprint,m6(this.index,4),this.chainCode,(0,ve.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new td(tu,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){let n=(0,ve.getNumber)(t,"index");(0,ve.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~ru),n&ru&&(s+="'"));let{IR:i,IL:o}=EV(n,this.chainCode,this.publicKey,this.privateKey),a=new Mi.SigningKey((0,ve.toBeHex)(((0,ve.toBigInt)(o)+BigInt(this.privateKey))%h0e,32));return new eu(tu,a,this.fingerprint,(0,ve.hexlify)(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return SV(this,t)}static fromExtendedKey(t){let n=(0,ve.toBeArray)((0,ve.decodeBase58)(t));(0,ve.assertArgument)(n.length===82||dR(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");let s=n[4],i=(0,ve.hexlify)(n.slice(5,9)),o=parseInt((0,ve.hexlify)(n.slice(9,13)).substring(2),16),a=(0,ve.hexlify)(n.slice(13,45)),c=n.slice(45,78);switch((0,ve.hexlify)(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let f=(0,ve.hexlify)(c);return new td(tu,(0,AV.computeAddress)(f),f,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new eu(tu,new Mi.SigningKey(c.slice(1)),i,a,null,o,s,null,null)}(0,ve.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,s){var o;t==null&&(t=""),n==null&&(n=js.defaultPath),s==null&&(s=_V.LangEn.wordlist());let i=vV.Mnemonic.fromEntropy((0,Mi.randomBytes)(16),t,s);return U(o=eu,jh,xv).call(o,i.computeSeed(),i).derivePath(n)}static fromMnemonic(t,n){var s;return n||(n=js.defaultPath),U(s=eu,jh,xv).call(s,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,s,i){var a;n==null&&(n=""),s==null&&(s=js.defaultPath),i==null&&(i=_V.LangEn.wordlist());let o=vV.Mnemonic.fromPhrase(t,n,i);return U(a=eu,jh,xv).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(t){var n;return U(n=eu,jh,xv).call(n,t,null)}},p6=eu;wv=new WeakSet,hR=function(){let t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},jh=new WeakSet,xv=function(t,n){(0,ve.assertArgument)((0,ve.isBytesLike)(t),"invalid seed","seed","[REDACTED]");let s=(0,ve.getBytes)(t,"seed");(0,ve.assertArgument)(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");let i=(0,ve.getBytes)((0,Mi.computeHmac)("sha512",d0e,s)),o=new Mi.SigningKey((0,ve.hexlify)(i.slice(0,32)));return new eu(tu,o,"0x00000000",(0,ve.hexlify)(i.slice(32)),"m",0,0,n,null)},T(p6,jh);js.HDNodeWallet=p6;var td=class extends f0e.VoidSigner{constructor(t,n,s,i,o,a,c,f,g){super(n,g);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,ve.assertPrivate)(t,tu,"HDNodeVoidWallet"),(0,ve.defineProperties)(this,{publicKey:s});let p=(0,ve.dataSlice)((0,Mi.ripemd160)((0,Mi.sha256)(s)),0,4);(0,ve.defineProperties)(this,{publicKey:s,fingerprint:p,parentFingerprint:i,chainCode:o,path:a,index:c,depth:f})}connect(t){return new td(tu,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return(0,ve.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),dR((0,ve.concat)(["0x0488B21E",m6(this.depth,1),this.parentFingerprint,m6(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){let n=(0,ve.getNumber)(t,"index");(0,ve.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~ru),n&ru&&(s+="'"));let{IR:i,IL:o}=EV(n,this.chainCode,this.publicKey,null),a=Mi.SigningKey.addPoints(o,this.publicKey,!0),c=(0,AV.computeAddress)(a);return new td(tu,c,a,this.fingerprint,(0,ve.hexlify)(i),s,n,this.depth+1,this.provider)}derivePath(t){return SV(this,t)}};js.HDNodeVoidWallet=td;function p0e(r){let e=(0,ve.getNumber)(r,"index");return(0,ve.assertArgument)(e>=0&&e<ru,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}js.getAccountPath=p0e;function m0e(r){let e=(0,ve.getNumber)(r,"index");return(0,ve.assertArgument)(e>=0&&e<ru,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}js.getIndexedAccountPath=m0e});var mR=M(Cy=>{y();b();Object.defineProperty(Cy,"__esModule",{value:!0});Cy.decryptCrowdsaleJson=Cy.isCrowdsaleJson=void 0;var kV=bv(),y0e=Qr(),b0e=on(),x0e=Dc(),pR=ue(),y6=lR();function w0e(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}Cy.isCrowdsaleJson=w0e;function _0e(r,e){let t=JSON.parse(r),n=(0,y6.getPassword)(e),s=(0,y0e.getAddress)((0,y6.spelunk)(t,"ethaddr:string!")),i=(0,y6.looseArrayify)((0,y6.spelunk)(t,"encseed:string!"));(0,pR.assertArgument)(i&&i.length%16===0,"invalid encseed","json",r);let o=(0,pR.getBytes)((0,b0e.pbkdf2)(n,n,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),f=new kV.CBC(o,a),g=(0,kV.pkcs7Strip)((0,pR.getBytes)(f.decrypt(c))),p="";for(let A=0;A<g.length;A++)p+=String.fromCharCode(g[A]);return{address:s,privateKey:(0,x0e.id)(p)}}Cy.decryptCrowdsaleJson=_0e});var TV=M(w6=>{y();b();Object.defineProperty(w6,"__esModule",{value:!0});w6.Wallet=void 0;var v0e=on(),yR=ue(),P0e=XS(),bR=gR(),b6=mR(),Ry=g6(),A0e=i6();function OV(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var _v,xR,By=class extends P0e.BaseWallet{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new v0e.SigningKey(e):e;super(n,t)}connect(e){return new By(this.signingKey,e)}async encrypt(e,t){let n={address:this.address,privateKey:this.privateKey};return await(0,Ry.encryptKeystoreJson)(n,e,{progressCallback:t})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return(0,Ry.encryptKeystoreJsonSync)(t,e)}static async fromEncryptedJson(e,t,n){var i;let s=null;return(0,Ry.isKeystoreJson)(e)?s=await(0,Ry.decryptKeystoreJson)(e,t,n):(0,b6.isCrowdsaleJson)(e)&&(n&&(n(0),await OV(0)),s=(0,b6.decryptCrowdsaleJson)(e,t),n&&(n(1),await OV(0))),U(i=By,_v,xR).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let n=null;return(0,Ry.isKeystoreJson)(e)?n=(0,Ry.decryptKeystoreJsonSync)(e,t):(0,b6.isCrowdsaleJson)(e)?n=(0,b6.decryptCrowdsaleJson)(e,t):(0,yR.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),U(s=By,_v,xR).call(s,n)}static createRandom(e){let t=bR.HDNodeWallet.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let n=bR.HDNodeWallet.fromPhrase(e);return t?n.connect(t):n}},x6=By;_v=new WeakSet,xR=function(e){if((0,yR.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=A0e.Mnemonic.fromEntropy(e.mnemonic.entropy),s=bR.HDNodeWallet.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new By(e.privateKey);return(0,yR.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},T(x6,_v);w6.Wallet=x6});var CV=M(Zt=>{y();b();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.Wallet=Zt.Mnemonic=Zt.encryptKeystoreJsonSync=Zt.encryptKeystoreJson=Zt.decryptKeystoreJson=Zt.decryptKeystoreJsonSync=Zt.isKeystoreJson=Zt.decryptCrowdsaleJson=Zt.isCrowdsaleJson=Zt.HDNodeVoidWallet=Zt.HDNodeWallet=Zt.getIndexedAccountPath=Zt.getAccountPath=Zt.defaultPath=Zt.BaseWallet=void 0;var E0e=XS();Object.defineProperty(Zt,"BaseWallet",{enumerable:!0,get:function(){return E0e.BaseWallet}});var vv=gR();Object.defineProperty(Zt,"defaultPath",{enumerable:!0,get:function(){return vv.defaultPath}});Object.defineProperty(Zt,"getAccountPath",{enumerable:!0,get:function(){return vv.getAccountPath}});Object.defineProperty(Zt,"getIndexedAccountPath",{enumerable:!0,get:function(){return vv.getIndexedAccountPath}});Object.defineProperty(Zt,"HDNodeWallet",{enumerable:!0,get:function(){return vv.HDNodeWallet}});Object.defineProperty(Zt,"HDNodeVoidWallet",{enumerable:!0,get:function(){return vv.HDNodeVoidWallet}});var NV=mR();Object.defineProperty(Zt,"isCrowdsaleJson",{enumerable:!0,get:function(){return NV.isCrowdsaleJson}});Object.defineProperty(Zt,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return NV.decryptCrowdsaleJson}});var Pv=g6();Object.defineProperty(Zt,"isKeystoreJson",{enumerable:!0,get:function(){return Pv.isKeystoreJson}});Object.defineProperty(Zt,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return Pv.decryptKeystoreJsonSync}});Object.defineProperty(Zt,"decryptKeystoreJson",{enumerable:!0,get:function(){return Pv.decryptKeystoreJson}});Object.defineProperty(Zt,"encryptKeystoreJson",{enumerable:!0,get:function(){return Pv.encryptKeystoreJson}});Object.defineProperty(Zt,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return Pv.encryptKeystoreJsonSync}});var S0e=i6();Object.defineProperty(Zt,"Mnemonic",{enumerable:!0,get:function(){return S0e.Mnemonic}});var k0e=TV();Object.defineProperty(Zt,"Wallet",{enumerable:!0,get:function(){return k0e.Wallet}})});var RV=M(_6=>{y();b();Object.defineProperty(_6,"__esModule",{value:!0});_6.decodeBits=void 0;var O0e=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function T0e(r,e){let t=(1<<r)-1,n=[],s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|O0e.indexOf(e[a]),i+=6;i>=r;){let c=s>>i-r;s&=(1<<i-r)-1,i-=r,c===0?o+=t:(n.push(c+o),o=0)}return n}_6.decodeBits=T0e});var BV=M(v6=>{y();b();Object.defineProperty(v6,"__esModule",{value:!0});v6.decodeOwlA=void 0;var N0e=ue(),C0e=RV(),R0e=WC();function B0e(r,e){let t=(0,R0e.decodeOwl)(r).join(",");return e.split(/,/g).forEach(n=>{let s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,N0e.assertArgument)(s!==null,"internal error parsing accents","accents",e);let i=0,o=(0,C0e.decodeBits)(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(f,g)=>(--o[i]===0&&(g=String.fromCharCode(g.charCodeAt(0),a),i++),g))}),t.split(",")}v6.decodeOwlA=B0e});var IV=M(P6=>{y();b();Object.defineProperty(P6,"__esModule",{value:!0});P6.WordlistOwlA=void 0;var I0e=r6(),M0e=BV(),Av,wR=class extends I0e.WordlistOwl{constructor(t,n,s,i){super(t,n,i);T(this,Av,void 0);w(this,Av,s)}get _accent(){return h(this,Av)}_decodeWords(){return(0,M0e.decodeOwlA)(this._data,this._accent)}};Av=new WeakMap;P6.WordlistOwlA=wR});var MV=M(A6=>{y();b();Object.defineProperty(A6,"__esModule",{value:!0});A6.wordlists=void 0;var j0e=ov();A6.wordlists={en:j0e.LangEn.wordlist()}});var jV=M(ko=>{y();b();Object.defineProperty(ko,"__esModule",{value:!0});ko.wordlists=ko.WordlistOwlA=ko.WordlistOwl=ko.LangEn=ko.Wordlist=void 0;var F0e=ZC();Object.defineProperty(ko,"Wordlist",{enumerable:!0,get:function(){return F0e.Wordlist}});var L0e=ov();Object.defineProperty(ko,"LangEn",{enumerable:!0,get:function(){return L0e.LangEn}});var U0e=r6();Object.defineProperty(ko,"WordlistOwl",{enumerable:!0,get:function(){return U0e.WordlistOwl}});var D0e=IV();Object.defineProperty(ko,"WordlistOwlA",{enumerable:!0,get:function(){return D0e.WordlistOwlA}});var q0e=MV();Object.defineProperty(ko,"wordlists",{enumerable:!0,get:function(){return q0e.wordlists}})});var _R=M(B=>{y();b();Object.defineProperty(B,"__esModule",{value:!0});B.ripemd160=B.keccak256=B.randomBytes=B.computeHmac=B.UndecodedEventLog=B.EventLog=B.ContractUnknownEventPayload=B.ContractTransactionResponse=B.ContractTransactionReceipt=B.ContractEventPayload=B.ContractFactory=B.Contract=B.BaseContract=B.MessagePrefix=B.EtherSymbol=B.ZeroHash=B.N=B.MaxInt256=B.MinInt256=B.MaxUint256=B.WeiPerEther=B.ZeroAddress=B.resolveAddress=B.isAddress=B.isAddressable=B.getCreate2Address=B.getCreateAddress=B.getIcapAddress=B.getAddress=B.Typed=B.TransactionDescription=B.Result=B.LogDescription=B.Interface=B.Indexed=B.ErrorDescription=B.checkResultErrors=B.StructFragment=B.ParamType=B.NamedFragment=B.FunctionFragment=B.FallbackFragment=B.Fragment=B.EventFragment=B.ErrorFragment=B.ConstructorFragment=B.AbiCoder=B.encodeBytes32String=B.decodeBytes32String=B.version=void 0;B.WebSocketProvider=B.SocketProvider=B.IpcSocketProvider=B.QuickNodeProvider=B.PocketProvider=B.InfuraWebSocketProvider=B.InfuraProvider=B.EtherscanProvider=B.CloudflareProvider=B.ChainstackProvider=B.BlockscoutProvider=B.AnkrProvider=B.AlchemyProvider=B.BrowserProvider=B.JsonRpcSigner=B.JsonRpcProvider=B.JsonRpcApiProvider=B.FallbackProvider=B.AbstractProvider=B.VoidSigner=B.NonceManager=B.AbstractSigner=B.TransactionResponse=B.TransactionReceipt=B.Log=B.FeeData=B.Block=B.getDefaultProvider=B.verifyTypedData=B.TypedDataEncoder=B.solidityPackedSha256=B.solidityPackedKeccak256=B.solidityPacked=B.verifyMessage=B.hashMessage=B.verifyAuthorization=B.hashAuthorization=B.dnsEncode=B.namehash=B.isValidName=B.ensNormalize=B.id=B.SigningKey=B.Signature=B.lock=B.scryptSync=B.scrypt=B.pbkdf2=B.sha512=B.sha256=void 0;B.FetchCancelSignal=B.FetchResponse=B.FetchRequest=B.EventPayload=B.isError=B.isCallException=B.makeError=B.assertPrivate=B.assertNormalize=B.assertArgumentCount=B.assertArgument=B.assert=B.resolveProperties=B.defineProperties=B.zeroPadValue=B.zeroPadBytes=B.stripZerosLeft=B.isBytesLike=B.isHexString=B.hexlify=B.getBytesCopy=B.getBytes=B.dataSlice=B.dataLength=B.concat=B.encodeBase64=B.decodeBase64=B.encodeBase58=B.decodeBase58=B.Transaction=B.recoverAddress=B.computeAddress=B.authorizationify=B.accessListify=B.showThrottleMessage=B.copyRequest=B.UnmanagedSubscriber=B.SocketSubscriber=B.SocketPendingSubscriber=B.SocketEventSubscriber=B.SocketBlockSubscriber=B.MulticoinProviderPlugin=B.NetworkPlugin=B.GasCostPlugin=B.FetchUrlFeeDataNetworkPlugin=B.FeeDataNetworkPlugin=B.EtherscanPlugin=B.EnsPlugin=B.Network=B.EnsResolver=void 0;B.wordlists=B.WordlistOwlA=B.WordlistOwl=B.LangEn=B.Wordlist=B.encryptKeystoreJsonSync=B.encryptKeystoreJson=B.decryptKeystoreJson=B.decryptKeystoreJsonSync=B.decryptCrowdsaleJson=B.isKeystoreJson=B.isCrowdsaleJson=B.getIndexedAccountPath=B.getAccountPath=B.defaultPath=B.Wallet=B.HDNodeVoidWallet=B.HDNodeWallet=B.BaseWallet=B.Mnemonic=B.uuidV4=B.encodeRlp=B.decodeRlp=B.Utf8ErrorFuncs=B.toUtf8String=B.toUtf8CodePoints=B.toUtf8Bytes=B.parseUnits=B.formatUnits=B.parseEther=B.formatEther=B.mask=B.toTwos=B.fromTwos=B.toQuantity=B.toNumber=B.toBeHex=B.toBigInt=B.toBeArray=B.getUint=B.getNumber=B.getBigInt=B.FixedNumber=void 0;var H0e=jA();Object.defineProperty(B,"version",{enumerable:!0,get:function(){return H0e.version}});var ln=Om();Object.defineProperty(B,"decodeBytes32String",{enumerable:!0,get:function(){return ln.decodeBytes32String}});Object.defineProperty(B,"encodeBytes32String",{enumerable:!0,get:function(){return ln.encodeBytes32String}});Object.defineProperty(B,"AbiCoder",{enumerable:!0,get:function(){return ln.AbiCoder}});Object.defineProperty(B,"ConstructorFragment",{enumerable:!0,get:function(){return ln.ConstructorFragment}});Object.defineProperty(B,"ErrorFragment",{enumerable:!0,get:function(){return ln.ErrorFragment}});Object.defineProperty(B,"EventFragment",{enumerable:!0,get:function(){return ln.EventFragment}});Object.defineProperty(B,"Fragment",{enumerable:!0,get:function(){return ln.Fragment}});Object.defineProperty(B,"FallbackFragment",{enumerable:!0,get:function(){return ln.FallbackFragment}});Object.defineProperty(B,"FunctionFragment",{enumerable:!0,get:function(){return ln.FunctionFragment}});Object.defineProperty(B,"NamedFragment",{enumerable:!0,get:function(){return ln.NamedFragment}});Object.defineProperty(B,"ParamType",{enumerable:!0,get:function(){return ln.ParamType}});Object.defineProperty(B,"StructFragment",{enumerable:!0,get:function(){return ln.StructFragment}});Object.defineProperty(B,"checkResultErrors",{enumerable:!0,get:function(){return ln.checkResultErrors}});Object.defineProperty(B,"ErrorDescription",{enumerable:!0,get:function(){return ln.ErrorDescription}});Object.defineProperty(B,"Indexed",{enumerable:!0,get:function(){return ln.Indexed}});Object.defineProperty(B,"Interface",{enumerable:!0,get:function(){return ln.Interface}});Object.defineProperty(B,"LogDescription",{enumerable:!0,get:function(){return ln.LogDescription}});Object.defineProperty(B,"Result",{enumerable:!0,get:function(){return ln.Result}});Object.defineProperty(B,"TransactionDescription",{enumerable:!0,get:function(){return ln.TransactionDescription}});Object.defineProperty(B,"Typed",{enumerable:!0,get:function(){return ln.Typed}});var Fh=Qr();Object.defineProperty(B,"getAddress",{enumerable:!0,get:function(){return Fh.getAddress}});Object.defineProperty(B,"getIcapAddress",{enumerable:!0,get:function(){return Fh.getIcapAddress}});Object.defineProperty(B,"getCreateAddress",{enumerable:!0,get:function(){return Fh.getCreateAddress}});Object.defineProperty(B,"getCreate2Address",{enumerable:!0,get:function(){return Fh.getCreate2Address}});Object.defineProperty(B,"isAddressable",{enumerable:!0,get:function(){return Fh.isAddressable}});Object.defineProperty(B,"isAddress",{enumerable:!0,get:function(){return Fh.isAddress}});Object.defineProperty(B,"resolveAddress",{enumerable:!0,get:function(){return Fh.resolveAddress}});var df=Kp();Object.defineProperty(B,"ZeroAddress",{enumerable:!0,get:function(){return df.ZeroAddress}});Object.defineProperty(B,"WeiPerEther",{enumerable:!0,get:function(){return df.WeiPerEther}});Object.defineProperty(B,"MaxUint256",{enumerable:!0,get:function(){return df.MaxUint256}});Object.defineProperty(B,"MinInt256",{enumerable:!0,get:function(){return df.MinInt256}});Object.defineProperty(B,"MaxInt256",{enumerable:!0,get:function(){return df.MaxInt256}});Object.defineProperty(B,"N",{enumerable:!0,get:function(){return df.N}});Object.defineProperty(B,"ZeroHash",{enumerable:!0,get:function(){return df.ZeroHash}});Object.defineProperty(B,"EtherSymbol",{enumerable:!0,get:function(){return df.EtherSymbol}});Object.defineProperty(B,"MessagePrefix",{enumerable:!0,get:function(){return df.MessagePrefix}});var hf=S_();Object.defineProperty(B,"BaseContract",{enumerable:!0,get:function(){return hf.BaseContract}});Object.defineProperty(B,"Contract",{enumerable:!0,get:function(){return hf.Contract}});Object.defineProperty(B,"ContractFactory",{enumerable:!0,get:function(){return hf.ContractFactory}});Object.defineProperty(B,"ContractEventPayload",{enumerable:!0,get:function(){return hf.ContractEventPayload}});Object.defineProperty(B,"ContractTransactionReceipt",{enumerable:!0,get:function(){return hf.ContractTransactionReceipt}});Object.defineProperty(B,"ContractTransactionResponse",{enumerable:!0,get:function(){return hf.ContractTransactionResponse}});Object.defineProperty(B,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return hf.ContractUnknownEventPayload}});Object.defineProperty(B,"EventLog",{enumerable:!0,get:function(){return hf.EventLog}});Object.defineProperty(B,"UndecodedEventLog",{enumerable:!0,get:function(){return hf.UndecodedEventLog}});var Oo=on();Object.defineProperty(B,"computeHmac",{enumerable:!0,get:function(){return Oo.computeHmac}});Object.defineProperty(B,"randomBytes",{enumerable:!0,get:function(){return Oo.randomBytes}});Object.defineProperty(B,"keccak256",{enumerable:!0,get:function(){return Oo.keccak256}});Object.defineProperty(B,"ripemd160",{enumerable:!0,get:function(){return Oo.ripemd160}});Object.defineProperty(B,"sha256",{enumerable:!0,get:function(){return Oo.sha256}});Object.defineProperty(B,"sha512",{enumerable:!0,get:function(){return Oo.sha512}});Object.defineProperty(B,"pbkdf2",{enumerable:!0,get:function(){return Oo.pbkdf2}});Object.defineProperty(B,"scrypt",{enumerable:!0,get:function(){return Oo.scrypt}});Object.defineProperty(B,"scryptSync",{enumerable:!0,get:function(){return Oo.scryptSync}});Object.defineProperty(B,"lock",{enumerable:!0,get:function(){return Oo.lock}});Object.defineProperty(B,"Signature",{enumerable:!0,get:function(){return Oo.Signature}});Object.defineProperty(B,"SigningKey",{enumerable:!0,get:function(){return Oo.SigningKey}});var ai=Dc();Object.defineProperty(B,"id",{enumerable:!0,get:function(){return ai.id}});Object.defineProperty(B,"ensNormalize",{enumerable:!0,get:function(){return ai.ensNormalize}});Object.defineProperty(B,"isValidName",{enumerable:!0,get:function(){return ai.isValidName}});Object.defineProperty(B,"namehash",{enumerable:!0,get:function(){return ai.namehash}});Object.defineProperty(B,"dnsEncode",{enumerable:!0,get:function(){return ai.dnsEncode}});Object.defineProperty(B,"hashAuthorization",{enumerable:!0,get:function(){return ai.hashAuthorization}});Object.defineProperty(B,"verifyAuthorization",{enumerable:!0,get:function(){return ai.verifyAuthorization}});Object.defineProperty(B,"hashMessage",{enumerable:!0,get:function(){return ai.hashMessage}});Object.defineProperty(B,"verifyMessage",{enumerable:!0,get:function(){return ai.verifyMessage}});Object.defineProperty(B,"solidityPacked",{enumerable:!0,get:function(){return ai.solidityPacked}});Object.defineProperty(B,"solidityPackedKeccak256",{enumerable:!0,get:function(){return ai.solidityPackedKeccak256}});Object.defineProperty(B,"solidityPackedSha256",{enumerable:!0,get:function(){return ai.solidityPackedSha256}});Object.defineProperty(B,"TypedDataEncoder",{enumerable:!0,get:function(){return ai.TypedDataEncoder}});Object.defineProperty(B,"verifyTypedData",{enumerable:!0,get:function(){return ai.verifyTypedData}});var Me=$S();Object.defineProperty(B,"getDefaultProvider",{enumerable:!0,get:function(){return Me.getDefaultProvider}});Object.defineProperty(B,"Block",{enumerable:!0,get:function(){return Me.Block}});Object.defineProperty(B,"FeeData",{enumerable:!0,get:function(){return Me.FeeData}});Object.defineProperty(B,"Log",{enumerable:!0,get:function(){return Me.Log}});Object.defineProperty(B,"TransactionReceipt",{enumerable:!0,get:function(){return Me.TransactionReceipt}});Object.defineProperty(B,"TransactionResponse",{enumerable:!0,get:function(){return Me.TransactionResponse}});Object.defineProperty(B,"AbstractSigner",{enumerable:!0,get:function(){return Me.AbstractSigner}});Object.defineProperty(B,"NonceManager",{enumerable:!0,get:function(){return Me.NonceManager}});Object.defineProperty(B,"VoidSigner",{enumerable:!0,get:function(){return Me.VoidSigner}});Object.defineProperty(B,"AbstractProvider",{enumerable:!0,get:function(){return Me.AbstractProvider}});Object.defineProperty(B,"FallbackProvider",{enumerable:!0,get:function(){return Me.FallbackProvider}});Object.defineProperty(B,"JsonRpcApiProvider",{enumerable:!0,get:function(){return Me.JsonRpcApiProvider}});Object.defineProperty(B,"JsonRpcProvider",{enumerable:!0,get:function(){return Me.JsonRpcProvider}});Object.defineProperty(B,"JsonRpcSigner",{enumerable:!0,get:function(){return Me.JsonRpcSigner}});Object.defineProperty(B,"BrowserProvider",{enumerable:!0,get:function(){return Me.BrowserProvider}});Object.defineProperty(B,"AlchemyProvider",{enumerable:!0,get:function(){return Me.AlchemyProvider}});Object.defineProperty(B,"AnkrProvider",{enumerable:!0,get:function(){return Me.AnkrProvider}});Object.defineProperty(B,"BlockscoutProvider",{enumerable:!0,get:function(){return Me.BlockscoutProvider}});Object.defineProperty(B,"ChainstackProvider",{enumerable:!0,get:function(){return Me.ChainstackProvider}});Object.defineProperty(B,"CloudflareProvider",{enumerable:!0,get:function(){return Me.CloudflareProvider}});Object.defineProperty(B,"EtherscanProvider",{enumerable:!0,get:function(){return Me.EtherscanProvider}});Object.defineProperty(B,"InfuraProvider",{enumerable:!0,get:function(){return Me.InfuraProvider}});Object.defineProperty(B,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return Me.InfuraWebSocketProvider}});Object.defineProperty(B,"PocketProvider",{enumerable:!0,get:function(){return Me.PocketProvider}});Object.defineProperty(B,"QuickNodeProvider",{enumerable:!0,get:function(){return Me.QuickNodeProvider}});Object.defineProperty(B,"IpcSocketProvider",{enumerable:!0,get:function(){return Me.IpcSocketProvider}});Object.defineProperty(B,"SocketProvider",{enumerable:!0,get:function(){return Me.SocketProvider}});Object.defineProperty(B,"WebSocketProvider",{enumerable:!0,get:function(){return Me.WebSocketProvider}});Object.defineProperty(B,"EnsResolver",{enumerable:!0,get:function(){return Me.EnsResolver}});Object.defineProperty(B,"Network",{enumerable:!0,get:function(){return Me.Network}});Object.defineProperty(B,"EnsPlugin",{enumerable:!0,get:function(){return Me.EnsPlugin}});Object.defineProperty(B,"EtherscanPlugin",{enumerable:!0,get:function(){return Me.EtherscanPlugin}});Object.defineProperty(B,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return Me.FeeDataNetworkPlugin}});Object.defineProperty(B,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return Me.FetchUrlFeeDataNetworkPlugin}});Object.defineProperty(B,"GasCostPlugin",{enumerable:!0,get:function(){return Me.GasCostPlugin}});Object.defineProperty(B,"NetworkPlugin",{enumerable:!0,get:function(){return Me.NetworkPlugin}});Object.defineProperty(B,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return Me.MulticoinProviderPlugin}});Object.defineProperty(B,"SocketBlockSubscriber",{enumerable:!0,get:function(){return Me.SocketBlockSubscriber}});Object.defineProperty(B,"SocketEventSubscriber",{enumerable:!0,get:function(){return Me.SocketEventSubscriber}});Object.defineProperty(B,"SocketPendingSubscriber",{enumerable:!0,get:function(){return Me.SocketPendingSubscriber}});Object.defineProperty(B,"SocketSubscriber",{enumerable:!0,get:function(){return Me.SocketSubscriber}});Object.defineProperty(B,"UnmanagedSubscriber",{enumerable:!0,get:function(){return Me.UnmanagedSubscriber}});Object.defineProperty(B,"copyRequest",{enumerable:!0,get:function(){return Me.copyRequest}});Object.defineProperty(B,"showThrottleMessage",{enumerable:!0,get:function(){return Me.showThrottleMessage}});var Ev=Os();Object.defineProperty(B,"accessListify",{enumerable:!0,get:function(){return Ev.accessListify}});Object.defineProperty(B,"authorizationify",{enumerable:!0,get:function(){return Ev.authorizationify}});Object.defineProperty(B,"computeAddress",{enumerable:!0,get:function(){return Ev.computeAddress}});Object.defineProperty(B,"recoverAddress",{enumerable:!0,get:function(){return Ev.recoverAddress}});Object.defineProperty(B,"Transaction",{enumerable:!0,get:function(){return Ev.Transaction}});var Ae=ue();Object.defineProperty(B,"decodeBase58",{enumerable:!0,get:function(){return Ae.decodeBase58}});Object.defineProperty(B,"encodeBase58",{enumerable:!0,get:function(){return Ae.encodeBase58}});Object.defineProperty(B,"decodeBase64",{enumerable:!0,get:function(){return Ae.decodeBase64}});Object.defineProperty(B,"encodeBase64",{enumerable:!0,get:function(){return Ae.encodeBase64}});Object.defineProperty(B,"concat",{enumerable:!0,get:function(){return Ae.concat}});Object.defineProperty(B,"dataLength",{enumerable:!0,get:function(){return Ae.dataLength}});Object.defineProperty(B,"dataSlice",{enumerable:!0,get:function(){return Ae.dataSlice}});Object.defineProperty(B,"getBytes",{enumerable:!0,get:function(){return Ae.getBytes}});Object.defineProperty(B,"getBytesCopy",{enumerable:!0,get:function(){return Ae.getBytesCopy}});Object.defineProperty(B,"hexlify",{enumerable:!0,get:function(){return Ae.hexlify}});Object.defineProperty(B,"isHexString",{enumerable:!0,get:function(){return Ae.isHexString}});Object.defineProperty(B,"isBytesLike",{enumerable:!0,get:function(){return Ae.isBytesLike}});Object.defineProperty(B,"stripZerosLeft",{enumerable:!0,get:function(){return Ae.stripZerosLeft}});Object.defineProperty(B,"zeroPadBytes",{enumerable:!0,get:function(){return Ae.zeroPadBytes}});Object.defineProperty(B,"zeroPadValue",{enumerable:!0,get:function(){return Ae.zeroPadValue}});Object.defineProperty(B,"defineProperties",{enumerable:!0,get:function(){return Ae.defineProperties}});Object.defineProperty(B,"resolveProperties",{enumerable:!0,get:function(){return Ae.resolveProperties}});Object.defineProperty(B,"assert",{enumerable:!0,get:function(){return Ae.assert}});Object.defineProperty(B,"assertArgument",{enumerable:!0,get:function(){return Ae.assertArgument}});Object.defineProperty(B,"assertArgumentCount",{enumerable:!0,get:function(){return Ae.assertArgumentCount}});Object.defineProperty(B,"assertNormalize",{enumerable:!0,get:function(){return Ae.assertNormalize}});Object.defineProperty(B,"assertPrivate",{enumerable:!0,get:function(){return Ae.assertPrivate}});Object.defineProperty(B,"makeError",{enumerable:!0,get:function(){return Ae.makeError}});Object.defineProperty(B,"isCallException",{enumerable:!0,get:function(){return Ae.isCallException}});Object.defineProperty(B,"isError",{enumerable:!0,get:function(){return Ae.isError}});Object.defineProperty(B,"EventPayload",{enumerable:!0,get:function(){return Ae.EventPayload}});Object.defineProperty(B,"FetchRequest",{enumerable:!0,get:function(){return Ae.FetchRequest}});Object.defineProperty(B,"FetchResponse",{enumerable:!0,get:function(){return Ae.FetchResponse}});Object.defineProperty(B,"FetchCancelSignal",{enumerable:!0,get:function(){return Ae.FetchCancelSignal}});Object.defineProperty(B,"FixedNumber",{enumerable:!0,get:function(){return Ae.FixedNumber}});Object.defineProperty(B,"getBigInt",{enumerable:!0,get:function(){return Ae.getBigInt}});Object.defineProperty(B,"getNumber",{enumerable:!0,get:function(){return Ae.getNumber}});Object.defineProperty(B,"getUint",{enumerable:!0,get:function(){return Ae.getUint}});Object.defineProperty(B,"toBeArray",{enumerable:!0,get:function(){return Ae.toBeArray}});Object.defineProperty(B,"toBigInt",{enumerable:!0,get:function(){return Ae.toBigInt}});Object.defineProperty(B,"toBeHex",{enumerable:!0,get:function(){return Ae.toBeHex}});Object.defineProperty(B,"toNumber",{enumerable:!0,get:function(){return Ae.toNumber}});Object.defineProperty(B,"toQuantity",{enumerable:!0,get:function(){return Ae.toQuantity}});Object.defineProperty(B,"fromTwos",{enumerable:!0,get:function(){return Ae.fromTwos}});Object.defineProperty(B,"toTwos",{enumerable:!0,get:function(){return Ae.toTwos}});Object.defineProperty(B,"mask",{enumerable:!0,get:function(){return Ae.mask}});Object.defineProperty(B,"formatEther",{enumerable:!0,get:function(){return Ae.formatEther}});Object.defineProperty(B,"parseEther",{enumerable:!0,get:function(){return Ae.parseEther}});Object.defineProperty(B,"formatUnits",{enumerable:!0,get:function(){return Ae.formatUnits}});Object.defineProperty(B,"parseUnits",{enumerable:!0,get:function(){return Ae.parseUnits}});Object.defineProperty(B,"toUtf8Bytes",{enumerable:!0,get:function(){return Ae.toUtf8Bytes}});Object.defineProperty(B,"toUtf8CodePoints",{enumerable:!0,get:function(){return Ae.toUtf8CodePoints}});Object.defineProperty(B,"toUtf8String",{enumerable:!0,get:function(){return Ae.toUtf8String}});Object.defineProperty(B,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Ae.Utf8ErrorFuncs}});Object.defineProperty(B,"decodeRlp",{enumerable:!0,get:function(){return Ae.decodeRlp}});Object.defineProperty(B,"encodeRlp",{enumerable:!0,get:function(){return Ae.encodeRlp}});Object.defineProperty(B,"uuidV4",{enumerable:!0,get:function(){return Ae.uuidV4}});var Fs=CV();Object.defineProperty(B,"Mnemonic",{enumerable:!0,get:function(){return Fs.Mnemonic}});Object.defineProperty(B,"BaseWallet",{enumerable:!0,get:function(){return Fs.BaseWallet}});Object.defineProperty(B,"HDNodeWallet",{enumerable:!0,get:function(){return Fs.HDNodeWallet}});Object.defineProperty(B,"HDNodeVoidWallet",{enumerable:!0,get:function(){return Fs.HDNodeVoidWallet}});Object.defineProperty(B,"Wallet",{enumerable:!0,get:function(){return Fs.Wallet}});Object.defineProperty(B,"defaultPath",{enumerable:!0,get:function(){return Fs.defaultPath}});Object.defineProperty(B,"getAccountPath",{enumerable:!0,get:function(){return Fs.getAccountPath}});Object.defineProperty(B,"getIndexedAccountPath",{enumerable:!0,get:function(){return Fs.getIndexedAccountPath}});Object.defineProperty(B,"isCrowdsaleJson",{enumerable:!0,get:function(){return Fs.isCrowdsaleJson}});Object.defineProperty(B,"isKeystoreJson",{enumerable:!0,get:function(){return Fs.isKeystoreJson}});Object.defineProperty(B,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return Fs.decryptCrowdsaleJson}});Object.defineProperty(B,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return Fs.decryptKeystoreJsonSync}});Object.defineProperty(B,"decryptKeystoreJson",{enumerable:!0,get:function(){return Fs.decryptKeystoreJson}});Object.defineProperty(B,"encryptKeystoreJson",{enumerable:!0,get:function(){return Fs.encryptKeystoreJson}});Object.defineProperty(B,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return Fs.encryptKeystoreJsonSync}});var Sv=jV();Object.defineProperty(B,"Wordlist",{enumerable:!0,get:function(){return Sv.Wordlist}});Object.defineProperty(B,"LangEn",{enumerable:!0,get:function(){return Sv.LangEn}});Object.defineProperty(B,"WordlistOwl",{enumerable:!0,get:function(){return Sv.WordlistOwl}});Object.defineProperty(B,"WordlistOwlA",{enumerable:!0,get:function(){return Sv.WordlistOwlA}});Object.defineProperty(B,"wordlists",{enumerable:!0,get:function(){return Sv.wordlists}})});var vR=M(kv=>{y();b();Object.defineProperty(kv,"__esModule",{value:!0});kv.ethers=void 0;var FV=uL(),G0e=FV.__importStar(_R());kv.ethers=G0e;FV.__exportStar(_R(),kv)});var LV=M(AR=>{y();b();Object.defineProperty(AR,"__esModule",{value:!0});AR.getRpcTxObject=W0e;var K0e=vT(),PR=OP(),V0e=vR(),E6=(ua(),aa(ca)),z0e=["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"],J0e=["from","to","data","input"];function W0e(r){let e={},t;return(0,E6.each)(z0e,n=>{!(0,E6.has)(r,n)||(r[n]=="0x"?t=(0,PR.hexValue)("0x"):t=(0,PR.hexValue)(K0e.BigNumber.from(r[n])),n=="gasLimit"?e.gas=t:e[n]=t)}),(0,E6.each)(J0e,n=>{if(!(0,E6.has)(r,n))return;let s=(0,PR.hexlify)(r[n]);e[n]=s,(n==="to"||n==="from")&&r[n]==="0x"&&(e[n]="0x0000000000000000000000000000000000000000")}),r.accessList&&(e.accessList=(0,V0e.accessListify)(r.accessList)),e}});var UV=M(S6=>{y();b();Object.defineProperty(S6,"__esModule",{value:!0});S6.version=void 0;S6.version="bytes/5.8.0"});var SR=M(zt=>{y();b();Object.defineProperty(zt,"__esModule",{value:!0});zt.joinSignature=zt.splitSignature=zt.hexZeroPad=zt.hexStripZeros=zt.hexValue=zt.hexConcat=zt.hexDataSlice=zt.hexDataLength=zt.hexlify=zt.isHexString=zt.zeroPad=zt.stripZeros=zt.concat=zt.arrayify=zt.isBytes=zt.isBytesLike=void 0;var $0e=Yf(),Z0e=UV(),Gr=new $0e.Logger(Z0e.version);function qV(r){return!!r.toHexString}function Iy(r){return r.slice||(r.slice=function(){var e=Array.prototype.slice.call(arguments);return Iy(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function HV(r){return Ka(r)&&!(r.length%2)||O6(r)}zt.isBytesLike=HV;function DV(r){return typeof r=="number"&&r==r&&r%1===0}function O6(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!DV(r.length)||r.length<0)return!1;for(var e=0;e<r.length;e++){var t=r[e];if(!DV(t)||t<0||t>=256)return!1}return!0}zt.isBytes=O6;function Lh(r,e){if(e||(e={}),typeof r=="number"){Gr.checkSafeUint53(r,"invalid arrayify value");for(var t=[];r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),Iy(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),qV(r)&&(r=r.toHexString()),Ka(r)){var n=r.substring(2);n.length%2&&(e.hexPad==="left"?n="0"+n:e.hexPad==="right"?n+="0":Gr.throwArgumentError("hex data is odd-length","value",r));for(var t=[],s=0;s<n.length;s+=2)t.push(parseInt(n.substring(s,s+2),16));return Iy(new Uint8Array(t))}return O6(r)?Iy(new Uint8Array(r)):Gr.throwArgumentError("invalid arrayify value","value",r)}zt.arrayify=Lh;function GV(r){var e=r.map(function(s){return Lh(s)}),t=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(t);return e.reduce(function(s,i){return n.set(i,s),s+i.length},0),Iy(n)}zt.concat=GV;function Q0e(r){var e=Lh(r);if(e.length===0)return e;for(var t=0;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}zt.stripZeros=Q0e;function KV(r,e){r=Lh(r),r.length>e&&Gr.throwArgumentError("value out of range","value",arguments[0]);var t=new Uint8Array(e);return t.set(r,e-r.length),Iy(t)}zt.zeroPad=KV;function Ka(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}zt.isHexString=Ka;var ER="0123456789abcdef";function fs(r,e){if(e||(e={}),typeof r=="number"){Gr.checkSafeUint53(r,"invalid hexlify value");for(var t="";r;)t=ER[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),qV(r))return r.toHexString();if(Ka(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Gr.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(O6(r)){for(var n="0x",s=0;s<r.length;s++){var i=r[s];n+=ER[(i&240)>>4]+ER[i&15]}return n}return Gr.throwArgumentError("invalid hexlify value","value",r)}zt.hexlify=fs;function X0e(r){if(typeof r!="string")r=fs(r);else if(!Ka(r)||r.length%2)return null;return(r.length-2)/2}zt.hexDataLength=X0e;function Y0e(r,e,t){return typeof r!="string"?r=fs(r):(!Ka(r)||r.length%2)&&Gr.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}zt.hexDataSlice=Y0e;function ehe(r){var e="0x";return r.forEach(function(t){e+=fs(t).substring(2)}),e}zt.hexConcat=ehe;function the(r){var e=VV(fs(r,{hexPad:"left"}));return e==="0x"?"0x0":e}zt.hexValue=the;function VV(r){typeof r!="string"&&(r=fs(r)),Ka(r)||Gr.throwArgumentError("invalid hex string","value",r),r=r.substring(2);for(var e=0;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}zt.hexStripZeros=VV;function k6(r,e){for(typeof r!="string"?r=fs(r):Ka(r)||Gr.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Gr.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}zt.hexZeroPad=k6;function zV(r){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(HV(r)){var t=Lh(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=fs(t.slice(0,32)),e.s=fs(t.slice(32,64))):t.length===65?(e.r=fs(t.slice(0,32)),e.s=fs(t.slice(32,64)),e.v=t[64]):Gr.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Gr.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=fs(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){var n=KV(Lh(e._vs),32);e._vs=fs(n);var s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Gr.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;var i=fs(n);e.s==null?e.s=i:e.s!==i&&Gr.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Gr.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{var o=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==o&&Gr.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Ka(e.r)?Gr.throwArgumentError("signature missing or invalid r","signature",r):e.r=k6(e.r,32),e.s==null||!Ka(e.s)?Gr.throwArgumentError("signature missing or invalid s","signature",r):e.s=k6(e.s,32);var a=Lh(e.s);a[0]>=128&&Gr.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(a[0]|=128);var c=fs(a);e._vs&&(Ka(e._vs)||Gr.throwArgumentError("signature invalid _vs","signature",r),e._vs=k6(e._vs,32)),e._vs==null?e._vs=c:e._vs!==c&&Gr.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}zt.splitSignature=zV;function rhe(r){return r=zV(r),fs(GV([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}zt.joinSignature=rhe});var kR=M(T6=>{y();b();Object.defineProperty(T6,"__esModule",{value:!0});T6.version=void 0;T6.version="bignumber/5.8.0"});var C6=M(No=>{y();b();var nhe=No&&No.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(No,"__esModule",{value:!0});No._base16To36=No._base36To16=No.BigNumber=No.isBigNumberish=void 0;var she=nhe(QT()),Ov=she.default.BN,My=SR(),jy=Yf(),ihe=kR(),gf=new jy.Logger(ihe.version),OR={},JV=9007199254740991;function ohe(r){return r!=null&&(N6.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||(0,My.isHexString)(r)||typeof r=="bigint"||(0,My.isBytes)(r))}No.isBigNumberish=ohe;var WV=!1,N6=function(){function r(e,t){e!==OR&&gf.throwError("cannot call constructor directly; use BigNumber.from",jy.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}return r.prototype.fromTwos=function(e){return ci(Bt(this).fromTwos(e))},r.prototype.toTwos=function(e){return ci(Bt(this).toTwos(e))},r.prototype.abs=function(){return this._hex[0]==="-"?r.from(this._hex.substring(1)):this},r.prototype.add=function(e){return ci(Bt(this).add(Bt(e)))},r.prototype.sub=function(e){return ci(Bt(this).sub(Bt(e)))},r.prototype.div=function(e){var t=r.from(e);return t.isZero()&&To("division-by-zero","div"),ci(Bt(this).div(Bt(e)))},r.prototype.mul=function(e){return ci(Bt(this).mul(Bt(e)))},r.prototype.mod=function(e){var t=Bt(e);return t.isNeg()&&To("division-by-zero","mod"),ci(Bt(this).umod(t))},r.prototype.pow=function(e){var t=Bt(e);return t.isNeg()&&To("negative-power","pow"),ci(Bt(this).pow(t))},r.prototype.and=function(e){var t=Bt(e);return(this.isNegative()||t.isNeg())&&To("unbound-bitwise-result","and"),ci(Bt(this).and(t))},r.prototype.or=function(e){var t=Bt(e);return(this.isNegative()||t.isNeg())&&To("unbound-bitwise-result","or"),ci(Bt(this).or(t))},r.prototype.xor=function(e){var t=Bt(e);return(this.isNegative()||t.isNeg())&&To("unbound-bitwise-result","xor"),ci(Bt(this).xor(t))},r.prototype.mask=function(e){return(this.isNegative()||e<0)&&To("negative-width","mask"),ci(Bt(this).maskn(e))},r.prototype.shl=function(e){return(this.isNegative()||e<0)&&To("negative-width","shl"),ci(Bt(this).shln(e))},r.prototype.shr=function(e){return(this.isNegative()||e<0)&&To("negative-width","shr"),ci(Bt(this).shrn(e))},r.prototype.eq=function(e){return Bt(this).eq(Bt(e))},r.prototype.lt=function(e){return Bt(this).lt(Bt(e))},r.prototype.lte=function(e){return Bt(this).lte(Bt(e))},r.prototype.gt=function(e){return Bt(this).gt(Bt(e))},r.prototype.gte=function(e){return Bt(this).gte(Bt(e))},r.prototype.isNegative=function(){return this._hex[0]==="-"},r.prototype.isZero=function(){return Bt(this).isZero()},r.prototype.toNumber=function(){try{return Bt(this).toNumber()}catch{To("overflow","toNumber",this.toString())}return null},r.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch{}return gf.throwError("this platform does not support BigInt",jy.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},r.prototype.toString=function(){return arguments.length>0&&(arguments[0]===10?WV||(WV=!0,gf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?gf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",jy.Logger.errors.UNEXPECTED_ARGUMENT,{}):gf.throwError("BigNumber.toString does not accept parameters",jy.Logger.errors.UNEXPECTED_ARGUMENT,{})),Bt(this).toString(10)},r.prototype.toHexString=function(){return this._hex},r.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},r.from=function(e){if(e instanceof r)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new r(OR,Tv(e)):e.match(/^-?[0-9]+$/)?new r(OR,Tv(new Ov(e))):gf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&To("underflow","BigNumber.from",e),(e>=JV||e<=-JV)&&To("overflow","BigNumber.from",e),r.from(String(e));var t=e;if(typeof t=="bigint")return r.from(t.toString());if((0,My.isBytes)(t))return r.from((0,My.hexlify)(t));if(t)if(t.toHexString){var n=t.toHexString();if(typeof n=="string")return r.from(n)}else{var n=t._hex;if(n==null&&t.type==="BigNumber"&&(n=t.hex),typeof n=="string"&&((0,My.isHexString)(n)||n[0]==="-"&&(0,My.isHexString)(n.substring(1))))return r.from(n)}return gf.throwArgumentError("invalid BigNumber value","value",e)},r.isBigNumber=function(e){return!!(e&&e._isBigNumber)},r}();No.BigNumber=N6;function Tv(r){if(typeof r!="string")return Tv(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&gf.throwArgumentError("invalid hex","value",r),r=Tv(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function ci(r){return N6.from(Tv(r))}function Bt(r){var e=N6.from(r).toHexString();return e[0]==="-"?new Ov("-"+e.substring(3),16):new Ov(e.substring(2),16)}function To(r,e,t){var n={fault:r,operation:e};return t!=null&&(n.value=t),gf.throwError(r,jy.Logger.errors.NUMERIC_FAULT,n)}function ahe(r){return new Ov(r,36).toString(16)}No._base36To16=ahe;function che(r){return new Ov(r,16).toString(36)}No._base16To36=che});var YV=M(su=>{y();b();Object.defineProperty(su,"__esModule",{value:!0});su.FixedNumber=su.FixedFormat=su.parseFixed=su.formatFixed=void 0;var R6=SR(),Rv=Yf(),uhe=kR(),Ls=new Rv.Logger(uhe.version),pf=C6(),Nv={},ZV=pf.BigNumber.from(0),QV=pf.BigNumber.from(-1);function XV(r,e,t,n){var s={fault:e,operation:t};return n!==void 0&&(s.value=n),Ls.throwError(r,Rv.Logger.errors.NUMERIC_FAULT,s)}var Cv="0";for(;Cv.length<256;)Cv+=Cv;function TR(r){if(typeof r!="number")try{r=pf.BigNumber.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Cv.substring(0,r):Ls.throwArgumentError("invalid decimal size","decimals",r)}function B6(r,e){e==null&&(e=0);var t=TR(e);r=pf.BigNumber.from(r);var n=r.lt(ZV);n&&(r=r.mul(QV));for(var s=r.mod(t).toString();s.length<t.length-1;)s="0"+s;s=s.match(/^([0-9]*[1-9]|0)(0*)/)[1];var i=r.div(t).toString();return t.length===1?r=i:r=i+"."+s,n&&(r="-"+r),r}su.formatFixed=B6;function nu(r,e){e==null&&(e=0);var t=TR(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Ls.throwArgumentError("invalid decimal value","value",r);var n=r.substring(0,1)==="-";n&&(r=r.substring(1)),r==="."&&Ls.throwArgumentError("missing value","value",r);var s=r.split(".");s.length>2&&Ls.throwArgumentError("too many decimal points","value",r);var i=s[0],o=s[1];for(i||(i="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&XV("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";var a=pf.BigNumber.from(i),c=pf.BigNumber.from(o),f=a.mul(t).add(c);return n&&(f=f.mul(QV)),f}su.parseFixed=nu;var I6=function(){function r(e,t,n,s){e!==Nv&&Ls.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Rv.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=s,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(s),this._multiplier=TR(s),Object.freeze(this)}return r.from=function(e){if(e instanceof r)return e;typeof e=="number"&&(e="fixed128x"+e);var t=!0,n=128,s=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{var i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Ls.throwArgumentError("invalid fixed format","format",e),t=i[1]!=="u",n=parseInt(i[2]),s=parseInt(i[3])}}else if(e){var o=function(a,c,f){return e[a]==null?f:(typeof e[a]!==c&&Ls.throwArgumentError("invalid fixed format ("+a+" not "+c+")","format."+a,e[a]),e[a])};t=o("signed","boolean",t),n=o("width","number",n),s=o("decimals","number",s)}return n%8&&Ls.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),s>80&&Ls.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",s),new r(Nv,t,n,s)},r}();su.FixedFormat=I6;var NR=function(){function r(e,t,n,s){e!==Nv&&Ls.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Rv.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=s,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return r.prototype._checkFormat=function(e){this.format.name!==e.format.name&&Ls.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},r.prototype.addUnsafe=function(e){this._checkFormat(e);var t=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return r.fromValue(t.add(n),this.format.decimals,this.format)},r.prototype.subUnsafe=function(e){this._checkFormat(e);var t=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return r.fromValue(t.sub(n),this.format.decimals,this.format)},r.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return r.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)},r.prototype.divUnsafe=function(e){this._checkFormat(e);var t=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return r.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)},r.prototype.floor=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe($V.toFormat(t.format))),t},r.prototype.ceiling=function(){var e=this.toString().split(".");e.length===1&&e.push("0");var t=r.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe($V.toFormat(t.format))),t},r.prototype.round=function(e){e==null&&(e=0);var t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Ls.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;var n=r.from("1"+Cv.substring(0,e),this.format),s=fhe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(s).floor().divUnsafe(n)},r.prototype.isZero=function(){return this._value==="0.0"||this._value==="0"},r.prototype.isNegative=function(){return this._value[0]==="-"},r.prototype.toString=function(){return this._value},r.prototype.toHexString=function(e){if(e==null)return this._hex;e%8&&Ls.throwArgumentError("invalid byte width","width",e);var t=pf.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,R6.hexZeroPad)(t,e/8)},r.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},r.prototype.toFormat=function(e){return r.fromString(this._value,e)},r.fromValue=function(e,t,n){return n==null&&t!=null&&!(0,pf.isBigNumberish)(t)&&(n=t,t=null),t==null&&(t=0),n==null&&(n="fixed"),r.fromString(B6(e,t),I6.from(n))},r.fromString=function(e,t){t==null&&(t="fixed");var n=I6.from(t),s=nu(e,n.decimals);!n.signed&&s.lt(ZV)&&XV("unsigned value cannot be negative","overflow","value",e);var i=null;n.signed?i=s.toTwos(n.width).toHexString():(i=s.toHexString(),i=(0,R6.hexZeroPad)(i,n.width/8));var o=B6(s,n.decimals);return new r(Nv,i,o,n)},r.fromBytes=function(e,t){t==null&&(t="fixed");var n=I6.from(t);if((0,R6.arrayify)(e).length>n.width/8)throw new Error("overflow");var s=pf.BigNumber.from(e);n.signed&&(s=s.fromTwos(n.width));var i=s.toTwos((n.signed?0:1)+n.width).toHexString(),o=B6(s,n.decimals);return new r(Nv,i,o,n)},r.from=function(e,t){if(typeof e=="string")return r.fromString(e,t);if((0,R6.isBytes)(e))return r.fromBytes(e,t);try{return r.fromValue(e,0,t)}catch(n){if(n.code!==Rv.Logger.errors.INVALID_ARGUMENT)throw n}return Ls.throwArgumentError("invalid FixedNumber value","value",e)},r.isFixedNumber=function(e){return!!(e&&e._isFixedNumber)},r}();su.FixedNumber=NR;var $V=NR.from(1),fhe=NR.from("0.5")});var tz=M(ls=>{y();b();Object.defineProperty(ls,"__esModule",{value:!0});ls._base36To16=ls._base16To36=ls.parseFixed=ls.FixedNumber=ls.FixedFormat=ls.formatFixed=ls.BigNumber=void 0;var lhe=C6();Object.defineProperty(ls,"BigNumber",{enumerable:!0,get:function(){return lhe.BigNumber}});var M6=YV();Object.defineProperty(ls,"formatFixed",{enumerable:!0,get:function(){return M6.formatFixed}});Object.defineProperty(ls,"FixedFormat",{enumerable:!0,get:function(){return M6.FixedFormat}});Object.defineProperty(ls,"FixedNumber",{enumerable:!0,get:function(){return M6.FixedNumber}});Object.defineProperty(ls,"parseFixed",{enumerable:!0,get:function(){return M6.parseFixed}});var ez=C6();Object.defineProperty(ls,"_base16To36",{enumerable:!0,get:function(){return ez._base16To36}});Object.defineProperty(ls,"_base36To16",{enumerable:!0,get:function(){return ez._base36To16}})});var rz=M(j6=>{y();b();Object.defineProperty(j6,"__esModule",{value:!0});j6.version=void 0;j6.version="units/5.8.0"});var cz=M(Co=>{y();b();Object.defineProperty(Co,"__esModule",{value:!0});Co.parseEther=Co.formatEther=Co.parseUnits=Co.formatUnits=Co.commify=void 0;var nz=tz(),dhe=Yf(),hhe=rz(),sz=new dhe.Logger(hhe.version),iz=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ghe(r){var e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&sz.throwArgumentError("invalid value","value",r);var t=e[0],n="";for(t.substring(0,1)==="-"&&(n="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");var s="";for(e.length===2&&(s="."+(e[1]||"0"));s.length>2&&s[s.length-1]==="0";)s=s.substring(0,s.length-1);for(var i=[];t.length;)if(t.length<=3){i.unshift(t);break}else{var o=t.length-3;i.unshift(t.substring(o)),t=t.substring(0,o)}return n+i.join(",")+s}Co.commify=ghe;function oz(r,e){if(typeof e=="string"){var t=iz.indexOf(e);t!==-1&&(e=3*t)}return(0,nz.formatFixed)(r,e??18)}Co.formatUnits=oz;function az(r,e){if(typeof r!="string"&&sz.throwArgumentError("value must be a string","value",r),typeof e=="string"){var t=iz.indexOf(e);t!==-1&&(e=3*t)}return(0,nz.parseFixed)(r,e??18)}Co.parseUnits=az;function phe(r){return oz(r,18)}Co.formatEther=phe;function mhe(r){return az(r,18)}Co.parseEther=mhe});var hz=M(Kr=>{y();b();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.parseKaia=Kr.formatKaia=Kr.parseKaiaUnits=Kr.formatKaiaUnits=Kr.parseUnits=Kr.formatUnits=void 0;Kr.formatKlayUnits=Fy;Kr.parseKlayUnits=Ly;Kr.formatKlay=lz;Kr.parseKlay=dz;Kr.fromPeb=yhe;Kr.toPeb=bhe;Kr.fromKei=xhe;Kr.toKei=whe;var F6=cz(),CR=(ua(),aa(ca)),uz={peb:0,kpeb:3,mpeb:6,ston:9,gpeb:9,uklay:12,mklay:15,klay:18,kklay:21,Mklay:24,gklay:27,tklay:30,kei:0,gkei:9,kaia:18};function fz(r){if((0,CR.isString)(r)){let e=r.toLowerCase();return e=="mklay"&&r[0]=="m"?15:e=="mklay"&&r[0]=="M"?24:e in uz?uz[e]:void 0}}function Fy(r,e){let t=fz(e);return t?(0,F6.formatUnits)(r,t):((0,CR.isString)(e)&&(e=e.toLowerCase()),(0,F6.formatUnits)(r,e))}function Ly(r,e){let t=fz(e);return t?(0,F6.parseUnits)(r,t):((0,CR.isString)(e)&&(e=e.toLowerCase()),(0,F6.parseUnits)(r,e))}function lz(r){return Fy(r,18)}function dz(r){return Ly(r,18)}function yhe(r,e){return Fy(r,e)}function bhe(r,e){return Ly(r,e).toString()}Kr.formatUnits=Fy;Kr.parseUnits=Ly;Kr.formatKaiaUnits=Fy;Kr.parseKaiaUnits=Ly;Kr.formatKaia=lz;Kr.parseKaia=dz;function xhe(r,e){return Fy(r,e)}function whe(r,e){return Ly(r,e).toString()}});var Ro=M(ji=>{y();b();var _he=ji&&ji.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Uh=ji&&ji.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_he(e,r,t)};Object.defineProperty(ji,"__esModule",{value:!0});Uh(i5(),ji);Uh(yw(),ji);Uh(a5(),ji);Uh(RF(),ji);Uh(MF(),ji);Uh(LV(),ji);Uh(hz(),ji)});var mz=M(Vr=>{y();b();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.FieldTypeSignatureTuples=Vr.FieldTypeBool=Vr.FieldTypeUint256=Vr.FieldTypeUint64=Vr.FieldTypeUint32=Vr.FieldTypeUint8=Vr.FieldTypeNumberBits=Vr.FieldTypeBytes=Vr.FieldTypeAddress=Vr.FieldError=void 0;var vhe=Q9(),gz=vT(),pz=Ro(),Phe=(ua(),aa(ca)),RR=class extends Error{constructor(e,t,n){let s=`Cannot assign value '${n}' to field '${t}' of type '${e.constructor.name}'`;super(s),this.name="FieldError"}};Vr.FieldError=RR;Vr.FieldTypeAddress=new class{canonicalize(r){return r==="0x"?"0x":(0,vhe.getAddress)(r)}emptyValue(){return"0x"}};Vr.FieldTypeBytes=new class{canonicalize(r){return pz.HexStr.from(r)}emptyValue(){return"0x"}};var Dh=class{constructor(e){e||(e=256),this.maxBits=e,this.maxBN=gz.BigNumber.from(2).pow(e)}canonicalize(e){e==="0x"&&(e=0);let t=gz.BigNumber.from(e);if(t.gte(this.maxBN))throw new Error(`Number exceeds ${this.maxBits} bits`);return t.isZero()?"0x":t.toHexString()}emptyValue(){return"0x"}};Vr.FieldTypeNumberBits=Dh;Vr.FieldTypeUint8=new Dh(8);Vr.FieldTypeUint32=new Dh(32);Vr.FieldTypeUint64=new Dh(64);Vr.FieldTypeUint256=new Dh(256);Vr.FieldTypeBool=new class{canonicalize(r){return r==="0x01"||r==="0x"?r:r?"0x01":"0x"}emptyValue(){return"0x"}};Vr.FieldTypeSignatureTuples=new class{canonicalize(r){return(0,Phe.map)(r,pz.getSignatureTuple)}emptyValue(){return[]}}});var IR=M(ui=>{y();b();Object.defineProperty(ui,"__esModule",{value:!0});ui.decodeObjectFromRLP=ui.GetHexlifyRLP=ui.convertKeysToRLP=ui.getWeightedPublicKeyRLP=void 0;var rd=(ua(),aa(ca)),Tr=i5(),BR=a5(),ds=yw(),Ahe=r=>{if((0,rd.isArray)(r)&&r.length==2){let e=r;return[ds.HexStr.fromNumber(e[0]),(0,BR.getCompressedPublicKey)(e[1])]}else if((0,rd.has)(r,"weight")&&(0,rd.has)(r,"key")){let e=r;return[ds.HexStr.fromNumber(e.weight),(0,BR.getCompressedPublicKey)(e.key)]}else throw new Error("Malformed WeightedPublicKeys")};ui.getWeightedPublicKeyRLP=Ahe;var Ehe=({key:r,keys:e,type:t,threshold:n})=>{if((0,rd.isArray)(e))switch(Number(t)){case Tr.AccountKeyType.WeightedMultiSig:return ds.RLP.encode([ds.HexStr.from(n),(0,rd.map)(e,s=>(0,ui.getWeightedPublicKeyRLP)(s))]);case Tr.AccountKeyType.RoleBased:return ds.RLP.encode((0,rd.map)(e,({key:s,keys:i,type:o,threshold:a})=>(0,ui.GetHexlifyRLP)(o,(0,ui.convertKeysToRLP)({type:o,key:s,keys:i,threshold:a}))))}else switch(Number(t)){case Tr.AccountKeyType.Fail:return"0x03c0";case Tr.AccountKeyType.Legacy:return"0x01c0";case Tr.AccountKeyType.Nil:return"0x80";case Tr.AccountKeyType.Public:return ds.RLP.encode((0,BR.getCompressedPublicKey)(r))}throw new Error("Invalid account key type")};ui.convertKeysToRLP=Ehe;var She=(r,e)=>{switch(r){case Tr.AccountKeyType.RoleBased:return ds.HexStr.concat(ds.HexStr.from(Tr.AccountKeyType.RoleBased),e);case Tr.AccountKeyType.WeightedMultiSig:return ds.HexStr.concat(ds.HexStr.from(Tr.AccountKeyType.WeightedMultiSig),e);case Tr.AccountKeyType.Public:return ds.HexStr.concat(ds.HexStr.from(Tr.AccountKeyType.Public),e)}return e};ui.GetHexlifyRLP=She;var khe=r=>{switch(ds.HexStr.toNumber(r.substring(0,4))){case Tr.AccountKeyType.RoleBased:{let t=ds.RLP.decode("0x"+r.substring(4));return{type:Tr.AccountKeyType.RoleBased,keys:(0,rd.map)(t,n=>(0,ui.decodeObjectFromRLP)(n))}}case Tr.AccountKeyType.WeightedMultiSig:{let[t,n]=ds.RLP.decode("0x"+r.substring(4));return{type:Tr.AccountKeyType.WeightedMultiSig,threshold:Number(t),keys:(0,rd.map)(n,([s,i])=>({weight:Number(s),key:i}))}}case Tr.AccountKeyType.Public:return{type:Tr.AccountKeyType.Public,key:ds.RLP.decode("0x"+String(r).substring(4))};case Tr.AccountKeyType.Nil:return{type:Tr.AccountKeyType.Nil,key:"0x80"};case Tr.AccountKeyType.Legacy:return{type:Tr.AccountKeyType.Legacy,key:"0x03c0"};case Tr.AccountKeyType.Fail:return{type:Tr.AccountKeyType.Fail,key:"0x03c0"}}throw new Error("Parse Account Key from RLP errors: Invalid Account key type!")};ui.decodeObjectFromRLP=khe});var yz=M(iu=>{y();b();Object.defineProperty(iu,"__esModule",{value:!0});iu.FieldTypeAccountKey=iu.FieldTypeAccountKeyList=iu.FieldTypeWeightedPublicKeys=iu.FieldTypeCompressedPubKey=void 0;var Bv=Ro(),mf=(ua(),aa(ca)),MR=IR();iu.FieldTypeCompressedPubKey=new class{canonicalize(r){return r}emptyValue(){return"0x000000000000000000000000000000000000000000000000000000000000000000"}};iu.FieldTypeWeightedPublicKeys=new class{canonicalize(r){if(!(0,mf.isArray)(r))throw new Error("Malformed WeightedPublicKeys");return(0,mf.map)(r,e=>{if((0,mf.isArray)(e)&&e.length==2){let t=e;return{weight:t[0],key:(0,Bv.getCompressedPublicKey)(t[1])}}return{weight:e.weight,key:(0,Bv.getCompressedPublicKey)(e.key)}})}emptyValue(){return[]}};iu.FieldTypeAccountKeyList=new class{canonicalize(r){if(!(0,mf.isArray)(r))throw new Error("Malformed RoleBasedKeys");return(0,mf.map)(r,e=>{let t=(0,mf.cloneDeep)(e);if((0,mf.isString)(t)&&Bv.HexStr.isHex(t)&&(t=(0,MR.decodeObjectFromRLP)(t)),typeof t=="object"&&(0,mf.has)(t,"type")&&(0,Bv.isEmbeddableAccountKeyType)(Number(t.type)))return t;throw new Error(`AccountKeyType ${t?.type} cannot be inside an AccountKeyRoleBased`)})}emptyValue(){return[]}};iu.FieldTypeAccountKey=new class{canonicalize(r){if((0,mf.isString)(r)&&Bv.HexStr.isHex(r))return r;{let e=(0,MR.convertKeysToRLP)(r);return(0,MR.GetHexlifyRLP)(r.type,e)}}emptyValue(){return"0x80"}}});var bz=M(Dy=>{y();b();Object.defineProperty(Dy,"__esModule",{value:!0});Dy.FieldSetFactory=Dy.FieldSet=void 0;var L6=(ua(),aa(ca)),Uy=Ro(),U6=class{constructor(){this.type=-1,this.typeName="",this.fieldTypes={},this.fields={},this.type=this._static.type,this.typeName=this._static.typeName,this.fieldTypes=this._static.fieldTypes}get _static(){return this.constructor}setFields(e){this.fields={},(0,L6.forOwn)(this.fieldTypes,(t,n)=>{if(e[n]===void 0){this.fields[n]=null;return}try{this.fields[n]=t.canonicalize(e[n])}catch(s){throw new Error(`Cannot set field '${n}' to '${JSON.stringify(e[n])}': ${s}`)}})}setFieldsFromArray(e,t){this.fields={};for(let n=0;n<t.length;n++){let s=e[n],i=this.fieldTypes[s];if(!i)throw new Error(`Unknown field '${s}' for '${this.typeName}' (type ${this.type})`);try{this.fields[s]=i.canonicalize(t[n])}catch(o){throw new Error(`Cannot set field '${s}' to '${JSON.stringify(t[n])}': ${o}`)}}}getField(e){let t=this.fields[e];if(t==null)throw new Error(`Missing field '${e}' for '${this.typeName}' (type ${this.type})`);return t}getFields(e){return(0,L6.map)(e,t=>this.getField(t))}toObject(){return this.fields}throwTypeError(e){throw new Error(`${e} for '${this.typeName}' (type ${Uy.HexStr.fromNumber(this.type)})`)}};Dy.FieldSet=U6;U6.type=-1;var jR=class{constructor(e){this.registry={},this.requiredFields=e||[]}add(e){let t=e.type,n=e.fieldTypes;if(t===-1)throw new Error("Cannot register TypedFields: Missing type");if(this.registry[t])throw new Error(`Cannot register TypedFields: type ${t} already registered`);if(!n)throw new Error("Cannot register TypedFields: Missing fieldTypes");for(let s of this.requiredFields)if(!n[s])throw new Error(`Cannot register TypedFields: Missing required field '${s}'`);this.registry[t]=e}has(e){return Uy.HexStr.isHex(e)?(0,L6.has)(this.registry,Uy.HexStr.toNumber(e)):(0,L6.has)(this.registry,e)}lookup(e){if(!this.has(e))throw new Error(`Unsupported type '${Uy.HexStr.fromNumber(e)}'`);return Uy.HexStr.isHex(e)?this.registry[Uy.HexStr.toNumber(e)]:this.registry[e]}fromObject(e){let t=this.lookup(e?.type),n=new t;return n.setFields(e),n}};Dy.FieldSetFactory=jR});var bf=M(yf=>{y();b();var Ohe=yf&&yf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),FR=yf&&yf.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ohe(e,r,t)};Object.defineProperty(yf,"__esModule",{value:!0});FR(mz(),yf);FR(yz(),yf);FR(bz(),yf)});var LR=M(hs=>{y();b();Object.defineProperty(hs,"__esModule",{value:!0});hs.AccountKeyRoleBased=hs.AccountKeyWeightedMultiSig=hs.AccountKeyFail=hs.AccountKeyPublic=hs.AccountKeyLegacy=hs.AccountKeyNil=hs.AccountKey=void 0;var Va=bf(),Mn=Ro(),Bo=IR(),xf=class extends Va.FieldSet{};hs.AccountKey=xf;var qy=class extends xf{toRLP(){return(0,Bo.convertKeysToRLP)({type:Mn.AccountKeyType.Nil})}setFieldsFromRLP(e){e!=="0x80"&&this.throwTypeError(`Invalid RLP string '${e}'`),this.setFields({type:Mn.AccountKeyType.Nil})}};hs.AccountKeyNil=qy;qy.type=Mn.AccountKeyType.Nil;qy.typeName="AccountKeyNil";qy.fieldTypes={type:Va.FieldTypeUint8};var Hy=class extends xf{toRLP(){return(0,Bo.convertKeysToRLP)({type:Mn.AccountKeyType.Legacy})}setFieldsFromRLP(e){e!=="0x01c0"&&this.throwTypeError(`Invalid RLP string '${e}'`),this.setFields({type:Mn.AccountKeyType.Legacy})}};hs.AccountKeyLegacy=Hy;Hy.type=Mn.AccountKeyType.Legacy;Hy.typeName="AccountKeyLegacy";Hy.fieldTypes={type:Va.FieldTypeUint8};var Gy=class extends xf{toRLP(){let e=(0,Bo.convertKeysToRLP)({key:this.getField("key"),type:Mn.AccountKeyType.Public});return(0,Bo.GetHexlifyRLP)(Mn.AccountKeyType.Public,e)}setFieldsFromRLP(e){let{type:t,key:n}=(0,Bo.decodeObjectFromRLP)(e);t!==this.type&&this.throwTypeError(`Invalid type '${t}`),this.setFields({type:t,key:n})}};hs.AccountKeyPublic=Gy;Gy.type=Mn.AccountKeyType.Public;Gy.typeName="AccountKeyPublic";Gy.fieldTypes={type:Va.FieldTypeUint8,key:Va.FieldTypeCompressedPubKey};var Ky=class extends xf{toRLP(){return(0,Bo.convertKeysToRLP)({type:Mn.AccountKeyType.Fail})}setFieldsFromRLP(e){e!=="0x03c0"&&this.throwTypeError(`Invalid RLP string '${e}'`),this.setFields({type:Mn.AccountKeyType.Fail})}};hs.AccountKeyFail=Ky;Ky.type=Mn.AccountKeyType.Fail;Ky.typeName="AccountKeyFail";Ky.fieldTypes={type:Va.FieldTypeUint8};var Vy=class extends xf{toRLP(){let[e,t]=this.getFields(["threshold","keys"]),n=(0,Bo.convertKeysToRLP)({threshold:e,keys:t,type:Mn.AccountKeyType.WeightedMultiSig});return(0,Bo.GetHexlifyRLP)(Mn.AccountKeyType.WeightedMultiSig,n)}setFieldsFromRLP(e){let{type:t,keys:n,threshold:s}=(0,Bo.decodeObjectFromRLP)(e);t!==this.type&&this.throwTypeError(`Invalid type '${t}`),this.setFields({type:t,threshold:s,keys:n})}};hs.AccountKeyWeightedMultiSig=Vy;Vy.type=Mn.AccountKeyType.WeightedMultiSig;Vy.typeName="AccountKeyWeightedMultiSig";Vy.fieldTypes={type:Va.FieldTypeUint8,threshold:Va.FieldTypeUint32,keys:Va.FieldTypeWeightedPublicKeys};var zy=class extends xf{toRLP(){let e=this.getField("keys"),t=(0,Bo.convertKeysToRLP)({type:Mn.AccountKeyType.RoleBased,keys:e});return(0,Bo.GetHexlifyRLP)(Mn.AccountKeyType.RoleBased,t)}setFieldsFromRLP(e){let{type:t,keys:n}=(0,Bo.decodeObjectFromRLP)(e);t!==this.type&&this.throwTypeError(`Invalid type '${t}`),this.setFields({type:t,keys:n})}};hs.AccountKeyRoleBased=zy;zy.type=Mn.AccountKeyType.RoleBased;zy.typeName="AccountKeyRoleBased";zy.fieldTypes={type:Va.FieldTypeUint8,keys:Va.FieldTypeAccountKeyList}});var xz=M(Iv=>{y();b();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.AccountKeyFactory=void 0;Iv.parseAccountKey=Nhe;var The=bf(),za=Ro(),Jy=LR(),qh=class extends The.FieldSetFactory{constructor(){let e=["type"];super(e),this.add(Jy.AccountKeyNil),this.add(Jy.AccountKeyLegacy),this.add(Jy.AccountKeyPublic),this.add(Jy.AccountKeyFail),this.add(Jy.AccountKeyWeightedMultiSig),this.add(Jy.AccountKeyRoleBased)}_fromObject(e){return e.type==za.AccountKeyType.WeightedMultiSig&&e.weightedPublicKeys&&(e.keys=e.weightedPublicKeys),super.fromObject(e)}static fromObject(e){return new qh()._fromObject(e)}_fromRLP(e){if(e=="0x80")return this.fromObject({type:za.AccountKeyType.Nil});let t=(0,za.getTypePrefix)(e);if(!(0,za.isKlaytnAccountKeyType)(t))throw new Error("Not a Klaytn account key");let n=this.lookup(t),s=new n;return s.setFieldsFromRLP(e),s}static fromRLP(e){return new qh()._fromRLP(e)}};Iv.AccountKeyFactory=qh;function Nhe(r){let e=qh.fromRLP(r),t=e.toObject();if(e.type==za.AccountKeyType.Nil||e.type==za.AccountKeyType.Legacy||e.type==za.AccountKeyType.Fail)return{type:e.type};if(e.type==za.AccountKeyType.Public)return{type:e.type,key:t.key};if(e.type==za.AccountKeyType.WeightedMultiSig)return{type:e.type,threshold:za.HexStr.toNumber(t.threshold),keys:e.getField("keys")};if(e.type==za.AccountKeyType.RoleBased)return{type:e.type,keys:e.getField("keys")};throw new Error(`Unknown AccountKeyType ${e.type}`)}});var _z=M(nd=>{y();b();var Che=nd&&nd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wz=nd&&nd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Che(e,r,t)};Object.defineProperty(nd,"__esModule",{value:!0});wz(xz(),nd);wz(LR(),nd)});var Mv=M(D6=>{y();b();Object.defineProperty(D6,"__esModule",{value:!0});D6.KlaytnTx=void 0;var Rhe=bf(),Ja=Ro(),UR=class extends Rhe.FieldSet{sigFeePayerRLP(){(0,Ja.isFeePayerSigTxType)(this.type)?this.throwTypeError("sigFeePayerRLP not implemented"):this.throwTypeError("sigFeePayerRLP not defined")}senderTxHashRLP(){if((0,Ja.isFeePayerSigTxType)(this.type))this.throwTypeError("senderTxHashRLP not implemented");else return this.txHashRLP()}addSenderSig(e){var t;let n=(0,Ja.getSignatureTuple)(e);(t=this.fields).txSignatures||(t.txSignatures=[]),this.fields.txSignatures.push(n)}addFeePayerSig(e){var t;let n=(0,Ja.getSignatureTuple)(e);(t=this.fields).feePayerSignatures||(t.feePayerSignatures=[]),this.fields.feePayerSignatures.push(n)}encodeNestedRLP(e,t){let n=this.getFields(e),s=this.getFields(t);return Ja.RLP.encode([Ja.RLP.encode(n),...s,"0x","0x"])}encodeTypePrefixedRLP(e){let t=this.getFields(e);return Ja.HexStr.concat(this.getField("type"),Ja.RLP.encode(t))}decodeTypePrefixedRLP(e,t){let n=Ja.HexStr.toNumber(e.substring(0,4));n!==this.type&&this.throwTypeError(`Invalid type '${n}`);let s="0x"+String(e).substring(4),i=["type",...t],o=[this.type,...Ja.RLP.decode(s)];this.setFieldsFromArray(i,o)}decodeTypePrefixedVarlenRLP(e,...t){let n=Ja.RLP.decode("0x"+e.substring(4)).length;for(let s=0;s<t.length;s++){let i=t[s];if(n==i.length){this.decodeTypePrefixedRLP(e,i);return}}this.throwTypeError(`Invalid RLP string '${e}'`)}};D6.KlaytnTx=UR});var DR=M(fi=>{y();b();Object.defineProperty(fi,"__esModule",{value:!0});fi.TxTypeFeeDelegatedCancel=fi.TxTypeFeeDelegatedAccountUpdate=fi.TxTypeFeeDelegatedSmartContractExecution=fi.TxTypeFeeDelegatedSmartContractDeploy=fi.TxTypeFeeDelegatedValueTransferMemo=fi.TxTypeFeeDelegatedValueTransfer=void 0;var pe=bf(),eb=Ro(),tb=Mv(),Wy=class extends tb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","txSignatures","feePayer","feePayerSignatures"])}};fi.TxTypeFeeDelegatedValueTransfer=Wy;Wy.type=eb.TxType.FeeDelegatedValueTransfer;Wy.typeName="TxTypeFeeDelegatedValueTransfer";Wy.fieldTypes={type:pe.FieldTypeUint8,nonce:pe.FieldTypeUint64,gasPrice:pe.FieldTypeUint256,gasLimit:pe.FieldTypeUint64,to:pe.FieldTypeAddress,value:pe.FieldTypeUint256,from:pe.FieldTypeAddress,chainId:pe.FieldTypeUint64,txSignatures:pe.FieldTypeSignatureTuples,feePayer:pe.FieldTypeAddress,feePayerSignatures:pe.FieldTypeSignatureTuples};var $y=class extends tb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}};fi.TxTypeFeeDelegatedValueTransferMemo=$y;$y.type=eb.TxType.FeeDelegatedValueTransferMemo;$y.typeName="TxTypeFeeDelegatedValueTransferMemo";$y.fieldTypes={type:pe.FieldTypeUint8,nonce:pe.FieldTypeUint64,gasPrice:pe.FieldTypeUint256,gasLimit:pe.FieldTypeUint64,to:pe.FieldTypeAddress,value:pe.FieldTypeUint256,from:pe.FieldTypeAddress,data:pe.FieldTypeBytes,chainId:pe.FieldTypeUint64,txSignatures:pe.FieldTypeSignatureTuples,feePayer:pe.FieldTypeAddress,feePayerSignatures:pe.FieldTypeSignatureTuples};var Zy=class extends tb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures","feePayer","feePayerSignatures"])}};fi.TxTypeFeeDelegatedSmartContractDeploy=Zy;Zy.type=eb.TxType.FeeDelegatedSmartContractDeploy;Zy.typeName="TxTypeFeeDelegatedSmartContractDeploy";Zy.fieldTypes={type:pe.FieldTypeUint8,nonce:pe.FieldTypeUint64,gasPrice:pe.FieldTypeUint256,gasLimit:pe.FieldTypeUint64,to:pe.FieldTypeAddress,value:pe.FieldTypeUint256,from:pe.FieldTypeAddress,data:pe.FieldTypeBytes,humanReadable:pe.FieldTypeBool,codeFormat:pe.FieldTypeUint8,chainId:pe.FieldTypeUint64,txSignatures:pe.FieldTypeSignatureTuples,feePayer:pe.FieldTypeAddress,feePayerSignatures:pe.FieldTypeSignatureTuples};var Qy=class extends tb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures","feePayer","feePayerSignatures"])}};fi.TxTypeFeeDelegatedSmartContractExecution=Qy;Qy.type=eb.TxType.FeeDelegatedSmartContractExecution;Qy.typeName="TxTypeFeeDelegatedSmartContractExecution";Qy.fieldTypes={type:pe.FieldTypeUint8,nonce:pe.FieldTypeUint64,gasPrice:pe.FieldTypeUint256,gasLimit:pe.FieldTypeUint64,to:pe.FieldTypeAddress,value:pe.FieldTypeUint256,from:pe.FieldTypeAddress,data:pe.FieldTypeBytes,chainId:pe.FieldTypeUint64,txSignatures:pe.FieldTypeSignatureTuples,feePayer:pe.FieldTypeAddress,feePayerSignatures:pe.FieldTypeSignatureTuples};var Xy=class extends tb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","key","txSignatures"],["nonce","gasPrice","gasLimit","from","key","txSignatures","feePayer","feePayerSignatures"])}};fi.TxTypeFeeDelegatedAccountUpdate=Xy;Xy.type=eb.TxType.FeeDelegatedAccountUpdate;Xy.typeName="TxTypeFeeDelegatedAccountUpdate";Xy.fieldTypes={type:pe.FieldTypeUint8,nonce:pe.FieldTypeUint64,gasPrice:pe.FieldTypeUint256,gasLimit:pe.FieldTypeUint64,from:pe.FieldTypeAddress,key:pe.FieldTypeAccountKey,chainId:pe.FieldTypeUint64,txSignatures:pe.FieldTypeSignatureTuples,feePayer:pe.FieldTypeAddress,feePayerSignatures:pe.FieldTypeSignatureTuples};var Yy=class extends tb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","txSignatures"],["nonce","gasPrice","gasLimit","from","txSignatures","feePayer","feePayerSignatures"])}};fi.TxTypeFeeDelegatedCancel=Yy;Yy.type=eb.TxType.FeeDelegatedCancel;Yy.typeName="TxTypeFeeDelegatedCancel";Yy.fieldTypes={type:pe.FieldTypeUint8,nonce:pe.FieldTypeUint64,gasPrice:pe.FieldTypeUint256,gasLimit:pe.FieldTypeUint64,from:pe.FieldTypeAddress,chainId:pe.FieldTypeUint64,txSignatures:pe.FieldTypeSignatureTuples,feePayer:pe.FieldTypeAddress,feePayerSignatures:pe.FieldTypeSignatureTuples}});var qR=M(li=>{y();b();Object.defineProperty(li,"__esModule",{value:!0});li.TxTypeCancel=li.TxTypeAccountUpdate=li.TxTypeSmartContractExecution=li.TxTypeSmartContractDeploy=li.TxTypeValueTransferMemo=li.TxTypeValueTransfer=void 0;var _e=bf(),cb=Ro(),ub=Mv(),rb=class extends ub.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","txSignatures"])}};li.TxTypeValueTransfer=rb;rb.type=cb.TxType.ValueTransfer;rb.typeName="TxTypeValueTransfer";rb.fieldTypes={type:_e.FieldTypeUint8,nonce:_e.FieldTypeUint64,gasPrice:_e.FieldTypeUint256,gasLimit:_e.FieldTypeUint64,to:_e.FieldTypeAddress,value:_e.FieldTypeUint256,from:_e.FieldTypeAddress,chainId:_e.FieldTypeUint64,txSignatures:_e.FieldTypeSignatureTuples};var nb=class extends ub.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}};li.TxTypeValueTransferMemo=nb;nb.type=cb.TxType.ValueTransferMemo;nb.typeName="TxTypeValueTransferMemo";nb.fieldTypes={type:_e.FieldTypeUint8,nonce:_e.FieldTypeUint64,gasPrice:_e.FieldTypeUint256,gasLimit:_e.FieldTypeUint64,to:_e.FieldTypeAddress,value:_e.FieldTypeUint256,from:_e.FieldTypeAddress,data:_e.FieldTypeBytes,chainId:_e.FieldTypeUint64,txSignatures:_e.FieldTypeSignatureTuples};var sb=class extends ub.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","codeFormat","txSignatures"])}};li.TxTypeSmartContractDeploy=sb;sb.type=cb.TxType.SmartContractDeploy;sb.typeName="TxTypeSmartContractDeploy";sb.fieldTypes={type:_e.FieldTypeUint8,nonce:_e.FieldTypeUint64,gasPrice:_e.FieldTypeUint256,gasLimit:_e.FieldTypeUint64,to:_e.FieldTypeAddress,value:_e.FieldTypeUint256,from:_e.FieldTypeAddress,data:_e.FieldTypeBytes,humanReadable:_e.FieldTypeBool,codeFormat:_e.FieldTypeUint8,chainId:_e.FieldTypeUint64,txSignatures:_e.FieldTypeSignatureTuples};var ib=class extends ub.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","txSignatures"])}};li.TxTypeSmartContractExecution=ib;ib.type=cb.TxType.SmartContractExecution;ib.typeName="TxTypeSmartContractExecution";ib.fieldTypes={type:_e.FieldTypeUint8,nonce:_e.FieldTypeUint64,gasPrice:_e.FieldTypeUint256,gasLimit:_e.FieldTypeUint64,to:_e.FieldTypeAddress,value:_e.FieldTypeUint256,from:_e.FieldTypeAddress,data:_e.FieldTypeBytes,chainId:_e.FieldTypeUint64,txSignatures:_e.FieldTypeSignatureTuples};var ob=class extends ub.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","from","key","txSignatures"])}};li.TxTypeAccountUpdate=ob;ob.type=cb.TxType.AccountUpdate;ob.typeName="TxTypeAccountUpdate";ob.fieldTypes={type:_e.FieldTypeUint8,nonce:_e.FieldTypeUint64,gasPrice:_e.FieldTypeUint256,gasLimit:_e.FieldTypeUint64,from:_e.FieldTypeAddress,key:_e.FieldTypeAccountKey,chainId:_e.FieldTypeUint64,txSignatures:_e.FieldTypeSignatureTuples};var ab=class extends ub.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from"],["chainId"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","txSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedRLP(e,["nonce","gasPrice","gasLimit","from","txSignatures"])}};li.TxTypeCancel=ab;ab.type=cb.TxType.Cancel;ab.typeName="TxTypeCancel";ab.fieldTypes={type:_e.FieldTypeUint8,nonce:_e.FieldTypeUint64,gasPrice:_e.FieldTypeUint256,gasLimit:_e.FieldTypeUint64,from:_e.FieldTypeAddress,chainId:_e.FieldTypeUint64,txSignatures:_e.FieldTypeSignatureTuples}});var HR=M(di=>{y();b();Object.defineProperty(di,"__esModule",{value:!0});di.TxTypeFeeDelegatedCancelWithRatio=di.TxTypeFeeDelegatedAccountUpdateWithRatio=di.TxTypeFeeDelegatedSmartContractExecutionWithRatio=di.TxTypeFeeDelegatedSmartContractDeployWithRatio=di.TxTypeFeeDelegatedValueTransferMemoWithRatio=di.TxTypeFeeDelegatedValueTransferWithRatio=void 0;var ce=bf(),mb=Ro(),yb=Mv(),fb=class extends yb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};di.TxTypeFeeDelegatedValueTransferWithRatio=fb;fb.type=mb.TxType.FeeDelegatedValueTransferWithRatio;fb.typeName="TxTypeFeeDelegatedValueTransferWithRatio";fb.fieldTypes={type:ce.FieldTypeUint8,nonce:ce.FieldTypeUint64,gasPrice:ce.FieldTypeUint256,gasLimit:ce.FieldTypeUint64,to:ce.FieldTypeAddress,value:ce.FieldTypeUint256,from:ce.FieldTypeAddress,feeRatio:ce.FieldTypeUint8,chainId:ce.FieldTypeUint64,txSignatures:ce.FieldTypeSignatureTuples,feePayer:ce.FieldTypeAddress,feePayerSignatures:ce.FieldTypeSignatureTuples};var lb=class extends yb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};di.TxTypeFeeDelegatedValueTransferMemoWithRatio=lb;lb.type=mb.TxType.FeeDelegatedValueTransferMemoWithRatio;lb.typeName="TxTypeFeeDelegatedValueTransferMemoWithRatio";lb.fieldTypes={type:ce.FieldTypeUint8,nonce:ce.FieldTypeUint64,gasPrice:ce.FieldTypeUint256,gasLimit:ce.FieldTypeUint64,to:ce.FieldTypeAddress,value:ce.FieldTypeUint256,from:ce.FieldTypeAddress,data:ce.FieldTypeBytes,feeRatio:ce.FieldTypeUint8,chainId:ce.FieldTypeUint64,txSignatures:ce.FieldTypeSignatureTuples,feePayer:ce.FieldTypeAddress,feePayerSignatures:ce.FieldTypeSignatureTuples};var db=class extends yb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","humanReadable","feeRatio","codeFormat","txSignatures","feePayer","feePayerSignatures"])}};di.TxTypeFeeDelegatedSmartContractDeployWithRatio=db;db.type=mb.TxType.FeeDelegatedSmartContractDeployWithRatio;db.typeName="TxTypeFeeDelegatedSmartContractDeployWithRatio";db.fieldTypes={type:ce.FieldTypeUint8,nonce:ce.FieldTypeUint64,gasPrice:ce.FieldTypeUint256,gasLimit:ce.FieldTypeUint64,to:ce.FieldTypeAddress,value:ce.FieldTypeUint256,from:ce.FieldTypeAddress,data:ce.FieldTypeBytes,humanReadable:ce.FieldTypeBool,feeRatio:ce.FieldTypeUint8,codeFormat:ce.FieldTypeUint8,chainId:ce.FieldTypeUint64,txSignatures:ce.FieldTypeSignatureTuples,feePayer:ce.FieldTypeAddress,feePayerSignatures:ce.FieldTypeSignatureTuples};var hb=class extends yb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","to","value","from","data","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","to","value","from","data","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};di.TxTypeFeeDelegatedSmartContractExecutionWithRatio=hb;hb.type=mb.TxType.FeeDelegatedSmartContractExecutionWithRatio;hb.typeName="TxTypeFeeDelegatedSmartContractExecutionWithRatio";hb.fieldTypes={type:ce.FieldTypeUint8,nonce:ce.FieldTypeUint64,gasPrice:ce.FieldTypeUint256,gasLimit:ce.FieldTypeUint64,to:ce.FieldTypeAddress,value:ce.FieldTypeUint256,from:ce.FieldTypeAddress,data:ce.FieldTypeBytes,feeRatio:ce.FieldTypeUint8,chainId:ce.FieldTypeUint64,txSignatures:ce.FieldTypeSignatureTuples,feePayer:ce.FieldTypeAddress,feePayerSignatures:ce.FieldTypeSignatureTuples};var gb=class extends yb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","key","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","from","key","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};di.TxTypeFeeDelegatedAccountUpdateWithRatio=gb;gb.type=mb.TxType.FeeDelegatedAccountUpdateWithRatio;gb.typeName="TxTypeFeeDelegatedAccountUpdateWithRatio";gb.fieldTypes={type:ce.FieldTypeUint8,nonce:ce.FieldTypeUint64,gasPrice:ce.FieldTypeUint256,gasLimit:ce.FieldTypeUint64,from:ce.FieldTypeAddress,key:ce.FieldTypeAccountKey,feeRatio:ce.FieldTypeUint8,chainId:ce.FieldTypeUint64,txSignatures:ce.FieldTypeSignatureTuples,feePayer:ce.FieldTypeAddress,feePayerSignatures:ce.FieldTypeSignatureTuples};var pb=class extends yb.KlaytnTx{sigRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","feeRatio"],["chainId"])}sigFeePayerRLP(){return this.encodeNestedRLP(["type","nonce","gasPrice","gasLimit","from","feeRatio"],["feePayer","chainId"])}senderTxHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures"])}txHashRLP(){return this.encodeTypePrefixedRLP(["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}setFieldsFromRLP(e){this.decodeTypePrefixedVarlenRLP(e,["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures"],["nonce","gasPrice","gasLimit","from","feeRatio","txSignatures","feePayer","feePayerSignatures"])}};di.TxTypeFeeDelegatedCancelWithRatio=pb;pb.type=mb.TxType.FeeDelegatedCancelWithRatio;pb.typeName="TxTypeFeeDelegatedCancelWithRatio";pb.fieldTypes={type:ce.FieldTypeUint8,nonce:ce.FieldTypeUint64,gasPrice:ce.FieldTypeUint256,gasLimit:ce.FieldTypeUint64,from:ce.FieldTypeAddress,feeRatio:ce.FieldTypeUint8,chainId:ce.FieldTypeUint64,txSignatures:ce.FieldTypeSignatureTuples,feePayer:ce.FieldTypeAddress,feePayerSignatures:ce.FieldTypeSignatureTuples}});var Pz=M(_b=>{y();b();Object.defineProperty(_b,"__esModule",{value:!0});_b.KlaytnTxFactory=void 0;_b.parseTransaction=jhe;var sd=OP(),Bhe=XY(),Ihe=vR(),Mhe=bf(),zr=Ro(),vz=(ua(),aa(ca)),bb=DR(),xb=qR(),wb=HR(),GR=class extends Mhe.FieldSetFactory{constructor(){let e=["type","chainId","txSignatures"];super(e),this.add(xb.TxTypeValueTransfer),this.add(xb.TxTypeValueTransferMemo),this.add(xb.TxTypeSmartContractDeploy),this.add(xb.TxTypeSmartContractExecution),this.add(xb.TxTypeAccountUpdate),this.add(xb.TxTypeCancel),this.add(bb.TxTypeFeeDelegatedValueTransfer),this.add(bb.TxTypeFeeDelegatedValueTransferMemo),this.add(bb.TxTypeFeeDelegatedSmartContractDeploy),this.add(bb.TxTypeFeeDelegatedSmartContractExecution),this.add(bb.TxTypeFeeDelegatedAccountUpdate),this.add(bb.TxTypeFeeDelegatedCancel),this.add(wb.TxTypeFeeDelegatedValueTransferWithRatio),this.add(wb.TxTypeFeeDelegatedValueTransferMemoWithRatio),this.add(wb.TxTypeFeeDelegatedSmartContractDeployWithRatio),this.add(wb.TxTypeFeeDelegatedSmartContractExecutionWithRatio),this.add(wb.TxTypeFeeDelegatedAccountUpdateWithRatio),this.add(wb.TxTypeFeeDelegatedCancelWithRatio)}fromObject(e){return e.input&&(e.data=e.input),(zr.HexStr.fromNumber(e.type)==zr.HexStr.fromNumber(zr.TxType.SmartContractDeploy)||zr.HexStr.fromNumber(e.type)==zr.HexStr.fromNumber(zr.TxType.FeeDelegatedSmartContractDeploy)||zr.HexStr.fromNumber(e.type)==zr.HexStr.fromNumber(zr.TxType.FeeDelegatedSmartContractDeployWithRatio))&&(e.to="0x"),super.fromObject(e)}fromRLP(e){let t=(0,zr.getTypePrefix)(e);if(!(0,zr.isKlaytnTxType)(t))throw new Error("Not a Klaytn raw transaction");let n=this.lookup(t),s=new n;return s.setFieldsFromRLP(e),s}};_b.KlaytnTxFactory=new GR;function jhe(r){let e=(0,zr.getTypePrefix)(r);if((0,zr.isKlaytnTxType)(e)){let t=_b.KlaytnTxFactory.fromRLP(r).toObject();try{let n={hash:(0,Bhe.keccak256)(r),to:t.to?zr.HexStr.toAddress(t.to):void 0,from:t.from?zr.HexStr.toAddress(t.from):void 0,nonce:zr.HexStr.toNumber(t.nonce),gasLimit:(0,sd.hexValue)(t.gasLimit),gasPrice:(0,sd.hexValue)(t.gasPrice),data:t.data??"0x",value:(0,sd.hexValue)(t.value??0),chainId:t.chainId?zr.HexStr.toNumber(t.chainId):void 0,type:t.type?zr.HexStr.toNumber(t.type):null,accessList:t.accessList,key:t.key,humanReadable:t.humanReadable?zr.HexStr.toBoolean(t.humanReadable):void 0,codeFormat:t.codeFormat?zr.HexStr.toNumber(t.codeFormat):void 0,feePayer:t.feePayer?zr.HexStr.toAddress(t.feePayer):void 0,txSignatures:t.txSignatures,feePayerSignatures:t.feePayerSignatures,feeRatio:t.feeRatio?zr.HexStr.toNumber(t.feeRatio):void 0};return(0,vz.forOwn)(n,(s,i)=>{s===void 0&&delete n[i]}),n}catch{return t}}else{let t=Ihe.Transaction.from(r),n={from:t.from??void 0,to:t.to??void 0,nonce:t.nonce,data:t.data,r:t.signature?.r,s:t.signature?.s,v:t.signature?.v??void 0,hash:t.hash??void 0,accessList:t.accessList??void 0,chainId:Number(t.chainId),type:t?.type,gasLimit:(0,sd.hexValue)(t.gasLimit),gasPrice:t.gasPrice?(0,sd.hexValue)(t.gasPrice):void 0,value:(0,sd.hexValue)(t.value),maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,sd.hexValue)(t.maxPriorityFeePerGas):void 0,maxFeePerGas:t.maxFeePerGas?(0,sd.hexValue)(t.maxFeePerGas):void 0};return typeof n.v=="number"&&(n.v=n.v===27?0:1),(0,vz.forOwn)(n,(s,i)=>{s===void 0&&delete n[i]}),n}}});var Az=M(Wa=>{y();b();var Fhe=Wa&&Wa.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jv=Wa&&Wa.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Fhe(e,r,t)};Object.defineProperty(Wa,"__esModule",{value:!0});jv(Pz(),Wa);jv(qR(),Wa);jv(DR(),Wa);jv(HR(),Wa);jv(Mv(),Wa)});var Hh=M(ou=>{y();b();var Lhe=ou&&ou.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),q6=ou&&ou.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Lhe(e,r,t)};Object.defineProperty(ou,"__esModule",{value:!0});q6(_z(),ou);q6(bf(),ou);q6(Az(),ou);q6(Ro(),ou)});var Xz=M((o4e,K6)=>{y();b();var Ez,Sz,kz,Oz,Tz,Nz,Cz,Rz,Bz,Iz,Mz,jz,Fz,H6,KR,Lz,Uz,Dz,vb,qz,Hz,Gz,Kz,Vz,zz,Jz,Wz,$z,G6,Zz,Qz;(function(r){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof K6=="object"&&typeof K6.exports=="object"?r(t(e,t(K6.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(i,o){return n[i]=s?s(i,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])};Ez=function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(s,i);function o(){this.constructor=s}s.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},Sz=Object.assign||function(s){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(s[c]=i[c])}return s},kz=function(s,i){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)i.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(o[a[c]]=s[a[c]]);return o},Oz=function(s,i,o,a){var c=arguments.length,f=c<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(s,i,o,a);else for(var p=s.length-1;p>=0;p--)(g=s[p])&&(f=(c<3?g(f):c>3?g(i,o,f):g(i,o))||f);return c>3&&f&&Object.defineProperty(i,o,f),f},Tz=function(s,i){return function(o,a){i(o,a,s)}},Nz=function(s,i,o,a,c,f){function g(H){if(H!==void 0&&typeof H!="function")throw new TypeError("Function expected");return H}for(var p=a.kind,A=p==="getter"?"get":p==="setter"?"set":"value",P=!i&&s?a.static?s:s.prototype:null,C=i||(P?Object.getOwnPropertyDescriptor(P,a.name):{}),N,L=!1,F=o.length-1;F>=0;F--){var D={};for(var q in a)D[q]=q==="access"?{}:a[q];for(var q in a.access)D.access[q]=a.access[q];D.addInitializer=function(H){if(L)throw new TypeError("Cannot add initializers after decoration has completed");f.push(g(H||null))};var K=(0,o[F])(p==="accessor"?{get:C.get,set:C.set}:C[A],D);if(p==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");(N=g(K.get))&&(C.get=N),(N=g(K.set))&&(C.set=N),(N=g(K.init))&&c.unshift(N)}else(N=g(K))&&(p==="field"?c.unshift(N):C[A]=N)}P&&Object.defineProperty(P,a.name,C),L=!0},Cz=function(s,i,o){for(var a=arguments.length>2,c=0;c<i.length;c++)o=a?i[c].call(s,o):i[c].call(s);return a?o:void 0},Rz=function(s){return typeof s=="symbol"?s:"".concat(s)},Bz=function(s,i,o){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:o?"".concat(o," ",i):i})},Iz=function(s,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,i)},Mz=function(s,i,o,a){function c(f){return f instanceof o?f:new o(function(g){g(f)})}return new(o||(o=Promise))(function(f,g){function p(C){try{P(a.next(C))}catch(N){g(N)}}function A(C){try{P(a.throw(C))}catch(N){g(N)}}function P(C){C.done?f(C.value):c(C.value).then(p,A)}P((a=a.apply(s,i||[])).next())})},jz=function(s,i){var o={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,c,f,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=p(0),g.throw=p(1),g.return=p(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function p(P){return function(C){return A([P,C])}}function A(P){if(a)throw new TypeError("Generator is already executing.");for(;g&&(g=0,P[0]&&(o=0)),o;)try{if(a=1,c&&(f=P[0]&2?c.return:P[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,P[1])).done)return f;switch(c=0,f&&(P=[P[0]&2,f.value]),P[0]){case 0:case 1:f=P;break;case 4:return o.label++,{value:P[1],done:!1};case 5:o.label++,c=P[1],P=[0];continue;case 7:P=o.ops.pop(),o.trys.pop();continue;default:if(f=o.trys,!(f=f.length>0&&f[f.length-1])&&(P[0]===6||P[0]===2)){o=0;continue}if(P[0]===3&&(!f||P[1]>f[0]&&P[1]<f[3])){o.label=P[1];break}if(P[0]===6&&o.label<f[1]){o.label=f[1],f=P;break}if(f&&o.label<f[2]){o.label=f[2],o.ops.push(P);break}f[2]&&o.ops.pop(),o.trys.pop();continue}P=i.call(s,o)}catch(C){P=[6,C],c=0}finally{a=f=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},Fz=function(s,i){for(var o in s)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&G6(i,s,o)},G6=Object.create?function(s,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(s,a,c)}:function(s,i,o,a){a===void 0&&(a=o),s[a]=i[o]},H6=function(s){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&s[i],a=0;if(o)return o.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},KR=function(s,i){var o=typeof Symbol=="function"&&s[Symbol.iterator];if(!o)return s;var a=o.call(s),c,f=[],g;try{for(;(i===void 0||i-- >0)&&!(c=a.next()).done;)f.push(c.value)}catch(p){g={error:p}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(g)throw g.error}}return f},Lz=function(){for(var s=[],i=0;i<arguments.length;i++)s=s.concat(KR(arguments[i]));return s},Uz=function(){for(var s=0,i=0,o=arguments.length;i<o;i++)s+=arguments[i].length;for(var a=Array(s),c=0,i=0;i<o;i++)for(var f=arguments[i],g=0,p=f.length;g<p;g++,c++)a[c]=f[g];return a},Dz=function(s,i,o){if(o||arguments.length===2)for(var a=0,c=i.length,f;a<c;a++)(f||!(a in i))&&(f||(f=Array.prototype.slice.call(i,0,a)),f[a]=i[a]);return s.concat(f||Array.prototype.slice.call(i))},vb=function(s){return this instanceof vb?(this.v=s,this):new vb(s)},qz=function(s,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(s,i||[]),c,f=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",g),c[Symbol.asyncIterator]=function(){return this},c;function g(F){return function(D){return Promise.resolve(D).then(F,N)}}function p(F,D){a[F]&&(c[F]=function(q){return new Promise(function(K,H){f.push([F,q,K,H])>1||A(F,q)})},D&&(c[F]=D(c[F])))}function A(F,D){try{P(a[F](D))}catch(q){L(f[0][3],q)}}function P(F){F.value instanceof vb?Promise.resolve(F.value.v).then(C,N):L(f[0][2],F)}function C(F){A("next",F)}function N(F){A("throw",F)}function L(F,D){F(D),f.shift(),f.length&&A(f[0][0],f[0][1])}},Hz=function(s){var i,o;return i={},a("next"),a("throw",function(c){throw c}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(c,f){i[c]=s[c]?function(g){return(o=!o)?{value:vb(s[c](g)),done:!1}:f?f(g):g}:f}},Gz=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=s[Symbol.asyncIterator],o;return i?i.call(s):(s=typeof H6=="function"?H6(s):s[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=s[f]&&function(g){return new Promise(function(p,A){g=s[f](g),c(p,A,g.done,g.value)})}}function c(f,g,p,A){Promise.resolve(A).then(function(P){f({value:P,done:p})},g)}},Kz=function(s,i){return Object.defineProperty?Object.defineProperty(s,"raw",{value:i}):s.raw=i,s};var t=Object.create?function(s,i){Object.defineProperty(s,"default",{enumerable:!0,value:i})}:function(s,i){s.default=i};Vz=function(s){if(s&&s.__esModule)return s;var i={};if(s!=null)for(var o in s)o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)&&G6(i,s,o);return t(i,s),i},zz=function(s){return s&&s.__esModule?s:{default:s}},Jz=function(s,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?s!==i||!a:!i.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(s):a?a.value:i.get(s)},Wz=function(s,i,o,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?s!==i||!c:!i.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(s,o):c?c.value=o:i.set(s,o),o},$z=function(s,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?i===s:s.has(i)},Zz=function(s,i,o){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var a,c;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=i[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=i[Symbol.dispose],o&&(c=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");c&&(a=function(){try{c.call(this)}catch(f){return Promise.reject(f)}}),s.stack.push({value:i,dispose:a,async:o})}else o&&s.stack.push({async:!0});return i};var n=typeof SuppressedError=="function"?SuppressedError:function(s,i,o){var a=new Error(o);return a.name="SuppressedError",a.error=s,a.suppressed=i,a};Qz=function(s){function i(f){s.error=s.hasError?new n(f,s.error,"An error was suppressed during disposal."):f,s.hasError=!0}var o,a=0;function c(){for(;o=s.stack.pop();)try{if(!o.async&&a===1)return a=0,s.stack.push(o),Promise.resolve().then(c);if(o.dispose){var f=o.dispose.call(o.value);if(o.async)return a|=2,Promise.resolve(f).then(c,function(g){return i(g),c()})}else a|=1}catch(g){i(g)}if(a===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return c()},r("__extends",Ez),r("__assign",Sz),r("__rest",kz),r("__decorate",Oz),r("__param",Tz),r("__esDecorate",Nz),r("__runInitializers",Cz),r("__propKey",Rz),r("__setFunctionName",Bz),r("__metadata",Iz),r("__awaiter",Mz),r("__generator",jz),r("__exportStar",Fz),r("__createBinding",G6),r("__values",H6),r("__read",KR),r("__spread",Lz),r("__spreadArrays",Uz),r("__spreadArray",Dz),r("__await",vb),r("__asyncGenerator",qz),r("__asyncDelegator",Hz),r("__asyncValues",Gz),r("__makeTemplateObject",Kz),r("__importStar",Vz),r("__importDefault",zz),r("__classPrivateFieldGet",Jz),r("__classPrivateFieldSet",Wz),r("__classPrivateFieldIn",$z),r("__addDisposableResource",Zz),r("__disposeResources",Qz)})});var z6=M(V6=>{y();b();Object.defineProperty(V6,"__esModule",{value:!0});V6.version=void 0;V6.version="6.13.5"});var id=M(Pb=>{y();b();Object.defineProperty(Pb,"__esModule",{value:!0});Pb.defineProperties=Pb.resolveProperties=void 0;function Uhe(r,e,t){let n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function Dhe(r){let e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}Pb.resolveProperties=Dhe;function qhe(r,e,t){for(let n in e){let s=e[n],i=t?t[n]:null;i&&Uhe(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}Pb.defineProperties=qhe});var $a=M(jn=>{y();b();Object.defineProperty(jn,"__esModule",{value:!0});jn.assertPrivate=jn.assertNormalize=jn.assertArgumentCount=jn.assertArgument=jn.assert=jn.makeError=jn.isCallException=jn.isError=void 0;var Hhe=z6(),Yz=id();function Ab(r){if(r==null)return"null";if(Array.isArray(r))return"[ "+r.map(Ab).join(", ")+" ]";if(r instanceof Uint8Array){let e="0123456789abcdef",t="0x";for(let n=0;n<r.length;n++)t+=e[r[n]>>4],t+=e[r[n]&15];return t}if(typeof r=="object"&&typeof r.toJSON=="function")return Ab(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"number":return r.toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{ "+e.map(t=>`${Ab(t)}: ${Ab(r[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function eJ(r,e){return r&&r.code===e}jn.isError=eJ;function Ghe(r){return eJ(r,"CALL_EXCEPTION")}jn.isCallException=Ghe;function tJ(r,e,t){let n=r;{let i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${Ab(t)}`);for(let o in t){if(o==="shortMessage")continue;let a=t[o];i.push(o+"="+Ab(a))}}i.push(`code=${e}`),i.push(`version=${Hhe.version}`),i.length&&(r+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return(0,Yz.defineProperties)(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&(0,Yz.defineProperties)(s,{shortMessage:n}),s}jn.makeError=tJ;function Eb(r,e,t,n){if(!r)throw tJ(e,t,n)}jn.assert=Eb;function Khe(r,e,t,n){Eb(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}jn.assertArgument=Khe;function Vhe(r,e,t){t==null&&(t=""),t&&(t=": "+t),Eb(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),Eb(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}jn.assertArgumentCount=Vhe;var zhe=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){let t=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(t!==n)throw new Error("broken")}r.push(e)}catch{}return r},[]);function Jhe(r){Eb(zhe.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}jn.assertNormalize=Jhe;function Whe(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),Eb(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}jn.assertPrivate=Whe});var Io=M(Nr=>{y();b();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.zeroPadBytes=Nr.zeroPadValue=Nr.stripZerosLeft=Nr.dataSlice=Nr.dataLength=Nr.concat=Nr.hexlify=Nr.isBytesLike=Nr.isHexString=Nr.getBytesCopy=Nr.getBytes=void 0;var VR=$a();function nJ(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let n=new Uint8Array((r.length-2)/2),s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}(0,VR.assertArgument)(!1,"invalid BytesLike value",e||"value",r)}function Fv(r,e){return nJ(r,e,!1)}Nr.getBytes=Fv;function $he(r,e){return nJ(r,e,!0)}Nr.getBytesCopy=$he;function zR(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}Nr.isHexString=zR;function Zhe(r){return zR(r,!0)||r instanceof Uint8Array}Nr.isBytesLike=Zhe;var rJ="0123456789abcdef";function Lv(r){let e=Fv(r),t="0x";for(let n=0;n<e.length;n++){let s=e[n];t+=rJ[(s&240)>>4]+rJ[s&15]}return t}Nr.hexlify=Lv;function Qhe(r){return"0x"+r.map(e=>Lv(e).substring(2)).join("")}Nr.concat=Qhe;function Xhe(r){return zR(r,!0)?(r.length-2)/2:Fv(r).length}Nr.dataLength=Xhe;function Yhe(r,e,t){let n=Fv(r);return t!=null&&t>n.length&&(0,VR.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),Lv(n.slice(e??0,t??n.length))}Nr.dataSlice=Yhe;function ege(r){let e=Lv(r).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}Nr.stripZerosLeft=ege;function sJ(r,e,t){let n=Fv(r);(0,VR.assert)(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),Lv(s)}function tge(r,e){return sJ(r,e,!0)}Nr.zeroPadValue=tge;function rge(r,e){return sJ(r,e,!1)}Nr.zeroPadBytes=rge});var kb=M(Cr=>{y();b();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.toQuantity=Cr.toBeArray=Cr.toBeHex=Cr.toNumber=Cr.getNumber=Cr.toBigInt=Cr.getUint=Cr.getBigInt=Cr.mask=Cr.toTwos=Cr.fromTwos=void 0;var iJ=Io(),hi=$a(),J6=BigInt(0),Za=BigInt(1),Sb=9007199254740991;function nge(r,e){let t=Uv(r,"value"),n=BigInt(Gh(e,"width"));if((0,hi.assert)(t>>n===J6,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-Za){let s=(Za<<n)-Za;return-((~t&s)+Za)}return t}Cr.fromTwos=nge;function sge(r,e){let t=W6(r,"value"),n=BigInt(Gh(e,"width")),s=Za<<n-Za;if(t<J6){t=-t,(0,hi.assert)(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});let i=(Za<<n)-Za;return(~t&i)+Za}else(0,hi.assert)(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}Cr.toTwos=sge;function ige(r,e){let t=Uv(r,"value"),n=BigInt(Gh(e,"bits"));return t&(Za<<n)-Za}Cr.mask=ige;function W6(r,e){switch(typeof r){case"bigint":return r;case"number":return(0,hi.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,hi.assertArgument)(r>=-Sb&&r<=Sb,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){(0,hi.assertArgument)(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}(0,hi.assertArgument)(!1,"invalid BigNumberish value",e||"value",r)}Cr.getBigInt=W6;function Uv(r,e){let t=W6(r,e);return(0,hi.assert)(t>=J6,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}Cr.getUint=Uv;var oJ="0123456789abcdef";function aJ(r){if(r instanceof Uint8Array){let e="0x0";for(let t of r)e+=oJ[t>>4],e+=oJ[t&15];return BigInt(e)}return W6(r)}Cr.toBigInt=aJ;function Gh(r,e){switch(typeof r){case"bigint":return(0,hi.assertArgument)(r>=-Sb&&r<=Sb,"overflow",e||"value",r),Number(r);case"number":return(0,hi.assertArgument)(Number.isInteger(r),"underflow",e||"value",r),(0,hi.assertArgument)(r>=-Sb&&r<=Sb,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Gh(BigInt(r),e)}catch(t){(0,hi.assertArgument)(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}(0,hi.assertArgument)(!1,"invalid numeric value",e||"value",r)}Cr.getNumber=Gh;function oge(r){return Gh(aJ(r))}Cr.toNumber=oge;function age(r,e){let n=Uv(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{let s=Gh(e,"width");for((0,hi.assert)(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}Cr.toBeHex=age;function cJ(r){let e=Uv(r,"value");if(e===J6)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);let n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){let i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}Cr.toBeArray=cJ;function cge(r){let e=(0,iJ.hexlify)((0,iJ.isBytesLike)(r)?r:cJ(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}Cr.toQuantity=cge});var uJ=M(Ob=>{y();b();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.decodeBase58=Ob.encodeBase58=void 0;var uge=Io(),fge=$a(),lge=kb(),Z6="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",$6=null;function dge(r){if($6==null){$6={};for(let t=0;t<Z6.length;t++)$6[Z6[t]]=BigInt(t)}let e=$6[r];return(0,fge.assertArgument)(e!=null,"invalid base58 value","letter",r),e}var hge=BigInt(0),JR=BigInt(58);function gge(r){let e=(0,uge.getBytes)(r),t=(0,lge.toBigInt)(e),n="";for(;t;)n=Z6[Number(t%JR)]+n,t/=JR;for(let s=0;s<e.length&&!e[s];s++)n=Z6[0]+n;return n}Ob.encodeBase58=gge;function pge(r){let e=hge;for(let t=0;t<r.length;t++)e*=JR,e+=dge(r[t]);return e}Ob.decodeBase58=pge});var WR=M(Tb=>{y();b();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.encodeBase64=Tb.decodeBase64=void 0;var fJ=Io();function mge(r){r=atob(r);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return(0,fJ.getBytes)(e)}Tb.decodeBase64=mge;function yge(r){let e=(0,fJ.getBytes)(r),t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}Tb.encodeBase64=yge});var lJ=M(Q6=>{y();b();Object.defineProperty(Q6,"__esModule",{value:!0});Q6.EventPayload=void 0;var bge=id(),Nb,$R=class{constructor(e,t,n){O(this,"filter");O(this,"emitter");T(this,Nb,void 0);w(this,Nb,t),(0,bge.defineProperties)(this,{emitter:e,filter:n})}async removeListener(){h(this,Nb)!=null&&await this.emitter.off(this.filter,h(this,Nb))}};Nb=new WeakMap;Q6.EventPayload=$R});var X6=M(Qa=>{y();b();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.toUtf8CodePoints=Qa.toUtf8String=Qa.toUtf8Bytes=Qa.Utf8ErrorFuncs=void 0;var xge=Io(),Dv=$a();function wge(r,e,t,n,s){(0,Dv.assertArgument)(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function dJ(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function _ge(r,e,t,n,s){return r==="OVERLONG"?((0,Dv.assertArgument)(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),dJ(r,e,t,n,s))}Qa.Utf8ErrorFuncs=Object.freeze({error:wge,ignore:dJ,replace:_ge});function hJ(r,e){e==null&&(e=Qa.Utf8ErrorFuncs.error);let t=(0,xge.getBytes)(r,"bytes"),n=[],s=0;for(;s<t.length;){let i=t[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=i&(1<<8-o-1)-1;for(let f=0;f<o;f++){let g=t[s];if((g&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|g&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,n,c);continue}n.push(c)}}return n}function gJ(r,e){(0,Dv.assertArgument)(typeof r=="string","invalid string value","str",r),e!=null&&((0,Dv.assertNormalize)(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;let i=r.charCodeAt(n);(0,Dv.assertArgument)(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);let o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}Qa.toUtf8Bytes=gJ;function vge(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Pge(r,e){return vge(hJ(r,e))}Qa.toUtf8String=Pge;function Age(r,e){return hJ(gJ(r,e))}Qa.toUtf8CodePoints=Age});var mJ=M(Cb=>{y();b();Object.defineProperty(Cb,"__esModule",{value:!0});Cb.getUrl=Cb.createGetUrl=void 0;var qv=$a();function pJ(r){async function e(t,n){(0,qv.assert)(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let s=t.url.split(":")[0].toLowerCase();(0,qv.assert)(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),(0,qv.assert)(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,o=new AbortController,a=setTimeout(()=>{i=(0,qv.makeError)("request timeout","TIMEOUT"),o.abort()},t.timeout);n&&n.addListener(()=>{i=(0,qv.makeError)("request cancelled","CANCELLED"),o.abort()});let c={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal},f;try{f=await fetch(t.url,c)}catch(P){throw clearTimeout(a),i||P}clearTimeout(a);let g={};f.headers.forEach((P,C)=>{g[C.toLowerCase()]=P});let p=await f.arrayBuffer(),A=p==null?null:new Uint8Array(p);return{statusCode:f.status,statusMessage:f.statusText,headers:g,body:A}}return e}Cb.createGetUrl=pJ;var Ege=pJ({});async function Sge(r,e){return Ege(r,e)}Cb.getUrl=Sge});var EJ=M(cd=>{y();b();Object.defineProperty(cd,"__esModule",{value:!0});cd.FetchResponse=cd.FetchRequest=cd.FetchCancelSignal=void 0;var xJ=WR(),wJ=Io(),Mo=$a(),kge=id(),Rb=X6(),_J=mJ(),Oge=12,Tge=250,yJ=(0,_J.createGetUrl)(),Nge=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Cge=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),ZR=!1;async function vJ(r,e){try{let t=r.match(Nge);if(!t)throw new Error("invalid data");return new vf(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(0,xJ.decodeBase64)(t[3]):Rge(t[3]))}catch{return new vf(599,"BAD REQUEST (invalid data: URI)",{},null,new Lb(r))}}function PJ(r){async function e(t,n){try{let s=t.match(Cge);if(!s)throw new Error("invalid link");return new Lb(`${r}${s[2]}`)}catch{return new vf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Lb(t))}}return e}var Y6={data:vJ,ipfs:PJ("https://gateway.ipfs.io/ipfs/")},AJ=new WeakMap,Kh,od,tk=class{constructor(e){T(this,Kh,void 0);T(this,od,void 0);w(this,Kh,[]),w(this,od,!1),AJ.set(e,()=>{if(!h(this,od)){w(this,od,!0);for(let t of h(this,Kh))setTimeout(()=>{t()},0);w(this,Kh,[])}})}addListener(e){(0,Mo.assert)(!h(this,od),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),h(this,Kh).push(e)}get cancelled(){return h(this,od)}checkSignal(){(0,Mo.assert)(!this.cancelled,"cancelled","CANCELLED",{})}};Kh=new WeakMap,od=new WeakMap;cd.FetchCancelSignal=tk;function ek(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var Bb,Ib,Xa,wf,Mb,jb,Fn,Fi,_f,Vh,zh,Jh,au,Ya,ad,Wh,Hv,rk=class{constructor(e){T(this,Wh);T(this,Bb,void 0);T(this,Ib,void 0);T(this,Xa,void 0);T(this,wf,void 0);T(this,Mb,void 0);T(this,jb,void 0);T(this,Fn,void 0);T(this,Fi,void 0);T(this,_f,void 0);T(this,Vh,void 0);T(this,zh,void 0);T(this,Jh,void 0);T(this,au,void 0);T(this,Ya,void 0);T(this,ad,void 0);w(this,jb,String(e)),w(this,Bb,!1),w(this,Ib,!0),w(this,Xa,{}),w(this,wf,""),w(this,Mb,3e5),w(this,Ya,{slotInterval:Tge,maxAttempts:Oge}),w(this,ad,null)}get url(){return h(this,jb)}set url(e){w(this,jb,String(e))}get body(){return h(this,Fn)==null?null:new Uint8Array(h(this,Fn))}set body(e){if(e==null)w(this,Fn,void 0),w(this,Fi,void 0);else if(typeof e=="string")w(this,Fn,(0,Rb.toUtf8Bytes)(e)),w(this,Fi,"text/plain");else if(e instanceof Uint8Array)w(this,Fn,e),w(this,Fi,"application/octet-stream");else if(typeof e=="object")w(this,Fn,(0,Rb.toUtf8Bytes)(JSON.stringify(e))),w(this,Fi,"application/json");else throw new Error("invalid body")}hasBody(){return h(this,Fn)!=null}get method(){return h(this,wf)?h(this,wf):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),w(this,wf,String(e).toUpperCase())}get headers(){let e=Object.assign({},h(this,Xa));return h(this,_f)&&(e.authorization=`Basic ${(0,xJ.encodeBase64)((0,Rb.toUtf8Bytes)(h(this,_f)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&h(this,Fi)&&(e["content-type"]=h(this,Fi)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){h(this,Xa)[String(e).toLowerCase()]=String(t)}clearHeaders(){w(this,Xa,{})}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return h(this,_f)||null}setCredentials(e,t){(0,Mo.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),w(this,_f,`${e}:${t}`)}get allowGzip(){return h(this,Ib)}set allowGzip(e){w(this,Ib,!!e)}get allowInsecureAuthentication(){return!!h(this,Bb)}set allowInsecureAuthentication(e){w(this,Bb,!!e)}get timeout(){return h(this,Mb)}set timeout(e){(0,Mo.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),w(this,Mb,e)}get preflightFunc(){return h(this,Vh)||null}set preflightFunc(e){w(this,Vh,e)}get processFunc(){return h(this,zh)||null}set processFunc(e){w(this,zh,e)}get retryFunc(){return h(this,Jh)||null}set retryFunc(e){w(this,Jh,e)}get getUrlFunc(){return h(this,ad)||yJ}set getUrlFunc(e){w(this,ad,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${h(this,Fn)?(0,wJ.hexlify)(h(this,Fn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(h(this,Ya).slotInterval=e.slotInterval),e.maxAttempts!=null&&(h(this,Ya).maxAttempts=e.maxAttempts)}send(){return(0,Mo.assert)(h(this,au)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),w(this,au,new tk(this)),U(this,Wh,Hv).call(this,0,bJ()+this.timeout,0,this,new vf(0,"",{},null,this))}cancel(){(0,Mo.assert)(h(this,au)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=AJ.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();(0,Mo.assert)(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new rk(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,w(s,Xa,Object.assign({},h(this,Xa))),h(this,Fn)&&w(s,Fn,new Uint8Array(h(this,Fn))),w(s,Fi,h(this,Fi)),s}clone(){let e=new rk(this.url);return w(e,wf,h(this,wf)),h(this,Fn)&&w(e,Fn,h(this,Fn)),w(e,Fi,h(this,Fi)),w(e,Xa,Object.assign({},h(this,Xa))),w(e,_f,h(this,_f)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),w(e,Vh,h(this,Vh)),w(e,zh,h(this,zh)),w(e,Jh,h(this,Jh)),w(e,Ya,Object.assign({},h(this,Ya))),w(e,ad,h(this,ad)),e}static lockConfig(){ZR=!0}static getGateway(e){return Y6[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ZR)throw new Error("gateways locked");Y6[e]=t}static registerGetUrl(e){if(ZR)throw new Error("gateways locked");yJ=e}static createGetUrlFunc(e){return(0,_J.createGetUrl)(e)}static createDataGateway(){return vJ}static createIpfsGatewayFunc(e){return PJ(e)}},Lb=rk;Bb=new WeakMap,Ib=new WeakMap,Xa=new WeakMap,wf=new WeakMap,Mb=new WeakMap,jb=new WeakMap,Fn=new WeakMap,Fi=new WeakMap,_f=new WeakMap,Vh=new WeakMap,zh=new WeakMap,Jh=new WeakMap,au=new WeakMap,Ya=new WeakMap,ad=new WeakMap,Wh=new WeakSet,Hv=async function(e,t,n,s,i){var g,p,A;if(e>=h(this,Ya).maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,Mo.assert)(bJ()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await Bge(n);let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in Y6){let P=await Y6[a](o.url,ek(h(s,au)));if(P instanceof vf){let C=P;if(this.processFunc){ek(h(s,au));try{C=await this.processFunc(o,C)}catch(N){(N.throttle==null||typeof N.stall!="number")&&C.makeServerError("error in post-processing function",N).assertOk()}}return C}o=P}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,ek(h(s,au))),f=new vf(c.statusCode,c.statusMessage,c.headers,c.body,s);if(f.statusCode===301||f.statusCode===302){try{let P=f.headers.location||"";return U(g=o.redirect(P),Wh,Hv).call(g,e+1,t,0,s,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,f,e))){let P=f.headers["retry-after"],C=h(this,Ya).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof P=="string"&&P.match(/^[1-9][0-9]*$/)&&(C=parseInt(P)),U(p=o.clone(),Wh,Hv).call(p,e+1,t,C,s,f)}if(this.processFunc){ek(h(s,au));try{f=await this.processFunc(o,f)}catch(P){(P.throttle==null||typeof P.stall!="number")&&f.makeServerError("error in post-processing function",P).assertOk();let C=h(this,Ya).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return P.stall>=0&&(C=P.stall),U(A=o.clone(),Wh,Hv).call(A,e+1,t,C,s,f)}}return f};cd.FetchRequest=Lb;var Gv,Kv,Vv,Li,Fb,$h,QR=class{constructor(e,t,n,s,i){T(this,Gv,void 0);T(this,Kv,void 0);T(this,Vv,void 0);T(this,Li,void 0);T(this,Fb,void 0);T(this,$h,void 0);w(this,Gv,e),w(this,Kv,t),w(this,Vv,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),w(this,Li,s==null?null:new Uint8Array(s)),w(this,Fb,i||null),w(this,$h,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${h(this,Li)?(0,wJ.hexlify)(h(this,Li)):"null"}>`}get statusCode(){return h(this,Gv)}get statusMessage(){return h(this,Kv)}get headers(){return Object.assign({},h(this,Vv))}get body(){return h(this,Li)==null?null:new Uint8Array(h(this,Li))}get bodyText(){try{return h(this,Li)==null?"":(0,Rb.toUtf8String)(h(this,Li))}catch{(0,Mo.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,Mo.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new QR(599,n,this.headers,this.body,h(this,Fb)||void 0);return w(s,$h,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:(0,Mo.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let n=new Error(e||"throttling requests");throw(0,kge.defineProperties)(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return h(this,Li)!=null}get request(){return h(this,Fb)}ok(){return h(this,$h).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=h(this,$h);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{h(this,Li)&&(s=(0,Rb.toUtf8String)(h(this,Li)))}catch{}(0,Mo.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}},vf=QR;Gv=new WeakMap,Kv=new WeakMap,Vv=new WeakMap,Li=new WeakMap,Fb=new WeakMap,$h=new WeakMap;cd.FetchResponse=vf;function bJ(){return new Date().getTime()}function Rge(r){return(0,Rb.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Bge(r){return new Promise(e=>setTimeout(e,r))}});var sB=M(nk=>{y();b();Object.defineProperty(nk,"__esModule",{value:!0});nk.FixedNumber=void 0;var Ige=Io(),Ds=$a(),fd=kb(),Mge=id(),jge=BigInt(-1),ec=BigInt(0),Db=BigInt(1),Fge=BigInt(5),Ub={},qb="0000";for(;qb.length<80;)qb+=qb;function Zh(r){let e=qb;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function zv(r,e,t){let n=BigInt(e.width);if(e.signed){let s=Db<<n-Db;(0,Ds.assert)(t==null||r>=-s&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>ec?r=(0,fd.fromTwos)((0,fd.mask)(r,n),n):r=-(0,fd.fromTwos)((0,fd.mask)(-r,n),n)}else{let s=Db<<n;(0,Ds.assert)(t==null||r>=0&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%s+s)%s&s-Db}return r}function XR(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{let i=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,Ds.assertArgument)(i,"invalid fixed format","format",r),e=i[1]!=="u",t=parseInt(i[2]),n=parseInt(i[3])}}else if(r){let i=r,o=(a,c,f)=>i[a]==null?f:((0,Ds.assertArgument)(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),n=o("decimals","number",n)}(0,Ds.assertArgument)(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),(0,Ds.assertArgument)(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let s=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:s}}function Lge(r,e){let t="";r<ec&&(t="-",r*=jge);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=qb+n;let s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var tc,or,Us,Af,Qh,rc,Pf,Jv,eB,Wv,tB,$v,rB,Zv,nB,ud=class{constructor(e,t,n){T(this,Af);T(this,rc);T(this,Jv);T(this,Wv);T(this,$v);T(this,Zv);O(this,"format");T(this,tc,void 0);T(this,or,void 0);T(this,Us,void 0);O(this,"_value");(0,Ds.assertPrivate)(e,Ub,"FixedNumber"),w(this,or,t),w(this,tc,n);let s=Lge(t,n.decimals);(0,Mge.defineProperties)(this,{format:n.name,_value:s}),w(this,Us,Zh(n.decimals))}get signed(){return h(this,tc).signed}get width(){return h(this,tc).width}get decimals(){return h(this,tc).decimals}get value(){return h(this,or)}addUnsafe(e){return U(this,Jv,eB).call(this,e)}add(e){return U(this,Jv,eB).call(this,e,"add")}subUnsafe(e){return U(this,Wv,tB).call(this,e)}sub(e){return U(this,Wv,tB).call(this,e,"sub")}mulUnsafe(e){return U(this,$v,rB).call(this,e)}mul(e){return U(this,$v,rB).call(this,e,"mul")}mulSignal(e){U(this,Af,Qh).call(this,e);let t=h(this,or)*h(e,or);return(0,Ds.assert)(t%h(this,Us)===ec,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),U(this,rc,Pf).call(this,t/h(this,Us),"mulSignal")}divUnsafe(e){return U(this,Zv,nB).call(this,e)}div(e){return U(this,Zv,nB).call(this,e,"div")}divSignal(e){(0,Ds.assert)(h(e,or)!==ec,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),U(this,Af,Qh).call(this,e);let t=h(this,or)*h(this,Us);return(0,Ds.assert)(t%h(e,or)===ec,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),U(this,rc,Pf).call(this,t/h(e,or),"divSignal")}cmp(e){let t=this.value,n=e.value,s=this.decimals-e.decimals;return s>0?n*=Zh(s):s<0&&(t*=Zh(-s)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=h(this,or);return h(this,or)<ec&&(e-=h(this,Us)-Db),e=h(this,or)/h(this,Us)*h(this,Us),U(this,rc,Pf).call(this,e,"floor")}ceiling(){let e=h(this,or);return h(this,or)>ec&&(e+=h(this,Us)-Db),e=h(this,or)/h(this,Us)*h(this,Us),U(this,rc,Pf).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,n=Fge*Zh(t-1),s=this.value+n,i=Zh(t);return s=s/i*i,zv(s,h(this,tc),"round"),new ud(Ub,s,h(this,tc))}isZero(){return h(this,or)===ec}isNegative(){return h(this,or)<ec}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ud.fromString(this.toString(),e)}static fromValue(e,t,n){let s=t==null?0:(0,fd.getNumber)(t),i=XR(n),o=(0,fd.getBigInt)(e,"value"),a=s-i.decimals;if(a>0){let c=Zh(a);(0,Ds.assert)(o%c===ec,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Zh(-a));return zv(o,i,"fromValue"),new ud(Ub,o,i)}static fromString(e,t){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,Ds.assertArgument)(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let s=XR(t),i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=qb;(0,Ds.assert)(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);let a=BigInt(n[1]+i+o);return zv(a,s,"fromString"),new ud(Ub,a,s)}static fromBytes(e,t){let n=(0,fd.toBigInt)((0,Ige.getBytes)(e,"value")),s=XR(t);return s.signed&&(n=(0,fd.fromTwos)(n,s.width)),zv(n,s,"fromBytes"),new ud(Ub,n,s)}},YR=ud;tc=new WeakMap,or=new WeakMap,Us=new WeakMap,Af=new WeakSet,Qh=function(e){(0,Ds.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},rc=new WeakSet,Pf=function(e,t){return e=zv(e,h(this,tc),t),new ud(Ub,e,h(this,tc))},Jv=new WeakSet,eB=function(e,t){return U(this,Af,Qh).call(this,e),U(this,rc,Pf).call(this,h(this,or)+h(e,or),t)},Wv=new WeakSet,tB=function(e,t){return U(this,Af,Qh).call(this,e),U(this,rc,Pf).call(this,h(this,or)-h(e,or),t)},$v=new WeakSet,rB=function(e,t){return U(this,Af,Qh).call(this,e),U(this,rc,Pf).call(this,h(this,or)*h(e,or)/h(this,Us),t)},Zv=new WeakSet,nB=function(e,t){return(0,Ds.assert)(h(e,or)!==ec,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),U(this,Af,Qh).call(this,e),U(this,rc,Pf).call(this,h(this,or)*h(this,Us)/h(e,or),t)};nk.FixedNumber=YR});var NJ=M(ik=>{y();b();Object.defineProperty(ik,"__esModule",{value:!0});ik.decodeRlp=void 0;var SJ=Io(),sk=$a(),Uge=Io();function Dge(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function kJ(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function OJ(r,e,t,n){let s=[];for(;t<e+1+n;){let i=TJ(r,t);s.push(i.result),t+=i.consumed,(0,sk.assert)(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function TJ(r,e){(0,sk.assert)(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});let t=n=>{(0,sk.assert)(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){let n=r[e]-247;t(e+1+n);let s=kJ(r,e+1,n);return t(e+1+n+s),OJ(r,e,e+1+n,n+s)}else if(r[e]>=192){let n=r[e]-192;return t(e+1+n),OJ(r,e,e+1,n)}else if(r[e]>=184){let n=r[e]-183;t(e+1+n);let s=kJ(r,e+1,n);t(e+1+n+s);let i=(0,SJ.hexlify)(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){let n=r[e]-128;t(e+1+n);let s=(0,SJ.hexlify)(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:Dge(r[e])}}function qge(r){let e=(0,Uge.getBytes)(r,"data"),t=TJ(e,0);return(0,sk.assertArgument)(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}ik.decodeRlp=qge});var IJ=M(ok=>{y();b();Object.defineProperty(ok,"__esModule",{value:!0});ok.encodeRlp=void 0;var Hge=Io();function CJ(r){let e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function BJ(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(BJ(i))}),n.length<=55)return n.unshift(192+n.length),n;let s=CJ(n.length);return s.unshift(247+s.length),s.concat(n)}let e=Array.prototype.slice.call((0,Hge.getBytes)(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=CJ(e.length);return t.unshift(183+t.length),t.concat(e)}var RJ="0123456789abcdef";function Gge(r){let e="0x";for(let t of BJ(r))e+=RJ[t>>4],e+=RJ[t&15];return e}ok.encodeRlp=Gge});var DJ=M(cu=>{y();b();Object.defineProperty(cu,"__esModule",{value:!0});cu.parseEther=cu.formatEther=cu.parseUnits=cu.formatUnits=void 0;var iB=$a(),MJ=sB(),jJ=kb(),FJ=["wei","kwei","mwei","gwei","szabo","finney","ether"];function LJ(r,e){let t=18;if(typeof e=="string"){let n=FJ.indexOf(e);(0,iB.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,jJ.getNumber)(e,"unit"));return MJ.FixedNumber.fromValue(r,t,{decimals:t,width:512}).toString()}cu.formatUnits=LJ;function UJ(r,e){(0,iB.assertArgument)(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){let n=FJ.indexOf(e);(0,iB.assertArgument)(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=(0,jJ.getNumber)(e,"unit"));return MJ.FixedNumber.fromString(r,{decimals:t,width:512}).value}cu.parseUnits=UJ;function Kge(r){return LJ(r,18)}cu.formatEther=Kge;function Vge(r){return UJ(r,18)}cu.parseEther=Vge});var HJ=M(ak=>{y();b();Object.defineProperty(ak,"__esModule",{value:!0});ak.uuidV4=void 0;var qJ=Io();function zge(r){let e=(0,qJ.getBytes)(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=(0,qJ.hexlify)(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}ak.uuidV4=zge});var ge=M(Y=>{y();b();Object.defineProperty(Y,"__esModule",{value:!0});Y.toUtf8String=Y.toUtf8CodePoints=Y.toUtf8Bytes=Y.parseUnits=Y.formatUnits=Y.parseEther=Y.formatEther=Y.encodeRlp=Y.decodeRlp=Y.defineProperties=Y.resolveProperties=Y.toQuantity=Y.toBeArray=Y.toBeHex=Y.toNumber=Y.toBigInt=Y.getUint=Y.getNumber=Y.getBigInt=Y.mask=Y.toTwos=Y.fromTwos=Y.FixedNumber=Y.FetchCancelSignal=Y.FetchResponse=Y.FetchRequest=Y.EventPayload=Y.makeError=Y.assertNormalize=Y.assertPrivate=Y.assertArgumentCount=Y.assertArgument=Y.assert=Y.isError=Y.isCallException=Y.zeroPadBytes=Y.zeroPadValue=Y.stripZerosLeft=Y.dataSlice=Y.dataLength=Y.concat=Y.hexlify=Y.isBytesLike=Y.isHexString=Y.getBytesCopy=Y.getBytes=Y.encodeBase64=Y.decodeBase64=Y.encodeBase58=Y.decodeBase58=void 0;Y.uuidV4=Y.Utf8ErrorFuncs=void 0;var GJ=uJ();Object.defineProperty(Y,"decodeBase58",{enumerable:!0,get:function(){return GJ.decodeBase58}});Object.defineProperty(Y,"encodeBase58",{enumerable:!0,get:function(){return GJ.encodeBase58}});var KJ=WR();Object.defineProperty(Y,"decodeBase64",{enumerable:!0,get:function(){return KJ.decodeBase64}});Object.defineProperty(Y,"encodeBase64",{enumerable:!0,get:function(){return KJ.encodeBase64}});var nc=Io();Object.defineProperty(Y,"getBytes",{enumerable:!0,get:function(){return nc.getBytes}});Object.defineProperty(Y,"getBytesCopy",{enumerable:!0,get:function(){return nc.getBytesCopy}});Object.defineProperty(Y,"isHexString",{enumerable:!0,get:function(){return nc.isHexString}});Object.defineProperty(Y,"isBytesLike",{enumerable:!0,get:function(){return nc.isBytesLike}});Object.defineProperty(Y,"hexlify",{enumerable:!0,get:function(){return nc.hexlify}});Object.defineProperty(Y,"concat",{enumerable:!0,get:function(){return nc.concat}});Object.defineProperty(Y,"dataLength",{enumerable:!0,get:function(){return nc.dataLength}});Object.defineProperty(Y,"dataSlice",{enumerable:!0,get:function(){return nc.dataSlice}});Object.defineProperty(Y,"stripZerosLeft",{enumerable:!0,get:function(){return nc.stripZerosLeft}});Object.defineProperty(Y,"zeroPadValue",{enumerable:!0,get:function(){return nc.zeroPadValue}});Object.defineProperty(Y,"zeroPadBytes",{enumerable:!0,get:function(){return nc.zeroPadBytes}});var ld=$a();Object.defineProperty(Y,"isCallException",{enumerable:!0,get:function(){return ld.isCallException}});Object.defineProperty(Y,"isError",{enumerable:!0,get:function(){return ld.isError}});Object.defineProperty(Y,"assert",{enumerable:!0,get:function(){return ld.assert}});Object.defineProperty(Y,"assertArgument",{enumerable:!0,get:function(){return ld.assertArgument}});Object.defineProperty(Y,"assertArgumentCount",{enumerable:!0,get:function(){return ld.assertArgumentCount}});Object.defineProperty(Y,"assertPrivate",{enumerable:!0,get:function(){return ld.assertPrivate}});Object.defineProperty(Y,"assertNormalize",{enumerable:!0,get:function(){return ld.assertNormalize}});Object.defineProperty(Y,"makeError",{enumerable:!0,get:function(){return ld.makeError}});var Jge=lJ();Object.defineProperty(Y,"EventPayload",{enumerable:!0,get:function(){return Jge.EventPayload}});var oB=EJ();Object.defineProperty(Y,"FetchRequest",{enumerable:!0,get:function(){return oB.FetchRequest}});Object.defineProperty(Y,"FetchResponse",{enumerable:!0,get:function(){return oB.FetchResponse}});Object.defineProperty(Y,"FetchCancelSignal",{enumerable:!0,get:function(){return oB.FetchCancelSignal}});var Wge=sB();Object.defineProperty(Y,"FixedNumber",{enumerable:!0,get:function(){return Wge.FixedNumber}});var sc=kb();Object.defineProperty(Y,"fromTwos",{enumerable:!0,get:function(){return sc.fromTwos}});Object.defineProperty(Y,"toTwos",{enumerable:!0,get:function(){return sc.toTwos}});Object.defineProperty(Y,"mask",{enumerable:!0,get:function(){return sc.mask}});Object.defineProperty(Y,"getBigInt",{enumerable:!0,get:function(){return sc.getBigInt}});Object.defineProperty(Y,"getNumber",{enumerable:!0,get:function(){return sc.getNumber}});Object.defineProperty(Y,"getUint",{enumerable:!0,get:function(){return sc.getUint}});Object.defineProperty(Y,"toBigInt",{enumerable:!0,get:function(){return sc.toBigInt}});Object.defineProperty(Y,"toNumber",{enumerable:!0,get:function(){return sc.toNumber}});Object.defineProperty(Y,"toBeHex",{enumerable:!0,get:function(){return sc.toBeHex}});Object.defineProperty(Y,"toBeArray",{enumerable:!0,get:function(){return sc.toBeArray}});Object.defineProperty(Y,"toQuantity",{enumerable:!0,get:function(){return sc.toQuantity}});var VJ=id();Object.defineProperty(Y,"resolveProperties",{enumerable:!0,get:function(){return VJ.resolveProperties}});Object.defineProperty(Y,"defineProperties",{enumerable:!0,get:function(){return VJ.defineProperties}});var $ge=NJ();Object.defineProperty(Y,"decodeRlp",{enumerable:!0,get:function(){return $ge.decodeRlp}});var Zge=IJ();Object.defineProperty(Y,"encodeRlp",{enumerable:!0,get:function(){return Zge.encodeRlp}});var ck=DJ();Object.defineProperty(Y,"formatEther",{enumerable:!0,get:function(){return ck.formatEther}});Object.defineProperty(Y,"parseEther",{enumerable:!0,get:function(){return ck.parseEther}});Object.defineProperty(Y,"formatUnits",{enumerable:!0,get:function(){return ck.formatUnits}});Object.defineProperty(Y,"parseUnits",{enumerable:!0,get:function(){return ck.parseUnits}});var uk=X6();Object.defineProperty(Y,"toUtf8Bytes",{enumerable:!0,get:function(){return uk.toUtf8Bytes}});Object.defineProperty(Y,"toUtf8CodePoints",{enumerable:!0,get:function(){return uk.toUtf8CodePoints}});Object.defineProperty(Y,"toUtf8String",{enumerable:!0,get:function(){return uk.toUtf8String}});Object.defineProperty(Y,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return uk.Utf8ErrorFuncs}});var Qge=HJ();Object.defineProperty(Y,"uuidV4",{enumerable:!0,get:function(){return Qge.uuidV4}})});var jo=M(_r=>{y();b();Object.defineProperty(_r,"__esModule",{value:!0});_r.Reader=_r.Writer=_r.Coder=_r.checkResultErrors=_r.Result=_r.WordSize=void 0;var Jr=ge();_r.WordSize=32;var aB=new Uint8Array(_r.WordSize),Xge=["then"],fk={},WJ=new WeakMap;function Xh(r){return WJ.get(r)}function zJ(r,e){WJ.set(r,e)}function Qv(r,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function cB(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof Xv?cB(Xh(n),n,t):n):r.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(t&&o instanceof Xv&&(o=cB(Xh(o),o,t)),n[s]=o),n},{})}var Gb,Hb=class extends Array{constructor(...t){let n=t[0],s=t[1],i=(t[2]||[]).slice(),o=!0;n!==fk&&(s=t,i=[],o=!1);super(s.length);T(this,Gb,void 0);s.forEach((f,g)=>{this[g]=f});let a=i.reduce((f,g)=>(typeof g=="string"&&f.set(g,(f.get(g)||0)+1),f),new Map);if(zJ(this,Object.freeze(s.map((f,g)=>{let p=i[g];return p!=null&&a.get(p)===1?p:null}))),w(this,Gb,[]),h(this,Gb)==null&&h(this,Gb),!o)return;Object.freeze(this);let c=new Proxy(this,{get:(f,g,p)=>{if(typeof g=="string"){if(g.match(/^[0-9]+$/)){let P=(0,Jr.getNumber)(g,"%index");if(P<0||P>=this.length)throw new RangeError("out of result range");let C=f[P];return C instanceof Error&&Qv(`index ${P}`,C),C}if(Xge.indexOf(g)>=0)return Reflect.get(f,g,p);let A=f[g];if(A instanceof Function)return function(...P){return A.apply(this===p?f:this,P)};if(!(g in f))return f.getValue.apply(this===p?f:this,[g])}return Reflect.get(f,g,p)}});return zJ(c,Xh(this)),c}toArray(t){let n=[];return this.forEach((s,i)=>{s instanceof Error&&Qv(`index ${i}`,s),t&&s instanceof Hb&&(s=s.toArray(t)),n.push(s)}),n}toObject(t){let n=Xh(this);return n.reduce((s,i,o)=>((0,Jr.assert)(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),cB(n,this,t)),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);let s=Xh(this),i=[],o=[];for(let a=t;a<n;a++)i.push(this[a]),o.push(s[a]);return new Hb(fk,i,o)}filter(t,n){let s=Xh(this),i=[],o=[];for(let a=0;a<this.length;a++){let c=this[a];c instanceof Error&&Qv(`index ${a}`,c),t.call(n,c,a,this)&&(i.push(c),o.push(s[a]))}return new Hb(fk,i,o)}map(t,n){let s=[];for(let i=0;i<this.length;i++){let o=this[i];o instanceof Error&&Qv(`index ${i}`,o),s.push(t.call(n,o,i,this))}return s}getValue(t){let n=Xh(this).indexOf(t);if(n===-1)return;let s=this[n];return s instanceof Error&&Qv(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,n){return new Hb(fk,t,n)}},Xv=Hb;Gb=new WeakMap;_r.Result=Xv;function Yge(r){let e=[],t=function(n,s){if(!!Array.isArray(s))for(let i in s){let o=n.slice();o.push(i);try{t(o,s[i])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}_r.checkResultErrors=Yge;function JJ(r){let e=(0,Jr.toBeArray)(r);return(0,Jr.assert)(e.length<=_r.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:_r.WordSize,offset:e.length}),e.length!==_r.WordSize&&(e=(0,Jr.getBytesCopy)((0,Jr.concat)([aB.slice(e.length%_r.WordSize),e]))),e}var uB=class{constructor(e,t,n,s){O(this,"name");O(this,"type");O(this,"localName");O(this,"dynamic");(0,Jr.defineProperties)(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,Jr.assertArgument)(!1,e,this.localName,t)}};_r.Coder=uB;var Ef,Yh,Kb,lk,fB=class{constructor(){T(this,Kb);T(this,Ef,void 0);T(this,Yh,void 0);w(this,Ef,[]),w(this,Yh,0)}get data(){return(0,Jr.concat)(h(this,Ef))}get length(){return h(this,Yh)}appendWriter(e){return U(this,Kb,lk).call(this,(0,Jr.getBytesCopy)(e.data))}writeBytes(e){let t=(0,Jr.getBytesCopy)(e),n=t.length%_r.WordSize;return n&&(t=(0,Jr.getBytesCopy)((0,Jr.concat)([t,aB.slice(n)]))),U(this,Kb,lk).call(this,t)}writeValue(e){return U(this,Kb,lk).call(this,JJ(e))}writeUpdatableValue(){let e=h(this,Ef).length;return h(this,Ef).push(aB),w(this,Yh,h(this,Yh)+_r.WordSize),t=>{h(this,Ef)[e]=JJ(t)}}};Ef=new WeakMap,Yh=new WeakMap,Kb=new WeakSet,lk=function(e){return h(this,Ef).push(e),w(this,Yh,h(this,Yh)+e.length),e.length};_r.Writer=fB;var gi,Ui,eg,tg,dd,Yv,dB,dk,$J,hB=class{constructor(e,t,n){T(this,Yv);T(this,dk);O(this,"allowLoose");T(this,gi,void 0);T(this,Ui,void 0);T(this,eg,void 0);T(this,tg,void 0);T(this,dd,void 0);(0,Jr.defineProperties)(this,{allowLoose:!!t}),w(this,gi,(0,Jr.getBytesCopy)(e)),w(this,eg,0),w(this,tg,null),w(this,dd,n??1024),w(this,Ui,0)}get data(){return(0,Jr.hexlify)(h(this,gi))}get dataLength(){return h(this,gi).length}get consumed(){return h(this,Ui)}get bytes(){return new Uint8Array(h(this,gi))}subReader(e){let t=new hB(h(this,gi).slice(h(this,Ui)+e),this.allowLoose,h(this,dd));return w(t,tg,this),t}readBytes(e,t){let n=U(this,dk,$J).call(this,0,e,!!t);return U(this,Yv,dB).call(this,e),w(this,Ui,h(this,Ui)+n.length),n.slice(0,e)}readValue(){return(0,Jr.toBigInt)(this.readBytes(_r.WordSize))}readIndex(){return(0,Jr.toNumber)(this.readBytes(_r.WordSize))}},lB=hB;gi=new WeakMap,Ui=new WeakMap,eg=new WeakMap,tg=new WeakMap,dd=new WeakMap,Yv=new WeakSet,dB=function(e){var t;if(h(this,tg))return U(t=h(this,tg),Yv,dB).call(t,e);w(this,eg,h(this,eg)+e),(0,Jr.assert)(h(this,dd)<1||h(this,eg)<=h(this,dd)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${h(this,dd)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,Jr.getBytesCopy)(h(this,gi)),offset:h(this,Ui),length:e,info:{bytesRead:h(this,eg),dataLength:this.dataLength}})},dk=new WeakSet,$J=function(e,t,n){let s=Math.ceil(t/_r.WordSize)*_r.WordSize;return h(this,Ui)+s>h(this,gi).length&&(this.allowLoose&&n&&h(this,Ui)+t<=h(this,gi).length?s=t:(0,Jr.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,Jr.getBytesCopy)(h(this,gi)),length:h(this,gi).length,offset:h(this,Ui)+s})),h(this,gi).slice(h(this,Ui),h(this,Ui)+s)};_r.Reader=lB});var Vb=M(qs=>{y();b();Object.defineProperty(qs,"__esModule",{value:!0});qs.output=qs.exists=qs.hash=qs.bytes=qs.bool=qs.number=void 0;function hk(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}qs.number=hk;function ZJ(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}qs.bool=ZJ;function gB(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}qs.bytes=gB;function QJ(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hk(r.outputLen),hk(r.blockLen)}qs.hash=QJ;function XJ(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}qs.exists=XJ;function YJ(r,e){gB(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}qs.output=YJ;var epe={number:hk,bool:ZJ,bytes:gB,hash:QJ,exists:XJ,output:YJ};qs.default=epe});var eW=M(gk=>{y();b();Object.defineProperty(gk,"__esModule",{value:!0});gk.crypto=void 0;gk.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var ic=M(At=>{y();b();Object.defineProperty(At,"__esModule",{value:!0});At.randomBytes=At.wrapXOFConstructorWithOpts=At.wrapConstructorWithOpts=At.wrapConstructor=At.checkOpts=At.Hash=At.concatBytes=At.toBytes=At.utf8ToBytes=At.asyncLoop=At.nextTick=At.hexToBytes=At.bytesToHex=At.isLE=At.rotr=At.createView=At.u32=At.u8=void 0;var pB=eW(),yB=r=>r instanceof Uint8Array,tpe=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength);At.u8=tpe;var rpe=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));At.u32=rpe;var npe=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);At.createView=npe;var spe=(r,e)=>r<<32-e|r>>>e;At.rotr=spe;At.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!At.isLE)throw new Error("Non little-endian hardware is not supported");var ipe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function ope(r){if(!yB(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=ipe[r[t]];return e}At.bytesToHex=ope;function ape(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}At.hexToBytes=ape;var cpe=async()=>{};At.nextTick=cpe;async function upe(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);let i=Date.now()-n;i>=0&&i<e||(await(0,At.nextTick)(),n+=i)}}At.asyncLoop=upe;function tW(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}At.utf8ToBytes=tW;function pk(r){if(typeof r=="string"&&(r=tW(r)),!yB(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}At.toBytes=pk;function fpe(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!yB(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}At.concatBytes=fpe;var mB=class{clone(){return this._cloneInto()}};At.Hash=mB;var lpe={}.toString;function dpe(r,e){if(e!==void 0&&lpe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}At.checkOpts=dpe;function hpe(r){let e=n=>r().update(pk(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}At.wrapConstructor=hpe;function gpe(r){let e=(n,s)=>r(s).update(pk(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}At.wrapConstructorWithOpts=gpe;function ppe(r){let e=(n,s)=>r(s).update(pk(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}At.wrapXOFConstructorWithOpts=ppe;function mpe(r=32){if(pB.crypto&&typeof pB.crypto.getRandomValues=="function")return pB.crypto.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}At.randomBytes=mpe});var yk=M(rg=>{y();b();Object.defineProperty(rg,"__esModule",{value:!0});rg.hmac=rg.HMAC=void 0;var mk=Vb(),rW=ic(),e2=class extends rW.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,mk.hash)(e);let n=(0,rW.toBytes)(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,mk.exists)(this),this.iHash.update(e),this}digestInto(e){(0,mk.exists)(this),(0,mk.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};rg.HMAC=e2;var ype=(r,e,t)=>new e2(r,e).update(t).digest();rg.hmac=ype;rg.hmac.create=(r,e)=>new e2(r,e)});var bB=M(Jb=>{y();b();Object.defineProperty(Jb,"__esModule",{value:!0});Jb.pbkdf2Async=Jb.pbkdf2=void 0;var bk=Vb(),bpe=yk(),zb=ic();function nW(r,e,t,n){(0,bk.hash)(r);let s=(0,zb.checkOpts)({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if((0,bk.number)(i),(0,bk.number)(o),(0,bk.number)(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=(0,zb.toBytes)(e),f=(0,zb.toBytes)(t),g=new Uint8Array(o),p=bpe.hmac.create(r,c),A=p._cloneInto().update(f);return{c:i,dkLen:o,asyncTick:a,DK:g,PRF:p,PRFSalt:A}}function sW(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function xpe(r,e,t,n){let{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=nW(r,e,t,n),f,g=new Uint8Array(4),p=(0,zb.createView)(g),A=new Uint8Array(a.outputLen);for(let P=1,C=0;C<i;P++,C+=a.outputLen){let N=o.subarray(C,C+a.outputLen);p.setInt32(0,P,!1),(f=c._cloneInto(f)).update(g).digestInto(A),N.set(A.subarray(0,N.length));for(let L=1;L<s;L++){a._cloneInto(f).update(A).digestInto(A);for(let F=0;F<N.length;F++)N[F]^=A[F]}}return sW(a,c,o,f,A)}Jb.pbkdf2=xpe;async function wpe(r,e,t,n){let{c:s,dkLen:i,asyncTick:o,DK:a,PRF:c,PRFSalt:f}=nW(r,e,t,n),g,p=new Uint8Array(4),A=(0,zb.createView)(p),P=new Uint8Array(c.outputLen);for(let C=1,N=0;N<i;C++,N+=c.outputLen){let L=a.subarray(N,N+c.outputLen);A.setInt32(0,C,!1),(g=f._cloneInto(g)).update(p).digestInto(P),L.set(P.subarray(0,L.length)),await(0,zb.asyncLoop)(s-1,o,()=>{c._cloneInto(g).update(P).digestInto(P);for(let F=0;F<L.length;F++)L[F]^=P[F]})}return sW(c,f,a,g,P)}Jb.pbkdf2Async=wpe});var wk=M(xk=>{y();b();Object.defineProperty(xk,"__esModule",{value:!0});xk.SHA2=void 0;var xB=Vb(),t2=ic();function _pe(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}var wB=class extends t2.Hash{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,t2.createView)(this.buffer)}update(e){(0,xB.exists)(this);let{view:t,buffer:n,blockLen:s}=this;e=(0,t2.toBytes)(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=(0,t2.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,xB.exists)(this),(0,xB.output)(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let p=o;p<s;p++)t[p]=0;_pe(n,s-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,t2.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)a.setUint32(4*p,g[p],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}};xk.SHA2=wB});var vk=M(Wb=>{y();b();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.sha224=Wb.sha256=void 0;var vpe=wk(),Fo=ic(),Ppe=(r,e,t)=>r&e^~r&t,Ape=(r,e,t)=>r&e^r&t^e&t,Epe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gd=new Uint32Array(64),_k=class extends vpe.SHA2{constructor(){super(64,32,8,!1),this.A=hd[0]|0,this.B=hd[1]|0,this.C=hd[2]|0,this.D=hd[3]|0,this.E=hd[4]|0,this.F=hd[5]|0,this.G=hd[6]|0,this.H=hd[7]|0}get(){let{A:e,B:t,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,n,s,i,o,a,c]}set(e,t,n,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let p=0;p<16;p++,t+=4)gd[p]=e.getUint32(t,!1);for(let p=16;p<64;p++){let A=gd[p-15],P=gd[p-2],C=(0,Fo.rotr)(A,7)^(0,Fo.rotr)(A,18)^A>>>3,N=(0,Fo.rotr)(P,17)^(0,Fo.rotr)(P,19)^P>>>10;gd[p]=N+gd[p-7]+C+gd[p-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:f,H:g}=this;for(let p=0;p<64;p++){let A=(0,Fo.rotr)(a,6)^(0,Fo.rotr)(a,11)^(0,Fo.rotr)(a,25),P=g+A+Ppe(a,c,f)+Epe[p]+gd[p]|0,N=((0,Fo.rotr)(n,2)^(0,Fo.rotr)(n,13)^(0,Fo.rotr)(n,22))+Ape(n,s,i)|0;g=f,f=c,c=a,a=o+P|0,o=i,i=s,s=n,n=P+N|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(n,s,i,o,a,c,f,g)}roundClean(){gd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},_B=class extends _k{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Wb.sha256=(0,Fo.wrapConstructor)(()=>new _k);Wb.sha224=(0,Fo.wrapConstructor)(()=>new _B)});var AB=M(Ce=>{y();b();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.add5L=Ce.add5H=Ce.add4H=Ce.add4L=Ce.add3H=Ce.add3L=Ce.add=Ce.rotlBL=Ce.rotlBH=Ce.rotlSL=Ce.rotlSH=Ce.rotr32L=Ce.rotr32H=Ce.rotrBL=Ce.rotrBH=Ce.rotrSL=Ce.rotrSH=Ce.shrSL=Ce.shrSH=Ce.toBig=Ce.split=Ce.fromBig=void 0;var Pk=BigInt(2**32-1),vB=BigInt(32);function PB(r,e=!1){return e?{h:Number(r&Pk),l:Number(r>>vB&Pk)}:{h:Number(r>>vB&Pk)|0,l:Number(r&Pk)|0}}Ce.fromBig=PB;function iW(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:i,l:o}=PB(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}Ce.split=iW;var oW=(r,e)=>BigInt(r>>>0)<<vB|BigInt(e>>>0);Ce.toBig=oW;var aW=(r,e,t)=>r>>>t;Ce.shrSH=aW;var cW=(r,e,t)=>r<<32-t|e>>>t;Ce.shrSL=cW;var uW=(r,e,t)=>r>>>t|e<<32-t;Ce.rotrSH=uW;var fW=(r,e,t)=>r<<32-t|e>>>t;Ce.rotrSL=fW;var lW=(r,e,t)=>r<<64-t|e>>>t-32;Ce.rotrBH=lW;var dW=(r,e,t)=>r>>>t-32|e<<64-t;Ce.rotrBL=dW;var hW=(r,e)=>e;Ce.rotr32H=hW;var gW=(r,e)=>r;Ce.rotr32L=gW;var pW=(r,e,t)=>r<<t|e>>>32-t;Ce.rotlSH=pW;var mW=(r,e,t)=>e<<t|r>>>32-t;Ce.rotlSL=mW;var yW=(r,e,t)=>e<<t-32|r>>>64-t;Ce.rotlBH=yW;var bW=(r,e,t)=>r<<t-32|e>>>64-t;Ce.rotlBL=bW;function xW(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}Ce.add=xW;var wW=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0);Ce.add3L=wW;var _W=(r,e,t,n)=>e+t+n+(r/2**32|0)|0;Ce.add3H=_W;var vW=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0);Ce.add4L=vW;var PW=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0;Ce.add4H=PW;var AW=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0);Ce.add5L=AW;var EW=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0;Ce.add5H=EW;var Spe={fromBig:PB,split:iW,toBig:oW,shrSH:aW,shrSL:cW,rotrSH:uW,rotrSL:fW,rotrBH:lW,rotrBL:dW,rotr32H:hW,rotr32L:gW,rotlSH:pW,rotlSL:mW,rotlBH:yW,rotlBL:bW,add:xW,add3L:wW,add3H:_W,add4L:vW,add4H:PW,add5H:EW,add5L:AW};Ce.default=Spe});var SW=M(Lo=>{y();b();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.sha384=Lo.sha512_256=Lo.sha512_224=Lo.sha512=Lo.SHA512=void 0;var kpe=wk(),Et=AB(),Ak=ic(),[Ope,Tpe]=(()=>Et.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),pd=new Uint32Array(80),md=new Uint32Array(80),ng=class extends kpe.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:f,El:g,Fh:p,Fl:A,Gh:P,Gl:C,Hh:N,Hl:L}=this;return[e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,L]}set(e,t,n,s,i,o,a,c,f,g,p,A,P,C,N,L){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=f|0,this.El=g|0,this.Fh=p|0,this.Fl=A|0,this.Gh=P|0,this.Gl=C|0,this.Hh=N|0,this.Hl=L|0}process(e,t){for(let q=0;q<16;q++,t+=4)pd[q]=e.getUint32(t),md[q]=e.getUint32(t+=4);for(let q=16;q<80;q++){let K=pd[q-15]|0,H=md[q-15]|0,G=Et.default.rotrSH(K,H,1)^Et.default.rotrSH(K,H,8)^Et.default.shrSH(K,H,7),V=Et.default.rotrSL(K,H,1)^Et.default.rotrSL(K,H,8)^Et.default.shrSL(K,H,7),J=pd[q-2]|0,ae=md[q-2]|0,se=Et.default.rotrSH(J,ae,19)^Et.default.rotrBH(J,ae,61)^Et.default.shrSH(J,ae,6),$=Et.default.rotrSL(J,ae,19)^Et.default.rotrBL(J,ae,61)^Et.default.shrSL(J,ae,6),le=Et.default.add4L(V,$,md[q-7],md[q-16]),S=Et.default.add4H(le,G,se,pd[q-7],pd[q-16]);pd[q]=S|0,md[q]=le|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:f,Dl:g,Eh:p,El:A,Fh:P,Fl:C,Gh:N,Gl:L,Hh:F,Hl:D}=this;for(let q=0;q<80;q++){let K=Et.default.rotrSH(p,A,14)^Et.default.rotrSH(p,A,18)^Et.default.rotrBH(p,A,41),H=Et.default.rotrSL(p,A,14)^Et.default.rotrSL(p,A,18)^Et.default.rotrBL(p,A,41),G=p&P^~p&N,V=A&C^~A&L,J=Et.default.add5L(D,H,V,Tpe[q],md[q]),ae=Et.default.add5H(J,F,K,G,Ope[q],pd[q]),se=J|0,$=Et.default.rotrSH(n,s,28)^Et.default.rotrBH(n,s,34)^Et.default.rotrBH(n,s,39),le=Et.default.rotrSL(n,s,28)^Et.default.rotrBL(n,s,34)^Et.default.rotrBL(n,s,39),S=n&i^n&a^i&a,u=s&o^s&c^o&c;F=N|0,D=L|0,N=P|0,L=C|0,P=p|0,C=A|0,{h:p,l:A}=Et.default.add(f|0,g|0,ae|0,se|0),f=a|0,g=c|0,a=i|0,c=o|0,i=n|0,o=s|0;let l=Et.default.add3L(se,le,u);n=Et.default.add3H(l,ae,$,S),s=l|0}({h:n,l:s}=Et.default.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Et.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Et.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:f,l:g}=Et.default.add(this.Dh|0,this.Dl|0,f|0,g|0),{h:p,l:A}=Et.default.add(this.Eh|0,this.El|0,p|0,A|0),{h:P,l:C}=Et.default.add(this.Fh|0,this.Fl|0,P|0,C|0),{h:N,l:L}=Et.default.add(this.Gh|0,this.Gl|0,N|0,L|0),{h:F,l:D}=Et.default.add(this.Hh|0,this.Hl|0,F|0,D|0),this.set(n,s,i,o,a,c,f,g,p,A,P,C,N,L,F,D)}roundClean(){pd.fill(0),md.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Lo.SHA512=ng;var EB=class extends ng{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},SB=class extends ng{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},kB=class extends ng{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Lo.sha512=(0,Ak.wrapConstructor)(()=>new ng);Lo.sha512_224=(0,Ak.wrapConstructor)(()=>new EB);Lo.sha512_256=(0,Ak.wrapConstructor)(()=>new SB);Lo.sha384=(0,Ak.wrapConstructor)(()=>new kB)});var n2=M(uu=>{y();b();Object.defineProperty(uu,"__esModule",{value:!0});uu.randomBytes=uu.pbkdf2Sync=uu.createHmac=uu.createHash=void 0;var Npe=yk(),Cpe=bB(),OB=vk(),TB=SW(),r2=ge();function Rpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var kW=Rpe(),OW=kW.crypto||kW.msCrypto;function Bpe(r){switch(r){case"sha256":return OB.sha256.create();case"sha512":return TB.sha512.create()}(0,r2.assertArgument)(!1,"invalid hashing algorithm name","algorithm",r)}uu.createHash=Bpe;function Ipe(r,e){let t={sha256:OB.sha256,sha512:TB.sha512}[r];return(0,r2.assertArgument)(t!=null,"invalid hmac algorithm","algorithm",r),Npe.hmac.create(t,e)}uu.createHmac=Ipe;function Mpe(r,e,t,n,s){let i={sha256:OB.sha256,sha512:TB.sha512}[s];return(0,r2.assertArgument)(i!=null,"invalid pbkdf2 algorithm","algorithm",s),(0,Cpe.pbkdf2)(i,r,e,{c:t,dkLen:n})}uu.pbkdf2Sync=Mpe;function jpe(r){(0,r2.assert)(OW!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,r2.assertArgument)(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);let e=new Uint8Array(r);return OW.getRandomValues(e),e}uu.randomBytes=jpe});var RW=M(Ek=>{y();b();Object.defineProperty(Ek,"__esModule",{value:!0});Ek.computeHmac=void 0;var Fpe=n2(),NB=ge(),TW=!1,NW=function(r,e,t){return(0,Fpe.createHmac)(r,e).update(t).digest()},CW=NW;function s2(r,e,t){let n=(0,NB.getBytes)(e,"key"),s=(0,NB.getBytes)(t,"data");return(0,NB.hexlify)(CW(r,n,s))}Ek.computeHmac=s2;s2._=NW;s2.lock=function(){TW=!0};s2.register=function(r){if(TW)throw new Error("computeHmac is locked");CW=r};Object.freeze(s2)});var DW=M(hr=>{y();b();Object.defineProperty(hr,"__esModule",{value:!0});hr.shake256=hr.shake128=hr.keccak_512=hr.keccak_384=hr.keccak_256=hr.keccak_224=hr.sha3_512=hr.sha3_384=hr.sha3_256=hr.sha3_224=hr.Keccak=hr.keccakP=void 0;var $b=Vb(),a2=AB(),o2=ic(),[MW,jW,FW]=[[],[],[]],Lpe=BigInt(0),i2=BigInt(1),Upe=BigInt(2),Dpe=BigInt(7),qpe=BigInt(256),Hpe=BigInt(113);for(let r=0,e=i2,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],MW.push(2*(5*n+t)),jW.push((r+1)*(r+2)/2%64);let s=Lpe;for(let i=0;i<7;i++)e=(e<<i2^(e>>Dpe)*Hpe)%qpe,e&Upe&&(s^=i2<<(i2<<BigInt(i))-i2);FW.push(s)}var[Gpe,Kpe]=(0,a2.split)(FW,!0),BW=(r,e,t)=>t>32?(0,a2.rotlBH)(r,e,t):(0,a2.rotlSH)(r,e,t),IW=(r,e,t)=>t>32?(0,a2.rotlBL)(r,e,t):(0,a2.rotlSL)(r,e,t);function LW(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,f=t[c],g=t[c+1],p=BW(f,g,1)^t[a],A=IW(f,g,1)^t[a+1];for(let P=0;P<50;P+=10)r[o+P]^=p,r[o+P+1]^=A}let s=r[2],i=r[3];for(let o=0;o<24;o++){let a=jW[o],c=BW(s,i,a),f=IW(s,i,a),g=MW[o];s=r[g],i=r[g+1],r[g]=c,r[g+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=Gpe[n],r[1]^=Kpe[n]}t.fill(0)}hr.keccakP=LW;var sg=class extends o2.Hash{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,$b.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o2.u32)(this.state)}keccak(){LW(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,$b.exists)(this);let{blockLen:t,state:n}=this;e=(0,o2.toBytes)(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,$b.exists)(this,!1),(0,$b.bytes)(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,$b.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,$b.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new sg(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};hr.Keccak=sg;var yd=(r,e,t)=>(0,o2.wrapConstructor)(()=>new sg(e,r,t));hr.sha3_224=yd(6,144,224/8);hr.sha3_256=yd(6,136,256/8);hr.sha3_384=yd(6,104,384/8);hr.sha3_512=yd(6,72,512/8);hr.keccak_224=yd(1,144,224/8);hr.keccak_256=yd(1,136,256/8);hr.keccak_384=yd(1,104,384/8);hr.keccak_512=yd(1,72,512/8);var UW=(r,e,t)=>(0,o2.wrapXOFConstructorWithOpts)((n={})=>new sg(e,r,n.dkLen===void 0?t:n.dkLen,!0));hr.shake128=UW(31,168,128/8);hr.shake256=UW(31,136,256/8)});var VW=M(Sk=>{y();b();Object.defineProperty(Sk,"__esModule",{value:!0});Sk.keccak256=void 0;var Vpe=DW(),qW=ge(),HW=!1,GW=function(r){return(0,Vpe.keccak_256)(r)},KW=GW;function c2(r){let e=(0,qW.getBytes)(r,"data");return(0,qW.hexlify)(KW(e))}Sk.keccak256=c2;c2._=GW;c2.lock=function(){HW=!0};c2.register=function(r){if(HW)throw new TypeError("keccak256 is locked");KW=r};Object.freeze(c2)});var $W=M(Zb=>{y();b();Object.defineProperty(Zb,"__esModule",{value:!0});Zb.ripemd160=Zb.RIPEMD160=void 0;var zpe=wk(),Jpe=ic(),Wpe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),JW=Uint8Array.from({length:16},(r,e)=>e),$pe=JW.map(r=>(9*r+5)%16),CB=[JW],RB=[$pe];for(let r=0;r<4;r++)for(let e of[CB,RB])e.push(e[r].map(t=>Wpe[t]));var WW=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),Zpe=CB.map((r,e)=>r.map(t=>WW[e][t])),Qpe=RB.map((r,e)=>r.map(t=>WW[e][t])),Xpe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Ype=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),kk=(r,e)=>r<<e|r>>>32-e;function zW(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}var Ok=new Uint32Array(16),Tk=class extends zpe.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let P=0;P<16;P++,t+=4)Ok[P]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,f=this.h3|0,g=f,p=this.h4|0,A=p;for(let P=0;P<5;P++){let C=4-P,N=Xpe[P],L=Ype[P],F=CB[P],D=RB[P],q=Zpe[P],K=Qpe[P];for(let H=0;H<16;H++){let G=kk(n+zW(P,i,a,f)+Ok[F[H]]+N,q[H])+p|0;n=p,p=f,f=kk(a,10)|0,a=i,i=G}for(let H=0;H<16;H++){let G=kk(s+zW(C,o,c,g)+Ok[D[H]]+L,K[H])+A|0;s=A,A=g,g=kk(c,10)|0,c=o,o=G}}this.set(this.h1+a+g|0,this.h2+f+A|0,this.h3+p+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){Ok.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Zb.RIPEMD160=Tk;Zb.ripemd160=(0,Jpe.wrapConstructor)(()=>new Tk)});var e$=M(Nk=>{y();b();Object.defineProperty(Nk,"__esModule",{value:!0});Nk.ripemd160=void 0;var eme=$W(),ZW=ge(),QW=!1,XW=function(r){return(0,eme.ripemd160)(r)},YW=XW;function u2(r){let e=(0,ZW.getBytes)(r,"data");return(0,ZW.hexlify)(YW(e))}Nk.ripemd160=u2;u2._=XW;u2.lock=function(){QW=!0};u2.register=function(r){if(QW)throw new TypeError("ripemd160 is locked");YW=r};Object.freeze(u2)});var s$=M(Ck=>{y();b();Object.defineProperty(Ck,"__esModule",{value:!0});Ck.pbkdf2=void 0;var tme=n2(),BB=ge(),t$=!1,r$=function(r,e,t,n,s){return(0,tme.pbkdf2Sync)(r,e,t,n,s)},n$=r$;function f2(r,e,t,n,s){let i=(0,BB.getBytes)(r,"password"),o=(0,BB.getBytes)(e,"salt");return(0,BB.hexlify)(n$(i,o,t,n,s))}Ck.pbkdf2=f2;f2._=r$;f2.lock=function(){t$=!0};f2.register=function(r){if(t$)throw new Error("pbkdf2 is locked");n$=r};Object.freeze(f2)});var c$=M(Rk=>{y();b();Object.defineProperty(Rk,"__esModule",{value:!0});Rk.randomBytes=void 0;var rme=n2(),i$=!1,o$=function(r){return new Uint8Array((0,rme.randomBytes)(r))},a$=o$;function l2(r){return a$(r)}Rk.randomBytes=l2;l2._=o$;l2.lock=function(){i$=!0};l2.register=function(r){if(i$)throw new Error("randomBytes is locked");a$=r};Object.freeze(l2)});var g$=M(ex=>{y();b();Object.defineProperty(ex,"__esModule",{value:!0});ex.scryptAsync=ex.scrypt=void 0;var Qb=Vb(),f$=vk(),l$=bB(),Xb=ic(),Qt=(r,e)=>r<<e|r>>>32-e;function u$(r,e,t,n,s,i){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],f=r[e++]^t[n++],g=r[e++]^t[n++],p=r[e++]^t[n++],A=r[e++]^t[n++],P=r[e++]^t[n++],C=r[e++]^t[n++],N=r[e++]^t[n++],L=r[e++]^t[n++],F=r[e++]^t[n++],D=r[e++]^t[n++],q=r[e++]^t[n++],K=r[e++]^t[n++],H=r[e++]^t[n++],G=o,V=a,J=c,ae=f,se=g,$=p,le=A,S=P,u=C,l=N,m=L,x=F,_=D,k=q,R=K,v=H;for(let d=0;d<8;d+=2)se^=Qt(G+_|0,7),u^=Qt(se+G|0,9),_^=Qt(u+se|0,13),G^=Qt(_+u|0,18),l^=Qt($+V|0,7),k^=Qt(l+$|0,9),V^=Qt(k+l|0,13),$^=Qt(V+k|0,18),R^=Qt(m+le|0,7),J^=Qt(R+m|0,9),le^=Qt(J+R|0,13),m^=Qt(le+J|0,18),ae^=Qt(v+x|0,7),S^=Qt(ae+v|0,9),x^=Qt(S+ae|0,13),v^=Qt(x+S|0,18),V^=Qt(G+ae|0,7),J^=Qt(V+G|0,9),ae^=Qt(J+V|0,13),G^=Qt(ae+J|0,18),le^=Qt($+se|0,7),S^=Qt(le+$|0,9),se^=Qt(S+le|0,13),$^=Qt(se+S|0,18),x^=Qt(m+l|0,7),u^=Qt(x+m|0,9),l^=Qt(u+x|0,13),m^=Qt(l+u|0,18),_^=Qt(v+R|0,7),k^=Qt(_+v|0,9),R^=Qt(k+_|0,13),v^=Qt(R+k|0,18);s[i++]=o+G|0,s[i++]=a+V|0,s[i++]=c+J|0,s[i++]=f+ae|0,s[i++]=g+se|0,s[i++]=p+$|0,s[i++]=A+le|0,s[i++]=P+S|0,s[i++]=C+u|0,s[i++]=N+l|0,s[i++]=L+m|0,s[i++]=F+x|0,s[i++]=D+_|0,s[i++]=q+k|0,s[i++]=K+R|0,s[i++]=H+v|0}function Yb(r,e,t,n,s){let i=n+0,o=n+16*s;for(let a=0;a<16;a++)t[o+a]=r[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)u$(t,o,r,e,t,i),a>0&&(o+=16),u$(t,i,r,e+=16,t,o)}function d$(r,e,t){let n=(0,Xb.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:f,onProgress:g}=n;if((0,Qb.number)(s),(0,Qb.number)(i),(0,Qb.number)(o),(0,Qb.number)(a),(0,Qb.number)(c),(0,Qb.number)(f),g!==void 0&&typeof g!="function")throw new Error("progressCb should be function");let p=128*i,A=p/4;if(s<=1||(s&s-1)!==0||s>=2**(p/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let P=p*(s+o);if(P>f)throw new Error(`Scrypt: parameters too large, ${P} (128 * r * (N + p)) > ${f} (maxmem)`);let C=(0,l$.pbkdf2)(f$.sha256,r,e,{c:1,dkLen:p*o}),N=(0,Xb.u32)(C),L=(0,Xb.u32)(new Uint8Array(p*s)),F=(0,Xb.u32)(new Uint8Array(p)),D=()=>{};if(g){let q=2*s*o,K=Math.max(Math.floor(q/1e4),1),H=0;D=()=>{H++,g&&(!(H%K)||H===q)&&g(H/q)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:A,V:L,B32:N,B:C,tmp:F,blockMixCb:D,asyncTick:c}}function h$(r,e,t,n,s){let i=(0,l$.pbkdf2)(f$.sha256,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function nme(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A}=d$(r,e,t);for(let P=0;P<i;P++){let C=a*P;for(let N=0;N<a;N++)c[N]=f[C+N];for(let N=0,L=0;N<n-1;N++)Yb(c,L,c,L+=a,s),A();Yb(c,(n-1)*a,f,C,s),A();for(let N=0;N<n;N++){let L=f[C+a-16]%n;for(let F=0;F<a;F++)p[F]=f[C+F]^c[L*a+F];Yb(p,0,f,C,s),A()}}return h$(r,o,g,c,p)}ex.scrypt=nme;async function sme(r,e,t){let{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:f,B:g,tmp:p,blockMixCb:A,asyncTick:P}=d$(r,e,t);for(let C=0;C<i;C++){let N=a*C;for(let F=0;F<a;F++)c[F]=f[N+F];let L=0;await(0,Xb.asyncLoop)(n-1,P,()=>{Yb(c,L,c,L+=a,s),A()}),Yb(c,(n-1)*a,f,N,s),A(),await(0,Xb.asyncLoop)(n,P,()=>{let F=f[N+a-16]%n;for(let D=0;D<a;D++)p[D]=f[N+D]^c[F*a+D];Yb(p,0,f,N,s),A()})}return h$(r,o,g,c,p)}ex.scryptAsync=sme});var v$=M(rx=>{y();b();Object.defineProperty(rx,"__esModule",{value:!0});rx.scryptSync=rx.scrypt=void 0;var p$=g$(),tx=ge(),m$=!1,y$=!1,b$=async function(r,e,t,n,s,i,o){return await(0,p$.scryptAsync)(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:o})},x$=function(r,e,t,n,s,i){return(0,p$.scrypt)(r,e,{N:t,r:n,p:s,dkLen:i})},w$=b$,_$=x$;async function d2(r,e,t,n,s,i,o){let a=(0,tx.getBytes)(r,"passwd"),c=(0,tx.getBytes)(e,"salt");return(0,tx.hexlify)(await w$(a,c,t,n,s,i,o))}rx.scrypt=d2;d2._=b$;d2.lock=function(){y$=!0};d2.register=function(r){if(y$)throw new Error("scrypt is locked");w$=r};Object.freeze(d2);function h2(r,e,t,n,s,i){let o=(0,tx.getBytes)(r,"passwd"),a=(0,tx.getBytes)(e,"salt");return(0,tx.hexlify)(_$(o,a,t,n,s,i))}rx.scryptSync=h2;h2._=x$;h2.lock=function(){m$=!0};h2.register=function(r){if(m$)throw new Error("scryptSync is locked");_$=r};Object.freeze(h2)});var N$=M(nx=>{y();b();Object.defineProperty(nx,"__esModule",{value:!0});nx.sha512=nx.sha256=void 0;var P$=n2(),Bk=ge(),A$=function(r){return(0,P$.createHash)("sha256").update(r).digest()},E$=function(r){return(0,P$.createHash)("sha512").update(r).digest()},S$=A$,k$=E$,O$=!1,T$=!1;function sx(r){let e=(0,Bk.getBytes)(r,"data");return(0,Bk.hexlify)(S$(e))}nx.sha256=sx;sx._=A$;sx.lock=function(){O$=!0};sx.register=function(r){if(O$)throw new Error("sha256 is locked");S$=r};Object.freeze(sx);function Ik(r){let e=(0,Bk.getBytes)(r,"data");return(0,Bk.hexlify)(k$(e))}nx.sha512=Ik;Ik._=E$;Ik.lock=function(){T$=!0};Ik.register=function(r){if(T$)throw new Error("sha512 is locked");k$=r};Object.freeze(sx)});var ig=M(St=>{y();b();Object.defineProperty(St,"__esModule",{value:!0});St.validateObject=St.createHmacDrbg=St.bitMask=St.bitSet=St.bitGet=St.bitLen=St.utf8ToBytes=St.equalBytes=St.concatBytes=St.ensureBytes=St.numberToVarBytesBE=St.numberToBytesLE=St.numberToBytesBE=St.bytesToNumberLE=St.bytesToNumberBE=St.hexToBytes=St.hexToNumber=St.numberToHexUnpadded=St.bytesToHex=void 0;var R$=BigInt(0),Mk=BigInt(1),ime=BigInt(2),jk=r=>r instanceof Uint8Array,ome=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function MB(r){if(!jk(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=ome[r[t]];return e}St.bytesToHex=MB;function B$(r){let e=r.toString(16);return e.length&1?`0${e}`:e}St.numberToHexUnpadded=B$;function jB(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}St.hexToNumber=jB;function Fk(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}St.hexToBytes=Fk;function ame(r){return jB(MB(r))}St.bytesToNumberBE=ame;function cme(r){if(!jk(r))throw new Error("Uint8Array expected");return jB(MB(Uint8Array.from(r).reverse()))}St.bytesToNumberLE=cme;function I$(r,e){return Fk(r.toString(16).padStart(e*2,"0"))}St.numberToBytesBE=I$;function ume(r,e){return I$(r,e).reverse()}St.numberToBytesLE=ume;function fme(r){return Fk(B$(r))}St.numberToVarBytesBE=fme;function lme(r,e,t){let n;if(typeof e=="string")try{n=Fk(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(jk(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}St.ensureBytes=lme;function M$(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!jk(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}St.concatBytes=M$;function dme(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}St.equalBytes=dme;function hme(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}St.utf8ToBytes=hme;function gme(r){let e;for(e=0;r>R$;r>>=Mk,e+=1);return e}St.bitLen=gme;function pme(r,e){return r>>BigInt(e)&Mk}St.bitGet=pme;var mme=(r,e,t)=>r|(t?Mk:R$)<<BigInt(e);St.bitSet=mme;var yme=r=>(ime<<BigInt(r-1))-Mk;St.bitMask=yme;var IB=r=>new Uint8Array(r),C$=r=>Uint8Array.from(r);function bme(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=IB(r),s=IB(r),i=0,o=()=>{n.fill(1),s.fill(0),i=0},a=(...p)=>t(s,n,...p),c=(p=IB())=>{s=a(C$([0]),p),n=a(),p.length!==0&&(s=a(C$([1]),p),n=a())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,A=[];for(;p<e;){n=a();let P=n.slice();A.push(P),p+=n.length}return M$(...A)};return(p,A)=>{o(),c(p);let P;for(;!(P=A(f()));)c();return o(),P}}St.createHmacDrbg=bme;var xme={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function wme(r,e,t={}){let n=(s,i,o)=>{let a=xme[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(let[s,i]of Object.entries(e))n(s,i,!1);for(let[s,i]of Object.entries(t))n(s,i,!0);return r}St.validateObject=wme});var g2=M(qe=>{y();b();Object.defineProperty(qe,"__esModule",{value:!0});qe.mapHashToField=qe.getMinHashLength=qe.getFieldBytesLength=qe.hashToPrivateScalar=qe.FpSqrtEven=qe.FpSqrtOdd=qe.Field=qe.nLength=qe.FpIsSquare=qe.FpDiv=qe.FpInvertBatch=qe.FpPow=qe.validateField=qe.isNegativeLE=qe.FpSqrt=qe.tonelliShanks=qe.invert=qe.pow2=qe.pow=qe.mod=void 0;var qi=ig(),vn=BigInt(0),ur=BigInt(1),bd=BigInt(2),_me=BigInt(3),FB=BigInt(4),j$=BigInt(5),F$=BigInt(8),vme=BigInt(9),Pme=BigInt(16);function Di(r,e){let t=r%e;return t>=vn?t:e+t}qe.mod=Di;function L$(r,e,t){if(t<=vn||e<vn)throw new Error("Expected power/modulo > 0");if(t===ur)return vn;let n=ur;for(;e>vn;)e&ur&&(n=n*r%t),r=r*r%t,e>>=ur;return n}qe.pow=L$;function Ame(r,e,t){let n=r;for(;e-- >vn;)n*=n,n%=t;return n}qe.pow2=Ame;function Lk(r,e){if(r===vn||e<=vn)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Di(r,e),n=e,s=vn,i=ur,o=ur,a=vn;for(;t!==vn;){let f=n/t,g=n%t,p=s-o*f,A=i-a*f;n=t,t=g,s=o,i=a,o=p,a=A}if(n!==ur)throw new Error("invert: does not exist");return Di(s,e)}qe.invert=Lk;function U$(r){let e=(r-ur)/bd,t,n,s;for(t=r-ur,n=0;t%bd===vn;t/=bd,n++);for(s=bd;s<r&&L$(s,e,r)!==r-ur;s++);if(n===1){let o=(r+ur)/FB;return function(c,f){let g=c.pow(f,o);if(!c.eql(c.sqr(g),f))throw new Error("Cannot find square root");return g}}let i=(t+ur)/bd;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,g=a.pow(a.mul(a.ONE,s),t),p=a.pow(c,i),A=a.pow(c,t);for(;!a.eql(A,a.ONE);){if(a.eql(A,a.ZERO))return a.ZERO;let P=1;for(let N=a.sqr(A);P<f&&!a.eql(N,a.ONE);P++)N=a.sqr(N);let C=a.pow(g,ur<<BigInt(f-P-1));g=a.sqr(C),p=a.mul(p,C),A=a.mul(A,g),f=P}return p}}qe.tonelliShanks=U$;function D$(r){if(r%FB===_me){let e=(r+ur)/FB;return function(n,s){let i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%F$===j$){let e=(r-j$)/F$;return function(n,s){let i=n.mul(s,bd),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,bd),o),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f}}return r%Pme,U$(r)}qe.FpSqrt=D$;var Eme=(r,e)=>(Di(r,e)&ur)===ur;qe.isNegativeLE=Eme;var Sme=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kme(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Sme.reduce((n,s)=>(n[s]="function",n),e);return(0,qi.validateObject)(r,t)}qe.validateField=kme;function q$(r,e,t){if(t<vn)throw new Error("Expected power > 0");if(t===vn)return r.ONE;if(t===ur)return e;let n=r.ONE,s=e;for(;t>vn;)t&ur&&(n=r.mul(n,s)),s=r.sqr(s),t>>=ur;return n}qe.FpPow=q$;function H$(r,e){let t=new Array(e.length),n=e.reduce((i,o,a)=>r.is0(o)?i:(t[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,a)=>r.is0(o)?i:(t[a]=r.mul(i,t[a]),r.mul(i,o)),s),t}qe.FpInvertBatch=H$;function Ome(r,e,t){return r.mul(e,typeof t=="bigint"?Lk(t,r.ORDER):r.inv(t))}qe.FpDiv=Ome;function Tme(r){let e=(r.ORDER-ur)/bd;return t=>{let n=r.pow(t,e);return r.eql(n,r.ZERO)||r.eql(n,r.ONE)}}qe.FpIsSquare=Tme;function LB(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}qe.nLength=LB;function Nme(r,e,t=!1,n={}){if(r<=vn)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:s,nByteLength:i}=LB(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=D$(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:(0,qi.bitMask)(s),ZERO:vn,ONE:ur,create:c=>Di(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return vn<=c&&c<r},is0:c=>c===vn,isOdd:c=>(c&ur)===ur,neg:c=>Di(-c,r),eql:(c,f)=>c===f,sqr:c=>Di(c*c,r),add:(c,f)=>Di(c+f,r),sub:(c,f)=>Di(c-f,r),mul:(c,f)=>Di(c*f,r),pow:(c,f)=>q$(a,c,f),div:(c,f)=>Di(c*Lk(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>Lk(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>H$(a,c),cmov:(c,f,g)=>g?f:c,toBytes:c=>t?(0,qi.numberToBytesLE)(c,i):(0,qi.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,qi.bytesToNumberLE)(c):(0,qi.bytesToNumberBE)(c)}});return Object.freeze(a)}qe.Field=Nme;function Cme(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?t:r.neg(t)}qe.FpSqrtOdd=Cme;function Rme(r,e){if(!r.isOdd)throw new Error("Field doesn't have isOdd");let t=r.sqrt(e);return r.isOdd(t)?r.neg(t):t}qe.FpSqrtEven=Rme;function Bme(r,e,t=!1){r=(0,qi.ensureBytes)("privateHash",r);let n=r.length,s=LB(e).nByteLength+8;if(s<24||n<s||n>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${n}`);let i=t?(0,qi.bytesToNumberLE)(r):(0,qi.bytesToNumberBE)(r);return Di(i,e-ur)+ur}qe.hashToPrivateScalar=Bme;function UB(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}qe.getFieldBytesLength=UB;function G$(r){let e=UB(r);return e+Math.ceil(e/2)}qe.getMinHashLength=G$;function Ime(r,e,t=!1){let n=r.length,s=UB(e),i=G$(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let o=t?(0,qi.bytesToNumberBE)(r):(0,qi.bytesToNumberLE)(r),a=Di(o,e-ur)+ur;return t?(0,qi.numberToBytesLE)(a,s):(0,qi.numberToBytesBE)(a,s)}qe.mapHashToField=Ime});var V$=M(ix=>{y();b();Object.defineProperty(ix,"__esModule",{value:!0});ix.validateBasic=ix.wNAF=void 0;var K$=g2(),Mme=ig(),jme=BigInt(0),DB=BigInt(1);function Fme(r,e){let t=(s,i)=>{let o=i.negate();return s?o:i},n=s=>{let i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=r.ZERO,a=s;for(;i>jme;)i&DB&&(o=o.add(a)),a=a.double(),i>>=DB;return o},precomputeWindow(s,i){let{windows:o,windowSize:a}=n(i),c=[],f=s,g=f;for(let p=0;p<o;p++){g=f,c.push(g);for(let A=1;A<a;A++)g=g.add(f),c.push(g);f=g.double()}return c},wNAF(s,i,o){let{windows:a,windowSize:c}=n(s),f=r.ZERO,g=r.BASE,p=BigInt(2**s-1),A=2**s,P=BigInt(s);for(let C=0;C<a;C++){let N=C*c,L=Number(o&p);o>>=P,L>c&&(L-=A,o+=DB);let F=N,D=N+Math.abs(L)-1,q=C%2!==0,K=L<0;L===0?g=g.add(t(q,i[F])):f=f.add(t(K,i[D]))}return{p:f,f:g}},wNAFCached(s,i,o,a){let c=s._WINDOW_SIZE||1,f=i.get(s);return f||(f=this.precomputeWindow(s,c),c!==1&&i.set(s,a(f))),this.wNAF(c,f,o)}}}ix.wNAF=Fme;function Lme(r){return(0,K$.validateField)(r.Fp),(0,Mme.validateObject)(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,K$.nLength)(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}ix.validateBasic=Lme});var HB=M(An=>{y();b();Object.defineProperty(An,"__esModule",{value:!0});An.mapToCurveSimpleSWU=An.SWUFpSqrtRatio=An.weierstrass=An.weierstrassPoints=An.DER=void 0;var ox=g2(),Pn=ig(),fu=ig(),qB=V$();function Ume(r){let e=(0,qB.validateBasic)(r);Pn.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Dme,hexToBytes:qme}=Pn;An.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=An.DER;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Dme(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=An.DER,t=typeof r=="string"?qme(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:s,l:i}=An.DER._parseInt(t.subarray(2)),{d:o,l:a}=An.DER._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(r){let e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{let g=f.toString(16);return g.length&1?`0${g}`:g},n=e(t(r.s)),s=e(t(r.r)),i=n.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${n}`}};var oc=BigInt(0),Wr=BigInt(1),xd=BigInt(2),Uk=BigInt(3),z$=BigInt(4);function J$(r){let e=Ume(r),{Fp:t}=e,n=e.toBytes||((C,N,L)=>{let F=N.toAffine();return Pn.concatBytes(Uint8Array.from([4]),t.toBytes(F.x),t.toBytes(F.y))}),s=e.fromBytes||(C=>{let N=C.subarray(1),L=t.fromBytes(N.subarray(0,t.BYTES)),F=t.fromBytes(N.subarray(t.BYTES,2*t.BYTES));return{x:L,y:F}});function i(C){let{a:N,b:L}=e,F=t.sqr(C),D=t.mul(F,C);return t.add(t.add(D,t.mul(C,N)),L)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(C){return typeof C=="bigint"&&oc<C&&C<e.n}function a(C){if(!o(C))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(C){let{allowedPrivateKeyLengths:N,nByteLength:L,wrapPrivateKey:F,n:D}=e;if(N&&typeof C!="bigint"){if(C instanceof Uint8Array&&(C=Pn.bytesToHex(C)),typeof C!="string"||!N.includes(C.length))throw new Error("Invalid key");C=C.padStart(L*2,"0")}let q;try{q=typeof C=="bigint"?C:Pn.bytesToNumberBE((0,fu.ensureBytes)("private key",C,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof C}`)}return F&&(q=ox.mod(q,D)),a(q),q}let f=new Map;function g(C){if(!(C instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(N,L,F){if(this.px=N,this.py=L,this.pz=F,N==null||!t.isValid(N))throw new Error("x required");if(L==null||!t.isValid(L))throw new Error("y required");if(F==null||!t.isValid(F))throw new Error("z required")}static fromAffine(N){let{x:L,y:F}=N||{};if(!N||!t.isValid(L)||!t.isValid(F))throw new Error("invalid affine point");if(N instanceof p)throw new Error("projective point not allowed");let D=q=>t.eql(q,t.ZERO);return D(L)&&D(F)?p.ZERO:new p(L,F,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){let L=t.invertBatch(N.map(F=>F.pz));return N.map((F,D)=>F.toAffine(L[D])).map(p.fromAffine)}static fromHex(N){let L=p.fromAffine(s((0,fu.ensureBytes)("pointHex",N)));return L.assertValidity(),L}static fromPrivateKey(N){return p.BASE.multiply(c(N))}_setWindowSize(N){this._WINDOW_SIZE=N,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:N,y:L}=this.toAffine();if(!t.isValid(N)||!t.isValid(L))throw new Error("bad point: x or y not FE");let F=t.sqr(L),D=i(N);if(!t.eql(F,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:N}=this.toAffine();if(t.isOdd)return!t.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){g(N);let{px:L,py:F,pz:D}=this,{px:q,py:K,pz:H}=N,G=t.eql(t.mul(L,H),t.mul(q,D)),V=t.eql(t.mul(F,H),t.mul(K,D));return G&&V}negate(){return new p(this.px,t.neg(this.py),this.pz)}double(){let{a:N,b:L}=e,F=t.mul(L,Uk),{px:D,py:q,pz:K}=this,H=t.ZERO,G=t.ZERO,V=t.ZERO,J=t.mul(D,D),ae=t.mul(q,q),se=t.mul(K,K),$=t.mul(D,q);return $=t.add($,$),V=t.mul(D,K),V=t.add(V,V),H=t.mul(N,V),G=t.mul(F,se),G=t.add(H,G),H=t.sub(ae,G),G=t.add(ae,G),G=t.mul(H,G),H=t.mul($,H),V=t.mul(F,V),se=t.mul(N,se),$=t.sub(J,se),$=t.mul(N,$),$=t.add($,V),V=t.add(J,J),J=t.add(V,J),J=t.add(J,se),J=t.mul(J,$),G=t.add(G,J),se=t.mul(q,K),se=t.add(se,se),J=t.mul(se,$),H=t.sub(H,J),V=t.mul(se,ae),V=t.add(V,V),V=t.add(V,V),new p(H,G,V)}add(N){g(N);let{px:L,py:F,pz:D}=this,{px:q,py:K,pz:H}=N,G=t.ZERO,V=t.ZERO,J=t.ZERO,ae=e.a,se=t.mul(e.b,Uk),$=t.mul(L,q),le=t.mul(F,K),S=t.mul(D,H),u=t.add(L,F),l=t.add(q,K);u=t.mul(u,l),l=t.add($,le),u=t.sub(u,l),l=t.add(L,D);let m=t.add(q,H);return l=t.mul(l,m),m=t.add($,S),l=t.sub(l,m),m=t.add(F,D),G=t.add(K,H),m=t.mul(m,G),G=t.add(le,S),m=t.sub(m,G),J=t.mul(ae,l),G=t.mul(se,S),J=t.add(G,J),G=t.sub(le,J),J=t.add(le,J),V=t.mul(G,J),le=t.add($,$),le=t.add(le,$),S=t.mul(ae,S),l=t.mul(se,l),le=t.add(le,S),S=t.sub($,S),S=t.mul(ae,S),l=t.add(l,S),$=t.mul(le,l),V=t.add(V,$),$=t.mul(m,l),G=t.mul(u,G),G=t.sub(G,$),$=t.mul(u,le),J=t.mul(m,J),J=t.add(J,$),new p(G,V,J)}subtract(N){return this.add(N.negate())}is0(){return this.equals(p.ZERO)}wNAF(N){return P.wNAFCached(this,f,N,L=>{let F=t.invertBatch(L.map(D=>D.pz));return L.map((D,q)=>D.toAffine(F[q])).map(p.fromAffine)})}multiplyUnsafe(N){let L=p.ZERO;if(N===oc)return L;if(a(N),N===Wr)return this;let{endo:F}=e;if(!F)return P.unsafeLadder(this,N);let{k1neg:D,k1:q,k2neg:K,k2:H}=F.splitScalar(N),G=L,V=L,J=this;for(;q>oc||H>oc;)q&Wr&&(G=G.add(J)),H&Wr&&(V=V.add(J)),J=J.double(),q>>=Wr,H>>=Wr;return D&&(G=G.negate()),K&&(V=V.negate()),V=new p(t.mul(V.px,F.beta),V.py,V.pz),G.add(V)}multiply(N){a(N);let L=N,F,D,{endo:q}=e;if(q){let{k1neg:K,k1:H,k2neg:G,k2:V}=q.splitScalar(L),{p:J,f:ae}=this.wNAF(H),{p:se,f:$}=this.wNAF(V);J=P.constTimeNegate(K,J),se=P.constTimeNegate(G,se),se=new p(t.mul(se.px,q.beta),se.py,se.pz),F=J.add(se),D=ae.add($)}else{let{p:K,f:H}=this.wNAF(L);F=K,D=H}return p.normalizeZ([F,D])[0]}multiplyAndAddUnsafe(N,L,F){let D=p.BASE,q=(H,G)=>G===oc||G===Wr||!H.equals(D)?H.multiplyUnsafe(G):H.multiply(G),K=q(this,L).add(q(N,F));return K.is0()?void 0:K}toAffine(N){let{px:L,py:F,pz:D}=this,q=this.is0();N==null&&(N=q?t.ONE:t.inv(D));let K=t.mul(L,N),H=t.mul(F,N),G=t.mul(D,N);if(q)return{x:t.ZERO,y:t.ZERO};if(!t.eql(G,t.ONE))throw new Error("invZ was invalid");return{x:K,y:H}}isTorsionFree(){let{h:N,isTorsionFree:L}=e;if(N===Wr)return!0;if(L)return L(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:N,clearCofactor:L}=e;return N===Wr?this:L?L(p,this):this.multiplyUnsafe(e.h)}toRawBytes(N=!0){return this.assertValidity(),n(p,this,N)}toHex(N=!0){return Pn.bytesToHex(this.toRawBytes(N))}}p.BASE=new p(e.Gx,e.Gy,t.ONE),p.ZERO=new p(t.ZERO,t.ONE,t.ZERO);let A=e.nBitLength,P=(0,qB.wNAF)(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}An.weierstrassPoints=J$;function Hme(r){let e=(0,qB.validateBasic)(r);return Pn.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Gme(r){let e=Hme(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(l){return oc<l&&l<t.ORDER}function a(l){return ox.mod(l,n)}function c(l){return ox.invert(l,n)}let{ProjectivePoint:f,normPrivateKeyToScalar:g,weierstrassEquation:p,isWithinCurveOrder:A}=J$({...e,toBytes(l,m,x){let _=m.toAffine(),k=t.toBytes(_.x),R=Pn.concatBytes;return x?R(Uint8Array.from([m.hasEvenY()?2:3]),k):R(Uint8Array.from([4]),k,t.toBytes(_.y))},fromBytes(l){let m=l.length,x=l[0],_=l.subarray(1);if(m===s&&(x===2||x===3)){let k=Pn.bytesToNumberBE(_);if(!o(k))throw new Error("Point is not on curve");let R=p(k),v=t.sqrt(R),d=(v&Wr)===Wr;return(x&1)===1!==d&&(v=t.neg(v)),{x:k,y:v}}else if(m===i&&x===4){let k=t.fromBytes(_.subarray(0,t.BYTES)),R=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:k,y:R}}else throw new Error(`Point of length ${m} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),P=l=>Pn.bytesToHex(Pn.numberToBytesBE(l,e.nByteLength));function C(l){let m=n>>Wr;return l>m}function N(l){return C(l)?a(-l):l}let L=(l,m,x)=>Pn.bytesToNumberBE(l.slice(m,x));class F{constructor(m,x,_){this.r=m,this.s=x,this.recovery=_,this.assertValidity()}static fromCompact(m){let x=e.nByteLength;return m=(0,fu.ensureBytes)("compactSignature",m,x*2),new F(L(m,0,x),L(m,x,2*x))}static fromDER(m){let{r:x,s:_}=An.DER.toSig((0,fu.ensureBytes)("DER",m));return new F(x,_)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(m){return new F(this.r,this.s,m)}recoverPublicKey(m){let{r:x,s:_,recovery:k}=this,R=V((0,fu.ensureBytes)("msgHash",m));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");let v=k===2||k===3?x+e.n:x;if(v>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let d=(k&1)===0?"02":"03",E=f.fromHex(d+P(v)),z=c(v),W=a(-R*z),Q=a(_*z),ee=f.BASE.multiplyAndAddUnsafe(E,W,Q);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return C(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Pn.hexToBytes(this.toDERHex())}toDERHex(){return An.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Pn.hexToBytes(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}let D={isValidPrivateKey(l){try{return g(l),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{let l=ox.getMinHashLength(e.n);return ox.mapHashToField(e.randomBytes(l),e.n)},precompute(l=8,m=f.BASE){return m._setWindowSize(l),m.multiply(BigInt(3)),m}};function q(l,m=!0){return f.fromPrivateKey(l).toRawBytes(m)}function K(l){let m=l instanceof Uint8Array,x=typeof l=="string",_=(m||x)&&l.length;return m?_===s||_===i:x?_===2*s||_===2*i:l instanceof f}function H(l,m,x=!0){if(K(l))throw new Error("first arg must be private key");if(!K(m))throw new Error("second arg must be public key");return f.fromHex(m).multiply(g(l)).toRawBytes(x)}let G=e.bits2int||function(l){let m=Pn.bytesToNumberBE(l),x=l.length*8-e.nBitLength;return x>0?m>>BigInt(x):m},V=e.bits2int_modN||function(l){return a(G(l))},J=Pn.bitMask(e.nBitLength);function ae(l){if(typeof l!="bigint")throw new Error("bigint expected");if(!(oc<=l&&l<J))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Pn.numberToBytesBE(l,e.nByteLength)}function se(l,m,x=$){if(["recovered","canonical"].some(he=>he in x))throw new Error("sign() legacy options not supported");let{hash:_,randomBytes:k}=e,{lowS:R,prehash:v,extraEntropy:d}=x;R==null&&(R=!0),l=(0,fu.ensureBytes)("msgHash",l),v&&(l=(0,fu.ensureBytes)("prehashed msgHash",_(l)));let E=V(l),z=g(m),W=[ae(z),ae(E)];if(d!=null){let he=d===!0?k(t.BYTES):d;W.push((0,fu.ensureBytes)("extraEntropy",he))}let Q=Pn.concatBytes(...W),ee=E;function de(he){let tr=G(he);if(!A(tr))return;let be=c(tr),fe=f.BASE.multiply(tr).toAffine(),bn=a(fe.x);if(bn===oc)return;let Se=a(be*a(ee+bn*z));if(Se===oc)return;let Oe=(fe.x===bn?0:2)|Number(fe.y&Wr),oa=Se;return R&&C(Se)&&(oa=N(Se),Oe^=1),new F(bn,oa,Oe)}return{seed:Q,k2sig:de}}let $={lowS:e.lowS,prehash:!1},le={lowS:e.lowS,prehash:!1};function S(l,m,x=$){let{seed:_,k2sig:k}=se(l,m,x),R=e;return Pn.createHmacDrbg(R.hash.outputLen,R.nByteLength,R.hmac)(_,k)}f.BASE._setWindowSize(8);function u(l,m,x,_=le){let k=l;if(m=(0,fu.ensureBytes)("msgHash",m),x=(0,fu.ensureBytes)("publicKey",x),"strict"in _)throw new Error("options.strict was renamed to lowS");let{lowS:R,prehash:v}=_,d,E;try{if(typeof k=="string"||k instanceof Uint8Array)try{d=F.fromDER(k)}catch(fe){if(!(fe instanceof An.DER.Err))throw fe;d=F.fromCompact(k)}else if(typeof k=="object"&&typeof k.r=="bigint"&&typeof k.s=="bigint"){let{r:fe,s:bn}=k;d=new F(fe,bn)}else throw new Error("PARSE");E=f.fromHex(x)}catch(fe){if(fe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(R&&d.hasHighS())return!1;v&&(m=e.hash(m));let{r:z,s:W}=d,Q=V(m),ee=c(W),de=a(Q*ee),he=a(z*ee),tr=f.BASE.multiplyAndAddUnsafe(E,de,he)?.toAffine();return tr?a(tr.x)===z:!1}return{CURVE:e,getPublicKey:q,getSharedSecret:H,sign:S,verify:u,ProjectivePoint:f,Signature:F,utils:D}}An.weierstrass=Gme;function W$(r,e){let t=r.ORDER,n=oc;for(let C=t-Wr;C%xd===oc;C/=xd)n+=Wr;let s=n,i=xd<<s-Wr-Wr,o=i*xd,a=(t-Wr)/o,c=(a-Wr)/xd,f=o-Wr,g=i,p=r.pow(e,a),A=r.pow(e,(a+Wr)/xd),P=(C,N)=>{let L=p,F=r.pow(N,f),D=r.sqr(F);D=r.mul(D,N);let q=r.mul(C,D);q=r.pow(q,c),q=r.mul(q,F),F=r.mul(q,N),D=r.mul(q,C);let K=r.mul(D,F);q=r.pow(K,g);let H=r.eql(q,r.ONE);F=r.mul(D,A),q=r.mul(K,L),D=r.cmov(F,D,H),K=r.cmov(q,K,H);for(let G=s;G>Wr;G--){let V=G-xd;V=xd<<V-Wr;let J=r.pow(K,V),ae=r.eql(J,r.ONE);F=r.mul(D,L),L=r.mul(L,L),J=r.mul(K,L),D=r.cmov(F,D,ae),K=r.cmov(J,K,ae)}return{isValid:H,value:D}};if(r.ORDER%z$===Uk){let C=(r.ORDER-Uk)/z$,N=r.sqrt(r.neg(e));P=(L,F)=>{let D=r.sqr(F),q=r.mul(L,F);D=r.mul(D,q);let K=r.pow(D,C);K=r.mul(K,q);let H=r.mul(K,N),G=r.mul(r.sqr(K),F),V=r.eql(G,L),J=r.cmov(H,K,V);return{isValid:V,value:J}}}return P}An.SWUFpSqrtRatio=W$;function Kme(r,e){if(ox.validateField(r),!r.isValid(e.A)||!r.isValid(e.B)||!r.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let t=W$(r,e.Z);if(!r.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,i,o,a,c,f,g,p;s=r.sqr(n),s=r.mul(s,e.Z),i=r.sqr(s),i=r.add(i,s),o=r.add(i,r.ONE),o=r.mul(o,e.B),a=r.cmov(e.Z,r.neg(i),!r.eql(i,r.ZERO)),a=r.mul(a,e.A),i=r.sqr(o),f=r.sqr(a),c=r.mul(f,e.A),i=r.add(i,c),i=r.mul(i,o),f=r.mul(f,a),c=r.mul(f,e.B),i=r.add(i,c),g=r.mul(s,o);let{isValid:A,value:P}=t(i,f);p=r.mul(s,n),p=r.mul(p,P),g=r.cmov(g,o,A),p=r.cmov(p,P,A);let C=r.isOdd(n)===r.isOdd(p);return p=r.cmov(r.neg(p),p,C),g=r.div(g,a),{x:g,y:p}}}An.mapToCurveSimpleSWU=Kme});var Q$=M(Uo=>{y();b();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.createHasher=Uo.isogenyMap=Uo.hash_to_field=Uo.expand_message_xof=Uo.expand_message_xmd=void 0;var Vme=g2(),ac=ig();function zme(r){if(r instanceof Uint8Array)return r;if(typeof r=="string")return(0,ac.utf8ToBytes)(r);throw new Error("DST must be Uint8Array or string")}var Jme=ac.bytesToNumberBE;function wd(r,e){if(r<0||r>=1<<8*e)throw new Error(`bad I2OSP call: value=${r} length=${e}`);let t=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)t[n]=r&255,r>>>=8;return new Uint8Array(t)}function Wme(r,e){let t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r[n]^e[n];return t}function p2(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected")}function KB(r){if(!Number.isSafeInteger(r))throw new Error("number expected")}function $$(r,e,t,n){p2(r),p2(e),KB(t),e.length>255&&(e=n((0,ac.concatBytes)((0,ac.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:s,blockLen:i}=n,o=Math.ceil(t/s);if(o>255)throw new Error("Invalid xmd length");let a=(0,ac.concatBytes)(e,wd(e.length,1)),c=wd(0,i),f=wd(t,2),g=new Array(o),p=n((0,ac.concatBytes)(c,r,f,wd(0,1),a));g[0]=n((0,ac.concatBytes)(p,wd(1,1),a));for(let P=1;P<=o;P++){let C=[Wme(p,g[P-1]),wd(P+1,1),a];g[P]=n((0,ac.concatBytes)(...C))}return(0,ac.concatBytes)(...g).slice(0,t)}Uo.expand_message_xmd=$$;function Z$(r,e,t,n,s){if(p2(r),p2(e),KB(t),e.length>255){let i=Math.ceil(2*n/8);e=s.create({dkLen:i}).update((0,ac.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(r).update(wd(t,2)).update(e).update(wd(e.length,1)).digest()}Uo.expand_message_xof=Z$;function GB(r,e,t){(0,ac.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:i,hash:o,expand:a,DST:c}=t;p2(r),KB(e);let f=zme(c),g=n.toString(2).length,p=Math.ceil((g+s)/8),A=e*i*p,P;if(a==="xmd")P=$$(r,f,A,o);else if(a==="xof")P=Z$(r,f,A,s,o);else if(a==="_internal_pass")P=r;else throw new Error('expand must be "xmd" or "xof"');let C=new Array(e);for(let N=0;N<e;N++){let L=new Array(i);for(let F=0;F<i;F++){let D=p*(F+N*i),q=P.subarray(D,D+p);L[F]=(0,Vme.mod)(Jme(q),n)}C[N]=L}return C}Uo.hash_to_field=GB;function $me(r,e){let t=e.map(n=>Array.from(n).reverse());return(n,s)=>{let[i,o,a,c]=t.map(f=>f.reduce((g,p)=>r.add(r.mul(g,n),p)));return n=r.div(i,o),s=r.mul(s,r.div(a,c)),{x:n,y:s}}}Uo.isogenyMap=$me;function Zme(r,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,s){let i=GB(n,2,{...t,DST:t.DST,...s}),o=r.fromAffine(e(i[0])),a=r.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,s){let i=GB(n,1,{...t,DST:t.encodeDST,...s}),o=r.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o}}}Uo.createHasher=Zme});var eZ=M(ax=>{y();b();Object.defineProperty(ax,"__esModule",{value:!0});ax.createCurve=ax.getHash=void 0;var Qme=yk(),X$=ic(),Xme=HB();function Y$(r){return{hash:r,hmac:(e,...t)=>(0,Qme.hmac)(r,e,(0,X$.concatBytes)(...t)),randomBytes:X$.randomBytes}}ax.getHash=Y$;function Yme(r,e){let t=n=>(0,Xme.weierstrass)({...r,...Y$(n)});return Object.freeze({...t(e),create:t})}ax.createCurve=Yme});var lZ=M(pi=>{y();b();Object.defineProperty(pi,"__esModule",{value:!0});pi.encodeToCurve=pi.hashToCurve=pi.schnorr=pi.secp256k1=void 0;var Dk=vk(),eye=ic(),Ln=g2(),tye=HB(),gs=ig(),nZ=Q$(),rye=eZ(),Kk=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qk=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sZ=BigInt(1),Hk=BigInt(2),tZ=(r,e)=>(r+e/Hk)/e;function iZ(r){let e=Kk,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,g=f*f*r%e,p=(0,Ln.pow2)(g,t,e)*g%e,A=(0,Ln.pow2)(p,t,e)*g%e,P=(0,Ln.pow2)(A,Hk,e)*f%e,C=(0,Ln.pow2)(P,s,e)*P%e,N=(0,Ln.pow2)(C,i,e)*C%e,L=(0,Ln.pow2)(N,a,e)*N%e,F=(0,Ln.pow2)(L,c,e)*L%e,D=(0,Ln.pow2)(F,a,e)*N%e,q=(0,Ln.pow2)(D,t,e)*g%e,K=(0,Ln.pow2)(q,o,e)*C%e,H=(0,Ln.pow2)(K,n,e)*f%e,G=(0,Ln.pow2)(H,Hk,e);if(!_d.eql(_d.sqr(G),r))throw new Error("Cannot find square root");return G}var _d=(0,Ln.Field)(Kk,void 0,void 0,{sqrt:iZ});pi.secp256k1=(0,rye.createCurve)({a:BigInt(0),b:BigInt(7),Fp:_d,n:qk,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=qk,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-sZ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=tZ(i*r,e),c=tZ(-n*r,e),f=(0,Ln.mod)(r-a*t-c*s,e),g=(0,Ln.mod)(-a*n-c*i,e),p=f>o,A=g>o;if(p&&(f=e-f),A&&(g=e-g),f>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:p,k1:f,k2neg:A,k2:g}}}},Dk.sha256);var Vk=BigInt(0),oZ=r=>typeof r=="bigint"&&Vk<r&&r<Kk,nye=r=>typeof r=="bigint"&&Vk<r&&r<qk,rZ={};function Gk(r,...e){let t=rZ[r];if(t===void 0){let n=(0,Dk.sha256)(Uint8Array.from(r,s=>s.charCodeAt(0)));t=(0,gs.concatBytes)(n,n),rZ[r]=t}return(0,Dk.sha256)((0,gs.concatBytes)(t,...e))}var WB=r=>r.toRawBytes(!0).slice(1),zB=r=>(0,gs.numberToBytesBE)(r,32),VB=r=>(0,Ln.mod)(r,Kk),m2=r=>(0,Ln.mod)(r,qk),$B=pi.secp256k1.ProjectivePoint,sye=(r,e,t)=>$B.BASE.multiplyAndAddUnsafe(r,e,t);function JB(r){let e=pi.secp256k1.utils.normPrivateKeyToScalar(r),t=$B.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:m2(-e),bytes:WB(t)}}function aZ(r){if(!oZ(r))throw new Error("bad x: need 0 < x < p");let e=VB(r*r),t=VB(e*r+BigInt(7)),n=iZ(t);n%Hk!==Vk&&(n=VB(-n));let s=new $B(r,n,sZ);return s.assertValidity(),s}function cZ(...r){return m2((0,gs.bytesToNumberBE)(Gk("BIP0340/challenge",...r)))}function iye(r){return JB(r).bytes}function oye(r,e,t=(0,eye.randomBytes)(32)){let n=(0,gs.ensureBytes)("message",r),{bytes:s,scalar:i}=JB(e),o=(0,gs.ensureBytes)("auxRand",t,32),a=zB(i^(0,gs.bytesToNumberBE)(Gk("BIP0340/aux",o))),c=Gk("BIP0340/nonce",a,s,n),f=m2((0,gs.bytesToNumberBE)(c));if(f===Vk)throw new Error("sign failed: k is zero");let{bytes:g,scalar:p}=JB(f),A=cZ(g,s,n),P=new Uint8Array(64);if(P.set(g,0),P.set(zB(m2(p+A*i)),32),!uZ(P,n,s))throw new Error("sign: Invalid signature produced");return P}function uZ(r,e,t){let n=(0,gs.ensureBytes)("signature",r,64),s=(0,gs.ensureBytes)("message",e),i=(0,gs.ensureBytes)("publicKey",t,32);try{let o=aZ((0,gs.bytesToNumberBE)(i)),a=(0,gs.bytesToNumberBE)(n.subarray(0,32));if(!oZ(a))return!1;let c=(0,gs.bytesToNumberBE)(n.subarray(32,64));if(!nye(c))return!1;let f=cZ(zB(a),WB(o),s),g=sye(o,c,m2(-f));return!(!g||!g.hasEvenY()||g.toAffine().x!==a)}catch{return!1}}pi.schnorr=(()=>({getPublicKey:iye,sign:oye,verify:uZ,utils:{randomPrivateKey:pi.secp256k1.utils.randomPrivateKey,lift_x:aZ,pointToBytes:WB,numberToBytesBE:gs.numberToBytesBE,bytesToNumberBE:gs.bytesToNumberBE,taggedHash:Gk,mod:Ln.mod}}))();var aye=(()=>(0,nZ.isogenyMap)(_d,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(r=>r.map(e=>BigInt(e)))))(),cye=(()=>(0,tye.mapToCurveSimpleSWU)(_d,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:_d.create(BigInt("-11"))}))(),fZ=(()=>(0,nZ.createHasher)(pi.secp256k1.ProjectivePoint,r=>{let{x:e,y:t}=cye(_d.create(r[0]));return aye(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:_d.ORDER,m:1,k:128,expand:"xmd",hash:Dk.sha256}))();pi.hashToCurve=(()=>fZ.hashToCurve)();pi.encodeToCurve=(()=>fZ.encodeToCurve)()});var ZB=M(zk=>{y();b();Object.defineProperty(zk,"__esModule",{value:!0});zk.ZeroAddress=void 0;zk.ZeroAddress="0x0000000000000000000000000000000000000000"});var dZ=M(Jk=>{y();b();Object.defineProperty(Jk,"__esModule",{value:!0});Jk.ZeroHash=void 0;Jk.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"});var hZ=M(Do=>{y();b();Object.defineProperty(Do,"__esModule",{value:!0});Do.MaxInt256=Do.MinInt256=Do.MaxUint256=Do.WeiPerEther=Do.N=void 0;Do.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");Do.WeiPerEther=BigInt("1000000000000000000");Do.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Do.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);Do.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")});var gZ=M(cx=>{y();b();Object.defineProperty(cx,"__esModule",{value:!0});cx.MessagePrefix=cx.EtherSymbol=void 0;cx.EtherSymbol="\u039E";cx.MessagePrefix=`Ethereum Signed Message:
`});var ux=M(dn=>{y();b();Object.defineProperty(dn,"__esModule",{value:!0});dn.MessagePrefix=dn.EtherSymbol=dn.MaxInt256=dn.MinInt256=dn.MaxUint256=dn.WeiPerEther=dn.N=dn.ZeroHash=dn.ZeroAddress=void 0;var uye=ZB();Object.defineProperty(dn,"ZeroAddress",{enumerable:!0,get:function(){return uye.ZeroAddress}});var fye=dZ();Object.defineProperty(dn,"ZeroHash",{enumerable:!0,get:function(){return fye.ZeroHash}});var y2=hZ();Object.defineProperty(dn,"N",{enumerable:!0,get:function(){return y2.N}});Object.defineProperty(dn,"WeiPerEther",{enumerable:!0,get:function(){return y2.WeiPerEther}});Object.defineProperty(dn,"MaxUint256",{enumerable:!0,get:function(){return y2.MaxUint256}});Object.defineProperty(dn,"MinInt256",{enumerable:!0,get:function(){return y2.MinInt256}});Object.defineProperty(dn,"MaxInt256",{enumerable:!0,get:function(){return y2.MaxInt256}});var pZ=gZ();Object.defineProperty(dn,"EtherSymbol",{enumerable:!0,get:function(){return pZ.EtherSymbol}});Object.defineProperty(dn,"MessagePrefix",{enumerable:!0,get:function(){return pZ.MessagePrefix}})});var XB=M($k=>{y();b();Object.defineProperty($k,"__esModule",{value:!0});$k.Signature=void 0;var mZ=ux(),It=ge(),yZ=BigInt(0),bZ=BigInt(1),xZ=BigInt(2),wZ=BigInt(27),_Z=BigInt(28),Wk=BigInt(35),fx={};function vZ(r){return(0,It.zeroPadValue)((0,It.toBeArray)(r),32)}var lx,dx,hx,og,cc=class{constructor(e,t,n,s){T(this,lx,void 0);T(this,dx,void 0);T(this,hx,void 0);T(this,og,void 0);(0,It.assertPrivate)(e,fx,"Signature"),w(this,lx,t),w(this,dx,n),w(this,hx,s),w(this,og,null)}get r(){return h(this,lx)}set r(e){(0,It.assertArgument)((0,It.dataLength)(e)===32,"invalid r","value",e),w(this,lx,(0,It.hexlify)(e))}get s(){return h(this,dx)}set s(e){(0,It.assertArgument)((0,It.dataLength)(e)===32,"invalid s","value",e);let t=(0,It.hexlify)(e);(0,It.assertArgument)(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),w(this,dx,t)}get v(){return h(this,hx)}set v(e){let t=(0,It.getNumber)(e,"value");(0,It.assertArgument)(t===27||t===28,"invalid v","v",e),w(this,hx,t)}get networkV(){return h(this,og)}get legacyChainId(){let e=this.networkV;return e==null?null:cc.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=(0,It.getBytes)(this.s);return this.yParity&&(e[0]|=128),(0,It.hexlify)(e)}get compactSerialized(){return(0,It.concat)([this.r,this.yParityAndS])}get serialized(){return(0,It.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new cc(fx,this.r,this.s,this.v);return this.networkV&&w(e,og,this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let t=(0,It.getBigInt)(e,"v");return t==wZ||t==_Z?yZ:((0,It.assertArgument)(t>=Wk,"invalid EIP-155 v","v",e),(t-Wk)/xZ)}static getChainIdV(e,t){return(0,It.getBigInt)(e)*xZ+BigInt(35+t-27)}static getNormalizedV(e){let t=(0,It.getBigInt)(e);return t===yZ||t===wZ?27:t===bZ||t===_Z?28:((0,It.assertArgument)(t>=Wk,"invalid v","v",e),t&bZ?27:28)}static from(e){function t(f,g){(0,It.assertArgument)(f,g,"signature",e)}if(e==null)return new cc(fx,mZ.ZeroHash,mZ.ZeroHash,27);if(typeof e=="string"){let f=(0,It.getBytes)(e,"signature");if(f.length===64){let g=(0,It.hexlify)(f.slice(0,32)),p=f.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new cc(fx,g,(0,It.hexlify)(p),A)}if(f.length===65){let g=(0,It.hexlify)(f.slice(0,32)),p=f.slice(32,64);t((p[0]&128)===0,"non-canonical s");let A=cc.getNormalizedV(f[64]);return new cc(fx,g,(0,It.hexlify)(p),A)}t(!1,"invalid raw signature length")}if(e instanceof cc)return e.clone();let n=e.r;t(n!=null,"missing r");let s=vZ(n),i=function(f,g){if(f!=null)return vZ(f);if(g!=null){t((0,It.isHexString)(g,32),"invalid yParityAndS");let p=(0,It.getBytes)(g);return p[0]&=127,(0,It.hexlify)(p)}t(!1,"missing s")}(e.s,e.yParityAndS);t(((0,It.getBytes)(i)[0]&128)==0,"non-canonical s");let{networkV:o,v:a}=function(f,g,p){if(f!=null){let A=(0,It.getBigInt)(f);return{networkV:A>=Wk?A:void 0,v:cc.getNormalizedV(A)}}if(g!=null)return t((0,It.isHexString)(g,32),"invalid yParityAndS"),{v:(0,It.getBytes)(g)[0]&128?28:27};if(p!=null){switch((0,It.getNumber)(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new cc(fx,s,i,a);return o&&w(c,og,o),t(e.yParity==null||(0,It.getNumber)(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},QB=cc;lx=new WeakMap,dx=new WeakMap,hx=new WeakMap,og=new WeakMap;$k.Signature=QB});var AZ=M(Zk=>{y();b();Object.defineProperty(Zk,"__esModule",{value:!0});Zk.SigningKey=void 0;var ag=lZ(),Yr=ge(),PZ=XB(),Sf,cg=class{constructor(e){T(this,Sf,void 0);(0,Yr.assertArgument)((0,Yr.dataLength)(e)===32,"invalid private key","privateKey","[REDACTED]"),w(this,Sf,(0,Yr.hexlify)(e))}get privateKey(){return h(this,Sf)}get publicKey(){return cg.computePublicKey(h(this,Sf))}get compressedPublicKey(){return cg.computePublicKey(h(this,Sf),!0)}sign(e){(0,Yr.assertArgument)((0,Yr.dataLength)(e)===32,"invalid digest length","digest",e);let t=ag.secp256k1.sign((0,Yr.getBytesCopy)(e),(0,Yr.getBytesCopy)(h(this,Sf)),{lowS:!0});return PZ.Signature.from({r:(0,Yr.toBeHex)(t.r,32),s:(0,Yr.toBeHex)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=cg.computePublicKey(e);return(0,Yr.hexlify)(ag.secp256k1.getSharedSecret((0,Yr.getBytesCopy)(h(this,Sf)),(0,Yr.getBytes)(t),!1))}static computePublicKey(e,t){let n=(0,Yr.getBytes)(e,"key");if(n.length===32){let i=ag.secp256k1.getPublicKey(n,!!t);return(0,Yr.hexlify)(i)}if(n.length===64){let i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}let s=ag.secp256k1.ProjectivePoint.fromHex(n);return(0,Yr.hexlify)(s.toRawBytes(t))}static recoverPublicKey(e,t){(0,Yr.assertArgument)((0,Yr.dataLength)(e)===32,"invalid digest length","digest",e);let n=PZ.Signature.from(t),s=ag.secp256k1.Signature.fromCompact((0,Yr.getBytesCopy)((0,Yr.concat)([n.r,n.s])));s=s.addRecoveryBit(n.yParity);let i=s.recoverPublicKey((0,Yr.getBytesCopy)(e));return(0,Yr.assertArgument)(i!=null,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){let s=ag.secp256k1.ProjectivePoint.fromHex(cg.computePublicKey(e).substring(2)),i=ag.secp256k1.ProjectivePoint.fromHex(cg.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}},YB=cg;Sf=new WeakMap;Zk.SigningKey=YB});var Un=M(gr=>{y();b();Object.defineProperty(gr,"__esModule",{value:!0});gr.lock=gr.Signature=gr.SigningKey=gr.scryptSync=gr.scrypt=gr.pbkdf2=gr.sha512=gr.sha256=gr.ripemd160=gr.keccak256=gr.randomBytes=gr.computeHmac=void 0;var EZ=RW();Object.defineProperty(gr,"computeHmac",{enumerable:!0,get:function(){return EZ.computeHmac}});var SZ=VW();Object.defineProperty(gr,"keccak256",{enumerable:!0,get:function(){return SZ.keccak256}});var kZ=e$();Object.defineProperty(gr,"ripemd160",{enumerable:!0,get:function(){return kZ.ripemd160}});var OZ=s$();Object.defineProperty(gr,"pbkdf2",{enumerable:!0,get:function(){return OZ.pbkdf2}});var eI=c$();Object.defineProperty(gr,"randomBytes",{enumerable:!0,get:function(){return eI.randomBytes}});var Qk=v$();Object.defineProperty(gr,"scrypt",{enumerable:!0,get:function(){return Qk.scrypt}});Object.defineProperty(gr,"scryptSync",{enumerable:!0,get:function(){return Qk.scryptSync}});var Xk=N$();Object.defineProperty(gr,"sha256",{enumerable:!0,get:function(){return Xk.sha256}});Object.defineProperty(gr,"sha512",{enumerable:!0,get:function(){return Xk.sha512}});var lye=AZ();Object.defineProperty(gr,"SigningKey",{enumerable:!0,get:function(){return lye.SigningKey}});var dye=XB();Object.defineProperty(gr,"Signature",{enumerable:!0,get:function(){return dye.Signature}});function hye(){EZ.computeHmac.lock(),SZ.keccak256.lock(),OZ.pbkdf2.lock(),eI.randomBytes.lock(),kZ.ripemd160.lock(),Qk.scrypt.lock(),Qk.scryptSync.lock(),Xk.sha256.lock(),Xk.sha512.lock(),eI.randomBytes.lock()}gr.lock=hye});var Yk=M(gx=>{y();b();Object.defineProperty(gx,"__esModule",{value:!0});gx.getIcapAddress=gx.getAddress=void 0;var gye=Un(),b2=ge(),pye=BigInt(0),mye=BigInt(36);function TZ(r){r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);let n=(0,b2.getBytes)((0,gye.keccak256)(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var tI={};for(let r=0;r<10;r++)tI[String(r)]=String(r);for(let r=0;r<26;r++)tI[String.fromCharCode(65+r)]=String(10+r);var NZ=15;function CZ(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>tI[n]).join("");for(;e.length>=NZ;){let n=e.substring(0,NZ);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var yye=function(){let r={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function bye(r){r=r.toLowerCase();let e=pye;for(let t=0;t<r.length;t++)e=e*mye+yye[r[t]];return e}function RZ(r){if((0,b2.assertArgument)(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);let e=TZ(r);return(0,b2.assertArgument)(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,b2.assertArgument)(r.substring(2,4)===CZ(r),"bad icap checksum","address",r);let e=bye(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return TZ("0x"+e)}(0,b2.assertArgument)(!1,"invalid address","address",r)}gx.getAddress=RZ;function xye(r){let e=BigInt(RZ(r)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+CZ("XE00"+e)+e}gx.getIcapAddress=xye});var IZ=M(px=>{y();b();Object.defineProperty(px,"__esModule",{value:!0});px.getCreate2Address=px.getCreateAddress=void 0;var BZ=Un(),kf=ge(),eO=Yk();function wye(r){let e=(0,eO.getAddress)(r.from),n=(0,kf.getBigInt)(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,(0,eO.getAddress)((0,kf.dataSlice)((0,BZ.keccak256)((0,kf.encodeRlp)([e,n])),12))}px.getCreateAddress=wye;function _ye(r,e,t){let n=(0,eO.getAddress)(r),s=(0,kf.getBytes)(e,"salt"),i=(0,kf.getBytes)(t,"initCodeHash");return(0,kf.assertArgument)(s.length===32,"salt must be 32 bytes","salt",e),(0,kf.assertArgument)(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),(0,eO.getAddress)((0,kf.dataSlice)((0,BZ.keccak256)((0,kf.concat)(["0xff",n,s,i])),12))}px.getCreate2Address=_ye});var jZ=M(vd=>{y();b();Object.defineProperty(vd,"__esModule",{value:!0});vd.resolveAddress=vd.isAddress=vd.isAddressable=void 0;var tO=ge(),nI=Yk();function MZ(r){return r&&typeof r.getAddress=="function"}vd.isAddressable=MZ;function vye(r){try{return(0,nI.getAddress)(r),!0}catch{}return!1}vd.isAddress=vye;async function rI(r,e){let t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&((0,tO.assert)(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),(0,tO.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),(0,nI.getAddress)(t)}function Pye(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?(0,nI.getAddress)(r):((0,tO.assert)(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),rI(r,e.resolveName(r)));if(MZ(r))return rI(r,r.getAddress());if(r&&typeof r.then=="function")return rI(r,r);(0,tO.assertArgument)(!1,"unsupported addressable value","target",r)}vd.resolveAddress=Pye});var En=M(ps=>{y();b();Object.defineProperty(ps,"__esModule",{value:!0});ps.resolveAddress=ps.isAddress=ps.isAddressable=ps.getCreate2Address=ps.getCreateAddress=ps.getIcapAddress=ps.getAddress=void 0;var FZ=Yk();Object.defineProperty(ps,"getAddress",{enumerable:!0,get:function(){return FZ.getAddress}});Object.defineProperty(ps,"getIcapAddress",{enumerable:!0,get:function(){return FZ.getIcapAddress}});var LZ=IZ();Object.defineProperty(ps,"getCreateAddress",{enumerable:!0,get:function(){return LZ.getCreateAddress}});Object.defineProperty(ps,"getCreate2Address",{enumerable:!0,get:function(){return LZ.getCreate2Address}});var sI=jZ();Object.defineProperty(ps,"isAddressable",{enumerable:!0,get:function(){return sI.isAddressable}});Object.defineProperty(ps,"isAddress",{enumerable:!0,get:function(){return sI.isAddress}});Object.defineProperty(ps,"resolveAddress",{enumerable:!0,get:function(){return sI.resolveAddress}})});var lu=M(rO=>{y();b();Object.defineProperty(rO,"__esModule",{value:!0});rO.Typed=void 0;var UZ=ge(),uc={};function ye(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new x2(uc,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Xt(r,e){return new x2(uc,`bytes${e||""}`,r,{size:e})}var DZ=Symbol.for("_ethers_typed"),ug,fc=class{constructor(e,t,n,s){O(this,"type");O(this,"value");T(this,ug,void 0);O(this,"_typedSymbol");s==null&&(s=null),(0,UZ.assertPrivate)(uc,e,"Typed"),(0,UZ.defineProperties)(this,{_typedSymbol:DZ,type:t,value:n}),w(this,ug,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return h(this,ug)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return h(this,ug)===!0?-1:h(this,ug)===!1?this.value.length:null}static from(e,t){return new fc(uc,e,t)}static uint8(e){return ye(e,8)}static uint16(e){return ye(e,16)}static uint24(e){return ye(e,24)}static uint32(e){return ye(e,32)}static uint40(e){return ye(e,40)}static uint48(e){return ye(e,48)}static uint56(e){return ye(e,56)}static uint64(e){return ye(e,64)}static uint72(e){return ye(e,72)}static uint80(e){return ye(e,80)}static uint88(e){return ye(e,88)}static uint96(e){return ye(e,96)}static uint104(e){return ye(e,104)}static uint112(e){return ye(e,112)}static uint120(e){return ye(e,120)}static uint128(e){return ye(e,128)}static uint136(e){return ye(e,136)}static uint144(e){return ye(e,144)}static uint152(e){return ye(e,152)}static uint160(e){return ye(e,160)}static uint168(e){return ye(e,168)}static uint176(e){return ye(e,176)}static uint184(e){return ye(e,184)}static uint192(e){return ye(e,192)}static uint200(e){return ye(e,200)}static uint208(e){return ye(e,208)}static uint216(e){return ye(e,216)}static uint224(e){return ye(e,224)}static uint232(e){return ye(e,232)}static uint240(e){return ye(e,240)}static uint248(e){return ye(e,248)}static uint256(e){return ye(e,256)}static uint(e){return ye(e,256)}static int8(e){return ye(e,-8)}static int16(e){return ye(e,-16)}static int24(e){return ye(e,-24)}static int32(e){return ye(e,-32)}static int40(e){return ye(e,-40)}static int48(e){return ye(e,-48)}static int56(e){return ye(e,-56)}static int64(e){return ye(e,-64)}static int72(e){return ye(e,-72)}static int80(e){return ye(e,-80)}static int88(e){return ye(e,-88)}static int96(e){return ye(e,-96)}static int104(e){return ye(e,-104)}static int112(e){return ye(e,-112)}static int120(e){return ye(e,-120)}static int128(e){return ye(e,-128)}static int136(e){return ye(e,-136)}static int144(e){return ye(e,-144)}static int152(e){return ye(e,-152)}static int160(e){return ye(e,-160)}static int168(e){return ye(e,-168)}static int176(e){return ye(e,-176)}static int184(e){return ye(e,-184)}static int192(e){return ye(e,-192)}static int200(e){return ye(e,-200)}static int208(e){return ye(e,-208)}static int216(e){return ye(e,-216)}static int224(e){return ye(e,-224)}static int232(e){return ye(e,-232)}static int240(e){return ye(e,-240)}static int248(e){return ye(e,-248)}static int256(e){return ye(e,-256)}static int(e){return ye(e,-256)}static bytes1(e){return Xt(e,1)}static bytes2(e){return Xt(e,2)}static bytes3(e){return Xt(e,3)}static bytes4(e){return Xt(e,4)}static bytes5(e){return Xt(e,5)}static bytes6(e){return Xt(e,6)}static bytes7(e){return Xt(e,7)}static bytes8(e){return Xt(e,8)}static bytes9(e){return Xt(e,9)}static bytes10(e){return Xt(e,10)}static bytes11(e){return Xt(e,11)}static bytes12(e){return Xt(e,12)}static bytes13(e){return Xt(e,13)}static bytes14(e){return Xt(e,14)}static bytes15(e){return Xt(e,15)}static bytes16(e){return Xt(e,16)}static bytes17(e){return Xt(e,17)}static bytes18(e){return Xt(e,18)}static bytes19(e){return Xt(e,19)}static bytes20(e){return Xt(e,20)}static bytes21(e){return Xt(e,21)}static bytes22(e){return Xt(e,22)}static bytes23(e){return Xt(e,23)}static bytes24(e){return Xt(e,24)}static bytes25(e){return Xt(e,25)}static bytes26(e){return Xt(e,26)}static bytes27(e){return Xt(e,27)}static bytes28(e){return Xt(e,28)}static bytes29(e){return Xt(e,29)}static bytes30(e){return Xt(e,30)}static bytes31(e){return Xt(e,31)}static bytes32(e){return Xt(e,32)}static address(e){return new fc(uc,"address",e)}static bool(e){return new fc(uc,"bool",!!e)}static bytes(e){return new fc(uc,"bytes",e)}static string(e){return new fc(uc,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new fc(uc,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===DZ}static dereference(e,t){if(fc.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}},x2=fc;ug=new WeakMap;rO.Typed=x2});var HZ=M(nO=>{y();b();Object.defineProperty(nO,"__esModule",{value:!0});nO.AddressCoder=void 0;var qZ=En(),Aye=kb(),Eye=lu(),Sye=jo(),iI=class extends Sye.Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Eye.Typed.dereference(t,"string");try{n=(0,qZ.getAddress)(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return(0,qZ.getAddress)((0,Aye.toBeHex)(e.readValue(),20))}};nO.AddressCoder=iI});var GZ=M(sO=>{y();b();Object.defineProperty(sO,"__esModule",{value:!0});sO.AnonymousCoder=void 0;var kye=jo(),oI=class extends kye.Coder{constructor(t){super(t.name,t.type,"_",t.dynamic);O(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,n){return this.coder.encode(t,n)}decode(t){return this.coder.decode(t)}};sO.AnonymousCoder=oI});var cI=M(Pd=>{y();b();Object.defineProperty(Pd,"__esModule",{value:!0});Pd.ArrayCoder=Pd.unpack=Pd.pack=void 0;var Of=ge(),Oye=lu(),mx=jo(),Tye=GZ();function KZ(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(f=>{let g=f.localName;return(0,Of.assert)(g,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),(0,Of.assert)(!c[g],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:f},value:t}),c[g]=!0,t[g]})}else(0,Of.assertArgument)(!1,"invalid tuple value","tuple",t);(0,Of.assertArgument)(e.length===n.length,"types/value length mismatch","tuple",t);let s=new mx.Writer,i=new mx.Writer,o=[];e.forEach((c,f)=>{let g=n[f];if(c.dynamic){let p=i.length;c.encode(i,g);let A=s.writeUpdatableValue();o.push(P=>{A(P+p)})}else c.encode(s,g)}),o.forEach(c=>{c(s.length)});let a=r.appendWriter(s);return a+=r.appendWriter(i),a}Pd.pack=KZ;function VZ(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=r.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(f){if((0,Of.isError)(f,"BUFFER_OVERRUN"))throw f;o=f,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(r)}catch(a){if((0,Of.isError)(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),n.push(i.localName||null)}),mx.Result.fromItems(t,n)}Pd.unpack=VZ;var aI=class extends mx.Coder{constructor(t,n,s){let i=t.type+"["+(n>=0?n:"")+"]",o=n===-1||t.dynamic;super("array",i,s,o);O(this,"coder");O(this,"length");(0,Of.defineProperties)(this,{coder:t,length:n})}defaultValue(){let t=this.coder.defaultValue(),n=[];for(let s=0;s<this.length;s++)n.push(t);return n}encode(t,n){let s=Oye.Typed.dereference(n,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),(0,Of.assertArgumentCount)(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return KZ(t,o,s)}decode(t){let n=this.length;n===-1&&(n=t.readIndex(),(0,Of.assert)(n*mx.WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:n*mx.WordSize,length:t.dataLength}));let s=[];for(let i=0;i<n;i++)s.push(new Tye.AnonymousCoder(this.coder));return VZ(t,s)}};Pd.ArrayCoder=aI});var zZ=M(iO=>{y();b();Object.defineProperty(iO,"__esModule",{value:!0});iO.BooleanCoder=void 0;var Nye=lu(),Cye=jo(),uI=class extends Cye.Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let n=Nye.Typed.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};iO.BooleanCoder=uI});var lI=M(yx=>{y();b();Object.defineProperty(yx,"__esModule",{value:!0});yx.BytesCoder=yx.DynamicBytesCoder=void 0;var JZ=ge(),Rye=jo(),oO=class extends Rye.Coder{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,JZ.getBytesCopy)(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}};yx.DynamicBytesCoder=oO;var fI=class extends oO{constructor(e){super("bytes",e)}decode(e){return(0,JZ.hexlify)(super.decode(e))}};yx.BytesCoder=fI});var WZ=M(aO=>{y();b();Object.defineProperty(aO,"__esModule",{value:!0});aO.FixedBytesCoder=void 0;var dI=ge(),Bye=lu(),Iye=jo(),hI=class extends Iye.Coder{constructor(t,n){let s="bytes"+String(t);super(s,s,n,!1);O(this,"size");(0,dI.defineProperties)(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,n){let s=(0,dI.getBytesCopy)(Bye.Typed.dereference(n,this.type));return s.length!==this.size&&this._throwError("incorrect data length",n),t.writeBytes(s)}decode(t){return(0,dI.hexlify)(t.readBytes(this.size))}};aO.FixedBytesCoder=hI});var $Z=M(cO=>{y();b();Object.defineProperty(cO,"__esModule",{value:!0});cO.NullCoder=void 0;var Mye=jo(),jye=new Uint8Array([]),gI=class extends Mye.Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(jye)}decode(e){return e.readBytes(0),null}};cO.NullCoder=gI});var ZZ=M(uO=>{y();b();Object.defineProperty(uO,"__esModule",{value:!0});uO.NumberCoder=void 0;var Ad=ge(),Fye=lu(),pI=jo(),Lye=BigInt(0),Uye=BigInt(1),Dye=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),mI=class extends pI.Coder{constructor(t,n,s){let i=(n?"int":"uint")+t*8;super(i,i,s,!1);O(this,"size");O(this,"signed");(0,Ad.defineProperties)(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let s=(0,Ad.getBigInt)(Fye.Typed.dereference(n,this.type)),i=(0,Ad.mask)(Dye,pI.WordSize*8);if(this.signed){let o=(0,Ad.mask)(i,this.size*8-1);(s>o||s<-(o+Uye))&&this._throwError("value out-of-bounds",n),s=(0,Ad.toTwos)(s,8*pI.WordSize)}else(s<Lye||s>(0,Ad.mask)(i,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(s)}decode(t){let n=(0,Ad.mask)(t.readValue(),this.size*8);return this.signed&&(n=(0,Ad.fromTwos)(n,this.size*8)),n}};uO.NumberCoder=mI});var XZ=M(fO=>{y();b();Object.defineProperty(fO,"__esModule",{value:!0});fO.StringCoder=void 0;var QZ=X6(),qye=lu(),Hye=lI(),yI=class extends Hye.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,QZ.toUtf8Bytes)(qye.Typed.dereference(t,"string")))}decode(e){return(0,QZ.toUtf8String)(super.decode(e))}};fO.StringCoder=yI});var eQ=M(lO=>{y();b();Object.defineProperty(lO,"__esModule",{value:!0});lO.TupleCoder=void 0;var Gye=id(),Kye=lu(),Vye=jo(),YZ=cI(),bI=class extends Vye.Coder{constructor(t,n){let s=!1,i=[];t.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});let o="tuple("+i.join(",")+")";super("tuple",o,n,s);O(this,"coders");(0,Gye.defineProperties)(this,{coders:Object.freeze(t.slice())})}defaultValue(){let t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});let n=this.coders.reduce((s,i)=>{let o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,n){let s=Kye.Typed.dereference(n,"tuple");return(0,YZ.pack)(t,this.coders,s)}decode(t){return(0,YZ.unpack)(t,this.coders)}};lO.TupleCoder=bI});var xI=M(dO=>{y();b();Object.defineProperty(dO,"__esModule",{value:!0});dO.id=void 0;var zye=Un(),Jye=ge();function Wye(r){return(0,zye.keccak256)((0,Jye.toUtf8Bytes)(r))}dO.id=Wye});var iQ=M(du=>{y();b();Object.defineProperty(du,"__esModule",{value:!0});du.dnsEncode=du.namehash=du.isValidName=du.ensNormalize=void 0;var tQ=Un(),qo=ge(),$ye=a4(),nQ=new Uint8Array(32);nQ.fill(0);function rQ(r){return(0,qo.assertArgument)(r.length!==0,"invalid ENS name; empty component","comp",r),r}function wI(r){let e=(0,qo.toUtf8Bytes)(sQ(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(rQ(e.slice(n,s))),n=s+1);return(0,qo.assertArgument)(n<e.length,"invalid ENS name; empty component","name",r),t.push(rQ(e.slice(n))),t}function sQ(r){try{if(r.length===0)throw new Error("empty label");return(0,$ye.ens_normalize)(r)}catch(e){(0,qo.assertArgument)(!1,`invalid ENS name (${e.message})`,"name",r)}}du.ensNormalize=sQ;function Zye(r){try{return wI(r).length!==0}catch{}return!1}du.isValidName=Zye;function Qye(r){(0,qo.assertArgument)(typeof r=="string","invalid ENS name; not a string","name",r),(0,qo.assertArgument)(r.length,"invalid ENS name (empty label)","name",r);let e=nQ,t=wI(r);for(;t.length;)e=(0,tQ.keccak256)((0,qo.concat)([e,(0,tQ.keccak256)(t.pop())]));return(0,qo.hexlify)(e)}du.namehash=Qye;function Xye(r,e){let t=e??63;return(0,qo.assertArgument)(t<=255,"DNS encoded label cannot exceed 255","length",t),(0,qo.hexlify)((0,qo.concat)(wI(r).map(n=>{(0,qo.assertArgument)(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);let s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}du.dnsEncode=Xye});var vI=M(hO=>{y();b();Object.defineProperty(hO,"__esModule",{value:!0});hO.accessListify=void 0;var Yye=En(),w2=ge();function _I(r,e){return{address:(0,Yye.getAddress)(r),storageKeys:e.map((t,n)=>((0,w2.assertArgument)((0,w2.isHexString)(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function ebe(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?((0,w2.assertArgument)(t.length===2,"invalid slot set",`value[${n}]`,t),_I(t[0],t[1])):((0,w2.assertArgument)(t!=null&&typeof t=="object","invalid address-slot set","value",r),_I(t.address,t.storageKeys)));(0,w2.assertArgument)(r!=null&&typeof r=="object","invalid access list","value",r);let e=Object.keys(r).map(t=>{let n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return _I(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}hO.accessListify=ebe});var AI=M(bx=>{y();b();Object.defineProperty(bx,"__esModule",{value:!0});bx.recoverAddress=bx.computeAddress=void 0;var tbe=En(),PI=Un();function oQ(r){let e;return typeof r=="string"?e=PI.SigningKey.computePublicKey(r,!1):e=r.publicKey,(0,tbe.getAddress)((0,PI.keccak256)("0x"+e.substring(4)).substring(26))}bx.computeAddress=oQ;function rbe(r,e){return oQ(PI.SigningKey.recoverPublicKey(r,e))}bx.recoverAddress=rbe});var fQ=M(mO=>{y();b();Object.defineProperty(mO,"__esModule",{value:!0});mO.Transaction=void 0;var cQ=En(),uQ=ZB(),Cf=Un(),te=ge(),kI=vI(),nbe=AI(),Dn=BigInt(0),sbe=BigInt(2),ibe=BigInt(27),obe=BigInt(28),abe=BigInt(35),cbe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),EI=4096*32;function aQ(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=(0,Cf.sha256)(e).substring(4),"0x"+t}function pO(r){return r==="0x"?null:(0,cQ.getAddress)(r)}function OI(r,e){try{return(0,kI.accessListify)(r)}catch(t){(0,te.assertArgument)(!1,t.message,e,r)}}function _2(r,e){return r==="0x"?0:(0,te.getNumber)(r,e)}function en(r,e){if(r==="0x")return Dn;let t=(0,te.getBigInt)(r,e);return(0,te.assertArgument)(t<=cbe,"value exceeds uint size",e,t),t}function vr(r,e){let t=(0,te.getBigInt)(r,"value"),n=(0,te.toBeArray)(t);return(0,te.assertArgument)(n.length<=32,"value too large",`tx.${e}`,t),n}function TI(r){return(0,kI.accessListify)(r).map(e=>[e.address,e.storageKeys])}function ube(r,e){(0,te.assertArgument)(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)(0,te.assertArgument)((0,te.isHexString)(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function fbe(r){let e=(0,te.decodeRlp)(r);(0,te.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);let t={type:0,nonce:_2(e[0],"nonce"),gasPrice:en(e[1],"gasPrice"),gasLimit:en(e[2],"gasLimit"),to:pO(e[3]),value:en(e[4],"value"),data:(0,te.hexlify)(e[5]),chainId:Dn};if(e.length===6)return t;let n=en(e[6],"v"),s=en(e[7],"r"),i=en(e[8],"s");if(s===Dn&&i===Dn)t.chainId=n;else{let o=(n-abe)/sbe;o<Dn&&(o=Dn),t.chainId=o,(0,te.assertArgument)(o!==Dn||n===ibe||n===obe,"non-canonical legacy v","v",e[6]),t.signature=Cf.Signature.from({r:(0,te.zeroPadValue)(e[7],32),s:(0,te.zeroPadValue)(e[8],32),v:n})}return t}function lbe(r,e){let t=[vr(r.nonce,"nonce"),vr(r.gasPrice||0,"gasPrice"),vr(r.gasLimit,"gasLimit"),r.to||"0x",vr(r.value,"value"),r.data],n=Dn;if(r.chainId!=Dn)n=(0,te.getBigInt)(r.chainId,"tx.chainId"),(0,te.assertArgument)(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){let i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==Dn&&(t.push((0,te.toBeArray)(n)),t.push("0x"),t.push("0x")),(0,te.encodeRlp)(t);let s=BigInt(27+e.yParity);return n!==Dn?s=Cf.Signature.getChainIdV(n,e.v):BigInt(e.v)!==s&&(0,te.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",e),t.push((0,te.toBeArray)(s)),t.push((0,te.toBeArray)(e.r)),t.push((0,te.toBeArray)(e.s)),(0,te.encodeRlp)(t)}function NI(r,e){let t;try{if(t=_2(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{(0,te.assertArgument)(!1,"invalid yParity","yParity",e[0])}let n=(0,te.zeroPadValue)(e[1],32),s=(0,te.zeroPadValue)(e[2],32),i=Cf.Signature.from({r:n,s,yParity:t});r.signature=i}function dbe(r){let e=(0,te.decodeRlp)((0,te.getBytes)(r).slice(1));(0,te.assertArgument)(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",(0,te.hexlify)(r));let t={type:2,chainId:en(e[0],"chainId"),nonce:_2(e[1],"nonce"),maxPriorityFeePerGas:en(e[2],"maxPriorityFeePerGas"),maxFeePerGas:en(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:en(e[4],"gasLimit"),to:pO(e[5]),value:en(e[6],"value"),data:(0,te.hexlify)(e[7]),accessList:OI(e[8],"accessList")};return e.length===9||NI(t,e.slice(9)),t}function hbe(r,e){let t=[vr(r.chainId,"chainId"),vr(r.nonce,"nonce"),vr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vr(r.maxFeePerGas||0,"maxFeePerGas"),vr(r.gasLimit,"gasLimit"),r.to||"0x",vr(r.value,"value"),r.data,TI(r.accessList||[])];return e&&(t.push(vr(e.yParity,"yParity")),t.push((0,te.toBeArray)(e.r)),t.push((0,te.toBeArray)(e.s))),(0,te.concat)(["0x02",(0,te.encodeRlp)(t)])}function gbe(r){let e=(0,te.decodeRlp)((0,te.getBytes)(r).slice(1));(0,te.assertArgument)(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",(0,te.hexlify)(r));let t={type:1,chainId:en(e[0],"chainId"),nonce:_2(e[1],"nonce"),gasPrice:en(e[2],"gasPrice"),gasLimit:en(e[3],"gasLimit"),to:pO(e[4]),value:en(e[5],"value"),data:(0,te.hexlify)(e[6]),accessList:OI(e[7],"accessList")};return e.length===8||NI(t,e.slice(8)),t}function pbe(r,e){let t=[vr(r.chainId,"chainId"),vr(r.nonce,"nonce"),vr(r.gasPrice||0,"gasPrice"),vr(r.gasLimit,"gasLimit"),r.to||"0x",vr(r.value,"value"),r.data,TI(r.accessList||[])];return e&&(t.push(vr(e.yParity,"recoveryParam")),t.push((0,te.toBeArray)(e.r)),t.push((0,te.toBeArray)(e.s))),(0,te.concat)(["0x01",(0,te.encodeRlp)(t)])}function mbe(r){let e=(0,te.decodeRlp)((0,te.getBytes)(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let i=e[1],o=e[2],a=e[3];(0,te.assertArgument)(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),(0,te.assertArgument)(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),(0,te.assertArgument)(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),(0,te.assertArgument)(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),(0,te.assertArgument)(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}(0,te.assertArgument)(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",(0,te.hexlify)(r));let s={type:3,chainId:en(e[0],"chainId"),nonce:_2(e[1],"nonce"),maxPriorityFeePerGas:en(e[2],"maxPriorityFeePerGas"),maxFeePerGas:en(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:en(e[4],"gasLimit"),to:pO(e[5]),value:en(e[6],"value"),data:(0,te.hexlify)(e[7]),accessList:OI(e[8],"accessList"),maxFeePerBlobGas:en(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),(0,te.assertArgument)(s.to!=null,`invalid address for transaction type: ${t}`,"data",r),(0,te.assertArgument)(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<s.blobVersionedHashes.length;i++)(0,te.assertArgument)((0,te.isHexString)(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||NI(s,e.slice(11)),s}function ybe(r,e,t){let n=[vr(r.chainId,"chainId"),vr(r.nonce,"nonce"),vr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vr(r.maxFeePerGas||0,"maxFeePerGas"),vr(r.gasLimit,"gasLimit"),r.to||uQ.ZeroAddress,vr(r.value,"value"),r.data,TI(r.accessList||[]),vr(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),ube(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(vr(e.yParity,"yParity")),n.push((0,te.toBeArray)(e.r)),n.push((0,te.toBeArray)(e.s)),t)?(0,te.concat)(["0x03",(0,te.encodeRlp)([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):(0,te.concat)(["0x03",(0,te.encodeRlp)(n)])}var hu,xx,wx,_x,vx,Px,Ax,Ex,Sx,kx,Ox,Tx,fg,Ed,Nf,Sd,Nx,gO,Tf=class{constructor(){T(this,Nx);T(this,hu,void 0);T(this,xx,void 0);T(this,wx,void 0);T(this,_x,void 0);T(this,vx,void 0);T(this,Px,void 0);T(this,Ax,void 0);T(this,Ex,void 0);T(this,Sx,void 0);T(this,kx,void 0);T(this,Ox,void 0);T(this,Tx,void 0);T(this,fg,void 0);T(this,Ed,void 0);T(this,Nf,void 0);T(this,Sd,void 0);w(this,hu,null),w(this,xx,null),w(this,_x,0),w(this,vx,Dn),w(this,Px,null),w(this,Ax,null),w(this,Ex,null),w(this,wx,"0x"),w(this,Sx,Dn),w(this,kx,Dn),w(this,Ox,null),w(this,Tx,null),w(this,fg,null),w(this,Ed,null),w(this,Sd,null),w(this,Nf,null)}get type(){return h(this,hu)}set type(e){switch(e){case null:w(this,hu,null);break;case 0:case"legacy":w(this,hu,0);break;case 1:case"berlin":case"eip-2930":w(this,hu,1);break;case 2:case"london":case"eip-1559":w(this,hu,2);break;case 3:case"cancun":case"eip-4844":w(this,hu,3);break;default:(0,te.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=h(this,xx);return e==null&&this.type===3?uQ.ZeroAddress:e}set to(e){w(this,xx,e==null?null:(0,cQ.getAddress)(e))}get nonce(){return h(this,_x)}set nonce(e){w(this,_x,(0,te.getNumber)(e,"value"))}get gasLimit(){return h(this,vx)}set gasLimit(e){w(this,vx,(0,te.getBigInt)(e))}get gasPrice(){let e=h(this,Px);return e==null&&(this.type===0||this.type===1)?Dn:e}set gasPrice(e){w(this,Px,e==null?null:(0,te.getBigInt)(e,"gasPrice"))}get maxPriorityFeePerGas(){let e=h(this,Ax);return e??(this.type===2||this.type===3?Dn:null)}set maxPriorityFeePerGas(e){w(this,Ax,e==null?null:(0,te.getBigInt)(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){let e=h(this,Ex);return e??(this.type===2||this.type===3?Dn:null)}set maxFeePerGas(e){w(this,Ex,e==null?null:(0,te.getBigInt)(e,"maxFeePerGas"))}get data(){return h(this,wx)}set data(e){w(this,wx,(0,te.hexlify)(e))}get value(){return h(this,Sx)}set value(e){w(this,Sx,(0,te.getBigInt)(e,"value"))}get chainId(){return h(this,kx)}set chainId(e){w(this,kx,(0,te.getBigInt)(e))}get signature(){return h(this,Ox)||null}set signature(e){w(this,Ox,e==null?null:Cf.Signature.from(e))}get accessList(){let e=h(this,Tx)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){w(this,Tx,e==null?null:(0,kI.accessListify)(e))}get maxFeePerBlobGas(){let e=h(this,fg);return e==null&&this.type===3?Dn:e}set maxFeePerBlobGas(e){w(this,fg,e==null?null:(0,te.getBigInt)(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=h(this,Ed);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){(0,te.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,te.assertArgument)((0,te.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}w(this,Ed,e)}get blobs(){return h(this,Sd)==null?null:h(this,Sd).map(e=>Object.assign({},e))}set blobs(e){if(e==null){w(this,Sd,null);return}let t=[],n=[];for(let s=0;s<e.length;s++){let i=e[s];if((0,te.isBytesLike)(i)){(0,te.assert)(h(this,Nf),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=(0,te.getBytes)(i);if((0,te.assertArgument)(o.length<=EI,"blob is too large",`blobs[${s}]`,i),o.length!==EI){let f=new Uint8Array(EI);f.set(o),o=f}let a=h(this,Nf).blobToKzgCommitment(o),c=(0,te.hexlify)(h(this,Nf).computeBlobKzgProof(o,a));t.push({data:(0,te.hexlify)(o),commitment:(0,te.hexlify)(a),proof:c}),n.push(aQ(1,a))}else{let o=(0,te.hexlify)(i.commitment);t.push({data:(0,te.hexlify)(i.data),commitment:o,proof:(0,te.hexlify)(i.proof)}),n.push(aQ(1,o))}}w(this,Sd,t),w(this,Ed,n)}get kzg(){return h(this,Nf)}set kzg(e){w(this,Nf,e)}get hash(){return this.signature==null?null:(0,Cf.keccak256)(U(this,Nx,gO).call(this,!0,!1))}get unsignedHash(){return(0,Cf.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,nbe.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Cf.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return U(this,Nx,gO).call(this,!0,!0)}get unsignedSerialized(){return U(this,Nx,gO).call(this,!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=h(this,fg)!=null||h(this,Ed);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,te.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,te.assert)(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,te.assert)(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Tf.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Tf;if(typeof e=="string"){let n=(0,te.getBytes)(e);if(n[0]>=127)return Tf.from(fbe(n));switch(n[0]){case 1:return Tf.from(gbe(n));case 2:return Tf.from(dbe(n));case 3:return Tf.from(mbe(n))}(0,te.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new Tf;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Cf.Signature.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&((0,te.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,te.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&((0,te.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,te.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}},SI=Tf;hu=new WeakMap,xx=new WeakMap,wx=new WeakMap,_x=new WeakMap,vx=new WeakMap,Px=new WeakMap,Ax=new WeakMap,Ex=new WeakMap,Sx=new WeakMap,kx=new WeakMap,Ox=new WeakMap,Tx=new WeakMap,fg=new WeakMap,Ed=new WeakMap,Nf=new WeakMap,Sd=new WeakMap,Nx=new WeakSet,gO=function(e,t){(0,te.assert)(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return lbe(this,n);case 1:return pbe(this,n);case 2:return hbe(this,n);case 3:return ybe(this,n,t?this.blobs:null)}(0,te.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};mO.Transaction=SI});var mi=M(gu=>{y();b();Object.defineProperty(gu,"__esModule",{value:!0});gu.Transaction=gu.recoverAddress=gu.computeAddress=gu.accessListify=void 0;var bbe=vI();Object.defineProperty(gu,"accessListify",{enumerable:!0,get:function(){return bbe.accessListify}});var lQ=AI();Object.defineProperty(gu,"computeAddress",{enumerable:!0,get:function(){return lQ.computeAddress}});Object.defineProperty(gu,"recoverAddress",{enumerable:!0,get:function(){return lQ.recoverAddress}});var xbe=fQ();Object.defineProperty(gu,"Transaction",{enumerable:!0,get:function(){return xbe.Transaction}})});var hQ=M(Cx=>{y();b();Object.defineProperty(Cx,"__esModule",{value:!0});Cx.verifyMessage=Cx.hashMessage=void 0;var wbe=Un(),_be=ux(),vbe=mi(),yO=ge();function dQ(r){return typeof r=="string"&&(r=(0,yO.toUtf8Bytes)(r)),(0,wbe.keccak256)((0,yO.concat)([(0,yO.toUtf8Bytes)(_be.MessagePrefix),(0,yO.toUtf8Bytes)(String(r.length)),r]))}Cx.hashMessage=dQ;function Pbe(r,e){let t=dQ(r);return(0,vbe.recoverAddress)(t,e)}Cx.verifyMessage=Pbe});var mQ=M(kd=>{y();b();Object.defineProperty(kd,"__esModule",{value:!0});kd.solidityPackedSha256=kd.solidityPackedKeccak256=kd.solidityPacked=void 0;var Abe=En(),gQ=Un(),Pr=ge(),Ebe=new RegExp("^bytes([0-9]+)$"),Sbe=new RegExp("^(u?int)([0-9]*)$"),kbe=new RegExp("^(.*)\\[([0-9]*)\\]$");function pQ(r,e,t){switch(r){case"address":return t?(0,Pr.getBytes)((0,Pr.zeroPadValue)(e,32)):(0,Pr.getBytes)((0,Abe.getAddress)(e));case"string":return(0,Pr.toUtf8Bytes)(e);case"bytes":return(0,Pr.getBytes)(e);case"bool":return e=e?"0x01":"0x00",t?(0,Pr.getBytes)((0,Pr.zeroPadValue)(e,32)):(0,Pr.getBytes)(e)}let n=r.match(Sbe);if(n){let s=n[1]==="int",i=parseInt(n[2]||"256");return(0,Pr.assertArgument)((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",r),t&&(i=256),s&&(e=(0,Pr.toTwos)(e,i)),(0,Pr.getBytes)((0,Pr.zeroPadValue)((0,Pr.toBeArray)(e),i/8))}if(n=r.match(Ebe),n){let s=parseInt(n[1]);return(0,Pr.assertArgument)(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",r),(0,Pr.assertArgument)((0,Pr.dataLength)(e)===s,`invalid value for ${r}`,"value",e),t?(0,Pr.getBytes)((0,Pr.zeroPadBytes)(e,32)):e}if(n=r.match(kbe),n&&Array.isArray(e)){let s=n[1],i=parseInt(n[2]||String(e.length));(0,Pr.assertArgument)(i===e.length,`invalid array length for ${r}`,"value",e);let o=[];return e.forEach(function(a){o.push(pQ(s,a,!0))}),(0,Pr.getBytes)((0,Pr.concat)(o))}(0,Pr.assertArgument)(!1,"invalid type","type",r)}function CI(r,e){(0,Pr.assertArgument)(r.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return r.forEach(function(n,s){t.push(pQ(n,e[s]))}),(0,Pr.hexlify)((0,Pr.concat)(t))}kd.solidityPacked=CI;function Obe(r,e){return(0,gQ.keccak256)(CI(r,e))}kd.solidityPackedKeccak256=Obe;function Tbe(r,e){return(0,gQ.sha256)(CI(r,e))}kd.solidityPackedSha256=Tbe});var SQ=M(Ix=>{y();b();Object.defineProperty(Ix,"__esModule",{value:!0});Ix.verifyTypedData=Ix.TypedDataEncoder=void 0;var wQ=En(),Rx=Un(),Nbe=mi(),Re=ge(),_Q=xI(),vQ=new Uint8Array(32);vQ.fill(0);var Cbe=BigInt(-1),PQ=BigInt(0),AQ=BigInt(1),Rbe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Bbe(r){let e=(0,Re.getBytes)(r),t=e.length%32;return t?(0,Re.concat)([e,vQ.slice(t)]):(0,Re.hexlify)(e)}var Ibe=(0,Re.toBeHex)(AQ,32),Mbe=(0,Re.toBeHex)(PQ,32),yQ={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},RI=["name","version","chainId","verifyingContract","salt"];function bQ(r){return function(e){return(0,Re.assertArgument)(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}var jbe={name:bQ("name"),version:bQ("version"),chainId:function(r){let e=(0,Re.getBigInt)(r,"domain.chainId");return(0,Re.assertArgument)(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):(0,Re.toQuantity)(e)},verifyingContract:function(r){try{return(0,wQ.getAddress)(r).toLowerCase()}catch{}(0,Re.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){let e=(0,Re.getBytes)(r,"domain.salt");return(0,Re.assertArgument)(e.length===32,'invalid domain value "salt"',"domain.salt",r),(0,Re.hexlify)(e)}};function BI(r){{let e=r.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",n=parseInt(e[2]);(0,Re.assertArgument)(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);let s=(0,Re.mask)(Rbe,t?n-1:n),i=t?(s+AQ)*Cbe:PQ;return function(o){let a=(0,Re.getBigInt)(o,"value");return(0,Re.assertArgument)(a>=i&&a<=s,`value out-of-bounds for ${r}`,"value",a),(0,Re.toBeHex)(t?(0,Re.toTwos)(a,256):a,32)}}}{let e=r.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return(0,Re.assertArgument)(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){let s=(0,Re.getBytes)(n);return(0,Re.assertArgument)(s.length===t,`invalid length for ${r}`,"value",n),Bbe(n)}}}switch(r){case"address":return function(e){return(0,Re.zeroPadValue)((0,wQ.getAddress)(e),32)};case"bool":return function(e){return e?Ibe:Mbe};case"bytes":return function(e){return(0,Rx.keccak256)(e)};case"string":return function(e){return(0,_Q.id)(e)}}return null}function xQ(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function bO(r){let e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}var v2,Rf,Bx,wO,EQ,Ho=class{constructor(e){T(this,wO);O(this,"primaryType");T(this,v2,void 0);T(this,Rf,void 0);T(this,Bx,void 0);w(this,Rf,new Map),w(this,Bx,new Map);let t=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:f,type:g})=>{let{base:p,index:A}=bO(g);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:f,type:p+(A||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),w(this,v2,JSON.stringify(i));for(let c in i){let f=new Set;for(let g of i[c]){(0,Re.assertArgument)(!f.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(c)}`,"types",e),f.add(g.name);let p=bO(g.type).base;(0,Re.assertArgument)(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!BI(p)&&((0,Re.assertArgument)(n.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),n.get(p).push(c),t.get(c).add(p))}}let o=Array.from(n.keys()).filter(c=>n.get(c).length===0);(0,Re.assertArgument)(o.length!==0,"missing primary type","types",e),(0,Re.assertArgument)(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),(0,Re.defineProperties)(this,{primaryType:o[0]});function a(c,f){(0,Re.assertArgument)(!f.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),f.add(c);for(let g of t.get(c))if(!!n.has(g)){a(g,f);for(let p of f)s.get(p).add(g)}f.delete(c)}a(this.primaryType,new Set);for(let[c,f]of s){let g=Array.from(f);g.sort(),h(this,Rf).set(c,xQ(c,i[c])+g.map(p=>xQ(p,i[p])).join(""))}}get types(){return JSON.parse(h(this,v2))}getEncoder(e){let t=h(this,Bx).get(e);return t||(t=U(this,wO,EQ).call(this,e),h(this,Bx).set(e,t)),t}encodeType(e){let t=h(this,Rf).get(e);return(0,Re.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,Rx.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(BI(e))return n(e,t);let s=bO(e).array;if(s)return(0,Re.assertArgument)(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,n));let i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{});(0,Re.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Ho(e)}static getPrimaryType(e){return Ho.from(e).primaryType}static hashStruct(e,t,n){return Ho.from(t).hashStruct(e,n)}static hashDomain(e){let t=[];for(let n in e){if(e[n]==null)continue;let s=yQ[n];(0,Re.assertArgument)(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>RI.indexOf(n.name)-RI.indexOf(s.name)),Ho.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return(0,Re.concat)(["0x1901",Ho.hashDomain(e),Ho.from(t).hash(n)])}static hash(e,t,n){return(0,Rx.keccak256)(Ho.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!(0,Re.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=Ho.from(t);o.visit(n,(a,c)=>(a==="address"&&!(0,Re.isHexString)(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,t,n){Ho.hashDomain(e);let s={},i=[];RI.forEach(c=>{let f=e[c];f!=null&&(s[c]=jbe[c](f),i.push({name:c,type:yQ[c]}))});let o=Ho.from(t);t=o.types;let a=Object.assign({},t);return(0,Re.assertArgument)(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,f)=>{if(c.match(/^bytes(\d*)/))return(0,Re.hexlify)((0,Re.getBytes)(f));if(c.match(/^u?int/))return(0,Re.getBigInt)(f).toString();switch(c){case"address":return f.toLowerCase();case"bool":return!!f;case"string":return(0,Re.assertArgument)(typeof f=="string","invalid string","value",f),f}(0,Re.assertArgument)(!1,"unsupported type","type",c)})}}},xO=Ho;v2=new WeakMap,Rf=new WeakMap,Bx=new WeakMap,wO=new WeakSet,EQ=function(e){{let s=BI(e);if(s)return s}let t=bO(e).array;if(t){let s=t.prefix,i=this.getEncoder(s);return o=>{(0,Re.assertArgument)(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return h(this,Rf).has(s)&&(a=a.map(Rx.keccak256)),(0,Rx.keccak256)((0,Re.concat)(a))}}let n=this.types[e];if(n){let s=(0,_Q.id)(h(this,Rf).get(e));return i=>{let o=n.map(({name:a,type:c})=>{let f=this.getEncoder(c)(i[a]);return h(this,Rf).has(c)?(0,Rx.keccak256)(f):f});return o.unshift(s),(0,Re.concat)(o)}}(0,Re.assertArgument)(!1,`unknown type: ${e}`,"type",e)};Ix.TypedDataEncoder=xO;function Fbe(r,e,t,n){return(0,Nbe.recoverAddress)(xO.hash(r,e,t),n)}Ix.verifyTypedData=Fbe});var pu=M(pr=>{y();b();Object.defineProperty(pr,"__esModule",{value:!0});pr.verifyTypedData=pr.TypedDataEncoder=pr.solidityPackedSha256=pr.solidityPackedKeccak256=pr.solidityPacked=pr.verifyMessage=pr.hashMessage=pr.dnsEncode=pr.namehash=pr.isValidName=pr.ensNormalize=pr.id=void 0;var Lbe=xI();Object.defineProperty(pr,"id",{enumerable:!0,get:function(){return Lbe.id}});var _O=iQ();Object.defineProperty(pr,"ensNormalize",{enumerable:!0,get:function(){return _O.ensNormalize}});Object.defineProperty(pr,"isValidName",{enumerable:!0,get:function(){return _O.isValidName}});Object.defineProperty(pr,"namehash",{enumerable:!0,get:function(){return _O.namehash}});Object.defineProperty(pr,"dnsEncode",{enumerable:!0,get:function(){return _O.dnsEncode}});var kQ=hQ();Object.defineProperty(pr,"hashMessage",{enumerable:!0,get:function(){return kQ.hashMessage}});Object.defineProperty(pr,"verifyMessage",{enumerable:!0,get:function(){return kQ.verifyMessage}});var II=mQ();Object.defineProperty(pr,"solidityPacked",{enumerable:!0,get:function(){return II.solidityPacked}});Object.defineProperty(pr,"solidityPackedKeccak256",{enumerable:!0,get:function(){return II.solidityPackedKeccak256}});Object.defineProperty(pr,"solidityPackedSha256",{enumerable:!0,get:function(){return II.solidityPackedSha256}});var OQ=SQ();Object.defineProperty(pr,"TypedDataEncoder",{enumerable:!0,get:function(){return OQ.TypedDataEncoder}});Object.defineProperty(pr,"verifyTypedData",{enumerable:!0,get:function(){return OQ.verifyTypedData}})});var EO=M(hn=>{y();b();Object.defineProperty(hn,"__esModule",{value:!0});hn.StructFragment=hn.FunctionFragment=hn.FallbackFragment=hn.ConstructorFragment=hn.EventFragment=hn.ErrorFragment=hn.NamedFragment=hn.Fragment=hn.ParamType=void 0;var Yt=ge(),jI=pu();function Hs(r){let e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}var Ube="external public payable override",Dbe=Hs(Ube.split(" ")),LQ="constant external internal payable private public pure view override",qbe=Hs(LQ.split(" ")),UQ="constructor error event fallback function receive struct",DQ=Hs(UQ.split(" ")),qQ="calldata memory storage payable indexed",Hbe=Hs(qQ.split(" ")),Gbe="tuple returns",Kbe=[UQ,qQ,Gbe,LQ].join(" "),Vbe=Hs(Kbe.split(" ")),zbe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Jbe=new RegExp("^(\\s*)"),Wbe=new RegExp("^([0-9]+)"),$be=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),HQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),GQ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Vn,lc,A2,MI,PO=class{constructor(e){T(this,A2);T(this,Vn,void 0);T(this,lc,void 0);w(this,Vn,0),w(this,lc,e.slice())}get offset(){return h(this,Vn)}get length(){return h(this,lc).length-h(this,Vn)}clone(){return new PO(h(this,lc))}reset(){w(this,Vn,0)}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=U(this,A2,MI).call(this,h(this,Vn)+1,e.match+1);return w(this,Vn,e.match+1),t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;h(this,Vn)<e.match-1;){let n=this.peek().linkNext;t.push(U(this,A2,MI).call(this,h(this,Vn)+1,n)),w(this,Vn,n)}return w(this,Vn,e.match+1),t}peek(){if(h(this,Vn)>=h(this,lc).length)throw new Error("out-of-bounds");return h(this,lc)[h(this,Vn)]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return kn(this,Vn)._++,e}toString(){let e=[];for(let t=h(this,Vn);t<h(this,lc).length;t++){let n=h(this,lc)[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}},gc=PO;Vn=new WeakMap,lc=new WeakMap,A2=new WeakSet,MI=function(e=0,t=0){return new PO(h(this,lc).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};function Od(r){let e=[],t=o=>{let a=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)},n=[],s=[],i=0;for(;i<r.length;){let o=r.substring(i),a=o.match(Jbe);a&&(i+=a[1].length,o=r.substring(i));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let f=zbe[o[0]]||"";if(f){if(c.type=f,c.text=o[0],i++,f==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(f=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(f==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(f==="OPEN_BRACKET")c.type="BRACKET";else if(f==="CLOSE_BRACKET"){let g=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let p=e.pop().text;g=p+g,e[e.length-1].value=(0,Yt.getNumber)(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=g}continue}if(a=o.match($be),a){if(c.text=a[1],i+=c.text.length,Vbe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(GQ)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(Wbe),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new gc(e.map(o=>Object.freeze(o)))}function TQ(r,e){let t=[];for(let n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function AO(r,e){if(e.peekKeyword(DQ)){let t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function If(r,e){let t=new Set;for(;;){let n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function KQ(r){let e=If(r,qbe);return TQ(e,Hs("constant payable nonpayable".split(" "))),TQ(e,Hs("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Bf(r,e){return r.popParams().map(t=>yi.from(t,e))}function VQ(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return(0,Yt.getBigInt)(r.pop().text);throw new Error("invalid gas")}return null}function lg(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}var Zbe=new RegExp(/^(.*)\[([0-9]*)\]$/);function NQ(r){let e=r.match(GQ);if((0,Yt.assertArgument)(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){let t=parseInt(e[2]);(0,Yt.assertArgument)(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){let t=parseInt(e[3]);(0,Yt.assertArgument)(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}var Br={},bi=Symbol.for("_ethers_internal"),CQ="_ParamTypeInternal",RQ="_ErrorInternal",BQ="_EventInternal",IQ="_ConstructorInternal",MQ="_FallbackInternal",jQ="_FunctionInternal",FQ="_StructInternal",Mx,vO,Go=class{constructor(e,t,n,s,i,o,a,c){T(this,Mx);O(this,"name");O(this,"type");O(this,"baseType");O(this,"indexed");O(this,"components");O(this,"arrayLength");O(this,"arrayChildren");if((0,Yt.assertPrivate)(e,Br,"ParamType"),Object.defineProperty(this,bi,{value:CQ}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");(0,Yt.defineProperties)(this,{name:t,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){let n=[],s=[e];return U(this,Mx,vO).call(this,n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(Go.isParamType(e))return e;if(typeof e=="string")try{return Go.from(Od(e),t)}catch{(0,Yt.assertArgument)(!1,"invalid param type","obj",e)}else if(e instanceof gc){let a="",c="",f=null;If(e,Hs(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",f=e.popParams().map(N=>Go.from(N)),a=`tuple(${f.map(N=>N.format()).join(",")})`):(a=NQ(e.popType("TYPE")),c=a);let g=null,p=null;for(;e.length&&e.peekType("BRACKET");){let N=e.pop();g=new Go(Br,"",a,c,null,f,p,g),p=N.value,a+=N.text,c="array",f=null}let A=null;if(If(e,Hbe).has("indexed")){if(!t)throw new Error("");A=!0}let C=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Go(Br,C,a,c,A,f,p,g)}let n=e.name;(0,Yt.assertArgument)(!n||typeof n=="string"&&n.match(HQ),"invalid name","obj.name",n);let s=e.indexed;s!=null&&((0,Yt.assertArgument)(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(Zbe);if(o){let a=parseInt(o[2]||"-1"),c=Go.from({type:o[1],components:e.components});return new Go(Br,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(f=>Go.from(f)):null;return new Go(Br,n||"",i,"tuple",s,a,null,null)}return i=NQ(e.type),new Go(Br,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[bi]===CQ}},yi=Go;Mx=new WeakSet,vO=function(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=t.slice();a.forEach((c,f)=>{var g;U(g=o,Mx,vO).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}if(this.isTuple()){let o=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,f)=>{var g;U(g=o[f],Mx,vO).call(g,e,c,n,p=>{a[f]=p})}),s(a);return}let i=n(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};hn.ParamType=yi;var Mf=class{constructor(e,t,n){O(this,"type");O(this,"inputs");(0,Yt.assertPrivate)(e,Br,"Fragment"),n=Object.freeze(n.slice()),(0,Yt.defineProperties)(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{Mf.from(JSON.parse(e))}catch{}return Mf.from(Od(e))}if(e instanceof gc)switch(e.peekKeyword(DQ)){case"constructor":return hc.from(e);case"error":return dc.from(e);case"event":return Vo.from(e);case"fallback":case"receive":return Ko.from(e);case"function":return zo.from(e);case"struct":return mu.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return hc.from(e);case"error":return dc.from(e);case"event":return Vo.from(e);case"fallback":case"receive":return Ko.from(e);case"function":return zo.from(e);case"struct":return mu.from(e)}(0,Yt.assert)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,Yt.assertArgument)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return hc.isFragment(e)}static isError(e){return dc.isFragment(e)}static isEvent(e){return Vo.isFragment(e)}static isFunction(e){return zo.isFragment(e)}static isStruct(e){return mu.isFragment(e)}};hn.Fragment=Mf;var dg=class extends Mf{constructor(t,n,s,i){super(t,n,i);O(this,"name");(0,Yt.assertArgument)(typeof s=="string"&&s.match(HQ),"invalid identifier","name",s),i=Object.freeze(i.slice()),(0,Yt.defineProperties)(this,{name:s})}};hn.NamedFragment=dg;function P2(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}var dc=class extends dg{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,bi,{value:RQ})}get selector(){return(0,jI.id)(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+P2(e,this.inputs)),t.join(" ")}static from(e){if(dc.isFragment(e))return e;if(typeof e=="string")return dc.from(Od(e));if(e instanceof gc){let t=AO("error",e),n=Bf(e);return lg(e),new dc(Br,t,n)}return new dc(Br,e.name,e.inputs?e.inputs.map(yi.from):[])}static isFragment(e){return e&&e[bi]===RQ}};hn.ErrorFragment=dc;var Vo=class extends dg{constructor(t,n,s,i){super(t,"event",n,s);O(this,"anonymous");Object.defineProperty(this,bi,{value:BQ}),(0,Yt.defineProperties)(this,{anonymous:i})}get topicHash(){return(0,jI.id)(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+P2(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(i=>yi.from(i)),new Vo(Br,t,n,!1).topicHash}static from(t){if(Vo.isFragment(t))return t;if(typeof t=="string")try{return Vo.from(Od(t))}catch{(0,Yt.assertArgument)(!1,"invalid event fragment","obj",t)}else if(t instanceof gc){let n=AO("event",t),s=Bf(t,!0),i=!!If(t,Hs(["anonymous"])).has("anonymous");return lg(t),new Vo(Br,n,s,i)}return new Vo(Br,t.name,t.inputs?t.inputs.map(n=>yi.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[bi]===BQ}};hn.EventFragment=Vo;var hc=class extends Mf{constructor(t,n,s,i,o){super(t,n,s);O(this,"payable");O(this,"gas");Object.defineProperty(this,bi,{value:IQ}),(0,Yt.defineProperties)(this,{payable:i,gas:o})}format(t){if((0,Yt.assert)(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let n=[`constructor${P2(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(hc.isFragment(t))return t;if(typeof t=="string")try{return hc.from(Od(t))}catch{(0,Yt.assertArgument)(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof gc){If(t,Hs(["constructor"]));let n=Bf(t),s=!!If(t,Dbe).has("payable"),i=VQ(t);return lg(t),new hc(Br,"constructor",n,s,i)}return new hc(Br,"constructor",t.inputs?t.inputs.map(yi.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[bi]===IQ}};hn.ConstructorFragment=hc;var Ko=class extends Mf{constructor(t,n,s){super(t,"fallback",n);O(this,"payable");Object.defineProperty(this,bi,{value:MQ}),(0,Yt.defineProperties)(this,{payable:s})}format(t){let n=this.inputs.length===0?"receive":"fallback";if(t==="json"){let s=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:s})}return`${n}()${this.payable?" payable":""}`}static from(t){if(Ko.isFragment(t))return t;if(typeof t=="string")try{return Ko.from(Od(t))}catch{(0,Yt.assertArgument)(!1,"invalid fallback fragment","obj",t)}else if(t instanceof gc){let n=t.toString(),s=t.peekKeyword(Hs(["fallback","receive"]));if((0,Yt.assertArgument)(s,"type must be fallback or receive","obj",n),t.popKeyword(Hs(["fallback","receive"]))==="receive"){let c=Bf(t);return(0,Yt.assertArgument)(c.length===0,"receive cannot have arguments","obj.inputs",c),If(t,Hs(["payable"])),lg(t),new Ko(Br,[],!0)}let o=Bf(t);o.length?(0,Yt.assertArgument)(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[yi.from("bytes")];let a=KQ(t);if((0,Yt.assertArgument)(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),If(t,Hs(["returns"])).has("returns")){let c=Bf(t);(0,Yt.assertArgument)(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(f=>f.format("minimal")).join(", "))}return lg(t),new Ko(Br,o,a==="payable")}if(t.type==="receive")return new Ko(Br,[],!0);if(t.type==="fallback"){let n=[yi.from("bytes")],s=t.stateMutability==="payable";return new Ko(Br,n,s)}(0,Yt.assertArgument)(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[bi]===MQ}};hn.FallbackFragment=Ko;var zo=class extends dg{constructor(t,n,s,i,o,a){super(t,"function",n,i);O(this,"constant");O(this,"outputs");O(this,"stateMutability");O(this,"payable");O(this,"gas");Object.defineProperty(this,bi,{value:jQ}),o=Object.freeze(o.slice());let c=s==="view"||s==="pure",f=s==="payable";(0,Yt.defineProperties)(this,{constant:c,gas:a,outputs:o,payable:f,stateMutability:s})}get selector(){return(0,jI.id)(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});let n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+P2(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(P2(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(i=>yi.from(i)),new zo(Br,t,"view",n,[],null).selector}static from(t){if(zo.isFragment(t))return t;if(typeof t=="string")try{return zo.from(Od(t))}catch{(0,Yt.assertArgument)(!1,"invalid function fragment","obj",t)}else if(t instanceof gc){let s=AO("function",t),i=Bf(t),o=KQ(t),a=[];If(t,Hs(["returns"])).has("returns")&&(a=Bf(t));let c=VQ(t);return lg(t),new zo(Br,s,o,i,a,c)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new zo(Br,t.name,n,t.inputs?t.inputs.map(yi.from):[],t.outputs?t.outputs.map(yi.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[bi]===jQ}};hn.FunctionFragment=zo;var mu=class extends dg{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,bi,{value:FQ})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return mu.from(Od(e))}catch{(0,Yt.assertArgument)(!1,"invalid struct fragment","obj",e)}else if(e instanceof gc){let t=AO("struct",e),n=Bf(e);return lg(e),new mu(Br,t,n)}return new mu(Br,e.name,e.inputs?e.inputs.map(yi.from):[])}static isFragment(e){return e&&e[bi]===FQ}};hn.StructFragment=mu});var DI=M(OO=>{y();b();Object.defineProperty(OO,"__esModule",{value:!0});OO.AbiCoder=void 0;var E2=ge(),zQ=jo(),Qbe=HZ(),Xbe=cI(),Ybe=zZ(),exe=lI(),txe=WZ(),rxe=$Z(),nxe=ZZ(),sxe=XZ(),SO=eQ(),FI=EO(),JQ=En(),S2=ge(),pc=new Map;pc.set(0,"GENERIC_PANIC");pc.set(1,"ASSERT_FALSE");pc.set(17,"OVERFLOW");pc.set(18,"DIVIDE_BY_ZERO");pc.set(33,"ENUM_RANGE_ERROR");pc.set(34,"BAD_STORAGE_DATA");pc.set(49,"STACK_UNDERFLOW");pc.set(50,"ARRAY_RANGE_ERROR");pc.set(65,"OUT_OF_MEMORY");pc.set(81,"UNINITIALIZED_FUNCTION_CALL");var ixe=new RegExp(/^bytes([0-9]*)$/),oxe=new RegExp(/^(u?int)([0-9]*)$/),LI=null,WQ=1024;function axe(r,e,t,n){let s="missing revert data",i=null,o=null,a=null;if(t){s="execution reverted";let f=(0,S2.getBytes)(t);if(t=(0,S2.hexlify)(t),f.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(f.length%32!==4)s+=" (could not decode reason; invalid data length)";else if((0,S2.hexlify)(f.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],f.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if((0,S2.hexlify)(f.slice(0,4))==="0x4e487b71")try{let g=Number(n.decode(["uint256"],f.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[g]},i=`Panic due to ${pc.get(g)||"UNKNOWN"}(${g})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?(0,JQ.getAddress)(e.to):null,data:e.data||"0x"};return e.from&&(c.from=(0,JQ.getAddress)(e.from)),(0,S2.makeError)(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:c,invocation:o,revert:a})}var Td,jx,kO=class{constructor(){T(this,Td)}getDefaultValue(e){let t=e.map(s=>U(this,Td,jx).call(this,FI.ParamType.from(s)));return new SO.TupleCoder(t,"_").defaultValue()}encode(e,t){(0,E2.assertArgumentCount)(t.length,e.length,"types/values length mismatch");let n=e.map(o=>U(this,Td,jx).call(this,FI.ParamType.from(o))),s=new SO.TupleCoder(n,"_"),i=new zQ.Writer;return s.encode(i,t),i.data}decode(e,t,n){let s=e.map(o=>U(this,Td,jx).call(this,FI.ParamType.from(o)));return new SO.TupleCoder(s,"_").decode(new zQ.Reader(t,n,WQ))}static _setDefaultMaxInflation(e){(0,E2.assertArgument)(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),WQ=e}static defaultAbiCoder(){return LI==null&&(LI=new kO),LI}static getBuiltinCallException(e,t,n){return axe(e,t,n,kO.defaultAbiCoder())}},UI=kO;Td=new WeakSet,jx=function(e){if(e.isArray())return new Xbe.ArrayCoder(U(this,Td,jx).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new SO.TupleCoder(e.components.map(n=>U(this,Td,jx).call(this,n)),e.name);switch(e.baseType){case"address":return new Qbe.AddressCoder(e.name);case"bool":return new Ybe.BooleanCoder(e.name);case"string":return new sxe.StringCoder(e.name);case"bytes":return new exe.BytesCoder(e.name);case"":return new rxe.NullCoder(e.name)}let t=e.type.match(oxe);if(t){let n=parseInt(t[2]||"256");return(0,E2.assertArgument)(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new nxe.NumberCoder(n/8,t[1]==="int",e.name)}if(t=e.type.match(ixe),t){let n=parseInt(t[1]);return(0,E2.assertArgument)(n!==0&&n<=32,"invalid bytes length","param",e),new txe.FixedBytesCoder(n,e.name)}(0,E2.assertArgument)(!1,"invalid type","type",e.type)};OO.AbiCoder=UI});var $Q=M(Fx=>{y();b();Object.defineProperty(Fx,"__esModule",{value:!0});Fx.decodeBytes32String=Fx.encodeBytes32String=void 0;var TO=ge();function cxe(r){let e=(0,TO.toUtf8Bytes)(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,TO.zeroPadBytes)(e,32)}Fx.encodeBytes32String=cxe;function uxe(r){let e=(0,TO.getBytes)(r,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return(0,TO.toUtf8String)(e.slice(0,t))}Fx.decodeBytes32String=uxe});var tX=M(ys=>{y();b();Object.defineProperty(ys,"__esModule",{value:!0});ys.Interface=ys.Indexed=ys.ErrorDescription=ys.TransactionDescription=ys.LogDescription=ys.Result=ys.checkResultErrors=void 0;var ZQ=Un(),QQ=pu(),we=ge(),XQ=DI(),GI=jo();Object.defineProperty(ys,"checkResultErrors",{enumerable:!0,get:function(){return GI.checkResultErrors}});Object.defineProperty(ys,"Result",{enumerable:!0,get:function(){return GI.Result}});var mc=EO(),qI=lu(),RO=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"signature");O(this,"topic");O(this,"args");let s=e.name,i=e.format();(0,we.defineProperties)(this,{fragment:e,name:s,signature:i,topic:t,args:n})}};ys.LogDescription=RO;var BO=class{constructor(e,t,n,s){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");O(this,"value");let i=e.name,o=e.format();(0,we.defineProperties)(this,{fragment:e,name:i,args:n,signature:o,selector:t,value:s})}};ys.TransactionDescription=BO;var IO=class{constructor(e,t,n){O(this,"fragment");O(this,"name");O(this,"args");O(this,"signature");O(this,"selector");let s=e.name,i=e.format();(0,we.defineProperties)(this,{fragment:e,name:s,args:n,signature:i,selector:t})}};ys.ErrorDescription=IO;var k2=class{constructor(e){O(this,"hash");O(this,"_isIndexed");(0,we.defineProperties)(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}};ys.Indexed=k2;var YQ={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},eX={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&YQ[r.toString()]&&(e=YQ[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}},yu,bu,xu,ms,Lx,NO,Ux,CO,hg=class{constructor(e){T(this,Lx);T(this,Ux);O(this,"fragments");O(this,"deploy");O(this,"fallback");O(this,"receive");T(this,yu,void 0);T(this,bu,void 0);T(this,xu,void 0);T(this,ms,void 0);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,w(this,xu,new Map),w(this,yu,new Map),w(this,bu,new Map);let n=[];for(let o of t)try{n.push(mc.Fragment.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}(0,we.defineProperties)(this,{fragments:Object.freeze(n)});let s=null,i=!1;w(this,ms,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,we.defineProperties)(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:((0,we.assertArgument)(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=h(this,xu);break;case"event":c=h(this,bu);break;case"error":c=h(this,yu);break;default:return}let f=o.format();c.has(f)||c.set(f,o)}),this.deploy||(0,we.defineProperties)(this,{deploy:mc.ConstructorFragment.from("constructor()")}),(0,we.defineProperties)(this,{fallback:s,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return XQ.AbiCoder.defaultAbiCoder()}getFunctionName(e){let t=U(this,Lx,NO).call(this,e,null,!1);return(0,we.assertArgument)(t,"no matching function","key",e),t.name}hasFunction(e){return!!U(this,Lx,NO).call(this,e,null,!1)}getFunction(e,t){return U(this,Lx,NO).call(this,e,t||null,!0)}forEachFunction(e){let t=Array.from(h(this,xu).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,xu).get(s),n)}}getEventName(e){let t=U(this,Ux,CO).call(this,e,null,!1);return(0,we.assertArgument)(t,"no matching event","key",e),t.name}hasEvent(e){return!!U(this,Ux,CO).call(this,e,null,!1)}getEvent(e,t){return U(this,Ux,CO).call(this,e,t||null,!0)}forEachEvent(e){let t=Array.from(h(this,bu).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,bu).get(s),n)}}getError(e,t){if((0,we.isHexString)(e)){let s=e.toLowerCase();if(eX[s])return mc.ErrorFragment.from(eX[s].signature);for(let i of h(this,yu).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of h(this,yu))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?mc.ErrorFragment.from("error Error(string)"):e==="Panic"?mc.ErrorFragment.from("error Panic(uint256)"):null;if(s.length>1){let i=s.map(o=>JSON.stringify(o.format())).join(", ");(0,we.assertArgument)(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=mc.ErrorFragment.from(e).format(),e==="Error(string)")return mc.ErrorFragment.from("error Error(string)");if(e==="Panic(uint256)")return mc.ErrorFragment.from("error Panic(uint256)");let n=h(this,yu).get(e);return n||null}forEachError(e){let t=Array.from(h(this,yu).keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(h(this,yu).get(s),n)}}_decodeParams(e,t){return h(this,ms).decode(e,t)}_encodeParams(e,t){return h(this,ms).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,we.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,we.assertArgument)((0,we.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,we.dataSlice)(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);(0,we.assertArgument)(n,"unknown error","fragment",e),e=n}return(0,we.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,we.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,we.assertArgument)((0,we.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,we.dataSlice)(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,we.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,we.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let i=this.getFunction(e);(0,we.assertArgument)(i,"unknown function","fragment",e),e=i}let n="invalid length for result data",s=(0,we.getBytesCopy)(t);if(s.length%32===0)try{return h(this,ms).decode(e.outputs,s)}catch{n="could not decode result data"}(0,we.assert)(!1,n,"BAD_DATA",{value:(0,we.hexlify)(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){let n=(0,we.getBytes)(e,"data"),s=XQ.AbiCoder.getBuiltinCallException("call",t,n),i="execution reverted (unknown custom error)";if(s.message.startsWith(i)){let a=(0,we.hexlify)(n.slice(0,4)),c=this.getError(a);if(c)try{let f=h(this,ms).decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:f},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){let n=this.getFunction(e);(0,we.assertArgument)(n,"unknown function","fragment",e),e=n}return(0,we.hexlify)(h(this,ms).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let i=this.getEvent(e);(0,we.assertArgument)(i,"unknown event","eventFragment",e),e=i}(0,we.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let s=(i,o)=>i.type==="string"?(0,QQ.id)(o):i.type==="bytes"?(0,ZQ.keccak256)((0,we.hexlify)(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=(0,we.toBeHex)(o):i.type.match(/^bytes/)?o=(0,we.zeroPadBytes)(o,32):i.type==="address"&&h(this,ms).encode(["address"],[o]),(0,we.zeroPadValue)((0,we.hexlify)(o),32));for(t.forEach((i,o)=>{let a=e.inputs[o];if(!a.indexed){(0,we.assertArgument)(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?(0,we.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){let o=this.getEvent(e);(0,we.assertArgument)(o,"unknown event","eventFragment",e),e=o}let n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),(0,we.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{let c=t[a];if(o.indexed)if(o.type==="string")n.push((0,QQ.id)(c));else if(o.type==="bytes")n.push((0,ZQ.keccak256)(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(h(this,ms).encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:h(this,ms).encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){let P=this.getEvent(e);(0,we.assertArgument)(P,"unknown event","eventFragment",e),e=P}if(n!=null&&!e.anonymous){let P=e.topicHash;(0,we.assertArgument)((0,we.isHexString)(n[0],32)&&n[0].toLowerCase()===P,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((P,C)=>{P.indexed?P.type==="string"||P.type==="bytes"||P.baseType==="tuple"||P.baseType==="array"?(s.push(mc.ParamType.from({type:"bytes32",name:P.name})),o.push(!0)):(s.push(P),o.push(!1)):(i.push(P),o.push(!1))});let a=n!=null?h(this,ms).decode(s,(0,we.concat)(n)):null,c=h(this,ms).decode(i,t,!0),f=[],g=[],p=0,A=0;return e.inputs.forEach((P,C)=>{let N=null;if(P.indexed)if(a==null)N=new k2(null);else if(o[C])N=new k2(a[A++]);else try{N=a[A++]}catch(L){N=L}else try{N=c[p++]}catch(L){N=L}f.push(N),g.push(P.name||null)}),GI.Result.fromItems(f,g)}parseTransaction(e){let t=(0,we.getBytes)(e.data,"tx.data"),n=(0,we.getBigInt)(e.value!=null?e.value:0,"tx.value"),s=this.getFunction((0,we.hexlify)(t.slice(0,4)));if(!s)return null;let i=h(this,ms).decode(s.inputs,t.slice(4));return new BO(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new RO(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=(0,we.hexlify)(e),n=this.getError((0,we.dataSlice)(t,0,4));if(!n)return null;let s=h(this,ms).decode(n.inputs,(0,we.dataSlice)(t,4));return new IO(n,n.selector,s)}static from(e){return e instanceof hg?e:typeof e=="string"?new hg(JSON.parse(e)):typeof e.formatJson=="function"?new hg(e.formatJson()):typeof e.format=="function"?new hg(e.format("json")):new hg(e)}},HI=hg;yu=new WeakMap,bu=new WeakMap,xu=new WeakMap,ms=new WeakMap,Lx=new WeakSet,NO=function(e,t,n){if((0,we.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,xu).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,xu))o.split("(")[0]===e&&i.push(a);if(t){let o=t.length>0?t[t.length-1]:null,a=t.length,c=!0;qI.Typed.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let f=i.length-1;f>=0;f--){let g=i[f].inputs.length;g!==a&&(!c||g!==a-1)&&i.splice(f,1)}for(let f=i.length-1;f>=0;f--){let g=i[f].inputs;for(let p=0;p<t.length;p++)if(!!qI.Typed.isTyped(t[p])){if(p>=g.length){if(t[p].type==="overrides")continue;i.splice(f,1);break}if(t[p].type!==g[p].baseType){i.splice(f,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){let o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,we.assertArgument)(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,xu).get(mc.FunctionFragment.from(e).format());return s||null},Ux=new WeakSet,CO=function(e,t,n){if((0,we.isHexString)(e)){let i=e.toLowerCase();for(let o of h(this,bu).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of h(this,bu))o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){let a=i[o].inputs;for(let c=0;c<t.length;c++)if(!!qI.Typed.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){let o=i.map(a=>JSON.stringify(a.format())).join(", ");(0,we.assertArgument)(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}let s=h(this,bu).get(mc.EventFragment.from(e).format());return s||null};ys.Interface=HI});var Dx=M(He=>{y();b();Object.defineProperty(He,"__esModule",{value:!0});He.Typed=He.Result=He.TransactionDescription=He.LogDescription=He.ErrorDescription=He.Interface=He.Indexed=He.checkResultErrors=He.StructFragment=He.ParamType=He.NamedFragment=He.FunctionFragment=He.Fragment=He.FallbackFragment=He.EventFragment=He.ErrorFragment=He.ConstructorFragment=He.encodeBytes32String=He.decodeBytes32String=He.AbiCoder=void 0;var fxe=DI();Object.defineProperty(He,"AbiCoder",{enumerable:!0,get:function(){return fxe.AbiCoder}});var rX=$Q();Object.defineProperty(He,"decodeBytes32String",{enumerable:!0,get:function(){return rX.decodeBytes32String}});Object.defineProperty(He,"encodeBytes32String",{enumerable:!0,get:function(){return rX.encodeBytes32String}});var jf=EO();Object.defineProperty(He,"ConstructorFragment",{enumerable:!0,get:function(){return jf.ConstructorFragment}});Object.defineProperty(He,"ErrorFragment",{enumerable:!0,get:function(){return jf.ErrorFragment}});Object.defineProperty(He,"EventFragment",{enumerable:!0,get:function(){return jf.EventFragment}});Object.defineProperty(He,"FallbackFragment",{enumerable:!0,get:function(){return jf.FallbackFragment}});Object.defineProperty(He,"Fragment",{enumerable:!0,get:function(){return jf.Fragment}});Object.defineProperty(He,"FunctionFragment",{enumerable:!0,get:function(){return jf.FunctionFragment}});Object.defineProperty(He,"NamedFragment",{enumerable:!0,get:function(){return jf.NamedFragment}});Object.defineProperty(He,"ParamType",{enumerable:!0,get:function(){return jf.ParamType}});Object.defineProperty(He,"StructFragment",{enumerable:!0,get:function(){return jf.StructFragment}});var gg=tX();Object.defineProperty(He,"checkResultErrors",{enumerable:!0,get:function(){return gg.checkResultErrors}});Object.defineProperty(He,"Indexed",{enumerable:!0,get:function(){return gg.Indexed}});Object.defineProperty(He,"Interface",{enumerable:!0,get:function(){return gg.Interface}});Object.defineProperty(He,"ErrorDescription",{enumerable:!0,get:function(){return gg.ErrorDescription}});Object.defineProperty(He,"LogDescription",{enumerable:!0,get:function(){return gg.LogDescription}});Object.defineProperty(He,"TransactionDescription",{enumerable:!0,get:function(){return gg.TransactionDescription}});Object.defineProperty(He,"Result",{enumerable:!0,get:function(){return gg.Result}});var lxe=lu();Object.defineProperty(He,"Typed",{enumerable:!0,get:function(){return lxe.Typed}})});var Hx=M(xi=>{y();b();Object.defineProperty(xi,"__esModule",{value:!0});xi.TransactionResponse=xi.TransactionReceipt=xi.Log=xi.Block=xi.copyRequest=xi.FeeData=void 0;var Ar=ge(),dxe=mi(),nX=BigInt(0);function qx(r){return r??null}function tn(r){return r==null?null:r.toString()}var KI=class{constructor(e,t,n){O(this,"gasPrice");O(this,"maxFeePerGas");O(this,"maxPriorityFeePerGas");(0,Ar.defineProperties)(this,{gasPrice:qx(e),maxFeePerGas:qx(t),maxPriorityFeePerGas:qx(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:tn(e),maxFeePerGas:tn(t),maxPriorityFeePerGas:tn(n)}}};xi.FeeData=KI;function hxe(r){let e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=(0,Ar.hexlify)(r.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of t)!(s in r)||r[s]==null||(e[s]=(0,Ar.getBigInt)(r[s],`request.${s}`));let n="type,nonce".split(/,/);for(let s of n)!(s in r)||r[s]==null||(e[s]=(0,Ar.getNumber)(r[s],`request.${s}`));return r.accessList&&(e.accessList=(0,dxe.accessListify)(r.accessList)),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>(0,Ar.isBytesLike)(s)?(0,Ar.hexlify)(s):Object.assign({},s))),e}xi.copyRequest=hxe;var Ff,VI=class{constructor(e,t){O(this,"provider");O(this,"number");O(this,"hash");O(this,"timestamp");O(this,"parentHash");O(this,"parentBeaconBlockRoot");O(this,"nonce");O(this,"difficulty");O(this,"gasLimit");O(this,"gasUsed");O(this,"stateRoot");O(this,"receiptsRoot");O(this,"blobGasUsed");O(this,"excessBlobGas");O(this,"miner");O(this,"prevRandao");O(this,"extraData");O(this,"baseFeePerGas");T(this,Ff,void 0);w(this,Ff,e.transactions.map(n=>typeof n!="string"?new jO(n,t):n)),(0,Ar.defineProperties)(this,{provider:t,hash:qx(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:qx(e.prevRandao),extraData:e.extraData,baseFeePerGas:qx(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return h(this,Ff).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=h(this,Ff).slice();return e.length===0?[]:((0,Ar.assert)(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,timestamp:N,transactions:L}=this;return{_type:"Block",baseFeePerGas:tn(e),difficulty:tn(t),extraData:n,gasLimit:tn(s),gasUsed:tn(i),blobGasUsed:tn(this.blobGasUsed),excessBlobGas:tn(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:f,number:g,parentHash:p,timestamp:N,parentBeaconBlockRoot:A,stateRoot:P,receiptsRoot:C,transactions:L}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return h(this,Ff).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=h(this,Ff)[e];else{let n=e.toLowerCase();for(let s of h(this,Ff))if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let n of t)if(n.hash===e)return n;(0,Ar.assertArgument)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return gxe(this)}};Ff=new WeakMap;xi.Block=VI;var MO=class{constructor(e,t){O(this,"provider");O(this,"transactionHash");O(this,"blockHash");O(this,"blockNumber");O(this,"removed");O(this,"address");O(this,"data");O(this,"topics");O(this,"index");O(this,"transactionIndex");this.provider=t;let n=Object.freeze(e.topics.slice());(0,Ar.defineProperties)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:f}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return(0,Ar.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return(0,Ar.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,Ar.assert)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return pxe(this)}};xi.Log=MO;var O2,zI=class{constructor(e,t){O(this,"provider");O(this,"to");O(this,"from");O(this,"contractAddress");O(this,"hash");O(this,"index");O(this,"blockHash");O(this,"blockNumber");O(this,"logsBloom");O(this,"gasUsed");O(this,"blobGasUsed");O(this,"cumulativeGasUsed");O(this,"gasPrice");O(this,"blobGasPrice");O(this,"type");O(this,"status");O(this,"root");T(this,O2,void 0);w(this,O2,Object.freeze(e.logs.map(s=>new MO(s,t))));let n=nX;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),(0,Ar.defineProperties)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return h(this,O2)}toJSON(){let{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:f,status:g,root:p}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:tn(this.cumulativeGasUsed),from:t,gasPrice:tn(this.gasPrice),blobGasUsed:tn(this.blobGasUsed),blobGasPrice:tn(this.blobGasPrice),gasUsed:tn(this.gasUsed),hash:s,index:i,logs:f,logsBloom:c,root:p,status:g,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return iX(this)}reorderedEvent(e){return(0,Ar.assert)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),sX(this,e)}};O2=new WeakMap;xi.TransactionReceipt=zI;var Nd,JI=class{constructor(e,t){O(this,"provider");O(this,"blockNumber");O(this,"blockHash");O(this,"index");O(this,"hash");O(this,"type");O(this,"to");O(this,"from");O(this,"nonce");O(this,"gasLimit");O(this,"gasPrice");O(this,"maxPriorityFeePerGas");O(this,"maxFeePerGas");O(this,"maxFeePerBlobGas");O(this,"data");O(this,"value");O(this,"chainId");O(this,"signature");O(this,"accessList");O(this,"blobVersionedHashes");T(this,Nd,void 0);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,w(this,Nd,-1)}toJSON(){let{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:f,signature:g,accessList:p,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:t,blobVersionedHashes:A,chainId:tn(this.chainId),data:f,from:a,gasLimit:tn(this.gasLimit),gasPrice:tn(this.gasPrice),hash:s,maxFeePerGas:tn(this.maxFeePerGas),maxPriorityFeePerGas:tn(this.maxPriorityFeePerGas),maxFeePerBlobGas:tn(this.maxFeePerBlobGas),nonce:c,signature:g,to:o,index:n,type:i,value:tn(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:t,blockNumber:n}=await(0,Ar.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let n=e??1,s=t??0,i=h(this,Nd),o=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:A,nonce:P}=await(0,Ar.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(P<this.nonce){i=A;return}if(a)return null;let C=await this.getTransaction();if(!(C&&C.blockNumber!=null))for(o===-1&&(o=i-3,o<h(this,Nd)&&(o=h(this,Nd)));o<=A;){if(a)return null;let N=await this.provider.getBlock(o,!0);if(N==null)return;for(let L of N)if(L===this.hash)return;for(let L=0;L<N.length;L++){let F=await N.getTransaction(L);if(F.from===this.from&&F.nonce===this.nonce){if(a)return null;let D=await this.provider.getTransactionReceipt(F.hash);if(D==null||A-D.blockNumber+1<n)return;let q="replaced";F.data===this.data&&F.to===this.to&&F.value===this.value?q="repriced":F.data==="0x"&&F.from===F.to&&F.value===nX&&(q="cancelled"),(0,Ar.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:q==="replaced"||q==="cancelled",reason:q,replacement:F.replaceableTransaction(i),hash:F.hash,receipt:D})}}o++}},f=A=>{if(A==null||A.status!==0)return A;(0,Ar.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},g=await this.provider.getTransactionReceipt(this.hash);if(n===0)return f(g);if(g){if(await g.confirmations()>=n)return f(g)}else if(await c(),n===0)return null;return await new Promise((A,P)=>{let C=[],N=()=>{C.forEach(F=>F())};if(C.push(()=>{a=!0}),s>0){let F=setTimeout(()=>{N(),P((0,Ar.makeError)("wait for transaction timeout","TIMEOUT"))},s);C.push(()=>{clearTimeout(F)})}let L=async F=>{if(await F.confirmations()>=n){N();try{A(f(F))}catch(D){P(D)}}};if(C.push(()=>{this.provider.off(this.hash,L)}),this.provider.on(this.hash,L),i>=0){let F=async()=>{try{await c()}catch(D){if((0,Ar.isError)(D,"TRANSACTION_REPLACED")){N(),P(D);return}}a||this.provider.once("block",F)};C.push(()=>{this.provider.off("block",F)}),this.provider.once("block",F)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return(0,Ar.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),iX(this)}reorderedEvent(e){return(0,Ar.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,Ar.assert)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),sX(this,e)}replaceableTransaction(e){(0,Ar.assertArgument)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new JI(this,this.provider);return w(t,Nd,e),t}},jO=JI;Nd=new WeakMap;xi.TransactionResponse=jO;function gxe(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function sX(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function iX(r){return{orphan:"drop-transaction",tx:r}}function pxe(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}});var ZI=M(wi=>{y();b();Object.defineProperty(wi,"__esModule",{value:!0});wi.ContractEventPayload=wi.ContractUnknownEventPayload=wi.ContractTransactionResponse=wi.ContractTransactionReceipt=wi.UndecodedEventLog=wi.EventLog=void 0;var DO=Hx(),T2=ge(),N2=class extends DO.Log{constructor(t,n,s){super(t,t.provider);O(this,"interface");O(this,"fragment");O(this,"args");let i=n.decodeEventLog(s,t.data,t.topics);(0,T2.defineProperties)(this,{args:i,fragment:s,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};wi.EventLog=N2;var FO=class extends DO.Log{constructor(t,n){super(t,t.provider);O(this,"error");(0,T2.defineProperties)(this,{error:n})}};wi.UndecodedEventLog=FO;var Gx,LO=class extends DO.TransactionReceipt{constructor(t,n,s){super(s,n);T(this,Gx,void 0);w(this,Gx,t)}get logs(){return super.logs.map(t=>{let n=t.topics.length?h(this,Gx).getEvent(t.topics[0]):null;if(n)try{return new N2(t,h(this,Gx),n)}catch(s){return new FO(t,s)}return t})}};Gx=new WeakMap;wi.ContractTransactionReceipt=LO;var C2,WI=class extends DO.TransactionResponse{constructor(t,n,s){super(s,n);T(this,C2,void 0);w(this,C2,t)}async wait(t,n){let s=await super.wait(t,n);return s==null?null:new LO(h(this,C2),this.provider,s)}};C2=new WeakMap;wi.ContractTransactionResponse=WI;var UO=class extends T2.EventPayload{constructor(t,n,s,i){super(t,n,s);O(this,"log");(0,T2.defineProperties)(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};wi.ContractUnknownEventPayload=UO;var $I=class extends UO{constructor(e,t,n,s,i){super(e,t,n,new N2(i,e.interface,s));let o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);(0,T2.defineProperties)(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};wi.ContractEventPayload=$I});var sM=M(wu=>{y();b();Object.defineProperty(wu,"__esModule",{value:!0});wu.Contract=wu.BaseContract=wu.resolveArgs=wu.copyOverrides=void 0;var tM=Dx(),Kx=En(),cX=Hx(),Fe=ge(),mg=ZI(),oX=BigInt(0);function uX(r){return r&&typeof r.call=="function"}function fX(r){return r&&typeof r.estimateGas=="function"}function KO(r){return r&&typeof r.resolveName=="function"}function lX(r){return r&&typeof r.sendTransaction=="function"}function dX(r){if(r!=null){if(KO(r))return r;if(r.provider)return r.provider}}var I2,QI=class{constructor(e,t,n){T(this,I2,void 0);O(this,"fragment");if((0,Fe.defineProperties)(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");let s=yg(e.runner,"resolveName"),i=KO(s)?s:null;w(this,I2,async function(){let o=await Promise.all(t.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(g,p)=>g==="address"?Array.isArray(p)?Promise.all(p.map(A=>(0,Kx.resolveAddress)(A,i))):(0,Kx.resolveAddress)(p,i):p)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return h(this,I2)}};I2=new WeakMap;function yg(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function pg(r){return r==null?null:r.provider||null}async function rM(r,e){let t=tM.Typed.dereference(r,"overrides");(0,Fe.assertArgument)(typeof t=="object","invalid overrides parameter","overrides",r);let n=(0,cX.copyRequest)(t);return(0,Fe.assertArgument)(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),(0,Fe.assertArgument)(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}wu.copyOverrides=rM;async function hX(r,e,t){let n=yg(r,"resolveName"),s=KO(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=tM.Typed.dereference(c,a),a==="address"?(0,Kx.resolveAddress)(c,s):c))))}wu.resolveArgs=hX;function mxe(r){let e=async function(o){let a=await rM(o,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await(0,Kx.resolveAddress)(a.from,dX(r.runner)));let c=r.interface,f=(0,Fe.getBigInt)(a.value||oX,"overrides.value")===oX,g=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!g&&!f&&(0,Fe.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),(0,Fe.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data);let p=c.receive||c.fallback&&c.fallback.payable;return(0,Fe.assertArgument)(p||f,"cannot send value to non-payable fallback","overrides.value",a.value),(0,Fe.assertArgument)(c.fallback||g,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){let a=yg(r.runner,"call");(0,Fe.assert)(uX(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await a.call(c)}catch(f){throw(0,Fe.isCallException)(f)&&f.data?r.interface.makeError(f.data,c):f}},n=async function(o){let a=r.runner;(0,Fe.assert)(lX(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(o)),f=pg(r.runner);return new mg.ContractTransactionResponse(r.interface,f,c)},s=async function(o){let a=yg(r.runner,"estimateGas");return(0,Fe.assert)(fX(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return(0,Fe.defineProperties)(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function yxe(r,e){let t=function(...f){let g=r.interface.getFunction(e,f);return(0,Fe.assert)(g,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:f}}),g},n=async function(...f){let g=t(...f),p={};if(g.inputs.length+1===f.length&&(p=await rM(f.pop()),p.from&&(p.from=await(0,Kx.resolveAddress)(p.from,dX(r.runner)))),g.inputs.length!==f.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let A=await hX(r.runner,g.inputs,f);return Object.assign({},p,await(0,Fe.resolveProperties)({to:r.getAddress(),data:r.interface.encodeFunctionData(g,A)}))},s=async function(...f){let g=await a(...f);return g.length===1?g[0]:g},i=async function(...f){let g=r.runner;(0,Fe.assert)(lX(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let p=await g.sendTransaction(await n(...f)),A=pg(r.runner);return new mg.ContractTransactionResponse(r.interface,A,p)},o=async function(...f){let g=yg(r.runner,"estimateGas");return(0,Fe.assert)(fX(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await n(...f))},a=async function(...f){let g=yg(r.runner,"call");(0,Fe.assert)(uX(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let p=await n(...f),A="0x";try{A=await g.call(p)}catch(C){throw(0,Fe.isCallException)(C)&&C.data?r.interface.makeError(C.data,p):C}let P=t(...f);return r.interface.decodeFunctionResult(P,A)},c=async(...f)=>t(...f).constant?await s(...f):await i(...f);return(0,Fe.defineProperties)(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let f=r.interface.getFunction(e);return(0,Fe.assert)(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),f}}),c}function bxe(r,e){let t=function(...s){let i=r.interface.getEvent(e,s);return(0,Fe.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new QI(r,t(...s),s)};return(0,Fe.defineProperties)(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=r.interface.getEvent(e);return(0,Fe.assert)(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}var HO=Symbol.for("_ethersInternal_contract"),gX=new WeakMap;function xxe(r,e){gX.set(r[HO],e)}function Hi(r){return gX.get(r[HO])}function wxe(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function nM(r,e){let t,n=null;if(Array.isArray(e)){let i=function(o){if((0,Fe.isHexString)(o,32))return o;let a=r.interface.getEvent(o);return(0,Fe.assertArgument)(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?(0,Fe.isHexString)(e,32)?t=[e]:(n=r.interface.getEvent(e),(0,Fe.assertArgument)(n,"unknown fragment","event",e),t=[n.topicHash]):wxe(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):(0,Fe.assertArgument)(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){let o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});let s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function R2(r,e){let{subs:t}=Hi(r);return t.get((await nM(r,e)).tag)||null}async function aX(r,e,t){let n=pg(r.runner);(0,Fe.assert)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:i,topics:o}=await nM(r,t),{addr:a,subs:c}=Hi(r),f=c.get(i);if(!f){let p={address:a||r,topics:o},A=L=>{let F=s;if(F==null)try{F=r.interface.getEvent(L.topics[0])}catch{}if(F){let D=F,q=s?r.interface.decodeEventLog(s,L.data,L.topics):[];YI(r,t,q,K=>new mg.ContractEventPayload(r,K,t,D,L))}else YI(r,t,[],D=>new mg.ContractUnknownEventPayload(r,D,t,L))},P=[];f={tag:i,listeners:[],start:()=>{P.length||P.push(n.on(p,A))},stop:async()=>{if(P.length==0)return;let L=P;P=[],await Promise.all(L),n.off(p,A)}},c.set(i,f)}return f}var XI=Promise.resolve();async function _xe(r,e,t,n){await XI;let s=await R2(r,e);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{let c=Array.from(t);n&&c.push(n(a?null:o));try{o.call(r,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Hi(r).subs.delete(s.tag)),i>0}async function YI(r,e,t,n){try{await XI}catch{}let s=_xe(r,e,t,n);return XI=s,await s}var qO=["then"],Pxe,B2=class{constructor(e,t,n,s){O(this,"target");O(this,"interface");O(this,"runner");O(this,"filters");O(this,Pxe);O(this,"fallback");(0,Fe.assertArgument)(typeof e=="string"||(0,Kx.isAddressable)(e),"invalid value for Contract target","target",e),n==null&&(n=null);let i=tM.Interface.from(t);(0,Fe.defineProperties)(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,HO,{value:{}});let o,a=null,c=null;if(s){let p=pg(n);c=new mg.ContractTransactionResponse(this.interface,p,s)}let f=new Map;if(typeof e=="string")if((0,Fe.isHexString)(e))a=e,o=Promise.resolve(e);else{let p=yg(n,"resolveName");if(!KO(p))throw(0,Fe.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=p.resolveName(e).then(A=>{if(A==null)throw(0,Fe.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Hi(this).addr=A,A})}else o=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Hi(this).addr=p,p});xxe(this,{addrPromise:o,addr:a,deployTx:c,subs:f});let g=new Proxy({},{get:(p,A,P)=>{if(typeof A=="symbol"||qO.indexOf(A)>=0)return Reflect.get(p,A,P);try{return this.getEvent(A)}catch(C){if(!(0,Fe.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>qO.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return(0,Fe.defineProperties)(this,{filters:g}),(0,Fe.defineProperties)(this,{fallback:i.receive||i.fallback?mxe(this):null}),new Proxy(this,{get:(p,A,P)=>{if(typeof A=="symbol"||A in p||qO.indexOf(A)>=0)return Reflect.get(p,A,P);try{return p.getFunction(A)}catch(C){if(!(0,Fe.isError)(C,"INVALID_ARGUMENT")||C.argument!=="key")throw C}},has:(p,A)=>typeof A=="symbol"||A in p||qO.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new B2(this.target,this.interface,e)}attach(e){return new B2(e,this.interface,this.runner)}async getAddress(){return await Hi(this).addrPromise}async getDeployedCode(){let e=pg(this.runner);(0,Fe.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=pg(this.runner);return(0,Fe.assert)(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Hi(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),yxe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),bxe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");let{addr:s,addrPromise:i}=Hi(this),o=s||await i,{fragment:a,topics:c}=await nM(this,e),f={address:o,topics:c,fromBlock:t,toBlock:n},g=pg(this.runner);return(0,Fe.assert)(g,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await g.getLogs(f)).map(p=>{let A=a;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new mg.EventLog(p,this.interface,A)}catch(P){return new mg.UndecodedEventLog(p,P)}return new cX.Log(p,g)})}async on(e,t){let n=await aX(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){let n=await aX(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await YI(this,e,t,null)}async listenerCount(e){if(e){let s=await R2(this,e);return s?s.listeners.length:0}let{subs:t}=Hi(this),n=0;for(let{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){let s=await R2(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let{subs:t}=Hi(this),n=[];for(let{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){let n=await R2(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),Hi(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let t=await R2(this,e);if(!t)return this;t.stop(),Hi(this).subs.delete(t.tag)}else{let{subs:t}=Hi(this);for(let{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends B2{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}},GO=B2;Pxe=HO;wu.BaseContract=GO;function vxe(){return GO}var eM=class extends vxe(){};wu.Contract=eM});var pX=M(zO=>{y();b();Object.defineProperty(zO,"__esModule",{value:!0});zO.ContractFactory=void 0;var Axe=Dx(),Exe=En(),Cd=ge(),VO=sM(),M2=class{constructor(e,t,n){O(this,"interface");O(this,"bytecode");O(this,"runner");let s=Axe.Interface.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=(0,Cd.hexlify)((0,Cd.getBytes)(t)),(0,Cd.defineProperties)(this,{bytecode:t,interface:s,runner:n||null})}attach(e){return new VO.BaseContract(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await(0,VO.copyOverrides)(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await(0,VO.resolveArgs)(this.runner,n.inputs,e),i=(0,Cd.concat)([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:i})}async deploy(...e){let t=await this.getDeployTransaction(...e);(0,Cd.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(t),s=(0,Exe.getCreateAddress)(n);return new VO.BaseContract(s,this.interface,this.runner,n)}connect(e){return new M2(this.interface,this.bytecode,e)}static fromSolidity(e,t){(0,Cd.assertArgument)(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,t)}};zO.ContractFactory=M2});var j2=M(gn=>{y();b();Object.defineProperty(gn,"__esModule",{value:!0});gn.UndecodedEventLog=gn.EventLog=gn.ContractTransactionResponse=gn.ContractTransactionReceipt=gn.ContractUnknownEventPayload=gn.ContractEventPayload=gn.ContractFactory=gn.Contract=gn.BaseContract=void 0;var mX=sM();Object.defineProperty(gn,"BaseContract",{enumerable:!0,get:function(){return mX.BaseContract}});Object.defineProperty(gn,"Contract",{enumerable:!0,get:function(){return mX.Contract}});var Sxe=pX();Object.defineProperty(gn,"ContractFactory",{enumerable:!0,get:function(){return Sxe.ContractFactory}});var Vx=ZI();Object.defineProperty(gn,"ContractEventPayload",{enumerable:!0,get:function(){return Vx.ContractEventPayload}});Object.defineProperty(gn,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return Vx.ContractUnknownEventPayload}});Object.defineProperty(gn,"ContractTransactionReceipt",{enumerable:!0,get:function(){return Vx.ContractTransactionReceipt}});Object.defineProperty(gn,"ContractTransactionResponse",{enumerable:!0,get:function(){return Vx.ContractTransactionResponse}});Object.defineProperty(gn,"EventLog",{enumerable:!0,get:function(){return Vx.EventLog}});Object.defineProperty(gn,"UndecodedEventLog",{enumerable:!0,get:function(){return Vx.UndecodedEventLog}})});var uM=M(Id=>{y();b();Object.defineProperty(Id,"__esModule",{value:!0});Id.EnsResolver=Id.BasicMulticoinProviderPlugin=Id.MulticoinProviderPlugin=void 0;var kxe=En(),yX=ux(),iM=j2(),oM=pu(),Gs=ge();function aM(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):(0,Gs.assertArgument)(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}var L2=class{constructor(e){O(this,"name");(0,Gs.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};Id.MulticoinProviderPlugin=L2;var Oxe="org.ethers.plugins.provider.BasicMulticoin",cM=class extends L2{constructor(){super(Oxe)}};Id.BasicMulticoinProviderPlugin=cM;var xX=new RegExp("^(ipfs)://(.*)$","i"),bX=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),xX,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Rd,bg,Bd,zx,WO,wX,F2=class{constructor(e,t,n){T(this,Bd);O(this,"provider");O(this,"address");O(this,"name");T(this,Rd,void 0);T(this,bg,void 0);(0,Gs.defineProperties)(this,{provider:e,address:t,name:n}),w(this,Rd,null),w(this,bg,new iM.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return h(this,Rd)==null&&w(this,Rd,(async()=>{try{return await h(this,bg).supportsInterface("0x9061b923")}catch(e){if((0,Gs.isError)(e,"CALL_EXCEPTION"))return!1;throw w(this,Rd,null),e}})()),await h(this,Rd)}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await U(this,Bd,zx).call(this,"addr(bytes32)");return i==null||i===yX.ZeroAddress?null:i}catch(i){if((0,Gs.isError)(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,o=await U(this,Bd,zx).call(this,"addr(bytes32,uint)",[i]);if((0,Gs.isHexString)(o,20))return(0,kxe.getAddress)(o)}let t=null;for(let i of this.provider.plugins)if(i instanceof L2&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;let n=await U(this,Bd,zx).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let s=await t.decodeAddress(e,n);if(s!=null)return s;(0,Gs.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let t=await U(this,Bd,zx).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){let e=await U(this,Bd,zx).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${(0,Gs.encodeBase58)("0x"+t[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;(0,Gs.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<bX.length;n++){let s=t.match(bX[n]);if(s==null)continue;let i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let o=aM(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};let f=c[1],g=new iM.Contract(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let N=await g.ownerOf(f);if(a!==N)return e.push({type:"!owner",value:N}),{url:null,linkage:e};e.push({type:"owner",value:N})}else if(i==="erc1155"){let N=await g.balanceOf(a,f);if(!N)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:N.toString()})}let p=await g[o](f);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),i==="erc1155"&&(p=p.replace("{id}",(0,Gs.toBeHex)(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=aM(p)),e.push({type:"metadata-url",value:p});let A={},P=await new Gs.FetchRequest(p).send();P.assertOk();try{A=P.bodyJson}catch{try{e.push({type:"!metadata",value:P.bodyText})}catch{let F=P.body;return F&&e.push({type:"!metadata",value:(0,Gs.hexlify)(F)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let C=A.image;if(typeof C!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!C.match(/^(https:\/\/|data:)/i)){if(C.match(xX)==null)return e.push({type:"!imageUrl-ipfs",value:C}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:C}),C=aM(C)}return e.push({type:"url",value:C}),{linkage:e,url:C}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return(0,Gs.assert)(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){var s;let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;let i=await U(s=F2,WO,wX).call(s,e,n);if(i!=null){let o=new F2(e,i,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}},JO=F2;Rd=new WeakMap,bg=new WeakMap,Bd=new WeakSet,zx=async function(e,t){t=(t||[]).slice();let n=h(this,bg).interface;t.unshift((0,oM.namehash)(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),(0,Gs.assert)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(0,oM.dnsEncode)(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await h(this,bg)[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!(0,Gs.isError)(i,"CALL_EXCEPTION"))throw i}return null},WO=new WeakSet,wX=async function(e,t){let n=await F2.getEnsAddress(e);try{let i=await new iM.Contract(n,["function resolver(bytes32) view returns (address)"],e).resolver((0,oM.namehash)(t),{enableCcipRead:!0});return i===yX.ZeroAddress?null:i}catch(s){throw s}return null},T(JO,WO);Id.EnsResolver=JO});var SX=M(mr=>{y();b();Object.defineProperty(mr,"__esModule",{value:!0});mr.formatTransactionResponse=mr.formatTransactionReceipt=mr.formatReceiptLog=mr.formatBlock=mr.formatLog=mr.formatUint256=mr.formatHash=mr.formatData=mr.formatBoolean=mr.object=mr.arrayOf=mr.allowNull=void 0;var _u=En(),_X=Un(),Txe=mi(),Ie=ge(),vX=BigInt(0);function Lt(r,e){return function(t){return t==null?e:r(t)}}mr.allowNull=Lt;function U2(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))}}mr.arrayOf=U2;function Jx(r,e){return t=>{let n={};for(let s in r){let i=s;if(e&&s in e&&!(i in t)){for(let o of e[s])if(o in t){i=o;break}}try{let o=r[s](t[i]);o!==void 0&&(n[s]=o)}catch(o){let a=o instanceof Error?o.message:"not-an-error";(0,Ie.assert)(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return n}}mr.object=Jx;function PX(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}(0,Ie.assertArgument)(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}mr.formatBoolean=PX;function xg(r){return(0,Ie.assertArgument)((0,Ie.isHexString)(r,!0),"invalid data","value",r),r}mr.formatData=xg;function qn(r){return(0,Ie.assertArgument)((0,Ie.isHexString)(r,32),"invalid hash","value",r),r}mr.formatHash=qn;function Nxe(r){if(!(0,Ie.isHexString)(r))throw new Error("invalid uint256");return(0,Ie.zeroPadValue)(r,32)}mr.formatUint256=Nxe;var Cxe=Jx({address:_u.getAddress,blockHash:qn,blockNumber:Ie.getNumber,data:xg,index:Ie.getNumber,removed:Lt(PX,!1),topics:U2(qn),transactionHash:qn,transactionIndex:Ie.getNumber},{index:["logIndex"]});function Rxe(r){return Cxe(r)}mr.formatLog=Rxe;var Bxe=Jx({hash:Lt(qn),parentHash:qn,parentBeaconBlockRoot:Lt(qn,null),number:Ie.getNumber,timestamp:Ie.getNumber,nonce:Lt(xg),difficulty:Ie.getBigInt,gasLimit:Ie.getBigInt,gasUsed:Ie.getBigInt,stateRoot:Lt(qn,null),receiptsRoot:Lt(qn,null),blobGasUsed:Lt(Ie.getBigInt,null),excessBlobGas:Lt(Ie.getBigInt,null),miner:Lt(_u.getAddress),prevRandao:Lt(qn,null),extraData:xg,baseFeePerGas:Lt(Ie.getBigInt)},{prevRandao:["mixHash"]});function Ixe(r){let e=Bxe(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:EX(t)),e}mr.formatBlock=Ixe;var Mxe=Jx({transactionIndex:Ie.getNumber,blockNumber:Ie.getNumber,transactionHash:qn,address:_u.getAddress,topics:U2(qn),data:xg,index:Ie.getNumber,blockHash:qn},{index:["logIndex"]});function AX(r){return Mxe(r)}mr.formatReceiptLog=AX;var jxe=Jx({to:Lt(_u.getAddress,null),from:Lt(_u.getAddress,null),contractAddress:Lt(_u.getAddress,null),index:Ie.getNumber,root:Lt(Ie.hexlify),gasUsed:Ie.getBigInt,blobGasUsed:Lt(Ie.getBigInt,null),logsBloom:Lt(xg),blockHash:qn,hash:qn,logs:U2(AX),blockNumber:Ie.getNumber,cumulativeGasUsed:Ie.getBigInt,effectiveGasPrice:Lt(Ie.getBigInt),blobGasPrice:Lt(Ie.getBigInt,null),status:Lt(Ie.getNumber),type:Lt(Ie.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Fxe(r){return jxe(r)}mr.formatTransactionReceipt=Fxe;function EX(r){r.to&&(0,Ie.getBigInt)(r.to)===vX&&(r.to="0x0000000000000000000000000000000000000000");let e=Jx({hash:qn,index:Lt(Ie.getNumber,void 0),type:t=>t==="0x"||t==null?0:(0,Ie.getNumber)(t),accessList:Lt(Txe.accessListify,null),blobVersionedHashes:Lt(U2(qn,!0),null),blockHash:Lt(qn,null),blockNumber:Lt(Ie.getNumber,null),transactionIndex:Lt(Ie.getNumber,null),from:_u.getAddress,gasPrice:Lt(Ie.getBigInt),maxPriorityFeePerGas:Lt(Ie.getBigInt),maxFeePerGas:Lt(Ie.getBigInt),maxFeePerBlobGas:Lt(Ie.getBigInt,null),gasLimit:Ie.getBigInt,to:Lt(_u.getAddress,null),value:Ie.getBigInt,nonce:Ie.getNumber,data:xg,creates:Lt(_u.getAddress,null),chainId:Lt(Ie.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=(0,_u.getCreateAddress)(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=_X.Signature.from(r.signature):e.signature=_X.Signature.from(r),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&(0,Ie.getBigInt)(e.blockHash)===vX&&(e.blockHash=null),e}mr.formatTransactionResponse=EX});var $O=M(Jo=>{y();b();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.FetchUrlFeeDataNetworkPlugin=Jo.FeeDataNetworkPlugin=Jo.EnsPlugin=Jo.GasCostPlugin=Jo.NetworkPlugin=void 0;var dM=id(),Lxe=ge(),Uxe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Lf=class{constructor(e){O(this,"name");(0,dM.defineProperties)(this,{name:e})}clone(){return new Lf(this.name)}};Jo.NetworkPlugin=Lf;var D2=class extends Lf{constructor(t,n){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);O(this,"effectiveBlock");O(this,"txBase");O(this,"txCreate");O(this,"txDataZero");O(this,"txDataNonzero");O(this,"txAccessListStorageKey");O(this,"txAccessListAddress");let s={effectiveBlock:t};function i(o,a){let c=(n||{})[o];c==null&&(c=a),(0,Lxe.assertArgument)(typeof c=="number",`invalud value for ${o}`,"costs",n),s[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,dM.defineProperties)(this,s)}clone(){return new D2(this.effectiveBlock,this)}};Jo.GasCostPlugin=D2;var q2=class extends Lf{constructor(t,n){super("org.ethers.plugins.network.Ens");O(this,"address");O(this,"targetNetwork");(0,dM.defineProperties)(this,{address:t||Uxe,targetNetwork:n??1})}clone(){return new q2(this.address,this.targetNetwork)}};Jo.EnsPlugin=q2;var wg,hM=class extends Lf{constructor(t){super("org.ethers.plugins.network.FeeData");T(this,wg,void 0);w(this,wg,t)}get feeDataFunc(){return h(this,wg)}async getFeeData(t){return await h(this,wg).call(this,t)}clone(){return new hM(h(this,wg))}},fM=hM;wg=new WeakMap;Jo.FeeDataNetworkPlugin=fM;var H2,G2,lM=class extends Lf{constructor(t,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");T(this,H2,void 0);T(this,G2,void 0);w(this,H2,t),w(this,G2,n)}get url(){return h(this,H2)}get processFunc(){return h(this,G2)}clone(){return this}};H2=new WeakMap,G2=new WeakMap;Jo.FetchUrlFeeDataNetworkPlugin=lM});var _i=M(ZO=>{y();b();Object.defineProperty(ZO,"__esModule",{value:!0});ZO.Network=void 0;var Dxe=mi(),vu=ge(),K2=$O(),gM=new Map,$x,Zx,Md,Wx=class{constructor(e,t){T(this,$x,void 0);T(this,Zx,void 0);T(this,Md,void 0);w(this,$x,e),w(this,Zx,(0,vu.getBigInt)(t)),w(this,Md,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return h(this,$x)}set name(e){w(this,$x,e)}get chainId(){return h(this,Zx)}set chainId(e){w(this,Zx,(0,vu.getBigInt)(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===(0,vu.getBigInt)(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===(0,vu.getBigInt)(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===(0,vu.getBigInt)(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(h(this,Md).values())}attachPlugin(e){if(h(this,Md).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Md).set(e.name,e.clone()),this}getPlugin(e){return h(this,Md).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new Wx(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new K2.GasCostPlugin,n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){let s=(0,Dxe.accessListify)(e.accessList);for(let i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(qxe(),e==null)return Wx.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=gM.get(e);if(t)return t();if(typeof e=="bigint")return new Wx("unknown",e);(0,vu.assertArgument)(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){(0,vu.assertArgument)(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new Wx(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new K2.EnsPlugin(e.ensAddress,e.ensNetwork)),t}(0,vu.assertArgument)(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let n=gM.get(e);n&&(0,vu.assertArgument)(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),gM.set(e,t)}},_g=Wx;$x=new WeakMap,Zx=new WeakMap,Md=new WeakMap;ZO.Network=_g;function kX(r,e){let t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);let n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function OX(r){return new K2.FetchUrlFeeDataNetworkPlugin(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{let[i,o]=await Promise.all([n.send(),e()]);s=i;let a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:kX(a.maxFee,9),maxPriorityFeePerGas:kX(a.maxPriorityFee,9)}}catch(i){(0,vu.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}var TX=!1;function qxe(){if(TX)return;TX=!0;function r(e,t,n){let s=function(){let i=new _g(e,t);return n.ensNetwork!=null&&i.attachPlugin(new K2.EnsPlugin(null,n.ensNetwork)),i.attachPlugin(new K2.GasCostPlugin),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};_g.register(e,s),_g.register(t,s),n.altNames&&n.altNames.forEach(i=>{_g.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[OX("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[OX("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}});var t8=M(bs=>{y();b();Object.defineProperty(bs,"__esModule",{value:!0});bs.PollingEventSubscriber=bs.PollingTransactionSubscriber=bs.PollingOrphanSubscriber=bs.PollingBlockTagSubscriber=bs.OnBlockSubscriber=bs.PollingBlockSubscriber=bs.getPollingSubscriber=void 0;var NX=ge();function pM(r){return JSON.parse(JSON.stringify(r))}function Hxe(r,e){if(e==="block")return new XO(r);if((0,NX.isHexString)(e,32))return new YO(r,e);(0,NX.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:e}})}bs.getPollingSubscriber=Hxe;var Uf,Wo,jd,Pu,Qx,QO,XO=class{constructor(e){T(this,Qx);T(this,Uf,void 0);T(this,Wo,void 0);T(this,jd,void 0);T(this,Pu,void 0);w(this,Uf,e),w(this,Wo,null),w(this,jd,4e3),w(this,Pu,-2)}get pollingInterval(){return h(this,jd)}set pollingInterval(e){w(this,jd,e)}start(){h(this,Wo)||(w(this,Wo,h(this,Uf)._setTimeout(U(this,Qx,QO).bind(this),h(this,jd))),U(this,Qx,QO).call(this))}stop(){!h(this,Wo)||(h(this,Uf)._clearTimeout(h(this,Wo)),w(this,Wo,null))}pause(e){this.stop(),e&&w(this,Pu,-2)}resume(){this.start()}};Uf=new WeakMap,Wo=new WeakMap,jd=new WeakMap,Pu=new WeakMap,Qx=new WeakSet,QO=async function(){try{let e=await h(this,Uf).getBlockNumber();if(h(this,Pu)===-2){w(this,Pu,e);return}if(e!==h(this,Pu)){for(let t=h(this,Pu)+1;t<=e;t++){if(h(this,Wo)==null)return;await h(this,Uf).emit("block",t)}w(this,Pu,e)}}catch{}h(this,Wo)!=null&&w(this,Wo,h(this,Uf)._setTimeout(U(this,Qx,QO).bind(this),h(this,jd)))};bs.PollingBlockSubscriber=XO;var vg,Pg,Fd,r1=class{constructor(e){T(this,vg,void 0);T(this,Pg,void 0);T(this,Fd,void 0);w(this,vg,e),w(this,Fd,!1),w(this,Pg,t=>{this._poll(t,h(this,vg))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){h(this,Fd)||(w(this,Fd,!0),h(this,Pg).call(this,-2),h(this,vg).on("block",h(this,Pg)))}stop(){!h(this,Fd)||(w(this,Fd,!1),h(this,vg).off("block",h(this,Pg)))}pause(e){this.stop()}resume(){this.start()}};vg=new WeakMap,Pg=new WeakMap,Fd=new WeakMap;bs.OnBlockSubscriber=r1;var Xx,Df,mM=class extends r1{constructor(t,n){super(t);T(this,Xx,void 0);T(this,Df,void 0);w(this,Xx,n),w(this,Df,-2)}pause(t){t&&w(this,Df,-2),super.pause(t)}async _poll(t,n){let s=await n.getBlock(h(this,Xx));s!=null&&(h(this,Df)===-2?w(this,Df,s.number):s.number>h(this,Df)&&(n.emit(h(this,Xx),s.number),w(this,Df,s.number)))}};Xx=new WeakMap,Df=new WeakMap;bs.PollingBlockTagSubscriber=mM;var V2,yM=class extends r1{constructor(t,n){super(t);T(this,V2,void 0);w(this,V2,pM(n))}async _poll(t,n){throw new Error("@TODO")}};V2=new WeakMap;bs.PollingOrphanSubscriber=yM;var Yx,YO=class extends r1{constructor(t,n){super(t);T(this,Yx,void 0);w(this,Yx,n)}async _poll(t,n){let s=await n.getTransactionReceipt(h(this,Yx));s&&n.emit(h(this,Yx),s)}};Yx=new WeakMap;bs.PollingTransactionSubscriber=YO;var qf,e1,t1,Ld,$o,e8,CX,bM=class{constructor(e,t){T(this,e8);T(this,qf,void 0);T(this,e1,void 0);T(this,t1,void 0);T(this,Ld,void 0);T(this,$o,void 0);w(this,qf,e),w(this,e1,pM(t)),w(this,t1,U(this,e8,CX).bind(this)),w(this,Ld,!1),w(this,$o,-2)}start(){h(this,Ld)||(w(this,Ld,!0),h(this,$o)===-2&&h(this,qf).getBlockNumber().then(e=>{w(this,$o,e)}),h(this,qf).on("block",h(this,t1)))}stop(){!h(this,Ld)||(w(this,Ld,!1),h(this,qf).off("block",h(this,t1)))}pause(e){this.stop(),e&&w(this,$o,-2)}resume(){this.start()}};qf=new WeakMap,e1=new WeakMap,t1=new WeakMap,Ld=new WeakMap,$o=new WeakMap,e8=new WeakSet,CX=async function(e){if(h(this,$o)===-2)return;let t=pM(h(this,e1));t.fromBlock=h(this,$o)+1,t.toBlock=e;let n=await h(this,qf).getLogs(t);if(n.length===0){h(this,$o)<e-60&&w(this,$o,e-60);return}for(let s of n)h(this,qf).emit(h(this,e1),s),w(this,$o,s.blockNumber)};bs.PollingEventSubscriber=bM});var c1=M(a1=>{y();b();Object.defineProperty(a1,"__esModule",{value:!0});a1.AbstractProvider=a1.UnmanagedSubscriber=void 0;var J2=En(),Gxe=ux(),RX=j2(),Kxe=pu(),Vxe=mi(),oe=ge(),BX=uM(),r8=SX(),zxe=_i(),Ud=Hx(),z2=t8(),Jxe=BigInt(2),Wxe=10;function n8(r){return r&&typeof r.then=="function"}function s8(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}var o8=class{constructor(e){O(this,"name");(0,oe.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};a1.UnmanagedSubscriber=o8;function $xe(r){return JSON.parse(JSON.stringify(r))}function _M(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function xM(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if((0,oe.isHexString)(r,32)){let t=r.toLowerCase();return{type:"transaction",tag:s8("tx",{hash:t}),hash:t}}if(r.orphan){let t=r;return{type:"orphan",tag:s8("orphan",t),filter:$xe(t)}}if(r.address||r.topics){let t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?_M(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){let s=[],i=[],o=a=>{(0,oe.isHexString)(a)?s.push(a):i.push((async()=>{s.push(await(0,J2.resolveAddress)(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),n.address=_M(s.map(a=>a.toLowerCase()))}return{filter:n,tag:s8("event",n),type:"event"}}(0,oe.assertArgument)(!1,"unknown ProviderEvent","event",r)}function wM(){return new Date().getTime()}var Zxe={cacheTimeout:250,pollingInterval:4e3},xs,Dd,ws,n1,Ki,Ag,qd,Hf,Z2,Zo,s1,i1,Ks,Gi,Q2,PM,X2,AM,Eg,W2,Y2,EM,Sg,$2,o1,i8,vM=class{constructor(e,t){T(this,Ks);T(this,Q2);T(this,X2);T(this,Eg);T(this,Y2);T(this,Sg);T(this,o1);T(this,xs,void 0);T(this,Dd,void 0);T(this,ws,void 0);T(this,n1,void 0);T(this,Ki,void 0);T(this,Ag,void 0);T(this,qd,void 0);T(this,Hf,void 0);T(this,Z2,void 0);T(this,Zo,void 0);T(this,s1,void 0);T(this,i1,void 0);if(w(this,i1,Object.assign({},Zxe,t||{})),e==="any")w(this,Ag,!0),w(this,Ki,null);else if(e){let n=zxe.Network.from(e);w(this,Ag,!1),w(this,Ki,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else w(this,Ag,!1),w(this,Ki,null);w(this,Hf,-1),w(this,qd,new Map),w(this,xs,new Map),w(this,Dd,new Map),w(this,ws,null),w(this,n1,!1),w(this,Z2,1),w(this,Zo,new Map),w(this,s1,!1)}get pollingInterval(){return h(this,i1).pollingInterval}get provider(){return this}get plugins(){return Array.from(h(this,Dd).values())}attachPlugin(e){if(h(this,Dd).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return h(this,Dd).set(e.name,e.connect(this)),this}getPlugin(e){return h(this,Dd).get(e)||null}get disableCcipRead(){return h(this,s1)}set disableCcipRead(e){w(this,s1,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){let c=n[a],f=c.replace("{sender}",s).replace("{data}",i),g=new oe.FetchRequest(f);c.indexOf("{data}")===-1&&(g.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:g,index:a,urls:n});let p="unknown error",A;try{A=await g.send()}catch(P){o.push(P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:{error:P}});continue}try{let P=A.bodyJson;if(P.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:g,result:P}),P.data;P.message&&(p=P.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:g,result:P})}catch{}(0,oe.assert)(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:p}}),o.push(p)}(0,oe.assert)(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new Ud.Block((0,r8.formatBlock)(e),this)}_wrapLog(e,t){return new Ud.Log((0,r8.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new Ud.TransactionReceipt((0,r8.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new Ud.TransactionResponse((0,r8.formatTransactionResponse)(e),this)}_detectNetwork(){(0,oe.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,oe.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,oe.getNumber)(await U(this,Ks,Gi).call(this,{method:"getBlockNumber"}),"%response");return h(this,Hf)>=0&&w(this,Hf,e),e}_getAddress(e){return(0,J2.resolveAddress)(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if((0,oe.isHexString)(e))return(0,oe.isHexString)(e,32)?e:(0,oe.toQuantity)(e);if(typeof e=="bigint"&&(e=(0,oe.getNumber)(e,"blockTag")),typeof e=="number")return e>=0?(0,oe.toQuantity)(e):h(this,Hf)>=0?(0,oe.toQuantity)(h(this,Hf)+e):this.getBlockNumber().then(t=>(0,oe.toQuantity)(t+e));(0,oe.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?_M(c.map(f=>f.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,f,g)=>{let p;switch(c.length){case 0:break;case 1:p=c[0];break;default:c.sort(),p=c}if(n&&(f!=null||g!=null))throw new Error("invalid filter");let A={};return p&&(A.address=p),t.length&&(A.topics=t),f&&(A.fromBlock=f),g&&(A.toBlock=g),n&&(A.blockHash=n),A},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){let t=(0,Ud.copyRequest)(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;let i=(0,J2.resolveAddress)(t[s],this);n8(i)?n.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){let s=this._getBlockTag(t.blockTag);n8(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(h(this,Ki)==null){let s=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw h(this,Ki)===s&&w(this,Ki,null),i}})();return w(this,Ki,s),(await s).clone()}let e=h(this,Ki),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(h(this,Ag)?(this.emit("network",n,t),h(this,Ki)===e&&w(this,Ki,Promise.resolve(n))):(0,oe.assert)(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:s,gasPrice:i,priorityFee:o}=await(0,oe.resolveProperties)({_block:U(this,Y2,EM).call(this,"latest",!1),gasPrice:(async()=>{try{let g=await U(this,Ks,Gi).call(this,{method:"getGasPrice"});return(0,oe.getBigInt)(g,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let g=await U(this,Ks,Gi).call(this,{method:"getPriorityFee"});return(0,oe.getBigInt)(g,"%response")}catch{}return null})()}),a=null,c=null,f=this._wrapBlock(s,e);return f&&f.baseFeePerGas&&(c=o??BigInt("1000000000"),a=f.baseFeePerGas*Jxe+c),new Ud.FeeData(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let s=new oe.FetchRequest(n.url),i=await n.processFunc(t,this,s);return new Ud.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return n8(t)&&(t=await t),(0,oe.getBigInt)(await U(this,Ks,Gi).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){let{tx:t,blockTag:n}=await(0,oe.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await U(this,X2,AM).call(this,U(this,Q2,PM).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return(0,oe.getBigInt)(await U(this,Eg,W2).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,oe.getNumber)(await U(this,Eg,W2).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,oe.hexlify)(await U(this,Eg,W2).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){let s=(0,oe.getBigInt)(t,"position");return(0,oe.hexlify)(await U(this,Eg,W2).call(this,{method:"getStorage",position:s},e,n))}async broadcastTransaction(e){let{blockNumber:t,hash:n,network:s}=await(0,oe.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Vxe.Transaction.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){let{network:n,params:s}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:U(this,Y2,EM).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){let{network:t,params:n}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:U(this,Ks,Gi).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){let{network:t,params:n}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:U(this,Ks,Gi).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let s=await U(this,Ks,Gi).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){let{result:t}=await(0,oe.resolveProperties)({network:this.getNetwork(),result:U(this,Ks,Gi).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:(0,oe.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);n8(t)&&(t=await t);let{network:n,params:s}=await(0,oe.resolveProperties)({network:this.getNetwork(),params:U(this,Ks,Gi).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){(0,oe.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await BX.EnsResolver.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=(0,J2.getAddress)(e);let t=(0,Kxe.namehash)(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await BX.EnsResolver.getEnsAddress(this),i=await new RX.Contract(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===Gxe.ZeroAddress)return null;let a=await new RX.Contract(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if((0,oe.isError)(n,"BAD_DATA")&&n.value==="0x"||(0,oe.isError)(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){let s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null,c=async f=>{try{let g=await this.getTransactionReceipt(e);if(g!=null&&f-g.blockNumber+1>=s){i(g),a&&(clearTimeout(a),a=null);return}}catch(g){console.log("EEE",g)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o((0,oe.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){(0,oe.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=h(this,Zo).get(e);!t||(t.timer&&clearTimeout(t.timer),h(this,Zo).delete(e))}_setTimeout(e,t){t==null&&(t=0);let n=kn(this,Z2)._++,s=()=>{h(this,Zo).delete(n),e()};if(this.paused)h(this,Zo).set(n,{timer:null,func:s,time:t});else{let i=setTimeout(s,t);h(this,Zo).set(n,{timer:i,func:s,time:wM()})}return n}_forEachSubscriber(e){for(let t of h(this,xs).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new o8(e.type);case"block":{let t=new z2.PollingBlockSubscriber(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new z2.PollingBlockTagSubscriber(this,e.type);case"event":return new z2.PollingEventSubscriber(this,e.filter);case"transaction":return new z2.PollingTransactionSubscriber(this,e.hash);case"orphan":return new z2.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let n of h(this,xs).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),h(this,ws)!=null&&t.pause(h(this,ws));break}}async on(e,t){let n=await U(this,o1,i8).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,h(this,ws)!=null&&n.subscriber.pause(h(this,ws))),this}async once(e,t){let n=await U(this,o1,i8).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,h(this,ws)!=null&&n.subscriber.pause(h(this,ws))),this}async emit(e,...t){let n=await U(this,Sg,$2).call(this,e,t);if(!n||n.listeners.length===0)return!1;let s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{let a=new oe.EventPayload(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),h(this,xs).delete(n.tag)),s>0}async listenerCount(e){if(e){let n=await U(this,Sg,$2).call(this,e);return n?n.listeners.length:0}let t=0;for(let{listeners:n}of h(this,xs).values())t+=n.length;return t}async listeners(e){if(e){let n=await U(this,Sg,$2).call(this,e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(let{listeners:n}of h(this,xs).values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){let n=await U(this,Sg,$2).call(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),h(this,xs).delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:n,subscriber:s}=await U(this,o1,i8).call(this,e);n&&s.stop(),h(this,xs).delete(t)}else for(let[t,{started:n,subscriber:s}]of h(this,xs))n&&s.stop(),h(this,xs).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return h(this,n1)}destroy(){this.removeAllListeners();for(let e of h(this,Zo).keys())this._clearTimeout(e);w(this,n1,!0)}get paused(){return h(this,ws)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(w(this,Hf,-1),h(this,ws)!=null){if(h(this,ws)==!!e)return;(0,oe.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),w(this,ws,!!e);for(let t of h(this,Zo).values())t.timer&&clearTimeout(t.timer),t.time=wM()-t.time}resume(){if(h(this,ws)!=null){this._forEachSubscriber(e=>e.resume()),w(this,ws,null);for(let e of h(this,Zo).values()){let t=e.time;t<0&&(t=0),e.time=wM(),setTimeout(e.func,t)}}}};xs=new WeakMap,Dd=new WeakMap,ws=new WeakMap,n1=new WeakMap,Ki=new WeakMap,Ag=new WeakMap,qd=new WeakMap,Hf=new WeakMap,Z2=new WeakMap,Zo=new WeakMap,s1=new WeakMap,i1=new WeakMap,Ks=new WeakSet,Gi=async function(e){let t=h(this,i1).cacheTimeout;if(t<0)return await this._perform(e);let n=s8(e.method,e),s=h(this,qd).get(n);return s||(s=this._perform(e),h(this,qd).set(n,s),setTimeout(()=>{h(this,qd).get(n)===s&&h(this,qd).delete(n)},t)),await s},Q2=new WeakSet,PM=async function(e,t,n){(0,oe.assert)(n<Wxe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=(0,Ud.copyRequest)(e);try{return(0,oe.hexlify)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&(0,oe.isCallException)(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&(0,oe.dataSlice)(i.data,0,4)==="0x556f1830"){let o=i.data,a=await(0,J2.resolveAddress)(s.to,this),c;try{c=t1e((0,oe.dataSlice)(i.data,4))}catch(p){(0,oe.assert)(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}(0,oe.assert)(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let f=await this.ccipReadFetch(s,c.calldata,c.urls);(0,oe.assert)(f!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});let g={to:a,data:(0,oe.concat)([c.selector,e1e([f,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:g});try{let p=await U(this,Q2,PM).call(this,g,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},g),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},g),error:p}),p}}throw i}},X2=new WeakSet,AM=async function(e){let{value:t}=await(0,oe.resolveProperties)({network:this.getNetwork(),value:e});return t},Eg=new WeakSet,W2=async function(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await U(this,X2,AM).call(this,U(this,Ks,Gi).call(this,Object.assign(e,{address:s,blockTag:i})))},Y2=new WeakSet,EM=async function(e,t){if((0,oe.isHexString)(e,32))return await U(this,Ks,Gi).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await U(this,Ks,Gi).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},Sg=new WeakSet,$2=async function(e,t){let n=await xM(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await xM({orphan:"drop-log",log:t[0]},this)),h(this,xs).get(n.tag)||null},o1=new WeakSet,i8=async function(e){let t=await xM(e,this),n=t.tag,s=h(this,xs).get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},h(this,xs).set(n,s)),s};a1.AbstractProvider=vM;function Qxe(r,e){try{let t=SM(r,e);if(t)return(0,oe.toUtf8String)(t)}catch{}return null}function SM(r,e){if(r==="0x")return null;try{let t=(0,oe.getNumber)((0,oe.dataSlice)(r,e,e+32)),n=(0,oe.getNumber)((0,oe.dataSlice)(r,t,t+32));return(0,oe.dataSlice)(r,t+32,t+32+n)}catch{}return null}function IX(r){let e=(0,oe.toBeArray)(r);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function Xxe(r){if(r.length%32===0)return r;let e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}var Yxe=new Uint8Array([]);function e1e(r){let e=[],t=0;for(let n=0;n<r.length;n++)e.push(Yxe),t+=32;for(let n=0;n<r.length;n++){let s=(0,oe.getBytes)(r[n]);e[n]=IX(t),e.push(IX(s.length)),e.push(Xxe(s)),t+=32+Math.ceil(s.length/32)*32}return(0,oe.concat)(e)}var MX="0x0000000000000000000000000000000000000000000000000000000000000000";function t1e(r){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,oe.assert)((0,oe.dataLength)(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=(0,oe.dataSlice)(r,0,32);(0,oe.assert)((0,oe.dataSlice)(t,0,12)===(0,oe.dataSlice)(MX,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=(0,oe.dataSlice)(t,12);try{let n=[],s=(0,oe.getNumber)((0,oe.dataSlice)(r,32,64)),i=(0,oe.getNumber)((0,oe.dataSlice)(r,s,s+32)),o=(0,oe.dataSlice)(r,s+32);for(let a=0;a<i;a++){let c=Qxe(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{(0,oe.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=SM(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{(0,oe.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,oe.assert)((0,oe.dataSlice)(r,100,128)===(0,oe.dataSlice)(MX,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=(0,oe.dataSlice)(r,96,100);try{let n=SM(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{(0,oe.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}});var u8=M(l1=>{y();b();Object.defineProperty(l1,"__esModule",{value:!0});l1.VoidSigner=l1.AbstractSigner=void 0;var jX=En(),r1e=mi(),vi=ge(),n1e=Hx();function u1(r,e){if(r.provider)return r.provider;(0,vi.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function FX(r,e){let t=(0,n1e.copyRequest)(e);if(t.to!=null&&(t.to=(0,jX.resolveAddress)(t.to,r)),t.from!=null){let n=t.from;t.from=Promise.all([r.getAddress(),(0,jX.resolveAddress)(n,r)]).then(([s,i])=>((0,vi.assertArgument)(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await(0,vi.resolveProperties)(t)}var c8=class{constructor(e){O(this,"provider");(0,vi.defineProperties)(this,{provider:e||null})}async getNonce(e){return u1(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await FX(this,e)}async populateTransaction(e){let t=u1(this,"populateTransaction"),n=await FX(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let s=await this.provider.getNetwork();if(n.chainId!=null){let o=(0,vi.getBigInt)(n.chainId);(0,vi.assertArgument)(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;let i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?(0,vi.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&(0,vi.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let o=await t.getFeeData();(0,vi.assert)(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{let o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?((0,vi.assert)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):(0,vi.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await(0,vi.resolveProperties)(n)}async estimateGas(e){return u1(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return u1(this,"call").call(await this.populateCall(e))}async resolveName(e){return await u1(this,"resolveName").resolveName(e)}async sendTransaction(e){let t=u1(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let s=r1e.Transaction.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}};l1.AbstractSigner=c8;var f1,a8,OM=class extends c8{constructor(t,n){super(n);T(this,f1);O(this,"address");(0,vi.defineProperties)(this,{address:t})}async getAddress(){return this.address}connect(t){return new OM(this.address,t)}async signTransaction(t){U(this,f1,a8).call(this,"transactions","signTransaction")}async signMessage(t){U(this,f1,a8).call(this,"messages","signMessage")}async signTypedData(t,n,s){U(this,f1,a8).call(this,"typed-data","signTypedData")}},kM=OM;f1=new WeakSet,a8=function(t,n){(0,vi.assert)(!1,`VoidSigner cannot sign ${t}`,"UNSUPPORTED_OPERATION",{operation:n})};l1.VoidSigner=kM});var Gf=M(f8=>{y();b();Object.defineProperty(f8,"__esModule",{value:!0});f8.showThrottleMessage=void 0;var LX=new Set;function s1e(r){LX.has(r)||(LX.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}f8.showThrottleMessage=s1e});var UX=M(Gd=>{y();b();Object.defineProperty(Gd,"__esModule",{value:!0});Gd.FilterIdPendingSubscriber=Gd.FilterIdEventSubscriber=Gd.FilterIdSubscriber=void 0;var i1e=ge(),o1e=t8();function a1e(r){return JSON.parse(JSON.stringify(r))}var Vs,Au,kg,Hd,Og,d1,tP,TM,rP,NM,eP=class{constructor(e){T(this,tP);T(this,rP);T(this,Vs,void 0);T(this,Au,void 0);T(this,kg,void 0);T(this,Hd,void 0);T(this,Og,void 0);T(this,d1,void 0);w(this,Vs,e),w(this,Au,null),w(this,kg,U(this,tP,TM).bind(this)),w(this,Hd,!1),w(this,Og,null),w(this,d1,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){h(this,Hd)||(w(this,Hd,!0),U(this,tP,TM).call(this,-2))}stop(){!h(this,Hd)||(w(this,Hd,!1),w(this,d1,!0),U(this,rP,NM).call(this),h(this,Vs).off("block",h(this,kg)))}pause(e){e&&U(this,rP,NM).call(this),h(this,Vs).off("block",h(this,kg))}resume(){this.start()}};Vs=new WeakMap,Au=new WeakMap,kg=new WeakMap,Hd=new WeakMap,Og=new WeakMap,d1=new WeakMap,tP=new WeakSet,TM=async function(e){try{h(this,Au)==null&&w(this,Au,this._subscribe(h(this,Vs)));let t=null;try{t=await h(this,Au)}catch(i){if(!(0,i1e.isError)(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){w(this,Au,null),h(this,Vs)._recoverSubscriber(this,this._recover(h(this,Vs)));return}let n=await h(this,Vs).getNetwork();if(h(this,Og)||w(this,Og,n),h(this,Og).chainId!==n.chainId)throw new Error("chaid changed");if(h(this,d1))return;let s=await h(this,Vs).send("eth_getFilterChanges",[t]);await this._emitResults(h(this,Vs),s)}catch(t){console.log("@TODO",t)}h(this,Vs).once("block",h(this,kg))},rP=new WeakSet,NM=function(){let e=h(this,Au);e&&(w(this,Au,null),e.then(t=>{h(this,Vs).destroyed||h(this,Vs).send("eth_uninstallFilter",[t])}))};Gd.FilterIdSubscriber=eP;var Tg,CM=class extends eP{constructor(t,n){super(t);T(this,Tg,void 0);w(this,Tg,a1e(n))}_recover(t){return new o1e.PollingEventSubscriber(t,h(this,Tg))}async _subscribe(t){return await t.send("eth_newFilter",[h(this,Tg)])}async _emitResults(t,n){for(let s of n)t.emit(h(this,Tg),t._wrapLog(s,t._network))}};Tg=new WeakMap;Gd.FilterIdEventSubscriber=CM;var RM=class extends eP{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let n of t)e.emit("pending",n)}};Gd.FilterIdPendingSubscriber=RM});var Xo=M(Su=>{y();b();Object.defineProperty(Su,"__esModule",{value:!0});Su.JsonRpcProvider=Su.JsonRpcApiPollingProvider=Su.JsonRpcApiProvider=Su.JsonRpcSigner=void 0;var c1e=Dx(),Ng=En(),DX=pu(),u1e=mi(),kt=ge(),qX=c1(),f1e=u8(),BM=_i(),HX=UX(),l1e=t8(),d1e="bigint,boolean,function,number,string,symbol".split(/,/g);function l8(r){if(r==null||d1e.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(l8);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function h1e(r){return new Promise(e=>{setTimeout(e,r)})}function h1(r){return r&&r.toLowerCase()}function GX(r){return r&&typeof r.pollingInterval=="number"}var KX={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},g1=class extends f1e.AbstractSigner{constructor(t,n){super(t);O(this,"address");n=(0,Ng.getAddress)(n),(0,kt.defineProperties)(this,{address:n})}connect(t){(0,kt.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){let n=l8(t),s=[];if(n.from){let o=n.from;s.push((async()=>{let a=await(0,Ng.resolveAddress)(o,this.provider);(0,kt.assertArgument)(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&s.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){let o=n.to;s.push((async()=>{n.to=await(0,Ng.resolveAddress)(o,this.provider)})())}s.length&&await Promise.all(s);let i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){let n=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,o)=>{let a=[1e3,100],c=0,f=async()=>{try{let g=await this.provider.getTransaction(s);if(g!=null){i(g.replaceableTransaction(n));return}}catch(g){if((0,kt.isError)(g,"CANCELLED")||(0,kt.isError)(g,"BAD_DATA")||(0,kt.isError)(g,"NETWORK_ERROR")||(0,kt.isError)(g,"UNSUPPORTED_OPERATION")){g.info==null&&(g.info={}),g.info.sendTransactionHash=s,o(g);return}if((0,kt.isError)(g,"INVALID_ARGUMENT")&&(c++,g.info==null&&(g.info={}),g.info.sendTransactionHash=s,c>10)){o(g);return}this.provider.emit("error",(0,kt.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:g}))}this.provider._setTimeout(()=>{f()},a.pop()||4e3)};f()})}async signTransaction(t){let n=l8(t);if(n.from){let i=await(0,Ng.resolveAddress)(n.from,this.provider);(0,kt.assertArgument)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),n.from=i}else n.from=this.address;let s=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){let n=typeof t=="string"?(0,kt.toUtf8Bytes)(t):t;return await this.provider.send("personal_sign",[(0,kt.hexlify)(n),this.address.toLowerCase()])}async signTypedData(t,n,s){let i=l8(s),o=await DX.TypedDataEncoder.resolveNames(t,n,i,async a=>{let c=await(0,Ng.resolveAddress)(a);return(0,kt.assertArgument)(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(DX.TypedDataEncoder.getPayload(o.domain,n,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){let n=typeof t=="string"?(0,kt.toUtf8Bytes)(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,kt.hexlify)(n)])}};Su.JsonRpcSigner=g1;var Cg,p1,Kf,Eu,yc,Qo,Pi,nP,IM,d8=class extends qX.AbstractProvider{constructor(t,n){super(t,n);T(this,nP);T(this,Cg,void 0);T(this,p1,void 0);T(this,Kf,void 0);T(this,Eu,void 0);T(this,yc,void 0);T(this,Qo,void 0);T(this,Pi,void 0);w(this,p1,1),w(this,Cg,Object.assign({},KX,n||{})),w(this,Kf,[]),w(this,Eu,null),w(this,Qo,null),w(this,Pi,null);{let i=null,o=new Promise(a=>{i=a});w(this,yc,{promise:o,resolve:i})}let s=this._getOption("staticNetwork");typeof s=="boolean"?((0,kt.assertArgument)(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",n),s&&t!=null&&w(this,Qo,BM.Network.from(t))):s&&((0,kt.assertArgument)(t==null||s.matches(t),"staticNetwork MUST match network object","options",n),w(this,Qo,s))}_getOption(t){return h(this,Cg)[t]}get _network(){return(0,kt.assert)(h(this,Qo),"network is not available yet","NETWORK_ERROR"),h(this,Qo)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&(0,kt.getBigInt)(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){let i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}let n=this.getRpcRequest(t);return n!=null?await this.send(n.method,n.args):super._perform(t)}async _detectNetwork(){let t=this._getOption("staticNetwork");if(t)if(t===!0){if(h(this,Qo))return h(this,Qo)}else return t;return h(this,Pi)?await h(this,Pi):this.ready?(w(this,Pi,(async()=>{try{let n=BM.Network.from((0,kt.getBigInt)(await this.send("eth_chainId",[])));return w(this,Pi,null),n}catch(n){throw w(this,Pi,null),n}})()),await h(this,Pi)):(w(this,Pi,(async()=>{let n={id:kn(this,p1)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let s;try{s=(await this._send(n))[0],w(this,Pi,null)}catch(i){throw w(this,Pi,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return BM.Network.from((0,kt.getBigInt)(s.result));throw this.getRpcError(n,s)})()),await h(this,Pi))}_start(){h(this,yc)==null||h(this,yc).resolve==null||(h(this,yc).resolve(),w(this,yc,null),(async()=>{for(;h(this,Qo)==null&&!this.destroyed;)try{w(this,Qo,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,kt.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await h1e(1e3)}U(this,nP,IM).call(this)})())}async _waitUntilReady(){if(h(this,yc)!=null)return await h(this,yc).promise}_getSubscriber(t){return t.type==="pending"?new HX.FilterIdPendingSubscriber(this):t.type==="event"?this._getOption("polling")?new l1e.PollingEventSubscriber(this,t.filter):new HX.FilterIdEventSubscriber(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new qX.UnmanagedSubscriber("orphan"):super._getSubscriber(t)}get ready(){return h(this,yc)==null}getRpcTransaction(t){let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),n[i]=(0,kt.toQuantity)((0,kt.getBigInt)(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(n[s]=(0,kt.hexlify)(t[s]))}),t.accessList&&(n.accessList=(0,u1e.accessListify)(t.accessList)),t.blobVersionedHashes&&(n.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),n}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[h1(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[h1(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[h1(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[h1(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(h1):t.filter.address=h1(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,n){let{method:s}=t,{error:i}=n;if(s==="eth_estimateGas"&&i.message){let c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return(0,kt.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){let c=jM(i),f=c1e.AbiCoder.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],c?c.data:null);return f.info={error:i,payload:t},f}let o=JSON.stringify(g1e(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i)){let c={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,kt.makeError)("user rejected action","ACTION_REJECTED",{action:c[s]||"unknown",reason:"rejected",info:{payload:t,error:i}})}if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){let c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return(0,kt.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return(0,kt.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return(0,kt.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return(0,kt.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?(0,kt.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):(0,kt.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,n){if(this.destroyed)return Promise.reject((0,kt.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));let s=kn(this,p1)._++,i=new Promise((o,a)=>{h(this,Kf).push({resolve:o,reject:a,payload:{method:t,params:n,id:s,jsonrpc:"2.0"}})});return U(this,nP,IM).call(this),i}async getSigner(t){t==null&&(t=0);let n=this.send("eth_accounts",[]);if(typeof t=="number"){let i=await n;if(t>=i.length)throw new Error("no such account");return new g1(this,i[t])}let{accounts:s}=await(0,kt.resolveProperties)({network:this.getNetwork(),accounts:n});t=(0,Ng.getAddress)(t);for(let i of s)if((0,Ng.getAddress)(i)===t)return new g1(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new g1(this,n))}destroy(){h(this,Eu)&&(clearTimeout(h(this,Eu)),w(this,Eu,null));for(let{payload:t,reject:n}of h(this,Kf))n((0,kt.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));w(this,Kf,[]),super.destroy()}};Cg=new WeakMap,p1=new WeakMap,Kf=new WeakMap,Eu=new WeakMap,yc=new WeakMap,Qo=new WeakMap,Pi=new WeakMap,nP=new WeakSet,IM=function(){if(h(this,Eu))return;let t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");w(this,Eu,setTimeout(()=>{w(this,Eu,null);let n=h(this,Kf);for(w(this,Kf,[]);n.length;){let s=[n.shift()];for(;n.length&&s.length!==h(this,Cg).batchMaxCount;)if(s.push(n.shift()),JSON.stringify(s.map(o=>o.payload)).length>h(this,Cg).batchMaxSize){n.unshift(s.pop());break}(async()=>{let i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{let o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:a,reject:c,payload:f}of s){if(this.destroyed){c((0,kt.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:f.method}));continue}let g=o.filter(p=>p.id===f.id)[0];if(g==null){let p=(0,kt.makeError)("missing response for request","BAD_DATA",{value:o,info:{payload:f}});this.emit("error",p),c(p);continue}if("error"in g){c(this.getRpcError(f,g));continue}a(g.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:a}of s)a(o)}})()}},t))};Su.JsonRpcApiProvider=d8;var Kd,h8=class extends d8{constructor(t,n){super(t,n);T(this,Kd,void 0);let s=this._getOption("pollingInterval");s==null&&(s=KX.pollingInterval),w(this,Kd,s)}_getSubscriber(t){let n=super._getSubscriber(t);return GX(n)&&(n.pollingInterval=h(this,Kd)),n}get pollingInterval(){return h(this,Kd)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");w(this,Kd,t),this._forEachSubscriber(n=>{GX(n)&&(n.pollingInterval=h(this,Kd))})}};Kd=new WeakMap;Su.JsonRpcApiPollingProvider=h8;var m1,MM=class extends h8{constructor(t,n,s){t==null&&(t="http://localhost:8545");super(n,s);T(this,m1,void 0);typeof t=="string"?w(this,m1,new kt.FetchRequest(t)):w(this,m1,t.clone())}_getConnection(){return h(this,m1).clone()}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){let n=this._getConnection();n.body=JSON.stringify(t),n.setHeader("content-type","application/json");let s=await n.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}};m1=new WeakMap;Su.JsonRpcProvider=MM;function jM(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&(0,kt.isHexString)(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(let e in r){let t=jM(r[e]);if(t)return t}return null}if(typeof r=="string")try{return jM(JSON.parse(r))}catch{}return null}function FM(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(let t in r)FM(r[t],e);if(typeof r=="string")try{return FM(JSON.parse(r),e)}catch{}}}function g1e(r){let e=[];return FM(r,e),e}});var UM=M(p8=>{y();b();Object.defineProperty(p8,"__esModule",{value:!0});p8.AnkrProvider=void 0;var LM=ge(),p1e=Gf(),m1e=_i(),y1e=Xo(),g8="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function b1e(r){switch(r){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,LM.assertArgument)(!1,"unsupported network","network",r)}var y1=class extends y1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=m1e.Network.from(t);n==null&&(n=g8);let i={polling:!0,staticNetwork:s},o=y1.getRequest(s,n);super(o,s,i);O(this,"apiKey");(0,LM.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new y1(t,this.apiKey)}catch{}return super._getProvider(t)}static getRequest(t,n){n==null&&(n=g8);let s=new LM.FetchRequest(`https://${b1e(t.name)}/${n}`);return s.allowGzip=!0,n===g8&&(s.retryFunc=async(i,o,a)=>((0,p1e.showThrottleMessage)("AnkrProvider"),!0)),s}getRpcError(t,n){return t.method==="eth_sendRawTransaction"&&n&&n.error&&n.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(n.error.message="replacement transaction underpriced"),super.getRpcError(t,n)}isCommunityResource(){return this.apiKey===g8}};p8.AnkrProvider=y1});var DM=M(y8=>{y();b();Object.defineProperty(y8,"__esModule",{value:!0});y8.AlchemyProvider=void 0;var b1=ge(),x1e=Gf(),w1e=_i(),_1e=Xo(),m8="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function v1e(r){switch(r){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,b1.assertArgument)(!1,"unsupported network","network",r)}var x1=class extends _1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=w1e.Network.from(t);n==null&&(n=m8);let i=x1.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,b1.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new x1(t,this.apiKey)}catch{}return super._getProvider(t)}async _perform(t){if(t.method==="getTransactionResult"){let{trace:n,tx:s}=await(0,b1.resolveProperties)({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(n==null||s==null)return null;let i,o=!1;try{i=n[0].result.output,o=n[0].error==="Reverted"}catch{}if(i)return(0,b1.assert)(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:i,reason:null,transaction:s,invocation:null,revert:null}),i;(0,b1.assert)(!1,"could not parse trace result","BAD_DATA",{value:n})}return await super._perform(t)}isCommunityResource(){return this.apiKey===m8}static getRequest(t,n){n==null&&(n=m8);let s=new b1.FetchRequest(`https://${v1e(t.name)}/v2/${n}`);return s.allowGzip=!0,n===m8&&(s.retryFunc=async(i,o,a)=>((0,x1e.showThrottleMessage)("alchemy"),!0)),s}};y8.AlchemyProvider=x1});var qM=M(w8=>{y();b();Object.defineProperty(w8,"__esModule",{value:!0});w8.ChainstackProvider=void 0;var x8=ge(),P1e=Gf(),A1e=_i(),E1e=Xo();function b8(r){switch(r){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,x8.assertArgument)(!1,"unsupported network","network",r)}function S1e(r){switch(r){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,x8.assertArgument)(!1,"unsupported network","network",r)}var w1=class extends E1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=A1e.Network.from(t);n==null&&(n=b8(s.name));let i=w1.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"apiKey");(0,x8.defineProperties)(this,{apiKey:n})}_getProvider(t){try{return new w1(t,this.apiKey)}catch{}return super._getProvider(t)}isCommunityResource(){return this.apiKey===b8(this._network.name)}static getRequest(t,n){n==null&&(n=b8(t.name));let s=new x8.FetchRequest(`https://${S1e(t.name)}/${n}`);return s.allowGzip=!0,n===b8(t.name)&&(s.retryFunc=async(i,o,a)=>((0,P1e.showThrottleMessage)("ChainstackProvider"),!0)),s}};w8.ChainstackProvider=w1});var GM=M(_8=>{y();b();Object.defineProperty(_8,"__esModule",{value:!0});_8.CloudflareProvider=void 0;var k1e=ge(),O1e=_i(),T1e=Xo(),HM=class extends T1e.JsonRpcProvider{constructor(e){e==null&&(e="mainnet");let t=O1e.Network.from(e);(0,k1e.assertArgument)(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};_8.CloudflareProvider=HM});var VM=M(v1=>{y();b();Object.defineProperty(v1,"__esModule",{value:!0});v1.EtherscanProvider=v1.EtherscanPlugin=void 0;var N1e=Dx(),C1e=j2(),VX=mi(),pn=ge(),R1e=c1(),B1e=_i(),I1e=$O(),M1e=Gf(),zX=2e3;function j1e(r){return r&&typeof r.then=="function"}var JX="org.ethers.plugins.provider.Etherscan",sP=class extends I1e.NetworkPlugin{constructor(t){super(JX);O(this,"baseUrl");(0,pn.defineProperties)(this,{baseUrl:t})}clone(){return new sP(this.baseUrl)}};v1.EtherscanPlugin=sP;var F1e=["enableCcipRead"],L1e=1,_1,KM=class extends R1e.AbstractProvider{constructor(t,n){let s=n??null;super();O(this,"network");O(this,"apiKey");T(this,_1,void 0);let i=B1e.Network.from(t);w(this,_1,i.getPlugin(JX)),(0,pn.defineProperties)(this,{apiKey:s,network:i}),this.getBaseUrl()}getBaseUrl(){if(h(this,_1))return h(this,_1).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}(0,pn.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(t,n){let s=Object.keys(n).reduce((o,a)=>{let c=n[a];return c!=null&&(o+=`&${a}=${c}`),o},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${t}${s}${i}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(t,n){return n.module=t,n.apikey=this.apiKey,n}async detectNetwork(){return this.network}async fetch(t,n,s){let i=L1e++,o=s?this.getPostUrl():this.getUrl(t,n),a=s?this.getPostData(t,n):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:a});let c=new pn.FetchRequest(o);c.setThrottleParams({slotInterval:1e3}),c.retryFunc=(p,A,P)=>(this.isCommunityResource()&&(0,M1e.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),c.processFunc=async(p,A)=>{let P=A.hasBody()?JSON.parse((0,pn.toUtf8String)(A.body)):{},C=(typeof P.result=="string"?P.result:"").toLowerCase().indexOf("rate limit")>=0;return t==="proxy"?P&&P.status==0&&P.message=="NOTOK"&&C&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:P}),A.throwThrottleError(P.result,zX)):C&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:P.result}),A.throwThrottleError(P.result,zX)),A},a&&(c.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),c.body=Object.keys(a).map(p=>`${p}=${a[p]}`).join("&"));let f=await c.send();try{f.assertOk()}catch(p){this.emit("debug",{action:"receiveError",id:i,error:p,reason:"assertOk"}),(0,pn.assert)(!1,"response error","SERVER_ERROR",{request:c,response:f})}f.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),(0,pn.assert)(!1,"missing response","SERVER_ERROR",{request:c,response:f}));let g=JSON.parse((0,pn.toUtf8String)(f.body));return t==="proxy"?(g.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"invalid JSON-RPC"}),(0,pn.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:c,response:f,info:{result:g}})),g.error&&(this.emit("debug",{action:"receiveError",id:i,result:g,reason:"JSON-RPC error"}),(0,pn.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):g.status==0&&(g.message==="No records found"||g.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result):((g.status!=1||typeof g.message=="string"&&!g.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:i,result:g}),(0,pn.assert)(!1,"error response","SERVER_ERROR",{request:c,response:f,info:{result:g}})),this.emit("debug",{action:"receiveRequest",id:i,result:g}),g.result)}_getTransactionPostData(t){let n={};for(let s in t){if(F1e.indexOf(s)>=0||t[s]==null)continue;let i=t[s];if(!(s==="type"&&i===0)&&!(s==="blockTag"&&i==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[s])i=(0,pn.toQuantity)(i);else if(s==="accessList")i="["+(0,VX.accessListify)(i).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(s==="blobVersionedHashes"){if(i.length===0)continue;(0,pn.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:t}})}else i=(0,pn.hexlify)(i);n[s]=i}}return n}_checkError(t,n,s){let i="";if((0,pn.isError)(n,"SERVER_ERROR")){try{i=n.info.result.error.message}catch{}if(!i)try{i=n.info.message}catch{}}if(t.method==="estimateGas"&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,pn.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.transaction}),(t.method==="call"||t.method==="estimateGas")&&i.match(/execution reverted/i)){let o="";try{o=n.info.result.error.data}catch{}let a=N1e.AbiCoder.getBuiltinCallException(t.method,t.transaction,o);throw a.info={request:t,error:n},a}if(i&&t.method==="broadcastTransaction"){let o=VX.Transaction.from(t.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,pn.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),i.match(/insufficient funds/)&&(0,pn.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,pn.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw n}async _detectNetwork(){return this.network}async _perform(t){switch(t.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(n=>this._checkError(t,n,t.signedTransaction));case"getBlock":if("blockTag"in t)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});(0,pn.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.hash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_call";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}case"estimateGas":{let n=this._getTransactionPostData(t.transaction);n.module="proxy",n.action="eth_estimateGas";try{return await this.fetch("proxy",n,!0)}catch(s){return this._checkError(t,s,t.transaction)}}default:break}return super._perform(t)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(t){let n=this._getAddress(t);j1e(n)&&(n=await n);try{let s=await this.fetch("contract",{action:"getabi",address:n}),i=JSON.parse(s);return new C1e.Contract(n,i,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};_1=new WeakMap;v1.EtherscanProvider=KM});var WX=M(v8=>{y();b();Object.defineProperty(v8,"__esModule",{value:!0});v8.WebSocket=void 0;function U1e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}var D1e=U1e().WebSocket;v8.WebSocket=D1e});var S8=M(Yo=>{y();b();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.SocketProvider=Yo.SocketEventSubscriber=Yo.SocketPendingSubscriber=Yo.SocketBlockSubscriber=Yo.SocketSubscriber=void 0;var $X=c1(),iP=ge(),q1e=Xo(),ku,oP,Vd,Rg,zd,A1=class{constructor(e,t){T(this,ku,void 0);T(this,oP,void 0);T(this,Vd,void 0);T(this,Rg,void 0);T(this,zd,void 0);w(this,ku,e),w(this,oP,JSON.stringify(t)),w(this,Vd,null),w(this,Rg,null),w(this,zd,null)}get filter(){return JSON.parse(h(this,oP))}start(){w(this,Vd,h(this,ku).send("eth_subscribe",this.filter).then(e=>(h(this,ku)._register(e,this),e)))}stop(){h(this,Vd).then(e=>{h(this,ku).destroyed||h(this,ku).send("eth_unsubscribe",[e])}),w(this,Vd,null)}pause(e){(0,iP.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),w(this,Rg,!!e)}resume(){w(this,Rg,null)}_handleMessage(e){if(h(this,Vd)!=null&&h(this,Rg)===null){let t=h(this,zd);t==null?t=this._emit(h(this,ku),e):t=t.then(async()=>{await this._emit(h(this,ku),e)}),w(this,zd,t.then(()=>{h(this,zd)===t&&w(this,zd,null)}))}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}};ku=new WeakMap,oP=new WeakMap,Vd=new WeakMap,Rg=new WeakMap,zd=new WeakMap;Yo.SocketSubscriber=A1;var P8=class extends A1{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}};Yo.SocketBlockSubscriber=P8;var A8=class extends A1{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}};Yo.SocketPendingSubscriber=A8;var aP,E8=class extends A1{constructor(t,n){super(t,["logs",n]);T(this,aP,void 0);w(this,aP,JSON.stringify(n))}get logFilter(){return JSON.parse(h(this,aP))}async _emit(t,n){t.emit(this.logFilter,t._wrapLog(n,t._network))}};aP=new WeakMap;Yo.SocketEventSubscriber=E8;var Bg,P1,Jd,zM=class extends q1e.JsonRpcApiProvider{constructor(t,n){let s=Object.assign({},n??{});(0,iP.assertArgument)(s.batchMaxCount==null||s.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",n),s.batchMaxCount=1,s.staticNetwork==null&&(s.staticNetwork=!0);super(t,s);T(this,Bg,void 0);T(this,P1,void 0);T(this,Jd,void 0);w(this,Bg,new Map),w(this,P1,new Map),w(this,Jd,new Map)}_getSubscriber(t){switch(t.type){case"close":return new $X.UnmanagedSubscriber("close");case"block":return new P8(this);case"pending":return new A8(this);case"event":return new E8(this,t.filter);case"orphan":if(t.filter.orphan==="drop-log")return new $X.UnmanagedSubscriber("drop-log")}return super._getSubscriber(t)}_register(t,n){h(this,P1).set(t,n);let s=h(this,Jd).get(t);if(s){for(let i of s)n._handleMessage(i);h(this,Jd).delete(t)}}async _send(t){(0,iP.assertArgument)(!Array.isArray(t),"WebSocket does not support batch send","payload",t);let n=new Promise((s,i)=>{h(this,Bg).set(t.id,{payload:t,resolve:s,reject:i})});return await this._waitUntilReady(),await this._write(JSON.stringify(t)),[await n]}async _processMessage(t){let n=JSON.parse(t);if(n&&typeof n=="object"&&"id"in n){let s=h(this,Bg).get(n.id);if(s==null){this.emit("error",(0,iP.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:n}));return}h(this,Bg).delete(n.id),s.resolve(n)}else if(n&&n.method==="eth_subscription"){let s=n.params.subscription,i=h(this,P1).get(s);if(i)i._handleMessage(n.params.result);else{let o=h(this,Jd).get(s);o==null&&(o=[],h(this,Jd).set(s,o)),o.push(n.params.result)}}else{this.emit("error",(0,iP.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:n}));return}}async _write(t){throw new Error("sub-classes must override this")}};Bg=new WeakMap,P1=new WeakMap,Jd=new WeakMap;Yo.SocketProvider=zM});var O8=M(k8=>{y();b();Object.defineProperty(k8,"__esModule",{value:!0});k8.WebSocketProvider=void 0;var H1e=WX(),G1e=S8(),Ig,bc,JM=class extends G1e.SocketProvider{constructor(t,n,s){super(n,s);T(this,Ig,void 0);T(this,bc,void 0);typeof t=="string"?(w(this,Ig,()=>new H1e.WebSocket(t)),w(this,bc,h(this,Ig).call(this))):typeof t=="function"?(w(this,Ig,t),w(this,bc,t())):(w(this,Ig,null),w(this,bc,t)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(i){console.log("failed to start WebsocketProvider",i)}},this.websocket.onmessage=i=>{this._processMessage(i.data)}}get websocket(){if(h(this,bc)==null)throw new Error("websocket closed");return h(this,bc)}async _write(t){this.websocket.send(t)}async destroy(){h(this,bc)!=null&&(h(this,bc).close(),w(this,bc,null)),super.destroy()}};Ig=new WeakMap,bc=new WeakMap;k8.WebSocketProvider=JM});var WM=M(E1=>{y();b();Object.defineProperty(E1,"__esModule",{value:!0});E1.InfuraProvider=E1.InfuraWebSocketProvider=void 0;var uP=ge(),K1e=Gf(),V1e=_i(),z1e=Xo(),J1e=O8(),cP="84842078b09946638c03157f83405213";function W1e(r){switch(r){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,uP.assertArgument)(!1,"unsupported network","network",r)}var T8=class extends J1e.WebSocketProvider{constructor(t,n){let s=new Mg(t,n),i=s._getConnection();(0,uP.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,s._network);O(this,"projectId");O(this,"projectSecret");(0,uP.defineProperties)(this,{projectId:s.projectId,projectSecret:s.projectSecret})}isCommunityResource(){return this.projectId===cP}};E1.InfuraWebSocketProvider=T8;var Mg=class extends z1e.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=V1e.Network.from(t);n==null&&(n=cP),s==null&&(s=null);let o=Mg.getRequest(i,n,s);super(o,i,{staticNetwork:i});O(this,"projectId");O(this,"projectSecret");(0,uP.defineProperties)(this,{projectId:n,projectSecret:s})}_getProvider(t){try{return new Mg(t,this.projectId,this.projectSecret)}catch{}return super._getProvider(t)}isCommunityResource(){return this.projectId===cP}static getWebSocketProvider(t,n){return new T8(t,n)}static getRequest(t,n,s){n==null&&(n=cP),s==null&&(s=null);let i=new uP.FetchRequest(`https://${W1e(t.name)}/v3/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===cP&&(i.retryFunc=async(o,a,c)=>((0,K1e.showThrottleMessage)("InfuraProvider"),!0)),i}};E1.InfuraProvider=Mg});var ZM=M(C8=>{y();b();Object.defineProperty(C8,"__esModule",{value:!0});C8.QuickNodeProvider=void 0;var $M=ge(),$1e=Gf(),Z1e=_i(),Q1e=Xo(),N8="919b412a057b5e9c9b6dce193c5a60242d6efadb";function X1e(r){switch(r){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,$M.assertArgument)(!1,"unsupported network","network",r)}var S1=class extends Q1e.JsonRpcProvider{constructor(t,n){t==null&&(t="mainnet");let s=Z1e.Network.from(t);n==null&&(n=N8);let i=S1.getRequest(s,n);super(i,s,{staticNetwork:s});O(this,"token");(0,$M.defineProperties)(this,{token:n})}_getProvider(t){try{return new S1(t,this.token)}catch{}return super._getProvider(t)}isCommunityResource(){return this.token===N8}static getRequest(t,n){n==null&&(n=N8);let s=new $M.FetchRequest(`https://${X1e(t.name)}/${n}`);return s.allowGzip=!0,n===N8&&(s.retryFunc=async(i,o,a)=>((0,$1e.showThrottleMessage)("QuickNodeProvider"),!0)),s}};C8.QuickNodeProvider=S1});var i9=M(j8=>{y();b();Object.defineProperty(j8,"__esModule",{value:!0});j8.FallbackProvider=void 0;var xc=ge(),ZX=c1(),Y1e=_i(),ewe=BigInt("1"),twe=BigInt("2");function rwe(r){for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}}function nwe(r){return new Promise(e=>{setTimeout(e,r)})}function e9(){return new Date().getTime()}function QM(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var QX={stallTimeout:400,priority:1,weight:1},XX={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function swe(r,e){for(;(r.blockNumber<0||r.blockNumber<e)&&(r._updateNumber||(r._updateNumber=(async()=>{try{let t=await r.provider.getBlockNumber();t>r.blockNumber&&(r.blockNumber=t)}catch(t){r.blockNumber=-2,r._lastFatalError=t,r._lastFatalErrorTimestamp=e9()}r._updateNumber=null})()),await r._updateNumber,r.outOfSync++,!r._lastFatalError););}function fP(r){if(r==null)return"null";if(Array.isArray(r))return"["+r.map(fP).join(",")+"]";if(typeof r=="object"&&typeof r.toJSON=="function")return fP(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":case"number":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${fP(r[t])}`).join(",")+"}"}}throw console.log("Could not serialize",r),new Error("Hmm...")}function XM(r){if("error"in r){let t=r.error;return{tag:fP(t),value:t}}let e=r.result;return{tag:fP(e),value:e}}function R8(r,e){let t=new Map;for(let{value:s,tag:i,weight:o}of e){let a=t.get(i)||{value:s,weight:0};a.weight+=o,t.set(i,a)}let n=null;for(let s of t.values())s.weight>=r&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function t9(r,e){let t=0,n=new Map,s=null,i=[];for(let{value:a,tag:c,weight:f}of e)if(a instanceof Error){let g=n.get(c)||{value:a,weight:0};g.weight+=f,n.set(c,g),(s==null||g.weight>s.weight)&&(s=g)}else i.push(BigInt(a)),t+=f;if(t<r)return s&&s.weight>=r?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+ewe)/twe}function YM(r,e){let t=R8(r,e);if(t!==void 0)return t;for(let n of e)if(n.value)return n.value}function iwe(r,e){if(r===1)return(0,xc.getNumber)(t9(r,e),"%internal");let t=new Map,n=(o,a)=>{let c=t.get(o)||{result:o,weight:0};c.weight+=a,t.set(o,c)};for(let{weight:o,value:a}of e){let c=(0,xc.getNumber)(a);n(c-1,o),n(c,o),n(c+1,o)}let s=0,i;for(let{weight:o,result:a}of t.values())o>=r&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var Ai,Vf,k1,B8,YX,lP,n9,I8,eY,M8,tY,dP,s9,r9=class extends ZX.AbstractProvider{constructor(t,n,s){super(n,s);T(this,B8);T(this,lP);T(this,I8);T(this,M8);T(this,dP);O(this,"quorum");O(this,"eventQuorum");O(this,"eventWorkers");T(this,Ai,void 0);T(this,Vf,void 0);T(this,k1,void 0);w(this,Ai,t.map(i=>i instanceof ZX.AbstractProvider?Object.assign({provider:i},QX,XX):Object.assign({},QX,i,XX))),w(this,Vf,-2),w(this,k1,null),s&&s.quorum!=null?this.quorum=s.quorum:this.quorum=Math.ceil(h(this,Ai).reduce((i,o)=>(i+=o.weight,i),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,xc.assertArgument)(this.quorum<=h(this,Ai).reduce((i,o)=>i+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return h(this,Ai).map(t=>{let n=Object.assign({},t);for(let s in n)s[0]==="_"&&delete n[s];return n})}async _detectNetwork(){return Y1e.Network.from((0,xc.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(t,n){switch(n.method){case"broadcastTransaction":return await t.broadcastTransaction(n.signedTransaction);case"call":return await t.call(Object.assign({},n.transaction,{blockTag:n.blockTag}));case"chainId":return(await t.getNetwork()).chainId;case"estimateGas":return await t.estimateGas(n.transaction);case"getBalance":return await t.getBalance(n.address,n.blockTag);case"getBlock":{let s="blockHash"in n?n.blockHash:n.blockTag;return await t.getBlock(s,n.includeTransactions)}case"getBlockNumber":return await t.getBlockNumber();case"getCode":return await t.getCode(n.address,n.blockTag);case"getGasPrice":return(await t.getFeeData()).gasPrice;case"getPriorityFee":return(await t.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await t.getLogs(n.filter);case"getStorage":return await t.getStorage(n.address,n.position,n.blockTag);case"getTransaction":return await t.getTransaction(n.hash);case"getTransactionCount":return await t.getTransactionCount(n.address,n.blockTag);case"getTransactionReceipt":return await t.getTransactionReceipt(n.hash);case"getTransactionResult":return await t.getTransactionResult(n.hash)}}async _perform(t){if(t.method==="broadcastTransaction"){let o=h(this,Ai).map(f=>null),a=h(this,Ai).map(async({provider:f,weight:g},p)=>{try{let A=await f._perform(t);o[p]=Object.assign(XM({result:A}),{weight:g})}catch(A){o[p]=Object.assign(XM({error:A}),{weight:g})}});for(;;){let f=o.filter(A=>A!=null);for(let{value:A}of f)if(!(A instanceof Error))return A;let g=R8(this.quorum,o.filter(A=>A!=null));if((0,xc.isError)(g,"INSUFFICIENT_FUNDS"))throw g;let p=a.filter((A,P)=>o[P]==null);if(p.length===0)break;await Promise.race(p)}let c=YM(this.quorum,o);if((0,xc.assert)(c!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:o.map(QM)}}),c instanceof Error)throw c;return c}await U(this,I8,eY).call(this);let n=new Set,s=0;for(;;){let o=U(this,lP,n9).call(this,n,t);if(o==null||(s+=o.config.weight,s>=this.quorum))break}let i=await U(this,dP,s9).call(this,n,t);for(let o of n)o.perform&&o.result==null&&o.config.lateResponses++;return i}async destroy(){for(let{provider:t}of h(this,Ai))t.destroy();super.destroy()}};Ai=new WeakMap,Vf=new WeakMap,k1=new WeakMap,B8=new WeakSet,YX=function(t){let n=Array.from(t).map(i=>i.config),s=h(this,Ai).slice();rwe(s),s.sort((i,o)=>i.priority-o.priority);for(let i of s)if(!i._lastFatalError&&n.indexOf(i)===-1)return i;return null},lP=new WeakSet,n9=function(t,n){let s=U(this,B8,YX).call(this,t);if(s==null)return null;let i={config:s,result:null,didBump:!1,perform:null,staller:null},o=e9();return i.perform=(async()=>{try{s.requests++;let c=await this._translatePerform(s.provider,n);i.result={result:c}}catch(c){s.errorResponses++,i.result={error:c}}let a=e9()-o;s._totalTime+=a,s.rollingDuration=.95*s.rollingDuration+.05*a,i.perform=null})(),i.staller=(async()=>{await nwe(s.stallTimeout),i.staller=null})(),t.add(i),i},I8=new WeakSet,eY=async function(){let t=h(this,k1);if(!t){let n=[];h(this,Ai).forEach(s=>{n.push((async()=>{await swe(s,0),s._lastFatalError||(s._network=await s.provider.getNetwork())})())}),w(this,k1,t=(async()=>{await Promise.all(n);let s=null;for(let i of h(this,Ai)){if(i._lastFatalError)continue;let o=i._network;s==null?s=o.chainId:o.chainId!==s&&(0,xc.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await t},M8=new WeakSet,tY=async function(t,n){let s=[];for(let i of t)if(i.result!=null){let{tag:o,value:a}=XM(i.result);s.push({tag:o,value:a,weight:i.config.weight})}if(!(s.reduce((i,o)=>i+o.weight,0)<this.quorum)){switch(n.method){case"getBlockNumber":{h(this,Vf)===-2&&w(this,Vf,Math.ceil((0,xc.getNumber)(t9(this.quorum,h(this,Ai).filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:(0,xc.getNumber)(o.blockNumber).toString(),weight:o.weight}))))));let i=iwe(this.quorum,s);return i===void 0?void 0:(i>h(this,Vf)&&w(this,Vf,i),h(this,Vf))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return t9(this.quorum,s);case"getBlock":return"blockTag"in n&&n.blockTag==="pending"?YM(this.quorum,s):R8(this.quorum,s);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return R8(this.quorum,s);case"broadcastTransaction":return YM(this.quorum,s)}(0,xc.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${QM(n.method)})`})}},dP=new WeakSet,s9=async function(t,n){if(t.size===0)throw new Error("no runners?!");let s=[],i=0;for(let a of t){if(a.perform&&s.push(a.perform),a.staller){s.push(a.staller);continue}a.didBump||(a.didBump=!0,i++)}let o=await U(this,M8,tY).call(this,t,n);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let a=0;a<i;a++)U(this,lP,n9).call(this,t,n);return(0,xc.assert)(s.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:n,results:Array.from(t).map(a=>QM(a.result))}}),await Promise.race(s),await U(this,dP,s9).call(this,t,n)};j8.FallbackProvider=r9});var rY=M(F8=>{y();b();Object.defineProperty(F8,"__esModule",{value:!0});F8.getDefaultProvider=void 0;var owe=ge(),awe=UM(),cwe=DM(),uwe=qM(),fwe=GM(),lwe=VM(),dwe=WM(),hwe=ZM(),gwe=i9(),o9=Xo(),pwe=_i(),mwe=O8();function ywe(r){return r&&typeof r.send=="function"&&typeof r.close=="function"}var bwe="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function xwe(r,e){e==null&&(e={});let t=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof r=="string"&&r.match(/^https?:/))return new o9.JsonRpcProvider(r);if(typeof r=="string"&&r.match(/^wss?:/)||ywe(r))return new mwe.WebSocketProvider(r);let n=null;try{n=pwe.Network.from(r)}catch{}let s=[];if(t("publicPolygon")&&n&&(n.name==="matic"?s.push(new o9.JsonRpcProvider("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new o9.JsonRpcProvider("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),t("alchemy"))try{s.push(new cwe.AlchemyProvider(r,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new awe.AnkrProvider(r,e.ankr))}catch{}if(t("chainstack"))try{s.push(new uwe.ChainstackProvider(r,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new fwe.CloudflareProvider(r))}catch{}if(t("etherscan"))try{s.push(new lwe.EtherscanProvider(r,e.etherscan))}catch{}if(t("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new dwe.InfuraProvider(r,o,a))}catch{}if(t("quicknode"))try{let o=e.quicknode;s.push(new hwe.QuickNodeProvider(r,o))}catch{}if((0,owe.assert)(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),n&&bwe.indexOf(n.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new gwe.FallbackProvider(s,void 0,{quorum:i})}F8.getDefaultProvider=xwe});var nY=M(L8=>{y();b();Object.defineProperty(L8,"__esModule",{value:!0});L8.NonceManager=void 0;var wwe=ge(),_we=u8(),Wd,jg,c9=class extends _we.AbstractSigner{constructor(t){super(t.provider);O(this,"signer");T(this,Wd,void 0);T(this,jg,void 0);(0,wwe.defineProperties)(this,{signer:t}),w(this,Wd,null),w(this,jg,0)}async getAddress(){return this.signer.getAddress()}connect(t){return new c9(this.signer.connect(t))}async getNonce(t){if(t==="pending"){h(this,Wd)==null&&w(this,Wd,super.getNonce("pending"));let n=h(this,jg);return await h(this,Wd)+n}return super.getNonce(t)}increment(){kn(this,jg)._++}reset(){w(this,jg,0),w(this,Wd,null)}async sendTransaction(t){let n=this.getNonce("pending");return this.increment(),t=await this.signer.populateTransaction(t),t.nonce=await n,await this.signer.sendTransaction(t)}signTransaction(t){return this.signer.signTransaction(t)}signMessage(t){return this.signer.signMessage(t)}signTypedData(t,n,s){return this.signer.signTypedData(t,n,s)}},a9=c9;Wd=new WeakMap,jg=new WeakMap;L8.NonceManager=a9});var iY=M(U8=>{y();b();Object.defineProperty(U8,"__esModule",{value:!0});U8.BrowserProvider=void 0;var sY=ge(),vwe=Xo(),O1,u9=class extends vwe.JsonRpcApiPollingProvider{constructor(t,n,s){let i=Object.assign({},s??{},{batchMaxCount:1});(0,sY.assertArgument)(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(n,i);T(this,O1,void 0);w(this,O1,async(o,a)=>{let c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{let f=await t.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:f}),f}catch(f){let g=new Error(f.message);throw g.code=f.code,g.data=f.data,g.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:g}),g}})}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){(0,sY.assertArgument)(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{let n=await h(this,O1).call(this,t.method,t.params||[]);return[{id:t.id,result:n}]}catch(n){return[{id:t.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(t,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(t,n)}async hasSigner(t){t==null&&(t=0);let n=await this.send("eth_accounts",[]);return typeof t=="number"?n.length>t:(t=t.toLowerCase(),n.filter(s=>s.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await h(this,O1).call(this,"eth_requestAccounts",[])}catch(n){let s=n.payload;throw this.getRpcError(s,{id:s.id,error:n})}return await super.getSigner(t)}};O1=new WeakMap;U8.BrowserProvider=u9});var oY=M(q8=>{y();b();Object.defineProperty(q8,"__esModule",{value:!0});q8.PocketProvider=void 0;var f9=ge(),Pwe=Gf(),Awe=_i(),Ewe=Xo(),D8="62e1ad51b37b8e00394bda3b";function Swe(r){switch(r){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,f9.assertArgument)(!1,"unsupported network","network",r)}var T1=class extends Ewe.JsonRpcProvider{constructor(t,n,s){t==null&&(t="mainnet");let i=Awe.Network.from(t);n==null&&(n=D8),s==null&&(s=null);let o={staticNetwork:i},a=T1.getRequest(i,n,s);super(a,i,o);O(this,"applicationId");O(this,"applicationSecret");(0,f9.defineProperties)(this,{applicationId:n,applicationSecret:s})}_getProvider(t){try{return new T1(t,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(t)}static getRequest(t,n,s){n==null&&(n=D8);let i=new f9.FetchRequest(`https://${Swe(t.name)}/v1/lb/${n}`);return i.allowGzip=!0,s&&i.setCredentials("",s),n===D8&&(i.retryFunc=async(o,a,c)=>((0,Pwe.showThrottleMessage)("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===D8}};q8.PocketProvider=T1});var aY=M(H8=>{y();b();Object.defineProperty(H8,"__esModule",{value:!0});H8.IpcSocketProvider=void 0;var kwe=void 0;H8.IpcSocketProvider=kwe});var K8=M(ne=>{y();b();Object.defineProperty(ne,"__esModule",{value:!0});ne.SocketEventSubscriber=ne.SocketPendingSubscriber=ne.SocketBlockSubscriber=ne.SocketSubscriber=ne.WebSocketProvider=ne.SocketProvider=ne.IpcSocketProvider=ne.QuickNodeProvider=ne.PocketProvider=ne.InfuraWebSocketProvider=ne.InfuraProvider=ne.EtherscanPlugin=ne.EtherscanProvider=ne.ChainstackProvider=ne.CloudflareProvider=ne.AnkrProvider=ne.AlchemyProvider=ne.BrowserProvider=ne.JsonRpcSigner=ne.JsonRpcProvider=ne.JsonRpcApiProvider=ne.FallbackProvider=ne.copyRequest=ne.TransactionResponse=ne.TransactionReceipt=ne.Log=ne.FeeData=ne.Block=ne.FetchUrlFeeDataNetworkPlugin=ne.FeeDataNetworkPlugin=ne.EnsPlugin=ne.GasCostPlugin=ne.NetworkPlugin=ne.NonceManager=ne.Network=ne.MulticoinProviderPlugin=ne.EnsResolver=ne.getDefaultProvider=ne.showThrottleMessage=ne.VoidSigner=ne.AbstractSigner=ne.UnmanagedSubscriber=ne.AbstractProvider=void 0;var cY=c1();Object.defineProperty(ne,"AbstractProvider",{enumerable:!0,get:function(){return cY.AbstractProvider}});Object.defineProperty(ne,"UnmanagedSubscriber",{enumerable:!0,get:function(){return cY.UnmanagedSubscriber}});var uY=u8();Object.defineProperty(ne,"AbstractSigner",{enumerable:!0,get:function(){return uY.AbstractSigner}});Object.defineProperty(ne,"VoidSigner",{enumerable:!0,get:function(){return uY.VoidSigner}});var Owe=Gf();Object.defineProperty(ne,"showThrottleMessage",{enumerable:!0,get:function(){return Owe.showThrottleMessage}});var Twe=rY();Object.defineProperty(ne,"getDefaultProvider",{enumerable:!0,get:function(){return Twe.getDefaultProvider}});var fY=uM();Object.defineProperty(ne,"EnsResolver",{enumerable:!0,get:function(){return fY.EnsResolver}});Object.defineProperty(ne,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return fY.MulticoinProviderPlugin}});var Nwe=_i();Object.defineProperty(ne,"Network",{enumerable:!0,get:function(){return Nwe.Network}});var Cwe=nY();Object.defineProperty(ne,"NonceManager",{enumerable:!0,get:function(){return Cwe.NonceManager}});var hP=$O();Object.defineProperty(ne,"NetworkPlugin",{enumerable:!0,get:function(){return hP.NetworkPlugin}});Object.defineProperty(ne,"GasCostPlugin",{enumerable:!0,get:function(){return hP.GasCostPlugin}});Object.defineProperty(ne,"EnsPlugin",{enumerable:!0,get:function(){return hP.EnsPlugin}});Object.defineProperty(ne,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return hP.FeeDataNetworkPlugin}});Object.defineProperty(ne,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return hP.FetchUrlFeeDataNetworkPlugin}});var N1=Hx();Object.defineProperty(ne,"Block",{enumerable:!0,get:function(){return N1.Block}});Object.defineProperty(ne,"FeeData",{enumerable:!0,get:function(){return N1.FeeData}});Object.defineProperty(ne,"Log",{enumerable:!0,get:function(){return N1.Log}});Object.defineProperty(ne,"TransactionReceipt",{enumerable:!0,get:function(){return N1.TransactionReceipt}});Object.defineProperty(ne,"TransactionResponse",{enumerable:!0,get:function(){return N1.TransactionResponse}});Object.defineProperty(ne,"copyRequest",{enumerable:!0,get:function(){return N1.copyRequest}});var Rwe=i9();Object.defineProperty(ne,"FallbackProvider",{enumerable:!0,get:function(){return Rwe.FallbackProvider}});var l9=Xo();Object.defineProperty(ne,"JsonRpcApiProvider",{enumerable:!0,get:function(){return l9.JsonRpcApiProvider}});Object.defineProperty(ne,"JsonRpcProvider",{enumerable:!0,get:function(){return l9.JsonRpcProvider}});Object.defineProperty(ne,"JsonRpcSigner",{enumerable:!0,get:function(){return l9.JsonRpcSigner}});var Bwe=iY();Object.defineProperty(ne,"BrowserProvider",{enumerable:!0,get:function(){return Bwe.BrowserProvider}});var Iwe=DM();Object.defineProperty(ne,"AlchemyProvider",{enumerable:!0,get:function(){return Iwe.AlchemyProvider}});var Mwe=UM();Object.defineProperty(ne,"AnkrProvider",{enumerable:!0,get:function(){return Mwe.AnkrProvider}});var jwe=GM();Object.defineProperty(ne,"CloudflareProvider",{enumerable:!0,get:function(){return jwe.CloudflareProvider}});var Fwe=qM();Object.defineProperty(ne,"ChainstackProvider",{enumerable:!0,get:function(){return Fwe.ChainstackProvider}});var lY=VM();Object.defineProperty(ne,"EtherscanProvider",{enumerable:!0,get:function(){return lY.EtherscanProvider}});Object.defineProperty(ne,"EtherscanPlugin",{enumerable:!0,get:function(){return lY.EtherscanPlugin}});var dY=WM();Object.defineProperty(ne,"InfuraProvider",{enumerable:!0,get:function(){return dY.InfuraProvider}});Object.defineProperty(ne,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return dY.InfuraWebSocketProvider}});var Lwe=oY();Object.defineProperty(ne,"PocketProvider",{enumerable:!0,get:function(){return Lwe.PocketProvider}});var Uwe=ZM();Object.defineProperty(ne,"QuickNodeProvider",{enumerable:!0,get:function(){return Uwe.QuickNodeProvider}});var Dwe=aY();Object.defineProperty(ne,"IpcSocketProvider",{enumerable:!0,get:function(){return Dwe.IpcSocketProvider}});var qwe=S8();Object.defineProperty(ne,"SocketProvider",{enumerable:!0,get:function(){return qwe.SocketProvider}});var Hwe=O8();Object.defineProperty(ne,"WebSocketProvider",{enumerable:!0,get:function(){return Hwe.WebSocketProvider}});var G8=S8();Object.defineProperty(ne,"SocketSubscriber",{enumerable:!0,get:function(){return G8.SocketSubscriber}});Object.defineProperty(ne,"SocketBlockSubscriber",{enumerable:!0,get:function(){return G8.SocketBlockSubscriber}});Object.defineProperty(ne,"SocketPendingSubscriber",{enumerable:!0,get:function(){return G8.SocketPendingSubscriber}});Object.defineProperty(ne,"SocketEventSubscriber",{enumerable:!0,get:function(){return G8.SocketEventSubscriber}})});var z8=M(V8=>{y();b();Object.defineProperty(V8,"__esModule",{value:!0});V8.BaseWallet=void 0;var d9=En(),h9=pu(),hY=K8(),gY=mi(),C1=ge(),R1,p9=class extends hY.AbstractSigner{constructor(t,n){super(n);O(this,"address");T(this,R1,void 0);(0,C1.assertArgument)(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),w(this,R1,t);let s=(0,gY.computeAddress)(this.signingKey.publicKey);(0,C1.defineProperties)(this,{address:s})}get signingKey(){return h(this,R1)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(t){return new p9(h(this,R1),t)}async signTransaction(t){t=(0,hY.copyRequest)(t);let{to:n,from:s}=await(0,C1.resolveProperties)({to:t.to?(0,d9.resolveAddress)(t.to,this.provider):void 0,from:t.from?(0,d9.resolveAddress)(t.from,this.provider):void 0});n!=null&&(t.to=n),s!=null&&(t.from=s),t.from!=null&&((0,C1.assertArgument)((0,d9.getAddress)(t.from)===this.address,"transaction from address mismatch","tx.from",t.from),delete t.from);let i=gY.Transaction.from(t);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign((0,h9.hashMessage)(t)).serialized}async signTypedData(t,n,s){let i=await h9.TypedDataEncoder.resolveNames(t,n,s,async o=>{(0,C1.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let a=await this.provider.resolveName(o);return(0,C1.assert)(a!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),a});return this.signingKey.sign(h9.TypedDataEncoder.hash(i.domain,n,i.value)).serialized}},g9=p9;R1=new WeakMap;V8.BaseWallet=g9});var m9=M(B1=>{y();b();Object.defineProperty(B1,"__esModule",{value:!0});B1.decodeOwl=B1.decode=void 0;var Gwe=ge(),J8=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Kwe=/^[a-z]*$/i;function pY(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(Kwe)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function mY(r,e){for(let s=J8.length-1;s>=0;s--)r=r.split(J8[s]).join(e.substring(2*s,2*s+2));let t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return pY(pY(t,";"),":")}B1.decode=mY;function Vwe(r){return(0,Gwe.assertArgument)(r[0]==="0","unsupported auwl data","data",r),mY(r.substring(1+2*J8.length),r.substring(1,1+2*J8.length))}B1.decodeOwl=Vwe});var b9=M(W8=>{y();b();Object.defineProperty(W8,"__esModule",{value:!0});W8.Wordlist=void 0;var zwe=ge(),y9=class{constructor(e){O(this,"locale");(0,zwe.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};W8.Wordlist=y9});var Z8=M($8=>{y();b();Object.defineProperty($8,"__esModule",{value:!0});$8.WordlistOwl=void 0;var Jwe=pu(),Wwe=ge(),$we=m9(),Zwe=b9(),I1,gP,Fg,pP,w9,x9=class extends Zwe.Wordlist{constructor(t,n,s){super(t);T(this,pP);T(this,I1,void 0);T(this,gP,void 0);T(this,Fg,void 0);w(this,I1,n),w(this,gP,s),w(this,Fg,null)}get _data(){return h(this,I1)}_decodeWords(){return(0,$we.decodeOwl)(h(this,I1))}getWord(t){let n=U(this,pP,w9).call(this);return(0,Wwe.assertArgument)(t>=0&&t<n.length,`invalid word index: ${t}`,"index",t),n[t]}getWordIndex(t){return U(this,pP,w9).call(this).indexOf(t)}};I1=new WeakMap,gP=new WeakMap,Fg=new WeakMap,pP=new WeakSet,w9=function(){if(h(this,Fg)==null){let t=this._decodeWords();if((0,Jwe.id)(t.join(`
`)+`
`)!==h(this,gP))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);w(this,Fg,t)}return h(this,Fg)};$8.WordlistOwl=x9});var yP=M(Q8=>{y();b();Object.defineProperty(Q8,"__esModule",{value:!0});Q8.LangEn=void 0;var Qwe=Z8(),Xwe="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Ywe="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",_9=null,mP=class extends Qwe.WordlistOwl{constructor(){super("en",Xwe,Ywe)}static wordlist(){return _9==null&&(_9=new mP),_9}};Q8.LangEn=mP});var Y8=M(X8=>{y();b();Object.defineProperty(X8,"__esModule",{value:!0});X8.Mnemonic=void 0;var E9=Un(),zs=ge(),S9=yP();function yY(r){return(1<<r)-1<<8-r&255}function e_e(r){return(1<<r)-1&255}function v9(r,e){(0,zs.assertNormalize)("NFKD"),e==null&&(e=S9.LangEn.wordlist());let t=e.split(r);(0,zs.assertArgument)(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*t.length/8)),s=0;for(let f=0;f<t.length;f++){let g=e.getWordIndex(t[f].normalize("NFKD"));(0,zs.assertArgument)(g>=0,`invalid mnemonic word at index ${f}`,"mnemonic","[ REDACTED ]");for(let p=0;p<11;p++)g&1<<10-p&&(n[s>>3]|=1<<7-s%8),s++}let i=32*t.length/3,o=t.length/3,a=yY(o),c=(0,zs.getBytes)((0,E9.sha256)(n.slice(0,i/8)))[0]&a;return(0,zs.assertArgument)(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,zs.hexlify)(n.slice(0,i/8))}function P9(r,e){(0,zs.assertArgument)(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=S9.LangEn.wordlist());let t=[0],n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&e_e(8-n)),n+=3);let s=r.length/4,i=parseInt((0,E9.sha256)(r).substring(2,4),16)&yY(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}var A9={},M1=class{constructor(e,t,n,s,i){O(this,"phrase");O(this,"password");O(this,"wordlist");O(this,"entropy");s==null&&(s=""),i==null&&(i=S9.LangEn.wordlist()),(0,zs.assertPrivate)(e,A9,"Mnemonic"),(0,zs.defineProperties)(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){let e=(0,zs.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,E9.pbkdf2)((0,zs.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){let s=v9(e,n);return e=P9((0,zs.getBytes)(s),n),new M1(A9,s,e,t,n)}static fromEntropy(e,t,n){let s=(0,zs.getBytes)(e,"entropy"),i=P9(s,n);return new M1(A9,(0,zs.hexlify)(s),i,t,n)}static entropyToPhrase(e,t){let n=(0,zs.getBytes)(e,"entropy");return P9(n,t)}static phraseToEntropy(e,t){return v9(e,t)}static isValidMnemonic(e,t){try{return v9(e,t),!0}catch{}return!1}};X8.Mnemonic=M1});var k9=M(Ou=>{y();b();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.spelunk=Ou.getPassword=Ou.zpad=Ou.looseArrayify=void 0;var j1=ge();function bY(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),(0,j1.getBytesCopy)(r)}Ou.looseArrayify=bY;function t_e(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}Ou.zpad=t_e;function r_e(r){return typeof r=="string"?(0,j1.toUtf8Bytes)(r,"NFKC"):(0,j1.getBytesCopy)(r)}Ou.getPassword=r_e;function n_e(r,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,j1.assertArgument)(t!=null,"invalid path","path",e);let n=t[1],s=t[3],i=t[4]==="!",o=r;for(let a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(let f in o)if(f.toLowerCase()===a){c=o[f];break}o=c}else o=null;if(o==null)break}if((0,j1.assertArgument)(!i||o!=null,"missing required value","path",n),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return bY(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;(0,j1.assertArgument)(!1,`wrong type found for ${s} `,"path",n)}return o}Ou.spelunk=n_e});var rT=M(ea=>{y();b();Object.defineProperty(ea,"__esModule",{value:!0});ea.encryptKeystoreJson=ea.encryptKeystoreJsonSync=ea.decryptKeystoreJson=ea.decryptKeystoreJsonSync=ea.isKeystoreJson=void 0;var eT=bv(),s_e=En(),ta=Un(),i_e=mi(),Tt=ge(),ar=k9(),o_e=z6(),wY="m/44'/60'/0'/0/0";function a_e(r){try{let e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}ea.isKeystoreJson=a_e;function c_e(r,e,t){if((0,ar.spelunk)(r,"crypto.cipher:string")==="aes-128-ctr"){let s=(0,ar.spelunk)(r,"crypto.cipherparams.iv:data!"),i=new eT.CTR(e,s);return(0,Tt.hexlify)(i.decrypt(t))}(0,Tt.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function tT(r,e){let t=(0,Tt.getBytes)(e),n=(0,ar.spelunk)(r,"crypto.ciphertext:data!"),s=(0,Tt.hexlify)((0,ta.keccak256)((0,Tt.concat)([t.slice(16,32),n]))).substring(2);(0,Tt.assertArgument)(s===(0,ar.spelunk)(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=c_e(r,t.slice(0,16),n),o=(0,i_e.computeAddress)(i);if(r.address){let f=r.address.toLowerCase();f.startsWith("0x")||(f="0x"+f),(0,Tt.assertArgument)((0,s_e.getAddress)(f)===o,"keystore address/privateKey mismatch","address",r.address)}let a={address:o,privateKey:i};if((0,ar.spelunk)(r,"x-ethers.version:string")==="0.1"){let f=t.slice(32,64),g=(0,ar.spelunk)(r,"x-ethers.mnemonicCiphertext:data!"),p=(0,ar.spelunk)(r,"x-ethers.mnemonicCounter:data!"),A=new eT.CTR(f,p);a.mnemonic={path:(0,ar.spelunk)(r,"x-ethers.path:string")||wY,locale:(0,ar.spelunk)(r,"x-ethers.locale:string")||"en",entropy:(0,Tt.hexlify)((0,Tt.getBytes)(A.decrypt(g)))}}return a}function _Y(r){let e=(0,ar.spelunk)(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=(0,ar.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,ar.spelunk)(r,"crypto.kdfparams.n:int!"),s=(0,ar.spelunk)(r,"crypto.kdfparams.r:int!"),i=(0,ar.spelunk)(r,"crypto.kdfparams.p:int!");(0,Tt.assertArgument)(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),(0,Tt.assertArgument)(s>0&&i>0,"invalid kdf","kdf",e);let o=(0,ar.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Tt.assertArgument)(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=(0,ar.spelunk)(r,"crypto.kdfparams.salt:data!"),n=(0,ar.spelunk)(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();(0,Tt.assertArgument)(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);let i=(0,ar.spelunk)(r,"crypto.kdfparams.c:int!"),o=(0,ar.spelunk)(r,"crypto.kdfparams.dklen:int!");return(0,Tt.assertArgument)(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}(0,Tt.assertArgument)(!1,"unsupported key-derivation function","kdf",e)}function u_e(r,e){let t=JSON.parse(r),n=(0,ar.getPassword)(e),s=_Y(t);if(s.name==="pbkdf2"){let{salt:p,count:A,dkLen:P,algorithm:C}=s,N=(0,ta.pbkdf2)(n,p,A,P,C);return tT(t,N)}(0,Tt.assert)(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:i,N:o,r:a,p:c,dkLen:f}=s,g=(0,ta.scryptSync)(n,i,o,a,c,f);return tT(t,g)}ea.decryptKeystoreJsonSync=u_e;function xY(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function f_e(r,e,t){let n=JSON.parse(r),s=(0,ar.getPassword)(e),i=_Y(n);if(i.name==="pbkdf2"){t&&(t(0),await xY(0));let{salt:A,count:P,dkLen:C,algorithm:N}=i,L=(0,ta.pbkdf2)(s,A,P,C,N);return t&&(t(1),await xY(0)),tT(n,L)}(0,Tt.assert)(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:a,r:c,p:f,dkLen:g}=i,p=await(0,ta.scrypt)(s,o,a,c,f,g,t);return tT(n,p)}ea.decryptKeystoreJson=f_e;function vY(r){let e=r.salt!=null?(0,Tt.getBytes)(r.salt,"options.salt"):(0,ta.randomBytes)(32),t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),(0,Tt.assertArgument)(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),(0,Tt.assertArgument)(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),(0,Tt.assertArgument)(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function PY(r,e,t,n){let s=(0,Tt.getBytes)(t.privateKey,"privateKey"),i=n.iv!=null?(0,Tt.getBytes)(n.iv,"options.iv"):(0,ta.randomBytes)(16);(0,Tt.assertArgument)(i.length===16,"invalid options.iv length","options.iv",n.iv);let o=n.uuid!=null?(0,Tt.getBytes)(n.uuid,"options.uuid"):(0,ta.randomBytes)(16);(0,Tt.assertArgument)(o.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=r.slice(0,16),c=r.slice(16,32),f=new eT.CTR(a,i),g=(0,Tt.getBytes)(f.encrypt(s)),p=(0,ta.keccak256)((0,Tt.concat)([c,g])),A={address:t.address.substring(2).toLowerCase(),id:(0,Tt.uuidV4)(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Tt.hexlify)(i).substring(2)},ciphertext:(0,Tt.hexlify)(g).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Tt.hexlify)(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:p.substring(2)}};if(t.mnemonic){let P=n.client!=null?n.client:`ethers/${o_e.version}`,C=t.mnemonic.path||wY,N=t.mnemonic.locale||"en",L=r.slice(32,64),F=(0,Tt.getBytes)(t.mnemonic.entropy,"account.mnemonic.entropy"),D=(0,ta.randomBytes)(16),q=new eT.CTR(L,D),K=(0,Tt.getBytes)(q.encrypt(F)),H=new Date,V="UTC--"+(H.getUTCFullYear()+"-"+(0,ar.zpad)(H.getUTCMonth()+1,2)+"-"+(0,ar.zpad)(H.getUTCDate(),2)+"T"+(0,ar.zpad)(H.getUTCHours(),2)+"-"+(0,ar.zpad)(H.getUTCMinutes(),2)+"-"+(0,ar.zpad)(H.getUTCSeconds(),2)+".0Z")+"--"+A.address;A["x-ethers"]={client:P,gethFilename:V,path:C,locale:N,mnemonicCounter:(0,Tt.hexlify)(D).substring(2),mnemonicCiphertext:(0,Tt.hexlify)(K).substring(2),version:"0.1"}}return JSON.stringify(A)}function l_e(r,e,t){t==null&&(t={});let n=(0,ar.getPassword)(e),s=vY(t),i=(0,ta.scryptSync)(n,s.salt,s.N,s.r,s.p,64);return PY((0,Tt.getBytes)(i),s,r,t)}ea.encryptKeystoreJsonSync=l_e;async function d_e(r,e,t){t==null&&(t={});let n=(0,ar.getPassword)(e),s=vY(t),i=await(0,ta.scrypt)(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return PY((0,Tt.getBytes)(i),s,r,t)}ea.encryptKeystoreJson=d_e});var N9=M(Js=>{y();b();Object.defineProperty(Js,"__esModule",{value:!0});Js.getIndexedAccountPath=Js.getAccountPath=Js.HDNodeVoidWallet=Js.HDNodeWallet=Js.defaultPath=void 0;var Vi=Un(),h_e=K8(),kY=mi(),Pe=ge(),AY=yP(),g_e=z8(),EY=Y8(),SY=rT();Js.defaultPath="m/44'/60'/0'/0/0";var p_e=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Cu=2147483648,m_e=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y_e="0123456789abcdef";function sT(r,e){let t="";for(;r;)t=y_e[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function O9(r){let e=(0,Pe.getBytes)(r),t=(0,Pe.dataSlice)((0,Vi.sha256)((0,Vi.sha256)(e)),0,4),n=(0,Pe.concat)([e,t]);return(0,Pe.encodeBase58)(n)}var Nu={};function OY(r,e,t,n){let s=new Uint8Array(37);r&Cu?((0,Pe.assert)(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set((0,Pe.getBytes)(n),1)):s.set((0,Pe.getBytes)(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=r>>24-o&255;let i=(0,Pe.getBytes)((0,Vi.computeHmac)("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function TY(r,e){let t=e.split("/");(0,Pe.assertArgument)(t.length>0,"invalid path","path",e),t[0]==="m"&&((0,Pe.assertArgument)(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){let i=t[s];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));(0,Pe.assertArgument)(o<Cu,"invalid path index",`path[${s}]`,i),n=n.deriveChild(Cu+o)}else if(i.match(/^[0-9]+$/)){let o=parseInt(i);(0,Pe.assertArgument)(o<Cu,"invalid path index",`path[${s}]`,i),n=n.deriveChild(o)}else(0,Pe.assertArgument)(!1,"invalid path component",`path[${s}]`,i)}return n}var xP,T9,Lg,bP,Tu=class extends g_e.BaseWallet{constructor(t,n,s,i,o,a,c,f,g){super(n,g);T(this,xP);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"mnemonic");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,Pe.assertPrivate)(t,Nu,"HDNodeWallet"),(0,Pe.defineProperties)(this,{publicKey:n.compressedPublicKey});let p=(0,Pe.dataSlice)((0,Vi.ripemd160)((0,Vi.sha256)(this.publicKey)),0,4);(0,Pe.defineProperties)(this,{parentFingerprint:s,fingerprint:p,chainCode:i,path:o,index:a,depth:c}),(0,Pe.defineProperties)(this,{mnemonic:f})}connect(t){return new Tu(Nu,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,t)}async encrypt(t,n){return await(0,SY.encryptKeystoreJson)(U(this,xP,T9).call(this),t,{progressCallback:n})}encryptSync(t){return(0,SY.encryptKeystoreJsonSync)(U(this,xP,T9).call(this),t)}get extendedKey(){return(0,Pe.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),O9((0,Pe.concat)(["0x0488ADE4",sT(this.depth,1),this.parentFingerprint,sT(this.index,4),this.chainCode,(0,Pe.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new $d(Nu,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(t){let n=(0,Pe.getNumber)(t,"index");(0,Pe.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Cu),n&Cu&&(s+="'"));let{IR:i,IL:o}=OY(n,this.chainCode,this.publicKey,this.privateKey),a=new Vi.SigningKey((0,Pe.toBeHex)(((0,Pe.toBigInt)(o)+BigInt(this.privateKey))%m_e,32));return new Tu(Nu,a,this.fingerprint,(0,Pe.hexlify)(i),s,n,this.depth+1,this.mnemonic,this.provider)}derivePath(t){return TY(this,t)}static fromExtendedKey(t){let n=(0,Pe.toBeArray)((0,Pe.decodeBase58)(t));(0,Pe.assertArgument)(n.length===82||O9(n.slice(0,78))===t,"invalid extended key","extendedKey","[ REDACTED ]");let s=n[4],i=(0,Pe.hexlify)(n.slice(5,9)),o=parseInt((0,Pe.hexlify)(n.slice(9,13)).substring(2),16),a=(0,Pe.hexlify)(n.slice(13,45)),c=n.slice(45,78);switch((0,Pe.hexlify)(n.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let f=(0,Pe.hexlify)(c);return new $d(Nu,(0,kY.computeAddress)(f),f,i,a,null,o,s,null)}case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new Tu(Nu,new Vi.SigningKey(c.slice(1)),i,a,null,o,s,null,null)}(0,Pe.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(t,n,s){var o;t==null&&(t=""),n==null&&(n=Js.defaultPath),s==null&&(s=AY.LangEn.wordlist());let i=EY.Mnemonic.fromEntropy((0,Vi.randomBytes)(16),t,s);return U(o=Tu,Lg,bP).call(o,i.computeSeed(),i).derivePath(n)}static fromMnemonic(t,n){var s;return n||(n=Js.defaultPath),U(s=Tu,Lg,bP).call(s,t.computeSeed(),t).derivePath(n)}static fromPhrase(t,n,s,i){var a;n==null&&(n=""),s==null&&(s=Js.defaultPath),i==null&&(i=AY.LangEn.wordlist());let o=EY.Mnemonic.fromPhrase(t,n,i);return U(a=Tu,Lg,bP).call(a,o.computeSeed(),o).derivePath(s)}static fromSeed(t){var n;return U(n=Tu,Lg,bP).call(n,t,null)}},nT=Tu;xP=new WeakSet,T9=function(){let t={address:this.address,privateKey:this.privateKey},n=this.mnemonic;return this.path&&n&&n.wordlist.locale==="en"&&n.password===""&&(t.mnemonic={path:this.path,locale:"en",entropy:n.entropy}),t},Lg=new WeakSet,bP=function(t,n){(0,Pe.assertArgument)((0,Pe.isBytesLike)(t),"invalid seed","seed","[REDACTED]");let s=(0,Pe.getBytes)(t,"seed");(0,Pe.assertArgument)(s.length>=16&&s.length<=64,"invalid seed","seed","[REDACTED]");let i=(0,Pe.getBytes)((0,Vi.computeHmac)("sha512",p_e,s)),o=new Vi.SigningKey((0,Pe.hexlify)(i.slice(0,32)));return new Tu(Nu,o,"0x00000000",(0,Pe.hexlify)(i.slice(32)),"m",0,0,n,null)},T(nT,Lg);Js.HDNodeWallet=nT;var $d=class extends h_e.VoidSigner{constructor(t,n,s,i,o,a,c,f,g){super(n,g);O(this,"publicKey");O(this,"fingerprint");O(this,"parentFingerprint");O(this,"chainCode");O(this,"path");O(this,"index");O(this,"depth");(0,Pe.assertPrivate)(t,Nu,"HDNodeVoidWallet"),(0,Pe.defineProperties)(this,{publicKey:s});let p=(0,Pe.dataSlice)((0,Vi.ripemd160)((0,Vi.sha256)(s)),0,4);(0,Pe.defineProperties)(this,{publicKey:s,fingerprint:p,parentFingerprint:i,chainCode:o,path:a,index:c,depth:f})}connect(t){return new $d(Nu,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,t)}get extendedKey(){return(0,Pe.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),O9((0,Pe.concat)(["0x0488B21E",sT(this.depth,1),this.parentFingerprint,sT(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(t){let n=(0,Pe.getNumber)(t,"index");(0,Pe.assertArgument)(n<=4294967295,"invalid index","index",n);let s=this.path;s&&(s+="/"+(n&~Cu),n&Cu&&(s+="'"));let{IR:i,IL:o}=OY(n,this.chainCode,this.publicKey,null),a=Vi.SigningKey.addPoints(o,this.publicKey,!0),c=(0,kY.computeAddress)(a);return new $d(Nu,c,a,this.fingerprint,(0,Pe.hexlify)(i),s,n,this.depth+1,this.provider)}derivePath(t){return TY(this,t)}};Js.HDNodeVoidWallet=$d;function b_e(r){let e=(0,Pe.getNumber)(r,"index");return(0,Pe.assertArgument)(e>=0&&e<Cu,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}Js.getAccountPath=b_e;function x_e(r){let e=(0,Pe.getNumber)(r,"index");return(0,Pe.assertArgument)(e>=0&&e<Cu,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}Js.getIndexedAccountPath=x_e});var R9=M(F1=>{y();b();Object.defineProperty(F1,"__esModule",{value:!0});F1.decryptCrowdsaleJson=F1.isCrowdsaleJson=void 0;var NY=bv(),w_e=En(),__e=Un(),v_e=pu(),C9=ge(),iT=k9();function P_e(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}F1.isCrowdsaleJson=P_e;function A_e(r,e){let t=JSON.parse(r),n=(0,iT.getPassword)(e),s=(0,w_e.getAddress)((0,iT.spelunk)(t,"ethaddr:string!")),i=(0,iT.looseArrayify)((0,iT.spelunk)(t,"encseed:string!"));(0,C9.assertArgument)(i&&i.length%16===0,"invalid encseed","json",r);let o=(0,C9.getBytes)((0,__e.pbkdf2)(n,n,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),f=new NY.CBC(o,a),g=(0,NY.pkcs7Strip)((0,C9.getBytes)(f.decrypt(c))),p="";for(let A=0;A<g.length;A++)p+=String.fromCharCode(g[A]);return{address:s,privateKey:(0,v_e.id)(p)}}F1.decryptCrowdsaleJson=A_e});var RY=M(cT=>{y();b();Object.defineProperty(cT,"__esModule",{value:!0});cT.Wallet=void 0;var E_e=Un(),B9=ge(),S_e=z8(),I9=N9(),oT=R9(),L1=rT(),k_e=Y8();function CY(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var wP,M9,U1=class extends S_e.BaseWallet{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new E_e.SigningKey(e):e;super(n,t)}connect(e){return new U1(this.signingKey,e)}async encrypt(e,t){let n={address:this.address,privateKey:this.privateKey};return await(0,L1.encryptKeystoreJson)(n,e,{progressCallback:t})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return(0,L1.encryptKeystoreJsonSync)(t,e)}static async fromEncryptedJson(e,t,n){var i;let s=null;return(0,L1.isKeystoreJson)(e)?s=await(0,L1.decryptKeystoreJson)(e,t,n):(0,oT.isCrowdsaleJson)(e)&&(n&&(n(0),await CY(0)),s=(0,oT.decryptCrowdsaleJson)(e,t),n&&(n(1),await CY(0))),U(i=U1,wP,M9).call(i,s)}static fromEncryptedJsonSync(e,t){var s;let n=null;return(0,L1.isKeystoreJson)(e)?n=(0,L1.decryptKeystoreJsonSync)(e,t):(0,oT.isCrowdsaleJson)(e)?n=(0,oT.decryptCrowdsaleJson)(e,t):(0,B9.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),U(s=U1,wP,M9).call(s,n)}static createRandom(e){let t=I9.HDNodeWallet.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let n=I9.HDNodeWallet.fromPhrase(e);return t?n.connect(t):n}},aT=U1;wP=new WeakSet,M9=function(e){if((0,B9.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=k_e.Mnemonic.fromEntropy(e.mnemonic.entropy),s=I9.HDNodeWallet.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new U1(e.privateKey);return(0,B9.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},T(aT,wP);cT.Wallet=aT});var IY=M(er=>{y();b();Object.defineProperty(er,"__esModule",{value:!0});er.Wallet=er.Mnemonic=er.encryptKeystoreJsonSync=er.encryptKeystoreJson=er.decryptKeystoreJson=er.decryptKeystoreJsonSync=er.isKeystoreJson=er.decryptCrowdsaleJson=er.isCrowdsaleJson=er.HDNodeVoidWallet=er.HDNodeWallet=er.getIndexedAccountPath=er.getAccountPath=er.defaultPath=er.BaseWallet=void 0;var O_e=z8();Object.defineProperty(er,"BaseWallet",{enumerable:!0,get:function(){return O_e.BaseWallet}});var _P=N9();Object.defineProperty(er,"defaultPath",{enumerable:!0,get:function(){return _P.defaultPath}});Object.defineProperty(er,"getAccountPath",{enumerable:!0,get:function(){return _P.getAccountPath}});Object.defineProperty(er,"getIndexedAccountPath",{enumerable:!0,get:function(){return _P.getIndexedAccountPath}});Object.defineProperty(er,"HDNodeWallet",{enumerable:!0,get:function(){return _P.HDNodeWallet}});Object.defineProperty(er,"HDNodeVoidWallet",{enumerable:!0,get:function(){return _P.HDNodeVoidWallet}});var BY=R9();Object.defineProperty(er,"isCrowdsaleJson",{enumerable:!0,get:function(){return BY.isCrowdsaleJson}});Object.defineProperty(er,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return BY.decryptCrowdsaleJson}});var vP=rT();Object.defineProperty(er,"isKeystoreJson",{enumerable:!0,get:function(){return vP.isKeystoreJson}});Object.defineProperty(er,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return vP.decryptKeystoreJsonSync}});Object.defineProperty(er,"decryptKeystoreJson",{enumerable:!0,get:function(){return vP.decryptKeystoreJson}});Object.defineProperty(er,"encryptKeystoreJson",{enumerable:!0,get:function(){return vP.encryptKeystoreJson}});Object.defineProperty(er,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return vP.encryptKeystoreJsonSync}});var T_e=Y8();Object.defineProperty(er,"Mnemonic",{enumerable:!0,get:function(){return T_e.Mnemonic}});var N_e=RY();Object.defineProperty(er,"Wallet",{enumerable:!0,get:function(){return N_e.Wallet}})});var MY=M(uT=>{y();b();Object.defineProperty(uT,"__esModule",{value:!0});uT.decodeBits=void 0;var C_e=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function R_e(r,e){let t=(1<<r)-1,n=[],s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|C_e.indexOf(e[a]),i+=6;i>=r;){let c=s>>i-r;s&=(1<<i-r)-1,i-=r,c===0?o+=t:(n.push(c+o),o=0)}return n}uT.decodeBits=R_e});var jY=M(fT=>{y();b();Object.defineProperty(fT,"__esModule",{value:!0});fT.decodeOwlA=void 0;var B_e=ge(),I_e=MY(),M_e=m9();function j_e(r,e){let t=(0,M_e.decodeOwl)(r).join(",");return e.split(/,/g).forEach(n=>{let s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,B_e.assertArgument)(s!==null,"internal error parsing accents","accents",e);let i=0,o=(0,I_e.decodeBits)(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(f,g)=>(--o[i]===0&&(g=String.fromCharCode(g.charCodeAt(0),a),i++),g))}),t.split(",")}fT.decodeOwlA=j_e});var FY=M(lT=>{y();b();Object.defineProperty(lT,"__esModule",{value:!0});lT.WordlistOwlA=void 0;var F_e=Z8(),L_e=jY(),PP,j9=class extends F_e.WordlistOwl{constructor(t,n,s,i){super(t,n,i);T(this,PP,void 0);w(this,PP,s)}get _accent(){return h(this,PP)}_decodeWords(){return(0,L_e.decodeOwlA)(this._data,this._accent)}};PP=new WeakMap;lT.WordlistOwlA=j9});var LY=M(dT=>{y();b();Object.defineProperty(dT,"__esModule",{value:!0});dT.wordlists=void 0;var U_e=yP();dT.wordlists={en:U_e.LangEn.wordlist()}});var UY=M(ra=>{y();b();Object.defineProperty(ra,"__esModule",{value:!0});ra.wordlists=ra.WordlistOwlA=ra.WordlistOwl=ra.LangEn=ra.Wordlist=void 0;var D_e=b9();Object.defineProperty(ra,"Wordlist",{enumerable:!0,get:function(){return D_e.Wordlist}});var q_e=yP();Object.defineProperty(ra,"LangEn",{enumerable:!0,get:function(){return q_e.LangEn}});var H_e=Z8();Object.defineProperty(ra,"WordlistOwl",{enumerable:!0,get:function(){return H_e.WordlistOwl}});var G_e=FY();Object.defineProperty(ra,"WordlistOwlA",{enumerable:!0,get:function(){return G_e.WordlistOwlA}});var K_e=LY();Object.defineProperty(ra,"wordlists",{enumerable:!0,get:function(){return K_e.wordlists}})});var F9=M(I=>{y();b();Object.defineProperty(I,"__esModule",{value:!0});I.ripemd160=I.keccak256=I.randomBytes=I.computeHmac=I.UndecodedEventLog=I.EventLog=I.ContractUnknownEventPayload=I.ContractTransactionResponse=I.ContractTransactionReceipt=I.ContractEventPayload=I.ContractFactory=I.Contract=I.BaseContract=I.MessagePrefix=I.EtherSymbol=I.ZeroHash=I.N=I.MaxInt256=I.MinInt256=I.MaxUint256=I.WeiPerEther=I.ZeroAddress=I.resolveAddress=I.isAddress=I.isAddressable=I.getCreate2Address=I.getCreateAddress=I.getIcapAddress=I.getAddress=I.Typed=I.TransactionDescription=I.Result=I.LogDescription=I.Interface=I.Indexed=I.ErrorDescription=I.checkResultErrors=I.StructFragment=I.ParamType=I.NamedFragment=I.FunctionFragment=I.FallbackFragment=I.Fragment=I.EventFragment=I.ErrorFragment=I.ConstructorFragment=I.AbiCoder=I.encodeBytes32String=I.decodeBytes32String=I.version=void 0;I.EnsPlugin=I.Network=I.EnsResolver=I.WebSocketProvider=I.SocketProvider=I.IpcSocketProvider=I.QuickNodeProvider=I.PocketProvider=I.InfuraWebSocketProvider=I.InfuraProvider=I.EtherscanProvider=I.CloudflareProvider=I.ChainstackProvider=I.AnkrProvider=I.AlchemyProvider=I.BrowserProvider=I.JsonRpcSigner=I.JsonRpcProvider=I.JsonRpcApiProvider=I.FallbackProvider=I.AbstractProvider=I.VoidSigner=I.NonceManager=I.AbstractSigner=I.TransactionResponse=I.TransactionReceipt=I.Log=I.FeeData=I.Block=I.getDefaultProvider=I.verifyTypedData=I.TypedDataEncoder=I.solidityPackedSha256=I.solidityPackedKeccak256=I.solidityPacked=I.verifyMessage=I.hashMessage=I.dnsEncode=I.namehash=I.isValidName=I.ensNormalize=I.id=I.SigningKey=I.Signature=I.lock=I.scryptSync=I.scrypt=I.pbkdf2=I.sha512=I.sha256=void 0;I.getUint=I.getNumber=I.getBigInt=I.FixedNumber=I.FetchCancelSignal=I.FetchResponse=I.FetchRequest=I.EventPayload=I.isError=I.isCallException=I.makeError=I.assertPrivate=I.assertNormalize=I.assertArgumentCount=I.assertArgument=I.assert=I.resolveProperties=I.defineProperties=I.zeroPadValue=I.zeroPadBytes=I.stripZerosLeft=I.isBytesLike=I.isHexString=I.hexlify=I.getBytesCopy=I.getBytes=I.dataSlice=I.dataLength=I.concat=I.encodeBase64=I.decodeBase64=I.encodeBase58=I.decodeBase58=I.Transaction=I.recoverAddress=I.computeAddress=I.accessListify=I.showThrottleMessage=I.copyRequest=I.UnmanagedSubscriber=I.SocketSubscriber=I.SocketPendingSubscriber=I.SocketEventSubscriber=I.SocketBlockSubscriber=I.MulticoinProviderPlugin=I.NetworkPlugin=I.GasCostPlugin=I.FetchUrlFeeDataNetworkPlugin=I.FeeDataNetworkPlugin=I.EtherscanPlugin=void 0;I.wordlists=I.WordlistOwlA=I.WordlistOwl=I.LangEn=I.Wordlist=I.encryptKeystoreJsonSync=I.encryptKeystoreJson=I.decryptKeystoreJson=I.decryptKeystoreJsonSync=I.decryptCrowdsaleJson=I.isKeystoreJson=I.isCrowdsaleJson=I.getIndexedAccountPath=I.getAccountPath=I.defaultPath=I.Wallet=I.HDNodeVoidWallet=I.HDNodeWallet=I.BaseWallet=I.Mnemonic=I.uuidV4=I.encodeRlp=I.decodeRlp=I.Utf8ErrorFuncs=I.toUtf8String=I.toUtf8CodePoints=I.toUtf8Bytes=I.parseUnits=I.formatUnits=I.parseEther=I.formatEther=I.mask=I.toTwos=I.fromTwos=I.toQuantity=I.toNumber=I.toBeHex=I.toBigInt=I.toBeArray=void 0;var V_e=z6();Object.defineProperty(I,"version",{enumerable:!0,get:function(){return V_e.version}});var mn=Dx();Object.defineProperty(I,"decodeBytes32String",{enumerable:!0,get:function(){return mn.decodeBytes32String}});Object.defineProperty(I,"encodeBytes32String",{enumerable:!0,get:function(){return mn.encodeBytes32String}});Object.defineProperty(I,"AbiCoder",{enumerable:!0,get:function(){return mn.AbiCoder}});Object.defineProperty(I,"ConstructorFragment",{enumerable:!0,get:function(){return mn.ConstructorFragment}});Object.defineProperty(I,"ErrorFragment",{enumerable:!0,get:function(){return mn.ErrorFragment}});Object.defineProperty(I,"EventFragment",{enumerable:!0,get:function(){return mn.EventFragment}});Object.defineProperty(I,"Fragment",{enumerable:!0,get:function(){return mn.Fragment}});Object.defineProperty(I,"FallbackFragment",{enumerable:!0,get:function(){return mn.FallbackFragment}});Object.defineProperty(I,"FunctionFragment",{enumerable:!0,get:function(){return mn.FunctionFragment}});Object.defineProperty(I,"NamedFragment",{enumerable:!0,get:function(){return mn.NamedFragment}});Object.defineProperty(I,"ParamType",{enumerable:!0,get:function(){return mn.ParamType}});Object.defineProperty(I,"StructFragment",{enumerable:!0,get:function(){return mn.StructFragment}});Object.defineProperty(I,"checkResultErrors",{enumerable:!0,get:function(){return mn.checkResultErrors}});Object.defineProperty(I,"ErrorDescription",{enumerable:!0,get:function(){return mn.ErrorDescription}});Object.defineProperty(I,"Indexed",{enumerable:!0,get:function(){return mn.Indexed}});Object.defineProperty(I,"Interface",{enumerable:!0,get:function(){return mn.Interface}});Object.defineProperty(I,"LogDescription",{enumerable:!0,get:function(){return mn.LogDescription}});Object.defineProperty(I,"Result",{enumerable:!0,get:function(){return mn.Result}});Object.defineProperty(I,"TransactionDescription",{enumerable:!0,get:function(){return mn.TransactionDescription}});Object.defineProperty(I,"Typed",{enumerable:!0,get:function(){return mn.Typed}});var Ug=En();Object.defineProperty(I,"getAddress",{enumerable:!0,get:function(){return Ug.getAddress}});Object.defineProperty(I,"getIcapAddress",{enumerable:!0,get:function(){return Ug.getIcapAddress}});Object.defineProperty(I,"getCreateAddress",{enumerable:!0,get:function(){return Ug.getCreateAddress}});Object.defineProperty(I,"getCreate2Address",{enumerable:!0,get:function(){return Ug.getCreate2Address}});Object.defineProperty(I,"isAddressable",{enumerable:!0,get:function(){return Ug.isAddressable}});Object.defineProperty(I,"isAddress",{enumerable:!0,get:function(){return Ug.isAddress}});Object.defineProperty(I,"resolveAddress",{enumerable:!0,get:function(){return Ug.resolveAddress}});var zf=ux();Object.defineProperty(I,"ZeroAddress",{enumerable:!0,get:function(){return zf.ZeroAddress}});Object.defineProperty(I,"WeiPerEther",{enumerable:!0,get:function(){return zf.WeiPerEther}});Object.defineProperty(I,"MaxUint256",{enumerable:!0,get:function(){return zf.MaxUint256}});Object.defineProperty(I,"MinInt256",{enumerable:!0,get:function(){return zf.MinInt256}});Object.defineProperty(I,"MaxInt256",{enumerable:!0,get:function(){return zf.MaxInt256}});Object.defineProperty(I,"N",{enumerable:!0,get:function(){return zf.N}});Object.defineProperty(I,"ZeroHash",{enumerable:!0,get:function(){return zf.ZeroHash}});Object.defineProperty(I,"EtherSymbol",{enumerable:!0,get:function(){return zf.EtherSymbol}});Object.defineProperty(I,"MessagePrefix",{enumerable:!0,get:function(){return zf.MessagePrefix}});var Jf=j2();Object.defineProperty(I,"BaseContract",{enumerable:!0,get:function(){return Jf.BaseContract}});Object.defineProperty(I,"Contract",{enumerable:!0,get:function(){return Jf.Contract}});Object.defineProperty(I,"ContractFactory",{enumerable:!0,get:function(){return Jf.ContractFactory}});Object.defineProperty(I,"ContractEventPayload",{enumerable:!0,get:function(){return Jf.ContractEventPayload}});Object.defineProperty(I,"ContractTransactionReceipt",{enumerable:!0,get:function(){return Jf.ContractTransactionReceipt}});Object.defineProperty(I,"ContractTransactionResponse",{enumerable:!0,get:function(){return Jf.ContractTransactionResponse}});Object.defineProperty(I,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return Jf.ContractUnknownEventPayload}});Object.defineProperty(I,"EventLog",{enumerable:!0,get:function(){return Jf.EventLog}});Object.defineProperty(I,"UndecodedEventLog",{enumerable:!0,get:function(){return Jf.UndecodedEventLog}});var na=Un();Object.defineProperty(I,"computeHmac",{enumerable:!0,get:function(){return na.computeHmac}});Object.defineProperty(I,"randomBytes",{enumerable:!0,get:function(){return na.randomBytes}});Object.defineProperty(I,"keccak256",{enumerable:!0,get:function(){return na.keccak256}});Object.defineProperty(I,"ripemd160",{enumerable:!0,get:function(){return na.ripemd160}});Object.defineProperty(I,"sha256",{enumerable:!0,get:function(){return na.sha256}});Object.defineProperty(I,"sha512",{enumerable:!0,get:function(){return na.sha512}});Object.defineProperty(I,"pbkdf2",{enumerable:!0,get:function(){return na.pbkdf2}});Object.defineProperty(I,"scrypt",{enumerable:!0,get:function(){return na.scrypt}});Object.defineProperty(I,"scryptSync",{enumerable:!0,get:function(){return na.scryptSync}});Object.defineProperty(I,"lock",{enumerable:!0,get:function(){return na.lock}});Object.defineProperty(I,"Signature",{enumerable:!0,get:function(){return na.Signature}});Object.defineProperty(I,"SigningKey",{enumerable:!0,get:function(){return na.SigningKey}});var sa=pu();Object.defineProperty(I,"id",{enumerable:!0,get:function(){return sa.id}});Object.defineProperty(I,"ensNormalize",{enumerable:!0,get:function(){return sa.ensNormalize}});Object.defineProperty(I,"isValidName",{enumerable:!0,get:function(){return sa.isValidName}});Object.defineProperty(I,"namehash",{enumerable:!0,get:function(){return sa.namehash}});Object.defineProperty(I,"dnsEncode",{enumerable:!0,get:function(){return sa.dnsEncode}});Object.defineProperty(I,"hashMessage",{enumerable:!0,get:function(){return sa.hashMessage}});Object.defineProperty(I,"verifyMessage",{enumerable:!0,get:function(){return sa.verifyMessage}});Object.defineProperty(I,"solidityPacked",{enumerable:!0,get:function(){return sa.solidityPacked}});Object.defineProperty(I,"solidityPackedKeccak256",{enumerable:!0,get:function(){return sa.solidityPackedKeccak256}});Object.defineProperty(I,"solidityPackedSha256",{enumerable:!0,get:function(){return sa.solidityPackedSha256}});Object.defineProperty(I,"TypedDataEncoder",{enumerable:!0,get:function(){return sa.TypedDataEncoder}});Object.defineProperty(I,"verifyTypedData",{enumerable:!0,get:function(){return sa.verifyTypedData}});var Le=K8();Object.defineProperty(I,"getDefaultProvider",{enumerable:!0,get:function(){return Le.getDefaultProvider}});Object.defineProperty(I,"Block",{enumerable:!0,get:function(){return Le.Block}});Object.defineProperty(I,"FeeData",{enumerable:!0,get:function(){return Le.FeeData}});Object.defineProperty(I,"Log",{enumerable:!0,get:function(){return Le.Log}});Object.defineProperty(I,"TransactionReceipt",{enumerable:!0,get:function(){return Le.TransactionReceipt}});Object.defineProperty(I,"TransactionResponse",{enumerable:!0,get:function(){return Le.TransactionResponse}});Object.defineProperty(I,"AbstractSigner",{enumerable:!0,get:function(){return Le.AbstractSigner}});Object.defineProperty(I,"NonceManager",{enumerable:!0,get:function(){return Le.NonceManager}});Object.defineProperty(I,"VoidSigner",{enumerable:!0,get:function(){return Le.VoidSigner}});Object.defineProperty(I,"AbstractProvider",{enumerable:!0,get:function(){return Le.AbstractProvider}});Object.defineProperty(I,"FallbackProvider",{enumerable:!0,get:function(){return Le.FallbackProvider}});Object.defineProperty(I,"JsonRpcApiProvider",{enumerable:!0,get:function(){return Le.JsonRpcApiProvider}});Object.defineProperty(I,"JsonRpcProvider",{enumerable:!0,get:function(){return Le.JsonRpcProvider}});Object.defineProperty(I,"JsonRpcSigner",{enumerable:!0,get:function(){return Le.JsonRpcSigner}});Object.defineProperty(I,"BrowserProvider",{enumerable:!0,get:function(){return Le.BrowserProvider}});Object.defineProperty(I,"AlchemyProvider",{enumerable:!0,get:function(){return Le.AlchemyProvider}});Object.defineProperty(I,"AnkrProvider",{enumerable:!0,get:function(){return Le.AnkrProvider}});Object.defineProperty(I,"ChainstackProvider",{enumerable:!0,get:function(){return Le.ChainstackProvider}});Object.defineProperty(I,"CloudflareProvider",{enumerable:!0,get:function(){return Le.CloudflareProvider}});Object.defineProperty(I,"EtherscanProvider",{enumerable:!0,get:function(){return Le.EtherscanProvider}});Object.defineProperty(I,"InfuraProvider",{enumerable:!0,get:function(){return Le.InfuraProvider}});Object.defineProperty(I,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return Le.InfuraWebSocketProvider}});Object.defineProperty(I,"PocketProvider",{enumerable:!0,get:function(){return Le.PocketProvider}});Object.defineProperty(I,"QuickNodeProvider",{enumerable:!0,get:function(){return Le.QuickNodeProvider}});Object.defineProperty(I,"IpcSocketProvider",{enumerable:!0,get:function(){return Le.IpcSocketProvider}});Object.defineProperty(I,"SocketProvider",{enumerable:!0,get:function(){return Le.SocketProvider}});Object.defineProperty(I,"WebSocketProvider",{enumerable:!0,get:function(){return Le.WebSocketProvider}});Object.defineProperty(I,"EnsResolver",{enumerable:!0,get:function(){return Le.EnsResolver}});Object.defineProperty(I,"Network",{enumerable:!0,get:function(){return Le.Network}});Object.defineProperty(I,"EnsPlugin",{enumerable:!0,get:function(){return Le.EnsPlugin}});Object.defineProperty(I,"EtherscanPlugin",{enumerable:!0,get:function(){return Le.EtherscanPlugin}});Object.defineProperty(I,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return Le.FeeDataNetworkPlugin}});Object.defineProperty(I,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return Le.FetchUrlFeeDataNetworkPlugin}});Object.defineProperty(I,"GasCostPlugin",{enumerable:!0,get:function(){return Le.GasCostPlugin}});Object.defineProperty(I,"NetworkPlugin",{enumerable:!0,get:function(){return Le.NetworkPlugin}});Object.defineProperty(I,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return Le.MulticoinProviderPlugin}});Object.defineProperty(I,"SocketBlockSubscriber",{enumerable:!0,get:function(){return Le.SocketBlockSubscriber}});Object.defineProperty(I,"SocketEventSubscriber",{enumerable:!0,get:function(){return Le.SocketEventSubscriber}});Object.defineProperty(I,"SocketPendingSubscriber",{enumerable:!0,get:function(){return Le.SocketPendingSubscriber}});Object.defineProperty(I,"SocketSubscriber",{enumerable:!0,get:function(){return Le.SocketSubscriber}});Object.defineProperty(I,"UnmanagedSubscriber",{enumerable:!0,get:function(){return Le.UnmanagedSubscriber}});Object.defineProperty(I,"copyRequest",{enumerable:!0,get:function(){return Le.copyRequest}});Object.defineProperty(I,"showThrottleMessage",{enumerable:!0,get:function(){return Le.showThrottleMessage}});var hT=mi();Object.defineProperty(I,"accessListify",{enumerable:!0,get:function(){return hT.accessListify}});Object.defineProperty(I,"computeAddress",{enumerable:!0,get:function(){return hT.computeAddress}});Object.defineProperty(I,"recoverAddress",{enumerable:!0,get:function(){return hT.recoverAddress}});Object.defineProperty(I,"Transaction",{enumerable:!0,get:function(){return hT.Transaction}});var Ee=ge();Object.defineProperty(I,"decodeBase58",{enumerable:!0,get:function(){return Ee.decodeBase58}});Object.defineProperty(I,"encodeBase58",{enumerable:!0,get:function(){return Ee.encodeBase58}});Object.defineProperty(I,"decodeBase64",{enumerable:!0,get:function(){return Ee.decodeBase64}});Object.defineProperty(I,"encodeBase64",{enumerable:!0,get:function(){return Ee.encodeBase64}});Object.defineProperty(I,"concat",{enumerable:!0,get:function(){return Ee.concat}});Object.defineProperty(I,"dataLength",{enumerable:!0,get:function(){return Ee.dataLength}});Object.defineProperty(I,"dataSlice",{enumerable:!0,get:function(){return Ee.dataSlice}});Object.defineProperty(I,"getBytes",{enumerable:!0,get:function(){return Ee.getBytes}});Object.defineProperty(I,"getBytesCopy",{enumerable:!0,get:function(){return Ee.getBytesCopy}});Object.defineProperty(I,"hexlify",{enumerable:!0,get:function(){return Ee.hexlify}});Object.defineProperty(I,"isHexString",{enumerable:!0,get:function(){return Ee.isHexString}});Object.defineProperty(I,"isBytesLike",{enumerable:!0,get:function(){return Ee.isBytesLike}});Object.defineProperty(I,"stripZerosLeft",{enumerable:!0,get:function(){return Ee.stripZerosLeft}});Object.defineProperty(I,"zeroPadBytes",{enumerable:!0,get:function(){return Ee.zeroPadBytes}});Object.defineProperty(I,"zeroPadValue",{enumerable:!0,get:function(){return Ee.zeroPadValue}});Object.defineProperty(I,"defineProperties",{enumerable:!0,get:function(){return Ee.defineProperties}});Object.defineProperty(I,"resolveProperties",{enumerable:!0,get:function(){return Ee.resolveProperties}});Object.defineProperty(I,"assert",{enumerable:!0,get:function(){return Ee.assert}});Object.defineProperty(I,"assertArgument",{enumerable:!0,get:function(){return Ee.assertArgument}});Object.defineProperty(I,"assertArgumentCount",{enumerable:!0,get:function(){return Ee.assertArgumentCount}});Object.defineProperty(I,"assertNormalize",{enumerable:!0,get:function(){return Ee.assertNormalize}});Object.defineProperty(I,"assertPrivate",{enumerable:!0,get:function(){return Ee.assertPrivate}});Object.defineProperty(I,"makeError",{enumerable:!0,get:function(){return Ee.makeError}});Object.defineProperty(I,"isCallException",{enumerable:!0,get:function(){return Ee.isCallException}});Object.defineProperty(I,"isError",{enumerable:!0,get:function(){return Ee.isError}});Object.defineProperty(I,"EventPayload",{enumerable:!0,get:function(){return Ee.EventPayload}});Object.defineProperty(I,"FetchRequest",{enumerable:!0,get:function(){return Ee.FetchRequest}});Object.defineProperty(I,"FetchResponse",{enumerable:!0,get:function(){return Ee.FetchResponse}});Object.defineProperty(I,"FetchCancelSignal",{enumerable:!0,get:function(){return Ee.FetchCancelSignal}});Object.defineProperty(I,"FixedNumber",{enumerable:!0,get:function(){return Ee.FixedNumber}});Object.defineProperty(I,"getBigInt",{enumerable:!0,get:function(){return Ee.getBigInt}});Object.defineProperty(I,"getNumber",{enumerable:!0,get:function(){return Ee.getNumber}});Object.defineProperty(I,"getUint",{enumerable:!0,get:function(){return Ee.getUint}});Object.defineProperty(I,"toBeArray",{enumerable:!0,get:function(){return Ee.toBeArray}});Object.defineProperty(I,"toBigInt",{enumerable:!0,get:function(){return Ee.toBigInt}});Object.defineProperty(I,"toBeHex",{enumerable:!0,get:function(){return Ee.toBeHex}});Object.defineProperty(I,"toNumber",{enumerable:!0,get:function(){return Ee.toNumber}});Object.defineProperty(I,"toQuantity",{enumerable:!0,get:function(){return Ee.toQuantity}});Object.defineProperty(I,"fromTwos",{enumerable:!0,get:function(){return Ee.fromTwos}});Object.defineProperty(I,"toTwos",{enumerable:!0,get:function(){return Ee.toTwos}});Object.defineProperty(I,"mask",{enumerable:!0,get:function(){return Ee.mask}});Object.defineProperty(I,"formatEther",{enumerable:!0,get:function(){return Ee.formatEther}});Object.defineProperty(I,"parseEther",{enumerable:!0,get:function(){return Ee.parseEther}});Object.defineProperty(I,"formatUnits",{enumerable:!0,get:function(){return Ee.formatUnits}});Object.defineProperty(I,"parseUnits",{enumerable:!0,get:function(){return Ee.parseUnits}});Object.defineProperty(I,"toUtf8Bytes",{enumerable:!0,get:function(){return Ee.toUtf8Bytes}});Object.defineProperty(I,"toUtf8CodePoints",{enumerable:!0,get:function(){return Ee.toUtf8CodePoints}});Object.defineProperty(I,"toUtf8String",{enumerable:!0,get:function(){return Ee.toUtf8String}});Object.defineProperty(I,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return Ee.Utf8ErrorFuncs}});Object.defineProperty(I,"decodeRlp",{enumerable:!0,get:function(){return Ee.decodeRlp}});Object.defineProperty(I,"encodeRlp",{enumerable:!0,get:function(){return Ee.encodeRlp}});Object.defineProperty(I,"uuidV4",{enumerable:!0,get:function(){return Ee.uuidV4}});var Ws=IY();Object.defineProperty(I,"Mnemonic",{enumerable:!0,get:function(){return Ws.Mnemonic}});Object.defineProperty(I,"BaseWallet",{enumerable:!0,get:function(){return Ws.BaseWallet}});Object.defineProperty(I,"HDNodeWallet",{enumerable:!0,get:function(){return Ws.HDNodeWallet}});Object.defineProperty(I,"HDNodeVoidWallet",{enumerable:!0,get:function(){return Ws.HDNodeVoidWallet}});Object.defineProperty(I,"Wallet",{enumerable:!0,get:function(){return Ws.Wallet}});Object.defineProperty(I,"defaultPath",{enumerable:!0,get:function(){return Ws.defaultPath}});Object.defineProperty(I,"getAccountPath",{enumerable:!0,get:function(){return Ws.getAccountPath}});Object.defineProperty(I,"getIndexedAccountPath",{enumerable:!0,get:function(){return Ws.getIndexedAccountPath}});Object.defineProperty(I,"isCrowdsaleJson",{enumerable:!0,get:function(){return Ws.isCrowdsaleJson}});Object.defineProperty(I,"isKeystoreJson",{enumerable:!0,get:function(){return Ws.isKeystoreJson}});Object.defineProperty(I,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return Ws.decryptCrowdsaleJson}});Object.defineProperty(I,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return Ws.decryptKeystoreJsonSync}});Object.defineProperty(I,"decryptKeystoreJson",{enumerable:!0,get:function(){return Ws.decryptKeystoreJson}});Object.defineProperty(I,"encryptKeystoreJson",{enumerable:!0,get:function(){return Ws.encryptKeystoreJson}});Object.defineProperty(I,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return Ws.encryptKeystoreJsonSync}});var AP=UY();Object.defineProperty(I,"Wordlist",{enumerable:!0,get:function(){return AP.Wordlist}});Object.defineProperty(I,"LangEn",{enumerable:!0,get:function(){return AP.LangEn}});Object.defineProperty(I,"WordlistOwl",{enumerable:!0,get:function(){return AP.WordlistOwl}});Object.defineProperty(I,"WordlistOwlA",{enumerable:!0,get:function(){return AP.WordlistOwlA}});Object.defineProperty(I,"wordlists",{enumerable:!0,get:function(){return AP.wordlists}})});var SP=M(EP=>{y();b();Object.defineProperty(EP,"__esModule",{value:!0});EP.ethers=void 0;var DY=Xz(),z_e=DY.__importStar(F9());EP.ethers=z_e;DY.__exportStar(F9(),EP)});var L9=M(Zd=>{y();b();var J_e=Zd&&Zd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zd,"__esModule",{value:!0});Zd.decryptKeystoreListSync=Zd.decryptKeystoreList=void 0;var D1=SP(),gT=J_e(_T()),pT=Hh();function W_e(r,e,t){let n=JSON.parse(r),s=(0,pT.splitKeystoreKIP3)(r),i=s.length,o=gT.default.map(s,(a,c)=>{let f=(0,D1.decryptKeystoreJsonSync)(a,e);return t&&t((c+1)/i),f});return Promise.resolve({address:(0,D1.getAddress)(n.address),privateKey:o[0].privateKey,privateKeyList:gT.default.map(o,a=>a.privateKey)})}function $_e(r,e){let t=JSON.parse(r),n=(0,pT.splitKeystoreKIP3)(r),s=gT.default.map(n,i=>(0,D1.decryptKeystoreJsonSync)(i,e));return{address:(0,D1.getAddress)(t.address),privateKey:s[0].privateKey,privateKeyList:gT.default.map(s,i=>i.privateKey)}}function Z_e(r,e,t){return(0,pT.isKIP3Json)(r)?W_e(r,e,t):(0,D1.decryptKeystoreJson)(r,e,t).then(n=>({address:n.address,privateKey:n.privateKey,privateKeyList:[n.privateKey]}))}Zd.decryptKeystoreList=Z_e;function Q_e(r,e){if((0,pT.isKIP3Json)(r))return $_e(r,e);{let t=(0,D1.decryptKeystoreJsonSync)(r,e);return{address:t.address,privateKey:t.privateKey,privateKeyList:[t.privateKey]}}}Zd.decryptKeystoreListSync=Q_e});var D9=M(yr=>{y();b();var X_e=yr&&yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});yr.poll=yr.sleep=yr.populateFeePayerAndSignatures=yr.populateChainId=yr.eip155sign=yr.populateGasPrice=yr.populateGasLimit=yr.populateNonce=yr.populateTo=yr.populateFrom=yr.getTransactionRequest=void 0;var Qd=SP(),U9=X_e(_T()),mT=Hh();async function Y_e(r){if(U9.default.isString(r))return(0,mT.parseTransaction)(r);{if(r instanceof Qd.Transaction)return r.toJSON();let e=await(0,Qd.resolveProperties)(r);return typeof e?.type=="string"&&(e.type=(0,mT.parseTxType)(e.type)),e}}yr.getTransactionRequest=Y_e;async function eve(r,e){!r.from||r.from=="0x"||(0,Qd.assert)(r.from?.toString().toLowerCase()===e?.toLowerCase(),`from address mismatch (wallet address=${e}) (tx.from=${r.from})`,"INVALID_ARGUMENT",{argument:"from",value:r.from}),r.from=e}yr.populateFrom=eve;async function tve(r){!r.to||r.to=="0x"?r.to=Qd.ZeroAddress:r.to=await(0,Qd.resolveAddress)(r.to,null)}yr.populateTo=tve;async function rve(r,e){if(!r.nonce)throw new Error("MISSING_ARGUMENT")}yr.populateNonce=rve;async function nve(r){if(!r.gasLimit)throw new Error("MISSING_ARGUMENT")}yr.populateGasLimit=nve;async function sve(r){if(!r.gasPrice)throw new Error("MISSING_ARGUMENT")}yr.populateGasPrice=sve;function ive(r,e,t){let n=r.sign(e),i=(n.v===27?0:1)+ +t*2+35;return{r:n.r,s:n.s,v:i}}yr.eip155sign=ive;async function ove(r){r.chainId||(r.chainId=(0,mT.getChainIdFromSignatureTuples)(r.txSignatures)??(0,mT.getChainIdFromSignatureTuples)(r.feePayerSignatures))}yr.populateChainId=ove;async function ave(r,e){!r.feePayer||r.feePayer==Qd.ZeroAddress||(0,Qd.assert)(r.feePayer.toLowerCase()===e.toLowerCase(),"feePayer address mismatch","INVALID_ARGUMENT",{argument:"feePayer",value:r.feePayer}),r.feePayer=e,U9.default.isArray(r.feePayerSignatures)&&(r.feePayerSignatures=r.feePayerSignatures.filter(t=>!(U9.default.isArray(t)&&t.length==3&&t[0]=="0x01"&&t[1]=="0x"&&t[2]=="0x")))}yr.populateFeePayerAndSignatures=ave;function qY(r){return new Promise((e,t)=>{setTimeout(()=>e(),r)})}yr.sleep=qY;async function cve(r,e,t=100){let n;for(let s=0;s<t;s++){try{let i=await r();if(i&&e(i)){n=i;break}}catch{continue}await qY(250)}return(0,Qd.assert)(n,"Transaction timeout!","NETWORK_ERROR",{event:"pollTransactionInPool"}),n}yr.poll=cve});var q9=M(q1=>{y();b();var uve=q1&&q1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(q1,"__esModule",{value:!0});q1.Wallet=void 0;var yT=SP(),HY=uve(_T()),ia=Hh(),bT=L9(),zi=D9(),Xd=class extends yT.Wallet{static async fromEncryptedJson(e,t,n){let{address:s,privateKey:i}=await(0,bT.decryptKeystoreList)(e,t,n);return new Xd(s,i)}static fromEncryptedJsonSync(e,t){let{address:n,privateKey:s}=(0,bT.decryptKeystoreListSync)(e,t);return new Xd(n,s)}static async fromEncryptedJsonList(e,t,n){let{address:s,privateKeyList:i}=await(0,bT.decryptKeystoreList)(e,t,n);return HY.default.map(i,o=>new Xd(s,o))}static fromEncryptedJsonListSync(e,t){let{address:n,privateKeyList:s}=(0,bT.decryptKeystoreListSync)(e,t);return HY.default.map(s,i=>new Xd(n,i))}constructor(e,t){if(ia.HexStr.isHex(e,20)){let n=ia.HexStr.from(e),s=t;super(s),this.klaytnAddr=n}else{let n=e;super(n)}}getAddress(e){return e||!this.klaytnAddr?super.getAddress():Promise.resolve(this.klaytnAddr)}getEtherAddress(){return super.getAddress()}decodeTxFromRLP(e){return(0,ia.parseTransaction)(e)}async isDecoupled(){return this.klaytnAddr?await this.getAddress(!1)==await this.getAddress(!0):!1}async populateTransaction(e){return this._populateTransaction(e,!1)}async _populateTransaction(e,t){let n=await(0,zi.getTransactionRequest)(e);if(!(0,ia.isKlaytnTxType)((0,ia.parseTxType)(n.type)))return super.populateTransaction(n);if(t||await(0,zi.populateFrom)(n,await this.getAddress()),await(0,zi.populateTo)(n),n.nonce==null)throw new Error("invalid nonce");if(n.gasLimit==null)throw new Error("invalid gasLimit");if(await(0,zi.populateGasLimit)(n),n.gasPrice==null)throw new Error("invalid gasPrice");if(await(0,zi.populateGasPrice)(n),n.chainId==null)throw new Error("invalid chainId");return await(0,zi.populateChainId)(n),n}async signTransaction(e){let t=await(0,zi.getTransactionRequest)(e);if(!(0,ia.isKlaytnTxType)((0,ia.parseTxType)(t.type)))return super.signTransaction(t);await(0,zi.populateChainId)(t);let n=t.chainId,s=ia.KlaytnTxFactory.fromObject(t),i=(0,yT.keccak256)(s.sigRLP()),o=(0,zi.eip155sign)(this.signingKey,i,Number(n.toString()));return s.addSenderSig(o),(0,ia.isFeePayerSigTxType)(s.type)?s.senderTxHashRLP():s.txHashRLP()}async signTransactionAsFeePayer(e){let t=await(0,zi.getTransactionRequest)(e);(0,yT.assert)((0,ia.isFeePayerSigTxType)((0,ia.parseTxType)(t.type)),`signTransactionAsFeePayer not supported for tx type ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"signTransactionAsFeePayer"}),await(0,zi.populateFeePayerAndSignatures)(t,await this.getAddress()),await(0,zi.populateChainId)(t);let n=t.chainId,s=ia.KlaytnTxFactory.fromObject(t),i=(0,yT.keccak256)(s.sigFeePayerRLP()),o=(0,zi.eip155sign)(this.signingKey,i,Number(n));return s.addFeePayerSig(o),s.txHashRLP()}};q1.Wallet=Xd});var KY=M(G1=>{y();b();Object.defineProperty(G1,"__esModule",{value:!0});G1.AccountStore=G1.Accounts=void 0;var Ru=SP(),H9=Hh(),GY=q9();function H1(r,e){return(0,Ru.getAddress)(r)==(0,Ru.getAddress)(e)}function G9(r,e){return(0,Ru.computeAddress)(r)==(0,Ru.computeAddress)(e)}var K9=class{constructor(e){this.wallets=[];for(let t=0;t<e.length;t++)if(e[t]instanceof GY.Wallet)this.wallets.push(e[t]);else if(Array.isArray(e[t]))if(e[t].length==1)this.add([e[t][0]]);else if(e[t].length==2)this.add([e[t][0],e[t][1]]);else throw new Error("Input has to be the array of [address, privateKey] or [privateKey]");else throw new Error("Input has to be Wallet, [address, privateKey], or [privateKey]")}async add(e){let t,n;if(e.length==1){let s=new Ru.SigningKey(e[0]);t=(0,Ru.computeAddress)(s.compressedPublicKey),n=e[0]}else if(e.length==2&&e[1]!=null)t=e[0],n=e[1];else throw new Error("Input has to be [address, privateKey] or [privateKey]");for(let s=0;s<this.wallets.length;s++)if(H1(await this.wallets[s].getAddress(),t)&&G9(this.wallets[s].privateKey,n))return!1;return this.wallets.push(new GY.Wallet(t,n)),!0}async remove(e){let t,n;if(e.length==1){let s=new Ru.SigningKey(e[0]);t=(0,Ru.computeAddress)(s.compressedPublicKey),n=e[0]}else if(e.length==2&&e[1]!=null)t=e[0],n=e[1];else throw new Error("Input has to be [address, privateKey] or [privateKey]");for(let s=0;s<this.wallets.length;s++)if(H1(await this.wallets[s].getAddress(),t)&&G9(this.wallets[s].privateKey,n))return delete this.wallets[s],this.wallets.splice(s,1),!0;return!1}removeAll(){if(this.wallets.length!=0)for(let e=this.wallets.length-1;e>=0&&e<this.wallets.length;e--)delete this.wallets[e],this.wallets.splice(e,1)}accountByKey(e){let t=[];for(let n=0;n<this.wallets.length;n++)G9(this.wallets[n].privateKey,e)&&t.push(this.wallets[n]);return t}async accountByAddress(e){let t=[];for(let n=0;n<this.wallets.length;n++)H1(await this.wallets[n].getAddress(),e)&&t.push(this.wallets[n]);return t}};G1.Accounts=K9;var V9=class{constructor(){this.signableKeyList=[]}async updateSignableKeyList(){let e;for(e=0;this.accounts!=null&&e<this.accounts.wallets.length;e++){let t=await this.accounts.wallets[e].getEtherAddress();t=String(t).toLocaleLowerCase(),this.hasInSignableKeyList(t)==!1&&this.signableKeyList.push(t)}}hasInSignableKeyList(e){let t=String(e).toLocaleLowerCase();return this.signableKeyList.indexOf(t)!=-1}hasAccountInfos(e){let t;for(t=0;this.accountInfos!=null&&t<this.accountInfos.length;t++)if(H1(this.accountInfos[t].address,e))return!0;return!1}getType(e){let t;for(t=0;this.accountInfos!=null&&t<this.accountInfos.length;t++)if(H1(this.accountInfos[t].address,e))return this.accountInfos[t].key.type;return null}getAccountInfo(e){let t;for(t=0;this.accountInfos!=null&&t<this.accountInfos.length;t++)if(H1(this.accountInfos[t].address,e))return this.accountInfos[t];return null}getAccountInfos(){return this.accountInfos}getPubkeyInfo(e,t){let n=H9.HexStr.zeroPad(e,32),s=H9.HexStr.zeroPad(t,32),i=String(n).substring(2),o=String(s).substring(2),a=Ru.SigningKey.computePublicKey(H9.HexStr.concat("0x04"+i+o),!0),c=(0,Ru.computeAddress)(a),f=this.hasInSignableKeyList(c);return{compressed:a,hashed:c,hasPrivateKey:f}}};G1.AccountStore=V9});var VY=M(yn=>{y();b();var fve=yn&&yn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xT=yn&&yn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fve(e,r,t)};Object.defineProperty(yn,"__esModule",{value:!0});yn.parseTransaction=yn.KlaytnTxFactory=yn.KlaytnTx=yn.AccountKeyFactory=yn.AccountKey=void 0;var kP=Hh();Object.defineProperty(yn,"AccountKey",{enumerable:!0,get:function(){return kP.AccountKey}});Object.defineProperty(yn,"AccountKeyFactory",{enumerable:!0,get:function(){return kP.AccountKeyFactory}});Object.defineProperty(yn,"KlaytnTx",{enumerable:!0,get:function(){return kP.KlaytnTx}});Object.defineProperty(yn,"KlaytnTxFactory",{enumerable:!0,get:function(){return kP.KlaytnTxFactory}});Object.defineProperty(yn,"parseTransaction",{enumerable:!0,get:function(){return kP.parseTransaction}});xT(KY(),yn);xT(L9(),yn);xT(q9(),yn);xT(D9(),yn)});var WY=M(wT=>{y();b();Object.defineProperty(wT,"__esModule",{value:!0});wT.KaiaWallet=void 0;var Sn=Z9(),zY=ZY(),lve=DT(),dve=Vj(),JY=PT(),z9=VY(),hve=Hh(),J9=class extends zY.EthWallet{async getNewAddress(e){let t=e.privateKey;if(!(0,JY.validPrivateKey)(t))throw new Error("invalid key");try{let s=Sn.base.fromHex(t.toLowerCase());(0,Sn.assertBufferLength)(s,32);let i=new z9.Wallet(t);return Promise.resolve({address:await i.getAddress(),publicKey:i.signingKey.publicKey})}catch{}return Promise.reject(Sn.NewAddressError)}async validPrivateKey(e){let n={isValid:(0,JY.validPrivateKey)(e.privateKey),privateKey:e.privateKey};return Promise.resolve(n)}async validAddress(e){let t=!1,n;try{n=(0,lve.getAddress)(e.address),t=!0}catch{t=!1}return Promise.resolve({isValid:t,address:n})}convert2HexString(e){let t;return Sn.BigNumber.isBigNumber(e)?t=e:t=new Sn.BigNumber(e),Sn.base.toBigIntHex(t)}convert2KaiaTxParam(e){if(!e.gasPrice||!e.gasLimit)throw new Error("invalid parameter");return{kaiaTxType:e.kaiaTxType,feePayer:e.feePayer,senderRawTx:e.senderRawTx,from:e.from,to:e.to,value:this.convert2HexString(e.value||0),nonce:e.nonce,contractAddress:e.contractAddress,gasPrice:this.convert2HexString(e.gasPrice||0),gasLimit:this.convert2HexString(e.gasLimit||0),data:e.data,humanReadable:e.humanReadable,codeFormat:e.codeFormat,key:e.key,chainId:this.convert2HexString(e.chainId||1),type:e.type||0,maxPriorityFeePerGas:this.convert2HexString(e.maxPriorityFeePerGas||0),maxFeePerGas:this.convert2HexString(e.maxFeePerGas||0),feeRatio:e.feeRatio}}async signTransaction(e){try{let t=e.privateKey;if(t&&(0,Sn.assertBufferLength)(Sn.base.fromHex(t),32),e.data.senderRawTx)return new z9.Wallet(e.privateKey).signTransactionAsFeePayer(e.data.senderRawTx);if(e.data.kaiaTxType){let n=new z9.Wallet(e.privateKey),s=this.convert2KaiaTxParam(e.data),i={type:s.kaiaTxType,chainId:s.chainId,from:s.from,nonce:s.nonce,to:s.to,data:s.data,humanReadable:s.humanReadable,codeFormat:s.codeFormat,key:s.key,value:s.value,gasLimit:s.gasLimit,gasPrice:s.gasPrice,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas,feeRatio:s.feeRatio},o=await n.populateTransaction(i);return Promise.resolve(n.signTransaction(o))}else return super.signTransaction(e)}catch{return Promise.reject(Sn.SignTxError)}}getAddressByPublicKey(e){return Promise.resolve((0,dve.computeAddress)(Sn.base.fromHex(e.publicKey)))}async getMPCRawTransaction(e){return Promise.reject(Sn.GetMpcRawTransactionError)}async getMPCTransaction(e){return Promise.reject(Sn.GetMpcTransactionError)}async getMPCRawMessage(e){return Promise.reject(Sn.GetMpcRawTransactionError)}async getMPCSignedMessage(e){return Promise.reject(Sn.GetMpcTransactionError)}async getHardWareRawTransaction(e){return Promise.reject(Sn.GetHardwareRawTransactionError)}async getHardWareSignedTransaction(e){return Promise.reject(Sn.GetHardwareSignedTransactionError)}async calcTxHash(e){let n=hve.KlaytnTxFactory.fromRLP(e.data).txHashRLP();return Promise.resolve(Sn.base.toHex((0,zY.keccak256)(Sn.base.fromHex(n)),!0))}async validSignedTransaction(e){return Promise.reject(Sn.validSignedTransactionError)}};wT.KaiaWallet=J9});var pve=M(Yd=>{y();b();var gve=Yd&&Yd.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$Y=Yd&&Yd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gve(e,r,t)};Object.defineProperty(Yd,"__esModule",{value:!0});$Y(PT(),Yd);$Y(WY(),Yd)});export{pve as a};
//# sourceMappingURL=chunk-OTU4CB3G.js.map
