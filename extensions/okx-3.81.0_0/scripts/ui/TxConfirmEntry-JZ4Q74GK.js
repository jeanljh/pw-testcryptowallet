import{a as so}from"./chunk-WUOLNUZQ.js";import{a as no}from"./chunk-YVVEDZW4.js";import"./chunk-EHX5MFHL.js";import"./chunk-SZVQQMYF.js";import{a as to}from"./chunk-RHD5NVOX.js";import"./chunk-WIHVOXA3.js";import"./chunk-QNQLOUVT.js";import"./chunk-32IFYA56.js";import"./chunk-ZZ5BEB5E.js";import{f as E}from"./chunk-GNGB7SWC.js";import"./chunk-ELXRV4IW.js";import"./chunk-T4CFY3IH.js";import"./chunk-6PSK4535.js";import"./chunk-GCPFAJKK.js";import"./chunk-7OWNMKUE.js";import"./chunk-EDJJACNG.js";import"./chunk-V7XA3BQU.js";import"./chunk-WD3IVQAU.js";import"./chunk-JVF7GJB3.js";import"./chunk-QKPPTYDW.js";import"./chunk-KPUXAS7Z.js";import"./chunk-IN42FW4K.js";import{a as ro}from"./chunk-PQQFVOPL.js";import"./chunk-WST3WRLT.js";import"./chunk-PONOZOFT.js";import"./chunk-5QYLVV6H.js";import"./chunk-I4EML244.js";import"./chunk-TJIPZMF7.js";import"./chunk-57D6LCV2.js";import"./chunk-X7ACMHNF.js";import"./chunk-DEJA7CK3.js";import"./chunk-LS6URCUV.js";import"./chunk-XDEC3ZLT.js";import"./chunk-RGPNT5G7.js";import"./chunk-OQUE64GQ.js";import"./chunk-AQ4KTATJ.js";import"./chunk-Q7DF5H6O.js";import"./chunk-G23O242T.js";import"./chunk-AQO2BBXJ.js";import"./chunk-GWMNMJND.js";import"./chunk-2VUOGSTW.js";import"./chunk-P4PGYDTS.js";import{a as oo}from"./chunk-S7VT2TWF.js";import"./chunk-HBNZZZEG.js";import"./chunk-3W4MTHFJ.js";import"./chunk-L2MGED7F.js";import{g as $}from"./chunk-BNS5ABAB.js";import"./chunk-UFGJXE4D.js";import{a as eo}from"./chunk-7QX2TXNH.js";import"./chunk-LBNBJFSZ.js";import"./chunk-SFA2I2L2.js";import"./chunk-ZDHJHPQ5.js";import"./chunk-ROS2ENQV.js";import"./chunk-DFPRATON.js";import"./chunk-WY5R5HAR.js";import"./chunk-GTQ5U6DA.js";import"./chunk-TE6AOABI.js";import"./chunk-63UDTGAT.js";import"./chunk-AZ2KZKVQ.js";import"./chunk-VCDDTW7H.js";import"./chunk-UULU72LG.js";import"./chunk-3MTWCI34.js";import"./chunk-E6XUX33V.js";import"./chunk-VTMJYROY.js";import"./chunk-ARK47WR5.js";import"./chunk-BEIWULHW.js";import"./chunk-DOCYQV54.js";import"./chunk-6T3CLU73.js";import"./chunk-STXPU7A6.js";import"./chunk-PFSPFZNW.js";import"./chunk-2JC6L37N.js";import"./chunk-BF6TFHGA.js";import"./chunk-57F7LIJM.js";import"./chunk-7OXXN2FT.js";import"./chunk-RK7WST36.js";import"./chunk-7Q4IDC7V.js";import"./chunk-F57QKCZQ.js";import"./chunk-HIVYZXF3.js";import"./chunk-JALTSNOZ.js";import"./chunk-4Y52FA3V.js";import"./chunk-B6WLGAPL.js";import"./chunk-ZYYACLV7.js";import"./chunk-TQMC5UQS.js";import"./chunk-ANWN6BF6.js";import"./chunk-XNP3OGQC.js";import"./chunk-A2QIZMPL.js";import"./chunk-HKU7TMFJ.js";import"./chunk-YTR7GLCK.js";import"./chunk-7I4OPLNV.js";import"./chunk-J3UBL564.js";import"./chunk-YMYQJ726.js";import"./chunk-FGRS6VIX.js";import"./chunk-INIQCRIO.js";import"./chunk-2P6PTKAN.js";import"./chunk-ZFBXO46L.js";import"./chunk-6Z5HVUBK.js";import"./chunk-ZBDGRK4Q.js";import"./chunk-XIYYKWE3.js";import"./chunk-GN2NRAOV.js";import"./chunk-SFFRTMXL.js";import"./chunk-RLY3NWVP.js";import"./chunk-U3KULTRT.js";import"./chunk-55T2IW2N.js";import"./chunk-WVUOJIBP.js";import"./chunk-JBROAQ6E.js";import"./chunk-LBCITKCK.js";import"./chunk-O4O5AL3V.js";import"./chunk-GOYCZBSH.js";import"./chunk-MWGYASV3.js";import"./chunk-34VWYVYX.js";import"./chunk-5TXZN4YC.js";import"./chunk-I56NHY6E.js";import{b as W,c as X,d as Y}from"./chunk-A4VJP6UE.js";import{b as I,d as L}from"./chunk-SQUA6K5B.js";import"./chunk-VEPTXEII.js";import"./chunk-A5U7X3LN.js";import"./chunk-AP337SRV.js";import"./chunk-TF4QEXO7.js";import"./chunk-CHMHYYPI.js";import"./chunk-GDQAWT2G.js";import"./chunk-QJ36ZOFH.js";import"./chunk-7HYQ2DGP.js";import"./chunk-G7XOYBNH.js";import"./chunk-JHO7RU36.js";import"./chunk-UOWKDFTX.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import"./chunk-F2SPBGOT.js";import"./chunk-SYOIP55B.js";import"./chunk-V7ZNWTMX.js";import"./chunk-MSP5TDR3.js";import"./chunk-VWGNVM37.js";import"./chunk-QKBWJPY2.js";import"./chunk-XFPD3Q2E.js";import"./chunk-AFJBSSNA.js";import"./chunk-3ZKJXYZ4.js";import"./chunk-SOSR34AP.js";import"./chunk-EBRJSEEJ.js";import"./chunk-PA7QUJH7.js";import"./chunk-MC7IOE6A.js";import"./chunk-N4IVZOUG.js";import"./chunk-JWVIZID6.js";import"./chunk-47LIW52M.js";import"./chunk-MSFAPAHB.js";import"./chunk-33XRMYWN.js";import{m as J}from"./chunk-ZOKF3EKQ.js";import"./chunk-MDBKHBHQ.js";import"./chunk-WRVJM3F3.js";import"./chunk-NYBKFEEM.js";import"./chunk-XVSXMJ3S.js";import"./chunk-KQ66JTF7.js";import"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import"./chunk-XRCQOGA2.js";import"./chunk-SWUBCABA.js";import"./chunk-DZGSODSZ.js";import"./chunk-QRAFULYC.js";import"./chunk-EEIYH3NC.js";import"./chunk-ITDLKQAF.js";import"./chunk-4W7LQOP5.js";import"./chunk-CIVR4FUI.js";import"./chunk-H7WHTGUY.js";import"./chunk-44SDMU5C.js";import"./chunk-U7IWD6UB.js";import"./chunk-CZBL7QEK.js";import"./chunk-PAJAZXOA.js";import"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import{h as Z}from"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import"./chunk-GCS2RK7E.js";import"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import"./chunk-Z62JX42S.js";import{Na as S}from"./chunk-2QHGKEME.js";import"./chunk-HAHRUU64.js";import"./chunk-B624VS3G.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as Q}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import{Z as q,c as U}from"./chunk-WU2LB6XB.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{Jb as G,Sb as _o,bc as K,nc as bo}from"./chunk-COF7YKSN.js";import{A as H,K as Ao}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{I as V}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-Q3GADXEN.js";import"./chunk-AHVVUOFF.js";import"./chunk-JLNZTUPO.js";import"./chunk-MSZOM4GC.js";import"./chunk-BYVN72KS.js";import"./chunk-ZUJLXC72.js";import"./chunk-DJSNVDZI.js";import{f as F,h as Po}from"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-DIZF7D6Q.js";import"./chunk-JHCCLVAB.js";import"./chunk-W7AONC6R.js";import"./chunk-FOOC6LB7.js";import"./chunk-SEAUBLKM.js";import"./chunk-UP4BZFYG.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{u as N}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import"./chunk-4QGZDIBD.js";import{b as x}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-FYJQM2AY.js";import{b as B}from"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RQWEJ5N6.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-OPJRP6YV.js";import"./chunk-H6JAOQCX.js";import"./chunk-OJXBW2YQ.js";import"./chunk-PDRHBICP.js";import"./chunk-6L3YEHQB.js";import"./chunk-Z2AIGJGI.js";import"./chunk-SLQQVCPY.js";import"./chunk-ZRVP4J67.js";import"./chunk-YSKQ76UN.js";import"./chunk-A3W4ZDEQ.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as n,o as i,q as m}from"./chunk-Y5OH3DDZ.js";i();m();var T=n(x()),To=n(S()),yo=n(Q()),O=n(B());i();m();var v=n(x()),po=n(S());Po();i();m();var ao=n(x()),R=n(S()),io=n(B());var mo=()=>{let p=(0,R.useDispatch)(),e=(0,R.useSelector)(I);return(0,ao.useCallback)((o,s,r)=>{let a=(0,io.cloneDeep)(e||[]),t=a.find(c=>c.approvalAddress===s&&c.chainId===Number(r));if(t){let c=t?.tokens?.map(l=>l.tokenAddress===o?{...l,status:2}:l)||[];t.tokens=c,p(L(a))}},[e])};var Io=({unapproved:p,unapprovedRequests:e})=>{let{chainId:o,approvalAddress:s,tokenAddress:r,coinId:a,txParams:t}=p,c=Z(),l=Number(o)===Number(F.TRX),f=(0,po.useDispatch)(),y=mo(),w=(0,v.useCallback)(()=>{if(e.length===1){f(Y({type:"approve"}));return}let k=e.filter(g=>!(r===g.tokenAddress&&Number(o)===Number(g.chainId)));f(X({type:"approve",data:k}))},[o,f,r,e]),P=async({preExecInfo:k})=>{let g={},A=k?.approveInfoList?.[0];return A?.spender?.approvalType===q&&(g.approvalAddress=A?.spender?.address),{publishParams:g}},u=async()=>{y(r,s,o),w()},_=()=>{w()},[,b]=$(a,{});return l?v.default.createElement(to,{walletId:c,txParams:t,onConfirm:u,onCancel:_}):v.default.createElement(E,{walletId:c,chainId:o,coinId:b?.coinId,txParams:t,onBeforePublish:P,onCancel:_,onConfirm:u})},co=(0,v.memo)(Io);i();m();var C=n(x()),ho=n(Q());Ao();i();m();var fo=n(x()),D=n(S()),uo=n(B());var lo=()=>{let p=(0,D.useDispatch)(),e=(0,D.useSelector)(I);return(0,fo.useCallback)(o=>{let s=(0,uo.cloneDeep)(e||[]),r=s.find(a=>a.type===1);if(r?.chainList?.length){let a=(r?.chainList||[]).map(t=>Number(t.chainIndex)===Number(o)?{...t,status:5}:t);r.chainList=a,p(L(s))}},[e])};bo();_o();i();m();var go=n(x());function Lo({chainId:p,fromAddress:e,inputData:o,upgradeAddress:s}){return(0,go.useMemo)(()=>({from:e,to:e,value:"0x0",data:o,authorizationList:[{chainId:p,address:s}]}),[e,o,p,s])}var vo=Lo;i();m();var xo={loading:"_loading_6vxdb_1"};function So({walletId:p,baseCoinId:e,upgradeAddress:o,inputData:s,needConfirmCallback:r,isUpgrade:a,chainIndex:t}){let c=(0,ho.useHistory)(),l=lo(),{coin:f}=oo(e),y=J(f.localType,p),P=G({localType:f.localType})?.realChainIdHex,{gasLimitParams:u}=no({isUpgrade7702:a,fromAddress:y,localType:f.localType,inputData:s,upgradeAddress:o}),_=vo({chainId:P,upgradeAddress:o,inputData:s,fromAddress:y}),b=(0,C.useMemo)(()=>u?.stateOverrideList?{stateOverrideList:u.stateOverrideList}:{},[u]),k=d=>{let{authorizationList:j,nonce:M,...ko}=d;return{...ko,nonce:M,authorizationList:[{chainId:P,address:o,nonce:ro(M+1),fromAddress:y,walletId:p,localType:f.localType}]}},g=()=>{let d={txType:a?U.UPGRADE_7702:U.REVOKE_7702,txSource:K.NORMAL};return a&&(d.approvalAddress=o),{publishParams:d}},A=()=>{c.goBack()},z=async({error:d})=>{if(d){let j=d.msg||d.message||d.originalError?.message||H("wallet_extension_general_error_extension_code_error");V.error({title:j})}else r&&l(t),A()};return u?C.default.createElement(E,{chainId:f.chainId,walletId:p,interactAddress:a?o:!1,gasLimitParams:u,txParams:_,txToastCheckParams:b,preExecParams:b,showDappInfo:!1,coinId:e,onBeforeSign:k,onBeforePublish:g,onConfirm:z,onCancel:A}):C.default.createElement("div",{className:xo.loading},C.default.createElement(N.Circle,{size:N.SIZE.lg}))}var Co=So;var Eo=()=>{let e=eo().get("type"),o=(0,To.useSelector)(W),s=(0,yo.useHistory)(),r=o[e],t={upgrade7702:Co,approve:co}[e]||null,c=(0,O.isEmpty)(r)||!t;return(0,T.useEffect)(()=>{c&&s.goBack()},[c]),(0,O.isEmpty)(r)?null:T.default.createElement(so,{unapprovedRequests:r,ConfirmComp:t})},De=(0,T.memo)(Eo);export{De as default};
//# sourceMappingURL=TxConfirmEntry-JZ4Q74GK.js.map
