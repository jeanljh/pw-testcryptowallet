import{a as de}from"./chunk-I4EML244.js";import"./chunk-TJIPZMF7.js";import"./chunk-57D6LCV2.js";import{d as me}from"./chunk-ZDHJHPQ5.js";import{a as he}from"./chunk-FTPSEW3D.js";import{a as _e}from"./chunk-N4IRLXLS.js";import{a as ue}from"./chunk-5XDQ7TQF.js";import{a as fe}from"./chunk-PUPWLGRU.js";import"./chunk-OOYDFTEF.js";import"./chunk-JNIP4OYT.js";import{b as p,i as se}from"./chunk-FVCINJIW.js";import{b as z}from"./chunk-VUHYFIVA.js";import"./chunk-DZGSODSZ.js";import"./chunk-EEIYH3NC.js";import"./chunk-CIVR4FUI.js";import{b as ce}from"./chunk-7MCLPJAH.js";import"./chunk-WAIJPY5X.js";import"./chunk-YGMRSF47.js";import"./chunk-6XGS36TZ.js";import"./chunk-M2YY6A5T.js";import"./chunk-XLG73W5Q.js";import{a as ae}from"./chunk-GCS2RK7E.js";import{a as re}from"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{u as j}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as le}from"./chunk-Z62JX42S.js";import{Na as Ve}from"./chunk-2QHGKEME.js";import"./chunk-W4SQ6335.js";import"./chunk-YDSDBRIT.js";import{a as Ye}from"./chunk-6PA65BO3.js";import"./chunk-OIXGC4LI.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import"./chunk-EZS2GR7E.js";import"./chunk-NUN72MDU.js";import"./chunk-BFWVIVOY.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-CP2RIMI2.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import{c as I}from"./chunk-HMTT52FG.js";import"./chunk-45NMMWRA.js";import"./chunk-E4OV5WXB.js";import{b as ie,c as Ue}from"./chunk-GR7YC6C3.js";import{E as ne,J as qe}from"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import"./chunk-COF7YKSN.js";import{A as c,B as $,K as A}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{E as te,G as oe,o as R,q as ee,r as T,y as K}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-AHVVUOFF.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import{J,sa as O,va as We}from"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import{t as X,u as Q,z as C}from"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as G}from"./chunk-4QGZDIBD.js";import{b as F}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-VBZ4JSJ6.js";import"./chunk-LBYXY63E.js";import"./chunk-M4ANCDMF.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as m,o as e,q as t}from"./chunk-Y5OH3DDZ.js";e();t();var n=m(F()),Ie=m(Ve()),je=m(Ye()),we=m(le()),W=m(G());We();A();e();t();var d=m(F());A();e();t();var a={"ok-nft-filter-main":"_ok-nft-filter-main_ihlaj_1",okNftFilterMain:"_ok-nft-filter-main_ihlaj_1","ok-nft-filter-block":"_ok-nft-filter-block_ihlaj_7",okNftFilterBlock:"_ok-nft-filter-block_ihlaj_7","ok-nft-filter-block-title":"_ok-nft-filter-block-title_ihlaj_14",okNftFilterBlockTitle:"_ok-nft-filter-block-title_ihlaj_14","add-weight":"_add-weight_ihlaj_22",addWeight:"_add-weight_ihlaj_22","ok-nft-filter-collections":"_ok-nft-filter-collections_ihlaj_22",okNftFilterCollections:"_ok-nft-filter-collections_ihlaj_22","ok-nft-filter-block-title-collections":"_ok-nft-filter-block-title-collections_ihlaj_25",okNftFilterBlockTitleCollections:"_ok-nft-filter-block-title-collections_ihlaj_25","ok-nft-filter-search-input":"_ok-nft-filter-search-input_ihlaj_28",okNftFilterSearchInput:"_ok-nft-filter-search-input_ihlaj_28","ok-nft-filter-no-collection":"_ok-nft-filter-no-collection_ihlaj_31",okNftFilterNoCollection:"_ok-nft-filter-no-collection_ihlaj_31","ok-nft-filter-search-item":"_ok-nft-filter-search-item_ihlaj_52",okNftFilterSearchItem:"_ok-nft-filter-search-item_ihlaj_52","ok-nft-filter-search-item-popup":"_ok-nft-filter-search-item-popup_ihlaj_62",okNftFilterSearchItemPopup:"_ok-nft-filter-search-item-popup_ihlaj_62","ok-nft-filter-search-icon":"_ok-nft-filter-search-icon_ihlaj_76",okNftFilterSearchIcon:"_ok-nft-filter-search-icon_ihlaj_76","ok-nft-filter-search-name":"_ok-nft-filter-search-name_ihlaj_82",okNftFilterSearchName:"_ok-nft-filter-search-name_ihlaj_82","ok-nft-filter-search-selected":"_ok-nft-filter-search-selected_ihlaj_89",okNftFilterSearchSelected:"_ok-nft-filter-search-selected_ihlaj_89","ok-nft-filter-load-more":"_ok-nft-filter-load-more_ihlaj_95",okNftFilterLoadMore:"_ok-nft-filter-load-more_ihlaj_95"};var Ze=({loading:o,loaded:r,collectionsList:i,searchResult:l,onSearchItemClick:_,loadingMore:g=!1})=>o||!r?d.default.createElement(fe,{overwriteClassName:!0,className:"ok-home--loading-parent"}):i.length===0?d.default.createElement("div",{className:a.okNftFilterNoCollection},d.default.createElement(K.State,{type:K.State.TYPE.noRecord,title:c("wallet_extension_nft_text_no_collection")})):d.default.createElement(d.default.Fragment,null,i.map((f,s)=>d.default.createElement("div",{onClick:()=>{_(f)},key:s,className:a.okNftFilterSearchItem},d.default.createElement("div",{className:a.okNftFilterSearchItemPopup}),d.default.createElement(te,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:f.icon||"/static/images/tx-history/default-nft.svg",className:a.okNftFilterSearchIcon,alt:""}),d.default.createElement(de,{className:a.okNftFilterSearchName,maxWidth:"270px",text:f.name}),d.default.createElement(T,{checked:l.includes(f.projectId),className:a.okNftFilterSearchSelected}))),d.default.createElement("div",{className:a.okNftFilterLoadMore},g&&d.default.createElement(Q,null))),pe=Ze;e();t();var x=m(F());A();var ge=m(G());e();t();function Je(o){let{setting:r,onChanged:i}=o,l=f=>s=>{i?.(f,s.target.checked)},_=(f,s,b)=>()=>{let S=R.show({title:f,confirmText:b,children:s,onConfirm:()=>{S.destroy()}});return S};return{settings:[{key:p.hideUnverifiedCollection,checked:r.hideUnverifiedCollection,onChange:l(p.hideUnverifiedCollection)},{key:p.hideManualHidden,checked:r.hideManualHidden,onChange:l(p.hideManualHidden)},{key:p.hideNoValue,checked:r.hideNoValue,onChange:l(p.hideNoValue),onShowDetail:_}]}}var ke=Je;e();t();var D={[p.hideNoValue]:{title:"extension_wallet_filter_text_donthide_valueless",dialog:{title:"extension_wallet_detail_title_valueless_item",content:"extension_wallet_detail_text_valueless_includes",confirm:"wallet_extension_btn_general_ok"}},[p.hideManualHidden]:{title:"extension_wallet_filter_text_dontshow_autohide"},[p.hideUnverifiedCollection]:{title:"extension_wallet_filter_text_dontshow_unverif"}};e();t();var N={root:"_root_1fans_1",item:"_item_1fans_9",name:"_name_1fans_14",icon:"_icon_1fans_19",checkbox:"_checkbox_1fans_24",dialogContent:"_dialogContent_1fans_28"};function $e(o){let{settings:r}=ke(o);return x.default.createElement(I.Box,{className:N.root},x.default.createElement(j.Text,{size:j.SIZE.md,strong:!0,className:N.title},c("extension_wallet_filter_title_itemfilter")),r.map(i=>{let l=D[i.key].dialog;return x.default.createElement(I.Box,{key:i.key,className:N.item},x.default.createElement(I.Box,{className:N.name},x.default.createElement(j.Text,{size:j.SIZE.sm},c(D[i.key].title)),l&&x.default.createElement(X,{onClick:i.onShowDetail?.(c(l.title),x.default.createElement(I.Box,{className:N.dialogContent},$(l.content)),c(l.confirm)),className:(0,ge.default)("okx-wallet-plugin-information-circle",N.icon)})),x.default.createElement(T,{checked:i.checked,onChange:i.onChange,className:N.checkbox}))}))}var Ce=$e;e();t();var L=m(F());e();t();var E=m(F()),xe=m(G());e();t();var w={"ok-button-checkbox-content":"_ok-button-checkbox-content_zlx3l_1",okButtonCheckboxContent:"_ok-button-checkbox-content_zlx3l_1","ok-button-checkbox-item":"_ok-button-checkbox-item_zlx3l_7",okButtonCheckboxItem:"_ok-button-checkbox-item_zlx3l_7","ok-button-checkbox-item-outline":"_ok-button-checkbox-item-outline_zlx3l_32",okButtonCheckboxItemOutline:"_ok-button-checkbox-item-outline_zlx3l_32"};var Xe=({item:o,clickHandle:r,value:i})=>E.default.createElement("div",{className:(0,xe.default)(w.okButtonCheckboxItem,i.includes(o.value)?w.okButtonCheckboxItemOutline:""),onClick:()=>{r&&r(o.value)}},o.image&&E.default.createElement("img",{src:o.image}),E.default.createElement("span",null,o.label)),Ne=Xe;var Qe=({options:o,valueOption:r=[],onChange:i})=>{let l=_=>{i&&i(_)};return L.default.createElement("div",{className:w.okButtonCheckboxContent},o[0]?o.map((_,g)=>L.default.createElement(Ne,{key:g,item:_,value:r,clickHandle:l})):L.default.createElement(oe,null))},Se=Qe;e();t();var P=m(le());var ye=m(F());e();t();Ue();qe();var Fe={NotCertified:0,Certified:1},be=o=>ne(ie.getNftCollections,o);var Re=({searchKeyword:o,projectCertificated:r,hiddenStatus:i,ref:l})=>{let _=(0,P.useDebounce)(o,{wait:500}),{currentNetworkUniqueId:g}=re(),f=_e(),[s,b]=(0,ye.useState)(!1),{data:S,loading:H,loadingMore:M}=(0,P.useInfiniteScroll)(u=>{let y=u?.nextPageNo??1;return be({nameSearch:_,pageNo:y,address:f(g).join(","),pageSize:z,projectCertificated:r,hiddenStatus:i,chain:g}).then(B=>({list:B?.data?.list??[],nextPageNo:y*z<B?.data?.total?y+1:void 0}))},{reloadDeps:[_,g,r,i,f],isNoMore:u=>u?.nextPageNo===void 0,target:l,onError(){},onFinally(){b(!0)}});return{list:S?.list?.map(u=>({icon:u.image,name:u.name,chain:u.chain,isIdentification:u.certificateFlag===Fe.Certified,projectId:u.project}))??[],loading:H,loaded:s,ref:l,loadingMore:M}},ve=Re;var et=()=>{let o=(0,je.useHistory)(),r=(0,n.useRef)(null),{hasCurrentWalletChanged:i,currentWalletSetting:l,setWalletSetting:_,resetWalletSetting:g,formattedCurrentSetting:f}=he(),{filterInfo:s,changeFilterInfo:b,changeCollectionFilter:S,changeSaleStatusFilter:H,resetFilterInfo:M,resetData:U}=ue(),u=(0,n.useRef)(void 0);(0,we.useMount)(()=>{u.current={currentWalletSetting:l,filterInfo:s}});let y=(0,Ie.useSelector)(se).total,B=Object.keys(s).some(h=>s[h].length!==0),Be=[{label:c("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:c("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[q,V]=(0,n.useState)(""),Te=f.projectCertificated,Ee=f.hiddenStatus,{list:Le,loading:Pe,loaded:He,loadingMore:Me}=ve({projectCertificated:Te,hiddenStatus:Ee,searchKeyword:q,ref:r}),Oe=(0,n.useCallback)(h=>{V(h.target.value)},[]),Ae=h=>{let v=O(s.collectionFilter,[h.projectId]);S(v)},Ge=h=>{let v=O(s.saleStatusFilter,[h]);H(v)},Ke=()=>{J({currentWalletSetting:l,filterInfo:s},u.current)||U()},ze=()=>{M(!0),V(""),g(),setTimeout(()=>{o.goBack()},100)},Y=()=>{Ke(),o.push(ae)},De=(h,v)=>{b(),_(h,v)},Z=!B&&!i;return n.default.createElement("div",{className:a.okNftFilterMain,ref:r},n.default.createElement(me,{title:c("wallet_extension_nft_popup_title_filter"),closeable:!1,onBack:Y}),n.default.createElement("div",{className:a.okNftFilterBlock},n.default.createElement("div",{className:a.okNftFilterBlockTitle},c("wallet_extension_nft_filter_status")),n.default.createElement(Se,{options:Be,onChange:h=>{Ge(h)},valueOption:s.saleStatusFilter})),n.default.createElement(Ce,{onChanged:De,setting:l}),n.default.createElement("div",{className:(0,W.default)(a.okNftFilterBlock,a.addWeight,a.okNftFilterCollections)},n.default.createElement("div",{className:(0,W.default)(a.okNftFilterBlockTitle,a.okNftFilterBlockTitleCollections)},c("wallet_extension_nft_text_collections")),n.default.createElement(ee.Search,{className:a.okNftFilterSearchInput,placeholder:c("wallet_extension_nft_placeholder_search_collections",{},{useBr:!1}),value:q,size:"sm",onChange:Oe}),n.default.createElement(pe,{loading:Pe,loaded:He,loadingMore:Me,collectionsList:Le,searchResult:s.collectionFilter,onSearchItemClick:Ae})),n.default.createElement(ce.FooterActions,null,n.default.createElement(C,{category:C.CATEGORY.outline,type:C.TYPE.primary,size:C.SIZE.lg,disabled:Z,onClick:()=>{ze()}},c("wallet_extension_nft_btn_clear")),n.default.createElement(C,{category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:Z,onClick:()=>{Y()}},c("wallet_extension_nft_btn_apply",{number:y}))))},Bo=et;export{Bo as default};
//# sourceMappingURL=NftFilter-B23FIXIY.js.map
