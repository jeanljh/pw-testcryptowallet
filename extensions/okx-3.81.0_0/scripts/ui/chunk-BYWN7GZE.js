import{b as P}from"./chunk-GTQ5U6DA.js";import{e as O}from"./chunk-YGMRSF47.js";import{F as W,ka as S}from"./chunk-GCS2RK7E.js";import{u as g}from"./chunk-FGAB46RQ.js";import{a as H}from"./chunk-6PA65BO3.js";import{c as T}from"./chunk-HMTT52FG.js";import{ac as c,nc as v}from"./chunk-COF7YKSN.js";import{A as n,K as N}from"./chunk-VZKEX7KP.js";import{o as f,q as L}from"./chunk-BJKBO23H.js";import{z as d}from"./chunk-ZFVABNQN.js";import{b as D}from"./chunk-73B6GL3S.js";import{f as I,o,q as a}from"./chunk-Y5OH3DDZ.js";o();a();o();a();var b=I(D()),M=I(H());v();N();o();a();var k=async({dialog:t,groupId:r,wallets:i,history:_,keyringId:s})=>{t.current.destroy();let m={nextPath:S,groupId:r,keyringId:s,actionType:i.length===1&&i[0]?.walletIdentities?.length===1?"removeLastWallet":"removeWallet"};_.replace(W+P(m))};var z={[c.MNEMONIC]:"wallet_editwallet_alert_subtitle_delete_wallet_risk",[c.PRIVATE_KEY]:"wallet_extension_editwallet_text_delete_wallet_risk2",[c.MPC]:"wallet_extension_editwallet_text_delete_wallet_risk3",[c.HARDWARE]:"wallet_extension_editwallet_text_delete_wallet_risk4"},F=()=>{let t=(0,b.useRef)(),r=(0,M.useHistory)(),i=O();return(0,b.useCallback)(({groupId:_,keyringType:s,keyringId:m,saAccountLen:u})=>{let l=s===c.MNEMONIC,h=n("wallet_editwallet_alert_maintitle_delete_wallet_risk"),E;l&&u?E=n("wallet_extension_settings_dialog_desc_sa_deletion",{num:u}):E=n(z[s]),t.current=f.warn({alignBottom:!1,title:h,text:E,confirmText:n("wallet_edit_wallet_btn_delete_wallet_risk"),cancelText:n("wallet_transfer_btn_cancel_transaction"),onCancel:()=>{t.current.destroy()},onConfirm:()=>k({dialog:t,groupId:_,wallets:i,history:r,keyringId:m})})},[i])},B=F;var _e=B;o();a();var p={WALLET:"WALLET",WALLETACCOUNT:"WALLETACCOUNT"},j={[p.WALLET]:"wallet_editwallet_subtitle_wallet_name",[p.WALLETACCOUNT]:"wallet_edit_wallet_maintitle_change_acoount_name"},y=25;o();a();var e=I(D());N();o();a();var w={"wallet-name-edit-dialog":"_wallet-name-edit-dialog_4hjbn_1",walletNameEditDialog:"_wallet-name-edit-dialog_4hjbn_1","wallet-name-edit-dialog-title":"_wallet-name-edit-dialog-title_4hjbn_4",walletNameEditDialogTitle:"_wallet-name-edit-dialog-title_4hjbn_4","wallet-name-edit-dialog-input-box":"_wallet-name-edit-dialog-input-box_4hjbn_8",walletNameEditDialogInputBox:"_wallet-name-edit-dialog-input-box_4hjbn_8","wallet-name-edit-dialog-input-box__extra":"_wallet-name-edit-dialog-input-box__extra_4hjbn_13",walletNameEditDialogInputBoxExtra:"_wallet-name-edit-dialog-input-box__extra_4hjbn_13","wallet-name-edit-dialog-actions":"_wallet-name-edit-dialog-actions_4hjbn_18",walletNameEditDialogActions:"_wallet-name-edit-dialog-actions_4hjbn_18"};var G=({initialName:t,otherNames:r=[],type:i=p.WALLET,onClose:_,onConfirm:s})=>{let[m,u]=(0,e.useState)(!1),[l,h]=(0,e.useState)(t||""),E=(0,e.useMemo)(()=>`${l?.length}/${y}`,[l]),C=(0,e.useMemo)(()=>l?.length>y?n("wallet_extension_hardware_wallet_notif_max_characters",{num:y}):r.includes(l)&&l!==t?n("wallet_edit_wallet_errortip_wallet_name_repeat"):null,[l,r,t]),Y=(0,e.useMemo)(()=>!(l&&!C&&l!==t),[l,C,t]);return e.default.createElement(T.Box,{className:w["wallet-name-edit-dialog"]},e.default.createElement(g.Text,{strong:700,align:g.ALIGN.center,className:w["wallet-name-edit-dialog-title"]},n(j[i])),e.default.createElement(T.Box,{className:w["wallet-name-edit-dialog-input-box"]},e.default.createElement(L,{autoFocus:!0,cleanable:!0,size:L.SIZE.xl,value:l,error:C,errorType:L.TIP_TYPE.always,onChange:({target:{value:A}})=>{h(A?.trimStart()?.slice(0,y))}}),e.default.createElement(g.Text,{size:g.SIZE.sm,type:g.TYPE.secondary,className:w["wallet-name-edit-dialog-input-box__extra"]},E)),e.default.createElement(T.Space,{className:w["wallet-name-edit-dialog-actions"],direction:T.DIRECTION.horizontal,space:10},e.default.createElement(d,{block:!0,size:d.SIZE.lg,category:d.CATEGORY.outline,type:d.TYPE.primary,onClick:_},n("wallet_transfer_btn_cancel_transaction")),e.default.createElement(d,{block:!0,onClick:async()=>{try{u(!0),await s?.(l),_?.()}catch(A){console.log(A)}finally{u(!1)}},loading:m,size:d.SIZE.lg,type:d.btnType.highlight,disabled:Y},n("wallet_set_password_btn_confirm"))))},R={hideCloseBtn:!0,noContentPadding:!0,alignBottom:!1},K=e.default.memo(({visible:t,initialName:r,otherNames:i=[],type:_=p.WALLET,onClose:s,onConfirm:m})=>e.default.createElement(f,{...R,visible:t},e.default.createElement(G,{initialName:r,otherNames:i,type:_,onClose:s,onConfirm:m}))),Ie=()=>(0,e.useCallback)(({initialName:t,otherNames:r=[],type:i=p.WALLET})=>new Promise((_,s)=>{let m=f.show({...R,children:e.default.createElement(G,{initialName:t,otherNames:r,type:i,onClose:()=>{m.destroy(),s()},onConfirm:async u=>{_(u)}})})}),[]);var De=K;export{p as a,Ie as b,De as c,_e as d};
//# sourceMappingURL=chunk-BYWN7GZE.js.map
