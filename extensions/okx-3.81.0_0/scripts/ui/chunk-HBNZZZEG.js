import{a as Tt}from"./chunk-3W4MTHFJ.js";import{a as Et}from"./chunk-L2MGED7F.js";import{d as Se,g as At}from"./chunk-BNS5ABAB.js";import{a as bt}from"./chunk-UFGJXE4D.js";import{a as St}from"./chunk-7QX2TXNH.js";import{d as It}from"./chunk-ZDHJHPQ5.js";import{e as le}from"./chunk-SYOIP55B.js";import{m as Ct}from"./chunk-ZOKF3EKQ.js";import{c as V}from"./chunk-OOYDFTEF.js";import{a as Y}from"./chunk-JNIP4OYT.js";import{a as yt}from"./chunk-XRCQOGA2.js";import{i as xt,j as ht}from"./chunk-U7IWD6UB.js";import{b as Ae}from"./chunk-7MCLPJAH.js";import{a as te,f as oe,u as I}from"./chunk-FGAB46RQ.js";import{o as Pe}from"./chunk-Z62JX42S.js";import{L as ut,M as Ie,Na as gt,ja as mt,la as pt,na as _t,x as ct}from"./chunk-2QHGKEME.js";import{q as ft}from"./chunk-WU2LB6XB.js";import{f as dt}from"./chunk-3QLLFUC4.js";import{a as ae,b as we}from"./chunk-EFOY37CC.js";import{c as u}from"./chunk-HMTT52FG.js";import{b as tt,c as fo}from"./chunk-GR7YC6C3.js";import{E as ot,J as go}from"./chunk-O33H5V3V.js";import{Ha as nt,Tb as it,Ub as at,Xb as he,_b as lt,dc as z,na as rt,nc as Co,tb as st}from"./chunk-COF7YKSN.js";import{A as x,B as ge,H as Ke,K as P,i as de,o as O}from"./chunk-VZKEX7KP.js";import{A as Fe,K as xe,Q as et,d as Ce,o as ye,q as ee,r as Be}from"./chunk-BJKBO23H.js";import{D as Xe,E as qe,I as Je,f as He,va as fe}from"./chunk-XFTQD4B2.js";import{z as F}from"./chunk-ZFVABNQN.js";import{a as K}from"./chunk-4QGZDIBD.js";import{b as k}from"./chunk-73B6GL3S.js";import{f as g,o,q as r}from"./chunk-Y5OH3DDZ.js";o();r();var A=g(k()),uo=g(K());P();o();r();var ce=g(k()),Te=g(Pe());P();o();r();var vt={root:"_root_1n01c_1"};var yo="HAS_CLOSED_REGISTER_ALERT";function xo({coin:e}){let t=Ct(e?.localType),[n,i]=(0,ce.useState)({needRegister:!1,alertMessage:"",url:""}),[s,a]=(0,Te.useSessionStorageState)(`${yo}_${e?.coinId}`,{defaultValue:!1}),{loading:l}=(0,Te.useRequest)(async()=>{if(!(Ie(e)||ut(e)))return;let{status:p,register:b,alertMessage:C="",url:E}=await Tt({chainId:e.chainId,address:t}),M=!1;Ie(e)?M=p===ft.NOT_STARTED:M=!b,i({needRegister:M,alertMessage:C,url:E})},{ready:!s}),c=!s&&!l&&n.needRegister,f={title:n.alertMessage,onClose:()=>{a(!0)}};return Ie(e)&&(f={...f,onConfirm:()=>{Ke(n.url)},confirmText:x("wallet_extension_transfer_alertbanner_textbtn_pi_verify")}),c&&ce.default.createElement(u.Box,{className:vt.root},ce.default.createElement(Ce,{...f}))}var Lt=xo;o();r();o();r();var be=g(k()),Pt=g(K());o();r();var j=g(k()),De=g(K());P();o();r();o();r();var ho="",Nt=ho;var kt=Nt;o();r();var $=g(k());P();o();r();var wt=({symbol:e="",address:t="",tag:n="",aggregation:i=!1,message:s=""})=>{let a="receive-content";return $.default.createElement(u.FlexBox,{direction:u.DIRECTION.horizontal,className:`${a}__card__info`},$.default.createElement(u.FlexBox,{className:`${a}__card__title`,direction:u.DIRECTION.vertical},$.default.createElement(u.FlexBox,{align:u.ALIGN.center,className:`${a}__card__text`},$.default.createElement(I.Text,{strong:700,ellipsis:{tooltip:!0},size:I.SIZE.lg},e),i&&$.default.createElement(et,{className:`${a}__card__tag`},n)),$.default.createElement(I.Address,{forceWrap:!0,address:t,"data-testid":Y.RECEIVE_PAGE.RECEIVE_PAGE_COPY_ADDRESS,desensitize:!1,size:I.SIZE.sm,style:{color:"var(--okd-color-content-contrast)"},copyable:{className:`${a}__copy__button`,message:s,customButtonComponent:(0,$.useCallback)(l=>$.default.createElement(F,{"data-testid":Y.RECEIVE_PAGE.RECEIVE_PAGE_COPY_ADDRESS_BUTTON,...l,category:F.CATEGORY.fill,type:F.TYPE.primary,size:F.SIZE.xs},x("commonall_modal_btn_copy")),[])}})))};o();r();o();r();var Me=g(k());var Io=({QRCodeAddress:e,coinLogo:t})=>Me.default.createElement(u.FlexBox,{justify:"center"},Me.default.createElement(xe,{padding:"8px",text:e,level:xe.LEVEL.L,type:xe.TYPE.svg,size:224,cornersDotOptions:{type:"dot"},cornersSquareOptions:{type:"dot"},dotsOptions:{type:"dots"},imageSettings:{src:t,imageSize:.5}})),Bt=Io;var Ft=Bt;function Ao(e){let{title:t,symbol:n="",coinLogo:i="",chainName:s="",walletAddress:a="",aggregation:l=!1,QRCodeAddress:c="",children:f,cardClassName:y="",message:p="",tag:b=""}=e,C="receive-content";return j.default.createElement(u.Box,{className:(0,De.default)(C,kt),"data-testid":Y.RECEIVE_PAGE.RECEIVE_PAGE_ROOT_ELEMENT_ID},j.default.createElement(u.Box,{className:(0,De.default)(`${C}__qrcode__card`,y)},j.default.createElement(Ft,{QRCodeAddress:c,coinLogo:i}),j.default.createElement(I.Text,{size:I.SIZE.sm,align:I.ALIGN.center,type:I.TYPE.secondary,style:{color:"var(--okd-color-content-contrast)",width:"100%",marginTop:"12px",marginBottom:"12px",fontWeight:"500"}},t||ge("wallet_extension_toast_send_only_network_assets_tothis_address",{chain_name:j.default.createElement("span",{style:{color:"var(--okd-color-content-primary)"}},s)})),f),j.default.createElement(wt,{symbol:n,tag:b,address:a,aggregation:l,message:p}))}var Re=Ao;o();r();var So=({children:e,className:t="",style:n,content:i={},navigator:s={},hideContent:a=!1,hideNavigator:l=!1,slot:c={}})=>{let f="receive-container",{top:y}=c;return be.default.createElement(u.Container,{className:(0,Pt.default)(f,t),style:n},!l&&be.default.createElement(It,{...s,className:`${f}__navigator`}),y,!a&&be.default.createElement(Re,{...i}),e)},Oe=So;o();r();o();r();var X=g(k()),Wt=g(K());fe();o();r();var ze=g(k());o();r();fe();P();o();r();var Mt={get fontFamily(){return window.getComputedStyle(document.body).fontFamily}};o();r();var H="LEGAL",T="DIGITAL";var Ee=e=>{typeof e!="string"&&(e=e.toString());let t=e?.length;return t<6?56:t>=6&&t<=7?48:t>=8&&t<=9?36:t>=10&&t<12?32:t===12?28:t>=13&&t<=15?24:t>=16&&t<=18?20:t>=19&&t<=24?16:12};var Ge=(e,t)=>{if(!t)return e;let n=O.pow(10,t);return O.div(Math.floor(O.mul(e,n)),n)},ve=(e,t,n)=>{let i=e===T?t:O.div(t,n),s=e===T?O.mul(t,n):t;return[i,s]},Dt=e=>{if(typeof e=="object"){let{mode:t=T,value:n}=e,i=t||T,s=i===T?n?.[0]:n?.[1]||0;return{mode:i,value:s,thousandthValue:O.thousandFormat(s)}}return{mode:T,value:e||0,thousandthValue:O.thousandFormat(e||0)}},Rt=(e,t=0)=>e?O.thousandFormat(Ge(e,t)):0;function Ot(e,t=16){let i=document.createElement("canvas").getContext("2d");i.font=`700 ${t}px ${Mt.fontFamily}`;let s=i.measureText(e),a=Math.abs(s.actualBoundingBoxLeft)+Math.abs(s.actualBoundingBoxRight);return Math.max(s.width,a)}var Gt=e=>typeof e=="string"&&e.startsWith("0")&&!e.startsWith("0.")?e.slice(1):e,zt=e=>e?.split(".")?.[0]?.length>=30,Vt=(e,t)=>e?.split(".")?.[1]?.length>t;var ue=(e,t)=>e?.symbol&&qe(e?.symbol)&&e?.symbol?.length>t?`${e?.symbol?.slice(0,t)}...`:e?.symbol;var To=({value:e,precision:t,symbol:n,autoSize:i})=>{let s=(0,ze.useMemo)(()=>{if(!e)return"0";let a="(,|.)$",l=new RegExp(a).test(e);return`${Rt(e,e.endsWith("0")?0:t)}${l?".":""}`},[e,t]);return(0,ze.useMemo)(()=>{let a=ue({symbol:n},12),l=(i||Ee)(`${s}${a}`),c=Ot(s,l);return[l,c]},[n,s])},Le=To;o();r();var $t={input_symbol:"_input_symbol_15l00_1",inputSymbol:"_input_symbol_15l00_1"};var bo=({symbol:e,decimals:t,value:n,autoSize:i,placeholder:s,style:a={},disabled:l=!1,onChange:c,symbolClassName:f="",max:y=Number.MAX_VALUE,justify:p="center",align:b=u.ALIGN.center,clickSymbolFocus:C=!1,onRef:E=He})=>{let[M,D]=Le({value:n,precision:t,symbol:e,autoSize:i}),[S,W]=(0,X.useState)(null);return X.default.createElement(u.FlexBox,{justify:p,align:b,style:{fontSize:M,height:"74px",fontWeight:700,position:"relative",maxWidth:"100%",...a}},X.default.createElement(ee.Number,{onRef:_=>{W(_),E(_)},min:0,autoFocus:!0,disabled:l,enableMinus:!1,max:y,precision:t,value:n,placeholder:s,onChange:c,style:{width:D},innerClassName:"coinAmount__input__box",inputClassName:"coinAmount__input__core"}),X.default.createElement(I.Text,{inherit:!0,className:(0,Wt.default)($t.input_symbol,f),onClick:()=>{C&&S&&S.focus()}},e))},Eo=X.default.memo(bo);o();r();var h=g(k()),me=g(K());P();o();r();var v=g(k()),Ut=g(K());fe();P();var vo=(e,t)=>{let{defaults:n,alls:i}=Xe(e,({currencyId:s})=>s===t?.currencyId?"defaults":"alls");return[{type:"default",options:n,title:x("wallet_extension_send_item_default")},{type:"all",options:i,title:x("wallet_extension_send_item_all")}]},Lo=({value:e,options:t,defaultCurrency:n,onChange:i})=>{let[s,a]=(0,v.useState)(""),l=(0,v.useCallback)(p=>{a(p.target.value)},[]),c=(0,v.useMemo)(()=>t.filter(p=>p.isoCode?.toUpperCase()?.indexOf(s?.toUpperCase())>-1),[s,t]),f=vo(t,n),y=x("wallet_extension_send_input_search_fiat");return v.default.createElement(u.Box,{className:"select-fiat-currency"},v.default.createElement(u.Box,{className:"select-fiat-currency__search"},v.default.createElement(ee.Search,{value:s,placeholder:y,onChange:l,alt:"search"})),s?v.default.createElement(le,{dataSource:c,emptyText:x("wallet_extension_text_noresults"),renderItem:p=>v.default.createElement(le.Cell,{title:p?.isoCode,className:"select-fiat-currency__item",onClick:()=>{i?.(p)}},p?.currencyId===e?.currencyId&&v.default.createElement(Be.Circle,{checked:p?.currencyId===e?.currencyId}))}):v.default.createElement(u.Box,{className:"select-fiat-currency__content"},f.map(({type:p,title:b,options:C})=>v.default.createElement(u.Box,{className:(0,Ut.default)("select-fiat-currency__group",`select-fiat-currency__group__${p}`)},v.default.createElement(I.Text,{size:I.SIZE.xs,className:"select-fiat-currency_title"},b),v.default.createElement(le,{dataSource:C,renderItem:E=>v.default.createElement(le.Cell,{title:E?.isoCode,className:"select-fiat-currency__item",onClick:()=>{i?.(E)}},E?.currencyId===e?.currencyId&&v.default.createElement(Be.Circle,{checked:E?.currencyId===e?.currencyId}))})))))},Qt=v.default.memo(Lo);o();r();o();r();var L=g(k());P();o();r();o();r();var Zt=(e,t,n)=>{!e&&t&&n?.current?.input?.focus()};var Yt=Zt;o();r();var jt=g(Pe());go();fo();var No="usd",ko=5e3,wo=async e=>{let t={coinIds:[e]},n={headers:{currency:No}},{data:i}=await ot(tt.postMarketUrl,t,n),{currencyAmount:s}=i[0]||{};return s},Bo=e=>{let t=Se(e,{withPrice:!0}),n=t?.usdPrice,{data:i}=(0,jt.useRequest)(()=>wo(e),{pollingInterval:ko,ready:e!==void 0&&t?.coinId!==void 0&&!n});return{...t,coinPrice:n||i||"0"}},Ht=Bo;var Xt=2,Fo=({coinId:e,decimals:t,visible:n,autoFocus:i,maximumMode:s,maximumAmount:a,initialValue:l,flatCurrency:c,onChange:f,switchDisabled:y,onModeChnage:p,onAmountChange:b})=>{let{mode:C,value:E,thousandthValue:M}=Dt(l),D=(0,L.useRef)(null),[S,W]=(0,L.useState)(C),[_,R]=(0,L.useState)(E||"0"),[ne,J]=(0,L.useState)(M),[Q,Z]=(0,L.useState)(!1),B=Ht(e),d=(0,L.useMemo)(()=>ae(c?.usdToThisRate,B.coinPrice),[c?.usdToThisRate,B.coinPrice]),G=(0,L.useCallback)(de(async()=>{if(Number(d)&&!y){if(Z(!0),await bt(310),Z(!1),S===T){let w=ae(_,d);R(w)}else{let w=we(_,d);R(w)}let N=S===H?T:H;W(N),p?.(N)}},300),[S,_,d,B,s,a]),se=(0,L.useCallback)((N,w)=>{_==="0"&&!N||zt(N)||(R(N||"0"),J(Gt(w?.target?.value||N)),b?.(ve(S,N,d),!0))},[S,_,d]),ie=(0,L.useCallback)(()=>{Yt(n,i,D)},[n,i]);(0,L.useEffect)(()=>{i&&D?.current?.input?.focus()},[i]),(0,L.useEffect)(()=>{n||D?.current?.input?.focus()},[n]);let _e=(0,L.useMemo)(()=>{let N=w=>Vt(_,w)?Ge(_,w):_;if(S===T){let w=t??B.orderDecimalNum;return{symbol:B.symbol,switchFlatable:!1,value:N(w),precision:w,contrastValue:te(_,{precision:w}).value}}return{symbol:c?.isoCode,switchFlatable:!0,value:N(Xt),precision:Xt,contrastValue:oe(_).value}},[S,t,_,B,c,s]),ke=(0,L.useMemo)(()=>{if(S===T){let w=ae(_,d);return{value:oe(w).value,symbol:c?.isoCode,switchFlatable:!0}}let N=s?a:we(_,d);return{value:te(N,{precision:B.displayPrecision,isStableCoin:B.stableCoin,useLargeNumberPrecision:!0}).value,symbol:B.symbol,switchFlatable:!1}},[S,c,s,B,_,a,d]);return(0,L.useEffect)(()=>{!s||S===H&&!Number(d)||R(S===T?a:ae(a,d))},[s,a,d]),(0,L.useEffect)(()=>{let N=ve(S,_,d);s&&(N=[a,O.mul(a,d)]),b?.(N),f?.({mode:S,coin:B,flatCurrency:c,flatCurrencyId:c?.currencyId,value:ve(S,_,d)})},[S,d,_,s,a]),[{inputRef:D,realInput:ne,inputEnter:_e,contrastEnter:ke,switchAnimating:Q,switchModeable:!!Number(d)},{onInputBlur:ie,onInputChange:se,onSwitchPricingMode:G}]},Ve=Fo;o();r();P();var $e=g(gt()),re=g(k());var Po=(e,t)=>{let{flatCurrencyId:n}=e||{},[i,s]=(0,re.useState)(!1),a=(0,$e.useSelector)(_t),l=(0,$e.useSelector)(pt),c=n&&a.find(({currencyId:C})=>C===n),[f,y]=(0,re.useState)(c||l),p=(0,re.useCallback)(de(C=>{s(typeof C=="boolean"?C:E=>!E)},300),[]),b=(0,re.useCallback)(C=>{y(C),p(!1),t?.(C)},[]);return[{visible:i,options:a,flatCurrency:f,defaultCurrency:l},{onToggleVisible:p,onFlatCurrencyChange:b}]},We=Po;o();r();var Ue=(0,h.forwardRef)(({coinId:e,onChange:t,precision:n,disabled:i=!1,autoFocus:s=!0,decimals:a,maximumMode:l,maximumAmount:c,onAmountChange:f,onModeChnage:y,onFlatChange:p,initialValue:b,className:C,...E},M)=>{let[{visible:D,options:S,flatCurrency:W,defaultCurrency:_},{onToggleVisible:R,onFlatCurrencyChange:ne}]=We(b,p),J=i&&typeof i=="boolean"?i:i?.input,Q=i&&typeof i=="boolean"?i:i?.switch,[{inputRef:Z,realInput:B,inputEnter:d,contrastEnter:G,switchModeable:se,switchAnimating:ie},{onInputChange:_e,onSwitchPricingMode:ke,onInputBlur:N}]=Ve({coinId:e,visible:D,decimals:a,autoFocus:s,maximumMode:l,initialValue:b,maximumAmount:c,flatCurrency:W,onChange:t,switchDisabled:Q,onAmountChange:f,onModeChnage:y});(0,h.useImperativeHandle)(M,()=>({setInputAmount:_e}));let w=ue(d,12),mo=ue(G,6),[je,po]=Le(d),_o=(0,h.useMemo)(()=>Ee(`${G.value}${G.symbol}`),[G.value,G.symbol]);return h.default.createElement(u.Box,{className:(0,me.default)("coinAmount__input",C),...E},h.default.createElement(u.FlexBox,{className:"coinAmount__input__main-box",justify:"center",align:u.ALIGN.center,style:{fontSize:je}},h.default.createElement(Fe,{maxWidth:"280",title:je===12&&h.default.createElement(I.Text,{inherit:!0,wrap:!0},`${B} ${d.symbol}`)},h.default.createElement(u.FlexBox,{className:(0,me.default)("coinAmount__input__input__enter",{coinAmount__input__input__enter__animation:ie})},ie?h.default.createElement(I.Text,{className:"coinAmount__input__input__enter__text",ellipsis:!0},d.contrastValue):h.default.createElement(ee.Number,{min:0,disabled:J,enableMinus:!1,autoFocus:!0,ref:Z,max:Number.MAX_VALUE,precision:typeof n=="number"?n:d.precision,style:{width:po},value:d.value,onChange:_e,innerClassName:"coinAmount__input__box",inputClassName:"coinAmount__input__core",onBlur:N}),h.default.createElement(u.Box,{className:"coinAmount__input__main__symbol",onClick:d.switchFlatable?R:()=>{Z?.current?.input?.focus()}},w,d.switchFlatable&&h.default.createElement(V,{size:V.SIZE.sm,icon:"okx-wallet-plugin-select-unfold",className:"coinAmount__input__legal__icon"})))),h.default.createElement(V.IconButton,{hovered:!1,size:V.SIZE.lg,tooltip:!se||Q?{title:x("wallet_extension_receive_tooltip_not_support"),maxWidth:"350px",placement:Fe.DIRECTION.bottomLeft}:!1,className:(0,me.default)("coinAmount__input__swtich__mode",{coinAmount__input__swtich__mode__disabled:Q||!se,coinAmount__input__swtich__mode__abled:se&&!Q}),icon:"okx-wallet-plugin-exchange",onClick:ke})),h.default.createElement(u.FlexBox,{className:"coinAmount__input__sub__box",justify:"center",style:{fontSize:_o}},h.default.createElement(u.FlexBox,{align:u.ALIGN.center,className:(0,me.default)("coinAmount__input__contrast__enter",{coinAmount__input__contrast__enter__animation:ie}),onClick:G.switchFlatable?R:()=>{}},h.default.createElement(I.Text,{className:"coinAmount__input__contrast__enter__text",ellipsis:!0},G?.value),h.default.createElement(u.Box,{className:"coinAmount__input__sub__box__symbol"},mo,G.switchFlatable&&h.default.createElement(V,{className:"coinAmount__input__legal__icon",size:V.SIZE.sm,icon:"okx-wallet-plugin-select-unfold"})))),h.default.createElement(ye,{isFull:!0,noMargin:!0,noContentPadding:!0,visible:D,title:x("wallet_extension_send_title_select_fiat"),onClose:R},h.default.createElement(Qt,{value:W,options:S,defaultCurrency:_,onChange:ne})))});Ue.LEGALMODE=H;Ue.DIGITALMODE=T;var Qe=h.default.memo(Ue);Co();o();r();var U=g(k());P();var Mo=({coinId:e,visible:t,initialValue:n,onToggleVisible:i,onConfirm:s})=>{let[a,l]=(0,U.useState)({});return U.default.createElement(ye.Action,{zIndex:10003,titleCenter:!0,visible:t,containerClassName:"receive_amount__container",scrollBoxClassName:"receive_amount__scrollBox",title:x(n?.mode?"wallet_extension_receive_title_modify_amount":"wallet_extension_receive_title_set_amount"),className:"receive__set_receive_amount",onClose:i},U.default.createElement("div",{className:"receive__set_receive_amount__body"},U.default.createElement(Qe,{className:"receive__set_receive_amount__input",coinId:e,onChange:l,initialValue:n})),U.default.createElement(Ae.FooterActions,{affixStyle:{position:"static"},style:{backgroundColor:"inherit"}},U.default.createElement(F,{size:F.SIZE.lg,type:F.TYPE.highlight,category:F.CATEGORY.fill,disabled:!Number(a?.value?.[0]),onClick:()=>{s(a)}},x("wallet_extension_receive_btn_confirm"))))},qt=U.default.memo(Mo);o();r();o();r();var Do=()=>null,Jt=Do;var Kt=Jt;o();r();var pe=g(k());P();function Ze({coin:e,address:t,className:n}){let i=e?.chainId&&ct(e),[s,a]=(0,pe.useState)(window.sessionStorage.getItem("notTaprootReceiveTipClosed")),l=/^(bc1p)/.test(t);return!!i&&pe.default.createElement("div",{className:n},!l&&!s&&pe.default.createElement(Ce,{title:x("wallet_extension_cat_alertbanner_only_taproot",{contractName:x("wallet_extension_cat_icu_cat"),contractType:x("wallet_extension_cat_icu_taproot")}),onClose:()=>{a(!0),window.sessionStorage.setItem("notTaprootReceiveTipClosed",!0)}}))}o();r();var eo={"alert-container":"_alert-container_135n4_1",alertContainer:"_alert-container_135n4_1"};o();r();lt();var Ro=(e,t)=>{let i=xt(e)[t],s=he?.[e]?.[i];return i&&s&&s===it.SEGWIT_TAPROOT},to=Ro;o();r();var oo=g(Pe());P();lt();var Oo=(e,t)=>{let n=St(),i=n.get("coinId"),s=Se(e||+i),a=ht(s?.localType)||{},[,l]=At(e||+i),c=n.get("addressType")||a[t],f=yt(s?.localType),y=t||(c?a[c]:f),p=c?x(at[he?.[s?.localType]?.[c]]):s?.chainName,b=c?!0:s?.aggregation,C=s?.image,E=s&&c?Et(x,c,l):"";return(0,oo.useCreation)(()=>s?.coinId?{...s,receiveAddress:y,coinLogo:C,aggregation:b,addressType:c,copyMessage:E,tag:p}:null,[c,b,p,s,C,E,y])},ro=Oo;o();r();var Ye=g(k());fe();st();o();r();var no=(e={})=>Object.entries(e).filter(([,t])=>!!t).map(([t,n])=>`${t}=${n}`).join("&"),so=e=>{typeof e!="string"&&(e=e.toString());let t=e?.length;return t<16?28:t>=17&&t<=21?22:t>=22&&t<=26?18:14};var Go=({baseCoinId:e,receiveState:t,walletAddress:n,address:i,localType:s,chainName:a})=>{let l=(0,Ye.useMemo)(()=>{switch(s){case nt:return"";default:return`${a?.trim()?.toLowerCase()}:`}},[a,s]);return(0,Ye.useMemo)(()=>{let{mode:f,value:y,flatCurrency:p}=t||{};if(Je(y))return n;let C={token:e===0?!1:i,amount:y?.[0]||0,currency:f!==T?p?.isoCode:!1,valuation:f!==T?y?.[1]:!1},E=no(C);return`${l}${n}?${E}`},[t,n,i,l])},io=Go;o();r();var Ne=g(k()),ao=g(gt());P();st();var zo=({localType:e,chainName:t})=>{let{keyringIdentityType:n}=(0,ao.useSelector)(mt);return(0,Ne.useMemo)(()=>e===rt&&dt(n)?x("extension_wallet_receive_text_supported_only"):ge("wallet_extension_toast_send_only_network_assets_tothis_address",{chain_name:Ne.default.createElement("span",{style:{color:"var(--okd-color-content-primary)"}},t)}),[e,t])},lo=zo;o();r();var q=g(k());var Vo=()=>{let[e,t]=(0,q.useState)({}),[n,i]=(0,q.useState)(!1),s=(0,q.useCallback)(()=>{i(c=>!c)},[]),a=(0,q.useCallback)(c=>{s(),t(c)},[]),l=(0,q.useCallback)(()=>{t({})},[]);return[{visible:n,receiveState:e},{onConfirm:a,onClearState:l,onToggleVisible:s}]},co=Vo;o();r();var $o=({mode:e,value:t,coin:n,flatCurrency:i,onClear:s})=>{let[a,l]=t||[],c=(0,A.useMemo)(()=>e===T?te(a,{precision:n?.decimals,symbol:n?.symbol}).value:oe(l,{currencySign:i.symbol}).value,[e,a,l,i?.symbol,n?.symbol]),f=(0,A.useMemo)(()=>e===T?oe(l,{currencySign:i.symbol,useApproximate:!0}).value:te(a,{precision:n?.decimals,symbol:n?.symbol,useApproximate:!0}).value,[e,a,l,i?.symbol,n?.symbol]);return A.default.createElement(u.FlexBox,{direction:u.DIRECTION.vertical,align:u.ALIGN.center,className:"receive__state"},A.default.createElement(I.AdaptiveText,{className:"receive__state__maintitle","data-testid":Y.RECEIVE_PAGE.RECEIVE_PAGE_MAIN_TITLE,strong:700,fontSize:"28px",text:c,autoSize:so},c),A.default.createElement(u.FlexBox,{justify:"center",align:u.ALIGN.center,className:"receive__state__subtitle"},A.default.createElement(I.Text,{className:"receive__state__subtitle__text",strong:!0,ellipsis:{tooltip:A.default.createElement(I.Text,{className:"receive__state__subtitle__tooltip",wrap:!0},f)}},f),A.default.createElement(V.IconButton,{hovered:!1,size:V.SIZE.sm,icon:"okx-wallet-plugin-clear_filled",className:"receive__state__clear",onClick:s})))},Wo=({address:e,coinId:t,onBack:n,onClose:i,closeable:s=!0,hideNavigator:a})=>{let l=ro(t,e),{localType:c,symbol:f,receiveAddress:y,chainName:p,coinLogo:b,aggregation:C,copyMessage:E,tag:M}=l??{},D=to(c,y),S=lo({localType:c,chainName:p}),[{visible:W,receiveState:_},{onConfirm:R,onClearState:ne,onToggleVisible:J}]=co(),Q=io({...l??{},receiveState:_,walletAddress:y}),Z=!!_?.mode,B=l?.protocolId,d=[z.BRC_20,z.FRACTAL_BRC20,z.BRC_20S,z.SRC_20,z.ARC_20,z.RUNES,z.RUNEMAIN,z.FRACTAL_RUNES,z.CAT_20].includes(B);return l?A.default.createElement(Oe,{style:{overflow:W?"hidden":"auto"},navigator:{bordered:!1,onBack:n,onClose:i,closeable:s},content:{symbol:f,coinLogo:b,chainName:p,tag:M,aggregation:C,QRCodeAddress:Q,title:S,walletAddress:y,cardClassName:(0,uo.default)({receive__qrcode__card__has__amount:Z}),message:E,children:A.default.createElement(A.default.Fragment,null,Z&&A.default.createElement($o,{..._,onClear:ne}))},hideNavigator:a,slot:{top:A.default.createElement(A.default.Fragment,null,A.default.createElement(Lt,{coin:l}),A.default.createElement(Ze,{coin:l,address:y,className:eo.alertContainer}))}},A.default.createElement(Ae.FooterActions,{className:"receive__footer-action",affixStyle:{position:"absolute",bottom:0,left:"unset",transform:"unset",width:"100%",zIndex:2}},A.default.createElement(Kt,{...l??{},..._}),A.default.createElement(F,{"data-testid":Y.RECEIVE_PAGE.RECEIVE_PAGE_MODIFY_AMOUNT_BUTTON,size:F.SIZE.lg,type:F.TYPE.highlight,category:F.CATEGORY.fill,onClick:J,disabled:D||d},x(_?.mode?"wallet_extension_receive_btn_modify_amount":"wallet_extension_receive_btn_set_amount"))),A.default.createElement(qt,{...l,visible:W,onConfirm:R,onToggleVisible:J,initialValue:_})):null},za=A.default.memo(Wo);export{Lt as a,Oe as b,H as c,Eo as d,Ht as e,Qe as f,Ze as g,za as h};
//# sourceMappingURL=chunk-HBNZZZEG.js.map
