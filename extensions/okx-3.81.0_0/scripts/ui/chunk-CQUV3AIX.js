import{a as Cr,b as Tr,c as ft,d as yr,e as Re}from"./chunk-7BGJL3MA.js";import{a as Ae}from"./chunk-KE4XREMT.js";import{a as je}from"./chunk-RII4PUL6.js";import{a as ye}from"./chunk-NFM2PBST.js";import{a as br,b as vr}from"./chunk-OKEXYSFO.js";import{a as Xe}from"./chunk-QVGLEQL5.js";import{b as Io}from"./chunk-JQ4B2RAH.js";import{a as ue,b as Er,c as Mo,d as xr}from"./chunk-TA357MUD.js";import{b as k}from"./chunk-QL63AAOK.js";import{a as tr,b as rr,c as nr,d as mr,f as _r,g as gr,h as Sr}from"./chunk-O2ACG5GT.js";import{a as ar}from"./chunk-HB3JXXNO.js";import{f as ce,h as ir}from"./chunk-YI5V5HTO.js";import{a as Te,b as kr}from"./chunk-KDWSU3J6.js";import{a as sr}from"./chunk-EL4V5BC4.js";import{a as bo,b as vo}from"./chunk-MFKZWCTA.js";import{a as xo,b as cr,c as lt,d as ur,e as lr,f as pr,g as pt,h as dt,i as dr,j as fr}from"./chunk-QXEXAETB.js";import{a as hr}from"./chunk-WELDOPJD.js";import{a as Ht}from"./chunk-VCDDTW7H.js";import{k as ut,l as Jt}from"./chunk-UULU72LG.js";import{c as N}from"./chunk-E6XUX33V.js";import{e as er}from"./chunk-ARK47WR5.js";import{a as Zt}from"./chunk-BEIWULHW.js";import{a as Ce}from"./chunk-6T3CLU73.js";import{a as Kt}from"./chunk-STXPU7A6.js";import{f as yo}from"./chunk-PFSPFZNW.js";import{d as or}from"./chunk-RK7WST36.js";import{$ as $t,I as Y,J as O,U as jt,Y as Xt,_ as zt,m as Gt}from"./chunk-HIVYZXF3.js";import{h as Qt,j as Yt,s as qt}from"./chunk-4Y52FA3V.js";import{c as Eo}from"./chunk-B6WLGAPL.js";import{a as Wt}from"./chunk-ZYYACLV7.js";import{a as To}from"./chunk-XNP3OGQC.js";import{a as at,b as z,n as ro,p as Co,q as qe,w as ct,x as Rt}from"./chunk-HKU7TMFJ.js";import{a as $}from"./chunk-7I4OPLNV.js";import{a as Ot,c as to,e as ho,f as he,h as mt,m as Me}from"./chunk-FGRS6VIX.js";import{Ua as rt,Va as nt,fb as st,ga as ke,na as Vt,oa as Ft,pa as Ut,qa as Se,sa as So,va as X,vd as _,wb as it}from"./chunk-INIQCRIO.js";import{a as D}from"./chunk-6Z5HVUBK.js";import{G as ko,da as tt,m as V,x as ot}from"./chunk-ZBDGRK4Q.js";import{a as Ie}from"./chunk-6PA65BO3.js";import{A as wt,H as re,O as Ye,P as Dt,Q as Bt,b as B,o as oo,q as Jo,r as Pt,s as ge,y as et}from"./chunk-BJKBO23H.js";import{I as Lt,O as go,e as At,j as oe,va as Qe,z as Nt}from"./chunk-XFTQD4B2.js";import{t as U,z as eo}from"./chunk-ZFVABNQN.js";import{a as G}from"./chunk-4QGZDIBD.js";import{b as E}from"./chunk-73B6GL3S.js";import{f,o as n,q as s}from"./chunk-Y5OH3DDZ.js";n();s();var St=f(E());Qe();n();s();var Ee=f(E());n();s();function Ir(e,o){try{for(let r=0;r<e.length;r++){let t=e[r]();if(t)return t}return o}catch(r){return O.stuff("Error in validation check:",r),o}}n();s();n();s();var gt=e=>()=>{let{computedSwapOnOtherDapp:o}=e;return o?"DAPP":null};var Mr=e=>()=>{let{isConnectedWallet:o,hasInitWalletInfo:r}=e;return!o&&r?"UN_CONNECTED_WALLET":null},Ar=e=>()=>{let{isBuy:o,computedQuoteIsBlackAddress:r,isLimit:t}=e;return r?t?"DISABLED":o?"BUY_DISABLED":"SELL_DISABLED":null},Nr=e=>()=>{let{computedQuoteIsNewAddress:o,isBuy:r,isLimit:t}=e;return o?t?"DISABLED":r?"BUY_DISABLED":"SELL_DISABLED":null},Lr=e=>()=>{let{computedFormToTokenIsLeverageToken:o,isBuy:r}=e;return o?r?"BUY_DISABLED":"SELL_DISABLED":null},Pr=e=>()=>{let{computedNonsupportChain:o}=e;return o?"NOT_SUPPORT_WALLET":null};var wr=e=>()=>{let{isBuy:o,toToken:r}=e;return o&&Jt(r)?"BUY_DISABLED":null},Dr=e=>()=>{let{isBuy:o,disableConditions:r,hasToAmount:t,computedIsStrategyValid:i}=e;return o&&(r.some(Boolean)||o&&!t||!i)?"BUY_DISABLED":null},Br=e=>()=>{let{isSell:o,disableConditions:r,hasToAmount:t}=e;return o&&(r.some(Boolean)||o&&!t)?"SELL_DISABLED":null};var Vr=e=>()=>{let{isInsufficientBalance:o}=e;return o?"FILL_UP":null},Fr=e=>()=>{let{isBuy:o,hasToAmount:r}=e;return o&&r?"BUY_ACTIVE":null},Ur=e=>()=>{let{isSell:o,hasToAmount:r}=e;return o&&r?"SELL_ACTIVE":null},Or=e=>()=>{let{isBuy:o,computedIsLimitRegion:r,computedSwapOnOtherDapp:t}=e;return gt({computedSwapOnOtherDapp:t})?.()?null:r?o?"LIMIT_REGION":"SELL_DISABLED":null};var Wr=e=>{let{computedIsLimitRegion:o,isConnectedWallet:r,hasInitWalletInfo:t,computedNonsupportChain:i,computedQuoteIsBlackAddress:m,computedSwapOnOtherDapp:a,computedFormToTokenIsLeverageToken:c,toToken:l,disableConditions:u,hasToAmount:d,isInsufficientBalance:h,isBuy:g,isSell:C,computedQuoteIsNewAddress:b}=e;return[Or({isBuy:g,computedIsLimitRegion:o,computedSwapOnOtherDapp:a}),Mr({isConnectedWallet:r,hasInitWalletInfo:t}),Ar({computedQuoteIsBlackAddress:m,isBuy:g,isLimit:!1}),Nr({computedQuoteIsNewAddress:b,isBuy:g,isLimit:!1}),Pr({computedNonsupportChain:i}),Lr({computedFormToTokenIsLeverageToken:c,isBuy:g}),wr({isBuy:g,toToken:l}),gt({computedSwapOnOtherDapp:a}),Dr({isBuy:g,disableConditions:u,hasToAmount:d,computedIsStrategyValid:!0}),Br({isSell:C,disableConditions:u,hasToAmount:d}),Vr({isInsufficientBalance:h}),Fr({isBuy:g,hasToAmount:d}),Ur({isSell:C,hasToAmount:d})]};n();s();function ze(){let{buyStore:e,sellStore:o,configStore:r}=k(),{computedIsSell:t}=r;return t?o.computedSellNumber:e.computedBuyNumber}n();s();Qe();function Gr(){let e=ze(),{fromToken:o}=Re();return!go(o.amountNum)&&new D.BigNumber(e).gt(o.amountNum)}function Qr(){let{quoteStore:e,configStore:o,accountStore:r,buyStore:t,sellStore:i}=k(),{computedNonsupportChain:m,isConnectedWallet:a,hasInitWalletInfo:c}=r,{computedIsBuy:l,computedIsSell:u}=o,d=u?i.fromToken:t.fromToken,h=u?i.toToken:t.toToken,g=ze(),C=Gr(),{computedCustomQuoteLoading:b,computedQuoteIsInvalid:v,computedSwapOnOtherDapp:S,computedToTokenAmount:I,computedGetQuoteFromAmount:T,computedQuoteIsBlackAddress:y,computedQuoteIsNewAddress:x}=e,{computedIsLimitRegion:A}=Te,w=(0,Ee.useMemo)(()=>to(I),[I]),W=(0,Ee.useMemo)(()=>!new D.BigNumber(g).lte(0),[g]),R=(0,Ee.useMemo)(()=>new D.BigNumber(g).eq(T),[g,T]),ve=(0,Ee.useMemo)(()=>[!W,b,!!v,!R],[W,b,v,R]),j=(0,Ee.useMemo)(()=>{let _e=ut(d),Je=ut(h);return _e||Je},[d,h]),q=(0,Ee.useMemo)(()=>Wr({computedIsLimitRegion:A,isConnectedWallet:a,hasInitWalletInfo:c,computedNonsupportChain:m,computedQuoteIsBlackAddress:y,computedSwapOnOtherDapp:S,computedQuoteIsNewAddress:x,computedFormToTokenIsLeverageToken:j,toToken:h,disableConditions:ve,hasToAmount:w,isInsufficientBalance:C,isBuy:l,isSell:u}),[A,a,c,m,y,x,S,j,h,l,u,ve,w,C]);return(0,Ee.useMemo)(()=>Ir(q,l?"BUY_ACTIVE":"SELL_ACTIVE"),[q,l])}n();s();var Jr=f(E());n();s();var Ao=f(E());function Yr(e){let[o,r]=(0,Ao.useState)(!1);return{runPreconditions:(0,Ao.useCallback)(async i=>{r(!0);try{await e.reduce(async(m,a)=>{let c=await m;return a(c)},Promise.resolve(i))}finally{r(!1)}},[e]),loading:o}}n();s();var Lo=f(E());n();s();function qr(){let{currentPreset:e}=ue();return e?.slippage?.mode===z.DYNAMIC?e?.slippage?.dynamicSlippage:e?.slippage?.value}function Rr(){let{currentPreset:e}=ue();return e?.slippage?.mode===z.DYNAMIC?at.AUTO:at.CUSTOM}function No(){let{currentPreset:e}=ue();return e?.slippage?.mode===z.FIXED?"":e?.slippage?.supportCustomMax?e?.slippage?.customMax:""}function jr(){let{quoteStore:e,accountStore:o}=k(),{currentPreset:r}=ue(),{priorityFee:t,slippage:i,priorityMode:m,manualType:a}=r,{computedGetRouterList:c,computedGetEstimateGasFee:l,computedGetQuoteFrom:u,computedGetQuoteTo:d,computedGetQuoteFromAmount:h,computedGetQuoteToAmount:g,computedQuoteTraceData:C,computedServiceFeeInfo:b,jitoIsSuccess:v,computedAutoSlippage:S,mevUnstableShowLevel:I}=e,T=Kt({priorityMode:m,manualType:a,jitoIsSuccess:v,mevUnstableShowLevel:I}),y=Zt(T),{formatPriorityFee:x}=Er({priorityFee:t,isEnableMev:y}),A=No(),w=o.getAddressByChainId(u.chainId),{computedSignWalletAddress:W}=o,R=(0,Lo.useMemo)(()=>{let j={dexRouterList:c,priorityFee:x?.value,autoSlippageInfo:{autoSlippage:A?D.min(S,A):S},customSlippage:i?.mode===z.FIXED?i?.value:"",maxSlippage:i?.mode===z.DYNAMIC?A:"",estimateGasFee:l,chainId:u.chainId,fromTokenAddress:u.tokenContractAddress,fromAmount:h,toTokenAddress:d.tokenContractAddress,toAmount:g,userWalletAddress:w,enableJito:y,customPriorityFee:x?.type==="custom",serviceFeeInfo:b,referralCommissionJsVersion:zt};return y&&(j.mevInfo="jito"),j},[c,S,A,x?.value,x?.type,i?.value,i?.mode,l,u.chainId,u.tokenContractAddress,h,d.tokenContractAddress,g,w,y,b]);return(0,Lo.useCallback)(async()=>{O.info(Y.MEME_SWAP_GET_CALLDATA_PARAMS,{data:R,preset:r});let j=await $t({serviceFeeInfo:R.serviceFeeInfo,address:W,chainId:R.chainId}),[q,Z]=await ko(ar({...R,serviceFeeInfo:j}));if(q||!Z.data?.unsignedTx)throw re.error({title:q?.error_message||_("swaptrade_home_toast_initiation_error"),placement:re.DIRECTION.top}),O.error(Y.MEME_SWAP_GET_CALLDATA_ERROR,{error:q,params:R,res:Z}),new Error(q?.error_message);return{unsignedTx:Z.data.unsignedTx,calldataParams:{...R,traceData:C},originData:Z.data}},[C,R])}n();s();var $r=f(E());Qe();n();s();var Xr=f(E());function zr(){let{memeSwapStore:e,accountStore:o}=k();console.log("accountStore",o.computedAccountId);let{getJitoTxData:r}=e;return{onSolanaSign:(0,Xr.useCallback)(async i=>{try{let m=await r(i);O.info(Y.MEME_SWAP_SIGN_PARAMS,{data:{...i,unsignedTxArray:m}});let a=await jt({...i,walletId:o.computedAccountId},m);return O.info(Y.MEME_SWAP_SIGN_SUCCESS,{data:{...i,unsignedTxArray:m,signedTransactions:a},tags:{txhash:(i?.transactionHash||[]).join(",")}}),{signedTransactions:a,txArray:m}}catch(m){throw m?.message!=="Expected String"&&!Ht(m)&&re.error({title:_("swaptrade_home_toast_initiation_error"),placement:re.DIRECTION.top}),O.error(Y.MEME_SWAP_SIGN_ERROR,{error:m,data:i}),new Error(m?.error_message)}},[o.computedAccountId,r])}}function Hr(){let{memeSwapStore:e,configStore:o}=k(),{onSolanaSign:r}=zr(),{walletId:t}=ye();return(0,$r.useCallback)(async(m={})=>{let{signedTransactions:a,txArray:c}=await r(m),l=await e.onSolanaSwap({data:{walletId:t,...m},signedTransactions:a,txArray:c}),u=oe(o,"computedNativeTokenInfo.tokenContractAddress"),{calldataParams:d}=m,{fromAmount:h,fromTokenAddress:g}=d||{};return g===u&&$.set(ro,h),{...m,broadcastRes:l}},[e,r,t,o])}n();s();var kt=f(E());Qe();function Kr(){let{quoteStore:e,accountStore:o,memeSwapStore:r}=k(),{chainId:t}=ye(),{computedGetQuoteFrom:i}=e,{usePreExecuteFn:m}=tt.hooks,{TxToastCheckTypeEnum:a}=tt.global,c=m(),l=i.isNativeToken?"":i.tokenContractAddress,u=o.getAddressByChainId(i.chainId),{computedSignWalletAddress:d,computedAccountId:h}=o,g=hr(i.chainId,l),C=r.getSolanaUnsignedTx,b=(0,kt.useCallback)(S=>{let I=C(S);return{checkTypes:[a.TX_ANALYZE],from:u,chainId:i.chainId,coinId:g?.coinId,simulateTransactionParamList:I.map(T=>({transaction:T.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[C,a.TX_ANALYZE,g?.coinId,i.chainId,u]);return(0,kt.useCallback)(async(S={})=>{let I=b(S);O.info(Y.MEME_SWAP_PRE_EXECUTE_PARAMS,{data:{executeParams:I,data:S}});let[T,y]=await ko(c(I));if(T)throw re.error({title:T?.error_message||_("swaptrade_home_toast_initiation_error"),placement:re.DIRECTION.top}),O.error(Y.MEME_SWAP_PRE_EXECUTE_ERR,{data:{error:T,executeParams:I,data:S}}),new Error(T?.error_message);let x=oe(y,`${a.TX_ANALYZE}`,{});if(!x.result){let w=x.msg||oe(Nt(x.simulateTransactionResultList,W=>!Lt(W.msg)),"msg",_("swaptrade_home_toast_initiation_error"));throw re.error({title:w,placement:re.DIRECTION.top}),O.error(Y.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{res:y,error:x,...S,executeParams:I}}),new Error(w)}O.info(Y.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{res:y,...S,executeParams:I}});let A={callData:{data:I.simulateTransactionParamList?.[0]?.transaction},hasReferralCommission:S.originData?.hasReferralCommission};return r.checkCallData({chainId:+t,responseData:A,requestParams:I,accountId:h,signWalletAddress:d}),S},[c,b,a.TX_ANALYZE,t,d,h,r.checkCallData])}n();s();var no=f(E());function Zr(){let e=je(Yt),{quoteStore:o,commonStore:r}=k(),{computedValueDifference:t,quoteDiffValThreshold:i,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}=o;return(0,no.useCallback)(()=>{let{showValueDiffDialog:u,diffPercent:d,diffValueType:h,diffVal:g}=t,C=r.currencyConversion(g.replace("-","")||"0"),b=er(d,C,r.computedNowCurrencySymbol);return u?new Promise((v,S)=>{let I=oo.tip({infoType:oo.Tip.INFO_TYPE.default,title:no.default.createElement(mr,{loseDiffValueTxt:b,isUp:h==="up"}),children:no.default.createElement("p",null,_("swaptrade_valuediff_select_desc_low_liquidity_low_value")),confirmText:_("swaptrade_confirmation_btn_continue_swap"),cancelText:_("commonall_text_btn_cancel"),onConfirm:()=>{I.destroy(),e({popup_type:"valuedifference",receive_value:t.receive,paid_value:t.pay,value_diff:t.quoteDiffPercentThreshold}),O.info(Y.SWAP_PRECHECK_PROMPT,{data:{errorType:"valuedifference",...t,quoteDiffValThreshold:i,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}}),v(!0)},onClose:()=>{S(new Error("Value diff prompt closed"))},onCancel:()=>{S(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)},[t])}function en(){let e=ir(),o=Zr(),r=jr(),t=Kr(),i=Hr(),{memeSwapStore:m}=k(),{runPreconditions:a,loading:c}=Yr([e,o,r,t,i]),{setIsSwapLoading:l}=m;return(0,Jr.useEffect)(()=>{l(c)},[l,c]),{onSwap:a,loading:c}}n();s();var on=f(E());function tn(){let{buyStore:e,sellStore:o,configStore:r,quoteStore:t,commonStore:i}=k(),{currentMode:m}=r;return(0,on.useMemo)(()=>{let a=m==="buy"?e.buyValue.value:o.sellValue.value;if(to(t.computedToTokenAmount)&&to(a)){let c=he(t.computedToTokenAmount,{needBillionMillionUnit:!0,useScientificNotation:!0});return{price:ho(i.currencyConversion(t.computedToTokenValue).toString(),i.computedNowCurrencySymbol,{needPlaceholder:!0}),amount:c}}return{price:"",amount:""}},[e.buyValue?.value,i,m,t.computedToTokenAmount,t.computedToTokenValue,o.sellValue?.value])}function qm(){let e=je(),o=Qr(),{fromToken:r}=Re(),{amount:t,price:i}=tn(),{onSwap:m}=en(),{sellStore:a,buyStore:c,commonStore:{setAddFundsVisible:l},configStore:u}=k(),d=(0,St.useCallback)(()=>{let g=u.computedIsBuy?"BUY_DISABLED":"SELL_DISABLED",C=u.computedIsBuy?c.computedBuyTokenSymbol:a.computedSellTokenSymbol;return _(Ae[g],{symbol:C})},[u.computedIsBuy,c.computedBuyTokenSymbol,a.computedSellTokenSymbol]);return(0,St.useCallback)(()=>({["LIMIT_REGION"]:{disabled:!0,btnTxt:d,onClick:()=>{},btnType:"LIMIT_REGION"},["BUY_ACTIVE"]:{disabled:!1,btnTxt:()=>_(Ae["BUY_ACTIVE"],{amt:t,token:mt(oe(c,"toToken.tokenSymbol")),price:i}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"BUY_ACTIVE"},["SELL_ACTIVE"]:{disabled:!1,btnTxt:()=>_(Ae["SELL_ACTIVE"],{amt:t,token:mt(oe(a,"toToken.tokenSymbol")),price:i}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"SELL_ACTIVE"},["BUY_DISABLED"]:{disabled:!0,btnTxt:()=>_(Ae["BUY_DISABLED"],{symbol:c.computedBuyTokenSymbol}),onClick:()=>{},btnType:"BUY_DISABLED"},["SELL_DISABLED"]:{disabled:!0,btnTxt:()=>_(Ae["SELL_DISABLED"],{symbol:a.computedSellTokenSymbol}),onClick:()=>{},btnType:"SELL_DISABLED"},["FILL_UP"]:{disabled:!1,btnTxt:()=>_(Ae["FILL_UP"],{token:r.symbol}),onClick:()=>{l(!0)},btnType:"FILL_UP"}}),[t,c,r.symbol,e,m,i,a,l,d])()[o]||{disabled:!0,btnTxt:()=>d(),onClick:()=>{}}}n();s();var Ct=f(E()),Tt=f(G());n();s();var ht={root:"_root_1hcsq_1",error:"_error_1hcsq_10",skeleton:"_skeleton_1hcsq_13"};var na=({className:e,loading:o,amount:r,currency:t})=>{let m=r&&t?he(r,{needBillionMillionUnit:!1}):"--";return Ct.default.createElement(N,{loading:o,height:16,className:(0,Tt.default)(e,ht.skeleton)},Ct.default.createElement("div",{className:(0,Tt.default)(e,ht.root)},_("swaptrade_trade_title_balance_amt",{num:m,symbol:t})))};n();s();var nn=f(E()),Bo=f(Ie());n();s();var wo=f(E()),Do=f(G());n();s();var so={root:"_root_1r990_1",item:"_item_1r990_8",active:"_active_1r990_23",skeleton:"_skeleton_1r990_27"};var rn=({className:e="",loading:o,tabList:r})=>wo.default.createElement(N,{loading:o,height:32,className:(0,Do.default)(e,so.skeleton)},wo.default.createElement("div",{className:(0,Do.default)(e,so.root)},r.map(t=>wo.default.createElement(B,{key:t.name,className:(0,Do.default)(so.item,t.active&&so.active),onClick:t.onClick},t.name))));var Ma=V(({className:e="",loading:o,mode:r})=>{let t=(0,Bo.useHistory)(),i=(0,Bo.useLocation)(),{search:m,pathname:a}=i,c=X(Ft),l=X(Vt),{buyStore:u,sellStore:d}=k(),h=[{name:_("swaptrade_market_item_buy"),active:r==="buy",onClick:()=>{a!==c&&(u.setToToken({}),$.set(rt,nt.MEME_BUY),t.replace(c+dt(lt(pt(m)))))}},{name:_("swaptrade_market_tab_item_sell"),active:r==="sell",onClick:()=>{a!==l&&(d.setFromToken({}),$.set(rt,nt.MEME_SELL),t.replace(l+dt(lt(pt(m)))))}}];return nn.default.createElement(rn,{className:e,loading:o,tabList:h})});n();s();var $e=f(E()),sn=f(G());n();s();var yt={root:"_root_14kir_1","root-tg":"_root-tg_14kir_10",rootTg:"_root-tg_14kir_10"};var Wa=({children:e})=>{let o=Wt(),r=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[t,i]=(0,$e.useState)(r()),m=()=>{i(r())};return(0,$e.useEffect)(()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),$e.default.createElement("div",{className:(0,sn.default)(yt.root,{[yt.rootTg]:o}),style:{width:t}},e)};n();s();var He=f(E());n();s();n();s();var mo=f(E()),cn=f(G());n();s();var Ne=f(E());n();s();var io={root:"_root_1d8gy_1",select:"_select_1d8gy_11",body:"_body_1d8gy_14",item:"_item_1d8gy_18",name:"_name_1d8gy_35",check:"_check_1d8gy_44"};var Qn=({name:e,onClick:o,checked:r})=>Ne.default.createElement(B,{className:io.item,onClick:o},Ne.default.createElement("span",{className:io.name},e),r?Ne.default.createElement(Pt.Circle,{checked:!0,className:io.check}):null),Yn=({visible:e,setVisible:o})=>{let{isSm:r}=To(),{sellStore:t}=k(),{fromToken:i,setSellValue:m,sellValue:a,isPercentMode:c,setIsPercentMode:l}=t,u=[{key:"percent-mode",name:_("swaptrade_meme_order_option_percentage"),onClick:()=>{m({value:"",type:"custom"}),l(!0),o(!1)},checked:a.type==="custom"&&c},{key:"number-mode",name:i?.tokenSymbol||"",onClick:()=>{m({value:"",type:"custom"}),l(!1),o(!1)},checked:a.type==="custom"&&!c}];return Ne.default.createElement(oo.Action,{onClose:()=>{o(!1)},visible:e,windowStyle:{borderTopLeftRadius:r?16:6,borderTopRightRadius:r?16:6},hideCloseBtn:r},Ne.default.createElement("div",{className:io.body},u.map(d=>Ne.default.createElement(Qn,{key:d.key,...d}))))},mn=V(Yn);n();s();var Le={"input-container":"_input-container_fyhvp_1",inputContainer:"_input-container_fyhvp_1",suffix:"_suffix_fyhvp_4","mode-text":"_mode-text_fyhvp_7",modeText:"_mode-text_fyhvp_7"};n();s();var Q=f(E()),Pe=f(G());Qe();var an=()=>{let{buyStore:e,sellStore:o,configStore:r}=k(),{currentMode:t}=r,{buyValue:i,setBuyValue:m,toToken:a}=e,{sellValue:c,setSellValue:l,fromToken:u,isPercentMode:d}=o,[h,g,C]=(0,Q.useMemo)(()=>t==="buy"?[i.value,m,i.type]:[c.value,l,c.type],[t,i,m,c,l]),b=W=>{t==="sell"&&c.type==="custom"&&d&&D.gt(W,100)||(g({value:W,type:"custom",index:3}),O.info(Y.MEME_SWAP_AMOUNT_INPUT,{data:{value:W,type:"custom",index:3,currentMode:t}}))},[,v]=(0,Q.useTransition)(),S=W=>{v(()=>{!go(W)&&b(W)})},[I,T]=(0,Q.useState)(!1),[y,x]=(0,Q.useMemo)(()=>t==="buy"?[null,Math.min(it,Number(a?.decimals))]:c.type==="custom"&&d?[Q.default.createElement("div",{key:"meme-swap-percentage-suffix",className:(0,Pe.default)("flex items-center",Le.suffix)},Q.default.createElement("span",{className:(0,Pe.default)(Le.modeText)},_("swaptrade_meme_order_option_percentage")),Q.default.createElement(B,{onClick:()=>T(!0)},Q.default.createElement(U,{className:(0,Pe.default)("okx-defi-dex-market-sort-down","content-primary"),style:{fontSize:12,cursor:"pointer"}}))),2]:[Q.default.createElement("div",{key:"meme-swap-default-suffix",className:(0,Pe.default)("flex items-center",Le.suffix)},Q.default.createElement("span",{className:(0,Pe.default)(Le.modeText)},u?.tokenSymbol||""),Q.default.createElement(B,{onClick:()=>T(!0)},Q.default.createElement(U,{className:(0,Pe.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"}}))),Math.min(it,Number(u?.decimals)),Number.MAX_SAFE_INTEGER],[t,c.type,u,a,d]),[A,w]=(0,Q.useState)(null);return(0,Q.useEffect)(()=>{At(oe(A,"focus"))&&A.focus()},[c.type,A]),{setInputRef:w,suffix:y,precision:x,inputModeSwitchVisible:I,setVisible:T,changeHandle:S,value:h,valueType:C}};var un=V(()=>{let{setInputRef:e,suffix:o,precision:r,inputModeSwitchVisible:t,setVisible:i,changeHandle:m,value:a}=an();return mo.default.createElement(mo.default.Fragment,null,mo.default.createElement(Jo.Number,{size:Jo.SIZE.xl,onRef:c=>{e(c)},useReactTransition:!0,className:(0,cn.default)(Le.inputContainer),value:a,inputMode:"decimal",autoComplete:"off",spellCheck:"false",onChange:m,suffix:o,precision:r,enableMinus:!1,min:0}),mo.default.createElement(mn,{visible:t,setVisible:i}))});var ln=un;n();s();var De=f(E()),dn=f(G());n();s();var Et=f(E()),xt=f(G());n();s();var we={select:"_select_gn7fy_1",skeleton:"_skeleton_gn7fy_5","select-item":"_select-item_gn7fy_9",selectItem:"_select-item_gn7fy_9",item:"_item_gn7fy_9",selected:"_selected_gn7fy_26"};function pn({loading:e,item:o,handleClick:r,selected:t}){return Et.default.createElement(N,{loading:e,height:88,className:(0,xt.default)(we.skeleton)},Et.default.createElement(B,{className:(0,xt.default)(we.selectItem,we.item,{[we.selected]:t}),onClick:()=>{r(o)}},o.label))}var qn=({hideCustom:e})=>{let{configStore:o,buyStore:r,sellStore:t,quoteStore:i}=k(),{initLoading:m,currentMode:a}=o,{buyValue:c,setBuyValue:l,currentBuyPreset:u}=r,{sellValue:d,setSellValue:h,currentSellPreset:g}=t,[C,b]=(0,De.useMemo)(()=>a==="sell"?[d,h]:[c,l],[a,c,l,d,h]),v=(0,De.useMemo)(()=>{if(m){let A=[{label:"",key:"meme_custom1"},{label:"",key:"meme_custom2"},{label:"",key:"meme_custom3"}];return e||A.push({label:"",key:"meme_custom4"}),A}if(!u||!g)return[];let{amountList:T=[]}=u,{amountList:y=[]}=g,x=a==="sell"?y.map((A,w)=>({value:A,key:`meme_select${w+1}`,label:ot.percent(Number(A)*100),type:"select",index:w})):T.map((A,w)=>({value:A,label:ot.formatNumber(A),key:`meme_select${w+1}`,type:"select",index:w}));return e||x.push({value:"",key:"custom",label:_("swaptrade_dialog_modal_custom"),type:"custom",index:3}),x},[a,u,g,m,e]),S=T=>{if(a==="buy"&&C.type==="custom"&&T.type!=="custom"&&$.set(ro,""),a==="buy"&&!T?.value){let y=$.get(ro)||"",x="";Ot(y)?x="":x=new D.BigNumber(y).toString(10),b({value:x,type:"custom",index:3});return}if(a==="sell"&&!T?.value){b({value:"",type:"custom",index:3});return}b({value:T.value,type:"select",index:T.index}),O.info(Y.MEME_SWAP_AMOUNT_SELECT,{data:{type:"select",item:T,currentMode:a}})},I=(0,De.useMemo)(()=>C.type==="custom"?v.findIndex(T=>T.type==="custom"):v.findIndex((T,y)=>y===C.index),[v,C]);return De.default.createElement("div",{className:(0,dn.default)("flex items-center justify-between",we.select)},v.map((T,y)=>De.default.createElement(pn,{key:y,loading:i?.initLoading,item:T,handleClick:S,selected:y===I})))},fn=V(qn);var Rn=V(({className:e,hideCustom:o})=>{let{buyStore:r,sellStore:t,configStore:i}=k(),{buyValue:m}=r,{sellValue:a}=t,{initLoading:c,currentMode:l}=i,u=(0,He.useMemo)(()=>l==="buy"?m.type==="custom":a.type!=="select",[l,m,a]);return He.default.createElement("div",{className:e},He.default.createElement(fn,{hideCustom:o}),!c&&u&&He.default.createElement(ln,null))}),pu=Rn;n();s();var bt=f(E());n();s();var M=f(E()),gn=f(Ie()),te=f(G());n();s();var Vo=f(E());var jn=({disclaimerVisible:e,isNotLimitRegion:o})=>{let[r,t]=(0,Vo.useState)(!1);return(0,Vo.useEffect)(()=>{$.get(qe)||t(!e&&o)},[e,o]),{showCoach:r,setShowCoach:t}},Fo=jn;n();s();var _n=f(E());function Uo(e,o="--"){let{commonStore:r}=k(),t=r?.currencyConversion,i=r?.computedNowCurrencySymbol;return(0,_n.useMemo)(()=>{if(!e&&e!==0&&e!=="0")return o;let m=Number(e);return Number.isNaN(m)?String(e):ho(t(e).toString(),i,{needPlaceholder:!0,needK:!1})},[e,o,t,i])}n();s();var H={"go-icon":"_go-icon_1rnk1_1",goIcon:"_go-icon_1rnk1_1","preset-title":"_preset-title_1rnk1_4",presetTitle:"_preset-title_1rnk1_4","config-title":"_config-title_1rnk1_5",configTitle:"_config-title_1rnk1_5","preset-container":"_preset-container_1rnk1_17",presetContainer:"_preset-container_1rnk1_17","config-container":"_config-container_1rnk1_18",configContainer:"_config-container_1rnk1_18","preset-name":"_preset-name_1rnk1_21",presetName:"_preset-name_1rnk1_21",config:"_config_1rnk1_5",divide:"_divide_1rnk1_34","err-text":"_err-text_1rnk1_41",errText:"_err-text_1rnk1_41",green:"_green_1rnk1_47",yellow:"_yellow_1rnk1_50",red:"_red_1rnk1_53"};var $n=({initLoading:e,configClick:o,presetClick:r,className:t})=>{let{configStore:i,quoteStore:m,commonStore:a}=k(),{totalFeeUSD:c}=Mo(),{jitoIsSuccess:l,computedQuoteSafemoon:u,computedAutoSlippage:d,mevUnstableShowLevel:h,computedQuoteCompleted:g}=m,{currentMode:C,tradeScene:b}=i,{currentPresetId:v,currentPresetList:S,setCurrentPresetId:I}=xr(),{currentPreset:T}=ue(),{slippage:y,priorityMode:x,manualType:A}=T,w=(0,M.useMemo)(()=>{let P=S.filter(Zo=>Zo.id.includes(Co)),Ge=S.find(Zo=>Zo.id===v),Gn=Ge?.id?.includes(Co);return Ge&&!Gn?[...P,Ge].slice(0,3):S.slice(0,3)},[S,v]),W=(0,gn.useHistory)(),R=()=>{if(o)o();else{let P=`${X(Se)}?tab=${C}`;W.push(P)}},ve=()=>{if(r)r();else{let P=`${X(So)}?tab=${C}`;W.push(P)}},j=P=>{I(P.id)},q=bo({priorityMode:x,manualType:A,jitoIsSuccess:l,mevUnstableShowLevel:h,computedQuoteCompleted:g}),Z=vo({quoteSafemoon:u,auto:d,slippage:y}),_e=Z?.tips?Z:null,Je=(0,M.useMemo)(()=>{let P=Ge=>Ge?`${Me(yo(Ge),{needZero:!1})}`:"--";return y?.mode===z.FIXED?P(y?.value):y?.mode===z.DYNAMIC?y?.customMax?P(D.min(y?.customMax||0,d||0)):P(d):"--"},[d,y?.customMax,y?.mode,y?.value]),zo=(0,M.useMemo)(()=>{let P=b===0&&u;return y?.mode===z.DYNAMIC&&y?.customMax&&(P=D.lt(y?.customMax,d)),P?"yellow":"default"},[u,d,y?.customMax,y?.mode,b]),$o=Uo(c),{disclaimerVisible:lo}=a,{computedIsNotLimitRegion:po}=Te,{showCoach:Ho,setShowCoach:Ko}=Fo({disclaimerVisible:lo,isNotLimitRegion:po}),fo=(0,M.useRef)(null),_o=(0,M.useRef)(null),J=(0,M.useMemo)(()=>[{target:()=>fo.current,title:_("swaptrade_meme_coachmrk_title_trading_presets"),placement:ge.DIRECTION.top,description:_("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>_o.current,title:_("swaptrade_meme_coachmrk_title_trading_presets"),placement:ge.DIRECTION.top,description:_("swaptrade_meme_coachmrk_desc_show_presets")}],[]);return M.default.createElement("div",{className:t},M.default.createElement(N,{loading:e,height:16,className:"mb-24"},M.default.createElement("div",{className:(0,te.default)("flex items-center justify-between",H.preset)},M.default.createElement("span",{className:(0,te.default)(H.presetTitle)},_("swaptrade_meme_regularcell_label_preset")),M.default.createElement("div",{className:(0,te.default)("flex items-center",H.presetContainer),ref:fo},M.default.createElement(Ye,{style:{marginRight:"8px"},size:Ye.SIZE.xs,category:Ye.CATEGORY.fill,type:Ye.NEW_TYPE.primary,hideContent:!0,activeId:v},w.map(P=>M.default.createElement(Ye.TabPane,{key:P.id,onClick:()=>{j(P)},tab:P.id===`${Co}2`?M.default.createElement("div",{className:"flex items-center"},M.default.createElement(U,{className:(0,te.default)(P.id===v?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:16,marginRight:"4px"},a11yText:"meme-mode-icon"}),M.default.createElement("span",{className:H.presetName},P.name)):M.default.createElement("span",{className:H.presetName},P.name),id:P.id}))),M.default.createElement(U,{className:(0,te.default)("okx-defi-marketplace-chevron-right"),style:{fontSize:16,cursor:"pointer"},onClick:ve,a11yText:"dropdown"})))),M.default.createElement(N,{loading:e,height:16,className:(0,te.default)("mb-24")},M.default.createElement("div",{className:(0,te.default)("flex items-center justify-between",H.config)},M.default.createElement("span",{className:(0,te.default)(H.configTitle)},_("swaptrade_swap_button_setting")),M.default.createElement(B,{className:(0,te.default)("flex items-center",H.configContainer),onClick:R,ref:_o},M.default.createElement(Ce,{icon:"okx-defi-dex-slippage",text:Je,status:zo}),M.default.createElement("div",{className:H.divide}),M.default.createElement(Ce,{icon:"okx-defi-dex-fee",text:$o}),b===0&&M.default.createElement(M.default.Fragment,null,M.default.createElement("div",{className:H.divide}),M.default.createElement(Ce,{text:q.text,icon:q.icon,status:q.status,tooltipText:q.tips,showWarningIcon:q.showWarningIcon})),M.default.createElement(U,{className:(0,te.default)("okx-defi-marketplace-chevron-right",H.goIcon),style:{fontSize:16},a11yText:"config-item"}))),_e&&M.default.createElement("div",{className:(0,te.default)(H.errText,H[_e.tipsStatus||_e.status])},_e.tips),M.default.createElement(ge.Tour,{show:Ho,finishText:_("commonall_button_text_done"),onClose:()=>{Ko(!1),$.set(qe,"1")},steps:J})))},kn=V($n);n();s();var L=f(E()),Sn=f(Ie()),se=f(G());n();s();var ne={"preset-name":"_preset-name_16uhg_1",presetName:"_preset-name_16uhg_1","custom-name":"_custom-name_16uhg_11",customName:"_custom-name_16uhg_11","preset-icon":"_preset-icon_16uhg_14",presetIcon:"_preset-icon_16uhg_14","go-icon":"_go-icon_16uhg_17",goIcon:"_go-icon_16uhg_17","preset-container":"_preset-container_16uhg_20",presetContainer:"_preset-container_16uhg_20","chain-logo":"_chain-logo_16uhg_28",chainLogo:"_chain-logo_16uhg_28","config-container":"_config-container_16uhg_31",configContainer:"_config-container_16uhg_31",divide:"_divide_16uhg_35","err-text":"_err-text_16uhg_41",errText:"_err-text_16uhg_41","mev-text":"_mev-text_16uhg_48",mevText:"_mev-text_16uhg_48"};var Hn=({initLoading:e,configClick:o,presetClick:r,className:t})=>{let{configStore:i,quoteStore:m,commonStore:a}=k(),{jitoIsSuccess:c,computedQuoteSafemoon:l,computedAutoSlippage:u,mevUnstableShowLevel:d,computedQuoteCompleted:h}=m,{totalFeeUSD:g}=Mo(),{computedConfig:C,currentMode:b,tradeScene:v}=i,I=C?.nativeTokenInfo?.chainLogoUrl,{currentPreset:T}=ue(),{name:y,slippage:x,priorityMode:A,manualType:w}=T,W=(0,Sn.useHistory)(),R=()=>{if(o)o();else{let J=`${X(Se)}?tab=${b}`;W.push(J)}},ve=()=>{if(r)r();else{let J=`${X(So)}?tab=${b}`;W.push(J)}},j=bo({priorityMode:A,manualType:w,jitoIsSuccess:c,mevUnstableShowLevel:d,computedQuoteCompleted:h}),q=vo({quoteSafemoon:l,auto:u,slippage:x}),Z=q?.tips?q:null,{disclaimerVisible:_e}=a,{computedIsNotLimitRegion:Je}=Te,{showCoach:zo,setShowCoach:$o}=Fo({disclaimerVisible:_e,isNotLimitRegion:Je}),lo=(0,L.useRef)(null),po=(0,L.useRef)(null),Ho=(0,L.useMemo)(()=>[{target:()=>lo.current,title:_("swaptrade_meme_coachmrk_title_trading_presets"),placement:ge.DIRECTION.bottom,description:_("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>po.current,title:_("swaptrade_meme_coachmrk_title_trading_presets"),placement:ge.DIRECTION.bottom,description:_("swaptrade_meme_coachmrk_desc_show_presets")}],[]),Ko=(0,L.useMemo)(()=>{let J=P=>P?`${Me(yo(P),{needZero:!1})}`:"--";return x?.mode===z.FIXED?J(x?.value):x?.mode===z.DYNAMIC?x?.customMax?J(D.min(x?.customMax||0,u||0).toString()):J(u):"--"},[u,x?.customMax,x?.mode,x?.value]),fo=(0,L.useMemo)(()=>{let J=v===0&&l;return x?.mode===z.DYNAMIC&&x?.customMax&&(J=D.lt(x?.customMax,u)),J?"yellow":"default"},[l,u,x?.customMax,x?.mode,v]),_o=Uo(g);return L.default.createElement(N,{loading:e,height:16,className:(0,se.default)(t)},L.default.createElement("div",{className:t},L.default.createElement("div",{className:(0,se.default)("flex items-center justify-between")},L.default.createElement(B,{className:(0,se.default)("flex items-center",ne.presetContainer),onClick:ve,ref:lo},L.default.createElement(Eo,{src:I,size:16,className:(0,se.default)(ne.chainLogo)}),L.default.createElement("span",{className:(0,se.default)(ne.presetName)},y),L.default.createElement(U,{className:(0,se.default)("okx-defi-game-caretup",ne.presetIcon),style:{fontSize:16},a11yText:"dropdown"})),L.default.createElement(B,{className:(0,se.default)("flex items-center",ne.configContainer),onClick:R,ref:po},L.default.createElement("div",{className:(0,se.default)("flex items-center flex-wrap justify-end")},L.default.createElement(Ce,{icon:"okx-defi-dex-slippage",text:Ko,status:fo}),L.default.createElement("div",{className:ne.divide}),L.default.createElement(Ce,{icon:"okx-defi-dex-fee",text:_o}),v===0&&L.default.createElement(L.default.Fragment,null,L.default.createElement("div",{className:ne.divide}),L.default.createElement(Ce,{text:j.text,icon:j.icon,status:j.status,tooltipText:j.tips,showWarningIcon:j.showWarningIcon}))),L.default.createElement(U,{className:(0,se.default)("okx-defi-marketplace-chevron-right",ne.goIcon),style:{fontSize:16},a11yText:"config-item"}))),Z&&L.default.createElement("div",{className:(0,se.default)(ne.errText,ne[Z.tipsStatus||Z.status])},Z.tips),L.default.createElement(ge.Tour,{show:zo,finishText:_("commonall_button_text_done"),onClose:()=>{$o(!1),$.set(qe,"1")},steps:Ho})))},hn=V(Hn);var Kn=e=>{let{isSm:o}=To();return o?bt.default.createElement(hn,{...e}):bt.default.createElement(kn,{...e})},Pl=Kn;n();s();var Be=f(E()),vt=f(G());n();s();var ao={"btn-loading":"_btn-loading_wqqmp_1",btnLoading:"_btn-loading_wqqmp_1",btn:"_btn_wqqmp_1","btn-content":"_btn-content_wqqmp_8",btnContent:"_btn-content_wqqmp_8",flash:"_flash_wqqmp_11"};var Xl=V(({loading:e,className:o,useMemeSwapBtnProps:r})=>{let{btnTxt:t,btnType:i,statusType:m,onClick:a,...c}=r(),l=["BUY_ACTIVE","SELL_ACTIVE"].includes(i),u=(0,Be.useCallback)(()=>{setTimeout(()=>{a?.()})},[a]);return Be.default.createElement(N,{height:40,loading:e,className:ao.btnLoading},Be.default.createElement(eo,{className:(0,vt.default)(ao.btn,o),contentClassName:ao.btnContent,category:eo.CATEGORY.fill,type:eo.TYPE.primary,size:eo.SIZE.lg,block:!0,onClick:u,...c},l&&Be.default.createElement(U,{className:(0,vt.default)("okx-defi-dex-quick-filled",ao.flash),style:{fontSize:16},a11yText:"flash"}),Be.default.createElement("span",null,t?.())))});n();s();var ie=f(E()),Wo=f(G());n();s();var Oo=f(E());function Cn({userUniqueId:e,computedAccountId:o,chainId:r,debouncedFetchPositionList:t,positionList:i,fromToken:m,setFromToken:a,toToken:c,setToToken:l}){let{configStore:u,accountStore:d}=k(),{currentMode:h}=u,g=br(),C=(0,Oo.useMemo)(()=>!i||i?.length===0,[i]),b=S=>{if(h==="sell"?S?.tokenContractAddress!==m?.tokenContractAddress&&a(S):S?.tokenContractAddress!==c?.tokenContractAddress&&l(S),g(),ke()){let T=document.querySelector("#meme-swap-container");T&&T.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})},{loaded:v}=Sr(d);return(0,Oo.useEffect)(()=>{if(!!v&&e&&o&&r){let S={chainId:r,accountId:o,userUniqueId:e},I=kr.getMinAmountThresholdParam();I&&(S.minAmountThreshold=I),t(S)}},[r,o,e,v]),{isEmptyData:C,handleSelect:b}}n();s();var It=f(E()),yn=f(G());n();s();var Tn={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var Zn=()=>{let e=()=>It.default.createElement(et.State,{type:et.State.TYPE.noResult,title:_("swaptrade_general_emptystate_no_assets")});return It.default.createElement("div",{className:(0,yn.default)("flex justify-content-center align-items-center",Tn.emptyContainer)},e())},En=Zn;n();s();var Ve={"my-position":"_my-position_e4ojt_1",myPosition:"_my-position_e4ojt_1",line:"_line_e4ojt_4","title-part":"_title-part_e4ojt_9",titlePart:"_title-part_e4ojt_9",title:"_title_e4ojt_9","chain-logo":"_chain-logo_e4ojt_23",chainLogo:"_chain-logo_e4ojt_23",container:"_container_e4ojt_26"};var Jn=V(()=>{let{configStore:e,memePositionStore:o,accountStore:r,commonStore:t,buyStore:i,sellStore:m}=k(),{computedConfig:a}=e,c=a?.nativeTokenInfo,l=c?.chainLogoUrl,u=c?.chainId,{fetchPositionList:d,positionList:h,initState:g}=o,{computedAccountId:C}=r,{userUniqueId:b}=t,{setToToken:v,toToken:S}=i,{setFromToken:I,fromToken:T}=m,y=Cr(d,300),{isEmptyData:x,handleSelect:A}=Cn({userUniqueId:b,computedAccountId:C,chainId:u,debouncedFetchPositionList:y,positionList:h,setToToken:v,toToken:S,setFromToken:I,fromToken:T});if(!b)return null;let w=(0,ie.useMemo)(()=>x?ie.default.createElement(En,null):ie.default.createElement("div",{className:Ve.container},ie.default.createElement(vr,{key:u,isMyPosition:!0,normalList:h,selectToken:A})),[x,T?.tokenContractAddress,S?.tokenContractAddress,h]);return g&&ie.default.createElement("div",{className:(0,Wo.default)(Ve.myPosition)},ie.default.createElement("div",{className:Ve.line}),ie.default.createElement("div",{className:(0,Wo.default)("flex items-center justify-between",Ve.titlePart)},ie.default.createElement("span",{className:Ve.title},_("swaptrade_meme_order_title_my_positions")),ie.default.createElement(Eo,{src:l,size:24,className:(0,Wo.default)(Ve.chainLogo)})),w)}),wp=Jn;n();s();n();s();var Ue=f(E()),Go=f(G());n();s();var Fe={content:"_content_sj07h_1",left:"_left_sj07h_6",right:"_right_sj07h_13",skeleton:"_skeleton_sj07h_26","right-skeleton":"_right-skeleton_sj07h_30",rightSkeleton:"_right-skeleton_sj07h_30",border:"_border_sj07h_34"};var xn=({className:e="",rightLoading:o,initLoading:r,fee:t})=>{let{getUsd:i}=Xe(k),m=i(t);return Ue.default.createElement(N,{loading:r,height:16,className:(0,Go.default)(e,Fe.skeleton)},Ue.default.createElement("div",{className:(0,Go.default)(e,Fe.content)},Ue.default.createElement("div",{className:Fe.left},_("swaptrade_order_info_label_network_fee")),Ue.default.createElement(N,{loading:o,height:16,className:Fe.rightSkeleton},Ue.default.createElement("div",{className:Fe.right},Ue.default.createElement("div",{className:(0,Go.default)("ml-4","content-primary",Fe.rightText)},m)))))};n();s();var fe=f(E()),bn=f(Ie()),co=f(G());n();s();var xe={content:"_content_18lf9_1",left:"_left_18lf9_6",right:"_right_18lf9_13",skeleton:"_skeleton_18lf9_26","right-skeleton":"_right-skeleton_18lf9_30",rightSkeleton:"_right-skeleton_18lf9_30"};var vn=({className:e="",rightLoading:o,initLoading:r,type:t="market",currency:i,amount:m,mode:a})=>{let c=(0,bn.useHistory)(),l={market:_("swaptrade_modal_dialog_option_market"),fast:_("swaptrade_modal_dialog_option_fast5x"),turbo:_("swaptrade_modal_dialog_option_turbo10x")},u=`${X(Se)}?tab=${a}`,d=m&&i?`${he(m,{needBillionMillionUnit:!1})} ${i}`:"--";return fe.default.createElement(N,{loading:r,height:16,className:(0,co.default)(e,xe.skeleton)},fe.default.createElement("div",{className:(0,co.default)(e,xe.content)},fe.default.createElement("div",{className:xe.left},_("swaptrade_modal_dialog_title_priority")),fe.default.createElement(N,{loading:o,height:16,className:xe.rightSkeleton},fe.default.createElement(B,{className:xe.right,onClick:()=>{c.push(u)}},t in l?fe.default.createElement(Bt,{size:Dt.SIZE.sm},l[t]):null,fe.default.createElement("div",{className:(0,co.default)("ml-4","content-primary",xe.rightText)},d),fe.default.createElement(U,{iconName:"okx-defi-dex-arrow-right-1",className:(0,co.default)("ml-4","content-secondary",xe.rightIcon)})))))};n();s();var me=f(E()),Yo=f(G());n();s();var Qo=f(E());n();s();var In={"value-diff-percent":"_value-diff-percent_kz08o_1",valueDiffPercent:"_value-diff-percent_kz08o_1","base-up":"_base-up_kz08o_10",baseUp:"_base-up_kz08o_10","base-down":"_base-down_kz08o_13",baseDown:"_base-down_kz08o_13"};var Mn=({computedValueDifference:e,formattedFiatValue:o,crossValueDifferenceTooltipProps:r})=>{if(!o)return null;let{diffPercentWeakTip:t}=e,i=rr({specialValueRangePrompt:t,isOfflineType:!1,isReferredFee:!1});return Qo.default.createElement("div",{className:In.valueDiffPercent},Qo.default.createElement("span",null,`\u2248${o}`),Qo.default.createElement(tr,{isSwapChain:!0,valueDifference:e,swapChainValueDifferenceTooltip:i,crossValueDifferenceTooltipProps:r}))};n();s();var le=f(E());var An=({stop:e})=>{let o=(0,le.useRef)(null);(0,le.useEffect)(()=>{o.current?.beginElement()},[]),(0,le.useEffect)(()=>{e?o.current?.endElement():o.current?.beginElement()},[e]);let r=["rotate(","-90"," ","8"," ","8",")"].join("");return le.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},le.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),le.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:r},le.default.createElement("animate",{ref:o,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};n();s();var be={content:"_content_1bbbw_1",left:"_left_1bbbw_6",right:"_right_1bbbw_13",skeleton:"_skeleton_1bbbw_26","right-skeleton":"_right-skeleton_1bbbw_30",rightSkeleton:"_right-skeleton_1bbbw_30",amount:"_amount_1bbbw_34","to-token":"_to-token_1bbbw_41",toToken:"_to-token_1bbbw_41"};var es=({className:e="",initLoading:o,rightLoading:r,circleLoading:t,tokenAmount:i,tokenSymbol:m})=>{let{quoteStore:a,commonStore:{currencyConversionWithSymbol:c}}=k(),{computedValueDifference:l,computedToTokenValue:u}=a,d=u?c(u,{needBillionMillionUnit:!1}):"";return me.default.createElement(N,{loading:o,height:32,className:(0,Yo.default)(e,be.skeleton)},me.default.createElement("div",{className:(0,Yo.default)(e,be.content)},me.default.createElement("div",{className:be.left},_("swaptrade_modal_label_quote")),me.default.createElement(N,{loading:r,height:32,className:be.rightSkeleton},me.default.createElement("div",{className:be.right},me.default.createElement("div",{className:"flex items-center"},me.default.createElement(An,{stop:t}),me.default.createElement("div",{className:(0,Yo.default)("ml-4 content-primary",be.amount)},i?he(i,{needBillionMillionUnit:!1}):"--",me.default.createElement("div",{className:be.toToken},m))),me.default.createElement(Mn,{formattedFiatValue:d,computedValueDifference:l})))))},Nn=V(es);n();s();var K=f(E()),Ke=f(G());n();s();var Mt=f(E()),Pn=f(G());n();s();var Ln={text:"_text_1p989_1"};var os=({text:e,tooltip:o,toolTipsProps:r,onShowExplain:t})=>Mt.default.createElement(wt,{title:o,...r},Mt.default.createElement("span",{onMouseEnter:t,className:(0,Pn.default)(Ln.text)},e)),wn=os;n();s();var Oe=f(E());var Dn=(e,o,r,t)=>{let{fromToken:i,toToken:m}=o,a=(0,Oe.useRef)(""),c=(0,Oe.useRef)(""),l=(0,Oe.useRef)(""),u=(0,Oe.useRef)("");(0,Oe.useEffect)(()=>{let d=a.current,h=c.current,{tokenSymbol:g}=i||{},{tokenSymbol:C}=m||{},{serviceFeeUsd:b}=e.computedServiceFeeInfo||{},v=r?t:b,S=e.computedGetQuoteFromValue||e.computedFromTokenValue,I=b&&g&&C&&S,T=d!==b&&h!==S||l.current!==C||u.current!==g;I&&T&&(Qt({fee_shown:v,from_token_symbol:i.tokenSymbol,to_token_symbol:m.tokenSymbol,from_to_pair_symbol:`${i.tokenSymbol}:${m.tokenSymbol}`,input_amount_usd:S,source:Gt()?.source,terminal:ke()?ct.Plugin:ct.WEB,selected_chain_id:i.chainId,chain_name:i.chainName}),a.current=v,c.current=S,l.current=C,u.current=g)},[i,m,e.computedGetQuoteFrom,e.computedServiceFeeInfo,r,t,e])};n();s();var pe={content:"_content_1bup3_1",left:"_left_1bup3_6",right:"_right_1bup3_13",skeleton:"_skeleton_1bup3_26","right-skeleton":"_right-skeleton_1bup3_30",rightSkeleton:"_right-skeleton_1bup3_30","service-fee":"_service-fee_1bup3_34",serviceFee:"_service-fee_1bup3_34","original-percent-right":"_original-percent-right_1bup3_41",originalPercentRight:"_original-percent-right_1bup3_41",icon:"_icon_1bup3_46",referralTag:"_referralTag_1bup3_49",referralArrow:"_referralArrow_1bup3_52"};var ts=({className:e="",initLoading:o,rightLoading:r,useBussinessStore:t,usePercentage:i,labelText:m="",unbindRefCode:a,onStopUseRefCode:c,referralMonitorParams:l})=>{let{getUsd:u}=Xe(t),{quoteStore:d}=t(),{computedGetQuoteFrom:h,computedGetQuoteTo:g}=d,C=(0,K.useMemo)(()=>({fromToken:h,toToken:g}),[h,g]),b=d.computedServiceFeeInfo||{},{isDisplayServiceFee:v,label:S,tooltip:I,discountedPercent:T,hasDiscount:y,originalPercent:x}=or({...b,formatServiceFeeUsd:u});if(Dn(d,C,i,T),!v)return null;let A=!!a,w=A?B:"div";return K.default.createElement(N,{loading:o,height:16,className:(0,Ke.default)(e,pe.skeleton)},K.default.createElement("div",{className:(0,Ke.default)(e,pe.content)},K.default.createElement("div",{className:(0,Ke.default)("flex",pe.left)},K.default.createElement(wn,{tooltip:I,text:m||S})),K.default.createElement(N,{loading:r,height:16,className:pe.rightSkeleton},K.default.createElement("div",{className:pe.right},K.default.createElement(w,{className:(0,Ke.default)("ml-4 content-primary",pe.serviceFee),onClick:()=>{!A||gr({onStop:c,...l})}},A&&K.default.createElement(_r,{className:pe.referralTag,...l}),K.default.createElement("span",null,T),y&&K.default.createElement("span",{className:pe.originalPercentRight},x),A&&K.default.createElement(U,{iconName:(0,Ke.default)(pe.referralArrow,"okx-defi-marketplace-chevron-right")}))))))},Bn=V(ts);n();s();var de=f(E()),Vn=f(Ie()),Ze=f(G());n();s();var ae={content:"_content_1897u_1",left:"_left_1897u_6",right:"_right_1897u_13",skeleton:"_skeleton_1897u_26","right-skeleton":"_right-skeleton_1897u_30",rightSkeleton:"_right-skeleton_1897u_30",warning:"_warning_1897u_34","warning-text":"_warning-text_1897u_37",warningText:"_warning-text_1897u_37"};var Fn=({className:e="",initLoading:o,rightLoading:r,percent:t,isSafeMoonToken:i=0,tokenSymbol:m="",tokenTax:a="",mode:c})=>{let l=(0,Vn.useHistory)(),u=t?`${Me(D.mul(t,100),{needZero:!1})}`:"--",d=i===1&&!r&&D.gt(a,0)&&D.lt(t,a),h=d?Me(D.mul(a,100),{needZero:!1}):"--",g=`${X(Se)}?tab=${c}`;return de.default.createElement(N,{loading:o,height:16,className:(0,Ze.default)(e,ae.skeleton)},de.default.createElement("div",{className:(0,Ze.default)(e,ae.root)},de.default.createElement("div",{className:ae.content},de.default.createElement("div",{className:ae.left},_("swaptrade_extension_header_title_slippage_tolerance")),de.default.createElement(N,{loading:r,height:16,className:ae.rightSkeleton},de.default.createElement(B,{className:ae.right,onClick:()=>{l.push(g)}},de.default.createElement("div",{className:(0,Ze.default)("content-primary",ae.rightText,{[ae.warning]:d})},u),de.default.createElement(U,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Ze.default)("ml-4","content-secondary",ae.rightIcon)})))),d?de.default.createElement("div",{className:(0,Ze.default)("mt-16",ae.warningText)},_("swaptrade_modal_alert_error_trade_tax",{token:m,num:h})):null))};var $f={PriorityFee:vn,Quote:Nn,Slippage:Fn,NetworkFee:xn,ServiceFeeInfo:Bn};n();s();var F=f(E()),Un=f(Ie()),uo=f(G());n();s();var ee={root:"_root_sy5hk_1",chain:"_chain_sy5hk_9",content:"_content_sy5hk_13",symbol:"_symbol_sy5hk_18","token-select":"_token-select_sy5hk_34",tokenSelect:"_token-select_sy5hk_34",copy:"_copy_sy5hk_44",address:"_address_sy5hk_50",data:"_data_sy5hk_58",price:"_price_sy5hk_63",split:"_split_sy5hk_74",cap:"_cap_sy5hk_81",skeleton:"_skeleton_sy5hk_92","high-risk-token":"_high-risk-token_sy5hk_95",highRiskToken:"_high-risk-token_sy5hk_95"};function rs(e){let o=e,r=o.getBoundingClientRect().width,t=document.createRange();return t.setStart(o,0),t.setEnd(o,o.childNodes.length),t.getBoundingClientRect().width-r>1}var k_=({className:e="",loading:o,mode:r,item:t})=>{let i=(0,Un.useHistory)(),{getUsd:m}=Xe(k),a=`${X(Ut)}?tab=${r}`,c=t?.price?m(t?.price):"--",l=t?.marketCap?m(new D.BigNumber(t?.marketCap).toFixed(2)):"--",u=(0,F.useRef)(null),[d,h]=(0,F.useState)(!1);(0,F.useEffect)(()=>{!d&&l&&u.current&&rs(u.current)&&h(!0)},[d,l,u.current]);let g={display:d?"block":"flex"},C={marginTop:d?"4px":"0"};return F.default.createElement(N,{loading:o||!t?.tokenSymbol,height:86,className:(0,uo.default)(e,ee.skeleton)},F.default.createElement("div",{className:(0,uo.default)(e,ee.root)},F.default.createElement("div",{className:ee.chain},F.default.createElement(sr,{tokenSrc:t?.tokenLogoUrl??st(),chainSrc:t?.chainLogoUrl??st(),chainSize:14,tokenSize:34,className:(0,uo.default)("boxCurrency")})),F.default.createElement("div",{className:ee.content},F.default.createElement("div",{className:"flex items-center justify-start"},F.default.createElement(B,{className:ee.symbol,onClick:()=>{i.push(a)}},t?.tokenSymbol||"--"),F.default.createElement(B,{onClick:()=>{i.push(a)}},F.default.createElement(U,{className:(0,uo.default)("okx-defi-dex-arrow-down-sincere",ee.tokenSelect),style:{fontSize:12},a11yText:"select"}))),F.default.createElement("div",{className:ee.address},Rt(t?.tokenContractAddress,8,8)||"--",F.default.createElement(nr,{token:t,showTooltip:!0,className:ee.highRiskToken})),F.default.createElement("div",{className:ee.data,style:g},F.default.createElement("div",{className:ee.price},_("swaptrade_trade_label_price_numvalue",{value:c})),d?null:F.default.createElement("div",{className:ee.split}),F.default.createElement("div",{className:ee.cap,ref:u,style:C},_("swaptrade_trade_label_mcap_numvalue",{value:l}))))))};n();s();n();s();function On(e){let o=k(),{quoteStore:r,accountStore:t,configStore:i}=o,{computedQuoteIsError:m,computedQuoteErrorMsg:a,computedQuoteLiquidityError:c,computedQuoteIsBuyHoneypot:l,computedQuoteIsSellHoneypot:u,computedQuoteIsBlackAddress:d,computedQuoteNetworkError:h,computedSwapOnOtherDapp:g}=r,{computedNonsupportChain:C}=t,{computedNativeTokenInfo:b}=i,v=b?.chainName||"",{computedIsBuy:S,computedIsSell:I}=i;return d?ce["BLACKLIST_ADDRESS"]():Te.computedIsLimitRegion?ce["LIMIT_REGION"]():C?(e({type:"switch_wallet"}),ce["UNSUPPORTED_CHAIN"]({chainName:v})):l&&S?ce["BUY_HONEYPOT"]():c?(e({type:"no_liquidity"}),ce["INSUFFICIENT_LIQUIDITY"]({error_message:a})):u&&I?ce["SELL_HONEYPOT"]():g?ce["SWAP_ON_OTHER_DAPP"]():m?ce["QUOTE_OTHER_ERROR"]({error_message:a}):h?ce["NETWORK_ERROR"]():null}function L_(){let e=je(qt);return On(e)}n();s();function F_(){let{sellStore:e,buyStore:o,quoteStore:r,configStore:t}=k(),{computedIsSell:i}=t,m=i?e.computedSellNumberIsValid:o.computedBuyNumberIsValid,a=r.initLoading&&ke();return!r.computedQuoteIsInvalid&&m||a}n();s();var qo=f(E()),Wn=f(Ie());var Y_=e=>{let[o,r]=(0,qo.useState)(null),t=(0,Wn.useHistory)(),{queryParams:i}=Io(),m=i?.get("inputChain"),a=i?.get("inputCurrency"),c=i?.get("outputChain"),l=i?.get("outputCurrency");return(0,qo.useEffect)(()=>{if(!i)return;let g=pr(i),C=ur(e);xo(e,g)?r(g):xo(e,C)?r(C):r(cr())},[e==="buy"?c:m,e==="buy"?l:a]),{tokenPair:o,setTokenPair:g=>{xo(e,g)&&(lr(e,g),dr(t,t.location.pathname,g))}}};n();s();var We=f(E());function ns(){let{accountStore:e}=k(),{fromToken:o,toToken:r}=Re(),t=e.getAddressByChainId(o?.chainId),i=ze(),m=qr(),a=Rr(),c=No();return(0,We.useMemo)(()=>({chainId:o.chainId,fromTokenAddress:o.tokenContractAddress,toTokenAddress:r.tokenContractAddress,amount:i,slippage:m,slippageType:a,maxSlippage:c,userWalletAddress:t}),[i,o.chainId,o.tokenContractAddress,r.tokenContractAddress,m,a,c,t])}function J_(){let{quoteStore:e,buyStore:o,sellStore:r,accountStore:t}=k(),{fetchQuote:i,resetQuote:m}=e,a=ns(),{computedSignWalletAddress:c}=t,l=(0,We.useCallback)(async()=>{let u=await Xt(c,a.chainId);await i({...a,...u})},[a,i,c]);(0,We.useEffect)(()=>{l()},[l]),(0,We.useEffect)(()=>ke()?()=>{}:()=>{m()},[o,m,r])}n();s();var Ro=f(E());var ss=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",is=(e,o)=>e&&o&&o.price&&o.tokenContractAddress===e?.tokenContractAddress,ms=e=>e.chainId,sg=(e,o)=>{let[r,t]=(0,Ro.useState)(null),i=ye();return(0,Ro.useEffect)(()=>{async function m(){if(!ss(o)){if(is(o,e)){t(e);return}if(!!ms(i))if(o?.tokenContractAddress){let a=await Tr({inputContent:o?.tokenContractAddress,...i});if(a)t(a);else{let c=await ft(i);t(c)}}else{let a=await ft(i);t(a)}}}m()},[o?.tokenContractAddress,i.chainId,i.accountId,i.userUniqueId,i.walletId,i.walletAddress]),r};n();s();var jo=f(E());var as=({myPosition:e,positionList:o,myPositionUsed:r,setMyPositionUsed:t})=>{if(!r&&e==="1"&&o.length){let i=document.querySelector("#meme-swap-container");i&&setTimeout(()=>{i.scrollTo({top:460,behavior:"smooth"}),t(!0),fr("myPosition")},400)}},pg=()=>{let{queryParams:e}=Io(),{memePositionStore:o}=k(),{positionList:r}=o,t=e?.get?.("myPosition"),[i,m]=(0,jo.useState)(!1);(0,jo.useEffect)(()=>{as({myPosition:t,positionList:r,myPositionUsed:i,setMyPositionUsed:m})},[t,r,i])};n();s();Qe();var Sg=()=>{let{configStore:e}=k();return oe(e,"computedNativeTokenInfo",null)};n();s();var Xo=f(E());var xg=(e,o)=>{let[r,t]=(0,Xo.useState)(null),i=ye(),{chainId:m,accountId:a,userUniqueId:c,userWalletAddress:l,businessType:u}=i;return(0,Xo.useEffect)(()=>{async function d(){if(e&&m&&a&&c&&l){let h=await yr({tokenAddress:e,chainId:m,accountId:a,userUniqueId:c,walletId:a,userWalletAddress:l,businessType:u},o);t(h)}}d()},[e,m,a,c,l,u]),r};export{Y_ as a,J_ as b,sg as c,pg as d,Sg as e,xg as f,qm as g,na as h,Ma as i,Wa as j,pu as k,Pl as l,Xl as m,wp as n,$f as o,k_ as p,L_ as q,F_ as r};
//# sourceMappingURL=chunk-CQUV3AIX.js.map
