import{a as B}from"./chunk-V7XA3BQU.js";import{a as j}from"./chunk-PONOZOFT.js";import{a as T}from"./chunk-XDEC3ZLT.js";import{l as t,r as q,s as Y}from"./chunk-Q7DF5H6O.js";import{n as S,o as W}from"./chunk-7HYQ2DGP.js";import{o as un}from"./chunk-Z62JX42S.js";import{Na as M}from"./chunk-2QHGKEME.js";import{j as C,q as O}from"./chunk-NUN72MDU.js";import{A as P,K as ln}from"./chunk-VZKEX7KP.js";import{b as cn}from"./chunk-73B6GL3S.js";import{f as p,o as m,q as g}from"./chunk-Y5OH3DDZ.js";m();g();var z=p(M()),H=p(un());O();function fn({id:a,walletId:r,origin:i,localType:k,extraParams:b}){let s=(0,z.useDispatch)(),c=B(r);return(0,H.useMemoizedFn)(async()=>{c({trade:"contract_interaction",all_confirmation:"cancel",network:k,dapp_url:i}),await s(S(a,b)),await C(s)})}var J=fn;m();g();var n=p(cn()),K=p(M());ln();O();var pn=({coinId:a,unapproved:r,networkFee:i,feeLoading:k,estimateFailed:b=!1,preExecuteRet:s={},isSufficientGas:c,isSufficientBalance:Q=!0,extParams:x,chainConfirmDisabled:V=!1,onCancel:l,onConfirm:u,disabledConfirmBtn:X,coinWithBalance:Z})=>{let{id:e,origin:h,localType:E}=r,_=(0,K.useDispatch)(),{address:F,walletId:o}=j(r),{loading:$=!1,verifyGasLimitRet:v={}}=s,D=J({id:e,walletId:o,origin:h,localType:E}),I=!c||!Q||q(v),nn=B(o),w=(0,n.useCallback)(async()=>{l&&typeof l=="function"?await l():await D()},[l,D]),{loading:en,onClick:on}=T(w),tn={loading:en,onClick:on,actionType:t.ACTION_TYPE.CANCEL,btnText:P("wallet_dapp_connection_btn_reject")},d=X||k||b||$||Y(v)||V,an=(0,n.useCallback)(async()=>{try{u&&typeof u=="function"?await u({networkFee:i}):(await _(W(e,x)),await C(_))}catch(sn){console.log("error",sn)}},[h,u,o,w,i,nn,E,_,e,x]),{isBalanceLoadError:L,requestBalance:U,isBalanceLoading:f}=Z,{loading:G,onClick:N}=T(an),y=(0,n.useMemo)(()=>({loading:G||f,disabled:d,onClick:N,actionType:t.ACTION_TYPE.CONFIRM}),[d,f,G,N]),R=(0,n.useMemo)(()=>({actionType:t.ACTION_TYPE.FILL_UP,txId:e,coinId:a,walletId:o,address:F}),[F,a,e,c,o]),A=(0,n.useMemo)(()=>({onClick:U,btnText:P("wallet_extension_transfer_error_text_reload"),actionType:t.ACTION_TYPE.CONFIRM}),[U]),rn=(0,n.useMemo)(()=>d?y:L&&!f?A:I?R:y,[y,d,R,I,A,f,L]);return{buttonGroup:[tn,rn],handleCancel:w}},vn=pn;export{J as a,vn as b};
//# sourceMappingURL=chunk-BV7GWY6A.js.map
