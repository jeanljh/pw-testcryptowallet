import{a as le}from"./chunk-CODHUXTH.js";import{a as ne}from"./chunk-5AGWELXA.js";import{a as ae}from"./chunk-L2MGED7F.js";import{a as ie}from"./chunk-SMB23TMJ.js";import{c as re}from"./chunk-YTR7GLCK.js";import"./chunk-5A7EFNRM.js";import"./chunk-NA6P5YCH.js";import{c as b}from"./chunk-OOYDFTEF.js";import{a as E}from"./chunk-JNIP4OYT.js";import{b as oe}from"./chunk-XRCQOGA2.js";import{e as ee}from"./chunk-SWUBCABA.js";import"./chunk-J6XCA7RV.js";import"./chunk-44SDMU5C.js";import{a as te}from"./chunk-OIPQWTNV.js";import"./chunk-VJI6MZK4.js";import"./chunk-5PRURJ2O.js";import{g as Ee,h as se,u as N}from"./chunk-FGAB46RQ.js";import"./chunk-47ZMUKCZ.js";import{o as Oe}from"./chunk-Z62JX42S.js";import{Na as Ae}from"./chunk-2QHGKEME.js";import"./chunk-YDSDBRIT.js";import"./chunk-6PA65BO3.js";import"./chunk-MAAUVUWY.js";import"./chunk-4X64L7DZ.js";import"./chunk-GLL4BXR6.js";import"./chunk-4L5HWMAA.js";import{c as X}from"./chunk-EZS2GR7E.js";import"./chunk-S3FOFXM7.js";import"./chunk-YIFLUVTR.js";import"./chunk-EN2WHAVL.js";import"./chunk-3QLLFUC4.js";import"./chunk-EFOY37CC.js";import"./chunk-HMTT52FG.js";import"./chunk-GR7YC6C3.js";import"./chunk-O33H5V3V.js";import"./chunk-DJN2J7J5.js";import"./chunk-35ANKHOJ.js";import"./chunk-BI4OEIFC.js";import{Tb as K,Ub as j,Wb as J,_b as Q,kb as $,na as V,tb as ve}from"./chunk-COF7YKSN.js";import{A as d,D as q,K as D}from"./chunk-VZKEX7KP.js";import"./chunk-QCEQQDCM.js";import{H as v,c as R,f as B,w as z,x as Z,y as G}from"./chunk-BJKBO23H.js";import"./chunk-IO3ALUOJ.js";import"./chunk-DJSNVDZI.js";import"./chunk-K336SGW3.js";import"./chunk-XFTQD4B2.js";import"./chunk-FOOC6LB7.js";import"./chunk-DHKS44RQ.js";import"./chunk-4DBVFCYR.js";import"./chunk-2IGQWLAB.js";import"./chunk-GVV6OTQP.js";import"./chunk-ZFVABNQN.js";import"./chunk-VYWNZTTM.js";import"./chunk-LBWWOQL4.js";import{a as F}from"./chunk-4QGZDIBD.js";import{b as M}from"./chunk-73B6GL3S.js";import"./chunk-LVJGLJNA.js";import"./chunk-Z7PBP7IJ.js";import"./chunk-5F7M5EJ4.js";import"./chunk-RNWGOGLT.js";import"./chunk-UGJ3FMEQ.js";import"./chunk-H6JAOQCX.js";import"./chunk-Z2AIGJGI.js";import"./chunk-J6KTJ3IN.js";import"./chunk-5CQODPK7.js";import"./chunk-C5XO4JMZ.js";import"./chunk-HI3LE734.js";import"./chunk-RX4V72AK.js";import{f as w,o as _,q as h}from"./chunk-Y5OH3DDZ.js";_();h();var p=w(M()),Ne=w(Oe()),Te=w(F()),we=w(Ee());D();ve();Q();_();h();var i=w(M()),H=w(F());D();Q();_();h();var a={container:"_container_chlfo_1",contentContainer:"_contentContainer_chlfo_4",firstInMore:"_firstInMore_chlfo_17",expanded:"_expanded_chlfo_20",isGroup:"_isGroup_chlfo_24",left:"_left_chlfo_27",main:"_main_chlfo_35",name:"_name_chlfo_42",addr:"_addr_chlfo_46",right:"_right_chlfo_52",copyIcon:"_copyIcon_chlfo_52",moreOrLessContainer:"_moreOrLessContainer_chlfo_55",text:"_text_chlfo_59",accordion:"_accordion_chlfo_68",accordionContent:"_accordionContent_chlfo_72",accordionHeader:"_accordionHeader_chlfo_75","receive-warning":"_receive-warning_chlfo_80",receiveWarning:"_receive-warning_chlfo_80","warning-icon":"_warning-icon_chlfo_85",warningIcon:"_warning-icon_chlfo_85","warning-text":"_warning-text_chlfo_89",warningText:"_warning-text_chlfo_89"};var ke=({image:o="",chainName:s="",addressType:r="",address:e="",expanded:t=!1,isGroup:n=!1,lastInMore:f=!1,onToggle:T=()=>{},receiveWarning:m})=>{let C=()=>t?d("extension_defi_popup_textbtn_show_less"):d("extension_defi_popup_textbtn_show_all_address_types"),W=(0,i.useMemo)(()=>o?{src:o}:s&&typeof s=="string"?{text:s,type:b.TYPE.text}:{src:X},[o,s]);return i.default.createElement("div",{className:(0,H.default)(a.container,t?a.expanded:"")},i.default.createElement("div",{className:(0,H.default)(a.contentContainer,t?a.expanded:"",n?a.isGroup:"",n&&!t?a.firstInMore:"")},i.default.createElement("div",{className:a.left},i.default.createElement(b,{size:se.lg,className:"new-home__address-copy-chain-item-left",...W})),i.default.createElement("div",{className:a.main},i.default.createElement(N.Text,{ellipsis:!0,className:a.name,size:N.SIZE.md},s),r&&i.default.createElement(B,{className:"address-copy-badge",type:B.TYPE.rounded},d(j[r])),i.default.createElement("div",{className:a.addr,"data-testid":E.COPY_WALLET_ADDRESS_PAGE.ADDRESS_DISPLAY},e),m&&i.default.createElement("div",{className:a.receiveWarning},i.default.createElement(b,{size:b.SIZE.xs,icon:"okx-wallet-plugin-warning-circle",className:a.warningIcon}),i.default.createElement(N.Text,{size:N.SIZE.xs,className:a.warningText},m))),i.default.createElement("div",{className:a.right,"data-testid":E.COPY_WALLET_ADDRESS_PAGE.COPY_ICON_CONTAINER},i.default.createElement(b,{icon:"okx-wallet-plugin-copy-1",className:a.copyIcon}))),n&&!t||f?i.default.createElement("div",{className:a.moreOrLessContainer},i.default.createElement("div",{onClick:L=>{L.stopPropagation()}},i.default.createElement(R,{expanded:t,className:a.accordion,contentClassName:a.accordionContent,headerClassName:a.accordionHeader,onToggle:T,title:i.default.createElement("div",{className:a.text,"data-testid":E.COPY_WALLET_ADDRESS_PAGE.SHOW_MORE_TOGGLE},C())}))):null)},ce=ke;_();h();var ue=w(M()),ge=w(Ae());_();h();D();var U={default:1,rpc:2,custom:3},de=(o,s,r)=>o?.map(e=>{let t=e.netWorkId??e.chainIdDecimal??parseInt(e.chainId,16);return{address:s,chainId:t,chainName:e.chainName||e.name||e.nickname,image:e.icon||e.image,isHotNetwork:!1,symbol:e.symbol,copyAddressSortPriority:r}})||[],pe=o=>{let s=[],r=[];return o.forEach(e=>{let t=e.chainName;/^[a-z]/i.test(t)?r.push(e):s.push(e)}),{startNotWithLettersList:s,startWithLettersList:r}},me=({defaultNetWorks:o,rpcNetWorks:s,customNets:r,ethereumAccount:e})=>{let t=o?.map(m=>({...m,copyAddressSortPriority:U.default}))||[],n=de(s,e,U.rpc),f=de(r,e,U.custom);return t.concat(n,f)},_e=o=>[...o].sort((s,r)=>{let e=s?.chainName?.charAt(0).toUpperCase(),t=r?.chainName?.charAt(0).toUpperCase();return e&&t&&e!==t?e?.localeCompare(t):s.copyAddressSortPriority-r.copyAddressSortPriority}),he=o=>o.length?[{isUnderLine:!0},{isTag:!0,tagName:"#"},...o]:[],fe=({hotAddresses:o,moreOrLessKeyList:s,moreOrLessMap:r,allSortedList:e})=>o.length?[{isTag:!0,tagName:q("extension_wallet_switchnetwork_subtitle_popular_networks")},...o.map(t=>{let n=s.find(f=>f===`${t.address}${t.chainId}`);return n?{...t,showMore:r[n]}:t}),{isTag:!0,tagName:"",isUnderLine:!0},...e]:e;var ye=o=>{let{currentNetworkUniqueId:s}=te(),{defaultNets:r,customNets:e}=ee(),{isEVMChainExisted:t}=(0,ge.useSelector)(ne),n=oe(),f=(0,ue.useMemo)(()=>t&&s===""?me({defaultNetWorks:o,rpcNetWorks:r,customNets:e,ethereumAccount:n}):o,[t,s,o,r,e,n]);return pe(f)};_();h();var S={close:"_close_1qzfa_1",underlineWrapper:"_underlineWrapper_1qzfa_4",tag:"_tag_1qzfa_7",empty:"_empty_1qzfa_10","add-weight":"_add-weight_1qzfa_13",addWeight:"_add-weight_1qzfa_13",line:"_line_1qzfa_13"};var Pe=({searching:o,moreOrLessMap:s,startWithLettersList:r=[],hotAddresses:e=[],startNotWithLettersList:t=[]})=>{let n=[...r,...t];if(!n.length)return[];let f=Object.keys(s),T={},m=_e(r);if(n.length<=4||o)return[...m,...t];for(let u=0;u<m.length;u++){let x=m[u]?.chainName?.charAt(0).toUpperCase();x&&!T[x]&&(m.splice(u,0,{isTag:!0,tagName:x}),u!==0&&m.splice(u,0,{isTag:!0,tagName:"",isUnderLine:!0}),T[x]=!0,u++)}let C=he(t),W=m.concat(C),L=fe({hotAddresses:e,moreOrLessKeyList:f,moreOrLessMap:s,allSortedList:W});return o?[[],""]:L},Me=({addresses:o,hotAddresses:s,CopyButton:r,visible:e,setVisible:t})=>{let[n,f]=(0,p.useState)({}),{isNotBackupWallet:T}=ie(),{run:m}=(0,Ne.useDebounceFn)(()=>{T&&v.warn({title:d("wallet_account_toast_backup_view_address"),duration:1.5,containerClassName:"address-copy-notification",placement:v.DIRECTION.top})},{leading:!0,wait:300}),{isSm:C}=re(),[W,L]=(0,p.useState)(!1),u=(0,p.useRef)(null),x=({value:l},g)=>{if(l==="disable")return!1;let I=g.toLowerCase()||"";return!!(le(l,g)||(l?.symbol?.toLowerCase()||"").indexOf(I)>-1)},{startNotWithLettersList:Se,startWithLettersList:Ce}=ye(o),Le=Pe({startWithLettersList:Ce,hotAddresses:s,startNotWithLettersList:Se,searching:W,moreOrLessMap:n}),Y=(l=>{let g=[],I=(y,c,{lastInMore:k=!1}={})=>{let P=c?.chainId===$&&c?.addressType===K.SEGWIT_TAPROOT?d("wallet_extension_cat_taproot_receive_only",{contractType:d("wallet_extension_cat_icu_taproot"),contractName:d("wallet_extension_cat_icu_cat")}):void 0;g.push({value:{address:c.address,chainName:c.chainName,symbol:c.symbol,addressType:c.addressType,localType:c.localType,chainId:c.chainId},label:p.default.createElement(ce,{image:c.image,chainName:c.chainName,address:c.address,addressType:c.addressType,expanded:y.showMore,isGroup:c.moreAddress&&c.moreAddress.length>0,lastInMore:k,onToggle:A=>{f({...n,[`${y.address}${y.chainId}`]:A})},receiveWarning:P})})};return l.forEach(y=>{let{isTag:c,tagName:k,isUnderLine:P,moreAddress:A,showMore:Ie}=y;if(P){g.push({value:"disable",type:z.OPTION_TYPE.line,className:(0,Te.default)(S.addWeight,S.line)});return}if(c){g.push({value:"disable",label:p.default.createElement("div",{className:S.underlineWrapper},p.default.createElement(N.Text,{size:N.SIZE.sm,type:N.TYPE.secondary,className:S.tag},k)),className:"title-tag",type:z.OPTION_TYPE.title});return}I(y,y),Ie&&A.map((be,We)=>I(y,be,{lastInMore:We===A.length-1}))}),g})(Le),xe=l=>{if(l.value==="disable")return;(0,we.default)(l.value.address);let g=l.value.addressType,I=g?ae(d,J[l.value.localType||V]?.[g],l.value):d("wallet_extension_transaction_toast_network_address_copied",{network:l.value.chainName});v.success({title:I,desc:l.value.address,duration:1.5,placement:v.DIRECTION.top,containerClassName:"address-copy-notification"})};return(0,p.useEffect)(()=>{u.current?.setVisible(e)},[e]),p.default.createElement("div",{className:"new-home__address-copy",onClick:m,"data-testid":"address"},p.default.createElement(Z,{ref:u,disabled:T,onSearch:l=>{L(!!l)},options:Y,onChange:xe,dialogMode:!0,dropMode:!1,dialogProps:{titleCenter:!0,isFull:!C,width:C?void 0:450,noContentPadding:!0,noTopRadius:!1,windowStyle:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},closeClassName:S.close},optionTitle:d("extension_wallet_address_title_wallet_address"),searchable:Y.length>10,searchFilter:x,scrollStyle:{maxHeight:"398px",height:"auto"},searchEmpty:p.default.createElement(G.State,{className:S.empty,type:G.State.TYPE.noRecord,title:d("wallet_toast_address_input_noresults")}),searchPlaceholder:d("wallet_toast_address_input_search"),displayArea:r,popupProps:{zIndex:10001,offset:[-150,0]},optionContClassName:"new-home__address-copy-drop-container",optionItemClassName:"new-home__address-copy-drop-option",onToggleShow:l=>{t(l)}}))},kt=Me;export{kt as default};
//# sourceMappingURL=DropCopy-LZUKQDTE.js.map
