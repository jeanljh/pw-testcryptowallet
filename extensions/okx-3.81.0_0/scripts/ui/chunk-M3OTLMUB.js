import{d as v,k as K}from"./chunk-BNS5ABAB.js";import{e as W}from"./chunk-SYOIP55B.js";import{c as E}from"./chunk-OOYDFTEF.js";import{a as H,n as J,u as S}from"./chunk-FGAB46RQ.js";import{o as ie}from"./chunk-Z62JX42S.js";import{_ as e}from"./chunk-WU2LB6XB.js";import{A as D}from"./chunk-EFOY37CC.js";import{c as x}from"./chunk-HMTT52FG.js";import{na as G,tb as re}from"./chunk-COF7YKSN.js";import{A as F,K as V,o as a}from"./chunk-VZKEX7KP.js";import{o as Y,q as M}from"./chunk-BJKBO23H.js";import{I as j,va as oe}from"./chunk-XFTQD4B2.js";import{z as P}from"./chunk-ZFVABNQN.js";import{a as ne}from"./chunk-4QGZDIBD.js";import{b as q}from"./chunk-73B6GL3S.js";import{f as A,o as w,q as k}from"./chunk-Y5OH3DDZ.js";w();k();var s=A(q());oe();V();re();w();k();var t=A(q()),X=A(ie()),R=A(ne());V();w();k();var Q={[e.SLOW]:{label:"wallet_transfer_subtitle_trading_speed_slow",icon:`/static/images/network-fee/okx-wallet-plugin-${e.SLOW}.png`},[e.STANDARD]:{label:"wallet_transfer_subtitle_trading_speed_average",icon:`/static/images/network-fee/okx-wallet-plugin-${e.STANDARD}.png`},[e.FAST]:{label:"wallet_transfer_subtitle_trading_speed_fast",icon:`/static/images/network-fee/okx-wallet-plugin-${e.FAST}.png`},[e.CUSTOM]:{label:"wallet_transfer_gasfee_subtitle_custom_gas_fee",icon:`/static/images/network-fee/okx-wallet-plugin-${e.CUSTOM}.png`}};w();k();var i={"networkFee-panel":"_networkFee-panel_yh0pp_1",networkFeePanel:"_networkFee-panel_yh0pp_1","networkFee-panel-content":"_networkFee-panel-content_yh0pp_4",networkFeePanelContent:"_networkFee-panel-content_yh0pp_4","networkFee-panel-desc":"_networkFee-panel-desc_yh0pp_7",networkFeePanelDesc:"_networkFee-panel-desc_yh0pp_7","networkFee-panel-options":"_networkFee-panel-options_yh0pp_11",networkFeePanelOptions:"_networkFee-panel-options_yh0pp_11","networkFee-panel-option__header":"_networkFee-panel-option__header_yh0pp_14",networkFeePanelOptionHeader:"_networkFee-panel-option__header_yh0pp_14","networkFee-panel-option__icon":"_networkFee-panel-option__icon_yh0pp_17",networkFeePanelOptionIcon:"_networkFee-panel-option__icon_yh0pp_17","networkFee-panel-option__content":"_networkFee-panel-option__content_yh0pp_20",networkFeePanelOptionContent:"_networkFee-panel-option__content_yh0pp_20","networkFee-panel-option__title":"_networkFee-panel-option__title_yh0pp_23",networkFeePanelOptionTitle:"_networkFee-panel-option__title_yh0pp_23","networkFee-panel-option__desc":"_networkFee-panel-option__desc_yh0pp_28",networkFeePanelOptionDesc:"_networkFee-panel-option__desc_yh0pp_28","networkFee-panel-option__children":"_networkFee-panel-option__children_yh0pp_34",networkFeePanelOptionChildren:"_networkFee-panel-option__children_yh0pp_34","networkFee-panel-custom-option":"_networkFee-panel-custom-option_yh0pp_37",networkFeePanelCustomOption:"_networkFee-panel-custom-option_yh0pp_37","networkFee-panel-custom-option__extend":"_networkFee-panel-custom-option__extend_yh0pp_40",networkFeePanelCustomOptionExtend:"_networkFee-panel-custom-option__extend_yh0pp_40","networkFee-panel-custom-option__extend__icon":"_networkFee-panel-custom-option__extend__icon_yh0pp_43",networkFeePanelCustomOptionExtendIcon:"_networkFee-panel-custom-option__extend__icon_yh0pp_43","networkFee-panel-custom-option__un_extend":"_networkFee-panel-custom-option__un_extend_yh0pp_47",networkFeePanelCustomOptionUnExtend:"_networkFee-panel-custom-option__un_extend_yh0pp_47","networkFee-panel-custom-option__confirm":"_networkFee-panel-custom-option__confirm_yh0pp_51",networkFeePanelCustomOptionConfirm:"_networkFee-panel-custom-option__confirm_yh0pp_51"};var ae=r=>{let{icon:o,label:p,coinId:n,currencyId:_,estimatedTime:y,estimatedFee:m,estimatedRate:f,children:L,headerChildren:C,headerClick:l,onClick:g,selected:c}=r,u=v(n),T=H(m,{useContractPrecision:!0,contractPrecision:{decimals:u?.decimals},symbol:u?.symbol,useLargeNumberPrecision:!0,precision:u?.displayPrecision,isStableCoin:u?.stableCoin}).value,h=K(n,m,{currencyId:_,formatted:!0,useApproximate:!0});return t.default.createElement(W.Card,{direction:x.DIRECTION.vertical,selected:c,onClick:g},t.default.createElement(x.FlexBox,{align:x.ALIGN.center,onClick:l,className:i["networkFee-panel-option__header"]},t.default.createElement(E,{className:i["networkFee-panel-option__icon"],src:o,size:E.SIZE.lg}),t.default.createElement(x.Box,{className:i["networkFee-panel-option__content"]},t.default.createElement(x.FlexBox,{justify:"space-between",className:i["networkFee-panel-option__title"]},t.default.createElement(S.Text,{strong:!0,inherit:!0},p),t.default.createElement(S.Text,{strong:!0,inherit:!0},y)),t.default.createElement(x.FlexBox,{justify:"space-between",className:i["networkFee-panel-option__desc"]},t.default.createElement(S.Text,{inherit:!0},f),t.default.createElement(S.Text,{inherit:!0},`${T} ${h}`))),C),t.default.createElement(x.Box,{className:i["networkFee-panel-option__children"]},L))},le=({coinId:r,title:o,subTitle:p,currencyId:n,itemKey:_="level",options:y,visible:m,value:f,className:L,onToggleVisible:C,onChange:l,...g})=>{let[c,{toggle:u}]=(0,X.useBoolean)(f?.level===e.CUSTOM),T=(0,t.useCallback)(h=>{let{level:d,children:b,confirmDisabled:N}=h,{icon:U,label:$}=Q[d]||{},B=d===e.CUSTOM;return t.default.createElement(ae,{coinId:r,icon:U,value:f,label:F($),selected:f[_]===h[_],...h,currencyId:n,onClick:()=>{d!==e.CUSTOM&&(l?.(h),C?.())},headerClick:B?u:void 0,headerChildren:B&&t.default.createElement(E,{size:E.SIZE.xxs,icon:c?"okx-wallet-plugin-arrow-small-up":"okx-wallet-plugin-arrow-small-down",className:i["networkFee-panel-custom-option__extend__icon"]})},B&&t.default.createElement(x.Box,{className:(0,R.default)(i["networkFee-panel-custom-option"],{[i["networkFee-panel-custom-option__extend"]]:c,[i["networkFee-panel-custom-option__un_extend"]]:!c})},t.default.createElement(J,null),b,t.default.createElement(P,{block:!0,category:P.CATEGORY.fill,type:P.TYPE.highlight,size:P.SIZE.lg,onClick:()=>{let{children:O,...z}=h;l?.(z),C?.()},disabled:N,className:i["networkFee-panel-custom-option__confirm"]},F("extension_wallet_transaction_btn_gasfeeconfirm"))))},[r,n,c,_,l,C,u,f]);return m?t.default.createElement(Y.Action,{visible:m,onClose:()=>{C()},title:o||F("wallet_transfer_subtitle_network_fee"),maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},zIndex:1e3,alignBottom:!0,noContentPadding:!0},t.default.createElement(x.Box,{className:i["networkFee-panel-content"]},!!p&&t.default.createElement(S.Text,{className:i["networkFee-panel-desc"]},p),t.default.createElement(W,{space:16,dataSource:y,renderItem:T,className:i["networkFee-panel-options"],...g}))):null},ee=le;w();k();V();var te=(r,o)=>{let p=F("extension_wallet_transaction_text_minute"),n=F("extension_wallet_transaction_text_second"),_=D(o.minCost,p,n),y=D(o.normalCost,p,n),m=D(o.maxCost,p,n);return a.eq(r,o.min)?m:a.gt(r,o.min)&&a.lt(r,o.normal)?`< ${m}`:a.eq(r,o.normal)?y:a.gt(r,o.normal)&&a.lt(r,o.max)?`< ${y}`:a.eq(r,o.max)?_:a.gt(r,o.max)?`< ${_}`:`-- ${p}`};var pe=[e.SLOW,e.STANDARD,e.FAST,e.CUSTOM],se={[e.SLOW]:{satBytes:"min",estimatedTime:"maxCost"},[e.STANDARD]:{satBytes:"normal",estimatedTime:"normalCost"},[e.FAST]:{satBytes:"max",estimatedTime:"minCost"},[e.CUSTOM]:{satBytes:"normal",estimatedTime:"normalCost"}},_e=({coinId:r,value:o,visible:p,signInfo:n,currencyId:_,estimatedFee:y,onChange:m,onToggleVisible:f,supportDecimal:L})=>{let C=v(r),[l,g]=(0,s.useState)(o?.satBytes);(0,s.useEffect)(()=>{!l&&n?.normal&&g(n?.normal)},[n?.normal]);let c=(0,s.useMemo)(()=>{let{min:d,mempoolMin:b}=n||{},N=b||d||0;return a.lt(l,N)?F("extension_btc_minmum_alert_fee_lowerthan",{feerate:N}):null},[l,n]),u=(0,s.useMemo)(()=>j(o)?0:a.ceilTruncate(a.div(y,o?.satBytes),0),[o,y]),T=C?.localType===G?F("wallet_extension_transfer_unit_sat_b"):"",h=(0,s.useMemo)(()=>pe.map(d=>{let b=se[d],{satBytes:N,...U}=Object.keys(b).reduce((z,Z)=>({level:d,...z,[Z]:n?.[b[Z]]}),{}),$=d===e.CUSTOM&&s.default.createElement(M.Number,{enableMinus:!1,precision:L?1:0,size:M.SIZE.sm,value:l,errorType:M.TIP_TYPE.always,error:c,onChange:g}),O=d===e.CUSTOM?l:N;return{...U,estimatedTime:te(O,n),satBytes:O,estimatedRate:`${O} ${T}`,estimatedFee:a.mul(O,u),children:$,confirmDisabled:!!c}}),[u,c,l,T,n]);return s.default.createElement(ee,{coinId:r,value:o,itemKey:"level",visible:p,title:T,currencyId:_,options:h,onChange:m,onToggleVisible:f})},Je=_e;export{se as a,Je as b};
//# sourceMappingURL=chunk-M3OTLMUB.js.map
