import{a as Xre}from"./chunk-YVQQJMOJ.js";import{a as Yre}from"./chunk-UHUR45QP.js";import{a as Zre}from"./chunk-FYJQM2AY.js";import{a as K_}from"./chunk-S3YDGXRE.js";import{a as Mo}from"./chunk-CEM7YO5A.js";import{a as Wre,b as ek}from"./chunk-EHLPF3A6.js";import{a as j_,b as wr}from"./chunk-Z7PBP7IJ.js";import{a as qc}from"./chunk-CPCEFWI2.js";import{a as tk}from"./chunk-4YOOCWNJ.js";import{a as tc}from"./chunk-Z2AIGJGI.js";import{b as $c,d as vr}from"./chunk-SLQQVCPY.js";import{c as rc}from"./chunk-ZRVP4J67.js";import{i as zre,k as ff}from"./chunk-C5XO4JMZ.js";import{a as Kre,b as ZC,p as JC,s as mp,v as QC,w as $_,x as Vre,y as Gre}from"./chunk-HI3LE734.js";import{d as ai,e as q_}from"./chunk-RX4V72AK.js";import{a as t3,b as qre,c as $,d as $re,g as jre,n as process,o as k,p as A,q as M}from"./chunk-Y5OH3DDZ.js";var fa=$(Oh=>{k();M();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.testnet=Oh.regtest=Oh.bitcoin=void 0;Oh.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Oh.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Oh.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var V_=$(Bh=>{k();M();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.encode=Bh.decode=Bh.check=void 0;function Jre(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}Bh.check=Jre;function Qre(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}Bh.decode=Qre;function ene(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=A.Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}Bh.encode=ene});var gp=$(M7=>{k();M();Object.defineProperty(M7,"__esModule",{value:!0});M7.REVERSE_OPS=M7.OPS=void 0;var G_={OP_FALSE:0,OP_0:0,OP_DATA_1:1,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};M7.OPS=G_;var rk={};M7.REVERSE_OPS=rk;for(let t of Object.keys(G_)){let e=G_[t];rk[e]=t}});var ik=$(kh=>{k();M();Object.defineProperty(kh,"__esModule",{value:!0});kh.decode=kh.encode=kh.encodingLength=void 0;var Ch=gp();function nk(t){return t<Ch.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}kh.encodingLength=nk;function tne(t,e,r){let n=nk(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Ch.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Ch.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Ch.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}kh.encode=tne;function rne(t,e){let r=t.readUInt8(e),n,i;if(r<Ch.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Ch.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Ch.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Ch.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}kh.decode=rne});var sk=$(R7=>{k();M();Object.defineProperty(R7,"__esModule",{value:!0});R7.encode=R7.decode=void 0;function nne(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&(t[n-1]&127)===0&&(n<=1||(t[n-2]&128)===0))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),o=t.readUInt8(4);return o&128?-((o&-129)*4294967296+s):o*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}R7.decode=nne;function ine(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function sne(t){let e=Math.abs(t),r=ine(e),n=A.Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}R7.encode=sne});var qs=$(ht=>{k();M();Object.defineProperty(ht,"__esModule",{value:!0});ht.oneOf=ht.Null=ht.BufferN=ht.Function=ht.UInt32=ht.UInt8=ht.tuple=ht.maybe=ht.Hex=ht.Buffer=ht.String=ht.Boolean=ht.Array=ht.Number=ht.Hash256bit=ht.Hash160bit=ht.Buffer256bit=ht.isTaptree=ht.isTapleaf=ht.TAPLEAF_VERSION_MASK=ht.Satoshi=ht.Signer=ht.BIP32Path=ht.UInt31=ht.isPoint=ht.typeforce=void 0;var ng=ai(),Yn=vr();Object.defineProperty(ht,"typeforce",{enumerable:!0,get:function(){return Yn.typeforce}});var ok=ng.Buffer.alloc(32,0),ak=ng.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function one(t){if(!ng.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(ok)===0||r.compare(ak)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(ok)===0||n.compare(ak)>=0?!1:e===4&&t.length===65}ht.isPoint=one;var ane=Math.pow(2,31)-1;function une(t){return Yn.typeforce.UInt32(t)&&t<=ane}ht.UInt31=une;function uk(t){return Yn.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}ht.BIP32Path=uk;uk.toJSON=()=>"BIP32 derivation path";function cne(t){return(Yn.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}ht.Signer=cne;var fne=21*1e14;function hne(t){return Yn.typeforce.UInt53(t)&&t<=fne}ht.Satoshi=hne;ht.TAPLEAF_VERSION_MASK=254;function ck(t){return!t||!("output"in t)||!ng.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&ht.TAPLEAF_VERSION_MASK)===t.version:!0}ht.isTapleaf=ck;function fk(t){return(0,ht.Array)(t)?t.length!==2?!1:t.every(e=>fk(e)):ck(t)}ht.isTaptree=fk;ht.Buffer256bit=Yn.typeforce.BufferN(32);ht.Hash160bit=Yn.typeforce.BufferN(20);ht.Hash256bit=Yn.typeforce.BufferN(32);ht.Number=Yn.typeforce.Number;ht.Array=Yn.typeforce.Array;ht.Boolean=Yn.typeforce.Boolean;ht.String=Yn.typeforce.String;ht.Buffer=Yn.typeforce.Buffer;ht.Hex=Yn.typeforce.Hex;ht.maybe=Yn.typeforce.maybe;ht.tuple=Yn.typeforce.tuple;ht.UInt8=Yn.typeforce.UInt8;ht.UInt32=Yn.typeforce.UInt32;ht.Function=Yn.typeforce.Function;ht.BufferN=Yn.typeforce.BufferN;ht.Null=Yn.typeforce.Null;ht.oneOf=Yn.typeforce.oneOf});var gk=$(La=>{k();M();var lne=La&&La.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dne=La&&La.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pk=La&&La.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lne(e,t,r);return dne(e,t),e};Object.defineProperty(La,"__esModule",{value:!0});La.encode=La.decode=void 0;var mk=pk(V_()),z_=pk(qs()),{typeforce:pne}=z_,hk=A.Buffer.alloc(1,0);function lk(t){let e=0;for(;t[e]===0;)++e;return e===t.length?hk:(t=t.slice(e),t[0]&128?A.Buffer.concat([hk,t],1+t.length):t)}function dk(t){t[0]===0&&(t=t.slice(1));let e=A.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function mne(t){let e=t.readUInt8(t.length-1),r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=mk.decode(t.slice(0,-1)),i=dk(n.r),s=dk(n.s);return{signature:A.Buffer.concat([i,s],64),hashType:e}}La.decode=mne;function gne(t,e){pne({signature:z_.BufferN(64),hashType:z_.UInt8},{signature:t,hashType:e});let r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=A.Buffer.allocUnsafe(1);n.writeUInt8(e,0);let i=lk(t.slice(0,32)),s=lk(t.slice(32,64));return A.Buffer.concat([mk.encode(i,s),n])}La.encode=gne});var Si=$(Hr=>{k();M();var bne=Hr&&Hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yne=Hr&&Hr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n3=Hr&&Hr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bne(e,t,r);return yne(e,t),e};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.signature=Hr.number=Hr.isCanonicalScriptSignature=Hr.isDefinedHashType=Hr.isCanonicalPubKey=Hr.toStack=Hr.fromASM=Hr.toASM=Hr.decompile=Hr.compile=Hr.isPushOnly=Hr.OPS=void 0;var vne=n3(V_()),Ro=gp();Object.defineProperty(Hr,"OPS",{enumerable:!0,get:function(){return Ro.OPS}});var W_=n3(ik()),bk=n3(sk()),_ne=n3(gk()),jc=n3(qs()),{typeforce:r3}=jc,yk=Ro.OPS.OP_RESERVED;function xne(t){return jc.Number(t)&&(t===Ro.OPS.OP_0||t>=Ro.OPS.OP_1&&t<=Ro.OPS.OP_16||t===Ro.OPS.OP_1NEGATE)}function Sne(t){return jc.Buffer(t)||xne(t)}function vk(t){return jc.Array(t)&&t.every(Sne)}Hr.isPushOnly=vk;function ig(t){if(t.length===0)return Ro.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return yk+t[0];if(t[0]===129)return Ro.OPS.OP_1NEGATE}}function _k(t){return A.Buffer.isBuffer(t)}function wne(t){return jc.Array(t)}function sg(t){return A.Buffer.isBuffer(t)}function xk(t){if(_k(t))return t;r3(jc.Array,t);let e=t.reduce((i,s)=>sg(s)?s.length===1&&ig(s)!==void 0?i+1:i+W_.encodingLength(s.length)+s.length:i+1,0),r=A.Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(sg(i)){let s=ig(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=W_.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}Hr.compile=xk;function Y_(t){if(wne(t))return t;r3(jc.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Ro.OPS.OP_0&&n<=Ro.OPS.OP_PUSHDATA4){let i=W_.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let o=ig(s);o!==void 0?e.push(o):e.push(s)}else e.push(n),r+=1}return e}Hr.decompile=Y_;function Ene(t){return _k(t)&&(t=Y_(t)),t.map(e=>{if(sg(e)){let r=ig(e);if(r===void 0)return e.toString("hex");e=r}return Ro.REVERSE_OPS[e]}).join(" ")}Hr.toASM=Ene;function Tne(t){return r3(jc.String,t),xk(t.split(" ").map(e=>Ro.OPS[e]!==void 0?Ro.OPS[e]:(r3(jc.Hex,e),A.Buffer.from(e,"hex"))))}Hr.fromASM=Tne;function Ane(t){return t=Y_(t),r3(vk,t),t.map(e=>sg(e)?e:e===Ro.OPS.OP_0?A.Buffer.allocUnsafe(0):bk.encode(e-yk))}Hr.toStack=Ane;function Ine(t){return jc.isPoint(t)}Hr.isCanonicalPubKey=Ine;function Sk(t){let e=t;return e&128&&(e=e&-129),e&64&&(e=e&-65),e>0&&e<4}Hr.isDefinedHashType=Sk;function Pne(t){return!A.Buffer.isBuffer(t)||!Sk(t[t.length-1])?!1:vne.check(t.slice(0,-1))}Hr.isCanonicalScriptSignature=Pne;Hr.number=bk;Hr.signature=_ne});var hf=$(N7=>{k();M();Object.defineProperty(N7,"__esModule",{value:!0});N7.value=N7.prop=void 0;function One(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}N7.prop=One;function Bne(t){let e;return()=>(e!==void 0||(e=t()),e)}N7.value=Bne});var Ak=$(Kc=>{k();M();var Cne=Kc&&Kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kne=Kc&&Kc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tk=Kc&&Kc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cne(e,t,r);return kne(e,t),e};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.p2data=void 0;var Mne=fa(),og=Tk(Si()),lf=qs(),wk=Tk(hf()),Ek=og.OPS;function Rne(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Nne(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,lf.typeforce)({network:lf.typeforce.maybe(lf.typeforce.Object),output:lf.typeforce.maybe(lf.typeforce.Buffer),data:lf.typeforce.maybe(lf.typeforce.arrayOf(lf.typeforce.Buffer))},t);let n={name:"embed",network:t.network||Mne.bitcoin};if(wk.prop(n,"output",()=>{if(!!t.data)return og.compile([Ek.OP_RETURN].concat(t.data))}),wk.prop(n,"data",()=>{if(!!t.output)return og.decompile(t.output).slice(1)}),e.validate&&t.output){let i=og.decompile(t.output);if(i[0]!==Ek.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(lf.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!Rne(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}Kc.p2data=Nne});var Ok=$(Vc=>{k();M();var Fne=Vc&&Vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hne=Vc&&Vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pk=Vc&&Vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fne(e,t,r);return Hne(e,t),e};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.p2ms=void 0;var Dne=fa(),F7=Pk(Si()),Li=qs(),Mh=Pk(hf()),H7=F7.OPS,ag=H7.OP_RESERVED;function Ik(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Lne(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(u){return F7.isCanonicalScriptSignature(u)||(e.allowIncomplete&&u===H7.OP_0)!==void 0}(0,Li.typeforce)({network:Li.typeforce.maybe(Li.typeforce.Object),m:Li.typeforce.maybe(Li.typeforce.Number),n:Li.typeforce.maybe(Li.typeforce.Number),output:Li.typeforce.maybe(Li.typeforce.Buffer),pubkeys:Li.typeforce.maybe(Li.typeforce.arrayOf(Li.isPoint)),signatures:Li.typeforce.maybe(Li.typeforce.arrayOf(r)),input:Li.typeforce.maybe(Li.typeforce.Buffer)},t);let i={network:t.network||Dne.bitcoin},s=[],o=!1;function a(u){o||(o=!0,s=F7.decompile(u),i.m=s[0]-ag,i.n=s[s.length-2]-ag,i.pubkeys=s.slice(1,-2))}if(Mh.prop(i,"output",()=>{if(!!t.m&&!!i.n&&!!t.pubkeys)return F7.compile([].concat(ag+t.m,t.pubkeys,ag+i.n,H7.OP_CHECKMULTISIG))}),Mh.prop(i,"m",()=>{if(!!i.output)return a(i.output),i.m}),Mh.prop(i,"n",()=>{if(!!i.pubkeys)return i.pubkeys.length}),Mh.prop(i,"pubkeys",()=>{if(!!t.output)return a(t.output),i.pubkeys}),Mh.prop(i,"signatures",()=>{if(!!t.input)return F7.decompile(t.input).slice(1)}),Mh.prop(i,"input",()=>{if(!!t.signatures)return F7.compile([H7.OP_0].concat(t.signatures))}),Mh.prop(i,"witness",()=>{if(!!i.input)return[]}),Mh.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(a(t.output),!Li.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!Li.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==H7.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(u=>(0,Li.isPoint)(u)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!Ik(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==H7.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!Ik(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}Vc.p2ms=Lne});var kk=$(Gc=>{k();M();var Une=Gc&&Gc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qne=Gc&&Gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ck=Gc&&Gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Une(e,t,r);return qne(e,t),e};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.p2pk=void 0;var $ne=fa(),L7=Ck(Si()),nc=qs(),D7=Ck(hf()),Bk=L7.OPS;function jne(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,nc.typeforce)({network:nc.typeforce.maybe(nc.typeforce.Object),output:nc.typeforce.maybe(nc.typeforce.Buffer),pubkey:nc.typeforce.maybe(nc.isPoint),signature:nc.typeforce.maybe(L7.isCanonicalScriptSignature),input:nc.typeforce.maybe(nc.typeforce.Buffer)},t);let r=D7.value(()=>L7.decompile(t.input)),i={name:"p2pk",network:t.network||$ne.bitcoin};if(D7.prop(i,"output",()=>{if(!!t.pubkey)return L7.compile([t.pubkey,Bk.OP_CHECKSIG])}),D7.prop(i,"pubkey",()=>{if(!!t.output)return t.output.slice(1,-1)}),D7.prop(i,"signature",()=>{if(!!t.input)return r()[0]}),D7.prop(i,"input",()=>{if(!!t.signature)return L7.compile([t.signature])}),D7.prop(i,"witness",()=>{if(!!i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==Bk.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,nc.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!L7.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}Gc.p2pk=jne});var vs=$(Ua=>{k();M();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.taggedHash=Ua.hash256=Ua.hash160=Ua.sha256=Ua.ripemd160=void 0;var Mk=vr();function Rk(t){return A.Buffer.from(Mk.base.ripemd160(t))}Ua.ripemd160=Rk;function U7(t){return A.Buffer.from(Mk.base.sha256(t))}Ua.sha256=U7;function Kne(t){return Rk(U7(t))}Ua.hash160=Kne;function Vne(t){return U7(U7(t))}Ua.hash256=Vne;var Gne=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],zne=Object.fromEntries(Gne.map(t=>{let e=U7(A.Buffer.from(t));return[t,A.Buffer.concat([e,e])]}));function Wne(t,e){return U7(A.Buffer.concat([zne[t],e]))}Ua.taggedHash=Wne});var Fk=$(zc=>{k();M();var Yne=zc&&zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xne=zc&&zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Z_=zc&&zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Yne(e,t,r);return Xne(e,t),e};Object.defineProperty(zc,"__esModule",{value:!0});zc.p2pkh=void 0;var X_=Z_(vs()),Zne=fa(),q7=Z_(Si()),so=qs(),df=Z_(hf()),Rh=q7.OPS,Nk=vr();function Jne(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,so.typeforce)({network:so.typeforce.maybe(so.typeforce.Object),address:so.typeforce.maybe(so.typeforce.String),hash:so.typeforce.maybe(so.typeforce.BufferN(20)),output:so.typeforce.maybe(so.typeforce.BufferN(25)),pubkey:so.typeforce.maybe(so.isPoint),signature:so.typeforce.maybe(q7.isCanonicalScriptSignature),input:so.typeforce.maybe(so.typeforce.Buffer)},t);let r=df.value(()=>{let o=Nk.base.fromBase58Check(t.address),a=o.readUInt8(0),u=o.slice(1);return{version:a,hash:u}}),n=df.value(()=>q7.decompile(t.input)),i=t.network||Zne.bitcoin,s={name:"p2pkh",network:i};if(df.prop(s,"address",()=>{if(!s.hash)return;let o=A.Buffer.allocUnsafe(21);return o.writeUInt8(i.pubKeyHash,0),s.hash.copy(o,1),Nk.base.toBase58Check(o)}),df.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return X_.hash160(t.pubkey||s.pubkey)}),df.prop(s,"output",()=>{if(!!s.hash)return q7.compile([Rh.OP_DUP,Rh.OP_HASH160,s.hash,Rh.OP_EQUALVERIFY,Rh.OP_CHECKSIG])}),df.prop(s,"pubkey",()=>{if(!!t.input)return n()[1]}),df.prop(s,"signature",()=>{if(!!t.input)return n()[0]}),df.prop(s,"input",()=>{if(!!t.pubkey&&!!t.signature)return q7.compile([t.signature,t.pubkey])}),df.prop(s,"witness",()=>{if(!!s.input)return[]}),e.validate){let o=A.Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");o=r().hash}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Rh.OP_DUP||t.output[1]!==Rh.OP_HASH160||t.output[2]!==20||t.output[23]!==Rh.OP_EQUALVERIFY||t.output[24]!==Rh.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=t.output.slice(3,23);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.pubkey){let a=X_.hash160(t.pubkey);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!q7.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!(0,so.isPoint)(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let u=X_.hash160(a[1]);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}zc.p2pkh=Jne});var Lk=$(Yc=>{k();M();var Qne=Yc&&Yc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eie=Yc&&Yc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J_=Yc&&Yc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qne(e,t,r);return eie(e,t),e};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.p2sh=void 0;var Hk=J_(vs()),tie=fa(),pf=J_(Si()),Mn=qs(),Wc=J_(hf()),Dk=vr(),ug=pf.OPS;function rie(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function nie(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Mn.typeforce)({network:Mn.typeforce.maybe(Mn.typeforce.Object),address:Mn.typeforce.maybe(Mn.typeforce.String),hash:Mn.typeforce.maybe(Mn.typeforce.BufferN(20)),output:Mn.typeforce.maybe(Mn.typeforce.BufferN(23)),redeem:Mn.typeforce.maybe({network:Mn.typeforce.maybe(Mn.typeforce.Object),output:Mn.typeforce.maybe(Mn.typeforce.Buffer),input:Mn.typeforce.maybe(Mn.typeforce.Buffer),witness:Mn.typeforce.maybe(Mn.typeforce.arrayOf(Mn.typeforce.Buffer))}),input:Mn.typeforce.maybe(Mn.typeforce.Buffer),witness:Mn.typeforce.maybe(Mn.typeforce.arrayOf(Mn.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||tie.bitcoin);let n={network:r},i=Wc.value(()=>{let a=Dk.base.fromBase58Check(t.address),u=a.readUInt8(0),c=a.slice(1);return{version:u,hash:c}}),s=Wc.value(()=>pf.decompile(t.input)),o=Wc.value(()=>{let a=s();return{network:r,output:a[a.length-1],input:pf.compile(a.slice(0,-1)),witness:t.witness||[]}});if(Wc.prop(n,"address",()=>{if(!n.hash)return;let a=A.Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),Dk.base.toBase58Check(a)}),Wc.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return Hk.hash160(n.redeem.output)}),Wc.prop(n,"output",()=>{if(!!n.hash)return pf.compile([ug.OP_HASH160,n.hash,ug.OP_EQUAL])}),Wc.prop(n,"redeem",()=>{if(!!t.input)return o()}),Wc.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return pf.compile([].concat(pf.decompile(t.redeem.input),t.redeem.output))}),Wc.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Wc.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=A.Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");a=i().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==ug.OP_HASH160||t.output[1]!==20||t.output[22]!==ug.OP_EQUAL)throw new TypeError("Output is invalid");let c=t.output.slice(2,22);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}let u=c=>{if(c.output){let h=pf.decompile(c.output);if(!h||h.length<1)throw new TypeError("Redeem.output too short");let f=Hk.hash160(c.output);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(c.input){let h=c.input.length>0,f=c.witness&&c.witness.length>0;if(!h&&!f)throw new TypeError("Empty input");if(h&&f)throw new TypeError("Input and witness provided");if(h){let p=pf.decompile(c.input);if(!pf.isPushOnly(p))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let c=s();if(!c||c.length<1)throw new TypeError("Input too short");if(!A.Buffer.isBuffer(o().output))throw new TypeError("Input is invalid");u(o())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let c=o();if(t.redeem.output&&!t.redeem.output.equals(c.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(c.input))throw new TypeError("Redeem.input mismatch")}u(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!rie(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}Yc.p2sh=nie});var qk=$(Xc=>{k();M();var iie=Xc&&Xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sie=Xc&&Xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ex=Xc&&Xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&iie(e,t,r);return sie(e,t),e};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.p2wpkh=void 0;var Q_=ex(vs()),oie=fa(),fg=ex(Si()),Ui=qs(),Nh=ex(hf()),cg=vr(),Uk=fg.OPS,aie=A.Buffer.alloc(0);function uie(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ui.typeforce)({address:Ui.typeforce.maybe(Ui.typeforce.String),hash:Ui.typeforce.maybe(Ui.typeforce.BufferN(20)),input:Ui.typeforce.maybe(Ui.typeforce.BufferN(0)),network:Ui.typeforce.maybe(Ui.typeforce.Object),output:Ui.typeforce.maybe(Ui.typeforce.BufferN(22)),pubkey:Ui.typeforce.maybe(Ui.isPoint),signature:Ui.typeforce.maybe(fg.isCanonicalScriptSignature),witness:Ui.typeforce.maybe(Ui.typeforce.arrayOf(Ui.typeforce.Buffer))},t);let r=Nh.value(()=>{let s=cg.base.bech32.decode(t.address),o=s.words.shift(),a=cg.base.bech32.fromWords(s.words);return{version:o,prefix:s.prefix,data:A.Buffer.from(a)}}),n=t.network||oie.bitcoin,i={name:"p2wpkh",network:n};if(Nh.prop(i,"address",()=>{if(!i.hash)return;let s=cg.base.bech32.toWords(i.hash);return s.unshift(0),cg.base.bech32.encode(n.bech32,s)}),Nh.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return Q_.hash160(t.pubkey||i.pubkey)}),Nh.prop(i,"output",()=>{if(!!i.hash)return fg.compile([Uk.OP_0,i.hash])}),Nh.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(!!t.witness)return t.witness[1]}),Nh.prop(i,"signature",()=>{if(!!t.witness)return t.witness[0]}),Nh.prop(i,"input",()=>{if(!!i.witness)return aie}),Nh.prop(i,"witness",()=>{if(!!t.pubkey&&!!t.signature)return[t.signature,t.pubkey]}),e.validate){let s=A.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Uk.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let o=Q_.hash160(t.pubkey);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");if(s=o,!(0,Ui.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!fg.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Ui.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let o=Q_.hash160(t.witness[1]);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}Xc.p2wpkh=uie});var Kk=$(Zc=>{k();M();var cie=Zc&&Zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fie=Zc&&Zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rx=Zc&&Zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cie(e,t,r);return fie(e,t),e};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.p2wsh=void 0;var $k=rx(vs()),hie=fa(),Fh=rx(Si()),xn=qs(),mf=rx(hf()),hg=vr(),jk=Fh.OPS,tx=A.Buffer.alloc(0);function lie(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function lg(t){return!!(A.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&(0,xn.isPoint)(t))}function die(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,xn.typeforce)({network:xn.typeforce.maybe(xn.typeforce.Object),address:xn.typeforce.maybe(xn.typeforce.String),hash:xn.typeforce.maybe(xn.typeforce.BufferN(32)),output:xn.typeforce.maybe(xn.typeforce.BufferN(34)),redeem:xn.typeforce.maybe({input:xn.typeforce.maybe(xn.typeforce.Buffer),network:xn.typeforce.maybe(xn.typeforce.Object),output:xn.typeforce.maybe(xn.typeforce.Buffer),witness:xn.typeforce.maybe(xn.typeforce.arrayOf(xn.typeforce.Buffer))}),input:xn.typeforce.maybe(xn.typeforce.BufferN(0)),witness:xn.typeforce.maybe(xn.typeforce.arrayOf(xn.typeforce.Buffer))},t);let r=mf.value(()=>{let o=hg.base.bech32.decode(t.address),a=o.words.shift(),u=hg.base.bech32.fromWords(o.words);return{version:a,prefix:o.prefix,data:A.Buffer.from(u)}}),n=mf.value(()=>Fh.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||hie.bitcoin);let s={network:i};if(mf.prop(s,"address",()=>{if(!s.hash)return;let o=hg.base.bech32.toWords(s.hash);return o.unshift(0),hg.base.bech32.encode(i.bech32,o)}),mf.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return $k.sha256(s.redeem.output)}),mf.prop(s,"output",()=>{if(!!s.hash)return Fh.compile([jk.OP_0,s.hash])}),mf.prop(s,"redeem",()=>{if(!!t.witness)return{output:t.witness[t.witness.length-1],input:tx,witness:t.witness.slice(0,-1)}}),mf.prop(s,"input",()=>{if(!!s.witness)return tx}),mf.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let o=Fh.toStack(n());return s.redeem=Object.assign({witness:o},t.redeem),s.redeem.input=tx,[].concat(o,t.redeem.output)}if(!!t.redeem&&!!t.redeem.output&&!!t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),mf.prop(s,"name",()=>{let o=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&o.push(s.redeem.name),o.join("-")}),e.validate){let o=A.Buffer.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==jk.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let a=t.output.slice(2);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(Fh.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");let a=$k.sha256(t.redeem.output);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem.input&&!Fh.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!lie(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(lg)||t.redeem.output&&(Fh.decompile(t.redeem.output)||[]).some(lg))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(lg)||(Fh.decompile(a)||[]).some(lg))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}Zc.p2wsh=die});var zk=$((nx,Gk)=>{k();M();var dg=ai(),Jc=dg.Buffer;function Vk(t,e){for(var r in t)e[r]=t[r]}Jc.from&&Jc.alloc&&Jc.allocUnsafe&&Jc.allocUnsafeSlow?Gk.exports=dg:(Vk(dg,nx),nx.Buffer=bp);function bp(t,e,r){return Jc(t,e,r)}bp.prototype=Object.create(Jc.prototype);Vk(Jc,bp);bp.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Jc(t,e,r)};bp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Jc(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};bp.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Jc(t)};bp.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return dg.SlowBuffer(t)}});var ox=$((a$e,Yk)=>{k();M();var ix=zk().Buffer,pie=9007199254740991;function sx(t){if(t<0||t>pie||t%1!==0)throw new RangeError("value out of range")}function i3(t,e,r){if(sx(t),e||(e=ix.allocUnsafe(Wk(t))),!ix.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),i3.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),i3.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),i3.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),i3.bytes=9),e}function s3(t,e){if(!ix.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return s3.bytes=1,r;if(r===253)return s3.bytes=3,t.readUInt16LE(e+1);if(r===254)return s3.bytes=5,t.readUInt32LE(e+1);s3.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return sx(s),s}function Wk(t){return sx(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Yk.exports={encode:i3,decode:s3,encodingLength:Wk}});var Hh=$(Xn=>{k();M();var mie=Xn&&Xn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gie=Xn&&Xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xk=Xn&&Xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mie(e,t,r);return gie(e,t),e};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.BufferReader=Xn.BufferWriter=Xn.cloneBuffer=Xn.reverseBuffer=Xn.writeUInt64LE=Xn.readUInt64LE=Xn.varuint=void 0;var yp=Xk(qs()),{typeforce:Zk}=yp,o3=Xk(ox());Xn.varuint=o3;function Jk(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Qk(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Jk(n+r,9007199254740991),n+r}Xn.readUInt64LE=Qk;function eM(t,e,r){return Jk(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Xn.writeUInt64LE=eM;function bie(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Xn.reverseBuffer=bie;function yie(t){let e=A.Buffer.allocUnsafe(t.length);return t.copy(e),e}Xn.cloneBuffer=yie;var a3=class{static withCapacity(e){return new a3(A.Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,Zk(yp.tuple(yp.Buffer,yp.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=eM(this.buffer,e,this.offset)}writeVarInt(e){o3.encode(e,this.buffer,this.offset),this.offset+=o3.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};Xn.BufferWriter=a3;var ax=class{constructor(e,r=0){this.buffer=e,this.offset=r,Zk(yp.tuple(yp.Buffer,yp.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=Qk(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=o3.decode(this.buffer,this.offset);return this.offset+=o3.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};Xn.BufferReader=ax});var fx=$(Qc=>{k();M();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.encode=Qc.decode=Qc.encodeRaw=Qc.decodeRaw=void 0;var ux=vr();function tM(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}Qc.decodeRaw=tM;function cx(t,e,r){let n=A.Buffer.alloc(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}Qc.encodeRaw=cx;function vie(t,e){return tM(ux.base.fromBase58Check(t),e)}Qc.decode=vie;function _ie(t,e,r){return typeof t=="number"?ux.base.toBase58Check(cx(t,e,r)):ux.base.toBase58Check(cx(t.version,t.privateKey,t.compressed))}Qc.encode=_ie});var $7=$(No=>{k();M();var xie=No&&No.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sie=No&&No.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wie=No&&No.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xie(e,t,r);return Sie(e,t),e};Object.defineProperty(No,"__esModule",{value:!0});No.countAdjustedVsize=No.convertScriptSigAsm=No.countScriptSigops=void 0;var Eie=gp(),Tie=Fo(),rM=vr(),Aie=wie(Ho());function u3(t,e=!1,r=!1){if(!t?.length)return 0;let n=0;if(n+=t.match(/OP_CHECKSIG/g)?.length||0,e)n+=20*(t.match(/OP_CHECKMULTISIG/g)?.length||0);else{let i=t.matchAll(/(?:OP_(?:PUSHNUM_)?(\d+))? OP_CHECKMULTISIG/g);for(let s of i){let o=parseInt(s[1]);Number.isInteger(o)?n+=o:n+=20}}return r?n:n*4}No.countScriptSigops=u3;function c3(t){if(t?.length==0)return"";let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>=1&&n<=78){r++;let i;n===76?(i=t.readUInt8(r),e.push("OP_PUSHDATA1"),r+=1):n===77?(i=t.readUInt16LE(r),e.push("OP_PUSHDATA2"),r+=2):n===78?(i=t.readUInt32LE(r),e.push("OP_PUSHDATA4"),r+=4):(i=n,e.push("OP_PUSHBYTES_"+i));let s=t.slice(r,r+i);if(s.length!==i)break;e.push(s.toString("hex")),r+=s.length}else{if(n===0)e.push("OP_0");else if(n===79)e.push("OP_PUSHNUM_NEG1");else if(n===177)e.push("OP_CLTV");else if(n===178)e.push("OP_CSV");else if(n===186)e.push("OP_CHECKSIGADD");else{let i=Eie.REVERSE_OPS[n];i&&n<253?/^OP_(\d+)$/.test(i)?e.push(i.replace(/^OP_(\d+)$/,"OP_PUSHNUM_$1")):e.push(i):e.push("OP_RETURN_"+n)}r+=1}}return e.join(" ")}No.convertScriptSigAsm=c3;function Iie(t,e,r){if(t==null)return 0;r==null&&(r=Aie.networks.bitcoin);let n=0;(e!=null||null)&&e.length==t.ins.length&&t.ins.forEach((s,o)=>{if(s.script!=null&&(n+=u3(c3(s.script),!0)),e.length<=o||e[o]==null||null||e[o]=="")return;let a=(0,Tie.getAddressType)(e[o],r);switch(!0){case(a==="segwit_nested"&&s.witness?.length===2&&s.script&&rM.base.toHex(s.script).startsWith("160014")):case a==="segwit_native":n+=1;break;case(a==="segwit_nested"&&s.witness?.length&&s.script&&rM.base.toHex(s.script).startsWith("220020")):case a==="segwit_native":s.witness?.length&&(n+=u3(c3(s.witness[s.witness.length-1]),!1,!0));break;case a==="segwit_nested":s.script&&(n+=u3(c3(s.script)));break}});for(let s of t.outs)s&&(n+=u3(c3(s.script),!0));let i=t.virtualSize();return i>n*5?i:n*5}No.countAdjustedVsize=Iie});var Fo=$(Gt=>{k();M();var Pie=Gt&&Gt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oie=Gt&&Gt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h3=Gt&&Gt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pie(e,t,r);return Oie(e,t),e};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fakeSign=Gt.estimateBchFee=Gt.estimateBtcFee=Gt.ValidSignedTransaction=Gt.getMPCTransaction=Gt.calculateBchTxSize=Gt.calculateTxSize=Gt.signBch=Gt.getAddressType=Gt.signBtc=Gt.TxBuild=Gt.private2Wif=Gt.wif2Public=Gt.sign=Gt.private2public=Gt.privateKeyFromWIF=Gt.Array=void 0;var _r=h3(Ho()),iM=Ho(),f3=$c(),ct=vr(),sM=h3(fx()),nM=j7(),oM=h3(vs()),aM=h3(e0()),gf=h3(Si()),Dh=gp(),Bie=$7(),uM=f3.signUtil.schnorr.secp256k1.schnorr;Gt.Array=ct.typeforce.Array;function hx(t,e){let r=sM.decode(t),n=r.version;if((0,Gt.Array)(e)){if(e=e.filter(i=>n===i.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||_r.networks.bitcoin,n!==e.wif)throw new Error("Invalid network version");return ct.base.toHex(r.privateKey)}Gt.privateKeyFromWIF=hx;function lx(t){return f3.signUtil.secp256k1.publicKeyCreate(ct.base.fromHex(t),!0)}Gt.private2public=lx;function pg(t,e){let{signature:r}=f3.signUtil.secp256k1.sign(t,ct.base.fromHex(e));return A.Buffer.from(r)}Gt.sign=pg;function Cie(t,e){let r=hx(t,e);return lx(r)}Gt.wif2Public=Cie;function l3(t,e){return e=e||_r.networks.bitcoin,sM.encode(e.wif,t,!0)}Gt.private2Wif=l3;var vp=class{constructor(e,r,n,i,s){this.tx=new _r.Transaction,this.network=_r.networks.bitcoin,e?this.tx.version=e:this.tx.version=2,r&&(this.network=r),this.inputs=[],this.outputs=[],this.bitcoinCash=n||!1,this.hardware=i||!1,this.fakeKey=s||!1}addInput(e,r,n,i,s,o,a,u){this.inputs.push({txId:e,index:r,privateKey:n,address:i,script:s,value:o,publicKey:a,sequence:u})}addOutput(e,r,n){this.outputs.push({address:e,value:r,omniScript:n})}build(e){let r=[];for(let n of this.inputs){let i=ct.base.reverseBuffer(A.Buffer.from(n.txId,"hex"));this.tx.addInput(i,n.index,n.sequence),n.privateKey?r.push(hx(n.privateKey,this.network)):r.push("")}for(let n of this.outputs)if(n.omniScript)this.tx.addOutput(ct.base.fromHex(n.omniScript),0);else{let i=_r.address.toOutputScript(n.address,this.network);this.tx.addOutput(i,n.value)}if(this.hardware)return this.tx.toHex();for(let n=0;n<r.length;n++){let i=r[n],s;i?s=lx(i):this.hardware||(s=ct.base.fromHex(this.inputs[n].publicKey));let o,a=_r.Transaction.SIGHASH_ALL;if(this.bitcoinCash){let u=_r.payments.p2pkh({pubkey:s}).output;a=_r.Transaction.SIGHASH_ALL|_r.Transaction.SIGHASH_BITCOINCASHBIP143;let c=this.inputs[n].value||0;o=this.tx.hashForCashSignature(n,u,c,a);let h;e?(e.push(ct.base.toHex(o)),h=A.Buffer.alloc(64,0)):h=pg(o,i);let f=_r.payments.p2pkh({output:u,pubkey:s,signature:_r.script.signature.encode(h,a)});f.input&&(this.tx.ins[n].script=f.input)}else{let u=cM(this.inputs[n].address,this.network);if(this.fakeKey){let{witness:c,script:h}=fM(u);c!==void 0&&(this.tx.ins[n].witness=c),h!==void 0&&(this.tx.ins[n].script=h);continue}if(u==="legacy"){let c=_r.payments.p2pkh({pubkey:s}).output;o=this.tx.hashForSignature(n,c,a);let h;e?(e.push(ct.base.toHex(o)),h=A.Buffer.alloc(64,0)):h=pg(o,i);let f=_r.payments.p2pkh({output:c,pubkey:s,signature:_r.script.signature.encode(h,a)});f.input&&(this.tx.ins[n].script=f.input)}else if(u==="segwit_taproot"){let c=this.inputs.map(p=>_r.address.toOutputScript(p.address,this.network)),h=this.inputs.map(p=>p.value);o=this.tx.hashForWitnessV1(n,c,h,_r.Transaction.SIGHASH_DEFAULT);let f;if(e)e.push(ct.base.toHex(o)),f=A.Buffer.alloc(64,0);else{let p=aM.taprootTweakPrivKey(ct.base.fromHex(i));f=A.Buffer.from(uM.sign(o,p,ct.base.randomBytes(32)))}this.tx.ins[n].witness=[A.Buffer.from(f)]}else{let c=oM.hash160(s),h=A.Buffer.of(25,118,169,20,...c,136,172),f=this.inputs[n].value||0;o=this.tx.hashForWitness(n,h,f,a);let p;e?(e.push(ct.base.toHex(o)),p=A.Buffer.alloc(64,0)):p=pg(o,i),this.tx.ins[n].witness=[],this.tx.ins[n].witness.push(_r.script.signature.encode(p,a)),this.tx.ins[n].witness.push(s);let l=A.Buffer.of(22,0,20,...c);u!=="segwit_native"&&(this.tx.ins[n].script=l)}}}return this.tx.toHex()}virtualSize(){return(0,Bie.countAdjustedVsize)(this.tx,this.inputs.map(e=>e.address),this.network||_r.networks.bitcoin)}};Gt.TxBuild=vp;function kie(t,e,r,n,i,s){let o=t.inputs,a=t.outputs,u=t.address,c=t.feePerB||10,h=t.dustSize||546;if(r=r||_r.networks.bitcoin,t.memo&&(ct.base.isHexString(t.memo)?ct.base.fromHex(t.memo):A.Buffer.from(ct.base.toUtf8(t.memo))).length>80)throw new Error("data after op_return is  too long");let f=e;if(f||(f=l3(ct.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r)),s){let{inputAmount:F,outputAmount:B,virtualSize:E}=mg(o,a,u,f,r,h,!1,t.memo,t.memoPos);return(F-B-Math.ceil(E*c)).toString()}let{inputAmount:p,outputAmount:l,virtualSize:y}=mg(o,a,u,f,r,h,!1,t.memo,t.memoPos),_=p-l-Math.ceil(y*c),O=new vp(2,r,!1,i);for(let F=0;F<o.length;F++){let B=o[F],E=B.privateKey||e,I=B.address||u;O.addInput(B.txId,B.vOut,E,I,B.reedScript,B.amount,B.publicKey,B.sequence)}t.memo&&t.memoPos==0&&O.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(t.memo)?ct.base.fromHex(t.memo):A.Buffer.from(ct.base.toUtf8(t.memo))))));for(let F=0;F<a.length;F++){let B=a[F];O.addOutput(B.address,B.amount,B.omniScript),t.memo&&t.memoPos&&O.outputs.length==t.memoPos&&O.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(t.memo)?ct.base.fromHex(t.memo):A.Buffer.from(ct.base.toUtf8(t.memo))))))}return _>h&&(O.addOutput(u,_),t.memo&&t.memoPos&&O.outputs.length==t.memoPos&&O.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(t.memo)?ct.base.fromHex(t.memo):A.Buffer.from(ct.base.toUtf8(t.memo))))))),t.memo&&(t.memoPos==null||t.memoPos<0||t.memoPos>O.outputs.length)&&O.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(t.memo)?ct.base.fromHex(t.memo):A.Buffer.from(ct.base.toUtf8(t.memo)))))),O.build(n)}Gt.signBtc=kie;function cM(t,e){let r,n;try{r=(0,nM.fromBase58Check)(t)}catch{}if(r){if(r.version===e.pubKeyHash)return"legacy";if(r.version===e.scriptHash)return"segwit_nested"}else{try{n=(0,nM.fromBech32)(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0)return"segwit_native";if(n.version===1)return"segwit_taproot"}}return"legacy"}Gt.getAddressType=cM;function Mie(t,e,r,n,i){let s=t.inputs,o=t.outputs,a=t.address,u=t.feePerB||10,c=t.dustSize||546;r=r||_r.networks.bitcoin;let h=e;h||(h=l3(ct.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r));let{inputAmount:f,outputAmount:p,virtualSize:l}=dx(s,o,a,h,r,c),y=f-p-l*u,_=new vp(2,r,!0,i);for(let O=0;O<s.length;O++){let F=s[O];_.addInput(F.txId,F.vOut,e,a,void 0,F.amount,F.publicKey,F.sequence)}for(let O=0;O<o.length;O++){let F=o[O];_.addOutput(F.address,F.amount)}return y>c&&_.addOutput(a,y),_.build(n)}Gt.signBch=Mie;function mg(t,e,r,n,i,s,o,a,u){let c=new vp(2,i,!1,o,!0),h=0;for(let y=0;y<t.length;y++){let _=t[y],O=_.privateKey||n,F=_.address||r;c.addInput(_.txId,_.vOut,O,F,_.reedScript,_.amount,_.publicKey,_.sequence),h=h+(_.amount||0)}a&&u==0&&c.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(a)?ct.base.fromHex(a):A.Buffer.from(ct.base.toUtf8(a))))));let f=0;for(let y=0;y<e.length;y++){let _=e[y];c.addOutput(_.address,_.amount,_.omniScript),f=f+_.amount,a&&u&&c.outputs.length==u&&c.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(a)?ct.base.fromHex(a):A.Buffer.from(ct.base.toUtf8(a))))))}h-f>s&&(c.addOutput(r,h-f),a&&u&&c.outputs.length==u&&c.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(a)?ct.base.fromHex(a):A.Buffer.from(ct.base.toUtf8(a))))))),a&&(u==null||u<0||u>c.outputs.length)&&c.addOutput("",0,ct.base.toHex(gf.compile([Dh.OPS.OP_RETURN].concat(ct.base.isHexString(a)?ct.base.fromHex(a):A.Buffer.from(ct.base.toUtf8(a))))));let p=c.build(),l=c.virtualSize();return{inputAmount:h,outputAmount:f,virtualSize:l,txHex:p}}Gt.calculateTxSize=mg;function dx(t,e,r,n,i,s,o){let a=new vp(2,i,!0,o),u=0;for(let p=0;p<t.length;p++){let l=t[p];a.addInput(l.txId,l.vOut,n,r,void 0,l.amount,l.publicKey,l.sequence),u=u+(l.amount||0)}let c=0;for(let p=0;p<e.length;p++){let l=e[p];a.addOutput(l.address,l.amount),c=c+l.amount}u-c>s&&a.addOutput(r,u-c);let h=a.build(),f=a.tx.virtualSize();return{inputAmount:u,outputAmount:c,virtualSize:f,txHex:h}}Gt.calculateBchTxSize=dx;function Rie(t,e,r){let n=iM.Transaction.fromBuffer(ct.base.fromHex(t),!1);for(let i=0;i<n.ins.length;i++){let s=n.ins[i],o=ct.base.fromHex(e[i]),a=_r.Transaction.SIGHASH_ALL;if(r){a=_r.Transaction.SIGHASH_ALL|_r.Transaction.SIGHASH_BITCOINCASHBIP143;let u=_r.payments.p2pkh({input:s.script}),c=_r.payments.p2pkh({pubkey:u.pubkey,signature:_r.script.signature.encode(o,a)});c.input&&(s.script=c.input)}else{let u;if(s.witness.length===2)u="segwit_native";else if(s.witness.length===1)u="segwit_taproot";else if(s.witness.length===0)u="legacy";else throw Error("unknown witness length");if(u==="legacy"){let c=_r.payments.p2pkh({input:s.script}),h=_r.payments.p2pkh({pubkey:c.pubkey,signature:_r.script.signature.encode(o,a)});h.input&&(s.script=h.input)}else u==="segwit_taproot"?s.witness=[o]:s.witness[0]=_r.script.signature.encode(o,a)}}return n.toHex()}Gt.getMPCTransaction=Rie;function Nie(t,e,r){let n=iM.Transaction.fromBuffer(ct.base.fromHex(t),!1);if(!e)return n;for(let i=0;i<n.ins.length;i++){let s=n.ins[i],o=e[i],a;if(s.witness.length===2)a="segwit_native";else if(s.witness.length===1)a="segwit_taproot";else if(s.witness.length===0)a="legacy";else throw Error("unknown witness length");if(a==="legacy"){let u=gf.decompile(s.script),c=u[0],h=u[1],f=_r.script.signature.decode(c),p=_r.address.toOutputScript(o.address,r),l=n.hashForSignature(i,p,f.hashType);if(!f3.signUtil.secp256k1.verifyWithNoRecovery(l,f.signature,h))throw Error("signature error")}else if(a==="segwit_native"){let u=s.witness[0],c=s.witness[1],h=_r.script.signature.decode(u),f=A.Buffer.of(25,118,169,20,...oM.hash160(c),136,172),p=n.hashForWitness(i,f,o.value,h.hashType);if(!f3.signUtil.secp256k1.verifyWithNoRecovery(p,h.signature,c))throw Error("signature error")}else{let u=s.witness[0],c=e.map(l=>_r.address.toOutputScript(l.address,r)),h=e.map(l=>l.value),f=n.hashForWitnessV1(i,c,h,_r.Transaction.SIGHASH_DEFAULT),p=aM.taprootTweakPubkey(ct.base.fromHex(o.publicKey).slice(1))[0];if(!uM.verify(ct.base.toHex(u),ct.base.toHex(f),ct.base.toHex(p)))throw Error("signature error")}}for(let i of n.ins)i.hash=ct.base.reverseBuffer(i.hash);return n}Gt.ValidSignedTransaction=Nie;function Fie(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||_r.networks.bitcoin;let o=l3(ct.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:a}=mg(r,n,t.address,o,e,s,!1,t.memo);return Math.ceil(a*i)}Gt.estimateBtcFee=Fie;function Hie(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||_r.networks.bitcoin;let o=l3(ct.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:a}=dx(r,n,t.address,o,e,s);return a*i}Gt.estimateBchFee=Hie;function fM(t){let e,r;return t==="segwit_taproot"?e=[A.Buffer.alloc(64)]:t==="legacy"?r=A.Buffer.alloc(107):(e=[A.Buffer.alloc(72),A.Buffer.alloc(33)],t==="segwit_nested"&&(r=A.Buffer.alloc(23))),{witness:e,script:r}}Gt.fakeSign=fM});var e0=$(Lh=>{k();M();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.taprootSignSighash=Lh.taprootTweakPubkey=Lh.taprootTweakPrivKey=void 0;var Die=$c(),hM=vr(),Lie=Fo(),mx=Die.signUtil.schnorr.secp256k1,gg=mx.schnorr,lM=mx.secp256k1.ProjectivePoint,px=mx.secp256k1.CURVE.n;function dM(t,e){let r=gg.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=px)throw new Error("tweak higher than curve order");return i}function pM(t,e=new Uint8Array){let r=gg.utils,n=r.bytesToNumberBE(t),i=lM.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,px),o=r.pointToBytes(i),a=dM(o,e);return r.numberToBytesBE(r.mod(s+a,px),32)}Lh.taprootTweakPrivKey=pM;function Uie(t,e){e||(e=new Uint8Array);let r=gg.utils,n=dM(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(lM.fromPrivateKey(n)),o=s.hasEvenY()?0:1;return[r.pointToBytes(s),o]}Lh.taprootTweakPubkey=Uie;function qie(t,e,r){let n=pM(hM.base.fromHex((0,Lie.privateKeyFromWIF)(t)));return e.map(s=>{let o=A.Buffer.from(gg.sign(s,n,r));return hM.base.toHex(o)})}Lh.taprootSignSighash=qie});var bg=$(Sn=>{k();M();var $ie=Sn&&Sn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jie=Sn&&Sn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Kie=Sn&&Sn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$ie(e,t,r);return jie(e,t),e};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.tweakKey=Sn.tapTweakHash=Sn.tapleafHash=Sn.findScriptPath=Sn.toHashTree=Sn.rootHashFromPath=Sn.MAX_TAPTREE_DEPTH=Sn.LEAF_VERSION_TAPSCRIPT=void 0;var Uh=ai(),vx=Kie(vs()),mM=Hh(),Vie=qs(),Gie=e0();Sn.LEAF_VERSION_TAPSCRIPT=192;Sn.MAX_TAPTREE_DEPTH=128;var zie=t=>"left"in t&&"right"in t;function Wie(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=yx(n,s):n=yx(s,n)}return n}Sn.rootHashFromPath=Wie;function gx(t){if((0,Vie.isTapleaf)(t))return{hash:gM(t)};let e=[gx(t[0]),gx(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:yx(r.hash,n.hash),left:r,right:n}}Sn.toHashTree=gx;function bx(t,e){if(zie(t)){let r=bx(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=bx(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Sn.findScriptPath=bx;function gM(t){let e=t.version||Sn.LEAF_VERSION_TAPSCRIPT;return vx.taggedHash("TapLeaf",Uh.Buffer.concat([Uh.Buffer.from([e]),Zie(t.output)]))}Sn.tapleafHash=gM;function Yie(t,e){return vx.taggedHash("TapTweak",Uh.Buffer.concat(e?[t,e]:[t]))}Sn.tapTweakHash=Yie;function Xie(t,e){if(!Uh.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=(0,Gie.taprootTweakPubkey)(t,e);return{parity:r[1],x:Uh.Buffer.from(r[0])}}Sn.tweakKey=Xie;function yx(t,e){return vx.taggedHash("TapBranch",Uh.Buffer.concat([t,e]))}function Zie(t){let e=mM.varuint.encodingLength(t.length),r=Uh.Buffer.allocUnsafe(e);return mM.varuint.encode(t.length,r),Uh.Buffer.concat([r,t])}});var _M=$(t0=>{k();M();var Jie=t0&&t0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qie=t0&&t0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vM=t0&&t0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jie(e,t,r);return Qie(e,t),e};Object.defineProperty(t0,"__esModule",{value:!0});t0.p2tr=void 0;var yg=ai(),ese=fa(),_x=vM(Si()),Rr=qs(),Do=bg(),qa=vM(hf()),vg=vr(),bM=_x.OPS,yM=1,tse=80;function rse(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Rr.typeforce)({address:Rr.typeforce.maybe(Rr.typeforce.String),input:Rr.typeforce.maybe(Rr.typeforce.BufferN(0)),network:Rr.typeforce.maybe(Rr.typeforce.Object),output:Rr.typeforce.maybe(Rr.typeforce.BufferN(34)),internalPubkey:Rr.typeforce.maybe(Rr.typeforce.BufferN(32)),hash:Rr.typeforce.maybe(Rr.typeforce.BufferN(32)),pubkey:Rr.typeforce.maybe(Rr.typeforce.BufferN(32)),witness:Rr.typeforce.maybe(Rr.typeforce.arrayOf(Rr.typeforce.Buffer)),scriptTree:Rr.typeforce.maybe(Rr.isTaptree),redeem:Rr.typeforce.maybe({output:Rr.typeforce.maybe(Rr.typeforce.Buffer),redeemVersion:Rr.typeforce.maybe(Rr.typeforce.Number),witness:Rr.typeforce.maybe(Rr.typeforce.arrayOf(Rr.typeforce.Buffer))}),redeemVersion:Rr.typeforce.maybe(Rr.typeforce.Number)},t);let r=qa.value(()=>{let a=vg.base.bech32m.decode(t.address),u=a.words.shift(),c=vg.base.bech32m.fromWords(a.words);return{version:u,prefix:a.prefix,data:yg.Buffer.from(c)}}),n=qa.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===tse?t.witness.slice(0,-1):t.witness.slice()}),i=qa.value(()=>{if(t.scriptTree)return(0,Do.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||ese.bitcoin,o={name:"p2tr",network:s};if(qa.prop(o,"address",()=>{if(!o.pubkey)return;let a=vg.base.bech32m.toWords(o.pubkey);return a.unshift(yM),vg.base.bech32m.encode(s.bech32,a)}),qa.prop(o,"hash",()=>{let a=i();if(a)return a.hash;let u=n();if(u&&u.length>1){let c=u[u.length-1],h=c[0]&Rr.TAPLEAF_VERSION_MASK,f=u[u.length-2],p=(0,Do.tapleafHash)({output:f,version:h});return(0,Do.rootHashFromPath)(c,p)}return null}),qa.prop(o,"output",()=>{if(!!o.pubkey)return _x.compile([bM.OP_1,o.pubkey])}),qa.prop(o,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Do.LEAF_VERSION_TAPSCRIPT),qa.prop(o,"redeem",()=>{let a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&Rr.TAPLEAF_VERSION_MASK}}),qa.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.internalPubkey){let a=(0,Do.tweakKey)(o.internalPubkey,o.hash);if(a)return a.x}}),qa.prop(o,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),qa.prop(o,"signature",()=>{if(t.signature)return t.signature;let a=n();if(!(!a||a.length!==1))return a[0]}),qa.prop(o,"witness",()=>{if(t.witness)return t.witness;let a=i();if(a&&t.redeem&&t.redeem.output&&t.internalPubkey){let u=(0,Do.tapleafHash)({output:t.redeem.output,version:o.redeemVersion}),c=(0,Do.findScriptPath)(a,u);if(!c)return;let h=(0,Do.tweakKey)(t.internalPubkey,a.hash);if(!h)return;let f=yg.Buffer.concat([yg.Buffer.from([o.redeemVersion|h.parity]),t.internalPubkey].concat(c));return[t.redeem.output,f]}if(t.signature)return[t.signature]}),e.validate){let a=yg.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==yM)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.pubkey){if(a.length>0&&!a.equals(t.pubkey))throw new TypeError("Pubkey mismatch");a=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==bM.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");a=t.output.slice(2)}if(t.internalPubkey){let h=(0,Do.tweakKey)(t.internalPubkey,o.hash);if(a.length>0&&!a.equals(h.x))throw new TypeError("Pubkey mismatch");a=h.x}if(a&&a.length&&a.length!==32)throw new TypeError("Invalid pubkey for p2tr");let u=i();if(t.hash&&u&&!t.hash.equals(u.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&u){let h=(0,Do.tapleafHash)({output:t.redeem.output,version:o.redeemVersion});if(!(0,Do.findScriptPath)(u,h))throw new TypeError("Redeem script not in tree")}let c=n();if(t.redeem&&o.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==o.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(_x.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(o.redeem.output&&!t.redeem.output.equals(o.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&o.redeem.witness&&!nse(t.redeem.witness,o.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(c.length===1){if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{let h=c[c.length-1];if(h.length<33)throw new TypeError(`The control-block length is too small. Got ${h.length}, expected min 33.`);if((h.length-33)%32!==0)throw new TypeError(`The control-block length of ${h.length} is incorrect!`);let f=(h.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);let p=h.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(p))throw new TypeError("Internal pubkey mismatch");if(p.length!==32)throw new TypeError("Invalid internalPubkey for p2tr witness");let l=h[0]&Rr.TAPLEAF_VERSION_MASK,y=c[c.length-2],_=(0,Do.tapleafHash)({output:y,version:l}),O=(0,Do.rootHashFromPath)(h,_),F=(0,Do.tweakKey)(p,O);if(!F)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&!a.equals(F.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(F.parity!==(h[0]&1))throw new Error("Incorrect parity")}}return Object.assign(o,t)}t0.p2tr=rse;function nse(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var qh=$(es=>{k();M();Object.defineProperty(es,"__esModule",{value:!0});es.p2tr=es.p2wsh=es.p2wpkh=es.p2sh=es.p2pkh=es.p2pk=es.p2ms=es.embed=void 0;var ise=Ak();Object.defineProperty(es,"embed",{enumerable:!0,get:function(){return ise.p2data}});var sse=Ok();Object.defineProperty(es,"p2ms",{enumerable:!0,get:function(){return sse.p2ms}});var ose=kk();Object.defineProperty(es,"p2pk",{enumerable:!0,get:function(){return ose.p2pk}});var ase=Fk();Object.defineProperty(es,"p2pkh",{enumerable:!0,get:function(){return ase.p2pkh}});var use=Lk();Object.defineProperty(es,"p2sh",{enumerable:!0,get:function(){return use.p2sh}});var cse=qk();Object.defineProperty(es,"p2wpkh",{enumerable:!0,get:function(){return cse.p2wpkh}});var fse=Kk();Object.defineProperty(es,"p2wsh",{enumerable:!0,get:function(){return fse.p2wsh}});var hse=_M();Object.defineProperty(es,"p2tr",{enumerable:!0,get:function(){return hse.p2tr}})});var j7=$(wi=>{k();M();var lse=wi&&wi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dse=wi&&wi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xg=wi&&wi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lse(e,t,r);return dse(e,t),e};Object.defineProperty(wi,"__esModule",{value:!0});wi.toOutputScript=wi.fromOutputScript=wi.toBech32=wi.toBase58Check=wi.fromBech32=wi.fromBase58Check=void 0;var xM=xg(fa()),r0=xg(qh()),SM=xg(Si()),_g=xg(qs()),$h=vr(),{typeforce:pse}=_g,wM=40,EM=2,TM=16,AM=2,IM=80,PM="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function mse(t,e){let r=t.slice(2);if(r.length<EM||r.length>wM)throw new TypeError("Invalid program length for segwit address");let n=t[0]-IM;if(n<AM||n>TM)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(PM),CM(r,n,e.bech32)}function OM(t){let e=$h.base.fromBase58Check(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}wi.fromBase58Check=OM;function BM(t){let e,r;try{e=$h.base.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=$h.base.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=$h.base.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:A.Buffer.from(n)}}wi.fromBech32=BM;function gse(t,e){pse(_g.tuple(_g.Hash160bit,_g.UInt8),arguments);let r=A.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),$h.base.toBase58Check(r)}wi.toBase58Check=gse;function CM(t,e,r){let n=$h.base.bech32.toWords(t);return n.unshift(e),e===0?$h.base.bech32.encode(r,n):$h.base.bech32m.encode(r,n)}wi.toBech32=CM;function bse(t,e){e=e||xM.bitcoin;try{return r0.p2pkh({output:t,network:e}).address}catch{}try{return r0.p2sh({output:t,network:e}).address}catch{}try{return r0.p2wpkh({output:t,network:e}).address}catch{}try{return r0.p2wsh({output:t,network:e}).address}catch{}try{return r0.p2tr({output:t,network:e}).address}catch{}try{return mse(t,e)}catch{}throw new Error(SM.toASM(t)+" has no matching Address")}wi.fromOutputScript=bse;function yse(t,e){e=e||xM.bitcoin;let r,n;try{r=OM(t)}catch{}if(r){if(r.version===e.pubKeyHash)return r0.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return r0.p2sh({hash:r.hash}).output}else{try{n=BM(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return r0.p2wpkh({hash:n.data}).output;if(n.data.length===32)return r0.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return r0.p2tr({pubkey:n.data}).output}else if(n.version>=AM&&n.version<=TM&&n.data.length>=EM&&n.data.length<=wM)return console.warn(PM),SM.compile([n.version+IM,n.data])}}throw new Error(t+" has no matching Script")}wi.toOutputScript=yse});var Kh=$(Uo=>{k();M();var vse=Uo&&Uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_se=Uo&&Uo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xx=Uo&&Uo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vse(e,t,r);return _se(e,t),e};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Transaction=Uo.vectorSize=Uo.varSliceSize=void 0;var wn=Hh(),Ei=xx(vs()),kM=xx(Si()),xse=Si(),pr=xx(qs()),{typeforce:ic}=pr;function Lo(t){let e=t.length;return wn.varuint.encodingLength(e)+e}Uo.varSliceSize=Lo;function NM(t){let e=t.length;return wn.varuint.encodingLength(e)+t.reduce((r,n)=>r+Lo(n),0)}Uo.vectorSize=NM;var jh=A.Buffer.allocUnsafe(0),MM=[],K7=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),RM=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Sse=A.Buffer.from("ffffffffffffffff","hex"),wse={script:jh,valueBuffer:Sse};function Ese(t){return t.value!==void 0}var xt=class{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new wn.BufferReader(e),i=new xt;i.version=n.readInt32();let s=n.readUInt8(),o=n.readUInt8(),a=!1;s===xt.ADVANCED_TRANSACTION_MARKER&&o===xt.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let u=n.readVarInt();for(let h=0;h<u;++h)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:MM});let c=n.readVarInt();for(let h=0;h<c;++h)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let h=0;h<u;++h)i.ins[h].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return xt.fromBuffer(A.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){ic(pr.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&xt.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return ic(pr.tuple(pr.Hash256bit,pr.UInt32,pr.maybe(pr.UInt32),pr.maybe(pr.Buffer)),arguments),pr.Null(n)&&(n=xt.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||jh,sequence:n,witness:MM})-1}addOutput(e,r){return ic(pr.tuple(pr.Buffer,pr.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}dogeByteLength(){let e=26+this.ins.reduce((r,n)=>{let i=40+Lo(n.script);return r+32+4+i},0)+this.outs.reduce((r,n)=>r+9+n.script.length,0);return Math.ceil(e)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+wn.varuint.encodingLength(this.ins.length)+wn.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Lo(i.script),0)+this.outs.reduce((n,i)=>n+8+Lo(i.script),0)+(r?this.ins.reduce((n,i)=>n+NM(i.witness),0):0)}clone(){let e=new xt;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(ic(pr.tuple(pr.UInt32,pr.Buffer,pr.Number),arguments),e>=this.ins.length)return RM;let i=kM.compile(kM.decompile(r).filter(a=>a!==xse.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===xt.SIGHASH_NONE)s.outs=[],s.ins.forEach((a,u)=>{u!==e&&(a.sequence=0)});else if((n&31)===xt.SIGHASH_SINGLE){if(e>=this.outs.length)return RM;s.outs.length=e+1;for(let a=0;a<e;a++)s.outs[a]=wse;s.ins.forEach((a,u)=>{u!==e&&(a.sequence=0)})}n&xt.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(a=>{a.script=jh}),s.ins[e].script=i);let o=A.Buffer.allocUnsafe(s.byteLength(!1)+4);return o.writeInt32LE(n,o.length-4),s.__toBuffer(o,0,!1),Ei.hash256(o)}hashForCashSignature(e,r,n,i){if(i&xt.SIGHASH_BITCOINCASHBIP143){if(pr.Null(n))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(e,r,n,i)}else return this.hashForSignature(e,r,i)}hashForWitnessV1(e,r,n,i,s,o){if(ic(pr.tuple(pr.UInt32,ic.arrayOf(pr.Buffer),ic.arrayOf(pr.Satoshi),pr.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let a=i===xt.SIGHASH_DEFAULT?xt.SIGHASH_ALL:i&xt.SIGHASH_OUTPUT_MASK,c=(i&xt.SIGHASH_INPUT_MASK)===xt.SIGHASH_ANYONECANPAY,h=a===xt.SIGHASH_NONE,f=a===xt.SIGHASH_SINGLE,p=jh,l=jh,y=jh,_=jh,O=jh;if(!c){let I=wn.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(L=>{I.writeSlice(L.hash),I.writeUInt32(L.index)}),p=Ei.sha256(I.end()),I=wn.BufferWriter.withCapacity(8*this.ins.length),n.forEach(L=>I.writeUInt64(L)),l=Ei.sha256(I.end()),I=wn.BufferWriter.withCapacity(r.map(Lo).reduce((L,N)=>L+N)),r.forEach(L=>I.writeVarSlice(L)),y=Ei.sha256(I.end()),I=wn.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(L=>I.writeUInt32(L.sequence)),_=Ei.sha256(I.end())}if(h||f){if(f&&e<this.outs.length){let I=this.outs[e],L=wn.BufferWriter.withCapacity(8+Lo(I.script));L.writeUInt64(I.value),L.writeVarSlice(I.script),O=Ei.sha256(L.end())}}else{let I=this.outs.map(N=>8+Lo(N.script)).reduce((N,H)=>N+H),L=wn.BufferWriter.withCapacity(I);this.outs.forEach(N=>{L.writeUInt64(N.value),L.writeVarSlice(N.script)}),O=Ei.sha256(L.end())}let F=(s?2:0)+(o?1:0),B=174-(c?49:0)-(h?32:0)+(o?32:0)+(s?37:0),E=wn.BufferWriter.withCapacity(B);if(E.writeUInt8(i),E.writeInt32(this.version),E.writeUInt32(this.locktime),E.writeSlice(p),E.writeSlice(l),E.writeSlice(y),E.writeSlice(_),h||f||E.writeSlice(O),E.writeUInt8(F),c){let I=this.ins[e];E.writeSlice(I.hash),E.writeUInt32(I.index),E.writeUInt64(n[e]),E.writeVarSlice(r[e]),E.writeUInt32(I.sequence)}else E.writeUInt32(e);if(o){let I=wn.BufferWriter.withCapacity(Lo(o));I.writeVarSlice(o),E.writeSlice(Ei.sha256(I.end()))}return f&&E.writeSlice(O),s&&(E.writeSlice(s),E.writeUInt8(0),E.writeUInt32(4294967295)),Ei.taggedHash("TapSighash",A.Buffer.concat([A.Buffer.of(0),E.end()]))}hashForWitnessV0(e,r,n,i){ic(pr.tuple(pr.UInt32,pr.Buffer,pr.Satoshi,pr.UInt32),arguments);let s=A.Buffer.from([]),o,a=K7,u=K7,c=K7;if(i&xt.SIGHASH_ANYONECANPAY||(s=A.Buffer.allocUnsafe(36*this.ins.length),o=new wn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),u=Ei.hash256(s)),!(i&xt.SIGHASH_ANYONECANPAY)&&(i&31)!==xt.SIGHASH_SINGLE&&(i&31)!==xt.SIGHASH_NONE&&(s=A.Buffer.allocUnsafe(4*this.ins.length),o=new wn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),c=Ei.hash256(s)),(i&31)!==xt.SIGHASH_SINGLE&&(i&31)!==xt.SIGHASH_NONE){let f=this.outs.reduce((p,l)=>p+8+Lo(l.script),0);s=A.Buffer.allocUnsafe(f),o=new wn.BufferWriter(s,0),this.outs.forEach(p=>{o.writeUInt64(p.value),o.writeVarSlice(p.script)}),a=Ei.hash256(s)}else if((i&31)===xt.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];s=A.Buffer.allocUnsafe(8+Lo(f.script)),o=new wn.BufferWriter(s,0),o.writeUInt64(f.value),o.writeVarSlice(f.script),a=Ei.hash256(s)}s=A.Buffer.allocUnsafe(156+Lo(r)),o=new wn.BufferWriter(s,0);let h=this.ins[e];return o.writeInt32(this.version),o.writeSlice(u),o.writeSlice(c),o.writeSlice(h.hash),o.writeUInt32(h.index),o.writeVarSlice(r),o.writeUInt64(n),o.writeUInt32(h.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),Ei.hash256(s)}getHash(e){return e&&this.isCoinbase()?A.Buffer.alloc(32,0):Ei.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,wn.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){ic(pr.tuple(pr.Number,pr.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){ic(pr.tuple(pr.Number,[pr.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=A.Buffer.allocUnsafe(this.byteLength(n)));let i=new wn.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(xt.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(xt.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(o=>{i.writeSlice(o.hash),i.writeUInt32(o.index),i.writeVarSlice(o.script),i.writeUInt32(o.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(o=>{Ese(o)?i.writeUInt64(o.value):i.writeSlice(o.valueBuffer),i.writeVarSlice(o.script)}),s&&this.ins.forEach(o=>{i.writeVector(o.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}hashForWitness(e,r,n,i){ic(pr.tuple(pr.UInt32,pr.Buffer,pr.Satoshi,pr.UInt32),arguments);let s=A.Buffer.from([]),o,a=K7,u=K7,c=K7;if(i&xt.SIGHASH_ANYONECANPAY||(s=A.Buffer.allocUnsafe(36*this.ins.length),o=new wn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),u=Ei.hash256(s)),!(i&xt.SIGHASH_ANYONECANPAY)&&(i&31)!==xt.SIGHASH_SINGLE&&(i&31)!==xt.SIGHASH_NONE&&(s=A.Buffer.allocUnsafe(4*this.ins.length),o=new wn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),c=Ei.hash256(s)),(i&31)!==xt.SIGHASH_SINGLE&&(i&31)!==xt.SIGHASH_NONE){let f=this.outs.reduce((p,l)=>p+8+Lo(l.script),0);s=A.Buffer.allocUnsafe(f),o=new wn.BufferWriter(s,0),this.outs.forEach(p=>{o.writeUInt64(p.value),o.writeVarSlice(p.script)}),a=Ei.hash256(s)}else if((i&31)===xt.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];s=A.Buffer.allocUnsafe(8+Lo(f.script)),o=new wn.BufferWriter(s,0),o.writeUInt64(f.value),o.writeVarSlice(f.script),a=Ei.hash256(s)}s=A.Buffer.allocUnsafe(156+r.length),o=new wn.BufferWriter(s,0);let h=this.ins[e];return o.writeInt32(this.version),o.writeSlice(u),o.writeSlice(c),o.writeSlice(h.hash),o.writeUInt32(h.index),o.writeSlice(r),o.writeUInt64(n),o.writeUInt32(h.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),Ei.hash256(s)}};Uo.Transaction=xt;xt.DEFAULT_SEQUENCE=4294967295;xt.SIGHASH_DEFAULT=0;xt.SIGHASH_ALL=1;xt.SIGHASH_NONE=2;xt.SIGHASH_SINGLE=3;xt.SIGHASH_ANYONECANPAY=128;xt.SIGHASH_OUTPUT_MASK=3;xt.SIGHASH_INPUT_MASK=128;xt.SIGHASH_BITCOINCASHBIP143=64;xt.ADVANCED_TRANSACTION_MARKER=0;xt.ADVANCED_TRANSACTION_FLAG=1});var ts=$(_s=>{k();M();Object.defineProperty(_s,"__esModule",{value:!0});_s.OUTPUT_TYPE_NAMES=_s.OutputTypes=_s.INPUT_TYPE_NAMES=_s.InputTypes=_s.GLOBAL_TYPE_NAMES=_s.GlobalTypes=void 0;var Tse;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Tse=_s.GlobalTypes||(_s.GlobalTypes={}));_s.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Ase;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Ase=_s.InputTypes||(_s.InputTypes={}));_s.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var Ise;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(Ise=_s.OutputTypes||(_s.OutputTypes={}));_s.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var HM=$($a=>{k();M();Object.defineProperty($a,"__esModule",{value:!0});$a.canAddToArray=$a.check=$a.expected=$a.encode=$a.decode=void 0;var FM=ts(),Pse=t=>[...Array(t).keys()];function Ose(t){if(t.key[0]!==FM.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of Pse(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),o=i&2147483647;r.path+="/"+o.toString(10)+(s?"'":"")}return r}$a.decode=Ose;function Bse(t){let e=A.Buffer.from([FM.GlobalTypes.GLOBAL_XPUB]),r=A.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=A.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(o=>{let a=o.slice(-1)==="'",u=2147483647&parseInt(a?o.slice(0,-1):o,10);a&&(u+=2147483648),i.writeUInt32LE(u,s),s+=4}),{key:r,value:i}}$a.encode=Bse;$a.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Cse(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return A.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&A.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}$a.check=Cse;function kse(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}$a.canAddToArray=kse});var DM=$(Sg=>{k();M();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.encode=void 0;var Mse=ts();function Rse(t){return{key:A.Buffer.from([Mse.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}Sg.encode=Rse});var UM=$(ja=>{k();M();Object.defineProperty(ja,"__esModule",{value:!0});ja.canAdd=ja.check=ja.expected=ja.encode=ja.decode=void 0;var LM=ts();function Nse(t){if(t.key[0]!==LM.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}ja.decode=Nse;function Fse(t){return{key:A.Buffer.from([LM.InputTypes.FINAL_SCRIPTSIG]),value:t}}ja.encode=Fse;ja.expected="Buffer";function Hse(t){return A.Buffer.isBuffer(t)}ja.check=Hse;function Dse(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}ja.canAdd=Dse});var $M=$(Ka=>{k();M();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.canAdd=Ka.check=Ka.expected=Ka.encode=Ka.decode=void 0;var qM=ts();function Lse(t){if(t.key[0]!==qM.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}Ka.decode=Lse;function Use(t){return{key:A.Buffer.from([qM.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}Ka.encode=Use;Ka.expected="Buffer";function qse(t){return A.Buffer.isBuffer(t)}Ka.check=qse;function $se(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}Ka.canAdd=$se});var KM=$(Va=>{k();M();Object.defineProperty(Va,"__esModule",{value:!0});Va.canAdd=Va.check=Va.expected=Va.encode=Va.decode=void 0;var jM=ts();function jse(t){if(t.key[0]!==jM.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}Va.decode=jse;function Kse(t){return{key:A.Buffer.from([jM.InputTypes.NON_WITNESS_UTXO]),value:t}}Va.encode=Kse;Va.expected="Buffer";function Vse(t){return A.Buffer.isBuffer(t)}Va.check=Vse;function Gse(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}Va.canAdd=Gse});var GM=$(Ga=>{k();M();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.canAddToArray=Ga.check=Ga.expected=Ga.encode=Ga.decode=void 0;var VM=ts();function zse(t){if(t.key[0]!==VM.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}Ga.decode=zse;function Wse(t){let e=A.Buffer.from([VM.InputTypes.PARTIAL_SIG]);return{key:A.Buffer.concat([e,t.pubkey]),value:t.signature}}Ga.encode=Wse;Ga.expected="{ pubkey: Buffer; signature: Buffer; }";function Yse(t){return A.Buffer.isBuffer(t.pubkey)&&A.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&Xse(t.signature)}Ga.check=Yse;function Xse(t){if(!A.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function Zse(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}Ga.canAddToArray=Zse});var WM=$(za=>{k();M();Object.defineProperty(za,"__esModule",{value:!0});za.canAdd=za.check=za.expected=za.encode=za.decode=void 0;var zM=ts();function Jse(t){if(t.key[0]!==zM.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}za.decode=Jse;function Qse(t){return{key:A.Buffer.from([zM.InputTypes.POR_COMMITMENT]),value:A.Buffer.from(t,"utf8")}}za.encode=Qse;za.expected="string";function eoe(t){return typeof t=="string"}za.check=eoe;function toe(t,e){return!!t&&!!e&&t.porCommitment===void 0}za.canAdd=toe});var XM=$(Wa=>{k();M();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.canAdd=Wa.check=Wa.expected=Wa.encode=Wa.decode=void 0;var YM=ts();function roe(t){if(t.key[0]!==YM.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}Wa.decode=roe;function noe(t){let e=A.Buffer.from([YM.InputTypes.SIGHASH_TYPE]),r=A.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}Wa.encode=noe;Wa.expected="number";function ioe(t){return typeof t=="number"}Wa.check=ioe;function soe(t,e){return!!t&&!!e&&t.sighashType===void 0}Wa.canAdd=soe});var QM=$(Ya=>{k();M();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.canAdd=Ya.check=Ya.expected=Ya.encode=Ya.decode=void 0;var ZM=ts();function ooe(t){if(t.key[0]!==ZM.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!JM(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}Ya.decode=ooe;function aoe(t){return{key:A.Buffer.from([ZM.InputTypes.TAP_KEY_SIG]),value:t}}Ya.encode=aoe;Ya.expected="Buffer";function JM(t){return A.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}Ya.check=JM;function uoe(t,e){return!!t&&!!e&&t.tapKeySig===void 0}Ya.canAdd=uoe});var tR=$(Xa=>{k();M();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.canAddToArray=Xa.check=Xa.expected=Xa.encode=Xa.decode=void 0;var eR=ts();function coe(t){if(t.key[0]!==eR.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Xa.decode=coe;function foe(t){let e=A.Buffer.from([eR.InputTypes.TAP_LEAF_SCRIPT]),r=A.Buffer.from([t.leafVersion]);return{key:A.Buffer.concat([e,t.controlBlock]),value:A.Buffer.concat([t.script,r])}}Xa.encode=foe;Xa.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function hoe(t){return A.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&A.Buffer.isBuffer(t.script)}Xa.check=hoe;function loe(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}Xa.canAddToArray=loe});var iR=$(Za=>{k();M();Object.defineProperty(Za,"__esModule",{value:!0});Za.canAdd=Za.check=Za.expected=Za.encode=Za.decode=void 0;var rR=ts();function doe(t){if(t.key[0]!==rR.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!nR(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}Za.decode=doe;function poe(t){return{key:A.Buffer.from([rR.InputTypes.TAP_MERKLE_ROOT]),value:t}}Za.encode=poe;Za.expected="Buffer";function nR(t){return A.Buffer.isBuffer(t)&&t.length===32}Za.check=nR;function moe(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}Za.canAdd=moe});var oR=$(Ja=>{k();M();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.canAddToArray=Ja.check=Ja.expected=Ja.encode=Ja.decode=void 0;var sR=ts();function goe(t){if(t.key[0]!==sR.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}Ja.decode=goe;function boe(t){let e=A.Buffer.from([sR.InputTypes.TAP_SCRIPT_SIG]);return{key:A.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}Ja.encode=boe;Ja.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function yoe(t){return A.Buffer.isBuffer(t.pubkey)&&A.Buffer.isBuffer(t.leafHash)&&A.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Ja.check=yoe;function voe(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}Ja.canAddToArray=voe});var Gh=$(Vh=>{k();M();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.encodingLength=Vh.decode=Vh.encode=void 0;var _oe=9007199254740991;function Sx(t){if(t<0||t>_oe||t%1!==0)throw new RangeError("value out of range")}function d3(t,e,r){if(Sx(t),e||(e=A.Buffer.allocUnsafe(aR(t))),!A.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(d3,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(d3,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(d3,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(d3,{bytes:9})),e}Vh.encode=d3;function p3(t,e){if(!A.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(p3,{bytes:1}),r;if(r===253)return Object.assign(p3,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(p3,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(p3,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return Sx(s),s}}Vh.decode=p3;function aR(t){return Sx(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Vh.encodingLength=aR});var Eg=$(Ti=>{k();M();var xoe=Ti&&Ti.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Soe=Ti&&Ti.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),woe=Ti&&Ti.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xoe(e,t,r);return Soe(e,t),e};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.writeUInt64LE=Ti.readUInt64LE=Ti.keyValToBuffer=Ti.keyValsToBuffer=Ti.reverseBuffer=Ti.range=void 0;var wg=woe(Gh()),Eoe=t=>[...Array(t).keys()];Ti.range=Eoe;function Toe(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Ti.reverseBuffer=Toe;function Aoe(t){let e=t.map(uR);return e.push(A.Buffer.from([0])),A.Buffer.concat(e)}Ti.keyValsToBuffer=Aoe;function uR(t){let e=t.key.length,r=t.value.length,n=wg.encodingLength(e),i=wg.encodingLength(r),s=A.Buffer.allocUnsafe(n+e+i+r);return wg.encode(e,s,0),t.key.copy(s,n),wg.encode(r,s,n+e),t.value.copy(s,n+e+i),s}Ti.keyValToBuffer=uR;function cR(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Ioe(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,cR(n+r,9007199254740991),n+r}Ti.readUInt64LE=Ioe;function Poe(t,e,r){return cR(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Ti.writeUInt64LE=Poe});var lR=$(rs=>{k();M();var Ooe=rs&&rs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Boe=rs&&rs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Coe=rs&&rs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ooe(e,t,r);return Boe(e,t),e};Object.defineProperty(rs,"__esModule",{value:!0});rs.canAdd=rs.check=rs.expected=rs.encode=rs.decode=void 0;var fR=ts(),hR=Eg(),Tg=Coe(Gh());function koe(t){if(t.key[0]!==fR.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=(0,hR.readUInt64LE)(t.value,0),r=8,n=Tg.decode(t.value,r);r+=Tg.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}rs.decode=koe;function Moe(t){let{script:e,value:r}=t,n=Tg.encodingLength(e.length),i=A.Buffer.allocUnsafe(8+n+e.length);return(0,hR.writeUInt64LE)(i,r,0),Tg.encode(e.length,i,8),e.copy(i,8+n),{key:A.Buffer.from([fR.InputTypes.WITNESS_UTXO]),value:i}}rs.encode=Moe;rs.expected="{ script: Buffer; value: number; }";function Roe(t){return A.Buffer.isBuffer(t.script)&&typeof t.value=="number"}rs.check=Roe;function Noe(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}rs.canAdd=Noe});var pR=$(ns=>{k();M();var Foe=ns&&ns.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hoe=ns&&ns.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Doe=ns&&ns.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Foe(e,t,r);return Hoe(e,t),e};Object.defineProperty(ns,"__esModule",{value:!0});ns.canAdd=ns.check=ns.expected=ns.encode=ns.decode=void 0;var dR=ts(),wx=Doe(Gh());function Loe(t){if(t.key[0]!==dR.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=wx.decode(t.value,e);e+=wx.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}ns.decode=Loe;function Uoe(t){let e=A.Buffer.from([dR.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[A.Buffer.of(n.depth,n.leafVersion),wx.encode(n.script.length),n.script]));return{key:e,value:A.Buffer.concat(r)}}ns.encode=Uoe;ns.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function qoe(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&A.Buffer.isBuffer(e.script))}ns.check=qoe;function $oe(t,e){return!!t&&!!e&&t.tapTree===void 0}ns.canAdd=$oe});var Ex=$(Ag=>{k();M();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.makeConverter=void 0;var joe=t=>[...Array(t).keys()],Koe=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function Voe(t,e=Koe){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let u=a.key.slice(1);if(!e(u))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let c={masterFingerprint:a.value.slice(0,4),pubkey:u,path:"m"};for(let h of joe(a.value.length/4-1)){let f=a.value.readUInt32LE(h*4+4),p=!!(f&2147483648),l=f&2147483647;c.path+="/"+l.toString(10)+(p?"'":"")}return c}function n(a){let u=A.Buffer.from([t]),c=A.Buffer.concat([u,a.pubkey]),h=a.path.split("/"),f=A.Buffer.allocUnsafe(h.length*4);a.masterFingerprint.copy(f,0);let p=4;return h.slice(1).forEach(l=>{let y=l.slice(-1)==="'",_=2147483647&parseInt(y?l.slice(0,-1):l,10);y&&(_+=2147483648),f.writeUInt32LE(_,p),p+=4}),{key:c,value:f}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(a){return A.Buffer.isBuffer(a.pubkey)&&A.Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function o(a,u,c){let h=u.pubkey.toString("hex");return c.has(h)?!1:(c.add(h),a.filter(f=>f.pubkey.equals(u.pubkey)).length===0)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:o}}Ag.makeConverter=Voe});var mR=$(Ig=>{k();M();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.makeChecker=void 0;function Goe(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}Ig.makeChecker=Goe});var gR=$(Pg=>{k();M();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.makeConverter=void 0;function zoe(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:A.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return A.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Pg.makeConverter=zoe});var yR=$(n0=>{k();M();var Woe=n0&&n0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yoe=n0&&n0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bR=n0&&n0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Woe(e,t,r);return Yoe(e,t),e};Object.defineProperty(n0,"__esModule",{value:!0});n0.makeConverter=void 0;var Og=bR(Gh()),Xoe=bR(Ex()),Zoe=t=>t.length===32;function Joe(t){let e=Xoe.makeConverter(t,Zoe);function r(o){let a=Og.decode(o.value),u=Og.encodingLength(a),c=e.decode({key:o.key,value:o.value.slice(u+a*32)}),h=new Array(a);for(let f=0,p=u;f<a;f++,p+=32)h[f]=o.value.slice(p,p+32);return{...c,leafHashes:h}}function n(o){let a=e.encode(o),u=Og.encodingLength(o.leafHashes.length),c=A.Buffer.allocUnsafe(u);Og.encode(o.leafHashes.length,c);let h=A.Buffer.concat([c,...o.leafHashes,a.value]);return{...a,value:h}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(o){return Array.isArray(o.leafHashes)&&o.leafHashes.every(a=>A.Buffer.isBuffer(a)&&a.length===32)&&e.check(o)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}n0.makeConverter=Joe});var vR=$(Bg=>{k();M();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.makeConverter=void 0;function Qoe(t){function e(o){if(o.key[0]!==t||o.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+o.key.toString("hex"));if(o.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return o.value}function r(o){return{key:A.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return A.Buffer.isBuffer(o)&&o.length===32}function s(o,a){return!!o&&!!a&&o.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Bg.makeConverter=Qoe});var _R=$(Cg=>{k();M();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.makeConverter=void 0;function eae(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:A.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return A.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Cg.makeConverter=eae});var kg=$(qo=>{k();M();var tae=qo&&qo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rae=qo&&qo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ai=qo&&qo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tae(e,t,r);return rae(e,t),e};Object.defineProperty(qo,"__esModule",{value:!0});qo.outputs=qo.inputs=qo.globals=void 0;var ha=ts(),nae=Ai(HM()),iae=Ai(DM()),sae=Ai(UM()),oae=Ai($M()),aae=Ai(KM()),uae=Ai(GM()),cae=Ai(WM()),fae=Ai(XM()),hae=Ai(QM()),lae=Ai(tR()),dae=Ai(iR()),pae=Ai(oR()),mae=Ai(lR()),gae=Ai(pR()),xR=Ai(Ex()),Tx=Ai(mR()),SR=Ai(gR()),wR=Ai(yR()),ER=Ai(vR()),TR=Ai(_R()),bae={unsignedTx:iae,globalXpub:nae,checkPubkey:Tx.makeChecker([])};qo.globals=bae;var yae={nonWitnessUtxo:aae,partialSig:uae,sighashType:fae,finalScriptSig:sae,finalScriptWitness:oae,porCommitment:cae,witnessUtxo:mae,bip32Derivation:xR.makeConverter(ha.InputTypes.BIP32_DERIVATION),redeemScript:SR.makeConverter(ha.InputTypes.REDEEM_SCRIPT),witnessScript:TR.makeConverter(ha.InputTypes.WITNESS_SCRIPT),checkPubkey:Tx.makeChecker([ha.InputTypes.PARTIAL_SIG,ha.InputTypes.BIP32_DERIVATION]),tapKeySig:hae,tapScriptSig:pae,tapLeafScript:lae,tapBip32Derivation:wR.makeConverter(ha.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:ER.makeConverter(ha.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:dae};qo.inputs=yae;var vae={bip32Derivation:xR.makeConverter(ha.OutputTypes.BIP32_DERIVATION),redeemScript:SR.makeConverter(ha.OutputTypes.REDEEM_SCRIPT),witnessScript:TR.makeConverter(ha.OutputTypes.WITNESS_SCRIPT),checkPubkey:Tx.makeChecker([ha.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:wR.makeConverter(ha.OutputTypes.TAP_BIP32_DERIVATION),tapTree:gae,tapInternalKey:ER.makeConverter(ha.OutputTypes.TAP_INTERNAL_KEY)};qo.outputs=vae});var OR=$($o=>{k();M();var _ae=$o&&$o.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xae=$o&&$o.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IR=$o&&$o.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_ae(e,t,r);return xae(e,t),e};Object.defineProperty($o,"__esModule",{value:!0});$o.psbtFromKeyVals=$o.checkKeyBuffer=$o.psbtFromBuffer=void 0;var En=IR(kg()),Mg=Eg(),AR=IR(Gh()),er=ts();function Sae(t,e){let r=0;function n(){let O=AR.decode(t,r);r+=AR.encodingLength(O);let F=t.slice(r,r+O);return r+=O,F}function i(){let O=t.readUInt32BE(r);return r+=4,O}function s(){let O=t.readUInt8(r);return r+=1,O}function o(){let O=n(),F=n();return{key:O,value:F}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let O=t.readUInt8(r)===0;return O&&r++,O}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let u=[],c={};for(;!a();){let O=o(),F=O.key.toString("hex");if(c[F])throw new Error("Format Error: Keys must be unique for global keymap: key "+F);c[F]=1,u.push(O)}let h=u.filter(O=>O.key[0]===er.GlobalTypes.UNSIGNED_TX);if(h.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let f=e(h[0].value),{inputCount:p,outputCount:l}=f.getInputOutputCounts(),y=[],_=[];for(let O of(0,Mg.range)(p)){let F={},B=[];for(;!a();){let E=o(),I=E.key.toString("hex");if(F[I])throw new Error("Format Error: Keys must be unique for each input: input index "+O+" key "+I);F[I]=1,B.push(E)}y.push(B)}for(let O of(0,Mg.range)(l)){let F={},B=[];for(;!a();){let E=o(),I=E.key.toString("hex");if(F[I])throw new Error("Format Error: Keys must be unique for each output: output index "+O+" key "+I);F[I]=1,B.push(E)}_.push(B)}return PR(f,{globalMapKeyVals:u,inputKeyVals:y,outputKeyVals:_})}$o.psbtFromBuffer=Sae;function xs(t,e,r){if(!e.equals(A.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}$o.checkKeyBuffer=xs;function PR(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let h of e)switch(h.key[0]){case er.GlobalTypes.UNSIGNED_TX:if(xs("global",h.key,er.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case er.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(En.globals.globalXpub.decode(h));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(h)}let o=r.length,a=n.length,u=[],c=[];for(let h of(0,Mg.range)(o)){let f={};for(let p of r[h])switch(En.inputs.checkPubkey(p),p.key[0]){case er.InputTypes.NON_WITNESS_UTXO:if(xs("input",p.key,er.InputTypes.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=En.inputs.nonWitnessUtxo.decode(p);break;case er.InputTypes.WITNESS_UTXO:if(xs("input",p.key,er.InputTypes.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=En.inputs.witnessUtxo.decode(p);break;case er.InputTypes.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(En.inputs.partialSig.decode(p));break;case er.InputTypes.SIGHASH_TYPE:if(xs("input",p.key,er.InputTypes.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=En.inputs.sighashType.decode(p);break;case er.InputTypes.REDEEM_SCRIPT:if(xs("input",p.key,er.InputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=En.inputs.redeemScript.decode(p);break;case er.InputTypes.WITNESS_SCRIPT:if(xs("input",p.key,er.InputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=En.inputs.witnessScript.decode(p);break;case er.InputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(En.inputs.bip32Derivation.decode(p));break;case er.InputTypes.FINAL_SCRIPTSIG:xs("input",p.key,er.InputTypes.FINAL_SCRIPTSIG),f.finalScriptSig=En.inputs.finalScriptSig.decode(p);break;case er.InputTypes.FINAL_SCRIPTWITNESS:xs("input",p.key,er.InputTypes.FINAL_SCRIPTWITNESS),f.finalScriptWitness=En.inputs.finalScriptWitness.decode(p);break;case er.InputTypes.POR_COMMITMENT:xs("input",p.key,er.InputTypes.POR_COMMITMENT),f.porCommitment=En.inputs.porCommitment.decode(p);break;case er.InputTypes.TAP_KEY_SIG:xs("input",p.key,er.InputTypes.TAP_KEY_SIG),f.tapKeySig=En.inputs.tapKeySig.decode(p);break;case er.InputTypes.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(En.inputs.tapScriptSig.decode(p));break;case er.InputTypes.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(En.inputs.tapLeafScript.decode(p));break;case er.InputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(En.inputs.tapBip32Derivation.decode(p));break;case er.InputTypes.TAP_INTERNAL_KEY:xs("input",p.key,er.InputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=En.inputs.tapInternalKey.decode(p);break;case er.InputTypes.TAP_MERKLE_ROOT:xs("input",p.key,er.InputTypes.TAP_MERKLE_ROOT),f.tapMerkleRoot=En.inputs.tapMerkleRoot.decode(p);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}u.push(f)}for(let h of(0,Mg.range)(a)){let f={};for(let p of n[h])switch(En.outputs.checkPubkey(p),p.key[0]){case er.OutputTypes.REDEEM_SCRIPT:if(xs("output",p.key,er.OutputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=En.outputs.redeemScript.decode(p);break;case er.OutputTypes.WITNESS_SCRIPT:if(xs("output",p.key,er.OutputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=En.outputs.witnessScript.decode(p);break;case er.OutputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(En.outputs.bip32Derivation.decode(p));break;case er.OutputTypes.TAP_INTERNAL_KEY:xs("output",p.key,er.OutputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=En.outputs.tapInternalKey.decode(p);break;case er.OutputTypes.TAP_TREE:xs("output",p.key,er.OutputTypes.TAP_TREE),f.tapTree=En.outputs.tapTree.decode(p);break;case er.OutputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(En.outputs.tapBip32Derivation.decode(p));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}c.push(f)}return{globalMap:i,inputs:u,outputs:c}}$o.psbtFromKeyVals=PR});var kR=$(Qa=>{k();M();var wae=Qa&&Qa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Eae=Qa&&Qa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tae=Qa&&Qa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wae(e,t,r);return Eae(e,t),e};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.psbtToKeyVals=Qa.psbtToBuffer=void 0;var Ax=Tae(kg()),BR=Eg();function Aae({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=CR({globalMap:t,inputs:e,outputs:r}),o=(0,BR.keyValsToBuffer)(n),a=f=>f.length===0?[A.Buffer.from([0])]:f.map(BR.keyValsToBuffer),u=a(i),c=a(s),h=A.Buffer.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),A.Buffer.concat([h,o].concat(u,c))}Qa.psbtToBuffer=Aae;var Iae=(t,e)=>t.key.compare(e.key);function Ix(t,e){let r=new Set,n=Object.entries(t).reduce((s,[o,a])=>{if(o==="unknownKeyVals")return s;let u=e[o];if(u===void 0)return s;let c=(Array.isArray(a)?a:[a]).map(u.encode);return c.map(f=>f.key.toString("hex")).forEach(f=>{if(r.has(f))throw new Error("Serialize Error: Duplicate key: "+f);r.add(f)}),s.concat(c)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(Iae)}function CR({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:Ix(t,Ax.globals),inputKeyVals:e.map(n=>Ix(n,Ax.inputs)),outputKeyVals:r.map(n=>Ix(n,Ax.outputs))}}Qa.psbtToKeyVals=CR});var Px=$(zh=>{k();M();var Pae=zh&&zh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MR=zh&&zh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Pae(e,t,r)};Object.defineProperty(zh,"__esModule",{value:!0});MR(OR(),zh);MR(kR(),zh)});var NR=$(Rg=>{k();M();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.combine=void 0;var Ox=Px();function Oae(t){let e=t[0],r=(0,Ox.psbtToKeyVals)(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=RR(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=V7(r.globalKeyVals),o=r.inputKeyVals.map(V7),a=r.outputKeyVals.map(V7);for(let u of n){let c=RR(u);if(c===void 0||!c.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let h=(0,Ox.psbtToKeyVals)(u);V7(h.globalKeyVals).forEach(Bx(s,r.globalKeyVals,h.globalKeyVals)),h.inputKeyVals.map(V7).forEach((y,_)=>y.forEach(Bx(o[_],r.inputKeyVals[_],h.inputKeyVals[_]))),h.outputKeyVals.map(V7).forEach((y,_)=>y.forEach(Bx(a[_],r.outputKeyVals[_],h.outputKeyVals[_])))}return(0,Ox.psbtFromKeyVals)(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}Rg.combine=Oae;function Bx(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function RR(t){return t.globalMap.unsignedTx}function V7(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var kx=$(Or=>{k();M();var Bae=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cae=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kae=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Bae(e,t,r);return Cae(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.defaultLocktimeSetter=Or.defaultVersionSetter=Or.addOutputAttributes=Or.addInputAttributes=Or.updateOutput=Or.updateInput=Or.updateGlobal=Or.inputCheckUncleanFinalized=Or.getEnumLength=Or.checkHasKey=Or.checkForOutput=Or.checkForInput=void 0;var Mae=kae(kg());function HR(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}Or.checkForInput=HR;function DR(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}Or.checkForOutput=DR;function Rae(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}Or.checkHasKey=Rae;function Nae(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}Or.getEnumLength=Nae;function Fae(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,o=!i||!!e.finalScriptWitness,a=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&o&&a}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}Or.inputCheckUncleanFinalized=Fae;function FR(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function Cx(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:o,check:a,expected:u}=Mae[t+"s"][n]||{},c=!!o;if(a)if(c){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(a)||FR(t,n,u,i);let h=r[n]||[],f=new Set;if(!i.every(p=>o(h,p,f)))throw new Error("Can not add duplicate data to array");r[n]=h.concat(i)}else{if(a(i)||FR(t,n,u,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}Or.updateGlobal=Cx("global");Or.updateInput=Cx("input");Or.updateOutput=Cx("output");function Hae(t,e){let r=t.length-1,n=HR(t,r);(0,Or.updateInput)(e,n)}Or.addInputAttributes=Hae;function Dae(t,e){let r=t.length-1,n=DR(t,r);(0,Or.updateOutput)(e,n)}Or.addOutputAttributes=Dae;function Lae(t,e){if(!A.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}Or.defaultVersionSetter=Lae;function Uae(t,e){if(!A.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}Or.defaultLocktimeSetter=Uae});var UR=$(Ng=>{k();M();Object.defineProperty(Ng,"__esModule",{value:!0});Ng.Psbt=void 0;var qae=NR(),LR=Px(),Mx=ts(),Ss=kx(),Rx=class{static fromBase64(e,r){let n=A.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=A.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=(0,LR.psbtFromBuffer)(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return(0,LR.psbtToBuffer)(this)}updateGlobal(e){return(0,Ss.updateGlobal)(e,this.globalMap),this}updateInput(e,r){let n=(0,Ss.checkForInput)(this.inputs,e);return(0,Ss.updateInput)(r,n),this}updateOutput(e,r){let n=(0,Ss.checkForOutput)(this.outputs,e);return(0,Ss.updateOutput)(r,n),this}addUnknownKeyValToGlobal(e){return(0,Ss.checkHasKey)(e,this.globalMap.unknownKeyVals,(0,Ss.getEnumLength)(Mx.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=(0,Ss.checkForInput)(this.inputs,e);return(0,Ss.checkHasKey)(r,n.unknownKeyVals,(0,Ss.getEnumLength)(Mx.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=(0,Ss.checkForOutput)(this.outputs,e);return(0,Ss.checkHasKey)(r,n.unknownKeyVals,(0,Ss.getEnumLength)(Mx.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,Ss.addInputAttributes)(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,Ss.addOutputAttributes)(this.outputs,e),this}clearFinalizedInput(e){let r=(0,Ss.checkForInput)(this.inputs,e);(0,Ss.inputCheckUncleanFinalized)(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=(0,qae.combine)([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};Ng.Psbt=Rx});var Sp=$(Dr=>{k();M();var $ae=Dr&&Dr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jae=Dr&&Dr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nx=Dr&&Dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$ae(e,t,r);return jae(e,t),e};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.signatureBlocksAction=Dr.checkInputForSig=Dr.pubkeyInScript=Dr.pubkeyPositionInScript=Dr.witnessStackToScriptWitness=Dr.isP2TR=Dr.isP2SHScript=Dr.isP2WSHScript=Dr.isP2WPKH=Dr.isP2PKH=Dr.isP2PK=Dr.isP2MS=void 0;var qR=Nx(Gh()),m3=Nx(Si()),Fg=Kh(),Kae=vs(),_p=Nx(qh());function xp(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}Dr.isP2MS=xp(_p.p2ms);Dr.isP2PK=xp(_p.p2pk);Dr.isP2PKH=xp(_p.p2pkh);Dr.isP2WPKH=xp(_p.p2wpkh);Dr.isP2WSHScript=xp(_p.p2wsh);Dr.isP2SHScript=xp(_p.p2sh);Dr.isP2TR=xp(_p.p2tr);function Vae(t){let e=A.Buffer.allocUnsafe(0);function r(o){e=A.Buffer.concat([e,A.Buffer.from(o)])}function n(o){let a=e.length,u=qR.encodingLength(o);e=A.Buffer.concat([e,A.Buffer.allocUnsafe(u)]),qR.encode(o,e,a)}function i(o){n(o.length),r(o)}function s(o){n(o.length),o.forEach(i)}return s(t),e}Dr.witnessStackToScriptWitness=Vae;function $R(t,e){let r=(0,Kae.hash160)(t),n=t.slice(1,33),i=m3.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}Dr.pubkeyPositionInScript=$R;function Gae(t,e){return $R(t,e)!==-1}Dr.pubkeyInScript=Gae;function zae(t,e){return Wae(t).some(n=>jR(n,m3.signature.decode,e))}Dr.checkInputForSig=zae;function jR(t,e,r){let{hashType:n}=e(t),i=[];switch(n&Fg.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case Fg.Transaction.SIGHASH_ALL:break;case Fg.Transaction.SIGHASH_SINGLE:case Fg.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}Dr.signatureBlocksAction=jR;function Wae(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=Yae(t)}else e=t.partialSig;return e.map(r=>r.signature)}function Yae(t){let e=t.finalScriptSig?m3.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?m3.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>A.Buffer.isBuffer(n)&&m3.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var Ux=$(Rn=>{k();M();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.checkTaprootInputForSigs=Rn.tapTreeFromList=Rn.tapTreeToList=Rn.tweakInternalPubKey=Rn.checkTaprootOutputFields=Rn.checkTaprootInputFields=Rn.isTaprootOutput=Rn.isTaprootInput=Rn.serializeTaprootSignature=Rn.tapScriptFinalizer=Rn.toXOnly=void 0;var Lx=qs(),Xae=Kh(),Lg=Sp(),Wh=bg(),Zae=qh(),Jae=Sp(),Qae=t=>t.length===32?t:t.slice(1,33);Rn.toXOnly=Qae;function eue(t,e,r){let n=yue(e,t,r);try{let s=gue(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,Lg.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}Rn.tapScriptFinalizer=eue;function tue(t,e){let r=e?A.Buffer.from([e]):A.Buffer.from([]);return A.Buffer.concat([t,r])}Rn.serializeTaprootSignature=tue;function Hg(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,Lg.isP2TR)(t.witnessUtxo.script))}Rn.isTaprootInput=Hg;function Dg(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,Lg.isP2TR)(e))}Rn.isTaprootOutput=Dg;function rue(t,e,r){due(t,e,r),mue(t,e,r)}Rn.checkTaprootInputFields=rue;function nue(t,e,r){pue(t,e,r),iue(t,e)}Rn.checkTaprootOutputFields=nue;function iue(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=sue(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}function sue(t,e){let r=e&&KR(e.leaves),{output:n}=(0,Zae.p2tr)({internalPubkey:t,scriptTree:r});return n}function oue(t,e){let r=e.tapInternalKey,n=r&&(0,Wh.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Rn.tweakInternalPubKey=oue;function aue(t){if(!(0,Lx.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return Hx(t)}Rn.tapTreeToList=aue;function KR(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:lue(t)}Rn.tapTreeFromList=KR;function uue(t,e){return fue(t).some(n=>(0,Jae.signatureBlocksAction)(n,cue,e))}Rn.checkTaprootInputForSigs=uue;function cue(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||Xae.Transaction.SIGHASH_DEFAULT}}function fue(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=hue(t.finalScriptWitness);r&&e.push(r)}return e}function hue(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function Hx(t,e=[],r=0){if(r>Wh.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,Lx.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Wh.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&Hx(t[0],e,r+1),t[1]&&Hx(t[1],e,r+1),e):[]}function lue(t){let e;for(let r of t)if(e=Dx(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function Dx(t,e,r=0){if(r>Wh.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,Lx.isTapleaf)(e))return;let n=Dx(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=Dx(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function due(t,e,r){let n=Hg(t)&&G7(e),i=G7(t)&&Hg(e),s=t===e&&Hg(e)&&G7(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function pue(t,e,r){let n=Dg(t)&&G7(e),i=G7(t)&&Dg(e),s=t===e&&Dg(e)&&G7(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function mue(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>Fx(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>Fx(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>Fx(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function Fx(t,e){if(!e)return!0;let r=(0,Wh.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Wh.rootHashFromPath)(t.controlBlock,r).equals(e)}function gue(t,e){let r=(0,Wh.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>bue(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function bue(t,e){return Object.assign({positionInScript:(0,Lg.pubkeyPositionInScript)(e.pubkey,t)},e)}function yue(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>vue(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function vue(t,e,r){let n=(0,Wh.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}function G7(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var Vg=$(tu=>{k();M();var _ue=tu&&tu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xue=tu&&tu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vx=tu&&tu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_ue(e,t,r);return xue(e,t),e};Object.defineProperty(tu,"__esModule",{value:!0});tu.getHashAndSighashType=tu.Psbt=void 0;var VR=UR(),GR=Vx(Gh()),oo=kx(),zR=j7(),z7=Hh(),Sue=fa(),eu=Vx(qh()),wue=bg(),bf=Vx(Si()),Zn=Kh(),cn=Ux(),is=Sp(),eN=$c(),qx=vr(),Eue=Si(),Tue=e0(),Aue=eN.signUtil.schnorr.secp256k1.schnorr,Iue={network:Sue.bitcoin,maximumFeeRate:5e3},W7=class{static fromBase64(e,r={}){let n=A.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=A.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=VR.Psbt.fromBuffer(e,Pue),i=new W7(r,n);return Mue(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new VR.Psbt(new qg)){this.data=r,this.opts=Object.assign({},Iue,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,s,o,a)=>Object.defineProperty(i,s,{enumerable:o,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,z7.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,zR.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,z7.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=W7.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){Ug(e),this.opts.maximumFeeRate=e}setVersion(e){Ug(e),g3(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){Ug(e),g3(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){Ug(r),g3(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,cn.checkTaprootInputFields)(e,e,"addInput"),g3(this.data.inputs,"addInput"),e.witnessScript&&$g(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];nN(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&Kx(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");g3(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,zR.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,cn.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(tN))throw new Error("Not finalized");let r=this.__CACHE;if(e||Bue(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return uN(this.data.inputs,n,r,!0),n}getFeeRate(){return JR("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return JR("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,oo.checkForInput)(this.data.inputs,0),b3(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,oo.checkForInput)(this.data.inputs,e);return(0,cn.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=cn.tapScriptFinalizer){let i=(0,oo.checkForInput)(this.data.inputs,e);if((0,cn.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Rue){let{script:i,isP2SH:s,isP2WSH:o,isSegwit:a}=Due(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);Cue(r);let{finalScriptSig:u,finalScriptWitness:c}=n(e,r,i,a,s,o);if(u&&this.data.updateInput(e,{finalScriptSig:u}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!u&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=cn.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=eu.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),o=(0,is.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:o})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,oo.checkForInput)(this.data.inputs,e),n=cN(e,r,this.__CACHE),i=Kg(n,e,"input",r.redeemScript||jue(r.finalScriptSig),r.witnessScript||Kue(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",o=lN(i.meaningfulScript);return s+o}inputHasPubkey(e,r){let n=(0,oo.checkForInput)(this.data.inputs,e);return que(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,oo.checkForInput)(this.data.inputs,e),i=YR(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,oo.checkForOutput)(this.data.outputs,e);return $ue(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,oo.checkForOutput)(this.data.outputs,e),i=YR(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,oo.checkForInput)(this.data.inputs,0),b3(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,cn.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let o=n?s.filter(f=>f.pubkey.equals(n)):s;if(o.length<1)throw new Error("No signatures for this pubkey");let a=[],u,c,h;for(let f of o){let p=bf.signature.decode(f.signature),{hash:l,script:y}=h!==p.hashType?sN(e,Object.assign({},i,{sighashType:p.hashType}),this.__CACHE,!0):{hash:u,script:c};h=p.hashType,u=l,c=y,rN(f.pubkey,y,"verify"),a.push(r(f.pubkey,l,p.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,o=(i||{}).tapScriptSig;if(!i&&!s&&!(o&&!o.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,cn.toXOnly)(n);let a=n?jx(e,i,this.data.inputs,n,this.__CACHE):Fue(e,i,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");let u=a.find(c=>!!c.leafHash);if(s&&u&&!r(u.pubkey,u.hash,s))return!1;if(o)for(let c of o){let h=a.find(f=>c.pubkey.equals(f.pubkey));if(h&&!r(c.pubkey,h.hash,c.signature))return!1}return!0}signAllInputsHD(e,r=[Zn.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of b3(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Zn.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],o=[];for(let a of b3(this.data.inputs.length))o.push(this.signInputHDAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Zn.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return QR(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[Zn.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let a=QR(e,this.data.inputs,r).map(u=>this.signInputAsync(e,u,n));return Promise.all(a).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of b3(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],o=[];for(let[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,oo.checkForInput)(this.data.inputs,e);return(0,cn.isTaprootInput)(s)?this._signTaprootInput(e,s,r,i,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,oo.checkForInput)(this.data.inputs,e);if((0,cn.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}getHashAndSighashType(e,r,n=[Zn.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=y3(this.data.inputs,e,r,this.__CACHE,n);return{hash:i,sighashType:s}}_signInput(e,r,n=[Zn.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=y3(this.data.inputs,e,r.publicKey,this.__CACHE,n),o=[{pubkey:r.publicKey,signature:bf.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,r,n,i,s=[Zn.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,r,n,i,s),a=o.filter(c=>!c.leafHash).map(c=>(0,cn.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType))[0],u=o.filter(c=>!!c.leafHash).map(c=>({pubkey:(0,cn.toXOnly)(n.publicKey),signature:(0,cn.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType),leafHash:c.leafHash}));return a&&this.data.updateInput(e,{tapKeySig:a}),u.length&&this.data.updateInput(e,{tapScriptSig:u}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,oo.checkForInput)(this.data.inputs,e);return(0,cn.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,oo.checkForInput)(this.data.inputs,e);if((0,cn.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Zn.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=y3(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(o=>{let a=[{pubkey:r.publicKey,signature:bf.signature.encode(o,s)}];this.data.updateInput(e,{partialSig:a})})}async _signTaprootInputAsync(e,r,n,i,s=[Zn.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,r,n,i,s),a=[],u=o.filter(h=>!h.leafHash)[0];if(u){let h=Promise.resolve(n.signSchnorr(u.hash)).then(f=>({tapKeySig:(0,cn.serializeTaprootSignature)(f,r.sighashType)}));a.push(h)}let c=o.filter(h=>!!h.leafHash);if(c.length){let h=c.map(f=>Promise.resolve(n.signSchnorr(f.hash)).then(p=>({tapScriptSig:[{pubkey:(0,cn.toXOnly)(n.publicKey),signature:(0,cn.serializeTaprootSignature)(p,r.sighashType),leafHash:f.leafHash}]})));a.push(...h)}return Promise.all(a).then(h=>{h.forEach(f=>this.data.updateInput(e,f))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let o=jx(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return o}toBuffer(){return $x(this.__CACHE),this.data.toBuffer()}toHex(){return $x(this.__CACHE),this.data.toHex()}toBase64(){return $x(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&$g(r.witnessScript),(0,cn.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&Kx(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,cn.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}verify(e,r){let n=[Zn.Transaction.SIGHASH_SINGLE|Zn.Transaction.SIGHASH_ANYONECANPAY,Zn.Transaction.SIGHASH_ALL,Zn.Transaction.SIGHASH_DEFAULT];for(let i=0;i<this.inputCount;i++)if((0,cn.isTaprootInput)(this.data.inputs[i])){let s=A.Buffer.from((0,Tue.taprootTweakPubkey)(e.slice(1))[0]),a=new z7.BufferReader(r).readVector(),u={publicKey:s,sign(f){return A.Buffer.alloc(64)},signSchnorr(f){return A.Buffer.alloc(64)}},h=this.checkTaprootHashesForSig(i,this.data.inputs[i],u,void 0,n).filter(f=>!f.leafHash)[0].hash;if(!Aue.verify(qx.base.toHex(a[0]),qx.base.toHex(h),qx.base.toHex(s)))return!1}else{let{hash:s}=y3(this.data.inputs,i,e,this.__CACHE,n),a=new z7.BufferReader(r).readVector(),u=Eue.signature.decode(a[0]).signature,c=a[1];if(!e.equals(c))throw Error("pubKey error");if(!eN.signUtil.secp256k1.verifyWithNoRecovery(s,u,e))return!1}return!0}};tu.Psbt=W7;var Pue=t=>new qg(t),qg=class{constructor(e=A.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Zn.Transaction.fromBuffer(e),kue(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!A.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,z7.reverseBuffer)(A.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!A.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function Oue(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return WR(1,t.partialSig);case"multisig":let n=eu.p2ms({output:e});return WR(n.m,t.partialSig,n.pubkeys);default:return!1}}function $x(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function WR(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=Vue(i);return e.find(o=>o.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function tN(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function YR(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function Ug(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function Bue(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function g3(t,e){t.forEach(r=>{if((0,cn.isTaprootInput)(r)?(0,cn.checkTaprootInputForSigs)(r,e):(0,is.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function Cue(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=bf.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function rN(t,e,r){if(!(0,is.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function kue(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Mue(t,e){t.ins.forEach(r=>{nN(e,r)})}function nN(t,e){let r=(0,z7.reverseBuffer)(A.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function iN(t,e){return(r,n,i,s)=>{let o=t({redeem:{output:i}}).output;if(!n.equals(o))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}var XR=iN(eu.p2sh,"Redeem script"),ZR=iN(eu.p2wsh,"Witness script");function JR(t,e,r,n){if(!r.every(tN))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),uN(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function Rue(t,e,r,n,i,s){let o=lN(r);if(!Oue(e,r,o))throw new Error(`Can not finalize input #${t}`);return Nue(r,o,e.partialSig,n,i,s)}function Nue(t,e,r,n,i,s){let o,a,u=Hue(t,e,r),c=s?eu.p2wsh({redeem:u}):null,h=i?eu.p2sh({redeem:c||u}):null;return n?(c?a=(0,is.witnessStackToScriptWitness)(c.witness):a=(0,is.witnessStackToScriptWitness)(u.witness),h&&(o=h.input)):h?o=h.input:o=u.input,{finalScriptSig:o,finalScriptWitness:a}}function y3(t,e,r,n,i){let s=(0,oo.checkForInput)(t,e),{hash:o,sighashType:a,script:u}=sN(e,s,n,!1,i);return rN(r,u,"sign"),{hash:o,sighashType:a}}tu.getHashAndSighashType=y3;function sN(t,e,r,n,i){let s=r.__TX,o=e.sighashType||Zn.Transaction.SIGHASH_ALL;oN(o,i);let a,u;if(e.nonWitnessUtxo){let f=jg(r,e,t),p=s.ins[t].hash,l=f.getHash();if(!p.equals(l))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let y=s.ins[t].index;u=f.outs[y]}else if(e.witnessUtxo)u=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:c,type:h}=Kg(u.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(h)>=0)a=s.hashForWitnessV0(t,c,u.value,o);else if((0,is.isP2WPKH)(c)){let f=eu.p2pkh({hash:c.slice(2)}).output;a=s.hashForWitnessV0(t,f,u.value,o)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=s.hashForSignature(t,c,o)}return{script:c,sighashType:o,hash:a}}function Fue(t,e,r,n){let i=[];if(e.tapInternalKey){let o=(0,cn.tweakInternalPubKey)(t,e);i.push(o)}if(e.tapScriptSig){let o=e.tapScriptSig.map(a=>a.pubkey);i.push(...o)}return i.map(o=>jx(t,e,r,o,n)).flat()}function jx(t,e,r,n,i,s,o){let a=i.__TX,u=e.sighashType||Zn.Transaction.SIGHASH_DEFAULT;oN(u,o);let c=r.map((y,_)=>fN(_,y,i)),h=c.map(y=>y.script),f=c.map(y=>y.value),p=[];if(e.tapInternalKey&&!s){let y=(0,cn.tweakInternalPubKey)(t,e);if((0,cn.toXOnly)(n).equals(y)){let _=a.hashForWitnessV1(t,h,f,u);p.push({pubkey:n,hash:_})}}let l=(e.tapLeafScript||[]).map(y=>{let _=(0,wue.tapleafHash)({output:y.script,version:y.leafVersion});return Object.assign({hash:_},y)}).filter(y=>!s||s.equals(y.hash)).map(y=>{let _=a.hashForWitnessV1(t,h,f,Zn.Transaction.SIGHASH_DEFAULT,y.hash);return{pubkey:n,hash:_,leafHash:y.hash}});return p.concat(l)}function oN(t,e){if(e&&e.indexOf(t)<0){let r=Uue(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function Hue(t,e,r){let n;switch(e){case"multisig":let i=Lue(t,r);n=eu.p2ms({output:t,signatures:i});break;case"pubkey":n=eu.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=eu.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=eu.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function Due(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=jg(r,e,t),o=n.ins[t].index;i.script=s.outs[o].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,is.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function QR(t,e,r){let n=(0,oo.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(o=>{if(o.masterFingerprint.equals(r.fingerprint))return o}).filter(o=>!!o);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(o=>{let a=r.derivePath(o.path);if(!o.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function Lue(t,e){return eu.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function aN(t){let e=0;function r(o){return e+=o,t.slice(e-o,e)}function n(){let o=GR.decode(t,e);return e+=GR.decode.bytes,o}function i(){return r(n())}function s(){let o=n(),a=[];for(let u=0;u<o;u++)a.push(i());return a}return s()}function Uue(t){let e=t&Zn.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Zn.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Zn.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Zn.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function Kx(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Zn.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let o=i.__NON_WITNESS_UTXO_BUF_CACHE[s],a=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(o!==void 0)return o;{let u=a.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=u,u}},set(o){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=o}})}function uN(t,e,r,n){let i=0;t.forEach((u,c)=>{if(n&&u.finalScriptSig&&(e.ins[c].script=u.finalScriptSig),n&&u.finalScriptWitness&&(e.ins[c].witness=aN(u.finalScriptWitness)),u.witnessUtxo)i+=u.witnessUtxo.value;else if(u.nonWitnessUtxo){let h=jg(r,u,c),f=e.ins[c].index,p=h.outs[f];i+=p.value}});let s=e.outs.reduce((u,c)=>u+c.value,0),o=i-s;if(o<0)throw new Error("Outputs are spending more than Inputs");let a=e.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(o/a)}function jg(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||Kx(t,e,r),n[r]}function cN(t,e,r){let{script:n}=fN(t,e,r);return n}function fN(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=jg(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function que(t,e,r,n){let i=cN(r,e,n),{meaningfulScript:s}=Kg(i,r,"input",e.redeemScript,e.witnessScript);return(0,is.pubkeyInScript)(t,s)}function $ue(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=Kg(i,r,"output",e.redeemScript,e.witnessScript);return(0,is.pubkeyInScript)(t,s)}function jue(t){if(!t)return;let e=bf.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!A.Buffer.isBuffer(r)||hN(r)||Gue(r)||!bf.decompile(r)))return r}function Kue(t){if(!t)return;let e=aN(t),r=e[e.length-1];if(!(hN(r)||!bf.decompile(r)))return r}function Vue(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function hN(t){return t.length===33&&bf.isCanonicalPubKey(t)}function Gue(t){return bf.isCanonicalScriptSignature(t)}function Kg(t,e,r,n,i){let s=(0,is.isP2SHScript)(t),o=s&&n&&(0,is.isP2WSHScript)(n),a=(0,is.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||o)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return o?(u=i,XR(e,t,n,r),ZR(e,n,i,r),$g(u)):a?(u=i,ZR(e,t,i,r),$g(u)):s?(u=n,XR(e,t,n,r)):u=t,{meaningfulScript:u,type:o?"p2sh-p2wsh":s?"p2sh":a?"p2wsh":"raw"}}function $g(t){if((0,is.isP2WPKH)(t)||(0,is.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function lN(t){return(0,is.isP2WPKH)(t)?"witnesspubkeyhash":(0,is.isP2PKH)(t)?"pubkeyhash":(0,is.isP2MS)(t)?"multisig":(0,is.isP2PK)(t)?"pubkey":"nonstandard"}function b3(t){return[...Array(t).keys()]}});var Zx=$(wt=>{k();M();var zue=wt&&wt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wue=wt&&wt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mN=wt&&wt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zue(e,t,r);return Wue(e,t),e};Object.defineProperty(wt,"__esModule",{value:!0});wt.generateMPCSignedPSBT=wt.generateMPCUnsignedPSBT=wt.generateMPCSignedBuyingTx=wt.generateMPCUnsignedBuyingPSBT=wt.generateMPCSignedListingPSBT=wt.generateMPCUnsignedListingPSBT=wt.generateSignedBuyingTx=wt.mergeSignedBuyingPsbt=wt.generateUnsignedBuyingPsbt=wt.generateSignedListingPsbt=wt.generateUnsignedListingPsbt=wt.extractPsbtTransaction=wt.psbtSignImpl=wt.signPsbtWithKeyPathAndScriptPathImpl=wt.signPsbtWithKeyPathAndScriptPath=wt.signPsbtWithKeyPathAndScriptPathBatch=wt.psbtDecode=wt.psbtSign=wt.classicToPsbt=wt.buildPsbt=void 0;var jo=Vg(),Yue=$c(),zt=vr(),ui=Fo(),Zt=Ho(),Yh=mN(e0()),sc=Ux(),Xue=j7(),Zue=Hh(),dN=Sp(),Gx=mN(Si()),Jue=vs(),Que=ff(),v3=Yue.signUtil.schnorr.secp256k1.schnorr,_3=5e3;function zx(t,e,r){return gN(t,e,r).toHex()}wt.buildPsbt=zx;function gN(t,e,r){let n=new jo.Psbt({network:e,maximumFeeRate:r||_3});return t.inputs.forEach(i=>{let s=(0,Xue.toOutputScript)(i.address,e),o={hash:i.txId,index:i.vOut,witnessUtxo:{script:s,value:i.amount}},a=(0,ui.getAddressType)(i.address,e||Zt.networks.bitcoin);i.bip32Derivation&&(a==="segwit_taproot"?o.tapBip32Derivation=i.bip32Derivation.map(u=>{let c=zt.base.fromHex(u.pubkey);return c.length!=32&&(c=c.slice(1)),{masterFingerprint:zt.base.fromHex(u.masterFingerprint),pubkey:c,path:u.path,leafHashes:u.leafHashes.map(h=>A.Buffer.from(h,"hex"))}}):o.bip32Derivation=i.bip32Derivation.map(u=>({masterFingerprint:zt.base.fromHex(u.masterFingerprint),pubkey:zt.base.fromHex(u.pubkey),path:u.path}))),a==="legacy"?o.nonWitnessUtxo=zt.base.fromHex(i.nonWitnessUtxo):a==="segwit_taproot"?i.publicKey&&(o.tapInternalKey=(0,sc.toXOnly)(zt.base.fromHex(i.publicKey))):a==="segwit_nested"&&(o.redeemScript=Zt.payments.p2wpkh({pubkey:A.Buffer.from(i.publicKey,"hex"),network:e}).output),i.sighashType&&(o.sighashType=i.sighashType),n.addInput(o)}),t.outputs.forEach(i=>{if(i.omniScript)n.addOutput({script:zt.base.fromHex(i.omniScript),value:0});else{let s={address:i.address,value:i.amount};i.bip32Derivation&&(s.bip32Derivation=i.bip32Derivation.map(o=>({masterFingerprint:zt.base.fromHex(o.masterFingerprint),pubkey:zt.base.fromHex(o.pubkey),path:o.path}))),n.addOutput(s)}}),n}wt.classicToPsbt=gN;function Wx(t,e,r,n){let i=jo.Psbt.fromBase64(t,{network:r,maximumFeeRate:n||_3});return vN(i,e,r),i.toBase64()}wt.psbtSign=Wx;function ece(t,e,r){try{let n=jo.Psbt.fromHex(t,{network:e,maximumFeeRate:r||_3});return n.txInputs?n.txInputs.filter(i=>!i.hash.equals(A.Buffer.alloc(32))).map(i=>({txId:zt.base.toHex(zt.base.reverseBuffer(i.hash)),vOut:i.index})):[]}catch{let i=jo.Psbt.fromBase64(t,{network:e,maximumFeeRate:r||_3});return i.txInputs?i.txInputs.filter(s=>!s.hash.equals(A.Buffer.alloc(32))).map(s=>({txId:zt.base.toHex(zt.base.reverseBuffer(s.hash)),vOut:s.index})):[]}}wt.psbtDecode=ece;function tce(t,e,r,n){if(t==null||t.length==0)return[];let i=[],s=n==null?0:n.length,o=0;for(o=0;o<t.length;o++){let a={};o<s&&n&&(a=n[o]);let u=bN(t[o],e,r,{autoFinalized:a.autoFinalized,toSignInputs:a.toSignInputs});i.push(u)}return i}wt.signPsbtWithKeyPathAndScriptPathBatch=tce;function bN(t,e,r,n={}){let i=Xx(t,r);return yN(i,e,r,n.autoFinalized,n.toSignInputs),i.toHex()}wt.signPsbtWithKeyPathAndScriptPath=bN;function yN(t,e,r,n,i){r=r||Zt.networks.bitcoin;let s=(0,ui.privateKeyFromWIF)(e,r),o=new Map;i?.forEach(f=>{o.set(f.index,f)});let a={psbtIndex:0,needTweak:!0,tweakHash:A.Buffer.alloc(0),toSignInputsMap:o,publicKey:A.Buffer.alloc(0),sign(f){return(0,ui.sign)(f,s)},signSchnorr(f){let p=Yh.taprootTweakPrivKey(zt.base.fromHex(s));return this.toSignInputsMap?.has(this.psbtIndex)&&this.toSignInputsMap.get(this.psbtIndex)?.disableTweakSigner?A.Buffer.from(v3.sign(f,s,zt.base.randomBytes(32))):this.needTweak?(this.needTweak&&this.tweakHash.length>0&&(p=Yh.taprootTweakPrivKey(zt.base.fromHex(s),this.tweakHash)),A.Buffer.from(v3.sign(f,p,zt.base.randomBytes(32)))):A.Buffer.from(v3.sign(f,s,zt.base.randomBytes(32)))}},u=[Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_ALL,Zt.Transaction.SIGHASH_DEFAULT],c=()=>({psbtIndex:0,needTweak:!0,tweakHash:A.Buffer.alloc(0),toSignInputsMap:o,publicKey:A.Buffer.alloc(0),getPrivateKey(){let f=zt.base.fromHex(s);return this.needTweak&&(f=A.Buffer.from(Yh.taprootTweakPrivKey(f,this.tweakHash))),f},sign(f){return(0,ui.sign)(f,this.getPrivateKey().toString("hex"))},signSchnorr(f){return A.Buffer.from(v3.sign(f,this.getPrivateKey(),zt.base.randomBytes(32)))}}),h=()=>[Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_ALL,Zt.Transaction.SIGHASH_DEFAULT];for(let f=0;f<t.inputCount;f++)if(!(o?.size>0&&!o?.has(f)))if(o?.get(f)?.useTweakSigner!==void 0){let p=t.data.inputs[f],l,y=c(),_=h();y.psbtIndex=f,y.publicKey=(0,ui.wif2Public)(e,r);let O=o.get(f);O.sighashTypes!==void 0&&(_=O.sighashTypes),y.needTweak=O.useTweakSigner,y.needTweak&&(y.publicKey=A.Buffer.from(Yh.taprootTweakPubkey((0,sc.toXOnly)((0,ui.wif2Public)(e,r)),y.tweakHash)[0])),(0,sc.isTaprootInput)(p)&&(!p.tapInternalKey&&!p.tapLeafScript&&(p.tapInternalKey=(0,sc.toXOnly)((0,ui.wif2Public)(e,r))),O.tapLeafHashToSign!==void 0&&(l=A.Buffer.from(O.tapLeafHashToSign,"hex")));try{if(t.signInput(f,y,_,l),n!=null&&!n)continue;t.finalizeInput(f)}catch(F){throw F}}else{a.psbtIndex=f;let p=t.data.inputs[f];(0,sc.isTaprootInput)(p)?(p.tapInternalKey||(p.tapInternalKey=(0,sc.toXOnly)((0,ui.wif2Public)(e,r))),a.needTweak=!0,a.publicKey=A.Buffer.from(Yh.taprootTweakPubkey((0,sc.toXOnly)((0,ui.wif2Public)(e,r)))[0]),o?.has(f)&&o?.get(f)?.disableTweakSigner&&(a.publicKey=(0,ui.wif2Public)(e,r),a.needTweak=!1),p.tapLeafScript&&p.tapLeafScript?.length>0&&!p.tapMerkleRoot?p.tapLeafScript.forEach(l=>{l.controlBlock&&l.script&&(a.publicKey=(0,ui.wif2Public)(e,r),a.needTweak=!1)}):p.tapMerkleRoot&&(a.needTweak=!0,a.tweakHash=p.tapMerkleRoot,a.publicKey=A.Buffer.from(Yh.taprootTweakPubkey((0,sc.toXOnly)((0,ui.wif2Public)(e,r)),p.tapMerkleRoot)[0]))):(a.needTweak=!1,a.tweakHash=A.Buffer.alloc(0),a.publicKey=(0,ui.wif2Public)(e,r));try{if(o?.has(f)){let l=o?.get(f)?.sighashTypes;l!=null&&(u=l)}if(t.signInput(f,a,u),n!=null&&!n)continue;t.finalizeInput(f)}catch(l){if(o?.size>0&&o?.has(f))throw l}}}wt.signPsbtWithKeyPathAndScriptPathImpl=yN;function vN(t,e,r){r=r||Zt.networks.bitcoin;let n=(0,ui.privateKeyFromWIF)(e,r),i={publicKey:A.Buffer.alloc(0),sign(o){return(0,ui.sign)(o,n)},signSchnorr(o){let a=Yh.taprootTweakPrivKey(zt.base.fromHex(n));return A.Buffer.from(v3.sign(o,a,zt.base.randomBytes(32)))}},s=[Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_ALL|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_ALL,Zt.Transaction.SIGHASH_DEFAULT];for(let o=0;o<t.inputCount;o++){if((0,sc.isTaprootInput)(t.data.inputs[o])){let a=t.data.inputs[o];a.tapInternalKey||(a.tapInternalKey=(0,sc.toXOnly)((0,ui.wif2Public)(e,r))),i.publicKey=A.Buffer.from(Yh.taprootTweakPubkey((0,sc.toXOnly)((0,ui.wif2Public)(e,r)))[0])}else i.publicKey=(0,ui.wif2Public)(e,r);try{t.signInput(o,i,s)}catch{}}}wt.psbtSignImpl=vN;function Yx(t,e,r){let n=jo.Psbt.fromHex(t,{network:e,maximumFeeRate:r||_3}),i;try{i=n.finalizeAllInputs().extractTransaction()}catch(s){i=n.extractTransaction(),console.log(s)}return i.toHex()}wt.extractPsbtTransaction=Yx;function _N(t,e,r){let n=Zt.address.toOutputScript(t.nftAddress,e);if(((0,dN.isP2SHScript)(n)||(0,dN.isP2TR)(n))&&!r)throw new Error("Missing publicKey");let i={inputs:[],outputs:[]},s="bc1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6sw3rzmr";e===Zt.networks.testnet&&(s="tb1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6see4dpv"),i.inputs.push({txId:"0".repeat(64),vOut:0,amount:0,address:s},{txId:"0".repeat(64),vOut:1,amount:0,address:s}),i.outputs.push({address:s,amount:0},{address:s,amount:0}),i.inputs.push({txId:t.nftUtxo.txHash,vOut:t.nftUtxo.vout,address:t.nftAddress,amount:t.nftUtxo.coinAmount,publicKey:r,nonWitnessUtxo:t.nftUtxo.rawTransation,sighashType:Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY}),i.outputs.push({address:t.receiveBtcAddress,amount:t.price});let o=zx(i,e);return zt.base.toBase64(zt.base.fromHex(o))}wt.generateUnsignedListingPsbt=_N;function rce(t,e,r){let n=zt.base.toHex((0,ui.wif2Public)(e,r));return Wx(_N(t,r,n),e,r)}wt.generateSignedListingPsbt=rce;var Xh=2,nce=600,ice=546;function xN(t,e,r){let n={inputs:[],outputs:[],address:t.paymentAndChangeAddress,feePerB:t.feeRate};t.dummyUtxos.forEach(o=>{n.inputs.push({txId:o.txHash,vOut:o.vout,address:t.paymentAndChangeAddress,amount:o.coinAmount,publicKey:r,nonWitnessUtxo:o.rawTransation})}),n.outputs.push({address:t.paymentAndChangeAddress,amount:t.dummyUtxos.reduce((o,a)=>o+a.coinAmount,0)});let i=[];t.sellerPsbts.forEach(o=>{let a=jo.Psbt.fromBase64(o,{network:e}),u=a.data.globalMap.unsignedTx.tx.ins[Xh];i.push(a.data.globalMap.unsignedTx.tx.outs[Xh]);let c=a.data.inputs[Xh].witnessUtxo;c||(c=Zt.Transaction.fromBuffer(a.data.inputs[Xh].nonWitnessUtxo).outs[u.index]),n.inputs.push({txId:zt.base.toHex((0,Zue.reverseBuffer)(u.hash)),vOut:u.index,address:Zt.address.fromOutputScript(c.script,e),amount:c.value,sighashType:Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY}),n.outputs.push({address:t.receiveNftAddress,amount:c.value})}),i.forEach(o=>{n.outputs.push({address:Zt.address.fromOutputScript(o.script,e),amount:o.value})}),t.paymentUtxos.forEach(o=>{n.inputs.push({txId:o.txHash,vOut:o.vout,address:t.paymentAndChangeAddress,amount:o.coinAmount,publicKey:r,nonWitnessUtxo:o.rawTransation})}),t.dummyUtxos.forEach(()=>{n.outputs.push({address:t.paymentAndChangeAddress,amount:nce})});let s=parseInt((0,ui.signBtc)(n,"",e,void 0,!1,!0));return s>=ice&&n.outputs.push({address:t.paymentAndChangeAddress,amount:s}),zt.base.toBase64(zt.base.fromHex(zx(n,e)))}wt.generateUnsignedBuyingPsbt=xN;function SN(t,e){let r=jo.Psbt.fromBase64(t),n=e.length+1;return e.forEach((i,s)=>{let o=jo.Psbt.fromBase64(i);r.data.globalMap.unsignedTx.tx.ins[n+s]=o.data.globalMap.unsignedTx.tx.ins[Xh],r.data.inputs[n+s]=o.data.inputs[Xh]}),r}wt.mergeSignedBuyingPsbt=SN;function sce(t,e,r){let n=zt.base.toHex((0,ui.wif2Public)(e,r)),i=Wx(xN(t,r,n),e,r);return Yx(SN(i,t.sellerPsbts).toHex(),r)}wt.generateSignedBuyingTx=sce;function oce(t,e,r){let n=jo.Psbt.fromBase64(t,{network:r}),i=zt.base.fromHex(e),s=[Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY],o=[];for(let a=0;a<n.inputCount;a++){if(a!=Xh)continue;let{hash:u}=n.getHashAndSighashType(a,i,s);o.push(zt.base.toHex(u))}return{psbtBase64:t,signHashList:o}}wt.generateMPCUnsignedListingPSBT=oce;function ace(t,e,r,n){let i=jo.Psbt.fromBase64(t,{network:n}),o=[{pubkey:zt.base.fromHex(e),signature:Gx.signature.encode(zt.base.fromHex(r),Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY)}];return i.data.updateInput(Xh,{partialSig:o}),i.toBase64()}wt.generateMPCSignedListingPSBT=ace;function uce(t,e,r,n=1){let i=jo.Psbt.fromBase64(t,{network:r}),s=zt.base.fromHex(e),o=[Zt.Transaction.SIGHASH_ALL],a=[],u=n+1;for(let c=0;c<i.inputCount;c++){if(c>=u&&c<u+n)continue;let{hash:h}=i.getHashAndSighashType(c,s,o);a.push(zt.base.toHex(h))}return{psbtBase64:t,signHashList:a}}wt.generateMPCUnsignedBuyingPSBT=uce;function cce(t,e,r,n,i=1){let s=jo.Psbt.fromBase64(t,{network:n}),o=zt.base.fromHex(e),a=i+1;for(let u=0;u<s.inputCount;u++){if(u>=a&&u<a+i)continue;let c=[{pubkey:o,signature:Gx.signature.encode(zt.base.fromHex(r[u]),Zt.Transaction.SIGHASH_ALL)}];s.data.updateInput(u,{partialSig:c})}return Yx(s.toHex(),n)}wt.generateMPCSignedBuyingTx=cce;function wN(t,e,r){let n=Xx(t,r),i=zt.base.fromHex(e),s=[Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_SINGLE|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_ALL|Zt.Transaction.SIGHASH_ANYONECANPAY,Zt.Transaction.SIGHASH_ALL,Zt.Transaction.SIGHASH_DEFAULT],o=[];for(let u=0;u<n.inputCount;u++)try{let{hash:c}=n.getHashAndSighashType(u,i,s);o.push(zt.base.toHex(c))}catch{let h=pN();o.push(h)}let a=new Map;return o.forEach((u,c)=>{let h=a.get(u);h=h??0,h!=null&&h>=1&&(o[c]=pN()),a.set(u,h+1)}),{psbtStr:t,signHashList:o}}wt.generateMPCUnsignedPSBT=wN;function pN(){let t=(0,Jue.sha256)((0,Que.randomBytes)(32));return"ffffffff"+zt.base.toHex(t.slice(0,28))}function fce(t,e,r,n){let i=Xx(t,n),s=zt.base.fromHex(e),o=Zt.Transaction.SIGHASH_ALL,u=wN(t,e,n).signHashList;for(let c=0;c<i.inputCount;c++){if(u[c].slice(0,8)=="ffffffff")continue;i.data.inputs[c].sighashType!=null&&(o=i.data.inputs[c].sighashType);let h=[{pubkey:s,signature:Gx.signature.encode(zt.base.fromHex(r[c]),o)}];try{i.data.updateInput(c,{partialSig:h})}catch{}}return i.toHex()}wt.generateMPCSignedPSBT=fce;function Xx(t,e){let r;return zt.base.isHexString("0x"+t)?r=jo.Psbt.fromHex(t,{network:e}):r=jo.Psbt.fromBase64(t,{network:e}),r}});var BN=$(X7=>{k();M();Object.defineProperty(X7,"__esModule",{value:!0});X7.verifySimple=X7.signSimple=void 0;var Y7=vr(),TN=j7(),AN=Kh(),IN=Vg(),EN=ox(),hce=Zx(),lce=Fo(),PN=Sp();function ON(t){let e="BIP0322-signed-message",r=Y7.base.sha256(A.Buffer.from(e)),n=Y7.base.sha256(A.Buffer.concat([r,r,A.Buffer.from(t)]));return Y7.base.toHex(n)}async function dce(t,e,r,n){let i=(0,TN.toOutputScript)(e,n),s=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),o=4294967295,a=0,u=A.Buffer.concat([A.Buffer.from("0020","hex"),A.Buffer.from(ON(t),"hex")]),c=new AN.Transaction;c.version=0,c.addInput(s,o,a,u),c.addOutput(i,0);let h=new IN.Psbt({network:n});h.setVersion(0),h.addInput({hash:c.getHash(),index:0,sequence:0,witnessUtxo:{script:i,value:0}}),(0,PN.isP2TR)(i)&&h.updateInput(0,{tapInternalKey:(0,lce.wif2Public)(r,n).slice(1)}),h.addOutput({script:A.Buffer.from("6a","hex"),value:0}),(0,hce.psbtSignImpl)(h,r,n),h.finalizeAllInputs();let f=h.extractTransaction();function p(_){return A.Buffer.concat([(0,EN.encode)(_.byteLength),_])}let l=(0,EN.encode)(f.ins[0].witness.length),y=A.Buffer.concat([l,...f.ins[0].witness.map(_=>p(_))]);return Y7.base.toBase64(y)}X7.signSimple=dce;function pce(t,e,r,n,i){let s=(0,TN.toOutputScript)(e,i),o=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a=4294967295,u=0,c=A.Buffer.concat([A.Buffer.from("0020","hex"),A.Buffer.from(ON(t),"hex")]),h=new AN.Transaction;h.version=0,h.addInput(o,a,u,c),h.addOutput(s,0);let f=new IN.Psbt;f.setVersion(0),f.addInput({hash:h.getHash(),index:0,sequence:0,witnessUtxo:{script:s,value:0}});let p=Y7.base.fromHex(n);return(0,PN.isP2TR)(s)&&f.updateInput(0,{tapInternalKey:p.slice(1)}),f.addOutput({script:A.Buffer.from("6a","hex"),value:0}),f.verify(p,A.Buffer.from(Y7.base.fromBase64(r)))}X7.verifySimple=pce});var Ho=$(fn=>{k();M();var mce=fn&&fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gce=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wp=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mce(e,t,r);return gce(e,t),e};Object.defineProperty(fn,"__esModule",{value:!0});fn.BufferWriter=fn.Transaction=fn.psbt=fn.bip0322=fn.script=fn.payments=fn.networks=fn.crypto=fn.address=void 0;var bce=wp(j7());fn.address=bce;var yce=wp(vs());fn.crypto=yce;var vce=wp(fa());fn.networks=vce;var _ce=wp(qh());fn.payments=_ce;var xce=wp(Si());fn.script=xce;var Sce=wp(BN());fn.bip0322=Sce;var wce=wp(Vg());fn.psbt=wce;var Ece=Kh();Object.defineProperty(fn,"Transaction",{enumerable:!0,get:function(){return Ece.Transaction}});var Tce=Hh();Object.defineProperty(fn,"BufferWriter",{enumerable:!0,get:function(){return Tce.BufferWriter}})});var zg=$(Gg=>{k();M();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.validate=void 0;function Ace(t,e){if(!t)throw new Error(e)}Gg.validate=Ace});var MN=$(Z7=>{k();M();Object.defineProperty(Z7,"__esModule",{value:!0});Z7.decode=Z7.encode=void 0;var kN=zg(),Ice="qpzry9x8gf2tvdw0s3jn54khce6mua7l",CN={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};function Pce(t){for(var e="",r=0;r<t.length;++r){var n=t[r];(0,kN.validate)(0<=n&&n<32,"Invalid value: "+n+"."),e+=Ice[n]}return e}Z7.encode=Pce;function Oce(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var n=t[r];(0,kN.validate)(n in CN,"Invalid value: "+n+"."),e[r]=CN[n]}return e}Z7.decode=Oce});var RN=$((GKe,Wg)=>{k();M();var Ii=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=h(n),s=Math.log(n);function o(j,Y){return typeof j>"u"?o[0]:typeof Y<"u"?+Y==10?Se(j):_e(j,Y):Se(j)}function a(j,Y){this.value=j,this.sign=Y,this.isSmall=!1}a.prototype=Object.create(o.prototype);function u(j){this.value=j,this.sign=j<0,this.isSmall=!0}u.prototype=Object.create(o.prototype);function c(j){return-n<j&&j<n}function h(j){return j<1e7?[j]:j<1e14?[j%1e7,Math.floor(j/1e7)]:[j%1e7,Math.floor(j/1e7)%1e7,Math.floor(j/1e14)]}function f(j){p(j);var Y=j.length;if(Y<4&&R(j,i)<0)switch(Y){case 0:return 0;case 1:return j[0];case 2:return j[0]+j[1]*e;default:return j[0]+(j[1]+j[2]*e)*e}return j}function p(j){for(var Y=j.length;j[--Y]===0;);j.length=Y+1}function l(j){for(var Y=new Array(j),V=-1;++V<j;)Y[V]=0;return Y}function y(j){return j>0?Math.floor(j):Math.ceil(j)}function _(j,Y){var V=j.length,G=Y.length,Z=new Array(V),ee=0,te=e,ue,se;for(se=0;se<G;se++)ue=j[se]+Y[se]+ee,ee=ue>=te?1:0,Z[se]=ue-ee*te;for(;se<V;)ue=j[se]+ee,ee=ue===te?1:0,Z[se++]=ue-ee*te;return ee>0&&Z.push(ee),Z}function O(j,Y){return j.length>=Y.length?_(j,Y):_(Y,j)}function F(j,Y){var V=j.length,G=new Array(V),Z=e,ee,te;for(te=0;te<V;te++)ee=j[te]-Z+Y,Y=Math.floor(ee/Z),G[te]=ee-Y*Z,Y+=1;for(;Y>0;)G[te++]=Y%Z,Y=Math.floor(Y/Z);return G}a.prototype.add=function(j){var Y=Se(j);if(this.sign!==Y.sign)return this.subtract(Y.negate());var V=this.value,G=Y.value;return Y.isSmall?new a(F(V,Math.abs(G)),this.sign):new a(O(V,G),this.sign)},a.prototype.plus=a.prototype.add,u.prototype.add=function(j){var Y=Se(j),V=this.value;if(V<0!==Y.sign)return this.subtract(Y.negate());var G=Y.value;if(Y.isSmall){if(c(V+G))return new u(V+G);G=h(Math.abs(G))}return new a(F(G,Math.abs(V)),V<0)},u.prototype.plus=u.prototype.add;function B(j,Y){var V=j.length,G=Y.length,Z=new Array(V),ee=0,te=e,ue,se;for(ue=0;ue<G;ue++)se=j[ue]-ee-Y[ue],se<0?(se+=te,ee=1):ee=0,Z[ue]=se;for(ue=G;ue<V;ue++){if(se=j[ue]-ee,se<0)se+=te;else{Z[ue++]=se;break}Z[ue]=se}for(;ue<V;ue++)Z[ue]=j[ue];return p(Z),Z}function E(j,Y,V){var G;return R(j,Y)>=0?G=B(j,Y):(G=B(Y,j),V=!V),G=f(G),typeof G=="number"?(V&&(G=-G),new u(G)):new a(G,V)}function I(j,Y,V){var G=j.length,Z=new Array(G),ee=-Y,te=e,ue,se;for(ue=0;ue<G;ue++)se=j[ue]+ee,ee=Math.floor(se/te),se%=te,Z[ue]=se<0?se+te:se;return Z=f(Z),typeof Z=="number"?(V&&(Z=-Z),new u(Z)):new a(Z,V)}a.prototype.subtract=function(j){var Y=Se(j);if(this.sign!==Y.sign)return this.add(Y.negate());var V=this.value,G=Y.value;return Y.isSmall?I(V,Math.abs(G),this.sign):E(V,G,this.sign)},a.prototype.minus=a.prototype.subtract,u.prototype.subtract=function(j){var Y=Se(j),V=this.value;if(V<0!==Y.sign)return this.add(Y.negate());var G=Y.value;return Y.isSmall?new u(V-G):I(G,Math.abs(V),V>=0)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},u.prototype.negate=function(){var j=this.sign,Y=new u(-this.value);return Y.sign=!j,Y},a.prototype.abs=function(){return new a(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))};function L(j,Y){var V=j.length,G=Y.length,Z=V+G,ee=l(Z),te=e,ue,se,de,ye,Pe;for(de=0;de<V;++de){ye=j[de];for(var xe=0;xe<G;++xe)Pe=Y[xe],ue=ye*Pe+ee[de+xe],se=Math.floor(ue/te),ee[de+xe]=ue-se*te,ee[de+xe+1]+=se}return p(ee),ee}function N(j,Y){var V=j.length,G=new Array(V),Z=e,ee=0,te,ue;for(ue=0;ue<V;ue++)te=j[ue]*Y+ee,ee=Math.floor(te/Z),G[ue]=te-ee*Z;for(;ee>0;)G[ue++]=ee%Z,ee=Math.floor(ee/Z);return G}function H(j,Y){for(var V=[];Y-- >0;)V.push(0);return V.concat(j)}function D(j,Y){var V=Math.max(j.length,Y.length);if(V<=30)return L(j,Y);V=Math.ceil(V/2);var G=j.slice(V),Z=j.slice(0,V),ee=Y.slice(V),te=Y.slice(0,V),ue=D(Z,te),se=D(G,ee),de=D(O(Z,G),O(te,ee)),ye=O(O(ue,H(B(B(de,ue),se),V)),H(se,2*V));return p(ye),ye}function C(j,Y){return-.012*j-.012*Y+15e-6*j*Y>0}a.prototype.multiply=function(j){var Y=Se(j),V=this.value,G=Y.value,Z=this.sign!==Y.sign,ee;if(Y.isSmall){if(G===0)return o[0];if(G===1)return this;if(G===-1)return this.negate();if(ee=Math.abs(G),ee<e)return new a(N(V,ee),Z);G=h(ee)}return C(V.length,G.length)?new a(D(V,G),Z):new a(L(V,G),Z)},a.prototype.times=a.prototype.multiply;function d(j,Y,V){return j<e?new a(N(Y,j),V):new a(L(Y,h(j)),V)}u.prototype._multiplyBySmall=function(j){return c(j.value*this.value)?new u(j.value*this.value):d(Math.abs(j.value),h(Math.abs(this.value)),this.sign!==j.sign)},a.prototype._multiplyBySmall=function(j){return j.value===0?o[0]:j.value===1?this:j.value===-1?this.negate():d(Math.abs(j.value),this.value,this.sign!==j.sign)},u.prototype.multiply=function(j){return Se(j)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply;function v(j){var Y=j.length,V=l(Y+Y),G=e,Z,ee,te,ue,se;for(te=0;te<Y;te++){ue=j[te],ee=0-ue*ue;for(var de=te;de<Y;de++)se=j[de],Z=2*(ue*se)+V[te+de]+ee,ee=Math.floor(Z/G),V[te+de]=Z-ee*G;V[te+Y]=ee}return p(V),V}a.prototype.square=function(){return new a(v(this.value),!1)},u.prototype.square=function(){var j=this.value*this.value;return c(j)?new u(j):new a(v(h(Math.abs(this.value))),!1)};function g(j,Y){var V=j.length,G=Y.length,Z=e,ee=l(Y.length),te=Y[G-1],ue=Math.ceil(Z/(2*te)),se=N(j,ue),de=N(Y,ue),ye,Pe,xe,Ge,Ft,Ye,St;for(se.length<=V&&se.push(0),de.push(0),te=de[G-1],Pe=V-G;Pe>=0;Pe--){for(ye=Z-1,se[Pe+G]!==te&&(ye=Math.floor((se[Pe+G]*Z+se[Pe+G-1])/te)),xe=0,Ge=0,Ye=de.length,Ft=0;Ft<Ye;Ft++)xe+=ye*de[Ft],St=Math.floor(xe/Z),Ge+=se[Pe+Ft]-(xe-St*Z),xe=St,Ge<0?(se[Pe+Ft]=Ge+Z,Ge=-1):(se[Pe+Ft]=Ge,Ge=0);for(;Ge!==0;){for(ye-=1,xe=0,Ft=0;Ft<Ye;Ft++)xe+=se[Pe+Ft]-Z+de[Ft],xe<0?(se[Pe+Ft]=xe+Z,xe=0):(se[Pe+Ft]=xe,xe=1);Ge+=xe}ee[Pe]=ye}return se=S(se,ue)[0],[f(ee),f(se)]}function m(j,Y){for(var V=j.length,G=Y.length,Z=[],ee=[],te=e,ue,se,de,ye,Pe;V;){if(ee.unshift(j[--V]),p(ee),R(ee,Y)<0){Z.push(0);continue}se=ee.length,de=ee[se-1]*te+ee[se-2],ye=Y[G-1]*te+Y[G-2],se>G&&(de=(de+1)*te),ue=Math.ceil(de/ye);do{if(Pe=N(Y,ue),R(Pe,ee)<=0)break;ue--}while(ue);Z.push(ue),ee=B(ee,Pe)}return Z.reverse(),[f(Z),f(ee)]}function S(j,Y){var V=j.length,G=l(V),Z=e,ee,te,ue,se;for(ue=0,ee=V-1;ee>=0;--ee)se=ue*Z+j[ee],te=y(se/Y),ue=se-te*Y,G[ee]=te|0;return[G,ue|0]}function w(j,Y){var V,G=Se(Y),Z=j.value,ee=G.value,te;if(ee===0)throw new Error("Cannot divide by zero");if(j.isSmall)return G.isSmall?[new u(y(Z/ee)),new u(Z%ee)]:[o[0],j];if(G.isSmall){if(ee===1)return[j,o[0]];if(ee==-1)return[j.negate(),o[0]];var ue=Math.abs(ee);if(ue<e){V=S(Z,ue),te=f(V[0]);var se=V[1];return j.sign&&(se=-se),typeof te=="number"?(j.sign!==G.sign&&(te=-te),[new u(te),new u(se)]):[new a(te,j.sign!==G.sign),new u(se)]}ee=h(ue)}var de=R(Z,ee);if(de===-1)return[o[0],j];if(de===0)return[o[j.sign===G.sign?1:-1],o[0]];Z.length+ee.length<=200?V=g(Z,ee):V=m(Z,ee),te=V[0];var ye=j.sign!==G.sign,Pe=V[1],xe=j.sign;return typeof te=="number"?(ye&&(te=-te),te=new u(te)):te=new a(te,ye),typeof Pe=="number"?(xe&&(Pe=-Pe),Pe=new u(Pe)):Pe=new a(Pe,xe),[te,Pe]}a.prototype.divmod=function(j){var Y=w(this,j);return{quotient:Y[0],remainder:Y[1]}},u.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(j){return w(this,j)[0]},u.prototype.over=u.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(j){return w(this,j)[1]},u.prototype.remainder=u.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(j){var Y=Se(j),V=this.value,G=Y.value,Z,ee,te;if(G===0)return o[1];if(V===0)return o[0];if(V===1)return o[1];if(V===-1)return Y.isEven()?o[1]:o[-1];if(Y.sign)return o[0];if(!Y.isSmall)throw new Error("The exponent "+Y.toString()+" is too large.");if(this.isSmall&&c(Z=Math.pow(V,G)))return new u(y(Z));for(ee=this,te=o[1];G&!0&&(te=te.times(ee),--G),G!==0;)G/=2,ee=ee.square();return te},u.prototype.pow=a.prototype.pow,a.prototype.modPow=function(j,Y){if(j=Se(j),Y=Se(Y),Y.isZero())throw new Error("Cannot take modPow with modulus 0");for(var V=o[1],G=this.mod(Y);j.isPositive();){if(G.isZero())return o[0];j.isOdd()&&(V=V.multiply(G).mod(Y)),j=j.divide(2),G=G.square().mod(Y)}return V},u.prototype.modPow=a.prototype.modPow;function R(j,Y){if(j.length!==Y.length)return j.length>Y.length?1:-1;for(var V=j.length-1;V>=0;V--)if(j[V]!==Y[V])return j[V]>Y[V]?1:-1;return 0}a.prototype.compareAbs=function(j){var Y=Se(j),V=this.value,G=Y.value;return Y.isSmall?1:R(V,G)},u.prototype.compareAbs=function(j){var Y=Se(j),V=Math.abs(this.value),G=Y.value;return Y.isSmall?(G=Math.abs(G),V===G?0:V>G?1:-1):-1},a.prototype.compare=function(j){if(j===1/0)return-1;if(j===-1/0)return 1;var Y=Se(j),V=this.value,G=Y.value;return this.sign!==Y.sign?Y.sign?1:-1:Y.isSmall?this.sign?-1:1:R(V,G)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,u.prototype.compare=function(j){if(j===1/0)return-1;if(j===-1/0)return 1;var Y=Se(j),V=this.value,G=Y.value;return Y.isSmall?V==G?0:V>G?1:-1:V<0!==Y.sign?V<0?-1:1:V<0?1:-1},u.prototype.compareTo=u.prototype.compare,a.prototype.equals=function(j){return this.compare(j)===0},u.prototype.eq=u.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(j){return this.compare(j)!==0},u.prototype.neq=u.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(j){return this.compare(j)>0},u.prototype.gt=u.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(j){return this.compare(j)<0},u.prototype.lt=u.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(j){return this.compare(j)>=0},u.prototype.geq=u.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(j){return this.compare(j)<=0},u.prototype.leq=u.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return(this.value[0]&1)===0},u.prototype.isEven=function(){return(this.value&1)===0},a.prototype.isOdd=function(){return(this.value[0]&1)===1},u.prototype.isOdd=function(){return(this.value&1)===1},a.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return Math.abs(this.value)===1},a.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return this.value===0},a.prototype.isDivisibleBy=function(j){var Y=Se(j),V=Y.value;return V===0?!1:V===1?!0:V===2?this.isEven():this.mod(Y).equals(o[0])},u.prototype.isDivisibleBy=a.prototype.isDivisibleBy;function T(j){var Y=j.abs();if(Y.isUnit())return!1;if(Y.equals(2)||Y.equals(3)||Y.equals(5))return!0;if(Y.isEven()||Y.isDivisibleBy(3)||Y.isDivisibleBy(5))return!1;if(Y.lesser(49))return!0}function b(j,Y){for(var V=j.prev(),G=V,Z=0,ee,te,ue,se;G.isEven();)G=G.divide(2),Z++;e:for(ue=0;ue<Y.length;ue++)if(!j.lesser(Y[ue])&&(se=Ii(Y[ue]).modPow(G,j),!(se.equals(o[1])||se.equals(V)))){for(ee=Z-1;ee!=0;ee--){if(se=se.square().mod(j),se.isUnit())return!1;if(se.equals(V))continue e}return!1}return!0}a.prototype.isPrime=function(j){var Y=T(this);if(Y!==t)return Y;var V=this.abs(),G=V.bitLength();if(G<=64)return b(V,[2,325,9375,28178,450775,9780504,1795265022]);for(var Z=Math.log(2)*G,ee=Math.ceil(j===!0?2*Math.pow(Z,2):Z),te=[],ue=0;ue<ee;ue++)te.push(Ii(ue+2));return b(V,te)},u.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(j){var Y=T(this);if(Y!==t)return Y;for(var V=this.abs(),G=j===t?5:j,Z=[],ee=0;ee<G;ee++)Z.push(Ii.randBetween(2,V.minus(2)));return b(V,Z)},u.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(j){for(var Y=Ii.zero,V=Ii.one,G=Se(j),Z=this.abs(),ee,te,ue;!Z.equals(Ii.zero);)ee=G.divide(Z),te=Y,ue=G,Y=V,G=Z,V=te.subtract(ee.multiply(V)),Z=ue.subtract(ee.multiply(Z));if(!G.equals(1))throw new Error(this.toString()+" and "+j.toString()+" are not co-prime");return Y.compare(0)===-1&&(Y=Y.add(j)),this.isNegative()?Y.negate():Y},u.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var j=this.value;return this.sign?I(j,1,this.sign):new a(F(j,1),this.sign)},u.prototype.next=function(){var j=this.value;return j+1<n?new u(j+1):new a(i,!1)},a.prototype.prev=function(){var j=this.value;return this.sign?new a(F(j,1),!0):I(j,1,this.sign)},u.prototype.prev=function(){var j=this.value;return j-1>-n?new u(j-1):new a(i,!0)};for(var x=[1];2*x[x.length-1]<=e;)x.push(2*x[x.length-1]);var P=x.length,U=x[P-1];function K(j){return(typeof j=="number"||typeof j=="string")&&+Math.abs(j)<=e||j instanceof a&&j.value.length<=1}a.prototype.shiftLeft=function(j){if(!K(j))throw new Error(String(j)+" is too large for shifting.");if(j=+j,j<0)return this.shiftRight(-j);var Y=this;if(Y.isZero())return Y;for(;j>=P;)Y=Y.multiply(U),j-=P-1;return Y.multiply(x[j])},u.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(j){var Y;if(!K(j))throw new Error(String(j)+" is too large for shifting.");if(j=+j,j<0)return this.shiftLeft(-j);for(var V=this;j>=P;){if(V.isZero()||V.isNegative()&&V.isUnit())return V;Y=w(V,U),V=Y[1].isNegative()?Y[0].prev():Y[0],j-=P-1}return Y=w(V,x[j]),Y[1].isNegative()?Y[0].prev():Y[0]},u.prototype.shiftRight=a.prototype.shiftRight;function z(j,Y,V){Y=Se(Y);for(var G=j.isNegative(),Z=Y.isNegative(),ee=G?j.not():j,te=Z?Y.not():Y,ue=0,se=0,de=null,ye=null,Pe=[];!ee.isZero()||!te.isZero();)de=w(ee,U),ue=de[1].toJSNumber(),G&&(ue=U-1-ue),ye=w(te,U),se=ye[1].toJSNumber(),Z&&(se=U-1-se),ee=de[0],te=ye[0],Pe.push(V(ue,se));for(var xe=V(G?1:0,Z?1:0)!==0?Ii(-1):Ii(0),Ge=Pe.length-1;Ge>=0;Ge-=1)xe=xe.multiply(U).add(Ii(Pe[Ge]));return xe}a.prototype.not=function(){return this.negate().prev()},u.prototype.not=a.prototype.not,a.prototype.and=function(j){return z(this,j,function(Y,V){return Y&V})},u.prototype.and=a.prototype.and,a.prototype.or=function(j){return z(this,j,function(Y,V){return Y|V})},u.prototype.or=a.prototype.or,a.prototype.xor=function(j){return z(this,j,function(Y,V){return Y^V})},u.prototype.xor=a.prototype.xor;var Q=1<<30,oe=(e&-e)*(e&-e)|Q;function ie(j){var Y=j.value,V=typeof Y=="number"?Y|Q:Y[0]+Y[1]*e|oe;return V&-V}function q(j,Y){if(Y.compareTo(j)<=0){var V=q(j,Y.square(Y)),G=V.p,Z=V.e,ee=G.multiply(Y);return ee.compareTo(j)<=0?{p:ee,e:Z*2+1}:{p:G,e:Z*2}}return{p:Ii(1),e:0}}a.prototype.bitLength=function(){var j=this;return j.compareTo(Ii(0))<0&&(j=j.negate().subtract(Ii(1))),j.compareTo(Ii(0))===0?Ii(0):Ii(q(j,Ii(2)).e).add(Ii(1))},u.prototype.bitLength=a.prototype.bitLength;function X(j,Y){return j=Se(j),Y=Se(Y),j.greater(Y)?j:Y}function J(j,Y){return j=Se(j),Y=Se(Y),j.lesser(Y)?j:Y}function re(j,Y){if(j=Se(j).abs(),Y=Se(Y).abs(),j.equals(Y))return j;if(j.isZero())return Y;if(Y.isZero())return j;for(var V=o[1],G,Z;j.isEven()&&Y.isEven();)G=Math.min(ie(j),ie(Y)),j=j.divide(G),Y=Y.divide(G),V=V.multiply(G);for(;j.isEven();)j=j.divide(ie(j));do{for(;Y.isEven();)Y=Y.divide(ie(Y));j.greater(Y)&&(Z=Y,Y=j,j=Z),Y=Y.subtract(j)}while(!Y.isZero());return V.isUnit()?j:j.multiply(V)}function ae(j,Y){return j=Se(j).abs(),Y=Se(Y).abs(),j.divide(re(j,Y)).multiply(Y)}function me(j,Y){j=Se(j),Y=Se(Y);var V=J(j,Y),G=X(j,Y),Z=G.subtract(V).add(1);if(Z.isSmall)return V.add(Math.floor(Math.random()*Z));for(var ee=Z.value.length-1,te=[],ue=!0,se=ee;se>=0;se--){var de=ue?Z.value[se]:e,ye=y(Math.random()*de);te.unshift(ye),ye<de&&(ue=!1)}return te=f(te),V.add(typeof te=="number"?new u(te):new a(te,!1))}var _e=function(j,Y){for(var V=j.length,G,Z=Math.abs(Y),G=0;G<V;G++){var ee=j[G].toLowerCase();if(ee!=="-"&&/[a-z0-9]/.test(ee)){if(/[0-9]/.test(ee)&&+ee>=Z){if(ee==="1"&&Z===1)continue;throw new Error(ee+" is not a valid digit in base "+Y+".")}else if(ee.charCodeAt(0)-87>=Z)throw new Error(ee+" is not a valid digit in base "+Y+".")}}if(2<=Y&&Y<=36&&V<=s/Math.log(Y)){var te=parseInt(j,Y);if(isNaN(te))throw new Error(ee+" is not a valid digit in base "+Y+".");return new u(parseInt(j,Y))}Y=Se(Y);var ue=[],se=j[0]==="-";for(G=se?1:0;G<j.length;G++){var ee=j[G].toLowerCase(),de=ee.charCodeAt(0);if(48<=de&&de<=57)ue.push(Se(ee));else if(97<=de&&de<=122)ue.push(Se(ee.charCodeAt(0)-87));else if(ee==="<"){var ye=G;do G++;while(j[G]!==">");ue.push(Se(j.slice(ye+1,G)))}else throw new Error(ee+" is not a valid character")}return Ie(ue,Y,se)};function Ie(j,Y,V){var G=o[0],Z=o[1],ee;for(ee=j.length-1;ee>=0;ee--)G=G.add(j[ee].times(Z)),Z=Z.times(Y);return V?G.negate():G}function Le(j){return j<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(j):"<"+j+">"}function Ce(j,Y){if(Y=Ii(Y),Y.isZero()){if(j.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(Y.equals(-1)){if(j.isZero())return{value:[0],isNegative:!1};if(j.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-j)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var V=Array.apply(null,Array(+j-1)).map(Array.prototype.valueOf,[0,1]);return V.unshift([1]),{value:[].concat.apply([],V),isNegative:!1}}var G=!1;if(j.isNegative()&&Y.isPositive()&&(G=!0,j=j.abs()),Y.equals(1))return j.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+j)).map(Number.prototype.valueOf,1),isNegative:G};for(var Z=[],ee=j,te;ee.isNegative()||ee.compareAbs(Y)>=0;){te=ee.divmod(Y),ee=te.quotient;var ue=te.remainder;ue.isNegative()&&(ue=Y.minus(ue).abs(),ee=ee.next()),Z.push(ue.toJSNumber())}return Z.push(ee.toJSNumber()),{value:Z.reverse(),isNegative:G}}function He(j,Y){var V=Ce(j,Y);return(V.isNegative?"-":"")+V.value.map(Le).join("")}a.prototype.toArray=function(j){return Ce(this,j)},u.prototype.toArray=function(j){return Ce(this,j)},a.prototype.toString=function(j){if(j===t&&(j=10),j!==10)return He(this,j);for(var Y=this.value,V=Y.length,G=String(Y[--V]),Z="0000000",ee;--V>=0;)ee=String(Y[V]),G+=Z.slice(ee.length)+ee;var te=this.sign?"-":"";return te+G},u.prototype.toString=function(j){return j===t&&(j=10),j!=10?He(this,j):String(this.value)},a.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf;function Ze(j){if(c(+j)){var Y=+j;if(Y===y(Y))return new u(Y);throw new Error("Invalid integer: "+j)}var V=j[0]==="-";V&&(j=j.slice(1));var G=j.split(/e/i);if(G.length>2)throw new Error("Invalid integer: "+G.join("e"));if(G.length===2){var Z=G[1];if(Z[0]==="+"&&(Z=Z.slice(1)),Z=+Z,Z!==y(Z)||!c(Z))throw new Error("Invalid integer: "+Z+" is not a valid exponent.");var ee=G[0],te=ee.indexOf(".");if(te>=0&&(Z-=ee.length-te-1,ee=ee.slice(0,te)+ee.slice(te+1)),Z<0)throw new Error("Cannot include negative exponent part for integers");ee+=new Array(Z+1).join("0"),j=ee}var ue=/^([0-9][0-9]*)$/.test(j);if(!ue)throw new Error("Invalid integer: "+j);for(var se=[],de=j.length,ye=r,Pe=de-ye;de>0;)se.push(+j.slice(Pe,de)),Pe-=ye,Pe<0&&(Pe=0),de-=ye;return p(se),new a(se,V)}function Te(j){if(c(j)){if(j!==y(j))throw new Error(j+" is not an integer.");return new u(j)}return Ze(j.toString())}function Se(j){return typeof j=="number"?Te(j):typeof j=="string"?Ze(j):j}for(var pt=0;pt<1e3;pt++)o[pt]=new u(pt),pt>0&&(o[-pt]=new u(-pt));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=X,o.min=J,o.gcd=re,o.lcm=ae,o.isInstance=function(j){return j instanceof a||j instanceof u},o.randBetween=me,o.fromArray=function(j,Y,V){return Ie(j.map(Se),Se(Y||10),V)},o}();typeof Wg<"u"&&Wg.hasOwnProperty("exports")&&(Wg.exports=Ii);typeof define=="function"&&define.amd&&define("big-integer",[],function(){return Ii})});var FN=$(Yg=>{k();M();Object.defineProperty(Yg,"__esModule",{value:!0});Yg.convert=void 0;var NN=zg();function Bce(t,e,r,n){for(var i=n?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),s=(1<<r)-1,o=new Uint8Array(i),a=0,u=0,c=0,h=0;h<t.length;++h){var f=t[h];for((0,NN.validate)(0<=f&&f>>e===0,"Invalid value: "+f+"."),u=u<<e|f,c+=e;c>=r;)c-=r,o[a]=u>>c&s,++a}return n?(0,NN.validate)(c<e&&(u<<r-c&s)===0,"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):c>0&&(o[a]=u<<r-c&s,++a),o}Yg.convert=Bce});var $N=$(ru=>{k();M();var Cce=ru&&ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kce=ru&&ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HN=ru&&ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cce(e,t,r);return kce(e,t),e};Object.defineProperty(ru,"__esModule",{value:!0});ru.decode=ru.encode=void 0;var DN=HN(MN()),Mce=RN(),LN=HN(FN()),Jx=zg();function Rce(t,e,r){let n=Ep(UN(t),new Uint8Array(1)),i=Hce(e)+Lce(r),s=qce(Ep(new Uint8Array([i]),r)),o=Ep(Ep(n,s),new Uint8Array(8)),a=Ep(s,Fce(qN(o)));return t+":"+DN.encode(a)}ru.encode=Rce;function Nce(t){let e=t.toLowerCase().split(":");(0,Jx.validate)(e.length===2,"Missing prefix: "+t+".");let r=e[0],n=DN.decode(e[1]);(0,Jx.validate)(jce(r,n),"Invalid checksum: "+t+".");let i=$ce(n.subarray(0,-8)),s=i[0],o=i.subarray(1);(0,Jx.validate)(Uce(s)===o.length*8,"Invalid hash size: "+t+".");let a=Dce(s);return{prefix:r,type:a,hash:o}}ru.decode=Nce;function UN(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0)&31;return e}function Fce(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}function Hce(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new Error("Invalid type: "+t+".")}}function Dce(t){switch(t&120){case 0:return"P2PKH";case 8:return"P2SH";default:throw new Error("Invalid address type in version byte: "+t+".")}}function Lce(t){switch(t.length*8){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new Error("Invalid hash size: "+t.length+".")}}function Uce(t){switch(t&7){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}function qce(t){return LN.convert(t,8,5,!1)}function $ce(t){return LN.convert(t,5,8,!0)}function Ep(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function qN(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=Mce(1),n=0;n<t.length;++n){var i=t[n],s=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var o=0;o<e.length;++o)s.shiftRight(o).and(1).equals(1)&&(r=r.xor(e[o]))}return r.xor(1)}function jce(t,e){var r=Ep(UN(t),new Uint8Array(1)),n=Ep(r,e);return qN(n).equals(0)}});var GN=$(Pi=>{k();M();var Kce=Pi&&Pi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vce=Pi&&Pi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KN=Pi&&Pi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kce(e,t,r);return Vce(e,t),e};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.convert2LegacyAddress=Pi.isCashAddress=Pi.ValidateBitcashP2PkHAddress=Pi.GetBitcashP2PkHAddressByPublicKey=Pi.GetBitcashAddressByPublicKey=Pi.GetBitcashAddressByHash=void 0;var VN=vs(),Xg=KN($N()),jN=KN(qh());function Qx(t,e,r){return Xg.encode(t,e,r)}Pi.GetBitcashAddressByHash=Qx;function Gce(t,e,r){let n=(0,VN.hash160)(A.Buffer.from(r));return Qx(t,e,n)}Pi.GetBitcashAddressByPublicKey=Gce;function zce(t){let e=(0,VN.hash160)(A.Buffer.from(t));return Qx("bitcoincash","P2PKH",e)}Pi.GetBitcashP2PkHAddressByPublicKey=zce;function Wce(t){try{t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{prefix:e,type:r,hash:n}=Xg.decode(t);return r==="P2PKH"&&n.length===20}catch{return!1}}Pi.ValidateBitcashP2PkHAddress=Wce;function Yce(t){try{return t.startsWith("bitcoincash:")||(t="bitcoincash:"+t,Xg.decode(t)),!0}catch{return!1}}Pi.isCashAddress=Yce;function Xce(t,e){t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{type:r,hash:n}=Xg.decode(t);if(r=="P2PKH")return jN.p2pkh({hash:A.Buffer.from(n),network:e}).address;if(r=="P2SH")return jN.p2sh({hash:A.Buffer.from(n),network:e}).address;throw new Error("convert2LegacyAddress error")}Pi.convert2LegacyAddress=Xce});var WN=$(zN=>{k();M();Object.defineProperty(zN,"__esModule",{value:!0})});var QN=$(nu=>{k();M();var Zce=nu&&nu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jce=nu&&nu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eS=nu&&nu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zce(e,t,r);return Jce(e,t),e};Object.defineProperty(nu,"__esModule",{value:!0});nu.srcInscribe=nu.SrcInscriptionTool=void 0;var $s=eS(Ho()),Qce=$c(),J7=vr(),e0e=eS(e0()),t0e=eS(vs()),x3=Fo(),r0e=Ho(),YN=$7(),n0e=Qce.signUtil.schnorr.secp256k1.schnorr,i0e=2,XN=31,s0e=4294967293,o0e=7800,a0e=7800,aVe=4e6/10,Q7=class{constructor(){this.network=$s.networks.bitcoin,this.revealTxs=[],this.commitTx=new $s.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newSrcInscriptionTool(e,r){let n=new Q7;n.network=e;let i=r.revealOutValue||o0e,s=r.minChangeValue||a0e;return n.buildCommitTx(e,r.inscriptionData,i,r.commitTxPrevOutputList,r.changeAddress,r.commitFeeRate,s)||n.signCommitTx(r.commitTxPrevOutputList),n}buildCommitTx(e,r,n,i,s,o,a){let u=A.Buffer.from(r.contentType),c=A.Buffer.from(r.body);for(;c[c.length-1]==0;)c=c.slice(0,c.length-1);let h=2+u.length+c.length,f=h%62==0?h:h+62-h%62,p=r0e.BufferWriter.withCapacity(f);p.writeSlice(A.Buffer.from([(u.length+c.length)/256,(u.length+c.length)%256])),p.writeSlice(u),p.writeSlice(c),f>h&&p.writeSlice(A.Buffer.alloc(f-h));let l=p.end(),y=J7.base.fromHex(h0e(i[0].txId,l.toString("hex"))),_=0,O=0,F=new $s.Transaction;for(F.version=i0e,O+=n,F.addOutput($s.address.toOutputScript(r.revealAddr,e),n);y.length;){let H=y.slice(0,Math.min(XN,y.length)),D=H.toString("hex");D.length<62&&(D=D+"0".repeat(62-D.length)),y=y.slice(H.length);let d=y.slice(0,Math.min(XN,y.length)).toString("hex");d.length<62&&(d=d+"0".repeat(62-d.length)),y=y.slice(H.length);let v=["03"+D+"00","02"+d+"00","020202020202020202020202020202020202020202020202020202020202020202"].map(m=>A.Buffer.from(m,"hex")),g=$s.payments.p2ms({m:1,pubkeys:v});F.addOutput(g.output,n),O+=n}i.forEach(H=>{let D=J7.base.reverseBuffer(J7.base.fromHex(H.txId));F.addInput(D,H.vOut,s0e),this.commitTxPrevOutputFetcher.push(H.amount),_+=H.amount});let B=$s.address.toOutputScript(s,e);F.addOutput(B,0);let E=F.clone();ZN(E,i,this.network);let I=(0,YN.countAdjustedVsize)(E,i.map(H=>H.address),e),L=Math.floor(I*o),N=_-O-L;if(N>=a)F.outs[F.outs.length-1].value=N;else{F.outs=F.outs.slice(0,F.outs.length-1),E.outs=E.outs.slice(0,E.outs.length-1);let H=(0,YN.countAdjustedVsize)(E,i.map(C=>C.address),e),D=Math.floor(H*o);if(_-O-D<0)return this.mustCommitTxFee=L,!0}return this.commitTx=F,!1}signCommitTx(e){ZN(this.commitTx,e,this.network)}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};nu.SrcInscriptionTool=Q7;function ZN(t,e,r){t.ins.forEach((n,i)=>{let s=(0,x3.getAddressType)(e[i].address,r),o=J7.base.fromHex((0,x3.privateKeyFromWIF)(e[i].privateKey,r)),a=J7.base.toHex(o),u=(0,x3.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>$s.address.toOutputScript(y.address,r)),h=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,h,$s.Transaction.SIGHASH_DEFAULT),p=e0e.taprootTweakPrivKey(o),l=A.Buffer.from(n0e.sign(f,p,J7.base.randomBytes(32)));n.witness=[A.Buffer.from(l)]}else if(s==="legacy"){let c=$s.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,$s.Transaction.SIGHASH_ALL),f=(0,x3.sign)(h,a),p=$s.payments.p2pkh({signature:$s.script.signature.encode(f,$s.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=t0e.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,$s.Transaction.SIGHASH_ALL),l=(0,x3.sign)(p,a);n.witness=[$s.script.signature.encode(l,$s.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function u0e(t,e){let r=Q7.newSrcInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}nu.srcInscribe=u0e;function c0e(t,e){for(var r=[],n=0,i,s="",o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)n=(n+r[o]+t.charCodeAt(o%t.length))%256,i=r[o],r[o]=r[n],r[n]=i;o=0,n=0;for(var a=0;a<e.length;a++)o=(o+1)%256,n=(n+r[o])%256,i=r[o],r[o]=r[n],r[n]=i,s+=String.fromCharCode(e.charCodeAt(a)^r[(r[o]+r[n])%256]);return s}function JN(t){for(var e=[],r,n=0;n<t.length-1;n+=2){var i=parseInt(t.substr(n,2),16);e.push(i)}return r=String.fromCharCode.apply(String,e),r}function f0e(t){var e,r,n="",i;for(t+="",e=0,r=t.length;e<r;e++)i=t.charCodeAt(e).toString(16),n+=i.length<2?"0"+i:i;return n}function h0e(t,e){return f0e(c0e(JN(t),JN(e)))}});var aF=$(js=>{k();M();var l0e=js&&js.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),d0e=js&&js.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nS=js&&js.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&l0e(e,t,r);return d0e(e,t),e};Object.defineProperty(js,"__esModule",{value:!0});js.inscribeForMPCSigned=js.inscribeForMPCUnsigned=js.inscribe=js.InscriptionTool=void 0;var Wt=nS(Ho()),p0e=$c(),la=vr(),m0e=nS(e0()),tF=nS(vs()),rF=Kh(),Zh=Fo(),tS=Sp(),Zg=$7(),iS=p0e.signUtil.schnorr.secp256k1.schnorr,Jg=2,Qg=4294967293,nF=546,iF=546,eF=4e6/10,e6=class{constructor(){this.network=Wt.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Wt.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new e6;n.network=e;let i=r.revealOutValue||nF,s=r.minChangeValue||iF,o=r.commitTxPrevOutputList[0].privateKey;r.inscriptionDataList.forEach(c=>{n.inscriptionTxCtxDataList.push(sF(e,c,o))});let a=n.buildEmptyRevealTx(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,a,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n){let i=0,s=[],o=[],a=[];return this.inscriptionTxCtxDataList.forEach((u,c)=>{let h=new Wt.Transaction;h.version=Jg,h.addInput(A.Buffer.alloc(32),c,Qg),h.addOutput(u.revealPkScript,r);let f=A.Buffer.alloc(64),p=A.Buffer.alloc(33),l=[];l.push(f),l.push(u.inscriptionScript),l.push(p);let y=Math.floor((h.byteLength()+Math.floor(((0,rF.vectorSize)(l)+2+3)/4))*n),_=r+y;u.revealTxPrevOutput={pkScript:u.commitTxAddressPkScript,value:_},i+=_,s.push(h),o.push(y),a.push(u.commitTxAddress)}),this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=a,i}buildCommitTx(e,r,n,i,s,o){let a=0,u=new Wt.Transaction;u.version=Jg,r.forEach(y=>{let _=la.base.reverseBuffer(la.base.fromHex(y.txId));u.addInput(_,y.vOut,Qg),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount}),this.inscriptionTxCtxDataList.forEach(y=>{u.addOutput(y.revealTxPrevOutput.pkScript,y.revealTxPrevOutput.value)});let c=Wt.address.toOutputScript(n,e);u.addOutput(c,0);let h=u.clone();rS(h,r.map(y=>({...y,privateKey:""})),this.network);let f=(0,Zg.countAdjustedVsize)(h,r.map(y=>y.address),e),p=Math.floor(f*s),l=a-i-p;if(l>=o)u.outs[u.outs.length-1].value=l;else{u.outs=u.outs.slice(0,u.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);let y=(0,Zg.countAdjustedVsize)(h,r.map(O=>O.address),e),_=Math.floor(y*s);if(a-i-_<0)return this.mustCommitTxFee=p,!0}return this.commitTx=u,!1}signCommitTx(e){rS(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,Wt.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),o=A.Buffer.from(iS.sign(s,this.inscriptionTxCtxDataList[r].privateKey,la.base.randomBytes(32)));e.ins[0].witness=[A.Buffer.from(o),...this.inscriptionTxCtxDataList[r].witness];let a=e.weight();if(a>eF)throw new Error(`reveal(index ${r}) transaction weight greater than ${eF} (MAX_STANDARD_TX_WEIGHT): ${a}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};js.InscriptionTool=e6;function rS(t,e,r){t.ins.forEach((n,i)=>{let s=(0,Zh.getAddressType)(e[i].address,r);if(e[i].privateKey==""){let{witness:c,script:h}=(0,Zh.fakeSign)(s);c!==void 0&&(n.witness=c),h!==void 0&&(n.script=h);return}let o=la.base.fromHex((0,Zh.privateKeyFromWIF)(e[i].privateKey,r)),a=la.base.toHex(o),u=(0,Zh.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>Wt.address.toOutputScript(y.address,r)),h=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,h,Wt.Transaction.SIGHASH_DEFAULT),p=m0e.taprootTweakPrivKey(o),l=A.Buffer.from(iS.sign(f,p,la.base.randomBytes(32)));n.witness=[A.Buffer.from(l)]}else if(s==="legacy"){let c=Wt.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,Wt.Transaction.SIGHASH_ALL),f=(0,Zh.sign)(h,a),p=Wt.payments.p2pkh({signature:Wt.script.signature.encode(f,Wt.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=tF.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,Wt.Transaction.SIGHASH_ALL),l=(0,Zh.sign)(p,a);n.witness=[Wt.script.signature.encode(l,Wt.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function sF(t,e,r){let n=la.base.fromHex((0,Zh.privateKeyFromWIF)(r,t)),i=(0,Zh.wif2Public)(r,t).slice(1),s=Wt.script.OPS,o=[];o.push(i),o.push(s.OP_CHECKSIG),o.push(s.OP_FALSE),o.push(s.OP_IF),o.push(A.Buffer.from("ord")),o.push(s.OP_DATA_1),o.push(s.OP_DATA_1),o.push(A.Buffer.from(e.contentType)),o.push(s.OP_0);let a=520,u=A.Buffer.from(e.body),c=u.length;for(let F=0;F<c;F+=a){let B=F+a;B>c&&(B=c),o.push(u.slice(F,B))}o.push(s.OP_ENDIF);let h=Wt.script.compile(o),f={output:h},p={output:h,redeemVersion:192},{output:l,witness:y,hash:_,address:O}=Wt.payments.p2tr({internalPubkey:i,scriptTree:f,redeem:p,network:t});return{privateKey:n,inscriptionScript:h,commitTxAddress:O,commitTxAddressPkScript:l,witness:y,hash:_,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:Wt.address.toOutputScript(e.revealAddr,t)}}function g0e(t,e){let r=e6.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}js.inscribe=g0e;function oF(t,e,r,n){let i=t.commitTxPrevOutputList[0].privateKey,s=[];t.inscriptionDataList.forEach(L=>{s.push(sF(e,L,i))});let o=0,a=t.revealOutValue||nF,u=[];s.forEach((L,N)=>{let H=new Wt.Transaction;H.version=Jg,H.addInput(A.Buffer.alloc(32),N,Qg),H.addOutput(L.revealPkScript,a),u.push(H);let D=A.Buffer.alloc(64),C=A.Buffer.alloc(33),d=[];d.push(D),d.push(L.inscriptionScript),d.push(C);let v=Math.floor((H.byteLength()+Math.floor(((0,rF.vectorSize)(d)+2+3)/4))*t.revealFeeRate),g=a+v;L.revealTxPrevOutput={pkScript:L.commitTxAddressPkScript,value:g},o+=g});let c=0,h=new Wt.Transaction;h.version=Jg,t.commitTxPrevOutputList.forEach(L=>{h.addInput(la.base.reverseBuffer(la.base.fromHex(L.txId)),L.vOut,Qg),c+=L.amount});let f=[];s.forEach(L=>{h.addOutput(L.revealTxPrevOutput.pkScript,L.revealTxPrevOutput.value),f.push(L.commitTxAddress)});let p=Wt.address.toOutputScript(t.changeAddress,e);h.addOutput(p,0);let l=h.clone();rS(l,t.commitTxPrevOutputList,e);let y=(0,Zg.countAdjustedVsize)(l,t.commitTxPrevOutputList.map(L=>L.address),e),_=Math.floor(y*t.commitFeeRate),O=c-o-_;if(O>=(t.minChangeValue||iF))h.outs[h.outs.length-1].value=O;else{h.outs=h.outs.slice(0,h.outs.length-1),l.outs=l.outs.slice(0,l.outs.length-1);let L=(0,Zg.countAdjustedVsize)(l,t.commitTxPrevOutputList.map(H=>H.address),e),N=Math.floor(L*t.commitFeeRate);if(c-o-N<0)throw new Error("insufficient balance")}let F=y0e(h,t.commitTxPrevOutputList,e),B=h.getHash();n&&(B=n),u.forEach((L,N)=>{L.ins[0].hash=B;let H=[s[N].revealTxPrevOutput.pkScript],D=[s[N].revealTxPrevOutput.value],C=L.hashForWitnessV1(0,H,D,Wt.Transaction.SIGHASH_DEFAULT,s[N].hash),d=A.Buffer.from(iS.sign(C,s[N].privateKey,la.base.randomBytes(32)));L.ins[0].witness=[d,...s[N].witness]});let E=0;h.ins.forEach((L,N)=>{E+=t.commitTxPrevOutputList[N].amount}),h.outs.forEach(L=>{E-=L.value});let I=[];return u.forEach((L,N)=>{let H=0;H+=s[N].revealTxPrevOutput.value,H-=L.outs[0].value,I.push(H)}),{signHashList:F,commitTx:h.toHex(),revealTxs:u.map(L=>L.toHex()),commitTxFee:E,revealTxFees:I,commitAddrs:f}}js.inscribeForMPCUnsigned=oF;function b0e(t,e){let r=t.commitTx,n=t.signatureList,i=Wt.Transaction.fromHex(r),s=i.getHash();i.ins.forEach((u,c)=>{let h=la.base.fromHex(n[c]);!u.witness||u.witness.length==0?u.script=Wt.payments.p2pkh({pubkey:Wt.payments.p2pkh({input:u.script}).pubkey,signature:Wt.script.signature.encode(h,Wt.Transaction.SIGHASH_ALL)}).input:u.witness[0]=Wt.script.signature.encode(h,Wt.Transaction.SIGHASH_ALL)});let o=i.getHash(),a=oF(t,e,s,o);return{signHashList:null,commitTx:i.toHex(),revealTxs:a.revealTxs,commitTxFee:a.commitTxFee,revealTxFees:a.revealTxFees,commitAddrs:a.commitAddrs}}js.inscribeForMPCSigned=b0e;function y0e(t,e,r){let n=[];return t.ins.forEach((i,s)=>{let o=la.base.fromHex(e[s].publicKey),a=Wt.address.toOutputScript(e[s].address,r),u=A.Buffer.alloc(64,0),c;if((0,tS.isP2TR)(a)){let h=e.map(p=>Wt.address.toOutputScript(p.address,r)),f=e.map(p=>p.amount);c=t.hashForWitnessV1(s,h,f,Wt.Transaction.SIGHASH_DEFAULT),i.witness=[u]}else if((0,tS.isP2PKH)(a)){let h=Wt.address.toOutputScript(e[s].address,r);c=t.hashForSignature(s,h,Wt.Transaction.SIGHASH_ALL),i.script=Wt.payments.p2pkh({pubkey:o,signature:Wt.script.signature.encode(u,Wt.Transaction.SIGHASH_ALL)}).input}else{let h=tF.hash160(o),f=A.Buffer.of(25,118,169,20,...h,136,172);c=t.hashForWitness(s,f,e[s].amount,Wt.Transaction.SIGHASH_ALL),i.witness=Wt.payments.p2wpkh({pubkey:o,signature:Wt.script.signature.encode(u,Wt.Transaction.SIGHASH_ALL)}).witness;let p=A.Buffer.of(22,0,20,...h);(0,tS.isP2SHScript)(a)&&(i.script=p)}n.push(la.base.toHex(c))}),n}});var hF=$(Ko=>{k();M();var v0e=Ko&&Ko.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_0e=Ko&&Ko.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sS=Ko&&Ko.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&v0e(e,t,r);return _0e(e,t),e};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.inscribeRefundFee=Ko.createInscriptionTxCtxData=Ko.InscriptionRefundFeeTool=void 0;var ss=sS(Ho()),x0e=$c(),t6=vr(),S0e=sS(e0()),w0e=sS(vs()),Tp=Fo(),uF=$7(),E0e=x0e.signUtil.schnorr.secp256k1.schnorr,T0e=2,A0e=4294967293,I0e=546,pVe=4e6/10,r6=class{constructor(){this.network=ss.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.refundFeeTx=new ss.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustTxFee=0,this.dustChange=0,this.commitAddrs=[],this.merkleRoot=new Uint8Array}static newInscriptionRefundFeeTool(e,r){let n=new r6;n.network=e;let i=r.minChangeValue||I0e;if(r.inputs&&r.inputs.length>600)throw new Error("invalid amount of inputs");let s=100;r.maxAmountOfInput&&(s=r.maxAmountOfInput),s>r.inputs.length&&(s=r.inputs.length);let o=r.inputs[0].privateKey;if(r.inscriptionRefundFeeDataList.forEach(u=>{n.inscriptionTxCtxDataList.push(fF(e,u,o))}),r.middleAddress&&r.middleAddress!=n.inscriptionTxCtxDataList[0].commitTxAddress)throw new Error("invalid middle address");return n.commitAddrs=[n.inscriptionTxCtxDataList[0].commitTxAddress],n.merkleRoot=n.inscriptionTxCtxDataList[0].hash,n.buildrRefundFeeTx(e,r.inputs.slice(0,s),r.changeAddress,0,r.feeRate,i)||n.signRefundFeeTx(r.inputs.slice(0,s)),n}buildrRefundFeeTx(e,r,n,i,s,o){let a=0,u=new ss.Transaction;u.version=T0e,r.forEach(y=>{let _=t6.base.reverseBuffer(t6.base.fromHex(y.txId));u.addInput(_,y.vOut,A0e),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount});let c=ss.address.toOutputScript(n,e);u.addOutput(c,0);let h=u.clone();cF(h,r,this.network);let f=(0,uF.countAdjustedVsize)(h,r.map(y=>y.address),e),p=Math.floor(f*s),l=a-i-p;if(l>=o)u.outs[u.outs.length-1].value=l;else{if(u.outs.length<=1)return this.dustChange=l,!0;u.outs=u.outs.slice(0,u.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);let y=(0,uF.countAdjustedVsize)(h,r.map(O=>O.address),e),_=Math.floor(y*s);if(a-i-_<0)return this.mustTxFee=p,!0}return this.refundFeeTx=u,!1}signRefundFeeTx(e){cF(this.refundFeeTx,e,this.network,this.merkleRoot)}calculateFee(){let e=0;return this.refundFeeTx.ins.forEach((r,n)=>{e+=this.commitTxPrevOutputFetcher[n]}),this.refundFeeTx.outs.forEach(r=>{e-=r.value}),{refundFeeTxFee:e}}};Ko.InscriptionRefundFeeTool=r6;function cF(t,e,r,n=new Uint8Array){t.ins.forEach((i,s)=>{let o=(0,Tp.getAddressType)(e[s].address,r),a=t6.base.fromHex((0,Tp.privateKeyFromWIF)(e[s].privateKey,r)),u=t6.base.toHex(a),c=(0,Tp.private2public)(u);if(o==="segwit_taproot"){let h=e.map(_=>ss.address.toOutputScript(_.address,r)),f=e.map(_=>_.amount),p=t.hashForWitnessV1(s,h,f,ss.Transaction.SIGHASH_DEFAULT),l=S0e.taprootTweakPrivKey(a,n),y=A.Buffer.from(E0e.sign(p,l,t6.base.randomBytes(32)));i.witness=[A.Buffer.from(y)]}else if(o==="legacy"){let h=ss.address.toOutputScript(e[s].address,r),f=t.hashForSignature(s,h,ss.Transaction.SIGHASH_ALL),p=(0,Tp.sign)(f,u),l=ss.payments.p2pkh({signature:ss.script.signature.encode(p,ss.Transaction.SIGHASH_ALL),pubkey:c});i.script=l.input}else{let h=w0e.hash160(c),f=A.Buffer.of(25,118,169,20,...h,136,172),p=e[s].amount,l=t.hashForWitness(s,f,p,ss.Transaction.SIGHASH_ALL),y=(0,Tp.sign)(l,u);i.witness=[ss.script.signature.encode(y,ss.Transaction.SIGHASH_ALL),c];let _=A.Buffer.of(22,0,20,...h);o==="segwit_nested"&&(i.script=_)}})}function fF(t,e,r){let n=t6.base.fromHex((0,Tp.privateKeyFromWIF)(r,t)),i=(0,Tp.wif2Public)(r,t).slice(1),s=ss.script.OPS,o=[];o.push(i),o.push(s.OP_CHECKSIG),o.push(s.OP_FALSE),o.push(s.OP_IF),o.push(A.Buffer.from("ord")),o.push(s.OP_DATA_1),o.push(s.OP_DATA_1),o.push(A.Buffer.from(e.contentType)),o.push(s.OP_0);let a=520,u=A.Buffer.from(e.body),c=u.length;for(let F=0;F<c;F+=a){let B=F+a;B>c&&(B=c),o.push(u.slice(F,B))}o.push(s.OP_ENDIF);let h=ss.script.compile(o),f={output:h},p={output:h,redeemVersion:192},{output:l,witness:y,hash:_,address:O}=ss.payments.p2tr({internalPubkey:i,scriptTree:f,redeem:p,network:t});return{privateKey:n,inscriptionScript:h,commitTxAddress:O,commitTxAddressPkScript:l,witness:y,hash:_,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:ss.address.toOutputScript(e.revealAddr,t)}}Ko.createInscriptionTxCtxData=fF;function P0e(t,e){let r=r6.newInscriptionRefundFeeTool(t,e);return r.mustTxFee>0||r.dustChange!=0?{refundFeeTx:"",mustTxFee:r.mustTxFee,dustChange:r.dustChange}:{refundFeeTx:r.refundFeeTx.toHex(),...r.calculateFee(),middleAddresses:r.commitAddrs}}Ko.inscribeRefundFee=P0e});var bF=$(Jn=>{k();M();var O0e=Jn&&Jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B0e=Jn&&Jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uS=Jn&&Jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&O0e(e,t,r);return B0e(e,t),e};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.dogInscribe=Jn.DogInscriptionTool=Jn.DogScript=Jn.bufferToChunk=Jn.bufferToBuffer=Jn.CHANGE_OUTPUT_MAX_SIZE=void 0;var hn=uS(Ho()),i0=vr(),C0e=uS(vs()),iu=Fo(),gF=Ho(),ao=gp(),k0e=uS(qh()),Jh=Hh();Jn.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;var lF=2,oS=4294967293,M0e=1e5,R0e=1e5,N0e=240,dF=1500;function pF(t){return{buf:t<=16?void 0:t<128?A.Buffer.from([t]):A.Buffer.from([t%256,t/256]),len:t<=16?0:t<128?1:2,opcodenum:t==0?0:t<=16?80+t:t<128?1:2}}function S3(t){let e=n6(t),r=Jh.varuint.encodingLength(e.opcodenum);var n=e.opcodenum;e.buf&&((n===ao.OPS.OP_PUSHDATA1||n===ao.OPS.OP_PUSHDATA2||n===ao.OPS.OP_PUSHDATA4)&&(r+=Jh.varuint.encodingLength(e.len)),r+=e.buf.length);let i=gF.BufferWriter.withCapacity(r);return i.writeUInt8(e.opcodenum),e.buf&&(n<ao.OPS.OP_PUSHDATA1?i.writeSlice(e.buf):n===ao.OPS.OP_PUSHDATA1?(i.writeUInt8(e.len),i.writeSlice(e.buf)):n===ao.OPS.OP_PUSHDATA2?(i.writeUInt64(e.len),i.writeSlice(e.buf)):n===ao.OPS.OP_PUSHDATA4&&(i.writeUInt32(e.len),i.writeSlice(e.buf))),i.end()}Jn.bufferToBuffer=S3;function n6(t){return{buf:t.length?t:void 0,len:t.length,opcodenum:t.length<=75?t.length:t.length<=255?76:77}}Jn.bufferToChunk=n6;function aS(t){return{opcodenum:t}}var i6=class{constructor(){this.chunks=[]}total(){return this.chunks.length==0?0:this.chunks.map(r=>{let n=Jh.varuint.encodingLength(r.opcodenum);var i=r.opcodenum;return r.buf&&(i<ao.OPS.OP_PUSHDATA1||(i===ao.OPS.OP_PUSHDATA1||i===ao.OPS.OP_PUSHDATA2||i===ao.OPS.OP_PUSHDATA4)&&(n+=Jh.varuint.encodingLength(r.len)),n+=r.buf.length),n}).reduce((r,n)=>r+n)}toBuffer(){let e=this.total(),r=gF.BufferWriter.withCapacity(e);for(var n=0;n<this.chunks.length;n++){var i=this.chunks[n],s=i.opcodenum;r.writeUInt8(i.opcodenum),i.buf&&(s<ao.OPS.OP_PUSHDATA1?r.writeSlice(i.buf):s===ao.OPS.OP_PUSHDATA1?(r.writeUInt8(i.len),r.writeSlice(i.buf)):s===ao.OPS.OP_PUSHDATA2?(r.writeUInt64(i.len),r.writeSlice(i.buf)):s===ao.OPS.OP_PUSHDATA4&&(r.writeUInt32(i.len),r.writeSlice(i.buf)))}return r.end()}};Jn.DogScript=i6;var s6=class{constructor(){this.network=hn.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new hn.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[],this.fromAddr="",this.revealAddr=""}static newDogInscriptionTool(e,r){let n=new s6;n.network=e;let i=r.revealOutValue||M0e,s=r.minChangeValue||R0e,o=r.commitTxPrevOutputList[0].privateKey;n.inscriptionTxCtxDataList=F0e(e,r.inscriptionData,o),n.revealAddr=r.inscriptionData.revealAddr;let a=i0.base.toHex(i0.base.fromHex((0,iu.privateKeyFromWIF)(o,e))),u=(0,iu.private2public)(a);n.fromAddr=hn.payments.p2pkh({pubkey:u,network:e}).address;let c=n.buildEmptyRevealTxs(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,c,i,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTxs(e,r,n){let i=0,s=[],o=[],a=[],u=0;for(let c=this.inscriptionTxCtxDataList.length-1;c>-1;c--){let h=this.inscriptionTxCtxDataList[c],f=new hn.Transaction;f.version=lF,f.addInput(A.Buffer.alloc(32),0,oS),f.addInput(A.Buffer.alloc(32),1,oS),f.addOutput(c!=this.inscriptionTxCtxDataList.length-1?h.commitTxAddressPkScript:h.revealPkScript,r);let p=A.Buffer.alloc(72),l=A.Buffer.concat([h.inscriptionScript,S3(p),S3(h.redeemScript)]);f.ins[0].script=l,c!=this.inscriptionTxCtxDataList.length-1&&f.addOutput(hn.address.toOutputScript(this.fromAddr,e),u),f.ins[1].script=A.Buffer.alloc(106);let y=Math.floor((f.dogeByteLength()+Jn.CHANGE_OUTPUT_MAX_SIZE)*n);u+=y;let _=y;h.revealTxPrevOutput={pkScript:h.commitTxAddressPkScript,value:_},i+=_,s.push(f),o.push(y),a.push(h.commitTxAddress)}for(let c=0,h=s.length-1;c<h;c++,h--)[s[c],s[h]]=[s[h],s[c]],[o[c],o[h]]=[o[h],o[c]],[a[c],a[h]]=[a[h],a[c]];return this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=a,i+=r,i}buildCommitTx(e,r,n,i,s,o,a){let u=0,c=new hn.Transaction;c.version=lF,r.forEach(y=>{let _=i0.base.reverseBuffer(i0.base.fromHex(y.txId));c.addInput(_,y.vOut,oS),this.commitTxPrevOutputFetcher.push(y.amount),u+=y.amount}),c.addOutput(this.inscriptionTxCtxDataList[0].revealTxPrevOutput.pkScript,s),c.addOutput(hn.address.toOutputScript(this.fromAddr,e),i);let h=hn.address.toOutputScript(n,e);c.addOutput(h,0);let f=c.clone();mF(f,r,this.network);let p=Math.floor((f.dogeByteLength()+Jn.CHANGE_OUTPUT_MAX_SIZE)*o),l=u-i-p;if(l>=a)c.outs[c.outs.length-1].value=l;else{c.outs=c.outs.slice(0,c.outs.length-1),f.outs=f.outs.slice(0,f.outs.length-1);let y=Math.floor(f.dogeByteLength()*o);if(u-i-y<0)return this.mustCommitTxFee=p,!0}return this.commitTx=c,!1}signCommitTx(e){mF(this.commitTx,e,this.network)}completeRevealTx(){for(let e=0;e<this.revealTxs.length;e++){let r=this.revealTxs[e];r.ins[0].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),r.ins[1].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value);let n=this.inscriptionTxCtxDataList[e].redeemScript,i=r.hashForSignature(0,n,hn.Transaction.SIGHASH_ALL),s=i0.base.toHex(this.inscriptionTxCtxDataList[e].privateKey),o=(0,iu.sign)(i,s),a=hn.script.signature.encode(o,hn.Transaction.SIGHASH_ALL);r.ins[0].script=A.Buffer.concat([this.inscriptionTxCtxDataList[e].inscriptionScript,S3(a),S3(this.inscriptionTxCtxDataList[e].redeemScript)]);let u=hn.address.toOutputScript(this.fromAddr,this.network),c=r.hashForSignature(1,u,hn.Transaction.SIGHASH_ALL),h=(0,iu.sign)(c,s),f=hn.payments.p2pkh({signature:hn.script.signature.encode(h,hn.Transaction.SIGHASH_ALL),pubkey:(0,iu.private2public)(s)});r.ins[1].script=f.input}}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s=this.revealTxPrevOutputFetcher[i],r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Jn.DogInscriptionTool=s6;function mF(t,e,r){t.ins.forEach((n,i)=>{let s=(0,iu.getAddressType)(e[i].address,r),o=i0.base.fromHex((0,iu.privateKeyFromWIF)(e[i].privateKey,r)),a=i0.base.toHex(o),u=(0,iu.private2public)(a);if(s==="legacy"){let c=hn.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,hn.Transaction.SIGHASH_ALL),f=(0,iu.sign)(h,a),p=hn.payments.p2pkh({signature:hn.script.signature.encode(f,hn.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=C0e.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,hn.Transaction.SIGHASH_ALL),l=(0,iu.sign)(p,a);n.witness=[hn.script.signature.encode(l,hn.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function F0e(t,e,r){let n=i0.base.fromHex((0,iu.privateKeyFromWIF)(r,t)),i=(0,iu.wif2Public)(r,t),s=hn.script.OPS,o;typeof e.body=="string"?o=A.Buffer.from(e.body):o=e.body;let a=[];for(;o.length;){let h=o.slice(0,Math.min(N0e,o.length));o=o.slice(h.length),a.push(h)}let u=new i6;u.chunks.push(n6(A.Buffer.from("ord"))),u.chunks.push(pF(a.length)),u.chunks.push(n6(A.Buffer.from(e.contentType))),a.forEach((h,f)=>{u.chunks.push(pF(a.length-f-1)),u.chunks.push(n6(h))});let c=[];for(;u.chunks.length;){let h=new i6;for(c.length==0&&h.chunks.push(u.chunks.shift());h.total()<=dF&&u.chunks.length;)h.chunks.push(u.chunks.shift()),h.chunks.push(u.chunks.shift());h.total()>dF&&(u.chunks.unshift(h.chunks.pop()),u.chunks.unshift(h.chunks.pop()));let f=new i6;f.chunks.push(n6(i)),f.chunks.push(aS(s.OP_CHECKSIGVERIFY)),h.chunks.forEach(()=>{f.chunks.push(aS(s.OP_DROP))}),f.chunks.push(aS(s.OP_TRUE));let p=i0.base.ripemd160(i0.base.sha256(f.toBuffer())),{output:l,address:y}=k0e.p2sh({hash:A.Buffer.from(p),network:t}),_={privateKey:n,inscriptionScript:h.toBuffer(),redeemScript:f.toBuffer(),commitTxAddress:y,commitTxAddressPkScript:l,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:1e5},revealPkScript:hn.address.toOutputScript(e.revealAddr,t)};c.push(_)}return c}function H0e(t,e){let r=s6.newDogInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Jn.dogInscribe=H0e});var xF=$(Vo=>{k();M();Object.defineProperty(Vo,"__esModule",{value:!0});Vo.verifyWithAddress=Vo.getMPCSignedMessage=Vo.verify=Vo.sign=Vo.toCompact=Vo.magicHash=void 0;var tb=$c(),qi=vr(),D0e=Fo(),L0e=A.Buffer.from(`Bitcoin Signed Message:
`);function yF(t){let e;return t<253?(e=A.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=A.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=A.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=A.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}function rb(t,e){let r=e?A.Buffer.from(e,"utf8"):L0e,n=yF(r.length),i=A.Buffer.from(t),s=yF(i.length),o=A.Buffer.concat([n,r,s,i]);return qi.base.doubleSha256(o)}Vo.magicHash=rb;function fS(t,e,r){if(!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");let n=t+27+4;return r||(n=n-4),A.Buffer.concat([Uint8Array.of(n),Uint8Array.from(e)])}Vo.toCompact=fS;function U0e(t,e,r,n){let i=rb(e,n);if(!t)return qi.base.toHex(i);let s=qi.base.fromHex((0,D0e.privateKeyFromWIF)(t,r)),{signature:o,recovery:a}=tb.signUtil.secp256k1.sign(A.Buffer.from(i),s);return qi.base.toBase64(fS(a,o,!0))}Vo.sign=U0e;function q0e(t,e,r,n){let i=rb(e,n),s=qi.base.fromBase64(r),o=s[0]-27-4,a=s.slice(1);return tb.signUtil.secp256k1.verify(A.Buffer.from(i),a,o,qi.base.fromHex(t))}Vo.verify=q0e;function $0e(t,e,r){let n=qi.base.fromHex(e),i=n.slice(0,32),s=n.slice(32,64),o=tb.signUtil.secp256k1.getV(qi.base.fromHex(t),qi.base.toHex(i),qi.base.toHex(s),qi.base.fromHex(r));return qi.base.toBase64(fS(o,n,!0))}Vo.getMPCSignedMessage=$0e;function j0e(t,e,r,n){let i=rb(e,n),s=qi.base.fromBase64(r),o=s[0]-27,a=s.slice(1),u=o&3,c=o&8?o&4?cS.P2WPKH:cS.P2SH_P2WPKH:null,h=!!(o&12),f=tb.signUtil.secp256k1.recover(a,u,A.Buffer.from(i),h);if(f==null)return!1;let p=A.Buffer.from(qi.base.hash160(f)),l,y;if(c)c===cS.P2SH_P2WPKH?(l=_F(p),y=qi.base.fromBase58Check(t).slice(1)):(l=p,y=vF(t));else try{return y=vF(t),eb(p,y)}catch{let O=_F(p),F=qi.base.fromBase58Check(t).slice(1);return eb(p,F)||eb(O,F)}return eb(l,y)}Vo.verifyWithAddress=j0e;var cS={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function vF(t){let e=qi.base.bech32.decode(t),r=qi.base.bech32.fromWords(e.words.slice(1));return A.Buffer.from(r)}function _F(t){let e=A.Buffer.concat([A.Buffer.from("0014","hex"),t]);return A.Buffer.from(qi.base.hash160(e))}function eb(t,e){if(!A.Buffer.isBuffer(t)||!A.Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}});var oc=$(Qn=>{k();M();var K0e=Qn&&Qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V0e=Qn&&Qn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G0e=Qn&&Qn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K0e(e,t,r);return V0e(e,t),e};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.convert2UtxoTx=Qn.number2Hex=Qn.TBtcWallet=Qn.BtcWallet=Qn.BITCOIN_MESSAGE_BIP0322_SIMPLE=Qn.BITCOIN_MESSAGE_ECDSA=void 0;var lt=vr(),SF=$c(),nb=vr(),Ne=G0e(Go()),Zr=Go();Qn.BITCOIN_MESSAGE_ECDSA=0;Qn.BITCOIN_MESSAGE_BIP0322_SIMPLE=1;var ib=class extends lt.BaseWallet{network(){return Ne.networks.bitcoin}async getDerivedPath(e){return e.segwitType?e.segwitType==lt.segwitType.SEGWIT_NESTED?`m/84'/0'/0'/0/${e.index}`:e.segwitType==lt.segwitType.SEGWIT_NESTED_49?`m/49'/0'/0'/0/${e.index}`:e.segwitType==lt.segwitType.SEGWIT_NATIVE?`m/84'/0'/0'/0/${e.index}`:e.segwitType==lt.segwitType.SEGWIT_TAPROOT?`m/86'/0'/0'/0/${e.index}`:Promise.reject(lt.DerivePathError):`m/44'/0'/0'/0/${e.index}`}async validPrivateKey(e){let r;try{let{version:i}=Ne.wif.decode(e.privateKey);r=i===this.network().wif}catch{r=!1}let n={isValid:r,privateKey:e.privateKey};return Promise.resolve(n)}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=e.addressType||"Legacy",s=Ne.wif2Public(n,r),o;i==="Legacy"?o=Ne.payments.p2pkh({pubkey:s,network:r}).address:i==="segwit_native"?o=Ne.payments.p2wpkh({pubkey:s,network:r}).address:i==="segwit_nested"?o=Ne.payments.p2sh({redeem:Ne.payments.p2wpkh({pubkey:s,network:r})}).address:i==="segwit_taproot"&&(o=Ne.payments.p2tr({internalPubkey:s.slice(1),network:r}).address);let a={address:o||"",publicKey:nb.base.toHex(i==="segwit_taproot"?s.slice(1):s),compressedPublicKey:nb.base.toHex(s)};return Promise.resolve(a)}catch{return Promise.reject(lt.NewAddressError)}}async validAddress(e){let r=!1,n=this.network();try{Ne.address.toOutputScript(e.address,n)&&(r=!0)}catch{}e.addressType&&(r=e.addressType===Ne.getAddressType(e.address,n));let i={isValid:r,address:e.address};return Promise.resolve(i)}async signTransaction(e){let r=e.data.type||0;if(r===Ne.BtcXrcTypes.INSCRIBE)try{return Promise.resolve(Ne.inscribe(this.network(),e.data))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT)try{return Promise.resolve(Ne.psbtSign(e.data.psbt,e.privateKey,this.network()))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_DEODE)try{return Promise.resolve(Ne.psbtDecode(e.data.psbt,this.network()))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_MPC_UNSIGNED_LIST)try{return Promise.resolve(Ne.generateMPCUnsignedListingPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_MPC_SIGNED_LIST)try{return Promise.resolve(Ne.generateMPCSignedListingPSBT(e.data.psbt,e.data.publicKey,e.data.signature,this.network()))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_MPC_UNSIGNED_BUY)try{return Promise.resolve(Ne.generateMPCUnsignedBuyingPSBT(e.data.psbt,e.data.publicKey,this.network(),e.data.batchSize))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_MPC_SIGNED_BUY)try{return Promise.resolve(Ne.generateMPCSignedBuyingTx(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network(),e.data.batchSize))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_MPC_UNSIGNED)try{return Promise.resolve(Ne.generateMPCUnsignedPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_MPC_SIGNED)try{return Promise.resolve(Ne.generateMPCSignedPSBT(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network()))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH)try{return Promise.resolve(Ne.signPsbtWithKeyPathAndScriptPath(e.data.psbt,e.privateKey,this.network(),{autoFinalized:e.data.autoFinalized,toSignInputs:e.data.toSignInputs}))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH_BATCH)try{return Promise.resolve(Ne.signPsbtWithKeyPathAndScriptPathBatch(e.data.psbtHexs,e.privateKey,this.network(),e.data.options))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.SRC20)try{return Promise.resolve(Ne.srcInscribe(this.network(),e.data))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.RUNE)try{let n=new Zr.RuneWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.RuneTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.RUNEMAIN)try{let n=new Zr.RuneMainWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.RuneMainTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.ARC20)try{let n=new Zr.AtomicalWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.AtomicalTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(lt.SignTxError)}else if(r===Ne.BtcXrcTypes.CAT20){let n=new Zr.CatWallet;try{return Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(lt.SignTxError)}}else if(r===Ne.BtcXrcTypes.PSBT_RUNEMAIN)try{let n=new Zr.RuneMainWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(lt.SignTxError)}else{let n=null;try{let i=e.privateKey,s=w3(e.data);return n=Ne.signBtc(s,i,this.network()),Promise.resolve(n)}catch{return Promise.reject(lt.SignTxError)}}}getRandomPrivateKey(){try{let e=this.network();for(;;){let r=nb.base.randomBytes(32);if((0,lt.secp256k1SignTest)(r)){let n=Ne.private2Wif(r,e);return Promise.resolve(n)}}}catch{return Promise.reject(lt.GenPrivateKeyError)}}getDerivedPrivateKey(e){let r=this.network();return SF.bip39.mnemonicToSeedV2(e.mnemonic).then(n=>{let i=SF.bip32.fromSeedV2(n,e.hdPath);if(!i.privateKey)return Promise.reject(lt.GenPrivateKeyError);let s=Ne.private2Wif(A.Buffer.from(i.privateKey),r);return Promise.resolve(s)}).catch(n=>Promise.reject(lt.GenPrivateKeyError))}getAddressByPublicKey(e){try{let r=this.network(),n=nb.base.fromHex(e.publicKey);if(e.addressType){if(e.addressType==="Legacy")return Promise.resolve(Ne.payments.p2pkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_nested")return Promise.resolve(Ne.payments.p2sh({redeem:Ne.payments.p2wpkh({pubkey:n,network:r})}).address);if(e.addressType==="segwit_native")return Promise.resolve(Ne.payments.p2wpkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_taproot")return Promise.resolve(Ne.payments.p2tr({internalPubkey:n.slice(1),network:r}).address)}else{let i=[];return i.push({addressType:"Legacy",address:Ne.payments.p2pkh({pubkey:n,network:r}).address}),i.push({addressType:"segwit_nested",address:Ne.payments.p2sh({redeem:Ne.payments.p2wpkh({pubkey:n,network:r})}).address}),i.push({addressType:"segwit_native",address:Ne.payments.p2wpkh({pubkey:n,network:r}).address}),Promise.resolve(i)}}catch{}return Promise.reject(lt.NewAddressError)}getMPCRawTransaction(e){try{let r=w3(e.data),n=[],s={raw:Ne.signBtc(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(lt.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=Ne.getMPCTransaction(e.raw,e.sigs,!1);return Promise.resolve(r)}catch{return Promise.reject(lt.GetMpcTransactionError)}}async getMPCRawMessage(e){try{let r=await this.signMessage(e);return Promise.resolve({hash:r})}catch{return Promise.reject(lt.GetMpcRawTransactionError)}}async getMPCSignedMessage(e){try{return Promise.resolve(Ne.message.getMPCSignedMessage(e.hash,e.sigs,e.publicKey))}catch{return Promise.reject(lt.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=w3(e.data);if(r===2){let i=Ne.signBtc(n,"",this.network(),void 0,!0,!0),s=n.dustSize||546;if(parseInt(i)>=s){let a={address:n.address,amount:parseInt(i),bip32Derivation:n.bip32Derivation};n.outputs.push(a)}let o=Ne.buildPsbt(n,this.network());return Promise.resolve(o)}else{let i=Ne.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(i)}}catch{return Promise.reject(lt.GetHardwareRawTransactionError)}}async calcTxHash(e){try{return Promise.resolve(Ne.Transaction.fromHex(e.data).getId())}catch{return Promise.reject(lt.CalcTxHashError)}}signMessage(e){try{let r=e.data,n;return r.type===Qn.BITCOIN_MESSAGE_ECDSA?n=Ne.message.sign(e.privateKey,r.message,this.network()):n=Ne.bip0322.signSimple(r.message,r.address,e.privateKey,this.network()),Promise.resolve(n)}catch{return Promise.reject(lt.SignMsgError)}}async signCommonMsg(e){let r=await this.getNewAddress({privateKey:e.privateKey,addressType:e.addressType}),n=r.compressedPublicKey?r.compressedPublicKey:r.publicKey;n.startsWith("0x")&&(n=n.substring(2));let i=(0,Zr.privateKeyFromWIF)(e.privateKey,this.network());return super.signCommonMsg({privateKey:e.privateKey,privateKeyHex:i,publicKey:n,addressType:e.addressType,message:e.message,signType:lt.SignType.Secp256k1})}async verifyMessage(e){try{let r=e.data;if(r.type===Qn.BITCOIN_MESSAGE_ECDSA){let n=Ne.message.verify(r.publicKey,r.message,e.signature);return Promise.resolve(n)}else{let n=Ne.bip0322.verifySimple(r.message,r.address,e.signature,r.publicKey,this.network());return Promise.resolve(n)}}catch{return Promise.reject(lt.SignMsgError)}}static async extractPsbtTransaction(e){try{return Promise.resolve(Ne.extractPsbtTransaction(e))}catch{return Promise.reject(lt.SignMsgError)}}async validSignedTransaction(e){try{e.data&&e.data.forEach(n=>n.value=n.amount);let r=Ne.ValidSignedTransaction(e.tx,e.data,this.network());return Promise.resolve((0,lt.jsonStringifyUniform)(r))}catch{return Promise.reject(lt.validSignedTransactionError)}}async estimateFee(e){try{let r=e.data.type||0;if(r===Ne.BtcXrcTypes.INSCRIBE)return Promise.reject(lt.EstimateFeeError);if(r===Ne.BtcXrcTypes.PSBT)return Promise.reject(lt.EstimateFeeError);if(r===Ne.BtcXrcTypes.RUNE)try{let n=new Zr.RuneWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.RuneTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(lt.EstimateFeeError)}else if(r===Ne.BtcXrcTypes.RUNEMAIN)try{let n=new Zr.RuneMainWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.RuneMainTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(lt.EstimateFeeError)}else if(r===Ne.BtcXrcTypes.ARC20)try{let n=new Zr.AtomicalWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.AtomicalTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(lt.EstimateFeeError)}else if(r===Ne.BtcXrcTypes.CAT20)try{let n=new Zr.CatWallet;return Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(lt.EstimateFeeError)}else{let n=w3(e.data),i=Ne.estimateBtcFee(n,this.network());return Promise.resolve(i)}}catch{return Promise.reject(lt.EstimateFeeError)}}static async oneKeyBuildBtcTx(e){try{return Promise.resolve(Ne.oneKeyBuildBtcTx(e))}catch{return Promise.reject(lt.SignTxError)}}async buildPsbt(e){if((e.data.type||0)===Ne.BtcXrcTypes.RUNEMAIN)try{let n=new Zr.RuneMainWallet;return this.network()===Zr.networks.testnet&&(n=new Zr.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(lt.SignTxError)}else{let n=null;return Promise.resolve(n)}}};Qn.BtcWallet=ib;var hS=class extends ib{network(){return Ne.networks.testnet}};Qn.TBtcWallet=hS;function z0e(t,e){let r=t.toString(16),n=e-r.length;if(n>0)for(let i=0;i<n;i++)r="0"+r;return r}Qn.number2Hex=z0e;function w3(t){let e=(0,lt.cloneObject)(t);return e.inputs.forEach(r=>{r.amount=(0,lt.convert2Number)(r.amount)}),e.outputs.forEach(r=>{r.amount=(0,lt.convert2Number)(r.amount)}),e.omni&&(e.omni.amount=(0,lt.convert2Number)(e.omni.amount)),t.dustSize&&(e.dustSize=(0,lt.convert2Number)(t.dustSize)),e}Qn.convert2UtxoTx=w3});var EF=$(s0=>{k();M();var W0e=s0&&s0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y0e=s0&&s0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X0e=s0&&s0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W0e(e,t,r);return Y0e(e,t),e};Object.defineProperty(s0,"__esModule",{value:!0});s0.BchWallet=void 0;var o6=vr(),wF=vr(),E3=oc(),ln=X0e(Go()),lS=class extends E3.BtcWallet{async getDerivedPath(e){return`m/44'/145'/0'/0/${e.index}`}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=ln.wif2Public(n,r),a={address:ln.GetBitcashP2PkHAddressByPublicKey(i).replace("bitcoincash:","")||"",publicKey:wF.base.toHex(i)};return Promise.resolve(a)}catch{return Promise.reject(o6.NewAddressError)}}async validAddress(e){let r=!1;try{let i=this.network();ln.address.toOutputScript(e.address,i)&&(r=!0)}catch{}r||(r=ln.ValidateBitcashP2PkHAddress(e.address));let n={isValid:r,address:e.address};return Promise.resolve(n)}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,E3.convert2UtxoTx)(e.data);return i.outputs.forEach(s=>{ln.isCashAddress(s.address)&&(s.address=ln.convert2LegacyAddress(s.address,this.network()))}),ln.isCashAddress(i.address)&&(i.address=ln.convert2LegacyAddress(i.address,this.network())),r=ln.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(o6.SignTxError)}}async estimateFee(e){try{let r=(0,E3.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{ln.isCashAddress(i.address)&&(i.address=ln.convert2LegacyAddress(i.address,this.network()))}),ln.isCashAddress(r.address)&&(r.address=ln.convert2LegacyAddress(r.address,this.network()));let n=ln.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(o6.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,E3.convert2UtxoTx)(e.data);r.outputs.forEach(o=>{ln.isCashAddress(o.address)&&(o.address=ln.convert2LegacyAddress(o.address,this.network()))}),ln.isCashAddress(r.address)&&(r.address=ln.convert2LegacyAddress(r.address,this.network()));let n=[],s={raw:ln.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(o6.GetMpcRawTransactionError)}}getAddressByPublicKey(e){let r=wF.base.fromHex(e.publicKey),n=ln.GetBitcashP2PkHAddressByPublicKey(r);return Promise.resolve(n.replace("bitcoincash:",""))}getMPCTransaction(e){try{let r=ln.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(o6.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,E3.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{ln.isCashAddress(i.address)&&(i.address=ln.convert2LegacyAddress(i.address,this.network()))}),ln.isCashAddress(r.address)&&(r.address=ln.convert2LegacyAddress(r.address,this.network()));let n=ln.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(o6.GetHardwareRawTransactionError)}}};s0.BchWallet=lS});var TF=$(o0=>{k();M();var Z0e=o0&&o0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J0e=o0&&o0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Q0e=o0&&o0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z0e(e,t,r);return J0e(e,t),e};Object.defineProperty(o0,"__esModule",{value:!0});o0.BsvWallet=void 0;var T3=vr(),A3=oc(),I3=Q0e(Go()),dS=class extends A3.BtcWallet{async getDerivedPath(e){return`m/44'/236'/0'/0/${e.index}`}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,A3.convert2UtxoTx)(e.data);return r=I3.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(T3.SignTxError)}}async estimateFee(e){try{let r=(0,A3.convert2UtxoTx)(e.data),n=I3.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(T3.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,A3.convert2UtxoTx)(e.data),n=[],s={raw:I3.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(T3.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=I3.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(T3.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,A3.convert2UtxoTx)(e.data),n=I3.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(T3.GetHardwareRawTransactionError)}}};o0.BsvWallet=dS});var AF=$(Ks=>{k();M();var efe=Ks&&Ks.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tfe=Ks&&Ks.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rfe=Ks&&Ks.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&efe(e,t,r);return tfe(e,t),e};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.DogeWallet=Ks.dogeCoin=void 0;var sb=rfe(Go()),ob=vr(),nfe=oc();Ks.dogeCoin={messagePrefix:`Dogecoin Signed Message:
`,bech32:"bc",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158};var pS=class extends nfe.BtcWallet{network(){return Ks.dogeCoin}async signTransaction(e){let r=e.data.type||0;if(r===1)try{return Promise.resolve(sb.dogInscribe(Ks.dogeCoin,e.data))}catch{return Promise.reject(ob.SignTxError)}else if(r===2)try{return Promise.resolve(sb.psbtSign(e.data.psbt,e.privateKey,this.network(),e.data.maximumFeeRate?e.data.maximumFeeRate:1e5))}catch{return Promise.reject(ob.SignTxError)}else return super.signTransaction(e)}signMessage(e){try{let r=e.data,n=sb.message.sign(e.privateKey,r.message,this.network(),Ks.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(ob.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=sb.message.verify(r.publicKey,r.message,e.signature,Ks.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(ob.SignMsgError)}}};Ks.DogeWallet=pS});var PF=$(uo=>{k();M();var ife=uo&&uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sfe=uo&&uo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ofe=uo&&uo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ife(e,t,r);return sfe(e,t),e};Object.defineProperty(uo,"__esModule",{value:!0});uo.LtcWallet=uo.litecoin=void 0;var a6=vr(),afe=oc(),IF=ofe(Go());uo.litecoin={messagePrefix:`Litecoin Signed Message:
`,bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176};var mS=class extends afe.BtcWallet{network(){return uo.litecoin}async getDerivedPath(e){return e.segwitType?e.segwitType==a6.segwitType.SEGWIT_NESTED?`m/84'/2'/0'/0/${e.index}`:e.segwitType==a6.segwitType.SEGWIT_NESTED_49?`m/49'/2'/0'/0/${e.index}`:e.segwitType==a6.segwitType.SEGWIT_NATIVE?`m/84'/2'/0'/0/${e.index}`:Promise.reject(a6.DerivePathError):`m/44'/2'/0'/0/${e.index}`}signMessage(e){try{let r=e.data,n=IF.message.sign(e.privateKey,r.message,this.network(),uo.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(a6.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=IF.message.verify(r.publicKey,r.message,e.signature,uo.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(a6.SignMsgError)}}};uo.LtcWallet=mS});var OF=$(su=>{k();M();var ufe=su&&su.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cfe=su&&su.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ffe=su&&su.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ufe(e,t,r);return cfe(e,t),e};Object.defineProperty(su,"__esModule",{value:!0});su.UsdtTestWallet=su.UsdtWallet=void 0;var u6=vr(),a0=oc(),c6=ffe(Go()),ab=class extends a0.BtcWallet{async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,a0.convert2UtxoTx)(e.data);if(!i.omni)return Promise.reject(u6.SignTxError);let s=(0,a0.number2Hex)(i.omni.coinType||31,8),o=(0,a0.number2Hex)(i.omni.amount,16),u={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+s+o};return i.outputs.push(u),r=c6.signBtc(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(u6.SignTxError)}}async estimateFee(e){try{let r=(0,a0.convert2UtxoTx)(e.data);if(!r.omni)return Promise.reject(u6.EstimateFeeError);let n=(0,a0.number2Hex)(r.omni.coinType||31,8),i=(0,a0.number2Hex)(r.omni.amount,16),o={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+n+i};r.outputs.push(o);let a=c6.estimateBtcFee(r,this.network());return Promise.resolve(a)}catch{return Promise.reject(u6.EstimateFeeError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=(0,a0.convert2UtxoTx)(e.data);if(!n.omni)return Promise.reject(u6.SignTxError);let i=(0,a0.number2Hex)(n.omni.coinType||31,8),s=(0,a0.number2Hex)(n.omni.amount,16),a={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+i+s};n.outputs.push(a);let u;if(r===2){let c=c6.signBtc(n,"",this.network(),void 0,!0,!0),h={address:n.address,amount:parseInt(c),bip32Derivation:n.bip32Derivation};n.outputs.push(h),u=c6.buildPsbt(n,this.network())}else u=c6.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(u)}catch{return Promise.reject(u6.GetHardwareRawTransactionError)}}};su.UsdtWallet=ab;var gS=class extends ab{network(){return c6.networks.testnet}};su.UsdtTestWallet=gS});var yS=$(Nn=>{k();M();var hfe=Nn&&Nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lfe=Nn&&Nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dfe=Nn&&Nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hfe(e,t,r);return lfe(e,t),e};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.buildRuneMainMintOp=Nn.buildRuneMainMintData=Nn.buildRuneData=Nn.encodeToVecV2=Nn.toVarIntV2=Nn.fromVarInt=Nn.encodeToVec=Nn.toVarInt=void 0;var bS=dfe(Si()),P3=gp(),BF=cb(),pfe=vr(),CF=BigInt(0),$Ve=BigInt(2),jVe=BigInt(4),KVe=BigInt(6),VVe=BigInt(8),GVe=BigInt(10),zVe=BigInt(12),WVe=BigInt(14),YVe=BigInt(16),XVe=BigInt(118),ub=BigInt(20),kF=BigInt(22),ZVe=BigInt(126),JVe=BigInt(1),QVe=BigInt(3),eGe=BigInt(5),tGe=BigInt(127);function mfe(t){let e=[];return f6(t,e),new Uint8Array(e)}Nn.toVarInt=mfe;function f6(t,e){let r=18,n=new Array(19).fill(0);for(n[r]=Number(t&BigInt(127));t>BigInt(127);)t=t/BigInt(128)-BigInt(1),r--,n[r]=Number(t&BigInt(255))|128;e.push(...n.slice(r))}Nn.encodeToVec=f6;function gfe(t){let e=[];return $i(t,e),new Uint8Array(e)}Nn.toVarIntV2=gfe;function $i(t,e){for(;t>>7n>0n;)e.push(Number(t&0x7fn|0x80n)),t>>=7n;return e.push(Number(t&0x7fn)),e}Nn.encodeToVecV2=$i;function bfe(t){let e=BigInt(0),r=0;for(;;){let n=BigInt(t[r]);if(n<BigInt(128))return[e+n,r+1];if(e+=n-BigInt(127),e=e*BigInt(128),r++,r>=t.length)throw new Error("Varint decoding error: buffer overflow")}}Nn.fromVarInt=bfe;function yfe(t,e){let r=[];for(let s of e)typeof s.amount=="string"&&(s.amount=BigInt(s.amount));if(e.length>0){f6(CF,r),e.sort((o,a)=>o.id-a.id);let s=0;for(let o of e)f6(BigInt(o.id-s),r),f6(BigInt(o.amount),r),f6(BigInt(o.output),r),s=o.id}let n;return t?n="R":n="RUNE_TEST",bS.compile([P3.OPS.OP_RETURN,A.Buffer.from(n),A.Buffer.from(r)])}Nn.buildRuneData=yfe;function vfe(t,e,r,n,i,s){let o=[];for(let u of e)typeof u.amount=="string"&&(u.amount=BigInt(u.amount));if(i!=null&&i&&e[0].block!=null&&($i(ub,o),$i(BigInt(e[0].block),o),$i(ub,o),$i(BigInt(e[0].id),o)),r&&($i(kF,o),$i(BigInt(n),o)),e.length>0){$i(CF,o),e.sort((h,f)=>h.block===f.block?h.id<f.id?-1:h.id>f.id?1:0:h.block-f.block);let u=0,c=0;for(let h of e)$i(BigInt(h.block-c),o),$i(BigInt(h.id-u),o),$i(BigInt(h.amount),o),$i(BigInt(h.output),o),u=h.id,c=h.block}if(o.length>80)throw new Error(JSON.stringify({errCode:BF.ErrCodeOpreturnExceeds,date:{payloadLenth:o.length}}));return bS.compile([P3.OPS.OP_RETURN,P3.OPS.OP_13,A.Buffer.from(o)])}Nn.buildRuneMainMintData=vfe;function _fe(t,e,r,n){let i=[],s=parseInt(t.split(":")[0]),o=parseInt(t.split(":")[1]);if(n!=null&&n&&o!=null&&($i(ub,i),$i(BigInt(s),i),$i(ub,i),$i(BigInt(o),i)),e&&($i(kF,i),$i(BigInt(r),i)),i.length>80)throw new Error(JSON.stringify({errCode:BF.ErrCodeOpreturnExceeds,date:{payloadLenth:i.length}}));let a=bS.compile([P3.OPS.OP_RETURN,P3.OPS.OP_13,A.Buffer.from(i)]);return{address:"",amount:0,omniScript:pfe.base.toHex(a)}}Nn.buildRuneMainMintOp=_fe});var NF=$(ou=>{k();M();var xfe=ou&&ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sfe=ou&&ou.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wfe=ou&&ou.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xfe(e,t,r);return Sfe(e,t),e};Object.defineProperty(ou,"__esModule",{value:!0});ou.RuneTestWallet=ou.RuneWallet=void 0;var Efe=vr(),Tfe=oc(),RF=wfe(Go()),MF=Go(),Afe=yS(),Ife=vr(),fb=class extends Tfe.BtcWallet{convert2RuneTx(e){let r=(0,Efe.cloneObject)(e);for(let f of r.inputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(l.amount=BigInt(l.amount))}for(let f of r.outputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(l.amount=BigInt(l.amount))}let n=r.inputs,i=new Map;for(let f of n){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p){let y=l.id,_=BigInt(l.amount);if(y==null||_==null)continue;let O=i.get(y);O==null?i.set(y,_):i.set(y,BigInt(O)+BigInt(_))}}let s=r.outputs,o=new Map;for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(p.amount);if(l==null||y==null)continue;let _=o.get(l);_==null?o.set(l,y):o.set(l,BigInt(_)+BigInt(y))}}let a=!1;for(let f of i.keys()){let p=i.get(f),l=o.get(f);(p!=null&&l!=null&&p>l||p!=null&&l==null)&&(a=!0),a=!0}let u=0,c=[];if(a){let f={address:r.address,amount:546};c.push(f),u++}let h=[];for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(p.amount);if(l==null||y==null)continue;let _={id:parseInt("0x"+l),amount:BigInt(y),output:u};h.push(_)}f.data=null,c.push(f),u++}return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:h,etching:r.runeData.etching,burn:r.runeData.burn}}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),o=this.getOpReturnOutput(r,s.runeData);return s.outputs.push(o),n=(0,MF.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}getOpReturnOutput(e,r){let n=!1;MF.networks.bitcoin===e&&(n=!0),r.edicts==null&&(r.edicts=[]);let i=(0,Afe.buildRuneData)(n,r.edicts);return{address:"",amount:0,omniScript:Ife.base.toHex(i)}}async estimateFee(e){try{if(!e.data.runeData)return Promise.reject("missing runeData");let r=this.convert2RuneTx(e.data),n=this.getOpReturnOutput(this.network(),r.runeData);r.outputs.push(n);let i=RF.estimateBtcFee(r,this.network());return Promise.resolve(i)}catch(r){return Promise.reject(r)}}};ou.RuneWallet=fb;var vS=class extends fb{network(){return RF.networks.testnet}};ou.RuneTestWallet=vS});var LF=$(dn=>{k();M();Object.defineProperty(dn,"__esModule",{value:!0});dn.isUpper=dn.commitment=dn.Tag=dn.Flag=dn.removeSpacers=dn.getSpacersVal=dn.applySpacers=dn.decodeLEB128=dn.encodeLEB128=dn.base26Decode=dn.base26Encode=void 0;var Pfe=vr();function FF(t){let e=0n;for(let r=0;r<t.length;r++){let n=BigInt(t.charCodeAt(r)-"A".charCodeAt(0)),i=BigInt(t.length)-1n-BigInt(r);if(i==0n)e+=n;else{let s=26n**i;e+=s*(n+1n)}}return e}dn.base26Encode=FF;function Ofe(t){if(t===340282366920938463463374607431768211455n)return"BCGDENLQRQWDSLRUGSNLBTMFIJAV";t+=1n;let e=[];for(;t>0;){let r=(t-1n)%26n;e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Number(r))),t=(t-1n)/26n}return e.reverse(),e.join("")}dn.base26Decode=Ofe;function Bfe(t){let e=[],r=!0;for(;r;){let n=Number(t&BigInt(127));t>>=BigInt(7),t===BigInt(0)?r=!1:n|=128,e.push(n)}return e}dn.encodeLEB128=Bfe;function Cfe(t){let e=BigInt(0);for(let r=0;r<t.length;r++){let n=BigInt(t[r]);if(r>18)throw new Error("Overlong");let i=n&BigInt(127);if(r==18&&(i&BigInt(124))!=BigInt(0))throw new Error("Overflow");if(e|=i<<BigInt(7)*BigInt(r),(n&BigInt(128))==BigInt(0))return{n:e,len:r+1}}throw new Error("Unterminated")}dn.decodeLEB128=Cfe;function kfe(t,e){let r="";for(let n=0;n<t.length;n++)r+=t.charAt(n),e>0&&((e&1)===1&&(r+="\u2022"),e>>=1);return r}dn.applySpacers=kfe;function Mfe(t){let e=0,r=0;for(let n=0;n<t.length;n++){let i=t.charAt(n);(i==="\u2022"||i==".")&&(e+=1<<n-1-r,r++)}return e}dn.getSpacersVal=Mfe;function HF(t){return t.replace(/[.]+/g,"")}dn.removeSpacers=HF;var Rfe;(function(t){t[t.Etching=0]="Etching",t[t.Terms=1]="Terms",t[t.Turbo=2]="Turbo",t[t.Cenotaph=127]="Cenotaph"})(Rfe=dn.Flag||(dn.Flag={}));var Nfe;(function(t){t[t.Body=0]="Body",t[t.Flags=2]="Flags",t[t.Rune=4]="Rune",t[t.Premine=6]="Premine",t[t.Cap=8]="Cap",t[t.Amount=10]="Amount",t[t.HeightStart=12]="HeightStart",t[t.HeightEnd=14]="HeightEnd",t[t.OffsetStart=16]="OffsetStart",t[t.OffsetEnd=18]="OffsetEnd",t[t.Mint=20]="Mint",t[t.Pointer=22]="Pointer",t[t.Cenotaph=126]="Cenotaph",t[t.Divisibility=1]="Divisibility",t[t.Spacers=3]="Spacers",t[t.Symbol=5]="Symbol",t[t.Nop=127]="Nop"})(Nfe=dn.Tag||(dn.Tag={}));function Ffe(t){let e;if(typeof t.value=="string"){let n=HF(t.value);if(!DF(n))throw new Error("invalid rune");e=FF(n)}else e=t.value;let r=e.toString(16);return r.length%2===1&&(r="0"+r),Pfe.base.fromHex(r).reverse()}dn.commitment=Ffe;function DF(t){return/^[A-Z]+$/.test(t)}dn.isUpper=DF});var WF=$(Nr=>{k();M();var Hfe=Nr&&Nr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dfe=Nr&&Nr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hb=Nr&&Nr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Hfe(e,t,r);return Dfe(e,t),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.buildRuneMainDeployData=Nr.inscribe=Nr.runesMainInscribe=Nr.checkEtching=Nr.MAX_SPACERS=Nr.uint64Max=Nr.uint128Max=Nr.RunesMainInscriptionTool=void 0;var Hn=hb(Ho()),Lfe=$c(),Qh=vr(),Ufe=hb(e0()),qfe=hb(vs()),$fe=Kh(),u0=Fo(),jfe=hb(Si()),UF=$7(),Fn=LF(),VF=Lfe.signUtil.schnorr.secp256k1.schnorr,qF=2,$F=4294967293,Kfe=546,Vfe=546,jF=4e6/10,Ap=class{constructor(){this.network=Hn.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Hn.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new Ap;n.network=e;let i=r.revealOutValue||Kfe,s=r.minChangeValue||Vfe,o=r.runeData.useDefaultOutput||!1,a=r.runeData.defaultOutput||0,u=r.commitTxPrevOutputList[0].privateKey;if(!r.runeData.etching||!r.runeData.revealAddr)throw new Error("etching is null");if(!GF(r.runeData.etching))throw new Error("invalid etching parameter");let c=r.runeData.etching,h=(0,Fn.commitment)(c.rune),f=zF(c,o,a);r.runeData.etching.contentType&&r.runeData.etching.body?n.inscriptionTxCtxDataList.push(Yfe(e,{contentType:r.runeData.etching.contentType,body:r.runeData.etching.body,revealAddr:r.runeData.revealAddr},u,h)):n.inscriptionTxCtxDataList.push(Wfe(e,u,r.runeData.revealAddr,h));let p=n.buildEmptyRevealTx(e,i,r.revealFeeRate,f);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,p,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n,i){let s=0,o=[],a=[],u=[];return this.inscriptionTxCtxDataList.forEach((c,h)=>{let f=new Hn.Transaction;f.version=qF,f.addInput(A.Buffer.alloc(32),h,$F),i&&f.addOutput(i,0),f.addOutput(c.revealPkScript,r);let p=A.Buffer.alloc(64),l=A.Buffer.alloc(33),y=[];y.push(p),y.push(c.inscriptionScript),y.push(l);let _=Math.floor((f.byteLength()+Math.floor(((0,$fe.vectorSize)(y)+2+3)/4))*n),O=r+_;c.revealTxPrevOutput={pkScript:c.commitTxAddressPkScript,value:O},s+=O,o.push(f),a.push(_),u.push(c.commitTxAddress)}),this.revealTxs=o,this.mustRevealTxFees=a,this.commitAddrs=u,s}buildCommitTx(e,r,n,i,s,o){let a=0,u=new Hn.Transaction;u.version=qF,r.forEach(y=>{let _=Qh.base.reverseBuffer(Qh.base.fromHex(y.txId));u.addInput(_,y.vOut,$F),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount}),this.inscriptionTxCtxDataList.forEach(y=>{u.addOutput(y.revealTxPrevOutput.pkScript,y.revealTxPrevOutput.value)});let c=Hn.address.toOutputScript(n,e);u.addOutput(c,0);let h=u.clone();KF(h,r.map(y=>({...y,privateKey:""})),this.network);let f=(0,UF.countAdjustedVsize)(h,r.map(y=>y.address),e),p=Math.floor(f*s),l=a-i-p;if(l>=o)u.outs[u.outs.length-1].value=l;else{u.outs=u.outs.slice(0,u.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);let y=(0,UF.countAdjustedVsize)(h,r.map(O=>O.address),e),_=Math.floor(y*s);if(a-i-_<0)return this.mustCommitTxFee=p,!0}return this.commitTx=u,!1}signCommitTx(e){KF(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,Hn.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),o=A.Buffer.from(VF.sign(s,this.inscriptionTxCtxDataList[r].privateKey,Qh.base.randomBytes(32)));e.ins[0].witness=[A.Buffer.from(o),...this.inscriptionTxCtxDataList[r].witness];let a=e.weight();if(a>jF)throw new Error(`reveal(index ${r}) transaction weight greater than ${jF} (MAX_STANDARD_TX_WEIGHT): ${a}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Nr.RunesMainInscriptionTool=Ap;Nr.uint128Max=(BigInt(1)<<BigInt(128))-BigInt(1);Nr.uint64Max=(BigInt(1)<<BigInt(64))-BigInt(1);var Gfe=38;Nr.MAX_SPACERS=134217727;function GF(t){let e=t.premine?BigInt(t.premine):BigInt(0);if(e>Nr.uint128Max||e<0)return!1;if(t.terms){let r=t.terms.amount?BigInt(t.terms.amount):BigInt(0),n=t.terms.cap?BigInt(t.terms.cap):BigInt(0);if(r<0||r>Nr.uint128Max||n<0||n>Nr.uint128Max||r*n>Nr.uint128Max||e+r*n>Nr.uint128Max||t.terms.height&&(t.terms.height.start&&(t.terms.height.start<0||t.terms.height.start>Nr.uint64Max)||t.terms.height.end&&(t.terms.height.end<0||t.terms.height.end>Nr.uint64Max)))return!1}return!(t.divisibility&&(t.divisibility<0||t.divisibility>Gfe)||typeof t.rune.value=="string"&&((0,Fn.getSpacersVal)(t.rune.value)>Nr.MAX_SPACERS||(0,Fn.base26Encode)((0,Fn.removeSpacers)(t.rune.value))>Nr.uint128Max))}Nr.checkEtching=GF;function zfe(t,e){let r=Ap.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Nr.runesMainInscribe=zfe;function KF(t,e,r){t.ins.forEach((n,i)=>{let s=(0,u0.getAddressType)(e[i].address,r);if(e[i].privateKey==""){let{witness:c,script:h}=(0,u0.fakeSign)(s);c!==void 0&&(n.witness=c),h!==void 0&&(n.script=h);return}let o=Qh.base.fromHex((0,u0.privateKeyFromWIF)(e[i].privateKey,r)),a=Qh.base.toHex(o),u=(0,u0.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>Hn.address.toOutputScript(y.address,r)),h=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,h,Hn.Transaction.SIGHASH_DEFAULT),p=Ufe.taprootTweakPrivKey(o),l=A.Buffer.from(VF.sign(f,p,Qh.base.randomBytes(32)));n.witness=[A.Buffer.from(l)]}else if(s==="legacy"){let c=Hn.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,Hn.Transaction.SIGHASH_ALL),f=(0,u0.sign)(h,a),p=Hn.payments.p2pkh({signature:Hn.script.signature.encode(f,Hn.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=qfe.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,Hn.Transaction.SIGHASH_ALL),l=(0,u0.sign)(p,a);n.witness=[Hn.script.signature.encode(l,Hn.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function Wfe(t,e,r,n){let i=Qh.base.fromHex((0,u0.privateKeyFromWIF)(e,t)),s=(0,u0.wif2Public)(e,t).slice(1),o=[];o.push(s);let a=Hn.script.OPS;o.push(a.OP_CHECKSIG),o.push(a.OP_FALSE),o.push(a.OP_IF),o.push(n),o.push(a.OP_ENDIF);let u=Hn.script.compile(o),c={output:u},h={output:u,redeemVersion:192},{output:f,witness:p,hash:l,address:y}=Hn.payments.p2tr({internalPubkey:s,scriptTree:c,redeem:h,network:t});return{privateKey:i,inscriptionScript:u,commitTxAddress:y,commitTxAddressPkScript:f,witness:p,hash:l,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:Hn.address.toOutputScript(r,t)}}function Yfe(t,e,r,n){let i=Qh.base.fromHex((0,u0.privateKeyFromWIF)(r,t)),s=(0,u0.wif2Public)(r,t).slice(1),o=Hn.script.OPS,a=[];a.push(s),a.push(o.OP_CHECKSIG),n&&n.length>0&&(a.push(n),a.push(o.OP_DROP)),a.push(o.OP_FALSE),a.push(o.OP_IF),a.push(A.Buffer.from("ord")),a.push(o.OP_DATA_1),a.push(o.OP_DATA_1),a.push(A.Buffer.from(e.contentType)),a.push(o.OP_0);let u=520,c=A.Buffer.from(e.body),h=c.length;for(let B=0;B<h;B+=u){let E=B+u;E>h&&(E=h),a.push(c.slice(B,E))}a.push(o.OP_ENDIF);let f=Hn.script.compile(a),p={output:f},l={output:f,redeemVersion:192},{output:y,witness:_,hash:O,address:F}=Hn.payments.p2tr({internalPubkey:s,scriptTree:p,redeem:l,network:t});return{privateKey:i,inscriptionScript:f,commitTxAddress:F,commitTxAddressPkScript:y,witness:_,hash:O,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:Hn.address.toOutputScript(e.revealAddr,t)}}function Xfe(t,e){let r=Ap.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Nr.inscribe=Xfe;function zF(t,e,r){let n=Jfe(t,e,r),i=Zfe(n),s=A.Buffer.from("6a5d","hex"),o;if(i.length<76)o=A.Buffer.alloc(1),o.writeUint8(i.length);else if(i.length<256)o=A.Buffer.alloc(2),o.writeUint8(76),o.writeUint8(i.length,1);else if(i.length<65536)o=A.Buffer.alloc(3),o.writeUint8(77),o.writeUint16LE(i.length,1);else if(i.length<4294967296)o=A.Buffer.alloc(5),o.writeUint8(78),o.writeUint32LE(i.length,1);else throw new Error("runestone too big!");return jfe.compile(A.Buffer.concat([s,o,i]))}Nr.buildRuneMainDeployData=zF;function Zfe(t){let e=[];for(let[r,n]of t)for(let i of n){let s=A.Buffer.alloc(1);s.writeUInt8(r),e.push(s),e.push(A.Buffer.from((0,Fn.encodeLEB128)(i)))}return A.Buffer.concat(e)}function Jfe(t,e,r){let n=new Map,i=1;if(t.terms){let o=1<<Fn.Flag.Terms;i|=o}if(t.turbo){let o=1<<Fn.Flag.Turbo;i|=o}n.set(Fn.Tag.Flags,[BigInt(i)]);let s;if(typeof t.rune.value=="string"?s=(0,Fn.base26Encode)((0,Fn.removeSpacers)(t.rune.value)):s=t.rune.value,n.set(Fn.Tag.Rune,[BigInt(s)]),t.divisibility&&n.set(Fn.Tag.Divisibility,[BigInt(t.divisibility)]),t.spacers)n.set(Fn.Tag.Spacers,[BigInt(t.spacers)]);else{let o;typeof t.rune.value=="bigint"?o=0:o=(0,Fn.getSpacersVal)(t.rune.value),o!==0&&n.set(Fn.Tag.Spacers,[BigInt(o)])}if(t.symbol&&n.set(Fn.Tag.Symbol,[BigInt(t.symbol.charCodeAt(0))]),t.premine&&n.set(Fn.Tag.Premine,[BigInt(t.premine)]),t.terms){if(t.terms.amount&&n.set(Fn.Tag.Amount,[BigInt(t.terms.amount)]),t.terms.cap&&n.set(Fn.Tag.Cap,[BigInt(t.terms.cap)]),t.terms.height){let o=t.terms.height.start;o&&n.set(Fn.Tag.HeightStart,[BigInt(o)]);let a=t.terms.height.end;a&&n.set(Fn.Tag.HeightEnd,[BigInt(a)])}if(t.terms.offset){let o=t.terms.offset.start;o&&n.set(Fn.Tag.OffsetStart,[BigInt(o)]);let a=t.terms.offset.end;a&&n.set(Fn.Tag.OffsetEnd,[BigInt(a)])}}return e&&r&&n.set(Fn.Tag.Pointer,[BigInt(r)]),n}});var YF=$(jn=>{k();M();var Qfe=jn&&jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ehe=jn&&jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),the=jn&&jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qfe(e,t,r);return ehe(e,t),e};Object.defineProperty(jn,"__esModule",{value:!0});jn.RuneMainTestWallet=jn.RuneMainWallet=jn.ErrCodeMultipleRuneId=jn.ErrCodeRuneIdNotStandard=jn.ErrCodeOpreturnExceeds=jn.ErrCodeLessRunesMainAmt=void 0;var h6=vr(),rhe=oc(),Ip=the(Go()),au=Go(),_S=yS(),nhe=vr(),ihe=WF();jn.ErrCodeLessRunesMainAmt=2010300;jn.ErrCodeOpreturnExceeds=2010301;jn.ErrCodeRuneIdNotStandard=2010302;jn.ErrCodeMultipleRuneId=2010303;var lb=class extends rhe.BtcWallet{convert2RuneTx(e){let r=(0,h6.cloneObject)(e);r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput==null&&(r.runeData.defaultOutput=0),r.runeData.mint==!0&&r.runeData.mintNum==null&&(r.runeData.mintNUm=1);for(let f of r.inputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(r.runeData.mint?l.amount=BigInt(1):l.amount=BigInt(l.amount))}for(let f of r.outputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(r.runeData.mint?l.amount=BigInt(1):l.amount=BigInt(l.amount))}let n=r.inputs,i=new Map;for(let f of n){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p){let y=l.id,_=BigInt(1);if(r.runeData.mint||(_=BigInt(l.amount)),y==null||_==null)continue;if(y.split(":").length<=1)throw new Error(JSON.stringify({errCode:jn.ErrCodeRuneIdNotStandard,date:{runeId:y}}));let O=i.get(y);O==null?i.set(y,_):i.set(y,BigInt(O)+BigInt(_))}}if(i.size>1)throw new Error(JSON.stringify({errCode:jn.ErrCodeMultipleRuneId,date:{runeInputMapSize:i.size}}));let s=r.outputs,o=new Map;for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(1);if(r.runeData.mint||(y=BigInt(p.amount)),l==null||y==null)continue;let _=o.get(l);_==null?o.set(l,y):o.set(l,BigInt(_)+BigInt(y))}}let a=!1;for(let f of i.keys()){let p=i.get(f),l=o.get(f);(p!=null&&l!=null&&p>l||p!=null&&l==null)&&r.runeData.useDefaultOutput==!1&&(a=!0)}let u=0,c=[];if(a){let f={address:r.address,amount:546};c.push(f),u++}let h=[];for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(1);if(r.runeData.mint||(y=BigInt(p.amount)),l==null||y==null)continue;let _={block:parseInt(l.split(":")[0]),id:parseInt(l.split(":")[1]),amount:BigInt(y),output:u};h.push(_)}f.data=null,c.push(f),u++}if(r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput>c.length-1)throw new Error(JSON.stringify({errCode:jn.ErrCodeLessRunesMainAmt,date:{defaultOutput:r.runeData.defaultOutput,ouputLenth:c.length}}));return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:h,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}getMockMinRuneTx(e,r){let n=(0,h6.cloneObject)(e),i=[],s={block:parseInt(r.id.split(":")[0]),id:parseInt(r.id.split(":")[1]),amount:BigInt(1),output:0};return i.push(s),{inputs:[{txId:n.inputs[0].txId,vOut:0,amount:600,data:[r]}],outputs:[{address:n.address,amount:546,data:r}],address:n.address,feePerB:n.feePerB,runeData:{edicts:i,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}getMinRuneTx(e,r,n,i){let s=(0,h6.cloneObject)(e);return{inputs:[n],outputs:[i],address:s.address,feePerB:s.feePerB,RuneData:s.runeData}}async signTransaction(e){let r=this.network(),n=null;if(e.data.runeData.etching)try{return Promise.resolve((0,ihe.runesMainInscribe)(r,e.data))}catch{return Promise.reject(h6.SignTxError)}else if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),o=this.getRuneMainOpReturnOutput(r,s.runeData);return s.outputs.push(o),n=(0,au.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}else if(e.data.runeData.mint&&!e.data.runeData.serialMint)try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let o={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},a=this.getMockMinRuneTx(e.data,o),u=this.getRuneMainOpReturnOutput(r,a.runeData);a.outputs.push(u),n=(0,au.signBtc)(a,s,r);let c=Ip.estimateBtcFee(a,this.network())+546,h=this.convert2RuneTx(e.data),f=h.outputs.length;for(let y=0;y<o.mintNum-1;y++)h.outputs.push({address:e.data.address,amount:c});let p=this.getRuneMainOpReturnOutput(r,h.runeData);h.outputs.push(p),n=(0,au.signBtc)(h,s,r);let l=au.Transaction.fromHex(n).getId();i.push(n);for(let y=0;y<o.mintNum-1;y++){let _={txId:l,vOut:f,address:e.data.address,amount:c,data:[o]},O={address:e.data.address,amount:546};f+=1;let F=this.getMinRuneTx(e.data,o,_,O);F.outputs.push(p);let B=(0,au.signBtc)(F,s,r);i.push(B)}return Promise.resolve(i)}catch(i){return Promise.reject(i)}else try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let o={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},a=this.getMockMinRuneTx(e.data,o),u=(0,_S.buildRuneMainMintOp)(o.id,!1,0,!0);a.outputs.push(u);let c=Ip.estimateBtcFee(a,this.network()),h=(o.mintNum-1)*c+546,f=this.convert2RuneTxSerialMint(e.data,h);f.outputs.push(u),n=(0,au.signBtc)(f,s,r);let p=au.Transaction.fromHex(n).getId();i.push(n);for(let l=1;l<o.mintNum;l++){let y={txId:p,vOut:0,address:e.data.address,amount:h};h=h-c;let _={address:e.data.address,amount:h},O=this.getMinRuneTx(e.data,o,y,_);O.outputs.push(u);let F=(0,au.signBtc)(O,s,r);p=au.Transaction.fromHex(F).getId(),i.push(F)}return i}catch(i){return Promise.reject(i)}}getRuneMainOpReturnOutput(e,r){let n=!1;au.networks.bitcoin===e&&(n=!0),r.useDefaultOutput==null&&(r.useDefaultOutput=!1),r.defaultOutput==null&&(r.defaultOutput=0),r.mint==null&&(r.mint=!1),r.mintNum==null&&(r.mintNum=0);let i=(0,_S.buildRuneMainMintData)(n,r.edicts,r.useDefaultOutput,r.defaultOutput,r.mint,r.mintNum);return{address:"",amount:0,omniScript:nhe.base.toHex(i)}}async estimateFee(e){try{let r=this.network();if(!e.data.runeData)return Promise.reject("missing runeData");let n=this.convert2RuneTx(e.data),i=this.getRuneMainOpReturnOutput(this.network(),n.runeData);n.outputs.push(i);let s={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum};for(let a=0;a<s.mintNum-1;a++)n.outputs.push({address:e.data.address,amount:8e3});let o=Ip.estimateBtcFee(n,this.network());if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)return Promise.resolve(o);if(e.data.runeData.mint&&!e.data.runeData.serialMint){let a=[];a.push(o);let u={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},c=this.getMockMinRuneTx(e.data,u),h=this.getRuneMainOpReturnOutput(this.network(),c.runeData);c.outputs.push(h);let f=Ip.estimateBtcFee(c,this.network());for(let p=0;p<e.data.runeData.mintNum-1;p++)a.push(f);return Promise.resolve(a)}else if(e.data.runeData.mint&&e.data.runeData.serialMint){let a=[];if(!e.data.runeData)return Promise.reject("missing runeData");let u={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},c=this.getMockMinRuneTx(e.data,u),h=(0,_S.buildRuneMainMintOp)(u.id,!1,0,!0);c.outputs.push(h);let f=Ip.estimateBtcFee(c,this.network()),p=(u.mintNum-1)*f+546,l=this.convert2RuneTxSerialMint(e.data,p);l.outputs.push(h);let y=Ip.estimateBtcFee(l,r);a.push(y);for(let _=1;_<u.mintNum;_++)a.push(f);return Promise.resolve(a)}}catch(r){return Promise.reject(r)}}convert2RuneTxSerialMint(e,r){let n=(0,h6.cloneObject)(e),i=[{address:n.address,amount:r}];return{inputs:n.inputs,outputs:i,address:n.address,feePerB:n.feePerB,runeData:{edicts:n.runeData.edicts,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}convert2RuneTxPsbt(e){let r=(0,h6.cloneObject)(e);return{inputs:r.inputs,outputs:r.outputs,address:r.address,feePerB:r.feePerB,runeData:{edicts:r.runeData.edicts,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}async buildPsbt(e){let r=this.network(),n=null;try{if(!e.data.runeData)return Promise.reject("missing runeData");let i=this.convert2RuneTxPsbt(e.data),s=this.getRuneMainOpReturnOutput(r,i.runeData);i.outputs.push(s);let o="KwdkfXMV2wxDVDMPPuFZsio3NeCskAUd4N2U4PriTgpj2MqAGmmc";i.dustSize==null&&(i.dustSize=546);let{inputAmount:a,outputAmount:u,virtualSize:c}=(0,au.calculateTxSize)(i.inputs,i.outputs,i.address,o,r,i.dustSize),h=a-u-Math.ceil(c*i.feePerB);h>i.dustSize&&i.outputs.push({address:i.address,amount:h});let p=[(0,au.buildPsbt)(i,r),h];return Promise.resolve(p)}catch(i){return Promise.reject(i)}}};jn.RuneMainWallet=lb;var xS=class extends lb{network(){return Ip.networks.testnet}};jn.RuneMainTestWallet=xS});var ZF=$(mr=>{k();M();var she=mr&&mr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ohe=mr&&mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ahe=mr&&mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&she(e,t,r);return ohe(e,t),e};Object.defineProperty(mr,"__esModule",{value:!0});mr.AtomicalTestWallet=mr.AtomicalWallet=mr.ErrCodeInvalidInputAsset=mr.ErrCodeAtomicalNotFullyAllocated=mr.ErrCodeSemiColorOuput=mr.ErrCodeMul=mr.ErrCodeUnknownAsset=mr.ErrCodeCommon=mr.ErrCodeVoutDust=mr.ErrCodeAtomicalChangeFail=mr.ErrCodeLessAtomicalAmt=void 0;var uhe=vr(),che=oc(),XF=ahe(Go()),fhe=Go();mr.ErrCodeLessAtomicalAmt=2011400;mr.ErrCodeAtomicalChangeFail=2011401;mr.ErrCodeVoutDust=2011402;mr.ErrCodeCommon=2011403;mr.ErrCodeUnknownAsset=2011404;mr.ErrCodeMul=2011420;mr.ErrCodeSemiColorOuput=2011405;mr.ErrCodeAtomicalNotFullyAllocated=2011406;mr.ErrCodeInvalidInputAsset=2011407;var db=class extends che.BtcWallet{convert2AtomicalTx(e){let r=(0,uhe.cloneObject)(e),n=new Map,i=new Map,s=new Map,o=[],a=r.feePerB||10,u=r.dustSize||546,c=r.inputs;for(let p of c){let l=p.data;if(l!=null&&l instanceof Array)for(let y of l){let _=y.atomicalId,O=y.type,F=Number(y.amount);if(_==null||F==null||O==null||O!="FT"&&O!="NFT")continue;if(F>p.amount)throw new Error(JSON.stringify({errCode:mr.ErrCodeInvalidInputAsset}));i.get(_)==null&&i.set(_,O);let B=n.get(_);B==null?n.set(_,F):n.set(_,B+F)}if(Object.keys(n).length>1)throw new Error(JSON.stringify({errCode:mr.ErrCodeMul}))}let h=r.outputs,f=0;for(let p of h){let l=p.data;if(l!=null&&l instanceof Array)for(let y of l){let _=y.atomicalId,O=Number(y.amount),F=y.type;if(F=="FT"&&O!=p.amount&&O>u)throw new Error(JSON.stringify({errCode:mr.ErrCodeSemiColorOuput}));if(_==null||O==null||F==null||F!="FT"&&F!="NFT")continue;if(F=="FT"&&O!=p.amount&&(f+=1,f==2))throw new Error(JSON.stringify({errCode:mr.ErrCodeSemiColorOuput}));if(i.get(_)!=F)throw new Error(JSON.stringify({errCode:mr.ErrCodeUnknownAsset}));let B=s.get(_);if(B==null)s.set(_,O);else if(s.set(_,B+O),F=="NFT")throw new Error(JSON.stringify({errCode:mr.ErrCodeMul}))}if(Object.keys(s).length>1)throw new Error(JSON.stringify({errCode:mr.ErrCodeMul}));o.push({amount:p.amount,address:p.address})}for(let p of n.keys()){let l=n.get(p),y=s.get(p);if(l!=y)throw new Error(JSON.stringify({errCode:mr.ErrCodeAtomicalNotFullyAllocated,date:{atomicalId:p,inputAmount:l,sendAmount:y}}))}for(let[p,l]of o.entries())if(l.amount<u)throw new Error(JSON.stringify({errCode:mr.ErrCodeVoutDust,vOut:p}));return{inputs:r.inputs,outputs:o,address:r.address,feePerB:a}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey,s=this.convert2AtomicalTx(e.data);return n=(0,fhe.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}async estimateFee(e){try{let r=this.convert2AtomicalTx(e.data),n=XF.estimateBtcFee(r,this.network());return Promise.resolve(n)}catch(r){return Promise.reject(r)}}};mr.AtomicalWallet=db;var SS=class extends db{network(){return XF.networks.testnet}};mr.AtomicalTestWallet=SS});var JF=$(pb=>{k();M();Object.defineProperty(pb,"__esModule",{value:!0});pb.MAX_TOTAL_SUPPLY=void 0;var hhe=2147483647n;pb.MAX_TOTAL_SUPPLY=hhe});var wS=$(Vs=>{k();M();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.MinterType=Vs.CHANGE_MIN_POSTAGE=Vs.Postage=Vs.SupportedNetwork=Vs.CatAddressType=void 0;var lhe;(function(t){t.P2WPKH="p2wpkh",t.P2TR="p2tr"})(lhe=Vs.CatAddressType||(Vs.CatAddressType={}));var dhe;(function(t){t.btcSignet="btc-signet",t.fractalMainnet="fractal-mainnet",t.fractalTestnet="fractal-testnet"})(dhe=Vs.SupportedNetwork||(Vs.SupportedNetwork={}));var phe;(function(t){t[t.METADATA_POSTAGE=546]="METADATA_POSTAGE",t[t.GUARD_POSTAGE=332]="GUARD_POSTAGE",t[t.MINTER_POSTAGE=331]="MINTER_POSTAGE",t[t.TOKEN_POSTAGE=330]="TOKEN_POSTAGE"})(phe=Vs.Postage||(Vs.Postage={}));Vs.CHANGE_MIN_POSTAGE=546;var mhe;(function(t){t.OPEN_MINTER_V1="21cbd2e538f2b6cc40ee180e174f1e25",t.OPEN_MINTER_V2="a6c2e92d74a23c07bb6220b676c6cb9b",t.UNKOWN_MINTER="unkown_minter"})(mhe=Vs.MinterType||(Vs.MinterType={}))});var eH=$(QF=>{k();M();Object.defineProperty(QF,"__esModule",{value:!0})});var rH=$(mb=>{k();M();Object.defineProperty(mb,"__esModule",{value:!0});mb.isOpenMinter=void 0;var tH=wS();function ghe(t){return tH.MinterType.OPEN_MINTER_V1===t||tH.MinterType.OPEN_MINTER_V2===t}mb.isOpenMinter=ghe});var iH=$((kGe,nH)=>{k();M();nH.exports="0.5.7"});var ES=$((NGe,oH)=>{k();M();var bhe={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"};function yhe(t){return t>=55296&&t<=56319}function vhe(t){return t>=56320&&t<=57343}function sH(t){return typeof t.pipe=="function"&&typeof t._read=="function"&&typeof t._readableState=="object"&&t._readableState!==null}function _he(t,e,r,n){switch(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),n!==null&&(r=n.call(t,String(e),r)),typeof r){case"function":case"symbol":r=void 0;break;case"object":if(r!==null){let i=r.constructor;(i===String||i===Number||i===Boolean)&&(r=r.valueOf())}break}return r}function xhe(t){return t===null||typeof t!="object"?1:Array.isArray(t)?3:2}function She(t){return t===null||typeof t!="object"?1:typeof t.then=="function"?4:sH(t)?t._readableState.objectMode?6:5:Array.isArray(t)?3:2}function whe(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(r=>{let n=r&&r.constructor;return n===String||n===Number?String(r):null}).filter(r=>typeof r=="string"))]:null}function Ehe(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}oH.exports={escapableCharCodeSubstitution:bhe,isLeadingSurrogate:yhe,isTrailingSurrogate:vhe,type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:sH,replaceValue:_he,getTypeNative:xhe,getTypeAsync:She,normalizeReplacer:whe,normalizeSpace:Ehe}});var fH=$((DGe,cH)=>{k();M();var{normalizeReplacer:The,normalizeSpace:Ahe,replaceValue:Ihe,getTypeNative:Phe,getTypeAsync:Ohe,isLeadingSurrogate:Bhe,isTrailingSurrogate:Che,escapableCharCodeSubstitution:khe,type:{PRIMITIVE:aH,OBJECT:Mhe,ARRAY:Rhe,PROMISE:Nhe,STRING_STREAM:Fhe,OBJECT_STREAM:Hhe}}=ES(),Dhe=Array.from({length:2048}).map((t,e)=>khe.hasOwnProperty(e)?2:e<32?6:e<128?1:2);function uH(t){let e=0,r=!1;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<2048)e+=Dhe[i];else if(Bhe(i)){e+=6,r=!0;continue}else Che(i)?e=r?e-2:e+6:e+=3;r=!1}return e+2}function Lhe(t){switch(typeof t){case"string":return uH(t);case"number":return Number.isFinite(t)?String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function Uhe(t){return t=Ahe(t),typeof t=="string"?t.length:0}cH.exports=function(e,r,n,i){function s(O,F,B){if(y)return;B=Ihe(O,F,B,r);let E=p(B);if(E!==aH&&u.has(B)){h.add(B),_+=4,i.continueOnCircular||(y=!0);return}switch(E){case aH:B!==void 0||Array.isArray(O)?_+=Lhe(B):O===l&&(_+=9);break;case Mhe:{if(a.has(B)){c.add(B),_+=a.get(B);break}let I=_,L=0;_+=2,u.add(B);for(let N in B)if(hasOwnProperty.call(B,N)&&(o===null||o.has(N))){let H=_;s(B,N,B[N]),H!==_&&(_+=uH(N)+1,L++)}L>1&&(_+=L-1),u.delete(B),n>0&&L>0&&(_+=(1+(u.size+1)*n+1)*L,_+=1+u.size*n),a.set(B,_-I);break}case Rhe:{if(a.has(B)){c.add(B),_+=a.get(B);break}let I=_;_+=2,u.add(B);for(let L=0;L<B.length;L++)s(B,L,B[L]);B.length>1&&(_+=B.length-1),u.delete(B),n>0&&B.length>0&&(_+=(1+(u.size+1)*n)*B.length,_+=1+u.size*n),a.set(B,_-I);break}case Nhe:case Fhe:f.add(B);break;case Hhe:_+=2,f.add(B);break}}let o=null;r=The(r),Array.isArray(r)&&(o=new Set(r),r=null),n=Uhe(n),i=i||{};let a=new Map,u=new Set,c=new Set,h=new Set,f=new Set,p=i.async?Ohe:Phe,l={"":e},y=!1,_=0;return s(l,"",e),{minLength:isNaN(_)?1/0:_,circular:[...h],duplicate:[...c],async:[...f]}}});var lH=$((qGe,hH)=>{k();M();hH.exports=()=>{throw new Error("Method is not supported")}});var pH=$((KGe,dH)=>{k();M();dH.exports=TextDecoder});var bH=$((zGe,gH)=>{k();M();var{isReadableStream:qhe}=ES(),$he=pH(),O3=1,jhe=2,Khe=new $he;function mH(t){return t!==null&&typeof t=="object"}function TS(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(r,n)=>"at position "+(Number(n)+e.jsonParseOffset))),t}function Vhe(t,e){let r=t.length;t.length+=e.length;for(let n=0;n<e.length;n++)t[r+n]=e[n]}gH.exports=function(t){let e=new AS;if(mH(t)&&qhe(t))return new Promise((r,n)=>{t.on("data",i=>{try{e.push(i)}catch(s){n(TS(s,e)),e=null}}).on("error",i=>{e=null,n(i)}).on("end",()=>{try{r(e.finish())}catch(i){n(TS(i,e))}finally{e=null}})});if(typeof t=="function"){let r=t();if(mH(r)&&(Symbol.iterator in r||Symbol.asyncIterator in r))return new Promise(async(n,i)=>{try{for await(let s of r)e.push(s);n(e.finish())}catch(s){i(TS(s,e))}finally{e=null}})}throw new Error("Chunk emitter should be readable stream, generator, async generator or function returning an iterable object")};var AS=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,r){this.stack[this.lastFlushDepth-1]===O3?(r&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(r&&(this.jsonParseOffset--,e="["+e+"]"),Vhe(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:r}=this.valueStack;if(Array.isArray(r)?r.length!==0:Object.keys(r).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,r,n){let i=e.slice(r,n);if(this.jsonParseOffset=this.chunkOffset+r,this.pendingChunk!==null&&(i=this.pendingChunk+i,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(i),!0):(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let s=this.flushDepth-1;s>=this.lastFlushDepth;s--)i+=this.stack[s]===O3?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(i),!0);for(let s=this.lastFlushDepth||1;s<this.flushDepth;s++){let o=this.valueStack.value;if(this.stack[s-1]===O3){let a;for(a in o);o=o[a]}else o=o[o.length-1];this.valueStack={value:o,prev:this.valueStack}}}else{i=this.prepareAddition(i);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.jsonParseOffset--,i=(this.stack[s]===O3?"{":"[")+i;this.parseAndAppend(i,!1);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let s=e;e=new Uint8Array(this.pendingByteSeq.length+s.length),e.set(this.pendingByteSeq),e.set(s,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let s=0;s<e.length;s++){let o=e[e.length-1-s];if(o>>6===3){s++,(s!==4&&o>>3===30||s!==3&&o>>4===14||s!==2&&o>>5===6)&&(this.pendingByteSeq=e.slice(e.length-s),e=e.slice(0,-s));break}}e=Khe.decode(e)}let r=e.length,n=0,i=0;e:for(let s=0;s<r;s++){if(this.stateString){for(;s<r;s++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(s)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(s)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:i=s;break;case 123:i=s+1,this.stack[this.flushDepth++]=O3;break;case 91:i=s+1,this.stack[this.flushDepth++]=jhe;break;case 93:case 125:i=s+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,n,i),n=i);break;case 9:case 10:case 13:case 32:n===s&&n++,i===s&&i++;break}}i>n&&this.flush(e,n,i),i<r&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(i,r)),this.chunkOffset+=r}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var vH=$((XGe,yH)=>{k();M();yH.exports={version:iH(),stringifyInfo:fH(),stringifyStream:lH(),parseChunked:bH()}});var xH=$((QGe,_H)=>{k();M();var gb=q_().Buffer;function Ghe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(l){if((Array.isArray(l)||l instanceof Uint8Array)&&(l=gb.from(l)),!gb.isBuffer(l))throw new TypeError("Expected Buffer");if(l.length===0)return"";for(var y=0,_=0,O=0,F=l.length;O!==F&&l[O]===0;)O++,y++;for(var B=(F-O)*c+1>>>0,E=new Uint8Array(B);O!==F;){for(var I=l[O],L=0,N=B-1;(I!==0||L<_)&&N!==-1;N--,L++)I+=256*E[N]>>>0,E[N]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");_=L,O++}for(var H=B-_;H!==B&&E[H]===0;)H++;for(var D=a.repeat(y);H<B;++H)D+=t.charAt(E[H]);return D}function f(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return gb.alloc(0);var y=0;if(l[y]!==" "){for(var _=0,O=0;l[y]===a;)_++,y++;for(var F=(l.length-y)*u+1>>>0,B=new Uint8Array(F);l[y];){var E=e[l.charCodeAt(y)];if(E===255)return;for(var I=0,L=F-1;(E!==0||I<O)&&L!==-1;L--,I++)E+=o*B[L]>>>0,B[L]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");O=I,y++}if(l[y]!==" "){for(var N=F-O;N!==F&&B[N]===0;)N++;var H=gb.allocUnsafe(_+(F-N));H.fill(0,0,_);for(var D=_;N!==F;)H[D++]=B[N++];return H}}}function p(l){var y=f(l);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:p}}_H.exports=Ghe});var wH=$((rze,SH)=>{k();M();var zhe=xH(),Whe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";SH.exports=zhe(Whe)});var EH=$((sze,IS)=>{k();M();typeof Object.create=="function"?IS.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:IS.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var AH=$((PS,TH)=>{k();M();(function(t){"use strict";function e(x){return parseInt(x)===x}function r(x){if(!e(x.length))return!1;for(var P=0;P<x.length;P++)if(!e(x[P])||x[P]<0||x[P]>255)return!1;return!0}function n(x,P){if(x.buffer&&x.name==="Uint8Array")return P&&(x.slice?x=x.slice():x=Array.prototype.slice.call(x)),x;if(Array.isArray(x)){if(!r(x))throw new Error("Array contains invalid value: "+x);return new Uint8Array(x)}if(e(x.length)&&r(x))return new Uint8Array(x);throw new Error("unsupported array-like object")}function i(x){return new Uint8Array(x)}function s(x,P,U,K,z){(K!=null||z!=null)&&(x.slice?x=x.slice(K,z):x=Array.prototype.slice.call(x,K,z)),P.set(x,U)}var o=function(){function x(U){var K=[],z=0;for(U=encodeURI(U);z<U.length;){var Q=U.charCodeAt(z++);Q===37?(K.push(parseInt(U.substr(z,2),16)),z+=2):K.push(Q)}return n(K)}function P(U){for(var K=[],z=0;z<U.length;){var Q=U[z];Q<128?(K.push(String.fromCharCode(Q)),z++):Q>191&&Q<224?(K.push(String.fromCharCode((Q&31)<<6|U[z+1]&63)),z+=2):(K.push(String.fromCharCode((Q&15)<<12|(U[z+1]&63)<<6|U[z+2]&63)),z+=3)}return K.join("")}return{toBytes:x,fromBytes:P}}(),a=function(){function x(K){for(var z=[],Q=0;Q<K.length;Q+=2)z.push(parseInt(K.substr(Q,2),16));return z}var P="0123456789abcdef";function U(K){for(var z=[],Q=0;Q<K.length;Q++){var oe=K[Q];z.push(P[(oe&240)>>4]+P[oe&15])}return z.join("")}return{toBytes:x,fromBytes:U}}(),u={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],l=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],_=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],O=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],F=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],B=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],E=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],I=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],L=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],N=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],H=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function D(x){for(var P=[],U=0;U<x.length;U+=4)P.push(x[U]<<24|x[U+1]<<16|x[U+2]<<8|x[U+3]);return P}var C=function(x){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(x,!0)}),this._prepare()};C.prototype._prepare=function(){var x=u[this.key.length];if(x==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var P=0;P<=x;P++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var U=(x+1)*4,K=this.key.length/4,z=D(this.key),Q,P=0;P<K;P++)Q=P>>2,this._Ke[Q][P%4]=z[P],this._Kd[x-Q][P%4]=z[P];for(var oe=0,ie=K,q;ie<U;){if(q=z[K-1],z[0]^=h[q>>16&255]<<24^h[q>>8&255]<<16^h[q&255]<<8^h[q>>24&255]^c[oe]<<24,oe+=1,K!=8)for(var P=1;P<K;P++)z[P]^=z[P-1];else{for(var P=1;P<K/2;P++)z[P]^=z[P-1];q=z[K/2-1],z[K/2]^=h[q&255]^h[q>>8&255]<<8^h[q>>16&255]<<16^h[q>>24&255]<<24;for(var P=K/2+1;P<K;P++)z[P]^=z[P-1]}for(var P=0,X,J;P<K&&ie<U;)X=ie>>2,J=ie%4,this._Ke[X][J]=z[P],this._Kd[x-X][J]=z[P++],ie++}for(var X=1;X<x;X++)for(var J=0;J<4;J++)q=this._Kd[X][J],this._Kd[X][J]=I[q>>24&255]^L[q>>16&255]^N[q>>8&255]^H[q&255]},C.prototype.encrypt=function(x){if(x.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var P=this._Ke.length-1,U=[0,0,0,0],K=D(x),z=0;z<4;z++)K[z]^=this._Ke[0][z];for(var Q=1;Q<P;Q++){for(var z=0;z<4;z++)U[z]=p[K[z]>>24&255]^l[K[(z+1)%4]>>16&255]^y[K[(z+2)%4]>>8&255]^_[K[(z+3)%4]&255]^this._Ke[Q][z];K=U.slice()}for(var oe=i(16),ie,z=0;z<4;z++)ie=this._Ke[P][z],oe[4*z]=(h[K[z]>>24&255]^ie>>24)&255,oe[4*z+1]=(h[K[(z+1)%4]>>16&255]^ie>>16)&255,oe[4*z+2]=(h[K[(z+2)%4]>>8&255]^ie>>8)&255,oe[4*z+3]=(h[K[(z+3)%4]&255]^ie)&255;return oe},C.prototype.decrypt=function(x){if(x.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var P=this._Kd.length-1,U=[0,0,0,0],K=D(x),z=0;z<4;z++)K[z]^=this._Kd[0][z];for(var Q=1;Q<P;Q++){for(var z=0;z<4;z++)U[z]=O[K[z]>>24&255]^F[K[(z+3)%4]>>16&255]^B[K[(z+2)%4]>>8&255]^E[K[(z+1)%4]&255]^this._Kd[Q][z];K=U.slice()}for(var oe=i(16),ie,z=0;z<4;z++)ie=this._Kd[P][z],oe[4*z]=(f[K[z]>>24&255]^ie>>24)&255,oe[4*z+1]=(f[K[(z+3)%4]>>16&255]^ie>>16)&255,oe[4*z+2]=(f[K[(z+2)%4]>>8&255]^ie>>8)&255,oe[4*z+3]=(f[K[(z+1)%4]&255]^ie)&255;return oe};var d=function(x){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(x)};d.prototype.encrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var P=i(x.length),U=i(16),K=0;K<x.length;K+=16)s(x,U,0,K,K+16),U=this._aes.encrypt(U),s(U,P,K);return P},d.prototype.decrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var P=i(x.length),U=i(16),K=0;K<x.length;K+=16)s(x,U,0,K,K+16),U=this._aes.decrypt(U),s(U,P,K);return P};var v=function(x,P){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!P)P=i(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(P,!0),this._aes=new C(x)};v.prototype.encrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var P=i(x.length),U=i(16),K=0;K<x.length;K+=16){s(x,U,0,K,K+16);for(var z=0;z<16;z++)U[z]^=this._lastCipherblock[z];this._lastCipherblock=this._aes.encrypt(U),s(this._lastCipherblock,P,K)}return P},v.prototype.decrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var P=i(x.length),U=i(16),K=0;K<x.length;K+=16){s(x,U,0,K,K+16),U=this._aes.decrypt(U);for(var z=0;z<16;z++)P[K+z]=U[z]^this._lastCipherblock[z];s(x,this._lastCipherblock,0,K,K+16)}return P};var g=function(x,P,U){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!P)P=i(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");U||(U=1),this.segmentSize=U,this._shiftRegister=n(P,!0),this._aes=new C(x)};g.prototype.encrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var P=n(x,!0),U,K=0;K<P.length;K+=this.segmentSize){U=this._aes.encrypt(this._shiftRegister);for(var z=0;z<this.segmentSize;z++)P[K+z]^=U[z];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(P,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return P},g.prototype.decrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var P=n(x,!0),U,K=0;K<P.length;K+=this.segmentSize){U=this._aes.encrypt(this._shiftRegister);for(var z=0;z<this.segmentSize;z++)P[K+z]^=U[z];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(x,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return P};var m=function(x,P){if(!(this instanceof m))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!P)P=i(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(P,!0),this._lastPrecipherIndex=16,this._aes=new C(x)};m.prototype.encrypt=function(x){for(var P=n(x,!0),U=0;U<P.length;U++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),P[U]^=this._lastPrecipher[this._lastPrecipherIndex++];return P},m.prototype.decrypt=m.prototype.encrypt;var S=function(x){if(!(this instanceof S))throw Error("Counter must be instanitated with `new`");x!==0&&!x&&(x=1),typeof x=="number"?(this._counter=i(16),this.setValue(x)):this.setBytes(x)};S.prototype.setValue=function(x){if(typeof x!="number"||parseInt(x)!=x)throw new Error("invalid counter value (must be an integer)");if(x>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var P=15;P>=0;--P)this._counter[P]=x%256,x=parseInt(x/256)},S.prototype.setBytes=function(x){if(x=n(x,!0),x.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=x},S.prototype.increment=function(){for(var x=15;x>=0;x--)if(this._counter[x]===255)this._counter[x]=0;else{this._counter[x]++;break}};var w=function(x,P){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",P instanceof S||(P=new S(P)),this._counter=P,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(x)};w.prototype.encrypt=function(x){for(var P=n(x,!0),U=0;U<P.length;U++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),P[U]^=this._remainingCounter[this._remainingCounterIndex++];return P},w.prototype.decrypt=w.prototype.encrypt;function R(x){x=n(x,!0);var P=16-x.length%16,U=i(x.length+P);s(x,U);for(var K=x.length;K<U.length;K++)U[K]=P;return U}function T(x){if(x=n(x,!0),x.length<16)throw new Error("PKCS#7 invalid length");var P=x[x.length-1];if(P>16)throw new Error("PKCS#7 padding byte out of range");for(var U=x.length-P,K=0;K<P;K++)if(x[U+K]!==P)throw new Error("PKCS#7 invalid padding byte");var z=i(U);return s(x,z,0,0,U),z}var b={AES:C,Counter:S,ModeOfOperation:{ecb:d,cbc:v,cfb:g,ofb:m,ctr:w},utils:{hex:a,utf8:o},padding:{pkcs7:{pad:R,strip:T}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof PS<"u"?TH.exports=b:typeof define=="function"&&define.amd?define([],function(){return b}):(t.aesjs&&(b._aesjs=t.aesjs),t.aesjs=b)})(PS)});var PH=$((IH,OS)=>{k();M();(function(t){"use strict";for(var e=[null,0,{}],r=10,n=44032,i=4352,s=4449,o=4519,a=19,u=21,c=28,h=u*c,f=a*h,p=function(T,b){this.codepoint=T,this.feature=b},l={},y=[],_=0;_<=255;++_)y[_]=0;function O(T,b,x){var P=l[b];return P||(P=T(b,x),!!P.feature&&++y[b>>8&255]>r&&(l[b]=P)),P}function F(T,b,x){var P=b&65280,U=p.udata[P]||{},K=U[b];return K?new p(b,K):new p(b,e)}function B(T,b,x){return x?T(b,x):new p(b,null)}function E(T,b,x){var P;if(b<i||i+a<=b&&b<n||n+f<b)return T(b,x);if(i<=b&&b<i+a){var U={},K=(b-i)*u;for(P=0;P<u;++P)U[s+P]=n+c*(P+K);return new p(b,[,,U])}var z=b-n,Q=z%c,oe=[];if(Q!==0)oe[0]=[n+z-Q,o+Q];else for(oe[0]=[i+Math.floor(z/h),s+Math.floor(z%h/c)],oe[2]={},P=1;P<c;++P)oe[2][o+P]=b+P;return new p(b,oe)}function I(T,b,x){return b<60||13311<b&&b<42607?new p(b,e):T(b,x)}var L=[I,O,B,E,F];p.fromCharCode=L.reduceRight(function(T,b){return function(x,P){return b(T,x,P)}},null),p.isHighSurrogate=function(T){return T>=55296&&T<=56319},p.isLowSurrogate=function(T){return T>=56320&&T<=57343},p.prototype.prepFeature=function(){this.feature||(this.feature=p.fromCharCode(this.codepoint,!0).feature)},p.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var T=this.codepoint-65536;return String.fromCharCode(Math.floor(T/1024)+55296,T%1024+56320)},p.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},p.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<8},p.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<9},p.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?this.feature[1]&255:0},p.prototype.getComposite=function(T){if(this.prepFeature(),!this.feature[2])return null;var b=this.feature[2][T.codepoint];return b?p.fromCharCode(b):null};var N=function(T){this.str=T,this.cursor=0};N.prototype.next=function(){if(!!this.str&&this.cursor<this.str.length){var T=this.str.charCodeAt(this.cursor++),b;return p.isHighSurrogate(T)&&this.cursor<this.str.length&&p.isLowSurrogate(b=this.str.charCodeAt(this.cursor))&&(T=(T-55296)*1024+(b-56320)+65536,++this.cursor),p.fromCharCode(T)}else return this.str=null,null};var H=function(T,b){this.it=T,this.canonical=b,this.resBuf=[]};H.prototype.next=function(){function T(x,P){var U=P.getDecomp();if(!!U&&!(x&&P.isCompatibility())){for(var K=[],z=0;z<U.length;++z){var Q=T(x,p.fromCharCode(U[z]));K=K.concat(Q)}return K}else return[P]}if(this.resBuf.length===0){var b=this.it.next();if(!b)return null;this.resBuf=T(this.canonical,b)}return this.resBuf.shift()};var D=function(T){this.it=T,this.resBuf=[]};D.prototype.next=function(){var T;if(this.resBuf.length===0)do{var b=this.it.next();if(!b)break;T=b.getCanonicalClass();var x=this.resBuf.length;if(T!==0)for(;x>0;--x){var P=this.resBuf[x-1],U=P.getCanonicalClass();if(U<=T)break}this.resBuf.splice(x,0,b)}while(T!==0);return this.resBuf.shift()};var C=function(T){this.it=T,this.procBuf=[],this.resBuf=[],this.lastClass=null};C.prototype.next=function(){for(;this.resBuf.length===0;){var T=this.it.next();if(!T){this.resBuf=this.procBuf,this.procBuf=[];break}if(this.procBuf.length===0)this.lastClass=T.getCanonicalClass(),this.procBuf.push(T);else{var b=this.procBuf[0],x=b.getComposite(T),P=T.getCanonicalClass();!!x&&(this.lastClass<P||this.lastClass===0)?this.procBuf[0]=x:(P===0&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=P,this.procBuf.push(T))}}return this.resBuf.shift()};var d=function(T,b){switch(T){case"NFD":return new D(new H(new N(b),!0));case"NFKD":return new D(new H(new N(b),!1));case"NFC":return new C(new D(new H(new N(b),!0)));case"NFKC":return new C(new D(new H(new N(b),!1)))}throw T+" is invalid"},v=function(T,b){for(var x=d(T,b),P="",U;U=x.next();)P+=U.toString();return P};function g(T){return v("NFD",T)}function m(T){return v("NFKD",T)}function S(T){return v("NFC",T)}function w(T){return v("NFKC",T)}p.udata={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256],66272:[,220]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256],66422:[,230],66423:[,230],66424:[,230],66425:[,230],66426:[,230]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230],2303:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9],68325:[,230],68326:[,220]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69759:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70003:[,7],70080:[,9]},4608:{70197:[,9],70198:[,7],70377:[,7],70378:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230],70460:[,7],70471:[,,{70462:70475,70487:70476}],70475:[[70471,70462]],70476:[[70471,70487]],70477:[,9],70502:[,230],70503:[,230],70504:[,230],70505:[,230],70506:[,230],70507:[,230],70508:[,230],70512:[,230],70513:[,230],70514:[,230],70515:[,230],70516:[,230]},5120:{70841:[,,{70832:70844,70842:70843,70845:70846}],70843:[[70841,70842]],70844:[[70841,70832]],70846:[[70841,70845]],70850:[,9],70851:[,7]},5376:{71096:[,,{71087:71098}],71097:[,,{71087:71099}],71098:[[71096,71087]],71099:[[71097,71087]],71103:[,9],71104:[,7]},5632:{71231:[,9],71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220],6832:[,230],6833:[,230],6834:[,230],6835:[,230],6836:[,230],6837:[,220],6838:[,220],6839:[,220],6840:[,220],6841:[,220],6842:[,220],6843:[,230],6844:[,230],6845:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230],7416:[,230],7417:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7655:[,230],7656:[,230],7657:[,230],7658:[,230],7659:[,230],7660:[,230],7661:[,230],7662:[,230],7663:[,230],7664:[,230],7665:[,230],7666:[,230],7667:[,230],7668:[,230],7669:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},27136:{92912:[,1],92913:[,1],92914:[,1],92915:[,1],92916:[,1]},27392:{92976:[,230],92977:[,230],92978:[,230],92979:[,230],92980:[,230],92981:[,230],92982:[,230]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42652:[[1098],256],42653:[[1100],256],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{43868:[[42791],256],43869:[[43831],256],43870:[[619],256],43871:[[43858],256],44013:[,9]},48128:{113822:[,1]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},59392:{125136:[,220],125137:[,220],125138:[,220],125139:[,220],125140:[,220],125141:[,220],125142:[,220]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65063:[,220],65064:[,220],65065:[,220],65066:[,220],65067:[,220],65068:[,220],65069:[,220],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}};var R={nfc:S,nfd:g,nfkc:w,nfkd:m};typeof OS=="object"?OS.exports=R:typeof define=="function"&&define.amd?define("unorm",function(){return R}):t.unorm=R,R.shimApplied=!1,String.prototype.normalize||(String.prototype.normalize=function(T){var b=""+this;if(T=T===void 0?"NFC":T,T==="NFC")return R.nfc(b);if(T==="NFD")return R.nfd(b);if(T==="NFKC")return R.nfkc(b);if(T==="NFKD")return R.nfkd(b);throw new RangeError("Invalid normalization form: "+T)},R.shimApplied=!0)})(IH)});var BH=$((OH,BS)=>{k();M();(function(t,e){"use strict";function r(C,d){if(!C)throw new Error(d||"Assertion failed")}function n(C,d){C.super_=d;var v=function(){};v.prototype=d.prototype,C.prototype=new v,C.prototype.constructor=C}function i(C,d,v){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(C||0,d||10,v||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=ai().Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,v){return d.cmp(v)>0?d:v},i.min=function(d,v){return d.cmp(v)<0?d:v},i.prototype._init=function(d,v,g){if(typeof d=="number")return this._initNumber(d,v,g);if(typeof d=="object")return this._initArray(d,v,g);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),d=d.toString().replace(/\s+/g,"");var m=0;d[0]==="-"&&m++,v===16?this._parseHex(d,m):this._parseBase(d,v,m),d[0]==="-"&&(this.negative=1),this.strip(),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initNumber=function(d,v,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initArray=function(d,v,g){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var S,w,R=0;if(g==="be")for(m=d.length-1,S=0;m>=0;m-=3)w=d[m]|d[m-1]<<8|d[m-2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);else if(g==="le")for(m=0,S=0;m<d.length;m+=3)w=d[m]|d[m+1]<<8|d[m+2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);return this.strip()};function o(C,d,v){for(var g=0,m=Math.min(C.length,v),S=d;S<m;S++){var w=C.charCodeAt(S)-48;g<<=4,w>=49&&w<=54?g|=w-49+10:w>=17&&w<=22?g|=w-17+10:g|=w&15}return g}i.prototype._parseHex=function(d,v){this.length=Math.ceil((d.length-v)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,S,w=0;for(g=d.length-6,m=0;g>=v;g-=6)S=o(d,g,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303,w+=24,w>=26&&(w-=26,m++);g+6!==v&&(S=o(d,v,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303),this.strip()};function a(C,d,v,g){for(var m=0,S=Math.min(C.length,v),w=d;w<S;w++){var R=C.charCodeAt(w)-48;m*=g,R>=49?m+=R-49+10:R>=17?m+=R-17+10:m+=R}return m}i.prototype._parseBase=function(d,v,g){this.words=[0],this.length=1;for(var m=0,S=1;S<=67108863;S*=v)m++;m--,S=S/v|0;for(var w=d.length-g,R=w%m,T=Math.min(w,w-R)+g,b=0,x=g;x<T;x+=m)b=a(d,x,x+m,v),this.imuln(S),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(R!==0){var P=1;for(b=a(d,x,d.length,v),x=0;x<R;x++)P*=v;this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}},i.prototype.copy=function(d){d.words=new Array(this.length);for(var v=0;v<this.length;v++)d.words[v]=this.words[v];d.length=this.length,d.negative=this.negative,d.red=this.red},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,v){d=d||10,v=v|0||1;var g;if(d===16||d==="hex"){g="";for(var m=0,S=0,w=0;w<this.length;w++){var R=this.words[w],T=((R<<m|S)&16777215).toString(16);S=R>>>24-m&16777215,S!==0||w!==this.length-1?g=u[6-T.length]+T+g:g=T+g,m+=2,m>=26&&(m-=26,w--)}for(S!==0&&(g=S.toString(16)+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var b=c[d],x=h[d];g="";var P=this.clone();for(P.negative=0;!P.isZero();){var U=P.modn(x).toString(d);P=P.idivn(x),P.isZero()?g=U+g:g=u[b-U.length]+U+g}for(this.isZero()&&(g="0"+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(d,v){return r(typeof s<"u"),this.toArrayLike(s,d,v)},i.prototype.toArray=function(d,v){return this.toArrayLike(Array,d,v)},i.prototype.toArrayLike=function(d,v,g){var m=this.byteLength(),S=g||Math.max(1,m);r(m<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0"),this.strip();var w=v==="le",R=new d(S),T,b,x=this.clone();if(w){for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[b]=T;for(;b<S;b++)R[b]=0}else{for(b=0;b<S-m;b++)R[b]=0;for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[S-b-1]=T}return R},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var v=d,g=0;return v>=4096&&(g+=13,v>>>=13),v>=64&&(g+=7,v>>>=7),v>=8&&(g+=4,v>>>=4),v>=2&&(g+=2,v>>>=2),g+v},i.prototype._zeroBits=function(d){if(d===0)return 26;var v=d,g=0;return(v&8191)===0&&(g+=13,v>>>=13),(v&127)===0&&(g+=7,v>>>=7),(v&15)===0&&(g+=4,v>>>=4),(v&3)===0&&(g+=2,v>>>=2),(v&1)===0&&g++,g},i.prototype.bitLength=function(){var d=this.words[this.length-1],v=this._countBits(d);return(this.length-1)*26+v};function f(C){for(var d=new Array(C.bitLength()),v=0;v<d.length;v++){var g=v/26|0,m=v%26;d[v]=(C.words[g]&1<<m)>>>m}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,v=0;v<this.length;v++){var g=this._zeroBits(this.words[v]);if(d+=g,g!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]|d.words[v];return this.strip()},i.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var v;this.length>d.length?v=d:v=this;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=v.length,this.strip()},i.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var v,g;this.length>d.length?(v=this,g=d):(v=d,g=this);for(var m=0;m<g.length;m++)this.words[m]=v.words[m]^g.words[m];if(this!==v)for(;m<v.length;m++)this.words[m]=v.words[m];return this.length=v.length,this.strip()},i.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var v=Math.ceil(d/26)|0,g=d%26;this._expand(v),g>0&&v--;for(var m=0;m<v;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,v){r(typeof d=="number"&&d>=0);var g=d/26|0,m=d%26;return this._expand(g+1),v?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},i.prototype.iadd=function(d){var v;if(this.negative!==0&&d.negative===0)return this.negative=0,v=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,v=this.isub(d),d.negative=1,v._normSign();var g,m;this.length>d.length?(g=this,m=d):(g=d,m=this);for(var S=0,w=0;w<m.length;w++)v=(g.words[w]|0)+(m.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;for(;S!==0&&w<g.length;w++)v=(g.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;if(this.length=g.length,S!==0)this.words[this.length]=S,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},i.prototype.add=function(d){var v;return d.negative!==0&&this.negative===0?(d.negative=0,v=this.sub(d),d.negative^=1,v):d.negative===0&&this.negative!==0?(this.negative=0,v=d.sub(this),this.negative=1,v):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var v=this.iadd(d);return d.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,S;g>0?(m=this,S=d):(m=d,S=this);for(var w=0,R=0;R<S.length;R++)v=(m.words[R]|0)-(S.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;for(;w!==0&&R<m.length;R++)v=(m.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;if(w===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function p(C,d,v){v.negative=d.negative^C.negative;var g=C.length+d.length|0;v.length=g,g=g-1|0;var m=C.words[0]|0,S=d.words[0]|0,w=m*S,R=w&67108863,T=w/67108864|0;v.words[0]=R;for(var b=1;b<g;b++){for(var x=T>>>26,P=T&67108863,U=Math.min(b,d.length-1),K=Math.max(0,b-C.length+1);K<=U;K++){var z=b-K|0;m=C.words[z]|0,S=d.words[K]|0,w=m*S+P,x+=w/67108864|0,P=w&67108863}v.words[b]=P|0,T=x|0}return T!==0?v.words[b]=T|0:v.length--,v.strip()}var l=function(d,v,g){var m=d.words,S=v.words,w=g.words,R=0,T,b,x,P=m[0]|0,U=P&8191,K=P>>>13,z=m[1]|0,Q=z&8191,oe=z>>>13,ie=m[2]|0,q=ie&8191,X=ie>>>13,J=m[3]|0,re=J&8191,ae=J>>>13,me=m[4]|0,_e=me&8191,Ie=me>>>13,Le=m[5]|0,Ce=Le&8191,He=Le>>>13,Ze=m[6]|0,Te=Ze&8191,Se=Ze>>>13,pt=m[7]|0,j=pt&8191,Y=pt>>>13,V=m[8]|0,G=V&8191,Z=V>>>13,ee=m[9]|0,te=ee&8191,ue=ee>>>13,se=S[0]|0,de=se&8191,ye=se>>>13,Pe=S[1]|0,xe=Pe&8191,Ge=Pe>>>13,Ft=S[2]|0,Ye=Ft&8191,St=Ft>>>13,tn=S[3]|0,Je=tn&8191,Ht=tn>>>13,rn=S[4]|0,Qe=rn&8191,Dt=rn>>>13,nn=S[5]|0,et=nn&8191,Lt=nn>>>13,sn=S[6]|0,tt=sn&8191,Ut=sn>>>13,on=S[7]|0,rt=on&8191,qt=on>>>13,an=S[8]|0,nt=an&8191,$t=an>>>13,un=S[9]|0,it=un&8191,jt=un>>>13;g.negative=d.negative^v.negative,g.length=19,T=Math.imul(U,de),b=Math.imul(U,ye),b=b+Math.imul(K,de)|0,x=Math.imul(K,ye);var Gr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,T=Math.imul(Q,de),b=Math.imul(Q,ye),b=b+Math.imul(oe,de)|0,x=Math.imul(oe,ye),T=T+Math.imul(U,xe)|0,b=b+Math.imul(U,Ge)|0,b=b+Math.imul(K,xe)|0,x=x+Math.imul(K,Ge)|0;var zr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zr>>>26)|0,zr&=67108863,T=Math.imul(q,de),b=Math.imul(q,ye),b=b+Math.imul(X,de)|0,x=Math.imul(X,ye),T=T+Math.imul(Q,xe)|0,b=b+Math.imul(Q,Ge)|0,b=b+Math.imul(oe,xe)|0,x=x+Math.imul(oe,Ge)|0,T=T+Math.imul(U,Ye)|0,b=b+Math.imul(U,St)|0,b=b+Math.imul(K,Ye)|0,x=x+Math.imul(K,St)|0;var Du=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Du>>>26)|0,Du&=67108863,T=Math.imul(re,de),b=Math.imul(re,ye),b=b+Math.imul(ae,de)|0,x=Math.imul(ae,ye),T=T+Math.imul(q,xe)|0,b=b+Math.imul(q,Ge)|0,b=b+Math.imul(X,xe)|0,x=x+Math.imul(X,Ge)|0,T=T+Math.imul(Q,Ye)|0,b=b+Math.imul(Q,St)|0,b=b+Math.imul(oe,Ye)|0,x=x+Math.imul(oe,St)|0,T=T+Math.imul(U,Je)|0,b=b+Math.imul(U,Ht)|0,b=b+Math.imul(K,Je)|0,x=x+Math.imul(K,Ht)|0;var Lu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,T=Math.imul(_e,de),b=Math.imul(_e,ye),b=b+Math.imul(Ie,de)|0,x=Math.imul(Ie,ye),T=T+Math.imul(re,xe)|0,b=b+Math.imul(re,Ge)|0,b=b+Math.imul(ae,xe)|0,x=x+Math.imul(ae,Ge)|0,T=T+Math.imul(q,Ye)|0,b=b+Math.imul(q,St)|0,b=b+Math.imul(X,Ye)|0,x=x+Math.imul(X,St)|0,T=T+Math.imul(Q,Je)|0,b=b+Math.imul(Q,Ht)|0,b=b+Math.imul(oe,Je)|0,x=x+Math.imul(oe,Ht)|0,T=T+Math.imul(U,Qe)|0,b=b+Math.imul(U,Dt)|0,b=b+Math.imul(K,Qe)|0,x=x+Math.imul(K,Dt)|0;var Uu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,T=Math.imul(Ce,de),b=Math.imul(Ce,ye),b=b+Math.imul(He,de)|0,x=Math.imul(He,ye),T=T+Math.imul(_e,xe)|0,b=b+Math.imul(_e,Ge)|0,b=b+Math.imul(Ie,xe)|0,x=x+Math.imul(Ie,Ge)|0,T=T+Math.imul(re,Ye)|0,b=b+Math.imul(re,St)|0,b=b+Math.imul(ae,Ye)|0,x=x+Math.imul(ae,St)|0,T=T+Math.imul(q,Je)|0,b=b+Math.imul(q,Ht)|0,b=b+Math.imul(X,Je)|0,x=x+Math.imul(X,Ht)|0,T=T+Math.imul(Q,Qe)|0,b=b+Math.imul(Q,Dt)|0,b=b+Math.imul(oe,Qe)|0,x=x+Math.imul(oe,Dt)|0,T=T+Math.imul(U,et)|0,b=b+Math.imul(U,Lt)|0,b=b+Math.imul(K,et)|0,x=x+Math.imul(K,Lt)|0;var qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(qu>>>26)|0,qu&=67108863,T=Math.imul(Te,de),b=Math.imul(Te,ye),b=b+Math.imul(Se,de)|0,x=Math.imul(Se,ye),T=T+Math.imul(Ce,xe)|0,b=b+Math.imul(Ce,Ge)|0,b=b+Math.imul(He,xe)|0,x=x+Math.imul(He,Ge)|0,T=T+Math.imul(_e,Ye)|0,b=b+Math.imul(_e,St)|0,b=b+Math.imul(Ie,Ye)|0,x=x+Math.imul(Ie,St)|0,T=T+Math.imul(re,Je)|0,b=b+Math.imul(re,Ht)|0,b=b+Math.imul(ae,Je)|0,x=x+Math.imul(ae,Ht)|0,T=T+Math.imul(q,Qe)|0,b=b+Math.imul(q,Dt)|0,b=b+Math.imul(X,Qe)|0,x=x+Math.imul(X,Dt)|0,T=T+Math.imul(Q,et)|0,b=b+Math.imul(Q,Lt)|0,b=b+Math.imul(oe,et)|0,x=x+Math.imul(oe,Lt)|0,T=T+Math.imul(U,tt)|0,b=b+Math.imul(U,Ut)|0,b=b+Math.imul(K,tt)|0,x=x+Math.imul(K,Ut)|0;var $u=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+($u>>>26)|0,$u&=67108863,T=Math.imul(j,de),b=Math.imul(j,ye),b=b+Math.imul(Y,de)|0,x=Math.imul(Y,ye),T=T+Math.imul(Te,xe)|0,b=b+Math.imul(Te,Ge)|0,b=b+Math.imul(Se,xe)|0,x=x+Math.imul(Se,Ge)|0,T=T+Math.imul(Ce,Ye)|0,b=b+Math.imul(Ce,St)|0,b=b+Math.imul(He,Ye)|0,x=x+Math.imul(He,St)|0,T=T+Math.imul(_e,Je)|0,b=b+Math.imul(_e,Ht)|0,b=b+Math.imul(Ie,Je)|0,x=x+Math.imul(Ie,Ht)|0,T=T+Math.imul(re,Qe)|0,b=b+Math.imul(re,Dt)|0,b=b+Math.imul(ae,Qe)|0,x=x+Math.imul(ae,Dt)|0,T=T+Math.imul(q,et)|0,b=b+Math.imul(q,Lt)|0,b=b+Math.imul(X,et)|0,x=x+Math.imul(X,Lt)|0,T=T+Math.imul(Q,tt)|0,b=b+Math.imul(Q,Ut)|0,b=b+Math.imul(oe,tt)|0,x=x+Math.imul(oe,Ut)|0,T=T+Math.imul(U,rt)|0,b=b+Math.imul(U,qt)|0,b=b+Math.imul(K,rt)|0,x=x+Math.imul(K,qt)|0;var ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(ju>>>26)|0,ju&=67108863,T=Math.imul(G,de),b=Math.imul(G,ye),b=b+Math.imul(Z,de)|0,x=Math.imul(Z,ye),T=T+Math.imul(j,xe)|0,b=b+Math.imul(j,Ge)|0,b=b+Math.imul(Y,xe)|0,x=x+Math.imul(Y,Ge)|0,T=T+Math.imul(Te,Ye)|0,b=b+Math.imul(Te,St)|0,b=b+Math.imul(Se,Ye)|0,x=x+Math.imul(Se,St)|0,T=T+Math.imul(Ce,Je)|0,b=b+Math.imul(Ce,Ht)|0,b=b+Math.imul(He,Je)|0,x=x+Math.imul(He,Ht)|0,T=T+Math.imul(_e,Qe)|0,b=b+Math.imul(_e,Dt)|0,b=b+Math.imul(Ie,Qe)|0,x=x+Math.imul(Ie,Dt)|0,T=T+Math.imul(re,et)|0,b=b+Math.imul(re,Lt)|0,b=b+Math.imul(ae,et)|0,x=x+Math.imul(ae,Lt)|0,T=T+Math.imul(q,tt)|0,b=b+Math.imul(q,Ut)|0,b=b+Math.imul(X,tt)|0,x=x+Math.imul(X,Ut)|0,T=T+Math.imul(Q,rt)|0,b=b+Math.imul(Q,qt)|0,b=b+Math.imul(oe,rt)|0,x=x+Math.imul(oe,qt)|0,T=T+Math.imul(U,nt)|0,b=b+Math.imul(U,$t)|0,b=b+Math.imul(K,nt)|0,x=x+Math.imul(K,$t)|0;var Ku=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,T=Math.imul(te,de),b=Math.imul(te,ye),b=b+Math.imul(ue,de)|0,x=Math.imul(ue,ye),T=T+Math.imul(G,xe)|0,b=b+Math.imul(G,Ge)|0,b=b+Math.imul(Z,xe)|0,x=x+Math.imul(Z,Ge)|0,T=T+Math.imul(j,Ye)|0,b=b+Math.imul(j,St)|0,b=b+Math.imul(Y,Ye)|0,x=x+Math.imul(Y,St)|0,T=T+Math.imul(Te,Je)|0,b=b+Math.imul(Te,Ht)|0,b=b+Math.imul(Se,Je)|0,x=x+Math.imul(Se,Ht)|0,T=T+Math.imul(Ce,Qe)|0,b=b+Math.imul(Ce,Dt)|0,b=b+Math.imul(He,Qe)|0,x=x+Math.imul(He,Dt)|0,T=T+Math.imul(_e,et)|0,b=b+Math.imul(_e,Lt)|0,b=b+Math.imul(Ie,et)|0,x=x+Math.imul(Ie,Lt)|0,T=T+Math.imul(re,tt)|0,b=b+Math.imul(re,Ut)|0,b=b+Math.imul(ae,tt)|0,x=x+Math.imul(ae,Ut)|0,T=T+Math.imul(q,rt)|0,b=b+Math.imul(q,qt)|0,b=b+Math.imul(X,rt)|0,x=x+Math.imul(X,qt)|0,T=T+Math.imul(Q,nt)|0,b=b+Math.imul(Q,$t)|0,b=b+Math.imul(oe,nt)|0,x=x+Math.imul(oe,$t)|0,T=T+Math.imul(U,it)|0,b=b+Math.imul(U,jt)|0,b=b+Math.imul(K,it)|0,x=x+Math.imul(K,jt)|0;var Vu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,T=Math.imul(te,xe),b=Math.imul(te,Ge),b=b+Math.imul(ue,xe)|0,x=Math.imul(ue,Ge),T=T+Math.imul(G,Ye)|0,b=b+Math.imul(G,St)|0,b=b+Math.imul(Z,Ye)|0,x=x+Math.imul(Z,St)|0,T=T+Math.imul(j,Je)|0,b=b+Math.imul(j,Ht)|0,b=b+Math.imul(Y,Je)|0,x=x+Math.imul(Y,Ht)|0,T=T+Math.imul(Te,Qe)|0,b=b+Math.imul(Te,Dt)|0,b=b+Math.imul(Se,Qe)|0,x=x+Math.imul(Se,Dt)|0,T=T+Math.imul(Ce,et)|0,b=b+Math.imul(Ce,Lt)|0,b=b+Math.imul(He,et)|0,x=x+Math.imul(He,Lt)|0,T=T+Math.imul(_e,tt)|0,b=b+Math.imul(_e,Ut)|0,b=b+Math.imul(Ie,tt)|0,x=x+Math.imul(Ie,Ut)|0,T=T+Math.imul(re,rt)|0,b=b+Math.imul(re,qt)|0,b=b+Math.imul(ae,rt)|0,x=x+Math.imul(ae,qt)|0,T=T+Math.imul(q,nt)|0,b=b+Math.imul(q,$t)|0,b=b+Math.imul(X,nt)|0,x=x+Math.imul(X,$t)|0,T=T+Math.imul(Q,it)|0,b=b+Math.imul(Q,jt)|0,b=b+Math.imul(oe,it)|0,x=x+Math.imul(oe,jt)|0;var Gu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,T=Math.imul(te,Ye),b=Math.imul(te,St),b=b+Math.imul(ue,Ye)|0,x=Math.imul(ue,St),T=T+Math.imul(G,Je)|0,b=b+Math.imul(G,Ht)|0,b=b+Math.imul(Z,Je)|0,x=x+Math.imul(Z,Ht)|0,T=T+Math.imul(j,Qe)|0,b=b+Math.imul(j,Dt)|0,b=b+Math.imul(Y,Qe)|0,x=x+Math.imul(Y,Dt)|0,T=T+Math.imul(Te,et)|0,b=b+Math.imul(Te,Lt)|0,b=b+Math.imul(Se,et)|0,x=x+Math.imul(Se,Lt)|0,T=T+Math.imul(Ce,tt)|0,b=b+Math.imul(Ce,Ut)|0,b=b+Math.imul(He,tt)|0,x=x+Math.imul(He,Ut)|0,T=T+Math.imul(_e,rt)|0,b=b+Math.imul(_e,qt)|0,b=b+Math.imul(Ie,rt)|0,x=x+Math.imul(Ie,qt)|0,T=T+Math.imul(re,nt)|0,b=b+Math.imul(re,$t)|0,b=b+Math.imul(ae,nt)|0,x=x+Math.imul(ae,$t)|0,T=T+Math.imul(q,it)|0,b=b+Math.imul(q,jt)|0,b=b+Math.imul(X,it)|0,x=x+Math.imul(X,jt)|0;var zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zu>>>26)|0,zu&=67108863,T=Math.imul(te,Je),b=Math.imul(te,Ht),b=b+Math.imul(ue,Je)|0,x=Math.imul(ue,Ht),T=T+Math.imul(G,Qe)|0,b=b+Math.imul(G,Dt)|0,b=b+Math.imul(Z,Qe)|0,x=x+Math.imul(Z,Dt)|0,T=T+Math.imul(j,et)|0,b=b+Math.imul(j,Lt)|0,b=b+Math.imul(Y,et)|0,x=x+Math.imul(Y,Lt)|0,T=T+Math.imul(Te,tt)|0,b=b+Math.imul(Te,Ut)|0,b=b+Math.imul(Se,tt)|0,x=x+Math.imul(Se,Ut)|0,T=T+Math.imul(Ce,rt)|0,b=b+Math.imul(Ce,qt)|0,b=b+Math.imul(He,rt)|0,x=x+Math.imul(He,qt)|0,T=T+Math.imul(_e,nt)|0,b=b+Math.imul(_e,$t)|0,b=b+Math.imul(Ie,nt)|0,x=x+Math.imul(Ie,$t)|0,T=T+Math.imul(re,it)|0,b=b+Math.imul(re,jt)|0,b=b+Math.imul(ae,it)|0,x=x+Math.imul(ae,jt)|0;var Wu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,T=Math.imul(te,Qe),b=Math.imul(te,Dt),b=b+Math.imul(ue,Qe)|0,x=Math.imul(ue,Dt),T=T+Math.imul(G,et)|0,b=b+Math.imul(G,Lt)|0,b=b+Math.imul(Z,et)|0,x=x+Math.imul(Z,Lt)|0,T=T+Math.imul(j,tt)|0,b=b+Math.imul(j,Ut)|0,b=b+Math.imul(Y,tt)|0,x=x+Math.imul(Y,Ut)|0,T=T+Math.imul(Te,rt)|0,b=b+Math.imul(Te,qt)|0,b=b+Math.imul(Se,rt)|0,x=x+Math.imul(Se,qt)|0,T=T+Math.imul(Ce,nt)|0,b=b+Math.imul(Ce,$t)|0,b=b+Math.imul(He,nt)|0,x=x+Math.imul(He,$t)|0,T=T+Math.imul(_e,it)|0,b=b+Math.imul(_e,jt)|0,b=b+Math.imul(Ie,it)|0,x=x+Math.imul(Ie,jt)|0;var Yu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,T=Math.imul(te,et),b=Math.imul(te,Lt),b=b+Math.imul(ue,et)|0,x=Math.imul(ue,Lt),T=T+Math.imul(G,tt)|0,b=b+Math.imul(G,Ut)|0,b=b+Math.imul(Z,tt)|0,x=x+Math.imul(Z,Ut)|0,T=T+Math.imul(j,rt)|0,b=b+Math.imul(j,qt)|0,b=b+Math.imul(Y,rt)|0,x=x+Math.imul(Y,qt)|0,T=T+Math.imul(Te,nt)|0,b=b+Math.imul(Te,$t)|0,b=b+Math.imul(Se,nt)|0,x=x+Math.imul(Se,$t)|0,T=T+Math.imul(Ce,it)|0,b=b+Math.imul(Ce,jt)|0,b=b+Math.imul(He,it)|0,x=x+Math.imul(He,jt)|0;var Xu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,T=Math.imul(te,tt),b=Math.imul(te,Ut),b=b+Math.imul(ue,tt)|0,x=Math.imul(ue,Ut),T=T+Math.imul(G,rt)|0,b=b+Math.imul(G,qt)|0,b=b+Math.imul(Z,rt)|0,x=x+Math.imul(Z,qt)|0,T=T+Math.imul(j,nt)|0,b=b+Math.imul(j,$t)|0,b=b+Math.imul(Y,nt)|0,x=x+Math.imul(Y,$t)|0,T=T+Math.imul(Te,it)|0,b=b+Math.imul(Te,jt)|0,b=b+Math.imul(Se,it)|0,x=x+Math.imul(Se,jt)|0;var Zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,T=Math.imul(te,rt),b=Math.imul(te,qt),b=b+Math.imul(ue,rt)|0,x=Math.imul(ue,qt),T=T+Math.imul(G,nt)|0,b=b+Math.imul(G,$t)|0,b=b+Math.imul(Z,nt)|0,x=x+Math.imul(Z,$t)|0,T=T+Math.imul(j,it)|0,b=b+Math.imul(j,jt)|0,b=b+Math.imul(Y,it)|0,x=x+Math.imul(Y,jt)|0;var Ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,T=Math.imul(te,nt),b=Math.imul(te,$t),b=b+Math.imul(ue,nt)|0,x=Math.imul(ue,$t),T=T+Math.imul(G,it)|0,b=b+Math.imul(G,jt)|0,b=b+Math.imul(Z,it)|0,x=x+Math.imul(Z,jt)|0;var Qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,T=Math.imul(te,it),b=Math.imul(te,jt),b=b+Math.imul(ue,it)|0,x=Math.imul(ue,jt);var ec=(R+T|0)+((b&8191)<<13)|0;return R=(x+(b>>>13)|0)+(ec>>>26)|0,ec&=67108863,w[0]=Gr,w[1]=zr,w[2]=Du,w[3]=Lu,w[4]=Uu,w[5]=qu,w[6]=$u,w[7]=ju,w[8]=Ku,w[9]=Vu,w[10]=Gu,w[11]=zu,w[12]=Wu,w[13]=Yu,w[14]=Xu,w[15]=Zu,w[16]=Ju,w[17]=Qu,w[18]=ec,R!==0&&(w[19]=R,g.length++),g};Math.imul||(l=p);function y(C,d,v){v.negative=d.negative^C.negative,v.length=C.length+d.length;for(var g=0,m=0,S=0;S<v.length-1;S++){var w=m;m=0;for(var R=g&67108863,T=Math.min(S,d.length-1),b=Math.max(0,S-C.length+1);b<=T;b++){var x=S-b,P=C.words[x]|0,U=d.words[b]|0,K=P*U,z=K&67108863;w=w+(K/67108864|0)|0,z=z+R|0,R=z&67108863,w=w+(z>>>26)|0,m+=w>>>26,w&=67108863}v.words[S]=R,g=w,w=m}return g!==0?v.words[S]=g:v.length--,v.strip()}function _(C,d,v){var g=new O;return g.mulp(C,d,v)}i.prototype.mulTo=function(d,v){var g,m=this.length+d.length;return this.length===10&&d.length===10?g=l(this,d,v):m<63?g=p(this,d,v):m<1024?g=y(this,d,v):g=_(this,d,v),g};function O(C,d){this.x=C,this.y=d}O.prototype.makeRBT=function(d){for(var v=new Array(d),g=i.prototype._countBits(d)-1,m=0;m<d;m++)v[m]=this.revBin(m,g,d);return v},O.prototype.revBin=function(d,v,g){if(d===0||d===g-1)return d;for(var m=0,S=0;S<v;S++)m|=(d&1)<<v-S-1,d>>=1;return m},O.prototype.permute=function(d,v,g,m,S,w){for(var R=0;R<w;R++)m[R]=v[d[R]],S[R]=g[d[R]]},O.prototype.transform=function(d,v,g,m,S,w){this.permute(w,d,v,g,m,S);for(var R=1;R<S;R<<=1)for(var T=R<<1,b=Math.cos(2*Math.PI/T),x=Math.sin(2*Math.PI/T),P=0;P<S;P+=T)for(var U=b,K=x,z=0;z<R;z++){var Q=g[P+z],oe=m[P+z],ie=g[P+z+R],q=m[P+z+R],X=U*ie-K*q;q=U*q+K*ie,ie=X,g[P+z]=Q+ie,m[P+z]=oe+q,g[P+z+R]=Q-ie,m[P+z+R]=oe-q,z!==T&&(X=b*U-x*K,K=b*K+x*U,U=X)}},O.prototype.guessLen13b=function(d,v){var g=Math.max(v,d)|1,m=g&1,S=0;for(g=g/2|0;g;g=g>>>1)S++;return 1<<S+1+m},O.prototype.conjugate=function(d,v,g){if(!(g<=1))for(var m=0;m<g/2;m++){var S=d[m];d[m]=d[g-m-1],d[g-m-1]=S,S=v[m],v[m]=-v[g-m-1],v[g-m-1]=-S}},O.prototype.normalize13b=function(d,v){for(var g=0,m=0;m<v/2;m++){var S=Math.round(d[2*m+1]/v)*8192+Math.round(d[2*m]/v)+g;d[m]=S&67108863,S<67108864?g=0:g=S/67108864|0}return d},O.prototype.convert13b=function(d,v,g,m){for(var S=0,w=0;w<v;w++)S=S+(d[w]|0),g[2*w]=S&8191,S=S>>>13,g[2*w+1]=S&8191,S=S>>>13;for(w=2*v;w<m;++w)g[w]=0;r(S===0),r((S&-8192)===0)},O.prototype.stub=function(d){for(var v=new Array(d),g=0;g<d;g++)v[g]=0;return v},O.prototype.mulp=function(d,v,g){var m=2*this.guessLen13b(d.length,v.length),S=this.makeRBT(m),w=this.stub(m),R=new Array(m),T=new Array(m),b=new Array(m),x=new Array(m),P=new Array(m),U=new Array(m),K=g.words;K.length=m,this.convert13b(d.words,d.length,R,m),this.convert13b(v.words,v.length,x,m),this.transform(R,w,T,b,m,S),this.transform(x,w,P,U,m,S);for(var z=0;z<m;z++){var Q=T[z]*P[z]-b[z]*U[z];b[z]=T[z]*U[z]+b[z]*P[z],T[z]=Q}return this.conjugate(T,b,m),this.transform(T,b,K,w,m,S),this.conjugate(K,w,m),this.normalize13b(K,m),g.negative=d.negative^v.negative,g.length=d.length+v.length,g.strip()},i.prototype.mul=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),this.mulTo(d,v)},i.prototype.mulf=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),_(this,d,v)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var v=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*d,S=(m&67108863)+(v&67108863);v>>=26,v+=m/67108864|0,v+=S>>>26,this.words[g]=S&67108863}return v!==0&&(this.words[g]=v,this.length++),this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var v=f(d);if(v.length===0)return new i(1);for(var g=this,m=0;m<v.length&&v[m]===0;m++,g=g.sqr());if(++m<v.length)for(var S=g.sqr();m<v.length;m++,S=S.sqr())v[m]!==0&&(g=g.mul(S));return g},i.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=67108863>>>26-v<<26-v,S;if(v!==0){var w=0;for(S=0;S<this.length;S++){var R=this.words[S]&m,T=(this.words[S]|0)-R<<v;this.words[S]=T|w,w=R>>>26-v}w&&(this.words[S]=w,this.length++)}if(g!==0){for(S=this.length-1;S>=0;S--)this.words[S+g]=this.words[S];for(S=0;S<g;S++)this.words[S]=0;this.length+=g}return this.strip()},i.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,v,g){r(typeof d=="number"&&d>=0);var m;v?m=(v-v%26)/26:m=0;var S=d%26,w=Math.min((d-S)/26,this.length),R=67108863^67108863>>>S<<S,T=g;if(m-=w,m=Math.max(0,m),T){for(var b=0;b<w;b++)T.words[b]=this.words[b];T.length=w}if(w!==0)if(this.length>w)for(this.length-=w,b=0;b<this.length;b++)this.words[b]=this.words[b+w];else this.words[0]=0,this.length=1;var x=0;for(b=this.length-1;b>=0&&(x!==0||b>=m);b--){var P=this.words[b]|0;this.words[b]=x<<26-S|P>>>S,x=P&R}return T&&x!==0&&(T.words[T.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(d,v,g){return r(this.negative===0),this.iushrn(d,v,g)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return!1;var S=this.words[g];return!!(S&m)},i.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(v!==0&&g++,this.length=Math.min(g,this.length),v!==0){var m=67108863^67108863>>>v<<v;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,v,g){var m=d.length+g,S;this._expand(m);var w,R=0;for(S=0;S<d.length;S++){w=(this.words[S+g]|0)+R;var T=(d.words[S]|0)*v;w-=T&67108863,R=(w>>26)-(T/67108864|0),this.words[S+g]=w&67108863}for(;S<this.length-g;S++)w=(this.words[S+g]|0)+R,R=w>>26,this.words[S+g]=w&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,S=0;S<this.length;S++)w=-(this.words[S]|0)+R,R=w>>26,this.words[S]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(d,v){var g=this.length-d.length,m=this.clone(),S=d,w=S.words[S.length-1]|0,R=this._countBits(w);g=26-R,g!==0&&(S=S.ushln(g),m.iushln(g),w=S.words[S.length-1]|0);var T=m.length-S.length,b;if(v!=="mod"){b=new i(null),b.length=T+1,b.words=new Array(b.length);for(var x=0;x<b.length;x++)b.words[x]=0}var P=m.clone()._ishlnsubmul(S,1,T);P.negative===0&&(m=P,b&&(b.words[T]=1));for(var U=T-1;U>=0;U--){var K=(m.words[S.length+U]|0)*67108864+(m.words[S.length+U-1]|0);for(K=Math.min(K/w|0,67108863),m._ishlnsubmul(S,K,U);m.negative!==0;)K--,m.negative=0,m._ishlnsubmul(S,1,U),m.isZero()||(m.negative^=1);b&&(b.words[U]=K)}return b&&b.strip(),m.strip(),v!=="div"&&g!==0&&m.iushrn(g),{div:b||null,mod:m}},i.prototype.divmod=function(d,v,g){if(r(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,S,w;return this.negative!==0&&d.negative===0?(w=this.neg().divmod(d,v),v!=="mod"&&(m=w.div.neg()),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.iadd(d)),{div:m,mod:S}):this.negative===0&&d.negative!==0?(w=this.divmod(d.neg(),v),v!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):(this.negative&d.negative)!==0?(w=this.neg().divmod(d.neg(),v),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.isub(d)),{div:w.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?v==="div"?{div:this.divn(d.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modn(d.words[0]))}:this._wordDiv(d,v)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var v=this.divmod(d);if(v.mod.isZero())return v.div;var g=v.div.negative!==0?v.mod.isub(d):v.mod,m=d.ushrn(1),S=d.andln(1),w=g.cmp(m);return w<0||S===1&&w===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modn=function(d){r(d<=67108863);for(var v=(1<<26)%d,g=0,m=this.length-1;m>=0;m--)g=(v*g+(this.words[m]|0))%d;return g},i.prototype.idivn=function(d){r(d<=67108863);for(var v=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+v*67108864;this.words[g]=m/d|0,v=m%d}return this.strip()},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=new i(0),R=new i(1),T=0;v.isEven()&&g.isEven();)v.iushrn(1),g.iushrn(1),++T;for(var b=g.clone(),x=v.clone();!v.isZero();){for(var P=0,U=1;(v.words[0]&U)===0&&P<26;++P,U<<=1);if(P>0)for(v.iushrn(P);P-- >0;)(m.isOdd()||S.isOdd())&&(m.iadd(b),S.isub(x)),m.iushrn(1),S.iushrn(1);for(var K=0,z=1;(g.words[0]&z)===0&&K<26;++K,z<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(b),R.isub(x)),w.iushrn(1),R.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(w),S.isub(R)):(g.isub(v),w.isub(m),R.isub(S))}return{a:w,b:R,gcd:g.iushln(T)}},i.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=g.clone();v.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,T=1;(v.words[0]&T)===0&&R<26;++R,T<<=1);if(R>0)for(v.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);for(var b=0,x=1;(g.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(g.iushrn(b);b-- >0;)S.isOdd()&&S.iadd(w),S.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(S)):(g.isub(v),S.isub(m))}var P;return v.cmpn(1)===0?P=m:P=S,P.cmpn(0)<0&&P.iadd(d),P},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var v=this.clone(),g=d.clone();v.negative=0,g.negative=0;for(var m=0;v.isEven()&&g.isEven();m++)v.iushrn(1),g.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;g.isEven();)g.iushrn(1);var S=v.cmp(g);if(S<0){var w=v;v=g,g=w}else if(S===0||g.cmpn(1)===0)break;v.isub(g)}while(!0);return g.iushln(m)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){r(typeof d=="number");var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var S=m,w=g;S!==0&&w<this.length;w++){var R=this.words[w]|0;R+=S,S=R>>>26,R&=67108863,this.words[w]=R}return S!==0&&(this.words[w]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var v=d<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var g;if(this.length>1)g=1;else{v&&(d=-d),r(d<=67108863,"Number is too big");var m=this.words[0]|0;g=m===d?0:m<d?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var v=this.ucmp(d);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var v=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,S=d.words[g]|0;if(m!==S){m<S?v=-1:m>S&&(v=1);break}}return v},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new H(d)},i.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var F={k256:null,p224:null,p192:null,p25519:null};function B(C,d){this.name=C,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},B.prototype.ireduce=function(d){var v=d,g;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),g=v.bitLength();while(g>this.n);var m=g<this.n?-1:v.ucmp(this.p);return m===0?(v.words[0]=0,v.length=1):m>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},B.prototype.split=function(d,v){d.iushrn(this.n,0,v)},B.prototype.imulK=function(d){return d.imul(this.k)};function E(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(E,B),E.prototype.split=function(d,v){for(var g=4194303,m=Math.min(d.length,9),S=0;S<m;S++)v.words[S]=d.words[S];if(v.length=m,d.length<=9){d.words[0]=0,d.length=1;return}var w=d.words[9];for(v.words[v.length++]=w&g,S=10;S<d.length;S++){var R=d.words[S]|0;d.words[S-10]=(R&g)<<4|w>>>22,w=R}w>>>=22,d.words[S-10]=w,w===0&&d.length>10?d.length-=10:d.length-=9},E.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var v=0,g=0;g<d.length;g++){var m=d.words[g]|0;v+=m*977,d.words[g]=v&67108863,v=m*64+(v/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function I(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(I,B);function L(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,B);function N(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(N,B),N.prototype.imulK=function(d){for(var v=0,g=0;g<d.length;g++){var m=(d.words[g]|0)*19+v,S=m&67108863;m>>>=26,d.words[g]=S,v=m}return v!==0&&(d.words[d.length++]=v),d},i._prime=function(d){if(F[d])return F[d];var v;if(d==="k256")v=new E;else if(d==="p224")v=new I;else if(d==="p192")v=new L;else if(d==="p25519")v=new N;else throw new Error("Unknown prime "+d);return F[d]=v,v};function H(C){if(typeof C=="string"){var d=i._prime(C);this.m=d.p,this.prime=d}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}H.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},H.prototype._verify2=function(d,v){r((d.negative|v.negative)===0,"red works only with positives"),r(d.red&&d.red===v.red,"red works only with red numbers")},H.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},H.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},H.prototype.add=function(d,v){this._verify2(d,v);var g=d.add(v);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},H.prototype.iadd=function(d,v){this._verify2(d,v);var g=d.iadd(v);return g.cmp(this.m)>=0&&g.isub(this.m),g},H.prototype.sub=function(d,v){this._verify2(d,v);var g=d.sub(v);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},H.prototype.isub=function(d,v){this._verify2(d,v);var g=d.isub(v);return g.cmpn(0)<0&&g.iadd(this.m),g},H.prototype.shl=function(d,v){return this._verify1(d),this.imod(d.ushln(v))},H.prototype.imul=function(d,v){return this._verify2(d,v),this.imod(d.imul(v))},H.prototype.mul=function(d,v){return this._verify2(d,v),this.imod(d.mul(v))},H.prototype.isqr=function(d){return this.imul(d,d.clone())},H.prototype.sqr=function(d){return this.mul(d,d)},H.prototype.sqrt=function(d){if(d.isZero())return d.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(d,g)}for(var m=this.m.subn(1),S=0;!m.isZero()&&m.andln(1)===0;)S++,m.iushrn(1);r(!m.isZero());var w=new i(1).toRed(this),R=w.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,T).cmp(R)!==0;)b.redIAdd(R);for(var x=this.pow(b,m),P=this.pow(d,m.addn(1).iushrn(1)),U=this.pow(d,m),K=S;U.cmp(w)!==0;){for(var z=U,Q=0;z.cmp(w)!==0;Q++)z=z.redSqr();r(Q<K);var oe=this.pow(x,new i(1).iushln(K-Q-1));P=P.redMul(oe),x=oe.redSqr(),U=U.redMul(x),K=Q}return P},H.prototype.invm=function(d){var v=d._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},H.prototype.pow=function(d,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return d.clone();var g=4,m=new Array(1<<g);m[0]=new i(1).toRed(this),m[1]=d;for(var S=2;S<m.length;S++)m[S]=this.mul(m[S-1],d);var w=m[0],R=0,T=0,b=v.bitLength()%26;for(b===0&&(b=26),S=v.length-1;S>=0;S--){for(var x=v.words[S],P=b-1;P>=0;P--){var U=x>>P&1;if(w!==m[0]&&(w=this.sqr(w)),U===0&&R===0){T=0;continue}R<<=1,R|=U,T++,!(T!==g&&(S!==0||P!==0))&&(w=this.mul(w,m[R]),T=0,R=0)}b=26}return w},H.prototype.convertTo=function(d){var v=d.umod(this.m);return v===d?v.clone():v},H.prototype.convertFrom=function(d){var v=d.clone();return v.red=null,v},i.mont=function(d){return new D(d)};function D(C){H.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,H),D.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},D.prototype.convertFrom=function(d){var v=this.imod(d.mul(this.rinv));return v.red=null,v},D.prototype.imul=function(d,v){if(d.isZero()||v.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.mul=function(d,v){if(d.isZero()||v.isZero())return new i(0)._forceRed(this);var g=d.mul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.invm=function(d){var v=this.imod(d._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof BS>"u"||BS,OH)});var MH=$((pze,kH)=>{k();M();var tr=ai(),CH=j_(),el=zre(),kS=wH(),yf=tc(),C3=EH(),l6=AH(),B3=PH(),Yhe=BH(),yb=globalThis,CS={},bb={},W=yb.parcelRequire76f9;W==null&&(W=function(t){if(t in CS)return CS[t].exports;if(t in bb){var e=bb[t];delete bb[t];var r={id:t,exports:{}};return CS[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n},W.register=function(e,r){bb[e]=r},yb.parcelRequire76f9=W);var Fe=W.register;Fe("1Q9VF",function(t,e){t.exports=JSON.parse(`{"name":"@scrypt-inc/bsv","version":"1.0.5","description":"A pure and powerful JavaScript Bitcoin SV (BSV) library.","author":"sCrypt.Inc","source":"./index.js","main":"dist/main.js","browser":"dist/browser.js","types":"./index.d.ts","scripts":{"lint":"standard --fix","build":"parcel build --no-cache","dev":"mocha -g 'BIP32' ","test":"standard && mocha","coverage":"nyc --reporter=text npm run test","prepublishOnly":"yarn build","release":"npm publish --access public"},"targets":{"types":false},"keywords":["bitcoin","bsv","scrypt","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"repository":{"type":"git","url":"git+https://github.com/sCrypt-Inc/bsv"},"dependencies":{"aes-js":"^3.1.2","assert":"^2.1.0","bn.js":"=4.11.9","bs58":"=4.0.1","buffer":"^6.0.3","clone-deep":"^4.0.1","elliptic":"^6.6.1","hash.js":"^1.1.7","inherits":"2.0.3","unorm":"1.4.1"},"devDependencies":{"brfs":"2.0.1","chai":"4.2.0","mocha":"^8.4.0","nyc":"^14.1.1","parcel":"latest","sinon":"7.2.3","standard":"12.0.1"},"license":"MIT","standard":{"globals":["afterEach","beforeEach","describe","it"],"ignore":["dist/**","esmTest/**"]}}`)});Fe("dIoYd",function(t,e){var r=tr.Buffer,n=W("jBF4k"),i=W("6gAsx"),s=W("kBBbb"),o=function(a){for(var u=r.alloc(a.length),c=0;c<a.length;c++)u[c]=a[a.length-1-c];return u};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(a){return i.checkArgument(s.isNumber(a)),new n(a)},n.fromString=function(a,u){return i.checkArgument(s.isString(a)),new n(a,u)},n.fromBuffer=function(a,u){typeof u<"u"&&u.endian==="little"&&(a=o(a));var c=a.toString("hex"),h=new n(c,16);return h},n.fromSM=function(a,u){var c;if(a.length===0)return n.fromBuffer(r.from([0]));var h="big";return u&&(h=u.endian),h==="little"&&(a=o(a)),a[0]&128?(a[0]=a[0]&127,c=n.fromBuffer(a),c.neg().copy(c)):c=n.fromBuffer(a),c},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(a){var u,c;if(a&&a.size){c=this.toString(16,2);var h=c.length/2;u=r.from(c,"hex"),h===a.size||(h>a.size?u=n.trim(u,h):h<a.size&&(u=n.pad(u,h,a.size)))}else c=this.toString(16,2),u=r.from(c,"hex");return typeof a<"u"&&a.endian==="little"&&(u=o(u)),u},n.prototype.toSMBigEndian=function(){var a;return this.cmp(n.Zero)===-1?(a=this.neg().toBuffer(),a[0]&128?a=r.concat([r.from([128]),a]):a[0]=a[0]|128):(a=this.toBuffer(),a[0]&128&&(a=r.concat([r.from([0]),a]))),a.length===1&a[0]===0&&(a=r.from([])),a},n.prototype.toSM=function(a){var u=a?a.endian:"big",c=this.toSMBigEndian();return u==="little"&&(c=o(c)),c},n.fromScriptNumBuffer=function(a,u,c){var h=c||Number.MAX_SAFE_INTEGER;if(i.checkArgument(a.length<=h,new Error("script number overflow")),u&&a.length>0&&(a[a.length-1]&127)===0&&(a.length<=1||(a[a.length-2]&128)===0))throw new Error("non-minimally encoded script number");return n.fromSM(a,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(a,u){return a.slice(u-a.length,a.length)},n.pad=function(a,u,c){for(var h=r.alloc(c),f=0;f<a.length;f++)h[h.length-1-f]=a[a.length-1-f];for(f=0;f<c-u;f++)h[f]=0;return h},n.prototype.toHex=function(...a){return this.toBuffer(...a).toString("hex")},n.fromHex=function(a,...u){return n.fromBuffer(r.from(a,"hex"),...u)},t.exports=n});Fe("jBF4k",function(t,e){var r=tr.Buffer;(function(n,i){"use strict";function s(v,g){if(!v)throw new Error(g||"Assertion failed")}function o(v,g){v.super_=g;var m=function(){};m.prototype=g.prototype,v.prototype=new m,v.prototype.constructor=v}function a(v,g,m){if(a.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((g==="le"||g==="be")&&(m=g,g=10),this._init(v||0,g||10,m||"be"))}typeof n=="object"?n.exports=a:i.BN=a,a.BN=a,a.wordSize=26,a.isBN=function(g){return g instanceof a?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===a.wordSize&&Array.isArray(g.words)},a.max=function(g,m){return g.cmp(m)>0?g:m},a.min=function(g,m){return g.cmp(m)<0?g:m},a.prototype._init=function(g,m,S){if(typeof g=="number")return this._initNumber(g,m,S);if(typeof g=="object")return this._initArray(g,m,S);m==="hex"&&(m=16),s(m===(m|0)&&m>=2&&m<=36),g=g.toString().replace(/\s+/g,"");var w=0;g[0]==="-"&&w++,m===16?this._parseHex(g,w):this._parseBase(g,m,w),g[0]==="-"&&(this.negative=1),this.strip(),S==="le"&&this._initArray(this.toArray(),m,S)},a.prototype._initNumber=function(g,m,S){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(s(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),m,S)},a.prototype._initArray=function(g,m,S){if(s(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var R,T,b=0;if(S==="be")for(w=g.length-1,R=0;w>=0;w-=3)T=g[w]|g[w-1]<<8|g[w-2]<<16,this.words[R]|=T<<b&67108863,this.words[R+1]=T>>>26-b&67108863,b+=24,b>=26&&(b-=26,R++);else if(S==="le")for(w=0,R=0;w<g.length;w+=3)T=g[w]|g[w+1]<<8|g[w+2]<<16,this.words[R]|=T<<b&67108863,this.words[R+1]=T>>>26-b&67108863,b+=24,b>=26&&(b-=26,R++);return this.strip()};function u(v,g,m){for(var S=0,w=Math.min(v.length,m),R=g;R<w;R++){var T=v.charCodeAt(R)-48;S<<=4,T>=49&&T<=54?S|=T-49+10:T>=17&&T<=22?S|=T-17+10:S|=T&15}return S}a.prototype._parseHex=function(g,m){this.length=Math.ceil((g.length-m)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var w,R,T=0;for(S=g.length-6,w=0;S>=m;S-=6)R=u(g,S,S+6),this.words[w]|=R<<T&67108863,this.words[w+1]|=R>>>26-T&4194303,T+=24,T>=26&&(T-=26,w++);S+6!==m&&(R=u(g,m,S+6),this.words[w]|=R<<T&67108863,this.words[w+1]|=R>>>26-T&4194303),this.strip()};function c(v,g,m,S){for(var w=0,R=Math.min(v.length,m),T=g;T<R;T++){var b=v.charCodeAt(T)-48;w*=S,b>=49?w+=b-49+10:b>=17?w+=b-17+10:w+=b}return w}a.prototype._parseBase=function(g,m,S){this.words=[0],this.length=1;for(var w=0,R=1;R<=67108863;R*=m)w++;w--,R=R/m|0;for(var T=g.length-S,b=T%w,x=Math.min(T,T-b)+S,P=0,U=S;U<x;U+=w)P=c(g,U,U+w,m),this.imuln(R),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(b!==0){var K=1;for(P=c(g,U,g.length,m),U=0;U<b;U++)K*=m;this.imuln(K),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}},a.prototype.copy=function(g){g.words=new Array(this.length);for(var m=0;m<this.length;m++)g.words[m]=this.words[m];g.length=this.length,g.negative=this.negative,g.red=this.red},a.prototype.clone=function(){var g=new a(null);return this.copy(g),g},a.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(g,m){g=g||10,m=m|0||1;var S;if(g===16||g==="hex"){S="";for(var w=0,R=0,T=0;T<this.length;T++){var b=this.words[T],x=((b<<w|R)&16777215).toString(16);R=b>>>24-w&16777215,w+=2,w>=26&&(w-=26,T--),R!==0||T!==this.length-1?S=h[6-x.length]+x+S:S=x+S}for(R!==0&&(S=R.toString(16)+S);S.length%m!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(g===(g|0)&&g>=2&&g<=36){var P=f[g],U=p[g];S="";var K=this.clone();for(K.negative=0;!K.isZero();){var z=K.modn(U).toString(g);K=K.idivn(U),K.isZero()?S=z+S:S=h[P-z.length]+z+S}for(this.isZero()&&(S="0"+S);S.length%m!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(g,m){return s(typeof r<"u"),this.toArrayLike(r,g,m)},a.prototype.toArray=function(g,m){return this.toArrayLike(Array,g,m)},a.prototype.toArrayLike=function(g,m,S){var w=this.byteLength(),R=S||Math.max(1,w);s(w<=R,"byte array longer than desired length"),s(R>0,"Requested array length <= 0"),this.strip();var T=m==="le",b=new g(R),x,P,U=this.clone();if(T){for(P=0;!U.isZero();P++)x=U.andln(255),U.iushrn(8),b[P]=x;for(;P<R;P++)b[P]=0}else{for(P=0;P<R-w;P++)b[P]=0;for(P=0;!U.isZero();P++)x=U.andln(255),U.iushrn(8),b[R-P-1]=x}return b},Math.clz32?a.prototype._countBits=function(g){return 32-Math.clz32(g)}:a.prototype._countBits=function(g){var m=g,S=0;return m>=4096&&(S+=13,m>>>=13),m>=64&&(S+=7,m>>>=7),m>=8&&(S+=4,m>>>=4),m>=2&&(S+=2,m>>>=2),S+m},a.prototype._zeroBits=function(g){if(g===0)return 26;var m=g,S=0;return(m&8191)===0&&(S+=13,m>>>=13),(m&127)===0&&(S+=7,m>>>=7),(m&15)===0&&(S+=4,m>>>=4),(m&3)===0&&(S+=2,m>>>=2),(m&1)===0&&S++,S},a.prototype.bitLength=function(){var g=this.words[this.length-1],m=this._countBits(g);return(this.length-1)*26+m};function l(v){for(var g=new Array(v.bitLength()),m=0;m<g.length;m++){var S=m/26|0,w=m%26;g[m]=(v.words[S]&1<<w)>>>w}return g}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,m=0;m<this.length;m++){var S=this._zeroBits(this.words[m]);if(g+=S,S!==26)break}return g},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},a.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var m=0;m<g.length;m++)this.words[m]=this.words[m]|g.words[m];return this.strip()},a.prototype.ior=function(g){return s((this.negative|g.negative)===0),this.iuor(g)},a.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},a.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},a.prototype.iuand=function(g){var m;this.length>g.length?m=g:m=this;for(var S=0;S<m.length;S++)this.words[S]=this.words[S]&g.words[S];return this.length=m.length,this.strip()},a.prototype.iand=function(g){return s((this.negative|g.negative)===0),this.iuand(g)},a.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},a.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},a.prototype.iuxor=function(g){var m,S;this.length>g.length?(m=this,S=g):(m=g,S=this);for(var w=0;w<S.length;w++)this.words[w]=m.words[w]^S.words[w];if(this!==m)for(;w<m.length;w++)this.words[w]=m.words[w];return this.length=m.length,this.strip()},a.prototype.ixor=function(g){return s((this.negative|g.negative)===0),this.iuxor(g)},a.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},a.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},a.prototype.inotn=function(g){s(typeof g=="number"&&g>=0);var m=Math.ceil(g/26)|0,S=g%26;this._expand(m),S>0&&m--;for(var w=0;w<m;w++)this.words[w]=~this.words[w]&67108863;return S>0&&(this.words[w]=~this.words[w]&67108863>>26-S),this.strip()},a.prototype.notn=function(g){return this.clone().inotn(g)},a.prototype.setn=function(g,m){s(typeof g=="number"&&g>=0);var S=g/26|0,w=g%26;return this._expand(S+1),m?this.words[S]=this.words[S]|1<<w:this.words[S]=this.words[S]&~(1<<w),this.strip()},a.prototype.iadd=function(g){var m;if(this.negative!==0&&g.negative===0)return this.negative=0,m=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,m=this.isub(g),g.negative=1,m._normSign();var S,w;this.length>g.length?(S=this,w=g):(S=g,w=this);for(var R=0,T=0;T<w.length;T++)m=(S.words[T]|0)+(w.words[T]|0)+R,this.words[T]=m&67108863,R=m>>>26;for(;R!==0&&T<S.length;T++)m=(S.words[T]|0)+R,this.words[T]=m&67108863,R=m>>>26;if(this.length=S.length,R!==0)this.words[this.length]=R,this.length++;else if(S!==this)for(;T<S.length;T++)this.words[T]=S.words[T];return this},a.prototype.add=function(g){var m;return g.negative!==0&&this.negative===0?(g.negative=0,m=this.sub(g),g.negative^=1,m):g.negative===0&&this.negative!==0?(this.negative=0,m=g.sub(this),this.negative=1,m):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},a.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var m=this.iadd(g);return g.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var S=this.cmp(g);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,R;S>0?(w=this,R=g):(w=g,R=this);for(var T=0,b=0;b<R.length;b++)m=(w.words[b]|0)-(R.words[b]|0)+T,T=m>>26,this.words[b]=m&67108863;for(;T!==0&&b<w.length;b++)m=(w.words[b]|0)+T,T=m>>26,this.words[b]=m&67108863;if(T===0&&b<w.length&&w!==this)for(;b<w.length;b++)this.words[b]=w.words[b];return this.length=Math.max(this.length,b),w!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(g){return this.clone().isub(g)};function y(v,g,m){m.negative=g.negative^v.negative;var S=v.length+g.length|0;m.length=S,S=S-1|0;var w=v.words[0]|0,R=g.words[0]|0,T=w*R,b=T&67108863,x=T/67108864|0;m.words[0]=b;for(var P=1;P<S;P++){for(var U=x>>>26,K=x&67108863,z=Math.min(P,g.length-1),Q=Math.max(0,P-v.length+1);Q<=z;Q++){var oe=P-Q|0;w=v.words[oe]|0,R=g.words[Q]|0,T=w*R+K,U+=T/67108864|0,K=T&67108863}m.words[P]=K|0,x=U|0}return x!==0?m.words[P]=x|0:m.length--,m.strip()}var _=function(g,m,S){var w=g.words,R=m.words,T=S.words,b=0,x,P,U,K=w[0]|0,z=K&8191,Q=K>>>13,oe=w[1]|0,ie=oe&8191,q=oe>>>13,X=w[2]|0,J=X&8191,re=X>>>13,ae=w[3]|0,me=ae&8191,_e=ae>>>13,Ie=w[4]|0,Le=Ie&8191,Ce=Ie>>>13,He=w[5]|0,Ze=He&8191,Te=He>>>13,Se=w[6]|0,pt=Se&8191,j=Se>>>13,Y=w[7]|0,V=Y&8191,G=Y>>>13,Z=w[8]|0,ee=Z&8191,te=Z>>>13,ue=w[9]|0,se=ue&8191,de=ue>>>13,ye=R[0]|0,Pe=ye&8191,xe=ye>>>13,Ge=R[1]|0,Ft=Ge&8191,Ye=Ge>>>13,St=R[2]|0,tn=St&8191,Je=St>>>13,Ht=R[3]|0,rn=Ht&8191,Qe=Ht>>>13,Dt=R[4]|0,nn=Dt&8191,et=Dt>>>13,Lt=R[5]|0,sn=Lt&8191,tt=Lt>>>13,Ut=R[6]|0,on=Ut&8191,rt=Ut>>>13,qt=R[7]|0,an=qt&8191,nt=qt>>>13,$t=R[8]|0,un=$t&8191,it=$t>>>13,jt=R[9]|0,Gr=jt&8191,zr=jt>>>13;S.negative=g.negative^m.negative,S.length=19,x=Math.imul(z,Pe),P=Math.imul(z,xe),P=P+Math.imul(Q,Pe)|0,U=Math.imul(Q,xe);var Du=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Du>>>26)|0,Du&=67108863,x=Math.imul(ie,Pe),P=Math.imul(ie,xe),P=P+Math.imul(q,Pe)|0,U=Math.imul(q,xe),x=x+Math.imul(z,Ft)|0,P=P+Math.imul(z,Ye)|0,P=P+Math.imul(Q,Ft)|0,U=U+Math.imul(Q,Ye)|0;var Lu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,x=Math.imul(J,Pe),P=Math.imul(J,xe),P=P+Math.imul(re,Pe)|0,U=Math.imul(re,xe),x=x+Math.imul(ie,Ft)|0,P=P+Math.imul(ie,Ye)|0,P=P+Math.imul(q,Ft)|0,U=U+Math.imul(q,Ye)|0,x=x+Math.imul(z,tn)|0,P=P+Math.imul(z,Je)|0,P=P+Math.imul(Q,tn)|0,U=U+Math.imul(Q,Je)|0;var Uu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,x=Math.imul(me,Pe),P=Math.imul(me,xe),P=P+Math.imul(_e,Pe)|0,U=Math.imul(_e,xe),x=x+Math.imul(J,Ft)|0,P=P+Math.imul(J,Ye)|0,P=P+Math.imul(re,Ft)|0,U=U+Math.imul(re,Ye)|0,x=x+Math.imul(ie,tn)|0,P=P+Math.imul(ie,Je)|0,P=P+Math.imul(q,tn)|0,U=U+Math.imul(q,Je)|0,x=x+Math.imul(z,rn)|0,P=P+Math.imul(z,Qe)|0,P=P+Math.imul(Q,rn)|0,U=U+Math.imul(Q,Qe)|0;var qu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(qu>>>26)|0,qu&=67108863,x=Math.imul(Le,Pe),P=Math.imul(Le,xe),P=P+Math.imul(Ce,Pe)|0,U=Math.imul(Ce,xe),x=x+Math.imul(me,Ft)|0,P=P+Math.imul(me,Ye)|0,P=P+Math.imul(_e,Ft)|0,U=U+Math.imul(_e,Ye)|0,x=x+Math.imul(J,tn)|0,P=P+Math.imul(J,Je)|0,P=P+Math.imul(re,tn)|0,U=U+Math.imul(re,Je)|0,x=x+Math.imul(ie,rn)|0,P=P+Math.imul(ie,Qe)|0,P=P+Math.imul(q,rn)|0,U=U+Math.imul(q,Qe)|0,x=x+Math.imul(z,nn)|0,P=P+Math.imul(z,et)|0,P=P+Math.imul(Q,nn)|0,U=U+Math.imul(Q,et)|0;var $u=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+($u>>>26)|0,$u&=67108863,x=Math.imul(Ze,Pe),P=Math.imul(Ze,xe),P=P+Math.imul(Te,Pe)|0,U=Math.imul(Te,xe),x=x+Math.imul(Le,Ft)|0,P=P+Math.imul(Le,Ye)|0,P=P+Math.imul(Ce,Ft)|0,U=U+Math.imul(Ce,Ye)|0,x=x+Math.imul(me,tn)|0,P=P+Math.imul(me,Je)|0,P=P+Math.imul(_e,tn)|0,U=U+Math.imul(_e,Je)|0,x=x+Math.imul(J,rn)|0,P=P+Math.imul(J,Qe)|0,P=P+Math.imul(re,rn)|0,U=U+Math.imul(re,Qe)|0,x=x+Math.imul(ie,nn)|0,P=P+Math.imul(ie,et)|0,P=P+Math.imul(q,nn)|0,U=U+Math.imul(q,et)|0,x=x+Math.imul(z,sn)|0,P=P+Math.imul(z,tt)|0,P=P+Math.imul(Q,sn)|0,U=U+Math.imul(Q,tt)|0;var ju=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(ju>>>26)|0,ju&=67108863,x=Math.imul(pt,Pe),P=Math.imul(pt,xe),P=P+Math.imul(j,Pe)|0,U=Math.imul(j,xe),x=x+Math.imul(Ze,Ft)|0,P=P+Math.imul(Ze,Ye)|0,P=P+Math.imul(Te,Ft)|0,U=U+Math.imul(Te,Ye)|0,x=x+Math.imul(Le,tn)|0,P=P+Math.imul(Le,Je)|0,P=P+Math.imul(Ce,tn)|0,U=U+Math.imul(Ce,Je)|0,x=x+Math.imul(me,rn)|0,P=P+Math.imul(me,Qe)|0,P=P+Math.imul(_e,rn)|0,U=U+Math.imul(_e,Qe)|0,x=x+Math.imul(J,nn)|0,P=P+Math.imul(J,et)|0,P=P+Math.imul(re,nn)|0,U=U+Math.imul(re,et)|0,x=x+Math.imul(ie,sn)|0,P=P+Math.imul(ie,tt)|0,P=P+Math.imul(q,sn)|0,U=U+Math.imul(q,tt)|0,x=x+Math.imul(z,on)|0,P=P+Math.imul(z,rt)|0,P=P+Math.imul(Q,on)|0,U=U+Math.imul(Q,rt)|0;var Ku=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,x=Math.imul(V,Pe),P=Math.imul(V,xe),P=P+Math.imul(G,Pe)|0,U=Math.imul(G,xe),x=x+Math.imul(pt,Ft)|0,P=P+Math.imul(pt,Ye)|0,P=P+Math.imul(j,Ft)|0,U=U+Math.imul(j,Ye)|0,x=x+Math.imul(Ze,tn)|0,P=P+Math.imul(Ze,Je)|0,P=P+Math.imul(Te,tn)|0,U=U+Math.imul(Te,Je)|0,x=x+Math.imul(Le,rn)|0,P=P+Math.imul(Le,Qe)|0,P=P+Math.imul(Ce,rn)|0,U=U+Math.imul(Ce,Qe)|0,x=x+Math.imul(me,nn)|0,P=P+Math.imul(me,et)|0,P=P+Math.imul(_e,nn)|0,U=U+Math.imul(_e,et)|0,x=x+Math.imul(J,sn)|0,P=P+Math.imul(J,tt)|0,P=P+Math.imul(re,sn)|0,U=U+Math.imul(re,tt)|0,x=x+Math.imul(ie,on)|0,P=P+Math.imul(ie,rt)|0,P=P+Math.imul(q,on)|0,U=U+Math.imul(q,rt)|0,x=x+Math.imul(z,an)|0,P=P+Math.imul(z,nt)|0,P=P+Math.imul(Q,an)|0,U=U+Math.imul(Q,nt)|0;var Vu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,x=Math.imul(ee,Pe),P=Math.imul(ee,xe),P=P+Math.imul(te,Pe)|0,U=Math.imul(te,xe),x=x+Math.imul(V,Ft)|0,P=P+Math.imul(V,Ye)|0,P=P+Math.imul(G,Ft)|0,U=U+Math.imul(G,Ye)|0,x=x+Math.imul(pt,tn)|0,P=P+Math.imul(pt,Je)|0,P=P+Math.imul(j,tn)|0,U=U+Math.imul(j,Je)|0,x=x+Math.imul(Ze,rn)|0,P=P+Math.imul(Ze,Qe)|0,P=P+Math.imul(Te,rn)|0,U=U+Math.imul(Te,Qe)|0,x=x+Math.imul(Le,nn)|0,P=P+Math.imul(Le,et)|0,P=P+Math.imul(Ce,nn)|0,U=U+Math.imul(Ce,et)|0,x=x+Math.imul(me,sn)|0,P=P+Math.imul(me,tt)|0,P=P+Math.imul(_e,sn)|0,U=U+Math.imul(_e,tt)|0,x=x+Math.imul(J,on)|0,P=P+Math.imul(J,rt)|0,P=P+Math.imul(re,on)|0,U=U+Math.imul(re,rt)|0,x=x+Math.imul(ie,an)|0,P=P+Math.imul(ie,nt)|0,P=P+Math.imul(q,an)|0,U=U+Math.imul(q,nt)|0,x=x+Math.imul(z,un)|0,P=P+Math.imul(z,it)|0,P=P+Math.imul(Q,un)|0,U=U+Math.imul(Q,it)|0;var Gu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,x=Math.imul(se,Pe),P=Math.imul(se,xe),P=P+Math.imul(de,Pe)|0,U=Math.imul(de,xe),x=x+Math.imul(ee,Ft)|0,P=P+Math.imul(ee,Ye)|0,P=P+Math.imul(te,Ft)|0,U=U+Math.imul(te,Ye)|0,x=x+Math.imul(V,tn)|0,P=P+Math.imul(V,Je)|0,P=P+Math.imul(G,tn)|0,U=U+Math.imul(G,Je)|0,x=x+Math.imul(pt,rn)|0,P=P+Math.imul(pt,Qe)|0,P=P+Math.imul(j,rn)|0,U=U+Math.imul(j,Qe)|0,x=x+Math.imul(Ze,nn)|0,P=P+Math.imul(Ze,et)|0,P=P+Math.imul(Te,nn)|0,U=U+Math.imul(Te,et)|0,x=x+Math.imul(Le,sn)|0,P=P+Math.imul(Le,tt)|0,P=P+Math.imul(Ce,sn)|0,U=U+Math.imul(Ce,tt)|0,x=x+Math.imul(me,on)|0,P=P+Math.imul(me,rt)|0,P=P+Math.imul(_e,on)|0,U=U+Math.imul(_e,rt)|0,x=x+Math.imul(J,an)|0,P=P+Math.imul(J,nt)|0,P=P+Math.imul(re,an)|0,U=U+Math.imul(re,nt)|0,x=x+Math.imul(ie,un)|0,P=P+Math.imul(ie,it)|0,P=P+Math.imul(q,un)|0,U=U+Math.imul(q,it)|0,x=x+Math.imul(z,Gr)|0,P=P+Math.imul(z,zr)|0,P=P+Math.imul(Q,Gr)|0,U=U+Math.imul(Q,zr)|0;var zu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(zu>>>26)|0,zu&=67108863,x=Math.imul(se,Ft),P=Math.imul(se,Ye),P=P+Math.imul(de,Ft)|0,U=Math.imul(de,Ye),x=x+Math.imul(ee,tn)|0,P=P+Math.imul(ee,Je)|0,P=P+Math.imul(te,tn)|0,U=U+Math.imul(te,Je)|0,x=x+Math.imul(V,rn)|0,P=P+Math.imul(V,Qe)|0,P=P+Math.imul(G,rn)|0,U=U+Math.imul(G,Qe)|0,x=x+Math.imul(pt,nn)|0,P=P+Math.imul(pt,et)|0,P=P+Math.imul(j,nn)|0,U=U+Math.imul(j,et)|0,x=x+Math.imul(Ze,sn)|0,P=P+Math.imul(Ze,tt)|0,P=P+Math.imul(Te,sn)|0,U=U+Math.imul(Te,tt)|0,x=x+Math.imul(Le,on)|0,P=P+Math.imul(Le,rt)|0,P=P+Math.imul(Ce,on)|0,U=U+Math.imul(Ce,rt)|0,x=x+Math.imul(me,an)|0,P=P+Math.imul(me,nt)|0,P=P+Math.imul(_e,an)|0,U=U+Math.imul(_e,nt)|0,x=x+Math.imul(J,un)|0,P=P+Math.imul(J,it)|0,P=P+Math.imul(re,un)|0,U=U+Math.imul(re,it)|0,x=x+Math.imul(ie,Gr)|0,P=P+Math.imul(ie,zr)|0,P=P+Math.imul(q,Gr)|0,U=U+Math.imul(q,zr)|0;var Wu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,x=Math.imul(se,tn),P=Math.imul(se,Je),P=P+Math.imul(de,tn)|0,U=Math.imul(de,Je),x=x+Math.imul(ee,rn)|0,P=P+Math.imul(ee,Qe)|0,P=P+Math.imul(te,rn)|0,U=U+Math.imul(te,Qe)|0,x=x+Math.imul(V,nn)|0,P=P+Math.imul(V,et)|0,P=P+Math.imul(G,nn)|0,U=U+Math.imul(G,et)|0,x=x+Math.imul(pt,sn)|0,P=P+Math.imul(pt,tt)|0,P=P+Math.imul(j,sn)|0,U=U+Math.imul(j,tt)|0,x=x+Math.imul(Ze,on)|0,P=P+Math.imul(Ze,rt)|0,P=P+Math.imul(Te,on)|0,U=U+Math.imul(Te,rt)|0,x=x+Math.imul(Le,an)|0,P=P+Math.imul(Le,nt)|0,P=P+Math.imul(Ce,an)|0,U=U+Math.imul(Ce,nt)|0,x=x+Math.imul(me,un)|0,P=P+Math.imul(me,it)|0,P=P+Math.imul(_e,un)|0,U=U+Math.imul(_e,it)|0,x=x+Math.imul(J,Gr)|0,P=P+Math.imul(J,zr)|0,P=P+Math.imul(re,Gr)|0,U=U+Math.imul(re,zr)|0;var Yu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,x=Math.imul(se,rn),P=Math.imul(se,Qe),P=P+Math.imul(de,rn)|0,U=Math.imul(de,Qe),x=x+Math.imul(ee,nn)|0,P=P+Math.imul(ee,et)|0,P=P+Math.imul(te,nn)|0,U=U+Math.imul(te,et)|0,x=x+Math.imul(V,sn)|0,P=P+Math.imul(V,tt)|0,P=P+Math.imul(G,sn)|0,U=U+Math.imul(G,tt)|0,x=x+Math.imul(pt,on)|0,P=P+Math.imul(pt,rt)|0,P=P+Math.imul(j,on)|0,U=U+Math.imul(j,rt)|0,x=x+Math.imul(Ze,an)|0,P=P+Math.imul(Ze,nt)|0,P=P+Math.imul(Te,an)|0,U=U+Math.imul(Te,nt)|0,x=x+Math.imul(Le,un)|0,P=P+Math.imul(Le,it)|0,P=P+Math.imul(Ce,un)|0,U=U+Math.imul(Ce,it)|0,x=x+Math.imul(me,Gr)|0,P=P+Math.imul(me,zr)|0,P=P+Math.imul(_e,Gr)|0,U=U+Math.imul(_e,zr)|0;var Xu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,x=Math.imul(se,nn),P=Math.imul(se,et),P=P+Math.imul(de,nn)|0,U=Math.imul(de,et),x=x+Math.imul(ee,sn)|0,P=P+Math.imul(ee,tt)|0,P=P+Math.imul(te,sn)|0,U=U+Math.imul(te,tt)|0,x=x+Math.imul(V,on)|0,P=P+Math.imul(V,rt)|0,P=P+Math.imul(G,on)|0,U=U+Math.imul(G,rt)|0,x=x+Math.imul(pt,an)|0,P=P+Math.imul(pt,nt)|0,P=P+Math.imul(j,an)|0,U=U+Math.imul(j,nt)|0,x=x+Math.imul(Ze,un)|0,P=P+Math.imul(Ze,it)|0,P=P+Math.imul(Te,un)|0,U=U+Math.imul(Te,it)|0,x=x+Math.imul(Le,Gr)|0,P=P+Math.imul(Le,zr)|0,P=P+Math.imul(Ce,Gr)|0,U=U+Math.imul(Ce,zr)|0;var Zu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,x=Math.imul(se,sn),P=Math.imul(se,tt),P=P+Math.imul(de,sn)|0,U=Math.imul(de,tt),x=x+Math.imul(ee,on)|0,P=P+Math.imul(ee,rt)|0,P=P+Math.imul(te,on)|0,U=U+Math.imul(te,rt)|0,x=x+Math.imul(V,an)|0,P=P+Math.imul(V,nt)|0,P=P+Math.imul(G,an)|0,U=U+Math.imul(G,nt)|0,x=x+Math.imul(pt,un)|0,P=P+Math.imul(pt,it)|0,P=P+Math.imul(j,un)|0,U=U+Math.imul(j,it)|0,x=x+Math.imul(Ze,Gr)|0,P=P+Math.imul(Ze,zr)|0,P=P+Math.imul(Te,Gr)|0,U=U+Math.imul(Te,zr)|0;var Ju=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,x=Math.imul(se,on),P=Math.imul(se,rt),P=P+Math.imul(de,on)|0,U=Math.imul(de,rt),x=x+Math.imul(ee,an)|0,P=P+Math.imul(ee,nt)|0,P=P+Math.imul(te,an)|0,U=U+Math.imul(te,nt)|0,x=x+Math.imul(V,un)|0,P=P+Math.imul(V,it)|0,P=P+Math.imul(G,un)|0,U=U+Math.imul(G,it)|0,x=x+Math.imul(pt,Gr)|0,P=P+Math.imul(pt,zr)|0,P=P+Math.imul(j,Gr)|0,U=U+Math.imul(j,zr)|0;var Qu=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,x=Math.imul(se,an),P=Math.imul(se,nt),P=P+Math.imul(de,an)|0,U=Math.imul(de,nt),x=x+Math.imul(ee,un)|0,P=P+Math.imul(ee,it)|0,P=P+Math.imul(te,un)|0,U=U+Math.imul(te,it)|0,x=x+Math.imul(V,Gr)|0,P=P+Math.imul(V,zr)|0,P=P+Math.imul(G,Gr)|0,U=U+Math.imul(G,zr)|0;var ec=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(ec>>>26)|0,ec&=67108863,x=Math.imul(se,un),P=Math.imul(se,it),P=P+Math.imul(de,un)|0,U=Math.imul(de,it),x=x+Math.imul(ee,Gr)|0,P=P+Math.imul(ee,zr)|0,P=P+Math.imul(te,Gr)|0,U=U+Math.imul(te,zr)|0;var L_=(b+x|0)+((P&8191)<<13)|0;b=(U+(P>>>13)|0)+(L_>>>26)|0,L_&=67108863,x=Math.imul(se,Gr),P=Math.imul(se,zr),P=P+Math.imul(de,Gr)|0,U=Math.imul(de,zr);var U_=(b+x|0)+((P&8191)<<13)|0;return b=(U+(P>>>13)|0)+(U_>>>26)|0,U_&=67108863,T[0]=Du,T[1]=Lu,T[2]=Uu,T[3]=qu,T[4]=$u,T[5]=ju,T[6]=Ku,T[7]=Vu,T[8]=Gu,T[9]=zu,T[10]=Wu,T[11]=Yu,T[12]=Xu,T[13]=Zu,T[14]=Ju,T[15]=Qu,T[16]=ec,T[17]=L_,T[18]=U_,b!==0&&(T[19]=b,S.length++),S};Math.imul||(_=y);function O(v,g,m){m.negative=g.negative^v.negative,m.length=v.length+g.length;for(var S=0,w=0,R=0;R<m.length-1;R++){var T=w;w=0;for(var b=S&67108863,x=Math.min(R,g.length-1),P=Math.max(0,R-v.length+1);P<=x;P++){var U=R-P,K=v.words[U]|0,z=g.words[P]|0,Q=K*z,oe=Q&67108863;T=T+(Q/67108864|0)|0,oe=oe+b|0,b=oe&67108863,T=T+(oe>>>26)|0,w+=T>>>26,T&=67108863}m.words[R]=b,S=T,T=w}return S!==0?m.words[R]=S:m.length--,m.strip()}function F(v,g,m){var S=new B;return S.mulp(v,g,m)}a.prototype.mulTo=function(g,m){var S,w=this.length+g.length;return this.length===10&&g.length===10?S=_(this,g,m):w<63?S=y(this,g,m):w<1024?S=O(this,g,m):S=F(this,g,m),S};function B(v,g){this.x=v,this.y=g}B.prototype.makeRBT=function(g){for(var m=new Array(g),S=a.prototype._countBits(g)-1,w=0;w<g;w++)m[w]=this.revBin(w,S,g);return m},B.prototype.revBin=function(g,m,S){if(g===0||g===S-1)return g;for(var w=0,R=0;R<m;R++)w|=(g&1)<<m-R-1,g>>=1;return w},B.prototype.permute=function(g,m,S,w,R,T){for(var b=0;b<T;b++)w[b]=m[g[b]],R[b]=S[g[b]]},B.prototype.transform=function(g,m,S,w,R,T){this.permute(T,g,m,S,w,R);for(var b=1;b<R;b<<=1)for(var x=b<<1,P=Math.cos(2*Math.PI/x),U=Math.sin(2*Math.PI/x),K=0;K<R;K+=x)for(var z=P,Q=U,oe=0;oe<b;oe++){var ie=S[K+oe],q=w[K+oe],X=S[K+oe+b],J=w[K+oe+b],re=z*X-Q*J;J=z*J+Q*X,X=re,S[K+oe]=ie+X,w[K+oe]=q+J,S[K+oe+b]=ie-X,w[K+oe+b]=q-J,oe!==x&&(re=P*z-U*Q,Q=P*Q+U*z,z=re)}},B.prototype.guessLen13b=function(g,m){var S=Math.max(m,g)|1,w=S&1,R=0;for(S=S/2|0;S;S=S>>>1)R++;return 1<<R+1+w},B.prototype.conjugate=function(g,m,S){if(!(S<=1))for(var w=0;w<S/2;w++){var R=g[w];g[w]=g[S-w-1],g[S-w-1]=R,R=m[w],m[w]=-m[S-w-1],m[S-w-1]=-R}},B.prototype.normalize13b=function(g,m){for(var S=0,w=0;w<m/2;w++){var R=Math.round(g[2*w+1]/m)*8192+Math.round(g[2*w]/m)+S;g[w]=R&67108863,R<67108864?S=0:S=R/67108864|0}return g},B.prototype.convert13b=function(g,m,S,w){for(var R=0,T=0;T<m;T++)R=R+(g[T]|0),S[2*T]=R&8191,R=R>>>13,S[2*T+1]=R&8191,R=R>>>13;for(T=2*m;T<w;++T)S[T]=0;s(R===0),s((R&-8192)===0)},B.prototype.stub=function(g){for(var m=new Array(g),S=0;S<g;S++)m[S]=0;return m},B.prototype.mulp=function(g,m,S){var w=2*this.guessLen13b(g.length,m.length),R=this.makeRBT(w),T=this.stub(w),b=new Array(w),x=new Array(w),P=new Array(w),U=new Array(w),K=new Array(w),z=new Array(w),Q=S.words;Q.length=w,this.convert13b(g.words,g.length,b,w),this.convert13b(m.words,m.length,U,w),this.transform(b,T,x,P,w,R),this.transform(U,T,K,z,w,R);for(var oe=0;oe<w;oe++){var ie=x[oe]*K[oe]-P[oe]*z[oe];P[oe]=x[oe]*z[oe]+P[oe]*K[oe],x[oe]=ie}return this.conjugate(x,P,w),this.transform(x,P,Q,T,w,R),this.conjugate(Q,T,w),this.normalize13b(Q,w),S.negative=g.negative^m.negative,S.length=g.length+m.length,S.strip()},a.prototype.mul=function(g){var m=new a(null);return m.words=new Array(this.length+g.length),this.mulTo(g,m)},a.prototype.mulf=function(g){var m=new a(null);return m.words=new Array(this.length+g.length),F(this,g,m)},a.prototype.imul=function(g){return this.clone().mulTo(g,this)},a.prototype.imuln=function(g){s(typeof g=="number"),s(g<67108864);for(var m=0,S=0;S<this.length;S++){var w=(this.words[S]|0)*g,R=(w&67108863)+(m&67108863);m>>=26,m+=w/67108864|0,m+=R>>>26,this.words[S]=R&67108863}return m!==0&&(this.words[S]=m,this.length++),this},a.prototype.muln=function(g){return this.clone().imuln(g)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(g){var m=l(g);if(m.length===0)return new a(1);for(var S=this,w=0;w<m.length&&m[w]===0;w++,S=S.sqr());if(++w<m.length)for(var R=S.sqr();w<m.length;w++,R=R.sqr())m[w]!==0&&(S=S.mul(R));return S},a.prototype.iushln=function(g){s(typeof g=="number"&&g>=0);var m=g%26,S=(g-m)/26,w=67108863>>>26-m<<26-m,R;if(m!==0){var T=0;for(R=0;R<this.length;R++){var b=this.words[R]&w,x=(this.words[R]|0)-b<<m;this.words[R]=x|T,T=b>>>26-m}T&&(this.words[R]=T,this.length++)}if(S!==0){for(R=this.length-1;R>=0;R--)this.words[R+S]=this.words[R];for(R=0;R<S;R++)this.words[R]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(g){return s(this.negative===0),this.iushln(g)},a.prototype.iushrn=function(g,m,S){s(typeof g=="number"&&g>=0);var w;m?w=(m-m%26)/26:w=0;var R=g%26,T=Math.min((g-R)/26,this.length),b=67108863^67108863>>>R<<R,x=S;if(w-=T,w=Math.max(0,w),x){for(var P=0;P<T;P++)x.words[P]=this.words[P];x.length=T}if(T!==0)if(this.length>T)for(this.length-=T,P=0;P<this.length;P++)this.words[P]=this.words[P+T];else this.words[0]=0,this.length=1;var U=0;for(P=this.length-1;P>=0&&(U!==0||P>=w);P--){var K=this.words[P]|0;this.words[P]=U<<26-R|K>>>R,U=K&b}return x&&U!==0&&(x.words[x.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(g,m,S){return s(this.negative===0),this.iushrn(g,m,S)},a.prototype.shln=function(g){return this.clone().ishln(g)},a.prototype.ushln=function(g){return this.clone().iushln(g)},a.prototype.shrn=function(g){return this.clone().ishrn(g)},a.prototype.ushrn=function(g){return this.clone().iushrn(g)},a.prototype.testn=function(g){s(typeof g=="number"&&g>=0);var m=g%26,S=(g-m)/26,w=1<<m;if(this.length<=S)return!1;var R=this.words[S];return!!(R&w)},a.prototype.imaskn=function(g){s(typeof g=="number"&&g>=0);var m=g%26,S=(g-m)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(m!==0&&S++,this.length=Math.min(S,this.length),m!==0){var w=67108863^67108863>>>m<<m;this.words[this.length-1]&=w}return this.strip()},a.prototype.maskn=function(g){return this.clone().imaskn(g)},a.prototype.iaddn=function(g){return s(typeof g=="number"),s(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},a.prototype._iaddn=function(g){this.words[0]+=g;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(g){if(s(typeof g=="number"),s(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(g){return this.clone().iaddn(g)},a.prototype.subn=function(g){return this.clone().isubn(g)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(g,m,S){var w=g.length+S,R;this._expand(w);var T,b=0;for(R=0;R<g.length;R++){T=(this.words[R+S]|0)+b;var x=(g.words[R]|0)*m;T-=x&67108863,b=(T>>26)-(x/67108864|0),this.words[R+S]=T&67108863}for(;R<this.length-S;R++)T=(this.words[R+S]|0)+b,b=T>>26,this.words[R+S]=T&67108863;if(b===0)return this.strip();for(s(b===-1),b=0,R=0;R<this.length;R++)T=-(this.words[R]|0)+b,b=T>>26,this.words[R]=T&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(g,m){var S=this.length-g.length,w=this.clone(),R=g,T=R.words[R.length-1]|0,b=this._countBits(T);S=26-b,S!==0&&(R=R.ushln(S),w.iushln(S),T=R.words[R.length-1]|0);var x=w.length-R.length,P;if(m!=="mod"){P=new a(null),P.length=x+1,P.words=new Array(P.length);for(var U=0;U<P.length;U++)P.words[U]=0}var K=w.clone()._ishlnsubmul(R,1,x);K.negative===0&&(w=K,P&&(P.words[x]=1));for(var z=x-1;z>=0;z--){var Q=(w.words[R.length+z]|0)*67108864+(w.words[R.length+z-1]|0);for(Q=Math.min(Q/T|0,67108863),w._ishlnsubmul(R,Q,z);w.negative!==0;)Q--,w.negative=0,w._ishlnsubmul(R,1,z),w.isZero()||(w.negative^=1);P&&(P.words[z]=Q)}return P&&P.strip(),w.strip(),m!=="div"&&S!==0&&w.iushrn(S),{div:P||null,mod:w}},a.prototype.divmod=function(g,m,S){if(s(!g.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var w,R,T;return this.negative!==0&&g.negative===0?(T=this.neg().divmod(g,m),m!=="mod"&&(w=T.div.neg()),m!=="div"&&(R=T.mod.neg(),S&&R.negative!==0&&R.iadd(g)),{div:w,mod:R}):this.negative===0&&g.negative!==0?(T=this.divmod(g.neg(),m),m!=="mod"&&(w=T.div.neg()),{div:w,mod:T.mod}):(this.negative&g.negative)!==0?(T=this.neg().divmod(g.neg(),m),m!=="div"&&(R=T.mod.neg(),S&&R.negative!==0&&R.isub(g)),{div:T.div,mod:R}):g.length>this.length||this.cmp(g)<0?{div:new a(0),mod:this}:g.length===1?m==="div"?{div:this.divn(g.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new a(this.modn(g.words[0]))}:this._wordDiv(g,m)},a.prototype.div=function(g){return this.divmod(g,"div",!1).div},a.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},a.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},a.prototype.divRound=function(g){var m=this.divmod(g);if(m.mod.isZero())return m.div;var S=m.div.negative!==0?m.mod.isub(g):m.mod,w=g.ushrn(1),R=g.andln(1),T=S.cmp(w);return T<0||R===1&&T===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(g){s(g<=67108863);for(var m=67108864%g,S=0,w=this.length-1;w>=0;w--)S=(m*S+(this.words[w]|0))%g;return S},a.prototype.idivn=function(g){s(g<=67108863);for(var m=0,S=this.length-1;S>=0;S--){var w=(this.words[S]|0)+m*67108864;this.words[S]=w/g|0,m=w%g}return this.strip()},a.prototype.divn=function(g){return this.clone().idivn(g)},a.prototype.egcd=function(g){s(g.negative===0),s(!g.isZero());var m=this,S=g.clone();m.negative!==0?m=m.umod(g):m=m.clone();for(var w=new a(1),R=new a(0),T=new a(0),b=new a(1),x=0;m.isEven()&&S.isEven();)m.iushrn(1),S.iushrn(1),++x;for(var P=S.clone(),U=m.clone();!m.isZero();){for(var K=0,z=1;(m.words[0]&z)===0&&K<26;++K,z<<=1);if(K>0)for(m.iushrn(K);K-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(P),R.isub(U)),w.iushrn(1),R.iushrn(1);for(var Q=0,oe=1;(S.words[0]&oe)===0&&Q<26;++Q,oe<<=1);if(Q>0)for(S.iushrn(Q);Q-- >0;)(T.isOdd()||b.isOdd())&&(T.iadd(P),b.isub(U)),T.iushrn(1),b.iushrn(1);m.cmp(S)>=0?(m.isub(S),w.isub(T),R.isub(b)):(S.isub(m),T.isub(w),b.isub(R))}return{a:T,b,gcd:S.iushln(x)}},a.prototype._invmp=function(g){s(g.negative===0),s(!g.isZero());var m=this,S=g.clone();m.negative!==0?m=m.umod(g):m=m.clone();for(var w=new a(1),R=new a(0),T=S.clone();m.cmpn(1)>0&&S.cmpn(1)>0;){for(var b=0,x=1;(m.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(m.iushrn(b);b-- >0;)w.isOdd()&&w.iadd(T),w.iushrn(1);for(var P=0,U=1;(S.words[0]&U)===0&&P<26;++P,U<<=1);if(P>0)for(S.iushrn(P);P-- >0;)R.isOdd()&&R.iadd(T),R.iushrn(1);m.cmp(S)>=0?(m.isub(S),w.isub(R)):(S.isub(m),R.isub(w))}var K;return m.cmpn(1)===0?K=w:K=R,K.cmpn(0)<0&&K.iadd(g),K},a.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var m=this.clone(),S=g.clone();m.negative=0,S.negative=0;for(var w=0;m.isEven()&&S.isEven();w++)m.iushrn(1),S.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;S.isEven();)S.iushrn(1);var R=m.cmp(S);if(R<0){var T=m;m=S,S=T}else if(R===0||S.cmpn(1)===0)break;m.isub(S)}while(!0);return S.iushln(w)},a.prototype.invm=function(g){return this.egcd(g).a.umod(g)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(g){return this.words[0]&g},a.prototype.bincn=function(g){s(typeof g=="number");var m=g%26,S=(g-m)/26,w=1<<m;if(this.length<=S)return this._expand(S+1),this.words[S]|=w,this;for(var R=w,T=S;R!==0&&T<this.length;T++){var b=this.words[T]|0;b+=R,R=b>>>26,b&=67108863,this.words[T]=b}return R!==0&&(this.words[T]=R,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(g){var m=g<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var S;if(this.length>1)S=1;else{m&&(g=-g),s(g<=67108863,"Number is too big");var w=this.words[0]|0;S=w===g?0:w<g?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var m=this.ucmp(g);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var m=0,S=this.length-1;S>=0;S--){var w=this.words[S]|0,R=g.words[S]|0;if(w!==R){w<R?m=-1:w>R&&(m=1);break}}return m},a.prototype.gtn=function(g){return this.cmpn(g)===1},a.prototype.gt=function(g){return this.cmp(g)===1},a.prototype.gten=function(g){return this.cmpn(g)>=0},a.prototype.gte=function(g){return this.cmp(g)>=0},a.prototype.ltn=function(g){return this.cmpn(g)===-1},a.prototype.lt=function(g){return this.cmp(g)===-1},a.prototype.lten=function(g){return this.cmpn(g)<=0},a.prototype.lte=function(g){return this.cmp(g)<=0},a.prototype.eqn=function(g){return this.cmpn(g)===0},a.prototype.eq=function(g){return this.cmp(g)===0},a.red=function(g){return new C(g)},a.prototype.toRed=function(g){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(g){return this.red=g,this},a.prototype.forceRed=function(g){return s(!this.red,"Already a number in reduction context"),this._forceRed(g)},a.prototype.redAdd=function(g){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},a.prototype.redIAdd=function(g){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},a.prototype.redSub=function(g){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},a.prototype.redISub=function(g){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},a.prototype.redShl=function(g){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},a.prototype.redMul=function(g){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},a.prototype.redIMul=function(g){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(g){return s(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var E={k256:null,p224:null,p192:null,p25519:null};function I(v,g){this.name=v,this.p=new a(g,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var g=new a(null);return g.words=new Array(Math.ceil(this.n/13)),g},I.prototype.ireduce=function(g){var m=g,S;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),S=m.bitLength();while(S>this.n);var w=S<this.n?-1:m.ucmp(this.p);return w===0?(m.words[0]=0,m.length=1):w>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},I.prototype.split=function(g,m){g.iushrn(this.n,0,m)},I.prototype.imulK=function(g){return g.imul(this.k)};function L(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(L,I),L.prototype.split=function(g,m){for(var S=4194303,w=Math.min(g.length,9),R=0;R<w;R++)m.words[R]=g.words[R];if(m.length=w,g.length<=9){g.words[0]=0,g.length=1;return}var T=g.words[9];for(m.words[m.length++]=T&S,R=10;R<g.length;R++){var b=g.words[R]|0;g.words[R-10]=(b&S)<<4|T>>>22,T=b}T>>>=22,g.words[R-10]=T,T===0&&g.length>10?g.length-=10:g.length-=9},L.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var m=0,S=0;S<g.length;S++){var w=g.words[S]|0;m+=w*977,g.words[S]=m&67108863,m=w*64+(m/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function N(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(N,I);function H(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(H,I);function D(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(D,I),D.prototype.imulK=function(g){for(var m=0,S=0;S<g.length;S++){var w=(g.words[S]|0)*19+m,R=w&67108863;w>>>=26,g.words[S]=R,m=w}return m!==0&&(g.words[g.length++]=m),g},a._prime=function(g){if(E[g])return E[g];var m;if(g==="k256")m=new L;else if(g==="p224")m=new N;else if(g==="p192")m=new H;else if(g==="p25519")m=new D;else throw new Error("Unknown prime "+g);return E[g]=m,m};function C(v){if(typeof v=="string"){var g=a._prime(v);this.m=g.p,this.prime=g}else s(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}C.prototype._verify1=function(g){s(g.negative===0,"red works only with positives"),s(g.red,"red works only with red numbers")},C.prototype._verify2=function(g,m){s((g.negative|m.negative)===0,"red works only with positives"),s(g.red&&g.red===m.red,"red works only with red numbers")},C.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},C.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},C.prototype.add=function(g,m){this._verify2(g,m);var S=g.add(m);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},C.prototype.iadd=function(g,m){this._verify2(g,m);var S=g.iadd(m);return S.cmp(this.m)>=0&&S.isub(this.m),S},C.prototype.sub=function(g,m){this._verify2(g,m);var S=g.sub(m);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},C.prototype.isub=function(g,m){this._verify2(g,m);var S=g.isub(m);return S.cmpn(0)<0&&S.iadd(this.m),S},C.prototype.shl=function(g,m){return this._verify1(g),this.imod(g.ushln(m))},C.prototype.imul=function(g,m){return this._verify2(g,m),this.imod(g.imul(m))},C.prototype.mul=function(g,m){return this._verify2(g,m),this.imod(g.mul(m))},C.prototype.isqr=function(g){return this.imul(g,g.clone())},C.prototype.sqr=function(g){return this.mul(g,g)},C.prototype.sqrt=function(g){if(g.isZero())return g.clone();var m=this.m.andln(3);if(s(m%2===1),m===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(g,S)}for(var w=this.m.subn(1),R=0;!w.isZero()&&w.andln(1)===0;)R++,w.iushrn(1);s(!w.isZero());var T=new a(1).toRed(this),b=T.redNeg(),x=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new a(2*P*P).toRed(this);this.pow(P,x).cmp(b)!==0;)P.redIAdd(b);for(var U=this.pow(P,w),K=this.pow(g,w.addn(1).iushrn(1)),z=this.pow(g,w),Q=R;z.cmp(T)!==0;){for(var oe=z,ie=0;oe.cmp(T)!==0;ie++)oe=oe.redSqr();s(ie<Q);var q=this.pow(U,new a(1).iushln(Q-ie-1));K=K.redMul(q),U=q.redSqr(),z=z.redMul(U),Q=ie}return K},C.prototype.invm=function(g){var m=g._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},C.prototype.pow=function(g,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return g.clone();var S=4,w=new Array(1<<S);w[0]=new a(1).toRed(this),w[1]=g;for(var R=2;R<w.length;R++)w[R]=this.mul(w[R-1],g);var T=w[0],b=0,x=0,P=m.bitLength()%26;for(P===0&&(P=26),R=m.length-1;R>=0;R--){for(var U=m.words[R],K=P-1;K>=0;K--){var z=U>>K&1;if(T!==w[0]&&(T=this.sqr(T)),z===0&&b===0){x=0;continue}b<<=1,b|=z,x++,!(x!==S&&(R!==0||K!==0))&&(T=this.mul(T,w[b]),x=0,b=0)}P=26}return T},C.prototype.convertTo=function(g){var m=g.umod(this.m);return m===g?m.clone():m},C.prototype.convertFrom=function(g){var m=g.clone();return m.red=null,m},a.mont=function(g){return new d(g)};function d(v){C.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(d,C),d.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},d.prototype.convertFrom=function(g){var m=this.imod(g.mul(this.rinv));return m.red=null,m},d.prototype.imul=function(g,m){if(g.isZero()||m.isZero())return g.words[0]=0,g.length=1,g;var S=g.imul(m),w=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=S.isub(w).iushrn(this.shift),T=R;return R.cmp(this.m)>=0?T=R.isub(this.m):R.cmpn(0)<0&&(T=R.iadd(this.m)),T._forceRed(this)},d.prototype.mul=function(g,m){if(g.isZero()||m.isZero())return new a(0)._forceRed(this);var S=g.mul(m),w=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=S.isub(w).iushrn(this.shift),T=R;return R.cmp(this.m)>=0?T=R.isub(this.m):R.cmpn(0)<0&&(T=R.iadd(this.m)),T._forceRed(this)},d.prototype.invm=function(g){var m=this.imod(g._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,this)});Fe("6gAsx",function(t,e){var r=tr.Buffer,n=W("kooOK"),i=W("kBBbb");t.exports={checkState:function(s,o){if(!s)throw new n.InvalidState(o)},checkArgument:function(s,o,a,u){if(!s)throw new n.InvalidArgument(o,a,u)},checkArgumentType:function(s,o,a){if(a=a||"(unknown name)",i.isString(o)){if(o==="Buffer"){if(!r.isBuffer(s))throw new n.InvalidArgumentType(s,o,a)}else if(typeof s!==o)throw new n.InvalidArgumentType(s,o,a)}else if(!(s instanceof o))throw new n.InvalidArgumentType(s,o.name,a)}}});Fe("kooOK",function(t,e){"use strict";var r=W("kBBbb");function n(c,h){return c.replace("{0}",h[0]).replace("{1}",h[1]).replace("{2}",h[2])}var i=function(c,h){var f=function(){if(r.isString(h.message))this.message=n(h.message,arguments);else if(r.isFunction(h.message))this.message=h.message.apply(null,arguments);else throw new Error("Invalid error definition for "+h.name);this.stack=this.message+`
`+new Error().stack};return f.prototype=Object.create(c.prototype),f.prototype.name=c.prototype.name+h.name,c[h.name]=f,h.errors&&s(f,h.errors),f},s=function(c,h){r.each(h,function(f){i(c,f)})},o=function(c,h){return s(c,h),c},a={};a.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack},a.Error.prototype=Object.create(Error.prototype),a.Error.prototype.name="bsv.Error";var u=W("hDuMS");o(a.Error,u),t.exports=a.Error,t.exports.extend=function(c){return i(a.Error,c)}});Fe("kBBbb",function(t,e){"use strict";var r={};r.isArray=n=>Array.isArray(n),r.isNumber=n=>typeof n=="number",r.isObject=n=>n&&typeof n=="object",r.isString=n=>typeof n=="string",r.isUndefined=n=>typeof n>"u",r.isFunction=n=>typeof n=="function",r.isNull=n=>n===null,r.isDate=n=>n instanceof Date,r.extend=(n,i)=>Object.assign(n,i),r.noop=()=>{},r.every=(n,i)=>n.every(i||(s=>s)),r.map=(n,i)=>Array.from(n).map(i||(s=>s)),r.includes=(n,i)=>n.includes(i),r.each=(n,i)=>n.forEach(i),r.clone=n=>Object.assign({},n),r.pick=(n,i)=>{let s={};return i.forEach(o=>{typeof n[o]<"u"&&(s[o]=n[o])}),s},r.values=n=>Object.values(n),r.filter=(n,i)=>n.filter(i),r.reduce=(n,i,s)=>n.reduce(i,s),r.without=(n,i)=>n.filter(s=>s!==i),r.shuffle=n=>{let i=n.slice(0);for(let s=i.length-1;s>0;s--){let o=Math.floor(Math.random()*(s+1));[i[s],i[o]]=[i[o],i[s]]}return i},r.difference=(n,i)=>n.filter(s=>!i.includes(s)),r.findIndex=(n,i)=>n.findIndex(i),r.some=(n,i)=>n.some(i),r.range=n=>[...Array(n).keys()],r.isPositiveNumber=n=>n<126,t.exports=r});Fe("hDuMS",function(t,e){"use strict";var r="https://docs.moneybutton.com/";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+r+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"MissingInput",message:"Invalid inputIndex."}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"MissingOutput",message:"Output not found"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"},{name:"TransactionAlreadySealed",message:"Cannot update sealed transaction"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"},{name:"InvalidOpcode",message:'Invalid Opcode: got "{0}"'}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]},{name:"ECIES",message:"Internal Error on bsv-ecies Module {0}",errors:[{name:"DecryptionError",message:"Invalid Message: {0}"},{name:"UnsupportAlgorithm",message:"Unsupport Algorithm: {0}"}]},{name:"Mnemonic",message:"Internal Error on bsv-mnemonic module {0}",errors:[{name:"InvalidEntropy",message:"Entropy length must be an even multiple of 11 bits: {0}"},{name:"UnknownWordlist",message:"Could not detect the used word list: {0}"},{name:"InvalidMnemonic",message:"Mnemonic string is invalid: {0}"}]}]});Fe("kmMTb",function(t,e){var r=tr.Buffer,n=W("dIoYd"),i=W("f0gTO"),s=W("gIXub"),o=W("arkeG"),a=W("7X5Fe"),u=W("bTTXN"),c=W("kBBbb"),h=W("6gAsx"),f=function p(l){if(!(this instanceof p))return new p(l);l&&this.set(l)};f.prototype.set=function(p){return this.hashbuf=p.hashbuf||this.hashbuf,this.endian=p.endian||this.endian,this.privkey=p.privkey||this.privkey,this.pubkey=p.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=p.sig||this.sig,this.k=p.k||this.k,this.verified=p.verified||this.verified,this},f.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},f.prototype.calci=function(){for(var p=0;p<4;p++){this.sig.i=p;var l;try{l=this.toPublicKey()}catch(y){console.error(y);continue}if(l.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},f.fromString=function(p){var l=JSON.parse(p);return new f(l)},f.prototype.randomK=function(){var p=i.getN(),l;do l=n.fromBuffer(a.getRandomBuffer(32));while(!(l.lt(p)&&l.gt(n.Zero)));return this.k=l,this},f.prototype.deterministicK=function(p){c.isUndefined(p)&&(p=0);var l=r.alloc(32);l.fill(1);var y=r.alloc(32);y.fill(0);var _=this.privkey.bn.toBuffer({size:32}),O=this.endian==="little"?r.from(this.hashbuf).reverse():this.hashbuf;y=u.sha256hmac(r.concat([l,r.from([0]),_,O]),y),l=u.sha256hmac(l,y),y=u.sha256hmac(r.concat([l,r.from([1]),_,O]),y),l=u.sha256hmac(l,y),l=u.sha256hmac(l,y);for(var F=n.fromBuffer(l),B=i.getN(),E=0;E<p||!(F.lt(B)&&F.gt(n.Zero));E++)y=u.sha256hmac(r.concat([l,r.from([0])]),y),l=u.sha256hmac(l,y),l=u.sha256hmac(l,y),F=n.fromBuffer(l);return this.k=F,this},f.prototype.toPublicKey=function(){var p=this.sig.i;h.checkArgument(p===0||p===1||p===2||p===3,new Error("i must be equal to 0, 1, 2, or 3"));var l=n.fromBuffer(this.hashbuf),y=this.sig.r,_=this.sig.s,O=p&1,F=p>>1,B=i.getN(),E=i.getG(),I=F?y.add(B):y,L=i.fromX(O,I),N=L.mul(B);if(!N.isInfinity())throw new Error("nR is not a valid curve point");var H=l.neg().umod(B),D=y.invm(B),C=L.mul(_).add(E.mul(H)).mul(D),d=o.fromPoint(C,this.sig.compressed);return d},f.prototype.sigError=function(){if(!r.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var p=this.sig.r,l=this.sig.s;if(!(p.gt(n.Zero)&&p.lt(i.getN()))||!(l.gt(n.Zero)&&l.lt(i.getN())))return"r and s not in range";var y=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),_=i.getN(),O=l.invm(_),F=O.mul(y).umod(_),B=O.mul(p).umod(_),E=i.getG().mulAdd(F,this.pubkey.point,B);return E.isInfinity()?"p is infinity":E.getX().umod(_).cmp(p)!==0?"Invalid signature":!1},f.toLowS=function(p){return p.gt(n.fromBuffer(r.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(p=i.getN().sub(p)),p},f.prototype._findSignature=function(p,l){var y=i.getN(),_=i.getG(),O=0,F,B,E,I;do(!this.k||O>0)&&this.deterministicK(O),O++,F=this.k,B=_.mul(F),E=new n(1).mul(B.x.umod(y)),I=F.invm(y).mul(l.add(p.mul(E))).umod(y);while(E.cmp(n.Zero)<=0||I.cmp(n.Zero)<=0);return I=f.toLowS(I),{s:I,r:E}},f.prototype.sign=function(){var p=this.hashbuf,l=this.privkey,y=l.bn;h.checkState(p&&l&&y,new Error("invalid parameters")),h.checkState(r.isBuffer(p)&&p.length===32,new Error("hashbuf must be a 32 byte buffer"));var _=n.fromBuffer(p,this.endian?{endian:this.endian}:void 0),O=this._findSignature(y,_);return O.compressed=this.pubkey.compressed,this.sig=new s(O),this},f.prototype.signRandomK=function(){return this.randomK(),this.sign()},f.prototype.toString=function(){var p={};return this.hashbuf&&(p.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(p.privkey=this.privkey.toString()),this.pubkey&&(p.pubkey=this.pubkey.toString()),this.sig&&(p.sig=this.sig.toString()),this.k&&(p.k=this.k.toString()),JSON.stringify(p)},f.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},f.sign=function(p,l,y){return f().set({hashbuf:p,endian:y,privkey:l}).sign().sig},f.signWithCalcI=function(p,l,y){return f().set({hashbuf:p,endian:y,privkey:l}).sign().calci().sig},f.signRandomK=function(p,l,y){return f().set({hashbuf:p,endian:y,privkey:l}).signRandomK().sig},f.verify=function(p,l,y,_){return f().set({hashbuf:p,endian:_,sig:l,pubkey:y}).verify().verified},t.exports=f});Fe("f0gTO",function(t,e){var r=tr.Buffer,n=W("dIoYd"),i=CH.ec,s=new i("secp256k1"),o=s.curve.point.bind(s.curve),a=s.curve.pointFromX.bind(s.curve),u=function(h,f,p){try{var l=o(h,f,p)}catch{throw new Error("Invalid Point")}return l.validate(),l};u.prototype=Object.getPrototypeOf(s.curve.point()),u.fromX=function(h,f){try{var p=a(f,h)}catch{throw new Error("Invalid X")}return p.validate(),p},u.getG=function(){return s.curve.g},u.getN=function(){return new n(s.curve.n.toArray())},u.prototype._getX||(u.prototype._getX=u.prototype.getX),u.prototype.getX=function(){return new n(this._getX().toArray())},u.prototype._getY||(u.prototype._getY=u.prototype.getY),u.prototype.getY=function(){return new n(this._getY().toArray())},u.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var h;try{h=a(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(h.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(u.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},u.pointToCompressed=function(h){var f=h.getX().toBuffer({size:32}),p=h.getY().toBuffer({size:32}),l,y=p[p.length-1]%2;return y?l=r.from([3]):l=r.from([2]),r.concat([l,f])},u.pointFromCompressed=function(c){if(c.length!==33)throw new Error("invalid buffer length");let h=c[0],f;if(h===3)f=!0;else if(h===2)f=!1;else throw new Error("invalid value of compressed prefix");let p=c.slice(1,33),l=n.fromBuffer(p);return u.fromX(f,l)},u.prototype.toBuffer=function(){return u.pointToCompressed(this)},u.prototype.toHex=function(){return this.toBuffer().toString("hex")},u.fromBuffer=function(c){return u.pointFromCompressed(c)},u.fromHex=function(c){return u.fromBuffer(r.from(c,"hex"))},t.exports=u});Fe("gIXub",function(t,e){var r=tr.Buffer,n=W("dIoYd"),i=W("kBBbb"),s=W("6gAsx"),o=W("gk75r"),a=function u(c,h){if(!(this instanceof u))return new u(c,h);if(c instanceof n)this.set({r:c,s:h});else if(c){var f=c;this.set(f)}};a.prototype.set=function(u){return this.r=u.r||this.r||void 0,this.s=u.s||this.s||void 0,this.i=typeof u.i<"u"?u.i:this.i,this.compressed=typeof u.compressed<"u"?u.compressed:this.compressed,this.nhashtype=u.nhashtype||this.nhashtype||void 0,this},a.fromCompact=function(u){s.checkArgument(r.isBuffer(u),"Argument is expected to be a Buffer");var c=new a,h=!0,f=u.slice(0,1)[0]-27-4;f<0&&(h=!1,f=f+4);var p=u.slice(1,33),l=u.slice(33,65);return s.checkArgument(f===0||f===1||f===2||f===3,new Error("i must be 0, 1, 2, or 3")),s.checkArgument(p.length===32,new Error("r must be 32 bytes")),s.checkArgument(l.length===32,new Error("s must be 32 bytes")),c.compressed=h,c.i=f,c.r=n.fromBuffer(p),c.s=n.fromBuffer(l),c},a.fromDER=a.fromBuffer=function(u,c){var h=a.parseDER(u,c),f=new a;return f.r=h.r,f.s=h.s,f},a.fromTxFormat=function(u){var c=u.readUInt8(u.length-1),h=u.slice(0,u.length-1),f=a.fromDER(h,!1);return f.nhashtype=c,f},a.fromString=function(u){var c=r.from(u,"hex");return a.fromDER(c)},a.parseDER=function(u,c){s.checkArgument(r.isBuffer(u),new Error("DER formatted signature should be a buffer")),i.isUndefined(c)&&(c=!0);var h=u[0];s.checkArgument(h===48,new Error("Header byte should be 0x30"));var f=u[1],p=u.slice(2).length;s.checkArgument(!c||f===p,new Error("Length byte should length of what follows")),f=f<p?f:p;var l=u[2];s.checkArgument(l===2,new Error("Integer byte for r should be 0x02"));var y=u[3],_=u.slice(4,4+y),O=n.fromBuffer(_),F=u[4]===0;s.checkArgument(y===_.length,new Error("Length of r incorrect"));var B=u[4+y+0];s.checkArgument(B===2,new Error("Integer byte for s should be 0x02"));var E=u[4+y+1],I=u.slice(4+y+2,4+y+2+E),L=n.fromBuffer(I),N=u[4+y+2+2]===0;s.checkArgument(E===I.length,new Error("Length of s incorrect"));var H=4+y+2+E;s.checkArgument(f===H-2,new Error("Length of signature incorrect"));var D={header:h,length:f,rheader:l,rlength:y,rneg:F,rbuf:_,r:O,sheader:B,slength:E,sneg:N,sbuf:I,s:L};return D},a.prototype.toCompact=function(u,c){if(u=typeof u=="number"?u:this.i,c=typeof c=="boolean"?c:this.compressed,!(u===0||u===1||u===2||u===3))throw new Error("i must be equal to 0, 1, 2, or 3");var h=u+27+4;c===!1&&(h=h-4);var f=r.from([h]),p=this.r.toBuffer({size:32}),l=this.s.toBuffer({size:32});return r.concat([f,p,l])},a.prototype.toBuffer=a.prototype.toDER=function(){var u=this.r.toBuffer(),c=this.s.toBuffer(),h=!!(u[0]&128),f=!!(c[0]&128),p=h?r.concat([r.from([0]),u]):u,l=f?r.concat([r.from([0]),c]):c,y=p.length,_=l.length,O=2+y+2+_,F=2,B=2,E=48,I=r.concat([r.from([E,O,F,y]),p,r.from([B,_]),l]);return I},a.prototype.toString=function(){var u=this.toDER();return u.toString("hex")},a.isTxDER=function(u){if(u.length<9||u.length>73||u[0]!==48||u[1]!==u.length-3)return!1;var c=u[3];if(5+c>=u.length)return!1;var h=u[5+c];if(c+h+7!==u.length)return!1;var f=u.slice(4);if(u[2]!==2||c===0||f[0]&128||c>1&&f[0]===0&&!(f[1]&128))return!1;var p=u.slice(6+c);return!(u[6+c-2]!==2||h===0||p[0]&128||h>1&&p[0]===0&&!(p[1]&128))},a.prototype.hasLowS=function(){return!(this.s.lt(new n(1))||this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))},a.prototype.hasDefinedHashtype=function(){if(!o.isNaturalNumber(this.nhashtype))return!1;var u=this.nhashtype&31;return!(u<a.SIGHASH_ALL||u>a.SIGHASH_SINGLE)},a.prototype.toTxFormat=function(){var u=this.toDER(),c=r.alloc(1);return c.writeUInt8(this.nhashtype,0),r.concat([u,c])},a.SIGHASH_ALL=1,a.SIGHASH_NONE=2,a.SIGHASH_SINGLE=3,a.SIGHASH_FORKID=64,a.SIGHASH_ANYONECANPAY=128,a.ALL=65,a.NONE=66,a.SINGLE=67,a.ANYONECANPAY_ALL=193,a.ANYONECANPAY_NONE=194,a.ANYONECANPAY_SINGLE=195,t.exports=a});Fe("gk75r",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=function(a){return n.isString(a)?/^[0-9a-fA-F]+$/.test(a):!1};t.exports={isValidJSON:function(a){var u;if(!n.isString(a))return!1;try{u=JSON.parse(a)}catch{return!1}return typeof u=="object"},isHexa:s,isHexaString:s,defineImmutable:function(a,u){return Object.keys(u).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,value:u[c]})}),a},isNaturalNumber:function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a&&a>=0},integerAsBuffer:function(a){i.checkArgumentType(a,"number","integer");let u=r.allocUnsafe(4);return u.writeUInt32BE(a,0),u}}});Fe("arkeG",function(t,e){var r=tr.Buffer,n=W("dIoYd"),i=W("f0gTO"),s=W("bTTXN"),o=W("gk75r"),a=W("cyjag"),u=W("kBBbb"),c=W("6gAsx");function h(f,p){if(!(this instanceof h))return new h(f,p);if(c.checkArgument(f,"First argument is required, please include public key data."),f instanceof h)return f;p=p||{};var l=this._classifyArgs(f,p);return l.point.validate(),o.defineImmutable(this,{point:l.point,compressed:l.compressed,network:l.network||a.defaultNetwork}),this}h.prototype._classifyArgs=function(f,p){var l={compressed:u.isUndefined(p.compressed)||p.compressed};if(f instanceof i)l.point=f;else if(f.x&&f.y)l=h._transformObject(f);else if(typeof f=="string")l=h._transformDER(r.from(f,"hex"));else if(h._isBuffer(f))l=h._transformDER(f);else if(h._isPrivateKey(f))l=h._transformPrivateKey(f);else throw new TypeError("First argument is an unrecognized data format.");return l.network||(l.network=u.isUndefined(p.network)?void 0:a.get(p.network)),l},h._isPrivateKey=function(f){var p=W("7smYJ");return f instanceof p},h._isBuffer=function(f){return f instanceof r||f instanceof Uint8Array},h._transformPrivateKey=function(f){c.checkArgument(h._isPrivateKey(f),"Must be an instance of PrivateKey");var p={};return p.point=i.getG().mul(f.bn),p.compressed=f.compressed,p.network=f.network,p},h._transformDER=function(f,p){c.checkArgument(h._isBuffer(f),"Must be a buffer of DER encoded public key");var l={};p=u.isUndefined(p)?!0:p;var y,_,O,F;if(f[0]===4||!p&&(f[0]===6||f[0]===7)){if(O=f.slice(1,33),F=f.slice(33,65),O.length!==32||F.length!==32||f.length!==65)throw new TypeError("Length of x and y must be 32 bytes");y=new n(O),_=new n(F),l.point=new i(y,_),l.compressed=!1}else if(f[0]===3)O=f.slice(1),y=new n(O),l=h._transformX(!0,y),l.compressed=!0;else if(f[0]===2)O=f.slice(1),y=new n(O),l=h._transformX(!1,y),l.compressed=!0;else throw new TypeError("Invalid DER format public key");return l},h._transformX=function(f,p){c.checkArgument(typeof f=="boolean","Must specify whether y is odd or not (true or false)");var l={};return l.point=i.fromX(f,p),l},h._transformObject=function(f){var p=new n(f.x,"hex"),l=new n(f.y,"hex"),y=new i(p,l);return new h(y,{compressed:f.compressed})},h.fromPrivateKey=function(f){c.checkArgument(h._isPrivateKey(f),"Must be an instance of PrivateKey");var p=h._transformPrivateKey(f);return new h(p.point,{compressed:p.compressed,network:p.network})},h.fromDER=h.fromBuffer=function(f,p){c.checkArgument(h._isBuffer(f),"Must be a buffer of DER encoded public key");var l=h._transformDER(f,p);return new h(l.point,{compressed:l.compressed})},h.fromPoint=function(f,p){return c.checkArgument(f instanceof i,"First argument must be an instance of Point."),new h(f,{compressed:p})},h.fromHex=h.fromString=function(f,p){var l=r.from(f,p||"hex"),y=h._transformDER(l);return new h(y.point,{compressed:y.compressed})},h.fromX=function(f,p){var l=h._transformX(f,p);return new h(l.point,{compressed:l.compressed})},h.getValidationError=function(f){var p;try{new h(f)}catch(l){p=l}return p},h.isValid=function(f){return!h.getValidationError(f)},h.prototype.toObject=h.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},h.prototype.toBuffer=h.prototype.toDER=function(){var f=this.point.getX(),p=this.point.getY(),l=f.toBuffer({size:32}),y=p.toBuffer({size:32}),_;if(this.compressed){var O=y[y.length-1]%2;return O?_=r.from([3]):_=r.from([2]),r.concat([_,l])}else return _=r.from([4]),r.concat([_,l,y])},h.prototype._getID=function(){return s.sha256ripemd160(this.toBuffer())},h.prototype.toAddress=function(f){var p=W("iSUUt");return p.fromPublicKey(this,f||this.network)},h.prototype.toString=h.prototype.toHex=function(){return this.toDER().toString("hex")},h.prototype.inspect=function(){return"<PublicKey: "+this.toHex()+(this.compressed?"":", uncompressed")+">"},t.exports=h});Fe("bTTXN",function(t,e){t.exports=W("8Asny")});Fe("8Asny",function(t,e){var r=tr.Buffer,n=W("6gAsx"),i=t.exports;i.sha1=function(s){return n.checkArgument(r.isBuffer(s)),r.from(el.sha1().update(s).digest("hex"),"hex")},i.sha1.blocksize=512,i.sha256=function(s){return n.checkArgument(r.isBuffer(s)),r.from(el.sha256().update(s).digest("hex"),"hex")},i.sha256.blocksize=512,i.sha256sha256=function(s){return n.checkArgument(r.isBuffer(s)),i.sha256(i.sha256(s))},i.ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),r.from(el.ripemd160().update(s).digest("hex"),"hex")},i.sha256ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),i.ripemd160(i.sha256(s))},i.sha512=function(s){return n.checkArgument(r.isBuffer(s)),r.from(el.sha512().update(s).digest("hex"),"hex")},i.sha512.blocksize=1024,i.hmac=function(s,o,a){n.checkArgument(r.isBuffer(o)),n.checkArgument(r.isBuffer(a)),n.checkArgument(s.blocksize);var u=s.blocksize/8;if(a.length>u)a=s(a);else if(a<u){var c=r.alloc(u);c.fill(0),a.copy(c),a=c}var h=r.alloc(u);h.fill(92);var f=r.alloc(u);f.fill(54);for(var p=r.alloc(u),l=r.alloc(u),y=0;y<u;y++)p[y]=h[y]^a[y],l[y]=f[y]^a[y];return s(r.concat([p,s(r.concat([l,o]))]))},i.sha256hmac=function(s,o){return i.hmac(i.sha256,s,o)},i.sha512hmac=function(s,o){return i.hmac(i.sha512,s,o)}});Fe("cyjag",function(t,e){"use strict";var r=W("kBBbb"),n=W("gk75r"),i=[],s={};function o(){}o.prototype.toString=function(){return this.name};function a(S,w){if(~i.indexOf(S))return S;if(w){r.isArray(w)||(w=[w]);for(var R=0;R<i.length;R++){var T=i[R],b=r.pick(T,w),x=r.values(b);if(~x.indexOf(S))return T}return}return s[S]}function u(S){for(var w=[],R=0;R<S.length;R++)w.push(S.charCodeAt(R)&31);return w}function c(S){var w=new o;n.defineImmutable(w,{name:S.name,alias:S.alias,pubkeyhash:S.pubkeyhash,privatekey:S.privatekey,scripthash:S.scripthash,xpubkey:S.xpubkey,xprivkey:S.xprivkey});var R=S.indexBy||Object.keys(S);return S.cashAddrPrefix&&r.extend(w,{cashAddrPrefix:S.cashAddrPrefix,cashAddrPrefixArray:u(S.cashAddrPrefix)}),S.networkMagic&&r.extend(w,{networkMagic:n.integerAsBuffer(S.networkMagic)}),S.port&&r.extend(w,{port:S.port}),S.dnsSeeds&&r.extend(w,{dnsSeeds:S.dnsSeeds}),i.push(w),h(w,R),w}function h(S,w){for(var R=0;R<w.length;R++){var T=w[R],b=S[T];!r.isUndefined(b)&&!r.isObject(b)&&(s[b]=S)}}function f(S,w){for(var R=0;R<w.length;R++){var T=w[R];s[T]===S&&delete s[T]}}function p(S){for(var w=0;w<i.length;w++)i[w]===S&&i.splice(w,1);f(S,Object.keys(s))}var l={livenet:3823236072,testnet:4108710900,regtest:3669344250,stn:4224632057},y=["seed.bitcoinsv.org","seed.bitcoinunlimited.info"],_={PORT:18333,NETWORK_MAGIC:l.testnet,DNS_SEEDS:y,PREFIX:"testnet",CASHADDRPREFIX:"bchtest"},O={PORT:18444,NETWORK_MAGIC:l.regtest,DNS_SEEDS:[],PREFIX:"regtest",CASHADDRPREFIX:"bchreg"},F={PORT:9333,NETWORK_MAGIC:l.stn,DNS_SEEDS:["stn-seed.bitcoinsv.io"],PREFIX:"stn",CASHADDRPREFIX:"bsvstn"},B={name:"livenet",alias:"mainnet",prefix:"bitcoin",cashAddrPrefix:"bitcoincash",pubkeyhash:0,privatekey:128,scripthash:5,xpubkey:76067358,xprivkey:76066276,networkMagic:l.livenet,port:8333,dnsSeeds:y},E={name:"testnet",prefix:_.PREFIX,cashAddrPrefix:_.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:_.NETWORK_MAGIC},I={name:"regtest",prefix:O.PREFIX,cashAddrPrefix:O.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:O.NETWORK_MAGIC,port:O.PORT,dnsSeeds:[],indexBy:["port","name","cashAddrPrefix","networkMagic"]},L={name:"stn",prefix:F.PREFIX,cashAddrPrefix:F.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:F.NETWORK_MAGIC,indexBy:["port","name","cashAddrPrefix","networkMagic"]};c(E),c(L),c(I),c(B);var N=a("livenet"),H=a("regtest"),D=a("testnet"),C=a("stn");Object.defineProperty(D,"port",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?O.PORT:this.stnEnabled?F.PORT:_.PORT}}),Object.defineProperty(D,"networkMagic",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?n.integerAsBuffer(O.NETWORK_MAGIC):this.stnEnabled?n.integerAsBuffer(F.NETWORK_MAGIC):n.integerAsBuffer(_.NETWORK_MAGIC)}}),Object.defineProperty(D,"dnsSeeds",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?O.DNS_SEEDS:this.stnEnabled?F.DNS_SEEDS:_.DNS_SEEDS}}),Object.defineProperty(D,"cashAddrPrefix",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?O.CASHADDRPREFIX:this.stnEnabled?F.CASHADDRPREFIX:_.CASHADDRPREFIX}}),Object.defineProperty(D,"cashAddrPrefixArray",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?u(O.CASHADDRPREFIX):this.stnEnabled?F.cashAddrPrefixToArray(F.CASHADDRPREFIX):u(_.CASHADDRPREFIX)}});function d(){D.regtestEnabled=!0}function v(){D.regtestEnabled=!1}function g(){D.stnEnabled=!0}function m(){D.stnEnabled=!1}t.exports={add:c,remove:p,defaultNetwork:N,livenet:N,mainnet:N,testnet:D,regtest:H,stn:C,get:a,enableRegtest:d,disableRegtest:v,enableStn:g,disableStn:m}});Fe("7smYJ",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("iSUUt"),s=W("j7ODq"),o=W("dIoYd"),a=W("gk75r"),u=W("cyjag"),c=W("f0gTO"),h=W("arkeG"),f=W("7X5Fe"),p=W("6gAsx");function l(y,_){if(!(this instanceof l))return new l(y,_);if(y instanceof l)return y;var O=this._classifyArguments(y,_);if(!O.bn||O.bn.cmp(new o(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!O.bn.lt(c.getN()))throw new TypeError("Number must be less than N");if(typeof O.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return a.defineImmutable(this,{bn:O.bn,compressed:O.compressed,network:O.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}l.prototype._classifyArguments=function(y,_){var O={compressed:!0,network:_?u.get(_):u.defaultNetwork};if(n.isUndefined(y)||n.isNull(y))O.bn=l._getRandomBN();else if(y instanceof o)O.bn=y;else if(y instanceof r||y instanceof Uint8Array)O=l._transformBuffer(y,_);else if(y.bn&&y.network)O=l._transformObject(y);else if(!_&&u.get(y))O.bn=l._getRandomBN(),O.network=u.get(y);else if(typeof y=="string")a.isHexa(y)?O.bn=new o(r.from(y,"hex")):O=l._transformWIF(y,_);else throw new TypeError("First argument is an unrecognized data type.");return O},l._getRandomBN=function(){var y,_;do{var O=f.getRandomBuffer(32);_=o.fromBuffer(O),y=_.lt(c.getN())}while(!y);return _},l._transformBuffer=function(y,_){var O={};if(y.length===32)return l._transformBNBuffer(y,_);if(O.network=u.get(y[0],"privatekey"),!O.network)throw new Error("Invalid network");if(_&&O.network!==u.get(_))throw new TypeError("Private key network mismatch");if(y.length===34&&y[33]===1)O.compressed=!0;else if(y.length===33)O.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return O.bn=o.fromBuffer(y.slice(1,33)),O},l._transformBNBuffer=function(y,_){var O={};return O.network=u.get(_)||u.defaultNetwork,O.bn=o.fromBuffer(y),O.compressed=!1,O},l._transformWIF=function(y,_){return l._transformBuffer(s.decode(y),_)},l.fromBuffer=function(y,_){return new l(y,_)},l.fromHex=function(y,_){return l.fromBuffer(r.from(y,"hex"),_)},l._transformObject=function(y){var _=new o(y.bn,"hex"),O=u.get(y.network);return{bn:_,network:O,compressed:y.compressed}},l.fromString=l.fromWIF=function(y){return p.checkArgument(n.isString(y),"First argument is expected to be a string."),new l(y)},l.fromObject=l.fromJSON=function(y){return p.checkArgument(n.isObject(y),"First argument is expected to be an object."),new l(y)},l.fromRandom=function(y){var _=l._getRandomBN();return new l(_,y)},l.getValidationError=function(y,_){var O;try{new l(y,_)}catch(F){O=F}return O},l.isValid=function(y,_){return y?!l.getValidationError(y,_):!1},l.prototype.toString=function(){return this.toWIF()},l.prototype.toWIF=function(){var y=this.network,_=this.compressed,O;return _?O=r.concat([r.from([y.privatekey]),this.bn.toBuffer({size:32}),r.from([1])]):O=r.concat([r.from([y.privatekey]),this.bn.toBuffer({size:32})]),s.encode(O)},l.prototype.toBigNumber=function(){return this.bn},l.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},l.prototype.toHex=function(){return this.toBuffer().toString("hex")},l.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=h.fromPrivateKey(this)),this._pubkey},l.prototype.toAddress=function(y){var _=this.toPublicKey();return i.fromPublicKey(_,y||this.network)},l.prototype.toObject=l.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},l.prototype.inspect=function(){var y=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toHex()+", network: "+this.network+y+">"},t.exports=l});Fe("iSUUt",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("kooOK"),o=W("j7ODq"),a=W("cyjag"),u=W("bTTXN"),c=W("gk75r"),h=W("arkeG");function f(p,l,y){if(!(this instanceof f))return new f(p,l,y);if(n.isArray(p)&&n.isNumber(l))return f.createMultisig(p,l,y);if(p instanceof f)return p;if(i.checkArgument(p,"First argument is required, please include address data.","guide/address.html"),l&&!a.get(l))throw new TypeError('Second argument must be "livenet", "testnet", or "regtest".');if(y&&y!==f.PayToPublicKeyHash&&y!==f.PayToScriptHash)throw new TypeError('Third argument must be "pubkeyhash" or "scripthash".');var _=this._classifyArguments(p,l,y);return _.network=_.network||a.get(l)||a.defaultNetwork,_.type=_.type||y||f.PayToPublicKeyHash,c.defineImmutable(this,{hashBuffer:_.hashBuffer,network:_.network,type:_.type}),this}f.prototype._classifyArguments=function(p,l,y){var _=W("hkiTH");if((p instanceof r||p instanceof Uint8Array)&&p.length===20)return f._transformHash(p);if((p instanceof r||p instanceof Uint8Array)&&p.length===21)return f._transformBuffer(p,l,y);if(p instanceof h)return f._transformPublicKey(p);if(p instanceof _)return f._transformScript(p,l);if(typeof p=="string")return f._transformString(p,l,y);if(n.isObject(p))return f._transformObject(p);throw new TypeError("First argument is an unrecognized data format.")},f.PayToPublicKeyHash="pubkeyhash",f.PayToScriptHash="scripthash",f._transformHash=function(p){var l={};if(!(p instanceof r)&&!(p instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(p.length!==20)throw new TypeError("Address hashbuffers must be exactly 20 bytes.");return l.hashBuffer=p,l},f._transformObject=function(p){return i.checkArgument(p.hash||p.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(p.type,"Must provide a `type` property"),{hashBuffer:p.hash?r.from(p.hash,"hex"):p.hashBuffer,network:a.get(p.network)||a.defaultNetwork,type:p.type}},f._classifyFromVersion=function(p){var l={},y=a.get(p[0],"pubkeyhash"),_=a.get(p[0],"scripthash");return y?(l.network=y,l.type=f.PayToPublicKeyHash):_&&(l.network=_,l.type=f.PayToScriptHash),l},f._transformBuffer=function(p,l,y){var _={};if(!(p instanceof r)&&!(p instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(p.length!==21)throw new TypeError("Address buffers must be exactly 21 bytes.");var O=a.get(l),F=f._classifyFromVersion(p);if(l&&!O)throw new TypeError("Unknown network");if(!F.network||O&&O!==F.network)throw new TypeError("Address has mismatched network type.");if(!F.type||y&&y!==F.type)throw new TypeError("Address has mismatched type.");return _.hashBuffer=p.slice(1),_.network=F.network,_.type=F.type,_},f._transformPublicKey=function(p){var l={};if(!(p instanceof h))throw new TypeError("Address must be an instance of PublicKey.");return l.hashBuffer=u.sha256ripemd160(p.toBuffer()),l.type=f.PayToPublicKeyHash,l},f._transformScript=function(p,l){var y=W("hkiTH");i.checkArgument(p instanceof y,"script must be a Script instance");var _=p.getAddressInfo(l);if(!_)throw new s.Script.CantDeriveAddress(p);return _},f.createMultisig=function(p,l,y){var _=W("hkiTH");return y=y||p[0].network||a.defaultNetwork,f.payingTo(_.buildMultisigOut(p,l),y)},f._transformString=function(p,l,y){if(typeof p!="string")throw new TypeError("data parameter supplied is not a string.");if(p.length<27)throw new Error("Invalid Address string provided");p=p.trim();var _=a.get(l);if(l&&!_)throw new TypeError("Unknown network");var O=o.decode(p);return f._transformBuffer(O,l,y)},f.fromPublicKey=function(p,l){var y=f._transformPublicKey(p);return l=l||a.defaultNetwork,new f(y.hashBuffer,l,y.type)},f.fromPrivateKey=function(p,l){let y=h.fromPrivateKey(p);return l=l||p.network||a.defaultNetwork,f.fromPublicKey(y,l)},f.fromPublicKeyHash=function(p,l){var y=f._transformHash(p);return new f(y.hashBuffer,l,f.PayToPublicKeyHash)},f.fromScriptHash=function(p,l){i.checkArgument(p,"hash parameter is required");var y=f._transformHash(p);return new f(y.hashBuffer,l,f.PayToScriptHash)},f.payingTo=function(p,l){var y=W("hkiTH");return i.checkArgument(p,"script is required"),i.checkArgument(p instanceof y,"script must be instance of Script"),f.fromScriptHash(u.sha256ripemd160(p.toBuffer()),l)},f.fromScript=function(p,l){var y=W("hkiTH");i.checkArgument(p instanceof y,"script must be a Script instance");var _=f._transformScript(p,l);return new f(_.hashBuffer,l,_.type)},f.fromBuffer=function(p,l,y){var _=f._transformBuffer(p,l,y);return new f(_.hashBuffer,_.network,_.type)},f.fromHex=function(p,l,y){return f.fromBuffer(r.from(p,"hex"),l,y)},f.fromString=function(p,l,y){var _=f._transformString(p,l,y);return new f(_.hashBuffer,_.network,_.type)},f.fromObject=function(l){i.checkState(c.isHexa(l.hash),'Unexpected hash property, "'+l.hash+'", expected to be hex.');var y=r.from(l.hash,"hex");return new f(y,l.network,l.type)},f.getValidationError=function(p,l,y){var _;try{new f(p,l,y)}catch(O){_=O}return _},f.isValid=function(p,l,y){return!f.getValidationError(p,l,y)},f.prototype.isPayToPublicKeyHash=function(){return this.type===f.PayToPublicKeyHash},f.prototype.isPayToScriptHash=function(){return this.type===f.PayToScriptHash},f.prototype.toBuffer=function(){var p=r.from([this.network[this.type]]),l=r.concat([p,this.hashBuffer]);return l},f.prototype.toHex=function(){return this.toBuffer().toString("hex")},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},f.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},f.prototype.toString=function(){return o.encode(this.toBuffer())},t.exports=f});Fe("j7ODq",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("jG967"),s=W("bTTXN"),o=s.sha256sha256,a=function u(c){if(!(this instanceof u))return new u(c);if(r.isBuffer(c)){var h=c;this.fromBuffer(h)}else if(typeof c=="string"){var f=c;this.fromString(f)}};a.prototype.set=function(u){return this.buf=u.buf||this.buf||void 0,this},a.validChecksum=function(c,h){return n.isString(c)&&(c=r.from(i.decode(c))),n.isString(h)&&(h=r.from(i.decode(h))),h||(h=c.slice(-4),c=c.slice(0,-4)),a.checksum(c).toString("hex")===h.toString("hex")},a.decode=function(u){if(typeof u!="string")throw new Error("Input must be a string");var c=r.from(i.decode(u));if(c.length<4)throw new Error("Input string too short");var h=c.slice(0,-4),f=c.slice(-4),p=o(h),l=p.slice(0,4);if(f.toString("hex")!==l.toString("hex"))throw new Error("Checksum mismatch");return h},a.checksum=function(u){return o(u).slice(0,4)},a.encode=function(u){if(!r.isBuffer(u))throw new Error("Input must be a buffer");var c=r.alloc(u.length+4),h=a.checksum(u);return u.copy(c),h.copy(c,u.length),i.encode(c)},a.prototype.fromBuffer=function(u){return this.buf=u,this},a.fromBuffer=function(u){return new a().fromBuffer(u)},a.fromHex=function(u){return a.fromBuffer(r.from(u,"hex"))},a.prototype.fromString=function(u){var c=a.decode(u);return this.buf=c,this},a.fromString=function(u){var c=a.decode(u);return new i(c)},a.prototype.toBuffer=function(){return this.buf},a.prototype.toHex=function(){return this.toBuffer().toString("hex")},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a});Fe("jG967",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),s=function o(a){if(!(this instanceof o))return new o(a);if(r.isBuffer(a)){var u=a;this.fromBuffer(u)}else if(typeof a=="string"){var c=a;this.fromString(c)}};s.validCharacters=function(a){return r.isBuffer(a)&&(a=a.toString()),n.every(n.map(a,function(u){return n.includes(i,u)}))},s.prototype.set=function(o){return this.buf=o.buf||this.buf||void 0,this},s.encode=function(o){if(!r.isBuffer(o))throw new Error("Input should be a buffer");return kS.encode(o)},s.decode=function(o){if(typeof o!="string")throw new Error("Input should be a string");return r.from(kS.decode(o))},s.prototype.fromBuffer=function(o){return this.buf=o,this},s.fromBuffer=function(o){return new s().fromBuffer(o)},s.fromHex=function(o){return s.fromBuffer(r.from(o,"hex"))},s.prototype.fromString=function(o){var a=s.decode(o);return this.buf=a,this},s.fromString=function(o){return new s().fromString(o)},s.prototype.toBuffer=function(){return this.buf},s.prototype.toHex=function(){return this.toBuffer().toString("hex")},s.prototype.toString=function(){return s.encode(this.buf)},t.exports=s});Fe("hkiTH",function(t,e){t.exports=W("eIR83"),t.exports.Interpreter=W("g4xmW"),t.exports.Stack=W("bSS4t")});Fe("eIR83",function(t,e){var r=tr.Buffer,n=W("iSUUt"),i=W("2AZ1V"),s=W("bTTXN"),o=W("bpasi"),a=W("arkeG"),u=W("gIXub"),c=W("cyjag"),h=W("6gAsx"),f=W("kBBbb"),p=W("kooOK"),l=W("gk75r"),y=W("apNYJ"),_=W("62MER"),O=W("kndCV");let F=new WeakMap;var B=function E(I){if(!(this instanceof E))return new E(I);if(this.buffer=r.from([]),r.isBuffer(I))return E.fromBuffer(I);if(I instanceof n)return E.fromAddress(I);if(I instanceof E)return E.fromBuffer(I.toBuffer());if(f.isString(I))return E.fromString(I);if(f.isObject(I)&&f.isArray(I.chunks))return E.fromChunks(I.chunks);if(f.isObject(I)&&r.isBuffer(I.buffer))return E.fromBuffer(I.buffer)};B.prototype.set=function(E){if(h.checkArgument(f.isObject(E)),E.chunks&&f.isArray(E.chunks)){var I=B.fromChunks(E.chunks);return this.buffer=I.buffer,this}return h.checkArgument(r.isBuffer(E.buffer)),this.buffer=E.buffer,this},B.fromBuffer=function(E){h.checkArgument(r.isBuffer(E));var I=new B;return I.buffer=E,I},B.fromChunks=function(E){var I=new B;let L=new i;for(let N=0;N<E.length;N++){let H=E[N];L.writeUInt8(H.opcodenum),H.buf&&(H.opcodenum<o.OP_PUSHDATA1?L.write(H.buf):H.opcodenum===o.OP_PUSHDATA1?(L.writeUInt8(H.len),L.write(H.buf)):H.opcodenum===o.OP_PUSHDATA2?(L.writeUInt16LE(H.len),L.write(H.buf)):H.opcodenum===o.OP_PUSHDATA4&&(L.writeUInt32LE(H.len),L.write(H.buf)))}return I.buffer=L.toBuffer(),I},B.prototype.toBuffer=function(){return this.buffer},B.fromASM=function(E){return B.fromBuffer(_(E))},B.fromHex=function(E){return new B(r.from(E,"hex"))},B.fromString=function(E){if(l.isHexa(E)||E.length===0)return new B(r.from(E,"hex"));for(var I=[],L=E.split(" "),N=0;N<L.length;){var H=L[N],D=o(H),C=D.toNumber();if(f.isUndefined(C))if(C=parseInt(H),C>0&&C<o.OP_PUSHDATA1){var d=r.from(L[N+1].slice(2),"hex");if(d.length!==C)throw new Error("Invalid script buf len: "+JSON.stringify(E));I.push({buf:r.from(L[N+1].slice(2),"hex"),len:C,opcodenum:C}),N=N+2}else throw new Error("Invalid script: "+JSON.stringify(E));else if(C===o.OP_PUSHDATA1||C===o.OP_PUSHDATA2||C===o.OP_PUSHDATA4){if(L[N+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");I.push({buf:r.from(L[N+2].slice(2),"hex"),len:parseInt(L[N+1]),opcodenum:C}),N=N+3}else I.push({opcodenum:C}),N=N+1}return B.fromChunks(I)},B.prototype.slice=function(E,I){return this.buffer.slice(E,I)},Object.defineProperty(B.prototype,"chunks",{get(){if(F.has(this))return F.get(this);let E=y(this.buffer);return F.set(this,E),E}}),Object.defineProperty(B.prototype,"length",{get(){return this.buffer.length}}),B.prototype._chunkToString=function(E,I){var L=E.opcodenum,N=I==="asm",H="";if(E.buf)!N&&(L===o.OP_PUSHDATA1||L===o.OP_PUSHDATA2||L===o.OP_PUSHDATA4)&&(H=H+" "+o(L).toString()),E.len>0&&(N?H=H+" "+E.buf.toString("hex"):H=H+" "+E.len+" 0x"+E.buf.toString("hex"));else if(typeof o.reverseMap[L]<"u")N?L===0?H=H+" 0":L===79?H=H+" -1":H=H+" "+o(L).toString():H=H+" "+o(L).toString();else{var D=L.toString(16);D.length%2!==0&&(D="0"+D),N?H=H+" "+D:H=H+" 0x"+D}return H},B.prototype.toASM=function(){for(var E="",I=this.chunks,L=0;L<I.length;L++){var N=this.chunks[L];E+=this._chunkToString(N,"asm")}return E.substr(1)},B.prototype.toString=function(){for(var E="",I=0;I<this.chunks.length;I++){var L=this.chunks[I];E+=this._chunkToString(L)}return E.substr(1)},B.prototype.toHex=function(){return O(this.buffer)},B.prototype.inspect=function(){return"<Script: "+this.toString()+">"},B.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===o.OP_DUP&&this.chunks[1].opcodenum===o.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===o.OP_EQUALVERIFY&&this.chunks[4].opcodenum===o.OP_CHECKSIG)},B.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var E=this.chunks[0].buf,I=this.chunks[1].buf;if(E&&E.length&&E[0]===48&&I&&I.length){var L=I[0];if((L===4||L===6||L===7)&&I.length===65)return!0;if((L===3||L===2)&&I.length===33)return!0}}return!1},B.prototype.getPublicKey=function(){return h.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},B.prototype.getPublicKeyHash=function(){return h.checkState(this.isPublicKeyHashOut(),"Can't retrieve PublicKeyHash from a non-PKH output"),this.chunks[2].buf},B.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===o.OP_CHECKSIG){var E=this.chunks[0].buf,I=E[0],L=!1;if(((I===4||I===6||I===7)&&E.length===65||(I===3||I===2)&&E.length===33)&&(L=!0),L)return a.isValid(E)}return!1},B.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var E=this.chunks[0].buf;if(E&&E.length&&E[0]===48)return!0}return!1},B.prototype.isScriptHashOut=function(){var E=this.toBuffer();return E.length===23&&E[0]===o.OP_HASH160&&E[1]===20&&E[E.length-1]===o.OP_EQUAL},B.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var E=this.chunks[this.chunks.length-1],I=E.buf;if(!I)return!1;var L;try{L=B.fromBuffer(I)}catch(H){if(H instanceof p.Script.InvalidBuffer)return!1;throw H}var N=L.classify();return N!==B.types.UNKNOWN},B.prototype.isMultisigOut=function(){return this.chunks.length>3&&o.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(E){return E.buf&&r.isBuffer(E.buf)})&&o.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===o.OP_CHECKMULTISIG},B.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(E){return E.buf&&r.isBuffer(E.buf)&&u.isTxDER(E.buf)})},B.prototype.isDataOut=function(){var E=this.buffer.length>=1&&this.buffer[0]===o.OP_RETURN;if(!E)return!1;var I=this.buffer.slice(1),L=new B({buffer:I});return L.isPushOnly()},B.prototype.isSafeDataOut=function(){if(this.buffer.length<2||this.buffer[0]!==o.OP_FALSE)return!1;var E=this.buffer.slice(1),I=new B({buffer:E});return I.isDataOut()},B.prototype.getData=function(){if(this.isSafeDataOut()){var E=this.chunks.slice(2),I=E.map(L=>L.buf);return I}if(this.isDataOut()||this.isScriptHashOut())return f.isUndefined(this.chunks[1])?r.alloc(0):r.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return r.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},B.prototype.isPushOnly=function(){return f.every(this.chunks,function(E){return E.opcodenum<=o.OP_16||E.opcodenum===o.OP_PUSHDATA1||E.opcodenum===o.OP_PUSHDATA2||E.opcodenum===o.OP_PUSHDATA4})},B.types={},B.types.UNKNOWN="Unknown",B.types.PUBKEY_OUT="Pay to public key",B.types.PUBKEY_IN="Spend from public key",B.types.PUBKEYHASH_OUT="Pay to public key hash",B.types.PUBKEYHASH_IN="Spend from public key hash",B.types.SCRIPTHASH_OUT="Pay to script hash",B.types.SCRIPTHASH_IN="Spend from script hash",B.types.MULTISIG_OUT="Pay to multisig",B.types.MULTISIG_IN="Spend from multisig",B.types.DATA_OUT="Data push",B.types.SAFE_DATA_OUT="Safe data push",B.OP_RETURN_STANDARD_SIZE=220,B.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var E=this.classifyOutput();return E!==B.types.UNKNOWN?E:this.classifyInput()},B.outputIdentifiers={},B.outputIdentifiers.PUBKEY_OUT=B.prototype.isPublicKeyOut,B.outputIdentifiers.PUBKEYHASH_OUT=B.prototype.isPublicKeyHashOut,B.outputIdentifiers.MULTISIG_OUT=B.prototype.isMultisigOut,B.outputIdentifiers.SCRIPTHASH_OUT=B.prototype.isScriptHashOut,B.outputIdentifiers.DATA_OUT=B.prototype.isDataOut,B.outputIdentifiers.SAFE_DATA_OUT=B.prototype.isSafeDataOut,B.prototype.classifyOutput=function(){for(var E in B.outputIdentifiers)if(B.outputIdentifiers[E].bind(this)())return B.types[E];return B.types.UNKNOWN},B.inputIdentifiers={},B.inputIdentifiers.PUBKEY_IN=B.prototype.isPublicKeyIn,B.inputIdentifiers.PUBKEYHASH_IN=B.prototype.isPublicKeyHashIn,B.inputIdentifiers.MULTISIG_IN=B.prototype.isMultisigIn,B.inputIdentifiers.SCRIPTHASH_IN=B.prototype.isScriptHashIn,B.prototype.classifyInput=function(){for(var E in B.inputIdentifiers)if(B.inputIdentifiers[E].bind(this)())return B.types[E];return B.types.UNKNOWN},B.prototype.isStandard=function(){return this.classify()!==B.types.UNKNOWN},B.prototype.prepend=function(E){return this._addByType(E,!0),this},B.prototype.equals=function(E){if(h.checkState(E instanceof B,"Must provide another script"),this.buffer.length!==E.buffer.length)return!1;var I;for(I=0;I<this.buffer.length;I++)if(this.buffer[I]!==E.buffer[I])return!1;return!0},B.prototype.add=function(E){return this._addByType(E,!1),this},B.prototype._addByType=function(E,I){if(typeof E=="string")this._addOpcode(E,I);else if(typeof E=="number")this._addOpcode(E,I);else if(E instanceof o)this._addOpcode(E,I);else if(r.isBuffer(E))this._addBuffer(E,I);else if(E instanceof B)this._insertAtPosition(E.buffer,I);else if(typeof E=="object"){var L=B.fromChunks([E]);this._insertAtPosition(L.toBuffer(),I)}else throw new Error("Invalid script chunk")},B.prototype._insertAtPosition=function(E,I){var L=new i;I?(L.write(E),L.write(this.buffer)):(L.write(this.buffer),L.write(E)),this.buffer=L.toBuffer()},B.prototype._addOpcode=function(E,I){var L;if(typeof E=="number"?L=E:E instanceof o?L=E.toNumber():L=o(E).toNumber(),L>255)throw new p.Script.InvalidOpcode(L);return this._insertAtPosition(B.fromChunks([{opcodenum:L}]).toBuffer(),I),this},B.prototype._addBuffer=function(E,I){var L=new i,N,H=E.length;if(H===0)N=0,L.writeUInt8(N);else if(H>0&&H<o.OP_PUSHDATA1)N=H,L.writeUInt8(N),L.write(E);else if(H<Math.pow(2,8))N=o.OP_PUSHDATA1,L.writeUInt8(N),L.writeUInt8(H),L.write(E);else if(H<Math.pow(2,16))N=o.OP_PUSHDATA2,L.writeUInt8(N),L.writeUInt16LE(H),L.write(E);else if(H<Math.pow(2,32))N=o.OP_PUSHDATA4,L.writeUInt8(N),L.writeUInt32LE(H),L.write(E);else throw new Error("You can't push that much data");return this._insertAtPosition(L.toBuffer(),I),this},B.prototype.clone=function(){return B.fromBuffer(this.buffer.slice())},B.prototype.removeCodeseparators=function(){for(var E=[],I=0;I<this.chunks.length;I++)this.chunks[I].opcodenum!==o.OP_CODESEPARATOR&&E.push(this.chunks[I]);return F.delete(this),this.buffer=B.fromChunks(E).toBuffer(),this},B.prototype.subScript=function(E){for(var I=0,L=0;L<this.chunks.length;L++)if(this.chunks[L].opcodenum===o.OP_CODESEPARATOR){if(I===E)return B.fromChunks(this.chunks.slice(L+1));I++}return this},B.buildMultisigOut=function(E,I,L){h.checkArgument(I<=E.length,"Number of required signatures must be less than or equal to the number of public keys"),L=L||{};var N=new B;N.add(o.smallInt(I)),E=f.map(E,a);var H=E;L.noSorting||(H=E.map(d=>d.toString("hex")).sort().map(d=>new a(d)));for(var D=0;D<H.length;D++){var C=H[D];N.add(C.toBuffer())}return N.add(o.smallInt(E.length)),N.add(o.OP_CHECKMULTISIG),N},B.buildMultisigIn=function(E,I,L,N){h.checkArgument(f.isArray(E)),h.checkArgument(f.isNumber(I)),h.checkArgument(f.isArray(L)),N=N||{};var H=new B;return H.add(o.OP_0),f.each(L,function(D){h.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H},B.buildP2SHMultisigIn=function(E,I,L,N){h.checkArgument(f.isArray(E)),h.checkArgument(f.isNumber(I)),h.checkArgument(f.isArray(L)),N=N||{};var H=new B;return H.add(o.OP_0),f.each(L,function(D){h.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H.add((N.cachedMultisig||B.buildMultisigOut(E,I,N)).toBuffer()),H},B.buildPublicKeyHashOut=function(E){h.checkArgument(!f.isUndefined(E)),h.checkArgument(E instanceof a||E instanceof n||f.isString(E)),E instanceof a?E=E.toAddress():f.isString(E)&&(E=new n(E));var I=new B;return I.add(o.OP_DUP).add(o.OP_HASH160).add(E.hashBuffer).add(o.OP_EQUALVERIFY).add(o.OP_CHECKSIG),I._network=E.network,I},B.buildPublicKeyOut=function(E){h.checkArgument(E instanceof a);var I=new B;return I.add(E.toBuffer()).add(o.OP_CHECKSIG),I},B.buildDataOut=function(E,I){h.checkArgument(f.isUndefined(E)||f.isString(E)||f.isArray(E)||r.isBuffer(E));var L=E;f.isArray(L)||(L=[E]);var N=new B;N.add(o.OP_RETURN);for(let H of L)h.checkArgument(f.isUndefined(H)||f.isString(H)||r.isBuffer(H)),f.isString(H)&&(H=r.from(H,I)),f.isUndefined(H)||N.add(H);return N},B.buildSafeDataOut=function(E,I){var L=B.buildDataOut(E,I),N=new B;return N.add(o.OP_FALSE),N.add(L),N},B.buildScriptHashOut=function(E){h.checkArgument(E instanceof B||E instanceof n&&E.isPayToScriptHash());var I=new B;return I.add(o.OP_HASH160).add(E instanceof n?E.hashBuffer:s.sha256ripemd160(E.toBuffer())).add(o.OP_EQUAL),I._network=E._network||E.network,I},B.buildPublicKeyIn=function(E,I){h.checkArgument(E instanceof u||r.isBuffer(E)),h.checkArgument(f.isUndefined(I)||f.isNumber(I)),E instanceof u&&(E=E.toBuffer());var L=new B;return L.add(r.concat([E,r.from([(I||u.SIGHASH_ALL)&255])])),L},B.buildPublicKeyHashIn=function(E,I,L){h.checkArgument(I instanceof u||r.isBuffer(I)),h.checkArgument(f.isUndefined(L)||f.isNumber(L)),I instanceof u&&(I=I.toBuffer());var N=new B().add(r.concat([I,r.from([(L||u.SIGHASH_ALL)&255])])).add(new a(E).toBuffer());return N},B.empty=function(){return new B},B.prototype.toScriptHashOut=function(){return B.buildScriptHashOut(this)},B.fromAddress=function(E){if(E=n(E),E.isPayToScriptHash())return B.buildScriptHashOut(E);if(E.isPayToPublicKeyHash())return B.buildPublicKeyHashOut(E);throw new p.Script.UnrecognizedAddress(E)},B.prototype.getAddressInfo=function(E){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var I=this._getOutputAddressInfo();return I||this._getInputAddressInfo()},B.prototype._getOutputAddressInfo=function(){var E={};if(this.isScriptHashOut())E.hashBuffer=this.getData(),E.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())E.hashBuffer=this.getData(),E.type=n.PayToPublicKeyHash;else return!1;return E},B.prototype._getInputAddressInfo=function(){var E={};if(this.isPublicKeyHashIn())E.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),E.type=n.PayToPublicKeyHash;else if(this.isScriptHashIn())E.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),E.type=n.PayToScriptHash;else return!1;return E},B.prototype.toAddress=function(E){var I=this.getAddressInfo();return I?(I.network=c.get(E)||this._network||c.defaultNetwork,new n(I)):!1},B.prototype.findAndDelete=function(E){for(var I=E.toBuffer(),L=I.toString("hex"),N=this.chunks,H=0;H<N.length;H++){var D=B.fromChunks([N[H]]),C=D.toBuffer(),d=C.toString("hex");L===d&&(N.splice(H,1),this.buffer=B.fromChunks(N).toBuffer())}return this},B.prototype.checkMinimalPush=function(E){var I=this.chunks[E],L=I.buf,N=I.opcodenum;return L?L.length===0?N===o.OP_0:L.length===1&&L[0]>=1&&L[0]<=16?N===o.OP_1+(L[0]-1):L.length===1&&L[0]===129?N===o.OP_1NEGATE:L.length<=75?N===L.length:L.length<=255?N===o.OP_PUSHDATA1:L.length<=65535?N===o.OP_PUSHDATA2:!0:!0},B.prototype._decodeOP_N=function(E){if(E===o.OP_0)return 0;if(E>=o.OP_1&&E<=o.OP_16)return E-(o.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(E))},B.prototype.getSignatureOperationsCount=function(E){E=f.isUndefined(E)?!0:E;var I=this,L=0,N=o.OP_INVALIDOPCODE;return f.each(I.chunks,function(D){var C=D.opcodenum;C===o.OP_CHECKSIG||C===o.OP_CHECKSIGVERIFY?L++:(C===o.OP_CHECKMULTISIG||C===o.OP_CHECKMULTISIGVERIFY)&&(E&&N>=o.OP_1&&N<=o.OP_16?L+=I._decodeOP_N(N):L+=20),N=C}),L},t.exports=B});Fe("2AZ1V",function(t,e){var r=tr.Buffer,n=W("1gpKq"),i=W("8H5li"),s=W("cMUqj"),o=W("lHHTh"),a=W("dZClM");class u{constructor(h){h?this.set(h):(this.buffers=[],this.length=0)}write(h){return this.buffers.push(h),this.length+=h.length,this}set(h){return this.buffers=h.buffers||h.bufs||this.buffers||[],this.length=this.buffers.reduce(function(f,p){return f+p.length},0),this}concat(){return this.toBuffer()}toBuffer(){if(this.buffers.length===1)return r.from(this.buffers[0]);let h=new Uint8Array(this.length),f=0;return this.buffers.forEach(p=>{h.set(p,f),f+=p.length}),r.from(h)}writeReverse(h){return yf(r.isBuffer(h)),this.write(r.from(h).reverse()),this}writeUInt16LE(h){return i(this,h),this}writeUInt16BE(h){var f=new u;return f.writeUInt16LE(h),this.writeReverse(f.toBuffer()),this}writeUInt32LE(h){return s(this,h),this}writeUInt32BE(h){var f=new u;return f.writeUInt32LE(h),this.writeReverse(f.toBuffer()),this}writeUInt8(h){return n(this,h),this}writeUInt64LEBN(h){var f=h.toBuffer({size:8});return this.writeReverse(f),this}writeUInt64BEBN(h){var f=new u;return f.writeUInt64LEBN(h),this.writeReverse(f.toBuffer()),this}writeVarintNum(h){return a(this,h),this}writeInt32LE(h){return o(this,h),this}static varintBufNum(h){var f=new u;return f.writeVarintNum(h),f.toBuffer()}writeVarintBN(h){var f=h.toNumber();if(f<253)n(this,f);else if(f<65536)n(this,253),i(this,f);else if(f<4294967296)n(this,254),s(this,f);else{var p=new u;p.writeUInt8(255),p.writeUInt64LEBN(h);var l=p.toBuffer();this.write(l)}return this}}t.exports=u});Fe("1gpKq",function(t,e){function r(n,i){if(i>255)throw new Error("number too large");let s=new Uint8Array(1);return s[0]=i,n.write(s)}t.exports=r});Fe("8H5li",function(t,e){function r(n,i){if(i>65535)throw new Error("number too large");let s=new Uint8Array(2);return s[0]=i%256,i=i>>8,s[1]=i%256,n.write(s)}t.exports=r});Fe("cMUqj",function(t,e){function r(n,i){if(i>4294967295)throw new Error("number too large");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Fe("lHHTh",function(t,e){function r(n,i){if(i<-2147483648||i>2147483647)throw new Error("Out of range. It must be >= -2147483648 and <= 2147483647.");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Fe("dZClM",function(t,e){function r(n,i){if(i>Number.MAX_SAFE_INTEGER)throw new Error("varint too large");if(i<=252)return n.write([i]);if(i<=65535)return n.write([253,i%256,Math.floor(i/256)]);if(i<=4294967295){let o=new Uint8Array(5);return o[0]=254,o[1]=i%256,i=Math.floor(i/256),o[2]=i%256,i=Math.floor(i/256),o[3]=i%256,i=Math.floor(i/256),o[4]=i,n.write(o)}let s=new Uint8Array(9);return s[0]=255,s[1]=i%256,i=Math.floor(i/256),s[2]=i%256,i=Math.floor(i/256),s[3]=i%256,i=Math.floor(i/256),s[4]=i%256,i=Math.floor(i/256),s[5]=i%256,i=Math.floor(i/256),s[6]=i%256,i=Math.floor(i/256),s[7]=i%256,i=Math.floor(i/256),s[8]=i,n.write(s)}t.exports=r});Fe("bpasi",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("gk75r");function o(u){if(!(this instanceof o))return new o(u);var c;if(n.isNumber(u))c=u;else if(n.isString(u))c=o.map[u];else throw new TypeError('Unrecognized num type: "'+typeof u+'" for Opcode');return s.defineImmutable(this,{num:c}),this}o.fromBuffer=function(u){return i.checkArgument(r.isBuffer(u)),new o(Number("0x"+u.toString("hex")))},o.fromNumber=function(u){return i.checkArgument(n.isNumber(u)),new o(u)},o.fromString=function(u){i.checkArgument(n.isString(u));var c=o.map[u];if(typeof c>"u")throw new TypeError("Invalid opcodestr");return new o(c)},o.prototype.toHex=function(){return this.num.toString(16)},o.prototype.toBuffer=function(){return r.from(this.toHex(),"hex")},o.prototype.toNumber=function(){return this.num},o.prototype.toString=function(){var u=o.reverseMap[this.num];if(typeof u>"u")throw new Error("Opcode does not have a string representation");return u},o.prototype.toSafeString=function(){var u=o.reverseMap[this.num];return typeof u>"u"?this.toHex():u},o.smallInt=function(u){return i.checkArgument(n.isNumber(u),"Invalid Argument: n should be number"),i.checkArgument(u>=0&&u<=16,"Invalid Argument: n must be between 0 and 16"),u===0?o("OP_0"):new o(o.map.OP_1+u-1)},o.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SPLIT:127,OP_NUM2BIN:128,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},o.reverseMap=[];for(var a in o.map)o.reverseMap[o.map[a]]=a;n.extend(o,o.map),o.isSmallIntOp=function(u){return u instanceof o&&(u=u.toNumber()),u===o.map.OP_0||u>=o.map.OP_1&&u<=o.map.OP_16},o.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=o});Fe("apNYJ",function(t,e){function r(n){let i=[],s=0,o=0;for(;s<n.length;){let a=n[s];s+=1,a===0?(o=a,i.push({opcodenum:a,len:o})):a<76?(o=a,i.push({opcodenum:a,buf:n.slice(s,s+a),len:o}),s+=a):a===76?(o=n[s],s+=1,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):a===77?(o=n[s]|n[s+1]<<8,s+=2,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):a===78?(o=n[s]+n[s+1]*256+n[s+2]*65536+n[s+3]*16777216,s+=4,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):i.push({opcodenum:a})}return i}t.exports=r});Fe("62MER",function(t,e){var r=W("5CDhN"),n=W("bpasi"),i=W("2AZ1V"),s=W("gVSXN");function o(a){let u=a.split(" "),c=new i;return u.forEach(h=>{if(h in n)c.write([n[h]]);else if(h==="0")c.write([n.OP_0]);else if(h==="-1")c.write([n.OP_1NEGATE]);else{let f=r(h);s(c,f)}}),c.toBuffer()}t.exports=o});Fe("5CDhN",function(t,e){var r=tr.Buffer,n=W("hAcaU");function i(s){if(typeof s!="string")throw new Error("not a string");if(s.startsWith("0x")&&(s=s.slice(2)),s.length%2===1&&(s="0"+s),!n(s))throw new Error("invalid hex string in script");if(typeof VARIANT>"u"||VARIANT==="browser"){let o=s.length/2,a=new Uint8Array(o),u=c=>c!==c;for(let c=0;c<o;++c){let h=parseInt(s.substr(c*2,2),16);if(u(h))throw new Error("bad hex char");a[c]=h}return a}else return r.from(s,"hex")}t.exports=i});Fe("hAcaU",function(t,e){let r=/^(?:[a-fA-F0-9][a-fA-F0-9])*$/;function n(i){return r.test(i)}t.exports=n});Fe("gVSXN",function(t,e){function r(n,i){if(i.length===0)n.write([0]);else if(i.length<=75)n.write([i.length]),n.write(i);else if(i.length<=255)n.write([76,i.length]),n.write(i);else if(i.length<=65535)n.write([77,i.length%256,i.length>>8]),n.write(i);else if(i.length<=4294967295){let s=new Uint8Array(5);s[0]=78;let o=i.length;s[1]=o%256,o=Math.floor(o/256),s[2]=o%256,o=Math.floor(o/256),s[3]=o%256,o=Math.floor(o/256),s[4]=o,n.write(s),n.write(i)}else throw new Error("data too large");return n}t.exports=r});Fe("kndCV",function(t,e){var r=tr.Buffer;let n=null;if(typeof VARIANT>"u"||VARIANT==="browser"){let i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];n=function(s){let o=s.length,a=new Array(o);for(let u=0;u<o;++u)a[u]=i[s[u]];return a.join("")}}else n=function(i){return i instanceof r?i.toString("hex"):r.from(i).toString("hex")};t.exports=n});Fe("g4xmW",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("eIR83"),s=W("bpasi"),o=W("dIoYd"),a=W("bTTXN"),u=W("gIXub"),c=W("arkeG"),h=W("bSS4t"),f=function l(y){if(!(this instanceof l))return new l(y);y?(this.initialize(),this.set(y)):this.initialize()};f.prototype.verify=function(l,y,_,O,F,B,E){var I=W("7pkU6");if(n.isUndefined(_)&&(_=new I),n.isUndefined(O)&&(O=0),n.isUndefined(F)&&(F=0),F&f.SCRIPT_ENABLE_SIGHASH_FORKID&&(F|=f.SCRIPT_VERIFY_STRICTENC,!B))throw new Error("internal error - need satoshisBN to verify FORKID transactions");this.set({script:l,tx:_,nin:O,flags:F,satoshisBN:B,sighashScript:E});var L;if((F&f.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!l.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate("scriptSig"))return!1;F&f.SCRIPT_VERIFY_P2SH&&(L=this.stack.copy());var N=this.stack;if(this.initialize(),this.set({script:y,stack:N,tx:_,nin:O,flags:F,satoshisBN:B,sighashScript:E}),!this.evaluate("scriptPubkey"))return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var H=this.stack.stacktop(-1);if(!f.castToBool(H))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;if(F&f.SCRIPT_VERIFY_P2SH&&y.isScriptHashOut()){if(!l.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(L.length===0)throw new Error("internal error - stack copy empty");var D=L.stacktop(-1),C=i.fromBuffer(D);if(L.pop(),this.initialize(),this.set({script:C,stack:L,tx:_,nin:O,flags:F,satoshisBN:B}),!this.evaluate())return!1;if(L.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!f.castToBool(L.stacktop(-1)))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1}return(F&f.SCRIPT_VERIFY_CLEANSTACK)!==0&&this.stack.length!==1?(this.errstr="SCRIPT_ERR_CLEANSTACK",!1):!0},t.exports=f,f.prototype.initialize=function(l){this.stack=new h([]),this.altstack=new h([]),this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.nonTopLevelReturnAfterGenesis=!1,this.returned=!1},f.prototype.set=function(l){this.script=l.script||this.script,this.tx=l.tx||this.tx,this.nin=typeof l.nin<"u"?l.nin:this.nin,this.satoshisBN=l.satoshisBN||this.satoshisBN,this.stack=l.stack||this.stack,this.altstack=l.altstack||this.altstack,this.pc=typeof l.pc<"u"?l.pc:this.pc,this.pbegincodehash=typeof l.pbegincodehash<"u"?l.pbegincodehash:this.pbegincodehash,this.nOpCount=typeof l.nOpCount<"u"?l.nOpCount:this.nOpCount,this.vfExec=l.vfExec||this.vfExec,this.errstr=l.errstr||this.errstr,this.flags=typeof l.flags<"u"?l.flags:this.flags,this.sighashScript=l.sighashScript||this.sighashScript},f.prototype.subscript=function(){return this.sighashScript?this.sighashScript.clone():i.fromChunks(this.script.chunks.slice(this.pbegincodehash))},f.getTrue=()=>r.from([1]),f.getFalse=()=>r.from([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.MAXIMUM_ELEMENT_SIZE=4,f.LOCKTIME_THRESHOLD=5e8,f.LOCKTIME_THRESHOLD_BN=new o(f.LOCKTIME_THRESHOLD),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CLEANSTACK=256,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,f.SCRIPT_VERIFY_MINIMALIF=8192,f.SCRIPT_VERIFY_NULLFAIL=16384,f.SCRIPT_VERIFY_COMPRESSED_PUBKEYTYPE=32768,f.SCRIPT_ENABLE_SIGHASH_FORKID=65536,f.SCRIPT_ENABLE_REPLAY_PROTECTION=131072,f.SCRIPT_ENABLE_MONOLITH_OPCODES=262144,f.SCRIPT_ENABLE_MAGNETIC_OPCODES=524288,f.SEQUENCE_LOCKTIME_DISABLE_FLAG=-2147483648,f.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,f.SEQUENCE_LOCKTIME_MASK=65535,f.MAX_SCRIPT_SIZE=Number.MAX_SAFE_INTEGER,f.MAX_OPCODE_COUNT=Number.MAX_SAFE_INTEGER,f.DEFAULT_FLAGS=f.SCRIPT_ENABLE_MAGNETIC_OPCODES|f.SCRIPT_ENABLE_MONOLITH_OPCODES|f.SCRIPT_VERIFY_STRICTENC|f.SCRIPT_ENABLE_SIGHASH_FORKID|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_NULLFAIL|f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_MINIMALDATA|f.SCRIPT_VERIFY_NULLDUMMY|f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|f.SCRIPT_VERIFY_CLEANSTACK,f.castToBool=function(l){for(var y=0;y<l.length;y++)if(l[y]!==0)return!(y===l.length-1&&l[y]===128);return!1},f.prototype.checkSignatureEncoding=function(l){var y;if(l.length===0)return!0;if((this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))!==0&&!u.isTxDER(l))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&f.SCRIPT_VERIFY_LOW_S)!==0){if(y=u.fromTxFormat(l),!y.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&f.SCRIPT_VERIFY_STRICTENC)!==0){if(y=u.fromTxFormat(l),!y.hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;if(!(this.flags&f.SCRIPT_ENABLE_SIGHASH_FORKID)&&y.nhashtype&u.SIGHASH_FORKID)return this.errstr="SCRIPT_ERR_ILLEGAL_FORKID",!1;if(this.flags&f.SCRIPT_ENABLE_SIGHASH_FORKID&&!(y.nhashtype&u.SIGHASH_FORKID))return this.errstr="SCRIPT_ERR_MUST_USE_FORKID",!1}return!0},f.prototype.checkPubkeyEncoding=function(l){return(this.flags&f.SCRIPT_VERIFY_STRICTENC)!==0&&!c.isValid(l)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):!0},f._isMinimallyEncoded=function(l,y){return y=y||f.MAXIMUM_ELEMENT_SIZE,!(l.length>y||l.length>0&&(l[l.length-1]&127)===0&&(l.length<=1||(l[l.length-2]&128)===0))},f._minimallyEncode=function(l){if(l.length===0)return l;var y=l[l.length-1];if(y&127)return l;if(l.length===1)return r.from("");if(l[l.length-2]&128)return l;for(var _=l.length-1;_>0;_--)if(l[_-1]!==0)return l[_-1]&128?l[_++]=y:l[_-1]|=y,l.slice(0,_);return r.from("")},f.prototype.evaluate=function(l){if(this.script.toBuffer().length>f.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;!this.returned&&this.pc<this.script.chunks.length;){let _={pc:this.pc,fExec:this.vfExec.indexOf(!1)===-1,opcode:s.fromNumber(this.script.chunks[this.pc].opcodenum)};var y=this.step(l);if(this._callbackStep(_),!y)return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(_){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+_,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0},f.prototype._callbackStep=function(l){if(typeof this.stepListener=="function")try{this.stepListener(l)}catch(y){console.log(`Error in Step callback:${y}`)}},f.prototype._callbackStack=function(l,y,_){if(typeof this.stackListener=="function")try{this.stackListener(l,y,_)}catch(F){var O=this.script.chunks[y];console.error(`Error: ${F} in _updateStack pc: ${y}, opcode ${s.fromNumber(O.opcodenum).toSafeString()}`)}},f.prototype.checkLockTime=function(l){return!(!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&l.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&l.gte(f.LOCKTIME_THRESHOLD_BN))||l.gt(new o(this.tx.nLockTime))||this.tx.inputs[this.nin].isFinal())},f.prototype.checkSequence=function(l){var y=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||y&f.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var _=f.SEQUENCE_LOCKTIME_TYPE_FLAG|f.SEQUENCE_LOCKTIME_MASK,O=new o(y&_),F=l.and(_),B=new o(f.SEQUENCE_LOCKTIME_TYPE_FLAG);return!(!(O.lt(B)&&F.lt(B)||O.gte(B)&&F.gte(B))||F.gt(O))};function p(l,y){let _=l;for(;_.length<y;)_=r.concat([r.from([0]),_]);return _}f.prototype.step=function(l){var y=this;function _(ue){return y.stack.stacktop(ue)}function O(ue){return y.stack.vartop(ue)}function F(ue){switch(ue){case s.OP_2MUL:case s.OP_2DIV:return!0;case s.OP_INVERT:case s.OP_MUL:case s.OP_LSHIFT:case s.OP_RSHIFT:if((y.flags&f.SCRIPT_ENABLE_MAGNETIC_OPCODES)===0)return!0;break;case s.OP_DIV:case s.OP_MOD:case s.OP_SPLIT:case s.OP_CAT:case s.OP_AND:case s.OP_OR:case s.OP_XOR:case s.OP_BIN2NUM:case s.OP_NUM2BIN:if((y.flags&f.SCRIPT_ENABLE_MONOLITH_OPCODES)===0)return!0;break;default:break}return!1}var B=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA)!==0,E,I,L,N,H,D,C,d,v,g,m,S,w,R,T,b,x,P,U,K,z=this.script.chunks[this.pc];this.pc++;var Q=z.opcodenum;if(n.isUndefined(Q))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(z.buf&&z.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;var oe=this.vfExec.indexOf(!1)===-1&&(!this.nonTopLevelReturnAfterGenesis||Q===s.OP_RETURN);if(Q>s.OP_16&&++this.nOpCount>f.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(F(Q))return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(oe&&Q>=0&&Q<=s.OP_PUSHDATA4){if(B&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!z.buf)this.stack.push(f.getFalse());else{if(z.len!==z.buf.length)throw new Error(`Length of push value not equal to length of data (${z.len},${z.buf.length})`);this.stack.push(z.buf)}}else if(oe||s.OP_IF<=Q&&Q<=s.OP_ENDIF)switch(Q){case s.OP_1NEGATE:case s.OP_1:case s.OP_2:case s.OP_3:case s.OP_4:case s.OP_5:case s.OP_6:case s.OP_7:case s.OP_8:case s.OP_9:case s.OP_10:case s.OP_11:case s.OP_12:case s.OP_13:case s.OP_14:case s.OP_15:case s.OP_16:H=Q-(s.OP_1-1),E=new o(H).toScriptNumBuffer(),this.stack.push(E);break;case s.OP_NOP:break;case s.OP_NOP2:case s.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var ie=o.fromScriptNumBuffer(this.stack.stacktop(-1),B,5);if(ie.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(ie))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP3:case s.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var q=o.fromScriptNumBuffer(_(-1),B,5);if(q.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((q&f.SEQUENCE_LOCKTIME_DISABLE_FLAG)!==0)break;if(!this.checkSequence(q))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP1:case s.OP_NOP4:case s.OP_NOP5:case s.OP_NOP6:case s.OP_NOP7:case s.OP_NOP8:case s.OP_NOP9:case s.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case s.OP_IF:case s.OP_NOTIF:if(b=!1,oe){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(E=_(-1),this.flags&f.SCRIPT_VERIFY_MINIMALIF){if(E.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(E.length===1&&E[0]!==1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}b=f.castToBool(E),Q===s.OP_NOTIF&&(b=!b),this.stack.pop()}this.vfExec.push(b);break;case s.OP_ELSE:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case s.OP_ENDIF:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case s.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(E=_(-1),b=f.castToBool(E),b)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1;break;case s.OP_RETURN:if((this.flags&f.SCRIPT_VERIFY_P2SH)===0){if(this.vfExec.length===0)return this.returned=!0,!0;this.nonTopLevelReturnAfterGenesis=!0}else return!1;break;case s.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-1),this.altstack.push(this.stack.pop(),P);break;case s.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;let ue=this.altstack.vartop(-1);this.stack.push(this.altstack.pop(),ue);break;case s.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case s.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-2),L=_(-1),P=O(-2),U=O(-1),this.stack.push(r.from(I),`$${P}`),this.stack.push(r.from(L),`$${U}`);break;case s.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-3),L=_(-2);var X=_(-1);P=O(-3),U=O(-2),K=O(-1),this.stack.push(r.from(I),`$${P}`),this.stack.push(r.from(L),`$${U}`),this.stack.push(r.from(X),`$${K}`);break;case s.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-4),L=_(-3),P=O(-4),U=O(-3),this.stack.push(r.from(I),`$${P}`),this.stack.push(r.from(L),`$${U}`);break;case s.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-6),U=O(-5),N=this.stack.splice(this.stack.length-6,2),this.stack.push(N[0],P),this.stack.push(N[1],U);break;case s.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-4),U=O(-3),N=this.stack.splice(this.stack.length-4,2),this.stack.push(N[0],P),this.stack.push(N[1],U);break;case s.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=_(-1),b=f.castToBool(E),b&&(P=O(-1),this.stack.push(r.from(E),`$${P}`));break;case s.OP_DEPTH:E=new o(this.stack.length).toScriptNumBuffer(),this.stack.push(E,"$depth");break;case s.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case s.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-1),this.stack.push(r.from(_(-1)),`$${P}`);break;case s.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case s.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;U=O(-2),this.stack.push(r.from(_(-2)),`$${U}`);break;case s.OP_PICK:case s.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(E=_(-1),d=o.fromScriptNumBuffer(E,B,4),H=d.toNumber(),this.stack.pop(),H<0||H>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=_(-H-1),P=O(-H-1),Q===s.OP_ROLL?(this.stack.splice(this.stack.length-H-1,1),this.stack.push(r.from(E),P)):this.stack.push(r.from(E),`$${P}`);break;case s.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=_(-3),C=_(-2);var J=_(-1);P=O(-3),U=O(-2),K=O(-1),this.stack.write(-3,C),this.stack.write(-2,J),this.stack.write(-1,D),this.stack.updateTopVars([P,K,U]);break;case s.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=_(-2),C=_(-1),P=O(-2),U=O(-1),this.stack.write(-2,C),this.stack.write(-1,D),this.stack.updateTopVars([P,U]);break;case s.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-2),U=O(-1),this.stack.splice(this.stack.length-2,0,r.from(_(-1))),this.stack.updateTopVars([U,P,`$${U}`]);break;case s.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;d=new o(_(-1).length),this.stack.push(d.toScriptNumBuffer(),"$size");break;case s.OP_AND:case s.OP_OR:case s.OP_XOR:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-2),L=_(-1),I.length!==L.length)return this.errstr="SCRIPT_ERR_INVALID_OPERAND_SIZE",!1;switch(Q){case s.OP_AND:for(let se=0;se<I.length;se++)I[se]&=L[se];break;case s.OP_OR:for(let se=0;se<I.length;se++)I[se]|=L[se];break;case s.OP_XOR:for(let se=0;se<I.length;se++)I[se]^=L[se];break;default:break}this.stack.pop();break;case s.OP_INVERT:this.stack.length<1&&(this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION"),E=_(-1);for(let se=0;se<E.length;se++)E[se]=~E[se];break;case s.OP_LSHIFT:case s.OP_RSHIFT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-2),I.length===0)this.stack.pop();else{if(v=new o(I),g=o.fromScriptNumBuffer(_(-1),B,4),H=g.toNumber(),H<0)return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;this.stack.pop(),this.stack.pop();let se;Q===s.OP_LSHIFT&&(se=v.ushln(H)),Q===s.OP_RSHIFT&&(se=v.ushrn(H));let de=p(r.from(se.toArray().slice(I.length*-1)),I.length);this.stack.push(de)}break;case s.OP_EQUAL:case s.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-2),L=_(-1);var re=I.toString("hex")===L.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(re?f.getTrue():f.getFalse()),Q===s.OP_EQUALVERIFY)if(re)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;break;case s.OP_1ADD:case s.OP_1SUB:case s.OP_NEGATE:case s.OP_ABS:case s.OP_NOT:case s.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(E=_(-1),d=o.fromScriptNumBuffer(E,B),Q){case s.OP_1ADD:d=d.add(o.One);break;case s.OP_1SUB:d=d.sub(o.One);break;case s.OP_NEGATE:d=d.neg();break;case s.OP_ABS:d.cmp(o.Zero)<0&&(d=d.neg());break;case s.OP_NOT:d=new o((d.cmp(o.Zero)===0)+0);break;case s.OP_0NOTEQUAL:d=new o((d.cmp(o.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(d.toScriptNumBuffer());break;case s.OP_ADD:case s.OP_SUB:case s.OP_MUL:case s.OP_MOD:case s.OP_DIV:case s.OP_BOOLAND:case s.OP_BOOLOR:case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:case s.OP_NUMNOTEQUAL:case s.OP_LESSTHAN:case s.OP_GREATERTHAN:case s.OP_LESSTHANOREQUAL:case s.OP_GREATERTHANOREQUAL:case s.OP_MIN:case s.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(v=o.fromScriptNumBuffer(_(-2),B),g=o.fromScriptNumBuffer(_(-1),B),d=new o(0),Q){case s.OP_ADD:d=v.add(g);break;case s.OP_SUB:d=v.sub(g);break;case s.OP_MUL:d=v.mul(g);break;case s.OP_DIV:if(g===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;d=v.div(g);break;case s.OP_MOD:if(g===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;d=v.mod(g);break;case s.OP_BOOLAND:d=new o((v.cmp(o.Zero)!==0&&g.cmp(o.Zero)!==0)+0);break;case s.OP_BOOLOR:d=new o((v.cmp(o.Zero)!==0||g.cmp(o.Zero)!==0)+0);break;case s.OP_NUMEQUAL:d=new o((v.cmp(g)===0)+0);break;case s.OP_NUMEQUALVERIFY:d=new o((v.cmp(g)===0)+0);break;case s.OP_NUMNOTEQUAL:d=new o((v.cmp(g)!==0)+0);break;case s.OP_LESSTHAN:d=new o((v.cmp(g)<0)+0);break;case s.OP_GREATERTHAN:d=new o((v.cmp(g)>0)+0);break;case s.OP_LESSTHANOREQUAL:d=new o((v.cmp(g)<=0)+0);break;case s.OP_GREATERTHANOREQUAL:d=new o((v.cmp(g)>=0)+0);break;case s.OP_MIN:d=v.cmp(g)<0?v:g;break;case s.OP_MAX:d=v.cmp(g)>0?v:g;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(d.toScriptNumBuffer()),Q===s.OP_NUMEQUALVERIFY)if(f.castToBool(_(-1)))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;break;case s.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;v=o.fromScriptNumBuffer(_(-3),B),g=o.fromScriptNumBuffer(_(-2),B);var ae=o.fromScriptNumBuffer(_(-1),B);b=g.cmp(v)<=0&&v.cmp(ae)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(b?f.getTrue():f.getFalse());break;case s.OP_RIPEMD160:case s.OP_SHA1:case s.OP_SHA256:case s.OP_HASH160:case s.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=_(-1);var me;Q===s.OP_RIPEMD160?me=a.ripemd160(E):Q===s.OP_SHA1?me=a.sha1(E):Q===s.OP_SHA256?me=a.sha256(E):Q===s.OP_HASH160?me=a.sha256ripemd160(E):Q===s.OP_HASH256&&(me=a.sha256sha256(E)),this.stack.pop(),this.stack.push(me);break;case s.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case s.OP_CHECKSIG:case s.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(m=_(-2),S=_(-1),!this.checkSignatureEncoding(m)||!this.checkPubkeyEncoding(S))return!1;w=this.subscript();var _e=new i().add(m);w.findAndDelete(_e);try{R=u.fromTxFormat(m),T=c.fromBuffer(S,!1),x=this.tx.verifySignature(R,T,this.nin,w,this.satoshisBN,this.flags)}catch{x=!1}if(!x&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&m.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(x?f.getTrue():f.getFalse()),Q===s.OP_CHECKSIGVERIFY)if(x)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;break;case s.OP_CHECKMULTISIG:case s.OP_CHECKMULTISIGVERIFY:var Ie=1;if(this.stack.length<Ie)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Le=o.fromScriptNumBuffer(_(-Ie),B).toNumber();if(Le<0||Le>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=Le,this.nOpCount>f.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var Ce=++Ie;Ie+=Le;var He=Le+2;if(this.stack.length<Ie)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Ze=o.fromScriptNumBuffer(_(-Ie),B).toNumber();if(Ze<0||Ze>Le)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var Te=++Ie;if(Ie+=Ze,this.stack.length<Ie)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;w=this.subscript();for(var Se=0;Se<Ze;Se++)m=_(-Te-Se),w.findAndDelete(new i().add(m));for(x=!0;x&&Ze>0;){if(m=_(-Te),S=_(-Ce),!this.checkSignatureEncoding(m)||!this.checkPubkeyEncoding(S))return!1;var pt;try{R=u.fromTxFormat(m),T=c.fromBuffer(S,!1),pt=this.tx.verifySignature(R,T,this.nin,w,this.satoshisBN,this.flags)}catch{pt=!1}pt&&(Te++,Ze--),Ce++,Le--,Ze>Le&&(x=!1)}for(;Ie-- >1;){if(!x&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&!He&&_(-1).length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;He>0&&He--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&_(-1).length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(x?f.getTrue():f.getFalse()),Q===s.OP_CHECKMULTISIGVERIFY)if(x)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;break;case s.OP_CAT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-2),L=_(-1),I.length+L.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.write(-2,r.concat([I,L])),this.stack.pop();break;case s.OP_SPLIT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-2);var j=o.fromScriptNumBuffer(_(-1),B).toNumber();if(j<0||j>I.length)return this.errstr="SCRIPT_ERR_INVALID_SPLIT_RANGE",!1;var Y=r.from(I);this.stack.write(-2,Y.slice(0,j)),this.stack.write(-1,Y.slice(j));break;case s.OP_NUM2BIN:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var V=o.fromScriptNumBuffer(_(-1),B).toNumber();if(V>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.pop();var G=_(-1);if(G=f._minimallyEncode(G),G.length>V)return this.errstr="SCRIPT_ERR_IMPOSSIBLE_ENCODING",!1;if(G.length===V){this.stack.write(-1,G);break}var Z=0;G.length>0&&(Z=G[G.length-1]&128,G[G.length-1]&=127);var ee=r.alloc(V);G.copy(ee,0);for(var te=G.length-1;te++<V-2;)ee[te]=0;ee[te]=Z,this.stack.write(-1,ee);break;case s.OP_BIN2NUM:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-1),L=f._minimallyEncode(I),this.stack.write(-1,L),!f._isMinimallyEncoded(L))return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.vfExec.indexOf(!1)===-1&&this._callbackStack(this.stack,this.pc,l),!0}});Fe("bSS4t",function(t,e){"use strict";var r=function(s,o){this.stack=s,this.varStack=o||[]};t.exports=r,r.prototype.pushVar=function(i){this.varStack.push(i||"$tmp")},r.prototype.popVar=function(){this.varStack.pop()},r.prototype.push=function(i,s){this.pushVar(s),this.stack.push(i),this.checkConsistency()},r.prototype.pop=function(){this.popVar();let i=this.stack.pop();return this.checkConsistency(),i},r.prototype.updateTopVars=function(i){if(i.length>this.varStack.length)throw new Error(`updateTopVars fail, stack: ${this.stack.length},  varStack: ${this.varStack.length}, vars:${i.length}`);i=i.reverse(),this.varStack.splice(this.varStack.length-i.length,i.length,...i)},r.prototype.stacktop=function(i){return this.stack[this.stack.length+i]},r.prototype.vartop=function(i){return this.varStack[this.varStack.length+i]},r.prototype.slice=function(i,s){return this.stack.slice(i,s)},r.prototype.splice=function(i,s,...o){return this.varStack.splice(i,s,...o),this.stack.splice(i,s,...o)},r.prototype.write=function(i,s){this.stack[this.stack.length+i]=s},r.prototype.copy=function(){return new r(this.stack.slice()||[],this.varStack.slice()||[])};function n(i){return i.reduce(function(s,o){return s+=("0"+(o&255).toString(16)).slice(-2),s},"")}r.prototype.printVarStack=function(){let i=this.varStack.map((s,o)=>({name:s,value:n(this.rawstack[o].data)}));console.log(JSON.stringify(i,null,4))},r.prototype.checkConsistency=function(){if(this.stack.length!==this.varStack.length)throw this.printVarStack(),new Error(`checkConsistency fail, stack: ${this.stack.length}, varStack:${this.varStack.length}`)},r.prototype.checkConsistencyWithVars=function(i){if(this.stack.length<i.length)throw this.printVarStack(),new Error(`checkConsistencyWithVars fail, stack: ${this.stack.length}, varStack:${i.length}`)},Object.defineProperty(r.prototype,"length",{get:function(){return this.stack.length}}),Object.defineProperty(r.prototype,"rawstack",{get:function(){return this.stack}})});Fe("7pkU6",function(t,e){t.exports=W("98CPZ"),t.exports.Input=W("dQaOn"),t.exports.Output=W("bczuf"),t.exports.UnspentOutput=W("G1usC"),t.exports.Signature=W("4Dqlv"),t.exports.Sighash=W("95EnH")});Fe("98CPZ",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("kooOK"),o=W("gk75r"),a=W("28ku8"),u=W("2AZ1V"),c=W("1zMJW"),h=W("bTTXN"),f=W("gIXub"),p=W("95EnH"),l=W("iSUUt"),y=W("G1usC"),_=W("dQaOn"),O=_.PublicKeyHash,F=_.PublicKey,B=_.MultiSigScriptHash,E=_.MultiSig,I=W("bczuf"),L=W("hkiTH"),N=W("7smYJ"),H=W("dIoYd");function D(m){if(!(this instanceof D))return new D(m);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,this._inputsMap=new Map,this._outputsMap=new Map,this._privateKey=void 0,this._sigType=void 0,this.sealed=!1,m){if(m instanceof D)return D.shallowCopy(m);if(o.isHexa(m))this.fromString(m);else if(r.isBuffer(m))this.fromBuffer(m);else if(n.isObject(m))this.fromObject(m);else throw new s.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var C=1,d=0;D.DUST_AMOUNT=1,D.FEE_SECURITY_MARGIN=150,D.MAX_MONEY=21e6*1e8,D.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,D.NLOCKTIME_MAX_VALUE=4294967295,D.FEE_PER_KB=50,D.CHANGE_OUTPUT_MAX_SIZE=62,D.DUMMY_PRIVATEKEY=N.fromWIF("cQ3nCBQB9RsFSyjNQM15NQLVpXXMtWh9PUyeFz5KxLJCHsuRH2Su"),D.shallowCopy=function(m){var S=new D(m.toBuffer());return S};var v={configurable:!1,enumerable:!0,get:function(){return this._hash=new a(this._getHash()).readReverse().toString("hex"),this._hash}};Object.defineProperty(D.prototype,"hash",v),Object.defineProperty(D.prototype,"id",v);var g={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(D.prototype,"inputAmount",g),g.get=function(){return this._getOutputAmount()},Object.defineProperty(D.prototype,"outputAmount",g),D.prototype._getHash=function(){return h.sha256sha256(this.toBuffer())},D.prototype.serialize=function(m){return m===!0||m&&m.disableAll?this.uncheckedSerialize():this.checkedSerialize(m)},D.prototype.uncheckedSerialize=D.prototype.toString=function(){return this.toBuffer().toString("hex")},D.prototype.checkedSerialize=function(m){var S=this.getSerializationError(m);if(S)throw S.message+=" - For more information please see: https://bsv.io/api/lib/transaction#serialization-checks",S;return this.uncheckedSerialize()},D.prototype.invalidSatoshis=function(){for(var m=!1,S=0;S<this.outputs.length;S++)this.outputs[S].invalidSatoshis()&&(m=!0);return m},D.prototype.getSerializationError=function(m){if(m=m||{},this.invalidSatoshis())return new s.Transaction.InvalidSatoshis;var S=this.getUnspentValue(),w;return S<0?m.disableMoreOutputThanInput||(w=new s.Transaction.InvalidOutputAmountSum):w=this._hasFeeError(m,S),w||this._hasDustOutputs(m)||this._isMissingSignatures(m)},D.prototype._hasFeeError=function(m,S){if(!n.isUndefined(this._fee)&&this._fee!==S)return new s.Transaction.FeeError.Different("Unspent value is "+S+" but specified fee is "+this._fee);if(!m.disableLargeFees){var w=Math.floor(D.FEE_SECURITY_MARGIN*this._estimateFee());if(S>w)return this._missingChange()?new s.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new s.Transaction.FeeError.TooLarge("expected less than "+w+" but got "+S)}},D.prototype._missingChange=function(){return!this._changeScript},D.prototype._hasDustOutputs=function(m){if(!m.disableDustOutputs){var S,w;for(S in this.outputs)if(w=this.outputs[S],w.satoshis<D.DUST_AMOUNT&&!w.script.isDataOut()&&!w.script.isSafeDataOut())return new s.Transaction.DustOutputs}},D.prototype._isMissingSignatures=function(m){if(!m.disableIsFullySigned&&!this.isFullySigned())return new s.Transaction.MissingSignatures},D.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},D.prototype.toBuffer=function(){var m=new u;return this.toBufferWriter(m).toBuffer()},D.prototype.toBufferWriter=function(m){return m.writeUInt32LE(this.version),m.writeVarintNum(this.inputs.length),n.each(this.inputs,function(S){S.toBufferWriter(m)}),m.writeVarintNum(this.outputs.length),n.each(this.outputs,function(S){S.toBufferWriter(m)}),m.writeUInt32LE(this.nLockTime),m},D.prototype.fromBuffer=function(m){var S=new a(m);return this.fromBufferReader(S)},D.prototype.fromBufferReader=function(m){i.checkArgument(!m.finished(),"No transaction data received");var S,w,R;for(this.version=m.readInt32LE(),w=m.readVarintNum(),S=0;S<w;S++){var T=_.fromBufferReader(m);this.inputs.push(T)}for(R=m.readVarintNum(),S=0;S<R;S++)this.outputs.push(I.fromBufferReader(m));return this.nLockTime=m.readUInt32LE(),this},D.prototype.toObject=D.prototype.toJSON=function(){var S=[];this.inputs.forEach(function(T){S.push(T.toObject())});var w=[];this.outputs.forEach(function(T){w.push(T.toObject())});var R={hash:this.hash,version:this.version,inputs:S,outputs:w,nLockTime:this.nLockTime};return this._changeScript&&(R.changeScript=this._changeScript.toString()),this._changeScript&&(R.changeAddress=this._changeAddress.toString()),n.isUndefined(this._changeIndex)||(R.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(R.fee=this._fee),R},D.prototype.fromObject=function(S){i.checkArgument(n.isObject(S)||S instanceof D);var w=this,R;return S instanceof D?R=R.toObject():R=S,n.each(R.inputs,function(T){if(!T.output||!T.output.script){w.uncheckedAddInput(new _(T));return}var b=new L(T.output.script),x;if(b.isPublicKeyHashOut())x=new _.PublicKeyHash(T);else if(b.isScriptHashOut()&&T.publicKeys&&T.threshold)x=new _.MultiSigScriptHash(T,T.publicKeys,T.threshold,T.signatures);else if(b.isPublicKeyOut())x=new _.PublicKey(T);else throw new s.Transaction.Input.UnsupportedScript(T.output.script);w.addInput(x)}),n.each(R.outputs,function(T){w.addOutput(new I(T))}),R.changeIndex&&(this._changeIndex=R.changeIndex),R.changeScript&&(this._changeScript=new L(R.changeScript)),R.changeAddress&&(this._changeAddress=l.fromString(R.changeAddress)),R.fee&&(this._fee=R.fee),this.nLockTime=R.nLockTime,this.version=R.version,this._checkConsistency(S),this},D.prototype._checkConsistency=function(m){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this._changeAddress,"Change address is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),m&&m.hash&&i.checkState(m.hash===this.hash,"Hash in object does not match transaction hash.")},D.prototype.lockUntilDate=function(m){if(i.checkArgument(m),n.isNumber(m)&&m<D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.LockTimeTooEarly;n.isDate(m)&&(m=m.getTime()/1e3);for(var S=0;S<this.inputs.length;S++)this.inputs[S].sequenceNumber===_.DEFAULT_SEQNUMBER&&(this.inputs[S].sequenceNumber=_.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=m,this},D.prototype.lockUntilBlockHeight=function(m){if(i.checkArgument(n.isNumber(m)),m>=D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.BlockHeightTooHigh;if(m<0)throw new s.Transaction.NLockTimeOutOfRange;for(var S=0;S<this.inputs.length;S++)this.inputs[S].sequenceNumber===_.DEFAULT_SEQNUMBER&&(this.inputs[S].sequenceNumber=_.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=m,this},D.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<D.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},D.prototype.fromString=function(m){this.fromBuffer(r.from(m,"hex"))},D.prototype._newTransaction=function(){this.version=C,this.nLockTime=d},D.prototype.from=function(m,S,w){if(n.isArray(m)){var R=this;return n.each(m,function(b){R.from(b,S,w)}),this}var T=n.some(this.inputs,function(b){return b.prevTxId.toString("hex")===m.txId&&b.outputIndex===m.outputIndex});return T?this:(S&&w?this._fromMultisigUtxo(m,S,w):this._fromNonP2SH(m),this)},D.prototype._fromNonP2SH=function(m){var S;m=new y(m),m.script.isPublicKeyHashOut()?S=O:m.script.isPublicKeyOut()?S=F:S=_,this.addInput(new S({output:new I({script:m.script,satoshis:m.satoshis}),prevTxId:m.txId,outputIndex:m.outputIndex,script:L.empty()}))},D.prototype._fromMultisigUtxo=function(m,S,w){i.checkArgument(w<=S.length,"Number of required signatures must be greater than the number of public keys");var R;if(m=new y(m),m.script.isMultisigOut())R=E;else if(m.script.isScriptHashOut())R=B;else throw new Error("@TODO");this.addInput(new R({output:new I({script:m.script,satoshis:m.satoshis}),prevTxId:m.txId,outputIndex:m.outputIndex,script:L.empty()},S,w))},D.prototype.addInput=function(m,S,w){if(i.checkArgumentType(m,_,"input"),!m.output&&(n.isUndefined(S)||n.isUndefined(w)))throw new s.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!m.output&&S&&!n.isUndefined(w)&&(S=S instanceof L?S:new L(S),i.checkArgumentType(w,"number","satoshis"),m.output=new I({script:S,satoshis:w})),this.uncheckedAddInput(m)},D.prototype.uncheckedAddInput=function(m){return i.checkArgumentType(m,_,"input"),this.inputs.push(m),this._inputAmount=void 0,this._updateChangeOutput(),this},D.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map(function(m){return!!m.output}))},D.prototype.fee=function(m){return i.checkArgument(n.isNumber(m),"amount must be a number"),this._fee=m,this._updateChangeOutput(),this},D.prototype.feePerKb=function(m){return i.checkArgument(n.isNumber(m),"amount must be a number"),this._feePerKb=m,this._updateChangeOutput(),this},D.prototype.change=function(m){return i.checkArgument(m,"address is required"),this._changeScript=L.fromAddress(m),this._changeAddress=l(m),this._updateChangeOutput(),this},D.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},D.prototype.getChangeAddress=function(){return this._changeAddress?this._changeAddress:null},D.prototype.to=function(m,S){if(n.isArray(m)){var w=this;return n.each(m,function(R){w.to(R.address,R.satoshis)}),this}return i.checkArgument(o.isNaturalNumber(S),"Amount is expected to be a positive integer"),this.addOutput(new I({script:L(new l(m)),satoshis:S})),this},D.prototype.addData=function(m){return this.addOutput(new I({script:L.buildDataOut(m),satoshis:0})),this},D.prototype.addSafeData=function(m){return this.addOutput(new I({script:L.buildSafeDataOut(m),satoshis:0})),this},D.prototype.addOutput=function(m){return i.checkArgumentType(m,I,"output"),this._addOutput(m),this._updateChangeOutput(),this},D.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},D.prototype._addOutput=function(m){this.outputs.push(m),this._outputAmount=void 0},D.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var m=this;this._outputAmount=0,n.each(this.outputs,function(S){m._outputAmount+=S.satoshis})}return this._outputAmount},D.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var m=this;this._inputAmount=0,n.each(this.inputs,function(S){if(n.isUndefined(S.output))throw new s.Transaction.Input.MissingPreviousOutput;m._inputAmount+=S.output.satoshis})}return this._inputAmount},D.prototype._updateChangeOutput=function(){if(this.sealed)throw new s.Transaction.TransactionAlreadySealed;if(!!this._changeScript){n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex),this._changeIndex=this.outputs.length,this._addOutput(new I({script:this._changeScript,satoshis:0}));var m=this.getUnspentValue(),S=this.getFee(),w=m-S;this._removeOutput(this._changeIndex),this._changeIndex=void 0,w>=D.DUST_AMOUNT&&(this._changeIndex=this.outputs.length,this._addOutput(new I({script:this._changeScript,satoshis:w}))),this._clearSignatures()}},D.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this.getUnspentValue():this._fee},D.prototype._estimateFee=function(){var m=this._estimateSize();return Math.ceil(m/1e3*(this._feePerKb||D.FEE_PER_KB))},D.prototype.getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},D.prototype._clearSignatures=function(){n.each(this.inputs,function(m){m.clearSignatures()})},D.prototype.getEstimateSize=function(){return this._estimateSize()},D.prototype._estimateSize=function(){var m=8;return m+=c(this.inputs.length).toBuffer().length,m+=c(this.outputs.length).toBuffer().length,n.each(this.inputs,function(S){m+=S._estimateSize()}),n.each(this.outputs,function(S){m+=S.getSize()}),m},D.prototype._removeOutput=function(m){var S=this.outputs[m];this.outputs=n.without(this.outputs,S),this._outputAmount=void 0},D.prototype.removeOutput=function(m){this._removeOutput(m),this._updateChangeOutput()},D.prototype.sort=function(){return this.sortInputs(function(m){var S=Array.prototype.concat.apply([],m);return S.sort(function(w,R){return w.prevTxId.compare(R.prevTxId)||w.outputIndex-R.outputIndex}),S}),this.sortOutputs(function(m){var S=Array.prototype.concat.apply([],m);return S.sort(function(w,R){return w.satoshis-R.satoshis||w.script.toBuffer().compare(R.script.toBuffer())}),S}),this},D.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},D.prototype.sortOutputs=function(m){var S=m(this.outputs);return this._newOutputOrder(S)},D.prototype.sortInputs=function(m){return this.inputs=m(this.inputs),this._clearSignatures(),this},D.prototype._newOutputOrder=function(m){var S=this.outputs.length!==m.length||n.difference(this.outputs,m).length!==0;if(S)throw new s.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var w=this.outputs[this._changeIndex];this._changeIndex=m.indexOf(w)}return this.outputs=m,this},D.prototype.removeInput=function(m,S){var w;if(!S&&n.isNumber(m)?w=m:w=n.findIndex(this.inputs,function(T){return T.prevTxId.toString("hex")===m&&T.outputIndex===S}),w<0||w>=this.inputs.length)throw new s.Transaction.InvalidIndex(w,this.inputs.length);var R=this.inputs[w];this.inputs=n.without(this.inputs,R),this._inputAmount=void 0,this._updateChangeOutput()},D.prototype.sign=function(m,S){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var w=this;return n.isArray(m)?(n.each(m,function(R){w.sign(R,S)}),this):(n.each(this.getSignatures(m,S),function(R){w.applySignature(R)}),this._privateKey=m,this._sigType=S,this)},D.prototype.getSignatures=function(m,S){m=new N(m),S=S||f.SIGHASH_ALL|f.SIGHASH_FORKID;var w=this,R=[],T=h.sha256ripemd160(m.publicKey.toBuffer());return n.each(this.inputs,function(x,P){n.each(x.getSignatures(w,m,P,S,T),function(U){R.push(U)})}),R},D.prototype.applySignature=function(m){return this.inputs[m.inputIndex].addSignature(this,m),this},D.prototype.isFullySigned=function(){return n.each(this.inputs,function(m){if(m.isFullySigned===_.prototype.isFullySigned)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")}),n.every(n.map(this.inputs,function(m){return m.isFullySigned()}))},D.prototype.isValidSignature=function(m){var S=this;if(this.inputs[m.inputIndex].isValidSignature===_.prototype.isValidSignature)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[m.inputIndex].isValidSignature(S,m)},D.prototype.verifySignature=function(m,S,w,R,T,b){return p.verify(this,m,S,w,R,T,b)},D.prototype.verify=function(m){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var S=new H(0),w=0;w<this.outputs.length;w++){var R=this.outputs[w];if(R.invalidSatoshis())return"transaction txout "+w+" satoshis is invalid";if(R._satoshisBN.gt(new H(D.MAX_MONEY,10)))return"transaction txout "+w+" greater than MAX_MONEY";if(S=S.add(R._satoshisBN),S.gt(new H(D.MAX_MONEY)))return"transaction txout "+w+" total output greater than MAX_MONEY"}var T={};for(w=0;w<this.inputs.length;w++){var b=this.inputs[w],x=b.prevTxId+":"+b.outputIndex;if(!n.isUndefined(T[x]))return"transaction input "+w+" duplicate input";T[x]=!0}var P=this.isCoinbase();if(P){var U=this.inputs[0]._scriptBuffer;if(U.length<2||U.length>100)return"coinbase transaction script size invalid"}else for(w=0;w<this.inputs.length;w++){if(this.inputs[w].isNull())return"transaction input "+w+" has null input";if(!m){var K=this.inputs[w].verify(this,w);if(!K.success)return"transaction input "+w+" VerifyError: "+K.error}}return!0},D.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()},D.prototype.setInputScript=function(m,S){var w=0,R,T,b=!1;if(typeof m=="number"?(w=m,T=f.SIGHASH_ALL|f.SIGHASH_FORKID):(w=m.inputIndex||0,R=m.privateKey,T=m.sigtype||f.SIGHASH_ALL|f.SIGHASH_FORKID,b=m.isLowS||!1),S instanceof Function){var x=this.inputs[w].output;this._inputsMap.set(w,{sigtype:T,privateKey:R,isLowS:b,callback:S});var P=S(this,x);this.inputs[w].setScript(P)}else this.inputs[w].setScript(S);return this},D.prototype.setInputScriptAsync=async function(m,S){var w=0,R,T=!1;if(typeof m=="number"?(w=m,R=f.SIGHASH_ALL|f.SIGHASH_FORKID):(w=m.inputIndex||0,R=m.sigtype||f.SIGHASH_ALL|f.SIGHASH_FORKID,T=m.isLowS||!1),S instanceof Function){var b=this.inputs[w].output;this._inputsMap.set(w,{sigtype:R,isLowS:T,callback:S});var x=await S(this,b);this.inputs[w].setScript(x)}else throw new s.InvalidArgument("Must provide a callback returns a unlocking script");return this},D.prototype.setInputSequence=function(m,S){return this.inputs[m].sequenceNumber=S,this},D.prototype.setOutput=function(m,S){return S instanceof Function?(this._outputsMap.set(m,S),this.outputs[m]=S(this)):this.outputs[m]=S,this._updateChangeOutput(),this},D.prototype.seal=function(){var m=this;return this._outputsMap.forEach(function(S,w){m.outputs[w]=S(m)}),this._updateChangeOutput(),this._inputsMap.forEach(function(S,w){var R=m.inputs[w].output,T=S.callback(m,R);m.inputs[w].setScript(T)}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.sealAsync=async function(){var m=this;this._outputsMap.forEach(function(w,R){m.outputs[R]=w(m)}),this._updateChangeOutput();var S=[];return this._inputsMap.forEach(function(w,R){var T=m.inputs[R].output;S.push(Promise.resolve(w.callback(m,T)).then(b=>({key:R,unlockScript:b})))}),await Promise.all(S).then(w=>{w.forEach(({key:R,unlockScript:T})=>{m.inputs[R].setScript(T)})}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.setLockTime=function(m){return this.nLockTime=m,this},D.prototype.getChangeAmount=function(){return n.isUndefined(this._changeIndex)?0:this.outputs[this._changeIndex].satoshis},D.prototype.getEstimateFee=function(){return this._estimateFee()},D.prototype.checkFeeRate=function(m){var S=this.getUnspentValue(),w=this._estimateSize(),R=(m||this._feePerKb||D.FEE_PER_KB)/1e3,T=S/w;return T>=R},D.prototype.prevouts=function(){var m=new u;n.each(this.inputs,function(w){m.writeReverse(w.prevTxId),m.writeUInt32LE(w.outputIndex)});var S=m.toBuffer();return S.toString("hex")},D.prototype.isSealed=function(){return this.sealed},D.prototype.getPreimage=function(m,S,w,R){i.checkArgumentType(m,"number","inputIndex"),S=S||f.SIGHASH_ALL|f.SIGHASH_FORKID,w=w||!1,m=m||0;var T=this.inputs[m].getPreimage(this,m,S,w,R);return T.toString("hex")},D.prototype.getSignature=function(m,S,w){i.checkArgumentType(m,"number","inputIndex");var R=[],T=(this._inputsMap||new Map).get(m);if(S=S||(T?T.privateKey:this._privateKey),S){w=w||f.SIGHASH_ALL|f.SIGHASH_FORKID;var b=this.inputs[m].getSignatures(this,S,m,w);return n.each(b,function(x){R.push(x.signature.toTxFormat().toString("hex"))}),R.length===1?R[0]:R}return[]},D.prototype.addInputFromPrevTx=function(m,S){i.checkArgumentType(m,D,"prevTx");var w=S||0;let R=m.outputs[w];return R.script.isPublicKeyHashOut()?this.addInput(new O({prevTxId:m.id,outputIndex:w,script:new L(""),output:R})):this.addInput(new _({prevTxId:m.id,outputIndex:w,script:new L(""),output:R}))},D.prototype.addDummyInput=function(m,S){return i.checkArgumentType(m,L,"script"),i.checkArgumentType(S,"number","satoshis"),this.addInput(new _({prevTxId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:new L(""),output:new I({script:m,satoshis:S})}))},D.prototype.dummyChange=function(){return this.change(D.DUMMY_PRIVATEKEY.toAddress())},D.prototype.verifyScript=function(m){if(i.checkArgumentType(m,"number","inputIndex"),!this.inputs[m])throw new s.Transaction.Input.MissingInput;return this.inputs[m].verify(this,m)},D.prototype.verifyInputScript=function(m){return this.verifyScript(m)},D.prototype.getInputAmount=function(m){if(i.checkArgumentType(m,"number","inputIndex"),!this.inputs[m])throw new s.Transaction.Input.MissingInput;return this.inputs[m].output.satoshis},D.prototype.getOutputAmount=function(m){if(i.checkArgumentType(m,"number","outputIndex"),!this.outputs[m])throw new s.Transaction.MissingOutput;return this.outputs[m].satoshis},t.exports=D});Fe("28ku8",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("dIoYd"),o=function a(u){if(!(this instanceof a))return new a(u);if(!n.isUndefined(u))if(r.isBuffer(u))this.set({buf:u});else if(n.isString(u)){var c=r.from(u,"hex");if(c.length*2!==u.length)throw new TypeError("Invalid hex string");this.set({buf:c})}else if(n.isObject(u)){var h=u;this.set(h)}else throw new TypeError("Unrecognized argument for BufferReader")};o.prototype.set=function(a){return this.buf=a.buf||this.buf||void 0,this.pos=a.pos||this.pos||0,this},o.prototype.eof=function(){return this.pos>=this.buf.length},o.prototype.finished=o.prototype.eof,o.prototype.read=function(a){i.checkArgument(!n.isUndefined(a),"Must specify a length");var u=this.buf.slice(this.pos,this.pos+a);return this.pos=this.pos+a,u},o.prototype.readAll=function(){var a=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,a},o.prototype.readUInt8=function(){var a=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,a},o.prototype.readUInt16BE=function(){var a=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,a},o.prototype.readUInt16LE=function(){var a=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,a},o.prototype.readUInt32BE=function(){var a=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,a},o.prototype.readUInt32LE=function(){var a=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,a},o.prototype.readInt32LE=function(){var a=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,a},o.prototype.readUInt64BEBN=function(){var a=this.buf.slice(this.pos,this.pos+8),u=s.fromBuffer(a);return this.pos=this.pos+8,u},o.prototype.readUInt64LEBN=function(){var a=this.buf.readUInt32LE(this.pos),u=this.buf.readUInt32LE(this.pos+4),c=u*4294967296+a,h;if(c<=9007199254740991)h=new s(c);else{var f=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);h=new s(f,10,"le")}return this.pos=this.pos+8,h},o.prototype.readVarintNum=function(){var a=this.readUInt8();switch(a){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var u=this.readUInt64LEBN(),c=u.toNumber();if(c<=Math.pow(2,53))return c;throw new Error("number too large to retain precision - use readVarintBN");default:return a}},o.prototype.readVarLengthBuffer=function(){var a=this.readVarintNum(),u=this.read(a);return i.checkState(u.length===a,"Invalid length while reading varlength buffer. Expected to read: "+a+" and read "+u.length),u},o.prototype.readVarintBuf=function(){var a=this.buf.readUInt8(this.pos);switch(a){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},o.prototype.readVarintBN=function(){var a=this.readUInt8();switch(a){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(a)}},o.prototype.reverse=function(){for(var a=r.alloc(this.buf.length),u=0;u<a.length;u++)a[u]=this.buf[this.buf.length-1-u];return this.buf=a,this},o.prototype.readReverse=function(a){n.isUndefined(a)&&(a=this.buf.length);var u=this.buf.slice(this.pos,this.pos+a);return this.pos=this.pos+a,r.from(u).reverse()},o.prototype.remaining=function(){return this.buf.length-this.pos},t.exports=o});Fe("1zMJW",function(t,e){var r=tr.Buffer,n=W("2AZ1V"),i=W("28ku8"),s=W("dIoYd"),o=function a(u){if(!(this instanceof a))return new a(u);if(r.isBuffer(u))this.buf=u;else if(typeof u=="number"){var c=u;this.fromNumber(c)}else if(u instanceof s){var h=u;this.fromBN(h)}else if(u){var f=u;this.set(f)}};o.prototype.set=function(a){return this.buf=a.buf||this.buf,this},o.prototype.fromString=function(a){return this.set({buf:r.from(a,"hex")}),this},o.prototype.toString=function(){return this.buf.toString("hex")},o.prototype.fromBuffer=function(a){return this.buf=a,this},o.prototype.fromBufferReader=function(a){return this.buf=a.readVarintBuf(),this},o.prototype.fromBN=function(a){var u=new n;return this.buf=u.writeVarintBN(a).toBuffer(),this},o.prototype.fromNumber=function(a){var u=new n;return this.buf=u.writeVarintNum(a).toBuffer(),this},o.prototype.toBuffer=function(){return this.buf},o.prototype.toBN=function(){return i(this.buf).readVarintBN()},o.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=o});Fe("95EnH",function(t,e){var r=tr.Buffer,n=W("gIXub"),i=W("hkiTH"),s=W("bczuf"),o=W("28ku8"),a=W("2AZ1V"),u=W("dIoYd"),c=W("bTTXN"),h=W("kmMTb"),f=W("6gAsx"),p=W("g4xmW"),l=W("kBBbb"),y=W("l0DuR"),_=r.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),O="ffffffffffffffff",F=p.SCRIPT_ENABLE_SIGHASH_FORKID,B=function(H,D,C,d,v,g=new y){var m=H.inputs[C];f.checkArgument(v instanceof u,"For ForkId=0 signatures, satoshis or complete input must be provided");function S(Q){var oe=new a;l.each(Q.inputs,function(X){oe.writeReverse(X.prevTxId),oe.writeUInt32LE(X.outputIndex)});var ie=oe.toBuffer(),q=c.sha256sha256(ie);return q}function w(Q){var oe=new a;l.each(Q.inputs,function(X){oe.writeUInt32LE(X.sequenceNumber)});var ie=oe.toBuffer(),q=c.sha256sha256(ie);return q}function R(Q,oe){var ie=new a;l.isUndefined(oe)?l.each(Q.outputs,function(J){J.toBufferWriter(ie)}):Q.outputs[oe].toBufferWriter(ie);var q=ie.toBuffer(),X=c.sha256sha256(q);return X}var T=r.alloc(32),b=r.alloc(32),x=r.alloc(32);D&n.SIGHASH_ANYONECANPAY||(T=g.prevoutsHashBuf?g.prevoutsHashBuf:g.prevoutsHashBuf=S(H)),!(D&n.SIGHASH_ANYONECANPAY)&&(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE&&(b=g.sequenceHashBuf?g.sequenceHashBuf:g.sequenceHashBuf=w(H)),(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE?x=g.outputsHashBuf?g.outputsHashBuf:g.outputsHashBuf=R(H):(D&31)===n.SIGHASH_SINGLE&&C<H.outputs.length&&(x=R(H,C));var P=new a;P.writeUInt32LE(H.version),P.write(T),P.write(b),P.writeReverse(m.prevTxId),P.writeUInt32LE(m.outputIndex);var U=d.toBuffer();P.writeVarintNum(U.length),P.write(U),P.writeUInt64LEBN(v);var K=m.sequenceNumber;P.writeUInt32LE(K),P.write(x),P.writeUInt32LE(H.nLockTime),P.writeUInt32LE(D>>>0);var z=P.toBuffer();return z},E=function(D,C,d,v,g,m,S=new y){var w=W("98CPZ"),R=W("dQaOn");if(l.isUndefined(m)&&(m=F),m&p.SCRIPT_ENABLE_REPLAY_PROTECTION){var T=C>>8,b=16711680|T^57005;C=b<<8|C&255}if(C&n.SIGHASH_FORKID&&m&p.SCRIPT_ENABLE_SIGHASH_FORKID)return B(D,C,d,v,g);var x=w.shallowCopy(D);v=new i(v),v.removeCodeseparators();var P;for(P=0;P<x.inputs.length;P++)x.inputs[P]=new R(x.inputs[P]).setScript(i.empty());if(x.inputs[d]=new R(x.inputs[d]).setScript(v),(C&31)===n.SIGHASH_NONE||(C&31)===n.SIGHASH_SINGLE)for(P=0;P<x.inputs.length;P++)P!==d&&(x.inputs[P].sequenceNumber=0);if((C&31)===n.SIGHASH_NONE)x.outputs=[];else if((C&31)===n.SIGHASH_SINGLE){if(d>=x.outputs.length)return _;for(x.outputs.length=d+1,P=0;P<d;P++)x.outputs[P]=new s({satoshis:u.fromBuffer(r.from(O,"hex")),script:i.empty()})}C&n.SIGHASH_ANYONECANPAY&&(x.inputs=[x.inputs[d]]);var U=new a().write(x.toBuffer()).writeInt32LE(C).toBuffer();return U},I=function(D,C,d,v,g,m,S=new y){var w=E(D,C,d,v,g,m,S);if(w.compare(_)===0)return w;var R=c.sha256sha256(w);return R=new o(R).readReverse(),R};function L(H,D,C,d,v,g,m,S=new y){var w=I(H,C,d,v,g,m,S),R=h.sign(w,D,"little").set({nhashtype:C});return R}function N(H,D,C,d,v,g,m,S=new y){f.checkArgument(!l.isUndefined(H)),f.checkArgument(!l.isUndefined(D)&&!l.isUndefined(D.nhashtype));var w=I(H,D.nhashtype,d,v,g,m,S);return h.verify(w,D,C,"little")}t.exports={sighashPreimage:E,sighash:I,sign:L,verify:N}});Fe("bczuf",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("dIoYd"),s=W("gk75r"),o=W("2AZ1V"),a=W("1zMJW"),u=W("hkiTH"),c=W("6gAsx"),h=W("kooOK"),f=9007199254740991;function p(l){if(!(this instanceof p))return new p(l);if(n.isObject(l))if(this.satoshis=l.satoshis,r.isBuffer(l.script))this.setScriptFromBuffer(l.script);else{var y;n.isString(l.script)&&s.isHexa(l.script)?y=r.from(l.script,"hex"):y=l.script,this.setScript(y)}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(p.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script}}),Object.defineProperty(p.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(l){l instanceof i?(this._satoshisBN=l,this._satoshis=l.toNumber()):n.isString(l)?(this._satoshis=parseInt(l),this._satoshisBN=i.fromNumber(this._satoshis)):(c.checkArgument(s.isNaturalNumber(l),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(l),this._satoshis=l),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),p.prototype.invalidSatoshis=function(){return this._satoshis>f?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1},Object.defineProperty(p.prototype,"satoshisBN",{configurable:!1,enumerable:!0,get:function(){return this._satoshisBN},set:function(l){this._satoshisBN=l,this._satoshis=l.toNumber(),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),p.prototype.toObject=p.prototype.toJSON=function(){var y={satoshis:this.satoshis};return y.script=this._script.toBuffer().toString("hex"),y},p.fromObject=function(l){return new p(l)},p.prototype.setScriptFromBuffer=function(l){try{this._script=u.fromBuffer(l),this._script._isOutput=!0}catch(y){if(y instanceof h.Script.InvalidBuffer)this._script=null;else throw y}},p.prototype.setScript=function(l){if(l instanceof u)this._script=l,this._script._isOutput=!0;else if(n.isString(l))this._script=u.fromString(l),this._script._isOutput=!0;else if(r.isBuffer(l))this.setScriptFromBuffer(l);else throw new TypeError("Invalid argument type: script");return this},p.prototype.inspect=function(){var l;return this.script&&(l=this.script.inspect()),"<Output ("+this.satoshis+" sats) "+l+">"},p.fromBufferReader=function(l){var y={};y.satoshis=l.readUInt64LEBN();var _=l.readVarintNum();if(_!==0){if(l.remaining()<_)throw new TypeError("Unrecognized Output");y.script=l.read(_)}else y.script=r.from([]);return new p(y)},p.prototype.toBufferWriter=function(l){l||(l=new o),l.writeUInt64LEBN(this._satoshisBN);var y=this._script.toBuffer();return l.writeVarintNum(y.length),l.write(y),l},p.prototype.getSize=function(){var l=this.script.toBuffer().length,y=a(l).toBuffer().length;return 8+y+l},t.exports=p});Fe("l0DuR",function(t,e){var r=tr.Buffer;class n{constructor(s,o,a){this.prevoutsHashBuf=s,this.sequenceHashBuf=o,this.outputsHashBuf=a}static fromBuffer(s){return n.fromJSON(JSON.parse(s.toString()))}toBuffer(){return r.from(JSON.stringify(this.toJSON()))}static fromJSON(s){return new n(s.prevoutsHashBuf?r.from(s.prevoutsHashBuf,"hex"):void 0,s.sequenceHashBuf?r.from(s.sequenceHashBuf,"hex"):void 0,s.outputsHashBuf?r.from(s.outputsHashBuf,"hex"):void 0)}toJSON(){return{prevoutsHashBuf:this.prevoutsHashBuf?this.prevoutsHashBuf.toString("hex"):void 0,sequenceHashBuf:this.sequenceHashBuf?this.sequenceHashBuf.toString("hex"):void 0,outputsHashBuf:this.outputsHashBuf?this.outputsHashBuf.toString("hex"):void 0}}toHex(){return this.toBuffer().toString("hex")}static fromHex(s){let o=r.from(s,"hex");return n.fromBuffer(o)}}t.exports=n});Fe("dQaOn",function(t,e){t.exports=W("jbAmm"),t.exports.PublicKey=W("b2vm0"),t.exports.PublicKeyHash=W("ddQTk"),t.exports.MultiSig=W("dHaKi"),t.exports.MultiSigScriptHash=W("eJIfU")});Fe("jbAmm",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("kooOK"),o=W("2AZ1V"),a=W("gk75r"),u=W("hkiTH"),c=W("95EnH"),h=W("bczuf"),f=W("gIXub"),p=W("4Dqlv"),l=W("bTTXN"),y=W("g4xmW"),_=W("bpasi"),O=W("7smYJ"),F=4294967295,B=F-2,E=F,I=F-1;function L(H,D,C,d,v){var g=0;do{var m=c.sighashPreimage(H,D,C,d,v),S=l.sha256sha256(m);if(n.isPositiveNumber(S.readUInt8())&&n.isPositiveNumber(S.readUInt8(31)))return m;H.nLockTime++}while(g<Number.MAX_SAFE_INTEGER)}function N(H){if(!(this instanceof N))return new N(H);if(H)return this._fromObject(H)}N.MAXINT=F,N.DEFAULT_SEQNUMBER=E,N.DEFAULT_LOCKTIME_SEQNUMBER=I,N.DEFAULT_RBF_SEQNUMBER=B,N.BASE_SIZE=40,Object.defineProperty(N.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new u(this._scriptBuffer),this._script._isInput=!0),this._script)}}),N.fromObject=function(H){i.checkArgument(n.isObject(H));var D=new N;return D._fromObject(H)},N.prototype._fromObject=function(H){var D;if(n.isString(H.prevTxId)&&a.isHexa(H.prevTxId)?D=r.from(H.prevTxId,"hex"):D=H.prevTxId,this.output=H.output?H.output instanceof h?H.output:new h(H.output):void 0,this.prevTxId=D||H.txidbuf,this.outputIndex=n.isUndefined(H.outputIndex)?H.txoutnum:H.outputIndex,this.sequenceNumber=n.isUndefined(H.sequenceNumber)?n.isUndefined(H.seqnum)?E:H.seqnum:H.sequenceNumber,n.isUndefined(H.script)&&n.isUndefined(H.scriptBuffer))throw new s.Transaction.Input.MissingScript;return this.setScript(H.scriptBuffer||H.script),this},N.prototype.toObject=N.prototype.toJSON=function(){var D={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(D.scriptString=this.script.toString()),this.output&&(D.output=this.output.toObject()),D},N.fromBufferReader=function(H){var D=new N;return D.prevTxId=H.readReverse(32),D.outputIndex=H.readUInt32LE(),D._scriptBuffer=H.readVarLengthBuffer(),D.sequenceNumber=H.readUInt32LE(),D},N.prototype.toBufferWriter=function(H){H||(H=new o),H.writeReverse(this.prevTxId),H.writeUInt32LE(this.outputIndex);var D=this._scriptBuffer;return H.writeVarintNum(D.length),H.write(D),H.writeUInt32LE(this.sequenceNumber),H},N.prototype.setScript=function(H){if(this._script=null,H instanceof u)this._script=H,this._script._isInput=!0,this._scriptBuffer=H.toBuffer();else if(H===null)this._script=u.empty(),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(a.isHexa(H))this._scriptBuffer=r.from(H,"hex");else if(n.isString(H))this._script=new u(H),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(r.isBuffer(H))this._scriptBuffer=r.from(H);else throw new TypeError("Invalid argument type: script");return this},N.prototype.getSignatures=function(H,D,C,d){i.checkState(this.output instanceof h),d=d||f.SIGHASH_ALL|f.SIGHASH_FORKID;var v=[];if(D instanceof O)v.push(new p({publicKey:D.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:C,signature:c.sign(H,D,d,C,this.output.script,this.output.satoshisBN),sigtype:d}));else if(n.isArray(D)){var g=this;n.each(D,function(m,S){var w=d;n.isArray(d)&&(w=d[S]||f.SIGHASH_ALL|f.SIGHASH_FORKID),v.push(new p({publicKey:m.publicKey,prevTxId:g.prevTxId,outputIndex:g.outputIndex,inputIndex:C,signature:c.sign(H,m,w,C,g.output.script,g.output.satoshisBN),sigtype:w}))})}return v},N.prototype.getPreimage=function(H,D,C,d,v){i.checkState(this.output instanceof h),C=C||f.SIGHASH_ALL|f.SIGHASH_FORKID,d=d||!1;var g=typeof v=="number"?this.output.script.subScript(v):this.output.script;return d?L(H,C,D,g,this.output.satoshisBN):c.sighashPreimage(H,C,D,g,this.output.satoshisBN)},N.prototype.isFullySigned=function(){throw new s.AbstractMethodInvoked("Input#isFullySigned")},N.prototype.isFinal=function(){return this.sequenceNumber===N.MAXINT},N.prototype.addSignature=function(){},N.prototype.clearSignatures=function(){},N.prototype.isValidSignature=function(H,D){return D.signature.nhashtype=D.sigtype,c.verify(H,D.signature,D.publicKey,D.inputIndex,this.output.script,this.output.satoshisBN)},N.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295},N.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},N.prototype.verify=function(H,D){i.checkState(this.output instanceof h),i.checkState(this.script instanceof u),i.checkState(this.output.script instanceof u);var C=this.script,d=this.output.script,v=this.output.satoshisBN;y.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,y.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let g=new y,m={};g.stepListener=function(w){(w.fExec||_.OP_IF<=w.opcode.toNumber()&&w.opcode.toNumber()<=_.OP_ENDIF)&&(_.OP_IF<=w.opcode.toNumber()&&w.opcode.toNumber()<=_.OP_ENDIF||w.opcode.toNumber()===_.OP_RETURN?m.opcode=w.opcode:m=w)};var S=g.verify(C,d,H,D,y.DEFAULT_FLAGS,v);return m.opcode&&(m.opcode=m.opcode.toNumber()),{success:S,error:g.errstr,failedAt:S?{}:m}},t.exports=N});Fe("4Dqlv",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("gk75r"),o=W("arkeG"),a=W("kooOK"),u=W("gIXub");function c(h){if(!(this instanceof c))return new c(h);if(h instanceof c)return h;if(n.isObject(h))return this._fromObject(h);throw new a.InvalidArgument("TransactionSignatures must be instantiated from an object")}C3(c,u),c.prototype._fromObject=function(h){return this._checkObjectArgs(h),this.publicKey=new o(h.publicKey),this.prevTxId=r.isBuffer(h.prevTxId)?h.prevTxId:r.from(h.prevTxId,"hex"),this.outputIndex=h.outputIndex,this.inputIndex=h.inputIndex,this.signature=h.signature instanceof u?h.signature:r.isBuffer(h.signature)?u.fromBuffer(h.signature):u.fromString(h.signature),this.sigtype=h.sigtype,this},c.prototype._checkObjectArgs=function(h){i.checkArgument(o(h.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(h.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(h.outputIndex),"outputIndex"),i.checkState(n.isNumber(h.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(h.outputIndex),"outputIndex must be a number"),i.checkArgument(h.signature,"signature"),i.checkArgument(h.prevTxId,"prevTxId"),i.checkState(h.signature instanceof u||r.isBuffer(h.signature)||s.isHexa(h.signature),"signature must be a buffer or hexa value"),i.checkState(r.isBuffer(h.prevTxId)||s.isHexa(h.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(h.sigtype,"sigtype"),i.checkState(n.isNumber(h.sigtype),"sigtype must be a number")},c.prototype.toObject=c.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},c.fromObject=function(h){return i.checkArgument(h),new c(h)},t.exports=c});Fe("b2vm0",function(t,e){"use strict";var r=W("6gAsx"),n=W("jbAmm"),i=W("bczuf"),s=W("95EnH"),o=W("hkiTH"),a=W("gIXub"),u=W("4Dqlv");function c(){n.apply(this,arguments)}C3(c,n),c.prototype.getSignatures=function(h,f,p,l){r.checkState(this.output instanceof i),l=l||a.SIGHASH_ALL|a.SIGHASH_FORKID;var y=f.toPublicKey();return y.toString()===this.output.script.getPublicKey().toString("hex")?[new u({publicKey:y,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:p,signature:s.sign(h,f,l,p,this.output.script,this.output.satoshisBN),sigtype:l})]:[]},c.prototype.addSignature=function(h,f){return r.checkState(this.isValidSignature(h,f),"Signature is invalid"),this.setScript(o.buildPublicKeyIn(f.signature.toDER(),f.sigtype)),this},c.prototype.clearSignatures=function(){return this.setScript(o.empty()),this},c.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},c.SCRIPT_MAX_SIZE=74,c.prototype._estimateSize=function(){return n.BASE_SIZE+c.SCRIPT_MAX_SIZE},t.exports=c});Fe("ddQTk",function(t,e){"use strict";var r=W("6gAsx"),n=W("bTTXN"),i=W("jbAmm"),s=W("bczuf"),o=W("95EnH"),a=W("hkiTH"),u=W("gIXub"),c=W("4Dqlv");function h(){i.apply(this,arguments)}C3(h,i),h.prototype.getSignatures=function(f,p,l,y,_){return r.checkState(this.output instanceof s),_=_||n.sha256ripemd160(p.publicKey.toBuffer()),y=y||u.SIGHASH_ALL|u.SIGHASH_FORKID,_.equals(this.output.script.getPublicKeyHash())?[new c({publicKey:p.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:l,signature:o.sign(f,p,y,l,this.output.script,this.output.satoshisBN),sigtype:y})]:[]},h.prototype.addSignature=function(f,p){return r.checkState(this.isValidSignature(f,p),"Signature is invalid"),this.setScript(a.buildPublicKeyHashIn(p.publicKey,p.signature.toDER(),p.sigtype)),this},h.prototype.clearSignatures=function(){return this.setScript(a.empty()),this},h.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},h.SCRIPT_MAX_SIZE=140,h.prototype._estimateSize=function(){return i.BASE_SIZE+h.SCRIPT_MAX_SIZE},t.exports=h});Fe("dHaKi",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("jbAmm"),s=W("bczuf"),o=W("6gAsx"),a=W("hkiTH"),u=W("gIXub"),c=W("95EnH"),h=W("4Dqlv"),f=W("arkeG"),p=W("1zMJW");function l(y,_,O,F){i.apply(this,arguments);var B=this;_=_||y.publicKeys,O=O||y.threshold,F=F||y.signatures,this.publicKeys=_.map(E=>E.toString("hex")).sort().map(E=>new f(E)),o.checkState(a.buildMultisigOut(this.publicKeys,O).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,function(E,I){B.publicKeyIndex[E.toString()]=I}),this.threshold=O,this.signatures=F?this._deserializeSignatures(F):new Array(this.publicKeys.length)}C3(l,i),l.prototype.toObject=function(){var y=i.prototype.toObject.apply(this,arguments);return y.threshold=this.threshold,y.publicKeys=n.map(this.publicKeys,function(_){return _.toString()}),y.signatures=this._serializeSignatures(),y},l.prototype._deserializeSignatures=function(y){return n.map(y,function(_){if(!!_)return new h(_)})},l.prototype._serializeSignatures=function(){return n.map(this.signatures,function(y){if(!!y)return y.toObject()})},l.prototype.getSignatures=function(y,_,O,F){o.checkState(this.output instanceof s),F=F||u.SIGHASH_ALL|u.SIGHASH_FORKID;var B=this,E=[];return n.each(this.publicKeys,function(I){I.toString()===_.publicKey.toString()&&E.push(new h({publicKey:_.publicKey,prevTxId:B.prevTxId,outputIndex:B.outputIndex,inputIndex:O,signature:c.sign(y,_,F,O,B.output.script,B.output.satoshisBN),sigtype:F}))}),E},l.prototype.addSignature=function(y,_){return o.checkState(!this.isFullySigned(),"All needed signatures have already been added"),o.checkArgument(!n.isUndefined(this.publicKeyIndex[_.publicKey.toString()]),"Signature has no matching public key"),o.checkState(this.isValidSignature(y,_)),this.signatures[this.publicKeyIndex[_.publicKey.toString()]]=_,this._updateScript(),this},l.prototype._updateScript=function(){return this.setScript(a.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},l.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(y){return!n.isUndefined(y)}),function(y){return r.concat([y.signature.toDER(),r.from([y.sigtype&255])])})},l.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},l.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},l.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},l.prototype.countSignatures=function(){return n.reduce(this.signatures,function(y,_){return y+!!_},0)},l.prototype.publicKeysWithoutSignature=function(){var y=this;return n.filter(this.publicKeys,function(_){return!y.signatures[y.publicKeyIndex[_.toString()]]})},l.prototype.isValidSignature=function(y,_){return _.signature.nhashtype=_.sigtype,c.verify(y,_.signature,_.publicKey,_.inputIndex,this.output.script,this.output.satoshisBN)},l.normalizeSignatures=function(y,_,O,F,B){return B.map(function(E){var I=null;return F=F.filter(function(L){if(I)return!0;var N=new h({signature:u.fromTxFormat(L),publicKey:E,prevTxId:_.prevTxId,outputIndex:_.outputIndex,inputIndex:O,sigtype:u.SIGHASH_ALL});N.signature.nhashtype=N.sigtype;var H=c.verify(y,N.signature,N.publicKey,N.inputIndex,_.output.script);return H?(I=N,!1):!0}),I||null})},l.SIGNATURE_SIZE=73,l.prototype._estimateSize=function(){var y=1+this.threshold*l.SIGNATURE_SIZE;return i.BASE_SIZE+p(y).toBuffer().length+y},t.exports=l});Fe("eJIfU",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("jbAmm"),s=W("bczuf"),o=W("6gAsx"),a=W("hkiTH"),u=W("gIXub"),c=W("95EnH"),h=W("4Dqlv"),f=W("arkeG"),p=W("1zMJW");function l(y,_,O,F){i.apply(this,arguments);var B=this;_=_||y.publicKeys,O=O||y.threshold,F=F||y.signatures,this.publicKeys=_.map(E=>E.toString("hex")).sort().map(E=>new f(E)),this.redeemScript=a.buildMultisigOut(this.publicKeys,O),o.checkState(a.buildScriptHashOut(this.redeemScript).equals(this.output.script),"Provided public keys don't hash to the provided output"),this.publicKeyIndex={},n.each(this.publicKeys,function(E,I){B.publicKeyIndex[E.toString()]=I}),this.threshold=O,this.signatures=F?this._deserializeSignatures(F):new Array(this.publicKeys.length)}C3(l,i),l.prototype.toObject=function(){var y=i.prototype.toObject.apply(this,arguments);return y.threshold=this.threshold,y.publicKeys=n.map(this.publicKeys,function(_){return _.toString()}),y.signatures=this._serializeSignatures(),y},l.prototype._deserializeSignatures=function(y){return n.map(y,function(_){if(!!_)return new h(_)})},l.prototype._serializeSignatures=function(){return n.map(this.signatures,function(y){if(!!y)return y.toObject()})},l.prototype.getSignatures=function(y,_,O,F){o.checkState(this.output instanceof s),F=F||u.SIGHASH_ALL|u.SIGHASH_FORKID;var B=this,E=[];return n.each(this.publicKeys,function(I){I.toString()===_.publicKey.toString()&&E.push(new h({publicKey:_.publicKey,prevTxId:B.prevTxId,outputIndex:B.outputIndex,inputIndex:O,signature:c.sign(y,_,F,O,B.redeemScript,B.output.satoshisBN),sigtype:F}))}),E},l.prototype.addSignature=function(y,_){return o.checkState(!this.isFullySigned(),"All needed signatures have already been added"),o.checkArgument(!n.isUndefined(this.publicKeyIndex[_.publicKey.toString()]),"Signature has no matching public key"),o.checkState(this.isValidSignature(y,_)),this.signatures[this.publicKeyIndex[_.publicKey.toString()]]=_,this._updateScript(),this},l.prototype._updateScript=function(){return this.setScript(a.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},l.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(y){return!n.isUndefined(y)}),function(y){return r.concat([y.signature.toDER(),r.from([y.sigtype&255])])})},l.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},l.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},l.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},l.prototype.countSignatures=function(){return n.reduce(this.signatures,function(y,_){return y+!!_},0)},l.prototype.publicKeysWithoutSignature=function(){var y=this;return n.filter(this.publicKeys,function(_){return!y.signatures[y.publicKeyIndex[_.toString()]]})},l.prototype.isValidSignature=function(y,_){return _.signature.nhashtype=_.sigtype,c.verify(y,_.signature,_.publicKey,_.inputIndex,this.redeemScript,this.output.satoshisBN)},l.SIGNATURE_SIZE=73,l.PUBKEY_SIZE=34,l.prototype._estimateSize=function(){var y=this.publicKeys.length*l.PUBKEY_SIZE,_=this.threshold*l.SIGNATURE_SIZE,O=3+y,F=O<=75?1:O<=255?2:3,B=_+1+F+O;return i.BASE_SIZE+p(B).toBuffer().length+B},t.exports=l});Fe("G1usC",function(t,e){"use strict";var r=W("kBBbb"),n=W("6gAsx"),i=W("gk75r"),s=W("hkiTH"),o=W("iSUUt");function a(u){if(!(this instanceof a))return new a(u);n.checkArgument(r.isObject(u),"Must provide an object from where to extract data");var c=u.address?new o(u.address):void 0,h=u.txid?u.txid:u.txId;if(!h||!i.isHexaString(h)||h.length>64)throw new Error("Invalid TXID in object",u);var f=r.isUndefined(u.vout)?u.outputIndex:u.vout;if(!r.isNumber(f))throw new Error("Invalid outputIndex, received "+f);n.checkArgument(!r.isUndefined(u.scriptPubKey)||!r.isUndefined(u.script),"Must provide the scriptPubKey for that output!");var p=new s(u.scriptPubKey||u.script);n.checkArgument(!r.isUndefined(u.amount)||!r.isUndefined(u.satoshis),"Must provide an amount for the output");var l=r.isUndefined(u.amount)?u.satoshis:Math.round(u.amount*1e8);n.checkArgument(r.isNumber(l),"Amount must be a number"),i.defineImmutable(this,{address:c,txId:h,outputIndex:f,script:p,satoshis:l})}a.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},a.prototype.toString=function(){return this.txId+":"+this.outputIndex},a.fromObject=function(u){return new a(u)},a.prototype.toObject=a.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:Number.parseFloat((this.satoshis/1e8).toFixed(8))}},t.exports=a});Fe("7X5Fe",function(t,e){t.exports=W("fS7Ty")});Fe("fS7Ty",function(t,e){var r=tr.Buffer;function n(){}n.getRandomBuffer=function(i){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");var s;if(window.crypto&&window.crypto.getRandomValues)s=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)s=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var o=new Uint8Array(i);s.getRandomValues(o);var a=r.from(o);return a},t.exports=n});Fe("19NsJ",function(t,e){t.exports=W("dhOpK"),t.exports.BlockHeader=W("gGdD6"),t.exports.MerkleBlock=W("hVYHX")});Fe("dhOpK",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("gGdD6"),s=W("dIoYd"),o=W("28ku8"),a=W("2AZ1V"),u=W("bTTXN"),c=W("7pkU6"),h=W("6gAsx");function f(l){return this instanceof f?(n.extend(this,f._from(l)),this):new f(l)}f.MAX_BLOCK_SIZE=128e6,f._from=function(y){var _={};if(r.isBuffer(y))_=f._fromBufferReader(o(y));else if(n.isObject(y))_=f._fromObject(y);else throw new TypeError("Unrecognized argument for Block");return _},f._fromObject=function(y){var _=[];y.transactions.forEach(function(F){F instanceof c?_.push(F):_.push(c().fromObject(F))});var O={header:i.fromObject(y.header),transactions:_};return O},f.fromObject=function(y){var _=f._fromObject(y);return new f(_)},f._fromBufferReader=function(y){var _={};h.checkState(!y.finished(),"No block data received"),_.header=i.fromBufferReader(y);var O=y.readVarintNum();_.transactions=[];for(var F=0;F<O;F++)_.transactions.push(c().fromBufferReader(y));return _},f.fromBufferReader=function(y){h.checkArgument(y,"br is required");var _=f._fromBufferReader(y);return new f(_)},f.fromBuffer=function(y){return f.fromBufferReader(new o(y))},f.fromString=function(y){var _=r.from(y,"hex");return f.fromBuffer(_)},f.fromRawBlock=function(y){r.isBuffer(y)||(y=r.from(y,"binary"));var _=o(y);_.pos=f.Values.START_OF_BLOCK;var O=f._fromBufferReader(_);return new f(O)},f.prototype.toObject=f.prototype.toJSON=function(){var y=[];return this.transactions.forEach(function(_){y.push(_.toObject())}),{header:this.header.toObject(),transactions:y}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(y){y||(y=new a),y.write(this.header.toBuffer()),y.writeVarintNum(this.transactions.length);for(var _=0;_<this.transactions.length;_++)this.transactions[_].toBufferWriter(y);return y},f.prototype.getTransactionHashes=function(){var y=[];if(this.transactions.length===0)return[f.Values.NULL_HASH];for(var _=0;_<this.transactions.length;_++)y.push(this.transactions[_]._getHash());return y},f.prototype.getMerkleTree=function(){for(var y=this.getTransactionHashes(),_=0,O=this.transactions.length;O>1;O=Math.floor((O+1)/2)){for(var F=0;F<O;F+=2){var B=Math.min(F+1,O-1),E=r.concat([y[_+F],y[_+B]]);y.push(u.sha256sha256(E))}_+=O}return y},f.prototype.getMerkleRoot=function(){var y=this.getMerkleTree();return y[y.length-1]},f.prototype.validMerkleRoot=function(){var y=new s(this.header.merkleRoot.toString("hex"),"hex"),_=new s(this.getMerkleRoot().toString("hex"),"hex");return y.cmp(_)===0},f.prototype._getHash=function(){return this.header._getHash()};var p={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",p),Object.defineProperty(f.prototype,"hash",p),f.prototype.inspect=function(){return"<Block "+this.id+">"},f.Values={START_OF_BLOCK:8,NULL_HASH:r.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f});Fe("gGdD6",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("dIoYd"),s=W("28ku8"),o=W("2AZ1V"),a=W("bTTXN"),u=W("6gAsx"),c=486604799,h=function p(l){if(!(this instanceof p))return new p(l);var y=p._from(l);return this.version=y.version,this.prevHash=y.prevHash,this.merkleRoot=y.merkleRoot,this.time=y.time,this.timestamp=y.time,this.bits=y.bits,this.nonce=y.nonce,y.hash&&u.checkState(this.hash===y.hash,"Argument object hash property does not match block hash."),this};h._from=function(l){var y={};if(r.isBuffer(l))y=h._fromBufferReader(s(l));else if(n.isObject(l))y=h._fromObject(l);else throw new TypeError("Unrecognized argument for BlockHeader");return y},h._fromObject=function(l){u.checkArgument(l,"data is required");var y=l.prevHash,_=l.merkleRoot;n.isString(l.prevHash)&&(y=r.from(l.prevHash,"hex").reverse()),n.isString(l.merkleRoot)&&(_=r.from(l.merkleRoot,"hex").reverse());var O={hash:l.hash,version:l.version,prevHash:y,merkleRoot:_,time:l.time,timestamp:l.time,bits:l.bits,nonce:l.nonce};return O},h.fromObject=function(l){var y=h._fromObject(l);return new h(y)},h.fromRawBlock=function(l){r.isBuffer(l)||(l=r.from(l,"binary"));var y=s(l);y.pos=h.Constants.START_OF_HEADER;var _=h._fromBufferReader(y);return new h(_)},h.fromBuffer=function(l){var y=h._fromBufferReader(s(l));return new h(y)},h.fromString=function(l){var y=r.from(l,"hex");return h.fromBuffer(y)},h._fromBufferReader=function(l){var y={};return y.version=l.readInt32LE(),y.prevHash=l.read(32),y.merkleRoot=l.read(32),y.time=l.readUInt32LE(),y.bits=l.readUInt32LE(),y.nonce=l.readUInt32LE(),y},h.fromBufferReader=function(l){var y=h._fromBufferReader(l);return new h(y)},h.prototype.toObject=h.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:r.from(this.prevHash).reverse().toString("hex"),merkleRoot:r.from(this.merkleRoot).reverse().toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},h.prototype.toBuffer=function(){return this.toBufferWriter().concat()},h.prototype.toString=function(){return this.toBuffer().toString("hex")},h.prototype.toBufferWriter=function(l){return l||(l=new o),l.writeInt32LE(this.version),l.write(this.prevHash),l.write(this.merkleRoot),l.writeUInt32LE(this.time),l.writeUInt32LE(this.bits),l.writeUInt32LE(this.nonce),l},h.prototype.getTargetDifficulty=function(l){l=l||this.bits;for(var y=new i(l&16777215),_=8*((l>>>24)-3);_-- >0;)y=y.mul(new i(2));return y},h.prototype.getDifficulty=function(){var l=this.getTargetDifficulty(c).mul(new i(Math.pow(10,8))),y=this.getTargetDifficulty(),_=l.div(y).toString(10),O=_.length-8;return _=_.slice(0,O)+"."+_.slice(O),parseFloat(_)},h.prototype._getHash=function(){var l=this.toBuffer();return a.sha256sha256(l)};var f={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(h.prototype,"id",f),Object.defineProperty(h.prototype,"hash",f),h.prototype.validTimestamp=function(){var l=Math.round(new Date().getTime()/1e3);return!(this.time>l+h.Constants.MAX_TIME_OFFSET)},h.prototype.validProofOfWork=function(){var l=new i(this.id,"hex"),y=this.getTargetDifficulty();return!(l.cmp(y)>0)},h.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},h.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=h});Fe("hVYHX",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("gGdD6"),s=W("28ku8"),o=W("2AZ1V"),a=W("bTTXN"),u=W("7pkU6"),c=W("kooOK"),h=W("6gAsx");function f(p){if(!(this instanceof f))return new f(p);var l={};if(r.isBuffer(p))l=f._fromBufferReader(s(p));else if(n.isObject(p)){var y;p.header instanceof i?y=p.header:y=i.fromObject(p.header),l={header:y,numTransactions:p.numTransactions,hashes:p.hashes,flags:p.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return n.extend(this,l),this._flagBitsUsed=0,this._hashesUsed=0,this}f.fromBuffer=function(l){return f.fromBufferReader(s(l))},f.fromBufferReader=function(l){return new f(f._fromBufferReader(l))},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toBufferWriter=function(l){l||(l=new o),l.write(this.header.toBuffer()),l.writeUInt32LE(this.numTransactions),l.writeVarintNum(this.hashes.length);for(var y=0;y<this.hashes.length;y++)l.write(r.from(this.hashes[y],"hex"));for(l.writeVarintNum(this.flags.length),y=0;y<this.flags.length;y++)l.writeUInt8(this.flags[y]);return l},f.prototype.toObject=f.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},f.prototype.validMerkleTree=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var l=this._calcTreeHeight(),y={hashesUsed:0,flagBitsUsed:0},_=this._traverseMerkleTree(l,0,y);return y.hashesUsed!==this.hashes.length?!1:_.equals(this.header.merkleRoot)},f.prototype.filterdTxsHash=function(){throw new Error("filterdTxsHash has been deprecated. use filteredTxsHash.")},f.prototype.filteredTxsHash=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new c.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new c.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var l=this._calcTreeHeight(),y={hashesUsed:0,flagBitsUsed:0},_=this._traverseMerkleTree(l,0,y,!0);if(y.hashesUsed!==this.hashes.length)throw new c.MerkleBlock.InvalidMerkleTree;return _},f.prototype._traverseMerkleTree=function(l,y,_,O){if(_=_||{},_.txs=_.txs||[],_.flagBitsUsed=_.flagBitsUsed||0,_.hashesUsed=_.hashesUsed||0,O=O||!1,_.flagBitsUsed>this.flags.length*8)return null;var F=this.flags[_.flagBitsUsed>>3]>>>(_.flagBitsUsed++&7)&1;if(l===0||!F){if(_.hashesUsed>=this.hashes.length)return null;var B=this.hashes[_.hashesUsed++];return l===0&&F&&_.txs.push(B),r.from(B,"hex")}else{var E=this._traverseMerkleTree(l-1,y*2,_),I=E;return y*2+1<this._calcTreeWidth(l-1)&&(I=this._traverseMerkleTree(l-1,y*2+1,_)),O?_.txs:a.sha256sha256(r.concat([E,I]))}},f.prototype._calcTreeWidth=function(l){return this.numTransactions+(1<<l)-1>>l},f.prototype._calcTreeHeight=function(){for(var l=0;this._calcTreeWidth(l)>1;)l++;return l},f.prototype.hasTransaction=function(l){h.checkArgument(!n.isUndefined(l),"tx cannot be undefined"),h.checkArgument(l instanceof u||typeof l=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var y=l;l instanceof u&&(y=r.from(l.id,"hex").reverse().toString("hex"));var _=[],O=this._calcTreeHeight();return this._traverseMerkleTree(O,0,{txs:_}),_.indexOf(y)!==-1},f._fromBufferReader=function(l){h.checkState(!l.finished(),"No merkleblock data received");var y={};y.header=i.fromBufferReader(l),y.numTransactions=l.readUInt32LE();var _=l.readVarintNum();y.hashes=[];for(var O=0;O<_;O++)y.hashes.push(l.read(32).toString("hex"));var F=l.readVarintNum();for(y.flags=[],O=0;O<F;O++)y.flags.push(l.readUInt8());return y},f.fromObject=function(l){return new f(l)},t.exports=f});Fe("4bgoH",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("dIoYd"),o=W("jG967"),a=W("j7ODq"),u=W("bTTXN"),c=W("cyjag"),h=W("f0gTO"),f=W("7smYJ"),p=W("7X5Fe"),l=W("kooOK"),y=l.HDPrivateKey,_=W("gk75r"),O=128,F=1/8,B=512;function E(I){if(I instanceof E)return I;if(!(this instanceof E))return new E(I);if(!I)return this._generateRandomly();if(c.get(I))return this._generateRandomly(I);if(n.isString(I)||r.isBuffer(I))if(E.isValidSerialized(I))this._buildFromSerialized(I);else if(_.isValidJSON(I))this._buildFromJSON(I);else if(r.isBuffer(I)&&E.isValidSerialized(I.toString()))this._buildFromSerialized(I.toString());else throw E.getSerializedError(I);else if(n.isObject(I))this._buildFromObject(I);else throw new y.UnrecognizedArgument(I)}E.fromRandom=function(){return new E},E.isValidPath=function(I,L){if(n.isString(I)){var N=E._getDerivationIndexes(I);return N!==null&&n.every(N,E.isValidPath)}return n.isNumber(I)?(I<E.Hardened&&L===!0&&(I+=E.Hardened),I>=0&&I<E.MaxIndex):!1},E._getDerivationIndexes=function(I){var L=I.split("/");if(n.includes(E.RootElementAlias,I))return[];if(!n.includes(E.RootElementAlias,L[0]))return null;var N=L.slice(1).map(function(H){var D=H.slice(-1)==="'";if(D&&(H=H.slice(0,-1)),!H||H[0]==="-")return NaN;var C=+H;return D&&(C+=E.Hardened),C});return n.some(N,isNaN)?null:N},E.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},E.prototype.deriveChild=function(I,L){if(n.isNumber(I))return this._deriveWithNumber(I,L);if(n.isString(I))return this._deriveFromString(I);throw new y.InvalidDerivationArgument(I)},E.prototype.deriveNonCompliantChild=function(I,L){if(n.isNumber(I))return this._deriveWithNumber(I,L,!0);if(n.isString(I))return this._deriveFromString(I,!0);throw new y.InvalidDerivationArgument(I)},E.prototype._deriveWithNumber=function(I,L,N){if(!E.isValidPath(I,L))throw new y.InvalidPath(I);L=I>=E.Hardened?!0:L,I<E.Hardened&&L===!0&&(I+=E.Hardened);var H=_.integerAsBuffer(I),D;if(L&&N){var C=this.privateKey.bn.toBuffer();D=r.concat([r.from([0]),C,H])}else if(L){var d=this.privateKey.bn.toBuffer({size:32});yf(d.length===32,"length of private key buffer is expected to be 32 bytes"),D=r.concat([r.from([0]),d,H])}else D=r.concat([this.publicKey.toBuffer(),H]);var v=u.sha512hmac(D,this._buffers.chainCode),g=s.fromBuffer(v.slice(0,32),{size:32}),m=v.slice(32,64),S=g.add(this.privateKey.toBigNumber()).umod(h.getN()).toBuffer({size:32});if(!f.isValid(S))return this._deriveWithNumber(I+1,null,N);var w=new E({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:I,chainCode:m,privateKey:S});return w},E.prototype._deriveFromString=function(I,L){if(!E.isValidPath(I))throw new y.InvalidPath(I);var N=E._getDerivationIndexes(I),H=N.reduce(function(D,C){return D._deriveWithNumber(C,null,L)},this);return H},E.isValidSerialized=function(I,L){return!E.getSerializedError(I,L)},E.getSerializedError=function(I,L){if(!(n.isString(I)||r.isBuffer(I)))return new y.UnrecognizedArgument("Expected string or buffer");if(!o.validCharacters(I))return new l.InvalidB58Char("(unknown)",I);try{I=a.decode(I)}catch{return new l.InvalidB58Checksum(I)}if(I.length!==E.DataLength)return new y.InvalidLength(I);if(!n.isUndefined(L)){var N=E._validateNetwork(I,L);if(N)return N}return null},E._validateNetwork=function(I,L){var N=c.get(L);if(!N)return new l.InvalidNetworkArgument(L);var H=I.slice(0,4);return H.readUInt32BE(0)!==N.xprivkey?new l.InvalidNetwork(H):null},E.fromString=function(I){return i.checkArgument(n.isString(I),"No valid string was provided"),new E(I)},E.fromObject=function(I){return i.checkArgument(n.isObject(I),"No valid argument was provided"),new E(I)},E.prototype._buildFromJSON=function(I){return this._buildFromObject(JSON.parse(I))},E.prototype._buildFromObject=function(I){var L={version:I.network?_.integerAsBuffer(c.get(I.network).xprivkey):I.version,depth:n.isNumber(I.depth)?r.from([I.depth&255]):I.depth,parentFingerPrint:n.isNumber(I.parentFingerPrint)?_.integerAsBuffer(I.parentFingerPrint):I.parentFingerPrint,childIndex:n.isNumber(I.childIndex)?_.integerAsBuffer(I.childIndex):I.childIndex,chainCode:n.isString(I.chainCode)?r.from(I.chainCode,"hex"):I.chainCode,privateKey:n.isString(I.privateKey)&&_.isHexa(I.privateKey)?r.from(I.privateKey,"hex"):I.privateKey,checksum:I.checksum?I.checksum.length?I.checksum:_.integerAsBuffer(I.checksum):void 0};return this._buildFromBuffers(L)},E.prototype._buildFromSerialized=function(I){var L=a.decode(I),N={version:L.slice(E.VersionStart,E.VersionEnd),depth:L.slice(E.DepthStart,E.DepthEnd),parentFingerPrint:L.slice(E.ParentFingerPrintStart,E.ParentFingerPrintEnd),childIndex:L.slice(E.ChildIndexStart,E.ChildIndexEnd),chainCode:L.slice(E.ChainCodeStart,E.ChainCodeEnd),privateKey:L.slice(E.PrivateKeyStart,E.PrivateKeyEnd),checksum:L.slice(E.ChecksumStart,E.ChecksumEnd),xprivkey:I};return this._buildFromBuffers(N)},E.prototype._generateRandomly=function(I){return E.fromSeed(p.getRandomBuffer(64),I)},E.fromSeed=function(I,L){if(_.isHexaString(I)&&(I=r.from(I,"hex")),!r.isBuffer(I))throw new y.InvalidEntropyArgument(I);if(I.length<O*F)throw new y.InvalidEntropyArgument.NotEnoughEntropy(I);if(I.length>B*F)throw new y.InvalidEntropyArgument.TooMuchEntropy(I);var N=u.sha512hmac(I,r.from("Bitcoin seed"));return new E({network:c.get(L)||c.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:N.slice(0,32),chainCode:N.slice(32,64)})},E.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var I=W("8kXe7");this._hdPublicKey=new I(this)}},E.prototype._buildFromBuffers=function(I){E._validateBufferArguments(I),_.defineImmutable(this,{_buffers:I});var L=[I.version,I.depth,I.parentFingerPrint,I.childIndex,I.chainCode,r.alloc(1),I.privateKey],N=r.concat(L);if(!I.checksum||!I.checksum.length)I.checksum=a.checksum(N);else if(I.checksum.toString()!==a.checksum(N).toString())throw new l.InvalidB58Checksum(N);var H=c.get(I.version.readUInt32BE(0)),D;D=a.encode(r.concat(L)),I.xprivkey=r.from(D);var C=new f(s.fromBuffer(I.privateKey),H),d=C.toPublicKey(),v=E.ParentFingerPrintSize,g=u.sha256ripemd160(d.toBuffer()).slice(0,v);return _.defineImmutable(this,{xprivkey:D,network:H,depth:I.depth[0],privateKey:C,publicKey:d,fingerPrint:g}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},E._validateBufferArguments=function(I){var L=function(N,H){var D=I[N];yf(r.isBuffer(D),N+" argument is not a buffer"),yf(D.length===H,N+" has not the expected size: found "+D.length+", expected "+H)};L("version",E.VersionSize),L("depth",E.DepthSize),L("parentFingerPrint",E.ParentFingerPrintSize),L("childIndex",E.ChildIndexSize),L("chainCode",E.ChainCodeSize),L("privateKey",E.PrivateKeySize),I.checksum&&I.checksum.length&&L("checksum",E.CheckSumSize)},E.prototype.toString=function(){return this.xprivkey},E.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},E.prototype.toObject=E.prototype.toJSON=function(){return{network:c.get(this._buffers.version.readUInt32BE(0),"xprivkey").name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:this._buffers.checksum.readUInt32BE(0),xprivkey:this.xprivkey}},E.fromBuffer=function(I){return new E(I.toString())},E.fromHex=function(I){return E.fromBuffer(r.from(I,"hex"))},E.prototype.toBuffer=function(){return r.from(this.toString())},E.prototype.toHex=function(){return this.toBuffer().toString("hex")},E.DefaultDepth=0,E.DefaultFingerprint=0,E.DefaultChildIndex=0,E.Hardened=2147483648,E.MaxIndex=2*E.Hardened,E.RootElementAlias=["m","M","m'","M'"],E.VersionSize=4,E.DepthSize=1,E.ParentFingerPrintSize=4,E.ChildIndexSize=4,E.ChainCodeSize=32,E.PrivateKeySize=32,E.CheckSumSize=4,E.DataLength=78,E.SerializedByteSize=82,E.VersionStart=0,E.VersionEnd=E.VersionStart+E.VersionSize,E.DepthStart=E.VersionEnd,E.DepthEnd=E.DepthStart+E.DepthSize,E.ParentFingerPrintStart=E.DepthEnd,E.ParentFingerPrintEnd=E.ParentFingerPrintStart+E.ParentFingerPrintSize,E.ChildIndexStart=E.ParentFingerPrintEnd,E.ChildIndexEnd=E.ChildIndexStart+E.ChildIndexSize,E.ChainCodeStart=E.ChildIndexEnd,E.ChainCodeEnd=E.ChainCodeStart+E.ChainCodeSize,E.PrivateKeyStart=E.ChainCodeEnd+1,E.PrivateKeyEnd=E.PrivateKeyStart+E.PrivateKeySize,E.ChecksumStart=E.PrivateKeyEnd,E.ChecksumEnd=E.ChecksumStart+E.CheckSumSize,yf(E.ChecksumEnd===E.SerializedByteSize),t.exports=E});Fe("8kXe7",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("6gAsx"),s=W("dIoYd"),o=W("jG967"),a=W("j7ODq"),u=W("bTTXN"),c=W("4bgoH"),h=W("cyjag"),f=W("f0gTO"),p=W("arkeG"),l=W("kooOK"),y=l,_=l.HDPublicKey,O=W("gk75r");function F(B){if(B instanceof F)return B;if(!(this instanceof F))return new F(B);if(B)if(n.isString(B)||r.isBuffer(B)){var E=F.getSerializedError(B);if(E){if(r.isBuffer(B)&&!F.getSerializedError(B.toString()))return this._buildFromSerialized(B.toString());if(E instanceof _.ArgumentIsPrivateExtended)return new c(B).hdPublicKey;throw E}else return this._buildFromSerialized(B)}else{if(n.isObject(B))return B instanceof c?this._buildFromPrivate(B):this._buildFromObject(B);throw new _.UnrecognizedArgument(B)}else throw new _.MustSupplyArgument}F.fromHDPrivateKey=function(B){return new F(B)},F.isValidPath=function(B){if(n.isString(B)){var E=c._getDerivationIndexes(B);return E!==null&&n.every(E,F.isValidPath)}return n.isNumber(B)?B>=0&&B<F.Hardened:!1},F.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},F.prototype.deriveChild=function(B,E){if(n.isNumber(B))return this._deriveWithNumber(B,E);if(n.isString(B))return this._deriveFromString(B);throw new _.InvalidDerivationArgument(B)},F.prototype._deriveWithNumber=function(B,E){if(B>=F.Hardened||E)throw new _.InvalidIndexCantDeriveHardened;if(B<0)throw new _.InvalidPath(B);var I=O.integerAsBuffer(B),L=r.concat([this.publicKey.toBuffer(),I]),N=u.sha512hmac(L,this._buffers.chainCode),H=s.fromBuffer(N.slice(0,32),{size:32}),D=N.slice(32,64),C;try{C=p.fromPoint(f.getG().mul(H).add(this.publicKey.point))}catch{return this._deriveWithNumber(B+1)}var d=new F({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:B,chainCode:D,publicKey:C});return d},F.prototype._deriveFromString=function(B){if(n.includes(B,"'"))throw new _.InvalidIndexCantDeriveHardened;if(!F.isValidPath(B))throw new _.InvalidPath(B);var E=c._getDerivationIndexes(B),I=E.reduce(function(L,N){return L._deriveWithNumber(N)},this);return I},F.isValidSerialized=function(B,E){return n.isNull(F.getSerializedError(B,E))},F.getSerializedError=function(B,E){if(!(n.isString(B)||r.isBuffer(B)))return new _.UnrecognizedArgument("expected buffer or string");if(!o.validCharacters(B))return new y.InvalidB58Char("(unknown)",B);try{B=a.decode(B)}catch{return new y.InvalidB58Checksum(B)}if(B.length!==F.DataSize)return new _.InvalidLength(B);if(!n.isUndefined(E)){var I=F._validateNetwork(B,E);if(I)return I}var L=B.readUInt32BE(0);return L===h.livenet.xprivkey||L===h.testnet.xprivkey?new _.ArgumentIsPrivateExtended:null},F._validateNetwork=function(B,E){var I=h.get(E);if(!I)return new y.InvalidNetworkArgument(E);var L=B.slice(F.VersionStart,F.VersionEnd);return L.readUInt32BE(0)!==I.xpubkey?new y.InvalidNetwork(L):null},F.prototype._buildFromPrivate=function(B){var E=n.clone(B._buffers),I=f.getG().mul(s.fromBuffer(E.privateKey));return E.publicKey=f.pointToCompressed(I),E.version=O.integerAsBuffer(h.get(E.version.readUInt32BE(0)).xpubkey),E.privateKey=void 0,E.checksum=void 0,E.xprivkey=void 0,this._buildFromBuffers(E)},F.prototype._buildFromObject=function(B){var E={version:B.network?O.integerAsBuffer(h.get(B.network).xpubkey):B.version,depth:n.isNumber(B.depth)?r.from([B.depth&255]):B.depth,parentFingerPrint:n.isNumber(B.parentFingerPrint)?O.integerAsBuffer(B.parentFingerPrint):B.parentFingerPrint,childIndex:n.isNumber(B.childIndex)?O.integerAsBuffer(B.childIndex):B.childIndex,chainCode:n.isString(B.chainCode)?r.from(B.chainCode,"hex"):B.chainCode,publicKey:n.isString(B.publicKey)?r.from(B.publicKey,"hex"):r.isBuffer(B.publicKey)?B.publicKey:B.publicKey.toBuffer(),checksum:n.isNumber(B.checksum)?O.integerAsBuffer(B.checksum):B.checksum};return this._buildFromBuffers(E)},F.prototype._buildFromSerialized=function(B){var E=a.decode(B),I={version:E.slice(F.VersionStart,F.VersionEnd),depth:E.slice(F.DepthStart,F.DepthEnd),parentFingerPrint:E.slice(F.ParentFingerPrintStart,F.ParentFingerPrintEnd),childIndex:E.slice(F.ChildIndexStart,F.ChildIndexEnd),chainCode:E.slice(F.ChainCodeStart,F.ChainCodeEnd),publicKey:E.slice(F.PublicKeyStart,F.PublicKeyEnd),checksum:E.slice(F.ChecksumStart,F.ChecksumEnd),xpubkey:B};return this._buildFromBuffers(I)},F.prototype._buildFromBuffers=function(B){F._validateBufferArguments(B),O.defineImmutable(this,{_buffers:B});var E=[B.version,B.depth,B.parentFingerPrint,B.childIndex,B.chainCode,B.publicKey],I=r.concat(E),L=a.checksum(I);if(!B.checksum||!B.checksum.length)B.checksum=L;else if(B.checksum.toString("hex")!==L.toString("hex"))throw new y.InvalidB58Checksum(I,L);var N=h.get(B.version.readUInt32BE(0)),H;H=a.encode(r.concat(E)),B.xpubkey=r.from(H);var D=new p(B.publicKey,{network:N}),C=F.ParentFingerPrintSize,d=u.sha256ripemd160(D.toBuffer()).slice(0,C);return O.defineImmutable(this,{xpubkey:H,network:N,depth:B.depth[0],publicKey:D,fingerPrint:d}),this},F._validateBufferArguments=function(B){var E=function(I,L){var N=B[I];yf(r.isBuffer(N),I+" argument is not a buffer, it's "+typeof N),yf(N.length===L,I+" has not the expected size: found "+N.length+", expected "+L)};E("version",F.VersionSize),E("depth",F.DepthSize),E("parentFingerPrint",F.ParentFingerPrintSize),E("childIndex",F.ChildIndexSize),E("chainCode",F.ChainCodeSize),E("publicKey",F.PublicKeySize),B.checksum&&B.checksum.length&&E("checksum",F.CheckSumSize)},F.fromString=function(B){return i.checkArgument(n.isString(B),"No valid string was provided"),new F(B)},F.fromObject=function(B){return i.checkArgument(n.isObject(B),"No valid argument was provided"),new F(B)},F.prototype.toString=function(){return this.xpubkey},F.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},F.prototype.toObject=F.prototype.toJSON=function(){return{network:h.get(this._buffers.version.readUInt32BE(0)).name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),publicKey:this.publicKey.toString(),checksum:this._buffers.checksum.readUInt32BE(0),xpubkey:this.xpubkey}},F.fromBuffer=function(B){return new F(B)},F.fromHex=function(B){return F.fromBuffer(r.from(B,"hex"))},F.prototype.toBuffer=function(){return r.from(this._buffers.xpubkey)},F.prototype.toHex=function(){return this.toBuffer().toString("hex")},F.Hardened=2147483648,F.RootElementAlias=["m","M"],F.VersionSize=4,F.DepthSize=1,F.ParentFingerPrintSize=4,F.ChildIndexSize=4,F.ChainCodeSize=32,F.PublicKeySize=33,F.CheckSumSize=4,F.DataSize=78,F.SerializedByteSize=82,F.VersionStart=0,F.VersionEnd=F.VersionStart+F.VersionSize,F.DepthStart=F.VersionEnd,F.DepthEnd=F.DepthStart+F.DepthSize,F.ParentFingerPrintStart=F.DepthEnd,F.ParentFingerPrintEnd=F.ParentFingerPrintStart+F.ParentFingerPrintSize,F.ChildIndexStart=F.ParentFingerPrintEnd,F.ChildIndexEnd=F.ChildIndexStart+F.ChildIndexSize,F.ChainCodeStart=F.ChildIndexEnd,F.ChainCodeEnd=F.ChainCodeStart+F.ChainCodeSize,F.PublicKeyStart=F.ChainCodeEnd,F.PublicKeyEnd=F.PublicKeyStart+F.PublicKeySize,F.ChecksumStart=F.PublicKeyEnd,F.ChecksumEnd=F.ChecksumStart+F.CheckSumSize,yf(F.PublicKeyEnd===F.DataSize),yf(F.ChecksumEnd===F.SerializedByteSize),t.exports=F});Fe("de0HV",function(t,e){t.exports=W("fNnUs")});Fe("fNnUs",function(t,e){var r=tr.Buffer,n=W("arkeG"),i=W("7smYJ"),s=W("bTTXN"),o=W("6gAsx"),a=W("cQlxP"),u=W("kooOK"),c=l6.ModeOfOperation.cbc,h=function(){};h.encrypt=function(l,y,_){o.checkArgument(l),o.checkArgument(y),o.checkArgument(_),o.checkArgument(y.length===16,"keybuf length must be 16"),o.checkArgument(_.length===16,"ivbuf length must be 16"),l=l6.padding.pkcs7.pad(l);var O=new c(y,_),F=O.encrypt(l);return r.from(F)},h.decrypt=function(l,y,_){o.checkArgument(l),o.checkArgument(y),o.checkArgument(_),o.checkArgument(y.length===16,"keybuf length must be 16"),o.checkArgument(_.length===16,"ivbuf length must be 16");var O=new c(y,_),F=O.decrypt(l);return r.from(l6.padding.pkcs7.strip(F))};var f=function l(y,_="BIE1"){if(_!=="BIE1")throw new u.ECIES.UnsupportAlgorithm(_);if(!(this instanceof l))return new l(y,_);this._privateKey=new i,this.opts=y||{},this.opts.ephemeralKey=!0};f.prototype.privateKey=function(l){return o.checkArgument(i.isValid(l),"no private key provided"),this._privateKey=i(l.toHex())||null,this.opts.ephemeralKey=!1,this},f.prototype.publicKey=function(l){return o.checkArgument(n.isValid(l),"no public key provided"),this._publicKey=n(l.toString())||null,this._publicKey!=null&&(this.opts.fixedPublicKey=!0),this};var p=function(l,y){var _="_"+l;Object.defineProperty(f.prototype,l,{configurable:!1,enumerable:!0,get:function(){var O=this[_];return O=this[_]=y.apply(this),O}})};p("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),p("ivkEkM",function(){var l=this._privateKey.bn,y=this._publicKey.point,_=y.mul(l),O=n(_),F=O.toBuffer();return s.sha512(F)}),p("iv",function(){return this.ivkEkM.slice(0,16)}),p("kE",function(){return this.ivkEkM.slice(16,32)}),p("kM",function(){return this.ivkEkM.slice(32,64)}),f.prototype.encrypt=function(l){r.isBuffer(l)||(l=r.from(l));var y=h.encrypt(l,this.kE,this.iv),_,O=r.from("BIE1");this.opts.noKey&&!this.opts.ephemeralKey?_=r.concat([O,y]):_=r.concat([O,this.Rbuf,y]);var F=s.sha256hmac(_,this.kM);return this.opts.shortTag&&(F=F.slice(0,4)),r.concat([_,F])},f.prototype.decrypt=function(l){o.checkArgument(r.isBuffer(l),"ciphetext must be a buffer");var y=32,_=4;this.opts.shortTag&&(y=4);var O=l.slice(0,4);if(!O.equals(r.from("BIE1")))throw new u.DecryptionError("Invalid Magic");if(!this.opts.noKey){var F;F=l.slice(4,37),this.opts.fixedPublicKey?console.log('Notice: Overriding PublicKey in message. Consider use "noKey" option if you are not sending message to electrum and do not want to use ephemeral key'):this._publicKey=n.fromDER(F),_=37}var B=l.slice(_,l.length-y),E=l.slice(l.length-y,l.length),I=s.sha256hmac(l.slice(0,l.length-y),this.kM);if(this.opts.shortTag&&(I=I.slice(0,4)),!E.equals(I))throw new u.ECIES.DecryptionError("Invalid checksum");return h.decrypt(B,this.kE,this.iv)},f.bitcoreECIES=a,t.exports=f});Fe("cQlxP",function(t,e){var r=tr.Buffer,n=W("arkeG"),i=W("bTTXN"),s=W("6gAsx"),o=l6.ModeOfOperation.cbc,a=W("7X5Fe"),u=function(){};u.encrypt=function(f,p,l){s.checkArgument(f),s.checkArgument(p),s.checkArgument(l),l=l||a.getRandomBuffer(16),f=l6.padding.pkcs7.pad(f);var y=new o(p,l),_=y.encrypt(f),O=r.concat([l,_]);return O},u.decrypt=function(f,p){s.checkArgument(f),s.checkArgument(p);var l=f.slice(0,16),y=f.slice(16),_=new o(p,l),O=_.decrypt(y);return O=l6.padding.pkcs7.strip(O),r.from(O)};var c=function f(p){if(!(this instanceof f))return new f;this.opts=p||{}};c.prototype.privateKey=function(f){return s.checkArgument(f,"no private key provided"),this._privateKey=f||null,this},c.prototype.publicKey=function(f){return s.checkArgument(f,"no public key provided"),this._publicKey=f||null,this};var h=function(f,p){var l="_"+f;Object.defineProperty(c.prototype,f,{configurable:!1,enumerable:!0,get:function(){var y=this[l];return y||(y=this[l]=p.apply(this)),y}})};h("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),h("kEkM",function(){var f=this._privateKey.bn,p=this._publicKey.point,l=p.mul(f),y=l.getX(),_=y.toBuffer({size:32});return i.sha512(_)}),h("kE",function(){return this.kEkM.slice(0,32)}),h("kM",function(){return this.kEkM.slice(32,64)}),c.prototype.encrypt=function(f,p){r.isBuffer(f)||(f=r.from(f)),p===void 0&&(p=i.sha256hmac(f,this._privateKey.toBuffer()).slice(0,16));var l=u.encrypt(f,this.kE,p),y=i.sha256hmac(l,this.kM);this.opts.shortTag&&(y=y.slice(0,4));var _;return this.opts.noKey?_=r.concat([l,y]):_=r.concat([this.Rbuf,l,y]),_},c.prototype.decrypt=function(f){s.checkArgument(f);var p=0,l=32;if(this.opts.shortTag&&(l=4),!this.opts.noKey){var y;switch(f[0]){case 4:y=f.slice(0,65);break;case 3:case 2:y=f.slice(0,33);break;default:throw new Error("Invalid type: "+f[0])}this._publicKey=n.fromDER(y),p+=y.length}var _=f.slice(p,f.length-l),O=f.slice(f.length-l,f.length),F=i.sha256hmac(_,this.kM);this.opts.shortTag&&(F=F.slice(0,4));for(var B=!0,E=0;E<O.length;E++)B&=O[E]===F[E];if(!B)throw new Error("Invalid checksum");return u.decrypt(_,this.kE)},t.exports=c});Fe("9fBEz",function(t,e){var r=tr.Buffer,n=W("kBBbb"),i=W("7smYJ"),s=W("arkeG"),o=W("iSUUt"),a=W("2AZ1V"),u=W("kmMTb"),c=W("gIXub"),h=W("bTTXN"),f=h.sha256sha256,p=W("gk75r"),l=W("6gAsx"),y=function _(O){return this instanceof _?(l.checkArgument(n.isString(O)||r.isBuffer(O),"First argument should be a string or Buffer"),n.isString(O)&&(this.messageBuffer=r.from(O)),r.isBuffer(O)&&(this.messageBuffer=O),this):new _(O)};y.sign=function(_,O){return new y(_).sign(O)},y.verify=function(_,O,F){return new y(_).verify(O,F)},y.MAGIC_BYTES=r.from(`Bitcoin Signed Message:
`),y.prototype.magicHash=function(){var O=a.varintBufNum(y.MAGIC_BYTES.length),F=a.varintBufNum(this.messageBuffer.length),B=r.concat([O,y.MAGIC_BYTES,F,this.messageBuffer]),E=f(B);return E},y.prototype._sign=function(O){l.checkArgument(O instanceof i,"First argument should be an instance of PrivateKey");var F=this.magicHash();return u.signWithCalcI(F,O)},y.prototype.sign=function(O){var F=this._sign(O);return F.toCompact().toString("base64")},y.prototype._verify=function(O,F){l.checkArgument(O instanceof s,"First argument should be an instance of PublicKey"),l.checkArgument(F instanceof c,"Second argument should be an instance of Signature");var B=this.magicHash(),E=u.verify(B,F,O);return E||(this.error="The signature was invalid"),E},y.prototype.verify=function(O,F){l.checkArgument(O),l.checkArgument(F&&n.isString(F)),n.isString(O)&&(O=o.fromString(O));var B=c.fromCompact(r.from(F,"base64")),E=new u;E.hashbuf=this.magicHash(),E.sig=B;var I=E.toPublicKey(),L=o.fromPublicKey(I,O.network);return O.toString()!==L.toString()?(this.error="The signature did not match the message digest",!1):this._verify(I,B)},y.fromString=function(_){return new y(_)},y.fromJSON=function(O){return p.isValidJSON(O)&&(O=JSON.parse(O)),y.fromObject(O)},y.prototype.toObject=function(){return{messageHex:this.messageBuffer.toString("hex")}},y.fromObject=function(_){let O=r.from(_.messageHex,"hex");return new y(O)},y.prototype.toJSON=function(){return JSON.stringify(this.toObject())},y.prototype.toString=function(){return this.messageBuffer.toString()},y.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=y});Fe("amN1b",function(t,e){var r=tr.Buffer,n=W("dIoYd"),i=W("bTTXN"),s=W("7X5Fe"),o=W("kBBbb"),a=W("d2BaI"),u=W("kooOK"),c=W("6gAsx"),h=W("4bgoH"),f=function(p,l){if(!(this instanceof f))return new f(p,l);o.isArray(p)&&(l=p,p=null);var y,_,O;if(r.isBuffer(p))O=p;else if(o.isString(p))_=B3.nfkd(p);else if(o.isNumber(p))y=p;else if(p)throw new u.InvalidArgument("data","Must be a Buffer, a string or an integer");if(y=y||128,l=l||f._getDictionary(_),_&&!l)throw new u.Mnemonic.UnknownWordlist(_);if(l=l||f.Words.ENGLISH,O&&(_=f._entropy2mnemonic(O,l)),_&&!f.isValid(_,l))throw new u.Mnemonic.InvalidMnemonic(_);if(y%32!==0||y<128)throw new u.InvalidArgument("ENT","Values must be ENT > 128 and ENT % 32 == 0");_=_||f._mnemonic(y,l),Object.defineProperty(this,"wordlist",{configurable:!1,value:l}),Object.defineProperty(this,"phrase",{configurable:!1,value:_})};f.fromRandom=function(p=f.Words.ENGLISH){return new f(p)},f.fromString=function(p,l=f.Words.ENGLISH){return new f(p,l)},f.Words=W("kWjfg"),f.isValid=function(p,l){if(p=B3.nfkd(p),l=l||f._getDictionary(p),!l)return!1;for(var y=p.split(" "),_="",O=0;O<y.length;O++){var F=l.indexOf(y[O]);if(F<0)return!1;_=_+("00000000000"+F.toString(2)).slice(-11)}var B=_.length/33,E=_.slice(-B),I=_.slice(0,_.length-B),L=r.alloc(I.length/8);for(O=0;O<I.length/8;O++)L.writeUInt8(parseInt(_.slice(O*8,(O+1)*8),2),O);var N=f._entropyChecksum(L);return N===E},f._belongsToWordlist=function(p,l){for(var y=B3.nfkd(p).split(" "),_=0;_<y.length;_++){var O=l.indexOf(y[_]);if(O<0)return!1}return!0},f._getDictionary=function(p){if(!p)return null;for(var l=Object.keys(f.Words),y=0;y<l.length;y++){var _=l[y];if(f._belongsToWordlist(p,f.Words[_]))return f.Words[_]}return null},f.prototype.toSeed=function(p){return p=p||"",a(B3.nfkd(this.phrase),B3.nfkd("mnemonic"+p),2048,64)},f.fromSeed=function(p,l){return c.checkArgument(r.isBuffer(p),"seed must be a Buffer."),c.checkArgument(o.isArray(l)||o.isString(l),"wordlist must be a string or an array."),new f(p,l)},f.prototype.toHDPrivateKey=function(p,l){var y=this.toSeed(p);return h.fromSeed(y,l)},f.prototype.toString=function(){return this.phrase},f.prototype.inspect=function(){return"<Mnemonic: "+this.toString()+" >"},f._mnemonic=function(p,l){var y=s.getRandomBuffer(p/8);return f._entropy2mnemonic(y,l)},f._entropy2mnemonic=function(p,l){for(var y="",_=0;_<p.length;_++)y=y+("00000000"+p[_].toString(2)).slice(-8);if(y=y+f._entropyChecksum(p),y.length%11!==0)throw new u.InvalidEntropy(y);var O=[];for(_=0;_<y.length/11;_++){var F=parseInt(y.slice(_*11,(_+1)*11),2);O.push(l[F])}var B;return l===f.Words.JAPANESE?B=O.join("\u3000"):B=O.join(" "),B},f._entropyChecksum=function(p){for(var l=i.sha256(p),y=p.length*8,_=y/32,O=new n(l.toString("hex"),16).toString(2);O.length%256!==0;)O="0"+O;var F=O.slice(0,_);return F},t.exports=f});Fe("d2BaI",function(t,e){t.exports=W("9Uipm")});Fe("9Uipm",function(t,e){var r=tr.Buffer;function n(i,s,o,a){var u=64;if(a>(Math.pow(2,32)-1)*u)throw Error("Requested key length too long");if(typeof i!="string"&&!r.isBuffer(i))throw new TypeError("key must a string or Buffer");if(typeof s!="string"&&!r.isBuffer(s))throw new TypeError("salt must a string or Buffer");typeof i=="string"&&(i=r.from(i)),typeof s=="string"&&(s=r.from(s));var c=r.alloc(a),h=r.alloc(u),f=r.alloc(u),p=r.alloc(s.length+4),l=Math.ceil(a/u),y=a-(l-1)*u;s.copy(p,0,0,s.length);for(var _=1;_<=l;_++){p[s.length+0]=_>>24&255,p[s.length+1]=_>>16&255,p[s.length+2]=_>>8&255,p[s.length+3]=_>>0&255,h=el.hmac(el.sha512,i).update(p).digest(),h.copy(f,0,0,u);for(var O=1;O<o;O++){h=el.hmac(el.sha512,i).update(h).digest();for(var F=0;F<u;F++)f[F]^=h[F]}var B=(_-1)*u,E=_===l?y:u;f.copy(c,B,0,E)}return c}t.exports=n});Fe("kWjfg",function(t,e){t.exports={CHINESE:W("1BMvs"),ENGLISH:W("hKmMn"),FRENCH:W("lnczd"),ITALIAN:W("dr8eV"),JAPANESE:W("9uq94"),SPANISH:W("8YfVJ")}});Fe("1BMvs",function(t,e){"use strict";var r=["\u7684","\u4E00","\u662F","\u5728","\u4E0D","\u4E86","\u6709","\u548C","\u4EBA","\u8FD9","\u4E2D","\u5927","\u4E3A","\u4E0A","\u4E2A","\u56FD","\u6211","\u4EE5","\u8981","\u4ED6","\u65F6","\u6765","\u7528","\u4EEC","\u751F","\u5230","\u4F5C","\u5730","\u4E8E","\u51FA","\u5C31","\u5206","\u5BF9","\u6210","\u4F1A","\u53EF","\u4E3B","\u53D1","\u5E74","\u52A8","\u540C","\u5DE5","\u4E5F","\u80FD","\u4E0B","\u8FC7","\u5B50","\u8BF4","\u4EA7","\u79CD","\u9762","\u800C","\u65B9","\u540E","\u591A","\u5B9A","\u884C","\u5B66","\u6CD5","\u6240","\u6C11","\u5F97","\u7ECF","\u5341","\u4E09","\u4E4B","\u8FDB","\u7740","\u7B49","\u90E8","\u5EA6","\u5BB6","\u7535","\u529B","\u91CC","\u5982","\u6C34","\u5316","\u9AD8","\u81EA","\u4E8C","\u7406","\u8D77","\u5C0F","\u7269","\u73B0","\u5B9E","\u52A0","\u91CF","\u90FD","\u4E24","\u4F53","\u5236","\u673A","\u5F53","\u4F7F","\u70B9","\u4ECE","\u4E1A","\u672C","\u53BB","\u628A","\u6027","\u597D","\u5E94","\u5F00","\u5B83","\u5408","\u8FD8","\u56E0","\u7531","\u5176","\u4E9B","\u7136","\u524D","\u5916","\u5929","\u653F","\u56DB","\u65E5","\u90A3","\u793E","\u4E49","\u4E8B","\u5E73","\u5F62","\u76F8","\u5168","\u8868","\u95F4","\u6837","\u4E0E","\u5173","\u5404","\u91CD","\u65B0","\u7EBF","\u5185","\u6570","\u6B63","\u5FC3","\u53CD","\u4F60","\u660E","\u770B","\u539F","\u53C8","\u4E48","\u5229","\u6BD4","\u6216","\u4F46","\u8D28","\u6C14","\u7B2C","\u5411","\u9053","\u547D","\u6B64","\u53D8","\u6761","\u53EA","\u6CA1","\u7ED3","\u89E3","\u95EE","\u610F","\u5EFA","\u6708","\u516C","\u65E0","\u7CFB","\u519B","\u5F88","\u60C5","\u8005","\u6700","\u7ACB","\u4EE3","\u60F3","\u5DF2","\u901A","\u5E76","\u63D0","\u76F4","\u9898","\u515A","\u7A0B","\u5C55","\u4E94","\u679C","\u6599","\u8C61","\u5458","\u9769","\u4F4D","\u5165","\u5E38","\u6587","\u603B","\u6B21","\u54C1","\u5F0F","\u6D3B","\u8BBE","\u53CA","\u7BA1","\u7279","\u4EF6","\u957F","\u6C42","\u8001","\u5934","\u57FA","\u8D44","\u8FB9","\u6D41","\u8DEF","\u7EA7","\u5C11","\u56FE","\u5C71","\u7EDF","\u63A5","\u77E5","\u8F83","\u5C06","\u7EC4","\u89C1","\u8BA1","\u522B","\u5979","\u624B","\u89D2","\u671F","\u6839","\u8BBA","\u8FD0","\u519C","\u6307","\u51E0","\u4E5D","\u533A","\u5F3A","\u653E","\u51B3","\u897F","\u88AB","\u5E72","\u505A","\u5FC5","\u6218","\u5148","\u56DE","\u5219","\u4EFB","\u53D6","\u636E","\u5904","\u961F","\u5357","\u7ED9","\u8272","\u5149","\u95E8","\u5373","\u4FDD","\u6CBB","\u5317","\u9020","\u767E","\u89C4","\u70ED","\u9886","\u4E03","\u6D77","\u53E3","\u4E1C","\u5BFC","\u5668","\u538B","\u5FD7","\u4E16","\u91D1","\u589E","\u4E89","\u6D4E","\u9636","\u6CB9","\u601D","\u672F","\u6781","\u4EA4","\u53D7","\u8054","\u4EC0","\u8BA4","\u516D","\u5171","\u6743","\u6536","\u8BC1","\u6539","\u6E05","\u7F8E","\u518D","\u91C7","\u8F6C","\u66F4","\u5355","\u98CE","\u5207","\u6253","\u767D","\u6559","\u901F","\u82B1","\u5E26","\u5B89","\u573A","\u8EAB","\u8F66","\u4F8B","\u771F","\u52A1","\u5177","\u4E07","\u6BCF","\u76EE","\u81F3","\u8FBE","\u8D70","\u79EF","\u793A","\u8BAE","\u58F0","\u62A5","\u6597","\u5B8C","\u7C7B","\u516B","\u79BB","\u534E","\u540D","\u786E","\u624D","\u79D1","\u5F20","\u4FE1","\u9A6C","\u8282","\u8BDD","\u7C73","\u6574","\u7A7A","\u5143","\u51B5","\u4ECA","\u96C6","\u6E29","\u4F20","\u571F","\u8BB8","\u6B65","\u7FA4","\u5E7F","\u77F3","\u8BB0","\u9700","\u6BB5","\u7814","\u754C","\u62C9","\u6797","\u5F8B","\u53EB","\u4E14","\u7A76","\u89C2","\u8D8A","\u7EC7","\u88C5","\u5F71","\u7B97","\u4F4E","\u6301","\u97F3","\u4F17","\u4E66","\u5E03","\u590D","\u5BB9","\u513F","\u987B","\u9645","\u5546","\u975E","\u9A8C","\u8FDE","\u65AD","\u6DF1","\u96BE","\u8FD1","\u77FF","\u5343","\u5468","\u59D4","\u7D20","\u6280","\u5907","\u534A","\u529E","\u9752","\u7701","\u5217","\u4E60","\u54CD","\u7EA6","\u652F","\u822C","\u53F2","\u611F","\u52B3","\u4FBF","\u56E2","\u5F80","\u9178","\u5386","\u5E02","\u514B","\u4F55","\u9664","\u6D88","\u6784","\u5E9C","\u79F0","\u592A","\u51C6","\u7CBE","\u503C","\u53F7","\u7387","\u65CF","\u7EF4","\u5212","\u9009","\u6807","\u5199","\u5B58","\u5019","\u6BDB","\u4EB2","\u5FEB","\u6548","\u65AF","\u9662","\u67E5","\u6C5F","\u578B","\u773C","\u738B","\u6309","\u683C","\u517B","\u6613","\u7F6E","\u6D3E","\u5C42","\u7247","\u59CB","\u5374","\u4E13","\u72B6","\u80B2","\u5382","\u4EAC","\u8BC6","\u9002","\u5C5E","\u5706","\u5305","\u706B","\u4F4F","\u8C03","\u6EE1","\u53BF","\u5C40","\u7167","\u53C2","\u7EA2","\u7EC6","\u5F15","\u542C","\u8BE5","\u94C1","\u4EF7","\u4E25","\u9996","\u5E95","\u6DB2","\u5B98","\u5FB7","\u968F","\u75C5","\u82CF","\u5931","\u5C14","\u6B7B","\u8BB2","\u914D","\u5973","\u9EC4","\u63A8","\u663E","\u8C08","\u7F6A","\u795E","\u827A","\u5462","\u5E2D","\u542B","\u4F01","\u671B","\u5BC6","\u6279","\u8425","\u9879","\u9632","\u4E3E","\u7403","\u82F1","\u6C27","\u52BF","\u544A","\u674E","\u53F0","\u843D","\u6728","\u5E2E","\u8F6E","\u7834","\u4E9A","\u5E08","\u56F4","\u6CE8","\u8FDC","\u5B57","\u6750","\u6392","\u4F9B","\u6CB3","\u6001","\u5C01","\u53E6","\u65BD","\u51CF","\u6811","\u6EB6","\u600E","\u6B62","\u6848","\u8A00","\u58EB","\u5747","\u6B66","\u56FA","\u53F6","\u9C7C","\u6CE2","\u89C6","\u4EC5","\u8D39","\u7D27","\u7231","\u5DE6","\u7AE0","\u65E9","\u671D","\u5BB3","\u7EED","\u8F7B","\u670D","\u8BD5","\u98DF","\u5145","\u5175","\u6E90","\u5224","\u62A4","\u53F8","\u8DB3","\u67D0","\u7EC3","\u5DEE","\u81F4","\u677F","\u7530","\u964D","\u9ED1","\u72AF","\u8D1F","\u51FB","\u8303","\u7EE7","\u5174","\u4F3C","\u4F59","\u575A","\u66F2","\u8F93","\u4FEE","\u6545","\u57CE","\u592B","\u591F","\u9001","\u7B14","\u8239","\u5360","\u53F3","\u8D22","\u5403","\u5BCC","\u6625","\u804C","\u89C9","\u6C49","\u753B","\u529F","\u5DF4","\u8DDF","\u867D","\u6742","\u98DE","\u68C0","\u5438","\u52A9","\u5347","\u9633","\u4E92","\u521D","\u521B","\u6297","\u8003","\u6295","\u574F","\u7B56","\u53E4","\u5F84","\u6362","\u672A","\u8DD1","\u7559","\u94A2","\u66FE","\u7AEF","\u8D23","\u7AD9","\u7B80","\u8FF0","\u94B1","\u526F","\u5C3D","\u5E1D","\u5C04","\u8349","\u51B2","\u627F","\u72EC","\u4EE4","\u9650","\u963F","\u5BA3","\u73AF","\u53CC","\u8BF7","\u8D85","\u5FAE","\u8BA9","\u63A7","\u5DDE","\u826F","\u8F74","\u627E","\u5426","\u7EAA","\u76CA","\u4F9D","\u4F18","\u9876","\u7840","\u8F7D","\u5012","\u623F","\u7A81","\u5750","\u7C89","\u654C","\u7565","\u5BA2","\u8881","\u51B7","\u80DC","\u7EDD","\u6790","\u5757","\u5242","\u6D4B","\u4E1D","\u534F","\u8BC9","\u5FF5","\u9648","\u4ECD","\u7F57","\u76D0","\u53CB","\u6D0B","\u9519","\u82E6","\u591C","\u5211","\u79FB","\u9891","\u9010","\u9760","\u6DF7","\u6BCD","\u77ED","\u76AE","\u7EC8","\u805A","\u6C7D","\u6751","\u4E91","\u54EA","\u65E2","\u8DDD","\u536B","\u505C","\u70C8","\u592E","\u5BDF","\u70E7","\u8FC5","\u5883","\u82E5","\u5370","\u6D32","\u523B","\u62EC","\u6FC0","\u5B54","\u641E","\u751A","\u5BA4","\u5F85","\u6838","\u6821","\u6563","\u4FB5","\u5427","\u7532","\u6E38","\u4E45","\u83DC","\u5473","\u65E7","\u6A21","\u6E56","\u8D27","\u635F","\u9884","\u963B","\u6BEB","\u666E","\u7A33","\u4E59","\u5988","\u690D","\u606F","\u6269","\u94F6","\u8BED","\u6325","\u9152","\u5B88","\u62FF","\u5E8F","\u7EB8","\u533B","\u7F3A","\u96E8","\u5417","\u9488","\u5218","\u554A","\u6025","\u5531","\u8BEF","\u8BAD","\u613F","\u5BA1","\u9644","\u83B7","\u8336","\u9C9C","\u7CAE","\u65A4","\u5B69","\u8131","\u786B","\u80A5","\u5584","\u9F99","\u6F14","\u7236","\u6E10","\u8840","\u6B22","\u68B0","\u638C","\u6B4C","\u6C99","\u521A","\u653B","\u8C13","\u76FE","\u8BA8","\u665A","\u7C92","\u4E71","\u71C3","\u77DB","\u4E4E","\u6740","\u836F","\u5B81","\u9C81","\u8D35","\u949F","\u7164","\u8BFB","\u73ED","\u4F2F","\u9999","\u4ECB","\u8FEB","\u53E5","\u4E30","\u57F9","\u63E1","\u5170","\u62C5","\u5F26","\u86CB","\u6C89","\u5047","\u7A7F","\u6267","\u7B54","\u4E50","\u8C01","\u987A","\u70DF","\u7F29","\u5F81","\u8138","\u559C","\u677E","\u811A","\u56F0","\u5F02","\u514D","\u80CC","\u661F","\u798F","\u4E70","\u67D3","\u4E95","\u6982","\u6162","\u6015","\u78C1","\u500D","\u7956","\u7687","\u4FC3","\u9759","\u8865","\u8BC4","\u7FFB","\u8089","\u8DF5","\u5C3C","\u8863","\u5BBD","\u626C","\u68C9","\u5E0C","\u4F24","\u64CD","\u5782","\u79CB","\u5B9C","\u6C22","\u5957","\u7763","\u632F","\u67B6","\u4EAE","\u672B","\u5BAA","\u5E86","\u7F16","\u725B","\u89E6","\u6620","\u96F7","\u9500","\u8BD7","\u5EA7","\u5C45","\u6293","\u88C2","\u80DE","\u547C","\u5A18","\u666F","\u5A01","\u7EFF","\u6676","\u539A","\u76DF","\u8861","\u9E21","\u5B59","\u5EF6","\u5371","\u80F6","\u5C4B","\u4E61","\u4E34","\u9646","\u987E","\u6389","\u5440","\u706F","\u5C81","\u63AA","\u675F","\u8010","\u5267","\u7389","\u8D75","\u8DF3","\u54E5","\u5B63","\u8BFE","\u51EF","\u80E1","\u989D","\u6B3E","\u7ECD","\u5377","\u9F50","\u4F1F","\u84B8","\u6B96","\u6C38","\u5B97","\u82D7","\u5DDD","\u7089","\u5CA9","\u5F31","\u96F6","\u6768","\u594F","\u6CBF","\u9732","\u6746","\u63A2","\u6ED1","\u9547","\u996D","\u6D53","\u822A","\u6000","\u8D76","\u5E93","\u593A","\u4F0A","\u7075","\u7A0E","\u9014","\u706D","\u8D5B","\u5F52","\u53EC","\u9F13","\u64AD","\u76D8","\u88C1","\u9669","\u5EB7","\u552F","\u5F55","\u83CC","\u7EAF","\u501F","\u7CD6","\u76D6","\u6A2A","\u7B26","\u79C1","\u52AA","\u5802","\u57DF","\u67AA","\u6DA6","\u5E45","\u54C8","\u7ADF","\u719F","\u866B","\u6CFD","\u8111","\u58E4","\u78B3","\u6B27","\u904D","\u4FA7","\u5BE8","\u6562","\u5F7B","\u8651","\u659C","\u8584","\u5EAD","\u7EB3","\u5F39","\u9972","\u4F38","\u6298","\u9EA6","\u6E7F","\u6697","\u8377","\u74E6","\u585E","\u5E8A","\u7B51","\u6076","\u6237","\u8BBF","\u5854","\u5947","\u900F","\u6881","\u5200","\u65CB","\u8FF9","\u5361","\u6C2F","\u9047","\u4EFD","\u6BD2","\u6CE5","\u9000","\u6D17","\u6446","\u7070","\u5F69","\u5356","\u8017","\u590F","\u62E9","\u5FD9","\u94DC","\u732E","\u786C","\u4E88","\u7E41","\u5708","\u96EA","\u51FD","\u4EA6","\u62BD","\u7BC7","\u9635","\u9634","\u4E01","\u5C3A","\u8FFD","\u5806","\u96C4","\u8FCE","\u6CDB","\u7238","\u697C","\u907F","\u8C0B","\u5428","\u91CE","\u732A","\u65D7","\u7D2F","\u504F","\u5178","\u9986","\u7D22","\u79E6","\u8102","\u6F6E","\u7237","\u8C46","\u5FFD","\u6258","\u60CA","\u5851","\u9057","\u6108","\u6731","\u66FF","\u7EA4","\u7C97","\u503E","\u5C1A","\u75DB","\u695A","\u8C22","\u594B","\u8D2D","\u78E8","\u541B","\u6C60","\u65C1","\u788E","\u9AA8","\u76D1","\u6355","\u5F1F","\u66B4","\u5272","\u8D2F","\u6B8A","\u91CA","\u8BCD","\u4EA1","\u58C1","\u987F","\u5B9D","\u5348","\u5C18","\u95FB","\u63ED","\u70AE","\u6B8B","\u51AC","\u6865","\u5987","\u8B66","\u7EFC","\u62DB","\u5434","\u4ED8","\u6D6E","\u906D","\u5F90","\u60A8","\u6447","\u8C37","\u8D5E","\u7BB1","\u9694","\u8BA2","\u7537","\u5439","\u56ED","\u7EB7","\u5510","\u8D25","\u5B8B","\u73BB","\u5DE8","\u8015","\u5766","\u8363","\u95ED","\u6E7E","\u952E","\u51E1","\u9A7B","\u9505","\u6551","\u6069","\u5265","\u51DD","\u78B1","\u9F7F","\u622A","\u70BC","\u9EBB","\u7EBA","\u7981","\u5E9F","\u76DB","\u7248","\u7F13","\u51C0","\u775B","\u660C","\u5A5A","\u6D89","\u7B52","\u5634","\u63D2","\u5CB8","\u6717","\u5E84","\u8857","\u85CF","\u59D1","\u8D38","\u8150","\u5974","\u5566","\u60EF","\u4E58","\u4F19","\u6062","\u5300","\u7EB1","\u624E","\u8FA9","\u8033","\u5F6A","\u81E3","\u4EBF","\u7483","\u62B5","\u8109","\u79C0","\u8428","\u4FC4","\u7F51","\u821E","\u5E97","\u55B7","\u7EB5","\u5BF8","\u6C57","\u6302","\u6D2A","\u8D3A","\u95EA","\u67EC","\u7206","\u70EF","\u6D25","\u7A3B","\u5899","\u8F6F","\u52C7","\u50CF","\u6EDA","\u5398","\u8499","\u82B3","\u80AF","\u5761","\u67F1","\u8361","\u817F","\u4EEA","\u65C5","\u5C3E","\u8F67","\u51B0","\u8D21","\u767B","\u9ECE","\u524A","\u94BB","\u52D2","\u9003","\u969C","\u6C28","\u90ED","\u5CF0","\u5E01","\u6E2F","\u4F0F","\u8F68","\u4EA9","\u6BD5","\u64E6","\u83AB","\u523A","\u6D6A","\u79D8","\u63F4","\u682A","\u5065","\u552E","\u80A1","\u5C9B","\u7518","\u6CE1","\u7761","\u7AE5","\u94F8","\u6C64","\u9600","\u4F11","\u6C47","\u820D","\u7267","\u7ED5","\u70B8","\u54F2","\u78F7","\u7EE9","\u670B","\u6DE1","\u5C16","\u542F","\u9677","\u67F4","\u5448","\u5F92","\u989C","\u6CEA","\u7A0D","\u5FD8","\u6CF5","\u84DD","\u62D6","\u6D1E","\u6388","\u955C","\u8F9B","\u58EE","\u950B","\u8D2B","\u865A","\u5F2F","\u6469","\u6CF0","\u5E7C","\u5EF7","\u5C0A","\u7A97","\u7EB2","\u5F04","\u96B6","\u7591","\u6C0F","\u5BAB","\u59D0","\u9707","\u745E","\u602A","\u5C24","\u7434","\u5FAA","\u63CF","\u819C","\u8FDD","\u5939","\u8170","\u7F18","\u73E0","\u7A77","\u68EE","\u679D","\u7AF9","\u6C9F","\u50AC","\u7EF3","\u5FC6","\u90A6","\u5269","\u5E78","\u6D46","\u680F","\u62E5","\u7259","\u8D2E","\u793C","\u6EE4","\u94A0","\u7EB9","\u7F62","\u62CD","\u54B1","\u558A","\u8896","\u57C3","\u52E4","\u7F5A","\u7126","\u6F5C","\u4F0D","\u58A8","\u6B32","\u7F1D","\u59D3","\u520A","\u9971","\u4EFF","\u5956","\u94DD","\u9B3C","\u4E3D","\u8DE8","\u9ED8","\u6316","\u94FE","\u626B","\u559D","\u888B","\u70AD","\u6C61","\u5E55","\u8BF8","\u5F27","\u52B1","\u6885","\u5976","\u6D01","\u707E","\u821F","\u9274","\u82EF","\u8BBC","\u62B1","\u6BC1","\u61C2","\u5BD2","\u667A","\u57D4","\u5BC4","\u5C4A","\u8DC3","\u6E21","\u6311","\u4E39","\u8270","\u8D1D","\u78B0","\u62D4","\u7239","\u6234","\u7801","\u68A6","\u82BD","\u7194","\u8D64","\u6E14","\u54ED","\u656C","\u9897","\u5954","\u94C5","\u4EF2","\u864E","\u7A00","\u59B9","\u4E4F","\u73CD","\u7533","\u684C","\u9075","\u5141","\u9686","\u87BA","\u4ED3","\u9B4F","\u9510","\u6653","\u6C2E","\u517C","\u9690","\u788D","\u8D6B","\u62E8","\u5FE0","\u8083","\u7F38","\u7275","\u62A2","\u535A","\u5DE7","\u58F3","\u5144","\u675C","\u8BAF","\u8BDA","\u78A7","\u7965","\u67EF","\u9875","\u5DE1","\u77E9","\u60B2","\u704C","\u9F84","\u4F26","\u7968","\u5BFB","\u6842","\u94FA","\u5723","\u6050","\u6070","\u90D1","\u8DA3","\u62AC","\u8352","\u817E","\u8D34","\u67D4","\u6EF4","\u731B","\u9614","\u8F86","\u59BB","\u586B","\u64A4","\u50A8","\u7B7E","\u95F9","\u6270","\u7D2B","\u7802","\u9012","\u620F","\u540A","\u9676","\u4F10","\u5582","\u7597","\u74F6","\u5A46","\u629A","\u81C2","\u6478","\u5FCD","\u867E","\u8721","\u90BB","\u80F8","\u5DE9","\u6324","\u5076","\u5F03","\u69FD","\u52B2","\u4E73","\u9093","\u5409","\u4EC1","\u70C2","\u7816","\u79DF","\u4E4C","\u8230","\u4F34","\u74DC","\u6D45","\u4E19","\u6682","\u71E5","\u6A61","\u67F3","\u8FF7","\u6696","\u724C","\u79E7","\u80C6","\u8BE6","\u7C27","\u8E0F","\u74F7","\u8C31","\u5446","\u5BBE","\u7CCA","\u6D1B","\u8F89","\u6124","\u7ADE","\u9699","\u6012","\u7C98","\u4E43","\u7EEA","\u80A9","\u7C4D","\u654F","\u6D82","\u7199","\u7686","\u4FA6","\u60AC","\u6398","\u4EAB","\u7EA0","\u9192","\u72C2","\u9501","\u6DC0","\u6068","\u7272","\u9738","\u722C","\u8D4F","\u9006","\u73A9","\u9675","\u795D","\u79D2","\u6D59","\u8C8C","\u5F79","\u5F7C","\u6089","\u9E2D","\u8D8B","\u51E4","\u6668","\u755C","\u8F88","\u79E9","\u5375","\u7F72","\u68AF","\u708E","\u6EE9","\u68CB","\u9A71","\u7B5B","\u5CE1","\u5192","\u5565","\u5BFF","\u8BD1","\u6D78","\u6CC9","\u5E3D","\u8FDF","\u7845","\u7586","\u8D37","\u6F0F","\u7A3F","\u51A0","\u5AE9","\u80C1","\u82AF","\u7262","\u53DB","\u8680","\u5965","\u9E23","\u5CAD","\u7F8A","\u51ED","\u4E32","\u5858","\u7ED8","\u9175","\u878D","\u76C6","\u9521","\u5E99","\u7B79","\u51BB","\u8F85","\u6444","\u88AD","\u7B4B","\u62D2","\u50DA","\u65F1","\u94BE","\u9E1F","\u6F06","\u6C88","\u7709","\u758F","\u6DFB","\u68D2","\u7A57","\u785D","\u97E9","\u903C","\u626D","\u4FA8","\u51C9","\u633A","\u7897","\u683D","\u7092","\u676F","\u60A3","\u998F","\u529D","\u8C6A","\u8FBD","\u52C3","\u9E3F","\u65E6","\u540F","\u62DC","\u72D7","\u57CB","\u8F8A","\u63A9","\u996E","\u642C","\u9A82","\u8F9E","\u52FE","\u6263","\u4F30","\u848B","\u7ED2","\u96FE","\u4E08","\u6735","\u59C6","\u62DF","\u5B87","\u8F91","\u9655","\u96D5","\u507F","\u84C4","\u5D07","\u526A","\u5021","\u5385","\u54AC","\u9A76","\u85AF","\u5237","\u65A5","\u756A","\u8D4B","\u5949","\u4F5B","\u6D47","\u6F2B","\u66FC","\u6247","\u9499","\u6843","\u6276","\u4ED4","\u8FD4","\u4FD7","\u4E8F","\u8154","\u978B","\u68F1","\u8986","\u6846","\u6084","\u53D4","\u649E","\u9A97","\u52D8","\u65FA","\u6CB8","\u5B64","\u5410","\u5B5F","\u6E20","\u5C48","\u75BE","\u5999","\u60DC","\u4EF0","\u72E0","\u80C0","\u8C10","\u629B","\u9709","\u6851","\u5C97","\u561B","\u8870","\u76D7","\u6E17","\u810F","\u8D56","\u6D8C","\u751C","\u66F9","\u9605","\u808C","\u54E9","\u5389","\u70C3","\u7EAC","\u6BC5","\u6628","\u4F2A","\u75C7","\u716E","\u53F9","\u9489","\u642D","\u830E","\u7B3C","\u9177","\u5077","\u5F13","\u9525","\u6052","\u6770","\u5751","\u9F3B","\u7FFC","\u7EB6","\u53D9","\u72F1","\u902E","\u7F50","\u7EDC","\u68DA","\u6291","\u81A8","\u852C","\u5BFA","\u9AA4","\u7A46","\u51B6","\u67AF","\u518C","\u5C38","\u51F8","\u7EC5","\u576F","\u727A","\u7130","\u8F70","\u6B23","\u664B","\u7626","\u5FA1","\u952D","\u9526","\u4E27","\u65EC","\u953B","\u5784","\u641C","\u6251","\u9080","\u4EAD","\u916F","\u8FC8","\u8212","\u8106","\u9176","\u95F2","\u5FE7","\u915A","\u987D","\u7FBD","\u6DA8","\u5378","\u4ED7","\u966A","\u8F9F","\u60E9","\u676D","\u59DA","\u809A","\u6349","\u98D8","\u6F02","\u6606","\u6B3A","\u543E","\u90CE","\u70F7","\u6C41","\u5475","\u9970","\u8427","\u96C5","\u90AE","\u8FC1","\u71D5","\u6492","\u59FB","\u8D74","\u5BB4","\u70E6","\u503A","\u5E10","\u6591","\u94C3","\u65E8","\u9187","\u8463","\u997C","\u96CF","\u59FF","\u62CC","\u5085","\u8179","\u59A5","\u63C9","\u8D24","\u62C6","\u6B6A","\u8461","\u80FA","\u4E22","\u6D69","\u5FBD","\u6602","\u57AB","\u6321","\u89C8","\u8D2A","\u6170","\u7F34","\u6C6A","\u614C","\u51AF","\u8BFA","\u59DC","\u8C0A","\u51F6","\u52A3","\u8BEC","\u8000","\u660F","\u8EBA","\u76C8","\u9A91","\u4E54","\u6EAA","\u4E1B","\u5362","\u62B9","\u95F7","\u54A8","\u522E","\u9A7E","\u7F06","\u609F","\u6458","\u94D2","\u63B7","\u9887","\u5E7B","\u67C4","\u60E0","\u60E8","\u4F73","\u4EC7","\u814A","\u7A9D","\u6DA4","\u5251","\u77A7","\u5821","\u6CFC","\u8471","\u7F69","\u970D","\u635E","\u80CE","\u82CD","\u6EE8","\u4FE9","\u6345","\u6E58","\u780D","\u971E","\u90B5","\u8404","\u75AF","\u6DEE","\u9042","\u718A","\u7CAA","\u70D8","\u5BBF","\u6863","\u6208","\u9A73","\u5AC2","\u88D5","\u5F99","\u7BAD","\u6350","\u80A0","\u6491","\u6652","\u8FA8","\u6BBF","\u83B2","\u644A","\u6405","\u9171","\u5C4F","\u75AB","\u54C0","\u8521","\u5835","\u6CAB","\u76B1","\u7545","\u53E0","\u9601","\u83B1","\u6572","\u8F96","\u94A9","\u75D5","\u575D","\u5DF7","\u997F","\u7978","\u4E18","\u7384","\u6E9C","\u66F0","\u903B","\u5F6D","\u5C1D","\u537F","\u59A8","\u8247","\u541E","\u97E6","\u6028","\u77EE","\u6B47"];t.exports=r});Fe("hKmMn",function(t,e){"use strict";var r=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];t.exports=r});Fe("lnczd",function(t,e){var r=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","acade\u0301mie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acque\u0301rir","acronyme","acteur","actif","actuel","adepte","ade\u0301quat","adhe\u0301sif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","ae\u0301rer","ae\u0301ronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agre\u0301able","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","alge\u0300bre","algue","alie\u0301ner","aliment","alle\u0301ger","alliage","allouer","allumer","alourdir","alpaga","altesse","alve\u0301ole","amateur","ambigu","ambre","ame\u0301nager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","ane\u0301antir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","ape\u0301ritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arte\u0301riel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannie\u0300re","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","be\u0301lier","belote","be\u0301ne\u0301fice","berceau","berger","berline","bermuda","besace","besogne","be\u0301tail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","bre\u0300che","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafe\u0301ine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","came\u0301ra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","ce\u0301dille","ceinture","ce\u0301leste","cellule","cendrier","censurer","central","cercle","ce\u0301re\u0301bral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","che\u0301quier","chercher","cheval","chien","chiffre","chignon","chime\u0300re","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cine\u0301ma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohe\u0301sion","coiffer","coincer","cole\u0300re","colibri","colline","colmater","colonel","combat","come\u0301die","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","corte\u0300ge","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","cre\u0301ature","cre\u0301diter","cre\u0301meux","creuser","crevette","cribler","crier","cristal","crite\u0300re","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuille\u0300re","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","de\u0301battre","de\u0301biter","de\u0301border","de\u0301brider","de\u0301butant","de\u0301caler","de\u0301cembre","de\u0301chirer","de\u0301cider","de\u0301clarer","de\u0301corer","de\u0301crire","de\u0301cupler","de\u0301dale","de\u0301ductif","de\u0301esse","de\u0301fensif","de\u0301filer","de\u0301frayer","de\u0301gager","de\u0301givrer","de\u0301glutir","de\u0301grafer","de\u0301jeuner","de\u0301lice","de\u0301loger","demander","demeurer","de\u0301molir","de\u0301nicher","de\u0301nouer","dentelle","de\u0301nuder","de\u0301part","de\u0301penser","de\u0301phaser","de\u0301placer","de\u0301poser","de\u0301ranger","de\u0301rober","de\u0301sastre","descente","de\u0301sert","de\u0301signer","de\u0301sobe\u0301ir","dessiner","destrier","de\u0301tacher","de\u0301tester","de\u0301tourer","de\u0301tresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","diffe\u0301rer","dige\u0301rer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","e\u0301blouir","e\u0301carter","e\u0301charpe","e\u0301chelle","e\u0301clairer","e\u0301clipse","e\u0301clore","e\u0301cluse","e\u0301cole","e\u0301conomie","e\u0301corce","e\u0301couter","e\u0301craser","e\u0301cre\u0301mer","e\u0301crivain","e\u0301crou","e\u0301cume","e\u0301cureuil","e\u0301difier","e\u0301duquer","effacer","effectif","effigie","effort","effrayer","effusion","e\u0301galiser","e\u0301garer","e\u0301jecter","e\u0301laborer","e\u0301largir","e\u0301lectron","e\u0301le\u0301gant","e\u0301le\u0301phant","e\u0301le\u0300ve","e\u0301ligible","e\u0301litisme","e\u0301loge","e\u0301lucider","e\u0301luder","emballer","embellir","embryon","e\u0301meraude","e\u0301mission","emmener","e\u0301motion","e\u0301mouvoir","empereur","employer","emporter","emprise","e\u0301mulsion","encadrer","enche\u0300re","enclave","encoche","endiguer","endosser","endroit","enduire","e\u0301nergie","enfance","enfermer","enfouir","engager","engin","englober","e\u0301nigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","e\u0301nume\u0301rer","envahir","enviable","envoyer","enzyme","e\u0301olien","e\u0301paissir","e\u0301pargne","e\u0301patant","e\u0301paule","e\u0301picerie","e\u0301pide\u0301mie","e\u0301pier","e\u0301pilogue","e\u0301pine","e\u0301pisode","e\u0301pitaphe","e\u0301poque","e\u0301preuve","e\u0301prouver","e\u0301puisant","e\u0301querre","e\u0301quipe","e\u0301riger","e\u0301rosion","erreur","e\u0301ruption","escalier","espadon","espe\u0300ce","espie\u0300gle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","e\u0301tage\u0300re","e\u0301taler","e\u0301tanche","e\u0301tatique","e\u0301teindre","e\u0301tendoir","e\u0301ternel","e\u0301thanol","e\u0301thique","ethnie","e\u0301tirer","e\u0301toffer","e\u0301toile","e\u0301tonnant","e\u0301tourdir","e\u0301trange","e\u0301troit","e\u0301tude","euphorie","e\u0301valuer","e\u0301vasion","e\u0301ventail","e\u0301vidence","e\u0301viter","e\u0301volutif","e\u0301voquer","exact","exage\u0301rer","exaucer","exceller","excitant","exclusif","excuse","exe\u0301cuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expe\u0301dier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fe\u0301brile","fe\u0301conder","fe\u0301de\u0301rer","fe\u0301lin","femme","fe\u0301mur","fendoir","fe\u0301odal","fermer","fe\u0301roce","ferveur","festival","feuille","feutre","fe\u0301vrier","fiasco","ficeler","fictif","fide\u0300le","figure","filature","filetage","filie\u0300re","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fle\u0301au","fle\u0300che","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fouge\u0300re","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fre\u0301gate","freiner","frelon","fre\u0301mir","fre\u0301ne\u0301sie","fre\u0300re","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","ge\u0301ant","ge\u0301latine","ge\u0301lule","gendarme","ge\u0301ne\u0301ral","ge\u0301nie","genou","gentil","ge\u0301ologie","ge\u0301ome\u0300tre","ge\u0301ranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruye\u0300re","gue\u0301pard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","he\u0301lium","he\u0301matome","herbe","he\u0301risson","hermine","he\u0301ron","he\u0301siter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homoge\u0300ne","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygie\u0300ne","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impe\u0301rial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","ine\u0301dit","ineptie","inexact","infini","infliger","informer","infusion","inge\u0301rer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irre\u0301el","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juve\u0301nile","kayak","kimono","kiosque","label","labial","labourer","lace\u0301rer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","le\u0301gal","le\u0301ger","le\u0301gume","lessive","lettre","levier","lexique","le\u0301zard","liasse","libe\u0301rer","libre","licence","licorne","lie\u0300ge","lie\u0300vre","ligature","ligoter","ligue","limer","limite","limonade","limpide","line\u0301aire","lingot","lionceau","liquide","lisie\u0300re","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumie\u0300re","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","male\u0301fice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","mate\u0301riel","matie\u0300re","matraque","maudire","maussade","mauve","maximal","me\u0301chant","me\u0301connu","me\u0301daille","me\u0301decin","me\u0301diter","me\u0301duse","meilleur","me\u0301lange","me\u0301lodie","membre","me\u0301moire","menacer","mener","menhir","mensonge","mentor","mercredi","me\u0301rite","merle","messager","mesure","me\u0301tal","me\u0301te\u0301ore","me\u0301thode","me\u0301tier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mine\u0301ral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","mure\u0300ne","murmure","muscle","muse\u0301um","musicien","mutation","muter","mutuel","myriade","myrtille","myste\u0300re","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","ne\u0301buleux","nectar","ne\u0301faste","ne\u0301gation","ne\u0301gliger","ne\u0301gocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","nume\u0301ro","nuptial","nuque","nutritif","obe\u0301ir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","oce\u0301an","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","one\u0301reux","onirique","opale","opaque","ope\u0301rer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxyge\u0300ne","ozone","paisible","palace","palmare\u0300s","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","paste\u0300que","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pe\u0301lican","pelle","pelouse","peluche","pendule","pe\u0301ne\u0301trer","pe\u0301nible","pensif","pe\u0301nurie","pe\u0301pite","pe\u0301plum","perdrix","perforer","pe\u0301riode","permuter","perplexe","persil","perte","peser","pe\u0301tale","petit","pe\u0301trir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pie\u0300ce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poe\u0301sie","poe\u0300te","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponde\u0301rer","poney","portique","position","posse\u0301der","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","pre\u0301cieux","pre\u0301dire","pre\u0301fixe","pre\u0301lude","pre\u0301nom","pre\u0301sence","pre\u0301texte","pre\u0301voir","primitif","prince","prison","priver","proble\u0300me","proce\u0301der","prodige","profond","progre\u0300s","proie","projeter","prologue","promener","propre","prospe\u0300re","prote\u0301ger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quie\u0301tude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","re\u0301actif","re\u0301agir","re\u0301aliser","re\u0301animer","recevoir","re\u0301citer","re\u0301clamer","re\u0301colter","recruter","reculer","recycler","re\u0301diger","redouter","refaire","re\u0301flexe","re\u0301former","refrain","refuge","re\u0301galien","re\u0301gion","re\u0301glage","re\u0301gulier","re\u0301ite\u0301rer","rejeter","rejouer","relatif","relever","relief","remarque","reme\u0300de","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","re\u0301serve","re\u0301sineux","re\u0301soudre","respect","rester","re\u0301sultat","re\u0301tablir","retenir","re\u0301ticule","retomber","retracer","re\u0301union","re\u0301ussir","revanche","revivre","re\u0301volte","re\u0301vulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivie\u0300re","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","sce\u0301le\u0301rat","sce\u0301nario","sceptre","sche\u0301ma","science","scinder","score","scrutin","sculpter","se\u0301ance","se\u0301cable","se\u0301cher","secouer","se\u0301cre\u0301ter","se\u0301datif","se\u0301duire","seigneur","se\u0301jour","se\u0301lectif","semaine","sembler","semence","se\u0301minal","se\u0301nateur","sensible","sentence","se\u0301parer","se\u0301quence","serein","sergent","se\u0301rieux","serrure","se\u0301rum","service","se\u0301same","se\u0301vir","sevrage","sextuple","side\u0301ral","sie\u0300cle","sie\u0301ger","siffler","sigle","signal","silence","silicium","simple","since\u0300re","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spe\u0301cial","sphe\u0300re","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succe\u0300s","sucre","suffixe","sugge\u0301rer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","syme\u0301trie","synapse","syntaxe","syste\u0300me","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","te\u0301moin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","te\u0301tine","texte","the\u0300me","the\u0301orie","the\u0301rapie","thorax","tibia","tie\u0300de","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tole\u0301rant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","tre\u0300fle","tremper","tre\u0301sor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","ve\u0301ge\u0301tal","ve\u0301hicule","veinard","ve\u0301loce","vendredi","ve\u0301ne\u0301rer","venger","venimeux","ventouse","verdure","ve\u0301rin","vernir","verrou","verser","vertu","veston","ve\u0301te\u0301ran","ve\u0301tuste","vexant","vexer","viaduc","viande","victoire","vidange","vide\u0301o","vignette","vigueur","vilain","village","vinaigre","violon","vipe\u0300re","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xe\u0301non","yacht","ze\u0300bre","ze\u0301nith","zeste","zoologie"];t.exports=r});Fe("dr8eV",function(t,e){"use strict";var r=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"];t.exports=r});Fe("9uq94",function(t,e){"use strict";var r=["\u3042\u3044\u3053\u304F\u3057\u3093","\u3042\u3044\u3055\u3064","\u3042\u3044\u305F\u3099","\u3042\u304A\u305D\u3099\u3089","\u3042\u304B\u3061\u3083\u3093","\u3042\u304D\u308B","\u3042\u3051\u304B\u3099\u305F","\u3042\u3051\u308B","\u3042\u3053\u304B\u3099\u308C\u308B","\u3042\u3055\u3044","\u3042\u3055\u3072","\u3042\u3057\u3042\u3068","\u3042\u3057\u3099\u308F\u3046","\u3042\u3059\u3099\u304B\u308B","\u3042\u3059\u3099\u304D","\u3042\u305D\u3075\u3099","\u3042\u305F\u3048\u308B","\u3042\u305F\u305F\u3081\u308B","\u3042\u305F\u308A\u307E\u3048","\u3042\u305F\u308B","\u3042\u3064\u3044","\u3042\u3064\u304B\u3046","\u3042\u3063\u3057\u3085\u304F","\u3042\u3064\u307E\u308A","\u3042\u3064\u3081\u308B","\u3042\u3066\u306A","\u3042\u3066\u306F\u307E\u308B","\u3042\u3072\u308B","\u3042\u3075\u3099\u3089","\u3042\u3075\u3099\u308B","\u3042\u3075\u308C\u308B","\u3042\u307E\u3044","\u3042\u307E\u3068\u3099","\u3042\u307E\u3084\u304B\u3059","\u3042\u307E\u308A","\u3042\u307F\u3082\u306E","\u3042\u3081\u308A\u304B","\u3042\u3084\u307E\u308B","\u3042\u3086\u3080","\u3042\u3089\u3044\u304F\u3099\u307E","\u3042\u3089\u3057","\u3042\u3089\u3059\u3057\u3099","\u3042\u3089\u305F\u3081\u308B","\u3042\u3089\u3086\u308B","\u3042\u3089\u308F\u3059","\u3042\u308A\u304B\u3099\u3068\u3046","\u3042\u308F\u305B\u308B","\u3042\u308F\u3066\u308B","\u3042\u3093\u3044","\u3042\u3093\u304B\u3099\u3044","\u3042\u3093\u3053","\u3042\u3093\u305B\u3099\u3093","\u3042\u3093\u3066\u3044","\u3042\u3093\u306A\u3044","\u3042\u3093\u307E\u308A","\u3044\u3044\u305F\u3099\u3059","\u3044\u304A\u3093","\u3044\u304B\u3099\u3044","\u3044\u304B\u3099\u304F","\u3044\u304D\u304A\u3044","\u3044\u304D\u306A\u308A","\u3044\u304D\u3082\u306E","\u3044\u304D\u308B","\u3044\u304F\u3057\u3099","\u3044\u304F\u3075\u3099\u3093","\u3044\u3051\u306F\u3099\u306A","\u3044\u3051\u3093","\u3044\u3053\u3046","\u3044\u3053\u304F","\u3044\u3053\u3064","\u3044\u3055\u307E\u3057\u3044","\u3044\u3055\u3093","\u3044\u3057\u304D","\u3044\u3057\u3099\u3085\u3046","\u3044\u3057\u3099\u3087\u3046","\u3044\u3057\u3099\u308F\u308B","\u3044\u3059\u3099\u307F","\u3044\u3059\u3099\u308C","\u3044\u305B\u3044","\u3044\u305B\u3048\u3072\u3099","\u3044\u305B\u304B\u3044","\u3044\u305B\u304D","\u3044\u305B\u3099\u3093","\u3044\u305D\u3046\u308D\u3046","\u3044\u305D\u304B\u3099\u3057\u3044","\u3044\u305F\u3099\u3044","\u3044\u305F\u3099\u304F","\u3044\u305F\u3059\u3099\u3089","\u3044\u305F\u307F","\u3044\u305F\u308A\u3042","\u3044\u3061\u304A\u3046","\u3044\u3061\u3057\u3099","\u3044\u3061\u3068\u3099","\u3044\u3061\u306F\u3099","\u3044\u3061\u3075\u3099","\u3044\u3061\u308A\u3085\u3046","\u3044\u3064\u304B","\u3044\u3063\u3057\u3085\u3093","\u3044\u3063\u305B\u3044","\u3044\u3063\u305D\u3046","\u3044\u3063\u305F\u3093","\u3044\u3063\u3061","\u3044\u3063\u3066\u3044","\u3044\u3063\u307B\u309A\u3046","\u3044\u3066\u3055\u3099","\u3044\u3066\u3093","\u3044\u3068\u3099\u3046","\u3044\u3068\u3053","\u3044\u306A\u3044","\u3044\u306A\u304B","\u3044\u306D\u3080\u308A","\u3044\u306E\u3061","\u3044\u306E\u308B","\u3044\u306F\u3064","\u3044\u306F\u3099\u308B","\u3044\u306F\u3093","\u3044\u3072\u3099\u304D","\u3044\u3072\u3093","\u3044\u3075\u304F","\u3044\u3078\u3093","\u3044\u307B\u3046","\u3044\u307F\u3093","\u3044\u3082\u3046\u3068","\u3044\u3082\u305F\u308C","\u3044\u3082\u308A","\u3044\u3084\u304B\u3099\u308B","\u3044\u3084\u3059","\u3044\u3088\u304B\u3093","\u3044\u3088\u304F","\u3044\u3089\u3044","\u3044\u3089\u3059\u3068","\u3044\u308A\u304F\u3099\u3061","\u3044\u308A\u3087\u3046","\u3044\u308C\u3044","\u3044\u308C\u3082\u306E","\u3044\u308C\u308B","\u3044\u308D\u3048\u3093\u3072\u309A\u3064","\u3044\u308F\u3044","\u3044\u308F\u3046","\u3044\u308F\u304B\u3093","\u3044\u308F\u306F\u3099","\u3044\u308F\u3086\u308B","\u3044\u3093\u3051\u3099\u3093\u307E\u3081","\u3044\u3093\u3055\u3064","\u3044\u3093\u3057\u3087\u3046","\u3044\u3093\u3088\u3046","\u3046\u3048\u304D","\u3046\u3048\u308B","\u3046\u304A\u3055\u3099","\u3046\u304B\u3099\u3044","\u3046\u304B\u3075\u3099","\u3046\u304B\u3078\u3099\u308B","\u3046\u304D\u308F","\u3046\u304F\u3089\u3044\u306A","\u3046\u304F\u308C\u308C","\u3046\u3051\u305F\u307E\u308F\u308B","\u3046\u3051\u3064\u3051","\u3046\u3051\u3068\u308B","\u3046\u3051\u3082\u3064","\u3046\u3051\u308B","\u3046\u3053\u3099\u304B\u3059","\u3046\u3053\u3099\u304F","\u3046\u3053\u3093","\u3046\u3055\u304D\u3099","\u3046\u3057\u306A\u3046","\u3046\u3057\u308D\u304B\u3099\u307F","\u3046\u3059\u3044","\u3046\u3059\u304D\u3099","\u3046\u3059\u304F\u3099\u3089\u3044","\u3046\u3059\u3081\u308B","\u3046\u305B\u3064","\u3046\u3061\u3042\u308F\u305B","\u3046\u3061\u304B\u3099\u308F","\u3046\u3061\u304D","\u3046\u3061\u3085\u3046","\u3046\u3063\u304B\u308A","\u3046\u3064\u304F\u3057\u3044","\u3046\u3063\u305F\u3048\u308B","\u3046\u3064\u308B","\u3046\u3068\u3099\u3093","\u3046\u306A\u304D\u3099","\u3046\u306A\u3057\u3099","\u3046\u306A\u3059\u3099\u304F","\u3046\u306A\u308B","\u3046\u306D\u308B","\u3046\u306E\u3046","\u3046\u3075\u3099\u3051\u3099","\u3046\u3075\u3099\u3053\u3099\u3048","\u3046\u307E\u308C\u308B","\u3046\u3081\u308B","\u3046\u3082\u3046","\u3046\u3084\u307E\u3046","\u3046\u3088\u304F","\u3046\u3089\u304B\u3099\u3048\u3059","\u3046\u3089\u304F\u3099\u3061","\u3046\u3089\u306A\u3044","\u3046\u308A\u3042\u3051\u3099","\u3046\u308A\u304D\u308C","\u3046\u308B\u3055\u3044","\u3046\u308C\u3057\u3044","\u3046\u308C\u3086\u304D","\u3046\u308C\u308B","\u3046\u308D\u3053","\u3046\u308F\u304D","\u3046\u308F\u3055","\u3046\u3093\u3053\u3046","\u3046\u3093\u3061\u3093","\u3046\u3093\u3066\u3093","\u3046\u3093\u3068\u3099\u3046","\u3048\u3044\u3048\u3093","\u3048\u3044\u304B\u3099","\u3048\u3044\u304D\u3087\u3046","\u3048\u3044\u3053\u3099","\u3048\u3044\u305B\u3044","\u3048\u3044\u3075\u3099\u3093","\u3048\u3044\u3088\u3046","\u3048\u3044\u308F","\u3048\u304A\u308A","\u3048\u304B\u3099\u304A","\u3048\u304B\u3099\u304F","\u3048\u304D\u305F\u3044","\u3048\u304F\u305B\u308B","\u3048\u3057\u3083\u304F","\u3048\u3059\u3066","\u3048\u3064\u3089\u3093","\u3048\u306E\u304F\u3099","\u3048\u307B\u3046\u307E\u304D","\u3048\u307B\u3093","\u3048\u307E\u304D","\u3048\u3082\u3057\u3099","\u3048\u3082\u306E","\u3048\u3089\u3044","\u3048\u3089\u3075\u3099","\u3048\u308A\u3042","\u3048\u3093\u3048\u3093","\u3048\u3093\u304B\u3044","\u3048\u3093\u304D\u3099","\u3048\u3093\u3051\u3099\u304D","\u3048\u3093\u3057\u3085\u3046","\u3048\u3093\u305B\u3099\u3064","\u3048\u3093\u305D\u304F","\u3048\u3093\u3061\u3087\u3046","\u3048\u3093\u3068\u3064","\u304A\u3044\u304B\u3051\u308B","\u304A\u3044\u3053\u3059","\u304A\u3044\u3057\u3044","\u304A\u3044\u3064\u304F","\u304A\u3046\u3048\u3093","\u304A\u3046\u3055\u307E","\u304A\u3046\u3057\u3099","\u304A\u3046\u305B\u3064","\u304A\u3046\u305F\u3044","\u304A\u3046\u3075\u304F","\u304A\u3046\u3078\u3099\u3044","\u304A\u3046\u3088\u3046","\u304A\u3048\u308B","\u304A\u304A\u3044","\u304A\u304A\u3046","\u304A\u304A\u3068\u3099\u304A\u308A","\u304A\u304A\u3084","\u304A\u304A\u3088\u305D","\u304A\u304B\u3048\u308A","\u304A\u304B\u3059\u3099","\u304A\u304B\u3099\u3080","\u304A\u304B\u308F\u308A","\u304A\u304D\u3099\u306A\u3046","\u304A\u304D\u308B","\u304A\u304F\u3055\u307E","\u304A\u304F\u3057\u3099\u3087\u3046","\u304A\u304F\u308A\u304B\u3099\u306A","\u304A\u304F\u308B","\u304A\u304F\u308C\u308B","\u304A\u3053\u3059","\u304A\u3053\u306A\u3046","\u304A\u3053\u308B","\u304A\u3055\u3048\u308B","\u304A\u3055\u306A\u3044","\u304A\u3055\u3081\u308B","\u304A\u3057\u3044\u308C","\u304A\u3057\u3048\u308B","\u304A\u3057\u3099\u304D\u3099","\u304A\u3057\u3099\u3055\u3093","\u304A\u3057\u3083\u308C","\u304A\u305D\u3089\u304F","\u304A\u305D\u308F\u308B","\u304A\u305F\u304B\u3099\u3044","\u304A\u305F\u304F","\u304A\u305F\u3099\u3084\u304B","\u304A\u3061\u3064\u304F","\u304A\u3063\u3068","\u304A\u3064\u308A","\u304A\u3066\u3099\u304B\u3051","\u304A\u3068\u3057\u3082\u306E","\u304A\u3068\u306A\u3057\u3044","\u304A\u3068\u3099\u308A","\u304A\u3068\u3099\u308D\u304B\u3059","\u304A\u306F\u3099\u3055\u3093","\u304A\u307E\u3044\u308A","\u304A\u3081\u3066\u3099\u3068\u3046","\u304A\u3082\u3044\u3066\u3099","\u304A\u3082\u3046","\u304A\u3082\u305F\u3044","\u304A\u3082\u3061\u3083","\u304A\u3084\u3064","\u304A\u3084\u3086\u3072\u3099","\u304A\u3088\u307B\u3099\u3059","\u304A\u3089\u3093\u305F\u3099","\u304A\u308D\u3059","\u304A\u3093\u304B\u3099\u304F","\u304A\u3093\u3051\u3044","\u304A\u3093\u3057\u3083","\u304A\u3093\u305B\u3093","\u304A\u3093\u305F\u3099\u3093","\u304A\u3093\u3061\u3085\u3046","\u304A\u3093\u3068\u3099\u3051\u3044","\u304B\u3042\u3064","\u304B\u3044\u304B\u3099","\u304B\u3099\u3044\u304D","\u304B\u3099\u3044\u3051\u3093","\u304B\u3099\u3044\u3053\u3046","\u304B\u3044\u3055\u3064","\u304B\u3044\u3057\u3083","\u304B\u3044\u3059\u3044\u3088\u304F","\u304B\u3044\u305B\u3099\u3093","\u304B\u3044\u305D\u3099\u3046\u3068\u3099","\u304B\u3044\u3064\u3046","\u304B\u3044\u3066\u3093","\u304B\u3044\u3068\u3046","\u304B\u3044\u3075\u304F","\u304B\u3099\u3044\u3078\u304D","\u304B\u3044\u307B\u3046","\u304B\u3044\u3088\u3046","\u304B\u3099\u3044\u3089\u3044","\u304B\u3044\u308F","\u304B\u3048\u308B","\u304B\u304A\u308A","\u304B\u304B\u3048\u308B","\u304B\u304B\u3099\u304F","\u304B\u304B\u3099\u3057","\u304B\u304B\u3099\u307F","\u304B\u304F\u3053\u3099","\u304B\u304F\u3068\u304F","\u304B\u3055\u3099\u308B","\u304B\u3099\u305D\u3099\u3046","\u304B\u305F\u3044","\u304B\u305F\u3061","\u304B\u3099\u3061\u3087\u3046","\u304B\u3099\u3063\u304D\u3085\u3046","\u304B\u3099\u3063\u3053\u3046","\u304B\u3099\u3063\u3055\u3093","\u304B\u3099\u3063\u3057\u3087\u3046","\u304B\u306A\u3055\u3099\u308F\u3057","\u304B\u306E\u3046","\u304B\u3099\u306F\u304F","\u304B\u3075\u3099\u304B","\u304B\u307B\u3046","\u304B\u307B\u3053\u3099","\u304B\u307E\u3046","\u304B\u307E\u307B\u3099\u3053","\u304B\u3081\u308C\u304A\u3093","\u304B\u3086\u3044","\u304B\u3088\u3046\u3072\u3099","\u304B\u3089\u3044","\u304B\u308B\u3044","\u304B\u308D\u3046","\u304B\u308F\u304F","\u304B\u308F\u3089","\u304B\u3099\u3093\u304B","\u304B\u3093\u3051\u3044","\u304B\u3093\u3053\u3046","\u304B\u3093\u3057\u3083","\u304B\u3093\u305D\u3046","\u304B\u3093\u305F\u3093","\u304B\u3093\u3061","\u304B\u3099\u3093\u306F\u3099\u308B","\u304D\u3042\u3044","\u304D\u3042\u3064","\u304D\u3044\u308D","\u304D\u3099\u3044\u3093","\u304D\u3046\u3044","\u304D\u3046\u3093","\u304D\u3048\u308B","\u304D\u304A\u3046","\u304D\u304A\u304F","\u304D\u304A\u3061","\u304D\u304A\u3093","\u304D\u304B\u3044","\u304D\u304B\u304F","\u304D\u304B\u3093\u3057\u3083","\u304D\u304D\u3066","\u304D\u304F\u306F\u3099\u308A","\u304D\u304F\u3089\u3051\u3099","\u304D\u3051\u3093\u305B\u3044","\u304D\u3053\u3046","\u304D\u3053\u3048\u308B","\u304D\u3053\u304F","\u304D\u3055\u3044","\u304D\u3055\u304F","\u304D\u3055\u307E","\u304D\u3055\u3089\u304D\u3099","\u304D\u3099\u3057\u3099\u304B\u304B\u3099\u304F","\u304D\u3099\u3057\u304D","\u304D\u3099\u3057\u3099\u305F\u3044\u3051\u3093","\u304D\u3099\u3057\u3099\u306B\u3063\u3066\u3044","\u304D\u3099\u3057\u3099\u3085\u3064\u3057\u3083","\u304D\u3059\u3046","\u304D\u305B\u3044","\u304D\u305B\u304D","\u304D\u305B\u3064","\u304D\u305D\u3046","\u304D\u305D\u3099\u304F","\u304D\u305D\u3099\u3093","\u304D\u305F\u3048\u308B","\u304D\u3061\u3087\u3046","\u304D\u3064\u3048\u3093","\u304D\u3099\u3063\u3061\u308A","\u304D\u3064\u3064\u304D","\u304D\u3064\u306D","\u304D\u3066\u3044","\u304D\u3068\u3099\u3046","\u304D\u3068\u3099\u304F","\u304D\u306A\u3044","\u304D\u306A\u304B\u3099","\u304D\u306A\u3053","\u304D\u306C\u3053\u3099\u3057","\u304D\u306D\u3093","\u304D\u306E\u3046","\u304D\u306E\u3057\u305F","\u304D\u306F\u304F","\u304D\u3072\u3099\u3057\u3044","\u304D\u3072\u3093","\u304D\u3075\u304F","\u304D\u3075\u3099\u3093","\u304D\u307B\u3099\u3046","\u304D\u307B\u3093","\u304D\u307E\u308B","\u304D\u307F\u3064","\u304D\u3080\u3059\u3099\u304B\u3057\u3044","\u304D\u3081\u308B","\u304D\u3082\u305F\u3099\u3081\u3057","\u304D\u3082\u3061","\u304D\u3082\u306E","\u304D\u3083\u304F","\u304D\u3084\u304F","\u304D\u3099\u3085\u3046\u306B\u304F","\u304D\u3088\u3046","\u304D\u3087\u3046\u308A\u3085\u3046","\u304D\u3089\u3044","\u304D\u3089\u304F","\u304D\u308A\u3093","\u304D\u308C\u3044","\u304D\u308C\u3064","\u304D\u308D\u304F","\u304D\u3099\u308D\u3093","\u304D\u308F\u3081\u308B","\u304D\u3099\u3093\u3044\u308D","\u304D\u3093\u304B\u304F\u3057\u3099","\u304D\u3093\u3057\u3099\u3087","\u304D\u3093\u3088\u3046\u3072\u3099","\u304F\u3099\u3042\u3044","\u304F\u3044\u3059\u3099","\u304F\u3046\u304B\u3093","\u304F\u3046\u304D","\u304F\u3046\u304F\u3099\u3093","\u304F\u3046\u3053\u3046","\u304F\u3099\u3046\u305B\u3044","\u304F\u3046\u305D\u3046","\u304F\u3099\u3046\u305F\u3089","\u304F\u3046\u3075\u304F","\u304F\u3046\u307B\u3099","\u304F\u304B\u3093","\u304F\u304D\u3087\u3046","\u304F\u3051\u3099\u3093","\u304F\u3099\u3053\u3046","\u304F\u3055\u3044","\u304F\u3055\u304D","\u304F\u3055\u306F\u3099\u306A","\u304F\u3055\u308B","\u304F\u3057\u3083\u307F","\u304F\u3057\u3087\u3046","\u304F\u3059\u306E\u304D","\u304F\u3059\u308A\u3086\u3072\u3099","\u304F\u305B\u3051\u3099","\u304F\u305B\u3093","\u304F\u3099\u305F\u3044\u3066\u304D","\u304F\u305F\u3099\u3055\u308B","\u304F\u305F\u3072\u3099\u308C\u308B","\u304F\u3061\u3053\u307F","\u304F\u3061\u3055\u304D","\u304F\u3064\u3057\u305F","\u304F\u3099\u3063\u3059\u308A","\u304F\u3064\u308D\u304F\u3099","\u304F\u3068\u3046\u3066\u3093","\u304F\u3068\u3099\u304F","\u304F\u306A\u3093","\u304F\u306D\u304F\u306D","\u304F\u306E\u3046","\u304F\u3075\u3046","\u304F\u307F\u3042\u308F\u305B","\u304F\u307F\u305F\u3066\u308B","\u304F\u3081\u308B","\u304F\u3084\u304F\u3057\u3087","\u304F\u3089\u3059","\u304F\u3089\u3078\u3099\u308B","\u304F\u308B\u307E","\u304F\u308C\u308B","\u304F\u308D\u3046","\u304F\u308F\u3057\u3044","\u304F\u3099\u3093\u304B\u3093","\u304F\u3099\u3093\u3057\u3087\u304F","\u304F\u3099\u3093\u305F\u3044","\u304F\u3099\u3093\u3066","\u3051\u3042\u306A","\u3051\u3044\u304B\u304F","\u3051\u3044\u3051\u3093","\u3051\u3044\u3053","\u3051\u3044\u3055\u3064","\u3051\u3099\u3044\u3057\u3099\u3085\u3064","\u3051\u3044\u305F\u3044","\u3051\u3099\u3044\u306E\u3046\u3057\u3099\u3093","\u3051\u3044\u308C\u304D","\u3051\u3044\u308D","\u3051\u304A\u3068\u3059","\u3051\u304A\u308A\u3082\u306E","\u3051\u3099\u304D\u304B","\u3051\u3099\u304D\u3051\u3099\u3093","\u3051\u3099\u304D\u305F\u3099\u3093","\u3051\u3099\u304D\u3061\u3093","\u3051\u3099\u304D\u3068\u3064","\u3051\u3099\u304D\u306F","\u3051\u3099\u304D\u3084\u304F","\u3051\u3099\u3053\u3046","\u3051\u3099\u3053\u304F\u3057\u3099\u3087\u3046","\u3051\u3099\u3055\u3099\u3044","\u3051\u3055\u304D","\u3051\u3099\u3055\u3099\u3093","\u3051\u3057\u304D","\u3051\u3057\u3053\u3099\u3080","\u3051\u3057\u3087\u3046","\u3051\u3099\u3059\u3068","\u3051\u305F\u306F\u3099","\u3051\u3061\u3083\u3063\u3075\u309A","\u3051\u3061\u3089\u3059","\u3051\u3064\u3042\u3064","\u3051\u3064\u3044","\u3051\u3064\u3048\u304D","\u3051\u3063\u3053\u3093","\u3051\u3064\u3057\u3099\u3087","\u3051\u3063\u305B\u304D","\u3051\u3063\u3066\u3044","\u3051\u3064\u307E\u3064","\u3051\u3099\u3064\u3088\u3046\u3072\u3099","\u3051\u3099\u3064\u308C\u3044","\u3051\u3064\u308D\u3093","\u3051\u3099\u3068\u3099\u304F","\u3051\u3068\u306F\u3099\u3059","\u3051\u3068\u308B","\u3051\u306A\u3051\u3099","\u3051\u306A\u3059","\u3051\u306A\u307F","\u3051\u306C\u304D","\u3051\u3099\u306D\u3064","\u3051\u306D\u3093","\u3051\u306F\u3044","\u3051\u3099\u3072\u3093","\u3051\u3075\u3099\u304B\u3044","\u3051\u3099\u307B\u3099\u304F","\u3051\u307E\u308A","\u3051\u307F\u304B\u308B","\u3051\u3080\u3057","\u3051\u3080\u308A","\u3051\u3082\u306E","\u3051\u3089\u3044","\u3051\u308D\u3051\u308D","\u3051\u308F\u3057\u3044","\u3051\u3093\u3044","\u3051\u3093\u3048\u3064","\u3051\u3093\u304A","\u3051\u3093\u304B","\u3051\u3099\u3093\u304D","\u3051\u3093\u3051\u3099\u3093","\u3051\u3093\u3053\u3046","\u3051\u3093\u3055\u304F","\u3051\u3093\u3057\u3085\u3046","\u3051\u3093\u3059\u3046","\u3051\u3099\u3093\u305D\u3046","\u3051\u3093\u3061\u304F","\u3051\u3093\u3066\u3044","\u3051\u3093\u3068\u3046","\u3051\u3093\u306A\u3044","\u3051\u3093\u306B\u3093","\u3051\u3099\u3093\u3075\u3099\u3064","\u3051\u3093\u307E","\u3051\u3093\u307F\u3093","\u3051\u3093\u3081\u3044","\u3051\u3093\u3089\u3093","\u3051\u3093\u308A","\u3053\u3042\u304F\u307E","\u3053\u3044\u306C","\u3053\u3044\u3072\u3099\u3068","\u3053\u3099\u3046\u3044","\u3053\u3046\u3048\u3093","\u3053\u3046\u304A\u3093","\u3053\u3046\u304B\u3093","\u3053\u3099\u3046\u304D\u3085\u3046","\u3053\u3099\u3046\u3051\u3044","\u3053\u3046\u3053\u3046","\u3053\u3046\u3055\u3044","\u3053\u3046\u3057\u3099","\u3053\u3046\u3059\u3044","\u3053\u3099\u3046\u305B\u3044","\u3053\u3046\u305D\u304F","\u3053\u3046\u305F\u3044","\u3053\u3046\u3061\u3083","\u3053\u3046\u3064\u3046","\u3053\u3046\u3066\u3044","\u3053\u3046\u3068\u3099\u3046","\u3053\u3046\u306A\u3044","\u3053\u3046\u306F\u3044","\u3053\u3099\u3046\u307B\u3046","\u3053\u3099\u3046\u307E\u3093","\u3053\u3046\u3082\u304F","\u3053\u3046\u308A\u3064","\u3053\u3048\u308B","\u3053\u304A\u308A","\u3053\u3099\u304B\u3044","\u3053\u3099\u304B\u3099\u3064","\u3053\u3099\u304B\u3093","\u3053\u304F\u3053\u3099","\u3053\u304F\u3055\u3044","\u3053\u304F\u3068\u3046","\u3053\u304F\u306A\u3044","\u3053\u304F\u306F\u304F","\u3053\u304F\u3099\u307E","\u3053\u3051\u3044","\u3053\u3051\u308B","\u3053\u3053\u306E\u304B","\u3053\u3053\u308D","\u3053\u3055\u3081","\u3053\u3057\u3064","\u3053\u3059\u3046","\u3053\u305B\u3044","\u3053\u305B\u304D","\u3053\u305B\u3099\u3093","\u3053\u305D\u305F\u3099\u3066","\u3053\u305F\u3044","\u3053\u305F\u3048\u308B","\u3053\u305F\u3064","\u3053\u3061\u3087\u3046","\u3053\u3063\u304B","\u3053\u3064\u3053\u3064","\u3053\u3064\u306F\u3099\u3093","\u3053\u3064\u3075\u3099","\u3053\u3066\u3044","\u3053\u3066\u3093","\u3053\u3068\u304B\u3099\u3089","\u3053\u3068\u3057","\u3053\u3068\u306F\u3099","\u3053\u3068\u308A","\u3053\u306A\u3053\u3099\u306A","\u3053\u306D\u3053\u306D","\u3053\u306E\u307E\u307E","\u3053\u306E\u307F","\u3053\u306E\u3088","\u3053\u3099\u306F\u3093","\u3053\u3072\u3064\u3057\u3099","\u3053\u3075\u3046","\u3053\u3075\u3093","\u3053\u307B\u3099\u308C\u308B","\u3053\u3099\u307E\u3042\u3075\u3099\u3089","\u3053\u307E\u304B\u3044","\u3053\u3099\u307E\u3059\u308A","\u3053\u307E\u3064\u306A","\u3053\u307E\u308B","\u3053\u3080\u304D\u3099\u3053","\u3053\u3082\u3057\u3099","\u3053\u3082\u3061","\u3053\u3082\u306E","\u3053\u3082\u3093","\u3053\u3084\u304F","\u3053\u3084\u307E","\u3053\u3086\u3046","\u3053\u3086\u3072\u3099","\u3053\u3088\u3044","\u3053\u3088\u3046","\u3053\u308A\u308B","\u3053\u308C\u304F\u3057\u3087\u3093","\u3053\u308D\u3063\u3051","\u3053\u308F\u3082\u3066","\u3053\u308F\u308C\u308B","\u3053\u3093\u3044\u3093","\u3053\u3093\u304B\u3044","\u3053\u3093\u304D","\u3053\u3093\u3057\u3085\u3046","\u3053\u3093\u3059\u3044","\u3053\u3093\u305F\u3099\u3066","\u3053\u3093\u3068\u3093","\u3053\u3093\u306A\u3093","\u3053\u3093\u3072\u3099\u306B","\u3053\u3093\u307B\u309A\u3093","\u3053\u3093\u307E\u3051","\u3053\u3093\u3084","\u3053\u3093\u308C\u3044","\u3053\u3093\u308F\u304F","\u3055\u3099\u3044\u3048\u304D","\u3055\u3044\u304B\u3044","\u3055\u3044\u304D\u3093","\u3055\u3099\u3044\u3051\u3099\u3093","\u3055\u3099\u3044\u3053","\u3055\u3044\u3057\u3087","\u3055\u3044\u305B\u3044","\u3055\u3099\u3044\u305F\u304F","\u3055\u3099\u3044\u3061\u3085\u3046","\u3055\u3044\u3066\u304D","\u3055\u3099\u3044\u308A\u3087\u3046","\u3055\u3046\u306A","\u3055\u304B\u3044\u3057","\u3055\u304B\u3099\u3059","\u3055\u304B\u306A","\u3055\u304B\u307F\u3061","\u3055\u304B\u3099\u308B","\u3055\u304D\u3099\u3087\u3046","\u3055\u304F\u3057","\u3055\u304F\u3072\u3093","\u3055\u304F\u3089","\u3055\u3053\u304F","\u3055\u3053\u3064","\u3055\u3059\u3099\u304B\u308B","\u3055\u3099\u305B\u304D","\u3055\u305F\u3093","\u3055\u3064\u3048\u3044","\u3055\u3099\u3064\u304A\u3093","\u3055\u3099\u3063\u304B","\u3055\u3099\u3064\u304B\u3099\u304F","\u3055\u3063\u304D\u3087\u304F","\u3055\u3099\u3063\u3057","\u3055\u3064\u3057\u3099\u3093","\u3055\u3099\u3063\u305D\u3046","\u3055\u3064\u305F\u306F\u3099","\u3055\u3064\u307E\u3044\u3082","\u3055\u3066\u3044","\u3055\u3068\u3044\u3082","\u3055\u3068\u3046","\u3055\u3068\u304A\u3084","\u3055\u3068\u3057","\u3055\u3068\u308B","\u3055\u306E\u3046","\u3055\u306F\u3099\u304F","\u3055\u3072\u3099\u3057\u3044","\u3055\u3078\u3099\u3064","\u3055\u307B\u3046","\u3055\u307B\u3068\u3099","\u3055\u307E\u3059","\u3055\u307F\u3057\u3044","\u3055\u307F\u305F\u3099\u308C","\u3055\u3080\u3051","\u3055\u3081\u308B","\u3055\u3084\u3048\u3093\u3068\u3099\u3046","\u3055\u3086\u3046","\u3055\u3088\u3046","\u3055\u3088\u304F","\u3055\u3089\u305F\u3099","\u3055\u3099\u308B\u305D\u306F\u3099","\u3055\u308F\u3084\u304B","\u3055\u308F\u308B","\u3055\u3093\u3044\u3093","\u3055\u3093\u304B","\u3055\u3093\u304D\u3083\u304F","\u3055\u3093\u3053\u3046","\u3055\u3093\u3055\u3044","\u3055\u3099\u3093\u3057\u3087","\u3055\u3093\u3059\u3046","\u3055\u3093\u305B\u3044","\u3055\u3093\u305D","\u3055\u3093\u3061","\u3055\u3093\u307E","\u3055\u3093\u307F","\u3055\u3093\u3089\u3093","\u3057\u3042\u3044","\u3057\u3042\u3051\u3099","\u3057\u3042\u3055\u3063\u3066","\u3057\u3042\u308F\u305B","\u3057\u3044\u304F","\u3057\u3044\u3093","\u3057\u3046\u3061","\u3057\u3048\u3044","\u3057\u304A\u3051","\u3057\u304B\u3044","\u3057\u304B\u304F","\u3057\u3099\u304B\u3093","\u3057\u3053\u3099\u3068","\u3057\u3059\u3046","\u3057\u3099\u305F\u3099\u3044","\u3057\u305F\u3046\u3051","\u3057\u305F\u304D\u3099","\u3057\u305F\u3066","\u3057\u305F\u307F","\u3057\u3061\u3087\u3046","\u3057\u3061\u308A\u3093","\u3057\u3063\u304B\u308A","\u3057\u3064\u3057\u3099","\u3057\u3064\u3082\u3093","\u3057\u3066\u3044","\u3057\u3066\u304D","\u3057\u3066\u3064","\u3057\u3099\u3066\u3093","\u3057\u3099\u3068\u3099\u3046","\u3057\u306A\u304D\u3099\u308C","\u3057\u306A\u3082\u306E","\u3057\u306A\u3093","\u3057\u306D\u307E","\u3057\u306D\u3093","\u3057\u306E\u304F\u3099","\u3057\u306E\u3075\u3099","\u3057\u306F\u3044","\u3057\u306F\u3099\u304B\u308A","\u3057\u306F\u3064","\u3057\u306F\u3089\u3044","\u3057\u306F\u3093","\u3057\u3072\u3087\u3046","\u3057\u3075\u304F","\u3057\u3099\u3075\u3099\u3093","\u3057\u3078\u3044","\u3057\u307B\u3046","\u3057\u307B\u3093","\u3057\u307E\u3046","\u3057\u307E\u308B","\u3057\u307F\u3093","\u3057\u3080\u3051\u308B","\u3057\u3099\u3080\u3057\u3087","\u3057\u3081\u3044","\u3057\u3081\u308B","\u3057\u3082\u3093","\u3057\u3083\u3044\u3093","\u3057\u3083\u3046\u3093","\u3057\u3083\u304A\u3093","\u3057\u3099\u3083\u304B\u3099\u3044\u3082","\u3057\u3084\u304F\u3057\u3087","\u3057\u3083\u304F\u307B\u3046","\u3057\u3083\u3051\u3093","\u3057\u3083\u3053","\u3057\u3083\u3055\u3099\u3044","\u3057\u3083\u3057\u3093","\u3057\u3083\u305B\u3093","\u3057\u3083\u305D\u3046","\u3057\u3083\u305F\u3044","\u3057\u3083\u3061\u3087\u3046","\u3057\u3083\u3063\u304D\u3093","\u3057\u3099\u3083\u307E","\u3057\u3083\u308A\u3093","\u3057\u3083\u308C\u3044","\u3057\u3099\u3086\u3046","\u3057\u3099\u3085\u3046\u3057\u3087","\u3057\u3085\u304F\u306F\u304F","\u3057\u3099\u3085\u3057\u3093","\u3057\u3085\u3063\u305B\u304D","\u3057\u3085\u307F","\u3057\u3085\u3089\u306F\u3099","\u3057\u3099\u3085\u3093\u306F\u3099\u3093","\u3057\u3087\u3046\u304B\u3044","\u3057\u3087\u304F\u305F\u304F","\u3057\u3087\u3063\u3051\u3093","\u3057\u3087\u3068\u3099\u3046","\u3057\u3087\u3082\u3064","\u3057\u3089\u305B\u308B","\u3057\u3089\u3078\u3099\u308B","\u3057\u3093\u304B","\u3057\u3093\u3053\u3046","\u3057\u3099\u3093\u3057\u3099\u3083","\u3057\u3093\u305B\u3044\u3057\u3099","\u3057\u3093\u3061\u304F","\u3057\u3093\u308A\u3093","\u3059\u3042\u3051\u3099","\u3059\u3042\u3057","\u3059\u3042\u306A","\u3059\u3099\u3042\u3093","\u3059\u3044\u3048\u3044","\u3059\u3044\u304B","\u3059\u3044\u3068\u3046","\u3059\u3099\u3044\u3075\u3099\u3093","\u3059\u3044\u3088\u3046\u3072\u3099","\u3059\u3046\u304B\u3099\u304F","\u3059\u3046\u3057\u3099\u3064","\u3059\u3046\u305B\u3093","\u3059\u304A\u3068\u3099\u308A","\u3059\u304D\u307E","\u3059\u304F\u3046","\u3059\u304F\u306A\u3044","\u3059\u3051\u308B","\u3059\u3053\u3099\u3044","\u3059\u3053\u3057","\u3059\u3099\u3055\u3093","\u3059\u3059\u3099\u3057\u3044","\u3059\u3059\u3080","\u3059\u3059\u3081\u308B","\u3059\u3063\u304B\u308A","\u3059\u3099\u3063\u3057\u308A","\u3059\u3099\u3063\u3068","\u3059\u3066\u304D","\u3059\u3066\u308B","\u3059\u306D\u308B","\u3059\u306E\u3053","\u3059\u306F\u305F\u3099","\u3059\u306F\u3099\u3089\u3057\u3044","\u3059\u3099\u3072\u3087\u3046","\u3059\u3099\u3075\u3099\u306C\u308C","\u3059\u3075\u3099\u308A","\u3059\u3075\u308C","\u3059\u3078\u3099\u3066","\u3059\u3078\u3099\u308B","\u3059\u3099\u307B\u3046","\u3059\u307B\u3099\u3093","\u3059\u307E\u3044","\u3059\u3081\u3057","\u3059\u3082\u3046","\u3059\u3084\u304D","\u3059\u3089\u3059\u3089","\u3059\u308B\u3081","\u3059\u308C\u3061\u304B\u3099\u3046","\u3059\u308D\u3063\u3068","\u3059\u308F\u308B","\u3059\u3093\u305B\u3099\u3093","\u3059\u3093\u307B\u309A\u3046","\u305B\u3042\u3075\u3099\u3089","\u305B\u3044\u304B\u3064","\u305B\u3044\u3051\u3099\u3093","\u305B\u3044\u3057\u3099","\u305B\u3044\u3088\u3046","\u305B\u304A\u3046","\u305B\u304B\u3044\u304B\u3093","\u305B\u304D\u306B\u3093","\u305B\u304D\u3080","\u305B\u304D\u3086","\u305B\u304D\u3089\u3093\u3046\u3093","\u305B\u3051\u3093","\u305B\u3053\u3046","\u305B\u3059\u3057\u3099","\u305B\u305F\u3044","\u305B\u305F\u3051","\u305B\u3063\u304B\u304F","\u305B\u3063\u304D\u3083\u304F","\u305B\u3099\u3063\u304F","\u305B\u3063\u3051\u3093","\u305B\u3063\u3053\u3064","\u305B\u3063\u3055\u305F\u304F\u307E","\u305B\u3064\u305D\u3099\u304F","\u305B\u3064\u305F\u3099\u3093","\u305B\u3064\u3066\u3099\u3093","\u305B\u3063\u306F\u309A\u3093","\u305B\u3064\u3072\u3099","\u305B\u3064\u3075\u3099\u3093","\u305B\u3064\u3081\u3044","\u305B\u3064\u308A\u3064","\u305B\u306A\u304B","\u305B\u306E\u3072\u3099","\u305B\u306F\u306F\u3099","\u305B\u3072\u3099\u308D","\u305B\u307B\u3099\u306D","\u305B\u307E\u3044","\u305B\u307E\u308B","\u305B\u3081\u308B","\u305B\u3082\u305F\u308C","\u305B\u308A\u3075","\u305B\u3099\u3093\u3042\u304F","\u305B\u3093\u3044","\u305B\u3093\u3048\u3044","\u305B\u3093\u304B","\u305B\u3093\u304D\u3087","\u305B\u3093\u304F","\u305B\u3093\u3051\u3099\u3093","\u305B\u3099\u3093\u3053\u3099","\u305B\u3093\u3055\u3044","\u305B\u3093\u3057\u3085","\u305B\u3093\u3059\u3044","\u305B\u3093\u305B\u3044","\u305B\u3093\u305D\u3099","\u305B\u3093\u305F\u304F","\u305B\u3093\u3061\u3087\u3046","\u305B\u3093\u3066\u3044","\u305B\u3093\u3068\u3046","\u305B\u3093\u306C\u304D","\u305B\u3093\u306D\u3093","\u305B\u3093\u306F\u309A\u3044","\u305B\u3099\u3093\u3075\u3099","\u305B\u3099\u3093\u307B\u309A\u3046","\u305B\u3093\u3080","\u305B\u3093\u3081\u3093\u3057\u3099\u3087","\u305B\u3093\u3082\u3093","\u305B\u3093\u3084\u304F","\u305B\u3093\u3086\u3046","\u305B\u3093\u3088\u3046","\u305B\u3099\u3093\u3089","\u305B\u3099\u3093\u308A\u3083\u304F","\u305B\u3093\u308C\u3044","\u305B\u3093\u308D","\u305D\u3042\u304F","\u305D\u3044\u3068\u3051\u3099\u308B","\u305D\u3044\u306D","\u305D\u3046\u304B\u3099\u3093\u304D\u3087\u3046","\u305D\u3046\u304D","\u305D\u3046\u3053\u3099","\u305D\u3046\u3057\u3093","\u305D\u3046\u305F\u3099\u3093","\u305D\u3046\u306A\u3093","\u305D\u3046\u3072\u3099","\u305D\u3046\u3081\u3093","\u305D\u3046\u308A","\u305D\u3048\u3082\u306E","\u305D\u3048\u3093","\u305D\u304B\u3099\u3044","\u305D\u3051\u3099\u304D","\u305D\u3053\u3046","\u305D\u3053\u305D\u3053","\u305D\u3055\u3099\u3044","\u305D\u3057\u306A","\u305D\u305B\u3044","\u305D\u305B\u3093","\u305D\u305D\u304F\u3099","\u305D\u305F\u3099\u3066\u308B","\u305D\u3064\u3046","\u305D\u3064\u3048\u3093","\u305D\u3063\u304B\u3093","\u305D\u3064\u304D\u3099\u3087\u3046","\u305D\u3063\u3051\u3064","\u305D\u3063\u3053\u3046","\u305D\u3063\u305B\u3093","\u305D\u3063\u3068","\u305D\u3068\u304B\u3099\u308F","\u305D\u3068\u3064\u3099\u3089","\u305D\u306A\u3048\u308B","\u305D\u306A\u305F","\u305D\u3075\u307B\u3099","\u305D\u307B\u3099\u304F","\u305D\u307B\u3099\u308D","\u305D\u307E\u3064","\u305D\u307E\u308B","\u305D\u3080\u304F","\u305D\u3080\u308A\u3048","\u305D\u3081\u308B","\u305D\u3082\u305D\u3082","\u305D\u3088\u304B\u305B\u3099","\u305D\u3089\u307E\u3081","\u305D\u308D\u3046","\u305D\u3093\u304B\u3044","\u305D\u3093\u3051\u3044","\u305D\u3093\u3055\u3099\u3044","\u305D\u3093\u3057\u3064","\u305D\u3093\u305D\u3099\u304F","\u305D\u3093\u3061\u3087\u3046","\u305D\u3099\u3093\u3072\u3099","\u305D\u3099\u3093\u3075\u3099\u3093","\u305D\u3093\u307F\u3093","\u305F\u3042\u3044","\u305F\u3044\u3044\u3093","\u305F\u3044\u3046\u3093","\u305F\u3044\u3048\u304D","\u305F\u3044\u304A\u3046","\u305F\u3099\u3044\u304B\u3099\u304F","\u305F\u3044\u304D","\u305F\u3044\u304F\u3099\u3046","\u305F\u3044\u3051\u3093","\u305F\u3044\u3053","\u305F\u3044\u3055\u3099\u3044","\u305F\u3099\u3044\u3057\u3099\u3087\u3046\u3075\u3099","\u305F\u3099\u3044\u3059\u304D","\u305F\u3044\u305B\u3064","\u305F\u3044\u305D\u3046","\u305F\u3099\u3044\u305F\u3044","\u305F\u3044\u3061\u3087\u3046","\u305F\u3044\u3066\u3044","\u305F\u3099\u3044\u3068\u3099\u3053\u308D","\u305F\u3044\u306A\u3044","\u305F\u3044\u306D\u3064","\u305F\u3044\u306E\u3046","\u305F\u3044\u306F\u3093","\u305F\u3099\u3044\u3072\u3087\u3046","\u305F\u3044\u3075\u3046","\u305F\u3044\u3078\u3093","\u305F\u3044\u307B","\u305F\u3044\u307E\u3064\u306F\u3099\u306A","\u305F\u3044\u307F\u3093\u304F\u3099","\u305F\u3044\u3080","\u305F\u3044\u3081\u3093","\u305F\u3044\u3084\u304D","\u305F\u3044\u3088\u3046","\u305F\u3044\u3089","\u305F\u3044\u308A\u3087\u304F","\u305F\u3044\u308B","\u305F\u3044\u308F\u3093","\u305F\u3046\u3048","\u305F\u3048\u308B","\u305F\u304A\u3059","\u305F\u304A\u308B","\u305F\u304A\u308C\u308B","\u305F\u304B\u3044","\u305F\u304B\u306D","\u305F\u304D\u3072\u3099","\u305F\u304F\u3055\u3093","\u305F\u3053\u304F","\u305F\u3053\u3084\u304D","\u305F\u3055\u3044","\u305F\u3057\u3055\u3099\u3093","\u305F\u3099\u3057\u3099\u3083\u308C","\u305F\u3059\u3051\u308B","\u305F\u3059\u3099\u3055\u308F\u308B","\u305F\u305D\u304B\u3099\u308C","\u305F\u305F\u304B\u3046","\u305F\u305F\u304F","\u305F\u305F\u3099\u3057\u3044","\u305F\u305F\u307F","\u305F\u3061\u306F\u3099\u306A","\u305F\u3099\u3063\u304B\u3044","\u305F\u3099\u3063\u304D\u3083\u304F","\u305F\u3099\u3063\u3053","\u305F\u3099\u3063\u3057\u3085\u3064","\u305F\u3099\u3063\u305F\u3044","\u305F\u3066\u308B","\u305F\u3068\u3048\u308B","\u305F\u306A\u306F\u3099\u305F","\u305F\u306B\u3093","\u305F\u306C\u304D","\u305F\u306E\u3057\u307F","\u305F\u306F\u3064","\u305F\u3075\u3099\u3093","\u305F\u3078\u3099\u308B","\u305F\u307B\u3099\u3046","\u305F\u307E\u3053\u3099","\u305F\u307E\u308B","\u305F\u3099\u3080\u308B","\u305F\u3081\u3044\u304D","\u305F\u3081\u3059","\u305F\u3081\u308B","\u305F\u3082\u3064","\u305F\u3084\u3059\u3044","\u305F\u3088\u308B","\u305F\u3089\u3059","\u305F\u308A\u304D\u307B\u3093\u304B\u3099\u3093","\u305F\u308A\u3087\u3046","\u305F\u308A\u308B","\u305F\u308B\u3068","\u305F\u308C\u308B","\u305F\u308C\u3093\u3068","\u305F\u308D\u3063\u3068","\u305F\u308F\u3080\u308C\u308B","\u305F\u3099\u3093\u3042\u3064","\u305F\u3093\u3044","\u305F\u3093\u304A\u3093","\u305F\u3093\u304B","\u305F\u3093\u304D","\u305F\u3093\u3051\u3093","\u305F\u3093\u3053\u3099","\u305F\u3093\u3055\u3093","\u305F\u3093\u3057\u3099\u3087\u3046\u3072\u3099","\u305F\u3099\u3093\u305B\u3044","\u305F\u3093\u305D\u304F","\u305F\u3093\u305F\u3044","\u305F\u3099\u3093\u3061","\u305F\u3093\u3066\u3044","\u305F\u3093\u3068\u3046","\u305F\u3099\u3093\u306A","\u305F\u3093\u306B\u3093","\u305F\u3099\u3093\u306D\u3064","\u305F\u3093\u306E\u3046","\u305F\u3093\u3072\u309A\u3093","\u305F\u3099\u3093\u307B\u3099\u3046","\u305F\u3093\u307E\u3064","\u305F\u3093\u3081\u3044","\u305F\u3099\u3093\u308C\u3064","\u305F\u3099\u3093\u308D","\u305F\u3099\u3093\u308F","\u3061\u3042\u3044","\u3061\u3042\u3093","\u3061\u3044\u304D","\u3061\u3044\u3055\u3044","\u3061\u3048\u3093","\u3061\u304B\u3044","\u3061\u304B\u3089","\u3061\u304D\u3085\u3046","\u3061\u304D\u3093","\u3061\u3051\u3044\u3059\u3099","\u3061\u3051\u3093","\u3061\u3053\u304F","\u3061\u3055\u3044","\u3061\u3057\u304D","\u3061\u3057\u308A\u3087\u3046","\u3061\u305B\u3044","\u3061\u305D\u3046","\u3061\u305F\u3044","\u3061\u305F\u3093","\u3061\u3061\u304A\u3084","\u3061\u3064\u3057\u3099\u3087","\u3061\u3066\u304D","\u3061\u3066\u3093","\u3061\u306C\u304D","\u3061\u306C\u308A","\u3061\u306E\u3046","\u3061\u3072\u3087\u3046","\u3061\u3078\u3044\u305B\u3093","\u3061\u307B\u3046","\u3061\u307E\u305F","\u3061\u307F\u3064","\u3061\u307F\u3068\u3099\u308D","\u3061\u3081\u3044\u3068\u3099","\u3061\u3083\u3093\u3053\u306A\u3078\u3099","\u3061\u3085\u3046\u3044","\u3061\u3086\u308A\u3087\u304F","\u3061\u3087\u3046\u3057","\u3061\u3087\u3055\u304F\u3051\u3093","\u3061\u3089\u3057","\u3061\u3089\u307F","\u3061\u308A\u304B\u3099\u307F","\u3061\u308A\u3087\u3046","\u3061\u308B\u3068\u3099","\u3061\u308F\u308F","\u3061\u3093\u305F\u3044","\u3061\u3093\u3082\u304F","\u3064\u3044\u304B","\u3064\u3044\u305F\u3061","\u3064\u3046\u304B","\u3064\u3046\u3057\u3099\u3087\u3046","\u3064\u3046\u306F\u3093","\u3064\u3046\u308F","\u3064\u304B\u3046","\u3064\u304B\u308C\u308B","\u3064\u304F\u306D","\u3064\u304F\u308B","\u3064\u3051\u306D","\u3064\u3051\u308B","\u3064\u3053\u3099\u3046","\u3064\u305F\u3048\u308B","\u3064\u3064\u3099\u304F","\u3064\u3064\u3057\u3099","\u3064\u3064\u3080","\u3064\u3068\u3081\u308B","\u3064\u306A\u304B\u3099\u308B","\u3064\u306A\u307F","\u3064\u306D\u3064\u3099\u306D","\u3064\u306E\u308B","\u3064\u3075\u3099\u3059","\u3064\u307E\u3089\u306A\u3044","\u3064\u307E\u308B","\u3064\u307F\u304D","\u3064\u3081\u305F\u3044","\u3064\u3082\u308A","\u3064\u3082\u308B","\u3064\u3088\u3044","\u3064\u308B\u307B\u3099","\u3064\u308B\u307F\u304F","\u3064\u308F\u3082\u306E","\u3064\u308F\u308A","\u3066\u3042\u3057","\u3066\u3042\u3066","\u3066\u3042\u307F","\u3066\u3044\u304A\u3093","\u3066\u3044\u304B","\u3066\u3044\u304D","\u3066\u3044\u3051\u3044","\u3066\u3044\u3053\u304F","\u3066\u3044\u3055\u3064","\u3066\u3044\u3057","\u3066\u3044\u305B\u3044","\u3066\u3044\u305F\u3044","\u3066\u3044\u3068\u3099","\u3066\u3044\u306D\u3044","\u3066\u3044\u3072\u3087\u3046","\u3066\u3044\u3078\u3093","\u3066\u3044\u307B\u3099\u3046","\u3066\u3046\u3061","\u3066\u304A\u304F\u308C","\u3066\u304D\u3068\u3046","\u3066\u304F\u3072\u3099","\u3066\u3099\u3053\u307B\u3099\u3053","\u3066\u3055\u304D\u3099\u3087\u3046","\u3066\u3055\u3051\u3099","\u3066\u3059\u308A","\u3066\u305D\u3046","\u3066\u3061\u304B\u3099\u3044","\u3066\u3061\u3087\u3046","\u3066\u3064\u304B\u3099\u304F","\u3066\u3064\u3064\u3099\u304D","\u3066\u3099\u3063\u306F\u309A","\u3066\u3064\u307B\u3099\u3046","\u3066\u3064\u3084","\u3066\u3099\u306C\u304B\u3048","\u3066\u306C\u304D","\u3066\u306C\u304F\u3099\u3044","\u3066\u306E\u3072\u3089","\u3066\u306F\u3044","\u3066\u3075\u3099\u304F\u308D","\u3066\u3075\u305F\u3099","\u3066\u307B\u3068\u3099\u304D","\u3066\u307B\u3093","\u3066\u307E\u3048","\u3066\u307E\u304D\u3059\u3099\u3057","\u3066\u307F\u3057\u3099\u304B","\u3066\u307F\u3084\u3051\u3099","\u3066\u3089\u3059","\u3066\u308C\u3072\u3099","\u3066\u308F\u3051","\u3066\u308F\u305F\u3057","\u3066\u3099\u3093\u3042\u3064","\u3066\u3093\u3044\u3093","\u3066\u3093\u304B\u3044","\u3066\u3093\u304D","\u3066\u3093\u304F\u3099","\u3066\u3093\u3051\u3093","\u3066\u3093\u3053\u3099\u304F","\u3066\u3093\u3055\u3044","\u3066\u3093\u3057","\u3066\u3093\u3059\u3046","\u3066\u3099\u3093\u3061","\u3066\u3093\u3066\u304D","\u3066\u3093\u3068\u3046","\u3066\u3093\u306A\u3044","\u3066\u3093\u3075\u309A\u3089","\u3066\u3093\u307B\u3099\u3046\u305F\u3099\u3044","\u3066\u3093\u3081\u3064","\u3066\u3093\u3089\u3093\u304B\u3044","\u3066\u3099\u3093\u308A\u3087\u304F","\u3066\u3099\u3093\u308F","\u3068\u3099\u3042\u3044","\u3068\u3044\u308C","\u3068\u3099\u3046\u304B\u3093","\u3068\u3046\u304D\u3085\u3046","\u3068\u3099\u3046\u304F\u3099","\u3068\u3046\u3057","\u3068\u3046\u3080\u304D\u3099","\u3068\u304A\u3044","\u3068\u304A\u304B","\u3068\u304A\u304F","\u3068\u304A\u3059","\u3068\u304A\u308B","\u3068\u304B\u3044","\u3068\u304B\u3059","\u3068\u304D\u304A\u308A","\u3068\u304D\u3068\u3099\u304D","\u3068\u304F\u3044","\u3068\u304F\u3057\u3085\u3046","\u3068\u304F\u3066\u3093","\u3068\u304F\u306B","\u3068\u304F\u3078\u3099\u3064","\u3068\u3051\u3044","\u3068\u3051\u308B","\u3068\u3053\u3084","\u3068\u3055\u304B","\u3068\u3057\u3087\u304B\u3093","\u3068\u305D\u3046","\u3068\u305F\u3093","\u3068\u3061\u3085\u3046","\u3068\u3063\u304D\u3085\u3046","\u3068\u3063\u304F\u3093","\u3068\u3064\u305B\u3099\u3093","\u3068\u3064\u306B\u3085\u3046","\u3068\u3068\u3099\u3051\u308B","\u3068\u3068\u306E\u3048\u308B","\u3068\u306A\u3044","\u3068\u306A\u3048\u308B","\u3068\u306A\u308A","\u3068\u306E\u3055\u307E","\u3068\u306F\u3099\u3059","\u3068\u3099\u3075\u3099\u304B\u3099\u308F","\u3068\u307B\u3046","\u3068\u307E\u308B","\u3068\u3081\u308B","\u3068\u3082\u305F\u3099\u3061","\u3068\u3082\u308B","\u3068\u3099\u3088\u3046\u3072\u3099","\u3068\u3089\u3048\u308B","\u3068\u3093\u304B\u3064","\u3068\u3099\u3093\u3075\u3099\u308A","\u306A\u3044\u304B\u304F","\u306A\u3044\u3053\u3046","\u306A\u3044\u3057\u3087","\u306A\u3044\u3059","\u306A\u3044\u305B\u3093","\u306A\u3044\u305D\u3046","\u306A\u304A\u3059","\u306A\u304B\u3099\u3044","\u306A\u304F\u3059","\u306A\u3051\u3099\u308B","\u306A\u3053\u3046\u3068\u3099","\u306A\u3055\u3051","\u306A\u305F\u3066\u3099\u3053\u3053","\u306A\u3063\u3068\u3046","\u306A\u3064\u3084\u3059\u307F","\u306A\u306A\u304A\u3057","\u306A\u306B\u3053\u3099\u3068","\u306A\u306B\u3082\u306E","\u306A\u306B\u308F","\u306A\u306E\u304B","\u306A\u3075\u305F\u3099","\u306A\u307E\u3044\u304D","\u306A\u307E\u3048","\u306A\u307E\u307F","\u306A\u307F\u305F\u3099","\u306A\u3081\u3089\u304B","\u306A\u3081\u308B","\u306A\u3084\u3080","\u306A\u3089\u3046","\u306A\u3089\u3072\u3099","\u306A\u3089\u3075\u3099","\u306A\u308C\u308B","\u306A\u308F\u3068\u3072\u3099","\u306A\u308F\u306F\u3099\u308A","\u306B\u3042\u3046","\u306B\u3044\u304B\u3099\u305F","\u306B\u3046\u3051","\u306B\u304A\u3044","\u306B\u304B\u3044","\u306B\u304B\u3099\u3066","\u306B\u304D\u3072\u3099","\u306B\u304F\u3057\u307F","\u306B\u304F\u307E\u3093","\u306B\u3051\u3099\u308B","\u306B\u3055\u3093\u304B\u305F\u3093\u305D","\u306B\u3057\u304D","\u306B\u305B\u3082\u306E","\u306B\u3061\u3057\u3099\u3087\u3046","\u306B\u3061\u3088\u3046\u3072\u3099","\u306B\u3063\u304B","\u306B\u3063\u304D","\u306B\u3063\u3051\u3044","\u306B\u3063\u3053\u3046","\u306B\u3063\u3055\u3093","\u306B\u3063\u3057\u3087\u304F","\u306B\u3063\u3059\u3046","\u306B\u3063\u305B\u304D","\u306B\u3063\u3066\u3044","\u306B\u306A\u3046","\u306B\u307B\u3093","\u306B\u307E\u3081","\u306B\u3082\u3064","\u306B\u3084\u308A","\u306B\u3085\u3046\u3044\u3093","\u306B\u308A\u3093\u3057\u3083","\u306B\u308F\u3068\u308A","\u306B\u3093\u3044","\u306B\u3093\u304B","\u306B\u3093\u304D","\u306B\u3093\u3051\u3099\u3093","\u306B\u3093\u3057\u304D","\u306B\u3093\u3059\u3099\u3046","\u306B\u3093\u305D\u3046","\u306B\u3093\u305F\u3044","\u306B\u3093\u3061","\u306B\u3093\u3066\u3044","\u306B\u3093\u306B\u304F","\u306B\u3093\u3075\u309A","\u306B\u3093\u307E\u308A","\u306B\u3093\u3080","\u306B\u3093\u3081\u3044","\u306B\u3093\u3088\u3046","\u306C\u3044\u304F\u304D\u3099","\u306C\u304B\u3059","\u306C\u304F\u3099\u3044\u3068\u308B","\u306C\u304F\u3099\u3046","\u306C\u304F\u3082\u308A","\u306C\u3059\u3080","\u306C\u307E\u3048\u3072\u3099","\u306C\u3081\u308A","\u306C\u3089\u3059","\u306C\u3093\u3061\u3083\u304F","\u306D\u3042\u3051\u3099","\u306D\u3044\u304D","\u306D\u3044\u308B","\u306D\u3044\u308D","\u306D\u304F\u3099\u305B","\u306D\u304F\u305F\u3044","\u306D\u304F\u3089","\u306D\u3053\u305B\u3099","\u306D\u3053\u3080","\u306D\u3055\u3051\u3099","\u306D\u3059\u3053\u3099\u3059","\u306D\u305D\u3078\u3099\u308B","\u306D\u305F\u3099\u3093","\u306D\u3064\u3044","\u306D\u3063\u3057\u3093","\u306D\u3064\u305D\u3099\u3046","\u306D\u3063\u305F\u3044\u304D\u3099\u3087","\u306D\u3075\u3099\u305D\u304F","\u306D\u3075\u305F\u3099","\u306D\u307B\u3099\u3046","\u306D\u307B\u308A\u306F\u307B\u308A","\u306D\u307E\u304D","\u306D\u307E\u308F\u3057","\u306D\u307F\u307F","\u306D\u3080\u3044","\u306D\u3080\u305F\u3044","\u306D\u3082\u3068","\u306D\u3089\u3046","\u306D\u308F\u3055\u3099","\u306D\u3093\u3044\u308A","\u306D\u3093\u304A\u3057","\u306D\u3093\u304B\u3093","\u306D\u3093\u304D\u3093","\u306D\u3093\u304F\u3099","\u306D\u3093\u3055\u3099","\u306D\u3093\u3057","\u306D\u3093\u3061\u3083\u304F","\u306D\u3093\u3068\u3099","\u306D\u3093\u3072\u309A","\u306D\u3093\u3075\u3099\u3064","\u306D\u3093\u307E\u3064","\u306D\u3093\u308A\u3087\u3046","\u306D\u3093\u308C\u3044","\u306E\u3044\u3059\u3099","\u306E\u304A\u3064\u3099\u307E","\u306E\u304B\u3099\u3059","\u306E\u304D\u306A\u307F","\u306E\u3053\u304D\u3099\u308A","\u306E\u3053\u3059","\u306E\u3053\u308B","\u306E\u305B\u308B","\u306E\u305D\u3099\u304F","\u306E\u305D\u3099\u3080","\u306E\u305F\u307E\u3046","\u306E\u3061\u307B\u3068\u3099","\u306E\u3063\u304F","\u306E\u306F\u3099\u3059","\u306E\u306F\u3089","\u306E\u3078\u3099\u308B","\u306E\u307B\u3099\u308B","\u306E\u307F\u3082\u306E","\u306E\u3084\u307E","\u306E\u3089\u3044\u306C","\u306E\u3089\u306D\u3053","\u306E\u308A\u3082\u306E","\u306E\u308A\u3086\u304D","\u306E\u308C\u3093","\u306E\u3093\u304D","\u306F\u3099\u3042\u3044","\u306F\u3042\u304F","\u306F\u3099\u3042\u3055\u3093","\u306F\u3099\u3044\u304B","\u306F\u3099\u3044\u304F","\u306F\u3044\u3051\u3093","\u306F\u3044\u3053\u3099","\u306F\u3044\u3057\u3093","\u306F\u3044\u3059\u3044","\u306F\u3044\u305B\u3093","\u306F\u3044\u305D\u3046","\u306F\u3044\u3061","\u306F\u3099\u3044\u306F\u3099\u3044","\u306F\u3044\u308C\u3064","\u306F\u3048\u308B","\u306F\u304A\u308B","\u306F\u304B\u3044","\u306F\u3099\u304B\u308A","\u306F\u304B\u308B","\u306F\u304F\u3057\u3085","\u306F\u3051\u3093","\u306F\u3053\u3075\u3099","\u306F\u3055\u307F","\u306F\u3055\u3093","\u306F\u3057\u3053\u3099","\u306F\u3099\u3057\u3087","\u306F\u3057\u308B","\u306F\u305B\u308B","\u306F\u309A\u305D\u3053\u3093","\u306F\u305D\u3093","\u306F\u305F\u3093","\u306F\u3061\u307F\u3064","\u306F\u3064\u304A\u3093","\u306F\u3063\u304B\u304F","\u306F\u3064\u3099\u304D","\u306F\u3063\u304D\u308A","\u306F\u3063\u304F\u3064","\u306F\u3063\u3051\u3093","\u306F\u3063\u3053\u3046","\u306F\u3063\u3055\u3093","\u306F\u3063\u3057\u3093","\u306F\u3063\u305F\u3064","\u306F\u3063\u3061\u3085\u3046","\u306F\u3063\u3066\u3093","\u306F\u3063\u3072\u309A\u3087\u3046","\u306F\u3063\u307B\u309A\u3046","\u306F\u306A\u3059","\u306F\u306A\u3072\u3099","\u306F\u306B\u304B\u3080","\u306F\u3075\u3099\u3089\u3057","\u306F\u307F\u304B\u3099\u304D","\u306F\u3080\u304B\u3046","\u306F\u3081\u3064","\u306F\u3084\u3044","\u306F\u3084\u3057","\u306F\u3089\u3046","\u306F\u308D\u3046\u3043\u3093","\u306F\u308F\u3044","\u306F\u3093\u3044","\u306F\u3093\u3048\u3044","\u306F\u3093\u304A\u3093","\u306F\u3093\u304B\u304F","\u306F\u3093\u304D\u3087\u3046","\u306F\u3099\u3093\u304F\u3099\u307F","\u306F\u3093\u3053","\u306F\u3093\u3057\u3083","\u306F\u3093\u3059\u3046","\u306F\u3093\u305F\u3099\u3093","\u306F\u309A\u3093\u3061","\u306F\u309A\u3093\u3064","\u306F\u3093\u3066\u3044","\u306F\u3093\u3068\u3057","\u306F\u3093\u306E\u3046","\u306F\u3093\u306F\u309A","\u306F\u3093\u3075\u3099\u3093","\u306F\u3093\u3078\u309A\u3093","\u306F\u3093\u307B\u3099\u3046\u304D","\u306F\u3093\u3081\u3044","\u306F\u3093\u3089\u3093","\u306F\u3093\u308D\u3093","\u3072\u3044\u304D","\u3072\u3046\u3093","\u3072\u3048\u308B","\u3072\u304B\u304F","\u3072\u304B\u308A","\u3072\u304B\u308B","\u3072\u304B\u3093","\u3072\u304F\u3044","\u3072\u3051\u3064","\u3072\u3053\u3046\u304D","\u3072\u3053\u304F","\u3072\u3055\u3044","\u3072\u3055\u3057\u3075\u3099\u308A","\u3072\u3055\u3093","\u3072\u3099\u3057\u3099\u3085\u3064\u304B\u3093","\u3072\u3057\u3087","\u3072\u305D\u304B","\u3072\u305D\u3080","\u3072\u305F\u3080\u304D","\u3072\u305F\u3099\u308A","\u3072\u305F\u308B","\u3072\u3064\u304D\u3099","\u3072\u3063\u3053\u3057","\u3072\u3063\u3057","\u3072\u3064\u3057\u3099\u3085\u3072\u3093","\u3072\u3063\u3059","\u3072\u3064\u305B\u3099\u3093","\u3072\u309A\u3063\u305F\u308A","\u3072\u309A\u3063\u3061\u308A","\u3072\u3064\u3088\u3046","\u3072\u3066\u3044","\u3072\u3068\u3053\u3099\u307F","\u3072\u306A\u307E\u3064\u308A","\u3072\u306A\u3093","\u3072\u306D\u308B","\u3072\u306F\u3093","\u3072\u3072\u3099\u304F","\u3072\u3072\u3087\u3046","\u3072\u307B\u3046","\u3072\u307E\u308F\u308A","\u3072\u307E\u3093","\u3072\u307F\u3064","\u3072\u3081\u3044","\u3072\u3081\u3057\u3099\u3057","\u3072\u3084\u3051","\u3072\u3084\u3059","\u3072\u3088\u3046","\u3072\u3099\u3087\u3046\u304D","\u3072\u3089\u304B\u3099\u306A","\u3072\u3089\u304F","\u3072\u308A\u3064","\u3072\u308A\u3087\u3046","\u3072\u308B\u307E","\u3072\u308B\u3084\u3059\u307F","\u3072\u308C\u3044","\u3072\u308D\u3044","\u3072\u308D\u3046","\u3072\u308D\u304D","\u3072\u308D\u3086\u304D","\u3072\u3093\u304B\u304F","\u3072\u3093\u3051\u3064","\u3072\u3093\u3053\u3093","\u3072\u3093\u3057\u3085","\u3072\u3093\u305D\u3046","\u3072\u309A\u3093\u3061","\u3072\u3093\u306F\u309A\u3093","\u3072\u3099\u3093\u307B\u3099\u3046","\u3075\u3042\u3093","\u3075\u3044\u3046\u3061","\u3075\u3046\u3051\u3044","\u3075\u3046\u305B\u3093","\u3075\u309A\u3046\u305F\u308D\u3046","\u3075\u3046\u3068\u3046","\u3075\u3046\u3075","\u3075\u3048\u308B","\u3075\u304A\u3093","\u3075\u304B\u3044","\u3075\u304D\u3093","\u3075\u304F\u3055\u3099\u3064","\u3075\u304F\u3075\u3099\u304F\u308D","\u3075\u3053\u3046","\u3075\u3055\u3044","\u3075\u3057\u304D\u3099","\u3075\u3057\u3099\u307F","\u3075\u3059\u307E","\u3075\u305B\u3044","\u3075\u305B\u304F\u3099","\u3075\u305D\u304F","\u3075\u3099\u305F\u306B\u304F","\u3075\u305F\u3093","\u3075\u3061\u3087\u3046","\u3075\u3064\u3046","\u3075\u3064\u304B","\u3075\u3063\u304B\u3064","\u3075\u3063\u304D","\u3075\u3063\u3053\u304F","\u3075\u3099\u3068\u3099\u3046","\u3075\u3068\u308B","\u3075\u3068\u3093","\u3075\u306E\u3046","\u3075\u306F\u3044","\u3075\u3072\u3087\u3046","\u3075\u3078\u3093","\u3075\u307E\u3093","\u3075\u307F\u3093","\u3075\u3081\u3064","\u3075\u3081\u3093","\u3075\u3088\u3046","\u3075\u308A\u3053","\u3075\u308A\u308B","\u3075\u308B\u3044","\u3075\u3093\u3044\u304D","\u3075\u3099\u3093\u304B\u3099\u304F","\u3075\u3099\u3093\u304F\u3099","\u3075\u3093\u3057\u3064","\u3075\u3099\u3093\u305B\u304D","\u3075\u3093\u305D\u3046","\u3075\u3099\u3093\u307B\u309A\u3046","\u3078\u3044\u3042\u3093","\u3078\u3044\u304A\u3093","\u3078\u3044\u304B\u3099\u3044","\u3078\u3044\u304D","\u3078\u3044\u3051\u3099\u3093","\u3078\u3044\u3053\u3046","\u3078\u3044\u3055","\u3078\u3044\u3057\u3083","\u3078\u3044\u305B\u3064","\u3078\u3044\u305D","\u3078\u3044\u305F\u304F","\u3078\u3044\u3066\u3093","\u3078\u3044\u306D\u3064","\u3078\u3044\u308F","\u3078\u304D\u304B\u3099","\u3078\u3053\u3080","\u3078\u3099\u306B\u3044\u308D","\u3078\u3099\u306B\u3057\u3087\u3046\u304B\u3099","\u3078\u3089\u3059","\u3078\u3093\u304B\u3093","\u3078\u3099\u3093\u304D\u3087\u3046","\u3078\u3099\u3093\u3053\u3099\u3057","\u3078\u3093\u3055\u3044","\u3078\u3093\u305F\u3044","\u3078\u3099\u3093\u308A","\u307B\u3042\u3093","\u307B\u3044\u304F","\u307B\u3099\u3046\u304D\u3099\u3087","\u307B\u3046\u3053\u304F","\u307B\u3046\u305D\u3046","\u307B\u3046\u307B\u3046","\u307B\u3046\u3082\u3093","\u307B\u3046\u308A\u3064","\u307B\u3048\u308B","\u307B\u304A\u3093","\u307B\u304B\u3093","\u307B\u304D\u3087\u3046","\u307B\u3099\u304D\u3093","\u307B\u304F\u308D","\u307B\u3051\u3064","\u307B\u3051\u3093","\u307B\u3053\u3046","\u307B\u3053\u308B","\u307B\u3057\u3044","\u307B\u3057\u3064","\u307B\u3057\u3085","\u307B\u3057\u3087\u3046","\u307B\u305B\u3044","\u307B\u305D\u3044","\u307B\u305D\u304F","\u307B\u305F\u3066","\u307B\u305F\u308B","\u307B\u309A\u3061\u3075\u3099\u304F\u308D","\u307B\u3063\u304D\u3087\u304F","\u307B\u3063\u3055","\u307B\u3063\u305F\u3093","\u307B\u3068\u3093\u3068\u3099","\u307B\u3081\u308B","\u307B\u3093\u3044","\u307B\u3093\u304D","\u307B\u3093\u3051","\u307B\u3093\u3057\u3064","\u307B\u3093\u3084\u304F","\u307E\u3044\u306B\u3061","\u307E\u304B\u3044","\u307E\u304B\u305B\u308B","\u307E\u304B\u3099\u308B","\u307E\u3051\u308B","\u307E\u3053\u3068","\u307E\u3055\u3064","\u307E\u3057\u3099\u3081","\u307E\u3059\u304F","\u307E\u305B\u3099\u308B","\u307E\u3064\u308A","\u307E\u3068\u3081","\u307E\u306A\u3075\u3099","\u307E\u306C\u3051","\u307E\u306D\u304F","\u307E\u307B\u3046","\u307E\u3082\u308B","\u307E\u3086\u3051\u3099","\u307E\u3088\u3046","\u307E\u308D\u3084\u304B","\u307E\u308F\u3059","\u307E\u308F\u308A","\u307E\u308F\u308B","\u307E\u3093\u304B\u3099","\u307E\u3093\u304D\u3064","\u307E\u3093\u305D\u3099\u304F","\u307E\u3093\u306A\u304B","\u307F\u3044\u3089","\u307F\u3046\u3061","\u307F\u3048\u308B","\u307F\u304B\u3099\u304F","\u307F\u304B\u305F","\u307F\u304B\u3093","\u307F\u3051\u3093","\u307F\u3053\u3093","\u307F\u3057\u3099\u304B\u3044","\u307F\u3059\u3044","\u307F\u3059\u3048\u308B","\u307F\u305B\u308B","\u307F\u3063\u304B","\u307F\u3064\u304B\u308B","\u307F\u3064\u3051\u308B","\u307F\u3066\u3044","\u307F\u3068\u3081\u308B","\u307F\u306A\u3068","\u307F\u306A\u307F\u304B\u3055\u3044","\u307F\u306D\u3089\u308B","\u307F\u306E\u3046","\u307F\u306E\u304B\u3099\u3059","\u307F\u307B\u3093","\u307F\u3082\u3068","\u307F\u3084\u3051\u3099","\u307F\u3089\u3044","\u307F\u308A\u3087\u304F","\u307F\u308F\u304F","\u307F\u3093\u304B","\u307F\u3093\u305D\u3099\u304F","\u3080\u3044\u304B","\u3080\u3048\u304D","\u3080\u3048\u3093","\u3080\u304B\u3044","\u3080\u304B\u3046","\u3080\u304B\u3048","\u3080\u304B\u3057","\u3080\u304D\u3099\u3061\u3083","\u3080\u3051\u308B","\u3080\u3051\u3099\u3093","\u3080\u3055\u307B\u3099\u308B","\u3080\u3057\u3042\u3064\u3044","\u3080\u3057\u306F\u3099","\u3080\u3057\u3099\u3085\u3093","\u3080\u3057\u308D","\u3080\u3059\u3046","\u3080\u3059\u3053","\u3080\u3059\u3075\u3099","\u3080\u3059\u3081","\u3080\u305B\u308B","\u3080\u305B\u3093","\u3080\u3061\u3085\u3046","\u3080\u306A\u3057\u3044","\u3080\u306E\u3046","\u3080\u3084\u307F","\u3080\u3088\u3046","\u3080\u3089\u3055\u304D","\u3080\u308A\u3087\u3046","\u3080\u308D\u3093","\u3081\u3044\u3042\u3093","\u3081\u3044\u3046\u3093","\u3081\u3044\u3048\u3093","\u3081\u3044\u304B\u304F","\u3081\u3044\u304D\u3087\u304F","\u3081\u3044\u3055\u3044","\u3081\u3044\u3057","\u3081\u3044\u305D\u3046","\u3081\u3044\u3075\u3099\u3064","\u3081\u3044\u308C\u3044","\u3081\u3044\u308F\u304F","\u3081\u304F\u3099\u307E\u308C\u308B","\u3081\u3055\u3099\u3059","\u3081\u3057\u305F","\u3081\u3059\u3099\u3089\u3057\u3044","\u3081\u305F\u3099\u3064","\u3081\u307E\u3044","\u3081\u3084\u3059","\u3081\u3093\u304D\u3087","\u3081\u3093\u305B\u304D","\u3081\u3093\u3068\u3099\u3046","\u3082\u3046\u3057\u3042\u3051\u3099\u308B","\u3082\u3046\u3068\u3099\u3046\u3051\u3093","\u3082\u3048\u308B","\u3082\u304F\u3057","\u3082\u304F\u3066\u304D","\u3082\u304F\u3088\u3046\u3072\u3099","\u3082\u3061\u308D\u3093","\u3082\u3068\u3099\u308B","\u3082\u3089\u3046","\u3082\u3093\u304F","\u3082\u3093\u305F\u3099\u3044","\u3084\u304A\u3084","\u3084\u3051\u308B","\u3084\u3055\u3044","\u3084\u3055\u3057\u3044","\u3084\u3059\u3044","\u3084\u3059\u305F\u308D\u3046","\u3084\u3059\u307F","\u3084\u305B\u308B","\u3084\u305D\u3046","\u3084\u305F\u3044","\u3084\u3061\u3093","\u3084\u3063\u3068","\u3084\u3063\u306F\u309A\u308A","\u3084\u3075\u3099\u308B","\u3084\u3081\u308B","\u3084\u3084\u3053\u3057\u3044","\u3084\u3088\u3044","\u3084\u308F\u3089\u304B\u3044","\u3086\u3046\u304D","\u3086\u3046\u3072\u3099\u3093\u304D\u3087\u304F","\u3086\u3046\u3078\u3099","\u3086\u3046\u3081\u3044","\u3086\u3051\u3064","\u3086\u3057\u3085\u3064","\u3086\u305B\u3093","\u3086\u305D\u3046","\u3086\u305F\u304B","\u3086\u3061\u3083\u304F","\u3086\u3066\u3099\u308B","\u3086\u306B\u3085\u3046","\u3086\u3072\u3099\u308F","\u3086\u3089\u3044","\u3086\u308C\u308B","\u3088\u3046\u3044","\u3088\u3046\u304B","\u3088\u3046\u304D\u3085\u3046","\u3088\u3046\u3057\u3099","\u3088\u3046\u3059","\u3088\u3046\u3061\u3048\u3093","\u3088\u304B\u305B\u3099","\u3088\u304B\u3093","\u3088\u304D\u3093","\u3088\u304F\u305B\u3044","\u3088\u304F\u307B\u3099\u3046","\u3088\u3051\u3044","\u3088\u3053\u3099\u308C\u308B","\u3088\u3055\u3093","\u3088\u3057\u3085\u3046","\u3088\u305D\u3046","\u3088\u305D\u304F","\u3088\u3063\u304B","\u3088\u3066\u3044","\u3088\u3068\u3099\u304B\u3099\u308F\u304F","\u3088\u306D\u3064","\u3088\u3084\u304F","\u3088\u3086\u3046","\u3088\u308D\u3053\u3075\u3099","\u3088\u308D\u3057\u3044","\u3089\u3044\u3046","\u3089\u304F\u304B\u3099\u304D","\u3089\u304F\u3053\u3099","\u3089\u304F\u3055\u3064","\u3089\u304F\u305F\u3099","\u3089\u3057\u3093\u306F\u3099\u3093","\u3089\u305B\u3093","\u3089\u305D\u3099\u304F","\u3089\u305F\u3044","\u3089\u3063\u304B","\u3089\u308C\u3064","\u308A\u3048\u304D","\u308A\u304B\u3044","\u308A\u304D\u3055\u304F","\u308A\u304D\u305B\u3064","\u308A\u304F\u304F\u3099\u3093","\u308A\u304F\u3064","\u308A\u3051\u3093","\u308A\u3053\u3046","\u308A\u305B\u3044","\u308A\u305D\u3046","\u308A\u305D\u304F","\u308A\u3066\u3093","\u308A\u306D\u3093","\u308A\u3086\u3046","\u308A\u3085\u3046\u304B\u3099\u304F","\u308A\u3088\u3046","\u308A\u3087\u3046\u308A","\u308A\u3087\u304B\u3093","\u308A\u3087\u304F\u3061\u3083","\u308A\u3087\u3053\u3046","\u308A\u308A\u304F","\u308A\u308C\u304D","\u308A\u308D\u3093","\u308A\u3093\u3053\u3099","\u308B\u3044\u3051\u3044","\u308B\u3044\u3055\u3044","\u308B\u3044\u3057\u3099","\u308B\u3044\u305B\u304D","\u308B\u3059\u306F\u3099\u3093","\u308B\u308A\u304B\u3099\u308F\u3089","\u308C\u3044\u304B\u3093","\u308C\u3044\u304D\u3099","\u308C\u3044\u305B\u3044","\u308C\u3044\u305D\u3099\u3046\u3053","\u308C\u3044\u3068\u3046","\u308C\u3044\u307B\u3099\u3046","\u308C\u304D\u3057","\u308C\u304D\u305F\u3099\u3044","\u308C\u3093\u3042\u3044","\u308C\u3093\u3051\u3044","\u308C\u3093\u3053\u3093","\u308C\u3093\u3055\u3044","\u308C\u3093\u3057\u3085\u3046","\u308C\u3093\u305D\u3099\u304F","\u308C\u3093\u3089\u304F","\u308D\u3046\u304B","\u308D\u3046\u3053\u3099","\u308D\u3046\u3057\u3099\u3093","\u308D\u3046\u305D\u304F","\u308D\u304F\u304B\u3099","\u308D\u3053\u3064","\u308D\u3057\u3099\u3046\u3089","\u308D\u3057\u3085\u3064","\u308D\u305B\u3093","\u308D\u3066\u3093","\u308D\u3081\u3093","\u308D\u308C\u3064","\u308D\u3093\u304D\u3099","\u308D\u3093\u306F\u309A","\u308D\u3093\u3075\u3099\u3093","\u308D\u3093\u308A","\u308F\u304B\u3059","\u308F\u304B\u3081","\u308F\u304B\u3084\u307E","\u308F\u304B\u308C\u308B","\u308F\u3057\u3064","\u308F\u3057\u3099\u307E\u3057","\u308F\u3059\u308C\u3082\u306E","\u308F\u3089\u3046","\u308F\u308C\u308B"];t.exports=r});Fe("8YfVJ",function(t,e){"use strict";var r=["a\u0301baco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accio\u0301n","aceite","acelga","acento","aceptar","a\u0301cido","aclarar","acne\u0301","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","ae\u0301reo","afectar","aficio\u0301n","afinar","afirmar","a\u0301gil","agitar","agoni\u0301a","agosto","agotar","agregar","agrio","agua","agudo","a\u0301guila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacra\u0301n","alambre","alarma","alba","a\u0301lbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodo\u0301n","aliado","aliento","alivio","alma","almeja","almi\u0301bar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","a\u0301mbar","a\u0301mbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","ande\u0301n","anemia","a\u0301ngulo","anillo","a\u0301nimo","ani\u0301s","anotar","antena","antiguo","antojo","anual","anular","anuncio","an\u0303adir","an\u0303ejo","an\u0303o","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","aran\u0303a","arar","a\u0301rbitro","a\u0301rbol","arbusto","archivo","arco","arder","ardilla","arduo","a\u0301rea","a\u0301rido","aries","armoni\u0301a","arne\u0301s","aroma","arpa","arpo\u0301n","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","a\u0301spero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","a\u0301tico","atleta","a\u0301tomo","atraer","atroz","atu\u0301n","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avio\u0301n","aviso","ayer","ayuda","ayuno","azafra\u0301n","azar","azote","azu\u0301car","azufre","azul","baba","babor","bache","bahi\u0301a","baile","bajar","balanza","balco\u0301n","balde","bambu\u0301","banco","banda","ban\u0303o","barba","barco","barniz","barro","ba\u0301scula","basto\u0301n","basura","batalla","bateri\u0301a","batir","batuta","bau\u0301l","bazar","bebe\u0301","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsa\u0301i","borde","borrar","bosque","bote","boti\u0301n","bo\u0301veda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufo\u0301n","bu\u0301ho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzo\u0301n","caballo","cabeza","cabina","cabra","cacao","cada\u0301ver","cadena","caer","cafe\u0301","cai\u0301da","caima\u0301n","caja","cajo\u0301n","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","ca\u0301ncer","candil","canela","canguro","canica","canto","can\u0303a","can\u0303o\u0301n","caoba","caos","capaz","capita\u0301n","capote","captar","capucha","cara","carbo\u0301n","ca\u0301rcel","careta","carga","carin\u0303o","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","ce\u0301lebre","celoso","ce\u0301lula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","ce\u0301sped","cetro","chacal","chaleco","champu\u0301","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclo\u0301n","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipre\u0301s","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","cli\u0301nica","cobre","coccio\u0301n","cochino","cocina","coco","co\u0301digo","codo","cofre","coger","cohete","coji\u0301n","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","co\u0301modo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazo\u0301n","corbata","corcho","cordo\u0301n","corona","correr","coser","cosmos","costa","cra\u0301neo","cra\u0301ter","crear","crecer","crei\u0301do","crema","cri\u0301a","crimen","cripta","crisis","cromo","cro\u0301nica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupo\u0301n","cu\u0301pula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","da\u0301til","deber","de\u0301bil","de\u0301cada","decir","dedo","defensa","definir","dejar","delfi\u0301n","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvi\u0301o","detalle","detener","deuda","di\u0301a","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difi\u0301cil","digno","dilema","diluir","dinero","directo","dirigir","disco","disen\u0303o","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","drago\u0301n","droga","ducha","duda","duelo","duen\u0303o","dulce","du\u0301o","duque","durar","dureza","duro","e\u0301bano","ebrio","echar","eco","ecuador","edad","edicio\u0301n","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","e\u0301lite","elixir","elogio","eludir","embudo","emitir","emocio\u0301n","empate","empen\u0303o","empleo","empresa","enano","encargo","enchufe","enci\u0301a","enemigo","enero","enfado","enfermo","engan\u0303o","enigma","enlace","enorme","enredo","ensayo","ensen\u0303ar","entero","entrar","envase","envi\u0301o","e\u0301poca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espi\u0301a","esposa","espuma","esqui\u0301","estar","este","estilo","estufa","etapa","eterno","e\u0301tica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","e\u0301xito","experto","explicar","exponer","extremo","fa\u0301brica","fa\u0301bula","fachada","fa\u0301cil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","farao\u0301n","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fe\u0301rtil","fervor","festi\u0301n","fiable","fianza","fiar","fibra","ficcio\u0301n","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flu\u0301or","fobia","foca","fogata","fogo\u0301n","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fra\u0301gil","franja","frase","fraude","frei\u0301r","freno","fresa","fri\u0301o","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcio\u0301n","funda","furgo\u0301n","furia","fusil","fu\u0301tbol","futuro","gacela","gafas","gaita","gajo","gala","galeri\u0301a","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavila\u0301n","gemelo","gemir","gen","ge\u0301nero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gra\u0301fico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","gru\u0301a","grueso","grumo","grupo","guante","guapo","guardia","guerra","gui\u0301a","guin\u0303o","guion","guiso","guitarra","gusano","gustar","haber","ha\u0301bil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazan\u0303a","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","he\u0301roe","hervir","hielo","hierro","hi\u0301gado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","hu\u0301medo","humilde","humo","hundir","huraca\u0301n","hurto","icono","ideal","idioma","i\u0301dolo","iglesia","iglu\u0301","igual","ilegal","ilusio\u0301n","imagen","ima\u0301n","imitar","impar","imperio","imponer","impulso","incapaz","i\u0301ndice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","intere\u0301s","i\u0301ntimo","intuir","inu\u0301til","invierno","ira","iris","ironi\u0301a","isla","islote","jabali\u0301","jabo\u0301n","jamo\u0301n","jarabe","jardi\u0301n","jarra","jaula","jazmi\u0301n","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","ju\u0301piter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladro\u0301n","lagarto","la\u0301grima","laguna","laico","lamer","la\u0301mina","la\u0301mpara","lana","lancha","langosta","lanza","la\u0301piz","largo","larva","la\u0301stima","lata","la\u0301tex","latir","laurel","lavar","lazo","leal","leccio\u0301n","leche","lector","leer","legio\u0301n","legumbre","lejano","lengua","lento","len\u0303a","leo\u0301n","leopardo","lesio\u0301n","letal","letra","leve","leyenda","libertad","libro","licor","li\u0301der","lidiar","lienzo","liga","ligero","lima","li\u0301mite","limo\u0301n","limpio","lince","lindo","li\u0301nea","lingote","lino","linterna","li\u0301quido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locio\u0301n","loco","locura","lo\u0301gica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","mai\u0301z","maldad","maleta","malla","malo","mama\u0301","mambo","mamut","manco","mando","manejar","manga","maniqui\u0301","manjar","mano","manso","manta","man\u0303ana","mapa","ma\u0301quina","mar","marco","marea","marfil","margen","marido","ma\u0301rmol","marro\u0301n","martes","marzo","masa","ma\u0301scara","masivo","matar","materia","matiz","matriz","ma\u0301ximo","mayor","mazorca","mecha","medalla","medio","me\u0301dula","mejilla","mejor","melena","melo\u0301n","memoria","menor","mensaje","mente","menu\u0301","mercado","merengue","me\u0301rito","mes","meso\u0301n","meta","meter","me\u0301todo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millo\u0301n","mimo","mina","minero","mi\u0301nimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocio\u0301n","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mon\u0303o","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","mo\u0301vil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","mun\u0303eca","mural","muro","mu\u0301sculo","museo","musgo","mu\u0301sica","muslo","na\u0301car","nacio\u0301n","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","na\u0301usea","naval","nave","navidad","necio","ne\u0301ctar","negar","negocio","negro","neo\u0301n","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","nin\u0303ez","nin\u0303o","ni\u0301tido","nivel","nobleza","noche","no\u0301mina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nu\u0301cleo","nudillo","nudo","nuera","nueve","nuez","nulo","nu\u0301mero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oce\u0301ano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oi\u0301do","oi\u0301r","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcio\u0301n","o\u0301pera","opinar","oponer","optar","o\u0301ptica","opuesto","oracio\u0301n","orador","oral","o\u0301rbita","orca","orden","oreja","o\u0301rgano","orgi\u0301a","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadi\u0301a","oscuro","osezno","oso","ostra","oton\u0303o","otro","oveja","o\u0301vulo","o\u0301xido","oxi\u0301geno","oyente","ozono","pacto","padre","paella","pa\u0301gina","pago","pai\u0301s","pa\u0301jaro","palabra","palco","paleta","pa\u0301lido","palma","paloma","palpar","pan","panal","pa\u0301nico","pantera","pan\u0303uelo","papa\u0301","papel","papilla","paquete","parar","parcela","pared","parir","paro","pa\u0301rpado","parque","pa\u0301rrafo","parte","pasar","paseo","pasio\u0301n","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peato\u0301n","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldan\u0303o","pelea","peligro","pellejo","pelo","peluca","pena","pensar","pen\u0303o\u0301n","peo\u0301n","peor","pepino","pequen\u0303o","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pe\u0301simo","pestan\u0303a","pe\u0301talo","petro\u0301leo","pez","pezun\u0303a","picar","picho\u0301n","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pin\u0303a","piojo","pipa","pirata","pisar","piscina","piso","pista","pito\u0301n","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesi\u0301a","poeta","polen","polici\u0301a","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcio\u0301n","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","pri\u0301ncipe","prisio\u0301n","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","pro\u0301ximo","prueba","pu\u0301blico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmo\u0301n","pulpo","pulso","puma","punto","pun\u0303al","pun\u0303o","pupa","pupila","pure\u0301","quedar","queja","quemar","querer","queso","quieto","qui\u0301mica","quince","quitar","ra\u0301bano","rabia","rabo","racio\u0301n","radical","rai\u0301z","rama","rampa","rancho","rango","rapaz","ra\u0301pido","rapto","rasgo","raspa","rato","rayo","raza","razo\u0301n","reaccio\u0301n","realidad","reban\u0303o","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refra\u0301n","refugio","regalo","regir","regla","regreso","rehe\u0301n","reino","rei\u0301r","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reve\u0301s","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","ri\u0301gido","rigor","rinco\u0301n","rin\u0303o\u0301n","ri\u0301o","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi\u0301","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sa\u0301bado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmo\u0301n","salo\u0301n","salsa","salto","salud","salvar","samba","sancio\u0301n","sandi\u0301a","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarte\u0301n","sastre","sata\u0301n","sauna","saxofo\u0301n","seccio\u0301n","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","sen\u0303al","sen\u0303or","separar","sepia","sequi\u0301a","ser","serie","sermo\u0301n","servir","sesenta","sesio\u0301n","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","si\u0301laba","silbar","silencio","silla","si\u0301mbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","so\u0301lido","soltar","solucio\u0301n","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","soste\u0301n","so\u0301tano","suave","subir","suceso","sudor","suegra","suelo","suen\u0303o","suerte","sufrir","sujeto","sulta\u0301n","sumar","superar","suplir","suponer","supremo","sur","surco","suren\u0303o","surgir","susto","sutil","tabaco","tabique","tabla","tabu\u0301","taco","tacto","tajo","talar","talco","talento","talla","talo\u0301n","taman\u0303o","tambor","tango","tanque","tapa","tapete","tapia","tapo\u0301n","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazo\u0301n","teatro","techo","tecla","te\u0301cnica","tejado","tejer","tejido","tela","tele\u0301fono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teori\u0301a","terapia","terco","te\u0301rmino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburo\u0301n","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","ti\u0301mido","timo","tinta","ti\u0301o","ti\u0301pico","tipo","tira","tiro\u0301n","tita\u0301n","ti\u0301tere","ti\u0301tulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","to\u0301rax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","to\u0301xico","trabajo","tractor","traer","tra\u0301fico","trago","traje","tramo","trance","trato","trauma","trazar","tre\u0301bol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberi\u0301a","tubo","tuerto","tumba","tumor","tu\u0301nel","tu\u0301nica","turbina","turismo","turno","tutor","ubicar","u\u0301lcera","umbral","unidad","unir","universo","uno","untar","un\u0303a","urbano","urbe","urgente","urna","usar","usuario","u\u0301til","utopi\u0301a","uva","vaca","vaci\u0301o","vacuna","vagar","vago","vaina","vajilla","vale","va\u0301lido","valle","valor","va\u0301lvula","vampiro","vara","variar","varo\u0301n","vaso","vecino","vector","vehi\u0301culo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vi\u0301a","viaje","vibrar","vicio","vi\u0301ctima","vida","vi\u0301deo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vin\u0303edo","violi\u0301n","viral","virgo","virtud","visor","vi\u0301spera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volca\u0301n","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"];t.exports=r});var Xhe=tr.Buffer,Mt={};Mt.version="v"+W("1Q9VF").version;Mt.versionGuard=function(t){if(t!==void 0){var e=`
      More than one instance of scrypt bsv found. other version: ${t}
      Please make sure to require bsv and check that submodules do
      not also include their own bsv dependency.`;console.warn(e)}};Mt.versionGuard(yb._scrypt_bsv);yb._scrypt_bsv=Mt.version;Mt.crypto={};Mt.crypto.BN=W("dIoYd");Mt.crypto.ECDSA=W("kmMTb");Mt.crypto.Hash=W("bTTXN");Mt.crypto.Random=W("7X5Fe");Mt.crypto.Point=W("f0gTO");Mt.crypto.Signature=W("gIXub");Mt.encoding={};Mt.encoding.Base58=W("jG967");Mt.encoding.Base58Check=W("j7ODq");Mt.encoding.BufferReader=W("28ku8");Mt.encoding.BufferWriter=W("2AZ1V");Mt.encoding.Varint=W("1zMJW");Mt.util={};Mt.util.js=W("gk75r");Mt.util.preconditions=W("6gAsx");Mt.errors=W("kooOK");Mt.Address=W("iSUUt");Mt.Block=W("19NsJ");Mt.MerkleBlock=W("hVYHX");Mt.BlockHeader=W("gGdD6");Mt.HDPrivateKey=W("4bgoH");Mt.HDPublicKey=W("8kXe7");Mt.Networks=W("cyjag");Mt.Opcode=W("bpasi");Mt.PrivateKey=W("7smYJ");Mt.PublicKey=W("arkeG");Mt.Script=W("hkiTH");Mt.Transaction=W("7pkU6");Mt.ECIES=W("de0HV");Mt.HashCache=W("l0DuR");Mt.deps={};Mt.deps.bnjs=Yhe;Mt.deps.bs58=kS;Mt.deps.Buffer=Xhe;Mt.deps.elliptic=CH;Mt.deps._=W("kBBbb");Mt.Transaction.sighash=W("95EnH");Mt.Message=W("9fBEz");Mt.Mnemonic=W("amN1b");kH.exports=Mt});var RH=$((MS,RS)=>{k();M();(function(t,e,r){typeof MS=="object"&&typeof RS<"u"?e(RS):typeof define=="function"&&define.amd?define(["module"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(r={exports:{}}),t.sourcemapCodec="default"in r.exports?r.exports.default:r.exports)})(MS,function(t){"use strict";var e=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(T,b)=>{for(var x in b)e(T,x,{get:b[x],enumerable:!0})},o=(T,b,x,P)=>{if(b&&typeof b=="object"||typeof b=="function")for(let U of n(b))!i.call(T,U)&&U!==x&&e(T,U,{get:()=>b[U],enumerable:!(P=r(b,U))||P.enumerable});return T},a=T=>o(e({},"__esModule",{value:!0}),T),u={};s(u,{decode:()=>m,decodeGeneratedRanges:()=>C,decodeOriginalScopes:()=>N,encode:()=>R,encodeGeneratedRanges:()=>d,encodeOriginalScopes:()=>H}),t.exports=a(u);var c=",".charCodeAt(0),h=";".charCodeAt(0),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=new Uint8Array(64),l=new Uint8Array(128);for(let T=0;T<f.length;T++){let b=f.charCodeAt(T);p[T]=b,l[b]=T}function y(T,b){let x=0,P=0,U=0;do{let z=T.next();U=l[z],x|=(U&31)<<P,P+=5}while(U&32);let K=x&1;return x>>>=1,K&&(x=-2147483648|-x),b+x}function _(T,b,x){let P=b-x;P=P<0?-P<<1|1:P<<1;do{let U=P&31;P>>>=5,P>0&&(U|=32),T.write(p[U])}while(P>0);return b}function O(T,b){return T.pos>=b?!1:T.peek()!==c}var F=1024*16,B=typeof TextDecoder<"u"?new TextDecoder:typeof A.Buffer<"u"?{decode(T){return A.Buffer.from(T.buffer,T.byteOffset,T.byteLength).toString()}}:{decode(T){let b="";for(let x=0;x<T.length;x++)b+=String.fromCharCode(T[x]);return b}},E=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(F)}write(T){let{buffer:b}=this;b[this.pos++]=T,this.pos===F&&(this.out+=B.decode(b),this.pos=0)}flush(){let{buffer:T,out:b,pos:x}=this;return x>0?b+B.decode(T.subarray(0,x)):b}},I=class{constructor(T){this.pos=0,this.buffer=T}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(T){let{buffer:b,pos:x}=this,P=b.indexOf(T,x);return P===-1?b.length:P}},L=[];function N(T){let{length:b}=T,x=new I(T),P=[],U=[],K=0;for(;x.pos<b;x.pos++){K=y(x,K);let z=y(x,0);if(!O(x,b)){let J=U.pop();J[2]=K,J[3]=z;continue}let Q=y(x,0),q=y(x,0)&1?[K,z,0,0,Q,y(x,0)]:[K,z,0,0,Q],X=L;if(O(x,b)){X=[];do{let J=y(x,0);X.push(J)}while(O(x,b))}q.vars=X,P.push(q),U.push(q)}return P}function H(T){let b=new E;for(let x=0;x<T.length;)x=D(T,x,b,[0]);return b.flush()}function D(T,b,x,P){let U=T[b],{0:K,1:z,2:Q,3:oe,4:ie,vars:q}=U;b>0&&x.write(c),P[0]=_(x,K,P[0]),_(x,z,0),_(x,ie,0);let X=U.length===6?1:0;_(x,X,0),U.length===6&&_(x,U[5],0);for(let J of q)_(x,J,0);for(b++;b<T.length;){let J=T[b],{0:re,1:ae}=J;if(re>Q||re===Q&&ae>=oe)break;b=D(T,b,x,P)}return x.write(c),P[0]=_(x,Q,P[0]),_(x,oe,0),b}function C(T){let{length:b}=T,x=new I(T),P=[],U=[],K=0,z=0,Q=0,oe=0,ie=0,q=0,X=0,J=0;do{let re=x.indexOf(";"),ae=0;for(;x.pos<re;x.pos++){if(ae=y(x,ae),!O(x,re)){let Te=U.pop();Te[2]=K,Te[3]=ae;continue}let me=y(x,0),_e=me&1,Ie=me&2,Le=me&4,Ce=null,He=L,Ze;if(_e){let Te=y(x,z);Q=y(x,z===Te?Q:0),z=Te,Ze=[K,ae,0,0,Te,Q]}else Ze=[K,ae,0,0];if(Ze.isScope=!!Le,Ie){let Te=oe,Se=ie;oe=y(x,oe);let pt=Te===oe;ie=y(x,pt?ie:0),q=y(x,pt&&Se===ie?q:0),Ce=[oe,ie,q]}if(Ze.callsite=Ce,O(x,re)){He=[];do{X=K,J=ae;let Te=y(x,0),Se;if(Te<-1){Se=[[y(x,0)]];for(let pt=-1;pt>Te;pt--){let j=X;X=y(x,X),J=y(x,X===j?J:0);let Y=y(x,0);Se.push([Y,X,J])}}else Se=[[Te]];He.push(Se)}while(O(x,re))}Ze.bindings=He,P.push(Ze),U.push(Ze)}K++,x.pos=re+1}while(x.pos<b);return P}function d(T){if(T.length===0)return"";let b=new E;for(let x=0;x<T.length;)x=v(T,x,b,[0,0,0,0,0,0,0]);return b.flush()}function v(T,b,x,P){let U=T[b],{0:K,1:z,2:Q,3:oe,isScope:ie,callsite:q,bindings:X}=U;P[0]<K?(g(x,P[0],K),P[0]=K,P[1]=0):b>0&&x.write(c),P[1]=_(x,U[1],P[1]);let J=(U.length===6?1:0)|(q?2:0)|(ie?4:0);if(_(x,J,0),U.length===6){let{4:re,5:ae}=U;re!==P[2]&&(P[3]=0),P[2]=_(x,re,P[2]),P[3]=_(x,ae,P[3])}if(q){let{0:re,1:ae,2:me}=U.callsite;re!==P[4]?(P[5]=0,P[6]=0):ae!==P[5]&&(P[6]=0),P[4]=_(x,re,P[4]),P[5]=_(x,ae,P[5]),P[6]=_(x,me,P[6])}if(X)for(let re of X){re.length>1&&_(x,-re.length,0);let ae=re[0][0];_(x,ae,0);let me=K,_e=z;for(let Ie=1;Ie<re.length;Ie++){let Le=re[Ie];me=_(x,Le[1],me),_e=_(x,Le[2],_e),_(x,Le[0],0)}}for(b++;b<T.length;){let re=T[b],{0:ae,1:me}=re;if(ae>Q||ae===Q&&me>=oe)break;b=v(T,b,x,P)}return P[0]<Q?(g(x,P[0],Q),P[0]=Q,P[1]=0):x.write(c),P[1]=_(x,oe,P[1]),b}function g(T,b,x){do T.write(h);while(++b<x)}function m(T){let{length:b}=T,x=new I(T),P=[],U=0,K=0,z=0,Q=0,oe=0;do{let ie=x.indexOf(";"),q=[],X=!0,J=0;for(U=0;x.pos<ie;){let re;U=y(x,U),U<J&&(X=!1),J=U,O(x,ie)?(K=y(x,K),z=y(x,z),Q=y(x,Q),O(x,ie)?(oe=y(x,oe),re=[U,K,z,Q,oe]):re=[U,K,z,Q]):re=[U],q.push(re),x.pos++}X||S(q),P.push(q),x.pos=ie+1}while(x.pos<=b);return P}function S(T){T.sort(w)}function w(T,b){return T[0]-b[0]}function R(T){let b=new E,x=0,P=0,U=0,K=0;for(let z=0;z<T.length;z++){let Q=T[z];if(z>0&&b.write(h),Q.length===0)continue;let oe=0;for(let ie=0;ie<Q.length;ie++){let q=Q[ie];ie>0&&b.write(c),oe=_(b,q[0],oe),q.length!==1&&(x=_(b,q[1],x),P=_(b,q[2],P),U=_(b,q[3],U),q.length!==4&&(K=_(b,q[4],K)))}}return b.flush()}})});var NH={};$re(NH,{default:()=>Zhe});var Zhe,FH=qre(()=>{k();M();Zhe={}});var NS=$((wze,vb)=>{k();M();var Pp=(FH(),jre(NH));if(Pp&&Pp.default){vb.exports=Pp.default;for(let t in Pp)vb.exports[t]=Pp[t]}else Pp&&(vb.exports=Pp)});var HH=$(FS=>{k();M();var Op=Mo(),rl=process.platform==="win32",tl=qc(),Jhe=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Qhe(){var t;if(Jhe){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function ele(t){return typeof t=="function"?t:Qhe()}var Aze=Op.normalize;rl?vf=/(.*?)(?:[\/\\]+|$)/g:vf=/(.*?)(?:[\/]+|$)/g;var vf;rl?k3=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:k3=/^[\/]*/;var k3;FS.realpathSync=function(e,r){if(e=Op.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,a,u,c;h();function h(){var O=k3.exec(e);o=O[0].length,a=O[0],u=O[0],c="",rl&&!s[u]&&(tl.lstatSync(u),s[u]=!0)}for(;o<e.length;){vf.lastIndex=o;var f=vf.exec(e);if(c=a,a+=f[0],u=c+f[1],o=vf.lastIndex,!(s[u]||r&&r[u]===u)){var p;if(r&&Object.prototype.hasOwnProperty.call(r,u))p=r[u];else{var l=tl.lstatSync(u);if(!l.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var y=null;if(!rl){var _=l.dev.toString(32)+":"+l.ino.toString(32);i.hasOwnProperty(_)&&(y=i[_])}y===null&&(tl.statSync(u),y=tl.readlinkSync(u)),p=Op.resolve(c,y),r&&(r[u]=p),rl||(i[_]=y)}e=Op.resolve(p,e.slice(o)),h()}}return r&&(r[n]=e),e};FS.realpath=function(e,r,n){if(typeof n!="function"&&(n=ele(r),r=null),e=Op.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},a,u,c,h;f();function f(){var O=k3.exec(e);a=O[0].length,u=O[0],c=O[0],h="",rl&&!o[c]?tl.lstat(c,function(F){if(F)return n(F);o[c]=!0,p()}):process.nextTick(p)}function p(){if(a>=e.length)return r&&(r[i]=e),n(null,e);vf.lastIndex=a;var O=vf.exec(e);return h=u,u+=O[0],c=h+O[1],a=vf.lastIndex,o[c]||r&&r[c]===c?process.nextTick(p):r&&Object.prototype.hasOwnProperty.call(r,c)?_(r[c]):tl.lstat(c,l)}function l(O,F){if(O)return n(O);if(!F.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(p);if(!rl){var B=F.dev.toString(32)+":"+F.ino.toString(32);if(s.hasOwnProperty(B))return y(null,s[B],c)}tl.stat(c,function(E){if(E)return n(E);tl.readlink(c,function(I,L){rl||(s[B]=L),y(I,L)})})}function y(O,F,B){if(O)return n(O);var E=Op.resolve(h,F);r&&(r[B]=E),_(E)}function _(O){e=Op.resolve(O,e.slice(a)),f()}}});var US=$((Bze,qH)=>{k();M();qH.exports=nl;nl.realpath=nl;nl.sync=LS;nl.realpathSync=LS;nl.monkeypatch=rle;nl.unmonkeypatch=nle;var d6=qc(),HS=d6.realpath,DS=d6.realpathSync,tle=process.version,DH=/^v[0-5]\./.test(tle),LH=HH();function UH(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function nl(t,e,r){if(DH)return HS(t,e,r);typeof e=="function"&&(r=e,e=null),HS(t,e,function(n,i){UH(n)?LH.realpath(t,e,r):r(n,i)})}function LS(t,e){if(DH)return DS(t,e);try{return DS(t,e)}catch(r){if(UH(r))return LH.realpathSync(t,e);throw r}}function rle(){d6.realpath=nl,d6.realpathSync=LS}function nle(){d6.realpath=HS,d6.realpathSync=DS}});var jH=$((Mze,$H)=>{k();M();$H.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);ile(i)?r.push.apply(r,i):r.push(i)}return r};var ile=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var WH=$((Fze,zH)=>{k();M();zH.exports=VH;function VH(t,e,r){t instanceof RegExp&&(t=KH(t,r)),e instanceof RegExp&&(e=KH(e,r));var n=GH(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function KH(t,e){var r=e.match(t);return r?r[0]:null}VH.range=GH;function GH(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),h=u;if(u>=0&&c>0){for(n=[],s=r.length;h>=0&&!a;)h==u?(n.push(h),u=r.indexOf(t,h+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,h+1)),h=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var rD=$((Lze,tD)=>{k();M();var sle=jH(),YH=WH();tD.exports=ule;var XH="\0SLASH"+Math.random()+"\0",ZH="\0OPEN"+Math.random()+"\0",$S="\0CLOSE"+Math.random()+"\0",JH="\0COMMA"+Math.random()+"\0",QH="\0PERIOD"+Math.random()+"\0";function qS(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function ole(t){return t.split("\\\\").join(XH).split("\\{").join(ZH).split("\\}").join($S).split("\\,").join(JH).split("\\.").join(QH)}function ale(t){return t.split(XH).join("\\").split(ZH).join("{").split($S).join("}").split(JH).join(",").split(QH).join(".")}function eD(t){if(!t)return[""];var e=[],r=YH("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=eD(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function ule(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),p6(ole(t),!0).map(ale)):[]}function cle(t){return"{"+t+"}"}function fle(t){return/^-?0\d/.test(t)}function hle(t,e){return t<=e}function lle(t,e){return t>=e}function p6(t,e){var r=[],n=YH("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+$S+n.post,p6(t)):[t];var u;if(o)u=n.body.split(/\.\./);else if(u=eD(n.body),u.length===1&&(u=p6(u[0],!1).map(cle),u.length===1)){var h=n.post.length?p6(n.post,!1):[""];return h.map(function(v){return n.pre+u[0]+v})}var c=n.pre,h=n.post.length?p6(n.post,!1):[""],f;if(o){var p=qS(u[0]),l=qS(u[1]),y=Math.max(u[0].length,u[1].length),_=u.length==3?Math.abs(qS(u[2])):1,O=hle,F=l<p;F&&(_*=-1,O=lle);var B=u.some(fle);f=[];for(var E=p;O(E,l);E+=_){var I;if(s)I=String.fromCharCode(E),I==="\\"&&(I="");else if(I=String(E),B){var L=y-I.length;if(L>0){var N=new Array(L+1).join("0");E<0?I="-"+N+I.slice(1):I=N+I}}f.push(I)}}else f=sle(u,function(d){return p6(d,!1)});for(var H=0;H<f.length;H++)for(var D=0;D<h.length;D++){var C=c+f[H]+h[D];(!e||o||C)&&r.push(C)}return r}});var Sb=$(($ze,aD)=>{k();M();aD.exports=da;da.Minimatch=ws;var M3=function(){try{return Mo()}catch{}}()||{sep:"/"};da.sep=M3.sep;var VS=da.GLOBSTAR=ws.GLOBSTAR={},dle=rD(),nD={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},jS="[^/]",KS=jS+"*?",ple="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",mle="(?:(?!(?:\\/|^)\\.).)*?",iD=gle("().*{}+?[]^$\\!");function gle(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var sD=/\/+/;da.filter=ble;function ble(t,e){return e=e||{},function(r,n,i){return da(r,t,e)}}function il(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}da.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return da;var e=da,r=function(i,s,o){return e(i,s,il(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,il(t,s))},r.Minimatch.defaults=function(i){return e.defaults(il(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,il(t,s))},r.defaults=function(i){return e.defaults(il(t,i))},r.makeRe=function(i,s){return e.makeRe(i,il(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,il(t,s))},r.match=function(n,i,s){return e.match(n,i,il(t,s))},r};ws.defaults=function(t){return da.defaults(t).Minimatch};function da(t,e,r){return xb(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new ws(e,r).match(t)}function ws(t,e){if(!(this instanceof ws))return new ws(t,e);xb(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&M3.sep!=="/"&&(t=t.split(M3.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}ws.prototype.debug=function(){};ws.prototype.make=yle;function yle(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(sD)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}ws.prototype.parseNegate=vle;function vle(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}da.braceExpand=function(t,e){return oD(t,e)};ws.prototype.braceExpand=oD;function oD(t,e){return e||(this instanceof ws?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,xb(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:dle(t)}var _le=1024*64,xb=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>_le)throw new TypeError("pattern is too long")};ws.prototype.parse=xle;var _b={};function xle(t,e){xb(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return VS;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],u,c=!1,h=-1,f=-1,p=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",l=this;function y(){if(u){switch(u){case"*":n+=KS,i=!0;break;case"?":n+=jS,i=!0;break;default:n+="\\"+u;break}l.debug("clearStateChar %j %j",u,n),u=!1}}for(var _=0,O=t.length,F;_<O&&(F=t.charAt(_));_++){if(this.debug("%s	%s %s %j",t,_,n,F),s&&iD[F]){n+="\\"+F,s=!1;continue}switch(F){case"/":return!1;case"\\":y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,_,n,F),c){this.debug("  in class"),F==="!"&&_===f+1&&(F="^"),n+=F;continue}l.debug("call clearStateChar %j",u),y(),u=F,r.noext&&y();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:_-1,reStart:n.length,open:nD[u].open,close:nD[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!o.length){n+="\\)";continue}y(),i=!0;var B=o.pop();n+=B.close,B.type==="!"&&a.push(B),B.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}y(),n+="|";continue;case"[":if(y(),c){n+="\\"+F;continue}c=!0,f=_,h=n.length,n+=F;continue;case"]":if(_===f+1||!c){n+="\\"+F,s=!1;continue}var E=t.substring(f+1,_);try{RegExp("["+E+"]")}catch{var I=this.parse(E,_b);n=n.substr(0,h)+"\\["+I[0]+"\\]",i=i||I[1],c=!1;continue}i=!0,c=!1,n+=F;continue;default:y(),s?s=!1:iD[F]&&!(F==="^"&&c)&&(n+="\\"),n+=F}}for(c&&(E=t.substr(f+1),I=this.parse(E,_b),n=n.substr(0,h)+"\\["+I[0],i=i||I[1]),B=o.pop();B;B=o.pop()){var L=n.slice(B.reStart+B.open.length);this.debug("setting tail",n,B),L=L.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(P,U,K){return K||(K="\\"),U+U+K+"|"}),this.debug(`tail=%j
   %s`,L,L,B,n);var N=B.type==="*"?KS:B.type==="?"?jS:"\\"+B.type;i=!0,n=n.slice(0,B.reStart)+N+"\\("+L}y(),s&&(n+="\\\\");var H=!1;switch(n.charAt(0)){case"[":case".":case"(":H=!0}for(var D=a.length-1;D>-1;D--){var C=a[D],d=n.slice(0,C.reStart),v=n.slice(C.reStart,C.reEnd-8),g=n.slice(C.reEnd-8,C.reEnd),m=n.slice(C.reEnd);g+=m;var S=d.split("(").length-1,w=m;for(_=0;_<S;_++)w=w.replace(/\)[+*?]?/,"");m=w;var R="";m===""&&e!==_b&&(R="$");var T=d+v+m+R+g;n=T}if(n!==""&&i&&(n="(?=.)"+n),H&&(n=p+n),e===_b)return[n,i];if(!i)return wle(t);var b=r.nocase?"i":"";try{var x=new RegExp("^"+n+"$",b)}catch{return new RegExp("$.")}return x._glob=t,x._src=n,x}da.makeRe=function(t,e){return new ws(t,e||{}).makeRe()};ws.prototype.makeRe=Sle;function Sle(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?KS:e.dot?ple:mle,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===VS?r:typeof o=="string"?Ele(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}da.match=function(t,e,r){r=r||{};var n=new ws(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};ws.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;M3.sep!=="/"&&(e=e.split(M3.sep).join("/")),e=e.split(sD),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;n.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};ws.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u=e[s],c=t[i];if(this.debug(e,u,c),u===!1)return!1;if(u===VS){this.debug("GLOBSTAR",[e,u,c]);var h=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;h<o;){var p=t[h];if(this.debug(`
globstar while`,t,h,e,f,p),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,o,p),!0;if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,h,e,f),h===o))}var l;if(typeof u=="string"?(l=c===u,this.debug("string match",u,c,l)):(l=c.match(u),this.debug("pattern match",u,c,l)),!l)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function wle(t){return t.replace(/\\(.)/g,"$1")}function Ele(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Eb=$((Vze,wb)=>{k();M();function uD(t){return t.charAt(0)==="/"}function cD(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}wb.exports=process.platform==="win32"?cD:uD;wb.exports.posix=uD;wb.exports.win32=cD});var zS=$(sl=>{k();M();sl.setopts=Ble;sl.ownProp=fD;sl.makeAbs=R3;sl.finish=Cle;sl.mark=kle;sl.isIgnored=lD;sl.childrenIgnored=Mle;function fD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Tle=qc(),m6=Mo(),Ale=Sb(),hD=Eb(),GS=Ale.Minimatch;function Ile(t,e){return t.localeCompare(e,"en")}function Ple(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Ole))}function Ole(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new GS(r,{dot:!0})}return{matcher:new GS(t,{dot:!0}),gmatcher:e}}function Ble(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Tle,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Ple(t,r),t.changedCwd=!1;var n=process.cwd();fD(r,"cwd")?(t.cwd=m6.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||m6.resolve(t.cwd,"/"),t.root=m6.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=hD(t.cwd)?t.cwd:R3(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new GS(e,r),t.options=t.minimatch.options}function Cle(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Ile)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),h=t.cache[u]||t.cache[R3(t,u)];return c&&h&&(c=h!=="DIR"&&!Array.isArray(h)),c}))}t.ignore.length&&(r=r.filter(function(u){return!lD(t,u)})),t.found=r}function kle(t,e){var r=R3(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=R3(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function R3(t,e){var r=e;return e.charAt(0)==="/"?r=m6.join(t.root,e):hD(e)||e===""?r=e:t.changedCwd?r=m6.resolve(t.cwd,e):r=m6.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function lD(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Mle(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var bD=$((eWe,gD)=>{k();M();gD.exports=mD;mD.GlobSync=ji;var Rle=US(),dD=Sb(),Zze=dD.Minimatch,Jze=XS().Glob,Qze=JC(),WS=Mo(),pD=tc(),Tb=Eb(),Bp=zS(),Nle=Bp.setopts,YS=Bp.ownProp,Fle=Bp.childrenIgnored,Hle=Bp.isIgnored;function mD(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new ji(t,e).found}function ji(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof ji))return new ji(t,e);if(Nle(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}ji.prototype._finish=function(){if(pD.ok(this instanceof ji),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=Rle.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}Bp.finish(this)};ji.prototype._process=function(t,e,r){pD.ok(this instanceof ji);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((Tb(i)||Tb(t.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!Tb(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!Fle(this,o)){var u=s[0]===dD.GLOBSTAR;u?this._processGlobStar(i,o,a,s,e,r):this._processReaddir(i,o,a,s,e,r)}};ji.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,h=this.dot||c.charAt(0)===".",f=[],p=0;p<o.length;p++){var l=o[p];if(l.charAt(0)!=="."||h){var y;u&&!t?y=!l.match(a):y=l.match(a),y&&f.push(l)}}var _=f.length;if(_!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<_;p++){var l=f[p];t&&(t.slice(-1)!=="/"?l=t+"/"+l:l=t+l),l.charAt(0)==="/"&&!this.nomount&&(l=WS.join(this.root,l)),this._emitMatch(i,l)}return}n.shift();for(var p=0;p<_;p++){var l=f[p],O;t?O=[t,l]:O=[l],this._process(O.concat(n),i,s)}}}};ji.prototype._emitMatch=function(t,e){if(!Hle(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};ji.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};ji.prototype._readdir=function(t,e){var r;if(e&&!YS(this.symlinks,t))return this._readdirInGlobStar(t);if(YS(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};ji.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};ji.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};ji.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){var a=n.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,i,!1);var h=o.length,f=this.symlinks[r];if(!(f&&s))for(var p=0;p<h;p++){var l=o[p];if(!(l.charAt(0)==="."&&!this.dot)){var y=u.concat(o[p],a);this._process(y,i,!0);var _=u.concat(o[p],n);this._process(_,i,!0)}}}};ji.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Tb(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=WS.join(this.root,t):(t=WS.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};ji.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&YS(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};ji.prototype._mark=function(t){return Bp.mark(this,t)};ji.prototype._makeAbs=function(t){return Bp.makeAbs(this,t)}});var vD=$((nWe,yD)=>{k();M();var Dle=Wre(),N3=Object.create(null),Lle=ek();yD.exports=Dle(Ule);function Ule(t,e){return N3[t]?(N3[t].push(e),null):(N3[t]=[e],qle(t))}function qle(t){return Lle(function e(){var r=N3[t],n=r.length,i=$le(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete N3[t]}})}function $le(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var XS=$((uWe,xD)=>{k();M();xD.exports=Cp;var jle=US(),_D=Sb(),oWe=_D.Minimatch,Kle=Kre(),Vle=ZC().EventEmitter,ZS=Mo(),JS=tc(),F3=Eb(),ew=bD(),kp=zS(),Gle=kp.setopts,QS=kp.ownProp,tw=vD(),aWe=JC(),zle=kp.childrenIgnored,Wle=kp.isIgnored,Yle=ek();function Cp(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return ew(t,e)}return new Kr(t,e,r)}Cp.sync=ew;var Xle=Cp.GlobSync=ew.GlobSync;Cp.glob=Cp;function Zle(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}Cp.hasMagic=function(t,e){var r=Zle({},e);r.noprocess=!0;var n=new Kr(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};Cp.Glob=Kr;Kle(Kr,Vle);function Kr(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Xle(t,e)}if(!(this instanceof Kr))return new Kr(t,e,r);Gle(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Yle(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}Kr.prototype._finish=function(){if(JS(this instanceof Kr),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();kp.finish(this),this.emit("end",this.found)}};Kr.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};Kr.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),jle.realpath(a,i.realpathCache,function(c,h){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[h]=!0,--s===0&&(i.matches[t]=o,e())})})};Kr.prototype._mark=function(t){return kp.mark(this,t)};Kr.prototype._makeAbs=function(t){return kp.makeAbs(this,t)};Kr.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Kr.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Kr.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Kr.prototype._process=function(t,e,r,n){if(JS(this instanceof Kr),JS(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),a;s===null?a=".":((F3(s)||F3(t.map(function(h){return typeof h=="string"?h:"[*]"}).join("/")))&&(!s||!F3(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(zle(this,a))return n();var c=o[0]===_D.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,n):this._processReaddir(s,a,u,o,e,r,n)}};Kr.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,n,i,s,c,o)})};Kr.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();for(var u=n[0],c=!!this.minimatch.negate,h=u._glob,f=this.dot||h.charAt(0)===".",p=[],l=0;l<o.length;l++){var y=o[l];if(y.charAt(0)!=="."||f){var _;c&&!t?_=!y.match(u):_=y.match(u),_&&p.push(y)}}var O=p.length;if(O===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var l=0;l<O;l++){var y=p[l];t&&(t!=="/"?y=t+"/"+y:y=t+y),y.charAt(0)==="/"&&!this.nomount&&(y=ZS.join(this.root,y)),this._emitMatch(i,y)}return a()}n.shift();for(var l=0;l<O;l++){var y=p[l],F;t&&(t!=="/"?y=t+"/"+y:y=t+y),this._process([y].concat(n),i,s,a)}a()};Kr.prototype._emitMatch=function(t,e){if(!this.aborted&&!Wle(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=F3(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};Kr.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=tw(r,s);i&&n.fs.lstat(t,i);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();n.symlinks[t]=u,!u&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};Kr.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=tw("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!QS(this.symlinks,t))return this._readdirInGlobStar(t,r);if(QS(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Jle(this,t,r))}};function Jle(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}Kr.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};Kr.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Kr.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,n,i,s,c,o)})};Kr.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n.slice(1),c=t?[t]:[],h=c.concat(u);this._process(h,i,!1,a);var f=this.symlinks[r],p=o.length;if(f&&s)return a();for(var l=0;l<p;l++){var y=o[l];if(!(y.charAt(0)==="."&&!this.dot)){var _=c.concat(o[l],u);this._process(_,i,!0,a);var O=c.concat(o[l],n);this._process(O,i,!0,a)}}a()};Kr.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};Kr.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&F3(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=ZS.join(this.root,t):(t=ZS.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};Kr.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&QS(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,o)}var u=this,c=tw("stat\0"+r,h);c&&u.fs.lstat(r,c);function h(f,p){if(p&&p.isSymbolicLink())return u.fs.stat(r,function(l,y){l?u._stat2(t,r,null,p,e):u._stat2(t,r,l,y,e)});u._stat2(t,r,f,p,e)}};Kr.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)}});var OD=$((hWe,PD)=>{k();M();var Jr=tc(),TD=Mo(),SD=qc(),g6;try{g6=XS()}catch{}var Qle={nosort:!0,silent:!0},rw=0,H3=process.platform==="win32",AD=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||SD[r],r=r+"Sync",t[r]=t[r]||SD[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&g6===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||Qle},iw=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),Jr(t,"rimraf: missing path"),Jr.equal(typeof t,"string","rimraf: path should be a string"),Jr.equal(typeof r,"function","rimraf: callback function required"),Jr(e,"rimraf: invalid options argument provided"),Jr.equal(typeof e,"object","rimraf: options should be object"),AD(e);let n=0,i=null,s=0,o=u=>{i=i||u,--s===0&&r(i)},a=(u,c)=>{if(u)return r(u);if(s=c.length,s===0)return r();c.forEach(h=>{let f=p=>{if(p){if((p.code==="EBUSY"||p.code==="ENOTEMPTY"||p.code==="EPERM")&&n<e.maxBusyTries)return n++,setTimeout(()=>nw(h,e,f),n*100);if(p.code==="EMFILE"&&rw<e.emfileWait)return setTimeout(()=>nw(h,e,f),rw++);p.code==="ENOENT"&&(p=null)}rw=0,o(p)};nw(h,e,f)})};if(e.disableGlob||!g6.hasMagic(t))return a(null,[t]);e.lstat(t,(u,c)=>{if(!u)return a(null,[t]);g6(t,e.glob,a)})},nw=(t,e,r)=>{Jr(t),Jr(e),Jr(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&H3&&wD(t,e,n,r),i&&i.isDirectory())return Ab(t,e,n,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return H3?wD(t,e,s,r):Ab(t,e,s,r);if(s.code==="EISDIR")return Ab(t,e,s,r)}return r(s)})})},wD=(t,e,r,n)=>{Jr(t),Jr(e),Jr(typeof n=="function"),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Ab(t,e,r,n):e.unlink(t,n)})})},ED=(t,e,r)=>{Jr(t),Jr(e);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Ib(t,e,r):e.unlinkSync(t)},Ab=(t,e,r,n)=>{Jr(t),Jr(e),Jr(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?ede(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},ede=(t,e,r)=>{Jr(t),Jr(e),Jr(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return e.rmdir(t,r);let o;i.forEach(a=>{iw(TD.join(t,a),e,u=>{if(!o){if(u)return r(o=u);--s===0&&e.rmdir(t,r)}})})})},ID=(t,e)=>{e=e||{},AD(e),Jr(t,"rimraf: missing path"),Jr.equal(typeof t,"string","rimraf: path should be a string"),Jr(e,"rimraf: missing options"),Jr.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!g6.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=g6.sync(t,e.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=e.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&H3&&ED(i,e,o)}try{s&&s.isDirectory()?Ib(i,e,null):e.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return H3?ED(i,e,o):Ib(i,e,o);if(o.code!=="EISDIR")throw o;Ib(i,e,o)}}},Ib=(t,e,r)=>{Jr(t),Jr(e);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&tde(t,e)}},tde=(t,e)=>{Jr(t),Jr(e),e.readdirSync(t).forEach(i=>ID(TD.join(t,i),e));let r=H3?100:1,n=0;do{let i=!0;try{let s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};PD.exports=iw;iw.sync=ID});var L3=$(vt=>{k();M();Object.defineProperty(vt,"__esModule",{value:!0});vt.loadSourceMapfromArtifact=vt.getStaticDeclaration=vt.getAliasDeclaration=vt.getContractDeclaration=vt.getLibraryDeclaration=vt.getStructDeclaration=vt.getABIDeclaration=vt.getContractName=vt.getFullFilePath=vt.compilerVersion=vt.handleCompilerOutput=vt.compile=vt.settings2cmd=vt.compileAsync=vt.doCompileAsync=vt.ABIEntityType=vt.DebugModeTag=vt.CompileResult=vt.BuildType=vt.CompileErrorType=vt.SOURCE_REG=void 0;var aw=NS(),zo=qc(),ei=Mo(),uu=pa(),rde=OD(),nde=Yre(),ide=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):\n([^\n]+\n){3}(unexpected (?<unexpected>[^\n]+)\nexpecting (?<expecting>[^\n]+)|(?<message>[^\n]+))/g,sde=/Error:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,BD=/Internal error:(?<message>.+)/,ode=/Warning:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,CD=nde({alwaysParseAsBig:!0,constructorAction:"preserve"});vt.SOURCE_REG=/^(?<fileIndex>-?\d+):(?<line>\d+):(?<col>\d+):(?<endLine>\d+):(?<endCol>\d+)(#(?<tagStr>.+))?/;var ade=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+)/gi,D3;(function(t){t.SyntaxError="SyntaxError",t.SemanticError="SemanticError",t.InternalError="InternalError",t.Warning="Warning"})(D3=vt.CompileErrorType||(vt.CompileErrorType={}));var Bb;(function(t){t.Debug="debug",t.Release="release"})(Bb=vt.BuildType||(vt.BuildType={}));var Mp=class{constructor(e,r){this.errors=e,this.warnings=r}toArtifact(){return{version:uu.CURRENT_CONTRACT_ARTIFACT_VERSION,compilerVersion:this.compilerVersion||"0.0.0",contract:this.contract||"",md5:this.md5||"",structs:this.structs||[],library:this.library||[],alias:this.alias||[],abi:this.abi||[],stateProps:this.stateProps||[],buildType:this.buildType||Bb.Debug,file:this.file||"",hex:this.hex||"",asm:"",sourceMap:[],sources:[],sourceMapFile:this.sourceMapFile||""}}};vt.CompileResult=Mp;var Pb;(function(t){t.FuncStart="F0",t.FuncEnd="F1",t.LoopStart="L0"})(Pb=vt.DebugModeTag||(vt.DebugModeTag={}));var Ob;(function(t){t.FUNCTION="function",t.CONSTRUCTOR="constructor"})(Ob=vt.ABIEntityType||(vt.ABIEntityType={}));function RD(t,e){return(0,ei.join)(t,(0,ei.basename)(e)+"-"+(0,uu.hash160)(e,"utf-8").substring(0,10))}function ND(t,e,r){let n=t.path,i=(0,ei.dirname)(n),s=e.cwd||i,o=e.timeout||12e5,a=t.content!==void 0?t.content:(0,zo.readFileSync)(n,"utf8"),u=uw(n,e),c=(0,aw.exec)(u,{cwd:s,timeout:o,killSignal:"SIGKILL"},(h,f)=>{if(h){console.error(`exec error: ${h} stdout: ${f}`),r(h,null);return}r(null,{path:n,output:f})});return c.stdin.write(a,h=>{if(h){r(h,null);return}c.stdin.end()}),c}vt.doCompileAsync=ND;function ude(t,e){return e=Object.assign({},FD,e),new Promise((r,n)=>{ND(t,e,async(i,s)=>{if(i){n(i);return}try{let o=cw(t.path,e,s.output);r(o)}catch(o){n(o)}})})}vt.compileAsync=ude;var FD={ast:!0,asm:!1,hex:!0,debug:!1,artifact:!1,outputDir:"",outputToFiles:!1,cwd:"",cmdPrefix:"",cmdArgs:"",buildType:Bb.Debug,stdout:!1,sourceMap:!1,timeout:12e5,optimize:!1};function uw(t,e){let r=(0,ei.dirname)(t),n=e.outputDir||r,i=RD(n,t),s=e.cmdPrefix||(0,uu.findCompiler)(),o=`-o "${i}"`;return e.stdout?(o="--stdout",`"${s}" compile ${e.asm||e.artifact?"--asm":""} ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} -r ${o} ${e.cmdArgs?e.cmdArgs:""}`):((0,zo.existsSync)(i)||(0,zo.mkdirSync)(i),`"${s}" compile ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} ${e.sourceMap==!0?"--source-map":""} -r ${o} ${e.cmdArgs?e.cmdArgs:""}`)}vt.settings2cmd=uw;function cde(t,e){let r=t.path,n=(0,ei.dirname)(r),i=e.cwd||n,s=t.content!==void 0?t.content:(0,zo.readFileSync)(r,"utf8"),o=e.stdout?1024*1024*100:1024*1024;e=Object.assign({},FD,e);let a=uw(r,e),u=(0,aw.execSync)(a,{input:s,cwd:i,timeout:e.timeout,maxBuffer:o}).toString();return cw(r,e,u)}vt.compile=cde;function fde(t){let e=t.replace(/<([^>]+)>/g,"<>");return(0,uu.md5)(e)}function cw(t,e,r){let n=(0,ei.dirname)(t),i=(0,ei.basename)(t),s=e.outputDir||n,o=RD(s,t),a={};try{r=r.split(/\r?\n/g).join(`
`);let u=new Mp([],[]);if(u.compilerVersion=HD(e.cmdPrefix?e.cmdPrefix:(0,uu.findCompiler)()),u.buildType=e.buildType||Bb.Debug,(r.startsWith("Error:")||r.startsWith("Warning:"))&&(Object.assign(u,mde(r,n,i)),u.errors.length>0||e.stdout&&u.warnings.length>0))return u;if(e.stdout){let c=CD.parse(r);MD(u,c.ast,n,i,t),gde(u,c.asm,e,n,i)}else{if(e.ast||e.artifact){let c=b6(o,"ast"),h=c.replace("stdin",(0,ei.basename)(t,".scrypt"));(0,zo.renameSync)(c,h),a.ast=h;let f=CD.parse((0,zo.readFileSync)(h,"utf8"));MD(u,f,n,i,t)}if(e.hex||e.artifact){let c=b6(o,"hex"),h=c.replace("stdin",(0,ei.basename)(t,".scrypt"));(0,zo.renameSync)(c,h),a.hex=h,u.hex=(0,zo.readFileSync)(h,"utf8"),u.md5=fde(u.hex)}if(e.sourceMap){let c=b6(o,"map");if(e.artifact){let f=b6(s,"map").replace("stdin",(0,ei.basename)(t,".scrypt"));(0,zo.renameSync)(c,f),u.sourceMapFile=(0,uu.path2uri)(f)}else{let h=c.replace("stdin",(0,ei.basename)(t,".scrypt"));(0,zo.renameSync)(c,h),a.map=h,u.sourceMapFile=(0,uu.path2uri)(h)}}if(e.debug){let c=b6(o,"dbg"),h=c.replace("stdin",(0,ei.basename)(t,".scrypt"));(0,zo.renameSync)(c,h),u.dbgFile=(0,uu.path2uri)(h)}if(e.artifact){let h=b6(s,"artifact").replace("stdin",(0,ei.basename)(t,".scrypt")),f=u.toArtifact();(0,zo.writeFileSync)(h,JSON.stringify(f,(p,l)=>{if(p==="file")return(0,ei.relative)(h,l);if(!(p=="sources"||p=="sourceMap"||p==="asm"))return l},4))}}return u}finally{bde(e,a,o)}}vt.handleCompilerOutput=cw;function HD(t){try{let e=(0,aw.execSync)(`"${t}" version`).toString();return/Version:\s*([^\s]+)\s*/.exec(e)[1]}catch{throw new Error(`compilerVersion fail when run: ${t} version`)}}vt.compilerVersion=HD;function hde(t,e,r){for(let n in t)if(n==="std")t.std=ow(t.std,"std");else{let i=n==="stdin"?r:n,s=(0,uu.path2uri)((0,ei.join)(e,i));t[s]=ow(t[n],s),delete t[n]}return t}function ow(t,e){if(typeof t!="object")return t;for(let r in t){let n=t[r];if(r==="src"){let i=/:(\d+):(\d+):(\d+):(\d+)/.exec(n);i?t.loc={source:e,start:{line:parseInt(i[1]),column:parseInt(i[2])},end:{line:parseInt(i[3]),column:parseInt(i[4])}}:t.loc=null,delete t.src}else typeof n=="object"&&ow(n,e)}return t}function b6(t,e){return e=="hex"?(0,ei.join)(t,`stdin_${e}.txt`):e==="map"?(0,ei.join)(t,`stdin.${e}.json`):e==="dbg"?(0,ei.join)(t,`stdin.${e}.json`):e==="artifact"?(0,ei.join)(t,"stdin.json"):(0,ei.join)(t,`stdin_${e}.json`)}function _f(t,e,r){return t.endsWith("stdin")?(0,ei.join)(e,r):t==="std"?"std":(0,ei.join)(e,t)}vt.getFullFilePath=_f;function lde(t){if(t.constructor)return{type:Ob.CONSTRUCTOR,params:t.constructor.params.map(e=>({name:e.name,type:e.type}))};if(t.properties)return{type:Ob.CONSTRUCTOR,params:t.properties.map(e=>({name:e.name.replace("this.",""),type:e.type}))}}function dde(t){let e=t.contracts[t.contracts.length-1];return e&&e.properties?e.properties.filter(r=>r.state).map(r=>({name:r.name.replace("this.",""),type:r.type})):[]}function pde(t){let e=0;return t.functions.filter(n=>n.visibility==="Public").map(n=>({type:Ob.FUNCTION,name:n.name,index:n.nodeType==="Constructor"?void 0:e++,params:n.params.map(s=>({name:s.name,type:s.type}))}))}function fw(t){let e=t.contracts[t.contracts.length-1];return e&&e.name||""}vt.getContractName=fw;function kD(t){let e=t.match(/__SCRYPT_(\w+)__/);return e?e[1]:t}function DD(t,e){let r=t.contracts[t.contracts.length-1];if(!r)return{contract:"",abi:[]};let n=pde(r),i=lde(r);return n.push(i),n.forEach(s=>{s.params=s.params.map(o=>Object.assign(o,{type:e(o.type).finalType}))}),{contract:fw(t),abi:n}}vt.getABIDeclaration=DD;function LD(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.structs||[]).map(i=>({name:i.name,params:i.fields.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}))).flat(1)}vt.getStructDeclaration=LD;function UD(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Library").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}vt.getLibraryDeclaration=UD;function qD(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Contract").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}vt.getContractDeclaration=qD;function $D(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.alias||[]).map(i=>({name:i.alias,type:i.type}))).flat(1)}vt.getAliasDeclaration=$D;function jD(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.contracts||[]).map(i=>(i.statics||[]).map(s=>({const:s.const,name:`${i.name}.${s.name}`,type:s.type,value:(0,uu.resolveConstValue)(s)})))).flat(1/0).flat(1)}vt.getStaticDeclaration=jD;function sw(t,e,r){let n=[],i;for(;i=ade.exec(t);){let s=i.groups.filePath;if(s==="null")continue;let o=_f(s,e,r),a=parseInt(i.groups?.line||"-1"),u=parseInt(i.groups?.column||"-1");n.push({filePath:o,position:[{line:a,column:u},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:""}),t=t.replace(/([^\s]+):(\d+):(\d+):(\d+):(\d+)/,"")}return{relatedInformation:n,message:t}}function mde(t,e,r){let n=[...t.matchAll(ode)].map(i=>{let s=i.groups?.filePath||"",o=i.groups?.message||"",{message:a,relatedInformation:u}=sw(o,e,r);return{type:D3.Warning,filePath:_f(s,e,r),position:[{line:parseInt(i.groups?.line||"-1"),column:parseInt(i.groups?.column||"-1")},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:a,relatedInformation:u}});if(t.match(BD)){let i=[{type:D3.InternalError,filePath:_f("stdin",e,r),message:`Compiler internal error: ${t.match(BD).groups?.message||""}`,position:[{line:1,column:1},{line:1,column:1}],relatedInformation:[]}];return new Mp(i,n)}else if(t.includes("Syntax error:")){let i=[...t.matchAll(ide)].map(s=>{let o=s.groups?.filePath||"",a=s.groups?.unexpected||"",u=s.groups?.expecting||"",c=s.groups?.message||`unexpected ${a}
expecting ${u}`,{message:h,relatedInformation:f}=sw(c,e,r);return{type:D3.SyntaxError,filePath:_f(o,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")}],message:h,unexpected:a,expecting:u,relatedInformation:f}});return new Mp(i,n)}else{let i=[...t.matchAll(sde)].map(s=>{let o=s.groups?.message||"",a=s.groups?.filePath||"",{message:u,relatedInformation:c}=sw(o,e,r);return{type:D3.SemanticError,filePath:_f(a,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")},{line:parseInt(s.groups?.line1||"-1"),column:parseInt(s.groups?.column1||"-1")}],message:u,relatedInformation:c}});return new Mp(i,n)}}function MD(t,e,r,n,i){let s=hde(e,r,n),o=(0,uu.path2uri)(i);t.file=i,t.ast=s[o],delete s[o],t.dependencyAsts=s;let a=$D(t.ast,s),u=LD(t.ast,s),c=UD(t.ast,s),h=jD(t.ast,s);t.contracts=qD(t.ast,s);let f=(0,uu.buildTypeResolver)(fw(t.ast),a,u,c,t.contracts,h);t.alias=a.map(y=>({name:y.name,type:f(y.type).finalType})),t.structs=u.map(y=>({name:y.name,params:y.params.map(_=>({name:_.name,type:f(_.type).finalType})),genericTypes:y.genericTypes.map(_=>kD(_))})),t.library=c.map(y=>({name:y.name,params:y.params.map(_=>({name:_.name,type:f(_.type).finalType})),properties:y.properties.map(_=>({name:_.name,type:f(_.type).finalType})),genericTypes:y.genericTypes.map(_=>kD(_))})),t.statics=h.map(y=>Object.assign({...y},{type:f(y.type).finalType}));let{contract:p,abi:l}=DD(t.ast,f);t.stateProps=dde(t.ast).map(y=>({name:y.name,type:f(y.type).finalType})),t.abi=l,t.contract=p}function gde(t,e,r,n,i){let s=e.sources;r.debug&&Object.assign(t,{file:t.file,sources:e.sources.map(o=>_f(o,n,i)),sourceMap:e.output.map(o=>o.src)}),t.hex=r.hex?e.output.map(o=>o.hex).join(""):"",t.asm=e.output.map(o=>{if(!r.debug)return{opcode:o.opcode};let a=vt.SOURCE_REG.exec(o.src);if(a&&a.groups){let u=parseInt(a.groups.fileIndex),c,h=a.groups.tagStr,f=/^(\w+)\.(\w+):(\d)(#(?<context>.+))?$/.exec(h);f?c={contract:f[1],func:f[2],tag:f[3]=="0"?Pb.FuncStart:Pb.FuncEnd,context:f.groups.context}:/loop:0/.test(h)&&(c={contract:"",func:"",tag:Pb.LoopStart,context:""});let p=s[u]?{file:s[u]?_f(s[u],n,i):void 0,line:s[u]?parseInt(a.groups.line):void 0,endLine:s[u]?parseInt(a.groups.endLine):void 0,column:s[u]?parseInt(a.groups.col):void 0,endColumn:s[u]?parseInt(a.groups.endCol):void 0}:void 0;return{opcode:o.opcode,stack:o.stack,topVars:o.topVars||[],pos:p,debugInfo:c}}throw new Error("Compile Failed: Asm output parsing Error!")}),r.debug&&(t.autoTypedVars=e.autoTypedVars.map(o=>{let a=vt.SOURCE_REG.exec(o.src);if(a&&a.groups){let u=parseInt(a.groups.fileIndex),c=s[u]?{file:s[u]?_f(s[u],n,i):void 0,line:s[u]?parseInt(a.groups.line):void 0,endLine:s[u]?parseInt(a.groups.endLine):void 0,column:s[u]?parseInt(a.groups.col):void 0,endColumn:s[u]?parseInt(a.groups.endCol):void 0}:void 0;return{name:o.name,type:o.type,pos:c}}}))}function bde(t,e,r){if(!(t.stdout||t.outputToFiles||t.sourceMap))try{Object.keys(e).forEach(n=>{let i=e[n];(0,zo.existsSync)(i)&&(0,zo.unlinkSync)(i)}),rde.sync(r)}catch{console.error("clean compiler output files failed!")}}function yde(t){let e=t.sources,r=t.asm.split(" ");return!t.sourceMap||t.sourceMap.length==0?[]:r.map((n,i)=>{let s=t.sourceMap[i],o=vt.SOURCE_REG.exec(s);if(o&&o.groups){let a=parseInt(o.groups.fileIndex);return{pos:e[a]?{file:e[a],line:e[a]?parseInt(o.groups.line):void 0,endLine:e[a]?parseInt(o.groups.endLine):void 0,column:e[a]?parseInt(o.groups.col):void 0,endColumn:e[a]?parseInt(o.groups.endCol):void 0}:void 0,opcode:n}}})}vt.loadSourceMapfromArtifact=yde});var Sf=$(_t=>{k();M();Object.defineProperty(_t,"__esModule",{value:!0});_t.isBytes=_t.isSubBytes=_t.isScryptType=_t.getValidatedHexString=_t.getSortedItem=_t.OpCodeType=_t.SigHashPreimage=_t.SigHashType=_t.SignatureHashType=_t.HashedMap=_t.HashedSet=_t.Sha256=_t.Sha1=_t.PubKeyHash=_t.Ripemd160=_t.Sig=_t.PubKey=_t.PrivKey=_t.Bytes=_t.Bool=_t.Int=_t.ScryptType=_t.SymbolType=void 0;var vde;(function(t){t.ScryptType="ScryptType",t.Contract="Contract",t.Library="Library",t.Struct="Struct",t.Unknown="Unknown"})(vde=_t.SymbolType||(_t.SymbolType={}));var cu;(function(t){t.BOOL="bool",t.INT="int",t.BYTES="bytes",t.PUBKEY="PubKey",t.PRIVKEY="PrivKey",t.SIG="Sig",t.RIPEMD160="Ripemd160",t.SHA1="Sha1",t.SHA256="Sha256",t.SIGHASHTYPE="SigHashType",t.SIGHASHPREIMAGE="SigHashPreimage",t.OPCODETYPE="OpCodeType"})(cu=_t.ScryptType||(_t.ScryptType={}));function KD(t){return BigInt(t)}_t.Int=KD;function _de(t){return t}_t.Bool=_de;function xde(t){return xf(t)}_t.Bytes=xde;function Sde(t){return t}_t.PrivKey=Sde;function wde(t){return xf(t,!1)}_t.PubKey=wde;function Ede(t){return xf(t,!1)}_t.Sig=Ede;function VD(t){return xf(t,!1)}_t.Ripemd160=VD;function Tde(t){return VD(t)}_t.PubKeyHash=Tde;function Ade(t){return xf(t,!1)}_t.Sha1=Ade;function Ide(t){return xf(t,!1)}_t.Sha256=Ide;function Pde(t){return t}_t.HashedSet=Pde;function Ode(t){return t}_t.HashedMap=Ode;var Rp;(function(t){t[t.ALL=65]="ALL",t[t.NONE=66]="NONE",t[t.SINGLE=67]="SINGLE",t[t.ANYONECANPAY_ALL=193]="ANYONECANPAY_ALL",t[t.ANYONECANPAY_NONE=194]="ANYONECANPAY_NONE",t[t.ANYONECANPAY_SINGLE=195]="ANYONECANPAY_SINGLE"})(Rp=_t.SignatureHashType||(_t.SignatureHashType={}));function Bde(t){if(t==0)return"00";if(t===Rp.ALL||t===Rp.NONE||t===Rp.SINGLE||t===Rp.ANYONECANPAY_ALL||t===Rp.ANYONECANPAY_NONE||t===Rp.ANYONECANPAY_SINGLE)return`${t.toString(16)}`;throw new Error(`unsupported SigHashType: ${t}`)}_t.SigHashType=Bde;function Cde(t){return xf(t,!1)}_t.SigHashPreimage=Cde;function kde(t){return xf(t,!1)}_t.OpCodeType=kde;function Mde(t,e){return Object.assign({idx:KD(-1),item:e},{image:t instanceof Map?new Map(t):new Set(t)})}_t.getSortedItem=Mde;function xf(t,e=!0){let r=t.trim();if(r.length<1&&!e)throw new Error("can't be empty string");if(r.length%2)throw new Error(`<${r}> should have even length`);if(r.length>0&&!/^[\da-f]+$/i.test(r))throw new Error(`<${r}> should only contain [0-9] or characters [a-fA-F]`);return r}_t.getValidatedHexString=xf;function Rde(t){return Object.keys(cu).map(e=>cu[e]).includes(t)}_t.isScryptType=Rde;function GD(t){return[cu.OPCODETYPE,cu.PUBKEY,cu.RIPEMD160,cu.SHA1,cu.SHA256,cu.SIG,cu.SIGHASHPREIMAGE,cu.SIGHASHTYPE,"PubKeyHash"].map(e=>e.toString()).includes(t)}_t.isSubBytes=GD;function Nde(t){return t===cu.BYTES||GD(t)}_t.isBytes=Nde});var K3=$(Br=>{k();M();Object.defineProperty(Br,"__esModule",{value:!0});Br.resolveGenericType=Br.parseGenericType=Br.isGenericType=Br.resolveType=Br.findStatic=Br.findConstStatic=Br.flatternArg=Br.deduceGenericLibrary=Br.deduceGenericStruct=Br.hasGeneric=Br.checkSupportedParamType=Br.subArrayType=Br.toLiteralArrayType=Br.arrayTypeAndSize=Br.arrayTypeAndSizeStr=Br.typeOfArg=void 0;var Ef=rr(),kb=pa(),Es=Sf();function Cb(t){return typeof t=="bigint"?"int":typeof t=="boolean"?"bool":typeof t=="string"?"bytes":Array.isArray(t)?"Array":typeof t}Br.typeOfArg=Cb;function Np(t){let e=[];if(t.indexOf(">")>-1){let i=t.substring(0,t.lastIndexOf(">")+1);return[...t.substring(t.lastIndexOf(">")+1).matchAll(/\[([\w.]+)\]+/g)].map(o=>{e.push(o[1])}),[i,e]}return[...t.matchAll(/\[([\w.]+)\]+/g)].map(i=>{e.push(i[1])}),[t.split("[")[0],e]}Br.arrayTypeAndSizeStr=Np;function Mb(t){let[e,r]=Np(t);return[e,r.map(n=>{let i=parseInt(n);if(isNaN(i))throw new Error(`arrayTypeAndSize error type ${t} with sub isNaN`);return i})]}Br.arrayTypeAndSize=Mb;function Fp(t,e){return[t,e.map(r=>`[${r}]`).join("")].join("")}Br.toLiteralArrayType=Fp;function hw(t){let[e,r]=Mb(t);return Fp(e,r.slice(1))}Br.subArrayType=hw;function WD(t,e,r){let i=r(e.type).finalType,[s,o]=Mb(i);return Array.isArray(t)?t.length!==o[0]?new Error(`The type of ${e.name} is wrong, expected a array with length = ${o[0]} but got a array with length = ${t.length} `):o.length==1?t.map(a=>q3(a,{name:e.name,type:s},r)).find(a=>a instanceof Error):t.map(a=>WD(a,{name:e.name,type:hw(i)},r)).find(a=>a instanceof Error):new Error(`The type of ${e.name} is wrong, expected ${i} but got ${Cb(t)}`)}function Fde(t,e,r){let n=r(e.type);if(!n.info)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let a=YD(e,i,r);if(a instanceof Error)return a;i=a}if(Array.isArray(t))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a array`);if(typeof t!="object")return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a ${typeof t}`);let s=i.params.map(a=>Object.keys(t).includes(a.name)?q3(t[a.name],a,r):new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing member [${a.name}]`)).find(a=>a instanceof Error);if(s)return s;let o=i.params.map(a=>a.name);return Object.keys(t).map(a=>{if(!o.includes(a))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but redundant member [${a}] appears`)}).find(a=>a instanceof Error)}function Hde(t,e,r){let n=r(e.type);if(!n.info||n.symbolType!==Es.SymbolType.Library)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let s=XD(e,i,r);if(s instanceof Error)return s;i=s}return Array.isArray(t)?t.length!==i.params.length?new Error(`The type of ${e.name} is wrong, expected a array with length = ${i.params.length} but got a array with length = ${t.length} `):i.params.map((s,o)=>typeof t[o]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing parameter [${s.name}]`):q3(t[o],s,r)).find(s=>s instanceof Error):typeof t=="object"?i.properties.map(s=>typeof t[s.name]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing property [${s.name}]`):q3(t[s.name],s,r)).find(s=>s instanceof Error):new Error(`The type of ${e.name} is wrong, expected a array or a object but got ${typeof t}`)}function q3(t,e,r){let n=r(e.type),i=n.finalType;if((0,Ef.isArrayType)(i))return WD(t,e,r);if(n.symbolType===Es.SymbolType.Struct)return Fde(t,e,r);if(n.symbolType===Es.SymbolType.Library)return Hde(t,e,r);if(n.symbolType===Es.SymbolType.ScryptType){let s=new Error(`The type of ${e.name} is wrong, expected ${i} but got ${Cb(t)}`),o=Cb(t);return(0,Es.isBytes)(i)?o===Es.ScryptType.BYTES?void 0:s:i===Es.ScryptType.PRIVKEY?o==="int"?void 0:s:o==i?void 0:s}else return new Error(`can't not resolve type: ${e.type}`)}Br.checkSupportedParamType=q3;function lw(t){return t.genericTypes.length>0}Br.hasGeneric=lw;var y6=class{constructor(e,r){this.entity=e,this.resolver=r,this.inferred={}}resolve(e){if(Object.keys(this.inferred).length>0){if(j3(e)){let[r,n]=$3(e);return(0,kb.toGenericType)(r,n.map(i=>this.inferred[i]||i))}if((0,Ef.isArrayType)(e)){let[r,n]=Np(e);return Fp(r,n.map(i=>this.inferred[i]||i))}return this.inferred[e]||e}return e}inferr(e){let r=this.resolver(e.type),[n,i]=$3(r.finalType);return this.entity.name!==n?new Error(`Generic inference failed, expected ${n} but got ${this.entity.name}`):this.entity.genericTypes.length!==i.length?new Error("Generic inference failed, genericTypes length not match"):this.entity.genericTypes.map((s,o)=>{let a=i[o];return this.assert(s,a)}).find(s=>s instanceof Error)}getEntity(){if(Object.prototype.hasOwnProperty.call(this.entity,"properties")){let e=this.entity;return{name:e.name,params:e.params.map(r=>({name:r.name,type:this.resolve(r.type)})),properties:e.properties.map(r=>({name:r.name,type:this.resolve(r.type)})),genericTypes:(this.entity.genericTypes||[]).map(r=>this.resolve(r))}}return{name:this.entity.name,params:this.entity.params.map(e=>({name:e.name,type:this.resolve(e.type)})),genericTypes:(this.entity.genericTypes||[]).map(e=>this.resolve(e))}}assert(e,r){if(this.inferred[e]){if(this.inferred[e]!==r)return new Error(`Generic inference failed, generic ${e} cannot be both type ${this.inferred[e]} and type ${r}`)}else this.inferred[e]=r}};function YD(t,e,r){if(!lw(e))return e;let n=new y6(e,r),i=n.inferr(t);return i||n.getEntity()}Br.deduceGenericStruct=YD;function XD(t,e,r){if(!lw(e))return e;let n=new y6(e,r),i=n.inferr(t);return i||n.getEntity()}Br.deduceGenericLibrary=XD;function Dde(t,e,r,n){let[i,s]=Mb(e.type),o=r(i);if(!n.ignoreValue){if(!Array.isArray(t))throw new Error("flatternArray only work with array");if(t.length!=s[0])throw new Error(`Array length not match, expected ${s[0]} but got ${t.length}`)}return new Array(s[0]).fill(1).flatMap((a,u)=>{let c=n.ignoreValue?void 0:t[u];return s.length>1?wf({name:`${e.name}[${u}]`,type:hw(e.type),value:c},r,n):o.symbolType===Es.SymbolType.Struct?wf({name:`${e.name}[${u}]`,type:i,value:c},r,n):o.symbolType===Es.SymbolType.Library?wf({name:`${e.name}[${u}]`,type:i,value:c},r,n):{value:c,name:`${e.name}${(0,kb.subscript)(u,s)}`,type:i}})}function Lde(t,e,r,n){let i=r(e.type);if(!n.ignoreValue&&typeof t!="object")throw new Error("flatternStruct only work with object");let s=i.info;if(i.generic){let o=new y6(s,r),a=o.inferr(e);if(a)throw a;s=o.getEntity()}return s.params.flatMap(o=>{let a=r(o.type),u=n.ignoreValue?void 0:t[o.name];return(0,Ef.isArrayType)(a.finalType)?wf({name:`${e.name}.${o.name}`,type:o.type,value:u},r,n):a.symbolType===Es.SymbolType.Struct?wf({name:`${e.name}.${o.name}`,type:o.type,value:u},r,n):{value:u,name:`${e.name}.${o.name}`,type:o.type}})}function Ude(t,e,r,n){let i=r(e.type),s=i.info;if(i.generic){let a=new y6(s,r),u=a.inferr(e);if(u)throw u;s=a.getEntity()}if(!n.ignoreValue)if(n.state){if(typeof t!="object")throw new Error("only work with object when flat a libray as state")}else{if(!Array.isArray(t))throw new Error("only work with array when flat a library");if(s.params.length!=t.length)throw new Error(`Array length not match, expected ${s.params.length} but got ${t.length}`)}return(n.state?s.properties:s.params).flatMap((a,u)=>{let c=r(a.type),h=n.ignoreValue?void 0:n.state?t[a.name]:t[u];return!n.ignoreValue&&typeof h>"u"&&(s.name==="HashedSet"||s.name==="HashedMap")&&(h=t[0]),(0,Ef.isArrayType)(c.finalType)?wf({name:`${e.name}.${a.name}`,type:a.type,value:h},r,n):c.symbolType===Es.SymbolType.Struct?wf({name:`${e.name}.${a.name}`,type:a.type,value:h},r,n):c.symbolType===Es.SymbolType.Library?wf({name:`${e.name}.${a.name}`,type:a.type,value:h},r,n):{value:h,name:`${e.name}.${a.name}`,type:a.type}})}function wf(t,e,r){let n=[],i=e(t.type);return(0,Ef.isArrayType)(i.finalType)?Dde(r.ignoreValue?void 0:t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Es.SymbolType.Struct?Lde(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Es.SymbolType.Library?Ude(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):n.push({name:t.name,type:i.finalType,value:t.value}),n}Br.flatternArg=wf;function ZD(t,e){return t.find(r=>r.const===!0&&r.name===e)}Br.findConstStatic=ZD;function qde(t,e){return t.find(r=>r.name===e)}Br.findStatic=qde;function JD(t,e){let r=t.find(n=>n.name===e);return r?JD(t,r.type):e}function U3(t,e,r,n,i,s){if(t=JD(i,t),(0,Ef.isArrayType)(t)){let[o,a]=Np(t),u=U3(o,e,r,n,i,s);if((0,Ef.isArrayType)(u.finalType)){let[c,h]=Np(u.finalType),f=U3(c,e,r,n,i,s);return{info:u.info,generic:u.generic,finalType:zD(r,Fp(f.finalType,a.concat(h)),n),symbolType:u.symbolType}}return{info:u.info,generic:u.generic,finalType:zD(r,Fp(u.finalType,a),n),symbolType:u.symbolType}}else if(j3(t)){let[o,a]=$3(t),u=U3(o,e,r,n,i,s),c=a.map(h=>U3(h,e,r,n,i,s).finalType);return{info:u.info,generic:!0,finalType:(0,kb.toGenericType)(u.finalType,c),symbolType:u.symbolType}}return e[t]?e[t]:(0,Es.isScryptType)(t)?{finalType:t,generic:!1,symbolType:Es.SymbolType.ScryptType}:{finalType:t,generic:!1,symbolType:Es.SymbolType.Unknown}}Br.resolveType=U3;function zD(t,e,r){if((0,Ef.isArrayType)(e)){let[n,i]=Np(e),s=i.map(o=>{if(/^(\d)+$/.test(o))return parseInt(o);{let a=o.indexOf(".")>0?o:`${t}.${o}`,u=ZD(r,a);return u?u.value:o}});return Fp(n,s)}return e}function j3(t){return/^([\w]+)<([\w,[\]\s<>]+)>$/.test(t)}Br.isGenericType=j3;function $3(t){if(j3(t)){let e=t.match(/([\w]+)<([\w,[\]<>\s]+)>$/);if(e){let r=e[1],n=[],i=[],s="";for(let o=0;o<e[2].length;o++){let a=e[2].charAt(o);if(a==="<"||a==="[")i.push(a);else if(a===">"||a==="]")i.pop();else if(a===","&&i.length===0){n.push(s.trim()),s="";continue}s+=a}return n.push(s.trim()),[r,n]}}throw new Error(`"${t}" is not generic type`)}Br.parseGenericType=$3;function $de(t,e){if(Object.keys(t).length>0){if(j3(e)){let[r,n]=$3(e);return(0,kb.toGenericType)(r,n.map(i=>t[i]||i))}if((0,Ef.isArrayType)(e)){let[r,n]=Np(e);return Fp(r,n.map(i=>t[i]||i))}return t[e]||e}return e}Br.resolveGenericType=$de});var v6=$(Be=>{k();M();Object.defineProperty(Be,"__esModule",{value:!0});Be.checkNOPScript=Be.md5=Be.findSrcInfoV1=Be.findSrcInfoV2=Be.JSONStringify=Be.JSONParserSync=Be.JSONParser=Be.structSign=Be.librarySign=Be.parseAbiFromUnlockingScript=Be.buildContractCode=Be.stripAnsi=Be.ansiRegex=Be.resolveConstValue=Be.newCall=Be.compileContractAsync=Be.compileContract=Be.isEmpty=Be.readFileByLine=Be.subscript=Be.toGenericType=Be.findStructByType=Be.getNameByType=Be.isArrayType=Be.findStructByName=Be.uri2path=Be.path2uri=Be.isNode=Be.getLowSPreimage=Be.hashIsPositiveNumber=Be.getPreimage=Be.signTx=Be.hexStringToBytes=Be.bytesToHexString=Be.bytes2Literal=Be.utf82Hex=Be.toHex=Be.uint82hex=Be.asm2int=Be.int2Asm=Be.DEFAULT_SIGHASH_TYPE=Be.DEFAULT_FLAGS=Be.bsv=void 0;var QD=vH(),os=MH();Be.bsv=os;var jde=ff(),c0=qc(),eL=Mo(),Kde=RH(),tL=tk(),Vde=L3(),Wo=pa(),dw=K3(),V3=os.crypto.BN,ma=os.Script.Interpreter;Be.DEFAULT_FLAGS=ma.SCRIPT_ENABLE_MAGNETIC_OPCODES|ma.SCRIPT_ENABLE_MONOLITH_OPCODES|ma.SCRIPT_VERIFY_STRICTENC|ma.SCRIPT_ENABLE_SIGHASH_FORKID|ma.SCRIPT_VERIFY_LOW_S|ma.SCRIPT_VERIFY_NULLFAIL|ma.SCRIPT_VERIFY_DERSIG|ma.SCRIPT_VERIFY_MINIMALDATA|ma.SCRIPT_VERIFY_NULLDUMMY|ma.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|ma.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|ma.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|ma.SCRIPT_VERIFY_CLEANSTACK;Be.DEFAULT_SIGHASH_TYPE=os.crypto.Signature.SIGHASH_ALL|os.crypto.Signature.SIGHASH_FORKID;function Gde(t){if(/^(-?\d+)$/.test(t)||/^0x([0-9a-fA-F]+)$/.test(t)){let e=t.startsWith("0x")?new V3(t.substring(2),16):new V3(t,10);return e.eqn(-1)?"OP_1NEGATE":e.gten(0)&&e.lten(16)?"OP_"+e.toString():e.toSM({endian:"little"}).toString("hex")}else throw new Error(`invalid str '${t}' to convert to int`)}Be.int2Asm=Gde;function rL(t){switch(t){case"OP_1NEGATE":return-1;case"0":case"OP_0":case"OP_1":case"OP_2":case"OP_3":case"OP_4":case"OP_5":case"OP_6":case"OP_7":case"OP_8":case"OP_9":case"OP_10":case"OP_11":case"OP_12":case"OP_13":case"OP_14":case"OP_15":case"OP_16":return parseInt(t.replace("OP_",""));default:{let e=(0,Wo.getValidatedHexString)(t),r=V3.fromHex(e,{endian:"little"});return r.toNumber()<Number.MAX_SAFE_INTEGER&&r.toNumber()>Number.MIN_SAFE_INTEGER?r.toNumber():r.toString()}}}Be.asm2int=rL;function pw(t){let e=t.toString(16);return e.length%2===1&&(e="0"+e),e}Be.uint82hex=pw;function Nb(t){return t.toString("hex")}Be.toHex=Nb;function zde(t){let r=new TextEncoder().encode(t);return Nb(A.Buffer.from(r))}Be.utf82Hex=zde;function Wde(t,e){switch(e){case"bool":return V3.fromBuffer(t,{endian:"little"}).gt(0)?"true":"false";case"int":case"PrivKey":return V3.fromSM(t,{endian:"little"}).toString();case"bytes":return`b'${mw(t)}'`;default:return`b'${mw(t)}'`}}Be.bytes2Literal=Wde;function mw(t){return t.reduce(function(e,r){return e+=("0"+(r&255).toString(16)).slice(-2)},"")}Be.bytesToHexString=mw;function Yde(t){return(0,Wo.getValidatedHexString)(t),t.split("").reduce(function(e,r,n){return n%2===0?e.push(r):e[e.length-1]+=r,e},new Array).map(e=>parseInt(e,16))}Be.hexStringToBytes=Yde;function Xde(t,e,r,n,i=0,s=Be.DEFAULT_SIGHASH_TYPE,o=Be.DEFAULT_FLAGS,a){if(!t)throw new Error("param tx can not be empty");if(!e)throw new Error("param privateKey can not be empty");if(!r)throw new Error("param lockingScript can not be empty");if(!n)throw new Error("param inputAmount can not be empty");if(typeof r=="string")throw new Error("Breaking change: LockingScript in ASM format is no longer supported, please use the lockingScript object directly");return Nb(os.Transaction.Sighash.sign(t,e,s,i,r,new os.crypto.BN(n),o,a).toTxFormat())}Be.signTx=Xde;function nL(t,e,r,n=0,i=Be.DEFAULT_SIGHASH_TYPE,s=Be.DEFAULT_FLAGS){let o=os.Transaction.Sighash.sighashPreimage(t,i,n,e,new os.crypto.BN(r),s);return Nb(o)}Be.getPreimage=nL;var iL=126;function sL(t){return t.readUInt8(31)<iL}Be.hashIsPositiveNumber=sL;function Zde(t,e,r,n=0,i=Be.DEFAULT_SIGHASH_TYPE,s=Be.DEFAULT_FLAGS){for(let o=0;o<Number.MAX_SAFE_INTEGER;o++){let a=nL(t,e,r,n,i,s),u=os.crypto.Hash.sha256sha256(A.Buffer.from(a,"hex"));if(u.readUInt8()<iL&&sL(u))return a;t.inputs[n].sequenceNumber--}}Be.getLowSPreimage=Zde;function gw(){return typeof window>"u"&&typeof process=="object"}Be.isNode=gw;function Jde(t){return gw()?(0,tL.pathToFileURL)(t).toString():t}Be.path2uri=Jde;function Qde(t){return gw()?(0,tL.fileURLToPath)(t):t}Be.uri2path=Qde;function oL(t,e){return e.find(r=>r.name==t)}Be.findStructByName=oL;function aL(t){return/^(.+)(\[[\w.]+\])+$/.test(t)}Be.isArrayType=aL;function Rb(t){if(aL(t)){let[e,r]=(0,dw.arrayTypeAndSizeStr)(t);return Rb(e)}if((0,dw.isGenericType)(t)){let[e,r]=(0,dw.parseGenericType)(t);return Rb(e)}return t}Be.getNameByType=Rb;function epe(t,e){let r=Rb(t);if(r)return oL(r,e)}Be.findStructByType=epe;function tpe(t,e){return`${t}<${e.join(",")}>`}Be.toGenericType=tpe;function uL(t,e){if(e.length==1)return`[${t}]`;{let r=e.slice(1),n=r.reduce(function(i,s){return i*s},1);return`[${Math.floor(t/n)}]${uL(t%n,r)}`}}Be.subscript=uL;function rpe(t,e){let r="";return c0.readFileSync(t,"utf8").split(/\r?\n/).every(function(n,i){return i===e-1?(r=n,!1):!0}),r}Be.readFileByLine=rpe;function npe(t){return Object.keys(t).length===0}Be.isEmpty=npe;function ipe(t,e){if(e=Object.assign({out:(0,eL.join)(__dirname,"../out"),sourceMap:!1,artifact:!1,optimize:!1},e),!c0.existsSync(t))throw`file ${t} not exists!`;return c0.existsSync(e.out)||c0.mkdirSync(e.out),(0,Wo.compile)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,cmdPrefix:(0,Wo.findCompiler)()})}Be.compileContract=ipe;function spe(t,e){if(e=Object.assign({out:(0,eL.join)(__dirname,"..","out"),sourceMap:!1,artifact:!1,optimize:!1},e),!c0.existsSync(t))throw`file ${t} not exists!`;return c0.existsSync(e.out)||c0.mkdirSync(e.out),(0,Vde.compileAsync)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,hex:!0,cmdPrefix:(0,Wo.findCompiler)()})}Be.compileContractAsync=spe;function ope(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))}Be.newCall=ope;function ape(t){let e;return t.expr.nodeType==="IntLiteral"?e=t.expr.value.toString(10):t.expr.nodeType==="BoolLiteral"&&(e=t.expr.value),t.expr.nodeType==="BytesLiteral"&&(e=`b'${t.expr.value.map(r=>pw(r)).join("")}'`),t.expr.nodeType==="FunctionCall"&&([Wo.ScryptType.PUBKEY,Wo.ScryptType.RIPEMD160,Wo.ScryptType.SIG,Wo.ScryptType.SIGHASHTYPE,Wo.ScryptType.OPCODETYPE,Wo.ScryptType.SIGHASHPREIMAGE,Wo.ScryptType.SHA1,Wo.ScryptType.SHA256].includes(t.expr.name)?e=`b'${t.expr.params[0].value.map(r=>pw(r)).join("")}'`:t.expr.name===Wo.ScryptType.PRIVKEY&&(e=t.expr.params[0].value.toString(10))),e}Be.resolveConstValue=ape;function cL({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}Be.ansiRegex=cL;function upe(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(cL(),"")}Be.stripAnsi=upe;function cpe(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function fpe(t,e,r){let n=r;for(let i of t.entries()){let s=i[0],o=i[1];n=n.replace(s,o)}for(let i of e.entries()){let s=i[0],o=i[1];n=n.replace(new RegExp(`${cpe(s)}`,"g"),o)}return os.Script.fromHex(n)}Be.buildContractCode=fpe;function hpe(t,e){let r=Object.getPrototypeOf(t).constructor.abi,n=r.filter(h=>h.type==="function");if(n.length===1)return n[0];let o=os.Script.fromHex(e).toASM(),a=o.substr(o.lastIndexOf(" ")+1),u=rL(a),c=r.find(h=>h.index===u);if(!c)throw new Error(`the raw unlocking script cannot match the contract ${t.contractName}`);return c}Be.parseAbiFromUnlockingScript=hpe;function lpe(t){return`[${t.params.map(e=>e.type).join(",")}]`}Be.librarySign=lpe;function dpe(t){return`${JSON.stringify(t.params.reduce((e,r)=>Object.assign(e,{[r.name]:r.type}),{}),null,4)}`}Be.structSign=dpe;async function ppe(t){return new Promise((e,r)=>{(0,QD.parseChunked)(c0.createReadStream(t)).then(n=>{e(n)}).catch(n=>{r(n)})})}Be.JSONParser=ppe;function mpe(t){return JSON.parse(c0.readFileSync(t,"utf8"))}Be.JSONParserSync=mpe;async function gpe(t,e){return new Promise((r,n)=>{(0,QD.stringifyStream)(e).pipe(c0.createWriteStream(t)).on("finish",()=>{r(!0)}).on("error",i=>{n(i)})})}Be.JSONStringify=gpe;function bpe(t,e){let r=(0,Kde.decode)(e.mappings);for(let n=0;n<r[0].length;n++)if(!(r[0][n][0]<=t))return r[0][n-1];return r[0][r[0].length-1]}Be.findSrcInfoV2=bpe;function ype(t,e){for(;--e>0;)if(t[e].pos&&t[e].pos.file!=="std"&&t[e].pos.line>0)return t[e]}Be.findSrcInfoV1=ype;function vpe(t){return jde.createHash("md5").update(t).digest("hex")}Be.md5=vpe;function _pe(t){os.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,os.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let e=new os.Script.Interpreter,r=new os.Transaction().from({txId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:"",satoshis:1});if(e.verify(new os.Script(""),t,r,0,Be.DEFAULT_FLAGS,new os.crypto.BN(1))||e.errstr!=="SCRIPT_ERR_EVAL_FALSE_NO_RESULT")throw new Error("NopScript should be a script that does not affect the Bitcoin virtual machine stack.")}Be.checkNOPScript=_pe});var bw=$(fu=>{k();M();Object.defineProperty(fu,"__esModule",{value:!0});fu.toScriptASM=fu.toScriptHex=fu.bytes2hex=fu.bool2hex=fu.int2hex=void 0;var Tf=Sf(),G3=v6(),xpe=G3.bsv.crypto.BN;function fL(t){if(t===(0,Tf.Int)(0))return"00";if(t===(0,Tf.Int)(-1))return"4f";if(t>(0,Tf.Int)(0)&&t<=(0,Tf.Int)(16))return t+=(0,Tf.Int)(80),t.toString(16);let r=new xpe(t).toSM({endian:"little"});return G3.bsv.Script.fromASM(r.toString("hex")).toHex()}fu.int2hex=fL;function hL(t){return t?"51":"00"}fu.bool2hex=hL;function lL(t){if(t){if(t.length/2>1)return G3.bsv.Script.fromASM(t).toHex();let e=parseInt(t,16);return e>=1&&e<=16?BigInt(e+80).toString(16):G3.bsv.Script.fromASM(t).toHex()}return"00"}fu.bytes2hex=lL;function dL(t,e){if(e===Tf.ScryptType.INT||e===Tf.ScryptType.PRIVKEY)return fL(t);if(e===Tf.ScryptType.BOOL)return hL(t);if((0,Tf.isBytes)(e))return lL(t);throw new Error(`unsupport SupportedParamType: ${t}`)}fu.toScriptHex=dL;function Spe(t,e){let r=dL(t,e);return G3.bsv.Script.fromHex(r).toASM()}fu.toScriptASM=Spe});var yw=$(as=>{k();M();Object.defineProperty(as,"__esModule",{value:!0});as.deserializeArgfromHex=as.createArray=as.createLibrary=as.createStruct=as.deserializer=as.hex2bytes=as.hex2bool=as.hex2int=void 0;var Gs=rr(),pn=Sf(),Hb=Db(),pL=v6();function Fb(t){if(t==="00")return(0,pn.Int)(0);if(t==="4f")return(0,pn.Int)(-1);{let r=pL.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?BigInt(r.opcodenum-80):(0,Gs.bin2num)(r.buf.toString("hex"))}}as.hex2int=Fb;function mL(t){if(t==="51")return!0;if(t==="00")return!1;throw new Error(`invalid hex ${t}`)}as.hex2bool=mL;function Af(t){if(t==="00")return"";let r=pL.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?A.Buffer.from([r.opcodenum-80]).toString("hex"):r.buf.toString("hex")}as.hex2bytes=Af;function z3(t,e){switch(t){case pn.ScryptType.BOOL:return(0,pn.Bool)(mL(e));case pn.ScryptType.INT:return(0,pn.Int)(Fb(e));case pn.ScryptType.BYTES:return(0,pn.Bytes)(Af(e));case pn.ScryptType.PRIVKEY:return(0,pn.PrivKey)(Fb(e));case pn.ScryptType.PUBKEY:return(0,pn.PubKey)(Af(e));case pn.ScryptType.SIG:return(0,pn.Sig)(Af(e));case pn.ScryptType.RIPEMD160:return(0,pn.Ripemd160)(Af(e));case pn.ScryptType.SHA1:return(0,pn.Sha1)(Af(e));case pn.ScryptType.SHA256:return(0,pn.Sha256)(Af(e));case pn.ScryptType.SIGHASHTYPE:return(0,pn.SigHashType)(Number(Fb(e)));case pn.ScryptType.SIGHASHPREIMAGE:return(0,pn.SigHashPreimage)(Af(e));case pn.ScryptType.OPCODETYPE:return(0,pn.OpCodeType)(Af(e));default:throw new Error(`<${t}> cannot be cast to ScryptType, only sCrypt native types supported`)}}as.deserializer=z3;function _6(t,e,r,n){let s=t(e.type).info,o=Object.create({});return s.params.forEach(a=>{let u=t(a.type);(0,Gs.isArrayType)(u.finalType)?Object.assign(o,{[a.name]:S6(t,u.finalType,`${e.name}.${a.name}`,r,n)}):u.symbolType===Gs.SymbolType.Struct?Object.assign(o,{[a.name]:_6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):u.symbolType===Gs.SymbolType.Library?Object.assign(o,{[a.name]:x6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):n.state?Object.assign(o,{[a.name]:Hb.default.deserializer(u.finalType,r.get(`<${e.name}.${a.name}>`))}):Object.assign(o,{[a.name]:z3(u.finalType,r.get(`<${e.name}.${a.name}>`))})}),o}as.createStruct=_6;function x6(t,e,r,n){let s=t(e.type).info;if(n.state){let o={};return s.properties.forEach(a=>{let u=t(a.type);(0,Gs.isArrayType)(u.finalType)?Object.assign(o,{[a.name]:S6(t,a.type,`${e.name}.${a.name}`,r,n)}):u.symbolType===Gs.SymbolType.Struct?Object.assign(o,{[a.name]:_6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):u.symbolType===Gs.SymbolType.Library?Object.assign(o,{[a.name]:x6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):Object.assign(o,{[a.name]:Hb.default.deserializer(u.finalType,r.get(`<${e.name}.${a.name}>`))})}),o}else return s.params.map(o=>{let a=t(o.type);return(0,Gs.isArrayType)(a.finalType)?S6(t,a.finalType,`${e.name}.${o.name}`,r,n):a.symbolType===Gs.SymbolType.Struct?_6(t,{name:`${e.name}.${o.name}`,type:o.type},r,n):a.symbolType===Gs.SymbolType.Library?x6(t,{name:`${e.name}.${o.name}`,type:o.type},r,n):z3(a.finalType,r.get(`<${e.name}.${o.name}>`))})}as.createLibrary=x6;function S6(t,e,r,n,i){let s=[],[o,a]=(0,Gs.arrayTypeAndSize)(e),u=a[0];if(a.length===1)for(let c=0;c<u;c++){let h=t(o);h.symbolType===Gs.SymbolType.Struct?s.push(_6(t,{name:`${r}[${c}]`,type:h.finalType},n,i)):h.symbolType===Gs.SymbolType.Library?s.push(x6(t,{name:`${r}[${c}]`,type:h.finalType},n,i)):i.state?s.push(Hb.default.deserializer(h.finalType,n.get(`<${r}[${c}]>`))):s.push(z3(h.finalType,n.get(`<${r}[${c}]>`)))}else for(let c=0;c<u;c++){let f=[t(o).finalType,a.slice(1).map(p=>`[${p}]`).join("")].join("");s.push(S6(t,f,`${r}[${c}]`,n,i))}return s}as.createArray=S6;function wpe(t,e,r,n){let i,s=t(e.type);return(0,Gs.isArrayType)(s.finalType)?i=S6(t,e.type,e.name,r,n):s.symbolType===Gs.SymbolType.Struct?i=_6(t,e,r,n):s.symbolType===Gs.SymbolType.Library?i=x6(t,e,r,n):n.state?i=Hb.default.deserializer(e.type,r.get(`<${e.name}>`)):i=z3(e.type,r.get(`<${e.name}>`)),e.value=i,e}as.deserializeArgfromHex=wpe});var Db=$(_w=>{k();M();Object.defineProperty(_w,"__esModule",{value:!0});var us=rr(),gL=yw(),vw=pa(),Et=Sf(),Qr=class{static int2hex(e){let r="",n=new us.bsv.crypto.BN(e);return n.eqn(0)?r="00":r=n.toSM({endian:"little"}).toString("hex"),us.bsv.Script.fromASM(r).toHex()}static hex2int(e){let n=us.bsv.Script.fromHex(e).chunks[0];return(0,us.bin2num)(n.buf.toString("hex"))}static bool2hex(e){return e?"01":"00"}static hex2bool(e){if(e==="01")return!0;if(e==="00")return!1;throw new Error(`invalid hex ${e}`)}static bytes2hex(e){return e===""?"00":us.bsv.Script.fromASM(e).toHex()}static hex2bytes(e){return e==="00"?"":us.bsv.Script.fromHex(e).chunks[0].buf.toString("hex")}static toHex(e,r){if(r===Et.ScryptType.INT||r===Et.ScryptType.PRIVKEY)return Qr.int2hex(e);if(r===Et.ScryptType.BOOL)return Qr.bool2hex(e);if((0,Et.isBytes)(r))return Qr.bytes2hex(e);throw new Error(`unsupported type: ${r}`)}static serialize(e,r){if(r===Et.ScryptType.INT||r===Et.ScryptType.PRIVKEY){let n=new us.bsv.crypto.BN(e);return n.eqn(0)?"":n.toSM({endian:"little"}).toString("hex")}else{if(r===Et.ScryptType.BOOL)return e?"01":"";if((0,Et.isBytes)(r))return e}throw new Error(`unsupported type: ${r}`)}static buildState(e,r,n){let i=e.map(o=>(0,vw.flatternArg)(o,n,{state:!0,ignoreValue:!1})).flat(1/0);if(i.length<=0)throw new Error("no state property found, buildContractState only used for state contract");let s=`${Qr.toHex(r,Et.ScryptType.BOOL)}`;if(s+=i.map(o=>Qr.toHex(o.value,o.type)).join(""),s){let o=s.length/2;return s+=(0,us.num2bin)(BigInt(o),4)+(0,us.num2bin)(Qr.CURRENT_STATE_VERSION,1),s}return s}static buildDefaultStateArgs(e){let r=e.stateProps.map(i=>{let s=Object.assign({},i,{value:!1});return(0,vw.flatternArg)(s,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),n=new Map;return r.forEach(i=>{if(i.type===Et.ScryptType.INT||i.type===Et.ScryptType.PRIVKEY)n.set(`<${i.name}>`,Qr.int2hex((0,Et.Int)(0)));else if(i.type===Et.ScryptType.BOOL)n.set(`<${i.name}>`,Qr.bool2hex(!0));else if(i.type===Et.ScryptType.BYTES||i.type===Et.ScryptType.PUBKEY||i.type===Et.ScryptType.SIG||i.type===Et.ScryptType.RIPEMD160||i.type===Et.ScryptType.SHA1||i.type===Et.ScryptType.SHA256||i.type===Et.ScryptType.SIGHASHTYPE||i.type===Et.ScryptType.SIGHASHPREIMAGE||i.type===Et.ScryptType.OPCODETYPE)n.set(`<${i.name}>`,Qr.bytes2hex("00"));else throw new Error(`param ${i.name} has unknown type ${i.type}`)}),e.stateProps.map(i=>(0,gL.deserializeArgfromHex)(e.resolver,Object.assign(i,{value:void 0}),n,{state:!0}))}static deserializer(e,r){switch(e){case Et.ScryptType.BOOL:return(0,Et.Bool)(Qr.hex2bool(r));case Et.ScryptType.INT:return(0,Et.Int)(Qr.hex2int(r));case Et.ScryptType.BYTES:return(0,Et.Bytes)(Qr.hex2bytes(r));case Et.ScryptType.PRIVKEY:return(0,Et.PrivKey)(Qr.hex2int(r));case Et.ScryptType.PUBKEY:return(0,Et.PubKey)(Qr.hex2bytes(r));case Et.ScryptType.SIG:return(0,Et.Sig)(Qr.hex2bytes(r));case Et.ScryptType.RIPEMD160:return(0,Et.Ripemd160)(Qr.hex2bytes(r));case Et.ScryptType.SHA1:return(0,Et.Sha1)(Qr.hex2bytes(r));case Et.ScryptType.SHA256:return(0,Et.Sha256)(Qr.hex2bytes(r));case Et.ScryptType.SIGHASHTYPE:return(0,Et.SigHashType)(Number(Qr.hex2int(r)));case Et.ScryptType.SIGHASHPREIMAGE:return(0,Et.SigHashPreimage)(Qr.hex2bytes(r));case Et.ScryptType.OPCODETYPE:return(0,Et.OpCodeType)(Qr.hex2bytes(r));default:throw new Error(`<${e}> cannot be cast to ScryptType, only sCrypt native types supported`)}}static readBytes(e){try{let r=e.readUInt8(),n,i;return r==0?i="":r>0&&r<us.bsv.Opcode.OP_PUSHDATA1?(n=r,i=e.read(n).toString("hex")):r===us.bsv.Opcode.OP_PUSHDATA1?(n=e.readUInt8(),i=e.read(n).toString("hex")):r===us.bsv.Opcode.OP_PUSHDATA2?(n=e.readUInt16LE(),i=e.read(n).toString("hex")):r===us.bsv.Opcode.OP_PUSHDATA4?(n=e.readUInt32LE(),i=e.read(n).toString("hex")):i=(0,us.num2bin)(BigInt(r-80),1),{data:i,opcodenum:r}}catch(r){throw new Error("readBytes: "+r)}}static parseStateHex(e,r){let n=r.substr(r.length-10,10),i=Number((0,us.bin2num)(n.substr(n.length-2,2))),s=Number((0,us.bin2num)(n.substr(0,8))),o=r.substr(r.length-10-s*2,s*2),a=new us.bsv.encoding.BufferReader(A.Buffer.from(o,"hex")),c=a.readUInt8()==1,h=new Map;e.stateProps.map(l=>{let y=Object.assign({},l,{value:!1});return(0,vw.flatternArg)(y,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0).forEach(l=>{if(l.type===Et.ScryptType.BOOL){let y=a.readUInt8();h.set(`<${l.name}>`,y===1?"01":"00")}else{let{data:y}=Qr.readBytes(a);h.set(`<${l.name}>`,y?us.bsv.Script.fromASM(y).toHex():"00")}});let p=e.stateProps.map(l=>Object.assign({},l,{value:!1})).map(l=>(0,gL.deserializeArgfromHex)(e.resolver,l,h,{state:!0}));return[c,p]}};_w.default=Qr;Qr.CURRENT_STATE_VERSION=(0,Et.Int)(0)});var ww=$(zs=>{k();M();Object.defineProperty(zs,"__esModule",{value:!0});zs.buildTypeResolver=zs.buildTypeResolverFromArtifact=zs.buildContractClass=zs.AbstractContract=zs.SUPPORTED_MINIMUM_VERSION=zs.CURRENT_CONTRACT_ARTIFACT_VERSION=void 0;var xw=Mo(),Sw=rr(),bL=L3(),mt=pa(),ga=Sf(),W3=Db(),f0=K3();zs.CURRENT_CONTRACT_ARTIFACT_VERSION=9;zs.SUPPORTED_MINIMUM_VERSION=8;var ol=class{constructor(...e){this.calledPubFunctions=[],this.hasInlineASMVars=!1,this.hexTemplateInlineASM=new Map,this.hexTemplateArgs=new Map,this.statePropsArgs=[],this.isGenesis=!0}get lockingScript(){if(this.hasInlineASMVars&&this.hexTemplateInlineASM.size===0)throw new Error("Values for inline ASM variables have not yet been set! Cannot get locking script.");return this.dataPart?this.codePart.add(this.dataPart):this._wrapNOPScript(this.scriptedConstructor?.lockingScript)}_wrapNOPScript(e){return this.nopScript?this.nopScript.clone().add(e):e}set txContext(e){this._txContext=e}get txContext(){return this._txContext}get sourceMapFile(){return Object.getPrototypeOf(this).constructor.artifact.sourceMapFile}get file(){return Object.getPrototypeOf(this).constructor.artifact.file}get contractName(){return Object.getPrototypeOf(this).constructor.artifact.contract}get stateProps(){return Object.getPrototypeOf(this).constructor.artifact.stateProps||[]}get version(){return Object.getPrototypeOf(this).constructor.artifact.version||0}addFunctionCall(e){this.calledPubFunctions.push(e)}get resolver(){return Object.getPrototypeOf(this).constructor.resolver}replaceAsmVars(e){if(e)for(let i in e){let s=e[i];this.hexTemplateInlineASM.set(`<${i.startsWith("$")?i.substring(1):i}>`,mt.bsv.Script.fromASM(s).toHex())}let r=Object.getPrototypeOf(this).constructor.hex,n=(0,mt.buildContractCode)(this.hexTemplateArgs,this.hexTemplateInlineASM,r);this.scriptedConstructor.lockingScript=n}get asmArgs(){let e={};for(let r of this.hexTemplateInlineASM.entries()){let n=r[0].replace("<","").replace(">",""),i=r[1];e[n]=mt.bsv.Script.fromHex(i).toASM()}return e}getNewStateScript(e){let r=this.statePropsArgs;if(r.length===0)throw new Error(`Contract ${this.contractName} does not have any stateful property`);let n=[],i=r.map(s=>{if(Object.prototype.hasOwnProperty.call(e,s.name)){n.push(s.name);let o=e[s.name];o=this.transformerArg(o,s,!0);let a=(0,f0.checkSupportedParamType)(o,s,this.resolver);if(a)throw a;return Object.assign({...s},{value:o})}else return s});return Object.keys(e).forEach(s=>{if(n.indexOf(s)===-1)throw new Error(`Contract ${this.contractName} does not have stateful property ${s}`)}),this.codePart.add(mt.bsv.Script.fromHex(W3.default.buildState(i,!1,this.resolver)))}run_verify(e,r){let n=Object.assign({},this._txContext||{},r||{}),i;typeof e=="string"?i=e.trim()?mt.bsv.Script.fromASM(e.trim()):new mt.bsv.Script(""):i=e||new mt.bsv.Script("");let s=mt.bsv.Script.fromHex(this.lockingScript.toHex()),o=typeof n.tx=="string"?new mt.bsv.Transaction(n.tx):n.tx,a=n.inputIndex,u=n.inputSatoshis;mt.bsv.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,mt.bsv.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let c=new mt.bsv.Script.Interpreter,h={};c.stepListener=function(p){(p.fExec||mt.bsv.Opcode.OP_IF<=p.opcode.toNumber()&&p.opcode.toNumber()<=mt.bsv.Opcode.OP_ENDIF)&&(mt.bsv.Opcode.OP_IF<=p.opcode.toNumber()&&p.opcode.toNumber()<=mt.bsv.Opcode.OP_ENDIF||p.opcode.toNumber()===mt.bsv.Opcode.OP_RETURN?h.opcode=p.opcode:h=p)};let f=c.verify(i,s,o,a,mt.DEFAULT_FLAGS,new mt.bsv.crypto.BN(u));if(f)return{success:!0,error:""};if((c.errstr||"").indexOf("SCRIPT_ERR_NULLFAIL")>-1){if(!n)throw new Error("should provide txContext when verify");if(!o)throw new Error("should provide txContext.tx when verify")}return h.opcode=h.opcode.toNumber(),{success:f,error:this.fmtError({error:c.errstr||"",failedAt:h})}}fmtError(e){let r=e.failedAt.opcode,n=`VerifyError: ${e.error}, fails at ${new mt.bsv.Opcode(r)}
`;if(this.sourceMapFile){let i=(0,mt.uri2path)(this.sourceMapFile),s=(0,mt.JSONParserSync)(i),o=(0,xw.join)(i,this.file),a=(0,xw.dirname)(o),u=(0,xw.basename)(o),c=s.sources.map(f=>(0,bL.getFullFilePath)(f,a,u)),h=(0,mt.findSrcInfoV2)(e.failedAt.pc,s);h&&c[h[1]]&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,mt.path2uri)(c[h[1]])}#${h[2]})  fails at ${new mt.bsv.Opcode(r)}
`)}else if(this.version<=8){let i=Object.getPrototypeOf(this).constructor.artifact,s=(0,bL.loadSourceMapfromArtifact)(i);if(s.length>0){let o=e.failedAt.pc;if(s[o]){let a=s[o];if(!a.pos||a.pos.file==="std"){let u=(0,mt.findSrcInfoV1)(s,o);u&&(a.pos=u.pos)}a&&a.pos&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,mt.path2uri)(a.pos.file)}#${a.pos.line})  fails at ${new mt.bsv.Opcode(r)}
`)}}}return n}genLaunchConfig(e){let r=Object.assign({},this.txContext||{},e||{}),n=this.lastCalledPubFunction();if(n)return`[Launch Debugger](${n.genLaunchConfig(r).replace(/file:/i,"scryptlaunch:")})
`;throw new Error("No public function called")}set dataPart(e){throw new Error("Setter for dataPart is not available. Please use: setDataPart() instead")}get dataPart(){if(ol.isStateful(this)){let e=W3.default.buildState(this.statePropsArgs,this.isGenesis,this.resolver);return mt.bsv.Script.fromHex(e)}if(this._dataPartInHex)return mt.bsv.Script.fromHex(this._dataPartInHex)}setDataPart(e,r=!1){r==!1?(console.warn("deprecated, using setDataPartInASM"),this.setDataPartInASM(e)):(console.warn("deprecated, using setDataPartInHex"),this.setDataPartInHex(e))}setDataPartInASM(e){if(ol.isStateful(this))throw new Error("should not use `setDataPartInASM` for a stateful contract, using `setDataPartInHex`");let r=e.trim();this.setDataPartInHex(mt.bsv.Script.fromASM(r).toHex())}setDataPartInHex(e){if(this._dataPartInHex=e.trim(),ol.isStateful(this)){let[r,n]=W3.default.parseStateHex(this,this._dataPartInHex);this.statePropsArgs=n,this.isGenesis=r}}prependNOPScript(e){e instanceof mt.bsv.Script&&(0,mt.checkNOPScript)(e),this.nopScript=e}getPrependNOPScript(){return this.nopScript}get codePart(){let e=this.scriptedConstructor.toScript();return this._wrapNOPScript(e.clone()).add(mt.bsv.Script.fromHex("6a"))}get codeHash(){return this.dataPart?(0,mt.hash160)(this.codePart.toHex()):(0,mt.hash160)(this.lockingScript.toHex())}static getAsmVars(e){return this.fromHex(e).asmArgs}arguments(e){if(e==="constructor")return this.scriptedConstructor.args;for(let r=this.calledPubFunctions.length-1;r>=0;r--){let n=this.calledPubFunctions[r];if(n.methodName===e)return n.args}return[]}lastCalledPubFunction(){let e=this.calledPubFunctions.length-1;if(!(e<0))return this.calledPubFunctions[e]}ctorArgs(){return this.arguments("constructor")}get asmVars(){return this.ContractClass.getAsmVars(this.scriptedConstructor.toHex())}get ContractClass(){return Object.getPrototypeOf(this).constructor}transformerArgs(e,r,n){return r.map((i,s)=>this.transformerArg(e[s],i,n))}transformerArg(e,r,n){let i=this.resolver(r.type);if((0,mt.isArrayType)(i.finalType)){let[s,o]=(0,f0.arrayTypeAndSize)(i.finalType);if(!Array.isArray(e)||e.length!==o[0])return e;let a=(0,f0.subArrayType)(r.type),u=[];for(let c=0;c<o[0];c++){let h=e[c];u.push(this.transformerArg(h,{name:`${r.name}${(0,mt.subscript)(c,o)}`,type:a},n))}return u}else if(i.symbolType===ga.SymbolType.Library){let s=i.info;if(s.name==="HashedMap"){if(e instanceof Map)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)]}else if(s.name==="HashedSet"&&e instanceof Set)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)];let o=n?s.properties:s.params;if(!n&&Array.isArray(e))return o.map((a,u)=>this.transformerArg(e[u],a,n));if(n&&typeof e=="object")return o.reduce((a,u)=>(Object.assign(a,{[u.name]:this.transformerArg(e[u.name],u,n)}),a),{})}else if(i.symbolType===ga.SymbolType.Struct){if(!Array.isArray(e)&&typeof e=="object"){let s=i.info;if(s.name==="SortedItem"){if(e.idx===(0,ga.Int)(-1)&&(e.image instanceof Map||e.image instanceof Set)){let[a,u]=(0,Sw.parseGenericType)(i.finalType);return Object.assign({},{idx:this.ContractClass.findKeyIndex(e.image,e.item,u[0]),item:e.item})}return e}let o=Object.assign({},e);return s.params.forEach(a=>{typeof e[a.name]<"u"&&(o[a.name]=this.transformerArg(e[a.name],a,n))}),o}}else if(typeof e=="number")return BigInt(e);return e}checkArgs(e,r,...n){if(n.length!==r.length)throw new Error(`wrong number of arguments for '${this.contractName}.${e}', expected ${r.length} but got ${n.length}`);let i=this.transformerArgs(n,r,!1);return r.forEach((s,o)=>{let a=i[o],u=(0,f0.checkSupportedParamType)(a,s,this.resolver);if(u)throw u}),i}static fromASM(e){return this.fromHex(mt.bsv.Script.fromASM(e).toHex())}static fromHex(e){this.asmContract=!0;let r=this,n=new r;return this.asmContract=!1,n.scriptedConstructor=this.abiCoder.encodeConstructorCallFromRawHex(n,this.hex,e),n}static fromTransaction(e,r=0){let n=new mt.bsv.Transaction(e);return this.fromHex(n.outputs[r].script.toHex())}static isStateful(e){return e.stateProps.length>0}static flattenSha256(e,r){let n=(0,f0.checkSupportedParamType)(e,{name:"",type:r},this.resolver);if(n)throw n;let i=(0,f0.flatternArg)({name:"",type:r,value:e},this.resolver,{state:!0,ignoreValue:!1});if(i.length===1){let s=W3.default.serialize(i[0].value,i[0].type);return mt.bsv.crypto.Hash.sha256(A.Buffer.from(s,"hex")).toString("hex")}else{let s=i.map(o=>{let a=W3.default.serialize(o.value,o.type);return mt.bsv.crypto.Hash.sha256(A.Buffer.from(a,"hex")).toString("hex")}).join("");return mt.bsv.crypto.Hash.sha256(A.Buffer.from(s,"hex")).toString("hex")}}static sortmap(e,r){return new Map([...e.entries()].sort((n,i)=>mt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(n[0],r),"hex"),{endian:"little"}).cmp(mt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(i[0],r),"hex"),{endian:"little"}))))}static sortset(e,r){return new Set([...e.keys()].sort((n,i)=>mt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(mt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"}))))}static sortkeys(e,r){return e.sort((n,i)=>mt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(mt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"})))}static findKeyIndex(e,r,n){let i=[...e.keys()];i.push(r);let o=this.sortkeys(i,n).findIndex(a=>a===r);return BigInt(o)}static toData(e,r){let[n,i]=(0,Sw.parseGenericType)(r),s="";if(e instanceof Map){let o=this.sortmap(e,i[0]);for(let a of o.entries())s+=this.flattenSha256(a[0],i[0])+this.flattenSha256(a[1],i[1])}else{let o=this.sortset(e,i[0]);for(let a of o.keys())s+=this.flattenSha256(a,i[0])}return(0,ga.Bytes)(s)}};zs.AbstractContract=ol;var Epe=["arguments","setDataPart","setDataPartInASM","setDataPartInHex","version","stateProps","sourceMapFile","file","contractName","ctorArgs","run_verify","replaceAsmVars","asmVars","asmArguments","dataPart","lockingScript","codeHash","codePart","resolver","getNewStateScript","txContext"];function Tpe(t){if(t instanceof mt.CompileResult&&(t=t.toArtifact()),!t.contract)throw new Error("Missing field `contract` in artifact");if(!t.version)throw new Error("Missing field `version` in artifact");if(t.version<zs.SUPPORTED_MINIMUM_VERSION)throw new Error(`Contract artifact version deprecated, The minimum version number currently supported is ${zs.SUPPORTED_MINIMUM_VERSION}`);if(!t.abi)throw new Error("Missing field `abi` in artifact");if(!t.hex)throw new Error("Missing field `hex` in artifact");let e=class extends ol{constructor(...r){super(),e.asmContract||(this.scriptedConstructor=e.abiCoder.encodeConstructorCall(this,e.hex,...r))}};return e.artifact=t,e.resolver=yL(t),e.abi=t.abi,e.hex=t.hex,e.abiCoder=new mt.ABICoder(t.abi,e.resolver,t.contract),e.stateProps=t.stateProps||[],e.abi.forEach(r=>{if(r.type!==Sw.ABIEntityType.CONSTRUCTOR){if(!r.name||Epe.indexOf(r.name)>-1)throw new Error(`Method name [${r.name}] is used by scryptlib now, Pelease change you contract method name!`);e.prototype[r.name]=function(...n){let i=e.abiCoder.encodePubFunctionCall(this,r.name||"",n);return this.addFunctionCall(i),i}}}),e.stateProps.forEach(r=>{Object.defineProperty(e.prototype,r.name,{get(){let n=this.statePropsArgs.find(i=>i.name===r.name);if(n)return n.value;throw new Error(`property ${r.name} does not exists`)},set(n){let i=this.statePropsArgs.find(s=>s.name===r.name);if(i){n=this.transformerArg(n,i,!0);let s=(0,f0.checkSupportedParamType)(n,i,this.resolver);if(s)throw s;i.value=n,this.isGenesis=!1}else throw new Error(`property ${r.name} does not exists`)}})}),e}zs.buildContractClass=Tpe;function yL(t){let e=t.alias||[],r=t.library||[],n=t.structs||[],i=t.contract;return vL(i,e,n,r)}zs.buildTypeResolverFromArtifact=yL;function vL(t,e,r,n,i=[],s=[]){let o={};return r.forEach(u=>{o[u.name]={info:u,generic:(0,f0.hasGeneric)(u),finalType:u.name,symbolType:ga.SymbolType.Struct}}),n.forEach(u=>{o[u.name]={info:u,generic:(0,f0.hasGeneric)(u),finalType:u.name,symbolType:ga.SymbolType.Library}}),i.forEach(u=>{o[u.name]={info:u,generic:(0,f0.hasGeneric)(u),finalType:u.name,symbolType:ga.SymbolType.Contract}}),o.HashedMap={info:{name:"HashedMap",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["K","V"]},generic:!0,finalType:"HashedMap",symbolType:ga.SymbolType.Library},o.HashedSet={info:{name:"HashedSet",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["E"]},generic:!0,finalType:"HashedSet",symbolType:ga.SymbolType.Library},o.SortedItem={info:{name:"SortedItem",params:[{name:"item",type:"T"},{name:"idx",type:"int"}],genericTypes:["T"]},generic:!0,finalType:"SortedItem",symbolType:ga.SymbolType.Struct},o.PubKeyHash={finalType:"Ripemd160",generic:!1,symbolType:ga.SymbolType.ScryptType},u=>o[u]?o[u]:(0,ga.isScryptType)(u)?{generic:!1,finalType:u,symbolType:ga.SymbolType.ScryptType}:(0,mt.resolveType)(u,o,t,s,e,n)}zs.buildTypeResolver=vL});var Aw=$(Cr=>{k();M();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.hash256=Cr.sha256=Cr.hash160=Cr.buildPublicKeyHashScript=Cr.buildOpreturnScript=Cr.writeVarint=Cr.toLEUnsigned=Cr.len=Cr.invert=Cr.xor=Cr.or=Cr.and=Cr.bin2num=Cr.num2bin=Cr.unpack=Cr.pack=void 0;var Pf=rr();function al(t){return new Pf.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex")}Cr.pack=al;function Ape(t){return BigInt(w6(t))}Cr.unpack=Ape;function If(t,e){let r=new Pf.bsv.crypto.BN(t);if(r.eqn(0))return"00".repeat(e);let n=r.toSM({endian:"little"}).toString("hex"),i=n.length/2;if(i>e)throw new Error(`${t} cannot fit in ${e} byte[s]`);if(i===e)return n;let s=e-i,o=n.substring(n.length-2),a=n.substring(0,n.length-2),u=parseInt(o,16);r.isNeg()&&(u&=127);let c=u.toString(16);c.length<2&&(c="0"+c);let h=t>0?"00".repeat(s):"00".repeat(s-1)+"80";return a+c+h}Cr.num2bin=If;function w6(t){let e=t.substring(t.length-2),r=t.substring(0,t.length-2),n=parseInt(e,16),s=(n&127).toString(16);s.length<2&&(s="0"+s);let o=Pf.bsv.crypto.BN.fromHex(r+s,{endian:"little"});return n>>7&&(o=o.neg()),BigInt(o.toString())}Cr.bin2num=w6;function Ipe(t,e){let r=al(t).length/2,n=al(e).length/2,i=Math.max(r,n),s=A.Buffer.from(If(t,i),"hex"),o=A.Buffer.from(If(e,i),"hex");for(let a=0;a<s.length;a++)s[a]&=o[a];return w6(s.toString("hex"))}Cr.and=Ipe;function Ppe(t,e){let r=al(t).length/2,n=al(e).length/2,i=Math.max(r,n),s=A.Buffer.from(If(t,i),"hex"),o=A.Buffer.from(If(e,i),"hex");for(let a=0;a<s.length;a++)s[a]|=o[a];return w6(s.toString("hex"))}Cr.or=Ppe;function Ope(t,e){let r=al(t).length/2,n=al(e).length/2,i=Math.max(r,n),s=A.Buffer.from(If(t,i),"hex"),o=A.Buffer.from(If(e,i),"hex");for(let a=0;a<s.length;a++)s[a]^=o[a];return w6(s.toString("hex"))}Cr.xor=Ope;function Bpe(t){if(t===(0,Pf.Int)(0))return t;let e=al(t).length/2,r=A.Buffer.from(If(t,e),"hex");for(let n=0;n<r.length;n++)r[n]=~r[n];return w6(r.toString("hex"))}Cr.invert=Bpe;function Tw(t){return BigInt(t.length/2)}Cr.len=Tw;function Y3(t,e){let r=If(t,e+1);return r.slice(0,Number(Tw(r)-(0,Pf.Int)(1)))}Cr.toLEUnsigned=Y3;function Cpe(t){let e=Tw(t),r="";return e<253?r=Y3(e,1):e<65536?r="fd"+Y3(e,2):e<4294967296?r="fe"+Y3(e,4):e<18446744073709552e3&&(r="ff"+Y3(e,8)),r+t}Cr.writeVarint=Cpe;function kpe(t){return Pf.bsv.Script.fromASM(["OP_FALSE","OP_RETURN",t].join(" "))}Cr.buildOpreturnScript=kpe;function Mpe(t){return Pf.bsv.Script.fromASM(["OP_DUP","OP_HASH160",t,"OP_EQUALVERIFY","OP_CHECKSIG"].join(" "))}Cr.buildPublicKeyHashScript=Mpe;function Rpe(t,e){return Pf.bsv.crypto.Hash.sha256ripemd160(A.Buffer.from(t,e||"hex")).toString("hex")}Cr.hash160=Rpe;function Ew(t,e){return Pf.bsv.crypto.Hash.sha256(A.Buffer.from(t,e||"hex")).toString("hex")}Cr.sha256=Ew;function Npe(t,e){return Ew(Ew(t,e),e)}Cr.hash256=Npe});var Pw=$(hu=>{k();M();Object.defineProperty(hu,"__esModule",{value:!0});hu.readLaunchJson=hu.parseLiteral=hu.stringToBytes=hu.toJSON=hu.genLaunchConfigFile=void 0;var dt=pa(),Hp=v6(),Iw=qc(),Fpe=K_(),_L=Mo();function Hpe(t,e,r,n,i,s,o,a){if(!s)return"";let u={type:"scrypt",request:"launch",internalConsoleOptions:"openOnSessionStart",name:i,program:s,constructorArgs:e.map(p=>E6(p,t)),pubFunc:n,pubFuncArgs:r.map(p=>E6(p,t))},c={};if(!(0,Hp.isEmpty)(o)){let p=o.inputIndex||0;if(o.tx){let l=o.inputSatoshis;Object.assign(c,{hex:o.tx.toString(),inputIndex:p,inputSatoshis:l})}o.opReturn?Object.assign(c,{opReturn:o.opReturn}):o.opReturnHex&&Object.assign(c,{opReturnHex:o.opReturnHex})}(0,Hp.isEmpty)(a)||Object.assign(u,{asmArgs:a}),(0,Hp.isEmpty)(c)||Object.assign(u,{txContext:c});let h={version:"0.2.0",configurations:[u]},f=JSON.stringify(h,(p,l)=>typeof l=="bigint"?l.toString():l,2);if((0,Hp.isNode)()){let p=`${i}-launch.json`,l=(0,_L.join)(Iw.mkdtempSync(`${(0,Fpe.tmpdir)()}${_L.sep}sCrypt.`),p);return Iw.writeFileSync(l,f),(0,Hp.path2uri)(l)}else console.error(`${n}() call fail, see launch.json`,f)}hu.genLaunchConfigFile=Hpe;function E6(t,e){let r=e(t.type);if((0,Hp.isArrayType)(r.finalType)){let n=t.value,[i,s]=(0,dt.arrayTypeAndSize)(r.finalType),o=(0,dt.subArrayType)(r.finalType);return n.map((a,u)=>E6({name:`${t.name}${(0,dt.subscript)(u,s)}`,type:o,value:a},e))}else if(r.symbolType===dt.SymbolType.Library){let n=[],i=(0,dt.deduceGenericLibrary)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach((s,o)=>{n.push(E6({name:s.name,type:s.type,value:t.value[o]},e))}),n}else if(r.symbolType===dt.SymbolType.Struct){let n={},i=(0,dt.deduceGenericStruct)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach(s=>{Object.assign(n,{[s.name]:E6({name:s.name,type:s.type,value:t.value[s.name]},e)})}),n}else if(r.symbolType===dt.SymbolType.ScryptType)switch(r.finalType){case dt.ScryptType.BOOL:return t.value;case dt.ScryptType.INT:return t.value>=BigInt(Number.MIN_SAFE_INTEGER)&&t.value<=BigInt(Number.MAX_SAFE_INTEGER)?Number(t.value):t.value.toString();case dt.ScryptType.BYTES:return`b'${t.value.toString()}'`;case dt.ScryptType.PRIVKEY:return`PrivKey(${t.value.toString()})`;case dt.ScryptType.SIG:case dt.ScryptType.RIPEMD160:case dt.ScryptType.SHA1:case dt.ScryptType.SHA256:case dt.ScryptType.SIGHASHPREIMAGE:case dt.ScryptType.OPCODETYPE:case dt.ScryptType.SIGHASHTYPE:case dt.ScryptType.PUBKEY:return`${r.finalType}(b'${t.value.toString()}')`}}hu.toJSON=E6;function xL(t){let r=new TextEncoder().encode(t);return(0,dt.getValidatedHexString)(A.Buffer.from(r).toString("hex"))}hu.stringToBytes=xL;function Dpe(t,e=!1){if(t==="false")return[!1,dt.ScryptType.BOOL];if(t==="true")return[!0,dt.ScryptType.BOOL];if(e){let n=/^(0x[0-9a-fA-F]+)$/.exec(t);if(n)return[BigInt(n[1]),dt.ScryptType.INT];if(n=/^(-?\d+)$/.exec(t),n)return[BigInt(n[1]),dt.ScryptType.INT]}else if(/^([\da-fA-F]*)$/.exec(t))return[(0,dt.Bytes)(t),dt.ScryptType.BYTES];let r=/^b'([\da-fA-F]*)'$/.exec(t);if(r)return[(0,dt.Bytes)(r[1]),dt.ScryptType.BYTES];if(r=/^"([\s\S]*)"$/.exec(t),r)return[xL(r[1]),dt.ScryptType.BYTES];if(r=/^PrivKey\((-?\d+)\)$/.exec(t),r)return[BigInt(r[1]),dt.ScryptType.PRIVKEY];if(r=/^PrivKey\((0x[0-9a-fA-F]+)\)$/.exec(t),r)return[BigInt(r[1]),dt.ScryptType.PRIVKEY];if(r=/^PubKey\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.PUBKEY]}if(r=/^Sig\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.SIG]}if(r=/^Ripemd160\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.RIPEMD160]}if(r=/^Sha1\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.SHA1]}if(r=/^Sha256\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.SHA256]}if(r=/^SigHashType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.SIGHASHTYPE]}if(r=/^SigHashPreimage\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.SIGHASHPREIMAGE]}if(r=/^OpCodeType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,dt.getValidatedHexString)(r[1]);return[(0,dt.Bytes)(n),dt.ScryptType.OPCODETYPE]}throw new Error(`<${t}> cannot be cast to ASM format, only sCrypt native types supported`)}hu.parseLiteral=Dpe;var Lpe=/(\[((!\[[^\]]*?\]\(\s*)([^\s()]+?)\s*\)\]|(?:\\\]|[^\]])*\])\(\s*)(([^\s()]|\([^\s()]*?\))+)\s*(".*?")?\)/g;function Upe(t){for(let e of t.matchAll(Lpe))if(e[5]&&e[5].startsWith("scryptlaunch")){let r=e[5].replace(/scryptlaunch/,"file");return JSON.parse(Iw.readFileSync((0,Hp.uri2path)(r)).toString())}}hu.readLaunchJson=Upe});var IL=$(T6=>{k();M();Object.defineProperty(T6,"__esModule",{value:!0});T6.ABICoder=T6.FunctionCall=void 0;var Ow=Aw(),SL=L3(),AL=ww(),wL=yw(),qpe=Pw(),$pe=Sf(),EL=bw(),TL=Db(),Bw=K3(),co=v6(),Dp=class{get unlockingScript(){return this._unlockingScript}get lockingScript(){return this._lockingScript}set lockingScript(e){this._lockingScript=e}constructor(e,r){if(this.methodName=e,this.args=[],r.lockingScript===void 0&&r.unlockingScript===void 0)throw new Error("param binding.lockingScript & binding.unlockingScript cannot both be empty");this.contract=r.contract,this.args=r.args,r.lockingScript&&(this._lockingScript=r.lockingScript),r.unlockingScript&&(this._unlockingScript=r.unlockingScript)}toASM(){return this.toScript().toASM()}toString(){return this.toHex()}toScript(){return this.lockingScript?this.lockingScript:this.unlockingScript}toHex(){return this.toScript().toHex()}genLaunchConfig(e){let r=this.methodName,n=`Debug ${this.contract.contractName}`,i=`${this.contract.file}`,s=this.contract.asmArgs||{},o={};AL.AbstractContract.isStateful(this.contract)?Object.assign(o,{opReturnHex:this.contract.dataPart?.toHex()||""}):this.contract.dataPart&&Object.assign(o,{opReturn:this.contract.dataPart.toASM()});let a=Object.assign({},this.contract.txContext||{},e||{},o);return(0,qpe.genLaunchConfigFile)(this.contract.resolver,this.contract.ctorArgs(),this.args,r,n,i,a,s)}verify(e){let r=this.contract.run_verify(this.unlockingScript,e);if(!r.success){let n=this.genLaunchConfig(e);n&&(r.error=r.error+`	[Launch Debugger](${n.replace(/file:/i,"scryptlaunch:")})
`)}return r}};T6.FunctionCall=Dp;var Cw=class{constructor(e,r,n){this.abi=e,this.resolver=r,this.contractName=n}encodeConstructorCall(e,r,...n){let s=this.abi.filter(p=>p.type===SL.ABIEntityType.CONSTRUCTOR)[0]?.params||[],o=e.checkArgs("constructor",s,...n);s.flatMap((p,l)=>{let y=Object.assign({...p},{value:o[l]});return(0,Bw.flatternArg)(y,this.resolver,{state:!1,ignoreValue:!1})}).forEach(p=>{if(!r.includes(`<${p.name}>`))throw new Error(`abi constructor params mismatch with args provided: missing ${p.name} in ASM tempalte`);e.hexTemplateArgs.set(`<${p.name}>`,(0,EL.toScriptHex)(p.value,p.type))});let u=!!r.match(/<__codePart__>/g);u&&e.hexTemplateArgs.set("<__codePart__>","00");let c=r.match(/<.*?>/g),h=c?c.length:0;e.hasInlineASMVars=u?h>e.hexTemplateArgs.size+1:h>e.hexTemplateArgs.size,e.statePropsArgs=TL.default.buildDefaultStateArgs(e);let f=(0,co.buildContractCode)(e.hexTemplateArgs,e.hexTemplateInlineASM,r);return new Dp("constructor",{contract:e,lockingScript:f,args:s.map((p,l)=>({name:p.name,type:p.type,value:o[l]}))})}encodeConstructorCallFromRawHex(e,r,n){let i=co.bsv.Script.fromHex(n),o=this.abi.filter(E=>E.type===SL.ABIEntityType.CONSTRUCTOR)[0]?.params||[],a=0,u,c=-1,h=new Error(`the raw script cannot match the ASM template of contract ${e.contractName}`);function f(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2}function p(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let L=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=L)throw h;a=a+E.len*2}function l(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let L=r.substring(a,a+2);if(parseInt(L,16)!=E.len)throw h;a=a+2;let N=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=N)throw h;a=a+E.len*2}function y(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let L=r.substring(a,a+4);if((0,Ow.bin2num)(L)!=BigInt(E.len))throw h;a=a+4;let N=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=N)throw h;a=a+E.len*2}function _(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let L=r.substring(a,a+8);if((0,Ow.bin2num)(L)!=BigInt(E.len))throw h;a=a+8;let N=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=N)throw h;a=a+E.len*2}function O(){if(r.charAt(a)=="<"){let E=a,I=!1;for(;!I&&a<r.length;)a++,r.charAt(a)==">"&&(a++,I=!0);if(!I)throw new Error("cannot found break >");return r.substring(E,a)}}function F(E,I){let L=new co.bsv.encoding.BufferWriter;L.writeUInt8(I.opcodenum),I.buf&&(I.opcodenum<co.bsv.Opcode.OP_PUSHDATA1?L.write(I.buf):I.opcodenum===co.bsv.Opcode.OP_PUSHDATA1?(L.writeUInt8(I.len),L.write(I.buf)):I.opcodenum===co.bsv.Opcode.OP_PUSHDATA2?(L.writeUInt16LE(I.len),L.write(I.buf)):I.opcodenum===co.bsv.Opcode.OP_PUSHDATA4&&(L.writeUInt32LE(I.len),L.write(I.buf))),E.startsWith(`<${e.contractName}.`)?e.hexTemplateInlineASM.set(E,L.toBuffer().toString("hex")):e.hexTemplateArgs.set(E,L.toBuffer().toString("hex"))}for(let E=0;E<i.chunks.length;E++){let I=i.chunks[E],L=!1;switch(!0){case I.opcodenum===106:{a>=r.length?(u=co.bsv.Script.fromChunks(i.chunks.slice(E+1)).toHex(),c=E,L=!0):f(I);break}case I.opcodenum===0:{let N=O();N?F(N,I):f(I);break}case(I.opcodenum>=1&&I.opcodenum<=75):{let N=O();N?F(N,I):p(I);break}case(I.opcodenum>=79&&I.opcodenum<=96):{let N=O();N?F(N,I):f(I);break}case I.opcodenum===76:{let N=O();N?F(N,I):l(I);break}case I.opcodenum===77:{let N=O();N?F(N,I):y(I);break}case I.opcodenum===78:{let N=O();N?F(N,I):_(I);break}default:f(I)}if(L)break}let B=o.map(E=>(0,wL.deserializeArgfromHex)(e.resolver,Object.assign(E,{value:!1}),e.hexTemplateArgs,{state:!1}));if(AL.AbstractContract.isStateful(e)&&u){let E=u,I=u.substr(E.length-10,10);switch((0,Ow.bin2num)(I.substr(I.length-2,2))){case(0,$pe.Int)(0):{let[N,H]=TL.default.parseStateHex(e,E);e.statePropsArgs=H,e.isGenesis=N}break}}else u&&e.setDataPartInHex(u);return new Dp("constructor",{contract:e,lockingScript:c>-1?co.bsv.Script.fromChunks(i.chunks.slice(0,c)):i,args:B})}encodePubFunctionCall(e,r,n){for(let i of this.abi)if(i.name===r){let s=e.checkArgs(r,i.params,...n),a=i.params.flatMap((u,c)=>{let h=Object.assign({...u},{value:s[c]});return(0,Bw.flatternArg)(h,this.resolver,{state:!1,ignoreValue:!1})}).map(u=>(0,EL.toScriptHex)(u.value,u.type)).join("");if(this.abi.length>2&&i.index!==void 0){let u=i.index;a+=`${co.bsv.Script.fromASM((0,co.int2Asm)(u.toString())).toHex()}`}return new Dp(r,{contract:e,unlockingScript:co.bsv.Script.fromHex(a),args:i.params.map((u,c)=>({name:u.name,type:u.type,value:s[c]}))})}throw new Error(`no public function named '${r}' found in contract '${e.contractName}'`)}encodePubFunctionCallFromHex(e,r){let n=this.parseCallData(r);return new Dp(n.methodName,{contract:e,unlockingScript:n.unlockingScript,args:n.args})}parseCallData(e){let r=co.bsv.Script.fromHex(e),n=r.toASM(),i=this.abi.filter(l=>l.type==="function"),s=i.length,o;if(s===1)o=i[0];else{let l=n.slice(n.lastIndexOf(" ")+1),y=(0,co.asm2int)(l);o=this.abi.find(_=>_.index===y)}if(!o)throw new Error(`the raw unlocking script cannot match the contract ${this.constructor.name}`);let a=o.params||[],u=a.map(l=>{let y=Object.assign({},l,{value:!1});return(0,Bw.flatternArg)(y,this.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),c=u.length;this.abi.length>2&&o.index!==void 0&&(c+=1);let h=n.split(" ");if(c!=h.length)throw new Error(`the raw unlockingScript cannot match the arguments of public function ${o.name} of contract ${this.contractName}`);let f=new Map;u.forEach((l,y)=>{f.set(`<${l.name}>`,co.bsv.Script.fromASM(h[y]).toHex())});let p=a.map(l=>(0,wL.deserializeArgfromHex)(this.resolver,Object.assign(l,{value:!1}),f,{state:!1}));return{methodName:o.name,args:p,unlockingScript:r}}};T6.ABICoder=Cw});var CL=$((WWe,BL)=>{k();M();function jpe(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function PL(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function OL(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}BL.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(I){r.bools[I]=!0});var n={};function i(I){return n[I].some(function(L){return r.bools[L]})}Object.keys(e.alias||{}).forEach(function(I){n[I]=[].concat(e.alias[I]),n[I].forEach(function(L){n[L]=[I].concat(n[I].filter(function(N){return L!==N}))})}),[].concat(e.string).filter(Boolean).forEach(function(I){r.strings[I]=!0,n[I]&&[].concat(n[I]).forEach(function(L){r.strings[L]=!0})});var s=e.default||{},o={_:[]};function a(I,L){return r.allBools&&/^--[^=]+$/.test(L)||r.strings[I]||r.bools[I]||n[I]}function u(I,L,N){for(var H=I,D=0;D<L.length-1;D++){var C=L[D];if(OL(H,C))return;H[C]===void 0&&(H[C]={}),(H[C]===Object.prototype||H[C]===Number.prototype||H[C]===String.prototype)&&(H[C]={}),H[C]===Array.prototype&&(H[C]=[]),H=H[C]}var d=L[L.length-1];OL(H,d)||((H===Object.prototype||H===Number.prototype||H===String.prototype)&&(H={}),H===Array.prototype&&(H=[]),H[d]===void 0||r.bools[d]||typeof H[d]=="boolean"?H[d]=N:Array.isArray(H[d])?H[d].push(N):H[d]=[H[d],N])}function c(I,L,N){if(!(N&&r.unknownFn&&!a(I,N)&&r.unknownFn(N)===!1)){var H=!r.strings[I]&&PL(L)?Number(L):L;u(o,I.split("."),H),(n[I]||[]).forEach(function(D){u(o,D.split("."),H)})}}Object.keys(r.bools).forEach(function(I){c(I,s[I]===void 0?!1:s[I])});var h=[];t.indexOf("--")!==-1&&(h=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var p=t[f],l,y;if(/^--.+=/.test(p)){var _=p.match(/^--([^=]+)=([\s\S]*)$/);l=_[1];var O=_[2];r.bools[l]&&(O=O!=="false"),c(l,O,p)}else if(/^--no-.+/.test(p))l=p.match(/^--no-(.+)/)[1],c(l,!1,p);else if(/^--.+/.test(p))l=p.match(/^--(.+)/)[1],y=t[f+1],y!==void 0&&!/^(-|--)[^-]/.test(y)&&!r.bools[l]&&!r.allBools&&(n[l]?!i(l):!0)?(c(l,y,p),f+=1):/^(true|false)$/.test(y)?(c(l,y==="true",p),f+=1):c(l,r.strings[l]?"":!0,p);else if(/^-[^-]+/.test(p)){for(var F=p.slice(1,-1).split(""),B=!1,E=0;E<F.length;E++){if(y=p.slice(E+2),y==="-"){c(F[E],y,p);continue}if(/[A-Za-z]/.test(F[E])&&y[0]==="="){c(F[E],y.slice(1),p),B=!0;break}if(/[A-Za-z]/.test(F[E])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){c(F[E],y,p),B=!0;break}if(F[E+1]&&F[E+1].match(/\W/)){c(F[E],p.slice(E+2),p),B=!0;break}else c(F[E],r.strings[F[E]]?"":!0,p)}l=p.slice(-1)[0],!B&&l!=="-"&&(t[f+1]&&!/^(-|--)[^-]/.test(t[f+1])&&!r.bools[l]&&(n[l]?!i(l):!0)?(c(l,t[f+1],p),f+=1):t[f+1]&&/^(true|false)$/.test(t[f+1])?(c(l,t[f+1]==="true",p),f+=1):c(l,r.strings[l]?"":!0,p))}else if((!r.unknownFn||r.unknownFn(p)!==!1)&&o._.push(r.strings._||!PL(p)?p:Number(p)),e.stopEarly){o._.push.apply(o._,t.slice(f+1));break}}return Object.keys(s).forEach(function(I){jpe(o,I.split("."))||(u(o,I.split("."),s[I]),(n[I]||[]).forEach(function(L){u(o,L.split("."),s[I])}))}),e["--"]?o["--"]=h.slice():h.forEach(function(I){o._.push(I)}),o}});var ML=$((ZWe,kL)=>{k();M();var Kpe=/[|\\{}()[\]^$+*?.]/g;kL.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(Kpe,"\\$&")}});var NL=$((eYe,RL)=>{k();M();RL.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var kw=$((nYe,LL)=>{k();M();var Lp=NL(),DL={};for(Lb in Lp)Lp.hasOwnProperty(Lb)&&(DL[Lp[Lb]]=Lb);var Lb,at=LL.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(fo in at)if(at.hasOwnProperty(fo)){if(!("channels"in at[fo]))throw new Error("missing channels property: "+fo);if(!("labels"in at[fo]))throw new Error("missing channel labels property: "+fo);if(at[fo].labels.length!==at[fo].channels)throw new Error("channel and label counts mismatch: "+fo);FL=at[fo].channels,HL=at[fo].labels,delete at[fo].channels,delete at[fo].labels,Object.defineProperty(at[fo],"channels",{value:FL}),Object.defineProperty(at[fo],"labels",{value:HL})}var FL,HL,fo;at.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u,c;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(i+s)/2,s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};at.rgb.hsv=function(t){var e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),h=c-Math.min(o,a,u),f=function(p){return(c-p)/6/h+1/2};return h===0?i=s=0:(s=h/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};at.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=at.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};at.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,o,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,s=(1-r-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,[i*100,s*100,o*100,a*100]};function Vpe(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}at.rgb.keyword=function(t){var e=DL[t];if(e)return e;var r=1/0,n;for(var i in Lp)if(Lp.hasOwnProperty(i)){var s=Lp[i],o=Vpe(t,s);o<r&&(r=o,n=i)}return n};at.keyword.rgb=function(t){return Lp[t]};at.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};at.rgb.lab=function(t){var e=at.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,o,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,o=500*(r-n),a=200*(n-i),[s,o,a]};at.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?u=i+(s-i)*6*o:2*o<1?u=s:3*o<2?u=i+(s-i)*(2/3-o)*6:u=i,a[c]=u*255;return a};at.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),o,a;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,a=(n+r)/2,o=n===0?2*i/(s+i):2*r/(n+r),[e,o*100,a*100]};at.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};at.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o,a;return a=(2-r)*n,s=(2-r)*i,o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,o*100,a*100]};at.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,o,a,u;i>1&&(r/=i,n/=i),s=Math.floor(6*e),o=1-n,a=6*e-s,(s&1)!==0&&(a=1-a),u=r+a*(o-r);var c,h,f;switch(s){default:case 6:case 0:c=o,h=u,f=r;break;case 1:c=u,h=o,f=r;break;case 2:c=r,h=o,f=u;break;case 3:c=r,h=u,f=o;break;case 4:c=u,h=r,f=o;break;case 5:c=o,h=r,f=u;break}return[c*255,h*255,f*255]};at.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,o,a;return s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[s*255,o*255,a*255]};at.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};at.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),o=200*(r-n),[i,s,o]};at.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;var a=Math.pow(s,3),u=Math.pow(i,3),c=Math.pow(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};at.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(r*r+n*n),[e,o,s]};at.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return o=n/360*2*Math.PI,i=r*Math.cos(o),s=r*Math.sin(o),[e,i,s]};at.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:at.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};at.hsv.ansi16=function(t){return at.rgb.ansi16(at.hsv.rgb(t),t[2])};at.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};at.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};at.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};at.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};at.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};at.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o+4,u/=6,u%=1,[u*360,o*100,a*100]};at.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};at.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};at.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};at.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};at.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};at.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};at.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};at.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};at.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};at.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};at.gray.hsl=at.gray.hsv=function(t){return[0,0,t[0]]};at.gray.hwb=function(t){return[0,100,t[0]]};at.gray.cmyk=function(t){return[0,0,0,t[0]]};at.gray.lab=function(t){return[t[0],0,0]};at.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};at.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var qL=$((oYe,UL)=>{k();M();var Ub=kw();function Gpe(){for(var t={},e=Object.keys(Ub),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function zpe(t){var e=Gpe(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(Ub[n]),s=i.length,o=0;o<s;o++){var a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}return e}function Wpe(t,e){return function(r){return e(t(r))}}function Ype(t,e){for(var r=[e[t].parent,t],n=Ub[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=Wpe(Ub[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}UL.exports=function(t){for(var e=zpe(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var o=n[s],a=e[o];a.parent!==null&&(r[o]=Ype(o,e))}return r}});var jL=$((cYe,$L)=>{k();M();var Mw=kw(),Xpe=qL(),A6={},Zpe=Object.keys(Mw);function Jpe(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Qpe(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}Zpe.forEach(function(t){A6[t]={},Object.defineProperty(A6[t],"channels",{value:Mw[t].channels}),Object.defineProperty(A6[t],"labels",{value:Mw[t].labels});var e=Xpe(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];A6[t][n]=Qpe(i),A6[t][n].raw=Jpe(i)})});$L.exports=A6});var VL=$((lYe,KL)=>{k();M();var I6=jL(),qb=(t,e)=>function(){return`\x1B[${t.apply(I6,arguments)+e}m`},$b=(t,e)=>function(){let r=t.apply(I6,arguments);return`\x1B[${38+e};5;${r}m`},jb=(t,e)=>function(){let r=t.apply(I6,arguments);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`};function e1e(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(let i of Object.keys(e)){let s=e[i];for(let o of Object.keys(s)){let a=s[o];e[o]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},s[o]=e[o],t.set(a[0],a[1])}Object.defineProperty(e,i,{value:s,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}let r=i=>i,n=(i,s,o)=>[i,s,o];e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi={ansi:qb(r,0)},e.color.ansi256={ansi256:$b(r,0)},e.color.ansi16m={rgb:jb(n,0)},e.bgColor.ansi={ansi:qb(r,10)},e.bgColor.ansi256={ansi256:$b(r,10)},e.bgColor.ansi16m={rgb:jb(n,10)};for(let i of Object.keys(I6)){if(typeof I6[i]!="object")continue;let s=I6[i];i==="ansi16"&&(i="ansi"),"ansi16"in s&&(e.color.ansi[i]=qb(s.ansi16,0),e.bgColor.ansi[i]=qb(s.ansi16,10)),"ansi256"in s&&(e.color.ansi256[i]=$b(s.ansi256,0),e.bgColor.ansi256[i]=$b(s.ansi256,10)),"rgb"in s&&(e.color.ansi16m[i]=jb(s.rgb,0),e.bgColor.ansi16m[i]=jb(s.rgb,10))}return e}Object.defineProperty(KL,"exports",{enumerable:!0,get:e1e})});var zL=$((mYe,GL)=>{k();M();GL.exports={stdout:!1,stderr:!1}});var JL=$((yYe,ZL)=>{k();M();var t1e=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,WL=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,r1e=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,n1e=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,i1e=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function XL(t){return t[0]==="u"&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):i1e.get(t)||t}function s1e(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(r1e))r.push(i[2].replace(n1e,(o,a,u)=>a?XL(a):u));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`);return r}function o1e(t){WL.lastIndex=0;let e=[],r;for(;(r=WL.exec(t))!==null;){let n=r[1];if(r[2]){let i=s1e(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function YL(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}ZL.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(t1e,(s,o,a,u,c,h)=>{if(o)i.push(XL(o));else if(u){let f=i.join("");i=[],n.push(r.length===0?f:YL(t,r)(f)),r.push({inverse:a,styles:o1e(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(YL(t,r)(i.join(""))),i=[],r.pop()}else i.push(h)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var nU=$((xYe,Z3)=>{k();M();var Nw=ML(),Oi=VL(),Rw=zL().stdout,a1e=JL(),eU=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),tU=["ansi","ansi","ansi256","ansi16m"],rU=new Set(["gray"]),P6=Object.create(null);function QL(t,e){e=e||{};let r=Rw?Rw.level:0;t.level=e.level===void 0?r:e.level,t.enabled="enabled"in e?e.enabled:t.level>0}function X3(t){if(!this||!(this instanceof X3)||this.template){let e={};return QL(e,t),e.template=function(){let r=[].slice.call(arguments);return f1e.apply(null,[e.template].concat(r))},Object.setPrototypeOf(e,X3.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=X3,e.template}QL(this,t)}eU&&(Oi.blue.open="\x1B[94m");for(let t of Object.keys(Oi))Oi[t].closeRe=new RegExp(Nw(Oi[t].close),"g"),P6[t]={get(){let e=Oi[t];return Kb.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};P6.visible={get(){return Kb.call(this,this._styles||[],!0,"visible")}};Oi.color.closeRe=new RegExp(Nw(Oi.color.close),"g");for(let t of Object.keys(Oi.color.ansi))rU.has(t)||(P6[t]={get(){let e=this.level;return function(){let n={open:Oi.color[tU[e]][t].apply(null,arguments),close:Oi.color.close,closeRe:Oi.color.closeRe};return Kb.call(this,this._styles?this._styles.concat(n):[n],this._empty,t)}}});Oi.bgColor.closeRe=new RegExp(Nw(Oi.bgColor.close),"g");for(let t of Object.keys(Oi.bgColor.ansi)){if(rU.has(t))continue;let e="bg"+t[0].toUpperCase()+t.slice(1);P6[e]={get(){let r=this.level;return function(){let i={open:Oi.bgColor[tU[r]][t].apply(null,arguments),close:Oi.bgColor.close,closeRe:Oi.bgColor.closeRe};return Kb.call(this,this._styles?this._styles.concat(i):[i],this._empty,t)}}}}var u1e=Object.defineProperties(()=>{},P6);function Kb(t,e,r){let n=function(){return c1e.apply(n,arguments)};n._styles=t,n._empty=e;let i=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return i.level},set(s){i.level=s}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return i.enabled},set(s){i.enabled=s}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=u1e,n}function c1e(){let t=arguments,e=t.length,r=String(arguments[0]);if(e===0)return"";if(e>1)for(let i=1;i<e;i++)r+=" "+t[i];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=Oi.dim.open;eU&&this.hasGrey&&(Oi.dim.open="");for(let i of this._styles.slice().reverse())r=i.open+r.replace(i.closeRe,i.open)+i.close,r=r.replace(/\r?\n/g,`${i.close}$&${i.open}`);return Oi.dim.open=n,r}function f1e(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[e.raw[0]];for(let i=1;i<e.length;i++)n.push(String(r[i-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(e.raw[i]));return a1e(t,n.join(""))}Object.defineProperties(X3.prototype,P6);Z3.exports=X3();Z3.exports.supportsColor=Rw;Z3.exports.default=Z3.exports});var sU=$((EYe,iU)=>{k();M();var Fw=nU();function h1e(){console.info(`${Fw.bgRed.bold("**ERROR**: No sCrypt compiler found.")}`)}function l1e(){console.info(`${Fw.bgRed.bold("**ERROR**: Downloading sCrypt compiler failed.")}`),console.info(`Go to ${Fw.blue.bold("https://github.com/sCrypt-Inc/compiler_dist/releases")} to download sCrypt compiler.
`)}iU.exports={showNoCompilerFound:h1e,showDownloadFailed:l1e}});var uU=$(O6=>{k();M();Object.defineProperty(O6,"__esModule",{value:!0});O6.findCompiler=O6.getPlatformScryptc=void 0;var d1e=NS(),Up=qc(),p1e=CL(),Dw=K_(),Hw=Mo(),m1e=sU();function oU(){switch(Dw.platform()){case"win32":return"compiler/scryptc/win32/scryptc.exe";case"linux":return"compiler/scryptc/linux/scryptc";case"darwin":return"compiler/scryptc/mac/scryptc";default:throw`sCrypt doesn't support ${Dw.platform()}`}}O6.getPlatformScryptc=oU;function aU(t=__dirname){let e=(0,Hw.resolve)(t,"compiler");if((0,Up.existsSync)(e)&&(0,Up.statSync)(e).isDirectory()){let n=(0,Hw.join)(e,"..",oU());return(0,Up.existsSync)(n)?n:void 0}let r=(0,Hw.resolve)(t,"..");if(r!==t)return aU(r)}function g1e(){let e=Dw.platform().indexOf("win")>-1?"where":"which";try{return(0,d1e.execSync)(`${e} scryptc`,{stdio:[]}).toString().replace(/\r\n/g,"")}catch{return}}function b1e(){let e=p1e(process.argv.slice(2)).scryptc;if(e&&e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1)),e&&(0,Up.existsSync)(e))return e;if(process.env.SCRYPTC&&(0,Up.existsSync)(process.env.SCRYPTC))return process.env.SCRYPTC;if(e=aU(),e&&(0,Up.existsSync)(e)||(e=g1e(),e&&(0,Up.existsSync)(e)))return e;(0,m1e.showNoCompilerFound)()}O6.findCompiler=b1e});var hU=$(B6=>{k();M();Object.defineProperty(B6,"__esModule",{value:!0});B6.sha256ByPartialHash=B6.partialSha256=void 0;var y1e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v1e(t,e){let r=t.length,n=r%64<56?64-r%64:128-r%64,i=A.Buffer.alloc(n),s=A.Buffer.concat([t,i]),o=r/536870912|0,a=r<<3;s[r]=128;for(let p=r+1;p<s.length-8;p++)s[p]=0;s[s.length-8]=o>>>24&255,s[s.length-7]=o>>>16&255,s[s.length-6]=o>>>8&255,s[s.length-5]=o>>>0&255,s[s.length-4]=a>>>24&255,s[s.length-3]=a>>>16&255,s[s.length-2]=a>>>8&255,s[s.length-1]=a>>>0&255;let u=[];for(let p=0;p<s.length/64;p++)u.push(s.slice(p*64,p*64+64));let h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];for(let p=0;p<u.length;p++){let l=u[p];if(h=cU(h,l),r>64&&p==e)break}let f=fU(h);if(e>-1&&r>64){let p=t.slice((e+1)*64),l=s.slice(t.length);return[f,p.toString("hex"),l.toString("hex")]}return[f,"",""]}B6.partialSha256=v1e;function _1e(t,e,r){let n=A.Buffer.from(t,"hex"),i=A.Buffer.from(e+r,"hex"),s=[];for(let u=0;u<i.length/64;u++)s.push(i.slice(u*64,u*64+64));let a=[ul(n.slice(0,4)),ul(n.slice(4,8)),ul(n.slice(8,12)),ul(n.slice(12,16)),ul(n.slice(16,20)),ul(n.slice(20,24)),ul(n.slice(24,28)),ul(n.slice(28,32))];for(let u=0;u<s.length;u++){let c=s[u];a=cU(a,c)}return fU(a)}B6.sha256ByPartialHash=_1e;function ul(t){return t.readUInt32BE()}function x1e(t){return t=Number(t),t<0?Math.ceil(t):Math.floor(t)}function S1e(t,e){return t-Math.floor(t/e)*e}function cl(t){return S1e(x1e(t),Math.pow(2,32))}function cU(t,e){let r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=t[6],c=t[7],h=[];for(let f=0;f<64;f++){if(f<16)h[f]=e.slice(f*4,f*4+4).readUInt32BE();else{let B=h[f-15],E=(B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3,I=h[f-2],L=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;h[f]=E+h[f-7]+L+h[f-16]}let p=o&a^~o&u,l=r&n^r&i^n&i,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),O=c+_+p+y1e[f]+h[f],F=y+l;c=u,u=a,a=o,o=s+O,s=i,i=n,n=r,r=O+F}return[cl(t[0]+r),cl(t[1]+n),cl(t[2]+i),cl(t[3]+s),cl(t[4]+o),cl(t[5]+a),cl(t[6]+u),cl(t[7]+c)]}function fl(t){let e=A.Buffer.from([0,0,0,0]);return e.writeUInt32BE(t),e}function fU(t){return[fl(t[0]),fl(t[1]),fl(t[2]),fl(t[3]),fl(t[4]),fl(t[5]),fl(t[6]),fl(t[7])].reduce((r,n)=>A.Buffer.concat([r,n]),A.Buffer.from([])).toString("hex")}});var pa=$(Ts=>{k();M();var w1e=Ts&&Ts.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ac=Ts&&Ts.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&w1e(e,t,r)};Object.defineProperty(Ts,"__esModule",{value:!0});ac(v6(),Ts);ac(Sf(),Ts);ac(bw(),Ts);ac(ww(),Ts);ac(L3(),Ts);ac(IL(),Ts);ac(uU(),Ts);ac(hU(),Ts);ac(K3(),Ts);ac(Aw(),Ts);ac(Pw(),Ts)});var rr=$(ne=>{k();M();Object.defineProperty(ne,"__esModule",{value:!0});ne.md5=ne.uri2path=ne.path2uri=ne.getFullFilePath=ne.JSONParser=ne.isEmpty=ne.parseLiteral=ne.compilerVersion=ne.typeOfArg=ne.getABIDeclaration=ne.getStructDeclaration=ne.buildTypeResolver=ne.resolveGenericType=ne.structSign=ne.librarySign=ne.toLiteralArrayType=ne.arrayTypeAndSizeStr=ne.resolveConstValue=ne.findStatic=ne.findConstStatic=ne.parseAbiFromUnlockingScript=ne.getLowSPreimage=ne.readLaunchJson=ne.parseGenericType=ne.isGenericType=ne.subArrayType=ne.genLaunchConfigFile=ne.getNameByType=ne.newCall=ne.arrayTypeAndSize=ne.isArrayType=ne.findStructByName=ne.findStructByType=ne.getValidatedHexString=ne.bytesToHexString=ne.bytes2Literal=ne.int2Asm=ne.bin2num=ne.toHex=ne.bsv=ne.CompileResult=ne.compileContractAsync=ne.handleCompilerOutput=ne.signTx=ne.getPreimage=ne.doCompileAsync=ne.compileContract=ne.compileAsync=ne.compile=ne.buildContractClass=void 0;ne.sha256ByPartialHash=ne.partialSha256=ne.findCompiler=ne.getPlatformScryptc=ne.toLEUnsigned=ne.writeVarint=ne.buildPublicKeyHashScript=ne.len=ne.buildOpreturnScript=ne.num2bin=ne.invert=ne.xor=ne.or=ne.and=ne.hash256=ne.sha256=ne.hash160=ne.DEFAULT_SIGHASH_TYPE=ne.ScryptType=ne.DEFAULT_FLAGS=ne.SymbolType=ne.DebugModeTag=ne.AbstractContract=ne.BuildType=ne.ABIEntityType=ne.HashedSet=ne.HashedMap=ne.PubKeyHash=ne.OpCodeType=ne.SigHashPreimage=ne.SigHashType=ne.Sha256=ne.Sha1=ne.Ripemd160=ne.Sig=ne.PubKey=ne.PrivKey=ne.Bytes=ne.Bool=ne.Int=ne.flatternArg=ne.getSortedItem=ne.toJSON=ne.isSubBytes=ne.isScryptType=ne.stringToBytes=ne.FunctionCall=void 0;var h0=pa();Object.defineProperty(ne,"buildContractClass",{enumerable:!0,get:function(){return h0.buildContractClass}});Object.defineProperty(ne,"compile",{enumerable:!0,get:function(){return h0.compile}});Object.defineProperty(ne,"compileAsync",{enumerable:!0,get:function(){return h0.compileAsync}});Object.defineProperty(ne,"compileContract",{enumerable:!0,get:function(){return h0.compileContract}});Object.defineProperty(ne,"doCompileAsync",{enumerable:!0,get:function(){return h0.doCompileAsync}});Object.defineProperty(ne,"getPreimage",{enumerable:!0,get:function(){return h0.getPreimage}});Object.defineProperty(ne,"signTx",{enumerable:!0,get:function(){return h0.signTx}});Object.defineProperty(ne,"handleCompilerOutput",{enumerable:!0,get:function(){return h0.handleCompilerOutput}});Object.defineProperty(ne,"compileContractAsync",{enumerable:!0,get:function(){return h0.compileContractAsync}});Object.defineProperty(ne,"CompileResult",{enumerable:!0,get:function(){return h0.CompileResult}});var It=pa();Object.defineProperty(ne,"bsv",{enumerable:!0,get:function(){return It.bsv}});Object.defineProperty(ne,"toHex",{enumerable:!0,get:function(){return It.toHex}});Object.defineProperty(ne,"bin2num",{enumerable:!0,get:function(){return It.bin2num}});Object.defineProperty(ne,"int2Asm",{enumerable:!0,get:function(){return It.int2Asm}});Object.defineProperty(ne,"bytes2Literal",{enumerable:!0,get:function(){return It.bytes2Literal}});Object.defineProperty(ne,"bytesToHexString",{enumerable:!0,get:function(){return It.bytesToHexString}});Object.defineProperty(ne,"getValidatedHexString",{enumerable:!0,get:function(){return It.getValidatedHexString}});Object.defineProperty(ne,"findStructByType",{enumerable:!0,get:function(){return It.findStructByType}});Object.defineProperty(ne,"findStructByName",{enumerable:!0,get:function(){return It.findStructByName}});Object.defineProperty(ne,"isArrayType",{enumerable:!0,get:function(){return It.isArrayType}});Object.defineProperty(ne,"arrayTypeAndSize",{enumerable:!0,get:function(){return It.arrayTypeAndSize}});Object.defineProperty(ne,"newCall",{enumerable:!0,get:function(){return It.newCall}});Object.defineProperty(ne,"getNameByType",{enumerable:!0,get:function(){return It.getNameByType}});Object.defineProperty(ne,"genLaunchConfigFile",{enumerable:!0,get:function(){return It.genLaunchConfigFile}});Object.defineProperty(ne,"subArrayType",{enumerable:!0,get:function(){return It.subArrayType}});Object.defineProperty(ne,"isGenericType",{enumerable:!0,get:function(){return It.isGenericType}});Object.defineProperty(ne,"parseGenericType",{enumerable:!0,get:function(){return It.parseGenericType}});Object.defineProperty(ne,"readLaunchJson",{enumerable:!0,get:function(){return It.readLaunchJson}});Object.defineProperty(ne,"getLowSPreimage",{enumerable:!0,get:function(){return It.getLowSPreimage}});Object.defineProperty(ne,"parseAbiFromUnlockingScript",{enumerable:!0,get:function(){return It.parseAbiFromUnlockingScript}});Object.defineProperty(ne,"findConstStatic",{enumerable:!0,get:function(){return It.findConstStatic}});Object.defineProperty(ne,"findStatic",{enumerable:!0,get:function(){return It.findStatic}});Object.defineProperty(ne,"resolveConstValue",{enumerable:!0,get:function(){return It.resolveConstValue}});Object.defineProperty(ne,"arrayTypeAndSizeStr",{enumerable:!0,get:function(){return It.arrayTypeAndSizeStr}});Object.defineProperty(ne,"toLiteralArrayType",{enumerable:!0,get:function(){return It.toLiteralArrayType}});Object.defineProperty(ne,"librarySign",{enumerable:!0,get:function(){return It.librarySign}});Object.defineProperty(ne,"structSign",{enumerable:!0,get:function(){return It.structSign}});Object.defineProperty(ne,"resolveGenericType",{enumerable:!0,get:function(){return It.resolveGenericType}});Object.defineProperty(ne,"buildTypeResolver",{enumerable:!0,get:function(){return It.buildTypeResolver}});Object.defineProperty(ne,"getStructDeclaration",{enumerable:!0,get:function(){return It.getStructDeclaration}});Object.defineProperty(ne,"getABIDeclaration",{enumerable:!0,get:function(){return It.getABIDeclaration}});Object.defineProperty(ne,"typeOfArg",{enumerable:!0,get:function(){return It.typeOfArg}});Object.defineProperty(ne,"compilerVersion",{enumerable:!0,get:function(){return It.compilerVersion}});Object.defineProperty(ne,"parseLiteral",{enumerable:!0,get:function(){return It.parseLiteral}});Object.defineProperty(ne,"isEmpty",{enumerable:!0,get:function(){return It.isEmpty}});Object.defineProperty(ne,"JSONParser",{enumerable:!0,get:function(){return It.JSONParser}});Object.defineProperty(ne,"getFullFilePath",{enumerable:!0,get:function(){return It.getFullFilePath}});Object.defineProperty(ne,"path2uri",{enumerable:!0,get:function(){return It.path2uri}});Object.defineProperty(ne,"uri2path",{enumerable:!0,get:function(){return It.uri2path}});Object.defineProperty(ne,"md5",{enumerable:!0,get:function(){return It.md5}});Object.defineProperty(ne,"FunctionCall",{enumerable:!0,get:function(){return It.FunctionCall}});Object.defineProperty(ne,"stringToBytes",{enumerable:!0,get:function(){return It.stringToBytes}});Object.defineProperty(ne,"isScryptType",{enumerable:!0,get:function(){return It.isScryptType}});Object.defineProperty(ne,"isSubBytes",{enumerable:!0,get:function(){return It.isSubBytes}});Object.defineProperty(ne,"toJSON",{enumerable:!0,get:function(){return It.toJSON}});Object.defineProperty(ne,"getSortedItem",{enumerable:!0,get:function(){return It.getSortedItem}});Object.defineProperty(ne,"flatternArg",{enumerable:!0,get:function(){return It.flatternArg}});var Kn=pa();Object.defineProperty(ne,"Int",{enumerable:!0,get:function(){return Kn.Int}});Object.defineProperty(ne,"Bool",{enumerable:!0,get:function(){return Kn.Bool}});Object.defineProperty(ne,"Bytes",{enumerable:!0,get:function(){return Kn.Bytes}});Object.defineProperty(ne,"PrivKey",{enumerable:!0,get:function(){return Kn.PrivKey}});Object.defineProperty(ne,"PubKey",{enumerable:!0,get:function(){return Kn.PubKey}});Object.defineProperty(ne,"Sig",{enumerable:!0,get:function(){return Kn.Sig}});Object.defineProperty(ne,"Ripemd160",{enumerable:!0,get:function(){return Kn.Ripemd160}});Object.defineProperty(ne,"Sha1",{enumerable:!0,get:function(){return Kn.Sha1}});Object.defineProperty(ne,"Sha256",{enumerable:!0,get:function(){return Kn.Sha256}});Object.defineProperty(ne,"SigHashType",{enumerable:!0,get:function(){return Kn.SigHashType}});Object.defineProperty(ne,"SigHashPreimage",{enumerable:!0,get:function(){return Kn.SigHashPreimage}});Object.defineProperty(ne,"OpCodeType",{enumerable:!0,get:function(){return Kn.OpCodeType}});Object.defineProperty(ne,"PubKeyHash",{enumerable:!0,get:function(){return Kn.PubKeyHash}});Object.defineProperty(ne,"HashedMap",{enumerable:!0,get:function(){return Kn.HashedMap}});Object.defineProperty(ne,"HashedSet",{enumerable:!0,get:function(){return Kn.HashedSet}});Object.defineProperty(ne,"ABIEntityType",{enumerable:!0,get:function(){return Kn.ABIEntityType}});Object.defineProperty(ne,"BuildType",{enumerable:!0,get:function(){return Kn.BuildType}});Object.defineProperty(ne,"AbstractContract",{enumerable:!0,get:function(){return Kn.AbstractContract}});Object.defineProperty(ne,"DebugModeTag",{enumerable:!0,get:function(){return Kn.DebugModeTag}});Object.defineProperty(ne,"SymbolType",{enumerable:!0,get:function(){return Kn.SymbolType}});Object.defineProperty(ne,"DEFAULT_FLAGS",{enumerable:!0,get:function(){return Kn.DEFAULT_FLAGS}});Object.defineProperty(ne,"ScryptType",{enumerable:!0,get:function(){return Kn.ScryptType}});Object.defineProperty(ne,"DEFAULT_SIGHASH_TYPE",{enumerable:!0,get:function(){return Kn.DEFAULT_SIGHASH_TYPE}});var ba=pa();Object.defineProperty(ne,"hash160",{enumerable:!0,get:function(){return ba.hash160}});Object.defineProperty(ne,"sha256",{enumerable:!0,get:function(){return ba.sha256}});Object.defineProperty(ne,"hash256",{enumerable:!0,get:function(){return ba.hash256}});Object.defineProperty(ne,"and",{enumerable:!0,get:function(){return ba.and}});Object.defineProperty(ne,"or",{enumerable:!0,get:function(){return ba.or}});Object.defineProperty(ne,"xor",{enumerable:!0,get:function(){return ba.xor}});Object.defineProperty(ne,"invert",{enumerable:!0,get:function(){return ba.invert}});Object.defineProperty(ne,"num2bin",{enumerable:!0,get:function(){return ba.num2bin}});Object.defineProperty(ne,"buildOpreturnScript",{enumerable:!0,get:function(){return ba.buildOpreturnScript}});Object.defineProperty(ne,"len",{enumerable:!0,get:function(){return ba.len}});Object.defineProperty(ne,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return ba.buildPublicKeyHashScript}});Object.defineProperty(ne,"writeVarint",{enumerable:!0,get:function(){return ba.writeVarint}});Object.defineProperty(ne,"toLEUnsigned",{enumerable:!0,get:function(){return ba.toLEUnsigned}});var lU=pa();Object.defineProperty(ne,"getPlatformScryptc",{enumerable:!0,get:function(){return lU.getPlatformScryptc}});Object.defineProperty(ne,"findCompiler",{enumerable:!0,get:function(){return lU.findCompiler}});var dU=pa();Object.defineProperty(ne,"partialSha256",{enumerable:!0,get:function(){return dU.partialSha256}});Object.defineProperty(ne,"sha256ByPartialHash",{enumerable:!0,get:function(){return dU.sha256ByPartialHash}})});var Vb=$(hl=>{k();M();Object.defineProperty(hl,"__esModule",{value:!0});hl.SortedItemAccessTracer=hl.instanceOfSIATraceable=hl.SortedItemAccess=void 0;var E1e=qp(),T1e=rr(),ll=class{constructor(e,r,n){this.item=e,this.itemHashHex=r,this.idx=n}serialize(){if(this.itemHashHex.length!==ll.ITEM_HASH_SIZE_IN_BYTES*2)throw new Error(`invalid hashed key size ${this.itemHashHex.length}, should be ${ll.ITEM_HASH_SIZE_IN_BYTES*2} in hex`);return E1e.VarIntWriter.writeInt(this.idx)}};hl.SortedItemAccess=ll;ll.ITEM_HASH_SIZE_IN_BYTES=32;function A1e(t){return t&&"startTracing"in t&&"stopTracing"in t&&"serializedAccessPath"in t}hl.instanceOfSIATraceable=A1e;var Lw=class{constructor(e,r){this._itemType=e,this._DelegateClazz=r}hash(e){return this._DelegateClazz.flattenSha256(e,this._itemType)}},Uw=class{constructor(e){this.hasher=e}findIndex(e,r){let n=this._item2BN(e),i=Array.from(r).map(s=>this._item2BN(s)).sort((s,o)=>s.cmp(o)).findIndex(s=>n.eq(s));return BigInt(i)}_item2BN(e){return T1e.bsv.crypto.BN.fromSM(A.Buffer.from(this.hasher.hash(e),"hex"),{endian:"little"})}},qw=class{constructor(e,r){this._traceEnabled=!1,this._accessPath=[],this._hasher=new Lw(e,r),this._sequencer=new Uw(this._hasher)}traceAccess(e,r){this._traceEnabled&&this._accessPath.push(new ll(e,this._hasher.hash(e),this._sequencer.findIndex(e,r)))}startTracing(){this._traceEnabled=!0,this._accessPath=[]}stopTracing(){this._traceEnabled=!1}serializedAccessPath(){return(this._accessPath||[]).map(e=>e.serialize()).join("")}};hl.SortedItemAccessTracer=qw});var $w=$((pU,mU)=>{k();M();(function(t){var e;typeof pU=="object"?mU.exports=t():typeof define=="function"&&define.amd?define(t):(typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof self<"u"&&(e=self),e.objectHash=t())})(function(){return function t(e,r,n){function i(a,u){if(!r[a]){if(!e[a]){var c=typeof t3=="function"&&t3;if(!u&&c)return c(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}u=r[a]={exports:{}},e[a][0].call(u.exports,function(h){var f=e[a][1][h];return i(f||h)},u,u.exports,t,e,r,n)}return r[a].exports}for(var s=typeof t3=="function"&&t3,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){"use strict";var p=t("crypto");function l(I,L){L=O(I,L);var N;return(N=L.algorithm!=="passthrough"?p.createHash(L.algorithm):new E).write===void 0&&(N.write=N.update,N.end=N.update),B(L,N).dispatch(I),N.update||N.end(""),N.digest?N.digest(L.encoding==="buffer"?void 0:L.encoding):(I=N.read(),L.encoding!=="buffer"?I.toString(L.encoding):I)}(r=e.exports=l).sha1=function(I){return l(I)},r.keys=function(I){return l(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(I){return l(I,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(I){return l(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=p.getHashes?p.getHashes().slice():["sha1","md5"],_=(y.push("passthrough"),["buffer","hex","binary","base64"]);function O(I,L){var N={};if(N.algorithm=(L=L||{}).algorithm||"sha1",N.encoding=L.encoding||"hex",N.excludeValues=!!L.excludeValues,N.algorithm=N.algorithm.toLowerCase(),N.encoding=N.encoding.toLowerCase(),N.ignoreUnknown=L.ignoreUnknown===!0,N.respectType=L.respectType!==!1,N.respectFunctionNames=L.respectFunctionNames!==!1,N.respectFunctionProperties=L.respectFunctionProperties!==!1,N.unorderedArrays=L.unorderedArrays===!0,N.unorderedSets=L.unorderedSets!==!1,N.unorderedObjects=L.unorderedObjects!==!1,N.replacer=L.replacer||void 0,N.excludeKeys=L.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var H=0;H<y.length;++H)y[H].toLowerCase()===N.algorithm.toLowerCase()&&(N.algorithm=y[H]);if(y.indexOf(N.algorithm)===-1)throw new Error('Algorithm "'+N.algorithm+'"  not supported. supported values: '+y.join(", "));if(_.indexOf(N.encoding)===-1&&N.algorithm!=="passthrough")throw new Error('Encoding "'+N.encoding+'"  not supported. supported values: '+_.join(", "));return N}function F(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function B(I,L,N){N=N||[];function H(D){return L.update?L.update(D,"utf8"):L.write(D,"utf8")}return{dispatch:function(D){return this["_"+((D=I.replacer?I.replacer(D):D)===null?"null":typeof D)](D)},_object:function(D){var C,d=Object.prototype.toString.call(D),v=/\[object (.*)\]/i.exec(d);if(v=(v=v?v[1]:"unknown:["+d+"]").toLowerCase(),0<=(d=N.indexOf(D)))return this.dispatch("[CIRCULAR:"+d+"]");if(N.push(D),s!==void 0&&s.isBuffer&&s.isBuffer(D))return H("buffer:"),H(D);if(v==="object"||v==="function"||v==="asyncfunction")return d=Object.keys(D),I.unorderedObjects&&(d=d.sort()),I.respectType===!1||F(D)||d.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(d=d.filter(function(g){return!I.excludeKeys(g)})),H("object:"+d.length+":"),C=this,d.forEach(function(g){C.dispatch(g),H(":"),I.excludeValues||C.dispatch(D[g]),H(",")});if(!this["_"+v]){if(I.ignoreUnknown)return H("["+v+"]");throw new Error('Unknown object type "'+v+'"')}this["_"+v](D)},_array:function(D,g){g=g!==void 0?g:I.unorderedArrays!==!1;var d=this;if(H("array:"+D.length+":"),!g||D.length<=1)return D.forEach(function(m){return d.dispatch(m)});var v=[],g=D.map(function(m){var S=new E,w=N.slice();return B(I,S,w).dispatch(m),v=v.concat(w.slice(N.length)),S.read().toString()});return N=N.concat(v),g.sort(),this._array(g,!1)},_date:function(D){return H("date:"+D.toJSON())},_symbol:function(D){return H("symbol:"+D.toString())},_error:function(D){return H("error:"+D.toString())},_boolean:function(D){return H("bool:"+D.toString())},_string:function(D){H("string:"+D.length+":"),H(D.toString())},_function:function(D){H("fn:"),F(D)?this.dispatch("[native]"):this.dispatch(D.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(D.name)),I.respectFunctionProperties&&this._object(D)},_number:function(D){return H("number:"+D.toString())},_xml:function(D){return H("xml:"+D.toString())},_null:function(){return H("Null")},_undefined:function(){return H("Undefined")},_regexp:function(D){return H("regex:"+D.toString())},_uint8array:function(D){return H("uint8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint8clampedarray:function(D){return H("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(D))},_int8array:function(D){return H("int8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint16array:function(D){return H("uint16array:"),this.dispatch(Array.prototype.slice.call(D))},_int16array:function(D){return H("int16array:"),this.dispatch(Array.prototype.slice.call(D))},_uint32array:function(D){return H("uint32array:"),this.dispatch(Array.prototype.slice.call(D))},_int32array:function(D){return H("int32array:"),this.dispatch(Array.prototype.slice.call(D))},_float32array:function(D){return H("float32array:"),this.dispatch(Array.prototype.slice.call(D))},_float64array:function(D){return H("float64array:"),this.dispatch(Array.prototype.slice.call(D))},_arraybuffer:function(D){return H("arraybuffer:"),this.dispatch(new Uint8Array(D))},_url:function(D){return H("url:"+D.toString())},_map:function(D){return H("map:"),D=Array.from(D),this._array(D,I.unorderedSets!==!1)},_set:function(D){return H("set:"),D=Array.from(D),this._array(D,I.unorderedSets!==!1)},_file:function(D){return H("file:"),this.dispatch([D.name,D.size,D.type,D.lastModfied])},_blob:function(){if(I.ignoreUnknown)return H("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return H("domwindow")},_bigint:function(D){return H("bigint:"+D.toString())},_process:function(){return H("process")},_timer:function(){return H("timer")},_pipe:function(){return H("pipe")},_tcp:function(){return H("tcp")},_udp:function(){return H("udp")},_tty:function(){return H("tty")},_statwatcher:function(){return H("statwatcher")},_securecontext:function(){return H("securecontext")},_connection:function(){return H("connection")},_zlib:function(){return H("zlib")},_context:function(){return H("context")},_nodescript:function(){return H("nodescript")},_httpparser:function(){return H("httpparser")},_dataview:function(){return H("dataview")},_signal:function(){return H("signal")},_fsevent:function(){return H("fsevent")},_tlswrap:function(){return H("tlswrap")}}}function E(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}r.writeToStream=function(I,L,N){return N===void 0&&(N=L,L={}),B(L=O(I,L),N).dispatch(I)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){(function(p){"use strict";var l=typeof Uint8Array<"u"?Uint8Array:Array,y="+".charCodeAt(0),_="/".charCodeAt(0),O="0".charCodeAt(0),F="a".charCodeAt(0),B="A".charCodeAt(0),E="-".charCodeAt(0),I="_".charCodeAt(0);function L(N){return N=N.charCodeAt(0),N===y||N===E?62:N===_||N===I?63:N<O?-1:N<O+10?N-O+26+26:N<B+26?N-B:N<F+26?N-F+26:void 0}p.toByteArray=function(N){var H,D;if(0<N.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var C=N.length,C=N.charAt(C-2)==="="?2:N.charAt(C-1)==="="?1:0,d=new l(3*N.length/4-C),v=0<C?N.length-4:N.length,g=0;function m(S){d[g++]=S}for(H=0;H<v;H+=4,0)m((16711680&(D=L(N.charAt(H))<<18|L(N.charAt(H+1))<<12|L(N.charAt(H+2))<<6|L(N.charAt(H+3))))>>16),m((65280&D)>>8),m(255&D);return C==2?m(255&(D=L(N.charAt(H))<<2|L(N.charAt(H+1))>>4)):C==1&&(m((D=L(N.charAt(H))<<10|L(N.charAt(H+1))<<4|L(N.charAt(H+2))>>2)>>8&255),m(255&D)),d},p.fromByteArray=function(N){var H,D,C,d,v=N.length%3,g="";function m(S){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(S)}for(H=0,C=N.length-v;H<C;H+=3)D=(N[H]<<16)+(N[H+1]<<8)+N[H+2],g+=m((d=D)>>18&63)+m(d>>12&63)+m(d>>6&63)+m(63&d);switch(v){case 1:g=(g+=m((D=N[N.length-1])>>2))+m(D<<4&63)+"==";break;case 2:g=(g=(g+=m((D=(N[N.length-2]<<8)+N[N.length-1])>>10))+m(D>>4&63))+m(D<<2&63)+"="}return g}})(r===void 0?this.base64js={}:r)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,e,r){(function(n,i,y,o,a,u,c,h,f){var p=t("base64-js"),l=t("ieee754");function y(q,X,J){if(!(this instanceof y))return new y(q,X,J);var re,ae,me,_e,Ie=typeof q;if(X==="base64"&&Ie=="string")for(q=(_e=q).trim?_e.trim():_e.replace(/^\s+|\s+$/g,"");q.length%4!=0;)q+="=";if(Ie=="number")re=R(q);else if(Ie=="string")re=y.byteLength(q,X);else{if(Ie!="object")throw new Error("First argument needs to be a number, array or string.");re=R(q.length)}if(y._useTypedArrays?ae=y._augment(new Uint8Array(re)):((ae=this).length=re,ae._isBuffer=!0),y._useTypedArrays&&typeof q.byteLength=="number")ae._set(q);else if(T(_e=q)||y.isBuffer(_e)||_e&&typeof _e=="object"&&typeof _e.length=="number")for(me=0;me<re;me++)y.isBuffer(q)?ae[me]=q.readUInt8(me):ae[me]=q[me];else if(Ie=="string")ae.write(q,0,X);else if(Ie=="number"&&!y._useTypedArrays&&!J)for(me=0;me<re;me++)ae[me]=0;return ae}function _(q,X,J,re){return y._charsWritten=U(function(ae){for(var me=[],_e=0;_e<ae.length;_e++)me.push(255&ae.charCodeAt(_e));return me}(X),q,J,re)}function O(q,X,J,re){return y._charsWritten=U(function(ae){for(var me,_e,Ie=[],Le=0;Le<ae.length;Le++)_e=ae.charCodeAt(Le),me=_e>>8,_e=_e%256,Ie.push(_e),Ie.push(me);return Ie}(X),q,J,re)}function F(q,X,J){var re="";J=Math.min(q.length,J);for(var ae=X;ae<J;ae++)re+=String.fromCharCode(q[ae]);return re}function B(q,X,J,me){me||(ie(typeof J=="boolean","missing or invalid endian"),ie(X!=null,"missing offset"),ie(X+1<q.length,"Trying to read beyond buffer length"));var ae,me=q.length;if(!(me<=X))return J?(ae=q[X],X+1<me&&(ae|=q[X+1]<<8)):(ae=q[X]<<8,X+1<me&&(ae|=q[X+1])),ae}function E(q,X,J,me){me||(ie(typeof J=="boolean","missing or invalid endian"),ie(X!=null,"missing offset"),ie(X+3<q.length,"Trying to read beyond buffer length"));var ae,me=q.length;if(!(me<=X))return J?(X+2<me&&(ae=q[X+2]<<16),X+1<me&&(ae|=q[X+1]<<8),ae|=q[X],X+3<me&&(ae+=q[X+3]<<24>>>0)):(X+1<me&&(ae=q[X+1]<<16),X+2<me&&(ae|=q[X+2]<<8),X+3<me&&(ae|=q[X+3]),ae+=q[X]<<24>>>0),ae}function I(q,X,J,re){if(re||(ie(typeof J=="boolean","missing or invalid endian"),ie(X!=null,"missing offset"),ie(X+1<q.length,"Trying to read beyond buffer length")),!(q.length<=X))return re=B(q,X,J,!0),32768&re?-1*(65535-re+1):re}function L(q,X,J,re){if(re||(ie(typeof J=="boolean","missing or invalid endian"),ie(X!=null,"missing offset"),ie(X+3<q.length,"Trying to read beyond buffer length")),!(q.length<=X))return re=E(q,X,J,!0),2147483648&re?-1*(4294967295-re+1):re}function N(q,X,J,re){return re||(ie(typeof J=="boolean","missing or invalid endian"),ie(X+3<q.length,"Trying to read beyond buffer length")),l.read(q,X,J,23,4)}function H(q,X,J,re){return re||(ie(typeof J=="boolean","missing or invalid endian"),ie(X+7<q.length,"Trying to read beyond buffer length")),l.read(q,X,J,52,8)}function D(q,X,J,re,ae){if(ae||(ie(X!=null,"missing value"),ie(typeof re=="boolean","missing or invalid endian"),ie(J!=null,"missing offset"),ie(J+1<q.length,"trying to write beyond buffer length"),z(X,65535)),ae=q.length,!(ae<=J))for(var me=0,_e=Math.min(ae-J,2);me<_e;me++)q[J+me]=(X&255<<8*(re?me:1-me))>>>8*(re?me:1-me)}function C(q,X,J,re,ae){if(ae||(ie(X!=null,"missing value"),ie(typeof re=="boolean","missing or invalid endian"),ie(J!=null,"missing offset"),ie(J+3<q.length,"trying to write beyond buffer length"),z(X,4294967295)),ae=q.length,!(ae<=J))for(var me=0,_e=Math.min(ae-J,4);me<_e;me++)q[J+me]=X>>>8*(re?me:3-me)&255}function d(q,X,J,re,ae){ae||(ie(X!=null,"missing value"),ie(typeof re=="boolean","missing or invalid endian"),ie(J!=null,"missing offset"),ie(J+1<q.length,"Trying to write beyond buffer length"),Q(X,32767,-32768)),q.length<=J||D(q,0<=X?X:65535+X+1,J,re,ae)}function v(q,X,J,re,ae){ae||(ie(X!=null,"missing value"),ie(typeof re=="boolean","missing or invalid endian"),ie(J!=null,"missing offset"),ie(J+3<q.length,"Trying to write beyond buffer length"),Q(X,2147483647,-2147483648)),q.length<=J||C(q,0<=X?X:4294967295+X+1,J,re,ae)}function g(q,X,J,re,ae){ae||(ie(X!=null,"missing value"),ie(typeof re=="boolean","missing or invalid endian"),ie(J!=null,"missing offset"),ie(J+3<q.length,"Trying to write beyond buffer length"),oe(X,34028234663852886e22,-34028234663852886e22)),q.length<=J||l.write(q,X,J,re,23,4)}function m(q,X,J,re,ae){ae||(ie(X!=null,"missing value"),ie(typeof re=="boolean","missing or invalid endian"),ie(J!=null,"missing offset"),ie(J+7<q.length,"Trying to write beyond buffer length"),oe(X,17976931348623157e292,-17976931348623157e292)),q.length<=J||l.write(q,X,J,re,52,8)}r.Buffer=y,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=function(){try{var q=new ArrayBuffer(0),X=new Uint8Array(q);return X.foo=function(){return 42},X.foo()===42&&typeof X.subarray=="function"}catch{return!1}}(),y.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(q){return!(q==null||!q._isBuffer)},y.byteLength=function(q,X){var J;switch(q+="",X||"utf8"){case"hex":J=q.length/2;break;case"utf8":case"utf-8":J=x(q).length;break;case"ascii":case"binary":case"raw":J=q.length;break;case"base64":J=P(q).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":J=2*q.length;break;default:throw new Error("Unknown encoding")}return J},y.concat=function(q,X){if(ie(T(q),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),q.length===0)return new y(0);if(q.length===1)return q[0];if(typeof X!="number")for(ae=X=0;ae<q.length;ae++)X+=q[ae].length;for(var J=new y(X),re=0,ae=0;ae<q.length;ae++){var me=q[ae];me.copy(J,re),re+=me.length}return J},y.prototype.write=function(q,X,J,re){isFinite(X)?isFinite(J)||(re=J,J=void 0):(Le=re,re=X,X=J,J=Le),X=Number(X)||0;var ae,me,_e,Ie,Le=this.length-X;switch((!J||Le<(J=Number(J)))&&(J=Le),re=String(re||"utf8").toLowerCase()){case"hex":ae=function(Ce,He,Ze,Te){Ze=Number(Ze)||0;var Se=Ce.length-Ze;(!Te||Se<(Te=Number(Te)))&&(Te=Se),ie((Se=He.length)%2==0,"Invalid hex string"),Se/2<Te&&(Te=Se/2);for(var pt=0;pt<Te;pt++){var j=parseInt(He.substr(2*pt,2),16);ie(!isNaN(j),"Invalid hex string"),Ce[Ze+pt]=j}return y._charsWritten=2*pt,pt}(this,q,X,J);break;case"utf8":case"utf-8":me=this,_e=X,Ie=J,ae=y._charsWritten=U(x(q),me,_e,Ie);break;case"ascii":case"binary":ae=_(this,q,X,J);break;case"base64":me=this,_e=X,Ie=J,ae=y._charsWritten=U(P(q),me,_e,Ie);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ae=O(this,q,X,J);break;default:throw new Error("Unknown encoding")}return ae},y.prototype.toString=function(q,X,J){var re,ae,me,_e,Ie=this;if(q=String(q||"utf8").toLowerCase(),X=Number(X)||0,(J=J!==void 0?Number(J):Ie.length)===X)return"";switch(q){case"hex":re=function(Le,Ce,He){var Ze=Le.length;(!Ce||Ce<0)&&(Ce=0),(!He||He<0||Ze<He)&&(He=Ze);for(var Te="",Se=Ce;Se<He;Se++)Te+=b(Le[Se]);return Te}(Ie,X,J);break;case"utf8":case"utf-8":re=function(Le,Ce,He){var Ze="",Te="";He=Math.min(Le.length,He);for(var Se=Ce;Se<He;Se++)Le[Se]<=127?(Ze+=K(Te)+String.fromCharCode(Le[Se]),Te=""):Te+="%"+Le[Se].toString(16);return Ze+K(Te)}(Ie,X,J);break;case"ascii":case"binary":re=F(Ie,X,J);break;case"base64":ae=Ie,_e=J,re=(me=X)===0&&_e===ae.length?p.fromByteArray(ae):p.fromByteArray(ae.slice(me,_e));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":re=function(Le,Ce,He){for(var Ze=Le.slice(Ce,He),Te="",Se=0;Se<Ze.length;Se+=2)Te+=String.fromCharCode(Ze[Se]+256*Ze[Se+1]);return Te}(Ie,X,J);break;default:throw new Error("Unknown encoding")}return re},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(q,X,J,re){if(X=X||0,(re=re||re===0?re:this.length)!==(J=J||0)&&q.length!==0&&this.length!==0){ie(J<=re,"sourceEnd < sourceStart"),ie(0<=X&&X<q.length,"targetStart out of bounds"),ie(0<=J&&J<this.length,"sourceStart out of bounds"),ie(0<=re&&re<=this.length,"sourceEnd out of bounds"),re>this.length&&(re=this.length);var ae=(re=q.length-X<re-J?q.length-X+J:re)-J;if(ae<100||!y._useTypedArrays)for(var me=0;me<ae;me++)q[me+X]=this[me+J];else q._set(this.subarray(J,J+ae),X)}},y.prototype.slice=function(q,X){var J=this.length;if(q=w(q,J,0),X=w(X,J,J),y._useTypedArrays)return y._augment(this.subarray(q,X));for(var re=X-q,ae=new y(re,void 0,!0),me=0;me<re;me++)ae[me]=this[me+q];return ae},y.prototype.get=function(q){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(q)},y.prototype.set=function(q,X){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(q,X)},y.prototype.readUInt8=function(q,X){if(X||(ie(q!=null,"missing offset"),ie(q<this.length,"Trying to read beyond buffer length")),!(q>=this.length))return this[q]},y.prototype.readUInt16LE=function(q,X){return B(this,q,!0,X)},y.prototype.readUInt16BE=function(q,X){return B(this,q,!1,X)},y.prototype.readUInt32LE=function(q,X){return E(this,q,!0,X)},y.prototype.readUInt32BE=function(q,X){return E(this,q,!1,X)},y.prototype.readInt8=function(q,X){if(X||(ie(q!=null,"missing offset"),ie(q<this.length,"Trying to read beyond buffer length")),!(q>=this.length))return 128&this[q]?-1*(255-this[q]+1):this[q]},y.prototype.readInt16LE=function(q,X){return I(this,q,!0,X)},y.prototype.readInt16BE=function(q,X){return I(this,q,!1,X)},y.prototype.readInt32LE=function(q,X){return L(this,q,!0,X)},y.prototype.readInt32BE=function(q,X){return L(this,q,!1,X)},y.prototype.readFloatLE=function(q,X){return N(this,q,!0,X)},y.prototype.readFloatBE=function(q,X){return N(this,q,!1,X)},y.prototype.readDoubleLE=function(q,X){return H(this,q,!0,X)},y.prototype.readDoubleBE=function(q,X){return H(this,q,!1,X)},y.prototype.writeUInt8=function(q,X,J){J||(ie(q!=null,"missing value"),ie(X!=null,"missing offset"),ie(X<this.length,"trying to write beyond buffer length"),z(q,255)),X>=this.length||(this[X]=q)},y.prototype.writeUInt16LE=function(q,X,J){D(this,q,X,!0,J)},y.prototype.writeUInt16BE=function(q,X,J){D(this,q,X,!1,J)},y.prototype.writeUInt32LE=function(q,X,J){C(this,q,X,!0,J)},y.prototype.writeUInt32BE=function(q,X,J){C(this,q,X,!1,J)},y.prototype.writeInt8=function(q,X,J){J||(ie(q!=null,"missing value"),ie(X!=null,"missing offset"),ie(X<this.length,"Trying to write beyond buffer length"),Q(q,127,-128)),X>=this.length||(0<=q?this.writeUInt8(q,X,J):this.writeUInt8(255+q+1,X,J))},y.prototype.writeInt16LE=function(q,X,J){d(this,q,X,!0,J)},y.prototype.writeInt16BE=function(q,X,J){d(this,q,X,!1,J)},y.prototype.writeInt32LE=function(q,X,J){v(this,q,X,!0,J)},y.prototype.writeInt32BE=function(q,X,J){v(this,q,X,!1,J)},y.prototype.writeFloatLE=function(q,X,J){g(this,q,X,!0,J)},y.prototype.writeFloatBE=function(q,X,J){g(this,q,X,!1,J)},y.prototype.writeDoubleLE=function(q,X,J){m(this,q,X,!0,J)},y.prototype.writeDoubleBE=function(q,X,J){m(this,q,X,!1,J)},y.prototype.fill=function(q,X,J){if(X=X||0,J=J||this.length,ie(typeof(q=typeof(q=q||0)=="string"?q.charCodeAt(0):q)=="number"&&!isNaN(q),"value is not a number"),ie(X<=J,"end < start"),J!==X&&this.length!==0){ie(0<=X&&X<this.length,"start out of bounds"),ie(0<=J&&J<=this.length,"end out of bounds");for(var re=X;re<J;re++)this[re]=q}},y.prototype.inspect=function(){for(var q=[],X=this.length,J=0;J<X;J++)if(q[J]=b(this[J]),J===r.INSPECT_MAX_BYTES){q[J+1]="...";break}return"<Buffer "+q.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var q=new Uint8Array(this.length),X=0,J=q.length;X<J;X+=1)q[X]=this[X];return q.buffer};var S=y.prototype;function w(q,X,J){return typeof q!="number"?J:X<=(q=~~q)?X:0<=q||0<=(q+=X)?q:0}function R(q){return(q=~~Math.ceil(+q))<0?0:q}function T(q){return(Array.isArray||function(X){return Object.prototype.toString.call(X)==="[object Array]"})(q)}function b(q){return q<16?"0"+q.toString(16):q.toString(16)}function x(q){for(var X=[],J=0;J<q.length;J++){var re=q.charCodeAt(J);if(re<=127)X.push(q.charCodeAt(J));else for(var ae=J,me=(55296<=re&&re<=57343&&J++,encodeURIComponent(q.slice(ae,J+1)).substr(1).split("%")),_e=0;_e<me.length;_e++)X.push(parseInt(me[_e],16))}return X}function P(q){return p.toByteArray(q)}function U(q,X,J,re){for(var ae=0;ae<re&&!(ae+J>=X.length||ae>=q.length);ae++)X[ae+J]=q[ae];return ae}function K(q){try{return decodeURIComponent(q)}catch{return String.fromCharCode(65533)}}function z(q,X){ie(typeof q=="number","cannot write a non-number as a number"),ie(0<=q,"specified a negative value for writing an unsigned value"),ie(q<=X,"value is larger than maximum value for type"),ie(Math.floor(q)===q,"value has a fractional component")}function Q(q,X,J){ie(typeof q=="number","cannot write a non-number as a number"),ie(q<=X,"value larger than maximum allowed value"),ie(J<=q,"value smaller than minimum allowed value"),ie(Math.floor(q)===q,"value has a fractional component")}function oe(q,X,J){ie(typeof q=="number","cannot write a non-number as a number"),ie(q<=X,"value larger than maximum allowed value"),ie(J<=q,"value smaller than minimum allowed value")}function ie(q,X){if(!q)throw new Error(X||"Failed assertion")}y._augment=function(q){return q._isBuffer=!0,q._get=q.get,q._set=q.set,q.get=S.get,q.set=S.set,q.write=S.write,q.toString=S.toString,q.toLocaleString=S.toString,q.toJSON=S.toJSON,q.copy=S.copy,q.slice=S.slice,q.readUInt8=S.readUInt8,q.readUInt16LE=S.readUInt16LE,q.readUInt16BE=S.readUInt16BE,q.readUInt32LE=S.readUInt32LE,q.readUInt32BE=S.readUInt32BE,q.readInt8=S.readInt8,q.readInt16LE=S.readInt16LE,q.readInt16BE=S.readInt16BE,q.readInt32LE=S.readInt32LE,q.readInt32BE=S.readInt32BE,q.readFloatLE=S.readFloatLE,q.readFloatBE=S.readFloatBE,q.readDoubleLE=S.readDoubleLE,q.readDoubleBE=S.readDoubleBE,q.writeUInt8=S.writeUInt8,q.writeUInt16LE=S.writeUInt16LE,q.writeUInt16BE=S.writeUInt16BE,q.writeUInt32LE=S.writeUInt32LE,q.writeUInt32BE=S.writeUInt32BE,q.writeInt8=S.writeInt8,q.writeInt16LE=S.writeInt16LE,q.writeInt16BE=S.writeInt16BE,q.writeInt32LE=S.writeInt32LE,q.writeInt32BE=S.writeInt32BE,q.writeFloatLE=S.writeFloatLE,q.writeFloatBE=S.writeFloatBE,q.writeDoubleLE=S.writeDoubleLE,q.writeDoubleBE=S.writeDoubleBE,q.fill=S.fill,q.inspect=S.inspect,q.toArrayBuffer=S.toArrayBuffer,q}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,e,r){(function(n,i,p,o,a,u,c,h,f){var p=t("buffer").Buffer,l=4,y=new p(l);y.fill(0),e.exports={hash:function(_,O,F,B){for(var E=O(function(D,C){D.length%l!=0&&(d=D.length+(l-D.length%l),D=p.concat([D,y],d));for(var d,v=[],g=C?D.readInt32BE:D.readInt32LE,m=0;m<D.length;m+=l)v.push(g.call(D,m));return v}(_=p.isBuffer(_)?_:new p(_),B),8*_.length),O=B,I=new p(F),L=O?I.writeInt32BE:I.writeInt32LE,N=0;N<E.length;N++)L.call(I,E[N],4*N,!0);return I}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,e,r){(function(n,i,p,o,a,u,c,h,f){var p=t("buffer").Buffer,l=t("./sha"),y=t("./sha256"),_=t("./rng"),O={sha1:l,sha256:y,md5:t("./md5")},F=64,B=new p(F);function E(D,C){var d=O[D=D||"sha1"],v=[];return d||I("algorithm:",D,"is not yet supported"),{update:function(g){return p.isBuffer(g)||(g=new p(g)),v.push(g),g.length,this},digest:function(g){var m=p.concat(v),m=C?function(S,w,R){p.isBuffer(w)||(w=new p(w)),p.isBuffer(R)||(R=new p(R)),w.length>F?w=S(w):w.length<F&&(w=p.concat([w,B],F));for(var T=new p(F),b=new p(F),x=0;x<F;x++)T[x]=54^w[x],b[x]=92^w[x];return R=S(p.concat([T,R])),S(p.concat([b,R]))}(d,C,m):d(m);return v=null,g?m.toString(g):m}}}function I(){var D=[].slice.call(arguments).join(" ");throw new Error([D,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}B.fill(0),r.createHash=function(D){return E(D)},r.createHmac=E,r.randomBytes=function(D,C){if(!C||!C.call)return new p(_(D));try{C.call(this,void 0,new p(_(D)))}catch(d){C(d)}};var L,N=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],H=function(D){r[D]=function(){I("sorry,",D,"is not implemented yet")}};for(L in N)H(N[L],L)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p=t("./helpers");function l(I,L){I[L>>5]|=128<<L%32,I[14+(L+64>>>9<<4)]=L;for(var N=1732584193,H=-271733879,D=-1732584194,C=271733878,d=0;d<I.length;d+=16){var v=N,g=H,m=D,S=C,N=_(N,H,D,C,I[d+0],7,-680876936),C=_(C,N,H,D,I[d+1],12,-389564586),D=_(D,C,N,H,I[d+2],17,606105819),H=_(H,D,C,N,I[d+3],22,-1044525330);N=_(N,H,D,C,I[d+4],7,-176418897),C=_(C,N,H,D,I[d+5],12,1200080426),D=_(D,C,N,H,I[d+6],17,-1473231341),H=_(H,D,C,N,I[d+7],22,-45705983),N=_(N,H,D,C,I[d+8],7,1770035416),C=_(C,N,H,D,I[d+9],12,-1958414417),D=_(D,C,N,H,I[d+10],17,-42063),H=_(H,D,C,N,I[d+11],22,-1990404162),N=_(N,H,D,C,I[d+12],7,1804603682),C=_(C,N,H,D,I[d+13],12,-40341101),D=_(D,C,N,H,I[d+14],17,-1502002290),N=O(N,H=_(H,D,C,N,I[d+15],22,1236535329),D,C,I[d+1],5,-165796510),C=O(C,N,H,D,I[d+6],9,-1069501632),D=O(D,C,N,H,I[d+11],14,643717713),H=O(H,D,C,N,I[d+0],20,-373897302),N=O(N,H,D,C,I[d+5],5,-701558691),C=O(C,N,H,D,I[d+10],9,38016083),D=O(D,C,N,H,I[d+15],14,-660478335),H=O(H,D,C,N,I[d+4],20,-405537848),N=O(N,H,D,C,I[d+9],5,568446438),C=O(C,N,H,D,I[d+14],9,-1019803690),D=O(D,C,N,H,I[d+3],14,-187363961),H=O(H,D,C,N,I[d+8],20,1163531501),N=O(N,H,D,C,I[d+13],5,-1444681467),C=O(C,N,H,D,I[d+2],9,-51403784),D=O(D,C,N,H,I[d+7],14,1735328473),N=F(N,H=O(H,D,C,N,I[d+12],20,-1926607734),D,C,I[d+5],4,-378558),C=F(C,N,H,D,I[d+8],11,-2022574463),D=F(D,C,N,H,I[d+11],16,1839030562),H=F(H,D,C,N,I[d+14],23,-35309556),N=F(N,H,D,C,I[d+1],4,-1530992060),C=F(C,N,H,D,I[d+4],11,1272893353),D=F(D,C,N,H,I[d+7],16,-155497632),H=F(H,D,C,N,I[d+10],23,-1094730640),N=F(N,H,D,C,I[d+13],4,681279174),C=F(C,N,H,D,I[d+0],11,-358537222),D=F(D,C,N,H,I[d+3],16,-722521979),H=F(H,D,C,N,I[d+6],23,76029189),N=F(N,H,D,C,I[d+9],4,-640364487),C=F(C,N,H,D,I[d+12],11,-421815835),D=F(D,C,N,H,I[d+15],16,530742520),N=B(N,H=F(H,D,C,N,I[d+2],23,-995338651),D,C,I[d+0],6,-198630844),C=B(C,N,H,D,I[d+7],10,1126891415),D=B(D,C,N,H,I[d+14],15,-1416354905),H=B(H,D,C,N,I[d+5],21,-57434055),N=B(N,H,D,C,I[d+12],6,1700485571),C=B(C,N,H,D,I[d+3],10,-1894986606),D=B(D,C,N,H,I[d+10],15,-1051523),H=B(H,D,C,N,I[d+1],21,-2054922799),N=B(N,H,D,C,I[d+8],6,1873313359),C=B(C,N,H,D,I[d+15],10,-30611744),D=B(D,C,N,H,I[d+6],15,-1560198380),H=B(H,D,C,N,I[d+13],21,1309151649),N=B(N,H,D,C,I[d+4],6,-145523070),C=B(C,N,H,D,I[d+11],10,-1120210379),D=B(D,C,N,H,I[d+2],15,718787259),H=B(H,D,C,N,I[d+9],21,-343485551),N=E(N,v),H=E(H,g),D=E(D,m),C=E(C,S)}return Array(N,H,D,C)}function y(I,L,N,H,D,C){return E((L=E(E(L,I),E(H,C)))<<D|L>>>32-D,N)}function _(I,L,N,H,D,C,d){return y(L&N|~L&H,I,L,D,C,d)}function O(I,L,N,H,D,C,d){return y(L&H|N&~H,I,L,D,C,d)}function F(I,L,N,H,D,C,d){return y(L^N^H,I,L,D,C,d)}function B(I,L,N,H,D,C,d){return y(N^(L|~H),I,L,D,C,d)}function E(I,L){var N=(65535&I)+(65535&L);return(I>>16)+(L>>16)+(N>>16)<<16|65535&N}e.exports=function(I){return p.hash(I,l,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p;e.exports=p||function(l){for(var y,_=new Array(l),O=0;O<l;O++)(3&O)==0&&(y=4294967296*Math.random()),_[O]=y>>>((3&O)<<3)&255;return _}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p=t("./helpers");function l(O,F){O[F>>5]|=128<<24-F%32,O[15+(F+64>>9<<4)]=F;for(var B,E,I,L=Array(80),N=1732584193,H=-271733879,D=-1732584194,C=271733878,d=-1009589776,v=0;v<O.length;v+=16){for(var g=N,m=H,S=D,w=C,R=d,T=0;T<80;T++){L[T]=T<16?O[v+T]:_(L[T-3]^L[T-8]^L[T-14]^L[T-16],1);var b=y(y(_(N,5),(b=H,E=D,I=C,(B=T)<20?b&E|~b&I:!(B<40)&&B<60?b&E|b&I|E&I:b^E^I)),y(y(d,L[T]),(B=T)<20?1518500249:B<40?1859775393:B<60?-1894007588:-899497514)),d=C,C=D,D=_(H,30),H=N,N=b}N=y(N,g),H=y(H,m),D=y(D,S),C=y(C,w),d=y(d,R)}return Array(N,H,D,C,d)}function y(O,F){var B=(65535&O)+(65535&F);return(O>>16)+(F>>16)+(B>>16)<<16|65535&B}function _(O,F){return O<<F|O>>>32-F}e.exports=function(O){return p.hash(O,l,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){function p(F,B){var E=(65535&F)+(65535&B);return(F>>16)+(B>>16)+(E>>16)<<16|65535&E}function l(F,B){var E,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),L=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),N=new Array(64);F[B>>5]|=128<<24-B%32,F[15+(B+64>>9<<4)]=B;for(var H,D,C=0;C<F.length;C+=16){for(var d=L[0],v=L[1],g=L[2],m=L[3],S=L[4],w=L[5],R=L[6],T=L[7],b=0;b<64;b++)N[b]=b<16?F[b+C]:p(p(p((D=N[b-2],_(D,17)^_(D,19)^O(D,10)),N[b-7]),(D=N[b-15],_(D,7)^_(D,18)^O(D,3))),N[b-16]),E=p(p(p(p(T,_(D=S,6)^_(D,11)^_(D,25)),S&w^~S&R),I[b]),N[b]),H=p(_(H=d,2)^_(H,13)^_(H,22),d&v^d&g^v&g),T=R,R=w,w=S,S=p(m,E),m=g,g=v,v=d,d=p(E,H);L[0]=p(d,L[0]),L[1]=p(v,L[1]),L[2]=p(g,L[2]),L[3]=p(m,L[3]),L[4]=p(S,L[4]),L[5]=p(w,L[5]),L[6]=p(R,L[6]),L[7]=p(T,L[7])}return L}var y=t("./helpers"),_=function(F,B){return F>>>B|F<<32-B},O=function(F,B){return F>>>B};e.exports=function(F){return y.hash(F,l,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){r.read=function(p,l,y,_,C){var F,B,E=8*C-_-1,I=(1<<E)-1,L=I>>1,N=-7,H=y?C-1:0,D=y?-1:1,C=p[l+H];for(H+=D,F=C&(1<<-N)-1,C>>=-N,N+=E;0<N;F=256*F+p[l+H],H+=D,N-=8);for(B=F&(1<<-N)-1,F>>=-N,N+=_;0<N;B=256*B+p[l+H],H+=D,N-=8);if(F===0)F=1-L;else{if(F===I)return B?NaN:1/0*(C?-1:1);B+=Math.pow(2,_),F-=L}return(C?-1:1)*B*Math.pow(2,F-_)},r.write=function(p,l,y,_,O,d){var B,E,I=8*d-O-1,L=(1<<I)-1,N=L>>1,H=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=_?0:d-1,C=_?1:-1,d=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(E=isNaN(l)?1:0,B=L):(B=Math.floor(Math.log(l)/Math.LN2),l*(_=Math.pow(2,-B))<1&&(B--,_*=2),2<=(l+=1<=B+N?H/_:H*Math.pow(2,1-N))*_&&(B++,_/=2),L<=B+N?(E=0,B=L):1<=B+N?(E=(l*_-1)*Math.pow(2,O),B+=N):(E=l*Math.pow(2,N-1)*Math.pow(2,O),B=0));8<=O;p[y+D]=255&E,D+=C,E/=256,O-=8);for(B=B<<O|E,I+=O;0<I;p[y+D]=255&B,D+=C,B/=256,I-=8);p[y+D-C]|=128*d}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p,l,y;function _(){}(n=e.exports={}).nextTick=(l=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,l?function(O){return window.setImmediate(O)}:y?(p=[],window.addEventListener("message",function(O){var F=O.source;F!==window&&F!==null||O.data!=="process-tick"||(O.stopPropagation(),0<p.length&&p.shift()())},!0),function(O){p.push(O),window.postMessage("process-tick","*")}):function(O){setTimeout(O,0)}),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.binding=function(O){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(O){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})});var C6=$(Dn=>{k();M();var I1e=Dn&&Dn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.checkTxFee=Dn.fromByteString=Dn.camelCaseCapitalized=Dn.alterFileExt=Dn.isInNodeEnv=Dn.mapIter=Dn.findSigs=Dn.findSig=Dn.toNumber=Dn.getDummySig=void 0;var P1e=I1e(Mo()),l0=rr(),O1e=dl();function B1e(){return new Array(72*2).fill(0).join("")}Dn.getDummySig=B1e;function C1e(t){return parseInt("0x"+t)}Dn.toNumber=C1e;function k1e(t,e,r=l0.DEFAULT_SIGHASH_TYPE){return gU(t,[{pubKeyOrAddr:e,sigHashType:r}])[0]}Dn.findSig=k1e;function gU(t,e){return e.map(r=>{let n,i;return r instanceof l0.bsv.Address||r instanceof l0.bsv.PublicKey?(n=r,i=l0.DEFAULT_SIGHASH_TYPE):(n=r.pubKeyOrAddr,i=r.sigHashType||l0.DEFAULT_SIGHASH_TYPE),Array.from([n]).flat().map(s=>{let o=t.find(a=>(a.publicKey===s.toString()||l0.bsv.PublicKey.fromString(a.publicKey).toAddress(l0.bsv.Networks.testnet).toString()===s.toString()||l0.bsv.PublicKey.fromString(a.publicKey).toAddress(l0.bsv.Networks.livenet).toString()===s.toString())&&a.sigHashType===i);if(!o){let a=s instanceof l0.bsv.Address?"address":"public key";throw new Error(`cannot find signature for ${a} \`${s.toString()}\` in sigResponses`)}return(0,O1e.Sig)(o.sig)})}).flat()}Dn.findSigs=gU;function*M1e(t,e){for(let r of t)yield e(r)}Dn.mapIter=M1e;function R1e(){return typeof process<"u"}Dn.isInNodeEnv=R1e;function N1e(t,e,r){let n=r||P1e.default.extname(t),i=new RegExp(`${n}$`);return t.replace(i,"."+e)}Dn.alterFileExt=N1e;function F1e(t){return t.substring(0,1).toUpperCase()+t.substring(1)}Dn.camelCaseCapitalized=F1e;function H1e(t){return new TextDecoder().decode(A.Buffer.from(t,"hex"))}Dn.fromByteString=H1e;function D1e(t,e){let r=t.getUnspentValue(),n=t.getEstimateSize(),i=Math.max(1,Math.ceil(n/1e3*e));return r>=i}Dn.checkTxFee=D1e});var Vw=$(M6=>{k();M();var L1e=M6&&M6.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M6,"__esModule",{value:!0});M6.HashedMap=void 0;var U1e=rr(),k6=L1e($w()),q1e=Vb(),jw=C6(),Kw=class extends Map{constructor(e){super(e)}set(e,r){let n={originalKey:e,value:r};return Map.prototype.set.call(this,(0,k6.default)(e),n),this._traceAccess(e),this}get(e){let r=Map.prototype.get.call(this,(0,k6.default)(e));return r?.value}has(e){return this._traceAccess(e),Map.prototype.has.call(this,(0,k6.default)(e))}delete(e){return this._traceAccess(e),Map.prototype.delete.call(this,(0,k6.default)(e))}forEach(e,r){Map.prototype.forEach.call(this,(n,i,s)=>{let o=n;e(o.value,o.originalKey,s)},r)}entries(){return(0,jw.mapIter)(Map.prototype.entries.call(this),([e,r])=>[r.originalKey,r.value])}keys(){let e=this;return(0,jw.mapIter)(Map.prototype.keys.call(this),r=>Map.prototype.get.call(e,r).originalKey)}values(){return(0,jw.mapIter)(Map.prototype.values.call(this),e=>e.value)}[Symbol.iterator](){return this.entries()}canGet(e,r){this._traceAccess(e);let n=this.get(e);return typeof n<"u"?(0,k6.default)(n)===(0,k6.default)(r):!1}attachTo(e,r){let[n,i]=(0,U1e.parseGenericType)(e);this._keyType=i[0],this._valueType=i[1],this._DelegateClazz=r,this._type=e,this._tracer=new q1e.SortedItemAccessTracer(this._keyType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._keyType!==void 0&&this._valueType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.keys())}};M6.HashedMap=Kw});var bU=$(R6=>{k();M();var $1e=R6&&R6.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(R6,"__esModule",{value:!0});R6.HashedSet=void 0;var j1e=rr(),K1e=Vb(),Gw=$1e($w()),zw=class extends Set{constructor(e){super(e),this._map=new Map}add(e){let r=(0,Gw.default)(e);return this._map=this._map||new Map,this._map.has(r)||(Set.prototype.add.call(this,e),this._map.set(r,e)),this._traceAccess(e),this}delete(e){this._traceAccess(e);let r=(0,Gw.default)(e),n=this._map.get(r);return this._map.delete(r),Set.prototype.delete.call(this,n)}has(e){this._traceAccess(e);let r=(0,Gw.default)(e),n=this._map.get(r);return Set.prototype.has.call(this,n)}attachTo(e,r){let[n,i]=(0,j1e.parseGenericType)(e);this._elemType=i[0],this._DelegateClazz=r,this._type=e,this._tracer=new K1e.SortedItemAccessTracer(this._elemType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._elemType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.values())}};R6.HashedSet=zw});var dl=$(kr=>{k();M();Object.defineProperty(kr,"__esModule",{value:!0});kr.equals=kr.toByteString=kr.Sha256=kr.Sha1=kr.Addr=kr.PubKeyHash=kr.Ripemd160=kr.Sig=kr.PubKey=kr.SigHashType=kr.OpCodeType=kr.PrivKey=kr.SigHashPreimage=kr.HashedSet=kr.HashedMap=kr.instanceOfSIATraceable=void 0;var V1e=rr(),uc=rr();Object.defineProperty(kr,"SigHashPreimage",{enumerable:!0,get:function(){return uc.SigHashPreimage}});Object.defineProperty(kr,"PrivKey",{enumerable:!0,get:function(){return uc.PrivKey}});Object.defineProperty(kr,"OpCodeType",{enumerable:!0,get:function(){return uc.OpCodeType}});Object.defineProperty(kr,"SigHashType",{enumerable:!0,get:function(){return uc.SigHashType}});var G1e=Vb();Object.defineProperty(kr,"instanceOfSIATraceable",{enumerable:!0,get:function(){return G1e.instanceOfSIATraceable}});var z1e=Vw();Object.defineProperty(kr,"HashedMap",{enumerable:!0,get:function(){return z1e.HashedMap}});var W1e=bU();Object.defineProperty(kr,"HashedSet",{enumerable:!0,get:function(){return W1e.HashedSet}});function Y1e(t){return(0,uc.PubKey)(t)}kr.PubKey=Y1e;function X1e(t){return(0,uc.Sig)(t)}kr.Sig=X1e;function Z1e(t){return(0,uc.Ripemd160)(t)}kr.Ripemd160=Z1e;function J1e(t){return(0,uc.PubKeyHash)(t)}kr.PubKeyHash=J1e;function Q1e(t){return(0,uc.PubKeyHash)(t)}kr.Addr=Q1e;function e7e(t){return(0,uc.Sha1)(t)}kr.Sha1=e7e;function t7e(t){return(0,uc.Sha256)(t)}kr.Sha256=t7e;function r7e(t,e=!1){if(e===!0)return(0,V1e.stringToBytes)(t);if(t.length%2!==0)throw new Error("hex literal length must be even");return t}kr.toByteString=r7e;function n7e(t,e){if(Array.isArray(t[0])){let r=[];for(let n=0;n<t.length;n++)r.push(Gb(t[n],e[n]));for(let n=0;n<r.length;n++)if(!r[n])return!1;return!0}if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Gb(t[r],e[r]))return!1;return!0}function i7e(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;let i=[];for(let s=0;s<r.length;s++)i.push(Gb(t[r[s]],e[n[s]]));for(let s=0;s<i.length;s++)if(!i[s])return!1;return!0}function Gb(t,e){return Array.isArray(t)&&Array.isArray(e)?n7e(t,e):typeof t=="object"&&typeof e=="object"?i7e(t,e):t===e}kr.equals=Gb});var qp=$(je=>{k();M();Object.defineProperty(je,"__esModule",{value:!0});je.Constants=je.Tx=je.VarIntWriter=je.VarIntReader=je.SigHash=je.Utils=je.OpCode=je.asm=je.rshift=je.lshift=je.assert=je.pubKey2Addr=je.hash256=je.hash160=je.sha256=je.sha1=je.ripemd160=je.within=je.max=je.min=je.abs=je.exit=je.reverseByteString=je.len=je.byteString2Int=je.int2ByteString=je.fill=je.slice=je.getSortedItem=je.invert=je.or=je.xor=je.and=void 0;var Oe=rr(),ce=dl(),s7e=wr(),Q3=rr();Object.defineProperty(je,"and",{enumerable:!0,get:function(){return Q3.and}});Object.defineProperty(je,"xor",{enumerable:!0,get:function(){return Q3.xor}});Object.defineProperty(je,"or",{enumerable:!0,get:function(){return Q3.or}});Object.defineProperty(je,"invert",{enumerable:!0,get:function(){return Q3.invert}});Object.defineProperty(je,"getSortedItem",{enumerable:!0,get:function(){return Q3.getSortedItem}});function o7e(t,e,r){let n=Number(e)*2,i=typeof r=="bigint"?Number(r)*2:t.length;if(n<0||i<0)throw new Error("index should not be negative");if(typeof r=="bigint"&&n>i)throw new Error("start index should be less than or equal to end index");if(n>t.length)throw new Error("start index should not be greater than the length");if(i>t.length)throw new Error("end index should not be greater than the length");return t.slice(n,i)}je.slice=o7e;function a7e(t,e){return Array(e).fill(0).map(r=>(0,s7e.cloneDeep)(t))}je.fill=a7e;function lu(t,e){return e===void 0?new Oe.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex"):(0,Oe.num2bin)(t,Number(e))}je.int2ByteString=lu;function N6(t){return BigInt((0,Oe.bin2num)(t))}je.byteString2Int=N6;function ho(t){return BigInt(t.length/2)}je.len=ho;function Ww(t,e){let r=ho(t);if(r!=e)throw new Error(`reverseByteString error, expected c = ${r}`);return t.match(/[a-fA-F0-9]{2}/g).reverse().join("")}je.reverseByteString=Ww;function u7e(t){}je.exit=u7e;function c7e(t){return t<0?-t:t}je.abs=c7e;function f7e(t,e){return t-e<0?t:e}je.min=f7e;function h7e(t,e){return t-e>0?t:e}je.max=h7e;function l7e(t,e,r){return e-t<=0&&t-r<0}je.within=l7e;function d7e(t){return(0,Oe.Ripemd160)(Oe.bsv.crypto.Hash.ripemd160(A.Buffer.from(t,"hex")).toString("hex"))}je.ripemd160=d7e;function p7e(t){return(0,Oe.Sha1)(Oe.bsv.crypto.Hash.sha1(A.Buffer.from(t,"hex")).toString("hex"))}je.sha1=p7e;function Yw(t){return(0,Oe.Sha256)(Oe.bsv.crypto.Hash.sha256(A.Buffer.from(t,"hex")).toString("hex"))}je.sha256=Yw;function yU(t){return(0,Oe.Ripemd160)(Oe.bsv.crypto.Hash.sha256ripemd160(A.Buffer.from(t,"hex")).toString("hex"))}je.hash160=yU;function m7e(t){return Yw(Yw(t))}je.hash256=m7e;function g7e(t){return yU(t)}je.pubKey2Addr=g7e;function e9(t,e){if(!t){let r="Execution failed"+(e?`, ${e}`:"");throw new Error(r)}}je.assert=e9;function b7e(t,e){let r=(0,Oe.Int)(1);for(let n=0,i=e;n<i;n++)r*=t;return r}function vU(t){return b7e((0,Oe.Int)(2),t)}function y7e(t,e){return e9(e>=0,"n < 0"),t*vU(e)}je.lshift=y7e;function v7e(t,e){e9(e>=0,"n < 0");let r=t/vU(e);return e==(0,Oe.Int)(0)?t:t%(0,Oe.Int)(2)==(0,Oe.Int)(-1)?r-(0,Oe.Int)(1):t<(0,Oe.Int)(0)&&r==(0,Oe.Int)(0)?(0,Oe.Int)(-1):r}je.rshift=v7e;function _7e(t){throw new Error("unimplemented")}je.asm=_7e;var ve=class{};je.OpCode=ve;ve.OP_0=(0,ce.OpCodeType)("00");ve.OP_FALSE=(0,ce.OpCodeType)("00");ve.OP_PUSHDATA1=(0,ce.OpCodeType)("4c");ve.OP_PUSHDATA2=(0,ce.OpCodeType)("4d");ve.OP_PUSHDATA4=(0,ce.OpCodeType)("4e");ve.OP_1NEGATE=(0,ce.OpCodeType)("4f");ve.OP_RESERVED=(0,ce.OpCodeType)("50");ve.OP_1=(0,ce.OpCodeType)("51");ve.OP_TRUE=(0,ce.OpCodeType)("51");ve.OP_2=(0,ce.OpCodeType)("52");ve.OP_3=(0,ce.OpCodeType)("53");ve.OP_4=(0,ce.OpCodeType)("54");ve.OP_5=(0,ce.OpCodeType)("55");ve.OP_6=(0,ce.OpCodeType)("56");ve.OP_7=(0,ce.OpCodeType)("57");ve.OP_8=(0,ce.OpCodeType)("58");ve.OP_9=(0,ce.OpCodeType)("59");ve.OP_10=(0,ce.OpCodeType)("5a");ve.OP_11=(0,ce.OpCodeType)("5b");ve.OP_12=(0,ce.OpCodeType)("5c");ve.OP_13=(0,ce.OpCodeType)("5d");ve.OP_14=(0,ce.OpCodeType)("5e");ve.OP_15=(0,ce.OpCodeType)("5f");ve.OP_16=(0,ce.OpCodeType)("60");ve.OP_NOP=(0,ce.OpCodeType)("61");ve.OP_VER=(0,ce.OpCodeType)("62");ve.OP_IF=(0,ce.OpCodeType)("63");ve.OP_NOTIF=(0,ce.OpCodeType)("64");ve.OP_VERIF=(0,ce.OpCodeType)("65");ve.OP_VERNOTIF=(0,ce.OpCodeType)("66");ve.OP_ELSE=(0,ce.OpCodeType)("67");ve.OP_ENDIF=(0,ce.OpCodeType)("68");ve.OP_VERIFY=(0,ce.OpCodeType)("69");ve.OP_RETURN=(0,ce.OpCodeType)("6a");ve.OP_TOALTSTACK=(0,ce.OpCodeType)("6b");ve.OP_FROMALTSTACK=(0,ce.OpCodeType)("6c");ve.OP_2DROP=(0,ce.OpCodeType)("6d");ve.OP_2DUP=(0,ce.OpCodeType)("6e");ve.OP_3DUP=(0,ce.OpCodeType)("6f");ve.OP_2OVER=(0,ce.OpCodeType)("70");ve.OP_2ROT=(0,ce.OpCodeType)("71");ve.OP_2SWAP=(0,ce.OpCodeType)("72");ve.OP_IFDUP=(0,ce.OpCodeType)("73");ve.OP_DEPTH=(0,ce.OpCodeType)("74");ve.OP_DROP=(0,ce.OpCodeType)("75");ve.OP_DUP=(0,ce.OpCodeType)("76");ve.OP_NIP=(0,ce.OpCodeType)("77");ve.OP_OVER=(0,ce.OpCodeType)("78");ve.OP_PICK=(0,ce.OpCodeType)("79");ve.OP_ROLL=(0,ce.OpCodeType)("7a");ve.OP_ROT=(0,ce.OpCodeType)("7b");ve.OP_SWAP=(0,ce.OpCodeType)("7c");ve.OP_TUCK=(0,ce.OpCodeType)("7d");ve.OP_CAT=(0,ce.OpCodeType)("7e");ve.OP_SPLIT=(0,ce.OpCodeType)("7f");ve.OP_NUM2BIN=(0,ce.OpCodeType)("80");ve.OP_BIN2NUM=(0,ce.OpCodeType)("81");ve.OP_SIZE=(0,ce.OpCodeType)("82");ve.OP_INVERT=(0,ce.OpCodeType)("83");ve.OP_AND=(0,ce.OpCodeType)("84");ve.OP_OR=(0,ce.OpCodeType)("85");ve.OP_XOR=(0,ce.OpCodeType)("86");ve.OP_EQUAL=(0,ce.OpCodeType)("87");ve.OP_EQUALVERIFY=(0,ce.OpCodeType)("88");ve.OP_RESERVED1=(0,ce.OpCodeType)("89");ve.OP_RESERVED2=(0,ce.OpCodeType)("8a");ve.OP_1ADD=(0,ce.OpCodeType)("8b");ve.OP_1SUB=(0,ce.OpCodeType)("8c");ve.OP_2MUL=(0,ce.OpCodeType)("8d");ve.OP_2DIV=(0,ce.OpCodeType)("8e");ve.OP_NEGATE=(0,ce.OpCodeType)("8f");ve.OP_ABS=(0,ce.OpCodeType)("90");ve.OP_NOT=(0,ce.OpCodeType)("91");ve.OP_0NOTEQUAL=(0,ce.OpCodeType)("92");ve.OP_ADD=(0,ce.OpCodeType)("93");ve.OP_SUB=(0,ce.OpCodeType)("94");ve.OP_MUL=(0,ce.OpCodeType)("95");ve.OP_DIV=(0,ce.OpCodeType)("96");ve.OP_MOD=(0,ce.OpCodeType)("97");ve.OP_LSHIFT=(0,ce.OpCodeType)("98");ve.OP_RSHIFT=(0,ce.OpCodeType)("99");ve.OP_BOOLAND=(0,ce.OpCodeType)("9a");ve.OP_BOOLOR=(0,ce.OpCodeType)("9b");ve.OP_NUMEQUAL=(0,ce.OpCodeType)("9c");ve.OP_NUMEQUALVERIFY=(0,ce.OpCodeType)("9d");ve.OP_NUMNOTEQUAL=(0,ce.OpCodeType)("9e");ve.OP_LESSTHAN=(0,ce.OpCodeType)("9f");ve.OP_GREATERTHAN=(0,ce.OpCodeType)("a0");ve.OP_LESSTHANOREQUAL=(0,ce.OpCodeType)("a1");ve.OP_GREATERTHANOREQUAL=(0,ce.OpCodeType)("a2");ve.OP_MIN=(0,ce.OpCodeType)("a3");ve.OP_MAX=(0,ce.OpCodeType)("a4");ve.OP_WITHIN=(0,ce.OpCodeType)("a5");ve.OP_RIPEMD160=(0,ce.OpCodeType)("a6");ve.OP_SHA1=(0,ce.OpCodeType)("a7");ve.OP_SHA256=(0,ce.OpCodeType)("a8");ve.OP_HASH160=(0,ce.OpCodeType)("a9");ve.OP_HASH256=(0,ce.OpCodeType)("aa");ve.OP_CODESEPARATOR=(0,ce.OpCodeType)("ab");ve.OP_CHECKSIG=(0,ce.OpCodeType)("ac");ve.OP_CHECKSIGVERIFY=(0,ce.OpCodeType)("ad");ve.OP_CHECKMULTISIG=(0,ce.OpCodeType)("ae");ve.OP_CHECKMULTISIGVERIFY=(0,ce.OpCodeType)("af");ve.OP_NOP1=(0,ce.OpCodeType)("b0");ve.OP_NOP2=(0,ce.OpCodeType)("b1");ve.OP_NOP3=(0,ce.OpCodeType)("b2");ve.OP_NOP4=(0,ce.OpCodeType)("b3");ve.OP_NOP5=(0,ce.OpCodeType)("b4");ve.OP_NOP6=(0,ce.OpCodeType)("b5");ve.OP_NOP7=(0,ce.OpCodeType)("b6");ve.OP_NOP8=(0,ce.OpCodeType)("b7");ve.OP_NOP9=(0,ce.OpCodeType)("b8");ve.OP_NOP10=(0,ce.OpCodeType)("b9");ve.OP_PUBKEYHASH=(0,ce.OpCodeType)("fd");ve.OP_PUBKEY=(0,ce.OpCodeType)("fe");ve.OP_INVALIDOPCODE=(0,ce.OpCodeType)("ff");var Lr=class{static toLEUnsigned(e,r){let n=lu(e,r+(0,Oe.Int)(1));return n.slice(0,Number(ho(n))*2-2)}static fromLEUnsigned(e){return N6(e+(0,ce.toByteString)("00"))}static readVarint(e){let r=(0,Oe.Int)(0),n=(0,ce.toByteString)(""),i=e.slice(0,2);return i==(0,ce.toByteString)("fd")?(r=Lr.fromLEUnsigned(e.slice(2,6)),n=e.slice(6,6+Number(r*(0,Oe.Int)(2)))):i==(0,ce.toByteString)("fe")?(r=Lr.fromLEUnsigned(e.slice(2,10)),n=e.slice(10,10+Number(r*(0,Oe.Int)(2)))):i==(0,ce.toByteString)("ff")?(r=Lr.fromLEUnsigned(e.slice(2,18)),n=e.slice(18,18+Number(r*(0,Oe.Int)(2)))):(r=Lr.fromLEUnsigned(e.slice(0,2)),n=e.slice(2,2+Number(r*(0,Oe.Int)(2)))),n}static writeVarint(e){let r=ho(e),n=(0,ce.toByteString)("");return r<253?n=Lr.toLEUnsigned((0,Oe.Int)(r),(0,Oe.Int)(1)):r<65536?n=(0,ce.toByteString)("fd")+Lr.toLEUnsigned((0,Oe.Int)(r),(0,Oe.Int)(2)):r<4294967296?n=(0,ce.toByteString)("fe")+Lr.toLEUnsigned((0,Oe.Int)(r),(0,Oe.Int)(4)):r<18446744073709552e3&&(n=(0,ce.toByteString)("ff")+Lr.toLEUnsigned((0,Oe.Int)(r),(0,Oe.Int)(8))),n+e}static buildOutput(e,r){return lu(r,cc.OutputValueLen)+Lr.writeVarint(e)}static buildPublicKeyHashScript(e){return(0,ce.toByteString)(ve.OP_DUP)+(0,ce.toByteString)(ve.OP_HASH160)+lu(cc.PubKeyHashLen)+e+(0,ce.toByteString)(ve.OP_EQUALVERIFY)+(0,ce.toByteString)(ve.OP_CHECKSIG)}static buildPublicKeyHashOutput(e,r){return Lr.buildOutput(Lr.buildPublicKeyHashScript(e),r)}static buildAddressScript(e){return Lr.buildPublicKeyHashScript(e)}static buildAddressOutput(e,r){return Lr.buildPublicKeyHashOutput(e,r)}static buildOpreturnScript(e){return(0,ce.toByteString)(ve.OP_FALSE)+(0,ce.toByteString)(ve.OP_RETURN)+Lr.writeVarint(e)}};je.Utils=Lr;Lr.OutputValueLen=(0,Oe.Int)(8);Lr.PubKeyHashLen=(0,Oe.Int)(20);var Yo=class{static nVersion(e){return(0,ce.toByteString)(e).slice(0,8)}static hashPrevouts(e){return(0,ce.toByteString)(e).slice(8,72)}static hashSequence(e){return(0,ce.toByteString)(e).slice(36*2,68*2)}static outpoint(e){return(0,ce.toByteString)(e).slice(68*2,104*2)}static scriptCode(e){return Lr.readVarint((0,ce.toByteString)(e).slice(104*2))}static valueRaw(e){let r=Number(ho((0,ce.toByteString)(e)));return(0,ce.toByteString)(e).slice(r*2-104,r*2-88)}static value(e){return Lr.fromLEUnsigned(Yo.valueRaw(e))}static nSequenceRaw(e){let r=Number(ho((0,ce.toByteString)(e)));return(0,ce.toByteString)(e).slice(r*2-88,r*2-80)}static nSequence(e){return Lr.fromLEUnsigned(Yo.nSequenceRaw(e))}static hashOutputs(e){let r=Number(ho((0,ce.toByteString)(e)));return(0,ce.toByteString)(e).slice(r*2-80,r*2-16)}static nLocktimeRaw(e){let r=Number(ho((0,ce.toByteString)(e)));return(0,ce.toByteString)(e).slice(r*2-16,r*2-8)}static nLocktime(e){return Lr.fromLEUnsigned(Yo.nLocktimeRaw(e))}static sigHashType(e){let r=Number(ho((0,ce.toByteString)(e))),n=Lr.fromLEUnsigned((0,ce.toByteString)(e).slice(r*2-8,r*2-6));return(0,Oe.SigHashType)(Number(n))}};je.SigHash=Yo;Yo.ALL=(0,Oe.SigHashType)(65);Yo.NONE=(0,Oe.SigHashType)(66);Yo.SINGLE=(0,Oe.SigHashType)(67);Yo.ANYONECANPAY_ALL=(0,Oe.SigHashType)(193);Yo.ANYONECANPAY_NONE=(0,Oe.SigHashType)(194);Yo.ANYONECANPAY_SINGLE=(0,Oe.SigHashType)(195);var As=class{constructor(e){this.buf=e,this.pos=(0,Oe.Int)(0)}eof(){return this.pos>=ho(this.buf)}readBytes(){let e=(0,Oe.Int)(0),r=this.buf,n=(0,ce.toByteString)(""),i=N6(r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+(0,Oe.Int)(1))*(0,Oe.Int)(2))));return this.pos++,i<(0,Oe.Int)(76)?(e=i,n=r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+e)*(0,Oe.Int)(2)))):i==(0,Oe.Int)(76)?(e=Lr.fromLEUnsigned(r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+(0,Oe.Int)(1))*(0,Oe.Int)(2)))),this.pos+=(0,Oe.Int)(1),n=r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+e)*(0,Oe.Int)(2)))):i==(0,Oe.Int)(77)?(e=Lr.fromLEUnsigned(r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+(0,Oe.Int)(2))*(0,Oe.Int)(2)))),this.pos+=(0,Oe.Int)(2),n=r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+e)*(0,Oe.Int)(2)))):i==(0,Oe.Int)(78)?(e=Lr.fromLEUnsigned(r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+(0,Oe.Int)(4))*(0,Oe.Int)(2)))),this.pos+=(0,Oe.Int)(4),n=r.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+e)*(0,Oe.Int)(2)))):e9(!1),this.pos+=e,n}readBool(){let e=this.buf.slice(Number(this.pos*(0,Oe.Int)(2)),Number((this.pos+(0,Oe.Int)(1))*(0,Oe.Int)(2)));return this.pos++,(0,ce.toByteString)("00")!=e}readInt(){return N6(this.readBytes())}static getStateStart(e){let r=BigInt(ho(e)),n=r-As.StateLen-As.VersionLen,i=r-As.VersionLen,s=e.slice(Number(n*(0,Oe.Int)(2)),Number(i*(0,Oe.Int)(2))),o=N6(s);return r-o-As.StateLen-As.VersionLen}};je.VarIntReader=As;As.StateLen=(0,Oe.Int)(4);As.VersionLen=(0,Oe.Int)(1);As.Version=(0,Oe.Int)(0);var J3=class{static writeBytes(e){let r=BigInt(ho(e)),n=(0,ce.toByteString)("");return r<76?n=Lr.toLEUnsigned(r,(0,Oe.Int)(1)):r<256?n=(0,ce.toByteString)("4c")+Lr.toLEUnsigned(r,(0,Oe.Int)(1)):r<65536?n=(0,ce.toByteString)("4d")+Lr.toLEUnsigned(r,(0,Oe.Int)(2)):r<4294967296?n=(0,ce.toByteString)("4e")+Lr.toLEUnsigned(r,(0,Oe.Int)(4)):e9(!1),n+e}static writeBool(e){return e?(0,ce.toByteString)("01"):(0,ce.toByteString)("00")}static writeInt(e){return J3.writeBytes(e==(0,Oe.Int)(0)?(0,ce.toByteString)("00"):lu(e))}static serializeState(e){let r=lu(BigInt(ho(e)),As.StateLen);return e+r+lu(As.Version,As.VersionLen)}};je.VarIntWriter=J3;var d0=class{static normalize(e,r){let n=e%r;return n<0?n+r:n}static sign(e,r,n,i,s,o){let a=n*(e+i*r),u=(0,Oe.Int)("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");a=d0.normalize(a,u),a>u/(0,Oe.Int)(2)&&(a=u-a);let c=BigInt(ho(s)),h=Number(ho(lu(a))),f=Ww(lu(a,BigInt(32)),BigInt(32)).slice(32*2-h*2),p=(0,Oe.Int)(4)+c+BigInt(h),l=(0,ce.toByteString)("30")+lu(p)+(0,ce.toByteString)("02")+lu(c)+s+(0,ce.toByteString)("02")+lu(BigInt(h))+f+(0,ce.toByteString)(o);return(0,ce.Sig)(l)}static fromBEUnsigned(e){return N6(Ww(e,BigInt(32))+(0,ce.toByteString)("00"))}static checkPreimageOpt(e){throw new Error("unimplemented")}static checkPreimageOpt_(e){throw new Error("unimplemented")}static checkPreimageAdvancedOCS(e,r,n,i,s,o,a){throw new Error("unimplemented")}static checkPreimageOCS(e){throw new Error("unimplemented")}static checkPreimageSigHashTypeOCS(e,r){throw new Error("unimplemented")}static checkPreimageOptOCS(e){throw new Error("unimplemented")}static checkPreimageOptOCS_(e){throw new Error("unimplemented")}static isFirstCall(e){let r=Yo.scriptCode(e),n=As.getStateStart(r);return new As(r.slice(Number(n)*2)).readBool()}};je.Tx=d0;d0.privKey=(0,ce.PrivKey)((0,Oe.Int)("0x26f00fe2340a84335ebdf30f57e9bb58487117b29355718f5e46bf5168d7df97"));d0.pubKey=(0,ce.PubKey)("02ba79df5f8ae7604a9830f03c7933028186aede0675a16f025dc4f8be8eec0382");d0.invK=(0,Oe.Int)("0xc8ffdbaa05d93aa4ede79ec58f06a72562048b775a3507c2bf44bde4f007c40a");d0.r=(0,Oe.Int)("0x1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");d0.rBigEndian=(0,ce.toByteString)("1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");var cc=class{};je.Constants=cc;cc.InputSeqLen=(0,Oe.Int)(4);cc.OutputValueLen=(0,Oe.Int)(8);cc.PubKeyLen=(0,Oe.Int)(33);cc.PubKeyHashLen=(0,Oe.Int)(20);cc.TxIdLen=(0,Oe.Int)(32);cc.OutpointLen=(0,Oe.Int)(36)});var Xw=$(()=>{k();M();var _U;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return Y(Object.create(null))}:a?function(){return Y({__proto__:null})}:function(){return Y({})},has:u?function(V,G){return r.call(V,G)}:function(V,G){return G in V},get:u?function(V,G){return r.call(V,G)?V[G]:void 0}:function(V,G){return V[G]}},h=Object.getPrototypeOf(Function),f=typeof process=="object"&&process["env"]&&process["env"].REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Se(),l=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:pt(),y=!f&&typeof WeakMap=="function"?WeakMap:j(),_=new y;function O(V,G,Z,ee){if(U(Z)){if(!re(V))throw new TypeError;if(!me(G))throw new TypeError;return d(V,G)}else{if(!re(V))throw new TypeError;if(!Q(G))throw new TypeError;if(!Q(ee)&&!U(ee)&&!K(ee))throw new TypeError;return K(ee)&&(ee=void 0),Z=J(Z),v(V,G,Z,ee)}}e("decorate",O);function F(V,G){function Z(ee,te){if(!Q(ee))throw new TypeError;if(!U(te)&&!_e(te))throw new TypeError;T(V,G,ee,te)}return Z}e("metadata",F);function B(V,G,Z,ee){if(!Q(Z))throw new TypeError;return U(ee)||(ee=J(ee)),T(V,G,Z,ee)}e("defineMetadata",B);function E(V,G,Z){if(!Q(G))throw new TypeError;return U(Z)||(Z=J(Z)),m(V,G,Z)}e("hasMetadata",E);function I(V,G,Z){if(!Q(G))throw new TypeError;return U(Z)||(Z=J(Z)),S(V,G,Z)}e("hasOwnMetadata",I);function L(V,G,Z){if(!Q(G))throw new TypeError;return U(Z)||(Z=J(Z)),w(V,G,Z)}e("getMetadata",L);function N(V,G,Z){if(!Q(G))throw new TypeError;return U(Z)||(Z=J(Z)),R(V,G,Z)}e("getOwnMetadata",N);function H(V,G){if(!Q(V))throw new TypeError;return U(G)||(G=J(G)),b(V,G)}e("getMetadataKeys",H);function D(V,G){if(!Q(V))throw new TypeError;return U(G)||(G=J(G)),x(V,G)}e("getOwnMetadataKeys",D);function C(V,G,Z){if(!Q(G))throw new TypeError;U(Z)||(Z=J(Z));var ee=g(G,Z,!1);if(U(ee)||!ee.delete(V))return!1;if(ee.size>0)return!0;var te=_.get(G);return te.delete(Z),te.size>0||_.delete(G),!0}e("deleteMetadata",C);function d(V,G){for(var Z=V.length-1;Z>=0;--Z){var ee=V[Z],te=ee(G);if(!U(te)&&!K(te)){if(!me(te))throw new TypeError;G=te}}return G}function v(V,G,Z,ee){for(var te=V.length-1;te>=0;--te){var ue=V[te],se=ue(G,Z,ee);if(!U(se)&&!K(se)){if(!Q(se))throw new TypeError;ee=se}}return ee}function g(V,G,Z){var ee=_.get(V);if(U(ee)){if(!Z)return;ee=new p,_.set(V,ee)}var te=ee.get(G);if(U(te)){if(!Z)return;te=new p,ee.set(G,te)}return te}function m(V,G,Z){var ee=S(V,G,Z);if(ee)return!0;var te=Te(G);return K(te)?!1:m(V,te,Z)}function S(V,G,Z){var ee=g(G,Z,!1);return U(ee)?!1:q(ee.has(V))}function w(V,G,Z){var ee=S(V,G,Z);if(ee)return R(V,G,Z);var te=Te(G);if(!K(te))return w(V,te,Z)}function R(V,G,Z){var ee=g(G,Z,!1);if(!U(ee))return ee.get(V)}function T(V,G,Z,ee){var te=g(Z,ee,!0);te.set(V,G)}function b(V,G){var Z=x(V,G),ee=Te(V);if(ee===null)return Z;var te=b(ee,G);if(te.length<=0)return Z;if(Z.length<=0)return te;for(var ue=new l,se=[],de=0,ye=Z;de<ye.length;de++){var Pe=ye[de],xe=ue.has(Pe);xe||(ue.add(Pe),se.push(Pe))}for(var Ge=0,Ft=te;Ge<Ft.length;Ge++){var Pe=Ft[Ge],xe=ue.has(Pe);xe||(ue.add(Pe),se.push(Pe))}return se}function x(V,G){var Z=[],ee=g(V,G,!1);if(U(ee))return Z;for(var te=ee.keys(),ue=Le(te),se=0;;){var de=He(ue);if(!de)return Z.length=se,Z;var ye=Ce(de);try{Z[se]=ye}catch(Pe){try{Ze(ue)}finally{throw Pe}}se++}}function P(V){if(V===null)return 1;switch(typeof V){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return V===null?1:6;default:return 6}}function U(V){return V===void 0}function K(V){return V===null}function z(V){return typeof V=="symbol"}function Q(V){return typeof V=="object"?V!==null:typeof V=="function"}function oe(V,G){switch(P(V)){case 0:return V;case 1:return V;case 2:return V;case 3:return V;case 4:return V;case 5:return V}var Z=G===3?"string":G===5?"number":"default",ee=Ie(V,i);if(ee!==void 0){var te=ee.call(V,Z);if(Q(te))throw new TypeError;return te}return ie(V,Z==="default"?"number":Z)}function ie(V,G){if(G==="string"){var Z=V.toString;if(ae(Z)){var ee=Z.call(V);if(!Q(ee))return ee}var te=V.valueOf;if(ae(te)){var ee=te.call(V);if(!Q(ee))return ee}}else{var te=V.valueOf;if(ae(te)){var ee=te.call(V);if(!Q(ee))return ee}var ue=V.toString;if(ae(ue)){var ee=ue.call(V);if(!Q(ee))return ee}}throw new TypeError}function q(V){return!!V}function X(V){return""+V}function J(V){var G=oe(V,3);return z(G)?G:X(G)}function re(V){return Array.isArray?Array.isArray(V):V instanceof Object?V instanceof Array:Object.prototype.toString.call(V)==="[object Array]"}function ae(V){return typeof V=="function"}function me(V){return typeof V=="function"}function _e(V){switch(P(V)){case 3:return!0;case 4:return!0;default:return!1}}function Ie(V,G){var Z=V[G];if(Z!=null){if(!ae(Z))throw new TypeError;return Z}}function Le(V){var G=Ie(V,s);if(!ae(G))throw new TypeError;var Z=G.call(V);if(!Q(Z))throw new TypeError;return Z}function Ce(V){return V.value}function He(V){var G=V.next();return G.done?!1:G}function Ze(V){var G=V.return;G&&G.call(V)}function Te(V){var G=Object.getPrototypeOf(V);if(typeof V!="function"||V===h||G!==h)return G;var Z=V.prototype,ee=Z&&Object.getPrototypeOf(Z);if(ee==null||ee===Object.prototype)return G;var te=ee.constructor;return typeof te!="function"||te===V?G:te}function Se(){var V={},G=[],Z=function(){function se(de,ye,Pe){this._index=0,this._keys=de,this._values=ye,this._selector=Pe}return se.prototype["@@iterator"]=function(){return this},se.prototype[s]=function(){return this},se.prototype.next=function(){var de=this._index;if(de>=0&&de<this._keys.length){var ye=this._selector(this._keys[de],this._values[de]);return de+1>=this._keys.length?(this._index=-1,this._keys=G,this._values=G):this._index++,{value:ye,done:!1}}return{value:void 0,done:!0}},se.prototype.throw=function(de){throw this._index>=0&&(this._index=-1,this._keys=G,this._values=G),de},se.prototype.return=function(de){return this._index>=0&&(this._index=-1,this._keys=G,this._values=G),{value:de,done:!0}},se}();return function(){function se(){this._keys=[],this._values=[],this._cacheKey=V,this._cacheIndex=-2}return Object.defineProperty(se.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),se.prototype.has=function(de){return this._find(de,!1)>=0},se.prototype.get=function(de){var ye=this._find(de,!1);return ye>=0?this._values[ye]:void 0},se.prototype.set=function(de,ye){var Pe=this._find(de,!0);return this._values[Pe]=ye,this},se.prototype.delete=function(de){var ye=this._find(de,!1);if(ye>=0){for(var Pe=this._keys.length,xe=ye+1;xe<Pe;xe++)this._keys[xe-1]=this._keys[xe],this._values[xe-1]=this._values[xe];return this._keys.length--,this._values.length--,de===this._cacheKey&&(this._cacheKey=V,this._cacheIndex=-2),!0}return!1},se.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=V,this._cacheIndex=-2},se.prototype.keys=function(){return new Z(this._keys,this._values,ee)},se.prototype.values=function(){return new Z(this._keys,this._values,te)},se.prototype.entries=function(){return new Z(this._keys,this._values,ue)},se.prototype["@@iterator"]=function(){return this.entries()},se.prototype[s]=function(){return this.entries()},se.prototype._find=function(de,ye){return this._cacheKey!==de&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=de)),this._cacheIndex<0&&ye&&(this._cacheIndex=this._keys.length,this._keys.push(de),this._values.push(void 0)),this._cacheIndex},se}();function ee(se,de){return se}function te(se,de){return de}function ue(se,de){return[se,de]}}function pt(){return function(){function V(){this._map=new p}return Object.defineProperty(V.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),V.prototype.has=function(G){return this._map.has(G)},V.prototype.add=function(G){return this._map.set(G,G),this},V.prototype.delete=function(G){return this._map.delete(G)},V.prototype.clear=function(){this._map.clear()},V.prototype.keys=function(){return this._map.keys()},V.prototype.values=function(){return this._map.values()},V.prototype.entries=function(){return this._map.entries()},V.prototype["@@iterator"]=function(){return this.keys()},V.prototype[s]=function(){return this.keys()},V}()}function j(){var V=16,G=c.create(),Z=ee();return function(){function ye(){this._key=ee()}return ye.prototype.has=function(Pe){var xe=te(Pe,!1);return xe!==void 0?c.has(xe,this._key):!1},ye.prototype.get=function(Pe){var xe=te(Pe,!1);return xe!==void 0?c.get(xe,this._key):void 0},ye.prototype.set=function(Pe,xe){var Ge=te(Pe,!0);return Ge[this._key]=xe,this},ye.prototype.delete=function(Pe){var xe=te(Pe,!1);return xe!==void 0?delete xe[this._key]:!1},ye.prototype.clear=function(){this._key=ee()},ye}();function ee(){var ye;do ye="@@WeakMap@@"+de();while(c.has(G,ye));return G[ye]=!0,ye}function te(ye,Pe){if(!r.call(ye,Z)){if(!Pe)return;Object.defineProperty(ye,Z,{value:c.create()})}return ye[Z]}function ue(ye,Pe){for(var xe=0;xe<Pe;++xe)ye[xe]=Math.random()*255|0;return ye}function se(ye){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(ye)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(ye)):ue(new Uint8Array(ye),ye):ue(new Array(ye),ye)}function de(){var ye=se(V);ye[6]=ye[6]&79|64,ye[8]=ye[8]&191|128;for(var Pe="",xe=0;xe<V;++xe){var Ge=ye[xe];(xe===4||xe===6||xe===8)&&(Pe+="-"),Ge<16&&(Pe+="0"),Pe+=Ge.toString(16).toLowerCase()}return Pe}}function Y(V){return V.__=void 0,delete V.__,V}})})(_U||(_U={}))});var SU=$(Xo=>{k();M();var x7e=Xo&&Xo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S7e=Xo&&Xo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xU=Xo&&Xo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&x7e(e,t,r);return S7e(e,t),e};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.IndexerReader=Xo.INDEX_FILE_NAME=void 0;var pl=xU(Mo()),zb=xU(qc());Xo.INDEX_FILE_NAME="scrypt.index.json";var Zw=class{constructor(e){this.symbolPaths=new Map,this.filePath=e,this.load()}load(){if(!zb.existsSync(this.filePath))throw new Error(`index file not exist: ${this.filePath}`);let e=JSON.parse(zb.readFileSync(this.filePath).toString());if(!e.scryptBase)throw new Error(`missing \`scryptBase\` in index file ${this.filePath}`);if(this.scryptBasePath=e.scryptBase,!e.bindings)throw new Error(`missing \`bindings\` in index file ${this.filePath}`);e.bindings.forEach(r=>{r.symbol&&r.path&&this.symbolPaths.set(r.symbol,r.path)})}getRelativePath(e){return this.symbolPaths.get(e)}getFullPath(e){let r=this.getRelativePath(e);if(!!r)return pl.join(pl.dirname(this.filePath),this.scryptBasePath,r)}static queryIndexFile(e,r){let n=e;r=r===void 0?process.cwd():r;let i=(o,a)=>pl.resolve(o).toLowerCase()==pl.resolve(a).toLowerCase();for(;;){let o=pl.join(n,Xo.INDEX_FILE_NAME);if(zb.existsSync(o))return o;let a=pl.join(n,"..");if(i(n,r)||i(n,a))break;n=a}let s=pl.join(r,Xo.INDEX_FILE_NAME);if(zb.existsSync(s))return s}query(e,r=!1){let n=this.symbolPaths.get(e);return n&&r?pl.join(this.scryptBasePath,n):n}};Xo.IndexerReader=Zw});var du=$(Zo=>{k();M();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.filterUTXO=Zo.parseSignatureOption=Zo.parseAddresses=Zo.utxoFromOutput=Zo.getRandomAddress=Zo.getDummyP2pkhUTXOs=void 0;var p0=rr(),w7e=ff();function E7e(t=1){return new Array(t).fill(0).map(e=>({txId:(0,w7e.randomBytes)(32).toString("hex"),outputIndex:0,script:p0.bsv.Script.buildPublicKeyHashOut(wU()).toHex(),satoshis:1}))}Zo.getDummyP2pkhUTXOs=E7e;function wU(t=p0.bsv.Networks.testnet){return p0.bsv.Address.fromPrivateKey(p0.bsv.PrivateKey.fromRandom(t.name),t)}Zo.getRandomAddress=wU;function T7e(t,e){let r=t.outputs[e];if(!r)throw new Error(`outputIndex ${e} does not exist on tx ${t.id}`);return{txId:t.id,outputIndex:e,script:r.script.toHex(),satoshis:r.satoshis}}Zo.utxoFromOutput=T7e;function EU(t,e){return Array.from([t]).flat().map(r=>r instanceof p0.bsv.Address?r:r.toAddress(e))}Zo.parseAddresses=EU;function A7e(t,e){return Array.from([t]).flat().map(r=>r instanceof p0.bsv.Address?{address:r,sigHashType:p0.DEFAULT_SIGHASH_TYPE}:r instanceof p0.bsv.PublicKey?{address:r.toAddress(e),sigHashType:p0.DEFAULT_SIGHASH_TYPE}:EU(r.pubKeyOrAddr,e).map(n=>({address:n,sigHashType:r.sigHashType||p0.DEFAULT_SIGHASH_TYPE,csIdx:r.csIdx,data:r.data}))).flat()}Zo.parseSignatureOption=A7e;function I7e(t,e){let r=e.unspentValue,n=e.estimateSize,i=e.feePerKb,s=e.additional||0;function o(c){let h=0,f=-1;for(let p=0;p<c.length;p++){let l=p+1;if(h+=c[p].satoshis,i<=(r+h)/(n+(180+s)*l)*1e3){f=p;break}}return f>=0?c.slice(0,f+1):[]}let a=t.sort((c,h)=>c.satoshis-h.satoshis),u=o(a);if(u.length===0&&(u=o(a.reverse()),u.length===0))throw new Error("no sufficient utxos");return u}Zo.filterUTXO=I7e});var Yb=$(Wb=>{k();M();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.SmartContractLib=void 0;Xw();var F6=class{constructor(...e){this.args=[],this.args=e}getArgs(){return(this.args||[]).map(e=>e instanceof F6?e.getArgs():e)}getState(){return Object.keys(this).reduce((e,r)=>typeof this[r]=="bigint"||typeof this[r]=="boolean"||typeof this[r]=="string"?Object.assign(e,{[r]:this[r]}):this[r]instanceof F6?Object.assign(e,{[r]:this[r].getState()}):e,{})}};Wb.SmartContractLib=F6});var NU=$((vXe,RU)=>{k();M();var ya=-1,lo=1,Ki=0;function t9(t,e,r,n,i){if(t===e)return t?[[Ki,t]]:[];if(r!=null){var s=F7e(t,e,r);if(s)return s}var o=Qw(t,e),a=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Xb(t,e);var u=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var c=P7e(t,e);return a&&c.unshift([Ki,a]),u&&c.push([Ki,u]),eE(c,i),n&&C7e(c),c}function P7e(t,e){var r;if(!t)return[[lo,e]];if(!e)return[[ya,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,s=n.indexOf(i);if(s!==-1)return r=[[lo,n.substring(0,s)],[Ki,i],[lo,n.substring(s+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=ya),r;if(i.length===1)return[[ya,t],[lo,e]];var o=B7e(t,e);if(o){var a=o[0],u=o[1],c=o[2],h=o[3],f=o[4],p=t9(a,c),l=t9(u,h);return p.concat([[Ki,f]],l)}return O7e(t,e)}function O7e(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),s=i,o=2*i,a=new Array(o),u=new Array(o),c=0;c<o;c++)a[c]=-1,u[c]=-1;a[s+1]=0,u[s+1]=0;for(var h=r-n,f=h%2!==0,p=0,l=0,y=0,_=0,O=0;O<i;O++){for(var F=-O+p;F<=O-l;F+=2){var B=s+F,E;F===-O||F!==O&&a[B-1]<a[B+1]?E=a[B+1]:E=a[B-1]+1;for(var I=E-F;E<r&&I<n&&t.charAt(E)===e.charAt(I);)E++,I++;if(a[B]=E,E>r)l+=2;else if(I>n)p+=2;else if(f){var L=s+h-F;if(L>=0&&L<o&&u[L]!==-1){var N=r-u[L];if(E>=N)return TU(t,e,E,I)}}}for(var H=-O+y;H<=O-_;H+=2){var L=s+H,N;H===-O||H!==O&&u[L-1]<u[L+1]?N=u[L+1]:N=u[L-1]+1;for(var D=N-H;N<r&&D<n&&t.charAt(r-N-1)===e.charAt(n-D-1);)N++,D++;if(u[L]=N,N>r)_+=2;else if(D>n)y+=2;else if(!f){var B=s+h-H;if(B>=0&&B<o&&a[B]!==-1){var E=a[B],I=s+E-B;if(N=r-N,E>=N)return TU(t,e,E,I)}}}}return[[ya,t],[lo,e]]}function TU(t,e,r,n){var i=t.substring(0,r),s=e.substring(0,n),o=t.substring(r),a=e.substring(n),u=t9(i,s),c=t9(o,a);return u.concat(c)}function Qw(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return BU(t.charCodeAt(i-1))&&i--,i}function AU(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var s=0,o=1;;){var a=t.substring(i-o),u=e.indexOf(a);if(u==-1)return s;o+=u,(u==0||t.substring(i-o)==e.substring(0,o))&&(s=o,o++)}}function Xb(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return CU(t.charCodeAt(t.length-i))&&i--,i}function B7e(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(l,y,_){for(var O=l.substring(_,_+Math.floor(l.length/4)),F=-1,B="",E,I,L,N;(F=y.indexOf(O,F+1))!==-1;){var H=Qw(l.substring(_),y.substring(F)),D=Xb(l.substring(0,_),y.substring(0,F));B.length<D+H&&(B=y.substring(F-D,F)+y.substring(F,F+H),E=l.substring(0,_-D),I=l.substring(_+H),L=y.substring(0,F-D),N=y.substring(F+H))}return B.length*2>=l.length?[E,I,L,N,B]:null}var s=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var u,c,h,f;t.length>e.length?(u=a[0],c=a[1],h=a[2],f=a[3]):(h=a[0],f=a[1],u=a[2],c=a[3]);var p=a[4];return[u,c,h,f,p]}function C7e(t){for(var e=!1,r=[],n=0,i=null,s=0,o=0,a=0,u=0,c=0;s<t.length;)t[s][0]==Ki?(r[n++]=s,o=u,a=c,u=0,c=0,i=t[s][1]):(t[s][0]==lo?u+=t[s][1].length:c+=t[s][1].length,i&&i.length<=Math.max(o,a)&&i.length<=Math.max(u,c)&&(t.splice(r[n-1],0,[ya,i]),t[r[n-1]+1][0]=lo,n--,n--,s=n>0?r[n-1]:-1,o=0,a=0,u=0,c=0,i=null,e=!0)),s++;for(e&&eE(t),R7e(t),s=1;s<t.length;){if(t[s-1][0]==ya&&t[s][0]==lo){var h=t[s-1][1],f=t[s][1],p=AU(h,f),l=AU(f,h);p>=l?(p>=h.length/2||p>=f.length/2)&&(t.splice(s,0,[Ki,f.substring(0,p)]),t[s-1][1]=h.substring(0,h.length-p),t[s+1][1]=f.substring(p),s++):(l>=h.length/2||l>=f.length/2)&&(t.splice(s,0,[Ki,h.substring(0,l)]),t[s-1][0]=lo,t[s-1][1]=f.substring(0,f.length-l),t[s+1][0]=ya,t[s+1][1]=h.substring(l),s++),s++}s++}}var IU=/[^a-zA-Z0-9]/,PU=/\s/,OU=/[\r\n]/,k7e=/\n\r?\n$/,M7e=/^\r?\n\r?\n/;function R7e(t){function e(l,y){if(!l||!y)return 6;var _=l.charAt(l.length-1),O=y.charAt(0),F=_.match(IU),B=O.match(IU),E=F&&_.match(PU),I=B&&O.match(PU),L=E&&_.match(OU),N=I&&O.match(OU),H=L&&l.match(k7e),D=N&&y.match(M7e);return H||D?5:L||N?4:F&&!E&&I?3:E||I?2:F||B?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==Ki&&t[r+1][0]==Ki){var n=t[r-1][1],i=t[r][1],s=t[r+1][1],o=Xb(n,i);if(o){var a=i.substring(i.length-o);n=n.substring(0,n.length-o),i=a+i.substring(0,i.length-o),s=a+s}for(var u=n,c=i,h=s,f=e(n,i)+e(i,s);i.charAt(0)===s.charAt(0);){n+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var p=e(n,i)+e(i,s);p>=f&&(f=p,u=n,c=i,h=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=c,h?t[r+1][1]=h:(t.splice(r+1,1),r--))}r++}}function eE(t,e){t.push([Ki,""]);for(var r=0,n=0,i=0,s="",o="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case lo:i++,o+=t[r][1],r++;break;case ya:n++,s+=t[r][1],r++;break;case Ki:var u=r-i-n-1;if(e){if(u>=0&&MU(t[u][1])){var c=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),s=c+s,o=c+o,!t[u][1]){t.splice(u,1),r--;var h=u-1;t[h]&&t[h][0]===lo&&(i++,o=t[h][1]+o,h--),t[h]&&t[h][0]===ya&&(n++,s=t[h][1]+s,h--),u=h}}if(kU(t[r][1])){var c=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),s+=c,o+=c}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=Qw(o,s),a!==0&&(u>=0?t[u][1]+=o.substring(0,a):(t.splice(0,0,[Ki,o.substring(0,a)]),r++),o=o.substring(a),s=s.substring(a)),a=Xb(o,s),a!==0&&(t[r][1]=o.substring(o.length-a)+t[r][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var f=i+n;s.length===0&&o.length===0?(t.splice(r-f,f),r=r-f):s.length===0?(t.splice(r-f,f,[lo,o]),r=r-f+1):o.length===0?(t.splice(r-f,f,[ya,s]),r=r-f+1):(t.splice(r-f,f,[ya,s],[lo,o]),r=r-f+2)}r!==0&&t[r-1][0]===Ki?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var p=!1;for(r=1;r<t.length-1;)t[r-1][0]===Ki&&t[r+1][0]===Ki&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),p=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),p=!0)),r++;p&&eE(t,e)}function BU(t){return t>=55296&&t<=56319}function CU(t){return t>=56320&&t<=57343}function kU(t){return CU(t.charCodeAt(0))}function MU(t){return BU(t.charCodeAt(t.length-1))}function N7e(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function Jw(t,e,r,n){return MU(t)||kU(n)?null:N7e([[Ki,t],[ya,e],[lo,r],[Ki,n]])}function F7e(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,s=t.length,o=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),c=t.slice(a),h=i?i.index:null;e:{var f=a+o-s;if(h!==null&&h!==f||f<0||f>o)break e;var p=e.slice(0,f),l=e.slice(f);if(l!==c)break e;var y=Math.min(a,f),_=u.slice(0,y),O=p.slice(0,y);if(_!==O)break e;var F=u.slice(y),B=p.slice(y);return Jw(_,F,B,c)}e:{if(h!==null&&h!==a)break e;var E=a,p=e.slice(0,E),l=e.slice(E);if(p!==u)break e;var I=Math.min(s-E,o-E),L=c.slice(c.length-I),N=l.slice(l.length-I);if(L!==N)break e;var F=c.slice(0,c.length-I),B=l.slice(0,l.length-I);return Jw(u,F,B,L)}}if(n.length>0&&i&&i.length===0){e:{var _=t.slice(0,n.index),L=t.slice(n.index+n.length),y=_.length,I=L.length;if(o<y+I)break e;var O=e.slice(0,y),N=e.slice(o-I);if(_!==O||L!==N)break e;var F=t.slice(y,s-I),B=e.slice(y,o-I);return Jw(_,F,B,L)}}return null}function Zb(t,e,r,n){return t9(t,e,r,n,!0)}Zb.INSERT=lo;Zb.DELETE=ya;Zb.EQUAL=Ki;RU.exports=Zb});var HU=$((SXe,FU)=>{k();M();FU.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var tE=$((TXe,LU)=>{k();M();var r9=HU(),DU={};for(let t of Object.keys(r9))DU[r9[t]]=t;var ut={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};LU.exports=ut;for(let t of Object.keys(ut)){if(!("channels"in ut[t]))throw new Error("missing channels property: "+t);if(!("labels"in ut[t]))throw new Error("missing channel labels property: "+t);if(ut[t].labels.length!==ut[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=ut[t];delete ut[t].channels,delete ut[t].labels,Object.defineProperty(ut[t],"channels",{value:e}),Object.defineProperty(ut[t],"labels",{value:r})}ut.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};ut.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),h=c-Math.min(o,a,u),f=function(p){return(c-p)/6/h+1/2};return h===0?(i=0,s=0):(s=h/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};ut.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=ut.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};ut.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function H7e(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}ut.rgb.keyword=function(t){let e=DU[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(r9)){let s=r9[i],o=H7e(t,s);o<r&&(r=o,n=i)}return n};ut.keyword.rgb=function(t){return r9[t]};ut.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};ut.rgb.lab=function(t){let e=ut.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};ut.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};ut.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};ut.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};ut.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};ut.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),a=1-n;s=6*e-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),c,h,f;switch(o){default:case 6:case 0:c=a,h=u,f=r;break;case 1:c=u,h=a,f=r;break;case 2:c=r,h=a,f=u;break;case 3:c=r,h=u,f=a;break;case 4:c=u,h=r,f=a;break;case 5:c=a,h=r,f=u;break}return[c*255,h*255,f*255]};ut.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};ut.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};ut.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};ut.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};ut.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};ut.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};ut.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?ut.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};ut.hsv.ansi16=function(t){return ut.rgb.ansi16(ut.hsv.rgb(t),t[2])};ut.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};ut.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};ut.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};ut.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};ut.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};ut.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};ut.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};ut.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};ut.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};ut.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};ut.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};ut.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};ut.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};ut.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};ut.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};ut.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};ut.gray.hsl=function(t){return[0,0,t[0]]};ut.gray.hsv=ut.gray.hsl;ut.gray.hwb=function(t){return[0,100,t[0]]};ut.gray.cmyk=function(t){return[0,0,0,t[0]]};ut.gray.lab=function(t){return[t[0],0,0]};ut.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};ut.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var qU=$((PXe,UU)=>{k();M();var Jb=tE();function D7e(){let t={},e=Object.keys(Jb);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function L7e(t){let e=D7e(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Jb[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function U7e(t,e){return function(r){return e(t(r))}}function q7e(t,e){let r=[e[t].parent,t],n=Jb[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=U7e(Jb[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}UU.exports=function(t){let e=L7e(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=q7e(o,e))}return r}});var jU=$((CXe,$U)=>{k();M();var rE=tE(),$7e=qU(),H6={},j7e=Object.keys(rE);function K7e(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function V7e(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}j7e.forEach(t=>{H6[t]={},Object.defineProperty(H6[t],"channels",{value:rE[t].channels}),Object.defineProperty(H6[t],"labels",{value:rE[t].labels});let e=$7e(t);Object.keys(e).forEach(n=>{let i=e[n];H6[t][n]=V7e(i),H6[t][n].raw=K7e(i)})});$U.exports=H6});var YU=$((RXe,WU)=>{k();M();var KU=(t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,VU=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},GU=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},Qb=t=>t,zU=(t,e,r)=>[t,e,r],D6=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},nE,L6=(t,e,r,n)=>{nE===void 0&&(nE=jU());let i=n?10:0,s={};for(let[o,a]of Object.entries(nE)){let u=o==="ansi16"?"ansi":o;o===e?s[u]=t(r,i):typeof a=="object"&&(s[u]=t(a[e],i))}return s};function G7e(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,s]of Object.entries(n))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",D6(e.color,"ansi",()=>L6(KU,"ansi16",Qb,!1)),D6(e.color,"ansi256",()=>L6(VU,"ansi256",Qb,!1)),D6(e.color,"ansi16m",()=>L6(GU,"rgb",zU,!1)),D6(e.bgColor,"ansi",()=>L6(KU,"ansi16",Qb,!0)),D6(e.bgColor,"ansi256",()=>L6(VU,"ansi256",Qb,!0)),D6(e.bgColor,"ansi16m",()=>L6(GU,"rgb",zU,!0)),e}Object.defineProperty(WU,"exports",{enumerable:!0,get:G7e})});var ZU=$((HXe,XU)=>{k();M();XU.exports={stdout:!1,stderr:!1}});var QU=$((UXe,JU)=>{k();M();var z7e=(t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.substr(s),o},W7e=(t,e,r,n)=>{let i=0,s="";do{let o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s};JU.exports={stringReplaceAll:z7e,stringEncaseCRLFWithFirstIndex:W7e}});var iq=$((jXe,nq)=>{k();M();var Y7e=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,eq=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,X7e=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Z7e=/\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.)|([^\\])/gi,J7e=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function rq(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):J7e.get(t)||t}function Q7e(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(X7e))r.push(i[2].replace(Z7e,(a,u,c)=>u?rq(u):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}function e6e(t){eq.lastIndex=0;let e=[],r;for(;(r=eq.exec(t))!==null;){let n=r[1];if(r[2]){let i=Q7e(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function tq(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}nq.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(Y7e,(s,o,a,u,c,h)=>{if(o)i.push(rq(o));else if(u){let f=i.join("");i=[],n.push(r.length===0?f:tq(t,r)(f)),r.push({inverse:a,styles:e6e(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(tq(t,r)(i.join(""))),i=[],r.pop()}else i.push(h)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var cq=$((GXe,uq)=>{k();M();var n9=YU(),{stdout:sE,stderr:oE}=ZU(),{stringReplaceAll:t6e,stringEncaseCRLFWithFirstIndex:r6e}=QU(),sq=["ansi","ansi","ansi256","ansi16m"],U6=Object.create(null),n6e=(t,e={})=>{if(e.level>3||e.level<0)throw new Error("The `level` option should be an integer from 0 to 3");let r=sE?sE.level:0;t.level=e.level===void 0?r:e.level},aE=class{constructor(e){return oq(e)}},oq=t=>{let e={};return n6e(e,t),e.template=(...r)=>o6e(e.template,...r),Object.setPrototypeOf(e,ey.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=aE,e.template};function ey(t){return oq(t)}for(let[t,e]of Object.entries(n9))U6[t]={get(){let r=ty(this,uE(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};U6.visible={get(){let t=ty(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var aq=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of aq)U6[t]={get(){let{level:e}=this;return function(...r){let n=uE(n9.color[sq[e]][t](...r),n9.color.close,this._styler);return ty(this,n,this._isEmpty)}}};for(let t of aq){let e="bg"+t[0].toUpperCase()+t.slice(1);U6[e]={get(){let{level:r}=this;return function(...n){let i=uE(n9.bgColor[sq[r]][t](...n),n9.bgColor.close,this._styler);return ty(this,i,this._isEmpty)}}}}var i6e=Object.defineProperties(()=>{},{...U6,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),uE=(t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},ty=(t,e,r)=>{let n=(...i)=>s6e(n,i.length===1?""+i[0]:i.join(" "));return n.__proto__=i6e,n._generator=t,n._styler=e,n._isEmpty=r,n},s6e=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=t6e(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=r6e(e,i,n,s)),n+e+i},iE,o6e=(t,...e)=>{let[r]=e;if(!Array.isArray(r))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return iE===void 0&&(iE=iq()),iE(t,i.join(""))};Object.defineProperties(ey.prototype,U6);var i9=ey();i9.supportsColor=sE;i9.stderr=ey({level:oE?oE.level:0});i9.stderr.supportsColor=oE;i9.Level={None:0,Basic:1,Ansi256:2,TrueColor:3,0:"None",1:"Basic",2:"Ansi256",3:"TrueColor"};uq.exports=i9});var lq=$(pu=>{k();M();var fq=pu&&pu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pu,"__esModule",{value:!0});pu.mergeNexts=pu.diffOutputs=pu.getExpectedOutputs=pu.getTransationOutputs=void 0;var $6=fq(NU()),m0=rr(),hq=rr(),a6e=fq(cq()),ml;(function(t){t.black="\x1B[30m",t.red="\x1B[31m",t.green="\x1B[32m",t.reset="\x1B[0m"})(ml||(ml={}));var cE=class{red(e){return ml.red+e+ml.reset}grey(e){return ml.black+e+ml.reset}green(e){return ml.green+e+ml.reset}},fr=typeof window>"u"?a6e.default:new cE;function u6e(t,e){let r=Math.max(t.length,e.length),n=Math.abs(t.length-e.length),i=e.startsWith(t)||t.startsWith(e);return n/r>.5&&r>3e3&&!i}function c6e(t,e){let r=u6e(t,e),n=m0.bsv.Script.fromHex(t).toASM(),i=m0.bsv.Script.fromHex(e).toASM();if(r){let s=n.split(" "),o=i.split(" "),a=Math.min(s.length,o.length),u=Math.min(a,1e3);n=s.slice(0,u).join(" "),s.length>u&&(n+=" ..."),i=o.slice(0,u).join(" "),o.length>u&&(i+=" ...")}return[n,i]}function ry(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r,4)}function f6e(t,e,r){if(hq.AbstractContract.isStateful(t)){let n=t.codePart.toHex(),i=r.map((u,c)=>u.script.startsWith(n)?c:-1).filter(u=>u>-1),s=e.map((u,c)=>u.script.startsWith(n)?c:-1).filter(u=>u>-1),o=i.map((u,c)=>u===s[c]?u:-1).filter(u=>u>-1),a=(u,c)=>{var h;if(o.includes(c)){let f=t.ContractClass,p=(h=t.getPrependNOPScript())===null||h===void 0?void 0:h.toHex(),y=(p&&u.script.startsWith(p)?f.fromHex(u.script.slice(p.length)).statePropsArgs:f.fromHex(u.script).statePropsArgs).reduce((_,O)=>Object.assign(Object.assign({},_),{[O.name]:O.value}),{});return{script:u.script,satoshis:u.satoshis,states:y}}else return{script:u.script,satoshis:u.satoshis}};return[e.map(a),r.map(a)]}return[e,r]}function h6e(t,e){let r="",n=0;for(r+=fr.grey("["),t.forEach(i=>{typeof i.states<"u"&&(n>0&&(r+=fr.grey(", ")),typeof e[n]>"u"?r+=fr.red(ry(i.states)):(0,$6.default)(ry(e[n].states),ry(i.states)).forEach(s=>{s[0]===$6.default.INSERT?r+=fr.red(s[1]):s[0]===$6.default.DELETE?r+=fr.green(s[1]):r+=fr.grey(s[1])})),n++});n<e.length;n++){let i=e[n];typeof i.states<"u"&&(r+=fr.green(ry(i.states)))}return r+=fr.grey("]"),r}function q6(t){let e=t.split(" ");return e.length>10?e.slice(0,5).concat(["..."]).concat(e.slice(e.length-5)).join(" "):t}function l6e(t,e,r){return(r&31)!=m0.bsv.crypto.Signature.SIGHASH_SINGLE&&(r&31)!=m0.bsv.crypto.Signature.SIGHASH_NONE?t.outputs.map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):(r&31)==m0.bsv.crypto.Signature.SIGHASH_SINGLE&&e<t.outputs.length?t.outputs.filter((n,i)=>i===e).map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):[]}pu.getTransationOutputs=l6e;function d6e(t){let e=new m0.bsv.encoding.BufferReader(A.Buffer.from(t,"hex")),r=[];try{for(;!e.eof();){let n=m0.bsv.Transaction.Output.fromBufferReader(e);r.push(n)}}catch{throw new Error("Invalid argument: `outputs`")}return r.map(n=>({script:n.script.toHex(),satoshis:n.satoshis}))}pu.getExpectedOutputs=d6e;function p6e(t,e,r){let n=`1. Outputs in the ${fr.green("Transaction")} is marked green.
2. Outputs expected by the \`${fr.red(t.contractName)}\` contract is marked red.
3. Identical parts are marked in gray.

`,[i,s]=f6e(t,e,r),o="",a=0;for(o+=fr.grey("["),i.forEach(u=>{if(a>0&&(o+=fr.grey(", ")),typeof s[a]>"u")o+=fr.red(`{
`),o+=fr.red("    satoshi:"+u.satoshis),o+=fr.red(`,
`),o+=fr.red("    script:"),o+=fr.red(q6(m0.bsv.Script.fromHex(u.script).toASM())),o+=fr.red(`
`),o+=fr.red("}");else{if(o+=fr.grey(`{
`),o+=fr.grey("    satoshi:"),u.satoshis===s[a].satoshis?o+=fr.grey(u.satoshis+""):(o+=fr.red(u.satoshis+""),o+=fr.green(s[a].satoshis+"")),o+=fr.grey(`,
`),o+=fr.grey("    script:"),u.script===s[a].script)o+=fr.grey(q6(m0.bsv.Script.fromHex(u.script).toASM()));else{let[c,h]=c6e(s[a].script,u.script);(0,$6.default)(c,h).forEach(f=>{f[0]===$6.default.INSERT?o+=fr.red(q6(f[1])):f[0]===$6.default.DELETE?o+=fr.green(q6(f[1])):o+=fr.grey(q6(f[1]))})}o+=fr.grey(`
}`)}a++});a<s.length;a++){let u=s[a];o+=fr.grey(","),o+=fr.green(`{
`),o+=fr.green("    satoshi:"+u.satoshis),o+=fr.green(`,
`),o+=fr.green("    script:"),o+=fr.green(q6(m0.bsv.Script.fromHex(u.script).toASM())),o+=fr.green(`
`),o+=fr.green("}")}return o+=fr.grey("]"),n=n+`Outputs: ${o}`,hq.AbstractContract.isStateful(t)&&(n=n+`

States: ${h6e(i,s)}`),n}pu.diffOutputs=p6e;function m6e(t){let e=new Map;return t.forEach(r=>{(r.nexts||[]).forEach(n=>{if(!e.has(n.atOutputIndex))e.set(n.atOutputIndex,n);else if(e.get(n.atOutputIndex).instance!==n.instance)throw new Error(`The ${n.atOutputIndex}-th output of the transaction is repeatedly bound to the contract instance`)})}),Array.from(e.values()).sort((r,n)=>r.atOutputIndex-n.atOutputIndex)}pu.mergeNexts=m6e});var dq=$(ny=>{k();M();Object.defineProperty(ny,"__esModule",{value:!0});ny.throwUnInitializing=void 0;function g6e(t){throw new Error(`'${t}.compile' or '${t}.loadArtifact' should be called before initializing any instance!`)}ny.throwUnInitializing=g6e});var o9=$(mu=>{k();M();var b6e=mu&&mu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y6e=mu&&mu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v6e=mu&&mu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b6e(e,t,r);return y6e(e,t),e},Jo=mu&&mu.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(mu,"__esModule",{value:!0});mu.SmartContract=void 0;var g0=v6e(qc()),_6e=K_(),j6=Mo();Xw();var Xe=rr(),pq=SU(),x6e=wr(),Fr=qp(),Ln=dl(),S6e=ff(),mq=du(),s9=C6(),fE=K6(),gq=Yb(),iy=lq(),Of=C6(),sy=dq(),gl=class{static compileImpl(e){return Jo(this,void 0,void 0,function*(){let r=g0.mkdtempSync((0,j6.join)((0,_6e.tmpdir)(),"scrypt-ts-")),n=yield(0,Xe.compileContractAsync)(e,{sourceMap:!0,artifact:!0,out:r});if(n.errors.length>0)throw new Error(`Compilation failed for class \`${this.name}\`. Check the output details at project building time!`);{let i=(0,j6.basename)(e).replace(".scrypt",".json"),s=g0.readdirSync(r).filter(o=>o==i)[0];s&&g0.copyFileSync((0,j6.join)(r,s),(0,j6.join)((0,j6.dirname)(e),s))}return n})}static compile(){return Jo(this,void 0,void 0,function*(){let e=yield this.getTranspileErrors();if(Array.isArray(e)&&e[0])throw e[0];let r=this._loadCachedArtifact();if(r)this.DelegateClazz=(0,Xe.buildContractClass)(r);else{let n=this._getScryptFilePath(),i=yield this.compileImpl(n);this.DelegateClazz=(0,Xe.buildContractClass)(i),r=i.toArtifact()}return r})}static getTranspileErrors(){return Jo(this,void 0,void 0,function*(){if(!(0,Of.isInNodeEnv)())throw new Error("the 'getTranspileErrors()' method should only be called in Node.js environment!");let e=this._getTransformationResult();return e.success?[]:e.errors})}static loadArtifact(e=void 0){let r;if(typeof e>"u"?r=this._loadCachedArtifact():typeof e=="string"?r=this._loadArtifact(e):r=e,r===void 0)throw new Error(`Cannot find the artifact file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);this.DelegateClazz=(0,Xe.buildContractClass)(r)}static getArtifact(){if(!this.DelegateClazz)throw new Error("No artifact found, Please compile the contract first.");return this.DelegateClazz.artifact}static _getTransformationResult(){let e=this._getScryptFilePath(),r=(0,s9.alterFileExt)(e,"transformer.json");return JSON.parse(g0.readFileSync(r).toString())}static _getScryptFilePath(){let e=Reflect.getMetadata("scrypt:filepath",this);if(e)return e;let r=(0,j6.join)(".",pq.INDEX_FILE_NAME);if(!g0.existsSync(r))throw new Error("Cannot find `scrypt.index.json` file, run `npx scrypt-cli@latest compile` to generate it.");let i=new pq.IndexerReader(r).getFullPath(this.name);if(!g0.existsSync(i))throw new Error(`Cannot find the bundled scrypt file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);return Reflect.defineMetadata("scrypt:filepath",i,this),i}static _loadCachedArtifact(){let e=this._getScryptFilePath(),r=(0,s9.alterFileExt)(e,"json");return this._loadArtifact(r)}static _loadArtifact(e){if(!!g0.existsSync(e))return JSON.parse(g0.readFileSync(e,"utf8").toString())}getDelegateClazz(){var e;return(e=Object.getOwnPropertyDescriptor(this.constructor,"DelegateClazz"))===null||e===void 0?void 0:e.value}static getDelegateClazz(){return this.DelegateClazz}getDelegateInstance(){return this.delegateInstance}setDelegateInstance(e){this.delegateInstance=e}constructor(...e){if(this.enableUpdateEMC=!1,this._txBuilders=new Map,Object.getPrototypeOf(this.constructor).name==="SmartContract")this._initDelegateInstance(...e);else try{this._initDelegateInstance(...e)}catch{}}_initDelegateInstance(...e){let r=this.getDelegateClazz();r||(0,sy.throwUnInitializing)(this.constructor.name);let n=e.map((i,s)=>{if(i instanceof gq.SmartContractLib)return i.getArgs();if(i instanceof Ln.HashedMap||i instanceof Ln.HashedSet){let a=r.abi.find(u=>u.type===Xe.ABIEntityType.CONSTRUCTOR).params[s].type;return i.attachTo(a,r),i}return i});this.delegateInstance=new r(...n),this.delegateInstance.isGenesis=!1}init(...e){this._initDelegateInstance(...e)}verify(e){if(this._csNum=0,!(0,Of.isInNodeEnv)()){console.error("the 'verify' method should only be called in Node.js environment!");return}let r=Object.getPrototypeOf(this).constructor._getScryptFilePath(),n=r.replace(/\.scrypt$/,".scrypt.map");if(!g0.existsSync(n))throw new Error(`cannot find the bundled sourcemap file for \`${typeof this}\` at ${n}`);let i=JSON.parse(g0.readFileSync(n).toString()),s={};if(this.to){s.tx=this.to.tx;let o=this.to.inputIndex;s.inputIndex=o,s.inputSatoshis=this.to.tx.inputs[o].output.satoshis}try{let o=(u=>{let c=u.verify(s);if(!c.success&&c.error){let h=/\[(.+?)\]\((.+?)#(\d+)\)/.exec(c.error);c.error.substring(0,h.index);let f=parseInt(h[3]),p=i[f-1][0][2]+1;c.error=`[Go to Source](file://${r}:${p})`}return c}).bind(this),a=this.buildEntryMethodCall(e);return a instanceof Promise?a.then(u=>o(u)):o(a)}catch(o){throw o}}getUnlockingScript(e){try{let r=this.clone().buildEntryMethodCall(e);return r instanceof Promise?r.then(n=>n.unlockingScript):r.unlockingScript}catch(r){throw r}}syncStateProps(){this.delegateInstance.isGenesis||(Reflect.getMetadata("scrypt:stateProps",this)||[]).forEach(r=>{this[r]instanceof gq.SmartContractLib?this.delegateInstance[r]=this[r].getState():this[r]instanceof Ln.HashedMap?this.delegateInstance[r]=this[r]:this[r]instanceof Ln.HashedSet?this.delegateInstance[r]=this[r]:this.delegateInstance[r]=this[r]})}get lockingScript(){return this.syncStateProps(),this.delegateInstance.lockingScript}get scriptSize(){return this.lockingScript.toBuffer().length}get codePart(){return this.delegateInstance.codePart.toHex()}get scriptHash(){return(0,Xe.sha256)(this.lockingScript.toHex()).match(/.{2}/g).reverse().join("")}setAsmVars(e){this.delegateInstance.replaceAsmVars(e)}get asmArgs(){return this.delegateInstance.asmArgs}clone(e){this.syncStateProps();let r=["from","to","_signer","_provider"].concat(e?.refCloneProps||[]),n=r.map(s=>this[s]);r.forEach(s=>this[s]=void 0);let i=(0,x6e.cloneDeep)(this);return r.forEach((s,o)=>i[s]=n[o]),r.forEach((s,o)=>this[s]=n[o]),i}next(e){let r=this.clone(e);return r.from=void 0,r.to=void 0,r.delegateInstance.isGenesis=!1,r.prependNOPScript(null),r}markAsGenesis(){return this.delegateInstance.isGenesis=!0,this}buildStateOutput(e){let r=this.getStateScript();return Fr.Utils.buildOutput(r,e)}buildChangeOutput(){if(this.changeAmount>BigInt(0)){let e=Fr.Utils.buildPublicKeyHashScript(this.changeAddress);return Fr.Utils.buildOutput(e,this.changeAmount)}return(0,Ln.toByteString)("")}getStateScript(){let e=Fr.VarIntWriter.writeBool(!1);return this.delegateInstance.stateProps.forEach(r=>{let n=this[r.name];(n instanceof Ln.HashedMap||n instanceof Ln.HashedSet)&&(n={_data:n.data()}),(0,Xe.flatternArg)(Object.assign({},r,{value:n}),this.delegateInstance.resolver,{state:!0,ignoreValue:!1}).forEach(i=>{["bytes","PubKey","Ripemd160","Sig","Sha1","SigHashPreimage","Sha256","SigHashType","OpCodeType"].includes(i.type)?e+=Fr.VarIntWriter.writeBytes(i.value):i.type==="int"||i.type==="PrivKey"?e+=Fr.VarIntWriter.writeInt(i.value):i.type==="bool"&&(e+=Fr.VarIntWriter.writeBool(i.value))})}),this.codePart+Fr.VarIntWriter.serializeState(e)}checkSig(e,r,n="signature check failed"){if(!this.checkSignatureEncoding(e)||!this.checkPubkeyEncoding(r))return!1;let i=!1;this._assertToExist();let s=A.Buffer.from(e,"hex"),o=A.Buffer.from((0,Ln.toByteString)(r),"hex");try{let a=Xe.bsv.crypto.Signature.fromTxFormat(s),u=Xe.bsv.PublicKey.fromBuffer(o,!1),c=this.to.tx,h=this.to.inputIndex||0,f=this.to.tx.inputs[h].output.satoshis,p=this.lockingScript.subScript(this._csNum-1);i=c.verifySignature(a,u,h,p,Xe.bsv.crypto.BN.fromNumber(f),Xe.DEFAULT_FLAGS)}catch{i=!1}if(!i&&s.length)throw new Error(n);return i}checkPreimageAdvanced(e,r,n,i,s,o,a){let u=(0,Fr.hash256)((0,Ln.toByteString)(e)),c=Fr.Tx.sign(Fr.Tx.fromBEUnsigned(u),r,i,s,o,a);return this.checkSig(c,n)}checkPreimageSigHashType(e,r){return this.checkPreimageAdvanced(e,Fr.Tx.privKey,Fr.Tx.pubKey,Fr.Tx.invK,Fr.Tx.r,Fr.Tx.rBigEndian,r)}checkPreimage(e){return this.checkPreimageAdvanced(e,Fr.Tx.privKey,Fr.Tx.pubKey,Fr.Tx.invK,Fr.Tx.r,Fr.Tx.rBigEndian,Fr.SigHash.ALL)}insertCodeSeparator(){this._csNum++}checkMultiSig(e,r){for(let a=0;a<e.length;a++)if(!this.checkSignatureEncoding(e[a]))return!1;for(let a=0;a<r.length;a++)if(!this.checkPubkeyEncoding(r[a]))return!1;this._assertToExist();let n=this.to.tx,i=this.to.inputIndex||0,s=this.to.tx.inputs[i].output.satoshis,o=new Set;for(let a=0;a<e.length;a++){let u=Xe.bsv.crypto.Signature.fromTxFormat(A.Buffer.from((0,Ln.toByteString)(e[a]),"hex")),c=!0;for(let h=0;h<r.length;h++){if(o.has(h))continue;o.add(h);let f=Xe.bsv.PublicKey.fromBuffer(A.Buffer.from((0,Ln.toByteString)(r[h]),"hex"),!1),p=this.lockingScript.subScript(this._csNum-1);try{if(n.verifySignature(u,f,i,p,Xe.bsv.crypto.BN.fromNumber(s),Xe.DEFAULT_FLAGS)){c=!1;break}}catch{continue}}if(c)return!1}return!0}timeLock(e){let r=!0;return r=this.ctx.sequence<4294967295,e<5e8&&(r=r&&this.ctx.locktime<5e8),r&&this.ctx.locktime>=e}get changeAmount(){return this._assertToExist(),BigInt(this.to.tx.getChangeAmount())}get prevouts(){return this._assertToExist(),this.sigTypeOfMethod(this._currentMethod)&Xe.bsv.crypto.Signature.SIGHASH_ANYONECANPAY?(0,Ln.toByteString)(""):this.to.tx.prevouts()}get changeAddress(){if(this._assertToExist(),!this.to.tx._changeAddress)throw new Error("No change output found on the transaction");return(0,Xe.PubKeyHash)(this.to.tx._changeAddress.toObject().hash)}checkPubkeyEncoding(e){return!((Xe.DEFAULT_FLAGS&Xe.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&!Xe.bsv.PublicKey.isValid((0,Ln.toByteString)(e)))}checkSignatureEncoding(e){var r=A.Buffer.from((0,Ln.toByteString)(e),"hex"),n;if(r.length===0)return!0;if((Xe.DEFAULT_FLAGS&(Xe.bsv.Script.Interpreter.SCRIPT_VERIFY_DERSIG|Xe.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S|Xe.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC))!==0&&!Xe.bsv.crypto.Signature.isTxDER(r))return!1;if((Xe.DEFAULT_FLAGS&Xe.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S)!==0){if(n=Xe.bsv.crypto.Signature.fromTxFormat(r),!n.hasLowS())return!1}else if((Xe.DEFAULT_FLAGS&Xe.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&(n=Xe.bsv.crypto.Signature.fromTxFormat(r),!n.hasDefinedHashtype()||!(Xe.DEFAULT_FLAGS&Xe.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID)&&n.nhashtype&Xe.bsv.crypto.Signature.SIGHASH_FORKID||Xe.DEFAULT_FLAGS&Xe.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID&&!(n.nhashtype&Xe.bsv.crypto.Signature.SIGHASH_FORKID)))return!1;return!0}hasPrevouts(e){let r=this.getDelegateClazz().abi.find(n=>n.name===e);if(!r)throw new Error(`contract ${this.constructor.name} doesnot have method ${e}`);return r.params.findIndex(n=>n.name==="__scrypt_ts_prevouts"&&n.type==="bytes")>-1}callDelegatedMethod(e,...r){let n=this.getDelegateClazz().abi.find(h=>h.name===e);if(!n)return;this._currentMethod=e;let i=n.params.slice(0,r.length),s=n.params.slice(r.length),o=new Map,a,u,c=new Map;return s.forEach((h,f)=>{if(h.name==="__scrypt_ts_txPreimage"&&h.type==="SigHashPreimage"){this._assertToExist();let p=this.sigTypeOfMethod(e);a=(0,Ln.SigHashPreimage)(this.to.tx.getPreimage(this.to.inputIndex,p)),o.set(h.name,a)}if(h.name==="__scrypt_ts_changeAmount"&&h.type==="int"&&o.set(h.name,this.changeAmount),h.name==="__scrypt_ts_changeAddress"&&h.type==="Ripemd160"&&o.set(h.name,this.changeAddress),h.name.startsWith("__scrypt_ts_accessPathForProp__")&&h.type==="bytes"){let p=h.name.replace("__scrypt_ts_accessPathForProp__",""),l=this[p];if(!(0,Ln.instanceOfSIATraceable)(l))throw new Error(`Internel error: traceable object \`${p}\` not found`);l.startTracing();let y=i.length+f;c.set(y,()=>(l.stopTracing(),l.serializedAccessPath())),o.set(h.name,(0,S6e.randomBytes)(2*30).toString("hex"))}h.name==="__scrypt_ts_prevouts"&&h.type==="bytes"&&(u=this.prevouts,o.set(h.name,u))}),r.push(...s.map(h=>{let f=o.get(h.name);if(f===void 0)throw new Error(`missing auto-filled value for argument ${h.name}`);return f})),{publicMethodCall:this.encodeMethodCall(e,r),txPreimage:a,prevouts:u,traceableArgCallbacks:c,abi:n}}encodeMethodCall(e,r){return this.getDelegateClazz().prototype[e].call(this.delegateInstance,...r)}setCtx(e){let r=Fr.SigHash.outpoint(e);this._ctx={version:Fr.SigHash.nVersion(e),utxo:{value:Fr.SigHash.value(e),script:Fr.SigHash.scriptCode(e),outpoint:{txid:r.slice(0,32*2),outputIndex:Fr.Utils.fromLEUnsigned(r.slice(32*2))}},hashPrevouts:Fr.SigHash.hashPrevouts(e),hashSequence:Fr.SigHash.hashSequence(e),sequence:Fr.SigHash.nSequence(e),hashOutputs:Fr.SigHash.hashOutputs(e),locktime:Fr.SigHash.nLocktime(e),sigHashType:Fr.SigHash.sigHashType(e),serialize(){return e}}}clearCtx(){this._ctx=void 0}setDataPartInASM(e){this.delegateInstance.setDataPartInASM(e)}setDataPartInHex(e){this.delegateInstance.setDataPartInHex(e)}get dataPart(){return this.delegateInstance.dataPart}buildEntryMethodCall(e){this.entryMethodCall=void 0,this.enableUpdateEMC=!0;let r=(()=>{if(!this.entryMethodCall)throw new Error("a contract public method should be called on the `self` parameter within the `callPub` function");let i=this.entryMethodCall;return this.entryMethodCall=void 0,this.enableUpdateEMC=!1,i}).bind(this),n=e(this);return n instanceof Promise?n.then(()=>r()):r()}_assertToExist(){if(!this.to)throw new Error("`this.to` is undefined, it should be set properly before calling the method")}_assertFromExist(){if(!this.from)throw new Error("`this.from` is undefined, it should be set properly before calling the method")}connect(e){return Jo(this,void 0,void 0,function*(){if(!(yield e.isAuthenticated()))throw new Error("the signer is unauthenticated");this._signer=e,this._provider=e.provider})}setProvider(e){this._provider=e}get signer(){if(!this._signer)throw new Error("No signer found!");return this._signer}get provider(){if(!this._provider)throw new Error("No provider found!");return this._provider}buildDeployTransaction(e,r,n){return Jo(this,void 0,void 0,function*(){let i=new Xe.bsv.Transaction().from(e).addOutput(new Xe.bsv.Transaction.Output({script:this.lockingScript,satoshis:r}));return i.change(n),i.feePerKb(yield this.provider.getFeePerKb()),i})}deploy(e=1,r){return Jo(this,void 0,void 0,function*(){this.markAsGenesis();let n=r?.changeAddress||(yield this.signer.getDefaultAddress()),i=yield this.buildDeployTransaction(r?.utxos||[],e,n),s=r?.address||(yield this.signer.getDefaultAddress()),o=yield this.provider.getFeePerKb();yield gl.autoPayfee(i,o,this.signer,s);let a=yield this.signer.signAndsendTransaction(i,{address:s});return this.from={tx:a,outputIndex:0},a})}_prepareArgsForMethodCall(e,...r){let n=this.getDelegateClazz().abi.find(c=>c.name===e);if(!n)throw new Error(`\`${this.constructor.name}.${e}\` no exists!`);let i=this.getMethodsMeta(e).argLength;if(r.length!=i&&r.length!=i+1)throw new Error(`argument count mismatch while calling \`this.methods.${e}\`. Expected ${i} or ${i+1} (if passing \`MethodCallOptions\`), but got ${r.length}`);let s=r.slice(0,i),o=r[i],a={verify:!1,partiallySigned:!1,exec:!0,autoPayFee:!0,multiContractCall:!1,next:[]};if(o){if(typeof o!="object")throw new Error(`The last argument is expected to be an object of type \`MethodCallOptions\`. Got \`${typeof o}' instead.`);Object.assign(a,o)}let u=s.reduce((c,h,f)=>{let l=n.params[f].type.match(/^Sig(\[(\d+)\])?$/),y=typeof h;if(l){let _=l[2]||"1";if(y!=="function")throw new Error("a callback function of type `(sigResponses: SignatureResponse[]) => Sig | Sig[] ` should be given for the Sig type argument");c.set(f,{callback:h,length:parseInt(_)})}else if(y==="function")throw new Error("a callback function given for the non-Sig type argument is not allowed");return c},new Map);return{methodArgs:s,methodCallOptions:a,sigArgs:u}}call(e,...r){return Jo(this,void 0,void 0,function*(){this._csNum=0;let{methodArgs:n,methodCallOptions:i,sigArgs:s}=this._prepareArgsForMethodCall(e,...r);return i.multiContractCall===!0?this.multiContractCall(e,i,n,s):this.singleContractCall(e,i,n,s)})}singleContractCall(e,r,n,i){return Jo(this,void 0,void 0,function*(){let s=yield this.signer.getDefaultAddress(),o=yield this.provider.getFeePerKb(),a=this.getTxBuilder(e);if(!a)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let u=n.map((l,y)=>{let _=i.get(y);return _?_.length>1?new Array(_.length).fill((0,Of.getDummySig)()):(0,Of.getDummySig)():l});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let c=r.autoPayFee===void 0||r.autoPayFee===!0,{tx:h,atInputIndex:f,nexts:p}=yield a.call(null,this,r,...u);if(h.feePerKb(o),this.to={tx:h,inputIndex:f},this.dummySignSingleCallTx(h,f,e,...u),c){let l=this.hasPrevouts(e);yield gl.autoPayfee(h,o,this.signer,s,l?36:0),l&&(this.dummySignSingleCallTx(h,f,e,...u),h._feePerKb=o,Object.getPrototypeOf(h)._updateChangeOutput.apply(h))}if(yield this.signSingleCallTx(h,f,s,r,e,n,i),this.to={tx:h,inputIndex:f},p&&p.forEach(l=>{l.instance.from={tx:h,outputIndex:l.atOutputIndex}}),!r.partiallySigned){if(r.verify||process.env.NETWORK==="local"){let l=h.verify();if(typeof l=="string")throw new Error(`Transaction verify failed: ${l}`)}yield this.provider.sendTransaction(h)}return{tx:h,atInputIndex:f,nexts:p,next:Array.isArray(p)?p[0]:void 0}})}multiContractCall(e,r,n,i){return Jo(this,void 0,void 0,function*(){let s=this.getTxBuilder(e);if(!s)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let o=n.map((h,f)=>{let p=i.get(f);return p?p.length>1?new Array(p.length).fill((0,Of.getDummySig)()):(0,Of.getDummySig)():h});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let{tx:a,atInputIndex:u,nexts:c}=yield s.call(null,this,r,...o);return this.to={tx:a,inputIndex:u},c&&c.forEach(h=>{h.instance.from={tx:a,outputIndex:h.atOutputIndex}}),Object.prototype.hasOwnProperty.call(a,"calllogs")?a.calllogs.push({instance:this,methodArgs:n,sigArgs:i,atInputIndex:u,nexts:c,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}):Object.defineProperty(a,"calllogs",{value:[{instance:this,methodArgs:n,sigArgs:i,atInputIndex:u,nexts:c,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}],writable:!1}),{tx:a,atInputIndex:u,nexts:c,next:Array.isArray(c)?c[0]:void 0}})}signSingleCallTx(e,r,n,i,s,o,a){return Jo(this,void 0,void 0,function*(){let u=this.provider.getNetwork(),c=e.inputs.flatMap((f,p)=>{if(!(!i.autoPayFee&&p!==r)){if(p===r)return(i.pubKeyOrAddrToSign?(0,mq.parseSignatureOption)(i.pubKeyOrAddrToSign,u):[{address:n,sigHashType:Xe.DEFAULT_SIGHASH_TYPE}]).map(y=>({prevTxId:(0,Xe.toHex)(f.prevTxId),outputIndex:f.outputIndex,inputIndex:p,satoshis:f.output.satoshis,scriptHex:f.output.script.toHex(),address:y.address,sigHashType:y.sigHashType,csIdx:y.csIdx,data:y.data}));{let l=f.output.script.isPublicKeyHashOut()?Xe.bsv.Address.fromPublicKeyHash(f.output.script.getPublicKeyHash(),u):n;return{prevTxId:(0,Xe.toHex)(f.prevTxId),outputIndex:f.outputIndex,inputIndex:p,satoshis:f.output.satoshis,scriptHex:f.output.script.toHex(),address:l,sigHashType:Xe.DEFAULT_SIGHASH_TYPE,csIdx:void 0}}}}).filter(f=>f!==void 0);(yield this.signer.getSignatures(e.toString(),c)).reduce((f,p)=>{let l=p.inputIndex,y=f.get(l)||[];return y.push(p),f.set(l,y),f},new Map).forEach((f,p)=>{if(p===r){let l=o.map((y,_)=>{let O=a.get(_);if(!O)return y;let F=E=>{if(typeof E!="string")throw new Error(`the ${_+1}th argument calback function should returns a valid \`Sig\``)},B=O.callback.call(this,f)||"";if(B instanceof Array){if(B.length!==O.length)throw new Error(`the ${_+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${O.length}, but got ${B.length}`);B.forEach(E=>F(E))}else F(B);return B});if(i.exec){let y=this.getUnlockingScript(_=>{_[s](...l)});e.inputs[r].setScript(y)}else{let{publicMethodCall:y}=this.callDelegatedMethod(s,...l);e.inputs[r].setScript(y.toScript())}}else i.autoPayFee&&f.forEach(l=>{e.applySignature({inputIndex:l.inputIndex,sigtype:l.sigHashType||Xe.DEFAULT_SIGHASH_TYPE,publicKey:Xe.bsv.PublicKey.fromString(l.publicKey),signature:Xe.bsv.crypto.Signature.fromTxFormat(A.Buffer.from(l.sig,"hex"))})})})})}dummySignSingleCallTx(e,r,n,...i){e.inputs.forEach((s,o)=>{if(o===r){let{publicMethodCall:a}=this.callDelegatedMethod(n,...i);s.setScript(a.toScript())}})}get methods(){let e=this;return this.getDelegateClazz().abi.filter(n=>n.type==="function").map(n=>n.name).reduce((n,i)=>(n[i]=(...s)=>e.call(i,...s),n),{})}getTxBuilder(e){if(!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and do not have any bounded \`txBuilder\``);if(this._txBuilders.has(e))return this._txBuilders.get(e);let n=Object.getOwnPropertyNames(this.constructor).filter(i=>typeof this.constructor[i]=="function").find(i=>i===`buildTxFor${(0,s9.camelCaseCapitalized)(e)}`);return n?this.constructor[n]:this.getDefaultTxBuilder(e)}getDefaultTxBuilder(e){return gl.defaultCallTxBuilder(this.getMethodsMeta(e).sigHashType)}bindTxBuilder(e,r){if(this.getDelegateClazz()||(0,sy.throwUnInitializing)(this.constructor.name),!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and cat not set bounded \`txBuilder\``);this._txBuilders.set(e,r)}static defaultCallTxBuilder(e){return function(r,n,...i){return Jo(this,void 0,void 0,function*(){let s=yield r.signer.getDefaultAddress(),o=new Xe.bsv.Transaction().addInput(r.buildContractInput(n.fromUTXO)),a;if(a=Array.from([n.next||[]]).flat().map((c,h)=>(o.addOutput(new Xe.bsv.Transaction.Output({script:c.instance.lockingScript,satoshis:c.balance})),Object.assign({},c,{atOutputIndex:h}))),o.change(n.changeAddress||s),n.sequence!==void 0&&o.setInputSequence(0,n.sequence),n.lockTime){let c=n.sequence!==void 0?n.sequence:4294967294;o.setInputSequence(0,c),o.setLockTime(n.lockTime)}return Promise.resolve({tx:o,atInputIndex:0,nexts:a,next:Array.isArray(a)?a[0]:void 0})})}}buildContractInput(e){if(!e&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");if(e)return new Xe.bsv.Transaction.Input({prevTxId:e.txId,outputIndex:e.outputIndex,script:new Xe.bsv.Script(""),output:new Xe.bsv.Transaction.Output({script:this.lockingScript,satoshis:e.satoshis})});if("tx"in this.from)return new Xe.bsv.Transaction.Input({prevTxId:this.from.tx.id,outputIndex:this.from.outputIndex,script:new Xe.bsv.Script(""),output:new Xe.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})});{let r=this.from;return new Xe.bsv.Transaction.Input({prevTxId:r.txId,outputIndex:r.outputIndex,script:new Xe.bsv.Script(""),output:new Xe.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})})}}isStateful(){return Reflect.getOwnMetadata(fE.StatePropsMetaKey,this.constructor.prototype)!==void 0}sigTypeOfMethod(e){let r=this.getMethodsMeta(e);if(!r)throw new Error(`${e} is not a public @method of ${this.constructor.name}`);return(0,Of.toNumber)(r.sigHashType)}getMethodsMeta(e){return Reflect.getOwnMetadata(fE.MethodsMetaKey,this.constructor.prototype).get(e)}diffOutputs(e){this._assertToExist();try{let r=(0,iy.diffOutputs)(this.delegateInstance,(0,iy.getExpectedOutputs)(e),(0,iy.getTransationOutputs)(this.to.tx,this.to.inputIndex,this.sigTypeOfMethod(this._currentMethod)));console.info(r)}catch(r){throw new Error(`diffOutputs failed, error: ${r.message}`)}}get debug(){let e=this;return{diffOutputs:r=>{e.diffOutputs(r)},genLaunchConfig:()=>{this.to?console.log(e.delegateInstance.genLaunchConfig({tx:e.to.tx,inputIndex:e.to.inputIndex,inputSatoshis:e.to.tx.getInputAmount(e.to.inputIndex)})):console.log(e.delegateInstance.genLaunchConfig())}}}get balance(){return this._assertFromExist(),"tx"in this.from?this.from.tx.outputs[this.from.outputIndex].satoshis:this.from.satoshis}get utxo(){return this._assertFromExist(),"tx"in this.from?{txId:this.from.tx.id,outputIndex:this.from.outputIndex,script:this.from.tx.outputs[this.from.outputIndex].script.toHex(),satoshis:this.from.tx.outputs[this.from.outputIndex].satoshis}:this.from}get ctx(){if(!this._ctx)throw new Error("`this.ctx` is undefined, `to` should be called before to access its value!");return this._ctx}static fromLockingScript(e,r,n){this.DelegateClazz||(0,sy.throwUnInitializing)(this.name);let i;if(n){if(!e.startsWith(n.toHex()))throw new Error("script doesn't start with nopScript");let c=e.slice(n.toHex().length);i=this.DelegateClazz.fromHex(c)}else i=this.DelegateClazz.fromHex(e);let s=i.ctorArgs().map(c=>c.type.startsWith("HashedMap")?new Ln.HashedMap:c.type.startsWith("HashedSet")?new Ln.HashedSet:c.value),o=new this(...s);o.delegateInstance=i,o.prependNOPScript(n||null);let a=Reflect.getMetadata(fE.PropsMetaKey,o)||[],u=i.stateProps.map(c=>c.name)||[];return a.forEach(c=>{let h=i.isGenesis;if(o[c]instanceof Ln.HashedMap||o[c]instanceof Ln.HashedSet){if(r===void 0||r[c]===void 0)throw new Error(`should pass the currrent value of \`${c}\``);if(o[c]instanceof Ln.HashedMap&&!(r[c]instanceof Ln.HashedMap))throw new Error(`\`offchainValues.${c}\` should be a HashedMap`);if(o[c]instanceof Ln.HashedSet&&!(r[c]instanceof Ln.HashedSet))throw new Error(`\`offchainValues.${c}\` should be a HashedSet`);if(r[c].attachTo(o[c]._type,this.DelegateClazz),u.includes(c)&&!h&&i[c]._data!==r[c].data())throw new Error(`the current value of \`${c}\` passed in does not match the state in the script`);o[c]=r[c]}else u.includes(c)&&!h&&(o[c]=i[c])}),Object.getOwnPropertyNames(r||{}).filter(c=>!a.includes(c)).forEach(c=>o[c]=r[c]),o}static fromTx(e,r,n,i){if(r<0||r>=e.outputs.length)throw new Error(`the value of \`atOutputIndex\` is out of range [0, ${e.outputs.length})`);let s=this.fromLockingScript(e.outputs[r].script.toHex(),n,i);return s.from={tx:e,outputIndex:r},s}static fromUTXO(e,r,n){let i=this.fromLockingScript(e.script,r,n);return i.from=e,i}static dummySignMultiCallTx(e,r){let n=r.map(i=>i.instance);e.inputs.forEach((i,s)=>{if(n[s]){let o=r[s].methodArgs.map((u,c)=>{let h=r[s].sigArgs.get(c);return h?h.length>1?new Array(h.length).fill((0,Of.getDummySig)()):(0,Of.getDummySig)():u}),{publicMethodCall:a}=n[s].callDelegatedMethod(r[s].methodName,...o);i.setScript(a.toScript())}})}static signMultiCallTx(e,r,n,i){return Jo(this,void 0,void 0,function*(){let s=n.map(l=>l.instance),o=yield e.getDefaultAddress(),a=e.provider.getNetwork(),u=r.inputs.map((l,y)=>({input:l,inputIndex:y,instance:s[y],calllog:n[y]})).filter(l=>l.instance instanceof gl),c=[];for(let l of u){let{input:y,calllog:_,instance:O,inputIndex:F}=l,B=_.pubKeyOrAddrToSign,I=(B?(0,mq.parseSignatureOption)(B,a):[{address:o,sigHashType:Xe.DEFAULT_SIGHASH_TYPE}]).map(N=>({prevTxId:(0,Xe.toHex)(y.prevTxId),outputIndex:y.outputIndex,inputIndex:F,satoshis:y.output.satoshis,scriptHex:y.output.script.toHex(),address:N.address,sigHashType:N.sigHashType,csIdx:N.csIdx,data:N.data})),L=[];_.sigArgs.size>0&&(L=yield O.signer.getSignatures(r.toString(),I)),c.push({unlockingScript:this.handleSigResponses(L,O,_,F),inputIndex:l.inputIndex})}if(c.forEach(l=>{r.inputs[l.inputIndex].setScript(l.unlockingScript)}),!i.autoPayFee)return;let f=r.inputs.map((l,y)=>({input:l,inputIndex:y})).filter(l=>typeof s[l.inputIndex]>"u").map(l=>{let{input:y,inputIndex:_}=l;return{prevTxId:(0,Xe.toHex)(y.prevTxId),outputIndex:y.outputIndex,inputIndex:_,satoshis:y.output.satoshis,scriptHex:y.output.script.toHex(),address:o,sigHashType:Xe.DEFAULT_SIGHASH_TYPE,csIdx:void 0}});(yield e.getSignatures(r.toString(),f)).forEach(l=>{r.applySignature({inputIndex:l.inputIndex,sigtype:l.sigHashType||Xe.DEFAULT_SIGHASH_TYPE,publicKey:Xe.bsv.PublicKey.fromString(l.publicKey),signature:Xe.bsv.crypto.Signature.fromTxFormat(A.Buffer.from(l.sig,"hex"))})})})}static handleSigResponses(e,r,n,i){let s=e.reduce((u,c)=>{let h=c.inputIndex,f=u.get(h)||[];return f.push(c),u.set(h,f),u},new Map),o=n.methodArgs.map((u,c)=>{let h=n.sigArgs.get(c);if(!h)return u;let f=l=>{if(typeof l!="string")throw new Error(`the ${c+1}th argument calback function should returns a valid \`Sig\``)},p=h.callback.call(this,s.get(i)||[])||"";if(p instanceof Array){if(p.length!==h.length)throw new Error(`the ${c+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${h.length}, but got ${p.length}`);p.forEach(l=>f(l))}else f(p);return p});n.exec&&r.getUnlockingScript(u=>{u[n.methodName](...o)});let{publicMethodCall:a}=r.callDelegatedMethod(n.methodName,...o);return a.toScript()}static multiContractCall(e,r,n){return Jo(this,void 0,void 0,function*(){n=Object.assign({},{verify:!1,partiallySigned:!1,autoPayFee:!0},n);let i=e.tx,s=i.calllogs||[];if(i.inputs.length<s.length)throw new Error("Check if all called contracts are added as inputs to the transaction");let o=n.autoPayFee,a=yield r.getDefaultAddress(),u=yield r.provider.getFeePerKb();if(i.feePerKb(u),this.dummySignMultiCallTx(i,s),o){let h=s.find(f=>f.instance.hasPrevouts(f.methodName))!==void 0;yield this.autoPayfee(i,u,r,a,h?36*s.length:0),h&&(this.dummySignMultiCallTx(i,s),i._feePerKb=u,Object.getPrototypeOf(i)._updateChangeOutput.apply(i))}if(yield this.signMultiCallTx(r,i,s,n),!n.partiallySigned){if(n.verify||process.env.NETWORK==="local"){let c=i.verify();if(typeof c=="string")throw new Error(`Transaction verify failed: ${c}`)}yield r.provider.sendTransaction(i)}return{tx:i,atInputIndices:s.map(c=>c.atInputIndex),nexts:(0,iy.mergeNexts)(s)}})}static parseCallData(e,r){this.DelegateClazz||(0,sy.throwUnInitializing)(this.name);let n=e.inputs[r].script,i=this.DelegateClazz.abiCoder.parseCallData(n.toHex());return Object.assign(Object.assign({},i),{args:i.args.filter(s=>!s.name.startsWith("__scrypt_ts"))})}static autoPayfee(e,r,n,i,s=0){return Jo(this,void 0,void 0,function*(){if(e.outputs.length>0&&(0,s9.checkTxFee)(e,r))return;let o=e.getEstimateSize(),a=e.inputAmount,u=e.outputAmount;e.getChangeOutput()===null&&e.getChangeAddress()!==null&&(o+=34,u+=1);let c=yield n.listUnspent(i,{unspentValue:a-u,estimateSize:o,feePerKb:r,additional:s});if(e.from(c),!(0,s9.checkTxFee)(e,r))throw new Error(`no sufficient utxos to pay the fee ${Math.ceil(o/1e3*r)}`)})}prependNOPScript(e){this.delegateInstance.prependNOPScript(e)}getPrependNOPScript(){return this.delegateInstance.getPrependNOPScript()}getOffchainUpdates(){return null}};mu.SmartContract=gl});var K6=$(cs=>{k();M();Object.defineProperty(cs,"__esModule",{value:!0});cs.prop=cs.PropsMetaKey=cs.StatePropsMetaKey=cs.method=cs.MethodsMetaKey=void 0;var a9=qp(),w6e=wr(),E6e=o9(),T6e=Yb();cs.MethodsMetaKey="scrypt:methods";function A6e(t=a9.SigHash.ALL){return function(e,r,n){let i=n.value,s=Reflect.getOwnMetadata(cs.MethodsMetaKey,e)||new Map;return s.set(r,{argLength:i.length,sigHashType:t}),Reflect.defineMetadata(cs.MethodsMetaKey,s,e),{configurable:!0,enumerable:!1,get(){return(...u)=>{if(typeof e=="function")return i.apply(this,u);if(this instanceof T6e.SmartContractLib)return i.apply(this,u);if(this instanceof E6e.SmartContract){let p=this.callDelegatedMethod(r,...u);if(p){let{publicMethodCall:l,txPreimage:y,traceableArgCallbacks:_,abi:O,prevouts:F}=p;y&&(this.setCtx(y),O.params.find(I=>I.type==="SigHashPreimage"&&I.name==="__scrypt_ts_txPreimage")&&(0,a9.assert)(this.checkPreimageSigHashType(y,t),"checkPreimage failed!")),u=l.args.map(I=>I.value);let B=u.map(I=>(0,w6e.cloneDeep)(I));this._currentMethod=r,F&&y&&O.params.find(I=>I.type==="bytes"&&I.name==="__scrypt_ts_prevouts")&&(0,a9.assert)((0,a9.hash256)(F)===a9.SigHash.hashPrevouts(y),"check prevouts failed!");let E=i.apply(this,u);if(this._currentMethod=void 0,y&&this.clearCtx(),this.enableUpdateEMC&&!this.entryMethodCall){let I=B.map((L,N)=>{let H=_.get(N);return H?H():L});this.entryMethodCall=this.encodeMethodCall(r,I)}return E}return i.apply(this,u)}throw new Error(`@method decorator used on \`${this.name||this.constructor.name}#${r}\`, it should only be used in subclasses of \`SmartContract\` or \`SmartContractLib\``)}}}}}cs.method=A6e;cs.StatePropsMetaKey="scrypt:stateProps";cs.PropsMetaKey="scrypt:props";function I6e(t=!1){return function(e,r){if(t){let i=(Reflect.getMetadata(cs.StatePropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(cs.StatePropsMetaKey,i,e)}let n=(Reflect.getMetadata(cs.PropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(cs.PropsMetaKey,n,e)}}cs.prop=I6e});var vq=$(bl=>{k();M();var bq=bl&&bl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},oy=bl&&bl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(bl,"__esModule",{value:!0});bl.P2PKH=void 0;var V6=rr(),P6e=o9(),yq=K6(),hE=qp(),aZe=dl(),G6=class extends P6e.SmartContract{constructor(e){super(...arguments),this.addr=e}unlock(e,r){(0,hE.assert)((0,hE.pubKey2Addr)(r)==this.addr,"public key hashes are not equal"),(0,hE.assert)(this.checkSig(e,r),"signature check failed")}get lockingScript(){return new V6.bsv.Script("").add(V6.bsv.Opcode.OP_DUP).add(V6.bsv.Opcode.OP_HASH160).add(V6.bsv.Script.fromASM(this.addr)).add(V6.bsv.Opcode.OP_EQUALVERIFY).add(V6.bsv.Opcode.OP_CHECKSIG)}};bl.P2PKH=G6;bq([(0,yq.prop)(),oy("design:type",String)],G6.prototype,"addr",void 0);bq([(0,yq.method)(),oy("design:type",Function),oy("design:paramtypes",[String,String]),oy("design:returntype",void 0)],G6.prototype,"unlock",null);var O6e={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PKH",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"},{name:"pubkey",type:"PubKey"}]},{type:"constructor",params:[{name:"addr",type:"Ripemd160"}]}],stateProps:[],buildType:"release",file:"",hex:"76a9<addr>88ac",sourceMapFile:""};G6.loadArtifact(O6e)});var Sq=$(yl=>{k();M();var _q=yl&&yl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ay=yl&&yl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(yl,"__esModule",{value:!0});yl.P2PK=void 0;var lE=rr(),B6e=o9(),xq=K6(),C6e=qp(),hZe=dl(),z6=class extends B6e.SmartContract{constructor(e){super(...arguments),this.pubKey=e}unlock(e){(0,C6e.assert)(this.checkSig(e,this.pubKey),"signature check failed")}get lockingScript(){return new lE.bsv.Script("").add(lE.bsv.Script.fromASM(this.pubKey)).add(lE.bsv.Opcode.OP_CHECKSIG)}};yl.P2PK=z6;_q([(0,xq.prop)(),ay("design:type",String)],z6.prototype,"pubKey",void 0);_q([(0,xq.method)(),ay("design:type",Function),ay("design:paramtypes",[String]),ay("design:returntype",void 0)],z6.prototype,"unlock",null);var k6e={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PK",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"}]},{type:"constructor",params:[{name:"pubKey",type:"PubKey"}]}],stateProps:[],buildType:"release",file:"",hex:"<pubKey>ac",sourceMapFile:""};z6.loadArtifact(k6e)});var Eq=$(uy=>{k();M();Object.defineProperty(uy,"__esModule",{value:!0});uy.bsv=void 0;var wq=rr();Object.defineProperty(uy,"bsv",{enumerable:!0,get:function(){return wq.bsv}});wq.bsv.PrivateKey.prototype.toByteString=function(){return this.toHex()}});var Aq=$(cy=>{k();M();Object.defineProperty(cy,"__esModule",{value:!0});cy.bsv=void 0;var Tq=rr();Object.defineProperty(cy,"bsv",{enumerable:!0,get:function(){return Tq.bsv}});Tq.bsv.PublicKey.prototype.toByteString=function(){return this.toHex()}});var Pq=$(fy=>{k();M();Object.defineProperty(fy,"__esModule",{value:!0});fy.bsv=void 0;var Iq=rr();Object.defineProperty(fy,"bsv",{enumerable:!0,get:function(){return Iq.bsv}});Iq.bsv.Address.prototype.toByteString=function(){return this.toHex().slice(2)}});var pE=$(Bf=>{k();M();var M6e=Bf&&Bf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dE=Bf&&Bf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&M6e(e,t,r)};Object.defineProperty(Bf,"__esModule",{value:!0});dE(Eq(),Bf);dE(Aq(),Bf);dE(Pq(),Bf)});var Oq=$(hy=>{k();M();Object.defineProperty(hy,"__esModule",{value:!0});hy.SignatureHashType=void 0;var R6e=Sf();Object.defineProperty(hy,"SignatureHashType",{enumerable:!0,get:function(){return R6e.SignatureHashType}})});var Cq=$(Bq=>{k();M();Object.defineProperty(Bq,"__esModule",{value:!0})});var kq=$($p=>{k();M();var N6e=$p&&$p.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F6e=$p&&$p.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&N6e(e,t,r)};Object.defineProperty($p,"__esModule",{value:!0});F6e(Cq(),$p)});var Mq=$((FZe,mE)=>{k();M();typeof mE<"u"&&(mE.exports=va);function va(t){if(t)return H6e(t)}function H6e(t){for(var e in va.prototype)t[e]=va.prototype[e];return t}va.prototype.on=va.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};va.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};va.prototype.off=va.prototype.removeListener=va.prototype.removeAllListeners=va.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};va.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};va.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};va.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Lq=$((LZe,Dq)=>{k();M();Dq.exports=u9;u9.default=u9;u9.stable=Fq;u9.stableStringify=Fq;var ly="[...]",Rq="[Circular]",Kp=[],jp=[];function Nq(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function u9(t,e,r,n){typeof n>"u"&&(n=Nq()),gE(t,"",0,[],void 0,0,n);var i;try{jp.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Hq(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Kp.length!==0;){var s=Kp.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function W6(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Kp.push([n,r,e,i])):jp.push([e,r,t]):(n[r]=t,Kp.push([n,r,e]))}function gE(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){W6(Rq,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){W6(ly,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){W6(ly,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)gE(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];gE(t[c],c,a,n,t,s,o)}}n.pop()}}function D6e(t,e){return t<e?-1:t>e?1:0}function Fq(t,e,r,n){typeof n>"u"&&(n=Nq());var i=bE(t,"",0,[],void 0,0,n)||t,s;try{jp.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Hq(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Kp.length!==0;){var o=Kp.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function bE(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){W6(Rq,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){W6(ly,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){W6(ly,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)bE(t[a],a,a,n,t,s,o);else{var u={},c=Object.keys(t).sort(D6e);for(a=0;a<c.length;a++){var h=c[a];bE(t[h],h,a,n,t,s,o),u[h]=t[h]}if(typeof i<"u")Kp.push([i,e,t]),i[e]=u;else return u}n.pop()}}function Hq(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(jp.length>0)for(var n=0;n<jp.length;n++){var i=jp[n];if(i[1]===e&&i[0]===r){r=i[2],jp.splice(n,1);break}}return t.call(this,e,r)}}});var $q=$(($Ze,qq)=>{k();M();var L6e="Function.prototype.bind called on incompatible ",U6e=Object.prototype.toString,q6e=Math.max,$6e="[object Function]",Uq=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},j6e=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},K6e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};qq.exports=function(e){var r=this;if(typeof r!="function"||U6e.apply(r)!==$6e)throw new TypeError(L6e+r);for(var n=j6e(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,Uq(n,arguments));return Object(h)===h?h:this}return r.apply(e,Uq(n,arguments))},o=q6e(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+K6e(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var Kq=$((VZe,jq)=>{k();M();var V6e=$q();jq.exports=Function.prototype.bind||V6e});var Xq=$((WZe,dy)=>{k();M();var yE=Kq(),py=$_(),G6e=Gre(),z6e=QC(),zq=py("%Function.prototype.apply%"),Wq=py("%Function.prototype.call%"),Yq=py("%Reflect.apply%",!0)||yE.call(Wq,zq),Vq=Vre(),W6e=py("%Math.max%");dy.exports=function(e){if(typeof e!="function")throw new z6e("a function is required");var r=Yq(yE,Wq,arguments);return G6e(r,1+W6e(0,e.length-(arguments.length-1)),!0)};var Gq=function(){return Yq(yE,zq,arguments)};Vq?Vq(dy.exports,"apply",{value:Gq}):dy.exports.apply=Gq});var e$=$((ZZe,Qq)=>{k();M();var Zq=$_(),Jq=Xq(),Y6e=Jq(Zq("String.prototype.indexOf"));Qq.exports=function(e,r){var n=Zq(e,!!r);return typeof n=="function"&&Y6e(e,".prototype.")>-1?Jq(n):n}});var t$=$(()=>{k();M()});var x$=$((iJe,_$)=>{k();M();var PE=typeof Map=="function"&&Map.prototype,vE=Object.getOwnPropertyDescriptor&&PE?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,gy=PE&&vE&&typeof vE.get=="function"?vE.get:null,r$=PE&&Map.prototype.forEach,OE=typeof Set=="function"&&Set.prototype,_E=Object.getOwnPropertyDescriptor&&OE?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,by=OE&&_E&&typeof _E.get=="function"?_E.get:null,n$=OE&&Set.prototype.forEach,X6e=typeof WeakMap=="function"&&WeakMap.prototype,f9=X6e?WeakMap.prototype.has:null,Z6e=typeof WeakSet=="function"&&WeakSet.prototype,h9=Z6e?WeakSet.prototype.has:null,J6e=typeof WeakRef=="function"&&WeakRef.prototype,i$=J6e?WeakRef.prototype.deref:null,Q6e=Boolean.prototype.valueOf,e5e=Object.prototype.toString,t5e=Function.prototype.toString,r5e=String.prototype.match,BE=String.prototype.slice,_l=String.prototype.replace,n5e=String.prototype.toUpperCase,s$=String.prototype.toLowerCase,p$=RegExp.prototype.test,o$=Array.prototype.concat,b0=Array.prototype.join,i5e=Array.prototype.slice,a$=Math.floor,wE=typeof BigInt=="function"?BigInt.prototype.valueOf:null,xE=Object.getOwnPropertySymbols,EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Y6=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ws=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Y6?"object":"symbol")?Symbol.toStringTag:null,m$=Object.prototype.propertyIsEnumerable,u$=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function c$(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||p$.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-a$(-t):a$(t);if(n!==t){var i=String(n),s=BE.call(e,i.length+1);return _l.call(i,r,"$&_")+"."+_l.call(_l.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _l.call(e,r,"$&_")}var TE=t$(),f$=TE.custom,h$=b$(f$)?f$:null;_$.exports=function t(e,r,n,i){var s=r||{};if(vl(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(vl(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=vl(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(vl(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(vl(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return v$(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?c$(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?c$(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return AE(e)?"[Array]":"[Object]";var f=S5e(s,n);if(typeof i>"u")i=[];else if(y$(i,e)>=0)return"[Circular]";function p(m,S,w){if(S&&(i=i5e.call(i),i.push(S)),w){var R={depth:s.depth};return vl(s,"quoteStyle")&&(R.quoteStyle=s.quoteStyle),t(m,R,n+1,i)}return t(m,s,n+1,i)}if(typeof e=="function"&&!l$(e)){var l=d5e(e),y=my(e,p);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(y.length>0?" { "+b0.call(y,", ")+" }":"")}if(b$(e)){var _=Y6?_l.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):EE.call(e);return typeof e=="object"&&!Y6?c9(_):_}if(v5e(e)){for(var O="<"+s$.call(String(e.nodeName)),F=e.attributes||[],B=0;B<F.length;B++)O+=" "+F[B].name+"="+g$(s5e(F[B].value),"double",s);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+s$.call(String(e.nodeName))+">",O}if(AE(e)){if(e.length===0)return"[]";var E=my(e,p);return f&&!x5e(E)?"["+IE(E,f)+"]":"[ "+b0.call(E,", ")+" ]"}if(a5e(e)){var I=my(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!m$.call(e,"cause")?"{ ["+String(e)+"] "+b0.call(o$.call("[cause]: "+p(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+b0.call(I,", ")+" }"}if(typeof e=="object"&&o){if(h$&&typeof e[h$]=="function"&&TE)return TE(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(p5e(e)){var L=[];return r$&&r$.call(e,function(m,S){L.push(p(S,e,!0)+" => "+p(m,e))}),d$("Map",gy.call(e),L,f)}if(b5e(e)){var N=[];return n$&&n$.call(e,function(m){N.push(p(m,e))}),d$("Set",by.call(e),N,f)}if(m5e(e))return SE("WeakMap");if(y5e(e))return SE("WeakSet");if(g5e(e))return SE("WeakRef");if(c5e(e))return c9(p(Number(e)));if(h5e(e))return c9(p(wE.call(e)));if(f5e(e))return c9(Q6e.call(e));if(u5e(e))return c9(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===globalThis)return"{ [object globalThis] }";if(!o5e(e)&&!l$(e)){var H=my(e,p),D=u$?u$(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",d=!D&&Ws&&Object(e)===e&&Ws in e?BE.call(xl(e),8,-1):C?"Object":"",v=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",g=v+(d||C?"["+b0.call(o$.call([],d||[],C||[]),": ")+"] ":"");return H.length===0?g+"{}":f?g+"{"+IE(H,f)+"}":g+"{ "+b0.call(H,", ")+" }"}return String(e)};function g$(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function s5e(t){return _l.call(String(t),/"/g,"&quot;")}function AE(t){return xl(t)==="[object Array]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function o5e(t){return xl(t)==="[object Date]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function l$(t){return xl(t)==="[object RegExp]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function a5e(t){return xl(t)==="[object Error]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function u5e(t){return xl(t)==="[object String]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function c5e(t){return xl(t)==="[object Number]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function f5e(t){return xl(t)==="[object Boolean]"&&(!Ws||!(typeof t=="object"&&Ws in t))}function b$(t){if(Y6)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!EE)return!1;try{return EE.call(t),!0}catch{}return!1}function h5e(t){if(!t||typeof t!="object"||!wE)return!1;try{return wE.call(t),!0}catch{}return!1}var l5e=Object.prototype.hasOwnProperty||function(t){return t in this};function vl(t,e){return l5e.call(t,e)}function xl(t){return e5e.call(t)}function d5e(t){if(t.name)return t.name;var e=r5e.call(t5e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function y$(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function p5e(t){if(!gy||!t||typeof t!="object")return!1;try{gy.call(t);try{by.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function m5e(t){if(!f9||!t||typeof t!="object")return!1;try{f9.call(t,f9);try{h9.call(t,h9)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function g5e(t){if(!i$||!t||typeof t!="object")return!1;try{return i$.call(t),!0}catch{}return!1}function b5e(t){if(!by||!t||typeof t!="object")return!1;try{by.call(t);try{gy.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function y5e(t){if(!h9||!t||typeof t!="object")return!1;try{h9.call(t,h9);try{f9.call(t,f9)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function v5e(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function v$(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return v$(BE.call(t,0,e.maxStringLength),e)+n}var i=_l.call(_l.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,_5e);return g$(i,"single",e)}function _5e(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+n5e.call(e.toString(16))}function c9(t){return"Object("+t+")"}function SE(t){return t+" { ? }"}function d$(t,e,r,n){var i=n?IE(r,n):b0.call(r,", ");return t+" ("+e+") {"+i+"}"}function x5e(t){for(var e=0;e<t.length;e++)if(y$(t[e],`
`)>=0)return!1;return!0}function S5e(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=b0.call(Array(t.indent+1)," ");else return null;return{base:r,prev:b0.call(Array(e+1),r)}}function IE(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+b0.call(t,","+r)+`
`+e.prev}function my(t,e){var r=AE(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=vl(t,i)?e(t[i],t):""}var s=typeof xE=="function"?xE(t):[],o;if(Y6){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)!vl(t,u)||r&&String(Number(u))===u&&u<t.length||Y6&&o["$"+u]instanceof Symbol||(p$.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof xE=="function")for(var c=0;c<s.length;c++)m$.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}});var E$=$((aJe,w$)=>{k();M();var S$=$_(),X6=e$(),w5e=x$(),E5e=QC(),yy=S$("%WeakMap%",!0),vy=S$("%Map%",!0),T5e=X6("WeakMap.prototype.get",!0),A5e=X6("WeakMap.prototype.set",!0),I5e=X6("WeakMap.prototype.has",!0),P5e=X6("Map.prototype.get",!0),O5e=X6("Map.prototype.set",!0),B5e=X6("Map.prototype.has",!0),CE=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},C5e=function(t,e){var r=CE(t,e);return r&&r.value},k5e=function(t,e,r){var n=CE(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},M5e=function(t,e){return!!CE(t,e)};w$.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new E5e("Side channel does not contain "+w5e(s))},get:function(s){if(yy&&s&&(typeof s=="object"||typeof s=="function")){if(e)return T5e(e,s)}else if(vy){if(r)return P5e(r,s)}else if(n)return C5e(n,s)},has:function(s){if(yy&&s&&(typeof s=="object"||typeof s=="function")){if(e)return I5e(e,s)}else if(vy){if(r)return B5e(r,s)}else if(n)return M5e(n,s);return!1},set:function(s,o){yy&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new yy),A5e(e,s,o)):vy?(r||(r=new vy),O5e(r,s,o)):(n||(n={key:{},next:null}),k5e(n,s,o))}};return i}});var _y=$((fJe,T$)=>{k();M();var R5e=String.prototype.replace,N5e=/%20/g,kE={RFC1738:"RFC1738",RFC3986:"RFC3986"};T$.exports={default:kE.RFC3986,formatters:{RFC1738:function(t){return R5e.call(t,N5e,"+")},RFC3986:function(t){return String(t)}},RFC1738:kE.RFC1738,RFC3986:kE.RFC3986}});var NE=$((dJe,I$)=>{k();M();var F5e=_y(),ME=Object.prototype.hasOwnProperty,Vp=Array.isArray,y0=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),H5e=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Vp(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},A$=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},D5e=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Vp(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ME.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Vp(e)&&!Vp(r)&&(i=A$(e,n)),Vp(e)&&Vp(r)?(r.forEach(function(s,o){if(ME.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return ME.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},L5e=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},U5e=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},RE=1024,q5e=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=RE){for(var c=o.length>=RE?o.slice(u,u+RE):o,h=[],f=0;f<c.length;++f){var p=c.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===F5e.RFC1738&&(p===40||p===41)){h[h.length]=c.charAt(f);continue}if(p<128){h[h.length]=y0[p];continue}if(p<2048){h[h.length]=y0[192|p>>6]+y0[128|p&63];continue}if(p<55296||p>=57344){h[h.length]=y0[224|p>>12]+y0[128|p>>6&63]+y0[128|p&63];continue}f+=1,p=65536+((p&1023)<<10|c.charCodeAt(f)&1023),h[h.length]=y0[240|p>>18]+y0[128|p>>12&63]+y0[128|p>>6&63]+y0[128|p&63]}a+=h.join("")}return a},$5e=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],h=o[c];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:c}),n.push(h))}return H5e(r),e},j5e=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},K5e=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},V5e=function(e,r){return[].concat(e,r)},G5e=function(e,r){if(Vp(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};I$.exports={arrayToObject:A$,assign:L5e,combine:V5e,compact:$5e,decode:U5e,encode:q5e,isBuffer:K5e,isRegExp:j5e,maybeMap:G5e,merge:D5e}});var M$=$((gJe,k$)=>{k();M();var O$=E$(),xy=NE(),l9=_y(),z5e=Object.prototype.hasOwnProperty,B$={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},v0=Array.isArray,W5e=Array.prototype.push,C$=function(t,e){W5e.apply(t,v0(e)?e:[e])},Y5e=Date.prototype.toISOString,P$=l9.default,Vi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:xy.encode,encodeValuesOnly:!1,format:P$,formatter:l9.formatters[P$],indices:!1,serializeDate:function(e){return Y5e.call(e)},skipNulls:!1,strictNullHandling:!1},X5e=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},FE={},Z5e=function t(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B){for(var E=e,I=B,L=0,N=!1;(I=I.get(FE))!==void 0&&!N;){var H=I.get(e);if(L+=1,typeof H<"u"){if(H===L)throw new RangeError("Cyclic object value");N=!0}typeof I.get(FE)>"u"&&(L=0)}if(typeof h=="function"?E=h(r,E):E instanceof Date?E=l(E):n==="comma"&&v0(E)&&(E=xy.maybeMap(E,function(P){return P instanceof Date?l(P):P})),E===null){if(o)return c&&!O?c(r,Vi.encoder,F,"key",y):r;E=""}if(X5e(E)||xy.isBuffer(E)){if(c){var D=O?r:c(r,Vi.encoder,F,"key",y);return[_(D)+"="+_(c(E,Vi.encoder,F,"value",y))]}return[_(r)+"="+_(String(E))]}var C=[];if(typeof E>"u")return C;var d;if(n==="comma"&&v0(E))O&&c&&(E=xy.maybeMap(E,c)),d=[{value:E.length>0?E.join(",")||null:void 0}];else if(v0(h))d=h;else{var v=Object.keys(E);d=f?v.sort(f):v}var g=u?r.replace(/\./g,"%2E"):r,m=i&&v0(E)&&E.length===1?g+"[]":g;if(s&&v0(E)&&E.length===0)return m+"[]";for(var S=0;S<d.length;++S){var w=d[S],R=typeof w=="object"&&typeof w.value<"u"?w.value:E[w];if(!(a&&R===null)){var T=p&&u?w.replace(/\./g,"%2E"):w,b=v0(E)?typeof n=="function"?n(m,T):m:m+(p?"."+T:"["+T+"]");B.set(e,L);var x=O$();x.set(FE,B),C$(C,t(R,b,n,i,s,o,a,u,n==="comma"&&O&&v0(E)?null:c,h,f,p,l,y,_,O,F,x))}}return C},J5e=function(e){if(!e)return Vi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Vi.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=l9.default;if(typeof e.format<"u"){if(!z5e.call(l9.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=l9.formatters[n],s=Vi.filter;(typeof e.filter=="function"||v0(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in B$?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Vi.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Vi.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Vi.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Vi.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vi.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Vi.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Vi.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Vi.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Vi.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Vi.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Vi.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Vi.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vi.strictNullHandling}};k$.exports=function(t,e){var r=t,n=J5e(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):v0(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=B$[n.arrayFormat],u=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=O$(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||C$(o,Z5e(r[f],f,a,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=o.join(n.delimiter),l=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),p.length>0?l+p:""}});var F$=$((vJe,N$)=>{k();M();var Z6=NE(),HE=Object.prototype.hasOwnProperty,Q5e=Array.isArray,ti={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Z6.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},e2e=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},R$=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},t2e="utf8=%26%2310003%3B",r2e="utf8=%E2%9C%93",n2e=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===r2e?c="utf-8":o[u]===t2e&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var h=o[u],f=h.indexOf("]="),p=f===-1?h.indexOf("="):f+1,l,y;p===-1?(l=r.decoder(h,ti.decoder,c,"key"),y=r.strictNullHandling?null:""):(l=r.decoder(h.slice(0,p),ti.decoder,c,"key"),y=Z6.maybeMap(R$(h.slice(p+1),r),function(O){return r.decoder(O,ti.decoder,c,"value")})),y&&r.interpretNumericEntities&&c==="iso-8859-1"&&(y=e2e(y)),h.indexOf("[]=")>-1&&(y=Q5e(y)?[y]:y);var _=HE.call(n,l);_&&r.duplicates==="combine"?n[l]=Z6.combine(n[l],y):(!_||r.duplicates==="last")&&(n[l]=y)}return n},i2e=function(t,e,r,n){for(var i=n?e:R$(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},s2e=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,h=[];if(c){if(!n.plainObjects&&HE.call(Object.prototype,c)&&!n.allowPrototypes)return;h.push(c)}for(var f=0;n.depth>0&&(u=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&HE.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+s.slice(u.index)+"]")}return i2e(h,r,n,i)}},o2e=function(e){if(!e)return ti;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ti.charset:e.charset,n=typeof e.duplicates>"u"?ti.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ti.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ti.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ti.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ti.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ti.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ti.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ti.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ti.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ti.decoder,delimiter:typeof e.delimiter=="string"||Z6.isRegExp(e.delimiter)?e.delimiter:ti.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ti.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ti.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ti.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ti.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ti.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ti.strictNullHandling}};N$.exports=function(t,e){var r=o2e(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?n2e(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=s2e(a,n[a],r,typeof t=="string");i=Z6.merge(i,u,r)}return r.allowSparse===!0?i:Z6.compact(i)}});var D$=$((SJe,H$)=>{k();M();var a2e=M$(),u2e=F$(),c2e=_y();H$.exports={formats:c2e,parse:u2e,stringify:a2e}});var d9=$((TJe,L$)=>{k();M();var f2e="2.0.0",h2e=Number.MAX_SAFE_INTEGER||9007199254740991,l2e=16,d2e=256-6,p2e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];L$.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:l2e,MAX_SAFE_BUILD_LENGTH:d2e,MAX_SAFE_INTEGER:h2e,RELEASE_TYPES:p2e,SEMVER_SPEC_VERSION:f2e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var p9=$((PJe,U$)=>{k();M();var m2e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};U$.exports=m2e});var J6=$((Cf,q$)=>{k();M();var{MAX_SAFE_COMPONENT_LENGTH:DE,MAX_SAFE_BUILD_LENGTH:g2e,MAX_LENGTH:b2e}=d9(),y2e=p9();Cf=q$.exports={};var v2e=Cf.re=[],_2e=Cf.safeRe=[],Ke=Cf.src=[],Ve=Cf.t={},x2e=0,LE="[a-zA-Z0-9-]",S2e=[["\\s",1],["\\d",b2e],[LE,g2e]],w2e=t=>{for(let[e,r]of S2e)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Yt=(t,e,r)=>{let n=w2e(e),i=x2e++;y2e(t,i,e),Ve[t]=i,Ke[i]=e,v2e[i]=new RegExp(e,r?"g":void 0),_2e[i]=new RegExp(n,r?"g":void 0)};Yt("NUMERICIDENTIFIER","0|[1-9]\\d*");Yt("NUMERICIDENTIFIERLOOSE","\\d+");Yt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${LE}*`);Yt("MAINVERSION",`(${Ke[Ve.NUMERICIDENTIFIER]})\\.(${Ke[Ve.NUMERICIDENTIFIER]})\\.(${Ke[Ve.NUMERICIDENTIFIER]})`);Yt("MAINVERSIONLOOSE",`(${Ke[Ve.NUMERICIDENTIFIERLOOSE]})\\.(${Ke[Ve.NUMERICIDENTIFIERLOOSE]})\\.(${Ke[Ve.NUMERICIDENTIFIERLOOSE]})`);Yt("PRERELEASEIDENTIFIER",`(?:${Ke[Ve.NUMERICIDENTIFIER]}|${Ke[Ve.NONNUMERICIDENTIFIER]})`);Yt("PRERELEASEIDENTIFIERLOOSE",`(?:${Ke[Ve.NUMERICIDENTIFIERLOOSE]}|${Ke[Ve.NONNUMERICIDENTIFIER]})`);Yt("PRERELEASE",`(?:-(${Ke[Ve.PRERELEASEIDENTIFIER]}(?:\\.${Ke[Ve.PRERELEASEIDENTIFIER]})*))`);Yt("PRERELEASELOOSE",`(?:-?(${Ke[Ve.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ke[Ve.PRERELEASEIDENTIFIERLOOSE]})*))`);Yt("BUILDIDENTIFIER",`${LE}+`);Yt("BUILD",`(?:\\+(${Ke[Ve.BUILDIDENTIFIER]}(?:\\.${Ke[Ve.BUILDIDENTIFIER]})*))`);Yt("FULLPLAIN",`v?${Ke[Ve.MAINVERSION]}${Ke[Ve.PRERELEASE]}?${Ke[Ve.BUILD]}?`);Yt("FULL",`^${Ke[Ve.FULLPLAIN]}$`);Yt("LOOSEPLAIN",`[v=\\s]*${Ke[Ve.MAINVERSIONLOOSE]}${Ke[Ve.PRERELEASELOOSE]}?${Ke[Ve.BUILD]}?`);Yt("LOOSE",`^${Ke[Ve.LOOSEPLAIN]}$`);Yt("GTLT","((?:<|>)?=?)");Yt("XRANGEIDENTIFIERLOOSE",`${Ke[Ve.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Yt("XRANGEIDENTIFIER",`${Ke[Ve.NUMERICIDENTIFIER]}|x|X|\\*`);Yt("XRANGEPLAIN",`[v=\\s]*(${Ke[Ve.XRANGEIDENTIFIER]})(?:\\.(${Ke[Ve.XRANGEIDENTIFIER]})(?:\\.(${Ke[Ve.XRANGEIDENTIFIER]})(?:${Ke[Ve.PRERELEASE]})?${Ke[Ve.BUILD]}?)?)?`);Yt("XRANGEPLAINLOOSE",`[v=\\s]*(${Ke[Ve.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ke[Ve.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ke[Ve.XRANGEIDENTIFIERLOOSE]})(?:${Ke[Ve.PRERELEASELOOSE]})?${Ke[Ve.BUILD]}?)?)?`);Yt("XRANGE",`^${Ke[Ve.GTLT]}\\s*${Ke[Ve.XRANGEPLAIN]}$`);Yt("XRANGELOOSE",`^${Ke[Ve.GTLT]}\\s*${Ke[Ve.XRANGEPLAINLOOSE]}$`);Yt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${DE}})(?:\\.(\\d{1,${DE}}))?(?:\\.(\\d{1,${DE}}))?`);Yt("COERCE",`${Ke[Ve.COERCEPLAIN]}(?:$|[^\\d])`);Yt("COERCEFULL",Ke[Ve.COERCEPLAIN]+`(?:${Ke[Ve.PRERELEASE]})?(?:${Ke[Ve.BUILD]})?(?:$|[^\\d])`);Yt("COERCERTL",Ke[Ve.COERCE],!0);Yt("COERCERTLFULL",Ke[Ve.COERCEFULL],!0);Yt("LONETILDE","(?:~>?)");Yt("TILDETRIM",`(\\s*)${Ke[Ve.LONETILDE]}\\s+`,!0);Cf.tildeTrimReplace="$1~";Yt("TILDE",`^${Ke[Ve.LONETILDE]}${Ke[Ve.XRANGEPLAIN]}$`);Yt("TILDELOOSE",`^${Ke[Ve.LONETILDE]}${Ke[Ve.XRANGEPLAINLOOSE]}$`);Yt("LONECARET","(?:\\^)");Yt("CARETTRIM",`(\\s*)${Ke[Ve.LONECARET]}\\s+`,!0);Cf.caretTrimReplace="$1^";Yt("CARET",`^${Ke[Ve.LONECARET]}${Ke[Ve.XRANGEPLAIN]}$`);Yt("CARETLOOSE",`^${Ke[Ve.LONECARET]}${Ke[Ve.XRANGEPLAINLOOSE]}$`);Yt("COMPARATORLOOSE",`^${Ke[Ve.GTLT]}\\s*(${Ke[Ve.LOOSEPLAIN]})$|^$`);Yt("COMPARATOR",`^${Ke[Ve.GTLT]}\\s*(${Ke[Ve.FULLPLAIN]})$|^$`);Yt("COMPARATORTRIM",`(\\s*)${Ke[Ve.GTLT]}\\s*(${Ke[Ve.LOOSEPLAIN]}|${Ke[Ve.XRANGEPLAIN]})`,!0);Cf.comparatorTrimReplace="$1$2$3";Yt("HYPHENRANGE",`^\\s*(${Ke[Ve.XRANGEPLAIN]})\\s+-\\s+(${Ke[Ve.XRANGEPLAIN]})\\s*$`);Yt("HYPHENRANGELOOSE",`^\\s*(${Ke[Ve.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ke[Ve.XRANGEPLAINLOOSE]})\\s*$`);Yt("STAR","(<|>)?=?\\s*\\*");Yt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Yt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Sy=$((MJe,$$)=>{k();M();var E2e=Object.freeze({loose:!0}),T2e=Object.freeze({}),A2e=t=>t?typeof t!="object"?E2e:t:T2e;$$.exports=A2e});var UE=$((FJe,V$)=>{k();M();var j$=/^[0-9]+$/,K$=(t,e)=>{let r=j$.test(t),n=j$.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},I2e=(t,e)=>K$(e,t);V$.exports={compareIdentifiers:K$,rcompareIdentifiers:I2e}});var Ys=$((LJe,Y$)=>{k();M();var wy=p9(),{MAX_LENGTH:G$,MAX_SAFE_INTEGER:Ey}=d9(),{safeRe:z$,t:W$}=J6(),P2e=Sy(),{compareIdentifiers:Q6}=UE(),_a=class{constructor(e,r){if(r=P2e(r),e instanceof _a){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>G$)throw new TypeError(`version is longer than ${G$} characters`);wy("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?z$[W$.LOOSE]:z$[W$.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ey||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ey||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ey||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Ey)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(wy("SemVer.compare",this.version,this.options,e),!(e instanceof _a)){if(typeof e=="string"&&e===this.version)return 0;e=new _a(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof _a||(e=new _a(e,this.options)),Q6(this.major,e.major)||Q6(this.minor,e.minor)||Q6(this.patch,e.patch)}comparePre(e){if(e instanceof _a||(e=new _a(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(wy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Q6(n,i)}while(++r)}compareBuild(e){e instanceof _a||(e=new _a(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(wy("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Q6(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Q6(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Y$.exports=_a});var Gp=$(($Je,Z$)=>{k();M();var X$=Ys(),O2e=(t,e,r=!1)=>{if(t instanceof X$)return t;try{return new X$(t,e)}catch(n){if(!r)return null;throw n}};Z$.exports=O2e});var Q$=$((VJe,J$)=>{k();M();var B2e=Gp(),C2e=(t,e)=>{let r=B2e(t,e);return r?r.version:null};J$.exports=C2e});var tj=$((WJe,ej)=>{k();M();var k2e=Gp(),M2e=(t,e)=>{let r=k2e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};ej.exports=M2e});var ij=$((ZJe,nj)=>{k();M();var rj=Ys(),R2e=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new rj(t instanceof rj?t.version:t,r).inc(e,n,i).version}catch{return null}};nj.exports=R2e});var aj=$((eQe,oj)=>{k();M();var sj=Gp(),N2e=(t,e)=>{let r=sj(t,null,!0),n=sj(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let h=u?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};oj.exports=N2e});var cj=$((nQe,uj)=>{k();M();var F2e=Ys(),H2e=(t,e)=>new F2e(t,e).major;uj.exports=H2e});var hj=$((oQe,fj)=>{k();M();var D2e=Ys(),L2e=(t,e)=>new D2e(t,e).minor;fj.exports=L2e});var dj=$((cQe,lj)=>{k();M();var U2e=Ys(),q2e=(t,e)=>new U2e(t,e).patch;lj.exports=q2e});var mj=$((lQe,pj)=>{k();M();var $2e=Gp(),j2e=(t,e)=>{let r=$2e(t,e);return r&&r.prerelease.length?r.prerelease:null};pj.exports=j2e});var gu=$((mQe,bj)=>{k();M();var gj=Ys(),K2e=(t,e,r)=>new gj(t,r).compare(new gj(e,r));bj.exports=K2e});var vj=$((yQe,yj)=>{k();M();var V2e=gu(),G2e=(t,e,r)=>V2e(e,t,r);yj.exports=G2e});var xj=$((xQe,_j)=>{k();M();var z2e=gu(),W2e=(t,e)=>z2e(t,e,!0);_j.exports=W2e});var Ty=$((EQe,wj)=>{k();M();var Sj=Ys(),Y2e=(t,e,r)=>{let n=new Sj(t,r),i=new Sj(e,r);return n.compare(i)||n.compareBuild(i)};wj.exports=Y2e});var Tj=$((IQe,Ej)=>{k();M();var X2e=Ty(),Z2e=(t,e)=>t.sort((r,n)=>X2e(r,n,e));Ej.exports=Z2e});var Ij=$((BQe,Aj)=>{k();M();var J2e=Ty(),Q2e=(t,e)=>t.sort((r,n)=>J2e(n,r,e));Aj.exports=Q2e});var m9=$((MQe,Pj)=>{k();M();var e3e=gu(),t3e=(t,e,r)=>e3e(t,e,r)>0;Pj.exports=t3e});var Ay=$((FQe,Oj)=>{k();M();var r3e=gu(),n3e=(t,e,r)=>r3e(t,e,r)<0;Oj.exports=n3e});var qE=$((LQe,Bj)=>{k();M();var i3e=gu(),s3e=(t,e,r)=>i3e(t,e,r)===0;Bj.exports=s3e});var $E=$(($Qe,Cj)=>{k();M();var o3e=gu(),a3e=(t,e,r)=>o3e(t,e,r)!==0;Cj.exports=a3e});var Iy=$((VQe,kj)=>{k();M();var u3e=gu(),c3e=(t,e,r)=>u3e(t,e,r)>=0;kj.exports=c3e});var Py=$((WQe,Mj)=>{k();M();var f3e=gu(),h3e=(t,e,r)=>f3e(t,e,r)<=0;Mj.exports=h3e});var jE=$((ZQe,Rj)=>{k();M();var l3e=qE(),d3e=$E(),p3e=m9(),m3e=Iy(),g3e=Ay(),b3e=Py(),y3e=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return l3e(t,r,n);case"!=":return d3e(t,r,n);case">":return p3e(t,r,n);case">=":return m3e(t,r,n);case"<":return g3e(t,r,n);case"<=":return b3e(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Rj.exports=y3e});var Fj=$((eet,Nj)=>{k();M();var v3e=Ys(),_3e=Gp(),{safeRe:Oy,t:By}=J6(),x3e=(t,e)=>{if(t instanceof v3e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Oy[By.COERCEFULL]:Oy[By.COERCE]);else{let u=e.includePrerelease?Oy[By.COERCERTLFULL]:Oy[By.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return _3e(`${n}.${i}.${s}${o}${a}`,e)};Nj.exports=x3e});var Dj=$((net,Hj)=>{k();M();var KE=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};Hj.exports=KE});var bu=$((oet,$j)=>{k();M();var zp=class{constructor(e,r){if(r=w3e(r),e instanceof zp)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new zp(e.raw,r);if(e instanceof VE)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Uj(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&B3e(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&P3e)|(this.options.loose&&O3e))+":"+e,i=Lj.get(n);if(i)return i;let s=this.options.loose,o=s?Qo[po.HYPHENRANGELOOSE]:Qo[po.HYPHENRANGE];e=e.replace(o,U3e(this.options.includePrerelease)),Tn("hyphen replace",e),e=e.replace(Qo[po.COMPARATORTRIM],T3e),Tn("comparator trim",e),e=e.replace(Qo[po.TILDETRIM],A3e),Tn("tilde trim",e),e=e.replace(Qo[po.CARETTRIM],I3e),Tn("caret trim",e);let a=e.split(" ").map(f=>C3e(f,this.options)).join(" ").split(/\s+/).map(f=>L3e(f,this.options));s&&(a=a.filter(f=>(Tn("loose invalid filter",f,this.options),!!f.match(Qo[po.COMPARATORLOOSE])))),Tn("range list",a);let u=new Map,c=a.map(f=>new VE(f,this.options));for(let f of c){if(Uj(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Lj.set(n,h),h}intersects(e,r){if(!(e instanceof zp))throw new TypeError("a Range is required");return this.set.some(n=>qj(n,r)&&e.set.some(i=>qj(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new E3e(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(q3e(this.set[r],e,this.options))return!0;return!1}};$j.exports=zp;var S3e=Dj(),Lj=new S3e,w3e=Sy(),VE=g9(),Tn=p9(),E3e=Ys(),{safeRe:Qo,t:po,comparatorTrimReplace:T3e,tildeTrimReplace:A3e,caretTrimReplace:I3e}=J6(),{FLAG_INCLUDE_PRERELEASE:P3e,FLAG_LOOSE:O3e}=d9(),Uj=t=>t.value==="<0.0.0-0",B3e=t=>t.value==="",qj=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},C3e=(t,e)=>(Tn("comp",t,e),t=R3e(t,e),Tn("caret",t),t=k3e(t,e),Tn("tildes",t),t=F3e(t,e),Tn("xrange",t),t=D3e(t,e),Tn("stars",t),t),mo=t=>!t||t.toLowerCase()==="x"||t==="*",k3e=(t,e)=>t.trim().split(/\s+/).map(r=>M3e(r,e)).join(" "),M3e=(t,e)=>{let r=e.loose?Qo[po.TILDELOOSE]:Qo[po.TILDE];return t.replace(r,(n,i,s,o,a)=>{Tn("tilde",t,n,i,s,o,a);let u;return mo(i)?u="":mo(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:mo(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(Tn("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Tn("tilde return",u),u})},R3e=(t,e)=>t.trim().split(/\s+/).map(r=>N3e(r,e)).join(" "),N3e=(t,e)=>{Tn("caret",t,e);let r=e.loose?Qo[po.CARETLOOSE]:Qo[po.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{Tn("caret",t,i,s,o,a,u);let c;return mo(s)?c="":mo(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:mo(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(Tn("replaceCaret pr",u),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(Tn("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Tn("caret return",c),c})},F3e=(t,e)=>(Tn("replaceXRanges",t,e),t.split(/\s+/).map(r=>H3e(r,e)).join(" ")),H3e=(t,e)=>{t=t.trim();let r=e.loose?Qo[po.XRANGELOOSE]:Qo[po.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{Tn("xRange",t,n,i,s,o,a,u);let c=mo(s),h=c||mo(o),f=h||mo(a),p=f;return i==="="&&p&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(h&&(o=0),a=0,i===">"?(i=">=",h?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):h?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),Tn("xRange return",n),n})},D3e=(t,e)=>(Tn("replaceStars",t,e),t.trim().replace(Qo[po.STAR],"")),L3e=(t,e)=>(Tn("replaceGTE0",t,e),t.trim().replace(Qo[e.includePrerelease?po.GTE0PRE:po.GTE0],"")),U3e=t=>(e,r,n,i,s,o,a,u,c,h,f,p)=>(mo(n)?r="":mo(i)?r=`>=${n}.0.0${t?"-0":""}`:mo(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,mo(c)?u="":mo(h)?u=`<${+c+1}.0.0-0`:mo(f)?u=`<${c}.${+h+1}.0-0`:p?u=`<=${c}.${h}.${f}-${p}`:t?u=`<${c}.${h}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),q3e=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Tn(t[n].semver),t[n].semver!==VE.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var g9=$((cet,Wj)=>{k();M();var b9=Symbol("SemVer ANY"),e5=class{static get ANY(){return b9}constructor(e,r){if(r=jj(r),e instanceof e5){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),zE("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===b9?this.value="":this.value=this.operator+this.semver.version,zE("comp",this)}parse(e){let r=this.options.loose?Kj[Vj.COMPARATORLOOSE]:Kj[Vj.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Gj(n[2],this.options.loose):this.semver=b9}toString(){return this.value}test(e){if(zE("Comparator.test",e,this.options.loose),this.semver===b9||e===b9)return!0;if(typeof e=="string")try{e=new Gj(e,this.options)}catch{return!1}return GE(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof e5))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new zj(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new zj(this.value,r).test(e.semver):(r=jj(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||GE(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||GE(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Wj.exports=e5;var jj=Sy(),{safeRe:Kj,t:Vj}=J6(),GE=jE(),zE=p9(),Gj=Ys(),zj=bu()});var y9=$((det,Yj)=>{k();M();var $3e=bu(),j3e=(t,e,r)=>{try{e=new $3e(e,r)}catch{return!1}return e.test(t)};Yj.exports=j3e});var Zj=$((get,Xj)=>{k();M();var K3e=bu(),V3e=(t,e)=>new K3e(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Xj.exports=V3e});var Qj=$((vet,Jj)=>{k();M();var G3e=Ys(),z3e=bu(),W3e=(t,e,r)=>{let n=null,i=null,s=null;try{s=new z3e(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new G3e(n,r))}),n};Jj.exports=W3e});var tK=$((wet,eK)=>{k();M();var Y3e=Ys(),X3e=bu(),Z3e=(t,e,r)=>{let n=null,i=null,s=null;try{s=new X3e(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Y3e(n,r))}),n};eK.exports=Z3e});var iK=$((Aet,nK)=>{k();M();var WE=Ys(),J3e=bu(),rK=m9(),Q3e=(t,e)=>{t=new J3e(t,e);let r=new WE("0.0.0");if(t.test(r)||(r=new WE("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new WE(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||rK(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||rK(r,s))&&(r=s)}return r&&t.test(r)?r:null};nK.exports=Q3e});var oK=$((Oet,sK)=>{k();M();var e9e=bu(),t9e=(t,e)=>{try{return new e9e(t,e).range||"*"}catch{return null}};sK.exports=t9e});var Cy=$((ket,fK)=>{k();M();var r9e=Ys(),cK=g9(),{ANY:n9e}=cK,i9e=bu(),s9e=y9(),aK=m9(),uK=Ay(),o9e=Py(),a9e=Iy(),u9e=(t,e,r,n)=>{t=new r9e(t,n),e=new i9e(e,n);let i,s,o,a,u;switch(r){case">":i=aK,s=o9e,o=uK,a=">",u=">=";break;case"<":i=uK,s=a9e,o=aK,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s9e(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],f=null,p=null;if(h.forEach(l=>{l.semver===n9e&&(l=new cK(">=0.0.0")),f=f||l,p=p||l,i(l.semver,f.semver,n)?f=l:o(l.semver,p.semver,n)&&(p=l)}),f.operator===a||f.operator===u||(!p.operator||p.operator===a)&&s(t,p.semver))return!1;if(p.operator===u&&o(t,p.semver))return!1}return!0};fK.exports=u9e});var lK=$((Net,hK)=>{k();M();var c9e=Cy(),f9e=(t,e,r)=>c9e(t,e,">",r);hK.exports=f9e});var pK=$((Det,dK)=>{k();M();var h9e=Cy(),l9e=(t,e,r)=>h9e(t,e,"<",r);dK.exports=l9e});var bK=$((qet,gK)=>{k();M();var mK=bu(),d9e=(t,e,r)=>(t=new mK(t,r),e=new mK(e,r),t.intersects(e,r));gK.exports=d9e});var vK=$((Ket,yK)=>{k();M();var p9e=y9(),m9e=gu();yK.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((h,f)=>m9e(h,f,r));for(let h of o)p9e(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[h,f]of n)h===f?a.push(h):!f&&h===o[0]?a.push("*"):f?h===o[0]?a.push(`<=${f}`):a.push(`${h} - ${f}`):a.push(`>=${h}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var TK=$((zet,EK)=>{k();M();var _K=bu(),XE=g9(),{ANY:YE}=XE,v9=y9(),ZE=gu(),g9e=(t,e,r={})=>{if(t===e)return!0;t=new _K(t,r),e=new _K(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=y9e(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},b9e=[new XE(">=0.0.0-0")],xK=[new XE(">=0.0.0")],y9e=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===YE){if(e.length===1&&e[0].semver===YE)return!0;r.includePrerelease?t=b9e:t=xK}if(e.length===1&&e[0].semver===YE){if(r.includePrerelease)return!0;e=xK}let n=new Set,i,s;for(let l of t)l.operator===">"||l.operator===">="?i=SK(i,l,r):l.operator==="<"||l.operator==="<="?s=wK(s,l,r):n.add(l.semver);if(n.size>1)return null;let o;if(i&&s){if(o=ZE(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let l of n){if(i&&!v9(l,String(i),r)||s&&!v9(l,String(s),r))return null;for(let y of e)if(!v9(l,String(y),r))return!1;return!0}let a,u,c,h,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let l of e){if(h=h||l.operator===">"||l.operator===">=",c=c||l.operator==="<"||l.operator==="<=",i){if(p&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===p.major&&l.semver.minor===p.minor&&l.semver.patch===p.patch&&(p=!1),l.operator===">"||l.operator===">="){if(a=SK(i,l,r),a===l&&a!==i)return!1}else if(i.operator===">="&&!v9(i.semver,String(l),r))return!1}if(s){if(f&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===f.major&&l.semver.minor===f.minor&&l.semver.patch===f.patch&&(f=!1),l.operator==="<"||l.operator==="<="){if(u=wK(s,l,r),u===l&&u!==s)return!1}else if(s.operator==="<="&&!v9(s.semver,String(l),r))return!1}if(!l.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&h&&!i&&o!==0||p||f)},SK=(t,e,r)=>{if(!t)return e;let n=ZE(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},wK=(t,e,r)=>{if(!t)return e;let n=ZE(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};EK.exports=g9e});var OK=$((Xet,PK)=>{k();M();var JE=J6(),AK=d9(),v9e=Ys(),IK=UE(),_9e=Gp(),x9e=Q$(),S9e=tj(),w9e=ij(),E9e=aj(),T9e=cj(),A9e=hj(),I9e=dj(),P9e=mj(),O9e=gu(),B9e=vj(),C9e=xj(),k9e=Ty(),M9e=Tj(),R9e=Ij(),N9e=m9(),F9e=Ay(),H9e=qE(),D9e=$E(),L9e=Iy(),U9e=Py(),q9e=jE(),$9e=Fj(),j9e=g9(),K9e=bu(),V9e=y9(),G9e=Zj(),z9e=Qj(),W9e=tK(),Y9e=iK(),X9e=oK(),Z9e=Cy(),J9e=lK(),Q9e=pK(),eme=bK(),tme=vK(),rme=TK();PK.exports={parse:_9e,valid:x9e,clean:S9e,inc:w9e,diff:E9e,major:T9e,minor:A9e,patch:I9e,prerelease:P9e,compare:O9e,rcompare:B9e,compareLoose:C9e,compareBuild:k9e,sort:M9e,rsort:R9e,gt:N9e,lt:F9e,eq:H9e,neq:D9e,gte:L9e,lte:U9e,cmp:q9e,coerce:$9e,Comparator:j9e,Range:K9e,satisfies:V9e,toComparators:G9e,maxSatisfying:z9e,minSatisfying:W9e,minVersion:Y9e,validRange:X9e,outside:Z9e,gtr:J9e,ltr:Q9e,intersects:eme,simplifyRange:tme,subset:rme,SemVer:v9e,re:JE.re,src:JE.src,tokens:JE.t,SEMVER_SPEC_VERSION:AK.SEMVER_SPEC_VERSION,RELEASE_TYPES:AK.RELEASE_TYPES,compareIdentifiers:IK.compareIdentifiers,rcompareIdentifiers:IK.rcompareIdentifiers}});var ky=$(kf=>{k();M();function CK(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=nme(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function nme(t,e){if(!!t){if(typeof t=="string")return BK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BK(t,e)}}function BK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}kf.type=t=>t.split(/ *; */).shift();kf.params=t=>{let e={};var r=CK(t.split(/ *; */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *= */),o=s.shift(),a=s.shift();o&&a&&(e[o]=a)}}catch(i){r.e(i)}finally{r.f()}return e};kf.parseLinks=t=>{let e={};var r=CK(t.split(/ *, */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *; */),o=s[0].slice(1,-1),a=s[1].split(/ *= */)[1].slice(1,-1);e[a]=o}}catch(i){r.e(i)}finally{r.f()}return e};kf.cleanHeader=(t,e)=>(delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t);kf.isObject=t=>t!==null&&typeof t=="object";kf.hasOwn=Object.hasOwn||function(t,e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(t),e)};kf.mixin=(t,e)=>{for(let r in e)kf.hasOwn(e,r)&&(t[r]=e[r])}});var NK=$((rtt,RK)=>{k();M();var kK=OK(),MK=ky(),My=MK.isObject,_9=MK.hasOwn;RK.exports=Ur;function Ur(){}Ur.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};Ur.prototype.parse=function(t){return this._parser=t,this};Ur.prototype.responseType=function(t){return this._responseType=t,this};Ur.prototype.serialize=function(t){return this._serializer=t,this};Ur.prototype.timeout=function(t){if(!t||typeof t!="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(let e in t)if(_9(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this};Ur.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var ime=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),sme=new Set([408,413,429,500,502,503,504,521,522,524]);Ur.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{let r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(r){console.error(r)}return!!(e&&e.status&&sme.has(e.status)||t&&(t.code&&ime.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};Ur.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};Ur.prototype.then=function(t,e){if(!this._fullfilledPromise){let r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((n,i)=>{r.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError){i(this.timedoutError);return}let s=new Error("Aborted");s.code="ABORTED",s.status=this.status,s.method=this.method,s.url=this.url,i(s)}),r.end((s,o)=>{s?i(s):n(o)})})}return this._fullfilledPromise.then(t,e)};Ur.prototype.catch=function(t){return this.then(void 0,t)};Ur.prototype.use=function(t){return t(this),this};Ur.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};Ur.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};Ur.prototype.get=function(t){return this._header[t.toLowerCase()]};Ur.prototype.getHeader=Ur.prototype.get;Ur.prototype.set=function(t,e){if(My(t)){for(let r in t)_9(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this};Ur.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};Ur.prototype.field=function(t,e,r){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(My(t)){for(let n in t)_9(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(let n in e)_9(e,n)&&this.field(t,e[n]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this};Ur.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(kK.gte(process.version,"v13.0.0")&&kK.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this};Ur.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization",`Basic ${n(`${t}:${e}`)}`);break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization",`Bearer ${t}`);break;default:break}return this};Ur.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};Ur.prototype.redirects=function(t){return this._maxRedirects=t,this};Ur.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};Ur.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};Ur.prototype.send=function(t){let e=My(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&My(this._data))for(let n in t){if(typeof t[n]=="bigint"&&!t[n].toJSON)throw new Error("Cannot serialize BigInt value to json");_9(t,n)&&(this._data[n]=t[n])}else{if(typeof t=="bigint")throw new Error("Cannot send value of type BigInt");typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?`${this._data}&${t}`:t:this._data=(this._data||"")+t):this._data=t}return!e||this._isHost(t)?this:(r||this.type("json"),this)};Ur.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this};Ur.prototype._finalizeQueryString=function(){let t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){let e=this.url.indexOf("?");if(e>=0){let r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}};Ur.prototype._appendQueryString=()=>{console.warn("Unsupported")};Ur.prototype._timeoutError=function(t,e,r){if(this._aborted)return;let n=new Error(`${t+e}ms exceeded`);n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)};Ur.prototype._setTimeouts=function(){let t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}});var HK=$((stt,FK)=>{k();M();var QE=ky();FK.exports=Ry;function Ry(){}Ry.prototype.get=function(t){return this.header[t.toLowerCase()]};Ry.prototype._setHeaderProperties=function(t){let e=t["content-type"]||"";this.type=QE.type(e);let r=QE.params(e);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=QE.parseLinks(t.link))}catch{}};Ry.prototype._setStatusProperties=function(t){let e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422}});var UK=$((utt,LK)=>{k();M();function ome(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ame(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function ame(t,e){if(!!t){if(typeof t=="string")return DK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DK(t,e)}}function DK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tT(){this._defaults=[]}for(Ny=0,eT=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];Ny<eT.length;Ny++){let t=eT[Ny];tT.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}}var Ny,eT;tT.prototype._setDefaults=function(t){var e=ome(this._defaults),r;try{for(e.s();!(r=e.n()).done;){let n=r.value;t[n.fn](...n.args)}}catch(n){e.e(n)}finally{e.f()}};LK.exports=tT});var Mf=$((Wp,oT)=>{k();M();function ume(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=cme(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function cme(t,e){if(!!t){if(typeof t=="string")return qK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qK(t,e)}}function qK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var t5;typeof window<"u"?t5=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),t5=void 0):t5=self;var fme=Mq(),hme=Lq(),lme=D$(),dme=NK(),iT=ky(),$K=iT.isObject,jK=iT.mixin,sT=iT.hasOwn,pme=HK(),Hy=UK();function mme(){}oT.exports=function(t,e){return typeof e=="function"?new Wp.Request("GET",t).end(e):arguments.length===1?new Wp.Request("GET",t):new Wp.Request(t,e)};Wp=oT.exports;var jr=Wp;Wp.Request=Vn;jr.getXHR=()=>{if(t5.XMLHttpRequest)return new t5.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};var gme="".trim?t=>t.trim():t=>t.replace(/(^\s*|\s*$)/g,"");function KK(t){if(!$K(t))return t;let e=[];for(let r in t)sT(t,r)&&nT(e,r,t[r]);return e.join("&")}function nT(t,e,r){if(r!==void 0){if(r===null){t.push(encodeURI(e));return}if(Array.isArray(r)){var n=ume(r),i;try{for(n.s();!(i=n.n()).done;){let s=i.value;nT(t,e,s)}}catch(s){n.e(s)}finally{n.f()}}else if($K(r))for(let s in r)sT(r,s)&&nT(t,`${e}[${s}]`,r[s]);else t.push(encodeURI(e)+"="+encodeURIComponent(r))}}jr.serializeObject=KK;function VK(t){let e={},r=t.split("&"),n,i;for(let s=0,o=r.length;s<o;++s)n=r[s],i=n.indexOf("="),i===-1?e[decodeURIComponent(n)]="":e[decodeURIComponent(n.slice(0,i))]=decodeURIComponent(n.slice(i+1));return e}jr.parseString=VK;jr.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};jr.serialize={"application/x-www-form-urlencoded":lme.stringify,"application/json":hme};jr.parse={"application/x-www-form-urlencoded":VK,"application/json":JSON.parse};function bme(t){let e=t.split(/\r?\n/),r={},n,i,s,o;for(let a=0,u=e.length;a<u;++a)i=e[a],n=i.indexOf(":"),n!==-1&&(s=i.slice(0,n).toLowerCase(),o=gme(i.slice(n+1)),r[s]=o);return r}function GK(t){return/[/+]json($|[^-\w])/i.test(t)}function x9(t){this.req=t,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let e=this.xhr.status;e===1223&&(e=204),this._setStatusProperties(e),this.headers=bme(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&t._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}jK(x9.prototype,pme.prototype);x9.prototype._parseBody=function(t){let e=jr.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&GK(this.type)&&(e=jr.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)};x9.prototype.toError=function(){let t=this.req,e=t.method,r=t.url,n=`cannot ${e} ${r} (${this.status})`,i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i};jr.Response=x9;function Vn(t,e){let r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",()=>{let n=null,i=null;try{i=new x9(r)}catch(o){return n=new Error("Parser is unable to parse the response"),n.parse=!0,n.original=o,r.xhr?(n.rawResponse=typeof r.xhr.responseType>"u"?r.xhr.responseText:r.xhr.response,n.status=r.xhr.status?r.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),r.callback(n)}r.emit("response",i);let s;try{r._isResponseOK(i)||(s=new Error(i.statusText||i.text||"Unsuccessful HTTP response"))}catch(o){s=o}s?(s.original=n,s.response=i,s.status=s.status||i.status,r.callback(s,i)):r.callback(null,i)})}fme(Vn.prototype);jK(Vn.prototype,dme.prototype);Vn.prototype.type=function(t){return this.set("Content-Type",jr.types[t]||t),this};Vn.prototype.accept=function(t){return this.set("Accept",jr.types[t]||t),this};Vn.prototype.auth=function(t,e,r){arguments.length===1&&(e=""),typeof e=="object"&&e!==null&&(r=e,e=""),r||(r={type:typeof btoa=="function"?"basic":"auto"});let n=r.encoder?r.encoder:i=>{if(typeof btoa=="function")return btoa(i);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,n)};Vn.prototype.query=function(t){return typeof t!="string"&&(t=KK(t)),t&&this._query.push(t),this};Vn.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this};Vn.prototype._getFormData=function(){return this._formData||(this._formData=new t5.FormData),this._formData};Vn.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();let r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)};Vn.prototype.crossDomainError=function(){let t=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)};Vn.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this};Vn.prototype.ca=Vn.prototype.agent;Vn.prototype.buffer=Vn.prototype.ca;Vn.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")};Vn.prototype.pipe=Vn.prototype.write;Vn.prototype._isHost=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&Object.prototype.toString.call(t)!=="[object Object]"};Vn.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||mme,this._finalizeQueryString(),this._end()};Vn.prototype._setUploadTimeout=function(){let t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))};Vn.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));let t=this;this.xhr=jr.getXHR();let e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.addEventListener("readystatechange",()=>{let i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),i!==4)return;let s;try{s=e.status}catch{s=0}if(!s)return t.timedout||t._aborted?void 0:t.crossDomainError();t.emit("end")});let n=(i,s)=>{s.total>0&&(s.percent=s.loaded/s.total*100,s.percent===100&&clearTimeout(t._uploadTimeoutTimer)),s.direction=i,t.emit("progress",s)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch{}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(i){return this.callback(i)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof r!="string"&&!this._isHost(r)){let i=this._header["content-type"],s=this._serializer||jr.serialize[i?i.split(";")[0]:""];!s&&GK(i)&&(s=jr.serialize["application/json"]),s&&(r=s(r))}for(let i in this.header)this.header[i]!==null&&sT(this.header,i)&&e.setRequestHeader(i,this.header[i]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(typeof r>"u"?null:r)};jr.agent=()=>new Hy;for(Fy=0,rT=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];Fy<rT.length;Fy++){let t=rT[Fy];Hy.prototype[t.toLowerCase()]=function(e,r){let n=new jr.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}}var Fy,rT;Hy.prototype.del=Hy.prototype.delete;jr.get=(t,e,r)=>{let n=jr("GET",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};jr.head=(t,e,r)=>{let n=jr("HEAD",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};jr.options=(t,e,r)=>{let n=jr("OPTIONS",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};function zK(t,e,r){let n=jr("DELETE",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}jr.del=zK;jr.delete=zK;jr.patch=(t,e,r)=>{let n=jr("PATCH",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};jr.post=(t,e,r)=>{let n=jr("POST",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};jr.put=(t,e,r)=>{let n=jr("PUT",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}});var XK=$(Sl=>{k();M();var Yp=Sl&&Sl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},yme=Sl&&Sl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sl,"__esModule",{value:!0});Sl.replayToLatest=void 0;var aT=pE(),vme=yme(Mf());function YK(t){let e=t.toASM(),r=e.lastIndexOf("OP_RETURN"),n=r===-1?t:aT.bsv.Script.fromASM(e.substring(0,r).trim());return aT.bsv.crypto.Hash.sha256(n.toBuffer()).toString("hex")}function _me(t,e){return Yp(this,void 0,void 0,function*(){let r=yield t.getTransaction(e.txId);return YK(r.outputs[e.outputIndex].script)})}function xme(t,e){return Yp(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.getNetwork()===aT.bsv.Networks.mainnet?"main":"test"}/tx/${e.txId}/${e.outputIndex}/spent`;return vme.default.get(n).then(i=>Yp(this,void 0,void 0,function*(){return{tx:yield t.getTransaction(i.body.txid),atInputIndex:i.body.vin}})).catch(i=>{if(i.response.status!==404)throw new Error(i.message)})})}function WK(t,e,r){return Yp(this,void 0,void 0,function*(){let n=yield xme(t,e);if(!n)return;let{tx:i}=n,s=i.outputs.filter(o=>YK(o.script)===r).map((o,a)=>a);if(s.length>1)throw Error("only support linear spent chain");return{spentIn:n,nextOutputIndex:s.length===1?s[0]:void 0}})}function Sme(t,e){return Yp(this,void 0,void 0,function*(){let r=yield _me(t,e),n=[],i=yield WK(t,e,r);for(;i&&i.nextOutputIndex!==void 0;)n.push(i),i=yield WK(t,{txId:i.spentIn.tx.id,outputIndex:i.nextOutputIndex},r);return n})}function wme(t,e){return Yp(this,void 0,void 0,function*(){if(!t||e.nextOutputIndex===void 0)return;let r=t.next(),{tx:n,atInputIndex:i}=e.spentIn,o=r.constructor.parseCallData(n,i),{methodName:a,args:u}=o,c=r.getOffchainUpdates();if(c){let h=c[a];h?.call(r,r,...u.map(f=>f.value))}return r.from={tx:n,outputIndex:e.nextOutputIndex},r})}function Eme(t,e){return Yp(this,void 0,void 0,function*(){let r=yield Sme(t.provider,e),n=t;for(let i of r)n=yield wme(n,i);return n})}Sl.replayToLatest=Eme});var _0=$(wl=>{k();M();var uT=wl&&wl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Tme=wl&&wl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wl,"__esModule",{value:!0});wl.Provider=void 0;var Ame=Tme(ZC()),Ime=rr(),cT=class extends Ame.default{constructor(){super(),this._isProvider=!0}_initializeConnection(){new Promise((e,r)=>{setTimeout(()=>{this.connect().then(n=>{e(n)},n=>{r(n)})},0)})}_ready(){return uT(this,void 0,void 0,function*(){if(!this.isConnected())try{yield this.connect()}catch(e){throw e}})}getEstimateFee(e){return uT(this,void 0,void 0,function*(){let r=new Ime.bsv.Transaction(e.uncheckedSerialize());return r.feePerKb(yield this.getFeePerKb()),r.getEstimateFee()})}sendTransaction(e){return uT(this,void 0,void 0,function*(){let r=e.serialize({disableIsFullySigned:!0}),n=yield this.getFeePerKb(),i=Math.ceil(r.length/2/1e3*n);if(e._inputAmount=void 0,e.getUnspentValue()<i)throw new Error("invalid fee, fee too low.");if(e.getUnspentValue()>i*3)throw new Error("invalid fee, fee too high.");return this.sendRawTransaction(r)})}static isProvider(e){return!!(e&&e._isProvider)}};wl.Provider=cT});var S9=$(El=>{k();M();var Dy=El&&El.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Pme=El&&El.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(El,"__esModule",{value:!0});El.WhatsonchainProvider=void 0;var Ly=rr(),Ome=_0(),Uy=Pme(Mf()),Bme=du(),fT=class extends Ome.Provider{constructor(e){super(),this._isConnected=!1,this._network=e,this._initializeConnection()}get apiPrefix(){return`https://api.whatsonchain.com/v1/bsv/${this._network.name===Ly.bsv.Networks.mainnet.name?"main":"test"}`}isConnected(){return this._isConnected}connect(){var e;return Dy(this,void 0,void 0,function*(){try{let r=yield Uy.default.get(`${this.apiPrefix}/woc`).timeout(3e3);if(r.ok&&r.text==="Whats On Chain")this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){return Dy(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{return(yield Uy.default.post(`${this.apiPrefix}/tx/raw`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").send({txhex:e})).body}catch(i){if(i.response&&i.response.text){if(Cme(i.response.text))return new Ly.bsv.Transaction(e).id;throw new Error(`WhatsonchainProvider ERROR: ${kme(i.response.text)}`)}throw new Error(`WhatsonchainProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return Dy(this,void 0,void 0,function*(){yield this._ready();let i=(yield Uy.default.get(`${this.apiPrefix}/address/${e}/unspent`)).body.map(s=>({txId:s.tx_hash,outputIndex:s.tx_pos,satoshis:s.value,script:Ly.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,Bme.filterUTXO)(i,r):i})}getBalance(e){return this.listUnspent(e).then(r=>({confirmed:r.reduce((n,i)=>(n+=i.satoshis,n),0),unconfirmed:0}))}getTransaction(e){return Dy(this,void 0,void 0,function*(){return yield this._ready(),Uy.default.get(`${this.apiPrefix}/tx/${e}/hex`).then(r=>{if(r.ok)return new Ly.bsv.Transaction(r.text);throw r.error?r.error:`getTransaction error ${e}`})})}getFeePerKb(){return Promise.resolve(1)}};El.WhatsonchainProvider=fT;function Cme(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}function kme(t){return t.includes("bad-txns-vin-empty")?"Transaction is missing inputs.":t.includes("bad-txns-vout-empty")?"Transaction is missing outputs.":t.includes("bad-txns-oversize")?"Transaction is too large.":t.includes("bad-txns-vout-negative")?"Transaction output value is negative.":t.includes("bad-txns-vout-toolarge")?"Transaction outputut value is too large.":t.includes("bad-txns-txouttotal-toolarge")?"Transaction total outputut value is too large.":t.includes("bad-txns-prevout-null")?"Transaction inputs previous TX reference is null.":t.includes("bad-txns-inputs-duplicate")?"Transaction contains duplicate inputs.":t.includes("bad-txns-inputs-too-large")?"Transaction inputs too large.":t.includes("bad-txns-fee-negative")?"Transaction network fee is negative.":t.includes("bad-txns-fee-outofrange")?"Transaction network fee is out of range.":t.includes("mandatory-script-verify-flag-failed")?"Script evaluation failed.":t}});var lT=$(r5=>{k();M();var w9=r5&&r5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(r5,"__esModule",{value:!0});r5.SensibleProvider=void 0;var qy=rr(),Mme=_0(),E9=Mf(),Rme=du(),hT=class extends Mme.Provider{constructor(e,r){super(),this.network=e,this.apiKey=r,this._isConnected=!1,this._initializeConnection()}get apiEndpoint(){return this.network.name===qy.bsv.Networks.mainnet.name?"https://api.sensiblequery.com":"https://api.sensiblequery.com/test/"}isConnected(){return this._isConnected}connect(){var e;return w9(this,void 0,void 0,function*(){try{let r=yield(0,E9.get)(this.apiEndpoint).set("Authorization",`Bearer ${this.apiKey}`).timeout(3e3);if(r.ok&&r.body.code===0)this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}sendRawTransaction(e){return w9(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{let i=yield(0,E9.post)(`${this.apiEndpoint}/pushtx`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").set("Authorization",`Bearer ${this.apiKey}`).send({txhex:e});if(console.log("SensibleProvider",i.body),i.ok&&i.body.code===0)return i.body.data;if(typeof i.text=="string"&&i.text.includes("service is restricted"))throw new Error("According to your IP and nationality, you are in a country/region where our service is restricted.");if(typeof i.text=="string"&&Nme(i.text))return new qy.bsv.Transaction(e).id;throw new Error(`${i.body.msg?i.body.msg:i.text}`)}catch(i){throw new Error(`SensibleProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return w9(this,void 0,void 0,function*(){if(yield this._ready(),Array.isArray(e))throw new Error("SensibleProvider ERROR: only support list one address");let n=yield(0,E9.get)(`${this.apiEndpoint}/address/${e}/utxo`).set("Authorization",`Bearer ${this.apiKey}`);if(n.ok&&n.body.code===0){let i=n.body.data.map(s=>({txId:s.txid,outputIndex:s.vout,satoshis:s.satoshi,script:qy.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,Rme.filterUTXO)(i,r):i}throw new Error(`SensibleProvider ERROR: ${n.body.msg}`)})}getBalance(e){return w9(this,void 0,void 0,function*(){yield this._ready();let r=yield(0,E9.get)(`${this.apiEndpoint}/address/${e}/balance`).set("Authorization",`Bearer ${this.apiKey}`);if(r.body.code===0)return{confirmed:r.body.data.satoshi,unconfirmed:r.body.data.pendingSatoshi};throw new Error(`SensibleProvider ERROR: ${r.body.msg}`)})}getTransaction(e){return w9(this,void 0,void 0,function*(){return yield this._ready(),(0,E9.get)(`${this.apiEndpoint}/rawtx/${e}`).set("Authorization",`Bearer ${this.apiKey}`).set("Content-Type","application/json").set("Accept","application/json").then(r=>{if(r.ok&&r.body.code===0)return new qy.bsv.Transaction(r.body.data);throw r.error?r.error:new Error(`SensibleProvider ERROR: ${r.body.msg}`)})})}getFeePerKb(){return Promise.resolve(1)}};r5.SensibleProvider=hT;function Nme(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}});var pT=$(n5=>{k();M();var T9=n5&&n5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(n5,"__esModule",{value:!0});n5.GorillapoolProvider=void 0;var Fme=rr(),Hme=_0(),Dme=S9(),ZK=Mf(),dT=class extends Hme.Provider{constructor(e,r){super(),this.apiKey=r,this._feePerKb=-1,this._network=e,this._mapiURL=e==Fme.bsv.Networks.mainnet?"https://mapi.gorillapool.io/mapi/":"https://testnet-mapi.gorillapool.io/mapi/",this._provider=new Dme.WhatsonchainProvider(e)}isConnected(){return this._provider.isConnected()}connect(){return T9(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return T9(this,void 0,void 0,function*(){let s=Math.max(1,e.length/2/1024),o=Math.max(1e4,1e3*s);try{let a=(0,ZK.post)(this._mapiURL+"tx").timeout({response:o,deadline:6e4}).set("Content-Type","application/octet-stream");this.apiKey&&a.set("Authorization",`Bearer ${this.apiKey}`);let u=yield a.send(A.Buffer.from(e,"hex")),c=JSON.parse(u.body.payload);if(c.returnResult==="success")return c.txid;if(c.returnResult==="failure")throw new Error(c.resultDescription)}catch(a){throw((r=a.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=a.response)===null||n===void 0?void 0:n.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((i=a.response)===null||i===void 0?void 0:i.body)}`):new Error(`GorillapoolProvider ERROR: ${a.message}`)}})}listUnspent(e,r){return T9(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return T9(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return T9(this,void 0,void 0,function*(){try{let i=(0,ZK.get)(this._mapiURL+"feeQuote").timeout({response:5e3,deadline:1e4});this.apiKey&&i.set("Authorization",`Bearer ${this.apiKey}`);let s=yield i;JSON.parse(s.body.payload).fees.forEach(a=>{a.feeType=="standard"&&(this._feePerKb=a.miningFee.satoshis*1e3/a.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`GorillapoolProvider ERROR: ${i.message}`)}})}};n5.GorillapoolProvider=dT});var bT=$(i5=>{k();M();var A9=i5&&i5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(i5,"__esModule",{value:!0});i5.TaalProvider=void 0;var mT=rr(),Lme=_0(),Ume=S9(),JK=Mf(),gT=class extends Lme.Provider{constructor(e="testnet_4df8757e4c289af199f69ad759be31b4"){super(),this.apiKey=e,this._network=mT.bsv.Networks.testnet,this._feePerKb=-1,this.apiKey.startsWith("testnet_")?this._network=mT.bsv.Networks.testnet:this._network=mT.bsv.Networks.mainnet,this._provider=new Ume.WhatsonchainProvider(this._network),this._initializeConnection()}get apiPrefix(){return"https://api.taal.com/api/v1/broadcast"}isConnected(){return this._provider.isConnected()}connect(){return A9(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return A9(this,void 0,void 0,function*(){yield this._ready();let s=Math.max(1,e.length/2/1024),o=Math.max(1e4,1e3*s);try{return(yield(0,JK.post)("https://api.taal.com/api/v1/broadcast").timeout({response:o,deadline:6e4}).set("Content-Type","application/octet-stream").set("Authorization",this.apiKey).send(A.Buffer.from(e,"hex"))).text}catch(a){throw((r=a.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=a.response)===null||n===void 0?void 0:n.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((i=a.response)===null||i===void 0?void 0:i.body)}`):new Error(`TaalProvider ERROR: ${a.message}`)}})}listUnspent(e,r){return A9(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return A9(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return A9(this,void 0,void 0,function*(){try{let i=yield(0,JK.get)("https://api.taal.com/mapi/feeQuote").timeout({response:5e3,deadline:1e4}).set("Authorization",this.apiKey);JSON.parse(i.body.payload).fees.forEach(o=>{o.feeType=="standard"&&(this._feePerKb=o.miningFee.satoshis*1e3/o.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`TaalProvider ERROR: ${i.message}`)}})}};i5.TaalProvider=gT});var tV=$(o5=>{k();M();var s5=o5&&o5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(o5,"__esModule",{value:!0});o5.FallbackProvider=void 0;var yT=_0(),QK={stallTimeout:400,priority:1,weight:1};function I9(t){if(t==null||t instanceof Error)return"null";if(Array.isArray(t))return"["+t.map(I9).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return I9(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${I9(t[r])}`).join(",")+"}"}}throw new Error(`Could not serialize ${t}`)}function eV(t){if("error"in t){let r=t.error;return{tag:I9(r),value:r}}let e=t.result;return{tag:I9(e),value:e}}function qme(t,e){let r=new Map;for(let{value:i,tag:s,weight:o}of e){let a=r.get(s)||{value:i,weight:0};a.weight+=o,r.set(s,a)}let n=null;if(r.forEach((i,s)=>{i.weight>=t&&(!n||i.weight>n.weight)&&(n=i)}),n)return n.value}function $me(t,e){let r=qme(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}var vT=class extends yT.Provider{constructor(e){if(super(),this.configs=e.map(n=>n instanceof yT.Provider?Object.assign({provider:n},QK):Object.assign({},QK,n)).sort((n,i)=>i.priority-n.priority),this.configs.length===0)throw new Error("No providers passed when initializing a FallbackProvider");let r=this.configs[0].provider.getNetwork();if(!this.configs.every(n=>n.provider.getNetwork()===r))throw new Error("All the providers passed should have the same network when initializing a FallbackProvider");if(this.quorum=2,this.quorum>this.configs.reduce((n,i)=>n+i.weight,0))throw new Error("quorum exceed provider wieght")}isConnected(){let e=!1;return this.configs.forEach(r=>{e=e||r.provider.isConnected()}),e}connect(){return s5(this,void 0,void 0,function*(){return yield this._getBestProviderResult(e=>e.connect()),Promise.resolve(this)})}updateNetwork(e){this.configs.forEach(r=>r.provider.updateNetwork(e))}getNetwork(){return this.configs[0].provider.getNetwork()}getFeePerKb(){return this._getBestProviderResult(e=>e.getFeePerKb())}sendRawTransaction(e){return this.perform("sendRawTransaction",r=>r.sendRawTransaction(e))}getTransaction(e){return this.perform("getTransaction",r=>r.getTransaction(e))}listUnspent(e,r){return this.perform("listUnspent",n=>n.listUnspent(e,r))}getBalance(e){return this.perform("getBalance",r=>r.getBalance(e))}_getBestProviderResult(e){return s5(this,void 0,void 0,function*(){let r=yield Promise.all(this.configs.map(({provider:i,weight:s})=>s5(this,void 0,void 0,function*(){try{let o=yield e(i);return Object.assign(eV({result:o}),{weight:s})}catch{return Object.assign(eV({result:50}),{weight:s})}}))),n=$me(this.quorum,r);if(n instanceof Error)throw n;return n})}_getFastProviderResult(e){return s5(this,void 0,void 0,function*(){return yield new Promise((n,i)=>{let s=0;this.configs.forEach(({provider:o,weight:a})=>s5(this,void 0,void 0,function*(){try{let u=yield e(o);n(u instanceof yT.Provider?this:u)}catch(u){s++,s>=this.configs.length&&n(u)}}))})})}perform(e,r){return s5(this,void 0,void 0,function*(){let n=yield this._getFastProviderResult(r);if(n instanceof Error)throw n;return n})}};o5.FallbackProvider=vT});var iV=$(a5=>{k();M();var jme=a5&&a5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(a5,"__esModule",{value:!0});a5.DefaultProvider=void 0;var _T=rr(),Kme=_0(),Vme=pT(),Gme=tV(),zme=lT(),Wme=bT(),rV=S9();function nV(t){return t==_T.bsv.Networks.testnet}var xT=class extends Kme.Provider{constructor(e){super(),this._providers=[],e=e||{network:_T.bsv.Networks.livenet};let r=e.network||_T.bsv.Networks.livenet;this._providers.push(new rV.WhatsonchainProvider(r)),(e.taal||nV(r))&&this._providers.push(new Wme.TaalProvider(e.taal)),(e.gorillapool||nV(r))&&this._providers.push(new Vme.GorillapoolProvider(r,e.gorillapool)),e.sensible&&this._providers.push(new zme.SensibleProvider(r,e.sensible)),this._providers.length===0&&this._providers.push(new rV.WhatsonchainProvider(r))}get bestProvider(){return this._providers.length===1?"provider"in this._providers[0]?this._providers[0].provider:this._providers[0]:new Gme.FallbackProvider(this._providers)}isConnected(){return this.bestProvider.isConnected()}connect(){return jme(this,void 0,void 0,function*(){return yield this.bestProvider.connect(),this})}updateNetwork(e){this.bestProvider.updateNetwork(e)}getNetwork(){return this.bestProvider.getNetwork()}getFeePerKb(){return this.bestProvider.getFeePerKb()}sendRawTransaction(e){return this.bestProvider.sendRawTransaction(e)}getTransaction(e){return this.bestProvider.getTransaction(e)}listUnspent(e,r){return this.bestProvider.listUnspent(e,r)}getBalance(e){return this.bestProvider.getBalance(e)}};a5.DefaultProvider=xT});var oV=$($y=>{k();M();Object.defineProperty($y,"__esModule",{value:!0});$y.DummyProvider=void 0;var ST=rr(),Yme=_0(),sV=ff(),Xme=du(),wT=class extends Yme.Provider{constructor(e){super(),this.satoshisArray=e}isConnected(){return!0}connect(){return Promise.resolve(this)}updateNetwork(e){}getNetwork(){return ST.bsv.Networks.testnet}getFeePerKb(){return Promise.resolve(1)}sendRawTransaction(e){return Promise.resolve(e)}getTransaction(e){throw new Error("Method not implemented.")}listUnspent(e,r){if(this.satoshisArray){let n=this.satoshisArray.map(i=>({txId:(0,sV.randomBytes)(32).toString("hex"),outputIndex:0,script:ST.bsv.Script.fromAddress(e).toHex(),satoshis:i}));return r?Promise.resolve((0,Xme.filterUTXO)(n,r)):Promise.resolve(n)}return Promise.resolve([{txId:(0,sV.randomBytes)(32).toString("hex"),outputIndex:0,script:ST.bsv.Script.fromAddress(e).toHex(),satoshis:9999999999}])}getBalance(e){throw new Error("Method not implemented.")}};$y.DummyProvider=wT});var aV=$(jy=>{k();M();Object.defineProperty(jy,"__esModule",{value:!0});jy.GetTransactionAction=void 0;var Zme=rr(),ET=class{constructor(){this.method="GET",this.pathPattern="/tx/:txId"}serilizeRequest(e){return e}deserilizeResponse(e,r){return new Zme.bsv.Transaction(e.txHex)}};jy.GetTransactionAction=ET});var uV=$(Ky=>{k();M();Object.defineProperty(Ky,"__esModule",{value:!0});Ky.GetBalanceAction=void 0;var TT=class{constructor(){this.method="GET",this.pathPattern="/address/:address/balance"}serilizeRequest(e){return{address:e.address.toString()}}deserilizeResponse(e,r){return e}};Ky.GetBalanceAction=TT});var cV=$(Vy=>{k();M();Object.defineProperty(Vy,"__esModule",{value:!0});Vy.SendRawTransactionAction=void 0;var AT=class{constructor(){this.method="POST",this.pathPattern="/tx"}serilizeRequest(e){return e}deserilizeResponse(e,r){return e.txId}};Vy.SendRawTransactionAction=AT});var fV=$(Gy=>{k();M();Object.defineProperty(Gy,"__esModule",{value:!0});Gy.ListUnspentAction=void 0;var Jme=du(),IT=class{constructor(){this.method="GET",this.pathPattern="/address/:address/utxo"}serilizeRequest(e){return{address:e.address.toString(),options:e.options}}deserilizeResponse(e,r){let n=r.address.toString();e.forEach(s=>(s.address=n,s));let i=r.options;return i?(0,Jme.filterUTXO)(e,i):e}};Gy.ListUnspentAction=IT});var hV=$(zy=>{k();M();Object.defineProperty(zy,"__esModule",{value:!0});zy.GetFeePerKBAction=void 0;var PT=class{constructor(){this.method="GET",this.pathPattern="/feeperkb"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return e.satoshis}};zy.GetFeePerKBAction=PT});var lV=$(Wy=>{k();M();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.ConnectAction=void 0;var OT=class{constructor(){this.method="GET",this.pathPattern="/health"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return{success:e.status==="ok",error:""}}};Wy.ConnectAction=OT});var CT=$(c5=>{k();M();var u5=c5&&c5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(c5,"__esModule",{value:!0});c5.BsvApi=void 0;var Qme=aV(),ege=uV(),tge=cV(),rge=fV(),nge=hV(),ige=lV(),BT=class{constructor(e){this._core=e}getTransaction(e){return u5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new Qme.GetTransactionAction,{txId:e})})}getBalance(e){return u5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new ege.GetBalanceAction,{address:e})})}getFeePerKB(){return u5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new nge.GetFeePerKBAction,{})})}connect(){return u5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new ige.ConnectAction,{})})}sendRawTransaction(e){return u5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new tge.SendRawTransactionAction,{txHex:e})})}listUnspent(e,r){return u5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new rge.ListUnspentAction,{address:e,options:r})})}};c5.BsvApi=BT});var dV=$(Yy=>{k();M();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.GetLatestInstanceAction=void 0;var kT=class{constructor(){this.method="GET",this.pathPattern="/contract/:txId/:outputIndex/utxo"}serilizeRequest(e){let{contractId:r}=e;return r}deserilizeResponse(e,r){if(e.length===0)throw new Error("The utxo related to the contract was not found, please check whether the contract artifact has been uploaded.");let n=r.clazz.fromLockingScript(e[0].script);return n.from=e[0],n}};Yy.GetLatestInstanceAction=kT});var mV=$(Xy=>{k();M();Object.defineProperty(Xy,"__esModule",{value:!0});Xy.SyncHashedPropsAction=void 0;var sge=K6(),MT=Vw(),pV=dl(),RT=class{constructor(){this.method="POST",this.pathPattern="/contract/syncHashedProps?txId=:txId&outputIndex=:outputIndex"}serilizeRequest(e){let r=e.instance,n=(Reflect.getMetadata(sge.PropsMetaKey,r)||[]).filter(s=>r[s]instanceof MT.HashedMap||r[s]instanceof pV.HashedSet).map(s=>{let o=r[s],a;return(r[s]instanceof MT.HashedMap||r[s]instanceof pV.HashedSet)&&(o=Array.from(r[s].entries()),a=r[s]._type),{name:s,type:r[s]instanceof MT.HashedMap?"HashedMap":"HashedSet",value:o}}),i=r.utxo;return{txId:i.txId,outputIndex:i.outputIndex,props:n}}deserilizeResponse(e,r){}};Xy.SyncHashedPropsAction=RT});var bV=$(Tl=>{k();M();var oge=Tl&&Tl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},age=Tl&&Tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getTransaction=void 0;var uge=age(Mf()),gV=rr();function cge(t,e){return oge(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.name===gV.bsv.Networks.mainnet.name?"main":"test"}`;return(0,uge.default)("GET",`${n}/tx/${e}/hex`).timeout(2e5).retry(2).then(i=>{if(i.ok)return new gV.bsv.Transaction(i.text);throw i.error?i.error:`getTransaction error ${e}`})})}Tl.getTransaction=cge});var Zy=$(Al=>{k();M();Object.defineProperty(Al,"__esModule",{value:!0});Al.ERROR_PACKET=Al.PACKET_TYPES_REVERSE=Al.PACKET_TYPES=void 0;var x0=Object.create(null);Al.PACKET_TYPES=x0;x0.open="0";x0.close="1";x0.ping="2";x0.pong="3";x0.message="4";x0.upgrade="5";x0.noop="6";var yV=Object.create(null);Al.PACKET_TYPES_REVERSE=yV;Object.keys(x0).forEach(t=>{yV[x0[t]]=t});var fge={type:"error",data:"parser error"};Al.ERROR_PACKET=fge});var TV=$(P9=>{k();M();Object.defineProperty(P9,"__esModule",{value:!0});P9.encodePacket=void 0;P9.encodePacketToBinary=lge;var hge=Zy(),xV=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",SV=typeof ArrayBuffer=="function",wV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,EV=({type:t,data:e},r,n)=>xV&&e instanceof Blob?r?n(e):vV(e,n):SV&&(e instanceof ArrayBuffer||wV(e))?r?n(e):vV(new Blob([e]),n):n(hge.PACKET_TYPES[t]+(e||""));P9.encodePacket=EV;var vV=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function _V(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var NT;function lge(t,e){if(xV&&t.data instanceof Blob)return t.data.arrayBuffer().then(_V).then(e);if(SV&&(t.data instanceof ArrayBuffer||wV(t.data)))return e(_V(t.data));EV(t,!1,r=>{NT||(NT=new TextEncoder),e(NT.encode(r))})}});var AV=$(h5=>{k();M();Object.defineProperty(h5,"__esModule",{value:!0});h5.decode=h5.encode=void 0;var f5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<f5.length;t++)O9[f5.charCodeAt(t)]=t;var dge=t=>{let e=new Uint8Array(t),r,n=e.length,i="";for(r=0;r<n;r+=3)i+=f5[e[r]>>2],i+=f5[(e[r]&3)<<4|e[r+1]>>4],i+=f5[(e[r+1]&15)<<2|e[r+2]>>6],i+=f5[e[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};h5.encode=dge;var pge=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let c=new ArrayBuffer(e),h=new Uint8Array(c);for(n=0;n<r;n+=4)s=O9[t.charCodeAt(n)],o=O9[t.charCodeAt(n+1)],a=O9[t.charCodeAt(n+2)],u=O9[t.charCodeAt(n+3)],h[i++]=s<<2|o>>4,h[i++]=(o&15)<<4|a>>2,h[i++]=(a&3)<<6|u&63;return c};h5.decode=pge});var PV=$(Qy=>{k();M();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.decodePacket=void 0;var Jy=Zy(),mge=AV(),gge=typeof ArrayBuffer=="function",bge=(t,e)=>{if(typeof t!="string")return{type:"message",data:IV(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:yge(t.substring(1),e)}:Jy.PACKET_TYPES_REVERSE[r]?t.length>1?{type:Jy.PACKET_TYPES_REVERSE[r],data:t.substring(1)}:{type:Jy.PACKET_TYPES_REVERSE[r]}:Jy.ERROR_PACKET};Qy.decodePacket=bge;var yge=(t,e)=>{if(gge){let r=(0,mge.decode)(t);return IV(r,e)}else return{base64:!0,data:t}},IV=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});var l5=$(ea=>{k();M();Object.defineProperty(ea,"__esModule",{value:!0});ea.decodePayload=ea.decodePacket=ea.encodePayload=ea.encodePacket=ea.protocol=void 0;ea.createPacketEncoderStream=xge;ea.createPacketDecoderStream=Sge;var HT=TV();Object.defineProperty(ea,"encodePacket",{enumerable:!0,get:function(){return HT.encodePacket}});var DT=PV();Object.defineProperty(ea,"decodePacket",{enumerable:!0,get:function(){return DT.decodePacket}});var OV=Zy(),BV=String.fromCharCode(30),vge=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((s,o)=>{(0,HT.encodePacket)(s,!1,a=>{n[o]=a,++i===r&&e(n.join(BV))})})};ea.encodePayload=vge;var _ge=(t,e)=>{let r=t.split(BV),n=[];for(let i=0;i<r.length;i++){let s=(0,DT.decodePacket)(r[i],e);if(n.push(s),s.type==="error")break}return n};ea.decodePayload=_ge;function xge(){return new TransformStream({transform(t,e){(0,HT.encodePacketToBinary)(t,r=>{let n=r.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}var FT;function e4(t){return t.reduce((e,r)=>e+r.length,0)}function t4(t,e){if(t[0].length===e)return t.shift();let r=new Uint8Array(e),n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Sge(t,e){FT||(FT=new TextDecoder);let r=[],n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(e4(r)<1)break;let u=t4(r,1);s=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(e4(r)<2)break;let u=t4(r,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(e4(r)<8)break;let u=t4(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),h=c.getUint32(0);if(h>Math.pow(2,53-32)-1){a.enqueue(OV.ERROR_PACKET);break}i=h*Math.pow(2,32)+c.getUint32(4),n=3}else{if(e4(r)<i)break;let u=t4(r,i);a.enqueue((0,DT.decodePacket)(s?u:FT.decode(u),e)),n=0}if(i===0||i>t){a.enqueue(OV.ERROR_PACKET);break}}}})}ea.protocol=4});var Xp=$(CV=>{k();M();CV.Emitter=go;function go(t){if(t)return wge(t)}function wge(t){for(var e in go.prototype)t[e]=go.prototype[e];return t}go.prototype.on=go.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};go.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};go.prototype.off=go.prototype.removeListener=go.prototype.removeAllListeners=go.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};go.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};go.prototype.emitReserved=go.prototype.emit;go.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};go.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Zp=$(Rf=>{k();M();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.defaultBinaryType=Rf.globalThisShim=Rf.nextTick=void 0;Rf.createCookieJar=Ege;Rf.nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))();Rf.globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();Rf.defaultBinaryType="arraybuffer";function Ege(){}});var Jp=$(d5=>{k();M();Object.defineProperty(d5,"__esModule",{value:!0});d5.pick=Tge;d5.installTimerFunctions=Pge;d5.byteLength=Bge;d5.randomString=kge;var Il=Zp();function Tge(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}var Age=Il.globalThisShim.setTimeout,Ige=Il.globalThisShim.clearTimeout;function Pge(t,e){e.useNativeTimers?(t.setTimeoutFn=Age.bind(Il.globalThisShim),t.clearTimeoutFn=Ige.bind(Il.globalThisShim)):(t.setTimeoutFn=Il.globalThisShim.setTimeout.bind(Il.globalThisShim),t.clearTimeoutFn=Il.globalThisShim.clearTimeout.bind(Il.globalThisShim))}var Oge=1.33;function Bge(t){return typeof t=="string"?Cge(t):Math.ceil((t.byteLength||t.size)*Oge)}function Cge(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function kge(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}});var LT=$(r4=>{k();M();Object.defineProperty(r4,"__esModule",{value:!0});r4.encode=Mge;r4.decode=Rge;function Mge(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Rge(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}});var B9=$(Pl=>{k();M();var Nge=Pl&&Pl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.Transport=Pl.TransportError=void 0;var Fge=l5(),Hge=Xp(),Dge=Jp(),Lge=LT(),Uge=Nge(rc()),qge=(0,Uge.default)("engine.io-client:transport"),n4=class extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}};Pl.TransportError=n4;var UT=class extends Hge.Emitter{constructor(e){super(),this.writable=!1,(0,Dge.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new n4(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):qge("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let r=(0,Fge.decodePacket)(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let r=(0,Lge.encode)(e);return r.length?"?"+r:""}};Pl.Transport=UT});var $T=$(p5=>{k();M();var $ge=p5&&p5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p5,"__esModule",{value:!0});p5.Polling=void 0;var jge=B9(),Kge=Jp(),kV=l5(),Vge=$ge(rc()),fc=(0,Vge.default)("engine.io-client:polling"),qT=class extends jge.Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let r=()=>{fc("paused"),this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(fc("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){fc("pre-pause polling complete"),--n||r()})),this.writable||(fc("we are currently writing - waiting to pause"),n++,this.once("drain",function(){fc("pre-pause writing complete"),--n||r()}))}else r()}_poll(){fc("polling"),this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){fc("polling got data %s",e);let r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};(0,kV.decodePayload)(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this._poll():fc('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{fc("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(fc("transport open - closing"),e()):(fc("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,kV.encodePayload)(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=(0,Kge.randomString)()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}};p5.Polling=qT});var RV=$(i4=>{k();M();Object.defineProperty(i4,"__esModule",{value:!0});i4.hasCORS=void 0;var MV=!1;try{MV=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}i4.hasCORS=MV});var o4=$(S0=>{k();M();var Gge=S0&&S0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S0,"__esModule",{value:!0});S0.XHR=S0.Request=S0.BaseXHR=void 0;var zge=$T(),Wge=Xp(),NV=Jp(),HV=Zp(),Yge=RV(),Xge=Gge(rc()),jT=(0,Xge.default)("engine.io-client:polling");function Zge(){}var s4=class extends zge.Polling{constructor(e){if(super(e),typeof location<"u"){let r=location.protocol==="https:",n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){let n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){jT("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}};S0.BaseXHR=s4;var xa=class extends Wge.Emitter{constructor(e,r,n){super(),this.createRequest=e,(0,NV.installTimerFunctions)(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;let r=(0,NV.pick)(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let n=this._xhr=this.createRequest(r);try{jT("xhr open %s: %s",this._method,this._uri),n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},jT("xhr data %s",this._data),n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=xa.requestsCount++,xa.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Zge,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xa.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};S0.Request=xa;xa.requestsCount=0;xa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",FV);else if(typeof addEventListener=="function"){let t="onpagehide"in HV.globalThisShim?"pagehide":"unload";addEventListener(t,FV,!1)}}function FV(){for(let t in xa.requests)xa.requests.hasOwnProperty(t)&&xa.requests[t].abort()}var Jge=function(){let t=DV({xdomain:!1});return t&&t.responseType!==null}(),KT=class extends s4{constructor(e){super(e);let r=e&&e.forceBase64;this.supportsBinary=Jge&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new xa(DV,this.uri(),e)}};S0.XHR=KT;function DV(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Yge.hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new HV.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}});var u4=$(Ol=>{k();M();var Qge=Ol&&Ol.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.WS=Ol.BaseWS=void 0;var ebe=B9(),LV=Jp(),tbe=l5(),GT=Zp(),rbe=Qge(rc()),nbe=(0,rbe.default)("engine.io-client:websocket"),UV=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",a4=class extends ebe.Transport{get name(){return"websocket"}doOpen(){let e=this.uri(),r=this.opts.protocols,n=UV?{}:(0,LV.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;(0,tbe.encodePacket)(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{nbe("websocket closed before onclose event")}i&&(0,GT.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=(0,LV.randomString)()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}};Ol.BaseWS=a4;var VT=GT.globalThisShim.WebSocket||GT.globalThisShim.MozWebSocket,zT=class extends a4{createSocket(e,r,n){return UV?new VT(e,r,n):r?new VT(e,r):new VT(e)}doWrite(e,r){this.ws.send(r)}};Ol.WS=zT});var YT=$(m5=>{k();M();var ibe=m5&&m5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m5,"__esModule",{value:!0});m5.WT=void 0;var sbe=B9(),obe=Zp(),qV=l5(),abe=ibe(rc()),C9=(0,abe.default)("engine.io-client:webtransport"),WT=class extends sbe.Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{C9("transport closed gracefully"),this.onClose()}).catch(e=>{C9("transport closed due to %s",e),this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let r=(0,qV.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=(0,qV.createPacketEncoderStream)();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let s=()=>{n.read().then(({done:a,value:u})=>{if(a){C9("session is closed");return}C9("received chunk: %o",u),this.onPacket(u),s()}).catch(a=>{C9("an error occurred while reading: %s",a)})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&(0,obe.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};m5.WT=WT});var XT=$(c4=>{k();M();Object.defineProperty(c4,"__esModule",{value:!0});c4.transports=void 0;var ube=o4(),cbe=u4(),fbe=YT();c4.transports={websocket:cbe.WS,webtransport:fbe.WT,polling:ube.XHR}});var JT=$(ZT=>{k();M();Object.defineProperty(ZT,"__esModule",{value:!0});ZT.parse=dbe;var hbe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lbe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dbe(t){if(t.length>8e3)throw"URI too long";let e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=hbe.exec(t||""),s={},o=14;for(;o--;)s[lbe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=pbe(s,s.path),s.queryKey=mbe(s,s.query),s}function pbe(t,e){let r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function mbe(t,e){let r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}});var rA=$(w0=>{k();M();var gbe=w0&&w0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(w0,"__esModule",{value:!0});w0.Socket=w0.SocketWithUpgrade=w0.SocketWithoutUpgrade=void 0;var bbe=XT(),$V=Jp(),ybe=LT(),jV=JT(),vbe=Xp(),KV=l5(),QT=Zp(),_be=gbe(rc()),en=(0,_be.default)("engine.io-client:socket"),eA=typeof addEventListener=="function"&&typeof removeEventListener=="function",k9=[];eA&&addEventListener("offline",()=>{en("closing %d connection(s) because the network was lost",k9.length),k9.forEach(t=>t())},!1);var hc=class extends vbe.Emitter{constructor(e,r){if(super(),this.binaryType=QT.defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){let n=(0,jV.parse)(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=(0,jV.parse)(r.host).host);(0,$V.installTimerFunctions)(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{let i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(0,ybe.decode)(this.opts.query)),eA&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(en("adding listener for the 'offline' event"),this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},k9.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=(0,QT.createCookieJar)()),this._open()}createTransport(e){en('creating transport "%s"',e);let r=Object.assign({},this.opts.query);r.EIO=KV.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return en("options: %j",n),new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&hc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){en("setting transport %s",e.name),this.transport&&(en("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){en("socket open"),this.readyState="open",hc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(en('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else en('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();en("flushing %d packets in socket",e.length),this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(r+=(0,$V.byteLength)(i)),n>0&&r>this._maxPayload)return en("only send %d out of %d packets",n,this.writeBuffer.length),this.writeBuffer.slice(0,n);r+=2}return en("payload size is %d (max: %d)",r,this._maxPayload),this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(en("throttled timer detected, scheduling connection close"),this._pingTimeoutTime=0,(0,QT.nextTick)(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this._onClose("forced close"),en("socket closing - telling transport to close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(en("socket error %j",e),hc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return en("trying next transport"),this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(en('socket close with reason: "%s"',e),this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),eA&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let n=k9.indexOf(this._offlineEventListener);n!==-1&&(en("removing listener for the 'offline' event"),k9.splice(n,1))}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}};w0.SocketWithoutUpgrade=hc;hc.protocol=KV.protocol;var f4=class extends hc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade){en("starting upgrade probes");for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}}_probe(e){en('probing transport "%s"',e);let r=this.createTransport(e),n=!1;hc.priorWebsocketSuccess=!1;let i=()=>{n||(en('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(en('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;hc.priorWebsocketSuccess=r.name==="websocket",en('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(en("changing transport and sending upgrade packet"),h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{en('probe transport "%s" failed',e);let p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function s(){n||(n=!0,h(),r.close(),r=null)}let o=f=>{let p=new Error("probe error: "+f);p.transport=r.name,s(),en('probe transport "%s" failed because of error: %s',e,f),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function u(){o("socket closed")}function c(f){r&&f.name!==r.name&&(en('"%s" works - aborting "%s"',f.name,r.name),s())}let h=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",u),this.off("upgrading",c)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};w0.SocketWithUpgrade=f4;var tA=class extends f4{constructor(e,r={}){let n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>bbe.transports[i]).filter(i=>!!i)),super(e,n)}};w0.Socket=tA});var VV=$(h4=>{k();M();Object.defineProperty(h4,"__esModule",{value:!0});h4.Fetch=void 0;var xbe=$T(),nA=class extends xbe.Polling{doPoll(){this._fetch().then(e=>{if(!e.ok)return this.onError("fetch read error",e.status,e);e.text().then(r=>this.onData(r))}).catch(e=>{this.onError("fetch read error",e)})}doWrite(e,r){this._fetch(e).then(n=>{if(!n.ok)return this.onError("fetch write error",n.status,n);r()}).catch(n=>{this.onError("fetch write error",n)})}_fetch(e){var r;let n=e!==void 0,i=new Headers(this.opts.extraHeaders);return n&&i.set("content-type","text/plain;charset=UTF-8"),(r=this.socket._cookieJar)===null||r===void 0||r.appendCookies(i),fetch(this.uri(),{method:n?"POST":"GET",body:n?e:null,headers:i,credentials:this.opts.withCredentials?"include":"omit"}).then(s=>{var o;return(o=this.socket._cookieJar)===null||o===void 0||o.parseCookies(s.headers.getSetCookie()),s})}};h4.Fetch=nA});var l4=$(Mr=>{k();M();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.WebTransport=Mr.WebSocket=Mr.NodeWebSocket=Mr.XHR=Mr.NodeXHR=Mr.Fetch=Mr.nextTick=Mr.parse=Mr.installTimerFunctions=Mr.transports=Mr.TransportError=Mr.Transport=Mr.protocol=Mr.SocketWithUpgrade=Mr.SocketWithoutUpgrade=Mr.Socket=void 0;var GV=rA();Object.defineProperty(Mr,"Socket",{enumerable:!0,get:function(){return GV.Socket}});var zV=rA();Object.defineProperty(Mr,"SocketWithoutUpgrade",{enumerable:!0,get:function(){return zV.SocketWithoutUpgrade}});Object.defineProperty(Mr,"SocketWithUpgrade",{enumerable:!0,get:function(){return zV.SocketWithUpgrade}});Mr.protocol=GV.Socket.protocol;var WV=B9();Object.defineProperty(Mr,"Transport",{enumerable:!0,get:function(){return WV.Transport}});Object.defineProperty(Mr,"TransportError",{enumerable:!0,get:function(){return WV.TransportError}});var Sbe=XT();Object.defineProperty(Mr,"transports",{enumerable:!0,get:function(){return Sbe.transports}});var wbe=Jp();Object.defineProperty(Mr,"installTimerFunctions",{enumerable:!0,get:function(){return wbe.installTimerFunctions}});var Ebe=JT();Object.defineProperty(Mr,"parse",{enumerable:!0,get:function(){return Ebe.parse}});var Tbe=Zp();Object.defineProperty(Mr,"nextTick",{enumerable:!0,get:function(){return Tbe.nextTick}});var Abe=VV();Object.defineProperty(Mr,"Fetch",{enumerable:!0,get:function(){return Abe.Fetch}});var Ibe=o4();Object.defineProperty(Mr,"NodeXHR",{enumerable:!0,get:function(){return Ibe.XHR}});var Pbe=o4();Object.defineProperty(Mr,"XHR",{enumerable:!0,get:function(){return Pbe.XHR}});var Obe=u4();Object.defineProperty(Mr,"NodeWebSocket",{enumerable:!0,get:function(){return Obe.WS}});var Bbe=u4();Object.defineProperty(Mr,"WebSocket",{enumerable:!0,get:function(){return Bbe.WS}});var Cbe=YT();Object.defineProperty(Mr,"WebTransport",{enumerable:!0,get:function(){return Cbe.WT}})});var XV=$(M9=>{k();M();var kbe=M9&&M9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M9,"__esModule",{value:!0});M9.url=Nbe;var Mbe=l4(),Rbe=kbe(rc()),YV=(0,Rbe.default)("socket.io-client:url");function Nbe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(YV("protocol-less url %s",t),typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),YV("parse %s",t),n=(0,Mbe.parse)(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}});var iA=$(g5=>{k();M();Object.defineProperty(g5,"__esModule",{value:!0});g5.hasBinary=g5.isBinary=void 0;var Fbe=typeof ArrayBuffer=="function",Hbe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ZV=Object.prototype.toString,Dbe=typeof Blob=="function"||typeof Blob<"u"&&ZV.call(Blob)==="[object BlobConstructor]",Lbe=typeof File=="function"||typeof File<"u"&&ZV.call(File)==="[object FileConstructor]";function JV(t){return Fbe&&(t instanceof ArrayBuffer||Hbe(t))||Dbe&&t instanceof Blob||Lbe&&t instanceof File}g5.isBinary=JV;function d4(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(d4(t[r]))return!0;return!1}if(JV(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return d4(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&d4(t[r]))return!0;return!1}g5.hasBinary=d4});var QV=$(b5=>{k();M();Object.defineProperty(b5,"__esModule",{value:!0});b5.reconstructPacket=b5.deconstructPacket=void 0;var Ube=iA();function qbe(t){let e=[],r=t.data,n=t;return n.data=sA(r,e),n.attachments=e.length,{packet:n,buffers:e}}b5.deconstructPacket=qbe;function sA(t,e){if(!t)return t;if((0,Ube.isBinary)(t)){let r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=sA(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=sA(t[n],e));return r}return t}function $be(t,e){return t.data=oA(t.data,e),delete t.attachments,t}b5.reconstructPacket=$be;function oA(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=oA(t[r],e);else if(typeof t=="object")for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=oA(t[r],e));return t}});var p4=$(lc=>{k();M();Object.defineProperty(lc,"__esModule",{value:!0});lc.Decoder=lc.Encoder=lc.PacketType=lc.protocol=void 0;var jbe=Xp(),tG=QV(),rG=iA(),Kbe=rc(),aA=(0,Kbe.default)("socket.io-parser"),Vbe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];lc.protocol=5;var ri;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ri=lc.PacketType||(lc.PacketType={}));var uA=class{constructor(e){this.replacer=e}encode(e){return aA("encoding packet %j",e),(e.type===ri.EVENT||e.type===ri.ACK)&&(0,rG.hasBinary)(e)?this.encodeAsBinary({type:e.type===ri.EVENT?ri.BINARY_EVENT:ri.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===ri.BINARY_EVENT||e.type===ri.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),aA("encoded %j as %s",e,r),r}encodeAsBinary(e){let r=(0,tG.deconstructPacket)(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};lc.Encoder=uA;function eG(t){return Object.prototype.toString.call(t)==="[object Object]"}var R9=class extends jbe.Emitter{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);let n=r.type===ri.BINARY_EVENT;n||r.type===ri.BINARY_ACK?(r.type=n?ri.EVENT:ri.ACK,this.reconstructor=new cA(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if((0,rG.isBinary)(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0,n={type:Number(e.charAt(0))};if(ri[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ri.BINARY_EVENT||n.type===ri.BINARY_ACK){let s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);let o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){let s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";let i=e.charAt(r+1);if(i!==""&&Number(i)==i){let s=r+1;for(;++r;){let o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){let s=this.tryParse(e.substr(r));if(R9.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return aA("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case ri.CONNECT:return eG(r);case ri.DISCONNECT:return r===void 0;case ri.CONNECT_ERROR:return typeof r=="string"||eG(r);case ri.EVENT:case ri.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Vbe.indexOf(r[0])===-1);case ri.ACK:case ri.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};lc.Decoder=R9;var cA=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let r=(0,tG.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var hA=$(fA=>{k();M();Object.defineProperty(fA,"__esModule",{value:!0});fA.on=Gbe;function Gbe(t,e,r){return t.on(e,r),function(){t.off(e,r)}}});var dA=$(y5=>{k();M();var zbe=y5&&y5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(y5,"__esModule",{value:!0});y5.Socket=void 0;var dc=p4(),m4=hA(),Wbe=Xp(),Ybe=zbe(rc()),Gi=(0,Ybe.default)("socket.io-client:socket"),Xbe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),lA=class extends Wbe.Emitter{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[(0,m4.on)(e,"open",this.onopen.bind(this)),(0,m4.on)(e,"packet",this.onpacket.bind(this)),(0,m4.on)(e,"error",this.onerror.bind(this)),(0,m4.on)(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,s;if(Xbe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let o={type:dc.PacketType.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let h=this.ids++;Gi("emitting packet with ack id %d",h);let f=r.pop();this._registerAckCallback(h,f),o.id=h}let a=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a?Gi("discard packet as the transport is not currently writable"):u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o),this.flags={},this}_registerAckCallback(e,r){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&(Gi("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(a,1));Gi("event with ack id %d has timed out after %d ms",e,i),r.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{let s=(o,a)=>o?i(o):n(a);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(Gi("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),r&&r(i)):(Gi("packet [%d] was successfully sent",n.id),this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(Gi("draining queue"),!this.connected||this._queue.length===0)return;let r=this._queue[0];if(r.pending&&!e){Gi("packet [%d] has already been sent and is waiting for an ack",r.id);return}r.pending=!0,r.tryCount++,Gi("sending packet [%d] (try n\xB0%d)",r.id,r.tryCount),this.flags=r.flags,this.emit.apply(this,r.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){Gi("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:dc.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){Gi("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case dc.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dc.PacketType.EVENT:case dc.PacketType.BINARY_EVENT:this.onevent(e);break;case dc.PacketType.ACK:case dc.PacketType.BINARY_ACK:this.onack(e);break;case dc.PacketType.DISCONNECT:this.ondisconnect();break;case dc.PacketType.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let r=e.data||[];Gi("emitting event %j",r),e.id!=null&&(Gi("attaching ack callback to event"),r.push(this.ack(e.id))),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let r=this,n=!1;return function(...i){n||(n=!0,Gi("sending ack %j",i),r.packet({type:dc.PacketType.ACK,id:e,data:i}))}}onack(e){let r=this.acks[e.id];if(typeof r!="function"){Gi("bad ack %s",e.id);return}delete this.acks[e.id],Gi("calling ack %s with %j",e.id,e.data),r.withError&&e.data.unshift(null),r.apply(this,e.data)}onconnect(e,r){Gi("socket connected with id %s",e),this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){Gi("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(Gi("performing disconnect (%s)",this.nsp),this.packet({type:dc.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let n of r)n.apply(this,e.data)}}};y5.Socket=lA});var nG=$(pA=>{k();M();Object.defineProperty(pA,"__esModule",{value:!0});pA.Backoff=v5;function v5(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}v5.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};v5.prototype.reset=function(){this.attempts=0};v5.prototype.setMin=function(t){this.ms=t};v5.prototype.setMax=function(t){this.max=t};v5.prototype.setJitter=function(t){this.jitter=t}});var iG=$(yu=>{k();M();var Zbe=yu&&yu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jbe=yu&&yu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qbe=yu&&yu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zbe(e,t,r);return Jbe(e,t),e},eye=yu&&yu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yu,"__esModule",{value:!0});yu.Manager=void 0;var mA=l4(),tye=dA(),rye=Qbe(p4()),Qp=hA(),nye=nG(),iye=Xp(),sye=eye(rc()),Is=(0,sye.default)("socket.io-client:manager"),gA=class extends iye.Emitter{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,(0,mA.installTimerFunctions)(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new nye.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;let i=r.parser||rye;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(Is("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Is("opening %s",this.uri),this.engine=new mA.Socket(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=(0,Qp.on)(r,"open",function(){n.onopen(),e&&e()}),s=a=>{Is("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=(0,Qp.on)(r,"error",s);if(this._timeout!==!1){let a=this._timeout;Is("connect attempt will timeout after %d",a);let u=this.setTimeoutFn(()=>{Is("connect attempt timed out after %d",a),i(),s(new Error("timeout")),r.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){Is("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push((0,Qp.on)(e,"ping",this.onping.bind(this)),(0,Qp.on)(e,"data",this.ondata.bind(this)),(0,Qp.on)(e,"error",this.onerror.bind(this)),(0,Qp.on)(e,"close",this.onclose.bind(this)),(0,Qp.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){(0,mA.nextTick)(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){Is("error",e),this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new tye.Socket(this,e,r),this.nsps[e]=n),n}_destroy(e){let r=Object.keys(this.nsps);for(let n of r)if(this.nsps[n].active){Is("socket %s is still active, skipping close",n);return}this._close()}_packet(e){Is("writing packet %j",e);let r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){Is("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){Is("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;Is("closed due to %s",e),this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Is("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();Is("will wait %dms before reconnect attempt",r),this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(Is("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(Is("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(Is("reconnect success"),e.onreconnect())}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};yu.Manager=gA});var uG=$((An,aG)=>{k();M();var oye=An&&An.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(An,"__esModule",{value:!0});An.WebTransport=An.WebSocket=An.NodeWebSocket=An.XHR=An.NodeXHR=An.Fetch=An.Socket=An.Manager=An.protocol=void 0;An.io=e1;An.connect=e1;An.default=e1;var aye=XV(),g4=iG();Object.defineProperty(An,"Manager",{enumerable:!0,get:function(){return g4.Manager}});var oG=dA();Object.defineProperty(An,"Socket",{enumerable:!0,get:function(){return oG.Socket}});var uye=oye(rc()),sG=(0,uye.default)("socket.io-client"),N9={};function e1(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let r=(0,aye.url)(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=N9[i]&&s in N9[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,u;return a?(sG("ignoring socket cache for %s",n),u=new g4.Manager(n,e)):(N9[i]||(sG("new io instance for %s",n),N9[i]=new g4.Manager(n,e)),u=N9[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(e1,{Manager:g4.Manager,Socket:oG.Socket,io:e1,connect:e1});var cye=p4();Object.defineProperty(An,"protocol",{enumerable:!0,get:function(){return cye.protocol}});var _5=l4();Object.defineProperty(An,"Fetch",{enumerable:!0,get:function(){return _5.Fetch}});Object.defineProperty(An,"NodeXHR",{enumerable:!0,get:function(){return _5.NodeXHR}});Object.defineProperty(An,"XHR",{enumerable:!0,get:function(){return _5.XHR}});Object.defineProperty(An,"NodeWebSocket",{enumerable:!0,get:function(){return _5.NodeWebSocket}});Object.defineProperty(An,"WebSocket",{enumerable:!0,get:function(){return _5.WebSocket}});Object.defineProperty(An,"WebTransport",{enumerable:!0,get:function(){return _5.WebTransport}});aG.exports=e1});var vA=$(x5=>{k();M();var bA=x5&&x5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(x5,"__esModule",{value:!0});x5.ContractApi=void 0;var fye=dV(),hye=mV(),lye=bV(),dye=uG(),pye=t=>new Promise(e=>setTimeout(e,t)),cG=(t,e,r,n)=>new Promise((i,s)=>t().then(i).catch(o=>r>0&&(n&&n(o)||typeof n>"u")?pye(e).then(cG.bind(null,t,e,r-1)).then(i).catch(s):s(o))),yA=class{constructor(e){this._core=e}syncHashedProps(e){return bA(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new hye.SyncHashedPropsAction,{instance:e})})}getLatestInstance(e,r){return bA(this,void 0,void 0,function*(){return yield cG(()=>this._core.actionResolver.resolve(new fye.GetLatestInstanceAction,{clazz:e,contractId:r}),3e3,10,i=>i.message.includes("The utxo related to the contract was not found"))})}subscribe(e,r){let n=this,i=this._core.getBaseUrl(),s=this._core.getApiKey(),o=dye(i,{path:"/streams/contract",query:e.id,auth:{token:s}}),a=()=>{o.close(),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`),n._core.logger.info("unsubscribe",`The connection to ${e.id.txId}:${e.id.outputIndex} has been unsubscribed.`)};return o.on("connect",function(){n._core.logger.info("Connected",`The connection to ${e.id.txId}:${e.id.outputIndex} has been established.`)}),o.on("connect_error",u=>{n._core.logger.error("connect_error","The connection")}),o.on("utxoSpent",function(u){return bA(this,void 0,void 0,function*(){n._core.logger.debug("utxoSpent",`Got message ${e.id.txId}:${e.id.outputIndex}: ${u}`);let c=e.clazz,h=yield(0,lye.getTransaction)(n._core.getNetWork(),u.spentBy.txId),f=c.parseCallData(h,u.spentBy.inputIndex);if(Array.isArray(e.methodNames)&&!e.methodNames.includes(f.methodName))return;let p=Array.isArray(u.createdInSpentTxOutputs)?u.createdInSpentTxOutputs.map(l=>c.fromTx(h,l)):[];r({nexts:p,methodName:f.methodName,args:f.args.map(l=>l.value),tx:h})})}),o.on("subscribeFailed",function(u){n._core.logger.error("subscribeFailed",`Subscribe contract ${e.id.txId}:${e.id.outputIndex} failed: ${u}.`),a()}),o.on("error",function({statusCode:u,errorMsg:c}){n._core.logger.error("websocket error",`statusCode=${u}, errorMsg=${c}`),a()}),o.on("disconnect",function(){n._core.logger.info("Disconnected",`The connection to ${e.id.txId}:${e.id.outputIndex} disconnected.`),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`)}),this._core.events.set(`${e.id.txId}:${e.id.outputIndex}`,o),{unsubscribe:a}}};x5.ContractApi=yA});var _A=$(Bl=>{k();M();var mye=Bl&&Bl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},gye=Bl&&Bl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.RequestController=void 0;var bye=gye(Mf()),fG=rr(),t1;(function(t){t.apiKey="apiKey",t.network="network",t.timeout="timeout",t.maxRetries="maxRetries"})(t1||(t1={}));var F9=class{constructor(e,r){this._config=e,this._logger=r}request(e){return mye(this,void 0,void 0,function*(){this._logger.debug(this.constructor.name,`[${e.method}]request ${e.pathPattern}`,e.data);let r=(0,bye.default)(e.method,F9.getUrl(this.baseUrl,e.pathPattern,e.data)).auth(this._config.get(t1.apiKey),{type:"bearer"}).set("Content-Type","application/json").timeout(this._config.get(t1.timeout,2e4)).retry(this._config.get(t1.maxRetries,3));for(let n in e.headers||{})r=r.set(n,e.headers[n]);e.data&&(e.method==="GET"?r=r.query(e.data):r=r.send(e.data));try{let n=yield r;if(n.ok)return n.body;throw new Error(n.text)}catch(n){throw this._logger.error(this.constructor.name,n.message),n}})}get network(){return this._config.get(t1.network,fG.bsv.Networks.mainnet)}get apiKey(){return this._config.get(t1.apiKey,"")}get baseUrl(){let e=this.network===fG.bsv.Networks.mainnet?"https://api.scrypt.io":"https://testnet-api.scrypt.io";return process.env.BASEURL||e}static getUrl(e,r,n){let i=r.match(/:\w+/g)||[],s=r;for(let o of i){let a=o.replace(":",""),u=n[a];if(u===void 0)throw new Error(`Missing path argument ${a}`);if(typeof u!="string"&&typeof u!="number")throw new Error(`Path argument ${a} must be a string or number`);s=s.replace(o,u.toString())}return`${e.replace(/\/+$/,"")}/${s.replace(/^\/+/,"")}`}};Bl.RequestController=F9});var SA=$(Cl=>{k();M();var yye=Cl&&Cl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.ActionResolver=Cl.ActionError=void 0;var vye=_A(),b4=class extends Error{constructor(e,r){super(r),this.statusCode=e,this.message=r}};Cl.ActionError=b4;var xA=class{constructor(e,r){this._requestController=e,this._loggerController=r}resolve(e,r){return yye(this,void 0,void 0,function*(){let n=e.serilizeRequest(r),i=yield this._requestController.request({pathPattern:e.pathPattern,method:e.method,data:n});if(i.statusCode!==0){let s=vye.RequestController.getUrl("/",e.pathPattern,n),o=`Action [${e.method} ${s}] failed with error code ${i.statusCode}, ${i.errorMsg}`;throw this._loggerController.error(this.constructor.name,o,i.data||""),new b4(i.statusCode,i.errorMsg)}return e.deserilizeResponse(i.data,r)})}};Cl.ActionResolver=xA});var hG=$(y4=>{k();M();Object.defineProperty(y4,"__esModule",{value:!0});y4.Config=void 0;var wA=class{constructor(){this.options=new Map,this.isInitialized=!1}get(e,r){if(!this.isInitialized)throw new Error("Config is not initialized");let n=this.options.get(e);if(!n&&r===void 0)throw new Error(`Config option ${e} not found`);return n||r}set(e,r){this.options.set(e,r)}finishInit(){this.isInitialized=!0}};y4.Config=wA});var dG=$(v4=>{k();M();Object.defineProperty(v4,"__esModule",{value:!0});v4.LoggerController=void 0;var lG={verbose:0,debug:1,info:2,warning:3,error:4,off:5},EA;(function(t){t.logLevel="logLevel"})(EA||(EA={}));var TA=class{constructor(e){this.config=e}logLevel(){return this.config.get(EA.logLevel,"info")}verbose(e,r,...n){this._log("verbose",e,r,...n)}debug(e,r,...n){this._log("debug",e,r,...n)}info(e,r,...n){this._log("info",e,r,...n)}warning(e,r,...n){this._log("warning",e,r,...n)}error(e,r,...n){this._log("error",e,r,...n)}_log(e,r,n,...i){let s=lG[this.logLevel()];if(lG[e]<s)return;let a=`[${e.toUpperCase()}][#${r}]: `;switch(e){case"verbose":case"debug":console.debug(a,n,...i);break;case"info":console.log(a,n,...i);break;case"warning":console.warn(a,n,...i);break;case"error":console.error(a,n,...i)}}};v4.LoggerController=TA});var pG=$(_4=>{k();M();Object.defineProperty(_4,"__esModule",{value:!0});_4.Core=void 0;var _ye=SA(),xye=hG(),Sye=dG(),wye=_A(),AA=class{constructor(){this.config=new xye.Config,this.logger=new Sye.LoggerController(this.config),this.requestController=new wye.RequestController(this.config,this.logger),this.actionResolver=new _ye.ActionResolver(this.requestController,this.logger),this.events=new Map}init(e){Object.keys(e).forEach(r=>{this.config.set(r,e[r])}),this.config.finishInit()}getNetWork(){return this.requestController.network}getApiKey(){return this.requestController.apiKey}getBaseUrl(){return this.requestController.baseUrl}};_4.Core=AA});var IA=$(E0=>{k();M();Object.defineProperty(E0,"__esModule",{value:!0});E0.BsvApi=E0.ContractApi=E0.ActionError=E0.Scrypt=void 0;var Eye=CT(),Tye=vA(),Aye=pG(),x4=new Aye.Core,Iye=new Eye.BsvApi(x4),Pye=new Tye.ContractApi(x4);E0.Scrypt={bsvApi:Iye,contractApi:Pye,init(t){x4.init(t)},getConfig(t,e){return x4.config.get(t,e)}};var Oye=SA();Object.defineProperty(E0,"ActionError",{enumerable:!0,get:function(){return Oye.ActionError}});var Bye=vA();Object.defineProperty(E0,"ContractApi",{enumerable:!0,get:function(){return Bye.ContractApi}});var Cye=CT();Object.defineProperty(E0,"BsvApi",{enumerable:!0,get:function(){return Cye.BsvApi}})});var gG=$(w5=>{k();M();var S5=w5&&w5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(w5,"__esModule",{value:!0});w5.ScryptProvider=void 0;var mG=rr(),kye=_0(),r1=IA(),PA=class extends kye.Provider{constructor(){super(),this._isConnected=!1;let e=r1.Scrypt.getConfig("network","mainnet");this.network=e==="mainnet"?mG.bsv.Networks.livenet:mG.bsv.Networks.testnet,this._initializeConnection()}isConnected(){return this._isConnected}connect(){var e;return S5(this,void 0,void 0,function*(){try{let{success:r,error:n}=yield r1.Scrypt.bsvApi.connect();if(this._isConnected=r,!r)throw new Error(n);this.emit("connected",!0)}catch(r){throw this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return this})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}getFeePerKb(){return S5(this,void 0,void 0,function*(){return yield this._ready(),r1.Scrypt.bsvApi.getFeePerKB()})}sendRawTransaction(e){return S5(this,void 0,void 0,function*(){return yield this._ready(),r1.Scrypt.bsvApi.sendRawTransaction(e)})}getTransaction(e){return S5(this,void 0,void 0,function*(){return yield this._ready(),r1.Scrypt.bsvApi.getTransaction(e)})}listUnspent(e,r){return S5(this,void 0,void 0,function*(){return yield this._ready(),r1.Scrypt.bsvApi.listUnspent(e,r)})}getBalance(e){return S5(this,void 0,void 0,function*(){return yield this._ready(),r1.Scrypt.bsvApi.getBalance(e)})}};w5.ScryptProvider=PA});var bG=$(Xs=>{k();M();Object.defineProperty(Xs,"__esModule",{value:!0});Xs.ScryptProvider=Xs.DummyProvider=Xs.DefaultProvider=Xs.TaalProvider=Xs.GorillapoolProvider=Xs.SensibleProvider=Xs.WhatsonchainProvider=void 0;var Mye=S9();Object.defineProperty(Xs,"WhatsonchainProvider",{enumerable:!0,get:function(){return Mye.WhatsonchainProvider}});var Rye=lT();Object.defineProperty(Xs,"SensibleProvider",{enumerable:!0,get:function(){return Rye.SensibleProvider}});var Nye=pT();Object.defineProperty(Xs,"GorillapoolProvider",{enumerable:!0,get:function(){return Nye.GorillapoolProvider}});var Fye=bT();Object.defineProperty(Xs,"TaalProvider",{enumerable:!0,get:function(){return Fye.TaalProvider}});var Hye=iV();Object.defineProperty(Xs,"DefaultProvider",{enumerable:!0,get:function(){return Hye.DefaultProvider}});var Dye=oV();Object.defineProperty(Xs,"DummyProvider",{enumerable:!0,get:function(){return Dye.DummyProvider}});var Lye=gG();Object.defineProperty(Xs,"ScryptProvider",{enumerable:!0,get:function(){return Lye.ScryptProvider}})});var n1=$(Nf=>{k();M();var H9=Nf&&Nf.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.Signer=Nf.DEFAULT_SIGHASH_TYPE=void 0;var kl=rr();Nf.DEFAULT_SIGHASH_TYPE=kl.bsv.crypto.Signature.ALL;var OA=class{constructor(e){this._isSigner=!0,this.provider=e}signRawTransaction(e,r){return H9(this,void 0,void 0,function*(){return(yield this.signTransaction(new kl.bsv.Transaction(e),r)).toString()})}signTransaction(e,r){return H9(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=(r?.sigRequests||[]).reduce((a,u)=>(a.set(u.inputIndex,u),a),new Map);e.inputs.forEach((a,u)=>{if(a.output){let c=i.get(u);if(!c)return;if((c.scriptHex?c.scriptHex:kl.bsv.Script.buildPublicKeyHashOut(c.address.toString()).toHex())!==a.output.script.toHex())throw new Error(`\`SignatureRequest\` script is not match the script of input: ${u}`);if(c.satoshis!==a.output.satoshis)throw new Error(`\`SignatureRequest\` satoshis is not match the satoshis of input: ${u}`)}else{let c=i.get(u);if(!c)throw new Error(`\`SignatureRequest\` info should be provided for the input ${u} to call #signTransaction`);let h=c.scriptHex?new kl.bsv.Script(c.scriptHex):kl.bsv.Script.buildPublicKeyHashOut(c.address.toString());a.output=new kl.bsv.Transaction.Output({script:h,satoshis:c.satoshis})}});let s=e.inputs.map((a,u)=>{var c,h,f,p,l;if(!((h=(c=a.output)===null||c===void 0?void 0:c.script)===null||h===void 0)&&h.isPublicKeyHashOut()){let y=a.output.script.toAddress(n);return{prevTxId:(0,kl.toHex)(a.prevTxId),outputIndex:a.outputIndex,inputIndex:u,satoshis:(f=a.output)===null||f===void 0?void 0:f.satoshis,address:y,scriptHex:(l=(p=a.output)===null||p===void 0?void 0:p.script)===null||l===void 0?void 0:l.toHex(),sigHashType:Nf.DEFAULT_SIGHASH_TYPE}}else return}).filter(a=>typeof a=="object"),o=yield this.getSignatures(e.toString(),s);return e.inputs.forEach((a,u)=>{var c;let h=o.find(f=>f.inputIndex===u);if(h&&((c=a.output)===null||c===void 0?void 0:c.script.isPublicKeyHashOut())){let f=new kl.bsv.Script("").add(A.Buffer.from(h.sig,"hex")).add(A.Buffer.from(h.publicKey,"hex"));a.setScript(f)}}),e})}get connectedProvider(){if(!this.provider)throw new Error(`the provider of signer ${this.constructor.name} is not set yet!`);return this.provider}signAndsendTransaction(e,r){return H9(this,void 0,void 0,function*(){yield e.sealAsync();let n=yield this.signTransaction(e,r);return yield this.connectedProvider.sendTransaction(n),n})}listUnspent(e,r){return this.connectedProvider.listUnspent(e,r)}getBalance(e){return H9(this,void 0,void 0,function*(){return e=e||(yield this.getDefaultAddress()),this.connectedProvider.getBalance(e)})}static isSigner(e){return!!(e&&e._isSigner)}alignProviderNetwork(){var e;return H9(this,void 0,void 0,function*(){if(yield this.isAuthenticated()){yield(e=this.provider)===null||e===void 0?void 0:e.connect();let n=yield this.getNetwork();this.connectedProvider.updateNetwork(n)}})}};Nf.Signer=OA});var vG=$(E5=>{k();M();var Hf=E5&&E5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(E5,"__esModule",{value:!0});E5.TestWallet=void 0;var Uye=n1(),vu=rr(),qye=du(),$ye=vu.bsv.crypto.Signature.ALL,D9=class extends Uye.Signer{constructor(e,r){super(r),this.splitFeeTx=!0,e instanceof Array?this._privateKeys=e:this._privateKeys=[e],this.checkPrivateKeys(),this._utxoManagers=new Map}static random(e,r=vu.bsv.Networks.testnet){return new D9(vu.bsv.PrivateKey.fromRandom(r),e)}enableSplitFeeTx(e){this.splitFeeTx=e}isAuthenticated(){return Hf(this,void 0,void 0,function*(){return Promise.resolve(!0)})}requestAuth(){return Hf(this,void 0,void 0,function*(){return Promise.resolve({isAuthenticated:!0,error:""})})}get network(){return this.provider.getNetwork()}get addresses(){return this._privateKeys.map(e=>e.toAddress(this.network).toString())}addPrivateKey(e){let r=e instanceof Array?e:[e];return this._privateKeys.push(...r),this.checkPrivateKeys(),this}checkPrivateKeys(){let e=this._privateKeys.map(r=>r.toAddress().network);if(!e.every(r=>r.name===e[0].name))throw new Error(`All private keys should be ${e[0].name} private key`);return e[0]}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Promise.resolve(this._defaultPrivateKey.toAddress())}getDefaultPubKey(){return Promise.resolve(this._defaultPrivateKey.toPublicKey())}getPubKey(e){return Promise.resolve(this._getPrivateKeys(e)[0].toPublicKey())}getNetwork(){return Promise.resolve(this._defaultPrivateKey.toAddress().network)}getBalance(e){let r=Object.create(null,{getBalance:{get:()=>super.getBalance}});return Hf(this,void 0,void 0,function*(){e=e||(yield this.getDefaultAddress());let n=this._utxoManagers.get(e.toString());return n?{confirmed:n.balance(),unconfirmed:0}:r.getBalance.call(this,e)})}signTransaction(e,r){return Hf(this,void 0,void 0,function*(){let n=r?.address;return this._checkAddressOption(n),Promise.resolve(e.sign(this._getPrivateKeys(n)))})}signMessage(e,r){throw new Error("Method #signMessage not implemented.")}getSignatures(e,r){this._checkAddressOption(this._getAddressesIn(r));let n=new vu.bsv.Transaction(e),i=r.flatMap(s=>{let o=s.scriptHex?new vu.bsv.Script(s.scriptHex):vu.bsv.Script.buildPublicKeyHashOut((0,qye.parseAddresses)(s.address,this.network)[0]);return n.inputs[s.inputIndex].output=new vu.bsv.Transaction.Output({script:o,satoshis:s.satoshis}),this._getPrivateKeys(s.address).map(u=>{let c=s.csIdx!==void 0?o.subScript(s.csIdx):o;return{sig:(0,vu.signTx)(n,u,c,s.satoshis,s.inputIndex,s.sigHashType),publicKey:u.publicKey.toString(),inputIndex:s.inputIndex,sigHashType:s.sigHashType||$ye,csIdx:s.csIdx}})});return Promise.resolve(i)}listUnspent(e,r){return Hf(this,void 0,void 0,function*(){if(this.splitFeeTx){let n=this._utxoManagers.get(e.toString());if(n||(n=new BA(e,this),this._utxoManagers.set(e.toString(),n),yield n.init()),r){let i=r.unspentValue,s=r.estimateSize,o=r.feePerKb,a=Math.ceil(s/1e3*o-i);return a+=Math.ceil(((r.additional||0)+180)/1e3*o),n.fetchUtxos(a)}else return n.fetchUtxos(0)}else return this.provider.listUnspent(e,r)})}_getAddressesIn(e){return(e||[]).flatMap(r=>r.address instanceof Array?r.address:[r.address])}_checkAddressOption(e){if(!!e){if(e instanceof Array)e.forEach(r=>this._checkAddressOption(r));else if(!this.addresses.includes(e.toString()))throw new Error(`the address ${e.toString()} does not belong to this TestWallet`)}}get _defaultPrivateKey(){return this._privateKeys[0]}_getPrivateKeys(e){if(!e)return[this._defaultPrivateKey];this._checkAddressOption(e);let r=[];return e instanceof Array?e.forEach(n=>r.push(n.toString())):r.push(e.toString()),this._privateKeys.filter(n=>r.includes(n.toAddress(this.network).toString()))}signAndsendTransaction(e,r){let n=Object.create(null,{signAndsendTransaction:{get:()=>super.signAndsendTransaction}});return Hf(this,void 0,void 0,function*(){let i=yield n.signAndsendTransaction.call(this,e,r),s=yield this.getDefaultAddress(),o=this._utxoManagers.get(s.toString());return o&&o.collectUtxoFromTx(e),i})}};E5.TestWallet=D9;var Ff;(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.INITIALIZING=1]="INITIALIZING",t[t.INITIALIZED=2]="INITIALIZED"})(Ff||(Ff={}));var BA=class{constructor(e,r){this.availableUtxos=[],this.initStates=Ff.UNINITIALIZED,this.initUtxoCnt=0,this.feePerkb=50,this.address=e,this.signer=r}init(){return Hf(this,void 0,void 0,function*(){if(this.initStates===Ff.INITIALIZED)return this;for(this.initStates===Ff.UNINITIALIZED&&(this.initStates=Ff.INITIALIZING,this.availableUtxos=yield this.signer.connectedProvider.listUnspent(this.address),this.feePerkb=yield this.signer.connectedProvider.getFeePerKb(),this.initStates=Ff.INITIALIZED,this.initUtxoCnt=this.availableUtxos.length);this.initStates===Ff.INITIALIZING;)yield yG(1);return this})}balance(){return this.availableUtxos.reduce((e,r)=>e+r.satoshis,0)}fetchUtxos(e){return Hf(this,void 0,void 0,function*(){if(this.initStates===Ff.INITIALIZED&&this.initUtxoCnt>0&&this.availableUtxos.length===0)for(let c=0;c<30&&(console.log("waiting for available utxos"),yield yG(1),!(this.availableUtxos.length>0));c++);if(e<=0)return this.availableUtxos.splice(0);let r=this.availableUtxos.sort((u,c)=>u.satoshis-c.satoshis);if(e>r.reduce((u,c)=>u+c.satoshis,0))throw new Error("no sufficient utxos to pay the fee of "+e);let n=0,i=0,s=1,o=0;for(let u=0;u<r.length;u++){i+=r[u].satoshis;let c=Math.ceil((180*(u+1)+(10+34)*2)*this.feePerkb/1e3);if(o=e+c+s,i>=o){n=u;break}}let a=r.slice(0,n+1);if(this.availableUtxos=r.slice(n+1),i>=o){let u=new vu.bsv.Transaction().from(a).addOutput(new vu.bsv.Transaction.Output({script:vu.bsv.Script.buildPublicKeyHashOut(this.address),satoshis:e})).feePerKb(this.feePerkb).change(this.address);yield this.signer.signAndsendTransaction(u);let c=this.availableUtxos.findIndex(h=>h.satoshis===e);return this.availableUtxos.splice(c,1)}else return a})}collectUtxoFromTx(e){let r=e.id;e.outputs.forEach((n,i)=>{this.collectUtxoFrom(n,r,i)})}collectUtxoFrom(e,r,n){e.script.toHex()===this.utxoScriptHex&&this.availableUtxos.push({txId:r,outputIndex:n,satoshis:e.satoshis,script:e.script.toHex()})}get utxoScriptHex(){return vu.bsv.Script.buildPublicKeyHashOut(this.address).toHex()}},yG=t=>Hf(void 0,void 0,void 0,function*(){return new Promise(e=>{setTimeout(()=>{e({})},t*1e3)})})});var _G=$(T5=>{k();M();var Ml=T5&&T5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(T5,"__esModule",{value:!0});T5.SensiletSigner=void 0;var i1=rr(),jye=n1(),Kye=du(),S4=class extends jye.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnect()}requestAuth(){return Ml(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.sensilet<"u")this._target=window.sensilet;else throw new Error("sensilet is not installed")}getConnectedTarget(){return Ml(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.requestAccount();this._address=i1.bsv.Address.fromString(r)}catch(r){throw new Error(`Sensilet requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Ml(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddress();return i1.bsv.Address.fromString(r)})}getNetwork(){return Ml(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return e?this.connectedProvider.getBalance(e):this.getConnectedTarget().then(r=>r.getBsvBalance()).then(r=>r.balance)}getDefaultPubKey(){return Ml(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPublicKey();return Promise.resolve(new i1.bsv.PublicKey(r))})}getPubKey(e){return Ml(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return Ml(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield this.getConnectedTarget()).signMessage(e)})}getSignatures(e,r){return Ml(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(a=>(0,Kye.parseAddresses)(a.address,n).map(c=>{let h=a.scriptHex;return h?a.csIdx!==void 0&&(h=i1.bsv.Script.fromHex(h).subScript(a.csIdx).toHex()):h=i1.bsv.Script.buildPublicKeyHashOut(c).toHex(),{txHex:e,inputIndex:a.inputIndex,scriptHex:h,satoshis:a.satoshis,sigtype:a.sigHashType||i1.DEFAULT_SIGHASH_TYPE,address:c.toString()}})),o=yield(yield this.getConnectedTarget()).signTx({list:i});return i.map((a,u)=>({inputIndex:a.inputIndex,sig:o.sigList[u].sig,publicKey:o.sigList[u].publicKey,sigHashType:r[u].sigHashType||i1.DEFAULT_SIGHASH_TYPE}))})}};T5.SensiletSigner=S4;S4.DEBUG_TAG="SensiletSigner"});var SG=$(Rl=>{k();M();var T0=Rl&&Rl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Vye=Rl&&Rl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.DotwalletSigner=void 0;var A5=rr(),Gye=n1(),xG=du(),w4=Vye(Mf()),E4={dapp_list_unspent:"/v1/grandet_dapp/dapp_list_unspent",dapp_list_unspent_by_address:"/v1/grandet_dapp/dapp_list_unspent_by_address",dapp_sign_raw_transaction:"/v1/grandet_dapp/dapp_sign_raw_transaction",dapp_get_signature:"/v1/grandet_dapp/dapp_get_signature",dapp_get_balance:"/v1/grandet_dapp/dapp_get_balance",dapp_send_raw_transaction:"/v1/grandet_dapp/dapp_send_raw_transaction",dapp_get_raw_change_address:"/v1/grandet_dapp/dapp_get_raw_change_address",dapp_get_public_key:"/v1/grandet_dapp/dapp_get_public_key",get_access_token:"/v1/oauth2/get_access_token"};function T4(t){if(t.ok){let e=t.body?t.body:JSON.parse(t.text),{code:r,data:n,msg:i}=e;if(r===0)return n;throw r===75e3&&window.localStorage.removeItem("access_token"),new Error(`error response, code = ${r}, msg: ${i}`)}else throw new Error("error response")}var A4="https://api.ddpurse.com",I4=class extends Gye.Signer{constructor(e,r){super(r),this.sender={appid:"bsv_coin_regular",user_index:0},this.utxos_public_key=new Map,this.accessToken=e}isAuthenticated(){return this.accessToken?Promise.resolve(!0):Promise.resolve(!1)}requestAuth(){return T0(this,void 0,void 0,function*(){return this.accessToken?(yield this.alignProviderNetwork(),Promise.resolve({isAuthenticated:!0,error:""})):Promise.resolve({isAuthenticated:!1,error:""})})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return T0(this,void 0,void 0,function*(){return(yield this.getDefaultPubKey()).toAddress(A5.bsv.Networks.mainnet)})}getNetwork(){return T0(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return T0(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let r=yield w4.default.post(`${A4}${E4.dapp_get_balance}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),n=T4(r),{confirm:i,unconfirm:s}=n;return{confirmed:i,unconfirmed:s}})}getDefaultPubKey(){return T0(this,void 0,void 0,function*(){if(this.default_public_key)return this.default_public_key;let e=yield w4.default.post(`${A4}${E4.dapp_get_public_key}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),r=T4(e),{public_key:n}=r;return this.default_public_key=A5.bsv.PublicKey.fromString(n),this.default_public_key})}getPubKey(e){return T0(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return T0(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#signMessage not implemented.`)})}getSignatures(e,r){return T0(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(s=>(0,xG.parseAddresses)(s.address,n).map(a=>{let u=s.scriptHex;return u?s.csIdx!==void 0&&(u=A5.bsv.Script.fromHex(u).subScript(s.csIdx).toHex()):u=A5.bsv.Script.buildPublicKeyHashOut(a).toHex(),{txHex:e,inputIndex:s.inputIndex,scriptHex:u,satoshis:s.satoshis,sigtype:s.sigHashType||A5.DEFAULT_SIGHASH_TYPE,prevTxId:s.prevTxId,outputIndex:s.outputIndex,address:a.toString()}}));return Promise.all(i.map(s=>T0(this,void 0,void 0,function*(){let o=yield w4.default.post(`${A4}${E4.dapp_get_signature}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,input_index:s.inputIndex,sig_type:s.sigtype,rawtx:e,addr:s.address}),a=T4(o),{hex_signature:u}=a,c=this.utxos_public_key.get(`${s.prevTxId}:${s.outputIndex}`);return c||(c=(0,A5.toHex)(this.default_public_key)),{inputIndex:s.inputIndex,sig:u,publicKey:c,sigHashType:s.sigtype}})))})}listUnspent(e,r){return T0(this,void 0,void 0,function*(){let n=yield w4.default.post(`${A4}${E4.dapp_list_unspent}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,min_amount:0}),s=T4(n).utxos.map(o=>({txId:o.tx_hash,outputIndex:o.output_index,satoshis:o.satoshis,script:o.script,address:o.addr,pubkey:o.pubkey}));return s.forEach(o=>{this.utxos_public_key.set(`${o.txId}:${o.outputIndex}`,o.pubkey)}),r?(0,xG.filterUTXO)(s,r):s})}};Rl.DotwalletSigner=I4;I4.DEBUG_TAG="DotwalletSigner"});var AG=$(A0=>{k();M();var CA=A0&&A0.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(A0,"__esModule",{value:!0});A0.sendAction=A0.TAALWalletAction=A0.sendMessageAndWaitForResponse=void 0;var L9=[],EG=()=>CA(void 0,void 0,void 0,function*(){if(L9.length===0)return;let t=L9[0];try{let e=yield t.request();t.resolve(e)}catch(e){t.reject(e)}finally{L9.shift(),EG()}}),zye=0;function TG(t,e){return new Promise((r,n)=>{let i=zye++;e.requestId=i;let s=()=>CA(this,void 0,void 0,function*(){return new Promise((o,a)=>{t.postMessage(e);function u(c){c.requestId===i&&(t.onMessage.removeListener(u),o(c))}t.onMessage.addListener(u),setTimeout(()=>{t.onMessage.removeListener(u),a(new Error("Timeout waiting for response"))},1e4)})});L9.push({request:s,resolve:r,reject:n}),L9.length===1&&EG()})}A0.sendMessageAndWaitForResponse=TG;var wG;(function(t){t.GetAddress="getAddress",t.GetBalance="getBalance",t.GetRootPublicKey="getRootPublicKey",t.GetPublicKey="getPublicKey",t.GetNetwork="getNetwork",t.SignTx="signTx",t.SignPreimage="signPreimage",t.SignMessage="signMessage"})(wG||(A0.TAALWalletAction=wG={}));function Wye(t,e,r){return CA(this,void 0,void 0,function*(){let i=yield TG(t,r?{action:e,payload:r}:{action:e});if(i.action==="error")throw new Error(i.payload.reason);return i})}A0.sendAction=Wye});var PG=$(I5=>{k();M();var pc=I5&&I5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(I5,"__esModule",{value:!0});I5.TAALSigner=void 0;var Yye=n1(),_u=rr(),IG=du(),ta=AG(),kA=_u.bsv.crypto.Signature.ALL,Xye="engokokaoeppkmchbkjeoeimiffobcke",MA=class extends Yye.Signer{constructor(e,r="APP_NAME"){super(e),this._app_name=r}isAuthenticated(){return pc(this,void 0,void 0,function*(){return!!this._port})}requestAuth(){return pc(this,void 0,void 0,function*(){let e=!1,r="";try{this._port=chrome.runtime.connect(Xye,{name:this._app_name}),yield this.getDefaultAddress(),yield this.alignProviderNetwork(),e=!!this._port}catch(n){r=n.toString()}return{isAuthenticated:e,error:r}})}assertIsAuthenticated(){if(!this._port)throw new Error("TAAL chrome wallet is not connected!")}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return pc(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.GetAddress);return _u.bsv.Address.fromString(e.payload)})}getDefaultPubKey(){return pc(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield this.getNetwork(),r=yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.GetPublicKey),n=new _u.bsv.PublicKey(r.payload,{network:e});return Promise.resolve(n)})}getPubKey(e){return pc(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}getNetwork(){return pc(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.GetNetwork),r=_u.bsv.Networks.get(e.payload);return Promise.resolve(r)})}updateInputsWithInfo(e,r){return e.inputs.forEach((n,i)=>{let s=r.find(o=>o.inputIndex===i);s&&(n.output=new _u.bsv.Transaction.Output({satoshis:s.satoshis,script:_u.bsv.Script.fromHex(s.scriptHex)}))}),e}signTransaction(e,r){var n;return pc(this,void 0,void 0,function*(){let i=yield this.getNetwork(),s=yield this.getDefaultAddress(),o=!((n=r?.sigRequests)===null||n===void 0)&&n.length?r.sigRequests:e.inputs.map((l,y)=>{var _,O,F,B,E,I;let L=r&&r.address?r.address:!((_=l.output)===null||_===void 0)&&_.script.isPublicKeyHashOut()?l.output.script.toAddress(i):s;return{prevTxId:(0,_u.toHex)(l.prevTxId),outputIndex:l.outputIndex,inputIndex:y,satoshis:(F=(O=l.output)===null||O===void 0?void 0:O.satoshis)!==null&&F!==void 0?F:0,address:L,scriptHex:(I=(E=(B=l.output)===null||B===void 0?void 0:B.script)===null||E===void 0?void 0:E.toHex())!==null&&I!==void 0?I:"",sigHashType:kA}}),a=e.toString(),u=o.flatMap(l=>(0,IG.parseAddresses)(l.address,i).map(_=>({txHex:a,inputIndex:l.inputIndex,scriptHex:l.scriptHex||_u.bsv.Script.buildPublicKeyHashOut(_).toHex(),satoshis:l.satoshis,sigtype:l.sigHashType||kA,address:_.toString()}))),c=this.updateInputsWithInfo(e,u);this.assertIsAuthenticated();let f=(yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.SignTx,c)).payload,p=new _u.bsv.Transaction(f);return this.updateInputsWithInfo(p,u)})}getSignatures(e,r){return pc(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(o=>(0,IG.parseAddresses)(o.address,n).map(u=>{let c=o.scriptHex;return o?o.csIdx!==void 0&&(c=_u.bsv.Script.fromHex(c).subScript(o.csIdx).toHex()):c=_u.bsv.Script.buildPublicKeyHashOut(u).toHex(),{tx:e,i:o.inputIndex,script:c,satoshis:o.satoshis,sighash:o.sigHashType||kA,address:u.toString()}}));return(yield Promise.all(i.map(o=>this.signCustomInput(o)))).map(o=>({inputIndex:o.inputIndex,sig:(0,_u.toHex)(o.signature),publicKey:o.publicKey.toString(),sigHashType:o.sigtype}))})}signMessage(e,r){return pc(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return this.assertIsAuthenticated(),(yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.SignMessage,e)).payload})}getBalance(e){return pc(this,void 0,void 0,function*(){return e?this.connectedProvider.getBalance(e):{confirmed:(yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.GetBalance)).payload,unconfirmed:0}})}signCustomInput(e){return pc(this,void 0,void 0,function*(){let r=yield this.getDefaultPubKey(),n=yield(0,ta.sendAction)(this._port,ta.TAALWalletAction.SignPreimage,e);return{inputIndex:e.i,sigtype:e.sighash,publicKey:r,signature:n.payload}})}};I5.TAALSigner=MA});var OG=$(P5=>{k();M();var Sa=P5&&P5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(P5,"__esModule",{value:!0});P5.PandaSigner=void 0;var Zye=n1(),P4=rr(),Jye=du(),O4=class extends Zye.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnected()}requestAuth(){return Sa(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.panda<"u")this._target=window.panda;else throw new Error("panda is not installed")}getConnectedTarget(){return Sa(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.connect();if(r&&r.includes("canceled"))throw new Error(r)}catch(r){throw new Error(`panda requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Sa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return P4.bsv.Address.fromString(r.bsvAddress)})}getOrdAddress(){return Sa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return P4.bsv.Address.fromString(r.ordAddress)})}getNetwork(){return Sa(this,void 0,void 0,function*(){let e=yield this.getDefaultAddress();return Promise.resolve(e.network)})}getBalance(e){return Sa(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let n=yield(yield this.getConnectedTarget()).getBalance();return Promise.resolve({confirmed:n.satoshis,unconfirmed:0})})}getDefaultPubKey(){return Sa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new P4.bsv.PublicKey(r.bsvPubKey))})}getOrdPubKey(){return Sa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new P4.bsv.PublicKey(r.ordPubKey))})}getOrdinals(){return Sa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getOrdinals();return Promise.resolve(r)})}transferOrdinal(e){return Sa(this,void 0,void 0,function*(){let n=yield(yield this.getConnectedTarget()).transferOrdinal(e);return Promise.resolve(n)})}getPubKey(e){return Sa(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return Sa(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield(yield this.getConnectedTarget()).signMessage({message:e})).sig})}getSignatures(e,r){return Sa(this,void 0,void 0,function*(){let n=yield this.getConnectedTarget(),i=yield this.getNetwork(),s=r.map(a=>({prevTxid:a.prevTxId,outputIndex:a.outputIndex,inputIndex:a.inputIndex,satoshis:a.satoshis,address:(0,Jye.parseAddresses)(a.address,i).map(u=>u.toString()),script:a.scriptHex,sigHashType:a.sigHashType,csIdx:a.csIdx,data:a.data}));return(yield n.getSignatures({rawtx:e,sigRequests:s})).map(a=>Object.assign(Object.assign({},a),{publicKey:a.pubKey}))})}};P5.PandaSigner=O4;O4.DEBUG_TAG="PandaSigner"});var BG=$(I0=>{k();M();Object.defineProperty(I0,"__esModule",{value:!0});I0.PandaSigner=I0.TAALSigner=I0.DotwalletSigner=I0.SensiletSigner=void 0;var Qye=_G();Object.defineProperty(I0,"SensiletSigner",{enumerable:!0,get:function(){return Qye.SensiletSigner}});var e4e=SG();Object.defineProperty(I0,"DotwalletSigner",{enumerable:!0,get:function(){return e4e.DotwalletSigner}});var t4e=PG();Object.defineProperty(I0,"TAALSigner",{enumerable:!0,get:function(){return t4e.TAALSigner}});var r4e=OG();Object.defineProperty(I0,"PandaSigner",{enumerable:!0,get:function(){return r4e.PandaSigner}})});var xr=$(Rt=>{k();M();var n4e=Rt&&Rt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mc=Rt&&Rt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&n4e(e,t,r)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.TestWallet=Rt.Provider=Rt.replayToLatest=Rt.bsv=Rt.FunctionCall=Rt.buildOpreturnScript=Rt.buildPublicKeyHashScript=Rt.toHex=Rt.SmartContractLib=Rt.SmartContract=Rt.method=Rt.prop=Rt.P2PK=Rt.P2PKH=void 0;var CG=K6();Object.defineProperty(Rt,"prop",{enumerable:!0,get:function(){return CG.prop}});Object.defineProperty(Rt,"method",{enumerable:!0,get:function(){return CG.method}});var i4e=o9();Object.defineProperty(Rt,"SmartContract",{enumerable:!0,get:function(){return i4e.SmartContract}});var s4e=Yb();Object.defineProperty(Rt,"SmartContractLib",{enumerable:!0,get:function(){return s4e.SmartContractLib}});var o4e=vq();Object.defineProperty(Rt,"P2PKH",{enumerable:!0,get:function(){return o4e.P2PKH}});var a4e=Sq();Object.defineProperty(Rt,"P2PK",{enumerable:!0,get:function(){return a4e.P2PK}});mc(dl(),Rt);mc(qp(),Rt);mc(du(),Rt);mc(C6(),Rt);var B4=rr();Object.defineProperty(Rt,"toHex",{enumerable:!0,get:function(){return B4.toHex}});Object.defineProperty(Rt,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return B4.buildPublicKeyHashScript}});Object.defineProperty(Rt,"buildOpreturnScript",{enumerable:!0,get:function(){return B4.buildOpreturnScript}});Object.defineProperty(Rt,"FunctionCall",{enumerable:!0,get:function(){return B4.FunctionCall}});var u4e=pE();Object.defineProperty(Rt,"bsv",{enumerable:!0,get:function(){return u4e.bsv}});mc(Oq(),Rt);mc(kq(),Rt);mc(C6(),Rt);var c4e=XK();Object.defineProperty(Rt,"replayToLatest",{enumerable:!0,get:function(){return c4e.replayToLatest}});mc(bG(),Rt);var f4e=_0();Object.defineProperty(Rt,"Provider",{enumerable:!0,get:function(){return f4e.Provider}});mc(n1(),Rt);var h4e=vG();Object.defineProperty(Rt,"TestWallet",{enumerable:!0,get:function(){return h4e.TestWallet}});mc(BG(),Rt);mc(IA(),Rt)});var In=$(Er=>{k();M();var Nl=Er&&Er.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ni=Er&&Er.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Er,"__esModule",{value:!0});Er.TxUtil=Er.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=Er.XRAYED_TXID_PREIMG2_PREVLIST_LEN=Er.MAX_OUTPUT_SCRIPT_LEN=Er.STATE_OUTPUT_OFFSET=Er.STATE_OUTPUT_INDEX=Er.ADDRESS_HASH_LEN=Er.MAX_STATE=Er.MAX_TOKEN_OUTPUT=Er.MAX_TOKEN_INPUT=Er.MAX_OUTPUT=Er.MAX_INPUT=Er.Int32=void 0;var mn=xr();Er.Int32=BigInt;Er.MAX_INPUT=6;Er.MAX_OUTPUT=6;Er.MAX_TOKEN_INPUT=5;Er.MAX_TOKEN_OUTPUT=5;Er.MAX_STATE=5;Er.ADDRESS_HASH_LEN=20n;Er.STATE_OUTPUT_INDEX=0;Er.STATE_OUTPUT_OFFSET=1;Er.MAX_OUTPUT_SCRIPT_LEN=34;Er.XRAYED_TXID_PREIMG2_PREVLIST_LEN=4;Er.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=4;var bo=class extends mn.SmartContractLib{static mergePrevouts(e){let r=(0,mn.toByteString)("");for(let n=0;n<Er.MAX_INPUT;n++){let i=e[n];r+=i}return r}static mergeSpentScripts(e){let r=(0,mn.toByteString)("");for(let n=0;n<Er.MAX_INPUT;n++){let i=e[n];r+=(0,mn.int2ByteString)((0,mn.len)(i))+i}return r}static buildOutput(e,r){let n=(0,mn.len)(e);return(0,mn.assert)(n<=Er.MAX_OUTPUT_SCRIPT_LEN),r+(0,mn.int2ByteString)(n)+e}static checkIndex(e,r){let n=(0,mn.int2ByteString)(e);return n==(0,mn.toByteString)("")&&(n=(0,mn.toByteString)("00")),n+(0,mn.toByteString)("000000")==r}static buildOpReturnRoot(e){return(0,mn.toByteString)("0000000000000000")+(0,mn.int2ByteString)((0,mn.len)(e))+e}static getStateScript(e){return(0,mn.toByteString)("6a1863617401")+e}static getChangeOutput(e){return e.satoshis!=bo.ZEROSAT?bo.buildOutput(e.script,e.satoshis):(0,mn.toByteString)("")}};Er.TxUtil=bo;bo.ZEROSAT=(0,mn.toByteString)("0000000000000000");Nl([(0,mn.prop)(),ni("design:type",String)],bo,"ZEROSAT",void 0);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[Object]),ni("design:returntype",String)],bo,"mergePrevouts",null);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[Object]),ni("design:returntype",String)],bo,"mergeSpentScripts",null);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[String,String]),ni("design:returntype",String)],bo,"buildOutput",null);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[BigInt,String]),ni("design:returntype",Boolean)],bo,"checkIndex",null);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[String]),ni("design:returntype",String)],bo,"buildOpReturnRoot",null);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[String]),ni("design:returntype",String)],bo,"getStateScript",null);Nl([(0,mn.method)(),ni("design:type",Function),ni("design:paramtypes",[Object]),ni("design:returntype",String)],bo,"getChangeOutput",null)});var ra=$(Fl=>{k();M();var O5=Fl&&Fl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xu=Fl&&Fl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.SigHashUtils=void 0;var gn=xr(),C4=In(),Zs=class extends gn.SmartContractLib{static checkSHPreimage(e){let r=(0,gn.sha256)(Zs.preimagePrefix+e.txVer+e.nLockTime+e.hashPrevouts+e.hashSpentAmounts+e.hashSpentScripts+e.hashSequences+e.hashOutputs+e.spendType+e.inputIndex+e.hashTapLeaf+e.keyVer+e.codeSeparator),n=(0,gn.sha256)(Zs.ePreimagePrefix+r);(0,gn.assert)(e.eLastByte<127n,"invalid value of _e");let i=e.eLastByte==0n?(0,gn.toByteString)("00"):(0,gn.int2ByteString)(e.eLastByte);(0,gn.assert)(n==e._e+i,"invalid value of _e");let s=Zs.Gx+e._e+(0,gn.int2ByteString)(e.eLastByte+1n);return(0,gn.Sig)(s)}static checkPrevoutsCtx(e,r,n){return(0,gn.assert)((0,gn.sha256)(C4.TxUtil.mergePrevouts(e.prevouts))==r,"hashPrevouts mismatch"),(0,gn.assert)(C4.TxUtil.checkIndex(e.inputIndexVal,n)),(0,gn.assert)(C4.TxUtil.checkIndex(e.outputIndexVal,e.outputIndex)),(0,gn.assert)(e.prevouts[Number(e.inputIndexVal)]==e.spentTxhash+e.outputIndex),!0}static checkSpentScriptsCtx(e,r){return(0,gn.assert)((0,gn.sha256)(C4.TxUtil.mergeSpentScripts(e))==r,"hashSpentScripts mismatch"),!0}};Fl.SigHashUtils=Zs;Zs.Gx=(0,gn.PubKey)((0,gn.toByteString)("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"));Zs.ePreimagePrefix=(0,gn.toByteString)("7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798");Zs.preimagePrefix=(0,gn.toByteString)("f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000");O5([(0,gn.prop)(),xu("design:type",String)],Zs,"Gx",void 0);O5([(0,gn.prop)(),xu("design:type",String)],Zs,"ePreimagePrefix",void 0);O5([(0,gn.prop)(),xu("design:type",String)],Zs,"preimagePrefix",void 0);O5([(0,gn.method)(),xu("design:type",Function),xu("design:paramtypes",[Object]),xu("design:returntype",String)],Zs,"checkSHPreimage",null);O5([(0,gn.method)(),xu("design:type",Function),xu("design:paramtypes",[Object,String,String]),xu("design:returntype",Boolean)],Zs,"checkPrevoutsCtx",null);O5([(0,gn.method)(),xu("design:type",Function),xu("design:paramtypes",[Object,String]),xu("design:returntype",Boolean)],Zs,"checkSpentScriptsCtx",null)});var MG=$((est,kG)=>{k();M();var l4e="http://bitcore.io/";kG.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+l4e+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]});var wa=$((nst,NA)=>{k();M();var RA=wr();function d4e(t,e){return t.replace("{0}",e[0]).replace("{1}",e[1]).replace("{2}",e[2])}var RG=function(t,e){var r=function(){if(RA.isString(e.message))this.message=d4e(e.message,arguments);else if(RA.isFunction(e.message))this.message=e.message.apply(null,arguments);else throw new Error("Invalid error definition for "+e.name);this.stack=this.message+`
`+new Error().stack};return r.prototype=Object.create(t.prototype),r.prototype.name=t.prototype.name+e.name,t[e.name]=r,e.errors&&NG(r,e.errors),r},NG=function(t,e){RA.each(e,function(r){RG(t,r)})},p4e=function(t,e){return NG(t,e),t},B5={};B5.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack};B5.Error.prototype=Object.create(Error.prototype);B5.Error.prototype.name="bitcore.Error";var m4e=MG();p4e(B5.Error,m4e);NA.exports=B5.Error;NA.exports.extend=function(t){return RG(B5.Error,t)}});var Tr=$((ost,FG)=>{k();M();var U9=wa(),g4e=wr();FG.exports={checkState:function(t,e){if(!t)throw new U9.InvalidState(e)},checkArgument:function(t,e,r,n){if(!t)throw new U9.InvalidArgument(e,r,n)},checkArgumentType:function(t,e,r){if(r=r||"(unknown name)",g4e.isString(e)){if(e==="Buffer"){var n=ai();if(!n.Buffer.isBuffer(t))throw new U9.InvalidArgumentType(t,e,r)}else if(typeof t!==e&&t&&t.constructor&&t.constructor.name!==e)throw new U9.InvalidArgumentType(t,e,r)}else if(!(t instanceof e))throw new U9.InvalidArgumentType(t,e.name,r)},isType:function(t,e,r){try{return this.checkArgumentType(t,e,r),!0}catch{return!1}}}});var ci=$((cst,LG)=>{k();M();var DG=wr(),HG=function(e){return DG.isString(e)?/^[0-9a-fA-F]+$/.test(e):!1};LG.exports={isValidJSON:function(e){var r;if(!DG.isString(e))return!1;try{r=JSON.parse(e)}catch{return!1}return typeof r=="object"},isHexa:HG,isHexaString:HG,cloneArray:function(t){return[].concat(t)},defineImmutable:function(e,r){return Object.keys(r).forEach(function(n){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,value:r[n]})}),e},isNaturalNumber:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&e>=0}}});var Pn=$((pst,q9)=>{k();M();var UG=ai(),lst=tc(),dst=ci(),Hl=Tr();function qG(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}q9.exports={fill:function(e,r){Hl.checkArgumentType(e,"Buffer","buffer"),Hl.checkArgumentType(r,"number","value");for(var n=e.length,i=0;i<n;i++)e[i]=r;return e},copy:function(t){var e=A.Buffer.alloc(t.length);return t.copy(e),e},isBuffer:function(e){return UG.Buffer.isBuffer(e)||e instanceof Uint8Array},emptyBuffer:function(e){Hl.checkArgumentType(e,"number","bytes");for(var r=A.Buffer.alloc(e),n=0;n<e;n++)r.write("\0",n);return r},concat:UG.Buffer.concat,equals:qG,equal:qG,integerAsSingleByteBuffer:function(e){return Hl.checkArgumentType(e,"number","integer"),A.Buffer.from([e&255])},integerAsBuffer:function(e){Hl.checkArgumentType(e,"number","integer");var r=[];return r.push(e>>24&255),r.push(e>>16&255),r.push(e>>8&255),r.push(e&255),A.Buffer.from(r)},integerFromBuffer:function(e){return Hl.checkArgumentType(e,"Buffer","buffer"),e[0]<<24|e[1]<<16|e[2]<<8|e[3]},integerFromSingleByteBuffer:function(e){return Hl.checkArgumentType(e,"Buffer","buffer"),e[0]},bufferToHex:function(e){return Hl.checkArgumentType(e,"Buffer","buffer"),e.toString("hex")},reverse:function(e){return A.Buffer.from(e).reverse()}};q9.exports.NULL_HASH=q9.exports.fill(A.Buffer.alloc(32),0);q9.exports.EMPTY_BUFFER=A.Buffer.alloc(0)});var HA=$(($G,FA)=>{k();M();(function(t,e){"use strict";function r(C,d){if(!C)throw new Error(d||"Assertion failed")}function n(C,d){C.super_=d;var v=function(){};v.prototype=d.prototype,C.prototype=new v,C.prototype.constructor=C}function i(C,d,v){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(C||0,d||10,v||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=ai().Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,v){return d.cmp(v)>0?d:v},i.min=function(d,v){return d.cmp(v)<0?d:v},i.prototype._init=function(d,v,g){if(typeof d=="number")return this._initNumber(d,v,g);if(typeof d=="object")return this._initArray(d,v,g);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),d=d.toString().replace(/\s+/g,"");var m=0;d[0]==="-"&&m++,v===16?this._parseHex(d,m):this._parseBase(d,v,m),d[0]==="-"&&(this.negative=1),this.strip(),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initNumber=function(d,v,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initArray=function(d,v,g){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var S,w,R=0;if(g==="be")for(m=d.length-1,S=0;m>=0;m-=3)w=d[m]|d[m-1]<<8|d[m-2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);else if(g==="le")for(m=0,S=0;m<d.length;m+=3)w=d[m]|d[m+1]<<8|d[m+2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);return this.strip()};function o(C,d,v){for(var g=0,m=Math.min(C.length,v),S=d;S<m;S++){var w=C.charCodeAt(S)-48;g<<=4,w>=49&&w<=54?g|=w-49+10:w>=17&&w<=22?g|=w-17+10:g|=w&15}return g}i.prototype._parseHex=function(d,v){this.length=Math.ceil((d.length-v)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,S,w=0;for(g=d.length-6,m=0;g>=v;g-=6)S=o(d,g,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303,w+=24,w>=26&&(w-=26,m++);g+6!==v&&(S=o(d,v,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303),this.strip()};function a(C,d,v,g){for(var m=0,S=Math.min(C.length,v),w=d;w<S;w++){var R=C.charCodeAt(w)-48;m*=g,R>=49?m+=R-49+10:R>=17?m+=R-17+10:m+=R}return m}i.prototype._parseBase=function(d,v,g){this.words=[0],this.length=1;for(var m=0,S=1;S<=67108863;S*=v)m++;m--,S=S/v|0;for(var w=d.length-g,R=w%m,T=Math.min(w,w-R)+g,b=0,x=g;x<T;x+=m)b=a(d,x,x+m,v),this.imuln(S),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(R!==0){var P=1;for(b=a(d,x,d.length,v),x=0;x<R;x++)P*=v;this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}},i.prototype.copy=function(d){d.words=new Array(this.length);for(var v=0;v<this.length;v++)d.words[v]=this.words[v];d.length=this.length,d.negative=this.negative,d.red=this.red},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,v){d=d||10,v=v|0||1;var g;if(d===16||d==="hex"){g="";for(var m=0,S=0,w=0;w<this.length;w++){var R=this.words[w],T=((R<<m|S)&16777215).toString(16);S=R>>>24-m&16777215,S!==0||w!==this.length-1?g=u[6-T.length]+T+g:g=T+g,m+=2,m>=26&&(m-=26,w--)}for(S!==0&&(g=S.toString(16)+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var b=c[d],x=h[d];g="";var P=this.clone();for(P.negative=0;!P.isZero();){var U=P.modn(x).toString(d);P=P.idivn(x),P.isZero()?g=U+g:g=u[b-U.length]+U+g}for(this.isZero()&&(g="0"+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(d,v){return r(typeof s<"u"),this.toArrayLike(s,d,v)},i.prototype.toArray=function(d,v){return this.toArrayLike(Array,d,v)},i.prototype.toArrayLike=function(d,v,g){var m=this.byteLength(),S=g||Math.max(1,m);r(m<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0"),this.strip();var w=v==="le",R=new d(S),T,b,x=this.clone();if(w){for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[b]=T;for(;b<S;b++)R[b]=0}else{for(b=0;b<S-m;b++)R[b]=0;for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[S-b-1]=T}return R},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var v=d,g=0;return v>=4096&&(g+=13,v>>>=13),v>=64&&(g+=7,v>>>=7),v>=8&&(g+=4,v>>>=4),v>=2&&(g+=2,v>>>=2),g+v},i.prototype._zeroBits=function(d){if(d===0)return 26;var v=d,g=0;return(v&8191)===0&&(g+=13,v>>>=13),(v&127)===0&&(g+=7,v>>>=7),(v&15)===0&&(g+=4,v>>>=4),(v&3)===0&&(g+=2,v>>>=2),(v&1)===0&&g++,g},i.prototype.bitLength=function(){var d=this.words[this.length-1],v=this._countBits(d);return(this.length-1)*26+v};function f(C){for(var d=new Array(C.bitLength()),v=0;v<d.length;v++){var g=v/26|0,m=v%26;d[v]=(C.words[g]&1<<m)>>>m}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,v=0;v<this.length;v++){var g=this._zeroBits(this.words[v]);if(d+=g,g!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]|d.words[v];return this.strip()},i.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var v;this.length>d.length?v=d:v=this;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=v.length,this.strip()},i.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var v,g;this.length>d.length?(v=this,g=d):(v=d,g=this);for(var m=0;m<g.length;m++)this.words[m]=v.words[m]^g.words[m];if(this!==v)for(;m<v.length;m++)this.words[m]=v.words[m];return this.length=v.length,this.strip()},i.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var v=Math.ceil(d/26)|0,g=d%26;this._expand(v),g>0&&v--;for(var m=0;m<v;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,v){r(typeof d=="number"&&d>=0);var g=d/26|0,m=d%26;return this._expand(g+1),v?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},i.prototype.iadd=function(d){var v;if(this.negative!==0&&d.negative===0)return this.negative=0,v=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,v=this.isub(d),d.negative=1,v._normSign();var g,m;this.length>d.length?(g=this,m=d):(g=d,m=this);for(var S=0,w=0;w<m.length;w++)v=(g.words[w]|0)+(m.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;for(;S!==0&&w<g.length;w++)v=(g.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;if(this.length=g.length,S!==0)this.words[this.length]=S,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},i.prototype.add=function(d){var v;return d.negative!==0&&this.negative===0?(d.negative=0,v=this.sub(d),d.negative^=1,v):d.negative===0&&this.negative!==0?(this.negative=0,v=d.sub(this),this.negative=1,v):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var v=this.iadd(d);return d.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,S;g>0?(m=this,S=d):(m=d,S=this);for(var w=0,R=0;R<S.length;R++)v=(m.words[R]|0)-(S.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;for(;w!==0&&R<m.length;R++)v=(m.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;if(w===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function p(C,d,v){v.negative=d.negative^C.negative;var g=C.length+d.length|0;v.length=g,g=g-1|0;var m=C.words[0]|0,S=d.words[0]|0,w=m*S,R=w&67108863,T=w/67108864|0;v.words[0]=R;for(var b=1;b<g;b++){for(var x=T>>>26,P=T&67108863,U=Math.min(b,d.length-1),K=Math.max(0,b-C.length+1);K<=U;K++){var z=b-K|0;m=C.words[z]|0,S=d.words[K]|0,w=m*S+P,x+=w/67108864|0,P=w&67108863}v.words[b]=P|0,T=x|0}return T!==0?v.words[b]=T|0:v.length--,v.strip()}var l=function(d,v,g){var m=d.words,S=v.words,w=g.words,R=0,T,b,x,P=m[0]|0,U=P&8191,K=P>>>13,z=m[1]|0,Q=z&8191,oe=z>>>13,ie=m[2]|0,q=ie&8191,X=ie>>>13,J=m[3]|0,re=J&8191,ae=J>>>13,me=m[4]|0,_e=me&8191,Ie=me>>>13,Le=m[5]|0,Ce=Le&8191,He=Le>>>13,Ze=m[6]|0,Te=Ze&8191,Se=Ze>>>13,pt=m[7]|0,j=pt&8191,Y=pt>>>13,V=m[8]|0,G=V&8191,Z=V>>>13,ee=m[9]|0,te=ee&8191,ue=ee>>>13,se=S[0]|0,de=se&8191,ye=se>>>13,Pe=S[1]|0,xe=Pe&8191,Ge=Pe>>>13,Ft=S[2]|0,Ye=Ft&8191,St=Ft>>>13,tn=S[3]|0,Je=tn&8191,Ht=tn>>>13,rn=S[4]|0,Qe=rn&8191,Dt=rn>>>13,nn=S[5]|0,et=nn&8191,Lt=nn>>>13,sn=S[6]|0,tt=sn&8191,Ut=sn>>>13,on=S[7]|0,rt=on&8191,qt=on>>>13,an=S[8]|0,nt=an&8191,$t=an>>>13,un=S[9]|0,it=un&8191,jt=un>>>13;g.negative=d.negative^v.negative,g.length=19,T=Math.imul(U,de),b=Math.imul(U,ye),b=b+Math.imul(K,de)|0,x=Math.imul(K,ye);var Gr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,T=Math.imul(Q,de),b=Math.imul(Q,ye),b=b+Math.imul(oe,de)|0,x=Math.imul(oe,ye),T=T+Math.imul(U,xe)|0,b=b+Math.imul(U,Ge)|0,b=b+Math.imul(K,xe)|0,x=x+Math.imul(K,Ge)|0;var zr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zr>>>26)|0,zr&=67108863,T=Math.imul(q,de),b=Math.imul(q,ye),b=b+Math.imul(X,de)|0,x=Math.imul(X,ye),T=T+Math.imul(Q,xe)|0,b=b+Math.imul(Q,Ge)|0,b=b+Math.imul(oe,xe)|0,x=x+Math.imul(oe,Ge)|0,T=T+Math.imul(U,Ye)|0,b=b+Math.imul(U,St)|0,b=b+Math.imul(K,Ye)|0,x=x+Math.imul(K,St)|0;var Du=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Du>>>26)|0,Du&=67108863,T=Math.imul(re,de),b=Math.imul(re,ye),b=b+Math.imul(ae,de)|0,x=Math.imul(ae,ye),T=T+Math.imul(q,xe)|0,b=b+Math.imul(q,Ge)|0,b=b+Math.imul(X,xe)|0,x=x+Math.imul(X,Ge)|0,T=T+Math.imul(Q,Ye)|0,b=b+Math.imul(Q,St)|0,b=b+Math.imul(oe,Ye)|0,x=x+Math.imul(oe,St)|0,T=T+Math.imul(U,Je)|0,b=b+Math.imul(U,Ht)|0,b=b+Math.imul(K,Je)|0,x=x+Math.imul(K,Ht)|0;var Lu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,T=Math.imul(_e,de),b=Math.imul(_e,ye),b=b+Math.imul(Ie,de)|0,x=Math.imul(Ie,ye),T=T+Math.imul(re,xe)|0,b=b+Math.imul(re,Ge)|0,b=b+Math.imul(ae,xe)|0,x=x+Math.imul(ae,Ge)|0,T=T+Math.imul(q,Ye)|0,b=b+Math.imul(q,St)|0,b=b+Math.imul(X,Ye)|0,x=x+Math.imul(X,St)|0,T=T+Math.imul(Q,Je)|0,b=b+Math.imul(Q,Ht)|0,b=b+Math.imul(oe,Je)|0,x=x+Math.imul(oe,Ht)|0,T=T+Math.imul(U,Qe)|0,b=b+Math.imul(U,Dt)|0,b=b+Math.imul(K,Qe)|0,x=x+Math.imul(K,Dt)|0;var Uu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,T=Math.imul(Ce,de),b=Math.imul(Ce,ye),b=b+Math.imul(He,de)|0,x=Math.imul(He,ye),T=T+Math.imul(_e,xe)|0,b=b+Math.imul(_e,Ge)|0,b=b+Math.imul(Ie,xe)|0,x=x+Math.imul(Ie,Ge)|0,T=T+Math.imul(re,Ye)|0,b=b+Math.imul(re,St)|0,b=b+Math.imul(ae,Ye)|0,x=x+Math.imul(ae,St)|0,T=T+Math.imul(q,Je)|0,b=b+Math.imul(q,Ht)|0,b=b+Math.imul(X,Je)|0,x=x+Math.imul(X,Ht)|0,T=T+Math.imul(Q,Qe)|0,b=b+Math.imul(Q,Dt)|0,b=b+Math.imul(oe,Qe)|0,x=x+Math.imul(oe,Dt)|0,T=T+Math.imul(U,et)|0,b=b+Math.imul(U,Lt)|0,b=b+Math.imul(K,et)|0,x=x+Math.imul(K,Lt)|0;var qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(qu>>>26)|0,qu&=67108863,T=Math.imul(Te,de),b=Math.imul(Te,ye),b=b+Math.imul(Se,de)|0,x=Math.imul(Se,ye),T=T+Math.imul(Ce,xe)|0,b=b+Math.imul(Ce,Ge)|0,b=b+Math.imul(He,xe)|0,x=x+Math.imul(He,Ge)|0,T=T+Math.imul(_e,Ye)|0,b=b+Math.imul(_e,St)|0,b=b+Math.imul(Ie,Ye)|0,x=x+Math.imul(Ie,St)|0,T=T+Math.imul(re,Je)|0,b=b+Math.imul(re,Ht)|0,b=b+Math.imul(ae,Je)|0,x=x+Math.imul(ae,Ht)|0,T=T+Math.imul(q,Qe)|0,b=b+Math.imul(q,Dt)|0,b=b+Math.imul(X,Qe)|0,x=x+Math.imul(X,Dt)|0,T=T+Math.imul(Q,et)|0,b=b+Math.imul(Q,Lt)|0,b=b+Math.imul(oe,et)|0,x=x+Math.imul(oe,Lt)|0,T=T+Math.imul(U,tt)|0,b=b+Math.imul(U,Ut)|0,b=b+Math.imul(K,tt)|0,x=x+Math.imul(K,Ut)|0;var $u=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+($u>>>26)|0,$u&=67108863,T=Math.imul(j,de),b=Math.imul(j,ye),b=b+Math.imul(Y,de)|0,x=Math.imul(Y,ye),T=T+Math.imul(Te,xe)|0,b=b+Math.imul(Te,Ge)|0,b=b+Math.imul(Se,xe)|0,x=x+Math.imul(Se,Ge)|0,T=T+Math.imul(Ce,Ye)|0,b=b+Math.imul(Ce,St)|0,b=b+Math.imul(He,Ye)|0,x=x+Math.imul(He,St)|0,T=T+Math.imul(_e,Je)|0,b=b+Math.imul(_e,Ht)|0,b=b+Math.imul(Ie,Je)|0,x=x+Math.imul(Ie,Ht)|0,T=T+Math.imul(re,Qe)|0,b=b+Math.imul(re,Dt)|0,b=b+Math.imul(ae,Qe)|0,x=x+Math.imul(ae,Dt)|0,T=T+Math.imul(q,et)|0,b=b+Math.imul(q,Lt)|0,b=b+Math.imul(X,et)|0,x=x+Math.imul(X,Lt)|0,T=T+Math.imul(Q,tt)|0,b=b+Math.imul(Q,Ut)|0,b=b+Math.imul(oe,tt)|0,x=x+Math.imul(oe,Ut)|0,T=T+Math.imul(U,rt)|0,b=b+Math.imul(U,qt)|0,b=b+Math.imul(K,rt)|0,x=x+Math.imul(K,qt)|0;var ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(ju>>>26)|0,ju&=67108863,T=Math.imul(G,de),b=Math.imul(G,ye),b=b+Math.imul(Z,de)|0,x=Math.imul(Z,ye),T=T+Math.imul(j,xe)|0,b=b+Math.imul(j,Ge)|0,b=b+Math.imul(Y,xe)|0,x=x+Math.imul(Y,Ge)|0,T=T+Math.imul(Te,Ye)|0,b=b+Math.imul(Te,St)|0,b=b+Math.imul(Se,Ye)|0,x=x+Math.imul(Se,St)|0,T=T+Math.imul(Ce,Je)|0,b=b+Math.imul(Ce,Ht)|0,b=b+Math.imul(He,Je)|0,x=x+Math.imul(He,Ht)|0,T=T+Math.imul(_e,Qe)|0,b=b+Math.imul(_e,Dt)|0,b=b+Math.imul(Ie,Qe)|0,x=x+Math.imul(Ie,Dt)|0,T=T+Math.imul(re,et)|0,b=b+Math.imul(re,Lt)|0,b=b+Math.imul(ae,et)|0,x=x+Math.imul(ae,Lt)|0,T=T+Math.imul(q,tt)|0,b=b+Math.imul(q,Ut)|0,b=b+Math.imul(X,tt)|0,x=x+Math.imul(X,Ut)|0,T=T+Math.imul(Q,rt)|0,b=b+Math.imul(Q,qt)|0,b=b+Math.imul(oe,rt)|0,x=x+Math.imul(oe,qt)|0,T=T+Math.imul(U,nt)|0,b=b+Math.imul(U,$t)|0,b=b+Math.imul(K,nt)|0,x=x+Math.imul(K,$t)|0;var Ku=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,T=Math.imul(te,de),b=Math.imul(te,ye),b=b+Math.imul(ue,de)|0,x=Math.imul(ue,ye),T=T+Math.imul(G,xe)|0,b=b+Math.imul(G,Ge)|0,b=b+Math.imul(Z,xe)|0,x=x+Math.imul(Z,Ge)|0,T=T+Math.imul(j,Ye)|0,b=b+Math.imul(j,St)|0,b=b+Math.imul(Y,Ye)|0,x=x+Math.imul(Y,St)|0,T=T+Math.imul(Te,Je)|0,b=b+Math.imul(Te,Ht)|0,b=b+Math.imul(Se,Je)|0,x=x+Math.imul(Se,Ht)|0,T=T+Math.imul(Ce,Qe)|0,b=b+Math.imul(Ce,Dt)|0,b=b+Math.imul(He,Qe)|0,x=x+Math.imul(He,Dt)|0,T=T+Math.imul(_e,et)|0,b=b+Math.imul(_e,Lt)|0,b=b+Math.imul(Ie,et)|0,x=x+Math.imul(Ie,Lt)|0,T=T+Math.imul(re,tt)|0,b=b+Math.imul(re,Ut)|0,b=b+Math.imul(ae,tt)|0,x=x+Math.imul(ae,Ut)|0,T=T+Math.imul(q,rt)|0,b=b+Math.imul(q,qt)|0,b=b+Math.imul(X,rt)|0,x=x+Math.imul(X,qt)|0,T=T+Math.imul(Q,nt)|0,b=b+Math.imul(Q,$t)|0,b=b+Math.imul(oe,nt)|0,x=x+Math.imul(oe,$t)|0,T=T+Math.imul(U,it)|0,b=b+Math.imul(U,jt)|0,b=b+Math.imul(K,it)|0,x=x+Math.imul(K,jt)|0;var Vu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,T=Math.imul(te,xe),b=Math.imul(te,Ge),b=b+Math.imul(ue,xe)|0,x=Math.imul(ue,Ge),T=T+Math.imul(G,Ye)|0,b=b+Math.imul(G,St)|0,b=b+Math.imul(Z,Ye)|0,x=x+Math.imul(Z,St)|0,T=T+Math.imul(j,Je)|0,b=b+Math.imul(j,Ht)|0,b=b+Math.imul(Y,Je)|0,x=x+Math.imul(Y,Ht)|0,T=T+Math.imul(Te,Qe)|0,b=b+Math.imul(Te,Dt)|0,b=b+Math.imul(Se,Qe)|0,x=x+Math.imul(Se,Dt)|0,T=T+Math.imul(Ce,et)|0,b=b+Math.imul(Ce,Lt)|0,b=b+Math.imul(He,et)|0,x=x+Math.imul(He,Lt)|0,T=T+Math.imul(_e,tt)|0,b=b+Math.imul(_e,Ut)|0,b=b+Math.imul(Ie,tt)|0,x=x+Math.imul(Ie,Ut)|0,T=T+Math.imul(re,rt)|0,b=b+Math.imul(re,qt)|0,b=b+Math.imul(ae,rt)|0,x=x+Math.imul(ae,qt)|0,T=T+Math.imul(q,nt)|0,b=b+Math.imul(q,$t)|0,b=b+Math.imul(X,nt)|0,x=x+Math.imul(X,$t)|0,T=T+Math.imul(Q,it)|0,b=b+Math.imul(Q,jt)|0,b=b+Math.imul(oe,it)|0,x=x+Math.imul(oe,jt)|0;var Gu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,T=Math.imul(te,Ye),b=Math.imul(te,St),b=b+Math.imul(ue,Ye)|0,x=Math.imul(ue,St),T=T+Math.imul(G,Je)|0,b=b+Math.imul(G,Ht)|0,b=b+Math.imul(Z,Je)|0,x=x+Math.imul(Z,Ht)|0,T=T+Math.imul(j,Qe)|0,b=b+Math.imul(j,Dt)|0,b=b+Math.imul(Y,Qe)|0,x=x+Math.imul(Y,Dt)|0,T=T+Math.imul(Te,et)|0,b=b+Math.imul(Te,Lt)|0,b=b+Math.imul(Se,et)|0,x=x+Math.imul(Se,Lt)|0,T=T+Math.imul(Ce,tt)|0,b=b+Math.imul(Ce,Ut)|0,b=b+Math.imul(He,tt)|0,x=x+Math.imul(He,Ut)|0,T=T+Math.imul(_e,rt)|0,b=b+Math.imul(_e,qt)|0,b=b+Math.imul(Ie,rt)|0,x=x+Math.imul(Ie,qt)|0,T=T+Math.imul(re,nt)|0,b=b+Math.imul(re,$t)|0,b=b+Math.imul(ae,nt)|0,x=x+Math.imul(ae,$t)|0,T=T+Math.imul(q,it)|0,b=b+Math.imul(q,jt)|0,b=b+Math.imul(X,it)|0,x=x+Math.imul(X,jt)|0;var zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zu>>>26)|0,zu&=67108863,T=Math.imul(te,Je),b=Math.imul(te,Ht),b=b+Math.imul(ue,Je)|0,x=Math.imul(ue,Ht),T=T+Math.imul(G,Qe)|0,b=b+Math.imul(G,Dt)|0,b=b+Math.imul(Z,Qe)|0,x=x+Math.imul(Z,Dt)|0,T=T+Math.imul(j,et)|0,b=b+Math.imul(j,Lt)|0,b=b+Math.imul(Y,et)|0,x=x+Math.imul(Y,Lt)|0,T=T+Math.imul(Te,tt)|0,b=b+Math.imul(Te,Ut)|0,b=b+Math.imul(Se,tt)|0,x=x+Math.imul(Se,Ut)|0,T=T+Math.imul(Ce,rt)|0,b=b+Math.imul(Ce,qt)|0,b=b+Math.imul(He,rt)|0,x=x+Math.imul(He,qt)|0,T=T+Math.imul(_e,nt)|0,b=b+Math.imul(_e,$t)|0,b=b+Math.imul(Ie,nt)|0,x=x+Math.imul(Ie,$t)|0,T=T+Math.imul(re,it)|0,b=b+Math.imul(re,jt)|0,b=b+Math.imul(ae,it)|0,x=x+Math.imul(ae,jt)|0;var Wu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,T=Math.imul(te,Qe),b=Math.imul(te,Dt),b=b+Math.imul(ue,Qe)|0,x=Math.imul(ue,Dt),T=T+Math.imul(G,et)|0,b=b+Math.imul(G,Lt)|0,b=b+Math.imul(Z,et)|0,x=x+Math.imul(Z,Lt)|0,T=T+Math.imul(j,tt)|0,b=b+Math.imul(j,Ut)|0,b=b+Math.imul(Y,tt)|0,x=x+Math.imul(Y,Ut)|0,T=T+Math.imul(Te,rt)|0,b=b+Math.imul(Te,qt)|0,b=b+Math.imul(Se,rt)|0,x=x+Math.imul(Se,qt)|0,T=T+Math.imul(Ce,nt)|0,b=b+Math.imul(Ce,$t)|0,b=b+Math.imul(He,nt)|0,x=x+Math.imul(He,$t)|0,T=T+Math.imul(_e,it)|0,b=b+Math.imul(_e,jt)|0,b=b+Math.imul(Ie,it)|0,x=x+Math.imul(Ie,jt)|0;var Yu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,T=Math.imul(te,et),b=Math.imul(te,Lt),b=b+Math.imul(ue,et)|0,x=Math.imul(ue,Lt),T=T+Math.imul(G,tt)|0,b=b+Math.imul(G,Ut)|0,b=b+Math.imul(Z,tt)|0,x=x+Math.imul(Z,Ut)|0,T=T+Math.imul(j,rt)|0,b=b+Math.imul(j,qt)|0,b=b+Math.imul(Y,rt)|0,x=x+Math.imul(Y,qt)|0,T=T+Math.imul(Te,nt)|0,b=b+Math.imul(Te,$t)|0,b=b+Math.imul(Se,nt)|0,x=x+Math.imul(Se,$t)|0,T=T+Math.imul(Ce,it)|0,b=b+Math.imul(Ce,jt)|0,b=b+Math.imul(He,it)|0,x=x+Math.imul(He,jt)|0;var Xu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,T=Math.imul(te,tt),b=Math.imul(te,Ut),b=b+Math.imul(ue,tt)|0,x=Math.imul(ue,Ut),T=T+Math.imul(G,rt)|0,b=b+Math.imul(G,qt)|0,b=b+Math.imul(Z,rt)|0,x=x+Math.imul(Z,qt)|0,T=T+Math.imul(j,nt)|0,b=b+Math.imul(j,$t)|0,b=b+Math.imul(Y,nt)|0,x=x+Math.imul(Y,$t)|0,T=T+Math.imul(Te,it)|0,b=b+Math.imul(Te,jt)|0,b=b+Math.imul(Se,it)|0,x=x+Math.imul(Se,jt)|0;var Zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,T=Math.imul(te,rt),b=Math.imul(te,qt),b=b+Math.imul(ue,rt)|0,x=Math.imul(ue,qt),T=T+Math.imul(G,nt)|0,b=b+Math.imul(G,$t)|0,b=b+Math.imul(Z,nt)|0,x=x+Math.imul(Z,$t)|0,T=T+Math.imul(j,it)|0,b=b+Math.imul(j,jt)|0,b=b+Math.imul(Y,it)|0,x=x+Math.imul(Y,jt)|0;var Ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,T=Math.imul(te,nt),b=Math.imul(te,$t),b=b+Math.imul(ue,nt)|0,x=Math.imul(ue,$t),T=T+Math.imul(G,it)|0,b=b+Math.imul(G,jt)|0,b=b+Math.imul(Z,it)|0,x=x+Math.imul(Z,jt)|0;var Qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,T=Math.imul(te,it),b=Math.imul(te,jt),b=b+Math.imul(ue,it)|0,x=Math.imul(ue,jt);var ec=(R+T|0)+((b&8191)<<13)|0;return R=(x+(b>>>13)|0)+(ec>>>26)|0,ec&=67108863,w[0]=Gr,w[1]=zr,w[2]=Du,w[3]=Lu,w[4]=Uu,w[5]=qu,w[6]=$u,w[7]=ju,w[8]=Ku,w[9]=Vu,w[10]=Gu,w[11]=zu,w[12]=Wu,w[13]=Yu,w[14]=Xu,w[15]=Zu,w[16]=Ju,w[17]=Qu,w[18]=ec,R!==0&&(w[19]=R,g.length++),g};Math.imul||(l=p);function y(C,d,v){v.negative=d.negative^C.negative,v.length=C.length+d.length;for(var g=0,m=0,S=0;S<v.length-1;S++){var w=m;m=0;for(var R=g&67108863,T=Math.min(S,d.length-1),b=Math.max(0,S-C.length+1);b<=T;b++){var x=S-b,P=C.words[x]|0,U=d.words[b]|0,K=P*U,z=K&67108863;w=w+(K/67108864|0)|0,z=z+R|0,R=z&67108863,w=w+(z>>>26)|0,m+=w>>>26,w&=67108863}v.words[S]=R,g=w,w=m}return g!==0?v.words[S]=g:v.length--,v.strip()}function _(C,d,v){var g=new O;return g.mulp(C,d,v)}i.prototype.mulTo=function(d,v){var g,m=this.length+d.length;return this.length===10&&d.length===10?g=l(this,d,v):m<63?g=p(this,d,v):m<1024?g=y(this,d,v):g=_(this,d,v),g};function O(C,d){this.x=C,this.y=d}O.prototype.makeRBT=function(d){for(var v=new Array(d),g=i.prototype._countBits(d)-1,m=0;m<d;m++)v[m]=this.revBin(m,g,d);return v},O.prototype.revBin=function(d,v,g){if(d===0||d===g-1)return d;for(var m=0,S=0;S<v;S++)m|=(d&1)<<v-S-1,d>>=1;return m},O.prototype.permute=function(d,v,g,m,S,w){for(var R=0;R<w;R++)m[R]=v[d[R]],S[R]=g[d[R]]},O.prototype.transform=function(d,v,g,m,S,w){this.permute(w,d,v,g,m,S);for(var R=1;R<S;R<<=1)for(var T=R<<1,b=Math.cos(2*Math.PI/T),x=Math.sin(2*Math.PI/T),P=0;P<S;P+=T)for(var U=b,K=x,z=0;z<R;z++){var Q=g[P+z],oe=m[P+z],ie=g[P+z+R],q=m[P+z+R],X=U*ie-K*q;q=U*q+K*ie,ie=X,g[P+z]=Q+ie,m[P+z]=oe+q,g[P+z+R]=Q-ie,m[P+z+R]=oe-q,z!==T&&(X=b*U-x*K,K=b*K+x*U,U=X)}},O.prototype.guessLen13b=function(d,v){var g=Math.max(v,d)|1,m=g&1,S=0;for(g=g/2|0;g;g=g>>>1)S++;return 1<<S+1+m},O.prototype.conjugate=function(d,v,g){if(!(g<=1))for(var m=0;m<g/2;m++){var S=d[m];d[m]=d[g-m-1],d[g-m-1]=S,S=v[m],v[m]=-v[g-m-1],v[g-m-1]=-S}},O.prototype.normalize13b=function(d,v){for(var g=0,m=0;m<v/2;m++){var S=Math.round(d[2*m+1]/v)*8192+Math.round(d[2*m]/v)+g;d[m]=S&67108863,S<67108864?g=0:g=S/67108864|0}return d},O.prototype.convert13b=function(d,v,g,m){for(var S=0,w=0;w<v;w++)S=S+(d[w]|0),g[2*w]=S&8191,S=S>>>13,g[2*w+1]=S&8191,S=S>>>13;for(w=2*v;w<m;++w)g[w]=0;r(S===0),r((S&-8192)===0)},O.prototype.stub=function(d){for(var v=new Array(d),g=0;g<d;g++)v[g]=0;return v},O.prototype.mulp=function(d,v,g){var m=2*this.guessLen13b(d.length,v.length),S=this.makeRBT(m),w=this.stub(m),R=new Array(m),T=new Array(m),b=new Array(m),x=new Array(m),P=new Array(m),U=new Array(m),K=g.words;K.length=m,this.convert13b(d.words,d.length,R,m),this.convert13b(v.words,v.length,x,m),this.transform(R,w,T,b,m,S),this.transform(x,w,P,U,m,S);for(var z=0;z<m;z++){var Q=T[z]*P[z]-b[z]*U[z];b[z]=T[z]*U[z]+b[z]*P[z],T[z]=Q}return this.conjugate(T,b,m),this.transform(T,b,K,w,m,S),this.conjugate(K,w,m),this.normalize13b(K,m),g.negative=d.negative^v.negative,g.length=d.length+v.length,g.strip()},i.prototype.mul=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),this.mulTo(d,v)},i.prototype.mulf=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),_(this,d,v)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var v=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*d,S=(m&67108863)+(v&67108863);v>>=26,v+=m/67108864|0,v+=S>>>26,this.words[g]=S&67108863}return v!==0&&(this.words[g]=v,this.length++),this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var v=f(d);if(v.length===0)return new i(1);for(var g=this,m=0;m<v.length&&v[m]===0;m++,g=g.sqr());if(++m<v.length)for(var S=g.sqr();m<v.length;m++,S=S.sqr())v[m]!==0&&(g=g.mul(S));return g},i.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=67108863>>>26-v<<26-v,S;if(v!==0){var w=0;for(S=0;S<this.length;S++){var R=this.words[S]&m,T=(this.words[S]|0)-R<<v;this.words[S]=T|w,w=R>>>26-v}w&&(this.words[S]=w,this.length++)}if(g!==0){for(S=this.length-1;S>=0;S--)this.words[S+g]=this.words[S];for(S=0;S<g;S++)this.words[S]=0;this.length+=g}return this.strip()},i.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,v,g){r(typeof d=="number"&&d>=0);var m;v?m=(v-v%26)/26:m=0;var S=d%26,w=Math.min((d-S)/26,this.length),R=67108863^67108863>>>S<<S,T=g;if(m-=w,m=Math.max(0,m),T){for(var b=0;b<w;b++)T.words[b]=this.words[b];T.length=w}if(w!==0)if(this.length>w)for(this.length-=w,b=0;b<this.length;b++)this.words[b]=this.words[b+w];else this.words[0]=0,this.length=1;var x=0;for(b=this.length-1;b>=0&&(x!==0||b>=m);b--){var P=this.words[b]|0;this.words[b]=x<<26-S|P>>>S,x=P&R}return T&&x!==0&&(T.words[T.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(d,v,g){return r(this.negative===0),this.iushrn(d,v,g)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return!1;var S=this.words[g];return!!(S&m)},i.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(v!==0&&g++,this.length=Math.min(g,this.length),v!==0){var m=67108863^67108863>>>v<<v;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,v,g){var m=d.length+g,S;this._expand(m);var w,R=0;for(S=0;S<d.length;S++){w=(this.words[S+g]|0)+R;var T=(d.words[S]|0)*v;w-=T&67108863,R=(w>>26)-(T/67108864|0),this.words[S+g]=w&67108863}for(;S<this.length-g;S++)w=(this.words[S+g]|0)+R,R=w>>26,this.words[S+g]=w&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,S=0;S<this.length;S++)w=-(this.words[S]|0)+R,R=w>>26,this.words[S]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(d,v){var g=this.length-d.length,m=this.clone(),S=d,w=S.words[S.length-1]|0,R=this._countBits(w);g=26-R,g!==0&&(S=S.ushln(g),m.iushln(g),w=S.words[S.length-1]|0);var T=m.length-S.length,b;if(v!=="mod"){b=new i(null),b.length=T+1,b.words=new Array(b.length);for(var x=0;x<b.length;x++)b.words[x]=0}var P=m.clone()._ishlnsubmul(S,1,T);P.negative===0&&(m=P,b&&(b.words[T]=1));for(var U=T-1;U>=0;U--){var K=(m.words[S.length+U]|0)*67108864+(m.words[S.length+U-1]|0);for(K=Math.min(K/w|0,67108863),m._ishlnsubmul(S,K,U);m.negative!==0;)K--,m.negative=0,m._ishlnsubmul(S,1,U),m.isZero()||(m.negative^=1);b&&(b.words[U]=K)}return b&&b.strip(),m.strip(),v!=="div"&&g!==0&&m.iushrn(g),{div:b||null,mod:m}},i.prototype.divmod=function(d,v,g){if(r(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,S,w;return this.negative!==0&&d.negative===0?(w=this.neg().divmod(d,v),v!=="mod"&&(m=w.div.neg()),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.iadd(d)),{div:m,mod:S}):this.negative===0&&d.negative!==0?(w=this.divmod(d.neg(),v),v!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):(this.negative&d.negative)!==0?(w=this.neg().divmod(d.neg(),v),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.isub(d)),{div:w.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?v==="div"?{div:this.divn(d.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modn(d.words[0]))}:this._wordDiv(d,v)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var v=this.divmod(d);if(v.mod.isZero())return v.div;var g=v.div.negative!==0?v.mod.isub(d):v.mod,m=d.ushrn(1),S=d.andln(1),w=g.cmp(m);return w<0||S===1&&w===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modn=function(d){r(d<=67108863);for(var v=(1<<26)%d,g=0,m=this.length-1;m>=0;m--)g=(v*g+(this.words[m]|0))%d;return g},i.prototype.idivn=function(d){r(d<=67108863);for(var v=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+v*67108864;this.words[g]=m/d|0,v=m%d}return this.strip()},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=new i(0),R=new i(1),T=0;v.isEven()&&g.isEven();)v.iushrn(1),g.iushrn(1),++T;for(var b=g.clone(),x=v.clone();!v.isZero();){for(var P=0,U=1;(v.words[0]&U)===0&&P<26;++P,U<<=1);if(P>0)for(v.iushrn(P);P-- >0;)(m.isOdd()||S.isOdd())&&(m.iadd(b),S.isub(x)),m.iushrn(1),S.iushrn(1);for(var K=0,z=1;(g.words[0]&z)===0&&K<26;++K,z<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(b),R.isub(x)),w.iushrn(1),R.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(w),S.isub(R)):(g.isub(v),w.isub(m),R.isub(S))}return{a:w,b:R,gcd:g.iushln(T)}},i.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=g.clone();v.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,T=1;(v.words[0]&T)===0&&R<26;++R,T<<=1);if(R>0)for(v.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);for(var b=0,x=1;(g.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(g.iushrn(b);b-- >0;)S.isOdd()&&S.iadd(w),S.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(S)):(g.isub(v),S.isub(m))}var P;return v.cmpn(1)===0?P=m:P=S,P.cmpn(0)<0&&P.iadd(d),P},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var v=this.clone(),g=d.clone();v.negative=0,g.negative=0;for(var m=0;v.isEven()&&g.isEven();m++)v.iushrn(1),g.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;g.isEven();)g.iushrn(1);var S=v.cmp(g);if(S<0){var w=v;v=g,g=w}else if(S===0||g.cmpn(1)===0)break;v.isub(g)}while(!0);return g.iushln(m)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){r(typeof d=="number");var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var S=m,w=g;S!==0&&w<this.length;w++){var R=this.words[w]|0;R+=S,S=R>>>26,R&=67108863,this.words[w]=R}return S!==0&&(this.words[w]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var v=d<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var g;if(this.length>1)g=1;else{v&&(d=-d),r(d<=67108863,"Number is too big");var m=this.words[0]|0;g=m===d?0:m<d?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var v=this.ucmp(d);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var v=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,S=d.words[g]|0;if(m!==S){m<S?v=-1:m>S&&(v=1);break}}return v},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new H(d)},i.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var F={k256:null,p224:null,p192:null,p25519:null};function B(C,d){this.name=C,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},B.prototype.ireduce=function(d){var v=d,g;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),g=v.bitLength();while(g>this.n);var m=g<this.n?-1:v.ucmp(this.p);return m===0?(v.words[0]=0,v.length=1):m>0?v.isub(this.p):v.strip(),v},B.prototype.split=function(d,v){d.iushrn(this.n,0,v)},B.prototype.imulK=function(d){return d.imul(this.k)};function E(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(E,B),E.prototype.split=function(d,v){for(var g=4194303,m=Math.min(d.length,9),S=0;S<m;S++)v.words[S]=d.words[S];if(v.length=m,d.length<=9){d.words[0]=0,d.length=1;return}var w=d.words[9];for(v.words[v.length++]=w&g,S=10;S<d.length;S++){var R=d.words[S]|0;d.words[S-10]=(R&g)<<4|w>>>22,w=R}w>>>=22,d.words[S-10]=w,w===0&&d.length>10?d.length-=10:d.length-=9},E.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var v=0,g=0;g<d.length;g++){var m=d.words[g]|0;v+=m*977,d.words[g]=v&67108863,v=m*64+(v/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function I(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(I,B);function L(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(L,B);function N(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(N,B),N.prototype.imulK=function(d){for(var v=0,g=0;g<d.length;g++){var m=(d.words[g]|0)*19+v,S=m&67108863;m>>>=26,d.words[g]=S,v=m}return v!==0&&(d.words[d.length++]=v),d},i._prime=function(d){if(F[d])return F[d];var v;if(d==="k256")v=new E;else if(d==="p224")v=new I;else if(d==="p192")v=new L;else if(d==="p25519")v=new N;else throw new Error("Unknown prime "+d);return F[d]=v,v};function H(C){if(typeof C=="string"){var d=i._prime(C);this.m=d.p,this.prime=d}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}H.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},H.prototype._verify2=function(d,v){r((d.negative|v.negative)===0,"red works only with positives"),r(d.red&&d.red===v.red,"red works only with red numbers")},H.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},H.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},H.prototype.add=function(d,v){this._verify2(d,v);var g=d.add(v);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},H.prototype.iadd=function(d,v){this._verify2(d,v);var g=d.iadd(v);return g.cmp(this.m)>=0&&g.isub(this.m),g},H.prototype.sub=function(d,v){this._verify2(d,v);var g=d.sub(v);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},H.prototype.isub=function(d,v){this._verify2(d,v);var g=d.isub(v);return g.cmpn(0)<0&&g.iadd(this.m),g},H.prototype.shl=function(d,v){return this._verify1(d),this.imod(d.ushln(v))},H.prototype.imul=function(d,v){return this._verify2(d,v),this.imod(d.imul(v))},H.prototype.mul=function(d,v){return this._verify2(d,v),this.imod(d.mul(v))},H.prototype.isqr=function(d){return this.imul(d,d.clone())},H.prototype.sqr=function(d){return this.mul(d,d)},H.prototype.sqrt=function(d){if(d.isZero())return d.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(d,g)}for(var m=this.m.subn(1),S=0;!m.isZero()&&m.andln(1)===0;)S++,m.iushrn(1);r(!m.isZero());var w=new i(1).toRed(this),R=w.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,T).cmp(R)!==0;)b.redIAdd(R);for(var x=this.pow(b,m),P=this.pow(d,m.addn(1).iushrn(1)),U=this.pow(d,m),K=S;U.cmp(w)!==0;){for(var z=U,Q=0;z.cmp(w)!==0;Q++)z=z.redSqr();r(Q<K);var oe=this.pow(x,new i(1).iushln(K-Q-1));P=P.redMul(oe),x=oe.redSqr(),U=U.redMul(x),K=Q}return P},H.prototype.invm=function(d){var v=d._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},H.prototype.pow=function(d,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return d.clone();var g=4,m=new Array(1<<g);m[0]=new i(1).toRed(this),m[1]=d;for(var S=2;S<m.length;S++)m[S]=this.mul(m[S-1],d);var w=m[0],R=0,T=0,b=v.bitLength()%26;for(b===0&&(b=26),S=v.length-1;S>=0;S--){for(var x=v.words[S],P=b-1;P>=0;P--){var U=x>>P&1;if(w!==m[0]&&(w=this.sqr(w)),U===0&&R===0){T=0;continue}R<<=1,R|=U,T++,!(T!==g&&(S!==0||P!==0))&&(w=this.mul(w,m[R]),T=0,R=0)}b=26}return w},H.prototype.convertTo=function(d){var v=d.umod(this.m);return v===d?v.clone():v},H.prototype.convertFrom=function(d){var v=d.clone();return v.red=null,v},i.mont=function(d){return new D(d)};function D(C){H.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,H),D.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},D.prototype.convertFrom=function(d){var v=this.imod(d.mul(this.rinv));return v.red=null,v},D.prototype.imul=function(d,v){if(d.isZero()||v.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.mul=function(d,v){if(d.isZero()||v.isZero())return new i(0)._forceRed(this);var g=d.mul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.invm=function(d){var v=this.imod(d._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof FA>"u"||FA,$G)});var fs=$((vst,KG)=>{k();M();var Vr=HA(),DA=Tr(),jG=wr(),k4=function(t){for(var e=A.Buffer.alloc(t.length),r=0;r<t.length;r++)e[r]=t[t.length-1-r];return e};Vr.Zero=new Vr(0);Vr.One=new Vr(1);Vr.Minus1=new Vr(-1);Vr.fromNumber=function(t){return DA.checkArgument(jG.isNumber(t)),new Vr(t)};Vr.fromString=function(t,e){return DA.checkArgument(jG.isString(t)),new Vr(t,e)};Vr.fromBuffer=function(t,e){typeof e<"u"&&e.endian==="little"&&(t=k4(t));var r=t.toString("hex"),n=new Vr(r,16);return n};Vr.fromSM=function(t,e){var r;if(t.length===0)return Vr.fromBuffer(A.Buffer.from([0]));var n="big";return e&&(n=e.endian),n==="little"&&(t=k4(t)),t[0]&128?(t[0]=t[0]&127,r=Vr.fromBuffer(t),r.neg().copy(r)):r=Vr.fromBuffer(t),r};Vr.prototype.toNumber=function(){return parseInt(this.toString(10),10)};Vr.prototype.toBuffer=function(t){var e,r;if(t&&t.size){r=this.toString(16,2);var n=r.length/2;e=A.Buffer.from(r,"hex"),n===t.size?e=e:n>t.size?e=Vr.trim(e,n):n<t.size&&(e=Vr.pad(e,n,t.size))}else r=this.toString(16,2),e=A.Buffer.from(r,"hex");return typeof t<"u"&&t.endian==="little"&&(e=k4(e)),e};Vr.prototype.toSMBigEndian=function(){var t;return this.cmp(Vr.Zero)===-1?(t=this.neg().toBuffer(),t[0]&128?t=A.Buffer.concat([A.Buffer.from([128]),t]):t[0]=t[0]|128):(t=this.toBuffer(),t[0]&128&&(t=A.Buffer.concat([A.Buffer.from([0]),t]))),t.length===1&t[0]===0&&(t=A.Buffer.from([])),t};Vr.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return e==="little"&&(r=k4(r)),r};Vr.fromScriptNumBuffer=function(t,e,r){var n=r||4;if(DA.checkArgument(t.length<=n,new Error("script number overflow")),e&&t.length>0&&(t[t.length-1]&127)===0&&(t.length<=1||(t[t.length-2]&128)===0))throw new Error("non-minimally encoded script number");return Vr.fromSM(t,{endian:"little"})};Vr.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})};Vr.trim=function(t,e){return t.slice(e-t.length,t.length)};Vr.pad=function(t,e,r){for(var n=A.Buffer.alloc(r),i=0;i<t.length;i++)n[n.length-1-i]=t[t.length-1-i];for(i=0;i<r-e;i++)n[i]=0;return n};KG.exports=Vr});var gc=$((Sst,GG)=>{k();M();var $9=wr(),VG=Tr(),b4e=Pn(),C5=fs(),fi=function t(e){if(!(this instanceof t))return new t(e);if(!$9.isUndefined(e))if(A.Buffer.isBuffer(e))this.set({buf:e});else if($9.isString(e))this.set({buf:A.Buffer.from(e,"hex")});else if($9.isObject(e)){var r=e;this.set(r)}else throw new TypeError("Unrecognized argument for BufferReader")};fi.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this};fi.prototype.eof=function(){return this.buf?this.pos>=this.buf.length:!0};fi.prototype.finished=fi.prototype.eof;fi.prototype.read=function(t){VG.checkArgument(!$9.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e};fi.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t};fi.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t};fi.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t};fi.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t};fi.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t};fi.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t};fi.prototype.readInt32LE=function(){var t=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,t};fi.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=C5.fromBuffer(t);return this.pos=this.pos+8,e};fi.prototype.readUInt64LEBN=function(){var t=this.buf.readUInt32LE(this.pos),e=this.buf.readUInt32LE(this.pos+4),r=e*4294967296+t,n;if(r<=9007199254740991)n=new C5(r);else{var i=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);n=new C5(i,10,"le")}return this.pos=this.pos+8,n};fi.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN(),r=e.toNumber();if(r<=Math.pow(2,53))return r;throw new Error("number too large to retain precision - use readVarintBN");default:return t}};fi.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return VG.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e};fi.prototype.readVarintBuf=function(){var t=this.buf.readUInt8(this.pos);switch(t){case 253:return this.read(1+2);case 254:return this.read(1+4);case 255:return this.read(1+8);default:return this.read(1)}};fi.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new C5(this.readUInt16LE());case 254:return new C5(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new C5(t)}};fi.prototype.reverse=function(){for(var t=A.Buffer.alloc(this.buf.length),e=0;e<t.length;e++)t[e]=this.buf[this.buf.length-1-e];return this.buf=t,this};fi.prototype.readReverse=function(t){$9.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,b4e.reverse(e)};GG.exports=fi});var K9=$(st=>{k();M();var y4e=st&&st.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v4e=st&&st.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_4e=st&&st.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&y4e(e,t,r);return v4e(e,t),e},x4e=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(st,"__esModule",{value:!0});st.getBackTraceInfoSearch=st.getBackTraceInfo=st.getTxHeaderCheck=st.txToTxHeaderCheck=st.txToTxHeaderTiny=st.txToTxHeaderPartial=st.txToTxHeader=st.tokenAmountToByteString=st.intArrayToByteString=st.emptyTokenAmountArray=st.emptyBigIntArray=st.emptyTokenArray=st.emptyFixedArray=void 0;var S4e=x4e(gc()),Wr=xr(),LA=_4e(Xre()),k5=In(),j9=(0,Wr.toByteString)(""),w4e=function(){return(0,Wr.fill)(j9,k5.MAX_INPUT)};st.emptyFixedArray=w4e;var E4e=function(){return(0,Wr.fill)(j9,k5.MAX_TOKEN_OUTPUT)};st.emptyTokenArray=E4e;var T4e=function(){return(0,Wr.fill)(0n,k5.MAX_INPUT)};st.emptyBigIntArray=T4e;var A4e=function(){return(0,Wr.fill)(0n,k5.MAX_TOKEN_OUTPUT)};st.emptyTokenAmountArray=A4e;var I4e=function(t){let e=(0,st.emptyFixedArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,Wr.int2ByteString)(n)}return e};st.intArrayToByteString=I4e;var P4e=function(t){let e=(0,st.emptyTokenArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,Wr.int2ByteString)(n)}return e};st.tokenAmountToByteString=P4e;var O4e=function(t){let e=(0,S4e.default)(t.toBuffer(!0)),r=e.read(4),n=e.readVarintNum(),i=(0,st.emptyFixedArray)(),s=(0,st.emptyFixedArray)(),o=(0,st.emptyFixedArray)(),a=(0,st.emptyFixedArray)();for(let l=0;l<n;l++){let y=e.read(32),_=e.read(4);if(e.readVarLengthBuffer().length>0)throw Error(`input ${l} unlocking script need eq 0`);let F=e.read(4);i[l]=(0,Wr.toHex)(y),s[l]=(0,Wr.toHex)(_),o[l]=(0,Wr.toByteString)("00"),a[l]=(0,Wr.toHex)(F)}let u=e.readVarintNum(),c=(0,st.emptyFixedArray)(),h=(0,st.emptyFixedArray)(),f=(0,st.emptyFixedArray)();for(let l=0;l<u;l++){let y=e.read(8),_=e.readVarintNum(),O=e.read(_);c[l]=(0,Wr.toHex)(y),h[l]=(0,Wr.toHex)(LA.encode(_)),f[l]=(0,Wr.toHex)(O)}let p=e.read(4);return{version:(0,Wr.toHex)(r),inputCount:(0,Wr.toHex)(LA.encode(n)),inputTxhashList:i,inputOutputIndexList:s,inputScriptList:o,inputSequenceList:a,outputCount:(0,Wr.toHex)(LA.encode(u)),outputSatoshisList:c,outputScriptLenList:h,outputScriptList:f,nLocktime:(0,Wr.toHex)(p)}};st.txToTxHeader=O4e;var B4e=function(t){let e=(0,st.emptyFixedArray)();for(let i=0;i<e.length;i++)e[i]=t.inputTxhashList[i]+t.inputOutputIndexList[i]+t.inputScriptList[i]+t.inputSequenceList[i];let r=(0,st.emptyFixedArray)(),n=(0,st.emptyFixedArray)();for(let i=0;i<r.length;i++)r[i]=t.outputSatoshisList[i],n[i]=t.outputScriptList[i];return{version:t.version,inputCount:t.inputCount,inputs:e,outputCountVal:(0,Wr.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:r,outputScriptList:n,nLocktime:t.nLocktime}};st.txToTxHeaderPartial=B4e;var C4e=function(t){let e=(0,Wr.toByteString)(""),r=(0,st.emptyFixedArray)();for(let a=0;a<r.length;a++)e+=t.inputTxhashList[a]+t.inputOutputIndexList[a]+t.inputScriptList[a]+t.inputSequenceList[a];let n=(0,Wr.fill)(j9,4),i=t.version+t.inputCount+e+t.outputCount;for(let a=0;a<4;a++){let u=a*80*2,c=u+80*2;n[a]=i.slice(u,c)}let s=(0,st.emptyFixedArray)(),o=(0,st.emptyFixedArray)();for(let a=0;a<s.length;a++)s[a]=t.outputSatoshisList[a],o[a]=t.outputScriptList[a];return{prevList:n,outputCountVal:(0,Wr.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:s,outputScriptList:o,nLocktime:t.nLocktime}};st.txToTxHeaderTiny=C4e;var k4e=function(t){let e=(0,Wr.toByteString)(""),r=(0,st.emptyFixedArray)();for(let s=0;s<r.length;s++)e+=t.inputTxhashList[s]+t.inputOutputIndexList[s]+t.inputScriptList[s]+t.inputSequenceList[s];let n=(0,Wr.fill)(j9,k5.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER),i=(0,Wr.fill)(j9,k5.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER);for(let s=0;s<n.length;s++)n[s]=t.outputSatoshisList[s],i[s]=t.outputScriptList[s];return{prev:t.version+t.inputCount+e+t.outputCount,outputCountVal:(0,Wr.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:n,outputScriptList:i,nLocktime:t.nLocktime}};st.txToTxHeaderCheck=k4e;var M4e=function(t,e){let r=(0,st.txToTxHeader)(t),n=A.Buffer.alloc(4,0);return n.writeUInt32LE(e),{tx:(0,st.txToTxHeaderCheck)(r),outputBytes:n.toString("hex"),outputIndex:BigInt(e),outputPre:r.outputSatoshisList[e]+r.outputScriptLenList[e]}};st.getTxHeaderCheck=M4e;var R4e=function(t,e,r){let n=(0,st.txToTxHeader)(t),i=(0,st.txToTxHeader)(e),s=(0,st.txToTxHeaderPartial)(n),o=(0,st.txToTxHeaderTiny)(i),a={txhash:n.inputTxhashList[r],outputIndex:n.inputOutputIndexList[r],outputIndexVal:(0,Wr.byteString2Int)(n.inputOutputIndexList[r]),sequence:n.inputSequenceList[r]};return{preTx:s,preTxInput:a,preTxInputIndex:BigInt(r),prePreTx:o}};st.getBackTraceInfo=R4e;var N4e=function(t,e,r,n){let i=-1;for(let h=0;h<t.inputs.length;h++){let p=t.inputs[h].output.script.toBuffer().toString("hex");if(p==r||p==n){i=h;break}}if(i==-1)throw new Error("not find prev");let s=(0,st.txToTxHeader)(t),o=(0,st.txToTxHeader)(e),a=(0,st.txToTxHeaderPartial)(s),u=(0,st.txToTxHeaderTiny)(o),c={txhash:s.inputTxhashList[i],outputIndex:s.inputOutputIndexList[i],outputIndexVal:(0,Wr.byteString2Int)(s.inputOutputIndexList[i]),sequence:s.inputSequenceList[i]};return{preTx:a,preTxInput:c,preTxInputIndex:BigInt(i),prePreTx:u}};st.getBackTraceInfoSearch=N4e});var G9=$(Dl=>{k();M();var F4e=Dl&&Dl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},UA=Dl&&Dl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.GuardProto=void 0;var V9=xr(),zG=K9(),H4e=In(),M5=class extends V9.SmartContractLib{static stateHash(e){let r=e.tokenScript;for(let n=0;n<H4e.MAX_INPUT;n++)r+=(0,V9.int2ByteString)(e.inputTokenAmountArray[n]);return(0,V9.hash160)(r)}static toByteString(e){return M5.toList(e).join("")}static createEmptyState(){return{tokenScript:(0,V9.toByteString)(""),inputTokenAmountArray:(0,zG.emptyBigIntArray)()}}static toList(e){return[e.tokenScript,...(0,zG.intArrayToByteString)(e.inputTokenAmountArray)]}};Dl.GuardProto=M5;F4e([(0,V9.method)(),UA("design:type",Function),UA("design:paramtypes",[Object]),UA("design:returntype",String)],M5,"stateHash",null)});var R5=$(Ll=>{k();M();var W9=Ll&&Ll.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},yo=Ll&&Ll.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.TxProof=void 0;var bn=xr(),z9=In(),P0=class extends bn.SmartContractLib{static getTxIdFromPreimg1(e){let r=e.version+e.inputCount;for(let n=0;n<z9.MAX_INPUT;n++)r+=e.inputs[n];r+=e.outputCount,(0,bn.assert)((0,bn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<z9.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,bn.int2ByteString)((0,bn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,bn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg2(e){let r=(0,bn.toByteString)("");for(let n=0;n<z9.XRAYED_TXID_PREIMG2_PREVLIST_LEN;n++)r+=e.prevList[n];(0,bn.assert)((0,bn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<z9.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,bn.int2ByteString)((0,bn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,bn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg3(e){(0,bn.assert)((0,bn.int2ByteString)(e.outputCountVal)==e.outputCount);let r=(0,bn.toByteString)("");for(let n=0;n<z9.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,bn.int2ByteString)((0,bn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,bn.hash256)(e.prev+r+e.nLocktime)}static mergeInput(e){return e.txhash+e.outputIndex+(0,bn.toByteString)("00")+e.sequence}static verifyOutput(e,r,n,i){return(0,bn.assert)(P0.getTxIdFromPreimg2(e)==r),(0,bn.assert)(e.outputScriptList[Number(n)]==i),!0}};Ll.TxProof=P0;W9([(0,bn.method)(),yo("design:type",Function),yo("design:paramtypes",[Object]),yo("design:returntype",String)],P0,"getTxIdFromPreimg1",null);W9([(0,bn.method)(),yo("design:type",Function),yo("design:paramtypes",[Object]),yo("design:returntype",String)],P0,"getTxIdFromPreimg2",null);W9([(0,bn.method)(),yo("design:type",Function),yo("design:paramtypes",[Object]),yo("design:returntype",String)],P0,"getTxIdFromPreimg3",null);W9([(0,bn.method)(),yo("design:type",Function),yo("design:paramtypes",[Object]),yo("design:returntype",String)],P0,"mergeInput",null);W9([(0,bn.method)(),yo("design:type",Function),yo("design:paramtypes",[Object,String,BigInt,String]),yo("design:returntype",Boolean)],P0,"verifyOutput",null)});var na=$(ql=>{k();M();var N5=ql&&ql.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},hs=ql&&ql.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ql,"__esModule",{value:!0});ql.StateUtils=void 0;var ii=xr(),Ul=In(),D4e=R5(),vo=class extends ii.SmartContractLib{static verifyStateRoot(e,r){let n=(0,ii.toByteString)("");for(let i=0;i<Ul.MAX_STATE;i++)n+=(0,ii.hash160)(e[i]);return(0,ii.hash160)(n)==r}static getPadding(e){let r=BigInt(Ul.MAX_STATE)-e,n=(0,ii.toByteString)("");for(let i=0;i<Ul.MAX_STATE;i++)i<r&&(n+=(0,ii.hash160)((0,ii.toByteString)("")));return n}static getStateScript(e,r){return Ul.TxUtil.getStateScript((0,ii.hash160)((0,ii.hash160)(e)+vo.getPadding(r)))}static getCurrentStateOutput(e,r,n){let i=(0,ii.hash160)(e+vo.getPadding(r));return(0,ii.assert)(vo.verifyStateRoot(n,i)),Ul.TxUtil.buildOpReturnRoot(Ul.TxUtil.getStateScript(i))}static verifyPreStateHash(e,r,n,i){return(0,ii.assert)(Ul.TxUtil.getStateScript(e.statesHashRoot)==n,"preStateHashRoot mismatch"),(0,ii.assert)(vo.verifyStateRoot(e.txoStateHashes,e.statesHashRoot),"preData error"),(0,ii.assert)(r==e.txoStateHashes[Number(i-1n)],"preState hash mismatch"),!0}static verifyGuardStateHash(e,r,n){return(0,ii.assert)(D4e.TxProof.getTxIdFromPreimg3(e)==r,"preTxHeader error"),(0,ii.assert)(vo.getStateScript(n,1n)==e.outputScriptList[Ul.STATE_OUTPUT_INDEX],"preStateHashRoot mismatch"),!0}};ql.StateUtils=vo;N5([(0,ii.method)(),hs("design:type",Function),hs("design:paramtypes",[Object,String]),hs("design:returntype",Boolean)],vo,"verifyStateRoot",null);N5([(0,ii.method)(),hs("design:type",Function),hs("design:paramtypes",[BigInt]),hs("design:returntype",String)],vo,"getPadding",null);N5([(0,ii.method)(),hs("design:type",Function),hs("design:paramtypes",[String,BigInt]),hs("design:returntype",String)],vo,"getStateScript",null);N5([(0,ii.method)(),hs("design:type",Function),hs("design:paramtypes",[String,BigInt,Object]),hs("design:returntype",String)],vo,"getCurrentStateOutput",null);N5([(0,ii.method)(),hs("design:type",Function),hs("design:paramtypes",[Object,String,String,BigInt]),hs("design:returntype",Boolean)],vo,"verifyPreStateHash",null);N5([(0,ii.method)(),hs("design:type",Function),hs("design:paramtypes",[Object,String,String]),hs("design:returntype",Boolean)],vo,"verifyGuardStateHash",null)});var jA=$($l=>{k();M();var L4e=$l&&$l.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},qA=$l&&$l.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty($l,"__esModule",{value:!0});$l.BurnGuard=void 0;var bc=xr(),$A=ra(),M4=In(),U4e=G9(),q4e=na(),R4=class extends bc.SmartContract{burn(e,r,n,i,s,o,a){(0,bc.assert)(this.checkSig($A.SigHashUtils.checkSHPreimage(o),$A.SigHashUtils.Gx),"preimage check error"),$A.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),q4e.StateUtils.verifyGuardStateHash(s,a.spentTxhash,U4e.GuardProto.stateHash(i));let u=(0,bc.toByteString)(""),c=(0,bc.toByteString)("");for(let p=0;p<M4.MAX_STATE;p++){let l=r[p];(0,bc.assert)(l!=i.tokenScript),u+=(0,bc.hash160)(e[p]),(0,bc.len)(l)>0&&(c+=M4.TxUtil.buildOutput(l,n[p]))}let h=M4.TxUtil.buildOpReturnRoot(M4.TxUtil.getStateScript((0,bc.hash160)(u))),f=(0,bc.sha256)(h+c);(0,bc.assert)(f==o.hashOutputs,"hashOutputs mismatch")}};$l.BurnGuard=R4;L4e([(0,bc.method)(),qA("design:type",Function),qA("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),qA("design:returntype",void 0)],R4.prototype,"burn",null)});var O0=$(jl=>{k();M();var YG=jl&&jl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},H5=jl&&jl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(jl,"__esModule",{value:!0});jl.Backtrace=void 0;var yc=xr(),F5=R5(),WG=In(),Y9=class extends yc.SmartContractLib{static verifyUnique(e,r,n,i){return(0,yc.assert)(e==F5.TxProof.getTxIdFromPreimg1(r.preTx)),(0,yc.assert)(F5.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,yc.assert)(WG.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),r.preTxInput.txhash+r.preTxInput.outputIndex!=n&&F5.TxProof.verifyOutput(r.prePreTx,r.preTxInput.txhash,r.preTxInput.outputIndexVal,i),!0}static verifyToken(e,r,n,i){(0,yc.assert)(e==F5.TxProof.getTxIdFromPreimg1(r.preTx)),(0,yc.assert)(F5.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,yc.assert)(WG.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),(0,yc.assert)(F5.TxProof.getTxIdFromPreimg2(r.prePreTx)==r.preTxInput.txhash);let s=r.prePreTx.outputScriptList[Number(r.preTxInput.outputIndexVal)],o=s==n,a=s==i;return(0,yc.assert)(o||a),!0}};jl.Backtrace=Y9;YG([(0,yc.method)(),H5("design:type",Function),H5("design:paramtypes",[String,Object,String,String]),H5("design:returntype",Boolean)],Y9,"verifyUnique",null);YG([(0,yc.method)(),H5("design:type",Function),H5("design:paramtypes",[String,Object,String,String]),H5("design:returntype",Boolean)],Y9,"verifyToken",null)});var GA=$(Kl=>{k();M();var $4e=Kl&&Kl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},KA=Kl&&Kl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.ClosedMinterProto=void 0;var VA=xr(),N4=class extends VA.SmartContractLib{static stateHash(e){return(0,VA.hash160)(e.tokenScript)}};Kl.ClosedMinterProto=N4;$4e([(0,VA.method)(),KA("design:type",Function),KA("design:paramtypes",[Object]),KA("design:returntype",String)],N4,"stateHash",null)});var D5=$(Vl=>{k();M();var j4e=Vl&&Vl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},zA=Vl&&Vl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.CAT20Proto=void 0;var s1=xr(),K4e=In(),F4=class extends s1.SmartContractLib{static stateHash(e){return(0,s1.assert)((0,s1.len)(e.ownerAddr)==K4e.ADDRESS_HASH_LEN),(0,s1.hash160)(e.ownerAddr+(0,s1.int2ByteString)(e.amount))}static create(e,r){return{amount:e,ownerAddr:r}}static toByteString(e){return e.ownerAddr+(0,s1.int2ByteString)(e.amount)}};Vl.CAT20Proto=F4;j4e([(0,s1.method)(),zA("design:type",Function),zA("design:paramtypes",[Object]),zA("design:returntype",String)],F4,"stateHash",null)});var YA=$(Gl=>{k();M();var WA=Gl&&Gl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},X9=Gl&&Gl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.ClosedMinter=void 0;var ia=xr(),L5=In(),H4=ra(),V4e=O0(),G4e=GA(),XG=na(),z4e=D5(),U5=class extends ia.SmartContract{constructor(e,r){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y){(0,ia.assert)(this.checkSig(H4.SigHashUtils.checkSHPreimage(f),H4.SigHashUtils.Gx),"preimage check error"),H4.SigHashUtils.checkPrevoutsCtx(p,f.hashPrevouts,f.inputIndex),H4.SigHashUtils.checkSpentScriptsCtx(l,f.hashSpentScripts),XG.StateUtils.verifyPreStateHash(c,G4e.ClosedMinterProto.stateHash(u),h.preTx.outputScriptList[L5.STATE_OUTPUT_INDEX],p.outputIndexVal);let _=l[Number(p.inputIndexVal)];V4e.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,_);let O=(0,ia.toByteString)(""),F=(0,ia.toByteString)(""),B=0n;o!=L5.TxUtil.ZEROSAT&&(F=L5.TxUtil.buildOutput(_,o),O+=(0,ia.hash160)(c.txoStateHashes[Number(p.outputIndexVal)-L5.STATE_OUTPUT_OFFSET]),B+=1n),O+=(0,ia.hash160)(z4e.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let E=L5.TxUtil.buildOutput(u.tokenScript,a);B+=1n;let I=XG.StateUtils.getCurrentStateOutput(O,B,e),L=L5.TxUtil.getChangeOutput(y),N=(0,ia.sha256)(I+F+E+L);(0,ia.assert)(N==f.hashOutputs,"hashOutputs mismatch"),(0,ia.assert)(this.issuerAddress==(0,ia.hash160)(n+i)),(0,ia.assert)(this.checkSig(s,i))}};Gl.ClosedMinter=U5;WA([(0,ia.prop)(),X9("design:type",String)],U5.prototype,"issuerAddress",void 0);WA([(0,ia.prop)(),X9("design:type",String)],U5.prototype,"genesisOutpoint",void 0);WA([(0,ia.method)(),X9("design:type",Function),X9("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),X9("design:returntype",void 0)],U5.prototype,"mint",null)});var ZA=$(zl=>{k();M();var W4e=zl&&zl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},XA=zl&&zl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(zl,"__esModule",{value:!0});zl.OpenMinterProto=void 0;var B0=xr(),ZG=In(),D4=class extends B0.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,B0.toByteString)("01"):(0,B0.toByteString)("00");return(0,B0.hash160)(e.tokenScript+r+(0,B0.int2ByteString)(e.remainingSupply))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupply:n}}static toByteString(e){let r=e.isPremined?(0,B0.toByteString)("01"):(0,B0.toByteString)("00");return e.tokenScript+r+(0,B0.int2ByteString)(e.remainingSupply)}static getSplitAmountList(e,r,n,i){let s=(0,B0.fill)(0n,2);if(i>0&&i<=2){let o=e-r,a=(0,ZG.Int32)(i)*n,u=o/a*n,c=o-u*(0,ZG.Int32)(i);s[0]=u+c;for(let h=1;h<i;h++)s[h]=u}return s}};zl.OpenMinterProto=D4;W4e([(0,B0.method)(),XA("design:type",Function),XA("design:paramtypes",[Object]),XA("design:returntype",String)],D4,"stateHash",null)});var JA=$(vc=>{k();M();var q5=vc&&vc.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Wl=vc&&vc.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(vc,"__esModule",{value:!0});vc.OpenMinter=vc.MAX_NEXT_MINTERS=void 0;var Gn=xr(),L4=In(),U4=ra(),Y4e=O0(),JG=na(),X4e=D5(),QG=ZA();vc.MAX_NEXT_MINTERS=2;var Df=class extends Gn.SmartContract{constructor(e,r,n,i,s){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.limit=i,this.premineAddr=s}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_){(0,Gn.assert)(this.checkSig(U4.SigHashUtils.checkSHPreimage(p),U4.SigHashUtils.Gx),"preimage check error"),U4.SigHashUtils.checkPrevoutsCtx(l,p.hashPrevouts,p.inputIndex),U4.SigHashUtils.checkSpentScriptsCtx(y,p.hashSpentScripts),JG.StateUtils.verifyPreStateHash(h,QG.OpenMinterProto.stateHash(c),f.preTx.outputScriptList[L4.STATE_OUTPUT_INDEX],l.outputIndexVal);let O=y[Number(l.inputIndexVal)];Y4e.Backtrace.verifyUnique(l.spentTxhash,f,this.genesisOutpoint,O);let F=(0,Gn.toByteString)(""),B=(0,Gn.toByteString)(""),E=0n,I=0n;for(let C=0;C<vc.MAX_NEXT_MINTERS;C++){let d=n[C];d>0n&&(I+=d,E+=1n,F+=L4.TxUtil.buildOutput(O,a),B+=(0,Gn.hash160)(QG.OpenMinterProto.stateHash({tokenScript:c.tokenScript,isPremined:!0,remainingSupply:d})))}let L=(0,Gn.toByteString)("");r.amount>0n&&(I+=r.amount,E+=1n,B+=(0,Gn.hash160)(X4e.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr})),L=L4.TxUtil.buildOutput(c.tokenScript,u)),!c.isPremined&&this.premine>0n?((0,Gn.assert)((0,Gn.hash160)(i+s)==this.premineAddr),(0,Gn.assert)(this.checkSig(o,s)),(0,Gn.assert)(I==c.remainingSupply+this.premine),(0,Gn.assert)(this.max==c.remainingSupply+this.premine),(0,Gn.assert)(r.amount==this.premine)):((0,Gn.assert)(I==c.remainingSupply),(0,Gn.assert)(r.amount<=this.limit));let N=JG.StateUtils.getCurrentStateOutput(B,E,e),H=L4.TxUtil.getChangeOutput(_),D=(0,Gn.sha256)(N+F+L+H);(0,Gn.assert)(D==p.hashOutputs,"hashOutputs mismatch")}};vc.OpenMinter=Df;q5([(0,Gn.prop)(),Wl("design:type",String)],Df.prototype,"genesisOutpoint",void 0);q5([(0,Gn.prop)(),Wl("design:type",BigInt)],Df.prototype,"max",void 0);q5([(0,Gn.prop)(),Wl("design:type",BigInt)],Df.prototype,"premine",void 0);q5([(0,Gn.prop)(),Wl("design:type",BigInt)],Df.prototype,"limit",void 0);q5([(0,Gn.prop)(),Wl("design:type",String)],Df.prototype,"premineAddr",void 0);q5([(0,Gn.method)(),Wl("design:type",Function),Wl("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),Wl("design:returntype",void 0)],Df.prototype,"mint",null)});var QA=$(Xl=>{k();M();var $4=Xl&&Xl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Yl=Xl&&Xl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.CAT20=void 0;var Ps=xr(),q4=ra(),ez=In(),Z4e=R5(),tz=na(),J4e=D5(),Q4e=G9(),e8e=O0(),o1=class extends Ps.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,o,a,u){(0,Ps.assert)(this.checkSig(q4.SigHashUtils.checkSHPreimage(o),q4.SigHashUtils.Gx),"preimage check error"),q4.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),q4.SigHashUtils.checkSpentScriptsCtx(u,o.hashSpentScripts),tz.StateUtils.verifyPreStateHash(n,J4e.CAT20Proto.stateHash(r),s.preTx.outputScriptList[ez.STATE_OUTPUT_INDEX],a.outputIndexVal);let c=u[Number(a.inputIndexVal)];e8e.Backtrace.verifyToken(a.spentTxhash,s,this.minterScript,c),this.valitateGuard(i,c,r,a.inputIndexVal,a.prevouts,u),e.isUserSpend?((0,Ps.assert)((0,Ps.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Ps.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Ps.assert)(r.ownerAddr==(0,Ps.hash160)(u[Number(e.contractInputIndex)]))}valitateGuard(e,r,n,i,s,o){let a=Q4e.GuardProto.stateHash(e.guardState);(0,Ps.assert)(e.guardState.tokenScript==r),(0,Ps.assert)(tz.StateUtils.getStateScript(a,1n)==e.tx.outputScriptList[ez.STATE_OUTPUT_INDEX]),(0,Ps.assert)(n.amount>0n),(0,Ps.assert)(e.guardState.inputTokenAmountArray[Number(i)]==n.amount);let u=Z4e.TxProof.getTxIdFromPreimg3(e.tx);return(0,Ps.assert)(s[Number(e.inputIndexVal)]==u+e.outputIndex),(0,Ps.assert)(o[Number(e.inputIndexVal)]==this.guardScript),!0}};Xl.CAT20=o1;$4([(0,Ps.prop)(),Yl("design:type",String)],o1.prototype,"minterScript",void 0);$4([(0,Ps.prop)(),Yl("design:type",String)],o1.prototype,"guardScript",void 0);$4([(0,Ps.method)(),Yl("design:type",Function),Yl("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),Yl("design:returntype",void 0)],o1.prototype,"unlock",null);$4([(0,Ps.method)(),Yl("design:type",Function),Yl("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),Yl("design:returntype",Boolean)],o1.prototype,"valitateGuard",null)});var tI=$(Zl=>{k();M();var t8e=Zl&&Zl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},eI=Zl&&Zl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.TransferGuard=void 0;var Bi=xr(),j4=ra(),$5=In(),r8e=G9(),n8e=na(),K4=class extends Bi.SmartContract{transfer(e,r,n,i,s,o,a,u,c,h,f){(0,Bi.assert)(this.checkSig(j4.SigHashUtils.checkSHPreimage(c),j4.SigHashUtils.Gx),"preimage check error"),j4.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),j4.SigHashUtils.checkSpentScriptsCtx(f,c.hashSpentScripts),n8e.StateUtils.verifyGuardStateHash(u,h.spentTxhash,r8e.GuardProto.stateHash(a));let p=0n;for(let E=0;E<$5.MAX_INPUT;E++)if(f[E]==a.tokenScript){let L=p;p+=a.inputTokenAmountArray[E],(0,Bi.assert)(p>L)}let l=(0,Bi.toByteString)(""),y=(0,Bi.toByteString)(""),_=0n,O=$5.TxUtil.buildOutput(a.tokenScript,o);for(let E=0;E<$5.MAX_STATE;E++){let I=r[E];if(i[E]){let L=n[E];(0,Bi.assert)(L>0n),_=_+L,y=y+O;let N=(0,Bi.hash160)((0,Bi.hash160)(I+(0,Bi.int2ByteString)(L)));(0,Bi.assert)((0,Bi.hash160)(e[E])==N),l+=N}else(0,Bi.assert)(I!=a.tokenScript),l+=(0,Bi.hash160)(e[E]),(0,Bi.len)(I)>0&&(y+=$5.TxUtil.buildOutput(I,s[E]))}(0,Bi.assert)(p>0n),(0,Bi.assert)(p==_);let F=$5.TxUtil.buildOpReturnRoot($5.TxUtil.getStateScript((0,Bi.hash160)(l))),B=(0,Bi.sha256)(F+y);(0,Bi.assert)(B==c.hashOutputs,"hashOutputs mismatch")}};Zl.TransferGuard=K4;t8e([(0,Bi.method)(),eI("design:type",Function),eI("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),eI("design:returntype",void 0)],K4.prototype,"transfer",null)});var nI=$(Jl=>{k();M();var i8e=Jl&&Jl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},rI=Jl&&Jl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.OpenMinterV2Proto=void 0;var C0=xr(),V4=class extends C0.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,C0.toByteString)("01"):(0,C0.toByteString)("00");return(0,C0.hash160)(e.tokenScript+r+(0,C0.int2ByteString)(e.remainingSupplyCount))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupplyCount:n}}static toByteString(e){let r=e.isPremined?(0,C0.toByteString)("01"):(0,C0.toByteString)("00");return e.tokenScript+r+(0,C0.int2ByteString)(e.remainingSupplyCount)}static getSplitAmountList(e,r,n){let i=e-1n;!r&&n>0n&&(i=e);let s=(0,C0.fill)(i/2n,2);return s[0]+=i-s[0]*2n,s}};Jl.OpenMinterV2Proto=V4;i8e([(0,C0.method)(),rI("design:type",Function),rI("design:paramtypes",[Object]),rI("design:returntype",String)],V4,"stateHash",null)});var iI=$(Ql=>{k();M();var a1=Ql&&Ql.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Lf=Ql&&Ql.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.OpenMinterV2=void 0;var zn=xr(),G4=In(),z4=ra(),s8e=O0(),rz=na(),o8e=D5(),nz=nI(),a8e=2,k0=class extends zn.SmartContract{constructor(e,r,n,i,s,o){super(...arguments),this.genesisOutpoint=e,this.maxCount=r,this.premine=n,this.premineCount=i,this.limit=s,this.premineAddr=o}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_){(0,zn.assert)(this.checkSig(z4.SigHashUtils.checkSHPreimage(p),z4.SigHashUtils.Gx),"preimage check error"),z4.SigHashUtils.checkPrevoutsCtx(l,p.hashPrevouts,p.inputIndex),z4.SigHashUtils.checkSpentScriptsCtx(y,p.hashSpentScripts),rz.StateUtils.verifyPreStateHash(h,nz.OpenMinterV2Proto.stateHash(c),f.preTx.outputScriptList[G4.STATE_OUTPUT_INDEX],l.outputIndexVal);let O=y[Number(l.inputIndexVal)];s8e.Backtrace.verifyUnique(l.spentTxhash,f,this.genesisOutpoint,O);let F=(0,zn.toByteString)(""),B=(0,zn.toByteString)(""),E=1n,I=0n;for(let C=0;C<a8e;C++){let d=n[C];d>0n&&(I+=d,E+=1n,F+=G4.TxUtil.buildOutput(O,a),B+=(0,zn.hash160)(nz.OpenMinterV2Proto.stateHash({tokenScript:c.tokenScript,isPremined:!0,remainingSupplyCount:d})))}B+=(0,zn.hash160)(o8e.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let L=G4.TxUtil.buildOutput(c.tokenScript,u);!c.isPremined&&this.premine>0n?((0,zn.assert)((0,zn.hash160)(i+s)==this.premineAddr),(0,zn.assert)(this.checkSig(o,s)),(0,zn.assert)(I==c.remainingSupplyCount),(0,zn.assert)(this.maxCount==c.remainingSupplyCount+this.premineCount),(0,zn.assert)(r.amount==this.premine)):(I+=1n,(0,zn.assert)(I==c.remainingSupplyCount),(0,zn.assert)(r.amount==this.limit));let N=rz.StateUtils.getCurrentStateOutput(B,E,e),H=G4.TxUtil.getChangeOutput(_),D=(0,zn.sha256)(N+F+L+H);(0,zn.assert)(D==p.hashOutputs,"hashOutputs mismatch")}};Ql.OpenMinterV2=k0;a1([(0,zn.prop)(),Lf("design:type",String)],k0.prototype,"genesisOutpoint",void 0);a1([(0,zn.prop)(),Lf("design:type",BigInt)],k0.prototype,"maxCount",void 0);a1([(0,zn.prop)(),Lf("design:type",BigInt)],k0.prototype,"premine",void 0);a1([(0,zn.prop)(),Lf("design:type",BigInt)],k0.prototype,"premineCount",void 0);a1([(0,zn.prop)(),Lf("design:type",BigInt)],k0.prototype,"limit",void 0);a1([(0,zn.prop)(),Lf("design:type",String)],k0.prototype,"premineAddr",void 0);a1([(0,zn.method)(),Lf("design:type",Function),Lf("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),Lf("design:returntype",void 0)],k0.prototype,"mint",null)});var iz=$((got,u8e)=>{u8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"ClosedMinter",md5:"fe60c526b65695c3070dfed2a8362734",structs:[{name:"ClosedMinterState",params:[{name:"tokenScript",type:"bytes"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"ClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"genesisSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"ClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../closedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000000<ownerAddress><genesisOutpoint>78547a7572537a76537a75777701257901257901257901257901257901257901257901257901257901257901257901257901257901257960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011779011779011779011779011779011779011779011779011779011779012d790128795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5d795d795d795d795d795d790127795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015a79015a79015a79015a79015a79015a7901617976a977014b79014b79014b79014b79014b79014b7956007600a26976569f69948c766b796c756b6d6d6d6c0118795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755d0112797600a26976569f6994766b796c7560790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000161795a798764537901627978827d770122a1696e7e53797e7777777b757c5279015e79015e79015e79015e79015e7955011b798c7600a26976559f69948c766b796c756b6d6d756ca97e537a757b7b527978778b7768527901677901677978827701149d6e7ea97777a97e537a757b7b527975015f7901617978827d770122a1696e7e53797e777777788b7b757c53795279016e79016e79016e79016e79016e7956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775d795d79765e7987646e78827d770122a1696e7e53797e77777767006877777855797e53797e787ea8760128798859790169790169797ea988016679016879ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var sz=$((bot,c8e)=>{c8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinter",md5:"21cbd2e538f2b6cc40ee180e174f1e25",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"OpenMinterState",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupply",type:"int"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"OpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterAmounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"},{name:"premine",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><max><premine><limit><premineAddr>0128790128790128790128790128790128790128790128790128790128790128790128790128790128790113795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011579787ea85279017f9f695279009c6301006752796878557952797e8801187955797e54798b7e6b6d6d6d6d6d6d6d6d6c775879ad011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79013079012b795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d607960796079607960796079012a795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015d79015d79015d79015d79015d79015d79016679016679016679786351670100685379787e52797ea96b6d6d6c014e79014e79014e79014e79014e79014e7956007600a26976569f69948c766b796c756b6d6d6d6c011b795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75600115797600a26976569f6994766b796c750113790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790135790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500000000016c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016c8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a537975687500016e7900a06378016f79937b757c52798b537a757b7b527975537901707901707978827701149d6e7ea97777a97e547a7572537a53797501667901687978827d770122a1696e7e53797e6b6d6d6c6801657964587900a067006863016b79016b797ea9577988016979016b79ad780165795a79939d59790165795a79939d016e7959799d67780165799d016e795879a169687001767901767901767901767901767956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var oz=$((yot,f8e)=>{f8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinterV2",md5:"a6c2e92d74a23c07bb6220b676c6cb9b",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"OpenMinterV2State",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupplyCount",type:"int"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"OpenMinterV2Proto",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterCounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterV2State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineCount",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinterV2.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><maxCount><premine><premineCount><limit><premineAddr>0129790129790129790129790129790129790129790129790129790129790129790129790129790129790114795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011679787ea85279017f9f695279009c6301006752796878557952797e8801197955797e54798b7e6b6d6d6d6d6d6d6d6d6c775979ad011b79011b79011b79011b79011b79011b79011b79011b79011b79011b79013179012c795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d011179011179011179011179011179011179012b795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015e79015e79015e79015e79015e79015e79016779016779016779786351670100685379787e52797ea96b6d6d6c014f79014f79014f79014f79014f79014f7956007600a26976569f69948c766b796c756b6d6d6d6c011c795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d7501110116797600a26976569f6994766b796c75011479015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a790136790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500005100016d766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016d8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875527901707901707978827701149d6e7ea97777a97e537a757b7b52797501667901687978827d770122a1696e7e53797e77777701667964597900a067006863016c79016c797ea9577988016a79016c79ad780166799d5a790166795a79939d016f795a799d67788b7b757d0166799d016f7958799d687001777901777901777901777901777956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770112790112797601137987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012d79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var az=$((vot,h8e)=>{h8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT20",md5:"36eb7d5819c558e74512693c33a8f309",structs:[{name:"TokenUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"GuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"GuardConstState"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"tokenUnlockArgs",type:"TokenUnlockArgs"},{name:"preState",type:"CAT20State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"GuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat20.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c01177901117988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c885e7900a069011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var uz=$((_ot,l8e)=>{l8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"BurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../burnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var cz=$((xot,d8e)=>{d8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"TransferGuard",md5:"7fc09a52492f2bd4d5f30c4f5116c0f8",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"tokenAmountList",type:"int[5]"},{name:"tokenOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../transferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d0059766b796c78770136798763787601367901367901367901367901367901367955766b796c756b6d6d6d6c93537a757b7b527975527978a06975687558766b796c78770136798763787601367901367901367901367901367901367954766b796c756b6d6d6d6c93537a757b7b527975527978a06975687557766b796c78770136798763787601367901367901367901367901367901367953766b796c756b6d6d6d6c93537a757b7b527975527978a06975687556766b796c78770136798763787601367901367901367901367901367901367952766b796c756b6d6d6d6c93537a757b7b527975527978a06975687555766b796c78770136798763787601367901367901367901367901367901367951766b796c756b6d6d6d6c93537a757b7b527975527978a06975687554766b796c78770136798763787601367901367901367901367901367901367900766b796c756b6d6d6d6c93537a757b7b527975527978a06975687500000001377901397978827d770122a1696e7e53797e777777014d766b796c750144766b796c75630149766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a90155766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a7987916954790154766b796c75a97e557a75547a547a547a547a54797877827700a0635379780141766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d8c766b796c7501448c766b796c756301498c766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901558c766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901548c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801418c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5294766b796c7501445294766b796c756301495294766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555294766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5394766b796c7501445394766b796c756301495394766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555394766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5494766b796c7501445494766b796c756301495494766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555494766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547900a069547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012279876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var oI=$(ed=>{k();M();var p8e=ed&&ed.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},sI=ed&&ed.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ed,"__esModule",{value:!0});ed.NftClosedMinterProto=void 0;var u1=xr(),W4=class extends u1.SmartContractLib{static stateHash(e){return(0,u1.hash160)(e.nftScript+(0,u1.int2ByteString)(e.quotaMaxLocalId)+(0,u1.int2ByteString)(e.nextLocalId))}static create(e,r,n){return{nftScript:e,quotaMaxLocalId:r,nextLocalId:n}}static toByteString(e){return e.nftScript+(0,u1.int2ByteString)(e.quotaMaxLocalId)+(0,u1.int2ByteString)(e.nextLocalId)}};ed.NftClosedMinterProto=W4;p8e([(0,u1.method)(),sI("design:type",Function),sI("design:paramtypes",[Object]),sI("design:returntype",String)],W4,"stateHash",null)});var j5=$(td=>{k();M();var m8e=td&&td.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},aI=td&&td.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(td,"__esModule",{value:!0});td.CAT721Proto=void 0;var c1=xr(),g8e=In(),Y4=class extends c1.SmartContractLib{static stateHash(e){return(0,c1.assert)((0,c1.len)(e.ownerAddr)==g8e.ADDRESS_HASH_LEN),(0,c1.hash160)(e.ownerAddr+(0,c1.int2ByteString)(e.localId))}static create(e,r){return{ownerAddr:e,localId:r}}static toByteString(e){return e.ownerAddr+(0,c1.int2ByteString)(e.localId)}};td.CAT721Proto=Y4;m8e([(0,c1.method)(),aI("design:type",Function),aI("design:paramtypes",[Object]),aI("design:returntype",String)],Y4,"stateHash",null)});var uI=$(rd=>{k();M();var J4=rd&&rd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},K5=rd&&rd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(rd,"__esModule",{value:!0});rd.NftClosedMinter=void 0;var Os=xr(),X4=In(),Z4=ra(),b8e=O0(),fz=oI(),hz=na(),y8e=j5(),f1=class extends Os.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y){(0,Os.assert)(this.checkSig(Z4.SigHashUtils.checkSHPreimage(f),Z4.SigHashUtils.Gx),"preimage check error"),Z4.SigHashUtils.checkPrevoutsCtx(p,f.hashPrevouts,f.inputIndex),Z4.SigHashUtils.checkSpentScriptsCtx(l,f.hashSpentScripts),hz.StateUtils.verifyPreStateHash(c,fz.NftClosedMinterProto.stateHash(u),h.preTx.outputScriptList[X4.STATE_OUTPUT_INDEX],p.outputIndexVal),(0,Os.assert)(p.inputIndexVal==0n);let _=l[Number(p.inputIndexVal)];b8e.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,_);let O=(0,Os.toByteString)(""),F=(0,Os.toByteString)(""),B=0n;u.nextLocalId+1n<u.quotaMaxLocalId&&(F=X4.TxUtil.buildOutput(_,o),O+=(0,Os.hash160)(fz.NftClosedMinterProto.stateHash({nftScript:u.nftScript,quotaMaxLocalId:u.quotaMaxLocalId,nextLocalId:u.nextLocalId+1n})),B+=1n),(0,Os.assert)(r.localId==u.nextLocalId),O+=(0,Os.hash160)(y8e.CAT721Proto.stateHash(r));let I=X4.TxUtil.buildOutput(u.nftScript,a);B+=1n;let L=hz.StateUtils.getCurrentStateOutput(O,B,e),N=X4.TxUtil.getChangeOutput(y),H=(0,Os.sha256)(L+F+I+N);(0,Os.assert)(H==f.hashOutputs,"hashOutputs mismatch"),(0,Os.assert)(this.issuerAddress==(0,Os.hash160)(n+i)),(0,Os.assert)(this.checkSig(s,i))}};rd.NftClosedMinter=f1;J4([(0,Os.prop)(),K5("design:type",String)],f1.prototype,"issuerAddress",void 0);J4([(0,Os.prop)(),K5("design:type",String)],f1.prototype,"genesisOutpoint",void 0);J4([(0,Os.prop)(),K5("design:type",BigInt)],f1.prototype,"max",void 0);J4([(0,Os.method)(),K5("design:type",Function),K5("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),K5("design:returntype",void 0)],f1.prototype,"mint",null)});var fI=$(nd=>{k();M();var v8e=nd&&nd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},cI=nd&&nd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(nd,"__esModule",{value:!0});nd.NftParallelClosedMinterProto=void 0;var Z9=xr(),Q4=class extends Z9.SmartContractLib{static stateHash(e){return(0,Z9.hash160)(e.nftScript+(0,Z9.int2ByteString)(e.nextLocalId))}static create(e,r){return{nftScript:e,nextLocalId:r}}static toByteString(e){return e.nftScript+(0,Z9.int2ByteString)(e.nextLocalId)}};nd.NftParallelClosedMinterProto=Q4;v8e([(0,Z9.method)(),cI("design:type",Function),cI("design:paramtypes",[Object]),cI("design:returntype",String)],Q4,"stateHash",null)});var lI=$(id=>{k();M();var t8=id&&id.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},V5=id&&id.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(id,"__esModule",{value:!0});id.NftParallelClosedMinter=void 0;var yn=xr(),J9=In(),e8=ra(),_8e=O0(),hI=fI(),lz=na(),x8e=j5(),h1=class extends yn.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y){(0,yn.assert)(this.checkSig(e8.SigHashUtils.checkSHPreimage(f),e8.SigHashUtils.Gx),"preimage check error"),e8.SigHashUtils.checkPrevoutsCtx(p,f.hashPrevouts,f.inputIndex),e8.SigHashUtils.checkSpentScriptsCtx(l,f.hashSpentScripts),lz.StateUtils.verifyPreStateHash(c,hI.NftParallelClosedMinterProto.stateHash(u),h.preTx.outputScriptList[J9.STATE_OUTPUT_INDEX],p.outputIndexVal),(0,yn.assert)(p.inputIndexVal==0n);let _=l[Number(p.inputIndexVal)];_8e.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,_),h.preTxInput.txhash+h.preTxInput.outputIndex==this.genesisOutpoint&&((0,yn.assert)(c.txoStateHashes[1]==(0,yn.toByteString)("")),(0,yn.assert)(c.txoStateHashes[2]==(0,yn.toByteString)("")),(0,yn.assert)(c.txoStateHashes[3]==(0,yn.toByteString)("")),(0,yn.assert)(c.txoStateHashes[4]==(0,yn.toByteString)("")));let F=(0,yn.toByteString)(""),B=(0,yn.toByteString)(""),E=0n,I=u.nextLocalId+u.nextLocalId+1n,L=u.nextLocalId+u.nextLocalId+2n;I<this.max&&(B+=J9.TxUtil.buildOutput(_,o),F+=(0,yn.hash160)(hI.NftParallelClosedMinterProto.stateHash({nftScript:u.nftScript,nextLocalId:I})),E+=1n),L<this.max&&(B+=J9.TxUtil.buildOutput(_,o),F+=(0,yn.hash160)(hI.NftParallelClosedMinterProto.stateHash({nftScript:u.nftScript,nextLocalId:L})),E+=1n),(0,yn.assert)(r.localId==u.nextLocalId),F+=(0,yn.hash160)(x8e.CAT721Proto.stateHash(r));let N=J9.TxUtil.buildOutput(u.nftScript,a);E+=1n;let H=lz.StateUtils.getCurrentStateOutput(F,E,e),D=J9.TxUtil.getChangeOutput(y),C=(0,yn.sha256)(H+B+N+D);(0,yn.assert)(C==f.hashOutputs,"hashOutputs mismatch"),(0,yn.assert)(this.issuerAddress==(0,yn.hash160)(n+i)),(0,yn.assert)(this.checkSig(s,i))}};id.NftParallelClosedMinter=h1;t8([(0,yn.prop)(),V5("design:type",String)],h1.prototype,"issuerAddress",void 0);t8([(0,yn.prop)(),V5("design:type",String)],h1.prototype,"genesisOutpoint",void 0);t8([(0,yn.prop)(),V5("design:type",BigInt)],h1.prototype,"max",void 0);t8([(0,yn.method)(),V5("design:type",Function),V5("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),V5("design:returntype",void 0)],h1.prototype,"mint",null)});var pI=$(M0=>{k();M();var pz=M0&&M0.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},z5=M0&&M0.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(M0,"__esModule",{value:!0});M0.NftOpenMinterMerkleTreeData=M0.NftOpenMinterProto=void 0;var hi=xr(),G5=!0,dz=!1,Uf=class extends hi.SmartContractLib{static stateHash(e){return(0,hi.hash160)(e.nftScript+e.merkleRoot+(0,hi.int2ByteString)(e.nextLocalId))}static nftMerkleLeafToString(e){let r=e.isMined?(0,hi.toByteString)("01"):(0,hi.toByteString)("00");return e.commitScript+(0,hi.int2ByteString)(e.localId)+r}static create(e,r,n){return{nftScript:e,merkleRoot:r,nextLocalId:n}}static toByteString(e){return e.nftScript+e.merkleRoot+(0,hi.int2ByteString)(e.nextLocalId)}};M0.NftOpenMinterProto=Uf;pz([(0,hi.method)(),z5("design:type",Function),z5("design:paramtypes",[Object]),z5("design:returntype",String)],Uf,"stateHash",null);pz([(0,hi.method)(),z5("design:type",Function),z5("design:paramtypes",[Object]),z5("design:returntype",String)],Uf,"nftMerkleLeafToString",null);var dI=class{constructor(e,r){this.leafArray=[],this.emptyHashs=[],this.hashNodes=[],this.height=r,this.maxLeafSize=Math.pow(2,this.height-1),this.leafArray=e;let n=(0,hi.hash160)("");this.emptyHashs.push(n);for(let i=1;i<r;i++){let s=this.emptyHashs[i-1];this.emptyHashs[i]=(0,hi.hash160)(s+s)}this.buildMerkleTree()}getLeaf(e){return this.leafArray[e]}get merkleRoot(){return this.hashNodes[this.hashNodes.length-1][0]}getMerklePath(e){let r=this.leafArray[e],n=this.hashNodes[0],i=[],s=[],o=(0,hi.hash160)(Uf.nftMerkleLeafToString(r));e<n.length?n[e]=o:n.push(o);let a=e;for(let u=1;u<this.height;u++){n=this.hashNodes[u-1];let c=this.hashNodes[u],h=Math.floor(a/2);a%2===1?(i.push(n[a-1]),s.push(dz)):h>=c.length?(i.push(this.emptyHashs[u-1]),s.push(G5)):n.length>a+1?(i.push(n[a+1]),s.push(G5)):(i.push(this.emptyHashs[u-1]),s.push(G5)),a=h}return i.push(""),s.push(!1),{leaf:o,leafNode:r,neighbor:i,neighborType:s,merkleRoot:this.merkleRoot}}updateLeaf(e,r){let n=this.leafArray[r];this.leafArray[r]=e;let{neighbor:i,neighborType:s}=this.updateMerkleTree(e,r);return{oldLeaf:n,neighbor:i,neighborType:s,leafIndex:r,newLeaf:e,merkleRoot:this.merkleRoot}}updateMerkleTree(e,r){let n=this.hashNodes[0],i=[],s=[];r<n.length?n[r]=(0,hi.hash160)(Uf.nftMerkleLeafToString(e)):n.push((0,hi.hash160)(Uf.nftMerkleLeafToString(e)));let o=r;for(let a=1;a<this.height;a++){n=this.hashNodes[a-1];let u=this.hashNodes[a],c=Math.floor(o/2);if(o%2===1){let h=(0,hi.hash160)(n[o-1]+n[o]);u[c]=h,i.push(n[o-1]),s.push(dz)}else{let h;if(c>=u.length){if(h=(0,hi.hash160)(n[o]+this.emptyHashs[a-1]),u.length!==c)throw Error("wrong curHash");u.push(h),i.push(this.emptyHashs[a-1]),s.push(G5)}else n.length>o+1?(h=(0,hi.hash160)(n[o]+n[o+1]),i.push(n[o+1]),s.push(G5)):(h=(0,hi.hash160)(n[o]+this.emptyHashs[a-1]),i.push(this.emptyHashs[a-1]),s.push(G5)),u[c]=h}o=c}return i.push(""),s.push(!1),{neighbor:i,neighborType:s}}buildMerkleTree(){this.hashNodes=[];let e=[],r=[];for(let n=0;n<this.leafArray.length;n++)e.push((0,hi.hash160)(Uf.nftMerkleLeafToString(this.leafArray[n])));e.length>0?this.hashNodes.push(e):this.hashNodes.push([this.emptyHashs[0]]);for(let n=1;n<this.height;n++){e=this.hashNodes[n-1],r=[];for(let i=0;i<e.length;)i+1<e.length?r.push((0,hi.hash160)(e[i]+e[i+1])):r.push((0,hi.hash160)(e[i]+this.emptyHashs[n-1])),i+=2;this.hashNodes.push(r)}}};M0.NftOpenMinterMerkleTreeData=dI});var mI=$(Su=>{k();M();var mz=Su&&Su.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},W5=Su&&Su.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Su,"__esModule",{value:!0});Su.NftOpenMinterMerkleTree=Su.HEIGHT=void 0;var _c=xr();Su.HEIGHT=15;var Q9=class extends _c.SmartContractLib{static updateLeaf(e,r,n,i,s){let o=e,a=r;for(let u=0;u<Su.HEIGHT-1;u++)i[u]?(o=(0,_c.hash160)(o+n[u]),a=(0,_c.hash160)(a+n[u])):(o=(0,_c.hash160)(n[u]+o),a=(0,_c.hash160)(n[u]+a));return(0,_c.assert)(o==s,"oldMerkleValue illegal"),a}static verifyLeaf(e,r,n,i){let s=e;for(let o=0;o<Su.HEIGHT-1;o++)n[o]?s=(0,_c.hash160)(s+r[o]):s=(0,_c.hash160)(r[o]+s);return(0,_c.assert)(s==i,"merkleValue illegal"),!0}};Su.NftOpenMinterMerkleTree=Q9;mz([(0,_c.method)(),W5("design:type",Function),W5("design:paramtypes",[String,String,Object,Object,String]),W5("design:returntype",String)],Q9,"updateLeaf",null);mz([(0,_c.method)(),W5("design:type",Function),W5("design:paramtypes",[String,Object,Object,String]),W5("design:returntype",Boolean)],Q9,"verifyLeaf",null)});var gI=$(od=>{k();M();var em=od&&od.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},l1=od&&od.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(od,"__esModule",{value:!0});od.NftOpenMinter=void 0;var Ci=xr(),r8=In(),n8=ra(),S8e=O0(),gz=na(),w8e=j5(),i8=pI(),E8e=mI(),sd=class extends Ci.SmartContract{constructor(e,r,n,i){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.premineAddr=i}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O){(0,Ci.assert)(this.checkSig(n8.SigHashUtils.checkSHPreimage(l),n8.SigHashUtils.Gx),"preimage check error"),n8.SigHashUtils.checkPrevoutsCtx(y,l.hashPrevouts,l.inputIndex),n8.SigHashUtils.checkSpentScriptsCtx(_,l.hashSpentScripts),gz.StateUtils.verifyPreStateHash(f,i8.NftOpenMinterProto.stateHash(h),p.preTx.outputScriptList[r8.STATE_OUTPUT_INDEX],y.outputIndexVal),(0,Ci.assert)(y.inputIndexVal==0n);let F=_[Number(y.inputIndexVal)],B=_[1],E={commitScript:B,localId:h.nextLocalId,isMined:!1},I=i8.NftOpenMinterProto.nftMerkleLeafToString(E),L={commitScript:B,localId:h.nextLocalId,isMined:!0},N=i8.NftOpenMinterProto.nftMerkleLeafToString(L),H=E8e.NftOpenMinterMerkleTree.updateLeaf((0,Ci.hash160)(I),(0,Ci.hash160)(N),n,i,h.merkleRoot);S8e.Backtrace.verifyUnique(y.spentTxhash,p,this.genesisOutpoint,F);let D=(0,Ci.toByteString)(""),C=(0,Ci.toByteString)(""),d=1n,v=h.nextLocalId+1n;v!=this.max&&(D+=r8.TxUtil.buildOutput(F,u),C+=(0,Ci.hash160)(i8.NftOpenMinterProto.stateHash({nftScript:h.nftScript,merkleRoot:H,nextLocalId:v})),d+=1n),(0,Ci.assert)(r.localId==h.nextLocalId),C+=(0,Ci.hash160)(w8e.CAT721Proto.stateHash(r));let g=r8.TxUtil.buildOutput(h.nftScript,c);r.localId<this.premine&&((0,Ci.assert)((0,Ci.hash160)(s+o)==this.premineAddr),(0,Ci.assert)(this.checkSig(a,o)));let m=gz.StateUtils.getCurrentStateOutput(C,d,e),S=r8.TxUtil.getChangeOutput(O),w=(0,Ci.sha256)(m+D+g+S);(0,Ci.assert)(w==l.hashOutputs,"hashOutputs mismatch")}};od.NftOpenMinter=sd;em([(0,Ci.prop)(),l1("design:type",String)],sd.prototype,"genesisOutpoint",void 0);em([(0,Ci.prop)(),l1("design:type",BigInt)],sd.prototype,"max",void 0);em([(0,Ci.prop)(),l1("design:type",BigInt)],sd.prototype,"premine",void 0);em([(0,Ci.prop)(),l1("design:type",String)],sd.prototype,"premineAddr",void 0);em([(0,Ci.method)(),l1("design:type",Function),l1("design:paramtypes",[Object,Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),l1("design:returntype",void 0)],sd.prototype,"mint",null)});var rm=$(ad=>{k();M();var T8e=ad&&ad.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},bI=ad&&ad.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ad,"__esModule",{value:!0});ad.NftGuardProto=void 0;var tm=xr(),bz=K9(),A8e=In(),Y5=class extends tm.SmartContractLib{static stateHash(e){let r=e.collectionScript;for(let n=0;n<A8e.MAX_INPUT;n++)r+=(0,tm.int2ByteString)(e.localIdArray[n]);return(0,tm.hash160)(r)}static toByteString(e){return Y5.toList(e).join("")}static createEmptyState(){return{collectionScript:(0,tm.toByteString)(""),localIdArray:(0,bz.emptyBigIntArray)()}}static toList(e){return[e.collectionScript,...(0,bz.intArrayToByteString)(e.localIdArray)]}};ad.NftGuardProto=Y5;T8e([(0,tm.method)(),bI("design:type",Function),bI("design:paramtypes",[Object]),bI("design:returntype",String)],Y5,"stateHash",null)});var yI=$(cd=>{k();M();var o8=cd&&cd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ud=cd&&cd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(cd,"__esModule",{value:!0});cd.CAT721=void 0;var Bs=xr(),s8=ra(),yz=In(),I8e=R5(),vz=na(),P8e=j5(),O8e=rm(),B8e=O0(),d1=class extends Bs.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,o,a,u){(0,Bs.assert)(this.checkSig(s8.SigHashUtils.checkSHPreimage(o),s8.SigHashUtils.Gx),"preimage check error"),s8.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),s8.SigHashUtils.checkSpentScriptsCtx(u,o.hashSpentScripts),vz.StateUtils.verifyPreStateHash(n,P8e.CAT721Proto.stateHash(r),s.preTx.outputScriptList[yz.STATE_OUTPUT_INDEX],a.outputIndexVal);let c=u[Number(a.inputIndexVal)];B8e.Backtrace.verifyToken(a.spentTxhash,s,this.minterScript,c),this.valitateNftGuard(i,c,r,a.inputIndexVal,a.prevouts,u),e.isUserSpend?((0,Bs.assert)((0,Bs.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Bs.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Bs.assert)(r.ownerAddr==(0,Bs.hash160)(u[Number(e.contractInputIndex)]))}valitateNftGuard(e,r,n,i,s,o){let a=O8e.NftGuardProto.stateHash(e.guardState);(0,Bs.assert)(vz.StateUtils.getStateScript(a,1n)==e.tx.outputScriptList[yz.STATE_OUTPUT_INDEX]),(0,Bs.assert)(e.guardState.collectionScript==r),(0,Bs.assert)(n.localId>=0n),(0,Bs.assert)(e.guardState.localIdArray[Number(i)]==n.localId);let u=I8e.TxProof.getTxIdFromPreimg3(e.tx);return(0,Bs.assert)(s[Number(e.inputIndexVal)]==u+e.outputIndex),(0,Bs.assert)(o[Number(e.inputIndexVal)]==this.guardScript),!0}};cd.CAT721=d1;o8([(0,Bs.prop)(),ud("design:type",String)],d1.prototype,"minterScript",void 0);o8([(0,Bs.prop)(),ud("design:type",String)],d1.prototype,"guardScript",void 0);o8([(0,Bs.method)(),ud("design:type",Function),ud("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),ud("design:returntype",void 0)],d1.prototype,"unlock",null);o8([(0,Bs.method)(),ud("design:type",Function),ud("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),ud("design:returntype",Boolean)],d1.prototype,"valitateNftGuard",null)});var _I=$(fd=>{k();M();var C8e=fd&&fd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},vI=fd&&fd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(fd,"__esModule",{value:!0});fd.NftTransferGuard=void 0;var ki=xr(),a8=ra(),p1=In(),k8e=rm(),M8e=na(),u8=class extends ki.SmartContract{transfer(e,r,n,i,s,o,a,u,c,h,f){(0,ki.assert)(this.checkSig(a8.SigHashUtils.checkSHPreimage(c),a8.SigHashUtils.Gx),"preimage check error"),a8.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),a8.SigHashUtils.checkSpentScriptsCtx(f,c.hashSpentScripts),M8e.StateUtils.verifyGuardStateHash(u,h.spentTxhash,k8e.NftGuardProto.stateHash(a));let p=(0,ki.fill)(-1n,p1.MAX_TOKEN_OUTPUT),l=0n;for(let I=0;I<p1.MAX_INPUT;I++)f[I]==a.collectionScript&&(p[Number(l)]=a.localIdArray[I],l+=1n);let y=(0,ki.toByteString)(""),_=(0,ki.toByteString)(""),O=0n,F=p1.TxUtil.buildOutput(a.collectionScript,o);for(let I=0;I<p1.MAX_STATE;I++){let L=r[I];if(i[I]){let N=p[Number(O)];_=_+F;let H=(0,ki.hash160)((0,ki.hash160)(L+(0,ki.int2ByteString)(N)));(0,ki.assert)((0,ki.hash160)(e[I])==H),(0,ki.assert)(N>=0n),(0,ki.assert)(n[I]==N),y+=H,O+=1n}else(0,ki.assert)(L!=a.collectionScript),y+=(0,ki.hash160)(e[I]),(0,ki.len)(L)>0&&(_+=p1.TxUtil.buildOutput(L,s[I]))}(0,ki.assert)(l==O);let B=p1.TxUtil.buildOpReturnRoot(p1.TxUtil.getStateScript((0,ki.hash160)(y))),E=(0,ki.sha256)(B+_);(0,ki.assert)(E==c.hashOutputs,"hashOutputs mismatch")}};fd.NftTransferGuard=u8;C8e([(0,ki.method)(),vI("design:type",Function),vI("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),vI("design:returntype",void 0)],u8.prototype,"transfer",null)});var wI=$(hd=>{k();M();var R8e=hd&&hd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xI=hd&&hd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(hd,"__esModule",{value:!0});hd.NftBurnGuard=void 0;var xc=xr(),SI=ra(),c8=In(),N8e=rm(),F8e=na(),f8=class extends xc.SmartContract{burn(e,r,n,i,s,o,a){(0,xc.assert)(this.checkSig(SI.SigHashUtils.checkSHPreimage(o),SI.SigHashUtils.Gx),"preimage check error"),SI.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),F8e.StateUtils.verifyGuardStateHash(s,a.spentTxhash,N8e.NftGuardProto.stateHash(i));let u=(0,xc.toByteString)(""),c=(0,xc.toByteString)("");for(let p=0;p<c8.MAX_STATE;p++){let l=r[p];(0,xc.assert)(l!=i.collectionScript),u+=(0,xc.hash160)(e[p]),(0,xc.len)(l)>0&&(c+=c8.TxUtil.buildOutput(l,n[p]))}let h=c8.TxUtil.buildOpReturnRoot(c8.TxUtil.getStateScript((0,xc.hash160)(u))),f=(0,xc.sha256)(h+c);(0,xc.assert)(f==o.hashOutputs,"hashOutputs mismatch")}};hd.NftBurnGuard=f8;R8e([(0,xc.method)(),xI("design:type",Function),xI("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),xI("design:returntype",void 0)],f8.prototype,"burn",null)});var _z=$((iat,H8e)=>{H8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftClosedMinter",md5:"fc2429e864deaa9b44d1e6f24282334f",structs:[{name:"NftClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"quotaMaxLocalId",type:"int"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790164790164790164796f757e787ea9777777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000160798b760163799f63547901667978827d770122a1696e7e53797e777777537a757b7b53790164790164790164798b6f757e787ea9777777a97e547a7572537a537975788b7b757c680169790162799d5379016b79016b7978827701149d6e7ea97777a97e547a7572537a53797501637901657978827d770122a1696e7e53797e77777752798b537a757b7b5279755479537901727901727901727901727901727956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775f795f7976607987646e78827d770122a1696e7e53797e77777767006877777856797e53797e787ea876012a79885b79016d79016d797ea988016a79016c79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var xz=$((sat,D8e)=>{D8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftParallelClosedMinter",md5:"12afc68fd84cddd24bc866da2955fb57",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"NftParallelClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"NftParallelClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftParallelClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftParallelClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790163790163796e7ea97777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75013f79013f797e7654798763015c79015c79015c79015c79015c7955517600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955527600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955537600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955547600a26976559f69948c766b796c756b6d6d756c008868000000016179016279938b0162790163799352937858799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657953796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b527975687658799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657952796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b52797568016a790164799d5479016c79016c7978827701149d6e7ea97777a97e557a75547a547a547a547a54797501647901667978827d770122a1696e7e53797e77777753798b547a7572537a5379755579547901737901737901737901737901737956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79885d79016e79016e797ea988016b79016d79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Sz=$((oat,L8e)=>{L8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftOpenMinter",md5:"86fe8c275b45c796bb9500b815d48820",structs:[{name:"NftOpenMinterState",params:[{name:"nftScript",type:"bytes"},{name:"merkleRoot",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"NftMerkleLeaf",params:[{name:"commitScript",type:"bytes"},{name:"localId",type:"int"},{name:"isMined",type:"bool"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftOpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"NftOpenMinterMerkleTree",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"neighbor",type:"bytes[15]"},{name:"neighborType",type:"bool[15]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftOpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../nftOpenMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031000000000000<genesisOutpoint><maxCount><premine><premineAddr>5379587a75577a577a577a577a577a577a577a5279577a75567a567a567a567a567a567a78567a757171557a76557a75547a547a547a547a6d6d0127790127790127790127790127790127790127790127790127790127790127790127790127790127790112795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011479787ea85279017f9f695279009c6301006752796878557952797e8801177955797e54798b7e6b6d6d6d6d6d6d6d6d6c775779ad011979011979011979011979011979011979011979011979011979011979012f79012a795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5f795f795f795f795f795f790129795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015c79015c79015c79015c79015c79015c790165790165790165796f757e787ea9777777014d79014d79014d79014d79014d79014d7956007600a26976569f69948c766b796c756b6d6d6d6c011a795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011379009d5f0114797600a26976569f6994766b796c755f766b796c7877016079006f76635167010068707e787e6b6d6d6c5479016479516f76635167010068707e787e6b6d6d6c5479a978a9028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028800790120790120790111766b796c7563780121766b796c757ea97b757c760121766b796c757ea977670120766b796c7552797ea97b757c0120766b796c75787ea9776801118c766b796c75637801218c766b796c757ea97b757c7601218c766b796c757ea9776701208c766b796c7552797ea97b757c01208c766b796c75787ea9776801115294766b796c75637801215294766b796c757ea97b757c7601215294766b796c757ea9776701205294766b796c7552797ea97b757c01205294766b796c75787ea9776801115394766b796c75637801215394766b796c757ea97b757c7601215394766b796c757ea9776701205394766b796c7552797ea97b757c01205394766b796c75787ea9776801115494766b796c75637801215494766b796c757ea97b757c7601215494766b796c757ea9776701205494766b796c7552797ea97b757c01205494766b796c75787ea9776801115594766b796c75637801215594766b796c757ea97b757c7601215594766b796c757ea9776701205594766b796c7552797ea97b757c01205594766b796c75787ea9776801115694766b796c75637801215694766b796c757ea97b757c7601215694766b796c757ea9776701205694766b796c7552797ea97b757c01205694766b796c75787ea9776801115794766b796c75637801215794766b796c757ea97b757c7601215794766b796c757ea9776701205794766b796c7552797ea97b757c01205794766b796c75787ea9776801115894766b796c75637801215894766b796c757ea97b757c7601215894766b796c757ea9776701205894766b796c7552797ea97b757c01205894766b796c75787ea9776801115994766b796c75637801215994766b796c757ea97b757c7601215994766b796c757ea9776701205994766b796c7552797ea97b757c01205994766b796c75787ea9776801115a94766b796c75637801215a94766b796c757ea97b757c7601215a94766b796c757ea9776701205a94766b796c7552797ea97b757c01205a94766b796c75787ea9776801115b94766b796c75637801215b94766b796c757ea97b757c7601215b94766b796c757ea9776701205b94766b796c7552797ea97b757c01205b94766b796c75787ea9776801115c94766b796c75637801215c94766b796c757ea97b757c7601215c94766b796c757ea9776701205c94766b796c7552797ea97b757c01205c94766b796c75787ea9776801115d94766b796c75637801215d94766b796c757ea97b757c7601215d94766b796c757ea9776701205d94766b796c7552797ea97b757c01205d94766b796c75787ea97768785379886b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c011c79016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279013e79013b790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75000051016b798b760112799e6353795f7901727978827d770122a1696e7e53797e7777777e547a7572537a5379755279016f79567953796f757e787ea9777777a97e537a757b7b527975788b7b757c6802920079016d799d5279029400790294007978827701149d6e7ea97777a97e537a757b7b527975016e7901707978827d770122a1696e7e53797e777777029300790112799f630174790174797ea901117988017279017479ad6870029b0079029b0079029b0079029b0079029b007956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c77011a79011a7976011b7987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876013579876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var wz=$((aat,U8e)=>{U8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT721",md5:"0176b77f091a0f5bb4ef9f4ee455302f",structs:[{name:"NftUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"NftGuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"NftGuardConstState"}],genericTypes:[]},{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"nftUnlockArgs",type:"NftUnlockArgs"},{name:"preState",type:"CAT721State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"NftGuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat721.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c88011779011179885e7900a269011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var Ez=$((uat,q8e)=>{q8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftTransferGuard",md5:"477458c3bb4a3b586664dddf525e5060",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"localIdList",type:"int[5]"},{name:"nftOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftTransferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d4f766e76005e766b796c7877013b79876301397901397901397901397901397901397955766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755d766b796c7877013b79876301397901397901397901397901397901397954766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755c766b796c7877013b79876301397901397901397901397901397901397953766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755b766b796c7877013b79876301397901397901397901397901397901397952766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755a766b796c7877013b79876301397901397901397901397901397901397951766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c687559766b796c7877013b79876301397901397901397901397901397901397900766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c6875000000013c79013e7978827d770122a1696e7e53797e7777770152766b796c750149766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a766b796c75a978887800a2690150766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f7987916954790159766b796c75a97e557a75547a547a547a547a54797877827700a0635379780146766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501528c766b796c7501498c766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a8c766b796c75a978887800a26901508c766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901598c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801468c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525294766b796c7501495294766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5294766b796c75a978887800a26901505294766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525394766b796c7501495394766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5394766b796c75a978887800a26901505394766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525494766b796c7501495494766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5494766b796c75a978887800a26901505494766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012779876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var Tz=$((cat,$8e)=>{$8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftBurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftBurnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Az=$((fat,j8e)=>{j8e.exports={name:"bitcore-lib-inquisition",version:"10.3.1",description:"A pure and powerful JavaScript Bitcoin library.",author:"BitPay <dev@bitpay.com>",main:"index.js",scripts:{test:"gulp test","test:ci":"npm run test",coverage:"gulp coverage",build:"gulp",pub:"npm run build && npm publish"},keywords:["bitcoin","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],repository:{type:"git",url:"https://github.com/bitpay/bitcore/tree/master/packages/bitcore-lib"},browser:{request:"browser-request"},dependencies:{bech32:"=2.0.0","bn.js":"=4.11.8",bs58:"^4.0.1","buffer-compare":"=1.1.1",elliptic:"6.6.1",inherits:"=2.0.1",lodash:"^4.17.20"},devDependencies:{"bitcore-build":"^10.0.21",brfs:"^2.0.1",chai:"^4.2.0",gulp:"^4.0.0",sinon:"^7.1.1"},license:"MIT",gitHead:"012cc0216a9bc6b195035855bd17149bad41acd1"}});var dd=$((hat,Pz)=>{k();M();var R0=fs(),K8e=Pn(),V8e=j_().ec,ld=new V8e("secp256k1"),G8e=ld.curve.point.bind(ld.curve),Iz=ld.curve.pointFromX.bind(ld.curve),Mi=function(e,r,n){try{var i=G8e(e,r,n)}catch{throw new Error("Invalid Point")}return i.validate(),i};Mi.prototype=Object.getPrototypeOf(ld.curve.point());Mi.fromX=function(e,r){try{var n=Iz(r,e)}catch{throw new Error("Invalid X")}return n.validate(),n};Mi.getG=function(){return ld.curve.g};Mi.getN=function(){return new R0(ld.curve.n.toArray())};Mi.getP=function(){return ld.curve.p.clone()};Mi.prototype._getX||(Mi.prototype._getX=Mi.prototype.getX);Mi.prototype.getX=function(){return new R0(this._getX().toArray())};Mi.prototype._getY||(Mi.prototype._getY=Mi.prototype.getY);Mi.prototype.getY=function(){return new R0(this._getY().toArray())};Mi.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var e;try{e=Iz(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(e.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(Mi.getN()).isInfinity())throw new Error("Point times N must be infinity");return this};Mi.pointToCompressed=function(e){var r=e.getX().toBuffer({size:32}),n=e.getY().toBuffer({size:32}),i,s=n[n.length-1]%2;return s?i=A.Buffer.from([3]):i=A.Buffer.from([2]),K8e.concat([i,r])};Mi.prototype.liftX=function(){let t=Mi.getP(),e=new R0(0),r=new R0(1),n=new R0(2),i=new R0(3),s=new R0(4),o=new R0(7),a=R0.red("k256"),u=this.x.pow(i).add(o).mod(t),c=u.toRed(a).redPow(t.add(r).div(s)).mod(t);if(!u.eq(c.pow(n).mod(t)))throw new Error("liftX failed");let h=this.x.red?this.x.fromRed():this.x,f=c.mod(n).eq(e)?c.fromRed():t.sub(c);return new Mi(h,f,!0)};Pz.exports=Mi});var Qs=$((pat,Bz)=>{k();M();var qf=fs(),z8e=wr(),Js=Tr(),Oz=Pn(),W8e=ci(),Jt=function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(e instanceof qf)this.set({r:e,s:r,isSchnorr:n});else if(e){var i=e;this.set(i)}};Jt.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=typeof t.i>"u"?this.i:t.i,this.compressed=typeof t.compressed>"u"?this.compressed:t.compressed,this.isSchnorr=typeof t.isSchnorr>"u"?this.isSchnorr:t.isSchnorr,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this};Jt.fromCompact=function(t){Js.checkArgument(Oz.isBuffer(t),"Argument is expected to be a Buffer");var e=new Jt,r=!0,n=t.slice(0,1)[0]-27-4;n<0&&(r=!1,n=n+4);var i=t.slice(1,33),s=t.slice(33,65);return Js.checkArgument(n===0||n===1||n===2||n===3,new Error("i must be 0, 1, 2, or 3")),Js.checkArgument(i.length===32,new Error("r must be 32 bytes")),Js.checkArgument(s.length===32,new Error("s must be 32 bytes")),e.compressed=r,e.i=n,e.r=qf.fromBuffer(i),e.s=qf.fromBuffer(s),e};Jt.fromDER=Jt.fromBuffer=function(t,e){var r=new Jt;if((t.length===64||t.length===65)&&t[0]!=48)return Jt.fromSchnorr(t);Js.checkArgument(!(t.length===64&&t[0]===48),new Error("64 DER (ecdsa) signatures not allowed"));var n=Jt.parseDER(t,e);return r.r=n.r,r.s=n.s,r};Jt.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new Jt.fromDER(r,!1);return n.nhashtype=e,n};Jt.fromString=function(t){var e=A.Buffer.from(t,"hex");return Jt.fromDER(e)};Jt.parseDER=function(t,e){Js.checkArgument(Oz.isBuffer(t),new Error("DER formatted signature should be a buffer")),z8e.isUndefined(e)&&(e=!0);var r=t[0];Js.checkArgument(r===48,new Error("Header byte should be 0x30"));var n=t[1],i=t.slice(2).length;Js.checkArgument(!e||n===i,new Error("Length byte should length of what follows")),n=n<i?n:i;var s=t[2+0];Js.checkArgument(s===2,new Error("Integer byte for r should be 0x02"));var o=t[2+1],a=t.slice(2+2,2+2+o),u=qf.fromBuffer(a),c=t[2+1+1]===0;Js.checkArgument(o===a.length,new Error("Length of r incorrect"));var h=t[2+2+o+0];Js.checkArgument(h===2,new Error("Integer byte for s should be 0x02"));var f=t[2+2+o+1],p=t.slice(2+2+o+2,2+2+o+2+f),l=qf.fromBuffer(p),y=t[2+2+o+2+2]===0;Js.checkArgument(f===p.length,new Error("Length of s incorrect"));var _=2+2+o+2+f;Js.checkArgument(n===_-2,new Error("Length of signature incorrect"));var O={header:r,length:n,rheader:s,rlength:o,rneg:c,rbuf:a,r:u,sheader:h,slength:f,sneg:y,sbuf:p,s:l};return O};Jt.prototype.toCompact=function(t,e){if(t=typeof t=="number"?t:this.i,e=typeof e=="boolean"?e:this.compressed,!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");var r=t+27+4;e===!1&&(r=r-4);var n=A.Buffer.from([r]),i=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return A.Buffer.concat([n,i,s])};Jt.prototype.toBuffer=Jt.prototype.toDER=function(){if(this.isSchnorr){let l=!this.nhashtype||this.nhashtype===Jt.SIGHASH_DEFAULT?A.Buffer.alloc(0):A.Buffer.from([this.nhashtype]);return A.Buffer.concat([this.r.toBuffer({size:32}),this.s.toBuffer({size:32}),l])}var t=this.r.toBuffer(),e=this.s.toBuffer(),r=!!(t[0]&128),n=!!(e[0]&128),i=r?A.Buffer.concat([A.Buffer.from([0]),t]):t,s=n?A.Buffer.concat([A.Buffer.from([0]),e]):e,o=i.length,a=s.length,u=2+o+2+a,c=2,h=2,f=48,p=A.Buffer.concat([A.Buffer.from([f,u,c,o]),i,A.Buffer.from([h,a]),s]);return p};Jt.prototype.toString=function(){var t=this.toDER();return t.toString("hex")};Jt.isTxDER=function(t){if(t.length<9||t.length>73||t[0]!==48||t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(t[4-2]!==2||e===0||n[0]&128||e>1&&n[0]===0&&!(n[1]&128))return!1;var i=t.slice(6+e);return!(t[6+e-2]!==2||r===0||i[0]&128||r>1&&i[0]===0&&!(i[1]&128))};Jt.prototype.hasLowS=function(){return!(this.s.lt(new qf(1))||this.s.gt(new qf("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))};Jt.prototype.hasDefinedHashtype=function(){if(!W8e.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~Jt.SIGHASH_ANYONECANPAY;return!(t<Jt.SIGHASH_ALL||t>Jt.SIGHASH_SINGLE)};Jt.prototype.toTxFormat=function(){var t=this.toDER(),e=A.Buffer.alloc(1);return e.writeUInt8(this.nhashtype,0),A.Buffer.concat([t,e])};Jt.fromSchnorr=function(t){Js.checkArgument(A.Buffer.isBuffer(t),"Schnorr signature argument must be a buffer"),Js.checkArgument(t.length===64||t.length===65,"Schnorr signatures must be 64 or 65 bytes");let e=new Jt,r=t.slice(0,32),n=t.slice(32,64);return t.length===65?(e.nhashtype=t[t.length-1],Js.checkState(e.nhashtype!==Jt.SIGHASH_DEFAULT,new Error("invalid hashtype"))):e.nhashtype=Jt.SIGHASH_DEFAULT,e.r=qf.fromBuffer(r),e.s=qf.fromBuffer(n),e.isSchnorr=!0,e};Jt.SIGHASH_DEFAULT=0;Jt.SIGHASH_ALL=1;Jt.SIGHASH_NONE=2;Jt.SIGHASH_SINGLE=3;Jt.SIGHASH_ANYONECANPAY=128;Jt.SIGHASH_OUTPUT_MASK=3;Jt.SIGHASH_INPUT_MASK=128;Jt.Version={};Jt.Version.BASE=0;Jt.Version.WITNESS_V0=1;Jt.Version.TAPROOT=2;Jt.Version.TAPSCRIPT=3;Bz.exports=Jt});var Ni=$((bat,Cz)=>{k();M();var h8=ff(),pd=Pn(),$f=Tr(),Ri=Cz.exports;Ri.sha1=function(t){return $f.checkArgument(pd.isBuffer(t)),h8.createHash("sha1").update(t).digest()};Ri.sha1.blocksize=512;Ri.sha256=function(t){return $f.checkArgument(pd.isBuffer(t)),h8.createHash("sha256").update(t).digest()};Ri.sha256.blocksize=512;Ri.sha256sha256=function(t){return $f.checkArgument(pd.isBuffer(t)),Ri.sha256(Ri.sha256(t))};Ri.ripemd160=function(t){return $f.checkArgument(pd.isBuffer(t)),h8.createHash("ripemd160").update(t).digest()};Ri.sha256ripemd160=function(t){return $f.checkArgument(pd.isBuffer(t)),Ri.ripemd160(Ri.sha256(t))};Ri.sha512=function(t){return $f.checkArgument(pd.isBuffer(t)),h8.createHash("sha512").update(t).digest()};Ri.sha512.blocksize=1024;Ri.hmac=function(t,e,r){$f.checkArgument(pd.isBuffer(e)),$f.checkArgument(pd.isBuffer(r)),$f.checkArgument(t.blocksize);var n=t.blocksize/8;if(r.length>n)r=t(r);else if(r<n){var i=A.Buffer.alloc(n);i.fill(0),r.copy(i),r=i}var s=A.Buffer.alloc(n);s.fill(92);var o=A.Buffer.alloc(n);o.fill(54);for(var a=A.Buffer.alloc(n),u=A.Buffer.alloc(n),c=0;c<n;c++)a[c]=s[c]^r[c],u[c]=o[c]^r[c];return t(A.Buffer.concat([a,t(A.Buffer.concat([u,e]))]))};Ri.sha256hmac=function(t,e){return Ri.hmac(Ri.sha256,t,e)};Ri.sha512hmac=function(t,e){return Ri.hmac(Ri.sha512,t,e)}});var gd=$((_at,Mz)=>{k();M();var Y8e=Pn(),l8=ci(),md=[],_o={};function kz(){}kz.prototype.toString=function(){return this.name};function m1(t,e){if(~md.indexOf(t))return t;if(e){Array.isArray(e)||(e=[e]);for(let r in md)if(e.some(n=>md[r][n]===t))return md[r];return}return _o[t]&&_o[t].length>=1?_o[t][0]:_o[t]}function TI(t){return this.name==t||this.alias==t}function nm(t){var e=new kz;l8.defineImmutable(e,{name:t.name,alias:t.alias,is:t.is,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,bech32prefix:t.bech32prefix,xpubkey:t.xpubkey,xprivkey:t.xprivkey}),t.networkMagic&&l8.defineImmutable(e,{networkMagic:Y8e.integerAsBuffer(t.networkMagic)}),t.port&&l8.defineImmutable(e,{port:t.port}),t.dnsSeeds&&l8.defineImmutable(e,{dnsSeeds:t.dnsSeeds});for(let r of Object.values(e))r!=null&&typeof r!="object"&&(_o[r]||(_o[r]=[]),_o[r].push(e));md.push(e);for(let r of t.variants||[])nm({...t,variants:void 0,...r});return e}function X8e(t){typeof t!="object"&&(t=m1(t));for(var e=0;e<md.length;e++)md[e]===t&&md.splice(e,1);for(var r in _o)if(_o[r].length){let n=_o[r].indexOf(t);n>=0&&_o[r].splice(n,1),_o[r].length===0&&delete _o[r]}else _o[r]===t&&delete _o[r]}nm({name:"livenet",alias:"mainnet",is:TI,pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var EI=m1("livenet");nm({name:"testnet",alias:"testnet",is:TI,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,variants:[{name:"testnet3",networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]},{name:"signet",networkMagic:168021824,port:38332,dnsSeeds:["178.128.221.177","103.16.128.63","153.126.143.201","192.241.163.142"]}]});var AI=m1("testnet"),Z8e=m1("testnet3"),J8e=m1("signet");nm({name:"regtest",alias:"dev",is:TI,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var Q8e=m1("regtest");function eve(){AI.regtestEnabled=!0}function tve(){AI.regtestEnabled=!1}Mz.exports={add:nm,remove:X8e,defaultNetwork:EI,livenet:EI,mainnet:EI,testnet:AI,testnet3:Z8e,signet:J8e,regtest:Q8e,get:m1,enableRegtest:eve,disableRegtest:tve}});var ls=$((wat,Nz)=>{k();M();var II=Pn(),Rz=tc(),li=function t(e){if(!(this instanceof t))return new t(e);this.bufLen=0,e?this.set(e):this.bufs=[]};li.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this.bufLen=this.bufs.reduce(function(e,r){return e+r.length},0),this};li.prototype.toBuffer=function(){return this.concat()};li.prototype.concat=function(){return A.Buffer.concat(this.bufs,this.bufLen)};li.prototype.write=function(t){return Rz(II.isBuffer(t)),this.bufs.push(t),this.bufLen+=t.length,this};li.prototype.writeReverse=function(t){return Rz(II.isBuffer(t)),this.bufs.push(II.reverse(t)),this.bufLen+=t.length,this};li.prototype.writeUInt8=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(1);return e.writeUInt8(t,0),this.write(e),this};li.prototype.writeUInt16BE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(2);return e.writeUInt16BE(t,0),this.write(e),this};li.prototype.writeUInt16LE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(2);return e.writeUInt16LE(t,0),this.write(e),this};li.prototype.writeUInt32BE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(4);return e.writeUInt32BE(t,0),this.write(e),this};li.prototype.writeInt32LE=function(t){var e=A.Buffer.alloc(4);return e.writeInt32LE(t,0),this.write(e),this};li.prototype.writeUInt32LE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(4);return e.writeUInt32LE(t,0),this.write(e),this};li.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this};li.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this};li.prototype.writeVarintNum=function(t){var e=li.varintBufNum(t);return this.write(e),this};li.prototype.writeVarintBN=function(t){var e=li.varintBufBN(t);return this.write(e),this};li.varintBufNum=function(t){var e=void 0;return t<253?(e=A.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=A.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=A.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=A.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e};li.varintBufBN=function(t){var e=void 0,r=t.toNumber();if(r<253)e=A.Buffer.alloc(1),e.writeUInt8(r,0);else if(r<65536)e=A.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(r,1);else if(r<4294967296)e=A.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(r,1);else{var n=new li;n.writeUInt8(255),n.writeUInt64LEBN(t);var e=n.concat()}return e};Nz.exports=li});var bd=$((Aat,PI)=>{k();M();typeof Object.create=="function"?PI.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:PI.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var Kf=$((Oat,Dz)=>{k();M();var Fz=Ni(),Hz=ls(),rve=bd();function jf(t,e,r="hex"){if(!(this instanceof jf))return new jf(t,e,r);Hz.apply(this),t=A.Buffer.from(t);let n=Fz.sha256(t);return this.write(n),this.write(n),e&&(e=A.Buffer.isBuffer(e)?e:A.Buffer.from(e,r),this.write(e)),this}rve(jf,Hz);jf.prototype.finalize=function(){return A.Buffer.from(Fz.sha256(this.toBuffer()))};Object.defineProperties(jf,{TAPSIGHASH:{get:()=>new jf("TapSighash")},TAPLEAF:{get:()=>new jf("TapLeaf")},TAPBRANCH:{get:()=>new jf("TapBranch")}});Dz.exports=jf});var Uz=$((kat,Lz)=>{k();M();var d8=q_().Buffer;function nve(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(l){if((Array.isArray(l)||l instanceof Uint8Array)&&(l=d8.from(l)),!d8.isBuffer(l))throw new TypeError("Expected Buffer");if(l.length===0)return"";for(var y=0,_=0,O=0,F=l.length;O!==F&&l[O]===0;)O++,y++;for(var B=(F-O)*c+1>>>0,E=new Uint8Array(B);O!==F;){for(var I=l[O],L=0,N=B-1;(I!==0||L<_)&&N!==-1;N--,L++)I+=256*E[N]>>>0,E[N]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");_=L,O++}for(var H=B-_;H!==B&&E[H]===0;)H++;for(var D=a.repeat(y);H<B;++H)D+=t.charAt(E[H]);return D}function f(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return d8.alloc(0);var y=0;if(l[y]!==" "){for(var _=0,O=0;l[y]===a;)_++,y++;for(var F=(l.length-y)*u+1>>>0,B=new Uint8Array(F);l[y];){var E=e[l.charCodeAt(y)];if(E===255)return;for(var I=0,L=F-1;(E!==0||I<O)&&L!==-1;L--,I++)E+=o*B[L]>>>0,B[L]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");O=I,y++}if(l[y]!==" "){for(var N=F-O;N!==F&&B[N]===0;)N++;var H=d8.allocUnsafe(_+(F-N));H.fill(0,0,_);for(var D=_;N!==F;)H[D++]=B[N++];return H}}}function p(l){var y=f(l);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:p}}Lz.exports=nve});var OI=$((Nat,qz)=>{k();M();var ive=Uz(),sve="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";qz.exports=ive(sve)});var im=$((Dat,Kz)=>{k();M();var BI=wr(),$z=OI(),jz=ai(),ove="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),Sc=function t(e){if(!(this instanceof t))return new t(e);if(A.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};Sc.validCharacters=function(e){return jz.Buffer.isBuffer(e)&&(e=e.toString()),BI.every(BI.map(e,function(r){return BI.includes(ove,r)}))};Sc.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};Sc.encode=function(t){if(!jz.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return $z.encode(t)};Sc.decode=function(t){if(typeof t!="string")throw new Error("Input should be a string");return A.Buffer.from($z.decode(t))};Sc.prototype.fromBuffer=function(t){return this.buf=t,this};Sc.prototype.fromString=function(t){var e=Sc.decode(t);return this.buf=e,this};Sc.prototype.toBuffer=function(){return this.buf};Sc.prototype.toString=function(){return Sc.encode(this.buf)};Kz.exports=Sc});var X5=$(($at,zz)=>{k();M();var Vz=wr(),p8=im(),qat=ai(),Gz=Ni().sha256sha256,sa=function t(e){if(!(this instanceof t))return new t(e);if(A.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};sa.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};sa.validChecksum=function(e,r){return Vz.isString(e)&&(e=A.Buffer.from(p8.decode(e))),Vz.isString(r)&&(r=A.Buffer.from(p8.decode(r))),r||(r=e.slice(-4),e=e.slice(0,-4)),sa.checksum(e).toString("hex")===r.toString("hex")};sa.decode=function(t){if(typeof t!="string")throw new Error("Input must be a string");var e=A.Buffer.from(p8.decode(t));if(e.length<4)throw new Error("Input string too short");var r=e.slice(0,-4),n=e.slice(-4),i=Gz(r),s=i.slice(0,4);if(n.toString("hex")!==s.toString("hex"))throw new Error("Checksum mismatch");return r};sa.checksum=function(t){return Gz(t).slice(0,4)};sa.encode=function(t){if(!A.Buffer.isBuffer(t))throw new Error("Input must be a buffer");var e=A.Buffer.alloc(t.length+4),r=sa.checksum(t);return t.copy(e),r.copy(e,t.length),p8.encode(e)};sa.prototype.fromBuffer=function(t){return this.buf=t,this};sa.prototype.fromString=function(t){var e=sa.decode(t);return this.buf=e,this};sa.prototype.toBuffer=function(){return this.buf};sa.prototype.toString=function(){return sa.encode(this.buf)};zz.exports=sa});var Yz=$((Vat,Wz)=>{k();M();var Z5=Zre(),ave=function(t){if(typeof t!="string")throw new Error("Input should be a string");var e;let r=Z5.bech32.fromWords,n=yd.BECH32;try{e=Z5.bech32.decode(t)}catch(s){if(s.message.indexOf("Invalid checksum")>-1)e=Z5.bech32m.decode(t),n=yd.BECH32M,r=Z5.bech32m.fromWords;else throw s}let i=e.words[0];if(i>=1&&n!==yd.BECH32M)throw new Error("Version 1+ witness address must use Bech32m checksum");return{prefix:e.prefix,data:A.Buffer.from(r(e.words.slice(1))),version:i}},uve=function(t,e,r,n){if(typeof t!="string")throw new Error("Prefix should be a string");if(typeof e!="number")throw new Error("version should be a number");if(n&&typeof n=="string"&&(n=yd[n.toUpperCase()]||-1),n&&!(n==yd.BECH32||n==yd.BECH32M))throw new Error("Invalid encoding specified");let i=n==yd.BECH32M?Z5.bech32m:Z5.bech32,s=i.toWords(r);return s.unshift(e),i.encode(t,s)},yd={BECH32:1,BECH32M:2};Wz.exports={decode:ave,encode:uve,encodings:yd}});var m8=$((Wat,Xz)=>{k();M();var J5=wr(),Q5=Tr(),cve=Pn(),fve=ci();function hr(t){if(!(this instanceof hr))return new hr(t);var e;if(J5.isNumber(t))e=t;else if(J5.isString(t))e=hr.map[t];else throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');return fve.defineImmutable(this,{num:e}),this}hr.fromBuffer=function(t){return Q5.checkArgument(cve.isBuffer(t)),new hr(Number("0x"+t.toString("hex")))};hr.fromNumber=function(t){return Q5.checkArgument(J5.isNumber(t)),new hr(t)};hr.fromString=function(t){Q5.checkArgument(J5.isString(t));var e=hr.map[t];if(typeof e>"u")throw new TypeError("Invalid opcodestr");return new hr(e)};hr.prototype.toHex=function(){return this.num.toString(16)};hr.prototype.toBuffer=function(){return A.Buffer.from(this.toHex(),"hex")};hr.prototype.toNumber=function(){return this.num};hr.prototype.toString=function(){var t=hr.reverseMap[this.num];if(typeof t>"u")throw new Error("Opcode does not have a string representation");return t};hr.smallInt=function(t){return Q5.checkArgument(J5.isNumber(t),"Invalid Argument: n should be number"),Q5.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),t===0?hr("OP_0"):new hr(hr.map.OP_1+t-1)};hr.decodeOpN=function(t){return t===hr.OP_0?0:(Q5.checkArgument(t>=hr.OP_1&&t<=hr.OP_16,new Error("Invalid opcode: "+JSON.stringify(t))),t-(hr.OP_1-1))};hr.isOpSuccess=function(t){return typeof t=="string"&&!parseInt(t)&&(t=hr[t]),t==80||t==98||t>=127&&t<=129||t>=131&&t<=134||t>=137&&t<=138||t>=141&&t<=142||t>=149&&t<=153||t>=187&&t<=254};hr.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};hr.reverseMap=[];for(CI in hr.map)hr.reverseMap[hr.map[CI]]=CI;var CI;J5.extend(hr,hr.map);hr.isSmallIntOp=function(t){return t instanceof hr&&(t=t.toNumber()),t===hr.map.OP_0||t>=hr.map.OP_1&&t<=hr.map.OP_16};hr.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"};Xz.exports=hr});var RI=$((Zat,Qz)=>{k();M();var zi=Ec(),hve=gc(),lve=ls(),g8=Ni(),Re=m8(),wc=Tc(),g1=Qs(),Zz=gd(),vn=Tr(),kI=wr(),MI=wa(),Cs=Pn(),dve=ci(),Jz=Kf(),ge=function t(e){if(!(this instanceof t))return new t(e);if(this.chunks=[],Cs.isBuffer(e))return t.fromBuffer(e);if(e instanceof zi)return t.fromAddress(e);if(e instanceof t)return t.fromBuffer(e.toBuffer());if(typeof e=="string")return t.fromString(e);kI.isObject(e)&&Array.isArray(e.chunks)&&this.set(e)};ge.prototype.set=function(t){return vn.checkArgument(kI.isObject(t)),vn.checkArgument(Array.isArray(t.chunks)),this.chunks=t.chunks,this};ge.fromBuffer=function(t){var e=new ge;e.chunks=[];for(var r=new hve(t);!r.finished();)try{var n=r.readUInt8(),i,s;n>0&&n<Re.OP_PUSHDATA1?(i=n,e.chunks.push({buf:r.read(i),len:i,opcodenum:n})):n===Re.OP_PUSHDATA1?(i=r.readUInt8(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===Re.OP_PUSHDATA2?(i=r.readUInt16LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===Re.OP_PUSHDATA4?(i=r.readUInt32LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):Re.isOpSuccess(n)?(s=r.readAll(),i=s.length,e.chunks.push({buf:s,len:i,opcodenum:n})):e.chunks.push({opcodenum:n})}catch(o){throw o instanceof RangeError?new MI.Script.InvalidBuffer(t.toString("hex")):o}return e};ge.prototype.toBuffer=function(){for(var t=new lve,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<Re.OP_PUSHDATA1?t.write(r.buf):n===Re.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===Re.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):(n===Re.OP_PUSHDATA4&&t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()};ge.fromASM=function(t){var e=new ge;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=Re(i),o=s.toNumber();if(o==null){var a=A.Buffer.from(r[n],"hex");e.chunks.push({buf:a,len:a.length,opcodenum:a.length}),n=n+1}else o===Re.OP_PUSHDATA1||o===Re.OP_PUSHDATA2||o===Re.OP_PUSHDATA4?(e.chunks.push({buf:A.Buffer.from(r[n+2],"hex"),len:parseInt(r[n+1]),opcodenum:o}),n=n+3):(e.chunks.push({opcodenum:o}),n=n+1)}return e};ge.fromHex=function(t){return new ge(A.Buffer.from(t,"hex"))};ge.fromString=function(t){if(dve.isHexa(t)||t.length===0)return new ge(A.Buffer.from(t,"hex"));var e=new ge;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=Re(i),o=s.toNumber();if(o==null)if(o=parseInt(i),o>0&&o<Re.OP_PUSHDATA1)e.chunks.push({buf:A.Buffer.from(r[n+1].slice(2),"hex"),len:o,opcodenum:o}),n=n+2;else throw new Error("Invalid script: "+JSON.stringify(t));else if(o===Re.OP_PUSHDATA1||o===Re.OP_PUSHDATA2||o===Re.OP_PUSHDATA4){if(r[n+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");e.chunks.push({buf:A.Buffer.from(r[n+2].slice(2),"hex"),len:parseInt(r[n+1]),opcodenum:o}),n=n+3}else e.chunks.push({opcodenum:o}),n=n+1}return e};ge.prototype._chunkToString=function(t,e){var r=t.opcodenum,n=e==="asm",i="";if(t.buf)(!n&&r===Re.OP_PUSHDATA1||r===Re.OP_PUSHDATA2||r===Re.OP_PUSHDATA4)&&(i=i+" "+Re(r).toString()),t.len>0&&(n?i=i+" "+t.buf.toString("hex"):i=i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(typeof Re.reverseMap[r]<"u")n?r===0?i=i+" 0":r===79?i=i+" -1":i=i+" "+Re(r).toString():i=i+" "+Re(r).toString();else{var s=r.toString(16);s.length%2!==0&&(s="0"+s),n?i=i+" "+s:i=i+" 0x"+s}return i};ge.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)};ge.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)};ge.prototype.toHex=function(){return this.toBuffer().toString("hex")};ge.prototype.inspect=function(){return"<Script: "+this.toString()+">"};ge.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===Re.OP_DUP&&this.chunks[1].opcodenum===Re.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===Re.OP_EQUALVERIFY&&this.chunks[4].opcodenum===Re.OP_CHECKSIG)};ge.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&t[0]===48&&e&&e.length){var r=e[0];if((r===4||r===6||r===7)&&e.length===65)return!0;if((r===3||r===2)&&e.length===33)return!0}}return!1};ge.prototype.getPublicKey=function(){return vn.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf};ge.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut())return this.chunks[1].buf;if(this.isTaproot())return this.chunks[1].buf;throw new Error("Can't retrieve PublicKeyHash from a non-PKH output")};ge.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===Re.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if(((e===4||e===6||e===7)&&t.length===65||(e===3||e===2)&&t.length===33)&&(r=!0),r)return wc.isValid(t)}return!1};ge.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var t=this.chunks[0].buf;if(t&&t.length&&t[0]===48)return!0}return!1};ge.prototype.isScriptHashOut=function(){var t=this.toBuffer();return t.length===23&&t[0]===Re.OP_HASH160&&t[1]===20&&t[t.length-1]===Re.OP_EQUAL};ge.prototype.isWitnessScriptHashOut=function(){var t=this.toBuffer();return t.length===34&&t[0]===Re.OP_0&&t[1]===32};ge.prototype.isWitnessPublicKeyHashOut=function(){var t=this.toBuffer();return t.length===22&&t[0]===Re.OP_0&&t[1]===20};ge.prototype.isTaproot=function(){var t=this.toBuffer();return t.length===34&&t[0]===Re.OP_1&&t[1]===32};ge.prototype.isWitnessProgram=function(t){t||(t={});var e=this.toBuffer();return e.length<4||e.length>42||e[0]!==Re.OP_0&&!(e[0]>=Re.OP_1&&e[0]<=Re.OP_16)?!1:e.length===e[1]+2?(t.version=Re.decodeOpN(e[0]),t.program=e.slice(2,e.length),!0):!1};ge.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t=this.chunks[this.chunks.length-1],e=t.buf;if(!e)return!1;var r;try{r=ge.fromBuffer(e)}catch(i){if(i instanceof MI.Script.InvalidBuffer)return!1;throw i}var n=r.classify();return n!==ge.types.UNKNOWN};ge.prototype.isMultisigOut=function(){return this.chunks.length>3&&Re.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(t){return t.buf&&Cs.isBuffer(t.buf)})&&Re.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===Re.OP_CHECKMULTISIG};ge.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(t){return t.buf&&Cs.isBuffer(t.buf)&&g1.isTxDER(t.buf)})};ge.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===Re.OP_RETURN&&(this.chunks.length===1||this.chunks.length===2&&this.chunks[1].buf&&this.chunks[1].buf.length<=ge.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)};ge.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut()||this.isTaproot())return this.chunks[1]==null?A.Buffer.alloc(0):A.Buffer.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return A.Buffer.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")};ge.prototype.isPushOnly=function(){return this.chunks.every(function(t){return t.opcodenum<=Re.OP_16})};ge.types={};ge.types.UNKNOWN="Unknown";ge.types.PUBKEY_OUT="Pay to public key";ge.types.PUBKEY_IN="Spend from public key";ge.types.PUBKEYHASH_OUT="Pay to public key hash";ge.types.PUBKEYHASH_IN="Spend from public key hash";ge.types.SCRIPTHASH_OUT="Pay to script hash";ge.types.SCRIPTHASH_IN="Spend from script hash";ge.types.MULTISIG_OUT="Pay to multisig";ge.types.MULTISIG_IN="Spend from multisig";ge.types.DATA_OUT="Data push";ge.OP_RETURN_STANDARD_SIZE=80;ge.ANNEX_TAG=80;ge.VALIDATION_WEIGHT_PER_SIGOP_PASSED=50;ge.VALIDATION_WEIGHT_OFFSET=50;ge.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=ge.types.UNKNOWN?t:this.classifyInput()};ge.outputIdentifiers={};ge.outputIdentifiers.PUBKEY_OUT=ge.prototype.isPublicKeyOut;ge.outputIdentifiers.PUBKEYHASH_OUT=ge.prototype.isPublicKeyHashOut;ge.outputIdentifiers.MULTISIG_OUT=ge.prototype.isMultisigOut;ge.outputIdentifiers.SCRIPTHASH_OUT=ge.prototype.isScriptHashOut;ge.outputIdentifiers.DATA_OUT=ge.prototype.isDataOut;ge.prototype.classifyOutput=function(){for(var t in ge.outputIdentifiers)if(ge.outputIdentifiers[t].bind(this)())return ge.types[t];return ge.types.UNKNOWN};ge.inputIdentifiers={};ge.inputIdentifiers.PUBKEY_IN=ge.prototype.isPublicKeyIn;ge.inputIdentifiers.PUBKEYHASH_IN=ge.prototype.isPublicKeyHashIn;ge.inputIdentifiers.MULTISIG_IN=ge.prototype.isMultisigIn;ge.inputIdentifiers.SCRIPTHASH_IN=ge.prototype.isScriptHashIn;ge.prototype.classifyInput=function(){for(var t in ge.inputIdentifiers)if(ge.inputIdentifiers[t].bind(this)())return ge.types[t];return ge.types.UNKNOWN};ge.prototype.isStandard=function(){return this.classify()!==ge.types.UNKNOWN};ge.prototype.prepend=function(t){return this._addByType(t,!0),this};ge.prototype.equals=function(t){if(vn.checkState(t instanceof ge,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(Cs.isBuffer(this.chunks[e].buf)&&!Cs.isBuffer(t.chunks[e].buf)||Cs.isBuffer(this.chunks[e].buf)&&!Cs.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0};ge.prototype.add=function(t){return this._addByType(t,!1),this};ge.prototype._addByType=function(t,e){if(typeof t=="string")this._addOpcode(t,e);else if(typeof t=="number")this._addOpcode(t,e);else if(t instanceof Re)this._addOpcode(t,e);else if(Cs.isBuffer(t))this._addBuffer(t,e);else if(t instanceof ge)this.chunks=this.chunks.concat(t.chunks);else if(typeof t=="object")this._insertAtPosition(t,e);else throw new Error("Invalid script chunk")};ge.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)};ge.prototype._addOpcode=function(t,e){var r;return typeof t=="number"?r=t:t instanceof Re?r=t.toNumber():r=Re(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this};ge.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<Re.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=Re.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=Re.OP_PUSHDATA2;else if(n<Math.pow(2,32))r=Re.OP_PUSHDATA4;else throw new Error("You can't push that much data");return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this};ge.prototype.hasCodeseparators=function(){for(var t=0;t<this.chunks.length;t++)if(this.chunks[t].opcodenum===Re.OP_CODESEPARATOR)return!0;return!1};ge.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==Re.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this};ge.buildMultisigOut=function(t,e,r){vn.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new ge;n.add(Re.smallInt(e)),t=t.map(wc);var i=t;r.noSorting||(i=kI.sortBy(t,function(a){return a.toString("hex")}));for(var s=0;s<i.length;s++){var o=i[s];n.add(o.toBuffer())}return n.add(Re.smallInt(t.length)),n.add(Re.OP_CHECKMULTISIG),n};ge.buildWitnessMultisigOutFromScript=function(t){if(t instanceof ge){var e=new ge;return e.add(Re.OP_0),e.add(g8.sha256(t.toBuffer())),e}else throw new TypeError("First argument is expected to be a p2sh script")};ge.buildMultisigIn=function(t,e,r,n){vn.checkArgument(Array.isArray(t)),vn.checkArgument(!isNaN(e)),vn.checkArgument(Array.isArray(r)),n=n||{};var i=new ge;i.add(Re.OP_0);for(let s of r)vn.checkArgument(Cs.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i};ge.buildP2SHMultisigIn=function(t,e,r,n){vn.checkArgument(Array.isArray(t)),vn.checkArgument(!isNaN(e)),vn.checkArgument(Array.isArray(r)),n=n||{};var i=new ge;i.add(Re.OP_0);for(let s of r)vn.checkArgument(Cs.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i.add((n.cachedMultisig||ge.buildMultisigOut(t,e,n)).toBuffer()),i};ge.buildPublicKeyHashOut=function(t){vn.checkArgument(t!=null),vn.checkArgument(t instanceof wc||t instanceof zi||typeof t=="string"),t instanceof wc?t=t.toAddress():typeof t=="string"&&(t=new zi(t));var e=new ge;return e.add(Re.OP_DUP).add(Re.OP_HASH160).add(t.hashBuffer).add(Re.OP_EQUALVERIFY).add(Re.OP_CHECKSIG),e._network=t.network,e};ge.buildWitnessV0Out=function(t){vn.checkArgument(t!=null),vn.checkArgument(t instanceof wc||t instanceof zi||typeof t=="string"),t instanceof wc?t=t.toAddress(null,zi.PayToWitnessPublicKeyHash):typeof t=="string"&&(t=new zi(t));var e=new ge;return e.add(Re.OP_0).add(t.hashBuffer),e._network=t.network,e};ge.buildWitnessV1Out=function(t,e){if(vn.checkArgument(t instanceof wc||t instanceof zi||typeof t=="string"),vn.checkArgument(!e||Array.isArray(e)||!!e.script),typeof t=="string")try{t=wc.fromTaproot(t)}catch{t=zi.fromString(t)}function r(o){if(Array.isArray(o)){let[a,u]=r(o[0]),[c,h]=r(o[1]),f=[[[a[0],a[1]],h],[[c[0],c[1]],u]],p=Jz.TAPBRANCH;return u.compare(h)===1?(p.write(h),p.write(u)):(p.write(u),p.write(h)),[f,p.finalize()]}else{let{leafVersion:a,script:u}=o,c=new ge(u).toBuffer(),h=Jz.TAPLEAF;h.writeUInt8(a),h.writeUInt8(c.length),h.write(c);let f=h.finalize();return[[A.Buffer.from([a]),c],f]}}let n=null;if(e){let[o,a]=r(e);n=a}let i;t instanceof wc?i=t.createTapTweak(n).tweakedPubKey:i=t.hashBuffer;let s=new ge;return s.add(Re.OP_1),s.add(i),s};ge.buildPublicKeyOut=function(t){vn.checkArgument(t instanceof wc);var e=new ge;return e.add(t.toBuffer()).add(Re.OP_CHECKSIG),e};ge.buildDataOut=function(t,e){vn.checkArgument(t==null||typeof t=="string"||Cs.isBuffer(t)),typeof t=="string"&&(t=A.Buffer.from(t,e));var r=new ge;return r.add(Re.OP_RETURN),t!=null&&r.add(t),r};ge.buildScriptHashOut=function(t){vn.checkArgument(t instanceof ge||t instanceof zi&&t.isPayToScriptHash());var e=new ge;return e.add(Re.OP_HASH160).add(t instanceof zi?t.hashBuffer:g8.sha256ripemd160(t.toBuffer())).add(Re.OP_EQUAL),e._network=t._network||t.network,e};ge.buildPublicKeyIn=function(t,e){vn.checkArgument(t instanceof g1||Cs.isBuffer(t)),vn.checkArgument(e==null||!isNaN(e)),t instanceof g1&&(t=t.toBuffer());var r=new ge;return r.add(Cs.concat([t,Cs.integerAsSingleByteBuffer(e||g1.SIGHASH_ALL)])),r};ge.buildPublicKeyHashIn=function(t,e,r){vn.checkArgument(e instanceof g1||Cs.isBuffer(e)),vn.checkArgument(r==null||!isNaN(r)),e instanceof g1&&(e=e.toBuffer());var n=new ge().add(Cs.concat([e,Cs.integerAsSingleByteBuffer(r||g1.SIGHASH_ALL)])).add(new wc(t).toBuffer());return n};ge.empty=function(){return new ge};ge.prototype.toScriptHashOut=function(){return ge.buildScriptHashOut(this)};ge.fromAddress=function(t){if(t=zi(t),t.isPayToScriptHash())return ge.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return ge.buildPublicKeyHashOut(t);if(t.isPayToWitnessPublicKeyHash())return ge.buildWitnessV0Out(t);if(t.isPayToWitnessScriptHash())return ge.buildWitnessV0Out(t);if(t.isPayToTaproot())return ge.buildWitnessV1Out(t);throw new MI.Script.UnrecognizedAddress(t)};ge.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()};ge.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=zi.PayToScriptHash;else if(this.isPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=zi.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())t.hashBuffer=this.getData(),t.type=zi.PayToWitnessScriptHash;else if(this.isWitnessPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=zi.PayToWitnessPublicKeyHash;else if(this.isTaproot())t.hashBuffer=this.getData(),t.type=zi.PayToTaproot;else return!1;return t};ge.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=g8.sha256ripemd160(this.chunks[1].buf),t.type=zi.PayToPublicKeyHash;else if(this.isScriptHashIn())t.hashBuffer=g8.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=zi.PayToScriptHash;else return!1;return t};ge.prototype.toAddress=function(t){var e=this.getAddressInfo();return e?(e.network=Zz.get(t)||this._network||Zz.defaultNetwork,new zi(e)):!1};ge.prototype.findAndDelete=function(t){for(var e=t.toBuffer(),r=e.toString("hex"),n=0;n<this.chunks.length;n++){var i=ge({chunks:[this.chunks[n]]}),s=i.toBuffer(),o=s.toString("hex");r===o&&this.chunks.splice(n,1)}return this};ge.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return r?r.length===0?n===Re.OP_0:r.length===1&&r[0]>=1&&r[0]<=16?n===Re.OP_1+(r[0]-1):r.length===1&&r[0]===129?n===Re.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===Re.OP_PUSHDATA1:r.length<=65535?n===Re.OP_PUSHDATA2:!0:!0};ge.prototype.getSignatureOperationsCount=function(t){t=t??!0;var e=0,r=Re.OP_INVALIDOPCODE;for(let i of this.chunks){var n=i.opcodenum;n==Re.OP_CHECKSIG||n==Re.OP_CHECKSIGVERIFY?e++:(n==Re.OP_CHECKMULTISIG||n==Re.OP_CHECKMULTISIGVERIFY)&&(t&&r>=Re.OP_1&&r<=Re.OP_16?e+=Re.decodeOpN(r):e+=20),r=n}return e};Qz.exports=ge});var e2=$((tut,iW)=>{k();M();var b1=Qs(),eut=oa(),eW=gc(),tW=ls(),sm=Ni(),nW=om(),rW=Tr(),NI=wr(),FI=function(e,r,n,i,s){var o=A.Buffer.alloc(32),a=A.Buffer.alloc(32),u=A.Buffer.alloc(32);if(!(r&b1.SIGHASH_ANYONECANPAY)){for(var c=[],h=0;h<e.inputs.length;h++){var f=e.inputs[h],p=new eW(f.prevTxId).readReverse();c.push(p);var l=A.Buffer.alloc(4);l.writeUInt32LE(f.outputIndex,0),c.push(l)}o=sm.sha256sha256(A.Buffer.concat(c))}if(!(r&b1.SIGHASH_ANYONECANPAY)&&(r&31)!==b1.SIGHASH_SINGLE&&(r&31)!==b1.SIGHASH_NONE){for(var y=[],_=0;_<e.inputs.length;_++){var O=A.Buffer.alloc(4);O.writeUInt32LE(e.inputs[_].sequenceNumber,0),y.push(O)}a=sm.sha256sha256(A.Buffer.concat(y))}var F=new tW;if((r&31)!==b1.SIGHASH_SINGLE&&(r&31)!==b1.SIGHASH_NONE){for(var B=0;B<e.outputs.length;B++)e.outputs[B].toBufferWriter(F);u=sm.sha256sha256(F.toBuffer())}else(r&31)===b1.SIGHASH_SINGLE&&n<e.outputs.length&&(e.outputs[n].toBufferWriter(F),u=sm.sha256sha256(F.toBuffer()));var E=new tW;E.writeUInt32LE(e.version),E.write(o),E.write(a);var I=new eW(e.inputs[n].prevTxId).readReverse();return E.write(I),E.writeUInt32LE(e.inputs[n].outputIndex),E.write(i),E.write(s),E.writeUInt32LE(e.inputs[n].sequenceNumber),E.write(u),E.writeUInt32LE(e.nLockTime),E.writeInt32LE(r),sm.sha256sha256(E.toBuffer())};function pve(t,e,r,n,i,s){let o=FI(t,r,n,i,s);return nW.sign(o,e).set({nhashtype:r})}function mve(t,e,r,n,i,s){rW.checkArgument(!NI.isUndefined(t),"Transaction Undefined"),rW.checkArgument(!NI.isUndefined(e)&&!NI.isUndefined(e.nhashtype),"Signature Undefined");let o=FI(t,e.nhashtype,n,i,s);return nW.verify(o,e,r)}iW.exports={sighash:FI,sign:pve,verify:mve}});var HI=$((iut,sW)=>{k();M();var gve=ff(),Vf=Tr(),y8=ci(),y1=fs(),v1=dd(),b8=Kf(),am=function t(){return this instanceof t?this:new t};am.prototype.set=function(){};am.sign=function(t,e,r){if(t=A.Buffer.isBuffer(t)?t:t.toBuffer(),t.length!==32)throw new Error("Private key should be 32 bytes for schnorr signatures");typeof e=="string"&&(Vf.checkArgument(y8.isHexaString(e),"Schnorr message string is not hex"),e=A.Buffer.from(e,"hex")),Vf.checkArgument(Vf.isType(e,"Buffer"),"Schnorr message must be a hex string or buffer"),r||(r=gve.randomBytes(32)),typeof r=="string"&&(Vf.checkArgument(y8.isHexaString(r),"Schnorr aux string is not hex"),r=A.Buffer.from(r,"hex")),Vf.checkArgument(Vf.isType(r,"Buffer"),"Schnorr aux must be a hex string or buffer");let n=v1.getG(),i=v1.getN(),s=new y1(t);if(s.eqn(0)||s.gte(i))throw new Error("Invalid private key for schnorr signing");let o=n.mul(s),a=A.Buffer.from(o.encodeCompressed().slice(1)),u=o.y.isEven()?s:i.sub(s),c=u.xor(new y1(new b8("BIP0340/aux",r).finalize())),h=new b8("BIP0340/nonce",A.Buffer.concat([c.toBuffer(),a,e])).finalize(),f=new y1(h).mod(i);if(f.eqn(0))throw new Error("Error creating schnorr signature");let p=n.mul(f),l=A.Buffer.from(p.encodeCompressed().slice(1)),y=p.y.isEven()?f:i.sub(f),_=new y1(new b8("BIP0340/challenge",A.Buffer.concat([l,a,e])).finalize()).mod(i),O=A.Buffer.concat([l,y.add(_.mul(u)).mod(i).toBuffer({size:32})]);if(!am.verify(a,e,O))throw new Error("Error creating schnorr signature. Verification failed");return O};am.verify=function(t,e,r){if(Vf.isType(t,"PublicKey")&&(t=t.point.x.toBuffer()),t.length!==32)throw new Error("Public key should be 32 bytes for schnorr signatures");if(typeof e=="string"&&(Vf.checkArgument(y8.isHexaString(e),"Schnorr message string is not hex"),e=A.Buffer.from(e,"hex")),e.length!==32)throw new Error("Message should be a 32 byte buffer");if(typeof r=="string"&&(Vf.checkArgument(y8.isHexaString(r),"Schnorr signature string is not hex"),r=A.Buffer.from(r,"hex")),typeof r.toBuffer=="function"&&(r=r.toBuffer(),r.length===65&&(r=r.slice(0,64))),r.length!==64)throw new Error("Signature should be a 64 byte buffer. Got "+r.length+" bytes");try{let n=v1.getP(),i=v1.getN(),s=v1.fromX(!1,t).liftX(),o=new y1(r.slice(0,32)),a=new y1(r.slice(32,64));if(o.gte(n)||a.gte(i))return!1;let u=bve(o,s,e),h=v1.getG().mul(a).add(s.mul(u).neg());return!(h.inf||!h.y.isEven()||!h.x.eq(o))}catch{return!1}};var bve=function(t,e,r){let n=v1.getN(),i=new b8("BIP0340/challenge",A.Buffer.concat([t.toBuffer({size:32}),e.x.toBuffer({size:32}),r])).finalize();return new y1(i).mod(n)};sW.exports=am});var um=$((uut,cW)=>{k();M();var xo=Qs(),_1=ls(),t2=Ni(),oW=HI(),x1=Tr(),yve=Kf(),aut=vd();function aW(t,e,r,n,i){let s,o;switch(n){case xo.Version.TAPROOT:s=0;break;case xo.Version.TAPSCRIPT:s=1,o=0;break;default:return!1}x1.checkArgument(r<t.inputs.length,"inputNumber is greater than number of inputs");let a=yve.TAPSIGHASH;a.writeUInt8(0);let u=e==xo.SIGHASH_DEFAULT?xo.SIGHASH_ALL:e&xo.SIGHASH_OUTPUT_MASK,c=e&xo.SIGHASH_INPUT_MASK;if(!(e<=3||e>=129&&e<=131))return!1;if(a.writeUInt8(e),a.writeInt32LE(t.version),a.writeUInt32LE(t.nLockTime),c!==xo.SIGHASH_ANYONECANPAY){let f=new _1,p=new _1,l=new _1,y=new _1;for(let E of t.inputs){f.writeReverse(E.prevTxId),f.writeInt32LE(E.outputIndex),p.writeUInt64LEBN(E.output._satoshisBN);let I=E.output.script.toBuffer();l.writeUInt8(I.length),l.write(I),y.writeUInt32LE(E.sequenceNumber)}let _=t2.sha256(f.toBuffer());a.write(_);let O=t2.sha256(p.toBuffer());a.write(O);let F=t2.sha256(l.toBuffer());a.write(F);let B=t2.sha256(y.toBuffer());a.write(B)}if(u===xo.SIGHASH_ALL){let f=new _1;for(let l of t.outputs)f.write(l.toBufferWriter().toBuffer());let p=t2.sha256(f.toBuffer());a.write(p)}x1.checkArgument(i.annexInit,"missing or invalid annexInit");let h=(s<<1)+(i.annexPresent?1:0);if(a.writeUInt8(h),c===xo.SIGHASH_ANYONECANPAY){let f=new _1;f.writeReverse(t.inputs[r].prevTxId),f.writeInt32LE(t.inputs[r].outputIndex),a.write(f.toBuffer()),a.write(t.inputs[r].output.toBufferWriter().toBuffer()),a.writeUInt32LE(t.inputs[r].sequenceNumber)}else a.writeUInt32LE(r);if(i.annexPresent&&a.write(i.annexHash),u===xo.SIGHASH_SINGLE){if(r>=t.outputs.length)return!1;let f=new _1;f.writeUInt64LEBN(t.outputs[r]._satoshisBN);let p=t.outputs[r].script.toBuffer();f.writeVarintNum(p.length),f.write(p),a.write(t2.sha256(f.toBuffer()))}return n==xo.Version.TAPSCRIPT&&(x1.checkArgument(i.tapleafHashInit,"missing or invalid tapleafHashInit"),a.write(i.tapleafHash),a.writeUInt8(o),x1.checkArgument(i.codeseparatorPosInit,"missing or invalid codeseparatorPosInit"),a.writeUInt32LE(i.codeseparatorPos)),a}function DI(t,e,r,n,i){return aW(t,e,r,n,i).finalize()}function vve(t,e,r,n,i){return aW(t,e,r,n,i).toBuffer()}function uW(t,e){let r={annexInit:!0,annexPresent:!1};if(t===xo.Version.TAPSCRIPT){if(r.codeseparatorPosInit=!0,r.codeseparatorPos=4294967295,!e)return!1;r.tapleafHashInit=!0,r.tapleafHash=e}return r}function _ve(t,e,r,n,i,s){x1.checkArgument(i===xo.Version.TAPROOT||i===xo.Version.TAPSCRIPT,"Invalid sigversion");let o=uW(i,s),a=DI(t,r,n,i,o);if(!a)return!1;let u=oW.sign(e,a);return r!==xo.SIGHASH_DEFAULT?A.Buffer.concat([u,A.Buffer.from([r])]):u}function xve(t,e,r,n,i,s){x1.checkArgument(t!=null,"Transaction Undefined"),(!s||A.Buffer.isBuffer(s))&&(s=uW(n,s)),x1.checkArgument(s.annexInit,"invalid execdata");let o=DI(t,e.nhashtype,i,n,s);return o?oW.verify(r,o,e):!1}cW.exports={sighash:DI,sighashPreimage:vve,sign:_ve,verify:xve}});var hW=$((hut,fW)=>{k();M();fW.exports=function(t,e){if(typeof t.compare=="function")return t.compare(e);if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s&&t[i]===e[i];)++i;return i!==s&&(r=t[i],n=e[i]),r<n?-1:n<r?1:0}});var N0=$((put,mW)=>{k();M();var v8=wr(),LI=fs(),lW=Pn(),UI=ci(),dW=ls(),qI=oa(),r2=Tr(),Sve=wa(),pW=jI(),$I=Kf(),wve=9007199254740991;function di(t){if(!(this instanceof di))return new di(t);if(v8.isObject(t)){if(this.satoshis=t.satoshis,lW.isBuffer(t.script))this.setScriptFromBuffer(t.script);else{var e;v8.isString(t.script)&&UI.isHexa(t.script)?e=A.Buffer.from(t.script,"hex"):e=t.script,this.setScript(e)}t.type==="taproot"&&(this.branch=[],Object.defineProperty(this,"isValid",{configurable:!1,enumerable:!1,get:function(){this._isValid||this._branch.length},set:function(r){this._isValid=r}}),Object.defineProperty(this,"isComplete",{configurable:!1,enumerable:!1,get:function(){return this.isValid&&(this._branch.length===0||this._branch.length===1&&!!this._branch[0])}}))}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(di.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script?this._script:(this.setScriptFromBuffer(this._scriptBuffer),this._script)}});Object.defineProperty(di.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof LI?(this._satoshisBN=t,this._satoshis=t.toNumber()):v8.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=LI.fromNumber(this._satoshis)):(r2.checkArgument(UI.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=LI.fromNumber(t),this._satoshis=t),r2.checkState(UI.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}});di.prototype.invalidSatoshis=function(){return this._satoshis>wve?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1};di.prototype.toObject=di.prototype.toJSON=function(){var e={satoshis:this.satoshis};return e.script=this._scriptBuffer.toString("hex"),e};di.fromObject=function(t){return new di(t)};di.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=qI.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(e){if(e instanceof Sve.Script.InvalidBuffer)this._script=null;else throw e}};di.prototype.setScript=function(t){if(t instanceof qI)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(v8.isString(t))this._script=qI.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else if(lW.isBuffer(t))this.setScriptFromBuffer(t);else throw new TypeError("Invalid argument type: script");return this};di.prototype.inspect=function(){var t;return this.script?t=this.script.inspect():t=this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"};di.fromBufferReader=function(t){var e={};e.satoshis=t.readUInt64LEBN();var r=t.readVarintNum();return r!==0?e.script=t.read(r):e.script=A.Buffer.from([]),new di(e)};di.prototype.toBufferWriter=function(t){t||(t=new dW),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t};di.prototype.calculateSize=function(){let t=8;return t+=dW.varintBufNum(this._scriptBuffer.length).length,t+=this._scriptBuffer.length,t};di.prototype.add=function(t,e,r,n=!0){if(r2.checkArgument((r&~pW.TAPROOT_LEAF_MASK)===0,"invalid leafVersion"),!this.isValid)return;let i={hash:$I.TAPLEAF.writeUInt8(r).write(e.toBuffer()).finalize(),leaves:[]};if(n){let s={script:e,leafVersion:r,merkleBranch:[]};i.leaves.push(s)}return this._insertNode(i,t),this};di.prototype._insertNode=function(t,e){if(r2.checkArgument(e>=0&&e<=pW.TAPROOT_CONTROL_MAX_NODE_COUNT,"invalid depth"),e+1<this._branch.length){this.isValid=!1;return}for(;this.isValid&&this._branch.length>e&&this._branch[e];)t=this._combineNodes(t,this._branch[e]),this._branch=this._branch.slice(0,this._branch.length-2),e==0&&(this.isValid=!1),e--;this.isValid&&(this._branch.length<=e&&(this._branch=this._branch.slice(0,e+1)),r2.checkState(!this._nodes[e]),m_branch[e]=t)};di.prototype._combineNodes=function(t,e){let r={hash:null,leaves:[]};for(let n of t.leaves)n.merkleBranch.push(e.hash),r.leaves.push(n);for(let n of e.leaves)n.merkleBranch.push(t.hash),r.leaves.push(n);return t.hash.compare(e.hash)===-1?r.hash=$I.TAPBRANCH.write(t.hash).write(e.hash).finalize():r.hash=$I.TAPBRANCH.write(e.hash).write(t.hash).finalize(),r};di.prototype.finalize=function(t){r2.checkState(this.isComplete===!0,"finalize can only be called when isComplete is true");let e=t.createTapTweak(this._branch.length===0?null:this._branch[0].hash)};mW.exports=di});var n2=$((yut,vW)=>{k();M();var _8=wr(),cm=Tr(),S1=wa(),gW=ls(),but=ai(),Eve=Pn(),bW=ci(),KI=oa(),Tve=Gf(),VI=N0(),x8=4294967295,yW=x8,Ave=x8-1,Ive=x8-2,Pve=Math.pow(2,31),WI=Math.pow(2,22),GI=65535,zI=512,Ove=Math.pow(2,16)-1;function Ar(t){if(!(this instanceof Ar))return new Ar(t);if(t)return this._fromObject(t)}Ar.MAXINT=x8;Ar.DEFAULT_SEQNUMBER=yW;Ar.DEFAULT_LOCKTIME_SEQNUMBER=Ave;Ar.DEFAULT_RBF_SEQNUMBER=Ive;Ar.SEQUENCE_LOCKTIME_TYPE_FLAG=WI;Object.defineProperty(Ar.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new KI(this._scriptBuffer),this._script._isInput=!0),this._script)}});Ar.fromObject=function(t){cm.checkArgument(_8.isObject(t));var e=new Ar;return e._fromObject(t)};Ar.prototype._fromObject=function(t){var e;if(typeof t.prevTxId=="string"&&bW.isHexa(t.prevTxId)?e=A.Buffer.from(t.prevTxId,"hex"):e=t.prevTxId,this.witnesses=[],this.output=t.output?t.output instanceof VI?t.output:new VI(t.output):void 0,this.prevTxId=e||t.txidbuf,this.outputIndex=t.outputIndex==null?t.txoutnum:t.outputIndex,this.sequenceNumber=t.sequenceNumber==null?t.seqnum==null?yW:t.seqnum:t.sequenceNumber,t.script===void 0&&t.scriptBuffer===void 0)throw new S1.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this};Ar.prototype.toObject=Ar.prototype.toJSON=function(){var e={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(e.scriptString=this.script.toString()),this.output&&(e.output=this.output.toObject()),e};Ar.fromBufferReader=function(t){var e=new Ar;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e};Ar.prototype.toBufferWriter=function(t){t||(t=new gW),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t};Ar.prototype.setScript=function(t){if(this._script=null,t instanceof KI)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(bW.isHexa(t))this._scriptBuffer=A.Buffer.from(t,"hex");else if(_8.isString(t))this._script=new KI(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(Eve.isBuffer(t))this._scriptBuffer=A.Buffer.from(t);else throw new TypeError("Invalid argument type: script");return this};Ar.prototype.getSignatures=function(){throw new S1.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))};Ar.prototype.getSatoshisBuffer=function(){return cm.checkState(this.output instanceof VI),cm.checkState(this.output._satoshisBN),new gW().writeUInt64LEBN(this.output._satoshisBN).toBuffer()};Ar.prototype.isFullySigned=function(){throw new S1.AbstractMethodInvoked("Input#isFullySigned")};Ar.prototype.isFinal=function(){return this.sequenceNumber!==Ar.MAXINT};Ar.prototype.addSignature=function(){throw new S1.AbstractMethodInvoked("Input#addSignature")};Ar.prototype.clearSignatures=function(){throw new S1.AbstractMethodInvoked("Input#clearSignatures")};Ar.prototype.hasWitnesses=function(){return!!(this.witnesses&&this.witnesses.length>0)};Ar.prototype.getWitnesses=function(){return this.witnesses};Ar.prototype.setWitnesses=function(t){this.witnesses=t};Ar.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,Tve.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};Ar.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295};Ar.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length};Ar.prototype._getBaseSize=function(){return 32+4+4};Ar.prototype.lockForSeconds=function(t){if(cm.checkArgument(_8.isNumber(t)),t<0||t>=zI*GI)throw new S1.Transaction.Input.LockTimeRange;return t=parseInt(Math.floor(t/zI)),this.sequenceNumber=t|WI,this};Ar.prototype.lockUntilBlockHeight=function(t){if(cm.checkArgument(_8.isNumber(t)),t<0||t>=Ove)throw new S1.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=t,this};Ar.prototype.getLockTime=function(){if(this.sequenceNumber&Pve)return null;if(this.sequenceNumber&WI){var t=zI*(this.sequenceNumber&GI);return t}else{var e=this.sequenceNumber&GI;return e}};vW.exports=Ar});var w1=$((xut,SW)=>{k();M();var wu=Tr(),Bve=bd(),S8=Pn(),_W=ci(),xW=Tc(),Cve=wa(),fm=Qs();function Ac(t){if(!(this instanceof Ac))return new Ac(t);if(t instanceof Ac)return t;if(t&&typeof t=="object")return this._fromObject(t);throw new Cve.InvalidArgument("TransactionSignatures must be instantiated from an object")}Bve(Ac,fm);Ac.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new xW(t.publicKey),this.prevTxId=S8.isBuffer(t.prevTxId)?t.prevTxId:A.Buffer.from(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof fm?t.signature:S8.isBuffer(t.signature)?fm.fromBuffer(t.signature):fm.fromString(t.signature),this.sigtype=t.sigtype,this};Ac.prototype._checkObjectArgs=function(t){wu.checkArgument(xW(t.publicKey),"invalid publicKey"),wu.checkArgument(t.inputIndex!=null,"missing inputIndex"),wu.checkArgument(t.outputIndex!=null,"missing outputIndex"),wu.checkState(!isNaN(t.inputIndex),"inputIndex must be a number"),wu.checkState(!isNaN(t.outputIndex),"outputIndex must be a number"),wu.checkArgument(t.signature,"missing signature"),wu.checkArgument(t.prevTxId,"missing prevTxId"),wu.checkState(t.signature instanceof fm||S8.isBuffer(t.signature)||_W.isHexa(t.signature),"signature must be a buffer or hexa value"),wu.checkState(S8.isBuffer(t.prevTxId)||_W.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),wu.checkArgument(t.sigtype!=null,"missing sigtype"),wu.checkState(!isNaN(t.sigtype),"sigtype must be a number")};Ac.prototype.toObject=Ac.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}};Ac.fromObject=function(t){return wu.checkArgument(t),new Ac(t)};SW.exports=Ac});var IW=$((Tut,AW)=>{k();M();var kve=bd(),wW=Tr(),Eut=Pn(),EW=n2(),Mve=N0(),Rve=Gf(),TW=oa(),Nve=Qs(),Fve=w1();function zf(){EW.apply(this,arguments)}kve(zf,EW);zf.prototype.getSignatures=function(t,e,r,n,i,s){wW.checkState(this.output instanceof Mve),n=n||Nve.SIGHASH_ALL,s=s||"ecdsa";var o=e.toPublicKey();return o.toString()===this.output.script.getPublicKey().toString("hex")?[new Fve({publicKey:o,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:Rve.sign(t,e,n,r,this.output.script),sigtype:n})]:[]};zf.prototype.addSignature=function(t,e,r){return wW.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.setScript(TW.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this};zf.prototype.clearSignatures=function(){return this.setScript(TW.empty()),this};zf.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()};zf.SCRIPT_MAX_SIZE=73;zf.prototype._estimateSize=function(){return this._getBaseSize()+zf.SCRIPT_MAX_SIZE};AW.exports=zf});var XI=$((Out,CW)=>{k();M();var Hve=bd(),PW=Tr(),w8=Pn(),Put=Ec(),Dve=Ni(),OW=n2(),Lve=N0(),BW=Gf(),YI=e2(),Uve=ls(),w8=Pn(),i2=oa(),qve=Qs(),$ve=w1();function eo(){OW.apply(this,arguments)}Hve(eo,OW);eo.prototype.getRedeemScript=function(t){if(!this.redeemScript){var e=i2.buildWitnessV0Out(t);if(i2.buildScriptHashOut(e).equals(this.output.script)){var r=new i2;r.add(e.toBuffer()),this.setScript(r),this.redeemScript=e}}return this.redeemScript};eo.prototype.getScriptCode=function(t){var e=new Uve,r;this.output.script.isScriptHashOut()?r=this.getRedeemScript(t):r=this.output.script;var n=i2.buildPublicKeyHashOut(r.toAddress()).toBuffer();return e.writeVarintNum(n.length),e.write(n),e.toBuffer()};eo.prototype.getSighash=function(t,e,r,n){var i=this.getScriptCode(e),s=this.getSatoshisBuffer();return YI.sighash(t,n,r,i,s)};eo.prototype.getSignatures=function(t,e,r,n,i,s,o){PW.checkState(this.output instanceof Lve),i=i||Dve.sha256ripemd160(e.publicKey.toBuffer()),n=n||qve.SIGHASH_ALL,s=s||"ecdsa";var a;if(this.output.script.isScriptHashOut()?a=this.getRedeemScript(e.publicKey):a=this.output.script,a&&w8.equals(i,a.getPublicKeyHash())){var u;if(a.isWitnessPublicKeyHashOut()){var c=this.getSatoshisBuffer(),h=this.getScriptCode(e.publicKey);u=YI.sign(t,e,n,r,h,c)}else u=BW.sign(t,e,n,r,this.output.script);return[new $ve({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u,sigtype:n})]}return[]};eo.prototype.addSignature=function(t,e,r){return PW.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([w8.concat([e.signature.toDER(),w8.integerAsSingleByteBuffer(e.sigtype)]),e.publicKey.toBuffer()]):this.setScript(i2.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this};eo.prototype.clearSignatures=function(){return this.setScript(i2.empty()),this.setWitnesses([]),this};eo.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()};eo.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",e.signature.nhashtype=e.sigtype,this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()){var n=this.getScriptCode(),i=this.getSatoshisBuffer();return YI.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return BW.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};eo.SCRIPT_MAX_SIZE=73+34;eo.REDEEM_SCRIPT_SIZE=1+22;eo.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=eo.SCRIPT_MAX_SIZE/e;return this.output.script.isWitnessPublicKeyHashOut()?t+=r:this.output.script.isScriptHashOut()?t+=r+eo.REDEEM_SCRIPT_SIZE:t+=eo.SCRIPT_MAX_SIZE,t};CW.exports=eo});var NW=$((Rut,RW)=>{k();M();var Ic=wr(),jve=bd(),kut=E8(),JI=n2(),Kve=N0(),hm=Tr(),MW=oa(),ZI=Qs(),QI=Gf(),Mut=Tc(),kW=Pn(),eP=w1();function pi(t,e,r,n,i){i=i||{},JI.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=Ic.sortBy(e,function(o){return o.toString("hex")}),hm.checkState(MW.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},Ic.each(this.publicKeys,function(o,a){s.publicKeyIndex[o.toString()]=a}),this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}jve(pi,JI);pi.prototype.toObject=function(){var t=JI.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=Ic.map(this.publicKeys,function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};pi.prototype._deserializeSignatures=function(t){return Ic.map(t,function(e){if(!!e)return new eP(e)})};pi.prototype._serializeSignatures=function(){return Ic.map(this.signatures,function(t){if(!!t)return t.toObject()})};pi.prototype.getSignatures=function(t,e,r,n,i,s,o){hm.checkState(this.output instanceof Kve),n=n||ZI.SIGHASH_ALL,s=s||"ecdsa";let a=[];for(let u of this.publicKeys||[])u.toString()===e.publicKey.toString()&&a.push(new eP({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:QI.sign(t,e,n,r,this.output.script),sigtype:n}));return a};pi.prototype.addSignature=function(t,e,r){return hm.checkState(!this.isFullySigned(),"All needed signatures have already been added"),hm.checkArgument(!Ic.isUndefined(this.publicKeyIndex[e.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),hm.checkState(this.isValidSignature(t,e,r),"Invalid Signature"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};pi.prototype._updateScript=function(){return this.setScript(MW.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this};pi.prototype._createSignatures=function(){return Ic.map(Ic.filter(this.signatures,function(t){return!Ic.isUndefined(t)}),function(t){return kW.concat([t.signature.toDER(),kW.integerAsSingleByteBuffer(t.sigtype)])})};pi.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};pi.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};pi.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};pi.prototype.countSignatures=function(){return Ic.reduce(this.signatures,function(t,e){return t+!!e},0)};pi.prototype.publicKeysWithoutSignature=function(){var t=this;return Ic.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})};pi.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,QI.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};pi.normalizeSignatures=function(t,e,r,n,i,s){return s=s||"ecdsa",i.map(function(o){var a=null;return n=n.filter(function(u){if(a)return!0;var c=new eP({signature:ZI.fromTxFormat(u),publicKey:o,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:ZI.SIGHASH_ALL});c.signature.nhashtype=c.sigtype;var h=QI.verify(t,c.signature,c.publicKey,c.inputIndex,e.output.script);return h?(a=c,!1):!0}),a||null})};pi.OPCODES_SIZE=1;pi.SIGNATURE_SIZE=73;pi.prototype._estimateSize=function(){return this._getBaseSize()+pi.OPCODES_SIZE+this.threshold*pi.SIGNATURE_SIZE};RW.exports=pi});var LW=$((Hut,DW)=>{k();M();var Vve=wr(),Gve=bd(),tP=n2(),zve=N0(),T8=Tr(),_d=Ec(),s2=oa(),Wve=Qs(),rP=Gf(),nP=e2(),Yve=ls(),FW=Pn(),HW=w1();function _n(t,e,r,n,i){i=i||{},tP.apply(this,arguments),e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=Vve.sortBy(e,function(a){return a.toString("hex")}),this.redeemScript=s2.buildMultisigOut(this.publicKeys,r,i);var s=s2.buildWitnessMultisigOutFromScript(this.redeemScript);if(s.equals(this.output.script))this.nestedWitness=!1,this.type=_d.PayToWitnessScriptHash;else if(s2.buildScriptHashOut(s).equals(this.output.script))this.nestedWitness=!0,this.type=_d.PayToScriptHash;else if(s2.buildScriptHashOut(this.redeemScript).equals(this.output.script))this.nestedWitness=!1,this.type=_d.PayToScriptHash;else throw new Error("Provided public keys don't hash to the provided output");if(this.nestedWitness){var o=new s2;o.add(s.toBuffer()),this.setScript(o)}this.publicKeyIndex={};for(let a=0;a<this.publicKeys.length;a++){let u=this.publicKeys[a];this.publicKeyIndex[u.toString()]=a}this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}Gve(_n,tP);_n.prototype.toObject=function(){var t=tP.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=this.publicKeys.map(function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};_n.prototype._deserializeSignatures=function(t){return t.map(function(e){if(!!e)return new HW(e)})};_n.prototype._serializeSignatures=function(){return this.signatures.map(function(t){if(!!t)return t.toObject()})};_n.prototype.getScriptCode=function(){var t=new Yve;if(this.redeemScript.hasCodeseparators())throw new Error("@TODO");var e=this.redeemScript.toBuffer();return t.writeVarintNum(e.length),t.write(e),t.toBuffer()};_n.prototype.getSighash=function(t,e,r,n){var i;if(this.nestedWitness||this.type===_d.PayToWitnessScriptHash){var s=this.getScriptCode(),o=this.getSatoshisBuffer();i=nP.sighash(t,n,r,s,o)}else i=rP.sighash(t,n,r,this.redeemScript);return i};_n.prototype.getSignatures=function(t,e,r,n,i,s,o){T8.checkState(this.output instanceof zve),n=n||Wve.SIGHASH_ALL,s=s||"ecdsa";let a=[];for(let f of this.publicKeys)if(f.toString()===e.publicKey.toString()){var u;if(this.nestedWitness||this.type===_d.PayToWitnessScriptHash){var c=this.getScriptCode(),h=this.getSatoshisBuffer();u=nP.sign(t,e,n,r,c,h)}else u=rP.sign(t,e,n,r,this.redeemScript);a.push(new HW({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u,sigtype:n}))}return a};_n.prototype.addSignature=function(t,e,r){return T8.checkState(!this.isFullySigned(),"All needed signatures have already been added"),T8.checkArgument(this.publicKeyIndex[e.publicKey.toString()]!=null,"Signature has no matching public key"),T8.checkState(this.isValidSignature(t,e,r),"Invalid Signature!"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};_n.prototype._updateScript=function(){if(this.nestedWitness||this.type===_d.PayToWitnessScriptHash){for(var t=[A.Buffer.alloc(0)],e=this._createSignatures(),r=0;r<e.length;r++)t.push(e[r]);t.push(this.redeemScript.toBuffer()),this.setWitnesses(t)}else{var n=s2.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(n)}return this};_n.prototype._createSignatures=function(){return this.signatures.filter(function(t){return t!=null}).map(function(t){return FW.concat([t.signature.toDER(),FW.integerAsSingleByteBuffer(t.sigtype)])})};_n.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};_n.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};_n.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};_n.prototype.countSignatures=function(){return this.signatures.reduce(function(t,e){return t+!!e},0)};_n.prototype.publicKeysWithoutSignature=function(){return this.publicKeys.filter(t=>!this.signatures[this.publicKeyIndex[t.toString()]])};_n.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",this.nestedWitness||this.type===_d.PayToWitnessScriptHash){e.signature.nhashtype=e.sigtype;var n=this.getScriptCode(),i=this.getSatoshisBuffer();return nP.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return e.signature.nhashtype=e.sigtype,rP.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript)};_n.MAX_OPCODES_SIZE=8;_n.MAX_SIGNATURE_SIZE=74;_n.MAX_PUBKEY_SIZE=34;_n.REDEEM_SCRIPT_SIZE=34;_n.prototype._estimateSize=function(){let t=this._getBaseSize(),e=4,r=_n.MAX_OPCODES_SIZE+this.threshold*_n.MAX_SIGNATURE_SIZE+this.publicKeys.length*_n.MAX_PUBKEY_SIZE;return this.type===_d.PayToWitnessScriptHash?t+=r/e:this.nestedWitness?t+=r/e+_n.REDEEM_SCRIPT_SIZE:t+=r,t};DW.exports=_n});var KW=$((qut,jW)=>{k();M();var Xve=bd(),iP=Tr(),UW=XI(),qW=um(),A8=Qs(),Zve=w1(),$W=N0(),Uut=vd();function Wf(){UW.apply(this,arguments)}Xve(Wf,UW);Wf.prototype.getSignatures=function(t,e,r,n,i,s,o){iP.checkState(this.output instanceof $W),n=n||A8.SIGHASH_DEFAULT;let a=t.inputs.indexOf(this),u=e.createTapTweak(o).tweakedPrivKey,c=qW.sign(t,u,n,a,A8.Version.TAPROOT,null);if(!c)return[];let h=new Zve({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:a,signature:A8.fromSchnorr(c),sigtype:n});return this.isValidSignature(t,h)?[h]:[]};Wf.prototype.isValidSignature=function(t,e){return iP.checkState(t.inputs.indexOf(this)>=0,"Signature has no matching input"),iP.checkState(this.output instanceof $W,"output is not instance of Output"),this.output.script.isTaproot()?qW.verify(t,e.signature,this.output.script.chunks[1].buf,A8.Version.TAPROOT,t.inputs.indexOf(this),null):!1};Wf.prototype.isFullySigned=function(){return this.output.script.isTaproot()&&this.hasWitnesses()};Wf.prototype.addSignature=function(t,e){return this.isValidSignature(t,e)&&this.setWitnesses([e.signature.toBuffer()]),this};Wf.SCRIPT_MAX_SIZE=66;Wf.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=Wf.SCRIPT_MAX_SIZE/e;return t+=r,t};jW.exports=Wf});var I8=$((Kut,E1)=>{k();M();E1.exports=n2();E1.exports.PublicKey=IW();E1.exports.PublicKeyHash=XI();E1.exports.MultiSig=NW();E1.exports.MultiSigScriptHash=LW();E1.exports.Taproot=KW()});var Gf=$((zut,zW)=>{k();M();var lm=Qs(),sP=oa(),Jve=N0(),Qve=gc(),e_e=ls(),t_e=fs(),r_e=Ni(),GW=om(),VW=Tr(),oP=wr(),n_e="0000000000000000000000000000000000000000000000000000000000000001",i_e="ffffffffffffffff",aP=function(e,r,n,i){var s=E8(),o=I8();n=parseInt(n);var a,u=s.shallowCopy(e);for(i=new sP(i),i.removeCodeseparators(),a=0;a<u.inputs.length;a++)u.inputs[a]=new o(u.inputs[a]).setScript(sP.empty());if(u.inputs[n]=new o(u.inputs[n]).setScript(i),(r&31)===lm.SIGHASH_NONE||(r&31)===lm.SIGHASH_SINGLE)for(a=0;a<u.inputs.length;a++)a!==n&&(u.inputs[a].sequenceNumber=0);if((r&31)===lm.SIGHASH_NONE)u.outputs=[];else if((r&31)===lm.SIGHASH_SINGLE){if(n>=u.outputs.length)return A.Buffer.from(n_e,"hex");for(u.outputs.length=n+1,a=0;a<n;a++)u.outputs[a]=new Jve({satoshis:t_e.fromBuffer(A.Buffer.from(i_e,"hex")),script:sP.empty()})}r&lm.SIGHASH_ANYONECANPAY&&(u.inputs=[u.inputs[n]]);var c=new e_e().write(u.toBuffer()).writeInt32LE(r).toBuffer(),h=r_e.sha256sha256(c);return h=new Qve(h).readReverse(),h};function s_e(t,e,r,n,i){let s=aP(t,r,n,i);return GW.sign(s,e,"little").set({nhashtype:r})}function o_e(t,e,r,n,i){VW.checkArgument(!oP.isUndefined(t),"Transaction Undefined"),VW.checkArgument(!oP.isUndefined(e)&&!oP.isUndefined(e.nhashtype),"Signature Undefined");let s=aP(t,e.nhashtype,n,i);return GW.verify(s,e,r,"little")}zW.exports={sighash:aP,sign:s_e,verify:o_e}});var O8=$((Xut,WW)=>{k();M();var uP=wr(),P8=wa(),a_e=Tr(),T1={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function nr(t,e){if(!(this instanceof nr))return new nr(t,e);if(uP.isNumber(e)){if(e<=0)throw new P8.Unit.InvalidRate(e);t=t/e,e=nr.BTC}this._value=this._from(t,e);var r=this,n=function(i){Object.defineProperty(r,i,{get:function(){return r.to(i)},enumerable:!0})};Object.keys(T1).forEach(n)}Object.keys(T1).forEach(function(t){nr[t]=t});nr.fromObject=function(e){return a_e.checkArgument(uP.isObject(e),"Argument is expected to be an object"),new nr(e.amount,e.code)};nr.fromBTC=function(t){return new nr(t,nr.BTC)};nr.fromMillis=nr.fromMilis=function(t){return new nr(t,nr.mBTC)};nr.fromMicros=nr.fromBits=function(t){return new nr(t,nr.bits)};nr.fromSatoshis=function(t){return new nr(t,nr.satoshis)};nr.fromFiat=function(t,e){return new nr(t,e)};nr.prototype._from=function(t,e){if(!T1[e])throw new P8.Unit.UnknownCode(e);return parseInt((t*T1[e][0]).toFixed())};nr.prototype.to=function(t){if(uP.isNumber(t)){if(t<=0)throw new P8.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!T1[t])throw new P8.Unit.UnknownCode(t);var e=this._value/T1[t][0];return parseFloat(e.toFixed(T1[t][1]))};nr.prototype.toBTC=function(){return this.to(nr.BTC)};nr.prototype.toMillis=nr.prototype.toMilis=function(){return this.to(nr.mBTC)};nr.prototype.toMicros=nr.prototype.toBits=function(){return this.to(nr.bits)};nr.prototype.toSatoshis=function(){return this.to(nr.satoshis)};nr.prototype.atRate=function(t){return this.to(t)};nr.prototype.toString=function(){return this.satoshis+" satoshis"};nr.prototype.toObject=nr.prototype.toJSON=function(){return{amount:this.BTC,code:nr.BTC}};nr.prototype.inspect=function(){return"<Unit: "+this.toString()+">"};WW.exports=nr});var cP=$((Qut,ZW)=>{k();M();var Yf=wr(),B8=Tr(),YW=ci(),u_e=oa(),c_e=Ec(),XW=O8();function Xf(t){if(!(this instanceof Xf))return new Xf(t);B8.checkArgument(Yf.isObject(t),"Must provide an object from where to extract data");var e=t.address?new c_e(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!YW.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var n=Yf.isUndefined(t.vout)?t.outputIndex:t.vout;if(!Yf.isNumber(n))throw new Error("Invalid outputIndex, received "+n);B8.checkArgument(!Yf.isUndefined(t.scriptPubKey)||!Yf.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var i=new u_e(t.scriptPubKey||t.script);B8.checkArgument(!Yf.isUndefined(t.amount)||!Yf.isUndefined(t.satoshis),"Must provide an amount for the output");var s=Yf.isUndefined(t.amount)?t.satoshis:new XW.fromBTC(t.amount).toSatoshis();B8.checkArgument(Yf.isNumber(s),"Amount must be a number"),YW.defineImmutable(this,{address:e,txId:r,outputIndex:n,script:i,satoshis:s})}Xf.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"};Xf.prototype.toString=function(){return this.txId+":"+this.outputIndex};Xf.fromObject=function(t){return new Xf(t)};Xf.prototype.toObject=Xf.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:XW.fromSatoshis(this.satoshis).toBTC()}};ZW.exports=Xf});var E8=$((rct,rY)=>{k();M();var Sd=wr(),Un=Tr(),f_e=ai(),JW=A.Buffer.compare||hW(),Wi=wa(),h_e=Pn(),k8=ci(),fP=gc(),a2=ls(),hP=Ni(),o2=Qs(),l_e=Gf(),d_e=e2(),p_e=um(),m_e=Ec(),QW=cP(),si=I8(),g_e=si.PublicKeyHash,b_e=si.PublicKey,y_e=si.MultiSigScriptHash,v_e=si.MultiSig,__e=si.Taproot,wd=N0(),xd=oa(),x_e=vd(),C8=fs();function we(t,e){if(!(this instanceof we))return new we(t);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof we)return we.shallowCopy(t);if(k8.isHexa(t))this.fromString(t);else if(h_e.isBuffer(t))this.fromBuffer(t);else if(Sd.isObject(t))this.fromObject(t,e);else throw new Wi.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var eY=2,S_e=0,w_e=1e6;we.DUST_AMOUNT=546;we.FEE_SECURITY_MARGIN=150;we.MAX_MONEY=21e6*1e8;we.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8;we.NLOCKTIME_MAX_VALUE=4294967295;we.FEE_PER_KB=1e5;we.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;we.MAXIMUM_EXTRA_SIZE=4+9+9+4;we.shallowCopy=function(t){var e=new we(t.toBuffer());return e};var tY={configurable:!1,enumerable:!0,get:function(){return this._hash=new fP(this._getHash()).readReverse().toString("hex"),this._hash}},E_e={configurable:!1,enumerable:!0,get:function(){return new fP(this._getWitnessHash()).readReverse().toString("hex")}};Object.defineProperty(we.prototype,"witnessHash",E_e);Object.defineProperty(we.prototype,"hash",tY);Object.defineProperty(we.prototype,"id",tY);var lP={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(we.prototype,"inputAmount",lP);lP.get=function(){return this._getOutputAmount()};Object.defineProperty(we.prototype,"outputAmount",lP);Object.defineProperty(we.prototype,"size",{configurable:!1,enumerable:!1,get:function(){return this._calculateSize()}});Object.defineProperty(we.prototype,"vsize",{configurable:!1,enumerable:!1,get:function(){return this._calculateVSize()}});Object.defineProperty(we.prototype,"weight",{configurable:!1,enumerable:!1,get:function(){return this._calculateWeight()}});we.prototype._getHash=function(){return hP.sha256sha256(this.toBuffer(!0))};we.prototype._getWitnessHash=function(){return hP.sha256sha256(this.toBuffer(!1))};we.prototype.serialize=function(t){return t===!0||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)};we.prototype.uncheckedSerialize=we.prototype.toString=function(){return this.toBuffer().toString("hex")};we.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" - For more information please see: https://github.com/bitpay/bitcore/blob/master/packages/bitcore-lib/docs/transaction.md#serialization-checks",e;return this.uncheckedSerialize()};we.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t};we.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new Wi.Transaction.InvalidSatoshis;var e=this._getUnspentValue(),r;return e<0?t.disableMoreOutputThanInput||(r=new Wi.Transaction.InvalidOutputAmountSum):r=this._hasFeeError(t,e),r||this._hasDustOutputs(t)||this._isMissingSignatures(t)};we.prototype._hasFeeError=function(t,e){if(this._fee!=null&&this._fee!==e)return new Wi.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(we.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new Wi.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new Wi.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var n=Math.ceil(this._estimateFee()/we.FEE_SECURITY_MARGIN);if(e<n)return new Wi.Transaction.FeeError.TooSmall("expected more than "+n+" but got "+e)}};we.prototype._missingChange=function(){return!this._changeScript};we.prototype._hasDustOutputs=function(t){if(!t.disableDustOutputs){var e,r;for(e in this.outputs)if(r=this.outputs[e],r.satoshis<we.DUST_AMOUNT&&!r.script.isDataOut())return new Wi.Transaction.DustOutputs}};we.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned&&!this.isFullySigned())return new Wi.Transaction.MissingSignatures};we.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"};we.prototype.toBuffer=function(t){var e=new a2;return this.toBufferWriter(e,t).toBuffer()};we.prototype.hasWitnesses=function(){for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].hasWitnesses())return!0;return!1};we.prototype.toBufferWriter=function(t,e){t.writeInt32LE(this.version);let r=this.hasWitnesses();r&&!e&&t.write(A.Buffer.from("0001","hex")),t.writeVarintNum(this.inputs?this.inputs.length:0);for(let n of this.inputs||[])n.toBufferWriter(t);t.writeVarintNum(this.outputs?this.outputs.length:0);for(let n of this.outputs||[])n.toBufferWriter(t);if(r&&!e)for(let n of this.inputs){let i=n.getWitnesses();t.writeVarintNum(i.length);for(let s=0;s<i.length;s++)t.writeVarintNum(i[s].length),t.write(i[s])}return t.writeUInt32LE(this.nLockTime),t};we.prototype.fromBuffer=function(t){var e=new fP(t);return this.fromBufferReader(e)};we.prototype.fromBufferReader=function(t){Un.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readInt32LE();var e=t.readVarintNum(),r=!1;e===0&&t.buf[t.pos]!==0&&(t.pos+=1,r=!0,e=t.readVarintNum());for(var n=0;n<e;n++){var i=si.fromBufferReader(t);this.inputs.push(i)}for(var s=t.readVarintNum(),o=0;o<s;o++)this.outputs.push(wd.fromBufferReader(t));if(r)for(var a=0;a<e;a++){for(var u=t.readVarintNum(),c=[],h=0;h<u;h++){var f=t.readVarintNum(),p=t.read(f);c.push(p)}this.inputs[a].setWitnesses(c)}return this.nLockTime=t.readUInt32LE(),this};we.prototype.toObject=we.prototype.toJSON=function(){var e=[];this.inputs.forEach(function(i){e.push(i.toObject())});var r=[];this.outputs.forEach(function(i){r.push(i.toObject())});var n={hash:this.hash,version:this.version,inputs:e,outputs:r,nLockTime:this.nLockTime};return this._changeScript&&(n.changeScript=this._changeScript.toString()),this._changeIndex!=null&&(n.changeIndex=this._changeIndex),this._fee!=null&&(n.fee=this._fee),n};we.prototype.fromObject=function(e,r){Un.checkArgument(Sd.isObject(e)||e instanceof we);var n;e instanceof we?n=e.toObject():n=e;for(let o of n.inputs||[]){if(!o.output||!o.output.script){this.uncheckedAddInput(new si(o));continue}var i=new xd(o.output.script),s;if((i.isScriptHashOut()||i.isWitnessScriptHashOut())&&o.publicKeys&&o.threshold)s=new si.MultiSigScriptHash(o,o.publicKeys,o.threshold,o.signatures,r);else if(i.isPublicKeyHashOut()||i.isWitnessPublicKeyHashOut()||i.isScriptHashOut())s=new si.PublicKeyHash(o);else if(i.isPublicKeyOut())s=new si.PublicKey(o);else throw new Wi.Transaction.Input.UnsupportedScript(o.output.script);this.addInput(s)}for(let o of n.outputs||[])this.addOutput(new wd(o));return n.changeIndex&&(this._changeIndex=n.changeIndex),n.changeScript&&(this._changeScript=new xd(n.changeScript)),n.fee&&(this._fee=n.fee),this.nLockTime=n.nLockTime,this.version=n.version,this._checkConsistency(e),this};we.prototype._checkConsistency=function(t){this._changeIndex!=null&&(Un.checkState(this._changeScript,"Change script is expected."),Un.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),Un.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),t&&t.hash&&Un.checkState(t.hash===this.hash,"Hash in object does not match transaction hash.")};we.prototype.lockUntilDate=function(t){if(Un.checkArgument(t),!isNaN(t)&&t<we.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Wi.Transaction.LockTimeTooEarly;Sd.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===si.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=si.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};we.prototype.lockUntilBlockHeight=function(t){if(Un.checkArgument(!isNaN(t)),t>=we.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Wi.Transaction.BlockHeightTooHigh;if(t<0)throw new Wi.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===si.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=si.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};we.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<we.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null};we.prototype.fromString=function(t){this.fromBuffer(f_e.Buffer.from(t,"hex"))};we.prototype._newTransaction=function(){this.version=eY,this.nLockTime=S_e};we.prototype.from=function(t,e,r,n){if(Array.isArray(t)){for(let s of t)this.from(s,e,r,n);return this}return this.inputs.some(function(s){return s.prevTxId.toString("hex")===t.txId&&s.outputIndex===t.outputIndex})?this:(e&&r?this._fromMultisigUtxo(t,e,r,n):this._fromNonP2SH(t,n),this)};we.prototype.associateInputs=function(t,e,r,n={}){let i=[];for(let s of t){let o=this.inputs.findIndex(a=>a.prevTxId.toString("hex")===s.txId&&a.outputIndex===s.outputIndex);if(i.push(o),o>=0){let a=this.inputs[o].sequenceNumber;this.inputs[o]=this._getInputFrom(s,e,r,n),this.inputs[o].sequenceNumber=a}}return i};we.prototype._selectInputType=function(t,e,r){var n;return t=new QW(t),e&&r?t.script.isMultisigOut()?n=v_e:(t.script.isScriptHashOut()||t.script.isWitnessScriptHashOut())&&(n=y_e):t.script.isPublicKeyHashOut()||t.script.isWitnessPublicKeyHashOut()||t.script.isScriptHashOut()?n=g_e:t.script.isTaproot()?n=__e:t.script.isPublicKeyOut()?n=b_e:n=si,n};we.prototype._getInputFrom=function(t,e,r,n={}){t=new QW(t);let i=this._selectInputType(t,e,r),s={output:new wd({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,sequenceNumber:n.sequenceNumber,script:xd.empty()},o=e&&r?[e,r,!1,n]:[];return new i(s,...o)};we.prototype._fromNonP2SH=function(t,e){let r=this._getInputFrom(t,null,null,e);this.addInput(r)};we.prototype._fromMultisigUtxo=function(t,e,r,n){Un.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys");let i=this._getInputFrom(t,e,r,n);this.addInput(i)};we.prototype.addInput=function(t,e,r){if(Un.checkArgumentType(t,si,"input"),!t.output&&(e==null||r==null))throw new Wi.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!t.output&&e&&r!=null&&(e=e instanceof xd?e:new xd(e),Un.checkArgumentType(r,"number","satoshis"),t.output=new wd({script:e,satoshis:r})),this.uncheckedAddInput(t)};we.prototype.uncheckedAddInput=function(t){return Un.checkArgumentType(t,si,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this};we.prototype.hasAllUtxoInfo=function(){return this.inputs.every(function(t){return!!t.output})};we.prototype.fee=function(t){return Un.checkArgument(!isNaN(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this};we.prototype.feePerKb=function(t){return Un.checkArgument(!isNaN(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this};we.prototype.feePerByte=function(t){return Un.checkArgument(!isNaN(t),"amount must be a number"),this._feePerByte=t,this._updateChangeOutput(),this};we.prototype.change=function(t){return Un.checkArgument(t,"address is required"),this._changeScript=xd.fromAddress(t),this._updateChangeOutput(),this};we.prototype.getChangeOutput=function(){return this._changeIndex!=null?this.outputs[this._changeIndex]:null};we.prototype.to=function(t,e){if(Array.isArray(t)){for(let r of t)this.to(r.address,r.satoshis);return this}return Un.checkArgument(k8.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new wd({script:xd(new m_e(t)),satoshis:e})),this};we.prototype.addData=function(t){return this.addOutput(new wd({script:xd.buildDataOut(t),satoshis:0})),this};we.prototype.addOutput=function(t){return Un.checkArgumentType(t,wd,"output"),this._addOutput(t),this._updateChangeOutput(),this};we.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this};we.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0};we.prototype._getOutputAmount=function(){if(this._outputAmount==null){var t=this;this._outputAmount=0;for(let e of this.outputs||[])t._outputAmount+=e.satoshis}return this._outputAmount};we.prototype._getInputAmount=function(){return this._inputAmount==null&&(this._inputAmount=Sd.sumBy(this.inputs,function(t){if(t.output==null)throw new Wi.Transaction.Input.MissingPreviousOutput;return t.output.satoshis})),this._inputAmount};we.prototype._updateChangeOutput=function(t){if(!!this._changeScript){t||this._clearSignatures(),this._changeIndex!=null&&this._removeOutput(this._changeIndex);var e=this._getUnspentValue(),r=this.getFee(),n=e-r;n>we.DUST_AMOUNT?(this._changeIndex=this.outputs.length,this._addOutput(new wd({script:this._changeScript,satoshis:n}))):this._changeIndex=void 0}};we.prototype.getFee=function(){return this.isCoinbase()?0:this._fee!=null?this._fee:this._changeScript?this._estimateFee():this._getUnspentValue()};we.prototype._estimateFee=function(){let t=this._estimateSize(),e=this._getUnspentValue(),r=this._feePerByte||(this._feePerKb||we.FEE_PER_KB)/1e3;function n(o){return o*r}let i=Math.ceil(n(t)),s=Math.ceil(n(t)+n(this._estimateSizeOfChangeOutput()));return!this._changeScript||e<=s?i:s};we.prototype._estimateSizeOfChangeOutput=function(){if(!this._changeScript)return 0;let t=this._changeScript.toBuffer().length;return 8+a2.varintBufNum(t).length+t};we.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()};we.prototype._clearSignatures=function(){for(let t of this.inputs||[])t.clearSignatures()};we.prototype._estimateSize=function(){let t=4;this.hasWitnesses()&&(t+=.5),t+=a2.varintBufNum(this.inputs.length).length;for(let e of this.inputs||[])t+=e._estimateSize();t+=a2.varintBufNum(this.outputs.length).length;for(let e of this.outputs||[])t+=e.calculateSize();return t+=4,Math.ceil(t)};we.prototype._calculateSize=function(){return this.toBuffer().length};we.prototype._calculateVSize=function(t){let e=this._calculateWeight()/4;return t?e:Math.ceil(e)};we.prototype._calculateWeight=function(){return this.toBuffer(!0).length*3+this.toBuffer(!1).length};we.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=Sd.without(this.outputs,e),this._outputAmount=void 0};we.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()};we.prototype.sort=function(){return this.sortInputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return JW(n.prevTxId,i.prevTxId)||n.outputIndex-i.outputIndex||n.i-i.i}),e}),this.sortOutputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return n.satoshis-i.satoshis||JW(n.script.toBuffer(),i.script.toBuffer())||n.i-i.i}),e}),this};we.prototype.shuffleOutputs=function(){return this.sortOutputs(Sd.shuffle)};we.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)};we.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this};we.prototype._newOutputOrder=function(t){var e=this.outputs.length!==t.length||Sd.difference(this.outputs,t).length!==0;if(e)throw new Wi.Transaction.InvalidSorting;if(this._changeIndex!=null){var r=this.outputs[this._changeIndex];this._changeIndex=t.indexOf(r)}return this.outputs=t,this};we.prototype.removeInput=function(t,e){var r;if(!e&&!isNaN(t)?r=t:r=this.inputs.findIndex(function(i){return i.prevTxId.toString("hex")===t&&i.outputIndex===e}),r<0||r>=this.inputs.length)throw new Wi.Transaction.InvalidIndex(r,this.inputs.length);var n=this.inputs[r];this.inputs=Sd.without(this.inputs,n),this._inputAmount=void 0,this._updateChangeOutput()};we.prototype.sign=function(t,e,r,n){if(Un.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction."),Array.isArray(t)){for(let i of t)this.sign(i,e,r,n);return this}for(let i of this.getSignatures(t,e,r,n))this.applySignature(i,r);return this};we.prototype.getSignatures=function(t,e,r,n){typeof n=="string"&&(n=A.Buffer.from(n,"hex")),t=new x_e(t);let i=[],s=hP.sha256ripemd160(t.publicKey.toBuffer());for(let o=0;o<this.inputs.length;o++){let a=this.inputs[o];for(let u of a.getSignatures(this,t,o,e,s,r,n))i.push(u)}return i};we.prototype.applySignature=function(t,e){return this.inputs[t.inputIndex].addSignature(this,t,e),this};we.prototype.isFullySigned=function(){for(let t of this.inputs||[])if(t.isFullySigned===si.prototype.isFullySigned)throw new Wi.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs.every(function(t){return t.isFullySigned()})};we.prototype.isValidSignature=function(t,e){if(this.inputs[t.inputIndex].isValidSignature===si.prototype.isValidSignature)throw new Wi.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t,e)};we.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),o=new a2;o.writeVarintNum(s.length),o.write(s);var a;i?(Un.checkState(k8.isNaturalNumber(i),"satoshis needs to be a natural number"),a=new a2().writeUInt64LEBN(new C8(i)).toBuffer()):a=this.inputs[r].getSatoshisBuffer();var u=d_e.verify(this,t,e,r,o.toBuffer(),a);return u};we.prototype.checkSchnorrSignature=function(t,e,r,n,i){if(Un.isType(e,"PublicKey")&&(e=e.point.x.toBuffer()),Un.checkArgument(e&&e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),A.Buffer.isBuffer(t)){if(t.length!==64&&t.length!==65)return!1;t=o2.fromSchnorr(t)}return Un.checkArgument(t.isSchnorr,"Signature must be schnorr"),!!p_e.verify(this,t,e,n,r,i)};we.prototype.verifySignature=function(t,e,r,n,i,s,o){switch(i==null&&(i=o2.Version.BASE),i){case o2.Version.WITNESS_V0:return this.checkEcdsaSignature(t,e,r,n,s);case o2.Version.TAPROOT:case o2.Version.TAPSCRIPT:return this.checkSchnorrSignature(t,e,r,i,o);case o2.Version.BASE:default:return l_e.verify(this,t,e,r,n)}};we.prototype.verify=function(){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var t=new C8(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new C8(we.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if(t=t.add(r._satoshisBN),t.gt(new C8(we.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>w_e)return"transaction over the maximum block size";var n={};for(e=0;e<this.inputs.length;e++){var i=this.inputs[e],s=i.prevTxId+":"+i.outputIndex;if(n[s]!=null)return"transaction input "+e+" duplicate input";n[s]=!0}var o=this.isCoinbase();if(o){var a=this.inputs[0]._scriptBuffer;if(a.length<2||a.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0};we.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()};we.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];if(e.sequenceNumber<si.MAXINT-1)return!0}return!1};we.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=si.MAXINT-1&&(e.sequenceNumber=si.DEFAULT_RBF_SEQNUMBER)}return this};we.prototype.setVersion=function(t){return Un.checkArgument(k8.isNaturalNumber(t)&&t<=eY,"Wrong version number"),this.version=t,this};rY.exports=we});var dm=$((sct,Zf)=>{k();M();Zf.exports=E8();Zf.exports.Input=I8();Zf.exports.Output=N0();Zf.exports.UnspentOutput=cP();Zf.exports.Signature=w1();Zf.exports.Sighash=Gf();Zf.exports.SighashWitness=e2();Zf.exports.SighashSchnorr=um()});var jI=$((uct,iY)=>{k();M();var u2=wr(),Eu=RI(),pe=m8(),Nt=fs(),A1=Ni(),Ir=Qs(),c2=Tc(),Tu=Tr(),T_e=e2(),A_e=um(),M8=ls(),nY=Kf(),le=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};le.prototype.verifyWitnessProgram=function(t,e,r,n,i,s){var o=new Eu,a=[];if(t===0)if(e.length===le.WITNESS_V0_SCRIPTHASH_SIZE){if(r.length===0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var u=r[r.length-1];o=new Eu(u);var c=A1.sha256(u);return c.toString("hex")!==e.toString("hex")?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(a=r.slice(0,-1),this.executeWitnessScript(o,a,Ir.Version.WITNESS_V0,n,i))}else return e.length===le.WITNESS_V0_KEYHASH_SIZE?r.length!==2?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(o.add(pe.OP_DUP),o.add(pe.OP_HASH160),o.add(e),o.add(pe.OP_EQUALVERIFY),o.add(pe.OP_CHECKSIG),a=r,this.executeWitnessScript(o,a,Ir.Version.WITNESS_V0,n,i)):(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1);else if(t===1&&e.length==le.WITNESS_V1_TAPROOT_SIZE&&!s){let h={annexPresent:!1};if(!(i&le.SCRIPT_VERIFY_TAPROOT))return!0;if(a=Array.from(r),a.length==0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;if(a.length>=2&&a[a.length-1].length&&a[a.length-1][0]===Eu.ANNEX_TAG){let f=a.pop(),p=new M8;p.writeVarintNum(f.length),p.write(f),h.annexHash=A1.sha256(p.toBuffer()),h.annexPresent=!0}if(h.annexInit=!0,a.length===1)return this.checkSchnorrSignature(a[0],e,Ir.Version.TAPROOT,h);{let f=a.pop(),p=a.pop();if(f.length<le.TAPROOT_CONTROL_BASE_SIZE||f.length>le.TAPROOT_CONTROL_MAX_SIZE||(f.length-le.TAPROOT_CONTROL_BASE_SIZE)%le.TAPROOT_CONTROL_NODE_SIZE!=0)return this.errstr="SCRIPT_ERR_TAPROOT_WRONG_CONTROL_SIZE",!1;if(h.tapleafHash=le.computeTapleafHash(f[0]&le.TAPROOT_LEAF_MASK,p),!le.verifyTaprootCommitment(f,e,h.tapleafHash))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;if(h.tapleafHashInit=!0,(f[0]&le.TAPROOT_LEAF_MASK)===le.TAPROOT_LEAF_TAPSCRIPT){let l;{let y=new M8;y.writeVarintNum(r.length);for(let _ of r)y.writeVarintNum(_.length),y.write(_);l=y.toBuffer().length}try{o=new Eu(p)}catch{return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return h.validationWeightLeft=l+Eu.VALIDATION_WEIGHT_OFFSET,h.validationWeightLeftInit=!0,this.executeWitnessScript(o,a,Ir.Version.TAPSCRIPT,n,i,h)}return i&le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION?(this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION",!1):!0}}else if(i&le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1;return!0};le.prototype.executeWitnessScript=function(t,e,r,n,i,s){if(r===Ir.Version.TAPSCRIPT){for(let a of t.chunks)if(pe.isOpSuccess(a.opcodenum))return i&le.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS?(this.errstr="SCRIPT_ERR_DISCOURAGE_OP_SUCCESS",!1):!0;if(e.length>le.MAX_STACK_SIZE)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}if(e.length&&e.some(a=>a.length>le.MAX_SCRIPT_ELEMENT_SIZE))return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(this.initialize(),this.set({script:t,stack:e,sigversion:r,satoshis:n,flags:i,execdata:s}),!this.evaluate())return!1;if(this.stack.length!==1)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var o=this.stack[this.stack.length-1];return le.castToBool(o)?!0:(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)};le.prototype.verify=function(t,e,r,n,i,s,o){var a=dm();u2.isUndefined(r)&&(r=new a),u2.isUndefined(n)&&(n=0),u2.isUndefined(i)&&(i=0),u2.isUndefined(s)&&(s=null),u2.isUndefined(o)&&(o=0),this.set({script:t,tx:r,nin:n,sigversion:Ir.Version.BASE,satoshis:0,flags:i});var u;if((i&le.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;i&le.SCRIPT_VERIFY_P2SH&&(u=this.stack.slice());var c=this.stack;if(this.initialize(),this.set({script:e,stack:c,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var h=this.stack[this.stack.length-1];if(!le.castToBool(h))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var f=!1;if(i&le.SCRIPT_VERIFY_WITNESS){var p={};if(e.isWitnessProgram(p)){if(f=!0,t.toBuffer().length!==0)return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED",!1;if(!this.verifyWitnessProgram(p.version,p.program,s,o,this.flags,!1))return!1}}if(i&le.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(u.length===0)throw new Error("internal error - stack copy empty");var l=u[u.length-1],y=Eu.fromBuffer(l);if(u.pop(),this.initialize(),this.set({script:y,stack:u,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(u.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!le.castToBool(u[u.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(i&le.SCRIPT_VERIFY_WITNESS){var _={};if(y.isWitnessProgram(_)){f=!0;var O=new Eu;if(O.add(y.toBuffer()),t.toHex()!==O.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(_.version,_.program,s,o,this.flags,!0))return!1;c=[c[0]]}}}if((this.flags&le.SCRIPT_VERIFY_CLEANSTACK)!=0){if((this.flags&le.SCRIPT_VERIFY_P2SH)==0||(this.flags&le.SCRIPT_VERIFY_WITNESS)==0)throw"flags & SCRIPT_VERIFY_P2SH";if(u.length!=1)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return this.flags&le.SCRIPT_VERIFY_WITNESS&&!f&&s.length>0?(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1):!0};iY.exports=le;le.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=Ir.Version.BASE,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.execdata={}};le.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=typeof t.nin>"u"?this.nin:parseInt(t.nin),this.stack=t.stack||this.stack,this.altstack=t.altstack||this.altstack,this.pc=typeof t.pc>"u"?this.pc:t.pc,this.pbegincodehash=typeof t.pbegincodehash>"u"?this.pbegincodehash:t.pbegincodehash,this.sigversion=typeof t.sigversion>"u"?this.sigversion:t.sigversion,this.satoshis=typeof t.satoshis>"u"?this.satoshis:t.satoshis,this.nOpCount=typeof t.nOpCount>"u"?this.nOpCount:t.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=typeof t.flags>"u"?this.flags:t.flags,this.execdata=typeof t.execdata>"u"?this.execdata:t.execdata||{}};le.true=A.Buffer.from([1]);le.false=A.Buffer.from([]);le.MAX_SCRIPT_SIZE=1e4;le.MAX_STACK_SIZE=1e3;le.MAX_SCRIPT_ELEMENT_SIZE=520;le.LOCKTIME_THRESHOLD=5e8;le.LOCKTIME_THRESHOLD_BN=new Nt(le.LOCKTIME_THRESHOLD);le.SCRIPT_VERIFY_NONE=0;le.SCRIPT_VERIFY_P2SH=1<<0;le.SCRIPT_VERIFY_STRICTENC=1<<1;le.SCRIPT_VERIFY_DERSIG=1<<2;le.SCRIPT_VERIFY_LOW_S=1<<3;le.SCRIPT_VERIFY_NULLDUMMY=1<<4;le.SCRIPT_VERIFY_SIGPUSHONLY=1<<5;le.SCRIPT_VERIFY_MINIMALDATA=1<<6;le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=1<<7;le.SCRIPT_VERIFY_CLEANSTACK=1<<8,le.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=1<<9;le.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1<<10;le.SCRIPT_VERIFY_WITNESS=1<<11;le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=1<<12;le.SCRIPT_VERIFY_MINIMALIF=1<<13;le.SCRIPT_VERIFY_NULLFAIL=1<<14;le.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=1<<15;le.SCRIPT_ENABLE_SIGHASH_FORKID=1<<16;le.SCRIPT_ENABLE_REPLAY_PROTECTION=1<<17;le.SCRIPT_VERIFY_CONST_SCRIPTCODE=1<<16;le.SCRIPT_VERIFY_TAPROOT=1<<17;le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION=1<<18;le.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS=1<<19;le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE=1<<20;le.SEQUENCE_LOCKTIME_DISABLE_FLAG=1<<31;le.SEQUENCE_LOCKTIME_TYPE_FLAG=1<<22;le.SEQUENCE_LOCKTIME_MASK=65535;le.WITNESS_V0_SCRIPTHASH_SIZE=32;le.WITNESS_V0_KEYHASH_SIZE=20;le.WITNESS_V1_TAPROOT_SIZE=32;le.TAPROOT_LEAF_MASK=254;le.TAPROOT_LEAF_TAPSCRIPT=192;le.TAPROOT_CONTROL_BASE_SIZE=33;le.TAPROOT_CONTROL_NODE_SIZE=32;le.TAPROOT_CONTROL_MAX_NODE_COUNT=128;le.TAPROOT_CONTROL_MAX_SIZE=le.TAPROOT_CONTROL_BASE_SIZE+le.TAPROOT_CONTROL_NODE_SIZE*le.TAPROOT_CONTROL_MAX_NODE_COUNT;le.PROTOCOL_VERSION=70016;le.castToBool=function(t){for(var e=0;e<t.length;e++)if(t[e]!==0)return!(e===t.length-1&&t[e]===128);return!1};le.prototype.checkSignatureEncoding=function(t){var e;if(t.length==0)return!0;if((this.flags&(le.SCRIPT_VERIFY_DERSIG|le.SCRIPT_VERIFY_LOW_S|le.SCRIPT_VERIFY_STRICTENC))!==0&&!Ir.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&le.SCRIPT_VERIFY_LOW_S)!==0){if(e=Ir.fromTxFormat(t),!e.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&le.SCRIPT_VERIFY_STRICTENC)!==0&&(e=Ir.fromTxFormat(t),!e.hasDefinedHashtype()))return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0};le.prototype.checkPubkeyEncoding=function(t){return(this.flags&le.SCRIPT_VERIFY_STRICTENC)!==0&&!c2.isValid(t)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):(this.flags&le.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)!=0&&this.sigversion==Ir.Version.WITNESS_V0&&!c2.fromBuffer(t).compressed?(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):!0};le.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),o=new M8;o.writeVarintNum(s.length),o.write(s),Tu.checkState(JSUtil.isNaturalNumber(i));var a=new M8().writeUInt64LEBN(new Nt(i)).toBuffer(),u=T_e.verify(this,t,e,r,o.toBuffer(),a);return u};le.prototype.checkSchnorrSignature=function(t,e,r,n){return Tu.checkArgument(t&&A.Buffer.isBuffer(t),"Missing sig"),Tu.checkArgument(e&&A.Buffer.isBuffer(e),"Missing pubkey"),Tu.checkArgument(r,"Missing sigversion"),Tu.checkArgument(n,"Missing execdata"),Tu.checkArgument(e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),t.length===64||t.length===65?t.length===65&&t[t.length-1]===Ir.SIGHASH_DEFAULT?(this.errstr="SCRIPT_ERR_SCHNORR_SIG_HASHTYPE",!1):(t=Ir.fromSchnorr(t),A_e.verify(this.tx,t,e,r,this.nin,n)):(this.errstr="SCRIPT_ERR_SCHNORR_SIG_SIZE",!1)};le.prototype._evalChecksigPreTapscript=function(t,e){Tu.checkArgument(this.sigversion===Ir.Version.BASE||this.sigversion===Ir.Version.WITNESS_V0,"sigversion must be base or witness_v0");let r={success:!1,result:!1},n=new Eu().set({chunks:this.script.chunks.slice(this.pbegincodehash)});if(this.sigversion===Ir.Version.BASE){let i=new Eu().add(t),s=n.chunks.length;if(n.findAndDelete(i),s=s==n.chunks.length+1,s&&this.flags&le.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_SIG_FINDANDDELETE",r}if(!this.checkSignatureEncoding(t)||!this.checkPubkeyEncoding(e))return r;try{let i=Ir.fromTxFormat(t),s=c2.fromBuffer(e,!1);r.success=this.tx.verifySignature(i,s,this.nin,n,this.sigversion,this.satoshis)}catch{r.success=!1}return!r.success&&this.flags&le.SCRIPT_VERIFY_NULLFAIL&&t.length?(this.errstr="SCRIPT_ERR_SIG_NULLFAIL",r):(r.result=!0,r)};le.prototype._evalChecksigTapscript=function(t,e){Tu.checkArgument(this.sigversion==Ir.Version.TAPSCRIPT,"this.sigversion must by TAPSCRIPT");let r={success:t.length>0,result:!1};if(r.success&&(Tu.checkState(this.execdata.validationWeightLeftInit,"validationWeightLeftInit is false"),this.execdata.validationWeightLeft-=Eu.VALIDATION_WEIGHT_PER_SIGOP_PASSED,this.execdata.validationWeightLeft<0))return this.errstr="SCRIPT_ERR_TAPSCRIPT_VALIDATION_WEIGHT",r;if(e.length===0)return this.errstr="SCRIPT_ERR_PUBKEYTYPE",r;if(e.length==32){if(r.success&&!this.tx.checkSchnorrSignature(t,e,this.nin,this.sigversion,this.execdata))return this.errstr="SCRIPT_ERR_SCHNORR_SIG",r}else if((this.flags&le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE)!=0)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_PUBKEYTYPE",r;return r.result=!0,r};le.prototype._evalCheckSig=function(t,e){switch(this.sigversion){case Ir.Version.BASE:case Ir.Version.WITNESS_V0:return this._evalChecksigPreTapscript(t,e);case Ir.Version.TAPSCRIPT:return this._evalChecksigTapscript(t,e);case Ir.Version.TAPROOT:throw new Error("Called evalCheckSig with a TAPROOT sigversion. Check your implementation")}};le.prototype.evaluate=function(){if(Tu.checkArgument(this.sigversion==Ir.Version.BASE||this.sigversion==Ir.Version.WITNESS_V0||this.sigversion==Ir.Version.TAPSCRIPT,"invalid sigversion"),(this.sigversion==Ir.Version.BASE||this.sigversion==Ir.Version.WITNESS_V0)&&this.script.toBuffer().length>le.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){var t=this.step();if(!t)return!1}}catch(e){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+e,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0};le.prototype.checkLockTime=function(t){return!(!(this.tx.nLockTime<le.LOCKTIME_THRESHOLD&&t.lt(le.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=le.LOCKTIME_THRESHOLD&&t.gte(le.LOCKTIME_THRESHOLD_BN))||t.gt(new Nt(this.tx.nLockTime))||!this.tx.inputs[this.nin].isFinal())};le.prototype.checkSequence=function(t){var e=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||e&le.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var r=le.SEQUENCE_LOCKTIME_TYPE_FLAG|le.SEQUENCE_LOCKTIME_MASK,n=new Nt(e&r),i=t.and(new Nt(r)),s=new Nt(le.SEQUENCE_LOCKTIME_TYPE_FLAG);return n.lt(s)&&i.lt(s)||n.gte(s)&&i.gte(s)?i.lte(n):!1};le.computeTapleafHash=function(t,e){let r=nY.TAPLEAF;return r.writeUInt8(t),r.writeVarintNum(e.length),r.write(e),r.finalize()};le.computeTaprootMerkleRoot=function(t,e){let r=(t.length-le.TAPROOT_CONTROL_BASE_SIZE)/le.TAPROOT_CONTROL_NODE_SIZE,n=e;for(let i=0;i<r;++i){let s=nY.TAPBRANCH,o=le.TAPROOT_CONTROL_BASE_SIZE+le.TAPROOT_CONTROL_NODE_SIZE*i,a=t.slice(o,o+le.TAPROOT_CONTROL_NODE_SIZE);A.Buffer.compare(n,a)===-1?(s.write(n),s.write(a)):(s.write(a),s.write(n)),n=s.finalize()}return n};le.verifyTaprootCommitment=function(t,e,r){Tu.checkArgument(t.length>=le.TAPROOT_CONTROL_BASE_SIZE,"control too short"),Tu.checkArgument(e.length>=32,"program is too short");try{let n=c2.fromX(!1,t.slice(1,le.TAPROOT_CONTROL_BASE_SIZE));let i=c2.fromX(!1,e),s=le.computeTaprootMerkleRoot(t,r);return i.checkTapTweak(n,s,t)}catch{return!1}};le.prototype.step=function(){var t=(this.flags&le.SCRIPT_VERIFY_MINIMALDATA)!==0,e=this.vfExec.indexOf(!1)===-1,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B;this.execdata=this.execdata||{},this.execdata.codeseparatorPosInit||(this.execdata.codeseparatorPos=new Nt(4294967295),this.execdata.codeseparatorPosInit=!0);var E=this.script.chunks[this.pc];this.pc++;var I=E.opcodenum;if(u2.isUndefined(I))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(E.buf&&E.buf.length>le.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if((this.sigversion===Ir.Version.BASE||this.sigversion===Ir.Version.WITNESS_V0)&&I>pe.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(I===pe.OP_SUBSTR||I===pe.OP_LEFT||I===pe.OP_RIGHT||I===pe.OP_INVERT||I===pe.OP_AND||I===pe.OP_OR||I===pe.OP_XOR||I===pe.OP_2MUL||I===pe.OP_2DIV||I===pe.OP_MUL||I===pe.OP_DIV||I===pe.OP_MOD||I===pe.OP_LSHIFT||I===pe.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(I==pe.OP_CODESEPARATOR&&this.sigversion===Ir.Version.BASE&&this.flags&le.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_OP_CODESEPARATOR",!1;if(e&&0<=I&&I<=pe.OP_PUSHDATA4){if(t&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!E.buf)this.stack.push(le.false);else{if(E.len!==E.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(E.buf)}}else if(e||pe.OP_IF<=I&&I<=pe.OP_ENDIF)switch(I){case pe.OP_1NEGATE:case pe.OP_1:case pe.OP_2:case pe.OP_3:case pe.OP_4:case pe.OP_5:case pe.OP_6:case pe.OP_7:case pe.OP_8:case pe.OP_9:case pe.OP_10:case pe.OP_11:case pe.OP_12:case pe.OP_13:case pe.OP_14:case pe.OP_15:case pe.OP_16:o=I-(pe.OP_1-1),r=new Nt(o).toScriptNumBuffer(),this.stack.push(r);break;case pe.OP_NOP:break;case pe.OP_NOP2:case pe.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&le.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var L=Nt.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(L.lt(new Nt(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(L))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case pe.OP_NOP3:case pe.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&le.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var N=Nt.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(N.lt(new Nt(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((N&le.SEQUENCE_LOCKTIME_DISABLE_FLAG)!=0)break;if(!this.checkSequence(N))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case pe.OP_NOP1:case pe.OP_NOP4:case pe.OP_NOP5:case pe.OP_NOP6:case pe.OP_NOP7:case pe.OP_NOP8:case pe.OP_NOP9:case pe.OP_NOP10:if(this.flags&le.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case pe.OP_IF:case pe.OP_NOTIF:{if(F=!1,e){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(r=this.stack[this.stack.length-1],this.sigversion===Ir.Version.TAPSCRIPT&&(r.length>1||r.length===1&&r[0]!==1))return this.errstr="SCRIPT_ERR_TAPSCRIPT_MINIMALIF",!1;if(this.sigversion===Ir.Version.WITNESS_V0&&this.flags&le.SCRIPT_VERIFY_MINIMALIF){if(r=this.stack[this.stack.length-1],r.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(r.length==1&&r[0]!=1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}F=le.castToBool(r),I===pe.OP_NOTIF&&(F=!F),this.stack.pop()}this.vfExec.push(F)}break;case pe.OP_ELSE:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1]}break;case pe.OP_ENDIF:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop()}break;case pe.OP_VERIFY:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],F=le.castToBool(r),F)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1}break;case pe.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case pe.OP_TOALTSTACK:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop())}break;case pe.OP_FROMALTSTACK:{if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop())}break;case pe.OP_2DROP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop()}break;case pe.OP_2DUP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],this.stack.push(n),this.stack.push(i)}break;case pe.OP_3DUP:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-3],i=this.stack[this.stack.length-2];var H=this.stack[this.stack.length-1];this.stack.push(n),this.stack.push(i),this.stack.push(H)}break;case pe.OP_2OVER:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-4],i=this.stack[this.stack.length-3],this.stack.push(n),this.stack.push(i)}break;case pe.OP_2ROT:{if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-6,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case pe.OP_2SWAP:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-4,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case pe.OP_IFDUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1],F=le.castToBool(r),F&&this.stack.push(r)}break;case pe.OP_DEPTH:r=new Nt(this.stack.length).toScriptNumBuffer(),this.stack.push(r);break;case pe.OP_DROP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop()}break;case pe.OP_DUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1])}break;case pe.OP_NIP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1)}break;case pe.OP_OVER:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2])}break;case pe.OP_PICK:case pe.OP_ROLL:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],c=Nt.fromScriptNumBuffer(r,t),o=c.toNumber(),this.stack.pop(),o<0||o>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-o-1],I===pe.OP_ROLL&&this.stack.splice(this.stack.length-o-1,1),this.stack.push(r)}break;case pe.OP_ROT:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;a=this.stack[this.stack.length-3],u=this.stack[this.stack.length-2];var D=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=u,this.stack[this.stack.length-2]=D,this.stack[this.stack.length-1]=a}break;case pe.OP_SWAP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;a=this.stack[this.stack.length-2],u=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=u,this.stack[this.stack.length-1]=a}break;case pe.OP_TUCK:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1])}break;case pe.OP_SIZE:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;c=new Nt(this.stack[this.stack.length-1].length),this.stack.push(c.toScriptNumBuffer())}break;case pe.OP_EQUAL:case pe.OP_EQUALVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1];var C=n.toString("hex")===i.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(C?le.true:le.false),I===pe.OP_EQUALVERIFY)if(C)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1}break;case pe.OP_1ADD:case pe.OP_1SUB:case pe.OP_NEGATE:case pe.OP_ABS:case pe.OP_NOT:case pe.OP_0NOTEQUAL:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(r=this.stack[this.stack.length-1],c=Nt.fromScriptNumBuffer(r,t),I){case pe.OP_1ADD:c=c.add(Nt.One);break;case pe.OP_1SUB:c=c.sub(Nt.One);break;case pe.OP_NEGATE:c=c.neg();break;case pe.OP_ABS:c.cmp(Nt.Zero)<0&&(c=c.neg());break;case pe.OP_NOT:c=new Nt((c.cmp(Nt.Zero)===0)+0);break;case pe.OP_0NOTEQUAL:c=new Nt((c.cmp(Nt.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(c.toScriptNumBuffer())}break;case pe.OP_ADD:case pe.OP_SUB:case pe.OP_BOOLAND:case pe.OP_BOOLOR:case pe.OP_NUMEQUAL:case pe.OP_NUMEQUALVERIFY:case pe.OP_NUMNOTEQUAL:case pe.OP_LESSTHAN:case pe.OP_GREATERTHAN:case pe.OP_LESSTHANOREQUAL:case pe.OP_GREATERTHANOREQUAL:case pe.OP_MIN:case pe.OP_MAX:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(h=Nt.fromScriptNumBuffer(this.stack[this.stack.length-2],t),f=Nt.fromScriptNumBuffer(this.stack[this.stack.length-1],t),c=new Nt(0),I){case pe.OP_ADD:c=h.add(f);break;case pe.OP_SUB:c=h.sub(f);break;case pe.OP_BOOLAND:c=new Nt((h.cmp(Nt.Zero)!==0&&f.cmp(Nt.Zero)!==0)+0);break;case pe.OP_BOOLOR:c=new Nt((h.cmp(Nt.Zero)!==0||f.cmp(Nt.Zero)!==0)+0);break;case pe.OP_NUMEQUAL:c=new Nt((h.cmp(f)===0)+0);break;case pe.OP_NUMEQUALVERIFY:c=new Nt((h.cmp(f)===0)+0);break;case pe.OP_NUMNOTEQUAL:c=new Nt((h.cmp(f)!==0)+0);break;case pe.OP_LESSTHAN:c=new Nt((h.cmp(f)<0)+0);break;case pe.OP_GREATERTHAN:c=new Nt((h.cmp(f)>0)+0);break;case pe.OP_LESSTHANOREQUAL:c=new Nt((h.cmp(f)<=0)+0);break;case pe.OP_GREATERTHANOREQUAL:c=new Nt((h.cmp(f)>=0)+0);break;case pe.OP_MIN:c=h.cmp(f)<0?h:f;break;case pe.OP_MAX:c=h.cmp(f)>0?h:f;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(c.toScriptNumBuffer()),I===pe.OP_NUMEQUALVERIFY)if(le.castToBool(this.stack[this.stack.length-1]))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1}break;case pe.OP_WITHIN:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=Nt.fromScriptNumBuffer(this.stack[this.stack.length-3],t),f=Nt.fromScriptNumBuffer(this.stack[this.stack.length-2],t);var d=Nt.fromScriptNumBuffer(this.stack[this.stack.length-1],t);F=f.cmp(h)<=0&&h.cmp(d)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(F?le.true:le.false)}break;case pe.OP_CAT:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],n.length+i.length>le.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop(),this.stack.push(A.Buffer.concat([n,i]));break}case pe.OP_RIPEMD160:case pe.OP_SHA1:case pe.OP_SHA256:case pe.OP_HASH160:case pe.OP_HASH256:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1];var v;I===pe.OP_RIPEMD160?v=A1.ripemd160(r):I===pe.OP_SHA1?v=A1.sha1(r):I===pe.OP_SHA256?v=A1.sha256(r):I===pe.OP_HASH160?v=A1.sha256ripemd160(r):I===pe.OP_HASH256&&(v=A1.sha256sha256(r)),this.stack.pop(),this.stack.push(v)}break;case pe.OP_CODESEPARATOR:this.pbegincodehash=this.pc,this.execdata.codeseparatorPos=this.pc-1;break;case pe.OP_CHECKSIG:case pe.OP_CHECKSIGVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;p=this.stack[this.stack.length-2],l=this.stack[this.stack.length-1];let{success:P,result:U}=this._evalCheckSig(p,l);if(!U)return!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(P?le.true:le.false),I===pe.OP_CHECKSIGVERIFY)if(P)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1}break;case pe.OP_CHECKSIGADD:{if(this.sigversion==Ir.Version.BASE||this.sigversion==Ir.Version.WITNESS_V0)return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1;if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;let P=this.stack[this.stack.length-3],U=this.stack[this.stack.length-2],K=this.stack[this.stack.length-1];U=Nt.fromScriptNumBuffer(U,t);let{success:z,result:Q}=this._evalCheckSig(P,K);if(!Q)return!1;this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(U.addn(z?1:0).toScriptNumBuffer())}break;case pe.OP_CHECKMULTISIG:case pe.OP_CHECKMULTISIGVERIFY:{var g=1;if(this.stack.length<g)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var m=Nt.fromScriptNumBuffer(this.stack[this.stack.length-g],t).toNumber();if(m<0||m>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=m,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var S=++g;g+=m;var w=m+2;if(this.stack.length<g)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var R=Nt.fromScriptNumBuffer(this.stack[this.stack.length-g],t).toNumber();if(R<0||R>m)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var T=++g;if(g+=R,this.stack.length<g)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=new Eu().set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var b=0;b<R;b++)p=this.stack[this.stack.length-T-b],y.findAndDelete(new Eu().add(p));for(B=!0;B&&R>0;){if(p=this.stack[this.stack.length-T],l=this.stack[this.stack.length-S],!this.checkSignatureEncoding(p)||!this.checkPubkeyEncoding(l))return!1;var x;try{_=Ir.fromTxFormat(p),O=c2.fromBuffer(l,!1),x=this.tx.verifySignature(_,O,this.nin,y,this.sigversion,this.satoshis,this.execdata)}catch{x=!1}x&&(T++,R--),S++,m--,R>m&&(B=!1)}for(;g-- >1;){if(!B&&this.flags&le.SCRIPT_VERIFY_NULLFAIL&&!w&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;w>0&&w--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&le.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(B?le.true:le.false),I===pe.OP_CHECKMULTISIGVERIFY)if(B)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.stack.length+this.altstack.length>le.MAX_STACK_SIZE?(this.errstr="SCRIPT_ERR_STACK_SIZE",!1):!0}});var oa=$((hct,dP)=>{k();M();dP.exports=RI();dP.exports.Interpreter=jI()});var Ec=$((pct,aY)=>{k();M();var R8=wr(),Jf=Tr(),I_e=wa(),sY=X5(),pm=Yz(),aa=gd(),N8=Ni(),oY=ci(),pP=Tc();function Ae(t,e,r,n){if(!(this instanceof Ae))return new Ae(t,e,r);if(R8.isArray(t)&&R8.isNumber(e))return Ae.createMultisig(t,e,r,!1,n);if(t instanceof Ae)return t;if(Jf.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!aa.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==Ae.PayToPublicKeyHash&&r!==Ae.PayToScriptHash&&r!==Ae.PayToWitnessPublicKeyHash&&r!==Ae.PayToWitnessScriptHash&&r!==Ae.PayToTaproot)throw new TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", "witnessscripthash", or "taproot".');var i=this._classifyArguments(t,e,r);return i.network=i.network||aa.get(e)||aa.defaultNetwork,i.type=i.type||r||Ae.PayToPublicKeyHash,oY.defineImmutable(this,{hashBuffer:i.hashBuffer,network:i.network,type:i.type}),this}Ae.prototype._classifyArguments=function(t,e,r){if((t instanceof A.Buffer||t instanceof Uint8Array)&&(t.length===20||t.length===32))return Ae._transformHash(t,e,r);if((t instanceof A.Buffer||t instanceof Uint8Array)&&t.length>=21)return Ae._transformBuffer(t,e,r);if(t instanceof pP)return Ae._transformPublicKey(t,e,r);if(t instanceof I1)return Ae._transformScript(t,e);if(typeof t=="string")return Ae._transformString(t,e,r);if(R8.isObject(t))return Ae._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")};Ae.PayToPublicKeyHash="pubkeyhash";Ae.PayToScriptHash="scripthash";Ae.PayToWitnessPublicKeyHash="witnesspubkeyhash";Ae.PayToWitnessScriptHash="witnessscripthash";Ae.PayToTaproot="taproot";Ae._transformHash=function(t,e,r){var n={};if(!(t instanceof A.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length!==20&&t.length!==32)throw new TypeError("Address hashbuffers must be either 20 or 32 bytes.");return n.hashBuffer=t,n.network=aa.get(e)||aa.defaultNetwork,n.type=r,n};Ae._transformObject=function(t){return Jf.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),Jf.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?A.Buffer.from(t.hash,"hex"):t.hashBuffer,network:aa.get(t.network)||aa.defaultNetwork,type:t.type}};Ae._classifyFromVersion=function(t){var e={};if(t.length>21){var r=pm.decode(t.toString("utf8"));if(r.version!==0&&r.version!==1)throw new TypeError("Only witness v0 and v1 addresses are supported.");if(r.version===0)if(r.data.length===20)e.type=Ae.PayToWitnessPublicKeyHash;else if(r.data.length===32)e.type=Ae.PayToWitnessScriptHash;else throw new TypeError("Witness data must be either 20 or 32 bytes.");else if(r.version===1)if(r.data.length===32)e.type=Ae.PayToTaproot;else throw new TypeError("Witness data must be 32 bytes for v1");e.network=aa.get(r.prefix,"bech32prefix")}else{var n=aa.get(t[0],"pubkeyhash"),i=aa.get(t[0],"scripthash");n?(e.network=n,e.type=Ae.PayToPublicKeyHash):i&&(e.network=i,e.type=Ae.PayToScriptHash)}return e};Ae._transformBuffer=function(t,e,r){var n={};if(!(t instanceof A.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length<21)throw new TypeError("Address buffer is incorrect length.");var i=aa.get(e),s=Ae._classifyFromVersion(t);if(e&&!i)throw new TypeError("Unknown network");if(!s.network||i&&i.xpubkey!==s.network.xpubkey)throw new TypeError("Address has mismatched network type.");if(!s.type||r&&r!==s.type)throw new TypeError("Address has mismatched type.");return t.length>21?n.hashBuffer=pm.decode(t.toString("utf8")).data:n.hashBuffer=t.slice(1),n.network=i||s.network,n.type=s.type,n};Ae._transformPublicKey=function(t,e,r){var n={};if(!(t instanceof pP))throw new TypeError("Address must be an instance of PublicKey.");if(r&&r!==Ae.PayToScriptHash&&r!==Ae.PayToWitnessPublicKeyHash&&r!==Ae.PayToPublicKeyHash&&r!==Ae.PayToTaproot)throw new TypeError("Type must be either pubkeyhash, witnesspubkeyhash, scripthash, or taproot to transform public key.");if(!t.compressed&&(r===Ae.PayToScriptHash||r===Ae.PayToWitnessPublicKeyHash))throw new TypeError("Witness addresses must use compressed public keys.");return r===Ae.PayToScriptHash?n.hashBuffer=N8.sha256ripemd160(I1.buildWitnessV0Out(t).toBuffer()):r===Ae.PayToTaproot?n.hashBuffer=t.createTapTweak().tweakedPubKey:n.hashBuffer=N8.sha256ripemd160(t.toBuffer()),n.type=r||Ae.PayToPublicKeyHash,n};Ae._transformScript=function(t,e){Jf.checkArgument(t instanceof I1,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new I_e.Script.CantDeriveAddress(t);return r};Ae.createMultisig=function(t,e,r,n,i){if(r=r||t[0].network||aa.defaultNetwork,i&&i!==Ae.PayToScriptHash&&i!==Ae.PayToWitnessScriptHash)throw new TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(n||i===Ae.PayToWitnessScriptHash){t=R8.map(t,pP);for(var s=0;s<t.length;s++)if(!t[s].compressed)throw new TypeError("Witness addresses must use compressed public keys.")}var o=I1.buildMultisigOut(t,e);return n?Ae.payingTo(I1.buildWitnessMultisigOutFromScript(o),r):Ae.payingTo(o,r,i)};Ae._transformString=function(t,e,r){if(typeof t!="string")throw new TypeError("data parameter supplied is not a string.");if(t.length>100)throw new TypeError("address string is too long");if(e&&!aa.get(e))throw new TypeError("Unknown network");t=t.trim();try{var i=Ae._transformBuffer(A.Buffer.from(t,"utf8"),e,r);return i}catch(s){if(r===Ae.PayToWitnessPublicKeyHash||r===Ae.PayToWitnessScriptHash||r===Ae.PayToTaproot)throw s}var n=sY.decode(t),i=Ae._transformBuffer(n,e,r);return i};Ae.fromPublicKey=function(t,e,r){var n=Ae._transformPublicKey(t,e,r);return e=e||aa.defaultNetwork,new Ae(n.hashBuffer,e,n.type)};Ae.fromPublicKeyHash=function(t,e){var r=Ae._transformHash(t);return new Ae(r.hashBuffer,e,Ae.PayToPublicKeyHash)};Ae.fromScriptHash=function(t,e,i){Jf.checkArgument(t,"hash parameter is required");var n=Ae._transformHash(t);if(i===Ae.PayToWitnessScriptHash&&t.length!==32)throw new TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");var i=i||Ae.PayToScriptHash;return new Ae(n.hashBuffer,e,i)};Ae.payingTo=function(t,e,i){Jf.checkArgument(t,"script is required"),Jf.checkArgument(t instanceof I1,"script must be instance of Script");var n;i===Ae.PayToWitnessScriptHash?n=N8.sha256(t.toBuffer()):n=N8.sha256ripemd160(t.toBuffer());var i=i||Ae.PayToScriptHash;return Ae.fromScriptHash(n,e,i)};Ae.fromScript=function(t,e){Jf.checkArgument(t instanceof I1,"script must be a Script instance");var r=Ae._transformScript(t,e);return new Ae(r.hashBuffer,e,r.type)};Ae.fromBuffer=function(t,e,r){var n=Ae._transformBuffer(t,e,r);return new Ae(n.hashBuffer,n.network,n.type)};Ae.fromString=function(t,e,r){var n=Ae._transformString(t,e,r);return new Ae(n.hashBuffer,n.network,n.type)};Ae.fromObject=function(e){Jf.checkState(oY.isHexa(e.hash),'Unexpected hash property, "'+e.hash+'", expected to be hex.');var r=A.Buffer.from(e.hash,"hex");return new Ae(r,e.network,e.type)};Ae.getValidationError=function(t,e,r){var n;try{new Ae(t,e,r)}catch(i){n=i}return n};Ae.isValid=function(t,e,r){return!Ae.getValidationError(t,e,r)};Ae.prototype.isPayToPublicKeyHash=function(){return this.type===Ae.PayToPublicKeyHash};Ae.prototype.isPayToScriptHash=function(){return this.type===Ae.PayToScriptHash};Ae.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===Ae.PayToWitnessPublicKeyHash};Ae.prototype.isPayToWitnessScriptHash=function(){return this.type===Ae.PayToWitnessScriptHash};Ae.prototype.isPayToTaproot=function(){return this.type===Ae.PayToTaproot};Ae.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return A.Buffer.from(this.toString(),"utf8");var t=A.Buffer.from([this.network[this.type]]);return A.Buffer.concat([t,this.hashBuffer])};Ae.prototype.toObject=Ae.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}};Ae.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()||this.isPayToTaproot()){let t=this.network.bech32prefix,e=0,r=pm.encodings.BECH32;return this.isPayToTaproot()&&(e=1,r=pm.encodings.BECH32M),pm.encode(t,e,this.hashBuffer,r)}return sY.encode(this.toBuffer())};Ae.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"};aY.exports=Ae;var I1=oa()});var mm=$((bct,uY)=>{k();M();function P1(){}P1.getRandomBuffer=function(t){return process.browser?P1.getRandomBufferBrowser(t):P1.getRandomBufferNode(t)};P1.getRandomBufferNode=function(t){var e=ff();return e.randomBytes(t)};P1.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)var e=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var r=new Uint8Array(t);e.getRandomValues(r);var n=A.Buffer.from(r);return n};P1.getPseudoRandomBuffer=function(t){for(var e=4294967296,r=A.Buffer.alloc(t),n,i=0;i<=t;i++){var s=Math.floor(i/4),o=i-s*4;o===0?(n=Math.random()*e,r[i]=n&255):r[i]=(n=n>>>8)&255}return r};uY.exports=P1});var vd=$((_ct,hY)=>{k();M();var F8=wr(),P_e=Ec(),cY=X5(),eh=fs(),fY=ci(),Qf=gd(),H8=dd(),O_e=Tc(),B_e=mm(),D8=Tr(),C_e=Kf();function Qt(t,e){if(!(this instanceof Qt))return new Qt(t,e);if(t instanceof Qt)return t;var r=this._classifyArguments(t,e);if(!r.bn||r.bn.cmp(new eh(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt(H8.getN()))throw new TypeError("Number must be less than N");if(typeof r.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return fY.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}Qt.prototype._classifyArguments=function(t,e){var r={compressed:!0,network:e?Qf.get(e):Qf.defaultNetwork};if(F8.isUndefined(t)||F8.isNull(t))r.bn=Qt._getRandomBN();else if(t instanceof eh)r.bn=t;else if(t instanceof A.Buffer||t instanceof Uint8Array)r=Qt._transformBuffer(t,e);else if(t.bn&&t.network)r=Qt._transformObject(t);else if(!e&&Qf.get(t))r.bn=Qt._getRandomBN(),r.network=Qf.get(t);else if(typeof t=="string")fY.isHexa(t)?r.bn=new eh(A.Buffer.from(t,"hex")):r=Qt._transformWIF(t,e);else throw new TypeError("First argument is an unrecognized data type.");return r};Qt._getRandomBN=function(){var t,e;do{var r=B_e.getRandomBuffer(32);e=eh.fromBuffer(r),t=e.lt(H8.getN())}while(!t);return e};Qt._transformBuffer=function(t,e){var r={};if(t.length===32)return Qt._transformBNBuffer(t,e);if(r.network=Qf.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==Qf.get(e))throw new TypeError("Private key network mismatch");if(t.length===1+32+1&&t[1+32+1-1]===1)r.compressed=!0;else if(t.length===1+32)r.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return r.bn=eh.fromBuffer(t.slice(1,32+1)),r};Qt._transformBNBuffer=function(t,e){var r={};return r.network=Qf.get(e)||Qf.defaultNetwork,r.bn=eh.fromBuffer(t),r.compressed=!1,r};Qt._transformWIF=function(t,e){return Qt._transformBuffer(cY.decode(t),e)};Qt.fromBuffer=function(t,e){return new Qt(t,e)};Qt._transformObject=function(t){var e=new eh(t.bn,"hex"),r=Qf.get(t.network);return{bn:e,network:r,compressed:t.compressed}};Qt.fromString=Qt.fromWIF=function(t){return D8.checkArgument(F8.isString(t),"First argument is expected to be a string."),new Qt(t)};Qt.fromObject=function(t){return D8.checkArgument(F8.isObject(t),"First argument is expected to be an object."),new Qt(t)};Qt.fromRandom=function(t){var e=Qt._getRandomBN();return new Qt(e,t)};Qt.getValidationError=function(t,e){var r;try{new Qt(t,e)}catch(n){r=n}return r};Qt.isValid=function(t,e){return t?!Qt.getValidationError(t,e):!1};Qt.prototype.toString=function(){return this.toBuffer().toString("hex")};Qt.prototype.toWIF=function(){var t=this.network,e=this.compressed,r;return e?r=A.Buffer.concat([A.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32}),A.Buffer.from([1])]):r=A.Buffer.concat([A.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32})]),cY.encode(r)};Qt.prototype.toBigNumber=function(){return this.bn};Qt.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})};Qt.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()};Qt.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=O_e.fromPrivateKey(this)),this._pubkey};Qt.prototype.toAddress=function(t,e){var r=this.toPublicKey();return P_e.fromPublicKey(r,t||this.network,e)};Qt.prototype.toObject=Qt.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}};Qt.prototype.createTapTweak=function(t){let e=H8.getN(),r=H8.getG().mul(this.bn),n=r.y.isEven()?this.bn:e.sub(this.bn),i=new C_e("TapTweak");i.write(r.x.toBuffer({size:32})),t&&(D8.checkArgument(A.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),i.write(t));let s=i.finalize();return D8.checkState(eh.fromBuffer(s).lt(e),"TapTweak hash failed secp256k1 order check"),{tweakedPrivKey:n.add(new eh(s)).mod(e).toBuffer({size:32})}};Qt.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"};hY.exports=Qt});var Tc=$((wct,pY)=>{k();M();var Pc=fs(),Ed=dd(),k_e=Ni(),lY=ci(),dY=gd(),mP=wr(),Ea=Tr(),M_e=Kf();function ot(t,e){if(!(this instanceof ot))return new ot(t,e);if(Ea.checkArgument(t,"First argument is required, please include public key data."),t instanceof ot)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),lY.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||dY.defaultNetwork}),this}ot.prototype._classifyArgs=function(t,e){var r={compressed:mP.isUndefined(e.compressed)||e.compressed};if(t instanceof Ed)r.point=t;else if(t.x&&t.y)r=ot._transformObject(t);else if(typeof t=="string")r=ot._transformDER(A.Buffer.from(t,"hex"));else if(ot._isBuffer(t))r=ot._transformDER(t);else if(ot._isPrivateKey(t))r=ot._transformPrivateKey(t);else throw new TypeError("First argument is an unrecognized data format.");return r.network||(r.network=mP.isUndefined(e.network)?void 0:dY.get(e.network)),r};ot._isPrivateKey=function(t){var e=vd();return t instanceof e};ot._isBuffer=function(t){return t instanceof A.Buffer||t instanceof Uint8Array};ot._transformPrivateKey=function(t){Ea.checkArgument(ot._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=Ed.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e};ot._transformDER=function(t,e){Ea.checkArgument(ot._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r={};e=mP.isUndefined(e)?!0:e;var n,i,s,o;if(t[0]===4||!e&&(t[0]===6||t[0]===7)){if(s=t.slice(1,33),o=t.slice(33,65),s.length!==32||o.length!==32||t.length!==65)throw new TypeError("Length of x and y must be 32 bytes");n=new Pc(s),i=new Pc(o),r.point=new Ed(n,i),r.compressed=!1}else if(t[0]===3)s=t.slice(1),n=new Pc(s),r=ot._transformX(!0,n),r.compressed=!0;else if(t[0]===2)s=t.slice(1),n=new Pc(s),r=ot._transformX(!1,n),r.compressed=!0;else throw new TypeError("Invalid DER format public key");return r};ot._transformX=function(t,e){Ea.checkArgument(typeof t=="boolean","Must specify whether y is odd or not (true or false)");var r={};return r.point=Ed.fromX(t,e),r};ot._transformObject=function(t){var e=new Pc(t.x,"hex"),r=new Pc(t.y,"hex"),n=new Ed(e,r);return new ot(n,{compressed:t.compressed})};ot.fromPrivateKey=function(t){Ea.checkArgument(ot._isPrivateKey(t),"Must be an instance of PrivateKey");var e=ot._transformPrivateKey(t);return new ot(e.point,{compressed:e.compressed,network:e.network})};ot.fromBuffer=function(t,e){return Ea.checkArgument(ot._isBuffer(t),"Must be a hex buffer of DER encoded public key or 32 byte X coordinate (taproot)"),t.length===32?ot.fromX(!1,t):ot.fromDER(t,e)};ot.fromDER=function(t,e){Ea.checkArgument(ot._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=ot._transformDER(t,e);return new ot(r.point,{compressed:r.compressed})};ot.fromPoint=function(t,e){return Ea.checkArgument(t instanceof Ed,"First argument must be an instance of Point."),new ot(t,{compressed:e})};ot.fromString=function(t,e){var r=A.Buffer.from(t,e||"hex"),n=ot._transformDER(r);return new ot(n.point,{compressed:n.compressed})};ot.fromX=function(t,e){var r=ot._transformX(t,e);return new ot(r.point,{compressed:r.compressed})};ot.fromTaproot=function(t){return typeof t=="string"&&lY.isHexaString(t)&&(t=A.Buffer.from(t,"hex")),Ea.checkArgument(A.Buffer.isBuffer(t),"hexBuf must be a hex string or buffer"),Ea.checkArgument(t.length===32,"Taproot public keys must be 32 bytes"),new ot.fromX(!1,t)};ot.isValidTaproot=function(t){try{return!!ot.fromTaproot(t)}catch{return!1}};ot.prototype.computeTapTweakHash=function(t){let e=new M_e("TapTweak");e.write(this.point.x.toBuffer({size:32})),t&&(Ea.checkArgument(A.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),e.write(t));let r=e.finalize(),n=Ed.getN();return Ea.checkState(Pc.fromBuffer(r).lt(n),"TapTweak hash failed secp256k1 order check"),r};ot.prototype.checkTapTweak=function(t,e,r){A.Buffer.isBuffer(t)&&(t=ot.fromTaproot(t));let n=t.computeTapTweakHash(e),s=t.point.liftX().add(this.point.curve.g.mul(Pc.fromBuffer(n)));return this.point.x.eq(s.x)&&s.y.mod(new Pc(2)).eq(new Pc(r[0]&1))};ot.prototype.createTapTweak=function(t){Ea.checkArgument(t==null||A.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be a 32 byte buffer");let e=this.computeTapTweakHash(t);e=new Pc(e);let r=this.point.liftX().add(Ed.getG().mul(e));return{parity:r.y.isEven()?0:1,tweakedPubKey:r.x.toBuffer()}};ot.getValidationError=function(t){var e;try{new ot(t)}catch(r){e=r}return e};ot.isValid=function(t){return!ot.getValidationError(t)};ot.prototype.toObject=ot.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}};ot.prototype.toBuffer=ot.prototype.toDER=function(){var t=this.point.getX(),e=this.point.getY(),r=t.toBuffer({size:32}),n=e.toBuffer({size:32}),i;if(this.compressed){var s=n[n.length-1]%2;return s?i=A.Buffer.from([3]):i=A.Buffer.from([2]),A.Buffer.concat([i,r])}else return i=A.Buffer.from([4]),A.Buffer.concat([i,r,n])};ot.prototype._getID=function(){return k_e.sha256ripemd160(this.toBuffer())};ot.prototype.toAddress=function(t,e){var r=Ec();return r.fromPublicKey(this,t||this.network,e)};ot.prototype.toString=function(){return this.toDER().toString("hex")};ot.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"};pY.exports=ot});var om=$((Act,mY)=>{k();M();var Ta=fs(),Au=dd(),R_e=Qs(),N_e=Tc(),F_e=mm(),Td=Ni(),bP=Pn(),H_e=wr(),gP=Tr(),mi=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};mi.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this};mi.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()};mi.prototype.calci=function(){for(var t=0;t<4;t++){this.sig.i=t;var e;try{e=this.toPublicKey()}catch(r){console.error(r);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")};mi.fromString=function(t){var e=JSON.parse(t);return new mi(e)};mi.prototype.randomK=function(){var t=Au.getN(),e;do e=Ta.fromBuffer(F_e.getRandomBuffer(32));while(!(e.lt(t)&&e.gt(Ta.Zero)));return this.k=e,this};mi.prototype.deterministicK=function(t){H_e.isUndefined(t)&&(t=0);var e=A.Buffer.alloc(32);e.fill(1);var r=A.Buffer.alloc(32);r.fill(0);var n=this.privkey.bn.toBuffer({size:32}),i=this.endian==="little"?bP.reverse(this.hashbuf):this.hashbuf;r=Td.sha256hmac(A.Buffer.concat([e,A.Buffer.from([0]),n,i]),r),e=Td.sha256hmac(e,r),r=Td.sha256hmac(A.Buffer.concat([e,A.Buffer.from([1]),n,i]),r),e=Td.sha256hmac(e,r),e=Td.sha256hmac(e,r);for(var s=Ta.fromBuffer(e),o=Au.getN(),a=0;a<t||!(s.lt(o)&&s.gt(Ta.Zero));a++)r=Td.sha256hmac(A.Buffer.concat([e,A.Buffer.from([0])]),r),e=Td.sha256hmac(e,r),e=Td.sha256hmac(e,r),s=Ta.fromBuffer(e);return this.k=s,this};mi.prototype.toPublicKey=function(){var t=this.sig.i;gP.checkArgument(t===0||t===1||t===2||t===3,new Error("i must be equal to 0, 1, 2, or 3"));var e=Ta.fromBuffer(this.hashbuf),r=this.sig.r,n=this.sig.s,i=t&1,s=t>>1,o=Au.getN(),a=Au.getG(),u=s?r.add(o):r,c=Au.fromX(i,u),h=c.mul(o);if(!h.isInfinity())throw new Error("nR is not a valid curve point");var f=e.neg().umod(o),p=r.invm(o),l=c.mul(n).add(a.mul(f)).mul(p),y=N_e.fromPoint(l,this.sig.compressed);return y};mi.prototype.sigError=function(){if(!bP.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(Ta.Zero)&&t.lt(Au.getN()))||!(e.gt(Ta.Zero)&&e.lt(Au.getN())))return"r and s not in range";var r=Ta.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),n=Au.getN(),i=e.invm(n),s=i.mul(r).umod(n),o=i.mul(t).umod(n),a=Au.getG().mulAdd(s,this.pubkey.point,o);return a.isInfinity()?"p is infinity":a.getX().umod(n).cmp(t)!==0?"Invalid signature":!1};mi.toLowS=function(t){return t.gt(Ta.fromBuffer(A.Buffer.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=Au.getN().sub(t)),t};mi.prototype._findSignature=function(t,e){var r=Au.getN(),n=Au.getG(),i=0,s,o,a,u;do(!this.k||i>0)&&this.deterministicK(i),i++,s=this.k,o=n.mul(s),a=o.x.umod(r),u=s.invm(r).mul(e.add(t.mul(a))).umod(r);while(a.cmp(Ta.Zero)<=0||u.cmp(Ta.Zero)<=0);return u=mi.toLowS(u),{s:u,r:a}};mi.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;gP.checkState(t&&e&&r,new Error("invalid parameters")),gP.checkState(bP.isBuffer(t)&&t.length===32,new Error("hashbuf must be a 32 byte buffer"));var n=Ta.fromBuffer(t,this.endian?{endian:this.endian}:void 0),i=this._findSignature(r,n);return i.compressed=this.pubkey.compressed,this.sig=new R_e(i),this};mi.prototype.signRandomK=function(){return this.randomK(),this.sign()};mi.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)};mi.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this};mi.sign=function(t,e,r){return mi().set({hashbuf:t,endian:r,privkey:e}).sign().sig};mi.verify=function(t,e,r,n){return mi().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified};mY.exports=mi});var vY=$((Oct,yY)=>{k();M();var gY=ls(),bY=gc(),D_e=fs(),Oc=function t(e){if(!(this instanceof t))return new t(e);if(A.Buffer.isBuffer(e))this.buf=e;else if(typeof e=="number"){var r=e;this.fromNumber(r)}else if(e instanceof D_e){var n=e;this.fromBN(n)}else if(e){var i=e;this.set(i)}};Oc.prototype.set=function(t){return this.buf=t.buf||this.buf,this};Oc.prototype.fromString=function(t){return this.set({buf:A.Buffer.from(t,"hex")}),this};Oc.prototype.toString=function(){return this.buf.toString("hex")};Oc.prototype.fromBuffer=function(t){return this.buf=t,this};Oc.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this};Oc.prototype.fromBN=function(t){return this.buf=gY().writeVarintBN(t).concat(),this};Oc.prototype.fromNumber=function(t){return this.buf=gY().writeVarintNum(t).concat(),this};Oc.prototype.toBuffer=function(){return this.buf};Oc.prototype.toBN=function(){return bY(this.buf).readVarintBN()};Oc.prototype.toNumber=function(){return bY(this.buf).readVarintNum()};yY.exports=Oc});var bm=$((Mct,SY)=>{k();M();var L8=wr(),gm=fs(),f2=Pn(),U8=gc(),L_e=ls(),U_e=Ni(),kct=ci(),_Y=Tr(),q_e=486604799,Sr=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,r.hash&&_Y.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};Sr._from=function(e){var r={};if(f2.isBuffer(e))r=Sr._fromBufferReader(U8(e));else if(L8.isObject(e))r=Sr._fromObject(e);else throw new TypeError("Unrecognized argument for BlockHeader");return r};Sr._fromObject=function(e){_Y.checkArgument(e,"data is required");var r=e.prevHash,n=e.merkleRoot;L8.isString(e.prevHash)&&(r=f2.reverse(A.Buffer.from(e.prevHash,"hex"))),L8.isString(e.merkleRoot)&&(n=f2.reverse(A.Buffer.from(e.merkleRoot,"hex")));var i={hash:e.hash,version:e.version,prevHash:r,merkleRoot:n,time:e.time,timestamp:e.time,bits:e.bits,nonce:e.nonce};return i};Sr.fromObject=function(e){var r=Sr._fromObject(e);return new Sr(r)};Sr.fromRawBlock=function(e){f2.isBuffer(e)||(e=A.Buffer.from(e,"binary"));var r=U8(e);r.pos=Sr.Constants.START_OF_HEADER;var n=Sr._fromBufferReader(r);return new Sr(n)};Sr.fromBuffer=function(e){var r=Sr._fromBufferReader(U8(e));return new Sr(r)};Sr.fromString=function(e){var r=A.Buffer.from(e,"hex");return Sr.fromBuffer(r)};Sr._fromBufferReader=function(e){var r={};return r.version=e.readInt32LE(),r.prevHash=e.read(32),r.merkleRoot=e.read(32),r.time=e.readUInt32LE(),r.bits=e.readUInt32LE(),r.nonce=e.readUInt32LE(),r};Sr.fromBufferReader=function(e){var r=Sr._fromBufferReader(e);return new Sr(r)};Sr.prototype.toObject=Sr.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:f2.reverse(this.prevHash).toString("hex"),merkleRoot:f2.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}};Sr.prototype.toBuffer=function(){return this.toBufferWriter().concat()};Sr.prototype.toString=function(){return this.toBuffer().toString("hex")};Sr.prototype.toBufferWriter=function(e){return e||(e=new L_e),e.writeInt32LE(this.version),e.write(this.prevHash),e.write(this.merkleRoot),e.writeUInt32LE(this.time),e.writeUInt32LE(this.bits),e.writeUInt32LE(this.nonce),e};Sr.prototype.getTargetDifficulty=function(e){e=e||this.bits;for(var r=new gm(e&16777215),n=8*((e>>>24)-3);n-- >0;)r=r.mul(new gm(2));return r};Sr.prototype.getDifficulty=function(){var e=this.getTargetDifficulty(q_e).mul(new gm(Math.pow(10,8))),r=this.getTargetDifficulty(),n=e.div(r).toString(10),i=n.length-8;return n=n.slice(0,i)+"."+n.slice(i),parseFloat(n)};Sr.prototype._getHash=function(){var e=this.toBuffer();return U_e.sha256sha256(e)};var xY={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=U8(this._getHash()).readReverse().toString("hex")),this._id},set:L8.noop};Object.defineProperty(Sr.prototype,"id",xY);Object.defineProperty(Sr.prototype,"hash",xY);Sr.prototype.validTimestamp=function(){var e=Math.round(new Date().getTime()/1e3);return!(this.time>e+Sr.Constants.MAX_TIME_OFFSET)};Sr.prototype.validProofOfWork=function(){var e=new gm(this.id,"hex"),r=this.getTargetDifficulty();return!(e.cmp(r)>0)};Sr.prototype.inspect=function(){return"<BlockHeader "+this.id+">"};Sr.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:2*60*60,LARGEST_HASH:new gm("10000000000000000000000000000000000000000000000000000000000000000","hex")};SY.exports=Sr});var OY=$((Fct,PY)=>{k();M();var vP=wr(),EY=bm(),wY=fs(),TY=Pn(),_P=gc(),$_e=ls(),j_e=Ni(),yP=dm(),AY=Tr();function gr(t){return this instanceof gr?(vP.extend(this,gr._from(t)),this):new gr(t)}gr.MAX_BLOCK_SIZE=1e6;gr._from=function(e){var r={};if(TY.isBuffer(e))r=gr._fromBufferReader(_P(e));else if(vP.isObject(e))r=gr._fromObject(e);else throw new TypeError("Unrecognized argument for Block");return r};gr._fromObject=function(e){var r=[];e.transactions.forEach(function(i){i instanceof yP?r.push(i):r.push(yP().fromObject(i))});var n={header:EY.fromObject(e.header),transactions:r};return n};gr.fromObject=function(e){var r=gr._fromObject(e);return new gr(r)};gr._fromBufferReader=function(e){var r={};AY.checkState(!e.finished(),"No block data received"),r.header=EY.fromBufferReader(e);var n=e.readVarintNum();r.transactions=[];for(var i=0;i<n;i++)r.transactions.push(yP().fromBufferReader(e));return r};gr.fromBufferReader=function(e){AY.checkArgument(e,"br is required");var r=gr._fromBufferReader(e);return new gr(r)};gr.fromBuffer=function(e){return gr.fromBufferReader(new _P(e))};gr.fromString=function(e){var r=A.Buffer.from(e,"hex");return gr.fromBuffer(r)};gr.fromRawBlock=function(e){TY.isBuffer(e)||(e=A.Buffer.from(e,"binary"));var r=_P(e);r.pos=gr.Values.START_OF_BLOCK;var n=gr._fromBufferReader(r);return new gr(n)};gr.prototype.toObject=gr.prototype.toJSON=function(){var e=[];return this.transactions.forEach(function(r){e.push(r.toObject())}),{header:this.header.toObject(),transactions:e}};gr.prototype.toBuffer=function(){return this.toBufferWriter().concat()};gr.prototype.toString=function(){return this.toBuffer().toString("hex")};gr.prototype.toBufferWriter=function(e){e||(e=new $_e),e.write(this.header.toBuffer()),e.writeVarintNum(this.transactions.length);for(var r=0;r<this.transactions.length;r++)this.transactions[r].toBufferWriter(e);return e};gr.prototype.getTransactionHashes=function(){var e=[];if(this.transactions.length===0)return[gr.Values.NULL_HASH];for(var r=0;r<this.transactions.length;r++)e.push(this.transactions[r]._getHash());return e};gr.prototype.getMerkleTree=function(){for(var e=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var s=Math.min(i+1,n-1),o=A.Buffer.concat([e[r+i],e[r+s]]);e.push(j_e.sha256sha256(o))}r+=n}return e};gr.prototype.getMerkleRoot=function(){var e=this.getMerkleTree();return e[e.length-1]};gr.prototype.validMerkleRoot=function(){var e=new wY(this.header.merkleRoot.toString("hex"),"hex"),r=new wY(this.getMerkleRoot().toString("hex"),"hex");return e.cmp(r)===0};gr.prototype._getHash=function(){return this.header._getHash()};var IY={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:vP.noop};Object.defineProperty(gr.prototype,"id",IY);Object.defineProperty(gr.prototype,"hash",IY);gr.prototype.inspect=function(){return"<Block "+this.id+">"};gr.Values={START_OF_BLOCK:8,NULL_HASH:A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex")};PY.exports=gr});var EP=$((Uct,kY)=>{k();M();var O1=wr(),SP=bm(),wP=Pn(),CY=gc(),K_e=ls(),V_e=Ni(),Lct=ci(),BY=dm(),xP=wa(),B1=Tr();function oi(t){if(!(this instanceof oi))return new oi(t);var e={};if(wP.isBuffer(t))e=oi._fromBufferReader(CY(t));else if(O1.isObject(t)){var r;t.header instanceof SP?r=t.header:r=SP.fromObject(t.header),e={header:r,numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return O1.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}oi.fromBuffer=function(e){return oi.fromBufferReader(CY(e))};oi.fromBufferReader=function(e){return new oi(oi._fromBufferReader(e))};oi.prototype.toBuffer=function(){return this.toBufferWriter().concat()};oi.prototype.toBufferWriter=function(e){e||(e=new K_e),e.write(this.header.toBuffer()),e.writeUInt32LE(this.numTransactions),e.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)e.write(A.Buffer.from(this.hashes[r],"hex"));for(e.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)e.writeUInt8(this.flags[r]);return e};oi.prototype.toObject=oi.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}};oi.prototype.validMerkleTree=function(){if(B1.checkState(O1.isArray(this.flags),"MerkleBlock flags is not an array"),B1.checkState(O1.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r);return r.hashesUsed!==this.hashes.length?!1:wP.equals(n,this.header.merkleRoot)};oi.prototype.filterdTxsHash=function(){if(B1.checkState(O1.isArray(this.flags),"MerkleBlock flags is not an array"),B1.checkState(O1.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new xP.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new xP.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r,!0);if(r.hashesUsed!==this.hashes.length)throw new xP.MerkleBlock.InvalidMerkleTree;return n};oi.prototype._traverseMerkleTree=function(e,r,n,s){n=n||{},n.txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0;var s=s||!1;if(n.flagBitsUsed>this.flags.length*8)return null;var o=this.flags[n.flagBitsUsed>>3]>>>(n.flagBitsUsed++&7)&1;if(e===0||!o){if(n.hashesUsed>=this.hashes.length)return null;var a=this.hashes[n.hashesUsed++];return e===0&&o&&n.txs.push(a),A.Buffer.from(a,"hex")}else{var u=this._traverseMerkleTree(e-1,r*2,n),c=u;return r*2+1<this._calcTreeWidth(e-1)&&(c=this._traverseMerkleTree(e-1,r*2+1,n)),s?n.txs:V_e.sha256sha256(new A.Buffer.concat([u,c]))}};oi.prototype._calcTreeWidth=function(e){return this.numTransactions+(1<<e)-1>>e};oi.prototype._calcTreeHeight=function(){for(var e=0;this._calcTreeWidth(e)>1;)e++;return e};oi.prototype.hasTransaction=function(e){B1.checkArgument(!O1.isUndefined(e),"tx cannot be undefined"),B1.checkArgument(e instanceof BY||typeof e=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var r=e;e instanceof BY&&(r=wP.reverse(A.Buffer.from(e.id,"hex")).toString("hex"));var n=[],i=this._calcTreeHeight();return this._traverseMerkleTree(i,0,{txs:n}),n.indexOf(r)!==-1};oi._fromBufferReader=function(e){B1.checkState(!e.finished(),"No merkleblock data received");var r={};r.header=SP.fromBufferReader(e),r.numTransactions=e.readUInt32LE();var n=e.readVarintNum();r.hashes=[];for(var i=0;i<n;i++)r.hashes.push(e.read(32).toString("hex"));var s=e.readVarintNum();for(r.flags=[],i=0;i<s;i++)r.flags.push(e.readUInt8());return r};oi.fromObject=function(e){return new oi(e)};kY.exports=oi});var MY=$((jct,q8)=>{k();M();q8.exports=OY();q8.exports.BlockHeader=bm();q8.exports.MerkleBlock=EP()});var AP=$((Gct,UY)=>{k();M();var Fi=wr(),NY=Tr(),FY=fs(),G_e=im(),$8=X5(),HY=Ni(),j8=IP(),C1=gd(),TP=dd(),DY=Tc(),LY=wa(),ym=LY,Bc=LY.HDPublicKey,K8=tc(),RY=ci(),Yr=Pn();function Ee(t){if(t instanceof Ee)return t;if(!(this instanceof Ee))return new Ee(t);if(t)if(Fi.isString(t)||Yr.isBuffer(t)){var e=Ee.getSerializedError(t);if(e){if(Yr.isBuffer(t)&&!Ee.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof Bc.ArgumentIsPrivateExtended)return new j8(t).hdPublicKey;throw e}else return this._buildFromSerialized(t)}else{if(Fi.isObject(t))return t instanceof j8?this._buildFromPrivate(t):this._buildFromObject(t);throw new Bc.UnrecognizedArgument(t)}else throw new Bc.MustSupplyArgument}Ee.isValidPath=function(t){if(Fi.isString(t)){var e=j8._getDerivationIndexes(t);return e!==null&&Fi.every(e,Ee.isValidPath)}return Fi.isNumber(t)?t>=0&&t<Ee.Hardened:!1};Ee.prototype.derive=function(t,e){return this.deriveChild(t,e)};Ee.prototype.deriveChild=function(t,e){if(Fi.isNumber(t))return this._deriveWithNumber(t,e);if(Fi.isString(t))return this._deriveFromString(t);throw new Bc.InvalidDerivationArgument(t)};Ee.prototype._deriveWithNumber=function(t,e){if(t>=Ee.Hardened||e)throw new Bc.InvalidIndexCantDeriveHardened;if(t<0)throw new Bc.InvalidPath(t);var r=Yr.integerAsBuffer(t),n=Yr.concat([this.publicKey.toBuffer(),r]),i=HY.sha512hmac(n,this._buffers.chainCode),s=FY.fromBuffer(i.slice(0,32),{size:32}),o=i.slice(32,64),a;try{a=DY.fromPoint(TP.getG().mul(s).add(this.publicKey.point))}catch{return this._deriveWithNumber(t+1)}var u=new Ee({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:o,publicKey:a});return u};Ee.prototype._deriveFromString=function(t){if(Fi.includes(t,"'"))throw new Bc.InvalidIndexCantDeriveHardened;if(!Ee.isValidPath(t))throw new Bc.InvalidPath(t);var e=j8._getDerivationIndexes(t),r=e.reduce(function(n,i){return n._deriveWithNumber(i)},this);return r};Ee.isValidSerialized=function(t,e){return Fi.isNull(Ee.getSerializedError(t,e))};Ee.getSerializedError=function(t,e){if(!(Fi.isString(t)||Yr.isBuffer(t)))return new Bc.UnrecognizedArgument("expected buffer or string");if(!G_e.validCharacters(t))return new ym.InvalidB58Char("(unknown)",t);try{t=$8.decode(t)}catch{return new ym.InvalidB58Checksum(t)}if(t.length!==Ee.DataSize)return new Bc.InvalidLength(t);if(!Fi.isUndefined(e)){var r=Ee._validateNetwork(t,e);if(r)return r}var n=Yr.integerFromBuffer(t.slice(0,4));return n===C1.livenet.xprivkey||n===C1.testnet.xprivkey?new Bc.ArgumentIsPrivateExtended:null};Ee._validateNetwork=function(t,e){var r=C1.get(e);if(!r)return new ym.InvalidNetworkArgument(e);var n=t.slice(Ee.VersionStart,Ee.VersionEnd);return Yr.integerFromBuffer(n)!==r.xpubkey?new ym.InvalidNetwork(n):null};Ee.prototype._buildFromPrivate=function(t){var e=Fi.clone(t._buffers),r=TP.getG().mul(FY.fromBuffer(e.privateKey));return e.publicKey=TP.pointToCompressed(r),e.version=Yr.integerAsBuffer(C1.get(Yr.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)};Ee.prototype._buildFromObject=function(t){var e={version:t.network?Yr.integerAsBuffer(C1.get(t.network).xpubkey):t.version,depth:Fi.isNumber(t.depth)?Yr.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:Fi.isNumber(t.parentFingerPrint)?Yr.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:Fi.isNumber(t.childIndex)?Yr.integerAsBuffer(t.childIndex):t.childIndex,chainCode:Fi.isString(t.chainCode)?A.Buffer.from(t.chainCode,"hex"):t.chainCode,publicKey:Fi.isString(t.publicKey)?A.Buffer.from(t.publicKey,"hex"):Yr.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:Fi.isNumber(t.checksum)?Yr.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(e)};Ee.prototype._buildFromSerialized=function(t){var e=$8.decode(t),r={version:e.slice(Ee.VersionStart,Ee.VersionEnd),depth:e.slice(Ee.DepthStart,Ee.DepthEnd),parentFingerPrint:e.slice(Ee.ParentFingerPrintStart,Ee.ParentFingerPrintEnd),childIndex:e.slice(Ee.ChildIndexStart,Ee.ChildIndexEnd),chainCode:e.slice(Ee.ChainCodeStart,Ee.ChainCodeEnd),publicKey:e.slice(Ee.PublicKeyStart,Ee.PublicKeyEnd),checksum:e.slice(Ee.ChecksumStart,Ee.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)};Ee.prototype._buildFromBuffers=function(t){Ee._validateBufferArguments(t),RY.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],r=Yr.concat(e),n=$8.checksum(r);if(!t.checksum||!t.checksum.length)t.checksum=n;else if(t.checksum.toString("hex")!==n.toString("hex"))throw new ym.InvalidB58Checksum(r,n);var i=C1.get(Yr.integerFromBuffer(t.version)),s;s=$8.encode(Yr.concat(e)),t.xpubkey=A.Buffer.from(s);var o=new DY(t.publicKey,{network:i}),a=Ee.ParentFingerPrintSize,u=HY.sha256ripemd160(o.toBuffer()).slice(0,a);return RY.defineImmutable(this,{xpubkey:s,network:i,depth:Yr.integerFromSingleByteBuffer(t.depth),publicKey:o,fingerPrint:u}),this};Ee._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];K8(Yr.isBuffer(i),r+" argument is not a buffer, it's "+typeof i),K8(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",Ee.VersionSize),e("depth",Ee.DepthSize),e("parentFingerPrint",Ee.ParentFingerPrintSize),e("childIndex",Ee.ChildIndexSize),e("chainCode",Ee.ChainCodeSize),e("publicKey",Ee.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",Ee.CheckSumSize)};Ee.fromString=function(t){return NY.checkArgument(Fi.isString(t),"No valid string was provided"),new Ee(t)};Ee.fromObject=function(t){return NY.checkArgument(Fi.isObject(t),"No valid argument was provided"),new Ee(t)};Ee.prototype.toString=function(){return this.xpubkey};Ee.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"};Ee.prototype.toObject=Ee.prototype.toJSON=function(){return{network:C1.get(Yr.integerFromBuffer(this._buffers.version)).name,depth:Yr.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:Yr.integerFromBuffer(this.fingerPrint),parentFingerPrint:Yr.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:Yr.integerFromBuffer(this._buffers.childIndex),chainCode:Yr.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:Yr.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}};Ee.fromBuffer=function(t){return new Ee(t)};Ee.prototype.toBuffer=function(){return Yr.copy(this._buffers.xpubkey)};Ee.Hardened=2147483648;Ee.RootElementAlias=["m","M"];Ee.VersionSize=4;Ee.DepthSize=1;Ee.ParentFingerPrintSize=4;Ee.ChildIndexSize=4;Ee.ChainCodeSize=32;Ee.PublicKeySize=33;Ee.CheckSumSize=4;Ee.DataSize=78;Ee.SerializedByteSize=82;Ee.VersionStart=0;Ee.VersionEnd=Ee.VersionStart+Ee.VersionSize;Ee.DepthStart=Ee.VersionEnd;Ee.DepthEnd=Ee.DepthStart+Ee.DepthSize;Ee.ParentFingerPrintStart=Ee.DepthEnd;Ee.ParentFingerPrintEnd=Ee.ParentFingerPrintStart+Ee.ParentFingerPrintSize;Ee.ChildIndexStart=Ee.ParentFingerPrintEnd;Ee.ChildIndexEnd=Ee.ChildIndexStart+Ee.ChildIndexSize;Ee.ChainCodeStart=Ee.ChildIndexEnd;Ee.ChainCodeEnd=Ee.ChainCodeStart+Ee.ChainCodeSize;Ee.PublicKeyStart=Ee.ChainCodeEnd;Ee.PublicKeyEnd=Ee.PublicKeyStart+Ee.PublicKeySize;Ee.ChecksumStart=Ee.PublicKeyEnd;Ee.ChecksumEnd=Ee.ChecksumStart+Ee.CheckSumSize;K8(Ee.PublicKeyEnd===Ee.DataSize);K8(Ee.ChecksumEnd===Ee.SerializedByteSize);UY.exports=Ee});var IP=$((Yct,GY)=>{k();M();var V8=tc(),qY=ai(),gi=wr(),jY=Tr(),KY=fs(),z_e=im(),vm=X5(),PP=Ni(),k1=gd(),W_e=dd(),VY=vd(),Y_e=mm(),h2=wa(),F0=h2.HDPrivateKey,On=Pn(),_m=ci(),X_e=128,$Y=1/8,Z_e=512;function be(t){if(t instanceof be)return t;if(!(this instanceof be))return new be(t);if(!t)return this._generateRandomly();if(k1.get(t))return this._generateRandomly(t);if(gi.isString(t)||On.isBuffer(t))if(be.isValidSerialized(t))this._buildFromSerialized(t);else if(_m.isValidJSON(t))this._buildFromJSON(t);else if(On.isBuffer(t)&&be.isValidSerialized(t.toString()))this._buildFromSerialized(t.toString());else throw be.getSerializedError(t);else if(gi.isObject(t))this._buildFromObject(t);else throw new F0.UnrecognizedArgument(t)}be.isValidPath=function(t,e){if(gi.isString(t)){var r=be._getDerivationIndexes(t);return r!==null&&gi.every(r,be.isValidPath)}return gi.isNumber(t)?(t<be.Hardened&&e===!0&&(t+=be.Hardened),t>=0&&t<be.MaxIndex):!1};be._getDerivationIndexes=function(t){var e=t.split("/");if(gi.includes(be.RootElementAlias,t))return[];if(!gi.includes(be.RootElementAlias,e[0]))return null;var r=e.slice(1).map(function(n){var i=n.slice(-1)==="'";if(i&&(n=n.slice(0,-1)),!n||n[0]==="-")return NaN;var s=+n;return i&&(s+=be.Hardened),s});return gi.some(r,isNaN)?null:r};be.prototype.derive=function(t,e){return this.deriveNonCompliantChild(t,e)};be.prototype.deriveChild=function(t,e){if(gi.isNumber(t))return this._deriveWithNumber(t,e);if(gi.isString(t))return this._deriveFromString(t);throw new F0.InvalidDerivationArgument(t)};be.prototype.deriveNonCompliantChild=function(t,e){if(gi.isNumber(t))return this._deriveWithNumber(t,e,!0);if(gi.isString(t))return this._deriveFromString(t,!0);throw new F0.InvalidDerivationArgument(t)};be.prototype._deriveWithNumber=function(t,e,r){if(!be.isValidPath(t,e))throw new F0.InvalidPath(t);e=t>=be.Hardened?!0:e,t<be.Hardened&&e===!0&&(t+=be.Hardened);var n=On.integerAsBuffer(t),i;if(e&&r){var s=this.privateKey.bn.toBuffer();i=On.concat([A.Buffer.from([0]),s,n])}else if(e){var o=this.privateKey.bn.toBuffer({size:32});V8(o.length===32,"length of private key buffer is expected to be 32 bytes"),i=On.concat([A.Buffer.from([0]),o,n])}else i=On.concat([this.publicKey.toBuffer(),n]);var a=PP.sha512hmac(i,this._buffers.chainCode),u=KY.fromBuffer(a.slice(0,32),{size:32}),c=a.slice(32,64),h=u.add(this.privateKey.toBigNumber()).umod(W_e.getN()).toBuffer({size:32});if(!VY.isValid(h))return this._deriveWithNumber(t+1,null,r);var f=new be({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,privateKey:h});return f};be.prototype._deriveFromString=function(t,e){if(!be.isValidPath(t))throw new F0.InvalidPath(t);var r=be._getDerivationIndexes(t),n=r.reduce(function(i,s){return i._deriveWithNumber(s,null,e)},this);return n};be.isValidSerialized=function(t,e){return!be.getSerializedError(t,e)};be.getSerializedError=function(t,e){if(!(gi.isString(t)||On.isBuffer(t)))return new F0.UnrecognizedArgument("Expected string or buffer");if(!z_e.validCharacters(t))return new h2.InvalidB58Char("(unknown)",t);try{t=vm.decode(t)}catch{return new h2.InvalidB58Checksum(t)}if(t.length!==be.DataLength)return new F0.InvalidLength(t);if(!gi.isUndefined(e)){var r=be._validateNetwork(t,e);if(r)return r}return null};be._validateNetwork=function(t,e){var r=k1.get(e);if(!r)return new h2.InvalidNetworkArgument(e);var n=t.slice(0,4);return On.integerFromBuffer(n)!==r.xprivkey?new h2.InvalidNetwork(n):null};be.fromString=function(t){return jY.checkArgument(gi.isString(t),"No valid string was provided"),new be(t)};be.fromObject=function(t){return jY.checkArgument(gi.isObject(t),"No valid argument was provided"),new be(t)};be.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))};be.prototype._buildFromObject=function(t){var e={version:t.network?On.integerAsBuffer(k1.get(t.network).xprivkey):t.version,depth:gi.isNumber(t.depth)?On.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:gi.isNumber(t.parentFingerPrint)?On.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:gi.isNumber(t.childIndex)?On.integerAsBuffer(t.childIndex):t.childIndex,chainCode:gi.isString(t.chainCode)?A.Buffer.from(t.chainCode,"hex"):t.chainCode,privateKey:gi.isString(t.privateKey)&&_m.isHexa(t.privateKey)?A.Buffer.from(t.privateKey,"hex"):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:On.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(e)};be.prototype._buildFromSerialized=function(t){var e=vm.decode(t),r={version:e.slice(be.VersionStart,be.VersionEnd),depth:e.slice(be.DepthStart,be.DepthEnd),parentFingerPrint:e.slice(be.ParentFingerPrintStart,be.ParentFingerPrintEnd),childIndex:e.slice(be.ChildIndexStart,be.ChildIndexEnd),chainCode:e.slice(be.ChainCodeStart,be.ChainCodeEnd),privateKey:e.slice(be.PrivateKeyStart,be.PrivateKeyEnd),checksum:e.slice(be.ChecksumStart,be.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)};be.prototype._generateRandomly=function(t){return be.fromSeed(Y_e.getRandomBuffer(64),t)};be.fromSeed=function(t,e){if(_m.isHexaString(t)&&(t=A.Buffer.from(t,"hex")),!A.Buffer.isBuffer(t))throw new F0.InvalidEntropyArgument(t);if(t.length<X_e*$Y)throw new F0.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>Z_e*$Y)throw new F0.InvalidEntropyArgument.TooMuchEntropy(t);var r=PP.sha512hmac(t,A.Buffer.from("Bitcoin seed"));return new be({network:k1.get(e)||k1.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:r.slice(0,32),chainCode:r.slice(32,64)})};be.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=AP();this._hdPublicKey=new t(this)}};be.prototype._buildFromBuffers=function(t){be._validateBufferArguments(t),_m.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,On.emptyBuffer(1),t.privateKey],r=qY.Buffer.concat(e);if(!t.checksum||!t.checksum.length)t.checksum=vm.checksum(r);else if(t.checksum.toString()!==vm.checksum(r).toString())throw new h2.InvalidB58Checksum(r);var n=k1.get(On.integerFromBuffer(t.version)),i;i=vm.encode(qY.Buffer.concat(e)),t.xprivkey=A.Buffer.from(i);var s=new VY(KY.fromBuffer(t.privateKey),n),o=s.toPublicKey(),a=be.ParentFingerPrintSize,u=PP.sha256ripemd160(o.toBuffer()).slice(0,a);return _m.defineImmutable(this,{xprivkey:i,network:n,depth:On.integerFromSingleByteBuffer(t.depth),privateKey:s,publicKey:o,fingerPrint:u}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this};be._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];V8(On.isBuffer(i),r+" argument is not a buffer"),V8(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",be.VersionSize),e("depth",be.DepthSize),e("parentFingerPrint",be.ParentFingerPrintSize),e("childIndex",be.ChildIndexSize),e("chainCode",be.ChainCodeSize),e("privateKey",be.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",be.CheckSumSize)};be.prototype.toString=function(){return this.xprivkey};be.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"};be.prototype.toObject=be.prototype.toJSON=function(){return{network:k1.get(On.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:On.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:On.integerFromBuffer(this.fingerPrint),parentFingerPrint:On.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:On.integerFromBuffer(this._buffers.childIndex),chainCode:On.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:On.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}};be.fromBuffer=function(t){return new be(t.toString())};be.prototype.toBuffer=function(){return On.copy(this._buffers.xprivkey)};be.DefaultDepth=0;be.DefaultFingerprint=0;be.DefaultChildIndex=0;be.Hardened=2147483648;be.MaxIndex=2*be.Hardened;be.RootElementAlias=["m","M","m'","M'"];be.VersionSize=4;be.DepthSize=1;be.ParentFingerPrintSize=4;be.ChildIndexSize=4;be.ChainCodeSize=32;be.PrivateKeySize=32;be.CheckSumSize=4;be.DataLength=78;be.SerializedByteSize=82;be.VersionStart=0;be.VersionEnd=be.VersionStart+be.VersionSize;be.DepthStart=be.VersionEnd;be.DepthEnd=be.DepthStart+be.DepthSize;be.ParentFingerPrintStart=be.DepthEnd;be.ParentFingerPrintEnd=be.ParentFingerPrintStart+be.ParentFingerPrintSize;be.ChildIndexStart=be.ParentFingerPrintEnd;be.ChildIndexEnd=be.ChildIndexStart+be.ChildIndexSize;be.ChainCodeStart=be.ChildIndexEnd;be.ChainCodeEnd=be.ChainCodeStart+be.ChainCodeSize;be.PrivateKeyStart=be.ChainCodeEnd+1;be.PrivateKeyEnd=be.PrivateKeyStart+be.PrivateKeySize;be.ChecksumStart=be.PrivateKeyEnd;be.ChecksumEnd=be.ChecksumStart+be.CheckSumSize;V8(be.ChecksumEnd===be.SerializedByteSize);GY.exports=be});var YY=$((Qct,WY)=>{k();M();var xm=wr(),J_e=vd(),Q_e=Tc(),G8=Ec(),zY=ls(),z8=om(),OP=Qs(),exe=Ni().sha256sha256,txe=ci(),Ad=Tr();function Hi(t){return this instanceof Hi?(Ad.checkArgument(xm.isString(t),"First argument should be a string"),this.message=t,this):new Hi(t)}Hi.MAGIC_BYTES=A.Buffer.from(`Bitcoin Signed Message:
`);Hi.prototype.magicHash=function(){var e=zY.varintBufNum(Hi.MAGIC_BYTES.length),r=A.Buffer.from(this.message),n=zY.varintBufNum(r.length),i=A.Buffer.concat([e,Hi.MAGIC_BYTES,n,r]),s=exe(i);return s};Hi.prototype._sign=function(e){Ad.checkArgument(e instanceof J_e,"First argument should be an instance of PrivateKey");var r=this.magicHash(),n=new z8;return n.hashbuf=r,n.privkey=e,n.pubkey=e.toPublicKey(),n.signRandomK(),n.calci(),n.sig};Hi.prototype.sign=function(e){var r=this._sign(e);return r.toCompact().toString("base64")};Hi.prototype._verify=function(e,r){Ad.checkArgument(e instanceof Q_e,"First argument should be an instance of PublicKey"),Ad.checkArgument(r instanceof OP,"Second argument should be an instance of Signature");var n=this.magicHash(),i=z8.verify(n,r,e);return i||(this.error="The signature was invalid"),i};Hi.prototype.verify=function(e,r){Ad.checkArgument(e),Ad.checkArgument(r&&xm.isString(r)),xm.isString(e)&&(e=G8.fromString(e));var n=OP.fromCompact(A.Buffer.from(r,"base64")),i=new z8;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),o=G8.fromPublicKey(s,e.network);return e.toString()!==o.toString()?(this.error="The signature did not match the message digest",!1):this._verify(s,n)};Hi.prototype.recoverPublicKey=function(e,r){Ad.checkArgument(e),Ad.checkArgument(r&&xm.isString(r)),xm.isString(e)&&(e=G8.fromString(e));var n=OP.fromCompact(A.Buffer.from(r,"base64")),i=new z8;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),o=G8.fromPublicKey(s,e.network);return e.toString()!==o.toString()&&(this.error="The signature did not match the message digest"),s.toString()};Hi.fromString=function(t){return new Hi(t)};Hi.fromJSON=function(e){return txe.isValidJSON(e)&&(e=JSON.parse(e)),new Hi(e.message)};Hi.prototype.toObject=function(){return{message:this.message}};Hi.prototype.toJSON=function(){return JSON.stringify(this.toObject())};Hi.prototype.toString=function(){return this.message};Hi.prototype.inspect=function(){return"<Message: "+this.toString()+">"};WY.exports=Hi;var Jct=oa()});var tX=$((r0t,eX)=>{k();M();var ZY=wr(),JY=tk(),XY=Ec(),QY=O8(),bi=function(t,e){if(!(this instanceof bi))return new bi(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,typeof t=="string"){var r=bi.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else if(typeof t=="object")this._fromObject(t);else throw new TypeError("Unrecognized data format.")};bi.fromString=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return new bi(e)};bi.fromObject=function(e){return new bi(e)};bi.isValid=function(t,e){try{new bi(t,e)}catch{return!1}return!0};bi.parse=function(t){var e=JY.parse(t,!0);if(e.protocol!=="bitcoin:")throw new TypeError("Invalid bitcoin URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query};bi.Members=["address","amount","message","label","r"];bi.prototype._fromObject=function(t){if(!XY.isValid(t.address))throw new TypeError("Invalid bitcoin address");this.address=new XY(t.address),this.network=this.address.network,this.amount=t.amount;for(var e in t)if(!(e==="address"||e==="amount")){if(/^req-/.exec(e)&&this.knownParams.indexOf(e)===-1)throw Error("Unknown required argument "+e);var r=bi.Members.indexOf(e)>-1?this:this.extras;r[e]=t[e]}};bi.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return QY.fromBTC(t).toSatoshis()};bi.prototype.toObject=bi.prototype.toJSON=function(){for(var e={},r=0;r<bi.Members.length;r++){var n=bi.Members[r];this.hasOwnProperty(n)&&typeof this[n]<"u"&&(e[n]=this[n].toString())}return ZY.extend(e,this.extras),e};bi.prototype.toString=function(){var t={};return this.amount&&(t.amount=QY.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),ZY.extend(t,this.extras),JY.format({protocol:"bitcoin:",host:this.address,query:t})};bi.prototype.inspect=function(){return"<URI: "+this.toString()+">"};eX.exports=bi});var nX=$((s0t,rX)=>{k();M();var Bt=rX.exports;Bt.version="v"+Az().version;Bt.versionGuard=function(t){if(t!==void 0){var e="More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.";throw new Error(e)}};Bt.versionGuard(globalThis._bitcore);globalThis._bitcore=Bt.version;Bt.crypto={};Bt.crypto.BN=fs();Bt.crypto.ECDSA=om();Bt.crypto.Schnorr=HI();Bt.crypto.Hash=Ni();Bt.crypto.Random=mm();Bt.crypto.Point=dd();Bt.crypto.Signature=Qs();Bt.crypto.TaggedHash=Kf();Bt.encoding={};Bt.encoding.Base58=im();Bt.encoding.Base58Check=X5();Bt.encoding.BufferReader=gc();Bt.encoding.BufferWriter=ls();Bt.encoding.Varint=vY();Bt.util={};Bt.util.buffer=Pn();Bt.util.js=ci();Bt.util.preconditions=Tr();Bt.errors=wa();Bt.Address=Ec();Bt.Block=MY();Bt.MerkleBlock=EP();Bt.BlockHeader=bm();Bt.HDPrivateKey=IP();Bt.HDPublicKey=AP();Bt.Message=YY();Bt.Networks=gd();Bt.Opcode=m8();Bt.PrivateKey=vd();Bt.PublicKey=Tc();Bt.Script=oa();Bt.Transaction=dm();Bt.URI=tX();Bt.Unit=O8();Bt.deps={};Bt.deps.bnjs=HA();Bt.deps.bs58=OI();Bt.deps.Buffer=A.Buffer;Bt.deps.elliptic=j_();Bt.deps._=wr();Bt.Transaction.sighash=Gf()});var l2=$(BP=>{k();M();Object.defineProperty(BP,"__esModule",{value:!0});BP.btc=nX()});var CP=$(Y8=>{k();M();Object.defineProperty(Y8,"__esModule",{value:!0});Y8.ProtocolState=void 0;var W8=xr(),rxe=In(),nxe=l2(),H0=(0,W8.toByteString)(""),th=class{constructor(e,r){this.stateHashList=e,this.dataList=r}get hashRoot(){let e="";for(let r=0;r<this.stateHashList.length;r++)e+=(0,W8.hash160)(this.stateHashList[r]);return(0,W8.hash160)(e)}get stateScript(){return new nxe.btc.Script(rxe.TxUtil.getStateScript(this.hashRoot))}static toStateHashList(e){let r=[H0,H0,H0,H0,H0];for(let n=0;n<e.length;n++){let i=e[n];i&&(r[n]=(0,W8.hash160)(i))}return r}static fromDataList(e){return new th(th.toStateHashList(e),e)}static fromStateHashList(e){return new th(e)}static getEmptyState(){let e=[H0,H0,H0,H0,H0];return th.fromDataList(e)}updateDataList(e,r){this.dataList[e]=r,this.stateHashList=th.toStateHashList(this.dataList)}};Y8.ProtocolState=th});var iX=$((p0t,ixe)=>{ixe.exports={name:"bigi",version:"1.4.2",description:"Big integers.",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},repository:{url:"https://github.com/cryptocoinjs/bigi",type:"git"},main:"./lib/index.js",scripts:{"browser-test":"./node_modules/.bin/mochify --wd -R spec",test:"./node_modules/.bin/_mocha -- test/*.js",jshint:"./node_modules/.bin/jshint --config jshint.json lib/*.js ; true",unit:"./node_modules/.bin/mocha",coverage:"./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info"},dependencies:{},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]}}});var RP=$((m0t,fX)=>{k();M();function Ue(t,e,r){if(!(this instanceof Ue))return new Ue(t,e,r);t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}var De=Ue.prototype;De.__bigi=iX().version;Ue.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===De.__bigi)};var d2;function sxe(t,e,r,n,i,s){for(;--s>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=o&67108863}return i}Ue.prototype.am=sxe;d2=26;Ue.prototype.DB=d2;Ue.prototype.DM=(1<<d2)-1;var oxe=Ue.prototype.DV=1<<d2,kP=52;Ue.prototype.FV=Math.pow(2,kP);Ue.prototype.F1=kP-d2;Ue.prototype.F2=2*d2-kP;var axe="0123456789abcdefghijklmnopqrstuvwxyz",X8=new Array,p2,Iu;p2="0".charCodeAt(0);for(Iu=0;Iu<=9;++Iu)X8[p2++]=Iu;p2="a".charCodeAt(0);for(Iu=10;Iu<36;++Iu)X8[p2++]=Iu;p2="A".charCodeAt(0);for(Iu=10;Iu<36;++Iu)X8[p2++]=Iu;function sX(t){return axe.charAt(t)}function oX(t,e){var r=X8[t.charCodeAt(e)];return r??-1}function uxe(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function cxe(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+oxe:this.t=0}function rh(t){var e=new Ue;return e.fromInt(t),e}function fxe(t,e){var r=this,n;if(e==16)n=4;else if(e==8)n=3;else if(e==256)n=8;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else{r.fromRadix(t,e);return}r.t=0,r.s=0;for(var i=t.length,s=!1,o=0;--i>=0;){var a=n==8?t[i]&255:oX(t,i);if(a<0){t.charAt(i)=="-"&&(s=!0);continue}s=!1,o==0?r[r.t++]=a:o+n>r.DB?(r[r.t-1]|=(a&(1<<r.DB-o)-1)<<o,r[r.t++]=a>>r.DB-o):r[r.t-1]|=a<<o,o+=n,o>=r.DB&&(o-=r.DB)}n==8&&(t[0]&128)!=0&&(r.s=-1,o>0&&(r[r.t-1]|=(1<<r.DB-o)-1<<o)),r.clamp(),s&&Ue.ZERO.subTo(r,r)}function hxe(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function lxe(t){var e=this;if(e.s<0)return"-"+e.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else return e.toRadix(t);var n=(1<<r)-1,i,s=!1,o="",a=e.t,u=e.DB-a*e.DB%r;if(a-- >0)for(u<e.DB&&(i=e[a]>>u)>0&&(s=!0,o=sX(i));a>=0;)u<r?(i=(e[a]&(1<<u)-1)<<r-u,i|=e[--a]>>(u+=e.DB-r)):(i=e[a]>>(u-=r)&n,u<=0&&(u+=e.DB,--a)),i>0&&(s=!0),s&&(o+=sX(i));return s?o:"0"}function dxe(){var t=new Ue;return Ue.ZERO.subTo(this,t),t}function pxe(){return this.s<0?this.negate():this}function mxe(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function Z8(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function gxe(){return this.t<=0?0:this.DB*(this.t-1)+Z8(this[this.t-1]^this.s&this.DM)}function bxe(){return this.bitLength()>>3}function yxe(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function vxe(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function _xe(t,e){var r=this,n=t%r.DB,i=r.DB-n,s=(1<<i)-1,o=Math.floor(t/r.DB),a=r.s<<n&r.DM,u;for(u=r.t-1;u>=0;--u)e[u+o+1]=r[u]>>i|a,a=(r[u]&s)<<n;for(u=o-1;u>=0;--u)e[u]=0;e[o]=a,e.t=r.t+o+1,e.s=r.s,e.clamp()}function xxe(t,e){var r=this;e.s=r.s;var n=Math.floor(t/r.DB);if(n>=r.t){e.t=0;return}var i=t%r.DB,s=r.DB-i,o=(1<<i)-1;e[0]=r[n]>>i;for(var a=n+1;a<r.t;++a)e[a-n-1]|=(r[a]&o)<<s,e[a-n]=r[a]>>i;i>0&&(e[r.t-n-1]|=(r.s&o)<<s),e.t=r.t-n,e.clamp()}function Sxe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]-t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i-=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i-=t[n],e[n++]=i&r.DM,i>>=r.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=r.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function wxe(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&Ue.ZERO.subTo(e,e)}function Exe(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function Txe(t,e,r){var n=this,i=t.abs();if(!(i.t<=0)){var s=n.abs();if(s.t<i.t){e?.fromInt(0),r!=null&&n.copyTo(r);return}r==null&&(r=new Ue);var o=new Ue,a=n.s,u=t.s,c=n.DB-Z8(i[i.t-1]);c>0?(i.lShiftTo(c,o),s.lShiftTo(c,r)):(i.copyTo(o),s.copyTo(r));var h=o.t,f=o[h-1];if(f!=0){var p=f*(1<<n.F1)+(h>1?o[h-2]>>n.F2:0),l=n.FV/p,y=(1<<n.F1)/p,_=1<<n.F2,O=r.t,F=O-h,B=e??new Ue;for(o.dlShiftTo(F,B),r.compareTo(B)>=0&&(r[r.t++]=1,r.subTo(B,r)),Ue.ONE.dlShiftTo(h,B),B.subTo(o,o);o.t<h;)o[o.t++]=0;for(;--F>=0;){var E=r[--O]==f?n.DM:Math.floor(r[O]*l+(r[O-1]+_)*y);if((r[O]+=o.am(0,E,r,F,0,h))<E)for(o.dlShiftTo(F,B),r.subTo(B,r);r[O]<--E;)r.subTo(B,r)}e!=null&&(r.drShiftTo(h,e),a!=u&&Ue.ZERO.subTo(e,e)),r.t=h,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Ue.ZERO.subTo(r,r)}}}function Axe(t){var e=new Ue;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(Ue.ZERO)>0&&t.subTo(e,e),e}function M1(t){this.m=t}function Ixe(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Pxe(t){return t}function Oxe(t){t.divRemTo(this.m,null,t)}function Bxe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Cxe(t,e){t.squareTo(e),this.reduce(e)}M1.prototype.convert=Ixe;M1.prototype.revert=Pxe;M1.prototype.reduce=Oxe;M1.prototype.mulTo=Bxe;M1.prototype.sqrTo=Cxe;function kxe(){if(this.t<1)return 0;var t=this[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function R1(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Mxe(t){var e=new Ue;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(Ue.ZERO)>0&&this.m.subTo(e,e),e}function Rxe(t){var e=new Ue;return t.copyTo(e),this.reduce(e),e}function Nxe(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Fxe(t,e){t.squareTo(e),this.reduce(e)}function Hxe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}R1.prototype.convert=Mxe;R1.prototype.revert=Rxe;R1.prototype.reduce=Nxe;R1.prototype.mulTo=Hxe;R1.prototype.sqrTo=Fxe;function Dxe(){return(this.t>0?this[0]&1:this.s)==0}function Lxe(t,e){if(t>4294967295||t<1)return Ue.ONE;var r=new Ue,n=new Ue,i=e.convert(this),s=Z8(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function Uxe(t,e){var r;return t<256||e.isEven()?r=new M1(e):r=new R1(e),this.exp(t,r)}De.copyTo=uxe;De.fromInt=cxe;De.fromString=fxe;De.clamp=hxe;De.dlShiftTo=yxe;De.drShiftTo=vxe;De.lShiftTo=_xe;De.rShiftTo=xxe;De.subTo=Sxe;De.multiplyTo=wxe;De.squareTo=Exe;De.divRemTo=Txe;De.invDigit=kxe;De.isEven=Dxe;De.exp=Lxe;De.toString=lxe;De.negate=dxe;De.abs=pxe;De.compareTo=mxe;De.bitLength=gxe;De.byteLength=bxe;De.mod=Axe;De.modPowInt=Uxe;function qxe(){var t=new Ue;return this.copyTo(t),t}function $xe(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function jxe(){return this.t==0?this.s:this[0]<<24>>24}function Kxe(){return this.t==0?this.s:this[0]<<16>>16}function Vxe(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Gxe(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function zxe(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=rh(r),i=new Ue,s=new Ue,o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function Wxe(t,e){var r=this;r.fromInt(0),e==null&&(e=10);for(var n=r.chunkSize(e),i=Math.pow(e,n),s=!1,o=0,a=0,u=0;u<t.length;++u){var c=oX(t,u);if(c<0){t.charAt(u)=="-"&&r.signum()==0&&(s=!0);continue}a=e*a+c,++o>=n&&(r.dMultiply(i),r.dAddOffset(a,0),o=0,a=0)}o>0&&(r.dMultiply(Math.pow(e,o)),r.dAddOffset(a,0)),s&&Ue.ZERO.subTo(r,r)}function Yxe(t,e,r){var n=this;if(typeof e=="number")if(t<2)n.fromInt(1);else for(n.fromNumber(t,r),n.testBit(t-1)||n.bitwiseTo(Ue.ONE.shiftLeft(t-1),MP,n),n.isEven()&&n.dAddOffset(1,0);!n.isProbablePrime(e);)n.dAddOffset(2,0),n.bitLength()>t&&n.subTo(Ue.ONE.shiftLeft(t-1),n);else{var i=new Array,s=t&7;i.length=(t>>3)+1,e.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,n.fromString(i,256)}}function Xxe(){var t=this,e=t.t,r=new Array;r[0]=t.s;var n=t.DB-e*t.DB%8,i,s=0;if(e-- >0)for(n<t.DB&&(i=t[e]>>n)!=(t.s&t.DM)>>n&&(r[s++]=i|t.s<<t.DB-n);e>=0;)n<8?(i=(t[e]&(1<<n)-1)<<8-n,i|=t[--e]>>(n+=t.DB-8)):(i=t[e]>>(n-=8)&255,n<=0&&(n+=t.DB,--e)),(i&128)!=0&&(i|=-256),s===0&&(t.s&128)!=(i&128)&&++s,(s>0||i!=t.s)&&(r[s++]=i);return r}function Zxe(t){return this.compareTo(t)==0}function Jxe(t){return this.compareTo(t)<0?this:t}function Qxe(t){return this.compareTo(t)>0?this:t}function eSe(t,e,r){var n=this,i,s,o=Math.min(t.t,n.t);for(i=0;i<o;++i)r[i]=e(n[i],t[i]);if(t.t<n.t){for(s=t.s&n.DM,i=o;i<n.t;++i)r[i]=e(n[i],s);r.t=n.t}else{for(s=n.s&n.DM,i=o;i<t.t;++i)r[i]=e(s,t[i]);r.t=t.t}r.s=e(n.s,t.s),r.clamp()}function tSe(t,e){return t&e}function rSe(t){var e=new Ue;return this.bitwiseTo(t,tSe,e),e}function MP(t,e){return t|e}function nSe(t){var e=new Ue;return this.bitwiseTo(t,MP,e),e}function aX(t,e){return t^e}function iSe(t){var e=new Ue;return this.bitwiseTo(t,aX,e),e}function uX(t,e){return t&~e}function sSe(t){var e=new Ue;return this.bitwiseTo(t,uX,e),e}function oSe(){for(var t=new Ue,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function aSe(t){var e=new Ue;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function uSe(t){var e=new Ue;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function cSe(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function fSe(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+cSe(this[t]);return this.s<0?this.t*this.DB:-1}function hSe(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function lSe(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=hSe(this[r]^e);return t}function dSe(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function pSe(t,e){var r=Ue.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function mSe(t){return this.changeBit(t,MP)}function gSe(t){return this.changeBit(t,uX)}function bSe(t){return this.changeBit(t,aX)}function ySe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]+t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i+=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i+=t[n],e[n++]=i&r.DM,i>>=r.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=r.DV+i),e.t=n,e.clamp()}function vSe(t){var e=new Ue;return this.addTo(t,e),e}function _Se(t){var e=new Ue;return this.subTo(t,e),e}function xSe(t){var e=new Ue;return this.multiplyTo(t,e),e}function SSe(){var t=new Ue;return this.squareTo(t),t}function wSe(t){var e=new Ue;return this.divRemTo(t,e,null),e}function ESe(t){var e=new Ue;return this.divRemTo(t,null,e),e}function TSe(t){var e=new Ue,r=new Ue;return this.divRemTo(t,e,r),new Array(e,r)}function ASe(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function ISe(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Sm(){}function cX(t){return t}function PSe(t,e,r){t.multiplyTo(e,r)}function OSe(t,e){t.squareTo(e)}Sm.prototype.convert=cX;Sm.prototype.revert=cX;Sm.prototype.mulTo=PSe;Sm.prototype.sqrTo=OSe;function BSe(t){return this.exp(t,new Sm)}function CSe(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function kSe(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function m2(t){this.r2=new Ue,this.q3=new Ue,Ue.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function MSe(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new Ue;return t.copyTo(e),this.reduce(e),e}function RSe(t){return t}function NSe(t){var e=this;for(t.drShiftTo(e.m.t-1,e.r2),t.t>e.m.t+1&&(t.t=e.m.t+1,t.clamp()),e.mu.multiplyUpperTo(e.r2,e.m.t+1,e.q3),e.m.multiplyLowerTo(e.q3,e.m.t+1,e.r2);t.compareTo(e.r2)<0;)t.dAddOffset(1,e.m.t+1);for(t.subTo(e.r2,t);t.compareTo(e.m)>=0;)t.subTo(e.m,t)}function FSe(t,e){t.squareTo(e),this.reduce(e)}function HSe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}m2.prototype.convert=MSe;m2.prototype.revert=RSe;m2.prototype.reduce=NSe;m2.prototype.mulTo=HSe;m2.prototype.sqrTo=FSe;function DSe(t,e){var r=t.bitLength(),n,i=rh(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new M1(e):e.isEven()?s=new m2(e):s=new R1(e);var o=new Array,a=3,u=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var h=new Ue;for(s.sqrTo(o[1],h);a<=c;)o[a]=new Ue,s.mulTo(h,o[a-2],o[a]),a+=2}var f=t.t-1,p,l=!0,y=new Ue,_;for(r=Z8(t[f])-1;f>=0;){for(r>=u?p=t[f]>>r-u&c:(p=(t[f]&(1<<r+1)-1)<<u-r,f>0&&(p|=t[f-1]>>this.DB+r-u)),a=n;(p&1)==0;)p>>=1,--a;if((r-=a)<0&&(r+=this.DB,--f),l)o[p].copyTo(i),l=!1;else{for(;a>1;)s.sqrTo(i,y),s.sqrTo(y,i),a-=2;a>0?s.sqrTo(i,y):(_=i,i=y,y=_),s.mulTo(y,o[p],i)}for(;f>=0&&(t[f]&1<<r)==0;)s.sqrTo(i,y),_=i,i=y,y=_,--r<0&&(r=this.DB-1,--f)}return s.revert(i)}function LSe(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function USe(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function qSe(t){var e=t.isEven();if(this.signum()===0)throw new Error("division by zero");if(this.isEven()&&e||t.signum()==0)return Ue.ZERO;for(var r=t.clone(),n=this.clone(),i=rh(1),s=rh(0),o=rh(0),a=rh(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(Ue.ONE)!=0)return Ue.ZERO;for(;a.compareTo(t)>=0;)a.subTo(t,a);for(;a.signum()<0;)a.addTo(t,a);return a}var So=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$Se=(1<<26)/So[So.length-1];function jSe(t){var e,r=this.abs();if(r.t==1&&r[0]<=So[So.length-1]){for(e=0;e<So.length;++e)if(r[0]==So[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<So.length;){for(var n=So[e],i=e+1;i<So.length&&n<$Se;)n*=So[i++];for(n=r.modInt(n);e<i;)if(n%So[e++]==0)return!1}return r.millerRabin(t)}function KSe(t){var e=this.subtract(Ue.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);t=t+1>>1,t>So.length&&(t=So.length);for(var i=new Ue(null),s,o=[],a=0;a<t;++a){for(;s=So[Math.floor(Math.random()*So.length)],o.indexOf(s)!=-1;);o.push(s),i.fromInt(s);var u=i.modPow(n,this);if(u.compareTo(Ue.ONE)!=0&&u.compareTo(e)!=0){for(var s=1;s++<r&&u.compareTo(e)!=0;)if(u=u.modPowInt(2,this),u.compareTo(Ue.ONE)==0)return!1;if(u.compareTo(e)!=0)return!1}}return!0}De.chunkSize=Vxe;De.toRadix=zxe;De.fromRadix=Wxe;De.fromNumber=Yxe;De.bitwiseTo=eSe;De.changeBit=pSe;De.addTo=ySe;De.dMultiply=ASe;De.dAddOffset=ISe;De.multiplyLowerTo=CSe;De.multiplyUpperTo=kSe;De.modInt=USe;De.millerRabin=KSe;De.clone=qxe;De.intValue=$xe;De.byteValue=jxe;De.shortValue=Kxe;De.signum=Gxe;De.toByteArray=Xxe;De.equals=Zxe;De.min=Jxe;De.max=Qxe;De.and=rSe;De.or=nSe;De.xor=iSe;De.andNot=sSe;De.not=oSe;De.shiftLeft=aSe;De.shiftRight=uSe;De.getLowestSetBit=fSe;De.bitCount=lSe;De.testBit=dSe;De.setBit=mSe;De.clearBit=gSe;De.flipBit=bSe;De.add=vSe;De.subtract=_Se;De.multiply=xSe;De.divide=wSe;De.remainder=ESe;De.divideAndRemainder=TSe;De.modPow=DSe;De.modInverse=qSe;De.pow=BSe;De.gcd=LSe;De.isProbablePrime=jSe;De.square=SSe;Ue.ZERO=rh(0);Ue.ONE=rh(1);Ue.valueOf=rh;fX.exports=Ue});var lX=$(()=>{k();M();var hX=tc(),to=RP();to.fromByteArrayUnsigned=function(t){return t[0]&128?new to([0].concat(t)):new to(t)};to.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return t[0]===0?t.slice(1):t};to.fromDERInteger=function(t){return new to(t)};to.prototype.toDERInteger=to.prototype.toByteArray;to.fromBuffer=function(t){if(t[0]&128){var e=Array.prototype.slice.call(t);return new to([0].concat(e))}return new to(t)};to.fromHex=function(t){return t===""?to.ZERO:(hX.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),hX.equal(t.length%2,0,"Incomplete hex"),new to(t,16))};to.prototype.toBuffer=function(t){for(var e=this.toByteArrayUnsigned(),r=[],n=t-e.length;r.length<n;)r.push(0);return new A.Buffer(r.concat(e))};to.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")}});var wm=$((S0t,dX)=>{k();M();var VSe=RP();lX();dX.exports=VSe});var FP=$((T0t,pX)=>{k();M();var J8=tc(),NP=q_().Buffer,Q8=wm(),ev=Q8.valueOf(3);function Yi(t,e,r,n){J8.notStrictEqual(n,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(Yi.prototype,"zInv",{get:function(){return this._zInv===null&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}});Object.defineProperty(Yi.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}});Object.defineProperty(Yi.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}});Yi.fromAffine=function(t,e,r){return new Yi(t,e,r,Q8.ONE)};Yi.prototype.equals=function(t){if(t===this)return!0;if(this.curve.isInfinity(this))return this.curve.isInfinity(t);if(this.curve.isInfinity(t))return this.curve.isInfinity(this);var e=t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p);if(e.signum()!==0)return!1;var r=t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p);return r.signum()===0};Yi.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new Yi(this.curve,this.x,t,this.z)};Yi.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y,s=i.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(o.signum()===0)return s.signum()===0?this.twice():this.curve.infinity;var a=o.square(),u=a.multiply(o),c=e.multiply(a),h=s.square().multiply(this.z),f=h.subtract(c.shiftLeft(1)).multiply(t.z).subtract(u).multiply(o).mod(this.curve.p),p=c.multiply(ev).multiply(s).subtract(r.multiply(u)).subtract(h.multiply(s)).multiply(t.z).add(s.multiply(u)).mod(this.curve.p),l=u.multiply(this.z).multiply(t.z).mod(this.curve.p);return new Yi(this.curve,f,p,l)};Yi.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(this.y.signum()===0)return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,s=t.square().multiply(ev);i.signum()!==0&&(s=s.add(this.z.square().multiply(i))),s=s.mod(this.curve.p);var o=s.square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),a=s.multiply(ev).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(s.pow(3)).mod(this.curve.p),u=r.pow(3).shiftLeft(3).mod(this.curve.p);return new Yi(this.curve,o,a,u)};Yi.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(t.signum()===0)return this.curve.infinity;for(var e=t,r=e.multiply(ev),n=this.negate(),i=this,s=r.bitLength()-2;s>0;--s){var o=r.testBit(s),a=e.testBit(s);i=i.twice(),o!==a&&(i=i.add(o?this:n))}return i};Yi.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,s=this.add(e);n>=0;){var o=t.testBit(n),a=r.testBit(n);i=i.twice(),o?a?i=i.add(s):i=i.add(this):a&&(i=i.add(e)),--n}return i};Yi.prototype.getEncoded=function(t){if(t==null&&(t=this.compressed),this.curve.isInfinity(this))return NP.alloc(1,0);var e=this.affineX,r=this.affineY,n=this.curve.pLength,i;return t?(i=NP.allocUnsafe(1+n),i.writeUInt8(r.isEven()?2:3,0)):(i=NP.allocUnsafe(1+n+n),i.writeUInt8(4,0),r.toBuffer(n).copy(i,1+n)),e.toBuffer(n).copy(i,1),i};Yi.decodeFrom=function(t,e){var r=e.readUInt8(0),n=r!==4,i=Math.floor((t.p.bitLength()+7)/8),s=Q8.fromBuffer(e.slice(1,1+i)),o;if(n){J8.equal(e.length,i+1,"Invalid sequence length"),J8(r===2||r===3,"Invalid sequence tag");var a=r===3;o=t.pointFromX(a,s)}else{J8.equal(e.length,1+i+i,"Invalid sequence length");var u=Q8.fromBuffer(e.slice(1+i));o=Yi.fromAffine(t,s,u)}return o.compressed=n,o};Yi.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};pX.exports=Yi});var LP=$((P0t,gX)=>{k();M();var HP=tc(),mX=wm(),DP=FP();function Em(t,e,r,n,i,s,o){this.p=t,this.a=e,this.b=r,this.G=DP.fromAffine(this,n,i),this.n=s,this.h=o,this.infinity=new DP(this,null,null,mX.ZERO),this.pOverFour=t.add(mX.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}Em.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p),n=r.modPow(this.pOverFour,this.p),i=n;return n.isEven()^!t&&(i=this.p.subtract(i)),DP.fromAffine(this,e,i)};Em.prototype.isInfinity=function(t){return t===this.infinity?!0:t.z.signum()===0&&t.y.signum()!==0};Em.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,s=this.p;if(e.signum()<0||e.compareTo(s)>=0||r.signum()<0||r.compareTo(s)>=0)return!1;var o=r.square().mod(s),a=e.pow(3).add(n.multiply(e)).add(i).mod(s);return o.equals(a)};Em.prototype.validate=function(t){HP(!this.isInfinity(t),"Point is at infinity"),HP(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return HP(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};gX.exports=Em});var bX=$((C0t,GSe)=>{GSe.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}});var vX=$((k0t,yX)=>{k();M();var N1=wm(),zSe=bX(),WSe=LP();function YSe(t){var e=zSe[t];if(!e)return null;var r=new N1(e.p,16),n=new N1(e.a,16),i=new N1(e.b,16),s=new N1(e.n,16),o=new N1(e.h,16),a=new N1(e.Gx,16),u=new N1(e.Gy,16);return new WSe(r,n,i,a,u,s,o)}yX.exports=YSe});var xX=$((N0t,_X)=>{k();M();var XSe=FP(),ZSe=LP(),JSe=vX();_X.exports={Curve:ZSe,Point:XSe,getCurveByName:JSe}});var SX=$((D0t,tv)=>{k();M();(function(){"use strict";var t="input is invalid type",e=typeof window=="object",r=e?window:{};r.JS_SHA256_NO_WINDOW&&(e=!1);var n=!e&&typeof self=="object",i=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;i?r=globalThis:n&&(r=self);var s=!r.JS_SHA256_NO_COMMON_JS&&typeof tv=="object"&&tv.exports,o=typeof define=="function"&&define.amd,a=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],h=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=["hex","array","digest","arrayBuffer"],l=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(N){return Object.prototype.toString.call(N)==="[object Array]"}),a&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(N){return typeof N=="object"&&N.buffer&&N.buffer.constructor===ArrayBuffer});var y=function(N,H){return function(D){return new E(H,!0).update(D)[N]()}},_=function(N){var H=y("hex",N);i&&(H=O(H,N)),H.create=function(){return new E(N)},H.update=function(d){return H.create().update(d)};for(var D=0;D<p.length;++D){var C=p[D];H[C]=y(C,N)}return H},O=function(N,H){var D=H?"sha224":"sha256",C=function(d){if(typeof d=="string")return crypto.createHash(D).update(d,"utf8").digest("hex");if(d==null)throw new Error(t);return d.constructor===ArrayBuffer&&(d=new Uint8Array(d)),Array.isArray(d)||ArrayBuffer.isView(d)||d.constructor===A.Buffer?crypto.createHash(D).update(new A.Buffer(d)).digest("hex"):N(d)};return C},F=function(N,H){return function(D,C){return new I(D,H,!0).update(C)[N]()}},B=function(N){var H=F("hex",N);H.create=function(d){return new I(d,N)},H.update=function(d,v){return H.create(d).update(v)};for(var D=0;D<p.length;++D){var C=p[D];H[C]=F(C,N)}return H};function E(N,H){H?(l[0]=l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0,this.blocks=l):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=N}E.prototype.update=function(N){if(!this.finalized){var H,D=typeof N;if(D!=="string"){if(D==="object"){if(N===null)throw new Error(t);if(a&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!a||!ArrayBuffer.isView(N)))throw new Error(t)}else throw new Error(t);H=!0}for(var C,d=0,v,g=N.length,m=this.blocks;d<g;){if(this.hashed&&(this.hashed=!1,m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),H)for(v=this.start;d<g&&v<64;++d)m[v>>2]|=N[d]<<h[v++&3];else for(v=this.start;d<g&&v<64;++d)C=N.charCodeAt(d),C<128?m[v>>2]|=C<<h[v++&3]:C<2048?(m[v>>2]|=(192|C>>6)<<h[v++&3],m[v>>2]|=(128|C&63)<<h[v++&3]):C<55296||C>=57344?(m[v>>2]|=(224|C>>12)<<h[v++&3],m[v>>2]|=(128|C>>6&63)<<h[v++&3],m[v>>2]|=(128|C&63)<<h[v++&3]):(C=65536+((C&1023)<<10|N.charCodeAt(++d)&1023),m[v>>2]|=(240|C>>18)<<h[v++&3],m[v>>2]|=(128|C>>12&63)<<h[v++&3],m[v>>2]|=(128|C>>6&63)<<h[v++&3],m[v>>2]|=(128|C&63)<<h[v++&3]);this.lastByteIndex=v,this.bytes+=v-this.start,v>=64?(this.block=m[16],this.start=v-64,this.hash(),this.hashed=!0):this.start=v}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var N=this.blocks,H=this.lastByteIndex;N[16]=this.block,N[H>>2]|=c[H&3],this.block=N[16],H>=56&&(this.hashed||this.hash(),N[0]=this.block,N[16]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=N[10]=N[11]=N[12]=N[13]=N[14]=N[15]=0),N[14]=this.hBytes<<3|this.bytes>>>29,N[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var N=this.h0,H=this.h1,D=this.h2,C=this.h3,d=this.h4,v=this.h5,g=this.h6,m=this.h7,S=this.blocks,w,R,T,b,x,P,U,K,z,Q,oe;for(w=16;w<64;++w)x=S[w-15],R=(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3,x=S[w-2],T=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10,S[w]=S[w-16]+R+S[w-7]+T<<0;for(oe=H&D,w=0;w<64;w+=4)this.first?(this.is224?(K=300032,x=S[0]-1413257819,m=x-150054599<<0,C=x+24177077<<0):(K=704751109,x=S[0]-210244248,m=x-1521486534<<0,C=x+143694565<<0),this.first=!1):(R=(N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10),T=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),K=N&H,b=K^N&D^oe,U=d&v^~d&g,x=m+T+U+f[w]+S[w],P=R+b,m=C+x<<0,C=x+P<<0),R=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),T=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),z=C&N,b=z^C&H^K,U=m&d^~m&v,x=g+T+U+f[w+1]+S[w+1],P=R+b,g=D+x<<0,D=x+P<<0,R=(D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10),T=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),Q=D&C,b=Q^D&N^z,U=g&m^~g&d,x=v+T+U+f[w+2]+S[w+2],P=R+b,v=H+x<<0,H=x+P<<0,R=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),T=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),oe=H&D,b=oe^H&C^Q,U=v&g^~v&m,x=d+T+U+f[w+3]+S[w+3],P=R+b,d=N+x<<0,N=x+P<<0;this.h0=this.h0+N<<0,this.h1=this.h1+H<<0,this.h2=this.h2+D<<0,this.h3=this.h3+C<<0,this.h4=this.h4+d<<0,this.h5=this.h5+v<<0,this.h6=this.h6+g<<0,this.h7=this.h7+m<<0},E.prototype.hex=function(){this.finalize();var N=this.h0,H=this.h1,D=this.h2,C=this.h3,d=this.h4,v=this.h5,g=this.h6,m=this.h7,S=u[N>>28&15]+u[N>>24&15]+u[N>>20&15]+u[N>>16&15]+u[N>>12&15]+u[N>>8&15]+u[N>>4&15]+u[N&15]+u[H>>28&15]+u[H>>24&15]+u[H>>20&15]+u[H>>16&15]+u[H>>12&15]+u[H>>8&15]+u[H>>4&15]+u[H&15]+u[D>>28&15]+u[D>>24&15]+u[D>>20&15]+u[D>>16&15]+u[D>>12&15]+u[D>>8&15]+u[D>>4&15]+u[D&15]+u[C>>28&15]+u[C>>24&15]+u[C>>20&15]+u[C>>16&15]+u[C>>12&15]+u[C>>8&15]+u[C>>4&15]+u[C&15]+u[d>>28&15]+u[d>>24&15]+u[d>>20&15]+u[d>>16&15]+u[d>>12&15]+u[d>>8&15]+u[d>>4&15]+u[d&15]+u[v>>28&15]+u[v>>24&15]+u[v>>20&15]+u[v>>16&15]+u[v>>12&15]+u[v>>8&15]+u[v>>4&15]+u[v&15]+u[g>>28&15]+u[g>>24&15]+u[g>>20&15]+u[g>>16&15]+u[g>>12&15]+u[g>>8&15]+u[g>>4&15]+u[g&15];return this.is224||(S+=u[m>>28&15]+u[m>>24&15]+u[m>>20&15]+u[m>>16&15]+u[m>>12&15]+u[m>>8&15]+u[m>>4&15]+u[m&15]),S},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var N=this.h0,H=this.h1,D=this.h2,C=this.h3,d=this.h4,v=this.h5,g=this.h6,m=this.h7,S=[N>>24&255,N>>16&255,N>>8&255,N&255,H>>24&255,H>>16&255,H>>8&255,H&255,D>>24&255,D>>16&255,D>>8&255,D&255,C>>24&255,C>>16&255,C>>8&255,C&255,d>>24&255,d>>16&255,d>>8&255,d&255,v>>24&255,v>>16&255,v>>8&255,v&255,g>>24&255,g>>16&255,g>>8&255,g&255];return this.is224||S.push(m>>24&255,m>>16&255,m>>8&255,m&255),S},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var N=new ArrayBuffer(this.is224?28:32),H=new DataView(N);return H.setUint32(0,this.h0),H.setUint32(4,this.h1),H.setUint32(8,this.h2),H.setUint32(12,this.h3),H.setUint32(16,this.h4),H.setUint32(20,this.h5),H.setUint32(24,this.h6),this.is224||H.setUint32(28,this.h7),N};function I(N,H,D){var C,d=typeof N;if(d==="string"){var v=[],g=N.length,m=0,S;for(C=0;C<g;++C)S=N.charCodeAt(C),S<128?v[m++]=S:S<2048?(v[m++]=192|S>>6,v[m++]=128|S&63):S<55296||S>=57344?(v[m++]=224|S>>12,v[m++]=128|S>>6&63,v[m++]=128|S&63):(S=65536+((S&1023)<<10|N.charCodeAt(++C)&1023),v[m++]=240|S>>18,v[m++]=128|S>>12&63,v[m++]=128|S>>6&63,v[m++]=128|S&63);N=v}else if(d==="object"){if(N===null)throw new Error(t);if(a&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!a||!ArrayBuffer.isView(N)))throw new Error(t)}else throw new Error(t);N.length>64&&(N=new E(H,!0).update(N).array());var w=[],R=[];for(C=0;C<64;++C){var T=N[C]||0;w[C]=92^T,R[C]=54^T}E.call(this,H,D),this.update(R),this.oKeyPad=w,this.inner=!0,this.sharedMemory=D}I.prototype=new E,I.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var N=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(N),E.prototype.finalize.call(this)}};var L=_();L.sha256=L,L.sha224=_(!0),L.sha256.hmac=B(),L.sha224.hmac=B(!0),s?tv.exports=L:(r.sha256=L.sha256,r.sha224=L.sha224,o&&define(function(){return L}))})()});var VP=$(Ct=>{k();M();var QSe=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ewe=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),twe=Ct&&Ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QSe(e,t,r);return ewe(e,t),e},rwe=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.getTxCtxMulti=Ct.getSHPreimageMulti=Ct.toTxOutpoint=Ct.getTxCtx=Ct.getSHPreimage=Ct.callToBufferList=Ct.checkDisableOpCode=Ct.getOutpointString=Ct.getOutpointObj=Ct.getSpentScripts=Ct.getPrevoutsIndex=Ct.getPrevouts=Ct.toSHPreimageObj=Ct.splitSighashPreimage=Ct.getE=Ct.getSigHashSchnorr=void 0;var nwe=twe(xX()),iwe=SX(),swe=rwe(wm()),UP=K9(),wo=xr(),Tm=l2(),wX=nwe.getCurveByName("secp256k1");function EX(t){return A.Buffer.from(iwe.sha256.create().update(t).array())}function qP(t,e,r=0,n=0){let i={annexPresent:!1,annexInit:!0,tapleafHash:e,tapleafHashInit:!0,codeseparatorPos:new Tm.btc.crypto.BN(4294967295),codeseparatorPosInit:!0};return{preimage:Tm.btc.Transaction.SighashSchnorr.sighashPreimage(t,n,r,3,i),hash:Tm.btc.Transaction.SighashSchnorr.sighash(t,n,r,3,i)}}Ct.getSigHashSchnorr=qP;function $P(t){let e=wX.G.affineX.toBuffer(32),r=EX("BIP0340/challenge"),n=A.Buffer.concat([e,e,t]),i=EX(A.Buffer.concat([r,r,n]));return swe.default.fromBuffer(i).mod(wX.n)}Ct.getE=$P;function jP(t){return{tapSighash1:t.subarray(0,32),tapSighash2:t.subarray(32,64),epoch:t.subarray(64,65),sighashType:t.subarray(65,66),txVersion:t.subarray(66,70),nLockTime:t.subarray(70,74),hashPrevouts:t.subarray(74,106),hashSpentAmounts:t.subarray(106,138),hashScripts:t.subarray(138,170),hashSequences:t.subarray(170,202),hashOutputs:t.subarray(202,234),spendType:t.subarray(234,235),inputNumber:t.subarray(235,239),tapleafHash:t.subarray(239,271),keyVersion:t.subarray(271,272),codeseparatorPosition:t.subarray(272)}}Ct.splitSighashPreimage=jP;function KP(t,e,r){return{txVer:(0,wo.toHex)(t.txVersion),nLockTime:(0,wo.toHex)(t.nLockTime),hashPrevouts:(0,wo.toHex)(t.hashPrevouts),hashSpentAmounts:(0,wo.toHex)(t.hashSpentAmounts),hashSpentScripts:(0,wo.toHex)(t.hashScripts),hashSequences:(0,wo.toHex)(t.hashSequences),hashOutputs:(0,wo.toHex)(t.hashOutputs),spendType:(0,wo.toHex)(t.spendType),inputIndex:(0,wo.toHex)(t.inputNumber),hashTapLeaf:(0,wo.toHex)(t.tapleafHash),keyVer:(0,wo.toHex)(t.keyVersion),codeSeparator:(0,wo.toHex)(t.codeseparatorPosition),_e:(0,wo.toHex)(e),eLastByte:BigInt(r)}}Ct.toSHPreimageObj=KP;var owe=function(t){let e=(0,UP.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=n.prevTxId.toString("hex"),s=A.Buffer.from(i,"hex").reverse(),o=A.Buffer.alloc(4,0);o.writeUInt32LE(n.outputIndex),e[r]=A.Buffer.concat([s,o]).toString("hex")}return e};Ct.getPrevouts=owe;var awe=function(t){let e=(0,UP.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=A.Buffer.alloc(4,0);i.writeUInt32LE(n.outputIndex),e[r]=i.toString("hex")}return e};Ct.getPrevoutsIndex=awe;var uwe=function(t){let e=(0,UP.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let i=t.inputs[r].output.script.toBuffer().toString("hex");e[r]=i}return e};Ct.getSpentScripts=uwe;var cwe=function(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:A.Buffer.from(t.id,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}};Ct.getOutpointObj=cwe;var fwe=function(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),A.Buffer.from(t.id,"hex").reverse().toString("hex")+r.toString("hex")};Ct.getOutpointString=fwe;var hwe=function(t){for(let e of t.chunks)if(Tm.btc.Opcode.isOpSuccess(e.opcodenum))return console.log(e.opcodenum,Tm.btc.Opcode.reverseMap[e.opcodenum]),!0;return!1};Ct.checkDisableOpCode=hwe;var lwe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,wo.int2ByteString)(BigInt(r.opcodenum-80));return A.Buffer.from(n,"hex")}else return A.Buffer.from((0,wo.toByteString)(""));return r.buf})};Ct.callToBufferList=lwe;function TX(t,e,r){let n,i,s,o=-1;for(;;){s=qP(t,r,e),n=$P(s.hash),i=n.toBuffer(32);let c=i[i.length-1];if(c<127){o=c;break}t.nLockTime+=1}if(o<0)throw new Error("No valid eLastByte!");let a=i.slice(0,i.length-1),u=jP(s.preimage);return{SHPreimageObj:KP(u,a,o),sighash:s}}Ct.getSHPreimage=TX;function dwe(t,e,r){let{SHPreimageObj:n,sighash:i}=TX(t,e,r),s=(0,Ct.getPrevouts)(t),o=(0,Ct.getSpentScripts)(t),a=A.Buffer.alloc(4,0);a.writeUInt32LE(t.inputs[e].outputIndex);let u={prevouts:s,inputIndexVal:BigInt(e),outputIndexVal:BigInt(t.inputs[e].outputIndex),spentTxhash:A.Buffer.from(t.inputs[e].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:a.toString("hex")};return{shPreimage:n,prevoutsCtx:u,spentScripts:o,sighash:i}}Ct.getTxCtx=dwe;function pwe(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:A.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}Ct.toTxOutpoint=pwe;function AX(t,e,r){let n=[],i=[],s=[],o=!1;for(;;){if(s=e.map((u,c)=>qP(t,r[c],u)),n=s.map(u=>$P(u.hash)),i=n.map(u=>u.toBuffer(32)),i.every(u=>u[u.length-1]<127)){o=!0;break}t.nLockTime+=1}if(!o)throw new Error("No valid preimage found!");let a=[];for(let u=0;u<e.length;u++){let c=i[u],h=s[u],f=c.slice(0,c.length-1),p=c[c.length-1],l=jP(h.preimage);a.push({SHPreimageObj:KP(l,f,p),sighash:h})}return a}Ct.getSHPreimageMulti=AX;function mwe(t,e,r){let n=AX(t,e,r);return e.map((i,s)=>{let{SHPreimageObj:o,sighash:a}=n[s],u=(0,Ct.getPrevouts)(t),c=(0,Ct.getSpentScripts)(t),h=A.Buffer.alloc(4,0);h.writeUInt32LE(t.inputs[i].outputIndex);let f={prevouts:u,inputIndexVal:BigInt(i),outputIndexVal:BigInt(t.inputs[i].outputIndex),spentTxhash:A.Buffer.from(t.inputs[i].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:h.toString("hex")};return{shPreimage:o,prevoutsCtx:f,spentScripts:c,sighash:a}})}Ct.getTxCtxMulti=mwe});var H1=$((K0t,IX)=>{k();M();var gwe=mp(),{Buffer:gt}=ai(),bwe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),F1=class extends gwe.Transform{constructor(e,r,n={}){let i=null,s=null;switch(typeof e){case"object":gt.isBuffer(e)?i=e:e&&(n=e);break;case"string":i=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof r){case"object":r&&(n=r);break;case"string":s=r;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!n||typeof n!="object")throw new TypeError("Invalid options");i==null&&(i=n.input),s==null&&(s=n.inputEncoding),delete n.input,delete n.inputEncoding;let o=n.watchPipe==null?!0:n.watchPipe;delete n.watchPipe;let a=Boolean(n.readError);delete n.readError,super(n),this.readError=a,o&&this.on("pipe",u=>{let c=u._readableState.objectMode;if(this.length>0&&c!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=c,this._writableState.objectMode=c}),i!=null&&this.end(i,s)}static isNoFilter(e){return e instanceof this}static compare(e,r){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===r?0:e.compare(r)}static concat(e,r){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(e.length===0||r===0)return gt.alloc(0);r==null&&(r=e.reduce((o,a)=>{if(!(a instanceof F1))throw new TypeError("list argument must be an Array of NoFilters");return o+a.length},0));let n=!0,i=!0,s=e.map(o=>{if(!(o instanceof F1))throw new TypeError("list argument must be an Array of NoFilters");let a=o.slice();return gt.isBuffer(a)?i=!1:n=!1,a});if(n)return gt.concat(s,r);if(i)return[].concat(...s).slice(0,r);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,r,n){!this._readableState.objectMode&&!gt.isBuffer(e)&&(e=gt.from(e,r)),this.push(e),n()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let r=e.head;for(e=[];r!=null;)e.push(r.data),r=r.next}return e}read(e){let r=super.read(e);if(r!=null){if(this.emit("read",r),this.readError&&r.length<e)throw new Error(`Read ${r.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return r}readFull(e){let r=null,n=null,i=null;return new Promise((s,o)=>{if(this.length>=e){s(this.read(e));return}if(this.writableFinished){o(new Error(`Stream finished before ${e} bytes were available`));return}r=a=>{this.length>=e&&s(this.read(e))},n=()=>{o(new Error(`Stream finished before ${e} bytes were available`))},i=o,this.on("readable",r),this.on("error",i),this.on("finish",n)}).finally(()=>{r&&(this.removeListener("readable",r),this.removeListener("error",i),this.removeListener("finish",n))})}promise(e){let r=!1;return new Promise((n,i)=>{this.on("finish",()=>{let s=this.read();e!=null&&!r&&(r=!0,e(null,s)),n(s)}),this.on("error",s=>{e!=null&&!r&&(r=!0,e(s)),i(s)})})}compare(e){if(!(e instanceof F1))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;let r=this.slice(),n=e.slice();if(gt.isBuffer(r)&&gt.isBuffer(n))return r.compare(n);throw new Error("Cannot compare streams in object mode")}equals(e){return this.compare(e)===0}slice(e,r){if(this._readableState.objectMode)return this._bufArray().slice(e,r);let n=this._bufArray();switch(n.length){case 0:return gt.alloc(0);case 1:return n[0].slice(e,r);default:return gt.concat(n).slice(e,r)}}get(e){return this.slice()[e]}toJSON(){let e=this.slice();return gt.isBuffer(e)?e.toJSON():e}toString(e,r,n){let i=this.slice(r,n);return gt.isBuffer(i)?!e||e==="utf8"?bwe.decode(i):i.toString(e):JSON.stringify(i)}[Symbol.for("nodejs.util.inspect.custom")](e,r){let i=this._bufArray().map(s=>gt.isBuffer(s)?r.stylize(s.toString("hex"),"string"):JSON.stringify(s)).join(", ");return`${this.constructor.name} [${i}]`}get length(){return this._readableState.length}writeBigInt(e){let r=e.toString(16);if(e<0){let n=BigInt(Math.floor(r.length/2));e=(BigInt(1)<<n*BigInt(8))+e,r=e.toString(16)}return r.length%2&&(r=`0${r}`),this.push(gt.from(r,"hex"))}readUBigInt(e){let r=this.read(e);return gt.isBuffer(r)?BigInt(`0x${r.toString("hex")}`):null}readBigInt(e){let r=this.read(e);if(!gt.isBuffer(r))return null;let n=BigInt(`0x${r.toString("hex")}`);if(r[0]&128){let i=BigInt(1)<<BigInt(r.length)*BigInt(8);n-=i}return n}writeUInt8(e){let r=gt.from([e]);return this.push(r)}writeUInt16LE(e){let r=gt.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeUInt16BE(e){let r=gt.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeUInt32LE(e){let r=gt.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeUInt32BE(e){let r=gt.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeInt8(e){let r=gt.from([e]);return this.push(r)}writeInt16LE(e){let r=gt.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeInt16BE(e){let r=gt.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeInt32LE(e){let r=gt.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeInt32BE(e){let r=gt.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeFloatLE(e){let r=gt.alloc(4);return r.writeFloatLE(e),this.push(r)}writeFloatBE(e){let r=gt.alloc(4);return r.writeFloatBE(e),this.push(r)}writeDoubleLE(e){let r=gt.alloc(8);return r.writeDoubleLE(e),this.push(r)}writeDoubleBE(e){let r=gt.alloc(8);return r.writeDoubleBE(e),this.push(r)}writeBigInt64LE(e){let r=gt.alloc(8);return r.writeBigInt64LE(e),this.push(r)}writeBigInt64BE(e){let r=gt.alloc(8);return r.writeBigInt64BE(e),this.push(r)}writeBigUInt64LE(e){let r=gt.alloc(8);return r.writeBigUInt64LE(e),this.push(r)}writeBigUInt64BE(e){let r=gt.alloc(8);return r.writeBigUInt64BE(e),this.push(r)}readUInt8(){let e=this.read(1);return gt.isBuffer(e)?e.readUInt8():null}readUInt16LE(){let e=this.read(2);return gt.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){let e=this.read(2);return gt.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){let e=this.read(4);return gt.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){let e=this.read(4);return gt.isBuffer(e)?e.readUInt32BE():null}readInt8(){let e=this.read(1);return gt.isBuffer(e)?e.readInt8():null}readInt16LE(){let e=this.read(2);return gt.isBuffer(e)?e.readInt16LE():null}readInt16BE(){let e=this.read(2);return gt.isBuffer(e)?e.readInt16BE():null}readInt32LE(){let e=this.read(4);return gt.isBuffer(e)?e.readInt32LE():null}readInt32BE(){let e=this.read(4);return gt.isBuffer(e)?e.readInt32BE():null}readFloatLE(){let e=this.read(4);return gt.isBuffer(e)?e.readFloatLE():null}readFloatBE(){let e=this.read(4);return gt.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){let e=this.read(8);return gt.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){let e=this.read(8);return gt.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){let e=this.read(8);return gt.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){let e=this.read(8);return gt.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){let e=this.read(8);return gt.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){let e=this.read(8);return gt.isBuffer(e)?e.readBigUInt64BE():null}};IX.exports=F1});var ih=$(nh=>{k();M();nh.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};nh.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258};nh.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};nh.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};nh.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")};nh.SHIFT32=4294967296;nh.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(nh.SHIFT32)}});var g2=$(Wn=>{k();M();var{Buffer:D1}=ai(),PX=H1(),ywe=mp(),vwe=ih(),{NUMBYTES:rv,SHIFT32:_we,BI:xwe,SYMS:GP}=vwe,Swe=2097151,wwe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});Wn.utf8=t=>wwe.decode(t);Wn.utf8.checksUTF8=!0;function Ewe(t){return t instanceof ywe.Readable?!0:["read","on","pipe"].every(e=>typeof t[e]=="function")}Wn.isBufferish=function(e){return e&&typeof e=="object"&&(D1.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)};Wn.bufferishToBuffer=function(e){return D1.isBuffer(e)?e:ArrayBuffer.isView(e)?D1.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?D1.from(e):null};Wn.parseCBORint=function(e,r){switch(e){case rv.ONE:return r.readUInt8(0);case rv.TWO:return r.readUInt16BE(0);case rv.FOUR:return r.readUInt32BE(0);case rv.EIGHT:{let n=r.readUInt32BE(0),i=r.readUInt32BE(4);return n>Swe?BigInt(n)*xwe.SHIFT32+BigInt(i):n*_we+i}default:throw new Error(`Invalid additional info for int: ${e}`)}};Wn.writeHalf=function(e,r){let n=D1.allocUnsafe(4);n.writeFloatBE(r,0);let i=n.readUInt32BE(0);if((i&8191)!==0)return!1;let s=i>>16&32768,o=i>>23&255,a=i&8388607;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else if(o>=103&&o<113){if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}else return!1;return e.writeUInt16BE(s),!0};Wn.parseHalf=function(e){let r=e[0]&128?-1:1,n=(e[0]&124)>>2,i=(e[0]&3)<<8|e[1];if(n){if(n===31)return r*(i?NaN:1/0)}else return r*5960464477539063e-23*i;return r*2**(n-25)*(1024+i)};Wn.parseCBORfloat=function(e){switch(e.length){case 2:return Wn.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}};Wn.hex=function(e){return D1.from(e.replace(/^0x/,""),"hex")};Wn.bin=function(e){e=e.replace(/\s/g,"");let r=0,n=e.length%8||8,i=[];for(;n<=e.length;)i.push(parseInt(e.slice(r,n),2)),r=n,n+=8;return D1.from(i)};Wn.arrayEqual=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.length===r.length&&e.every((n,i)=>n===r[i])};Wn.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)};Wn.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case GP.NULL:return"null";case GP.UNDEFINED:return"undefined";case GP.BREAK:return"BREAK"}if(e.description)return e.description;let i=e.toString().match(/^Symbol\((?<name>.*)\)/);return i&&i.groups.name?i.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{let n=Object.is(e,-0)?"-0":String(e);return r>0?`${n}_${r}`:n}case"object":{if(!e)return"null";let n=Wn.bufferishToBuffer(e);if(n){let i=n.toString("hex");return r===-1/0?i:`h'${i}'`}return e&&typeof e[Symbol.for("nodejs.util.inspect.custom")]=="function"?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)};Wn.guessEncoding=function(e,r){if(typeof e=="string")return new PX(e,r??"hex");let n=Wn.bufferishToBuffer(e);if(n)return new PX(n);if(Ewe(e))return e;throw new Error("Unknown input type")};var Twe={"=":"","+":"-","/":"_"};Wn.base64url=function(e){return Wn.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,r=>Twe[r])};Wn.base64=function(e){return Wn.bufferishToBuffer(e).toString("base64")};Wn.isBigEndian=function(){let e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])}});var BX=$((Q0t,OX)=>{k();M();var Awe=mp(),Iwe=H1(),zP=class extends Awe.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new Iwe,this.__restart()}_transform(e,r,n){for(this.bs.write(e);this.bs.length>=this.__needed;){let i=null,s=this.__needed===null?void 0:this.bs.read(this.__needed);try{i=this.__parser.next(s)}catch(o){return n(o)}this.__needed&&(this.__fresh=!1),i.done?(this.push(i.value),this.__restart()):this.__needed=i.value||1/0}return n()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}};OX.exports=zP});var WP=$((rft,FX)=>{k();M();var Pwe=ih(),D0=g2(),b2=Symbol("INTERNAL_JSON");function Am(t,e){if(D0.isBufferish(t))t.toJSON=e;else if(Array.isArray(t))for(let r of t)Am(r,e);else if(t&&typeof t=="object"&&(!(t instanceof sh)||t.tag<21||t.tag>23))for(let r of Object.values(t))Am(r,e)}function CX(){return D0.base64(this)}function kX(){return D0.base64url(this)}function MX(){return this.toString("hex")}function Owe(t,e,r,n){let i=new DataView(t),[s,o]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[e],a=r+n;for(let u=r;u<a;u+=e)o.call(i,u,s.call(i,u,!0))}var NX={0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>D0.bufferToBigInt(t),3:t=>Pwe.BI.MINUS_ONE-D0.bufferToBigInt(t),21:(t,e)=>(D0.isBufferish(t)?e[b2]=kX:Am(t,kX),e),22:(t,e)=>(D0.isBufferish(t)?e[b2]=CX:Am(t,CX),e),23:(t,e)=>(D0.isBufferish(t)?e[b2]=MX:Am(t,MX),e),32:t=>new URL(t),33:(t,e)=>{if(!t.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");let r=t.length%4;if(r===1)throw new Error("Invalid base64url length");if(r===2){if("AQgw".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding")}else if(r===3&&"AEIMQUYcgkosw048".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding");return e},34:(t,e)=>{let r=t.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(t.length%4!==0)throw new Error("Invalid base64 length");if(r.groups.padding==="="){if("AQgw".indexOf(t[t.length-2])===-1)throw new Error("Invalid base64 padding")}else if(r.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(t[t.length-3])===-1)throw new Error("Invalid base64 padding");return e},35:t=>new RegExp(t),258:t=>new Set(t)},y2={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(y2[67]=BigUint64Array,y2[71]=BigUint64Array);typeof BigInt64Array<"u"&&(y2[75]=BigInt64Array,y2[79]=BigInt64Array);function Bwe(t,e){if(!D0.isBufferish(t))throw new TypeError("val not a buffer");let{tag:r}=e,n=y2[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);let i=r&4,o=2**(((r&16)>>4)+(r&3));!i!==D0.isBigEndian()&&o>1&&Owe(t.buffer,o,t.byteOffset,t.byteLength);let a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new n(a)}for(let t of Object.keys(y2))NX[t]=Bwe;var RX={},sh=class{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[b2])return this[b2].call(this.value);let e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let r=e?.[this.tag];if(r===null)return this;if(typeof r!="function"&&(r=sh.TAGS[this.tag],typeof r!="function"))return this;try{return r.call(this,this.value,this)}catch(n){return n&&n.message&&n.message.length>0?this.err=n.message:this.err=n,this}}static get TAGS(){return RX}static set TAGS(e){RX=e}static reset(){sh.TAGS={...NX}}};sh.INTERNAL_JSON=b2;sh.reset();FX.exports=sh});var XP=$((sft,HX)=>{k();M();var{MT:Cwe,SIMPLE:nv,SYMS:YP}=ih(),v2=class{constructor(e){if(typeof e!="number")throw new Error(`Invalid Simple type: ${typeof e}`);if(e<0||e>255||(e|0)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,r){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,Cwe.SIMPLE_FLOAT)}static isSimple(e){return e instanceof v2}static decode(e,r=!0,n=!1){switch(e){case nv.FALSE:return!1;case nv.TRUE:return!0;case nv.NULL:return r?null:YP.NULL;case nv.UNDEFINED:return r?void 0:YP.UNDEFINED;case-1:if(!r||!n)throw new Error("Invalid BREAK");return YP.BREAK;default:return new v2(e)}}};HX.exports=v2});var Om=$((cft,qX)=>{k();M();var kwe=BX(),Mwe=WP(),Rwe=XP(),L1=g2(),sv=H1(),uft=mp(),Nwe=ih(),{MT:Di,NUMBYTES:_2,SYMS:oh,BI:DX}=Nwe,{Buffer:LX}=ai(),x2=Symbol("count"),Id=Symbol("major type"),UX=Symbol("error"),Im=Symbol("not found");function ZP(t,e,r){let n=[];return n[x2]=r,n[oh.PARENT]=t,n[Id]=e,n}function Fwe(t,e){let r=new sv;return r[x2]=-1,r[oh.PARENT]=t,r[Id]=e,r}var Pm=class extends Error{constructor(e,r){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=r}};function iv(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var ua=class extends kwe{constructor(e={}){let{tags:r={},max_depth:n=-1,preferMap:i=!1,preferWeb:s=!1,required:o=!1,encoding:a="hex",extendedResults:u=!1,preventDuplicateKeys:c=!1,...h}=e;super({defaultEncoding:a,...h}),this.running=!0,this.max_depth=n,this.tags=r,this.preferMap=i,this.preferWeb=s,this.extendedResults=u,this.required=o,this.preventDuplicateKeys=c,u&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new sv)}static nullcheck(e){switch(e){case oh.NULL:return null;case oh.UNDEFINED:return;case Im:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=iv(r));let{encoding:n="hex",...i}=r,s=new ua(i),o=L1.guessEncoding(e,n),a=s._parse(),u=a.next();for(;!u.done;){let h=o.read(u.value);if(h==null||h.length!==u.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(h),u=a.next(h)}let c=null;if(s.extendedResults)c=u.value,c.unused=o.read();else if(c=ua.nullcheck(u.value),o.length>0){let h=o.read(1);throw o.unshift(h),new Pm(h[0],c)}return c}static decodeAllSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=iv(r));let{encoding:n="hex",...i}=r,s=new ua(i),o=L1.guessEncoding(e,n),a=[];for(;o.length>0;){let u=s._parse(),c=u.next();for(;!c.done;){let h=o.read(c.value);if(h==null||h.length!==c.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(h),c=u.next(h)}a.push(ua.nullcheck(c.value))}return a}static decodeFirst(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=iv(r,n));let{encoding:i="hex",required:s=!1,...o}=r,a=new ua(o),u=Im,c=L1.guessEncoding(e,i),h=new Promise((f,p)=>{a.on("data",l=>{u=ua.nullcheck(l),a.close()}),a.once("error",l=>a.extendedResults&&l instanceof Pm?(u.unused=a.bs.slice(),f(u)):(u!==Im&&(l.value=u),u=UX,a.close(),p(l))),a.once("end",()=>{switch(u){case Im:return s?p(new Error("No CBOR found")):f(u);case UX:return;default:return f(u)}})});return typeof n=="function"&&h.then(f=>n(null,f),n),c.pipe(a),h}static decodeAll(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=iv(r,n));let{encoding:i="hex",...s}=r,o=new ua(s),a=[];o.on("data",c=>a.push(ua.nullcheck(c)));let u=new Promise((c,h)=>{o.on("error",h),o.on("end",()=>c(a))});return typeof n=="function"&&u.then(c=>n(void 0,c),c=>n(c,void 0)),L1.guessEncoding(e,i).pipe(o),u}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,r=0,n=null;for(;;){if(this.max_depth>=0&&r>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);let[i]=yield 1;if(!this.running)throw this.bs.unshift(LX.from([i])),new Pm(i);let s=i>>5,o=i&31,a=e?.[Id],u=e?.length;switch(o){case _2.ONE:this.emit("more-bytes",s,1,a,u),[n]=yield 1;break;case _2.TWO:case _2.FOUR:case _2.EIGHT:{let h=1<<o-24;this.emit("more-bytes",s,h,a,u);let f=yield h;n=s===Di.SIMPLE_FLOAT?f:L1.parseCBORint(o,f);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${o}`);case _2.INDEFINITE:switch(s){case Di.POS_INT:case Di.NEG_INT:case Di.TAG:throw new Error(`Invalid indefinite encoding for MT ${s}`)}n=-1;break;default:n=o}switch(s){case Di.POS_INT:break;case Di.NEG_INT:n===Number.MAX_SAFE_INTEGER?n=DX.NEG_MAX:n=typeof n=="bigint"?DX.MINUS_ONE-n:-1-n;break;case Di.BYTE_STRING:case Di.UTF8_STRING:switch(n){case 0:this.emit("start-string",s,n,a,u),s===Di.UTF8_STRING?n="":n=this.preferWeb?new Uint8Array(0):LX.allocUnsafe(0);break;case-1:this.emit("start",s,oh.STREAM,a,u),e=Fwe(e,s),r++;continue;default:this.emit("start-string",s,n,a,u),n=yield n,s===Di.UTF8_STRING?n=L1.utf8(n):this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length))}break;case Di.ARRAY:case Di.MAP:switch(n){case 0:s===Di.MAP?n=this.preferMap?new Map:{}:n=[];break;case-1:this.emit("start",s,oh.STREAM,a,u),e=ZP(e,s,-1),r++;continue;default:this.emit("start",s,n,a,u),e=ZP(e,s,n*(s-3)),r++;continue}break;case Di.TAG:this.emit("start",s,n,a,u),e=ZP(e,s,1),e.push(n),r++;continue;case Di.SIMPLE_FLOAT:if(typeof n=="number"){if(o===_2.ONE&&n<32)throw new Error(`Invalid two-byte encoding of simple value ${n}`);let h=e!=null;n=Rwe.decode(n,h,h&&e[x2]<0)}else n=L1.parseCBORfloat(n)}this.emit("value",n,a,u,o);let c=!1;for(;e!=null;){if(n===oh.BREAK)e[x2]=1;else if(Array.isArray(e))e.push(n);else{let f=e[Id];if(f!=null&&f!==s)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(n)}if(--e[x2]!==0){c=!0;break}if(--r,delete e[x2],Array.isArray(e))switch(e[Id]){case Di.ARRAY:n=e;break;case Di.MAP:{let f=!this.preferMap;if(e.length%2!==0)throw new Error(`Invalid map length: ${e.length}`);for(let p=0,l=e.length;f&&p<l;p+=2)if(typeof e[p]!="string"||e[p]==="__proto__"){f=!1;break}if(f){n={};for(let p=0,l=e.length;p<l;p+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(n,e[p]))throw new Error("Duplicate keys in a map");n[e[p]]=e[p+1]}}else{n=new Map;for(let p=0,l=e.length;p<l;p+=2){if(this.preventDuplicateKeys&&n.has(e[p]))throw new Error("Duplicate keys in a map");n.set(e[p],e[p+1])}}break}case Di.TAG:{n=new Mwe(e[0],e[1]).convert(this.tags);break}}else if(e instanceof sv)switch(e[Id]){case Di.BYTE_STRING:n=e.slice(),this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length));break;case Di.UTF8_STRING:n=e.toString("utf-8");break}this.emit("stop",e[Id]);let h=e;e=e[oh.PARENT],delete h[oh.PARENT],delete h[Id]}if(!c){if(this.extendedResults){let h=this.valueBytes.slice(),f={value:ua.nullcheck(n),bytes:h,length:h.length};return this.valueBytes=new sv,f}return n}}}};ua.NOT_FOUND=Im;qX.exports=ua});var VX=$((lft,KX)=>{k();M();var Hwe=mp(),$X=g2(),Dwe=Om(),jX=H1(),{MT:ds,NUMBYTES:ov,SYMS:JP}=ih(),{Buffer:Lwe}=ai();function QP(t){return t>1?"s":""}function Uwe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"number":return{options:{max_depth:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var S2=class extends Hwe.Transform{constructor(e={}){let{depth:r=1,max_depth:n=10,no_summary:i=!1,tags:s={},preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.depth=r,this.max_depth=n,this.all=new jX,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new Dwe({tags:s,max_depth:n,preferWeb:o,encoding:a}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),i||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){let r=new S2({depth:this.depth+1,no_summary:!0});r.on("data",n=>this.push(n)),r.on("error",n=>this.emit("error",n)),r.end(e)}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){return this.parser._flush(e)}static comment(e,r={},n=null){if(e==null)throw new Error("input required");({options:r,cb:n}=Uwe(r,n));let i=new jX,{encoding:s="hex",...o}=r,a=new S2(o),u=null;return typeof n=="function"?(a.on("end",()=>{n(null,i.toString("utf8"))}),a.on("error",n)):u=new Promise((c,h)=>{a.on("end",()=>{c(i.toString("utf8"))}),a.on("error",h)}),a.pipe(i),$X.guessEncoding(e,s).pipe(a),u}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push(`
`)}_on_read(e){this.all.write(e);let r=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(r);let n=(this.max_depth-this.depth)*2-r.length;n<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(e,r,n,i){let s="";switch(this.depth++,e){case ds.POS_INT:s="Positive number,";break;case ds.NEG_INT:s="Negative number,";break;case ds.ARRAY:s="Array, length";break;case ds.MAP:s="Map, count";break;case ds.BYTE_STRING:s="Bytes, length";break;case ds.UTF8_STRING:s="String, length";break;case ds.SIMPLE_FLOAT:r===1?s="Simple value,":s="Float,";break}this.push(`${s} next ${r} byte${QP(r)}
`)}_on_start_string(e,r,n,i){let s="";switch(this.depth++,e){case ds.BYTE_STRING:s=`Bytes, length: ${r}`;break;case ds.UTF8_STRING:s=`String, length: ${r.toString()}`;break}this.push(`${s}
`)}_on_start(e,r,n,i){switch(this.depth++,n){case ds.ARRAY:this.push(`[${i}], `);break;case ds.MAP:i%2?this.push(`{Val:${Math.floor(i/2)}}, `):this.push(`{Key:${Math.floor(i/2)}}, `);break}switch(e){case ds.TAG:this.push(`Tag #${r}`),r===24&&this.push(" Encoded CBOR data item");break;case ds.ARRAY:r===JP.STREAM?this.push("Array (streaming)"):this.push(`Array, ${r} item${QP(r)}`);break;case ds.MAP:r===JP.STREAM?this.push("Map (streaming)"):this.push(`Map, ${r} pair${QP(r)}`);break;case ds.BYTE_STRING:this.push("Bytes (streaming)");break;case ds.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(e){this.depth--}_on_value(e,r,n,i){if(e!==JP.BREAK)switch(r){case ds.ARRAY:this.push(`[${n}], `);break;case ds.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `);break}let s=$X.cborValueToString(e,-1/0);switch(typeof e=="string"||Lwe.isBuffer(e)?(e.length>0&&(this.push(s),this.push(`
`)),this.depth--):(this.push(s),this.push(`
`)),i){case ov.ONE:case ov.TWO:case ov.FOUR:case ov.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};KX.exports=S2});var YX=$((mft,WX)=>{k();M();var qwe=mp(),$we=Om(),GX=g2(),jwe=H1(),{MT:Eo,SYMS:zX}=ih();function Kwe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var Bm=class extends qwe.Transform{constructor(e={}){let{separator:r=`
`,stream_errors:n=!1,tags:i,max_depth:s,preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=r,this.stream_errors=n,this.parser=new $we({tags:i,max_depth:s,preferWeb:o,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){this.parser._flush(r=>this.stream_errors?(r&&this._on_error(r),e()):e(r))}static diagnose(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=Kwe(r,n));let{encoding:i="hex",...s}=r,o=new jwe,a=new Bm(s),u=null;return typeof n=="function"?(a.on("end",()=>n(null,o.toString("utf8"))),a.on("error",n)):u=new Promise((c,h)=>{a.on("end",()=>c(o.toString("utf8"))),a.on("error",h)}),a.pipe(o),GX.guessEncoding(e,i).pipe(a),u}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,r,n,i){e===Eo.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[r])}_fore(e,r){switch(e){case Eo.BYTE_STRING:case Eo.UTF8_STRING:case Eo.ARRAY:r>0&&this.push(", ");break;case Eo.MAP:r>0&&(r%2?this.push(": "):this.push(", "))}}_on_value(e,r,n){if(e===zX.BREAK)return;this._fore(r,n);let i=this.float_bytes;this.float_bytes=-1,this.push(GX.cborValueToString(e,i))}_on_start(e,r,n,i){switch(this._fore(n,i),e){case Eo.TAG:this.push(`${r}(`);break;case Eo.ARRAY:this.push("[");break;case Eo.MAP:this.push("{");break;case Eo.BYTE_STRING:case Eo.UTF8_STRING:this.push("(");break}r===zX.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case Eo.TAG:this.push(")");break;case Eo.ARRAY:this.push("]");break;case Eo.MAP:this.push("}");break;case Eo.BYTE_STRING:case Eo.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};WX.exports=Bm});var hv=$((yft,QX)=>{k();M();var Vwe=mp(),eO=H1(),av=g2(),Gwe=ih(),{MT:Bn,NUMBYTES:Aa,SHIFT32:XX,SIMPLE:cv,SYMS:ZX,TAG:ah,BI:uv}=Gwe,{Buffer:ks}=ai(),zwe=Bn.SIMPLE_FLOAT<<5|Aa.TWO,Wwe=Bn.SIMPLE_FLOAT<<5|Aa.FOUR,Ywe=Bn.SIMPLE_FLOAT<<5|Aa.EIGHT,Xwe=Bn.SIMPLE_FLOAT<<5|cv.TRUE,Zwe=Bn.SIMPLE_FLOAT<<5|cv.FALSE,Jwe=Bn.SIMPLE_FLOAT<<5|cv.UNDEFINED,Qwe=Bn.SIMPLE_FLOAT<<5|cv.NULL,Cm=ks.from([255]),eEe=ks.from("f97e00","hex"),tEe=ks.from("f9fc00","hex"),rEe=ks.from("f97c00","hex"),nEe=ks.from("f98000","hex"),fv={},JX={};function iEe(t){if(!t)return"number";switch(t.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${t}"`)}var kt=class extends Vwe.Transform{constructor(e={}){let{canonical:r=!1,encodeUndefined:n,disallowUndefinedKeys:i=!1,dateType:s="number",collapseBigIntegers:o=!1,detectLoops:a=!1,omitUndefinedProperties:u=!1,genTypes:c=[],...h}=e;if(super({...h,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=r,this.encodeUndefined=n,this.disallowUndefinedKeys=i,this.dateType=iEe(s),this.collapseBigIntegers=this.canonical?!0:o,this.detectLoops=void 0,typeof a=="boolean")a&&(this.detectLoops=new WeakSet);else if(a instanceof WeakSet)this.detectLoops=a;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=u,this.semanticTypes={...kt.SEMANTIC_TYPES},Array.isArray(c))for(let f=0,p=c.length;f<p;f+=2)this.addSemanticType(c[f],c[f+1]);else for(let[f,p]of Object.entries(c))this.addSemanticType(f,p)}_transform(e,r,n){let i=this.pushAny(e);n(i===!1?new Error("Push Error"):void 0)}_flush(e){e()}_pushUInt8(e){let r=ks.allocUnsafe(1);return r.writeUInt8(e,0),this.push(r)}_pushUInt16BE(e){let r=ks.allocUnsafe(2);return r.writeUInt16BE(e,0),this.push(r)}_pushUInt32BE(e){let r=ks.allocUnsafe(4);return r.writeUInt32BE(e,0),this.push(r)}_pushFloatBE(e){let r=ks.allocUnsafe(4);return r.writeFloatBE(e,0),this.push(r)}_pushDoubleBE(e){let r=ks.allocUnsafe(8);return r.writeDoubleBE(e,0),this.push(r)}_pushNaN(){return this.push(eEe)}_pushInfinity(e){let r=e<0?tEe:rEe;return this.push(r)}_pushFloat(e){if(this.canonical){let r=ks.allocUnsafe(2);if(av.writeHalf(r,e))return this._pushUInt8(zwe)&&this.push(r)}return Math.fround(e)===e?this._pushUInt8(Wwe)&&this._pushFloatBE(e):this._pushUInt8(Ywe)&&this._pushDoubleBE(e)}_pushInt(e,r,n){let i=r<<5;if(e<24)return this._pushUInt8(i|e);if(e<=255)return this._pushUInt8(i|Aa.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(i|Aa.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(i|Aa.FOUR)&&this._pushUInt32BE(e);let s=Number.MAX_SAFE_INTEGER;return r===Bn.NEG_INT&&s--,e<=s?this._pushUInt8(i|Aa.EIGHT)&&this._pushUInt32BE(Math.floor(e/XX))&&this._pushUInt32BE(e%XX):r===Bn.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push(nEe):e<0?this._pushInt(-e-1,Bn.NEG_INT,e):this._pushInt(e,Bn.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){let r=ks.byteLength(e,"utf8");return this._pushInt(r,Bn.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?Xwe:Zwe)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(Jwe);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{let r=av.bufferishToBuffer(this.encodeUndefined);if(r)return this.push(r)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(Qwe)}_pushTag(e){return this._pushInt(e,Bn.TAG)}_pushJSBigint(e){let r=Bn.POS_INT,n=ah.POS_BIGINT;if(e<0&&(e=-e+uv.MINUS_ONE,r=Bn.NEG_INT,n=ah.NEG_BIGINT),this.collapseBigIntegers&&e<=uv.MAXINT64)return e<=4294967295?this._pushInt(Number(e),r):this._pushUInt8(r<<5|Aa.EIGHT)&&this._pushUInt32BE(Number(e/uv.SHIFT32))&&this._pushUInt32BE(Number(e%uv.SHIFT32));let i=e.toString(16);i.length%2&&(i=`0${i}`);let s=ks.from(i,"hex");return this._pushTag(n)&&kt._pushBuffer(this,s)}_pushObject(e,r){if(!e)return this._pushNull(e);if(r={indefinite:!1,skipTypes:!1,...r},!r.indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(e)}if(!r.skipTypes){let o=e.encodeCBOR;if(typeof o=="function")return o.call(e,this);let a=this.semanticTypes[e.constructor.name];if(a)return a.call(e,this,e)}let n=Object.keys(e).filter(o=>{let a=typeof e[o];return a!=="function"&&(!this.omitUndefinedProperties||a!=="undefined")}),i={};if(this.canonical&&n.sort((o,a)=>{let u=i[o]||(i[o]=kt.encode(o)),c=i[a]||(i[a]=kt.encode(a));return u.compare(c)}),r.indefinite){if(!this._pushUInt8(Bn.MAP<<5|Aa.INDEFINITE))return!1}else if(!this._pushInt(n.length,Bn.MAP))return!1;let s=null;for(let o=0,a=n.length;o<a;o++){let u=n[o];if(this.canonical&&(s=i[u])){if(!this.push(s))return!1}else if(!this._pushString(u))return!1;if(!this.pushAny(e[u]))return!1}if(r.indefinite){if(!this.push(Cm))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){let r=new eO({highWaterMark:this.readableHighWaterMark});this.pipe(r);for(let n of e)this.pushAny(n);return this.end(),r.read()}addSemanticType(e,r){let n=typeof e=="string"?e:e.name,i=this.semanticTypes[n];if(r){if(typeof r!="function")throw new TypeError("fun must be of type function");this.semanticTypes[n]=r}else i&&delete this.semanticTypes[n];return i}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case ZX.NULL:return this._pushNull(null);case ZX.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${typeof e.toString=="function"?e.toString():""}`)}}static pushArray(e,r,n){n={indefinite:!1,...n};let i=r.length;if(n.indefinite){if(!e._pushUInt8(Bn.ARRAY<<5|Aa.INDEFINITE))return!1}else if(!e._pushInt(i,Bn.ARRAY))return!1;for(let s=0;s<i;s++)if(!e.pushAny(r[s]))return!1;return!(n.indefinite&&!e.push(Cm))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(e,r){switch(e.dateType){case"string":return e._pushTag(ah.DATE_STRING)&&e._pushString(r.toISOString());case"int":return e._pushTag(ah.DATE_EPOCH)&&e._pushIntNum(Math.round(r.getTime()/1e3));case"float":return e._pushTag(ah.DATE_EPOCH)&&e._pushFloat(r.getTime()/1e3);case"number":default:return e._pushTag(ah.DATE_EPOCH)&&e.pushAny(r.getTime()/1e3)}}static _pushBuffer(e,r){return e._pushInt(r.length,Bn.BYTE_STRING)&&e.push(r)}static _pushNoFilter(e,r){return kt._pushBuffer(e,r.slice())}static _pushRegexp(e,r){return e._pushTag(ah.REGEXP)&&e.pushAny(r.source)}static _pushSet(e,r){if(!e._pushTag(ah.SET)||!e._pushInt(r.size,Bn.ARRAY))return!1;for(let n of r)if(!e.pushAny(n))return!1;return!0}static _pushURL(e,r){return e._pushTag(ah.URI)&&e.pushAny(r.toString())}static _pushBoxed(e,r){return e.pushAny(r.valueOf())}static _pushMap(e,r,n){n={indefinite:!1,...n};let i=[...r.entries()];if(e.omitUndefinedProperties&&(i=i.filter(([s,o])=>o!==void 0)),n.indefinite){if(!e._pushUInt8(Bn.MAP<<5|Aa.INDEFINITE))return!1}else if(!e._pushInt(i.length,Bn.MAP))return!1;if(e.canonical){let s=new kt({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:Boolean(e.detectLoops),dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),o=new eO({highWaterMark:e.readableHighWaterMark});s.pipe(o),i.sort(([a],[u])=>{s.pushAny(a);let c=o.read();s.pushAny(u);let h=o.read();return c.compare(h)});for(let[a,u]of i){if(e.disallowUndefinedKeys&&typeof a>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(a)&&e.pushAny(u)))return!1}}else for(let[s,o]of i){if(e.disallowUndefinedKeys&&typeof s>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(s)&&e.pushAny(o)))return!1}return!(n.indefinite&&!e.push(Cm))}static _pushTypedArray(e,r){let n=64,i=r.BYTES_PER_ELEMENT,{name:s}=r.constructor;return s.startsWith("Float")?(n|=16,i/=2):s.includes("U")||(n|=8),(s.includes("Clamped")||i!==1&&!av.isBigEndian())&&(n|=4),n|={1:0,2:1,4:2,8:3}[i],e._pushTag(n)?kt._pushBuffer(e,ks.from(r.buffer,r.byteOffset,r.byteLength)):!1}static _pushArrayBuffer(e,r){return kt._pushBuffer(e,ks.from(r))}static encodeIndefinite(e,r,n={}){if(r==null){if(this==null)throw new Error("No object to encode");r=this}let{chunkSize:i=4096}=n,s=!0,o=typeof r,a=null;if(o==="string"){s=s&&e._pushUInt8(Bn.UTF8_STRING<<5|Aa.INDEFINITE);let u=0;for(;u<r.length;){let c=u+i;s=s&&e._pushString(r.slice(u,c)),u=c}s=s&&e.push(Cm)}else if(a=av.bufferishToBuffer(r)){s=s&&e._pushUInt8(Bn.BYTE_STRING<<5|Aa.INDEFINITE);let u=0;for(;u<a.length;){let c=u+i;s=s&&kt._pushBuffer(e,a.slice(u,c)),u=c}s=s&&e.push(Cm)}else if(Array.isArray(r))s=s&&kt.pushArray(e,r,{indefinite:!0});else if(r instanceof Map)s=s&&kt._pushMap(e,r,{indefinite:!0});else{if(o!=="object")throw new Error("Invalid indefinite encoding");s=s&&e._pushObject(r,{indefinite:!0,skipTypes:!0})}return s}static encode(...e){return new kt()._encodeAll(e)}static encodeCanonical(...e){return new kt({canonical:!0})._encodeAll(e)}static encodeOne(e,r){return new kt(r)._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new kt(r);o.on("data",a=>s.push(a)),o.on("error",i),o.on("finish",()=>n(ks.concat(s))),o.pushAny(e),o.end()})}static get SEMANTIC_TYPES(){return JX}static set SEMANTIC_TYPES(e){JX=e}static reset(){kt.SEMANTIC_TYPES={...fv}}};Object.assign(fv,{Array:kt.pushArray,Date:kt._pushDate,Buffer:kt._pushBuffer,[ks.name]:kt._pushBuffer,Map:kt._pushMap,NoFilter:kt._pushNoFilter,[eO.name]:kt._pushNoFilter,RegExp:kt._pushRegexp,Set:kt._pushSet,ArrayBuffer:kt._pushArrayBuffer,Uint8ClampedArray:kt._pushTypedArray,Uint8Array:kt._pushTypedArray,Uint16Array:kt._pushTypedArray,Uint32Array:kt._pushTypedArray,Int8Array:kt._pushTypedArray,Int16Array:kt._pushTypedArray,Int32Array:kt._pushTypedArray,Float32Array:kt._pushTypedArray,Float64Array:kt._pushTypedArray,URL:kt._pushURL,Boolean:kt._pushBoxed,Number:kt._pushBoxed,String:kt._pushBoxed});typeof BigUint64Array<"u"&&(fv[BigUint64Array.name]=kt._pushTypedArray);typeof BigInt64Array<"u"&&(fv[BigInt64Array.name]=kt._pushTypedArray);kt.reset();QX.exports=kt});var rZ=$((xft,tZ)=>{k();M();var{Buffer:eZ}=ai(),sEe=hv(),oEe=Om(),{MT:aEe}=ih(),Cc=class extends Map{constructor(e){super(e)}static _encode(e){return sEe.encodeCanonical(e).toString("base64")}static _decode(e){return oEe.decodeFirstSync(e,"base64")}get(e){return super.get(Cc._encode(e))}set(e,r){return super.set(Cc._encode(e),r)}delete(e){return super.delete(Cc._encode(e))}has(e){return super.has(Cc._encode(e))}*keys(){for(let e of super.keys())yield Cc._decode(e)}*entries(){for(let e of super.entries())yield[Cc._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,r){if(typeof e!="function")throw new TypeError("Must be function");for(let n of super.entries())e.call(this,n[1],Cc._decode(n[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,aEe.MAP))return!1;if(e.canonical){let r=Array.from(super.entries()).map(n=>[eZ.from(n[0],"base64"),n[1]]);r.sort((n,i)=>n[0].compare(i[0]));for(let n of r)if(!(e.push(n[0])&&e.pushAny(n[1])))return!1}else for(let r of super.entries())if(!(e.push(eZ.from(r[0],"base64"))&&e.pushAny(r[1])))return!1;return!0}};tZ.exports=Cc});var iZ=$((Eft,nZ)=>{k();M();var uh=class{constructor(){this.clear()}clear(){this.map=new WeakMap,this.count=0,this.recording=!0}stop(){this.recording=!1}check(e){let r=this.map.get(e);if(r)return r.length>1?r[0]||this.recording?r[1]:(r[0]=!0,uh.FIRST):this.recording?(r.push(this.count++),r[1]):uh.NEVER;if(!this.recording)throw new Error("New object detected when not recording");return this.map.set(e,[!1]),uh.NEVER}};uh.NEVER=-1;uh.FIRST=-2;nZ.exports=uh});var oZ=$((Ift,sZ)=>{k();M();var uEe=hv(),tO=iZ(),{Buffer:cEe}=ai(),U1=class extends uEe{constructor(e){super(e),this.valueSharing=new tO}_pushObject(e,r){if(e!==null){let n=this.valueSharing.check(e);switch(n){case tO.FIRST:this._pushTag(28);break;case tO.NEVER:break;default:return this._pushTag(29)&&this._pushIntNum(n)}}return super._pushObject(e,r)}stopRecording(){this.valueSharing.stop()}clearRecording(){this.valueSharing.clear()}static encode(...e){let r=new U1;r.on("data",()=>{});for(let n of e)r.pushAny(n);return r.stopRecording(),r.removeAllListeners("data"),r._encodeAll(e)}static encodeCanonical(...e){throw new Error("Cannot encode canonically in a SharedValueEncoder, which serializes objects multiple times.")}static encodeOne(e,r){let n=new U1(r);return n.on("data",()=>{}),n.pushAny(e),n.stopRecording(),n.removeAllListeners("data"),n._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new U1(r);o.on("data",()=>{}),o.on("error",i),o.on("finish",()=>n(cEe.concat(s))),o.pushAny(e),o.stopRecording(),o.removeAllListeners("data"),o.on("data",a=>s.push(a)),o.pushAny(e),o.end()})}};sZ.exports=U1});var hZ=$((Bft,fZ)=>{k();M();var aZ=VX(),uZ=YX(),q1=Om(),$1=hv(),fEe=XP(),cZ=WP(),hEe=rZ(),lEe=oZ();fZ.exports={Commented:aZ,Diagnose:uZ,Decoder:q1,Encoder:$1,Simple:fEe,Tagged:cZ,Map:hEe,SharedValueEncoder:lEe,comment:aZ.comment,decodeAll:q1.decodeAll,decodeFirst:q1.decodeFirst,decodeAllSync:q1.decodeAllSync,decodeFirstSync:q1.decodeFirstSync,diagnose:uZ.diagnose,encode:$1.encode,encodeCanonical:$1.encodeCanonical,encodeOne:$1.encodeOne,encodeAsync:$1.encodeAsync,decode:q1.decodeFirstSync,leveldb:{decode:q1.decodeFirstSync,encode:$1.encode,buffer:!0,name:"cbor"},reset(){$1.reset(),cZ.reset()}}});var lZ=$(Pu=>{k();M();Object.defineProperty(Pu,"__esModule",{value:!0});Pu.getCatNFTCommitScript=Pu.getCatCollectionCommitScript=Pu.getCatCommitScript=Pu.chunks=Pu.toPushData=void 0;var Ms=l2(),rO=hZ(),km=520;function To(t){let e=[],r=t.length;if(r<76){let n=A.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=255){e.push(A.Buffer.from("4c","hex"));let n=A.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=65535){e.push(A.Buffer.from("4d","hex"));let n=A.Buffer.alloc(2);n.writeUint16LE(r),e.push(n)}else{e.push(A.Buffer.from("4e","hex"));let n=A.Buffer.alloc(4);n.writeUint32LE(r),e.push(n)}return e.push(t),A.Buffer.concat(e)}Pu.toPushData=To;function w2(t,e){let r=[],n=0;for(;n<t.length;){let i=t.slice(n,n+e);r.push(i),n+=e}return r}Pu.chunks=w2;var dEe=(t,e)=>{let r=new Map;for(let o in e)r.set(o,e[o]);let n=A.Buffer.from(rO.encode(r)),i=[];i.push(To(A.Buffer.from(t,"hex"))),i.push(Ms.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),i.push(Ms.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),i.push(Ms.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),i.push(Ms.btc.Script.fromASM("OP_1").toBuffer());let s=w2(Array.from(n),km);for(let o of s)i.push(To(A.Buffer.from(o)));return i.push(Ms.btc.Script.fromASM("OP_ENDIF").toBuffer()),i.push(Ms.btc.Script.fromASM("OP_1").toBuffer()),A.Buffer.concat(i).toString("hex")};Pu.getCatCommitScript=dEe;var pEe=(t,e,r)=>{let n=[];if(n.push(To(A.Buffer.from(t,"hex"))),n.push(Ms.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_2").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let o in e)i.set(o,e[o]);let s=w2(Array.from(A.Buffer.from(rO.encode(i))),km);for(let o of s)n.push(To(A.Buffer.from([5]))),n.push(To(A.Buffer.from(o)))}if(r){n.push(To(A.Buffer.from([1]))),n.push(To(A.Buffer.from(r.type,"utf-8"))),n.push(A.Buffer.from([0]));let i=w2(Array.from(A.Buffer.from(r.body,"hex")),km);for(let s of i)n.push(To(A.Buffer.from(s)))}return n.push(Ms.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_1").toBuffer()),A.Buffer.concat(n).toString("hex")};Pu.getCatCollectionCommitScript=pEe;var mEe=(t,e,r)=>{let n=[];if(n.push(To(A.Buffer.from(t,"hex"))),n.push(Ms.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_3").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let o in e)i.set(o,e[o]);let s=w2(Array.from(A.Buffer.from(rO.encode(i))),km);for(let o of s)n.push(To(A.Buffer.from([5]))),n.push(To(A.Buffer.from(o)))}if(r){n.push(To(A.Buffer.from([1]))),n.push(To(A.Buffer.from(r.type,"utf-8"))),n.push(A.Buffer.from([0]));let i=w2(Array.from(A.Buffer.from(r.body,"hex")),km);for(let s of i)n.push(To(A.Buffer.from(s)))}return n.push(Ms.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Ms.btc.Script.fromASM("OP_1").toBuffer()),A.Buffer.concat(n).toString("hex")};Pu.getCatNFTCommitScript=mEe});var LQ=$(Nc=>{"use strict";k();M();function mO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function gEe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function OZ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function bEe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");mO(t.outputLen),mO(t.blockLen)}function yEe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vEe(t,e){OZ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var _Ee={number:mO,bool:gEe,bytes:OZ,hash:bEe,exists:yEe,output:vEe},nO=_Ee;var iO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),L0=(t,e)=>t<<32-e|t>>>e,xEe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xEe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function SEe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function BZ(t){if(typeof t=="string"&&(t=SEe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var wEe=class{clone(){return this._cloneInto()}};function CZ(t){let e=n=>t().update(BZ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function EEe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var TEe=class extends wEe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=iO(this.buffer)}update(e){nO.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=BZ(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=iO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){nO.exists(this),nO.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;EEe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=iO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},AEe=(t,e,r)=>t&e^~t&r,IEe=(t,e,r)=>t&e^t&r^e&r,PEe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Pd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Od=new Uint32Array(64),kZ=class extends TEe{constructor(){super(64,32,8,!1),this.A=Pd[0]|0,this.B=Pd[1]|0,this.C=Pd[2]|0,this.D=Pd[3]|0,this.E=Pd[4]|0,this.F=Pd[5]|0,this.G=Pd[6]|0,this.H=Pd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Od[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Od[f-15],l=Od[f-2],y=L0(p,7)^L0(p,18)^p>>>3,_=L0(l,17)^L0(l,19)^l>>>10;Od[f]=_+Od[f-7]+y+Od[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=L0(a,6)^L0(a,11)^L0(a,25),l=h+p+AEe(a,u,c)+PEe[f]+Od[f]|0,_=(L0(n,2)^L0(n,13)^L0(n,22))+IEe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Od.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},OEe=class extends kZ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},gO=CZ(()=>new kZ);CZ(()=>new OEe);function BEe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function CEe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function kEe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:MEe}=crypto??globalThis.crypto??window.crypto;function REe(t=32){if(typeof MEe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function NEe(t,e,r="be"){e===void 0&&(e=t.length),BEe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function MZ(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var FEe=new TextEncoder,HEe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function RZ(t){for(let e of HEe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function DEe(t,e,r=!1){typeof t=="string"&&(t=FEe.encode(t));let n=RZ(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function LEe(t,e){let r=RZ(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function NZ(t){return gO(gO(t))}function UEe(t){let e=NZ(t);return MZ([t,e.slice(0,4)])}function qEe(t){let e=t.slice(0,-4),r=t.slice(-4);if(NZ(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var dZ={encode:DEe,decode:LEe},FZ={encode:t=>{let e=UEe(t);return dZ.encode(e,"base58")},decode:t=>{let e=dZ.decode(t,"base58");return qEe(e)}},HZ="qpzry9x8gf2tvdw0s3jn54khce6mua7l",$Ee=[996825010,642813549,513874426,1027748829,705979059],bv=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function DZ(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=$Ee[i])}return e}function LZ(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function jEe(t,e,r){let n=LZ(t).concat(e);return DZ(n)===r.const}function KEe(t,e,r){let n=LZ(t).concat(e).concat([0,0,0,0,0,0]),i=DZ(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function UZ(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function VEe(t,e,r){let n=e.concat(KEe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=HZ.charAt(n[s]);return i}function qZ(t){if(!GEe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!zEe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=HZ.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=bv.find(s=>s.version===e[0])??bv[0];if(!jEe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function GEe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function zEe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function WEe(t,e="bc",r=0){let n=[r,...UZ([...t],8,5)],i=bv.find(o=>o.version===r)??bv[0],s=VEe(e,n,i);return $Z(s),s}function $Z(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=qZ(t),i=UZ(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function YEe(t){t=t.toLowerCase();let[e,r]=qZ(t);return r[0]}var jZ={encode:WEe,decode:$Z,version:YEe},KZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",XEe=new TextEncoder;function GZ(t,e=!1,r=!0){typeof t=="string"&&(t=XEe.encode(t));let n=e?VZ:KZ,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function zZ(t,e=!1){let r=e||t.includes("-")||t.includes("_")?VZ.split(""):KZ.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var WZ={encode:GZ,decode:zZ},YZ={encode:t=>GZ(t,!0,!1),decode:t=>zZ(t,!0)},ZEe=BigInt(0),JEe=BigInt(255),XZ=BigInt(256);function QEe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function eTe(t,e,r="be"){e===void 0&&(e=QEe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>ZEe;){let a=t&JEe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/XZ}return new Uint8Array(i)}function tTe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*XZ+BigInt(t[r]);return BigInt(e)}function rTe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function nTe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function iTe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function sTe(t,e,r="be"){e===void 0&&(e=iTe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function oTe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],kEe(e);return e}var aTe=new TextEncoder,uTe=new TextDecoder;function qO(t){return aTe.encode(t)}function sO(t){return uTe.decode(t)}function cTe(t,e){CEe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function fTe(t,e,r="le"){e=cTe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function hTe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function lTe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return qO(e)}function dTe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return NEe(t,e,r);if(typeof t=="string")return fTe(t,e,r);if(typeof t=="bigint")return eTe(t,e,r);if(typeof t=="number")return sTe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var ir,fe=(ir=class extends Uint8Array{static random(e=32){let r=REe(e);return new ir(r,e)}constructor(e,r,n){let i=dTe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new F2(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return oTe(r)}toBin(){return nTe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return tTe(r)}toHash(){let e=gO(this);return new ir(e)}toJson(){let e=sO(this);return JSON.parse(e)}toBech32(e,r=0){return jZ.encode(this,e,r)}toStr(){return sO(this)}toHex(){return hTe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return FZ.encode(this)}toBase64(){return WZ.encode(this)}toB64url(){return YZ.encode(this)}prepend(e){return ir.join([ir.bytes(e),this])}append(e){return ir.join([this,ir.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new ir(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new ir(n)}reverse(){let e=new Uint8Array(this).reverse();return new ir(e)}write(e,r){let n=ir.bytes(e);this.set(n,r)}prefixSize(e){let r=ir.varInt(this.length,e);return ir.join([r,this])}static from(e){return new ir(Uint8Array.from(e))}static of(...e){return new ir(Uint8Array.of(...e))}static join(e){let r=e.map(i=>ir.bytes(i)),n=MZ(r);return new ir(n)}static varInt(e,r){if(e<253)return ir.num(e,1);if(e<65536)return ir.of(253,...ir.num(e,2,r));if(e<4294967296)return ir.of(254,...ir.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return ir.of(255,...ir.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},(()=>{ir.num=pTe})(),(()=>{ir.big=gTe})(),(()=>{ir.bin=mTe})(),(()=>{ir.raw=bTe})(),(()=>{ir.str=yTe})(),(()=>{ir.hex=vTe})(),(()=>{ir.bytes=_Te})(),(()=>{ir.json=xTe})(),(()=>{ir.base64=STe})(),(()=>{ir.b64url=wTe})(),(()=>{ir.bech32=ETe})(),(()=>{ir.b58chk=TTe})(),(()=>{ir.encode=qO})(),(()=>{ir.decode=sO})(),ir);function pTe(t,e,r){return new fe(t,e,r)}function mTe(t,e,r){return new fe(rTe(t),e,r)}function gTe(t,e,r){return new fe(t,e,r)}function bTe(t,e,r){return new fe(t,e,r)}function yTe(t,e,r){return new fe(qO(t),e,r)}function vTe(t,e,r){return new fe(t,e,r)}function _Te(t,e,r){return new fe(t,e,r)}function xTe(t){return new fe(lTe(t))}function STe(t){return new fe(WZ.decode(t))}function wTe(t){return new fe(YZ.decode(t))}function ETe(t){return new fe(jZ.decode(t))}function TTe(t){return new fe(FZ.decode(t))}var F2=class{constructor(e){this.data=fe.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new fe(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}};function z0(t,e){let r=fe.bytes(t);if(r.length!==e)throw new Error(`Invalid input size: ${r.hex} !== ${e}`)}function ro(t,e){if(e)throw new Error(t);return!1}function mv(t,...e){let r=fe.str(t).digest.raw,n=e.map(i=>fe.bytes(i));return fe.join([r,r,fe.join(n)]).digest}var ZZ={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_SUCCESS187:187,OP_SUCCESS188:188,OP_SUCCESS189:189,OP_SUCCESS190:190,OP_SUCCESS191:191,OP_SUCCESS192:192,OP_SUCCESS193:193,OP_SUCCESS194:194,OP_SUCCESS195:195,OP_SUCCESS196:196,OP_SUCCESS197:197,OP_SUCCESS198:198,OP_SUCCESS199:199,OP_SUCCESS200:200,OP_SUCCESS201:201,OP_SUCCESS202:202,OP_SUCCESS203:203,OP_SUCCESS204:204,OP_SUCCESS205:205,OP_SUCCESS206:206,OP_SUCCESS207:207,OP_SUCCESS208:208,OP_SUCCESS209:209,OP_SUCCESS210:210,OP_SUCCESS211:211,OP_SUCCESS212:212,OP_SUCCESS213:213,OP_SUCCESS214:214,OP_SUCCESS215:215,OP_SUCCESS216:216,OP_SUCCESS217:217,OP_SUCCESS218:218,OP_SUCCESS219:219,OP_SUCCESS220:220,OP_SUCCESS221:221,OP_SUCCESS222:222,OP_SUCCESS223:223,OP_SUCCESS224:224,OP_SUCCESS225:225,OP_SUCCESS226:226,OP_SUCCESS227:227,OP_SUCCESS228:228,OP_SUCCESS229:229,OP_SUCCESS230:230,OP_SUCCESS231:231,OP_SUCCESS232:232,OP_SUCCESS233:233,OP_SUCCESS234:234,OP_SUCCESS235:235,OP_SUCCESS236:236,OP_SUCCESS237:237,OP_SUCCESS238:238,OP_SUCCESS239:239,OP_SUCCESS240:240,OP_SUCCESS241:241,OP_SUCCESS242:242,OP_SUCCESS243:243,OP_SUCCESS244:244,OP_SUCCESS245:245,OP_SUCCESS246:246,OP_SUCCESS247:247,OP_SUCCESS248:248,OP_SUCCESS249:249,OP_SUCCESS250:250,OP_SUCCESS251:251,OP_SUCCESS252:252,OP_SUCCESS253:253,OP_SUCCESS254:254};function ATe(t){if(t>186&&t<255)return"OP_SUCCESS"+String(t);for(let[e,r]of Object.entries(ZZ))if(r===t)return e;throw new Error("OPCODE not found:"+String(t))}function ITe(t){for(let[e,r]of Object.entries(ZZ))if(e===t)return Number(r);throw new Error("OPCODE not found:"+t)}function PTe(t){switch(!0){case t===0:return"opcode";case(t>=1&&t<=75):return"varint";case t===76:return"pushdata1";case t===77:return"pushdata2";case t===78:return"pushdata4";case t<=254:return"opcode";default:throw new Error(`Invalid word range: ${t}`)}}function OTe(t){let n=[];switch(!0){case typeof t!="number":return!1;case t===0:return!0;case n.includes(t):return!1;case(75<t&&t<254):return!0;default:return!1}}function gh(t){return typeof t=="string"&&t.length%2===0&&/[0-9a-fA-F]/.test(t)}function JZ(t){return gh(t)||t instanceof Uint8Array}var yv=520;function Gd(t=[],e=!0){let r=fe.num(0);return Array.isArray(t)&&(r=fe.raw(QZ(t))),gh(t)&&(r=fe.hex(t)),t instanceof Uint8Array&&(r=fe.raw(t)),e&&(r=r.prefixSize("le")),r}function QZ(t){let e=[];for(let r of t)e.push(BTe(r));return e.length>0?fe.join(e):new Uint8Array}function BTe(t){let e=new Uint8Array;if(typeof t=="string"){if(t.startsWith("OP_"))return fe.num(ITe(t),1);gh(t)?e=fe.hex(t):e=fe.str(t)}else e=fe.bytes(t);if(e.length===1)return e[0]!==0&&e[0]<=16?(e[0]+=80,e):(e[0]>128&&e[0]<=255&&(e=new Uint8Array([e[0],0])),fe.join([pZ(e.length),e]));if(e.length>yv){let r=CTe(e);return QZ(r)}else return fe.join([pZ(e.length),e])}function pZ(t){let e=fe.num(76,1),r=fe.num(77,1);switch(!0){case t<=75:return fe.num(t);case(t>75&&t<256):return fe.join([e,fe.num(t,1,"le")]);case(t>=256&&t<=yv):return fe.join([r,fe.num(t,2,"le")]);default:throw new Error("Invalid word size:"+t.toString())}}function CTe(t){let e=[],r=new F2(t);for(;r.size>yv;)e.push(r.read(yv));return e.push(r.read(r.size)),e}function Lv(t,e=!1){let r=fe.bytes(t);if(e){let i=r.stream.readSize("le");if(r=r.slice(1),r.length!==i)throw new Error(`Varint does not match stream size: ${i} !== ${r.length}`)}return kTe(r)}function kTe(t){let e=new F2(t),r=[],n=e.size,i,s,o,a=0;for(;a<n;)switch(i=e.read(1).num,s=PTe(i),a++,s){case"varint":r.push(e.read(i).hex),a+=i;break;case"pushdata1":o=e.read(1).reverse().num,r.push(e.read(o).hex),a+=o+1;break;case"pushdata2":o=e.read(2).reverse().num,r.push(e.read(o).hex),a+=o+2;break;case"pushdata4":o=e.read(4).reverse().num,r.push(e.read(o).hex),a+=o+4;break;case"opcode":if(!OTe(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(ATe(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function MTe(t,e){if(Array.isArray(t)&&(t=Gd(t,e)),t instanceof Uint8Array||gh(t))return Lv(t,e);throw new Error("Invalid format: "+String(typeof t))}function RTe(t,e){if((t instanceof Uint8Array||gh(t))&&(t=Lv(t,e)),Array.isArray(t))return Gd(t,e);throw new Error("Invalid format: "+String(typeof t))}function NTe(t){if(!Array.isArray(t))return fe.bytes(t);throw new Error("Invalid format: "+String(typeof t))}var FTe={toAsm:MTe,toBytes:RTe,toParam:NTe},Fs={encode:Gd,decode:Lv,fmt:FTe};function bO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function HTe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function eJ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function DTe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bO(t.outputLen),bO(t.blockLen)}function LTe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UTe(t,e){eJ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var qTe={number:bO,bool:HTe,bytes:eJ,hash:DTe,exists:LTe,output:UTe},V1=qTe,oO=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var aO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),U0=(t,e)=>t<<32-e|t>>>e,$Te=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$Te)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jTe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function $O(t){if(typeof t=="string"&&(t=jTe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function KTe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var tJ=class{clone(){return this._cloneInto()}};function rJ(t){let e=n=>t().update($O(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function nJ(t=32){if(oO&&typeof oO.getRandomValues=="function")return oO.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function VTe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var GTe=class extends tJ{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=aO(this.buffer)}update(e){V1.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=$O(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=aO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){V1.exists(this),V1.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;VTe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=aO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},zTe=(t,e,r)=>t&e^~t&r,WTe=(t,e,r)=>t&e^t&r^e&r,YTe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cd=new Uint32Array(64),iJ=class extends GTe{constructor(){super(64,32,8,!1),this.A=Bd[0]|0,this.B=Bd[1]|0,this.C=Bd[2]|0,this.D=Bd[3]|0,this.E=Bd[4]|0,this.F=Bd[5]|0,this.G=Bd[6]|0,this.H=Bd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Cd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Cd[f-15],l=Cd[f-2],y=U0(p,7)^U0(p,18)^p>>>3,_=U0(l,17)^U0(l,19)^l>>>10;Cd[f]=_+Cd[f-7]+y+Cd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=U0(a,6)^U0(a,11)^U0(a,25),l=h+p+zTe(a,u,c)+YTe[f]+Cd[f]|0,_=(U0(n,2)^U0(n,13)^U0(n,22))+WTe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Cd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},XTe=class extends iJ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},vv=rJ(()=>new iJ);rJ(()=>new XTe);var ZTe=BigInt(0),jO=BigInt(1),JTe=BigInt(2),Uv=t=>t instanceof Uint8Array,QTe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function A2(t){if(!Uv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=QTe[t[r]];return e}function sJ(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function KO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function I2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Ao(t){return KO(A2(t))}function VO(t){if(!Uv(t))throw new Error("Uint8Array expected");return KO(A2(Uint8Array.from(t).reverse()))}var Ud=(t,e)=>I2(t.toString(16).padStart(e*2,"0")),oJ=(t,e)=>Ud(t,e).reverse(),eAe=t=>I2(sJ(t));function Rs(t,e,r){let n;if(typeof e=="string")try{n=I2(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Uv(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Ia(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Uv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function tAe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function qv(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function rAe(t){let e;for(e=0;t>0n;t>>=jO,e+=1);return e}var nAe=(t,e)=>t>>BigInt(e)&1n,iAe=(t,e,r)=>t|(r?jO:ZTe)<<BigInt(e),GO=t=>(JTe<<BigInt(t-1))-jO,uO=t=>new Uint8Array(t),mZ=t=>Uint8Array.from(t);function aJ(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=uO(t),i=uO(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=uO())=>{i=a(mZ([0]),f),n=a(),f.length!==0&&(i=a(mZ([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,p=[];for(;f<e;){n=a();let l=n.slice();p.push(l),f+=n.length}return Ia(...p)};return(f,p)=>{o(),u(f);let l;for(;!(l=p(c()));)u();return o(),l}}var sAe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function H2(t,e,r={}){let n=(i,s,o)=>{let a=sAe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var oAe=Object.freeze({__proto__:null,bitGet:nAe,bitLen:rAe,bitMask:GO,bitSet:iAe,bytesToHex:A2,bytesToNumberBE:Ao,bytesToNumberLE:VO,concatBytes:Ia,createHmacDrbg:aJ,ensureBytes:Rs,equalBytes:tAe,hexToBytes:I2,hexToNumber:KO,numberToBytesBE:Ud,numberToBytesLE:oJ,numberToHexUnpadded:sJ,numberToVarBytesBE:eAe,utf8ToBytes:qv,validateObject:H2});var ps=BigInt(0),vi=BigInt(1),K1=BigInt(2),aAe=BigInt(3),yO=BigInt(4),gZ=BigInt(5),bZ=BigInt(8);BigInt(9);BigInt(16);function Zi(t,e){let r=t%e;return r>=ps?r:e+r}function uAe(t,e,r){if(r<=ps||e<ps)throw new Error("Expected power/modulo > 0");if(r===vi)return ps;let n=vi;for(;e>ps;)e&vi&&(n=n*t%r),t=t*t%r,e>>=vi;return n}function Ou(t,e,r){let n=t;for(;e-- >ps;)n*=n,n%=r;return n}function vO(t,e){if(t===ps||e<=ps)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Zi(t,e),n=e,i=ps,s=vi;for(;r!==ps;){let a=n/r,u=n%r,c=i-s*a;n=r,r=u,i=s,s=c}if(n!==vi)throw new Error("invert: does not exist");return Zi(i,e)}function cAe(t){let e=(t-vi)/K1,r,n,i;for(r=t-vi,n=0;r%K1===ps;r/=K1,n++);for(i=K1;i<t&&uAe(i,e,t)!==t-vi;i++);if(n===1){let o=(t+vi)/yO;return function(u,c){let h=u.pow(c,o);if(!u.eql(u.sqr(h),c))throw new Error("Cannot find square root");return h}}let s=(r+vi)/K1;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,h=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let l=1;for(let _=a.sqr(p);l<c&&!a.eql(_,a.ONE);l++)_=a.sqr(_);let y=a.pow(h,vi<<BigInt(c-l-1));h=a.sqr(y),f=a.mul(f,y),p=a.mul(p,h),c=l}return f}}function fAe(t){if(t%yO===aAe){let e=(t+vi)/yO;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%bZ===gZ){let e=(t-gZ)/bZ;return function(n,i){let s=n.mul(i,K1),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,K1),o),c=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return cAe(t)}var hAe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uJ(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=hAe.reduce((n,i)=>(n[i]="function",n),e);return H2(t,r)}function lAe(t,e,r){if(r<ps)throw new Error("Expected power > 0");if(r===ps)return t.ONE;if(r===vi)return e;let n=t.ONE,i=e;for(;r>ps;)r&vi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=vi;return n}function dAe(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function zO(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function cJ(t,e,r=!1,n={}){if(t<=ps)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=zO(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=fAe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:GO(i),ZERO:ps,ONE:vi,create:u=>Zi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ps<=u&&u<t},is0:u=>u===ps,isOdd:u=>(u&vi)===vi,neg:u=>Zi(-u,t),eql:(u,c)=>u===c,sqr:u=>Zi(u*u,t),add:(u,c)=>Zi(u+c,t),sub:(u,c)=>Zi(u-c,t),mul:(u,c)=>Zi(u*c,t),pow:(u,c)=>lAe(a,u,c),div:(u,c)=>Zi(u*vO(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>vO(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>dAe(a,u),cmov:(u,c,h)=>h?c:u,toBytes:u=>r?oJ(u,s):Ud(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?VO(u):Ao(u)}});return Object.freeze(a)}function pAe(t,e,r=!1){t=Rs("privateHash",t);let n=t.length,i=zO(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?VO(t):Ao(t);return Zi(s,e-vi)+vi}var mAe=BigInt(0),cO=BigInt(1);function gAe(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>mAe;)s&cO&&(o=o.add(a)),a=a.double(),s>>=cO;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],c=i,h=c;for(let f=0;f<o;f++){h=c,u.push(h);for(let p=1;p<a;p++)h=h.add(c),u.push(h);c=h.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),c=t.ZERO,h=t.BASE,f=BigInt(2**i-1),p=2**i,l=BigInt(i);for(let y=0;y<a;y++){let _=y*u,O=Number(o&f);o>>=l,O>u&&(O-=p,o+=cO);let F=_,B=_+Math.abs(O)-1,E=y%2!==0,I=O<0;O===0?h=h.add(r(E,s[F])):c=c.add(r(I,s[B]))}return{p:c,f:h}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function fJ(t){return uJ(t.Fp),H2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function bAe(t){let e=fJ(t);H2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:yAe,hexToBytes:vAe}=oAe,G1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=G1;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:yAe(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=G1,r=typeof t=="string"?vAe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=G1._parseInt(r.subarray(2)),{d:o,l:a}=G1._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)>=8?"00"+c:c,r=c=>{let h=c.toString(16);return h.length&1?`0${h}`:h},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},kc=BigInt(0),Xi=BigInt(1),ch=BigInt(2),_v=BigInt(3),yZ=BigInt(4);function _Ae(t){let e=bAe(t),{Fp:r}=e,n=e.toBytes||((y,_,O)=>{let F=_.toAffine();return Ia(Uint8Array.from([4]),r.toBytes(F.x),r.toBytes(F.y))}),i=e.fromBytes||(y=>{let _=y.subarray(1),O=r.fromBytes(_.subarray(0,r.BYTES)),F=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:O,y:F}});function s(y){let{a:_,b:O}=e,F=r.sqr(y),B=r.mul(F,y);return r.add(r.add(B,r.mul(y,_)),O)}function o(y){return typeof y=="bigint"&&kc<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:_,nByteLength:O,wrapPrivateKey:F,n:B}=e;if(_&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=A2(y)),typeof y!="string"||!_.includes(y.length))throw new Error("Invalid key");y=y.padStart(O*2,"0")}let E;try{E=typeof y=="bigint"?y:Ao(Rs("private key",y,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof y}`)}return F&&(E=Zi(E,B)),a(E),E}let c=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(_,O,F){if(this.px=_,this.py=O,this.pz=F,_==null||!r.isValid(_))throw new Error("x required");if(O==null||!r.isValid(O))throw new Error("y required");if(F==null||!r.isValid(F))throw new Error("z required")}static fromAffine(_){let{x:O,y:F}=_||{};if(!_||!r.isValid(O)||!r.isValid(F))throw new Error("invalid affine point");if(_ instanceof f)throw new Error("projective point not allowed");let B=E=>r.eql(E,r.ZERO);return B(O)&&B(F)?f.ZERO:new f(O,F,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){let O=r.invertBatch(_.map(F=>F.pz));return _.map((F,B)=>F.toAffine(O[B])).map(f.fromAffine)}static fromHex(_){let O=f.fromAffine(i(Rs("pointHex",_)));return O.assertValidity(),O}static fromPrivateKey(_){return f.BASE.multiply(u(_))}_setWindowSize(_){this._WINDOW_SIZE=_,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:_,y:O}=this.toAffine();if(!r.isValid(_)||!r.isValid(O))throw new Error("bad point: x or y not FE");let F=r.sqr(O),B=s(_);if(!r.eql(F,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:_}=this.toAffine();if(r.isOdd)return!r.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:L}=_,N=r.eql(r.mul(O,L),r.mul(E,B)),H=r.eql(r.mul(F,L),r.mul(I,B));return N&&H}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:_,b:O}=e,F=r.mul(O,_v),{px:B,py:E,pz:I}=this,L=r.ZERO,N=r.ZERO,H=r.ZERO,D=r.mul(B,B),C=r.mul(E,E),d=r.mul(I,I),v=r.mul(B,E);return v=r.add(v,v),H=r.mul(B,I),H=r.add(H,H),L=r.mul(_,H),N=r.mul(F,d),N=r.add(L,N),L=r.sub(C,N),N=r.add(C,N),N=r.mul(L,N),L=r.mul(v,L),H=r.mul(F,H),d=r.mul(_,d),v=r.sub(D,d),v=r.mul(_,v),v=r.add(v,H),H=r.add(D,D),D=r.add(H,D),D=r.add(D,d),D=r.mul(D,v),N=r.add(N,D),d=r.mul(E,I),d=r.add(d,d),D=r.mul(d,v),L=r.sub(L,D),H=r.mul(d,C),H=r.add(H,H),H=r.add(H,H),new f(L,N,H)}add(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:L}=_,N=r.ZERO,H=r.ZERO,D=r.ZERO,C=e.a,d=r.mul(e.b,_v),v=r.mul(O,E),g=r.mul(F,I),m=r.mul(B,L),S=r.add(O,F),w=r.add(E,I);S=r.mul(S,w),w=r.add(v,g),S=r.sub(S,w),w=r.add(O,B);let R=r.add(E,L);return w=r.mul(w,R),R=r.add(v,m),w=r.sub(w,R),R=r.add(F,B),N=r.add(I,L),R=r.mul(R,N),N=r.add(g,m),R=r.sub(R,N),D=r.mul(C,w),N=r.mul(d,m),D=r.add(N,D),N=r.sub(g,D),D=r.add(g,D),H=r.mul(N,D),g=r.add(v,v),g=r.add(g,v),m=r.mul(C,m),w=r.mul(d,w),g=r.add(g,m),m=r.sub(v,m),m=r.mul(C,m),w=r.add(w,m),v=r.mul(g,w),H=r.add(H,v),v=r.mul(R,w),N=r.mul(S,N),N=r.sub(N,v),v=r.mul(S,g),D=r.mul(R,D),D=r.add(D,v),new f(N,H,D)}subtract(_){return this.add(_.negate())}is0(){return this.equals(f.ZERO)}wNAF(_){return l.wNAFCached(this,c,_,O=>{let F=r.invertBatch(O.map(B=>B.pz));return O.map((B,E)=>B.toAffine(F[E])).map(f.fromAffine)})}multiplyUnsafe(_){let O=f.ZERO;if(_===kc)return O;if(a(_),_===Xi)return this;let{endo:F}=e;if(!F)return l.unsafeLadder(this,_);let{k1neg:B,k1:E,k2neg:I,k2:L}=F.splitScalar(_),N=O,H=O,D=this;for(;E>kc||L>kc;)E&Xi&&(N=N.add(D)),L&Xi&&(H=H.add(D)),D=D.double(),E>>=Xi,L>>=Xi;return B&&(N=N.negate()),I&&(H=H.negate()),H=new f(r.mul(H.px,F.beta),H.py,H.pz),N.add(H)}multiply(_){a(_);let O=_,F,B,{endo:E}=e;if(E){let{k1neg:I,k1:L,k2neg:N,k2:H}=E.splitScalar(O),{p:D,f:C}=this.wNAF(L),{p:d,f:v}=this.wNAF(H);D=l.constTimeNegate(I,D),d=l.constTimeNegate(N,d),d=new f(r.mul(d.px,E.beta),d.py,d.pz),F=D.add(d),B=C.add(v)}else{let{p:I,f:L}=this.wNAF(O);F=I,B=L}return f.normalizeZ([F,B])[0]}multiplyAndAddUnsafe(_,O,F){let B=f.BASE,E=(L,N)=>N===kc||N===Xi||!L.equals(B)?L.multiplyUnsafe(N):L.multiply(N),I=E(this,O).add(E(_,F));return I.is0()?void 0:I}toAffine(_){let{px:O,py:F,pz:B}=this,E=this.is0();_==null&&(_=E?r.ONE:r.inv(B));let I=r.mul(O,_),L=r.mul(F,_),N=r.mul(B,_);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:I,y:L}}isTorsionFree(){let{h:_,isTorsionFree:O}=e;if(_===Xi)return!0;if(O)return O(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:_,clearCofactor:O}=e;return _===Xi?this:O?O(f,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return this.assertValidity(),n(f,this,_)}toHex(_=!0){return A2(this.toRawBytes(_))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let p=e.nBitLength,l=gAe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function xAe(t){let e=fJ(t);return H2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function SAe(t){let e=xAe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(w){return kc<w&&w<r.ORDER}function a(w){return Zi(w,n)}function u(w){return vO(w,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=_Ae({...e,toBytes(w,R,T){let b=R.toAffine(),x=r.toBytes(b.x),P=Ia;return T?P(Uint8Array.from([R.hasEvenY()?2:3]),x):P(Uint8Array.from([4]),x,r.toBytes(b.y))},fromBytes(w){let R=w.length,T=w[0],b=w.subarray(1);if(R===i&&(T===2||T===3)){let x=Ao(b);if(!o(x))throw new Error("Point is not on curve");let P=f(x),U=r.sqrt(P),K=(U&Xi)===Xi;return(T&1)===1!==K&&(U=r.neg(U)),{x,y:U}}else if(R===s&&T===4){let x=r.fromBytes(b.subarray(0,r.BYTES)),P=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x,y:P}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),l=w=>A2(Ud(w,e.nByteLength));function y(w){let R=n>>Xi;return w>R}function _(w){return y(w)?a(-w):w}let O=(w,R,T)=>Ao(w.slice(R,T));class F{constructor(R,T,b){this.r=R,this.s=T,this.recovery=b,this.assertValidity()}static fromCompact(R){let T=e.nByteLength;return R=Rs("compactSignature",R,T*2),new F(O(R,0,T),O(R,T,2*T))}static fromDER(R){let{r:T,s:b}=G1.toSig(Rs("DER",R));return new F(T,b)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new F(this.r,this.s,R)}recoverPublicKey(R){let{r:T,s:b,recovery:x}=this,P=H(Rs("msgHash",R));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");let U=x===2||x===3?T+e.n:T;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(x&1)===0?"02":"03",z=c.fromHex(K+l(U)),Q=u(U),oe=a(-P*Q),ie=a(b*Q),q=c.BASE.multiplyAndAddUnsafe(z,oe,ie);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return I2(this.toDERHex())}toDERHex(){return G1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return I2(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}let B={isValidPrivateKey(w){try{return h(w),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let w=e.randomBytes(r.BYTES+8),R=pAe(w,n);return Ud(R,e.nByteLength)},precompute(w=8,R=c.BASE){return R._setWindowSize(w),R.multiply(BigInt(3)),R}};function E(w,R=!0){return c.fromPrivateKey(w).toRawBytes(R)}function I(w){let R=w instanceof Uint8Array,T=typeof w=="string",b=(R||T)&&w.length;return R?b===i||b===s:T?b===2*i||b===2*s:w instanceof c}function L(w,R,T=!0){if(I(w))throw new Error("first arg must be private key");if(!I(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(h(w)).toRawBytes(T)}let N=e.bits2int||function(w){let R=Ao(w),T=w.length*8-e.nBitLength;return T>0?R>>BigInt(T):R},H=e.bits2int_modN||function(w){return a(N(w))},D=GO(e.nBitLength);function C(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(kc<=w&&w<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ud(w,e.nByteLength)}function d(w,R,T=v){if(["recovered","canonical"].some(J=>J in T))throw new Error("sign() legacy options not supported");let{hash:b,randomBytes:x}=e,{lowS:P,prehash:U,extraEntropy:K}=T;P==null&&(P=!0),w=Rs("msgHash",w),U&&(w=Rs("prehashed msgHash",b(w)));let z=H(w),Q=h(R),oe=[C(Q),C(z)];if(K!=null){let J=K===!0?x(r.BYTES):K;oe.push(Rs("extraEntropy",J,r.BYTES))}let ie=Ia(...oe),q=z;function X(J){let re=N(J);if(!p(re))return;let ae=u(re),me=c.BASE.multiply(re).toAffine(),_e=a(me.x);if(_e===kc)return;let Ie=a(ae*a(q+_e*Q));if(Ie===kc)return;let Le=(me.x===_e?0:2)|Number(me.y&Xi),Ce=Ie;return P&&y(Ie)&&(Ce=_(Ie),Le^=1),new F(_e,Ce,Le)}return{seed:ie,k2sig:X}}let v={lowS:e.lowS,prehash:!1},g={lowS:e.lowS,prehash:!1};function m(w,R,T=v){let{seed:b,k2sig:x}=d(w,R,T);return aJ(e.hash.outputLen,e.nByteLength,e.hmac)(b,x)}c.BASE._setWindowSize(8);function S(w,R,T,b=g){let x=w;if(R=Rs("msgHash",R),T=Rs("publicKey",T),"strict"in b)throw new Error("options.strict was renamed to lowS");let{lowS:P,prehash:U}=b,K,z;try{if(typeof x=="string"||x instanceof Uint8Array)try{K=F.fromDER(x)}catch(me){if(!(me instanceof G1.Err))throw me;K=F.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){let{r:me,s:_e}=x;K=new F(me,_e)}else throw new Error("PARSE");z=c.fromHex(T)}catch(me){if(me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&K.hasHighS())return!1;U&&(R=e.hash(R));let{r:Q,s:oe}=K,ie=H(R),q=u(oe),X=a(ie*q),J=a(Q*q),re=c.BASE.multiplyAndAddUnsafe(z,X,J)?.toAffine();return re?a(re.x)===Q:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:L,sign:m,verify:S,ProjectivePoint:c,Signature:F,utils:B}}function wAe(t,e){let r=t.ORDER,n=kc;for(let p=r-Xi;p%ch===kc;p/=ch)n+=Xi;let i=n,s=(r-Xi)/ch**i,o=(s-Xi)/ch,a=ch**i-Xi,u=ch**(i-Xi),c=t.pow(e,s),h=t.pow(e,(s+Xi)/ch),f=(p,l)=>{let y=c,_=t.pow(l,a),O=t.sqr(_);O=t.mul(O,l);let F=t.mul(p,O);F=t.pow(F,o),F=t.mul(F,_),_=t.mul(F,l),O=t.mul(F,p);let B=t.mul(O,_);F=t.pow(B,u);let E=t.eql(F,t.ONE);_=t.mul(O,h),F=t.mul(B,y),O=t.cmov(_,O,E),B=t.cmov(F,B,E);for(let I=i;I>1;I--){let L=ch**(I-ch),N=t.pow(B,L),H=t.eql(N,t.ONE);_=t.mul(O,y),y=t.mul(y,y),N=t.mul(B,y),O=t.cmov(_,O,H),B=t.cmov(N,B,H)}return{isValid:E,value:O}};if(t.ORDER%yZ===_v){let p=(t.ORDER-_v)/yZ,l=t.sqrt(t.neg(e));f=(y,_)=>{let O=t.sqr(_),F=t.mul(y,_);O=t.mul(O,F);let B=t.pow(O,p);B=t.mul(B,F);let E=t.mul(B,l),I=t.mul(t.sqr(B),_),L=t.eql(I,y),N=t.cmov(E,B,L);return{isValid:L,value:N}}}return f}function EAe(t,e){if(uJ(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=wAe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,h,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),h=t.mul(i,o);let{isValid:p,value:l}=r(s,c);f=t.mul(i,n),f=t.mul(f,l),h=t.cmov(h,o,p),f=t.cmov(f,l,p);let y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),h=t.div(h,a),{x:h,y:f}}}function TAe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return qv(t);throw new Error("DST must be Uint8Array or string")}var AAe=Ao;function Dd(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function IAe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Rm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function WO(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function PAe(t,e,r,n){Rm(t),Rm(e),WO(r),e.length>255&&(e=n(Ia(qv("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let a=Ia(e,Dd(e.length,1)),u=Dd(0,s),c=Dd(r,2),h=new Array(o),f=n(Ia(u,t,c,Dd(0,1),a));h[0]=n(Ia(f,Dd(1,1),a));for(let l=1;l<=o;l++){let y=[IAe(f,h[l-1]),Dd(l+1,1),a];h[l]=n(Ia(...y))}return Ia(...h).slice(0,r)}function OAe(t,e,r,n,i){if(Rm(t),Rm(e),WO(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(qv("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Dd(r,2)).update(e).update(Dd(e.length,1)).digest()}function vZ(t,e,r){H2(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:a,DST:u}=r;Rm(t),WO(e);let c=TAe(u),h=n.toString(2).length,f=Math.ceil((h+i)/8),p=e*s*f,l;if(a==="xmd")l=PAe(t,c,p,o);else if(a==="xof")l=OAe(t,c,p,i,o);else if(a===void 0)l=t;else throw new Error('expand must be "xmd", "xof" or undefined');let y=new Array(e);for(let _=0;_<e;_++){let O=new Array(s);for(let F=0;F<s;F++){let B=f*(F+_*s),E=l.subarray(B,B+f);O[F]=Zi(AAe(E),n)}y[_]=O}return y}function BAe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,a,u]=r.map(c=>c.reduce((h,f)=>t.add(t.mul(h,n),f)));return n=t.div(s,o),i=t.mul(i,t.div(a,u)),{x:n,y:i}}}function CAe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=vZ(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=vZ(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}var hJ=class extends tJ{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,V1.hash(e);let n=$O(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return V1.exists(this),this.iHash.update(e),this}digestInto(e){V1.exists(this),V1.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},lJ=(t,e,r)=>new hJ(t,e).update(r).digest();lJ.create=(t,e)=>new hJ(t,e);function kAe(t){return{hash:t,hmac:(e,...r)=>lJ(t,e,KTe(...r)),randomBytes:nJ}}function MAe(t,e){let r=n=>SAe({...t,...kAe(n)});return Object.freeze({...r(e),create:r})}var $v=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xv=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dJ=BigInt(1),Sv=BigInt(2),_Z=(t,e)=>(t+e/Sv)/e;function pJ(t){let e=$v,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,h=c*c*t%e,f=Ou(h,r,e)*h%e,p=Ou(f,r,e)*h%e,l=Ou(p,Sv,e)*c%e,y=Ou(l,i,e)*l%e,_=Ou(y,s,e)*y%e,O=Ou(_,a,e)*_%e,F=Ou(O,u,e)*O%e,B=Ou(F,a,e)*_%e,E=Ou(B,r,e)*h%e,I=Ou(E,o,e)*y%e,L=Ou(I,n,e)*c%e,N=Ou(L,Sv,e);if(!$d.eql($d.sqr(N),t))throw new Error("Cannot find square root");return N}var $d=cJ($v,void 0,void 0,{sqrt:pJ}),j0=MAe({a:BigInt(0),b:BigInt(7),Fp:$d,n:xv,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=xv,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-dJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=_Z(s*t,e),u=_Z(-n*t,e),c=Zi(t-a*r-u*i,e),h=Zi(-a*n-u*s,e),f=c>o,p=h>o;if(f&&(c=e-c),p&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:h}}}},vv),jv=BigInt(0),mJ=t=>typeof t=="bigint"&&jv<t&&t<$v,RAe=t=>typeof t=="bigint"&&jv<t&&t<xv,xZ={};function wv(t,...e){let r=xZ[t];if(r===void 0){let n=vv(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Ia(n,n),xZ[t]=r}return vv(Ia(r,...e))}var YO=t=>t.toRawBytes(!0).slice(1),_O=t=>Ud(t,32),fO=t=>Zi(t,$v),Nm=t=>Zi(t,xv),XO=j0.ProjectivePoint,NAe=(t,e,r)=>XO.BASE.multiplyAndAddUnsafe(t,e,r);function xO(t){let e=j0.utils.normPrivateKeyToScalar(t),r=XO.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Nm(-e),bytes:YO(r)}}function gJ(t){if(!mJ(t))throw new Error("bad x: need 0 < x < p");let e=fO(t*t),r=fO(e*t+BigInt(7)),n=pJ(r);n%Sv!==jv&&(n=fO(-n));let i=new XO(t,n,dJ);return i.assertValidity(),i}function bJ(...t){return Nm(Ao(wv("BIP0340/challenge",...t)))}function FAe(t){return xO(t).bytes}function HAe(t,e,r=nJ(32)){let n=Rs("message",t),{bytes:i,scalar:s}=xO(e),o=Rs("auxRand",r,32),a=_O(s^Ao(wv("BIP0340/aux",o))),u=wv("BIP0340/nonce",a,i,n),c=Nm(Ao(u));if(c===jv)throw new Error("sign failed: k is zero");let{bytes:h,scalar:f}=xO(c),p=bJ(h,i,n),l=new Uint8Array(64);if(l.set(h,0),l.set(_O(Nm(f+p*s)),32),!yJ(l,n,i))throw new Error("sign: Invalid signature produced");return l}function yJ(t,e,r){let n=Rs("signature",t,64),i=Rs("message",e),s=Rs("publicKey",r,32);try{let o=gJ(Ao(s)),a=Ao(n.subarray(0,32));if(!mJ(a))return!1;let u=Ao(n.subarray(32,64));if(!RAe(u))return!1;let c=bJ(_O(a),YO(o),i),h=NAe(o,u,Nm(-c));return!(!h||!h.hasEvenY()||h.toAffine().x!==a)}catch{return!1}}var DAe={getPublicKey:FAe,sign:HAe,verify:yJ,utils:{randomPrivateKey:j0.utils.randomPrivateKey,lift_x:gJ,pointToBytes:YO,numberToBytesBE:Ud,bytesToNumberBE:Ao,taggedHash:wv,mod:Zi}},LAe=BAe($d,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),UAe=EAe($d,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:$d.create(BigInt("-11"))});CAe(j0.ProjectivePoint,t=>{let{x:e,y:r}=UAe($d.create(t[0]));return LAe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:$d.ORDER,m:1,k:128,expand:"xmd",hash:vv});function SO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function qAe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function vJ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function $Ae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");SO(t.outputLen),SO(t.blockLen)}function jAe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KAe(t,e){vJ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var VAe={number:SO,bool:qAe,bytes:vJ,hash:$Ae,exists:jAe,output:KAe},hO=VAe;var lO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),q0=(t,e)=>t<<32-e|t>>>e,GAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GAe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zAe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function _J(t){if(typeof t=="string"&&(t=zAe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var WAe=class{clone(){return this._cloneInto()}};function xJ(t){let e=n=>t().update(_J(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function YAe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var XAe=class extends WAe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=lO(this.buffer)}update(e){hO.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=_J(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=lO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hO.exists(this),hO.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;YAe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=lO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},ZAe=(t,e,r)=>t&e^~t&r,JAe=(t,e,r)=>t&e^t&r^e&r,QAe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Md=new Uint32Array(64),SJ=class extends XAe{constructor(){super(64,32,8,!1),this.A=kd[0]|0,this.B=kd[1]|0,this.C=kd[2]|0,this.D=kd[3]|0,this.E=kd[4]|0,this.F=kd[5]|0,this.G=kd[6]|0,this.H=kd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Md[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Md[f-15],l=Md[f-2],y=q0(p,7)^q0(p,18)^p>>>3,_=q0(l,17)^q0(l,19)^l>>>10;Md[f]=_+Md[f-7]+y+Md[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=q0(a,6)^q0(a,11)^q0(a,25),l=h+p+ZAe(a,u,c)+QAe[f]+Md[f]|0,_=(q0(n,2)^q0(n,13)^q0(n,22))+JAe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Md.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},eIe=class extends SJ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},wO=xJ(()=>new SJ);xJ(()=>new eIe);function tIe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function rIe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function nIe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:iIe}=crypto??globalThis.crypto??window.crypto;function sIe(t=32){if(typeof iIe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function oIe(t,e,r="be"){e===void 0&&(e=t.length),tIe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function wJ(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var aIe=new TextEncoder,uIe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function EJ(t){for(let e of uIe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function cIe(t,e,r=!1){typeof t=="string"&&(t=aIe.encode(t));let n=EJ(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function fIe(t,e){let r=EJ(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function TJ(t){return wO(wO(t))}function hIe(t){let e=TJ(t);return wJ([t,e.slice(0,4)])}function lIe(t){let e=t.slice(0,-4),r=t.slice(-4);if(TJ(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var SZ={encode:cIe,decode:fIe},AJ={encode:t=>{let e=hIe(t);return SZ.encode(e,"base58")},decode:t=>{let e=SZ.decode(t,"base58");return lIe(e)}},IJ="qpzry9x8gf2tvdw0s3jn54khce6mua7l",dIe=[996825010,642813549,513874426,1027748829,705979059],Ev=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function PJ(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=dIe[i])}return e}function OJ(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function pIe(t,e,r){let n=OJ(t).concat(e);return PJ(n)===r.const}function mIe(t,e,r){let n=OJ(t).concat(e).concat([0,0,0,0,0,0]),i=PJ(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function BJ(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function gIe(t,e,r){let n=e.concat(mIe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=IJ.charAt(n[s]);return i}function CJ(t){if(!bIe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!yIe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=IJ.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=Ev.find(s=>s.version===e[0])??Ev[0];if(!pIe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function bIe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function yIe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function vIe(t,e="bc",r=0){let n=[r,...BJ([...t],8,5)],i=Ev.find(o=>o.version===r)??Ev[0],s=gIe(e,n,i);return kJ(s),s}function kJ(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=CJ(t),i=BJ(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function _Ie(t){t=t.toLowerCase();let[e,r]=CJ(t);return r[0]}var MJ={encode:vIe,decode:kJ,version:_Ie},RJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",NJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",xIe=new TextEncoder;function FJ(t,e=!1,r=!0){typeof t=="string"&&(t=xIe.encode(t));let n=e?NJ:RJ,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function HJ(t,e=!1){let r=e||t.includes("-")||t.includes("_")?NJ.split(""):RJ.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var DJ={encode:FJ,decode:HJ},LJ={encode:t=>FJ(t,!0,!1),decode:t=>HJ(t,!0)},SIe=BigInt(0),wIe=BigInt(255),UJ=BigInt(256);function EIe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function TIe(t,e,r="be"){e===void 0&&(e=EIe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>SIe;){let a=t&wIe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/UJ}return new Uint8Array(i)}function AIe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*UJ+BigInt(t[r]);return BigInt(e)}function IIe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function PIe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function OIe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function BIe(t,e,r="be"){e===void 0&&(e=OIe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function CIe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],nIe(e);return e}var kIe=new TextEncoder,MIe=new TextDecoder;function ZO(t){return kIe.encode(t)}function dO(t){return MIe.decode(t)}function RIe(t,e){rIe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function NIe(t,e,r="le"){e=RIe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function FIe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function HIe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return ZO(e)}function DIe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return oIe(t,e,r);if(typeof t=="string")return NIe(t,e,r);if(typeof t=="bigint")return TIe(t,e,r);if(typeof t=="number")return BIe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var br=class extends Uint8Array{static random(e=32){let r=sIe(e);return new br(r,e)}constructor(e,r,n){let i=DIe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new EO(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return CIe(r)}toBin(){return PIe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return AIe(r)}toHash(){let e=wO(this);return new br(e)}toJson(){let e=dO(this);return JSON.parse(e)}toBech32(e,r=0){return MJ.encode(this,e,r)}toStr(){return dO(this)}toHex(){return FIe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return AJ.encode(this)}toBase64(){return DJ.encode(this)}toB64url(){return LJ.encode(this)}prepend(e){return br.join([br.bytes(e),this])}append(e){return br.join([this,br.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new br(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new br(n)}reverse(){let e=new Uint8Array(this).reverse();return new br(e)}write(e,r){let n=br.bytes(e);this.set(n,r)}prefixSize(e){let r=br.varInt(this.length,e);return br.join([r,this])}static from(e){return new br(Uint8Array.from(e))}static of(...e){return new br(Uint8Array.of(...e))}static join(e){let r=e.map(i=>br.bytes(i)),n=wJ(r);return new br(n)}static varInt(e,r){if(e<253)return br.num(e,1);if(e<65536)return br.of(253,...br.num(e,2,r));if(e<4294967296)return br.of(254,...br.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return br.of(255,...br.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},Pt=br;(()=>{br.num=LIe})(),(()=>{br.big=qIe})(),(()=>{br.bin=UIe})(),(()=>{br.raw=$Ie})(),(()=>{br.str=jIe})(),(()=>{br.hex=KIe})(),(()=>{br.bytes=VIe})(),(()=>{br.json=GIe})(),(()=>{br.base64=zIe})(),(()=>{br.b64url=WIe})(),(()=>{br.bech32=YIe})(),(()=>{br.b58chk=XIe})(),(()=>{br.encode=ZO})(),(()=>{br.decode=dO})();function LIe(t,e,r){return new Pt(t,e,r)}function UIe(t,e,r){return new Pt(IIe(t),e,r)}function qIe(t,e,r){return new Pt(t,e,r)}function $Ie(t,e,r){return new Pt(t,e,r)}function jIe(t,e,r){return new Pt(ZO(t),e,r)}function KIe(t,e,r){return new Pt(t,e,r)}function VIe(t,e,r){return new Pt(t,e,r)}function GIe(t){return new Pt(HIe(t))}function zIe(t){return new Pt(DJ.decode(t))}function WIe(t){return new Pt(LJ.decode(t))}function YIe(t){return new Pt(MJ.decode(t))}function XIe(t){return new Pt(AJ.decode(t))}var EO=class{constructor(e){this.data=Pt.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new Pt(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}},Tv=j0.CURVE,JO=Tv.n,ZIe=Tv.p,JIe={x:Tv.Gx,y:Tv.Gy},QIe=BigInt(0),ePe=BigInt(1),tPe=BigInt(2),rPe=BigInt(3),nPe=BigInt(4),TO={N:JO,P:ZIe,G:JIe,_0n:QIe,_1n:ePe,_2n:tPe,_3n:rPe,_4n:nPe},Mm=cJ(JO,32,!0),qJ=t=>Zi(t,JO);function QO(t,e=!1){if(e)throw new Error(t);return!1}function $J(t){return Pt.random(t)}function iPe(t){let e=Pt.bytes(t).big;return Pt.big(qJ(e),32)}var sPe=Object.freeze({__proto__:null,fail:QO,mod_bytes:iPe,random:$J}),{N:oPe,P:Zft,_0n:aPe}=TO;function uPe(t,e,r){let n=Pt.bytes(t);return n.length!==e?QO(`Invalid byte size: ${n.hex} !== ${e}`,r):!0}function cPe(t,e){return typeof t=="bigint"&&aPe<t&&t<oPe||QO("x value is not in the field!",e),!0}var wZ=j0.ProjectivePoint,yi=class extends Uint8Array{static mod(e){return new yi(e)}static is_valid(e,r){let n=Pt.bytes(e,32).big;return cPe(n,r)}constructor(e){let r=fPe(e);r=qJ(r),yi.is_valid(r,!0),super(Pt.big(r,32),32)}get buff(){return new Pt(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new yi(e).big>this.big}lt(e){return new yi(e).big<this.big}eq(e){return new yi(e).big===this.big}ne(e){return new yi(e).big!==this.big}add(e){let r=yi.mod(e),n=Mm.add(this.big,r.big);return new yi(n)}sub(e){let r=yi.mod(e),n=Mm.sub(this.big,r.big);return new yi(n)}mul(e){let r=yi.mod(e),n=Mm.mul(this.big,r.big);return new yi(n)}pow(e){let r=yi.mod(e),n=Mm.pow(this.big,r.big);return new yi(n)}div(e){let r=yi.mod(e),n=Mm.div(this.big,r.big);return new yi(n)}negate(){return new yi(yi.N-this.big)}generate(){let r=j0.ProjectivePoint.BASE.multiply(this.big);return hh.import(r)}},Ns=yi;(()=>{yi.N=j0.CURVE.n})();var qn=class{static from_x(e){let r=hPe(e);r.length===32&&(r=r.prepend(2)),uPe(r,33);let n=wZ.fromHex(r.hex);return n.assertValidity(),new qn(n.x,n.y)}static generate(e){let r=Ns.mod(e),n=qn.base.multiply(r.big);return qn.import(n)}static import(e){let r=e instanceof qn?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new qn(r.x,r.y)}constructor(e,r){this._p=new wZ(e,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return Pt.big(this.p.x,32)}get y(){return Pt.big(this.p.y,32)}get buff(){return Pt.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(e){let r=e instanceof qn?e:qn.from_x(e);return this.x.big===r.x.big&&this.y.big===r.y.big}add(e){return e instanceof qn?qn.import(this.p.add(e.p)):qn.import(this.p.add(qn.generate(e).p))}sub(e){return e instanceof qn?qn.import(this.p.subtract(e.p)):qn.import(this.p.subtract(qn.generate(e).p))}mul(e){return e instanceof qn?qn.import(this.p.multiply(e.x.big)):qn.import(this.p.multiply(Ns.mod(e).big))}negate(){return qn.import(this.p.negate())}},hh=qn;(()=>{qn.P=TO.P})(),(()=>{qn.G=TO.G})(),(()=>{qn.base=j0.ProjectivePoint.BASE})();function fPe(t){if(t instanceof Ns)return t.big;if(t instanceof hh)return t.x.big;if(t instanceof Uint8Array)return Pt.raw(t).big;if(typeof t=="string")return Pt.hex(t).big;if(typeof t=="number")return Pt.num(t).big;if(typeof t=="bigint")return BigInt(t);throw TypeError("Invalid input type:"+typeof t)}function hPe(t){if(t instanceof Ns)return t.point.buff;if(t instanceof hh)return t.buff;if(t instanceof Uint8Array||typeof t=="string")return Pt.bytes(t);if(typeof t=="number"||typeof t=="bigint")return Pt.bytes(t,32);throw new TypeError(`Unknown type: ${typeof t}`)}function AO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function lPe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function jJ(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function dPe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");AO(t.outputLen),AO(t.blockLen)}function pPe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mPe(t,e){jJ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var gPe={number:AO,bool:lPe,bytes:jJ,hash:dPe,exists:pPe,output:mPe},z1=gPe;var bPe=t=>t instanceof Uint8Array,pO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$0=(t,e)=>t<<32-e|t>>>e,yPe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yPe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vPe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function eB(t){if(typeof t=="string"&&(t=vPe(t)),!bPe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var Av=class{clone(){return this._cloneInto()}};function a7(t){let e=n=>t().update(eB(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function _Pe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Fm=class extends Av{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pO(this.buffer)}update(e){z1.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=eB(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=pO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){z1.exists(this),z1.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;_Pe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=pO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},xPe=(t,e,r)=>t&e^~t&r,SPe=(t,e,r)=>t&e^t&r^e&r,wPe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Nd=new Uint32Array(64),Iv=class extends Fm{constructor(){super(64,32,8,!1),this.A=Rd[0]|0,this.B=Rd[1]|0,this.C=Rd[2]|0,this.D=Rd[3]|0,this.E=Rd[4]|0,this.F=Rd[5]|0,this.G=Rd[6]|0,this.H=Rd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Nd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Nd[f-15],l=Nd[f-2],y=$0(p,7)^$0(p,18)^p>>>3,_=$0(l,17)^$0(l,19)^l>>>10;Nd[f]=_+Nd[f-7]+y+Nd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=$0(a,6)^$0(a,11)^$0(a,25),l=h+p+xPe(a,u,c)+wPe[f]+Nd[f]|0,_=($0(n,2)^$0(n,13)^$0(n,22))+SPe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Nd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},IO=class extends Iv{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Pv=a7(()=>new Iv);a7(()=>new IO);var lv=BigInt(2**32-1),PO=BigInt(32);function KJ(t,e=!1){return e?{h:Number(t&lv),l:Number(t>>PO&lv)}:{h:Number(t>>PO&lv)|0,l:Number(t&lv)|0}}function EPe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=KJ(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}var TPe=(t,e)=>BigInt(t>>>0)<<PO|BigInt(e>>>0),APe=(t,e,r)=>t>>>r,IPe=(t,e,r)=>t<<32-r|e>>>r,PPe=(t,e,r)=>t>>>r|e<<32-r,OPe=(t,e,r)=>t<<32-r|e>>>r,BPe=(t,e,r)=>t<<64-r|e>>>r-32,CPe=(t,e,r)=>t>>>r-32|e<<64-r,kPe=(t,e)=>e,MPe=(t,e)=>t,RPe=(t,e,r)=>t<<r|e>>>32-r,NPe=(t,e,r)=>e<<r|t>>>32-r,FPe=(t,e,r)=>e<<r-32|t>>>64-r,HPe=(t,e,r)=>t<<r-32|e>>>64-r;function DPe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var LPe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),UPe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,qPe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),$Pe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,jPe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),KPe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,VPe={fromBig:KJ,split:EPe,toBig:TPe,shrSH:APe,shrSL:IPe,rotrSH:PPe,rotrSL:OPe,rotrBH:BPe,rotrBL:CPe,rotr32H:kPe,rotr32L:MPe,rotlSH:RPe,rotlSL:NPe,rotlBH:FPe,rotlBL:HPe,add:DPe,add3L:LPe,add3H:UPe,add4L:qPe,add4H:$Pe,add5H:KPe,add5L:jPe},lr=VPe,[GPe,zPe]=lr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Fd=new Uint32Array(80),Hd=new Uint32Array(80),P2=class extends Fm{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:h,Fh:f,Fl:p,Gh:l,Gl:y,Hh:_,Hl:O}=this;return[e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O]}set(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=l|0,this.Gl=y|0,this.Hh=_|0,this.Hl=O|0}process(e,r){for(let E=0;E<16;E++,r+=4)Fd[E]=e.getUint32(r),Hd[E]=e.getUint32(r+=4);for(let E=16;E<80;E++){let I=Fd[E-15]|0,L=Hd[E-15]|0,N=lr.rotrSH(I,L,1)^lr.rotrSH(I,L,8)^lr.shrSH(I,L,7),H=lr.rotrSL(I,L,1)^lr.rotrSL(I,L,8)^lr.shrSL(I,L,7),D=Fd[E-2]|0,C=Hd[E-2]|0,d=lr.rotrSH(D,C,19)^lr.rotrBH(D,C,61)^lr.shrSH(D,C,6),v=lr.rotrSL(D,C,19)^lr.rotrBL(D,C,61)^lr.shrSL(D,C,6),g=lr.add4L(H,v,Hd[E-7],Hd[E-16]),m=lr.add4H(g,N,d,Fd[E-7],Fd[E-16]);Fd[E]=m|0,Hd[E]=g|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:h,Eh:f,El:p,Fh:l,Fl:y,Gh:_,Gl:O,Hh:F,Hl:B}=this;for(let E=0;E<80;E++){let I=lr.rotrSH(f,p,14)^lr.rotrSH(f,p,18)^lr.rotrBH(f,p,41),L=lr.rotrSL(f,p,14)^lr.rotrSL(f,p,18)^lr.rotrBL(f,p,41),N=f&l^~f&_,H=p&y^~p&O,D=lr.add5L(B,L,H,zPe[E],Hd[E]),C=lr.add5H(D,F,I,N,GPe[E],Fd[E]),d=D|0,v=lr.rotrSH(n,i,28)^lr.rotrBH(n,i,34)^lr.rotrBH(n,i,39),g=lr.rotrSL(n,i,28)^lr.rotrBL(n,i,34)^lr.rotrBL(n,i,39),m=n&s^n&a^s&a,S=i&o^i&u^o&u;F=_|0,B=O|0,_=l|0,O=y|0,l=f|0,y=p|0,{h:f,l:p}=lr.add(c|0,h|0,C|0,d|0),c=a|0,h=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let w=lr.add3L(d,g,S);n=lr.add3H(w,C,v,m),i=w|0}({h:n,l:i}=lr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=lr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=lr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:h}=lr.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:f,l:p}=lr.add(this.Eh|0,this.El|0,f|0,p|0),{h:l,l:y}=lr.add(this.Fh|0,this.Fl|0,l|0,y|0),{h:_,l:O}=lr.add(this.Gh|0,this.Gl|0,_|0,O|0),{h:F,l:B}=lr.add(this.Hh|0,this.Hl|0,F|0,B|0),this.set(n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B)}roundClean(){Fd.fill(0),Hd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},OO=class extends P2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},BO=class extends P2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},CO=class extends P2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},WPe=a7(()=>new P2);a7(()=>new OO);a7(()=>new BO);a7(()=>new CO);var YPe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),VJ=Uint8Array.from({length:16},(t,e)=>e),XPe=VJ.map(t=>(9*t+5)%16),tB=[VJ],rB=[XPe];for(let t=0;t<4;t++)for(let e of[tB,rB])e.push(e[t].map(r=>YPe[r]));var GJ=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),ZPe=tB.map((t,e)=>t.map(r=>GJ[e][r])),JPe=rB.map((t,e)=>t.map(r=>GJ[e][r])),QPe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),eOe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),dv=(t,e)=>t<<e|t>>>32-e;function EZ(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var pv=new Uint32Array(16),kO=class extends Fm{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)pv[l]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,u=a,c=this.h3|0,h=c,f=this.h4|0,p=f;for(let l=0;l<5;l++){let y=4-l,_=QPe[l],O=eOe[l],F=tB[l],B=rB[l],E=ZPe[l],I=JPe[l];for(let L=0;L<16;L++){let N=dv(n+EZ(l,s,a,c)+pv[F[L]]+_,E[L])+f|0;n=f,f=c,c=dv(a,10)|0,a=s,s=N}for(let L=0;L<16;L++){let N=dv(i+EZ(y,o,u,h)+pv[B[L]]+O,I[L])+p|0;i=p,p=h,h=dv(u,10)|0,u=o,o=N}}this.set(this.h1+a+h|0,this.h2+c+p|0,this.h3+f+i|0,this.h4+n+o|0,this.h0+s+u|0)}roundClean(){pv.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},tOe=a7(()=>new kO),Ov=class extends Av{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,z1.hash(e);let n=eB(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return z1.exists(this),this.iHash.update(e),this}digestInto(e){z1.exists(this),z1.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zJ=(t,e,r)=>new Ov(t,e).update(r).digest();zJ.create=(t,e)=>new Ov(t,e);function rOe(t){let e=Pt.bytes(t);return Pt.raw(Pv(e))}function lh(t){let e=Pt.bytes(t);return Pt.raw(Pv(Pv(e)))}function Kv(t){let e=Pt.bytes(t);return Pt.raw(tOe(Pv(e)))}function nOe(t,e){let r=Pt.bytes(t),n=Pt.bytes(e);return Pt.raw(zJ(WPe,r,n))}function iOe(t){let e=Pt.str(t).digest;return Pt.join([e,e])}function sOe(t=32){return nB($J(t))}function nB(t){return Ns.mod(t).buff}function WJ(t,e=!1){let r=Ns.mod(t).point;return e?r.x:r.buff}function YJ(t,e){let r=hh.from_x(e),n=Ns.mod(t);return r.mul(n).buff}function oOe(t,e,r="ecdh/code"){let n=iOe(r),i=nB(t),s=WJ(i),o=Pt.bytes(e),a=YJ(i,o),u=[s.hex,o.hex];return u.sort(),nOe(a,Pt.join([n,...u]))}function aOe(t){let e=Pt.bytes(t);switch(!0){case e.length===32:return!0;case(e.length===33&&e[0]===2):return!0;case(e.length===33&&e[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${e.hex}`)}}function uOe(t){let e=Pt.bytes(t);switch(e.length){case 32:return e;case 33:return e.slice(1,33);default:throw new Error(`Invalid key length: ${e.length}`)}}var cOe=Object.freeze({__proto__:null,genSecretKey:sOe,getPublicKey:WJ,getSecretKey:nB,getSharedCode:oOe,getSharedKey:YJ,is_even_pub:aOe,xonly_pub:uOe});Pt.random(32);var XJ={secp:j0,schnorr:DAe},MO={...cOe,...sPe};function Vv(t){let e=fe.bytes(t);return z0(e,33),Kv(e)}function ZJ(t){let e=Fs.fmt.toBytes(t,!1);return Kv(e)}function JJ(t){let e=Fs.fmt.toBytes(t,!1);return rOe(e)}function QJ(t,e="main"){let r=e==="main"?["1"]:["m","n"];for(let n of r)if(t.startsWith(n))return!0;return!1}function eQ(t,e="main"){let r=fe.bytes(t),n=e==="main"?fe.num(0):fe.num(111);return z0(t,20),r.prepend(n).tob58chk()}function fOe(t,e="main"){if(!QJ(t,e))throw new TypeError("Invalid p2pkh address!");return fe.b58chk(t).slice(1)}function hOe(t){let e=fe.bytes(t);return z0(e,20),["OP_DUP","OP_HASH160",e.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function lOe(t,e){let r=Vv(t);return eQ(r,e)}var tQ={check:QJ,encode:eQ,decode:fOe,hash:Vv,scriptPubKey:hOe,fromPubKey:lOe};function rQ(t,e="main"){let r=e==="main"?["3"]:["2"];for(let n of r)if(t.startsWith(n))return!0;return!1}function nQ(t,e="main"){let r=e==="main"?fe.num(5):fe.num(196),n=fe.bytes(t);return z0(n,20),n.prepend(r).tob58chk()}function dOe(t,e="main"){if(!rQ(t,e))throw new TypeError(`Invalid p2sh address for network ${e}:`+t);return fe.b58chk(t).slice(1)}function pOe(t){return["OP_HASH160",fe.bytes(t).hex,"OP_EQUAL"]}function mOe(t,e){let r=ZJ(t);return nQ(r,e)}var iQ={check:rQ,encode:nQ,decode:dOe,hash:ZJ,scriptPubKey:pOe,fromScript:mOe},iB={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},gOe=["bc1q","tb1q","bcrt1q"];function sQ(t){for(let e of gOe)if(t.startsWith(e))return!0;return!1}function oQ(t,e="main"){let r=iB[e],n=fe.bytes(t);return z0(n,20),n.toBech32(r,0)}function bOe(t){if(!sQ(t))throw new TypeError("Invalid segwit address!");return fe.bech32(t)}function yOe(t){let e=fe.bytes(t);return z0(e,20),["OP_0",e.hex]}function vOe(t,e){let r=Vv(t);return oQ(r,e)}var aQ={check:sQ,encode:oQ,decode:bOe,hash:Vv,scriptPubKey:yOe,fromPubKey:vOe},_Oe=["bc1q","tb1q","bcrt1q"];function uQ(t){for(let e of _Oe)if(t.startsWith(e))return!0;return!1}function cQ(t,e="main"){let r=iB[e],n=fe.bytes(t);return z0(n,32),n.toBech32(r,0)}function xOe(t){if(!uQ(t))throw new TypeError("Invalid segwit address!");return fe.bech32(t)}function SOe(t){let e=fe.bytes(t);return z0(e,32),["OP_0",e.hex]}function wOe(t,e){let r=JJ(t);return cQ(r,e)}var fQ={check:uQ,encode:cQ,decode:xOe,hash:JJ,scriptPubKey:SOe,fromScript:wOe};function W1(t){let e=fe.bytes(t);return e.length>32?e.slice(1,33):e}var EOe=["bc1p","tb1p","bcrt1p"];function hQ(t){for(let e of EOe)if(t.startsWith(e))return!0;return!1}function lQ(t,e="main"){let r=iB[e],n=fe.bytes(t);return z0(n,32),n.toBech32(r,1)}function TOe(t){if(!hQ(t))throw new TypeError("Invalid taproot address!");return fe.bech32(t)}function AOe(t){let e=fe.bytes(t);return z0(e,32),["OP_1",e.hex]}function IOe(t,e){let r=W1(t);return lQ(r,e)}var dQ={check:hQ,encode:lQ,decode:TOe,scriptPubKey:AOe,fromPubKey:IOe},POe={version:2,vin:[],vout:[],locktime:0},OOe={scriptSig:[],sequence:4294967293,witness:[]},BOe={value:0n,scriptPubKey:[]};function sB(t){let e={...POe,...t};return e.vin=e.vin.map(r=>({...OOe,...r})),e.vout=e.vout.map(r=>({...BOe,...r})),e}function O2(t,e){let{version:r,vin:n,vout:i,locktime:s}=sB(t),o=e!==!0&&COe(n),a=[oB(r)];o&&a.push(fe.hex("0001")),a.push(kOe(n)),a.push(MOe(i));for(let u of n)o&&a.push(NOe(u.witness));return a.push(aB(s)),fe.join(a)}function COe(t){for(let e of t){let{witness:r}=e;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function oB(t){return fe.num(t,4).reverse()}function Dm(t){return fe.hex(t,32).reverse()}function Lm(t){return fe.num(t,4).reverse()}function Um(t){if(typeof t=="string")return fe.hex(t,4).reverse();if(typeof t=="number")return fe.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function kOe(t){let e=[fe.varInt(t.length,"le")];for(let r of t){let{txid:n,vout:i,scriptSig:s,sequence:o}=r;e.push(Dm(n)),e.push(Lm(i)),e.push(Gd(s,!0)),e.push(Um(o))}return fe.join(e)}function jd(t){if(typeof t=="number"){if(t%1!==0)throw new Error("Value must be an integer:"+String(t));return fe.num(t,8).reverse()}return fe.big(t,8).reverse()}function MOe(t){let e=[fe.varInt(t.length,"le")];for(let r of t)e.push(ROe(r));return fe.join(e)}function ROe(t){let{value:e,scriptPubKey:r}=t,n=[];return n.push(jd(e)),n.push(Gd(r,!0)),fe.join(n)}function NOe(t=[]){let e=[];if(Array.isArray(t)){let r=fe.varInt(t.length);e.push(r);for(let n of t)e.push(FOe(n));return fe.join(e)}else return fe.bytes(t)}function FOe(t){return HOe(t)?new fe(0):Gd(t,!0)}function HOe(t){if(Array.isArray(t))return t.length===0;if(typeof t=="string"&&t==="")return!0;let e=fe.bytes(t);return e.length===1&&e[0]===0}function aB(t){if(typeof t=="string")return fe.hex(t,4);if(typeof t=="number")return fe.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function uB(t){typeof t=="string"&&(t=fe.hex(t).raw);let e=new F2(t),r=DOe(e),n=LOe(e),i=UOe(e),s=$Oe(e);if(n)for(let a of i)a.witness=KOe(e);let o=VOe(e);return{version:r,vin:i,vout:s,locktime:o}}function DOe(t){return t.read(4).reverse().toNum()}function LOe(t){let[e,r]=[...t.peek(2)];if(e===0){if(t.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function UOe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(qOe(t));return e}function qOe(t){return{txid:t.read(32).reverse().toHex(),vout:t.read(4).reverse().toNum(),scriptSig:mQ(t,!0),sequence:t.read(4).reverse().toHex(),witness:[]}}function $Oe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(jOe(t));return e}function jOe(t){return{value:t.read(8).reverse().big,scriptPubKey:mQ(t,!0)}}function KOe(t){let e=[],r=t.readSize();for(let n=0;n<r;n++){let i=pQ(t,!0);e.push(i??"")}return e}function pQ(t,e){let r=e===!0?t.readSize("le"):t.size;return r>0?t.read(r).hex:null}function mQ(t,e){let r=pQ(t,e);return r!==null?r:[]}function VOe(t){return t.read(4).reverse().toNum()}function GOe(t){if(JZ(t))return uB(t);if(typeof t=="object"&&!(t instanceof Uint8Array))return O2(t),sB(t);throw new Error("Invalid format: "+String(typeof t))}function zOe(t){if(JZ(t))return uB(t),fe.bytes(t);if(typeof t=="object")return O2(t);throw new Error("Invalid format: "+String(typeof t))}var cB={toBytes:zOe,toJson:GOe},WOe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],YOe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function XOe(t){let e=t.at(-1);return gh(e)&&(e=fe.hex(e)),t.length>1&&e instanceof Uint8Array&&e[0]===80?(t.pop(),fe.raw(e)):null}function ZOe(t){let e=t.at(-1);return gh(e)&&(e=fe.hex(e)),t.length>1&&e instanceof Uint8Array&&e.length>32&&YOe.includes(e[0]&254)?(t.pop(),fe.raw(e)):null}function JOe(t){if(t.length>1){let e=t.at(-1);try{let r=Fs.fmt.toBytes(e);return t.pop(),r}catch{return null}}return null}function QOe(t){let e=[];for(let r of t)if(gh(r)||r instanceof Uint8Array||typeof r=="number")e.push(fe.bytes(r));else throw new Error("unrecognized value: "+String(r));return e}function gQ(t=[]){let e=[...t],r=XOe(e),n=ZOe(e),i=JOe(e),s=QOe(e);return{annex:r,cblock:n,script:i,params:s}}function fB(t){let e=Fs.fmt.toBytes(t,!1).hex;for(let[r,n]of WOe){let i=r,{groups:s}=n.exec(e)??{},{hash:o}=s??{};if(gh(o))return{type:i,data:fe.hex(o)}}return{type:"raw",data:fe.hex(e)}}function eBe(t){let e=cB.toJson(t),r=O2(e,!0);return lh(r).reverse().hex}function tBe(t){let e=cB.toJson(t),r=O2(e,!0).length,n=O2(e,!1).length,i=r*3+n,s=i%4>0?1:0,o=Math.floor(i/4)+s;return{size:n,bsize:r,vsize:o,weight:i}}var Pa={create:sB,encode:O2,decode:uB,fmt:cB,util:{getTxSize:tBe,getTxid:eBe,readScriptPubKey:fB,readWitness:gQ}},rBe=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function nBe(t,e){switch(e){case"base58":return fe.b58chk(t).slice(1);case"bech32":return fe.bech32(t);case"bech32m":return fe.bech32(t);default:throw new Error("Invalid address format: "+e)}}function iBe(t){for(let e of rBe){let[r,n,i,s,o]=e;if(t.startsWith(r)&&nBe(t,o).length===s)return e}throw new Error("Invalid address: "+t)}function bQ(t){switch(t){case"p2pkh":return tQ;case"p2sh":return iQ;case"p2w-pkh":return aQ;case"p2w-sh":return fQ;case"p2tr":return dQ;default:throw new Error("Invalid address type: "+t)}}function yQ(t){let[e,r,n]=iBe(t),i=bQ(r),s=i.decode(t,n),o=i.scriptPubKey(s);return{prefix:e,type:r,network:n,data:s,script:o}}function sBe(t,e){let{type:r,data:n}=Pa.util.readScriptPubKey(t);return bQ(r).encode(n,e)}function oBe(t){let{script:e}=yQ(t);return Fs.fmt.toAsm(e,!1)}var aBe={p2pkh:tQ,p2sh:iQ,p2wpkh:aQ,p2wsh:fQ,p2tr:dQ,decode:yQ,fromScriptPubKey:sBe,toScriptPubKey:oBe},uBe=[1,2,3];function hB(t,e,r={}){let{sigflag:n=1}=r,i=(n&128)===128,s=n%128;if(!uBe.includes(s))throw new Error("Invalid hash type: "+String(n));let o=Pa.fmt.toJson(t),{version:a,vin:u,vout:c,locktime:h}=o,{txid:f,vout:p,prevout:l,sequence:y}=u[e],{value:_}=l??{};if(_===void 0)throw new Error("Prevout value is empty!");let O=r.script;if(O===void 0&&r.pubkey!==void 0&&(O=`76a914${Kv(r.pubkey).hex}88ac`),O===void 0)throw new Error("No pubkey / script has been set!");if(Fs.fmt.toAsm(O).includes("OP_CODESEPARATOR"))throw new Error("This library does not currently support the use of OP_CODESEPARATOR in segwit scripts.");let F=[oB(a),cBe(u,i),fBe(u,s,i),Dm(f),Lm(p),Fs.encode(O,!0),jd(_),Um(y),hBe(c,e,s),aB(h),fe.num(n,4).reverse()];return lh(fe.join(F))}function cBe(t,e){if(e===!0)return fe.num(0,32);let r=[];for(let{txid:n,vout:i}of t)r.push(Dm(n)),r.push(Lm(i));return lh(fe.join(r))}function fBe(t,e,r){if(r||e!==1)return fe.num(0,32);let n=[];for(let{sequence:i}of t)n.push(Um(i));return lh(fe.join(n))}function hBe(t,e,r){let n=[];if(r===1){for(let{value:i,scriptPubKey:s}of t)n.push(jd(i)),n.push(Fs.encode(s,!0));return lh(fe.join(n))}if(r===3&&e<t.length){let{value:i,scriptPubKey:s}=t[e];return n.push(jd(i)),n.push(Fs.encode(s,!0)),lh(fe.join(n))}return fe.num(0,32)}function lBe(t,e,r,n={}){let{sigflag:i=1}=n,s=hB(e,r,n),o=XJ.secp.sign(s,t).toDERRawBytes(!0);return fe.join([o,i])}function dBe(t,e,r={}){let n=Pa.fmt.toJson(t),{throws:i=!1}=r,{witness:s=[]}=n.vin[e],o=Pa.util.readWitness(s),{script:a,params:u}=o,c=null;if(u.length<1)return ro("Invalid witness data: "+String(s),i);if(r.script===void 0&&a!==null&&(r.script=a),r.pubkey!==void 0)c=fe.bytes(r.pubkey);else if(u.length>1&&u[1].length===33)c=fe.bytes(u[1]);else return ro("No pubkey provided!",i);let h=Fs.fmt.toParam(u[0]),f=h.slice(0,-1),p=h.slice(-1)[0],l=hB(n,e,{...r,sigflag:p});return XJ.secp.verify(f,l,c)?!0:ro("Invalid signature!",i)}var pBe={hash:hB,sign:lBe,verify:dBe},mBe=[0,1,2,3,129,130,131];function lB(t,e,r={}){let{extension:n,sigflag:i=0,extflag:s=0,key_version:o=0,separator_pos:a=4294967295}=r,u=Pa.fmt.toJson(t),{version:c,vin:h,vout:f,locktime:p}=u;if(e>=h.length)throw new Error("Index out of bounds: "+String(e));if(!mBe.includes(i))throw new Error("Invalid hash type: "+String(i));if(s<0||s>127)throw new Error("Extention flag out of range: "+String(s));let{txid:l,vout:y,sequence:_,witness:O=[]}=h[e],F=(i&128)===128,B=SBe(O),E=B!==void 0?1:0,L=(s+(n!==void 0?1:0))*2+E,N=fe.str("TapSighash").digest,H=[N,N,fe.num(0,1),fe.num(i,1),oB(c),aB(p)];if(!F){let D=h.map(C=>TZ(C));H.push(gBe(h),yBe(D),vBe(D),bBe(h))}if(((i&3)<2||(i&3)>3)&&H.push(_Be(f)),H.push(fe.num(L,1)),F){let{value:D,scriptPubKey:C}=TZ(h[e]);H.push(Dm(l),Lm(y),jd(D),Fs.encode(C,!0),Um(_))}else H.push(fe.num(e,4).reverse());return B!==void 0&&H.push(B),(i&3)===3&&H.push(xBe(f[e])),n!==void 0&&H.push(fe.bytes(n),fe.num(o),fe.num(a,4,"le")),fe.join(H).digest}function gBe(t){let e=[];for(let{txid:r,vout:n}of t)e.push(Dm(r)),e.push(Lm(n));return fe.join(e).digest}function bBe(t){let e=[];for(let{sequence:r}of t)e.push(Um(r));return fe.join(e).digest}function yBe(t){let e=[];for(let{value:r}of t)e.push(jd(r));return fe.join(e).digest}function vBe(t){let e=[];for(let{scriptPubKey:r}of t)e.push(Gd(r,!0));return fe.join(e).digest}function _Be(t){let e=[];for(let{value:r,scriptPubKey:n}of t)e.push(jd(r)),e.push(Fs.encode(n,!0));return fe.join(e).digest}function xBe(t){return fe.join([jd(t.value),Fs.encode(t.scriptPubKey,!0)]).digest}function SBe(t){if(t===void 0||t.length<2)return;let e=t.at(-1);if(typeof e=="string"&&(e=fe.hex(e)),e instanceof Uint8Array&&e[0]===80)return fe.raw(e).prefixSize("be").digest}function TZ(t){if(t.prevout===void 0)throw new Error("Prevout data missing for input: "+String(t.txid));return t.prevout}var wBe=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,EBe=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function TBe(t,e,r,n={}){let{sigflag:i=0}=n,s=lB(e,r,n),o=ABe(t,s);return i===0?fe.raw(o):fe.join([o,i])}function ABe(t,e,r=fe.random(32)){let n=fe.bytes(e),i=new Ns(t),s=i.point,o=s.hasEvenY?i.big:i.negated.big,a=mv("BIP0340/aux",fe.bytes(r)),u=o^a.big,c=mv("BIP0340/nonce",u,s.x.raw,n),h=new Ns(c),f=h.point,p=f.hasEvenY?h.big:h.negated.big,l=new Ns(mv("BIP0340/challenge",f.x.raw,s.x.raw,n)),y=new Ns(p+l.big*o);return fe.join([f.x.raw,y.raw])}function IBe(t,e,r,n=!1){let i=hh.from_x(W1(r)),s=fe.bytes(e),o=fe.bytes(t).stream;o.size<64&&ro("Signature length is too small: "+String(o.size),n);let a=o.read(32);a.big>wBe&&ro("Signature r value greater than field size!",n);let u=o.read(32);u.big>EBe&&ro("Signature s value greater than curve order!",n);let c=new Ns(mv("BIP0340/challenge",a.raw,i.x.raw,s)),h=new Ns(u).point,f=i.mul(c.big),p=h.sub(f);return p.hasOddY&&ro("Signature R value has odd Y coordinate!",n),p.x.big===0n&&ro("Signature R value is infinite!",n),p.x.big===a.big}var PBe=192;function Gv(t){let e=fe.str(t).digest;return fe.join([e,e])}function dB(t,e=PBe){return fe.join([Gv("TapLeaf"),CBe(e),fe.bytes(t)]).digest.hex}function OBe(t,e){return dB(Fs.fmt.toBytes(t),e)}function pB(t,e){return e<t&&([t,e]=[e,t]),fe.join([Gv("TapBranch"),fe.hex(t).raw,fe.hex(e).raw]).digest.hex}function BBe(t){return fe.hex(Bv(t)[0])}function Bv(t,e,r=[]){let n=[],i=[];if(t.length<1)throw new Error("Tree is empty!");for(let s=0;s<t.length;s++){let o=t[s];if(Array.isArray(o)){let[a,u,c]=Bv(o,e);e=u,n.push(a);for(let h of c)r.push(h)}else n.push(o)}if(n.length===1)return[n[0],e,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let s=0;s<n.length-1;s+=2){let o=pB(n[s],n[s+1]);i.push(o),typeof e=="string"&&(e===n[s]?(r.push(n[s+1]),e=o):e===n[s+1]&&(r.push(n[s]),e=o))}return Bv(i,e,r)}function CBe(t=192){return t&254}function vQ(t,e=new Uint8Array,r=!1){let n=r?new Ns(t).point.x.raw:W1(t);return fe.join([Gv("TapTweak"),n,fe.bytes(e)]).digest}function T2(t,e,r=!1){e===void 0&&(e=new Uint8Array);let n=fe.bytes(t),i=vQ(t,e,r);return r?_Q(n,i):xQ(n,i)}function kBe(t,e){return T2(t,e)}function MBe(t,e){return T2(t,e,!0)}function _Q(t,e){let r=new Ns(t);return r.point.hasOddY&&(r=r.negate()),fe.raw(r.add(e).raw)}function xQ(t,e){t=W1(t);let n=hh.from_x(t).add(e);return fe.raw(n.raw)}function RBe(){let t=fe.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return hh.from_x(t.digest).x}var NBe=RBe(),FBe=192;function HBe(t,e={}){return SQ(t,{...e,isPrivate:!0})}function DBe(t,e={}){return SQ(t,{...e,isPrivate:!1})}function SQ(t,e={}){let{isPrivate:r=!1,tree:n=[],version:i=FBe}=e,s=r?MO.getPublicKey(t,!0):W1(t),{target:o}=e;o!==void 0&&(o=fe.bytes(o).hex);let a,u=[];if(n.length>0){let[l,y,_]=Bv(n,o);u=_,a=T2(t,l,r)}else o!==void 0?a=T2(t,o,r):a=T2(t,void 0,r);let c=r?MO.getPublicKey(a)[0]:a[0],f=[fe.num(i+EQ(c)),s];u.length>0&&u.forEach(l=>f.push(fe.hex(l)));let p=fe.join(f);if(o!==void 0&&!mB(a,o,p,e))throw new Error("Path checking failed! Unable to generate path.");return[W1(a).hex,p.hex]}function mB(t,e,r,n={}){let{isPrivate:i=!1,throws:s=!1}=n,{parity:o,paths:a,intkey:u}=wQ(r),c=i?MO.getPublicKey(t,!0):W1(t),h=fe.join([o,c]);if(h.length!==33)return ro("Invalid tapkey: "+h.hex,s);let f=fe.bytes(e).hex;for(let l of a)f=pB(f,l);let p=T2(u,f);return fe.raw(p).hex===fe.raw(h).hex}function wQ(t){let e=new F2(fe.bytes(t)),r=e.read(1).num,n=e.read(32),[i,s]=r%2===0?[r,2]:[r-1,3],o=[];for(;e.size>=32;)o.push(e.read(32).hex);if(e.size!==0)throw new Error("Non-empty buffer on control block: "+String(e));return{intkey:n,paths:o,parity:s,version:i}}function EQ(t=2){if(t===0||t===1)return t;if(t===2||t==="02")return 0;if(t===3||t==="03")return 1;throw new Error("Invalid parity bit: "+String(t))}function LBe(t,e,r={}){let n=Pa.fmt.toJson(t),{throws:i=!1}=r,{prevout:s,witness:o=[]}=n.vin[e],a=Pa.util.readWitness(o),{cblock:u,script:c,params:h}=a,f;if(h.length<1)return ro("Invalid witness data: "+String(o),i);let{scriptPubKey:p}=s??{};if(p===void 0)return ro("Prevout scriptPubKey is empty!",i);let{type:l,data:y}=Pa.util.readScriptPubKey(p);if(l!=="p2tr")return ro("Prevout script is not a valid taproot output:"+y.hex,i);if(y.length!==32)return ro("Invalid tapkey length: "+String(y.length),i);if(u!==null&&c!==null){let E=u[0]&254,I=dB(c,E);if(r.extension=I,!mB(y,I,u,{throws:i}))return ro("cblock verification failed!",i)}r.pubkey!==void 0?f=fe.bytes(r.pubkey):h.length>1&&h[1].length===32?f=fe.bytes(h[1]):f=fe.bytes(y);let _=Fs.fmt.toParam(h[0]),O=new F2(_),F=O.read(64).raw;if(O.size===1&&(r.sigflag=O.read(1).num,r.sigflag===0))return ro("0x00 is not a valid appended sigflag!",i);let B=lB(n,e,r);return IBe(F,B,f,i)?!0:ro("Invalid signature!",i)}var UBe={hash:lB,sign:TBe,verify:LBe},RO={segwit:pBe,taproot:UBe},TQ={getTag:Gv,getLeaf:dB,getBranch:pB,getRoot:BBe},qBe={readCtrlBlock:wQ,readParityBit:EQ},$Be={getPubKey:kBe,getSecKey:MBe,getTweak:vQ,tweakSecKey:_Q,tweakPubKey:xQ},jBe={getPubKey:DBe,getSecKey:HBe,encodeScript:OBe,checkPath:mB,tree:TQ,tweak:$Be,util:qBe,SCRIPT_PUBKEY:NBe},Cv=class{constructor(e){this._buff=fe.raw(Gd(e))}get raw(){return this._buff.raw}get hex(){return this._buff.hex}get asm(){return Lv(this._buff)}getHash(e,r){switch(e){case"p2w":return lh(this._buff).hex;case"p2sh":return Kv(this._buff).hex;case"p2tr":return TQ.getLeaf(this._buff,r);default:throw new Error("Unrecognized format: "+e)}}toJSON(){return this.asm??[]}},AZ=4294967295,KBe=1<<31,j1=512,VBe=1<<22,kv=class{constructor(e){typeof e=="string"?this.value=parseInt(e,16):this.value=e}get isReplaceable(){return this.value<AZ}get isLocked(){return!(this.value!==AZ||(this.value&KBe)!==0)}get isTimelock(){return(this.value&VBe)!==0}get timestamp(){return this.isLocked?this.isTimelock?this.value*j1:this.value*j1*600:0}set timestamp(e){this.value=Math.ceil(e/j1)}get blockheight(){return this.isLocked?this.isTimelock?Math.ceil(this.value*j1/600):this.value:0}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*j1*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){let r=e.getTime()-Date.now();this.value=r>j1*1e3?Math.ceil(r/1e3/j1):1}toJSON(){return this.value}},gB=class{constructor(e){this.value=BigInt(e.value),this.scriptPubKey=new Cv(e.scriptPubKey)}get type(){let{type:e}=fB(this.scriptPubKey.raw);return e}},Mv=class{constructor(e,r){this._data=e,this._meta=gQ(e),this.format=r}get length(){return this._data.length}get annex(){let e=this._meta.annex;return e!==null?fe.raw(e).hex:void 0}get cblock(){let e=this._meta.cblock;return e!==null?fe.raw(e).hex:void 0}get script(){let e=this._meta.script;return e!==null?Fs.decode(e):void 0}get params(){return this._meta.params}toJSON(){return this._data}},AQ=class{constructor(e,r){this._tx=e,this.idx=r}get data(){return this._tx.vin[this.idx]}get txid(){return this.data.txid}get vout(){return this.data.vout}get prevout(){return this.data.prevout!==void 0?new gB(this.data.prevout):void 0}get scriptSig(){return new Cv(this.data.scriptSig)}get sequence(){return new kv(this.data.sequence)}get witness(){return new Mv(this.data.witness)}get type(){if(this.prevout!==void 0){let e=this.prevout.scriptPubKey.raw,{type:r}=fB(e);if(r==="p2sh"){let n=this.scriptSig.asm;if(n[0]==="OP_0"){if(n[1].length===20)return"p2w-p2pkh";if(n[1].length===32)return"p2w-p2sh"}return"p2sh"}return r}return"raw"}sign(e,r){if(this.type.startsWith("p2w"))return RO.segwit.sign(e,this._tx,this.idx,r);if(this.type.startsWith("p2tr"))return RO.taproot.sign(e,this._tx,this.idx,r);throw this.type.startsWith("p2pkh")||this.type.startsWith("p2sh")?new Error("This library does not support signing legacy transactions."):new Error("Unable to sign this input type:"+String(this.type))}},GBe=5e8,NO=class{constructor(e=0){this.value=fe.bytes(e).num}get isTimelock(){return this.value>GBe}get timestamp(){return this.isTimelock?this.value:this.value*600}set timestamp(e){this.value=e}get blockheight(){return this.isTimelock?Math.floor(this.value/600):this.value}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){this.value=Math.floor((e.getTime()-Date.now())/1e3)}toJSON(){return this.value}},qr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(qr||(qr={}));var FO;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(FO||(FO={}));var qe=qr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ld=t=>{switch(typeof t){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return isNaN(t)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(t)?qe.array:t===null?qe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qe.promise:typeof Map<"u"&&t instanceof Map?qe.map:typeof Set<"u"&&t instanceof Set?qe.set:typeof Date<"u"&&t instanceof Date?qe.date:qe.object;default:return qe.unknown}},ke=qr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),zBe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Ba=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,qr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ba.create=t=>new Ba(t);var Hm=(t,e)=>{let r;switch(t.code){case ke.invalid_type:t.received===qe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,qr.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${qr.joinValues(t.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qr.joinValues(t.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${qr.joinValues(t.options)}, received '${t.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:qr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ke.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ke.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=e.defaultError,qr.assertNever(t)}return{message:r}},IQ=Hm;function WBe(t){IQ=t}function Rv(){return IQ}var Nv=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},YBe=[];function ze(t,e){let r=Nv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Rv(),Hm].filter(n=>!!n)});t.common.issues.push(r)}var ms=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Kt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return ms.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Kt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},Kt=Object.freeze({status:"aborted"}),PQ=t=>({status:"dirty",value:t}),Po=t=>({status:"valid",value:t}),HO=t=>t.status==="aborted",DO=t=>t.status==="dirty",Fv=t=>t.status==="valid",Hv=t=>typeof Promise<"u"&&t instanceof Promise,bt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(bt||(bt={}));var Bu=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},IZ=(t,e)=>{if(Fv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ba(t.common.issues);return this._error=r,this._error}}};function sr(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var or=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ld(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ld(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ms,ctx:{common:e.parent.common,data:e.data,parsedType:Ld(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Hv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)},s=this._parseSync({data:e,path:i.path,parent:i});return IZ(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Hv(i)?i:Promise.resolve(i));return IZ(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:ke.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ka({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Mc.create(this,this._def)}nullable(){return mh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ca.create(this,this._def)}promise(){return Vd.create(this,this._def)}or(e){return J1.create([this,e],this._def)}and(e){return Q1.create(this,e,this._def)}transform(e){return new ka({...sr(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new i7({...sr(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new Dv({typeName:Tt.ZodBranded,type:this,...sr(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new R2({...sr(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return s7.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},XBe=/^c[^\s-]{8,}$/i,ZBe=/^[a-z][a-z0-9]*$/,JBe=/[0-9A-HJKMNP-TV-Z]{26}/,QBe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,eCe=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,tCe=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,rCe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,nCe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,iCe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function sCe(t,e){return!!((e==="v4"||!e)&&rCe.test(t)||(e==="v6"||!e)&&nCe.test(t))}var Oa=class extends or{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:ke.invalid_string,...bt.errToObj(n)}),this.nonempty=e=>this.min(1,bt.errToObj(e)),this.trim=()=>new Oa({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Oa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Oa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){let s=this._getOrReturnCtx(e);return ze(s,{code:ke.invalid_type,expected:qe.string,received:s.parsedType}),Kt}let n=new ms,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ze(i,{code:ke.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ze(i,{code:ke.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")eCe.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"email",code:ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")tCe.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"emoji",code:ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")QBe.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"uuid",code:ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")XBe.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid",code:ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")ZBe.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"cuid2",code:ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")JBe.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ulid",code:ke.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ze(i,{validation:"url",code:ke.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"regex",code:ke.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?iCe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?sCe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ze(i,{validation:"ip",code:ke.invalid_string,message:s.message}),n.dirty()):qr.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Oa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...bt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...bt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...bt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...bt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...bt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...bt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...bt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...bt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...bt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...bt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...bt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...bt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...bt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...bt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...bt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...bt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Oa.create=t=>{var e;return new Oa({checks:[],typeName:Tt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...sr(t)})};function oCe(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var K0=class extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){let s=this._getOrReturnCtx(e);return ze(s,{code:ke.invalid_type,expected:qe.number,received:s.parsedType}),Kt}let n,i=new ms;for(let s of this._def.checks)s.kind==="int"?qr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?oCe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.not_finite,message:s.message}),i.dirty()):qr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,bt.toString(r))}setLimit(e,r,n,i){return new K0({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:bt.toString(i)}]})}_addCheck(e){return new K0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:bt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:bt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:bt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:bt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:bt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};K0.create=t=>new K0({checks:[],typeName:Tt.ZodNumber,coerce:t?.coerce||!1,...sr(t)});var V0=class extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==qe.bigint){let s=this._getOrReturnCtx(e);return ze(s,{code:ke.invalid_type,expected:qe.bigint,received:s.parsedType}),Kt}let n,i=new ms;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ze(n,{code:ke.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):qr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,bt.toString(r))}setLimit(e,r,n,i){return new V0({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:bt.toString(i)}]})}_addCheck(e){return new V0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:bt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};V0.create=t=>{var e;return new V0({checks:[],typeName:Tt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...sr(t)})};var Y1=class extends or{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==qe.boolean){let n=this._getOrReturnCtx(e);return ze(n,{code:ke.invalid_type,expected:qe.boolean,received:n.parsedType}),Kt}return Po(e.data)}};Y1.create=t=>new Y1({typeName:Tt.ZodBoolean,coerce:t?.coerce||!1,...sr(t)});var dh=class extends or{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){let s=this._getOrReturnCtx(e);return ze(s,{code:ke.invalid_type,expected:qe.date,received:s.parsedType}),Kt}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return ze(s,{code:ke.invalid_date}),Kt}let n=new ms,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ze(i,{code:ke.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):qr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:bt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:bt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};dh.create=t=>new dh({checks:[],coerce:t?.coerce||!1,typeName:Tt.ZodDate,...sr(t)});var B2=class extends or{_parse(e){if(this._getType(e)!==qe.symbol){let n=this._getOrReturnCtx(e);return ze(n,{code:ke.invalid_type,expected:qe.symbol,received:n.parsedType}),Kt}return Po(e.data)}};B2.create=t=>new B2({typeName:Tt.ZodSymbol,...sr(t)});var X1=class extends or{_parse(e){if(this._getType(e)!==qe.undefined){let n=this._getOrReturnCtx(e);return ze(n,{code:ke.invalid_type,expected:qe.undefined,received:n.parsedType}),Kt}return Po(e.data)}};X1.create=t=>new X1({typeName:Tt.ZodUndefined,...sr(t)});var Z1=class extends or{_parse(e){if(this._getType(e)!==qe.null){let n=this._getOrReturnCtx(e);return ze(n,{code:ke.invalid_type,expected:qe.null,received:n.parsedType}),Kt}return Po(e.data)}};Z1.create=t=>new Z1({typeName:Tt.ZodNull,...sr(t)});var Kd=class extends or{constructor(){super(...arguments),this._any=!0}_parse(e){return Po(e.data)}};Kd.create=t=>new Kd({typeName:Tt.ZodAny,...sr(t)});var fh=class extends or{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Po(e.data)}};fh.create=t=>new fh({typeName:Tt.ZodUnknown,...sr(t)});var Rc=class extends or{_parse(e){let r=this._getOrReturnCtx(e);return ze(r,{code:ke.invalid_type,expected:qe.never,received:r.parsedType}),Kt}};Rc.create=t=>new Rc({typeName:Tt.ZodNever,...sr(t)});var C2=class extends or{_parse(e){if(this._getType(e)!==qe.undefined){let n=this._getOrReturnCtx(e);return ze(n,{code:ke.invalid_type,expected:qe.void,received:n.parsedType}),Kt}return Po(e.data)}};C2.create=t=>new C2({typeName:Tt.ZodVoid,...sr(t)});var Ca=class extends or{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==qe.array)return ze(r,{code:ke.invalid_type,expected:qe.array,received:r.parsedType}),Kt;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(ze(r,{code:o?ke.too_big:ke.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ze(r,{code:ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ze(r,{code:ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Bu(r,o,r.path,a)))).then(o=>ms.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Bu(r,o,r.path,a)));return ms.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Ca({...this._def,minLength:{value:e,message:bt.toString(r)}})}max(e,r){return new Ca({...this._def,maxLength:{value:e,message:bt.toString(r)}})}length(e,r){return new Ca({...this._def,exactLength:{value:e,message:bt.toString(r)}})}nonempty(e){return this.min(1,e)}};Ca.create=(t,e)=>new Ca({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...sr(e)});function E2(t){if(t instanceof Cn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Mc.create(E2(n))}return new Cn({...t._def,shape:()=>e})}else return t instanceof Ca?new Ca({...t._def,type:E2(t.element)}):t instanceof Mc?Mc.create(E2(t.unwrap())):t instanceof mh?mh.create(E2(t.unwrap())):t instanceof Cu?Cu.create(t.items.map(e=>E2(e))):t}var Cn=class extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=qr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==qe.object){let c=this._getOrReturnCtx(e);return ze(c,{code:ke.invalid_type,expected:qe.object,received:c.parsedType}),Kt}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Rc&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let h=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:h._parse(new Bu(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Rc){let c=this._def.unknownKeys;if(c==="passthrough")for(let h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")a.length>0&&(ze(i,{code:ke.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let h of a){let f=i.data[h];u.push({key:{status:"valid",value:h},value:c._parse(new Bu(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let h of u){let f=await h.key;c.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return c}).then(c=>ms.mergeObjectSync(n,c)):ms.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return new Cn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=bt.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new Cn({...this._def,unknownKeys:"strip"})}passthrough(){return new Cn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Cn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Cn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Tt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Cn({...this._def,catchall:e})}pick(e){let r={};return qr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Cn({...this._def,shape:()=>r})}omit(e){let r={};return qr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Cn({...this._def,shape:()=>r})}deepPartial(){return E2(this)}partial(e){let r={};return qr.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Cn({...this._def,shape:()=>r})}required(e){let r={};return qr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Mc;)s=s._def.innerType;r[n]=s}}),new Cn({...this._def,shape:()=>r})}keyof(){return OQ(qr.objectKeys(this.shape))}};Cn.create=(t,e)=>new Cn({shape:()=>t,unknownKeys:"strip",catchall:Rc.create(),typeName:Tt.ZodObject,...sr(e)});Cn.strictCreate=(t,e)=>new Cn({shape:()=>t,unknownKeys:"strict",catchall:Rc.create(),typeName:Tt.ZodObject,...sr(e)});Cn.lazycreate=(t,e)=>new Cn({shape:t,unknownKeys:"strip",catchall:Rc.create(),typeName:Tt.ZodObject,...sr(e)});var J1=class extends or{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Ba(a.ctx.common.issues));return ze(r,{code:ke.invalid_union,unionErrors:o}),Kt}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new Ba(u));return ze(r,{code:ke.invalid_union,unionErrors:a}),Kt}}get options(){return this._def.options}};J1.create=(t,e)=>new J1({options:t,typeName:Tt.ZodUnion,...sr(e)});var gv=t=>t instanceof t7?gv(t.schema):t instanceof ka?gv(t.innerType()):t instanceof r7?[t.value]:t instanceof G0?t.options:t instanceof n7?Object.keys(t.enum):t instanceof i7?gv(t._def.innerType):t instanceof X1?[void 0]:t instanceof Z1?[null]:null,k2=class extends or{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.object)return ze(r,{code:ke.invalid_type,expected:qe.object,received:r.parsedType}),Kt;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(ze(r,{code:ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Kt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=gv(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new k2({typeName:Tt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...sr(n)})}};function LO(t,e){let r=Ld(t),n=Ld(e);if(t===e)return{valid:!0,data:t};if(r===qe.object&&n===qe.object){let i=qr.objectKeys(e),s=qr.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=LO(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===qe.array&&n===qe.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=LO(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===qe.date&&n===qe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Q1=class extends or{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(HO(s)||HO(o))return Kt;let a=LO(s.value,o.value);return a.valid?((DO(s)||DO(o))&&r.dirty(),{status:r.value,value:a.data}):(ze(n,{code:ke.invalid_intersection_types}),Kt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Q1.create=(t,e,r)=>new Q1({left:t,right:e,typeName:Tt.ZodIntersection,...sr(r)});var Cu=class extends or{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.array)return ze(n,{code:ke.invalid_type,expected:qe.array,received:n.parsedType}),Kt;if(n.data.length<this._def.items.length)return ze(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kt;!this._def.rest&&n.data.length>this._def.items.length&&(ze(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Bu(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ms.mergeArray(r,o)):ms.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Cu({...this._def,rest:e})}};Cu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cu({items:t,typeName:Tt.ZodTuple,rest:null,...sr(e)})};var e7=class extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.object)return ze(n,{code:ke.invalid_type,expected:qe.object,received:n.parsedType}),Kt;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Bu(n,a,n.path,a)),value:o._parse(new Bu(n,n.data[a],n.path,a))});return n.common.async?ms.mergeObjectAsync(r,i):ms.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof or?new e7({keyType:e,valueType:r,typeName:Tt.ZodRecord,...sr(n)}):new e7({keyType:Oa.create(),valueType:e,typeName:Tt.ZodRecord,...sr(r)})}},M2=class extends or{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.map)return ze(n,{code:ke.invalid_type,expected:qe.map,received:n.parsedType}),Kt;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new Bu(n,a,n.path,[c,"key"])),value:s._parse(new Bu(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return Kt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,h=u.value;if(c.status==="aborted"||h.status==="aborted")return Kt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}}}};M2.create=(t,e,r)=>new M2({valueType:e,keyType:t,typeName:Tt.ZodMap,...sr(r)});var ph=class extends or{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qe.set)return ze(n,{code:ke.invalid_type,expected:qe.set,received:n.parsedType}),Kt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ze(n,{code:ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ze(n,{code:ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let h of u){if(h.status==="aborted")return Kt;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>s._parse(new Bu(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new ph({...this._def,minSize:{value:e,message:bt.toString(r)}})}max(e,r){return new ph({...this._def,maxSize:{value:e,message:bt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};ph.create=(t,e)=>new ph({valueType:t,minSize:null,maxSize:null,typeName:Tt.ZodSet,...sr(e)});var qd=class extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.function)return ze(r,{code:ke.invalid_type,expected:qe.function,received:r.parsedType}),Kt;function n(a,u){return Nv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Rv(),Hm].filter(c=>!!c),issueData:{code:ke.invalid_arguments,argumentsError:u}})}function i(a,u){return Nv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Rv(),Hm].filter(c=>!!c),issueData:{code:ke.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof Vd?Po(async(...a)=>{let u=new Ba([]),c=await this._def.args.parseAsync(a,s).catch(p=>{throw u.addIssue(n(a,p)),u}),h=await o(...c);return await this._def.returns._def.type.parseAsync(h,s).catch(p=>{throw u.addIssue(i(h,p)),u})}):Po((...a)=>{let u=this._def.args.safeParse(a,s);if(!u.success)throw new Ba([n(a,u.error)]);let c=o(...u.data),h=this._def.returns.safeParse(c,s);if(!h.success)throw new Ba([i(c,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new qd({...this._def,args:Cu.create(e).rest(fh.create())})}returns(e){return new qd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new qd({args:e||Cu.create([]).rest(fh.create()),returns:r||fh.create(),typeName:Tt.ZodFunction,...sr(n)})}},t7=class extends or{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};t7.create=(t,e)=>new t7({getter:t,typeName:Tt.ZodLazy,...sr(e)});var r7=class extends or{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return ze(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),Kt}return{status:"valid",value:e.data}}get value(){return this._def.value}};r7.create=(t,e)=>new r7({value:t,typeName:Tt.ZodLiteral,...sr(e)});function OQ(t,e){return new G0({values:t,typeName:Tt.ZodEnum,...sr(e)})}var G0=class extends or{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return ze(r,{expected:qr.joinValues(n),received:r.parsedType,code:ke.invalid_type}),Kt}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return ze(r,{received:r.data,code:ke.invalid_enum_value,options:n}),Kt}return Po(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return G0.create(e)}exclude(e){return G0.create(this.options.filter(r=>!e.includes(r)))}};G0.create=OQ;var n7=class extends or{_parse(e){let r=qr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qe.string&&n.parsedType!==qe.number){let i=qr.objectValues(r);return ze(n,{expected:qr.joinValues(i),received:n.parsedType,code:ke.invalid_type}),Kt}if(r.indexOf(e.data)===-1){let i=qr.objectValues(r);return ze(n,{received:n.data,code:ke.invalid_enum_value,options:i}),Kt}return Po(e.data)}get enum(){return this._def.values}};n7.create=(t,e)=>new n7({values:t,typeName:Tt.ZodNativeEnum,...sr(e)});var Vd=class extends or{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.promise&&r.common.async===!1)return ze(r,{code:ke.invalid_type,expected:qe.promise,received:r.parsedType}),Kt;let n=r.parsedType===qe.promise?r.data:Promise.resolve(r.data);return Po(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Vd.create=(t,e)=>new Vd({type:t,typeName:Tt.ZodPromise,...sr(e)});var ka=class extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){let o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}let s={addIssue:o=>{ze(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Kt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Kt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Fv(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Fv(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);qr.assertNever(i)}};ka.create=(t,e,r)=>new ka({schema:t,typeName:Tt.ZodEffects,effect:e,...sr(r)});ka.createWithPreprocess=(t,e,r)=>new ka({schema:e,effect:{type:"preprocess",transform:t},typeName:Tt.ZodEffects,...sr(r)});var Mc=class extends or{_parse(e){return this._getType(e)===qe.undefined?Po(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Mc.create=(t,e)=>new Mc({innerType:t,typeName:Tt.ZodOptional,...sr(e)});var mh=class extends or{_parse(e){return this._getType(e)===qe.null?Po(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};mh.create=(t,e)=>new mh({innerType:t,typeName:Tt.ZodNullable,...sr(e)});var i7=class extends or{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===qe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};i7.create=(t,e)=>new i7({innerType:t,typeName:Tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...sr(e)});var R2=class extends or{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hv(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ba(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ba(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};R2.create=(t,e)=>new R2({innerType:t,typeName:Tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...sr(e)});var N2=class extends or{_parse(e){if(this._getType(e)!==qe.nan){let n=this._getOrReturnCtx(e);return ze(n,{code:ke.invalid_type,expected:qe.nan,received:n.parsedType}),Kt}return{status:"valid",value:e.data}}};N2.create=t=>new N2({typeName:Tt.ZodNaN,...sr(t)});var aCe=Symbol("zod_brand"),Dv=class extends or{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},s7=class extends or{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Kt:s.status==="dirty"?(r.dirty(),PQ(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Kt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new s7({in:e,out:r,typeName:Tt.ZodPipeline})}},BQ=(t,e={},r)=>t?Kd.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):Kd.create(),uCe={object:Cn.lazycreate},Tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(Tt||(Tt={}));var cCe=(t,e={message:`Input not instance of ${t.name}`})=>BQ(r=>r instanceof t,e),CQ=Oa.create,kQ=K0.create,fCe=N2.create,hCe=V0.create,MQ=Y1.create,lCe=dh.create,dCe=B2.create,pCe=X1.create,mCe=Z1.create,gCe=Kd.create,bCe=fh.create,yCe=Rc.create,vCe=C2.create,_Ce=Ca.create,xCe=Cn.create,SCe=Cn.strictCreate,wCe=J1.create,ECe=k2.create,TCe=Q1.create,ACe=Cu.create,ICe=e7.create,PCe=M2.create,OCe=ph.create,BCe=qd.create,CCe=t7.create,kCe=r7.create,MCe=G0.create,RCe=n7.create,NCe=Vd.create,PZ=ka.create,FCe=Mc.create,HCe=mh.create,DCe=ka.createWithPreprocess,LCe=s7.create,UCe=()=>CQ().optional(),qCe=()=>kQ().optional(),$Ce=()=>MQ().optional(),jCe={string:t=>Oa.create({...t,coerce:!0}),number:t=>K0.create({...t,coerce:!0}),boolean:t=>Y1.create({...t,coerce:!0}),bigint:t=>V0.create({...t,coerce:!0}),date:t=>dh.create({...t,coerce:!0})},KCe=Kt,Io=Object.freeze({__proto__:null,defaultErrorMap:Hm,setErrorMap:WBe,getErrorMap:Rv,makeIssue:Nv,EMPTY_PATH:YBe,addIssueToContext:ze,ParseStatus:ms,INVALID:Kt,DIRTY:PQ,OK:Po,isAborted:HO,isDirty:DO,isValid:Fv,isAsync:Hv,get util(){return qr},get objectUtil(){return FO},ZodParsedType:qe,getParsedType:Ld,ZodType:or,ZodString:Oa,ZodNumber:K0,ZodBigInt:V0,ZodBoolean:Y1,ZodDate:dh,ZodSymbol:B2,ZodUndefined:X1,ZodNull:Z1,ZodAny:Kd,ZodUnknown:fh,ZodNever:Rc,ZodVoid:C2,ZodArray:Ca,ZodObject:Cn,ZodUnion:J1,ZodDiscriminatedUnion:k2,ZodIntersection:Q1,ZodTuple:Cu,ZodRecord:e7,ZodMap:M2,ZodSet:ph,ZodFunction:qd,ZodLazy:t7,ZodLiteral:r7,ZodEnum:G0,ZodNativeEnum:n7,ZodPromise:Vd,ZodEffects:ka,ZodTransformer:ka,ZodOptional:Mc,ZodNullable:mh,ZodDefault:i7,ZodCatch:R2,ZodNaN:N2,BRAND:aCe,ZodBranded:Dv,ZodPipeline:s7,custom:BQ,Schema:or,ZodSchema:or,late:uCe,get ZodFirstPartyTypeKind(){return Tt},coerce:jCe,any:gCe,array:_Ce,bigint:hCe,boolean:MQ,date:lCe,discriminatedUnion:ECe,effect:PZ,enum:MCe,function:BCe,instanceof:cCe,intersection:TCe,lazy:CCe,literal:kCe,map:PCe,nan:fCe,nativeEnum:RCe,never:yCe,null:mCe,nullable:HCe,number:kQ,object:xCe,oboolean:$Ce,onumber:qCe,optional:FCe,ostring:UCe,pipeline:LCe,preprocess:DCe,promise:NCe,record:ICe,set:OCe,strictObject:SCe,string:CQ,symbol:dCe,transformer:PZ,tuple:ACe,undefined:pCe,union:wCe,unknown:bCe,void:vCe,NEVER:KCe,ZodIssueCode:ke,quotelessJson:zBe,ZodError:Ba}),bB=Io.string().regex(/^[a-fA-F0-9]$/),RQ=Io.string().regex(/^[a-fA-F0-9]{64}$/),o7=Io.number().min(0).max(4294967295),NQ=Io.bigint(),FQ=Io.instanceof(Uint8Array),VCe=Io.union([bB,o7,Io.string(),FQ]).array(),zv=Io.union([VCe,bB,FQ]),HQ=Io.array(zv),yB=Io.object({value:Io.union([o7,NQ]),scriptPubKey:zv}),DQ=Io.object({txid:RQ,vout:o7,scriptSig:zv,sequence:o7,prevout:yB.optional(),witness:HQ}),GCe=Io.object({version:o7,vin:Io.array(DQ),vout:Io.array(yB),locktime:o7}),zCe={TxData:GCe,TxInput:DQ,TxOutput:yB,witness:HQ,script:zv,hexstr:bB,hash:RQ,uint32:o7,uint64:NQ},UO=class{constructor(e){typeof e=="string"&&(e=fe.hex(e)),e instanceof Uint8Array&&(e=Pa.decode(e));let r=zCe.TxData;this._data=r.parse(Pa.create(e))}get data(){return this._data}get version(){return this.data.version}get vin(){return this.data.vin.map((e,r)=>new AQ(this.data,r))}get vout(){return this.data.vout.map(e=>new gB(e))}get locktime(){return new NO(this.data.locktime)}get base(){return Pa.encode(this.data,!0)}get buff(){return Pa.encode(this.data)}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get size(){return this.raw.length}get bsize(){return this.base.length}get weight(){return this.bsize*3+this.size}get vsize(){let e=this.weight%4>0?1:0;return Math.floor(this.weight/4)+e}get hash(){return lh(this.buff).reverse().hex}get txid(){return lh(this.base).reverse().hex}async export(){let{size:e,weight:r,vsize:n,hex:i}=this,s=this.txid,o=this.hash;return{txid:s,hash:o,...this.data,size:e,weight:r,vsize:n,hex:i}}};Nc.Address=aBe;Nc.Input=AQ;Nc.Output=gB;Nc.Script=Fs;Nc.Sequence=kv;Nc.Signer=RO;Nc.Tap=jBe;Nc.Transaction=UO;Nc.Tx=Pa;Nc.Witness=Mv});var vB=$(W0=>{k();M();Object.defineProperty(W0,"__esModule",{value:!0});W0.script2P2TR=W0.CatTx=W0.TaprootMastSmartContract=W0.TaprootSmartContract=void 0;var WCe=CP(),UQ=xr(),YCe=VP(),u7=LQ(),zd=l2(),Wv="50929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0",D2=class{constructor(e){let r=e.lockingScript,n=u7.Tap.encodeScript(r.toBuffer()),[i,s]=u7.Tap.getPubKey(Wv,{target:n}),o=new zd.btc.Script(`OP_1 32 0x${i}}`);this.contract=e,this.contractScript=r,this.contractScriptBuffer=r.toBuffer(),this.contractScriptHash=(0,UQ.hash160)(this.contractScriptBuffer.toString("hex")),this.tapleaf=n,this.tapleafBuffer=A.Buffer.from(n,"hex"),this.tpubkey=i,this.cblock=s,this.cblockBuffer=A.Buffer.from(s,"hex"),this.lockingScript=o,this.lockingScriptHex=o.toBuffer().toString("hex")}static create(e){return new D2(e)}};W0.TaprootSmartContract=D2;var qm=class{constructor(e){let r={},n=[];for(let o of Object.keys(e)){let a=e[o];r[o]=D2.create(a);let u=a.lockingScript,c=u7.Tap.encodeScript(u.toBuffer());n.push(c),r[o].tapleaf=c,r[o].tapleafBuffer=A.Buffer.from(c,"hex")}let[i]=u7.Tap.getPubKey(Wv,{tree:n}),s=new zd.btc.Script(`OP_1 32 0x${i}}`);for(let o of Object.keys(r)){let a=r[o],[,u]=u7.Tap.getPubKey(Wv,{target:a.tapleaf,tree:n});a.tpubkey=i,a.cblock=u,a.cblockBuffer=A.Buffer.from(u,"hex"),a.lockingScript=s,a.lockingScriptHex=s.toBuffer().toString("hex")}this.tpubkey=i,this.lockingScript=s,this.lockingScriptHex=s.toBuffer().toString("hex"),this.contractTaprootMap=r}static create(e){return new qm(e)}};W0.TaprootMastSmartContract=qm;var $m=class{constructor(){this.tx=new zd.btc.Transaction,this.state=WCe.ProtocolState.getEmptyState(),this.tx.addOutput(new zd.btc.Transaction.Output({satoshis:0,script:this.state.stateScript}))}updateState(){this.tx.outputs[0]=new zd.btc.Transaction.Output({satoshis:0,script:this.state.stateScript})}static create(){return new $m}fromCatTx(e,r){return this.tx.from(e.getUTXO(r)),this.tx.inputs.length-1}addContractOutput(e,r=330){this.tx.addOutput(new zd.btc.Transaction.Output({satoshis:r,script:e}));let n=this.tx.outputs.length-1;return this.state.updateDataList(n-1,(0,UQ.toByteString)("")),this.updateState(),this.tx.outputs.length-1}addStateContractOutput(e,r,n=330){this.tx.addOutput(new zd.btc.Transaction.Output({satoshis:n,script:e}));let i=this.tx.outputs.length-1;return this.state.updateDataList(i-1,r),this.updateState(),i}getUTXO(e){return{txId:this.tx.id,outputIndex:e,script:this.tx.outputs[e].script,satoshis:this.tx.outputs[e].satoshis}}sign(e){this.tx.sign(e)}getInputCtx(e,r){return(0,YCe.getTxCtx)(this.tx,e,r)}getPreState(){return{statesHashRoot:this.state.hashRoot,txoStateHashes:this.state.stateHashList}}};W0.CatTx=$m;function XCe(t){let e=u7.Tap.encodeScript(t),[r,n]=u7.Tap.getPubKey(Wv,{target:e});return{p2tr:new zd.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}W0.script2P2TR=XCe});var $Q=$(L2=>{k();M();Object.defineProperty(L2,"__esModule",{value:!0});L2.getNftGuardContractInfo=L2.getGuardContractInfo=void 0;var ZCe=Y0(),JCe=Y0(),QCe=Y0(),eke=Y0(),qQ=vB(),tke=function(){let t=new ZCe.BurnGuard,e=new JCe.TransferGuard,r={burn:t,transfer:e};return new qQ.TaprootMastSmartContract(r)};L2.getGuardContractInfo=tke;var rke=function(){let t=new QCe.NftBurnGuard,e=new eke.NftTransferGuard,r={burn:t,transfer:e};return new qQ.TaprootMastSmartContract(r)};L2.getNftGuardContractInfo=rke});var Y0=$(Xt=>{k();M();var nke=Xt&&Xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pr=Xt&&Xt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nke(e,t,r)},ku=Xt&&Xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xt,"__esModule",{value:!0});var ike=jA(),ske=YA(),oke=JA(),ake=QA(),uke=tI(),cke=iI(),fke=ku(iz()),hke=ku(sz()),lke=ku(oz()),dke=ku(az()),pke=ku(uz()),mke=ku(cz()),gke=uI(),bke=lI(),yke=gI(),vke=yI(),_ke=_I(),xke=wI(),Ske=ku(_z()),wke=ku(xz()),Eke=ku(Sz()),Tke=ku(wz()),Ake=ku(Ez()),Ike=ku(Tz());ske.ClosedMinter.loadArtifact(fke.default),oke.OpenMinter.loadArtifact(hke.default),cke.OpenMinterV2.loadArtifact(lke.default),ake.CAT20.loadArtifact(dke.default),ike.BurnGuard.loadArtifact(pke.default),uke.TransferGuard.loadArtifact(mke.default),gke.NftClosedMinter.loadArtifact(Ske.default),bke.NftParallelClosedMinter.loadArtifact(wke.default),yke.NftOpenMinter.loadArtifact(Eke.default),vke.CAT721.loadArtifact(Tke.default),xke.NftBurnGuard.loadArtifact(Ike.default),_ke.NftTransferGuard.loadArtifact(Ake.default);Pr(YA(),Xt);Pr(QA(),Xt);Pr(jA(),Xt);Pr(tI(),Xt);Pr(D5(),Xt);Pr(GA(),Xt);Pr(G9(),Xt);Pr(JA(),Xt);Pr(iI(),Xt);Pr(ZA(),Xt);Pr(nI(),Xt);Pr(uI(),Xt);Pr(lI(),Xt);Pr(gI(),Xt);Pr(oI(),Xt);Pr(fI(),Xt);Pr(pI(),Xt);Pr(mI(),Xt);Pr(yI(),Xt);Pr(j5(),Xt);Pr(wI(),Xt);Pr(_I(),Xt);Pr(rm(),Xt);Pr(In(),Xt);Pr(R5(),Xt);Pr(na(),Xt);Pr(O0(),Xt);Pr(ra(),Xt);Pr(CP(),Xt);Pr(K9(),Xt);Pr(VP(),Xt);Pr(lZ(),Xt);Pr($Q(),Xt);Pr(l2(),Xt);Pr(vB(),Xt)});var jQ=$(Yv=>{k();M();Object.defineProperty(Yv,"__esModule",{value:!0});Yv.btc=void 0;var Pke=Y0();Object.defineProperty(Yv,"btc",{enumerable:!0,get:function(){return Pke.btc}})});var VQ=$(KQ=>{k();M();Object.defineProperty(KQ,"__esModule",{value:!0})});var X0=$(Mu=>{k();M();var Oke=Mu&&Mu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U2=Mu&&Mu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oke(e,t,r)};Object.defineProperty(Mu,"__esModule",{value:!0});U2(JF(),Mu);U2(wS(),Mu);U2(eH(),Mu);U2(rH(),Mu);U2(jQ(),Mu);U2(VQ(),Mu)});var bre=$(Lc=>{"use strict";k();M();function kB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Bke(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function aee(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Cke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kB(t.outputLen),kB(t.blockLen)}function kke(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Mke(t,e){aee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Rke={number:kB,bool:Bke,bytes:aee,hash:Cke,exists:kke,output:Mke},_B=Rke;var xB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Z0=(t,e)=>t<<32-e|t>>>e,Nke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Nke)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fke(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function uee(t){if(typeof t=="string"&&(t=Fke(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Hke=class{clone(){return this._cloneInto()}};function cee(t){let e=n=>t().update(uee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Dke(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Lke=class extends Hke{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xB(this.buffer)}update(e){_B.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=uee(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=xB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){_B.exists(this),_B.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;Dke(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=xB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},Uke=(t,e,r)=>t&e^~t&r,qke=(t,e,r)=>t&e^t&r^e&r,$ke=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yd=new Uint32Array(64),fee=class extends Lke{constructor(){super(64,32,8,!1),this.A=Wd[0]|0,this.B=Wd[1]|0,this.C=Wd[2]|0,this.D=Wd[3]|0,this.E=Wd[4]|0,this.F=Wd[5]|0,this.G=Wd[6]|0,this.H=Wd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Yd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Yd[f-15],l=Yd[f-2],y=Z0(p,7)^Z0(p,18)^p>>>3,_=Z0(l,17)^Z0(l,19)^l>>>10;Yd[f]=_+Yd[f-7]+y+Yd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=Z0(a,6)^Z0(a,11)^Z0(a,25),l=h+p+Uke(a,u,c)+$ke[f]+Yd[f]|0,_=(Z0(n,2)^Z0(n,13)^Z0(n,22))+qke(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Yd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},jke=class extends fee{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},MB=cee(()=>new fee);cee(()=>new jke);function Kke(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function Vke(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function Gke(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:zke}=crypto??globalThis.crypto??window.crypto;function Wke(t=32){if(typeof zke=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function Yke(t,e,r="be"){e===void 0&&(e=t.length),Kke(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function hee(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var Xke=new TextEncoder,Zke=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function lee(t){for(let e of Zke)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function Jke(t,e,r=!1){typeof t=="string"&&(t=Xke.encode(t));let n=lee(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function Qke(t,e){let r=lee(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function dee(t){return MB(MB(t))}function eMe(t){let e=dee(t);return hee([t,e.slice(0,4)])}function tMe(t){let e=t.slice(0,-4),r=t.slice(-4);if(dee(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var GQ={encode:Jke,decode:Qke},pee={encode:t=>{let e=eMe(t);return GQ.encode(e,"base58")},decode:t=>{let e=GQ.decode(t,"base58");return tMe(e)}},mee="qpzry9x8gf2tvdw0s3jn54khce6mua7l",rMe=[996825010,642813549,513874426,1027748829,705979059],t_=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function gee(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=rMe[i])}return e}function bee(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function nMe(t,e,r){let n=bee(t).concat(e);return gee(n)===r.const}function iMe(t,e,r){let n=bee(t).concat(e).concat([0,0,0,0,0,0]),i=gee(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function yee(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function sMe(t,e,r){let n=e.concat(iMe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=mee.charAt(n[s]);return i}function vee(t){if(!oMe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!aMe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=mee.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=t_.find(s=>s.version===e[0])??t_[0];if(!nMe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function oMe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function aMe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function uMe(t,e="bc",r=0){let n=[r,...yee([...t],8,5)],i=t_.find(o=>o.version===r)??t_[0],s=sMe(e,n,i);return _ee(s),s}function _ee(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=vee(t),i=yee(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function cMe(t){t=t.toLowerCase();let[e,r]=vee(t);return r[0]}var xee={encode:uMe,decode:_ee,version:cMe},See="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",fMe=new TextEncoder;function Eee(t,e=!1,r=!0){typeof t=="string"&&(t=fMe.encode(t));let n=e?wee:See,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function Tee(t,e=!1){let r=e||t.includes("-")||t.includes("_")?wee.split(""):See.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var Aee={encode:Eee,decode:Tee},Iee={encode:t=>Eee(t,!0,!1),decode:t=>Tee(t,!0)},hMe=BigInt(0),lMe=BigInt(255),Pee=BigInt(256);function dMe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function pMe(t,e,r="be"){e===void 0&&(e=dMe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>hMe;){let a=t&lMe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/Pee}return new Uint8Array(i)}function mMe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*Pee+BigInt(t[r]);return BigInt(e)}function gMe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function bMe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function yMe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function vMe(t,e,r="be"){e===void 0&&(e=yMe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function _Me(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],Gke(e);return e}var xMe=new TextEncoder,SMe=new TextDecoder;function iC(t){return xMe.encode(t)}function SB(t){return SMe.decode(t)}function wMe(t,e){Vke(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function EMe(t,e,r="le"){e=wMe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function TMe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function AMe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return iC(e)}function IMe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return Yke(t,e,r);if(typeof t=="string")return EMe(t,e,r);if(typeof t=="bigint")return pMe(t,e,r);if(typeof t=="number")return vMe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var ar,he=(ar=class extends Uint8Array{static random(e=32){let r=Wke(e);return new ar(r,e)}constructor(e,r,n){let i=IMe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new Q2(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return _Me(r)}toBin(){return bMe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return mMe(r)}toHash(){let e=MB(this);return new ar(e)}toJson(){let e=SB(this);return JSON.parse(e)}toBech32(e,r=0){return xee.encode(this,e,r)}toStr(){return SB(this)}toHex(){return TMe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return pee.encode(this)}toBase64(){return Aee.encode(this)}toB64url(){return Iee.encode(this)}prepend(e){return ar.join([ar.bytes(e),this])}append(e){return ar.join([this,ar.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new ar(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new ar(n)}reverse(){let e=new Uint8Array(this).reverse();return new ar(e)}write(e,r){let n=ar.bytes(e);this.set(n,r)}prefixSize(e){let r=ar.varInt(this.length,e);return ar.join([r,this])}static from(e){return new ar(Uint8Array.from(e))}static of(...e){return new ar(Uint8Array.of(...e))}static join(e){let r=e.map(i=>ar.bytes(i)),n=hee(r);return new ar(n)}static varInt(e,r){if(e<253)return ar.num(e,1);if(e<65536)return ar.of(253,...ar.num(e,2,r));if(e<4294967296)return ar.of(254,...ar.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return ar.of(255,...ar.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},(()=>{ar.num=PMe})(),(()=>{ar.big=BMe})(),(()=>{ar.bin=OMe})(),(()=>{ar.raw=CMe})(),(()=>{ar.str=kMe})(),(()=>{ar.hex=MMe})(),(()=>{ar.bytes=RMe})(),(()=>{ar.json=NMe})(),(()=>{ar.base64=FMe})(),(()=>{ar.b64url=HMe})(),(()=>{ar.bech32=DMe})(),(()=>{ar.b58chk=LMe})(),(()=>{ar.encode=iC})(),(()=>{ar.decode=SB})(),ar);function PMe(t,e,r){return new he(t,e,r)}function OMe(t,e,r){return new he(gMe(t),e,r)}function BMe(t,e,r){return new he(t,e,r)}function CMe(t,e,r){return new he(t,e,r)}function kMe(t,e,r){return new he(iC(t),e,r)}function MMe(t,e,r){return new he(t,e,r)}function RMe(t,e,r){return new he(t,e,r)}function NMe(t){return new he(AMe(t))}function FMe(t){return new he(Aee.decode(t))}function HMe(t){return new he(Iee.decode(t))}function DMe(t){return new he(xee.decode(t))}function LMe(t){return new he(pee.decode(t))}var Q2=class{constructor(e){this.data=he.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new he(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}};function of(t,e){let r=he.bytes(t);if(r.length!==e)throw new Error(`Invalid input size: ${r.hex} !== ${e}`)}function no(t,e){if(e)throw new Error(t);return!1}function Qv(t,...e){let r=he.str(t).digest.raw,n=e.map(i=>he.bytes(i));return he.join([r,r,he.join(n)]).digest}var Oee={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186};function UMe(t){if(t>186&&t<255)return"OP_SUCCESS"+String(t);for(let[e,r]of Object.entries(Oee))if(r===t)return e;throw new Error("OPCODE not found:"+String(t))}function qMe(t){for(let[e,r]of Object.entries(Oee))if(e===t)return Number(r);throw new Error("OPCODE not found:"+t)}function $Me(t){switch(!0){case t===0:return"opcode";case(t>=1&&t<=75):return"varint";case t===76:return"pushdata1";case t===77:return"pushdata2";case t===78:return"pushdata4";case t<=254:return"opcode";default:throw new Error(`Invalid word range: ${t}`)}}function jMe(t){let n=[];switch(!0){case typeof t!="number":return!1;case t===0:return!0;case n.includes(t):return!1;case(75<t&&t<254):return!0;default:return!1}}function Eh(t){return typeof t=="string"&&t.length%2===0&&/[0-9a-fA-F]/.test(t)}function Bee(t){return Eh(t)||t instanceof Uint8Array}var r_=520;function lp(t=[],e=!0){let r=he.num(0);return Array.isArray(t)&&(r=he.raw(Cee(t))),Eh(t)&&(r=he.hex(t)),t instanceof Uint8Array&&(r=he.raw(t)),e&&(r=r.prefixSize("le")),r}function Cee(t){let e=[];for(let r of t)e.push(KMe(r));return e.length>0?he.join(e):new Uint8Array}function KMe(t){let e=new Uint8Array;if(typeof t=="string"){if(t.startsWith("OP_"))return he.num(qMe(t),1);Eh(t)?e=he.hex(t):e=he.str(t)}else if(e=he.bytes(t),e.length===1&&e[0]<=16)return e[0]!==0&&(e[0]+=80),e;if(e.length>r_){let r=GMe(e);return Cee(r)}return he.join([VMe(e.length),e])}function VMe(t){let e=he.num(76,1),r=he.num(77,1);switch(!0){case t<=75:return he.num(t);case(t>75&&t<256):return he.join([e,he.num(t,1,"le")]);case(t>=256&&t<=r_):return he.join([r,he.num(t,2,"le")]);default:throw new Error("Invalid word size:"+t.toString())}}function GMe(t){let e=[],r=new Q2(t);for(;r.size>r_;)e.push(r.read(r_));return e.push(r.read(r.size)),e}function w_(t,e=!1){let r=he.bytes(t);if(e){let i=r.stream.readSize("le");if(r=r.slice(1),r.length!==i)throw new Error(`Varint does not match stream size: ${i} !== ${r.length}`)}return zMe(r)}function zMe(t){let e=new Q2(t),r=[],n=e.size,i,s,o,a=0;for(;a<n;)switch(i=e.read(1).num,s=$Me(i),a++,s){case"varint":r.push(e.read(i).hex),a+=i;break;case"pushdata1":o=e.read(1).reverse().num,r.push(e.read(o).hex),a+=o+1;break;case"pushdata2":o=e.read(2).reverse().num,r.push(e.read(o).hex),a+=o+2;break;case"pushdata4":o=e.read(4).reverse().num,r.push(e.read(o).hex),a+=o+4;break;case"opcode":if(!jMe(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(UMe(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function WMe(t,e){if(Array.isArray(t)&&(t=lp(t,e)),t instanceof Uint8Array||Eh(t))return w_(t,e);throw new Error("Invalid format: "+String(typeof t))}function YMe(t,e){if((t instanceof Uint8Array||Eh(t))&&(t=w_(t,e)),Array.isArray(t))return lp(t,e);throw new Error("Invalid format: "+String(typeof t))}function XMe(t){if(!Array.isArray(t))return he.bytes(t);throw new Error("Invalid format: "+String(typeof t))}var ZMe={toAsm:WMe,toBytes:YMe,toParam:XMe},Ls={encode:lp,decode:w_,fmt:ZMe};function RB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function JMe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function kee(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function QMe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");RB(t.outputLen),RB(t.blockLen)}function eRe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function tRe(t,e){kee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var rRe={number:RB,bool:JMe,bytes:kee,hash:QMe,exists:eRe,output:tRe},h7=rRe,wB=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var EB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),J0=(t,e)=>t<<32-e|t>>>e,nRe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nRe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iRe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function sC(t){if(typeof t=="string"&&(t=iRe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function sRe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var Mee=class{clone(){return this._cloneInto()}};function Ree(t){let e=n=>t().update(sC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Nee(t=32){if(wB&&typeof wB.getRandomValues=="function")return wB.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function oRe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var aRe=class extends Mee{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=EB(this.buffer)}update(e){h7.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=sC(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=EB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){h7.exists(this),h7.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;oRe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=EB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},uRe=(t,e,r)=>t&e^~t&r,cRe=(t,e,r)=>t&e^t&r^e&r,fRe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zd=new Uint32Array(64),Fee=class extends aRe{constructor(){super(64,32,8,!1),this.A=Xd[0]|0,this.B=Xd[1]|0,this.C=Xd[2]|0,this.D=Xd[3]|0,this.E=Xd[4]|0,this.F=Xd[5]|0,this.G=Xd[6]|0,this.H=Xd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Zd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Zd[f-15],l=Zd[f-2],y=J0(p,7)^J0(p,18)^p>>>3,_=J0(l,17)^J0(l,19)^l>>>10;Zd[f]=_+Zd[f-7]+y+Zd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=J0(a,6)^J0(a,11)^J0(a,25),l=h+p+uRe(a,u,c)+fRe[f]+Zd[f]|0,_=(J0(n,2)^J0(n,13)^J0(n,22))+cRe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Zd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},hRe=class extends Fee{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},n_=Ree(()=>new Fee);Ree(()=>new hRe);var lRe=BigInt(0),oC=BigInt(1),dRe=BigInt(2),E_=t=>t instanceof Uint8Array,pRe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function j2(t){if(!E_(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=pRe[t[r]];return e}function Hee(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function aC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function K2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Oo(t){return aC(j2(t))}function uC(t){if(!E_(t))throw new Error("Uint8Array expected");return aC(j2(Uint8Array.from(t).reverse()))}var op=(t,e)=>K2(t.toString(16).padStart(e*2,"0")),Dee=(t,e)=>op(t,e).reverse(),mRe=t=>K2(Hee(t));function Hs(t,e,r){let n;if(typeof e=="string")try{n=K2(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(E_(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Ma(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!E_(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function gRe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function T_(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function bRe(t){let e;for(e=0;t>0n;t>>=oC,e+=1);return e}var yRe=(t,e)=>t>>BigInt(e)&1n,vRe=(t,e,r)=>t|(r?oC:lRe)<<BigInt(e),cC=t=>(dRe<<BigInt(t-1))-oC,TB=t=>new Uint8Array(t),zQ=t=>Uint8Array.from(t);function Lee(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=TB(t),i=TB(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=TB())=>{i=a(zQ([0]),f),n=a(),f.length!==0&&(i=a(zQ([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,p=[];for(;f<e;){n=a();let l=n.slice();p.push(l),f+=n.length}return Ma(...p)};return(f,p)=>{o(),u(f);let l;for(;!(l=p(c()));)u();return o(),l}}var _Re={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function e3(t,e,r={}){let n=(i,s,o)=>{let a=_Re[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var xRe=Object.freeze({__proto__:null,bitGet:yRe,bitLen:bRe,bitMask:cC,bitSet:vRe,bytesToHex:j2,bytesToNumberBE:Oo,bytesToNumberLE:uC,concatBytes:Ma,createHmacDrbg:Lee,ensureBytes:Hs,equalBytes:gRe,hexToBytes:K2,hexToNumber:aC,numberToBytesBE:op,numberToBytesLE:Dee,numberToHexUnpadded:Hee,numberToVarBytesBE:mRe,utf8ToBytes:T_,validateObject:e3});var gs=BigInt(0),xi=BigInt(1),f7=BigInt(2),SRe=BigInt(3),NB=BigInt(4),WQ=BigInt(5),YQ=BigInt(8);BigInt(9);BigInt(16);function Qi(t,e){let r=t%e;return r>=gs?r:e+r}function wRe(t,e,r){if(r<=gs||e<gs)throw new Error("Expected power/modulo > 0");if(r===xi)return gs;let n=xi;for(;e>gs;)e&xi&&(n=n*t%r),t=t*t%r,e>>=xi;return n}function Ru(t,e,r){let n=t;for(;e-- >gs;)n*=n,n%=r;return n}function FB(t,e){if(t===gs||e<=gs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Qi(t,e),n=e,i=gs,s=xi;for(;r!==gs;){let a=n/r,u=n%r,c=i-s*a;n=r,r=u,i=s,s=c}if(n!==xi)throw new Error("invert: does not exist");return Qi(i,e)}function ERe(t){let e=(t-xi)/f7,r,n,i;for(r=t-xi,n=0;r%f7===gs;r/=f7,n++);for(i=f7;i<t&&wRe(i,e,t)!==t-xi;i++);if(n===1){let o=(t+xi)/NB;return function(u,c){let h=u.pow(c,o);if(!u.eql(u.sqr(h),c))throw new Error("Cannot find square root");return h}}let s=(r+xi)/f7;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,h=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let l=1;for(let _=a.sqr(p);l<c&&!a.eql(_,a.ONE);l++)_=a.sqr(_);let y=a.pow(h,xi<<BigInt(c-l-1));h=a.sqr(y),f=a.mul(f,y),p=a.mul(p,h),c=l}return f}}function TRe(t){if(t%NB===SRe){let e=(t+xi)/NB;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%YQ===WQ){let e=(t-WQ)/YQ;return function(n,i){let s=n.mul(i,f7),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,f7),o),c=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return ERe(t)}var ARe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uee(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ARe.reduce((n,i)=>(n[i]="function",n),e);return e3(t,r)}function IRe(t,e,r){if(r<gs)throw new Error("Expected power > 0");if(r===gs)return t.ONE;if(r===xi)return e;let n=t.ONE,i=e;for(;r>gs;)r&xi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=xi;return n}function PRe(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function fC(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function qee(t,e,r=!1,n={}){if(t<=gs)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=fC(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=TRe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:cC(i),ZERO:gs,ONE:xi,create:u=>Qi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return gs<=u&&u<t},is0:u=>u===gs,isOdd:u=>(u&xi)===xi,neg:u=>Qi(-u,t),eql:(u,c)=>u===c,sqr:u=>Qi(u*u,t),add:(u,c)=>Qi(u+c,t),sub:(u,c)=>Qi(u-c,t),mul:(u,c)=>Qi(u*c,t),pow:(u,c)=>IRe(a,u,c),div:(u,c)=>Qi(u*FB(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>FB(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>PRe(a,u),cmov:(u,c,h)=>h?c:u,toBytes:u=>r?Dee(u,s):op(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?uC(u):Oo(u)}});return Object.freeze(a)}function ORe(t,e,r=!1){t=Hs("privateHash",t);let n=t.length,i=fC(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?uC(t):Oo(t);return Qi(s,e-xi)+xi}var BRe=BigInt(0),AB=BigInt(1);function CRe(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>BRe;)s&AB&&(o=o.add(a)),a=a.double(),s>>=AB;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],c=i,h=c;for(let f=0;f<o;f++){h=c,u.push(h);for(let p=1;p<a;p++)h=h.add(c),u.push(h);c=h.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),c=t.ZERO,h=t.BASE,f=BigInt(2**i-1),p=2**i,l=BigInt(i);for(let y=0;y<a;y++){let _=y*u,O=Number(o&f);o>>=l,O>u&&(O-=p,o+=AB);let F=_,B=_+Math.abs(O)-1,E=y%2!==0,I=O<0;O===0?h=h.add(r(E,s[F])):c=c.add(r(I,s[B]))}return{p:c,f:h}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function $ee(t){return Uee(t.Fp),e3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...fC(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function kRe(t){let e=$ee(t);e3(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:MRe,hexToBytes:RRe}=xRe,l7={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=l7;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:MRe(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=l7,r=typeof t=="string"?RRe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=l7._parseInt(r.subarray(2)),{d:o,l:a}=l7._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)>=8?"00"+c:c,r=c=>{let h=c.toString(16);return h.length&1?`0${h}`:h},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Fc=BigInt(0),Ji=BigInt(1),bh=BigInt(2),i_=BigInt(3),XQ=BigInt(4);function NRe(t){let e=kRe(t),{Fp:r}=e,n=e.toBytes||((y,_,O)=>{let F=_.toAffine();return Ma(Uint8Array.from([4]),r.toBytes(F.x),r.toBytes(F.y))}),i=e.fromBytes||(y=>{let _=y.subarray(1),O=r.fromBytes(_.subarray(0,r.BYTES)),F=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:O,y:F}});function s(y){let{a:_,b:O}=e,F=r.sqr(y),B=r.mul(F,y);return r.add(r.add(B,r.mul(y,_)),O)}function o(y){return typeof y=="bigint"&&Fc<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:_,nByteLength:O,wrapPrivateKey:F,n:B}=e;if(_&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=j2(y)),typeof y!="string"||!_.includes(y.length))throw new Error("Invalid key");y=y.padStart(O*2,"0")}let E;try{E=typeof y=="bigint"?y:Oo(Hs("private key",y,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof y}`)}return F&&(E=Qi(E,B)),a(E),E}let c=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(_,O,F){if(this.px=_,this.py=O,this.pz=F,_==null||!r.isValid(_))throw new Error("x required");if(O==null||!r.isValid(O))throw new Error("y required");if(F==null||!r.isValid(F))throw new Error("z required")}static fromAffine(_){let{x:O,y:F}=_||{};if(!_||!r.isValid(O)||!r.isValid(F))throw new Error("invalid affine point");if(_ instanceof f)throw new Error("projective point not allowed");let B=E=>r.eql(E,r.ZERO);return B(O)&&B(F)?f.ZERO:new f(O,F,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){let O=r.invertBatch(_.map(F=>F.pz));return _.map((F,B)=>F.toAffine(O[B])).map(f.fromAffine)}static fromHex(_){let O=f.fromAffine(i(Hs("pointHex",_)));return O.assertValidity(),O}static fromPrivateKey(_){return f.BASE.multiply(u(_))}_setWindowSize(_){this._WINDOW_SIZE=_,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:_,y:O}=this.toAffine();if(!r.isValid(_)||!r.isValid(O))throw new Error("bad point: x or y not FE");let F=r.sqr(O),B=s(_);if(!r.eql(F,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:_}=this.toAffine();if(r.isOdd)return!r.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:L}=_,N=r.eql(r.mul(O,L),r.mul(E,B)),H=r.eql(r.mul(F,L),r.mul(I,B));return N&&H}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:_,b:O}=e,F=r.mul(O,i_),{px:B,py:E,pz:I}=this,L=r.ZERO,N=r.ZERO,H=r.ZERO,D=r.mul(B,B),C=r.mul(E,E),d=r.mul(I,I),v=r.mul(B,E);return v=r.add(v,v),H=r.mul(B,I),H=r.add(H,H),L=r.mul(_,H),N=r.mul(F,d),N=r.add(L,N),L=r.sub(C,N),N=r.add(C,N),N=r.mul(L,N),L=r.mul(v,L),H=r.mul(F,H),d=r.mul(_,d),v=r.sub(D,d),v=r.mul(_,v),v=r.add(v,H),H=r.add(D,D),D=r.add(H,D),D=r.add(D,d),D=r.mul(D,v),N=r.add(N,D),d=r.mul(E,I),d=r.add(d,d),D=r.mul(d,v),L=r.sub(L,D),H=r.mul(d,C),H=r.add(H,H),H=r.add(H,H),new f(L,N,H)}add(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:L}=_,N=r.ZERO,H=r.ZERO,D=r.ZERO,C=e.a,d=r.mul(e.b,i_),v=r.mul(O,E),g=r.mul(F,I),m=r.mul(B,L),S=r.add(O,F),w=r.add(E,I);S=r.mul(S,w),w=r.add(v,g),S=r.sub(S,w),w=r.add(O,B);let R=r.add(E,L);return w=r.mul(w,R),R=r.add(v,m),w=r.sub(w,R),R=r.add(F,B),N=r.add(I,L),R=r.mul(R,N),N=r.add(g,m),R=r.sub(R,N),D=r.mul(C,w),N=r.mul(d,m),D=r.add(N,D),N=r.sub(g,D),D=r.add(g,D),H=r.mul(N,D),g=r.add(v,v),g=r.add(g,v),m=r.mul(C,m),w=r.mul(d,w),g=r.add(g,m),m=r.sub(v,m),m=r.mul(C,m),w=r.add(w,m),v=r.mul(g,w),H=r.add(H,v),v=r.mul(R,w),N=r.mul(S,N),N=r.sub(N,v),v=r.mul(S,g),D=r.mul(R,D),D=r.add(D,v),new f(N,H,D)}subtract(_){return this.add(_.negate())}is0(){return this.equals(f.ZERO)}wNAF(_){return l.wNAFCached(this,c,_,O=>{let F=r.invertBatch(O.map(B=>B.pz));return O.map((B,E)=>B.toAffine(F[E])).map(f.fromAffine)})}multiplyUnsafe(_){let O=f.ZERO;if(_===Fc)return O;if(a(_),_===Ji)return this;let{endo:F}=e;if(!F)return l.unsafeLadder(this,_);let{k1neg:B,k1:E,k2neg:I,k2:L}=F.splitScalar(_),N=O,H=O,D=this;for(;E>Fc||L>Fc;)E&Ji&&(N=N.add(D)),L&Ji&&(H=H.add(D)),D=D.double(),E>>=Ji,L>>=Ji;return B&&(N=N.negate()),I&&(H=H.negate()),H=new f(r.mul(H.px,F.beta),H.py,H.pz),N.add(H)}multiply(_){a(_);let O=_,F,B,{endo:E}=e;if(E){let{k1neg:I,k1:L,k2neg:N,k2:H}=E.splitScalar(O),{p:D,f:C}=this.wNAF(L),{p:d,f:v}=this.wNAF(H);D=l.constTimeNegate(I,D),d=l.constTimeNegate(N,d),d=new f(r.mul(d.px,E.beta),d.py,d.pz),F=D.add(d),B=C.add(v)}else{let{p:I,f:L}=this.wNAF(O);F=I,B=L}return f.normalizeZ([F,B])[0]}multiplyAndAddUnsafe(_,O,F){let B=f.BASE,E=(L,N)=>N===Fc||N===Ji||!L.equals(B)?L.multiplyUnsafe(N):L.multiply(N),I=E(this,O).add(E(_,F));return I.is0()?void 0:I}toAffine(_){let{px:O,py:F,pz:B}=this,E=this.is0();_==null&&(_=E?r.ONE:r.inv(B));let I=r.mul(O,_),L=r.mul(F,_),N=r.mul(B,_);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:I,y:L}}isTorsionFree(){let{h:_,isTorsionFree:O}=e;if(_===Ji)return!0;if(O)return O(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:_,clearCofactor:O}=e;return _===Ji?this:O?O(f,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return this.assertValidity(),n(f,this,_)}toHex(_=!0){return j2(this.toRawBytes(_))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let p=e.nBitLength,l=CRe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function FRe(t){let e=$ee(t);return e3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function HRe(t){let e=FRe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(w){return Fc<w&&w<r.ORDER}function a(w){return Qi(w,n)}function u(w){return FB(w,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=NRe({...e,toBytes(w,R,T){let b=R.toAffine(),x=r.toBytes(b.x),P=Ma;return T?P(Uint8Array.from([R.hasEvenY()?2:3]),x):P(Uint8Array.from([4]),x,r.toBytes(b.y))},fromBytes(w){let R=w.length,T=w[0],b=w.subarray(1);if(R===i&&(T===2||T===3)){let x=Oo(b);if(!o(x))throw new Error("Point is not on curve");let P=f(x),U=r.sqrt(P),K=(U&Ji)===Ji;return(T&1)===1!==K&&(U=r.neg(U)),{x,y:U}}else if(R===s&&T===4){let x=r.fromBytes(b.subarray(0,r.BYTES)),P=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x,y:P}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),l=w=>j2(op(w,e.nByteLength));function y(w){let R=n>>Ji;return w>R}function _(w){return y(w)?a(-w):w}let O=(w,R,T)=>Oo(w.slice(R,T));class F{constructor(R,T,b){this.r=R,this.s=T,this.recovery=b,this.assertValidity()}static fromCompact(R){let T=e.nByteLength;return R=Hs("compactSignature",R,T*2),new F(O(R,0,T),O(R,T,2*T))}static fromDER(R){let{r:T,s:b}=l7.toSig(Hs("DER",R));return new F(T,b)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new F(this.r,this.s,R)}recoverPublicKey(R){let{r:T,s:b,recovery:x}=this,P=H(Hs("msgHash",R));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");let U=x===2||x===3?T+e.n:T;if(U>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let K=(x&1)===0?"02":"03",z=c.fromHex(K+l(U)),Q=u(U),oe=a(-P*Q),ie=a(b*Q),q=c.BASE.multiplyAndAddUnsafe(z,oe,ie);if(!q)throw new Error("point at infinify");return q.assertValidity(),q}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return K2(this.toDERHex())}toDERHex(){return l7.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return K2(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}let B={isValidPrivateKey(w){try{return h(w),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let w=e.randomBytes(r.BYTES+8),R=ORe(w,n);return op(R,e.nByteLength)},precompute(w=8,R=c.BASE){return R._setWindowSize(w),R.multiply(BigInt(3)),R}};function E(w,R=!0){return c.fromPrivateKey(w).toRawBytes(R)}function I(w){let R=w instanceof Uint8Array,T=typeof w=="string",b=(R||T)&&w.length;return R?b===i||b===s:T?b===2*i||b===2*s:w instanceof c}function L(w,R,T=!0){if(I(w))throw new Error("first arg must be private key");if(!I(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(h(w)).toRawBytes(T)}let N=e.bits2int||function(w){let R=Oo(w),T=w.length*8-e.nBitLength;return T>0?R>>BigInt(T):R},H=e.bits2int_modN||function(w){return a(N(w))},D=cC(e.nBitLength);function C(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(Fc<=w&&w<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return op(w,e.nByteLength)}function d(w,R,T=v){if(["recovered","canonical"].some(J=>J in T))throw new Error("sign() legacy options not supported");let{hash:b,randomBytes:x}=e,{lowS:P,prehash:U,extraEntropy:K}=T;P==null&&(P=!0),w=Hs("msgHash",w),U&&(w=Hs("prehashed msgHash",b(w)));let z=H(w),Q=h(R),oe=[C(Q),C(z)];if(K!=null){let J=K===!0?x(r.BYTES):K;oe.push(Hs("extraEntropy",J,r.BYTES))}let ie=Ma(...oe),q=z;function X(J){let re=N(J);if(!p(re))return;let ae=u(re),me=c.BASE.multiply(re).toAffine(),_e=a(me.x);if(_e===Fc)return;let Ie=a(ae*a(q+_e*Q));if(Ie===Fc)return;let Le=(me.x===_e?0:2)|Number(me.y&Ji),Ce=Ie;return P&&y(Ie)&&(Ce=_(Ie),Le^=1),new F(_e,Ce,Le)}return{seed:ie,k2sig:X}}let v={lowS:e.lowS,prehash:!1},g={lowS:e.lowS,prehash:!1};function m(w,R,T=v){let{seed:b,k2sig:x}=d(w,R,T);return Lee(e.hash.outputLen,e.nByteLength,e.hmac)(b,x)}c.BASE._setWindowSize(8);function S(w,R,T,b=g){let x=w;if(R=Hs("msgHash",R),T=Hs("publicKey",T),"strict"in b)throw new Error("options.strict was renamed to lowS");let{lowS:P,prehash:U}=b,K,z;try{if(typeof x=="string"||x instanceof Uint8Array)try{K=F.fromDER(x)}catch(me){if(!(me instanceof l7.Err))throw me;K=F.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){let{r:me,s:_e}=x;K=new F(me,_e)}else throw new Error("PARSE");z=c.fromHex(T)}catch(me){if(me.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&K.hasHighS())return!1;U&&(R=e.hash(R));let{r:Q,s:oe}=K,ie=H(R),q=u(oe),X=a(ie*q),J=a(Q*q),re=c.BASE.multiplyAndAddUnsafe(z,X,J)?.toAffine();return re?a(re.x)===Q:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:L,sign:m,verify:S,ProjectivePoint:c,Signature:F,utils:B}}function DRe(t,e){let r=t.ORDER,n=Fc;for(let p=r-Ji;p%bh===Fc;p/=bh)n+=Ji;let i=n,s=(r-Ji)/bh**i,o=(s-Ji)/bh,a=bh**i-Ji,u=bh**(i-Ji),c=t.pow(e,s),h=t.pow(e,(s+Ji)/bh),f=(p,l)=>{let y=c,_=t.pow(l,a),O=t.sqr(_);O=t.mul(O,l);let F=t.mul(p,O);F=t.pow(F,o),F=t.mul(F,_),_=t.mul(F,l),O=t.mul(F,p);let B=t.mul(O,_);F=t.pow(B,u);let E=t.eql(F,t.ONE);_=t.mul(O,h),F=t.mul(B,y),O=t.cmov(_,O,E),B=t.cmov(F,B,E);for(let I=i;I>1;I--){let L=bh**(I-bh),N=t.pow(B,L),H=t.eql(N,t.ONE);_=t.mul(O,y),y=t.mul(y,y),N=t.mul(B,y),O=t.cmov(_,O,H),B=t.cmov(N,B,H)}return{isValid:E,value:O}};if(t.ORDER%XQ===i_){let p=(t.ORDER-i_)/XQ,l=t.sqrt(t.neg(e));f=(y,_)=>{let O=t.sqr(_),F=t.mul(y,_);O=t.mul(O,F);let B=t.pow(O,p);B=t.mul(B,F);let E=t.mul(B,l),I=t.mul(t.sqr(B),_),L=t.eql(I,y),N=t.cmov(E,B,L);return{isValid:L,value:N}}}return f}function LRe(t,e){if(Uee(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=DRe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,h,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),h=t.mul(i,o);let{isValid:p,value:l}=r(s,c);f=t.mul(i,n),f=t.mul(f,l),h=t.cmov(h,o,p),f=t.cmov(f,l,p);let y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),h=t.div(h,a),{x:h,y:f}}}function URe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return T_(t);throw new Error("DST must be Uint8Array or string")}var qRe=Oo;function ip(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function $Re(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Km(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function hC(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function jRe(t,e,r,n){Km(t),Km(e),hC(r),e.length>255&&(e=n(Ma(T_("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let a=Ma(e,ip(e.length,1)),u=ip(0,s),c=ip(r,2),h=new Array(o),f=n(Ma(u,t,c,ip(0,1),a));h[0]=n(Ma(f,ip(1,1),a));for(let l=1;l<=o;l++){let y=[$Re(f,h[l-1]),ip(l+1,1),a];h[l]=n(Ma(...y))}return Ma(...h).slice(0,r)}function KRe(t,e,r,n,i){if(Km(t),Km(e),hC(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(T_("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(ip(r,2)).update(e).update(ip(e.length,1)).digest()}function ZQ(t,e,r){e3(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:a,DST:u}=r;Km(t),hC(e);let c=URe(u),h=n.toString(2).length,f=Math.ceil((h+i)/8),p=e*s*f,l;if(a==="xmd")l=jRe(t,c,p,o);else if(a==="xof")l=KRe(t,c,p,i,o);else if(a===void 0)l=t;else throw new Error('expand must be "xmd", "xof" or undefined');let y=new Array(e);for(let _=0;_<e;_++){let O=new Array(s);for(let F=0;F<s;F++){let B=f*(F+_*s),E=l.subarray(B,B+f);O[F]=Qi(qRe(E),n)}y[_]=O}return y}function VRe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,a,u]=r.map(c=>c.reduce((h,f)=>t.add(t.mul(h,n),f)));return n=t.div(s,o),i=t.mul(i,t.div(a,u)),{x:n,y:i}}}function GRe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=ZQ(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=ZQ(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}var jee=class extends Mee{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,h7.hash(e);let n=sC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return h7.exists(this),this.iHash.update(e),this}digestInto(e){h7.exists(this),h7.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Kee=(t,e,r)=>new jee(t,e).update(r).digest();Kee.create=(t,e)=>new jee(t,e);function zRe(t){return{hash:t,hmac:(e,...r)=>Kee(t,e,sRe(...r)),randomBytes:Nee}}function WRe(t,e){let r=n=>HRe({...t,...zRe(n)});return Object.freeze({...r(e),create:r})}var A_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),s_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Vee=BigInt(1),o_=BigInt(2),JQ=(t,e)=>(t+e/o_)/e;function Gee(t){let e=A_,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,h=c*c*t%e,f=Ru(h,r,e)*h%e,p=Ru(f,r,e)*h%e,l=Ru(p,o_,e)*c%e,y=Ru(l,i,e)*l%e,_=Ru(y,s,e)*y%e,O=Ru(_,a,e)*_%e,F=Ru(O,u,e)*O%e,B=Ru(F,a,e)*_%e,E=Ru(B,r,e)*h%e,I=Ru(E,o,e)*y%e,L=Ru(I,n,e)*c%e,N=Ru(L,o_,e);if(!up.eql(up.sqr(N),t))throw new Error("Cannot find square root");return N}var up=qee(A_,void 0,void 0,{sqrt:Gee}),tf=WRe({a:BigInt(0),b:BigInt(7),Fp:up,n:s_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=s_,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Vee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=JQ(s*t,e),u=JQ(-n*t,e),c=Qi(t-a*r-u*i,e),h=Qi(-a*n-u*s,e),f=c>o,p=h>o;if(f&&(c=e-c),p&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:h}}}},n_),I_=BigInt(0),zee=t=>typeof t=="bigint"&&I_<t&&t<A_,YRe=t=>typeof t=="bigint"&&I_<t&&t<s_,QQ={};function a_(t,...e){let r=QQ[t];if(r===void 0){let n=n_(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Ma(n,n),QQ[t]=r}return n_(Ma(r,...e))}var lC=t=>t.toRawBytes(!0).slice(1),HB=t=>op(t,32),IB=t=>Qi(t,A_),Vm=t=>Qi(t,s_),dC=tf.ProjectivePoint,XRe=(t,e,r)=>dC.BASE.multiplyAndAddUnsafe(t,e,r);function DB(t){let e=tf.utils.normPrivateKeyToScalar(t),r=dC.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Vm(-e),bytes:lC(r)}}function Wee(t){if(!zee(t))throw new Error("bad x: need 0 < x < p");let e=IB(t*t),r=IB(e*t+BigInt(7)),n=Gee(r);n%o_!==I_&&(n=IB(-n));let i=new dC(t,n,Vee);return i.assertValidity(),i}function Yee(...t){return Vm(Oo(a_("BIP0340/challenge",...t)))}function ZRe(t){return DB(t).bytes}function JRe(t,e,r=Nee(32)){let n=Hs("message",t),{bytes:i,scalar:s}=DB(e),o=Hs("auxRand",r,32),a=HB(s^Oo(a_("BIP0340/aux",o))),u=a_("BIP0340/nonce",a,i,n),c=Vm(Oo(u));if(c===I_)throw new Error("sign failed: k is zero");let{bytes:h,scalar:f}=DB(c),p=Yee(h,i,n),l=new Uint8Array(64);if(l.set(h,0),l.set(HB(Vm(f+p*s)),32),!Xee(l,n,i))throw new Error("sign: Invalid signature produced");return l}function Xee(t,e,r){let n=Hs("signature",t,64),i=Hs("message",e),s=Hs("publicKey",r,32);try{let o=Wee(Oo(s)),a=Oo(n.subarray(0,32));if(!zee(a))return!1;let u=Oo(n.subarray(32,64));if(!YRe(u))return!1;let c=Yee(HB(a),lC(o),i),h=XRe(o,u,Vm(-c));return!(!h||!h.hasEvenY()||h.toAffine().x!==a)}catch{return!1}}var QRe={getPublicKey:ZRe,sign:JRe,verify:Xee,utils:{randomPrivateKey:tf.utils.randomPrivateKey,lift_x:Wee,pointToBytes:lC,numberToBytesBE:op,bytesToNumberBE:Oo,taggedHash:a_,mod:Qi}},eNe=VRe(up,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),tNe=LRe(up,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:up.create(BigInt("-11"))});GRe(tf.ProjectivePoint,t=>{let{x:e,y:r}=tNe(up.create(t[0]));return eNe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:up.ORDER,m:1,k:128,expand:"xmd",hash:n_});function LB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function rNe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Zee(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function nNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");LB(t.outputLen),LB(t.blockLen)}function iNe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sNe(t,e){Zee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var oNe={number:LB,bool:rNe,bytes:Zee,hash:nNe,exists:iNe,output:sNe},PB=oNe;var OB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Q0=(t,e)=>t<<32-e|t>>>e,aNe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!aNe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function uNe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Jee(t){if(typeof t=="string"&&(t=uNe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var cNe=class{clone(){return this._cloneInto()}};function Qee(t){let e=n=>t().update(Jee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function fNe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var hNe=class extends cNe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=OB(this.buffer)}update(e){PB.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Jee(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=OB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){PB.exists(this),PB.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;fNe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=OB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},lNe=(t,e,r)=>t&e^~t&r,dNe=(t,e,r)=>t&e^t&r^e&r,pNe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qd=new Uint32Array(64),ete=class extends hNe{constructor(){super(64,32,8,!1),this.A=Jd[0]|0,this.B=Jd[1]|0,this.C=Jd[2]|0,this.D=Jd[3]|0,this.E=Jd[4]|0,this.F=Jd[5]|0,this.G=Jd[6]|0,this.H=Jd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Qd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Qd[f-15],l=Qd[f-2],y=Q0(p,7)^Q0(p,18)^p>>>3,_=Q0(l,17)^Q0(l,19)^l>>>10;Qd[f]=_+Qd[f-7]+y+Qd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=Q0(a,6)^Q0(a,11)^Q0(a,25),l=h+p+lNe(a,u,c)+pNe[f]+Qd[f]|0,_=(Q0(n,2)^Q0(n,13)^Q0(n,22))+dNe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Qd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},mNe=class extends ete{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},UB=Qee(()=>new ete);Qee(()=>new mNe);function gNe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function bNe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function yNe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:vNe}=crypto??globalThis.crypto??window.crypto;function _Ne(t=32){if(typeof vNe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function xNe(t,e,r="be"){e===void 0&&(e=t.length),gNe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function tte(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var SNe=new TextEncoder,wNe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function rte(t){for(let e of wNe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function ENe(t,e,r=!1){typeof t=="string"&&(t=SNe.encode(t));let n=rte(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function TNe(t,e){let r=rte(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function nte(t){return UB(UB(t))}function ANe(t){let e=nte(t);return tte([t,e.slice(0,4)])}function INe(t){let e=t.slice(0,-4),r=t.slice(-4);if(nte(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var eee={encode:ENe,decode:TNe},ite={encode:t=>{let e=ANe(t);return eee.encode(e,"base58")},decode:t=>{let e=eee.decode(t,"base58");return INe(e)}},ste="qpzry9x8gf2tvdw0s3jn54khce6mua7l",PNe=[996825010,642813549,513874426,1027748829,705979059],u_=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function ote(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=PNe[i])}return e}function ate(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function ONe(t,e,r){let n=ate(t).concat(e);return ote(n)===r.const}function BNe(t,e,r){let n=ate(t).concat(e).concat([0,0,0,0,0,0]),i=ote(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function ute(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function CNe(t,e,r){let n=e.concat(BNe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=ste.charAt(n[s]);return i}function cte(t){if(!kNe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!MNe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=ste.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=u_.find(s=>s.version===e[0])??u_[0];if(!ONe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function kNe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function MNe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function RNe(t,e="bc",r=0){let n=[r,...ute([...t],8,5)],i=u_.find(o=>o.version===r)??u_[0],s=CNe(e,n,i);return fte(s),s}function fte(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=cte(t),i=ute(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function NNe(t){t=t.toLowerCase();let[e,r]=cte(t);return r[0]}var hte={encode:RNe,decode:fte,version:NNe},lte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",FNe=new TextEncoder;function pte(t,e=!1,r=!0){typeof t=="string"&&(t=FNe.encode(t));let n=e?dte:lte,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function mte(t,e=!1){let r=e||t.includes("-")||t.includes("_")?dte.split(""):lte.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var gte={encode:pte,decode:mte},bte={encode:t=>pte(t,!0,!1),decode:t=>mte(t,!0)},HNe=BigInt(0),DNe=BigInt(255),yte=BigInt(256);function LNe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function UNe(t,e,r="be"){e===void 0&&(e=LNe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>HNe;){let a=t&DNe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/yte}return new Uint8Array(i)}function qNe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*yte+BigInt(t[r]);return BigInt(e)}function $Ne(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function jNe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function KNe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function VNe(t,e,r="be"){e===void 0&&(e=KNe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function GNe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],yNe(e);return e}var zNe=new TextEncoder,WNe=new TextDecoder;function pC(t){return zNe.encode(t)}function BB(t){return WNe.decode(t)}function YNe(t,e){bNe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function XNe(t,e,r="le"){e=YNe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function ZNe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function JNe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return pC(e)}function QNe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return xNe(t,e,r);if(typeof t=="string")return XNe(t,e,r);if(typeof t=="bigint")return UNe(t,e,r);if(typeof t=="number")return VNe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var yr=class extends Uint8Array{static random(e=32){let r=_Ne(e);return new yr(r,e)}constructor(e,r,n){let i=QNe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new qB(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return GNe(r)}toBin(){return jNe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return qNe(r)}toHash(){let e=UB(this);return new yr(e)}toJson(){let e=BB(this);return JSON.parse(e)}toBech32(e,r=0){return hte.encode(this,e,r)}toStr(){return BB(this)}toHex(){return ZNe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return ite.encode(this)}toBase64(){return gte.encode(this)}toB64url(){return bte.encode(this)}prepend(e){return yr.join([yr.bytes(e),this])}append(e){return yr.join([this,yr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new yr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new yr(n)}reverse(){let e=new Uint8Array(this).reverse();return new yr(e)}write(e,r){let n=yr.bytes(e);this.set(n,r)}prefixSize(e){let r=yr.varInt(this.length,e);return yr.join([r,this])}static from(e){return new yr(Uint8Array.from(e))}static of(...e){return new yr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>yr.bytes(i)),n=tte(r);return new yr(n)}static varInt(e,r){if(e<253)return yr.num(e,1);if(e<65536)return yr.of(253,...yr.num(e,2,r));if(e<4294967296)return yr.of(254,...yr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return yr.of(255,...yr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},Ot=yr;(()=>{yr.num=eFe})(),(()=>{yr.big=rFe})(),(()=>{yr.bin=tFe})(),(()=>{yr.raw=nFe})(),(()=>{yr.str=iFe})(),(()=>{yr.hex=sFe})(),(()=>{yr.bytes=oFe})(),(()=>{yr.json=aFe})(),(()=>{yr.base64=uFe})(),(()=>{yr.b64url=cFe})(),(()=>{yr.bech32=fFe})(),(()=>{yr.b58chk=hFe})(),(()=>{yr.encode=pC})(),(()=>{yr.decode=BB})();function eFe(t,e,r){return new Ot(t,e,r)}function tFe(t,e,r){return new Ot($Ne(t),e,r)}function rFe(t,e,r){return new Ot(t,e,r)}function nFe(t,e,r){return new Ot(t,e,r)}function iFe(t,e,r){return new Ot(pC(t),e,r)}function sFe(t,e,r){return new Ot(t,e,r)}function oFe(t,e,r){return new Ot(t,e,r)}function aFe(t){return new Ot(JNe(t))}function uFe(t){return new Ot(gte.decode(t))}function cFe(t){return new Ot(bte.decode(t))}function fFe(t){return new Ot(hte.decode(t))}function hFe(t){return new Ot(ite.decode(t))}var qB=class{constructor(e){this.data=Ot.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new Ot(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}},c_=tf.CURVE,mC=c_.n,lFe=c_.p,dFe={x:c_.Gx,y:c_.Gy},pFe=BigInt(0),mFe=BigInt(1),gFe=BigInt(2),bFe=BigInt(3),yFe=BigInt(4),$B={N:mC,P:lFe,G:dFe,_0n:pFe,_1n:mFe,_2n:gFe,_3n:bFe,_4n:yFe},jm=qee(mC,32,!0),vte=t=>Qi(t,mC);function gC(t,e=!1){if(e)throw new Error(t);return!1}function _te(t){return Ot.random(t)}function vFe(t){let e=Ot.bytes(t).big;return Ot.big(vte(e),32)}var _Fe=Object.freeze({__proto__:null,fail:gC,mod_bytes:vFe,random:_te}),{N:xFe,P:Fht,_0n:SFe}=$B;function wFe(t,e,r){let n=Ot.bytes(t);return n.length!==e?gC(`Invalid byte size: ${n.hex} !== ${e}`,r):!0}function EFe(t,e){return typeof t=="bigint"&&SFe<t&&t<xFe||gC("x value is not in the field!",e),!0}var tee=tf.ProjectivePoint,_i=class extends Uint8Array{static mod(e){return new _i(e)}static is_valid(e,r){let n=Ot.bytes(e,32).big;return EFe(n,r)}constructor(e){let r=TFe(e);r=vte(r),_i.is_valid(r,!0),super(Ot.big(r,32),32)}get buff(){return new Ot(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new _i(e).big>this.big}lt(e){return new _i(e).big<this.big}eq(e){return new _i(e).big===this.big}ne(e){return new _i(e).big!==this.big}add(e){let r=_i.mod(e),n=jm.add(this.big,r.big);return new _i(n)}sub(e){let r=_i.mod(e),n=jm.sub(this.big,r.big);return new _i(n)}mul(e){let r=_i.mod(e),n=jm.mul(this.big,r.big);return new _i(n)}pow(e){let r=_i.mod(e),n=jm.pow(this.big,r.big);return new _i(n)}div(e){let r=_i.mod(e),n=jm.div(this.big,r.big);return new _i(n)}negate(){return new _i(_i.N-this.big)}generate(){let r=tf.ProjectivePoint.BASE.multiply(this.big);return vh.import(r)}},Ds=_i;(()=>{_i.N=tf.CURVE.n})();var $n=class{static from_x(e){let r=AFe(e);r.length===32&&(r=r.prepend(2)),wFe(r,33);let n=tee.fromHex(r.hex);return n.assertValidity(),new $n(n.x,n.y)}static generate(e){let r=Ds.mod(e),n=$n.base.multiply(r.big);return $n.import(n)}static import(e){let r=e instanceof $n?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new $n(r.x,r.y)}constructor(e,r){this._p=new tee(e,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return Ot.big(this.p.x,32)}get y(){return Ot.big(this.p.y,32)}get buff(){return Ot.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(e){let r=e instanceof $n?e:$n.from_x(e);return this.x.big===r.x.big&&this.y.big===r.y.big}add(e){return e instanceof $n?$n.import(this.p.add(e.p)):$n.import(this.p.add($n.generate(e).p))}sub(e){return e instanceof $n?$n.import(this.p.subtract(e.p)):$n.import(this.p.subtract($n.generate(e).p))}mul(e){return e instanceof $n?$n.import(this.p.multiply(e.x.big)):$n.import(this.p.multiply(Ds.mod(e).big))}negate(){return $n.import(this.p.negate())}},vh=$n;(()=>{$n.P=$B.P})(),(()=>{$n.G=$B.G})(),(()=>{$n.base=tf.ProjectivePoint.BASE})();function TFe(t){if(t instanceof Ds)return t.big;if(t instanceof vh)return t.x.big;if(t instanceof Uint8Array)return Ot.raw(t).big;if(typeof t=="string")return Ot.hex(t).big;if(typeof t=="number")return Ot.num(t).big;if(typeof t=="bigint")return BigInt(t);throw TypeError("Invalid input type:"+typeof t)}function AFe(t){if(t instanceof Ds)return t.point.buff;if(t instanceof vh)return t.buff;if(t instanceof Uint8Array||typeof t=="string")return Ot.bytes(t);if(typeof t=="number"||typeof t=="bigint")return Ot.bytes(t,32);throw new TypeError(`Unknown type: ${typeof t}`)}function jB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function IFe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function xte(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function PFe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jB(t.outputLen),jB(t.blockLen)}function OFe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BFe(t,e){xte(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var CFe={number:jB,bool:IFe,bytes:xte,hash:PFe,exists:OFe,output:BFe},d7=CFe;var kFe=t=>t instanceof Uint8Array,CB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ef=(t,e)=>t<<32-e|t>>>e,MFe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!MFe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function RFe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bC(t){if(typeof t=="string"&&(t=RFe(t)),!kFe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var f_=class{clone(){return this._cloneInto()}};function I7(t){let e=n=>t().update(bC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function NFe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Gm=class extends f_{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=CB(this.buffer)}update(e){d7.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=bC(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=CB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){d7.exists(this),d7.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;NFe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=CB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},FFe=(t,e,r)=>t&e^~t&r,HFe=(t,e,r)=>t&e^t&r^e&r,DFe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ep=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tp=new Uint32Array(64),h_=class extends Gm{constructor(){super(64,32,8,!1),this.A=ep[0]|0,this.B=ep[1]|0,this.C=ep[2]|0,this.D=ep[3]|0,this.E=ep[4]|0,this.F=ep[5]|0,this.G=ep[6]|0,this.H=ep[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)tp[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=tp[f-15],l=tp[f-2],y=ef(p,7)^ef(p,18)^p>>>3,_=ef(l,17)^ef(l,19)^l>>>10;tp[f]=_+tp[f-7]+y+tp[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=ef(a,6)^ef(a,11)^ef(a,25),l=h+p+FFe(a,u,c)+DFe[f]+tp[f]|0,_=(ef(n,2)^ef(n,13)^ef(n,22))+HFe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){tp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},KB=class extends h_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},l_=I7(()=>new h_);I7(()=>new KB);var Xv=BigInt(2**32-1),VB=BigInt(32);function Ste(t,e=!1){return e?{h:Number(t&Xv),l:Number(t>>VB&Xv)}:{h:Number(t>>VB&Xv)|0,l:Number(t&Xv)|0}}function LFe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=Ste(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}var UFe=(t,e)=>BigInt(t>>>0)<<VB|BigInt(e>>>0),qFe=(t,e,r)=>t>>>r,$Fe=(t,e,r)=>t<<32-r|e>>>r,jFe=(t,e,r)=>t>>>r|e<<32-r,KFe=(t,e,r)=>t<<32-r|e>>>r,VFe=(t,e,r)=>t<<64-r|e>>>r-32,GFe=(t,e,r)=>t>>>r-32|e<<64-r,zFe=(t,e)=>e,WFe=(t,e)=>t,YFe=(t,e,r)=>t<<r|e>>>32-r,XFe=(t,e,r)=>e<<r|t>>>32-r,ZFe=(t,e,r)=>e<<r-32|t>>>64-r,JFe=(t,e,r)=>t<<r-32|e>>>64-r;function QFe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var eHe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),tHe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,rHe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),nHe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,iHe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),sHe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,oHe={fromBig:Ste,split:LFe,toBig:UFe,shrSH:qFe,shrSL:$Fe,rotrSH:jFe,rotrSL:KFe,rotrBH:VFe,rotrBL:GFe,rotr32H:zFe,rotr32L:WFe,rotlSH:YFe,rotlSL:XFe,rotlBH:ZFe,rotlBL:JFe,add:QFe,add3L:eHe,add3H:tHe,add4L:rHe,add4H:nHe,add5H:sHe,add5L:iHe},dr=oHe,[aHe,uHe]=dr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),rp=new Uint32Array(80),np=new Uint32Array(80),V2=class extends Gm{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:h,Fh:f,Fl:p,Gh:l,Gl:y,Hh:_,Hl:O}=this;return[e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O]}set(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=l|0,this.Gl=y|0,this.Hh=_|0,this.Hl=O|0}process(e,r){for(let E=0;E<16;E++,r+=4)rp[E]=e.getUint32(r),np[E]=e.getUint32(r+=4);for(let E=16;E<80;E++){let I=rp[E-15]|0,L=np[E-15]|0,N=dr.rotrSH(I,L,1)^dr.rotrSH(I,L,8)^dr.shrSH(I,L,7),H=dr.rotrSL(I,L,1)^dr.rotrSL(I,L,8)^dr.shrSL(I,L,7),D=rp[E-2]|0,C=np[E-2]|0,d=dr.rotrSH(D,C,19)^dr.rotrBH(D,C,61)^dr.shrSH(D,C,6),v=dr.rotrSL(D,C,19)^dr.rotrBL(D,C,61)^dr.shrSL(D,C,6),g=dr.add4L(H,v,np[E-7],np[E-16]),m=dr.add4H(g,N,d,rp[E-7],rp[E-16]);rp[E]=m|0,np[E]=g|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:h,Eh:f,El:p,Fh:l,Fl:y,Gh:_,Gl:O,Hh:F,Hl:B}=this;for(let E=0;E<80;E++){let I=dr.rotrSH(f,p,14)^dr.rotrSH(f,p,18)^dr.rotrBH(f,p,41),L=dr.rotrSL(f,p,14)^dr.rotrSL(f,p,18)^dr.rotrBL(f,p,41),N=f&l^~f&_,H=p&y^~p&O,D=dr.add5L(B,L,H,uHe[E],np[E]),C=dr.add5H(D,F,I,N,aHe[E],rp[E]),d=D|0,v=dr.rotrSH(n,i,28)^dr.rotrBH(n,i,34)^dr.rotrBH(n,i,39),g=dr.rotrSL(n,i,28)^dr.rotrBL(n,i,34)^dr.rotrBL(n,i,39),m=n&s^n&a^s&a,S=i&o^i&u^o&u;F=_|0,B=O|0,_=l|0,O=y|0,l=f|0,y=p|0,{h:f,l:p}=dr.add(c|0,h|0,C|0,d|0),c=a|0,h=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let w=dr.add3L(d,g,S);n=dr.add3H(w,C,v,m),i=w|0}({h:n,l:i}=dr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=dr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=dr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:h}=dr.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:f,l:p}=dr.add(this.Eh|0,this.El|0,f|0,p|0),{h:l,l:y}=dr.add(this.Fh|0,this.Fl|0,l|0,y|0),{h:_,l:O}=dr.add(this.Gh|0,this.Gl|0,_|0,O|0),{h:F,l:B}=dr.add(this.Hh|0,this.Hl|0,F|0,B|0),this.set(n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B)}roundClean(){rp.fill(0),np.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},GB=class extends V2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},zB=class extends V2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},WB=class extends V2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},cHe=I7(()=>new V2);I7(()=>new GB);I7(()=>new zB);I7(()=>new WB);var fHe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),wte=Uint8Array.from({length:16},(t,e)=>e),hHe=wte.map(t=>(9*t+5)%16),yC=[wte],vC=[hHe];for(let t=0;t<4;t++)for(let e of[yC,vC])e.push(e[t].map(r=>fHe[r]));var Ete=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),lHe=yC.map((t,e)=>t.map(r=>Ete[e][r])),dHe=vC.map((t,e)=>t.map(r=>Ete[e][r])),pHe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),mHe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Zv=(t,e)=>t<<e|t>>>32-e;function ree(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var Jv=new Uint32Array(16),YB=class extends Gm{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)Jv[l]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,u=a,c=this.h3|0,h=c,f=this.h4|0,p=f;for(let l=0;l<5;l++){let y=4-l,_=pHe[l],O=mHe[l],F=yC[l],B=vC[l],E=lHe[l],I=dHe[l];for(let L=0;L<16;L++){let N=Zv(n+ree(l,s,a,c)+Jv[F[L]]+_,E[L])+f|0;n=f,f=c,c=Zv(a,10)|0,a=s,s=N}for(let L=0;L<16;L++){let N=Zv(i+ree(y,o,u,h)+Jv[B[L]]+O,I[L])+p|0;i=p,p=h,h=Zv(u,10)|0,u=o,o=N}}this.set(this.h1+a+h|0,this.h2+c+p|0,this.h3+f+i|0,this.h4+n+o|0,this.h0+s+u|0)}roundClean(){Jv.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},gHe=I7(()=>new YB),d_=class extends f_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,d7.hash(e);let n=bC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return d7.exists(this),this.iHash.update(e),this}digestInto(e){d7.exists(this),d7.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Tte=(t,e,r)=>new d_(t,e).update(r).digest();Tte.create=(t,e)=>new d_(t,e);function bHe(t){let e=Ot.bytes(t);return Ot.raw(l_(e))}function _h(t){let e=Ot.bytes(t);return Ot.raw(l_(l_(e)))}function P_(t){let e=Ot.bytes(t);return Ot.raw(gHe(l_(e)))}function yHe(t,e){let r=Ot.bytes(t),n=Ot.bytes(e);return Ot.raw(Tte(cHe,r,n))}function vHe(t){let e=Ot.str(t).digest;return Ot.join([e,e])}function _He(t=32){return _C(_te(t))}function _C(t){return Ds.mod(t).buff}function Ate(t,e=!1){let r=Ds.mod(t).point;return e?r.x:r.buff}function Ite(t,e){let r=vh.from_x(e),n=Ds.mod(t);return r.mul(n).buff}function xHe(t,e,r="ecdh/code"){let n=vHe(r),i=_C(t),s=Ate(i),o=Ot.bytes(e),a=Ite(i,o),u=[s.hex,o.hex];return u.sort(),yHe(a,Ot.join([n,...u]))}function SHe(t){let e=Ot.bytes(t);switch(!0){case e.length===32:return!0;case(e.length===33&&e[0]===2):return!0;case(e.length===33&&e[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${e.hex}`)}}function wHe(t){let e=Ot.bytes(t);switch(e.length){case 32:return e;case 33:return e.slice(1,33);default:throw new Error(`Invalid key length: ${e.length}`)}}var EHe=Object.freeze({__proto__:null,genSecretKey:_He,getPublicKey:Ate,getSecretKey:_C,getSharedCode:xHe,getSharedKey:Ite,is_even_pub:SHe,xonly_pub:wHe});Ot.random(32);var Pte={secp:tf,schnorr:QRe},XB={...EHe,..._Fe};function O_(t){let e=he.bytes(t);return of(e,33),P_(e)}function Ote(t){let e=Ls.fmt.toBytes(t,!1);return P_(e)}function Bte(t){let e=Ls.fmt.toBytes(t,!1);return bHe(e)}function Cte(t,e="main"){let r=e==="main"?["1"]:["m","n"];for(let n of r)if(t.startsWith(n))return!0;return!1}function kte(t,e="main"){let r=he.bytes(t),n=e==="main"?he.num(0):he.num(111);return of(t,20),r.prepend(n).tob58chk()}function THe(t,e="main"){if(!Cte(t,e))throw new TypeError("Invalid p2pkh address!");return he.b58chk(t).slice(1)}function AHe(t){let e=he.bytes(t);return of(e,20),["OP_DUP","OP_HASH160",e.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function IHe(t,e){let r=O_(t);return kte(r,e)}var Mte={check:Cte,encode:kte,decode:THe,hash:O_,scriptPubKey:AHe,fromPubKey:IHe};function Rte(t,e="main"){let r=e==="main"?["3"]:["2"];for(let n of r)if(t.startsWith(n))return!0;return!1}function Nte(t,e="main"){let r=e==="main"?he.num(5):he.num(196),n=he.bytes(t);return of(n,20),n.prepend(r).tob58chk()}function PHe(t,e="main"){if(!Rte(t,e))throw new TypeError(`Invalid p2sh address for network ${e}:`+t);return he.b58chk(t).slice(1)}function OHe(t){return["OP_HASH160",he.bytes(t).hex,"OP_EQUAL"]}function BHe(t,e){let r=Ote(t);return Nte(r,e)}var Fte={check:Rte,encode:Nte,decode:PHe,hash:Ote,scriptPubKey:OHe,fromScript:BHe},xC={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},CHe=["bc1q","tb1q","bcrt1q"];function Hte(t){for(let e of CHe)if(t.startsWith(e))return!0;return!1}function Dte(t,e="main"){let r=xC[e],n=he.bytes(t);return of(n,20),n.toBech32(r,0)}function kHe(t){if(!Hte(t))throw new TypeError("Invalid segwit address!");return he.bech32(t)}function MHe(t){let e=he.bytes(t);return of(e,20),["OP_0",e.hex]}function RHe(t,e){let r=O_(t);return Dte(r,e)}var Lte={check:Hte,encode:Dte,decode:kHe,hash:O_,scriptPubKey:MHe,fromPubKey:RHe},NHe=["bc1q","tb1q","bcrt1q"];function Ute(t){for(let e of NHe)if(t.startsWith(e))return!0;return!1}function qte(t,e="main"){let r=xC[e],n=he.bytes(t);return of(n,32),n.toBech32(r,0)}function FHe(t){if(!Ute(t))throw new TypeError("Invalid segwit address!");return he.bech32(t)}function HHe(t){let e=he.bytes(t);return of(e,32),["OP_0",e.hex]}function DHe(t,e){let r=Bte(t);return qte(r,e)}var $te={check:Ute,encode:qte,decode:FHe,hash:Bte,scriptPubKey:HHe,fromScript:DHe};function p7(t){let e=he.bytes(t);return e.length>32?e.slice(1,33):e}var LHe=["bc1p","tb1p","bcrt1p"];function jte(t){for(let e of LHe)if(t.startsWith(e))return!0;return!1}function Kte(t,e="main"){let r=xC[e],n=he.bytes(t);return of(n,32),n.toBech32(r,1)}function UHe(t){if(!jte(t))throw new TypeError("Invalid taproot address!");return he.bech32(t)}function qHe(t){let e=he.bytes(t);return of(e,32),["OP_1",e.hex]}function $He(t,e){let r=p7(t);return Kte(r,e)}var Vte={check:jte,encode:Kte,decode:UHe,scriptPubKey:qHe,fromPubKey:$He},jHe={version:2,vin:[],vout:[],locktime:0},KHe={scriptSig:[],sequence:4294967293,witness:[]},VHe={value:0n,scriptPubKey:[]};function SC(t){let e={...jHe,...t};return e.vin=e.vin.map(r=>({...KHe,...r})),e.vout=e.vout.map(r=>({...VHe,...r})),e}function G2(t,e){let{version:r,vin:n,vout:i,locktime:s}=SC(t),o=e!==!0&&GHe(n),a=[wC(r)];o&&a.push(he.hex("0001")),a.push(zHe(n)),a.push(WHe(i));for(let u of n)o&&a.push(XHe(u.witness));return a.push(EC(s)),he.join(a)}function GHe(t){for(let e of t){let{witness:r}=e;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function wC(t){return he.num(t,4).reverse()}function Wm(t){return he.hex(t,32).reverse()}function Ym(t){return he.num(t,4).reverse()}function Xm(t){if(typeof t=="string")return he.hex(t,4).reverse();if(typeof t=="number")return he.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function zHe(t){let e=[he.varInt(t.length,"le")];for(let r of t){let{txid:n,vout:i,scriptSig:s,sequence:o}=r;e.push(Wm(n)),e.push(Ym(i)),e.push(lp(s,!0)),e.push(Xm(o))}return he.join(e)}function cp(t){if(typeof t=="number"){if(t%1!==0)throw new Error("Value must be an integer:"+String(t));return he.num(t,8).reverse()}return he.big(t,8).reverse()}function WHe(t){let e=[he.varInt(t.length,"le")];for(let r of t)e.push(YHe(r));return he.join(e)}function YHe(t){let{value:e,scriptPubKey:r}=t,n=[];return n.push(cp(e)),n.push(lp(r,!0)),he.join(n)}function XHe(t=[]){let e=[];if(Array.isArray(t)){let r=he.varInt(t.length);e.push(r);for(let n of t)e.push(ZHe(n));return he.join(e)}else return he.bytes(t)}function ZHe(t){return JHe(t)?new he(0):lp(t,!0)}function JHe(t){if(Array.isArray(t))return t.length===0;if(typeof t=="string"&&t==="")return!0;let e=he.bytes(t);return e.length===1&&e[0]===0}function EC(t){if(typeof t=="string")return he.hex(t,4);if(typeof t=="number")return he.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function TC(t){typeof t=="string"&&(t=he.hex(t).raw);let e=new Q2(t),r=QHe(e),n=eDe(e),i=tDe(e),s=nDe(e);if(n)for(let a of i)a.witness=sDe(e);let o=oDe(e);return{version:r,vin:i,vout:s,locktime:o}}function QHe(t){return t.read(4).reverse().toNum()}function eDe(t){let[e,r]=[...t.peek(2)];if(e===0){if(t.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function tDe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(rDe(t));return e}function rDe(t){return{txid:t.read(32).reverse().toHex(),vout:t.read(4).reverse().toNum(),scriptSig:zte(t,!0),sequence:t.read(4).reverse().toHex(),witness:[]}}function nDe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(iDe(t));return e}function iDe(t){return{value:t.read(8).reverse().big,scriptPubKey:zte(t,!0)}}function sDe(t){let e=[],r=t.readSize();for(let n=0;n<r;n++){let i=Gte(t,!0);e.push(i??"")}return e}function Gte(t,e){let r=e===!0?t.readSize("le"):t.size;return r>0?t.read(r).hex:null}function zte(t,e){let r=Gte(t,e);return r!==null?r:[]}function oDe(t){return t.read(4).reverse().toNum()}function aDe(t){if(Bee(t))return TC(t);if(typeof t=="object"&&!(t instanceof Uint8Array))return G2(t),SC(t);throw new Error("Invalid format: "+String(typeof t))}function uDe(t){if(Bee(t))return TC(t),he.bytes(t);if(typeof t=="object")return G2(t);throw new Error("Invalid format: "+String(typeof t))}var AC={toBytes:uDe,toJson:aDe},cDe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],fDe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function hDe(t){let e=t.at(-1);return Eh(e)&&(e=he.hex(e)),t.length>1&&e instanceof Uint8Array&&e[0]===80?(t.pop(),he.raw(e)):null}function lDe(t){let e=t.at(-1);return Eh(e)&&(e=he.hex(e)),t.length>1&&e instanceof Uint8Array&&e.length>32&&fDe.includes(e[0]&254)?(t.pop(),he.raw(e)):null}function dDe(t){if(t.length>1){let e=t.at(-1);try{let r=Ls.fmt.toBytes(e);return t.pop(),r}catch{return null}}return null}function pDe(t){let e=[];for(let r of t)if(Eh(r)||r instanceof Uint8Array||typeof r=="number")e.push(he.bytes(r));else throw new Error("unrecognized value: "+String(r));return e}function Wte(t=[]){let e=[...t],r=hDe(e),n=lDe(e),i=dDe(e),s=pDe(e);return{annex:r,cblock:n,script:i,params:s}}function IC(t){let e=Ls.fmt.toBytes(t,!1).hex;for(let[r,n]of cDe){let i=r,{groups:s}=n.exec(e)??{},{hash:o}=s??{};if(Eh(o))return{type:i,data:he.hex(o)}}return{type:"raw",data:he.hex(e)}}function mDe(t){let e=AC.toJson(t),r=G2(e,!0);return _h(r).reverse().hex}function gDe(t){let e=AC.toJson(t),r=G2(e,!0).length,n=G2(e,!1).length,i=r*3+n,s=i%4>0?1:0,o=Math.floor(i/4)+s;return{size:n,bsize:r,vsize:o,weight:i}}var Ra={create:SC,encode:G2,decode:TC,fmt:AC,util:{getTxSize:gDe,getTxid:mDe,readScriptPubKey:IC,readWitness:Wte}},bDe=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function yDe(t,e){switch(e){case"base58":return he.b58chk(t).slice(1);case"bech32":return he.bech32(t);case"bech32m":return he.bech32(t);default:throw new Error("Invalid address format: "+e)}}function vDe(t){for(let e of bDe){let[r,n,i,s,o]=e;if(t.startsWith(r)&&yDe(t,o).length===s)return e}throw new Error("Invalid address: "+t)}function Yte(t){switch(t){case"p2pkh":return Mte;case"p2sh":return Fte;case"p2w-pkh":return Lte;case"p2w-sh":return $te;case"p2tr":return Vte;default:throw new Error("Invalid address type: "+t)}}function Xte(t){let[e,r,n]=vDe(t),i=Yte(r),s=i.decode(t,n),o=i.scriptPubKey(s);return{prefix:e,type:r,network:n,data:s,script:o}}function _De(t,e){let{type:r,data:n}=Ra.util.readScriptPubKey(t);return Yte(r).encode(n,e)}function xDe(t){let{script:e}=Xte(t);return Ls.fmt.toAsm(e,!1)}var SDe={p2pkh:Mte,p2sh:Fte,p2wpkh:Lte,p2wsh:$te,p2tr:Vte,decode:Xte,fromScriptPubKey:_De,toScriptPubKey:xDe},wDe=[1,2,3];function PC(t,e,r={}){let{sigflag:n=1}=r,i=(n&128)===128,s=n%128;if(!wDe.includes(s))throw new Error("Invalid hash type: "+String(n));let o=Ra.fmt.toJson(t),{version:a,vin:u,vout:c,locktime:h}=o,{txid:f,vout:p,prevout:l,sequence:y}=u[e],{value:_}=l??{};if(_===void 0)throw new Error("Prevout value is empty!");let O=r.script;if(O===void 0&&r.pubkey!==void 0&&(O=`76a914${P_(r.pubkey).hex}88ac`),O===void 0)throw new Error("No pubkey / script has been set!");if(Ls.fmt.toAsm(O).includes("OP_CODESEPARATOR"))throw new Error("This library does not currently support the use of OP_CODESEPARATOR in segwit scripts.");let F=[wC(a),EDe(u,i),TDe(u,s,i),Wm(f),Ym(p),Ls.encode(O,!0),cp(_),Xm(y),ADe(c,e,s),EC(h),he.num(n,4).reverse()];return _h(he.join(F))}function EDe(t,e){if(e===!0)return he.num(0,32);let r=[];for(let{txid:n,vout:i}of t)r.push(Wm(n)),r.push(Ym(i));return _h(he.join(r))}function TDe(t,e,r){if(r||e!==1)return he.num(0,32);let n=[];for(let{sequence:i}of t)n.push(Xm(i));return _h(he.join(n))}function ADe(t,e,r){let n=[];if(r===1){for(let{value:i,scriptPubKey:s}of t)n.push(cp(i)),n.push(Ls.encode(s,!0));return _h(he.join(n))}if(r===3&&e<t.length){let{value:i,scriptPubKey:s}=t[e];return n.push(cp(i)),n.push(Ls.encode(s,!0)),_h(he.join(n))}return he.num(0,32)}function IDe(t,e,r,n={}){let{sigflag:i=1}=n,s=PC(e,r,n),o=Pte.secp.sign(s,t).toDERRawBytes(!0);return he.join([o,i])}function PDe(t,e,r={}){let n=Ra.fmt.toJson(t),{throws:i=!1}=r,{witness:s=[]}=n.vin[e],o=Ra.util.readWitness(s),{script:a,params:u}=o,c=null;if(u.length<1)return no("Invalid witness data: "+String(s),i);if(r.script===void 0&&a!==null&&(r.script=a),r.pubkey!==void 0)c=he.bytes(r.pubkey);else if(u.length>1&&u[1].length===33)c=he.bytes(u[1]);else return no("No pubkey provided!",i);let h=Ls.fmt.toParam(u[0]),f=h.slice(0,-1),p=h.slice(-1)[0],l=PC(n,e,{...r,sigflag:p});return Pte.secp.verify(f,l,c)?!0:no("Invalid signature!",i)}var ODe={hash:PC,sign:IDe,verify:PDe},BDe=[0,1,2,3,129,130,131];function OC(t,e,r={}){let{extension:n,sigflag:i=0,extflag:s=0,key_version:o=0,separator_pos:a=4294967295}=r,u=Ra.fmt.toJson(t),{version:c,vin:h,vout:f,locktime:p}=u;if(e>=h.length)throw new Error("Index out of bounds: "+String(e));if(!BDe.includes(i))throw new Error("Invalid hash type: "+String(i));if(s<0||s>127)throw new Error("Extention flag out of range: "+String(s));let{txid:l,vout:y,sequence:_,witness:O=[]}=h[e],F=(i&128)===128,B=HDe(O),E=B!==void 0?1:0,L=(s+(n!==void 0?1:0))*2+E,N=he.str("TapSighash").digest,H=[N,N,he.num(0,1),he.num(i,1),wC(c),EC(p)];if(!F){let D=h.map(C=>nee(C));H.push(CDe(h),MDe(D),RDe(D),kDe(h))}if(((i&3)<2||(i&3)>3)&&H.push(NDe(f)),H.push(he.num(L,1)),F){let{value:D,scriptPubKey:C}=nee(h[e]);H.push(Wm(l),Ym(y),cp(D),Ls.encode(C,!0),Xm(_))}else H.push(he.num(e,4).reverse());return B!==void 0&&H.push(B),(i&3)===3&&H.push(FDe(f[e])),n!==void 0&&H.push(he.bytes(n),he.num(o),he.num(a,4)),he.join(H).digest}function CDe(t){let e=[];for(let{txid:r,vout:n}of t)e.push(Wm(r)),e.push(Ym(n));return he.join(e).digest}function kDe(t){let e=[];for(let{sequence:r}of t)e.push(Xm(r));return he.join(e).digest}function MDe(t){let e=[];for(let{value:r}of t)e.push(cp(r));return he.join(e).digest}function RDe(t){let e=[];for(let{scriptPubKey:r}of t)e.push(lp(r,!0));return he.join(e).digest}function NDe(t){let e=[];for(let{value:r,scriptPubKey:n}of t)e.push(cp(r)),e.push(Ls.encode(n,!0));return he.join(e).digest}function FDe(t){return he.join([cp(t.value),Ls.encode(t.scriptPubKey,!0)]).digest}function HDe(t){if(t===void 0||t.length<2)return;let e=t.at(-1);if(typeof e=="string"&&(e=he.hex(e)),e instanceof Uint8Array&&e[0]===80)return he.raw(e).prefixSize("be").digest}function nee(t){if(t.prevout===void 0)throw new Error("Prevout data missing for input: "+String(t.txid));return t.prevout}var DDe=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,LDe=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function UDe(t,e,r,n={}){let{sigflag:i=0}=n,s=OC(e,r,n),o=qDe(t,s);return i===0?he.raw(o):he.join([o,i])}function qDe(t,e,r=he.random(32)){let n=he.bytes(e),i=new Ds(t),s=i.point,o=s.hasEvenY?i.big:i.negated.big,a=Qv("BIP0340/aux",he.bytes(r)),u=o^a.big,c=Qv("BIP0340/nonce",u,s.x.raw,n),h=new Ds(c),f=h.point,p=f.hasEvenY?h.big:h.negated.big,l=new Ds(Qv("BIP0340/challenge",f.x.raw,s.x.raw,n)),y=new Ds(p+l.big*o);return he.join([f.x.raw,y.raw])}function $De(t,e,r,n=!1){let i=vh.from_x(p7(r)),s=he.bytes(e),o=he.bytes(t).stream;o.size<64&&no("Signature length is too small: "+String(o.size),n);let a=o.read(32);a.big>DDe&&no("Signature r value greater than field size!",n);let u=o.read(32);u.big>LDe&&no("Signature s value greater than curve order!",n);let c=new Ds(Qv("BIP0340/challenge",a.raw,i.x.raw,s)),h=new Ds(u).point,f=i.mul(c.big),p=h.sub(f);return p.hasOddY&&no("Signature R value has odd Y coordinate!",n),p.x.big===0n&&no("Signature R value is infinite!",n),p.x.big===a.big}var jDe=192;function B_(t){let e=he.str(t).digest;return he.join([e,e])}function BC(t,e=jDe){return he.join([B_("TapLeaf"),GDe(e),he.bytes(t)]).digest.hex}function KDe(t,e){return BC(Ls.fmt.toBytes(t),e)}function CC(t,e){return e<t&&([t,e]=[e,t]),he.join([B_("TapBranch"),he.hex(t).raw,he.hex(e).raw]).digest.hex}function VDe(t){return he.hex(p_(t)[0])}function p_(t,e,r=[]){let n=[],i=[];if(t.length<1)throw new Error("Tree is empty!");for(let s=0;s<t.length;s++){let o=t[s];if(Array.isArray(o)){let[a,u,c]=p_(o,e);e=u,n.push(a);for(let h of c)r.push(h)}else n.push(o)}if(n.length===1)return[n[0],e,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let s=0;s<n.length-1;s+=2){let o=CC(n[s],n[s+1]);i.push(o),typeof e=="string"&&(e===n[s]?(r.push(n[s+1]),e=o):e===n[s+1]&&(r.push(n[s]),e=o))}return p_(i,e,r)}function GDe(t=192){return t&254}function Zte(t,e=new Uint8Array,r=!1){let n=r?new Ds(t).point.x.raw:p7(t);return he.join([B_("TapTweak"),n,he.bytes(e)]).digest}function $2(t,e,r=!1){e===void 0&&(e=new Uint8Array);let n=he.bytes(t),i=Zte(t,e,r);return r?Jte(n,i):Qte(n,i)}function zDe(t,e){return $2(t,e)}function WDe(t,e){return $2(t,e,!0)}function Jte(t,e){let r=new Ds(t);return r.point.hasOddY&&(r=r.negate()),he.raw(r.add(e).raw)}function Qte(t,e){t=p7(t);let n=vh.from_x(t).add(e);return he.raw(n.raw)}function YDe(){let t=he.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return vh.from_x(t.digest).x}var XDe=YDe(),ZDe=192;function JDe(t,e={}){return ere(t,{...e,isPrivate:!0})}function QDe(t,e={}){return ere(t,{...e,isPrivate:!1})}function ere(t,e={}){let{isPrivate:r=!1,tree:n=[],version:i=ZDe}=e,s=r?XB.getPublicKey(t,!0):p7(t),{target:o}=e;o!==void 0&&(o=he.bytes(o).hex);let a,u=[];if(n.length>0){let[l,y,_]=p_(n,o);u=_,a=$2(t,l,r)}else o!==void 0?a=$2(t,o,r):a=$2(t,void 0,r);let c=r?XB.getPublicKey(a)[0]:a[0],f=[he.num(i+rre(c)),s];u.length>0&&u.forEach(l=>f.push(he.hex(l)));let p=he.join(f);if(o!==void 0&&!kC(a,o,p,e))throw new Error("Path checking failed! Unable to generate path.");return[p7(a).hex,p.hex]}function kC(t,e,r,n={}){let{isPrivate:i=!1,throws:s=!1}=n,{parity:o,paths:a,intkey:u}=tre(r),c=i?XB.getPublicKey(t,!0):p7(t),h=he.join([o,c]);if(h.length!==33)return no("Invalid tapkey: "+h.hex,s);let f=he.bytes(e).hex;for(let l of a)f=CC(f,l);let p=$2(u,f);return he.raw(p).hex===he.raw(h).hex}function tre(t){let e=new Q2(he.bytes(t)),r=e.read(1).num,n=e.read(32),[i,s]=r%2===0?[r,2]:[r-1,3],o=[];for(;e.size>=32;)o.push(e.read(32).hex);if(e.size!==0)throw new Error("Non-empty buffer on control block: "+String(e));return{intkey:n,paths:o,parity:s,version:i}}function rre(t=2){if(t===0||t===1)return t;if(t===2||t==="02")return 0;if(t===3||t==="03")return 1;throw new Error("Invalid parity bit: "+String(t))}function eLe(t,e,r={}){let n=Ra.fmt.toJson(t),{throws:i=!1}=r,{prevout:s,witness:o=[]}=n.vin[e],a=Ra.util.readWitness(o),{cblock:u,script:c,params:h}=a,f;if(h.length<1)return no("Invalid witness data: "+String(o),i);let{scriptPubKey:p}=s??{};if(p===void 0)return no("Prevout scriptPubKey is empty!",i);let{type:l,data:y}=Ra.util.readScriptPubKey(p);if(l!=="p2tr")return no("Prevout script is not a valid taproot output:"+y.hex,i);if(y.length!==32)return no("Invalid tapkey length: "+String(y.length),i);if(u!==null&&c!==null){let E=u[0]&254,I=BC(c,E);if(r.extension=I,!kC(y,I,u,{throws:i}))return no("cblock verification failed!",i)}r.pubkey!==void 0?f=he.bytes(r.pubkey):h.length>1&&h[1].length===32?f=he.bytes(h[1]):f=he.bytes(y);let _=Ls.fmt.toParam(h[0]),O=new Q2(_),F=O.read(64).raw;if(O.size===1&&(r.sigflag=O.read(1).num,r.sigflag===0))return no("0x00 is not a valid appended sigflag!",i);let B=OC(n,e,r);return $De(F,B,f,i)?!0:no("Invalid signature!",i)}var tLe={hash:OC,sign:UDe,verify:eLe},ZB={segwit:ODe,taproot:tLe},nre={getTag:B_,getLeaf:BC,getBranch:CC,getRoot:VDe},rLe={readCtrlBlock:tre,readParityBit:rre},nLe={getPubKey:zDe,getSecKey:WDe,getTweak:Zte,tweakSecKey:Jte,tweakPubKey:Qte},iLe={getPubKey:QDe,getSecKey:JDe,encodeScript:KDe,checkPath:kC,tree:nre,tweak:nLe,util:rLe,SCRIPT_PUBKEY:XDe},m_=class{constructor(e){this._buff=he.raw(lp(e))}get raw(){return this._buff.raw}get hex(){return this._buff.hex}get asm(){return w_(this._buff)}getHash(e,r){switch(e){case"p2w":return _h(this._buff).hex;case"p2sh":return P_(this._buff).hex;case"p2tr":return nre.getLeaf(this._buff,r);default:throw new Error("Unrecognized format: "+e)}}toJSON(){return this.asm??[]}},iee=4294967295,sLe=1<<31,c7=512,oLe=1<<22,g_=class{constructor(e){typeof e=="string"?this.value=parseInt(e,16):this.value=e}get isReplaceable(){return this.value<iee}get isLocked(){return!(this.value!==iee||(this.value&sLe)!==0)}get isTimelock(){return(this.value&oLe)!==0}get timestamp(){return this.isLocked?this.isTimelock?this.value*c7:this.value*c7*600:0}set timestamp(e){this.value=Math.ceil(e/c7)}get blockheight(){return this.isLocked?this.isTimelock?Math.ceil(this.value*c7/600):this.value:0}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*c7*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){let r=e.getTime()-Date.now();this.value=r>c7*1e3?Math.ceil(r/1e3/c7):1}toJSON(){return this.value}},MC=class{constructor(e){this.value=BigInt(e.value),this.scriptPubKey=new m_(e.scriptPubKey)}get type(){let{type:e}=IC(this.scriptPubKey.raw);return e}},b_=class{constructor(e,r){this._data=e,this._meta=Wte(e),this.format=r}get length(){return this._data.length}get annex(){let e=this._meta.annex;return e!==null?he.raw(e).hex:void 0}get cblock(){let e=this._meta.cblock;return e!==null?he.raw(e).hex:void 0}get script(){let e=this._meta.script;return e!==null?Ls.decode(e):void 0}get params(){return this._meta.params}toJSON(){return this._data}},ire=class{constructor(e,r){this._tx=e,this.idx=r}get data(){return this._tx.vin[this.idx]}get txid(){return this.data.txid}get vout(){return this.data.vout}get prevout(){return this.data.prevout!==void 0?new MC(this.data.prevout):void 0}get scriptSig(){return new m_(this.data.scriptSig)}get sequence(){return new g_(this.data.sequence)}get witness(){return new b_(this.data.witness)}get type(){if(this.prevout!==void 0){let e=this.prevout.scriptPubKey.raw,{type:r}=IC(e);if(r==="p2sh"){let n=this.scriptSig.asm;if(n[0]==="OP_0"){if(n[1].length===20)return"p2w-p2pkh";if(n[1].length===32)return"p2w-p2sh"}return"p2sh"}return r}return"raw"}sign(e,r){if(this.type.startsWith("p2w"))return ZB.segwit.sign(e,this._tx,this.idx,r);if(this.type.startsWith("p2tr"))return ZB.taproot.sign(e,this._tx,this.idx,r);throw this.type.startsWith("p2pkh")||this.type.startsWith("p2sh")?new Error("This library does not support signing legacy transactions."):new Error("Unable to sign this input type:"+String(this.type))}},aLe=5e8,JB=class{constructor(e=0){this.value=he.bytes(e).num}get isTimelock(){return this.value>aLe}get timestamp(){return this.isTimelock?this.value:this.value*600}set timestamp(e){this.value=e}get blockheight(){return this.isTimelock?Math.floor(this.value/600):this.value}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){this.value=Math.floor((e.getTime()-Date.now())/1e3)}toJSON(){return this.value}},$r;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})($r||($r={}));var QB;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(QB||(QB={}));var $e=$r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sp=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Me=$r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uLe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Fa=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,$r.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Fa.create=t=>new Fa(t);var zm=(t,e)=>{let r;switch(t.code){case Me.invalid_type:t.received===$e.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,$r.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:r=`Unrecognized key(s) in object: ${$r.joinValues(t.keys,", ")}`;break;case Me.invalid_union:r="Invalid input";break;case Me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$r.joinValues(t.options)}`;break;case Me.invalid_enum_value:r=`Invalid enum value. Expected ${$r.joinValues(t.options)}, received '${t.received}'`;break;case Me.invalid_arguments:r="Invalid function arguments";break;case Me.invalid_return_type:r="Invalid function return type";break;case Me.invalid_date:r="Invalid date";break;case Me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:$r.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Me.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Me.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Me.custom:r="Invalid input";break;case Me.invalid_intersection_types:r="Intersection results could not be merged";break;case Me.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Me.not_finite:r="Number must be finite";break;default:r=e.defaultError,$r.assertNever(t)}return{message:r}},sre=zm;function cLe(t){sre=t}function y_(){return sre}var v_=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},fLe=[];function We(t,e){let r=v_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,y_(),zm].filter(n=>!!n)});t.common.issues.push(r)}var bs=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Vt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return bs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Vt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},Vt=Object.freeze({status:"aborted"}),ore=t=>({status:"dirty",value:t}),Co=t=>({status:"valid",value:t}),eC=t=>t.status==="aborted",tC=t=>t.status==="dirty",__=t=>t.status==="valid",x_=t=>typeof Promise<"u"&&t instanceof Promise,yt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(yt||(yt={}));var Nu=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},see=(t,e)=>{if(__(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Fa(t.common.issues);return this._error=r,this._error}}};function ur(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var cr=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return sp(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:sp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bs,ctx:{common:e.parent.common,data:e.data,parsedType:sp(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(x_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sp(e)},s=this._parseSync({data:e,path:i.path,parent:i});return see(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sp(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(x_(i)?i:Promise.resolve(i));return see(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:Me.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Da({schema:this,typeName:At.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Hc.create(this,this._def)}nullable(){return wh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ha.create(this,this._def)}promise(){return hp.create(this,this._def)}or(e){return y7.create([this,e],this._def)}and(e){return v7.create(this,e,this._def)}transform(e){return new Da({...ur(this._def),schema:this,typeName:At.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new E7({...ur(this._def),innerType:this,defaultValue:r,typeName:At.ZodDefault})}brand(){return new S_({typeName:At.ZodBranded,type:this,...ur(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Z2({...ur(this._def),innerType:this,catchValue:r,typeName:At.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return T7.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},hLe=/^c[^\s-]{8,}$/i,lLe=/^[a-z][a-z0-9]*$/,dLe=/[0-9A-HJKMNP-TV-Z]{26}/,pLe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,mLe=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,gLe=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,bLe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,yLe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,vLe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function _Le(t,e){return!!((e==="v4"||!e)&&bLe.test(t)||(e==="v6"||!e)&&yLe.test(t))}var Na=class extends cr{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:Me.invalid_string,...yt.errToObj(n)}),this.nonempty=e=>this.min(1,yt.errToObj(e)),this.trim=()=>new Na({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Na({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Na({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.string,received:s.parsedType}),Vt}let n=new bs,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?We(i,{code:Me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&We(i,{code:Me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")mLe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"email",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")gLe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"emoji",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")pLe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"uuid",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")hLe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"cuid",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")lLe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"cuid2",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")dLe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"ulid",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),We(i,{validation:"url",code:Me.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"regex",code:Me.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?vLe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?_Le(e.data,s.version)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"ip",code:Me.invalid_string,message:s.message}),n.dirty()):$r.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Na({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...yt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...yt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...yt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...yt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...yt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...yt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...yt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...yt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...yt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...yt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...yt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...yt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...yt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...yt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...yt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...yt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Na.create=t=>{var e;return new Na({checks:[],typeName:At.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ur(t)})};function xLe(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var rf=class extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.number,received:s.parsedType}),Vt}let n,i=new bs;for(let s of this._def.checks)s.kind==="int"?$r.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),We(n,{code:Me.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?xLe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),We(n,{code:Me.not_finite,message:s.message}),i.dirty()):$r.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,yt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,yt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,yt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,yt.toString(r))}setLimit(e,r,n,i){return new rf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(e){return new rf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:yt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:yt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$r.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};rf.create=t=>new rf({checks:[],typeName:At.ZodNumber,coerce:t?.coerce||!1,...ur(t)});var nf=class extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.bigint,received:s.parsedType}),Vt}let n,i=new bs;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):$r.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,yt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,yt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,yt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,yt.toString(r))}setLimit(e,r,n,i){return new nf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(e){return new nf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};nf.create=t=>{var e;return new nf({checks:[],typeName:At.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ur(t)})};var m7=class extends cr{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==$e.boolean){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.boolean,received:n.parsedType}),Vt}return Co(e.data)}};m7.create=t=>new m7({typeName:At.ZodBoolean,coerce:t?.coerce||!1,...ur(t)});var xh=class extends cr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.date,received:s.parsedType}),Vt}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_date}),Vt}let n=new bs,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):$r.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new xh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:yt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:yt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};xh.create=t=>new xh({checks:[],coerce:t?.coerce||!1,typeName:At.ZodDate,...ur(t)});var z2=class extends cr{_parse(e){if(this._getType(e)!==$e.symbol){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.symbol,received:n.parsedType}),Vt}return Co(e.data)}};z2.create=t=>new z2({typeName:At.ZodSymbol,...ur(t)});var g7=class extends cr{_parse(e){if(this._getType(e)!==$e.undefined){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.undefined,received:n.parsedType}),Vt}return Co(e.data)}};g7.create=t=>new g7({typeName:At.ZodUndefined,...ur(t)});var b7=class extends cr{_parse(e){if(this._getType(e)!==$e.null){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.null,received:n.parsedType}),Vt}return Co(e.data)}};b7.create=t=>new b7({typeName:At.ZodNull,...ur(t)});var fp=class extends cr{constructor(){super(...arguments),this._any=!0}_parse(e){return Co(e.data)}};fp.create=t=>new fp({typeName:At.ZodAny,...ur(t)});var yh=class extends cr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Co(e.data)}};yh.create=t=>new yh({typeName:At.ZodUnknown,...ur(t)});var Dc=class extends cr{_parse(e){let r=this._getOrReturnCtx(e);return We(r,{code:Me.invalid_type,expected:$e.never,received:r.parsedType}),Vt}};Dc.create=t=>new Dc({typeName:At.ZodNever,...ur(t)});var W2=class extends cr{_parse(e){if(this._getType(e)!==$e.undefined){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.void,received:n.parsedType}),Vt}return Co(e.data)}};W2.create=t=>new W2({typeName:At.ZodVoid,...ur(t)});var Ha=class extends cr{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==$e.array)return We(r,{code:Me.invalid_type,expected:$e.array,received:r.parsedType}),Vt;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(We(r,{code:o?Me.too_big:Me.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(We(r,{code:Me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(We(r,{code:Me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Nu(r,o,r.path,a)))).then(o=>bs.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Nu(r,o,r.path,a)));return bs.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Ha({...this._def,minLength:{value:e,message:yt.toString(r)}})}max(e,r){return new Ha({...this._def,maxLength:{value:e,message:yt.toString(r)}})}length(e,r){return new Ha({...this._def,exactLength:{value:e,message:yt.toString(r)}})}nonempty(e){return this.min(1,e)}};Ha.create=(t,e)=>new Ha({type:t,minLength:null,maxLength:null,exactLength:null,typeName:At.ZodArray,...ur(e)});function q2(t){if(t instanceof kn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Hc.create(q2(n))}return new kn({...t._def,shape:()=>e})}else return t instanceof Ha?new Ha({...t._def,type:q2(t.element)}):t instanceof Hc?Hc.create(q2(t.unwrap())):t instanceof wh?wh.create(q2(t.unwrap())):t instanceof Fu?Fu.create(t.items.map(e=>q2(e))):t}var kn=class extends cr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=$r.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==$e.object){let c=this._getOrReturnCtx(e);return We(c,{code:Me.invalid_type,expected:$e.object,received:c.parsedType}),Vt}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Dc&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let h=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:h._parse(new Nu(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Dc){let c=this._def.unknownKeys;if(c==="passthrough")for(let h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")a.length>0&&(We(i,{code:Me.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let h of a){let f=i.data[h];u.push({key:{status:"valid",value:h},value:c._parse(new Nu(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let h of u){let f=await h.key;c.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return c}).then(c=>bs.mergeObjectSync(n,c)):bs.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return new kn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=yt.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new kn({...this._def,unknownKeys:"strip"})}passthrough(){return new kn({...this._def,unknownKeys:"passthrough"})}extend(e){return new kn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:At.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new kn({...this._def,catchall:e})}pick(e){let r={};return $r.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new kn({...this._def,shape:()=>r})}omit(e){let r={};return $r.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new kn({...this._def,shape:()=>r})}deepPartial(){return q2(this)}partial(e){let r={};return $r.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new kn({...this._def,shape:()=>r})}required(e){let r={};return $r.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Hc;)s=s._def.innerType;r[n]=s}}),new kn({...this._def,shape:()=>r})}keyof(){return are($r.objectKeys(this.shape))}};kn.create=(t,e)=>new kn({shape:()=>t,unknownKeys:"strip",catchall:Dc.create(),typeName:At.ZodObject,...ur(e)});kn.strictCreate=(t,e)=>new kn({shape:()=>t,unknownKeys:"strict",catchall:Dc.create(),typeName:At.ZodObject,...ur(e)});kn.lazycreate=(t,e)=>new kn({shape:t,unknownKeys:"strip",catchall:Dc.create(),typeName:At.ZodObject,...ur(e)});var y7=class extends cr{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Fa(a.ctx.common.issues));return We(r,{code:Me.invalid_union,unionErrors:o}),Vt}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new Fa(u));return We(r,{code:Me.invalid_union,unionErrors:a}),Vt}}get options(){return this._def.options}};y7.create=(t,e)=>new y7({options:t,typeName:At.ZodUnion,...ur(e)});var e_=t=>t instanceof x7?e_(t.schema):t instanceof Da?e_(t.innerType()):t instanceof S7?[t.value]:t instanceof sf?t.options:t instanceof w7?Object.keys(t.enum):t instanceof E7?e_(t._def.innerType):t instanceof g7?[void 0]:t instanceof b7?[null]:null,Y2=class extends cr{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return We(r,{code:Me.invalid_type,expected:$e.object,received:r.parsedType}),Vt;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(We(r,{code:Me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Vt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=e_(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Y2({typeName:At.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ur(n)})}};function rC(t,e){let r=sp(t),n=sp(e);if(t===e)return{valid:!0,data:t};if(r===$e.object&&n===$e.object){let i=$r.objectKeys(e),s=$r.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=rC(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===$e.array&&n===$e.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=rC(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===$e.date&&n===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var v7=class extends cr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(eC(s)||eC(o))return Vt;let a=rC(s.value,o.value);return a.valid?((tC(s)||tC(o))&&r.dirty(),{status:r.value,value:a.data}):(We(n,{code:Me.invalid_intersection_types}),Vt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};v7.create=(t,e,r)=>new v7({left:t,right:e,typeName:At.ZodIntersection,...ur(r)});var Fu=class extends cr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.array)return We(n,{code:Me.invalid_type,expected:$e.array,received:n.parsedType}),Vt;if(n.data.length<this._def.items.length)return We(n,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Vt;!this._def.rest&&n.data.length>this._def.items.length&&(We(n,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Nu(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>bs.mergeArray(r,o)):bs.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Fu({...this._def,rest:e})}};Fu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fu({items:t,typeName:At.ZodTuple,rest:null,...ur(e)})};var _7=class extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return We(n,{code:Me.invalid_type,expected:$e.object,received:n.parsedType}),Vt;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Nu(n,a,n.path,a)),value:o._parse(new Nu(n,n.data[a],n.path,a))});return n.common.async?bs.mergeObjectAsync(r,i):bs.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof cr?new _7({keyType:e,valueType:r,typeName:At.ZodRecord,...ur(n)}):new _7({keyType:Na.create(),valueType:e,typeName:At.ZodRecord,...ur(r)})}},X2=class extends cr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.map)return We(n,{code:Me.invalid_type,expected:$e.map,received:n.parsedType}),Vt;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new Nu(n,a,n.path,[c,"key"])),value:s._parse(new Nu(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return Vt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,h=u.value;if(c.status==="aborted"||h.status==="aborted")return Vt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}}}};X2.create=(t,e,r)=>new X2({valueType:e,keyType:t,typeName:At.ZodMap,...ur(r)});var Sh=class extends cr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.set)return We(n,{code:Me.invalid_type,expected:$e.set,received:n.parsedType}),Vt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(We(n,{code:Me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(We(n,{code:Me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let h of u){if(h.status==="aborted")return Vt;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>s._parse(new Nu(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new Sh({...this._def,minSize:{value:e,message:yt.toString(r)}})}max(e,r){return new Sh({...this._def,maxSize:{value:e,message:yt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Sh.create=(t,e)=>new Sh({valueType:t,minSize:null,maxSize:null,typeName:At.ZodSet,...ur(e)});var ap=class extends cr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.function)return We(r,{code:Me.invalid_type,expected:$e.function,received:r.parsedType}),Vt;function n(a,u){return v_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,y_(),zm].filter(c=>!!c),issueData:{code:Me.invalid_arguments,argumentsError:u}})}function i(a,u){return v_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,y_(),zm].filter(c=>!!c),issueData:{code:Me.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof hp?Co(async(...a)=>{let u=new Fa([]),c=await this._def.args.parseAsync(a,s).catch(p=>{throw u.addIssue(n(a,p)),u}),h=await o(...c);return await this._def.returns._def.type.parseAsync(h,s).catch(p=>{throw u.addIssue(i(h,p)),u})}):Co((...a)=>{let u=this._def.args.safeParse(a,s);if(!u.success)throw new Fa([n(a,u.error)]);let c=o(...u.data),h=this._def.returns.safeParse(c,s);if(!h.success)throw new Fa([i(c,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ap({...this._def,args:Fu.create(e).rest(yh.create())})}returns(e){return new ap({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ap({args:e||Fu.create([]).rest(yh.create()),returns:r||yh.create(),typeName:At.ZodFunction,...ur(n)})}},x7=class extends cr{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};x7.create=(t,e)=>new x7({getter:t,typeName:At.ZodLazy,...ur(e)});var S7=class extends cr{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return We(r,{received:r.data,code:Me.invalid_literal,expected:this._def.value}),Vt}return{status:"valid",value:e.data}}get value(){return this._def.value}};S7.create=(t,e)=>new S7({value:t,typeName:At.ZodLiteral,...ur(e)});function are(t,e){return new sf({values:t,typeName:At.ZodEnum,...ur(e)})}var sf=class extends cr{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return We(r,{expected:$r.joinValues(n),received:r.parsedType,code:Me.invalid_type}),Vt}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return We(r,{received:r.data,code:Me.invalid_enum_value,options:n}),Vt}return Co(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return sf.create(e)}exclude(e){return sf.create(this.options.filter(r=>!e.includes(r)))}};sf.create=are;var w7=class extends cr{_parse(e){let r=$r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$e.string&&n.parsedType!==$e.number){let i=$r.objectValues(r);return We(n,{expected:$r.joinValues(i),received:n.parsedType,code:Me.invalid_type}),Vt}if(r.indexOf(e.data)===-1){let i=$r.objectValues(r);return We(n,{received:n.data,code:Me.invalid_enum_value,options:i}),Vt}return Co(e.data)}get enum(){return this._def.values}};w7.create=(t,e)=>new w7({values:t,typeName:At.ZodNativeEnum,...ur(e)});var hp=class extends cr{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.promise&&r.common.async===!1)return We(r,{code:Me.invalid_type,expected:$e.promise,received:r.parsedType}),Vt;let n=r.parsedType===$e.promise?r.data:Promise.resolve(r.data);return Co(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};hp.create=(t,e)=>new hp({type:t,typeName:At.ZodPromise,...ur(e)});var Da=class extends cr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===At.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){let o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}let s={addIssue:o=>{We(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Vt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Vt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!__(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>__(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);$r.assertNever(i)}};Da.create=(t,e,r)=>new Da({schema:t,typeName:At.ZodEffects,effect:e,...ur(r)});Da.createWithPreprocess=(t,e,r)=>new Da({schema:e,effect:{type:"preprocess",transform:t},typeName:At.ZodEffects,...ur(r)});var Hc=class extends cr{_parse(e){return this._getType(e)===$e.undefined?Co(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Hc.create=(t,e)=>new Hc({innerType:t,typeName:At.ZodOptional,...ur(e)});var wh=class extends cr{_parse(e){return this._getType(e)===$e.null?Co(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};wh.create=(t,e)=>new wh({innerType:t,typeName:At.ZodNullable,...ur(e)});var E7=class extends cr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===$e.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};E7.create=(t,e)=>new E7({innerType:t,typeName:At.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ur(e)});var Z2=class extends cr{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return x_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Z2.create=(t,e)=>new Z2({innerType:t,typeName:At.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ur(e)});var J2=class extends cr{_parse(e){if(this._getType(e)!==$e.nan){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.nan,received:n.parsedType}),Vt}return{status:"valid",value:e.data}}};J2.create=t=>new J2({typeName:At.ZodNaN,...ur(t)});var SLe=Symbol("zod_brand"),S_=class extends cr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},T7=class extends cr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Vt:s.status==="dirty"?(r.dirty(),ore(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Vt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new T7({in:e,out:r,typeName:At.ZodPipeline})}},ure=(t,e={},r)=>t?fp.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):fp.create(),wLe={object:kn.lazycreate},At;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(At||(At={}));var ELe=(t,e={message:`Input not instance of ${t.name}`})=>ure(r=>r instanceof t,e),cre=Na.create,fre=rf.create,TLe=J2.create,ALe=nf.create,hre=m7.create,ILe=xh.create,PLe=z2.create,OLe=g7.create,BLe=b7.create,CLe=fp.create,kLe=yh.create,MLe=Dc.create,RLe=W2.create,NLe=Ha.create,FLe=kn.create,HLe=kn.strictCreate,DLe=y7.create,LLe=Y2.create,ULe=v7.create,qLe=Fu.create,$Le=_7.create,jLe=X2.create,KLe=Sh.create,VLe=ap.create,GLe=x7.create,zLe=S7.create,WLe=sf.create,YLe=w7.create,XLe=hp.create,oee=Da.create,ZLe=Hc.create,JLe=wh.create,QLe=Da.createWithPreprocess,eUe=T7.create,tUe=()=>cre().optional(),rUe=()=>fre().optional(),nUe=()=>hre().optional(),iUe={string:t=>Na.create({...t,coerce:!0}),number:t=>rf.create({...t,coerce:!0}),boolean:t=>m7.create({...t,coerce:!0}),bigint:t=>nf.create({...t,coerce:!0}),date:t=>xh.create({...t,coerce:!0})},sUe=Vt,Bo=Object.freeze({__proto__:null,defaultErrorMap:zm,setErrorMap:cLe,getErrorMap:y_,makeIssue:v_,EMPTY_PATH:fLe,addIssueToContext:We,ParseStatus:bs,INVALID:Vt,DIRTY:ore,OK:Co,isAborted:eC,isDirty:tC,isValid:__,isAsync:x_,get util(){return $r},get objectUtil(){return QB},ZodParsedType:$e,getParsedType:sp,ZodType:cr,ZodString:Na,ZodNumber:rf,ZodBigInt:nf,ZodBoolean:m7,ZodDate:xh,ZodSymbol:z2,ZodUndefined:g7,ZodNull:b7,ZodAny:fp,ZodUnknown:yh,ZodNever:Dc,ZodVoid:W2,ZodArray:Ha,ZodObject:kn,ZodUnion:y7,ZodDiscriminatedUnion:Y2,ZodIntersection:v7,ZodTuple:Fu,ZodRecord:_7,ZodMap:X2,ZodSet:Sh,ZodFunction:ap,ZodLazy:x7,ZodLiteral:S7,ZodEnum:sf,ZodNativeEnum:w7,ZodPromise:hp,ZodEffects:Da,ZodTransformer:Da,ZodOptional:Hc,ZodNullable:wh,ZodDefault:E7,ZodCatch:Z2,ZodNaN:J2,BRAND:SLe,ZodBranded:S_,ZodPipeline:T7,custom:ure,Schema:cr,ZodSchema:cr,late:wLe,get ZodFirstPartyTypeKind(){return At},coerce:iUe,any:CLe,array:NLe,bigint:ALe,boolean:hre,date:ILe,discriminatedUnion:LLe,effect:oee,enum:WLe,function:VLe,instanceof:ELe,intersection:ULe,lazy:GLe,literal:zLe,map:jLe,nan:TLe,nativeEnum:YLe,never:MLe,null:BLe,nullable:JLe,number:fre,object:FLe,oboolean:nUe,onumber:rUe,optional:ZLe,ostring:tUe,pipeline:eUe,preprocess:QLe,promise:XLe,record:$Le,set:KLe,strictObject:HLe,string:cre,symbol:PLe,transformer:oee,tuple:qLe,undefined:OLe,union:DLe,unknown:kLe,void:RLe,NEVER:sUe,ZodIssueCode:Me,quotelessJson:uLe,ZodError:Fa}),RC=Bo.string().regex(/^[a-fA-F0-9]$/),lre=Bo.string().regex(/^[a-fA-F0-9]{64}$/),A7=Bo.number().min(0).max(4294967295),dre=Bo.bigint(),pre=Bo.instanceof(Uint8Array),oUe=Bo.union([RC,A7,Bo.string(),pre]).array(),C_=Bo.union([oUe,RC,pre]),mre=Bo.array(C_),NC=Bo.object({value:Bo.union([A7,dre]),scriptPubKey:C_}),gre=Bo.object({txid:lre,vout:A7,scriptSig:C_,sequence:A7,prevout:NC.optional(),witness:mre}),aUe=Bo.object({version:A7,vin:Bo.array(gre),vout:Bo.array(NC),locktime:A7}),uUe={TxData:aUe,TxInput:gre,TxOutput:NC,witness:mre,script:C_,hexstr:RC,hash:lre,uint32:A7,uint64:dre},nC=class{constructor(e){typeof e=="string"&&(e=he.hex(e)),e instanceof Uint8Array&&(e=Ra.decode(e));let r=uUe.TxData;this._data=r.parse(Ra.create(e))}get data(){return this._data}get version(){return this.data.version}get vin(){return this.data.vin.map((e,r)=>new ire(this.data,r))}get vout(){return this.data.vout.map(e=>new MC(e))}get locktime(){return new JB(this.data.locktime)}get base(){return Ra.encode(this.data,!0)}get buff(){return Ra.encode(this.data)}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get size(){return this.raw.length}get bsize(){return this.base.length}get weight(){return this.bsize*3+this.size}get vsize(){let e=this.weight%4>0?1:0;return Math.floor(this.weight/4)+e}get hash(){return _h(this.buff).reverse().hex}get txid(){return _h(this.base).reverse().hex}async export(){let{size:e,weight:r,vsize:n,hex:i}=this,s=this.txid,o=this.hash;return{txid:s,hash:o,...this.data,size:e,weight:r,vsize:n,hex:i}}};Lc.Address=SDe;Lc.Input=ire;Lc.Output=MC;Lc.Script=Ls;Lc.Sequence=g_;Lc.Signer=ZB;Lc.Tap=iLe;Lc.Transaction=nC;Lc.Tx=Ra;Lc.Witness=b_});var Zm=$(ft=>{k();M();Object.defineProperty(ft,"__esModule",{value:!0});ft.getFee=ft.getDummySignature=ft.getDummyEcKey=ft.verifyContract=ft.toTokenAddress=ft.resetTx=ft.scaleByDecimals=ft.toP2tr=ft.p2tr2Address=ft.toBitcoinNetwork=ft.toStateScript=ft.callToBufferList=ft.getDummyUTXO=ft.dummyUTXO=ft.getDummySigner=ft.outpoint2ByteString=ft.outpoint2TxOutpoint=ft.toTxOutpoint=ft.getTokenContractP2TR=ft.getTokenContract=ft.getGuardsP2TR=ft.GuardType=ft.script2P2TR=ft.contract2P2TR=ft.strToByteString=ft.byteStringToBuffer=ft.toXOnly=void 0;var FC=Y0(),ys=X0(),O7=xr(),P7=bre(),DC=ff(),cUe=LC(),fUe=Fo(),k_="0250929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0";function hUe(t){return t.subarray(1,33)}ft.toXOnly=hUe;var lUe=function(t){let e=[];for(let r of t)e.push(A.Buffer.from(r,"hex"));return e};ft.byteStringToBuffer=lUe;function dUe(t){return(0,O7.toByteString)(A.Buffer.from(t,"utf-8").toString("hex"))}ft.strToByteString=dUe;function yre(t){let e=t.lockingScript.toBuffer();return{...vre(e),script:e.toString("hex"),contract:t}}ft.contract2P2TR=yre;function vre(t){let e=P7.Tap.encodeScript(t),[r,n]=P7.Tap.getPubKey(k_,{target:e});return{p2tr:new ys.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}ft.script2P2TR=vre;var HC;(function(t){t[t.Transfer=0]="Transfer",t[t.Burn=1]="Burn"})(HC=ft.GuardType||(ft.GuardType={}));function _re(t=HC.Transfer){let e=new FC.BurnGuard,r=new FC.TransferGuard,n=P7.Tap.encodeScript(e.lockingScript.toBuffer()),i=P7.Tap.encodeScript(r.lockingScript.toBuffer()),s=[n,i],[o]=P7.Tap.getPubKey(k_,{tree:s}),[,a]=P7.Tap.getPubKey(k_,{target:n,tree:s}),[,u]=P7.Tap.getPubKey(k_,{target:i,tree:s}),c=new ys.btc.Script(`OP_1 32 0x${o}}`).toHex();return t===HC.Transfer?{p2tr:c,tapScript:i,cblock:u,script:r.lockingScript.toBuffer().toString("hex"),contract:r}:{p2tr:c,tapScript:n,cblock:a,script:e.lockingScript.toBuffer().toString("hex"),contract:e}}ft.getGuardsP2TR=_re;function xre(t,e){return new FC.CAT20(t,(0,O7.toByteString)(e))}ft.getTokenContract=xre;function pUe(t){let{p2tr:e}=_re();return yre(xre(t,e))}ft.getTokenContractP2TR=pUe;function Sre(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:A.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}ft.toTxOutpoint=Sre;function wre(t){let[e,r]=t.split("_");return Sre(e,parseInt(r))}ft.outpoint2TxOutpoint=wre;var mUe=function(t){let e=wre(t);return e.txhash+e.outputIndex};ft.outpoint2ByteString=mUe;function gUe(t){return O7.TestWallet.random(new O7.DummyProvider)}ft.getDummySigner=gUe;ft.dummyUTXO={txId:(0,DC.randomBytes)(32).toString("hex"),outputIndex:0,script:"",satoshis:1e4};function bUe(t=1e4,e=!1){return e?Object.assign({},ft.dummyUTXO,{satoshis:t,txId:(0,DC.randomBytes)(32).toString("hex")}):Object.assign({},ft.dummyUTXO,{satoshis:t})}ft.getDummyUTXO=bUe;var yUe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,O7.int2ByteString)(BigInt(r.opcodenum-80));return A.Buffer.from(n,"hex")}else return A.Buffer.from((0,O7.toByteString)(""));return r.buf})};ft.callToBufferList=yUe;var vUe=function(t){return new ys.btc.Script(`6a1863617401${t.hashRoot}`)};ft.toStateScript=vUe;function Ere(t){return t==="btc-signet"?ys.btc.Networks.testnet:ys.btc.Networks.mainnet}ft.toBitcoinNetwork=Ere;function _Ue(t,e){let r=typeof t=="string"?ys.btc.Script.fromHex(t):t;return ys.btc.Address.fromScript(r,Ere(e)).toString()}ft.p2tr2Address=_Ue;function xUe(t){if((typeof t=="string"?ys.btc.Address.fromString(t):t).type!=="taproot")throw new Error(`address ${t} is not taproot`);return ys.btc.Script.fromAddress(t).toHex()}ft.toP2tr=xUe;function SUe(t,e){return t*BigInt(Math.pow(10,e))}ft.scaleByDecimals=SUe;function wUe(t){for(let e=0;e<t.inputs.length;e++){let r=t.inputs[e];r.hasWitnesses()&&r.setWitnesses([])}t.nLockTime=0}ft.resetTx=wUe;function EUe(t){if(typeof t=="string"&&(t=ys.btc.Address.fromString(t)),t.type===ys.btc.Address.PayToTaproot)return(0,O7.hash160)(t.hashBuffer.toString("hex"));if(t.type===ys.btc.Address.PayToWitnessPublicKeyHash)return t.hashBuffer.toString("hex");throw new Error(`Unsupported address type: ${t.type}`)}ft.toTokenAddress=EUe;function TUe(t,e,r,n){let i=new ys.btc.Script.Interpreter,s=ys.btc.Script.Interpreter.SCRIPT_VERIFY_WITNESS|ys.btc.Script.Interpreter.SCRIPT_VERIFY_TAPROOT;return i.verify(new ys.btc.Script(""),new ys.btc.Script(t.script),e,r,s,n,t.satoshis)?!0:i.errstr}ft.verifyContract=TUe;function AUe(){let t=(0,DC.randomBytes)(32),e=(0,fUe.private2Wif)(t);return new cUe.EcKeyService({privateKey:e})}ft.getDummyEcKey=AUe;function IUe(){return ys.btc.crypto.Signature.fromString("E907831F80848D1069A5371B402410364BDF1C5F8307B0084C55F1CE2DCA821525F66A4A85EA8B71E482A74F382D2CE5EBEEE8FDB2172F477DF4900D310536C0").toString("hex")}ft.getDummySignature=IUe;function PUe(t){return t.inputs.reduce((e,r)=>e+r.output.satoshis,0)-t.outputs.reduce((e,r)=>e+r.satoshis,0)}ft.getFee=PUe});var LC=$(M_=>{k();M();Object.defineProperty(M_,"__esModule",{value:!0});M_.EcKeyService=void 0;var B7=X0(),Th=X0(),Tre=xr(),OUe=Zm(),UC=class{constructor(e){if(this.addressType=e.addressType||Th.CatAddressType.P2TR,!e.privateKey&&!e.publicKey)throw new Error("Either privateKey or publicKey must be provided");this.privateKey=e.privateKey?B7.btc.PrivateKey.fromWIF(e.privateKey):void 0,this.publicKey=e.privateKey?this.privateKey.toPublicKey():B7.btc.PublicKey.fromString(e.publicKey)}hasPrivateKey(){return this.privateKey!==void 0}getWif(){return this.getPrivateKey().toWIF()}getPrivateKey(){return this.privateKey}getAddressType(){return this.addressType||Th.CatAddressType.P2TR}getP2TRAddress(){return this.getPublicKey().toAddress(null,B7.btc.Address.PayToTaproot)}getAddress(){return this.getP2TRAddress()}getXOnlyPublicKey(){let e=this.getTokenPublicKey();return(0,OUe.toXOnly)(e.toBuffer()).toString("hex")}getTweakedPrivateKey(){let{tweakedPrivKey:e}=this.getPrivateKey().createTapTweak();return B7.btc.PrivateKey.fromBuffer(e)}getPublicKey(){return this.publicKey}getTokenPublicKey(){if(this.getAddressType()===Th.CatAddressType.P2TR){let{tweakedPubKey:r}=this.publicKey.createTapTweak();return B7.btc.PublicKey.fromBuffer(r)}return this.publicKey}getPubKeyPrefix(){let e=this.getAddressType();return e===Th.CatAddressType.P2TR?"":e===Th.CatAddressType.P2WPKH?this.getTokenPublicKey().toString().slice(0,2):""}getTokenAddress(){let e=this.getAddressType();if(e===Th.CatAddressType.P2TR){let r=this.getXOnlyPublicKey();return(0,Tre.hash160)(r)}else if(e===Th.CatAddressType.P2WPKH){let r=this.getTokenPublicKey();return(0,Tre.hash160)(r.toString())}else throw new Error(`Unsupported address type: ${e}`)}getTaprootPrivateKey(){return this.getTweakedPrivateKey()}getTokenPrivateKey(){let e=this.getAddressType();if(e===Th.CatAddressType.P2TR)return this.getTaprootPrivateKey();if(e===Th.CatAddressType.P2WPKH)return this.getPrivateKey();throw new Error(`Unsupported address type: ${e}`)}signTx(e){if(!this.hasPrivateKey())throw new Error("No private key provided");let r=this.getPrivateKey(),n=B7.btc.crypto.Hash.sha256ripemd160(r.publicKey.toBuffer());for(let i=0;i<e.inputs.length;i++){let s=e.inputs[i];if(s.output.script.isWitnessPublicKeyHashOut()){let o=s.getSignatures(e,r,i,void 0,n,void 0,void 0);if(o.length===0)throw new Error("Could not sign input");e.applySignature(o[0])}else if(s.output.script.isTaproot()&&!s.hasWitnesses()){let o=s.getSignatures(e,r,i,B7.btc.crypto.Signature.SIGHASH_ALL,n,void 0,void 0);if(o.length===0)throw new Error("Could not sign input");e.applySignature(o[0])}}}};M_.EcKeyService=UC});var Are=$(af=>{k();M();Object.defineProperty(af,"__esModule",{value:!0});af.scaleConfig=af.tokenUtxoParse=af.feeUtxoParse=af.tokenInfoParse=void 0;var BUe=X0(),CUe=Y0(),C7=Zm();function kUe(t,e){let r=JSON.parse(t),n=JSON.parse(JSON.stringify(r.info));if(n.max&&(n.max=BigInt(n.max),n.premine=BigInt(n.premine),n.limit=BigInt(n.limit)),r.info=n,!r.tokenAddr){let i=(0,C7.toP2tr)(r.minterAddr);r.tokenAddr=(0,C7.p2tr2Address)((0,C7.getTokenContractP2TR)(i).p2tr,e)}return r}af.tokenInfoParse=kUe;function MUe(t,e){return e.map(r=>{let n=BUe.btc.Script.fromAddress(t.getAddress()).toHex();return{txId:r.txId,outputIndex:r.vOut,script:n,satoshis:r.amount}})}af.feeUtxoParse=MUe;function RUe(t){let e=JSON.parse(t);return Array.isArray(e)||(e=[e]),e.map(r=>{let n=CUe.ProtocolState.fromStateHashList(r.txoStateHashes);typeof r.utxo.satoshis=="string"&&(r.utxo.satoshis=parseInt(r.utxo.satoshis));let i=r.state.address;try{i=(0,C7.toTokenAddress)(r.state.address)}catch{}return{utxo:r.utxo,state:{protocolState:n,data:{ownerAddr:i,amount:BigInt(r.state.amount)}}}})}af.tokenUtxoParse=RUe;function NUe(t){let e=Object.assign({},t);return e.max=(0,C7.scaleByDecimals)(t.max,t.decimals),e.premine=(0,C7.scaleByDecimals)(t.premine,t.decimals),e.limit=(0,C7.scaleByDecimals)(t.limit,t.decimals),e}af.scaleConfig=NUe});var Ore=$(R_=>{k();M();Object.defineProperty(R_,"__esModule",{value:!0});R_.validatePrevTx=void 0;var Ire=X0(),Pre=Zm();function FUe(t,e,r,n){let i=0,s=new Ire.btc.Transaction(e);if(!s.inputs.find((c,h)=>{let f=c.getWitnesses();if(Array.isArray(f)&&f.length>2){let p=f[f.length-2],{p2tr:l}=(0,Pre.script2P2TR)(p),y=(0,Pre.p2tr2Address)(l,n);if(y===t.tokenAddr||y===t.minterAddr)return i=h,!0}}))return null;let a=s.inputs[i].prevTxId.toString("hex"),u=new Ire.btc.Transaction(r);return u.id!=a?null:{prevTx:s,prevPrevTx:u,prevTokenInputIndex:i}}R_.validatePrevTx=FUe});var Bre=$(N_=>{k();M();Object.defineProperty(N_,"__esModule",{value:!0});N_.pickLargeFeeUtxo=void 0;function HUe(t){let e=t[0];for(let r of t)r.satoshis>e.satoshis&&(e=r);return e}N_.pickLargeFeeUtxo=HUe});var Qm=$(Uc=>{k();M();var DUe=Uc&&Uc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jm=Uc&&Uc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&DUe(e,t,r)};Object.defineProperty(Uc,"__esModule",{value:!0});Jm(LC(),Uc);Jm(Are(),Uc);Jm(Ore(),Uc);Jm(Zm(),Uc);Jm(Bre(),Uc)});var qC=$(pp=>{k();M();Object.defineProperty(pp,"__esModule",{value:!0});pp.unlockGuard=pp.unlockToken=pp.createGuardContract=void 0;var LUe=Qm(),k7=X0(),Hu=Qm(),dp=Y0(),eg=xr();function UUe(t,e,r,n,i,s){let{p2tr:o,tapScript:a}=(0,Hu.getGuardsP2TR)(),u=dp.ProtocolState.getEmptyState(),c=dp.GuardProto.createEmptyState();c.tokenScript=i;for(let p=0;p<n.length;p++)c.inputTokenAmountArray[p]=n[p].state.data.amount;u.updateDataList(0,dp.GuardProto.toByteString(c));let h=new k7.btc.Transaction().from(e).addOutput(new k7.btc.Transaction.Output({satoshis:0,script:(0,Hu.toStateScript)(u)})).addOutput(new k7.btc.Transaction.Output({satoshis:k7.Postage.GUARD_POSTAGE,script:o})).feePerByte(r).change(s);if(h.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");h.outputs[2].satoshis-=1,t.hasPrivateKey()&&t.signTx(h);let f={utxo:{txId:h.id,outputIndex:1,script:h.outputs[1].script.toHex(),satoshis:h.outputs[1].satoshis},state:{protocolState:u,data:c}};return{commitTx:h,contact:f,guardTapScript:a}}pp.createGuardContract=UUe;async function qUe(t,e,r,n,i,s,o,a,u,c,h,f,p,l){let{cblock:y,contract:_}=(0,Hu.getTokenContractP2TR)(u),{shPreimage:O,prevoutsCtx:F,spentScripts:B,sighash:E}=c,I={isUserSpend:!1,userPubKeyPrefix:(0,eg.toByteString)(""),userPubKey:(0,eg.PubKey)(t.getXOnlyPublicKey()),userSig:(0,LUe.getDummySignature)(),contractInputIndex:BigInt(l||0)};if(!p){let v;t.hasPrivateKey()?v=k7.btc.crypto.Schnorr.sign(t.getTokenPrivateKey(),E.hash):v=k7.btc.crypto.Signature.fromString(f);let g=t.getXOnlyPublicKey();I={isUserSpend:!0,userPubKeyPrefix:t.getPubKeyPrefix(),userPubKey:(0,eg.PubKey)(g),userSig:v.toString("hex"),contractInputIndex:0n}}let L=(0,dp.getBackTraceInfo)(n,s,i),{state:{protocolState:N,data:H}}=e;await _.connect((0,Hu.getDummySigner)());let D={statesHashRoot:N.hashRoot,txoStateHashes:N.stateHashList},C=await _.methods.unlock(I,H,D,o,L,O,F,B,{fromUTXO:(0,Hu.getDummyUTXO)(),verify:!1,exec:!1}),d=[...(0,Hu.callToBufferList)(C),_.lockingScript.toBuffer(),A.Buffer.from(y,"hex")];if(a.inputs[r].witnesses=d,h){let v=(0,Hu.verifyContract)(e.utxo,a,r,d);if(typeof v=="string")throw new Error(`unlocking token contract at input ${r} failed! ${v}`);return!0}return!0}pp.unlockToken=qUe;async function $Ue(t,e,r,n,i,s,o,a,u,c){let{shPreimage:h,prevoutsCtx:f,spentScripts:p}=u,l=(0,dp.emptyTokenArray)(),y=(0,dp.emptyTokenAmountArray)(),_=(0,eg.fill)(!1,dp.MAX_TOKEN_OUTPUT);l[0]=s.ownerAddr,y[0]=s.amount,_[0]=!0,o&&(l[1]=o.ownerAddr,y[1]=o.amount,_[1]=!0);let O=o===null?1:2,{cblock:F,contract:B}=(0,Hu.getGuardsP2TR)();await B.connect((0,Hu.getDummySigner)());let E=(0,dp.emptyTokenArray)();a!=null&&(E[O]=a.satoshis,l[O]=a.script,_[O]=!1);let I=await B.methods.transfer(n.stateHashList,l,y,_,E,(0,eg.int2ByteString)(BigInt(k7.Postage.TOKEN_POSTAGE),8n),t.state.data,e.tx,h,f,p,{fromUTXO:(0,Hu.getDummyUTXO)(),verify:!1,exec:!1}),L=[...(0,Hu.callToBufferList)(I),B.lockingScript.toBuffer(),A.Buffer.from(F,"hex")];if(i.inputs[r].witnesses=L,c){let N=(0,Hu.verifyContract)(t.utxo,i,r,L);if(typeof N=="string")throw new Error(`unlocking guard contract failed! ${N}`);return!0}return!0}pp.unlockGuard=$Ue});var $C=$(F_=>{k();M();Object.defineProperty(F_,"__esModule",{value:!0});F_.mergeFee=void 0;var jUe=X0();function KUe(t,e,r){let n=t.getAddress(),i=new jUe.btc.Transaction().from(e).feePerByte(r).change(n);if(i.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");let s=i.outputs[0];s.satoshis-=1,t.hasPrivateKey()&&t.signTx(i);let o={address:n,txId:i.id,outputIndex:0,script:s.script,satoshis:s.satoshis};return{mergeTx:i,feeUtxo:o}}F_.mergeFee=KUe});var kre=$(uf=>{k();M();Object.defineProperty(uf,"__esModule",{value:!0});uf.calcVsizeTransfer=uf.transfer=uf.estimateFee=void 0;var ko=X0(),jC=xr(),Us=Qm(),Ah=Y0(),tg=qC(),VUe=$C();async function GUe(t){return t.data.estimateFee=!0,await Cre(t)}uf.estimateFee=GUe;async function Cre(t){let e=t.data,r=e.estimateFee?(0,Us.getDummyEcKey)():new Us.EcKeyService({privateKey:t.privateKey}),n=(0,Us.tokenInfoParse)(e.tokenMetadata,ko.SupportedNetwork.fractalMainnet),i=(0,Us.toP2tr)(n.minterAddr),{p2tr:s,tapScript:o}=(0,Us.getTokenContractP2TR)(i),a=e.verifyScript||!1,u,c;try{u=ko.btc.Address.fromString(e.toAddress)}catch{throw new Error(`Invalid receiver address: ${e.toAddress}`)}if(u.type!=="taproot")throw new Error(`Invalid address type: ${u.type}`);try{c=BigInt(e.tokenAmount)}catch{throw new Error(`Invalid token amount:  ${e.tokenAmount}`)}if(c<=0n)throw new Error("Invalid token amount");let h=(0,Us.feeUtxoParse)(r,t.data.feeInputs),f=h[0],p;h.length>1&&({feeUtxo:f,mergeTx:p}=(0,VUe.mergeFee)(r,h,e.feeRate));let l=(0,Us.tokenUtxoParse)(e.tokens),y=(0,tg.createGuardContract)(r,f,e.feeRate,l,s,e.changeAddress);if(y===null)return null;let{commitTx:_,contact:O,guardTapScript:F}=y,B=Ah.ProtocolState.getEmptyState(),E=Ah.CAT20Proto.create(c,(0,Us.toTokenAddress)(u));B.updateDataList(0,Ah.CAT20Proto.toByteString(E));let L=l.reduce((K,z)=>K+z.state.data.amount,0n)-c,N=null;if(L>0n){let K=r.getTokenAddress();N=Ah.CAT20Proto.create(L,K),B.updateDataList(1,Ah.CAT20Proto.toByteString(N))}let H={txId:_.id,outputIndex:2,script:_.outputs[2].script.toHex(),satoshis:_.outputs[2].satoshis},D=[...l.map(K=>K.utxo),O.utxo,H];if(D.length>Ah.MAX_INPUT)throw new Error("Too many inputs, max 4 token inputs");let C=new ko.btc.Transaction().from(D).addOutput(new ko.btc.Transaction.Output({satoshis:0,script:(0,Us.toStateScript)(B)})).addOutput(new ko.btc.Transaction.Output({satoshis:ko.Postage.TOKEN_POSTAGE,script:s})).feePerByte(e.feeRate);N&&C.addOutput(new ko.btc.Transaction.Output({satoshis:ko.Postage.TOKEN_POSTAGE,script:s}));let d=ko.btc.Script.fromAddress(e.changeAddress);C.addOutput(new ko.btc.Transaction.Output({satoshis:0,script:d}));let v=[];if(e.tokenPrevTxs.length!==l.length)throw new Error("Invalid tokenPrevTxs length");for(let K=0;K<l.length;K++){let z=e.tokenPrevTxs[K].prevTx,Q=e.tokenPrevTxs[K].prevPrevTx,oe=(0,Us.validatePrevTx)(n,z,Q,ko.SupportedNetwork.fractalMainnet);if(oe===null)throw new Error("prevTx does not match prevPrevTx");v.push(oe)}let g=(0,Ah.getTxHeaderCheck)(_,O.utxo.outputIndex),m=l.length,S={outputIndex:(0,Us.toTxOutpoint)(O.utxo.txId,O.utxo.outputIndex).outputIndex,inputIndexVal:BigInt(m),tx:g.tx,guardState:O.state.data},{vsize:w}=await(0,uf.calcVsizeTransfer)(l,O,C,S,v,o,F,B,E,N,d,i),R=N===null?2:3,T=C.inputAmount-w*e.feeRate-ko.Postage.TOKEN_POSTAGE-(N===null?0:ko.Postage.TOKEN_POSTAGE),b=w*e.feeRate;if(T<=ko.CHANGE_MIN_POSTAGE){T=0,C.removeOutput(R);let{vsize:K,fee:z}=await(0,uf.calcVsizeTransfer)(l,O,C,S,v,o,F,B,E,N,d,i);w=K,b=z}else C.outputs[R].satoshis=T;if(e.estimateFee)return p?{mergeTx:(0,Us.getFee)(p),commitTx:(0,Us.getFee)(_),revealTx:b}:{commitTx:(0,Us.getFee)(_),revealTx:b};let x=null;T>BigInt(0)&&(x={script:(0,jC.toByteString)(d.toHex()),satoshis:(0,jC.int2ByteString)(BigInt(T),BigInt(8))});let P=(0,Ah.getTxCtxMulti)(C,l.map((K,z)=>z).concat([l.length]),[...new Array(l.length).fill(A.Buffer.from(o,"hex")),A.Buffer.from(F,"hex")]);for(let K=0;K<l.length;K++)if(!await(0,tg.unlockToken)(r,l[K],K,v[K].prevTx,v[K].prevTokenInputIndex,v[K].prevPrevTx,S,C,i,P[K],a))return null;return await(0,tg.unlockGuard)(O,S,m,B,C,E,N,x,P[m],a)?(r.signTx(C),p?{mergeTx:p.uncheckedSerialize(),commitTx:_.uncheckedSerialize(),revealTx:C.uncheckedSerialize()}:{commitTx:_.uncheckedSerialize(),revealTx:C.uncheckedSerialize()}):null}uf.transfer=Cre;var zUe=async(t,e,r,n,i,s,o,a,u,c,h,f)=>{let p=(0,Us.getDummyEcKey)(),l=ko.btc.Script.fromAddress(p.getAddress()),y=r.inputs.length-1,_=r.inputs[y].output.script;r.inputs[y].output.setScript(l);let O=(0,Ah.getTxCtxMulti)(r,t.map((L,N)=>N).concat([t.length]),[...new Array(t.length).fill(A.Buffer.from(s,"hex")),A.Buffer.from(o,"hex")]),F=t.length,B={script:h.toHex(),satoshis:(0,jC.int2ByteString)(0n,8n)};for(let L=0;L<t.length;L++)await(0,tg.unlockToken)(p,t[L],L,i[L].prevTx,i[L].prevTokenInputIndex,i[L].prevPrevTx,n,r,f,O[L],!1);await(0,tg.unlockGuard)(e,n,F,a,r,u,c,B,O[F],!1),p.signTx(r);let E=r.vsize,I=(0,Us.getFee)(r);return(0,Us.resetTx)(r),r.inputs[y].output.setScript(_),{vsize:E,fee:I}};uf.calcVsizeTransfer=zUe});var Mre=$(Ih=>{k();M();var WUe=Ih&&Ih.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KC=Ih&&Ih.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WUe(e,t,r)};Object.defineProperty(Ih,"__esModule",{value:!0});KC(qC(),Ih);KC($C(),Ih);KC(kre(),Ih)});var GC=$(Ph=>{k();M();var YUe=Ph&&Ph.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VC=Ph&&Ph.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YUe(e,t,r)};Object.defineProperty(Ph,"__esModule",{value:!0});VC(X0(),Ph);VC(Mre(),Ph);VC(Qm(),Ph)});var Nre=$(H_=>{k();M();Object.defineProperty(H_,"__esModule",{value:!0});H_.CatWallet=void 0;var XUe=oc(),Rre=GC(),zC=class extends XUe.BtcWallet{async signTransaction(e){try{let r=await(0,Rre.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async estimateFee(e){try{e.data.estimateFee=!0;let r=await(0,Rre.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}};H_.CatWallet=zC});var cb=$(io=>{k();M();var ZUe=io&&io.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cf=io&&io.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZUe(e,t,r)};Object.defineProperty(io,"__esModule",{value:!0});cf(oc(),io);cf(EF(),io);cf(TF(),io);cf(AF(),io);cf(PF(),io);cf(OF(),io);cf(NF(),io);cf(YF(),io);cf(ZF(),io);cf(Nre(),io)});var Hre=$(D_=>{k();M();Object.defineProperty(D_,"__esModule",{value:!0});D_.oneKeyBuildBtcTx=void 0;var JUe=Ho(),QUe=Hh(),WC=vr(),YC=cb(),XC=Fo(),eqe=fa(),tqe={legacy:"SPENDADDRESS",segwit_native:"SPENDWITNESS",segwit_nested:"SPENDP2SHWITNESS",segwit_taproot:"SPENDTAPROOT"},rqe={legacy:"PAYTOADDRESS",segwit_native:"PAYTOWITNESS",segwit_nested:"PAYTOP2SHWITNESS",segwit_taproot:"PAYTOTAPROOT"};function nqe(t,e=eqe.bitcoin){let r=(0,YC.convert2UtxoTx)(t);if(r.omni){let u=(0,YC.number2Hex)(r.omni.coinType||31,8),c=(0,YC.number2Hex)(r.omni.amount,16),h="6f6d6e6900000000"+u+c;r.outputs.push({address:"",amount:0,omniScript:h})}let n=parseInt((0,XC.signBtc)(r,"",e,void 0,!0,!0)),i=t.dustSize||546;n>=i&&r.outputs.push({address:r.address,amount:n,derivationPath:r.derivationPath,isChange:!0});let s=[],o=[];r.inputs.forEach(u=>{let c=Fre(u.derivationPath);s.push({address_n:c,prev_hash:u.txId,prev_index:u.vOut,amount:u.amount.toString(),script_type:tqe[(0,XC.getAddressType)(u.address,e)]}),o.push(iqe(u.nonWitnessUtxo,u.txId))});let a=[];return r.outputs.forEach(u=>{u.isChange?a.push({address_n:Fre(u.derivationPath),amount:u.amount.toString(),script_type:rqe[(0,XC.getAddressType)(u.address,e)]}):u.omniScript?a.push({amount:"0",op_return_data:u.omniScript,script_type:"PAYTOOPRETURN"}):a.push({address:u.address,amount:u.amount.toString(),script_type:"PAYTOADDRESS"})}),{inputs:s,outputs:a,refTxs:o,coin:"btc"}}D_.oneKeyBuildBtcTx=nqe;function iqe(t,e){let r=JUe.Transaction.fromHex(t),n=[];r.ins.forEach(s=>{n.push({prev_hash:WC.base.toHex((0,QUe.reverseBuffer)(s.hash)),prev_index:s.index,script_sig:WC.base.toHex(s.script),sequence:s.sequence})});let i=[];return r.outs.forEach(s=>{i.push({amount:s.value,script_pubkey:WC.base.toHex(s.script)})}),{hash:e,inputs:n,bin_outputs:i,lock_time:r.locktime,version:r.version}}function Fre(t){let e=t.split("/");e[0]==="m"&&(e=e.slice(1));let r=[];return e.forEach(n=>{let i;n.slice(-1)==="'"?i=sqe(parseInt(n.slice(0,-1),10)):i=parseInt(n,10),r.push(i)}),r}function sqe(t){return 2147483648+t}});var Dre=$(rg=>{k();M();Object.defineProperty(rg,"__esModule",{value:!0});rg.BtcXrcTypes=void 0;var oqe;(function(t){t[t.INSCRIBE=1]="INSCRIBE",t[t.PSBT=2]="PSBT",t[t.PSBT_MPC_UNSIGNED_LIST=21]="PSBT_MPC_UNSIGNED_LIST",t[t.PSBT_MPC_SIGNED_LIST=22]="PSBT_MPC_SIGNED_LIST",t[t.PSBT_MPC_UNSIGNED_BUY=23]="PSBT_MPC_UNSIGNED_BUY",t[t.PSBT_MPC_SIGNED_BUY=24]="PSBT_MPC_SIGNED_BUY",t[t.PSBT_MPC_UNSIGNED=25]="PSBT_MPC_UNSIGNED",t[t.PSBT_MPC_SIGNED=26]="PSBT_MPC_SIGNED",t[t.PSBT_RUNEMAIN=27]="PSBT_RUNEMAIN",t[t.PSBT_KEY_SCRIPT_PATH=3]="PSBT_KEY_SCRIPT_PATH",t[t.PSBT_KEY_SCRIPT_PATH_BATCH=4]="PSBT_KEY_SCRIPT_PATH_BATCH",t[t.SRC20=101]="SRC20",t[t.RUNE=102]="RUNE",t[t.RUNEMAIN=103]="RUNEMAIN",t[t.PSBT_DEODE=104]="PSBT_DEODE",t[t.ARC20=114]="ARC20",t[t.CAT20=115]="CAT20"})(oqe=rg.BtcXrcTypes||(rg.BtcXrcTypes={}))});var Go=$(Xr=>{k();M();var Lre=Xr&&Xr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aqe=Xr&&Xr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ca=Xr&&Xr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lre(e,t,r)},Ure=Xr&&Xr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lre(e,t,r);return aqe(e,t),e};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.message=Xr.wif=void 0;ca(Ho(),Xr);ca(GN(),Xr);ca(Fo(),Xr);ca(WN(),Xr);Xr.wif=Ure(fx());ca(QN(),Xr);ca(aF(),Xr);ca(hF(),Xr);ca(bF(),Xr);ca(Zx(),Xr);Xr.message=Ure(xF());ca(cb(),Xr);ca(Hre(),Xr);ca(Dre(),Xr);ca(GC(),Xr);ca(e0(),Xr)});export{Go as a};
//# sourceMappingURL=chunk-FTRNZO7O.js.map
