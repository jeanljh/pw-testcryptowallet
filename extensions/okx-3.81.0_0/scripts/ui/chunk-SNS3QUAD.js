import{c as D}from"./chunk-LBF75ZOB.js";import{b as c}from"./chunk-K35GFLBJ.js";import{a}from"./chunk-47LIW52M.js";import{h as w,j as x}from"./chunk-YGMRSF47.js";import{o as E}from"./chunk-Z62JX42S.js";import{Na as T,ea as _}from"./chunk-2QHGKEME.js";import{ac as I,nc as B}from"./chunk-COF7YKSN.js";import{ia as C,l as y,n as k,pa as M,va as O}from"./chunk-XFTQD4B2.js";import{b as v}from"./chunk-73B6GL3S.js";import{f as p,o as u,q as i}from"./chunk-Y5OH3DDZ.js";u();i();var S=p(v()),N=p(T()),h=p(E());O();u();i();var r=p(v());O();var g=()=>{let t=(0,r.useRef)(null);t.current===null&&(t.current=a.get(c.isSmartAccountActivated));let e=(0,r.useCallback)(()=>{a.set(c.isSmartAccountActivated,!0),t.current=!0},[]);return{isSmartAccountActivatedOnce:t.current??!1,markActivated:e}},U=()=>{let{isSmartAccountActivatedOnce:t}=g(),e=(0,r.useRef)(t?!0:null);e.current===null&&!t&&(e.current=a.get(c.isShowSACoachMark));let n=(0,r.useCallback)(()=>{a.set(c.isShowSACoachMark,!0),e.current=!0},[]);return{isShowSACoachMarkOnce:e.current??!1,markShown:n}},z=()=>{let t=(0,r.useRef)(null);t.current===null&&(t.current=a.get(c.displayMaintenanceNotificationList)??[]);let e=(0,r.useCallback)(n=>{!n||(t.current===null&&(t.current=[]),t.current=M([...t.current,...Array.isArray(n)?n:[n]]),a.set(c.displayMaintenanceNotificationList,t.current))},[]);return{displayMaintenanceNotificationList:t.current??[],markDisplayed:e}};B();u();i();var W=",";var b=(t=[],e)=>{let n=D(),{isSmartAccountActivatedOnce:l,markActivated:s}=g(),o=(0,S.useMemo)(()=>t.length?C(t):[],[t]),A=(0,S.useMemo)(()=>o.join(W),[o]);return(0,h.useRequest)(async()=>{if(!o.length)return[];let f=k(o,50).map(L=>n(L,!1)),m=await Promise.all(f);return y(m)},{ready:o.length>0,refreshDeps:[A],cacheKey:`wallet-sa-status-${A}`,staleTime:1*1e3,cacheTime:60*1e3,onSuccess(d){l||d.some(m=>Boolean(m?.teeStatus?.isCreated))&&s()},...e})},rt=(t,e)=>{let n=w(),l=t||n,s=x(l),o=(0,S.useMemo)(()=>s?s.keyringIdentityType===I.MNEMONIC&&s.hasBackup:!1,[s]),{data:A=[],loading:d,run:f}=b([l],e),m=(0,h.useMemoizedFn)(()=>{!l||f()});return{data:A?.[0]??null,isLoading:d,canUseSA:o,refetch:m}},ot=()=>{let t=(0,N.useSelector)(_),e=(0,S.useMemo)(()=>Object.keys(t),[t]);return b(e,{manual:!0})};export{g as a,U as b,z as c,W as d,b as e,rt as f,ot as g};
//# sourceMappingURL=chunk-SNS3QUAD.js.map
