import{H as ge,P as Se,W as G,_ as we,f as _,i as Ve,j as Ye,s as se,u as ie}from"./chunk-FRB44O54.js";import{e as N,n as i,p as a}from"./chunk-RXSWFOXN.js";i();a();var J=N(_());i();a();var Q=N(_()),Le=N(Ve()),c=N(Ye());i();a();var U=N(_());function He({alt:e,store:t,...r},u){let{onLoad:l,onError:m,needSource:d,sourceSrcset:f,requestSrc:s,imgSrcSet:S,imgSrc:p}=t;return p?U.default.createElement(U.default.Fragment,null,d&&U.default.createElement("source",{"data-testid":"okd-image-source-webp-default",srcSet:f}),U.default.createElement("img",{...r,src:p,ref:u,srcSet:S,alt:e,onLoad:o=>{l(o,p,s)},onError:o=>{m(o,p,s)}})):null}var Pe=(0,U.forwardRef)(He);i();a();var H=N(_());i();a();var Xe="x-oss-process=image/",sr=new RegExp(`(${Xe}[^&]+&??)`);var q={cover:"cover",contain:"contain"};q.allAsArray=Object.values(q);var Z={resize:"resize",crop:"crop"},V={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"};i();a();i();a();var ce="x-oss-process=image/",Qe=new RegExp(`(${ce}[^&]+&??)`),Ce="format,webp",ae="/ignore-error,1",ue={resize:"resize",crop:"crop"},Je=e=>e.replace(/\s/g,"%20");function be(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function de(e){return e&&e.startsWith("blob:")}function ee(e){return e.includes(Ce)}function De(e){let{cdnDomainMap:t={}}=ie,r="";return!e.includes(ie.cdnBaseUrl)&&Object.values(t).some(u=>e.includes(u)?(r=u,!0):!1)?e.replace(r,ie.cdnBaseUrl):e}function ve(e){return e.includes(ae)?`${e.replace(ae,"")}${ae}`:`${e}${ae}`}function Ne(e="",t){let r=e;return e.includes(t)?e:(r.indexOf(ce)>-1?r=r.replace(Qe,`$1/${t}`):r.indexOf("?")!==-1?r+=`&${ce}${t}`:r+=`?${ce}${t}`,ve(r))}function z(e,t=!0){let r=e;return r?de(e)?e:(r=De(Je(e)),t?Ne(r,Ce):r):""}var Ke=e=>e[0],Y=(e={},t,r)=>{if(!t)return"";let u=Object.entries(e).map(([l,m])=>m?`${Ke(l)}_${m}`:"").filter(Boolean).join(",");return u?Ne(t,`${r},${u},type_6`):t},he=(e,t)=>e.map(r=>{let{media:u,type:l=ue.resize,src:m,resize:d,crop:f,w:s,h:S,...p}=r,o=l;f&&(o=ue.crop),d&&(o=ue.resize);let h=Y(d||f||{width:s,height:S},m||t,o);return{media:u,src:h,...p}}),me=({srcSetData:e,resize:t,useWebp:r})=>e.map(u=>`${Y(t,z(u.src,r),ue.resize)} ${u.size}`).join(",");function ye({mediaSource:e,isErrorState:t,useWebp:r}){return e.map((u,l)=>{let{media:m,src:d,...f}=u,s=V[m]||m,S=d;return S&&!t?H.default.createElement(H.Fragment,{key:s||l},r&&!ee(S)&&H.default.createElement("source",{"data-testid":"okd-image-source-webp-media",media:s,srcSet:z(S),...f}),H.default.createElement("source",{"data-testid":"okd-image-source-media",media:s,srcSet:S})):null})}i();a();i();a();var X=N(_());function xe(e){let t=(0,X.useRef)(null),[r,u]=(0,X.useState)(!e);return(0,X.useEffect)(()=>{if(!e)return;let{top:l=0,bottom:m=0,right:d=0,left:f=0,...s}=typeof e=="object"?e:{},S=`${l}px ${d}px ${m}px ${f}px`,p,o=!1;t.current&&!r&&(ge.IntersectionObserver?(p=new ge.IntersectionObserver(P=>{P.forEach(w=>{!o&&(w.intersectionRatio>0||w.isIntersecting)&&u(!0)})},{threshold:.01,rootMargin:S,...s}),p.observe(t.current)):u(!0));let h=t.current;return()=>{o=!0,p&&p.unobserve&&h&&(p.unobserve(h),p=null)}},[e]),{imageRef:t,visible:r,lazyload:e}}i();a();var le=N(_());function Ee({store:e,ssrRendered:t}){let{onError:r,onLoad:u,mediaSource:l,loadedImages:m,requestSrc:d}=e,{media:f}=we(),s=(0,le.useRef)(null);return(0,le.useEffect)(()=>{if(t&&s.current){let{complete:S,naturalHeight:p}=s.current,o=l&&l.find(h=>h.media===V[f])?.src||d;S&&!m.current.has(o)&&(p>0?u(s.current,d,o):r(s.current,d,o))}},[]),{imgRef:s}}i();a();var D=N(_());function Ie(e){let{errorImg:t,src:r,onError:u,onLoad:l,mediaData:m,resize:d,useWebp:f,srcSetData:s,lazyload:S}=e,p=he(m,r),o=(0,D.useRef)(new Map),[h,P]=(0,D.useState)(!r),[w,T]=(0,D.useState)(h&&!t),[A,F]=(0,D.useState)(!1),O=(0,D.useMemo)(()=>{let y,b;return s.length>0&&(y=me({srcSetData:s,resize:d,useWebp:!1}),b=me({srcSetData:s,resize:d,useWebp:f})),{imgSrcSet:y,sourceSrcSet:b}},[s,d,f]),C=h&&t,M=(0,D.useMemo)(()=>{let y=C?t:r,b=C?z(y,!1):Y(d,z(y,!1),Z.resize),I=Y(d,z(y,f),Z.resize),W=f&&!ee(b),j=O.sourceSrcSet||I;return{imgSrc:b,sourceSrc:I,requestSrc:W?j:b,needSource:W,sourceSrcset:j}},[O,C,r,d,f,t]);return(0,D.useEffect)(()=>{h&&r&&P(!1),w&&r&&T(!1)},[r]),{onError:(y,b,I)=>{o.current.set(I,{onerror:!0}),P(!0),u(y,b),t?b==t&&T(!0):T(!0)},onLoad:(y,b,I)=>{o.current.set(I,{onload:!0}),S&&F(!0),l(y)},isLoaded:A,isFallbackError:w,isErrorState:C,mediaSource:p,loadedImages:o,...O,...M}}var Re=`${G}-picture`;function B(e){let t=Se.useMergeProps(B.defaultPropsValue,e),{src:r,alt:u,layout:l,lazyload:m,className:d,useWebp:f,placeholder:s,errorImg:S,width:p,height:o,style:h,pictureClassName:P,pictureStyle:w,resize:T,originWidth:A,originHeight:F,mediaData:O,ssrRendered:C,srcSetData:M,getImgRef:k,...K}=t,y=be(r)||de(r)?!1:f,b=Ie({...t,useWebp:y}),{isLoaded:I,isFallbackError:W,isErrorState:j,mediaSource:re}=b,{imgRef:te}=Ee({store:b,ssrRendered:C}),{imageRef:pe,visible:n}=xe(m),v=W||m&&!I&&!n,fe={width:p,height:o,...h};return Q.default.createElement("picture",{className:(0,Le.default)(Se.data.okdNamespace,Re,P,{[`${Re}-font`]:!v}),ref:pe,style:w},n&&!W&&Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(ye,{mediaSource:re,isErrorState:j,useWebp:y}),Q.default.createElement(Pe,{"data-testid":`okd-picture-img-${l||"default"}`,...K,store:b,ref:ne=>{te.current=ne,k?.(ne)},width:A||p,height:F||o,style:fe,className:(0,Le.default)(l&&`${Re}-${l}`,d),alt:u})),v&&s)}B.propTypes={className:c.default.string,pictureClassName:c.default.string,style:c.default.object,pictureStyle:c.default.object,width:c.default.oneOfType([c.default.number,c.default.string]),height:c.default.oneOfType([c.default.number,c.default.string]),src:c.default.string.isRequired,useWebp:c.default.bool,alt:c.default.string.isRequired,layout:c.default.oneOf([q.contain,q.cover]),lazyload:c.default.oneOfType([c.default.bool,c.default.object]),mediaData:c.default.array,srcSetData:c.default.array,resize:c.default.object,errorImg:c.default.string,onError:c.default.func,onLoad:c.default.func,placeholder:c.default.node,originWidth:c.default.number,originHeight:c.default.number,ssrRendered:c.default.bool};B.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1};B.MEDIA=V;B.LAYOUT=q;B.ACTION=Z;var Te=B;i();a();var E=N(_());var Ze=({lottie:e,lottieProps:t={},className:r="",style:u,animationPrefix:l,a11yText:m,a11yDescription:d})=>{let{animationData:f,path:s,loop:S,autoplay:p=!0,initialSegment:o,onComplete:h,onLoopComplete:P,onEnterFrame:w,onSegmentStart:T,onConfigReady:A,onDataReady:F,onDataFailed:O,onLoadedImages:C,onDOMLoaded:M,onDestroy:k,animationRef:K,lottieRef:y,renderer:b,name:I,assetsPath:W,rendererSettings:j,...re}=t,[te,pe]=(0,E.useState)(!1),n=(0,E.useRef)(),v=(0,E.useRef)(null),fe=()=>{n.current?.play()},ne=()=>{n.current?.stop()},Fe=()=>{n.current?.pause()},Me=g=>{n.current?.setSpeed(g)},We=(g,R)=>{n.current?.goToAndPlay(g,R)},_e=(g,R)=>{n.current?.goToAndStop(g,R)},ze=g=>{n.current?.setDirection(g)},ke=(g,R)=>{n.current?.playSegments(g,R)},je=g=>{n.current?.setSubframe(g)},Ge=g=>n.current?.getDuration(g),Ue=()=>{n.current?.destroy(),n.current=void 0},Be=(g={})=>{if(!v.current)return()=>{};n.current?.destroy();let R={...t,...g,container:v.current,loop:S,rendererSettings:{role:"img",expression:!1,...t.rendererSettings}};return n.current=e.loadAnimation(R),()=>{n.current?.destroy(),n.current=void 0}};(0,E.useEffect)(()=>{let g=Be();return()=>g?.()},[f,s,S]),(0,E.useEffect)(()=>{!n.current||(n.current.autoplay=!!p)},[p]),(0,E.useEffect)(()=>{if(!n.current)return;if(!o){n.current.resetSegments(!0);return}if(!Array.isArray(o)||!o.length)return;let[g,R]=o;(n.current.currentRawFrame<g||n.current.currentRawFrame>R)&&(n.current.currentRawFrame=g),n.current.setSegment(g,R)},[o]);let $e=(0,E.useId)();return(0,E.useEffect)(()=>{let R=[{name:"complete",handler:h},{name:"loopComplete",handler:P},{name:"enterFrame",handler:w},{name:"segmentStart",handler:T},{name:"config_ready",handler:A},{name:"data_ready",handler:F},{name:"data_failed",handler:O},{name:"loaded_images",handler:C},{name:"DOMLoaded",handler:()=>{pe(!0),M&&M();let x;if(b==="svg"?x=v.current.querySelector(`.${l}-view svg`):x=v.current.querySelector(`.${l}-view canvas`),m&&x.setAttribute("aria-label",se(m)),x.setAttribute("role","img"),d){let oe=document.createElement("span");oe.id=$e,oe.classList.add(`${G}-a11y-text`),oe.innerText=se(d),v.current.appendChild(oe),x.setAttribute("aria-describedby",se($e))}}},{name:"destroy",handler:k}].filter(x=>x.handler!=null);if(!R.length)return()=>{};let qe=R.map(x=>(n.current?.addEventListener(x.name,x.handler),()=>{n.current?.removeEventListener(x.name,x.handler)}));return()=>{qe.forEach(x=>x())}},[h,P,w,T,A,F,O,C,M,k,s]),{View:E.default.createElement("div",{className:`${l}-view ${r||""}`,style:{visibility:te?"visible":"hidden",...u},ref:v,...re}),play:fe,stop:ne,pause:Fe,setSpeed:Me,goToAndStop:_e,goToAndPlay:We,setDirection:ze,playSegments:ke,setSubframe:je,getDuration:Ge,destroy:Ue,animationContainerRef:v,animationLoaded:te,lottieItem:n.current}},Oe=Ze;i();a();var Ae=`${G}-animation`,er=e=>{let{containerClassName:t="",containerStyle:r={},style:u,className:l,poster:m,posterProps:d={},a11yDescription:f,a11yText:s,lottie:S,...p}=e,{View:o,play:h,stop:P,pause:w,setSpeed:T,goToAndStop:A,goToAndPlay:F,setDirection:O,playSegments:C,setSubframe:M,getDuration:k,destroy:K,animationContainerRef:y,animationLoaded:b,lottieItem:I}=Oe({lottie:S,lottieProps:p,className:l,style:u,animationPrefix:Ae,a11yText:s,a11yDescription:f});(0,J.useEffect)(()=>{e.animationRef&&Object.assign(e.animationRef,{current:{play:h,stop:P,pause:w,setSpeed:T,goToAndPlay:F,goToAndStop:A,setDirection:O,playSegments:C,setSubframe:M,getDuration:k,destroy:K,animationContainerRef:y,animationLoaded:b,lottieItem:I}})},[e.animationRef]),(0,J.useEffect)(()=>{e.lottieRef&&Object.assign(e.lottieRef,{current:{...I}})},[e.lottieRef]);let{pictureClassName:W=""}=d,j=()=>!m||b?null:typeof m=="function"?m():J.default.createElement(Te,{pictureClassName:`${G}-animation-poster ${W}`,src:m,...d});return J.default.createElement("div",{className:`${Ae} ${t}`,style:r},o,j())},yt=er;i();a();var Rt={SVG:"svg",CANVAS:"canvas"},Lt={postive:1,reverse:-1};export{Te as a,yt as b,Rt as c,Lt as d};
//# sourceMappingURL=chunk-CGT546V6.js.map
