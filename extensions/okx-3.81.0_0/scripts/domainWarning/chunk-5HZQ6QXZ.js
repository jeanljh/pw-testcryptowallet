import{a as W_}from"./chunk-P6AC6RZT.js";import{a as cne}from"./chunk-CGXW3VU6.js";import{a as fne}from"./chunk-GQPYV2B4.js";import{a as jc,b as Ro}from"./chunk-VTYX2237.js";import{a as z_,b as Er}from"./chunk-FS6ZFRBV.js";import{a as ck}from"./chunk-XBWYKIZV.js";import{a as rc}from"./chunk-4MQRE4CW.js";import{a as $c,c as _r}from"./chunk-GE2XQOPC.js";import{d as nc}from"./chunk-YHQHHXOO.js";import{A as one,B as ane,M as une,O as hf,c as ui,d as og,f as sne,g as ok,u as ak,w as gp,y as uk,z as G_}from"./chunk-JYR5PKQU.js";import{a as r3,b as rne,c as $,d as nne,g as ine,n as q,o as k,p as A,q as M}from"./chunk-4J7XGGEQ.js";var ha=$(Bh=>{k();M();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.testnet=Bh.regtest=Bh.bitcoin=void 0;Bh.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Bh.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Bh.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var Y_=$(Ch=>{k();M();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.encode=Ch.decode=Ch.check=void 0;function hne(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}Ch.check=hne;function lne(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}Ch.decode=lne;function dne(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=A.Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}Ch.encode=dne});var bp=$(R7=>{k();M();Object.defineProperty(R7,"__esModule",{value:!0});R7.REVERSE_OPS=R7.OPS=void 0;var X_={OP_FALSE:0,OP_0:0,OP_DATA_1:1,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};R7.OPS=X_;var fk={};R7.REVERSE_OPS=fk;for(let t of Object.keys(X_)){let e=X_[t];fk[e]=t}});var lk=$(Mh=>{k();M();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.decode=Mh.encode=Mh.encodingLength=void 0;var kh=bp();function hk(t){return t<kh.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}Mh.encodingLength=hk;function pne(t,e,r){let n=hk(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(kh.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(kh.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(kh.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}Mh.encode=pne;function mne(t,e){let r=t.readUInt8(e),n,i;if(r<kh.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===kh.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===kh.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==kh.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}Mh.decode=mne});var dk=$(N7=>{k();M();Object.defineProperty(N7,"__esModule",{value:!0});N7.encode=N7.decode=void 0;function gne(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&(t[n-1]&127)===0&&(n<=1||(t[n-2]&128)===0))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),o=t.readUInt8(4);return o&128?-((o&-129)*4294967296+s):o*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}N7.decode=gne;function bne(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function yne(t){let e=Math.abs(t),r=bne(e),n=A.Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}N7.encode=yne});var $s=$(lt=>{k();M();Object.defineProperty(lt,"__esModule",{value:!0});lt.oneOf=lt.Null=lt.BufferN=lt.Function=lt.UInt32=lt.UInt8=lt.tuple=lt.maybe=lt.Hex=lt.Buffer=lt.String=lt.Boolean=lt.Array=lt.Number=lt.Hash256bit=lt.Hash160bit=lt.Buffer256bit=lt.isTaptree=lt.isTapleaf=lt.TAPLEAF_VERSION_MASK=lt.Satoshi=lt.Signer=lt.BIP32Path=lt.UInt31=lt.isPoint=lt.typeforce=void 0;var ag=ui(),Xn=_r();Object.defineProperty(lt,"typeforce",{enumerable:!0,get:function(){return Xn.typeforce}});var pk=ag.Buffer.alloc(32,0),mk=ag.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function vne(t){if(!ag.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(pk)===0||r.compare(mk)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(pk)===0||n.compare(mk)>=0?!1:e===4&&t.length===65}lt.isPoint=vne;var _ne=Math.pow(2,31)-1;function xne(t){return Xn.typeforce.UInt32(t)&&t<=_ne}lt.UInt31=xne;function gk(t){return Xn.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}lt.BIP32Path=gk;gk.toJSON=()=>"BIP32 derivation path";function Sne(t){return(Xn.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}lt.Signer=Sne;var wne=21*1e14;function Ene(t){return Xn.typeforce.UInt53(t)&&t<=wne}lt.Satoshi=Ene;lt.TAPLEAF_VERSION_MASK=254;function bk(t){return!t||!("output"in t)||!ag.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&lt.TAPLEAF_VERSION_MASK)===t.version:!0}lt.isTapleaf=bk;function yk(t){return(0,lt.Array)(t)?t.length!==2?!1:t.every(e=>yk(e)):bk(t)}lt.isTaptree=yk;lt.Buffer256bit=Xn.typeforce.BufferN(32);lt.Hash160bit=Xn.typeforce.BufferN(20);lt.Hash256bit=Xn.typeforce.BufferN(32);lt.Number=Xn.typeforce.Number;lt.Array=Xn.typeforce.Array;lt.Boolean=Xn.typeforce.Boolean;lt.String=Xn.typeforce.String;lt.Buffer=Xn.typeforce.Buffer;lt.Hex=Xn.typeforce.Hex;lt.maybe=Xn.typeforce.maybe;lt.tuple=Xn.typeforce.tuple;lt.UInt8=Xn.typeforce.UInt8;lt.UInt32=Xn.typeforce.UInt32;lt.Function=Xn.typeforce.Function;lt.BufferN=Xn.typeforce.BufferN;lt.Null=Xn.typeforce.Null;lt.oneOf=Xn.typeforce.oneOf});var Ek=$(La=>{k();M();var Tne=La&&La.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ane=La&&La.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Sk=La&&La.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tne(e,t,r);return Ane(e,t),e};Object.defineProperty(La,"__esModule",{value:!0});La.encode=La.decode=void 0;var wk=Sk(Y_()),Z_=Sk($s()),{typeforce:Ine}=Z_,vk=A.Buffer.alloc(1,0);function _k(t){let e=0;for(;t[e]===0;)++e;return e===t.length?vk:(t=t.slice(e),t[0]&128?A.Buffer.concat([vk,t],1+t.length):t)}function xk(t){t[0]===0&&(t=t.slice(1));let e=A.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function Pne(t){let e=t.readUInt8(t.length-1),r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=wk.decode(t.slice(0,-1)),i=xk(n.r),s=xk(n.s);return{signature:A.Buffer.concat([i,s],64),hashType:e}}La.decode=Pne;function One(t,e){Ine({signature:Z_.BufferN(64),hashType:Z_.UInt8},{signature:t,hashType:e});let r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=A.Buffer.allocUnsafe(1);n.writeUInt8(e,0);let i=_k(t.slice(0,32)),s=_k(t.slice(32,64));return A.Buffer.concat([wk.encode(i,s),n])}La.encode=One});var wi=$(Dr=>{k();M();var Bne=Dr&&Dr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cne=Dr&&Dr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i3=Dr&&Dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Bne(e,t,r);return Cne(e,t),e};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.signature=Dr.number=Dr.isCanonicalScriptSignature=Dr.isDefinedHashType=Dr.isCanonicalPubKey=Dr.toStack=Dr.fromASM=Dr.toASM=Dr.decompile=Dr.compile=Dr.isPushOnly=Dr.OPS=void 0;var kne=i3(Y_()),No=bp();Object.defineProperty(Dr,"OPS",{enumerable:!0,get:function(){return No.OPS}});var J_=i3(lk()),Tk=i3(dk()),Mne=i3(Ek()),Kc=i3($s()),{typeforce:n3}=Kc,Ak=No.OPS.OP_RESERVED;function Rne(t){return Kc.Number(t)&&(t===No.OPS.OP_0||t>=No.OPS.OP_1&&t<=No.OPS.OP_16||t===No.OPS.OP_1NEGATE)}function Nne(t){return Kc.Buffer(t)||Rne(t)}function Ik(t){return Kc.Array(t)&&t.every(Nne)}Dr.isPushOnly=Ik;function ug(t){if(t.length===0)return No.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return Ak+t[0];if(t[0]===129)return No.OPS.OP_1NEGATE}}function Pk(t){return A.Buffer.isBuffer(t)}function Fne(t){return Kc.Array(t)}function cg(t){return A.Buffer.isBuffer(t)}function Ok(t){if(Pk(t))return t;n3(Kc.Array,t);let e=t.reduce((i,s)=>cg(s)?s.length===1&&ug(s)!==void 0?i+1:i+J_.encodingLength(s.length)+s.length:i+1,0),r=A.Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(cg(i)){let s=ug(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=J_.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}Dr.compile=Ok;function Q_(t){if(Fne(t))return t;n3(Kc.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>No.OPS.OP_0&&n<=No.OPS.OP_PUSHDATA4){let i=J_.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let o=ug(s);o!==void 0?e.push(o):e.push(s)}else e.push(n),r+=1}return e}Dr.decompile=Q_;function Hne(t){return Pk(t)&&(t=Q_(t)),t.map(e=>{if(cg(e)){let r=ug(e);if(r===void 0)return e.toString("hex");e=r}return No.REVERSE_OPS[e]}).join(" ")}Dr.toASM=Hne;function Dne(t){return n3(Kc.String,t),Ok(t.split(" ").map(e=>No.OPS[e]!==void 0?No.OPS[e]:(n3(Kc.Hex,e),A.Buffer.from(e,"hex"))))}Dr.fromASM=Dne;function Une(t){return t=Q_(t),n3(Ik,t),t.map(e=>cg(e)?e:e===No.OPS.OP_0?A.Buffer.allocUnsafe(0):Tk.encode(e-Ak))}Dr.toStack=Une;function Lne(t){return Kc.isPoint(t)}Dr.isCanonicalPubKey=Lne;function Bk(t){let e=t;return e&128&&(e=e&-129),e&64&&(e=e&-65),e>0&&e<4}Dr.isDefinedHashType=Bk;function qne(t){return!A.Buffer.isBuffer(t)||!Bk(t[t.length-1])?!1:kne.check(t.slice(0,-1))}Dr.isCanonicalScriptSignature=qne;Dr.number=Tk;Dr.signature=Mne});var lf=$(F7=>{k();M();Object.defineProperty(F7,"__esModule",{value:!0});F7.value=F7.prop=void 0;function $ne(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}F7.prop=$ne;function jne(t){let e;return()=>(e!==void 0||(e=t()),e)}F7.value=jne});var Rk=$(Vc=>{k();M();var Kne=Vc&&Vc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vne=Vc&&Vc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mk=Vc&&Vc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kne(e,t,r);return Vne(e,t),e};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.p2data=void 0;var Gne=ha(),fg=Mk(wi()),df=$s(),Ck=Mk(lf()),kk=fg.OPS;function zne(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Wne(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,df.typeforce)({network:df.typeforce.maybe(df.typeforce.Object),output:df.typeforce.maybe(df.typeforce.Buffer),data:df.typeforce.maybe(df.typeforce.arrayOf(df.typeforce.Buffer))},t);let n={name:"embed",network:t.network||Gne.bitcoin};if(Ck.prop(n,"output",()=>{if(!!t.data)return fg.compile([kk.OP_RETURN].concat(t.data))}),Ck.prop(n,"data",()=>{if(!!t.output)return fg.decompile(t.output).slice(1)}),e.validate&&t.output){let i=fg.decompile(t.output);if(i[0]!==kk.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(df.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!zne(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}Vc.p2data=Wne});var Hk=$(Gc=>{k();M();var Yne=Gc&&Gc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xne=Gc&&Gc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fk=Gc&&Gc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Yne(e,t,r);return Xne(e,t),e};Object.defineProperty(Gc,"__esModule",{value:!0});Gc.p2ms=void 0;var Zne=ha(),H7=Fk(wi()),Li=$s(),Rh=Fk(lf()),D7=H7.OPS,hg=D7.OP_RESERVED;function Nk(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Jne(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(u){return H7.isCanonicalScriptSignature(u)||(e.allowIncomplete&&u===D7.OP_0)!==void 0}(0,Li.typeforce)({network:Li.typeforce.maybe(Li.typeforce.Object),m:Li.typeforce.maybe(Li.typeforce.Number),n:Li.typeforce.maybe(Li.typeforce.Number),output:Li.typeforce.maybe(Li.typeforce.Buffer),pubkeys:Li.typeforce.maybe(Li.typeforce.arrayOf(Li.isPoint)),signatures:Li.typeforce.maybe(Li.typeforce.arrayOf(r)),input:Li.typeforce.maybe(Li.typeforce.Buffer)},t);let i={network:t.network||Zne.bitcoin},s=[],o=!1;function a(u){o||(o=!0,s=H7.decompile(u),i.m=s[0]-hg,i.n=s[s.length-2]-hg,i.pubkeys=s.slice(1,-2))}if(Rh.prop(i,"output",()=>{if(!!t.m&&!!i.n&&!!t.pubkeys)return H7.compile([].concat(hg+t.m,t.pubkeys,hg+i.n,D7.OP_CHECKMULTISIG))}),Rh.prop(i,"m",()=>{if(!!i.output)return a(i.output),i.m}),Rh.prop(i,"n",()=>{if(!!i.pubkeys)return i.pubkeys.length}),Rh.prop(i,"pubkeys",()=>{if(!!t.output)return a(t.output),i.pubkeys}),Rh.prop(i,"signatures",()=>{if(!!t.input)return H7.decompile(t.input).slice(1)}),Rh.prop(i,"input",()=>{if(!!t.signatures)return H7.compile([D7.OP_0].concat(t.signatures))}),Rh.prop(i,"witness",()=>{if(!!i.input)return[]}),Rh.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(a(t.output),!Li.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!Li.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==D7.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(u=>(0,Li.isPoint)(u)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!Nk(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==D7.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!Nk(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}Gc.p2ms=Jne});var Lk=$(zc=>{k();M();var Qne=zc&&zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eie=zc&&zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uk=zc&&zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Qne(e,t,r);return eie(e,t),e};Object.defineProperty(zc,"__esModule",{value:!0});zc.p2pk=void 0;var tie=ha(),L7=Uk(wi()),ic=$s(),U7=Uk(lf()),Dk=L7.OPS;function rie(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ic.typeforce)({network:ic.typeforce.maybe(ic.typeforce.Object),output:ic.typeforce.maybe(ic.typeforce.Buffer),pubkey:ic.typeforce.maybe(ic.isPoint),signature:ic.typeforce.maybe(L7.isCanonicalScriptSignature),input:ic.typeforce.maybe(ic.typeforce.Buffer)},t);let r=U7.value(()=>L7.decompile(t.input)),i={name:"p2pk",network:t.network||tie.bitcoin};if(U7.prop(i,"output",()=>{if(!!t.pubkey)return L7.compile([t.pubkey,Dk.OP_CHECKSIG])}),U7.prop(i,"pubkey",()=>{if(!!t.output)return t.output.slice(1,-1)}),U7.prop(i,"signature",()=>{if(!!t.input)return r()[0]}),U7.prop(i,"input",()=>{if(!!t.signature)return L7.compile([t.signature])}),U7.prop(i,"witness",()=>{if(!!i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==Dk.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,ic.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!L7.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}zc.p2pk=rie});var _s=$(qa=>{k();M();Object.defineProperty(qa,"__esModule",{value:!0});qa.taggedHash=qa.hash256=qa.hash160=qa.sha256=qa.ripemd160=void 0;var qk=_r();function $k(t){return A.Buffer.from(qk.base.ripemd160(t))}qa.ripemd160=$k;function q7(t){return A.Buffer.from(qk.base.sha256(t))}qa.sha256=q7;function nie(t){return $k(q7(t))}qa.hash160=nie;function iie(t){return q7(q7(t))}qa.hash256=iie;var sie=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],oie=Object.fromEntries(sie.map(t=>{let e=q7(A.Buffer.from(t));return[t,A.Buffer.concat([e,e])]}));function aie(t,e){return q7(A.Buffer.concat([oie[t],e]))}qa.taggedHash=aie});var Kk=$(Wc=>{k();M();var uie=Wc&&Wc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cie=Wc&&Wc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tx=Wc&&Wc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uie(e,t,r);return cie(e,t),e};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.p2pkh=void 0;var ex=tx(_s()),fie=ha(),$7=tx(wi()),oo=$s(),pf=tx(lf()),Nh=$7.OPS,jk=_r();function hie(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,oo.typeforce)({network:oo.typeforce.maybe(oo.typeforce.Object),address:oo.typeforce.maybe(oo.typeforce.String),hash:oo.typeforce.maybe(oo.typeforce.BufferN(20)),output:oo.typeforce.maybe(oo.typeforce.BufferN(25)),pubkey:oo.typeforce.maybe(oo.isPoint),signature:oo.typeforce.maybe($7.isCanonicalScriptSignature),input:oo.typeforce.maybe(oo.typeforce.Buffer)},t);let r=pf.value(()=>{let o=jk.base.fromBase58Check(t.address),a=o.readUInt8(0),u=o.slice(1);return{version:a,hash:u}}),n=pf.value(()=>$7.decompile(t.input)),i=t.network||fie.bitcoin,s={name:"p2pkh",network:i};if(pf.prop(s,"address",()=>{if(!s.hash)return;let o=A.Buffer.allocUnsafe(21);return o.writeUInt8(i.pubKeyHash,0),s.hash.copy(o,1),jk.base.toBase58Check(o)}),pf.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return ex.hash160(t.pubkey||s.pubkey)}),pf.prop(s,"output",()=>{if(!!s.hash)return $7.compile([Nh.OP_DUP,Nh.OP_HASH160,s.hash,Nh.OP_EQUALVERIFY,Nh.OP_CHECKSIG])}),pf.prop(s,"pubkey",()=>{if(!!t.input)return n()[1]}),pf.prop(s,"signature",()=>{if(!!t.input)return n()[0]}),pf.prop(s,"input",()=>{if(!!t.pubkey&&!!t.signature)return $7.compile([t.signature,t.pubkey])}),pf.prop(s,"witness",()=>{if(!!s.input)return[]}),e.validate){let o=A.Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");o=r().hash}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Nh.OP_DUP||t.output[1]!==Nh.OP_HASH160||t.output[2]!==20||t.output[23]!==Nh.OP_EQUALVERIFY||t.output[24]!==Nh.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=t.output.slice(3,23);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.pubkey){let a=ex.hash160(t.pubkey);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!$7.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!(0,oo.isPoint)(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let u=ex.hash160(a[1]);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}Wc.p2pkh=hie});var zk=$(Xc=>{k();M();var lie=Xc&&Xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),die=Xc&&Xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rx=Xc&&Xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lie(e,t,r);return die(e,t),e};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.p2sh=void 0;var Vk=rx(_s()),pie=ha(),mf=rx(wi()),Rn=$s(),Yc=rx(lf()),Gk=_r(),lg=mf.OPS;function mie(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function gie(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Rn.typeforce)({network:Rn.typeforce.maybe(Rn.typeforce.Object),address:Rn.typeforce.maybe(Rn.typeforce.String),hash:Rn.typeforce.maybe(Rn.typeforce.BufferN(20)),output:Rn.typeforce.maybe(Rn.typeforce.BufferN(23)),redeem:Rn.typeforce.maybe({network:Rn.typeforce.maybe(Rn.typeforce.Object),output:Rn.typeforce.maybe(Rn.typeforce.Buffer),input:Rn.typeforce.maybe(Rn.typeforce.Buffer),witness:Rn.typeforce.maybe(Rn.typeforce.arrayOf(Rn.typeforce.Buffer))}),input:Rn.typeforce.maybe(Rn.typeforce.Buffer),witness:Rn.typeforce.maybe(Rn.typeforce.arrayOf(Rn.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||pie.bitcoin);let n={network:r},i=Yc.value(()=>{let a=Gk.base.fromBase58Check(t.address),u=a.readUInt8(0),c=a.slice(1);return{version:u,hash:c}}),s=Yc.value(()=>mf.decompile(t.input)),o=Yc.value(()=>{let a=s();return{network:r,output:a[a.length-1],input:mf.compile(a.slice(0,-1)),witness:t.witness||[]}});if(Yc.prop(n,"address",()=>{if(!n.hash)return;let a=A.Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),Gk.base.toBase58Check(a)}),Yc.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return Vk.hash160(n.redeem.output)}),Yc.prop(n,"output",()=>{if(!!n.hash)return mf.compile([lg.OP_HASH160,n.hash,lg.OP_EQUAL])}),Yc.prop(n,"redeem",()=>{if(!!t.input)return o()}),Yc.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return mf.compile([].concat(mf.decompile(t.redeem.input),t.redeem.output))}),Yc.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Yc.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=A.Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");a=i().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==lg.OP_HASH160||t.output[1]!==20||t.output[22]!==lg.OP_EQUAL)throw new TypeError("Output is invalid");let c=t.output.slice(2,22);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}let u=c=>{if(c.output){let h=mf.decompile(c.output);if(!h||h.length<1)throw new TypeError("Redeem.output too short");let f=Vk.hash160(c.output);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(c.input){let h=c.input.length>0,f=c.witness&&c.witness.length>0;if(!h&&!f)throw new TypeError("Empty input");if(h&&f)throw new TypeError("Input and witness provided");if(h){let p=mf.decompile(c.input);if(!mf.isPushOnly(p))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let c=s();if(!c||c.length<1)throw new TypeError("Input too short");if(!A.Buffer.isBuffer(o().output))throw new TypeError("Input is invalid");u(o())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let c=o();if(t.redeem.output&&!t.redeem.output.equals(c.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(c.input))throw new TypeError("Redeem.input mismatch")}u(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!mie(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}Xc.p2sh=gie});var Yk=$(Zc=>{k();M();var bie=Zc&&Zc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yie=Zc&&Zc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ix=Zc&&Zc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bie(e,t,r);return yie(e,t),e};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.p2wpkh=void 0;var nx=ix(_s()),vie=ha(),pg=ix(wi()),qi=$s(),Fh=ix(lf()),dg=_r(),Wk=pg.OPS,_ie=A.Buffer.alloc(0);function xie(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,qi.typeforce)({address:qi.typeforce.maybe(qi.typeforce.String),hash:qi.typeforce.maybe(qi.typeforce.BufferN(20)),input:qi.typeforce.maybe(qi.typeforce.BufferN(0)),network:qi.typeforce.maybe(qi.typeforce.Object),output:qi.typeforce.maybe(qi.typeforce.BufferN(22)),pubkey:qi.typeforce.maybe(qi.isPoint),signature:qi.typeforce.maybe(pg.isCanonicalScriptSignature),witness:qi.typeforce.maybe(qi.typeforce.arrayOf(qi.typeforce.Buffer))},t);let r=Fh.value(()=>{let s=dg.base.bech32.decode(t.address),o=s.words.shift(),a=dg.base.bech32.fromWords(s.words);return{version:o,prefix:s.prefix,data:A.Buffer.from(a)}}),n=t.network||vie.bitcoin,i={name:"p2wpkh",network:n};if(Fh.prop(i,"address",()=>{if(!i.hash)return;let s=dg.base.bech32.toWords(i.hash);return s.unshift(0),dg.base.bech32.encode(n.bech32,s)}),Fh.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return nx.hash160(t.pubkey||i.pubkey)}),Fh.prop(i,"output",()=>{if(!!i.hash)return pg.compile([Wk.OP_0,i.hash])}),Fh.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(!!t.witness)return t.witness[1]}),Fh.prop(i,"signature",()=>{if(!!t.witness)return t.witness[0]}),Fh.prop(i,"input",()=>{if(!!i.witness)return _ie}),Fh.prop(i,"witness",()=>{if(!!t.pubkey&&!!t.signature)return[t.signature,t.pubkey]}),e.validate){let s=A.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==Wk.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let o=nx.hash160(t.pubkey);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");if(s=o,!(0,qi.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!pg.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,qi.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let o=nx.hash160(t.witness[1]);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}Zc.p2wpkh=xie});var Jk=$(Jc=>{k();M();var Sie=Jc&&Jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wie=Jc&&Jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ox=Jc&&Jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sie(e,t,r);return wie(e,t),e};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.p2wsh=void 0;var Xk=ox(_s()),Eie=ha(),Hh=ox(wi()),Sn=$s(),gf=ox(lf()),mg=_r(),Zk=Hh.OPS,sx=A.Buffer.alloc(0);function Tie(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function gg(t){return!!(A.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&(0,Sn.isPoint)(t))}function Aie(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Sn.typeforce)({network:Sn.typeforce.maybe(Sn.typeforce.Object),address:Sn.typeforce.maybe(Sn.typeforce.String),hash:Sn.typeforce.maybe(Sn.typeforce.BufferN(32)),output:Sn.typeforce.maybe(Sn.typeforce.BufferN(34)),redeem:Sn.typeforce.maybe({input:Sn.typeforce.maybe(Sn.typeforce.Buffer),network:Sn.typeforce.maybe(Sn.typeforce.Object),output:Sn.typeforce.maybe(Sn.typeforce.Buffer),witness:Sn.typeforce.maybe(Sn.typeforce.arrayOf(Sn.typeforce.Buffer))}),input:Sn.typeforce.maybe(Sn.typeforce.BufferN(0)),witness:Sn.typeforce.maybe(Sn.typeforce.arrayOf(Sn.typeforce.Buffer))},t);let r=gf.value(()=>{let o=mg.base.bech32.decode(t.address),a=o.words.shift(),u=mg.base.bech32.fromWords(o.words);return{version:a,prefix:o.prefix,data:A.Buffer.from(u)}}),n=gf.value(()=>Hh.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||Eie.bitcoin);let s={network:i};if(gf.prop(s,"address",()=>{if(!s.hash)return;let o=mg.base.bech32.toWords(s.hash);return o.unshift(0),mg.base.bech32.encode(i.bech32,o)}),gf.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return Xk.sha256(s.redeem.output)}),gf.prop(s,"output",()=>{if(!!s.hash)return Hh.compile([Zk.OP_0,s.hash])}),gf.prop(s,"redeem",()=>{if(!!t.witness)return{output:t.witness[t.witness.length-1],input:sx,witness:t.witness.slice(0,-1)}}),gf.prop(s,"input",()=>{if(!!s.witness)return sx}),gf.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let o=Hh.toStack(n());return s.redeem=Object.assign({witness:o},t.redeem),s.redeem.input=sx,[].concat(o,t.redeem.output)}if(!!t.redeem&&!!t.redeem.output&&!!t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),gf.prop(s,"name",()=>{let o=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&o.push(s.redeem.name),o.join("-")}),e.validate){let o=A.Buffer.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==Zk.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let a=t.output.slice(2);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(Hh.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");let a=Xk.sha256(t.redeem.output);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem.input&&!Hh.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!Tie(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(gg)||t.redeem.output&&(Hh.decompile(t.redeem.output)||[]).some(gg))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(gg)||(Hh.decompile(a)||[]).some(gg))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}Jc.p2wsh=Aie});var tM=$((ax,eM)=>{k();M();var bg=ui(),Qc=bg.Buffer;function Qk(t,e){for(var r in t)e[r]=t[r]}Qc.from&&Qc.alloc&&Qc.allocUnsafe&&Qc.allocUnsafeSlow?eM.exports=bg:(Qk(bg,ax),ax.Buffer=yp);function yp(t,e,r){return Qc(t,e,r)}yp.prototype=Object.create(Qc.prototype);Qk(Qc,yp);yp.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Qc(t,e,r)};yp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Qc(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};yp.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Qc(t)};yp.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return bg.SlowBuffer(t)}});var fx=$((x$e,nM)=>{k();M();var ux=tM().Buffer,Iie=9007199254740991;function cx(t){if(t<0||t>Iie||t%1!==0)throw new RangeError("value out of range")}function s3(t,e,r){if(cx(t),e||(e=ux.allocUnsafe(rM(t))),!ux.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),s3.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),s3.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),s3.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),s3.bytes=9),e}function o3(t,e){if(!ux.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return o3.bytes=1,r;if(r===253)return o3.bytes=3,t.readUInt16LE(e+1);if(r===254)return o3.bytes=5,t.readUInt32LE(e+1);o3.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return cx(s),s}function rM(t){return cx(t),t<253?1:t<=65535?3:t<=4294967295?5:9}nM.exports={encode:s3,decode:o3,encodingLength:rM}});var Dh=$(Zn=>{k();M();var Pie=Zn&&Zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oie=Zn&&Zn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iM=Zn&&Zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pie(e,t,r);return Oie(e,t),e};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.BufferReader=Zn.BufferWriter=Zn.cloneBuffer=Zn.reverseBuffer=Zn.writeUInt64LE=Zn.readUInt64LE=Zn.varuint=void 0;var vp=iM($s()),{typeforce:sM}=vp,a3=iM(fx());Zn.varuint=a3;function oM(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function aM(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,oM(n+r,9007199254740991),n+r}Zn.readUInt64LE=aM;function uM(t,e,r){return oM(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Zn.writeUInt64LE=uM;function Bie(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Zn.reverseBuffer=Bie;function Cie(t){let e=A.Buffer.allocUnsafe(t.length);return t.copy(e),e}Zn.cloneBuffer=Cie;var u3=class{static withCapacity(e){return new u3(A.Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,sM(vp.tuple(vp.Buffer,vp.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=uM(this.buffer,e,this.offset)}writeVarInt(e){a3.encode(e,this.buffer,this.offset),this.offset+=a3.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};Zn.BufferWriter=u3;var hx=class{constructor(e,r=0){this.buffer=e,this.offset=r,sM(vp.tuple(vp.Buffer,vp.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=aM(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=a3.decode(this.buffer,this.offset);return this.offset+=a3.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};Zn.BufferReader=hx});var px=$(e0=>{k();M();Object.defineProperty(e0,"__esModule",{value:!0});e0.encode=e0.decode=e0.encodeRaw=e0.decodeRaw=void 0;var lx=_r();function cM(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}e0.decodeRaw=cM;function dx(t,e,r){let n=A.Buffer.alloc(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}e0.encodeRaw=dx;function kie(t,e){return cM(lx.base.fromBase58Check(t),e)}e0.decode=kie;function Mie(t,e,r){return typeof t=="number"?lx.base.toBase58Check(dx(t,e,r)):lx.base.toBase58Check(dx(t.version,t.privateKey,t.compressed))}e0.encode=Mie});var j7=$(Fo=>{k();M();var Rie=Fo&&Fo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nie=Fo&&Fo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fie=Fo&&Fo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rie(e,t,r);return Nie(e,t),e};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.countAdjustedVsize=Fo.convertScriptSigAsm=Fo.countScriptSigops=void 0;var Hie=bp(),Die=Ho(),fM=_r(),Uie=Fie(Do());function c3(t,e=!1,r=!1){if(!t?.length)return 0;let n=0;if(n+=t.match(/OP_CHECKSIG/g)?.length||0,e)n+=20*(t.match(/OP_CHECKMULTISIG/g)?.length||0);else{let i=t.matchAll(/(?:OP_(?:PUSHNUM_)?(\d+))? OP_CHECKMULTISIG/g);for(let s of i){let o=parseInt(s[1]);Number.isInteger(o)?n+=o:n+=20}}return r?n:n*4}Fo.countScriptSigops=c3;function f3(t){if(t?.length==0)return"";let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>=1&&n<=78){r++;let i;n===76?(i=t.readUInt8(r),e.push("OP_PUSHDATA1"),r+=1):n===77?(i=t.readUInt16LE(r),e.push("OP_PUSHDATA2"),r+=2):n===78?(i=t.readUInt32LE(r),e.push("OP_PUSHDATA4"),r+=4):(i=n,e.push("OP_PUSHBYTES_"+i));let s=t.slice(r,r+i);if(s.length!==i)break;e.push(s.toString("hex")),r+=s.length}else{if(n===0)e.push("OP_0");else if(n===79)e.push("OP_PUSHNUM_NEG1");else if(n===177)e.push("OP_CLTV");else if(n===178)e.push("OP_CSV");else if(n===186)e.push("OP_CHECKSIGADD");else{let i=Hie.REVERSE_OPS[n];i&&n<253?/^OP_(\d+)$/.test(i)?e.push(i.replace(/^OP_(\d+)$/,"OP_PUSHNUM_$1")):e.push(i):e.push("OP_RETURN_"+n)}r+=1}}return e.join(" ")}Fo.convertScriptSigAsm=f3;function Lie(t,e,r){if(t==null)return 0;r==null&&(r=Uie.networks.bitcoin);let n=0;(e!=null||null)&&e.length==t.ins.length&&t.ins.forEach((s,o)=>{if(s.script!=null&&(n+=c3(f3(s.script),!0)),e.length<=o||e[o]==null||null||e[o]=="")return;let a=(0,Die.getAddressType)(e[o],r);switch(!0){case(a==="segwit_nested"&&s.witness?.length===2&&s.script&&fM.base.toHex(s.script).startsWith("160014")):case a==="segwit_native":n+=1;break;case(a==="segwit_nested"&&s.witness?.length&&s.script&&fM.base.toHex(s.script).startsWith("220020")):case a==="segwit_native":s.witness?.length&&(n+=c3(f3(s.witness[s.witness.length-1]),!1,!0));break;case a==="segwit_nested":s.script&&(n+=c3(f3(s.script)));break}});for(let s of t.outs)s&&(n+=c3(f3(s.script),!0));let i=t.virtualSize();return i>n*5?i:n*5}Fo.countAdjustedVsize=Lie});var Ho=$(zt=>{k();M();var qie=zt&&zt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$ie=zt&&zt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l3=zt&&zt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qie(e,t,r);return $ie(e,t),e};Object.defineProperty(zt,"__esModule",{value:!0});zt.fakeSign=zt.estimateBchFee=zt.estimateBtcFee=zt.ValidSignedTransaction=zt.getMPCTransaction=zt.calculateBchTxSize=zt.calculateTxSize=zt.signBch=zt.getAddressType=zt.signBtc=zt.TxBuild=zt.private2Wif=zt.wif2Public=zt.sign=zt.private2public=zt.privateKeyFromWIF=zt.Array=void 0;var xr=l3(Do()),lM=Do(),h3=$c(),ft=_r(),dM=l3(px()),hM=K7(),pM=l3(_s()),mM=l3(t0()),bf=l3(wi()),Uh=bp(),jie=j7(),gM=h3.signUtil.schnorr.secp256k1.schnorr;zt.Array=ft.typeforce.Array;function mx(t,e){let r=dM.decode(t),n=r.version;if((0,zt.Array)(e)){if(e=e.filter(i=>n===i.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||xr.networks.bitcoin,n!==e.wif)throw new Error("Invalid network version");return ft.base.toHex(r.privateKey)}zt.privateKeyFromWIF=mx;function gx(t){return h3.signUtil.secp256k1.publicKeyCreate(ft.base.fromHex(t),!0)}zt.private2public=gx;function yg(t,e){let{signature:r}=h3.signUtil.secp256k1.sign(t,ft.base.fromHex(e));return A.Buffer.from(r)}zt.sign=yg;function Kie(t,e){let r=mx(t,e);return gx(r)}zt.wif2Public=Kie;function d3(t,e){return e=e||xr.networks.bitcoin,dM.encode(e.wif,t,!0)}zt.private2Wif=d3;var _p=class{constructor(e,r,n,i,s){this.tx=new xr.Transaction,this.network=xr.networks.bitcoin,e?this.tx.version=e:this.tx.version=2,r&&(this.network=r),this.inputs=[],this.outputs=[],this.bitcoinCash=n||!1,this.hardware=i||!1,this.fakeKey=s||!1}addInput(e,r,n,i,s,o,a,u){this.inputs.push({txId:e,index:r,privateKey:n,address:i,script:s,value:o,publicKey:a,sequence:u})}addOutput(e,r,n){this.outputs.push({address:e,value:r,omniScript:n})}build(e){let r=[];for(let n of this.inputs){let i=ft.base.reverseBuffer(A.Buffer.from(n.txId,"hex"));this.tx.addInput(i,n.index,n.sequence),n.privateKey?r.push(mx(n.privateKey,this.network)):r.push("")}for(let n of this.outputs)if(n.omniScript)this.tx.addOutput(ft.base.fromHex(n.omniScript),0);else{let i=xr.address.toOutputScript(n.address,this.network);this.tx.addOutput(i,n.value)}if(this.hardware)return this.tx.toHex();for(let n=0;n<r.length;n++){let i=r[n],s;i?s=gx(i):this.hardware||(s=ft.base.fromHex(this.inputs[n].publicKey));let o,a=xr.Transaction.SIGHASH_ALL;if(this.bitcoinCash){let u=xr.payments.p2pkh({pubkey:s}).output;a=xr.Transaction.SIGHASH_ALL|xr.Transaction.SIGHASH_BITCOINCASHBIP143;let c=this.inputs[n].value||0;o=this.tx.hashForCashSignature(n,u,c,a);let h;e?(e.push(ft.base.toHex(o)),h=A.Buffer.alloc(64,0)):h=yg(o,i);let f=xr.payments.p2pkh({output:u,pubkey:s,signature:xr.script.signature.encode(h,a)});f.input&&(this.tx.ins[n].script=f.input)}else{let u=bM(this.inputs[n].address,this.network);if(this.fakeKey){let{witness:c,script:h}=yM(u);c!==void 0&&(this.tx.ins[n].witness=c),h!==void 0&&(this.tx.ins[n].script=h);continue}if(u==="legacy"){let c=xr.payments.p2pkh({pubkey:s}).output;o=this.tx.hashForSignature(n,c,a);let h;e?(e.push(ft.base.toHex(o)),h=A.Buffer.alloc(64,0)):h=yg(o,i);let f=xr.payments.p2pkh({output:c,pubkey:s,signature:xr.script.signature.encode(h,a)});f.input&&(this.tx.ins[n].script=f.input)}else if(u==="segwit_taproot"){let c=this.inputs.map(p=>xr.address.toOutputScript(p.address,this.network)),h=this.inputs.map(p=>p.value);o=this.tx.hashForWitnessV1(n,c,h,xr.Transaction.SIGHASH_DEFAULT);let f;if(e)e.push(ft.base.toHex(o)),f=A.Buffer.alloc(64,0);else{let p=mM.taprootTweakPrivKey(ft.base.fromHex(i));f=A.Buffer.from(gM.sign(o,p,ft.base.randomBytes(32)))}this.tx.ins[n].witness=[A.Buffer.from(f)]}else{let c=pM.hash160(s),h=A.Buffer.of(25,118,169,20,...c,136,172),f=this.inputs[n].value||0;o=this.tx.hashForWitness(n,h,f,a);let p;e?(e.push(ft.base.toHex(o)),p=A.Buffer.alloc(64,0)):p=yg(o,i),this.tx.ins[n].witness=[],this.tx.ins[n].witness.push(xr.script.signature.encode(p,a)),this.tx.ins[n].witness.push(s);let l=A.Buffer.of(22,0,20,...c);u!=="segwit_native"&&(this.tx.ins[n].script=l)}}}return this.tx.toHex()}virtualSize(){return(0,jie.countAdjustedVsize)(this.tx,this.inputs.map(e=>e.address),this.network||xr.networks.bitcoin)}};zt.TxBuild=_p;function Vie(t,e,r,n,i,s){let o=t.inputs,a=t.outputs,u=t.address,c=t.feePerB||10,h=t.dustSize||546;if(r=r||xr.networks.bitcoin,t.memo&&(ft.base.isHexString(t.memo)?ft.base.fromHex(t.memo):A.Buffer.from(ft.base.toUtf8(t.memo))).length>80)throw new Error("data after op_return is  too long");let f=e;if(f||(f=d3(ft.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r)),s){let{inputAmount:F,outputAmount:B,virtualSize:E}=vg(o,a,u,f,r,h,!1,t.memo,t.memoPos);return(F-B-Math.ceil(E*c)).toString()}let{inputAmount:p,outputAmount:l,virtualSize:y}=vg(o,a,u,f,r,h,!1,t.memo,t.memoPos),_=p-l-Math.ceil(y*c),O=new _p(2,r,!1,i);for(let F=0;F<o.length;F++){let B=o[F],E=B.privateKey||e,I=B.address||u;O.addInput(B.txId,B.vOut,E,I,B.reedScript,B.amount,B.publicKey,B.sequence)}t.memo&&t.memoPos==0&&O.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(t.memo)?ft.base.fromHex(t.memo):A.Buffer.from(ft.base.toUtf8(t.memo))))));for(let F=0;F<a.length;F++){let B=a[F];O.addOutput(B.address,B.amount,B.omniScript),t.memo&&t.memoPos&&O.outputs.length==t.memoPos&&O.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(t.memo)?ft.base.fromHex(t.memo):A.Buffer.from(ft.base.toUtf8(t.memo))))))}return _>h&&(O.addOutput(u,_),t.memo&&t.memoPos&&O.outputs.length==t.memoPos&&O.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(t.memo)?ft.base.fromHex(t.memo):A.Buffer.from(ft.base.toUtf8(t.memo))))))),t.memo&&(t.memoPos==null||t.memoPos<0||t.memoPos>O.outputs.length)&&O.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(t.memo)?ft.base.fromHex(t.memo):A.Buffer.from(ft.base.toUtf8(t.memo)))))),O.build(n)}zt.signBtc=Vie;function bM(t,e){let r,n;try{r=(0,hM.fromBase58Check)(t)}catch{}if(r){if(r.version===e.pubKeyHash)return"legacy";if(r.version===e.scriptHash)return"segwit_nested"}else{try{n=(0,hM.fromBech32)(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0)return"segwit_native";if(n.version===1)return"segwit_taproot"}}return"legacy"}zt.getAddressType=bM;function Gie(t,e,r,n,i){let s=t.inputs,o=t.outputs,a=t.address,u=t.feePerB||10,c=t.dustSize||546;r=r||xr.networks.bitcoin;let h=e;h||(h=d3(ft.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r));let{inputAmount:f,outputAmount:p,virtualSize:l}=bx(s,o,a,h,r,c),y=f-p-l*u,_=new _p(2,r,!0,i);for(let O=0;O<s.length;O++){let F=s[O];_.addInput(F.txId,F.vOut,e,a,void 0,F.amount,F.publicKey,F.sequence)}for(let O=0;O<o.length;O++){let F=o[O];_.addOutput(F.address,F.amount)}return y>c&&_.addOutput(a,y),_.build(n)}zt.signBch=Gie;function vg(t,e,r,n,i,s,o,a,u){let c=new _p(2,i,!1,o,!0),h=0;for(let y=0;y<t.length;y++){let _=t[y],O=_.privateKey||n,F=_.address||r;c.addInput(_.txId,_.vOut,O,F,_.reedScript,_.amount,_.publicKey,_.sequence),h=h+(_.amount||0)}a&&u==0&&c.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(a)?ft.base.fromHex(a):A.Buffer.from(ft.base.toUtf8(a))))));let f=0;for(let y=0;y<e.length;y++){let _=e[y];c.addOutput(_.address,_.amount,_.omniScript),f=f+_.amount,a&&u&&c.outputs.length==u&&c.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(a)?ft.base.fromHex(a):A.Buffer.from(ft.base.toUtf8(a))))))}h-f>s&&(c.addOutput(r,h-f),a&&u&&c.outputs.length==u&&c.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(a)?ft.base.fromHex(a):A.Buffer.from(ft.base.toUtf8(a))))))),a&&(u==null||u<0||u>c.outputs.length)&&c.addOutput("",0,ft.base.toHex(bf.compile([Uh.OPS.OP_RETURN].concat(ft.base.isHexString(a)?ft.base.fromHex(a):A.Buffer.from(ft.base.toUtf8(a))))));let p=c.build(),l=c.virtualSize();return{inputAmount:h,outputAmount:f,virtualSize:l,txHex:p}}zt.calculateTxSize=vg;function bx(t,e,r,n,i,s,o){let a=new _p(2,i,!0,o),u=0;for(let p=0;p<t.length;p++){let l=t[p];a.addInput(l.txId,l.vOut,n,r,void 0,l.amount,l.publicKey,l.sequence),u=u+(l.amount||0)}let c=0;for(let p=0;p<e.length;p++){let l=e[p];a.addOutput(l.address,l.amount),c=c+l.amount}u-c>s&&a.addOutput(r,u-c);let h=a.build(),f=a.tx.virtualSize();return{inputAmount:u,outputAmount:c,virtualSize:f,txHex:h}}zt.calculateBchTxSize=bx;function zie(t,e,r){let n=lM.Transaction.fromBuffer(ft.base.fromHex(t),!1);for(let i=0;i<n.ins.length;i++){let s=n.ins[i],o=ft.base.fromHex(e[i]),a=xr.Transaction.SIGHASH_ALL;if(r){a=xr.Transaction.SIGHASH_ALL|xr.Transaction.SIGHASH_BITCOINCASHBIP143;let u=xr.payments.p2pkh({input:s.script}),c=xr.payments.p2pkh({pubkey:u.pubkey,signature:xr.script.signature.encode(o,a)});c.input&&(s.script=c.input)}else{let u;if(s.witness.length===2)u="segwit_native";else if(s.witness.length===1)u="segwit_taproot";else if(s.witness.length===0)u="legacy";else throw Error("unknown witness length");if(u==="legacy"){let c=xr.payments.p2pkh({input:s.script}),h=xr.payments.p2pkh({pubkey:c.pubkey,signature:xr.script.signature.encode(o,a)});h.input&&(s.script=h.input)}else u==="segwit_taproot"?s.witness=[o]:s.witness[0]=xr.script.signature.encode(o,a)}}return n.toHex()}zt.getMPCTransaction=zie;function Wie(t,e,r){let n=lM.Transaction.fromBuffer(ft.base.fromHex(t),!1);if(!e)return n;for(let i=0;i<n.ins.length;i++){let s=n.ins[i],o=e[i],a;if(s.witness.length===2)a="segwit_native";else if(s.witness.length===1)a="segwit_taproot";else if(s.witness.length===0)a="legacy";else throw Error("unknown witness length");if(a==="legacy"){let u=bf.decompile(s.script),c=u[0],h=u[1],f=xr.script.signature.decode(c),p=xr.address.toOutputScript(o.address,r),l=n.hashForSignature(i,p,f.hashType);if(!h3.signUtil.secp256k1.verifyWithNoRecovery(l,f.signature,h))throw Error("signature error")}else if(a==="segwit_native"){let u=s.witness[0],c=s.witness[1],h=xr.script.signature.decode(u),f=A.Buffer.of(25,118,169,20,...pM.hash160(c),136,172),p=n.hashForWitness(i,f,o.value,h.hashType);if(!h3.signUtil.secp256k1.verifyWithNoRecovery(p,h.signature,c))throw Error("signature error")}else{let u=s.witness[0],c=e.map(l=>xr.address.toOutputScript(l.address,r)),h=e.map(l=>l.value),f=n.hashForWitnessV1(i,c,h,xr.Transaction.SIGHASH_DEFAULT),p=mM.taprootTweakPubkey(ft.base.fromHex(o.publicKey).slice(1))[0];if(!gM.verify(ft.base.toHex(u),ft.base.toHex(f),ft.base.toHex(p)))throw Error("signature error")}}for(let i of n.ins)i.hash=ft.base.reverseBuffer(i.hash);return n}zt.ValidSignedTransaction=Wie;function Yie(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||xr.networks.bitcoin;let o=d3(ft.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:a}=vg(r,n,t.address,o,e,s,!1,t.memo);return Math.ceil(a*i)}zt.estimateBtcFee=Yie;function Xie(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||xr.networks.bitcoin;let o=d3(ft.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:a}=bx(r,n,t.address,o,e,s);return a*i}zt.estimateBchFee=Xie;function yM(t){let e,r;return t==="segwit_taproot"?e=[A.Buffer.alloc(64)]:t==="legacy"?r=A.Buffer.alloc(107):(e=[A.Buffer.alloc(72),A.Buffer.alloc(33)],t==="segwit_nested"&&(r=A.Buffer.alloc(23))),{witness:e,script:r}}zt.fakeSign=yM});var t0=$(Lh=>{k();M();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.taprootSignSighash=Lh.taprootTweakPubkey=Lh.taprootTweakPrivKey=void 0;var Zie=$c(),vM=_r(),Jie=Ho(),vx=Zie.signUtil.schnorr.secp256k1,_g=vx.schnorr,_M=vx.secp256k1.ProjectivePoint,yx=vx.secp256k1.CURVE.n;function xM(t,e){let r=_g.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=yx)throw new Error("tweak higher than curve order");return i}function SM(t,e=new Uint8Array){let r=_g.utils,n=r.bytesToNumberBE(t),i=_M.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,yx),o=r.pointToBytes(i),a=xM(o,e);return r.numberToBytesBE(r.mod(s+a,yx),32)}Lh.taprootTweakPrivKey=SM;function Qie(t,e){e||(e=new Uint8Array);let r=_g.utils,n=xM(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(_M.fromPrivateKey(n)),o=s.hasEvenY()?0:1;return[r.pointToBytes(s),o]}Lh.taprootTweakPubkey=Qie;function ese(t,e,r){let n=SM(vM.base.fromHex((0,Jie.privateKeyFromWIF)(t)));return e.map(s=>{let o=A.Buffer.from(_g.sign(s,n,r));return vM.base.toHex(o)})}Lh.taprootSignSighash=ese});var xg=$(wn=>{k();M();var tse=wn&&wn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rse=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nse=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tse(e,t,r);return rse(e,t),e};Object.defineProperty(wn,"__esModule",{value:!0});wn.tweakKey=wn.tapTweakHash=wn.tapleafHash=wn.findScriptPath=wn.toHashTree=wn.rootHashFromPath=wn.MAX_TAPTREE_DEPTH=wn.LEAF_VERSION_TAPSCRIPT=void 0;var qh=ui(),wx=nse(_s()),wM=Dh(),ise=$s(),sse=t0();wn.LEAF_VERSION_TAPSCRIPT=192;wn.MAX_TAPTREE_DEPTH=128;var ose=t=>"left"in t&&"right"in t;function ase(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=Sx(n,s):n=Sx(s,n)}return n}wn.rootHashFromPath=ase;function _x(t){if((0,ise.isTapleaf)(t))return{hash:EM(t)};let e=[_x(t[0]),_x(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:Sx(r.hash,n.hash),left:r,right:n}}wn.toHashTree=_x;function xx(t,e){if(ose(t)){let r=xx(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=xx(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}wn.findScriptPath=xx;function EM(t){let e=t.version||wn.LEAF_VERSION_TAPSCRIPT;return wx.taggedHash("TapLeaf",qh.Buffer.concat([qh.Buffer.from([e]),fse(t.output)]))}wn.tapleafHash=EM;function use(t,e){return wx.taggedHash("TapTweak",qh.Buffer.concat(e?[t,e]:[t]))}wn.tapTweakHash=use;function cse(t,e){if(!qh.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=(0,sse.taprootTweakPubkey)(t,e);return{parity:r[1],x:qh.Buffer.from(r[0])}}wn.tweakKey=cse;function Sx(t,e){return wx.taggedHash("TapBranch",qh.Buffer.concat([t,e]))}function fse(t){let e=wM.varuint.encodingLength(t.length),r=qh.Buffer.allocUnsafe(e);return wM.varuint.encode(t.length,r),qh.Buffer.concat([r,t])}});var PM=$(r0=>{k();M();var hse=r0&&r0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lse=r0&&r0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IM=r0&&r0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hse(e,t,r);return lse(e,t),e};Object.defineProperty(r0,"__esModule",{value:!0});r0.p2tr=void 0;var Sg=ui(),dse=ha(),Ex=IM(wi()),Nr=$s(),Uo=xg(),$a=IM(lf()),wg=_r(),TM=Ex.OPS,AM=1,pse=80;function mse(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Nr.typeforce)({address:Nr.typeforce.maybe(Nr.typeforce.String),input:Nr.typeforce.maybe(Nr.typeforce.BufferN(0)),network:Nr.typeforce.maybe(Nr.typeforce.Object),output:Nr.typeforce.maybe(Nr.typeforce.BufferN(34)),internalPubkey:Nr.typeforce.maybe(Nr.typeforce.BufferN(32)),hash:Nr.typeforce.maybe(Nr.typeforce.BufferN(32)),pubkey:Nr.typeforce.maybe(Nr.typeforce.BufferN(32)),witness:Nr.typeforce.maybe(Nr.typeforce.arrayOf(Nr.typeforce.Buffer)),scriptTree:Nr.typeforce.maybe(Nr.isTaptree),redeem:Nr.typeforce.maybe({output:Nr.typeforce.maybe(Nr.typeforce.Buffer),redeemVersion:Nr.typeforce.maybe(Nr.typeforce.Number),witness:Nr.typeforce.maybe(Nr.typeforce.arrayOf(Nr.typeforce.Buffer))}),redeemVersion:Nr.typeforce.maybe(Nr.typeforce.Number)},t);let r=$a.value(()=>{let a=wg.base.bech32m.decode(t.address),u=a.words.shift(),c=wg.base.bech32m.fromWords(a.words);return{version:u,prefix:a.prefix,data:Sg.Buffer.from(c)}}),n=$a.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===pse?t.witness.slice(0,-1):t.witness.slice()}),i=$a.value(()=>{if(t.scriptTree)return(0,Uo.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||dse.bitcoin,o={name:"p2tr",network:s};if($a.prop(o,"address",()=>{if(!o.pubkey)return;let a=wg.base.bech32m.toWords(o.pubkey);return a.unshift(AM),wg.base.bech32m.encode(s.bech32,a)}),$a.prop(o,"hash",()=>{let a=i();if(a)return a.hash;let u=n();if(u&&u.length>1){let c=u[u.length-1],h=c[0]&Nr.TAPLEAF_VERSION_MASK,f=u[u.length-2],p=(0,Uo.tapleafHash)({output:f,version:h});return(0,Uo.rootHashFromPath)(c,p)}return null}),$a.prop(o,"output",()=>{if(!!o.pubkey)return Ex.compile([TM.OP_1,o.pubkey])}),$a.prop(o,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Uo.LEAF_VERSION_TAPSCRIPT),$a.prop(o,"redeem",()=>{let a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&Nr.TAPLEAF_VERSION_MASK}}),$a.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.internalPubkey){let a=(0,Uo.tweakKey)(o.internalPubkey,o.hash);if(a)return a.x}}),$a.prop(o,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),$a.prop(o,"signature",()=>{if(t.signature)return t.signature;let a=n();if(!(!a||a.length!==1))return a[0]}),$a.prop(o,"witness",()=>{if(t.witness)return t.witness;let a=i();if(a&&t.redeem&&t.redeem.output&&t.internalPubkey){let u=(0,Uo.tapleafHash)({output:t.redeem.output,version:o.redeemVersion}),c=(0,Uo.findScriptPath)(a,u);if(!c)return;let h=(0,Uo.tweakKey)(t.internalPubkey,a.hash);if(!h)return;let f=Sg.Buffer.concat([Sg.Buffer.from([o.redeemVersion|h.parity]),t.internalPubkey].concat(c));return[t.redeem.output,f]}if(t.signature)return[t.signature]}),e.validate){let a=Sg.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==AM)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.pubkey){if(a.length>0&&!a.equals(t.pubkey))throw new TypeError("Pubkey mismatch");a=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==TM.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");a=t.output.slice(2)}if(t.internalPubkey){let h=(0,Uo.tweakKey)(t.internalPubkey,o.hash);if(a.length>0&&!a.equals(h.x))throw new TypeError("Pubkey mismatch");a=h.x}if(a&&a.length&&a.length!==32)throw new TypeError("Invalid pubkey for p2tr");let u=i();if(t.hash&&u&&!t.hash.equals(u.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&u){let h=(0,Uo.tapleafHash)({output:t.redeem.output,version:o.redeemVersion});if(!(0,Uo.findScriptPath)(u,h))throw new TypeError("Redeem script not in tree")}let c=n();if(t.redeem&&o.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==o.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(Ex.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(o.redeem.output&&!t.redeem.output.equals(o.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&o.redeem.witness&&!gse(t.redeem.witness,o.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(c.length===1){if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{let h=c[c.length-1];if(h.length<33)throw new TypeError(`The control-block length is too small. Got ${h.length}, expected min 33.`);if((h.length-33)%32!==0)throw new TypeError(`The control-block length of ${h.length} is incorrect!`);let f=(h.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);let p=h.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(p))throw new TypeError("Internal pubkey mismatch");if(p.length!==32)throw new TypeError("Invalid internalPubkey for p2tr witness");let l=h[0]&Nr.TAPLEAF_VERSION_MASK,y=c[c.length-2],_=(0,Uo.tapleafHash)({output:y,version:l}),O=(0,Uo.rootHashFromPath)(h,_),F=(0,Uo.tweakKey)(p,O);if(!F)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&!a.equals(F.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(F.parity!==(h[0]&1))throw new Error("Incorrect parity")}}return Object.assign(o,t)}r0.p2tr=mse;function gse(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var $h=$(ts=>{k();M();Object.defineProperty(ts,"__esModule",{value:!0});ts.p2tr=ts.p2wsh=ts.p2wpkh=ts.p2sh=ts.p2pkh=ts.p2pk=ts.p2ms=ts.embed=void 0;var bse=Rk();Object.defineProperty(ts,"embed",{enumerable:!0,get:function(){return bse.p2data}});var yse=Hk();Object.defineProperty(ts,"p2ms",{enumerable:!0,get:function(){return yse.p2ms}});var vse=Lk();Object.defineProperty(ts,"p2pk",{enumerable:!0,get:function(){return vse.p2pk}});var _se=Kk();Object.defineProperty(ts,"p2pkh",{enumerable:!0,get:function(){return _se.p2pkh}});var xse=zk();Object.defineProperty(ts,"p2sh",{enumerable:!0,get:function(){return xse.p2sh}});var Sse=Yk();Object.defineProperty(ts,"p2wpkh",{enumerable:!0,get:function(){return Sse.p2wpkh}});var wse=Jk();Object.defineProperty(ts,"p2wsh",{enumerable:!0,get:function(){return wse.p2wsh}});var Ese=PM();Object.defineProperty(ts,"p2tr",{enumerable:!0,get:function(){return Ese.p2tr}})});var K7=$(Ei=>{k();M();var Tse=Ei&&Ei.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ase=Ei&&Ei.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tg=Ei&&Ei.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tse(e,t,r);return Ase(e,t),e};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.toOutputScript=Ei.fromOutputScript=Ei.toBech32=Ei.toBase58Check=Ei.fromBech32=Ei.fromBase58Check=void 0;var OM=Tg(ha()),n0=Tg($h()),BM=Tg(wi()),Eg=Tg($s()),jh=_r(),{typeforce:Ise}=Eg,CM=40,kM=2,MM=16,RM=2,NM=80,FM="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Pse(t,e){let r=t.slice(2);if(r.length<kM||r.length>CM)throw new TypeError("Invalid program length for segwit address");let n=t[0]-NM;if(n<RM||n>MM)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(FM),UM(r,n,e.bech32)}function HM(t){let e=jh.base.fromBase58Check(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Ei.fromBase58Check=HM;function DM(t){let e,r;try{e=jh.base.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=jh.base.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=jh.base.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:A.Buffer.from(n)}}Ei.fromBech32=DM;function Ose(t,e){Ise(Eg.tuple(Eg.Hash160bit,Eg.UInt8),arguments);let r=A.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),jh.base.toBase58Check(r)}Ei.toBase58Check=Ose;function UM(t,e,r){let n=jh.base.bech32.toWords(t);return n.unshift(e),e===0?jh.base.bech32.encode(r,n):jh.base.bech32m.encode(r,n)}Ei.toBech32=UM;function Bse(t,e){e=e||OM.bitcoin;try{return n0.p2pkh({output:t,network:e}).address}catch{}try{return n0.p2sh({output:t,network:e}).address}catch{}try{return n0.p2wpkh({output:t,network:e}).address}catch{}try{return n0.p2wsh({output:t,network:e}).address}catch{}try{return n0.p2tr({output:t,network:e}).address}catch{}try{return Pse(t,e)}catch{}throw new Error(BM.toASM(t)+" has no matching Address")}Ei.fromOutputScript=Bse;function Cse(t,e){e=e||OM.bitcoin;let r,n;try{r=HM(t)}catch{}if(r){if(r.version===e.pubKeyHash)return n0.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return n0.p2sh({hash:r.hash}).output}else{try{n=DM(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return n0.p2wpkh({hash:n.data}).output;if(n.data.length===32)return n0.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return n0.p2tr({pubkey:n.data}).output}else if(n.version>=RM&&n.version<=MM&&n.data.length>=kM&&n.data.length<=CM)return console.warn(FM),BM.compile([n.version+NM,n.data])}}throw new Error(t+" has no matching Script")}Ei.toOutputScript=Cse});var Vh=$(qo=>{k();M();var kse=qo&&qo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mse=qo&&qo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tx=qo&&qo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kse(e,t,r);return Mse(e,t),e};Object.defineProperty(qo,"__esModule",{value:!0});qo.Transaction=qo.vectorSize=qo.varSliceSize=void 0;var En=Dh(),Ti=Tx(_s()),LM=Tx(wi()),Rse=wi(),mr=Tx($s()),{typeforce:sc}=mr;function Lo(t){let e=t.length;return En.varuint.encodingLength(e)+e}qo.varSliceSize=Lo;function jM(t){let e=t.length;return En.varuint.encodingLength(e)+t.reduce((r,n)=>r+Lo(n),0)}qo.vectorSize=jM;var Kh=A.Buffer.allocUnsafe(0),qM=[],V7=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),$M=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Nse=A.Buffer.from("ffffffffffffffff","hex"),Fse={script:Kh,valueBuffer:Nse};function Hse(t){return t.value!==void 0}var St=class{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new En.BufferReader(e),i=new St;i.version=n.readInt32();let s=n.readUInt8(),o=n.readUInt8(),a=!1;s===St.ADVANCED_TRANSACTION_MARKER&&o===St.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let u=n.readVarInt();for(let h=0;h<u;++h)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:qM});let c=n.readVarInt();for(let h=0;h<c;++h)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let h=0;h<u;++h)i.ins[h].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return St.fromBuffer(A.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){sc(mr.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&St.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return sc(mr.tuple(mr.Hash256bit,mr.UInt32,mr.maybe(mr.UInt32),mr.maybe(mr.Buffer)),arguments),mr.Null(n)&&(n=St.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Kh,sequence:n,witness:qM})-1}addOutput(e,r){return sc(mr.tuple(mr.Buffer,mr.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}dogeByteLength(){let e=26+this.ins.reduce((r,n)=>{let i=40+Lo(n.script);return r+32+4+i},0)+this.outs.reduce((r,n)=>r+9+n.script.length,0);return Math.ceil(e)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+En.varuint.encodingLength(this.ins.length)+En.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Lo(i.script),0)+this.outs.reduce((n,i)=>n+8+Lo(i.script),0)+(r?this.ins.reduce((n,i)=>n+jM(i.witness),0):0)}clone(){let e=new St;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(sc(mr.tuple(mr.UInt32,mr.Buffer,mr.Number),arguments),e>=this.ins.length)return $M;let i=LM.compile(LM.decompile(r).filter(a=>a!==Rse.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===St.SIGHASH_NONE)s.outs=[],s.ins.forEach((a,u)=>{u!==e&&(a.sequence=0)});else if((n&31)===St.SIGHASH_SINGLE){if(e>=this.outs.length)return $M;s.outs.length=e+1;for(let a=0;a<e;a++)s.outs[a]=Fse;s.ins.forEach((a,u)=>{u!==e&&(a.sequence=0)})}n&St.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(a=>{a.script=Kh}),s.ins[e].script=i);let o=A.Buffer.allocUnsafe(s.byteLength(!1)+4);return o.writeInt32LE(n,o.length-4),s.__toBuffer(o,0,!1),Ti.hash256(o)}hashForCashSignature(e,r,n,i){if(i&St.SIGHASH_BITCOINCASHBIP143){if(mr.Null(n))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(e,r,n,i)}else return this.hashForSignature(e,r,i)}hashForWitnessV1(e,r,n,i,s,o){if(sc(mr.tuple(mr.UInt32,sc.arrayOf(mr.Buffer),sc.arrayOf(mr.Satoshi),mr.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let a=i===St.SIGHASH_DEFAULT?St.SIGHASH_ALL:i&St.SIGHASH_OUTPUT_MASK,c=(i&St.SIGHASH_INPUT_MASK)===St.SIGHASH_ANYONECANPAY,h=a===St.SIGHASH_NONE,f=a===St.SIGHASH_SINGLE,p=Kh,l=Kh,y=Kh,_=Kh,O=Kh;if(!c){let I=En.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(U=>{I.writeSlice(U.hash),I.writeUInt32(U.index)}),p=Ti.sha256(I.end()),I=En.BufferWriter.withCapacity(8*this.ins.length),n.forEach(U=>I.writeUInt64(U)),l=Ti.sha256(I.end()),I=En.BufferWriter.withCapacity(r.map(Lo).reduce((U,N)=>U+N)),r.forEach(U=>I.writeVarSlice(U)),y=Ti.sha256(I.end()),I=En.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(U=>I.writeUInt32(U.sequence)),_=Ti.sha256(I.end())}if(h||f){if(f&&e<this.outs.length){let I=this.outs[e],U=En.BufferWriter.withCapacity(8+Lo(I.script));U.writeUInt64(I.value),U.writeVarSlice(I.script),O=Ti.sha256(U.end())}}else{let I=this.outs.map(N=>8+Lo(N.script)).reduce((N,H)=>N+H),U=En.BufferWriter.withCapacity(I);this.outs.forEach(N=>{U.writeUInt64(N.value),U.writeVarSlice(N.script)}),O=Ti.sha256(U.end())}let F=(s?2:0)+(o?1:0),B=174-(c?49:0)-(h?32:0)+(o?32:0)+(s?37:0),E=En.BufferWriter.withCapacity(B);if(E.writeUInt8(i),E.writeInt32(this.version),E.writeUInt32(this.locktime),E.writeSlice(p),E.writeSlice(l),E.writeSlice(y),E.writeSlice(_),h||f||E.writeSlice(O),E.writeUInt8(F),c){let I=this.ins[e];E.writeSlice(I.hash),E.writeUInt32(I.index),E.writeUInt64(n[e]),E.writeVarSlice(r[e]),E.writeUInt32(I.sequence)}else E.writeUInt32(e);if(o){let I=En.BufferWriter.withCapacity(Lo(o));I.writeVarSlice(o),E.writeSlice(Ti.sha256(I.end()))}return f&&E.writeSlice(O),s&&(E.writeSlice(s),E.writeUInt8(0),E.writeUInt32(4294967295)),Ti.taggedHash("TapSighash",A.Buffer.concat([A.Buffer.of(0),E.end()]))}hashForWitnessV0(e,r,n,i){sc(mr.tuple(mr.UInt32,mr.Buffer,mr.Satoshi,mr.UInt32),arguments);let s=A.Buffer.from([]),o,a=V7,u=V7,c=V7;if(i&St.SIGHASH_ANYONECANPAY||(s=A.Buffer.allocUnsafe(36*this.ins.length),o=new En.BufferWriter(s,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),u=Ti.hash256(s)),!(i&St.SIGHASH_ANYONECANPAY)&&(i&31)!==St.SIGHASH_SINGLE&&(i&31)!==St.SIGHASH_NONE&&(s=A.Buffer.allocUnsafe(4*this.ins.length),o=new En.BufferWriter(s,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),c=Ti.hash256(s)),(i&31)!==St.SIGHASH_SINGLE&&(i&31)!==St.SIGHASH_NONE){let f=this.outs.reduce((p,l)=>p+8+Lo(l.script),0);s=A.Buffer.allocUnsafe(f),o=new En.BufferWriter(s,0),this.outs.forEach(p=>{o.writeUInt64(p.value),o.writeVarSlice(p.script)}),a=Ti.hash256(s)}else if((i&31)===St.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];s=A.Buffer.allocUnsafe(8+Lo(f.script)),o=new En.BufferWriter(s,0),o.writeUInt64(f.value),o.writeVarSlice(f.script),a=Ti.hash256(s)}s=A.Buffer.allocUnsafe(156+Lo(r)),o=new En.BufferWriter(s,0);let h=this.ins[e];return o.writeInt32(this.version),o.writeSlice(u),o.writeSlice(c),o.writeSlice(h.hash),o.writeUInt32(h.index),o.writeVarSlice(r),o.writeUInt64(n),o.writeUInt32(h.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),Ti.hash256(s)}getHash(e){return e&&this.isCoinbase()?A.Buffer.alloc(32,0):Ti.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,En.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){sc(mr.tuple(mr.Number,mr.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){sc(mr.tuple(mr.Number,[mr.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=A.Buffer.allocUnsafe(this.byteLength(n)));let i=new En.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(St.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(St.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(o=>{i.writeSlice(o.hash),i.writeUInt32(o.index),i.writeVarSlice(o.script),i.writeUInt32(o.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(o=>{Hse(o)?i.writeUInt64(o.value):i.writeSlice(o.valueBuffer),i.writeVarSlice(o.script)}),s&&this.ins.forEach(o=>{i.writeVector(o.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}hashForWitness(e,r,n,i){sc(mr.tuple(mr.UInt32,mr.Buffer,mr.Satoshi,mr.UInt32),arguments);let s=A.Buffer.from([]),o,a=V7,u=V7,c=V7;if(i&St.SIGHASH_ANYONECANPAY||(s=A.Buffer.allocUnsafe(36*this.ins.length),o=new En.BufferWriter(s,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),u=Ti.hash256(s)),!(i&St.SIGHASH_ANYONECANPAY)&&(i&31)!==St.SIGHASH_SINGLE&&(i&31)!==St.SIGHASH_NONE&&(s=A.Buffer.allocUnsafe(4*this.ins.length),o=new En.BufferWriter(s,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),c=Ti.hash256(s)),(i&31)!==St.SIGHASH_SINGLE&&(i&31)!==St.SIGHASH_NONE){let f=this.outs.reduce((p,l)=>p+8+Lo(l.script),0);s=A.Buffer.allocUnsafe(f),o=new En.BufferWriter(s,0),this.outs.forEach(p=>{o.writeUInt64(p.value),o.writeVarSlice(p.script)}),a=Ti.hash256(s)}else if((i&31)===St.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];s=A.Buffer.allocUnsafe(8+Lo(f.script)),o=new En.BufferWriter(s,0),o.writeUInt64(f.value),o.writeVarSlice(f.script),a=Ti.hash256(s)}s=A.Buffer.allocUnsafe(156+r.length),o=new En.BufferWriter(s,0);let h=this.ins[e];return o.writeInt32(this.version),o.writeSlice(u),o.writeSlice(c),o.writeSlice(h.hash),o.writeUInt32(h.index),o.writeSlice(r),o.writeUInt64(n),o.writeUInt32(h.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),Ti.hash256(s)}};qo.Transaction=St;St.DEFAULT_SEQUENCE=4294967295;St.SIGHASH_DEFAULT=0;St.SIGHASH_ALL=1;St.SIGHASH_NONE=2;St.SIGHASH_SINGLE=3;St.SIGHASH_ANYONECANPAY=128;St.SIGHASH_OUTPUT_MASK=3;St.SIGHASH_INPUT_MASK=128;St.SIGHASH_BITCOINCASHBIP143=64;St.ADVANCED_TRANSACTION_MARKER=0;St.ADVANCED_TRANSACTION_FLAG=1});var rs=$(xs=>{k();M();Object.defineProperty(xs,"__esModule",{value:!0});xs.OUTPUT_TYPE_NAMES=xs.OutputTypes=xs.INPUT_TYPE_NAMES=xs.InputTypes=xs.GLOBAL_TYPE_NAMES=xs.GlobalTypes=void 0;var Dse;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Dse=xs.GlobalTypes||(xs.GlobalTypes={}));xs.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Use;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Use=xs.InputTypes||(xs.InputTypes={}));xs.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var Lse;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(Lse=xs.OutputTypes||(xs.OutputTypes={}));xs.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var VM=$(ja=>{k();M();Object.defineProperty(ja,"__esModule",{value:!0});ja.canAddToArray=ja.check=ja.expected=ja.encode=ja.decode=void 0;var KM=rs(),qse=t=>[...Array(t).keys()];function $se(t){if(t.key[0]!==KM.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of qse(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),o=i&2147483647;r.path+="/"+o.toString(10)+(s?"'":"")}return r}ja.decode=$se;function jse(t){let e=A.Buffer.from([KM.GlobalTypes.GLOBAL_XPUB]),r=A.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=A.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(o=>{let a=o.slice(-1)==="'",u=2147483647&parseInt(a?o.slice(0,-1):o,10);a&&(u+=2147483648),i.writeUInt32LE(u,s),s+=4}),{key:r,value:i}}ja.encode=jse;ja.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Kse(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return A.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&A.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}ja.check=Kse;function Vse(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}ja.canAddToArray=Vse});var GM=$(Ag=>{k();M();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.encode=void 0;var Gse=rs();function zse(t){return{key:A.Buffer.from([Gse.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}Ag.encode=zse});var WM=$(Ka=>{k();M();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.canAdd=Ka.check=Ka.expected=Ka.encode=Ka.decode=void 0;var zM=rs();function Wse(t){if(t.key[0]!==zM.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}Ka.decode=Wse;function Yse(t){return{key:A.Buffer.from([zM.InputTypes.FINAL_SCRIPTSIG]),value:t}}Ka.encode=Yse;Ka.expected="Buffer";function Xse(t){return A.Buffer.isBuffer(t)}Ka.check=Xse;function Zse(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}Ka.canAdd=Zse});var XM=$(Va=>{k();M();Object.defineProperty(Va,"__esModule",{value:!0});Va.canAdd=Va.check=Va.expected=Va.encode=Va.decode=void 0;var YM=rs();function Jse(t){if(t.key[0]!==YM.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}Va.decode=Jse;function Qse(t){return{key:A.Buffer.from([YM.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}Va.encode=Qse;Va.expected="Buffer";function eoe(t){return A.Buffer.isBuffer(t)}Va.check=eoe;function toe(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}Va.canAdd=toe});var JM=$(Ga=>{k();M();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.canAdd=Ga.check=Ga.expected=Ga.encode=Ga.decode=void 0;var ZM=rs();function roe(t){if(t.key[0]!==ZM.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}Ga.decode=roe;function noe(t){return{key:A.Buffer.from([ZM.InputTypes.NON_WITNESS_UTXO]),value:t}}Ga.encode=noe;Ga.expected="Buffer";function ioe(t){return A.Buffer.isBuffer(t)}Ga.check=ioe;function soe(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}Ga.canAdd=soe});var eR=$(za=>{k();M();Object.defineProperty(za,"__esModule",{value:!0});za.canAddToArray=za.check=za.expected=za.encode=za.decode=void 0;var QM=rs();function ooe(t){if(t.key[0]!==QM.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}za.decode=ooe;function aoe(t){let e=A.Buffer.from([QM.InputTypes.PARTIAL_SIG]);return{key:A.Buffer.concat([e,t.pubkey]),value:t.signature}}za.encode=aoe;za.expected="{ pubkey: Buffer; signature: Buffer; }";function uoe(t){return A.Buffer.isBuffer(t.pubkey)&&A.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&coe(t.signature)}za.check=uoe;function coe(t){if(!A.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function foe(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}za.canAddToArray=foe});var rR=$(Wa=>{k();M();Object.defineProperty(Wa,"__esModule",{value:!0});Wa.canAdd=Wa.check=Wa.expected=Wa.encode=Wa.decode=void 0;var tR=rs();function hoe(t){if(t.key[0]!==tR.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}Wa.decode=hoe;function loe(t){return{key:A.Buffer.from([tR.InputTypes.POR_COMMITMENT]),value:A.Buffer.from(t,"utf8")}}Wa.encode=loe;Wa.expected="string";function doe(t){return typeof t=="string"}Wa.check=doe;function poe(t,e){return!!t&&!!e&&t.porCommitment===void 0}Wa.canAdd=poe});var iR=$(Ya=>{k();M();Object.defineProperty(Ya,"__esModule",{value:!0});Ya.canAdd=Ya.check=Ya.expected=Ya.encode=Ya.decode=void 0;var nR=rs();function moe(t){if(t.key[0]!==nR.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}Ya.decode=moe;function goe(t){let e=A.Buffer.from([nR.InputTypes.SIGHASH_TYPE]),r=A.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}Ya.encode=goe;Ya.expected="number";function boe(t){return typeof t=="number"}Ya.check=boe;function yoe(t,e){return!!t&&!!e&&t.sighashType===void 0}Ya.canAdd=yoe});var aR=$(Xa=>{k();M();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.canAdd=Xa.check=Xa.expected=Xa.encode=Xa.decode=void 0;var sR=rs();function voe(t){if(t.key[0]!==sR.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!oR(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}Xa.decode=voe;function _oe(t){return{key:A.Buffer.from([sR.InputTypes.TAP_KEY_SIG]),value:t}}Xa.encode=_oe;Xa.expected="Buffer";function oR(t){return A.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}Xa.check=oR;function xoe(t,e){return!!t&&!!e&&t.tapKeySig===void 0}Xa.canAdd=xoe});var cR=$(Za=>{k();M();Object.defineProperty(Za,"__esModule",{value:!0});Za.canAddToArray=Za.check=Za.expected=Za.encode=Za.decode=void 0;var uR=rs();function Soe(t){if(t.key[0]!==uR.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Za.decode=Soe;function woe(t){let e=A.Buffer.from([uR.InputTypes.TAP_LEAF_SCRIPT]),r=A.Buffer.from([t.leafVersion]);return{key:A.Buffer.concat([e,t.controlBlock]),value:A.Buffer.concat([t.script,r])}}Za.encode=woe;Za.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Eoe(t){return A.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&A.Buffer.isBuffer(t.script)}Za.check=Eoe;function Toe(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}Za.canAddToArray=Toe});var lR=$(Ja=>{k();M();Object.defineProperty(Ja,"__esModule",{value:!0});Ja.canAdd=Ja.check=Ja.expected=Ja.encode=Ja.decode=void 0;var fR=rs();function Aoe(t){if(t.key[0]!==fR.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!hR(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}Ja.decode=Aoe;function Ioe(t){return{key:A.Buffer.from([fR.InputTypes.TAP_MERKLE_ROOT]),value:t}}Ja.encode=Ioe;Ja.expected="Buffer";function hR(t){return A.Buffer.isBuffer(t)&&t.length===32}Ja.check=hR;function Poe(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}Ja.canAdd=Poe});var pR=$(Qa=>{k();M();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.canAddToArray=Qa.check=Qa.expected=Qa.encode=Qa.decode=void 0;var dR=rs();function Ooe(t){if(t.key[0]!==dR.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}Qa.decode=Ooe;function Boe(t){let e=A.Buffer.from([dR.InputTypes.TAP_SCRIPT_SIG]);return{key:A.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}Qa.encode=Boe;Qa.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Coe(t){return A.Buffer.isBuffer(t.pubkey)&&A.Buffer.isBuffer(t.leafHash)&&A.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}Qa.check=Coe;function koe(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}Qa.canAddToArray=koe});var zh=$(Gh=>{k();M();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.encodingLength=Gh.decode=Gh.encode=void 0;var Moe=9007199254740991;function Ax(t){if(t<0||t>Moe||t%1!==0)throw new RangeError("value out of range")}function p3(t,e,r){if(Ax(t),e||(e=A.Buffer.allocUnsafe(mR(t))),!A.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(p3,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(p3,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(p3,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(p3,{bytes:9})),e}Gh.encode=p3;function m3(t,e){if(!A.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(m3,{bytes:1}),r;if(r===253)return Object.assign(m3,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(m3,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(m3,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return Ax(s),s}}Gh.decode=m3;function mR(t){return Ax(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Gh.encodingLength=mR});var Pg=$(Ai=>{k();M();var Roe=Ai&&Ai.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Noe=Ai&&Ai.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Foe=Ai&&Ai.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Roe(e,t,r);return Noe(e,t),e};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.writeUInt64LE=Ai.readUInt64LE=Ai.keyValToBuffer=Ai.keyValsToBuffer=Ai.reverseBuffer=Ai.range=void 0;var Ig=Foe(zh()),Hoe=t=>[...Array(t).keys()];Ai.range=Hoe;function Doe(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Ai.reverseBuffer=Doe;function Uoe(t){let e=t.map(gR);return e.push(A.Buffer.from([0])),A.Buffer.concat(e)}Ai.keyValsToBuffer=Uoe;function gR(t){let e=t.key.length,r=t.value.length,n=Ig.encodingLength(e),i=Ig.encodingLength(r),s=A.Buffer.allocUnsafe(n+e+i+r);return Ig.encode(e,s,0),t.key.copy(s,n),Ig.encode(r,s,n+e),t.value.copy(s,n+e+i),s}Ai.keyValToBuffer=gR;function bR(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function Loe(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,bR(n+r,9007199254740991),n+r}Ai.readUInt64LE=Loe;function qoe(t,e,r){return bR(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Ai.writeUInt64LE=qoe});var _R=$(ns=>{k();M();var $oe=ns&&ns.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),joe=ns&&ns.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Koe=ns&&ns.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$oe(e,t,r);return joe(e,t),e};Object.defineProperty(ns,"__esModule",{value:!0});ns.canAdd=ns.check=ns.expected=ns.encode=ns.decode=void 0;var yR=rs(),vR=Pg(),Og=Koe(zh());function Voe(t){if(t.key[0]!==yR.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=(0,vR.readUInt64LE)(t.value,0),r=8,n=Og.decode(t.value,r);r+=Og.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}ns.decode=Voe;function Goe(t){let{script:e,value:r}=t,n=Og.encodingLength(e.length),i=A.Buffer.allocUnsafe(8+n+e.length);return(0,vR.writeUInt64LE)(i,r,0),Og.encode(e.length,i,8),e.copy(i,8+n),{key:A.Buffer.from([yR.InputTypes.WITNESS_UTXO]),value:i}}ns.encode=Goe;ns.expected="{ script: Buffer; value: number; }";function zoe(t){return A.Buffer.isBuffer(t.script)&&typeof t.value=="number"}ns.check=zoe;function Woe(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}ns.canAdd=Woe});var SR=$(is=>{k();M();var Yoe=is&&is.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xoe=is&&is.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zoe=is&&is.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Yoe(e,t,r);return Xoe(e,t),e};Object.defineProperty(is,"__esModule",{value:!0});is.canAdd=is.check=is.expected=is.encode=is.decode=void 0;var xR=rs(),Ix=Zoe(zh());function Joe(t){if(t.key[0]!==xR.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=Ix.decode(t.value,e);e+=Ix.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}is.decode=Joe;function Qoe(t){let e=A.Buffer.from([xR.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[A.Buffer.of(n.depth,n.leafVersion),Ix.encode(n.script.length),n.script]));return{key:e,value:A.Buffer.concat(r)}}is.encode=Qoe;is.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function eae(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&A.Buffer.isBuffer(e.script))}is.check=eae;function tae(t,e){return!!t&&!!e&&t.tapTree===void 0}is.canAdd=tae});var Px=$(Bg=>{k();M();Object.defineProperty(Bg,"__esModule",{value:!0});Bg.makeConverter=void 0;var rae=t=>[...Array(t).keys()],nae=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function iae(t,e=nae){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let u=a.key.slice(1);if(!e(u))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let c={masterFingerprint:a.value.slice(0,4),pubkey:u,path:"m"};for(let h of rae(a.value.length/4-1)){let f=a.value.readUInt32LE(h*4+4),p=!!(f&2147483648),l=f&2147483647;c.path+="/"+l.toString(10)+(p?"'":"")}return c}function n(a){let u=A.Buffer.from([t]),c=A.Buffer.concat([u,a.pubkey]),h=a.path.split("/"),f=A.Buffer.allocUnsafe(h.length*4);a.masterFingerprint.copy(f,0);let p=4;return h.slice(1).forEach(l=>{let y=l.slice(-1)==="'",_=2147483647&parseInt(y?l.slice(0,-1):l,10);y&&(_+=2147483648),f.writeUInt32LE(_,p),p+=4}),{key:c,value:f}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(a){return A.Buffer.isBuffer(a.pubkey)&&A.Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function o(a,u,c){let h=u.pubkey.toString("hex");return c.has(h)?!1:(c.add(h),a.filter(f=>f.pubkey.equals(u.pubkey)).length===0)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:o}}Bg.makeConverter=iae});var wR=$(Cg=>{k();M();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.makeChecker=void 0;function sae(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}Cg.makeChecker=sae});var ER=$(kg=>{k();M();Object.defineProperty(kg,"__esModule",{value:!0});kg.makeConverter=void 0;function oae(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:A.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return A.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}kg.makeConverter=oae});var AR=$(i0=>{k();M();var aae=i0&&i0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uae=i0&&i0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TR=i0&&i0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aae(e,t,r);return uae(e,t),e};Object.defineProperty(i0,"__esModule",{value:!0});i0.makeConverter=void 0;var Mg=TR(zh()),cae=TR(Px()),fae=t=>t.length===32;function hae(t){let e=cae.makeConverter(t,fae);function r(o){let a=Mg.decode(o.value),u=Mg.encodingLength(a),c=e.decode({key:o.key,value:o.value.slice(u+a*32)}),h=new Array(a);for(let f=0,p=u;f<a;f++,p+=32)h[f]=o.value.slice(p,p+32);return{...c,leafHashes:h}}function n(o){let a=e.encode(o),u=Mg.encodingLength(o.leafHashes.length),c=A.Buffer.allocUnsafe(u);Mg.encode(o.leafHashes.length,c);let h=A.Buffer.concat([c,...o.leafHashes,a.value]);return{...a,value:h}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(o){return Array.isArray(o.leafHashes)&&o.leafHashes.every(a=>A.Buffer.isBuffer(a)&&a.length===32)&&e.check(o)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}i0.makeConverter=hae});var IR=$(Rg=>{k();M();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.makeConverter=void 0;function lae(t){function e(o){if(o.key[0]!==t||o.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+o.key.toString("hex"));if(o.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return o.value}function r(o){return{key:A.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return A.Buffer.isBuffer(o)&&o.length===32}function s(o,a){return!!o&&!!a&&o.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Rg.makeConverter=lae});var PR=$(Ng=>{k();M();Object.defineProperty(Ng,"__esModule",{value:!0});Ng.makeConverter=void 0;function dae(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:A.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return A.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Ng.makeConverter=dae});var Fg=$($o=>{k();M();var pae=$o&&$o.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mae=$o&&$o.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ii=$o&&$o.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pae(e,t,r);return mae(e,t),e};Object.defineProperty($o,"__esModule",{value:!0});$o.outputs=$o.inputs=$o.globals=void 0;var la=rs(),gae=Ii(VM()),bae=Ii(GM()),yae=Ii(WM()),vae=Ii(XM()),_ae=Ii(JM()),xae=Ii(eR()),Sae=Ii(rR()),wae=Ii(iR()),Eae=Ii(aR()),Tae=Ii(cR()),Aae=Ii(lR()),Iae=Ii(pR()),Pae=Ii(_R()),Oae=Ii(SR()),OR=Ii(Px()),Ox=Ii(wR()),BR=Ii(ER()),CR=Ii(AR()),kR=Ii(IR()),MR=Ii(PR()),Bae={unsignedTx:bae,globalXpub:gae,checkPubkey:Ox.makeChecker([])};$o.globals=Bae;var Cae={nonWitnessUtxo:_ae,partialSig:xae,sighashType:wae,finalScriptSig:yae,finalScriptWitness:vae,porCommitment:Sae,witnessUtxo:Pae,bip32Derivation:OR.makeConverter(la.InputTypes.BIP32_DERIVATION),redeemScript:BR.makeConverter(la.InputTypes.REDEEM_SCRIPT),witnessScript:MR.makeConverter(la.InputTypes.WITNESS_SCRIPT),checkPubkey:Ox.makeChecker([la.InputTypes.PARTIAL_SIG,la.InputTypes.BIP32_DERIVATION]),tapKeySig:Eae,tapScriptSig:Iae,tapLeafScript:Tae,tapBip32Derivation:CR.makeConverter(la.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:kR.makeConverter(la.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:Aae};$o.inputs=Cae;var kae={bip32Derivation:OR.makeConverter(la.OutputTypes.BIP32_DERIVATION),redeemScript:BR.makeConverter(la.OutputTypes.REDEEM_SCRIPT),witnessScript:MR.makeConverter(la.OutputTypes.WITNESS_SCRIPT),checkPubkey:Ox.makeChecker([la.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:CR.makeConverter(la.OutputTypes.TAP_BIP32_DERIVATION),tapTree:Oae,tapInternalKey:kR.makeConverter(la.OutputTypes.TAP_INTERNAL_KEY)};$o.outputs=kae});var HR=$(jo=>{k();M();var Mae=jo&&jo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rae=jo&&jo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NR=jo&&jo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mae(e,t,r);return Rae(e,t),e};Object.defineProperty(jo,"__esModule",{value:!0});jo.psbtFromKeyVals=jo.checkKeyBuffer=jo.psbtFromBuffer=void 0;var Tn=NR(Fg()),Hg=Pg(),RR=NR(zh()),tr=rs();function Nae(t,e){let r=0;function n(){let O=RR.decode(t,r);r+=RR.encodingLength(O);let F=t.slice(r,r+O);return r+=O,F}function i(){let O=t.readUInt32BE(r);return r+=4,O}function s(){let O=t.readUInt8(r);return r+=1,O}function o(){let O=n(),F=n();return{key:O,value:F}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let O=t.readUInt8(r)===0;return O&&r++,O}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let u=[],c={};for(;!a();){let O=o(),F=O.key.toString("hex");if(c[F])throw new Error("Format Error: Keys must be unique for global keymap: key "+F);c[F]=1,u.push(O)}let h=u.filter(O=>O.key[0]===tr.GlobalTypes.UNSIGNED_TX);if(h.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let f=e(h[0].value),{inputCount:p,outputCount:l}=f.getInputOutputCounts(),y=[],_=[];for(let O of(0,Hg.range)(p)){let F={},B=[];for(;!a();){let E=o(),I=E.key.toString("hex");if(F[I])throw new Error("Format Error: Keys must be unique for each input: input index "+O+" key "+I);F[I]=1,B.push(E)}y.push(B)}for(let O of(0,Hg.range)(l)){let F={},B=[];for(;!a();){let E=o(),I=E.key.toString("hex");if(F[I])throw new Error("Format Error: Keys must be unique for each output: output index "+O+" key "+I);F[I]=1,B.push(E)}_.push(B)}return FR(f,{globalMapKeyVals:u,inputKeyVals:y,outputKeyVals:_})}jo.psbtFromBuffer=Nae;function Ss(t,e,r){if(!e.equals(A.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}jo.checkKeyBuffer=Ss;function FR(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let h of e)switch(h.key[0]){case tr.GlobalTypes.UNSIGNED_TX:if(Ss("global",h.key,tr.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case tr.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(Tn.globals.globalXpub.decode(h));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(h)}let o=r.length,a=n.length,u=[],c=[];for(let h of(0,Hg.range)(o)){let f={};for(let p of r[h])switch(Tn.inputs.checkPubkey(p),p.key[0]){case tr.InputTypes.NON_WITNESS_UTXO:if(Ss("input",p.key,tr.InputTypes.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=Tn.inputs.nonWitnessUtxo.decode(p);break;case tr.InputTypes.WITNESS_UTXO:if(Ss("input",p.key,tr.InputTypes.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=Tn.inputs.witnessUtxo.decode(p);break;case tr.InputTypes.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(Tn.inputs.partialSig.decode(p));break;case tr.InputTypes.SIGHASH_TYPE:if(Ss("input",p.key,tr.InputTypes.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=Tn.inputs.sighashType.decode(p);break;case tr.InputTypes.REDEEM_SCRIPT:if(Ss("input",p.key,tr.InputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=Tn.inputs.redeemScript.decode(p);break;case tr.InputTypes.WITNESS_SCRIPT:if(Ss("input",p.key,tr.InputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=Tn.inputs.witnessScript.decode(p);break;case tr.InputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Tn.inputs.bip32Derivation.decode(p));break;case tr.InputTypes.FINAL_SCRIPTSIG:Ss("input",p.key,tr.InputTypes.FINAL_SCRIPTSIG),f.finalScriptSig=Tn.inputs.finalScriptSig.decode(p);break;case tr.InputTypes.FINAL_SCRIPTWITNESS:Ss("input",p.key,tr.InputTypes.FINAL_SCRIPTWITNESS),f.finalScriptWitness=Tn.inputs.finalScriptWitness.decode(p);break;case tr.InputTypes.POR_COMMITMENT:Ss("input",p.key,tr.InputTypes.POR_COMMITMENT),f.porCommitment=Tn.inputs.porCommitment.decode(p);break;case tr.InputTypes.TAP_KEY_SIG:Ss("input",p.key,tr.InputTypes.TAP_KEY_SIG),f.tapKeySig=Tn.inputs.tapKeySig.decode(p);break;case tr.InputTypes.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(Tn.inputs.tapScriptSig.decode(p));break;case tr.InputTypes.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(Tn.inputs.tapLeafScript.decode(p));break;case tr.InputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Tn.inputs.tapBip32Derivation.decode(p));break;case tr.InputTypes.TAP_INTERNAL_KEY:Ss("input",p.key,tr.InputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Tn.inputs.tapInternalKey.decode(p);break;case tr.InputTypes.TAP_MERKLE_ROOT:Ss("input",p.key,tr.InputTypes.TAP_MERKLE_ROOT),f.tapMerkleRoot=Tn.inputs.tapMerkleRoot.decode(p);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}u.push(f)}for(let h of(0,Hg.range)(a)){let f={};for(let p of n[h])switch(Tn.outputs.checkPubkey(p),p.key[0]){case tr.OutputTypes.REDEEM_SCRIPT:if(Ss("output",p.key,tr.OutputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=Tn.outputs.redeemScript.decode(p);break;case tr.OutputTypes.WITNESS_SCRIPT:if(Ss("output",p.key,tr.OutputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=Tn.outputs.witnessScript.decode(p);break;case tr.OutputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Tn.outputs.bip32Derivation.decode(p));break;case tr.OutputTypes.TAP_INTERNAL_KEY:Ss("output",p.key,tr.OutputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Tn.outputs.tapInternalKey.decode(p);break;case tr.OutputTypes.TAP_TREE:Ss("output",p.key,tr.OutputTypes.TAP_TREE),f.tapTree=Tn.outputs.tapTree.decode(p);break;case tr.OutputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Tn.outputs.tapBip32Derivation.decode(p));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}c.push(f)}return{globalMap:i,inputs:u,outputs:c}}jo.psbtFromKeyVals=FR});var LR=$(eu=>{k();M();var Fae=eu&&eu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hae=eu&&eu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dae=eu&&eu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fae(e,t,r);return Hae(e,t),e};Object.defineProperty(eu,"__esModule",{value:!0});eu.psbtToKeyVals=eu.psbtToBuffer=void 0;var Bx=Dae(Fg()),DR=Pg();function Uae({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=UR({globalMap:t,inputs:e,outputs:r}),o=(0,DR.keyValsToBuffer)(n),a=f=>f.length===0?[A.Buffer.from([0])]:f.map(DR.keyValsToBuffer),u=a(i),c=a(s),h=A.Buffer.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),A.Buffer.concat([h,o].concat(u,c))}eu.psbtToBuffer=Uae;var Lae=(t,e)=>t.key.compare(e.key);function Cx(t,e){let r=new Set,n=Object.entries(t).reduce((s,[o,a])=>{if(o==="unknownKeyVals")return s;let u=e[o];if(u===void 0)return s;let c=(Array.isArray(a)?a:[a]).map(u.encode);return c.map(f=>f.key.toString("hex")).forEach(f=>{if(r.has(f))throw new Error("Serialize Error: Duplicate key: "+f);r.add(f)}),s.concat(c)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(Lae)}function UR({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:Cx(t,Bx.globals),inputKeyVals:e.map(n=>Cx(n,Bx.inputs)),outputKeyVals:r.map(n=>Cx(n,Bx.outputs))}}eu.psbtToKeyVals=UR});var kx=$(Wh=>{k();M();var qae=Wh&&Wh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qR=Wh&&Wh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qae(e,t,r)};Object.defineProperty(Wh,"__esModule",{value:!0});qR(HR(),Wh);qR(LR(),Wh)});var jR=$(Dg=>{k();M();Object.defineProperty(Dg,"__esModule",{value:!0});Dg.combine=void 0;var Mx=kx();function $ae(t){let e=t[0],r=(0,Mx.psbtToKeyVals)(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=$R(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=G7(r.globalKeyVals),o=r.inputKeyVals.map(G7),a=r.outputKeyVals.map(G7);for(let u of n){let c=$R(u);if(c===void 0||!c.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let h=(0,Mx.psbtToKeyVals)(u);G7(h.globalKeyVals).forEach(Rx(s,r.globalKeyVals,h.globalKeyVals)),h.inputKeyVals.map(G7).forEach((y,_)=>y.forEach(Rx(o[_],r.inputKeyVals[_],h.inputKeyVals[_]))),h.outputKeyVals.map(G7).forEach((y,_)=>y.forEach(Rx(a[_],r.outputKeyVals[_],h.outputKeyVals[_])))}return(0,Mx.psbtFromKeyVals)(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}Dg.combine=$ae;function Rx(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function $R(t){return t.globalMap.unsignedTx}function G7(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var Fx=$(Br=>{k();M();var jae=Br&&Br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kae=Br&&Br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vae=Br&&Br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jae(e,t,r);return Kae(e,t),e};Object.defineProperty(Br,"__esModule",{value:!0});Br.defaultLocktimeSetter=Br.defaultVersionSetter=Br.addOutputAttributes=Br.addInputAttributes=Br.updateOutput=Br.updateInput=Br.updateGlobal=Br.inputCheckUncleanFinalized=Br.getEnumLength=Br.checkHasKey=Br.checkForOutput=Br.checkForInput=void 0;var Gae=Vae(Fg());function VR(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}Br.checkForInput=VR;function GR(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}Br.checkForOutput=GR;function zae(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}Br.checkHasKey=zae;function Wae(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}Br.getEnumLength=Wae;function Yae(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,o=!i||!!e.finalScriptWitness,a=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&o&&a}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}Br.inputCheckUncleanFinalized=Yae;function KR(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function Nx(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:o,check:a,expected:u}=Gae[t+"s"][n]||{},c=!!o;if(a)if(c){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(a)||KR(t,n,u,i);let h=r[n]||[],f=new Set;if(!i.every(p=>o(h,p,f)))throw new Error("Can not add duplicate data to array");r[n]=h.concat(i)}else{if(a(i)||KR(t,n,u,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}Br.updateGlobal=Nx("global");Br.updateInput=Nx("input");Br.updateOutput=Nx("output");function Xae(t,e){let r=t.length-1,n=VR(t,r);(0,Br.updateInput)(e,n)}Br.addInputAttributes=Xae;function Zae(t,e){let r=t.length-1,n=GR(t,r);(0,Br.updateOutput)(e,n)}Br.addOutputAttributes=Zae;function Jae(t,e){if(!A.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}Br.defaultVersionSetter=Jae;function Qae(t,e){if(!A.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}Br.defaultLocktimeSetter=Qae});var WR=$(Ug=>{k();M();Object.defineProperty(Ug,"__esModule",{value:!0});Ug.Psbt=void 0;var eue=jR(),zR=kx(),Hx=rs(),ws=Fx(),Dx=class{static fromBase64(e,r){let n=A.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=A.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=(0,zR.psbtFromBuffer)(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return(0,zR.psbtToBuffer)(this)}updateGlobal(e){return(0,ws.updateGlobal)(e,this.globalMap),this}updateInput(e,r){let n=(0,ws.checkForInput)(this.inputs,e);return(0,ws.updateInput)(r,n),this}updateOutput(e,r){let n=(0,ws.checkForOutput)(this.outputs,e);return(0,ws.updateOutput)(r,n),this}addUnknownKeyValToGlobal(e){return(0,ws.checkHasKey)(e,this.globalMap.unknownKeyVals,(0,ws.getEnumLength)(Hx.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=(0,ws.checkForInput)(this.inputs,e);return(0,ws.checkHasKey)(r,n.unknownKeyVals,(0,ws.getEnumLength)(Hx.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=(0,ws.checkForOutput)(this.outputs,e);return(0,ws.checkHasKey)(r,n.unknownKeyVals,(0,ws.getEnumLength)(Hx.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,ws.addInputAttributes)(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,ws.addOutputAttributes)(this.outputs,e),this}clearFinalizedInput(e){let r=(0,ws.checkForInput)(this.inputs,e);(0,ws.inputCheckUncleanFinalized)(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=(0,eue.combine)([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};Ug.Psbt=Dx});var wp=$(Ur=>{k();M();var tue=Ur&&Ur.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rue=Ur&&Ur.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ux=Ur&&Ur.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tue(e,t,r);return rue(e,t),e};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.signatureBlocksAction=Ur.checkInputForSig=Ur.pubkeyInScript=Ur.pubkeyPositionInScript=Ur.witnessStackToScriptWitness=Ur.isP2TR=Ur.isP2SHScript=Ur.isP2WSHScript=Ur.isP2WPKH=Ur.isP2PKH=Ur.isP2PK=Ur.isP2MS=void 0;var YR=Ux(zh()),g3=Ux(wi()),Lg=Vh(),nue=_s(),xp=Ux($h());function Sp(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}Ur.isP2MS=Sp(xp.p2ms);Ur.isP2PK=Sp(xp.p2pk);Ur.isP2PKH=Sp(xp.p2pkh);Ur.isP2WPKH=Sp(xp.p2wpkh);Ur.isP2WSHScript=Sp(xp.p2wsh);Ur.isP2SHScript=Sp(xp.p2sh);Ur.isP2TR=Sp(xp.p2tr);function iue(t){let e=A.Buffer.allocUnsafe(0);function r(o){e=A.Buffer.concat([e,A.Buffer.from(o)])}function n(o){let a=e.length,u=YR.encodingLength(o);e=A.Buffer.concat([e,A.Buffer.allocUnsafe(u)]),YR.encode(o,e,a)}function i(o){n(o.length),r(o)}function s(o){n(o.length),o.forEach(i)}return s(t),e}Ur.witnessStackToScriptWitness=iue;function XR(t,e){let r=(0,nue.hash160)(t),n=t.slice(1,33),i=g3.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}Ur.pubkeyPositionInScript=XR;function sue(t,e){return XR(t,e)!==-1}Ur.pubkeyInScript=sue;function oue(t,e){return aue(t).some(n=>ZR(n,g3.signature.decode,e))}Ur.checkInputForSig=oue;function ZR(t,e,r){let{hashType:n}=e(t),i=[];switch(n&Lg.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case Lg.Transaction.SIGHASH_ALL:break;case Lg.Transaction.SIGHASH_SINGLE:case Lg.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}Ur.signatureBlocksAction=ZR;function aue(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=uue(t)}else e=t.partialSig;return e.map(r=>r.signature)}function uue(t){let e=t.finalScriptSig?g3.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?g3.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>A.Buffer.isBuffer(n)&&g3.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var Kx=$(Nn=>{k();M();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.checkTaprootInputForSigs=Nn.tapTreeFromList=Nn.tapTreeToList=Nn.tweakInternalPubKey=Nn.checkTaprootOutputFields=Nn.checkTaprootInputFields=Nn.isTaprootOutput=Nn.isTaprootInput=Nn.serializeTaprootSignature=Nn.tapScriptFinalizer=Nn.toXOnly=void 0;var jx=$s(),cue=Vh(),jg=wp(),Yh=xg(),fue=$h(),hue=wp(),lue=t=>t.length===32?t:t.slice(1,33);Nn.toXOnly=lue;function due(t,e,r){let n=Cue(e,t,r);try{let s=Oue(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,jg.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}Nn.tapScriptFinalizer=due;function pue(t,e){let r=e?A.Buffer.from([e]):A.Buffer.from([]);return A.Buffer.concat([t,r])}Nn.serializeTaprootSignature=pue;function qg(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,jg.isP2TR)(t.witnessUtxo.script))}Nn.isTaprootInput=qg;function $g(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,jg.isP2TR)(e))}Nn.isTaprootOutput=$g;function mue(t,e,r){Aue(t,e,r),Pue(t,e,r)}Nn.checkTaprootInputFields=mue;function gue(t,e,r){Iue(t,e,r),bue(t,e)}Nn.checkTaprootOutputFields=gue;function bue(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=yue(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}function yue(t,e){let r=e&&JR(e.leaves),{output:n}=(0,fue.p2tr)({internalPubkey:t,scriptTree:r});return n}function vue(t,e){let r=e.tapInternalKey,n=r&&(0,Yh.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Nn.tweakInternalPubKey=vue;function _ue(t){if(!(0,jx.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return qx(t)}Nn.tapTreeToList=_ue;function JR(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:Tue(t)}Nn.tapTreeFromList=JR;function xue(t,e){return wue(t).some(n=>(0,hue.signatureBlocksAction)(n,Sue,e))}Nn.checkTaprootInputForSigs=xue;function Sue(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||cue.Transaction.SIGHASH_DEFAULT}}function wue(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=Eue(t.finalScriptWitness);r&&e.push(r)}return e}function Eue(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function qx(t,e=[],r=0){if(r>Yh.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,jx.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Yh.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&qx(t[0],e,r+1),t[1]&&qx(t[1],e,r+1),e):[]}function Tue(t){let e;for(let r of t)if(e=$x(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function $x(t,e,r=0){if(r>Yh.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,jx.isTapleaf)(e))return;let n=$x(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=$x(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function Aue(t,e,r){let n=qg(t)&&z7(e),i=z7(t)&&qg(e),s=t===e&&qg(e)&&z7(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Iue(t,e,r){let n=$g(t)&&z7(e),i=z7(t)&&$g(e),s=t===e&&$g(e)&&z7(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Pue(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>Lx(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>Lx(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>Lx(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function Lx(t,e){if(!e)return!0;let r=(0,Yh.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Yh.rootHashFromPath)(t.controlBlock,r).equals(e)}function Oue(t,e){let r=(0,Yh.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>Bue(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function Bue(t,e){return Object.assign({positionInScript:(0,jg.pubkeyPositionInScript)(e.pubkey,t)},e)}function Cue(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>kue(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function kue(t,e,r){let n=(0,Yh.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}function z7(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var Yg=$(ru=>{k();M();var Mue=ru&&ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rue=ru&&ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yx=ru&&ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mue(e,t,r);return Rue(e,t),e};Object.defineProperty(ru,"__esModule",{value:!0});ru.getHashAndSighashType=ru.Psbt=void 0;var QR=WR(),eN=Yx(zh()),ao=Fx(),tN=K7(),W7=Dh(),Nue=ha(),tu=Yx($h()),Fue=xg(),yf=Yx(wi()),Jn=Vh(),fn=Kx(),ss=wp(),uN=$c(),Vx=_r(),Hue=wi(),Due=t0(),Uue=uN.signUtil.schnorr.secp256k1.schnorr,Lue={network:Nue.bitcoin,maximumFeeRate:5e3},Y7=class{static fromBase64(e,r={}){let n=A.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=A.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=QR.Psbt.fromBuffer(e,que),i=new Y7(r,n);return Gue(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new QR.Psbt(new Vg)){this.data=r,this.opts=Object.assign({},Lue,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,s,o,a)=>Object.defineProperty(i,s,{enumerable:o,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,W7.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,tN.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,W7.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=Y7.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){Kg(e),this.opts.maximumFeeRate=e}setVersion(e){Kg(e),b3(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){Kg(e),b3(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){Kg(r),b3(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,fn.checkTaprootInputFields)(e,e,"addInput"),b3(this.data.inputs,"addInput"),e.witnessScript&&Gg(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];hN(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&Wx(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");b3(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,tN.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,fn.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(cN))throw new Error("Not finalized");let r=this.__CACHE;if(e||jue(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return gN(this.data.inputs,n,r,!0),n}getFeeRate(){return oN("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return oN("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,ao.checkForInput)(this.data.inputs,0),y3(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,ao.checkForInput)(this.data.inputs,e);return(0,fn.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=fn.tapScriptFinalizer){let i=(0,ao.checkForInput)(this.data.inputs,e);if((0,fn.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=zue){let{script:i,isP2SH:s,isP2WSH:o,isSegwit:a}=Zue(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);Kue(r);let{finalScriptSig:u,finalScriptWitness:c}=n(e,r,i,a,s,o);if(u&&this.data.updateInput(e,{finalScriptSig:u}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!u&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=fn.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=tu.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),o=(0,ss.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:o})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,ao.checkForInput)(this.data.inputs,e),n=bN(e,r,this.__CACHE),i=Wg(n,e,"input",r.redeemScript||rce(r.finalScriptSig),r.witnessScript||nce(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",o=_N(i.meaningfulScript);return s+o}inputHasPubkey(e,r){let n=(0,ao.checkForInput)(this.data.inputs,e);return ece(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,ao.checkForInput)(this.data.inputs,e),i=nN(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,ao.checkForOutput)(this.data.outputs,e);return tce(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,ao.checkForOutput)(this.data.outputs,e),i=nN(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,ao.checkForInput)(this.data.inputs,0),y3(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,fn.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let o=n?s.filter(f=>f.pubkey.equals(n)):s;if(o.length<1)throw new Error("No signatures for this pubkey");let a=[],u,c,h;for(let f of o){let p=yf.signature.decode(f.signature),{hash:l,script:y}=h!==p.hashType?dN(e,Object.assign({},i,{sighashType:p.hashType}),this.__CACHE,!0):{hash:u,script:c};h=p.hashType,u=l,c=y,fN(f.pubkey,y,"verify"),a.push(r(f.pubkey,l,p.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,o=(i||{}).tapScriptSig;if(!i&&!s&&!(o&&!o.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,fn.toXOnly)(n);let a=n?zx(e,i,this.data.inputs,n,this.__CACHE):Yue(e,i,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");let u=a.find(c=>!!c.leafHash);if(s&&u&&!r(u.pubkey,u.hash,s))return!1;if(o)for(let c of o){let h=a.find(f=>c.pubkey.equals(f.pubkey));if(h&&!r(c.pubkey,h.hash,c.signature))return!1}return!0}signAllInputsHD(e,r=[Jn.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of y3(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[Jn.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],o=[];for(let a of y3(this.data.inputs.length))o.push(this.signInputHDAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[Jn.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return aN(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[Jn.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let a=aN(e,this.data.inputs,r).map(u=>this.signInputAsync(e,u,n));return Promise.all(a).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of y3(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],o=[];for(let[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,ao.checkForInput)(this.data.inputs,e);return(0,fn.isTaprootInput)(s)?this._signTaprootInput(e,s,r,i,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,ao.checkForInput)(this.data.inputs,e);if((0,fn.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}getHashAndSighashType(e,r,n=[Jn.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=v3(this.data.inputs,e,r,this.__CACHE,n);return{hash:i,sighashType:s}}_signInput(e,r,n=[Jn.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=v3(this.data.inputs,e,r.publicKey,this.__CACHE,n),o=[{pubkey:r.publicKey,signature:yf.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,r,n,i,s=[Jn.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,r,n,i,s),a=o.filter(c=>!c.leafHash).map(c=>(0,fn.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType))[0],u=o.filter(c=>!!c.leafHash).map(c=>({pubkey:(0,fn.toXOnly)(n.publicKey),signature:(0,fn.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType),leafHash:c.leafHash}));return a&&this.data.updateInput(e,{tapKeySig:a}),u.length&&this.data.updateInput(e,{tapScriptSig:u}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,ao.checkForInput)(this.data.inputs,e);return(0,fn.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,ao.checkForInput)(this.data.inputs,e);if((0,fn.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[Jn.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=v3(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(o=>{let a=[{pubkey:r.publicKey,signature:yf.signature.encode(o,s)}];this.data.updateInput(e,{partialSig:a})})}async _signTaprootInputAsync(e,r,n,i,s=[Jn.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,r,n,i,s),a=[],u=o.filter(h=>!h.leafHash)[0];if(u){let h=Promise.resolve(n.signSchnorr(u.hash)).then(f=>({tapKeySig:(0,fn.serializeTaprootSignature)(f,r.sighashType)}));a.push(h)}let c=o.filter(h=>!!h.leafHash);if(c.length){let h=c.map(f=>Promise.resolve(n.signSchnorr(f.hash)).then(p=>({tapScriptSig:[{pubkey:(0,fn.toXOnly)(n.publicKey),signature:(0,fn.serializeTaprootSignature)(p,r.sighashType),leafHash:f.leafHash}]})));a.push(...h)}return Promise.all(a).then(h=>{h.forEach(f=>this.data.updateInput(e,f))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let o=zx(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return o}toBuffer(){return Gx(this.__CACHE),this.data.toBuffer()}toHex(){return Gx(this.__CACHE),this.data.toHex()}toBase64(){return Gx(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&Gg(r.witnessScript),(0,fn.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&Wx(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,fn.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}verify(e,r){let n=[Jn.Transaction.SIGHASH_SINGLE|Jn.Transaction.SIGHASH_ANYONECANPAY,Jn.Transaction.SIGHASH_ALL,Jn.Transaction.SIGHASH_DEFAULT];for(let i=0;i<this.inputCount;i++)if((0,fn.isTaprootInput)(this.data.inputs[i])){let s=A.Buffer.from((0,Due.taprootTweakPubkey)(e.slice(1))[0]),a=new W7.BufferReader(r).readVector(),u={publicKey:s,sign(f){return A.Buffer.alloc(64)},signSchnorr(f){return A.Buffer.alloc(64)}},h=this.checkTaprootHashesForSig(i,this.data.inputs[i],u,void 0,n).filter(f=>!f.leafHash)[0].hash;if(!Uue.verify(Vx.base.toHex(a[0]),Vx.base.toHex(h),Vx.base.toHex(s)))return!1}else{let{hash:s}=v3(this.data.inputs,i,e,this.__CACHE,n),a=new W7.BufferReader(r).readVector(),u=Hue.signature.decode(a[0]).signature,c=a[1];if(!e.equals(c))throw Error("pubKey error");if(!uN.signUtil.secp256k1.verifyWithNoRecovery(s,u,e))return!1}return!0}};ru.Psbt=Y7;var que=t=>new Vg(t),Vg=class{constructor(e=A.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=Jn.Transaction.fromBuffer(e),Vue(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!A.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,W7.reverseBuffer)(A.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!A.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function $ue(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return rN(1,t.partialSig);case"multisig":let n=tu.p2ms({output:e});return rN(n.m,t.partialSig,n.pubkeys);default:return!1}}function Gx(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function rN(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=ice(i);return e.find(o=>o.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function cN(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function nN(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function Kg(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function jue(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function b3(t,e){t.forEach(r=>{if((0,fn.isTaprootInput)(r)?(0,fn.checkTaprootInputForSigs)(r,e):(0,ss.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function Kue(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=yf.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function fN(t,e,r){if(!(0,ss.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function Vue(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Gue(t,e){t.ins.forEach(r=>{hN(e,r)})}function hN(t,e){let r=(0,W7.reverseBuffer)(A.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function lN(t,e){return(r,n,i,s)=>{let o=t({redeem:{output:i}}).output;if(!n.equals(o))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}var iN=lN(tu.p2sh,"Redeem script"),sN=lN(tu.p2wsh,"Witness script");function oN(t,e,r,n){if(!r.every(cN))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),gN(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function zue(t,e,r,n,i,s){let o=_N(r);if(!$ue(e,r,o))throw new Error(`Can not finalize input #${t}`);return Wue(r,o,e.partialSig,n,i,s)}function Wue(t,e,r,n,i,s){let o,a,u=Xue(t,e,r),c=s?tu.p2wsh({redeem:u}):null,h=i?tu.p2sh({redeem:c||u}):null;return n?(c?a=(0,ss.witnessStackToScriptWitness)(c.witness):a=(0,ss.witnessStackToScriptWitness)(u.witness),h&&(o=h.input)):h?o=h.input:o=u.input,{finalScriptSig:o,finalScriptWitness:a}}function v3(t,e,r,n,i){let s=(0,ao.checkForInput)(t,e),{hash:o,sighashType:a,script:u}=dN(e,s,n,!1,i);return fN(r,u,"sign"),{hash:o,sighashType:a}}ru.getHashAndSighashType=v3;function dN(t,e,r,n,i){let s=r.__TX,o=e.sighashType||Jn.Transaction.SIGHASH_ALL;pN(o,i);let a,u;if(e.nonWitnessUtxo){let f=zg(r,e,t),p=s.ins[t].hash,l=f.getHash();if(!p.equals(l))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let y=s.ins[t].index;u=f.outs[y]}else if(e.witnessUtxo)u=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:c,type:h}=Wg(u.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(h)>=0)a=s.hashForWitnessV0(t,c,u.value,o);else if((0,ss.isP2WPKH)(c)){let f=tu.p2pkh({hash:c.slice(2)}).output;a=s.hashForWitnessV0(t,f,u.value,o)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=s.hashForSignature(t,c,o)}return{script:c,sighashType:o,hash:a}}function Yue(t,e,r,n){let i=[];if(e.tapInternalKey){let o=(0,fn.tweakInternalPubKey)(t,e);i.push(o)}if(e.tapScriptSig){let o=e.tapScriptSig.map(a=>a.pubkey);i.push(...o)}return i.map(o=>zx(t,e,r,o,n)).flat()}function zx(t,e,r,n,i,s,o){let a=i.__TX,u=e.sighashType||Jn.Transaction.SIGHASH_DEFAULT;pN(u,o);let c=r.map((y,_)=>yN(_,y,i)),h=c.map(y=>y.script),f=c.map(y=>y.value),p=[];if(e.tapInternalKey&&!s){let y=(0,fn.tweakInternalPubKey)(t,e);if((0,fn.toXOnly)(n).equals(y)){let _=a.hashForWitnessV1(t,h,f,u);p.push({pubkey:n,hash:_})}}let l=(e.tapLeafScript||[]).map(y=>{let _=(0,Fue.tapleafHash)({output:y.script,version:y.leafVersion});return Object.assign({hash:_},y)}).filter(y=>!s||s.equals(y.hash)).map(y=>{let _=a.hashForWitnessV1(t,h,f,Jn.Transaction.SIGHASH_DEFAULT,y.hash);return{pubkey:n,hash:_,leafHash:y.hash}});return p.concat(l)}function pN(t,e){if(e&&e.indexOf(t)<0){let r=Que(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function Xue(t,e,r){let n;switch(e){case"multisig":let i=Jue(t,r);n=tu.p2ms({output:t,signatures:i});break;case"pubkey":n=tu.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=tu.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=tu.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function Zue(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=zg(r,e,t),o=n.ins[t].index;i.script=s.outs[o].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,ss.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function aN(t,e,r){let n=(0,ao.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(o=>{if(o.masterFingerprint.equals(r.fingerprint))return o}).filter(o=>!!o);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(o=>{let a=r.derivePath(o.path);if(!o.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function Jue(t,e){return tu.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function mN(t){let e=0;function r(o){return e+=o,t.slice(e-o,e)}function n(){let o=eN.decode(t,e);return e+=eN.decode.bytes,o}function i(){return r(n())}function s(){let o=n(),a=[];for(let u=0;u<o;u++)a.push(i());return a}return s()}function Que(t){let e=t&Jn.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case Jn.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case Jn.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case Jn.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function Wx(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=Jn.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let o=i.__NON_WITNESS_UTXO_BUF_CACHE[s],a=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(o!==void 0)return o;{let u=a.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=u,u}},set(o){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=o}})}function gN(t,e,r,n){let i=0;t.forEach((u,c)=>{if(n&&u.finalScriptSig&&(e.ins[c].script=u.finalScriptSig),n&&u.finalScriptWitness&&(e.ins[c].witness=mN(u.finalScriptWitness)),u.witnessUtxo)i+=u.witnessUtxo.value;else if(u.nonWitnessUtxo){let h=zg(r,u,c),f=e.ins[c].index,p=h.outs[f];i+=p.value}});let s=e.outs.reduce((u,c)=>u+c.value,0),o=i-s;if(o<0)throw new Error("Outputs are spending more than Inputs");let a=e.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(o/a)}function zg(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||Wx(t,e,r),n[r]}function bN(t,e,r){let{script:n}=yN(t,e,r);return n}function yN(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=zg(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function ece(t,e,r,n){let i=bN(r,e,n),{meaningfulScript:s}=Wg(i,r,"input",e.redeemScript,e.witnessScript);return(0,ss.pubkeyInScript)(t,s)}function tce(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=Wg(i,r,"output",e.redeemScript,e.witnessScript);return(0,ss.pubkeyInScript)(t,s)}function rce(t){if(!t)return;let e=yf.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!A.Buffer.isBuffer(r)||vN(r)||sce(r)||!yf.decompile(r)))return r}function nce(t){if(!t)return;let e=mN(t),r=e[e.length-1];if(!(vN(r)||!yf.decompile(r)))return r}function ice(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function vN(t){return t.length===33&&yf.isCanonicalPubKey(t)}function sce(t){return yf.isCanonicalScriptSignature(t)}function Wg(t,e,r,n,i){let s=(0,ss.isP2SHScript)(t),o=s&&n&&(0,ss.isP2WSHScript)(n),a=(0,ss.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||o)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return o?(u=i,iN(e,t,n,r),sN(e,n,i,r),Gg(u)):a?(u=i,sN(e,t,i,r),Gg(u)):s?(u=n,iN(e,t,n,r)):u=t,{meaningfulScript:u,type:o?"p2sh-p2wsh":s?"p2sh":a?"p2wsh":"raw"}}function Gg(t){if((0,ss.isP2WPKH)(t)||(0,ss.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function _N(t){return(0,ss.isP2WPKH)(t)?"witnesspubkeyhash":(0,ss.isP2PKH)(t)?"pubkeyhash":(0,ss.isP2MS)(t)?"multisig":(0,ss.isP2PK)(t)?"pubkey":"nonstandard"}function y3(t){return[...Array(t).keys()]}});var tS=$(Et=>{k();M();var oce=Et&&Et.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ace=Et&&Et.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wN=Et&&Et.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oce(e,t,r);return ace(e,t),e};Object.defineProperty(Et,"__esModule",{value:!0});Et.generateMPCSignedPSBT=Et.generateMPCUnsignedPSBT=Et.generateMPCSignedBuyingTx=Et.generateMPCUnsignedBuyingPSBT=Et.generateMPCSignedListingPSBT=Et.generateMPCUnsignedListingPSBT=Et.generateSignedBuyingTx=Et.mergeSignedBuyingPsbt=Et.generateUnsignedBuyingPsbt=Et.generateSignedListingPsbt=Et.generateUnsignedListingPsbt=Et.extractPsbtTransaction=Et.psbtSignImpl=Et.signPsbtWithKeyPathAndScriptPathImpl=Et.signPsbtWithKeyPathAndScriptPath=Et.signPsbtWithKeyPathAndScriptPathBatch=Et.psbtDecode=Et.psbtSign=Et.classicToPsbt=Et.buildPsbt=void 0;var Ko=Yg(),uce=$c(),Wt=_r(),ci=Ho(),Jt=Do(),Xh=wN(t0()),oc=Kx(),cce=K7(),fce=Dh(),xN=wp(),Xx=wN(wi()),hce=_s(),lce=hf(),_3=uce.signUtil.schnorr.secp256k1.schnorr,x3=5e3;function Zx(t,e,r){return EN(t,e,r).toHex()}Et.buildPsbt=Zx;function EN(t,e,r){let n=new Ko.Psbt({network:e,maximumFeeRate:r||x3});return t.inputs.forEach(i=>{let s=(0,cce.toOutputScript)(i.address,e),o={hash:i.txId,index:i.vOut,witnessUtxo:{script:s,value:i.amount}},a=(0,ci.getAddressType)(i.address,e||Jt.networks.bitcoin);i.bip32Derivation&&(a==="segwit_taproot"?o.tapBip32Derivation=i.bip32Derivation.map(u=>{let c=Wt.base.fromHex(u.pubkey);return c.length!=32&&(c=c.slice(1)),{masterFingerprint:Wt.base.fromHex(u.masterFingerprint),pubkey:c,path:u.path,leafHashes:u.leafHashes.map(h=>A.Buffer.from(h,"hex"))}}):o.bip32Derivation=i.bip32Derivation.map(u=>({masterFingerprint:Wt.base.fromHex(u.masterFingerprint),pubkey:Wt.base.fromHex(u.pubkey),path:u.path}))),a==="legacy"?o.nonWitnessUtxo=Wt.base.fromHex(i.nonWitnessUtxo):a==="segwit_taproot"?i.publicKey&&(o.tapInternalKey=(0,oc.toXOnly)(Wt.base.fromHex(i.publicKey))):a==="segwit_nested"&&(o.redeemScript=Jt.payments.p2wpkh({pubkey:A.Buffer.from(i.publicKey,"hex"),network:e}).output),i.sighashType&&(o.sighashType=i.sighashType),n.addInput(o)}),t.outputs.forEach(i=>{if(i.omniScript)n.addOutput({script:Wt.base.fromHex(i.omniScript),value:0});else{let s={address:i.address,value:i.amount};i.bip32Derivation&&(s.bip32Derivation=i.bip32Derivation.map(o=>({masterFingerprint:Wt.base.fromHex(o.masterFingerprint),pubkey:Wt.base.fromHex(o.pubkey),path:o.path}))),n.addOutput(s)}}),n}Et.classicToPsbt=EN;function Jx(t,e,r,n){let i=Ko.Psbt.fromBase64(t,{network:r,maximumFeeRate:n||x3});return IN(i,e,r),i.toBase64()}Et.psbtSign=Jx;function dce(t,e,r){try{let n=Ko.Psbt.fromHex(t,{network:e,maximumFeeRate:r||x3});return n.txInputs?n.txInputs.filter(i=>!i.hash.equals(A.Buffer.alloc(32))).map(i=>({txId:Wt.base.toHex(Wt.base.reverseBuffer(i.hash)),vOut:i.index})):[]}catch{let i=Ko.Psbt.fromBase64(t,{network:e,maximumFeeRate:r||x3});return i.txInputs?i.txInputs.filter(s=>!s.hash.equals(A.Buffer.alloc(32))).map(s=>({txId:Wt.base.toHex(Wt.base.reverseBuffer(s.hash)),vOut:s.index})):[]}}Et.psbtDecode=dce;function pce(t,e,r,n){if(t==null||t.length==0)return[];let i=[],s=n==null?0:n.length,o=0;for(o=0;o<t.length;o++){let a={};o<s&&n&&(a=n[o]);let u=TN(t[o],e,r,{autoFinalized:a.autoFinalized,toSignInputs:a.toSignInputs});i.push(u)}return i}Et.signPsbtWithKeyPathAndScriptPathBatch=pce;function TN(t,e,r,n={}){let i=eS(t,r);return AN(i,e,r,n.autoFinalized,n.toSignInputs),i.toHex()}Et.signPsbtWithKeyPathAndScriptPath=TN;function AN(t,e,r,n,i){r=r||Jt.networks.bitcoin;let s=(0,ci.privateKeyFromWIF)(e,r),o=new Map;i?.forEach(f=>{o.set(f.index,f)});let a={psbtIndex:0,needTweak:!0,tweakHash:A.Buffer.alloc(0),toSignInputsMap:o,publicKey:A.Buffer.alloc(0),sign(f){return(0,ci.sign)(f,s)},signSchnorr(f){let p=Xh.taprootTweakPrivKey(Wt.base.fromHex(s));return this.toSignInputsMap?.has(this.psbtIndex)&&this.toSignInputsMap.get(this.psbtIndex)?.disableTweakSigner?A.Buffer.from(_3.sign(f,s,Wt.base.randomBytes(32))):this.needTweak?(this.needTweak&&this.tweakHash.length>0&&(p=Xh.taprootTweakPrivKey(Wt.base.fromHex(s),this.tweakHash)),A.Buffer.from(_3.sign(f,p,Wt.base.randomBytes(32)))):A.Buffer.from(_3.sign(f,s,Wt.base.randomBytes(32)))}},u=[Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_ALL,Jt.Transaction.SIGHASH_DEFAULT],c=()=>({psbtIndex:0,needTweak:!0,tweakHash:A.Buffer.alloc(0),toSignInputsMap:o,publicKey:A.Buffer.alloc(0),getPrivateKey(){let f=Wt.base.fromHex(s);return this.needTweak&&(f=A.Buffer.from(Xh.taprootTweakPrivKey(f,this.tweakHash))),f},sign(f){return(0,ci.sign)(f,this.getPrivateKey().toString("hex"))},signSchnorr(f){return A.Buffer.from(_3.sign(f,this.getPrivateKey(),Wt.base.randomBytes(32)))}}),h=()=>[Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_ALL,Jt.Transaction.SIGHASH_DEFAULT];for(let f=0;f<t.inputCount;f++)if(!(o?.size>0&&!o?.has(f)))if(o?.get(f)?.useTweakSigner!==void 0){let p=t.data.inputs[f],l,y=c(),_=h();y.psbtIndex=f,y.publicKey=(0,ci.wif2Public)(e,r);let O=o.get(f);O.sighashTypes!==void 0&&(_=O.sighashTypes),y.needTweak=O.useTweakSigner,y.needTweak&&(y.publicKey=A.Buffer.from(Xh.taprootTweakPubkey((0,oc.toXOnly)((0,ci.wif2Public)(e,r)),y.tweakHash)[0])),(0,oc.isTaprootInput)(p)&&(!p.tapInternalKey&&!p.tapLeafScript&&(p.tapInternalKey=(0,oc.toXOnly)((0,ci.wif2Public)(e,r))),O.tapLeafHashToSign!==void 0&&(l=A.Buffer.from(O.tapLeafHashToSign,"hex")));try{if(t.signInput(f,y,_,l),n!=null&&!n)continue;t.finalizeInput(f)}catch(F){throw F}}else{a.psbtIndex=f;let p=t.data.inputs[f];(0,oc.isTaprootInput)(p)?(p.tapInternalKey||(p.tapInternalKey=(0,oc.toXOnly)((0,ci.wif2Public)(e,r))),a.needTweak=!0,a.publicKey=A.Buffer.from(Xh.taprootTweakPubkey((0,oc.toXOnly)((0,ci.wif2Public)(e,r)))[0]),o?.has(f)&&o?.get(f)?.disableTweakSigner&&(a.publicKey=(0,ci.wif2Public)(e,r),a.needTweak=!1),p.tapLeafScript&&p.tapLeafScript?.length>0&&!p.tapMerkleRoot?p.tapLeafScript.forEach(l=>{l.controlBlock&&l.script&&(a.publicKey=(0,ci.wif2Public)(e,r),a.needTweak=!1)}):p.tapMerkleRoot&&(a.needTweak=!0,a.tweakHash=p.tapMerkleRoot,a.publicKey=A.Buffer.from(Xh.taprootTweakPubkey((0,oc.toXOnly)((0,ci.wif2Public)(e,r)),p.tapMerkleRoot)[0]))):(a.needTweak=!1,a.tweakHash=A.Buffer.alloc(0),a.publicKey=(0,ci.wif2Public)(e,r));try{if(o?.has(f)){let l=o?.get(f)?.sighashTypes;l!=null&&(u=l)}if(t.signInput(f,a,u),n!=null&&!n)continue;t.finalizeInput(f)}catch(l){if(o?.size>0&&o?.has(f))throw l}}}Et.signPsbtWithKeyPathAndScriptPathImpl=AN;function IN(t,e,r){r=r||Jt.networks.bitcoin;let n=(0,ci.privateKeyFromWIF)(e,r),i={publicKey:A.Buffer.alloc(0),sign(o){return(0,ci.sign)(o,n)},signSchnorr(o){let a=Xh.taprootTweakPrivKey(Wt.base.fromHex(n));return A.Buffer.from(_3.sign(o,a,Wt.base.randomBytes(32)))}},s=[Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_ALL|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_ALL,Jt.Transaction.SIGHASH_DEFAULT];for(let o=0;o<t.inputCount;o++){if((0,oc.isTaprootInput)(t.data.inputs[o])){let a=t.data.inputs[o];a.tapInternalKey||(a.tapInternalKey=(0,oc.toXOnly)((0,ci.wif2Public)(e,r))),i.publicKey=A.Buffer.from(Xh.taprootTweakPubkey((0,oc.toXOnly)((0,ci.wif2Public)(e,r)))[0])}else i.publicKey=(0,ci.wif2Public)(e,r);try{t.signInput(o,i,s)}catch{}}}Et.psbtSignImpl=IN;function Qx(t,e,r){let n=Ko.Psbt.fromHex(t,{network:e,maximumFeeRate:r||x3}),i;try{i=n.finalizeAllInputs().extractTransaction()}catch(s){i=n.extractTransaction(),console.log(s)}return i.toHex()}Et.extractPsbtTransaction=Qx;function PN(t,e,r){let n=Jt.address.toOutputScript(t.nftAddress,e);if(((0,xN.isP2SHScript)(n)||(0,xN.isP2TR)(n))&&!r)throw new Error("Missing publicKey");let i={inputs:[],outputs:[]},s="bc1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6sw3rzmr";e===Jt.networks.testnet&&(s="tb1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6see4dpv"),i.inputs.push({txId:"0".repeat(64),vOut:0,amount:0,address:s},{txId:"0".repeat(64),vOut:1,amount:0,address:s}),i.outputs.push({address:s,amount:0},{address:s,amount:0}),i.inputs.push({txId:t.nftUtxo.txHash,vOut:t.nftUtxo.vout,address:t.nftAddress,amount:t.nftUtxo.coinAmount,publicKey:r,nonWitnessUtxo:t.nftUtxo.rawTransation,sighashType:Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY}),i.outputs.push({address:t.receiveBtcAddress,amount:t.price});let o=Zx(i,e);return Wt.base.toBase64(Wt.base.fromHex(o))}Et.generateUnsignedListingPsbt=PN;function mce(t,e,r){let n=Wt.base.toHex((0,ci.wif2Public)(e,r));return Jx(PN(t,r,n),e,r)}Et.generateSignedListingPsbt=mce;var Zh=2,gce=600,bce=546;function ON(t,e,r){let n={inputs:[],outputs:[],address:t.paymentAndChangeAddress,feePerB:t.feeRate};t.dummyUtxos.forEach(o=>{n.inputs.push({txId:o.txHash,vOut:o.vout,address:t.paymentAndChangeAddress,amount:o.coinAmount,publicKey:r,nonWitnessUtxo:o.rawTransation})}),n.outputs.push({address:t.paymentAndChangeAddress,amount:t.dummyUtxos.reduce((o,a)=>o+a.coinAmount,0)});let i=[];t.sellerPsbts.forEach(o=>{let a=Ko.Psbt.fromBase64(o,{network:e}),u=a.data.globalMap.unsignedTx.tx.ins[Zh];i.push(a.data.globalMap.unsignedTx.tx.outs[Zh]);let c=a.data.inputs[Zh].witnessUtxo;c||(c=Jt.Transaction.fromBuffer(a.data.inputs[Zh].nonWitnessUtxo).outs[u.index]),n.inputs.push({txId:Wt.base.toHex((0,fce.reverseBuffer)(u.hash)),vOut:u.index,address:Jt.address.fromOutputScript(c.script,e),amount:c.value,sighashType:Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY}),n.outputs.push({address:t.receiveNftAddress,amount:c.value})}),i.forEach(o=>{n.outputs.push({address:Jt.address.fromOutputScript(o.script,e),amount:o.value})}),t.paymentUtxos.forEach(o=>{n.inputs.push({txId:o.txHash,vOut:o.vout,address:t.paymentAndChangeAddress,amount:o.coinAmount,publicKey:r,nonWitnessUtxo:o.rawTransation})}),t.dummyUtxos.forEach(()=>{n.outputs.push({address:t.paymentAndChangeAddress,amount:gce})});let s=parseInt((0,ci.signBtc)(n,"",e,void 0,!1,!0));return s>=bce&&n.outputs.push({address:t.paymentAndChangeAddress,amount:s}),Wt.base.toBase64(Wt.base.fromHex(Zx(n,e)))}Et.generateUnsignedBuyingPsbt=ON;function BN(t,e){let r=Ko.Psbt.fromBase64(t),n=e.length+1;return e.forEach((i,s)=>{let o=Ko.Psbt.fromBase64(i);r.data.globalMap.unsignedTx.tx.ins[n+s]=o.data.globalMap.unsignedTx.tx.ins[Zh],r.data.inputs[n+s]=o.data.inputs[Zh]}),r}Et.mergeSignedBuyingPsbt=BN;function yce(t,e,r){let n=Wt.base.toHex((0,ci.wif2Public)(e,r)),i=Jx(ON(t,r,n),e,r);return Qx(BN(i,t.sellerPsbts).toHex(),r)}Et.generateSignedBuyingTx=yce;function vce(t,e,r){let n=Ko.Psbt.fromBase64(t,{network:r}),i=Wt.base.fromHex(e),s=[Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY],o=[];for(let a=0;a<n.inputCount;a++){if(a!=Zh)continue;let{hash:u}=n.getHashAndSighashType(a,i,s);o.push(Wt.base.toHex(u))}return{psbtBase64:t,signHashList:o}}Et.generateMPCUnsignedListingPSBT=vce;function _ce(t,e,r,n){let i=Ko.Psbt.fromBase64(t,{network:n}),o=[{pubkey:Wt.base.fromHex(e),signature:Xx.signature.encode(Wt.base.fromHex(r),Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY)}];return i.data.updateInput(Zh,{partialSig:o}),i.toBase64()}Et.generateMPCSignedListingPSBT=_ce;function xce(t,e,r,n=1){let i=Ko.Psbt.fromBase64(t,{network:r}),s=Wt.base.fromHex(e),o=[Jt.Transaction.SIGHASH_ALL],a=[],u=n+1;for(let c=0;c<i.inputCount;c++){if(c>=u&&c<u+n)continue;let{hash:h}=i.getHashAndSighashType(c,s,o);a.push(Wt.base.toHex(h))}return{psbtBase64:t,signHashList:a}}Et.generateMPCUnsignedBuyingPSBT=xce;function Sce(t,e,r,n,i=1){let s=Ko.Psbt.fromBase64(t,{network:n}),o=Wt.base.fromHex(e),a=i+1;for(let u=0;u<s.inputCount;u++){if(u>=a&&u<a+i)continue;let c=[{pubkey:o,signature:Xx.signature.encode(Wt.base.fromHex(r[u]),Jt.Transaction.SIGHASH_ALL)}];s.data.updateInput(u,{partialSig:c})}return Qx(s.toHex(),n)}Et.generateMPCSignedBuyingTx=Sce;function CN(t,e,r){let n=eS(t,r),i=Wt.base.fromHex(e),s=[Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_SINGLE|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_ALL|Jt.Transaction.SIGHASH_ANYONECANPAY,Jt.Transaction.SIGHASH_ALL,Jt.Transaction.SIGHASH_DEFAULT],o=[];for(let u=0;u<n.inputCount;u++)try{let{hash:c}=n.getHashAndSighashType(u,i,s);o.push(Wt.base.toHex(c))}catch{let h=SN();o.push(h)}let a=new Map;return o.forEach((u,c)=>{let h=a.get(u);h=h??0,h!=null&&h>=1&&(o[c]=SN()),a.set(u,h+1)}),{psbtStr:t,signHashList:o}}Et.generateMPCUnsignedPSBT=CN;function SN(){let t=(0,hce.sha256)((0,lce.randomBytes)(32));return"ffffffff"+Wt.base.toHex(t.slice(0,28))}function wce(t,e,r,n){let i=eS(t,n),s=Wt.base.fromHex(e),o=Jt.Transaction.SIGHASH_ALL,u=CN(t,e,n).signHashList;for(let c=0;c<i.inputCount;c++){if(u[c].slice(0,8)=="ffffffff")continue;i.data.inputs[c].sighashType!=null&&(o=i.data.inputs[c].sighashType);let h=[{pubkey:s,signature:Xx.signature.encode(Wt.base.fromHex(r[c]),o)}];try{i.data.updateInput(c,{partialSig:h})}catch{}}return i.toHex()}Et.generateMPCSignedPSBT=wce;function eS(t,e){let r;return Wt.base.isHexString("0x"+t)?r=Ko.Psbt.fromHex(t,{network:e}):r=Ko.Psbt.fromBase64(t,{network:e}),r}});var DN=$(Z7=>{k();M();Object.defineProperty(Z7,"__esModule",{value:!0});Z7.verifySimple=Z7.signSimple=void 0;var X7=_r(),MN=K7(),RN=Vh(),NN=Yg(),kN=fx(),Ece=tS(),Tce=Ho(),FN=wp();function HN(t){let e="BIP0322-signed-message",r=X7.base.sha256(A.Buffer.from(e)),n=X7.base.sha256(A.Buffer.concat([r,r,A.Buffer.from(t)]));return X7.base.toHex(n)}async function Ace(t,e,r,n){let i=(0,MN.toOutputScript)(e,n),s=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),o=4294967295,a=0,u=A.Buffer.concat([A.Buffer.from("0020","hex"),A.Buffer.from(HN(t),"hex")]),c=new RN.Transaction;c.version=0,c.addInput(s,o,a,u),c.addOutput(i,0);let h=new NN.Psbt({network:n});h.setVersion(0),h.addInput({hash:c.getHash(),index:0,sequence:0,witnessUtxo:{script:i,value:0}}),(0,FN.isP2TR)(i)&&h.updateInput(0,{tapInternalKey:(0,Tce.wif2Public)(r,n).slice(1)}),h.addOutput({script:A.Buffer.from("6a","hex"),value:0}),(0,Ece.psbtSignImpl)(h,r,n),h.finalizeAllInputs();let f=h.extractTransaction();function p(_){return A.Buffer.concat([(0,kN.encode)(_.byteLength),_])}let l=(0,kN.encode)(f.ins[0].witness.length),y=A.Buffer.concat([l,...f.ins[0].witness.map(_=>p(_))]);return X7.base.toBase64(y)}Z7.signSimple=Ace;function Ice(t,e,r,n,i){let s=(0,MN.toOutputScript)(e,i),o=A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a=4294967295,u=0,c=A.Buffer.concat([A.Buffer.from("0020","hex"),A.Buffer.from(HN(t),"hex")]),h=new RN.Transaction;h.version=0,h.addInput(o,a,u,c),h.addOutput(s,0);let f=new NN.Psbt;f.setVersion(0),f.addInput({hash:h.getHash(),index:0,sequence:0,witnessUtxo:{script:s,value:0}});let p=X7.base.fromHex(n);return(0,FN.isP2TR)(s)&&f.updateInput(0,{tapInternalKey:p.slice(1)}),f.addOutput({script:A.Buffer.from("6a","hex"),value:0}),f.verify(p,A.Buffer.from(X7.base.fromBase64(r)))}Z7.verifySimple=Ice});var Do=$(hn=>{k();M();var Pce=hn&&hn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oce=hn&&hn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ep=hn&&hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pce(e,t,r);return Oce(e,t),e};Object.defineProperty(hn,"__esModule",{value:!0});hn.BufferWriter=hn.Transaction=hn.psbt=hn.bip0322=hn.script=hn.payments=hn.networks=hn.crypto=hn.address=void 0;var Bce=Ep(K7());hn.address=Bce;var Cce=Ep(_s());hn.crypto=Cce;var kce=Ep(ha());hn.networks=kce;var Mce=Ep($h());hn.payments=Mce;var Rce=Ep(wi());hn.script=Rce;var Nce=Ep(DN());hn.bip0322=Nce;var Fce=Ep(Yg());hn.psbt=Fce;var Hce=Vh();Object.defineProperty(hn,"Transaction",{enumerable:!0,get:function(){return Hce.Transaction}});var Dce=Dh();Object.defineProperty(hn,"BufferWriter",{enumerable:!0,get:function(){return Dce.BufferWriter}})});var Zg=$(Xg=>{k();M();Object.defineProperty(Xg,"__esModule",{value:!0});Xg.validate=void 0;function Uce(t,e){if(!t)throw new Error(e)}Xg.validate=Uce});var qN=$(J7=>{k();M();Object.defineProperty(J7,"__esModule",{value:!0});J7.decode=J7.encode=void 0;var LN=Zg(),Lce="qpzry9x8gf2tvdw0s3jn54khce6mua7l",UN={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};function qce(t){for(var e="",r=0;r<t.length;++r){var n=t[r];(0,LN.validate)(0<=n&&n<32,"Invalid value: "+n+"."),e+=Lce[n]}return e}J7.encode=qce;function $ce(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var n=t[r];(0,LN.validate)(n in UN,"Invalid value: "+n+"."),e[r]=UN[n]}return e}J7.decode=$ce});var $N=$((oVe,Jg)=>{k();M();var Pi=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=h(n),s=Math.log(n);function o(K,X){return typeof K>"u"?o[0]:typeof X<"u"?+X==10?we(K):xe(K,X):we(K)}function a(K,X){this.value=K,this.sign=X,this.isSmall=!1}a.prototype=Object.create(o.prototype);function u(K){this.value=K,this.sign=K<0,this.isSmall=!0}u.prototype=Object.create(o.prototype);function c(K){return-n<K&&K<n}function h(K){return K<1e7?[K]:K<1e14?[K%1e7,Math.floor(K/1e7)]:[K%1e7,Math.floor(K/1e7)%1e7,Math.floor(K/1e14)]}function f(K){p(K);var X=K.length;if(X<4&&R(K,i)<0)switch(X){case 0:return 0;case 1:return K[0];case 2:return K[0]+K[1]*e;default:return K[0]+(K[1]+K[2]*e)*e}return K}function p(K){for(var X=K.length;K[--X]===0;);K.length=X+1}function l(K){for(var X=new Array(K),G=-1;++G<K;)X[G]=0;return X}function y(K){return K>0?Math.floor(K):Math.ceil(K)}function _(K,X){var G=K.length,z=X.length,J=new Array(G),te=0,re=e,ce,oe;for(oe=0;oe<z;oe++)ce=K[oe]+X[oe]+te,te=ce>=re?1:0,J[oe]=ce-te*re;for(;oe<G;)ce=K[oe]+te,te=ce===re?1:0,J[oe++]=ce-te*re;return te>0&&J.push(te),J}function O(K,X){return K.length>=X.length?_(K,X):_(X,K)}function F(K,X){var G=K.length,z=new Array(G),J=e,te,re;for(re=0;re<G;re++)te=K[re]-J+X,X=Math.floor(te/J),z[re]=te-X*J,X+=1;for(;X>0;)z[re++]=X%J,X=Math.floor(X/J);return z}a.prototype.add=function(K){var X=we(K);if(this.sign!==X.sign)return this.subtract(X.negate());var G=this.value,z=X.value;return X.isSmall?new a(F(G,Math.abs(z)),this.sign):new a(O(G,z),this.sign)},a.prototype.plus=a.prototype.add,u.prototype.add=function(K){var X=we(K),G=this.value;if(G<0!==X.sign)return this.subtract(X.negate());var z=X.value;if(X.isSmall){if(c(G+z))return new u(G+z);z=h(Math.abs(z))}return new a(F(z,Math.abs(G)),G<0)},u.prototype.plus=u.prototype.add;function B(K,X){var G=K.length,z=X.length,J=new Array(G),te=0,re=e,ce,oe;for(ce=0;ce<z;ce++)oe=K[ce]-te-X[ce],oe<0?(oe+=re,te=1):te=0,J[ce]=oe;for(ce=z;ce<G;ce++){if(oe=K[ce]-te,oe<0)oe+=re;else{J[ce++]=oe;break}J[ce]=oe}for(;ce<G;ce++)J[ce]=K[ce];return p(J),J}function E(K,X,G){var z;return R(K,X)>=0?z=B(K,X):(z=B(X,K),G=!G),z=f(z),typeof z=="number"?(G&&(z=-z),new u(z)):new a(z,G)}function I(K,X,G){var z=K.length,J=new Array(z),te=-X,re=e,ce,oe;for(ce=0;ce<z;ce++)oe=K[ce]+te,te=Math.floor(oe/re),oe%=re,J[ce]=oe<0?oe+re:oe;return J=f(J),typeof J=="number"?(G&&(J=-J),new u(J)):new a(J,G)}a.prototype.subtract=function(K){var X=we(K);if(this.sign!==X.sign)return this.add(X.negate());var G=this.value,z=X.value;return X.isSmall?I(G,Math.abs(z),this.sign):E(G,z,this.sign)},a.prototype.minus=a.prototype.subtract,u.prototype.subtract=function(K){var X=we(K),G=this.value;if(G<0!==X.sign)return this.add(X.negate());var z=X.value;return X.isSmall?new u(G-z):I(z,Math.abs(G),G>=0)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},u.prototype.negate=function(){var K=this.sign,X=new u(-this.value);return X.sign=!K,X},a.prototype.abs=function(){return new a(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))};function U(K,X){var G=K.length,z=X.length,J=G+z,te=l(J),re=e,ce,oe,pe,ve,Oe;for(pe=0;pe<G;++pe){ve=K[pe];for(var Se=0;Se<z;++Se)Oe=X[Se],ce=ve*Oe+te[pe+Se],oe=Math.floor(ce/re),te[pe+Se]=ce-oe*re,te[pe+Se+1]+=oe}return p(te),te}function N(K,X){var G=K.length,z=new Array(G),J=e,te=0,re,ce;for(ce=0;ce<G;ce++)re=K[ce]*X+te,te=Math.floor(re/J),z[ce]=re-te*J;for(;te>0;)z[ce++]=te%J,te=Math.floor(te/J);return z}function H(K,X){for(var G=[];X-- >0;)G.push(0);return G.concat(K)}function D(K,X){var G=Math.max(K.length,X.length);if(G<=30)return U(K,X);G=Math.ceil(G/2);var z=K.slice(G),J=K.slice(0,G),te=X.slice(G),re=X.slice(0,G),ce=D(J,re),oe=D(z,te),pe=D(O(J,z),O(re,te)),ve=O(O(ce,H(B(B(pe,ce),oe),G)),H(oe,2*G));return p(ve),ve}function C(K,X){return-.012*K-.012*X+15e-6*K*X>0}a.prototype.multiply=function(K){var X=we(K),G=this.value,z=X.value,J=this.sign!==X.sign,te;if(X.isSmall){if(z===0)return o[0];if(z===1)return this;if(z===-1)return this.negate();if(te=Math.abs(z),te<e)return new a(N(G,te),J);z=h(te)}return C(G.length,z.length)?new a(D(G,z),J):new a(U(G,z),J)},a.prototype.times=a.prototype.multiply;function d(K,X,G){return K<e?new a(N(X,K),G):new a(U(X,h(K)),G)}u.prototype._multiplyBySmall=function(K){return c(K.value*this.value)?new u(K.value*this.value):d(Math.abs(K.value),h(Math.abs(this.value)),this.sign!==K.sign)},a.prototype._multiplyBySmall=function(K){return K.value===0?o[0]:K.value===1?this:K.value===-1?this.negate():d(Math.abs(K.value),this.value,this.sign!==K.sign)},u.prototype.multiply=function(K){return we(K)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply;function v(K){var X=K.length,G=l(X+X),z=e,J,te,re,ce,oe;for(re=0;re<X;re++){ce=K[re],te=0-ce*ce;for(var pe=re;pe<X;pe++)oe=K[pe],J=2*(ce*oe)+G[re+pe]+te,te=Math.floor(J/z),G[re+pe]=J-te*z;G[re+X]=te}return p(G),G}a.prototype.square=function(){return new a(v(this.value),!1)},u.prototype.square=function(){var K=this.value*this.value;return c(K)?new u(K):new a(v(h(Math.abs(this.value))),!1)};function g(K,X){var G=K.length,z=X.length,J=e,te=l(X.length),re=X[z-1],ce=Math.ceil(J/(2*re)),oe=N(K,ce),pe=N(X,ce),ve,Oe,Se,ze,Ht,Xe,wt;for(oe.length<=G&&oe.push(0),pe.push(0),re=pe[z-1],Oe=G-z;Oe>=0;Oe--){for(ve=J-1,oe[Oe+z]!==re&&(ve=Math.floor((oe[Oe+z]*J+oe[Oe+z-1])/re)),Se=0,ze=0,Xe=pe.length,Ht=0;Ht<Xe;Ht++)Se+=ve*pe[Ht],wt=Math.floor(Se/J),ze+=oe[Oe+Ht]-(Se-wt*J),Se=wt,ze<0?(oe[Oe+Ht]=ze+J,ze=-1):(oe[Oe+Ht]=ze,ze=0);for(;ze!==0;){for(ve-=1,Se=0,Ht=0;Ht<Xe;Ht++)Se+=oe[Oe+Ht]-J+pe[Ht],Se<0?(oe[Oe+Ht]=Se+J,Se=0):(oe[Oe+Ht]=Se,Se=1);ze+=Se}te[Oe]=ve}return oe=S(oe,ce)[0],[f(te),f(oe)]}function m(K,X){for(var G=K.length,z=X.length,J=[],te=[],re=e,ce,oe,pe,ve,Oe;G;){if(te.unshift(K[--G]),p(te),R(te,X)<0){J.push(0);continue}oe=te.length,pe=te[oe-1]*re+te[oe-2],ve=X[z-1]*re+X[z-2],oe>z&&(pe=(pe+1)*re),ce=Math.ceil(pe/ve);do{if(Oe=N(X,ce),R(Oe,te)<=0)break;ce--}while(ce);J.push(ce),te=B(te,Oe)}return J.reverse(),[f(J),f(te)]}function S(K,X){var G=K.length,z=l(G),J=e,te,re,ce,oe;for(ce=0,te=G-1;te>=0;--te)oe=ce*J+K[te],re=y(oe/X),ce=oe-re*X,z[te]=re|0;return[z,ce|0]}function w(K,X){var G,z=we(X),J=K.value,te=z.value,re;if(te===0)throw new Error("Cannot divide by zero");if(K.isSmall)return z.isSmall?[new u(y(J/te)),new u(J%te)]:[o[0],K];if(z.isSmall){if(te===1)return[K,o[0]];if(te==-1)return[K.negate(),o[0]];var ce=Math.abs(te);if(ce<e){G=S(J,ce),re=f(G[0]);var oe=G[1];return K.sign&&(oe=-oe),typeof re=="number"?(K.sign!==z.sign&&(re=-re),[new u(re),new u(oe)]):[new a(re,K.sign!==z.sign),new u(oe)]}te=h(ce)}var pe=R(J,te);if(pe===-1)return[o[0],K];if(pe===0)return[o[K.sign===z.sign?1:-1],o[0]];J.length+te.length<=200?G=g(J,te):G=m(J,te),re=G[0];var ve=K.sign!==z.sign,Oe=G[1],Se=K.sign;return typeof re=="number"?(ve&&(re=-re),re=new u(re)):re=new a(re,ve),typeof Oe=="number"?(Se&&(Oe=-Oe),Oe=new u(Oe)):Oe=new a(Oe,Se),[re,Oe]}a.prototype.divmod=function(K){var X=w(this,K);return{quotient:X[0],remainder:X[1]}},u.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(K){return w(this,K)[0]},u.prototype.over=u.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(K){return w(this,K)[1]},u.prototype.remainder=u.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(K){var X=we(K),G=this.value,z=X.value,J,te,re;if(z===0)return o[1];if(G===0)return o[0];if(G===1)return o[1];if(G===-1)return X.isEven()?o[1]:o[-1];if(X.sign)return o[0];if(!X.isSmall)throw new Error("The exponent "+X.toString()+" is too large.");if(this.isSmall&&c(J=Math.pow(G,z)))return new u(y(J));for(te=this,re=o[1];z&!0&&(re=re.times(te),--z),z!==0;)z/=2,te=te.square();return re},u.prototype.pow=a.prototype.pow,a.prototype.modPow=function(K,X){if(K=we(K),X=we(X),X.isZero())throw new Error("Cannot take modPow with modulus 0");for(var G=o[1],z=this.mod(X);K.isPositive();){if(z.isZero())return o[0];K.isOdd()&&(G=G.multiply(z).mod(X)),K=K.divide(2),z=z.square().mod(X)}return G},u.prototype.modPow=a.prototype.modPow;function R(K,X){if(K.length!==X.length)return K.length>X.length?1:-1;for(var G=K.length-1;G>=0;G--)if(K[G]!==X[G])return K[G]>X[G]?1:-1;return 0}a.prototype.compareAbs=function(K){var X=we(K),G=this.value,z=X.value;return X.isSmall?1:R(G,z)},u.prototype.compareAbs=function(K){var X=we(K),G=Math.abs(this.value),z=X.value;return X.isSmall?(z=Math.abs(z),G===z?0:G>z?1:-1):-1},a.prototype.compare=function(K){if(K===1/0)return-1;if(K===-1/0)return 1;var X=we(K),G=this.value,z=X.value;return this.sign!==X.sign?X.sign?1:-1:X.isSmall?this.sign?-1:1:R(G,z)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,u.prototype.compare=function(K){if(K===1/0)return-1;if(K===-1/0)return 1;var X=we(K),G=this.value,z=X.value;return X.isSmall?G==z?0:G>z?1:-1:G<0!==X.sign?G<0?-1:1:G<0?1:-1},u.prototype.compareTo=u.prototype.compare,a.prototype.equals=function(K){return this.compare(K)===0},u.prototype.eq=u.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(K){return this.compare(K)!==0},u.prototype.neq=u.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(K){return this.compare(K)>0},u.prototype.gt=u.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(K){return this.compare(K)<0},u.prototype.lt=u.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(K){return this.compare(K)>=0},u.prototype.geq=u.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(K){return this.compare(K)<=0},u.prototype.leq=u.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return(this.value[0]&1)===0},u.prototype.isEven=function(){return(this.value&1)===0},a.prototype.isOdd=function(){return(this.value[0]&1)===1},u.prototype.isOdd=function(){return(this.value&1)===1},a.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return Math.abs(this.value)===1},a.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return this.value===0},a.prototype.isDivisibleBy=function(K){var X=we(K),G=X.value;return G===0?!1:G===1?!0:G===2?this.isEven():this.mod(X).equals(o[0])},u.prototype.isDivisibleBy=a.prototype.isDivisibleBy;function T(K){var X=K.abs();if(X.isUnit())return!1;if(X.equals(2)||X.equals(3)||X.equals(5))return!0;if(X.isEven()||X.isDivisibleBy(3)||X.isDivisibleBy(5))return!1;if(X.lesser(49))return!0}function b(K,X){for(var G=K.prev(),z=G,J=0,te,re,ce,oe;z.isEven();)z=z.divide(2),J++;e:for(ce=0;ce<X.length;ce++)if(!K.lesser(X[ce])&&(oe=Pi(X[ce]).modPow(z,K),!(oe.equals(o[1])||oe.equals(G)))){for(te=J-1;te!=0;te--){if(oe=oe.square().mod(K),oe.isUnit())return!1;if(oe.equals(G))continue e}return!1}return!0}a.prototype.isPrime=function(K){var X=T(this);if(X!==t)return X;var G=this.abs(),z=G.bitLength();if(z<=64)return b(G,[2,325,9375,28178,450775,9780504,1795265022]);for(var J=Math.log(2)*z,te=Math.ceil(K===!0?2*Math.pow(J,2):J),re=[],ce=0;ce<te;ce++)re.push(Pi(ce+2));return b(G,re)},u.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(K){var X=T(this);if(X!==t)return X;for(var G=this.abs(),z=K===t?5:K,J=[],te=0;te<z;te++)J.push(Pi.randBetween(2,G.minus(2)));return b(G,J)},u.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(K){for(var X=Pi.zero,G=Pi.one,z=we(K),J=this.abs(),te,re,ce;!J.equals(Pi.zero);)te=z.divide(J),re=X,ce=z,X=G,z=J,G=re.subtract(te.multiply(G)),J=ce.subtract(te.multiply(J));if(!z.equals(1))throw new Error(this.toString()+" and "+K.toString()+" are not co-prime");return X.compare(0)===-1&&(X=X.add(K)),this.isNegative()?X.negate():X},u.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var K=this.value;return this.sign?I(K,1,this.sign):new a(F(K,1),this.sign)},u.prototype.next=function(){var K=this.value;return K+1<n?new u(K+1):new a(i,!1)},a.prototype.prev=function(){var K=this.value;return this.sign?new a(F(K,1),!0):I(K,1,this.sign)},u.prototype.prev=function(){var K=this.value;return K-1>-n?new u(K-1):new a(i,!0)};for(var x=[1];2*x[x.length-1]<=e;)x.push(2*x[x.length-1]);var P=x.length,L=x[P-1];function V(K){return(typeof K=="number"||typeof K=="string")&&+Math.abs(K)<=e||K instanceof a&&K.value.length<=1}a.prototype.shiftLeft=function(K){if(!V(K))throw new Error(String(K)+" is too large for shifting.");if(K=+K,K<0)return this.shiftRight(-K);var X=this;if(X.isZero())return X;for(;K>=P;)X=X.multiply(L),K-=P-1;return X.multiply(x[K])},u.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(K){var X;if(!V(K))throw new Error(String(K)+" is too large for shifting.");if(K=+K,K<0)return this.shiftLeft(-K);for(var G=this;K>=P;){if(G.isZero()||G.isNegative()&&G.isUnit())return G;X=w(G,L),G=X[1].isNegative()?X[0].prev():X[0],K-=P-1}return X=w(G,x[K]),X[1].isNegative()?X[0].prev():X[0]},u.prototype.shiftRight=a.prototype.shiftRight;function W(K,X,G){X=we(X);for(var z=K.isNegative(),J=X.isNegative(),te=z?K.not():K,re=J?X.not():X,ce=0,oe=0,pe=null,ve=null,Oe=[];!te.isZero()||!re.isZero();)pe=w(te,L),ce=pe[1].toJSNumber(),z&&(ce=L-1-ce),ve=w(re,L),oe=ve[1].toJSNumber(),J&&(oe=L-1-oe),te=pe[0],re=ve[0],Oe.push(G(ce,oe));for(var Se=G(z?1:0,J?1:0)!==0?Pi(-1):Pi(0),ze=Oe.length-1;ze>=0;ze-=1)Se=Se.multiply(L).add(Pi(Oe[ze]));return Se}a.prototype.not=function(){return this.negate().prev()},u.prototype.not=a.prototype.not,a.prototype.and=function(K){return W(this,K,function(X,G){return X&G})},u.prototype.and=a.prototype.and,a.prototype.or=function(K){return W(this,K,function(X,G){return X|G})},u.prototype.or=a.prototype.or,a.prototype.xor=function(K){return W(this,K,function(X,G){return X^G})},u.prototype.xor=a.prototype.xor;var ee=1<<30,ae=(e&-e)*(e&-e)|ee;function se(K){var X=K.value,G=typeof X=="number"?X|ee:X[0]+X[1]*e|ae;return G&-G}function j(K,X){if(X.compareTo(K)<=0){var G=j(K,X.square(X)),z=G.p,J=G.e,te=z.multiply(X);return te.compareTo(K)<=0?{p:te,e:J*2+1}:{p:z,e:J*2}}return{p:Pi(1),e:0}}a.prototype.bitLength=function(){var K=this;return K.compareTo(Pi(0))<0&&(K=K.negate().subtract(Pi(1))),K.compareTo(Pi(0))===0?Pi(0):Pi(j(K,Pi(2)).e).add(Pi(1))},u.prototype.bitLength=a.prototype.bitLength;function Z(K,X){return K=we(K),X=we(X),K.greater(X)?K:X}function Q(K,X){return K=we(K),X=we(X),K.lesser(X)?K:X}function ne(K,X){if(K=we(K).abs(),X=we(X).abs(),K.equals(X))return K;if(K.isZero())return X;if(X.isZero())return K;for(var G=o[1],z,J;K.isEven()&&X.isEven();)z=Math.min(se(K),se(X)),K=K.divide(z),X=X.divide(z),G=G.multiply(z);for(;K.isEven();)K=K.divide(se(K));do{for(;X.isEven();)X=X.divide(se(X));K.greater(X)&&(J=X,X=K,K=J),X=X.subtract(K)}while(!X.isZero());return G.isUnit()?K:K.multiply(G)}function ue(K,X){return K=we(K).abs(),X=we(X).abs(),K.divide(ne(K,X)).multiply(X)}function ge(K,X){K=we(K),X=we(X);var G=Q(K,X),z=Z(K,X),J=z.subtract(G).add(1);if(J.isSmall)return G.add(Math.floor(Math.random()*J));for(var te=J.value.length-1,re=[],ce=!0,oe=te;oe>=0;oe--){var pe=ce?J.value[oe]:e,ve=y(Math.random()*pe);re.unshift(ve),ve<pe&&(ce=!1)}return re=f(re),G.add(typeof re=="number"?new u(re):new a(re,!1))}var xe=function(K,X){for(var G=K.length,z,J=Math.abs(X),z=0;z<G;z++){var te=K[z].toLowerCase();if(te!=="-"&&/[a-z0-9]/.test(te)){if(/[0-9]/.test(te)&&+te>=J){if(te==="1"&&J===1)continue;throw new Error(te+" is not a valid digit in base "+X+".")}else if(te.charCodeAt(0)-87>=J)throw new Error(te+" is not a valid digit in base "+X+".")}}if(2<=X&&X<=36&&G<=s/Math.log(X)){var re=parseInt(K,X);if(isNaN(re))throw new Error(te+" is not a valid digit in base "+X+".");return new u(parseInt(K,X))}X=we(X);var ce=[],oe=K[0]==="-";for(z=oe?1:0;z<K.length;z++){var te=K[z].toLowerCase(),pe=te.charCodeAt(0);if(48<=pe&&pe<=57)ce.push(we(te));else if(97<=pe&&pe<=122)ce.push(we(te.charCodeAt(0)-87));else if(te==="<"){var ve=z;do z++;while(K[z]!==">");ce.push(we(K.slice(ve+1,z)))}else throw new Error(te+" is not a valid character")}return Pe(ce,X,oe)};function Pe(K,X,G){var z=o[0],J=o[1],te;for(te=K.length-1;te>=0;te--)z=z.add(K[te].times(J)),J=J.times(X);return G?z.negate():z}function Le(K){return K<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(K):"<"+K+">"}function ke(K,X){if(X=Pi(X),X.isZero()){if(K.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(X.equals(-1)){if(K.isZero())return{value:[0],isNegative:!1};if(K.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-K)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var G=Array.apply(null,Array(+K-1)).map(Array.prototype.valueOf,[0,1]);return G.unshift([1]),{value:[].concat.apply([],G),isNegative:!1}}var z=!1;if(K.isNegative()&&X.isPositive()&&(z=!0,K=K.abs()),X.equals(1))return K.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+K)).map(Number.prototype.valueOf,1),isNegative:z};for(var J=[],te=K,re;te.isNegative()||te.compareAbs(X)>=0;){re=te.divmod(X),te=re.quotient;var ce=re.remainder;ce.isNegative()&&(ce=X.minus(ce).abs(),te=te.next()),J.push(ce.toJSNumber())}return J.push(te.toJSNumber()),{value:J.reverse(),isNegative:z}}function De(K,X){var G=ke(K,X);return(G.isNegative?"-":"")+G.value.map(Le).join("")}a.prototype.toArray=function(K){return ke(this,K)},u.prototype.toArray=function(K){return ke(this,K)},a.prototype.toString=function(K){if(K===t&&(K=10),K!==10)return De(this,K);for(var X=this.value,G=X.length,z=String(X[--G]),J="0000000",te;--G>=0;)te=String(X[G]),z+=J.slice(te.length)+te;var re=this.sign?"-":"";return re+z},u.prototype.toString=function(K){return K===t&&(K=10),K!=10?De(this,K):String(this.value)},a.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf;function Je(K){if(c(+K)){var X=+K;if(X===y(X))return new u(X);throw new Error("Invalid integer: "+K)}var G=K[0]==="-";G&&(K=K.slice(1));var z=K.split(/e/i);if(z.length>2)throw new Error("Invalid integer: "+z.join("e"));if(z.length===2){var J=z[1];if(J[0]==="+"&&(J=J.slice(1)),J=+J,J!==y(J)||!c(J))throw new Error("Invalid integer: "+J+" is not a valid exponent.");var te=z[0],re=te.indexOf(".");if(re>=0&&(J-=te.length-re-1,te=te.slice(0,re)+te.slice(re+1)),J<0)throw new Error("Cannot include negative exponent part for integers");te+=new Array(J+1).join("0"),K=te}var ce=/^([0-9][0-9]*)$/.test(K);if(!ce)throw new Error("Invalid integer: "+K);for(var oe=[],pe=K.length,ve=r,Oe=pe-ve;pe>0;)oe.push(+K.slice(Oe,pe)),Oe-=ve,Oe<0&&(Oe=0),pe-=ve;return p(oe),new a(oe,G)}function Ae(K){if(c(K)){if(K!==y(K))throw new Error(K+" is not an integer.");return new u(K)}return Je(K.toString())}function we(K){return typeof K=="number"?Ae(K):typeof K=="string"?Je(K):K}for(var mt=0;mt<1e3;mt++)o[mt]=new u(mt),mt>0&&(o[-mt]=new u(-mt));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=Z,o.min=Q,o.gcd=ne,o.lcm=ue,o.isInstance=function(K){return K instanceof a||K instanceof u},o.randBetween=ge,o.fromArray=function(K,X,G){return Pe(K.map(we),we(X||10),G)},o}();typeof Jg<"u"&&Jg.hasOwnProperty("exports")&&(Jg.exports=Pi);typeof define=="function"&&define.amd&&define("big-integer",[],function(){return Pi})});var KN=$(Qg=>{k();M();Object.defineProperty(Qg,"__esModule",{value:!0});Qg.convert=void 0;var jN=Zg();function jce(t,e,r,n){for(var i=n?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),s=(1<<r)-1,o=new Uint8Array(i),a=0,u=0,c=0,h=0;h<t.length;++h){var f=t[h];for((0,jN.validate)(0<=f&&f>>e===0,"Invalid value: "+f+"."),u=u<<e|f,c+=e;c>=r;)c-=r,o[a]=u>>c&s,++a}return n?(0,jN.validate)(c<e&&(u<<r-c&s)===0,"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):c>0&&(o[a]=u<<r-c&s,++a),o}Qg.convert=jce});var XN=$(nu=>{k();M();var Kce=nu&&nu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vce=nu&&nu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VN=nu&&nu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kce(e,t,r);return Vce(e,t),e};Object.defineProperty(nu,"__esModule",{value:!0});nu.decode=nu.encode=void 0;var GN=VN(qN()),Gce=$N(),zN=VN(KN()),rS=Zg();function zce(t,e,r){let n=Tp(WN(t),new Uint8Array(1)),i=Xce(e)+Jce(r),s=e0e(Tp(new Uint8Array([i]),r)),o=Tp(Tp(n,s),new Uint8Array(8)),a=Tp(s,Yce(YN(o)));return t+":"+GN.encode(a)}nu.encode=zce;function Wce(t){let e=t.toLowerCase().split(":");(0,rS.validate)(e.length===2,"Missing prefix: "+t+".");let r=e[0],n=GN.decode(e[1]);(0,rS.validate)(r0e(r,n),"Invalid checksum: "+t+".");let i=t0e(n.subarray(0,-8)),s=i[0],o=i.subarray(1);(0,rS.validate)(Qce(s)===o.length*8,"Invalid hash size: "+t+".");let a=Zce(s);return{prefix:r,type:a,hash:o}}nu.decode=Wce;function WN(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0)&31;return e}function Yce(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}function Xce(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new Error("Invalid type: "+t+".")}}function Zce(t){switch(t&120){case 0:return"P2PKH";case 8:return"P2SH";default:throw new Error("Invalid address type in version byte: "+t+".")}}function Jce(t){switch(t.length*8){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new Error("Invalid hash size: "+t.length+".")}}function Qce(t){switch(t&7){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}function e0e(t){return zN.convert(t,8,5,!1)}function t0e(t){return zN.convert(t,5,8,!0)}function Tp(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function YN(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=Gce(1),n=0;n<t.length;++n){var i=t[n],s=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var o=0;o<e.length;++o)s.shiftRight(o).and(1).equals(1)&&(r=r.xor(e[o]))}return r.xor(1)}function r0e(t,e){var r=Tp(WN(t),new Uint8Array(1)),n=Tp(r,e);return YN(n).equals(0)}});var eF=$(Oi=>{k();M();var n0e=Oi&&Oi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i0e=Oi&&Oi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JN=Oi&&Oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n0e(e,t,r);return i0e(e,t),e};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.convert2LegacyAddress=Oi.isCashAddress=Oi.ValidateBitcashP2PkHAddress=Oi.GetBitcashP2PkHAddressByPublicKey=Oi.GetBitcashAddressByPublicKey=Oi.GetBitcashAddressByHash=void 0;var QN=_s(),eb=JN(XN()),ZN=JN($h());function nS(t,e,r){return eb.encode(t,e,r)}Oi.GetBitcashAddressByHash=nS;function s0e(t,e,r){let n=(0,QN.hash160)(A.Buffer.from(r));return nS(t,e,n)}Oi.GetBitcashAddressByPublicKey=s0e;function o0e(t){let e=(0,QN.hash160)(A.Buffer.from(t));return nS("bitcoincash","P2PKH",e)}Oi.GetBitcashP2PkHAddressByPublicKey=o0e;function a0e(t){try{t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{prefix:e,type:r,hash:n}=eb.decode(t);return r==="P2PKH"&&n.length===20}catch{return!1}}Oi.ValidateBitcashP2PkHAddress=a0e;function u0e(t){try{return t.startsWith("bitcoincash:")||(t="bitcoincash:"+t,eb.decode(t)),!0}catch{return!1}}Oi.isCashAddress=u0e;function c0e(t,e){t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{type:r,hash:n}=eb.decode(t);if(r=="P2PKH")return ZN.p2pkh({hash:A.Buffer.from(n),network:e}).address;if(r=="P2SH")return ZN.p2sh({hash:A.Buffer.from(n),network:e}).address;throw new Error("convert2LegacyAddress error")}Oi.convert2LegacyAddress=c0e});var rF=$(tF=>{k();M();Object.defineProperty(tF,"__esModule",{value:!0})});var aF=$(iu=>{k();M();var f0e=iu&&iu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),h0e=iu&&iu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),iS=iu&&iu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f0e(e,t,r);return h0e(e,t),e};Object.defineProperty(iu,"__esModule",{value:!0});iu.srcInscribe=iu.SrcInscriptionTool=void 0;var js=iS(Do()),l0e=$c(),Q7=_r(),d0e=iS(t0()),p0e=iS(_s()),S3=Ho(),m0e=Do(),nF=j7(),g0e=l0e.signUtil.schnorr.secp256k1.schnorr,b0e=2,iF=31,y0e=4294967293,v0e=7800,_0e=7800,xVe=4e6/10,e6=class{constructor(){this.network=js.networks.bitcoin,this.revealTxs=[],this.commitTx=new js.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newSrcInscriptionTool(e,r){let n=new e6;n.network=e;let i=r.revealOutValue||v0e,s=r.minChangeValue||_0e;return n.buildCommitTx(e,r.inscriptionData,i,r.commitTxPrevOutputList,r.changeAddress,r.commitFeeRate,s)||n.signCommitTx(r.commitTxPrevOutputList),n}buildCommitTx(e,r,n,i,s,o,a){let u=A.Buffer.from(r.contentType),c=A.Buffer.from(r.body);for(;c[c.length-1]==0;)c=c.slice(0,c.length-1);let h=2+u.length+c.length,f=h%62==0?h:h+62-h%62,p=m0e.BufferWriter.withCapacity(f);p.writeSlice(A.Buffer.from([(u.length+c.length)/256,(u.length+c.length)%256])),p.writeSlice(u),p.writeSlice(c),f>h&&p.writeSlice(A.Buffer.alloc(f-h));let l=p.end(),y=Q7.base.fromHex(E0e(i[0].txId,l.toString("hex"))),_=0,O=0,F=new js.Transaction;for(F.version=b0e,O+=n,F.addOutput(js.address.toOutputScript(r.revealAddr,e),n);y.length;){let H=y.slice(0,Math.min(iF,y.length)),D=H.toString("hex");D.length<62&&(D=D+"0".repeat(62-D.length)),y=y.slice(H.length);let d=y.slice(0,Math.min(iF,y.length)).toString("hex");d.length<62&&(d=d+"0".repeat(62-d.length)),y=y.slice(H.length);let v=["03"+D+"00","02"+d+"00","020202020202020202020202020202020202020202020202020202020202020202"].map(m=>A.Buffer.from(m,"hex")),g=js.payments.p2ms({m:1,pubkeys:v});F.addOutput(g.output,n),O+=n}i.forEach(H=>{let D=Q7.base.reverseBuffer(Q7.base.fromHex(H.txId));F.addInput(D,H.vOut,y0e),this.commitTxPrevOutputFetcher.push(H.amount),_+=H.amount});let B=js.address.toOutputScript(s,e);F.addOutput(B,0);let E=F.clone();sF(E,i,this.network);let I=(0,nF.countAdjustedVsize)(E,i.map(H=>H.address),e),U=Math.floor(I*o),N=_-O-U;if(N>=a)F.outs[F.outs.length-1].value=N;else{F.outs=F.outs.slice(0,F.outs.length-1),E.outs=E.outs.slice(0,E.outs.length-1);let H=(0,nF.countAdjustedVsize)(E,i.map(C=>C.address),e),D=Math.floor(H*o);if(_-O-D<0)return this.mustCommitTxFee=U,!0}return this.commitTx=F,!1}signCommitTx(e){sF(this.commitTx,e,this.network)}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};iu.SrcInscriptionTool=e6;function sF(t,e,r){t.ins.forEach((n,i)=>{let s=(0,S3.getAddressType)(e[i].address,r),o=Q7.base.fromHex((0,S3.privateKeyFromWIF)(e[i].privateKey,r)),a=Q7.base.toHex(o),u=(0,S3.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>js.address.toOutputScript(y.address,r)),h=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,h,js.Transaction.SIGHASH_DEFAULT),p=d0e.taprootTweakPrivKey(o),l=A.Buffer.from(g0e.sign(f,p,Q7.base.randomBytes(32)));n.witness=[A.Buffer.from(l)]}else if(s==="legacy"){let c=js.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,js.Transaction.SIGHASH_ALL),f=(0,S3.sign)(h,a),p=js.payments.p2pkh({signature:js.script.signature.encode(f,js.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=p0e.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,js.Transaction.SIGHASH_ALL),l=(0,S3.sign)(p,a);n.witness=[js.script.signature.encode(l,js.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function x0e(t,e){let r=e6.newSrcInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}iu.srcInscribe=x0e;function S0e(t,e){for(var r=[],n=0,i,s="",o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)n=(n+r[o]+t.charCodeAt(o%t.length))%256,i=r[o],r[o]=r[n],r[n]=i;o=0,n=0;for(var a=0;a<e.length;a++)o=(o+1)%256,n=(n+r[o])%256,i=r[o],r[o]=r[n],r[n]=i,s+=String.fromCharCode(e.charCodeAt(a)^r[(r[o]+r[n])%256]);return s}function oF(t){for(var e=[],r,n=0;n<t.length-1;n+=2){var i=parseInt(t.substr(n,2),16);e.push(i)}return r=String.fromCharCode.apply(String,e),r}function w0e(t){var e,r,n="",i;for(t+="",e=0,r=t.length;e<r;e++)i=t.charCodeAt(e).toString(16),n+=i.length<2?"0"+i:i;return n}function E0e(t,e){return w0e(S0e(oF(t),oF(e)))}});var mF=$(Ks=>{k();M();var T0e=Ks&&Ks.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A0e=Ks&&Ks.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aS=Ks&&Ks.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&T0e(e,t,r);return A0e(e,t),e};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.inscribeForMPCSigned=Ks.inscribeForMPCUnsigned=Ks.inscribe=Ks.InscriptionTool=void 0;var Yt=aS(Do()),I0e=$c(),da=_r(),P0e=aS(t0()),cF=aS(_s()),fF=Vh(),Jh=Ho(),sS=wp(),tb=j7(),uS=I0e.signUtil.schnorr.secp256k1.schnorr,rb=2,nb=4294967293,hF=546,lF=546,uF=4e6/10,t6=class{constructor(){this.network=Yt.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Yt.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new t6;n.network=e;let i=r.revealOutValue||hF,s=r.minChangeValue||lF,o=r.commitTxPrevOutputList[0].privateKey;r.inscriptionDataList.forEach(c=>{n.inscriptionTxCtxDataList.push(dF(e,c,o))});let a=n.buildEmptyRevealTx(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,a,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n){let i=0,s=[],o=[],a=[];return this.inscriptionTxCtxDataList.forEach((u,c)=>{let h=new Yt.Transaction;h.version=rb,h.addInput(A.Buffer.alloc(32),c,nb),h.addOutput(u.revealPkScript,r);let f=A.Buffer.alloc(64),p=A.Buffer.alloc(33),l=[];l.push(f),l.push(u.inscriptionScript),l.push(p);let y=Math.floor((h.byteLength()+Math.floor(((0,fF.vectorSize)(l)+2+3)/4))*n),_=r+y;u.revealTxPrevOutput={pkScript:u.commitTxAddressPkScript,value:_},i+=_,s.push(h),o.push(y),a.push(u.commitTxAddress)}),this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=a,i}buildCommitTx(e,r,n,i,s,o){let a=0,u=new Yt.Transaction;u.version=rb,r.forEach(y=>{let _=da.base.reverseBuffer(da.base.fromHex(y.txId));u.addInput(_,y.vOut,nb),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount}),this.inscriptionTxCtxDataList.forEach(y=>{u.addOutput(y.revealTxPrevOutput.pkScript,y.revealTxPrevOutput.value)});let c=Yt.address.toOutputScript(n,e);u.addOutput(c,0);let h=u.clone();oS(h,r.map(y=>({...y,privateKey:""})),this.network);let f=(0,tb.countAdjustedVsize)(h,r.map(y=>y.address),e),p=Math.floor(f*s),l=a-i-p;if(l>=o)u.outs[u.outs.length-1].value=l;else{u.outs=u.outs.slice(0,u.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);let y=(0,tb.countAdjustedVsize)(h,r.map(O=>O.address),e),_=Math.floor(y*s);if(a-i-_<0)return this.mustCommitTxFee=p,!0}return this.commitTx=u,!1}signCommitTx(e){oS(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,Yt.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),o=A.Buffer.from(uS.sign(s,this.inscriptionTxCtxDataList[r].privateKey,da.base.randomBytes(32)));e.ins[0].witness=[A.Buffer.from(o),...this.inscriptionTxCtxDataList[r].witness];let a=e.weight();if(a>uF)throw new Error(`reveal(index ${r}) transaction weight greater than ${uF} (MAX_STANDARD_TX_WEIGHT): ${a}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Ks.InscriptionTool=t6;function oS(t,e,r){t.ins.forEach((n,i)=>{let s=(0,Jh.getAddressType)(e[i].address,r);if(e[i].privateKey==""){let{witness:c,script:h}=(0,Jh.fakeSign)(s);c!==void 0&&(n.witness=c),h!==void 0&&(n.script=h);return}let o=da.base.fromHex((0,Jh.privateKeyFromWIF)(e[i].privateKey,r)),a=da.base.toHex(o),u=(0,Jh.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>Yt.address.toOutputScript(y.address,r)),h=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,h,Yt.Transaction.SIGHASH_DEFAULT),p=P0e.taprootTweakPrivKey(o),l=A.Buffer.from(uS.sign(f,p,da.base.randomBytes(32)));n.witness=[A.Buffer.from(l)]}else if(s==="legacy"){let c=Yt.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,Yt.Transaction.SIGHASH_ALL),f=(0,Jh.sign)(h,a),p=Yt.payments.p2pkh({signature:Yt.script.signature.encode(f,Yt.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=cF.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,Yt.Transaction.SIGHASH_ALL),l=(0,Jh.sign)(p,a);n.witness=[Yt.script.signature.encode(l,Yt.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function dF(t,e,r){let n=da.base.fromHex((0,Jh.privateKeyFromWIF)(r,t)),i=(0,Jh.wif2Public)(r,t).slice(1),s=Yt.script.OPS,o=[];o.push(i),o.push(s.OP_CHECKSIG),o.push(s.OP_FALSE),o.push(s.OP_IF),o.push(A.Buffer.from("ord")),o.push(s.OP_DATA_1),o.push(s.OP_DATA_1),o.push(A.Buffer.from(e.contentType)),o.push(s.OP_0);let a=520,u=A.Buffer.from(e.body),c=u.length;for(let F=0;F<c;F+=a){let B=F+a;B>c&&(B=c),o.push(u.slice(F,B))}o.push(s.OP_ENDIF);let h=Yt.script.compile(o),f={output:h},p={output:h,redeemVersion:192},{output:l,witness:y,hash:_,address:O}=Yt.payments.p2tr({internalPubkey:i,scriptTree:f,redeem:p,network:t});return{privateKey:n,inscriptionScript:h,commitTxAddress:O,commitTxAddressPkScript:l,witness:y,hash:_,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:Yt.address.toOutputScript(e.revealAddr,t)}}function O0e(t,e){let r=t6.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Ks.inscribe=O0e;function pF(t,e,r,n){let i=t.commitTxPrevOutputList[0].privateKey,s=[];t.inscriptionDataList.forEach(U=>{s.push(dF(e,U,i))});let o=0,a=t.revealOutValue||hF,u=[];s.forEach((U,N)=>{let H=new Yt.Transaction;H.version=rb,H.addInput(A.Buffer.alloc(32),N,nb),H.addOutput(U.revealPkScript,a),u.push(H);let D=A.Buffer.alloc(64),C=A.Buffer.alloc(33),d=[];d.push(D),d.push(U.inscriptionScript),d.push(C);let v=Math.floor((H.byteLength()+Math.floor(((0,fF.vectorSize)(d)+2+3)/4))*t.revealFeeRate),g=a+v;U.revealTxPrevOutput={pkScript:U.commitTxAddressPkScript,value:g},o+=g});let c=0,h=new Yt.Transaction;h.version=rb,t.commitTxPrevOutputList.forEach(U=>{h.addInput(da.base.reverseBuffer(da.base.fromHex(U.txId)),U.vOut,nb),c+=U.amount});let f=[];s.forEach(U=>{h.addOutput(U.revealTxPrevOutput.pkScript,U.revealTxPrevOutput.value),f.push(U.commitTxAddress)});let p=Yt.address.toOutputScript(t.changeAddress,e);h.addOutput(p,0);let l=h.clone();oS(l,t.commitTxPrevOutputList,e);let y=(0,tb.countAdjustedVsize)(l,t.commitTxPrevOutputList.map(U=>U.address),e),_=Math.floor(y*t.commitFeeRate),O=c-o-_;if(O>=(t.minChangeValue||lF))h.outs[h.outs.length-1].value=O;else{h.outs=h.outs.slice(0,h.outs.length-1),l.outs=l.outs.slice(0,l.outs.length-1);let U=(0,tb.countAdjustedVsize)(l,t.commitTxPrevOutputList.map(H=>H.address),e),N=Math.floor(U*t.commitFeeRate);if(c-o-N<0)throw new Error("insufficient balance")}let F=C0e(h,t.commitTxPrevOutputList,e),B=h.getHash();n&&(B=n),u.forEach((U,N)=>{U.ins[0].hash=B;let H=[s[N].revealTxPrevOutput.pkScript],D=[s[N].revealTxPrevOutput.value],C=U.hashForWitnessV1(0,H,D,Yt.Transaction.SIGHASH_DEFAULT,s[N].hash),d=A.Buffer.from(uS.sign(C,s[N].privateKey,da.base.randomBytes(32)));U.ins[0].witness=[d,...s[N].witness]});let E=0;h.ins.forEach((U,N)=>{E+=t.commitTxPrevOutputList[N].amount}),h.outs.forEach(U=>{E-=U.value});let I=[];return u.forEach((U,N)=>{let H=0;H+=s[N].revealTxPrevOutput.value,H-=U.outs[0].value,I.push(H)}),{signHashList:F,commitTx:h.toHex(),revealTxs:u.map(U=>U.toHex()),commitTxFee:E,revealTxFees:I,commitAddrs:f}}Ks.inscribeForMPCUnsigned=pF;function B0e(t,e){let r=t.commitTx,n=t.signatureList,i=Yt.Transaction.fromHex(r),s=i.getHash();i.ins.forEach((u,c)=>{let h=da.base.fromHex(n[c]);!u.witness||u.witness.length==0?u.script=Yt.payments.p2pkh({pubkey:Yt.payments.p2pkh({input:u.script}).pubkey,signature:Yt.script.signature.encode(h,Yt.Transaction.SIGHASH_ALL)}).input:u.witness[0]=Yt.script.signature.encode(h,Yt.Transaction.SIGHASH_ALL)});let o=i.getHash(),a=pF(t,e,s,o);return{signHashList:null,commitTx:i.toHex(),revealTxs:a.revealTxs,commitTxFee:a.commitTxFee,revealTxFees:a.revealTxFees,commitAddrs:a.commitAddrs}}Ks.inscribeForMPCSigned=B0e;function C0e(t,e,r){let n=[];return t.ins.forEach((i,s)=>{let o=da.base.fromHex(e[s].publicKey),a=Yt.address.toOutputScript(e[s].address,r),u=A.Buffer.alloc(64,0),c;if((0,sS.isP2TR)(a)){let h=e.map(p=>Yt.address.toOutputScript(p.address,r)),f=e.map(p=>p.amount);c=t.hashForWitnessV1(s,h,f,Yt.Transaction.SIGHASH_DEFAULT),i.witness=[u]}else if((0,sS.isP2PKH)(a)){let h=Yt.address.toOutputScript(e[s].address,r);c=t.hashForSignature(s,h,Yt.Transaction.SIGHASH_ALL),i.script=Yt.payments.p2pkh({pubkey:o,signature:Yt.script.signature.encode(u,Yt.Transaction.SIGHASH_ALL)}).input}else{let h=cF.hash160(o),f=A.Buffer.of(25,118,169,20,...h,136,172);c=t.hashForWitness(s,f,e[s].amount,Yt.Transaction.SIGHASH_ALL),i.witness=Yt.payments.p2wpkh({pubkey:o,signature:Yt.script.signature.encode(u,Yt.Transaction.SIGHASH_ALL)}).witness;let p=A.Buffer.of(22,0,20,...h);(0,sS.isP2SHScript)(a)&&(i.script=p)}n.push(da.base.toHex(c))}),n}});var vF=$(Vo=>{k();M();var k0e=Vo&&Vo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M0e=Vo&&Vo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cS=Vo&&Vo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k0e(e,t,r);return M0e(e,t),e};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.inscribeRefundFee=Vo.createInscriptionTxCtxData=Vo.InscriptionRefundFeeTool=void 0;var os=cS(Do()),R0e=$c(),r6=_r(),N0e=cS(t0()),F0e=cS(_s()),Ap=Ho(),gF=j7(),H0e=R0e.signUtil.schnorr.secp256k1.schnorr,D0e=2,U0e=4294967293,L0e=546,PVe=4e6/10,n6=class{constructor(){this.network=os.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.refundFeeTx=new os.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustTxFee=0,this.dustChange=0,this.commitAddrs=[],this.merkleRoot=new Uint8Array}static newInscriptionRefundFeeTool(e,r){let n=new n6;n.network=e;let i=r.minChangeValue||L0e;if(r.inputs&&r.inputs.length>600)throw new Error("invalid amount of inputs");let s=100;r.maxAmountOfInput&&(s=r.maxAmountOfInput),s>r.inputs.length&&(s=r.inputs.length);let o=r.inputs[0].privateKey;if(r.inscriptionRefundFeeDataList.forEach(u=>{n.inscriptionTxCtxDataList.push(yF(e,u,o))}),r.middleAddress&&r.middleAddress!=n.inscriptionTxCtxDataList[0].commitTxAddress)throw new Error("invalid middle address");return n.commitAddrs=[n.inscriptionTxCtxDataList[0].commitTxAddress],n.merkleRoot=n.inscriptionTxCtxDataList[0].hash,n.buildrRefundFeeTx(e,r.inputs.slice(0,s),r.changeAddress,0,r.feeRate,i)||n.signRefundFeeTx(r.inputs.slice(0,s)),n}buildrRefundFeeTx(e,r,n,i,s,o){let a=0,u=new os.Transaction;u.version=D0e,r.forEach(y=>{let _=r6.base.reverseBuffer(r6.base.fromHex(y.txId));u.addInput(_,y.vOut,U0e),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount});let c=os.address.toOutputScript(n,e);u.addOutput(c,0);let h=u.clone();bF(h,r,this.network);let f=(0,gF.countAdjustedVsize)(h,r.map(y=>y.address),e),p=Math.floor(f*s),l=a-i-p;if(l>=o)u.outs[u.outs.length-1].value=l;else{if(u.outs.length<=1)return this.dustChange=l,!0;u.outs=u.outs.slice(0,u.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);let y=(0,gF.countAdjustedVsize)(h,r.map(O=>O.address),e),_=Math.floor(y*s);if(a-i-_<0)return this.mustTxFee=p,!0}return this.refundFeeTx=u,!1}signRefundFeeTx(e){bF(this.refundFeeTx,e,this.network,this.merkleRoot)}calculateFee(){let e=0;return this.refundFeeTx.ins.forEach((r,n)=>{e+=this.commitTxPrevOutputFetcher[n]}),this.refundFeeTx.outs.forEach(r=>{e-=r.value}),{refundFeeTxFee:e}}};Vo.InscriptionRefundFeeTool=n6;function bF(t,e,r,n=new Uint8Array){t.ins.forEach((i,s)=>{let o=(0,Ap.getAddressType)(e[s].address,r),a=r6.base.fromHex((0,Ap.privateKeyFromWIF)(e[s].privateKey,r)),u=r6.base.toHex(a),c=(0,Ap.private2public)(u);if(o==="segwit_taproot"){let h=e.map(_=>os.address.toOutputScript(_.address,r)),f=e.map(_=>_.amount),p=t.hashForWitnessV1(s,h,f,os.Transaction.SIGHASH_DEFAULT),l=N0e.taprootTweakPrivKey(a,n),y=A.Buffer.from(H0e.sign(p,l,r6.base.randomBytes(32)));i.witness=[A.Buffer.from(y)]}else if(o==="legacy"){let h=os.address.toOutputScript(e[s].address,r),f=t.hashForSignature(s,h,os.Transaction.SIGHASH_ALL),p=(0,Ap.sign)(f,u),l=os.payments.p2pkh({signature:os.script.signature.encode(p,os.Transaction.SIGHASH_ALL),pubkey:c});i.script=l.input}else{let h=F0e.hash160(c),f=A.Buffer.of(25,118,169,20,...h,136,172),p=e[s].amount,l=t.hashForWitness(s,f,p,os.Transaction.SIGHASH_ALL),y=(0,Ap.sign)(l,u);i.witness=[os.script.signature.encode(y,os.Transaction.SIGHASH_ALL),c];let _=A.Buffer.of(22,0,20,...h);o==="segwit_nested"&&(i.script=_)}})}function yF(t,e,r){let n=r6.base.fromHex((0,Ap.privateKeyFromWIF)(r,t)),i=(0,Ap.wif2Public)(r,t).slice(1),s=os.script.OPS,o=[];o.push(i),o.push(s.OP_CHECKSIG),o.push(s.OP_FALSE),o.push(s.OP_IF),o.push(A.Buffer.from("ord")),o.push(s.OP_DATA_1),o.push(s.OP_DATA_1),o.push(A.Buffer.from(e.contentType)),o.push(s.OP_0);let a=520,u=A.Buffer.from(e.body),c=u.length;for(let F=0;F<c;F+=a){let B=F+a;B>c&&(B=c),o.push(u.slice(F,B))}o.push(s.OP_ENDIF);let h=os.script.compile(o),f={output:h},p={output:h,redeemVersion:192},{output:l,witness:y,hash:_,address:O}=os.payments.p2tr({internalPubkey:i,scriptTree:f,redeem:p,network:t});return{privateKey:n,inscriptionScript:h,commitTxAddress:O,commitTxAddressPkScript:l,witness:y,hash:_,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:os.address.toOutputScript(e.revealAddr,t)}}Vo.createInscriptionTxCtxData=yF;function q0e(t,e){let r=n6.newInscriptionRefundFeeTool(t,e);return r.mustTxFee>0||r.dustChange!=0?{refundFeeTx:"",mustTxFee:r.mustTxFee,dustChange:r.dustChange}:{refundFeeTx:r.refundFeeTx.toHex(),...r.calculateFee(),middleAddresses:r.commitAddrs}}Vo.inscribeRefundFee=q0e});var TF=$(Qn=>{k();M();var $0e=Qn&&Qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j0e=Qn&&Qn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lS=Qn&&Qn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$0e(e,t,r);return j0e(e,t),e};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.dogInscribe=Qn.DogInscriptionTool=Qn.DogScript=Qn.bufferToChunk=Qn.bufferToBuffer=Qn.CHANGE_OUTPUT_MAX_SIZE=void 0;var ln=lS(Do()),s0=_r(),K0e=lS(_s()),su=Ho(),EF=Do(),uo=bp(),V0e=lS($h()),Qh=Dh();Qn.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;var _F=2,fS=4294967293,G0e=1e5,z0e=1e5,W0e=240,xF=1500;function SF(t){return{buf:t<=16?void 0:t<128?A.Buffer.from([t]):A.Buffer.from([t%256,t/256]),len:t<=16?0:t<128?1:2,opcodenum:t==0?0:t<=16?80+t:t<128?1:2}}function w3(t){let e=i6(t),r=Qh.varuint.encodingLength(e.opcodenum);var n=e.opcodenum;e.buf&&((n===uo.OPS.OP_PUSHDATA1||n===uo.OPS.OP_PUSHDATA2||n===uo.OPS.OP_PUSHDATA4)&&(r+=Qh.varuint.encodingLength(e.len)),r+=e.buf.length);let i=EF.BufferWriter.withCapacity(r);return i.writeUInt8(e.opcodenum),e.buf&&(n<uo.OPS.OP_PUSHDATA1?i.writeSlice(e.buf):n===uo.OPS.OP_PUSHDATA1?(i.writeUInt8(e.len),i.writeSlice(e.buf)):n===uo.OPS.OP_PUSHDATA2?(i.writeUInt64(e.len),i.writeSlice(e.buf)):n===uo.OPS.OP_PUSHDATA4&&(i.writeUInt32(e.len),i.writeSlice(e.buf))),i.end()}Qn.bufferToBuffer=w3;function i6(t){return{buf:t.length?t:void 0,len:t.length,opcodenum:t.length<=75?t.length:t.length<=255?76:77}}Qn.bufferToChunk=i6;function hS(t){return{opcodenum:t}}var s6=class{constructor(){this.chunks=[]}total(){return this.chunks.length==0?0:this.chunks.map(r=>{let n=Qh.varuint.encodingLength(r.opcodenum);var i=r.opcodenum;return r.buf&&(i<uo.OPS.OP_PUSHDATA1||(i===uo.OPS.OP_PUSHDATA1||i===uo.OPS.OP_PUSHDATA2||i===uo.OPS.OP_PUSHDATA4)&&(n+=Qh.varuint.encodingLength(r.len)),n+=r.buf.length),n}).reduce((r,n)=>r+n)}toBuffer(){let e=this.total(),r=EF.BufferWriter.withCapacity(e);for(var n=0;n<this.chunks.length;n++){var i=this.chunks[n],s=i.opcodenum;r.writeUInt8(i.opcodenum),i.buf&&(s<uo.OPS.OP_PUSHDATA1?r.writeSlice(i.buf):s===uo.OPS.OP_PUSHDATA1?(r.writeUInt8(i.len),r.writeSlice(i.buf)):s===uo.OPS.OP_PUSHDATA2?(r.writeUInt64(i.len),r.writeSlice(i.buf)):s===uo.OPS.OP_PUSHDATA4&&(r.writeUInt32(i.len),r.writeSlice(i.buf)))}return r.end()}};Qn.DogScript=s6;var o6=class{constructor(){this.network=ln.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new ln.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[],this.fromAddr="",this.revealAddr=""}static newDogInscriptionTool(e,r){let n=new o6;n.network=e;let i=r.revealOutValue||G0e,s=r.minChangeValue||z0e,o=r.commitTxPrevOutputList[0].privateKey;n.inscriptionTxCtxDataList=Y0e(e,r.inscriptionData,o),n.revealAddr=r.inscriptionData.revealAddr;let a=s0.base.toHex(s0.base.fromHex((0,su.privateKeyFromWIF)(o,e))),u=(0,su.private2public)(a);n.fromAddr=ln.payments.p2pkh({pubkey:u,network:e}).address;let c=n.buildEmptyRevealTxs(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,c,i,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTxs(e,r,n){let i=0,s=[],o=[],a=[],u=0;for(let c=this.inscriptionTxCtxDataList.length-1;c>-1;c--){let h=this.inscriptionTxCtxDataList[c],f=new ln.Transaction;f.version=_F,f.addInput(A.Buffer.alloc(32),0,fS),f.addInput(A.Buffer.alloc(32),1,fS),f.addOutput(c!=this.inscriptionTxCtxDataList.length-1?h.commitTxAddressPkScript:h.revealPkScript,r);let p=A.Buffer.alloc(72),l=A.Buffer.concat([h.inscriptionScript,w3(p),w3(h.redeemScript)]);f.ins[0].script=l,c!=this.inscriptionTxCtxDataList.length-1&&f.addOutput(ln.address.toOutputScript(this.fromAddr,e),u),f.ins[1].script=A.Buffer.alloc(106);let y=Math.floor((f.dogeByteLength()+Qn.CHANGE_OUTPUT_MAX_SIZE)*n);u+=y;let _=y;h.revealTxPrevOutput={pkScript:h.commitTxAddressPkScript,value:_},i+=_,s.push(f),o.push(y),a.push(h.commitTxAddress)}for(let c=0,h=s.length-1;c<h;c++,h--)[s[c],s[h]]=[s[h],s[c]],[o[c],o[h]]=[o[h],o[c]],[a[c],a[h]]=[a[h],a[c]];return this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=a,i+=r,i}buildCommitTx(e,r,n,i,s,o,a){let u=0,c=new ln.Transaction;c.version=_F,r.forEach(y=>{let _=s0.base.reverseBuffer(s0.base.fromHex(y.txId));c.addInput(_,y.vOut,fS),this.commitTxPrevOutputFetcher.push(y.amount),u+=y.amount}),c.addOutput(this.inscriptionTxCtxDataList[0].revealTxPrevOutput.pkScript,s),c.addOutput(ln.address.toOutputScript(this.fromAddr,e),i);let h=ln.address.toOutputScript(n,e);c.addOutput(h,0);let f=c.clone();wF(f,r,this.network);let p=Math.floor((f.dogeByteLength()+Qn.CHANGE_OUTPUT_MAX_SIZE)*o),l=u-i-p;if(l>=a)c.outs[c.outs.length-1].value=l;else{c.outs=c.outs.slice(0,c.outs.length-1),f.outs=f.outs.slice(0,f.outs.length-1);let y=Math.floor(f.dogeByteLength()*o);if(u-i-y<0)return this.mustCommitTxFee=p,!0}return this.commitTx=c,!1}signCommitTx(e){wF(this.commitTx,e,this.network)}completeRevealTx(){for(let e=0;e<this.revealTxs.length;e++){let r=this.revealTxs[e];r.ins[0].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),r.ins[1].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value);let n=this.inscriptionTxCtxDataList[e].redeemScript,i=r.hashForSignature(0,n,ln.Transaction.SIGHASH_ALL),s=s0.base.toHex(this.inscriptionTxCtxDataList[e].privateKey),o=(0,su.sign)(i,s),a=ln.script.signature.encode(o,ln.Transaction.SIGHASH_ALL);r.ins[0].script=A.Buffer.concat([this.inscriptionTxCtxDataList[e].inscriptionScript,w3(a),w3(this.inscriptionTxCtxDataList[e].redeemScript)]);let u=ln.address.toOutputScript(this.fromAddr,this.network),c=r.hashForSignature(1,u,ln.Transaction.SIGHASH_ALL),h=(0,su.sign)(c,s),f=ln.payments.p2pkh({signature:ln.script.signature.encode(h,ln.Transaction.SIGHASH_ALL),pubkey:(0,su.private2public)(s)});r.ins[1].script=f.input}}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s=this.revealTxPrevOutputFetcher[i],r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Qn.DogInscriptionTool=o6;function wF(t,e,r){t.ins.forEach((n,i)=>{let s=(0,su.getAddressType)(e[i].address,r),o=s0.base.fromHex((0,su.privateKeyFromWIF)(e[i].privateKey,r)),a=s0.base.toHex(o),u=(0,su.private2public)(a);if(s==="legacy"){let c=ln.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,ln.Transaction.SIGHASH_ALL),f=(0,su.sign)(h,a),p=ln.payments.p2pkh({signature:ln.script.signature.encode(f,ln.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=K0e.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,ln.Transaction.SIGHASH_ALL),l=(0,su.sign)(p,a);n.witness=[ln.script.signature.encode(l,ln.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function Y0e(t,e,r){let n=s0.base.fromHex((0,su.privateKeyFromWIF)(r,t)),i=(0,su.wif2Public)(r,t),s=ln.script.OPS,o;typeof e.body=="string"?o=A.Buffer.from(e.body):o=e.body;let a=[];for(;o.length;){let h=o.slice(0,Math.min(W0e,o.length));o=o.slice(h.length),a.push(h)}let u=new s6;u.chunks.push(i6(A.Buffer.from("ord"))),u.chunks.push(SF(a.length)),u.chunks.push(i6(A.Buffer.from(e.contentType))),a.forEach((h,f)=>{u.chunks.push(SF(a.length-f-1)),u.chunks.push(i6(h))});let c=[];for(;u.chunks.length;){let h=new s6;for(c.length==0&&h.chunks.push(u.chunks.shift());h.total()<=xF&&u.chunks.length;)h.chunks.push(u.chunks.shift()),h.chunks.push(u.chunks.shift());h.total()>xF&&(u.chunks.unshift(h.chunks.pop()),u.chunks.unshift(h.chunks.pop()));let f=new s6;f.chunks.push(i6(i)),f.chunks.push(hS(s.OP_CHECKSIGVERIFY)),h.chunks.forEach(()=>{f.chunks.push(hS(s.OP_DROP))}),f.chunks.push(hS(s.OP_TRUE));let p=s0.base.ripemd160(s0.base.sha256(f.toBuffer())),{output:l,address:y}=V0e.p2sh({hash:A.Buffer.from(p),network:t}),_={privateKey:n,inscriptionScript:h.toBuffer(),redeemScript:f.toBuffer(),commitTxAddress:y,commitTxAddressPkScript:l,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:1e5},revealPkScript:ln.address.toOutputScript(e.revealAddr,t)};c.push(_)}return c}function X0e(t,e){let r=o6.newDogInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Qn.dogInscribe=X0e});var OF=$(Go=>{k();M();Object.defineProperty(Go,"__esModule",{value:!0});Go.verifyWithAddress=Go.getMPCSignedMessage=Go.verify=Go.sign=Go.toCompact=Go.magicHash=void 0;var sb=$c(),$i=_r(),Z0e=Ho(),J0e=A.Buffer.from(`Bitcoin Signed Message:
`);function AF(t){let e;return t<253?(e=A.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=A.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=A.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=A.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}function ob(t,e){let r=e?A.Buffer.from(e,"utf8"):J0e,n=AF(r.length),i=A.Buffer.from(t),s=AF(i.length),o=A.Buffer.concat([n,r,s,i]);return $i.base.doubleSha256(o)}Go.magicHash=ob;function pS(t,e,r){if(!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");let n=t+27+4;return r||(n=n-4),A.Buffer.concat([Uint8Array.of(n),Uint8Array.from(e)])}Go.toCompact=pS;function Q0e(t,e,r,n){let i=ob(e,n);if(!t)return $i.base.toHex(i);let s=$i.base.fromHex((0,Z0e.privateKeyFromWIF)(t,r)),{signature:o,recovery:a}=sb.signUtil.secp256k1.sign(A.Buffer.from(i),s);return $i.base.toBase64(pS(a,o,!0))}Go.sign=Q0e;function efe(t,e,r,n){let i=ob(e,n),s=$i.base.fromBase64(r),o=s[0]-27-4,a=s.slice(1);return sb.signUtil.secp256k1.verify(A.Buffer.from(i),a,o,$i.base.fromHex(t))}Go.verify=efe;function tfe(t,e,r){let n=$i.base.fromHex(e),i=n.slice(0,32),s=n.slice(32,64),o=sb.signUtil.secp256k1.getV($i.base.fromHex(t),$i.base.toHex(i),$i.base.toHex(s),$i.base.fromHex(r));return $i.base.toBase64(pS(o,n,!0))}Go.getMPCSignedMessage=tfe;function rfe(t,e,r,n){let i=ob(e,n),s=$i.base.fromBase64(r),o=s[0]-27,a=s.slice(1),u=o&3,c=o&8?o&4?dS.P2WPKH:dS.P2SH_P2WPKH:null,h=!!(o&12),f=sb.signUtil.secp256k1.recover(a,u,A.Buffer.from(i),h);if(f==null)return!1;let p=A.Buffer.from($i.base.hash160(f)),l,y;if(c)c===dS.P2SH_P2WPKH?(l=PF(p),y=$i.base.fromBase58Check(t).slice(1)):(l=p,y=IF(t));else try{return y=IF(t),ib(p,y)}catch{let O=PF(p),F=$i.base.fromBase58Check(t).slice(1);return ib(p,F)||ib(O,F)}return ib(l,y)}Go.verifyWithAddress=rfe;var dS={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function IF(t){let e=$i.base.bech32.decode(t),r=$i.base.bech32.fromWords(e.words.slice(1));return A.Buffer.from(r)}function PF(t){let e=A.Buffer.concat([A.Buffer.from("0014","hex"),t]);return A.Buffer.from($i.base.hash160(e))}function ib(t,e){if(!A.Buffer.isBuffer(t)||!A.Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}});var ac=$(ei=>{k();M();var nfe=ei&&ei.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ife=ei&&ei.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sfe=ei&&ei.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nfe(e,t,r);return ife(e,t),e};Object.defineProperty(ei,"__esModule",{value:!0});ei.convert2UtxoTx=ei.number2Hex=ei.TBtcWallet=ei.BtcWallet=ei.BITCOIN_MESSAGE_BIP0322_SIMPLE=ei.BITCOIN_MESSAGE_ECDSA=void 0;var dt=_r(),BF=$c(),ab=_r(),Fe=sfe(zo()),Jr=zo();ei.BITCOIN_MESSAGE_ECDSA=0;ei.BITCOIN_MESSAGE_BIP0322_SIMPLE=1;var ub=class extends dt.BaseWallet{network(){return Fe.networks.bitcoin}async getDerivedPath(e){return e.segwitType?e.segwitType==dt.segwitType.SEGWIT_NESTED?`m/84'/0'/0'/0/${e.index}`:e.segwitType==dt.segwitType.SEGWIT_NESTED_49?`m/49'/0'/0'/0/${e.index}`:e.segwitType==dt.segwitType.SEGWIT_NATIVE?`m/84'/0'/0'/0/${e.index}`:e.segwitType==dt.segwitType.SEGWIT_TAPROOT?`m/86'/0'/0'/0/${e.index}`:Promise.reject(dt.DerivePathError):`m/44'/0'/0'/0/${e.index}`}async validPrivateKey(e){let r;try{let{version:i}=Fe.wif.decode(e.privateKey);r=i===this.network().wif}catch{r=!1}let n={isValid:r,privateKey:e.privateKey};return Promise.resolve(n)}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=e.addressType||"Legacy",s=Fe.wif2Public(n,r),o;i==="Legacy"?o=Fe.payments.p2pkh({pubkey:s,network:r}).address:i==="segwit_native"?o=Fe.payments.p2wpkh({pubkey:s,network:r}).address:i==="segwit_nested"?o=Fe.payments.p2sh({redeem:Fe.payments.p2wpkh({pubkey:s,network:r})}).address:i==="segwit_taproot"&&(o=Fe.payments.p2tr({internalPubkey:s.slice(1),network:r}).address);let a={address:o||"",publicKey:ab.base.toHex(i==="segwit_taproot"?s.slice(1):s),compressedPublicKey:ab.base.toHex(s)};return Promise.resolve(a)}catch{return Promise.reject(dt.NewAddressError)}}async validAddress(e){let r=!1,n=this.network();try{Fe.address.toOutputScript(e.address,n)&&(r=!0)}catch{}e.addressType&&(r=e.addressType===Fe.getAddressType(e.address,n));let i={isValid:r,address:e.address};return Promise.resolve(i)}async signTransaction(e){let r=e.data.type||0;if(r===Fe.BtcXrcTypes.INSCRIBE)try{return Promise.resolve(Fe.inscribe(this.network(),e.data))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT)try{return Promise.resolve(Fe.psbtSign(e.data.psbt,e.privateKey,this.network()))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_DEODE)try{return Promise.resolve(Fe.psbtDecode(e.data.psbt,this.network()))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_MPC_UNSIGNED_LIST)try{return Promise.resolve(Fe.generateMPCUnsignedListingPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_MPC_SIGNED_LIST)try{return Promise.resolve(Fe.generateMPCSignedListingPSBT(e.data.psbt,e.data.publicKey,e.data.signature,this.network()))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_MPC_UNSIGNED_BUY)try{return Promise.resolve(Fe.generateMPCUnsignedBuyingPSBT(e.data.psbt,e.data.publicKey,this.network(),e.data.batchSize))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_MPC_SIGNED_BUY)try{return Promise.resolve(Fe.generateMPCSignedBuyingTx(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network(),e.data.batchSize))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_MPC_UNSIGNED)try{return Promise.resolve(Fe.generateMPCUnsignedPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_MPC_SIGNED)try{return Promise.resolve(Fe.generateMPCSignedPSBT(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network()))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH)try{return Promise.resolve(Fe.signPsbtWithKeyPathAndScriptPath(e.data.psbt,e.privateKey,this.network(),{autoFinalized:e.data.autoFinalized,toSignInputs:e.data.toSignInputs}))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH_BATCH)try{return Promise.resolve(Fe.signPsbtWithKeyPathAndScriptPathBatch(e.data.psbtHexs,e.privateKey,this.network(),e.data.options))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.SRC20)try{return Promise.resolve(Fe.srcInscribe(this.network(),e.data))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.RUNE)try{let n=new Jr.RuneWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.RuneTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.RUNEMAIN)try{let n=new Jr.RuneMainWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.RuneMainTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.ARC20)try{let n=new Jr.AtomicalWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.AtomicalTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(dt.SignTxError)}else if(r===Fe.BtcXrcTypes.CAT20){let n=new Jr.CatWallet;try{return Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(dt.SignTxError)}}else if(r===Fe.BtcXrcTypes.PSBT_RUNEMAIN)try{let n=new Jr.RuneMainWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(dt.SignTxError)}else{let n=null;try{let i=e.privateKey,s=E3(e.data);return n=Fe.signBtc(s,i,this.network()),Promise.resolve(n)}catch{return Promise.reject(dt.SignTxError)}}}getRandomPrivateKey(){try{let e=this.network();for(;;){let r=ab.base.randomBytes(32);if((0,dt.secp256k1SignTest)(r)){let n=Fe.private2Wif(r,e);return Promise.resolve(n)}}}catch{return Promise.reject(dt.GenPrivateKeyError)}}getDerivedPrivateKey(e){let r=this.network();return BF.bip39.mnemonicToSeedV2(e.mnemonic).then(n=>{let i=BF.bip32.fromSeedV2(n,e.hdPath);if(!i.privateKey)return Promise.reject(dt.GenPrivateKeyError);let s=Fe.private2Wif(A.Buffer.from(i.privateKey),r);return Promise.resolve(s)}).catch(n=>Promise.reject(dt.GenPrivateKeyError))}getAddressByPublicKey(e){try{let r=this.network(),n=ab.base.fromHex(e.publicKey);if(e.addressType){if(e.addressType==="Legacy")return Promise.resolve(Fe.payments.p2pkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_nested")return Promise.resolve(Fe.payments.p2sh({redeem:Fe.payments.p2wpkh({pubkey:n,network:r})}).address);if(e.addressType==="segwit_native")return Promise.resolve(Fe.payments.p2wpkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_taproot")return Promise.resolve(Fe.payments.p2tr({internalPubkey:n.slice(1),network:r}).address)}else{let i=[];return i.push({addressType:"Legacy",address:Fe.payments.p2pkh({pubkey:n,network:r}).address}),i.push({addressType:"segwit_nested",address:Fe.payments.p2sh({redeem:Fe.payments.p2wpkh({pubkey:n,network:r})}).address}),i.push({addressType:"segwit_native",address:Fe.payments.p2wpkh({pubkey:n,network:r}).address}),Promise.resolve(i)}}catch{}return Promise.reject(dt.NewAddressError)}getMPCRawTransaction(e){try{let r=E3(e.data),n=[],s={raw:Fe.signBtc(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(dt.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=Fe.getMPCTransaction(e.raw,e.sigs,!1);return Promise.resolve(r)}catch{return Promise.reject(dt.GetMpcTransactionError)}}async getMPCRawMessage(e){try{let r=await this.signMessage(e);return Promise.resolve({hash:r})}catch{return Promise.reject(dt.GetMpcRawTransactionError)}}async getMPCSignedMessage(e){try{return Promise.resolve(Fe.message.getMPCSignedMessage(e.hash,e.sigs,e.publicKey))}catch{return Promise.reject(dt.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=E3(e.data);if(r===2){let i=Fe.signBtc(n,"",this.network(),void 0,!0,!0),s=n.dustSize||546;if(parseInt(i)>=s){let a={address:n.address,amount:parseInt(i),bip32Derivation:n.bip32Derivation};n.outputs.push(a)}let o=Fe.buildPsbt(n,this.network());return Promise.resolve(o)}else{let i=Fe.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(i)}}catch{return Promise.reject(dt.GetHardwareRawTransactionError)}}async calcTxHash(e){try{return Promise.resolve(Fe.Transaction.fromHex(e.data).getId())}catch{return Promise.reject(dt.CalcTxHashError)}}signMessage(e){try{let r=e.data,n;return r.type===ei.BITCOIN_MESSAGE_ECDSA?n=Fe.message.sign(e.privateKey,r.message,this.network()):n=Fe.bip0322.signSimple(r.message,r.address,e.privateKey,this.network()),Promise.resolve(n)}catch{return Promise.reject(dt.SignMsgError)}}async signCommonMsg(e){let r=await this.getNewAddress({privateKey:e.privateKey,addressType:e.addressType}),n=r.compressedPublicKey?r.compressedPublicKey:r.publicKey;n.startsWith("0x")&&(n=n.substring(2));let i=(0,Jr.privateKeyFromWIF)(e.privateKey,this.network());return super.signCommonMsg({privateKey:e.privateKey,privateKeyHex:i,publicKey:n,addressType:e.addressType,message:e.message,signType:dt.SignType.Secp256k1})}async verifyMessage(e){try{let r=e.data;if(r.type===ei.BITCOIN_MESSAGE_ECDSA){let n=Fe.message.verify(r.publicKey,r.message,e.signature);return Promise.resolve(n)}else{let n=Fe.bip0322.verifySimple(r.message,r.address,e.signature,r.publicKey,this.network());return Promise.resolve(n)}}catch{return Promise.reject(dt.SignMsgError)}}static async extractPsbtTransaction(e){try{return Promise.resolve(Fe.extractPsbtTransaction(e))}catch{return Promise.reject(dt.SignMsgError)}}async validSignedTransaction(e){try{e.data&&e.data.forEach(n=>n.value=n.amount);let r=Fe.ValidSignedTransaction(e.tx,e.data,this.network());return Promise.resolve((0,dt.jsonStringifyUniform)(r))}catch{return Promise.reject(dt.validSignedTransactionError)}}async estimateFee(e){try{let r=e.data.type||0;if(r===Fe.BtcXrcTypes.INSCRIBE)return Promise.reject(dt.EstimateFeeError);if(r===Fe.BtcXrcTypes.PSBT)return Promise.reject(dt.EstimateFeeError);if(r===Fe.BtcXrcTypes.RUNE)try{let n=new Jr.RuneWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.RuneTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(dt.EstimateFeeError)}else if(r===Fe.BtcXrcTypes.RUNEMAIN)try{let n=new Jr.RuneMainWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.RuneMainTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(dt.EstimateFeeError)}else if(r===Fe.BtcXrcTypes.ARC20)try{let n=new Jr.AtomicalWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.AtomicalTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(dt.EstimateFeeError)}else if(r===Fe.BtcXrcTypes.CAT20)try{let n=new Jr.CatWallet;return Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(dt.EstimateFeeError)}else{let n=E3(e.data),i=Fe.estimateBtcFee(n,this.network());return Promise.resolve(i)}}catch{return Promise.reject(dt.EstimateFeeError)}}static async oneKeyBuildBtcTx(e){try{return Promise.resolve(Fe.oneKeyBuildBtcTx(e))}catch{return Promise.reject(dt.SignTxError)}}async buildPsbt(e){if((e.data.type||0)===Fe.BtcXrcTypes.RUNEMAIN)try{let n=new Jr.RuneMainWallet;return this.network()===Jr.networks.testnet&&(n=new Jr.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(dt.SignTxError)}else{let n=null;return Promise.resolve(n)}}};ei.BtcWallet=ub;var mS=class extends ub{network(){return Fe.networks.testnet}};ei.TBtcWallet=mS;function ofe(t,e){let r=t.toString(16),n=e-r.length;if(n>0)for(let i=0;i<n;i++)r="0"+r;return r}ei.number2Hex=ofe;function E3(t){let e=(0,dt.cloneObject)(t);return e.inputs.forEach(r=>{r.amount=(0,dt.convert2Number)(r.amount)}),e.outputs.forEach(r=>{r.amount=(0,dt.convert2Number)(r.amount)}),e.omni&&(e.omni.amount=(0,dt.convert2Number)(e.omni.amount)),t.dustSize&&(e.dustSize=(0,dt.convert2Number)(t.dustSize)),e}ei.convert2UtxoTx=E3});var kF=$(o0=>{k();M();var afe=o0&&o0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ufe=o0&&o0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cfe=o0&&o0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&afe(e,t,r);return ufe(e,t),e};Object.defineProperty(o0,"__esModule",{value:!0});o0.BchWallet=void 0;var a6=_r(),CF=_r(),T3=ac(),dn=cfe(zo()),gS=class extends T3.BtcWallet{async getDerivedPath(e){return`m/44'/145'/0'/0/${e.index}`}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=dn.wif2Public(n,r),a={address:dn.GetBitcashP2PkHAddressByPublicKey(i).replace("bitcoincash:","")||"",publicKey:CF.base.toHex(i)};return Promise.resolve(a)}catch{return Promise.reject(a6.NewAddressError)}}async validAddress(e){let r=!1;try{let i=this.network();dn.address.toOutputScript(e.address,i)&&(r=!0)}catch{}r||(r=dn.ValidateBitcashP2PkHAddress(e.address));let n={isValid:r,address:e.address};return Promise.resolve(n)}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,T3.convert2UtxoTx)(e.data);return i.outputs.forEach(s=>{dn.isCashAddress(s.address)&&(s.address=dn.convert2LegacyAddress(s.address,this.network()))}),dn.isCashAddress(i.address)&&(i.address=dn.convert2LegacyAddress(i.address,this.network())),r=dn.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(a6.SignTxError)}}async estimateFee(e){try{let r=(0,T3.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{dn.isCashAddress(i.address)&&(i.address=dn.convert2LegacyAddress(i.address,this.network()))}),dn.isCashAddress(r.address)&&(r.address=dn.convert2LegacyAddress(r.address,this.network()));let n=dn.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(a6.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,T3.convert2UtxoTx)(e.data);r.outputs.forEach(o=>{dn.isCashAddress(o.address)&&(o.address=dn.convert2LegacyAddress(o.address,this.network()))}),dn.isCashAddress(r.address)&&(r.address=dn.convert2LegacyAddress(r.address,this.network()));let n=[],s={raw:dn.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(a6.GetMpcRawTransactionError)}}getAddressByPublicKey(e){let r=CF.base.fromHex(e.publicKey),n=dn.GetBitcashP2PkHAddressByPublicKey(r);return Promise.resolve(n.replace("bitcoincash:",""))}getMPCTransaction(e){try{let r=dn.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(a6.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,T3.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{dn.isCashAddress(i.address)&&(i.address=dn.convert2LegacyAddress(i.address,this.network()))}),dn.isCashAddress(r.address)&&(r.address=dn.convert2LegacyAddress(r.address,this.network()));let n=dn.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(a6.GetHardwareRawTransactionError)}}};o0.BchWallet=gS});var MF=$(a0=>{k();M();var ffe=a0&&a0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hfe=a0&&a0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lfe=a0&&a0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ffe(e,t,r);return hfe(e,t),e};Object.defineProperty(a0,"__esModule",{value:!0});a0.BsvWallet=void 0;var A3=_r(),I3=ac(),P3=lfe(zo()),bS=class extends I3.BtcWallet{async getDerivedPath(e){return`m/44'/236'/0'/0/${e.index}`}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,I3.convert2UtxoTx)(e.data);return r=P3.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(A3.SignTxError)}}async estimateFee(e){try{let r=(0,I3.convert2UtxoTx)(e.data),n=P3.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(A3.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,I3.convert2UtxoTx)(e.data),n=[],s={raw:P3.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(A3.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=P3.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(A3.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,I3.convert2UtxoTx)(e.data),n=P3.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(A3.GetHardwareRawTransactionError)}}};a0.BsvWallet=bS});var RF=$(Vs=>{k();M();var dfe=Vs&&Vs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pfe=Vs&&Vs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mfe=Vs&&Vs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dfe(e,t,r);return pfe(e,t),e};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.DogeWallet=Vs.dogeCoin=void 0;var cb=mfe(zo()),fb=_r(),gfe=ac();Vs.dogeCoin={messagePrefix:`Dogecoin Signed Message:
`,bech32:"bc",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158};var yS=class extends gfe.BtcWallet{network(){return Vs.dogeCoin}async signTransaction(e){let r=e.data.type||0;if(r===1)try{return Promise.resolve(cb.dogInscribe(Vs.dogeCoin,e.data))}catch{return Promise.reject(fb.SignTxError)}else if(r===2)try{return Promise.resolve(cb.psbtSign(e.data.psbt,e.privateKey,this.network(),e.data.maximumFeeRate?e.data.maximumFeeRate:1e5))}catch{return Promise.reject(fb.SignTxError)}else return super.signTransaction(e)}signMessage(e){try{let r=e.data,n=cb.message.sign(e.privateKey,r.message,this.network(),Vs.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(fb.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=cb.message.verify(r.publicKey,r.message,e.signature,Vs.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(fb.SignMsgError)}}};Vs.DogeWallet=yS});var FF=$(co=>{k();M();var bfe=co&&co.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yfe=co&&co.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vfe=co&&co.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bfe(e,t,r);return yfe(e,t),e};Object.defineProperty(co,"__esModule",{value:!0});co.LtcWallet=co.litecoin=void 0;var u6=_r(),_fe=ac(),NF=vfe(zo());co.litecoin={messagePrefix:`Litecoin Signed Message:
`,bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176};var vS=class extends _fe.BtcWallet{network(){return co.litecoin}async getDerivedPath(e){return e.segwitType?e.segwitType==u6.segwitType.SEGWIT_NESTED?`m/84'/2'/0'/0/${e.index}`:e.segwitType==u6.segwitType.SEGWIT_NESTED_49?`m/49'/2'/0'/0/${e.index}`:e.segwitType==u6.segwitType.SEGWIT_NATIVE?`m/84'/2'/0'/0/${e.index}`:Promise.reject(u6.DerivePathError):`m/44'/2'/0'/0/${e.index}`}signMessage(e){try{let r=e.data,n=NF.message.sign(e.privateKey,r.message,this.network(),co.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(u6.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=NF.message.verify(r.publicKey,r.message,e.signature,co.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(u6.SignMsgError)}}};co.LtcWallet=vS});var HF=$(ou=>{k();M();var xfe=ou&&ou.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sfe=ou&&ou.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wfe=ou&&ou.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xfe(e,t,r);return Sfe(e,t),e};Object.defineProperty(ou,"__esModule",{value:!0});ou.UsdtTestWallet=ou.UsdtWallet=void 0;var c6=_r(),u0=ac(),f6=wfe(zo()),hb=class extends u0.BtcWallet{async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,u0.convert2UtxoTx)(e.data);if(!i.omni)return Promise.reject(c6.SignTxError);let s=(0,u0.number2Hex)(i.omni.coinType||31,8),o=(0,u0.number2Hex)(i.omni.amount,16),u={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+s+o};return i.outputs.push(u),r=f6.signBtc(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(c6.SignTxError)}}async estimateFee(e){try{let r=(0,u0.convert2UtxoTx)(e.data);if(!r.omni)return Promise.reject(c6.EstimateFeeError);let n=(0,u0.number2Hex)(r.omni.coinType||31,8),i=(0,u0.number2Hex)(r.omni.amount,16),o={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+n+i};r.outputs.push(o);let a=f6.estimateBtcFee(r,this.network());return Promise.resolve(a)}catch{return Promise.reject(c6.EstimateFeeError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=(0,u0.convert2UtxoTx)(e.data);if(!n.omni)return Promise.reject(c6.SignTxError);let i=(0,u0.number2Hex)(n.omni.coinType||31,8),s=(0,u0.number2Hex)(n.omni.amount,16),a={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+i+s};n.outputs.push(a);let u;if(r===2){let c=f6.signBtc(n,"",this.network(),void 0,!0,!0),h={address:n.address,amount:parseInt(c),bip32Derivation:n.bip32Derivation};n.outputs.push(h),u=f6.buildPsbt(n,this.network())}else u=f6.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(u)}catch{return Promise.reject(c6.GetHardwareRawTransactionError)}}};ou.UsdtWallet=hb;var _S=class extends hb{network(){return f6.networks.testnet}};ou.UsdtTestWallet=_S});var SS=$(Fn=>{k();M();var Efe=Fn&&Fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tfe=Fn&&Fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Afe=Fn&&Fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Efe(e,t,r);return Tfe(e,t),e};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.buildRuneMainMintOp=Fn.buildRuneMainMintData=Fn.buildRuneData=Fn.encodeToVecV2=Fn.toVarIntV2=Fn.fromVarInt=Fn.encodeToVec=Fn.toVarInt=void 0;var xS=Afe(wi()),O3=bp(),DF=db(),Ife=_r(),UF=BigInt(0),rGe=BigInt(2),nGe=BigInt(4),iGe=BigInt(6),sGe=BigInt(8),oGe=BigInt(10),aGe=BigInt(12),uGe=BigInt(14),cGe=BigInt(16),fGe=BigInt(118),lb=BigInt(20),LF=BigInt(22),hGe=BigInt(126),lGe=BigInt(1),dGe=BigInt(3),pGe=BigInt(5),mGe=BigInt(127);function Pfe(t){let e=[];return h6(t,e),new Uint8Array(e)}Fn.toVarInt=Pfe;function h6(t,e){let r=18,n=new Array(19).fill(0);for(n[r]=Number(t&BigInt(127));t>BigInt(127);)t=t/BigInt(128)-BigInt(1),r--,n[r]=Number(t&BigInt(255))|128;e.push(...n.slice(r))}Fn.encodeToVec=h6;function Ofe(t){let e=[];return ji(t,e),new Uint8Array(e)}Fn.toVarIntV2=Ofe;function ji(t,e){for(;t>>7n>0n;)e.push(Number(t&0x7fn|0x80n)),t>>=7n;return e.push(Number(t&0x7fn)),e}Fn.encodeToVecV2=ji;function Bfe(t){let e=BigInt(0),r=0;for(;;){let n=BigInt(t[r]);if(n<BigInt(128))return[e+n,r+1];if(e+=n-BigInt(127),e=e*BigInt(128),r++,r>=t.length)throw new Error("Varint decoding error: buffer overflow")}}Fn.fromVarInt=Bfe;function Cfe(t,e){let r=[];for(let s of e)typeof s.amount=="string"&&(s.amount=BigInt(s.amount));if(e.length>0){h6(UF,r),e.sort((o,a)=>o.id-a.id);let s=0;for(let o of e)h6(BigInt(o.id-s),r),h6(BigInt(o.amount),r),h6(BigInt(o.output),r),s=o.id}let n;return t?n="R":n="RUNE_TEST",xS.compile([O3.OPS.OP_RETURN,A.Buffer.from(n),A.Buffer.from(r)])}Fn.buildRuneData=Cfe;function kfe(t,e,r,n,i,s){let o=[];for(let u of e)typeof u.amount=="string"&&(u.amount=BigInt(u.amount));if(i!=null&&i&&e[0].block!=null&&(ji(lb,o),ji(BigInt(e[0].block),o),ji(lb,o),ji(BigInt(e[0].id),o)),r&&(ji(LF,o),ji(BigInt(n),o)),e.length>0){ji(UF,o),e.sort((h,f)=>h.block===f.block?h.id<f.id?-1:h.id>f.id?1:0:h.block-f.block);let u=0,c=0;for(let h of e)ji(BigInt(h.block-c),o),ji(BigInt(h.id-u),o),ji(BigInt(h.amount),o),ji(BigInt(h.output),o),u=h.id,c=h.block}if(o.length>80)throw new Error(JSON.stringify({errCode:DF.ErrCodeOpreturnExceeds,date:{payloadLenth:o.length}}));return xS.compile([O3.OPS.OP_RETURN,O3.OPS.OP_13,A.Buffer.from(o)])}Fn.buildRuneMainMintData=kfe;function Mfe(t,e,r,n){let i=[],s=parseInt(t.split(":")[0]),o=parseInt(t.split(":")[1]);if(n!=null&&n&&o!=null&&(ji(lb,i),ji(BigInt(s),i),ji(lb,i),ji(BigInt(o),i)),e&&(ji(LF,i),ji(BigInt(r),i)),i.length>80)throw new Error(JSON.stringify({errCode:DF.ErrCodeOpreturnExceeds,date:{payloadLenth:i.length}}));let a=xS.compile([O3.OPS.OP_RETURN,O3.OPS.OP_13,A.Buffer.from(i)]);return{address:"",amount:0,omniScript:Ife.base.toHex(a)}}Fn.buildRuneMainMintOp=Mfe});var jF=$(au=>{k();M();var Rfe=au&&au.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nfe=au&&au.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ffe=au&&au.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rfe(e,t,r);return Nfe(e,t),e};Object.defineProperty(au,"__esModule",{value:!0});au.RuneTestWallet=au.RuneWallet=void 0;var Hfe=_r(),Dfe=ac(),$F=Ffe(zo()),qF=zo(),Ufe=SS(),Lfe=_r(),pb=class extends Dfe.BtcWallet{convert2RuneTx(e){let r=(0,Hfe.cloneObject)(e);for(let f of r.inputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(l.amount=BigInt(l.amount))}for(let f of r.outputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(l.amount=BigInt(l.amount))}let n=r.inputs,i=new Map;for(let f of n){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p){let y=l.id,_=BigInt(l.amount);if(y==null||_==null)continue;let O=i.get(y);O==null?i.set(y,_):i.set(y,BigInt(O)+BigInt(_))}}let s=r.outputs,o=new Map;for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(p.amount);if(l==null||y==null)continue;let _=o.get(l);_==null?o.set(l,y):o.set(l,BigInt(_)+BigInt(y))}}let a=!1;for(let f of i.keys()){let p=i.get(f),l=o.get(f);(p!=null&&l!=null&&p>l||p!=null&&l==null)&&(a=!0),a=!0}let u=0,c=[];if(a){let f={address:r.address,amount:546};c.push(f),u++}let h=[];for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(p.amount);if(l==null||y==null)continue;let _={id:parseInt("0x"+l),amount:BigInt(y),output:u};h.push(_)}f.data=null,c.push(f),u++}return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:h,etching:r.runeData.etching,burn:r.runeData.burn}}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),o=this.getOpReturnOutput(r,s.runeData);return s.outputs.push(o),n=(0,qF.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}getOpReturnOutput(e,r){let n=!1;qF.networks.bitcoin===e&&(n=!0),r.edicts==null&&(r.edicts=[]);let i=(0,Ufe.buildRuneData)(n,r.edicts);return{address:"",amount:0,omniScript:Lfe.base.toHex(i)}}async estimateFee(e){try{if(!e.data.runeData)return Promise.reject("missing runeData");let r=this.convert2RuneTx(e.data),n=this.getOpReturnOutput(this.network(),r.runeData);r.outputs.push(n);let i=$F.estimateBtcFee(r,this.network());return Promise.resolve(i)}catch(r){return Promise.reject(r)}}};au.RuneWallet=pb;var wS=class extends pb{network(){return $F.networks.testnet}};au.RuneTestWallet=wS});var zF=$(pn=>{k();M();Object.defineProperty(pn,"__esModule",{value:!0});pn.isUpper=pn.commitment=pn.Tag=pn.Flag=pn.removeSpacers=pn.getSpacersVal=pn.applySpacers=pn.decodeLEB128=pn.encodeLEB128=pn.base26Decode=pn.base26Encode=void 0;var qfe=_r();function KF(t){let e=0n;for(let r=0;r<t.length;r++){let n=BigInt(t.charCodeAt(r)-"A".charCodeAt(0)),i=BigInt(t.length)-1n-BigInt(r);if(i==0n)e+=n;else{let s=26n**i;e+=s*(n+1n)}}return e}pn.base26Encode=KF;function $fe(t){if(t===340282366920938463463374607431768211455n)return"BCGDENLQRQWDSLRUGSNLBTMFIJAV";t+=1n;let e=[];for(;t>0;){let r=(t-1n)%26n;e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Number(r))),t=(t-1n)/26n}return e.reverse(),e.join("")}pn.base26Decode=$fe;function jfe(t){let e=[],r=!0;for(;r;){let n=Number(t&BigInt(127));t>>=BigInt(7),t===BigInt(0)?r=!1:n|=128,e.push(n)}return e}pn.encodeLEB128=jfe;function Kfe(t){let e=BigInt(0);for(let r=0;r<t.length;r++){let n=BigInt(t[r]);if(r>18)throw new Error("Overlong");let i=n&BigInt(127);if(r==18&&(i&BigInt(124))!=BigInt(0))throw new Error("Overflow");if(e|=i<<BigInt(7)*BigInt(r),(n&BigInt(128))==BigInt(0))return{n:e,len:r+1}}throw new Error("Unterminated")}pn.decodeLEB128=Kfe;function Vfe(t,e){let r="";for(let n=0;n<t.length;n++)r+=t.charAt(n),e>0&&((e&1)===1&&(r+="\u2022"),e>>=1);return r}pn.applySpacers=Vfe;function Gfe(t){let e=0,r=0;for(let n=0;n<t.length;n++){let i=t.charAt(n);(i==="\u2022"||i==".")&&(e+=1<<n-1-r,r++)}return e}pn.getSpacersVal=Gfe;function VF(t){return t.replace(/[.]+/g,"")}pn.removeSpacers=VF;var zfe;(function(t){t[t.Etching=0]="Etching",t[t.Terms=1]="Terms",t[t.Turbo=2]="Turbo",t[t.Cenotaph=127]="Cenotaph"})(zfe=pn.Flag||(pn.Flag={}));var Wfe;(function(t){t[t.Body=0]="Body",t[t.Flags=2]="Flags",t[t.Rune=4]="Rune",t[t.Premine=6]="Premine",t[t.Cap=8]="Cap",t[t.Amount=10]="Amount",t[t.HeightStart=12]="HeightStart",t[t.HeightEnd=14]="HeightEnd",t[t.OffsetStart=16]="OffsetStart",t[t.OffsetEnd=18]="OffsetEnd",t[t.Mint=20]="Mint",t[t.Pointer=22]="Pointer",t[t.Cenotaph=126]="Cenotaph",t[t.Divisibility=1]="Divisibility",t[t.Spacers=3]="Spacers",t[t.Symbol=5]="Symbol",t[t.Nop=127]="Nop"})(Wfe=pn.Tag||(pn.Tag={}));function Yfe(t){let e;if(typeof t.value=="string"){let n=VF(t.value);if(!GF(n))throw new Error("invalid rune");e=KF(n)}else e=t.value;let r=e.toString(16);return r.length%2===1&&(r="0"+r),qfe.base.fromHex(r).reverse()}pn.commitment=Yfe;function GF(t){return/^[A-Z]+$/.test(t)}pn.isUpper=GF});var rH=$(Fr=>{k();M();var Xfe=Fr&&Fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zfe=Fr&&Fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mb=Fr&&Fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xfe(e,t,r);return Zfe(e,t),e};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.buildRuneMainDeployData=Fr.inscribe=Fr.runesMainInscribe=Fr.checkEtching=Fr.MAX_SPACERS=Fr.uint64Max=Fr.uint128Max=Fr.RunesMainInscriptionTool=void 0;var Dn=mb(Do()),Jfe=$c(),el=_r(),Qfe=mb(t0()),ehe=mb(_s()),the=Vh(),c0=Ho(),rhe=mb(wi()),WF=j7(),Hn=zF(),QF=Jfe.signUtil.schnorr.secp256k1.schnorr,YF=2,XF=4294967293,nhe=546,ihe=546,ZF=4e6/10,Ip=class{constructor(){this.network=Dn.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Dn.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new Ip;n.network=e;let i=r.revealOutValue||nhe,s=r.minChangeValue||ihe,o=r.runeData.useDefaultOutput||!1,a=r.runeData.defaultOutput||0,u=r.commitTxPrevOutputList[0].privateKey;if(!r.runeData.etching||!r.runeData.revealAddr)throw new Error("etching is null");if(!eH(r.runeData.etching))throw new Error("invalid etching parameter");let c=r.runeData.etching,h=(0,Hn.commitment)(c.rune),f=tH(c,o,a);r.runeData.etching.contentType&&r.runeData.etching.body?n.inscriptionTxCtxDataList.push(uhe(e,{contentType:r.runeData.etching.contentType,body:r.runeData.etching.body,revealAddr:r.runeData.revealAddr},u,h)):n.inscriptionTxCtxDataList.push(ahe(e,u,r.runeData.revealAddr,h));let p=n.buildEmptyRevealTx(e,i,r.revealFeeRate,f);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,p,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n,i){let s=0,o=[],a=[],u=[];return this.inscriptionTxCtxDataList.forEach((c,h)=>{let f=new Dn.Transaction;f.version=YF,f.addInput(A.Buffer.alloc(32),h,XF),i&&f.addOutput(i,0),f.addOutput(c.revealPkScript,r);let p=A.Buffer.alloc(64),l=A.Buffer.alloc(33),y=[];y.push(p),y.push(c.inscriptionScript),y.push(l);let _=Math.floor((f.byteLength()+Math.floor(((0,the.vectorSize)(y)+2+3)/4))*n),O=r+_;c.revealTxPrevOutput={pkScript:c.commitTxAddressPkScript,value:O},s+=O,o.push(f),a.push(_),u.push(c.commitTxAddress)}),this.revealTxs=o,this.mustRevealTxFees=a,this.commitAddrs=u,s}buildCommitTx(e,r,n,i,s,o){let a=0,u=new Dn.Transaction;u.version=YF,r.forEach(y=>{let _=el.base.reverseBuffer(el.base.fromHex(y.txId));u.addInput(_,y.vOut,XF),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount}),this.inscriptionTxCtxDataList.forEach(y=>{u.addOutput(y.revealTxPrevOutput.pkScript,y.revealTxPrevOutput.value)});let c=Dn.address.toOutputScript(n,e);u.addOutput(c,0);let h=u.clone();JF(h,r.map(y=>({...y,privateKey:""})),this.network);let f=(0,WF.countAdjustedVsize)(h,r.map(y=>y.address),e),p=Math.floor(f*s),l=a-i-p;if(l>=o)u.outs[u.outs.length-1].value=l;else{u.outs=u.outs.slice(0,u.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);let y=(0,WF.countAdjustedVsize)(h,r.map(O=>O.address),e),_=Math.floor(y*s);if(a-i-_<0)return this.mustCommitTxFee=p,!0}return this.commitTx=u,!1}signCommitTx(e){JF(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,Dn.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),o=A.Buffer.from(QF.sign(s,this.inscriptionTxCtxDataList[r].privateKey,el.base.randomBytes(32)));e.ins[0].witness=[A.Buffer.from(o),...this.inscriptionTxCtxDataList[r].witness];let a=e.weight();if(a>ZF)throw new Error(`reveal(index ${r}) transaction weight greater than ${ZF} (MAX_STANDARD_TX_WEIGHT): ${a}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Fr.RunesMainInscriptionTool=Ip;Fr.uint128Max=(BigInt(1)<<BigInt(128))-BigInt(1);Fr.uint64Max=(BigInt(1)<<BigInt(64))-BigInt(1);var she=38;Fr.MAX_SPACERS=134217727;function eH(t){let e=t.premine?BigInt(t.premine):BigInt(0);if(e>Fr.uint128Max||e<0)return!1;if(t.terms){let r=t.terms.amount?BigInt(t.terms.amount):BigInt(0),n=t.terms.cap?BigInt(t.terms.cap):BigInt(0);if(r<0||r>Fr.uint128Max||n<0||n>Fr.uint128Max||r*n>Fr.uint128Max||e+r*n>Fr.uint128Max||t.terms.height&&(t.terms.height.start&&(t.terms.height.start<0||t.terms.height.start>Fr.uint64Max)||t.terms.height.end&&(t.terms.height.end<0||t.terms.height.end>Fr.uint64Max)))return!1}return!(t.divisibility&&(t.divisibility<0||t.divisibility>she)||typeof t.rune.value=="string"&&((0,Hn.getSpacersVal)(t.rune.value)>Fr.MAX_SPACERS||(0,Hn.base26Encode)((0,Hn.removeSpacers)(t.rune.value))>Fr.uint128Max))}Fr.checkEtching=eH;function ohe(t,e){let r=Ip.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Fr.runesMainInscribe=ohe;function JF(t,e,r){t.ins.forEach((n,i)=>{let s=(0,c0.getAddressType)(e[i].address,r);if(e[i].privateKey==""){let{witness:c,script:h}=(0,c0.fakeSign)(s);c!==void 0&&(n.witness=c),h!==void 0&&(n.script=h);return}let o=el.base.fromHex((0,c0.privateKeyFromWIF)(e[i].privateKey,r)),a=el.base.toHex(o),u=(0,c0.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>Dn.address.toOutputScript(y.address,r)),h=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,h,Dn.Transaction.SIGHASH_DEFAULT),p=Qfe.taprootTweakPrivKey(o),l=A.Buffer.from(QF.sign(f,p,el.base.randomBytes(32)));n.witness=[A.Buffer.from(l)]}else if(s==="legacy"){let c=Dn.address.toOutputScript(e[i].address,r),h=t.hashForSignature(i,c,Dn.Transaction.SIGHASH_ALL),f=(0,c0.sign)(h,a),p=Dn.payments.p2pkh({signature:Dn.script.signature.encode(f,Dn.Transaction.SIGHASH_ALL),pubkey:u});n.script=p.input}else{let c=ehe.hash160(u),h=A.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,p=t.hashForWitness(i,h,f,Dn.Transaction.SIGHASH_ALL),l=(0,c0.sign)(p,a);n.witness=[Dn.script.signature.encode(l,Dn.Transaction.SIGHASH_ALL),u];let y=A.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function ahe(t,e,r,n){let i=el.base.fromHex((0,c0.privateKeyFromWIF)(e,t)),s=(0,c0.wif2Public)(e,t).slice(1),o=[];o.push(s);let a=Dn.script.OPS;o.push(a.OP_CHECKSIG),o.push(a.OP_FALSE),o.push(a.OP_IF),o.push(n),o.push(a.OP_ENDIF);let u=Dn.script.compile(o),c={output:u},h={output:u,redeemVersion:192},{output:f,witness:p,hash:l,address:y}=Dn.payments.p2tr({internalPubkey:s,scriptTree:c,redeem:h,network:t});return{privateKey:i,inscriptionScript:u,commitTxAddress:y,commitTxAddressPkScript:f,witness:p,hash:l,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:Dn.address.toOutputScript(r,t)}}function uhe(t,e,r,n){let i=el.base.fromHex((0,c0.privateKeyFromWIF)(r,t)),s=(0,c0.wif2Public)(r,t).slice(1),o=Dn.script.OPS,a=[];a.push(s),a.push(o.OP_CHECKSIG),n&&n.length>0&&(a.push(n),a.push(o.OP_DROP)),a.push(o.OP_FALSE),a.push(o.OP_IF),a.push(A.Buffer.from("ord")),a.push(o.OP_DATA_1),a.push(o.OP_DATA_1),a.push(A.Buffer.from(e.contentType)),a.push(o.OP_0);let u=520,c=A.Buffer.from(e.body),h=c.length;for(let B=0;B<h;B+=u){let E=B+u;E>h&&(E=h),a.push(c.slice(B,E))}a.push(o.OP_ENDIF);let f=Dn.script.compile(a),p={output:f},l={output:f,redeemVersion:192},{output:y,witness:_,hash:O,address:F}=Dn.payments.p2tr({internalPubkey:s,scriptTree:p,redeem:l,network:t});return{privateKey:i,inscriptionScript:f,commitTxAddress:F,commitTxAddressPkScript:y,witness:_,hash:O,revealTxPrevOutput:{pkScript:A.Buffer.alloc(0),value:0},revealPkScript:Dn.address.toOutputScript(e.revealAddr,t)}}function che(t,e){let r=Ip.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Fr.inscribe=che;function tH(t,e,r){let n=hhe(t,e,r),i=fhe(n),s=A.Buffer.from("6a5d","hex"),o;if(i.length<76)o=A.Buffer.alloc(1),o.writeUint8(i.length);else if(i.length<256)o=A.Buffer.alloc(2),o.writeUint8(76),o.writeUint8(i.length,1);else if(i.length<65536)o=A.Buffer.alloc(3),o.writeUint8(77),o.writeUint16LE(i.length,1);else if(i.length<4294967296)o=A.Buffer.alloc(5),o.writeUint8(78),o.writeUint32LE(i.length,1);else throw new Error("runestone too big!");return rhe.compile(A.Buffer.concat([s,o,i]))}Fr.buildRuneMainDeployData=tH;function fhe(t){let e=[];for(let[r,n]of t)for(let i of n){let s=A.Buffer.alloc(1);s.writeUInt8(r),e.push(s),e.push(A.Buffer.from((0,Hn.encodeLEB128)(i)))}return A.Buffer.concat(e)}function hhe(t,e,r){let n=new Map,i=1;if(t.terms){let o=1<<Hn.Flag.Terms;i|=o}if(t.turbo){let o=1<<Hn.Flag.Turbo;i|=o}n.set(Hn.Tag.Flags,[BigInt(i)]);let s;if(typeof t.rune.value=="string"?s=(0,Hn.base26Encode)((0,Hn.removeSpacers)(t.rune.value)):s=t.rune.value,n.set(Hn.Tag.Rune,[BigInt(s)]),t.divisibility&&n.set(Hn.Tag.Divisibility,[BigInt(t.divisibility)]),t.spacers)n.set(Hn.Tag.Spacers,[BigInt(t.spacers)]);else{let o;typeof t.rune.value=="bigint"?o=0:o=(0,Hn.getSpacersVal)(t.rune.value),o!==0&&n.set(Hn.Tag.Spacers,[BigInt(o)])}if(t.symbol&&n.set(Hn.Tag.Symbol,[BigInt(t.symbol.charCodeAt(0))]),t.premine&&n.set(Hn.Tag.Premine,[BigInt(t.premine)]),t.terms){if(t.terms.amount&&n.set(Hn.Tag.Amount,[BigInt(t.terms.amount)]),t.terms.cap&&n.set(Hn.Tag.Cap,[BigInt(t.terms.cap)]),t.terms.height){let o=t.terms.height.start;o&&n.set(Hn.Tag.HeightStart,[BigInt(o)]);let a=t.terms.height.end;a&&n.set(Hn.Tag.HeightEnd,[BigInt(a)])}if(t.terms.offset){let o=t.terms.offset.start;o&&n.set(Hn.Tag.OffsetStart,[BigInt(o)]);let a=t.terms.offset.end;a&&n.set(Hn.Tag.OffsetEnd,[BigInt(a)])}}return e&&r&&n.set(Hn.Tag.Pointer,[BigInt(r)]),n}});var nH=$(Kn=>{k();M();var lhe=Kn&&Kn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),dhe=Kn&&Kn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),phe=Kn&&Kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lhe(e,t,r);return dhe(e,t),e};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.RuneMainTestWallet=Kn.RuneMainWallet=Kn.ErrCodeMultipleRuneId=Kn.ErrCodeRuneIdNotStandard=Kn.ErrCodeOpreturnExceeds=Kn.ErrCodeLessRunesMainAmt=void 0;var l6=_r(),mhe=ac(),Pp=phe(zo()),uu=zo(),ES=SS(),ghe=_r(),bhe=rH();Kn.ErrCodeLessRunesMainAmt=2010300;Kn.ErrCodeOpreturnExceeds=2010301;Kn.ErrCodeRuneIdNotStandard=2010302;Kn.ErrCodeMultipleRuneId=2010303;var gb=class extends mhe.BtcWallet{convert2RuneTx(e){let r=(0,l6.cloneObject)(e);r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput==null&&(r.runeData.defaultOutput=0),r.runeData.mint==!0&&r.runeData.mintNum==null&&(r.runeData.mintNUm=1);for(let f of r.inputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(r.runeData.mint?l.amount=BigInt(1):l.amount=BigInt(l.amount))}for(let f of r.outputs){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p)typeof l.amount=="string"&&(r.runeData.mint?l.amount=BigInt(1):l.amount=BigInt(l.amount))}let n=r.inputs,i=new Map;for(let f of n){let p=f.data;if(p!=null&&p instanceof Array)for(let l of p){let y=l.id,_=BigInt(1);if(r.runeData.mint||(_=BigInt(l.amount)),y==null||_==null)continue;if(y.split(":").length<=1)throw new Error(JSON.stringify({errCode:Kn.ErrCodeRuneIdNotStandard,date:{runeId:y}}));let O=i.get(y);O==null?i.set(y,_):i.set(y,BigInt(O)+BigInt(_))}}if(i.size>1)throw new Error(JSON.stringify({errCode:Kn.ErrCodeMultipleRuneId,date:{runeInputMapSize:i.size}}));let s=r.outputs,o=new Map;for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(1);if(r.runeData.mint||(y=BigInt(p.amount)),l==null||y==null)continue;let _=o.get(l);_==null?o.set(l,y):o.set(l,BigInt(_)+BigInt(y))}}let a=!1;for(let f of i.keys()){let p=i.get(f),l=o.get(f);(p!=null&&l!=null&&p>l||p!=null&&l==null)&&r.runeData.useDefaultOutput==!1&&(a=!0)}let u=0,c=[];if(a){let f={address:r.address,amount:546};c.push(f),u++}let h=[];for(let f of s){let p=f.data;if(p!=null){let l=p.id,y=BigInt(1);if(r.runeData.mint||(y=BigInt(p.amount)),l==null||y==null)continue;let _={block:parseInt(l.split(":")[0]),id:parseInt(l.split(":")[1]),amount:BigInt(y),output:u};h.push(_)}f.data=null,c.push(f),u++}if(r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput>c.length-1)throw new Error(JSON.stringify({errCode:Kn.ErrCodeLessRunesMainAmt,date:{defaultOutput:r.runeData.defaultOutput,ouputLenth:c.length}}));return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:h,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}getMockMinRuneTx(e,r){let n=(0,l6.cloneObject)(e),i=[],s={block:parseInt(r.id.split(":")[0]),id:parseInt(r.id.split(":")[1]),amount:BigInt(1),output:0};return i.push(s),{inputs:[{txId:n.inputs[0].txId,vOut:0,amount:600,data:[r]}],outputs:[{address:n.address,amount:546,data:r}],address:n.address,feePerB:n.feePerB,runeData:{edicts:i,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}getMinRuneTx(e,r,n,i){let s=(0,l6.cloneObject)(e);return{inputs:[n],outputs:[i],address:s.address,feePerB:s.feePerB,RuneData:s.runeData}}async signTransaction(e){let r=this.network(),n=null;if(e.data.runeData.etching)try{return Promise.resolve((0,bhe.runesMainInscribe)(r,e.data))}catch{return Promise.reject(l6.SignTxError)}else if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),o=this.getRuneMainOpReturnOutput(r,s.runeData);return s.outputs.push(o),n=(0,uu.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}else if(e.data.runeData.mint&&!e.data.runeData.serialMint)try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let o={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},a=this.getMockMinRuneTx(e.data,o),u=this.getRuneMainOpReturnOutput(r,a.runeData);a.outputs.push(u),n=(0,uu.signBtc)(a,s,r);let c=Pp.estimateBtcFee(a,this.network())+546,h=this.convert2RuneTx(e.data),f=h.outputs.length;for(let y=0;y<o.mintNum-1;y++)h.outputs.push({address:e.data.address,amount:c});let p=this.getRuneMainOpReturnOutput(r,h.runeData);h.outputs.push(p),n=(0,uu.signBtc)(h,s,r);let l=uu.Transaction.fromHex(n).getId();i.push(n);for(let y=0;y<o.mintNum-1;y++){let _={txId:l,vOut:f,address:e.data.address,amount:c,data:[o]},O={address:e.data.address,amount:546};f+=1;let F=this.getMinRuneTx(e.data,o,_,O);F.outputs.push(p);let B=(0,uu.signBtc)(F,s,r);i.push(B)}return Promise.resolve(i)}catch(i){return Promise.reject(i)}else try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let o={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},a=this.getMockMinRuneTx(e.data,o),u=(0,ES.buildRuneMainMintOp)(o.id,!1,0,!0);a.outputs.push(u);let c=Pp.estimateBtcFee(a,this.network()),h=(o.mintNum-1)*c+546,f=this.convert2RuneTxSerialMint(e.data,h);f.outputs.push(u),n=(0,uu.signBtc)(f,s,r);let p=uu.Transaction.fromHex(n).getId();i.push(n);for(let l=1;l<o.mintNum;l++){let y={txId:p,vOut:0,address:e.data.address,amount:h};h=h-c;let _={address:e.data.address,amount:h},O=this.getMinRuneTx(e.data,o,y,_);O.outputs.push(u);let F=(0,uu.signBtc)(O,s,r);p=uu.Transaction.fromHex(F).getId(),i.push(F)}return i}catch(i){return Promise.reject(i)}}getRuneMainOpReturnOutput(e,r){let n=!1;uu.networks.bitcoin===e&&(n=!0),r.useDefaultOutput==null&&(r.useDefaultOutput=!1),r.defaultOutput==null&&(r.defaultOutput=0),r.mint==null&&(r.mint=!1),r.mintNum==null&&(r.mintNum=0);let i=(0,ES.buildRuneMainMintData)(n,r.edicts,r.useDefaultOutput,r.defaultOutput,r.mint,r.mintNum);return{address:"",amount:0,omniScript:ghe.base.toHex(i)}}async estimateFee(e){try{let r=this.network();if(!e.data.runeData)return Promise.reject("missing runeData");let n=this.convert2RuneTx(e.data),i=this.getRuneMainOpReturnOutput(this.network(),n.runeData);n.outputs.push(i);let s={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum};for(let a=0;a<s.mintNum-1;a++)n.outputs.push({address:e.data.address,amount:8e3});let o=Pp.estimateBtcFee(n,this.network());if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)return Promise.resolve(o);if(e.data.runeData.mint&&!e.data.runeData.serialMint){let a=[];a.push(o);let u={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},c=this.getMockMinRuneTx(e.data,u),h=this.getRuneMainOpReturnOutput(this.network(),c.runeData);c.outputs.push(h);let f=Pp.estimateBtcFee(c,this.network());for(let p=0;p<e.data.runeData.mintNum-1;p++)a.push(f);return Promise.resolve(a)}else if(e.data.runeData.mint&&e.data.runeData.serialMint){let a=[];if(!e.data.runeData)return Promise.reject("missing runeData");let u={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},c=this.getMockMinRuneTx(e.data,u),h=(0,ES.buildRuneMainMintOp)(u.id,!1,0,!0);c.outputs.push(h);let f=Pp.estimateBtcFee(c,this.network()),p=(u.mintNum-1)*f+546,l=this.convert2RuneTxSerialMint(e.data,p);l.outputs.push(h);let y=Pp.estimateBtcFee(l,r);a.push(y);for(let _=1;_<u.mintNum;_++)a.push(f);return Promise.resolve(a)}}catch(r){return Promise.reject(r)}}convert2RuneTxSerialMint(e,r){let n=(0,l6.cloneObject)(e),i=[{address:n.address,amount:r}];return{inputs:n.inputs,outputs:i,address:n.address,feePerB:n.feePerB,runeData:{edicts:n.runeData.edicts,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}convert2RuneTxPsbt(e){let r=(0,l6.cloneObject)(e);return{inputs:r.inputs,outputs:r.outputs,address:r.address,feePerB:r.feePerB,runeData:{edicts:r.runeData.edicts,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}async buildPsbt(e){let r=this.network(),n=null;try{if(!e.data.runeData)return Promise.reject("missing runeData");let i=this.convert2RuneTxPsbt(e.data),s=this.getRuneMainOpReturnOutput(r,i.runeData);i.outputs.push(s);let o="KwdkfXMV2wxDVDMPPuFZsio3NeCskAUd4N2U4PriTgpj2MqAGmmc";i.dustSize==null&&(i.dustSize=546);let{inputAmount:a,outputAmount:u,virtualSize:c}=(0,uu.calculateTxSize)(i.inputs,i.outputs,i.address,o,r,i.dustSize),h=a-u-Math.ceil(c*i.feePerB);h>i.dustSize&&i.outputs.push({address:i.address,amount:h});let p=[(0,uu.buildPsbt)(i,r),h];return Promise.resolve(p)}catch(i){return Promise.reject(i)}}};Kn.RuneMainWallet=gb;var TS=class extends gb{network(){return Pp.networks.testnet}};Kn.RuneMainTestWallet=TS});var sH=$(gr=>{k();M();var yhe=gr&&gr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vhe=gr&&gr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_he=gr&&gr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yhe(e,t,r);return vhe(e,t),e};Object.defineProperty(gr,"__esModule",{value:!0});gr.AtomicalTestWallet=gr.AtomicalWallet=gr.ErrCodeInvalidInputAsset=gr.ErrCodeAtomicalNotFullyAllocated=gr.ErrCodeSemiColorOuput=gr.ErrCodeMul=gr.ErrCodeUnknownAsset=gr.ErrCodeCommon=gr.ErrCodeVoutDust=gr.ErrCodeAtomicalChangeFail=gr.ErrCodeLessAtomicalAmt=void 0;var xhe=_r(),She=ac(),iH=_he(zo()),whe=zo();gr.ErrCodeLessAtomicalAmt=2011400;gr.ErrCodeAtomicalChangeFail=2011401;gr.ErrCodeVoutDust=2011402;gr.ErrCodeCommon=2011403;gr.ErrCodeUnknownAsset=2011404;gr.ErrCodeMul=2011420;gr.ErrCodeSemiColorOuput=2011405;gr.ErrCodeAtomicalNotFullyAllocated=2011406;gr.ErrCodeInvalidInputAsset=2011407;var bb=class extends She.BtcWallet{convert2AtomicalTx(e){let r=(0,xhe.cloneObject)(e),n=new Map,i=new Map,s=new Map,o=[],a=r.feePerB||10,u=r.dustSize||546,c=r.inputs;for(let p of c){let l=p.data;if(l!=null&&l instanceof Array)for(let y of l){let _=y.atomicalId,O=y.type,F=Number(y.amount);if(_==null||F==null||O==null||O!="FT"&&O!="NFT")continue;if(F>p.amount)throw new Error(JSON.stringify({errCode:gr.ErrCodeInvalidInputAsset}));i.get(_)==null&&i.set(_,O);let B=n.get(_);B==null?n.set(_,F):n.set(_,B+F)}if(Object.keys(n).length>1)throw new Error(JSON.stringify({errCode:gr.ErrCodeMul}))}let h=r.outputs,f=0;for(let p of h){let l=p.data;if(l!=null&&l instanceof Array)for(let y of l){let _=y.atomicalId,O=Number(y.amount),F=y.type;if(F=="FT"&&O!=p.amount&&O>u)throw new Error(JSON.stringify({errCode:gr.ErrCodeSemiColorOuput}));if(_==null||O==null||F==null||F!="FT"&&F!="NFT")continue;if(F=="FT"&&O!=p.amount&&(f+=1,f==2))throw new Error(JSON.stringify({errCode:gr.ErrCodeSemiColorOuput}));if(i.get(_)!=F)throw new Error(JSON.stringify({errCode:gr.ErrCodeUnknownAsset}));let B=s.get(_);if(B==null)s.set(_,O);else if(s.set(_,B+O),F=="NFT")throw new Error(JSON.stringify({errCode:gr.ErrCodeMul}))}if(Object.keys(s).length>1)throw new Error(JSON.stringify({errCode:gr.ErrCodeMul}));o.push({amount:p.amount,address:p.address})}for(let p of n.keys()){let l=n.get(p),y=s.get(p);if(l!=y)throw new Error(JSON.stringify({errCode:gr.ErrCodeAtomicalNotFullyAllocated,date:{atomicalId:p,inputAmount:l,sendAmount:y}}))}for(let[p,l]of o.entries())if(l.amount<u)throw new Error(JSON.stringify({errCode:gr.ErrCodeVoutDust,vOut:p}));return{inputs:r.inputs,outputs:o,address:r.address,feePerB:a}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey,s=this.convert2AtomicalTx(e.data);return n=(0,whe.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}async estimateFee(e){try{let r=this.convert2AtomicalTx(e.data),n=iH.estimateBtcFee(r,this.network());return Promise.resolve(n)}catch(r){return Promise.reject(r)}}};gr.AtomicalWallet=bb;var AS=class extends bb{network(){return iH.networks.testnet}};gr.AtomicalTestWallet=AS});var oH=$(yb=>{k();M();Object.defineProperty(yb,"__esModule",{value:!0});yb.MAX_TOTAL_SUPPLY=void 0;var Ehe=2147483647n;yb.MAX_TOTAL_SUPPLY=Ehe});var IS=$(Gs=>{k();M();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.MinterType=Gs.CHANGE_MIN_POSTAGE=Gs.Postage=Gs.SupportedNetwork=Gs.CatAddressType=void 0;var The;(function(t){t.P2WPKH="p2wpkh",t.P2TR="p2tr"})(The=Gs.CatAddressType||(Gs.CatAddressType={}));var Ahe;(function(t){t.btcSignet="btc-signet",t.fractalMainnet="fractal-mainnet",t.fractalTestnet="fractal-testnet"})(Ahe=Gs.SupportedNetwork||(Gs.SupportedNetwork={}));var Ihe;(function(t){t[t.METADATA_POSTAGE=546]="METADATA_POSTAGE",t[t.GUARD_POSTAGE=332]="GUARD_POSTAGE",t[t.MINTER_POSTAGE=331]="MINTER_POSTAGE",t[t.TOKEN_POSTAGE=330]="TOKEN_POSTAGE"})(Ihe=Gs.Postage||(Gs.Postage={}));Gs.CHANGE_MIN_POSTAGE=546;var Phe;(function(t){t.OPEN_MINTER_V1="21cbd2e538f2b6cc40ee180e174f1e25",t.OPEN_MINTER_V2="a6c2e92d74a23c07bb6220b676c6cb9b",t.UNKOWN_MINTER="unkown_minter"})(Phe=Gs.MinterType||(Gs.MinterType={}))});var uH=$(aH=>{k();M();Object.defineProperty(aH,"__esModule",{value:!0})});var fH=$(vb=>{k();M();Object.defineProperty(vb,"__esModule",{value:!0});vb.isOpenMinter=void 0;var cH=IS();function Ohe(t){return cH.MinterType.OPEN_MINTER_V1===t||cH.MinterType.OPEN_MINTER_V2===t}vb.isOpenMinter=Ohe});var lH=$((GGe,hH)=>{k();M();hH.exports="0.5.7"});var PS=$((YGe,pH)=>{k();M();var Bhe={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"};function Che(t){return t>=55296&&t<=56319}function khe(t){return t>=56320&&t<=57343}function dH(t){return typeof t.pipe=="function"&&typeof t._read=="function"&&typeof t._readableState=="object"&&t._readableState!==null}function Mhe(t,e,r,n){switch(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),n!==null&&(r=n.call(t,String(e),r)),typeof r){case"function":case"symbol":r=void 0;break;case"object":if(r!==null){let i=r.constructor;(i===String||i===Number||i===Boolean)&&(r=r.valueOf())}break}return r}function Rhe(t){return t===null||typeof t!="object"?1:Array.isArray(t)?3:2}function Nhe(t){return t===null||typeof t!="object"?1:typeof t.then=="function"?4:dH(t)?t._readableState.objectMode?6:5:Array.isArray(t)?3:2}function Fhe(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(r=>{let n=r&&r.constructor;return n===String||n===Number?String(r):null}).filter(r=>typeof r=="string"))]:null}function Hhe(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}pH.exports={escapableCharCodeSubstitution:Bhe,isLeadingSurrogate:Che,isTrailingSurrogate:khe,type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:dH,replaceValue:Mhe,getTypeNative:Rhe,getTypeAsync:Nhe,normalizeReplacer:Fhe,normalizeSpace:Hhe}});var yH=$((JGe,bH)=>{k();M();var{normalizeReplacer:Dhe,normalizeSpace:Uhe,replaceValue:Lhe,getTypeNative:qhe,getTypeAsync:$he,isLeadingSurrogate:jhe,isTrailingSurrogate:Khe,escapableCharCodeSubstitution:Vhe,type:{PRIMITIVE:mH,OBJECT:Ghe,ARRAY:zhe,PROMISE:Whe,STRING_STREAM:Yhe,OBJECT_STREAM:Xhe}}=PS(),Zhe=Array.from({length:2048}).map((t,e)=>Vhe.hasOwnProperty(e)?2:e<32?6:e<128?1:2);function gH(t){let e=0,r=!1;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<2048)e+=Zhe[i];else if(jhe(i)){e+=6,r=!0;continue}else Khe(i)?e=r?e-2:e+6:e+=3;r=!1}return e+2}function Jhe(t){switch(typeof t){case"string":return gH(t);case"number":return Number.isFinite(t)?String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function Qhe(t){return t=Uhe(t),typeof t=="string"?t.length:0}bH.exports=function(e,r,n,i){function s(O,F,B){if(y)return;B=Lhe(O,F,B,r);let E=p(B);if(E!==mH&&u.has(B)){h.add(B),_+=4,i.continueOnCircular||(y=!0);return}switch(E){case mH:B!==void 0||Array.isArray(O)?_+=Jhe(B):O===l&&(_+=9);break;case Ghe:{if(a.has(B)){c.add(B),_+=a.get(B);break}let I=_,U=0;_+=2,u.add(B);for(let N in B)if(hasOwnProperty.call(B,N)&&(o===null||o.has(N))){let H=_;s(B,N,B[N]),H!==_&&(_+=gH(N)+1,U++)}U>1&&(_+=U-1),u.delete(B),n>0&&U>0&&(_+=(1+(u.size+1)*n+1)*U,_+=1+u.size*n),a.set(B,_-I);break}case zhe:{if(a.has(B)){c.add(B),_+=a.get(B);break}let I=_;_+=2,u.add(B);for(let U=0;U<B.length;U++)s(B,U,B[U]);B.length>1&&(_+=B.length-1),u.delete(B),n>0&&B.length>0&&(_+=(1+(u.size+1)*n)*B.length,_+=1+u.size*n),a.set(B,_-I);break}case Whe:case Yhe:f.add(B);break;case Xhe:_+=2,f.add(B);break}}let o=null;r=Dhe(r),Array.isArray(r)&&(o=new Set(r),r=null),n=Qhe(n),i=i||{};let a=new Map,u=new Set,c=new Set,h=new Set,f=new Set,p=i.async?$he:qhe,l={"":e},y=!1,_=0;return s(l,"",e),{minLength:isNaN(_)?1/0:_,circular:[...h],duplicate:[...c],async:[...f]}}});var _H=$((tze,vH)=>{k();M();vH.exports=()=>{throw new Error("Method is not supported")}});var SH=$((ize,xH)=>{k();M();xH.exports=TextDecoder});var TH=$((aze,EH)=>{k();M();var{isReadableStream:ele}=PS(),tle=SH(),B3=1,rle=2,nle=new tle;function wH(t){return t!==null&&typeof t=="object"}function OS(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(r,n)=>"at position "+(Number(n)+e.jsonParseOffset))),t}function ile(t,e){let r=t.length;t.length+=e.length;for(let n=0;n<e.length;n++)t[r+n]=e[n]}EH.exports=function(t){let e=new BS;if(wH(t)&&ele(t))return new Promise((r,n)=>{t.on("data",i=>{try{e.push(i)}catch(s){n(OS(s,e)),e=null}}).on("error",i=>{e=null,n(i)}).on("end",()=>{try{r(e.finish())}catch(i){n(OS(i,e))}finally{e=null}})});if(typeof t=="function"){let r=t();if(wH(r)&&(Symbol.iterator in r||Symbol.asyncIterator in r))return new Promise(async(n,i)=>{try{for await(let s of r)e.push(s);n(e.finish())}catch(s){i(OS(s,e))}finally{e=null}})}throw new Error("Chunk emitter should be readable stream, generator, async generator or function returning an iterable object")};var BS=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,r){this.stack[this.lastFlushDepth-1]===B3?(r&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(r&&(this.jsonParseOffset--,e="["+e+"]"),ile(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:r}=this.valueStack;if(Array.isArray(r)?r.length!==0:Object.keys(r).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,r,n){let i=e.slice(r,n);if(this.jsonParseOffset=this.chunkOffset+r,this.pendingChunk!==null&&(i=this.pendingChunk+i,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(i),!0):(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let s=this.flushDepth-1;s>=this.lastFlushDepth;s--)i+=this.stack[s]===B3?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(i),!0);for(let s=this.lastFlushDepth||1;s<this.flushDepth;s++){let o=this.valueStack.value;if(this.stack[s-1]===B3){let a;for(a in o);o=o[a]}else o=o[o.length-1];this.valueStack={value:o,prev:this.valueStack}}}else{i=this.prepareAddition(i);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.jsonParseOffset--,i=(this.stack[s]===B3?"{":"[")+i;this.parseAndAppend(i,!1);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let s=e;e=new Uint8Array(this.pendingByteSeq.length+s.length),e.set(this.pendingByteSeq),e.set(s,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let s=0;s<e.length;s++){let o=e[e.length-1-s];if(o>>6===3){s++,(s!==4&&o>>3===30||s!==3&&o>>4===14||s!==2&&o>>5===6)&&(this.pendingByteSeq=e.slice(e.length-s),e=e.slice(0,-s));break}}e=nle.decode(e)}let r=e.length,n=0,i=0;e:for(let s=0;s<r;s++){if(this.stateString){for(;s<r;s++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(s)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(s)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:i=s;break;case 123:i=s+1,this.stack[this.flushDepth++]=B3;break;case 91:i=s+1,this.stack[this.flushDepth++]=rle;break;case 93:case 125:i=s+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,n,i),n=i);break;case 9:case 10:case 13:case 32:n===s&&n++,i===s&&i++;break}}i>n&&this.flush(e,n,i),i<r&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(i,r)),this.chunkOffset+=r}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var IH=$((fze,AH)=>{k();M();AH.exports={version:lH(),stringifyInfo:yH(),stringifyStream:_H(),parseChunked:TH()}});var OH=$((dze,PH)=>{k();M();var _b=og().Buffer;function sle(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(l){if((Array.isArray(l)||l instanceof Uint8Array)&&(l=_b.from(l)),!_b.isBuffer(l))throw new TypeError("Expected Buffer");if(l.length===0)return"";for(var y=0,_=0,O=0,F=l.length;O!==F&&l[O]===0;)O++,y++;for(var B=(F-O)*c+1>>>0,E=new Uint8Array(B);O!==F;){for(var I=l[O],U=0,N=B-1;(I!==0||U<_)&&N!==-1;N--,U++)I+=256*E[N]>>>0,E[N]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");_=U,O++}for(var H=B-_;H!==B&&E[H]===0;)H++;for(var D=a.repeat(y);H<B;++H)D+=t.charAt(E[H]);return D}function f(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return _b.alloc(0);var y=0;if(l[y]!==" "){for(var _=0,O=0;l[y]===a;)_++,y++;for(var F=(l.length-y)*u+1>>>0,B=new Uint8Array(F);l[y];){var E=e[l.charCodeAt(y)];if(E===255)return;for(var I=0,U=F-1;(E!==0||I<O)&&U!==-1;U--,I++)E+=o*B[U]>>>0,B[U]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");O=I,y++}if(l[y]!==" "){for(var N=F-O;N!==F&&B[N]===0;)N++;var H=_b.allocUnsafe(_+(F-N));H.fill(0,0,_);for(var D=_;N!==F;)H[D++]=B[N++];return H}}}function p(l){var y=f(l);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:p}}PH.exports=sle});var CH=$((gze,BH)=>{k();M();var ole=OH(),ale="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BH.exports=ole(ale)});var kH=$((vze,CS)=>{k();M();typeof Object.create=="function"?CS.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:CS.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var RH=$((kS,MH)=>{k();M();(function(t){"use strict";function e(x){return parseInt(x)===x}function r(x){if(!e(x.length))return!1;for(var P=0;P<x.length;P++)if(!e(x[P])||x[P]<0||x[P]>255)return!1;return!0}function n(x,P){if(x.buffer&&x.name==="Uint8Array")return P&&(x.slice?x=x.slice():x=Array.prototype.slice.call(x)),x;if(Array.isArray(x)){if(!r(x))throw new Error("Array contains invalid value: "+x);return new Uint8Array(x)}if(e(x.length)&&r(x))return new Uint8Array(x);throw new Error("unsupported array-like object")}function i(x){return new Uint8Array(x)}function s(x,P,L,V,W){(V!=null||W!=null)&&(x.slice?x=x.slice(V,W):x=Array.prototype.slice.call(x,V,W)),P.set(x,L)}var o=function(){function x(L){var V=[],W=0;for(L=encodeURI(L);W<L.length;){var ee=L.charCodeAt(W++);ee===37?(V.push(parseInt(L.substr(W,2),16)),W+=2):V.push(ee)}return n(V)}function P(L){for(var V=[],W=0;W<L.length;){var ee=L[W];ee<128?(V.push(String.fromCharCode(ee)),W++):ee>191&&ee<224?(V.push(String.fromCharCode((ee&31)<<6|L[W+1]&63)),W+=2):(V.push(String.fromCharCode((ee&15)<<12|(L[W+1]&63)<<6|L[W+2]&63)),W+=3)}return V.join("")}return{toBytes:x,fromBytes:P}}(),a=function(){function x(V){for(var W=[],ee=0;ee<V.length;ee+=2)W.push(parseInt(V.substr(ee,2),16));return W}var P="0123456789abcdef";function L(V){for(var W=[],ee=0;ee<V.length;ee++){var ae=V[ee];W.push(P[(ae&240)>>4]+P[ae&15])}return W.join("")}return{toBytes:x,fromBytes:L}}(),u={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],l=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],y=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],_=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],O=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],F=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],B=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],E=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],I=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],N=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],H=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function D(x){for(var P=[],L=0;L<x.length;L+=4)P.push(x[L]<<24|x[L+1]<<16|x[L+2]<<8|x[L+3]);return P}var C=function(x){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(x,!0)}),this._prepare()};C.prototype._prepare=function(){var x=u[this.key.length];if(x==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var P=0;P<=x;P++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(x+1)*4,V=this.key.length/4,W=D(this.key),ee,P=0;P<V;P++)ee=P>>2,this._Ke[ee][P%4]=W[P],this._Kd[x-ee][P%4]=W[P];for(var ae=0,se=V,j;se<L;){if(j=W[V-1],W[0]^=h[j>>16&255]<<24^h[j>>8&255]<<16^h[j&255]<<8^h[j>>24&255]^c[ae]<<24,ae+=1,V!=8)for(var P=1;P<V;P++)W[P]^=W[P-1];else{for(var P=1;P<V/2;P++)W[P]^=W[P-1];j=W[V/2-1],W[V/2]^=h[j&255]^h[j>>8&255]<<8^h[j>>16&255]<<16^h[j>>24&255]<<24;for(var P=V/2+1;P<V;P++)W[P]^=W[P-1]}for(var P=0,Z,Q;P<V&&se<L;)Z=se>>2,Q=se%4,this._Ke[Z][Q]=W[P],this._Kd[x-Z][Q]=W[P++],se++}for(var Z=1;Z<x;Z++)for(var Q=0;Q<4;Q++)j=this._Kd[Z][Q],this._Kd[Z][Q]=I[j>>24&255]^U[j>>16&255]^N[j>>8&255]^H[j&255]},C.prototype.encrypt=function(x){if(x.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var P=this._Ke.length-1,L=[0,0,0,0],V=D(x),W=0;W<4;W++)V[W]^=this._Ke[0][W];for(var ee=1;ee<P;ee++){for(var W=0;W<4;W++)L[W]=p[V[W]>>24&255]^l[V[(W+1)%4]>>16&255]^y[V[(W+2)%4]>>8&255]^_[V[(W+3)%4]&255]^this._Ke[ee][W];V=L.slice()}for(var ae=i(16),se,W=0;W<4;W++)se=this._Ke[P][W],ae[4*W]=(h[V[W]>>24&255]^se>>24)&255,ae[4*W+1]=(h[V[(W+1)%4]>>16&255]^se>>16)&255,ae[4*W+2]=(h[V[(W+2)%4]>>8&255]^se>>8)&255,ae[4*W+3]=(h[V[(W+3)%4]&255]^se)&255;return ae},C.prototype.decrypt=function(x){if(x.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var P=this._Kd.length-1,L=[0,0,0,0],V=D(x),W=0;W<4;W++)V[W]^=this._Kd[0][W];for(var ee=1;ee<P;ee++){for(var W=0;W<4;W++)L[W]=O[V[W]>>24&255]^F[V[(W+3)%4]>>16&255]^B[V[(W+2)%4]>>8&255]^E[V[(W+1)%4]&255]^this._Kd[ee][W];V=L.slice()}for(var ae=i(16),se,W=0;W<4;W++)se=this._Kd[P][W],ae[4*W]=(f[V[W]>>24&255]^se>>24)&255,ae[4*W+1]=(f[V[(W+3)%4]>>16&255]^se>>16)&255,ae[4*W+2]=(f[V[(W+2)%4]>>8&255]^se>>8)&255,ae[4*W+3]=(f[V[(W+1)%4]&255]^se)&255;return ae};var d=function(x){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(x)};d.prototype.encrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var P=i(x.length),L=i(16),V=0;V<x.length;V+=16)s(x,L,0,V,V+16),L=this._aes.encrypt(L),s(L,P,V);return P},d.prototype.decrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var P=i(x.length),L=i(16),V=0;V<x.length;V+=16)s(x,L,0,V,V+16),L=this._aes.decrypt(L),s(L,P,V);return P};var v=function(x,P){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!P)P=i(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(P,!0),this._aes=new C(x)};v.prototype.encrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var P=i(x.length),L=i(16),V=0;V<x.length;V+=16){s(x,L,0,V,V+16);for(var W=0;W<16;W++)L[W]^=this._lastCipherblock[W];this._lastCipherblock=this._aes.encrypt(L),s(this._lastCipherblock,P,V)}return P},v.prototype.decrypt=function(x){if(x=n(x),x.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var P=i(x.length),L=i(16),V=0;V<x.length;V+=16){s(x,L,0,V,V+16),L=this._aes.decrypt(L);for(var W=0;W<16;W++)P[V+W]=L[W]^this._lastCipherblock[W];s(x,this._lastCipherblock,0,V,V+16)}return P};var g=function(x,P,L){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!P)P=i(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=n(P,!0),this._aes=new C(x)};g.prototype.encrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var P=n(x,!0),L,V=0;V<P.length;V+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var W=0;W<this.segmentSize;W++)P[V+W]^=L[W];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(P,this._shiftRegister,16-this.segmentSize,V,V+this.segmentSize)}return P},g.prototype.decrypt=function(x){if(x.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var P=n(x,!0),L,V=0;V<P.length;V+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var W=0;W<this.segmentSize;W++)P[V+W]^=L[W];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(x,this._shiftRegister,16-this.segmentSize,V,V+this.segmentSize)}return P};var m=function(x,P){if(!(this instanceof m))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!P)P=i(16);else if(P.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(P,!0),this._lastPrecipherIndex=16,this._aes=new C(x)};m.prototype.encrypt=function(x){for(var P=n(x,!0),L=0;L<P.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),P[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return P},m.prototype.decrypt=m.prototype.encrypt;var S=function(x){if(!(this instanceof S))throw Error("Counter must be instanitated with `new`");x!==0&&!x&&(x=1),typeof x=="number"?(this._counter=i(16),this.setValue(x)):this.setBytes(x)};S.prototype.setValue=function(x){if(typeof x!="number"||parseInt(x)!=x)throw new Error("invalid counter value (must be an integer)");if(x>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var P=15;P>=0;--P)this._counter[P]=x%256,x=parseInt(x/256)},S.prototype.setBytes=function(x){if(x=n(x,!0),x.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=x},S.prototype.increment=function(){for(var x=15;x>=0;x--)if(this._counter[x]===255)this._counter[x]=0;else{this._counter[x]++;break}};var w=function(x,P){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",P instanceof S||(P=new S(P)),this._counter=P,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(x)};w.prototype.encrypt=function(x){for(var P=n(x,!0),L=0;L<P.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),P[L]^=this._remainingCounter[this._remainingCounterIndex++];return P},w.prototype.decrypt=w.prototype.encrypt;function R(x){x=n(x,!0);var P=16-x.length%16,L=i(x.length+P);s(x,L);for(var V=x.length;V<L.length;V++)L[V]=P;return L}function T(x){if(x=n(x,!0),x.length<16)throw new Error("PKCS#7 invalid length");var P=x[x.length-1];if(P>16)throw new Error("PKCS#7 padding byte out of range");for(var L=x.length-P,V=0;V<P;V++)if(x[L+V]!==P)throw new Error("PKCS#7 invalid padding byte");var W=i(L);return s(x,W,0,0,L),W}var b={AES:C,Counter:S,ModeOfOperation:{ecb:d,cbc:v,cfb:g,ofb:m,ctr:w},utils:{hex:a,utf8:o},padding:{pkcs7:{pad:R,strip:T}},_arrayTest:{coerceArray:n,createArray:i,copyArray:s}};typeof kS<"u"?MH.exports=b:typeof define=="function"&&define.amd?define([],function(){return b}):(t.aesjs&&(b._aesjs=t.aesjs),t.aesjs=b)})(kS)});var FH=$((NH,MS)=>{k();M();(function(t){"use strict";for(var e=[null,0,{}],r=10,n=44032,i=4352,s=4449,o=4519,a=19,u=21,c=28,h=u*c,f=a*h,p=function(T,b){this.codepoint=T,this.feature=b},l={},y=[],_=0;_<=255;++_)y[_]=0;function O(T,b,x){var P=l[b];return P||(P=T(b,x),!!P.feature&&++y[b>>8&255]>r&&(l[b]=P)),P}function F(T,b,x){var P=b&65280,L=p.udata[P]||{},V=L[b];return V?new p(b,V):new p(b,e)}function B(T,b,x){return x?T(b,x):new p(b,null)}function E(T,b,x){var P;if(b<i||i+a<=b&&b<n||n+f<b)return T(b,x);if(i<=b&&b<i+a){var L={},V=(b-i)*u;for(P=0;P<u;++P)L[s+P]=n+c*(P+V);return new p(b,[,,L])}var W=b-n,ee=W%c,ae=[];if(ee!==0)ae[0]=[n+W-ee,o+ee];else for(ae[0]=[i+Math.floor(W/h),s+Math.floor(W%h/c)],ae[2]={},P=1;P<c;++P)ae[2][o+P]=b+P;return new p(b,ae)}function I(T,b,x){return b<60||13311<b&&b<42607?new p(b,e):T(b,x)}var U=[I,O,B,E,F];p.fromCharCode=U.reduceRight(function(T,b){return function(x,P){return b(T,x,P)}},null),p.isHighSurrogate=function(T){return T>=55296&&T<=56319},p.isLowSurrogate=function(T){return T>=56320&&T<=57343},p.prototype.prepFeature=function(){this.feature||(this.feature=p.fromCharCode(this.codepoint,!0).feature)},p.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var T=this.codepoint-65536;return String.fromCharCode(Math.floor(T/1024)+55296,T%1024+56320)},p.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},p.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<8},p.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<9},p.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?this.feature[1]&255:0},p.prototype.getComposite=function(T){if(this.prepFeature(),!this.feature[2])return null;var b=this.feature[2][T.codepoint];return b?p.fromCharCode(b):null};var N=function(T){this.str=T,this.cursor=0};N.prototype.next=function(){if(!!this.str&&this.cursor<this.str.length){var T=this.str.charCodeAt(this.cursor++),b;return p.isHighSurrogate(T)&&this.cursor<this.str.length&&p.isLowSurrogate(b=this.str.charCodeAt(this.cursor))&&(T=(T-55296)*1024+(b-56320)+65536,++this.cursor),p.fromCharCode(T)}else return this.str=null,null};var H=function(T,b){this.it=T,this.canonical=b,this.resBuf=[]};H.prototype.next=function(){function T(x,P){var L=P.getDecomp();if(!!L&&!(x&&P.isCompatibility())){for(var V=[],W=0;W<L.length;++W){var ee=T(x,p.fromCharCode(L[W]));V=V.concat(ee)}return V}else return[P]}if(this.resBuf.length===0){var b=this.it.next();if(!b)return null;this.resBuf=T(this.canonical,b)}return this.resBuf.shift()};var D=function(T){this.it=T,this.resBuf=[]};D.prototype.next=function(){var T;if(this.resBuf.length===0)do{var b=this.it.next();if(!b)break;T=b.getCanonicalClass();var x=this.resBuf.length;if(T!==0)for(;x>0;--x){var P=this.resBuf[x-1],L=P.getCanonicalClass();if(L<=T)break}this.resBuf.splice(x,0,b)}while(T!==0);return this.resBuf.shift()};var C=function(T){this.it=T,this.procBuf=[],this.resBuf=[],this.lastClass=null};C.prototype.next=function(){for(;this.resBuf.length===0;){var T=this.it.next();if(!T){this.resBuf=this.procBuf,this.procBuf=[];break}if(this.procBuf.length===0)this.lastClass=T.getCanonicalClass(),this.procBuf.push(T);else{var b=this.procBuf[0],x=b.getComposite(T),P=T.getCanonicalClass();!!x&&(this.lastClass<P||this.lastClass===0)?this.procBuf[0]=x:(P===0&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=P,this.procBuf.push(T))}}return this.resBuf.shift()};var d=function(T,b){switch(T){case"NFD":return new D(new H(new N(b),!0));case"NFKD":return new D(new H(new N(b),!1));case"NFC":return new C(new D(new H(new N(b),!0)));case"NFKC":return new C(new D(new H(new N(b),!1)))}throw T+" is invalid"},v=function(T,b){for(var x=d(T,b),P="",L;L=x.next();)P+=L.toString();return P};function g(T){return v("NFD",T)}function m(T){return v("NFKD",T)}function S(T){return v("NFC",T)}function w(T){return v("NFKC",T)}p.udata={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256],66272:[,220]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256],66422:[,230],66423:[,230],66424:[,230],66425:[,230],66426:[,230]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230],2303:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9],68325:[,230],68326:[,220]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69759:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70003:[,7],70080:[,9]},4608:{70197:[,9],70198:[,7],70377:[,7],70378:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230],70460:[,7],70471:[,,{70462:70475,70487:70476}],70475:[[70471,70462]],70476:[[70471,70487]],70477:[,9],70502:[,230],70503:[,230],70504:[,230],70505:[,230],70506:[,230],70507:[,230],70508:[,230],70512:[,230],70513:[,230],70514:[,230],70515:[,230],70516:[,230]},5120:{70841:[,,{70832:70844,70842:70843,70845:70846}],70843:[[70841,70842]],70844:[[70841,70832]],70846:[[70841,70845]],70850:[,9],70851:[,7]},5376:{71096:[,,{71087:71098}],71097:[,,{71087:71099}],71098:[[71096,71087]],71099:[[71097,71087]],71103:[,9],71104:[,7]},5632:{71231:[,9],71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220],6832:[,230],6833:[,230],6834:[,230],6835:[,230],6836:[,230],6837:[,220],6838:[,220],6839:[,220],6840:[,220],6841:[,220],6842:[,220],6843:[,230],6844:[,230],6845:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230],7416:[,230],7417:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7655:[,230],7656:[,230],7657:[,230],7658:[,230],7659:[,230],7660:[,230],7661:[,230],7662:[,230],7663:[,230],7664:[,230],7665:[,230],7666:[,230],7667:[,230],7668:[,230],7669:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},27136:{92912:[,1],92913:[,1],92914:[,1],92915:[,1],92916:[,1]},27392:{92976:[,230],92977:[,230],92978:[,230],92979:[,230],92980:[,230],92981:[,230],92982:[,230]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42652:[[1098],256],42653:[[1100],256],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{43868:[[42791],256],43869:[[43831],256],43870:[[619],256],43871:[[43858],256],44013:[,9]},48128:{113822:[,1]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},59392:{125136:[,220],125137:[,220],125138:[,220],125139:[,220],125140:[,220],125141:[,220],125142:[,220]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65063:[,220],65064:[,220],65065:[,220],65066:[,220],65067:[,220],65068:[,220],65069:[,220],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}};var R={nfc:S,nfd:g,nfkc:w,nfkd:m};typeof MS=="object"?MS.exports=R:typeof define=="function"&&define.amd?define("unorm",function(){return R}):t.unorm=R,R.shimApplied=!1,String.prototype.normalize||(String.prototype.normalize=function(T){var b=""+this;if(T=T===void 0?"NFC":T,T==="NFC")return R.nfc(b);if(T==="NFD")return R.nfd(b);if(T==="NFKC")return R.nfkc(b);if(T==="NFKD")return R.nfkd(b);throw new RangeError("Invalid normalization form: "+T)},R.shimApplied=!0)})(NH)});var DH=$((HH,RS)=>{k();M();(function(t,e){"use strict";function r(C,d){if(!C)throw new Error(d||"Assertion failed")}function n(C,d){C.super_=d;var v=function(){};v.prototype=d.prototype,C.prototype=new v,C.prototype.constructor=C}function i(C,d,v){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(C||0,d||10,v||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=ui().Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,v){return d.cmp(v)>0?d:v},i.min=function(d,v){return d.cmp(v)<0?d:v},i.prototype._init=function(d,v,g){if(typeof d=="number")return this._initNumber(d,v,g);if(typeof d=="object")return this._initArray(d,v,g);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),d=d.toString().replace(/\s+/g,"");var m=0;d[0]==="-"&&m++,v===16?this._parseHex(d,m):this._parseBase(d,v,m),d[0]==="-"&&(this.negative=1),this.strip(),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initNumber=function(d,v,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initArray=function(d,v,g){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var S,w,R=0;if(g==="be")for(m=d.length-1,S=0;m>=0;m-=3)w=d[m]|d[m-1]<<8|d[m-2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);else if(g==="le")for(m=0,S=0;m<d.length;m+=3)w=d[m]|d[m+1]<<8|d[m+2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);return this.strip()};function o(C,d,v){for(var g=0,m=Math.min(C.length,v),S=d;S<m;S++){var w=C.charCodeAt(S)-48;g<<=4,w>=49&&w<=54?g|=w-49+10:w>=17&&w<=22?g|=w-17+10:g|=w&15}return g}i.prototype._parseHex=function(d,v){this.length=Math.ceil((d.length-v)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,S,w=0;for(g=d.length-6,m=0;g>=v;g-=6)S=o(d,g,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303,w+=24,w>=26&&(w-=26,m++);g+6!==v&&(S=o(d,v,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303),this.strip()};function a(C,d,v,g){for(var m=0,S=Math.min(C.length,v),w=d;w<S;w++){var R=C.charCodeAt(w)-48;m*=g,R>=49?m+=R-49+10:R>=17?m+=R-17+10:m+=R}return m}i.prototype._parseBase=function(d,v,g){this.words=[0],this.length=1;for(var m=0,S=1;S<=67108863;S*=v)m++;m--,S=S/v|0;for(var w=d.length-g,R=w%m,T=Math.min(w,w-R)+g,b=0,x=g;x<T;x+=m)b=a(d,x,x+m,v),this.imuln(S),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(R!==0){var P=1;for(b=a(d,x,d.length,v),x=0;x<R;x++)P*=v;this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}},i.prototype.copy=function(d){d.words=new Array(this.length);for(var v=0;v<this.length;v++)d.words[v]=this.words[v];d.length=this.length,d.negative=this.negative,d.red=this.red},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,v){d=d||10,v=v|0||1;var g;if(d===16||d==="hex"){g="";for(var m=0,S=0,w=0;w<this.length;w++){var R=this.words[w],T=((R<<m|S)&16777215).toString(16);S=R>>>24-m&16777215,S!==0||w!==this.length-1?g=u[6-T.length]+T+g:g=T+g,m+=2,m>=26&&(m-=26,w--)}for(S!==0&&(g=S.toString(16)+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var b=c[d],x=h[d];g="";var P=this.clone();for(P.negative=0;!P.isZero();){var L=P.modn(x).toString(d);P=P.idivn(x),P.isZero()?g=L+g:g=u[b-L.length]+L+g}for(this.isZero()&&(g="0"+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(d,v){return r(typeof s<"u"),this.toArrayLike(s,d,v)},i.prototype.toArray=function(d,v){return this.toArrayLike(Array,d,v)},i.prototype.toArrayLike=function(d,v,g){var m=this.byteLength(),S=g||Math.max(1,m);r(m<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0"),this.strip();var w=v==="le",R=new d(S),T,b,x=this.clone();if(w){for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[b]=T;for(;b<S;b++)R[b]=0}else{for(b=0;b<S-m;b++)R[b]=0;for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[S-b-1]=T}return R},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var v=d,g=0;return v>=4096&&(g+=13,v>>>=13),v>=64&&(g+=7,v>>>=7),v>=8&&(g+=4,v>>>=4),v>=2&&(g+=2,v>>>=2),g+v},i.prototype._zeroBits=function(d){if(d===0)return 26;var v=d,g=0;return(v&8191)===0&&(g+=13,v>>>=13),(v&127)===0&&(g+=7,v>>>=7),(v&15)===0&&(g+=4,v>>>=4),(v&3)===0&&(g+=2,v>>>=2),(v&1)===0&&g++,g},i.prototype.bitLength=function(){var d=this.words[this.length-1],v=this._countBits(d);return(this.length-1)*26+v};function f(C){for(var d=new Array(C.bitLength()),v=0;v<d.length;v++){var g=v/26|0,m=v%26;d[v]=(C.words[g]&1<<m)>>>m}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,v=0;v<this.length;v++){var g=this._zeroBits(this.words[v]);if(d+=g,g!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]|d.words[v];return this.strip()},i.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var v;this.length>d.length?v=d:v=this;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=v.length,this.strip()},i.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var v,g;this.length>d.length?(v=this,g=d):(v=d,g=this);for(var m=0;m<g.length;m++)this.words[m]=v.words[m]^g.words[m];if(this!==v)for(;m<v.length;m++)this.words[m]=v.words[m];return this.length=v.length,this.strip()},i.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var v=Math.ceil(d/26)|0,g=d%26;this._expand(v),g>0&&v--;for(var m=0;m<v;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,v){r(typeof d=="number"&&d>=0);var g=d/26|0,m=d%26;return this._expand(g+1),v?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},i.prototype.iadd=function(d){var v;if(this.negative!==0&&d.negative===0)return this.negative=0,v=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,v=this.isub(d),d.negative=1,v._normSign();var g,m;this.length>d.length?(g=this,m=d):(g=d,m=this);for(var S=0,w=0;w<m.length;w++)v=(g.words[w]|0)+(m.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;for(;S!==0&&w<g.length;w++)v=(g.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;if(this.length=g.length,S!==0)this.words[this.length]=S,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},i.prototype.add=function(d){var v;return d.negative!==0&&this.negative===0?(d.negative=0,v=this.sub(d),d.negative^=1,v):d.negative===0&&this.negative!==0?(this.negative=0,v=d.sub(this),this.negative=1,v):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var v=this.iadd(d);return d.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,S;g>0?(m=this,S=d):(m=d,S=this);for(var w=0,R=0;R<S.length;R++)v=(m.words[R]|0)-(S.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;for(;w!==0&&R<m.length;R++)v=(m.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;if(w===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function p(C,d,v){v.negative=d.negative^C.negative;var g=C.length+d.length|0;v.length=g,g=g-1|0;var m=C.words[0]|0,S=d.words[0]|0,w=m*S,R=w&67108863,T=w/67108864|0;v.words[0]=R;for(var b=1;b<g;b++){for(var x=T>>>26,P=T&67108863,L=Math.min(b,d.length-1),V=Math.max(0,b-C.length+1);V<=L;V++){var W=b-V|0;m=C.words[W]|0,S=d.words[V]|0,w=m*S+P,x+=w/67108864|0,P=w&67108863}v.words[b]=P|0,T=x|0}return T!==0?v.words[b]=T|0:v.length--,v.strip()}var l=function(d,v,g){var m=d.words,S=v.words,w=g.words,R=0,T,b,x,P=m[0]|0,L=P&8191,V=P>>>13,W=m[1]|0,ee=W&8191,ae=W>>>13,se=m[2]|0,j=se&8191,Z=se>>>13,Q=m[3]|0,ne=Q&8191,ue=Q>>>13,ge=m[4]|0,xe=ge&8191,Pe=ge>>>13,Le=m[5]|0,ke=Le&8191,De=Le>>>13,Je=m[6]|0,Ae=Je&8191,we=Je>>>13,mt=m[7]|0,K=mt&8191,X=mt>>>13,G=m[8]|0,z=G&8191,J=G>>>13,te=m[9]|0,re=te&8191,ce=te>>>13,oe=S[0]|0,pe=oe&8191,ve=oe>>>13,Oe=S[1]|0,Se=Oe&8191,ze=Oe>>>13,Ht=S[2]|0,Xe=Ht&8191,wt=Ht>>>13,rn=S[3]|0,Qe=rn&8191,Dt=rn>>>13,nn=S[4]|0,et=nn&8191,Ut=nn>>>13,sn=S[5]|0,tt=sn&8191,Lt=sn>>>13,on=S[6]|0,rt=on&8191,qt=on>>>13,an=S[7]|0,nt=an&8191,$t=an>>>13,un=S[8]|0,it=un&8191,jt=un>>>13,cn=S[9]|0,st=cn&8191,Kt=cn>>>13;g.negative=d.negative^v.negative,g.length=19,T=Math.imul(L,pe),b=Math.imul(L,ve),b=b+Math.imul(V,pe)|0,x=Math.imul(V,ve);var zr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zr>>>26)|0,zr&=67108863,T=Math.imul(ee,pe),b=Math.imul(ee,ve),b=b+Math.imul(ae,pe)|0,x=Math.imul(ae,ve),T=T+Math.imul(L,Se)|0,b=b+Math.imul(L,ze)|0,b=b+Math.imul(V,Se)|0,x=x+Math.imul(V,ze)|0;var Wr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(j,pe),b=Math.imul(j,ve),b=b+Math.imul(Z,pe)|0,x=Math.imul(Z,ve),T=T+Math.imul(ee,Se)|0,b=b+Math.imul(ee,ze)|0,b=b+Math.imul(ae,Se)|0,x=x+Math.imul(ae,ze)|0,T=T+Math.imul(L,Xe)|0,b=b+Math.imul(L,wt)|0,b=b+Math.imul(V,Xe)|0,x=x+Math.imul(V,wt)|0;var Uu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,T=Math.imul(ne,pe),b=Math.imul(ne,ve),b=b+Math.imul(ue,pe)|0,x=Math.imul(ue,ve),T=T+Math.imul(j,Se)|0,b=b+Math.imul(j,ze)|0,b=b+Math.imul(Z,Se)|0,x=x+Math.imul(Z,ze)|0,T=T+Math.imul(ee,Xe)|0,b=b+Math.imul(ee,wt)|0,b=b+Math.imul(ae,Xe)|0,x=x+Math.imul(ae,wt)|0,T=T+Math.imul(L,Qe)|0,b=b+Math.imul(L,Dt)|0,b=b+Math.imul(V,Qe)|0,x=x+Math.imul(V,Dt)|0;var Lu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,T=Math.imul(xe,pe),b=Math.imul(xe,ve),b=b+Math.imul(Pe,pe)|0,x=Math.imul(Pe,ve),T=T+Math.imul(ne,Se)|0,b=b+Math.imul(ne,ze)|0,b=b+Math.imul(ue,Se)|0,x=x+Math.imul(ue,ze)|0,T=T+Math.imul(j,Xe)|0,b=b+Math.imul(j,wt)|0,b=b+Math.imul(Z,Xe)|0,x=x+Math.imul(Z,wt)|0,T=T+Math.imul(ee,Qe)|0,b=b+Math.imul(ee,Dt)|0,b=b+Math.imul(ae,Qe)|0,x=x+Math.imul(ae,Dt)|0,T=T+Math.imul(L,et)|0,b=b+Math.imul(L,Ut)|0,b=b+Math.imul(V,et)|0,x=x+Math.imul(V,Ut)|0;var qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(qu>>>26)|0,qu&=67108863,T=Math.imul(ke,pe),b=Math.imul(ke,ve),b=b+Math.imul(De,pe)|0,x=Math.imul(De,ve),T=T+Math.imul(xe,Se)|0,b=b+Math.imul(xe,ze)|0,b=b+Math.imul(Pe,Se)|0,x=x+Math.imul(Pe,ze)|0,T=T+Math.imul(ne,Xe)|0,b=b+Math.imul(ne,wt)|0,b=b+Math.imul(ue,Xe)|0,x=x+Math.imul(ue,wt)|0,T=T+Math.imul(j,Qe)|0,b=b+Math.imul(j,Dt)|0,b=b+Math.imul(Z,Qe)|0,x=x+Math.imul(Z,Dt)|0,T=T+Math.imul(ee,et)|0,b=b+Math.imul(ee,Ut)|0,b=b+Math.imul(ae,et)|0,x=x+Math.imul(ae,Ut)|0,T=T+Math.imul(L,tt)|0,b=b+Math.imul(L,Lt)|0,b=b+Math.imul(V,tt)|0,x=x+Math.imul(V,Lt)|0;var $u=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+($u>>>26)|0,$u&=67108863,T=Math.imul(Ae,pe),b=Math.imul(Ae,ve),b=b+Math.imul(we,pe)|0,x=Math.imul(we,ve),T=T+Math.imul(ke,Se)|0,b=b+Math.imul(ke,ze)|0,b=b+Math.imul(De,Se)|0,x=x+Math.imul(De,ze)|0,T=T+Math.imul(xe,Xe)|0,b=b+Math.imul(xe,wt)|0,b=b+Math.imul(Pe,Xe)|0,x=x+Math.imul(Pe,wt)|0,T=T+Math.imul(ne,Qe)|0,b=b+Math.imul(ne,Dt)|0,b=b+Math.imul(ue,Qe)|0,x=x+Math.imul(ue,Dt)|0,T=T+Math.imul(j,et)|0,b=b+Math.imul(j,Ut)|0,b=b+Math.imul(Z,et)|0,x=x+Math.imul(Z,Ut)|0,T=T+Math.imul(ee,tt)|0,b=b+Math.imul(ee,Lt)|0,b=b+Math.imul(ae,tt)|0,x=x+Math.imul(ae,Lt)|0,T=T+Math.imul(L,rt)|0,b=b+Math.imul(L,qt)|0,b=b+Math.imul(V,rt)|0,x=x+Math.imul(V,qt)|0;var ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(ju>>>26)|0,ju&=67108863,T=Math.imul(K,pe),b=Math.imul(K,ve),b=b+Math.imul(X,pe)|0,x=Math.imul(X,ve),T=T+Math.imul(Ae,Se)|0,b=b+Math.imul(Ae,ze)|0,b=b+Math.imul(we,Se)|0,x=x+Math.imul(we,ze)|0,T=T+Math.imul(ke,Xe)|0,b=b+Math.imul(ke,wt)|0,b=b+Math.imul(De,Xe)|0,x=x+Math.imul(De,wt)|0,T=T+Math.imul(xe,Qe)|0,b=b+Math.imul(xe,Dt)|0,b=b+Math.imul(Pe,Qe)|0,x=x+Math.imul(Pe,Dt)|0,T=T+Math.imul(ne,et)|0,b=b+Math.imul(ne,Ut)|0,b=b+Math.imul(ue,et)|0,x=x+Math.imul(ue,Ut)|0,T=T+Math.imul(j,tt)|0,b=b+Math.imul(j,Lt)|0,b=b+Math.imul(Z,tt)|0,x=x+Math.imul(Z,Lt)|0,T=T+Math.imul(ee,rt)|0,b=b+Math.imul(ee,qt)|0,b=b+Math.imul(ae,rt)|0,x=x+Math.imul(ae,qt)|0,T=T+Math.imul(L,nt)|0,b=b+Math.imul(L,$t)|0,b=b+Math.imul(V,nt)|0,x=x+Math.imul(V,$t)|0;var Ku=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,T=Math.imul(z,pe),b=Math.imul(z,ve),b=b+Math.imul(J,pe)|0,x=Math.imul(J,ve),T=T+Math.imul(K,Se)|0,b=b+Math.imul(K,ze)|0,b=b+Math.imul(X,Se)|0,x=x+Math.imul(X,ze)|0,T=T+Math.imul(Ae,Xe)|0,b=b+Math.imul(Ae,wt)|0,b=b+Math.imul(we,Xe)|0,x=x+Math.imul(we,wt)|0,T=T+Math.imul(ke,Qe)|0,b=b+Math.imul(ke,Dt)|0,b=b+Math.imul(De,Qe)|0,x=x+Math.imul(De,Dt)|0,T=T+Math.imul(xe,et)|0,b=b+Math.imul(xe,Ut)|0,b=b+Math.imul(Pe,et)|0,x=x+Math.imul(Pe,Ut)|0,T=T+Math.imul(ne,tt)|0,b=b+Math.imul(ne,Lt)|0,b=b+Math.imul(ue,tt)|0,x=x+Math.imul(ue,Lt)|0,T=T+Math.imul(j,rt)|0,b=b+Math.imul(j,qt)|0,b=b+Math.imul(Z,rt)|0,x=x+Math.imul(Z,qt)|0,T=T+Math.imul(ee,nt)|0,b=b+Math.imul(ee,$t)|0,b=b+Math.imul(ae,nt)|0,x=x+Math.imul(ae,$t)|0,T=T+Math.imul(L,it)|0,b=b+Math.imul(L,jt)|0,b=b+Math.imul(V,it)|0,x=x+Math.imul(V,jt)|0;var Vu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,T=Math.imul(re,pe),b=Math.imul(re,ve),b=b+Math.imul(ce,pe)|0,x=Math.imul(ce,ve),T=T+Math.imul(z,Se)|0,b=b+Math.imul(z,ze)|0,b=b+Math.imul(J,Se)|0,x=x+Math.imul(J,ze)|0,T=T+Math.imul(K,Xe)|0,b=b+Math.imul(K,wt)|0,b=b+Math.imul(X,Xe)|0,x=x+Math.imul(X,wt)|0,T=T+Math.imul(Ae,Qe)|0,b=b+Math.imul(Ae,Dt)|0,b=b+Math.imul(we,Qe)|0,x=x+Math.imul(we,Dt)|0,T=T+Math.imul(ke,et)|0,b=b+Math.imul(ke,Ut)|0,b=b+Math.imul(De,et)|0,x=x+Math.imul(De,Ut)|0,T=T+Math.imul(xe,tt)|0,b=b+Math.imul(xe,Lt)|0,b=b+Math.imul(Pe,tt)|0,x=x+Math.imul(Pe,Lt)|0,T=T+Math.imul(ne,rt)|0,b=b+Math.imul(ne,qt)|0,b=b+Math.imul(ue,rt)|0,x=x+Math.imul(ue,qt)|0,T=T+Math.imul(j,nt)|0,b=b+Math.imul(j,$t)|0,b=b+Math.imul(Z,nt)|0,x=x+Math.imul(Z,$t)|0,T=T+Math.imul(ee,it)|0,b=b+Math.imul(ee,jt)|0,b=b+Math.imul(ae,it)|0,x=x+Math.imul(ae,jt)|0,T=T+Math.imul(L,st)|0,b=b+Math.imul(L,Kt)|0,b=b+Math.imul(V,st)|0,x=x+Math.imul(V,Kt)|0;var Gu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,T=Math.imul(re,Se),b=Math.imul(re,ze),b=b+Math.imul(ce,Se)|0,x=Math.imul(ce,ze),T=T+Math.imul(z,Xe)|0,b=b+Math.imul(z,wt)|0,b=b+Math.imul(J,Xe)|0,x=x+Math.imul(J,wt)|0,T=T+Math.imul(K,Qe)|0,b=b+Math.imul(K,Dt)|0,b=b+Math.imul(X,Qe)|0,x=x+Math.imul(X,Dt)|0,T=T+Math.imul(Ae,et)|0,b=b+Math.imul(Ae,Ut)|0,b=b+Math.imul(we,et)|0,x=x+Math.imul(we,Ut)|0,T=T+Math.imul(ke,tt)|0,b=b+Math.imul(ke,Lt)|0,b=b+Math.imul(De,tt)|0,x=x+Math.imul(De,Lt)|0,T=T+Math.imul(xe,rt)|0,b=b+Math.imul(xe,qt)|0,b=b+Math.imul(Pe,rt)|0,x=x+Math.imul(Pe,qt)|0,T=T+Math.imul(ne,nt)|0,b=b+Math.imul(ne,$t)|0,b=b+Math.imul(ue,nt)|0,x=x+Math.imul(ue,$t)|0,T=T+Math.imul(j,it)|0,b=b+Math.imul(j,jt)|0,b=b+Math.imul(Z,it)|0,x=x+Math.imul(Z,jt)|0,T=T+Math.imul(ee,st)|0,b=b+Math.imul(ee,Kt)|0,b=b+Math.imul(ae,st)|0,x=x+Math.imul(ae,Kt)|0;var zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zu>>>26)|0,zu&=67108863,T=Math.imul(re,Xe),b=Math.imul(re,wt),b=b+Math.imul(ce,Xe)|0,x=Math.imul(ce,wt),T=T+Math.imul(z,Qe)|0,b=b+Math.imul(z,Dt)|0,b=b+Math.imul(J,Qe)|0,x=x+Math.imul(J,Dt)|0,T=T+Math.imul(K,et)|0,b=b+Math.imul(K,Ut)|0,b=b+Math.imul(X,et)|0,x=x+Math.imul(X,Ut)|0,T=T+Math.imul(Ae,tt)|0,b=b+Math.imul(Ae,Lt)|0,b=b+Math.imul(we,tt)|0,x=x+Math.imul(we,Lt)|0,T=T+Math.imul(ke,rt)|0,b=b+Math.imul(ke,qt)|0,b=b+Math.imul(De,rt)|0,x=x+Math.imul(De,qt)|0,T=T+Math.imul(xe,nt)|0,b=b+Math.imul(xe,$t)|0,b=b+Math.imul(Pe,nt)|0,x=x+Math.imul(Pe,$t)|0,T=T+Math.imul(ne,it)|0,b=b+Math.imul(ne,jt)|0,b=b+Math.imul(ue,it)|0,x=x+Math.imul(ue,jt)|0,T=T+Math.imul(j,st)|0,b=b+Math.imul(j,Kt)|0,b=b+Math.imul(Z,st)|0,x=x+Math.imul(Z,Kt)|0;var Wu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,T=Math.imul(re,Qe),b=Math.imul(re,Dt),b=b+Math.imul(ce,Qe)|0,x=Math.imul(ce,Dt),T=T+Math.imul(z,et)|0,b=b+Math.imul(z,Ut)|0,b=b+Math.imul(J,et)|0,x=x+Math.imul(J,Ut)|0,T=T+Math.imul(K,tt)|0,b=b+Math.imul(K,Lt)|0,b=b+Math.imul(X,tt)|0,x=x+Math.imul(X,Lt)|0,T=T+Math.imul(Ae,rt)|0,b=b+Math.imul(Ae,qt)|0,b=b+Math.imul(we,rt)|0,x=x+Math.imul(we,qt)|0,T=T+Math.imul(ke,nt)|0,b=b+Math.imul(ke,$t)|0,b=b+Math.imul(De,nt)|0,x=x+Math.imul(De,$t)|0,T=T+Math.imul(xe,it)|0,b=b+Math.imul(xe,jt)|0,b=b+Math.imul(Pe,it)|0,x=x+Math.imul(Pe,jt)|0,T=T+Math.imul(ne,st)|0,b=b+Math.imul(ne,Kt)|0,b=b+Math.imul(ue,st)|0,x=x+Math.imul(ue,Kt)|0;var Yu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,T=Math.imul(re,et),b=Math.imul(re,Ut),b=b+Math.imul(ce,et)|0,x=Math.imul(ce,Ut),T=T+Math.imul(z,tt)|0,b=b+Math.imul(z,Lt)|0,b=b+Math.imul(J,tt)|0,x=x+Math.imul(J,Lt)|0,T=T+Math.imul(K,rt)|0,b=b+Math.imul(K,qt)|0,b=b+Math.imul(X,rt)|0,x=x+Math.imul(X,qt)|0,T=T+Math.imul(Ae,nt)|0,b=b+Math.imul(Ae,$t)|0,b=b+Math.imul(we,nt)|0,x=x+Math.imul(we,$t)|0,T=T+Math.imul(ke,it)|0,b=b+Math.imul(ke,jt)|0,b=b+Math.imul(De,it)|0,x=x+Math.imul(De,jt)|0,T=T+Math.imul(xe,st)|0,b=b+Math.imul(xe,Kt)|0,b=b+Math.imul(Pe,st)|0,x=x+Math.imul(Pe,Kt)|0;var Xu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,T=Math.imul(re,tt),b=Math.imul(re,Lt),b=b+Math.imul(ce,tt)|0,x=Math.imul(ce,Lt),T=T+Math.imul(z,rt)|0,b=b+Math.imul(z,qt)|0,b=b+Math.imul(J,rt)|0,x=x+Math.imul(J,qt)|0,T=T+Math.imul(K,nt)|0,b=b+Math.imul(K,$t)|0,b=b+Math.imul(X,nt)|0,x=x+Math.imul(X,$t)|0,T=T+Math.imul(Ae,it)|0,b=b+Math.imul(Ae,jt)|0,b=b+Math.imul(we,it)|0,x=x+Math.imul(we,jt)|0,T=T+Math.imul(ke,st)|0,b=b+Math.imul(ke,Kt)|0,b=b+Math.imul(De,st)|0,x=x+Math.imul(De,Kt)|0;var Zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,T=Math.imul(re,rt),b=Math.imul(re,qt),b=b+Math.imul(ce,rt)|0,x=Math.imul(ce,qt),T=T+Math.imul(z,nt)|0,b=b+Math.imul(z,$t)|0,b=b+Math.imul(J,nt)|0,x=x+Math.imul(J,$t)|0,T=T+Math.imul(K,it)|0,b=b+Math.imul(K,jt)|0,b=b+Math.imul(X,it)|0,x=x+Math.imul(X,jt)|0,T=T+Math.imul(Ae,st)|0,b=b+Math.imul(Ae,Kt)|0,b=b+Math.imul(we,st)|0,x=x+Math.imul(we,Kt)|0;var Ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,T=Math.imul(re,nt),b=Math.imul(re,$t),b=b+Math.imul(ce,nt)|0,x=Math.imul(ce,$t),T=T+Math.imul(z,it)|0,b=b+Math.imul(z,jt)|0,b=b+Math.imul(J,it)|0,x=x+Math.imul(J,jt)|0,T=T+Math.imul(K,st)|0,b=b+Math.imul(K,Kt)|0,b=b+Math.imul(X,st)|0,x=x+Math.imul(X,Kt)|0;var Qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,T=Math.imul(re,it),b=Math.imul(re,jt),b=b+Math.imul(ce,it)|0,x=Math.imul(ce,jt),T=T+Math.imul(z,st)|0,b=b+Math.imul(z,Kt)|0,b=b+Math.imul(J,st)|0,x=x+Math.imul(J,Kt)|0;var ec=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(ec>>>26)|0,ec&=67108863,T=Math.imul(re,st),b=Math.imul(re,Kt),b=b+Math.imul(ce,st)|0,x=Math.imul(ce,Kt);var tc=(R+T|0)+((b&8191)<<13)|0;return R=(x+(b>>>13)|0)+(tc>>>26)|0,tc&=67108863,w[0]=zr,w[1]=Wr,w[2]=Uu,w[3]=Lu,w[4]=qu,w[5]=$u,w[6]=ju,w[7]=Ku,w[8]=Vu,w[9]=Gu,w[10]=zu,w[11]=Wu,w[12]=Yu,w[13]=Xu,w[14]=Zu,w[15]=Ju,w[16]=Qu,w[17]=ec,w[18]=tc,R!==0&&(w[19]=R,g.length++),g};Math.imul||(l=p);function y(C,d,v){v.negative=d.negative^C.negative,v.length=C.length+d.length;for(var g=0,m=0,S=0;S<v.length-1;S++){var w=m;m=0;for(var R=g&67108863,T=Math.min(S,d.length-1),b=Math.max(0,S-C.length+1);b<=T;b++){var x=S-b,P=C.words[x]|0,L=d.words[b]|0,V=P*L,W=V&67108863;w=w+(V/67108864|0)|0,W=W+R|0,R=W&67108863,w=w+(W>>>26)|0,m+=w>>>26,w&=67108863}v.words[S]=R,g=w,w=m}return g!==0?v.words[S]=g:v.length--,v.strip()}function _(C,d,v){var g=new O;return g.mulp(C,d,v)}i.prototype.mulTo=function(d,v){var g,m=this.length+d.length;return this.length===10&&d.length===10?g=l(this,d,v):m<63?g=p(this,d,v):m<1024?g=y(this,d,v):g=_(this,d,v),g};function O(C,d){this.x=C,this.y=d}O.prototype.makeRBT=function(d){for(var v=new Array(d),g=i.prototype._countBits(d)-1,m=0;m<d;m++)v[m]=this.revBin(m,g,d);return v},O.prototype.revBin=function(d,v,g){if(d===0||d===g-1)return d;for(var m=0,S=0;S<v;S++)m|=(d&1)<<v-S-1,d>>=1;return m},O.prototype.permute=function(d,v,g,m,S,w){for(var R=0;R<w;R++)m[R]=v[d[R]],S[R]=g[d[R]]},O.prototype.transform=function(d,v,g,m,S,w){this.permute(w,d,v,g,m,S);for(var R=1;R<S;R<<=1)for(var T=R<<1,b=Math.cos(2*Math.PI/T),x=Math.sin(2*Math.PI/T),P=0;P<S;P+=T)for(var L=b,V=x,W=0;W<R;W++){var ee=g[P+W],ae=m[P+W],se=g[P+W+R],j=m[P+W+R],Z=L*se-V*j;j=L*j+V*se,se=Z,g[P+W]=ee+se,m[P+W]=ae+j,g[P+W+R]=ee-se,m[P+W+R]=ae-j,W!==T&&(Z=b*L-x*V,V=b*V+x*L,L=Z)}},O.prototype.guessLen13b=function(d,v){var g=Math.max(v,d)|1,m=g&1,S=0;for(g=g/2|0;g;g=g>>>1)S++;return 1<<S+1+m},O.prototype.conjugate=function(d,v,g){if(!(g<=1))for(var m=0;m<g/2;m++){var S=d[m];d[m]=d[g-m-1],d[g-m-1]=S,S=v[m],v[m]=-v[g-m-1],v[g-m-1]=-S}},O.prototype.normalize13b=function(d,v){for(var g=0,m=0;m<v/2;m++){var S=Math.round(d[2*m+1]/v)*8192+Math.round(d[2*m]/v)+g;d[m]=S&67108863,S<67108864?g=0:g=S/67108864|0}return d},O.prototype.convert13b=function(d,v,g,m){for(var S=0,w=0;w<v;w++)S=S+(d[w]|0),g[2*w]=S&8191,S=S>>>13,g[2*w+1]=S&8191,S=S>>>13;for(w=2*v;w<m;++w)g[w]=0;r(S===0),r((S&-8192)===0)},O.prototype.stub=function(d){for(var v=new Array(d),g=0;g<d;g++)v[g]=0;return v},O.prototype.mulp=function(d,v,g){var m=2*this.guessLen13b(d.length,v.length),S=this.makeRBT(m),w=this.stub(m),R=new Array(m),T=new Array(m),b=new Array(m),x=new Array(m),P=new Array(m),L=new Array(m),V=g.words;V.length=m,this.convert13b(d.words,d.length,R,m),this.convert13b(v.words,v.length,x,m),this.transform(R,w,T,b,m,S),this.transform(x,w,P,L,m,S);for(var W=0;W<m;W++){var ee=T[W]*P[W]-b[W]*L[W];b[W]=T[W]*L[W]+b[W]*P[W],T[W]=ee}return this.conjugate(T,b,m),this.transform(T,b,V,w,m,S),this.conjugate(V,w,m),this.normalize13b(V,m),g.negative=d.negative^v.negative,g.length=d.length+v.length,g.strip()},i.prototype.mul=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),this.mulTo(d,v)},i.prototype.mulf=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),_(this,d,v)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var v=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*d,S=(m&67108863)+(v&67108863);v>>=26,v+=m/67108864|0,v+=S>>>26,this.words[g]=S&67108863}return v!==0&&(this.words[g]=v,this.length++),this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var v=f(d);if(v.length===0)return new i(1);for(var g=this,m=0;m<v.length&&v[m]===0;m++,g=g.sqr());if(++m<v.length)for(var S=g.sqr();m<v.length;m++,S=S.sqr())v[m]!==0&&(g=g.mul(S));return g},i.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=67108863>>>26-v<<26-v,S;if(v!==0){var w=0;for(S=0;S<this.length;S++){var R=this.words[S]&m,T=(this.words[S]|0)-R<<v;this.words[S]=T|w,w=R>>>26-v}w&&(this.words[S]=w,this.length++)}if(g!==0){for(S=this.length-1;S>=0;S--)this.words[S+g]=this.words[S];for(S=0;S<g;S++)this.words[S]=0;this.length+=g}return this.strip()},i.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,v,g){r(typeof d=="number"&&d>=0);var m;v?m=(v-v%26)/26:m=0;var S=d%26,w=Math.min((d-S)/26,this.length),R=67108863^67108863>>>S<<S,T=g;if(m-=w,m=Math.max(0,m),T){for(var b=0;b<w;b++)T.words[b]=this.words[b];T.length=w}if(w!==0)if(this.length>w)for(this.length-=w,b=0;b<this.length;b++)this.words[b]=this.words[b+w];else this.words[0]=0,this.length=1;var x=0;for(b=this.length-1;b>=0&&(x!==0||b>=m);b--){var P=this.words[b]|0;this.words[b]=x<<26-S|P>>>S,x=P&R}return T&&x!==0&&(T.words[T.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(d,v,g){return r(this.negative===0),this.iushrn(d,v,g)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return!1;var S=this.words[g];return!!(S&m)},i.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(v!==0&&g++,this.length=Math.min(g,this.length),v!==0){var m=67108863^67108863>>>v<<v;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,v,g){var m=d.length+g,S;this._expand(m);var w,R=0;for(S=0;S<d.length;S++){w=(this.words[S+g]|0)+R;var T=(d.words[S]|0)*v;w-=T&67108863,R=(w>>26)-(T/67108864|0),this.words[S+g]=w&67108863}for(;S<this.length-g;S++)w=(this.words[S+g]|0)+R,R=w>>26,this.words[S+g]=w&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,S=0;S<this.length;S++)w=-(this.words[S]|0)+R,R=w>>26,this.words[S]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(d,v){var g=this.length-d.length,m=this.clone(),S=d,w=S.words[S.length-1]|0,R=this._countBits(w);g=26-R,g!==0&&(S=S.ushln(g),m.iushln(g),w=S.words[S.length-1]|0);var T=m.length-S.length,b;if(v!=="mod"){b=new i(null),b.length=T+1,b.words=new Array(b.length);for(var x=0;x<b.length;x++)b.words[x]=0}var P=m.clone()._ishlnsubmul(S,1,T);P.negative===0&&(m=P,b&&(b.words[T]=1));for(var L=T-1;L>=0;L--){var V=(m.words[S.length+L]|0)*67108864+(m.words[S.length+L-1]|0);for(V=Math.min(V/w|0,67108863),m._ishlnsubmul(S,V,L);m.negative!==0;)V--,m.negative=0,m._ishlnsubmul(S,1,L),m.isZero()||(m.negative^=1);b&&(b.words[L]=V)}return b&&b.strip(),m.strip(),v!=="div"&&g!==0&&m.iushrn(g),{div:b||null,mod:m}},i.prototype.divmod=function(d,v,g){if(r(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,S,w;return this.negative!==0&&d.negative===0?(w=this.neg().divmod(d,v),v!=="mod"&&(m=w.div.neg()),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.iadd(d)),{div:m,mod:S}):this.negative===0&&d.negative!==0?(w=this.divmod(d.neg(),v),v!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):(this.negative&d.negative)!==0?(w=this.neg().divmod(d.neg(),v),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.isub(d)),{div:w.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?v==="div"?{div:this.divn(d.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modn(d.words[0]))}:this._wordDiv(d,v)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var v=this.divmod(d);if(v.mod.isZero())return v.div;var g=v.div.negative!==0?v.mod.isub(d):v.mod,m=d.ushrn(1),S=d.andln(1),w=g.cmp(m);return w<0||S===1&&w===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modn=function(d){r(d<=67108863);for(var v=(1<<26)%d,g=0,m=this.length-1;m>=0;m--)g=(v*g+(this.words[m]|0))%d;return g},i.prototype.idivn=function(d){r(d<=67108863);for(var v=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+v*67108864;this.words[g]=m/d|0,v=m%d}return this.strip()},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=new i(0),R=new i(1),T=0;v.isEven()&&g.isEven();)v.iushrn(1),g.iushrn(1),++T;for(var b=g.clone(),x=v.clone();!v.isZero();){for(var P=0,L=1;(v.words[0]&L)===0&&P<26;++P,L<<=1);if(P>0)for(v.iushrn(P);P-- >0;)(m.isOdd()||S.isOdd())&&(m.iadd(b),S.isub(x)),m.iushrn(1),S.iushrn(1);for(var V=0,W=1;(g.words[0]&W)===0&&V<26;++V,W<<=1);if(V>0)for(g.iushrn(V);V-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(b),R.isub(x)),w.iushrn(1),R.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(w),S.isub(R)):(g.isub(v),w.isub(m),R.isub(S))}return{a:w,b:R,gcd:g.iushln(T)}},i.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=g.clone();v.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,T=1;(v.words[0]&T)===0&&R<26;++R,T<<=1);if(R>0)for(v.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);for(var b=0,x=1;(g.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(g.iushrn(b);b-- >0;)S.isOdd()&&S.iadd(w),S.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(S)):(g.isub(v),S.isub(m))}var P;return v.cmpn(1)===0?P=m:P=S,P.cmpn(0)<0&&P.iadd(d),P},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var v=this.clone(),g=d.clone();v.negative=0,g.negative=0;for(var m=0;v.isEven()&&g.isEven();m++)v.iushrn(1),g.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;g.isEven();)g.iushrn(1);var S=v.cmp(g);if(S<0){var w=v;v=g,g=w}else if(S===0||g.cmpn(1)===0)break;v.isub(g)}while(!0);return g.iushln(m)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){r(typeof d=="number");var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var S=m,w=g;S!==0&&w<this.length;w++){var R=this.words[w]|0;R+=S,S=R>>>26,R&=67108863,this.words[w]=R}return S!==0&&(this.words[w]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var v=d<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var g;if(this.length>1)g=1;else{v&&(d=-d),r(d<=67108863,"Number is too big");var m=this.words[0]|0;g=m===d?0:m<d?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var v=this.ucmp(d);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var v=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,S=d.words[g]|0;if(m!==S){m<S?v=-1:m>S&&(v=1);break}}return v},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new H(d)},i.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var F={k256:null,p224:null,p192:null,p25519:null};function B(C,d){this.name=C,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},B.prototype.ireduce=function(d){var v=d,g;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),g=v.bitLength();while(g>this.n);var m=g<this.n?-1:v.ucmp(this.p);return m===0?(v.words[0]=0,v.length=1):m>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},B.prototype.split=function(d,v){d.iushrn(this.n,0,v)},B.prototype.imulK=function(d){return d.imul(this.k)};function E(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(E,B),E.prototype.split=function(d,v){for(var g=4194303,m=Math.min(d.length,9),S=0;S<m;S++)v.words[S]=d.words[S];if(v.length=m,d.length<=9){d.words[0]=0,d.length=1;return}var w=d.words[9];for(v.words[v.length++]=w&g,S=10;S<d.length;S++){var R=d.words[S]|0;d.words[S-10]=(R&g)<<4|w>>>22,w=R}w>>>=22,d.words[S-10]=w,w===0&&d.length>10?d.length-=10:d.length-=9},E.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var v=0,g=0;g<d.length;g++){var m=d.words[g]|0;v+=m*977,d.words[g]=v&67108863,v=m*64+(v/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function I(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(I,B);function U(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(U,B);function N(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(N,B),N.prototype.imulK=function(d){for(var v=0,g=0;g<d.length;g++){var m=(d.words[g]|0)*19+v,S=m&67108863;m>>>=26,d.words[g]=S,v=m}return v!==0&&(d.words[d.length++]=v),d},i._prime=function(d){if(F[d])return F[d];var v;if(d==="k256")v=new E;else if(d==="p224")v=new I;else if(d==="p192")v=new U;else if(d==="p25519")v=new N;else throw new Error("Unknown prime "+d);return F[d]=v,v};function H(C){if(typeof C=="string"){var d=i._prime(C);this.m=d.p,this.prime=d}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}H.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},H.prototype._verify2=function(d,v){r((d.negative|v.negative)===0,"red works only with positives"),r(d.red&&d.red===v.red,"red works only with red numbers")},H.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},H.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},H.prototype.add=function(d,v){this._verify2(d,v);var g=d.add(v);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},H.prototype.iadd=function(d,v){this._verify2(d,v);var g=d.iadd(v);return g.cmp(this.m)>=0&&g.isub(this.m),g},H.prototype.sub=function(d,v){this._verify2(d,v);var g=d.sub(v);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},H.prototype.isub=function(d,v){this._verify2(d,v);var g=d.isub(v);return g.cmpn(0)<0&&g.iadd(this.m),g},H.prototype.shl=function(d,v){return this._verify1(d),this.imod(d.ushln(v))},H.prototype.imul=function(d,v){return this._verify2(d,v),this.imod(d.imul(v))},H.prototype.mul=function(d,v){return this._verify2(d,v),this.imod(d.mul(v))},H.prototype.isqr=function(d){return this.imul(d,d.clone())},H.prototype.sqr=function(d){return this.mul(d,d)},H.prototype.sqrt=function(d){if(d.isZero())return d.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(d,g)}for(var m=this.m.subn(1),S=0;!m.isZero()&&m.andln(1)===0;)S++,m.iushrn(1);r(!m.isZero());var w=new i(1).toRed(this),R=w.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,T).cmp(R)!==0;)b.redIAdd(R);for(var x=this.pow(b,m),P=this.pow(d,m.addn(1).iushrn(1)),L=this.pow(d,m),V=S;L.cmp(w)!==0;){for(var W=L,ee=0;W.cmp(w)!==0;ee++)W=W.redSqr();r(ee<V);var ae=this.pow(x,new i(1).iushln(V-ee-1));P=P.redMul(ae),x=ae.redSqr(),L=L.redMul(x),V=ee}return P},H.prototype.invm=function(d){var v=d._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},H.prototype.pow=function(d,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return d.clone();var g=4,m=new Array(1<<g);m[0]=new i(1).toRed(this),m[1]=d;for(var S=2;S<m.length;S++)m[S]=this.mul(m[S-1],d);var w=m[0],R=0,T=0,b=v.bitLength()%26;for(b===0&&(b=26),S=v.length-1;S>=0;S--){for(var x=v.words[S],P=b-1;P>=0;P--){var L=x>>P&1;if(w!==m[0]&&(w=this.sqr(w)),L===0&&R===0){T=0;continue}R<<=1,R|=L,T++,!(T!==g&&(S!==0||P!==0))&&(w=this.mul(w,m[R]),T=0,R=0)}b=26}return w},H.prototype.convertTo=function(d){var v=d.umod(this.m);return v===d?v.clone():v},H.prototype.convertFrom=function(d){var v=d.clone();return v.red=null,v},i.mont=function(d){return new D(d)};function D(C){H.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,H),D.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},D.prototype.convertFrom=function(d){var v=this.imod(d.mul(this.rinv));return v.red=null,v},D.prototype.imul=function(d,v){if(d.isZero()||v.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.mul=function(d,v){if(d.isZero()||v.isZero())return new i(0)._forceRed(this);var g=d.mul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.invm=function(d){var v=this.imod(d._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof RS>"u"||RS,HH)});var qH=$((Pze,LH)=>{k();M();var rr=ui(),UH=z_(),tl=une(),FS=CH(),vf=rc(),k3=kH(),d6=RH(),C3=FH(),ule=DH(),Sb=globalThis,NS={},xb={},Y=Sb.parcelRequire76f9;Y==null&&(Y=function(t){if(t in NS)return NS[t].exports;if(t in xb){var e=xb[t];delete xb[t];var r={id:t,exports:{}};return NS[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n},Y.register=function(e,r){xb[e]=r},Sb.parcelRequire76f9=Y);var He=Y.register;He("1Q9VF",function(t,e){t.exports=JSON.parse(`{"name":"@scrypt-inc/bsv","version":"1.0.5","description":"A pure and powerful JavaScript Bitcoin SV (BSV) library.","author":"sCrypt.Inc","source":"./index.js","main":"dist/main.js","browser":"dist/browser.js","types":"./index.d.ts","scripts":{"lint":"standard --fix","build":"parcel build --no-cache","dev":"mocha -g 'BIP32' ","test":"standard && mocha","coverage":"nyc --reporter=text npm run test","prepublishOnly":"yarn build","release":"npm publish --access public"},"targets":{"types":false},"keywords":["bitcoin","bsv","scrypt","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"repository":{"type":"git","url":"git+https://github.com/sCrypt-Inc/bsv"},"dependencies":{"aes-js":"^3.1.2","assert":"^2.1.0","bn.js":"=4.11.9","bs58":"=4.0.1","buffer":"^6.0.3","clone-deep":"^4.0.1","elliptic":"^6.6.1","hash.js":"^1.1.7","inherits":"2.0.3","unorm":"1.4.1"},"devDependencies":{"brfs":"2.0.1","chai":"4.2.0","mocha":"^8.4.0","nyc":"^14.1.1","parcel":"latest","sinon":"7.2.3","standard":"12.0.1"},"license":"MIT","standard":{"globals":["afterEach","beforeEach","describe","it"],"ignore":["dist/**","esmTest/**"]}}`)});He("dIoYd",function(t,e){var r=rr.Buffer,n=Y("jBF4k"),i=Y("6gAsx"),s=Y("kBBbb"),o=function(a){for(var u=r.alloc(a.length),c=0;c<a.length;c++)u[c]=a[a.length-1-c];return u};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(a){return i.checkArgument(s.isNumber(a)),new n(a)},n.fromString=function(a,u){return i.checkArgument(s.isString(a)),new n(a,u)},n.fromBuffer=function(a,u){typeof u<"u"&&u.endian==="little"&&(a=o(a));var c=a.toString("hex"),h=new n(c,16);return h},n.fromSM=function(a,u){var c;if(a.length===0)return n.fromBuffer(r.from([0]));var h="big";return u&&(h=u.endian),h==="little"&&(a=o(a)),a[0]&128?(a[0]=a[0]&127,c=n.fromBuffer(a),c.neg().copy(c)):c=n.fromBuffer(a),c},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(a){var u,c;if(a&&a.size){c=this.toString(16,2);var h=c.length/2;u=r.from(c,"hex"),h===a.size||(h>a.size?u=n.trim(u,h):h<a.size&&(u=n.pad(u,h,a.size)))}else c=this.toString(16,2),u=r.from(c,"hex");return typeof a<"u"&&a.endian==="little"&&(u=o(u)),u},n.prototype.toSMBigEndian=function(){var a;return this.cmp(n.Zero)===-1?(a=this.neg().toBuffer(),a[0]&128?a=r.concat([r.from([128]),a]):a[0]=a[0]|128):(a=this.toBuffer(),a[0]&128&&(a=r.concat([r.from([0]),a]))),a.length===1&a[0]===0&&(a=r.from([])),a},n.prototype.toSM=function(a){var u=a?a.endian:"big",c=this.toSMBigEndian();return u==="little"&&(c=o(c)),c},n.fromScriptNumBuffer=function(a,u,c){var h=c||Number.MAX_SAFE_INTEGER;if(i.checkArgument(a.length<=h,new Error("script number overflow")),u&&a.length>0&&(a[a.length-1]&127)===0&&(a.length<=1||(a[a.length-2]&128)===0))throw new Error("non-minimally encoded script number");return n.fromSM(a,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(a,u){return a.slice(u-a.length,a.length)},n.pad=function(a,u,c){for(var h=r.alloc(c),f=0;f<a.length;f++)h[h.length-1-f]=a[a.length-1-f];for(f=0;f<c-u;f++)h[f]=0;return h},n.prototype.toHex=function(...a){return this.toBuffer(...a).toString("hex")},n.fromHex=function(a,...u){return n.fromBuffer(r.from(a,"hex"),...u)},t.exports=n});He("jBF4k",function(t,e){var r=rr.Buffer;(function(n,i){"use strict";function s(v,g){if(!v)throw new Error(g||"Assertion failed")}function o(v,g){v.super_=g;var m=function(){};m.prototype=g.prototype,v.prototype=new m,v.prototype.constructor=v}function a(v,g,m){if(a.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((g==="le"||g==="be")&&(m=g,g=10),this._init(v||0,g||10,m||"be"))}typeof n=="object"?n.exports=a:i.BN=a,a.BN=a,a.wordSize=26,a.isBN=function(g){return g instanceof a?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===a.wordSize&&Array.isArray(g.words)},a.max=function(g,m){return g.cmp(m)>0?g:m},a.min=function(g,m){return g.cmp(m)<0?g:m},a.prototype._init=function(g,m,S){if(typeof g=="number")return this._initNumber(g,m,S);if(typeof g=="object")return this._initArray(g,m,S);m==="hex"&&(m=16),s(m===(m|0)&&m>=2&&m<=36),g=g.toString().replace(/\s+/g,"");var w=0;g[0]==="-"&&w++,m===16?this._parseHex(g,w):this._parseBase(g,m,w),g[0]==="-"&&(this.negative=1),this.strip(),S==="le"&&this._initArray(this.toArray(),m,S)},a.prototype._initNumber=function(g,m,S){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(s(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),m,S)},a.prototype._initArray=function(g,m,S){if(s(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var R,T,b=0;if(S==="be")for(w=g.length-1,R=0;w>=0;w-=3)T=g[w]|g[w-1]<<8|g[w-2]<<16,this.words[R]|=T<<b&67108863,this.words[R+1]=T>>>26-b&67108863,b+=24,b>=26&&(b-=26,R++);else if(S==="le")for(w=0,R=0;w<g.length;w+=3)T=g[w]|g[w+1]<<8|g[w+2]<<16,this.words[R]|=T<<b&67108863,this.words[R+1]=T>>>26-b&67108863,b+=24,b>=26&&(b-=26,R++);return this.strip()};function u(v,g,m){for(var S=0,w=Math.min(v.length,m),R=g;R<w;R++){var T=v.charCodeAt(R)-48;S<<=4,T>=49&&T<=54?S|=T-49+10:T>=17&&T<=22?S|=T-17+10:S|=T&15}return S}a.prototype._parseHex=function(g,m){this.length=Math.ceil((g.length-m)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var w,R,T=0;for(S=g.length-6,w=0;S>=m;S-=6)R=u(g,S,S+6),this.words[w]|=R<<T&67108863,this.words[w+1]|=R>>>26-T&4194303,T+=24,T>=26&&(T-=26,w++);S+6!==m&&(R=u(g,m,S+6),this.words[w]|=R<<T&67108863,this.words[w+1]|=R>>>26-T&4194303),this.strip()};function c(v,g,m,S){for(var w=0,R=Math.min(v.length,m),T=g;T<R;T++){var b=v.charCodeAt(T)-48;w*=S,b>=49?w+=b-49+10:b>=17?w+=b-17+10:w+=b}return w}a.prototype._parseBase=function(g,m,S){this.words=[0],this.length=1;for(var w=0,R=1;R<=67108863;R*=m)w++;w--,R=R/m|0;for(var T=g.length-S,b=T%w,x=Math.min(T,T-b)+S,P=0,L=S;L<x;L+=w)P=c(g,L,L+w,m),this.imuln(R),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(b!==0){var V=1;for(P=c(g,L,g.length,m),L=0;L<b;L++)V*=m;this.imuln(V),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}},a.prototype.copy=function(g){g.words=new Array(this.length);for(var m=0;m<this.length;m++)g.words[m]=this.words[m];g.length=this.length,g.negative=this.negative,g.red=this.red},a.prototype.clone=function(){var g=new a(null);return this.copy(g),g},a.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(g,m){g=g||10,m=m|0||1;var S;if(g===16||g==="hex"){S="";for(var w=0,R=0,T=0;T<this.length;T++){var b=this.words[T],x=((b<<w|R)&16777215).toString(16);R=b>>>24-w&16777215,w+=2,w>=26&&(w-=26,T--),R!==0||T!==this.length-1?S=h[6-x.length]+x+S:S=x+S}for(R!==0&&(S=R.toString(16)+S);S.length%m!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(g===(g|0)&&g>=2&&g<=36){var P=f[g],L=p[g];S="";var V=this.clone();for(V.negative=0;!V.isZero();){var W=V.modn(L).toString(g);V=V.idivn(L),V.isZero()?S=W+S:S=h[P-W.length]+W+S}for(this.isZero()&&(S="0"+S);S.length%m!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(g,m){return s(typeof r<"u"),this.toArrayLike(r,g,m)},a.prototype.toArray=function(g,m){return this.toArrayLike(Array,g,m)},a.prototype.toArrayLike=function(g,m,S){var w=this.byteLength(),R=S||Math.max(1,w);s(w<=R,"byte array longer than desired length"),s(R>0,"Requested array length <= 0"),this.strip();var T=m==="le",b=new g(R),x,P,L=this.clone();if(T){for(P=0;!L.isZero();P++)x=L.andln(255),L.iushrn(8),b[P]=x;for(;P<R;P++)b[P]=0}else{for(P=0;P<R-w;P++)b[P]=0;for(P=0;!L.isZero();P++)x=L.andln(255),L.iushrn(8),b[R-P-1]=x}return b},Math.clz32?a.prototype._countBits=function(g){return 32-Math.clz32(g)}:a.prototype._countBits=function(g){var m=g,S=0;return m>=4096&&(S+=13,m>>>=13),m>=64&&(S+=7,m>>>=7),m>=8&&(S+=4,m>>>=4),m>=2&&(S+=2,m>>>=2),S+m},a.prototype._zeroBits=function(g){if(g===0)return 26;var m=g,S=0;return(m&8191)===0&&(S+=13,m>>>=13),(m&127)===0&&(S+=7,m>>>=7),(m&15)===0&&(S+=4,m>>>=4),(m&3)===0&&(S+=2,m>>>=2),(m&1)===0&&S++,S},a.prototype.bitLength=function(){var g=this.words[this.length-1],m=this._countBits(g);return(this.length-1)*26+m};function l(v){for(var g=new Array(v.bitLength()),m=0;m<g.length;m++){var S=m/26|0,w=m%26;g[m]=(v.words[S]&1<<w)>>>w}return g}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,m=0;m<this.length;m++){var S=this._zeroBits(this.words[m]);if(g+=S,S!==26)break}return g},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},a.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var m=0;m<g.length;m++)this.words[m]=this.words[m]|g.words[m];return this.strip()},a.prototype.ior=function(g){return s((this.negative|g.negative)===0),this.iuor(g)},a.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},a.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},a.prototype.iuand=function(g){var m;this.length>g.length?m=g:m=this;for(var S=0;S<m.length;S++)this.words[S]=this.words[S]&g.words[S];return this.length=m.length,this.strip()},a.prototype.iand=function(g){return s((this.negative|g.negative)===0),this.iuand(g)},a.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},a.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},a.prototype.iuxor=function(g){var m,S;this.length>g.length?(m=this,S=g):(m=g,S=this);for(var w=0;w<S.length;w++)this.words[w]=m.words[w]^S.words[w];if(this!==m)for(;w<m.length;w++)this.words[w]=m.words[w];return this.length=m.length,this.strip()},a.prototype.ixor=function(g){return s((this.negative|g.negative)===0),this.iuxor(g)},a.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},a.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},a.prototype.inotn=function(g){s(typeof g=="number"&&g>=0);var m=Math.ceil(g/26)|0,S=g%26;this._expand(m),S>0&&m--;for(var w=0;w<m;w++)this.words[w]=~this.words[w]&67108863;return S>0&&(this.words[w]=~this.words[w]&67108863>>26-S),this.strip()},a.prototype.notn=function(g){return this.clone().inotn(g)},a.prototype.setn=function(g,m){s(typeof g=="number"&&g>=0);var S=g/26|0,w=g%26;return this._expand(S+1),m?this.words[S]=this.words[S]|1<<w:this.words[S]=this.words[S]&~(1<<w),this.strip()},a.prototype.iadd=function(g){var m;if(this.negative!==0&&g.negative===0)return this.negative=0,m=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,m=this.isub(g),g.negative=1,m._normSign();var S,w;this.length>g.length?(S=this,w=g):(S=g,w=this);for(var R=0,T=0;T<w.length;T++)m=(S.words[T]|0)+(w.words[T]|0)+R,this.words[T]=m&67108863,R=m>>>26;for(;R!==0&&T<S.length;T++)m=(S.words[T]|0)+R,this.words[T]=m&67108863,R=m>>>26;if(this.length=S.length,R!==0)this.words[this.length]=R,this.length++;else if(S!==this)for(;T<S.length;T++)this.words[T]=S.words[T];return this},a.prototype.add=function(g){var m;return g.negative!==0&&this.negative===0?(g.negative=0,m=this.sub(g),g.negative^=1,m):g.negative===0&&this.negative!==0?(this.negative=0,m=g.sub(this),this.negative=1,m):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},a.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var m=this.iadd(g);return g.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var S=this.cmp(g);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,R;S>0?(w=this,R=g):(w=g,R=this);for(var T=0,b=0;b<R.length;b++)m=(w.words[b]|0)-(R.words[b]|0)+T,T=m>>26,this.words[b]=m&67108863;for(;T!==0&&b<w.length;b++)m=(w.words[b]|0)+T,T=m>>26,this.words[b]=m&67108863;if(T===0&&b<w.length&&w!==this)for(;b<w.length;b++)this.words[b]=w.words[b];return this.length=Math.max(this.length,b),w!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(g){return this.clone().isub(g)};function y(v,g,m){m.negative=g.negative^v.negative;var S=v.length+g.length|0;m.length=S,S=S-1|0;var w=v.words[0]|0,R=g.words[0]|0,T=w*R,b=T&67108863,x=T/67108864|0;m.words[0]=b;for(var P=1;P<S;P++){for(var L=x>>>26,V=x&67108863,W=Math.min(P,g.length-1),ee=Math.max(0,P-v.length+1);ee<=W;ee++){var ae=P-ee|0;w=v.words[ae]|0,R=g.words[ee]|0,T=w*R+V,L+=T/67108864|0,V=T&67108863}m.words[P]=V|0,x=L|0}return x!==0?m.words[P]=x|0:m.length--,m.strip()}var _=function(g,m,S){var w=g.words,R=m.words,T=S.words,b=0,x,P,L,V=w[0]|0,W=V&8191,ee=V>>>13,ae=w[1]|0,se=ae&8191,j=ae>>>13,Z=w[2]|0,Q=Z&8191,ne=Z>>>13,ue=w[3]|0,ge=ue&8191,xe=ue>>>13,Pe=w[4]|0,Le=Pe&8191,ke=Pe>>>13,De=w[5]|0,Je=De&8191,Ae=De>>>13,we=w[6]|0,mt=we&8191,K=we>>>13,X=w[7]|0,G=X&8191,z=X>>>13,J=w[8]|0,te=J&8191,re=J>>>13,ce=w[9]|0,oe=ce&8191,pe=ce>>>13,ve=R[0]|0,Oe=ve&8191,Se=ve>>>13,ze=R[1]|0,Ht=ze&8191,Xe=ze>>>13,wt=R[2]|0,rn=wt&8191,Qe=wt>>>13,Dt=R[3]|0,nn=Dt&8191,et=Dt>>>13,Ut=R[4]|0,sn=Ut&8191,tt=Ut>>>13,Lt=R[5]|0,on=Lt&8191,rt=Lt>>>13,qt=R[6]|0,an=qt&8191,nt=qt>>>13,$t=R[7]|0,un=$t&8191,it=$t>>>13,jt=R[8]|0,cn=jt&8191,st=jt>>>13,Kt=R[9]|0,zr=Kt&8191,Wr=Kt>>>13;S.negative=g.negative^m.negative,S.length=19,x=Math.imul(W,Oe),P=Math.imul(W,Se),P=P+Math.imul(ee,Oe)|0,L=Math.imul(ee,Se);var Uu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,x=Math.imul(se,Oe),P=Math.imul(se,Se),P=P+Math.imul(j,Oe)|0,L=Math.imul(j,Se),x=x+Math.imul(W,Ht)|0,P=P+Math.imul(W,Xe)|0,P=P+Math.imul(ee,Ht)|0,L=L+Math.imul(ee,Xe)|0;var Lu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,x=Math.imul(Q,Oe),P=Math.imul(Q,Se),P=P+Math.imul(ne,Oe)|0,L=Math.imul(ne,Se),x=x+Math.imul(se,Ht)|0,P=P+Math.imul(se,Xe)|0,P=P+Math.imul(j,Ht)|0,L=L+Math.imul(j,Xe)|0,x=x+Math.imul(W,rn)|0,P=P+Math.imul(W,Qe)|0,P=P+Math.imul(ee,rn)|0,L=L+Math.imul(ee,Qe)|0;var qu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(qu>>>26)|0,qu&=67108863,x=Math.imul(ge,Oe),P=Math.imul(ge,Se),P=P+Math.imul(xe,Oe)|0,L=Math.imul(xe,Se),x=x+Math.imul(Q,Ht)|0,P=P+Math.imul(Q,Xe)|0,P=P+Math.imul(ne,Ht)|0,L=L+Math.imul(ne,Xe)|0,x=x+Math.imul(se,rn)|0,P=P+Math.imul(se,Qe)|0,P=P+Math.imul(j,rn)|0,L=L+Math.imul(j,Qe)|0,x=x+Math.imul(W,nn)|0,P=P+Math.imul(W,et)|0,P=P+Math.imul(ee,nn)|0,L=L+Math.imul(ee,et)|0;var $u=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+($u>>>26)|0,$u&=67108863,x=Math.imul(Le,Oe),P=Math.imul(Le,Se),P=P+Math.imul(ke,Oe)|0,L=Math.imul(ke,Se),x=x+Math.imul(ge,Ht)|0,P=P+Math.imul(ge,Xe)|0,P=P+Math.imul(xe,Ht)|0,L=L+Math.imul(xe,Xe)|0,x=x+Math.imul(Q,rn)|0,P=P+Math.imul(Q,Qe)|0,P=P+Math.imul(ne,rn)|0,L=L+Math.imul(ne,Qe)|0,x=x+Math.imul(se,nn)|0,P=P+Math.imul(se,et)|0,P=P+Math.imul(j,nn)|0,L=L+Math.imul(j,et)|0,x=x+Math.imul(W,sn)|0,P=P+Math.imul(W,tt)|0,P=P+Math.imul(ee,sn)|0,L=L+Math.imul(ee,tt)|0;var ju=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(ju>>>26)|0,ju&=67108863,x=Math.imul(Je,Oe),P=Math.imul(Je,Se),P=P+Math.imul(Ae,Oe)|0,L=Math.imul(Ae,Se),x=x+Math.imul(Le,Ht)|0,P=P+Math.imul(Le,Xe)|0,P=P+Math.imul(ke,Ht)|0,L=L+Math.imul(ke,Xe)|0,x=x+Math.imul(ge,rn)|0,P=P+Math.imul(ge,Qe)|0,P=P+Math.imul(xe,rn)|0,L=L+Math.imul(xe,Qe)|0,x=x+Math.imul(Q,nn)|0,P=P+Math.imul(Q,et)|0,P=P+Math.imul(ne,nn)|0,L=L+Math.imul(ne,et)|0,x=x+Math.imul(se,sn)|0,P=P+Math.imul(se,tt)|0,P=P+Math.imul(j,sn)|0,L=L+Math.imul(j,tt)|0,x=x+Math.imul(W,on)|0,P=P+Math.imul(W,rt)|0,P=P+Math.imul(ee,on)|0,L=L+Math.imul(ee,rt)|0;var Ku=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,x=Math.imul(mt,Oe),P=Math.imul(mt,Se),P=P+Math.imul(K,Oe)|0,L=Math.imul(K,Se),x=x+Math.imul(Je,Ht)|0,P=P+Math.imul(Je,Xe)|0,P=P+Math.imul(Ae,Ht)|0,L=L+Math.imul(Ae,Xe)|0,x=x+Math.imul(Le,rn)|0,P=P+Math.imul(Le,Qe)|0,P=P+Math.imul(ke,rn)|0,L=L+Math.imul(ke,Qe)|0,x=x+Math.imul(ge,nn)|0,P=P+Math.imul(ge,et)|0,P=P+Math.imul(xe,nn)|0,L=L+Math.imul(xe,et)|0,x=x+Math.imul(Q,sn)|0,P=P+Math.imul(Q,tt)|0,P=P+Math.imul(ne,sn)|0,L=L+Math.imul(ne,tt)|0,x=x+Math.imul(se,on)|0,P=P+Math.imul(se,rt)|0,P=P+Math.imul(j,on)|0,L=L+Math.imul(j,rt)|0,x=x+Math.imul(W,an)|0,P=P+Math.imul(W,nt)|0,P=P+Math.imul(ee,an)|0,L=L+Math.imul(ee,nt)|0;var Vu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,x=Math.imul(G,Oe),P=Math.imul(G,Se),P=P+Math.imul(z,Oe)|0,L=Math.imul(z,Se),x=x+Math.imul(mt,Ht)|0,P=P+Math.imul(mt,Xe)|0,P=P+Math.imul(K,Ht)|0,L=L+Math.imul(K,Xe)|0,x=x+Math.imul(Je,rn)|0,P=P+Math.imul(Je,Qe)|0,P=P+Math.imul(Ae,rn)|0,L=L+Math.imul(Ae,Qe)|0,x=x+Math.imul(Le,nn)|0,P=P+Math.imul(Le,et)|0,P=P+Math.imul(ke,nn)|0,L=L+Math.imul(ke,et)|0,x=x+Math.imul(ge,sn)|0,P=P+Math.imul(ge,tt)|0,P=P+Math.imul(xe,sn)|0,L=L+Math.imul(xe,tt)|0,x=x+Math.imul(Q,on)|0,P=P+Math.imul(Q,rt)|0,P=P+Math.imul(ne,on)|0,L=L+Math.imul(ne,rt)|0,x=x+Math.imul(se,an)|0,P=P+Math.imul(se,nt)|0,P=P+Math.imul(j,an)|0,L=L+Math.imul(j,nt)|0,x=x+Math.imul(W,un)|0,P=P+Math.imul(W,it)|0,P=P+Math.imul(ee,un)|0,L=L+Math.imul(ee,it)|0;var Gu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,x=Math.imul(te,Oe),P=Math.imul(te,Se),P=P+Math.imul(re,Oe)|0,L=Math.imul(re,Se),x=x+Math.imul(G,Ht)|0,P=P+Math.imul(G,Xe)|0,P=P+Math.imul(z,Ht)|0,L=L+Math.imul(z,Xe)|0,x=x+Math.imul(mt,rn)|0,P=P+Math.imul(mt,Qe)|0,P=P+Math.imul(K,rn)|0,L=L+Math.imul(K,Qe)|0,x=x+Math.imul(Je,nn)|0,P=P+Math.imul(Je,et)|0,P=P+Math.imul(Ae,nn)|0,L=L+Math.imul(Ae,et)|0,x=x+Math.imul(Le,sn)|0,P=P+Math.imul(Le,tt)|0,P=P+Math.imul(ke,sn)|0,L=L+Math.imul(ke,tt)|0,x=x+Math.imul(ge,on)|0,P=P+Math.imul(ge,rt)|0,P=P+Math.imul(xe,on)|0,L=L+Math.imul(xe,rt)|0,x=x+Math.imul(Q,an)|0,P=P+Math.imul(Q,nt)|0,P=P+Math.imul(ne,an)|0,L=L+Math.imul(ne,nt)|0,x=x+Math.imul(se,un)|0,P=P+Math.imul(se,it)|0,P=P+Math.imul(j,un)|0,L=L+Math.imul(j,it)|0,x=x+Math.imul(W,cn)|0,P=P+Math.imul(W,st)|0,P=P+Math.imul(ee,cn)|0,L=L+Math.imul(ee,st)|0;var zu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(zu>>>26)|0,zu&=67108863,x=Math.imul(oe,Oe),P=Math.imul(oe,Se),P=P+Math.imul(pe,Oe)|0,L=Math.imul(pe,Se),x=x+Math.imul(te,Ht)|0,P=P+Math.imul(te,Xe)|0,P=P+Math.imul(re,Ht)|0,L=L+Math.imul(re,Xe)|0,x=x+Math.imul(G,rn)|0,P=P+Math.imul(G,Qe)|0,P=P+Math.imul(z,rn)|0,L=L+Math.imul(z,Qe)|0,x=x+Math.imul(mt,nn)|0,P=P+Math.imul(mt,et)|0,P=P+Math.imul(K,nn)|0,L=L+Math.imul(K,et)|0,x=x+Math.imul(Je,sn)|0,P=P+Math.imul(Je,tt)|0,P=P+Math.imul(Ae,sn)|0,L=L+Math.imul(Ae,tt)|0,x=x+Math.imul(Le,on)|0,P=P+Math.imul(Le,rt)|0,P=P+Math.imul(ke,on)|0,L=L+Math.imul(ke,rt)|0,x=x+Math.imul(ge,an)|0,P=P+Math.imul(ge,nt)|0,P=P+Math.imul(xe,an)|0,L=L+Math.imul(xe,nt)|0,x=x+Math.imul(Q,un)|0,P=P+Math.imul(Q,it)|0,P=P+Math.imul(ne,un)|0,L=L+Math.imul(ne,it)|0,x=x+Math.imul(se,cn)|0,P=P+Math.imul(se,st)|0,P=P+Math.imul(j,cn)|0,L=L+Math.imul(j,st)|0,x=x+Math.imul(W,zr)|0,P=P+Math.imul(W,Wr)|0,P=P+Math.imul(ee,zr)|0,L=L+Math.imul(ee,Wr)|0;var Wu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,x=Math.imul(oe,Ht),P=Math.imul(oe,Xe),P=P+Math.imul(pe,Ht)|0,L=Math.imul(pe,Xe),x=x+Math.imul(te,rn)|0,P=P+Math.imul(te,Qe)|0,P=P+Math.imul(re,rn)|0,L=L+Math.imul(re,Qe)|0,x=x+Math.imul(G,nn)|0,P=P+Math.imul(G,et)|0,P=P+Math.imul(z,nn)|0,L=L+Math.imul(z,et)|0,x=x+Math.imul(mt,sn)|0,P=P+Math.imul(mt,tt)|0,P=P+Math.imul(K,sn)|0,L=L+Math.imul(K,tt)|0,x=x+Math.imul(Je,on)|0,P=P+Math.imul(Je,rt)|0,P=P+Math.imul(Ae,on)|0,L=L+Math.imul(Ae,rt)|0,x=x+Math.imul(Le,an)|0,P=P+Math.imul(Le,nt)|0,P=P+Math.imul(ke,an)|0,L=L+Math.imul(ke,nt)|0,x=x+Math.imul(ge,un)|0,P=P+Math.imul(ge,it)|0,P=P+Math.imul(xe,un)|0,L=L+Math.imul(xe,it)|0,x=x+Math.imul(Q,cn)|0,P=P+Math.imul(Q,st)|0,P=P+Math.imul(ne,cn)|0,L=L+Math.imul(ne,st)|0,x=x+Math.imul(se,zr)|0,P=P+Math.imul(se,Wr)|0,P=P+Math.imul(j,zr)|0,L=L+Math.imul(j,Wr)|0;var Yu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,x=Math.imul(oe,rn),P=Math.imul(oe,Qe),P=P+Math.imul(pe,rn)|0,L=Math.imul(pe,Qe),x=x+Math.imul(te,nn)|0,P=P+Math.imul(te,et)|0,P=P+Math.imul(re,nn)|0,L=L+Math.imul(re,et)|0,x=x+Math.imul(G,sn)|0,P=P+Math.imul(G,tt)|0,P=P+Math.imul(z,sn)|0,L=L+Math.imul(z,tt)|0,x=x+Math.imul(mt,on)|0,P=P+Math.imul(mt,rt)|0,P=P+Math.imul(K,on)|0,L=L+Math.imul(K,rt)|0,x=x+Math.imul(Je,an)|0,P=P+Math.imul(Je,nt)|0,P=P+Math.imul(Ae,an)|0,L=L+Math.imul(Ae,nt)|0,x=x+Math.imul(Le,un)|0,P=P+Math.imul(Le,it)|0,P=P+Math.imul(ke,un)|0,L=L+Math.imul(ke,it)|0,x=x+Math.imul(ge,cn)|0,P=P+Math.imul(ge,st)|0,P=P+Math.imul(xe,cn)|0,L=L+Math.imul(xe,st)|0,x=x+Math.imul(Q,zr)|0,P=P+Math.imul(Q,Wr)|0,P=P+Math.imul(ne,zr)|0,L=L+Math.imul(ne,Wr)|0;var Xu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,x=Math.imul(oe,nn),P=Math.imul(oe,et),P=P+Math.imul(pe,nn)|0,L=Math.imul(pe,et),x=x+Math.imul(te,sn)|0,P=P+Math.imul(te,tt)|0,P=P+Math.imul(re,sn)|0,L=L+Math.imul(re,tt)|0,x=x+Math.imul(G,on)|0,P=P+Math.imul(G,rt)|0,P=P+Math.imul(z,on)|0,L=L+Math.imul(z,rt)|0,x=x+Math.imul(mt,an)|0,P=P+Math.imul(mt,nt)|0,P=P+Math.imul(K,an)|0,L=L+Math.imul(K,nt)|0,x=x+Math.imul(Je,un)|0,P=P+Math.imul(Je,it)|0,P=P+Math.imul(Ae,un)|0,L=L+Math.imul(Ae,it)|0,x=x+Math.imul(Le,cn)|0,P=P+Math.imul(Le,st)|0,P=P+Math.imul(ke,cn)|0,L=L+Math.imul(ke,st)|0,x=x+Math.imul(ge,zr)|0,P=P+Math.imul(ge,Wr)|0,P=P+Math.imul(xe,zr)|0,L=L+Math.imul(xe,Wr)|0;var Zu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,x=Math.imul(oe,sn),P=Math.imul(oe,tt),P=P+Math.imul(pe,sn)|0,L=Math.imul(pe,tt),x=x+Math.imul(te,on)|0,P=P+Math.imul(te,rt)|0,P=P+Math.imul(re,on)|0,L=L+Math.imul(re,rt)|0,x=x+Math.imul(G,an)|0,P=P+Math.imul(G,nt)|0,P=P+Math.imul(z,an)|0,L=L+Math.imul(z,nt)|0,x=x+Math.imul(mt,un)|0,P=P+Math.imul(mt,it)|0,P=P+Math.imul(K,un)|0,L=L+Math.imul(K,it)|0,x=x+Math.imul(Je,cn)|0,P=P+Math.imul(Je,st)|0,P=P+Math.imul(Ae,cn)|0,L=L+Math.imul(Ae,st)|0,x=x+Math.imul(Le,zr)|0,P=P+Math.imul(Le,Wr)|0,P=P+Math.imul(ke,zr)|0,L=L+Math.imul(ke,Wr)|0;var Ju=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,x=Math.imul(oe,on),P=Math.imul(oe,rt),P=P+Math.imul(pe,on)|0,L=Math.imul(pe,rt),x=x+Math.imul(te,an)|0,P=P+Math.imul(te,nt)|0,P=P+Math.imul(re,an)|0,L=L+Math.imul(re,nt)|0,x=x+Math.imul(G,un)|0,P=P+Math.imul(G,it)|0,P=P+Math.imul(z,un)|0,L=L+Math.imul(z,it)|0,x=x+Math.imul(mt,cn)|0,P=P+Math.imul(mt,st)|0,P=P+Math.imul(K,cn)|0,L=L+Math.imul(K,st)|0,x=x+Math.imul(Je,zr)|0,P=P+Math.imul(Je,Wr)|0,P=P+Math.imul(Ae,zr)|0,L=L+Math.imul(Ae,Wr)|0;var Qu=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,x=Math.imul(oe,an),P=Math.imul(oe,nt),P=P+Math.imul(pe,an)|0,L=Math.imul(pe,nt),x=x+Math.imul(te,un)|0,P=P+Math.imul(te,it)|0,P=P+Math.imul(re,un)|0,L=L+Math.imul(re,it)|0,x=x+Math.imul(G,cn)|0,P=P+Math.imul(G,st)|0,P=P+Math.imul(z,cn)|0,L=L+Math.imul(z,st)|0,x=x+Math.imul(mt,zr)|0,P=P+Math.imul(mt,Wr)|0,P=P+Math.imul(K,zr)|0,L=L+Math.imul(K,Wr)|0;var ec=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(ec>>>26)|0,ec&=67108863,x=Math.imul(oe,un),P=Math.imul(oe,it),P=P+Math.imul(pe,un)|0,L=Math.imul(pe,it),x=x+Math.imul(te,cn)|0,P=P+Math.imul(te,st)|0,P=P+Math.imul(re,cn)|0,L=L+Math.imul(re,st)|0,x=x+Math.imul(G,zr)|0,P=P+Math.imul(G,Wr)|0,P=P+Math.imul(z,zr)|0,L=L+Math.imul(z,Wr)|0;var tc=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(tc>>>26)|0,tc&=67108863,x=Math.imul(oe,cn),P=Math.imul(oe,st),P=P+Math.imul(pe,cn)|0,L=Math.imul(pe,st),x=x+Math.imul(te,zr)|0,P=P+Math.imul(te,Wr)|0,P=P+Math.imul(re,zr)|0,L=L+Math.imul(re,Wr)|0;var K_=(b+x|0)+((P&8191)<<13)|0;b=(L+(P>>>13)|0)+(K_>>>26)|0,K_&=67108863,x=Math.imul(oe,zr),P=Math.imul(oe,Wr),P=P+Math.imul(pe,zr)|0,L=Math.imul(pe,Wr);var V_=(b+x|0)+((P&8191)<<13)|0;return b=(L+(P>>>13)|0)+(V_>>>26)|0,V_&=67108863,T[0]=Uu,T[1]=Lu,T[2]=qu,T[3]=$u,T[4]=ju,T[5]=Ku,T[6]=Vu,T[7]=Gu,T[8]=zu,T[9]=Wu,T[10]=Yu,T[11]=Xu,T[12]=Zu,T[13]=Ju,T[14]=Qu,T[15]=ec,T[16]=tc,T[17]=K_,T[18]=V_,b!==0&&(T[19]=b,S.length++),S};Math.imul||(_=y);function O(v,g,m){m.negative=g.negative^v.negative,m.length=v.length+g.length;for(var S=0,w=0,R=0;R<m.length-1;R++){var T=w;w=0;for(var b=S&67108863,x=Math.min(R,g.length-1),P=Math.max(0,R-v.length+1);P<=x;P++){var L=R-P,V=v.words[L]|0,W=g.words[P]|0,ee=V*W,ae=ee&67108863;T=T+(ee/67108864|0)|0,ae=ae+b|0,b=ae&67108863,T=T+(ae>>>26)|0,w+=T>>>26,T&=67108863}m.words[R]=b,S=T,T=w}return S!==0?m.words[R]=S:m.length--,m.strip()}function F(v,g,m){var S=new B;return S.mulp(v,g,m)}a.prototype.mulTo=function(g,m){var S,w=this.length+g.length;return this.length===10&&g.length===10?S=_(this,g,m):w<63?S=y(this,g,m):w<1024?S=O(this,g,m):S=F(this,g,m),S};function B(v,g){this.x=v,this.y=g}B.prototype.makeRBT=function(g){for(var m=new Array(g),S=a.prototype._countBits(g)-1,w=0;w<g;w++)m[w]=this.revBin(w,S,g);return m},B.prototype.revBin=function(g,m,S){if(g===0||g===S-1)return g;for(var w=0,R=0;R<m;R++)w|=(g&1)<<m-R-1,g>>=1;return w},B.prototype.permute=function(g,m,S,w,R,T){for(var b=0;b<T;b++)w[b]=m[g[b]],R[b]=S[g[b]]},B.prototype.transform=function(g,m,S,w,R,T){this.permute(T,g,m,S,w,R);for(var b=1;b<R;b<<=1)for(var x=b<<1,P=Math.cos(2*Math.PI/x),L=Math.sin(2*Math.PI/x),V=0;V<R;V+=x)for(var W=P,ee=L,ae=0;ae<b;ae++){var se=S[V+ae],j=w[V+ae],Z=S[V+ae+b],Q=w[V+ae+b],ne=W*Z-ee*Q;Q=W*Q+ee*Z,Z=ne,S[V+ae]=se+Z,w[V+ae]=j+Q,S[V+ae+b]=se-Z,w[V+ae+b]=j-Q,ae!==x&&(ne=P*W-L*ee,ee=P*ee+L*W,W=ne)}},B.prototype.guessLen13b=function(g,m){var S=Math.max(m,g)|1,w=S&1,R=0;for(S=S/2|0;S;S=S>>>1)R++;return 1<<R+1+w},B.prototype.conjugate=function(g,m,S){if(!(S<=1))for(var w=0;w<S/2;w++){var R=g[w];g[w]=g[S-w-1],g[S-w-1]=R,R=m[w],m[w]=-m[S-w-1],m[S-w-1]=-R}},B.prototype.normalize13b=function(g,m){for(var S=0,w=0;w<m/2;w++){var R=Math.round(g[2*w+1]/m)*8192+Math.round(g[2*w]/m)+S;g[w]=R&67108863,R<67108864?S=0:S=R/67108864|0}return g},B.prototype.convert13b=function(g,m,S,w){for(var R=0,T=0;T<m;T++)R=R+(g[T]|0),S[2*T]=R&8191,R=R>>>13,S[2*T+1]=R&8191,R=R>>>13;for(T=2*m;T<w;++T)S[T]=0;s(R===0),s((R&-8192)===0)},B.prototype.stub=function(g){for(var m=new Array(g),S=0;S<g;S++)m[S]=0;return m},B.prototype.mulp=function(g,m,S){var w=2*this.guessLen13b(g.length,m.length),R=this.makeRBT(w),T=this.stub(w),b=new Array(w),x=new Array(w),P=new Array(w),L=new Array(w),V=new Array(w),W=new Array(w),ee=S.words;ee.length=w,this.convert13b(g.words,g.length,b,w),this.convert13b(m.words,m.length,L,w),this.transform(b,T,x,P,w,R),this.transform(L,T,V,W,w,R);for(var ae=0;ae<w;ae++){var se=x[ae]*V[ae]-P[ae]*W[ae];P[ae]=x[ae]*W[ae]+P[ae]*V[ae],x[ae]=se}return this.conjugate(x,P,w),this.transform(x,P,ee,T,w,R),this.conjugate(ee,T,w),this.normalize13b(ee,w),S.negative=g.negative^m.negative,S.length=g.length+m.length,S.strip()},a.prototype.mul=function(g){var m=new a(null);return m.words=new Array(this.length+g.length),this.mulTo(g,m)},a.prototype.mulf=function(g){var m=new a(null);return m.words=new Array(this.length+g.length),F(this,g,m)},a.prototype.imul=function(g){return this.clone().mulTo(g,this)},a.prototype.imuln=function(g){s(typeof g=="number"),s(g<67108864);for(var m=0,S=0;S<this.length;S++){var w=(this.words[S]|0)*g,R=(w&67108863)+(m&67108863);m>>=26,m+=w/67108864|0,m+=R>>>26,this.words[S]=R&67108863}return m!==0&&(this.words[S]=m,this.length++),this},a.prototype.muln=function(g){return this.clone().imuln(g)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(g){var m=l(g);if(m.length===0)return new a(1);for(var S=this,w=0;w<m.length&&m[w]===0;w++,S=S.sqr());if(++w<m.length)for(var R=S.sqr();w<m.length;w++,R=R.sqr())m[w]!==0&&(S=S.mul(R));return S},a.prototype.iushln=function(g){s(typeof g=="number"&&g>=0);var m=g%26,S=(g-m)/26,w=67108863>>>26-m<<26-m,R;if(m!==0){var T=0;for(R=0;R<this.length;R++){var b=this.words[R]&w,x=(this.words[R]|0)-b<<m;this.words[R]=x|T,T=b>>>26-m}T&&(this.words[R]=T,this.length++)}if(S!==0){for(R=this.length-1;R>=0;R--)this.words[R+S]=this.words[R];for(R=0;R<S;R++)this.words[R]=0;this.length+=S}return this.strip()},a.prototype.ishln=function(g){return s(this.negative===0),this.iushln(g)},a.prototype.iushrn=function(g,m,S){s(typeof g=="number"&&g>=0);var w;m?w=(m-m%26)/26:w=0;var R=g%26,T=Math.min((g-R)/26,this.length),b=67108863^67108863>>>R<<R,x=S;if(w-=T,w=Math.max(0,w),x){for(var P=0;P<T;P++)x.words[P]=this.words[P];x.length=T}if(T!==0)if(this.length>T)for(this.length-=T,P=0;P<this.length;P++)this.words[P]=this.words[P+T];else this.words[0]=0,this.length=1;var L=0;for(P=this.length-1;P>=0&&(L!==0||P>=w);P--){var V=this.words[P]|0;this.words[P]=L<<26-R|V>>>R,L=V&b}return x&&L!==0&&(x.words[x.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(g,m,S){return s(this.negative===0),this.iushrn(g,m,S)},a.prototype.shln=function(g){return this.clone().ishln(g)},a.prototype.ushln=function(g){return this.clone().iushln(g)},a.prototype.shrn=function(g){return this.clone().ishrn(g)},a.prototype.ushrn=function(g){return this.clone().iushrn(g)},a.prototype.testn=function(g){s(typeof g=="number"&&g>=0);var m=g%26,S=(g-m)/26,w=1<<m;if(this.length<=S)return!1;var R=this.words[S];return!!(R&w)},a.prototype.imaskn=function(g){s(typeof g=="number"&&g>=0);var m=g%26,S=(g-m)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(m!==0&&S++,this.length=Math.min(S,this.length),m!==0){var w=67108863^67108863>>>m<<m;this.words[this.length-1]&=w}return this.strip()},a.prototype.maskn=function(g){return this.clone().imaskn(g)},a.prototype.iaddn=function(g){return s(typeof g=="number"),s(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},a.prototype._iaddn=function(g){this.words[0]+=g;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},a.prototype.isubn=function(g){if(s(typeof g=="number"),s(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},a.prototype.addn=function(g){return this.clone().iaddn(g)},a.prototype.subn=function(g){return this.clone().isubn(g)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(g,m,S){var w=g.length+S,R;this._expand(w);var T,b=0;for(R=0;R<g.length;R++){T=(this.words[R+S]|0)+b;var x=(g.words[R]|0)*m;T-=x&67108863,b=(T>>26)-(x/67108864|0),this.words[R+S]=T&67108863}for(;R<this.length-S;R++)T=(this.words[R+S]|0)+b,b=T>>26,this.words[R+S]=T&67108863;if(b===0)return this.strip();for(s(b===-1),b=0,R=0;R<this.length;R++)T=-(this.words[R]|0)+b,b=T>>26,this.words[R]=T&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(g,m){var S=this.length-g.length,w=this.clone(),R=g,T=R.words[R.length-1]|0,b=this._countBits(T);S=26-b,S!==0&&(R=R.ushln(S),w.iushln(S),T=R.words[R.length-1]|0);var x=w.length-R.length,P;if(m!=="mod"){P=new a(null),P.length=x+1,P.words=new Array(P.length);for(var L=0;L<P.length;L++)P.words[L]=0}var V=w.clone()._ishlnsubmul(R,1,x);V.negative===0&&(w=V,P&&(P.words[x]=1));for(var W=x-1;W>=0;W--){var ee=(w.words[R.length+W]|0)*67108864+(w.words[R.length+W-1]|0);for(ee=Math.min(ee/T|0,67108863),w._ishlnsubmul(R,ee,W);w.negative!==0;)ee--,w.negative=0,w._ishlnsubmul(R,1,W),w.isZero()||(w.negative^=1);P&&(P.words[W]=ee)}return P&&P.strip(),w.strip(),m!=="div"&&S!==0&&w.iushrn(S),{div:P||null,mod:w}},a.prototype.divmod=function(g,m,S){if(s(!g.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var w,R,T;return this.negative!==0&&g.negative===0?(T=this.neg().divmod(g,m),m!=="mod"&&(w=T.div.neg()),m!=="div"&&(R=T.mod.neg(),S&&R.negative!==0&&R.iadd(g)),{div:w,mod:R}):this.negative===0&&g.negative!==0?(T=this.divmod(g.neg(),m),m!=="mod"&&(w=T.div.neg()),{div:w,mod:T.mod}):(this.negative&g.negative)!==0?(T=this.neg().divmod(g.neg(),m),m!=="div"&&(R=T.mod.neg(),S&&R.negative!==0&&R.isub(g)),{div:T.div,mod:R}):g.length>this.length||this.cmp(g)<0?{div:new a(0),mod:this}:g.length===1?m==="div"?{div:this.divn(g.words[0]),mod:null}:m==="mod"?{div:null,mod:new a(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new a(this.modn(g.words[0]))}:this._wordDiv(g,m)},a.prototype.div=function(g){return this.divmod(g,"div",!1).div},a.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},a.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},a.prototype.divRound=function(g){var m=this.divmod(g);if(m.mod.isZero())return m.div;var S=m.div.negative!==0?m.mod.isub(g):m.mod,w=g.ushrn(1),R=g.andln(1),T=S.cmp(w);return T<0||R===1&&T===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},a.prototype.modn=function(g){s(g<=67108863);for(var m=67108864%g,S=0,w=this.length-1;w>=0;w--)S=(m*S+(this.words[w]|0))%g;return S},a.prototype.idivn=function(g){s(g<=67108863);for(var m=0,S=this.length-1;S>=0;S--){var w=(this.words[S]|0)+m*67108864;this.words[S]=w/g|0,m=w%g}return this.strip()},a.prototype.divn=function(g){return this.clone().idivn(g)},a.prototype.egcd=function(g){s(g.negative===0),s(!g.isZero());var m=this,S=g.clone();m.negative!==0?m=m.umod(g):m=m.clone();for(var w=new a(1),R=new a(0),T=new a(0),b=new a(1),x=0;m.isEven()&&S.isEven();)m.iushrn(1),S.iushrn(1),++x;for(var P=S.clone(),L=m.clone();!m.isZero();){for(var V=0,W=1;(m.words[0]&W)===0&&V<26;++V,W<<=1);if(V>0)for(m.iushrn(V);V-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(P),R.isub(L)),w.iushrn(1),R.iushrn(1);for(var ee=0,ae=1;(S.words[0]&ae)===0&&ee<26;++ee,ae<<=1);if(ee>0)for(S.iushrn(ee);ee-- >0;)(T.isOdd()||b.isOdd())&&(T.iadd(P),b.isub(L)),T.iushrn(1),b.iushrn(1);m.cmp(S)>=0?(m.isub(S),w.isub(T),R.isub(b)):(S.isub(m),T.isub(w),b.isub(R))}return{a:T,b,gcd:S.iushln(x)}},a.prototype._invmp=function(g){s(g.negative===0),s(!g.isZero());var m=this,S=g.clone();m.negative!==0?m=m.umod(g):m=m.clone();for(var w=new a(1),R=new a(0),T=S.clone();m.cmpn(1)>0&&S.cmpn(1)>0;){for(var b=0,x=1;(m.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(m.iushrn(b);b-- >0;)w.isOdd()&&w.iadd(T),w.iushrn(1);for(var P=0,L=1;(S.words[0]&L)===0&&P<26;++P,L<<=1);if(P>0)for(S.iushrn(P);P-- >0;)R.isOdd()&&R.iadd(T),R.iushrn(1);m.cmp(S)>=0?(m.isub(S),w.isub(R)):(S.isub(m),R.isub(w))}var V;return m.cmpn(1)===0?V=w:V=R,V.cmpn(0)<0&&V.iadd(g),V},a.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var m=this.clone(),S=g.clone();m.negative=0,S.negative=0;for(var w=0;m.isEven()&&S.isEven();w++)m.iushrn(1),S.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;S.isEven();)S.iushrn(1);var R=m.cmp(S);if(R<0){var T=m;m=S,S=T}else if(R===0||S.cmpn(1)===0)break;m.isub(S)}while(!0);return S.iushln(w)},a.prototype.invm=function(g){return this.egcd(g).a.umod(g)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(g){return this.words[0]&g},a.prototype.bincn=function(g){s(typeof g=="number");var m=g%26,S=(g-m)/26,w=1<<m;if(this.length<=S)return this._expand(S+1),this.words[S]|=w,this;for(var R=w,T=S;R!==0&&T<this.length;T++){var b=this.words[T]|0;b+=R,R=b>>>26,b&=67108863,this.words[T]=b}return R!==0&&(this.words[T]=R,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(g){var m=g<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var S;if(this.length>1)S=1;else{m&&(g=-g),s(g<=67108863,"Number is too big");var w=this.words[0]|0;S=w===g?0:w<g?-1:1}return this.negative!==0?-S|0:S},a.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var m=this.ucmp(g);return this.negative!==0?-m|0:m},a.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var m=0,S=this.length-1;S>=0;S--){var w=this.words[S]|0,R=g.words[S]|0;if(w!==R){w<R?m=-1:w>R&&(m=1);break}}return m},a.prototype.gtn=function(g){return this.cmpn(g)===1},a.prototype.gt=function(g){return this.cmp(g)===1},a.prototype.gten=function(g){return this.cmpn(g)>=0},a.prototype.gte=function(g){return this.cmp(g)>=0},a.prototype.ltn=function(g){return this.cmpn(g)===-1},a.prototype.lt=function(g){return this.cmp(g)===-1},a.prototype.lten=function(g){return this.cmpn(g)<=0},a.prototype.lte=function(g){return this.cmp(g)<=0},a.prototype.eqn=function(g){return this.cmpn(g)===0},a.prototype.eq=function(g){return this.cmp(g)===0},a.red=function(g){return new C(g)},a.prototype.toRed=function(g){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(g){return this.red=g,this},a.prototype.forceRed=function(g){return s(!this.red,"Already a number in reduction context"),this._forceRed(g)},a.prototype.redAdd=function(g){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},a.prototype.redIAdd=function(g){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},a.prototype.redSub=function(g){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},a.prototype.redISub=function(g){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},a.prototype.redShl=function(g){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},a.prototype.redMul=function(g){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},a.prototype.redIMul=function(g){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(g){return s(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var E={k256:null,p224:null,p192:null,p25519:null};function I(v,g){this.name=v,this.p=new a(g,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var g=new a(null);return g.words=new Array(Math.ceil(this.n/13)),g},I.prototype.ireduce=function(g){var m=g,S;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),S=m.bitLength();while(S>this.n);var w=S<this.n?-1:m.ucmp(this.p);return w===0?(m.words[0]=0,m.length=1):w>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},I.prototype.split=function(g,m){g.iushrn(this.n,0,m)},I.prototype.imulK=function(g){return g.imul(this.k)};function U(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(U,I),U.prototype.split=function(g,m){for(var S=4194303,w=Math.min(g.length,9),R=0;R<w;R++)m.words[R]=g.words[R];if(m.length=w,g.length<=9){g.words[0]=0,g.length=1;return}var T=g.words[9];for(m.words[m.length++]=T&S,R=10;R<g.length;R++){var b=g.words[R]|0;g.words[R-10]=(b&S)<<4|T>>>22,T=b}T>>>=22,g.words[R-10]=T,T===0&&g.length>10?g.length-=10:g.length-=9},U.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var m=0,S=0;S<g.length;S++){var w=g.words[S]|0;m+=w*977,g.words[S]=m&67108863,m=w*64+(m/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function N(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(N,I);function H(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(H,I);function D(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(D,I),D.prototype.imulK=function(g){for(var m=0,S=0;S<g.length;S++){var w=(g.words[S]|0)*19+m,R=w&67108863;w>>>=26,g.words[S]=R,m=w}return m!==0&&(g.words[g.length++]=m),g},a._prime=function(g){if(E[g])return E[g];var m;if(g==="k256")m=new U;else if(g==="p224")m=new N;else if(g==="p192")m=new H;else if(g==="p25519")m=new D;else throw new Error("Unknown prime "+g);return E[g]=m,m};function C(v){if(typeof v=="string"){var g=a._prime(v);this.m=g.p,this.prime=g}else s(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}C.prototype._verify1=function(g){s(g.negative===0,"red works only with positives"),s(g.red,"red works only with red numbers")},C.prototype._verify2=function(g,m){s((g.negative|m.negative)===0,"red works only with positives"),s(g.red&&g.red===m.red,"red works only with red numbers")},C.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},C.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},C.prototype.add=function(g,m){this._verify2(g,m);var S=g.add(m);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},C.prototype.iadd=function(g,m){this._verify2(g,m);var S=g.iadd(m);return S.cmp(this.m)>=0&&S.isub(this.m),S},C.prototype.sub=function(g,m){this._verify2(g,m);var S=g.sub(m);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},C.prototype.isub=function(g,m){this._verify2(g,m);var S=g.isub(m);return S.cmpn(0)<0&&S.iadd(this.m),S},C.prototype.shl=function(g,m){return this._verify1(g),this.imod(g.ushln(m))},C.prototype.imul=function(g,m){return this._verify2(g,m),this.imod(g.imul(m))},C.prototype.mul=function(g,m){return this._verify2(g,m),this.imod(g.mul(m))},C.prototype.isqr=function(g){return this.imul(g,g.clone())},C.prototype.sqr=function(g){return this.mul(g,g)},C.prototype.sqrt=function(g){if(g.isZero())return g.clone();var m=this.m.andln(3);if(s(m%2===1),m===3){var S=this.m.add(new a(1)).iushrn(2);return this.pow(g,S)}for(var w=this.m.subn(1),R=0;!w.isZero()&&w.andln(1)===0;)R++,w.iushrn(1);s(!w.isZero());var T=new a(1).toRed(this),b=T.redNeg(),x=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new a(2*P*P).toRed(this);this.pow(P,x).cmp(b)!==0;)P.redIAdd(b);for(var L=this.pow(P,w),V=this.pow(g,w.addn(1).iushrn(1)),W=this.pow(g,w),ee=R;W.cmp(T)!==0;){for(var ae=W,se=0;ae.cmp(T)!==0;se++)ae=ae.redSqr();s(se<ee);var j=this.pow(L,new a(1).iushln(ee-se-1));V=V.redMul(j),L=j.redSqr(),W=W.redMul(L),ee=se}return V},C.prototype.invm=function(g){var m=g._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},C.prototype.pow=function(g,m){if(m.isZero())return new a(1).toRed(this);if(m.cmpn(1)===0)return g.clone();var S=4,w=new Array(1<<S);w[0]=new a(1).toRed(this),w[1]=g;for(var R=2;R<w.length;R++)w[R]=this.mul(w[R-1],g);var T=w[0],b=0,x=0,P=m.bitLength()%26;for(P===0&&(P=26),R=m.length-1;R>=0;R--){for(var L=m.words[R],V=P-1;V>=0;V--){var W=L>>V&1;if(T!==w[0]&&(T=this.sqr(T)),W===0&&b===0){x=0;continue}b<<=1,b|=W,x++,!(x!==S&&(R!==0||V!==0))&&(T=this.mul(T,w[b]),x=0,b=0)}P=26}return T},C.prototype.convertTo=function(g){var m=g.umod(this.m);return m===g?m.clone():m},C.prototype.convertFrom=function(g){var m=g.clone();return m.red=null,m},a.mont=function(g){return new d(g)};function d(v){C.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(d,C),d.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},d.prototype.convertFrom=function(g){var m=this.imod(g.mul(this.rinv));return m.red=null,m},d.prototype.imul=function(g,m){if(g.isZero()||m.isZero())return g.words[0]=0,g.length=1,g;var S=g.imul(m),w=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=S.isub(w).iushrn(this.shift),T=R;return R.cmp(this.m)>=0?T=R.isub(this.m):R.cmpn(0)<0&&(T=R.iadd(this.m)),T._forceRed(this)},d.prototype.mul=function(g,m){if(g.isZero()||m.isZero())return new a(0)._forceRed(this);var S=g.mul(m),w=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=S.isub(w).iushrn(this.shift),T=R;return R.cmp(this.m)>=0?T=R.isub(this.m):R.cmpn(0)<0&&(T=R.iadd(this.m)),T._forceRed(this)},d.prototype.invm=function(g){var m=this.imod(g._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,this)});He("6gAsx",function(t,e){var r=rr.Buffer,n=Y("kooOK"),i=Y("kBBbb");t.exports={checkState:function(s,o){if(!s)throw new n.InvalidState(o)},checkArgument:function(s,o,a,u){if(!s)throw new n.InvalidArgument(o,a,u)},checkArgumentType:function(s,o,a){if(a=a||"(unknown name)",i.isString(o)){if(o==="Buffer"){if(!r.isBuffer(s))throw new n.InvalidArgumentType(s,o,a)}else if(typeof s!==o)throw new n.InvalidArgumentType(s,o,a)}else if(!(s instanceof o))throw new n.InvalidArgumentType(s,o.name,a)}}});He("kooOK",function(t,e){"use strict";var r=Y("kBBbb");function n(c,h){return c.replace("{0}",h[0]).replace("{1}",h[1]).replace("{2}",h[2])}var i=function(c,h){var f=function(){if(r.isString(h.message))this.message=n(h.message,arguments);else if(r.isFunction(h.message))this.message=h.message.apply(null,arguments);else throw new Error("Invalid error definition for "+h.name);this.stack=this.message+`
`+new Error().stack};return f.prototype=Object.create(c.prototype),f.prototype.name=c.prototype.name+h.name,c[h.name]=f,h.errors&&s(f,h.errors),f},s=function(c,h){r.each(h,function(f){i(c,f)})},o=function(c,h){return s(c,h),c},a={};a.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack},a.Error.prototype=Object.create(Error.prototype),a.Error.prototype.name="bsv.Error";var u=Y("hDuMS");o(a.Error,u),t.exports=a.Error,t.exports.extend=function(c){return i(a.Error,c)}});He("kBBbb",function(t,e){"use strict";var r={};r.isArray=n=>Array.isArray(n),r.isNumber=n=>typeof n=="number",r.isObject=n=>n&&typeof n=="object",r.isString=n=>typeof n=="string",r.isUndefined=n=>typeof n>"u",r.isFunction=n=>typeof n=="function",r.isNull=n=>n===null,r.isDate=n=>n instanceof Date,r.extend=(n,i)=>Object.assign(n,i),r.noop=()=>{},r.every=(n,i)=>n.every(i||(s=>s)),r.map=(n,i)=>Array.from(n).map(i||(s=>s)),r.includes=(n,i)=>n.includes(i),r.each=(n,i)=>n.forEach(i),r.clone=n=>Object.assign({},n),r.pick=(n,i)=>{let s={};return i.forEach(o=>{typeof n[o]<"u"&&(s[o]=n[o])}),s},r.values=n=>Object.values(n),r.filter=(n,i)=>n.filter(i),r.reduce=(n,i,s)=>n.reduce(i,s),r.without=(n,i)=>n.filter(s=>s!==i),r.shuffle=n=>{let i=n.slice(0);for(let s=i.length-1;s>0;s--){let o=Math.floor(Math.random()*(s+1));[i[s],i[o]]=[i[o],i[s]]}return i},r.difference=(n,i)=>n.filter(s=>!i.includes(s)),r.findIndex=(n,i)=>n.findIndex(i),r.some=(n,i)=>n.some(i),r.range=n=>[...Array(n).keys()],r.isPositiveNumber=n=>n<126,t.exports=r});He("hDuMS",function(t,e){"use strict";var r="https://docs.moneybutton.com/";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+r+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"MissingInput",message:"Invalid inputIndex."}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"MissingOutput",message:"Output not found"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"},{name:"TransactionAlreadySealed",message:"Cannot update sealed transaction"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"},{name:"InvalidOpcode",message:'Invalid Opcode: got "{0}"'}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]},{name:"ECIES",message:"Internal Error on bsv-ecies Module {0}",errors:[{name:"DecryptionError",message:"Invalid Message: {0}"},{name:"UnsupportAlgorithm",message:"Unsupport Algorithm: {0}"}]},{name:"Mnemonic",message:"Internal Error on bsv-mnemonic module {0}",errors:[{name:"InvalidEntropy",message:"Entropy length must be an even multiple of 11 bits: {0}"},{name:"UnknownWordlist",message:"Could not detect the used word list: {0}"},{name:"InvalidMnemonic",message:"Mnemonic string is invalid: {0}"}]}]});He("kmMTb",function(t,e){var r=rr.Buffer,n=Y("dIoYd"),i=Y("f0gTO"),s=Y("gIXub"),o=Y("arkeG"),a=Y("7X5Fe"),u=Y("bTTXN"),c=Y("kBBbb"),h=Y("6gAsx"),f=function p(l){if(!(this instanceof p))return new p(l);l&&this.set(l)};f.prototype.set=function(p){return this.hashbuf=p.hashbuf||this.hashbuf,this.endian=p.endian||this.endian,this.privkey=p.privkey||this.privkey,this.pubkey=p.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=p.sig||this.sig,this.k=p.k||this.k,this.verified=p.verified||this.verified,this},f.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},f.prototype.calci=function(){for(var p=0;p<4;p++){this.sig.i=p;var l;try{l=this.toPublicKey()}catch(y){console.error(y);continue}if(l.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},f.fromString=function(p){var l=JSON.parse(p);return new f(l)},f.prototype.randomK=function(){var p=i.getN(),l;do l=n.fromBuffer(a.getRandomBuffer(32));while(!(l.lt(p)&&l.gt(n.Zero)));return this.k=l,this},f.prototype.deterministicK=function(p){c.isUndefined(p)&&(p=0);var l=r.alloc(32);l.fill(1);var y=r.alloc(32);y.fill(0);var _=this.privkey.bn.toBuffer({size:32}),O=this.endian==="little"?r.from(this.hashbuf).reverse():this.hashbuf;y=u.sha256hmac(r.concat([l,r.from([0]),_,O]),y),l=u.sha256hmac(l,y),y=u.sha256hmac(r.concat([l,r.from([1]),_,O]),y),l=u.sha256hmac(l,y),l=u.sha256hmac(l,y);for(var F=n.fromBuffer(l),B=i.getN(),E=0;E<p||!(F.lt(B)&&F.gt(n.Zero));E++)y=u.sha256hmac(r.concat([l,r.from([0])]),y),l=u.sha256hmac(l,y),l=u.sha256hmac(l,y),F=n.fromBuffer(l);return this.k=F,this},f.prototype.toPublicKey=function(){var p=this.sig.i;h.checkArgument(p===0||p===1||p===2||p===3,new Error("i must be equal to 0, 1, 2, or 3"));var l=n.fromBuffer(this.hashbuf),y=this.sig.r,_=this.sig.s,O=p&1,F=p>>1,B=i.getN(),E=i.getG(),I=F?y.add(B):y,U=i.fromX(O,I),N=U.mul(B);if(!N.isInfinity())throw new Error("nR is not a valid curve point");var H=l.neg().umod(B),D=y.invm(B),C=U.mul(_).add(E.mul(H)).mul(D),d=o.fromPoint(C,this.sig.compressed);return d},f.prototype.sigError=function(){if(!r.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var p=this.sig.r,l=this.sig.s;if(!(p.gt(n.Zero)&&p.lt(i.getN()))||!(l.gt(n.Zero)&&l.lt(i.getN())))return"r and s not in range";var y=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),_=i.getN(),O=l.invm(_),F=O.mul(y).umod(_),B=O.mul(p).umod(_),E=i.getG().mulAdd(F,this.pubkey.point,B);return E.isInfinity()?"p is infinity":E.getX().umod(_).cmp(p)!==0?"Invalid signature":!1},f.toLowS=function(p){return p.gt(n.fromBuffer(r.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(p=i.getN().sub(p)),p},f.prototype._findSignature=function(p,l){var y=i.getN(),_=i.getG(),O=0,F,B,E,I;do(!this.k||O>0)&&this.deterministicK(O),O++,F=this.k,B=_.mul(F),E=new n(1).mul(B.x.umod(y)),I=F.invm(y).mul(l.add(p.mul(E))).umod(y);while(E.cmp(n.Zero)<=0||I.cmp(n.Zero)<=0);return I=f.toLowS(I),{s:I,r:E}},f.prototype.sign=function(){var p=this.hashbuf,l=this.privkey,y=l.bn;h.checkState(p&&l&&y,new Error("invalid parameters")),h.checkState(r.isBuffer(p)&&p.length===32,new Error("hashbuf must be a 32 byte buffer"));var _=n.fromBuffer(p,this.endian?{endian:this.endian}:void 0),O=this._findSignature(y,_);return O.compressed=this.pubkey.compressed,this.sig=new s(O),this},f.prototype.signRandomK=function(){return this.randomK(),this.sign()},f.prototype.toString=function(){var p={};return this.hashbuf&&(p.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(p.privkey=this.privkey.toString()),this.pubkey&&(p.pubkey=this.pubkey.toString()),this.sig&&(p.sig=this.sig.toString()),this.k&&(p.k=this.k.toString()),JSON.stringify(p)},f.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},f.sign=function(p,l,y){return f().set({hashbuf:p,endian:y,privkey:l}).sign().sig},f.signWithCalcI=function(p,l,y){return f().set({hashbuf:p,endian:y,privkey:l}).sign().calci().sig},f.signRandomK=function(p,l,y){return f().set({hashbuf:p,endian:y,privkey:l}).signRandomK().sig},f.verify=function(p,l,y,_){return f().set({hashbuf:p,endian:_,sig:l,pubkey:y}).verify().verified},t.exports=f});He("f0gTO",function(t,e){var r=rr.Buffer,n=Y("dIoYd"),i=UH.ec,s=new i("secp256k1"),o=s.curve.point.bind(s.curve),a=s.curve.pointFromX.bind(s.curve),u=function(h,f,p){try{var l=o(h,f,p)}catch{throw new Error("Invalid Point")}return l.validate(),l};u.prototype=Object.getPrototypeOf(s.curve.point()),u.fromX=function(h,f){try{var p=a(f,h)}catch{throw new Error("Invalid X")}return p.validate(),p},u.getG=function(){return s.curve.g},u.getN=function(){return new n(s.curve.n.toArray())},u.prototype._getX||(u.prototype._getX=u.prototype.getX),u.prototype.getX=function(){return new n(this._getX().toArray())},u.prototype._getY||(u.prototype._getY=u.prototype.getY),u.prototype.getY=function(){return new n(this._getY().toArray())},u.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var h;try{h=a(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(h.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(u.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},u.pointToCompressed=function(h){var f=h.getX().toBuffer({size:32}),p=h.getY().toBuffer({size:32}),l,y=p[p.length-1]%2;return y?l=r.from([3]):l=r.from([2]),r.concat([l,f])},u.pointFromCompressed=function(c){if(c.length!==33)throw new Error("invalid buffer length");let h=c[0],f;if(h===3)f=!0;else if(h===2)f=!1;else throw new Error("invalid value of compressed prefix");let p=c.slice(1,33),l=n.fromBuffer(p);return u.fromX(f,l)},u.prototype.toBuffer=function(){return u.pointToCompressed(this)},u.prototype.toHex=function(){return this.toBuffer().toString("hex")},u.fromBuffer=function(c){return u.pointFromCompressed(c)},u.fromHex=function(c){return u.fromBuffer(r.from(c,"hex"))},t.exports=u});He("gIXub",function(t,e){var r=rr.Buffer,n=Y("dIoYd"),i=Y("kBBbb"),s=Y("6gAsx"),o=Y("gk75r"),a=function u(c,h){if(!(this instanceof u))return new u(c,h);if(c instanceof n)this.set({r:c,s:h});else if(c){var f=c;this.set(f)}};a.prototype.set=function(u){return this.r=u.r||this.r||void 0,this.s=u.s||this.s||void 0,this.i=typeof u.i<"u"?u.i:this.i,this.compressed=typeof u.compressed<"u"?u.compressed:this.compressed,this.nhashtype=u.nhashtype||this.nhashtype||void 0,this},a.fromCompact=function(u){s.checkArgument(r.isBuffer(u),"Argument is expected to be a Buffer");var c=new a,h=!0,f=u.slice(0,1)[0]-27-4;f<0&&(h=!1,f=f+4);var p=u.slice(1,33),l=u.slice(33,65);return s.checkArgument(f===0||f===1||f===2||f===3,new Error("i must be 0, 1, 2, or 3")),s.checkArgument(p.length===32,new Error("r must be 32 bytes")),s.checkArgument(l.length===32,new Error("s must be 32 bytes")),c.compressed=h,c.i=f,c.r=n.fromBuffer(p),c.s=n.fromBuffer(l),c},a.fromDER=a.fromBuffer=function(u,c){var h=a.parseDER(u,c),f=new a;return f.r=h.r,f.s=h.s,f},a.fromTxFormat=function(u){var c=u.readUInt8(u.length-1),h=u.slice(0,u.length-1),f=a.fromDER(h,!1);return f.nhashtype=c,f},a.fromString=function(u){var c=r.from(u,"hex");return a.fromDER(c)},a.parseDER=function(u,c){s.checkArgument(r.isBuffer(u),new Error("DER formatted signature should be a buffer")),i.isUndefined(c)&&(c=!0);var h=u[0];s.checkArgument(h===48,new Error("Header byte should be 0x30"));var f=u[1],p=u.slice(2).length;s.checkArgument(!c||f===p,new Error("Length byte should length of what follows")),f=f<p?f:p;var l=u[2];s.checkArgument(l===2,new Error("Integer byte for r should be 0x02"));var y=u[3],_=u.slice(4,4+y),O=n.fromBuffer(_),F=u[4]===0;s.checkArgument(y===_.length,new Error("Length of r incorrect"));var B=u[4+y+0];s.checkArgument(B===2,new Error("Integer byte for s should be 0x02"));var E=u[4+y+1],I=u.slice(4+y+2,4+y+2+E),U=n.fromBuffer(I),N=u[4+y+2+2]===0;s.checkArgument(E===I.length,new Error("Length of s incorrect"));var H=4+y+2+E;s.checkArgument(f===H-2,new Error("Length of signature incorrect"));var D={header:h,length:f,rheader:l,rlength:y,rneg:F,rbuf:_,r:O,sheader:B,slength:E,sneg:N,sbuf:I,s:U};return D},a.prototype.toCompact=function(u,c){if(u=typeof u=="number"?u:this.i,c=typeof c=="boolean"?c:this.compressed,!(u===0||u===1||u===2||u===3))throw new Error("i must be equal to 0, 1, 2, or 3");var h=u+27+4;c===!1&&(h=h-4);var f=r.from([h]),p=this.r.toBuffer({size:32}),l=this.s.toBuffer({size:32});return r.concat([f,p,l])},a.prototype.toBuffer=a.prototype.toDER=function(){var u=this.r.toBuffer(),c=this.s.toBuffer(),h=!!(u[0]&128),f=!!(c[0]&128),p=h?r.concat([r.from([0]),u]):u,l=f?r.concat([r.from([0]),c]):c,y=p.length,_=l.length,O=2+y+2+_,F=2,B=2,E=48,I=r.concat([r.from([E,O,F,y]),p,r.from([B,_]),l]);return I},a.prototype.toString=function(){var u=this.toDER();return u.toString("hex")},a.isTxDER=function(u){if(u.length<9||u.length>73||u[0]!==48||u[1]!==u.length-3)return!1;var c=u[3];if(5+c>=u.length)return!1;var h=u[5+c];if(c+h+7!==u.length)return!1;var f=u.slice(4);if(u[2]!==2||c===0||f[0]&128||c>1&&f[0]===0&&!(f[1]&128))return!1;var p=u.slice(6+c);return!(u[6+c-2]!==2||h===0||p[0]&128||h>1&&p[0]===0&&!(p[1]&128))},a.prototype.hasLowS=function(){return!(this.s.lt(new n(1))||this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))},a.prototype.hasDefinedHashtype=function(){if(!o.isNaturalNumber(this.nhashtype))return!1;var u=this.nhashtype&31;return!(u<a.SIGHASH_ALL||u>a.SIGHASH_SINGLE)},a.prototype.toTxFormat=function(){var u=this.toDER(),c=r.alloc(1);return c.writeUInt8(this.nhashtype,0),r.concat([u,c])},a.SIGHASH_ALL=1,a.SIGHASH_NONE=2,a.SIGHASH_SINGLE=3,a.SIGHASH_FORKID=64,a.SIGHASH_ANYONECANPAY=128,a.ALL=65,a.NONE=66,a.SINGLE=67,a.ANYONECANPAY_ALL=193,a.ANYONECANPAY_NONE=194,a.ANYONECANPAY_SINGLE=195,t.exports=a});He("gk75r",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=function(a){return n.isString(a)?/^[0-9a-fA-F]+$/.test(a):!1};t.exports={isValidJSON:function(a){var u;if(!n.isString(a))return!1;try{u=JSON.parse(a)}catch{return!1}return typeof u=="object"},isHexa:s,isHexaString:s,defineImmutable:function(a,u){return Object.keys(u).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,value:u[c]})}),a},isNaturalNumber:function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a&&a>=0},integerAsBuffer:function(a){i.checkArgumentType(a,"number","integer");let u=r.allocUnsafe(4);return u.writeUInt32BE(a,0),u}}});He("arkeG",function(t,e){var r=rr.Buffer,n=Y("dIoYd"),i=Y("f0gTO"),s=Y("bTTXN"),o=Y("gk75r"),a=Y("cyjag"),u=Y("kBBbb"),c=Y("6gAsx");function h(f,p){if(!(this instanceof h))return new h(f,p);if(c.checkArgument(f,"First argument is required, please include public key data."),f instanceof h)return f;p=p||{};var l=this._classifyArgs(f,p);return l.point.validate(),o.defineImmutable(this,{point:l.point,compressed:l.compressed,network:l.network||a.defaultNetwork}),this}h.prototype._classifyArgs=function(f,p){var l={compressed:u.isUndefined(p.compressed)||p.compressed};if(f instanceof i)l.point=f;else if(f.x&&f.y)l=h._transformObject(f);else if(typeof f=="string")l=h._transformDER(r.from(f,"hex"));else if(h._isBuffer(f))l=h._transformDER(f);else if(h._isPrivateKey(f))l=h._transformPrivateKey(f);else throw new TypeError("First argument is an unrecognized data format.");return l.network||(l.network=u.isUndefined(p.network)?void 0:a.get(p.network)),l},h._isPrivateKey=function(f){var p=Y("7smYJ");return f instanceof p},h._isBuffer=function(f){return f instanceof r||f instanceof Uint8Array},h._transformPrivateKey=function(f){c.checkArgument(h._isPrivateKey(f),"Must be an instance of PrivateKey");var p={};return p.point=i.getG().mul(f.bn),p.compressed=f.compressed,p.network=f.network,p},h._transformDER=function(f,p){c.checkArgument(h._isBuffer(f),"Must be a buffer of DER encoded public key");var l={};p=u.isUndefined(p)?!0:p;var y,_,O,F;if(f[0]===4||!p&&(f[0]===6||f[0]===7)){if(O=f.slice(1,33),F=f.slice(33,65),O.length!==32||F.length!==32||f.length!==65)throw new TypeError("Length of x and y must be 32 bytes");y=new n(O),_=new n(F),l.point=new i(y,_),l.compressed=!1}else if(f[0]===3)O=f.slice(1),y=new n(O),l=h._transformX(!0,y),l.compressed=!0;else if(f[0]===2)O=f.slice(1),y=new n(O),l=h._transformX(!1,y),l.compressed=!0;else throw new TypeError("Invalid DER format public key");return l},h._transformX=function(f,p){c.checkArgument(typeof f=="boolean","Must specify whether y is odd or not (true or false)");var l={};return l.point=i.fromX(f,p),l},h._transformObject=function(f){var p=new n(f.x,"hex"),l=new n(f.y,"hex"),y=new i(p,l);return new h(y,{compressed:f.compressed})},h.fromPrivateKey=function(f){c.checkArgument(h._isPrivateKey(f),"Must be an instance of PrivateKey");var p=h._transformPrivateKey(f);return new h(p.point,{compressed:p.compressed,network:p.network})},h.fromDER=h.fromBuffer=function(f,p){c.checkArgument(h._isBuffer(f),"Must be a buffer of DER encoded public key");var l=h._transformDER(f,p);return new h(l.point,{compressed:l.compressed})},h.fromPoint=function(f,p){return c.checkArgument(f instanceof i,"First argument must be an instance of Point."),new h(f,{compressed:p})},h.fromHex=h.fromString=function(f,p){var l=r.from(f,p||"hex"),y=h._transformDER(l);return new h(y.point,{compressed:y.compressed})},h.fromX=function(f,p){var l=h._transformX(f,p);return new h(l.point,{compressed:l.compressed})},h.getValidationError=function(f){var p;try{new h(f)}catch(l){p=l}return p},h.isValid=function(f){return!h.getValidationError(f)},h.prototype.toObject=h.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},h.prototype.toBuffer=h.prototype.toDER=function(){var f=this.point.getX(),p=this.point.getY(),l=f.toBuffer({size:32}),y=p.toBuffer({size:32}),_;if(this.compressed){var O=y[y.length-1]%2;return O?_=r.from([3]):_=r.from([2]),r.concat([_,l])}else return _=r.from([4]),r.concat([_,l,y])},h.prototype._getID=function(){return s.sha256ripemd160(this.toBuffer())},h.prototype.toAddress=function(f){var p=Y("iSUUt");return p.fromPublicKey(this,f||this.network)},h.prototype.toString=h.prototype.toHex=function(){return this.toDER().toString("hex")},h.prototype.inspect=function(){return"<PublicKey: "+this.toHex()+(this.compressed?"":", uncompressed")+">"},t.exports=h});He("bTTXN",function(t,e){t.exports=Y("8Asny")});He("8Asny",function(t,e){var r=rr.Buffer,n=Y("6gAsx"),i=t.exports;i.sha1=function(s){return n.checkArgument(r.isBuffer(s)),r.from(tl.sha1().update(s).digest("hex"),"hex")},i.sha1.blocksize=512,i.sha256=function(s){return n.checkArgument(r.isBuffer(s)),r.from(tl.sha256().update(s).digest("hex"),"hex")},i.sha256.blocksize=512,i.sha256sha256=function(s){return n.checkArgument(r.isBuffer(s)),i.sha256(i.sha256(s))},i.ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),r.from(tl.ripemd160().update(s).digest("hex"),"hex")},i.sha256ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),i.ripemd160(i.sha256(s))},i.sha512=function(s){return n.checkArgument(r.isBuffer(s)),r.from(tl.sha512().update(s).digest("hex"),"hex")},i.sha512.blocksize=1024,i.hmac=function(s,o,a){n.checkArgument(r.isBuffer(o)),n.checkArgument(r.isBuffer(a)),n.checkArgument(s.blocksize);var u=s.blocksize/8;if(a.length>u)a=s(a);else if(a<u){var c=r.alloc(u);c.fill(0),a.copy(c),a=c}var h=r.alloc(u);h.fill(92);var f=r.alloc(u);f.fill(54);for(var p=r.alloc(u),l=r.alloc(u),y=0;y<u;y++)p[y]=h[y]^a[y],l[y]=f[y]^a[y];return s(r.concat([p,s(r.concat([l,o]))]))},i.sha256hmac=function(s,o){return i.hmac(i.sha256,s,o)},i.sha512hmac=function(s,o){return i.hmac(i.sha512,s,o)}});He("cyjag",function(t,e){"use strict";var r=Y("kBBbb"),n=Y("gk75r"),i=[],s={};function o(){}o.prototype.toString=function(){return this.name};function a(S,w){if(~i.indexOf(S))return S;if(w){r.isArray(w)||(w=[w]);for(var R=0;R<i.length;R++){var T=i[R],b=r.pick(T,w),x=r.values(b);if(~x.indexOf(S))return T}return}return s[S]}function u(S){for(var w=[],R=0;R<S.length;R++)w.push(S.charCodeAt(R)&31);return w}function c(S){var w=new o;n.defineImmutable(w,{name:S.name,alias:S.alias,pubkeyhash:S.pubkeyhash,privatekey:S.privatekey,scripthash:S.scripthash,xpubkey:S.xpubkey,xprivkey:S.xprivkey});var R=S.indexBy||Object.keys(S);return S.cashAddrPrefix&&r.extend(w,{cashAddrPrefix:S.cashAddrPrefix,cashAddrPrefixArray:u(S.cashAddrPrefix)}),S.networkMagic&&r.extend(w,{networkMagic:n.integerAsBuffer(S.networkMagic)}),S.port&&r.extend(w,{port:S.port}),S.dnsSeeds&&r.extend(w,{dnsSeeds:S.dnsSeeds}),i.push(w),h(w,R),w}function h(S,w){for(var R=0;R<w.length;R++){var T=w[R],b=S[T];!r.isUndefined(b)&&!r.isObject(b)&&(s[b]=S)}}function f(S,w){for(var R=0;R<w.length;R++){var T=w[R];s[T]===S&&delete s[T]}}function p(S){for(var w=0;w<i.length;w++)i[w]===S&&i.splice(w,1);f(S,Object.keys(s))}var l={livenet:3823236072,testnet:4108710900,regtest:3669344250,stn:4224632057},y=["seed.bitcoinsv.org","seed.bitcoinunlimited.info"],_={PORT:18333,NETWORK_MAGIC:l.testnet,DNS_SEEDS:y,PREFIX:"testnet",CASHADDRPREFIX:"bchtest"},O={PORT:18444,NETWORK_MAGIC:l.regtest,DNS_SEEDS:[],PREFIX:"regtest",CASHADDRPREFIX:"bchreg"},F={PORT:9333,NETWORK_MAGIC:l.stn,DNS_SEEDS:["stn-seed.bitcoinsv.io"],PREFIX:"stn",CASHADDRPREFIX:"bsvstn"},B={name:"livenet",alias:"mainnet",prefix:"bitcoin",cashAddrPrefix:"bitcoincash",pubkeyhash:0,privatekey:128,scripthash:5,xpubkey:76067358,xprivkey:76066276,networkMagic:l.livenet,port:8333,dnsSeeds:y},E={name:"testnet",prefix:_.PREFIX,cashAddrPrefix:_.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:_.NETWORK_MAGIC},I={name:"regtest",prefix:O.PREFIX,cashAddrPrefix:O.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:O.NETWORK_MAGIC,port:O.PORT,dnsSeeds:[],indexBy:["port","name","cashAddrPrefix","networkMagic"]},U={name:"stn",prefix:F.PREFIX,cashAddrPrefix:F.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:F.NETWORK_MAGIC,indexBy:["port","name","cashAddrPrefix","networkMagic"]};c(E),c(U),c(I),c(B);var N=a("livenet"),H=a("regtest"),D=a("testnet"),C=a("stn");Object.defineProperty(D,"port",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?O.PORT:this.stnEnabled?F.PORT:_.PORT}}),Object.defineProperty(D,"networkMagic",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?n.integerAsBuffer(O.NETWORK_MAGIC):this.stnEnabled?n.integerAsBuffer(F.NETWORK_MAGIC):n.integerAsBuffer(_.NETWORK_MAGIC)}}),Object.defineProperty(D,"dnsSeeds",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?O.DNS_SEEDS:this.stnEnabled?F.DNS_SEEDS:_.DNS_SEEDS}}),Object.defineProperty(D,"cashAddrPrefix",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?O.CASHADDRPREFIX:this.stnEnabled?F.CASHADDRPREFIX:_.CASHADDRPREFIX}}),Object.defineProperty(D,"cashAddrPrefixArray",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?u(O.CASHADDRPREFIX):this.stnEnabled?F.cashAddrPrefixToArray(F.CASHADDRPREFIX):u(_.CASHADDRPREFIX)}});function d(){D.regtestEnabled=!0}function v(){D.regtestEnabled=!1}function g(){D.stnEnabled=!0}function m(){D.stnEnabled=!1}t.exports={add:c,remove:p,defaultNetwork:N,livenet:N,mainnet:N,testnet:D,regtest:H,stn:C,get:a,enableRegtest:d,disableRegtest:v,enableStn:g,disableStn:m}});He("7smYJ",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("iSUUt"),s=Y("j7ODq"),o=Y("dIoYd"),a=Y("gk75r"),u=Y("cyjag"),c=Y("f0gTO"),h=Y("arkeG"),f=Y("7X5Fe"),p=Y("6gAsx");function l(y,_){if(!(this instanceof l))return new l(y,_);if(y instanceof l)return y;var O=this._classifyArguments(y,_);if(!O.bn||O.bn.cmp(new o(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!O.bn.lt(c.getN()))throw new TypeError("Number must be less than N");if(typeof O.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return a.defineImmutable(this,{bn:O.bn,compressed:O.compressed,network:O.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}l.prototype._classifyArguments=function(y,_){var O={compressed:!0,network:_?u.get(_):u.defaultNetwork};if(n.isUndefined(y)||n.isNull(y))O.bn=l._getRandomBN();else if(y instanceof o)O.bn=y;else if(y instanceof r||y instanceof Uint8Array)O=l._transformBuffer(y,_);else if(y.bn&&y.network)O=l._transformObject(y);else if(!_&&u.get(y))O.bn=l._getRandomBN(),O.network=u.get(y);else if(typeof y=="string")a.isHexa(y)?O.bn=new o(r.from(y,"hex")):O=l._transformWIF(y,_);else throw new TypeError("First argument is an unrecognized data type.");return O},l._getRandomBN=function(){var y,_;do{var O=f.getRandomBuffer(32);_=o.fromBuffer(O),y=_.lt(c.getN())}while(!y);return _},l._transformBuffer=function(y,_){var O={};if(y.length===32)return l._transformBNBuffer(y,_);if(O.network=u.get(y[0],"privatekey"),!O.network)throw new Error("Invalid network");if(_&&O.network!==u.get(_))throw new TypeError("Private key network mismatch");if(y.length===34&&y[33]===1)O.compressed=!0;else if(y.length===33)O.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return O.bn=o.fromBuffer(y.slice(1,33)),O},l._transformBNBuffer=function(y,_){var O={};return O.network=u.get(_)||u.defaultNetwork,O.bn=o.fromBuffer(y),O.compressed=!1,O},l._transformWIF=function(y,_){return l._transformBuffer(s.decode(y),_)},l.fromBuffer=function(y,_){return new l(y,_)},l.fromHex=function(y,_){return l.fromBuffer(r.from(y,"hex"),_)},l._transformObject=function(y){var _=new o(y.bn,"hex"),O=u.get(y.network);return{bn:_,network:O,compressed:y.compressed}},l.fromString=l.fromWIF=function(y){return p.checkArgument(n.isString(y),"First argument is expected to be a string."),new l(y)},l.fromObject=l.fromJSON=function(y){return p.checkArgument(n.isObject(y),"First argument is expected to be an object."),new l(y)},l.fromRandom=function(y){var _=l._getRandomBN();return new l(_,y)},l.getValidationError=function(y,_){var O;try{new l(y,_)}catch(F){O=F}return O},l.isValid=function(y,_){return y?!l.getValidationError(y,_):!1},l.prototype.toString=function(){return this.toWIF()},l.prototype.toWIF=function(){var y=this.network,_=this.compressed,O;return _?O=r.concat([r.from([y.privatekey]),this.bn.toBuffer({size:32}),r.from([1])]):O=r.concat([r.from([y.privatekey]),this.bn.toBuffer({size:32})]),s.encode(O)},l.prototype.toBigNumber=function(){return this.bn},l.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},l.prototype.toHex=function(){return this.toBuffer().toString("hex")},l.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=h.fromPrivateKey(this)),this._pubkey},l.prototype.toAddress=function(y){var _=this.toPublicKey();return i.fromPublicKey(_,y||this.network)},l.prototype.toObject=l.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},l.prototype.inspect=function(){var y=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toHex()+", network: "+this.network+y+">"},t.exports=l});He("iSUUt",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("kooOK"),o=Y("j7ODq"),a=Y("cyjag"),u=Y("bTTXN"),c=Y("gk75r"),h=Y("arkeG");function f(p,l,y){if(!(this instanceof f))return new f(p,l,y);if(n.isArray(p)&&n.isNumber(l))return f.createMultisig(p,l,y);if(p instanceof f)return p;if(i.checkArgument(p,"First argument is required, please include address data.","guide/address.html"),l&&!a.get(l))throw new TypeError('Second argument must be "livenet", "testnet", or "regtest".');if(y&&y!==f.PayToPublicKeyHash&&y!==f.PayToScriptHash)throw new TypeError('Third argument must be "pubkeyhash" or "scripthash".');var _=this._classifyArguments(p,l,y);return _.network=_.network||a.get(l)||a.defaultNetwork,_.type=_.type||y||f.PayToPublicKeyHash,c.defineImmutable(this,{hashBuffer:_.hashBuffer,network:_.network,type:_.type}),this}f.prototype._classifyArguments=function(p,l,y){var _=Y("hkiTH");if((p instanceof r||p instanceof Uint8Array)&&p.length===20)return f._transformHash(p);if((p instanceof r||p instanceof Uint8Array)&&p.length===21)return f._transformBuffer(p,l,y);if(p instanceof h)return f._transformPublicKey(p);if(p instanceof _)return f._transformScript(p,l);if(typeof p=="string")return f._transformString(p,l,y);if(n.isObject(p))return f._transformObject(p);throw new TypeError("First argument is an unrecognized data format.")},f.PayToPublicKeyHash="pubkeyhash",f.PayToScriptHash="scripthash",f._transformHash=function(p){var l={};if(!(p instanceof r)&&!(p instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(p.length!==20)throw new TypeError("Address hashbuffers must be exactly 20 bytes.");return l.hashBuffer=p,l},f._transformObject=function(p){return i.checkArgument(p.hash||p.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(p.type,"Must provide a `type` property"),{hashBuffer:p.hash?r.from(p.hash,"hex"):p.hashBuffer,network:a.get(p.network)||a.defaultNetwork,type:p.type}},f._classifyFromVersion=function(p){var l={},y=a.get(p[0],"pubkeyhash"),_=a.get(p[0],"scripthash");return y?(l.network=y,l.type=f.PayToPublicKeyHash):_&&(l.network=_,l.type=f.PayToScriptHash),l},f._transformBuffer=function(p,l,y){var _={};if(!(p instanceof r)&&!(p instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(p.length!==21)throw new TypeError("Address buffers must be exactly 21 bytes.");var O=a.get(l),F=f._classifyFromVersion(p);if(l&&!O)throw new TypeError("Unknown network");if(!F.network||O&&O!==F.network)throw new TypeError("Address has mismatched network type.");if(!F.type||y&&y!==F.type)throw new TypeError("Address has mismatched type.");return _.hashBuffer=p.slice(1),_.network=F.network,_.type=F.type,_},f._transformPublicKey=function(p){var l={};if(!(p instanceof h))throw new TypeError("Address must be an instance of PublicKey.");return l.hashBuffer=u.sha256ripemd160(p.toBuffer()),l.type=f.PayToPublicKeyHash,l},f._transformScript=function(p,l){var y=Y("hkiTH");i.checkArgument(p instanceof y,"script must be a Script instance");var _=p.getAddressInfo(l);if(!_)throw new s.Script.CantDeriveAddress(p);return _},f.createMultisig=function(p,l,y){var _=Y("hkiTH");return y=y||p[0].network||a.defaultNetwork,f.payingTo(_.buildMultisigOut(p,l),y)},f._transformString=function(p,l,y){if(typeof p!="string")throw new TypeError("data parameter supplied is not a string.");if(p.length<27)throw new Error("Invalid Address string provided");p=p.trim();var _=a.get(l);if(l&&!_)throw new TypeError("Unknown network");var O=o.decode(p);return f._transformBuffer(O,l,y)},f.fromPublicKey=function(p,l){var y=f._transformPublicKey(p);return l=l||a.defaultNetwork,new f(y.hashBuffer,l,y.type)},f.fromPrivateKey=function(p,l){let y=h.fromPrivateKey(p);return l=l||p.network||a.defaultNetwork,f.fromPublicKey(y,l)},f.fromPublicKeyHash=function(p,l){var y=f._transformHash(p);return new f(y.hashBuffer,l,f.PayToPublicKeyHash)},f.fromScriptHash=function(p,l){i.checkArgument(p,"hash parameter is required");var y=f._transformHash(p);return new f(y.hashBuffer,l,f.PayToScriptHash)},f.payingTo=function(p,l){var y=Y("hkiTH");return i.checkArgument(p,"script is required"),i.checkArgument(p instanceof y,"script must be instance of Script"),f.fromScriptHash(u.sha256ripemd160(p.toBuffer()),l)},f.fromScript=function(p,l){var y=Y("hkiTH");i.checkArgument(p instanceof y,"script must be a Script instance");var _=f._transformScript(p,l);return new f(_.hashBuffer,l,_.type)},f.fromBuffer=function(p,l,y){var _=f._transformBuffer(p,l,y);return new f(_.hashBuffer,_.network,_.type)},f.fromHex=function(p,l,y){return f.fromBuffer(r.from(p,"hex"),l,y)},f.fromString=function(p,l,y){var _=f._transformString(p,l,y);return new f(_.hashBuffer,_.network,_.type)},f.fromObject=function(l){i.checkState(c.isHexa(l.hash),'Unexpected hash property, "'+l.hash+'", expected to be hex.');var y=r.from(l.hash,"hex");return new f(y,l.network,l.type)},f.getValidationError=function(p,l,y){var _;try{new f(p,l,y)}catch(O){_=O}return _},f.isValid=function(p,l,y){return!f.getValidationError(p,l,y)},f.prototype.isPayToPublicKeyHash=function(){return this.type===f.PayToPublicKeyHash},f.prototype.isPayToScriptHash=function(){return this.type===f.PayToScriptHash},f.prototype.toBuffer=function(){var p=r.from([this.network[this.type]]),l=r.concat([p,this.hashBuffer]);return l},f.prototype.toHex=function(){return this.toBuffer().toString("hex")},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},f.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},f.prototype.toString=function(){return o.encode(this.toBuffer())},t.exports=f});He("j7ODq",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("jG967"),s=Y("bTTXN"),o=s.sha256sha256,a=function u(c){if(!(this instanceof u))return new u(c);if(r.isBuffer(c)){var h=c;this.fromBuffer(h)}else if(typeof c=="string"){var f=c;this.fromString(f)}};a.prototype.set=function(u){return this.buf=u.buf||this.buf||void 0,this},a.validChecksum=function(c,h){return n.isString(c)&&(c=r.from(i.decode(c))),n.isString(h)&&(h=r.from(i.decode(h))),h||(h=c.slice(-4),c=c.slice(0,-4)),a.checksum(c).toString("hex")===h.toString("hex")},a.decode=function(u){if(typeof u!="string")throw new Error("Input must be a string");var c=r.from(i.decode(u));if(c.length<4)throw new Error("Input string too short");var h=c.slice(0,-4),f=c.slice(-4),p=o(h),l=p.slice(0,4);if(f.toString("hex")!==l.toString("hex"))throw new Error("Checksum mismatch");return h},a.checksum=function(u){return o(u).slice(0,4)},a.encode=function(u){if(!r.isBuffer(u))throw new Error("Input must be a buffer");var c=r.alloc(u.length+4),h=a.checksum(u);return u.copy(c),h.copy(c,u.length),i.encode(c)},a.prototype.fromBuffer=function(u){return this.buf=u,this},a.fromBuffer=function(u){return new a().fromBuffer(u)},a.fromHex=function(u){return a.fromBuffer(r.from(u,"hex"))},a.prototype.fromString=function(u){var c=a.decode(u);return this.buf=c,this},a.fromString=function(u){var c=a.decode(u);return new i(c)},a.prototype.toBuffer=function(){return this.buf},a.prototype.toHex=function(){return this.toBuffer().toString("hex")},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a});He("jG967",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),s=function o(a){if(!(this instanceof o))return new o(a);if(r.isBuffer(a)){var u=a;this.fromBuffer(u)}else if(typeof a=="string"){var c=a;this.fromString(c)}};s.validCharacters=function(a){return r.isBuffer(a)&&(a=a.toString()),n.every(n.map(a,function(u){return n.includes(i,u)}))},s.prototype.set=function(o){return this.buf=o.buf||this.buf||void 0,this},s.encode=function(o){if(!r.isBuffer(o))throw new Error("Input should be a buffer");return FS.encode(o)},s.decode=function(o){if(typeof o!="string")throw new Error("Input should be a string");return r.from(FS.decode(o))},s.prototype.fromBuffer=function(o){return this.buf=o,this},s.fromBuffer=function(o){return new s().fromBuffer(o)},s.fromHex=function(o){return s.fromBuffer(r.from(o,"hex"))},s.prototype.fromString=function(o){var a=s.decode(o);return this.buf=a,this},s.fromString=function(o){return new s().fromString(o)},s.prototype.toBuffer=function(){return this.buf},s.prototype.toHex=function(){return this.toBuffer().toString("hex")},s.prototype.toString=function(){return s.encode(this.buf)},t.exports=s});He("hkiTH",function(t,e){t.exports=Y("eIR83"),t.exports.Interpreter=Y("g4xmW"),t.exports.Stack=Y("bSS4t")});He("eIR83",function(t,e){var r=rr.Buffer,n=Y("iSUUt"),i=Y("2AZ1V"),s=Y("bTTXN"),o=Y("bpasi"),a=Y("arkeG"),u=Y("gIXub"),c=Y("cyjag"),h=Y("6gAsx"),f=Y("kBBbb"),p=Y("kooOK"),l=Y("gk75r"),y=Y("apNYJ"),_=Y("62MER"),O=Y("kndCV");let F=new WeakMap;var B=function E(I){if(!(this instanceof E))return new E(I);if(this.buffer=r.from([]),r.isBuffer(I))return E.fromBuffer(I);if(I instanceof n)return E.fromAddress(I);if(I instanceof E)return E.fromBuffer(I.toBuffer());if(f.isString(I))return E.fromString(I);if(f.isObject(I)&&f.isArray(I.chunks))return E.fromChunks(I.chunks);if(f.isObject(I)&&r.isBuffer(I.buffer))return E.fromBuffer(I.buffer)};B.prototype.set=function(E){if(h.checkArgument(f.isObject(E)),E.chunks&&f.isArray(E.chunks)){var I=B.fromChunks(E.chunks);return this.buffer=I.buffer,this}return h.checkArgument(r.isBuffer(E.buffer)),this.buffer=E.buffer,this},B.fromBuffer=function(E){h.checkArgument(r.isBuffer(E));var I=new B;return I.buffer=E,I},B.fromChunks=function(E){var I=new B;let U=new i;for(let N=0;N<E.length;N++){let H=E[N];U.writeUInt8(H.opcodenum),H.buf&&(H.opcodenum<o.OP_PUSHDATA1?U.write(H.buf):H.opcodenum===o.OP_PUSHDATA1?(U.writeUInt8(H.len),U.write(H.buf)):H.opcodenum===o.OP_PUSHDATA2?(U.writeUInt16LE(H.len),U.write(H.buf)):H.opcodenum===o.OP_PUSHDATA4&&(U.writeUInt32LE(H.len),U.write(H.buf)))}return I.buffer=U.toBuffer(),I},B.prototype.toBuffer=function(){return this.buffer},B.fromASM=function(E){return B.fromBuffer(_(E))},B.fromHex=function(E){return new B(r.from(E,"hex"))},B.fromString=function(E){if(l.isHexa(E)||E.length===0)return new B(r.from(E,"hex"));for(var I=[],U=E.split(" "),N=0;N<U.length;){var H=U[N],D=o(H),C=D.toNumber();if(f.isUndefined(C))if(C=parseInt(H),C>0&&C<o.OP_PUSHDATA1){var d=r.from(U[N+1].slice(2),"hex");if(d.length!==C)throw new Error("Invalid script buf len: "+JSON.stringify(E));I.push({buf:r.from(U[N+1].slice(2),"hex"),len:C,opcodenum:C}),N=N+2}else throw new Error("Invalid script: "+JSON.stringify(E));else if(C===o.OP_PUSHDATA1||C===o.OP_PUSHDATA2||C===o.OP_PUSHDATA4){if(U[N+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");I.push({buf:r.from(U[N+2].slice(2),"hex"),len:parseInt(U[N+1]),opcodenum:C}),N=N+3}else I.push({opcodenum:C}),N=N+1}return B.fromChunks(I)},B.prototype.slice=function(E,I){return this.buffer.slice(E,I)},Object.defineProperty(B.prototype,"chunks",{get(){if(F.has(this))return F.get(this);let E=y(this.buffer);return F.set(this,E),E}}),Object.defineProperty(B.prototype,"length",{get(){return this.buffer.length}}),B.prototype._chunkToString=function(E,I){var U=E.opcodenum,N=I==="asm",H="";if(E.buf)!N&&(U===o.OP_PUSHDATA1||U===o.OP_PUSHDATA2||U===o.OP_PUSHDATA4)&&(H=H+" "+o(U).toString()),E.len>0&&(N?H=H+" "+E.buf.toString("hex"):H=H+" "+E.len+" 0x"+E.buf.toString("hex"));else if(typeof o.reverseMap[U]<"u")N?U===0?H=H+" 0":U===79?H=H+" -1":H=H+" "+o(U).toString():H=H+" "+o(U).toString();else{var D=U.toString(16);D.length%2!==0&&(D="0"+D),N?H=H+" "+D:H=H+" 0x"+D}return H},B.prototype.toASM=function(){for(var E="",I=this.chunks,U=0;U<I.length;U++){var N=this.chunks[U];E+=this._chunkToString(N,"asm")}return E.substr(1)},B.prototype.toString=function(){for(var E="",I=0;I<this.chunks.length;I++){var U=this.chunks[I];E+=this._chunkToString(U)}return E.substr(1)},B.prototype.toHex=function(){return O(this.buffer)},B.prototype.inspect=function(){return"<Script: "+this.toString()+">"},B.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===o.OP_DUP&&this.chunks[1].opcodenum===o.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===o.OP_EQUALVERIFY&&this.chunks[4].opcodenum===o.OP_CHECKSIG)},B.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var E=this.chunks[0].buf,I=this.chunks[1].buf;if(E&&E.length&&E[0]===48&&I&&I.length){var U=I[0];if((U===4||U===6||U===7)&&I.length===65)return!0;if((U===3||U===2)&&I.length===33)return!0}}return!1},B.prototype.getPublicKey=function(){return h.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},B.prototype.getPublicKeyHash=function(){return h.checkState(this.isPublicKeyHashOut(),"Can't retrieve PublicKeyHash from a non-PKH output"),this.chunks[2].buf},B.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===o.OP_CHECKSIG){var E=this.chunks[0].buf,I=E[0],U=!1;if(((I===4||I===6||I===7)&&E.length===65||(I===3||I===2)&&E.length===33)&&(U=!0),U)return a.isValid(E)}return!1},B.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var E=this.chunks[0].buf;if(E&&E.length&&E[0]===48)return!0}return!1},B.prototype.isScriptHashOut=function(){var E=this.toBuffer();return E.length===23&&E[0]===o.OP_HASH160&&E[1]===20&&E[E.length-1]===o.OP_EQUAL},B.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var E=this.chunks[this.chunks.length-1],I=E.buf;if(!I)return!1;var U;try{U=B.fromBuffer(I)}catch(H){if(H instanceof p.Script.InvalidBuffer)return!1;throw H}var N=U.classify();return N!==B.types.UNKNOWN},B.prototype.isMultisigOut=function(){return this.chunks.length>3&&o.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(E){return E.buf&&r.isBuffer(E.buf)})&&o.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===o.OP_CHECKMULTISIG},B.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(E){return E.buf&&r.isBuffer(E.buf)&&u.isTxDER(E.buf)})},B.prototype.isDataOut=function(){var E=this.buffer.length>=1&&this.buffer[0]===o.OP_RETURN;if(!E)return!1;var I=this.buffer.slice(1),U=new B({buffer:I});return U.isPushOnly()},B.prototype.isSafeDataOut=function(){if(this.buffer.length<2||this.buffer[0]!==o.OP_FALSE)return!1;var E=this.buffer.slice(1),I=new B({buffer:E});return I.isDataOut()},B.prototype.getData=function(){if(this.isSafeDataOut()){var E=this.chunks.slice(2),I=E.map(U=>U.buf);return I}if(this.isDataOut()||this.isScriptHashOut())return f.isUndefined(this.chunks[1])?r.alloc(0):r.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return r.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},B.prototype.isPushOnly=function(){return f.every(this.chunks,function(E){return E.opcodenum<=o.OP_16||E.opcodenum===o.OP_PUSHDATA1||E.opcodenum===o.OP_PUSHDATA2||E.opcodenum===o.OP_PUSHDATA4})},B.types={},B.types.UNKNOWN="Unknown",B.types.PUBKEY_OUT="Pay to public key",B.types.PUBKEY_IN="Spend from public key",B.types.PUBKEYHASH_OUT="Pay to public key hash",B.types.PUBKEYHASH_IN="Spend from public key hash",B.types.SCRIPTHASH_OUT="Pay to script hash",B.types.SCRIPTHASH_IN="Spend from script hash",B.types.MULTISIG_OUT="Pay to multisig",B.types.MULTISIG_IN="Spend from multisig",B.types.DATA_OUT="Data push",B.types.SAFE_DATA_OUT="Safe data push",B.OP_RETURN_STANDARD_SIZE=220,B.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var E=this.classifyOutput();return E!==B.types.UNKNOWN?E:this.classifyInput()},B.outputIdentifiers={},B.outputIdentifiers.PUBKEY_OUT=B.prototype.isPublicKeyOut,B.outputIdentifiers.PUBKEYHASH_OUT=B.prototype.isPublicKeyHashOut,B.outputIdentifiers.MULTISIG_OUT=B.prototype.isMultisigOut,B.outputIdentifiers.SCRIPTHASH_OUT=B.prototype.isScriptHashOut,B.outputIdentifiers.DATA_OUT=B.prototype.isDataOut,B.outputIdentifiers.SAFE_DATA_OUT=B.prototype.isSafeDataOut,B.prototype.classifyOutput=function(){for(var E in B.outputIdentifiers)if(B.outputIdentifiers[E].bind(this)())return B.types[E];return B.types.UNKNOWN},B.inputIdentifiers={},B.inputIdentifiers.PUBKEY_IN=B.prototype.isPublicKeyIn,B.inputIdentifiers.PUBKEYHASH_IN=B.prototype.isPublicKeyHashIn,B.inputIdentifiers.MULTISIG_IN=B.prototype.isMultisigIn,B.inputIdentifiers.SCRIPTHASH_IN=B.prototype.isScriptHashIn,B.prototype.classifyInput=function(){for(var E in B.inputIdentifiers)if(B.inputIdentifiers[E].bind(this)())return B.types[E];return B.types.UNKNOWN},B.prototype.isStandard=function(){return this.classify()!==B.types.UNKNOWN},B.prototype.prepend=function(E){return this._addByType(E,!0),this},B.prototype.equals=function(E){if(h.checkState(E instanceof B,"Must provide another script"),this.buffer.length!==E.buffer.length)return!1;var I;for(I=0;I<this.buffer.length;I++)if(this.buffer[I]!==E.buffer[I])return!1;return!0},B.prototype.add=function(E){return this._addByType(E,!1),this},B.prototype._addByType=function(E,I){if(typeof E=="string")this._addOpcode(E,I);else if(typeof E=="number")this._addOpcode(E,I);else if(E instanceof o)this._addOpcode(E,I);else if(r.isBuffer(E))this._addBuffer(E,I);else if(E instanceof B)this._insertAtPosition(E.buffer,I);else if(typeof E=="object"){var U=B.fromChunks([E]);this._insertAtPosition(U.toBuffer(),I)}else throw new Error("Invalid script chunk")},B.prototype._insertAtPosition=function(E,I){var U=new i;I?(U.write(E),U.write(this.buffer)):(U.write(this.buffer),U.write(E)),this.buffer=U.toBuffer()},B.prototype._addOpcode=function(E,I){var U;if(typeof E=="number"?U=E:E instanceof o?U=E.toNumber():U=o(E).toNumber(),U>255)throw new p.Script.InvalidOpcode(U);return this._insertAtPosition(B.fromChunks([{opcodenum:U}]).toBuffer(),I),this},B.prototype._addBuffer=function(E,I){var U=new i,N,H=E.length;if(H===0)N=0,U.writeUInt8(N);else if(H>0&&H<o.OP_PUSHDATA1)N=H,U.writeUInt8(N),U.write(E);else if(H<Math.pow(2,8))N=o.OP_PUSHDATA1,U.writeUInt8(N),U.writeUInt8(H),U.write(E);else if(H<Math.pow(2,16))N=o.OP_PUSHDATA2,U.writeUInt8(N),U.writeUInt16LE(H),U.write(E);else if(H<Math.pow(2,32))N=o.OP_PUSHDATA4,U.writeUInt8(N),U.writeUInt32LE(H),U.write(E);else throw new Error("You can't push that much data");return this._insertAtPosition(U.toBuffer(),I),this},B.prototype.clone=function(){return B.fromBuffer(this.buffer.slice())},B.prototype.removeCodeseparators=function(){for(var E=[],I=0;I<this.chunks.length;I++)this.chunks[I].opcodenum!==o.OP_CODESEPARATOR&&E.push(this.chunks[I]);return F.delete(this),this.buffer=B.fromChunks(E).toBuffer(),this},B.prototype.subScript=function(E){for(var I=0,U=0;U<this.chunks.length;U++)if(this.chunks[U].opcodenum===o.OP_CODESEPARATOR){if(I===E)return B.fromChunks(this.chunks.slice(U+1));I++}return this},B.buildMultisigOut=function(E,I,U){h.checkArgument(I<=E.length,"Number of required signatures must be less than or equal to the number of public keys"),U=U||{};var N=new B;N.add(o.smallInt(I)),E=f.map(E,a);var H=E;U.noSorting||(H=E.map(d=>d.toString("hex")).sort().map(d=>new a(d)));for(var D=0;D<H.length;D++){var C=H[D];N.add(C.toBuffer())}return N.add(o.smallInt(E.length)),N.add(o.OP_CHECKMULTISIG),N},B.buildMultisigIn=function(E,I,U,N){h.checkArgument(f.isArray(E)),h.checkArgument(f.isNumber(I)),h.checkArgument(f.isArray(U)),N=N||{};var H=new B;return H.add(o.OP_0),f.each(U,function(D){h.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H},B.buildP2SHMultisigIn=function(E,I,U,N){h.checkArgument(f.isArray(E)),h.checkArgument(f.isNumber(I)),h.checkArgument(f.isArray(U)),N=N||{};var H=new B;return H.add(o.OP_0),f.each(U,function(D){h.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),H.add(D)}),H.add((N.cachedMultisig||B.buildMultisigOut(E,I,N)).toBuffer()),H},B.buildPublicKeyHashOut=function(E){h.checkArgument(!f.isUndefined(E)),h.checkArgument(E instanceof a||E instanceof n||f.isString(E)),E instanceof a?E=E.toAddress():f.isString(E)&&(E=new n(E));var I=new B;return I.add(o.OP_DUP).add(o.OP_HASH160).add(E.hashBuffer).add(o.OP_EQUALVERIFY).add(o.OP_CHECKSIG),I._network=E.network,I},B.buildPublicKeyOut=function(E){h.checkArgument(E instanceof a);var I=new B;return I.add(E.toBuffer()).add(o.OP_CHECKSIG),I},B.buildDataOut=function(E,I){h.checkArgument(f.isUndefined(E)||f.isString(E)||f.isArray(E)||r.isBuffer(E));var U=E;f.isArray(U)||(U=[E]);var N=new B;N.add(o.OP_RETURN);for(let H of U)h.checkArgument(f.isUndefined(H)||f.isString(H)||r.isBuffer(H)),f.isString(H)&&(H=r.from(H,I)),f.isUndefined(H)||N.add(H);return N},B.buildSafeDataOut=function(E,I){var U=B.buildDataOut(E,I),N=new B;return N.add(o.OP_FALSE),N.add(U),N},B.buildScriptHashOut=function(E){h.checkArgument(E instanceof B||E instanceof n&&E.isPayToScriptHash());var I=new B;return I.add(o.OP_HASH160).add(E instanceof n?E.hashBuffer:s.sha256ripemd160(E.toBuffer())).add(o.OP_EQUAL),I._network=E._network||E.network,I},B.buildPublicKeyIn=function(E,I){h.checkArgument(E instanceof u||r.isBuffer(E)),h.checkArgument(f.isUndefined(I)||f.isNumber(I)),E instanceof u&&(E=E.toBuffer());var U=new B;return U.add(r.concat([E,r.from([(I||u.SIGHASH_ALL)&255])])),U},B.buildPublicKeyHashIn=function(E,I,U){h.checkArgument(I instanceof u||r.isBuffer(I)),h.checkArgument(f.isUndefined(U)||f.isNumber(U)),I instanceof u&&(I=I.toBuffer());var N=new B().add(r.concat([I,r.from([(U||u.SIGHASH_ALL)&255])])).add(new a(E).toBuffer());return N},B.empty=function(){return new B},B.prototype.toScriptHashOut=function(){return B.buildScriptHashOut(this)},B.fromAddress=function(E){if(E=n(E),E.isPayToScriptHash())return B.buildScriptHashOut(E);if(E.isPayToPublicKeyHash())return B.buildPublicKeyHashOut(E);throw new p.Script.UnrecognizedAddress(E)},B.prototype.getAddressInfo=function(E){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var I=this._getOutputAddressInfo();return I||this._getInputAddressInfo()},B.prototype._getOutputAddressInfo=function(){var E={};if(this.isScriptHashOut())E.hashBuffer=this.getData(),E.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())E.hashBuffer=this.getData(),E.type=n.PayToPublicKeyHash;else return!1;return E},B.prototype._getInputAddressInfo=function(){var E={};if(this.isPublicKeyHashIn())E.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),E.type=n.PayToPublicKeyHash;else if(this.isScriptHashIn())E.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),E.type=n.PayToScriptHash;else return!1;return E},B.prototype.toAddress=function(E){var I=this.getAddressInfo();return I?(I.network=c.get(E)||this._network||c.defaultNetwork,new n(I)):!1},B.prototype.findAndDelete=function(E){for(var I=E.toBuffer(),U=I.toString("hex"),N=this.chunks,H=0;H<N.length;H++){var D=B.fromChunks([N[H]]),C=D.toBuffer(),d=C.toString("hex");U===d&&(N.splice(H,1),this.buffer=B.fromChunks(N).toBuffer())}return this},B.prototype.checkMinimalPush=function(E){var I=this.chunks[E],U=I.buf,N=I.opcodenum;return U?U.length===0?N===o.OP_0:U.length===1&&U[0]>=1&&U[0]<=16?N===o.OP_1+(U[0]-1):U.length===1&&U[0]===129?N===o.OP_1NEGATE:U.length<=75?N===U.length:U.length<=255?N===o.OP_PUSHDATA1:U.length<=65535?N===o.OP_PUSHDATA2:!0:!0},B.prototype._decodeOP_N=function(E){if(E===o.OP_0)return 0;if(E>=o.OP_1&&E<=o.OP_16)return E-(o.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(E))},B.prototype.getSignatureOperationsCount=function(E){E=f.isUndefined(E)?!0:E;var I=this,U=0,N=o.OP_INVALIDOPCODE;return f.each(I.chunks,function(D){var C=D.opcodenum;C===o.OP_CHECKSIG||C===o.OP_CHECKSIGVERIFY?U++:(C===o.OP_CHECKMULTISIG||C===o.OP_CHECKMULTISIGVERIFY)&&(E&&N>=o.OP_1&&N<=o.OP_16?U+=I._decodeOP_N(N):U+=20),N=C}),U},t.exports=B});He("2AZ1V",function(t,e){var r=rr.Buffer,n=Y("1gpKq"),i=Y("8H5li"),s=Y("cMUqj"),o=Y("lHHTh"),a=Y("dZClM");class u{constructor(h){h?this.set(h):(this.buffers=[],this.length=0)}write(h){return this.buffers.push(h),this.length+=h.length,this}set(h){return this.buffers=h.buffers||h.bufs||this.buffers||[],this.length=this.buffers.reduce(function(f,p){return f+p.length},0),this}concat(){return this.toBuffer()}toBuffer(){if(this.buffers.length===1)return r.from(this.buffers[0]);let h=new Uint8Array(this.length),f=0;return this.buffers.forEach(p=>{h.set(p,f),f+=p.length}),r.from(h)}writeReverse(h){return vf(r.isBuffer(h)),this.write(r.from(h).reverse()),this}writeUInt16LE(h){return i(this,h),this}writeUInt16BE(h){var f=new u;return f.writeUInt16LE(h),this.writeReverse(f.toBuffer()),this}writeUInt32LE(h){return s(this,h),this}writeUInt32BE(h){var f=new u;return f.writeUInt32LE(h),this.writeReverse(f.toBuffer()),this}writeUInt8(h){return n(this,h),this}writeUInt64LEBN(h){var f=h.toBuffer({size:8});return this.writeReverse(f),this}writeUInt64BEBN(h){var f=new u;return f.writeUInt64LEBN(h),this.writeReverse(f.toBuffer()),this}writeVarintNum(h){return a(this,h),this}writeInt32LE(h){return o(this,h),this}static varintBufNum(h){var f=new u;return f.writeVarintNum(h),f.toBuffer()}writeVarintBN(h){var f=h.toNumber();if(f<253)n(this,f);else if(f<65536)n(this,253),i(this,f);else if(f<4294967296)n(this,254),s(this,f);else{var p=new u;p.writeUInt8(255),p.writeUInt64LEBN(h);var l=p.toBuffer();this.write(l)}return this}}t.exports=u});He("1gpKq",function(t,e){function r(n,i){if(i>255)throw new Error("number too large");let s=new Uint8Array(1);return s[0]=i,n.write(s)}t.exports=r});He("8H5li",function(t,e){function r(n,i){if(i>65535)throw new Error("number too large");let s=new Uint8Array(2);return s[0]=i%256,i=i>>8,s[1]=i%256,n.write(s)}t.exports=r});He("cMUqj",function(t,e){function r(n,i){if(i>4294967295)throw new Error("number too large");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});He("lHHTh",function(t,e){function r(n,i){if(i<-2147483648||i>2147483647)throw new Error("Out of range. It must be >= -2147483648 and <= 2147483647.");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});He("dZClM",function(t,e){function r(n,i){if(i>Number.MAX_SAFE_INTEGER)throw new Error("varint too large");if(i<=252)return n.write([i]);if(i<=65535)return n.write([253,i%256,Math.floor(i/256)]);if(i<=4294967295){let o=new Uint8Array(5);return o[0]=254,o[1]=i%256,i=Math.floor(i/256),o[2]=i%256,i=Math.floor(i/256),o[3]=i%256,i=Math.floor(i/256),o[4]=i,n.write(o)}let s=new Uint8Array(9);return s[0]=255,s[1]=i%256,i=Math.floor(i/256),s[2]=i%256,i=Math.floor(i/256),s[3]=i%256,i=Math.floor(i/256),s[4]=i%256,i=Math.floor(i/256),s[5]=i%256,i=Math.floor(i/256),s[6]=i%256,i=Math.floor(i/256),s[7]=i%256,i=Math.floor(i/256),s[8]=i,n.write(s)}t.exports=r});He("bpasi",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("gk75r");function o(u){if(!(this instanceof o))return new o(u);var c;if(n.isNumber(u))c=u;else if(n.isString(u))c=o.map[u];else throw new TypeError('Unrecognized num type: "'+typeof u+'" for Opcode');return s.defineImmutable(this,{num:c}),this}o.fromBuffer=function(u){return i.checkArgument(r.isBuffer(u)),new o(Number("0x"+u.toString("hex")))},o.fromNumber=function(u){return i.checkArgument(n.isNumber(u)),new o(u)},o.fromString=function(u){i.checkArgument(n.isString(u));var c=o.map[u];if(typeof c>"u")throw new TypeError("Invalid opcodestr");return new o(c)},o.prototype.toHex=function(){return this.num.toString(16)},o.prototype.toBuffer=function(){return r.from(this.toHex(),"hex")},o.prototype.toNumber=function(){return this.num},o.prototype.toString=function(){var u=o.reverseMap[this.num];if(typeof u>"u")throw new Error("Opcode does not have a string representation");return u},o.prototype.toSafeString=function(){var u=o.reverseMap[this.num];return typeof u>"u"?this.toHex():u},o.smallInt=function(u){return i.checkArgument(n.isNumber(u),"Invalid Argument: n should be number"),i.checkArgument(u>=0&&u<=16,"Invalid Argument: n must be between 0 and 16"),u===0?o("OP_0"):new o(o.map.OP_1+u-1)},o.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SPLIT:127,OP_NUM2BIN:128,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},o.reverseMap=[];for(var a in o.map)o.reverseMap[o.map[a]]=a;n.extend(o,o.map),o.isSmallIntOp=function(u){return u instanceof o&&(u=u.toNumber()),u===o.map.OP_0||u>=o.map.OP_1&&u<=o.map.OP_16},o.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=o});He("apNYJ",function(t,e){function r(n){let i=[],s=0,o=0;for(;s<n.length;){let a=n[s];s+=1,a===0?(o=a,i.push({opcodenum:a,len:o})):a<76?(o=a,i.push({opcodenum:a,buf:n.slice(s,s+a),len:o}),s+=a):a===76?(o=n[s],s+=1,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):a===77?(o=n[s]|n[s+1]<<8,s+=2,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):a===78?(o=n[s]+n[s+1]*256+n[s+2]*65536+n[s+3]*16777216,s+=4,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):i.push({opcodenum:a})}return i}t.exports=r});He("62MER",function(t,e){var r=Y("5CDhN"),n=Y("bpasi"),i=Y("2AZ1V"),s=Y("gVSXN");function o(a){let u=a.split(" "),c=new i;return u.forEach(h=>{if(h in n)c.write([n[h]]);else if(h==="0")c.write([n.OP_0]);else if(h==="-1")c.write([n.OP_1NEGATE]);else{let f=r(h);s(c,f)}}),c.toBuffer()}t.exports=o});He("5CDhN",function(t,e){var r=rr.Buffer,n=Y("hAcaU");function i(s){if(typeof s!="string")throw new Error("not a string");if(s.startsWith("0x")&&(s=s.slice(2)),s.length%2===1&&(s="0"+s),!n(s))throw new Error("invalid hex string in script");if(typeof VARIANT>"u"||VARIANT==="browser"){let o=s.length/2,a=new Uint8Array(o),u=c=>c!==c;for(let c=0;c<o;++c){let h=parseInt(s.substr(c*2,2),16);if(u(h))throw new Error("bad hex char");a[c]=h}return a}else return r.from(s,"hex")}t.exports=i});He("hAcaU",function(t,e){let r=/^(?:[a-fA-F0-9][a-fA-F0-9])*$/;function n(i){return r.test(i)}t.exports=n});He("gVSXN",function(t,e){function r(n,i){if(i.length===0)n.write([0]);else if(i.length<=75)n.write([i.length]),n.write(i);else if(i.length<=255)n.write([76,i.length]),n.write(i);else if(i.length<=65535)n.write([77,i.length%256,i.length>>8]),n.write(i);else if(i.length<=4294967295){let s=new Uint8Array(5);s[0]=78;let o=i.length;s[1]=o%256,o=Math.floor(o/256),s[2]=o%256,o=Math.floor(o/256),s[3]=o%256,o=Math.floor(o/256),s[4]=o,n.write(s),n.write(i)}else throw new Error("data too large");return n}t.exports=r});He("kndCV",function(t,e){var r=rr.Buffer;let n=null;if(typeof VARIANT>"u"||VARIANT==="browser"){let i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];n=function(s){let o=s.length,a=new Array(o);for(let u=0;u<o;++u)a[u]=i[s[u]];return a.join("")}}else n=function(i){return i instanceof r?i.toString("hex"):r.from(i).toString("hex")};t.exports=n});He("g4xmW",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("eIR83"),s=Y("bpasi"),o=Y("dIoYd"),a=Y("bTTXN"),u=Y("gIXub"),c=Y("arkeG"),h=Y("bSS4t"),f=function l(y){if(!(this instanceof l))return new l(y);y?(this.initialize(),this.set(y)):this.initialize()};f.prototype.verify=function(l,y,_,O,F,B,E){var I=Y("7pkU6");if(n.isUndefined(_)&&(_=new I),n.isUndefined(O)&&(O=0),n.isUndefined(F)&&(F=0),F&f.SCRIPT_ENABLE_SIGHASH_FORKID&&(F|=f.SCRIPT_VERIFY_STRICTENC,!B))throw new Error("internal error - need satoshisBN to verify FORKID transactions");this.set({script:l,tx:_,nin:O,flags:F,satoshisBN:B,sighashScript:E});var U;if((F&f.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!l.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate("scriptSig"))return!1;F&f.SCRIPT_VERIFY_P2SH&&(U=this.stack.copy());var N=this.stack;if(this.initialize(),this.set({script:y,stack:N,tx:_,nin:O,flags:F,satoshisBN:B,sighashScript:E}),!this.evaluate("scriptPubkey"))return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var H=this.stack.stacktop(-1);if(!f.castToBool(H))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;if(F&f.SCRIPT_VERIFY_P2SH&&y.isScriptHashOut()){if(!l.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(U.length===0)throw new Error("internal error - stack copy empty");var D=U.stacktop(-1),C=i.fromBuffer(D);if(U.pop(),this.initialize(),this.set({script:C,stack:U,tx:_,nin:O,flags:F,satoshisBN:B}),!this.evaluate())return!1;if(U.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!f.castToBool(U.stacktop(-1)))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1}return(F&f.SCRIPT_VERIFY_CLEANSTACK)!==0&&this.stack.length!==1?(this.errstr="SCRIPT_ERR_CLEANSTACK",!1):!0},t.exports=f,f.prototype.initialize=function(l){this.stack=new h([]),this.altstack=new h([]),this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.nonTopLevelReturnAfterGenesis=!1,this.returned=!1},f.prototype.set=function(l){this.script=l.script||this.script,this.tx=l.tx||this.tx,this.nin=typeof l.nin<"u"?l.nin:this.nin,this.satoshisBN=l.satoshisBN||this.satoshisBN,this.stack=l.stack||this.stack,this.altstack=l.altstack||this.altstack,this.pc=typeof l.pc<"u"?l.pc:this.pc,this.pbegincodehash=typeof l.pbegincodehash<"u"?l.pbegincodehash:this.pbegincodehash,this.nOpCount=typeof l.nOpCount<"u"?l.nOpCount:this.nOpCount,this.vfExec=l.vfExec||this.vfExec,this.errstr=l.errstr||this.errstr,this.flags=typeof l.flags<"u"?l.flags:this.flags,this.sighashScript=l.sighashScript||this.sighashScript},f.prototype.subscript=function(){return this.sighashScript?this.sighashScript.clone():i.fromChunks(this.script.chunks.slice(this.pbegincodehash))},f.getTrue=()=>r.from([1]),f.getFalse=()=>r.from([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.MAXIMUM_ELEMENT_SIZE=4,f.LOCKTIME_THRESHOLD=5e8,f.LOCKTIME_THRESHOLD_BN=new o(f.LOCKTIME_THRESHOLD),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CLEANSTACK=256,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,f.SCRIPT_VERIFY_MINIMALIF=8192,f.SCRIPT_VERIFY_NULLFAIL=16384,f.SCRIPT_VERIFY_COMPRESSED_PUBKEYTYPE=32768,f.SCRIPT_ENABLE_SIGHASH_FORKID=65536,f.SCRIPT_ENABLE_REPLAY_PROTECTION=131072,f.SCRIPT_ENABLE_MONOLITH_OPCODES=262144,f.SCRIPT_ENABLE_MAGNETIC_OPCODES=524288,f.SEQUENCE_LOCKTIME_DISABLE_FLAG=-2147483648,f.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,f.SEQUENCE_LOCKTIME_MASK=65535,f.MAX_SCRIPT_SIZE=Number.MAX_SAFE_INTEGER,f.MAX_OPCODE_COUNT=Number.MAX_SAFE_INTEGER,f.DEFAULT_FLAGS=f.SCRIPT_ENABLE_MAGNETIC_OPCODES|f.SCRIPT_ENABLE_MONOLITH_OPCODES|f.SCRIPT_VERIFY_STRICTENC|f.SCRIPT_ENABLE_SIGHASH_FORKID|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_NULLFAIL|f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_MINIMALDATA|f.SCRIPT_VERIFY_NULLDUMMY|f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|f.SCRIPT_VERIFY_CLEANSTACK,f.castToBool=function(l){for(var y=0;y<l.length;y++)if(l[y]!==0)return!(y===l.length-1&&l[y]===128);return!1},f.prototype.checkSignatureEncoding=function(l){var y;if(l.length===0)return!0;if((this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))!==0&&!u.isTxDER(l))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&f.SCRIPT_VERIFY_LOW_S)!==0){if(y=u.fromTxFormat(l),!y.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&f.SCRIPT_VERIFY_STRICTENC)!==0){if(y=u.fromTxFormat(l),!y.hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;if(!(this.flags&f.SCRIPT_ENABLE_SIGHASH_FORKID)&&y.nhashtype&u.SIGHASH_FORKID)return this.errstr="SCRIPT_ERR_ILLEGAL_FORKID",!1;if(this.flags&f.SCRIPT_ENABLE_SIGHASH_FORKID&&!(y.nhashtype&u.SIGHASH_FORKID))return this.errstr="SCRIPT_ERR_MUST_USE_FORKID",!1}return!0},f.prototype.checkPubkeyEncoding=function(l){return(this.flags&f.SCRIPT_VERIFY_STRICTENC)!==0&&!c.isValid(l)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):!0},f._isMinimallyEncoded=function(l,y){return y=y||f.MAXIMUM_ELEMENT_SIZE,!(l.length>y||l.length>0&&(l[l.length-1]&127)===0&&(l.length<=1||(l[l.length-2]&128)===0))},f._minimallyEncode=function(l){if(l.length===0)return l;var y=l[l.length-1];if(y&127)return l;if(l.length===1)return r.from("");if(l[l.length-2]&128)return l;for(var _=l.length-1;_>0;_--)if(l[_-1]!==0)return l[_-1]&128?l[_++]=y:l[_-1]|=y,l.slice(0,_);return r.from("")},f.prototype.evaluate=function(l){if(this.script.toBuffer().length>f.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;!this.returned&&this.pc<this.script.chunks.length;){let _={pc:this.pc,fExec:this.vfExec.indexOf(!1)===-1,opcode:s.fromNumber(this.script.chunks[this.pc].opcodenum)};var y=this.step(l);if(this._callbackStep(_),!y)return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(_){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+_,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0},f.prototype._callbackStep=function(l){if(typeof this.stepListener=="function")try{this.stepListener(l)}catch(y){console.log(`Error in Step callback:${y}`)}},f.prototype._callbackStack=function(l,y,_){if(typeof this.stackListener=="function")try{this.stackListener(l,y,_)}catch(F){var O=this.script.chunks[y];console.error(`Error: ${F} in _updateStack pc: ${y}, opcode ${s.fromNumber(O.opcodenum).toSafeString()}`)}},f.prototype.checkLockTime=function(l){return!(!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&l.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&l.gte(f.LOCKTIME_THRESHOLD_BN))||l.gt(new o(this.tx.nLockTime))||this.tx.inputs[this.nin].isFinal())},f.prototype.checkSequence=function(l){var y=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||y&f.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var _=f.SEQUENCE_LOCKTIME_TYPE_FLAG|f.SEQUENCE_LOCKTIME_MASK,O=new o(y&_),F=l.and(_),B=new o(f.SEQUENCE_LOCKTIME_TYPE_FLAG);return!(!(O.lt(B)&&F.lt(B)||O.gte(B)&&F.gte(B))||F.gt(O))};function p(l,y){let _=l;for(;_.length<y;)_=r.concat([r.from([0]),_]);return _}f.prototype.step=function(l){var y=this;function _(ce){return y.stack.stacktop(ce)}function O(ce){return y.stack.vartop(ce)}function F(ce){switch(ce){case s.OP_2MUL:case s.OP_2DIV:return!0;case s.OP_INVERT:case s.OP_MUL:case s.OP_LSHIFT:case s.OP_RSHIFT:if((y.flags&f.SCRIPT_ENABLE_MAGNETIC_OPCODES)===0)return!0;break;case s.OP_DIV:case s.OP_MOD:case s.OP_SPLIT:case s.OP_CAT:case s.OP_AND:case s.OP_OR:case s.OP_XOR:case s.OP_BIN2NUM:case s.OP_NUM2BIN:if((y.flags&f.SCRIPT_ENABLE_MONOLITH_OPCODES)===0)return!0;break;default:break}return!1}var B=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA)!==0,E,I,U,N,H,D,C,d,v,g,m,S,w,R,T,b,x,P,L,V,W=this.script.chunks[this.pc];this.pc++;var ee=W.opcodenum;if(n.isUndefined(ee))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(W.buf&&W.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;var ae=this.vfExec.indexOf(!1)===-1&&(!this.nonTopLevelReturnAfterGenesis||ee===s.OP_RETURN);if(ee>s.OP_16&&++this.nOpCount>f.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(F(ee))return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(ae&&ee>=0&&ee<=s.OP_PUSHDATA4){if(B&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!W.buf)this.stack.push(f.getFalse());else{if(W.len!==W.buf.length)throw new Error(`Length of push value not equal to length of data (${W.len},${W.buf.length})`);this.stack.push(W.buf)}}else if(ae||s.OP_IF<=ee&&ee<=s.OP_ENDIF)switch(ee){case s.OP_1NEGATE:case s.OP_1:case s.OP_2:case s.OP_3:case s.OP_4:case s.OP_5:case s.OP_6:case s.OP_7:case s.OP_8:case s.OP_9:case s.OP_10:case s.OP_11:case s.OP_12:case s.OP_13:case s.OP_14:case s.OP_15:case s.OP_16:H=ee-(s.OP_1-1),E=new o(H).toScriptNumBuffer(),this.stack.push(E);break;case s.OP_NOP:break;case s.OP_NOP2:case s.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var se=o.fromScriptNumBuffer(this.stack.stacktop(-1),B,5);if(se.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(se))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP3:case s.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var j=o.fromScriptNumBuffer(_(-1),B,5);if(j.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((j&f.SEQUENCE_LOCKTIME_DISABLE_FLAG)!==0)break;if(!this.checkSequence(j))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP1:case s.OP_NOP4:case s.OP_NOP5:case s.OP_NOP6:case s.OP_NOP7:case s.OP_NOP8:case s.OP_NOP9:case s.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case s.OP_IF:case s.OP_NOTIF:if(b=!1,ae){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(E=_(-1),this.flags&f.SCRIPT_VERIFY_MINIMALIF){if(E.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(E.length===1&&E[0]!==1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}b=f.castToBool(E),ee===s.OP_NOTIF&&(b=!b),this.stack.pop()}this.vfExec.push(b);break;case s.OP_ELSE:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case s.OP_ENDIF:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case s.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(E=_(-1),b=f.castToBool(E),b)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1;break;case s.OP_RETURN:if((this.flags&f.SCRIPT_VERIFY_P2SH)===0){if(this.vfExec.length===0)return this.returned=!0,!0;this.nonTopLevelReturnAfterGenesis=!0}else return!1;break;case s.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-1),this.altstack.push(this.stack.pop(),P);break;case s.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;let ce=this.altstack.vartop(-1);this.stack.push(this.altstack.pop(),ce);break;case s.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case s.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-2),U=_(-1),P=O(-2),L=O(-1),this.stack.push(r.from(I),`$${P}`),this.stack.push(r.from(U),`$${L}`);break;case s.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-3),U=_(-2);var Z=_(-1);P=O(-3),L=O(-2),V=O(-1),this.stack.push(r.from(I),`$${P}`),this.stack.push(r.from(U),`$${L}`),this.stack.push(r.from(Z),`$${V}`);break;case s.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-4),U=_(-3),P=O(-4),L=O(-3),this.stack.push(r.from(I),`$${P}`),this.stack.push(r.from(U),`$${L}`);break;case s.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-6),L=O(-5),N=this.stack.splice(this.stack.length-6,2),this.stack.push(N[0],P),this.stack.push(N[1],L);break;case s.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-4),L=O(-3),N=this.stack.splice(this.stack.length-4,2),this.stack.push(N[0],P),this.stack.push(N[1],L);break;case s.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=_(-1),b=f.castToBool(E),b&&(P=O(-1),this.stack.push(r.from(E),`$${P}`));break;case s.OP_DEPTH:E=new o(this.stack.length).toScriptNumBuffer(),this.stack.push(E,"$depth");break;case s.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case s.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-1),this.stack.push(r.from(_(-1)),`$${P}`);break;case s.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case s.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;L=O(-2),this.stack.push(r.from(_(-2)),`$${L}`);break;case s.OP_PICK:case s.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(E=_(-1),d=o.fromScriptNumBuffer(E,B,4),H=d.toNumber(),this.stack.pop(),H<0||H>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=_(-H-1),P=O(-H-1),ee===s.OP_ROLL?(this.stack.splice(this.stack.length-H-1,1),this.stack.push(r.from(E),P)):this.stack.push(r.from(E),`$${P}`);break;case s.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=_(-3),C=_(-2);var Q=_(-1);P=O(-3),L=O(-2),V=O(-1),this.stack.write(-3,C),this.stack.write(-2,Q),this.stack.write(-1,D),this.stack.updateTopVars([P,V,L]);break;case s.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=_(-2),C=_(-1),P=O(-2),L=O(-1),this.stack.write(-2,C),this.stack.write(-1,D),this.stack.updateTopVars([P,L]);break;case s.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;P=O(-2),L=O(-1),this.stack.splice(this.stack.length-2,0,r.from(_(-1))),this.stack.updateTopVars([L,P,`$${L}`]);break;case s.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;d=new o(_(-1).length),this.stack.push(d.toScriptNumBuffer(),"$size");break;case s.OP_AND:case s.OP_OR:case s.OP_XOR:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-2),U=_(-1),I.length!==U.length)return this.errstr="SCRIPT_ERR_INVALID_OPERAND_SIZE",!1;switch(ee){case s.OP_AND:for(let oe=0;oe<I.length;oe++)I[oe]&=U[oe];break;case s.OP_OR:for(let oe=0;oe<I.length;oe++)I[oe]|=U[oe];break;case s.OP_XOR:for(let oe=0;oe<I.length;oe++)I[oe]^=U[oe];break;default:break}this.stack.pop();break;case s.OP_INVERT:this.stack.length<1&&(this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION"),E=_(-1);for(let oe=0;oe<E.length;oe++)E[oe]=~E[oe];break;case s.OP_LSHIFT:case s.OP_RSHIFT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-2),I.length===0)this.stack.pop();else{if(v=new o(I),g=o.fromScriptNumBuffer(_(-1),B,4),H=g.toNumber(),H<0)return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;this.stack.pop(),this.stack.pop();let oe;ee===s.OP_LSHIFT&&(oe=v.ushln(H)),ee===s.OP_RSHIFT&&(oe=v.ushrn(H));let pe=p(r.from(oe.toArray().slice(I.length*-1)),I.length);this.stack.push(pe)}break;case s.OP_EQUAL:case s.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-2),U=_(-1);var ne=I.toString("hex")===U.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(ne?f.getTrue():f.getFalse()),ee===s.OP_EQUALVERIFY)if(ne)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;break;case s.OP_1ADD:case s.OP_1SUB:case s.OP_NEGATE:case s.OP_ABS:case s.OP_NOT:case s.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(E=_(-1),d=o.fromScriptNumBuffer(E,B),ee){case s.OP_1ADD:d=d.add(o.One);break;case s.OP_1SUB:d=d.sub(o.One);break;case s.OP_NEGATE:d=d.neg();break;case s.OP_ABS:d.cmp(o.Zero)<0&&(d=d.neg());break;case s.OP_NOT:d=new o((d.cmp(o.Zero)===0)+0);break;case s.OP_0NOTEQUAL:d=new o((d.cmp(o.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(d.toScriptNumBuffer());break;case s.OP_ADD:case s.OP_SUB:case s.OP_MUL:case s.OP_MOD:case s.OP_DIV:case s.OP_BOOLAND:case s.OP_BOOLOR:case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:case s.OP_NUMNOTEQUAL:case s.OP_LESSTHAN:case s.OP_GREATERTHAN:case s.OP_LESSTHANOREQUAL:case s.OP_GREATERTHANOREQUAL:case s.OP_MIN:case s.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(v=o.fromScriptNumBuffer(_(-2),B),g=o.fromScriptNumBuffer(_(-1),B),d=new o(0),ee){case s.OP_ADD:d=v.add(g);break;case s.OP_SUB:d=v.sub(g);break;case s.OP_MUL:d=v.mul(g);break;case s.OP_DIV:if(g===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;d=v.div(g);break;case s.OP_MOD:if(g===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;d=v.mod(g);break;case s.OP_BOOLAND:d=new o((v.cmp(o.Zero)!==0&&g.cmp(o.Zero)!==0)+0);break;case s.OP_BOOLOR:d=new o((v.cmp(o.Zero)!==0||g.cmp(o.Zero)!==0)+0);break;case s.OP_NUMEQUAL:d=new o((v.cmp(g)===0)+0);break;case s.OP_NUMEQUALVERIFY:d=new o((v.cmp(g)===0)+0);break;case s.OP_NUMNOTEQUAL:d=new o((v.cmp(g)!==0)+0);break;case s.OP_LESSTHAN:d=new o((v.cmp(g)<0)+0);break;case s.OP_GREATERTHAN:d=new o((v.cmp(g)>0)+0);break;case s.OP_LESSTHANOREQUAL:d=new o((v.cmp(g)<=0)+0);break;case s.OP_GREATERTHANOREQUAL:d=new o((v.cmp(g)>=0)+0);break;case s.OP_MIN:d=v.cmp(g)<0?v:g;break;case s.OP_MAX:d=v.cmp(g)>0?v:g;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(d.toScriptNumBuffer()),ee===s.OP_NUMEQUALVERIFY)if(f.castToBool(_(-1)))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;break;case s.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;v=o.fromScriptNumBuffer(_(-3),B),g=o.fromScriptNumBuffer(_(-2),B);var ue=o.fromScriptNumBuffer(_(-1),B);b=g.cmp(v)<=0&&v.cmp(ue)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(b?f.getTrue():f.getFalse());break;case s.OP_RIPEMD160:case s.OP_SHA1:case s.OP_SHA256:case s.OP_HASH160:case s.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;E=_(-1);var ge;ee===s.OP_RIPEMD160?ge=a.ripemd160(E):ee===s.OP_SHA1?ge=a.sha1(E):ee===s.OP_SHA256?ge=a.sha256(E):ee===s.OP_HASH160?ge=a.sha256ripemd160(E):ee===s.OP_HASH256&&(ge=a.sha256sha256(E)),this.stack.pop(),this.stack.push(ge);break;case s.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case s.OP_CHECKSIG:case s.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(m=_(-2),S=_(-1),!this.checkSignatureEncoding(m)||!this.checkPubkeyEncoding(S))return!1;w=this.subscript();var xe=new i().add(m);w.findAndDelete(xe);try{R=u.fromTxFormat(m),T=c.fromBuffer(S,!1),x=this.tx.verifySignature(R,T,this.nin,w,this.satoshisBN,this.flags)}catch{x=!1}if(!x&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&m.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(x?f.getTrue():f.getFalse()),ee===s.OP_CHECKSIGVERIFY)if(x)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;break;case s.OP_CHECKMULTISIG:case s.OP_CHECKMULTISIGVERIFY:var Pe=1;if(this.stack.length<Pe)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Le=o.fromScriptNumBuffer(_(-Pe),B).toNumber();if(Le<0||Le>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=Le,this.nOpCount>f.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var ke=++Pe;Pe+=Le;var De=Le+2;if(this.stack.length<Pe)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Je=o.fromScriptNumBuffer(_(-Pe),B).toNumber();if(Je<0||Je>Le)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var Ae=++Pe;if(Pe+=Je,this.stack.length<Pe)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;w=this.subscript();for(var we=0;we<Je;we++)m=_(-Ae-we),w.findAndDelete(new i().add(m));for(x=!0;x&&Je>0;){if(m=_(-Ae),S=_(-ke),!this.checkSignatureEncoding(m)||!this.checkPubkeyEncoding(S))return!1;var mt;try{R=u.fromTxFormat(m),T=c.fromBuffer(S,!1),mt=this.tx.verifySignature(R,T,this.nin,w,this.satoshisBN,this.flags)}catch{mt=!1}mt&&(Ae++,Je--),ke++,Le--,Je>Le&&(x=!1)}for(;Pe-- >1;){if(!x&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&!De&&_(-1).length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;De>0&&De--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&_(-1).length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(x?f.getTrue():f.getFalse()),ee===s.OP_CHECKMULTISIGVERIFY)if(x)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;break;case s.OP_CAT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-2),U=_(-1),I.length+U.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.write(-2,r.concat([I,U])),this.stack.pop();break;case s.OP_SPLIT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;I=_(-2);var K=o.fromScriptNumBuffer(_(-1),B).toNumber();if(K<0||K>I.length)return this.errstr="SCRIPT_ERR_INVALID_SPLIT_RANGE",!1;var X=r.from(I);this.stack.write(-2,X.slice(0,K)),this.stack.write(-1,X.slice(K));break;case s.OP_NUM2BIN:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var G=o.fromScriptNumBuffer(_(-1),B).toNumber();if(G>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.pop();var z=_(-1);if(z=f._minimallyEncode(z),z.length>G)return this.errstr="SCRIPT_ERR_IMPOSSIBLE_ENCODING",!1;if(z.length===G){this.stack.write(-1,z);break}var J=0;z.length>0&&(J=z[z.length-1]&128,z[z.length-1]&=127);var te=r.alloc(G);z.copy(te,0);for(var re=z.length-1;re++<G-2;)te[re]=0;te[re]=J,this.stack.write(-1,te);break;case s.OP_BIN2NUM:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(I=_(-1),U=f._minimallyEncode(I),this.stack.write(-1,U),!f._isMinimallyEncoded(U))return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.vfExec.indexOf(!1)===-1&&this._callbackStack(this.stack,this.pc,l),!0}});He("bSS4t",function(t,e){"use strict";var r=function(s,o){this.stack=s,this.varStack=o||[]};t.exports=r,r.prototype.pushVar=function(i){this.varStack.push(i||"$tmp")},r.prototype.popVar=function(){this.varStack.pop()},r.prototype.push=function(i,s){this.pushVar(s),this.stack.push(i),this.checkConsistency()},r.prototype.pop=function(){this.popVar();let i=this.stack.pop();return this.checkConsistency(),i},r.prototype.updateTopVars=function(i){if(i.length>this.varStack.length)throw new Error(`updateTopVars fail, stack: ${this.stack.length},  varStack: ${this.varStack.length}, vars:${i.length}`);i=i.reverse(),this.varStack.splice(this.varStack.length-i.length,i.length,...i)},r.prototype.stacktop=function(i){return this.stack[this.stack.length+i]},r.prototype.vartop=function(i){return this.varStack[this.varStack.length+i]},r.prototype.slice=function(i,s){return this.stack.slice(i,s)},r.prototype.splice=function(i,s,...o){return this.varStack.splice(i,s,...o),this.stack.splice(i,s,...o)},r.prototype.write=function(i,s){this.stack[this.stack.length+i]=s},r.prototype.copy=function(){return new r(this.stack.slice()||[],this.varStack.slice()||[])};function n(i){return i.reduce(function(s,o){return s+=("0"+(o&255).toString(16)).slice(-2),s},"")}r.prototype.printVarStack=function(){let i=this.varStack.map((s,o)=>({name:s,value:n(this.rawstack[o].data)}));console.log(JSON.stringify(i,null,4))},r.prototype.checkConsistency=function(){if(this.stack.length!==this.varStack.length)throw this.printVarStack(),new Error(`checkConsistency fail, stack: ${this.stack.length}, varStack:${this.varStack.length}`)},r.prototype.checkConsistencyWithVars=function(i){if(this.stack.length<i.length)throw this.printVarStack(),new Error(`checkConsistencyWithVars fail, stack: ${this.stack.length}, varStack:${i.length}`)},Object.defineProperty(r.prototype,"length",{get:function(){return this.stack.length}}),Object.defineProperty(r.prototype,"rawstack",{get:function(){return this.stack}})});He("7pkU6",function(t,e){t.exports=Y("98CPZ"),t.exports.Input=Y("dQaOn"),t.exports.Output=Y("bczuf"),t.exports.UnspentOutput=Y("G1usC"),t.exports.Signature=Y("4Dqlv"),t.exports.Sighash=Y("95EnH")});He("98CPZ",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("kooOK"),o=Y("gk75r"),a=Y("28ku8"),u=Y("2AZ1V"),c=Y("1zMJW"),h=Y("bTTXN"),f=Y("gIXub"),p=Y("95EnH"),l=Y("iSUUt"),y=Y("G1usC"),_=Y("dQaOn"),O=_.PublicKeyHash,F=_.PublicKey,B=_.MultiSigScriptHash,E=_.MultiSig,I=Y("bczuf"),U=Y("hkiTH"),N=Y("7smYJ"),H=Y("dIoYd");function D(m){if(!(this instanceof D))return new D(m);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,this._inputsMap=new Map,this._outputsMap=new Map,this._privateKey=void 0,this._sigType=void 0,this.sealed=!1,m){if(m instanceof D)return D.shallowCopy(m);if(o.isHexa(m))this.fromString(m);else if(r.isBuffer(m))this.fromBuffer(m);else if(n.isObject(m))this.fromObject(m);else throw new s.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var C=1,d=0;D.DUST_AMOUNT=1,D.FEE_SECURITY_MARGIN=150,D.MAX_MONEY=21e6*1e8,D.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,D.NLOCKTIME_MAX_VALUE=4294967295,D.FEE_PER_KB=50,D.CHANGE_OUTPUT_MAX_SIZE=62,D.DUMMY_PRIVATEKEY=N.fromWIF("cQ3nCBQB9RsFSyjNQM15NQLVpXXMtWh9PUyeFz5KxLJCHsuRH2Su"),D.shallowCopy=function(m){var S=new D(m.toBuffer());return S};var v={configurable:!1,enumerable:!0,get:function(){return this._hash=new a(this._getHash()).readReverse().toString("hex"),this._hash}};Object.defineProperty(D.prototype,"hash",v),Object.defineProperty(D.prototype,"id",v);var g={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(D.prototype,"inputAmount",g),g.get=function(){return this._getOutputAmount()},Object.defineProperty(D.prototype,"outputAmount",g),D.prototype._getHash=function(){return h.sha256sha256(this.toBuffer())},D.prototype.serialize=function(m){return m===!0||m&&m.disableAll?this.uncheckedSerialize():this.checkedSerialize(m)},D.prototype.uncheckedSerialize=D.prototype.toString=function(){return this.toBuffer().toString("hex")},D.prototype.checkedSerialize=function(m){var S=this.getSerializationError(m);if(S)throw S.message+=" - For more information please see: https://bsv.io/api/lib/transaction#serialization-checks",S;return this.uncheckedSerialize()},D.prototype.invalidSatoshis=function(){for(var m=!1,S=0;S<this.outputs.length;S++)this.outputs[S].invalidSatoshis()&&(m=!0);return m},D.prototype.getSerializationError=function(m){if(m=m||{},this.invalidSatoshis())return new s.Transaction.InvalidSatoshis;var S=this.getUnspentValue(),w;return S<0?m.disableMoreOutputThanInput||(w=new s.Transaction.InvalidOutputAmountSum):w=this._hasFeeError(m,S),w||this._hasDustOutputs(m)||this._isMissingSignatures(m)},D.prototype._hasFeeError=function(m,S){if(!n.isUndefined(this._fee)&&this._fee!==S)return new s.Transaction.FeeError.Different("Unspent value is "+S+" but specified fee is "+this._fee);if(!m.disableLargeFees){var w=Math.floor(D.FEE_SECURITY_MARGIN*this._estimateFee());if(S>w)return this._missingChange()?new s.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new s.Transaction.FeeError.TooLarge("expected less than "+w+" but got "+S)}},D.prototype._missingChange=function(){return!this._changeScript},D.prototype._hasDustOutputs=function(m){if(!m.disableDustOutputs){var S,w;for(S in this.outputs)if(w=this.outputs[S],w.satoshis<D.DUST_AMOUNT&&!w.script.isDataOut()&&!w.script.isSafeDataOut())return new s.Transaction.DustOutputs}},D.prototype._isMissingSignatures=function(m){if(!m.disableIsFullySigned&&!this.isFullySigned())return new s.Transaction.MissingSignatures},D.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},D.prototype.toBuffer=function(){var m=new u;return this.toBufferWriter(m).toBuffer()},D.prototype.toBufferWriter=function(m){return m.writeUInt32LE(this.version),m.writeVarintNum(this.inputs.length),n.each(this.inputs,function(S){S.toBufferWriter(m)}),m.writeVarintNum(this.outputs.length),n.each(this.outputs,function(S){S.toBufferWriter(m)}),m.writeUInt32LE(this.nLockTime),m},D.prototype.fromBuffer=function(m){var S=new a(m);return this.fromBufferReader(S)},D.prototype.fromBufferReader=function(m){i.checkArgument(!m.finished(),"No transaction data received");var S,w,R;for(this.version=m.readInt32LE(),w=m.readVarintNum(),S=0;S<w;S++){var T=_.fromBufferReader(m);this.inputs.push(T)}for(R=m.readVarintNum(),S=0;S<R;S++)this.outputs.push(I.fromBufferReader(m));return this.nLockTime=m.readUInt32LE(),this},D.prototype.toObject=D.prototype.toJSON=function(){var S=[];this.inputs.forEach(function(T){S.push(T.toObject())});var w=[];this.outputs.forEach(function(T){w.push(T.toObject())});var R={hash:this.hash,version:this.version,inputs:S,outputs:w,nLockTime:this.nLockTime};return this._changeScript&&(R.changeScript=this._changeScript.toString()),this._changeScript&&(R.changeAddress=this._changeAddress.toString()),n.isUndefined(this._changeIndex)||(R.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(R.fee=this._fee),R},D.prototype.fromObject=function(S){i.checkArgument(n.isObject(S)||S instanceof D);var w=this,R;return S instanceof D?R=R.toObject():R=S,n.each(R.inputs,function(T){if(!T.output||!T.output.script){w.uncheckedAddInput(new _(T));return}var b=new U(T.output.script),x;if(b.isPublicKeyHashOut())x=new _.PublicKeyHash(T);else if(b.isScriptHashOut()&&T.publicKeys&&T.threshold)x=new _.MultiSigScriptHash(T,T.publicKeys,T.threshold,T.signatures);else if(b.isPublicKeyOut())x=new _.PublicKey(T);else throw new s.Transaction.Input.UnsupportedScript(T.output.script);w.addInput(x)}),n.each(R.outputs,function(T){w.addOutput(new I(T))}),R.changeIndex&&(this._changeIndex=R.changeIndex),R.changeScript&&(this._changeScript=new U(R.changeScript)),R.changeAddress&&(this._changeAddress=l.fromString(R.changeAddress)),R.fee&&(this._fee=R.fee),this.nLockTime=R.nLockTime,this.version=R.version,this._checkConsistency(S),this},D.prototype._checkConsistency=function(m){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this._changeAddress,"Change address is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),m&&m.hash&&i.checkState(m.hash===this.hash,"Hash in object does not match transaction hash.")},D.prototype.lockUntilDate=function(m){if(i.checkArgument(m),n.isNumber(m)&&m<D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.LockTimeTooEarly;n.isDate(m)&&(m=m.getTime()/1e3);for(var S=0;S<this.inputs.length;S++)this.inputs[S].sequenceNumber===_.DEFAULT_SEQNUMBER&&(this.inputs[S].sequenceNumber=_.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=m,this},D.prototype.lockUntilBlockHeight=function(m){if(i.checkArgument(n.isNumber(m)),m>=D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.BlockHeightTooHigh;if(m<0)throw new s.Transaction.NLockTimeOutOfRange;for(var S=0;S<this.inputs.length;S++)this.inputs[S].sequenceNumber===_.DEFAULT_SEQNUMBER&&(this.inputs[S].sequenceNumber=_.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=m,this},D.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<D.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},D.prototype.fromString=function(m){this.fromBuffer(r.from(m,"hex"))},D.prototype._newTransaction=function(){this.version=C,this.nLockTime=d},D.prototype.from=function(m,S,w){if(n.isArray(m)){var R=this;return n.each(m,function(b){R.from(b,S,w)}),this}var T=n.some(this.inputs,function(b){return b.prevTxId.toString("hex")===m.txId&&b.outputIndex===m.outputIndex});return T?this:(S&&w?this._fromMultisigUtxo(m,S,w):this._fromNonP2SH(m),this)},D.prototype._fromNonP2SH=function(m){var S;m=new y(m),m.script.isPublicKeyHashOut()?S=O:m.script.isPublicKeyOut()?S=F:S=_,this.addInput(new S({output:new I({script:m.script,satoshis:m.satoshis}),prevTxId:m.txId,outputIndex:m.outputIndex,script:U.empty()}))},D.prototype._fromMultisigUtxo=function(m,S,w){i.checkArgument(w<=S.length,"Number of required signatures must be greater than the number of public keys");var R;if(m=new y(m),m.script.isMultisigOut())R=E;else if(m.script.isScriptHashOut())R=B;else throw new Error("@TODO");this.addInput(new R({output:new I({script:m.script,satoshis:m.satoshis}),prevTxId:m.txId,outputIndex:m.outputIndex,script:U.empty()},S,w))},D.prototype.addInput=function(m,S,w){if(i.checkArgumentType(m,_,"input"),!m.output&&(n.isUndefined(S)||n.isUndefined(w)))throw new s.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!m.output&&S&&!n.isUndefined(w)&&(S=S instanceof U?S:new U(S),i.checkArgumentType(w,"number","satoshis"),m.output=new I({script:S,satoshis:w})),this.uncheckedAddInput(m)},D.prototype.uncheckedAddInput=function(m){return i.checkArgumentType(m,_,"input"),this.inputs.push(m),this._inputAmount=void 0,this._updateChangeOutput(),this},D.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map(function(m){return!!m.output}))},D.prototype.fee=function(m){return i.checkArgument(n.isNumber(m),"amount must be a number"),this._fee=m,this._updateChangeOutput(),this},D.prototype.feePerKb=function(m){return i.checkArgument(n.isNumber(m),"amount must be a number"),this._feePerKb=m,this._updateChangeOutput(),this},D.prototype.change=function(m){return i.checkArgument(m,"address is required"),this._changeScript=U.fromAddress(m),this._changeAddress=l(m),this._updateChangeOutput(),this},D.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},D.prototype.getChangeAddress=function(){return this._changeAddress?this._changeAddress:null},D.prototype.to=function(m,S){if(n.isArray(m)){var w=this;return n.each(m,function(R){w.to(R.address,R.satoshis)}),this}return i.checkArgument(o.isNaturalNumber(S),"Amount is expected to be a positive integer"),this.addOutput(new I({script:U(new l(m)),satoshis:S})),this},D.prototype.addData=function(m){return this.addOutput(new I({script:U.buildDataOut(m),satoshis:0})),this},D.prototype.addSafeData=function(m){return this.addOutput(new I({script:U.buildSafeDataOut(m),satoshis:0})),this},D.prototype.addOutput=function(m){return i.checkArgumentType(m,I,"output"),this._addOutput(m),this._updateChangeOutput(),this},D.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},D.prototype._addOutput=function(m){this.outputs.push(m),this._outputAmount=void 0},D.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var m=this;this._outputAmount=0,n.each(this.outputs,function(S){m._outputAmount+=S.satoshis})}return this._outputAmount},D.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var m=this;this._inputAmount=0,n.each(this.inputs,function(S){if(n.isUndefined(S.output))throw new s.Transaction.Input.MissingPreviousOutput;m._inputAmount+=S.output.satoshis})}return this._inputAmount},D.prototype._updateChangeOutput=function(){if(this.sealed)throw new s.Transaction.TransactionAlreadySealed;if(!!this._changeScript){n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex),this._changeIndex=this.outputs.length,this._addOutput(new I({script:this._changeScript,satoshis:0}));var m=this.getUnspentValue(),S=this.getFee(),w=m-S;this._removeOutput(this._changeIndex),this._changeIndex=void 0,w>=D.DUST_AMOUNT&&(this._changeIndex=this.outputs.length,this._addOutput(new I({script:this._changeScript,satoshis:w}))),this._clearSignatures()}},D.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this.getUnspentValue():this._fee},D.prototype._estimateFee=function(){var m=this._estimateSize();return Math.ceil(m/1e3*(this._feePerKb||D.FEE_PER_KB))},D.prototype.getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},D.prototype._clearSignatures=function(){n.each(this.inputs,function(m){m.clearSignatures()})},D.prototype.getEstimateSize=function(){return this._estimateSize()},D.prototype._estimateSize=function(){var m=8;return m+=c(this.inputs.length).toBuffer().length,m+=c(this.outputs.length).toBuffer().length,n.each(this.inputs,function(S){m+=S._estimateSize()}),n.each(this.outputs,function(S){m+=S.getSize()}),m},D.prototype._removeOutput=function(m){var S=this.outputs[m];this.outputs=n.without(this.outputs,S),this._outputAmount=void 0},D.prototype.removeOutput=function(m){this._removeOutput(m),this._updateChangeOutput()},D.prototype.sort=function(){return this.sortInputs(function(m){var S=Array.prototype.concat.apply([],m);return S.sort(function(w,R){return w.prevTxId.compare(R.prevTxId)||w.outputIndex-R.outputIndex}),S}),this.sortOutputs(function(m){var S=Array.prototype.concat.apply([],m);return S.sort(function(w,R){return w.satoshis-R.satoshis||w.script.toBuffer().compare(R.script.toBuffer())}),S}),this},D.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},D.prototype.sortOutputs=function(m){var S=m(this.outputs);return this._newOutputOrder(S)},D.prototype.sortInputs=function(m){return this.inputs=m(this.inputs),this._clearSignatures(),this},D.prototype._newOutputOrder=function(m){var S=this.outputs.length!==m.length||n.difference(this.outputs,m).length!==0;if(S)throw new s.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var w=this.outputs[this._changeIndex];this._changeIndex=m.indexOf(w)}return this.outputs=m,this},D.prototype.removeInput=function(m,S){var w;if(!S&&n.isNumber(m)?w=m:w=n.findIndex(this.inputs,function(T){return T.prevTxId.toString("hex")===m&&T.outputIndex===S}),w<0||w>=this.inputs.length)throw new s.Transaction.InvalidIndex(w,this.inputs.length);var R=this.inputs[w];this.inputs=n.without(this.inputs,R),this._inputAmount=void 0,this._updateChangeOutput()},D.prototype.sign=function(m,S){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var w=this;return n.isArray(m)?(n.each(m,function(R){w.sign(R,S)}),this):(n.each(this.getSignatures(m,S),function(R){w.applySignature(R)}),this._privateKey=m,this._sigType=S,this)},D.prototype.getSignatures=function(m,S){m=new N(m),S=S||f.SIGHASH_ALL|f.SIGHASH_FORKID;var w=this,R=[],T=h.sha256ripemd160(m.publicKey.toBuffer());return n.each(this.inputs,function(x,P){n.each(x.getSignatures(w,m,P,S,T),function(L){R.push(L)})}),R},D.prototype.applySignature=function(m){return this.inputs[m.inputIndex].addSignature(this,m),this},D.prototype.isFullySigned=function(){return n.each(this.inputs,function(m){if(m.isFullySigned===_.prototype.isFullySigned)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")}),n.every(n.map(this.inputs,function(m){return m.isFullySigned()}))},D.prototype.isValidSignature=function(m){var S=this;if(this.inputs[m.inputIndex].isValidSignature===_.prototype.isValidSignature)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[m.inputIndex].isValidSignature(S,m)},D.prototype.verifySignature=function(m,S,w,R,T,b){return p.verify(this,m,S,w,R,T,b)},D.prototype.verify=function(m){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var S=new H(0),w=0;w<this.outputs.length;w++){var R=this.outputs[w];if(R.invalidSatoshis())return"transaction txout "+w+" satoshis is invalid";if(R._satoshisBN.gt(new H(D.MAX_MONEY,10)))return"transaction txout "+w+" greater than MAX_MONEY";if(S=S.add(R._satoshisBN),S.gt(new H(D.MAX_MONEY)))return"transaction txout "+w+" total output greater than MAX_MONEY"}var T={};for(w=0;w<this.inputs.length;w++){var b=this.inputs[w],x=b.prevTxId+":"+b.outputIndex;if(!n.isUndefined(T[x]))return"transaction input "+w+" duplicate input";T[x]=!0}var P=this.isCoinbase();if(P){var L=this.inputs[0]._scriptBuffer;if(L.length<2||L.length>100)return"coinbase transaction script size invalid"}else for(w=0;w<this.inputs.length;w++){if(this.inputs[w].isNull())return"transaction input "+w+" has null input";if(!m){var V=this.inputs[w].verify(this,w);if(!V.success)return"transaction input "+w+" VerifyError: "+V.error}}return!0},D.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()},D.prototype.setInputScript=function(m,S){var w=0,R,T,b=!1;if(typeof m=="number"?(w=m,T=f.SIGHASH_ALL|f.SIGHASH_FORKID):(w=m.inputIndex||0,R=m.privateKey,T=m.sigtype||f.SIGHASH_ALL|f.SIGHASH_FORKID,b=m.isLowS||!1),S instanceof Function){var x=this.inputs[w].output;this._inputsMap.set(w,{sigtype:T,privateKey:R,isLowS:b,callback:S});var P=S(this,x);this.inputs[w].setScript(P)}else this.inputs[w].setScript(S);return this},D.prototype.setInputScriptAsync=async function(m,S){var w=0,R,T=!1;if(typeof m=="number"?(w=m,R=f.SIGHASH_ALL|f.SIGHASH_FORKID):(w=m.inputIndex||0,R=m.sigtype||f.SIGHASH_ALL|f.SIGHASH_FORKID,T=m.isLowS||!1),S instanceof Function){var b=this.inputs[w].output;this._inputsMap.set(w,{sigtype:R,isLowS:T,callback:S});var x=await S(this,b);this.inputs[w].setScript(x)}else throw new s.InvalidArgument("Must provide a callback returns a unlocking script");return this},D.prototype.setInputSequence=function(m,S){return this.inputs[m].sequenceNumber=S,this},D.prototype.setOutput=function(m,S){return S instanceof Function?(this._outputsMap.set(m,S),this.outputs[m]=S(this)):this.outputs[m]=S,this._updateChangeOutput(),this},D.prototype.seal=function(){var m=this;return this._outputsMap.forEach(function(S,w){m.outputs[w]=S(m)}),this._updateChangeOutput(),this._inputsMap.forEach(function(S,w){var R=m.inputs[w].output,T=S.callback(m,R);m.inputs[w].setScript(T)}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.sealAsync=async function(){var m=this;this._outputsMap.forEach(function(w,R){m.outputs[R]=w(m)}),this._updateChangeOutput();var S=[];return this._inputsMap.forEach(function(w,R){var T=m.inputs[R].output;S.push(Promise.resolve(w.callback(m,T)).then(b=>({key:R,unlockScript:b})))}),await Promise.all(S).then(w=>{w.forEach(({key:R,unlockScript:T})=>{m.inputs[R].setScript(T)})}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.setLockTime=function(m){return this.nLockTime=m,this},D.prototype.getChangeAmount=function(){return n.isUndefined(this._changeIndex)?0:this.outputs[this._changeIndex].satoshis},D.prototype.getEstimateFee=function(){return this._estimateFee()},D.prototype.checkFeeRate=function(m){var S=this.getUnspentValue(),w=this._estimateSize(),R=(m||this._feePerKb||D.FEE_PER_KB)/1e3,T=S/w;return T>=R},D.prototype.prevouts=function(){var m=new u;n.each(this.inputs,function(w){m.writeReverse(w.prevTxId),m.writeUInt32LE(w.outputIndex)});var S=m.toBuffer();return S.toString("hex")},D.prototype.isSealed=function(){return this.sealed},D.prototype.getPreimage=function(m,S,w,R){i.checkArgumentType(m,"number","inputIndex"),S=S||f.SIGHASH_ALL|f.SIGHASH_FORKID,w=w||!1,m=m||0;var T=this.inputs[m].getPreimage(this,m,S,w,R);return T.toString("hex")},D.prototype.getSignature=function(m,S,w){i.checkArgumentType(m,"number","inputIndex");var R=[],T=(this._inputsMap||new Map).get(m);if(S=S||(T?T.privateKey:this._privateKey),S){w=w||f.SIGHASH_ALL|f.SIGHASH_FORKID;var b=this.inputs[m].getSignatures(this,S,m,w);return n.each(b,function(x){R.push(x.signature.toTxFormat().toString("hex"))}),R.length===1?R[0]:R}return[]},D.prototype.addInputFromPrevTx=function(m,S){i.checkArgumentType(m,D,"prevTx");var w=S||0;let R=m.outputs[w];return R.script.isPublicKeyHashOut()?this.addInput(new O({prevTxId:m.id,outputIndex:w,script:new U(""),output:R})):this.addInput(new _({prevTxId:m.id,outputIndex:w,script:new U(""),output:R}))},D.prototype.addDummyInput=function(m,S){return i.checkArgumentType(m,U,"script"),i.checkArgumentType(S,"number","satoshis"),this.addInput(new _({prevTxId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:new U(""),output:new I({script:m,satoshis:S})}))},D.prototype.dummyChange=function(){return this.change(D.DUMMY_PRIVATEKEY.toAddress())},D.prototype.verifyScript=function(m){if(i.checkArgumentType(m,"number","inputIndex"),!this.inputs[m])throw new s.Transaction.Input.MissingInput;return this.inputs[m].verify(this,m)},D.prototype.verifyInputScript=function(m){return this.verifyScript(m)},D.prototype.getInputAmount=function(m){if(i.checkArgumentType(m,"number","inputIndex"),!this.inputs[m])throw new s.Transaction.Input.MissingInput;return this.inputs[m].output.satoshis},D.prototype.getOutputAmount=function(m){if(i.checkArgumentType(m,"number","outputIndex"),!this.outputs[m])throw new s.Transaction.MissingOutput;return this.outputs[m].satoshis},t.exports=D});He("28ku8",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("dIoYd"),o=function a(u){if(!(this instanceof a))return new a(u);if(!n.isUndefined(u))if(r.isBuffer(u))this.set({buf:u});else if(n.isString(u)){var c=r.from(u,"hex");if(c.length*2!==u.length)throw new TypeError("Invalid hex string");this.set({buf:c})}else if(n.isObject(u)){var h=u;this.set(h)}else throw new TypeError("Unrecognized argument for BufferReader")};o.prototype.set=function(a){return this.buf=a.buf||this.buf||void 0,this.pos=a.pos||this.pos||0,this},o.prototype.eof=function(){return this.pos>=this.buf.length},o.prototype.finished=o.prototype.eof,o.prototype.read=function(a){i.checkArgument(!n.isUndefined(a),"Must specify a length");var u=this.buf.slice(this.pos,this.pos+a);return this.pos=this.pos+a,u},o.prototype.readAll=function(){var a=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,a},o.prototype.readUInt8=function(){var a=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,a},o.prototype.readUInt16BE=function(){var a=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,a},o.prototype.readUInt16LE=function(){var a=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,a},o.prototype.readUInt32BE=function(){var a=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,a},o.prototype.readUInt32LE=function(){var a=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,a},o.prototype.readInt32LE=function(){var a=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,a},o.prototype.readUInt64BEBN=function(){var a=this.buf.slice(this.pos,this.pos+8),u=s.fromBuffer(a);return this.pos=this.pos+8,u},o.prototype.readUInt64LEBN=function(){var a=this.buf.readUInt32LE(this.pos),u=this.buf.readUInt32LE(this.pos+4),c=u*4294967296+a,h;if(c<=9007199254740991)h=new s(c);else{var f=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);h=new s(f,10,"le")}return this.pos=this.pos+8,h},o.prototype.readVarintNum=function(){var a=this.readUInt8();switch(a){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var u=this.readUInt64LEBN(),c=u.toNumber();if(c<=Math.pow(2,53))return c;throw new Error("number too large to retain precision - use readVarintBN");default:return a}},o.prototype.readVarLengthBuffer=function(){var a=this.readVarintNum(),u=this.read(a);return i.checkState(u.length===a,"Invalid length while reading varlength buffer. Expected to read: "+a+" and read "+u.length),u},o.prototype.readVarintBuf=function(){var a=this.buf.readUInt8(this.pos);switch(a){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},o.prototype.readVarintBN=function(){var a=this.readUInt8();switch(a){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(a)}},o.prototype.reverse=function(){for(var a=r.alloc(this.buf.length),u=0;u<a.length;u++)a[u]=this.buf[this.buf.length-1-u];return this.buf=a,this},o.prototype.readReverse=function(a){n.isUndefined(a)&&(a=this.buf.length);var u=this.buf.slice(this.pos,this.pos+a);return this.pos=this.pos+a,r.from(u).reverse()},o.prototype.remaining=function(){return this.buf.length-this.pos},t.exports=o});He("1zMJW",function(t,e){var r=rr.Buffer,n=Y("2AZ1V"),i=Y("28ku8"),s=Y("dIoYd"),o=function a(u){if(!(this instanceof a))return new a(u);if(r.isBuffer(u))this.buf=u;else if(typeof u=="number"){var c=u;this.fromNumber(c)}else if(u instanceof s){var h=u;this.fromBN(h)}else if(u){var f=u;this.set(f)}};o.prototype.set=function(a){return this.buf=a.buf||this.buf,this},o.prototype.fromString=function(a){return this.set({buf:r.from(a,"hex")}),this},o.prototype.toString=function(){return this.buf.toString("hex")},o.prototype.fromBuffer=function(a){return this.buf=a,this},o.prototype.fromBufferReader=function(a){return this.buf=a.readVarintBuf(),this},o.prototype.fromBN=function(a){var u=new n;return this.buf=u.writeVarintBN(a).toBuffer(),this},o.prototype.fromNumber=function(a){var u=new n;return this.buf=u.writeVarintNum(a).toBuffer(),this},o.prototype.toBuffer=function(){return this.buf},o.prototype.toBN=function(){return i(this.buf).readVarintBN()},o.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=o});He("95EnH",function(t,e){var r=rr.Buffer,n=Y("gIXub"),i=Y("hkiTH"),s=Y("bczuf"),o=Y("28ku8"),a=Y("2AZ1V"),u=Y("dIoYd"),c=Y("bTTXN"),h=Y("kmMTb"),f=Y("6gAsx"),p=Y("g4xmW"),l=Y("kBBbb"),y=Y("l0DuR"),_=r.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),O="ffffffffffffffff",F=p.SCRIPT_ENABLE_SIGHASH_FORKID,B=function(H,D,C,d,v,g=new y){var m=H.inputs[C];f.checkArgument(v instanceof u,"For ForkId=0 signatures, satoshis or complete input must be provided");function S(ee){var ae=new a;l.each(ee.inputs,function(Z){ae.writeReverse(Z.prevTxId),ae.writeUInt32LE(Z.outputIndex)});var se=ae.toBuffer(),j=c.sha256sha256(se);return j}function w(ee){var ae=new a;l.each(ee.inputs,function(Z){ae.writeUInt32LE(Z.sequenceNumber)});var se=ae.toBuffer(),j=c.sha256sha256(se);return j}function R(ee,ae){var se=new a;l.isUndefined(ae)?l.each(ee.outputs,function(Q){Q.toBufferWriter(se)}):ee.outputs[ae].toBufferWriter(se);var j=se.toBuffer(),Z=c.sha256sha256(j);return Z}var T=r.alloc(32),b=r.alloc(32),x=r.alloc(32);D&n.SIGHASH_ANYONECANPAY||(T=g.prevoutsHashBuf?g.prevoutsHashBuf:g.prevoutsHashBuf=S(H)),!(D&n.SIGHASH_ANYONECANPAY)&&(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE&&(b=g.sequenceHashBuf?g.sequenceHashBuf:g.sequenceHashBuf=w(H)),(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE?x=g.outputsHashBuf?g.outputsHashBuf:g.outputsHashBuf=R(H):(D&31)===n.SIGHASH_SINGLE&&C<H.outputs.length&&(x=R(H,C));var P=new a;P.writeUInt32LE(H.version),P.write(T),P.write(b),P.writeReverse(m.prevTxId),P.writeUInt32LE(m.outputIndex);var L=d.toBuffer();P.writeVarintNum(L.length),P.write(L),P.writeUInt64LEBN(v);var V=m.sequenceNumber;P.writeUInt32LE(V),P.write(x),P.writeUInt32LE(H.nLockTime),P.writeUInt32LE(D>>>0);var W=P.toBuffer();return W},E=function(D,C,d,v,g,m,S=new y){var w=Y("98CPZ"),R=Y("dQaOn");if(l.isUndefined(m)&&(m=F),m&p.SCRIPT_ENABLE_REPLAY_PROTECTION){var T=C>>8,b=16711680|T^57005;C=b<<8|C&255}if(C&n.SIGHASH_FORKID&&m&p.SCRIPT_ENABLE_SIGHASH_FORKID)return B(D,C,d,v,g);var x=w.shallowCopy(D);v=new i(v),v.removeCodeseparators();var P;for(P=0;P<x.inputs.length;P++)x.inputs[P]=new R(x.inputs[P]).setScript(i.empty());if(x.inputs[d]=new R(x.inputs[d]).setScript(v),(C&31)===n.SIGHASH_NONE||(C&31)===n.SIGHASH_SINGLE)for(P=0;P<x.inputs.length;P++)P!==d&&(x.inputs[P].sequenceNumber=0);if((C&31)===n.SIGHASH_NONE)x.outputs=[];else if((C&31)===n.SIGHASH_SINGLE){if(d>=x.outputs.length)return _;for(x.outputs.length=d+1,P=0;P<d;P++)x.outputs[P]=new s({satoshis:u.fromBuffer(r.from(O,"hex")),script:i.empty()})}C&n.SIGHASH_ANYONECANPAY&&(x.inputs=[x.inputs[d]]);var L=new a().write(x.toBuffer()).writeInt32LE(C).toBuffer();return L},I=function(D,C,d,v,g,m,S=new y){var w=E(D,C,d,v,g,m,S);if(w.compare(_)===0)return w;var R=c.sha256sha256(w);return R=new o(R).readReverse(),R};function U(H,D,C,d,v,g,m,S=new y){var w=I(H,C,d,v,g,m,S),R=h.sign(w,D,"little").set({nhashtype:C});return R}function N(H,D,C,d,v,g,m,S=new y){f.checkArgument(!l.isUndefined(H)),f.checkArgument(!l.isUndefined(D)&&!l.isUndefined(D.nhashtype));var w=I(H,D.nhashtype,d,v,g,m,S);return h.verify(w,D,C,"little")}t.exports={sighashPreimage:E,sighash:I,sign:U,verify:N}});He("bczuf",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("dIoYd"),s=Y("gk75r"),o=Y("2AZ1V"),a=Y("1zMJW"),u=Y("hkiTH"),c=Y("6gAsx"),h=Y("kooOK"),f=9007199254740991;function p(l){if(!(this instanceof p))return new p(l);if(n.isObject(l))if(this.satoshis=l.satoshis,r.isBuffer(l.script))this.setScriptFromBuffer(l.script);else{var y;n.isString(l.script)&&s.isHexa(l.script)?y=r.from(l.script,"hex"):y=l.script,this.setScript(y)}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(p.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script}}),Object.defineProperty(p.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(l){l instanceof i?(this._satoshisBN=l,this._satoshis=l.toNumber()):n.isString(l)?(this._satoshis=parseInt(l),this._satoshisBN=i.fromNumber(this._satoshis)):(c.checkArgument(s.isNaturalNumber(l),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(l),this._satoshis=l),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),p.prototype.invalidSatoshis=function(){return this._satoshis>f?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1},Object.defineProperty(p.prototype,"satoshisBN",{configurable:!1,enumerable:!0,get:function(){return this._satoshisBN},set:function(l){this._satoshisBN=l,this._satoshis=l.toNumber(),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),p.prototype.toObject=p.prototype.toJSON=function(){var y={satoshis:this.satoshis};return y.script=this._script.toBuffer().toString("hex"),y},p.fromObject=function(l){return new p(l)},p.prototype.setScriptFromBuffer=function(l){try{this._script=u.fromBuffer(l),this._script._isOutput=!0}catch(y){if(y instanceof h.Script.InvalidBuffer)this._script=null;else throw y}},p.prototype.setScript=function(l){if(l instanceof u)this._script=l,this._script._isOutput=!0;else if(n.isString(l))this._script=u.fromString(l),this._script._isOutput=!0;else if(r.isBuffer(l))this.setScriptFromBuffer(l);else throw new TypeError("Invalid argument type: script");return this},p.prototype.inspect=function(){var l;return this.script&&(l=this.script.inspect()),"<Output ("+this.satoshis+" sats) "+l+">"},p.fromBufferReader=function(l){var y={};y.satoshis=l.readUInt64LEBN();var _=l.readVarintNum();if(_!==0){if(l.remaining()<_)throw new TypeError("Unrecognized Output");y.script=l.read(_)}else y.script=r.from([]);return new p(y)},p.prototype.toBufferWriter=function(l){l||(l=new o),l.writeUInt64LEBN(this._satoshisBN);var y=this._script.toBuffer();return l.writeVarintNum(y.length),l.write(y),l},p.prototype.getSize=function(){var l=this.script.toBuffer().length,y=a(l).toBuffer().length;return 8+y+l},t.exports=p});He("l0DuR",function(t,e){var r=rr.Buffer;class n{constructor(s,o,a){this.prevoutsHashBuf=s,this.sequenceHashBuf=o,this.outputsHashBuf=a}static fromBuffer(s){return n.fromJSON(JSON.parse(s.toString()))}toBuffer(){return r.from(JSON.stringify(this.toJSON()))}static fromJSON(s){return new n(s.prevoutsHashBuf?r.from(s.prevoutsHashBuf,"hex"):void 0,s.sequenceHashBuf?r.from(s.sequenceHashBuf,"hex"):void 0,s.outputsHashBuf?r.from(s.outputsHashBuf,"hex"):void 0)}toJSON(){return{prevoutsHashBuf:this.prevoutsHashBuf?this.prevoutsHashBuf.toString("hex"):void 0,sequenceHashBuf:this.sequenceHashBuf?this.sequenceHashBuf.toString("hex"):void 0,outputsHashBuf:this.outputsHashBuf?this.outputsHashBuf.toString("hex"):void 0}}toHex(){return this.toBuffer().toString("hex")}static fromHex(s){let o=r.from(s,"hex");return n.fromBuffer(o)}}t.exports=n});He("dQaOn",function(t,e){t.exports=Y("jbAmm"),t.exports.PublicKey=Y("b2vm0"),t.exports.PublicKeyHash=Y("ddQTk"),t.exports.MultiSig=Y("dHaKi"),t.exports.MultiSigScriptHash=Y("eJIfU")});He("jbAmm",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("kooOK"),o=Y("2AZ1V"),a=Y("gk75r"),u=Y("hkiTH"),c=Y("95EnH"),h=Y("bczuf"),f=Y("gIXub"),p=Y("4Dqlv"),l=Y("bTTXN"),y=Y("g4xmW"),_=Y("bpasi"),O=Y("7smYJ"),F=4294967295,B=F-2,E=F,I=F-1;function U(H,D,C,d,v){var g=0;do{var m=c.sighashPreimage(H,D,C,d,v),S=l.sha256sha256(m);if(n.isPositiveNumber(S.readUInt8())&&n.isPositiveNumber(S.readUInt8(31)))return m;H.nLockTime++}while(g<Number.MAX_SAFE_INTEGER)}function N(H){if(!(this instanceof N))return new N(H);if(H)return this._fromObject(H)}N.MAXINT=F,N.DEFAULT_SEQNUMBER=E,N.DEFAULT_LOCKTIME_SEQNUMBER=I,N.DEFAULT_RBF_SEQNUMBER=B,N.BASE_SIZE=40,Object.defineProperty(N.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new u(this._scriptBuffer),this._script._isInput=!0),this._script)}}),N.fromObject=function(H){i.checkArgument(n.isObject(H));var D=new N;return D._fromObject(H)},N.prototype._fromObject=function(H){var D;if(n.isString(H.prevTxId)&&a.isHexa(H.prevTxId)?D=r.from(H.prevTxId,"hex"):D=H.prevTxId,this.output=H.output?H.output instanceof h?H.output:new h(H.output):void 0,this.prevTxId=D||H.txidbuf,this.outputIndex=n.isUndefined(H.outputIndex)?H.txoutnum:H.outputIndex,this.sequenceNumber=n.isUndefined(H.sequenceNumber)?n.isUndefined(H.seqnum)?E:H.seqnum:H.sequenceNumber,n.isUndefined(H.script)&&n.isUndefined(H.scriptBuffer))throw new s.Transaction.Input.MissingScript;return this.setScript(H.scriptBuffer||H.script),this},N.prototype.toObject=N.prototype.toJSON=function(){var D={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(D.scriptString=this.script.toString()),this.output&&(D.output=this.output.toObject()),D},N.fromBufferReader=function(H){var D=new N;return D.prevTxId=H.readReverse(32),D.outputIndex=H.readUInt32LE(),D._scriptBuffer=H.readVarLengthBuffer(),D.sequenceNumber=H.readUInt32LE(),D},N.prototype.toBufferWriter=function(H){H||(H=new o),H.writeReverse(this.prevTxId),H.writeUInt32LE(this.outputIndex);var D=this._scriptBuffer;return H.writeVarintNum(D.length),H.write(D),H.writeUInt32LE(this.sequenceNumber),H},N.prototype.setScript=function(H){if(this._script=null,H instanceof u)this._script=H,this._script._isInput=!0,this._scriptBuffer=H.toBuffer();else if(H===null)this._script=u.empty(),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(a.isHexa(H))this._scriptBuffer=r.from(H,"hex");else if(n.isString(H))this._script=new u(H),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(r.isBuffer(H))this._scriptBuffer=r.from(H);else throw new TypeError("Invalid argument type: script");return this},N.prototype.getSignatures=function(H,D,C,d){i.checkState(this.output instanceof h),d=d||f.SIGHASH_ALL|f.SIGHASH_FORKID;var v=[];if(D instanceof O)v.push(new p({publicKey:D.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:C,signature:c.sign(H,D,d,C,this.output.script,this.output.satoshisBN),sigtype:d}));else if(n.isArray(D)){var g=this;n.each(D,function(m,S){var w=d;n.isArray(d)&&(w=d[S]||f.SIGHASH_ALL|f.SIGHASH_FORKID),v.push(new p({publicKey:m.publicKey,prevTxId:g.prevTxId,outputIndex:g.outputIndex,inputIndex:C,signature:c.sign(H,m,w,C,g.output.script,g.output.satoshisBN),sigtype:w}))})}return v},N.prototype.getPreimage=function(H,D,C,d,v){i.checkState(this.output instanceof h),C=C||f.SIGHASH_ALL|f.SIGHASH_FORKID,d=d||!1;var g=typeof v=="number"?this.output.script.subScript(v):this.output.script;return d?U(H,C,D,g,this.output.satoshisBN):c.sighashPreimage(H,C,D,g,this.output.satoshisBN)},N.prototype.isFullySigned=function(){throw new s.AbstractMethodInvoked("Input#isFullySigned")},N.prototype.isFinal=function(){return this.sequenceNumber===N.MAXINT},N.prototype.addSignature=function(){},N.prototype.clearSignatures=function(){},N.prototype.isValidSignature=function(H,D){return D.signature.nhashtype=D.sigtype,c.verify(H,D.signature,D.publicKey,D.inputIndex,this.output.script,this.output.satoshisBN)},N.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295},N.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},N.prototype.verify=function(H,D){i.checkState(this.output instanceof h),i.checkState(this.script instanceof u),i.checkState(this.output.script instanceof u);var C=this.script,d=this.output.script,v=this.output.satoshisBN;y.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,y.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let g=new y,m={};g.stepListener=function(w){(w.fExec||_.OP_IF<=w.opcode.toNumber()&&w.opcode.toNumber()<=_.OP_ENDIF)&&(_.OP_IF<=w.opcode.toNumber()&&w.opcode.toNumber()<=_.OP_ENDIF||w.opcode.toNumber()===_.OP_RETURN?m.opcode=w.opcode:m=w)};var S=g.verify(C,d,H,D,y.DEFAULT_FLAGS,v);return m.opcode&&(m.opcode=m.opcode.toNumber()),{success:S,error:g.errstr,failedAt:S?{}:m}},t.exports=N});He("4Dqlv",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("gk75r"),o=Y("arkeG"),a=Y("kooOK"),u=Y("gIXub");function c(h){if(!(this instanceof c))return new c(h);if(h instanceof c)return h;if(n.isObject(h))return this._fromObject(h);throw new a.InvalidArgument("TransactionSignatures must be instantiated from an object")}k3(c,u),c.prototype._fromObject=function(h){return this._checkObjectArgs(h),this.publicKey=new o(h.publicKey),this.prevTxId=r.isBuffer(h.prevTxId)?h.prevTxId:r.from(h.prevTxId,"hex"),this.outputIndex=h.outputIndex,this.inputIndex=h.inputIndex,this.signature=h.signature instanceof u?h.signature:r.isBuffer(h.signature)?u.fromBuffer(h.signature):u.fromString(h.signature),this.sigtype=h.sigtype,this},c.prototype._checkObjectArgs=function(h){i.checkArgument(o(h.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(h.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(h.outputIndex),"outputIndex"),i.checkState(n.isNumber(h.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(h.outputIndex),"outputIndex must be a number"),i.checkArgument(h.signature,"signature"),i.checkArgument(h.prevTxId,"prevTxId"),i.checkState(h.signature instanceof u||r.isBuffer(h.signature)||s.isHexa(h.signature),"signature must be a buffer or hexa value"),i.checkState(r.isBuffer(h.prevTxId)||s.isHexa(h.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(h.sigtype,"sigtype"),i.checkState(n.isNumber(h.sigtype),"sigtype must be a number")},c.prototype.toObject=c.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},c.fromObject=function(h){return i.checkArgument(h),new c(h)},t.exports=c});He("b2vm0",function(t,e){"use strict";var r=Y("6gAsx"),n=Y("jbAmm"),i=Y("bczuf"),s=Y("95EnH"),o=Y("hkiTH"),a=Y("gIXub"),u=Y("4Dqlv");function c(){n.apply(this,arguments)}k3(c,n),c.prototype.getSignatures=function(h,f,p,l){r.checkState(this.output instanceof i),l=l||a.SIGHASH_ALL|a.SIGHASH_FORKID;var y=f.toPublicKey();return y.toString()===this.output.script.getPublicKey().toString("hex")?[new u({publicKey:y,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:p,signature:s.sign(h,f,l,p,this.output.script,this.output.satoshisBN),sigtype:l})]:[]},c.prototype.addSignature=function(h,f){return r.checkState(this.isValidSignature(h,f),"Signature is invalid"),this.setScript(o.buildPublicKeyIn(f.signature.toDER(),f.sigtype)),this},c.prototype.clearSignatures=function(){return this.setScript(o.empty()),this},c.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},c.SCRIPT_MAX_SIZE=74,c.prototype._estimateSize=function(){return n.BASE_SIZE+c.SCRIPT_MAX_SIZE},t.exports=c});He("ddQTk",function(t,e){"use strict";var r=Y("6gAsx"),n=Y("bTTXN"),i=Y("jbAmm"),s=Y("bczuf"),o=Y("95EnH"),a=Y("hkiTH"),u=Y("gIXub"),c=Y("4Dqlv");function h(){i.apply(this,arguments)}k3(h,i),h.prototype.getSignatures=function(f,p,l,y,_){return r.checkState(this.output instanceof s),_=_||n.sha256ripemd160(p.publicKey.toBuffer()),y=y||u.SIGHASH_ALL|u.SIGHASH_FORKID,_.equals(this.output.script.getPublicKeyHash())?[new c({publicKey:p.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:l,signature:o.sign(f,p,y,l,this.output.script,this.output.satoshisBN),sigtype:y})]:[]},h.prototype.addSignature=function(f,p){return r.checkState(this.isValidSignature(f,p),"Signature is invalid"),this.setScript(a.buildPublicKeyHashIn(p.publicKey,p.signature.toDER(),p.sigtype)),this},h.prototype.clearSignatures=function(){return this.setScript(a.empty()),this},h.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},h.SCRIPT_MAX_SIZE=140,h.prototype._estimateSize=function(){return i.BASE_SIZE+h.SCRIPT_MAX_SIZE},t.exports=h});He("dHaKi",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("jbAmm"),s=Y("bczuf"),o=Y("6gAsx"),a=Y("hkiTH"),u=Y("gIXub"),c=Y("95EnH"),h=Y("4Dqlv"),f=Y("arkeG"),p=Y("1zMJW");function l(y,_,O,F){i.apply(this,arguments);var B=this;_=_||y.publicKeys,O=O||y.threshold,F=F||y.signatures,this.publicKeys=_.map(E=>E.toString("hex")).sort().map(E=>new f(E)),o.checkState(a.buildMultisigOut(this.publicKeys,O).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,function(E,I){B.publicKeyIndex[E.toString()]=I}),this.threshold=O,this.signatures=F?this._deserializeSignatures(F):new Array(this.publicKeys.length)}k3(l,i),l.prototype.toObject=function(){var y=i.prototype.toObject.apply(this,arguments);return y.threshold=this.threshold,y.publicKeys=n.map(this.publicKeys,function(_){return _.toString()}),y.signatures=this._serializeSignatures(),y},l.prototype._deserializeSignatures=function(y){return n.map(y,function(_){if(!!_)return new h(_)})},l.prototype._serializeSignatures=function(){return n.map(this.signatures,function(y){if(!!y)return y.toObject()})},l.prototype.getSignatures=function(y,_,O,F){o.checkState(this.output instanceof s),F=F||u.SIGHASH_ALL|u.SIGHASH_FORKID;var B=this,E=[];return n.each(this.publicKeys,function(I){I.toString()===_.publicKey.toString()&&E.push(new h({publicKey:_.publicKey,prevTxId:B.prevTxId,outputIndex:B.outputIndex,inputIndex:O,signature:c.sign(y,_,F,O,B.output.script,B.output.satoshisBN),sigtype:F}))}),E},l.prototype.addSignature=function(y,_){return o.checkState(!this.isFullySigned(),"All needed signatures have already been added"),o.checkArgument(!n.isUndefined(this.publicKeyIndex[_.publicKey.toString()]),"Signature has no matching public key"),o.checkState(this.isValidSignature(y,_)),this.signatures[this.publicKeyIndex[_.publicKey.toString()]]=_,this._updateScript(),this},l.prototype._updateScript=function(){return this.setScript(a.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},l.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(y){return!n.isUndefined(y)}),function(y){return r.concat([y.signature.toDER(),r.from([y.sigtype&255])])})},l.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},l.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},l.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},l.prototype.countSignatures=function(){return n.reduce(this.signatures,function(y,_){return y+!!_},0)},l.prototype.publicKeysWithoutSignature=function(){var y=this;return n.filter(this.publicKeys,function(_){return!y.signatures[y.publicKeyIndex[_.toString()]]})},l.prototype.isValidSignature=function(y,_){return _.signature.nhashtype=_.sigtype,c.verify(y,_.signature,_.publicKey,_.inputIndex,this.output.script,this.output.satoshisBN)},l.normalizeSignatures=function(y,_,O,F,B){return B.map(function(E){var I=null;return F=F.filter(function(U){if(I)return!0;var N=new h({signature:u.fromTxFormat(U),publicKey:E,prevTxId:_.prevTxId,outputIndex:_.outputIndex,inputIndex:O,sigtype:u.SIGHASH_ALL});N.signature.nhashtype=N.sigtype;var H=c.verify(y,N.signature,N.publicKey,N.inputIndex,_.output.script);return H?(I=N,!1):!0}),I||null})},l.SIGNATURE_SIZE=73,l.prototype._estimateSize=function(){var y=1+this.threshold*l.SIGNATURE_SIZE;return i.BASE_SIZE+p(y).toBuffer().length+y},t.exports=l});He("eJIfU",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("jbAmm"),s=Y("bczuf"),o=Y("6gAsx"),a=Y("hkiTH"),u=Y("gIXub"),c=Y("95EnH"),h=Y("4Dqlv"),f=Y("arkeG"),p=Y("1zMJW");function l(y,_,O,F){i.apply(this,arguments);var B=this;_=_||y.publicKeys,O=O||y.threshold,F=F||y.signatures,this.publicKeys=_.map(E=>E.toString("hex")).sort().map(E=>new f(E)),this.redeemScript=a.buildMultisigOut(this.publicKeys,O),o.checkState(a.buildScriptHashOut(this.redeemScript).equals(this.output.script),"Provided public keys don't hash to the provided output"),this.publicKeyIndex={},n.each(this.publicKeys,function(E,I){B.publicKeyIndex[E.toString()]=I}),this.threshold=O,this.signatures=F?this._deserializeSignatures(F):new Array(this.publicKeys.length)}k3(l,i),l.prototype.toObject=function(){var y=i.prototype.toObject.apply(this,arguments);return y.threshold=this.threshold,y.publicKeys=n.map(this.publicKeys,function(_){return _.toString()}),y.signatures=this._serializeSignatures(),y},l.prototype._deserializeSignatures=function(y){return n.map(y,function(_){if(!!_)return new h(_)})},l.prototype._serializeSignatures=function(){return n.map(this.signatures,function(y){if(!!y)return y.toObject()})},l.prototype.getSignatures=function(y,_,O,F){o.checkState(this.output instanceof s),F=F||u.SIGHASH_ALL|u.SIGHASH_FORKID;var B=this,E=[];return n.each(this.publicKeys,function(I){I.toString()===_.publicKey.toString()&&E.push(new h({publicKey:_.publicKey,prevTxId:B.prevTxId,outputIndex:B.outputIndex,inputIndex:O,signature:c.sign(y,_,F,O,B.redeemScript,B.output.satoshisBN),sigtype:F}))}),E},l.prototype.addSignature=function(y,_){return o.checkState(!this.isFullySigned(),"All needed signatures have already been added"),o.checkArgument(!n.isUndefined(this.publicKeyIndex[_.publicKey.toString()]),"Signature has no matching public key"),o.checkState(this.isValidSignature(y,_)),this.signatures[this.publicKeyIndex[_.publicKey.toString()]]=_,this._updateScript(),this},l.prototype._updateScript=function(){return this.setScript(a.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},l.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(y){return!n.isUndefined(y)}),function(y){return r.concat([y.signature.toDER(),r.from([y.sigtype&255])])})},l.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},l.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},l.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},l.prototype.countSignatures=function(){return n.reduce(this.signatures,function(y,_){return y+!!_},0)},l.prototype.publicKeysWithoutSignature=function(){var y=this;return n.filter(this.publicKeys,function(_){return!y.signatures[y.publicKeyIndex[_.toString()]]})},l.prototype.isValidSignature=function(y,_){return _.signature.nhashtype=_.sigtype,c.verify(y,_.signature,_.publicKey,_.inputIndex,this.redeemScript,this.output.satoshisBN)},l.SIGNATURE_SIZE=73,l.PUBKEY_SIZE=34,l.prototype._estimateSize=function(){var y=this.publicKeys.length*l.PUBKEY_SIZE,_=this.threshold*l.SIGNATURE_SIZE,O=3+y,F=O<=75?1:O<=255?2:3,B=_+1+F+O;return i.BASE_SIZE+p(B).toBuffer().length+B},t.exports=l});He("G1usC",function(t,e){"use strict";var r=Y("kBBbb"),n=Y("6gAsx"),i=Y("gk75r"),s=Y("hkiTH"),o=Y("iSUUt");function a(u){if(!(this instanceof a))return new a(u);n.checkArgument(r.isObject(u),"Must provide an object from where to extract data");var c=u.address?new o(u.address):void 0,h=u.txid?u.txid:u.txId;if(!h||!i.isHexaString(h)||h.length>64)throw new Error("Invalid TXID in object",u);var f=r.isUndefined(u.vout)?u.outputIndex:u.vout;if(!r.isNumber(f))throw new Error("Invalid outputIndex, received "+f);n.checkArgument(!r.isUndefined(u.scriptPubKey)||!r.isUndefined(u.script),"Must provide the scriptPubKey for that output!");var p=new s(u.scriptPubKey||u.script);n.checkArgument(!r.isUndefined(u.amount)||!r.isUndefined(u.satoshis),"Must provide an amount for the output");var l=r.isUndefined(u.amount)?u.satoshis:Math.round(u.amount*1e8);n.checkArgument(r.isNumber(l),"Amount must be a number"),i.defineImmutable(this,{address:c,txId:h,outputIndex:f,script:p,satoshis:l})}a.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},a.prototype.toString=function(){return this.txId+":"+this.outputIndex},a.fromObject=function(u){return new a(u)},a.prototype.toObject=a.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:Number.parseFloat((this.satoshis/1e8).toFixed(8))}},t.exports=a});He("7X5Fe",function(t,e){t.exports=Y("fS7Ty")});He("fS7Ty",function(t,e){var r=rr.Buffer;function n(){}n.getRandomBuffer=function(i){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");var s;if(window.crypto&&window.crypto.getRandomValues)s=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)s=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var o=new Uint8Array(i);s.getRandomValues(o);var a=r.from(o);return a},t.exports=n});He("19NsJ",function(t,e){t.exports=Y("dhOpK"),t.exports.BlockHeader=Y("gGdD6"),t.exports.MerkleBlock=Y("hVYHX")});He("dhOpK",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("gGdD6"),s=Y("dIoYd"),o=Y("28ku8"),a=Y("2AZ1V"),u=Y("bTTXN"),c=Y("7pkU6"),h=Y("6gAsx");function f(l){return this instanceof f?(n.extend(this,f._from(l)),this):new f(l)}f.MAX_BLOCK_SIZE=128e6,f._from=function(y){var _={};if(r.isBuffer(y))_=f._fromBufferReader(o(y));else if(n.isObject(y))_=f._fromObject(y);else throw new TypeError("Unrecognized argument for Block");return _},f._fromObject=function(y){var _=[];y.transactions.forEach(function(F){F instanceof c?_.push(F):_.push(c().fromObject(F))});var O={header:i.fromObject(y.header),transactions:_};return O},f.fromObject=function(y){var _=f._fromObject(y);return new f(_)},f._fromBufferReader=function(y){var _={};h.checkState(!y.finished(),"No block data received"),_.header=i.fromBufferReader(y);var O=y.readVarintNum();_.transactions=[];for(var F=0;F<O;F++)_.transactions.push(c().fromBufferReader(y));return _},f.fromBufferReader=function(y){h.checkArgument(y,"br is required");var _=f._fromBufferReader(y);return new f(_)},f.fromBuffer=function(y){return f.fromBufferReader(new o(y))},f.fromString=function(y){var _=r.from(y,"hex");return f.fromBuffer(_)},f.fromRawBlock=function(y){r.isBuffer(y)||(y=r.from(y,"binary"));var _=o(y);_.pos=f.Values.START_OF_BLOCK;var O=f._fromBufferReader(_);return new f(O)},f.prototype.toObject=f.prototype.toJSON=function(){var y=[];return this.transactions.forEach(function(_){y.push(_.toObject())}),{header:this.header.toObject(),transactions:y}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(y){y||(y=new a),y.write(this.header.toBuffer()),y.writeVarintNum(this.transactions.length);for(var _=0;_<this.transactions.length;_++)this.transactions[_].toBufferWriter(y);return y},f.prototype.getTransactionHashes=function(){var y=[];if(this.transactions.length===0)return[f.Values.NULL_HASH];for(var _=0;_<this.transactions.length;_++)y.push(this.transactions[_]._getHash());return y},f.prototype.getMerkleTree=function(){for(var y=this.getTransactionHashes(),_=0,O=this.transactions.length;O>1;O=Math.floor((O+1)/2)){for(var F=0;F<O;F+=2){var B=Math.min(F+1,O-1),E=r.concat([y[_+F],y[_+B]]);y.push(u.sha256sha256(E))}_+=O}return y},f.prototype.getMerkleRoot=function(){var y=this.getMerkleTree();return y[y.length-1]},f.prototype.validMerkleRoot=function(){var y=new s(this.header.merkleRoot.toString("hex"),"hex"),_=new s(this.getMerkleRoot().toString("hex"),"hex");return y.cmp(_)===0},f.prototype._getHash=function(){return this.header._getHash()};var p={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",p),Object.defineProperty(f.prototype,"hash",p),f.prototype.inspect=function(){return"<Block "+this.id+">"},f.Values={START_OF_BLOCK:8,NULL_HASH:r.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f});He("gGdD6",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("dIoYd"),s=Y("28ku8"),o=Y("2AZ1V"),a=Y("bTTXN"),u=Y("6gAsx"),c=486604799,h=function p(l){if(!(this instanceof p))return new p(l);var y=p._from(l);return this.version=y.version,this.prevHash=y.prevHash,this.merkleRoot=y.merkleRoot,this.time=y.time,this.timestamp=y.time,this.bits=y.bits,this.nonce=y.nonce,y.hash&&u.checkState(this.hash===y.hash,"Argument object hash property does not match block hash."),this};h._from=function(l){var y={};if(r.isBuffer(l))y=h._fromBufferReader(s(l));else if(n.isObject(l))y=h._fromObject(l);else throw new TypeError("Unrecognized argument for BlockHeader");return y},h._fromObject=function(l){u.checkArgument(l,"data is required");var y=l.prevHash,_=l.merkleRoot;n.isString(l.prevHash)&&(y=r.from(l.prevHash,"hex").reverse()),n.isString(l.merkleRoot)&&(_=r.from(l.merkleRoot,"hex").reverse());var O={hash:l.hash,version:l.version,prevHash:y,merkleRoot:_,time:l.time,timestamp:l.time,bits:l.bits,nonce:l.nonce};return O},h.fromObject=function(l){var y=h._fromObject(l);return new h(y)},h.fromRawBlock=function(l){r.isBuffer(l)||(l=r.from(l,"binary"));var y=s(l);y.pos=h.Constants.START_OF_HEADER;var _=h._fromBufferReader(y);return new h(_)},h.fromBuffer=function(l){var y=h._fromBufferReader(s(l));return new h(y)},h.fromString=function(l){var y=r.from(l,"hex");return h.fromBuffer(y)},h._fromBufferReader=function(l){var y={};return y.version=l.readInt32LE(),y.prevHash=l.read(32),y.merkleRoot=l.read(32),y.time=l.readUInt32LE(),y.bits=l.readUInt32LE(),y.nonce=l.readUInt32LE(),y},h.fromBufferReader=function(l){var y=h._fromBufferReader(l);return new h(y)},h.prototype.toObject=h.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:r.from(this.prevHash).reverse().toString("hex"),merkleRoot:r.from(this.merkleRoot).reverse().toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},h.prototype.toBuffer=function(){return this.toBufferWriter().concat()},h.prototype.toString=function(){return this.toBuffer().toString("hex")},h.prototype.toBufferWriter=function(l){return l||(l=new o),l.writeInt32LE(this.version),l.write(this.prevHash),l.write(this.merkleRoot),l.writeUInt32LE(this.time),l.writeUInt32LE(this.bits),l.writeUInt32LE(this.nonce),l},h.prototype.getTargetDifficulty=function(l){l=l||this.bits;for(var y=new i(l&16777215),_=8*((l>>>24)-3);_-- >0;)y=y.mul(new i(2));return y},h.prototype.getDifficulty=function(){var l=this.getTargetDifficulty(c).mul(new i(Math.pow(10,8))),y=this.getTargetDifficulty(),_=l.div(y).toString(10),O=_.length-8;return _=_.slice(0,O)+"."+_.slice(O),parseFloat(_)},h.prototype._getHash=function(){var l=this.toBuffer();return a.sha256sha256(l)};var f={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(h.prototype,"id",f),Object.defineProperty(h.prototype,"hash",f),h.prototype.validTimestamp=function(){var l=Math.round(new Date().getTime()/1e3);return!(this.time>l+h.Constants.MAX_TIME_OFFSET)},h.prototype.validProofOfWork=function(){var l=new i(this.id,"hex"),y=this.getTargetDifficulty();return!(l.cmp(y)>0)},h.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},h.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=h});He("hVYHX",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("gGdD6"),s=Y("28ku8"),o=Y("2AZ1V"),a=Y("bTTXN"),u=Y("7pkU6"),c=Y("kooOK"),h=Y("6gAsx");function f(p){if(!(this instanceof f))return new f(p);var l={};if(r.isBuffer(p))l=f._fromBufferReader(s(p));else if(n.isObject(p)){var y;p.header instanceof i?y=p.header:y=i.fromObject(p.header),l={header:y,numTransactions:p.numTransactions,hashes:p.hashes,flags:p.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return n.extend(this,l),this._flagBitsUsed=0,this._hashesUsed=0,this}f.fromBuffer=function(l){return f.fromBufferReader(s(l))},f.fromBufferReader=function(l){return new f(f._fromBufferReader(l))},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toBufferWriter=function(l){l||(l=new o),l.write(this.header.toBuffer()),l.writeUInt32LE(this.numTransactions),l.writeVarintNum(this.hashes.length);for(var y=0;y<this.hashes.length;y++)l.write(r.from(this.hashes[y],"hex"));for(l.writeVarintNum(this.flags.length),y=0;y<this.flags.length;y++)l.writeUInt8(this.flags[y]);return l},f.prototype.toObject=f.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},f.prototype.validMerkleTree=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var l=this._calcTreeHeight(),y={hashesUsed:0,flagBitsUsed:0},_=this._traverseMerkleTree(l,0,y);return y.hashesUsed!==this.hashes.length?!1:_.equals(this.header.merkleRoot)},f.prototype.filterdTxsHash=function(){throw new Error("filterdTxsHash has been deprecated. use filteredTxsHash.")},f.prototype.filteredTxsHash=function(){if(h.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),h.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new c.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new c.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var l=this._calcTreeHeight(),y={hashesUsed:0,flagBitsUsed:0},_=this._traverseMerkleTree(l,0,y,!0);if(y.hashesUsed!==this.hashes.length)throw new c.MerkleBlock.InvalidMerkleTree;return _},f.prototype._traverseMerkleTree=function(l,y,_,O){if(_=_||{},_.txs=_.txs||[],_.flagBitsUsed=_.flagBitsUsed||0,_.hashesUsed=_.hashesUsed||0,O=O||!1,_.flagBitsUsed>this.flags.length*8)return null;var F=this.flags[_.flagBitsUsed>>3]>>>(_.flagBitsUsed++&7)&1;if(l===0||!F){if(_.hashesUsed>=this.hashes.length)return null;var B=this.hashes[_.hashesUsed++];return l===0&&F&&_.txs.push(B),r.from(B,"hex")}else{var E=this._traverseMerkleTree(l-1,y*2,_),I=E;return y*2+1<this._calcTreeWidth(l-1)&&(I=this._traverseMerkleTree(l-1,y*2+1,_)),O?_.txs:a.sha256sha256(r.concat([E,I]))}},f.prototype._calcTreeWidth=function(l){return this.numTransactions+(1<<l)-1>>l},f.prototype._calcTreeHeight=function(){for(var l=0;this._calcTreeWidth(l)>1;)l++;return l},f.prototype.hasTransaction=function(l){h.checkArgument(!n.isUndefined(l),"tx cannot be undefined"),h.checkArgument(l instanceof u||typeof l=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var y=l;l instanceof u&&(y=r.from(l.id,"hex").reverse().toString("hex"));var _=[],O=this._calcTreeHeight();return this._traverseMerkleTree(O,0,{txs:_}),_.indexOf(y)!==-1},f._fromBufferReader=function(l){h.checkState(!l.finished(),"No merkleblock data received");var y={};y.header=i.fromBufferReader(l),y.numTransactions=l.readUInt32LE();var _=l.readVarintNum();y.hashes=[];for(var O=0;O<_;O++)y.hashes.push(l.read(32).toString("hex"));var F=l.readVarintNum();for(y.flags=[],O=0;O<F;O++)y.flags.push(l.readUInt8());return y},f.fromObject=function(l){return new f(l)},t.exports=f});He("4bgoH",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("dIoYd"),o=Y("jG967"),a=Y("j7ODq"),u=Y("bTTXN"),c=Y("cyjag"),h=Y("f0gTO"),f=Y("7smYJ"),p=Y("7X5Fe"),l=Y("kooOK"),y=l.HDPrivateKey,_=Y("gk75r"),O=128,F=1/8,B=512;function E(I){if(I instanceof E)return I;if(!(this instanceof E))return new E(I);if(!I)return this._generateRandomly();if(c.get(I))return this._generateRandomly(I);if(n.isString(I)||r.isBuffer(I))if(E.isValidSerialized(I))this._buildFromSerialized(I);else if(_.isValidJSON(I))this._buildFromJSON(I);else if(r.isBuffer(I)&&E.isValidSerialized(I.toString()))this._buildFromSerialized(I.toString());else throw E.getSerializedError(I);else if(n.isObject(I))this._buildFromObject(I);else throw new y.UnrecognizedArgument(I)}E.fromRandom=function(){return new E},E.isValidPath=function(I,U){if(n.isString(I)){var N=E._getDerivationIndexes(I);return N!==null&&n.every(N,E.isValidPath)}return n.isNumber(I)?(I<E.Hardened&&U===!0&&(I+=E.Hardened),I>=0&&I<E.MaxIndex):!1},E._getDerivationIndexes=function(I){var U=I.split("/");if(n.includes(E.RootElementAlias,I))return[];if(!n.includes(E.RootElementAlias,U[0]))return null;var N=U.slice(1).map(function(H){var D=H.slice(-1)==="'";if(D&&(H=H.slice(0,-1)),!H||H[0]==="-")return NaN;var C=+H;return D&&(C+=E.Hardened),C});return n.some(N,isNaN)?null:N},E.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},E.prototype.deriveChild=function(I,U){if(n.isNumber(I))return this._deriveWithNumber(I,U);if(n.isString(I))return this._deriveFromString(I);throw new y.InvalidDerivationArgument(I)},E.prototype.deriveNonCompliantChild=function(I,U){if(n.isNumber(I))return this._deriveWithNumber(I,U,!0);if(n.isString(I))return this._deriveFromString(I,!0);throw new y.InvalidDerivationArgument(I)},E.prototype._deriveWithNumber=function(I,U,N){if(!E.isValidPath(I,U))throw new y.InvalidPath(I);U=I>=E.Hardened?!0:U,I<E.Hardened&&U===!0&&(I+=E.Hardened);var H=_.integerAsBuffer(I),D;if(U&&N){var C=this.privateKey.bn.toBuffer();D=r.concat([r.from([0]),C,H])}else if(U){var d=this.privateKey.bn.toBuffer({size:32});vf(d.length===32,"length of private key buffer is expected to be 32 bytes"),D=r.concat([r.from([0]),d,H])}else D=r.concat([this.publicKey.toBuffer(),H]);var v=u.sha512hmac(D,this._buffers.chainCode),g=s.fromBuffer(v.slice(0,32),{size:32}),m=v.slice(32,64),S=g.add(this.privateKey.toBigNumber()).umod(h.getN()).toBuffer({size:32});if(!f.isValid(S))return this._deriveWithNumber(I+1,null,N);var w=new E({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:I,chainCode:m,privateKey:S});return w},E.prototype._deriveFromString=function(I,U){if(!E.isValidPath(I))throw new y.InvalidPath(I);var N=E._getDerivationIndexes(I),H=N.reduce(function(D,C){return D._deriveWithNumber(C,null,U)},this);return H},E.isValidSerialized=function(I,U){return!E.getSerializedError(I,U)},E.getSerializedError=function(I,U){if(!(n.isString(I)||r.isBuffer(I)))return new y.UnrecognizedArgument("Expected string or buffer");if(!o.validCharacters(I))return new l.InvalidB58Char("(unknown)",I);try{I=a.decode(I)}catch{return new l.InvalidB58Checksum(I)}if(I.length!==E.DataLength)return new y.InvalidLength(I);if(!n.isUndefined(U)){var N=E._validateNetwork(I,U);if(N)return N}return null},E._validateNetwork=function(I,U){var N=c.get(U);if(!N)return new l.InvalidNetworkArgument(U);var H=I.slice(0,4);return H.readUInt32BE(0)!==N.xprivkey?new l.InvalidNetwork(H):null},E.fromString=function(I){return i.checkArgument(n.isString(I),"No valid string was provided"),new E(I)},E.fromObject=function(I){return i.checkArgument(n.isObject(I),"No valid argument was provided"),new E(I)},E.prototype._buildFromJSON=function(I){return this._buildFromObject(JSON.parse(I))},E.prototype._buildFromObject=function(I){var U={version:I.network?_.integerAsBuffer(c.get(I.network).xprivkey):I.version,depth:n.isNumber(I.depth)?r.from([I.depth&255]):I.depth,parentFingerPrint:n.isNumber(I.parentFingerPrint)?_.integerAsBuffer(I.parentFingerPrint):I.parentFingerPrint,childIndex:n.isNumber(I.childIndex)?_.integerAsBuffer(I.childIndex):I.childIndex,chainCode:n.isString(I.chainCode)?r.from(I.chainCode,"hex"):I.chainCode,privateKey:n.isString(I.privateKey)&&_.isHexa(I.privateKey)?r.from(I.privateKey,"hex"):I.privateKey,checksum:I.checksum?I.checksum.length?I.checksum:_.integerAsBuffer(I.checksum):void 0};return this._buildFromBuffers(U)},E.prototype._buildFromSerialized=function(I){var U=a.decode(I),N={version:U.slice(E.VersionStart,E.VersionEnd),depth:U.slice(E.DepthStart,E.DepthEnd),parentFingerPrint:U.slice(E.ParentFingerPrintStart,E.ParentFingerPrintEnd),childIndex:U.slice(E.ChildIndexStart,E.ChildIndexEnd),chainCode:U.slice(E.ChainCodeStart,E.ChainCodeEnd),privateKey:U.slice(E.PrivateKeyStart,E.PrivateKeyEnd),checksum:U.slice(E.ChecksumStart,E.ChecksumEnd),xprivkey:I};return this._buildFromBuffers(N)},E.prototype._generateRandomly=function(I){return E.fromSeed(p.getRandomBuffer(64),I)},E.fromSeed=function(I,U){if(_.isHexaString(I)&&(I=r.from(I,"hex")),!r.isBuffer(I))throw new y.InvalidEntropyArgument(I);if(I.length<O*F)throw new y.InvalidEntropyArgument.NotEnoughEntropy(I);if(I.length>B*F)throw new y.InvalidEntropyArgument.TooMuchEntropy(I);var N=u.sha512hmac(I,r.from("Bitcoin seed"));return new E({network:c.get(U)||c.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:N.slice(0,32),chainCode:N.slice(32,64)})},E.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var I=Y("8kXe7");this._hdPublicKey=new I(this)}},E.prototype._buildFromBuffers=function(I){E._validateBufferArguments(I),_.defineImmutable(this,{_buffers:I});var U=[I.version,I.depth,I.parentFingerPrint,I.childIndex,I.chainCode,r.alloc(1),I.privateKey],N=r.concat(U);if(!I.checksum||!I.checksum.length)I.checksum=a.checksum(N);else if(I.checksum.toString()!==a.checksum(N).toString())throw new l.InvalidB58Checksum(N);var H=c.get(I.version.readUInt32BE(0)),D;D=a.encode(r.concat(U)),I.xprivkey=r.from(D);var C=new f(s.fromBuffer(I.privateKey),H),d=C.toPublicKey(),v=E.ParentFingerPrintSize,g=u.sha256ripemd160(d.toBuffer()).slice(0,v);return _.defineImmutable(this,{xprivkey:D,network:H,depth:I.depth[0],privateKey:C,publicKey:d,fingerPrint:g}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},E._validateBufferArguments=function(I){var U=function(N,H){var D=I[N];vf(r.isBuffer(D),N+" argument is not a buffer"),vf(D.length===H,N+" has not the expected size: found "+D.length+", expected "+H)};U("version",E.VersionSize),U("depth",E.DepthSize),U("parentFingerPrint",E.ParentFingerPrintSize),U("childIndex",E.ChildIndexSize),U("chainCode",E.ChainCodeSize),U("privateKey",E.PrivateKeySize),I.checksum&&I.checksum.length&&U("checksum",E.CheckSumSize)},E.prototype.toString=function(){return this.xprivkey},E.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},E.prototype.toObject=E.prototype.toJSON=function(){return{network:c.get(this._buffers.version.readUInt32BE(0),"xprivkey").name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:this._buffers.checksum.readUInt32BE(0),xprivkey:this.xprivkey}},E.fromBuffer=function(I){return new E(I.toString())},E.fromHex=function(I){return E.fromBuffer(r.from(I,"hex"))},E.prototype.toBuffer=function(){return r.from(this.toString())},E.prototype.toHex=function(){return this.toBuffer().toString("hex")},E.DefaultDepth=0,E.DefaultFingerprint=0,E.DefaultChildIndex=0,E.Hardened=2147483648,E.MaxIndex=2*E.Hardened,E.RootElementAlias=["m","M","m'","M'"],E.VersionSize=4,E.DepthSize=1,E.ParentFingerPrintSize=4,E.ChildIndexSize=4,E.ChainCodeSize=32,E.PrivateKeySize=32,E.CheckSumSize=4,E.DataLength=78,E.SerializedByteSize=82,E.VersionStart=0,E.VersionEnd=E.VersionStart+E.VersionSize,E.DepthStart=E.VersionEnd,E.DepthEnd=E.DepthStart+E.DepthSize,E.ParentFingerPrintStart=E.DepthEnd,E.ParentFingerPrintEnd=E.ParentFingerPrintStart+E.ParentFingerPrintSize,E.ChildIndexStart=E.ParentFingerPrintEnd,E.ChildIndexEnd=E.ChildIndexStart+E.ChildIndexSize,E.ChainCodeStart=E.ChildIndexEnd,E.ChainCodeEnd=E.ChainCodeStart+E.ChainCodeSize,E.PrivateKeyStart=E.ChainCodeEnd+1,E.PrivateKeyEnd=E.PrivateKeyStart+E.PrivateKeySize,E.ChecksumStart=E.PrivateKeyEnd,E.ChecksumEnd=E.ChecksumStart+E.CheckSumSize,vf(E.ChecksumEnd===E.SerializedByteSize),t.exports=E});He("8kXe7",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("6gAsx"),s=Y("dIoYd"),o=Y("jG967"),a=Y("j7ODq"),u=Y("bTTXN"),c=Y("4bgoH"),h=Y("cyjag"),f=Y("f0gTO"),p=Y("arkeG"),l=Y("kooOK"),y=l,_=l.HDPublicKey,O=Y("gk75r");function F(B){if(B instanceof F)return B;if(!(this instanceof F))return new F(B);if(B)if(n.isString(B)||r.isBuffer(B)){var E=F.getSerializedError(B);if(E){if(r.isBuffer(B)&&!F.getSerializedError(B.toString()))return this._buildFromSerialized(B.toString());if(E instanceof _.ArgumentIsPrivateExtended)return new c(B).hdPublicKey;throw E}else return this._buildFromSerialized(B)}else{if(n.isObject(B))return B instanceof c?this._buildFromPrivate(B):this._buildFromObject(B);throw new _.UnrecognizedArgument(B)}else throw new _.MustSupplyArgument}F.fromHDPrivateKey=function(B){return new F(B)},F.isValidPath=function(B){if(n.isString(B)){var E=c._getDerivationIndexes(B);return E!==null&&n.every(E,F.isValidPath)}return n.isNumber(B)?B>=0&&B<F.Hardened:!1},F.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},F.prototype.deriveChild=function(B,E){if(n.isNumber(B))return this._deriveWithNumber(B,E);if(n.isString(B))return this._deriveFromString(B);throw new _.InvalidDerivationArgument(B)},F.prototype._deriveWithNumber=function(B,E){if(B>=F.Hardened||E)throw new _.InvalidIndexCantDeriveHardened;if(B<0)throw new _.InvalidPath(B);var I=O.integerAsBuffer(B),U=r.concat([this.publicKey.toBuffer(),I]),N=u.sha512hmac(U,this._buffers.chainCode),H=s.fromBuffer(N.slice(0,32),{size:32}),D=N.slice(32,64),C;try{C=p.fromPoint(f.getG().mul(H).add(this.publicKey.point))}catch{return this._deriveWithNumber(B+1)}var d=new F({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:B,chainCode:D,publicKey:C});return d},F.prototype._deriveFromString=function(B){if(n.includes(B,"'"))throw new _.InvalidIndexCantDeriveHardened;if(!F.isValidPath(B))throw new _.InvalidPath(B);var E=c._getDerivationIndexes(B),I=E.reduce(function(U,N){return U._deriveWithNumber(N)},this);return I},F.isValidSerialized=function(B,E){return n.isNull(F.getSerializedError(B,E))},F.getSerializedError=function(B,E){if(!(n.isString(B)||r.isBuffer(B)))return new _.UnrecognizedArgument("expected buffer or string");if(!o.validCharacters(B))return new y.InvalidB58Char("(unknown)",B);try{B=a.decode(B)}catch{return new y.InvalidB58Checksum(B)}if(B.length!==F.DataSize)return new _.InvalidLength(B);if(!n.isUndefined(E)){var I=F._validateNetwork(B,E);if(I)return I}var U=B.readUInt32BE(0);return U===h.livenet.xprivkey||U===h.testnet.xprivkey?new _.ArgumentIsPrivateExtended:null},F._validateNetwork=function(B,E){var I=h.get(E);if(!I)return new y.InvalidNetworkArgument(E);var U=B.slice(F.VersionStart,F.VersionEnd);return U.readUInt32BE(0)!==I.xpubkey?new y.InvalidNetwork(U):null},F.prototype._buildFromPrivate=function(B){var E=n.clone(B._buffers),I=f.getG().mul(s.fromBuffer(E.privateKey));return E.publicKey=f.pointToCompressed(I),E.version=O.integerAsBuffer(h.get(E.version.readUInt32BE(0)).xpubkey),E.privateKey=void 0,E.checksum=void 0,E.xprivkey=void 0,this._buildFromBuffers(E)},F.prototype._buildFromObject=function(B){var E={version:B.network?O.integerAsBuffer(h.get(B.network).xpubkey):B.version,depth:n.isNumber(B.depth)?r.from([B.depth&255]):B.depth,parentFingerPrint:n.isNumber(B.parentFingerPrint)?O.integerAsBuffer(B.parentFingerPrint):B.parentFingerPrint,childIndex:n.isNumber(B.childIndex)?O.integerAsBuffer(B.childIndex):B.childIndex,chainCode:n.isString(B.chainCode)?r.from(B.chainCode,"hex"):B.chainCode,publicKey:n.isString(B.publicKey)?r.from(B.publicKey,"hex"):r.isBuffer(B.publicKey)?B.publicKey:B.publicKey.toBuffer(),checksum:n.isNumber(B.checksum)?O.integerAsBuffer(B.checksum):B.checksum};return this._buildFromBuffers(E)},F.prototype._buildFromSerialized=function(B){var E=a.decode(B),I={version:E.slice(F.VersionStart,F.VersionEnd),depth:E.slice(F.DepthStart,F.DepthEnd),parentFingerPrint:E.slice(F.ParentFingerPrintStart,F.ParentFingerPrintEnd),childIndex:E.slice(F.ChildIndexStart,F.ChildIndexEnd),chainCode:E.slice(F.ChainCodeStart,F.ChainCodeEnd),publicKey:E.slice(F.PublicKeyStart,F.PublicKeyEnd),checksum:E.slice(F.ChecksumStart,F.ChecksumEnd),xpubkey:B};return this._buildFromBuffers(I)},F.prototype._buildFromBuffers=function(B){F._validateBufferArguments(B),O.defineImmutable(this,{_buffers:B});var E=[B.version,B.depth,B.parentFingerPrint,B.childIndex,B.chainCode,B.publicKey],I=r.concat(E),U=a.checksum(I);if(!B.checksum||!B.checksum.length)B.checksum=U;else if(B.checksum.toString("hex")!==U.toString("hex"))throw new y.InvalidB58Checksum(I,U);var N=h.get(B.version.readUInt32BE(0)),H;H=a.encode(r.concat(E)),B.xpubkey=r.from(H);var D=new p(B.publicKey,{network:N}),C=F.ParentFingerPrintSize,d=u.sha256ripemd160(D.toBuffer()).slice(0,C);return O.defineImmutable(this,{xpubkey:H,network:N,depth:B.depth[0],publicKey:D,fingerPrint:d}),this},F._validateBufferArguments=function(B){var E=function(I,U){var N=B[I];vf(r.isBuffer(N),I+" argument is not a buffer, it's "+typeof N),vf(N.length===U,I+" has not the expected size: found "+N.length+", expected "+U)};E("version",F.VersionSize),E("depth",F.DepthSize),E("parentFingerPrint",F.ParentFingerPrintSize),E("childIndex",F.ChildIndexSize),E("chainCode",F.ChainCodeSize),E("publicKey",F.PublicKeySize),B.checksum&&B.checksum.length&&E("checksum",F.CheckSumSize)},F.fromString=function(B){return i.checkArgument(n.isString(B),"No valid string was provided"),new F(B)},F.fromObject=function(B){return i.checkArgument(n.isObject(B),"No valid argument was provided"),new F(B)},F.prototype.toString=function(){return this.xpubkey},F.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},F.prototype.toObject=F.prototype.toJSON=function(){return{network:h.get(this._buffers.version.readUInt32BE(0)).name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),publicKey:this.publicKey.toString(),checksum:this._buffers.checksum.readUInt32BE(0),xpubkey:this.xpubkey}},F.fromBuffer=function(B){return new F(B)},F.fromHex=function(B){return F.fromBuffer(r.from(B,"hex"))},F.prototype.toBuffer=function(){return r.from(this._buffers.xpubkey)},F.prototype.toHex=function(){return this.toBuffer().toString("hex")},F.Hardened=2147483648,F.RootElementAlias=["m","M"],F.VersionSize=4,F.DepthSize=1,F.ParentFingerPrintSize=4,F.ChildIndexSize=4,F.ChainCodeSize=32,F.PublicKeySize=33,F.CheckSumSize=4,F.DataSize=78,F.SerializedByteSize=82,F.VersionStart=0,F.VersionEnd=F.VersionStart+F.VersionSize,F.DepthStart=F.VersionEnd,F.DepthEnd=F.DepthStart+F.DepthSize,F.ParentFingerPrintStart=F.DepthEnd,F.ParentFingerPrintEnd=F.ParentFingerPrintStart+F.ParentFingerPrintSize,F.ChildIndexStart=F.ParentFingerPrintEnd,F.ChildIndexEnd=F.ChildIndexStart+F.ChildIndexSize,F.ChainCodeStart=F.ChildIndexEnd,F.ChainCodeEnd=F.ChainCodeStart+F.ChainCodeSize,F.PublicKeyStart=F.ChainCodeEnd,F.PublicKeyEnd=F.PublicKeyStart+F.PublicKeySize,F.ChecksumStart=F.PublicKeyEnd,F.ChecksumEnd=F.ChecksumStart+F.CheckSumSize,vf(F.PublicKeyEnd===F.DataSize),vf(F.ChecksumEnd===F.SerializedByteSize),t.exports=F});He("de0HV",function(t,e){t.exports=Y("fNnUs")});He("fNnUs",function(t,e){var r=rr.Buffer,n=Y("arkeG"),i=Y("7smYJ"),s=Y("bTTXN"),o=Y("6gAsx"),a=Y("cQlxP"),u=Y("kooOK"),c=d6.ModeOfOperation.cbc,h=function(){};h.encrypt=function(l,y,_){o.checkArgument(l),o.checkArgument(y),o.checkArgument(_),o.checkArgument(y.length===16,"keybuf length must be 16"),o.checkArgument(_.length===16,"ivbuf length must be 16"),l=d6.padding.pkcs7.pad(l);var O=new c(y,_),F=O.encrypt(l);return r.from(F)},h.decrypt=function(l,y,_){o.checkArgument(l),o.checkArgument(y),o.checkArgument(_),o.checkArgument(y.length===16,"keybuf length must be 16"),o.checkArgument(_.length===16,"ivbuf length must be 16");var O=new c(y,_),F=O.decrypt(l);return r.from(d6.padding.pkcs7.strip(F))};var f=function l(y,_="BIE1"){if(_!=="BIE1")throw new u.ECIES.UnsupportAlgorithm(_);if(!(this instanceof l))return new l(y,_);this._privateKey=new i,this.opts=y||{},this.opts.ephemeralKey=!0};f.prototype.privateKey=function(l){return o.checkArgument(i.isValid(l),"no private key provided"),this._privateKey=i(l.toHex())||null,this.opts.ephemeralKey=!1,this},f.prototype.publicKey=function(l){return o.checkArgument(n.isValid(l),"no public key provided"),this._publicKey=n(l.toString())||null,this._publicKey!=null&&(this.opts.fixedPublicKey=!0),this};var p=function(l,y){var _="_"+l;Object.defineProperty(f.prototype,l,{configurable:!1,enumerable:!0,get:function(){var O=this[_];return O=this[_]=y.apply(this),O}})};p("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),p("ivkEkM",function(){var l=this._privateKey.bn,y=this._publicKey.point,_=y.mul(l),O=n(_),F=O.toBuffer();return s.sha512(F)}),p("iv",function(){return this.ivkEkM.slice(0,16)}),p("kE",function(){return this.ivkEkM.slice(16,32)}),p("kM",function(){return this.ivkEkM.slice(32,64)}),f.prototype.encrypt=function(l){r.isBuffer(l)||(l=r.from(l));var y=h.encrypt(l,this.kE,this.iv),_,O=r.from("BIE1");this.opts.noKey&&!this.opts.ephemeralKey?_=r.concat([O,y]):_=r.concat([O,this.Rbuf,y]);var F=s.sha256hmac(_,this.kM);return this.opts.shortTag&&(F=F.slice(0,4)),r.concat([_,F])},f.prototype.decrypt=function(l){o.checkArgument(r.isBuffer(l),"ciphetext must be a buffer");var y=32,_=4;this.opts.shortTag&&(y=4);var O=l.slice(0,4);if(!O.equals(r.from("BIE1")))throw new u.DecryptionError("Invalid Magic");if(!this.opts.noKey){var F;F=l.slice(4,37),this.opts.fixedPublicKey?console.log('Notice: Overriding PublicKey in message. Consider use "noKey" option if you are not sending message to electrum and do not want to use ephemeral key'):this._publicKey=n.fromDER(F),_=37}var B=l.slice(_,l.length-y),E=l.slice(l.length-y,l.length),I=s.sha256hmac(l.slice(0,l.length-y),this.kM);if(this.opts.shortTag&&(I=I.slice(0,4)),!E.equals(I))throw new u.ECIES.DecryptionError("Invalid checksum");return h.decrypt(B,this.kE,this.iv)},f.bitcoreECIES=a,t.exports=f});He("cQlxP",function(t,e){var r=rr.Buffer,n=Y("arkeG"),i=Y("bTTXN"),s=Y("6gAsx"),o=d6.ModeOfOperation.cbc,a=Y("7X5Fe"),u=function(){};u.encrypt=function(f,p,l){s.checkArgument(f),s.checkArgument(p),s.checkArgument(l),l=l||a.getRandomBuffer(16),f=d6.padding.pkcs7.pad(f);var y=new o(p,l),_=y.encrypt(f),O=r.concat([l,_]);return O},u.decrypt=function(f,p){s.checkArgument(f),s.checkArgument(p);var l=f.slice(0,16),y=f.slice(16),_=new o(p,l),O=_.decrypt(y);return O=d6.padding.pkcs7.strip(O),r.from(O)};var c=function f(p){if(!(this instanceof f))return new f;this.opts=p||{}};c.prototype.privateKey=function(f){return s.checkArgument(f,"no private key provided"),this._privateKey=f||null,this},c.prototype.publicKey=function(f){return s.checkArgument(f,"no public key provided"),this._publicKey=f||null,this};var h=function(f,p){var l="_"+f;Object.defineProperty(c.prototype,f,{configurable:!1,enumerable:!0,get:function(){var y=this[l];return y||(y=this[l]=p.apply(this)),y}})};h("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),h("kEkM",function(){var f=this._privateKey.bn,p=this._publicKey.point,l=p.mul(f),y=l.getX(),_=y.toBuffer({size:32});return i.sha512(_)}),h("kE",function(){return this.kEkM.slice(0,32)}),h("kM",function(){return this.kEkM.slice(32,64)}),c.prototype.encrypt=function(f,p){r.isBuffer(f)||(f=r.from(f)),p===void 0&&(p=i.sha256hmac(f,this._privateKey.toBuffer()).slice(0,16));var l=u.encrypt(f,this.kE,p),y=i.sha256hmac(l,this.kM);this.opts.shortTag&&(y=y.slice(0,4));var _;return this.opts.noKey?_=r.concat([l,y]):_=r.concat([this.Rbuf,l,y]),_},c.prototype.decrypt=function(f){s.checkArgument(f);var p=0,l=32;if(this.opts.shortTag&&(l=4),!this.opts.noKey){var y;switch(f[0]){case 4:y=f.slice(0,65);break;case 3:case 2:y=f.slice(0,33);break;default:throw new Error("Invalid type: "+f[0])}this._publicKey=n.fromDER(y),p+=y.length}var _=f.slice(p,f.length-l),O=f.slice(f.length-l,f.length),F=i.sha256hmac(_,this.kM);this.opts.shortTag&&(F=F.slice(0,4));for(var B=!0,E=0;E<O.length;E++)B&=O[E]===F[E];if(!B)throw new Error("Invalid checksum");return u.decrypt(_,this.kE)},t.exports=c});He("9fBEz",function(t,e){var r=rr.Buffer,n=Y("kBBbb"),i=Y("7smYJ"),s=Y("arkeG"),o=Y("iSUUt"),a=Y("2AZ1V"),u=Y("kmMTb"),c=Y("gIXub"),h=Y("bTTXN"),f=h.sha256sha256,p=Y("gk75r"),l=Y("6gAsx"),y=function _(O){return this instanceof _?(l.checkArgument(n.isString(O)||r.isBuffer(O),"First argument should be a string or Buffer"),n.isString(O)&&(this.messageBuffer=r.from(O)),r.isBuffer(O)&&(this.messageBuffer=O),this):new _(O)};y.sign=function(_,O){return new y(_).sign(O)},y.verify=function(_,O,F){return new y(_).verify(O,F)},y.MAGIC_BYTES=r.from(`Bitcoin Signed Message:
`),y.prototype.magicHash=function(){var O=a.varintBufNum(y.MAGIC_BYTES.length),F=a.varintBufNum(this.messageBuffer.length),B=r.concat([O,y.MAGIC_BYTES,F,this.messageBuffer]),E=f(B);return E},y.prototype._sign=function(O){l.checkArgument(O instanceof i,"First argument should be an instance of PrivateKey");var F=this.magicHash();return u.signWithCalcI(F,O)},y.prototype.sign=function(O){var F=this._sign(O);return F.toCompact().toString("base64")},y.prototype._verify=function(O,F){l.checkArgument(O instanceof s,"First argument should be an instance of PublicKey"),l.checkArgument(F instanceof c,"Second argument should be an instance of Signature");var B=this.magicHash(),E=u.verify(B,F,O);return E||(this.error="The signature was invalid"),E},y.prototype.verify=function(O,F){l.checkArgument(O),l.checkArgument(F&&n.isString(F)),n.isString(O)&&(O=o.fromString(O));var B=c.fromCompact(r.from(F,"base64")),E=new u;E.hashbuf=this.magicHash(),E.sig=B;var I=E.toPublicKey(),U=o.fromPublicKey(I,O.network);return O.toString()!==U.toString()?(this.error="The signature did not match the message digest",!1):this._verify(I,B)},y.fromString=function(_){return new y(_)},y.fromJSON=function(O){return p.isValidJSON(O)&&(O=JSON.parse(O)),y.fromObject(O)},y.prototype.toObject=function(){return{messageHex:this.messageBuffer.toString("hex")}},y.fromObject=function(_){let O=r.from(_.messageHex,"hex");return new y(O)},y.prototype.toJSON=function(){return JSON.stringify(this.toObject())},y.prototype.toString=function(){return this.messageBuffer.toString()},y.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=y});He("amN1b",function(t,e){var r=rr.Buffer,n=Y("dIoYd"),i=Y("bTTXN"),s=Y("7X5Fe"),o=Y("kBBbb"),a=Y("d2BaI"),u=Y("kooOK"),c=Y("6gAsx"),h=Y("4bgoH"),f=function(p,l){if(!(this instanceof f))return new f(p,l);o.isArray(p)&&(l=p,p=null);var y,_,O;if(r.isBuffer(p))O=p;else if(o.isString(p))_=C3.nfkd(p);else if(o.isNumber(p))y=p;else if(p)throw new u.InvalidArgument("data","Must be a Buffer, a string or an integer");if(y=y||128,l=l||f._getDictionary(_),_&&!l)throw new u.Mnemonic.UnknownWordlist(_);if(l=l||f.Words.ENGLISH,O&&(_=f._entropy2mnemonic(O,l)),_&&!f.isValid(_,l))throw new u.Mnemonic.InvalidMnemonic(_);if(y%32!==0||y<128)throw new u.InvalidArgument("ENT","Values must be ENT > 128 and ENT % 32 == 0");_=_||f._mnemonic(y,l),Object.defineProperty(this,"wordlist",{configurable:!1,value:l}),Object.defineProperty(this,"phrase",{configurable:!1,value:_})};f.fromRandom=function(p=f.Words.ENGLISH){return new f(p)},f.fromString=function(p,l=f.Words.ENGLISH){return new f(p,l)},f.Words=Y("kWjfg"),f.isValid=function(p,l){if(p=C3.nfkd(p),l=l||f._getDictionary(p),!l)return!1;for(var y=p.split(" "),_="",O=0;O<y.length;O++){var F=l.indexOf(y[O]);if(F<0)return!1;_=_+("00000000000"+F.toString(2)).slice(-11)}var B=_.length/33,E=_.slice(-B),I=_.slice(0,_.length-B),U=r.alloc(I.length/8);for(O=0;O<I.length/8;O++)U.writeUInt8(parseInt(_.slice(O*8,(O+1)*8),2),O);var N=f._entropyChecksum(U);return N===E},f._belongsToWordlist=function(p,l){for(var y=C3.nfkd(p).split(" "),_=0;_<y.length;_++){var O=l.indexOf(y[_]);if(O<0)return!1}return!0},f._getDictionary=function(p){if(!p)return null;for(var l=Object.keys(f.Words),y=0;y<l.length;y++){var _=l[y];if(f._belongsToWordlist(p,f.Words[_]))return f.Words[_]}return null},f.prototype.toSeed=function(p){return p=p||"",a(C3.nfkd(this.phrase),C3.nfkd("mnemonic"+p),2048,64)},f.fromSeed=function(p,l){return c.checkArgument(r.isBuffer(p),"seed must be a Buffer."),c.checkArgument(o.isArray(l)||o.isString(l),"wordlist must be a string or an array."),new f(p,l)},f.prototype.toHDPrivateKey=function(p,l){var y=this.toSeed(p);return h.fromSeed(y,l)},f.prototype.toString=function(){return this.phrase},f.prototype.inspect=function(){return"<Mnemonic: "+this.toString()+" >"},f._mnemonic=function(p,l){var y=s.getRandomBuffer(p/8);return f._entropy2mnemonic(y,l)},f._entropy2mnemonic=function(p,l){for(var y="",_=0;_<p.length;_++)y=y+("00000000"+p[_].toString(2)).slice(-8);if(y=y+f._entropyChecksum(p),y.length%11!==0)throw new u.InvalidEntropy(y);var O=[];for(_=0;_<y.length/11;_++){var F=parseInt(y.slice(_*11,(_+1)*11),2);O.push(l[F])}var B;return l===f.Words.JAPANESE?B=O.join("\u3000"):B=O.join(" "),B},f._entropyChecksum=function(p){for(var l=i.sha256(p),y=p.length*8,_=y/32,O=new n(l.toString("hex"),16).toString(2);O.length%256!==0;)O="0"+O;var F=O.slice(0,_);return F},t.exports=f});He("d2BaI",function(t,e){t.exports=Y("9Uipm")});He("9Uipm",function(t,e){var r=rr.Buffer;function n(i,s,o,a){var u=64;if(a>(Math.pow(2,32)-1)*u)throw Error("Requested key length too long");if(typeof i!="string"&&!r.isBuffer(i))throw new TypeError("key must a string or Buffer");if(typeof s!="string"&&!r.isBuffer(s))throw new TypeError("salt must a string or Buffer");typeof i=="string"&&(i=r.from(i)),typeof s=="string"&&(s=r.from(s));var c=r.alloc(a),h=r.alloc(u),f=r.alloc(u),p=r.alloc(s.length+4),l=Math.ceil(a/u),y=a-(l-1)*u;s.copy(p,0,0,s.length);for(var _=1;_<=l;_++){p[s.length+0]=_>>24&255,p[s.length+1]=_>>16&255,p[s.length+2]=_>>8&255,p[s.length+3]=_>>0&255,h=tl.hmac(tl.sha512,i).update(p).digest(),h.copy(f,0,0,u);for(var O=1;O<o;O++){h=tl.hmac(tl.sha512,i).update(h).digest();for(var F=0;F<u;F++)f[F]^=h[F]}var B=(_-1)*u,E=_===l?y:u;f.copy(c,B,0,E)}return c}t.exports=n});He("kWjfg",function(t,e){t.exports={CHINESE:Y("1BMvs"),ENGLISH:Y("hKmMn"),FRENCH:Y("lnczd"),ITALIAN:Y("dr8eV"),JAPANESE:Y("9uq94"),SPANISH:Y("8YfVJ")}});He("1BMvs",function(t,e){"use strict";var r=["\u7684","\u4E00","\u662F","\u5728","\u4E0D","\u4E86","\u6709","\u548C","\u4EBA","\u8FD9","\u4E2D","\u5927","\u4E3A","\u4E0A","\u4E2A","\u56FD","\u6211","\u4EE5","\u8981","\u4ED6","\u65F6","\u6765","\u7528","\u4EEC","\u751F","\u5230","\u4F5C","\u5730","\u4E8E","\u51FA","\u5C31","\u5206","\u5BF9","\u6210","\u4F1A","\u53EF","\u4E3B","\u53D1","\u5E74","\u52A8","\u540C","\u5DE5","\u4E5F","\u80FD","\u4E0B","\u8FC7","\u5B50","\u8BF4","\u4EA7","\u79CD","\u9762","\u800C","\u65B9","\u540E","\u591A","\u5B9A","\u884C","\u5B66","\u6CD5","\u6240","\u6C11","\u5F97","\u7ECF","\u5341","\u4E09","\u4E4B","\u8FDB","\u7740","\u7B49","\u90E8","\u5EA6","\u5BB6","\u7535","\u529B","\u91CC","\u5982","\u6C34","\u5316","\u9AD8","\u81EA","\u4E8C","\u7406","\u8D77","\u5C0F","\u7269","\u73B0","\u5B9E","\u52A0","\u91CF","\u90FD","\u4E24","\u4F53","\u5236","\u673A","\u5F53","\u4F7F","\u70B9","\u4ECE","\u4E1A","\u672C","\u53BB","\u628A","\u6027","\u597D","\u5E94","\u5F00","\u5B83","\u5408","\u8FD8","\u56E0","\u7531","\u5176","\u4E9B","\u7136","\u524D","\u5916","\u5929","\u653F","\u56DB","\u65E5","\u90A3","\u793E","\u4E49","\u4E8B","\u5E73","\u5F62","\u76F8","\u5168","\u8868","\u95F4","\u6837","\u4E0E","\u5173","\u5404","\u91CD","\u65B0","\u7EBF","\u5185","\u6570","\u6B63","\u5FC3","\u53CD","\u4F60","\u660E","\u770B","\u539F","\u53C8","\u4E48","\u5229","\u6BD4","\u6216","\u4F46","\u8D28","\u6C14","\u7B2C","\u5411","\u9053","\u547D","\u6B64","\u53D8","\u6761","\u53EA","\u6CA1","\u7ED3","\u89E3","\u95EE","\u610F","\u5EFA","\u6708","\u516C","\u65E0","\u7CFB","\u519B","\u5F88","\u60C5","\u8005","\u6700","\u7ACB","\u4EE3","\u60F3","\u5DF2","\u901A","\u5E76","\u63D0","\u76F4","\u9898","\u515A","\u7A0B","\u5C55","\u4E94","\u679C","\u6599","\u8C61","\u5458","\u9769","\u4F4D","\u5165","\u5E38","\u6587","\u603B","\u6B21","\u54C1","\u5F0F","\u6D3B","\u8BBE","\u53CA","\u7BA1","\u7279","\u4EF6","\u957F","\u6C42","\u8001","\u5934","\u57FA","\u8D44","\u8FB9","\u6D41","\u8DEF","\u7EA7","\u5C11","\u56FE","\u5C71","\u7EDF","\u63A5","\u77E5","\u8F83","\u5C06","\u7EC4","\u89C1","\u8BA1","\u522B","\u5979","\u624B","\u89D2","\u671F","\u6839","\u8BBA","\u8FD0","\u519C","\u6307","\u51E0","\u4E5D","\u533A","\u5F3A","\u653E","\u51B3","\u897F","\u88AB","\u5E72","\u505A","\u5FC5","\u6218","\u5148","\u56DE","\u5219","\u4EFB","\u53D6","\u636E","\u5904","\u961F","\u5357","\u7ED9","\u8272","\u5149","\u95E8","\u5373","\u4FDD","\u6CBB","\u5317","\u9020","\u767E","\u89C4","\u70ED","\u9886","\u4E03","\u6D77","\u53E3","\u4E1C","\u5BFC","\u5668","\u538B","\u5FD7","\u4E16","\u91D1","\u589E","\u4E89","\u6D4E","\u9636","\u6CB9","\u601D","\u672F","\u6781","\u4EA4","\u53D7","\u8054","\u4EC0","\u8BA4","\u516D","\u5171","\u6743","\u6536","\u8BC1","\u6539","\u6E05","\u7F8E","\u518D","\u91C7","\u8F6C","\u66F4","\u5355","\u98CE","\u5207","\u6253","\u767D","\u6559","\u901F","\u82B1","\u5E26","\u5B89","\u573A","\u8EAB","\u8F66","\u4F8B","\u771F","\u52A1","\u5177","\u4E07","\u6BCF","\u76EE","\u81F3","\u8FBE","\u8D70","\u79EF","\u793A","\u8BAE","\u58F0","\u62A5","\u6597","\u5B8C","\u7C7B","\u516B","\u79BB","\u534E","\u540D","\u786E","\u624D","\u79D1","\u5F20","\u4FE1","\u9A6C","\u8282","\u8BDD","\u7C73","\u6574","\u7A7A","\u5143","\u51B5","\u4ECA","\u96C6","\u6E29","\u4F20","\u571F","\u8BB8","\u6B65","\u7FA4","\u5E7F","\u77F3","\u8BB0","\u9700","\u6BB5","\u7814","\u754C","\u62C9","\u6797","\u5F8B","\u53EB","\u4E14","\u7A76","\u89C2","\u8D8A","\u7EC7","\u88C5","\u5F71","\u7B97","\u4F4E","\u6301","\u97F3","\u4F17","\u4E66","\u5E03","\u590D","\u5BB9","\u513F","\u987B","\u9645","\u5546","\u975E","\u9A8C","\u8FDE","\u65AD","\u6DF1","\u96BE","\u8FD1","\u77FF","\u5343","\u5468","\u59D4","\u7D20","\u6280","\u5907","\u534A","\u529E","\u9752","\u7701","\u5217","\u4E60","\u54CD","\u7EA6","\u652F","\u822C","\u53F2","\u611F","\u52B3","\u4FBF","\u56E2","\u5F80","\u9178","\u5386","\u5E02","\u514B","\u4F55","\u9664","\u6D88","\u6784","\u5E9C","\u79F0","\u592A","\u51C6","\u7CBE","\u503C","\u53F7","\u7387","\u65CF","\u7EF4","\u5212","\u9009","\u6807","\u5199","\u5B58","\u5019","\u6BDB","\u4EB2","\u5FEB","\u6548","\u65AF","\u9662","\u67E5","\u6C5F","\u578B","\u773C","\u738B","\u6309","\u683C","\u517B","\u6613","\u7F6E","\u6D3E","\u5C42","\u7247","\u59CB","\u5374","\u4E13","\u72B6","\u80B2","\u5382","\u4EAC","\u8BC6","\u9002","\u5C5E","\u5706","\u5305","\u706B","\u4F4F","\u8C03","\u6EE1","\u53BF","\u5C40","\u7167","\u53C2","\u7EA2","\u7EC6","\u5F15","\u542C","\u8BE5","\u94C1","\u4EF7","\u4E25","\u9996","\u5E95","\u6DB2","\u5B98","\u5FB7","\u968F","\u75C5","\u82CF","\u5931","\u5C14","\u6B7B","\u8BB2","\u914D","\u5973","\u9EC4","\u63A8","\u663E","\u8C08","\u7F6A","\u795E","\u827A","\u5462","\u5E2D","\u542B","\u4F01","\u671B","\u5BC6","\u6279","\u8425","\u9879","\u9632","\u4E3E","\u7403","\u82F1","\u6C27","\u52BF","\u544A","\u674E","\u53F0","\u843D","\u6728","\u5E2E","\u8F6E","\u7834","\u4E9A","\u5E08","\u56F4","\u6CE8","\u8FDC","\u5B57","\u6750","\u6392","\u4F9B","\u6CB3","\u6001","\u5C01","\u53E6","\u65BD","\u51CF","\u6811","\u6EB6","\u600E","\u6B62","\u6848","\u8A00","\u58EB","\u5747","\u6B66","\u56FA","\u53F6","\u9C7C","\u6CE2","\u89C6","\u4EC5","\u8D39","\u7D27","\u7231","\u5DE6","\u7AE0","\u65E9","\u671D","\u5BB3","\u7EED","\u8F7B","\u670D","\u8BD5","\u98DF","\u5145","\u5175","\u6E90","\u5224","\u62A4","\u53F8","\u8DB3","\u67D0","\u7EC3","\u5DEE","\u81F4","\u677F","\u7530","\u964D","\u9ED1","\u72AF","\u8D1F","\u51FB","\u8303","\u7EE7","\u5174","\u4F3C","\u4F59","\u575A","\u66F2","\u8F93","\u4FEE","\u6545","\u57CE","\u592B","\u591F","\u9001","\u7B14","\u8239","\u5360","\u53F3","\u8D22","\u5403","\u5BCC","\u6625","\u804C","\u89C9","\u6C49","\u753B","\u529F","\u5DF4","\u8DDF","\u867D","\u6742","\u98DE","\u68C0","\u5438","\u52A9","\u5347","\u9633","\u4E92","\u521D","\u521B","\u6297","\u8003","\u6295","\u574F","\u7B56","\u53E4","\u5F84","\u6362","\u672A","\u8DD1","\u7559","\u94A2","\u66FE","\u7AEF","\u8D23","\u7AD9","\u7B80","\u8FF0","\u94B1","\u526F","\u5C3D","\u5E1D","\u5C04","\u8349","\u51B2","\u627F","\u72EC","\u4EE4","\u9650","\u963F","\u5BA3","\u73AF","\u53CC","\u8BF7","\u8D85","\u5FAE","\u8BA9","\u63A7","\u5DDE","\u826F","\u8F74","\u627E","\u5426","\u7EAA","\u76CA","\u4F9D","\u4F18","\u9876","\u7840","\u8F7D","\u5012","\u623F","\u7A81","\u5750","\u7C89","\u654C","\u7565","\u5BA2","\u8881","\u51B7","\u80DC","\u7EDD","\u6790","\u5757","\u5242","\u6D4B","\u4E1D","\u534F","\u8BC9","\u5FF5","\u9648","\u4ECD","\u7F57","\u76D0","\u53CB","\u6D0B","\u9519","\u82E6","\u591C","\u5211","\u79FB","\u9891","\u9010","\u9760","\u6DF7","\u6BCD","\u77ED","\u76AE","\u7EC8","\u805A","\u6C7D","\u6751","\u4E91","\u54EA","\u65E2","\u8DDD","\u536B","\u505C","\u70C8","\u592E","\u5BDF","\u70E7","\u8FC5","\u5883","\u82E5","\u5370","\u6D32","\u523B","\u62EC","\u6FC0","\u5B54","\u641E","\u751A","\u5BA4","\u5F85","\u6838","\u6821","\u6563","\u4FB5","\u5427","\u7532","\u6E38","\u4E45","\u83DC","\u5473","\u65E7","\u6A21","\u6E56","\u8D27","\u635F","\u9884","\u963B","\u6BEB","\u666E","\u7A33","\u4E59","\u5988","\u690D","\u606F","\u6269","\u94F6","\u8BED","\u6325","\u9152","\u5B88","\u62FF","\u5E8F","\u7EB8","\u533B","\u7F3A","\u96E8","\u5417","\u9488","\u5218","\u554A","\u6025","\u5531","\u8BEF","\u8BAD","\u613F","\u5BA1","\u9644","\u83B7","\u8336","\u9C9C","\u7CAE","\u65A4","\u5B69","\u8131","\u786B","\u80A5","\u5584","\u9F99","\u6F14","\u7236","\u6E10","\u8840","\u6B22","\u68B0","\u638C","\u6B4C","\u6C99","\u521A","\u653B","\u8C13","\u76FE","\u8BA8","\u665A","\u7C92","\u4E71","\u71C3","\u77DB","\u4E4E","\u6740","\u836F","\u5B81","\u9C81","\u8D35","\u949F","\u7164","\u8BFB","\u73ED","\u4F2F","\u9999","\u4ECB","\u8FEB","\u53E5","\u4E30","\u57F9","\u63E1","\u5170","\u62C5","\u5F26","\u86CB","\u6C89","\u5047","\u7A7F","\u6267","\u7B54","\u4E50","\u8C01","\u987A","\u70DF","\u7F29","\u5F81","\u8138","\u559C","\u677E","\u811A","\u56F0","\u5F02","\u514D","\u80CC","\u661F","\u798F","\u4E70","\u67D3","\u4E95","\u6982","\u6162","\u6015","\u78C1","\u500D","\u7956","\u7687","\u4FC3","\u9759","\u8865","\u8BC4","\u7FFB","\u8089","\u8DF5","\u5C3C","\u8863","\u5BBD","\u626C","\u68C9","\u5E0C","\u4F24","\u64CD","\u5782","\u79CB","\u5B9C","\u6C22","\u5957","\u7763","\u632F","\u67B6","\u4EAE","\u672B","\u5BAA","\u5E86","\u7F16","\u725B","\u89E6","\u6620","\u96F7","\u9500","\u8BD7","\u5EA7","\u5C45","\u6293","\u88C2","\u80DE","\u547C","\u5A18","\u666F","\u5A01","\u7EFF","\u6676","\u539A","\u76DF","\u8861","\u9E21","\u5B59","\u5EF6","\u5371","\u80F6","\u5C4B","\u4E61","\u4E34","\u9646","\u987E","\u6389","\u5440","\u706F","\u5C81","\u63AA","\u675F","\u8010","\u5267","\u7389","\u8D75","\u8DF3","\u54E5","\u5B63","\u8BFE","\u51EF","\u80E1","\u989D","\u6B3E","\u7ECD","\u5377","\u9F50","\u4F1F","\u84B8","\u6B96","\u6C38","\u5B97","\u82D7","\u5DDD","\u7089","\u5CA9","\u5F31","\u96F6","\u6768","\u594F","\u6CBF","\u9732","\u6746","\u63A2","\u6ED1","\u9547","\u996D","\u6D53","\u822A","\u6000","\u8D76","\u5E93","\u593A","\u4F0A","\u7075","\u7A0E","\u9014","\u706D","\u8D5B","\u5F52","\u53EC","\u9F13","\u64AD","\u76D8","\u88C1","\u9669","\u5EB7","\u552F","\u5F55","\u83CC","\u7EAF","\u501F","\u7CD6","\u76D6","\u6A2A","\u7B26","\u79C1","\u52AA","\u5802","\u57DF","\u67AA","\u6DA6","\u5E45","\u54C8","\u7ADF","\u719F","\u866B","\u6CFD","\u8111","\u58E4","\u78B3","\u6B27","\u904D","\u4FA7","\u5BE8","\u6562","\u5F7B","\u8651","\u659C","\u8584","\u5EAD","\u7EB3","\u5F39","\u9972","\u4F38","\u6298","\u9EA6","\u6E7F","\u6697","\u8377","\u74E6","\u585E","\u5E8A","\u7B51","\u6076","\u6237","\u8BBF","\u5854","\u5947","\u900F","\u6881","\u5200","\u65CB","\u8FF9","\u5361","\u6C2F","\u9047","\u4EFD","\u6BD2","\u6CE5","\u9000","\u6D17","\u6446","\u7070","\u5F69","\u5356","\u8017","\u590F","\u62E9","\u5FD9","\u94DC","\u732E","\u786C","\u4E88","\u7E41","\u5708","\u96EA","\u51FD","\u4EA6","\u62BD","\u7BC7","\u9635","\u9634","\u4E01","\u5C3A","\u8FFD","\u5806","\u96C4","\u8FCE","\u6CDB","\u7238","\u697C","\u907F","\u8C0B","\u5428","\u91CE","\u732A","\u65D7","\u7D2F","\u504F","\u5178","\u9986","\u7D22","\u79E6","\u8102","\u6F6E","\u7237","\u8C46","\u5FFD","\u6258","\u60CA","\u5851","\u9057","\u6108","\u6731","\u66FF","\u7EA4","\u7C97","\u503E","\u5C1A","\u75DB","\u695A","\u8C22","\u594B","\u8D2D","\u78E8","\u541B","\u6C60","\u65C1","\u788E","\u9AA8","\u76D1","\u6355","\u5F1F","\u66B4","\u5272","\u8D2F","\u6B8A","\u91CA","\u8BCD","\u4EA1","\u58C1","\u987F","\u5B9D","\u5348","\u5C18","\u95FB","\u63ED","\u70AE","\u6B8B","\u51AC","\u6865","\u5987","\u8B66","\u7EFC","\u62DB","\u5434","\u4ED8","\u6D6E","\u906D","\u5F90","\u60A8","\u6447","\u8C37","\u8D5E","\u7BB1","\u9694","\u8BA2","\u7537","\u5439","\u56ED","\u7EB7","\u5510","\u8D25","\u5B8B","\u73BB","\u5DE8","\u8015","\u5766","\u8363","\u95ED","\u6E7E","\u952E","\u51E1","\u9A7B","\u9505","\u6551","\u6069","\u5265","\u51DD","\u78B1","\u9F7F","\u622A","\u70BC","\u9EBB","\u7EBA","\u7981","\u5E9F","\u76DB","\u7248","\u7F13","\u51C0","\u775B","\u660C","\u5A5A","\u6D89","\u7B52","\u5634","\u63D2","\u5CB8","\u6717","\u5E84","\u8857","\u85CF","\u59D1","\u8D38","\u8150","\u5974","\u5566","\u60EF","\u4E58","\u4F19","\u6062","\u5300","\u7EB1","\u624E","\u8FA9","\u8033","\u5F6A","\u81E3","\u4EBF","\u7483","\u62B5","\u8109","\u79C0","\u8428","\u4FC4","\u7F51","\u821E","\u5E97","\u55B7","\u7EB5","\u5BF8","\u6C57","\u6302","\u6D2A","\u8D3A","\u95EA","\u67EC","\u7206","\u70EF","\u6D25","\u7A3B","\u5899","\u8F6F","\u52C7","\u50CF","\u6EDA","\u5398","\u8499","\u82B3","\u80AF","\u5761","\u67F1","\u8361","\u817F","\u4EEA","\u65C5","\u5C3E","\u8F67","\u51B0","\u8D21","\u767B","\u9ECE","\u524A","\u94BB","\u52D2","\u9003","\u969C","\u6C28","\u90ED","\u5CF0","\u5E01","\u6E2F","\u4F0F","\u8F68","\u4EA9","\u6BD5","\u64E6","\u83AB","\u523A","\u6D6A","\u79D8","\u63F4","\u682A","\u5065","\u552E","\u80A1","\u5C9B","\u7518","\u6CE1","\u7761","\u7AE5","\u94F8","\u6C64","\u9600","\u4F11","\u6C47","\u820D","\u7267","\u7ED5","\u70B8","\u54F2","\u78F7","\u7EE9","\u670B","\u6DE1","\u5C16","\u542F","\u9677","\u67F4","\u5448","\u5F92","\u989C","\u6CEA","\u7A0D","\u5FD8","\u6CF5","\u84DD","\u62D6","\u6D1E","\u6388","\u955C","\u8F9B","\u58EE","\u950B","\u8D2B","\u865A","\u5F2F","\u6469","\u6CF0","\u5E7C","\u5EF7","\u5C0A","\u7A97","\u7EB2","\u5F04","\u96B6","\u7591","\u6C0F","\u5BAB","\u59D0","\u9707","\u745E","\u602A","\u5C24","\u7434","\u5FAA","\u63CF","\u819C","\u8FDD","\u5939","\u8170","\u7F18","\u73E0","\u7A77","\u68EE","\u679D","\u7AF9","\u6C9F","\u50AC","\u7EF3","\u5FC6","\u90A6","\u5269","\u5E78","\u6D46","\u680F","\u62E5","\u7259","\u8D2E","\u793C","\u6EE4","\u94A0","\u7EB9","\u7F62","\u62CD","\u54B1","\u558A","\u8896","\u57C3","\u52E4","\u7F5A","\u7126","\u6F5C","\u4F0D","\u58A8","\u6B32","\u7F1D","\u59D3","\u520A","\u9971","\u4EFF","\u5956","\u94DD","\u9B3C","\u4E3D","\u8DE8","\u9ED8","\u6316","\u94FE","\u626B","\u559D","\u888B","\u70AD","\u6C61","\u5E55","\u8BF8","\u5F27","\u52B1","\u6885","\u5976","\u6D01","\u707E","\u821F","\u9274","\u82EF","\u8BBC","\u62B1","\u6BC1","\u61C2","\u5BD2","\u667A","\u57D4","\u5BC4","\u5C4A","\u8DC3","\u6E21","\u6311","\u4E39","\u8270","\u8D1D","\u78B0","\u62D4","\u7239","\u6234","\u7801","\u68A6","\u82BD","\u7194","\u8D64","\u6E14","\u54ED","\u656C","\u9897","\u5954","\u94C5","\u4EF2","\u864E","\u7A00","\u59B9","\u4E4F","\u73CD","\u7533","\u684C","\u9075","\u5141","\u9686","\u87BA","\u4ED3","\u9B4F","\u9510","\u6653","\u6C2E","\u517C","\u9690","\u788D","\u8D6B","\u62E8","\u5FE0","\u8083","\u7F38","\u7275","\u62A2","\u535A","\u5DE7","\u58F3","\u5144","\u675C","\u8BAF","\u8BDA","\u78A7","\u7965","\u67EF","\u9875","\u5DE1","\u77E9","\u60B2","\u704C","\u9F84","\u4F26","\u7968","\u5BFB","\u6842","\u94FA","\u5723","\u6050","\u6070","\u90D1","\u8DA3","\u62AC","\u8352","\u817E","\u8D34","\u67D4","\u6EF4","\u731B","\u9614","\u8F86","\u59BB","\u586B","\u64A4","\u50A8","\u7B7E","\u95F9","\u6270","\u7D2B","\u7802","\u9012","\u620F","\u540A","\u9676","\u4F10","\u5582","\u7597","\u74F6","\u5A46","\u629A","\u81C2","\u6478","\u5FCD","\u867E","\u8721","\u90BB","\u80F8","\u5DE9","\u6324","\u5076","\u5F03","\u69FD","\u52B2","\u4E73","\u9093","\u5409","\u4EC1","\u70C2","\u7816","\u79DF","\u4E4C","\u8230","\u4F34","\u74DC","\u6D45","\u4E19","\u6682","\u71E5","\u6A61","\u67F3","\u8FF7","\u6696","\u724C","\u79E7","\u80C6","\u8BE6","\u7C27","\u8E0F","\u74F7","\u8C31","\u5446","\u5BBE","\u7CCA","\u6D1B","\u8F89","\u6124","\u7ADE","\u9699","\u6012","\u7C98","\u4E43","\u7EEA","\u80A9","\u7C4D","\u654F","\u6D82","\u7199","\u7686","\u4FA6","\u60AC","\u6398","\u4EAB","\u7EA0","\u9192","\u72C2","\u9501","\u6DC0","\u6068","\u7272","\u9738","\u722C","\u8D4F","\u9006","\u73A9","\u9675","\u795D","\u79D2","\u6D59","\u8C8C","\u5F79","\u5F7C","\u6089","\u9E2D","\u8D8B","\u51E4","\u6668","\u755C","\u8F88","\u79E9","\u5375","\u7F72","\u68AF","\u708E","\u6EE9","\u68CB","\u9A71","\u7B5B","\u5CE1","\u5192","\u5565","\u5BFF","\u8BD1","\u6D78","\u6CC9","\u5E3D","\u8FDF","\u7845","\u7586","\u8D37","\u6F0F","\u7A3F","\u51A0","\u5AE9","\u80C1","\u82AF","\u7262","\u53DB","\u8680","\u5965","\u9E23","\u5CAD","\u7F8A","\u51ED","\u4E32","\u5858","\u7ED8","\u9175","\u878D","\u76C6","\u9521","\u5E99","\u7B79","\u51BB","\u8F85","\u6444","\u88AD","\u7B4B","\u62D2","\u50DA","\u65F1","\u94BE","\u9E1F","\u6F06","\u6C88","\u7709","\u758F","\u6DFB","\u68D2","\u7A57","\u785D","\u97E9","\u903C","\u626D","\u4FA8","\u51C9","\u633A","\u7897","\u683D","\u7092","\u676F","\u60A3","\u998F","\u529D","\u8C6A","\u8FBD","\u52C3","\u9E3F","\u65E6","\u540F","\u62DC","\u72D7","\u57CB","\u8F8A","\u63A9","\u996E","\u642C","\u9A82","\u8F9E","\u52FE","\u6263","\u4F30","\u848B","\u7ED2","\u96FE","\u4E08","\u6735","\u59C6","\u62DF","\u5B87","\u8F91","\u9655","\u96D5","\u507F","\u84C4","\u5D07","\u526A","\u5021","\u5385","\u54AC","\u9A76","\u85AF","\u5237","\u65A5","\u756A","\u8D4B","\u5949","\u4F5B","\u6D47","\u6F2B","\u66FC","\u6247","\u9499","\u6843","\u6276","\u4ED4","\u8FD4","\u4FD7","\u4E8F","\u8154","\u978B","\u68F1","\u8986","\u6846","\u6084","\u53D4","\u649E","\u9A97","\u52D8","\u65FA","\u6CB8","\u5B64","\u5410","\u5B5F","\u6E20","\u5C48","\u75BE","\u5999","\u60DC","\u4EF0","\u72E0","\u80C0","\u8C10","\u629B","\u9709","\u6851","\u5C97","\u561B","\u8870","\u76D7","\u6E17","\u810F","\u8D56","\u6D8C","\u751C","\u66F9","\u9605","\u808C","\u54E9","\u5389","\u70C3","\u7EAC","\u6BC5","\u6628","\u4F2A","\u75C7","\u716E","\u53F9","\u9489","\u642D","\u830E","\u7B3C","\u9177","\u5077","\u5F13","\u9525","\u6052","\u6770","\u5751","\u9F3B","\u7FFC","\u7EB6","\u53D9","\u72F1","\u902E","\u7F50","\u7EDC","\u68DA","\u6291","\u81A8","\u852C","\u5BFA","\u9AA4","\u7A46","\u51B6","\u67AF","\u518C","\u5C38","\u51F8","\u7EC5","\u576F","\u727A","\u7130","\u8F70","\u6B23","\u664B","\u7626","\u5FA1","\u952D","\u9526","\u4E27","\u65EC","\u953B","\u5784","\u641C","\u6251","\u9080","\u4EAD","\u916F","\u8FC8","\u8212","\u8106","\u9176","\u95F2","\u5FE7","\u915A","\u987D","\u7FBD","\u6DA8","\u5378","\u4ED7","\u966A","\u8F9F","\u60E9","\u676D","\u59DA","\u809A","\u6349","\u98D8","\u6F02","\u6606","\u6B3A","\u543E","\u90CE","\u70F7","\u6C41","\u5475","\u9970","\u8427","\u96C5","\u90AE","\u8FC1","\u71D5","\u6492","\u59FB","\u8D74","\u5BB4","\u70E6","\u503A","\u5E10","\u6591","\u94C3","\u65E8","\u9187","\u8463","\u997C","\u96CF","\u59FF","\u62CC","\u5085","\u8179","\u59A5","\u63C9","\u8D24","\u62C6","\u6B6A","\u8461","\u80FA","\u4E22","\u6D69","\u5FBD","\u6602","\u57AB","\u6321","\u89C8","\u8D2A","\u6170","\u7F34","\u6C6A","\u614C","\u51AF","\u8BFA","\u59DC","\u8C0A","\u51F6","\u52A3","\u8BEC","\u8000","\u660F","\u8EBA","\u76C8","\u9A91","\u4E54","\u6EAA","\u4E1B","\u5362","\u62B9","\u95F7","\u54A8","\u522E","\u9A7E","\u7F06","\u609F","\u6458","\u94D2","\u63B7","\u9887","\u5E7B","\u67C4","\u60E0","\u60E8","\u4F73","\u4EC7","\u814A","\u7A9D","\u6DA4","\u5251","\u77A7","\u5821","\u6CFC","\u8471","\u7F69","\u970D","\u635E","\u80CE","\u82CD","\u6EE8","\u4FE9","\u6345","\u6E58","\u780D","\u971E","\u90B5","\u8404","\u75AF","\u6DEE","\u9042","\u718A","\u7CAA","\u70D8","\u5BBF","\u6863","\u6208","\u9A73","\u5AC2","\u88D5","\u5F99","\u7BAD","\u6350","\u80A0","\u6491","\u6652","\u8FA8","\u6BBF","\u83B2","\u644A","\u6405","\u9171","\u5C4F","\u75AB","\u54C0","\u8521","\u5835","\u6CAB","\u76B1","\u7545","\u53E0","\u9601","\u83B1","\u6572","\u8F96","\u94A9","\u75D5","\u575D","\u5DF7","\u997F","\u7978","\u4E18","\u7384","\u6E9C","\u66F0","\u903B","\u5F6D","\u5C1D","\u537F","\u59A8","\u8247","\u541E","\u97E6","\u6028","\u77EE","\u6B47"];t.exports=r});He("hKmMn",function(t,e){"use strict";var r=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];t.exports=r});He("lnczd",function(t,e){var r=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","acade\u0301mie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acque\u0301rir","acronyme","acteur","actif","actuel","adepte","ade\u0301quat","adhe\u0301sif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","ae\u0301rer","ae\u0301ronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agre\u0301able","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","alge\u0300bre","algue","alie\u0301ner","aliment","alle\u0301ger","alliage","allouer","allumer","alourdir","alpaga","altesse","alve\u0301ole","amateur","ambigu","ambre","ame\u0301nager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","ane\u0301antir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","ape\u0301ritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arte\u0301riel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannie\u0300re","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","be\u0301lier","belote","be\u0301ne\u0301fice","berceau","berger","berline","bermuda","besace","besogne","be\u0301tail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","bre\u0300che","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafe\u0301ine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","came\u0301ra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","ce\u0301dille","ceinture","ce\u0301leste","cellule","cendrier","censurer","central","cercle","ce\u0301re\u0301bral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","che\u0301quier","chercher","cheval","chien","chiffre","chignon","chime\u0300re","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cine\u0301ma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohe\u0301sion","coiffer","coincer","cole\u0300re","colibri","colline","colmater","colonel","combat","come\u0301die","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","corte\u0300ge","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","cre\u0301ature","cre\u0301diter","cre\u0301meux","creuser","crevette","cribler","crier","cristal","crite\u0300re","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuille\u0300re","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","de\u0301battre","de\u0301biter","de\u0301border","de\u0301brider","de\u0301butant","de\u0301caler","de\u0301cembre","de\u0301chirer","de\u0301cider","de\u0301clarer","de\u0301corer","de\u0301crire","de\u0301cupler","de\u0301dale","de\u0301ductif","de\u0301esse","de\u0301fensif","de\u0301filer","de\u0301frayer","de\u0301gager","de\u0301givrer","de\u0301glutir","de\u0301grafer","de\u0301jeuner","de\u0301lice","de\u0301loger","demander","demeurer","de\u0301molir","de\u0301nicher","de\u0301nouer","dentelle","de\u0301nuder","de\u0301part","de\u0301penser","de\u0301phaser","de\u0301placer","de\u0301poser","de\u0301ranger","de\u0301rober","de\u0301sastre","descente","de\u0301sert","de\u0301signer","de\u0301sobe\u0301ir","dessiner","destrier","de\u0301tacher","de\u0301tester","de\u0301tourer","de\u0301tresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","diffe\u0301rer","dige\u0301rer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","e\u0301blouir","e\u0301carter","e\u0301charpe","e\u0301chelle","e\u0301clairer","e\u0301clipse","e\u0301clore","e\u0301cluse","e\u0301cole","e\u0301conomie","e\u0301corce","e\u0301couter","e\u0301craser","e\u0301cre\u0301mer","e\u0301crivain","e\u0301crou","e\u0301cume","e\u0301cureuil","e\u0301difier","e\u0301duquer","effacer","effectif","effigie","effort","effrayer","effusion","e\u0301galiser","e\u0301garer","e\u0301jecter","e\u0301laborer","e\u0301largir","e\u0301lectron","e\u0301le\u0301gant","e\u0301le\u0301phant","e\u0301le\u0300ve","e\u0301ligible","e\u0301litisme","e\u0301loge","e\u0301lucider","e\u0301luder","emballer","embellir","embryon","e\u0301meraude","e\u0301mission","emmener","e\u0301motion","e\u0301mouvoir","empereur","employer","emporter","emprise","e\u0301mulsion","encadrer","enche\u0300re","enclave","encoche","endiguer","endosser","endroit","enduire","e\u0301nergie","enfance","enfermer","enfouir","engager","engin","englober","e\u0301nigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","e\u0301nume\u0301rer","envahir","enviable","envoyer","enzyme","e\u0301olien","e\u0301paissir","e\u0301pargne","e\u0301patant","e\u0301paule","e\u0301picerie","e\u0301pide\u0301mie","e\u0301pier","e\u0301pilogue","e\u0301pine","e\u0301pisode","e\u0301pitaphe","e\u0301poque","e\u0301preuve","e\u0301prouver","e\u0301puisant","e\u0301querre","e\u0301quipe","e\u0301riger","e\u0301rosion","erreur","e\u0301ruption","escalier","espadon","espe\u0300ce","espie\u0300gle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","e\u0301tage\u0300re","e\u0301taler","e\u0301tanche","e\u0301tatique","e\u0301teindre","e\u0301tendoir","e\u0301ternel","e\u0301thanol","e\u0301thique","ethnie","e\u0301tirer","e\u0301toffer","e\u0301toile","e\u0301tonnant","e\u0301tourdir","e\u0301trange","e\u0301troit","e\u0301tude","euphorie","e\u0301valuer","e\u0301vasion","e\u0301ventail","e\u0301vidence","e\u0301viter","e\u0301volutif","e\u0301voquer","exact","exage\u0301rer","exaucer","exceller","excitant","exclusif","excuse","exe\u0301cuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expe\u0301dier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fe\u0301brile","fe\u0301conder","fe\u0301de\u0301rer","fe\u0301lin","femme","fe\u0301mur","fendoir","fe\u0301odal","fermer","fe\u0301roce","ferveur","festival","feuille","feutre","fe\u0301vrier","fiasco","ficeler","fictif","fide\u0300le","figure","filature","filetage","filie\u0300re","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fle\u0301au","fle\u0300che","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fouge\u0300re","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fre\u0301gate","freiner","frelon","fre\u0301mir","fre\u0301ne\u0301sie","fre\u0300re","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","ge\u0301ant","ge\u0301latine","ge\u0301lule","gendarme","ge\u0301ne\u0301ral","ge\u0301nie","genou","gentil","ge\u0301ologie","ge\u0301ome\u0300tre","ge\u0301ranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruye\u0300re","gue\u0301pard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","he\u0301lium","he\u0301matome","herbe","he\u0301risson","hermine","he\u0301ron","he\u0301siter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homoge\u0300ne","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygie\u0300ne","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impe\u0301rial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","ine\u0301dit","ineptie","inexact","infini","infliger","informer","infusion","inge\u0301rer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irre\u0301el","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juve\u0301nile","kayak","kimono","kiosque","label","labial","labourer","lace\u0301rer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","le\u0301gal","le\u0301ger","le\u0301gume","lessive","lettre","levier","lexique","le\u0301zard","liasse","libe\u0301rer","libre","licence","licorne","lie\u0300ge","lie\u0300vre","ligature","ligoter","ligue","limer","limite","limonade","limpide","line\u0301aire","lingot","lionceau","liquide","lisie\u0300re","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumie\u0300re","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","male\u0301fice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","mate\u0301riel","matie\u0300re","matraque","maudire","maussade","mauve","maximal","me\u0301chant","me\u0301connu","me\u0301daille","me\u0301decin","me\u0301diter","me\u0301duse","meilleur","me\u0301lange","me\u0301lodie","membre","me\u0301moire","menacer","mener","menhir","mensonge","mentor","mercredi","me\u0301rite","merle","messager","mesure","me\u0301tal","me\u0301te\u0301ore","me\u0301thode","me\u0301tier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mine\u0301ral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","mure\u0300ne","murmure","muscle","muse\u0301um","musicien","mutation","muter","mutuel","myriade","myrtille","myste\u0300re","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","ne\u0301buleux","nectar","ne\u0301faste","ne\u0301gation","ne\u0301gliger","ne\u0301gocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","nume\u0301ro","nuptial","nuque","nutritif","obe\u0301ir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","oce\u0301an","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","one\u0301reux","onirique","opale","opaque","ope\u0301rer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxyge\u0300ne","ozone","paisible","palace","palmare\u0300s","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","paste\u0300que","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pe\u0301lican","pelle","pelouse","peluche","pendule","pe\u0301ne\u0301trer","pe\u0301nible","pensif","pe\u0301nurie","pe\u0301pite","pe\u0301plum","perdrix","perforer","pe\u0301riode","permuter","perplexe","persil","perte","peser","pe\u0301tale","petit","pe\u0301trir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pie\u0300ce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poe\u0301sie","poe\u0300te","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponde\u0301rer","poney","portique","position","posse\u0301der","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","pre\u0301cieux","pre\u0301dire","pre\u0301fixe","pre\u0301lude","pre\u0301nom","pre\u0301sence","pre\u0301texte","pre\u0301voir","primitif","prince","prison","priver","proble\u0300me","proce\u0301der","prodige","profond","progre\u0300s","proie","projeter","prologue","promener","propre","prospe\u0300re","prote\u0301ger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quie\u0301tude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","re\u0301actif","re\u0301agir","re\u0301aliser","re\u0301animer","recevoir","re\u0301citer","re\u0301clamer","re\u0301colter","recruter","reculer","recycler","re\u0301diger","redouter","refaire","re\u0301flexe","re\u0301former","refrain","refuge","re\u0301galien","re\u0301gion","re\u0301glage","re\u0301gulier","re\u0301ite\u0301rer","rejeter","rejouer","relatif","relever","relief","remarque","reme\u0300de","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","re\u0301serve","re\u0301sineux","re\u0301soudre","respect","rester","re\u0301sultat","re\u0301tablir","retenir","re\u0301ticule","retomber","retracer","re\u0301union","re\u0301ussir","revanche","revivre","re\u0301volte","re\u0301vulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivie\u0300re","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","sce\u0301le\u0301rat","sce\u0301nario","sceptre","sche\u0301ma","science","scinder","score","scrutin","sculpter","se\u0301ance","se\u0301cable","se\u0301cher","secouer","se\u0301cre\u0301ter","se\u0301datif","se\u0301duire","seigneur","se\u0301jour","se\u0301lectif","semaine","sembler","semence","se\u0301minal","se\u0301nateur","sensible","sentence","se\u0301parer","se\u0301quence","serein","sergent","se\u0301rieux","serrure","se\u0301rum","service","se\u0301same","se\u0301vir","sevrage","sextuple","side\u0301ral","sie\u0300cle","sie\u0301ger","siffler","sigle","signal","silence","silicium","simple","since\u0300re","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spe\u0301cial","sphe\u0300re","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succe\u0300s","sucre","suffixe","sugge\u0301rer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","syme\u0301trie","synapse","syntaxe","syste\u0300me","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","te\u0301moin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","te\u0301tine","texte","the\u0300me","the\u0301orie","the\u0301rapie","thorax","tibia","tie\u0300de","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tole\u0301rant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","tre\u0300fle","tremper","tre\u0301sor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","ve\u0301ge\u0301tal","ve\u0301hicule","veinard","ve\u0301loce","vendredi","ve\u0301ne\u0301rer","venger","venimeux","ventouse","verdure","ve\u0301rin","vernir","verrou","verser","vertu","veston","ve\u0301te\u0301ran","ve\u0301tuste","vexant","vexer","viaduc","viande","victoire","vidange","vide\u0301o","vignette","vigueur","vilain","village","vinaigre","violon","vipe\u0300re","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xe\u0301non","yacht","ze\u0300bre","ze\u0301nith","zeste","zoologie"];t.exports=r});He("dr8eV",function(t,e){"use strict";var r=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"];t.exports=r});He("9uq94",function(t,e){"use strict";var r=["\u3042\u3044\u3053\u304F\u3057\u3093","\u3042\u3044\u3055\u3064","\u3042\u3044\u305F\u3099","\u3042\u304A\u305D\u3099\u3089","\u3042\u304B\u3061\u3083\u3093","\u3042\u304D\u308B","\u3042\u3051\u304B\u3099\u305F","\u3042\u3051\u308B","\u3042\u3053\u304B\u3099\u308C\u308B","\u3042\u3055\u3044","\u3042\u3055\u3072","\u3042\u3057\u3042\u3068","\u3042\u3057\u3099\u308F\u3046","\u3042\u3059\u3099\u304B\u308B","\u3042\u3059\u3099\u304D","\u3042\u305D\u3075\u3099","\u3042\u305F\u3048\u308B","\u3042\u305F\u305F\u3081\u308B","\u3042\u305F\u308A\u307E\u3048","\u3042\u305F\u308B","\u3042\u3064\u3044","\u3042\u3064\u304B\u3046","\u3042\u3063\u3057\u3085\u304F","\u3042\u3064\u307E\u308A","\u3042\u3064\u3081\u308B","\u3042\u3066\u306A","\u3042\u3066\u306F\u307E\u308B","\u3042\u3072\u308B","\u3042\u3075\u3099\u3089","\u3042\u3075\u3099\u308B","\u3042\u3075\u308C\u308B","\u3042\u307E\u3044","\u3042\u307E\u3068\u3099","\u3042\u307E\u3084\u304B\u3059","\u3042\u307E\u308A","\u3042\u307F\u3082\u306E","\u3042\u3081\u308A\u304B","\u3042\u3084\u307E\u308B","\u3042\u3086\u3080","\u3042\u3089\u3044\u304F\u3099\u307E","\u3042\u3089\u3057","\u3042\u3089\u3059\u3057\u3099","\u3042\u3089\u305F\u3081\u308B","\u3042\u3089\u3086\u308B","\u3042\u3089\u308F\u3059","\u3042\u308A\u304B\u3099\u3068\u3046","\u3042\u308F\u305B\u308B","\u3042\u308F\u3066\u308B","\u3042\u3093\u3044","\u3042\u3093\u304B\u3099\u3044","\u3042\u3093\u3053","\u3042\u3093\u305B\u3099\u3093","\u3042\u3093\u3066\u3044","\u3042\u3093\u306A\u3044","\u3042\u3093\u307E\u308A","\u3044\u3044\u305F\u3099\u3059","\u3044\u304A\u3093","\u3044\u304B\u3099\u3044","\u3044\u304B\u3099\u304F","\u3044\u304D\u304A\u3044","\u3044\u304D\u306A\u308A","\u3044\u304D\u3082\u306E","\u3044\u304D\u308B","\u3044\u304F\u3057\u3099","\u3044\u304F\u3075\u3099\u3093","\u3044\u3051\u306F\u3099\u306A","\u3044\u3051\u3093","\u3044\u3053\u3046","\u3044\u3053\u304F","\u3044\u3053\u3064","\u3044\u3055\u307E\u3057\u3044","\u3044\u3055\u3093","\u3044\u3057\u304D","\u3044\u3057\u3099\u3085\u3046","\u3044\u3057\u3099\u3087\u3046","\u3044\u3057\u3099\u308F\u308B","\u3044\u3059\u3099\u307F","\u3044\u3059\u3099\u308C","\u3044\u305B\u3044","\u3044\u305B\u3048\u3072\u3099","\u3044\u305B\u304B\u3044","\u3044\u305B\u304D","\u3044\u305B\u3099\u3093","\u3044\u305D\u3046\u308D\u3046","\u3044\u305D\u304B\u3099\u3057\u3044","\u3044\u305F\u3099\u3044","\u3044\u305F\u3099\u304F","\u3044\u305F\u3059\u3099\u3089","\u3044\u305F\u307F","\u3044\u305F\u308A\u3042","\u3044\u3061\u304A\u3046","\u3044\u3061\u3057\u3099","\u3044\u3061\u3068\u3099","\u3044\u3061\u306F\u3099","\u3044\u3061\u3075\u3099","\u3044\u3061\u308A\u3085\u3046","\u3044\u3064\u304B","\u3044\u3063\u3057\u3085\u3093","\u3044\u3063\u305B\u3044","\u3044\u3063\u305D\u3046","\u3044\u3063\u305F\u3093","\u3044\u3063\u3061","\u3044\u3063\u3066\u3044","\u3044\u3063\u307B\u309A\u3046","\u3044\u3066\u3055\u3099","\u3044\u3066\u3093","\u3044\u3068\u3099\u3046","\u3044\u3068\u3053","\u3044\u306A\u3044","\u3044\u306A\u304B","\u3044\u306D\u3080\u308A","\u3044\u306E\u3061","\u3044\u306E\u308B","\u3044\u306F\u3064","\u3044\u306F\u3099\u308B","\u3044\u306F\u3093","\u3044\u3072\u3099\u304D","\u3044\u3072\u3093","\u3044\u3075\u304F","\u3044\u3078\u3093","\u3044\u307B\u3046","\u3044\u307F\u3093","\u3044\u3082\u3046\u3068","\u3044\u3082\u305F\u308C","\u3044\u3082\u308A","\u3044\u3084\u304B\u3099\u308B","\u3044\u3084\u3059","\u3044\u3088\u304B\u3093","\u3044\u3088\u304F","\u3044\u3089\u3044","\u3044\u3089\u3059\u3068","\u3044\u308A\u304F\u3099\u3061","\u3044\u308A\u3087\u3046","\u3044\u308C\u3044","\u3044\u308C\u3082\u306E","\u3044\u308C\u308B","\u3044\u308D\u3048\u3093\u3072\u309A\u3064","\u3044\u308F\u3044","\u3044\u308F\u3046","\u3044\u308F\u304B\u3093","\u3044\u308F\u306F\u3099","\u3044\u308F\u3086\u308B","\u3044\u3093\u3051\u3099\u3093\u307E\u3081","\u3044\u3093\u3055\u3064","\u3044\u3093\u3057\u3087\u3046","\u3044\u3093\u3088\u3046","\u3046\u3048\u304D","\u3046\u3048\u308B","\u3046\u304A\u3055\u3099","\u3046\u304B\u3099\u3044","\u3046\u304B\u3075\u3099","\u3046\u304B\u3078\u3099\u308B","\u3046\u304D\u308F","\u3046\u304F\u3089\u3044\u306A","\u3046\u304F\u308C\u308C","\u3046\u3051\u305F\u307E\u308F\u308B","\u3046\u3051\u3064\u3051","\u3046\u3051\u3068\u308B","\u3046\u3051\u3082\u3064","\u3046\u3051\u308B","\u3046\u3053\u3099\u304B\u3059","\u3046\u3053\u3099\u304F","\u3046\u3053\u3093","\u3046\u3055\u304D\u3099","\u3046\u3057\u306A\u3046","\u3046\u3057\u308D\u304B\u3099\u307F","\u3046\u3059\u3044","\u3046\u3059\u304D\u3099","\u3046\u3059\u304F\u3099\u3089\u3044","\u3046\u3059\u3081\u308B","\u3046\u305B\u3064","\u3046\u3061\u3042\u308F\u305B","\u3046\u3061\u304B\u3099\u308F","\u3046\u3061\u304D","\u3046\u3061\u3085\u3046","\u3046\u3063\u304B\u308A","\u3046\u3064\u304F\u3057\u3044","\u3046\u3063\u305F\u3048\u308B","\u3046\u3064\u308B","\u3046\u3068\u3099\u3093","\u3046\u306A\u304D\u3099","\u3046\u306A\u3057\u3099","\u3046\u306A\u3059\u3099\u304F","\u3046\u306A\u308B","\u3046\u306D\u308B","\u3046\u306E\u3046","\u3046\u3075\u3099\u3051\u3099","\u3046\u3075\u3099\u3053\u3099\u3048","\u3046\u307E\u308C\u308B","\u3046\u3081\u308B","\u3046\u3082\u3046","\u3046\u3084\u307E\u3046","\u3046\u3088\u304F","\u3046\u3089\u304B\u3099\u3048\u3059","\u3046\u3089\u304F\u3099\u3061","\u3046\u3089\u306A\u3044","\u3046\u308A\u3042\u3051\u3099","\u3046\u308A\u304D\u308C","\u3046\u308B\u3055\u3044","\u3046\u308C\u3057\u3044","\u3046\u308C\u3086\u304D","\u3046\u308C\u308B","\u3046\u308D\u3053","\u3046\u308F\u304D","\u3046\u308F\u3055","\u3046\u3093\u3053\u3046","\u3046\u3093\u3061\u3093","\u3046\u3093\u3066\u3093","\u3046\u3093\u3068\u3099\u3046","\u3048\u3044\u3048\u3093","\u3048\u3044\u304B\u3099","\u3048\u3044\u304D\u3087\u3046","\u3048\u3044\u3053\u3099","\u3048\u3044\u305B\u3044","\u3048\u3044\u3075\u3099\u3093","\u3048\u3044\u3088\u3046","\u3048\u3044\u308F","\u3048\u304A\u308A","\u3048\u304B\u3099\u304A","\u3048\u304B\u3099\u304F","\u3048\u304D\u305F\u3044","\u3048\u304F\u305B\u308B","\u3048\u3057\u3083\u304F","\u3048\u3059\u3066","\u3048\u3064\u3089\u3093","\u3048\u306E\u304F\u3099","\u3048\u307B\u3046\u307E\u304D","\u3048\u307B\u3093","\u3048\u307E\u304D","\u3048\u3082\u3057\u3099","\u3048\u3082\u306E","\u3048\u3089\u3044","\u3048\u3089\u3075\u3099","\u3048\u308A\u3042","\u3048\u3093\u3048\u3093","\u3048\u3093\u304B\u3044","\u3048\u3093\u304D\u3099","\u3048\u3093\u3051\u3099\u304D","\u3048\u3093\u3057\u3085\u3046","\u3048\u3093\u305B\u3099\u3064","\u3048\u3093\u305D\u304F","\u3048\u3093\u3061\u3087\u3046","\u3048\u3093\u3068\u3064","\u304A\u3044\u304B\u3051\u308B","\u304A\u3044\u3053\u3059","\u304A\u3044\u3057\u3044","\u304A\u3044\u3064\u304F","\u304A\u3046\u3048\u3093","\u304A\u3046\u3055\u307E","\u304A\u3046\u3057\u3099","\u304A\u3046\u305B\u3064","\u304A\u3046\u305F\u3044","\u304A\u3046\u3075\u304F","\u304A\u3046\u3078\u3099\u3044","\u304A\u3046\u3088\u3046","\u304A\u3048\u308B","\u304A\u304A\u3044","\u304A\u304A\u3046","\u304A\u304A\u3068\u3099\u304A\u308A","\u304A\u304A\u3084","\u304A\u304A\u3088\u305D","\u304A\u304B\u3048\u308A","\u304A\u304B\u3059\u3099","\u304A\u304B\u3099\u3080","\u304A\u304B\u308F\u308A","\u304A\u304D\u3099\u306A\u3046","\u304A\u304D\u308B","\u304A\u304F\u3055\u307E","\u304A\u304F\u3057\u3099\u3087\u3046","\u304A\u304F\u308A\u304B\u3099\u306A","\u304A\u304F\u308B","\u304A\u304F\u308C\u308B","\u304A\u3053\u3059","\u304A\u3053\u306A\u3046","\u304A\u3053\u308B","\u304A\u3055\u3048\u308B","\u304A\u3055\u306A\u3044","\u304A\u3055\u3081\u308B","\u304A\u3057\u3044\u308C","\u304A\u3057\u3048\u308B","\u304A\u3057\u3099\u304D\u3099","\u304A\u3057\u3099\u3055\u3093","\u304A\u3057\u3083\u308C","\u304A\u305D\u3089\u304F","\u304A\u305D\u308F\u308B","\u304A\u305F\u304B\u3099\u3044","\u304A\u305F\u304F","\u304A\u305F\u3099\u3084\u304B","\u304A\u3061\u3064\u304F","\u304A\u3063\u3068","\u304A\u3064\u308A","\u304A\u3066\u3099\u304B\u3051","\u304A\u3068\u3057\u3082\u306E","\u304A\u3068\u306A\u3057\u3044","\u304A\u3068\u3099\u308A","\u304A\u3068\u3099\u308D\u304B\u3059","\u304A\u306F\u3099\u3055\u3093","\u304A\u307E\u3044\u308A","\u304A\u3081\u3066\u3099\u3068\u3046","\u304A\u3082\u3044\u3066\u3099","\u304A\u3082\u3046","\u304A\u3082\u305F\u3044","\u304A\u3082\u3061\u3083","\u304A\u3084\u3064","\u304A\u3084\u3086\u3072\u3099","\u304A\u3088\u307B\u3099\u3059","\u304A\u3089\u3093\u305F\u3099","\u304A\u308D\u3059","\u304A\u3093\u304B\u3099\u304F","\u304A\u3093\u3051\u3044","\u304A\u3093\u3057\u3083","\u304A\u3093\u305B\u3093","\u304A\u3093\u305F\u3099\u3093","\u304A\u3093\u3061\u3085\u3046","\u304A\u3093\u3068\u3099\u3051\u3044","\u304B\u3042\u3064","\u304B\u3044\u304B\u3099","\u304B\u3099\u3044\u304D","\u304B\u3099\u3044\u3051\u3093","\u304B\u3099\u3044\u3053\u3046","\u304B\u3044\u3055\u3064","\u304B\u3044\u3057\u3083","\u304B\u3044\u3059\u3044\u3088\u304F","\u304B\u3044\u305B\u3099\u3093","\u304B\u3044\u305D\u3099\u3046\u3068\u3099","\u304B\u3044\u3064\u3046","\u304B\u3044\u3066\u3093","\u304B\u3044\u3068\u3046","\u304B\u3044\u3075\u304F","\u304B\u3099\u3044\u3078\u304D","\u304B\u3044\u307B\u3046","\u304B\u3044\u3088\u3046","\u304B\u3099\u3044\u3089\u3044","\u304B\u3044\u308F","\u304B\u3048\u308B","\u304B\u304A\u308A","\u304B\u304B\u3048\u308B","\u304B\u304B\u3099\u304F","\u304B\u304B\u3099\u3057","\u304B\u304B\u3099\u307F","\u304B\u304F\u3053\u3099","\u304B\u304F\u3068\u304F","\u304B\u3055\u3099\u308B","\u304B\u3099\u305D\u3099\u3046","\u304B\u305F\u3044","\u304B\u305F\u3061","\u304B\u3099\u3061\u3087\u3046","\u304B\u3099\u3063\u304D\u3085\u3046","\u304B\u3099\u3063\u3053\u3046","\u304B\u3099\u3063\u3055\u3093","\u304B\u3099\u3063\u3057\u3087\u3046","\u304B\u306A\u3055\u3099\u308F\u3057","\u304B\u306E\u3046","\u304B\u3099\u306F\u304F","\u304B\u3075\u3099\u304B","\u304B\u307B\u3046","\u304B\u307B\u3053\u3099","\u304B\u307E\u3046","\u304B\u307E\u307B\u3099\u3053","\u304B\u3081\u308C\u304A\u3093","\u304B\u3086\u3044","\u304B\u3088\u3046\u3072\u3099","\u304B\u3089\u3044","\u304B\u308B\u3044","\u304B\u308D\u3046","\u304B\u308F\u304F","\u304B\u308F\u3089","\u304B\u3099\u3093\u304B","\u304B\u3093\u3051\u3044","\u304B\u3093\u3053\u3046","\u304B\u3093\u3057\u3083","\u304B\u3093\u305D\u3046","\u304B\u3093\u305F\u3093","\u304B\u3093\u3061","\u304B\u3099\u3093\u306F\u3099\u308B","\u304D\u3042\u3044","\u304D\u3042\u3064","\u304D\u3044\u308D","\u304D\u3099\u3044\u3093","\u304D\u3046\u3044","\u304D\u3046\u3093","\u304D\u3048\u308B","\u304D\u304A\u3046","\u304D\u304A\u304F","\u304D\u304A\u3061","\u304D\u304A\u3093","\u304D\u304B\u3044","\u304D\u304B\u304F","\u304D\u304B\u3093\u3057\u3083","\u304D\u304D\u3066","\u304D\u304F\u306F\u3099\u308A","\u304D\u304F\u3089\u3051\u3099","\u304D\u3051\u3093\u305B\u3044","\u304D\u3053\u3046","\u304D\u3053\u3048\u308B","\u304D\u3053\u304F","\u304D\u3055\u3044","\u304D\u3055\u304F","\u304D\u3055\u307E","\u304D\u3055\u3089\u304D\u3099","\u304D\u3099\u3057\u3099\u304B\u304B\u3099\u304F","\u304D\u3099\u3057\u304D","\u304D\u3099\u3057\u3099\u305F\u3044\u3051\u3093","\u304D\u3099\u3057\u3099\u306B\u3063\u3066\u3044","\u304D\u3099\u3057\u3099\u3085\u3064\u3057\u3083","\u304D\u3059\u3046","\u304D\u305B\u3044","\u304D\u305B\u304D","\u304D\u305B\u3064","\u304D\u305D\u3046","\u304D\u305D\u3099\u304F","\u304D\u305D\u3099\u3093","\u304D\u305F\u3048\u308B","\u304D\u3061\u3087\u3046","\u304D\u3064\u3048\u3093","\u304D\u3099\u3063\u3061\u308A","\u304D\u3064\u3064\u304D","\u304D\u3064\u306D","\u304D\u3066\u3044","\u304D\u3068\u3099\u3046","\u304D\u3068\u3099\u304F","\u304D\u306A\u3044","\u304D\u306A\u304B\u3099","\u304D\u306A\u3053","\u304D\u306C\u3053\u3099\u3057","\u304D\u306D\u3093","\u304D\u306E\u3046","\u304D\u306E\u3057\u305F","\u304D\u306F\u304F","\u304D\u3072\u3099\u3057\u3044","\u304D\u3072\u3093","\u304D\u3075\u304F","\u304D\u3075\u3099\u3093","\u304D\u307B\u3099\u3046","\u304D\u307B\u3093","\u304D\u307E\u308B","\u304D\u307F\u3064","\u304D\u3080\u3059\u3099\u304B\u3057\u3044","\u304D\u3081\u308B","\u304D\u3082\u305F\u3099\u3081\u3057","\u304D\u3082\u3061","\u304D\u3082\u306E","\u304D\u3083\u304F","\u304D\u3084\u304F","\u304D\u3099\u3085\u3046\u306B\u304F","\u304D\u3088\u3046","\u304D\u3087\u3046\u308A\u3085\u3046","\u304D\u3089\u3044","\u304D\u3089\u304F","\u304D\u308A\u3093","\u304D\u308C\u3044","\u304D\u308C\u3064","\u304D\u308D\u304F","\u304D\u3099\u308D\u3093","\u304D\u308F\u3081\u308B","\u304D\u3099\u3093\u3044\u308D","\u304D\u3093\u304B\u304F\u3057\u3099","\u304D\u3093\u3057\u3099\u3087","\u304D\u3093\u3088\u3046\u3072\u3099","\u304F\u3099\u3042\u3044","\u304F\u3044\u3059\u3099","\u304F\u3046\u304B\u3093","\u304F\u3046\u304D","\u304F\u3046\u304F\u3099\u3093","\u304F\u3046\u3053\u3046","\u304F\u3099\u3046\u305B\u3044","\u304F\u3046\u305D\u3046","\u304F\u3099\u3046\u305F\u3089","\u304F\u3046\u3075\u304F","\u304F\u3046\u307B\u3099","\u304F\u304B\u3093","\u304F\u304D\u3087\u3046","\u304F\u3051\u3099\u3093","\u304F\u3099\u3053\u3046","\u304F\u3055\u3044","\u304F\u3055\u304D","\u304F\u3055\u306F\u3099\u306A","\u304F\u3055\u308B","\u304F\u3057\u3083\u307F","\u304F\u3057\u3087\u3046","\u304F\u3059\u306E\u304D","\u304F\u3059\u308A\u3086\u3072\u3099","\u304F\u305B\u3051\u3099","\u304F\u305B\u3093","\u304F\u3099\u305F\u3044\u3066\u304D","\u304F\u305F\u3099\u3055\u308B","\u304F\u305F\u3072\u3099\u308C\u308B","\u304F\u3061\u3053\u307F","\u304F\u3061\u3055\u304D","\u304F\u3064\u3057\u305F","\u304F\u3099\u3063\u3059\u308A","\u304F\u3064\u308D\u304F\u3099","\u304F\u3068\u3046\u3066\u3093","\u304F\u3068\u3099\u304F","\u304F\u306A\u3093","\u304F\u306D\u304F\u306D","\u304F\u306E\u3046","\u304F\u3075\u3046","\u304F\u307F\u3042\u308F\u305B","\u304F\u307F\u305F\u3066\u308B","\u304F\u3081\u308B","\u304F\u3084\u304F\u3057\u3087","\u304F\u3089\u3059","\u304F\u3089\u3078\u3099\u308B","\u304F\u308B\u307E","\u304F\u308C\u308B","\u304F\u308D\u3046","\u304F\u308F\u3057\u3044","\u304F\u3099\u3093\u304B\u3093","\u304F\u3099\u3093\u3057\u3087\u304F","\u304F\u3099\u3093\u305F\u3044","\u304F\u3099\u3093\u3066","\u3051\u3042\u306A","\u3051\u3044\u304B\u304F","\u3051\u3044\u3051\u3093","\u3051\u3044\u3053","\u3051\u3044\u3055\u3064","\u3051\u3099\u3044\u3057\u3099\u3085\u3064","\u3051\u3044\u305F\u3044","\u3051\u3099\u3044\u306E\u3046\u3057\u3099\u3093","\u3051\u3044\u308C\u304D","\u3051\u3044\u308D","\u3051\u304A\u3068\u3059","\u3051\u304A\u308A\u3082\u306E","\u3051\u3099\u304D\u304B","\u3051\u3099\u304D\u3051\u3099\u3093","\u3051\u3099\u304D\u305F\u3099\u3093","\u3051\u3099\u304D\u3061\u3093","\u3051\u3099\u304D\u3068\u3064","\u3051\u3099\u304D\u306F","\u3051\u3099\u304D\u3084\u304F","\u3051\u3099\u3053\u3046","\u3051\u3099\u3053\u304F\u3057\u3099\u3087\u3046","\u3051\u3099\u3055\u3099\u3044","\u3051\u3055\u304D","\u3051\u3099\u3055\u3099\u3093","\u3051\u3057\u304D","\u3051\u3057\u3053\u3099\u3080","\u3051\u3057\u3087\u3046","\u3051\u3099\u3059\u3068","\u3051\u305F\u306F\u3099","\u3051\u3061\u3083\u3063\u3075\u309A","\u3051\u3061\u3089\u3059","\u3051\u3064\u3042\u3064","\u3051\u3064\u3044","\u3051\u3064\u3048\u304D","\u3051\u3063\u3053\u3093","\u3051\u3064\u3057\u3099\u3087","\u3051\u3063\u305B\u304D","\u3051\u3063\u3066\u3044","\u3051\u3064\u307E\u3064","\u3051\u3099\u3064\u3088\u3046\u3072\u3099","\u3051\u3099\u3064\u308C\u3044","\u3051\u3064\u308D\u3093","\u3051\u3099\u3068\u3099\u304F","\u3051\u3068\u306F\u3099\u3059","\u3051\u3068\u308B","\u3051\u306A\u3051\u3099","\u3051\u306A\u3059","\u3051\u306A\u307F","\u3051\u306C\u304D","\u3051\u3099\u306D\u3064","\u3051\u306D\u3093","\u3051\u306F\u3044","\u3051\u3099\u3072\u3093","\u3051\u3075\u3099\u304B\u3044","\u3051\u3099\u307B\u3099\u304F","\u3051\u307E\u308A","\u3051\u307F\u304B\u308B","\u3051\u3080\u3057","\u3051\u3080\u308A","\u3051\u3082\u306E","\u3051\u3089\u3044","\u3051\u308D\u3051\u308D","\u3051\u308F\u3057\u3044","\u3051\u3093\u3044","\u3051\u3093\u3048\u3064","\u3051\u3093\u304A","\u3051\u3093\u304B","\u3051\u3099\u3093\u304D","\u3051\u3093\u3051\u3099\u3093","\u3051\u3093\u3053\u3046","\u3051\u3093\u3055\u304F","\u3051\u3093\u3057\u3085\u3046","\u3051\u3093\u3059\u3046","\u3051\u3099\u3093\u305D\u3046","\u3051\u3093\u3061\u304F","\u3051\u3093\u3066\u3044","\u3051\u3093\u3068\u3046","\u3051\u3093\u306A\u3044","\u3051\u3093\u306B\u3093","\u3051\u3099\u3093\u3075\u3099\u3064","\u3051\u3093\u307E","\u3051\u3093\u307F\u3093","\u3051\u3093\u3081\u3044","\u3051\u3093\u3089\u3093","\u3051\u3093\u308A","\u3053\u3042\u304F\u307E","\u3053\u3044\u306C","\u3053\u3044\u3072\u3099\u3068","\u3053\u3099\u3046\u3044","\u3053\u3046\u3048\u3093","\u3053\u3046\u304A\u3093","\u3053\u3046\u304B\u3093","\u3053\u3099\u3046\u304D\u3085\u3046","\u3053\u3099\u3046\u3051\u3044","\u3053\u3046\u3053\u3046","\u3053\u3046\u3055\u3044","\u3053\u3046\u3057\u3099","\u3053\u3046\u3059\u3044","\u3053\u3099\u3046\u305B\u3044","\u3053\u3046\u305D\u304F","\u3053\u3046\u305F\u3044","\u3053\u3046\u3061\u3083","\u3053\u3046\u3064\u3046","\u3053\u3046\u3066\u3044","\u3053\u3046\u3068\u3099\u3046","\u3053\u3046\u306A\u3044","\u3053\u3046\u306F\u3044","\u3053\u3099\u3046\u307B\u3046","\u3053\u3099\u3046\u307E\u3093","\u3053\u3046\u3082\u304F","\u3053\u3046\u308A\u3064","\u3053\u3048\u308B","\u3053\u304A\u308A","\u3053\u3099\u304B\u3044","\u3053\u3099\u304B\u3099\u3064","\u3053\u3099\u304B\u3093","\u3053\u304F\u3053\u3099","\u3053\u304F\u3055\u3044","\u3053\u304F\u3068\u3046","\u3053\u304F\u306A\u3044","\u3053\u304F\u306F\u304F","\u3053\u304F\u3099\u307E","\u3053\u3051\u3044","\u3053\u3051\u308B","\u3053\u3053\u306E\u304B","\u3053\u3053\u308D","\u3053\u3055\u3081","\u3053\u3057\u3064","\u3053\u3059\u3046","\u3053\u305B\u3044","\u3053\u305B\u304D","\u3053\u305B\u3099\u3093","\u3053\u305D\u305F\u3099\u3066","\u3053\u305F\u3044","\u3053\u305F\u3048\u308B","\u3053\u305F\u3064","\u3053\u3061\u3087\u3046","\u3053\u3063\u304B","\u3053\u3064\u3053\u3064","\u3053\u3064\u306F\u3099\u3093","\u3053\u3064\u3075\u3099","\u3053\u3066\u3044","\u3053\u3066\u3093","\u3053\u3068\u304B\u3099\u3089","\u3053\u3068\u3057","\u3053\u3068\u306F\u3099","\u3053\u3068\u308A","\u3053\u306A\u3053\u3099\u306A","\u3053\u306D\u3053\u306D","\u3053\u306E\u307E\u307E","\u3053\u306E\u307F","\u3053\u306E\u3088","\u3053\u3099\u306F\u3093","\u3053\u3072\u3064\u3057\u3099","\u3053\u3075\u3046","\u3053\u3075\u3093","\u3053\u307B\u3099\u308C\u308B","\u3053\u3099\u307E\u3042\u3075\u3099\u3089","\u3053\u307E\u304B\u3044","\u3053\u3099\u307E\u3059\u308A","\u3053\u307E\u3064\u306A","\u3053\u307E\u308B","\u3053\u3080\u304D\u3099\u3053","\u3053\u3082\u3057\u3099","\u3053\u3082\u3061","\u3053\u3082\u306E","\u3053\u3082\u3093","\u3053\u3084\u304F","\u3053\u3084\u307E","\u3053\u3086\u3046","\u3053\u3086\u3072\u3099","\u3053\u3088\u3044","\u3053\u3088\u3046","\u3053\u308A\u308B","\u3053\u308C\u304F\u3057\u3087\u3093","\u3053\u308D\u3063\u3051","\u3053\u308F\u3082\u3066","\u3053\u308F\u308C\u308B","\u3053\u3093\u3044\u3093","\u3053\u3093\u304B\u3044","\u3053\u3093\u304D","\u3053\u3093\u3057\u3085\u3046","\u3053\u3093\u3059\u3044","\u3053\u3093\u305F\u3099\u3066","\u3053\u3093\u3068\u3093","\u3053\u3093\u306A\u3093","\u3053\u3093\u3072\u3099\u306B","\u3053\u3093\u307B\u309A\u3093","\u3053\u3093\u307E\u3051","\u3053\u3093\u3084","\u3053\u3093\u308C\u3044","\u3053\u3093\u308F\u304F","\u3055\u3099\u3044\u3048\u304D","\u3055\u3044\u304B\u3044","\u3055\u3044\u304D\u3093","\u3055\u3099\u3044\u3051\u3099\u3093","\u3055\u3099\u3044\u3053","\u3055\u3044\u3057\u3087","\u3055\u3044\u305B\u3044","\u3055\u3099\u3044\u305F\u304F","\u3055\u3099\u3044\u3061\u3085\u3046","\u3055\u3044\u3066\u304D","\u3055\u3099\u3044\u308A\u3087\u3046","\u3055\u3046\u306A","\u3055\u304B\u3044\u3057","\u3055\u304B\u3099\u3059","\u3055\u304B\u306A","\u3055\u304B\u307F\u3061","\u3055\u304B\u3099\u308B","\u3055\u304D\u3099\u3087\u3046","\u3055\u304F\u3057","\u3055\u304F\u3072\u3093","\u3055\u304F\u3089","\u3055\u3053\u304F","\u3055\u3053\u3064","\u3055\u3059\u3099\u304B\u308B","\u3055\u3099\u305B\u304D","\u3055\u305F\u3093","\u3055\u3064\u3048\u3044","\u3055\u3099\u3064\u304A\u3093","\u3055\u3099\u3063\u304B","\u3055\u3099\u3064\u304B\u3099\u304F","\u3055\u3063\u304D\u3087\u304F","\u3055\u3099\u3063\u3057","\u3055\u3064\u3057\u3099\u3093","\u3055\u3099\u3063\u305D\u3046","\u3055\u3064\u305F\u306F\u3099","\u3055\u3064\u307E\u3044\u3082","\u3055\u3066\u3044","\u3055\u3068\u3044\u3082","\u3055\u3068\u3046","\u3055\u3068\u304A\u3084","\u3055\u3068\u3057","\u3055\u3068\u308B","\u3055\u306E\u3046","\u3055\u306F\u3099\u304F","\u3055\u3072\u3099\u3057\u3044","\u3055\u3078\u3099\u3064","\u3055\u307B\u3046","\u3055\u307B\u3068\u3099","\u3055\u307E\u3059","\u3055\u307F\u3057\u3044","\u3055\u307F\u305F\u3099\u308C","\u3055\u3080\u3051","\u3055\u3081\u308B","\u3055\u3084\u3048\u3093\u3068\u3099\u3046","\u3055\u3086\u3046","\u3055\u3088\u3046","\u3055\u3088\u304F","\u3055\u3089\u305F\u3099","\u3055\u3099\u308B\u305D\u306F\u3099","\u3055\u308F\u3084\u304B","\u3055\u308F\u308B","\u3055\u3093\u3044\u3093","\u3055\u3093\u304B","\u3055\u3093\u304D\u3083\u304F","\u3055\u3093\u3053\u3046","\u3055\u3093\u3055\u3044","\u3055\u3099\u3093\u3057\u3087","\u3055\u3093\u3059\u3046","\u3055\u3093\u305B\u3044","\u3055\u3093\u305D","\u3055\u3093\u3061","\u3055\u3093\u307E","\u3055\u3093\u307F","\u3055\u3093\u3089\u3093","\u3057\u3042\u3044","\u3057\u3042\u3051\u3099","\u3057\u3042\u3055\u3063\u3066","\u3057\u3042\u308F\u305B","\u3057\u3044\u304F","\u3057\u3044\u3093","\u3057\u3046\u3061","\u3057\u3048\u3044","\u3057\u304A\u3051","\u3057\u304B\u3044","\u3057\u304B\u304F","\u3057\u3099\u304B\u3093","\u3057\u3053\u3099\u3068","\u3057\u3059\u3046","\u3057\u3099\u305F\u3099\u3044","\u3057\u305F\u3046\u3051","\u3057\u305F\u304D\u3099","\u3057\u305F\u3066","\u3057\u305F\u307F","\u3057\u3061\u3087\u3046","\u3057\u3061\u308A\u3093","\u3057\u3063\u304B\u308A","\u3057\u3064\u3057\u3099","\u3057\u3064\u3082\u3093","\u3057\u3066\u3044","\u3057\u3066\u304D","\u3057\u3066\u3064","\u3057\u3099\u3066\u3093","\u3057\u3099\u3068\u3099\u3046","\u3057\u306A\u304D\u3099\u308C","\u3057\u306A\u3082\u306E","\u3057\u306A\u3093","\u3057\u306D\u307E","\u3057\u306D\u3093","\u3057\u306E\u304F\u3099","\u3057\u306E\u3075\u3099","\u3057\u306F\u3044","\u3057\u306F\u3099\u304B\u308A","\u3057\u306F\u3064","\u3057\u306F\u3089\u3044","\u3057\u306F\u3093","\u3057\u3072\u3087\u3046","\u3057\u3075\u304F","\u3057\u3099\u3075\u3099\u3093","\u3057\u3078\u3044","\u3057\u307B\u3046","\u3057\u307B\u3093","\u3057\u307E\u3046","\u3057\u307E\u308B","\u3057\u307F\u3093","\u3057\u3080\u3051\u308B","\u3057\u3099\u3080\u3057\u3087","\u3057\u3081\u3044","\u3057\u3081\u308B","\u3057\u3082\u3093","\u3057\u3083\u3044\u3093","\u3057\u3083\u3046\u3093","\u3057\u3083\u304A\u3093","\u3057\u3099\u3083\u304B\u3099\u3044\u3082","\u3057\u3084\u304F\u3057\u3087","\u3057\u3083\u304F\u307B\u3046","\u3057\u3083\u3051\u3093","\u3057\u3083\u3053","\u3057\u3083\u3055\u3099\u3044","\u3057\u3083\u3057\u3093","\u3057\u3083\u305B\u3093","\u3057\u3083\u305D\u3046","\u3057\u3083\u305F\u3044","\u3057\u3083\u3061\u3087\u3046","\u3057\u3083\u3063\u304D\u3093","\u3057\u3099\u3083\u307E","\u3057\u3083\u308A\u3093","\u3057\u3083\u308C\u3044","\u3057\u3099\u3086\u3046","\u3057\u3099\u3085\u3046\u3057\u3087","\u3057\u3085\u304F\u306F\u304F","\u3057\u3099\u3085\u3057\u3093","\u3057\u3085\u3063\u305B\u304D","\u3057\u3085\u307F","\u3057\u3085\u3089\u306F\u3099","\u3057\u3099\u3085\u3093\u306F\u3099\u3093","\u3057\u3087\u3046\u304B\u3044","\u3057\u3087\u304F\u305F\u304F","\u3057\u3087\u3063\u3051\u3093","\u3057\u3087\u3068\u3099\u3046","\u3057\u3087\u3082\u3064","\u3057\u3089\u305B\u308B","\u3057\u3089\u3078\u3099\u308B","\u3057\u3093\u304B","\u3057\u3093\u3053\u3046","\u3057\u3099\u3093\u3057\u3099\u3083","\u3057\u3093\u305B\u3044\u3057\u3099","\u3057\u3093\u3061\u304F","\u3057\u3093\u308A\u3093","\u3059\u3042\u3051\u3099","\u3059\u3042\u3057","\u3059\u3042\u306A","\u3059\u3099\u3042\u3093","\u3059\u3044\u3048\u3044","\u3059\u3044\u304B","\u3059\u3044\u3068\u3046","\u3059\u3099\u3044\u3075\u3099\u3093","\u3059\u3044\u3088\u3046\u3072\u3099","\u3059\u3046\u304B\u3099\u304F","\u3059\u3046\u3057\u3099\u3064","\u3059\u3046\u305B\u3093","\u3059\u304A\u3068\u3099\u308A","\u3059\u304D\u307E","\u3059\u304F\u3046","\u3059\u304F\u306A\u3044","\u3059\u3051\u308B","\u3059\u3053\u3099\u3044","\u3059\u3053\u3057","\u3059\u3099\u3055\u3093","\u3059\u3059\u3099\u3057\u3044","\u3059\u3059\u3080","\u3059\u3059\u3081\u308B","\u3059\u3063\u304B\u308A","\u3059\u3099\u3063\u3057\u308A","\u3059\u3099\u3063\u3068","\u3059\u3066\u304D","\u3059\u3066\u308B","\u3059\u306D\u308B","\u3059\u306E\u3053","\u3059\u306F\u305F\u3099","\u3059\u306F\u3099\u3089\u3057\u3044","\u3059\u3099\u3072\u3087\u3046","\u3059\u3099\u3075\u3099\u306C\u308C","\u3059\u3075\u3099\u308A","\u3059\u3075\u308C","\u3059\u3078\u3099\u3066","\u3059\u3078\u3099\u308B","\u3059\u3099\u307B\u3046","\u3059\u307B\u3099\u3093","\u3059\u307E\u3044","\u3059\u3081\u3057","\u3059\u3082\u3046","\u3059\u3084\u304D","\u3059\u3089\u3059\u3089","\u3059\u308B\u3081","\u3059\u308C\u3061\u304B\u3099\u3046","\u3059\u308D\u3063\u3068","\u3059\u308F\u308B","\u3059\u3093\u305B\u3099\u3093","\u3059\u3093\u307B\u309A\u3046","\u305B\u3042\u3075\u3099\u3089","\u305B\u3044\u304B\u3064","\u305B\u3044\u3051\u3099\u3093","\u305B\u3044\u3057\u3099","\u305B\u3044\u3088\u3046","\u305B\u304A\u3046","\u305B\u304B\u3044\u304B\u3093","\u305B\u304D\u306B\u3093","\u305B\u304D\u3080","\u305B\u304D\u3086","\u305B\u304D\u3089\u3093\u3046\u3093","\u305B\u3051\u3093","\u305B\u3053\u3046","\u305B\u3059\u3057\u3099","\u305B\u305F\u3044","\u305B\u305F\u3051","\u305B\u3063\u304B\u304F","\u305B\u3063\u304D\u3083\u304F","\u305B\u3099\u3063\u304F","\u305B\u3063\u3051\u3093","\u305B\u3063\u3053\u3064","\u305B\u3063\u3055\u305F\u304F\u307E","\u305B\u3064\u305D\u3099\u304F","\u305B\u3064\u305F\u3099\u3093","\u305B\u3064\u3066\u3099\u3093","\u305B\u3063\u306F\u309A\u3093","\u305B\u3064\u3072\u3099","\u305B\u3064\u3075\u3099\u3093","\u305B\u3064\u3081\u3044","\u305B\u3064\u308A\u3064","\u305B\u306A\u304B","\u305B\u306E\u3072\u3099","\u305B\u306F\u306F\u3099","\u305B\u3072\u3099\u308D","\u305B\u307B\u3099\u306D","\u305B\u307E\u3044","\u305B\u307E\u308B","\u305B\u3081\u308B","\u305B\u3082\u305F\u308C","\u305B\u308A\u3075","\u305B\u3099\u3093\u3042\u304F","\u305B\u3093\u3044","\u305B\u3093\u3048\u3044","\u305B\u3093\u304B","\u305B\u3093\u304D\u3087","\u305B\u3093\u304F","\u305B\u3093\u3051\u3099\u3093","\u305B\u3099\u3093\u3053\u3099","\u305B\u3093\u3055\u3044","\u305B\u3093\u3057\u3085","\u305B\u3093\u3059\u3044","\u305B\u3093\u305B\u3044","\u305B\u3093\u305D\u3099","\u305B\u3093\u305F\u304F","\u305B\u3093\u3061\u3087\u3046","\u305B\u3093\u3066\u3044","\u305B\u3093\u3068\u3046","\u305B\u3093\u306C\u304D","\u305B\u3093\u306D\u3093","\u305B\u3093\u306F\u309A\u3044","\u305B\u3099\u3093\u3075\u3099","\u305B\u3099\u3093\u307B\u309A\u3046","\u305B\u3093\u3080","\u305B\u3093\u3081\u3093\u3057\u3099\u3087","\u305B\u3093\u3082\u3093","\u305B\u3093\u3084\u304F","\u305B\u3093\u3086\u3046","\u305B\u3093\u3088\u3046","\u305B\u3099\u3093\u3089","\u305B\u3099\u3093\u308A\u3083\u304F","\u305B\u3093\u308C\u3044","\u305B\u3093\u308D","\u305D\u3042\u304F","\u305D\u3044\u3068\u3051\u3099\u308B","\u305D\u3044\u306D","\u305D\u3046\u304B\u3099\u3093\u304D\u3087\u3046","\u305D\u3046\u304D","\u305D\u3046\u3053\u3099","\u305D\u3046\u3057\u3093","\u305D\u3046\u305F\u3099\u3093","\u305D\u3046\u306A\u3093","\u305D\u3046\u3072\u3099","\u305D\u3046\u3081\u3093","\u305D\u3046\u308A","\u305D\u3048\u3082\u306E","\u305D\u3048\u3093","\u305D\u304B\u3099\u3044","\u305D\u3051\u3099\u304D","\u305D\u3053\u3046","\u305D\u3053\u305D\u3053","\u305D\u3055\u3099\u3044","\u305D\u3057\u306A","\u305D\u305B\u3044","\u305D\u305B\u3093","\u305D\u305D\u304F\u3099","\u305D\u305F\u3099\u3066\u308B","\u305D\u3064\u3046","\u305D\u3064\u3048\u3093","\u305D\u3063\u304B\u3093","\u305D\u3064\u304D\u3099\u3087\u3046","\u305D\u3063\u3051\u3064","\u305D\u3063\u3053\u3046","\u305D\u3063\u305B\u3093","\u305D\u3063\u3068","\u305D\u3068\u304B\u3099\u308F","\u305D\u3068\u3064\u3099\u3089","\u305D\u306A\u3048\u308B","\u305D\u306A\u305F","\u305D\u3075\u307B\u3099","\u305D\u307B\u3099\u304F","\u305D\u307B\u3099\u308D","\u305D\u307E\u3064","\u305D\u307E\u308B","\u305D\u3080\u304F","\u305D\u3080\u308A\u3048","\u305D\u3081\u308B","\u305D\u3082\u305D\u3082","\u305D\u3088\u304B\u305B\u3099","\u305D\u3089\u307E\u3081","\u305D\u308D\u3046","\u305D\u3093\u304B\u3044","\u305D\u3093\u3051\u3044","\u305D\u3093\u3055\u3099\u3044","\u305D\u3093\u3057\u3064","\u305D\u3093\u305D\u3099\u304F","\u305D\u3093\u3061\u3087\u3046","\u305D\u3099\u3093\u3072\u3099","\u305D\u3099\u3093\u3075\u3099\u3093","\u305D\u3093\u307F\u3093","\u305F\u3042\u3044","\u305F\u3044\u3044\u3093","\u305F\u3044\u3046\u3093","\u305F\u3044\u3048\u304D","\u305F\u3044\u304A\u3046","\u305F\u3099\u3044\u304B\u3099\u304F","\u305F\u3044\u304D","\u305F\u3044\u304F\u3099\u3046","\u305F\u3044\u3051\u3093","\u305F\u3044\u3053","\u305F\u3044\u3055\u3099\u3044","\u305F\u3099\u3044\u3057\u3099\u3087\u3046\u3075\u3099","\u305F\u3099\u3044\u3059\u304D","\u305F\u3044\u305B\u3064","\u305F\u3044\u305D\u3046","\u305F\u3099\u3044\u305F\u3044","\u305F\u3044\u3061\u3087\u3046","\u305F\u3044\u3066\u3044","\u305F\u3099\u3044\u3068\u3099\u3053\u308D","\u305F\u3044\u306A\u3044","\u305F\u3044\u306D\u3064","\u305F\u3044\u306E\u3046","\u305F\u3044\u306F\u3093","\u305F\u3099\u3044\u3072\u3087\u3046","\u305F\u3044\u3075\u3046","\u305F\u3044\u3078\u3093","\u305F\u3044\u307B","\u305F\u3044\u307E\u3064\u306F\u3099\u306A","\u305F\u3044\u307F\u3093\u304F\u3099","\u305F\u3044\u3080","\u305F\u3044\u3081\u3093","\u305F\u3044\u3084\u304D","\u305F\u3044\u3088\u3046","\u305F\u3044\u3089","\u305F\u3044\u308A\u3087\u304F","\u305F\u3044\u308B","\u305F\u3044\u308F\u3093","\u305F\u3046\u3048","\u305F\u3048\u308B","\u305F\u304A\u3059","\u305F\u304A\u308B","\u305F\u304A\u308C\u308B","\u305F\u304B\u3044","\u305F\u304B\u306D","\u305F\u304D\u3072\u3099","\u305F\u304F\u3055\u3093","\u305F\u3053\u304F","\u305F\u3053\u3084\u304D","\u305F\u3055\u3044","\u305F\u3057\u3055\u3099\u3093","\u305F\u3099\u3057\u3099\u3083\u308C","\u305F\u3059\u3051\u308B","\u305F\u3059\u3099\u3055\u308F\u308B","\u305F\u305D\u304B\u3099\u308C","\u305F\u305F\u304B\u3046","\u305F\u305F\u304F","\u305F\u305F\u3099\u3057\u3044","\u305F\u305F\u307F","\u305F\u3061\u306F\u3099\u306A","\u305F\u3099\u3063\u304B\u3044","\u305F\u3099\u3063\u304D\u3083\u304F","\u305F\u3099\u3063\u3053","\u305F\u3099\u3063\u3057\u3085\u3064","\u305F\u3099\u3063\u305F\u3044","\u305F\u3066\u308B","\u305F\u3068\u3048\u308B","\u305F\u306A\u306F\u3099\u305F","\u305F\u306B\u3093","\u305F\u306C\u304D","\u305F\u306E\u3057\u307F","\u305F\u306F\u3064","\u305F\u3075\u3099\u3093","\u305F\u3078\u3099\u308B","\u305F\u307B\u3099\u3046","\u305F\u307E\u3053\u3099","\u305F\u307E\u308B","\u305F\u3099\u3080\u308B","\u305F\u3081\u3044\u304D","\u305F\u3081\u3059","\u305F\u3081\u308B","\u305F\u3082\u3064","\u305F\u3084\u3059\u3044","\u305F\u3088\u308B","\u305F\u3089\u3059","\u305F\u308A\u304D\u307B\u3093\u304B\u3099\u3093","\u305F\u308A\u3087\u3046","\u305F\u308A\u308B","\u305F\u308B\u3068","\u305F\u308C\u308B","\u305F\u308C\u3093\u3068","\u305F\u308D\u3063\u3068","\u305F\u308F\u3080\u308C\u308B","\u305F\u3099\u3093\u3042\u3064","\u305F\u3093\u3044","\u305F\u3093\u304A\u3093","\u305F\u3093\u304B","\u305F\u3093\u304D","\u305F\u3093\u3051\u3093","\u305F\u3093\u3053\u3099","\u305F\u3093\u3055\u3093","\u305F\u3093\u3057\u3099\u3087\u3046\u3072\u3099","\u305F\u3099\u3093\u305B\u3044","\u305F\u3093\u305D\u304F","\u305F\u3093\u305F\u3044","\u305F\u3099\u3093\u3061","\u305F\u3093\u3066\u3044","\u305F\u3093\u3068\u3046","\u305F\u3099\u3093\u306A","\u305F\u3093\u306B\u3093","\u305F\u3099\u3093\u306D\u3064","\u305F\u3093\u306E\u3046","\u305F\u3093\u3072\u309A\u3093","\u305F\u3099\u3093\u307B\u3099\u3046","\u305F\u3093\u307E\u3064","\u305F\u3093\u3081\u3044","\u305F\u3099\u3093\u308C\u3064","\u305F\u3099\u3093\u308D","\u305F\u3099\u3093\u308F","\u3061\u3042\u3044","\u3061\u3042\u3093","\u3061\u3044\u304D","\u3061\u3044\u3055\u3044","\u3061\u3048\u3093","\u3061\u304B\u3044","\u3061\u304B\u3089","\u3061\u304D\u3085\u3046","\u3061\u304D\u3093","\u3061\u3051\u3044\u3059\u3099","\u3061\u3051\u3093","\u3061\u3053\u304F","\u3061\u3055\u3044","\u3061\u3057\u304D","\u3061\u3057\u308A\u3087\u3046","\u3061\u305B\u3044","\u3061\u305D\u3046","\u3061\u305F\u3044","\u3061\u305F\u3093","\u3061\u3061\u304A\u3084","\u3061\u3064\u3057\u3099\u3087","\u3061\u3066\u304D","\u3061\u3066\u3093","\u3061\u306C\u304D","\u3061\u306C\u308A","\u3061\u306E\u3046","\u3061\u3072\u3087\u3046","\u3061\u3078\u3044\u305B\u3093","\u3061\u307B\u3046","\u3061\u307E\u305F","\u3061\u307F\u3064","\u3061\u307F\u3068\u3099\u308D","\u3061\u3081\u3044\u3068\u3099","\u3061\u3083\u3093\u3053\u306A\u3078\u3099","\u3061\u3085\u3046\u3044","\u3061\u3086\u308A\u3087\u304F","\u3061\u3087\u3046\u3057","\u3061\u3087\u3055\u304F\u3051\u3093","\u3061\u3089\u3057","\u3061\u3089\u307F","\u3061\u308A\u304B\u3099\u307F","\u3061\u308A\u3087\u3046","\u3061\u308B\u3068\u3099","\u3061\u308F\u308F","\u3061\u3093\u305F\u3044","\u3061\u3093\u3082\u304F","\u3064\u3044\u304B","\u3064\u3044\u305F\u3061","\u3064\u3046\u304B","\u3064\u3046\u3057\u3099\u3087\u3046","\u3064\u3046\u306F\u3093","\u3064\u3046\u308F","\u3064\u304B\u3046","\u3064\u304B\u308C\u308B","\u3064\u304F\u306D","\u3064\u304F\u308B","\u3064\u3051\u306D","\u3064\u3051\u308B","\u3064\u3053\u3099\u3046","\u3064\u305F\u3048\u308B","\u3064\u3064\u3099\u304F","\u3064\u3064\u3057\u3099","\u3064\u3064\u3080","\u3064\u3068\u3081\u308B","\u3064\u306A\u304B\u3099\u308B","\u3064\u306A\u307F","\u3064\u306D\u3064\u3099\u306D","\u3064\u306E\u308B","\u3064\u3075\u3099\u3059","\u3064\u307E\u3089\u306A\u3044","\u3064\u307E\u308B","\u3064\u307F\u304D","\u3064\u3081\u305F\u3044","\u3064\u3082\u308A","\u3064\u3082\u308B","\u3064\u3088\u3044","\u3064\u308B\u307B\u3099","\u3064\u308B\u307F\u304F","\u3064\u308F\u3082\u306E","\u3064\u308F\u308A","\u3066\u3042\u3057","\u3066\u3042\u3066","\u3066\u3042\u307F","\u3066\u3044\u304A\u3093","\u3066\u3044\u304B","\u3066\u3044\u304D","\u3066\u3044\u3051\u3044","\u3066\u3044\u3053\u304F","\u3066\u3044\u3055\u3064","\u3066\u3044\u3057","\u3066\u3044\u305B\u3044","\u3066\u3044\u305F\u3044","\u3066\u3044\u3068\u3099","\u3066\u3044\u306D\u3044","\u3066\u3044\u3072\u3087\u3046","\u3066\u3044\u3078\u3093","\u3066\u3044\u307B\u3099\u3046","\u3066\u3046\u3061","\u3066\u304A\u304F\u308C","\u3066\u304D\u3068\u3046","\u3066\u304F\u3072\u3099","\u3066\u3099\u3053\u307B\u3099\u3053","\u3066\u3055\u304D\u3099\u3087\u3046","\u3066\u3055\u3051\u3099","\u3066\u3059\u308A","\u3066\u305D\u3046","\u3066\u3061\u304B\u3099\u3044","\u3066\u3061\u3087\u3046","\u3066\u3064\u304B\u3099\u304F","\u3066\u3064\u3064\u3099\u304D","\u3066\u3099\u3063\u306F\u309A","\u3066\u3064\u307B\u3099\u3046","\u3066\u3064\u3084","\u3066\u3099\u306C\u304B\u3048","\u3066\u306C\u304D","\u3066\u306C\u304F\u3099\u3044","\u3066\u306E\u3072\u3089","\u3066\u306F\u3044","\u3066\u3075\u3099\u304F\u308D","\u3066\u3075\u305F\u3099","\u3066\u307B\u3068\u3099\u304D","\u3066\u307B\u3093","\u3066\u307E\u3048","\u3066\u307E\u304D\u3059\u3099\u3057","\u3066\u307F\u3057\u3099\u304B","\u3066\u307F\u3084\u3051\u3099","\u3066\u3089\u3059","\u3066\u308C\u3072\u3099","\u3066\u308F\u3051","\u3066\u308F\u305F\u3057","\u3066\u3099\u3093\u3042\u3064","\u3066\u3093\u3044\u3093","\u3066\u3093\u304B\u3044","\u3066\u3093\u304D","\u3066\u3093\u304F\u3099","\u3066\u3093\u3051\u3093","\u3066\u3093\u3053\u3099\u304F","\u3066\u3093\u3055\u3044","\u3066\u3093\u3057","\u3066\u3093\u3059\u3046","\u3066\u3099\u3093\u3061","\u3066\u3093\u3066\u304D","\u3066\u3093\u3068\u3046","\u3066\u3093\u306A\u3044","\u3066\u3093\u3075\u309A\u3089","\u3066\u3093\u307B\u3099\u3046\u305F\u3099\u3044","\u3066\u3093\u3081\u3064","\u3066\u3093\u3089\u3093\u304B\u3044","\u3066\u3099\u3093\u308A\u3087\u304F","\u3066\u3099\u3093\u308F","\u3068\u3099\u3042\u3044","\u3068\u3044\u308C","\u3068\u3099\u3046\u304B\u3093","\u3068\u3046\u304D\u3085\u3046","\u3068\u3099\u3046\u304F\u3099","\u3068\u3046\u3057","\u3068\u3046\u3080\u304D\u3099","\u3068\u304A\u3044","\u3068\u304A\u304B","\u3068\u304A\u304F","\u3068\u304A\u3059","\u3068\u304A\u308B","\u3068\u304B\u3044","\u3068\u304B\u3059","\u3068\u304D\u304A\u308A","\u3068\u304D\u3068\u3099\u304D","\u3068\u304F\u3044","\u3068\u304F\u3057\u3085\u3046","\u3068\u304F\u3066\u3093","\u3068\u304F\u306B","\u3068\u304F\u3078\u3099\u3064","\u3068\u3051\u3044","\u3068\u3051\u308B","\u3068\u3053\u3084","\u3068\u3055\u304B","\u3068\u3057\u3087\u304B\u3093","\u3068\u305D\u3046","\u3068\u305F\u3093","\u3068\u3061\u3085\u3046","\u3068\u3063\u304D\u3085\u3046","\u3068\u3063\u304F\u3093","\u3068\u3064\u305B\u3099\u3093","\u3068\u3064\u306B\u3085\u3046","\u3068\u3068\u3099\u3051\u308B","\u3068\u3068\u306E\u3048\u308B","\u3068\u306A\u3044","\u3068\u306A\u3048\u308B","\u3068\u306A\u308A","\u3068\u306E\u3055\u307E","\u3068\u306F\u3099\u3059","\u3068\u3099\u3075\u3099\u304B\u3099\u308F","\u3068\u307B\u3046","\u3068\u307E\u308B","\u3068\u3081\u308B","\u3068\u3082\u305F\u3099\u3061","\u3068\u3082\u308B","\u3068\u3099\u3088\u3046\u3072\u3099","\u3068\u3089\u3048\u308B","\u3068\u3093\u304B\u3064","\u3068\u3099\u3093\u3075\u3099\u308A","\u306A\u3044\u304B\u304F","\u306A\u3044\u3053\u3046","\u306A\u3044\u3057\u3087","\u306A\u3044\u3059","\u306A\u3044\u305B\u3093","\u306A\u3044\u305D\u3046","\u306A\u304A\u3059","\u306A\u304B\u3099\u3044","\u306A\u304F\u3059","\u306A\u3051\u3099\u308B","\u306A\u3053\u3046\u3068\u3099","\u306A\u3055\u3051","\u306A\u305F\u3066\u3099\u3053\u3053","\u306A\u3063\u3068\u3046","\u306A\u3064\u3084\u3059\u307F","\u306A\u306A\u304A\u3057","\u306A\u306B\u3053\u3099\u3068","\u306A\u306B\u3082\u306E","\u306A\u306B\u308F","\u306A\u306E\u304B","\u306A\u3075\u305F\u3099","\u306A\u307E\u3044\u304D","\u306A\u307E\u3048","\u306A\u307E\u307F","\u306A\u307F\u305F\u3099","\u306A\u3081\u3089\u304B","\u306A\u3081\u308B","\u306A\u3084\u3080","\u306A\u3089\u3046","\u306A\u3089\u3072\u3099","\u306A\u3089\u3075\u3099","\u306A\u308C\u308B","\u306A\u308F\u3068\u3072\u3099","\u306A\u308F\u306F\u3099\u308A","\u306B\u3042\u3046","\u306B\u3044\u304B\u3099\u305F","\u306B\u3046\u3051","\u306B\u304A\u3044","\u306B\u304B\u3044","\u306B\u304B\u3099\u3066","\u306B\u304D\u3072\u3099","\u306B\u304F\u3057\u307F","\u306B\u304F\u307E\u3093","\u306B\u3051\u3099\u308B","\u306B\u3055\u3093\u304B\u305F\u3093\u305D","\u306B\u3057\u304D","\u306B\u305B\u3082\u306E","\u306B\u3061\u3057\u3099\u3087\u3046","\u306B\u3061\u3088\u3046\u3072\u3099","\u306B\u3063\u304B","\u306B\u3063\u304D","\u306B\u3063\u3051\u3044","\u306B\u3063\u3053\u3046","\u306B\u3063\u3055\u3093","\u306B\u3063\u3057\u3087\u304F","\u306B\u3063\u3059\u3046","\u306B\u3063\u305B\u304D","\u306B\u3063\u3066\u3044","\u306B\u306A\u3046","\u306B\u307B\u3093","\u306B\u307E\u3081","\u306B\u3082\u3064","\u306B\u3084\u308A","\u306B\u3085\u3046\u3044\u3093","\u306B\u308A\u3093\u3057\u3083","\u306B\u308F\u3068\u308A","\u306B\u3093\u3044","\u306B\u3093\u304B","\u306B\u3093\u304D","\u306B\u3093\u3051\u3099\u3093","\u306B\u3093\u3057\u304D","\u306B\u3093\u3059\u3099\u3046","\u306B\u3093\u305D\u3046","\u306B\u3093\u305F\u3044","\u306B\u3093\u3061","\u306B\u3093\u3066\u3044","\u306B\u3093\u306B\u304F","\u306B\u3093\u3075\u309A","\u306B\u3093\u307E\u308A","\u306B\u3093\u3080","\u306B\u3093\u3081\u3044","\u306B\u3093\u3088\u3046","\u306C\u3044\u304F\u304D\u3099","\u306C\u304B\u3059","\u306C\u304F\u3099\u3044\u3068\u308B","\u306C\u304F\u3099\u3046","\u306C\u304F\u3082\u308A","\u306C\u3059\u3080","\u306C\u307E\u3048\u3072\u3099","\u306C\u3081\u308A","\u306C\u3089\u3059","\u306C\u3093\u3061\u3083\u304F","\u306D\u3042\u3051\u3099","\u306D\u3044\u304D","\u306D\u3044\u308B","\u306D\u3044\u308D","\u306D\u304F\u3099\u305B","\u306D\u304F\u305F\u3044","\u306D\u304F\u3089","\u306D\u3053\u305B\u3099","\u306D\u3053\u3080","\u306D\u3055\u3051\u3099","\u306D\u3059\u3053\u3099\u3059","\u306D\u305D\u3078\u3099\u308B","\u306D\u305F\u3099\u3093","\u306D\u3064\u3044","\u306D\u3063\u3057\u3093","\u306D\u3064\u305D\u3099\u3046","\u306D\u3063\u305F\u3044\u304D\u3099\u3087","\u306D\u3075\u3099\u305D\u304F","\u306D\u3075\u305F\u3099","\u306D\u307B\u3099\u3046","\u306D\u307B\u308A\u306F\u307B\u308A","\u306D\u307E\u304D","\u306D\u307E\u308F\u3057","\u306D\u307F\u307F","\u306D\u3080\u3044","\u306D\u3080\u305F\u3044","\u306D\u3082\u3068","\u306D\u3089\u3046","\u306D\u308F\u3055\u3099","\u306D\u3093\u3044\u308A","\u306D\u3093\u304A\u3057","\u306D\u3093\u304B\u3093","\u306D\u3093\u304D\u3093","\u306D\u3093\u304F\u3099","\u306D\u3093\u3055\u3099","\u306D\u3093\u3057","\u306D\u3093\u3061\u3083\u304F","\u306D\u3093\u3068\u3099","\u306D\u3093\u3072\u309A","\u306D\u3093\u3075\u3099\u3064","\u306D\u3093\u307E\u3064","\u306D\u3093\u308A\u3087\u3046","\u306D\u3093\u308C\u3044","\u306E\u3044\u3059\u3099","\u306E\u304A\u3064\u3099\u307E","\u306E\u304B\u3099\u3059","\u306E\u304D\u306A\u307F","\u306E\u3053\u304D\u3099\u308A","\u306E\u3053\u3059","\u306E\u3053\u308B","\u306E\u305B\u308B","\u306E\u305D\u3099\u304F","\u306E\u305D\u3099\u3080","\u306E\u305F\u307E\u3046","\u306E\u3061\u307B\u3068\u3099","\u306E\u3063\u304F","\u306E\u306F\u3099\u3059","\u306E\u306F\u3089","\u306E\u3078\u3099\u308B","\u306E\u307B\u3099\u308B","\u306E\u307F\u3082\u306E","\u306E\u3084\u307E","\u306E\u3089\u3044\u306C","\u306E\u3089\u306D\u3053","\u306E\u308A\u3082\u306E","\u306E\u308A\u3086\u304D","\u306E\u308C\u3093","\u306E\u3093\u304D","\u306F\u3099\u3042\u3044","\u306F\u3042\u304F","\u306F\u3099\u3042\u3055\u3093","\u306F\u3099\u3044\u304B","\u306F\u3099\u3044\u304F","\u306F\u3044\u3051\u3093","\u306F\u3044\u3053\u3099","\u306F\u3044\u3057\u3093","\u306F\u3044\u3059\u3044","\u306F\u3044\u305B\u3093","\u306F\u3044\u305D\u3046","\u306F\u3044\u3061","\u306F\u3099\u3044\u306F\u3099\u3044","\u306F\u3044\u308C\u3064","\u306F\u3048\u308B","\u306F\u304A\u308B","\u306F\u304B\u3044","\u306F\u3099\u304B\u308A","\u306F\u304B\u308B","\u306F\u304F\u3057\u3085","\u306F\u3051\u3093","\u306F\u3053\u3075\u3099","\u306F\u3055\u307F","\u306F\u3055\u3093","\u306F\u3057\u3053\u3099","\u306F\u3099\u3057\u3087","\u306F\u3057\u308B","\u306F\u305B\u308B","\u306F\u309A\u305D\u3053\u3093","\u306F\u305D\u3093","\u306F\u305F\u3093","\u306F\u3061\u307F\u3064","\u306F\u3064\u304A\u3093","\u306F\u3063\u304B\u304F","\u306F\u3064\u3099\u304D","\u306F\u3063\u304D\u308A","\u306F\u3063\u304F\u3064","\u306F\u3063\u3051\u3093","\u306F\u3063\u3053\u3046","\u306F\u3063\u3055\u3093","\u306F\u3063\u3057\u3093","\u306F\u3063\u305F\u3064","\u306F\u3063\u3061\u3085\u3046","\u306F\u3063\u3066\u3093","\u306F\u3063\u3072\u309A\u3087\u3046","\u306F\u3063\u307B\u309A\u3046","\u306F\u306A\u3059","\u306F\u306A\u3072\u3099","\u306F\u306B\u304B\u3080","\u306F\u3075\u3099\u3089\u3057","\u306F\u307F\u304B\u3099\u304D","\u306F\u3080\u304B\u3046","\u306F\u3081\u3064","\u306F\u3084\u3044","\u306F\u3084\u3057","\u306F\u3089\u3046","\u306F\u308D\u3046\u3043\u3093","\u306F\u308F\u3044","\u306F\u3093\u3044","\u306F\u3093\u3048\u3044","\u306F\u3093\u304A\u3093","\u306F\u3093\u304B\u304F","\u306F\u3093\u304D\u3087\u3046","\u306F\u3099\u3093\u304F\u3099\u307F","\u306F\u3093\u3053","\u306F\u3093\u3057\u3083","\u306F\u3093\u3059\u3046","\u306F\u3093\u305F\u3099\u3093","\u306F\u309A\u3093\u3061","\u306F\u309A\u3093\u3064","\u306F\u3093\u3066\u3044","\u306F\u3093\u3068\u3057","\u306F\u3093\u306E\u3046","\u306F\u3093\u306F\u309A","\u306F\u3093\u3075\u3099\u3093","\u306F\u3093\u3078\u309A\u3093","\u306F\u3093\u307B\u3099\u3046\u304D","\u306F\u3093\u3081\u3044","\u306F\u3093\u3089\u3093","\u306F\u3093\u308D\u3093","\u3072\u3044\u304D","\u3072\u3046\u3093","\u3072\u3048\u308B","\u3072\u304B\u304F","\u3072\u304B\u308A","\u3072\u304B\u308B","\u3072\u304B\u3093","\u3072\u304F\u3044","\u3072\u3051\u3064","\u3072\u3053\u3046\u304D","\u3072\u3053\u304F","\u3072\u3055\u3044","\u3072\u3055\u3057\u3075\u3099\u308A","\u3072\u3055\u3093","\u3072\u3099\u3057\u3099\u3085\u3064\u304B\u3093","\u3072\u3057\u3087","\u3072\u305D\u304B","\u3072\u305D\u3080","\u3072\u305F\u3080\u304D","\u3072\u305F\u3099\u308A","\u3072\u305F\u308B","\u3072\u3064\u304D\u3099","\u3072\u3063\u3053\u3057","\u3072\u3063\u3057","\u3072\u3064\u3057\u3099\u3085\u3072\u3093","\u3072\u3063\u3059","\u3072\u3064\u305B\u3099\u3093","\u3072\u309A\u3063\u305F\u308A","\u3072\u309A\u3063\u3061\u308A","\u3072\u3064\u3088\u3046","\u3072\u3066\u3044","\u3072\u3068\u3053\u3099\u307F","\u3072\u306A\u307E\u3064\u308A","\u3072\u306A\u3093","\u3072\u306D\u308B","\u3072\u306F\u3093","\u3072\u3072\u3099\u304F","\u3072\u3072\u3087\u3046","\u3072\u307B\u3046","\u3072\u307E\u308F\u308A","\u3072\u307E\u3093","\u3072\u307F\u3064","\u3072\u3081\u3044","\u3072\u3081\u3057\u3099\u3057","\u3072\u3084\u3051","\u3072\u3084\u3059","\u3072\u3088\u3046","\u3072\u3099\u3087\u3046\u304D","\u3072\u3089\u304B\u3099\u306A","\u3072\u3089\u304F","\u3072\u308A\u3064","\u3072\u308A\u3087\u3046","\u3072\u308B\u307E","\u3072\u308B\u3084\u3059\u307F","\u3072\u308C\u3044","\u3072\u308D\u3044","\u3072\u308D\u3046","\u3072\u308D\u304D","\u3072\u308D\u3086\u304D","\u3072\u3093\u304B\u304F","\u3072\u3093\u3051\u3064","\u3072\u3093\u3053\u3093","\u3072\u3093\u3057\u3085","\u3072\u3093\u305D\u3046","\u3072\u309A\u3093\u3061","\u3072\u3093\u306F\u309A\u3093","\u3072\u3099\u3093\u307B\u3099\u3046","\u3075\u3042\u3093","\u3075\u3044\u3046\u3061","\u3075\u3046\u3051\u3044","\u3075\u3046\u305B\u3093","\u3075\u309A\u3046\u305F\u308D\u3046","\u3075\u3046\u3068\u3046","\u3075\u3046\u3075","\u3075\u3048\u308B","\u3075\u304A\u3093","\u3075\u304B\u3044","\u3075\u304D\u3093","\u3075\u304F\u3055\u3099\u3064","\u3075\u304F\u3075\u3099\u304F\u308D","\u3075\u3053\u3046","\u3075\u3055\u3044","\u3075\u3057\u304D\u3099","\u3075\u3057\u3099\u307F","\u3075\u3059\u307E","\u3075\u305B\u3044","\u3075\u305B\u304F\u3099","\u3075\u305D\u304F","\u3075\u3099\u305F\u306B\u304F","\u3075\u305F\u3093","\u3075\u3061\u3087\u3046","\u3075\u3064\u3046","\u3075\u3064\u304B","\u3075\u3063\u304B\u3064","\u3075\u3063\u304D","\u3075\u3063\u3053\u304F","\u3075\u3099\u3068\u3099\u3046","\u3075\u3068\u308B","\u3075\u3068\u3093","\u3075\u306E\u3046","\u3075\u306F\u3044","\u3075\u3072\u3087\u3046","\u3075\u3078\u3093","\u3075\u307E\u3093","\u3075\u307F\u3093","\u3075\u3081\u3064","\u3075\u3081\u3093","\u3075\u3088\u3046","\u3075\u308A\u3053","\u3075\u308A\u308B","\u3075\u308B\u3044","\u3075\u3093\u3044\u304D","\u3075\u3099\u3093\u304B\u3099\u304F","\u3075\u3099\u3093\u304F\u3099","\u3075\u3093\u3057\u3064","\u3075\u3099\u3093\u305B\u304D","\u3075\u3093\u305D\u3046","\u3075\u3099\u3093\u307B\u309A\u3046","\u3078\u3044\u3042\u3093","\u3078\u3044\u304A\u3093","\u3078\u3044\u304B\u3099\u3044","\u3078\u3044\u304D","\u3078\u3044\u3051\u3099\u3093","\u3078\u3044\u3053\u3046","\u3078\u3044\u3055","\u3078\u3044\u3057\u3083","\u3078\u3044\u305B\u3064","\u3078\u3044\u305D","\u3078\u3044\u305F\u304F","\u3078\u3044\u3066\u3093","\u3078\u3044\u306D\u3064","\u3078\u3044\u308F","\u3078\u304D\u304B\u3099","\u3078\u3053\u3080","\u3078\u3099\u306B\u3044\u308D","\u3078\u3099\u306B\u3057\u3087\u3046\u304B\u3099","\u3078\u3089\u3059","\u3078\u3093\u304B\u3093","\u3078\u3099\u3093\u304D\u3087\u3046","\u3078\u3099\u3093\u3053\u3099\u3057","\u3078\u3093\u3055\u3044","\u3078\u3093\u305F\u3044","\u3078\u3099\u3093\u308A","\u307B\u3042\u3093","\u307B\u3044\u304F","\u307B\u3099\u3046\u304D\u3099\u3087","\u307B\u3046\u3053\u304F","\u307B\u3046\u305D\u3046","\u307B\u3046\u307B\u3046","\u307B\u3046\u3082\u3093","\u307B\u3046\u308A\u3064","\u307B\u3048\u308B","\u307B\u304A\u3093","\u307B\u304B\u3093","\u307B\u304D\u3087\u3046","\u307B\u3099\u304D\u3093","\u307B\u304F\u308D","\u307B\u3051\u3064","\u307B\u3051\u3093","\u307B\u3053\u3046","\u307B\u3053\u308B","\u307B\u3057\u3044","\u307B\u3057\u3064","\u307B\u3057\u3085","\u307B\u3057\u3087\u3046","\u307B\u305B\u3044","\u307B\u305D\u3044","\u307B\u305D\u304F","\u307B\u305F\u3066","\u307B\u305F\u308B","\u307B\u309A\u3061\u3075\u3099\u304F\u308D","\u307B\u3063\u304D\u3087\u304F","\u307B\u3063\u3055","\u307B\u3063\u305F\u3093","\u307B\u3068\u3093\u3068\u3099","\u307B\u3081\u308B","\u307B\u3093\u3044","\u307B\u3093\u304D","\u307B\u3093\u3051","\u307B\u3093\u3057\u3064","\u307B\u3093\u3084\u304F","\u307E\u3044\u306B\u3061","\u307E\u304B\u3044","\u307E\u304B\u305B\u308B","\u307E\u304B\u3099\u308B","\u307E\u3051\u308B","\u307E\u3053\u3068","\u307E\u3055\u3064","\u307E\u3057\u3099\u3081","\u307E\u3059\u304F","\u307E\u305B\u3099\u308B","\u307E\u3064\u308A","\u307E\u3068\u3081","\u307E\u306A\u3075\u3099","\u307E\u306C\u3051","\u307E\u306D\u304F","\u307E\u307B\u3046","\u307E\u3082\u308B","\u307E\u3086\u3051\u3099","\u307E\u3088\u3046","\u307E\u308D\u3084\u304B","\u307E\u308F\u3059","\u307E\u308F\u308A","\u307E\u308F\u308B","\u307E\u3093\u304B\u3099","\u307E\u3093\u304D\u3064","\u307E\u3093\u305D\u3099\u304F","\u307E\u3093\u306A\u304B","\u307F\u3044\u3089","\u307F\u3046\u3061","\u307F\u3048\u308B","\u307F\u304B\u3099\u304F","\u307F\u304B\u305F","\u307F\u304B\u3093","\u307F\u3051\u3093","\u307F\u3053\u3093","\u307F\u3057\u3099\u304B\u3044","\u307F\u3059\u3044","\u307F\u3059\u3048\u308B","\u307F\u305B\u308B","\u307F\u3063\u304B","\u307F\u3064\u304B\u308B","\u307F\u3064\u3051\u308B","\u307F\u3066\u3044","\u307F\u3068\u3081\u308B","\u307F\u306A\u3068","\u307F\u306A\u307F\u304B\u3055\u3044","\u307F\u306D\u3089\u308B","\u307F\u306E\u3046","\u307F\u306E\u304B\u3099\u3059","\u307F\u307B\u3093","\u307F\u3082\u3068","\u307F\u3084\u3051\u3099","\u307F\u3089\u3044","\u307F\u308A\u3087\u304F","\u307F\u308F\u304F","\u307F\u3093\u304B","\u307F\u3093\u305D\u3099\u304F","\u3080\u3044\u304B","\u3080\u3048\u304D","\u3080\u3048\u3093","\u3080\u304B\u3044","\u3080\u304B\u3046","\u3080\u304B\u3048","\u3080\u304B\u3057","\u3080\u304D\u3099\u3061\u3083","\u3080\u3051\u308B","\u3080\u3051\u3099\u3093","\u3080\u3055\u307B\u3099\u308B","\u3080\u3057\u3042\u3064\u3044","\u3080\u3057\u306F\u3099","\u3080\u3057\u3099\u3085\u3093","\u3080\u3057\u308D","\u3080\u3059\u3046","\u3080\u3059\u3053","\u3080\u3059\u3075\u3099","\u3080\u3059\u3081","\u3080\u305B\u308B","\u3080\u305B\u3093","\u3080\u3061\u3085\u3046","\u3080\u306A\u3057\u3044","\u3080\u306E\u3046","\u3080\u3084\u307F","\u3080\u3088\u3046","\u3080\u3089\u3055\u304D","\u3080\u308A\u3087\u3046","\u3080\u308D\u3093","\u3081\u3044\u3042\u3093","\u3081\u3044\u3046\u3093","\u3081\u3044\u3048\u3093","\u3081\u3044\u304B\u304F","\u3081\u3044\u304D\u3087\u304F","\u3081\u3044\u3055\u3044","\u3081\u3044\u3057","\u3081\u3044\u305D\u3046","\u3081\u3044\u3075\u3099\u3064","\u3081\u3044\u308C\u3044","\u3081\u3044\u308F\u304F","\u3081\u304F\u3099\u307E\u308C\u308B","\u3081\u3055\u3099\u3059","\u3081\u3057\u305F","\u3081\u3059\u3099\u3089\u3057\u3044","\u3081\u305F\u3099\u3064","\u3081\u307E\u3044","\u3081\u3084\u3059","\u3081\u3093\u304D\u3087","\u3081\u3093\u305B\u304D","\u3081\u3093\u3068\u3099\u3046","\u3082\u3046\u3057\u3042\u3051\u3099\u308B","\u3082\u3046\u3068\u3099\u3046\u3051\u3093","\u3082\u3048\u308B","\u3082\u304F\u3057","\u3082\u304F\u3066\u304D","\u3082\u304F\u3088\u3046\u3072\u3099","\u3082\u3061\u308D\u3093","\u3082\u3068\u3099\u308B","\u3082\u3089\u3046","\u3082\u3093\u304F","\u3082\u3093\u305F\u3099\u3044","\u3084\u304A\u3084","\u3084\u3051\u308B","\u3084\u3055\u3044","\u3084\u3055\u3057\u3044","\u3084\u3059\u3044","\u3084\u3059\u305F\u308D\u3046","\u3084\u3059\u307F","\u3084\u305B\u308B","\u3084\u305D\u3046","\u3084\u305F\u3044","\u3084\u3061\u3093","\u3084\u3063\u3068","\u3084\u3063\u306F\u309A\u308A","\u3084\u3075\u3099\u308B","\u3084\u3081\u308B","\u3084\u3084\u3053\u3057\u3044","\u3084\u3088\u3044","\u3084\u308F\u3089\u304B\u3044","\u3086\u3046\u304D","\u3086\u3046\u3072\u3099\u3093\u304D\u3087\u304F","\u3086\u3046\u3078\u3099","\u3086\u3046\u3081\u3044","\u3086\u3051\u3064","\u3086\u3057\u3085\u3064","\u3086\u305B\u3093","\u3086\u305D\u3046","\u3086\u305F\u304B","\u3086\u3061\u3083\u304F","\u3086\u3066\u3099\u308B","\u3086\u306B\u3085\u3046","\u3086\u3072\u3099\u308F","\u3086\u3089\u3044","\u3086\u308C\u308B","\u3088\u3046\u3044","\u3088\u3046\u304B","\u3088\u3046\u304D\u3085\u3046","\u3088\u3046\u3057\u3099","\u3088\u3046\u3059","\u3088\u3046\u3061\u3048\u3093","\u3088\u304B\u305B\u3099","\u3088\u304B\u3093","\u3088\u304D\u3093","\u3088\u304F\u305B\u3044","\u3088\u304F\u307B\u3099\u3046","\u3088\u3051\u3044","\u3088\u3053\u3099\u308C\u308B","\u3088\u3055\u3093","\u3088\u3057\u3085\u3046","\u3088\u305D\u3046","\u3088\u305D\u304F","\u3088\u3063\u304B","\u3088\u3066\u3044","\u3088\u3068\u3099\u304B\u3099\u308F\u304F","\u3088\u306D\u3064","\u3088\u3084\u304F","\u3088\u3086\u3046","\u3088\u308D\u3053\u3075\u3099","\u3088\u308D\u3057\u3044","\u3089\u3044\u3046","\u3089\u304F\u304B\u3099\u304D","\u3089\u304F\u3053\u3099","\u3089\u304F\u3055\u3064","\u3089\u304F\u305F\u3099","\u3089\u3057\u3093\u306F\u3099\u3093","\u3089\u305B\u3093","\u3089\u305D\u3099\u304F","\u3089\u305F\u3044","\u3089\u3063\u304B","\u3089\u308C\u3064","\u308A\u3048\u304D","\u308A\u304B\u3044","\u308A\u304D\u3055\u304F","\u308A\u304D\u305B\u3064","\u308A\u304F\u304F\u3099\u3093","\u308A\u304F\u3064","\u308A\u3051\u3093","\u308A\u3053\u3046","\u308A\u305B\u3044","\u308A\u305D\u3046","\u308A\u305D\u304F","\u308A\u3066\u3093","\u308A\u306D\u3093","\u308A\u3086\u3046","\u308A\u3085\u3046\u304B\u3099\u304F","\u308A\u3088\u3046","\u308A\u3087\u3046\u308A","\u308A\u3087\u304B\u3093","\u308A\u3087\u304F\u3061\u3083","\u308A\u3087\u3053\u3046","\u308A\u308A\u304F","\u308A\u308C\u304D","\u308A\u308D\u3093","\u308A\u3093\u3053\u3099","\u308B\u3044\u3051\u3044","\u308B\u3044\u3055\u3044","\u308B\u3044\u3057\u3099","\u308B\u3044\u305B\u304D","\u308B\u3059\u306F\u3099\u3093","\u308B\u308A\u304B\u3099\u308F\u3089","\u308C\u3044\u304B\u3093","\u308C\u3044\u304D\u3099","\u308C\u3044\u305B\u3044","\u308C\u3044\u305D\u3099\u3046\u3053","\u308C\u3044\u3068\u3046","\u308C\u3044\u307B\u3099\u3046","\u308C\u304D\u3057","\u308C\u304D\u305F\u3099\u3044","\u308C\u3093\u3042\u3044","\u308C\u3093\u3051\u3044","\u308C\u3093\u3053\u3093","\u308C\u3093\u3055\u3044","\u308C\u3093\u3057\u3085\u3046","\u308C\u3093\u305D\u3099\u304F","\u308C\u3093\u3089\u304F","\u308D\u3046\u304B","\u308D\u3046\u3053\u3099","\u308D\u3046\u3057\u3099\u3093","\u308D\u3046\u305D\u304F","\u308D\u304F\u304B\u3099","\u308D\u3053\u3064","\u308D\u3057\u3099\u3046\u3089","\u308D\u3057\u3085\u3064","\u308D\u305B\u3093","\u308D\u3066\u3093","\u308D\u3081\u3093","\u308D\u308C\u3064","\u308D\u3093\u304D\u3099","\u308D\u3093\u306F\u309A","\u308D\u3093\u3075\u3099\u3093","\u308D\u3093\u308A","\u308F\u304B\u3059","\u308F\u304B\u3081","\u308F\u304B\u3084\u307E","\u308F\u304B\u308C\u308B","\u308F\u3057\u3064","\u308F\u3057\u3099\u307E\u3057","\u308F\u3059\u308C\u3082\u306E","\u308F\u3089\u3046","\u308F\u308C\u308B"];t.exports=r});He("8YfVJ",function(t,e){"use strict";var r=["a\u0301baco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accio\u0301n","aceite","acelga","acento","aceptar","a\u0301cido","aclarar","acne\u0301","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","ae\u0301reo","afectar","aficio\u0301n","afinar","afirmar","a\u0301gil","agitar","agoni\u0301a","agosto","agotar","agregar","agrio","agua","agudo","a\u0301guila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacra\u0301n","alambre","alarma","alba","a\u0301lbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodo\u0301n","aliado","aliento","alivio","alma","almeja","almi\u0301bar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","a\u0301mbar","a\u0301mbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","ande\u0301n","anemia","a\u0301ngulo","anillo","a\u0301nimo","ani\u0301s","anotar","antena","antiguo","antojo","anual","anular","anuncio","an\u0303adir","an\u0303ejo","an\u0303o","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","aran\u0303a","arar","a\u0301rbitro","a\u0301rbol","arbusto","archivo","arco","arder","ardilla","arduo","a\u0301rea","a\u0301rido","aries","armoni\u0301a","arne\u0301s","aroma","arpa","arpo\u0301n","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","a\u0301spero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","a\u0301tico","atleta","a\u0301tomo","atraer","atroz","atu\u0301n","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avio\u0301n","aviso","ayer","ayuda","ayuno","azafra\u0301n","azar","azote","azu\u0301car","azufre","azul","baba","babor","bache","bahi\u0301a","baile","bajar","balanza","balco\u0301n","balde","bambu\u0301","banco","banda","ban\u0303o","barba","barco","barniz","barro","ba\u0301scula","basto\u0301n","basura","batalla","bateri\u0301a","batir","batuta","bau\u0301l","bazar","bebe\u0301","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsa\u0301i","borde","borrar","bosque","bote","boti\u0301n","bo\u0301veda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufo\u0301n","bu\u0301ho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzo\u0301n","caballo","cabeza","cabina","cabra","cacao","cada\u0301ver","cadena","caer","cafe\u0301","cai\u0301da","caima\u0301n","caja","cajo\u0301n","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","ca\u0301ncer","candil","canela","canguro","canica","canto","can\u0303a","can\u0303o\u0301n","caoba","caos","capaz","capita\u0301n","capote","captar","capucha","cara","carbo\u0301n","ca\u0301rcel","careta","carga","carin\u0303o","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","ce\u0301lebre","celoso","ce\u0301lula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","ce\u0301sped","cetro","chacal","chaleco","champu\u0301","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclo\u0301n","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipre\u0301s","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","cli\u0301nica","cobre","coccio\u0301n","cochino","cocina","coco","co\u0301digo","codo","cofre","coger","cohete","coji\u0301n","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","co\u0301modo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazo\u0301n","corbata","corcho","cordo\u0301n","corona","correr","coser","cosmos","costa","cra\u0301neo","cra\u0301ter","crear","crecer","crei\u0301do","crema","cri\u0301a","crimen","cripta","crisis","cromo","cro\u0301nica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupo\u0301n","cu\u0301pula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","da\u0301til","deber","de\u0301bil","de\u0301cada","decir","dedo","defensa","definir","dejar","delfi\u0301n","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvi\u0301o","detalle","detener","deuda","di\u0301a","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difi\u0301cil","digno","dilema","diluir","dinero","directo","dirigir","disco","disen\u0303o","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","drago\u0301n","droga","ducha","duda","duelo","duen\u0303o","dulce","du\u0301o","duque","durar","dureza","duro","e\u0301bano","ebrio","echar","eco","ecuador","edad","edicio\u0301n","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","e\u0301lite","elixir","elogio","eludir","embudo","emitir","emocio\u0301n","empate","empen\u0303o","empleo","empresa","enano","encargo","enchufe","enci\u0301a","enemigo","enero","enfado","enfermo","engan\u0303o","enigma","enlace","enorme","enredo","ensayo","ensen\u0303ar","entero","entrar","envase","envi\u0301o","e\u0301poca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espi\u0301a","esposa","espuma","esqui\u0301","estar","este","estilo","estufa","etapa","eterno","e\u0301tica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","e\u0301xito","experto","explicar","exponer","extremo","fa\u0301brica","fa\u0301bula","fachada","fa\u0301cil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","farao\u0301n","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fe\u0301rtil","fervor","festi\u0301n","fiable","fianza","fiar","fibra","ficcio\u0301n","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flu\u0301or","fobia","foca","fogata","fogo\u0301n","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fra\u0301gil","franja","frase","fraude","frei\u0301r","freno","fresa","fri\u0301o","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcio\u0301n","funda","furgo\u0301n","furia","fusil","fu\u0301tbol","futuro","gacela","gafas","gaita","gajo","gala","galeri\u0301a","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavila\u0301n","gemelo","gemir","gen","ge\u0301nero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gra\u0301fico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","gru\u0301a","grueso","grumo","grupo","guante","guapo","guardia","guerra","gui\u0301a","guin\u0303o","guion","guiso","guitarra","gusano","gustar","haber","ha\u0301bil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazan\u0303a","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","he\u0301roe","hervir","hielo","hierro","hi\u0301gado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","hu\u0301medo","humilde","humo","hundir","huraca\u0301n","hurto","icono","ideal","idioma","i\u0301dolo","iglesia","iglu\u0301","igual","ilegal","ilusio\u0301n","imagen","ima\u0301n","imitar","impar","imperio","imponer","impulso","incapaz","i\u0301ndice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","intere\u0301s","i\u0301ntimo","intuir","inu\u0301til","invierno","ira","iris","ironi\u0301a","isla","islote","jabali\u0301","jabo\u0301n","jamo\u0301n","jarabe","jardi\u0301n","jarra","jaula","jazmi\u0301n","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","ju\u0301piter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladro\u0301n","lagarto","la\u0301grima","laguna","laico","lamer","la\u0301mina","la\u0301mpara","lana","lancha","langosta","lanza","la\u0301piz","largo","larva","la\u0301stima","lata","la\u0301tex","latir","laurel","lavar","lazo","leal","leccio\u0301n","leche","lector","leer","legio\u0301n","legumbre","lejano","lengua","lento","len\u0303a","leo\u0301n","leopardo","lesio\u0301n","letal","letra","leve","leyenda","libertad","libro","licor","li\u0301der","lidiar","lienzo","liga","ligero","lima","li\u0301mite","limo\u0301n","limpio","lince","lindo","li\u0301nea","lingote","lino","linterna","li\u0301quido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locio\u0301n","loco","locura","lo\u0301gica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","mai\u0301z","maldad","maleta","malla","malo","mama\u0301","mambo","mamut","manco","mando","manejar","manga","maniqui\u0301","manjar","mano","manso","manta","man\u0303ana","mapa","ma\u0301quina","mar","marco","marea","marfil","margen","marido","ma\u0301rmol","marro\u0301n","martes","marzo","masa","ma\u0301scara","masivo","matar","materia","matiz","matriz","ma\u0301ximo","mayor","mazorca","mecha","medalla","medio","me\u0301dula","mejilla","mejor","melena","melo\u0301n","memoria","menor","mensaje","mente","menu\u0301","mercado","merengue","me\u0301rito","mes","meso\u0301n","meta","meter","me\u0301todo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millo\u0301n","mimo","mina","minero","mi\u0301nimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocio\u0301n","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mon\u0303o","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","mo\u0301vil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","mun\u0303eca","mural","muro","mu\u0301sculo","museo","musgo","mu\u0301sica","muslo","na\u0301car","nacio\u0301n","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","na\u0301usea","naval","nave","navidad","necio","ne\u0301ctar","negar","negocio","negro","neo\u0301n","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","nin\u0303ez","nin\u0303o","ni\u0301tido","nivel","nobleza","noche","no\u0301mina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nu\u0301cleo","nudillo","nudo","nuera","nueve","nuez","nulo","nu\u0301mero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oce\u0301ano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oi\u0301do","oi\u0301r","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcio\u0301n","o\u0301pera","opinar","oponer","optar","o\u0301ptica","opuesto","oracio\u0301n","orador","oral","o\u0301rbita","orca","orden","oreja","o\u0301rgano","orgi\u0301a","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadi\u0301a","oscuro","osezno","oso","ostra","oton\u0303o","otro","oveja","o\u0301vulo","o\u0301xido","oxi\u0301geno","oyente","ozono","pacto","padre","paella","pa\u0301gina","pago","pai\u0301s","pa\u0301jaro","palabra","palco","paleta","pa\u0301lido","palma","paloma","palpar","pan","panal","pa\u0301nico","pantera","pan\u0303uelo","papa\u0301","papel","papilla","paquete","parar","parcela","pared","parir","paro","pa\u0301rpado","parque","pa\u0301rrafo","parte","pasar","paseo","pasio\u0301n","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peato\u0301n","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldan\u0303o","pelea","peligro","pellejo","pelo","peluca","pena","pensar","pen\u0303o\u0301n","peo\u0301n","peor","pepino","pequen\u0303o","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pe\u0301simo","pestan\u0303a","pe\u0301talo","petro\u0301leo","pez","pezun\u0303a","picar","picho\u0301n","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pin\u0303a","piojo","pipa","pirata","pisar","piscina","piso","pista","pito\u0301n","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesi\u0301a","poeta","polen","polici\u0301a","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcio\u0301n","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","pri\u0301ncipe","prisio\u0301n","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","pro\u0301ximo","prueba","pu\u0301blico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmo\u0301n","pulpo","pulso","puma","punto","pun\u0303al","pun\u0303o","pupa","pupila","pure\u0301","quedar","queja","quemar","querer","queso","quieto","qui\u0301mica","quince","quitar","ra\u0301bano","rabia","rabo","racio\u0301n","radical","rai\u0301z","rama","rampa","rancho","rango","rapaz","ra\u0301pido","rapto","rasgo","raspa","rato","rayo","raza","razo\u0301n","reaccio\u0301n","realidad","reban\u0303o","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refra\u0301n","refugio","regalo","regir","regla","regreso","rehe\u0301n","reino","rei\u0301r","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reve\u0301s","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","ri\u0301gido","rigor","rinco\u0301n","rin\u0303o\u0301n","ri\u0301o","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi\u0301","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sa\u0301bado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmo\u0301n","salo\u0301n","salsa","salto","salud","salvar","samba","sancio\u0301n","sandi\u0301a","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarte\u0301n","sastre","sata\u0301n","sauna","saxofo\u0301n","seccio\u0301n","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","sen\u0303al","sen\u0303or","separar","sepia","sequi\u0301a","ser","serie","sermo\u0301n","servir","sesenta","sesio\u0301n","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","si\u0301laba","silbar","silencio","silla","si\u0301mbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","so\u0301lido","soltar","solucio\u0301n","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","soste\u0301n","so\u0301tano","suave","subir","suceso","sudor","suegra","suelo","suen\u0303o","suerte","sufrir","sujeto","sulta\u0301n","sumar","superar","suplir","suponer","supremo","sur","surco","suren\u0303o","surgir","susto","sutil","tabaco","tabique","tabla","tabu\u0301","taco","tacto","tajo","talar","talco","talento","talla","talo\u0301n","taman\u0303o","tambor","tango","tanque","tapa","tapete","tapia","tapo\u0301n","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazo\u0301n","teatro","techo","tecla","te\u0301cnica","tejado","tejer","tejido","tela","tele\u0301fono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teori\u0301a","terapia","terco","te\u0301rmino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburo\u0301n","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","ti\u0301mido","timo","tinta","ti\u0301o","ti\u0301pico","tipo","tira","tiro\u0301n","tita\u0301n","ti\u0301tere","ti\u0301tulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","to\u0301rax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","to\u0301xico","trabajo","tractor","traer","tra\u0301fico","trago","traje","tramo","trance","trato","trauma","trazar","tre\u0301bol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberi\u0301a","tubo","tuerto","tumba","tumor","tu\u0301nel","tu\u0301nica","turbina","turismo","turno","tutor","ubicar","u\u0301lcera","umbral","unidad","unir","universo","uno","untar","un\u0303a","urbano","urbe","urgente","urna","usar","usuario","u\u0301til","utopi\u0301a","uva","vaca","vaci\u0301o","vacuna","vagar","vago","vaina","vajilla","vale","va\u0301lido","valle","valor","va\u0301lvula","vampiro","vara","variar","varo\u0301n","vaso","vecino","vector","vehi\u0301culo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vi\u0301a","viaje","vibrar","vicio","vi\u0301ctima","vida","vi\u0301deo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vin\u0303edo","violi\u0301n","viral","virgo","virtud","visor","vi\u0301spera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volca\u0301n","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"];t.exports=r});var cle=rr.Buffer,Rt={};Rt.version="v"+Y("1Q9VF").version;Rt.versionGuard=function(t){if(t!==void 0){var e=`
      More than one instance of scrypt bsv found. other version: ${t}
      Please make sure to require bsv and check that submodules do
      not also include their own bsv dependency.`;console.warn(e)}};Rt.versionGuard(Sb._scrypt_bsv);Sb._scrypt_bsv=Rt.version;Rt.crypto={};Rt.crypto.BN=Y("dIoYd");Rt.crypto.ECDSA=Y("kmMTb");Rt.crypto.Hash=Y("bTTXN");Rt.crypto.Random=Y("7X5Fe");Rt.crypto.Point=Y("f0gTO");Rt.crypto.Signature=Y("gIXub");Rt.encoding={};Rt.encoding.Base58=Y("jG967");Rt.encoding.Base58Check=Y("j7ODq");Rt.encoding.BufferReader=Y("28ku8");Rt.encoding.BufferWriter=Y("2AZ1V");Rt.encoding.Varint=Y("1zMJW");Rt.util={};Rt.util.js=Y("gk75r");Rt.util.preconditions=Y("6gAsx");Rt.errors=Y("kooOK");Rt.Address=Y("iSUUt");Rt.Block=Y("19NsJ");Rt.MerkleBlock=Y("hVYHX");Rt.BlockHeader=Y("gGdD6");Rt.HDPrivateKey=Y("4bgoH");Rt.HDPublicKey=Y("8kXe7");Rt.Networks=Y("cyjag");Rt.Opcode=Y("bpasi");Rt.PrivateKey=Y("7smYJ");Rt.PublicKey=Y("arkeG");Rt.Script=Y("hkiTH");Rt.Transaction=Y("7pkU6");Rt.ECIES=Y("de0HV");Rt.HashCache=Y("l0DuR");Rt.deps={};Rt.deps.bnjs=ule;Rt.deps.bs58=FS;Rt.deps.Buffer=cle;Rt.deps.elliptic=UH;Rt.deps._=Y("kBBbb");Rt.Transaction.sighash=Y("95EnH");Rt.Message=Y("9fBEz");Rt.Mnemonic=Y("amN1b");LH.exports=Rt});var $H=$((HS,DS)=>{k();M();(function(t,e,r){typeof HS=="object"&&typeof DS<"u"?e(DS):typeof define=="function"&&define.amd?define(["module"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(r={exports:{}}),t.sourcemapCodec="default"in r.exports?r.exports.default:r.exports)})(HS,function(t){"use strict";var e=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(T,b)=>{for(var x in b)e(T,x,{get:b[x],enumerable:!0})},o=(T,b,x,P)=>{if(b&&typeof b=="object"||typeof b=="function")for(let L of n(b))!i.call(T,L)&&L!==x&&e(T,L,{get:()=>b[L],enumerable:!(P=r(b,L))||P.enumerable});return T},a=T=>o(e({},"__esModule",{value:!0}),T),u={};s(u,{decode:()=>m,decodeGeneratedRanges:()=>C,decodeOriginalScopes:()=>N,encode:()=>R,encodeGeneratedRanges:()=>d,encodeOriginalScopes:()=>H}),t.exports=a(u);var c=",".charCodeAt(0),h=";".charCodeAt(0),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=new Uint8Array(64),l=new Uint8Array(128);for(let T=0;T<f.length;T++){let b=f.charCodeAt(T);p[T]=b,l[b]=T}function y(T,b){let x=0,P=0,L=0;do{let W=T.next();L=l[W],x|=(L&31)<<P,P+=5}while(L&32);let V=x&1;return x>>>=1,V&&(x=-2147483648|-x),b+x}function _(T,b,x){let P=b-x;P=P<0?-P<<1|1:P<<1;do{let L=P&31;P>>>=5,P>0&&(L|=32),T.write(p[L])}while(P>0);return b}function O(T,b){return T.pos>=b?!1:T.peek()!==c}var F=1024*16,B=typeof TextDecoder<"u"?new TextDecoder:typeof A.Buffer<"u"?{decode(T){return A.Buffer.from(T.buffer,T.byteOffset,T.byteLength).toString()}}:{decode(T){let b="";for(let x=0;x<T.length;x++)b+=String.fromCharCode(T[x]);return b}},E=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(F)}write(T){let{buffer:b}=this;b[this.pos++]=T,this.pos===F&&(this.out+=B.decode(b),this.pos=0)}flush(){let{buffer:T,out:b,pos:x}=this;return x>0?b+B.decode(T.subarray(0,x)):b}},I=class{constructor(T){this.pos=0,this.buffer=T}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(T){let{buffer:b,pos:x}=this,P=b.indexOf(T,x);return P===-1?b.length:P}},U=[];function N(T){let{length:b}=T,x=new I(T),P=[],L=[],V=0;for(;x.pos<b;x.pos++){V=y(x,V);let W=y(x,0);if(!O(x,b)){let Q=L.pop();Q[2]=V,Q[3]=W;continue}let ee=y(x,0),j=y(x,0)&1?[V,W,0,0,ee,y(x,0)]:[V,W,0,0,ee],Z=U;if(O(x,b)){Z=[];do{let Q=y(x,0);Z.push(Q)}while(O(x,b))}j.vars=Z,P.push(j),L.push(j)}return P}function H(T){let b=new E;for(let x=0;x<T.length;)x=D(T,x,b,[0]);return b.flush()}function D(T,b,x,P){let L=T[b],{0:V,1:W,2:ee,3:ae,4:se,vars:j}=L;b>0&&x.write(c),P[0]=_(x,V,P[0]),_(x,W,0),_(x,se,0);let Z=L.length===6?1:0;_(x,Z,0),L.length===6&&_(x,L[5],0);for(let Q of j)_(x,Q,0);for(b++;b<T.length;){let Q=T[b],{0:ne,1:ue}=Q;if(ne>ee||ne===ee&&ue>=ae)break;b=D(T,b,x,P)}return x.write(c),P[0]=_(x,ee,P[0]),_(x,ae,0),b}function C(T){let{length:b}=T,x=new I(T),P=[],L=[],V=0,W=0,ee=0,ae=0,se=0,j=0,Z=0,Q=0;do{let ne=x.indexOf(";"),ue=0;for(;x.pos<ne;x.pos++){if(ue=y(x,ue),!O(x,ne)){let Ae=L.pop();Ae[2]=V,Ae[3]=ue;continue}let ge=y(x,0),xe=ge&1,Pe=ge&2,Le=ge&4,ke=null,De=U,Je;if(xe){let Ae=y(x,W);ee=y(x,W===Ae?ee:0),W=Ae,Je=[V,ue,0,0,Ae,ee]}else Je=[V,ue,0,0];if(Je.isScope=!!Le,Pe){let Ae=ae,we=se;ae=y(x,ae);let mt=Ae===ae;se=y(x,mt?se:0),j=y(x,mt&&we===se?j:0),ke=[ae,se,j]}if(Je.callsite=ke,O(x,ne)){De=[];do{Z=V,Q=ue;let Ae=y(x,0),we;if(Ae<-1){we=[[y(x,0)]];for(let mt=-1;mt>Ae;mt--){let K=Z;Z=y(x,Z),Q=y(x,Z===K?Q:0);let X=y(x,0);we.push([X,Z,Q])}}else we=[[Ae]];De.push(we)}while(O(x,ne))}Je.bindings=De,P.push(Je),L.push(Je)}V++,x.pos=ne+1}while(x.pos<b);return P}function d(T){if(T.length===0)return"";let b=new E;for(let x=0;x<T.length;)x=v(T,x,b,[0,0,0,0,0,0,0]);return b.flush()}function v(T,b,x,P){let L=T[b],{0:V,1:W,2:ee,3:ae,isScope:se,callsite:j,bindings:Z}=L;P[0]<V?(g(x,P[0],V),P[0]=V,P[1]=0):b>0&&x.write(c),P[1]=_(x,L[1],P[1]);let Q=(L.length===6?1:0)|(j?2:0)|(se?4:0);if(_(x,Q,0),L.length===6){let{4:ne,5:ue}=L;ne!==P[2]&&(P[3]=0),P[2]=_(x,ne,P[2]),P[3]=_(x,ue,P[3])}if(j){let{0:ne,1:ue,2:ge}=L.callsite;ne!==P[4]?(P[5]=0,P[6]=0):ue!==P[5]&&(P[6]=0),P[4]=_(x,ne,P[4]),P[5]=_(x,ue,P[5]),P[6]=_(x,ge,P[6])}if(Z)for(let ne of Z){ne.length>1&&_(x,-ne.length,0);let ue=ne[0][0];_(x,ue,0);let ge=V,xe=W;for(let Pe=1;Pe<ne.length;Pe++){let Le=ne[Pe];ge=_(x,Le[1],ge),xe=_(x,Le[2],xe),_(x,Le[0],0)}}for(b++;b<T.length;){let ne=T[b],{0:ue,1:ge}=ne;if(ue>ee||ue===ee&&ge>=ae)break;b=v(T,b,x,P)}return P[0]<ee?(g(x,P[0],ee),P[0]=ee,P[1]=0):x.write(c),P[1]=_(x,ae,P[1]),b}function g(T,b,x){do T.write(h);while(++b<x)}function m(T){let{length:b}=T,x=new I(T),P=[],L=0,V=0,W=0,ee=0,ae=0;do{let se=x.indexOf(";"),j=[],Z=!0,Q=0;for(L=0;x.pos<se;){let ne;L=y(x,L),L<Q&&(Z=!1),Q=L,O(x,se)?(V=y(x,V),W=y(x,W),ee=y(x,ee),O(x,se)?(ae=y(x,ae),ne=[L,V,W,ee,ae]):ne=[L,V,W,ee]):ne=[L],j.push(ne),x.pos++}Z||S(j),P.push(j),x.pos=se+1}while(x.pos<=b);return P}function S(T){T.sort(w)}function w(T,b){return T[0]-b[0]}function R(T){let b=new E,x=0,P=0,L=0,V=0;for(let W=0;W<T.length;W++){let ee=T[W];if(W>0&&b.write(h),ee.length===0)continue;let ae=0;for(let se=0;se<ee.length;se++){let j=ee[se];se>0&&b.write(c),ae=_(b,j[0],ae),j.length!==1&&(x=_(b,j[1],x),P=_(b,j[2],P),L=_(b,j[3],L),j.length!==4&&(V=_(b,j[4],V)))}}return b.flush()}})});var jH={};nne(jH,{default:()=>fle});var fle,KH=rne(()=>{k();M();fle={}});var US=$((Hze,wb)=>{k();M();var Op=(KH(),ine(jH));if(Op&&Op.default){wb.exports=Op.default;for(let t in Op)wb.exports[t]=Op[t]}else Op&&(wb.exports=Op)});var VH=$(LS=>{k();M();var Bp=Ro(),nl=q.platform==="win32",rl=jc(),hle=q.env.NODE_DEBUG&&/fs/.test(q.env.NODE_DEBUG);function lle(){var t;if(hle){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(q.throwDeprecation)throw i;if(!q.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);q.traceDeprecation?console.trace(s):console.error(s)}}}}function dle(t){return typeof t=="function"?t:lle()}var Lze=Bp.normalize;nl?_f=/(.*?)(?:[\/\\]+|$)/g:_f=/(.*?)(?:[\/]+|$)/g;var _f;nl?M3=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:M3=/^[\/]*/;var M3;LS.realpathSync=function(e,r){if(e=Bp.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,a,u,c;h();function h(){var O=M3.exec(e);o=O[0].length,a=O[0],u=O[0],c="",nl&&!s[u]&&(rl.lstatSync(u),s[u]=!0)}for(;o<e.length;){_f.lastIndex=o;var f=_f.exec(e);if(c=a,a+=f[0],u=c+f[1],o=_f.lastIndex,!(s[u]||r&&r[u]===u)){var p;if(r&&Object.prototype.hasOwnProperty.call(r,u))p=r[u];else{var l=rl.lstatSync(u);if(!l.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var y=null;if(!nl){var _=l.dev.toString(32)+":"+l.ino.toString(32);i.hasOwnProperty(_)&&(y=i[_])}y===null&&(rl.statSync(u),y=rl.readlinkSync(u)),p=Bp.resolve(c,y),r&&(r[u]=p),nl||(i[_]=y)}e=Bp.resolve(p,e.slice(o)),h()}}return r&&(r[n]=e),e};LS.realpath=function(e,r,n){if(typeof n!="function"&&(n=dle(r),r=null),e=Bp.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return q.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},a,u,c,h;f();function f(){var O=M3.exec(e);a=O[0].length,u=O[0],c=O[0],h="",nl&&!o[c]?rl.lstat(c,function(F){if(F)return n(F);o[c]=!0,p()}):q.nextTick(p)}function p(){if(a>=e.length)return r&&(r[i]=e),n(null,e);_f.lastIndex=a;var O=_f.exec(e);return h=u,u+=O[0],c=h+O[1],a=_f.lastIndex,o[c]||r&&r[c]===c?q.nextTick(p):r&&Object.prototype.hasOwnProperty.call(r,c)?_(r[c]):rl.lstat(c,l)}function l(O,F){if(O)return n(O);if(!F.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),q.nextTick(p);if(!nl){var B=F.dev.toString(32)+":"+F.ino.toString(32);if(s.hasOwnProperty(B))return y(null,s[B],c)}rl.stat(c,function(E){if(E)return n(E);rl.readlink(c,function(I,U){nl||(s[B]=U),y(I,U)})})}function y(O,F,B){if(O)return n(O);var E=Bp.resolve(h,F);r&&(r[B]=E),_(E)}function _(O){e=Bp.resolve(O,e.slice(a)),f()}}});var KS=$((Kze,YH)=>{k();M();YH.exports=il;il.realpath=il;il.sync=jS;il.realpathSync=jS;il.monkeypatch=mle;il.unmonkeypatch=gle;var p6=jc(),qS=p6.realpath,$S=p6.realpathSync,ple=q.version,GH=/^v[0-5]\./.test(ple),zH=VH();function WH(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function il(t,e,r){if(GH)return qS(t,e,r);typeof e=="function"&&(r=e,e=null),qS(t,e,function(n,i){WH(n)?zH.realpath(t,e,r):r(n,i)})}function jS(t,e){if(GH)return $S(t,e);try{return $S(t,e)}catch(r){if(WH(r))return zH.realpathSync(t,e);throw r}}function mle(){p6.realpath=il,p6.realpathSync=jS}function gle(){p6.realpath=qS,p6.realpathSync=$S}});var ZH=$((zze,XH)=>{k();M();XH.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);ble(i)?r.push.apply(r,i):r.push(i)}return r};var ble=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var rD=$((Xze,tD)=>{k();M();tD.exports=QH;function QH(t,e,r){t instanceof RegExp&&(t=JH(t,r)),e instanceof RegExp&&(e=JH(e,r));var n=eD(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function JH(t,e){var r=e.match(t);return r?r[0]:null}QH.range=eD;function eD(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),h=u;if(u>=0&&c>0){for(n=[],s=r.length;h>=0&&!a;)h==u?(n.push(h),u=r.indexOf(t,h+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,h+1)),h=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var fD=$((Qze,cD)=>{k();M();var yle=ZH(),nD=rD();cD.exports=xle;var iD="\0SLASH"+Math.random()+"\0",sD="\0OPEN"+Math.random()+"\0",GS="\0CLOSE"+Math.random()+"\0",oD="\0COMMA"+Math.random()+"\0",aD="\0PERIOD"+Math.random()+"\0";function VS(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function vle(t){return t.split("\\\\").join(iD).split("\\{").join(sD).split("\\}").join(GS).split("\\,").join(oD).split("\\.").join(aD)}function _le(t){return t.split(iD).join("\\").split(sD).join("{").split(GS).join("}").split(oD).join(",").split(aD).join(".")}function uD(t){if(!t)return[""];var e=[],r=nD("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=uD(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function xle(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),m6(vle(t),!0).map(_le)):[]}function Sle(t){return"{"+t+"}"}function wle(t){return/^-?0\d/.test(t)}function Ele(t,e){return t<=e}function Tle(t,e){return t>=e}function m6(t,e){var r=[],n=nD("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+GS+n.post,m6(t)):[t];var u;if(o)u=n.body.split(/\.\./);else if(u=uD(n.body),u.length===1&&(u=m6(u[0],!1).map(Sle),u.length===1)){var h=n.post.length?m6(n.post,!1):[""];return h.map(function(v){return n.pre+u[0]+v})}var c=n.pre,h=n.post.length?m6(n.post,!1):[""],f;if(o){var p=VS(u[0]),l=VS(u[1]),y=Math.max(u[0].length,u[1].length),_=u.length==3?Math.abs(VS(u[2])):1,O=Ele,F=l<p;F&&(_*=-1,O=Tle);var B=u.some(wle);f=[];for(var E=p;O(E,l);E+=_){var I;if(s)I=String.fromCharCode(E),I==="\\"&&(I="");else if(I=String(E),B){var U=y-I.length;if(U>0){var N=new Array(U+1).join("0");E<0?I="-"+N+I.slice(1):I=N+I}}f.push(I)}}else f=yle(u,function(d){return m6(d,!1)});for(var H=0;H<f.length;H++)for(var D=0;D<h.length;D++){var C=c+f[H]+h[D];(!e||o||C)&&r.push(C)}return r}});var Ab=$((rWe,mD)=>{k();M();mD.exports=pa;pa.Minimatch=Es;var R3=function(){try{return Ro()}catch{}}()||{sep:"/"};pa.sep=R3.sep;var YS=pa.GLOBSTAR=Es.GLOBSTAR={},Ale=fD(),hD={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},zS="[^/]",WS=zS+"*?",Ile="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ple="(?:(?!(?:\\/|^)\\.).)*?",lD=Ole("().*{}+?[]^$\\!");function Ole(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var dD=/\/+/;pa.filter=Ble;function Ble(t,e){return e=e||{},function(r,n,i){return pa(r,t,e)}}function sl(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}pa.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return pa;var e=pa,r=function(i,s,o){return e(i,s,sl(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,sl(t,s))},r.Minimatch.defaults=function(i){return e.defaults(sl(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,sl(t,s))},r.defaults=function(i){return e.defaults(sl(t,i))},r.makeRe=function(i,s){return e.makeRe(i,sl(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,sl(t,s))},r.match=function(n,i,s){return e.match(n,i,sl(t,s))},r};Es.defaults=function(t){return pa.defaults(t).Minimatch};function pa(t,e,r){return Tb(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Es(e,r).match(t)}function Es(t,e){if(!(this instanceof Es))return new Es(t,e);Tb(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&R3.sep!=="/"&&(t=t.split(R3.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Es.prototype.debug=function(){};Es.prototype.make=Cle;function Cle(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(dD)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Es.prototype.parseNegate=kle;function kle(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}pa.braceExpand=function(t,e){return pD(t,e)};Es.prototype.braceExpand=pD;function pD(t,e){return e||(this instanceof Es?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Tb(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Ale(t)}var Mle=1024*64,Tb=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Mle)throw new TypeError("pattern is too long")};Es.prototype.parse=Rle;var Eb={};function Rle(t,e){Tb(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return YS;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],u,c=!1,h=-1,f=-1,p=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",l=this;function y(){if(u){switch(u){case"*":n+=WS,i=!0;break;case"?":n+=zS,i=!0;break;default:n+="\\"+u;break}l.debug("clearStateChar %j %j",u,n),u=!1}}for(var _=0,O=t.length,F;_<O&&(F=t.charAt(_));_++){if(this.debug("%s	%s %s %j",t,_,n,F),s&&lD[F]){n+="\\"+F,s=!1;continue}switch(F){case"/":return!1;case"\\":y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,_,n,F),c){this.debug("  in class"),F==="!"&&_===f+1&&(F="^"),n+=F;continue}l.debug("call clearStateChar %j",u),y(),u=F,r.noext&&y();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:_-1,reStart:n.length,open:hD[u].open,close:hD[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!o.length){n+="\\)";continue}y(),i=!0;var B=o.pop();n+=B.close,B.type==="!"&&a.push(B),B.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}y(),n+="|";continue;case"[":if(y(),c){n+="\\"+F;continue}c=!0,f=_,h=n.length,n+=F;continue;case"]":if(_===f+1||!c){n+="\\"+F,s=!1;continue}var E=t.substring(f+1,_);try{RegExp("["+E+"]")}catch{var I=this.parse(E,Eb);n=n.substr(0,h)+"\\["+I[0]+"\\]",i=i||I[1],c=!1;continue}i=!0,c=!1,n+=F;continue;default:y(),s?s=!1:lD[F]&&!(F==="^"&&c)&&(n+="\\"),n+=F}}for(c&&(E=t.substr(f+1),I=this.parse(E,Eb),n=n.substr(0,h)+"\\["+I[0],i=i||I[1]),B=o.pop();B;B=o.pop()){var U=n.slice(B.reStart+B.open.length);this.debug("setting tail",n,B),U=U.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(P,L,V){return V||(V="\\"),L+L+V+"|"}),this.debug(`tail=%j
   %s`,U,U,B,n);var N=B.type==="*"?WS:B.type==="?"?zS:"\\"+B.type;i=!0,n=n.slice(0,B.reStart)+N+"\\("+U}y(),s&&(n+="\\\\");var H=!1;switch(n.charAt(0)){case"[":case".":case"(":H=!0}for(var D=a.length-1;D>-1;D--){var C=a[D],d=n.slice(0,C.reStart),v=n.slice(C.reStart,C.reEnd-8),g=n.slice(C.reEnd-8,C.reEnd),m=n.slice(C.reEnd);g+=m;var S=d.split("(").length-1,w=m;for(_=0;_<S;_++)w=w.replace(/\)[+*?]?/,"");m=w;var R="";m===""&&e!==Eb&&(R="$");var T=d+v+m+R+g;n=T}if(n!==""&&i&&(n="(?=.)"+n),H&&(n=p+n),e===Eb)return[n,i];if(!i)return Fle(t);var b=r.nocase?"i":"";try{var x=new RegExp("^"+n+"$",b)}catch{return new RegExp("$.")}return x._glob=t,x._src=n,x}pa.makeRe=function(t,e){return new Es(t,e||{}).makeRe()};Es.prototype.makeRe=Nle;function Nle(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?WS:e.dot?Ile:Ple,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===YS?r:typeof o=="string"?Hle(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}pa.match=function(t,e,r){r=r||{};var n=new Es(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Es.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;R3.sep!=="/"&&(e=e.split(R3.sep).join("/")),e=e.split(dD),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;n.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Es.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u=e[s],c=t[i];if(this.debug(e,u,c),u===!1)return!1;if(u===YS){this.debug("GLOBSTAR",[e,u,c]);var h=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;h<o;){var p=t[h];if(this.debug(`
globstar while`,t,h,e,f,p),this.matchOne(t.slice(h),e.slice(f),r))return this.debug("globstar found match!",h,o,p),!0;if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,h,e,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,h,e,f),h===o))}var l;if(typeof u=="string"?(l=c===u,this.debug("string match",u,c,l)):(l=c.match(u),this.debug("pattern match",u,c,l)),!l)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function Fle(t){return t.replace(/\\(.)/g,"$1")}function Hle(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Pb=$((sWe,Ib)=>{k();M();function gD(t){return t.charAt(0)==="/"}function bD(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Ib.exports=q.platform==="win32"?bD:gD;Ib.exports.posix=gD;Ib.exports.win32=bD});var ZS=$(ol=>{k();M();ol.setopts=jle;ol.ownProp=yD;ol.makeAbs=N3;ol.finish=Kle;ol.mark=Vle;ol.isIgnored=_D;ol.childrenIgnored=Gle;function yD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Dle=jc(),g6=Ro(),Ule=Ab(),vD=Pb(),XS=Ule.Minimatch;function Lle(t,e){return t.localeCompare(e,"en")}function qle(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map($le))}function $le(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new XS(r,{dot:!0})}return{matcher:new XS(t,{dot:!0}),gmatcher:e}}function jle(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Dle,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),qle(t,r),t.changedCwd=!1;var n=q.cwd();yD(r,"cwd")?(t.cwd=g6.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||g6.resolve(t.cwd,"/"),t.root=g6.resolve(t.root),q.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=vD(t.cwd)?t.cwd:N3(t,t.cwd),q.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new XS(e,r),t.options=t.minimatch.options}function Kle(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Lle)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),h=t.cache[u]||t.cache[N3(t,u)];return c&&h&&(c=h!=="DIR"&&!Array.isArray(h)),c}))}t.ignore.length&&(r=r.filter(function(u){return!_D(t,u)})),t.found=r}function Vle(t,e){var r=N3(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=N3(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function N3(t,e){var r=e;return e.charAt(0)==="/"?r=g6.join(t.root,e):vD(e)||e===""?r=e:t.changedCwd?r=g6.resolve(t.cwd,e):r=g6.resolve(e),q.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function _D(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Gle(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var TD=$((pWe,ED)=>{k();M();ED.exports=wD;wD.GlobSync=Ki;var zle=KS(),xD=Ab(),hWe=xD.Minimatch,lWe=ew().Glob,dWe=ak(),JS=Ro(),SD=rc(),Ob=Pb(),Cp=ZS(),Wle=Cp.setopts,QS=Cp.ownProp,Yle=Cp.childrenIgnored,Xle=Cp.isIgnored;function wD(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Ki(t,e).found}function Ki(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Ki))return new Ki(t,e);if(Wle(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Ki.prototype._finish=function(){if(SD.ok(this instanceof Ki),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=zle.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}Cp.finish(this)};Ki.prototype._process=function(t,e,r){SD.ok(this instanceof Ki);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((Ob(i)||Ob(t.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!Ob(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!Yle(this,o)){var u=s[0]===xD.GLOBSTAR;u?this._processGlobStar(i,o,a,s,e,r):this._processReaddir(i,o,a,s,e,r)}};Ki.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,h=this.dot||c.charAt(0)===".",f=[],p=0;p<o.length;p++){var l=o[p];if(l.charAt(0)!=="."||h){var y;u&&!t?y=!l.match(a):y=l.match(a),y&&f.push(l)}}var _=f.length;if(_!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<_;p++){var l=f[p];t&&(t.slice(-1)!=="/"?l=t+"/"+l:l=t+l),l.charAt(0)==="/"&&!this.nomount&&(l=JS.join(this.root,l)),this._emitMatch(i,l)}return}n.shift();for(var p=0;p<_;p++){var l=f[p],O;t?O=[t,l]:O=[l],this._process(O.concat(n),i,s)}}}};Ki.prototype._emitMatch=function(t,e){if(!Xle(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Ki.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Ki.prototype._readdir=function(t,e){var r;if(e&&!QS(this.symlinks,t))return this._readdirInGlobStar(t);if(QS(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};Ki.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};Ki.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Ki.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){var a=n.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,i,!1);var h=o.length,f=this.symlinks[r];if(!(f&&s))for(var p=0;p<h;p++){var l=o[p];if(!(l.charAt(0)==="."&&!this.dot)){var y=u.concat(o[p],a);this._process(y,i,!0);var _=u.concat(o[p],n);this._process(_,i,!0)}}}};Ki.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Ob(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=JS.join(this.root,t):(t=JS.resolve(this.root,t),n&&(t+="/"))}q.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Ki.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&QS(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};Ki.prototype._mark=function(t){return Cp.mark(this,t)};Ki.prototype._makeAbs=function(t){return Cp.makeAbs(this,t)}});var tw=$((bWe,ID)=>{k();M();ID.exports=AD;function AD(t,e){if(t&&e)return AD(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var nw=$((_We,rw)=>{k();M();var PD=tw();rw.exports=PD(Bb);rw.exports.strict=PD(OD);Bb.proto=Bb(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Bb(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return OD(this)},configurable:!0})});function Bb(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function OD(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var CD=$((wWe,BD)=>{k();M();var Zle=tw(),F3=Object.create(null),Jle=nw();BD.exports=Zle(Qle);function Qle(t,e){return F3[t]?(F3[t].push(e),null):(F3[t]=[e],ede(t))}function ede(t){return Jle(function e(){var r=F3[t],n=r.length,i=tde(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),q.nextTick(function(){e.apply(null,i)})):delete F3[t]}})}function tde(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var ew=$((PWe,MD)=>{k();M();MD.exports=kp;var rde=KS(),kD=Ab(),AWe=kD.Minimatch,nde=sne(),ide=ok().EventEmitter,iw=Ro(),sw=rc(),H3=Pb(),aw=TD(),Mp=ZS(),sde=Mp.setopts,ow=Mp.ownProp,uw=CD(),IWe=ak(),ode=Mp.childrenIgnored,ade=Mp.isIgnored,ude=nw();function kp(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return aw(t,e)}return new Vr(t,e,r)}kp.sync=aw;var cde=kp.GlobSync=aw.GlobSync;kp.glob=kp;function fde(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}kp.hasMagic=function(t,e){var r=fde({},e);r.noprocess=!0;var n=new Vr(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};kp.Glob=Vr;nde(Vr,ide);function Vr(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new cde(t,e)}if(!(this instanceof Vr))return new Vr(t,e,r);sde(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=ude(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?q.nextTick(function(){i._finish()}):i._finish())}}Vr.prototype._finish=function(){if(sw(this instanceof Vr),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Mp.finish(this),this.emit("end",this.found)}};Vr.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};Vr.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),rde.realpath(a,i.realpathCache,function(c,h){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[h]=!0,--s===0&&(i.matches[t]=o,e())})})};Vr.prototype._mark=function(t){return Mp.mark(this,t)};Vr.prototype._makeAbs=function(t){return Mp.makeAbs(this,t)};Vr.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Vr.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Vr.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Vr.prototype._process=function(t,e,r,n){if(sw(this instanceof Vr),sw(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),a;s===null?a=".":((H3(s)||H3(t.map(function(h){return typeof h=="string"?h:"[*]"}).join("/")))&&(!s||!H3(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(ode(this,a))return n();var c=o[0]===kD.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,n):this._processReaddir(s,a,u,o,e,r,n)}};Vr.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,n,i,s,c,o)})};Vr.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();for(var u=n[0],c=!!this.minimatch.negate,h=u._glob,f=this.dot||h.charAt(0)===".",p=[],l=0;l<o.length;l++){var y=o[l];if(y.charAt(0)!=="."||f){var _;c&&!t?_=!y.match(u):_=y.match(u),_&&p.push(y)}}var O=p.length;if(O===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var l=0;l<O;l++){var y=p[l];t&&(t!=="/"?y=t+"/"+y:y=t+y),y.charAt(0)==="/"&&!this.nomount&&(y=iw.join(this.root,y)),this._emitMatch(i,y)}return a()}n.shift();for(var l=0;l<O;l++){var y=p[l],F;t&&(t!=="/"?y=t+"/"+y:y=t+y),this._process([y].concat(n),i,s,a)}a()};Vr.prototype._emitMatch=function(t,e){if(!this.aborted&&!ade(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=H3(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};Vr.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=uw(r,s);i&&n.fs.lstat(t,i);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();n.symlinks[t]=u,!u&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};Vr.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=uw("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!ow(this.symlinks,t))return this._readdirInGlobStar(t,r);if(ow(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,hde(this,t,r))}};function hde(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}Vr.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};Vr.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Vr.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,n,i,s,c,o)})};Vr.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n.slice(1),c=t?[t]:[],h=c.concat(u);this._process(h,i,!1,a);var f=this.symlinks[r],p=o.length;if(f&&s)return a();for(var l=0;l<p;l++){var y=o[l];if(!(y.charAt(0)==="."&&!this.dot)){var _=c.concat(o[l],u);this._process(_,i,!0,a);var O=c.concat(o[l],n);this._process(O,i,!0,a)}}a()};Vr.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};Vr.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&H3(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=iw.join(this.root,t):(t=iw.resolve(this.root,t),s&&(t+="/"))}q.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};Vr.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&ow(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,o)}var u=this,c=uw("stat\0"+r,h);c&&u.fs.lstat(r,c);function h(f,p){if(p&&p.isSymbolicLink())return u.fs.stat(r,function(l,y){l?u._stat2(t,r,null,p,e):u._stat2(t,r,l,y,e)});u._stat2(t,r,f,p,e)}};Vr.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)}});var qD=$((CWe,LD)=>{k();M();var Qr=rc(),HD=Ro(),RD=jc(),b6;try{b6=ew()}catch{}var lde={nosort:!0,silent:!0},cw=0,D3=q.platform==="win32",DD=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||RD[r],r=r+"Sync",t[r]=t[r]||RD[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&b6===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||lde},hw=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),Qr(t,"rimraf: missing path"),Qr.equal(typeof t,"string","rimraf: path should be a string"),Qr.equal(typeof r,"function","rimraf: callback function required"),Qr(e,"rimraf: invalid options argument provided"),Qr.equal(typeof e,"object","rimraf: options should be object"),DD(e);let n=0,i=null,s=0,o=u=>{i=i||u,--s===0&&r(i)},a=(u,c)=>{if(u)return r(u);if(s=c.length,s===0)return r();c.forEach(h=>{let f=p=>{if(p){if((p.code==="EBUSY"||p.code==="ENOTEMPTY"||p.code==="EPERM")&&n<e.maxBusyTries)return n++,setTimeout(()=>fw(h,e,f),n*100);if(p.code==="EMFILE"&&cw<e.emfileWait)return setTimeout(()=>fw(h,e,f),cw++);p.code==="ENOENT"&&(p=null)}cw=0,o(p)};fw(h,e,f)})};if(e.disableGlob||!b6.hasMagic(t))return a(null,[t]);e.lstat(t,(u,c)=>{if(!u)return a(null,[t]);b6(t,e.glob,a)})},fw=(t,e,r)=>{Qr(t),Qr(e),Qr(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&D3&&ND(t,e,n,r),i&&i.isDirectory())return Cb(t,e,n,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return D3?ND(t,e,s,r):Cb(t,e,s,r);if(s.code==="EISDIR")return Cb(t,e,s,r)}return r(s)})})},ND=(t,e,r,n)=>{Qr(t),Qr(e),Qr(typeof n=="function"),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Cb(t,e,r,n):e.unlink(t,n)})})},FD=(t,e,r)=>{Qr(t),Qr(e);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?kb(t,e,r):e.unlinkSync(t)},Cb=(t,e,r,n)=>{Qr(t),Qr(e),Qr(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?dde(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},dde=(t,e,r)=>{Qr(t),Qr(e),Qr(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return e.rmdir(t,r);let o;i.forEach(a=>{hw(HD.join(t,a),e,u=>{if(!o){if(u)return r(o=u);--s===0&&e.rmdir(t,r)}})})})},UD=(t,e)=>{e=e||{},DD(e),Qr(t,"rimraf: missing path"),Qr.equal(typeof t,"string","rimraf: path should be a string"),Qr(e,"rimraf: missing options"),Qr.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!b6.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=b6.sync(t,e.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=e.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&D3&&FD(i,e,o)}try{s&&s.isDirectory()?kb(i,e,null):e.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return D3?FD(i,e,o):kb(i,e,o);if(o.code!=="EISDIR")throw o;kb(i,e,o)}}},kb=(t,e,r)=>{Qr(t),Qr(e);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&pde(t,e)}},pde=(t,e)=>{Qr(t),Qr(e),e.readdirSync(t).forEach(i=>UD(HD.join(t,i),e));let r=D3?100:1,n=0;do{let i=!0;try{let s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};LD.exports=hw;hw.sync=UD});var L3=$(_t=>{k();M();Object.defineProperty(_t,"__esModule",{value:!0});_t.loadSourceMapfromArtifact=_t.getStaticDeclaration=_t.getAliasDeclaration=_t.getContractDeclaration=_t.getLibraryDeclaration=_t.getStructDeclaration=_t.getABIDeclaration=_t.getContractName=_t.getFullFilePath=_t.compilerVersion=_t.handleCompilerOutput=_t.compile=_t.settings2cmd=_t.compileAsync=_t.doCompileAsync=_t.ABIEntityType=_t.DebugModeTag=_t.CompileResult=_t.BuildType=_t.CompileErrorType=_t.SOURCE_REG=void 0;var pw=US(),Wo=jc(),ti=Ro(),cu=ma(),mde=qD(),gde=cne(),bde=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):\n([^\n]+\n){3}(unexpected (?<unexpected>[^\n]+)\nexpecting (?<expecting>[^\n]+)|(?<message>[^\n]+))/g,yde=/Error:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,$D=/Internal error:(?<message>.+)/,vde=/Warning:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,jD=gde({alwaysParseAsBig:!0,constructorAction:"preserve"});_t.SOURCE_REG=/^(?<fileIndex>-?\d+):(?<line>\d+):(?<col>\d+):(?<endLine>\d+):(?<endCol>\d+)(#(?<tagStr>.+))?/;var _de=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+)/gi,U3;(function(t){t.SyntaxError="SyntaxError",t.SemanticError="SemanticError",t.InternalError="InternalError",t.Warning="Warning"})(U3=_t.CompileErrorType||(_t.CompileErrorType={}));var Nb;(function(t){t.Debug="debug",t.Release="release"})(Nb=_t.BuildType||(_t.BuildType={}));var Rp=class{constructor(e,r){this.errors=e,this.warnings=r}toArtifact(){return{version:cu.CURRENT_CONTRACT_ARTIFACT_VERSION,compilerVersion:this.compilerVersion||"0.0.0",contract:this.contract||"",md5:this.md5||"",structs:this.structs||[],library:this.library||[],alias:this.alias||[],abi:this.abi||[],stateProps:this.stateProps||[],buildType:this.buildType||Nb.Debug,file:this.file||"",hex:this.hex||"",asm:"",sourceMap:[],sources:[],sourceMapFile:this.sourceMapFile||""}}};_t.CompileResult=Rp;var Mb;(function(t){t.FuncStart="F0",t.FuncEnd="F1",t.LoopStart="L0"})(Mb=_t.DebugModeTag||(_t.DebugModeTag={}));var Rb;(function(t){t.FUNCTION="function",t.CONSTRUCTOR="constructor"})(Rb=_t.ABIEntityType||(_t.ABIEntityType={}));function GD(t,e){return(0,ti.join)(t,(0,ti.basename)(e)+"-"+(0,cu.hash160)(e,"utf-8").substring(0,10))}function zD(t,e,r){let n=t.path,i=(0,ti.dirname)(n),s=e.cwd||i,o=e.timeout||12e5,a=t.content!==void 0?t.content:(0,Wo.readFileSync)(n,"utf8"),u=mw(n,e),c=(0,pw.exec)(u,{cwd:s,timeout:o,killSignal:"SIGKILL"},(h,f)=>{if(h){console.error(`exec error: ${h} stdout: ${f}`),r(h,null);return}r(null,{path:n,output:f})});return c.stdin.write(a,h=>{if(h){r(h,null);return}c.stdin.end()}),c}_t.doCompileAsync=zD;function xde(t,e){return e=Object.assign({},WD,e),new Promise((r,n)=>{zD(t,e,async(i,s)=>{if(i){n(i);return}try{let o=gw(t.path,e,s.output);r(o)}catch(o){n(o)}})})}_t.compileAsync=xde;var WD={ast:!0,asm:!1,hex:!0,debug:!1,artifact:!1,outputDir:"",outputToFiles:!1,cwd:"",cmdPrefix:"",cmdArgs:"",buildType:Nb.Debug,stdout:!1,sourceMap:!1,timeout:12e5,optimize:!1};function mw(t,e){let r=(0,ti.dirname)(t),n=e.outputDir||r,i=GD(n,t),s=e.cmdPrefix||(0,cu.findCompiler)(),o=`-o "${i}"`;return e.stdout?(o="--stdout",`"${s}" compile ${e.asm||e.artifact?"--asm":""} ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} -r ${o} ${e.cmdArgs?e.cmdArgs:""}`):((0,Wo.existsSync)(i)||(0,Wo.mkdirSync)(i),`"${s}" compile ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} ${e.sourceMap==!0?"--source-map":""} -r ${o} ${e.cmdArgs?e.cmdArgs:""}`)}_t.settings2cmd=mw;function Sde(t,e){let r=t.path,n=(0,ti.dirname)(r),i=e.cwd||n,s=t.content!==void 0?t.content:(0,Wo.readFileSync)(r,"utf8"),o=e.stdout?1024*1024*100:1024*1024;e=Object.assign({},WD,e);let a=mw(r,e),u=(0,pw.execSync)(a,{input:s,cwd:i,timeout:e.timeout,maxBuffer:o}).toString();return gw(r,e,u)}_t.compile=Sde;function wde(t){let e=t.replace(/<([^>]+)>/g,"<>");return(0,cu.md5)(e)}function gw(t,e,r){let n=(0,ti.dirname)(t),i=(0,ti.basename)(t),s=e.outputDir||n,o=GD(s,t),a={};try{r=r.split(/\r?\n/g).join(`
`);let u=new Rp([],[]);if(u.compilerVersion=YD(e.cmdPrefix?e.cmdPrefix:(0,cu.findCompiler)()),u.buildType=e.buildType||Nb.Debug,(r.startsWith("Error:")||r.startsWith("Warning:"))&&(Object.assign(u,Pde(r,n,i)),u.errors.length>0||e.stdout&&u.warnings.length>0))return u;if(e.stdout){let c=jD.parse(r);VD(u,c.ast,n,i,t),Ode(u,c.asm,e,n,i)}else{if(e.ast||e.artifact){let c=y6(o,"ast"),h=c.replace("stdin",(0,ti.basename)(t,".scrypt"));(0,Wo.renameSync)(c,h),a.ast=h;let f=jD.parse((0,Wo.readFileSync)(h,"utf8"));VD(u,f,n,i,t)}if(e.hex||e.artifact){let c=y6(o,"hex"),h=c.replace("stdin",(0,ti.basename)(t,".scrypt"));(0,Wo.renameSync)(c,h),a.hex=h,u.hex=(0,Wo.readFileSync)(h,"utf8"),u.md5=wde(u.hex)}if(e.sourceMap){let c=y6(o,"map");if(e.artifact){let f=y6(s,"map").replace("stdin",(0,ti.basename)(t,".scrypt"));(0,Wo.renameSync)(c,f),u.sourceMapFile=(0,cu.path2uri)(f)}else{let h=c.replace("stdin",(0,ti.basename)(t,".scrypt"));(0,Wo.renameSync)(c,h),a.map=h,u.sourceMapFile=(0,cu.path2uri)(h)}}if(e.debug){let c=y6(o,"dbg"),h=c.replace("stdin",(0,ti.basename)(t,".scrypt"));(0,Wo.renameSync)(c,h),u.dbgFile=(0,cu.path2uri)(h)}if(e.artifact){let h=y6(s,"artifact").replace("stdin",(0,ti.basename)(t,".scrypt")),f=u.toArtifact();(0,Wo.writeFileSync)(h,JSON.stringify(f,(p,l)=>{if(p==="file")return(0,ti.relative)(h,l);if(!(p=="sources"||p=="sourceMap"||p==="asm"))return l},4))}}return u}finally{Bde(e,a,o)}}_t.handleCompilerOutput=gw;function YD(t){try{let e=(0,pw.execSync)(`"${t}" version`).toString();return/Version:\s*([^\s]+)\s*/.exec(e)[1]}catch{throw new Error(`compilerVersion fail when run: ${t} version`)}}_t.compilerVersion=YD;function Ede(t,e,r){for(let n in t)if(n==="std")t.std=dw(t.std,"std");else{let i=n==="stdin"?r:n,s=(0,cu.path2uri)((0,ti.join)(e,i));t[s]=dw(t[n],s),delete t[n]}return t}function dw(t,e){if(typeof t!="object")return t;for(let r in t){let n=t[r];if(r==="src"){let i=/:(\d+):(\d+):(\d+):(\d+)/.exec(n);i?t.loc={source:e,start:{line:parseInt(i[1]),column:parseInt(i[2])},end:{line:parseInt(i[3]),column:parseInt(i[4])}}:t.loc=null,delete t.src}else typeof n=="object"&&dw(n,e)}return t}function y6(t,e){return e=="hex"?(0,ti.join)(t,`stdin_${e}.txt`):e==="map"?(0,ti.join)(t,`stdin.${e}.json`):e==="dbg"?(0,ti.join)(t,`stdin.${e}.json`):e==="artifact"?(0,ti.join)(t,"stdin.json"):(0,ti.join)(t,`stdin_${e}.json`)}function xf(t,e,r){return t.endsWith("stdin")?(0,ti.join)(e,r):t==="std"?"std":(0,ti.join)(e,t)}_t.getFullFilePath=xf;function Tde(t){if(t.constructor)return{type:Rb.CONSTRUCTOR,params:t.constructor.params.map(e=>({name:e.name,type:e.type}))};if(t.properties)return{type:Rb.CONSTRUCTOR,params:t.properties.map(e=>({name:e.name.replace("this.",""),type:e.type}))}}function Ade(t){let e=t.contracts[t.contracts.length-1];return e&&e.properties?e.properties.filter(r=>r.state).map(r=>({name:r.name.replace("this.",""),type:r.type})):[]}function Ide(t){let e=0;return t.functions.filter(n=>n.visibility==="Public").map(n=>({type:Rb.FUNCTION,name:n.name,index:n.nodeType==="Constructor"?void 0:e++,params:n.params.map(s=>({name:s.name,type:s.type}))}))}function bw(t){let e=t.contracts[t.contracts.length-1];return e&&e.name||""}_t.getContractName=bw;function KD(t){let e=t.match(/__SCRYPT_(\w+)__/);return e?e[1]:t}function XD(t,e){let r=t.contracts[t.contracts.length-1];if(!r)return{contract:"",abi:[]};let n=Ide(r),i=Tde(r);return n.push(i),n.forEach(s=>{s.params=s.params.map(o=>Object.assign(o,{type:e(o.type).finalType}))}),{contract:bw(t),abi:n}}_t.getABIDeclaration=XD;function ZD(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.structs||[]).map(i=>({name:i.name,params:i.fields.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}))).flat(1)}_t.getStructDeclaration=ZD;function JD(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Library").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}_t.getLibraryDeclaration=JD;function QD(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Contract").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}_t.getContractDeclaration=QD;function eU(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.alias||[]).map(i=>({name:i.alias,type:i.type}))).flat(1)}_t.getAliasDeclaration=eU;function tU(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.contracts||[]).map(i=>(i.statics||[]).map(s=>({const:s.const,name:`${i.name}.${s.name}`,type:s.type,value:(0,cu.resolveConstValue)(s)})))).flat(1/0).flat(1)}_t.getStaticDeclaration=tU;function lw(t,e,r){let n=[],i;for(;i=_de.exec(t);){let s=i.groups.filePath;if(s==="null")continue;let o=xf(s,e,r),a=parseInt(i.groups?.line||"-1"),u=parseInt(i.groups?.column||"-1");n.push({filePath:o,position:[{line:a,column:u},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:""}),t=t.replace(/([^\s]+):(\d+):(\d+):(\d+):(\d+)/,"")}return{relatedInformation:n,message:t}}function Pde(t,e,r){let n=[...t.matchAll(vde)].map(i=>{let s=i.groups?.filePath||"",o=i.groups?.message||"",{message:a,relatedInformation:u}=lw(o,e,r);return{type:U3.Warning,filePath:xf(s,e,r),position:[{line:parseInt(i.groups?.line||"-1"),column:parseInt(i.groups?.column||"-1")},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:a,relatedInformation:u}});if(t.match($D)){let i=[{type:U3.InternalError,filePath:xf("stdin",e,r),message:`Compiler internal error: ${t.match($D).groups?.message||""}`,position:[{line:1,column:1},{line:1,column:1}],relatedInformation:[]}];return new Rp(i,n)}else if(t.includes("Syntax error:")){let i=[...t.matchAll(bde)].map(s=>{let o=s.groups?.filePath||"",a=s.groups?.unexpected||"",u=s.groups?.expecting||"",c=s.groups?.message||`unexpected ${a}
expecting ${u}`,{message:h,relatedInformation:f}=lw(c,e,r);return{type:U3.SyntaxError,filePath:xf(o,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")}],message:h,unexpected:a,expecting:u,relatedInformation:f}});return new Rp(i,n)}else{let i=[...t.matchAll(yde)].map(s=>{let o=s.groups?.message||"",a=s.groups?.filePath||"",{message:u,relatedInformation:c}=lw(o,e,r);return{type:U3.SemanticError,filePath:xf(a,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")},{line:parseInt(s.groups?.line1||"-1"),column:parseInt(s.groups?.column1||"-1")}],message:u,relatedInformation:c}});return new Rp(i,n)}}function VD(t,e,r,n,i){let s=Ede(e,r,n),o=(0,cu.path2uri)(i);t.file=i,t.ast=s[o],delete s[o],t.dependencyAsts=s;let a=eU(t.ast,s),u=ZD(t.ast,s),c=JD(t.ast,s),h=tU(t.ast,s);t.contracts=QD(t.ast,s);let f=(0,cu.buildTypeResolver)(bw(t.ast),a,u,c,t.contracts,h);t.alias=a.map(y=>({name:y.name,type:f(y.type).finalType})),t.structs=u.map(y=>({name:y.name,params:y.params.map(_=>({name:_.name,type:f(_.type).finalType})),genericTypes:y.genericTypes.map(_=>KD(_))})),t.library=c.map(y=>({name:y.name,params:y.params.map(_=>({name:_.name,type:f(_.type).finalType})),properties:y.properties.map(_=>({name:_.name,type:f(_.type).finalType})),genericTypes:y.genericTypes.map(_=>KD(_))})),t.statics=h.map(y=>Object.assign({...y},{type:f(y.type).finalType}));let{contract:p,abi:l}=XD(t.ast,f);t.stateProps=Ade(t.ast).map(y=>({name:y.name,type:f(y.type).finalType})),t.abi=l,t.contract=p}function Ode(t,e,r,n,i){let s=e.sources;r.debug&&Object.assign(t,{file:t.file,sources:e.sources.map(o=>xf(o,n,i)),sourceMap:e.output.map(o=>o.src)}),t.hex=r.hex?e.output.map(o=>o.hex).join(""):"",t.asm=e.output.map(o=>{if(!r.debug)return{opcode:o.opcode};let a=_t.SOURCE_REG.exec(o.src);if(a&&a.groups){let u=parseInt(a.groups.fileIndex),c,h=a.groups.tagStr,f=/^(\w+)\.(\w+):(\d)(#(?<context>.+))?$/.exec(h);f?c={contract:f[1],func:f[2],tag:f[3]=="0"?Mb.FuncStart:Mb.FuncEnd,context:f.groups.context}:/loop:0/.test(h)&&(c={contract:"",func:"",tag:Mb.LoopStart,context:""});let p=s[u]?{file:s[u]?xf(s[u],n,i):void 0,line:s[u]?parseInt(a.groups.line):void 0,endLine:s[u]?parseInt(a.groups.endLine):void 0,column:s[u]?parseInt(a.groups.col):void 0,endColumn:s[u]?parseInt(a.groups.endCol):void 0}:void 0;return{opcode:o.opcode,stack:o.stack,topVars:o.topVars||[],pos:p,debugInfo:c}}throw new Error("Compile Failed: Asm output parsing Error!")}),r.debug&&(t.autoTypedVars=e.autoTypedVars.map(o=>{let a=_t.SOURCE_REG.exec(o.src);if(a&&a.groups){let u=parseInt(a.groups.fileIndex),c=s[u]?{file:s[u]?xf(s[u],n,i):void 0,line:s[u]?parseInt(a.groups.line):void 0,endLine:s[u]?parseInt(a.groups.endLine):void 0,column:s[u]?parseInt(a.groups.col):void 0,endColumn:s[u]?parseInt(a.groups.endCol):void 0}:void 0;return{name:o.name,type:o.type,pos:c}}}))}function Bde(t,e,r){if(!(t.stdout||t.outputToFiles||t.sourceMap))try{Object.keys(e).forEach(n=>{let i=e[n];(0,Wo.existsSync)(i)&&(0,Wo.unlinkSync)(i)}),mde.sync(r)}catch{console.error("clean compiler output files failed!")}}function Cde(t){let e=t.sources,r=t.asm.split(" ");return!t.sourceMap||t.sourceMap.length==0?[]:r.map((n,i)=>{let s=t.sourceMap[i],o=_t.SOURCE_REG.exec(s);if(o&&o.groups){let a=parseInt(o.groups.fileIndex);return{pos:e[a]?{file:e[a],line:e[a]?parseInt(o.groups.line):void 0,endLine:e[a]?parseInt(o.groups.endLine):void 0,column:e[a]?parseInt(o.groups.col):void 0,endColumn:e[a]?parseInt(o.groups.endCol):void 0}:void 0,opcode:n}}})}_t.loadSourceMapfromArtifact=Cde});var wf=$(xt=>{k();M();Object.defineProperty(xt,"__esModule",{value:!0});xt.isBytes=xt.isSubBytes=xt.isScryptType=xt.getValidatedHexString=xt.getSortedItem=xt.OpCodeType=xt.SigHashPreimage=xt.SigHashType=xt.SignatureHashType=xt.HashedMap=xt.HashedSet=xt.Sha256=xt.Sha1=xt.PubKeyHash=xt.Ripemd160=xt.Sig=xt.PubKey=xt.PrivKey=xt.Bytes=xt.Bool=xt.Int=xt.ScryptType=xt.SymbolType=void 0;var kde;(function(t){t.ScryptType="ScryptType",t.Contract="Contract",t.Library="Library",t.Struct="Struct",t.Unknown="Unknown"})(kde=xt.SymbolType||(xt.SymbolType={}));var fu;(function(t){t.BOOL="bool",t.INT="int",t.BYTES="bytes",t.PUBKEY="PubKey",t.PRIVKEY="PrivKey",t.SIG="Sig",t.RIPEMD160="Ripemd160",t.SHA1="Sha1",t.SHA256="Sha256",t.SIGHASHTYPE="SigHashType",t.SIGHASHPREIMAGE="SigHashPreimage",t.OPCODETYPE="OpCodeType"})(fu=xt.ScryptType||(xt.ScryptType={}));function rU(t){return BigInt(t)}xt.Int=rU;function Mde(t){return t}xt.Bool=Mde;function Rde(t){return Sf(t)}xt.Bytes=Rde;function Nde(t){return t}xt.PrivKey=Nde;function Fde(t){return Sf(t,!1)}xt.PubKey=Fde;function Hde(t){return Sf(t,!1)}xt.Sig=Hde;function nU(t){return Sf(t,!1)}xt.Ripemd160=nU;function Dde(t){return nU(t)}xt.PubKeyHash=Dde;function Ude(t){return Sf(t,!1)}xt.Sha1=Ude;function Lde(t){return Sf(t,!1)}xt.Sha256=Lde;function qde(t){return t}xt.HashedSet=qde;function $de(t){return t}xt.HashedMap=$de;var Np;(function(t){t[t.ALL=65]="ALL",t[t.NONE=66]="NONE",t[t.SINGLE=67]="SINGLE",t[t.ANYONECANPAY_ALL=193]="ANYONECANPAY_ALL",t[t.ANYONECANPAY_NONE=194]="ANYONECANPAY_NONE",t[t.ANYONECANPAY_SINGLE=195]="ANYONECANPAY_SINGLE"})(Np=xt.SignatureHashType||(xt.SignatureHashType={}));function jde(t){if(t==0)return"00";if(t===Np.ALL||t===Np.NONE||t===Np.SINGLE||t===Np.ANYONECANPAY_ALL||t===Np.ANYONECANPAY_NONE||t===Np.ANYONECANPAY_SINGLE)return`${t.toString(16)}`;throw new Error(`unsupported SigHashType: ${t}`)}xt.SigHashType=jde;function Kde(t){return Sf(t,!1)}xt.SigHashPreimage=Kde;function Vde(t){return Sf(t,!1)}xt.OpCodeType=Vde;function Gde(t,e){return Object.assign({idx:rU(-1),item:e},{image:t instanceof Map?new Map(t):new Set(t)})}xt.getSortedItem=Gde;function Sf(t,e=!0){let r=t.trim();if(r.length<1&&!e)throw new Error("can't be empty string");if(r.length%2)throw new Error(`<${r}> should have even length`);if(r.length>0&&!/^[\da-f]+$/i.test(r))throw new Error(`<${r}> should only contain [0-9] or characters [a-fA-F]`);return r}xt.getValidatedHexString=Sf;function zde(t){return Object.keys(fu).map(e=>fu[e]).includes(t)}xt.isScryptType=zde;function iU(t){return[fu.OPCODETYPE,fu.PUBKEY,fu.RIPEMD160,fu.SHA1,fu.SHA256,fu.SIG,fu.SIGHASHPREIMAGE,fu.SIGHASHTYPE,"PubKeyHash"].map(e=>e.toString()).includes(t)}xt.isSubBytes=iU;function Wde(t){return t===fu.BYTES||iU(t)}xt.isBytes=Wde});var V3=$(Cr=>{k();M();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.resolveGenericType=Cr.parseGenericType=Cr.isGenericType=Cr.resolveType=Cr.findStatic=Cr.findConstStatic=Cr.flatternArg=Cr.deduceGenericLibrary=Cr.deduceGenericStruct=Cr.hasGeneric=Cr.checkSupportedParamType=Cr.subArrayType=Cr.toLiteralArrayType=Cr.arrayTypeAndSize=Cr.arrayTypeAndSizeStr=Cr.typeOfArg=void 0;var Tf=nr(),Hb=ma(),Ts=wf();function Fb(t){return typeof t=="bigint"?"int":typeof t=="boolean"?"bool":typeof t=="string"?"bytes":Array.isArray(t)?"Array":typeof t}Cr.typeOfArg=Fb;function Fp(t){let e=[];if(t.indexOf(">")>-1){let i=t.substring(0,t.lastIndexOf(">")+1);return[...t.substring(t.lastIndexOf(">")+1).matchAll(/\[([\w.]+)\]+/g)].map(o=>{e.push(o[1])}),[i,e]}return[...t.matchAll(/\[([\w.]+)\]+/g)].map(i=>{e.push(i[1])}),[t.split("[")[0],e]}Cr.arrayTypeAndSizeStr=Fp;function Db(t){let[e,r]=Fp(t);return[e,r.map(n=>{let i=parseInt(n);if(isNaN(i))throw new Error(`arrayTypeAndSize error type ${t} with sub isNaN`);return i})]}Cr.arrayTypeAndSize=Db;function Hp(t,e){return[t,e.map(r=>`[${r}]`).join("")].join("")}Cr.toLiteralArrayType=Hp;function yw(t){let[e,r]=Db(t);return Hp(e,r.slice(1))}Cr.subArrayType=yw;function oU(t,e,r){let i=r(e.type).finalType,[s,o]=Db(i);return Array.isArray(t)?t.length!==o[0]?new Error(`The type of ${e.name} is wrong, expected a array with length = ${o[0]} but got a array with length = ${t.length} `):o.length==1?t.map(a=>$3(a,{name:e.name,type:s},r)).find(a=>a instanceof Error):t.map(a=>oU(a,{name:e.name,type:yw(i)},r)).find(a=>a instanceof Error):new Error(`The type of ${e.name} is wrong, expected ${i} but got ${Fb(t)}`)}function Yde(t,e,r){let n=r(e.type);if(!n.info)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let a=aU(e,i,r);if(a instanceof Error)return a;i=a}if(Array.isArray(t))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a array`);if(typeof t!="object")return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a ${typeof t}`);let s=i.params.map(a=>Object.keys(t).includes(a.name)?$3(t[a.name],a,r):new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing member [${a.name}]`)).find(a=>a instanceof Error);if(s)return s;let o=i.params.map(a=>a.name);return Object.keys(t).map(a=>{if(!o.includes(a))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but redundant member [${a}] appears`)}).find(a=>a instanceof Error)}function Xde(t,e,r){let n=r(e.type);if(!n.info||n.symbolType!==Ts.SymbolType.Library)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let s=uU(e,i,r);if(s instanceof Error)return s;i=s}return Array.isArray(t)?t.length!==i.params.length?new Error(`The type of ${e.name} is wrong, expected a array with length = ${i.params.length} but got a array with length = ${t.length} `):i.params.map((s,o)=>typeof t[o]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing parameter [${s.name}]`):$3(t[o],s,r)).find(s=>s instanceof Error):typeof t=="object"?i.properties.map(s=>typeof t[s.name]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing property [${s.name}]`):$3(t[s.name],s,r)).find(s=>s instanceof Error):new Error(`The type of ${e.name} is wrong, expected a array or a object but got ${typeof t}`)}function $3(t,e,r){let n=r(e.type),i=n.finalType;if((0,Tf.isArrayType)(i))return oU(t,e,r);if(n.symbolType===Ts.SymbolType.Struct)return Yde(t,e,r);if(n.symbolType===Ts.SymbolType.Library)return Xde(t,e,r);if(n.symbolType===Ts.SymbolType.ScryptType){let s=new Error(`The type of ${e.name} is wrong, expected ${i} but got ${Fb(t)}`),o=Fb(t);return(0,Ts.isBytes)(i)?o===Ts.ScryptType.BYTES?void 0:s:i===Ts.ScryptType.PRIVKEY?o==="int"?void 0:s:o==i?void 0:s}else return new Error(`can't not resolve type: ${e.type}`)}Cr.checkSupportedParamType=$3;function vw(t){return t.genericTypes.length>0}Cr.hasGeneric=vw;var v6=class{constructor(e,r){this.entity=e,this.resolver=r,this.inferred={}}resolve(e){if(Object.keys(this.inferred).length>0){if(K3(e)){let[r,n]=j3(e);return(0,Hb.toGenericType)(r,n.map(i=>this.inferred[i]||i))}if((0,Tf.isArrayType)(e)){let[r,n]=Fp(e);return Hp(r,n.map(i=>this.inferred[i]||i))}return this.inferred[e]||e}return e}inferr(e){let r=this.resolver(e.type),[n,i]=j3(r.finalType);return this.entity.name!==n?new Error(`Generic inference failed, expected ${n} but got ${this.entity.name}`):this.entity.genericTypes.length!==i.length?new Error("Generic inference failed, genericTypes length not match"):this.entity.genericTypes.map((s,o)=>{let a=i[o];return this.assert(s,a)}).find(s=>s instanceof Error)}getEntity(){if(Object.prototype.hasOwnProperty.call(this.entity,"properties")){let e=this.entity;return{name:e.name,params:e.params.map(r=>({name:r.name,type:this.resolve(r.type)})),properties:e.properties.map(r=>({name:r.name,type:this.resolve(r.type)})),genericTypes:(this.entity.genericTypes||[]).map(r=>this.resolve(r))}}return{name:this.entity.name,params:this.entity.params.map(e=>({name:e.name,type:this.resolve(e.type)})),genericTypes:(this.entity.genericTypes||[]).map(e=>this.resolve(e))}}assert(e,r){if(this.inferred[e]){if(this.inferred[e]!==r)return new Error(`Generic inference failed, generic ${e} cannot be both type ${this.inferred[e]} and type ${r}`)}else this.inferred[e]=r}};function aU(t,e,r){if(!vw(e))return e;let n=new v6(e,r),i=n.inferr(t);return i||n.getEntity()}Cr.deduceGenericStruct=aU;function uU(t,e,r){if(!vw(e))return e;let n=new v6(e,r),i=n.inferr(t);return i||n.getEntity()}Cr.deduceGenericLibrary=uU;function Zde(t,e,r,n){let[i,s]=Db(e.type),o=r(i);if(!n.ignoreValue){if(!Array.isArray(t))throw new Error("flatternArray only work with array");if(t.length!=s[0])throw new Error(`Array length not match, expected ${s[0]} but got ${t.length}`)}return new Array(s[0]).fill(1).flatMap((a,u)=>{let c=n.ignoreValue?void 0:t[u];return s.length>1?Ef({name:`${e.name}[${u}]`,type:yw(e.type),value:c},r,n):o.symbolType===Ts.SymbolType.Struct?Ef({name:`${e.name}[${u}]`,type:i,value:c},r,n):o.symbolType===Ts.SymbolType.Library?Ef({name:`${e.name}[${u}]`,type:i,value:c},r,n):{value:c,name:`${e.name}${(0,Hb.subscript)(u,s)}`,type:i}})}function Jde(t,e,r,n){let i=r(e.type);if(!n.ignoreValue&&typeof t!="object")throw new Error("flatternStruct only work with object");let s=i.info;if(i.generic){let o=new v6(s,r),a=o.inferr(e);if(a)throw a;s=o.getEntity()}return s.params.flatMap(o=>{let a=r(o.type),u=n.ignoreValue?void 0:t[o.name];return(0,Tf.isArrayType)(a.finalType)?Ef({name:`${e.name}.${o.name}`,type:o.type,value:u},r,n):a.symbolType===Ts.SymbolType.Struct?Ef({name:`${e.name}.${o.name}`,type:o.type,value:u},r,n):{value:u,name:`${e.name}.${o.name}`,type:o.type}})}function Qde(t,e,r,n){let i=r(e.type),s=i.info;if(i.generic){let a=new v6(s,r),u=a.inferr(e);if(u)throw u;s=a.getEntity()}if(!n.ignoreValue)if(n.state){if(typeof t!="object")throw new Error("only work with object when flat a libray as state")}else{if(!Array.isArray(t))throw new Error("only work with array when flat a library");if(s.params.length!=t.length)throw new Error(`Array length not match, expected ${s.params.length} but got ${t.length}`)}return(n.state?s.properties:s.params).flatMap((a,u)=>{let c=r(a.type),h=n.ignoreValue?void 0:n.state?t[a.name]:t[u];return!n.ignoreValue&&typeof h>"u"&&(s.name==="HashedSet"||s.name==="HashedMap")&&(h=t[0]),(0,Tf.isArrayType)(c.finalType)?Ef({name:`${e.name}.${a.name}`,type:a.type,value:h},r,n):c.symbolType===Ts.SymbolType.Struct?Ef({name:`${e.name}.${a.name}`,type:a.type,value:h},r,n):c.symbolType===Ts.SymbolType.Library?Ef({name:`${e.name}.${a.name}`,type:a.type,value:h},r,n):{value:h,name:`${e.name}.${a.name}`,type:a.type}})}function Ef(t,e,r){let n=[],i=e(t.type);return(0,Tf.isArrayType)(i.finalType)?Zde(r.ignoreValue?void 0:t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Ts.SymbolType.Struct?Jde(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Ts.SymbolType.Library?Qde(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):n.push({name:t.name,type:i.finalType,value:t.value}),n}Cr.flatternArg=Ef;function cU(t,e){return t.find(r=>r.const===!0&&r.name===e)}Cr.findConstStatic=cU;function epe(t,e){return t.find(r=>r.name===e)}Cr.findStatic=epe;function fU(t,e){let r=t.find(n=>n.name===e);return r?fU(t,r.type):e}function q3(t,e,r,n,i,s){if(t=fU(i,t),(0,Tf.isArrayType)(t)){let[o,a]=Fp(t),u=q3(o,e,r,n,i,s);if((0,Tf.isArrayType)(u.finalType)){let[c,h]=Fp(u.finalType),f=q3(c,e,r,n,i,s);return{info:u.info,generic:u.generic,finalType:sU(r,Hp(f.finalType,a.concat(h)),n),symbolType:u.symbolType}}return{info:u.info,generic:u.generic,finalType:sU(r,Hp(u.finalType,a),n),symbolType:u.symbolType}}else if(K3(t)){let[o,a]=j3(t),u=q3(o,e,r,n,i,s),c=a.map(h=>q3(h,e,r,n,i,s).finalType);return{info:u.info,generic:!0,finalType:(0,Hb.toGenericType)(u.finalType,c),symbolType:u.symbolType}}return e[t]?e[t]:(0,Ts.isScryptType)(t)?{finalType:t,generic:!1,symbolType:Ts.SymbolType.ScryptType}:{finalType:t,generic:!1,symbolType:Ts.SymbolType.Unknown}}Cr.resolveType=q3;function sU(t,e,r){if((0,Tf.isArrayType)(e)){let[n,i]=Fp(e),s=i.map(o=>{if(/^(\d)+$/.test(o))return parseInt(o);{let a=o.indexOf(".")>0?o:`${t}.${o}`,u=cU(r,a);return u?u.value:o}});return Hp(n,s)}return e}function K3(t){return/^([\w]+)<([\w,[\]\s<>]+)>$/.test(t)}Cr.isGenericType=K3;function j3(t){if(K3(t)){let e=t.match(/([\w]+)<([\w,[\]<>\s]+)>$/);if(e){let r=e[1],n=[],i=[],s="";for(let o=0;o<e[2].length;o++){let a=e[2].charAt(o);if(a==="<"||a==="[")i.push(a);else if(a===">"||a==="]")i.pop();else if(a===","&&i.length===0){n.push(s.trim()),s="";continue}s+=a}return n.push(s.trim()),[r,n]}}throw new Error(`"${t}" is not generic type`)}Cr.parseGenericType=j3;function tpe(t,e){if(Object.keys(t).length>0){if(K3(e)){let[r,n]=j3(e);return(0,Hb.toGenericType)(r,n.map(i=>t[i]||i))}if((0,Tf.isArrayType)(e)){let[r,n]=Fp(e);return Hp(r,n.map(i=>t[i]||i))}return t[e]||e}return e}Cr.resolveGenericType=tpe});var _6=$(Ce=>{k();M();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.checkNOPScript=Ce.md5=Ce.findSrcInfoV1=Ce.findSrcInfoV2=Ce.JSONStringify=Ce.JSONParserSync=Ce.JSONParser=Ce.structSign=Ce.librarySign=Ce.parseAbiFromUnlockingScript=Ce.buildContractCode=Ce.stripAnsi=Ce.ansiRegex=Ce.resolveConstValue=Ce.newCall=Ce.compileContractAsync=Ce.compileContract=Ce.isEmpty=Ce.readFileByLine=Ce.subscript=Ce.toGenericType=Ce.findStructByType=Ce.getNameByType=Ce.isArrayType=Ce.findStructByName=Ce.uri2path=Ce.path2uri=Ce.isNode=Ce.getLowSPreimage=Ce.hashIsPositiveNumber=Ce.getPreimage=Ce.signTx=Ce.hexStringToBytes=Ce.bytesToHexString=Ce.bytes2Literal=Ce.utf82Hex=Ce.toHex=Ce.uint82hex=Ce.asm2int=Ce.int2Asm=Ce.DEFAULT_SIGHASH_TYPE=Ce.DEFAULT_FLAGS=Ce.bsv=void 0;var hU=IH(),as=qH();Ce.bsv=as;var rpe=hf(),f0=jc(),lU=Ro(),npe=$H(),dU=ck(),ipe=L3(),Yo=ma(),_w=V3(),G3=as.crypto.BN,ga=as.Script.Interpreter;Ce.DEFAULT_FLAGS=ga.SCRIPT_ENABLE_MAGNETIC_OPCODES|ga.SCRIPT_ENABLE_MONOLITH_OPCODES|ga.SCRIPT_VERIFY_STRICTENC|ga.SCRIPT_ENABLE_SIGHASH_FORKID|ga.SCRIPT_VERIFY_LOW_S|ga.SCRIPT_VERIFY_NULLFAIL|ga.SCRIPT_VERIFY_DERSIG|ga.SCRIPT_VERIFY_MINIMALDATA|ga.SCRIPT_VERIFY_NULLDUMMY|ga.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|ga.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|ga.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|ga.SCRIPT_VERIFY_CLEANSTACK;Ce.DEFAULT_SIGHASH_TYPE=as.crypto.Signature.SIGHASH_ALL|as.crypto.Signature.SIGHASH_FORKID;function spe(t){if(/^(-?\d+)$/.test(t)||/^0x([0-9a-fA-F]+)$/.test(t)){let e=t.startsWith("0x")?new G3(t.substring(2),16):new G3(t,10);return e.eqn(-1)?"OP_1NEGATE":e.gten(0)&&e.lten(16)?"OP_"+e.toString():e.toSM({endian:"little"}).toString("hex")}else throw new Error(`invalid str '${t}' to convert to int`)}Ce.int2Asm=spe;function pU(t){switch(t){case"OP_1NEGATE":return-1;case"0":case"OP_0":case"OP_1":case"OP_2":case"OP_3":case"OP_4":case"OP_5":case"OP_6":case"OP_7":case"OP_8":case"OP_9":case"OP_10":case"OP_11":case"OP_12":case"OP_13":case"OP_14":case"OP_15":case"OP_16":return parseInt(t.replace("OP_",""));default:{let e=(0,Yo.getValidatedHexString)(t),r=G3.fromHex(e,{endian:"little"});return r.toNumber()<Number.MAX_SAFE_INTEGER&&r.toNumber()>Number.MIN_SAFE_INTEGER?r.toNumber():r.toString()}}}Ce.asm2int=pU;function xw(t){let e=t.toString(16);return e.length%2===1&&(e="0"+e),e}Ce.uint82hex=xw;function Lb(t){return t.toString("hex")}Ce.toHex=Lb;function ope(t){let r=new TextEncoder().encode(t);return Lb(A.Buffer.from(r))}Ce.utf82Hex=ope;function ape(t,e){switch(e){case"bool":return G3.fromBuffer(t,{endian:"little"}).gt(0)?"true":"false";case"int":case"PrivKey":return G3.fromSM(t,{endian:"little"}).toString();case"bytes":return`b'${Sw(t)}'`;default:return`b'${Sw(t)}'`}}Ce.bytes2Literal=ape;function Sw(t){return t.reduce(function(e,r){return e+=("0"+(r&255).toString(16)).slice(-2)},"")}Ce.bytesToHexString=Sw;function upe(t){return(0,Yo.getValidatedHexString)(t),t.split("").reduce(function(e,r,n){return n%2===0?e.push(r):e[e.length-1]+=r,e},new Array).map(e=>parseInt(e,16))}Ce.hexStringToBytes=upe;function cpe(t,e,r,n,i=0,s=Ce.DEFAULT_SIGHASH_TYPE,o=Ce.DEFAULT_FLAGS,a){if(!t)throw new Error("param tx can not be empty");if(!e)throw new Error("param privateKey can not be empty");if(!r)throw new Error("param lockingScript can not be empty");if(!n)throw new Error("param inputAmount can not be empty");if(typeof r=="string")throw new Error("Breaking change: LockingScript in ASM format is no longer supported, please use the lockingScript object directly");return Lb(as.Transaction.Sighash.sign(t,e,s,i,r,new as.crypto.BN(n),o,a).toTxFormat())}Ce.signTx=cpe;function mU(t,e,r,n=0,i=Ce.DEFAULT_SIGHASH_TYPE,s=Ce.DEFAULT_FLAGS){let o=as.Transaction.Sighash.sighashPreimage(t,i,n,e,new as.crypto.BN(r),s);return Lb(o)}Ce.getPreimage=mU;var gU=126;function bU(t){return t.readUInt8(31)<gU}Ce.hashIsPositiveNumber=bU;function fpe(t,e,r,n=0,i=Ce.DEFAULT_SIGHASH_TYPE,s=Ce.DEFAULT_FLAGS){for(let o=0;o<Number.MAX_SAFE_INTEGER;o++){let a=mU(t,e,r,n,i,s),u=as.crypto.Hash.sha256sha256(A.Buffer.from(a,"hex"));if(u.readUInt8()<gU&&bU(u))return a;t.inputs[n].sequenceNumber--}}Ce.getLowSPreimage=fpe;function ww(){return typeof window>"u"&&typeof q=="object"}Ce.isNode=ww;function hpe(t){return ww()?(0,dU.pathToFileURL)(t).toString():t}Ce.path2uri=hpe;function lpe(t){return ww()?(0,dU.fileURLToPath)(t):t}Ce.uri2path=lpe;function yU(t,e){return e.find(r=>r.name==t)}Ce.findStructByName=yU;function vU(t){return/^(.+)(\[[\w.]+\])+$/.test(t)}Ce.isArrayType=vU;function Ub(t){if(vU(t)){let[e,r]=(0,_w.arrayTypeAndSizeStr)(t);return Ub(e)}if((0,_w.isGenericType)(t)){let[e,r]=(0,_w.parseGenericType)(t);return Ub(e)}return t}Ce.getNameByType=Ub;function dpe(t,e){let r=Ub(t);if(r)return yU(r,e)}Ce.findStructByType=dpe;function ppe(t,e){return`${t}<${e.join(",")}>`}Ce.toGenericType=ppe;function _U(t,e){if(e.length==1)return`[${t}]`;{let r=e.slice(1),n=r.reduce(function(i,s){return i*s},1);return`[${Math.floor(t/n)}]${_U(t%n,r)}`}}Ce.subscript=_U;function mpe(t,e){let r="";return f0.readFileSync(t,"utf8").split(/\r?\n/).every(function(n,i){return i===e-1?(r=n,!1):!0}),r}Ce.readFileByLine=mpe;function gpe(t){return Object.keys(t).length===0}Ce.isEmpty=gpe;function bpe(t,e){if(e=Object.assign({out:(0,lU.join)(__dirname,"../out"),sourceMap:!1,artifact:!1,optimize:!1},e),!f0.existsSync(t))throw`file ${t} not exists!`;return f0.existsSync(e.out)||f0.mkdirSync(e.out),(0,Yo.compile)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,cmdPrefix:(0,Yo.findCompiler)()})}Ce.compileContract=bpe;function ype(t,e){if(e=Object.assign({out:(0,lU.join)(__dirname,"..","out"),sourceMap:!1,artifact:!1,optimize:!1},e),!f0.existsSync(t))throw`file ${t} not exists!`;return f0.existsSync(e.out)||f0.mkdirSync(e.out),(0,ipe.compileAsync)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,hex:!0,cmdPrefix:(0,Yo.findCompiler)()})}Ce.compileContractAsync=ype;function vpe(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))}Ce.newCall=vpe;function _pe(t){let e;return t.expr.nodeType==="IntLiteral"?e=t.expr.value.toString(10):t.expr.nodeType==="BoolLiteral"&&(e=t.expr.value),t.expr.nodeType==="BytesLiteral"&&(e=`b'${t.expr.value.map(r=>xw(r)).join("")}'`),t.expr.nodeType==="FunctionCall"&&([Yo.ScryptType.PUBKEY,Yo.ScryptType.RIPEMD160,Yo.ScryptType.SIG,Yo.ScryptType.SIGHASHTYPE,Yo.ScryptType.OPCODETYPE,Yo.ScryptType.SIGHASHPREIMAGE,Yo.ScryptType.SHA1,Yo.ScryptType.SHA256].includes(t.expr.name)?e=`b'${t.expr.params[0].value.map(r=>xw(r)).join("")}'`:t.expr.name===Yo.ScryptType.PRIVKEY&&(e=t.expr.params[0].value.toString(10))),e}Ce.resolveConstValue=_pe;function xU({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}Ce.ansiRegex=xU;function xpe(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(xU(),"")}Ce.stripAnsi=xpe;function Spe(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function wpe(t,e,r){let n=r;for(let i of t.entries()){let s=i[0],o=i[1];n=n.replace(s,o)}for(let i of e.entries()){let s=i[0],o=i[1];n=n.replace(new RegExp(`${Spe(s)}`,"g"),o)}return as.Script.fromHex(n)}Ce.buildContractCode=wpe;function Epe(t,e){let r=Object.getPrototypeOf(t).constructor.abi,n=r.filter(h=>h.type==="function");if(n.length===1)return n[0];let o=as.Script.fromHex(e).toASM(),a=o.substr(o.lastIndexOf(" ")+1),u=pU(a),c=r.find(h=>h.index===u);if(!c)throw new Error(`the raw unlocking script cannot match the contract ${t.contractName}`);return c}Ce.parseAbiFromUnlockingScript=Epe;function Tpe(t){return`[${t.params.map(e=>e.type).join(",")}]`}Ce.librarySign=Tpe;function Ape(t){return`${JSON.stringify(t.params.reduce((e,r)=>Object.assign(e,{[r.name]:r.type}),{}),null,4)}`}Ce.structSign=Ape;async function Ipe(t){return new Promise((e,r)=>{(0,hU.parseChunked)(f0.createReadStream(t)).then(n=>{e(n)}).catch(n=>{r(n)})})}Ce.JSONParser=Ipe;function Ppe(t){return JSON.parse(f0.readFileSync(t,"utf8"))}Ce.JSONParserSync=Ppe;async function Ope(t,e){return new Promise((r,n)=>{(0,hU.stringifyStream)(e).pipe(f0.createWriteStream(t)).on("finish",()=>{r(!0)}).on("error",i=>{n(i)})})}Ce.JSONStringify=Ope;function Bpe(t,e){let r=(0,npe.decode)(e.mappings);for(let n=0;n<r[0].length;n++)if(!(r[0][n][0]<=t))return r[0][n-1];return r[0][r[0].length-1]}Ce.findSrcInfoV2=Bpe;function Cpe(t,e){for(;--e>0;)if(t[e].pos&&t[e].pos.file!=="std"&&t[e].pos.line>0)return t[e]}Ce.findSrcInfoV1=Cpe;function kpe(t){return rpe.createHash("md5").update(t).digest("hex")}Ce.md5=kpe;function Mpe(t){as.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,as.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let e=new as.Script.Interpreter,r=new as.Transaction().from({txId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:"",satoshis:1});if(e.verify(new as.Script(""),t,r,0,Ce.DEFAULT_FLAGS,new as.crypto.BN(1))||e.errstr!=="SCRIPT_ERR_EVAL_FALSE_NO_RESULT")throw new Error("NopScript should be a script that does not affect the Bitcoin virtual machine stack.")}Ce.checkNOPScript=Mpe});var Ew=$(hu=>{k();M();Object.defineProperty(hu,"__esModule",{value:!0});hu.toScriptASM=hu.toScriptHex=hu.bytes2hex=hu.bool2hex=hu.int2hex=void 0;var Af=wf(),z3=_6(),Rpe=z3.bsv.crypto.BN;function SU(t){if(t===(0,Af.Int)(0))return"00";if(t===(0,Af.Int)(-1))return"4f";if(t>(0,Af.Int)(0)&&t<=(0,Af.Int)(16))return t+=(0,Af.Int)(80),t.toString(16);let r=new Rpe(t).toSM({endian:"little"});return z3.bsv.Script.fromASM(r.toString("hex")).toHex()}hu.int2hex=SU;function wU(t){return t?"51":"00"}hu.bool2hex=wU;function EU(t){if(t){if(t.length/2>1)return z3.bsv.Script.fromASM(t).toHex();let e=parseInt(t,16);return e>=1&&e<=16?BigInt(e+80).toString(16):z3.bsv.Script.fromASM(t).toHex()}return"00"}hu.bytes2hex=EU;function TU(t,e){if(e===Af.ScryptType.INT||e===Af.ScryptType.PRIVKEY)return SU(t);if(e===Af.ScryptType.BOOL)return wU(t);if((0,Af.isBytes)(e))return EU(t);throw new Error(`unsupport SupportedParamType: ${t}`)}hu.toScriptHex=TU;function Npe(t,e){let r=TU(t,e);return z3.bsv.Script.fromHex(r).toASM()}hu.toScriptASM=Npe});var Tw=$(us=>{k();M();Object.defineProperty(us,"__esModule",{value:!0});us.deserializeArgfromHex=us.createArray=us.createLibrary=us.createStruct=us.deserializer=us.hex2bytes=us.hex2bool=us.hex2int=void 0;var zs=nr(),mn=wf(),$b=jb(),AU=_6();function qb(t){if(t==="00")return(0,mn.Int)(0);if(t==="4f")return(0,mn.Int)(-1);{let r=AU.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?BigInt(r.opcodenum-80):(0,zs.bin2num)(r.buf.toString("hex"))}}us.hex2int=qb;function IU(t){if(t==="51")return!0;if(t==="00")return!1;throw new Error(`invalid hex ${t}`)}us.hex2bool=IU;function If(t){if(t==="00")return"";let r=AU.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?A.Buffer.from([r.opcodenum-80]).toString("hex"):r.buf.toString("hex")}us.hex2bytes=If;function W3(t,e){switch(t){case mn.ScryptType.BOOL:return(0,mn.Bool)(IU(e));case mn.ScryptType.INT:return(0,mn.Int)(qb(e));case mn.ScryptType.BYTES:return(0,mn.Bytes)(If(e));case mn.ScryptType.PRIVKEY:return(0,mn.PrivKey)(qb(e));case mn.ScryptType.PUBKEY:return(0,mn.PubKey)(If(e));case mn.ScryptType.SIG:return(0,mn.Sig)(If(e));case mn.ScryptType.RIPEMD160:return(0,mn.Ripemd160)(If(e));case mn.ScryptType.SHA1:return(0,mn.Sha1)(If(e));case mn.ScryptType.SHA256:return(0,mn.Sha256)(If(e));case mn.ScryptType.SIGHASHTYPE:return(0,mn.SigHashType)(Number(qb(e)));case mn.ScryptType.SIGHASHPREIMAGE:return(0,mn.SigHashPreimage)(If(e));case mn.ScryptType.OPCODETYPE:return(0,mn.OpCodeType)(If(e));default:throw new Error(`<${t}> cannot be cast to ScryptType, only sCrypt native types supported`)}}us.deserializer=W3;function x6(t,e,r,n){let s=t(e.type).info,o=Object.create({});return s.params.forEach(a=>{let u=t(a.type);(0,zs.isArrayType)(u.finalType)?Object.assign(o,{[a.name]:w6(t,u.finalType,`${e.name}.${a.name}`,r,n)}):u.symbolType===zs.SymbolType.Struct?Object.assign(o,{[a.name]:x6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):u.symbolType===zs.SymbolType.Library?Object.assign(o,{[a.name]:S6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):n.state?Object.assign(o,{[a.name]:$b.default.deserializer(u.finalType,r.get(`<${e.name}.${a.name}>`))}):Object.assign(o,{[a.name]:W3(u.finalType,r.get(`<${e.name}.${a.name}>`))})}),o}us.createStruct=x6;function S6(t,e,r,n){let s=t(e.type).info;if(n.state){let o={};return s.properties.forEach(a=>{let u=t(a.type);(0,zs.isArrayType)(u.finalType)?Object.assign(o,{[a.name]:w6(t,a.type,`${e.name}.${a.name}`,r,n)}):u.symbolType===zs.SymbolType.Struct?Object.assign(o,{[a.name]:x6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):u.symbolType===zs.SymbolType.Library?Object.assign(o,{[a.name]:S6(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):Object.assign(o,{[a.name]:$b.default.deserializer(u.finalType,r.get(`<${e.name}.${a.name}>`))})}),o}else return s.params.map(o=>{let a=t(o.type);return(0,zs.isArrayType)(a.finalType)?w6(t,a.finalType,`${e.name}.${o.name}`,r,n):a.symbolType===zs.SymbolType.Struct?x6(t,{name:`${e.name}.${o.name}`,type:o.type},r,n):a.symbolType===zs.SymbolType.Library?S6(t,{name:`${e.name}.${o.name}`,type:o.type},r,n):W3(a.finalType,r.get(`<${e.name}.${o.name}>`))})}us.createLibrary=S6;function w6(t,e,r,n,i){let s=[],[o,a]=(0,zs.arrayTypeAndSize)(e),u=a[0];if(a.length===1)for(let c=0;c<u;c++){let h=t(o);h.symbolType===zs.SymbolType.Struct?s.push(x6(t,{name:`${r}[${c}]`,type:h.finalType},n,i)):h.symbolType===zs.SymbolType.Library?s.push(S6(t,{name:`${r}[${c}]`,type:h.finalType},n,i)):i.state?s.push($b.default.deserializer(h.finalType,n.get(`<${r}[${c}]>`))):s.push(W3(h.finalType,n.get(`<${r}[${c}]>`)))}else for(let c=0;c<u;c++){let f=[t(o).finalType,a.slice(1).map(p=>`[${p}]`).join("")].join("");s.push(w6(t,f,`${r}[${c}]`,n,i))}return s}us.createArray=w6;function Fpe(t,e,r,n){let i,s=t(e.type);return(0,zs.isArrayType)(s.finalType)?i=w6(t,e.type,e.name,r,n):s.symbolType===zs.SymbolType.Struct?i=x6(t,e,r,n):s.symbolType===zs.SymbolType.Library?i=S6(t,e,r,n):n.state?i=$b.default.deserializer(e.type,r.get(`<${e.name}>`)):i=W3(e.type,r.get(`<${e.name}>`)),e.value=i,e}us.deserializeArgfromHex=Fpe});var jb=$(Iw=>{k();M();Object.defineProperty(Iw,"__esModule",{value:!0});var cs=nr(),PU=Tw(),Aw=ma(),Tt=wf(),en=class{static int2hex(e){let r="",n=new cs.bsv.crypto.BN(e);return n.eqn(0)?r="00":r=n.toSM({endian:"little"}).toString("hex"),cs.bsv.Script.fromASM(r).toHex()}static hex2int(e){let n=cs.bsv.Script.fromHex(e).chunks[0];return(0,cs.bin2num)(n.buf.toString("hex"))}static bool2hex(e){return e?"01":"00"}static hex2bool(e){if(e==="01")return!0;if(e==="00")return!1;throw new Error(`invalid hex ${e}`)}static bytes2hex(e){return e===""?"00":cs.bsv.Script.fromASM(e).toHex()}static hex2bytes(e){return e==="00"?"":cs.bsv.Script.fromHex(e).chunks[0].buf.toString("hex")}static toHex(e,r){if(r===Tt.ScryptType.INT||r===Tt.ScryptType.PRIVKEY)return en.int2hex(e);if(r===Tt.ScryptType.BOOL)return en.bool2hex(e);if((0,Tt.isBytes)(r))return en.bytes2hex(e);throw new Error(`unsupported type: ${r}`)}static serialize(e,r){if(r===Tt.ScryptType.INT||r===Tt.ScryptType.PRIVKEY){let n=new cs.bsv.crypto.BN(e);return n.eqn(0)?"":n.toSM({endian:"little"}).toString("hex")}else{if(r===Tt.ScryptType.BOOL)return e?"01":"";if((0,Tt.isBytes)(r))return e}throw new Error(`unsupported type: ${r}`)}static buildState(e,r,n){let i=e.map(o=>(0,Aw.flatternArg)(o,n,{state:!0,ignoreValue:!1})).flat(1/0);if(i.length<=0)throw new Error("no state property found, buildContractState only used for state contract");let s=`${en.toHex(r,Tt.ScryptType.BOOL)}`;if(s+=i.map(o=>en.toHex(o.value,o.type)).join(""),s){let o=s.length/2;return s+=(0,cs.num2bin)(BigInt(o),4)+(0,cs.num2bin)(en.CURRENT_STATE_VERSION,1),s}return s}static buildDefaultStateArgs(e){let r=e.stateProps.map(i=>{let s=Object.assign({},i,{value:!1});return(0,Aw.flatternArg)(s,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),n=new Map;return r.forEach(i=>{if(i.type===Tt.ScryptType.INT||i.type===Tt.ScryptType.PRIVKEY)n.set(`<${i.name}>`,en.int2hex((0,Tt.Int)(0)));else if(i.type===Tt.ScryptType.BOOL)n.set(`<${i.name}>`,en.bool2hex(!0));else if(i.type===Tt.ScryptType.BYTES||i.type===Tt.ScryptType.PUBKEY||i.type===Tt.ScryptType.SIG||i.type===Tt.ScryptType.RIPEMD160||i.type===Tt.ScryptType.SHA1||i.type===Tt.ScryptType.SHA256||i.type===Tt.ScryptType.SIGHASHTYPE||i.type===Tt.ScryptType.SIGHASHPREIMAGE||i.type===Tt.ScryptType.OPCODETYPE)n.set(`<${i.name}>`,en.bytes2hex("00"));else throw new Error(`param ${i.name} has unknown type ${i.type}`)}),e.stateProps.map(i=>(0,PU.deserializeArgfromHex)(e.resolver,Object.assign(i,{value:void 0}),n,{state:!0}))}static deserializer(e,r){switch(e){case Tt.ScryptType.BOOL:return(0,Tt.Bool)(en.hex2bool(r));case Tt.ScryptType.INT:return(0,Tt.Int)(en.hex2int(r));case Tt.ScryptType.BYTES:return(0,Tt.Bytes)(en.hex2bytes(r));case Tt.ScryptType.PRIVKEY:return(0,Tt.PrivKey)(en.hex2int(r));case Tt.ScryptType.PUBKEY:return(0,Tt.PubKey)(en.hex2bytes(r));case Tt.ScryptType.SIG:return(0,Tt.Sig)(en.hex2bytes(r));case Tt.ScryptType.RIPEMD160:return(0,Tt.Ripemd160)(en.hex2bytes(r));case Tt.ScryptType.SHA1:return(0,Tt.Sha1)(en.hex2bytes(r));case Tt.ScryptType.SHA256:return(0,Tt.Sha256)(en.hex2bytes(r));case Tt.ScryptType.SIGHASHTYPE:return(0,Tt.SigHashType)(Number(en.hex2int(r)));case Tt.ScryptType.SIGHASHPREIMAGE:return(0,Tt.SigHashPreimage)(en.hex2bytes(r));case Tt.ScryptType.OPCODETYPE:return(0,Tt.OpCodeType)(en.hex2bytes(r));default:throw new Error(`<${e}> cannot be cast to ScryptType, only sCrypt native types supported`)}}static readBytes(e){try{let r=e.readUInt8(),n,i;return r==0?i="":r>0&&r<cs.bsv.Opcode.OP_PUSHDATA1?(n=r,i=e.read(n).toString("hex")):r===cs.bsv.Opcode.OP_PUSHDATA1?(n=e.readUInt8(),i=e.read(n).toString("hex")):r===cs.bsv.Opcode.OP_PUSHDATA2?(n=e.readUInt16LE(),i=e.read(n).toString("hex")):r===cs.bsv.Opcode.OP_PUSHDATA4?(n=e.readUInt32LE(),i=e.read(n).toString("hex")):i=(0,cs.num2bin)(BigInt(r-80),1),{data:i,opcodenum:r}}catch(r){throw new Error("readBytes: "+r)}}static parseStateHex(e,r){let n=r.substr(r.length-10,10),i=Number((0,cs.bin2num)(n.substr(n.length-2,2))),s=Number((0,cs.bin2num)(n.substr(0,8))),o=r.substr(r.length-10-s*2,s*2),a=new cs.bsv.encoding.BufferReader(A.Buffer.from(o,"hex")),c=a.readUInt8()==1,h=new Map;e.stateProps.map(l=>{let y=Object.assign({},l,{value:!1});return(0,Aw.flatternArg)(y,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0).forEach(l=>{if(l.type===Tt.ScryptType.BOOL){let y=a.readUInt8();h.set(`<${l.name}>`,y===1?"01":"00")}else{let{data:y}=en.readBytes(a);h.set(`<${l.name}>`,y?cs.bsv.Script.fromASM(y).toHex():"00")}});let p=e.stateProps.map(l=>Object.assign({},l,{value:!1})).map(l=>(0,PU.deserializeArgfromHex)(e.resolver,l,h,{state:!0}));return[c,p]}};Iw.default=en;en.CURRENT_STATE_VERSION=(0,Tt.Int)(0)});var Bw=$(Ws=>{k();M();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.buildTypeResolver=Ws.buildTypeResolverFromArtifact=Ws.buildContractClass=Ws.AbstractContract=Ws.SUPPORTED_MINIMUM_VERSION=Ws.CURRENT_CONTRACT_ARTIFACT_VERSION=void 0;var Pw=Ro(),Ow=nr(),OU=L3(),gt=ma(),ba=wf(),Y3=jb(),h0=V3();Ws.CURRENT_CONTRACT_ARTIFACT_VERSION=9;Ws.SUPPORTED_MINIMUM_VERSION=8;var al=class{constructor(...e){this.calledPubFunctions=[],this.hasInlineASMVars=!1,this.hexTemplateInlineASM=new Map,this.hexTemplateArgs=new Map,this.statePropsArgs=[],this.isGenesis=!0}get lockingScript(){if(this.hasInlineASMVars&&this.hexTemplateInlineASM.size===0)throw new Error("Values for inline ASM variables have not yet been set! Cannot get locking script.");return this.dataPart?this.codePart.add(this.dataPart):this._wrapNOPScript(this.scriptedConstructor?.lockingScript)}_wrapNOPScript(e){return this.nopScript?this.nopScript.clone().add(e):e}set txContext(e){this._txContext=e}get txContext(){return this._txContext}get sourceMapFile(){return Object.getPrototypeOf(this).constructor.artifact.sourceMapFile}get file(){return Object.getPrototypeOf(this).constructor.artifact.file}get contractName(){return Object.getPrototypeOf(this).constructor.artifact.contract}get stateProps(){return Object.getPrototypeOf(this).constructor.artifact.stateProps||[]}get version(){return Object.getPrototypeOf(this).constructor.artifact.version||0}addFunctionCall(e){this.calledPubFunctions.push(e)}get resolver(){return Object.getPrototypeOf(this).constructor.resolver}replaceAsmVars(e){if(e)for(let i in e){let s=e[i];this.hexTemplateInlineASM.set(`<${i.startsWith("$")?i.substring(1):i}>`,gt.bsv.Script.fromASM(s).toHex())}let r=Object.getPrototypeOf(this).constructor.hex,n=(0,gt.buildContractCode)(this.hexTemplateArgs,this.hexTemplateInlineASM,r);this.scriptedConstructor.lockingScript=n}get asmArgs(){let e={};for(let r of this.hexTemplateInlineASM.entries()){let n=r[0].replace("<","").replace(">",""),i=r[1];e[n]=gt.bsv.Script.fromHex(i).toASM()}return e}getNewStateScript(e){let r=this.statePropsArgs;if(r.length===0)throw new Error(`Contract ${this.contractName} does not have any stateful property`);let n=[],i=r.map(s=>{if(Object.prototype.hasOwnProperty.call(e,s.name)){n.push(s.name);let o=e[s.name];o=this.transformerArg(o,s,!0);let a=(0,h0.checkSupportedParamType)(o,s,this.resolver);if(a)throw a;return Object.assign({...s},{value:o})}else return s});return Object.keys(e).forEach(s=>{if(n.indexOf(s)===-1)throw new Error(`Contract ${this.contractName} does not have stateful property ${s}`)}),this.codePart.add(gt.bsv.Script.fromHex(Y3.default.buildState(i,!1,this.resolver)))}run_verify(e,r){let n=Object.assign({},this._txContext||{},r||{}),i;typeof e=="string"?i=e.trim()?gt.bsv.Script.fromASM(e.trim()):new gt.bsv.Script(""):i=e||new gt.bsv.Script("");let s=gt.bsv.Script.fromHex(this.lockingScript.toHex()),o=typeof n.tx=="string"?new gt.bsv.Transaction(n.tx):n.tx,a=n.inputIndex,u=n.inputSatoshis;gt.bsv.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,gt.bsv.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let c=new gt.bsv.Script.Interpreter,h={};c.stepListener=function(p){(p.fExec||gt.bsv.Opcode.OP_IF<=p.opcode.toNumber()&&p.opcode.toNumber()<=gt.bsv.Opcode.OP_ENDIF)&&(gt.bsv.Opcode.OP_IF<=p.opcode.toNumber()&&p.opcode.toNumber()<=gt.bsv.Opcode.OP_ENDIF||p.opcode.toNumber()===gt.bsv.Opcode.OP_RETURN?h.opcode=p.opcode:h=p)};let f=c.verify(i,s,o,a,gt.DEFAULT_FLAGS,new gt.bsv.crypto.BN(u));if(f)return{success:!0,error:""};if((c.errstr||"").indexOf("SCRIPT_ERR_NULLFAIL")>-1){if(!n)throw new Error("should provide txContext when verify");if(!o)throw new Error("should provide txContext.tx when verify")}return h.opcode=h.opcode.toNumber(),{success:f,error:this.fmtError({error:c.errstr||"",failedAt:h})}}fmtError(e){let r=e.failedAt.opcode,n=`VerifyError: ${e.error}, fails at ${new gt.bsv.Opcode(r)}
`;if(this.sourceMapFile){let i=(0,gt.uri2path)(this.sourceMapFile),s=(0,gt.JSONParserSync)(i),o=(0,Pw.join)(i,this.file),a=(0,Pw.dirname)(o),u=(0,Pw.basename)(o),c=s.sources.map(f=>(0,OU.getFullFilePath)(f,a,u)),h=(0,gt.findSrcInfoV2)(e.failedAt.pc,s);h&&c[h[1]]&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,gt.path2uri)(c[h[1]])}#${h[2]})  fails at ${new gt.bsv.Opcode(r)}
`)}else if(this.version<=8){let i=Object.getPrototypeOf(this).constructor.artifact,s=(0,OU.loadSourceMapfromArtifact)(i);if(s.length>0){let o=e.failedAt.pc;if(s[o]){let a=s[o];if(!a.pos||a.pos.file==="std"){let u=(0,gt.findSrcInfoV1)(s,o);u&&(a.pos=u.pos)}a&&a.pos&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,gt.path2uri)(a.pos.file)}#${a.pos.line})  fails at ${new gt.bsv.Opcode(r)}
`)}}}return n}genLaunchConfig(e){let r=Object.assign({},this.txContext||{},e||{}),n=this.lastCalledPubFunction();if(n)return`[Launch Debugger](${n.genLaunchConfig(r).replace(/file:/i,"scryptlaunch:")})
`;throw new Error("No public function called")}set dataPart(e){throw new Error("Setter for dataPart is not available. Please use: setDataPart() instead")}get dataPart(){if(al.isStateful(this)){let e=Y3.default.buildState(this.statePropsArgs,this.isGenesis,this.resolver);return gt.bsv.Script.fromHex(e)}if(this._dataPartInHex)return gt.bsv.Script.fromHex(this._dataPartInHex)}setDataPart(e,r=!1){r==!1?(console.warn("deprecated, using setDataPartInASM"),this.setDataPartInASM(e)):(console.warn("deprecated, using setDataPartInHex"),this.setDataPartInHex(e))}setDataPartInASM(e){if(al.isStateful(this))throw new Error("should not use `setDataPartInASM` for a stateful contract, using `setDataPartInHex`");let r=e.trim();this.setDataPartInHex(gt.bsv.Script.fromASM(r).toHex())}setDataPartInHex(e){if(this._dataPartInHex=e.trim(),al.isStateful(this)){let[r,n]=Y3.default.parseStateHex(this,this._dataPartInHex);this.statePropsArgs=n,this.isGenesis=r}}prependNOPScript(e){e instanceof gt.bsv.Script&&(0,gt.checkNOPScript)(e),this.nopScript=e}getPrependNOPScript(){return this.nopScript}get codePart(){let e=this.scriptedConstructor.toScript();return this._wrapNOPScript(e.clone()).add(gt.bsv.Script.fromHex("6a"))}get codeHash(){return this.dataPart?(0,gt.hash160)(this.codePart.toHex()):(0,gt.hash160)(this.lockingScript.toHex())}static getAsmVars(e){return this.fromHex(e).asmArgs}arguments(e){if(e==="constructor")return this.scriptedConstructor.args;for(let r=this.calledPubFunctions.length-1;r>=0;r--){let n=this.calledPubFunctions[r];if(n.methodName===e)return n.args}return[]}lastCalledPubFunction(){let e=this.calledPubFunctions.length-1;if(!(e<0))return this.calledPubFunctions[e]}ctorArgs(){return this.arguments("constructor")}get asmVars(){return this.ContractClass.getAsmVars(this.scriptedConstructor.toHex())}get ContractClass(){return Object.getPrototypeOf(this).constructor}transformerArgs(e,r,n){return r.map((i,s)=>this.transformerArg(e[s],i,n))}transformerArg(e,r,n){let i=this.resolver(r.type);if((0,gt.isArrayType)(i.finalType)){let[s,o]=(0,h0.arrayTypeAndSize)(i.finalType);if(!Array.isArray(e)||e.length!==o[0])return e;let a=(0,h0.subArrayType)(r.type),u=[];for(let c=0;c<o[0];c++){let h=e[c];u.push(this.transformerArg(h,{name:`${r.name}${(0,gt.subscript)(c,o)}`,type:a},n))}return u}else if(i.symbolType===ba.SymbolType.Library){let s=i.info;if(s.name==="HashedMap"){if(e instanceof Map)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)]}else if(s.name==="HashedSet"&&e instanceof Set)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)];let o=n?s.properties:s.params;if(!n&&Array.isArray(e))return o.map((a,u)=>this.transformerArg(e[u],a,n));if(n&&typeof e=="object")return o.reduce((a,u)=>(Object.assign(a,{[u.name]:this.transformerArg(e[u.name],u,n)}),a),{})}else if(i.symbolType===ba.SymbolType.Struct){if(!Array.isArray(e)&&typeof e=="object"){let s=i.info;if(s.name==="SortedItem"){if(e.idx===(0,ba.Int)(-1)&&(e.image instanceof Map||e.image instanceof Set)){let[a,u]=(0,Ow.parseGenericType)(i.finalType);return Object.assign({},{idx:this.ContractClass.findKeyIndex(e.image,e.item,u[0]),item:e.item})}return e}let o=Object.assign({},e);return s.params.forEach(a=>{typeof e[a.name]<"u"&&(o[a.name]=this.transformerArg(e[a.name],a,n))}),o}}else if(typeof e=="number")return BigInt(e);return e}checkArgs(e,r,...n){if(n.length!==r.length)throw new Error(`wrong number of arguments for '${this.contractName}.${e}', expected ${r.length} but got ${n.length}`);let i=this.transformerArgs(n,r,!1);return r.forEach((s,o)=>{let a=i[o],u=(0,h0.checkSupportedParamType)(a,s,this.resolver);if(u)throw u}),i}static fromASM(e){return this.fromHex(gt.bsv.Script.fromASM(e).toHex())}static fromHex(e){this.asmContract=!0;let r=this,n=new r;return this.asmContract=!1,n.scriptedConstructor=this.abiCoder.encodeConstructorCallFromRawHex(n,this.hex,e),n}static fromTransaction(e,r=0){let n=new gt.bsv.Transaction(e);return this.fromHex(n.outputs[r].script.toHex())}static isStateful(e){return e.stateProps.length>0}static flattenSha256(e,r){let n=(0,h0.checkSupportedParamType)(e,{name:"",type:r},this.resolver);if(n)throw n;let i=(0,h0.flatternArg)({name:"",type:r,value:e},this.resolver,{state:!0,ignoreValue:!1});if(i.length===1){let s=Y3.default.serialize(i[0].value,i[0].type);return gt.bsv.crypto.Hash.sha256(A.Buffer.from(s,"hex")).toString("hex")}else{let s=i.map(o=>{let a=Y3.default.serialize(o.value,o.type);return gt.bsv.crypto.Hash.sha256(A.Buffer.from(a,"hex")).toString("hex")}).join("");return gt.bsv.crypto.Hash.sha256(A.Buffer.from(s,"hex")).toString("hex")}}static sortmap(e,r){return new Map([...e.entries()].sort((n,i)=>gt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(n[0],r),"hex"),{endian:"little"}).cmp(gt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(i[0],r),"hex"),{endian:"little"}))))}static sortset(e,r){return new Set([...e.keys()].sort((n,i)=>gt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(gt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"}))))}static sortkeys(e,r){return e.sort((n,i)=>gt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(gt.bsv.crypto.BN.fromSM(A.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"})))}static findKeyIndex(e,r,n){let i=[...e.keys()];i.push(r);let o=this.sortkeys(i,n).findIndex(a=>a===r);return BigInt(o)}static toData(e,r){let[n,i]=(0,Ow.parseGenericType)(r),s="";if(e instanceof Map){let o=this.sortmap(e,i[0]);for(let a of o.entries())s+=this.flattenSha256(a[0],i[0])+this.flattenSha256(a[1],i[1])}else{let o=this.sortset(e,i[0]);for(let a of o.keys())s+=this.flattenSha256(a,i[0])}return(0,ba.Bytes)(s)}};Ws.AbstractContract=al;var Hpe=["arguments","setDataPart","setDataPartInASM","setDataPartInHex","version","stateProps","sourceMapFile","file","contractName","ctorArgs","run_verify","replaceAsmVars","asmVars","asmArguments","dataPart","lockingScript","codeHash","codePart","resolver","getNewStateScript","txContext"];function Dpe(t){if(t instanceof gt.CompileResult&&(t=t.toArtifact()),!t.contract)throw new Error("Missing field `contract` in artifact");if(!t.version)throw new Error("Missing field `version` in artifact");if(t.version<Ws.SUPPORTED_MINIMUM_VERSION)throw new Error(`Contract artifact version deprecated, The minimum version number currently supported is ${Ws.SUPPORTED_MINIMUM_VERSION}`);if(!t.abi)throw new Error("Missing field `abi` in artifact");if(!t.hex)throw new Error("Missing field `hex` in artifact");let e=class extends al{constructor(...r){super(),e.asmContract||(this.scriptedConstructor=e.abiCoder.encodeConstructorCall(this,e.hex,...r))}};return e.artifact=t,e.resolver=BU(t),e.abi=t.abi,e.hex=t.hex,e.abiCoder=new gt.ABICoder(t.abi,e.resolver,t.contract),e.stateProps=t.stateProps||[],e.abi.forEach(r=>{if(r.type!==Ow.ABIEntityType.CONSTRUCTOR){if(!r.name||Hpe.indexOf(r.name)>-1)throw new Error(`Method name [${r.name}] is used by scryptlib now, Pelease change you contract method name!`);e.prototype[r.name]=function(...n){let i=e.abiCoder.encodePubFunctionCall(this,r.name||"",n);return this.addFunctionCall(i),i}}}),e.stateProps.forEach(r=>{Object.defineProperty(e.prototype,r.name,{get(){let n=this.statePropsArgs.find(i=>i.name===r.name);if(n)return n.value;throw new Error(`property ${r.name} does not exists`)},set(n){let i=this.statePropsArgs.find(s=>s.name===r.name);if(i){n=this.transformerArg(n,i,!0);let s=(0,h0.checkSupportedParamType)(n,i,this.resolver);if(s)throw s;i.value=n,this.isGenesis=!1}else throw new Error(`property ${r.name} does not exists`)}})}),e}Ws.buildContractClass=Dpe;function BU(t){let e=t.alias||[],r=t.library||[],n=t.structs||[],i=t.contract;return CU(i,e,n,r)}Ws.buildTypeResolverFromArtifact=BU;function CU(t,e,r,n,i=[],s=[]){let o={};return r.forEach(u=>{o[u.name]={info:u,generic:(0,h0.hasGeneric)(u),finalType:u.name,symbolType:ba.SymbolType.Struct}}),n.forEach(u=>{o[u.name]={info:u,generic:(0,h0.hasGeneric)(u),finalType:u.name,symbolType:ba.SymbolType.Library}}),i.forEach(u=>{o[u.name]={info:u,generic:(0,h0.hasGeneric)(u),finalType:u.name,symbolType:ba.SymbolType.Contract}}),o.HashedMap={info:{name:"HashedMap",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["K","V"]},generic:!0,finalType:"HashedMap",symbolType:ba.SymbolType.Library},o.HashedSet={info:{name:"HashedSet",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["E"]},generic:!0,finalType:"HashedSet",symbolType:ba.SymbolType.Library},o.SortedItem={info:{name:"SortedItem",params:[{name:"item",type:"T"},{name:"idx",type:"int"}],genericTypes:["T"]},generic:!0,finalType:"SortedItem",symbolType:ba.SymbolType.Struct},o.PubKeyHash={finalType:"Ripemd160",generic:!1,symbolType:ba.SymbolType.ScryptType},u=>o[u]?o[u]:(0,ba.isScryptType)(u)?{generic:!1,finalType:u,symbolType:ba.SymbolType.ScryptType}:(0,gt.resolveType)(u,o,t,s,e,n)}Ws.buildTypeResolver=CU});var Mw=$(kr=>{k();M();Object.defineProperty(kr,"__esModule",{value:!0});kr.hash256=kr.sha256=kr.hash160=kr.buildPublicKeyHashScript=kr.buildOpreturnScript=kr.writeVarint=kr.toLEUnsigned=kr.len=kr.invert=kr.xor=kr.or=kr.and=kr.bin2num=kr.num2bin=kr.unpack=kr.pack=void 0;var Of=nr();function ul(t){return new Of.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex")}kr.pack=ul;function Upe(t){return BigInt(E6(t))}kr.unpack=Upe;function Pf(t,e){let r=new Of.bsv.crypto.BN(t);if(r.eqn(0))return"00".repeat(e);let n=r.toSM({endian:"little"}).toString("hex"),i=n.length/2;if(i>e)throw new Error(`${t} cannot fit in ${e} byte[s]`);if(i===e)return n;let s=e-i,o=n.substring(n.length-2),a=n.substring(0,n.length-2),u=parseInt(o,16);r.isNeg()&&(u&=127);let c=u.toString(16);c.length<2&&(c="0"+c);let h=t>0?"00".repeat(s):"00".repeat(s-1)+"80";return a+c+h}kr.num2bin=Pf;function E6(t){let e=t.substring(t.length-2),r=t.substring(0,t.length-2),n=parseInt(e,16),s=(n&127).toString(16);s.length<2&&(s="0"+s);let o=Of.bsv.crypto.BN.fromHex(r+s,{endian:"little"});return n>>7&&(o=o.neg()),BigInt(o.toString())}kr.bin2num=E6;function Lpe(t,e){let r=ul(t).length/2,n=ul(e).length/2,i=Math.max(r,n),s=A.Buffer.from(Pf(t,i),"hex"),o=A.Buffer.from(Pf(e,i),"hex");for(let a=0;a<s.length;a++)s[a]&=o[a];return E6(s.toString("hex"))}kr.and=Lpe;function qpe(t,e){let r=ul(t).length/2,n=ul(e).length/2,i=Math.max(r,n),s=A.Buffer.from(Pf(t,i),"hex"),o=A.Buffer.from(Pf(e,i),"hex");for(let a=0;a<s.length;a++)s[a]|=o[a];return E6(s.toString("hex"))}kr.or=qpe;function $pe(t,e){let r=ul(t).length/2,n=ul(e).length/2,i=Math.max(r,n),s=A.Buffer.from(Pf(t,i),"hex"),o=A.Buffer.from(Pf(e,i),"hex");for(let a=0;a<s.length;a++)s[a]^=o[a];return E6(s.toString("hex"))}kr.xor=$pe;function jpe(t){if(t===(0,Of.Int)(0))return t;let e=ul(t).length/2,r=A.Buffer.from(Pf(t,e),"hex");for(let n=0;n<r.length;n++)r[n]=~r[n];return E6(r.toString("hex"))}kr.invert=jpe;function kw(t){return BigInt(t.length/2)}kr.len=kw;function X3(t,e){let r=Pf(t,e+1);return r.slice(0,Number(kw(r)-(0,Of.Int)(1)))}kr.toLEUnsigned=X3;function Kpe(t){let e=kw(t),r="";return e<253?r=X3(e,1):e<65536?r="fd"+X3(e,2):e<4294967296?r="fe"+X3(e,4):e<18446744073709552e3&&(r="ff"+X3(e,8)),r+t}kr.writeVarint=Kpe;function Vpe(t){return Of.bsv.Script.fromASM(["OP_FALSE","OP_RETURN",t].join(" "))}kr.buildOpreturnScript=Vpe;function Gpe(t){return Of.bsv.Script.fromASM(["OP_DUP","OP_HASH160",t,"OP_EQUALVERIFY","OP_CHECKSIG"].join(" "))}kr.buildPublicKeyHashScript=Gpe;function zpe(t,e){return Of.bsv.crypto.Hash.sha256ripemd160(A.Buffer.from(t,e||"hex")).toString("hex")}kr.hash160=zpe;function Cw(t,e){return Of.bsv.crypto.Hash.sha256(A.Buffer.from(t,e||"hex")).toString("hex")}kr.sha256=Cw;function Wpe(t,e){return Cw(Cw(t,e),e)}kr.hash256=Wpe});var Nw=$(lu=>{k();M();Object.defineProperty(lu,"__esModule",{value:!0});lu.readLaunchJson=lu.parseLiteral=lu.stringToBytes=lu.toJSON=lu.genLaunchConfigFile=void 0;var pt=ma(),Dp=_6(),Rw=jc(),Ype=W_(),kU=Ro();function Xpe(t,e,r,n,i,s,o,a){if(!s)return"";let u={type:"scrypt",request:"launch",internalConsoleOptions:"openOnSessionStart",name:i,program:s,constructorArgs:e.map(p=>T6(p,t)),pubFunc:n,pubFuncArgs:r.map(p=>T6(p,t))},c={};if(!(0,Dp.isEmpty)(o)){let p=o.inputIndex||0;if(o.tx){let l=o.inputSatoshis;Object.assign(c,{hex:o.tx.toString(),inputIndex:p,inputSatoshis:l})}o.opReturn?Object.assign(c,{opReturn:o.opReturn}):o.opReturnHex&&Object.assign(c,{opReturnHex:o.opReturnHex})}(0,Dp.isEmpty)(a)||Object.assign(u,{asmArgs:a}),(0,Dp.isEmpty)(c)||Object.assign(u,{txContext:c});let h={version:"0.2.0",configurations:[u]},f=JSON.stringify(h,(p,l)=>typeof l=="bigint"?l.toString():l,2);if((0,Dp.isNode)()){let p=`${i}-launch.json`,l=(0,kU.join)(Rw.mkdtempSync(`${(0,Ype.tmpdir)()}${kU.sep}sCrypt.`),p);return Rw.writeFileSync(l,f),(0,Dp.path2uri)(l)}else console.error(`${n}() call fail, see launch.json`,f)}lu.genLaunchConfigFile=Xpe;function T6(t,e){let r=e(t.type);if((0,Dp.isArrayType)(r.finalType)){let n=t.value,[i,s]=(0,pt.arrayTypeAndSize)(r.finalType),o=(0,pt.subArrayType)(r.finalType);return n.map((a,u)=>T6({name:`${t.name}${(0,pt.subscript)(u,s)}`,type:o,value:a},e))}else if(r.symbolType===pt.SymbolType.Library){let n=[],i=(0,pt.deduceGenericLibrary)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach((s,o)=>{n.push(T6({name:s.name,type:s.type,value:t.value[o]},e))}),n}else if(r.symbolType===pt.SymbolType.Struct){let n={},i=(0,pt.deduceGenericStruct)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach(s=>{Object.assign(n,{[s.name]:T6({name:s.name,type:s.type,value:t.value[s.name]},e)})}),n}else if(r.symbolType===pt.SymbolType.ScryptType)switch(r.finalType){case pt.ScryptType.BOOL:return t.value;case pt.ScryptType.INT:return t.value>=BigInt(Number.MIN_SAFE_INTEGER)&&t.value<=BigInt(Number.MAX_SAFE_INTEGER)?Number(t.value):t.value.toString();case pt.ScryptType.BYTES:return`b'${t.value.toString()}'`;case pt.ScryptType.PRIVKEY:return`PrivKey(${t.value.toString()})`;case pt.ScryptType.SIG:case pt.ScryptType.RIPEMD160:case pt.ScryptType.SHA1:case pt.ScryptType.SHA256:case pt.ScryptType.SIGHASHPREIMAGE:case pt.ScryptType.OPCODETYPE:case pt.ScryptType.SIGHASHTYPE:case pt.ScryptType.PUBKEY:return`${r.finalType}(b'${t.value.toString()}')`}}lu.toJSON=T6;function MU(t){let r=new TextEncoder().encode(t);return(0,pt.getValidatedHexString)(A.Buffer.from(r).toString("hex"))}lu.stringToBytes=MU;function Zpe(t,e=!1){if(t==="false")return[!1,pt.ScryptType.BOOL];if(t==="true")return[!0,pt.ScryptType.BOOL];if(e){let n=/^(0x[0-9a-fA-F]+)$/.exec(t);if(n)return[BigInt(n[1]),pt.ScryptType.INT];if(n=/^(-?\d+)$/.exec(t),n)return[BigInt(n[1]),pt.ScryptType.INT]}else if(/^([\da-fA-F]*)$/.exec(t))return[(0,pt.Bytes)(t),pt.ScryptType.BYTES];let r=/^b'([\da-fA-F]*)'$/.exec(t);if(r)return[(0,pt.Bytes)(r[1]),pt.ScryptType.BYTES];if(r=/^"([\s\S]*)"$/.exec(t),r)return[MU(r[1]),pt.ScryptType.BYTES];if(r=/^PrivKey\((-?\d+)\)$/.exec(t),r)return[BigInt(r[1]),pt.ScryptType.PRIVKEY];if(r=/^PrivKey\((0x[0-9a-fA-F]+)\)$/.exec(t),r)return[BigInt(r[1]),pt.ScryptType.PRIVKEY];if(r=/^PubKey\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.PUBKEY]}if(r=/^Sig\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.SIG]}if(r=/^Ripemd160\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.RIPEMD160]}if(r=/^Sha1\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.SHA1]}if(r=/^Sha256\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.SHA256]}if(r=/^SigHashType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.SIGHASHTYPE]}if(r=/^SigHashPreimage\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.SIGHASHPREIMAGE]}if(r=/^OpCodeType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,pt.getValidatedHexString)(r[1]);return[(0,pt.Bytes)(n),pt.ScryptType.OPCODETYPE]}throw new Error(`<${t}> cannot be cast to ASM format, only sCrypt native types supported`)}lu.parseLiteral=Zpe;var Jpe=/(\[((!\[[^\]]*?\]\(\s*)([^\s()]+?)\s*\)\]|(?:\\\]|[^\]])*\])\(\s*)(([^\s()]|\([^\s()]*?\))+)\s*(".*?")?\)/g;function Qpe(t){for(let e of t.matchAll(Jpe))if(e[5]&&e[5].startsWith("scryptlaunch")){let r=e[5].replace(/scryptlaunch/,"file");return JSON.parse(Rw.readFileSync((0,Dp.uri2path)(r)).toString())}}lu.readLaunchJson=Qpe});var UU=$(A6=>{k();M();Object.defineProperty(A6,"__esModule",{value:!0});A6.ABICoder=A6.FunctionCall=void 0;var Fw=Mw(),RU=L3(),DU=Bw(),NU=Tw(),e1e=Nw(),t1e=wf(),FU=Ew(),HU=jb(),Hw=V3(),fo=_6(),Up=class{get unlockingScript(){return this._unlockingScript}get lockingScript(){return this._lockingScript}set lockingScript(e){this._lockingScript=e}constructor(e,r){if(this.methodName=e,this.args=[],r.lockingScript===void 0&&r.unlockingScript===void 0)throw new Error("param binding.lockingScript & binding.unlockingScript cannot both be empty");this.contract=r.contract,this.args=r.args,r.lockingScript&&(this._lockingScript=r.lockingScript),r.unlockingScript&&(this._unlockingScript=r.unlockingScript)}toASM(){return this.toScript().toASM()}toString(){return this.toHex()}toScript(){return this.lockingScript?this.lockingScript:this.unlockingScript}toHex(){return this.toScript().toHex()}genLaunchConfig(e){let r=this.methodName,n=`Debug ${this.contract.contractName}`,i=`${this.contract.file}`,s=this.contract.asmArgs||{},o={};DU.AbstractContract.isStateful(this.contract)?Object.assign(o,{opReturnHex:this.contract.dataPart?.toHex()||""}):this.contract.dataPart&&Object.assign(o,{opReturn:this.contract.dataPart.toASM()});let a=Object.assign({},this.contract.txContext||{},e||{},o);return(0,e1e.genLaunchConfigFile)(this.contract.resolver,this.contract.ctorArgs(),this.args,r,n,i,a,s)}verify(e){let r=this.contract.run_verify(this.unlockingScript,e);if(!r.success){let n=this.genLaunchConfig(e);n&&(r.error=r.error+`	[Launch Debugger](${n.replace(/file:/i,"scryptlaunch:")})
`)}return r}};A6.FunctionCall=Up;var Dw=class{constructor(e,r,n){this.abi=e,this.resolver=r,this.contractName=n}encodeConstructorCall(e,r,...n){let s=this.abi.filter(p=>p.type===RU.ABIEntityType.CONSTRUCTOR)[0]?.params||[],o=e.checkArgs("constructor",s,...n);s.flatMap((p,l)=>{let y=Object.assign({...p},{value:o[l]});return(0,Hw.flatternArg)(y,this.resolver,{state:!1,ignoreValue:!1})}).forEach(p=>{if(!r.includes(`<${p.name}>`))throw new Error(`abi constructor params mismatch with args provided: missing ${p.name} in ASM tempalte`);e.hexTemplateArgs.set(`<${p.name}>`,(0,FU.toScriptHex)(p.value,p.type))});let u=!!r.match(/<__codePart__>/g);u&&e.hexTemplateArgs.set("<__codePart__>","00");let c=r.match(/<.*?>/g),h=c?c.length:0;e.hasInlineASMVars=u?h>e.hexTemplateArgs.size+1:h>e.hexTemplateArgs.size,e.statePropsArgs=HU.default.buildDefaultStateArgs(e);let f=(0,fo.buildContractCode)(e.hexTemplateArgs,e.hexTemplateInlineASM,r);return new Up("constructor",{contract:e,lockingScript:f,args:s.map((p,l)=>({name:p.name,type:p.type,value:o[l]}))})}encodeConstructorCallFromRawHex(e,r,n){let i=fo.bsv.Script.fromHex(n),o=this.abi.filter(E=>E.type===RU.ABIEntityType.CONSTRUCTOR)[0]?.params||[],a=0,u,c=-1,h=new Error(`the raw script cannot match the ASM template of contract ${e.contractName}`);function f(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2}function p(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let U=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=U)throw h;a=a+E.len*2}function l(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let U=r.substring(a,a+2);if(parseInt(U,16)!=E.len)throw h;a=a+2;let N=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=N)throw h;a=a+E.len*2}function y(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let U=r.substring(a,a+4);if((0,Fw.bin2num)(U)!=BigInt(E.len))throw h;a=a+4;let N=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=N)throw h;a=a+E.len*2}function _(E){let I=r.substring(a,a+2);if(parseInt(I,16)!=E.opcodenum)throw h;a=a+2;let U=r.substring(a,a+8);if((0,Fw.bin2num)(U)!=BigInt(E.len))throw h;a=a+8;let N=r.substring(a,a+E.len*2);if(E.buf.toString("hex")!=N)throw h;a=a+E.len*2}function O(){if(r.charAt(a)=="<"){let E=a,I=!1;for(;!I&&a<r.length;)a++,r.charAt(a)==">"&&(a++,I=!0);if(!I)throw new Error("cannot found break >");return r.substring(E,a)}}function F(E,I){let U=new fo.bsv.encoding.BufferWriter;U.writeUInt8(I.opcodenum),I.buf&&(I.opcodenum<fo.bsv.Opcode.OP_PUSHDATA1?U.write(I.buf):I.opcodenum===fo.bsv.Opcode.OP_PUSHDATA1?(U.writeUInt8(I.len),U.write(I.buf)):I.opcodenum===fo.bsv.Opcode.OP_PUSHDATA2?(U.writeUInt16LE(I.len),U.write(I.buf)):I.opcodenum===fo.bsv.Opcode.OP_PUSHDATA4&&(U.writeUInt32LE(I.len),U.write(I.buf))),E.startsWith(`<${e.contractName}.`)?e.hexTemplateInlineASM.set(E,U.toBuffer().toString("hex")):e.hexTemplateArgs.set(E,U.toBuffer().toString("hex"))}for(let E=0;E<i.chunks.length;E++){let I=i.chunks[E],U=!1;switch(!0){case I.opcodenum===106:{a>=r.length?(u=fo.bsv.Script.fromChunks(i.chunks.slice(E+1)).toHex(),c=E,U=!0):f(I);break}case I.opcodenum===0:{let N=O();N?F(N,I):f(I);break}case(I.opcodenum>=1&&I.opcodenum<=75):{let N=O();N?F(N,I):p(I);break}case(I.opcodenum>=79&&I.opcodenum<=96):{let N=O();N?F(N,I):f(I);break}case I.opcodenum===76:{let N=O();N?F(N,I):l(I);break}case I.opcodenum===77:{let N=O();N?F(N,I):y(I);break}case I.opcodenum===78:{let N=O();N?F(N,I):_(I);break}default:f(I)}if(U)break}let B=o.map(E=>(0,NU.deserializeArgfromHex)(e.resolver,Object.assign(E,{value:!1}),e.hexTemplateArgs,{state:!1}));if(DU.AbstractContract.isStateful(e)&&u){let E=u,I=u.substr(E.length-10,10);switch((0,Fw.bin2num)(I.substr(I.length-2,2))){case(0,t1e.Int)(0):{let[N,H]=HU.default.parseStateHex(e,E);e.statePropsArgs=H,e.isGenesis=N}break}}else u&&e.setDataPartInHex(u);return new Up("constructor",{contract:e,lockingScript:c>-1?fo.bsv.Script.fromChunks(i.chunks.slice(0,c)):i,args:B})}encodePubFunctionCall(e,r,n){for(let i of this.abi)if(i.name===r){let s=e.checkArgs(r,i.params,...n),a=i.params.flatMap((u,c)=>{let h=Object.assign({...u},{value:s[c]});return(0,Hw.flatternArg)(h,this.resolver,{state:!1,ignoreValue:!1})}).map(u=>(0,FU.toScriptHex)(u.value,u.type)).join("");if(this.abi.length>2&&i.index!==void 0){let u=i.index;a+=`${fo.bsv.Script.fromASM((0,fo.int2Asm)(u.toString())).toHex()}`}return new Up(r,{contract:e,unlockingScript:fo.bsv.Script.fromHex(a),args:i.params.map((u,c)=>({name:u.name,type:u.type,value:s[c]}))})}throw new Error(`no public function named '${r}' found in contract '${e.contractName}'`)}encodePubFunctionCallFromHex(e,r){let n=this.parseCallData(r);return new Up(n.methodName,{contract:e,unlockingScript:n.unlockingScript,args:n.args})}parseCallData(e){let r=fo.bsv.Script.fromHex(e),n=r.toASM(),i=this.abi.filter(l=>l.type==="function"),s=i.length,o;if(s===1)o=i[0];else{let l=n.slice(n.lastIndexOf(" ")+1),y=(0,fo.asm2int)(l);o=this.abi.find(_=>_.index===y)}if(!o)throw new Error(`the raw unlocking script cannot match the contract ${this.constructor.name}`);let a=o.params||[],u=a.map(l=>{let y=Object.assign({},l,{value:!1});return(0,Hw.flatternArg)(y,this.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),c=u.length;this.abi.length>2&&o.index!==void 0&&(c+=1);let h=n.split(" ");if(c!=h.length)throw new Error(`the raw unlockingScript cannot match the arguments of public function ${o.name} of contract ${this.contractName}`);let f=new Map;u.forEach((l,y)=>{f.set(`<${l.name}>`,fo.bsv.Script.fromASM(h[y]).toHex())});let p=a.map(l=>(0,NU.deserializeArgfromHex)(this.resolver,Object.assign(l,{value:!1}),f,{state:!1}));return{methodName:o.name,args:p,unlockingScript:r}}};A6.ABICoder=Dw});var jU=$((pYe,$U)=>{k();M();function r1e(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function LU(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function qU(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}$U.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(I){r.bools[I]=!0});var n={};function i(I){return n[I].some(function(U){return r.bools[U]})}Object.keys(e.alias||{}).forEach(function(I){n[I]=[].concat(e.alias[I]),n[I].forEach(function(U){n[U]=[I].concat(n[I].filter(function(N){return U!==N}))})}),[].concat(e.string).filter(Boolean).forEach(function(I){r.strings[I]=!0,n[I]&&[].concat(n[I]).forEach(function(U){r.strings[U]=!0})});var s=e.default||{},o={_:[]};function a(I,U){return r.allBools&&/^--[^=]+$/.test(U)||r.strings[I]||r.bools[I]||n[I]}function u(I,U,N){for(var H=I,D=0;D<U.length-1;D++){var C=U[D];if(qU(H,C))return;H[C]===void 0&&(H[C]={}),(H[C]===Object.prototype||H[C]===Number.prototype||H[C]===String.prototype)&&(H[C]={}),H[C]===Array.prototype&&(H[C]=[]),H=H[C]}var d=U[U.length-1];qU(H,d)||((H===Object.prototype||H===Number.prototype||H===String.prototype)&&(H={}),H===Array.prototype&&(H=[]),H[d]===void 0||r.bools[d]||typeof H[d]=="boolean"?H[d]=N:Array.isArray(H[d])?H[d].push(N):H[d]=[H[d],N])}function c(I,U,N){if(!(N&&r.unknownFn&&!a(I,N)&&r.unknownFn(N)===!1)){var H=!r.strings[I]&&LU(U)?Number(U):U;u(o,I.split("."),H),(n[I]||[]).forEach(function(D){u(o,D.split("."),H)})}}Object.keys(r.bools).forEach(function(I){c(I,s[I]===void 0?!1:s[I])});var h=[];t.indexOf("--")!==-1&&(h=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var p=t[f],l,y;if(/^--.+=/.test(p)){var _=p.match(/^--([^=]+)=([\s\S]*)$/);l=_[1];var O=_[2];r.bools[l]&&(O=O!=="false"),c(l,O,p)}else if(/^--no-.+/.test(p))l=p.match(/^--no-(.+)/)[1],c(l,!1,p);else if(/^--.+/.test(p))l=p.match(/^--(.+)/)[1],y=t[f+1],y!==void 0&&!/^(-|--)[^-]/.test(y)&&!r.bools[l]&&!r.allBools&&(n[l]?!i(l):!0)?(c(l,y,p),f+=1):/^(true|false)$/.test(y)?(c(l,y==="true",p),f+=1):c(l,r.strings[l]?"":!0,p);else if(/^-[^-]+/.test(p)){for(var F=p.slice(1,-1).split(""),B=!1,E=0;E<F.length;E++){if(y=p.slice(E+2),y==="-"){c(F[E],y,p);continue}if(/[A-Za-z]/.test(F[E])&&y[0]==="="){c(F[E],y.slice(1),p),B=!0;break}if(/[A-Za-z]/.test(F[E])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){c(F[E],y,p),B=!0;break}if(F[E+1]&&F[E+1].match(/\W/)){c(F[E],p.slice(E+2),p),B=!0;break}else c(F[E],r.strings[F[E]]?"":!0,p)}l=p.slice(-1)[0],!B&&l!=="-"&&(t[f+1]&&!/^(-|--)[^-]/.test(t[f+1])&&!r.bools[l]&&(n[l]?!i(l):!0)?(c(l,t[f+1],p),f+=1):t[f+1]&&/^(true|false)$/.test(t[f+1])?(c(l,t[f+1]==="true",p),f+=1):c(l,r.strings[l]?"":!0,p))}else if((!r.unknownFn||r.unknownFn(p)!==!1)&&o._.push(r.strings._||!LU(p)?p:Number(p)),e.stopEarly){o._.push.apply(o._,t.slice(f+1));break}}return Object.keys(s).forEach(function(I){r1e(o,I.split("."))||(u(o,I.split("."),s[I]),(n[I]||[]).forEach(function(U){u(o,U.split("."),s[I])}))}),e["--"]?o["--"]=h.slice():h.forEach(function(I){o._.push(I)}),o}});var VU=$((bYe,KU)=>{k();M();var n1e=/[|\\{}()[\]^$+*?.]/g;KU.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(n1e,"\\$&")}});var zU=$((_Ye,GU)=>{k();M();GU.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Uw=$((wYe,ZU)=>{k();M();var Lp=zU(),XU={};for(Kb in Lp)Lp.hasOwnProperty(Kb)&&(XU[Lp[Kb]]=Kb);var Kb,ut=ZU.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(ho in ut)if(ut.hasOwnProperty(ho)){if(!("channels"in ut[ho]))throw new Error("missing channels property: "+ho);if(!("labels"in ut[ho]))throw new Error("missing channel labels property: "+ho);if(ut[ho].labels.length!==ut[ho].channels)throw new Error("channel and label counts mismatch: "+ho);WU=ut[ho].channels,YU=ut[ho].labels,delete ut[ho].channels,delete ut[ho].labels,Object.defineProperty(ut[ho],"channels",{value:WU}),Object.defineProperty(ut[ho],"labels",{value:YU})}var WU,YU,ho;ut.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u,c;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(i+s)/2,s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};ut.rgb.hsv=function(t){var e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),h=c-Math.min(o,a,u),f=function(p){return(c-p)/6/h+1/2};return h===0?i=s=0:(s=h/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};ut.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=ut.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};ut.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,o,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,s=(1-r-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,[i*100,s*100,o*100,a*100]};function i1e(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}ut.rgb.keyword=function(t){var e=XU[t];if(e)return e;var r=1/0,n;for(var i in Lp)if(Lp.hasOwnProperty(i)){var s=Lp[i],o=i1e(t,s);o<r&&(r=o,n=i)}return n};ut.keyword.rgb=function(t){return Lp[t]};ut.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};ut.rgb.lab=function(t){var e=ut.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,o,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,o=500*(r-n),a=200*(n-i),[s,o,a]};ut.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?u=i+(s-i)*6*o:2*o<1?u=s:3*o<2?u=i+(s-i)*(2/3-o)*6:u=i,a[c]=u*255;return a};ut.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),o,a;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,a=(n+r)/2,o=n===0?2*i/(s+i):2*r/(n+r),[e,o*100,a*100]};ut.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};ut.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o,a;return a=(2-r)*n,s=(2-r)*i,o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,o*100,a*100]};ut.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,o,a,u;i>1&&(r/=i,n/=i),s=Math.floor(6*e),o=1-n,a=6*e-s,(s&1)!==0&&(a=1-a),u=r+a*(o-r);var c,h,f;switch(s){default:case 6:case 0:c=o,h=u,f=r;break;case 1:c=u,h=o,f=r;break;case 2:c=r,h=o,f=u;break;case 3:c=r,h=u,f=o;break;case 4:c=u,h=r,f=o;break;case 5:c=o,h=r,f=u;break}return[c*255,h*255,f*255]};ut.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,o,a;return s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[s*255,o*255,a*255]};ut.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};ut.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),o=200*(r-n),[i,s,o]};ut.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;var a=Math.pow(s,3),u=Math.pow(i,3),c=Math.pow(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};ut.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(r*r+n*n),[e,o,s]};ut.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return o=n/360*2*Math.PI,i=r*Math.cos(o),s=r*Math.sin(o),[e,i,s]};ut.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:ut.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};ut.hsv.ansi16=function(t){return ut.rgb.ansi16(ut.hsv.rgb(t),t[2])};ut.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};ut.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};ut.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};ut.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};ut.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};ut.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o+4,u/=6,u%=1,[u*360,o*100,a*100]};ut.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};ut.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};ut.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};ut.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};ut.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};ut.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};ut.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};ut.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};ut.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};ut.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};ut.gray.hsl=ut.gray.hsv=function(t){return[0,0,t[0]]};ut.gray.hwb=function(t){return[0,100,t[0]]};ut.gray.cmyk=function(t){return[0,0,0,t[0]]};ut.gray.lab=function(t){return[t[0],0,0]};ut.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};ut.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var QU=$((AYe,JU)=>{k();M();var Vb=Uw();function s1e(){for(var t={},e=Object.keys(Vb),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function o1e(t){var e=s1e(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(Vb[n]),s=i.length,o=0;o<s;o++){var a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}return e}function a1e(t,e){return function(r){return e(t(r))}}function u1e(t,e){for(var r=[e[t].parent,t],n=Vb[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=a1e(Vb[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}JU.exports=function(t){for(var e=o1e(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var o=n[s],a=e[o];a.parent!==null&&(r[o]=u1e(o,e))}return r}});var tL=$((OYe,eL)=>{k();M();var Lw=Uw(),c1e=QU(),I6={},f1e=Object.keys(Lw);function h1e(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function l1e(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}f1e.forEach(function(t){I6[t]={},Object.defineProperty(I6[t],"channels",{value:Lw[t].channels}),Object.defineProperty(I6[t],"labels",{value:Lw[t].labels});var e=c1e(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];I6[t][n]=l1e(i),I6[t][n].raw=h1e(i)})});eL.exports=I6});var nL=$((kYe,rL)=>{k();M();var P6=tL(),Gb=(t,e)=>function(){return`\x1B[${t.apply(P6,arguments)+e}m`},zb=(t,e)=>function(){let r=t.apply(P6,arguments);return`\x1B[${38+e};5;${r}m`},Wb=(t,e)=>function(){let r=t.apply(P6,arguments);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`};function d1e(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(let i of Object.keys(e)){let s=e[i];for(let o of Object.keys(s)){let a=s[o];e[o]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},s[o]=e[o],t.set(a[0],a[1])}Object.defineProperty(e,i,{value:s,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}let r=i=>i,n=(i,s,o)=>[i,s,o];e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi={ansi:Gb(r,0)},e.color.ansi256={ansi256:zb(r,0)},e.color.ansi16m={rgb:Wb(n,0)},e.bgColor.ansi={ansi:Gb(r,10)},e.bgColor.ansi256={ansi256:zb(r,10)},e.bgColor.ansi16m={rgb:Wb(n,10)};for(let i of Object.keys(P6)){if(typeof P6[i]!="object")continue;let s=P6[i];i==="ansi16"&&(i="ansi"),"ansi16"in s&&(e.color.ansi[i]=Gb(s.ansi16,0),e.bgColor.ansi[i]=Gb(s.ansi16,10)),"ansi256"in s&&(e.color.ansi256[i]=zb(s.ansi256,0),e.bgColor.ansi256[i]=zb(s.ansi256,10)),"rgb"in s&&(e.color.ansi16m[i]=Wb(s.rgb,0),e.bgColor.ansi16m[i]=Wb(s.rgb,10))}return e}Object.defineProperty(rL,"exports",{enumerable:!0,get:d1e})});var sL=$((NYe,iL)=>{k();M();iL.exports={stdout:!1,stderr:!1}});var fL=$((DYe,cL)=>{k();M();var p1e=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,oL=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,m1e=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,g1e=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,b1e=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function uL(t){return t[0]==="u"&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):b1e.get(t)||t}function y1e(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(m1e))r.push(i[2].replace(g1e,(o,a,u)=>a?uL(a):u));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`);return r}function v1e(t){oL.lastIndex=0;let e=[],r;for(;(r=oL.exec(t))!==null;){let n=r[1];if(r[2]){let i=y1e(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function aL(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}cL.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(p1e,(s,o,a,u,c,h)=>{if(o)i.push(uL(o));else if(u){let f=i.join("");i=[],n.push(r.length===0?f:aL(t,r)(f)),r.push({inverse:a,styles:v1e(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(aL(t,r)(i.join(""))),i=[],r.pop()}else i.push(h)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var mL=$((qYe,J3)=>{k();M();var $w=VU(),Bi=nL(),qw=sL().stdout,_1e=fL(),lL=q.platform==="win32"&&!(q.env.TERM||"").toLowerCase().startsWith("xterm"),dL=["ansi","ansi","ansi256","ansi16m"],pL=new Set(["gray"]),O6=Object.create(null);function hL(t,e){e=e||{};let r=qw?qw.level:0;t.level=e.level===void 0?r:e.level,t.enabled="enabled"in e?e.enabled:t.level>0}function Z3(t){if(!this||!(this instanceof Z3)||this.template){let e={};return hL(e,t),e.template=function(){let r=[].slice.call(arguments);return w1e.apply(null,[e.template].concat(r))},Object.setPrototypeOf(e,Z3.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=Z3,e.template}hL(this,t)}lL&&(Bi.blue.open="\x1B[94m");for(let t of Object.keys(Bi))Bi[t].closeRe=new RegExp($w(Bi[t].close),"g"),O6[t]={get(){let e=Bi[t];return Yb.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};O6.visible={get(){return Yb.call(this,this._styles||[],!0,"visible")}};Bi.color.closeRe=new RegExp($w(Bi.color.close),"g");for(let t of Object.keys(Bi.color.ansi))pL.has(t)||(O6[t]={get(){let e=this.level;return function(){let n={open:Bi.color[dL[e]][t].apply(null,arguments),close:Bi.color.close,closeRe:Bi.color.closeRe};return Yb.call(this,this._styles?this._styles.concat(n):[n],this._empty,t)}}});Bi.bgColor.closeRe=new RegExp($w(Bi.bgColor.close),"g");for(let t of Object.keys(Bi.bgColor.ansi)){if(pL.has(t))continue;let e="bg"+t[0].toUpperCase()+t.slice(1);O6[e]={get(){let r=this.level;return function(){let i={open:Bi.bgColor[dL[r]][t].apply(null,arguments),close:Bi.bgColor.close,closeRe:Bi.bgColor.closeRe};return Yb.call(this,this._styles?this._styles.concat(i):[i],this._empty,t)}}}}var x1e=Object.defineProperties(()=>{},O6);function Yb(t,e,r){let n=function(){return S1e.apply(n,arguments)};n._styles=t,n._empty=e;let i=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return i.level},set(s){i.level=s}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return i.enabled},set(s){i.enabled=s}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=x1e,n}function S1e(){let t=arguments,e=t.length,r=String(arguments[0]);if(e===0)return"";if(e>1)for(let i=1;i<e;i++)r+=" "+t[i];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=Bi.dim.open;lL&&this.hasGrey&&(Bi.dim.open="");for(let i of this._styles.slice().reverse())r=i.open+r.replace(i.closeRe,i.open)+i.close,r=r.replace(/\r?\n/g,`${i.close}$&${i.open}`);return Bi.dim.open=n,r}function w1e(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[e.raw[0]];for(let i=1;i<e.length;i++)n.push(String(r[i-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(e.raw[i]));return _1e(t,n.join(""))}Object.defineProperties(Z3.prototype,O6);J3.exports=Z3();J3.exports.supportsColor=qw;J3.exports.default=J3.exports});var bL=$((KYe,gL)=>{k();M();var jw=mL();function E1e(){console.info(`${jw.bgRed.bold("**ERROR**: No sCrypt compiler found.")}`)}function T1e(){console.info(`${jw.bgRed.bold("**ERROR**: Downloading sCrypt compiler failed.")}`),console.info(`Go to ${jw.blue.bold("https://github.com/sCrypt-Inc/compiler_dist/releases")} to download sCrypt compiler.
`)}gL.exports={showNoCompilerFound:E1e,showDownloadFailed:T1e}});var _L=$(B6=>{k();M();Object.defineProperty(B6,"__esModule",{value:!0});B6.findCompiler=B6.getPlatformScryptc=void 0;var A1e=US(),qp=jc(),I1e=jU(),Vw=W_(),Kw=Ro(),P1e=bL();function yL(){switch(Vw.platform()){case"win32":return"compiler/scryptc/win32/scryptc.exe";case"linux":return"compiler/scryptc/linux/scryptc";case"darwin":return"compiler/scryptc/mac/scryptc";default:throw`sCrypt doesn't support ${Vw.platform()}`}}B6.getPlatformScryptc=yL;function vL(t=__dirname){let e=(0,Kw.resolve)(t,"compiler");if((0,qp.existsSync)(e)&&(0,qp.statSync)(e).isDirectory()){let n=(0,Kw.join)(e,"..",yL());return(0,qp.existsSync)(n)?n:void 0}let r=(0,Kw.resolve)(t,"..");if(r!==t)return vL(r)}function O1e(){let e=Vw.platform().indexOf("win")>-1?"where":"which";try{return(0,A1e.execSync)(`${e} scryptc`,{stdio:[]}).toString().replace(/\r\n/g,"")}catch{return}}function B1e(){let e=I1e(q.argv.slice(2)).scryptc;if(e&&e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1)),e&&(0,qp.existsSync)(e))return e;if(q.env.SCRYPTC&&(0,qp.existsSync)(q.env.SCRYPTC))return q.env.SCRYPTC;if(e=vL(),e&&(0,qp.existsSync)(e)||(e=O1e(),e&&(0,qp.existsSync)(e)))return e;(0,P1e.showNoCompilerFound)()}B6.findCompiler=B1e});var wL=$(C6=>{k();M();Object.defineProperty(C6,"__esModule",{value:!0});C6.sha256ByPartialHash=C6.partialSha256=void 0;var C1e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k1e(t,e){let r=t.length,n=r%64<56?64-r%64:128-r%64,i=A.Buffer.alloc(n),s=A.Buffer.concat([t,i]),o=r/536870912|0,a=r<<3;s[r]=128;for(let p=r+1;p<s.length-8;p++)s[p]=0;s[s.length-8]=o>>>24&255,s[s.length-7]=o>>>16&255,s[s.length-6]=o>>>8&255,s[s.length-5]=o>>>0&255,s[s.length-4]=a>>>24&255,s[s.length-3]=a>>>16&255,s[s.length-2]=a>>>8&255,s[s.length-1]=a>>>0&255;let u=[];for(let p=0;p<s.length/64;p++)u.push(s.slice(p*64,p*64+64));let h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];for(let p=0;p<u.length;p++){let l=u[p];if(h=xL(h,l),r>64&&p==e)break}let f=SL(h);if(e>-1&&r>64){let p=t.slice((e+1)*64),l=s.slice(t.length);return[f,p.toString("hex"),l.toString("hex")]}return[f,"",""]}C6.partialSha256=k1e;function M1e(t,e,r){let n=A.Buffer.from(t,"hex"),i=A.Buffer.from(e+r,"hex"),s=[];for(let u=0;u<i.length/64;u++)s.push(i.slice(u*64,u*64+64));let a=[cl(n.slice(0,4)),cl(n.slice(4,8)),cl(n.slice(8,12)),cl(n.slice(12,16)),cl(n.slice(16,20)),cl(n.slice(20,24)),cl(n.slice(24,28)),cl(n.slice(28,32))];for(let u=0;u<s.length;u++){let c=s[u];a=xL(a,c)}return SL(a)}C6.sha256ByPartialHash=M1e;function cl(t){return t.readUInt32BE()}function R1e(t){return t=Number(t),t<0?Math.ceil(t):Math.floor(t)}function N1e(t,e){return t-Math.floor(t/e)*e}function fl(t){return N1e(R1e(t),Math.pow(2,32))}function xL(t,e){let r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=t[6],c=t[7],h=[];for(let f=0;f<64;f++){if(f<16)h[f]=e.slice(f*4,f*4+4).readUInt32BE();else{let B=h[f-15],E=(B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3,I=h[f-2],U=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;h[f]=E+h[f-7]+U+h[f-16]}let p=o&a^~o&u,l=r&n^r&i^n&i,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),O=c+_+p+C1e[f]+h[f],F=y+l;c=u,u=a,a=o,o=s+O,s=i,i=n,n=r,r=O+F}return[fl(t[0]+r),fl(t[1]+n),fl(t[2]+i),fl(t[3]+s),fl(t[4]+o),fl(t[5]+a),fl(t[6]+u),fl(t[7]+c)]}function hl(t){let e=A.Buffer.from([0,0,0,0]);return e.writeUInt32BE(t),e}function SL(t){return[hl(t[0]),hl(t[1]),hl(t[2]),hl(t[3]),hl(t[4]),hl(t[5]),hl(t[6]),hl(t[7])].reduce((r,n)=>A.Buffer.concat([r,n]),A.Buffer.from([])).toString("hex")}});var ma=$(As=>{k();M();var F1e=As&&As.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uc=As&&As.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&F1e(e,t,r)};Object.defineProperty(As,"__esModule",{value:!0});uc(_6(),As);uc(wf(),As);uc(Ew(),As);uc(Bw(),As);uc(L3(),As);uc(UU(),As);uc(_L(),As);uc(wL(),As);uc(V3(),As);uc(Mw(),As);uc(Nw(),As)});var nr=$(ie=>{k();M();Object.defineProperty(ie,"__esModule",{value:!0});ie.md5=ie.uri2path=ie.path2uri=ie.getFullFilePath=ie.JSONParser=ie.isEmpty=ie.parseLiteral=ie.compilerVersion=ie.typeOfArg=ie.getABIDeclaration=ie.getStructDeclaration=ie.buildTypeResolver=ie.resolveGenericType=ie.structSign=ie.librarySign=ie.toLiteralArrayType=ie.arrayTypeAndSizeStr=ie.resolveConstValue=ie.findStatic=ie.findConstStatic=ie.parseAbiFromUnlockingScript=ie.getLowSPreimage=ie.readLaunchJson=ie.parseGenericType=ie.isGenericType=ie.subArrayType=ie.genLaunchConfigFile=ie.getNameByType=ie.newCall=ie.arrayTypeAndSize=ie.isArrayType=ie.findStructByName=ie.findStructByType=ie.getValidatedHexString=ie.bytesToHexString=ie.bytes2Literal=ie.int2Asm=ie.bin2num=ie.toHex=ie.bsv=ie.CompileResult=ie.compileContractAsync=ie.handleCompilerOutput=ie.signTx=ie.getPreimage=ie.doCompileAsync=ie.compileContract=ie.compileAsync=ie.compile=ie.buildContractClass=void 0;ie.sha256ByPartialHash=ie.partialSha256=ie.findCompiler=ie.getPlatformScryptc=ie.toLEUnsigned=ie.writeVarint=ie.buildPublicKeyHashScript=ie.len=ie.buildOpreturnScript=ie.num2bin=ie.invert=ie.xor=ie.or=ie.and=ie.hash256=ie.sha256=ie.hash160=ie.DEFAULT_SIGHASH_TYPE=ie.ScryptType=ie.DEFAULT_FLAGS=ie.SymbolType=ie.DebugModeTag=ie.AbstractContract=ie.BuildType=ie.ABIEntityType=ie.HashedSet=ie.HashedMap=ie.PubKeyHash=ie.OpCodeType=ie.SigHashPreimage=ie.SigHashType=ie.Sha256=ie.Sha1=ie.Ripemd160=ie.Sig=ie.PubKey=ie.PrivKey=ie.Bytes=ie.Bool=ie.Int=ie.flatternArg=ie.getSortedItem=ie.toJSON=ie.isSubBytes=ie.isScryptType=ie.stringToBytes=ie.FunctionCall=void 0;var l0=ma();Object.defineProperty(ie,"buildContractClass",{enumerable:!0,get:function(){return l0.buildContractClass}});Object.defineProperty(ie,"compile",{enumerable:!0,get:function(){return l0.compile}});Object.defineProperty(ie,"compileAsync",{enumerable:!0,get:function(){return l0.compileAsync}});Object.defineProperty(ie,"compileContract",{enumerable:!0,get:function(){return l0.compileContract}});Object.defineProperty(ie,"doCompileAsync",{enumerable:!0,get:function(){return l0.doCompileAsync}});Object.defineProperty(ie,"getPreimage",{enumerable:!0,get:function(){return l0.getPreimage}});Object.defineProperty(ie,"signTx",{enumerable:!0,get:function(){return l0.signTx}});Object.defineProperty(ie,"handleCompilerOutput",{enumerable:!0,get:function(){return l0.handleCompilerOutput}});Object.defineProperty(ie,"compileContractAsync",{enumerable:!0,get:function(){return l0.compileContractAsync}});Object.defineProperty(ie,"CompileResult",{enumerable:!0,get:function(){return l0.CompileResult}});var Pt=ma();Object.defineProperty(ie,"bsv",{enumerable:!0,get:function(){return Pt.bsv}});Object.defineProperty(ie,"toHex",{enumerable:!0,get:function(){return Pt.toHex}});Object.defineProperty(ie,"bin2num",{enumerable:!0,get:function(){return Pt.bin2num}});Object.defineProperty(ie,"int2Asm",{enumerable:!0,get:function(){return Pt.int2Asm}});Object.defineProperty(ie,"bytes2Literal",{enumerable:!0,get:function(){return Pt.bytes2Literal}});Object.defineProperty(ie,"bytesToHexString",{enumerable:!0,get:function(){return Pt.bytesToHexString}});Object.defineProperty(ie,"getValidatedHexString",{enumerable:!0,get:function(){return Pt.getValidatedHexString}});Object.defineProperty(ie,"findStructByType",{enumerable:!0,get:function(){return Pt.findStructByType}});Object.defineProperty(ie,"findStructByName",{enumerable:!0,get:function(){return Pt.findStructByName}});Object.defineProperty(ie,"isArrayType",{enumerable:!0,get:function(){return Pt.isArrayType}});Object.defineProperty(ie,"arrayTypeAndSize",{enumerable:!0,get:function(){return Pt.arrayTypeAndSize}});Object.defineProperty(ie,"newCall",{enumerable:!0,get:function(){return Pt.newCall}});Object.defineProperty(ie,"getNameByType",{enumerable:!0,get:function(){return Pt.getNameByType}});Object.defineProperty(ie,"genLaunchConfigFile",{enumerable:!0,get:function(){return Pt.genLaunchConfigFile}});Object.defineProperty(ie,"subArrayType",{enumerable:!0,get:function(){return Pt.subArrayType}});Object.defineProperty(ie,"isGenericType",{enumerable:!0,get:function(){return Pt.isGenericType}});Object.defineProperty(ie,"parseGenericType",{enumerable:!0,get:function(){return Pt.parseGenericType}});Object.defineProperty(ie,"readLaunchJson",{enumerable:!0,get:function(){return Pt.readLaunchJson}});Object.defineProperty(ie,"getLowSPreimage",{enumerable:!0,get:function(){return Pt.getLowSPreimage}});Object.defineProperty(ie,"parseAbiFromUnlockingScript",{enumerable:!0,get:function(){return Pt.parseAbiFromUnlockingScript}});Object.defineProperty(ie,"findConstStatic",{enumerable:!0,get:function(){return Pt.findConstStatic}});Object.defineProperty(ie,"findStatic",{enumerable:!0,get:function(){return Pt.findStatic}});Object.defineProperty(ie,"resolveConstValue",{enumerable:!0,get:function(){return Pt.resolveConstValue}});Object.defineProperty(ie,"arrayTypeAndSizeStr",{enumerable:!0,get:function(){return Pt.arrayTypeAndSizeStr}});Object.defineProperty(ie,"toLiteralArrayType",{enumerable:!0,get:function(){return Pt.toLiteralArrayType}});Object.defineProperty(ie,"librarySign",{enumerable:!0,get:function(){return Pt.librarySign}});Object.defineProperty(ie,"structSign",{enumerable:!0,get:function(){return Pt.structSign}});Object.defineProperty(ie,"resolveGenericType",{enumerable:!0,get:function(){return Pt.resolveGenericType}});Object.defineProperty(ie,"buildTypeResolver",{enumerable:!0,get:function(){return Pt.buildTypeResolver}});Object.defineProperty(ie,"getStructDeclaration",{enumerable:!0,get:function(){return Pt.getStructDeclaration}});Object.defineProperty(ie,"getABIDeclaration",{enumerable:!0,get:function(){return Pt.getABIDeclaration}});Object.defineProperty(ie,"typeOfArg",{enumerable:!0,get:function(){return Pt.typeOfArg}});Object.defineProperty(ie,"compilerVersion",{enumerable:!0,get:function(){return Pt.compilerVersion}});Object.defineProperty(ie,"parseLiteral",{enumerable:!0,get:function(){return Pt.parseLiteral}});Object.defineProperty(ie,"isEmpty",{enumerable:!0,get:function(){return Pt.isEmpty}});Object.defineProperty(ie,"JSONParser",{enumerable:!0,get:function(){return Pt.JSONParser}});Object.defineProperty(ie,"getFullFilePath",{enumerable:!0,get:function(){return Pt.getFullFilePath}});Object.defineProperty(ie,"path2uri",{enumerable:!0,get:function(){return Pt.path2uri}});Object.defineProperty(ie,"uri2path",{enumerable:!0,get:function(){return Pt.uri2path}});Object.defineProperty(ie,"md5",{enumerable:!0,get:function(){return Pt.md5}});Object.defineProperty(ie,"FunctionCall",{enumerable:!0,get:function(){return Pt.FunctionCall}});Object.defineProperty(ie,"stringToBytes",{enumerable:!0,get:function(){return Pt.stringToBytes}});Object.defineProperty(ie,"isScryptType",{enumerable:!0,get:function(){return Pt.isScryptType}});Object.defineProperty(ie,"isSubBytes",{enumerable:!0,get:function(){return Pt.isSubBytes}});Object.defineProperty(ie,"toJSON",{enumerable:!0,get:function(){return Pt.toJSON}});Object.defineProperty(ie,"getSortedItem",{enumerable:!0,get:function(){return Pt.getSortedItem}});Object.defineProperty(ie,"flatternArg",{enumerable:!0,get:function(){return Pt.flatternArg}});var Vn=ma();Object.defineProperty(ie,"Int",{enumerable:!0,get:function(){return Vn.Int}});Object.defineProperty(ie,"Bool",{enumerable:!0,get:function(){return Vn.Bool}});Object.defineProperty(ie,"Bytes",{enumerable:!0,get:function(){return Vn.Bytes}});Object.defineProperty(ie,"PrivKey",{enumerable:!0,get:function(){return Vn.PrivKey}});Object.defineProperty(ie,"PubKey",{enumerable:!0,get:function(){return Vn.PubKey}});Object.defineProperty(ie,"Sig",{enumerable:!0,get:function(){return Vn.Sig}});Object.defineProperty(ie,"Ripemd160",{enumerable:!0,get:function(){return Vn.Ripemd160}});Object.defineProperty(ie,"Sha1",{enumerable:!0,get:function(){return Vn.Sha1}});Object.defineProperty(ie,"Sha256",{enumerable:!0,get:function(){return Vn.Sha256}});Object.defineProperty(ie,"SigHashType",{enumerable:!0,get:function(){return Vn.SigHashType}});Object.defineProperty(ie,"SigHashPreimage",{enumerable:!0,get:function(){return Vn.SigHashPreimage}});Object.defineProperty(ie,"OpCodeType",{enumerable:!0,get:function(){return Vn.OpCodeType}});Object.defineProperty(ie,"PubKeyHash",{enumerable:!0,get:function(){return Vn.PubKeyHash}});Object.defineProperty(ie,"HashedMap",{enumerable:!0,get:function(){return Vn.HashedMap}});Object.defineProperty(ie,"HashedSet",{enumerable:!0,get:function(){return Vn.HashedSet}});Object.defineProperty(ie,"ABIEntityType",{enumerable:!0,get:function(){return Vn.ABIEntityType}});Object.defineProperty(ie,"BuildType",{enumerable:!0,get:function(){return Vn.BuildType}});Object.defineProperty(ie,"AbstractContract",{enumerable:!0,get:function(){return Vn.AbstractContract}});Object.defineProperty(ie,"DebugModeTag",{enumerable:!0,get:function(){return Vn.DebugModeTag}});Object.defineProperty(ie,"SymbolType",{enumerable:!0,get:function(){return Vn.SymbolType}});Object.defineProperty(ie,"DEFAULT_FLAGS",{enumerable:!0,get:function(){return Vn.DEFAULT_FLAGS}});Object.defineProperty(ie,"ScryptType",{enumerable:!0,get:function(){return Vn.ScryptType}});Object.defineProperty(ie,"DEFAULT_SIGHASH_TYPE",{enumerable:!0,get:function(){return Vn.DEFAULT_SIGHASH_TYPE}});var ya=ma();Object.defineProperty(ie,"hash160",{enumerable:!0,get:function(){return ya.hash160}});Object.defineProperty(ie,"sha256",{enumerable:!0,get:function(){return ya.sha256}});Object.defineProperty(ie,"hash256",{enumerable:!0,get:function(){return ya.hash256}});Object.defineProperty(ie,"and",{enumerable:!0,get:function(){return ya.and}});Object.defineProperty(ie,"or",{enumerable:!0,get:function(){return ya.or}});Object.defineProperty(ie,"xor",{enumerable:!0,get:function(){return ya.xor}});Object.defineProperty(ie,"invert",{enumerable:!0,get:function(){return ya.invert}});Object.defineProperty(ie,"num2bin",{enumerable:!0,get:function(){return ya.num2bin}});Object.defineProperty(ie,"buildOpreturnScript",{enumerable:!0,get:function(){return ya.buildOpreturnScript}});Object.defineProperty(ie,"len",{enumerable:!0,get:function(){return ya.len}});Object.defineProperty(ie,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return ya.buildPublicKeyHashScript}});Object.defineProperty(ie,"writeVarint",{enumerable:!0,get:function(){return ya.writeVarint}});Object.defineProperty(ie,"toLEUnsigned",{enumerable:!0,get:function(){return ya.toLEUnsigned}});var EL=ma();Object.defineProperty(ie,"getPlatformScryptc",{enumerable:!0,get:function(){return EL.getPlatformScryptc}});Object.defineProperty(ie,"findCompiler",{enumerable:!0,get:function(){return EL.findCompiler}});var TL=ma();Object.defineProperty(ie,"partialSha256",{enumerable:!0,get:function(){return TL.partialSha256}});Object.defineProperty(ie,"sha256ByPartialHash",{enumerable:!0,get:function(){return TL.sha256ByPartialHash}})});var Xb=$(ll=>{k();M();Object.defineProperty(ll,"__esModule",{value:!0});ll.SortedItemAccessTracer=ll.instanceOfSIATraceable=ll.SortedItemAccess=void 0;var H1e=$p(),D1e=nr(),dl=class{constructor(e,r,n){this.item=e,this.itemHashHex=r,this.idx=n}serialize(){if(this.itemHashHex.length!==dl.ITEM_HASH_SIZE_IN_BYTES*2)throw new Error(`invalid hashed key size ${this.itemHashHex.length}, should be ${dl.ITEM_HASH_SIZE_IN_BYTES*2} in hex`);return H1e.VarIntWriter.writeInt(this.idx)}};ll.SortedItemAccess=dl;dl.ITEM_HASH_SIZE_IN_BYTES=32;function U1e(t){return t&&"startTracing"in t&&"stopTracing"in t&&"serializedAccessPath"in t}ll.instanceOfSIATraceable=U1e;var Gw=class{constructor(e,r){this._itemType=e,this._DelegateClazz=r}hash(e){return this._DelegateClazz.flattenSha256(e,this._itemType)}},zw=class{constructor(e){this.hasher=e}findIndex(e,r){let n=this._item2BN(e),i=Array.from(r).map(s=>this._item2BN(s)).sort((s,o)=>s.cmp(o)).findIndex(s=>n.eq(s));return BigInt(i)}_item2BN(e){return D1e.bsv.crypto.BN.fromSM(A.Buffer.from(this.hasher.hash(e),"hex"),{endian:"little"})}},Ww=class{constructor(e,r){this._traceEnabled=!1,this._accessPath=[],this._hasher=new Gw(e,r),this._sequencer=new zw(this._hasher)}traceAccess(e,r){this._traceEnabled&&this._accessPath.push(new dl(e,this._hasher.hash(e),this._sequencer.findIndex(e,r)))}startTracing(){this._traceEnabled=!0,this._accessPath=[]}stopTracing(){this._traceEnabled=!1}serializedAccessPath(){return(this._accessPath||[]).map(e=>e.serialize()).join("")}};ll.SortedItemAccessTracer=Ww});var Yw=$((AL,IL)=>{k();M();(function(t){var e;typeof AL=="object"?IL.exports=t():typeof define=="function"&&define.amd?define(t):(typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof self<"u"&&(e=self),e.objectHash=t())})(function(){return function t(e,r,n){function i(a,u){if(!r[a]){if(!e[a]){var c=typeof r3=="function"&&r3;if(!u&&c)return c(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}u=r[a]={exports:{}},e[a][0].call(u.exports,function(h){var f=e[a][1][h];return i(f||h)},u,u.exports,t,e,r,n)}return r[a].exports}for(var s=typeof r3=="function"&&r3,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){"use strict";var p=t("crypto");function l(I,U){U=O(I,U);var N;return(N=U.algorithm!=="passthrough"?p.createHash(U.algorithm):new E).write===void 0&&(N.write=N.update,N.end=N.update),B(U,N).dispatch(I),N.update||N.end(""),N.digest?N.digest(U.encoding==="buffer"?void 0:U.encoding):(I=N.read(),U.encoding!=="buffer"?I.toString(U.encoding):I)}(r=e.exports=l).sha1=function(I){return l(I)},r.keys=function(I){return l(I,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(I){return l(I,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(I){return l(I,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=p.getHashes?p.getHashes().slice():["sha1","md5"],_=(y.push("passthrough"),["buffer","hex","binary","base64"]);function O(I,U){var N={};if(N.algorithm=(U=U||{}).algorithm||"sha1",N.encoding=U.encoding||"hex",N.excludeValues=!!U.excludeValues,N.algorithm=N.algorithm.toLowerCase(),N.encoding=N.encoding.toLowerCase(),N.ignoreUnknown=U.ignoreUnknown===!0,N.respectType=U.respectType!==!1,N.respectFunctionNames=U.respectFunctionNames!==!1,N.respectFunctionProperties=U.respectFunctionProperties!==!1,N.unorderedArrays=U.unorderedArrays===!0,N.unorderedSets=U.unorderedSets!==!1,N.unorderedObjects=U.unorderedObjects!==!1,N.replacer=U.replacer||void 0,N.excludeKeys=U.excludeKeys||void 0,I===void 0)throw new Error("Object argument required.");for(var H=0;H<y.length;++H)y[H].toLowerCase()===N.algorithm.toLowerCase()&&(N.algorithm=y[H]);if(y.indexOf(N.algorithm)===-1)throw new Error('Algorithm "'+N.algorithm+'"  not supported. supported values: '+y.join(", "));if(_.indexOf(N.encoding)===-1&&N.algorithm!=="passthrough")throw new Error('Encoding "'+N.encoding+'"  not supported. supported values: '+_.join(", "));return N}function F(I){if(typeof I=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(I))!=null}function B(I,U,N){N=N||[];function H(D){return U.update?U.update(D,"utf8"):U.write(D,"utf8")}return{dispatch:function(D){return this["_"+((D=I.replacer?I.replacer(D):D)===null?"null":typeof D)](D)},_object:function(D){var C,d=Object.prototype.toString.call(D),v=/\[object (.*)\]/i.exec(d);if(v=(v=v?v[1]:"unknown:["+d+"]").toLowerCase(),0<=(d=N.indexOf(D)))return this.dispatch("[CIRCULAR:"+d+"]");if(N.push(D),s!==void 0&&s.isBuffer&&s.isBuffer(D))return H("buffer:"),H(D);if(v==="object"||v==="function"||v==="asyncfunction")return d=Object.keys(D),I.unorderedObjects&&(d=d.sort()),I.respectType===!1||F(D)||d.splice(0,0,"prototype","__proto__","constructor"),I.excludeKeys&&(d=d.filter(function(g){return!I.excludeKeys(g)})),H("object:"+d.length+":"),C=this,d.forEach(function(g){C.dispatch(g),H(":"),I.excludeValues||C.dispatch(D[g]),H(",")});if(!this["_"+v]){if(I.ignoreUnknown)return H("["+v+"]");throw new Error('Unknown object type "'+v+'"')}this["_"+v](D)},_array:function(D,g){g=g!==void 0?g:I.unorderedArrays!==!1;var d=this;if(H("array:"+D.length+":"),!g||D.length<=1)return D.forEach(function(m){return d.dispatch(m)});var v=[],g=D.map(function(m){var S=new E,w=N.slice();return B(I,S,w).dispatch(m),v=v.concat(w.slice(N.length)),S.read().toString()});return N=N.concat(v),g.sort(),this._array(g,!1)},_date:function(D){return H("date:"+D.toJSON())},_symbol:function(D){return H("symbol:"+D.toString())},_error:function(D){return H("error:"+D.toString())},_boolean:function(D){return H("bool:"+D.toString())},_string:function(D){H("string:"+D.length+":"),H(D.toString())},_function:function(D){H("fn:"),F(D)?this.dispatch("[native]"):this.dispatch(D.toString()),I.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(D.name)),I.respectFunctionProperties&&this._object(D)},_number:function(D){return H("number:"+D.toString())},_xml:function(D){return H("xml:"+D.toString())},_null:function(){return H("Null")},_undefined:function(){return H("Undefined")},_regexp:function(D){return H("regex:"+D.toString())},_uint8array:function(D){return H("uint8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint8clampedarray:function(D){return H("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(D))},_int8array:function(D){return H("int8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint16array:function(D){return H("uint16array:"),this.dispatch(Array.prototype.slice.call(D))},_int16array:function(D){return H("int16array:"),this.dispatch(Array.prototype.slice.call(D))},_uint32array:function(D){return H("uint32array:"),this.dispatch(Array.prototype.slice.call(D))},_int32array:function(D){return H("int32array:"),this.dispatch(Array.prototype.slice.call(D))},_float32array:function(D){return H("float32array:"),this.dispatch(Array.prototype.slice.call(D))},_float64array:function(D){return H("float64array:"),this.dispatch(Array.prototype.slice.call(D))},_arraybuffer:function(D){return H("arraybuffer:"),this.dispatch(new Uint8Array(D))},_url:function(D){return H("url:"+D.toString())},_map:function(D){return H("map:"),D=Array.from(D),this._array(D,I.unorderedSets!==!1)},_set:function(D){return H("set:"),D=Array.from(D),this._array(D,I.unorderedSets!==!1)},_file:function(D){return H("file:"),this.dispatch([D.name,D.size,D.type,D.lastModfied])},_blob:function(){if(I.ignoreUnknown)return H("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return H("domwindow")},_bigint:function(D){return H("bigint:"+D.toString())},_process:function(){return H("process")},_timer:function(){return H("timer")},_pipe:function(){return H("pipe")},_tcp:function(){return H("tcp")},_udp:function(){return H("udp")},_tty:function(){return H("tty")},_statwatcher:function(){return H("statwatcher")},_securecontext:function(){return H("securecontext")},_connection:function(){return H("connection")},_zlib:function(){return H("zlib")},_context:function(){return H("context")},_nodescript:function(){return H("nodescript")},_httpparser:function(){return H("httpparser")},_dataview:function(){return H("dataview")},_signal:function(){return H("signal")},_fsevent:function(){return H("fsevent")},_tlswrap:function(){return H("tlswrap")}}}function E(){return{buf:"",write:function(I){this.buf+=I},end:function(I){this.buf+=I},read:function(){return this.buf}}}r.writeToStream=function(I,U,N){return N===void 0&&(N=U,U={}),B(U=O(I,U),N).dispatch(I)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){(function(p){"use strict";var l=typeof Uint8Array<"u"?Uint8Array:Array,y="+".charCodeAt(0),_="/".charCodeAt(0),O="0".charCodeAt(0),F="a".charCodeAt(0),B="A".charCodeAt(0),E="-".charCodeAt(0),I="_".charCodeAt(0);function U(N){return N=N.charCodeAt(0),N===y||N===E?62:N===_||N===I?63:N<O?-1:N<O+10?N-O+26+26:N<B+26?N-B:N<F+26?N-F+26:void 0}p.toByteArray=function(N){var H,D;if(0<N.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var C=N.length,C=N.charAt(C-2)==="="?2:N.charAt(C-1)==="="?1:0,d=new l(3*N.length/4-C),v=0<C?N.length-4:N.length,g=0;function m(S){d[g++]=S}for(H=0;H<v;H+=4,0)m((16711680&(D=U(N.charAt(H))<<18|U(N.charAt(H+1))<<12|U(N.charAt(H+2))<<6|U(N.charAt(H+3))))>>16),m((65280&D)>>8),m(255&D);return C==2?m(255&(D=U(N.charAt(H))<<2|U(N.charAt(H+1))>>4)):C==1&&(m((D=U(N.charAt(H))<<10|U(N.charAt(H+1))<<4|U(N.charAt(H+2))>>2)>>8&255),m(255&D)),d},p.fromByteArray=function(N){var H,D,C,d,v=N.length%3,g="";function m(S){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(S)}for(H=0,C=N.length-v;H<C;H+=3)D=(N[H]<<16)+(N[H+1]<<8)+N[H+2],g+=m((d=D)>>18&63)+m(d>>12&63)+m(d>>6&63)+m(63&d);switch(v){case 1:g=(g+=m((D=N[N.length-1])>>2))+m(D<<4&63)+"==";break;case 2:g=(g=(g+=m((D=(N[N.length-2]<<8)+N[N.length-1])>>10))+m(D>>4&63))+m(D<<2&63)+"="}return g}})(r===void 0?this.base64js={}:r)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,e,r){(function(n,i,y,o,a,u,c,h,f){var p=t("base64-js"),l=t("ieee754");function y(j,Z,Q){if(!(this instanceof y))return new y(j,Z,Q);var ne,ue,ge,xe,Pe=typeof j;if(Z==="base64"&&Pe=="string")for(j=(xe=j).trim?xe.trim():xe.replace(/^\s+|\s+$/g,"");j.length%4!=0;)j+="=";if(Pe=="number")ne=R(j);else if(Pe=="string")ne=y.byteLength(j,Z);else{if(Pe!="object")throw new Error("First argument needs to be a number, array or string.");ne=R(j.length)}if(y._useTypedArrays?ue=y._augment(new Uint8Array(ne)):((ue=this).length=ne,ue._isBuffer=!0),y._useTypedArrays&&typeof j.byteLength=="number")ue._set(j);else if(T(xe=j)||y.isBuffer(xe)||xe&&typeof xe=="object"&&typeof xe.length=="number")for(ge=0;ge<ne;ge++)y.isBuffer(j)?ue[ge]=j.readUInt8(ge):ue[ge]=j[ge];else if(Pe=="string")ue.write(j,0,Z);else if(Pe=="number"&&!y._useTypedArrays&&!Q)for(ge=0;ge<ne;ge++)ue[ge]=0;return ue}function _(j,Z,Q,ne){return y._charsWritten=L(function(ue){for(var ge=[],xe=0;xe<ue.length;xe++)ge.push(255&ue.charCodeAt(xe));return ge}(Z),j,Q,ne)}function O(j,Z,Q,ne){return y._charsWritten=L(function(ue){for(var ge,xe,Pe=[],Le=0;Le<ue.length;Le++)xe=ue.charCodeAt(Le),ge=xe>>8,xe=xe%256,Pe.push(xe),Pe.push(ge);return Pe}(Z),j,Q,ne)}function F(j,Z,Q){var ne="";Q=Math.min(j.length,Q);for(var ue=Z;ue<Q;ue++)ne+=String.fromCharCode(j[ue]);return ne}function B(j,Z,Q,ge){ge||(se(typeof Q=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+1<j.length,"Trying to read beyond buffer length"));var ue,ge=j.length;if(!(ge<=Z))return Q?(ue=j[Z],Z+1<ge&&(ue|=j[Z+1]<<8)):(ue=j[Z]<<8,Z+1<ge&&(ue|=j[Z+1])),ue}function E(j,Z,Q,ge){ge||(se(typeof Q=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+3<j.length,"Trying to read beyond buffer length"));var ue,ge=j.length;if(!(ge<=Z))return Q?(Z+2<ge&&(ue=j[Z+2]<<16),Z+1<ge&&(ue|=j[Z+1]<<8),ue|=j[Z],Z+3<ge&&(ue+=j[Z+3]<<24>>>0)):(Z+1<ge&&(ue=j[Z+1]<<16),Z+2<ge&&(ue|=j[Z+2]<<8),Z+3<ge&&(ue|=j[Z+3]),ue+=j[Z]<<24>>>0),ue}function I(j,Z,Q,ne){if(ne||(se(typeof Q=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+1<j.length,"Trying to read beyond buffer length")),!(j.length<=Z))return ne=B(j,Z,Q,!0),32768&ne?-1*(65535-ne+1):ne}function U(j,Z,Q,ne){if(ne||(se(typeof Q=="boolean","missing or invalid endian"),se(Z!=null,"missing offset"),se(Z+3<j.length,"Trying to read beyond buffer length")),!(j.length<=Z))return ne=E(j,Z,Q,!0),2147483648&ne?-1*(4294967295-ne+1):ne}function N(j,Z,Q,ne){return ne||(se(typeof Q=="boolean","missing or invalid endian"),se(Z+3<j.length,"Trying to read beyond buffer length")),l.read(j,Z,Q,23,4)}function H(j,Z,Q,ne){return ne||(se(typeof Q=="boolean","missing or invalid endian"),se(Z+7<j.length,"Trying to read beyond buffer length")),l.read(j,Z,Q,52,8)}function D(j,Z,Q,ne,ue){if(ue||(se(Z!=null,"missing value"),se(typeof ne=="boolean","missing or invalid endian"),se(Q!=null,"missing offset"),se(Q+1<j.length,"trying to write beyond buffer length"),W(Z,65535)),ue=j.length,!(ue<=Q))for(var ge=0,xe=Math.min(ue-Q,2);ge<xe;ge++)j[Q+ge]=(Z&255<<8*(ne?ge:1-ge))>>>8*(ne?ge:1-ge)}function C(j,Z,Q,ne,ue){if(ue||(se(Z!=null,"missing value"),se(typeof ne=="boolean","missing or invalid endian"),se(Q!=null,"missing offset"),se(Q+3<j.length,"trying to write beyond buffer length"),W(Z,4294967295)),ue=j.length,!(ue<=Q))for(var ge=0,xe=Math.min(ue-Q,4);ge<xe;ge++)j[Q+ge]=Z>>>8*(ne?ge:3-ge)&255}function d(j,Z,Q,ne,ue){ue||(se(Z!=null,"missing value"),se(typeof ne=="boolean","missing or invalid endian"),se(Q!=null,"missing offset"),se(Q+1<j.length,"Trying to write beyond buffer length"),ee(Z,32767,-32768)),j.length<=Q||D(j,0<=Z?Z:65535+Z+1,Q,ne,ue)}function v(j,Z,Q,ne,ue){ue||(se(Z!=null,"missing value"),se(typeof ne=="boolean","missing or invalid endian"),se(Q!=null,"missing offset"),se(Q+3<j.length,"Trying to write beyond buffer length"),ee(Z,2147483647,-2147483648)),j.length<=Q||C(j,0<=Z?Z:4294967295+Z+1,Q,ne,ue)}function g(j,Z,Q,ne,ue){ue||(se(Z!=null,"missing value"),se(typeof ne=="boolean","missing or invalid endian"),se(Q!=null,"missing offset"),se(Q+3<j.length,"Trying to write beyond buffer length"),ae(Z,34028234663852886e22,-34028234663852886e22)),j.length<=Q||l.write(j,Z,Q,ne,23,4)}function m(j,Z,Q,ne,ue){ue||(se(Z!=null,"missing value"),se(typeof ne=="boolean","missing or invalid endian"),se(Q!=null,"missing offset"),se(Q+7<j.length,"Trying to write beyond buffer length"),ae(Z,17976931348623157e292,-17976931348623157e292)),j.length<=Q||l.write(j,Z,Q,ne,52,8)}r.Buffer=y,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=function(){try{var j=new ArrayBuffer(0),Z=new Uint8Array(j);return Z.foo=function(){return 42},Z.foo()===42&&typeof Z.subarray=="function"}catch{return!1}}(),y.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(j){return!(j==null||!j._isBuffer)},y.byteLength=function(j,Z){var Q;switch(j+="",Z||"utf8"){case"hex":Q=j.length/2;break;case"utf8":case"utf-8":Q=x(j).length;break;case"ascii":case"binary":case"raw":Q=j.length;break;case"base64":Q=P(j).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Q=2*j.length;break;default:throw new Error("Unknown encoding")}return Q},y.concat=function(j,Z){if(se(T(j),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),j.length===0)return new y(0);if(j.length===1)return j[0];if(typeof Z!="number")for(ue=Z=0;ue<j.length;ue++)Z+=j[ue].length;for(var Q=new y(Z),ne=0,ue=0;ue<j.length;ue++){var ge=j[ue];ge.copy(Q,ne),ne+=ge.length}return Q},y.prototype.write=function(j,Z,Q,ne){isFinite(Z)?isFinite(Q)||(ne=Q,Q=void 0):(Le=ne,ne=Z,Z=Q,Q=Le),Z=Number(Z)||0;var ue,ge,xe,Pe,Le=this.length-Z;switch((!Q||Le<(Q=Number(Q)))&&(Q=Le),ne=String(ne||"utf8").toLowerCase()){case"hex":ue=function(ke,De,Je,Ae){Je=Number(Je)||0;var we=ke.length-Je;(!Ae||we<(Ae=Number(Ae)))&&(Ae=we),se((we=De.length)%2==0,"Invalid hex string"),we/2<Ae&&(Ae=we/2);for(var mt=0;mt<Ae;mt++){var K=parseInt(De.substr(2*mt,2),16);se(!isNaN(K),"Invalid hex string"),ke[Je+mt]=K}return y._charsWritten=2*mt,mt}(this,j,Z,Q);break;case"utf8":case"utf-8":ge=this,xe=Z,Pe=Q,ue=y._charsWritten=L(x(j),ge,xe,Pe);break;case"ascii":case"binary":ue=_(this,j,Z,Q);break;case"base64":ge=this,xe=Z,Pe=Q,ue=y._charsWritten=L(P(j),ge,xe,Pe);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ue=O(this,j,Z,Q);break;default:throw new Error("Unknown encoding")}return ue},y.prototype.toString=function(j,Z,Q){var ne,ue,ge,xe,Pe=this;if(j=String(j||"utf8").toLowerCase(),Z=Number(Z)||0,(Q=Q!==void 0?Number(Q):Pe.length)===Z)return"";switch(j){case"hex":ne=function(Le,ke,De){var Je=Le.length;(!ke||ke<0)&&(ke=0),(!De||De<0||Je<De)&&(De=Je);for(var Ae="",we=ke;we<De;we++)Ae+=b(Le[we]);return Ae}(Pe,Z,Q);break;case"utf8":case"utf-8":ne=function(Le,ke,De){var Je="",Ae="";De=Math.min(Le.length,De);for(var we=ke;we<De;we++)Le[we]<=127?(Je+=V(Ae)+String.fromCharCode(Le[we]),Ae=""):Ae+="%"+Le[we].toString(16);return Je+V(Ae)}(Pe,Z,Q);break;case"ascii":case"binary":ne=F(Pe,Z,Q);break;case"base64":ue=Pe,xe=Q,ne=(ge=Z)===0&&xe===ue.length?p.fromByteArray(ue):p.fromByteArray(ue.slice(ge,xe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ne=function(Le,ke,De){for(var Je=Le.slice(ke,De),Ae="",we=0;we<Je.length;we+=2)Ae+=String.fromCharCode(Je[we]+256*Je[we+1]);return Ae}(Pe,Z,Q);break;default:throw new Error("Unknown encoding")}return ne},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(j,Z,Q,ne){if(Z=Z||0,(ne=ne||ne===0?ne:this.length)!==(Q=Q||0)&&j.length!==0&&this.length!==0){se(Q<=ne,"sourceEnd < sourceStart"),se(0<=Z&&Z<j.length,"targetStart out of bounds"),se(0<=Q&&Q<this.length,"sourceStart out of bounds"),se(0<=ne&&ne<=this.length,"sourceEnd out of bounds"),ne>this.length&&(ne=this.length);var ue=(ne=j.length-Z<ne-Q?j.length-Z+Q:ne)-Q;if(ue<100||!y._useTypedArrays)for(var ge=0;ge<ue;ge++)j[ge+Z]=this[ge+Q];else j._set(this.subarray(Q,Q+ue),Z)}},y.prototype.slice=function(j,Z){var Q=this.length;if(j=w(j,Q,0),Z=w(Z,Q,Q),y._useTypedArrays)return y._augment(this.subarray(j,Z));for(var ne=Z-j,ue=new y(ne,void 0,!0),ge=0;ge<ne;ge++)ue[ge]=this[ge+j];return ue},y.prototype.get=function(j){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(j)},y.prototype.set=function(j,Z){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(j,Z)},y.prototype.readUInt8=function(j,Z){if(Z||(se(j!=null,"missing offset"),se(j<this.length,"Trying to read beyond buffer length")),!(j>=this.length))return this[j]},y.prototype.readUInt16LE=function(j,Z){return B(this,j,!0,Z)},y.prototype.readUInt16BE=function(j,Z){return B(this,j,!1,Z)},y.prototype.readUInt32LE=function(j,Z){return E(this,j,!0,Z)},y.prototype.readUInt32BE=function(j,Z){return E(this,j,!1,Z)},y.prototype.readInt8=function(j,Z){if(Z||(se(j!=null,"missing offset"),se(j<this.length,"Trying to read beyond buffer length")),!(j>=this.length))return 128&this[j]?-1*(255-this[j]+1):this[j]},y.prototype.readInt16LE=function(j,Z){return I(this,j,!0,Z)},y.prototype.readInt16BE=function(j,Z){return I(this,j,!1,Z)},y.prototype.readInt32LE=function(j,Z){return U(this,j,!0,Z)},y.prototype.readInt32BE=function(j,Z){return U(this,j,!1,Z)},y.prototype.readFloatLE=function(j,Z){return N(this,j,!0,Z)},y.prototype.readFloatBE=function(j,Z){return N(this,j,!1,Z)},y.prototype.readDoubleLE=function(j,Z){return H(this,j,!0,Z)},y.prototype.readDoubleBE=function(j,Z){return H(this,j,!1,Z)},y.prototype.writeUInt8=function(j,Z,Q){Q||(se(j!=null,"missing value"),se(Z!=null,"missing offset"),se(Z<this.length,"trying to write beyond buffer length"),W(j,255)),Z>=this.length||(this[Z]=j)},y.prototype.writeUInt16LE=function(j,Z,Q){D(this,j,Z,!0,Q)},y.prototype.writeUInt16BE=function(j,Z,Q){D(this,j,Z,!1,Q)},y.prototype.writeUInt32LE=function(j,Z,Q){C(this,j,Z,!0,Q)},y.prototype.writeUInt32BE=function(j,Z,Q){C(this,j,Z,!1,Q)},y.prototype.writeInt8=function(j,Z,Q){Q||(se(j!=null,"missing value"),se(Z!=null,"missing offset"),se(Z<this.length,"Trying to write beyond buffer length"),ee(j,127,-128)),Z>=this.length||(0<=j?this.writeUInt8(j,Z,Q):this.writeUInt8(255+j+1,Z,Q))},y.prototype.writeInt16LE=function(j,Z,Q){d(this,j,Z,!0,Q)},y.prototype.writeInt16BE=function(j,Z,Q){d(this,j,Z,!1,Q)},y.prototype.writeInt32LE=function(j,Z,Q){v(this,j,Z,!0,Q)},y.prototype.writeInt32BE=function(j,Z,Q){v(this,j,Z,!1,Q)},y.prototype.writeFloatLE=function(j,Z,Q){g(this,j,Z,!0,Q)},y.prototype.writeFloatBE=function(j,Z,Q){g(this,j,Z,!1,Q)},y.prototype.writeDoubleLE=function(j,Z,Q){m(this,j,Z,!0,Q)},y.prototype.writeDoubleBE=function(j,Z,Q){m(this,j,Z,!1,Q)},y.prototype.fill=function(j,Z,Q){if(Z=Z||0,Q=Q||this.length,se(typeof(j=typeof(j=j||0)=="string"?j.charCodeAt(0):j)=="number"&&!isNaN(j),"value is not a number"),se(Z<=Q,"end < start"),Q!==Z&&this.length!==0){se(0<=Z&&Z<this.length,"start out of bounds"),se(0<=Q&&Q<=this.length,"end out of bounds");for(var ne=Z;ne<Q;ne++)this[ne]=j}},y.prototype.inspect=function(){for(var j=[],Z=this.length,Q=0;Q<Z;Q++)if(j[Q]=b(this[Q]),Q===r.INSPECT_MAX_BYTES){j[Q+1]="...";break}return"<Buffer "+j.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var j=new Uint8Array(this.length),Z=0,Q=j.length;Z<Q;Z+=1)j[Z]=this[Z];return j.buffer};var S=y.prototype;function w(j,Z,Q){return typeof j!="number"?Q:Z<=(j=~~j)?Z:0<=j||0<=(j+=Z)?j:0}function R(j){return(j=~~Math.ceil(+j))<0?0:j}function T(j){return(Array.isArray||function(Z){return Object.prototype.toString.call(Z)==="[object Array]"})(j)}function b(j){return j<16?"0"+j.toString(16):j.toString(16)}function x(j){for(var Z=[],Q=0;Q<j.length;Q++){var ne=j.charCodeAt(Q);if(ne<=127)Z.push(j.charCodeAt(Q));else for(var ue=Q,ge=(55296<=ne&&ne<=57343&&Q++,encodeURIComponent(j.slice(ue,Q+1)).substr(1).split("%")),xe=0;xe<ge.length;xe++)Z.push(parseInt(ge[xe],16))}return Z}function P(j){return p.toByteArray(j)}function L(j,Z,Q,ne){for(var ue=0;ue<ne&&!(ue+Q>=Z.length||ue>=j.length);ue++)Z[ue+Q]=j[ue];return ue}function V(j){try{return decodeURIComponent(j)}catch{return String.fromCharCode(65533)}}function W(j,Z){se(typeof j=="number","cannot write a non-number as a number"),se(0<=j,"specified a negative value for writing an unsigned value"),se(j<=Z,"value is larger than maximum value for type"),se(Math.floor(j)===j,"value has a fractional component")}function ee(j,Z,Q){se(typeof j=="number","cannot write a non-number as a number"),se(j<=Z,"value larger than maximum allowed value"),se(Q<=j,"value smaller than minimum allowed value"),se(Math.floor(j)===j,"value has a fractional component")}function ae(j,Z,Q){se(typeof j=="number","cannot write a non-number as a number"),se(j<=Z,"value larger than maximum allowed value"),se(Q<=j,"value smaller than minimum allowed value")}function se(j,Z){if(!j)throw new Error(Z||"Failed assertion")}y._augment=function(j){return j._isBuffer=!0,j._get=j.get,j._set=j.set,j.get=S.get,j.set=S.set,j.write=S.write,j.toString=S.toString,j.toLocaleString=S.toString,j.toJSON=S.toJSON,j.copy=S.copy,j.slice=S.slice,j.readUInt8=S.readUInt8,j.readUInt16LE=S.readUInt16LE,j.readUInt16BE=S.readUInt16BE,j.readUInt32LE=S.readUInt32LE,j.readUInt32BE=S.readUInt32BE,j.readInt8=S.readInt8,j.readInt16LE=S.readInt16LE,j.readInt16BE=S.readInt16BE,j.readInt32LE=S.readInt32LE,j.readInt32BE=S.readInt32BE,j.readFloatLE=S.readFloatLE,j.readFloatBE=S.readFloatBE,j.readDoubleLE=S.readDoubleLE,j.readDoubleBE=S.readDoubleBE,j.writeUInt8=S.writeUInt8,j.writeUInt16LE=S.writeUInt16LE,j.writeUInt16BE=S.writeUInt16BE,j.writeUInt32LE=S.writeUInt32LE,j.writeUInt32BE=S.writeUInt32BE,j.writeInt8=S.writeInt8,j.writeInt16LE=S.writeInt16LE,j.writeInt16BE=S.writeInt16BE,j.writeInt32LE=S.writeInt32LE,j.writeInt32BE=S.writeInt32BE,j.writeFloatLE=S.writeFloatLE,j.writeFloatBE=S.writeFloatBE,j.writeDoubleLE=S.writeDoubleLE,j.writeDoubleBE=S.writeDoubleBE,j.fill=S.fill,j.inspect=S.inspect,j.toArrayBuffer=S.toArrayBuffer,j}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,e,r){(function(n,i,p,o,a,u,c,h,f){var p=t("buffer").Buffer,l=4,y=new p(l);y.fill(0),e.exports={hash:function(_,O,F,B){for(var E=O(function(D,C){D.length%l!=0&&(d=D.length+(l-D.length%l),D=p.concat([D,y],d));for(var d,v=[],g=C?D.readInt32BE:D.readInt32LE,m=0;m<D.length;m+=l)v.push(g.call(D,m));return v}(_=p.isBuffer(_)?_:new p(_),B),8*_.length),O=B,I=new p(F),U=O?I.writeInt32BE:I.writeInt32LE,N=0;N<E.length;N++)U.call(I,E[N],4*N,!0);return I}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,e,r){(function(n,i,p,o,a,u,c,h,f){var p=t("buffer").Buffer,l=t("./sha"),y=t("./sha256"),_=t("./rng"),O={sha1:l,sha256:y,md5:t("./md5")},F=64,B=new p(F);function E(D,C){var d=O[D=D||"sha1"],v=[];return d||I("algorithm:",D,"is not yet supported"),{update:function(g){return p.isBuffer(g)||(g=new p(g)),v.push(g),g.length,this},digest:function(g){var m=p.concat(v),m=C?function(S,w,R){p.isBuffer(w)||(w=new p(w)),p.isBuffer(R)||(R=new p(R)),w.length>F?w=S(w):w.length<F&&(w=p.concat([w,B],F));for(var T=new p(F),b=new p(F),x=0;x<F;x++)T[x]=54^w[x],b[x]=92^w[x];return R=S(p.concat([T,R])),S(p.concat([b,R]))}(d,C,m):d(m);return v=null,g?m.toString(g):m}}}function I(){var D=[].slice.call(arguments).join(" ");throw new Error([D,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}B.fill(0),r.createHash=function(D){return E(D)},r.createHmac=E,r.randomBytes=function(D,C){if(!C||!C.call)return new p(_(D));try{C.call(this,void 0,new p(_(D)))}catch(d){C(d)}};var U,N=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],H=function(D){r[D]=function(){I("sorry,",D,"is not implemented yet")}};for(U in N)H(N[U],U)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p=t("./helpers");function l(I,U){I[U>>5]|=128<<U%32,I[14+(U+64>>>9<<4)]=U;for(var N=1732584193,H=-271733879,D=-1732584194,C=271733878,d=0;d<I.length;d+=16){var v=N,g=H,m=D,S=C,N=_(N,H,D,C,I[d+0],7,-680876936),C=_(C,N,H,D,I[d+1],12,-389564586),D=_(D,C,N,H,I[d+2],17,606105819),H=_(H,D,C,N,I[d+3],22,-1044525330);N=_(N,H,D,C,I[d+4],7,-176418897),C=_(C,N,H,D,I[d+5],12,1200080426),D=_(D,C,N,H,I[d+6],17,-1473231341),H=_(H,D,C,N,I[d+7],22,-45705983),N=_(N,H,D,C,I[d+8],7,1770035416),C=_(C,N,H,D,I[d+9],12,-1958414417),D=_(D,C,N,H,I[d+10],17,-42063),H=_(H,D,C,N,I[d+11],22,-1990404162),N=_(N,H,D,C,I[d+12],7,1804603682),C=_(C,N,H,D,I[d+13],12,-40341101),D=_(D,C,N,H,I[d+14],17,-1502002290),N=O(N,H=_(H,D,C,N,I[d+15],22,1236535329),D,C,I[d+1],5,-165796510),C=O(C,N,H,D,I[d+6],9,-1069501632),D=O(D,C,N,H,I[d+11],14,643717713),H=O(H,D,C,N,I[d+0],20,-373897302),N=O(N,H,D,C,I[d+5],5,-701558691),C=O(C,N,H,D,I[d+10],9,38016083),D=O(D,C,N,H,I[d+15],14,-660478335),H=O(H,D,C,N,I[d+4],20,-405537848),N=O(N,H,D,C,I[d+9],5,568446438),C=O(C,N,H,D,I[d+14],9,-1019803690),D=O(D,C,N,H,I[d+3],14,-187363961),H=O(H,D,C,N,I[d+8],20,1163531501),N=O(N,H,D,C,I[d+13],5,-1444681467),C=O(C,N,H,D,I[d+2],9,-51403784),D=O(D,C,N,H,I[d+7],14,1735328473),N=F(N,H=O(H,D,C,N,I[d+12],20,-1926607734),D,C,I[d+5],4,-378558),C=F(C,N,H,D,I[d+8],11,-2022574463),D=F(D,C,N,H,I[d+11],16,1839030562),H=F(H,D,C,N,I[d+14],23,-35309556),N=F(N,H,D,C,I[d+1],4,-1530992060),C=F(C,N,H,D,I[d+4],11,1272893353),D=F(D,C,N,H,I[d+7],16,-155497632),H=F(H,D,C,N,I[d+10],23,-1094730640),N=F(N,H,D,C,I[d+13],4,681279174),C=F(C,N,H,D,I[d+0],11,-358537222),D=F(D,C,N,H,I[d+3],16,-722521979),H=F(H,D,C,N,I[d+6],23,76029189),N=F(N,H,D,C,I[d+9],4,-640364487),C=F(C,N,H,D,I[d+12],11,-421815835),D=F(D,C,N,H,I[d+15],16,530742520),N=B(N,H=F(H,D,C,N,I[d+2],23,-995338651),D,C,I[d+0],6,-198630844),C=B(C,N,H,D,I[d+7],10,1126891415),D=B(D,C,N,H,I[d+14],15,-1416354905),H=B(H,D,C,N,I[d+5],21,-57434055),N=B(N,H,D,C,I[d+12],6,1700485571),C=B(C,N,H,D,I[d+3],10,-1894986606),D=B(D,C,N,H,I[d+10],15,-1051523),H=B(H,D,C,N,I[d+1],21,-2054922799),N=B(N,H,D,C,I[d+8],6,1873313359),C=B(C,N,H,D,I[d+15],10,-30611744),D=B(D,C,N,H,I[d+6],15,-1560198380),H=B(H,D,C,N,I[d+13],21,1309151649),N=B(N,H,D,C,I[d+4],6,-145523070),C=B(C,N,H,D,I[d+11],10,-1120210379),D=B(D,C,N,H,I[d+2],15,718787259),H=B(H,D,C,N,I[d+9],21,-343485551),N=E(N,v),H=E(H,g),D=E(D,m),C=E(C,S)}return Array(N,H,D,C)}function y(I,U,N,H,D,C){return E((U=E(E(U,I),E(H,C)))<<D|U>>>32-D,N)}function _(I,U,N,H,D,C,d){return y(U&N|~U&H,I,U,D,C,d)}function O(I,U,N,H,D,C,d){return y(U&H|N&~H,I,U,D,C,d)}function F(I,U,N,H,D,C,d){return y(U^N^H,I,U,D,C,d)}function B(I,U,N,H,D,C,d){return y(N^(U|~H),I,U,D,C,d)}function E(I,U){var N=(65535&I)+(65535&U);return(I>>16)+(U>>16)+(N>>16)<<16|65535&N}e.exports=function(I){return p.hash(I,l,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p;e.exports=p||function(l){for(var y,_=new Array(l),O=0;O<l;O++)(3&O)==0&&(y=4294967296*Math.random()),_[O]=y>>>((3&O)<<3)&255;return _}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p=t("./helpers");function l(O,F){O[F>>5]|=128<<24-F%32,O[15+(F+64>>9<<4)]=F;for(var B,E,I,U=Array(80),N=1732584193,H=-271733879,D=-1732584194,C=271733878,d=-1009589776,v=0;v<O.length;v+=16){for(var g=N,m=H,S=D,w=C,R=d,T=0;T<80;T++){U[T]=T<16?O[v+T]:_(U[T-3]^U[T-8]^U[T-14]^U[T-16],1);var b=y(y(_(N,5),(b=H,E=D,I=C,(B=T)<20?b&E|~b&I:!(B<40)&&B<60?b&E|b&I|E&I:b^E^I)),y(y(d,U[T]),(B=T)<20?1518500249:B<40?1859775393:B<60?-1894007588:-899497514)),d=C,C=D,D=_(H,30),H=N,N=b}N=y(N,g),H=y(H,m),D=y(D,S),C=y(C,w),d=y(d,R)}return Array(N,H,D,C,d)}function y(O,F){var B=(65535&O)+(65535&F);return(O>>16)+(F>>16)+(B>>16)<<16|65535&B}function _(O,F){return O<<F|O>>>32-F}e.exports=function(O){return p.hash(O,l,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){function p(F,B){var E=(65535&F)+(65535&B);return(F>>16)+(B>>16)+(E>>16)<<16|65535&E}function l(F,B){var E,I=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),U=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),N=new Array(64);F[B>>5]|=128<<24-B%32,F[15+(B+64>>9<<4)]=B;for(var H,D,C=0;C<F.length;C+=16){for(var d=U[0],v=U[1],g=U[2],m=U[3],S=U[4],w=U[5],R=U[6],T=U[7],b=0;b<64;b++)N[b]=b<16?F[b+C]:p(p(p((D=N[b-2],_(D,17)^_(D,19)^O(D,10)),N[b-7]),(D=N[b-15],_(D,7)^_(D,18)^O(D,3))),N[b-16]),E=p(p(p(p(T,_(D=S,6)^_(D,11)^_(D,25)),S&w^~S&R),I[b]),N[b]),H=p(_(H=d,2)^_(H,13)^_(H,22),d&v^d&g^v&g),T=R,R=w,w=S,S=p(m,E),m=g,g=v,v=d,d=p(E,H);U[0]=p(d,U[0]),U[1]=p(v,U[1]),U[2]=p(g,U[2]),U[3]=p(m,U[3]),U[4]=p(S,U[4]),U[5]=p(w,U[5]),U[6]=p(R,U[6]),U[7]=p(T,U[7])}return U}var y=t("./helpers"),_=function(F,B){return F>>>B|F<<32-B},O=function(F,B){return F>>>B};e.exports=function(F){return y.hash(F,l,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){r.read=function(p,l,y,_,C){var F,B,E=8*C-_-1,I=(1<<E)-1,U=I>>1,N=-7,H=y?C-1:0,D=y?-1:1,C=p[l+H];for(H+=D,F=C&(1<<-N)-1,C>>=-N,N+=E;0<N;F=256*F+p[l+H],H+=D,N-=8);for(B=F&(1<<-N)-1,F>>=-N,N+=_;0<N;B=256*B+p[l+H],H+=D,N-=8);if(F===0)F=1-U;else{if(F===I)return B?NaN:1/0*(C?-1:1);B+=Math.pow(2,_),F-=U}return(C?-1:1)*B*Math.pow(2,F-_)},r.write=function(p,l,y,_,O,d){var B,E,I=8*d-O-1,U=(1<<I)-1,N=U>>1,H=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=_?0:d-1,C=_?1:-1,d=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(E=isNaN(l)?1:0,B=U):(B=Math.floor(Math.log(l)/Math.LN2),l*(_=Math.pow(2,-B))<1&&(B--,_*=2),2<=(l+=1<=B+N?H/_:H*Math.pow(2,1-N))*_&&(B++,_/=2),U<=B+N?(E=0,B=U):1<=B+N?(E=(l*_-1)*Math.pow(2,O),B+=N):(E=l*Math.pow(2,N-1)*Math.pow(2,O),B=0));8<=O;p[y+D]=255&E,D+=C,E/=256,O-=8);for(B=B<<O|E,I+=O;0<I;p[y+D]=255&B,D+=C,B/=256,I-=8);p[y+D-C]|=128*d}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,e,r){(function(n,i,s,o,a,u,c,h,f){var p,l,y;function _(){}(n=e.exports={}).nextTick=(l=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,l?function(O){return window.setImmediate(O)}:y?(p=[],window.addEventListener("message",function(O){var F=O.source;F!==window&&F!==null||O.data!=="process-tick"||(O.stopPropagation(),0<p.length&&p.shift()())},!0),function(O){p.push(O),window.postMessage("process-tick","*")}):function(O){setTimeout(O,0)}),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.binding=function(O){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(O){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})});var k6=$(Un=>{k();M();var L1e=Un&&Un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Un,"__esModule",{value:!0});Un.checkTxFee=Un.fromByteString=Un.camelCaseCapitalized=Un.alterFileExt=Un.isInNodeEnv=Un.mapIter=Un.findSigs=Un.findSig=Un.toNumber=Un.getDummySig=void 0;var q1e=L1e(Ro()),d0=nr(),$1e=pl();function j1e(){return new Array(72*2).fill(0).join("")}Un.getDummySig=j1e;function K1e(t){return parseInt("0x"+t)}Un.toNumber=K1e;function V1e(t,e,r=d0.DEFAULT_SIGHASH_TYPE){return PL(t,[{pubKeyOrAddr:e,sigHashType:r}])[0]}Un.findSig=V1e;function PL(t,e){return e.map(r=>{let n,i;return r instanceof d0.bsv.Address||r instanceof d0.bsv.PublicKey?(n=r,i=d0.DEFAULT_SIGHASH_TYPE):(n=r.pubKeyOrAddr,i=r.sigHashType||d0.DEFAULT_SIGHASH_TYPE),Array.from([n]).flat().map(s=>{let o=t.find(a=>(a.publicKey===s.toString()||d0.bsv.PublicKey.fromString(a.publicKey).toAddress(d0.bsv.Networks.testnet).toString()===s.toString()||d0.bsv.PublicKey.fromString(a.publicKey).toAddress(d0.bsv.Networks.livenet).toString()===s.toString())&&a.sigHashType===i);if(!o){let a=s instanceof d0.bsv.Address?"address":"public key";throw new Error(`cannot find signature for ${a} \`${s.toString()}\` in sigResponses`)}return(0,$1e.Sig)(o.sig)})}).flat()}Un.findSigs=PL;function*G1e(t,e){for(let r of t)yield e(r)}Un.mapIter=G1e;function z1e(){return typeof q<"u"}Un.isInNodeEnv=z1e;function W1e(t,e,r){let n=r||q1e.default.extname(t),i=new RegExp(`${n}$`);return t.replace(i,"."+e)}Un.alterFileExt=W1e;function Y1e(t){return t.substring(0,1).toUpperCase()+t.substring(1)}Un.camelCaseCapitalized=Y1e;function X1e(t){return new TextDecoder().decode(A.Buffer.from(t,"hex"))}Un.fromByteString=X1e;function Z1e(t,e){let r=t.getUnspentValue(),n=t.getEstimateSize(),i=Math.max(1,Math.ceil(n/1e3*e));return r>=i}Un.checkTxFee=Z1e});var Jw=$(R6=>{k();M();var J1e=R6&&R6.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(R6,"__esModule",{value:!0});R6.HashedMap=void 0;var Q1e=nr(),M6=J1e(Yw()),e7e=Xb(),Xw=k6(),Zw=class extends Map{constructor(e){super(e)}set(e,r){let n={originalKey:e,value:r};return Map.prototype.set.call(this,(0,M6.default)(e),n),this._traceAccess(e),this}get(e){let r=Map.prototype.get.call(this,(0,M6.default)(e));return r?.value}has(e){return this._traceAccess(e),Map.prototype.has.call(this,(0,M6.default)(e))}delete(e){return this._traceAccess(e),Map.prototype.delete.call(this,(0,M6.default)(e))}forEach(e,r){Map.prototype.forEach.call(this,(n,i,s)=>{let o=n;e(o.value,o.originalKey,s)},r)}entries(){return(0,Xw.mapIter)(Map.prototype.entries.call(this),([e,r])=>[r.originalKey,r.value])}keys(){let e=this;return(0,Xw.mapIter)(Map.prototype.keys.call(this),r=>Map.prototype.get.call(e,r).originalKey)}values(){return(0,Xw.mapIter)(Map.prototype.values.call(this),e=>e.value)}[Symbol.iterator](){return this.entries()}canGet(e,r){this._traceAccess(e);let n=this.get(e);return typeof n<"u"?(0,M6.default)(n)===(0,M6.default)(r):!1}attachTo(e,r){let[n,i]=(0,Q1e.parseGenericType)(e);this._keyType=i[0],this._valueType=i[1],this._DelegateClazz=r,this._type=e,this._tracer=new e7e.SortedItemAccessTracer(this._keyType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._keyType!==void 0&&this._valueType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.keys())}};R6.HashedMap=Zw});var OL=$(N6=>{k();M();var t7e=N6&&N6.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(N6,"__esModule",{value:!0});N6.HashedSet=void 0;var r7e=nr(),n7e=Xb(),Qw=t7e(Yw()),eE=class extends Set{constructor(e){super(e),this._map=new Map}add(e){let r=(0,Qw.default)(e);return this._map=this._map||new Map,this._map.has(r)||(Set.prototype.add.call(this,e),this._map.set(r,e)),this._traceAccess(e),this}delete(e){this._traceAccess(e);let r=(0,Qw.default)(e),n=this._map.get(r);return this._map.delete(r),Set.prototype.delete.call(this,n)}has(e){this._traceAccess(e);let r=(0,Qw.default)(e),n=this._map.get(r);return Set.prototype.has.call(this,n)}attachTo(e,r){let[n,i]=(0,r7e.parseGenericType)(e);this._elemType=i[0],this._DelegateClazz=r,this._type=e,this._tracer=new n7e.SortedItemAccessTracer(this._elemType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._elemType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.values())}};N6.HashedSet=eE});var pl=$(Mr=>{k();M();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.equals=Mr.toByteString=Mr.Sha256=Mr.Sha1=Mr.Addr=Mr.PubKeyHash=Mr.Ripemd160=Mr.Sig=Mr.PubKey=Mr.SigHashType=Mr.OpCodeType=Mr.PrivKey=Mr.SigHashPreimage=Mr.HashedSet=Mr.HashedMap=Mr.instanceOfSIATraceable=void 0;var i7e=nr(),cc=nr();Object.defineProperty(Mr,"SigHashPreimage",{enumerable:!0,get:function(){return cc.SigHashPreimage}});Object.defineProperty(Mr,"PrivKey",{enumerable:!0,get:function(){return cc.PrivKey}});Object.defineProperty(Mr,"OpCodeType",{enumerable:!0,get:function(){return cc.OpCodeType}});Object.defineProperty(Mr,"SigHashType",{enumerable:!0,get:function(){return cc.SigHashType}});var s7e=Xb();Object.defineProperty(Mr,"instanceOfSIATraceable",{enumerable:!0,get:function(){return s7e.instanceOfSIATraceable}});var o7e=Jw();Object.defineProperty(Mr,"HashedMap",{enumerable:!0,get:function(){return o7e.HashedMap}});var a7e=OL();Object.defineProperty(Mr,"HashedSet",{enumerable:!0,get:function(){return a7e.HashedSet}});function u7e(t){return(0,cc.PubKey)(t)}Mr.PubKey=u7e;function c7e(t){return(0,cc.Sig)(t)}Mr.Sig=c7e;function f7e(t){return(0,cc.Ripemd160)(t)}Mr.Ripemd160=f7e;function h7e(t){return(0,cc.PubKeyHash)(t)}Mr.PubKeyHash=h7e;function l7e(t){return(0,cc.PubKeyHash)(t)}Mr.Addr=l7e;function d7e(t){return(0,cc.Sha1)(t)}Mr.Sha1=d7e;function p7e(t){return(0,cc.Sha256)(t)}Mr.Sha256=p7e;function m7e(t,e=!1){if(e===!0)return(0,i7e.stringToBytes)(t);if(t.length%2!==0)throw new Error("hex literal length must be even");return t}Mr.toByteString=m7e;function g7e(t,e){if(Array.isArray(t[0])){let r=[];for(let n=0;n<t.length;n++)r.push(Zb(t[n],e[n]));for(let n=0;n<r.length;n++)if(!r[n])return!1;return!0}if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Zb(t[r],e[r]))return!1;return!0}function b7e(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;let i=[];for(let s=0;s<r.length;s++)i.push(Zb(t[r[s]],e[n[s]]));for(let s=0;s<i.length;s++)if(!i[s])return!1;return!0}function Zb(t,e){return Array.isArray(t)&&Array.isArray(e)?g7e(t,e):typeof t=="object"&&typeof e=="object"?b7e(t,e):t===e}Mr.equals=Zb});var $p=$(Ke=>{k();M();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.Constants=Ke.Tx=Ke.VarIntWriter=Ke.VarIntReader=Ke.SigHash=Ke.Utils=Ke.OpCode=Ke.asm=Ke.rshift=Ke.lshift=Ke.assert=Ke.pubKey2Addr=Ke.hash256=Ke.hash160=Ke.sha256=Ke.sha1=Ke.ripemd160=Ke.within=Ke.max=Ke.min=Ke.abs=Ke.exit=Ke.reverseByteString=Ke.len=Ke.byteString2Int=Ke.int2ByteString=Ke.fill=Ke.slice=Ke.getSortedItem=Ke.invert=Ke.or=Ke.xor=Ke.and=void 0;var Be=nr(),fe=pl(),y7e=Er(),e9=nr();Object.defineProperty(Ke,"and",{enumerable:!0,get:function(){return e9.and}});Object.defineProperty(Ke,"xor",{enumerable:!0,get:function(){return e9.xor}});Object.defineProperty(Ke,"or",{enumerable:!0,get:function(){return e9.or}});Object.defineProperty(Ke,"invert",{enumerable:!0,get:function(){return e9.invert}});Object.defineProperty(Ke,"getSortedItem",{enumerable:!0,get:function(){return e9.getSortedItem}});function v7e(t,e,r){let n=Number(e)*2,i=typeof r=="bigint"?Number(r)*2:t.length;if(n<0||i<0)throw new Error("index should not be negative");if(typeof r=="bigint"&&n>i)throw new Error("start index should be less than or equal to end index");if(n>t.length)throw new Error("start index should not be greater than the length");if(i>t.length)throw new Error("end index should not be greater than the length");return t.slice(n,i)}Ke.slice=v7e;function _7e(t,e){return Array(e).fill(0).map(r=>(0,y7e.cloneDeep)(t))}Ke.fill=_7e;function du(t,e){return e===void 0?new Be.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex"):(0,Be.num2bin)(t,Number(e))}Ke.int2ByteString=du;function F6(t){return BigInt((0,Be.bin2num)(t))}Ke.byteString2Int=F6;function lo(t){return BigInt(t.length/2)}Ke.len=lo;function tE(t,e){let r=lo(t);if(r!=e)throw new Error(`reverseByteString error, expected c = ${r}`);return t.match(/[a-fA-F0-9]{2}/g).reverse().join("")}Ke.reverseByteString=tE;function x7e(t){}Ke.exit=x7e;function S7e(t){return t<0?-t:t}Ke.abs=S7e;function w7e(t,e){return t-e<0?t:e}Ke.min=w7e;function E7e(t,e){return t-e>0?t:e}Ke.max=E7e;function T7e(t,e,r){return e-t<=0&&t-r<0}Ke.within=T7e;function A7e(t){return(0,Be.Ripemd160)(Be.bsv.crypto.Hash.ripemd160(A.Buffer.from(t,"hex")).toString("hex"))}Ke.ripemd160=A7e;function I7e(t){return(0,Be.Sha1)(Be.bsv.crypto.Hash.sha1(A.Buffer.from(t,"hex")).toString("hex"))}Ke.sha1=I7e;function rE(t){return(0,Be.Sha256)(Be.bsv.crypto.Hash.sha256(A.Buffer.from(t,"hex")).toString("hex"))}Ke.sha256=rE;function BL(t){return(0,Be.Ripemd160)(Be.bsv.crypto.Hash.sha256ripemd160(A.Buffer.from(t,"hex")).toString("hex"))}Ke.hash160=BL;function P7e(t){return rE(rE(t))}Ke.hash256=P7e;function O7e(t){return BL(t)}Ke.pubKey2Addr=O7e;function t9(t,e){if(!t){let r="Execution failed"+(e?`, ${e}`:"");throw new Error(r)}}Ke.assert=t9;function B7e(t,e){let r=(0,Be.Int)(1);for(let n=0,i=e;n<i;n++)r*=t;return r}function CL(t){return B7e((0,Be.Int)(2),t)}function C7e(t,e){return t9(e>=0,"n < 0"),t*CL(e)}Ke.lshift=C7e;function k7e(t,e){t9(e>=0,"n < 0");let r=t/CL(e);return e==(0,Be.Int)(0)?t:t%(0,Be.Int)(2)==(0,Be.Int)(-1)?r-(0,Be.Int)(1):t<(0,Be.Int)(0)&&r==(0,Be.Int)(0)?(0,Be.Int)(-1):r}Ke.rshift=k7e;function M7e(t){throw new Error("unimplemented")}Ke.asm=M7e;var _e=class{};Ke.OpCode=_e;_e.OP_0=(0,fe.OpCodeType)("00");_e.OP_FALSE=(0,fe.OpCodeType)("00");_e.OP_PUSHDATA1=(0,fe.OpCodeType)("4c");_e.OP_PUSHDATA2=(0,fe.OpCodeType)("4d");_e.OP_PUSHDATA4=(0,fe.OpCodeType)("4e");_e.OP_1NEGATE=(0,fe.OpCodeType)("4f");_e.OP_RESERVED=(0,fe.OpCodeType)("50");_e.OP_1=(0,fe.OpCodeType)("51");_e.OP_TRUE=(0,fe.OpCodeType)("51");_e.OP_2=(0,fe.OpCodeType)("52");_e.OP_3=(0,fe.OpCodeType)("53");_e.OP_4=(0,fe.OpCodeType)("54");_e.OP_5=(0,fe.OpCodeType)("55");_e.OP_6=(0,fe.OpCodeType)("56");_e.OP_7=(0,fe.OpCodeType)("57");_e.OP_8=(0,fe.OpCodeType)("58");_e.OP_9=(0,fe.OpCodeType)("59");_e.OP_10=(0,fe.OpCodeType)("5a");_e.OP_11=(0,fe.OpCodeType)("5b");_e.OP_12=(0,fe.OpCodeType)("5c");_e.OP_13=(0,fe.OpCodeType)("5d");_e.OP_14=(0,fe.OpCodeType)("5e");_e.OP_15=(0,fe.OpCodeType)("5f");_e.OP_16=(0,fe.OpCodeType)("60");_e.OP_NOP=(0,fe.OpCodeType)("61");_e.OP_VER=(0,fe.OpCodeType)("62");_e.OP_IF=(0,fe.OpCodeType)("63");_e.OP_NOTIF=(0,fe.OpCodeType)("64");_e.OP_VERIF=(0,fe.OpCodeType)("65");_e.OP_VERNOTIF=(0,fe.OpCodeType)("66");_e.OP_ELSE=(0,fe.OpCodeType)("67");_e.OP_ENDIF=(0,fe.OpCodeType)("68");_e.OP_VERIFY=(0,fe.OpCodeType)("69");_e.OP_RETURN=(0,fe.OpCodeType)("6a");_e.OP_TOALTSTACK=(0,fe.OpCodeType)("6b");_e.OP_FROMALTSTACK=(0,fe.OpCodeType)("6c");_e.OP_2DROP=(0,fe.OpCodeType)("6d");_e.OP_2DUP=(0,fe.OpCodeType)("6e");_e.OP_3DUP=(0,fe.OpCodeType)("6f");_e.OP_2OVER=(0,fe.OpCodeType)("70");_e.OP_2ROT=(0,fe.OpCodeType)("71");_e.OP_2SWAP=(0,fe.OpCodeType)("72");_e.OP_IFDUP=(0,fe.OpCodeType)("73");_e.OP_DEPTH=(0,fe.OpCodeType)("74");_e.OP_DROP=(0,fe.OpCodeType)("75");_e.OP_DUP=(0,fe.OpCodeType)("76");_e.OP_NIP=(0,fe.OpCodeType)("77");_e.OP_OVER=(0,fe.OpCodeType)("78");_e.OP_PICK=(0,fe.OpCodeType)("79");_e.OP_ROLL=(0,fe.OpCodeType)("7a");_e.OP_ROT=(0,fe.OpCodeType)("7b");_e.OP_SWAP=(0,fe.OpCodeType)("7c");_e.OP_TUCK=(0,fe.OpCodeType)("7d");_e.OP_CAT=(0,fe.OpCodeType)("7e");_e.OP_SPLIT=(0,fe.OpCodeType)("7f");_e.OP_NUM2BIN=(0,fe.OpCodeType)("80");_e.OP_BIN2NUM=(0,fe.OpCodeType)("81");_e.OP_SIZE=(0,fe.OpCodeType)("82");_e.OP_INVERT=(0,fe.OpCodeType)("83");_e.OP_AND=(0,fe.OpCodeType)("84");_e.OP_OR=(0,fe.OpCodeType)("85");_e.OP_XOR=(0,fe.OpCodeType)("86");_e.OP_EQUAL=(0,fe.OpCodeType)("87");_e.OP_EQUALVERIFY=(0,fe.OpCodeType)("88");_e.OP_RESERVED1=(0,fe.OpCodeType)("89");_e.OP_RESERVED2=(0,fe.OpCodeType)("8a");_e.OP_1ADD=(0,fe.OpCodeType)("8b");_e.OP_1SUB=(0,fe.OpCodeType)("8c");_e.OP_2MUL=(0,fe.OpCodeType)("8d");_e.OP_2DIV=(0,fe.OpCodeType)("8e");_e.OP_NEGATE=(0,fe.OpCodeType)("8f");_e.OP_ABS=(0,fe.OpCodeType)("90");_e.OP_NOT=(0,fe.OpCodeType)("91");_e.OP_0NOTEQUAL=(0,fe.OpCodeType)("92");_e.OP_ADD=(0,fe.OpCodeType)("93");_e.OP_SUB=(0,fe.OpCodeType)("94");_e.OP_MUL=(0,fe.OpCodeType)("95");_e.OP_DIV=(0,fe.OpCodeType)("96");_e.OP_MOD=(0,fe.OpCodeType)("97");_e.OP_LSHIFT=(0,fe.OpCodeType)("98");_e.OP_RSHIFT=(0,fe.OpCodeType)("99");_e.OP_BOOLAND=(0,fe.OpCodeType)("9a");_e.OP_BOOLOR=(0,fe.OpCodeType)("9b");_e.OP_NUMEQUAL=(0,fe.OpCodeType)("9c");_e.OP_NUMEQUALVERIFY=(0,fe.OpCodeType)("9d");_e.OP_NUMNOTEQUAL=(0,fe.OpCodeType)("9e");_e.OP_LESSTHAN=(0,fe.OpCodeType)("9f");_e.OP_GREATERTHAN=(0,fe.OpCodeType)("a0");_e.OP_LESSTHANOREQUAL=(0,fe.OpCodeType)("a1");_e.OP_GREATERTHANOREQUAL=(0,fe.OpCodeType)("a2");_e.OP_MIN=(0,fe.OpCodeType)("a3");_e.OP_MAX=(0,fe.OpCodeType)("a4");_e.OP_WITHIN=(0,fe.OpCodeType)("a5");_e.OP_RIPEMD160=(0,fe.OpCodeType)("a6");_e.OP_SHA1=(0,fe.OpCodeType)("a7");_e.OP_SHA256=(0,fe.OpCodeType)("a8");_e.OP_HASH160=(0,fe.OpCodeType)("a9");_e.OP_HASH256=(0,fe.OpCodeType)("aa");_e.OP_CODESEPARATOR=(0,fe.OpCodeType)("ab");_e.OP_CHECKSIG=(0,fe.OpCodeType)("ac");_e.OP_CHECKSIGVERIFY=(0,fe.OpCodeType)("ad");_e.OP_CHECKMULTISIG=(0,fe.OpCodeType)("ae");_e.OP_CHECKMULTISIGVERIFY=(0,fe.OpCodeType)("af");_e.OP_NOP1=(0,fe.OpCodeType)("b0");_e.OP_NOP2=(0,fe.OpCodeType)("b1");_e.OP_NOP3=(0,fe.OpCodeType)("b2");_e.OP_NOP4=(0,fe.OpCodeType)("b3");_e.OP_NOP5=(0,fe.OpCodeType)("b4");_e.OP_NOP6=(0,fe.OpCodeType)("b5");_e.OP_NOP7=(0,fe.OpCodeType)("b6");_e.OP_NOP8=(0,fe.OpCodeType)("b7");_e.OP_NOP9=(0,fe.OpCodeType)("b8");_e.OP_NOP10=(0,fe.OpCodeType)("b9");_e.OP_PUBKEYHASH=(0,fe.OpCodeType)("fd");_e.OP_PUBKEY=(0,fe.OpCodeType)("fe");_e.OP_INVALIDOPCODE=(0,fe.OpCodeType)("ff");var Lr=class{static toLEUnsigned(e,r){let n=du(e,r+(0,Be.Int)(1));return n.slice(0,Number(lo(n))*2-2)}static fromLEUnsigned(e){return F6(e+(0,fe.toByteString)("00"))}static readVarint(e){let r=(0,Be.Int)(0),n=(0,fe.toByteString)(""),i=e.slice(0,2);return i==(0,fe.toByteString)("fd")?(r=Lr.fromLEUnsigned(e.slice(2,6)),n=e.slice(6,6+Number(r*(0,Be.Int)(2)))):i==(0,fe.toByteString)("fe")?(r=Lr.fromLEUnsigned(e.slice(2,10)),n=e.slice(10,10+Number(r*(0,Be.Int)(2)))):i==(0,fe.toByteString)("ff")?(r=Lr.fromLEUnsigned(e.slice(2,18)),n=e.slice(18,18+Number(r*(0,Be.Int)(2)))):(r=Lr.fromLEUnsigned(e.slice(0,2)),n=e.slice(2,2+Number(r*(0,Be.Int)(2)))),n}static writeVarint(e){let r=lo(e),n=(0,fe.toByteString)("");return r<253?n=Lr.toLEUnsigned((0,Be.Int)(r),(0,Be.Int)(1)):r<65536?n=(0,fe.toByteString)("fd")+Lr.toLEUnsigned((0,Be.Int)(r),(0,Be.Int)(2)):r<4294967296?n=(0,fe.toByteString)("fe")+Lr.toLEUnsigned((0,Be.Int)(r),(0,Be.Int)(4)):r<18446744073709552e3&&(n=(0,fe.toByteString)("ff")+Lr.toLEUnsigned((0,Be.Int)(r),(0,Be.Int)(8))),n+e}static buildOutput(e,r){return du(r,fc.OutputValueLen)+Lr.writeVarint(e)}static buildPublicKeyHashScript(e){return(0,fe.toByteString)(_e.OP_DUP)+(0,fe.toByteString)(_e.OP_HASH160)+du(fc.PubKeyHashLen)+e+(0,fe.toByteString)(_e.OP_EQUALVERIFY)+(0,fe.toByteString)(_e.OP_CHECKSIG)}static buildPublicKeyHashOutput(e,r){return Lr.buildOutput(Lr.buildPublicKeyHashScript(e),r)}static buildAddressScript(e){return Lr.buildPublicKeyHashScript(e)}static buildAddressOutput(e,r){return Lr.buildPublicKeyHashOutput(e,r)}static buildOpreturnScript(e){return(0,fe.toByteString)(_e.OP_FALSE)+(0,fe.toByteString)(_e.OP_RETURN)+Lr.writeVarint(e)}};Ke.Utils=Lr;Lr.OutputValueLen=(0,Be.Int)(8);Lr.PubKeyHashLen=(0,Be.Int)(20);var Xo=class{static nVersion(e){return(0,fe.toByteString)(e).slice(0,8)}static hashPrevouts(e){return(0,fe.toByteString)(e).slice(8,72)}static hashSequence(e){return(0,fe.toByteString)(e).slice(36*2,68*2)}static outpoint(e){return(0,fe.toByteString)(e).slice(68*2,104*2)}static scriptCode(e){return Lr.readVarint((0,fe.toByteString)(e).slice(104*2))}static valueRaw(e){let r=Number(lo((0,fe.toByteString)(e)));return(0,fe.toByteString)(e).slice(r*2-104,r*2-88)}static value(e){return Lr.fromLEUnsigned(Xo.valueRaw(e))}static nSequenceRaw(e){let r=Number(lo((0,fe.toByteString)(e)));return(0,fe.toByteString)(e).slice(r*2-88,r*2-80)}static nSequence(e){return Lr.fromLEUnsigned(Xo.nSequenceRaw(e))}static hashOutputs(e){let r=Number(lo((0,fe.toByteString)(e)));return(0,fe.toByteString)(e).slice(r*2-80,r*2-16)}static nLocktimeRaw(e){let r=Number(lo((0,fe.toByteString)(e)));return(0,fe.toByteString)(e).slice(r*2-16,r*2-8)}static nLocktime(e){return Lr.fromLEUnsigned(Xo.nLocktimeRaw(e))}static sigHashType(e){let r=Number(lo((0,fe.toByteString)(e))),n=Lr.fromLEUnsigned((0,fe.toByteString)(e).slice(r*2-8,r*2-6));return(0,Be.SigHashType)(Number(n))}};Ke.SigHash=Xo;Xo.ALL=(0,Be.SigHashType)(65);Xo.NONE=(0,Be.SigHashType)(66);Xo.SINGLE=(0,Be.SigHashType)(67);Xo.ANYONECANPAY_ALL=(0,Be.SigHashType)(193);Xo.ANYONECANPAY_NONE=(0,Be.SigHashType)(194);Xo.ANYONECANPAY_SINGLE=(0,Be.SigHashType)(195);var Is=class{constructor(e){this.buf=e,this.pos=(0,Be.Int)(0)}eof(){return this.pos>=lo(this.buf)}readBytes(){let e=(0,Be.Int)(0),r=this.buf,n=(0,fe.toByteString)(""),i=F6(r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+(0,Be.Int)(1))*(0,Be.Int)(2))));return this.pos++,i<(0,Be.Int)(76)?(e=i,n=r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+e)*(0,Be.Int)(2)))):i==(0,Be.Int)(76)?(e=Lr.fromLEUnsigned(r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+(0,Be.Int)(1))*(0,Be.Int)(2)))),this.pos+=(0,Be.Int)(1),n=r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+e)*(0,Be.Int)(2)))):i==(0,Be.Int)(77)?(e=Lr.fromLEUnsigned(r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+(0,Be.Int)(2))*(0,Be.Int)(2)))),this.pos+=(0,Be.Int)(2),n=r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+e)*(0,Be.Int)(2)))):i==(0,Be.Int)(78)?(e=Lr.fromLEUnsigned(r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+(0,Be.Int)(4))*(0,Be.Int)(2)))),this.pos+=(0,Be.Int)(4),n=r.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+e)*(0,Be.Int)(2)))):t9(!1),this.pos+=e,n}readBool(){let e=this.buf.slice(Number(this.pos*(0,Be.Int)(2)),Number((this.pos+(0,Be.Int)(1))*(0,Be.Int)(2)));return this.pos++,(0,fe.toByteString)("00")!=e}readInt(){return F6(this.readBytes())}static getStateStart(e){let r=BigInt(lo(e)),n=r-Is.StateLen-Is.VersionLen,i=r-Is.VersionLen,s=e.slice(Number(n*(0,Be.Int)(2)),Number(i*(0,Be.Int)(2))),o=F6(s);return r-o-Is.StateLen-Is.VersionLen}};Ke.VarIntReader=Is;Is.StateLen=(0,Be.Int)(4);Is.VersionLen=(0,Be.Int)(1);Is.Version=(0,Be.Int)(0);var Q3=class{static writeBytes(e){let r=BigInt(lo(e)),n=(0,fe.toByteString)("");return r<76?n=Lr.toLEUnsigned(r,(0,Be.Int)(1)):r<256?n=(0,fe.toByteString)("4c")+Lr.toLEUnsigned(r,(0,Be.Int)(1)):r<65536?n=(0,fe.toByteString)("4d")+Lr.toLEUnsigned(r,(0,Be.Int)(2)):r<4294967296?n=(0,fe.toByteString)("4e")+Lr.toLEUnsigned(r,(0,Be.Int)(4)):t9(!1),n+e}static writeBool(e){return e?(0,fe.toByteString)("01"):(0,fe.toByteString)("00")}static writeInt(e){return Q3.writeBytes(e==(0,Be.Int)(0)?(0,fe.toByteString)("00"):du(e))}static serializeState(e){let r=du(BigInt(lo(e)),Is.StateLen);return e+r+du(Is.Version,Is.VersionLen)}};Ke.VarIntWriter=Q3;var p0=class{static normalize(e,r){let n=e%r;return n<0?n+r:n}static sign(e,r,n,i,s,o){let a=n*(e+i*r),u=(0,Be.Int)("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");a=p0.normalize(a,u),a>u/(0,Be.Int)(2)&&(a=u-a);let c=BigInt(lo(s)),h=Number(lo(du(a))),f=tE(du(a,BigInt(32)),BigInt(32)).slice(32*2-h*2),p=(0,Be.Int)(4)+c+BigInt(h),l=(0,fe.toByteString)("30")+du(p)+(0,fe.toByteString)("02")+du(c)+s+(0,fe.toByteString)("02")+du(BigInt(h))+f+(0,fe.toByteString)(o);return(0,fe.Sig)(l)}static fromBEUnsigned(e){return F6(tE(e,BigInt(32))+(0,fe.toByteString)("00"))}static checkPreimageOpt(e){throw new Error("unimplemented")}static checkPreimageOpt_(e){throw new Error("unimplemented")}static checkPreimageAdvancedOCS(e,r,n,i,s,o,a){throw new Error("unimplemented")}static checkPreimageOCS(e){throw new Error("unimplemented")}static checkPreimageSigHashTypeOCS(e,r){throw new Error("unimplemented")}static checkPreimageOptOCS(e){throw new Error("unimplemented")}static checkPreimageOptOCS_(e){throw new Error("unimplemented")}static isFirstCall(e){let r=Xo.scriptCode(e),n=Is.getStateStart(r);return new Is(r.slice(Number(n)*2)).readBool()}};Ke.Tx=p0;p0.privKey=(0,fe.PrivKey)((0,Be.Int)("0x26f00fe2340a84335ebdf30f57e9bb58487117b29355718f5e46bf5168d7df97"));p0.pubKey=(0,fe.PubKey)("02ba79df5f8ae7604a9830f03c7933028186aede0675a16f025dc4f8be8eec0382");p0.invK=(0,Be.Int)("0xc8ffdbaa05d93aa4ede79ec58f06a72562048b775a3507c2bf44bde4f007c40a");p0.r=(0,Be.Int)("0x1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");p0.rBigEndian=(0,fe.toByteString)("1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");var fc=class{};Ke.Constants=fc;fc.InputSeqLen=(0,Be.Int)(4);fc.OutputValueLen=(0,Be.Int)(8);fc.PubKeyLen=(0,Be.Int)(33);fc.PubKeyHashLen=(0,Be.Int)(20);fc.TxIdLen=(0,Be.Int)(32);fc.OutpointLen=(0,Be.Int)(36)});var nE=$(()=>{k();M();var kL;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return X(Object.create(null))}:a?function(){return X({__proto__:null})}:function(){return X({})},has:u?function(G,z){return r.call(G,z)}:function(G,z){return z in G},get:u?function(G,z){return r.call(G,z)?G[z]:void 0}:function(G,z){return G[z]}},h=Object.getPrototypeOf(Function),f=typeof q=="object"&&q["env"]&&q["env"].REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:we(),l=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:mt(),y=!f&&typeof WeakMap=="function"?WeakMap:K(),_=new y;function O(G,z,J,te){if(L(J)){if(!ne(G))throw new TypeError;if(!ge(z))throw new TypeError;return d(G,z)}else{if(!ne(G))throw new TypeError;if(!ee(z))throw new TypeError;if(!ee(te)&&!L(te)&&!V(te))throw new TypeError;return V(te)&&(te=void 0),J=Q(J),v(G,z,J,te)}}e("decorate",O);function F(G,z){function J(te,re){if(!ee(te))throw new TypeError;if(!L(re)&&!xe(re))throw new TypeError;T(G,z,te,re)}return J}e("metadata",F);function B(G,z,J,te){if(!ee(J))throw new TypeError;return L(te)||(te=Q(te)),T(G,z,J,te)}e("defineMetadata",B);function E(G,z,J){if(!ee(z))throw new TypeError;return L(J)||(J=Q(J)),m(G,z,J)}e("hasMetadata",E);function I(G,z,J){if(!ee(z))throw new TypeError;return L(J)||(J=Q(J)),S(G,z,J)}e("hasOwnMetadata",I);function U(G,z,J){if(!ee(z))throw new TypeError;return L(J)||(J=Q(J)),w(G,z,J)}e("getMetadata",U);function N(G,z,J){if(!ee(z))throw new TypeError;return L(J)||(J=Q(J)),R(G,z,J)}e("getOwnMetadata",N);function H(G,z){if(!ee(G))throw new TypeError;return L(z)||(z=Q(z)),b(G,z)}e("getMetadataKeys",H);function D(G,z){if(!ee(G))throw new TypeError;return L(z)||(z=Q(z)),x(G,z)}e("getOwnMetadataKeys",D);function C(G,z,J){if(!ee(z))throw new TypeError;L(J)||(J=Q(J));var te=g(z,J,!1);if(L(te)||!te.delete(G))return!1;if(te.size>0)return!0;var re=_.get(z);return re.delete(J),re.size>0||_.delete(z),!0}e("deleteMetadata",C);function d(G,z){for(var J=G.length-1;J>=0;--J){var te=G[J],re=te(z);if(!L(re)&&!V(re)){if(!ge(re))throw new TypeError;z=re}}return z}function v(G,z,J,te){for(var re=G.length-1;re>=0;--re){var ce=G[re],oe=ce(z,J,te);if(!L(oe)&&!V(oe)){if(!ee(oe))throw new TypeError;te=oe}}return te}function g(G,z,J){var te=_.get(G);if(L(te)){if(!J)return;te=new p,_.set(G,te)}var re=te.get(z);if(L(re)){if(!J)return;re=new p,te.set(z,re)}return re}function m(G,z,J){var te=S(G,z,J);if(te)return!0;var re=Ae(z);return V(re)?!1:m(G,re,J)}function S(G,z,J){var te=g(z,J,!1);return L(te)?!1:j(te.has(G))}function w(G,z,J){var te=S(G,z,J);if(te)return R(G,z,J);var re=Ae(z);if(!V(re))return w(G,re,J)}function R(G,z,J){var te=g(z,J,!1);if(!L(te))return te.get(G)}function T(G,z,J,te){var re=g(J,te,!0);re.set(G,z)}function b(G,z){var J=x(G,z),te=Ae(G);if(te===null)return J;var re=b(te,z);if(re.length<=0)return J;if(J.length<=0)return re;for(var ce=new l,oe=[],pe=0,ve=J;pe<ve.length;pe++){var Oe=ve[pe],Se=ce.has(Oe);Se||(ce.add(Oe),oe.push(Oe))}for(var ze=0,Ht=re;ze<Ht.length;ze++){var Oe=Ht[ze],Se=ce.has(Oe);Se||(ce.add(Oe),oe.push(Oe))}return oe}function x(G,z){var J=[],te=g(G,z,!1);if(L(te))return J;for(var re=te.keys(),ce=Le(re),oe=0;;){var pe=De(ce);if(!pe)return J.length=oe,J;var ve=ke(pe);try{J[oe]=ve}catch(Oe){try{Je(ce)}finally{throw Oe}}oe++}}function P(G){if(G===null)return 1;switch(typeof G){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return G===null?1:6;default:return 6}}function L(G){return G===void 0}function V(G){return G===null}function W(G){return typeof G=="symbol"}function ee(G){return typeof G=="object"?G!==null:typeof G=="function"}function ae(G,z){switch(P(G)){case 0:return G;case 1:return G;case 2:return G;case 3:return G;case 4:return G;case 5:return G}var J=z===3?"string":z===5?"number":"default",te=Pe(G,i);if(te!==void 0){var re=te.call(G,J);if(ee(re))throw new TypeError;return re}return se(G,J==="default"?"number":J)}function se(G,z){if(z==="string"){var J=G.toString;if(ue(J)){var te=J.call(G);if(!ee(te))return te}var re=G.valueOf;if(ue(re)){var te=re.call(G);if(!ee(te))return te}}else{var re=G.valueOf;if(ue(re)){var te=re.call(G);if(!ee(te))return te}var ce=G.toString;if(ue(ce)){var te=ce.call(G);if(!ee(te))return te}}throw new TypeError}function j(G){return!!G}function Z(G){return""+G}function Q(G){var z=ae(G,3);return W(z)?z:Z(z)}function ne(G){return Array.isArray?Array.isArray(G):G instanceof Object?G instanceof Array:Object.prototype.toString.call(G)==="[object Array]"}function ue(G){return typeof G=="function"}function ge(G){return typeof G=="function"}function xe(G){switch(P(G)){case 3:return!0;case 4:return!0;default:return!1}}function Pe(G,z){var J=G[z];if(J!=null){if(!ue(J))throw new TypeError;return J}}function Le(G){var z=Pe(G,s);if(!ue(z))throw new TypeError;var J=z.call(G);if(!ee(J))throw new TypeError;return J}function ke(G){return G.value}function De(G){var z=G.next();return z.done?!1:z}function Je(G){var z=G.return;z&&z.call(G)}function Ae(G){var z=Object.getPrototypeOf(G);if(typeof G!="function"||G===h||z!==h)return z;var J=G.prototype,te=J&&Object.getPrototypeOf(J);if(te==null||te===Object.prototype)return z;var re=te.constructor;return typeof re!="function"||re===G?z:re}function we(){var G={},z=[],J=function(){function oe(pe,ve,Oe){this._index=0,this._keys=pe,this._values=ve,this._selector=Oe}return oe.prototype["@@iterator"]=function(){return this},oe.prototype[s]=function(){return this},oe.prototype.next=function(){var pe=this._index;if(pe>=0&&pe<this._keys.length){var ve=this._selector(this._keys[pe],this._values[pe]);return pe+1>=this._keys.length?(this._index=-1,this._keys=z,this._values=z):this._index++,{value:ve,done:!1}}return{value:void 0,done:!0}},oe.prototype.throw=function(pe){throw this._index>=0&&(this._index=-1,this._keys=z,this._values=z),pe},oe.prototype.return=function(pe){return this._index>=0&&(this._index=-1,this._keys=z,this._values=z),{value:pe,done:!0}},oe}();return function(){function oe(){this._keys=[],this._values=[],this._cacheKey=G,this._cacheIndex=-2}return Object.defineProperty(oe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),oe.prototype.has=function(pe){return this._find(pe,!1)>=0},oe.prototype.get=function(pe){var ve=this._find(pe,!1);return ve>=0?this._values[ve]:void 0},oe.prototype.set=function(pe,ve){var Oe=this._find(pe,!0);return this._values[Oe]=ve,this},oe.prototype.delete=function(pe){var ve=this._find(pe,!1);if(ve>=0){for(var Oe=this._keys.length,Se=ve+1;Se<Oe;Se++)this._keys[Se-1]=this._keys[Se],this._values[Se-1]=this._values[Se];return this._keys.length--,this._values.length--,pe===this._cacheKey&&(this._cacheKey=G,this._cacheIndex=-2),!0}return!1},oe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=G,this._cacheIndex=-2},oe.prototype.keys=function(){return new J(this._keys,this._values,te)},oe.prototype.values=function(){return new J(this._keys,this._values,re)},oe.prototype.entries=function(){return new J(this._keys,this._values,ce)},oe.prototype["@@iterator"]=function(){return this.entries()},oe.prototype[s]=function(){return this.entries()},oe.prototype._find=function(pe,ve){return this._cacheKey!==pe&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=pe)),this._cacheIndex<0&&ve&&(this._cacheIndex=this._keys.length,this._keys.push(pe),this._values.push(void 0)),this._cacheIndex},oe}();function te(oe,pe){return oe}function re(oe,pe){return pe}function ce(oe,pe){return[oe,pe]}}function mt(){return function(){function G(){this._map=new p}return Object.defineProperty(G.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),G.prototype.has=function(z){return this._map.has(z)},G.prototype.add=function(z){return this._map.set(z,z),this},G.prototype.delete=function(z){return this._map.delete(z)},G.prototype.clear=function(){this._map.clear()},G.prototype.keys=function(){return this._map.keys()},G.prototype.values=function(){return this._map.values()},G.prototype.entries=function(){return this._map.entries()},G.prototype["@@iterator"]=function(){return this.keys()},G.prototype[s]=function(){return this.keys()},G}()}function K(){var G=16,z=c.create(),J=te();return function(){function ve(){this._key=te()}return ve.prototype.has=function(Oe){var Se=re(Oe,!1);return Se!==void 0?c.has(Se,this._key):!1},ve.prototype.get=function(Oe){var Se=re(Oe,!1);return Se!==void 0?c.get(Se,this._key):void 0},ve.prototype.set=function(Oe,Se){var ze=re(Oe,!0);return ze[this._key]=Se,this},ve.prototype.delete=function(Oe){var Se=re(Oe,!1);return Se!==void 0?delete Se[this._key]:!1},ve.prototype.clear=function(){this._key=te()},ve}();function te(){var ve;do ve="@@WeakMap@@"+pe();while(c.has(z,ve));return z[ve]=!0,ve}function re(ve,Oe){if(!r.call(ve,J)){if(!Oe)return;Object.defineProperty(ve,J,{value:c.create()})}return ve[J]}function ce(ve,Oe){for(var Se=0;Se<Oe;++Se)ve[Se]=Math.random()*255|0;return ve}function oe(ve){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(ve)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(ve)):ce(new Uint8Array(ve),ve):ce(new Array(ve),ve)}function pe(){var ve=oe(G);ve[6]=ve[6]&79|64,ve[8]=ve[8]&191|128;for(var Oe="",Se=0;Se<G;++Se){var ze=ve[Se];(Se===4||Se===6||Se===8)&&(Oe+="-"),ze<16&&(Oe+="0"),Oe+=ze.toString(16).toLowerCase()}return Oe}}function X(G){return G.__=void 0,delete G.__,G}})})(kL||(kL={}))});var RL=$(Zo=>{k();M();var R7e=Zo&&Zo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N7e=Zo&&Zo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ML=Zo&&Zo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R7e(e,t,r);return N7e(e,t),e};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.IndexerReader=Zo.INDEX_FILE_NAME=void 0;var ml=ML(Ro()),Jb=ML(jc());Zo.INDEX_FILE_NAME="scrypt.index.json";var iE=class{constructor(e){this.symbolPaths=new Map,this.filePath=e,this.load()}load(){if(!Jb.existsSync(this.filePath))throw new Error(`index file not exist: ${this.filePath}`);let e=JSON.parse(Jb.readFileSync(this.filePath).toString());if(!e.scryptBase)throw new Error(`missing \`scryptBase\` in index file ${this.filePath}`);if(this.scryptBasePath=e.scryptBase,!e.bindings)throw new Error(`missing \`bindings\` in index file ${this.filePath}`);e.bindings.forEach(r=>{r.symbol&&r.path&&this.symbolPaths.set(r.symbol,r.path)})}getRelativePath(e){return this.symbolPaths.get(e)}getFullPath(e){let r=this.getRelativePath(e);if(!!r)return ml.join(ml.dirname(this.filePath),this.scryptBasePath,r)}static queryIndexFile(e,r){let n=e;r=r===void 0?q.cwd():r;let i=(o,a)=>ml.resolve(o).toLowerCase()==ml.resolve(a).toLowerCase();for(;;){let o=ml.join(n,Zo.INDEX_FILE_NAME);if(Jb.existsSync(o))return o;let a=ml.join(n,"..");if(i(n,r)||i(n,a))break;n=a}let s=ml.join(r,Zo.INDEX_FILE_NAME);if(Jb.existsSync(s))return s}query(e,r=!1){let n=this.symbolPaths.get(e);return n&&r?ml.join(this.scryptBasePath,n):n}};Zo.IndexerReader=iE});var pu=$(Jo=>{k();M();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.filterUTXO=Jo.parseSignatureOption=Jo.parseAddresses=Jo.utxoFromOutput=Jo.getRandomAddress=Jo.getDummyP2pkhUTXOs=void 0;var m0=nr(),F7e=hf();function H7e(t=1){return new Array(t).fill(0).map(e=>({txId:(0,F7e.randomBytes)(32).toString("hex"),outputIndex:0,script:m0.bsv.Script.buildPublicKeyHashOut(NL()).toHex(),satoshis:1}))}Jo.getDummyP2pkhUTXOs=H7e;function NL(t=m0.bsv.Networks.testnet){return m0.bsv.Address.fromPrivateKey(m0.bsv.PrivateKey.fromRandom(t.name),t)}Jo.getRandomAddress=NL;function D7e(t,e){let r=t.outputs[e];if(!r)throw new Error(`outputIndex ${e} does not exist on tx ${t.id}`);return{txId:t.id,outputIndex:e,script:r.script.toHex(),satoshis:r.satoshis}}Jo.utxoFromOutput=D7e;function FL(t,e){return Array.from([t]).flat().map(r=>r instanceof m0.bsv.Address?r:r.toAddress(e))}Jo.parseAddresses=FL;function U7e(t,e){return Array.from([t]).flat().map(r=>r instanceof m0.bsv.Address?{address:r,sigHashType:m0.DEFAULT_SIGHASH_TYPE}:r instanceof m0.bsv.PublicKey?{address:r.toAddress(e),sigHashType:m0.DEFAULT_SIGHASH_TYPE}:FL(r.pubKeyOrAddr,e).map(n=>({address:n,sigHashType:r.sigHashType||m0.DEFAULT_SIGHASH_TYPE,csIdx:r.csIdx,data:r.data}))).flat()}Jo.parseSignatureOption=U7e;function L7e(t,e){let r=e.unspentValue,n=e.estimateSize,i=e.feePerKb,s=e.additional||0;function o(c){let h=0,f=-1;for(let p=0;p<c.length;p++){let l=p+1;if(h+=c[p].satoshis,i<=(r+h)/(n+(180+s)*l)*1e3){f=p;break}}return f>=0?c.slice(0,f+1):[]}let a=t.sort((c,h)=>c.satoshis-h.satoshis),u=o(a);if(u.length===0&&(u=o(a.reverse()),u.length===0))throw new Error("no sufficient utxos");return u}Jo.filterUTXO=L7e});var ey=$(Qb=>{k();M();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.SmartContractLib=void 0;nE();var H6=class{constructor(...e){this.args=[],this.args=e}getArgs(){return(this.args||[]).map(e=>e instanceof H6?e.getArgs():e)}getState(){return Object.keys(this).reduce((e,r)=>typeof this[r]=="bigint"||typeof this[r]=="boolean"||typeof this[r]=="string"?Object.assign(e,{[r]:this[r]}):this[r]instanceof H6?Object.assign(e,{[r]:this[r].getState()}):e,{})}};Qb.SmartContractLib=H6});var zL=$((UXe,GL)=>{k();M();var va=-1,po=1,Vi=0;function r9(t,e,r,n,i){if(t===e)return t?[[Vi,t]]:[];if(r!=null){var s=Y7e(t,e,r);if(s)return s}var o=oE(t,e),a=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=ty(t,e);var u=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var c=q7e(t,e);return a&&c.unshift([Vi,a]),u&&c.push([Vi,u]),aE(c,i),n&&K7e(c),c}function q7e(t,e){var r;if(!t)return[[po,e]];if(!e)return[[va,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,s=n.indexOf(i);if(s!==-1)return r=[[po,n.substring(0,s)],[Vi,i],[po,n.substring(s+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=va),r;if(i.length===1)return[[va,t],[po,e]];var o=j7e(t,e);if(o){var a=o[0],u=o[1],c=o[2],h=o[3],f=o[4],p=r9(a,c),l=r9(u,h);return p.concat([[Vi,f]],l)}return $7e(t,e)}function $7e(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),s=i,o=2*i,a=new Array(o),u=new Array(o),c=0;c<o;c++)a[c]=-1,u[c]=-1;a[s+1]=0,u[s+1]=0;for(var h=r-n,f=h%2!==0,p=0,l=0,y=0,_=0,O=0;O<i;O++){for(var F=-O+p;F<=O-l;F+=2){var B=s+F,E;F===-O||F!==O&&a[B-1]<a[B+1]?E=a[B+1]:E=a[B-1]+1;for(var I=E-F;E<r&&I<n&&t.charAt(E)===e.charAt(I);)E++,I++;if(a[B]=E,E>r)l+=2;else if(I>n)p+=2;else if(f){var U=s+h-F;if(U>=0&&U<o&&u[U]!==-1){var N=r-u[U];if(E>=N)return HL(t,e,E,I)}}}for(var H=-O+y;H<=O-_;H+=2){var U=s+H,N;H===-O||H!==O&&u[U-1]<u[U+1]?N=u[U+1]:N=u[U-1]+1;for(var D=N-H;N<r&&D<n&&t.charAt(r-N-1)===e.charAt(n-D-1);)N++,D++;if(u[U]=N,N>r)_+=2;else if(D>n)y+=2;else if(!f){var B=s+h-H;if(B>=0&&B<o&&a[B]!==-1){var E=a[B],I=s+E-B;if(N=r-N,E>=N)return HL(t,e,E,I)}}}}return[[va,t],[po,e]]}function HL(t,e,r,n){var i=t.substring(0,r),s=e.substring(0,n),o=t.substring(r),a=e.substring(n),u=r9(i,s),c=r9(o,a);return u.concat(c)}function oE(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return $L(t.charCodeAt(i-1))&&i--,i}function DL(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var s=0,o=1;;){var a=t.substring(i-o),u=e.indexOf(a);if(u==-1)return s;o+=u,(u==0||t.substring(i-o)==e.substring(0,o))&&(s=o,o++)}}function ty(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return jL(t.charCodeAt(t.length-i))&&i--,i}function j7e(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(l,y,_){for(var O=l.substring(_,_+Math.floor(l.length/4)),F=-1,B="",E,I,U,N;(F=y.indexOf(O,F+1))!==-1;){var H=oE(l.substring(_),y.substring(F)),D=ty(l.substring(0,_),y.substring(0,F));B.length<D+H&&(B=y.substring(F-D,F)+y.substring(F,F+H),E=l.substring(0,_-D),I=l.substring(_+H),U=y.substring(0,F-D),N=y.substring(F+H))}return B.length*2>=l.length?[E,I,U,N,B]:null}var s=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var u,c,h,f;t.length>e.length?(u=a[0],c=a[1],h=a[2],f=a[3]):(h=a[0],f=a[1],u=a[2],c=a[3]);var p=a[4];return[u,c,h,f,p]}function K7e(t){for(var e=!1,r=[],n=0,i=null,s=0,o=0,a=0,u=0,c=0;s<t.length;)t[s][0]==Vi?(r[n++]=s,o=u,a=c,u=0,c=0,i=t[s][1]):(t[s][0]==po?u+=t[s][1].length:c+=t[s][1].length,i&&i.length<=Math.max(o,a)&&i.length<=Math.max(u,c)&&(t.splice(r[n-1],0,[va,i]),t[r[n-1]+1][0]=po,n--,n--,s=n>0?r[n-1]:-1,o=0,a=0,u=0,c=0,i=null,e=!0)),s++;for(e&&aE(t),z7e(t),s=1;s<t.length;){if(t[s-1][0]==va&&t[s][0]==po){var h=t[s-1][1],f=t[s][1],p=DL(h,f),l=DL(f,h);p>=l?(p>=h.length/2||p>=f.length/2)&&(t.splice(s,0,[Vi,f.substring(0,p)]),t[s-1][1]=h.substring(0,h.length-p),t[s+1][1]=f.substring(p),s++):(l>=h.length/2||l>=f.length/2)&&(t.splice(s,0,[Vi,h.substring(0,l)]),t[s-1][0]=po,t[s-1][1]=f.substring(0,f.length-l),t[s+1][0]=va,t[s+1][1]=h.substring(l),s++),s++}s++}}var UL=/[^a-zA-Z0-9]/,LL=/\s/,qL=/[\r\n]/,V7e=/\n\r?\n$/,G7e=/^\r?\n\r?\n/;function z7e(t){function e(l,y){if(!l||!y)return 6;var _=l.charAt(l.length-1),O=y.charAt(0),F=_.match(UL),B=O.match(UL),E=F&&_.match(LL),I=B&&O.match(LL),U=E&&_.match(qL),N=I&&O.match(qL),H=U&&l.match(V7e),D=N&&y.match(G7e);return H||D?5:U||N?4:F&&!E&&I?3:E||I?2:F||B?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==Vi&&t[r+1][0]==Vi){var n=t[r-1][1],i=t[r][1],s=t[r+1][1],o=ty(n,i);if(o){var a=i.substring(i.length-o);n=n.substring(0,n.length-o),i=a+i.substring(0,i.length-o),s=a+s}for(var u=n,c=i,h=s,f=e(n,i)+e(i,s);i.charAt(0)===s.charAt(0);){n+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var p=e(n,i)+e(i,s);p>=f&&(f=p,u=n,c=i,h=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=c,h?t[r+1][1]=h:(t.splice(r+1,1),r--))}r++}}function aE(t,e){t.push([Vi,""]);for(var r=0,n=0,i=0,s="",o="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case po:i++,o+=t[r][1],r++;break;case va:n++,s+=t[r][1],r++;break;case Vi:var u=r-i-n-1;if(e){if(u>=0&&VL(t[u][1])){var c=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),s=c+s,o=c+o,!t[u][1]){t.splice(u,1),r--;var h=u-1;t[h]&&t[h][0]===po&&(i++,o=t[h][1]+o,h--),t[h]&&t[h][0]===va&&(n++,s=t[h][1]+s,h--),u=h}}if(KL(t[r][1])){var c=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),s+=c,o+=c}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=oE(o,s),a!==0&&(u>=0?t[u][1]+=o.substring(0,a):(t.splice(0,0,[Vi,o.substring(0,a)]),r++),o=o.substring(a),s=s.substring(a)),a=ty(o,s),a!==0&&(t[r][1]=o.substring(o.length-a)+t[r][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var f=i+n;s.length===0&&o.length===0?(t.splice(r-f,f),r=r-f):s.length===0?(t.splice(r-f,f,[po,o]),r=r-f+1):o.length===0?(t.splice(r-f,f,[va,s]),r=r-f+1):(t.splice(r-f,f,[va,s],[po,o]),r=r-f+2)}r!==0&&t[r-1][0]===Vi?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var p=!1;for(r=1;r<t.length-1;)t[r-1][0]===Vi&&t[r+1][0]===Vi&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),p=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),p=!0)),r++;p&&aE(t,e)}function $L(t){return t>=55296&&t<=56319}function jL(t){return t>=56320&&t<=57343}function KL(t){return jL(t.charCodeAt(0))}function VL(t){return $L(t.charCodeAt(t.length-1))}function W7e(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function sE(t,e,r,n){return VL(t)||KL(n)?null:W7e([[Vi,t],[va,e],[po,r],[Vi,n]])}function Y7e(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,s=t.length,o=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),c=t.slice(a),h=i?i.index:null;e:{var f=a+o-s;if(h!==null&&h!==f||f<0||f>o)break e;var p=e.slice(0,f),l=e.slice(f);if(l!==c)break e;var y=Math.min(a,f),_=u.slice(0,y),O=p.slice(0,y);if(_!==O)break e;var F=u.slice(y),B=p.slice(y);return sE(_,F,B,c)}e:{if(h!==null&&h!==a)break e;var E=a,p=e.slice(0,E),l=e.slice(E);if(p!==u)break e;var I=Math.min(s-E,o-E),U=c.slice(c.length-I),N=l.slice(l.length-I);if(U!==N)break e;var F=c.slice(0,c.length-I),B=l.slice(0,l.length-I);return sE(u,F,B,U)}}if(n.length>0&&i&&i.length===0){e:{var _=t.slice(0,n.index),U=t.slice(n.index+n.length),y=_.length,I=U.length;if(o<y+I)break e;var O=e.slice(0,y),N=e.slice(o-I);if(_!==O||U!==N)break e;var F=t.slice(y,s-I),B=e.slice(y,o-I);return sE(_,F,B,U)}}return null}function ry(t,e,r,n){return r9(t,e,r,n,!0)}ry.INSERT=po;ry.DELETE=va;ry.EQUAL=Vi;GL.exports=ry});var YL=$(($Xe,WL)=>{k();M();WL.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var uE=$((VXe,ZL)=>{k();M();var n9=YL(),XL={};for(let t of Object.keys(n9))XL[n9[t]]=t;var ct={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ZL.exports=ct;for(let t of Object.keys(ct)){if(!("channels"in ct[t]))throw new Error("missing channels property: "+t);if(!("labels"in ct[t]))throw new Error("missing channel labels property: "+t);if(ct[t].labels.length!==ct[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=ct[t];delete ct[t].channels,delete ct[t].labels,Object.defineProperty(ct[t],"channels",{value:e}),Object.defineProperty(ct[t],"labels",{value:r})}ct.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};ct.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),h=c-Math.min(o,a,u),f=function(p){return(c-p)/6/h+1/2};return h===0?(i=0,s=0):(s=h/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};ct.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=ct.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};ct.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function X7e(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}ct.rgb.keyword=function(t){let e=XL[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(n9)){let s=n9[i],o=X7e(t,s);o<r&&(r=o,n=i)}return n};ct.keyword.rgb=function(t){return n9[t]};ct.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};ct.rgb.lab=function(t){let e=ct.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};ct.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};ct.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};ct.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};ct.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};ct.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),a=1-n;s=6*e-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),c,h,f;switch(o){default:case 6:case 0:c=a,h=u,f=r;break;case 1:c=u,h=a,f=r;break;case 2:c=r,h=a,f=u;break;case 3:c=r,h=u,f=a;break;case 4:c=u,h=r,f=a;break;case 5:c=a,h=r,f=u;break}return[c*255,h*255,f*255]};ct.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};ct.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};ct.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};ct.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};ct.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};ct.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};ct.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?ct.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};ct.hsv.ansi16=function(t){return ct.rgb.ansi16(ct.hsv.rgb(t),t[2])};ct.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};ct.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};ct.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};ct.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};ct.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};ct.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};ct.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};ct.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};ct.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};ct.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};ct.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};ct.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};ct.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};ct.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};ct.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};ct.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};ct.gray.hsl=function(t){return[0,0,t[0]]};ct.gray.hsv=ct.gray.hsl;ct.gray.hwb=function(t){return[0,100,t[0]]};ct.gray.cmyk=function(t){return[0,0,0,t[0]]};ct.gray.lab=function(t){return[t[0],0,0]};ct.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};ct.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var QL=$((WXe,JL)=>{k();M();var ny=uE();function Z7e(){let t={},e=Object.keys(ny);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function J7e(t){let e=Z7e(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(ny[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function Q7e(t,e){return function(r){return e(t(r))}}function e6e(t,e){let r=[e[t].parent,t],n=ny[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Q7e(ny[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}JL.exports=function(t){let e=J7e(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=e6e(o,e))}return r}});var tq=$((ZXe,eq)=>{k();M();var cE=uE(),t6e=QL(),D6={},r6e=Object.keys(cE);function n6e(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function i6e(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}r6e.forEach(t=>{D6[t]={},Object.defineProperty(D6[t],"channels",{value:cE[t].channels}),Object.defineProperty(D6[t],"labels",{value:cE[t].labels});let e=t6e(t);Object.keys(e).forEach(n=>{let i=e[n];D6[t][n]=i6e(i),D6[t][n].raw=n6e(i)})});eq.exports=D6});var aq=$((eZe,oq)=>{k();M();var rq=(t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,nq=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},iq=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},iy=t=>t,sq=(t,e,r)=>[t,e,r],U6=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},fE,L6=(t,e,r,n)=>{fE===void 0&&(fE=tq());let i=n?10:0,s={};for(let[o,a]of Object.entries(fE)){let u=o==="ansi16"?"ansi":o;o===e?s[u]=t(r,i):typeof a=="object"&&(s[u]=t(a[e],i))}return s};function s6e(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,s]of Object.entries(n))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",U6(e.color,"ansi",()=>L6(rq,"ansi16",iy,!1)),U6(e.color,"ansi256",()=>L6(nq,"ansi256",iy,!1)),U6(e.color,"ansi16m",()=>L6(iq,"rgb",sq,!1)),U6(e.bgColor,"ansi",()=>L6(rq,"ansi16",iy,!0)),U6(e.bgColor,"ansi256",()=>L6(nq,"ansi256",iy,!0)),U6(e.bgColor,"ansi16m",()=>L6(iq,"rgb",sq,!0)),e}Object.defineProperty(oq,"exports",{enumerable:!0,get:s6e})});var cq=$((nZe,uq)=>{k();M();uq.exports={stdout:!1,stderr:!1}});var hq=$((oZe,fq)=>{k();M();var o6e=(t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.substr(s),o},a6e=(t,e,r,n)=>{let i=0,s="";do{let o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s};fq.exports={stringReplaceAll:o6e,stringEncaseCRLFWithFirstIndex:a6e}});var gq=$((cZe,mq)=>{k();M();var u6e=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,lq=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,c6e=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,f6e=/\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.)|([^\\])/gi,h6e=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function pq(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):h6e.get(t)||t}function l6e(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(c6e))r.push(i[2].replace(f6e,(a,u,c)=>u?pq(u):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}function d6e(t){lq.lastIndex=0;let e=[],r;for(;(r=lq.exec(t))!==null;){let n=r[1];if(r[2]){let i=l6e(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function dq(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}mq.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(u6e,(s,o,a,u,c,h)=>{if(o)i.push(pq(o));else if(u){let f=i.join("");i=[],n.push(r.length===0?f:dq(t,r)(f)),r.push({inverse:a,styles:d6e(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(dq(t,r)(i.join(""))),i=[],r.pop()}else i.push(h)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var xq=$((lZe,_q)=>{k();M();var i9=aq(),{stdout:lE,stderr:dE}=cq(),{stringReplaceAll:p6e,stringEncaseCRLFWithFirstIndex:m6e}=hq(),bq=["ansi","ansi","ansi256","ansi16m"],q6=Object.create(null),g6e=(t,e={})=>{if(e.level>3||e.level<0)throw new Error("The `level` option should be an integer from 0 to 3");let r=lE?lE.level:0;t.level=e.level===void 0?r:e.level},pE=class{constructor(e){return yq(e)}},yq=t=>{let e={};return g6e(e,t),e.template=(...r)=>v6e(e.template,...r),Object.setPrototypeOf(e,sy.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=pE,e.template};function sy(t){return yq(t)}for(let[t,e]of Object.entries(i9))q6[t]={get(){let r=oy(this,mE(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};q6.visible={get(){let t=oy(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var vq=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of vq)q6[t]={get(){let{level:e}=this;return function(...r){let n=mE(i9.color[bq[e]][t](...r),i9.color.close,this._styler);return oy(this,n,this._isEmpty)}}};for(let t of vq){let e="bg"+t[0].toUpperCase()+t.slice(1);q6[e]={get(){let{level:r}=this;return function(...n){let i=mE(i9.bgColor[bq[r]][t](...n),i9.bgColor.close,this._styler);return oy(this,i,this._isEmpty)}}}}var b6e=Object.defineProperties(()=>{},{...q6,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),mE=(t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},oy=(t,e,r)=>{let n=(...i)=>y6e(n,i.length===1?""+i[0]:i.join(" "));return n.__proto__=b6e,n._generator=t,n._styler=e,n._isEmpty=r,n},y6e=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=p6e(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=m6e(e,i,n,s)),n+e+i},hE,v6e=(t,...e)=>{let[r]=e;if(!Array.isArray(r))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return hE===void 0&&(hE=gq()),hE(t,i.join(""))};Object.defineProperties(sy.prototype,q6);var s9=sy();s9.supportsColor=lE;s9.stderr=sy({level:dE?dE.level:0});s9.stderr.supportsColor=dE;s9.Level={None:0,Basic:1,Ansi256:2,TrueColor:3,0:"None",1:"Basic",2:"Ansi256",3:"TrueColor"};_q.exports=s9});var Eq=$(mu=>{k();M();var Sq=mu&&mu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mu,"__esModule",{value:!0});mu.mergeNexts=mu.diffOutputs=mu.getExpectedOutputs=mu.getTransationOutputs=void 0;var j6=Sq(zL()),g0=nr(),wq=nr(),_6e=Sq(xq()),gl;(function(t){t.black="\x1B[30m",t.red="\x1B[31m",t.green="\x1B[32m",t.reset="\x1B[0m"})(gl||(gl={}));var gE=class{red(e){return gl.red+e+gl.reset}grey(e){return gl.black+e+gl.reset}green(e){return gl.green+e+gl.reset}},hr=typeof window>"u"?_6e.default:new gE;function x6e(t,e){let r=Math.max(t.length,e.length),n=Math.abs(t.length-e.length),i=e.startsWith(t)||t.startsWith(e);return n/r>.5&&r>3e3&&!i}function S6e(t,e){let r=x6e(t,e),n=g0.bsv.Script.fromHex(t).toASM(),i=g0.bsv.Script.fromHex(e).toASM();if(r){let s=n.split(" "),o=i.split(" "),a=Math.min(s.length,o.length),u=Math.min(a,1e3);n=s.slice(0,u).join(" "),s.length>u&&(n+=" ..."),i=o.slice(0,u).join(" "),o.length>u&&(i+=" ...")}return[n,i]}function ay(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r,4)}function w6e(t,e,r){if(wq.AbstractContract.isStateful(t)){let n=t.codePart.toHex(),i=r.map((u,c)=>u.script.startsWith(n)?c:-1).filter(u=>u>-1),s=e.map((u,c)=>u.script.startsWith(n)?c:-1).filter(u=>u>-1),o=i.map((u,c)=>u===s[c]?u:-1).filter(u=>u>-1),a=(u,c)=>{var h;if(o.includes(c)){let f=t.ContractClass,p=(h=t.getPrependNOPScript())===null||h===void 0?void 0:h.toHex(),y=(p&&u.script.startsWith(p)?f.fromHex(u.script.slice(p.length)).statePropsArgs:f.fromHex(u.script).statePropsArgs).reduce((_,O)=>Object.assign(Object.assign({},_),{[O.name]:O.value}),{});return{script:u.script,satoshis:u.satoshis,states:y}}else return{script:u.script,satoshis:u.satoshis}};return[e.map(a),r.map(a)]}return[e,r]}function E6e(t,e){let r="",n=0;for(r+=hr.grey("["),t.forEach(i=>{typeof i.states<"u"&&(n>0&&(r+=hr.grey(", ")),typeof e[n]>"u"?r+=hr.red(ay(i.states)):(0,j6.default)(ay(e[n].states),ay(i.states)).forEach(s=>{s[0]===j6.default.INSERT?r+=hr.red(s[1]):s[0]===j6.default.DELETE?r+=hr.green(s[1]):r+=hr.grey(s[1])})),n++});n<e.length;n++){let i=e[n];typeof i.states<"u"&&(r+=hr.green(ay(i.states)))}return r+=hr.grey("]"),r}function $6(t){let e=t.split(" ");return e.length>10?e.slice(0,5).concat(["..."]).concat(e.slice(e.length-5)).join(" "):t}function T6e(t,e,r){return(r&31)!=g0.bsv.crypto.Signature.SIGHASH_SINGLE&&(r&31)!=g0.bsv.crypto.Signature.SIGHASH_NONE?t.outputs.map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):(r&31)==g0.bsv.crypto.Signature.SIGHASH_SINGLE&&e<t.outputs.length?t.outputs.filter((n,i)=>i===e).map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):[]}mu.getTransationOutputs=T6e;function A6e(t){let e=new g0.bsv.encoding.BufferReader(A.Buffer.from(t,"hex")),r=[];try{for(;!e.eof();){let n=g0.bsv.Transaction.Output.fromBufferReader(e);r.push(n)}}catch{throw new Error("Invalid argument: `outputs`")}return r.map(n=>({script:n.script.toHex(),satoshis:n.satoshis}))}mu.getExpectedOutputs=A6e;function I6e(t,e,r){let n=`1. Outputs in the ${hr.green("Transaction")} is marked green.
2. Outputs expected by the \`${hr.red(t.contractName)}\` contract is marked red.
3. Identical parts are marked in gray.

`,[i,s]=w6e(t,e,r),o="",a=0;for(o+=hr.grey("["),i.forEach(u=>{if(a>0&&(o+=hr.grey(", ")),typeof s[a]>"u")o+=hr.red(`{
`),o+=hr.red("    satoshi:"+u.satoshis),o+=hr.red(`,
`),o+=hr.red("    script:"),o+=hr.red($6(g0.bsv.Script.fromHex(u.script).toASM())),o+=hr.red(`
`),o+=hr.red("}");else{if(o+=hr.grey(`{
`),o+=hr.grey("    satoshi:"),u.satoshis===s[a].satoshis?o+=hr.grey(u.satoshis+""):(o+=hr.red(u.satoshis+""),o+=hr.green(s[a].satoshis+"")),o+=hr.grey(`,
`),o+=hr.grey("    script:"),u.script===s[a].script)o+=hr.grey($6(g0.bsv.Script.fromHex(u.script).toASM()));else{let[c,h]=S6e(s[a].script,u.script);(0,j6.default)(c,h).forEach(f=>{f[0]===j6.default.INSERT?o+=hr.red($6(f[1])):f[0]===j6.default.DELETE?o+=hr.green($6(f[1])):o+=hr.grey($6(f[1]))})}o+=hr.grey(`
}`)}a++});a<s.length;a++){let u=s[a];o+=hr.grey(","),o+=hr.green(`{
`),o+=hr.green("    satoshi:"+u.satoshis),o+=hr.green(`,
`),o+=hr.green("    script:"),o+=hr.green($6(g0.bsv.Script.fromHex(u.script).toASM())),o+=hr.green(`
`),o+=hr.green("}")}return o+=hr.grey("]"),n=n+`Outputs: ${o}`,wq.AbstractContract.isStateful(t)&&(n=n+`

States: ${E6e(i,s)}`),n}mu.diffOutputs=I6e;function P6e(t){let e=new Map;return t.forEach(r=>{(r.nexts||[]).forEach(n=>{if(!e.has(n.atOutputIndex))e.set(n.atOutputIndex,n);else if(e.get(n.atOutputIndex).instance!==n.instance)throw new Error(`The ${n.atOutputIndex}-th output of the transaction is repeatedly bound to the contract instance`)})}),Array.from(e.values()).sort((r,n)=>r.atOutputIndex-n.atOutputIndex)}mu.mergeNexts=P6e});var Tq=$(uy=>{k();M();Object.defineProperty(uy,"__esModule",{value:!0});uy.throwUnInitializing=void 0;function O6e(t){throw new Error(`'${t}.compile' or '${t}.loadArtifact' should be called before initializing any instance!`)}uy.throwUnInitializing=O6e});var a9=$(gu=>{k();M();var B6e=gu&&gu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C6e=gu&&gu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),k6e=gu&&gu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B6e(e,t,r);return C6e(e,t),e},Qo=gu&&gu.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(gu,"__esModule",{value:!0});gu.SmartContract=void 0;var b0=k6e(jc()),M6e=W_(),K6=Ro();nE();var Ze=nr(),Aq=RL(),R6e=Er(),Hr=$p(),Ln=pl(),N6e=hf(),Iq=pu(),o9=k6(),bE=V6(),Pq=ey(),cy=Eq(),Bf=k6(),fy=Tq(),bl=class{static compileImpl(e){return Qo(this,void 0,void 0,function*(){let r=b0.mkdtempSync((0,K6.join)((0,M6e.tmpdir)(),"scrypt-ts-")),n=yield(0,Ze.compileContractAsync)(e,{sourceMap:!0,artifact:!0,out:r});if(n.errors.length>0)throw new Error(`Compilation failed for class \`${this.name}\`. Check the output details at project building time!`);{let i=(0,K6.basename)(e).replace(".scrypt",".json"),s=b0.readdirSync(r).filter(o=>o==i)[0];s&&b0.copyFileSync((0,K6.join)(r,s),(0,K6.join)((0,K6.dirname)(e),s))}return n})}static compile(){return Qo(this,void 0,void 0,function*(){let e=yield this.getTranspileErrors();if(Array.isArray(e)&&e[0])throw e[0];let r=this._loadCachedArtifact();if(r)this.DelegateClazz=(0,Ze.buildContractClass)(r);else{let n=this._getScryptFilePath(),i=yield this.compileImpl(n);this.DelegateClazz=(0,Ze.buildContractClass)(i),r=i.toArtifact()}return r})}static getTranspileErrors(){return Qo(this,void 0,void 0,function*(){if(!(0,Bf.isInNodeEnv)())throw new Error("the 'getTranspileErrors()' method should only be called in Node.js environment!");let e=this._getTransformationResult();return e.success?[]:e.errors})}static loadArtifact(e=void 0){let r;if(typeof e>"u"?r=this._loadCachedArtifact():typeof e=="string"?r=this._loadArtifact(e):r=e,r===void 0)throw new Error(`Cannot find the artifact file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);this.DelegateClazz=(0,Ze.buildContractClass)(r)}static getArtifact(){if(!this.DelegateClazz)throw new Error("No artifact found, Please compile the contract first.");return this.DelegateClazz.artifact}static _getTransformationResult(){let e=this._getScryptFilePath(),r=(0,o9.alterFileExt)(e,"transformer.json");return JSON.parse(b0.readFileSync(r).toString())}static _getScryptFilePath(){let e=Reflect.getMetadata("scrypt:filepath",this);if(e)return e;let r=(0,K6.join)(".",Aq.INDEX_FILE_NAME);if(!b0.existsSync(r))throw new Error("Cannot find `scrypt.index.json` file, run `npx scrypt-cli@latest compile` to generate it.");let i=new Aq.IndexerReader(r).getFullPath(this.name);if(!b0.existsSync(i))throw new Error(`Cannot find the bundled scrypt file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);return Reflect.defineMetadata("scrypt:filepath",i,this),i}static _loadCachedArtifact(){let e=this._getScryptFilePath(),r=(0,o9.alterFileExt)(e,"json");return this._loadArtifact(r)}static _loadArtifact(e){if(!!b0.existsSync(e))return JSON.parse(b0.readFileSync(e,"utf8").toString())}getDelegateClazz(){var e;return(e=Object.getOwnPropertyDescriptor(this.constructor,"DelegateClazz"))===null||e===void 0?void 0:e.value}static getDelegateClazz(){return this.DelegateClazz}getDelegateInstance(){return this.delegateInstance}setDelegateInstance(e){this.delegateInstance=e}constructor(...e){if(this.enableUpdateEMC=!1,this._txBuilders=new Map,Object.getPrototypeOf(this.constructor).name==="SmartContract")this._initDelegateInstance(...e);else try{this._initDelegateInstance(...e)}catch{}}_initDelegateInstance(...e){let r=this.getDelegateClazz();r||(0,fy.throwUnInitializing)(this.constructor.name);let n=e.map((i,s)=>{if(i instanceof Pq.SmartContractLib)return i.getArgs();if(i instanceof Ln.HashedMap||i instanceof Ln.HashedSet){let a=r.abi.find(u=>u.type===Ze.ABIEntityType.CONSTRUCTOR).params[s].type;return i.attachTo(a,r),i}return i});this.delegateInstance=new r(...n),this.delegateInstance.isGenesis=!1}init(...e){this._initDelegateInstance(...e)}verify(e){if(this._csNum=0,!(0,Bf.isInNodeEnv)()){console.error("the 'verify' method should only be called in Node.js environment!");return}let r=Object.getPrototypeOf(this).constructor._getScryptFilePath(),n=r.replace(/\.scrypt$/,".scrypt.map");if(!b0.existsSync(n))throw new Error(`cannot find the bundled sourcemap file for \`${typeof this}\` at ${n}`);let i=JSON.parse(b0.readFileSync(n).toString()),s={};if(this.to){s.tx=this.to.tx;let o=this.to.inputIndex;s.inputIndex=o,s.inputSatoshis=this.to.tx.inputs[o].output.satoshis}try{let o=(u=>{let c=u.verify(s);if(!c.success&&c.error){let h=/\[(.+?)\]\((.+?)#(\d+)\)/.exec(c.error);c.error.substring(0,h.index);let f=parseInt(h[3]),p=i[f-1][0][2]+1;c.error=`[Go to Source](file://${r}:${p})`}return c}).bind(this),a=this.buildEntryMethodCall(e);return a instanceof Promise?a.then(u=>o(u)):o(a)}catch(o){throw o}}getUnlockingScript(e){try{let r=this.clone().buildEntryMethodCall(e);return r instanceof Promise?r.then(n=>n.unlockingScript):r.unlockingScript}catch(r){throw r}}syncStateProps(){this.delegateInstance.isGenesis||(Reflect.getMetadata("scrypt:stateProps",this)||[]).forEach(r=>{this[r]instanceof Pq.SmartContractLib?this.delegateInstance[r]=this[r].getState():this[r]instanceof Ln.HashedMap?this.delegateInstance[r]=this[r]:this[r]instanceof Ln.HashedSet?this.delegateInstance[r]=this[r]:this.delegateInstance[r]=this[r]})}get lockingScript(){return this.syncStateProps(),this.delegateInstance.lockingScript}get scriptSize(){return this.lockingScript.toBuffer().length}get codePart(){return this.delegateInstance.codePart.toHex()}get scriptHash(){return(0,Ze.sha256)(this.lockingScript.toHex()).match(/.{2}/g).reverse().join("")}setAsmVars(e){this.delegateInstance.replaceAsmVars(e)}get asmArgs(){return this.delegateInstance.asmArgs}clone(e){this.syncStateProps();let r=["from","to","_signer","_provider"].concat(e?.refCloneProps||[]),n=r.map(s=>this[s]);r.forEach(s=>this[s]=void 0);let i=(0,R6e.cloneDeep)(this);return r.forEach((s,o)=>i[s]=n[o]),r.forEach((s,o)=>this[s]=n[o]),i}next(e){let r=this.clone(e);return r.from=void 0,r.to=void 0,r.delegateInstance.isGenesis=!1,r.prependNOPScript(null),r}markAsGenesis(){return this.delegateInstance.isGenesis=!0,this}buildStateOutput(e){let r=this.getStateScript();return Hr.Utils.buildOutput(r,e)}buildChangeOutput(){if(this.changeAmount>BigInt(0)){let e=Hr.Utils.buildPublicKeyHashScript(this.changeAddress);return Hr.Utils.buildOutput(e,this.changeAmount)}return(0,Ln.toByteString)("")}getStateScript(){let e=Hr.VarIntWriter.writeBool(!1);return this.delegateInstance.stateProps.forEach(r=>{let n=this[r.name];(n instanceof Ln.HashedMap||n instanceof Ln.HashedSet)&&(n={_data:n.data()}),(0,Ze.flatternArg)(Object.assign({},r,{value:n}),this.delegateInstance.resolver,{state:!0,ignoreValue:!1}).forEach(i=>{["bytes","PubKey","Ripemd160","Sig","Sha1","SigHashPreimage","Sha256","SigHashType","OpCodeType"].includes(i.type)?e+=Hr.VarIntWriter.writeBytes(i.value):i.type==="int"||i.type==="PrivKey"?e+=Hr.VarIntWriter.writeInt(i.value):i.type==="bool"&&(e+=Hr.VarIntWriter.writeBool(i.value))})}),this.codePart+Hr.VarIntWriter.serializeState(e)}checkSig(e,r,n="signature check failed"){if(!this.checkSignatureEncoding(e)||!this.checkPubkeyEncoding(r))return!1;let i=!1;this._assertToExist();let s=A.Buffer.from(e,"hex"),o=A.Buffer.from((0,Ln.toByteString)(r),"hex");try{let a=Ze.bsv.crypto.Signature.fromTxFormat(s),u=Ze.bsv.PublicKey.fromBuffer(o,!1),c=this.to.tx,h=this.to.inputIndex||0,f=this.to.tx.inputs[h].output.satoshis,p=this.lockingScript.subScript(this._csNum-1);i=c.verifySignature(a,u,h,p,Ze.bsv.crypto.BN.fromNumber(f),Ze.DEFAULT_FLAGS)}catch{i=!1}if(!i&&s.length)throw new Error(n);return i}checkPreimageAdvanced(e,r,n,i,s,o,a){let u=(0,Hr.hash256)((0,Ln.toByteString)(e)),c=Hr.Tx.sign(Hr.Tx.fromBEUnsigned(u),r,i,s,o,a);return this.checkSig(c,n)}checkPreimageSigHashType(e,r){return this.checkPreimageAdvanced(e,Hr.Tx.privKey,Hr.Tx.pubKey,Hr.Tx.invK,Hr.Tx.r,Hr.Tx.rBigEndian,r)}checkPreimage(e){return this.checkPreimageAdvanced(e,Hr.Tx.privKey,Hr.Tx.pubKey,Hr.Tx.invK,Hr.Tx.r,Hr.Tx.rBigEndian,Hr.SigHash.ALL)}insertCodeSeparator(){this._csNum++}checkMultiSig(e,r){for(let a=0;a<e.length;a++)if(!this.checkSignatureEncoding(e[a]))return!1;for(let a=0;a<r.length;a++)if(!this.checkPubkeyEncoding(r[a]))return!1;this._assertToExist();let n=this.to.tx,i=this.to.inputIndex||0,s=this.to.tx.inputs[i].output.satoshis,o=new Set;for(let a=0;a<e.length;a++){let u=Ze.bsv.crypto.Signature.fromTxFormat(A.Buffer.from((0,Ln.toByteString)(e[a]),"hex")),c=!0;for(let h=0;h<r.length;h++){if(o.has(h))continue;o.add(h);let f=Ze.bsv.PublicKey.fromBuffer(A.Buffer.from((0,Ln.toByteString)(r[h]),"hex"),!1),p=this.lockingScript.subScript(this._csNum-1);try{if(n.verifySignature(u,f,i,p,Ze.bsv.crypto.BN.fromNumber(s),Ze.DEFAULT_FLAGS)){c=!1;break}}catch{continue}}if(c)return!1}return!0}timeLock(e){let r=!0;return r=this.ctx.sequence<4294967295,e<5e8&&(r=r&&this.ctx.locktime<5e8),r&&this.ctx.locktime>=e}get changeAmount(){return this._assertToExist(),BigInt(this.to.tx.getChangeAmount())}get prevouts(){return this._assertToExist(),this.sigTypeOfMethod(this._currentMethod)&Ze.bsv.crypto.Signature.SIGHASH_ANYONECANPAY?(0,Ln.toByteString)(""):this.to.tx.prevouts()}get changeAddress(){if(this._assertToExist(),!this.to.tx._changeAddress)throw new Error("No change output found on the transaction");return(0,Ze.PubKeyHash)(this.to.tx._changeAddress.toObject().hash)}checkPubkeyEncoding(e){return!((Ze.DEFAULT_FLAGS&Ze.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&!Ze.bsv.PublicKey.isValid((0,Ln.toByteString)(e)))}checkSignatureEncoding(e){var r=A.Buffer.from((0,Ln.toByteString)(e),"hex"),n;if(r.length===0)return!0;if((Ze.DEFAULT_FLAGS&(Ze.bsv.Script.Interpreter.SCRIPT_VERIFY_DERSIG|Ze.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S|Ze.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC))!==0&&!Ze.bsv.crypto.Signature.isTxDER(r))return!1;if((Ze.DEFAULT_FLAGS&Ze.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S)!==0){if(n=Ze.bsv.crypto.Signature.fromTxFormat(r),!n.hasLowS())return!1}else if((Ze.DEFAULT_FLAGS&Ze.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&(n=Ze.bsv.crypto.Signature.fromTxFormat(r),!n.hasDefinedHashtype()||!(Ze.DEFAULT_FLAGS&Ze.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID)&&n.nhashtype&Ze.bsv.crypto.Signature.SIGHASH_FORKID||Ze.DEFAULT_FLAGS&Ze.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID&&!(n.nhashtype&Ze.bsv.crypto.Signature.SIGHASH_FORKID)))return!1;return!0}hasPrevouts(e){let r=this.getDelegateClazz().abi.find(n=>n.name===e);if(!r)throw new Error(`contract ${this.constructor.name} doesnot have method ${e}`);return r.params.findIndex(n=>n.name==="__scrypt_ts_prevouts"&&n.type==="bytes")>-1}callDelegatedMethod(e,...r){let n=this.getDelegateClazz().abi.find(h=>h.name===e);if(!n)return;this._currentMethod=e;let i=n.params.slice(0,r.length),s=n.params.slice(r.length),o=new Map,a,u,c=new Map;return s.forEach((h,f)=>{if(h.name==="__scrypt_ts_txPreimage"&&h.type==="SigHashPreimage"){this._assertToExist();let p=this.sigTypeOfMethod(e);a=(0,Ln.SigHashPreimage)(this.to.tx.getPreimage(this.to.inputIndex,p)),o.set(h.name,a)}if(h.name==="__scrypt_ts_changeAmount"&&h.type==="int"&&o.set(h.name,this.changeAmount),h.name==="__scrypt_ts_changeAddress"&&h.type==="Ripemd160"&&o.set(h.name,this.changeAddress),h.name.startsWith("__scrypt_ts_accessPathForProp__")&&h.type==="bytes"){let p=h.name.replace("__scrypt_ts_accessPathForProp__",""),l=this[p];if(!(0,Ln.instanceOfSIATraceable)(l))throw new Error(`Internel error: traceable object \`${p}\` not found`);l.startTracing();let y=i.length+f;c.set(y,()=>(l.stopTracing(),l.serializedAccessPath())),o.set(h.name,(0,N6e.randomBytes)(2*30).toString("hex"))}h.name==="__scrypt_ts_prevouts"&&h.type==="bytes"&&(u=this.prevouts,o.set(h.name,u))}),r.push(...s.map(h=>{let f=o.get(h.name);if(f===void 0)throw new Error(`missing auto-filled value for argument ${h.name}`);return f})),{publicMethodCall:this.encodeMethodCall(e,r),txPreimage:a,prevouts:u,traceableArgCallbacks:c,abi:n}}encodeMethodCall(e,r){return this.getDelegateClazz().prototype[e].call(this.delegateInstance,...r)}setCtx(e){let r=Hr.SigHash.outpoint(e);this._ctx={version:Hr.SigHash.nVersion(e),utxo:{value:Hr.SigHash.value(e),script:Hr.SigHash.scriptCode(e),outpoint:{txid:r.slice(0,32*2),outputIndex:Hr.Utils.fromLEUnsigned(r.slice(32*2))}},hashPrevouts:Hr.SigHash.hashPrevouts(e),hashSequence:Hr.SigHash.hashSequence(e),sequence:Hr.SigHash.nSequence(e),hashOutputs:Hr.SigHash.hashOutputs(e),locktime:Hr.SigHash.nLocktime(e),sigHashType:Hr.SigHash.sigHashType(e),serialize(){return e}}}clearCtx(){this._ctx=void 0}setDataPartInASM(e){this.delegateInstance.setDataPartInASM(e)}setDataPartInHex(e){this.delegateInstance.setDataPartInHex(e)}get dataPart(){return this.delegateInstance.dataPart}buildEntryMethodCall(e){this.entryMethodCall=void 0,this.enableUpdateEMC=!0;let r=(()=>{if(!this.entryMethodCall)throw new Error("a contract public method should be called on the `self` parameter within the `callPub` function");let i=this.entryMethodCall;return this.entryMethodCall=void 0,this.enableUpdateEMC=!1,i}).bind(this),n=e(this);return n instanceof Promise?n.then(()=>r()):r()}_assertToExist(){if(!this.to)throw new Error("`this.to` is undefined, it should be set properly before calling the method")}_assertFromExist(){if(!this.from)throw new Error("`this.from` is undefined, it should be set properly before calling the method")}connect(e){return Qo(this,void 0,void 0,function*(){if(!(yield e.isAuthenticated()))throw new Error("the signer is unauthenticated");this._signer=e,this._provider=e.provider})}setProvider(e){this._provider=e}get signer(){if(!this._signer)throw new Error("No signer found!");return this._signer}get provider(){if(!this._provider)throw new Error("No provider found!");return this._provider}buildDeployTransaction(e,r,n){return Qo(this,void 0,void 0,function*(){let i=new Ze.bsv.Transaction().from(e).addOutput(new Ze.bsv.Transaction.Output({script:this.lockingScript,satoshis:r}));return i.change(n),i.feePerKb(yield this.provider.getFeePerKb()),i})}deploy(e=1,r){return Qo(this,void 0,void 0,function*(){this.markAsGenesis();let n=r?.changeAddress||(yield this.signer.getDefaultAddress()),i=yield this.buildDeployTransaction(r?.utxos||[],e,n),s=r?.address||(yield this.signer.getDefaultAddress()),o=yield this.provider.getFeePerKb();yield bl.autoPayfee(i,o,this.signer,s);let a=yield this.signer.signAndsendTransaction(i,{address:s});return this.from={tx:a,outputIndex:0},a})}_prepareArgsForMethodCall(e,...r){let n=this.getDelegateClazz().abi.find(c=>c.name===e);if(!n)throw new Error(`\`${this.constructor.name}.${e}\` no exists!`);let i=this.getMethodsMeta(e).argLength;if(r.length!=i&&r.length!=i+1)throw new Error(`argument count mismatch while calling \`this.methods.${e}\`. Expected ${i} or ${i+1} (if passing \`MethodCallOptions\`), but got ${r.length}`);let s=r.slice(0,i),o=r[i],a={verify:!1,partiallySigned:!1,exec:!0,autoPayFee:!0,multiContractCall:!1,next:[]};if(o){if(typeof o!="object")throw new Error(`The last argument is expected to be an object of type \`MethodCallOptions\`. Got \`${typeof o}' instead.`);Object.assign(a,o)}let u=s.reduce((c,h,f)=>{let l=n.params[f].type.match(/^Sig(\[(\d+)\])?$/),y=typeof h;if(l){let _=l[2]||"1";if(y!=="function")throw new Error("a callback function of type `(sigResponses: SignatureResponse[]) => Sig | Sig[] ` should be given for the Sig type argument");c.set(f,{callback:h,length:parseInt(_)})}else if(y==="function")throw new Error("a callback function given for the non-Sig type argument is not allowed");return c},new Map);return{methodArgs:s,methodCallOptions:a,sigArgs:u}}call(e,...r){return Qo(this,void 0,void 0,function*(){this._csNum=0;let{methodArgs:n,methodCallOptions:i,sigArgs:s}=this._prepareArgsForMethodCall(e,...r);return i.multiContractCall===!0?this.multiContractCall(e,i,n,s):this.singleContractCall(e,i,n,s)})}singleContractCall(e,r,n,i){return Qo(this,void 0,void 0,function*(){let s=yield this.signer.getDefaultAddress(),o=yield this.provider.getFeePerKb(),a=this.getTxBuilder(e);if(!a)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let u=n.map((l,y)=>{let _=i.get(y);return _?_.length>1?new Array(_.length).fill((0,Bf.getDummySig)()):(0,Bf.getDummySig)():l});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let c=r.autoPayFee===void 0||r.autoPayFee===!0,{tx:h,atInputIndex:f,nexts:p}=yield a.call(null,this,r,...u);if(h.feePerKb(o),this.to={tx:h,inputIndex:f},this.dummySignSingleCallTx(h,f,e,...u),c){let l=this.hasPrevouts(e);yield bl.autoPayfee(h,o,this.signer,s,l?36:0),l&&(this.dummySignSingleCallTx(h,f,e,...u),h._feePerKb=o,Object.getPrototypeOf(h)._updateChangeOutput.apply(h))}if(yield this.signSingleCallTx(h,f,s,r,e,n,i),this.to={tx:h,inputIndex:f},p&&p.forEach(l=>{l.instance.from={tx:h,outputIndex:l.atOutputIndex}}),!r.partiallySigned){if(r.verify||q.env.NETWORK==="local"){let l=h.verify();if(typeof l=="string")throw new Error(`Transaction verify failed: ${l}`)}yield this.provider.sendTransaction(h)}return{tx:h,atInputIndex:f,nexts:p,next:Array.isArray(p)?p[0]:void 0}})}multiContractCall(e,r,n,i){return Qo(this,void 0,void 0,function*(){let s=this.getTxBuilder(e);if(!s)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let o=n.map((h,f)=>{let p=i.get(f);return p?p.length>1?new Array(p.length).fill((0,Bf.getDummySig)()):(0,Bf.getDummySig)():h});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let{tx:a,atInputIndex:u,nexts:c}=yield s.call(null,this,r,...o);return this.to={tx:a,inputIndex:u},c&&c.forEach(h=>{h.instance.from={tx:a,outputIndex:h.atOutputIndex}}),Object.prototype.hasOwnProperty.call(a,"calllogs")?a.calllogs.push({instance:this,methodArgs:n,sigArgs:i,atInputIndex:u,nexts:c,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}):Object.defineProperty(a,"calllogs",{value:[{instance:this,methodArgs:n,sigArgs:i,atInputIndex:u,nexts:c,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}],writable:!1}),{tx:a,atInputIndex:u,nexts:c,next:Array.isArray(c)?c[0]:void 0}})}signSingleCallTx(e,r,n,i,s,o,a){return Qo(this,void 0,void 0,function*(){let u=this.provider.getNetwork(),c=e.inputs.flatMap((f,p)=>{if(!(!i.autoPayFee&&p!==r)){if(p===r)return(i.pubKeyOrAddrToSign?(0,Iq.parseSignatureOption)(i.pubKeyOrAddrToSign,u):[{address:n,sigHashType:Ze.DEFAULT_SIGHASH_TYPE}]).map(y=>({prevTxId:(0,Ze.toHex)(f.prevTxId),outputIndex:f.outputIndex,inputIndex:p,satoshis:f.output.satoshis,scriptHex:f.output.script.toHex(),address:y.address,sigHashType:y.sigHashType,csIdx:y.csIdx,data:y.data}));{let l=f.output.script.isPublicKeyHashOut()?Ze.bsv.Address.fromPublicKeyHash(f.output.script.getPublicKeyHash(),u):n;return{prevTxId:(0,Ze.toHex)(f.prevTxId),outputIndex:f.outputIndex,inputIndex:p,satoshis:f.output.satoshis,scriptHex:f.output.script.toHex(),address:l,sigHashType:Ze.DEFAULT_SIGHASH_TYPE,csIdx:void 0}}}}).filter(f=>f!==void 0);(yield this.signer.getSignatures(e.toString(),c)).reduce((f,p)=>{let l=p.inputIndex,y=f.get(l)||[];return y.push(p),f.set(l,y),f},new Map).forEach((f,p)=>{if(p===r){let l=o.map((y,_)=>{let O=a.get(_);if(!O)return y;let F=E=>{if(typeof E!="string")throw new Error(`the ${_+1}th argument calback function should returns a valid \`Sig\``)},B=O.callback.call(this,f)||"";if(B instanceof Array){if(B.length!==O.length)throw new Error(`the ${_+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${O.length}, but got ${B.length}`);B.forEach(E=>F(E))}else F(B);return B});if(i.exec){let y=this.getUnlockingScript(_=>{_[s](...l)});e.inputs[r].setScript(y)}else{let{publicMethodCall:y}=this.callDelegatedMethod(s,...l);e.inputs[r].setScript(y.toScript())}}else i.autoPayFee&&f.forEach(l=>{e.applySignature({inputIndex:l.inputIndex,sigtype:l.sigHashType||Ze.DEFAULT_SIGHASH_TYPE,publicKey:Ze.bsv.PublicKey.fromString(l.publicKey),signature:Ze.bsv.crypto.Signature.fromTxFormat(A.Buffer.from(l.sig,"hex"))})})})})}dummySignSingleCallTx(e,r,n,...i){e.inputs.forEach((s,o)=>{if(o===r){let{publicMethodCall:a}=this.callDelegatedMethod(n,...i);s.setScript(a.toScript())}})}get methods(){let e=this;return this.getDelegateClazz().abi.filter(n=>n.type==="function").map(n=>n.name).reduce((n,i)=>(n[i]=(...s)=>e.call(i,...s),n),{})}getTxBuilder(e){if(!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and do not have any bounded \`txBuilder\``);if(this._txBuilders.has(e))return this._txBuilders.get(e);let n=Object.getOwnPropertyNames(this.constructor).filter(i=>typeof this.constructor[i]=="function").find(i=>i===`buildTxFor${(0,o9.camelCaseCapitalized)(e)}`);return n?this.constructor[n]:this.getDefaultTxBuilder(e)}getDefaultTxBuilder(e){return bl.defaultCallTxBuilder(this.getMethodsMeta(e).sigHashType)}bindTxBuilder(e,r){if(this.getDelegateClazz()||(0,fy.throwUnInitializing)(this.constructor.name),!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and cat not set bounded \`txBuilder\``);this._txBuilders.set(e,r)}static defaultCallTxBuilder(e){return function(r,n,...i){return Qo(this,void 0,void 0,function*(){let s=yield r.signer.getDefaultAddress(),o=new Ze.bsv.Transaction().addInput(r.buildContractInput(n.fromUTXO)),a;if(a=Array.from([n.next||[]]).flat().map((c,h)=>(o.addOutput(new Ze.bsv.Transaction.Output({script:c.instance.lockingScript,satoshis:c.balance})),Object.assign({},c,{atOutputIndex:h}))),o.change(n.changeAddress||s),n.sequence!==void 0&&o.setInputSequence(0,n.sequence),n.lockTime){let c=n.sequence!==void 0?n.sequence:4294967294;o.setInputSequence(0,c),o.setLockTime(n.lockTime)}return Promise.resolve({tx:o,atInputIndex:0,nexts:a,next:Array.isArray(a)?a[0]:void 0})})}}buildContractInput(e){if(!e&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");if(e)return new Ze.bsv.Transaction.Input({prevTxId:e.txId,outputIndex:e.outputIndex,script:new Ze.bsv.Script(""),output:new Ze.bsv.Transaction.Output({script:this.lockingScript,satoshis:e.satoshis})});if("tx"in this.from)return new Ze.bsv.Transaction.Input({prevTxId:this.from.tx.id,outputIndex:this.from.outputIndex,script:new Ze.bsv.Script(""),output:new Ze.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})});{let r=this.from;return new Ze.bsv.Transaction.Input({prevTxId:r.txId,outputIndex:r.outputIndex,script:new Ze.bsv.Script(""),output:new Ze.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})})}}isStateful(){return Reflect.getOwnMetadata(bE.StatePropsMetaKey,this.constructor.prototype)!==void 0}sigTypeOfMethod(e){let r=this.getMethodsMeta(e);if(!r)throw new Error(`${e} is not a public @method of ${this.constructor.name}`);return(0,Bf.toNumber)(r.sigHashType)}getMethodsMeta(e){return Reflect.getOwnMetadata(bE.MethodsMetaKey,this.constructor.prototype).get(e)}diffOutputs(e){this._assertToExist();try{let r=(0,cy.diffOutputs)(this.delegateInstance,(0,cy.getExpectedOutputs)(e),(0,cy.getTransationOutputs)(this.to.tx,this.to.inputIndex,this.sigTypeOfMethod(this._currentMethod)));console.info(r)}catch(r){throw new Error(`diffOutputs failed, error: ${r.message}`)}}get debug(){let e=this;return{diffOutputs:r=>{e.diffOutputs(r)},genLaunchConfig:()=>{this.to?console.log(e.delegateInstance.genLaunchConfig({tx:e.to.tx,inputIndex:e.to.inputIndex,inputSatoshis:e.to.tx.getInputAmount(e.to.inputIndex)})):console.log(e.delegateInstance.genLaunchConfig())}}}get balance(){return this._assertFromExist(),"tx"in this.from?this.from.tx.outputs[this.from.outputIndex].satoshis:this.from.satoshis}get utxo(){return this._assertFromExist(),"tx"in this.from?{txId:this.from.tx.id,outputIndex:this.from.outputIndex,script:this.from.tx.outputs[this.from.outputIndex].script.toHex(),satoshis:this.from.tx.outputs[this.from.outputIndex].satoshis}:this.from}get ctx(){if(!this._ctx)throw new Error("`this.ctx` is undefined, `to` should be called before to access its value!");return this._ctx}static fromLockingScript(e,r,n){this.DelegateClazz||(0,fy.throwUnInitializing)(this.name);let i;if(n){if(!e.startsWith(n.toHex()))throw new Error("script doesn't start with nopScript");let c=e.slice(n.toHex().length);i=this.DelegateClazz.fromHex(c)}else i=this.DelegateClazz.fromHex(e);let s=i.ctorArgs().map(c=>c.type.startsWith("HashedMap")?new Ln.HashedMap:c.type.startsWith("HashedSet")?new Ln.HashedSet:c.value),o=new this(...s);o.delegateInstance=i,o.prependNOPScript(n||null);let a=Reflect.getMetadata(bE.PropsMetaKey,o)||[],u=i.stateProps.map(c=>c.name)||[];return a.forEach(c=>{let h=i.isGenesis;if(o[c]instanceof Ln.HashedMap||o[c]instanceof Ln.HashedSet){if(r===void 0||r[c]===void 0)throw new Error(`should pass the currrent value of \`${c}\``);if(o[c]instanceof Ln.HashedMap&&!(r[c]instanceof Ln.HashedMap))throw new Error(`\`offchainValues.${c}\` should be a HashedMap`);if(o[c]instanceof Ln.HashedSet&&!(r[c]instanceof Ln.HashedSet))throw new Error(`\`offchainValues.${c}\` should be a HashedSet`);if(r[c].attachTo(o[c]._type,this.DelegateClazz),u.includes(c)&&!h&&i[c]._data!==r[c].data())throw new Error(`the current value of \`${c}\` passed in does not match the state in the script`);o[c]=r[c]}else u.includes(c)&&!h&&(o[c]=i[c])}),Object.getOwnPropertyNames(r||{}).filter(c=>!a.includes(c)).forEach(c=>o[c]=r[c]),o}static fromTx(e,r,n,i){if(r<0||r>=e.outputs.length)throw new Error(`the value of \`atOutputIndex\` is out of range [0, ${e.outputs.length})`);let s=this.fromLockingScript(e.outputs[r].script.toHex(),n,i);return s.from={tx:e,outputIndex:r},s}static fromUTXO(e,r,n){let i=this.fromLockingScript(e.script,r,n);return i.from=e,i}static dummySignMultiCallTx(e,r){let n=r.map(i=>i.instance);e.inputs.forEach((i,s)=>{if(n[s]){let o=r[s].methodArgs.map((u,c)=>{let h=r[s].sigArgs.get(c);return h?h.length>1?new Array(h.length).fill((0,Bf.getDummySig)()):(0,Bf.getDummySig)():u}),{publicMethodCall:a}=n[s].callDelegatedMethod(r[s].methodName,...o);i.setScript(a.toScript())}})}static signMultiCallTx(e,r,n,i){return Qo(this,void 0,void 0,function*(){let s=n.map(l=>l.instance),o=yield e.getDefaultAddress(),a=e.provider.getNetwork(),u=r.inputs.map((l,y)=>({input:l,inputIndex:y,instance:s[y],calllog:n[y]})).filter(l=>l.instance instanceof bl),c=[];for(let l of u){let{input:y,calllog:_,instance:O,inputIndex:F}=l,B=_.pubKeyOrAddrToSign,I=(B?(0,Iq.parseSignatureOption)(B,a):[{address:o,sigHashType:Ze.DEFAULT_SIGHASH_TYPE}]).map(N=>({prevTxId:(0,Ze.toHex)(y.prevTxId),outputIndex:y.outputIndex,inputIndex:F,satoshis:y.output.satoshis,scriptHex:y.output.script.toHex(),address:N.address,sigHashType:N.sigHashType,csIdx:N.csIdx,data:N.data})),U=[];_.sigArgs.size>0&&(U=yield O.signer.getSignatures(r.toString(),I)),c.push({unlockingScript:this.handleSigResponses(U,O,_,F),inputIndex:l.inputIndex})}if(c.forEach(l=>{r.inputs[l.inputIndex].setScript(l.unlockingScript)}),!i.autoPayFee)return;let f=r.inputs.map((l,y)=>({input:l,inputIndex:y})).filter(l=>typeof s[l.inputIndex]>"u").map(l=>{let{input:y,inputIndex:_}=l;return{prevTxId:(0,Ze.toHex)(y.prevTxId),outputIndex:y.outputIndex,inputIndex:_,satoshis:y.output.satoshis,scriptHex:y.output.script.toHex(),address:o,sigHashType:Ze.DEFAULT_SIGHASH_TYPE,csIdx:void 0}});(yield e.getSignatures(r.toString(),f)).forEach(l=>{r.applySignature({inputIndex:l.inputIndex,sigtype:l.sigHashType||Ze.DEFAULT_SIGHASH_TYPE,publicKey:Ze.bsv.PublicKey.fromString(l.publicKey),signature:Ze.bsv.crypto.Signature.fromTxFormat(A.Buffer.from(l.sig,"hex"))})})})}static handleSigResponses(e,r,n,i){let s=e.reduce((u,c)=>{let h=c.inputIndex,f=u.get(h)||[];return f.push(c),u.set(h,f),u},new Map),o=n.methodArgs.map((u,c)=>{let h=n.sigArgs.get(c);if(!h)return u;let f=l=>{if(typeof l!="string")throw new Error(`the ${c+1}th argument calback function should returns a valid \`Sig\``)},p=h.callback.call(this,s.get(i)||[])||"";if(p instanceof Array){if(p.length!==h.length)throw new Error(`the ${c+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${h.length}, but got ${p.length}`);p.forEach(l=>f(l))}else f(p);return p});n.exec&&r.getUnlockingScript(u=>{u[n.methodName](...o)});let{publicMethodCall:a}=r.callDelegatedMethod(n.methodName,...o);return a.toScript()}static multiContractCall(e,r,n){return Qo(this,void 0,void 0,function*(){n=Object.assign({},{verify:!1,partiallySigned:!1,autoPayFee:!0},n);let i=e.tx,s=i.calllogs||[];if(i.inputs.length<s.length)throw new Error("Check if all called contracts are added as inputs to the transaction");let o=n.autoPayFee,a=yield r.getDefaultAddress(),u=yield r.provider.getFeePerKb();if(i.feePerKb(u),this.dummySignMultiCallTx(i,s),o){let h=s.find(f=>f.instance.hasPrevouts(f.methodName))!==void 0;yield this.autoPayfee(i,u,r,a,h?36*s.length:0),h&&(this.dummySignMultiCallTx(i,s),i._feePerKb=u,Object.getPrototypeOf(i)._updateChangeOutput.apply(i))}if(yield this.signMultiCallTx(r,i,s,n),!n.partiallySigned){if(n.verify||q.env.NETWORK==="local"){let c=i.verify();if(typeof c=="string")throw new Error(`Transaction verify failed: ${c}`)}yield r.provider.sendTransaction(i)}return{tx:i,atInputIndices:s.map(c=>c.atInputIndex),nexts:(0,cy.mergeNexts)(s)}})}static parseCallData(e,r){this.DelegateClazz||(0,fy.throwUnInitializing)(this.name);let n=e.inputs[r].script,i=this.DelegateClazz.abiCoder.parseCallData(n.toHex());return Object.assign(Object.assign({},i),{args:i.args.filter(s=>!s.name.startsWith("__scrypt_ts"))})}static autoPayfee(e,r,n,i,s=0){return Qo(this,void 0,void 0,function*(){if(e.outputs.length>0&&(0,o9.checkTxFee)(e,r))return;let o=e.getEstimateSize(),a=e.inputAmount,u=e.outputAmount;e.getChangeOutput()===null&&e.getChangeAddress()!==null&&(o+=34,u+=1);let c=yield n.listUnspent(i,{unspentValue:a-u,estimateSize:o,feePerKb:r,additional:s});if(e.from(c),!(0,o9.checkTxFee)(e,r))throw new Error(`no sufficient utxos to pay the fee ${Math.ceil(o/1e3*r)}`)})}prependNOPScript(e){this.delegateInstance.prependNOPScript(e)}getPrependNOPScript(){return this.delegateInstance.getPrependNOPScript()}getOffchainUpdates(){return null}};gu.SmartContract=bl});var V6=$(fs=>{k();M();Object.defineProperty(fs,"__esModule",{value:!0});fs.prop=fs.PropsMetaKey=fs.StatePropsMetaKey=fs.method=fs.MethodsMetaKey=void 0;var u9=$p(),F6e=Er(),H6e=a9(),D6e=ey();fs.MethodsMetaKey="scrypt:methods";function U6e(t=u9.SigHash.ALL){return function(e,r,n){let i=n.value,s=Reflect.getOwnMetadata(fs.MethodsMetaKey,e)||new Map;return s.set(r,{argLength:i.length,sigHashType:t}),Reflect.defineMetadata(fs.MethodsMetaKey,s,e),{configurable:!0,enumerable:!1,get(){return(...u)=>{if(typeof e=="function")return i.apply(this,u);if(this instanceof D6e.SmartContractLib)return i.apply(this,u);if(this instanceof H6e.SmartContract){let p=this.callDelegatedMethod(r,...u);if(p){let{publicMethodCall:l,txPreimage:y,traceableArgCallbacks:_,abi:O,prevouts:F}=p;y&&(this.setCtx(y),O.params.find(I=>I.type==="SigHashPreimage"&&I.name==="__scrypt_ts_txPreimage")&&(0,u9.assert)(this.checkPreimageSigHashType(y,t),"checkPreimage failed!")),u=l.args.map(I=>I.value);let B=u.map(I=>(0,F6e.cloneDeep)(I));this._currentMethod=r,F&&y&&O.params.find(I=>I.type==="bytes"&&I.name==="__scrypt_ts_prevouts")&&(0,u9.assert)((0,u9.hash256)(F)===u9.SigHash.hashPrevouts(y),"check prevouts failed!");let E=i.apply(this,u);if(this._currentMethod=void 0,y&&this.clearCtx(),this.enableUpdateEMC&&!this.entryMethodCall){let I=B.map((U,N)=>{let H=_.get(N);return H?H():U});this.entryMethodCall=this.encodeMethodCall(r,I)}return E}return i.apply(this,u)}throw new Error(`@method decorator used on \`${this.name||this.constructor.name}#${r}\`, it should only be used in subclasses of \`SmartContract\` or \`SmartContractLib\``)}}}}}fs.method=U6e;fs.StatePropsMetaKey="scrypt:stateProps";fs.PropsMetaKey="scrypt:props";function L6e(t=!1){return function(e,r){if(t){let i=(Reflect.getMetadata(fs.StatePropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(fs.StatePropsMetaKey,i,e)}let n=(Reflect.getMetadata(fs.PropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(fs.PropsMetaKey,n,e)}}fs.prop=L6e});var Cq=$(yl=>{k();M();var Oq=yl&&yl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},hy=yl&&yl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(yl,"__esModule",{value:!0});yl.P2PKH=void 0;var G6=nr(),q6e=a9(),Bq=V6(),yE=$p(),IZe=pl(),z6=class extends q6e.SmartContract{constructor(e){super(...arguments),this.addr=e}unlock(e,r){(0,yE.assert)((0,yE.pubKey2Addr)(r)==this.addr,"public key hashes are not equal"),(0,yE.assert)(this.checkSig(e,r),"signature check failed")}get lockingScript(){return new G6.bsv.Script("").add(G6.bsv.Opcode.OP_DUP).add(G6.bsv.Opcode.OP_HASH160).add(G6.bsv.Script.fromASM(this.addr)).add(G6.bsv.Opcode.OP_EQUALVERIFY).add(G6.bsv.Opcode.OP_CHECKSIG)}};yl.P2PKH=z6;Oq([(0,Bq.prop)(),hy("design:type",String)],z6.prototype,"addr",void 0);Oq([(0,Bq.method)(),hy("design:type",Function),hy("design:paramtypes",[String,String]),hy("design:returntype",void 0)],z6.prototype,"unlock",null);var $6e={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PKH",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"},{name:"pubkey",type:"PubKey"}]},{type:"constructor",params:[{name:"addr",type:"Ripemd160"}]}],stateProps:[],buildType:"release",file:"",hex:"76a9<addr>88ac",sourceMapFile:""};z6.loadArtifact($6e)});var Rq=$(vl=>{k();M();var kq=vl&&vl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ly=vl&&vl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(vl,"__esModule",{value:!0});vl.P2PK=void 0;var vE=nr(),j6e=a9(),Mq=V6(),K6e=$p(),CZe=pl(),W6=class extends j6e.SmartContract{constructor(e){super(...arguments),this.pubKey=e}unlock(e){(0,K6e.assert)(this.checkSig(e,this.pubKey),"signature check failed")}get lockingScript(){return new vE.bsv.Script("").add(vE.bsv.Script.fromASM(this.pubKey)).add(vE.bsv.Opcode.OP_CHECKSIG)}};vl.P2PK=W6;kq([(0,Mq.prop)(),ly("design:type",String)],W6.prototype,"pubKey",void 0);kq([(0,Mq.method)(),ly("design:type",Function),ly("design:paramtypes",[String]),ly("design:returntype",void 0)],W6.prototype,"unlock",null);var V6e={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PK",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"}]},{type:"constructor",params:[{name:"pubKey",type:"PubKey"}]}],stateProps:[],buildType:"release",file:"",hex:"<pubKey>ac",sourceMapFile:""};W6.loadArtifact(V6e)});var Fq=$(dy=>{k();M();Object.defineProperty(dy,"__esModule",{value:!0});dy.bsv=void 0;var Nq=nr();Object.defineProperty(dy,"bsv",{enumerable:!0,get:function(){return Nq.bsv}});Nq.bsv.PrivateKey.prototype.toByteString=function(){return this.toHex()}});var Dq=$(py=>{k();M();Object.defineProperty(py,"__esModule",{value:!0});py.bsv=void 0;var Hq=nr();Object.defineProperty(py,"bsv",{enumerable:!0,get:function(){return Hq.bsv}});Hq.bsv.PublicKey.prototype.toByteString=function(){return this.toHex()}});var Lq=$(my=>{k();M();Object.defineProperty(my,"__esModule",{value:!0});my.bsv=void 0;var Uq=nr();Object.defineProperty(my,"bsv",{enumerable:!0,get:function(){return Uq.bsv}});Uq.bsv.Address.prototype.toByteString=function(){return this.toHex().slice(2)}});var xE=$(Cf=>{k();M();var G6e=Cf&&Cf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_E=Cf&&Cf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&G6e(e,t,r)};Object.defineProperty(Cf,"__esModule",{value:!0});_E(Fq(),Cf);_E(Dq(),Cf);_E(Lq(),Cf)});var qq=$(gy=>{k();M();Object.defineProperty(gy,"__esModule",{value:!0});gy.SignatureHashType=void 0;var z6e=wf();Object.defineProperty(gy,"SignatureHashType",{enumerable:!0,get:function(){return z6e.SignatureHashType}})});var jq=$($q=>{k();M();Object.defineProperty($q,"__esModule",{value:!0})});var Kq=$(jp=>{k();M();var W6e=jp&&jp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y6e=jp&&jp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&W6e(e,t,r)};Object.defineProperty(jp,"__esModule",{value:!0});Y6e(jq(),jp)});var Vq=$((rJe,SE)=>{k();M();typeof SE<"u"&&(SE.exports=_a);function _a(t){if(t)return X6e(t)}function X6e(t){for(var e in _a.prototype)t[e]=_a.prototype[e];return t}_a.prototype.on=_a.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};_a.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};_a.prototype.off=_a.prototype.removeListener=_a.prototype.removeAllListeners=_a.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};_a.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};_a.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};_a.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Zq=$((sJe,Xq)=>{k();M();Xq.exports=c9;c9.default=c9;c9.stable=Wq;c9.stableStringify=Wq;var by="[...]",Gq="[Circular]",Vp=[],Kp=[];function zq(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function c9(t,e,r,n){typeof n>"u"&&(n=zq()),wE(t,"",0,[],void 0,0,n);var i;try{Kp.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Yq(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Vp.length!==0;){var s=Vp.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Y6(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Vp.push([n,r,e,i])):Kp.push([e,r,t]):(n[r]=t,Vp.push([n,r,e]))}function wE(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Y6(Gq,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Y6(by,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Y6(by,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)wE(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];wE(t[c],c,a,n,t,s,o)}}n.pop()}}function Z6e(t,e){return t<e?-1:t>e?1:0}function Wq(t,e,r,n){typeof n>"u"&&(n=zq());var i=EE(t,"",0,[],void 0,0,n)||t,s;try{Kp.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Yq(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Vp.length!==0;){var o=Vp.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function EE(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Y6(Gq,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Y6(by,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Y6(by,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)EE(t[a],a,a,n,t,s,o);else{var u={},c=Object.keys(t).sort(Z6e);for(a=0;a<c.length;a++){var h=c[a];EE(t[h],h,a,n,t,s,o),u[h]=t[h]}if(typeof i<"u")Vp.push([i,e,t]),i[e]=u;else return u}n.pop()}}function Yq(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Kp.length>0)for(var n=0;n<Kp.length;n++){var i=Kp[n];if(i[1]===e&&i[0]===r){r=i[2],Kp.splice(n,1);break}}return t.call(this,e,r)}}});var e$=$((uJe,Qq)=>{k();M();var J6e="Function.prototype.bind called on incompatible ",Q6e=Object.prototype.toString,e5e=Math.max,t5e="[object Function]",Jq=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},r5e=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},n5e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Qq.exports=function(e){var r=this;if(typeof r!="function"||Q6e.apply(r)!==t5e)throw new TypeError(J6e+r);for(var n=r5e(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,Jq(n,arguments));return Object(h)===h?h:this}return r.apply(e,Jq(n,arguments))},o=e5e(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+n5e(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var r$=$((hJe,t$)=>{k();M();var i5e=e$();t$.exports=Function.prototype.bind||i5e});var u$=$((pJe,yy)=>{k();M();var TE=r$(),vy=G_(),s5e=ane(),o5e=uk(),s$=vy("%Function.prototype.apply%"),o$=vy("%Function.prototype.call%"),a$=vy("%Reflect.apply%",!0)||TE.call(o$,s$),n$=one(),a5e=vy("%Math.max%");yy.exports=function(e){if(typeof e!="function")throw new o5e("a function is required");var r=a$(TE,o$,arguments);return s5e(r,1+a5e(0,e.length-(arguments.length-1)),!0)};var i$=function(){return a$(TE,s$,arguments)};n$?n$(yy.exports,"apply",{value:i$}):yy.exports.apply=i$});var l$=$((bJe,h$)=>{k();M();var c$=G_(),f$=u$(),u5e=f$(c$("String.prototype.indexOf"));h$.exports=function(e,r){var n=c$(e,!!r);return typeof n=="function"&&u5e(e,".prototype.")>-1?f$(n):n}});var d$=$(()=>{k();M()});var M$=$((EJe,k$)=>{k();M();var NE=typeof Map=="function"&&Map.prototype,AE=Object.getOwnPropertyDescriptor&&NE?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,xy=NE&&AE&&typeof AE.get=="function"?AE.get:null,p$=NE&&Map.prototype.forEach,FE=typeof Set=="function"&&Set.prototype,IE=Object.getOwnPropertyDescriptor&&FE?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Sy=FE&&IE&&typeof IE.get=="function"?IE.get:null,m$=FE&&Set.prototype.forEach,c5e=typeof WeakMap=="function"&&WeakMap.prototype,h9=c5e?WeakMap.prototype.has:null,f5e=typeof WeakSet=="function"&&WeakSet.prototype,l9=f5e?WeakSet.prototype.has:null,h5e=typeof WeakRef=="function"&&WeakRef.prototype,g$=h5e?WeakRef.prototype.deref:null,l5e=Boolean.prototype.valueOf,d5e=Object.prototype.toString,p5e=Function.prototype.toString,m5e=String.prototype.match,HE=String.prototype.slice,xl=String.prototype.replace,g5e=String.prototype.toUpperCase,b$=String.prototype.toLowerCase,A$=RegExp.prototype.test,y$=Array.prototype.concat,y0=Array.prototype.join,b5e=Array.prototype.slice,v$=Math.floor,BE=typeof BigInt=="function"?BigInt.prototype.valueOf:null,PE=Object.getOwnPropertySymbols,CE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X6=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ys=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X6?"object":"symbol")?Symbol.toStringTag:null,I$=Object.prototype.propertyIsEnumerable,_$=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function x$(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||A$.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-v$(-t):v$(t);if(n!==t){var i=String(n),s=HE.call(e,i.length+1);return xl.call(i,r,"$&_")+"."+xl.call(xl.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return xl.call(e,r,"$&_")}var kE=d$(),S$=kE.custom,w$=O$(S$)?S$:null;k$.exports=function t(e,r,n,i){var s=r||{};if(_l(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_l(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=_l(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_l(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_l(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return C$(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?x$(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?x$(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return ME(e)?"[Array]":"[Object]";var f=N5e(s,n);if(typeof i>"u")i=[];else if(B$(i,e)>=0)return"[Circular]";function p(m,S,w){if(S&&(i=b5e.call(i),i.push(S)),w){var R={depth:s.depth};return _l(s,"quoteStyle")&&(R.quoteStyle=s.quoteStyle),t(m,R,n+1,i)}return t(m,s,n+1,i)}if(typeof e=="function"&&!E$(e)){var l=A5e(e),y=_y(e,p);return"[Function"+(l?": "+l:" (anonymous)")+"]"+(y.length>0?" { "+y0.call(y,", ")+" }":"")}if(O$(e)){var _=X6?xl.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):CE.call(e);return typeof e=="object"&&!X6?f9(_):_}if(k5e(e)){for(var O="<"+b$.call(String(e.nodeName)),F=e.attributes||[],B=0;B<F.length;B++)O+=" "+F[B].name+"="+P$(y5e(F[B].value),"double",s);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+b$.call(String(e.nodeName))+">",O}if(ME(e)){if(e.length===0)return"[]";var E=_y(e,p);return f&&!R5e(E)?"["+RE(E,f)+"]":"[ "+y0.call(E,", ")+" ]"}if(_5e(e)){var I=_y(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!I$.call(e,"cause")?"{ ["+String(e)+"] "+y0.call(y$.call("[cause]: "+p(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+y0.call(I,", ")+" }"}if(typeof e=="object"&&o){if(w$&&typeof e[w$]=="function"&&kE)return kE(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(I5e(e)){var U=[];return p$&&p$.call(e,function(m,S){U.push(p(S,e,!0)+" => "+p(m,e))}),T$("Map",xy.call(e),U,f)}if(B5e(e)){var N=[];return m$&&m$.call(e,function(m){N.push(p(m,e))}),T$("Set",Sy.call(e),N,f)}if(P5e(e))return OE("WeakMap");if(C5e(e))return OE("WeakSet");if(O5e(e))return OE("WeakRef");if(S5e(e))return f9(p(Number(e)));if(E5e(e))return f9(p(BE.call(e)));if(w5e(e))return f9(l5e.call(e));if(x5e(e))return f9(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===globalThis)return"{ [object globalThis] }";if(!v5e(e)&&!E$(e)){var H=_y(e,p),D=_$?_$(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",d=!D&&Ys&&Object(e)===e&&Ys in e?HE.call(Sl(e),8,-1):C?"Object":"",v=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",g=v+(d||C?"["+y0.call(y$.call([],d||[],C||[]),": ")+"] ":"");return H.length===0?g+"{}":f?g+"{"+RE(H,f)+"}":g+"{ "+y0.call(H,", ")+" }"}return String(e)};function P$(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function y5e(t){return xl.call(String(t),/"/g,"&quot;")}function ME(t){return Sl(t)==="[object Array]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function v5e(t){return Sl(t)==="[object Date]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function E$(t){return Sl(t)==="[object RegExp]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function _5e(t){return Sl(t)==="[object Error]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function x5e(t){return Sl(t)==="[object String]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function S5e(t){return Sl(t)==="[object Number]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function w5e(t){return Sl(t)==="[object Boolean]"&&(!Ys||!(typeof t=="object"&&Ys in t))}function O$(t){if(X6)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!CE)return!1;try{return CE.call(t),!0}catch{}return!1}function E5e(t){if(!t||typeof t!="object"||!BE)return!1;try{return BE.call(t),!0}catch{}return!1}var T5e=Object.prototype.hasOwnProperty||function(t){return t in this};function _l(t,e){return T5e.call(t,e)}function Sl(t){return d5e.call(t)}function A5e(t){if(t.name)return t.name;var e=m5e.call(p5e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function B$(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function I5e(t){if(!xy||!t||typeof t!="object")return!1;try{xy.call(t);try{Sy.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function P5e(t){if(!h9||!t||typeof t!="object")return!1;try{h9.call(t,h9);try{l9.call(t,l9)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function O5e(t){if(!g$||!t||typeof t!="object")return!1;try{return g$.call(t),!0}catch{}return!1}function B5e(t){if(!Sy||!t||typeof t!="object")return!1;try{Sy.call(t);try{xy.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function C5e(t){if(!l9||!t||typeof t!="object")return!1;try{l9.call(t,l9);try{h9.call(t,h9)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function k5e(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function C$(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return C$(HE.call(t,0,e.maxStringLength),e)+n}var i=xl.call(xl.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,M5e);return P$(i,"single",e)}function M5e(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+g5e.call(e.toString(16))}function f9(t){return"Object("+t+")"}function OE(t){return t+" { ? }"}function T$(t,e,r,n){var i=n?RE(r,n):y0.call(r,", ");return t+" ("+e+") {"+i+"}"}function R5e(t){for(var e=0;e<t.length;e++)if(B$(t[e],`
`)>=0)return!1;return!0}function N5e(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=y0.call(Array(t.indent+1)," ");else return null;return{base:r,prev:y0.call(Array(e+1),r)}}function RE(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+y0.call(t,","+r)+`
`+e.prev}function _y(t,e){var r=ME(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=_l(t,i)?e(t[i],t):""}var s=typeof PE=="function"?PE(t):[],o;if(X6){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)!_l(t,u)||r&&String(Number(u))===u&&u<t.length||X6&&o["$"+u]instanceof Symbol||(A$.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof PE=="function")for(var c=0;c<s.length;c++)I$.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}});var F$=$((IJe,N$)=>{k();M();var R$=G_(),Z6=l$(),F5e=M$(),H5e=uk(),wy=R$("%WeakMap%",!0),Ey=R$("%Map%",!0),D5e=Z6("WeakMap.prototype.get",!0),U5e=Z6("WeakMap.prototype.set",!0),L5e=Z6("WeakMap.prototype.has",!0),q5e=Z6("Map.prototype.get",!0),$5e=Z6("Map.prototype.set",!0),j5e=Z6("Map.prototype.has",!0),DE=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},K5e=function(t,e){var r=DE(t,e);return r&&r.value},V5e=function(t,e,r){var n=DE(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},G5e=function(t,e){return!!DE(t,e)};N$.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new H5e("Side channel does not contain "+F5e(s))},get:function(s){if(wy&&s&&(typeof s=="object"||typeof s=="function")){if(e)return D5e(e,s)}else if(Ey){if(r)return q5e(r,s)}else if(n)return K5e(n,s)},has:function(s){if(wy&&s&&(typeof s=="object"||typeof s=="function")){if(e)return L5e(e,s)}else if(Ey){if(r)return j5e(r,s)}else if(n)return G5e(n,s);return!1},set:function(s,o){wy&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new wy),U5e(e,s,o)):Ey?(r||(r=new Ey),$5e(r,s,o)):(n||(n={key:{},next:null}),V5e(n,s,o))}};return i}});var Ty=$((BJe,H$)=>{k();M();var z5e=String.prototype.replace,W5e=/%20/g,UE={RFC1738:"RFC1738",RFC3986:"RFC3986"};H$.exports={default:UE.RFC3986,formatters:{RFC1738:function(t){return z5e.call(t,W5e,"+")},RFC3986:function(t){return String(t)}},RFC1738:UE.RFC1738,RFC3986:UE.RFC3986}});var $E=$((MJe,U$)=>{k();M();var Y5e=Ty(),LE=Object.prototype.hasOwnProperty,Gp=Array.isArray,v0=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),X5e=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Gp(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},D$=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Z5e=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Gp(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!LE.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Gp(e)&&!Gp(r)&&(i=D$(e,n)),Gp(e)&&Gp(r)?(r.forEach(function(s,o){if(LE.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return LE.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},J5e=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Q5e=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},qE=1024,e2e=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=qE){for(var c=o.length>=qE?o.slice(u,u+qE):o,h=[],f=0;f<c.length;++f){var p=c.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===Y5e.RFC1738&&(p===40||p===41)){h[h.length]=c.charAt(f);continue}if(p<128){h[h.length]=v0[p];continue}if(p<2048){h[h.length]=v0[192|p>>6]+v0[128|p&63];continue}if(p<55296||p>=57344){h[h.length]=v0[224|p>>12]+v0[128|p>>6&63]+v0[128|p&63];continue}f+=1,p=65536+((p&1023)<<10|c.charCodeAt(f)&1023),h[h.length]=v0[240|p>>18]+v0[128|p>>12&63]+v0[128|p>>6&63]+v0[128|p&63]}a+=h.join("")}return a},t2e=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],h=o[c];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:c}),n.push(h))}return X5e(r),e},r2e=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},n2e=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},i2e=function(e,r){return[].concat(e,r)},s2e=function(e,r){if(Gp(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};U$.exports={arrayToObject:D$,assign:J5e,combine:i2e,compact:t2e,decode:Q5e,encode:e2e,isBuffer:n2e,isRegExp:r2e,maybeMap:s2e,merge:Z5e}});var V$=$((FJe,K$)=>{k();M();var q$=F$(),Ay=$E(),d9=Ty(),o2e=Object.prototype.hasOwnProperty,$$={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_0=Array.isArray,a2e=Array.prototype.push,j$=function(t,e){a2e.apply(t,_0(e)?e:[e])},u2e=Date.prototype.toISOString,L$=d9.default,Gi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ay.encode,encodeValuesOnly:!1,format:L$,formatter:d9.formatters[L$],indices:!1,serializeDate:function(e){return u2e.call(e)},skipNulls:!1,strictNullHandling:!1},c2e=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},jE={},f2e=function t(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B){for(var E=e,I=B,U=0,N=!1;(I=I.get(jE))!==void 0&&!N;){var H=I.get(e);if(U+=1,typeof H<"u"){if(H===U)throw new RangeError("Cyclic object value");N=!0}typeof I.get(jE)>"u"&&(U=0)}if(typeof h=="function"?E=h(r,E):E instanceof Date?E=l(E):n==="comma"&&_0(E)&&(E=Ay.maybeMap(E,function(P){return P instanceof Date?l(P):P})),E===null){if(o)return c&&!O?c(r,Gi.encoder,F,"key",y):r;E=""}if(c2e(E)||Ay.isBuffer(E)){if(c){var D=O?r:c(r,Gi.encoder,F,"key",y);return[_(D)+"="+_(c(E,Gi.encoder,F,"value",y))]}return[_(r)+"="+_(String(E))]}var C=[];if(typeof E>"u")return C;var d;if(n==="comma"&&_0(E))O&&c&&(E=Ay.maybeMap(E,c)),d=[{value:E.length>0?E.join(",")||null:void 0}];else if(_0(h))d=h;else{var v=Object.keys(E);d=f?v.sort(f):v}var g=u?r.replace(/\./g,"%2E"):r,m=i&&_0(E)&&E.length===1?g+"[]":g;if(s&&_0(E)&&E.length===0)return m+"[]";for(var S=0;S<d.length;++S){var w=d[S],R=typeof w=="object"&&typeof w.value<"u"?w.value:E[w];if(!(a&&R===null)){var T=p&&u?w.replace(/\./g,"%2E"):w,b=_0(E)?typeof n=="function"?n(m,T):m:m+(p?"."+T:"["+T+"]");B.set(e,U);var x=q$();x.set(jE,B),j$(C,t(R,b,n,i,s,o,a,u,n==="comma"&&O&&_0(E)?null:c,h,f,p,l,y,_,O,F,x))}}return C},h2e=function(e){if(!e)return Gi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Gi.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=d9.default;if(typeof e.format<"u"){if(!o2e.call(d9.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=d9.formatters[n],s=Gi.filter;(typeof e.filter=="function"||_0(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in $$?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Gi.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Gi.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Gi.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Gi.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Gi.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Gi.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Gi.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Gi.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Gi.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Gi.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Gi.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Gi.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Gi.strictNullHandling}};K$.exports=function(t,e){var r=t,n=h2e(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):_0(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=$$[n.arrayFormat],u=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=q$(),h=0;h<i.length;++h){var f=i[h];n.skipNulls&&r[f]===null||j$(o,f2e(r[f],f,a,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=o.join(n.delimiter),l=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),p.length>0?l+p:""}});var W$=$((UJe,z$)=>{k();M();var J6=$E(),KE=Object.prototype.hasOwnProperty,l2e=Array.isArray,ri={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:J6.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},d2e=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},G$=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},p2e="utf8=%26%2310003%3B",m2e="utf8=%E2%9C%93",g2e=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===m2e?c="utf-8":o[u]===p2e&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var h=o[u],f=h.indexOf("]="),p=f===-1?h.indexOf("="):f+1,l,y;p===-1?(l=r.decoder(h,ri.decoder,c,"key"),y=r.strictNullHandling?null:""):(l=r.decoder(h.slice(0,p),ri.decoder,c,"key"),y=J6.maybeMap(G$(h.slice(p+1),r),function(O){return r.decoder(O,ri.decoder,c,"value")})),y&&r.interpretNumericEntities&&c==="iso-8859-1"&&(y=d2e(y)),h.indexOf("[]=")>-1&&(y=l2e(y)?[y]:y);var _=KE.call(n,l);_&&r.duplicates==="combine"?n[l]=J6.combine(n[l],y):(!_||r.duplicates==="last")&&(n[l]=y)}return n},b2e=function(t,e,r,n){for(var i=n?e:G$(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},y2e=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,h=[];if(c){if(!n.plainObjects&&KE.call(Object.prototype,c)&&!n.allowPrototypes)return;h.push(c)}for(var f=0;n.depth>0&&(u=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&KE.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+s.slice(u.index)+"]")}return b2e(h,r,n,i)}},v2e=function(e){if(!e)return ri;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ri.charset:e.charset,n=typeof e.duplicates>"u"?ri.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ri.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ri.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ri.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ri.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ri.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ri.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ri.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ri.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ri.decoder,delimiter:typeof e.delimiter=="string"||J6.isRegExp(e.delimiter)?e.delimiter:ri.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ri.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ri.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ri.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ri.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ri.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ri.strictNullHandling}};z$.exports=function(t,e){var r=v2e(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?g2e(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=y2e(a,n[a],r,typeof t=="string");i=J6.merge(i,u,r)}return r.allowSparse===!0?i:J6.compact(i)}});var X$=$(($Je,Y$)=>{k();M();var _2e=V$(),x2e=W$(),S2e=Ty();Y$.exports={formats:S2e,parse:x2e,stringify:_2e}});var p9=$((VJe,Z$)=>{k();M();var w2e="2.0.0",E2e=Number.MAX_SAFE_INTEGER||9007199254740991,T2e=16,A2e=256-6,I2e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Z$.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:T2e,MAX_SAFE_BUILD_LENGTH:A2e,MAX_SAFE_INTEGER:E2e,RELEASE_TYPES:I2e,SEMVER_SPEC_VERSION:w2e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var m9=$((WJe,J$)=>{k();M();var P2e=typeof q=="object"&&q.env&&q.env.NODE_DEBUG&&/\bsemver\b/i.test(q.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};J$.exports=P2e});var Q6=$((kf,Q$)=>{k();M();var{MAX_SAFE_COMPONENT_LENGTH:VE,MAX_SAFE_BUILD_LENGTH:O2e,MAX_LENGTH:B2e}=p9(),C2e=m9();kf=Q$.exports={};var k2e=kf.re=[],M2e=kf.safeRe=[],Ve=kf.src=[],Ge=kf.t={},R2e=0,GE="[a-zA-Z0-9-]",N2e=[["\\s",1],["\\d",B2e],[GE,O2e]],F2e=t=>{for(let[e,r]of N2e)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Xt=(t,e,r)=>{let n=F2e(e),i=R2e++;C2e(t,i,e),Ge[t]=i,Ve[i]=e,k2e[i]=new RegExp(e,r?"g":void 0),M2e[i]=new RegExp(n,r?"g":void 0)};Xt("NUMERICIDENTIFIER","0|[1-9]\\d*");Xt("NUMERICIDENTIFIERLOOSE","\\d+");Xt("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${GE}*`);Xt("MAINVERSION",`(${Ve[Ge.NUMERICIDENTIFIER]})\\.(${Ve[Ge.NUMERICIDENTIFIER]})\\.(${Ve[Ge.NUMERICIDENTIFIER]})`);Xt("MAINVERSIONLOOSE",`(${Ve[Ge.NUMERICIDENTIFIERLOOSE]})\\.(${Ve[Ge.NUMERICIDENTIFIERLOOSE]})\\.(${Ve[Ge.NUMERICIDENTIFIERLOOSE]})`);Xt("PRERELEASEIDENTIFIER",`(?:${Ve[Ge.NUMERICIDENTIFIER]}|${Ve[Ge.NONNUMERICIDENTIFIER]})`);Xt("PRERELEASEIDENTIFIERLOOSE",`(?:${Ve[Ge.NUMERICIDENTIFIERLOOSE]}|${Ve[Ge.NONNUMERICIDENTIFIER]})`);Xt("PRERELEASE",`(?:-(${Ve[Ge.PRERELEASEIDENTIFIER]}(?:\\.${Ve[Ge.PRERELEASEIDENTIFIER]})*))`);Xt("PRERELEASELOOSE",`(?:-?(${Ve[Ge.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ve[Ge.PRERELEASEIDENTIFIERLOOSE]})*))`);Xt("BUILDIDENTIFIER",`${GE}+`);Xt("BUILD",`(?:\\+(${Ve[Ge.BUILDIDENTIFIER]}(?:\\.${Ve[Ge.BUILDIDENTIFIER]})*))`);Xt("FULLPLAIN",`v?${Ve[Ge.MAINVERSION]}${Ve[Ge.PRERELEASE]}?${Ve[Ge.BUILD]}?`);Xt("FULL",`^${Ve[Ge.FULLPLAIN]}$`);Xt("LOOSEPLAIN",`[v=\\s]*${Ve[Ge.MAINVERSIONLOOSE]}${Ve[Ge.PRERELEASELOOSE]}?${Ve[Ge.BUILD]}?`);Xt("LOOSE",`^${Ve[Ge.LOOSEPLAIN]}$`);Xt("GTLT","((?:<|>)?=?)");Xt("XRANGEIDENTIFIERLOOSE",`${Ve[Ge.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Xt("XRANGEIDENTIFIER",`${Ve[Ge.NUMERICIDENTIFIER]}|x|X|\\*`);Xt("XRANGEPLAIN",`[v=\\s]*(${Ve[Ge.XRANGEIDENTIFIER]})(?:\\.(${Ve[Ge.XRANGEIDENTIFIER]})(?:\\.(${Ve[Ge.XRANGEIDENTIFIER]})(?:${Ve[Ge.PRERELEASE]})?${Ve[Ge.BUILD]}?)?)?`);Xt("XRANGEPLAINLOOSE",`[v=\\s]*(${Ve[Ge.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ve[Ge.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ve[Ge.XRANGEIDENTIFIERLOOSE]})(?:${Ve[Ge.PRERELEASELOOSE]})?${Ve[Ge.BUILD]}?)?)?`);Xt("XRANGE",`^${Ve[Ge.GTLT]}\\s*${Ve[Ge.XRANGEPLAIN]}$`);Xt("XRANGELOOSE",`^${Ve[Ge.GTLT]}\\s*${Ve[Ge.XRANGEPLAINLOOSE]}$`);Xt("COERCEPLAIN",`(^|[^\\d])(\\d{1,${VE}})(?:\\.(\\d{1,${VE}}))?(?:\\.(\\d{1,${VE}}))?`);Xt("COERCE",`${Ve[Ge.COERCEPLAIN]}(?:$|[^\\d])`);Xt("COERCEFULL",Ve[Ge.COERCEPLAIN]+`(?:${Ve[Ge.PRERELEASE]})?(?:${Ve[Ge.BUILD]})?(?:$|[^\\d])`);Xt("COERCERTL",Ve[Ge.COERCE],!0);Xt("COERCERTLFULL",Ve[Ge.COERCEFULL],!0);Xt("LONETILDE","(?:~>?)");Xt("TILDETRIM",`(\\s*)${Ve[Ge.LONETILDE]}\\s+`,!0);kf.tildeTrimReplace="$1~";Xt("TILDE",`^${Ve[Ge.LONETILDE]}${Ve[Ge.XRANGEPLAIN]}$`);Xt("TILDELOOSE",`^${Ve[Ge.LONETILDE]}${Ve[Ge.XRANGEPLAINLOOSE]}$`);Xt("LONECARET","(?:\\^)");Xt("CARETTRIM",`(\\s*)${Ve[Ge.LONECARET]}\\s+`,!0);kf.caretTrimReplace="$1^";Xt("CARET",`^${Ve[Ge.LONECARET]}${Ve[Ge.XRANGEPLAIN]}$`);Xt("CARETLOOSE",`^${Ve[Ge.LONECARET]}${Ve[Ge.XRANGEPLAINLOOSE]}$`);Xt("COMPARATORLOOSE",`^${Ve[Ge.GTLT]}\\s*(${Ve[Ge.LOOSEPLAIN]})$|^$`);Xt("COMPARATOR",`^${Ve[Ge.GTLT]}\\s*(${Ve[Ge.FULLPLAIN]})$|^$`);Xt("COMPARATORTRIM",`(\\s*)${Ve[Ge.GTLT]}\\s*(${Ve[Ge.LOOSEPLAIN]}|${Ve[Ge.XRANGEPLAIN]})`,!0);kf.comparatorTrimReplace="$1$2$3";Xt("HYPHENRANGE",`^\\s*(${Ve[Ge.XRANGEPLAIN]})\\s+-\\s+(${Ve[Ge.XRANGEPLAIN]})\\s*$`);Xt("HYPHENRANGELOOSE",`^\\s*(${Ve[Ge.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ve[Ge.XRANGEPLAINLOOSE]})\\s*$`);Xt("STAR","(<|>)?=?\\s*\\*");Xt("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Xt("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Iy=$((QJe,ej)=>{k();M();var H2e=Object.freeze({loose:!0}),D2e=Object.freeze({}),U2e=t=>t?typeof t!="object"?H2e:t:D2e;ej.exports=U2e});var zE=$((rQe,nj)=>{k();M();var tj=/^[0-9]+$/,rj=(t,e)=>{let r=tj.test(t),n=tj.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},L2e=(t,e)=>rj(e,t);nj.exports={compareIdentifiers:rj,rcompareIdentifiers:L2e}});var Xs=$((sQe,aj)=>{k();M();var Py=m9(),{MAX_LENGTH:ij,MAX_SAFE_INTEGER:Oy}=p9(),{safeRe:sj,t:oj}=Q6(),q2e=Iy(),{compareIdentifiers:e5}=zE(),xa=class{constructor(e,r){if(r=q2e(r),e instanceof xa){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ij)throw new TypeError(`version is longer than ${ij} characters`);Py("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?sj[oj.LOOSE]:sj[oj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Oy||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Oy||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Oy||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Oy)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Py("SemVer.compare",this.version,this.options,e),!(e instanceof xa)){if(typeof e=="string"&&e===this.version)return 0;e=new xa(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof xa||(e=new xa(e,this.options)),e5(this.major,e.major)||e5(this.minor,e.minor)||e5(this.patch,e.patch)}comparePre(e){if(e instanceof xa||(e=new xa(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Py("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return e5(n,i)}while(++r)}compareBuild(e){e instanceof xa||(e=new xa(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Py("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return e5(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),e5(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};aj.exports=xa});var zp=$((uQe,cj)=>{k();M();var uj=Xs(),$2e=(t,e,r=!1)=>{if(t instanceof uj)return t;try{return new uj(t,e)}catch(n){if(!r)return null;throw n}};cj.exports=$2e});var hj=$((hQe,fj)=>{k();M();var j2e=zp(),K2e=(t,e)=>{let r=j2e(t,e);return r?r.version:null};fj.exports=K2e});var dj=$((pQe,lj)=>{k();M();var V2e=zp(),G2e=(t,e)=>{let r=V2e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};lj.exports=G2e});var gj=$((bQe,mj)=>{k();M();var pj=Xs(),z2e=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new pj(t instanceof pj?t.version:t,r).inc(e,n,i).version}catch{return null}};mj.exports=z2e});var vj=$((_Qe,yj)=>{k();M();var bj=zp(),W2e=(t,e)=>{let r=bj(t,null,!0),n=bj(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,u=!!o.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let h=u?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};yj.exports=W2e});var xj=$((wQe,_j)=>{k();M();var Y2e=Xs(),X2e=(t,e)=>new Y2e(t,e).major;_j.exports=X2e});var wj=$((AQe,Sj)=>{k();M();var Z2e=Xs(),J2e=(t,e)=>new Z2e(t,e).minor;Sj.exports=J2e});var Tj=$((OQe,Ej)=>{k();M();var Q2e=Xs(),e3e=(t,e)=>new Q2e(t,e).patch;Ej.exports=e3e});var Ij=$((kQe,Aj)=>{k();M();var t3e=zp(),r3e=(t,e)=>{let r=t3e(t,e);return r&&r.prerelease.length?r.prerelease:null};Aj.exports=r3e});var bu=$((NQe,Oj)=>{k();M();var Pj=Xs(),n3e=(t,e,r)=>new Pj(t,r).compare(new Pj(e,r));Oj.exports=n3e});var Cj=$((DQe,Bj)=>{k();M();var i3e=bu(),s3e=(t,e,r)=>i3e(e,t,r);Bj.exports=s3e});var Mj=$((qQe,kj)=>{k();M();var o3e=bu(),a3e=(t,e)=>o3e(t,e,!0);kj.exports=a3e});var By=$((KQe,Nj)=>{k();M();var Rj=Xs(),u3e=(t,e,r)=>{let n=new Rj(t,r),i=new Rj(e,r);return n.compare(i)||n.compareBuild(i)};Nj.exports=u3e});var Hj=$((zQe,Fj)=>{k();M();var c3e=By(),f3e=(t,e)=>t.sort((r,n)=>c3e(r,n,e));Fj.exports=f3e});var Uj=$((XQe,Dj)=>{k();M();var h3e=By(),l3e=(t,e)=>t.sort((r,n)=>h3e(n,r,e));Dj.exports=l3e});var g9=$((QQe,Lj)=>{k();M();var d3e=bu(),p3e=(t,e,r)=>d3e(t,e,r)>0;Lj.exports=p3e});var Cy=$((ret,qj)=>{k();M();var m3e=bu(),g3e=(t,e,r)=>m3e(t,e,r)<0;qj.exports=g3e});var WE=$((set,$j)=>{k();M();var b3e=bu(),y3e=(t,e,r)=>b3e(t,e,r)===0;$j.exports=y3e});var YE=$((uet,jj)=>{k();M();var v3e=bu(),_3e=(t,e,r)=>v3e(t,e,r)!==0;jj.exports=_3e});var ky=$((het,Kj)=>{k();M();var x3e=bu(),S3e=(t,e,r)=>x3e(t,e,r)>=0;Kj.exports=S3e});var My=$((met,Vj)=>{k();M();var w3e=bu(),E3e=(t,e,r)=>w3e(t,e,r)<=0;Vj.exports=E3e});var XE=$((yet,Gj)=>{k();M();var T3e=WE(),A3e=YE(),I3e=g9(),P3e=ky(),O3e=Cy(),B3e=My(),C3e=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return T3e(t,r,n);case"!=":return A3e(t,r,n);case">":return I3e(t,r,n);case">=":return P3e(t,r,n);case"<":return O3e(t,r,n);case"<=":return B3e(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Gj.exports=C3e});var Wj=$((xet,zj)=>{k();M();var k3e=Xs(),M3e=zp(),{safeRe:Ry,t:Ny}=Q6(),R3e=(t,e)=>{if(t instanceof k3e)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Ry[Ny.COERCEFULL]:Ry[Ny.COERCE]);else{let u=e.includePrerelease?Ry[Ny.COERCERTLFULL]:Ry[Ny.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return M3e(`${n}.${i}.${s}${o}${a}`,e)};zj.exports=R3e});var Xj=$((Tet,Yj)=>{k();M();var ZE=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};Yj.exports=ZE});var yu=$((Pet,eK)=>{k();M();var Wp=class{constructor(e,r){if(r=F3e(r),e instanceof Wp)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Wp(e.raw,r);if(e instanceof JE)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Jj(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&j3e(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&q3e)|(this.options.loose&&$3e))+":"+e,i=Zj.get(n);if(i)return i;let s=this.options.loose,o=s?ea[mo.HYPHENRANGELOOSE]:ea[mo.HYPHENRANGE];e=e.replace(o,Q3e(this.options.includePrerelease)),An("hyphen replace",e),e=e.replace(ea[mo.COMPARATORTRIM],D3e),An("comparator trim",e),e=e.replace(ea[mo.TILDETRIM],U3e),An("tilde trim",e),e=e.replace(ea[mo.CARETTRIM],L3e),An("caret trim",e);let a=e.split(" ").map(f=>K3e(f,this.options)).join(" ").split(/\s+/).map(f=>J3e(f,this.options));s&&(a=a.filter(f=>(An("loose invalid filter",f,this.options),!!f.match(ea[mo.COMPARATORLOOSE])))),An("range list",a);let u=new Map,c=a.map(f=>new JE(f,this.options));for(let f of c){if(Jj(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Zj.set(n,h),h}intersects(e,r){if(!(e instanceof Wp))throw new TypeError("a Range is required");return this.set.some(n=>Qj(n,r)&&e.set.some(i=>Qj(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new H3e(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(e9e(this.set[r],e,this.options))return!0;return!1}};eK.exports=Wp;var N3e=Xj(),Zj=new N3e,F3e=Iy(),JE=b9(),An=m9(),H3e=Xs(),{safeRe:ea,t:mo,comparatorTrimReplace:D3e,tildeTrimReplace:U3e,caretTrimReplace:L3e}=Q6(),{FLAG_INCLUDE_PRERELEASE:q3e,FLAG_LOOSE:$3e}=p9(),Jj=t=>t.value==="<0.0.0-0",j3e=t=>t.value==="",Qj=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},K3e=(t,e)=>(An("comp",t,e),t=z3e(t,e),An("caret",t),t=V3e(t,e),An("tildes",t),t=Y3e(t,e),An("xrange",t),t=Z3e(t,e),An("stars",t),t),go=t=>!t||t.toLowerCase()==="x"||t==="*",V3e=(t,e)=>t.trim().split(/\s+/).map(r=>G3e(r,e)).join(" "),G3e=(t,e)=>{let r=e.loose?ea[mo.TILDELOOSE]:ea[mo.TILDE];return t.replace(r,(n,i,s,o,a)=>{An("tilde",t,n,i,s,o,a);let u;return go(i)?u="":go(s)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:go(o)?u=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(An("replaceTilde pr",a),u=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):u=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,An("tilde return",u),u})},z3e=(t,e)=>t.trim().split(/\s+/).map(r=>W3e(r,e)).join(" "),W3e=(t,e)=>{An("caret",t,e);let r=e.loose?ea[mo.CARETLOOSE]:ea[mo.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,o,a,u)=>{An("caret",t,i,s,o,a,u);let c;return go(s)?c="":go(o)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:go(a)?s==="0"?c=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:u?(An("replaceCaret pr",u),s==="0"?o==="0"?c=`>=${s}.${o}.${a}-${u} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}-${u} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a}-${u} <${+s+1}.0.0-0`):(An("no pr"),s==="0"?o==="0"?c=`>=${s}.${o}.${a}${n} <${s}.${o}.${+a+1}-0`:c=`>=${s}.${o}.${a}${n} <${s}.${+o+1}.0-0`:c=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),An("caret return",c),c})},Y3e=(t,e)=>(An("replaceXRanges",t,e),t.split(/\s+/).map(r=>X3e(r,e)).join(" ")),X3e=(t,e)=>{t=t.trim();let r=e.loose?ea[mo.XRANGELOOSE]:ea[mo.XRANGE];return t.replace(r,(n,i,s,o,a,u)=>{An("xRange",t,n,i,s,o,a,u);let c=go(s),h=c||go(o),f=h||go(a),p=f;return i==="="&&p&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(h&&(o=0),a=0,i===">"?(i=">=",h?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",h?s=+s+1:o=+o+1),i==="<"&&(u="-0"),n=`${i+s}.${o}.${a}${u}`):h?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:f&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`),An("xRange return",n),n})},Z3e=(t,e)=>(An("replaceStars",t,e),t.trim().replace(ea[mo.STAR],"")),J3e=(t,e)=>(An("replaceGTE0",t,e),t.trim().replace(ea[e.includePrerelease?mo.GTE0PRE:mo.GTE0],"")),Q3e=t=>(e,r,n,i,s,o,a,u,c,h,f,p)=>(go(n)?r="":go(i)?r=`>=${n}.0.0${t?"-0":""}`:go(s)?r=`>=${n}.${i}.0${t?"-0":""}`:o?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,go(c)?u="":go(h)?u=`<${+c+1}.0.0-0`:go(f)?u=`<${c}.${+h+1}.0-0`:p?u=`<=${c}.${h}.${f}-${p}`:t?u=`<${c}.${h}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),e9e=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(An(t[n].semver),t[n].semver!==JE.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var b9=$((Cet,oK)=>{k();M();var y9=Symbol("SemVer ANY"),t5=class{static get ANY(){return y9}constructor(e,r){if(r=tK(r),e instanceof t5){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),eT("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===y9?this.value="":this.value=this.operator+this.semver.version,eT("comp",this)}parse(e){let r=this.options.loose?rK[nK.COMPARATORLOOSE]:rK[nK.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new iK(n[2],this.options.loose):this.semver=y9}toString(){return this.value}test(e){if(eT("Comparator.test",e,this.options.loose),this.semver===y9||e===y9)return!0;if(typeof e=="string")try{e=new iK(e,this.options)}catch{return!1}return QE(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t5))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new sK(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new sK(this.value,r).test(e.semver):(r=tK(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||QE(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||QE(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};oK.exports=t5;var tK=Iy(),{safeRe:rK,t:nK}=Q6(),QE=XE(),eT=m9(),iK=Xs(),sK=yu()});var v9=$((Ret,aK)=>{k();M();var t9e=yu(),r9e=(t,e,r)=>{try{e=new t9e(e,r)}catch{return!1}return e.test(t)};aK.exports=r9e});var cK=$((Het,uK)=>{k();M();var n9e=yu(),i9e=(t,e)=>new n9e(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));uK.exports=i9e});var hK=$((Let,fK)=>{k();M();var s9e=Xs(),o9e=yu(),a9e=(t,e,r)=>{let n=null,i=null,s=null;try{s=new o9e(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new s9e(n,r))}),n};fK.exports=a9e});var dK=$((jet,lK)=>{k();M();var u9e=Xs(),c9e=yu(),f9e=(t,e,r)=>{let n=null,i=null,s=null;try{s=new c9e(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new u9e(n,r))}),n};lK.exports=f9e});var gK=$((Get,mK)=>{k();M();var tT=Xs(),h9e=yu(),pK=g9(),l9e=(t,e)=>{t=new h9e(t,e);let r=new tT("0.0.0");if(t.test(r)||(r=new tT("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(o=>{let a=new tT(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||pK(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||pK(r,s))&&(r=s)}return r&&t.test(r)?r:null};mK.exports=l9e});var yK=$((Yet,bK)=>{k();M();var d9e=yu(),p9e=(t,e)=>{try{return new d9e(t,e).range||"*"}catch{return null}};bK.exports=p9e});var Fy=$((Jet,SK)=>{k();M();var m9e=Xs(),xK=b9(),{ANY:g9e}=xK,b9e=yu(),y9e=v9(),vK=g9(),_K=Cy(),v9e=My(),_9e=ky(),x9e=(t,e,r,n)=>{t=new m9e(t,n),e=new b9e(e,n);let i,s,o,a,u;switch(r){case">":i=vK,s=v9e,o=_K,a=">",u=">=";break;case"<":i=_K,s=_9e,o=vK,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(y9e(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],f=null,p=null;if(h.forEach(l=>{l.semver===g9e&&(l=new xK(">=0.0.0")),f=f||l,p=p||l,i(l.semver,f.semver,n)?f=l:o(l.semver,p.semver,n)&&(p=l)}),f.operator===a||f.operator===u||(!p.operator||p.operator===a)&&s(t,p.semver))return!1;if(p.operator===u&&o(t,p.semver))return!1}return!0};SK.exports=x9e});var EK=$((ttt,wK)=>{k();M();var S9e=Fy(),w9e=(t,e,r)=>S9e(t,e,">",r);wK.exports=w9e});var AK=$((itt,TK)=>{k();M();var E9e=Fy(),T9e=(t,e,r)=>E9e(t,e,"<",r);TK.exports=T9e});var OK=$((att,PK)=>{k();M();var IK=yu(),A9e=(t,e,r)=>(t=new IK(t,r),e=new IK(e,r),t.intersects(e,r));PK.exports=A9e});var CK=$((ftt,BK)=>{k();M();var I9e=v9(),P9e=bu();BK.exports=(t,e,r)=>{let n=[],i=null,s=null,o=t.sort((h,f)=>P9e(h,f,r));for(let h of o)I9e(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[h,f]of n)h===f?a.push(h):!f&&h===o[0]?a.push("*"):f?h===o[0]?a.push(`<=${f}`):a.push(`${h} - ${f}`):a.push(`>=${h}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var HK=$((dtt,FK)=>{k();M();var kK=yu(),nT=b9(),{ANY:rT}=nT,_9=v9(),iT=bu(),O9e=(t,e,r={})=>{if(t===e)return!0;t=new kK(t,r),e=new kK(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let o=C9e(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},B9e=[new nT(">=0.0.0-0")],MK=[new nT(">=0.0.0")],C9e=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===rT){if(e.length===1&&e[0].semver===rT)return!0;r.includePrerelease?t=B9e:t=MK}if(e.length===1&&e[0].semver===rT){if(r.includePrerelease)return!0;e=MK}let n=new Set,i,s;for(let l of t)l.operator===">"||l.operator===">="?i=RK(i,l,r):l.operator==="<"||l.operator==="<="?s=NK(s,l,r):n.add(l.semver);if(n.size>1)return null;let o;if(i&&s){if(o=iT(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let l of n){if(i&&!_9(l,String(i),r)||s&&!_9(l,String(s),r))return null;for(let y of e)if(!_9(l,String(y),r))return!1;return!0}let a,u,c,h,f=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&s.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let l of e){if(h=h||l.operator===">"||l.operator===">=",c=c||l.operator==="<"||l.operator==="<=",i){if(p&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===p.major&&l.semver.minor===p.minor&&l.semver.patch===p.patch&&(p=!1),l.operator===">"||l.operator===">="){if(a=RK(i,l,r),a===l&&a!==i)return!1}else if(i.operator===">="&&!_9(i.semver,String(l),r))return!1}if(s){if(f&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===f.major&&l.semver.minor===f.minor&&l.semver.patch===f.patch&&(f=!1),l.operator==="<"||l.operator==="<="){if(u=NK(s,l,r),u===l&&u!==s)return!1}else if(s.operator==="<="&&!_9(s.semver,String(l),r))return!1}if(!l.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&h&&!i&&o!==0||p||f)},RK=(t,e,r)=>{if(!t)return e;let n=iT(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},NK=(t,e,r)=>{if(!t)return e;let n=iT(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};FK.exports=O9e});var qK=$((gtt,LK)=>{k();M();var sT=Q6(),DK=p9(),k9e=Xs(),UK=zE(),M9e=zp(),R9e=hj(),N9e=dj(),F9e=gj(),H9e=vj(),D9e=xj(),U9e=wj(),L9e=Tj(),q9e=Ij(),$9e=bu(),j9e=Cj(),K9e=Mj(),V9e=By(),G9e=Hj(),z9e=Uj(),W9e=g9(),Y9e=Cy(),X9e=WE(),Z9e=YE(),J9e=ky(),Q9e=My(),eme=XE(),tme=Wj(),rme=b9(),nme=yu(),ime=v9(),sme=cK(),ome=hK(),ame=dK(),ume=gK(),cme=yK(),fme=Fy(),hme=EK(),lme=AK(),dme=OK(),pme=CK(),mme=HK();LK.exports={parse:M9e,valid:R9e,clean:N9e,inc:F9e,diff:H9e,major:D9e,minor:U9e,patch:L9e,prerelease:q9e,compare:$9e,rcompare:j9e,compareLoose:K9e,compareBuild:V9e,sort:G9e,rsort:z9e,gt:W9e,lt:Y9e,eq:X9e,neq:Z9e,gte:J9e,lte:Q9e,cmp:eme,coerce:tme,Comparator:rme,Range:nme,satisfies:ime,toComparators:sme,maxSatisfying:ome,minSatisfying:ame,minVersion:ume,validRange:cme,outside:fme,gtr:hme,ltr:lme,intersects:dme,simplifyRange:pme,subset:mme,SemVer:k9e,re:sT.re,src:sT.src,tokens:sT.t,SEMVER_SPEC_VERSION:DK.SEMVER_SPEC_VERSION,RELEASE_TYPES:DK.RELEASE_TYPES,compareIdentifiers:UK.compareIdentifiers,rcompareIdentifiers:UK.rcompareIdentifiers}});var Hy=$(Mf=>{k();M();function jK(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=gme(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function gme(t,e){if(!!t){if(typeof t=="string")return $K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $K(t,e)}}function $K(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Mf.type=t=>t.split(/ *; */).shift();Mf.params=t=>{let e={};var r=jK(t.split(/ *; */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *= */),o=s.shift(),a=s.shift();o&&a&&(e[o]=a)}}catch(i){r.e(i)}finally{r.f()}return e};Mf.parseLinks=t=>{let e={};var r=jK(t.split(/ *, */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *; */),o=s[0].slice(1,-1),a=s[1].split(/ *= */)[1].slice(1,-1);e[a]=o}}catch(i){r.e(i)}finally{r.f()}return e};Mf.cleanHeader=(t,e)=>(delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t);Mf.isObject=t=>t!==null&&typeof t=="object";Mf.hasOwn=Object.hasOwn||function(t,e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(t),e)};Mf.mixin=(t,e)=>{for(let r in e)Mf.hasOwn(e,r)&&(t[r]=e[r])}});var zK=$((Stt,GK)=>{k();M();var KK=qK(),VK=Hy(),Dy=VK.isObject,x9=VK.hasOwn;GK.exports=qr;function qr(){}qr.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};qr.prototype.parse=function(t){return this._parser=t,this};qr.prototype.responseType=function(t){return this._responseType=t,this};qr.prototype.serialize=function(t){return this._serializer=t,this};qr.prototype.timeout=function(t){if(!t||typeof t!="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(let e in t)if(x9(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this};qr.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var bme=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),yme=new Set([408,413,429,500,502,503,504,521,522,524]);qr.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{let r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(r){console.error(r)}return!!(e&&e.status&&yme.has(e.status)||t&&(t.code&&bme.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};qr.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};qr.prototype.then=function(t,e){if(!this._fullfilledPromise){let r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((n,i)=>{r.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError){i(this.timedoutError);return}let s=new Error("Aborted");s.code="ABORTED",s.status=this.status,s.method=this.method,s.url=this.url,i(s)}),r.end((s,o)=>{s?i(s):n(o)})})}return this._fullfilledPromise.then(t,e)};qr.prototype.catch=function(t){return this.then(void 0,t)};qr.prototype.use=function(t){return t(this),this};qr.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};qr.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};qr.prototype.get=function(t){return this._header[t.toLowerCase()]};qr.prototype.getHeader=qr.prototype.get;qr.prototype.set=function(t,e){if(Dy(t)){for(let r in t)x9(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this};qr.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};qr.prototype.field=function(t,e,r){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(Dy(t)){for(let n in t)x9(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(let n in e)x9(e,n)&&this.field(t,e[n]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this};qr.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(KK.gte(q.version,"v13.0.0")&&KK.lt(q.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this};qr.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization",`Basic ${n(`${t}:${e}`)}`);break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization",`Bearer ${t}`);break;default:break}return this};qr.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};qr.prototype.redirects=function(t){return this._maxRedirects=t,this};qr.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};qr.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};qr.prototype.send=function(t){let e=Dy(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&Dy(this._data))for(let n in t){if(typeof t[n]=="bigint"&&!t[n].toJSON)throw new Error("Cannot serialize BigInt value to json");x9(t,n)&&(this._data[n]=t[n])}else{if(typeof t=="bigint")throw new Error("Cannot send value of type BigInt");typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?`${this._data}&${t}`:t:this._data=(this._data||"")+t):this._data=t}return!e||this._isHost(t)?this:(r||this.type("json"),this)};qr.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this};qr.prototype._finalizeQueryString=function(){let t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){let e=this.url.indexOf("?");if(e>=0){let r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}};qr.prototype._appendQueryString=()=>{console.warn("Unsupported")};qr.prototype._timeoutError=function(t,e,r){if(this._aborted)return;let n=new Error(`${t+e}ms exceeded`);n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)};qr.prototype._setTimeouts=function(){let t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}});var YK=$((Ttt,WK)=>{k();M();var oT=Hy();WK.exports=Uy;function Uy(){}Uy.prototype.get=function(t){return this.header[t.toLowerCase()]};Uy.prototype._setHeaderProperties=function(t){let e=t["content-type"]||"";this.type=oT.type(e);let r=oT.params(e);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=oT.parseLinks(t.link))}catch{}};Uy.prototype._setStatusProperties=function(t){let e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422}});var JK=$((Ptt,ZK)=>{k();M();function vme(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_me(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function _me(t,e){if(!!t){if(typeof t=="string")return XK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XK(t,e)}}function XK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uT(){this._defaults=[]}for(Ly=0,aT=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];Ly<aT.length;Ly++){let t=aT[Ly];uT.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}}var Ly,aT;uT.prototype._setDefaults=function(t){var e=vme(this._defaults),r;try{for(e.s();!(r=e.n()).done;){let n=r.value;t[n.fn](...n.args)}}catch(n){e.e(n)}finally{e.f()}};ZK.exports=uT});var Rf=$((Yp,dT)=>{k();M();function xme(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Sme(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function Sme(t,e){if(!!t){if(typeof t=="string")return QK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QK(t,e)}}function QK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var r5;typeof window<"u"?r5=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),r5=void 0):r5=self;var wme=Vq(),Eme=Zq(),Tme=X$(),Ame=zK(),hT=Hy(),eV=hT.isObject,tV=hT.mixin,lT=hT.hasOwn,Ime=YK(),$y=JK();function Pme(){}dT.exports=function(t,e){return typeof e=="function"?new Yp.Request("GET",t).end(e):arguments.length===1?new Yp.Request("GET",t):new Yp.Request(t,e)};Yp=dT.exports;var Kr=Yp;Yp.Request=Gn;Kr.getXHR=()=>{if(r5.XMLHttpRequest)return new r5.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};var Ome="".trim?t=>t.trim():t=>t.replace(/(^\s*|\s*$)/g,"");function rV(t){if(!eV(t))return t;let e=[];for(let r in t)lT(t,r)&&fT(e,r,t[r]);return e.join("&")}function fT(t,e,r){if(r!==void 0){if(r===null){t.push(encodeURI(e));return}if(Array.isArray(r)){var n=xme(r),i;try{for(n.s();!(i=n.n()).done;){let s=i.value;fT(t,e,s)}}catch(s){n.e(s)}finally{n.f()}}else if(eV(r))for(let s in r)lT(r,s)&&fT(t,`${e}[${s}]`,r[s]);else t.push(encodeURI(e)+"="+encodeURIComponent(r))}}Kr.serializeObject=rV;function nV(t){let e={},r=t.split("&"),n,i;for(let s=0,o=r.length;s<o;++s)n=r[s],i=n.indexOf("="),i===-1?e[decodeURIComponent(n)]="":e[decodeURIComponent(n.slice(0,i))]=decodeURIComponent(n.slice(i+1));return e}Kr.parseString=nV;Kr.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};Kr.serialize={"application/x-www-form-urlencoded":Tme.stringify,"application/json":Eme};Kr.parse={"application/x-www-form-urlencoded":nV,"application/json":JSON.parse};function Bme(t){let e=t.split(/\r?\n/),r={},n,i,s,o;for(let a=0,u=e.length;a<u;++a)i=e[a],n=i.indexOf(":"),n!==-1&&(s=i.slice(0,n).toLowerCase(),o=Ome(i.slice(n+1)),r[s]=o);return r}function iV(t){return/[/+]json($|[^-\w])/i.test(t)}function S9(t){this.req=t,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let e=this.xhr.status;e===1223&&(e=204),this._setStatusProperties(e),this.headers=Bme(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&t._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}tV(S9.prototype,Ime.prototype);S9.prototype._parseBody=function(t){let e=Kr.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&iV(this.type)&&(e=Kr.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)};S9.prototype.toError=function(){let t=this.req,e=t.method,r=t.url,n=`cannot ${e} ${r} (${this.status})`,i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i};Kr.Response=S9;function Gn(t,e){let r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",()=>{let n=null,i=null;try{i=new S9(r)}catch(o){return n=new Error("Parser is unable to parse the response"),n.parse=!0,n.original=o,r.xhr?(n.rawResponse=typeof r.xhr.responseType>"u"?r.xhr.responseText:r.xhr.response,n.status=r.xhr.status?r.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),r.callback(n)}r.emit("response",i);let s;try{r._isResponseOK(i)||(s=new Error(i.statusText||i.text||"Unsuccessful HTTP response"))}catch(o){s=o}s?(s.original=n,s.response=i,s.status=s.status||i.status,r.callback(s,i)):r.callback(null,i)})}wme(Gn.prototype);tV(Gn.prototype,Ame.prototype);Gn.prototype.type=function(t){return this.set("Content-Type",Kr.types[t]||t),this};Gn.prototype.accept=function(t){return this.set("Accept",Kr.types[t]||t),this};Gn.prototype.auth=function(t,e,r){arguments.length===1&&(e=""),typeof e=="object"&&e!==null&&(r=e,e=""),r||(r={type:typeof btoa=="function"?"basic":"auto"});let n=r.encoder?r.encoder:i=>{if(typeof btoa=="function")return btoa(i);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,n)};Gn.prototype.query=function(t){return typeof t!="string"&&(t=rV(t)),t&&this._query.push(t),this};Gn.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this};Gn.prototype._getFormData=function(){return this._formData||(this._formData=new r5.FormData),this._formData};Gn.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();let r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)};Gn.prototype.crossDomainError=function(){let t=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)};Gn.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this};Gn.prototype.ca=Gn.prototype.agent;Gn.prototype.buffer=Gn.prototype.ca;Gn.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")};Gn.prototype.pipe=Gn.prototype.write;Gn.prototype._isHost=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&Object.prototype.toString.call(t)!=="[object Object]"};Gn.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||Pme,this._finalizeQueryString(),this._end()};Gn.prototype._setUploadTimeout=function(){let t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))};Gn.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));let t=this;this.xhr=Kr.getXHR();let e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.addEventListener("readystatechange",()=>{let i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),i!==4)return;let s;try{s=e.status}catch{s=0}if(!s)return t.timedout||t._aborted?void 0:t.crossDomainError();t.emit("end")});let n=(i,s)=>{s.total>0&&(s.percent=s.loaded/s.total*100,s.percent===100&&clearTimeout(t._uploadTimeoutTimer)),s.direction=i,t.emit("progress",s)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch{}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(i){return this.callback(i)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof r!="string"&&!this._isHost(r)){let i=this._header["content-type"],s=this._serializer||Kr.serialize[i?i.split(";")[0]:""];!s&&iV(i)&&(s=Kr.serialize["application/json"]),s&&(r=s(r))}for(let i in this.header)this.header[i]!==null&&lT(this.header,i)&&e.setRequestHeader(i,this.header[i]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(typeof r>"u"?null:r)};Kr.agent=()=>new $y;for(qy=0,cT=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];qy<cT.length;qy++){let t=cT[qy];$y.prototype[t.toLowerCase()]=function(e,r){let n=new Kr.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}}var qy,cT;$y.prototype.del=$y.prototype.delete;Kr.get=(t,e,r)=>{let n=Kr("GET",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};Kr.head=(t,e,r)=>{let n=Kr("HEAD",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};Kr.options=(t,e,r)=>{let n=Kr("OPTIONS",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};function sV(t,e,r){let n=Kr("DELETE",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}Kr.del=sV;Kr.delete=sV;Kr.patch=(t,e,r)=>{let n=Kr("PATCH",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};Kr.post=(t,e,r)=>{let n=Kr("POST",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};Kr.put=(t,e,r)=>{let n=Kr("PUT",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}});var uV=$(wl=>{k();M();var Xp=wl&&wl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Cme=wl&&wl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wl,"__esModule",{value:!0});wl.replayToLatest=void 0;var pT=xE(),kme=Cme(Rf());function aV(t){let e=t.toASM(),r=e.lastIndexOf("OP_RETURN"),n=r===-1?t:pT.bsv.Script.fromASM(e.substring(0,r).trim());return pT.bsv.crypto.Hash.sha256(n.toBuffer()).toString("hex")}function Mme(t,e){return Xp(this,void 0,void 0,function*(){let r=yield t.getTransaction(e.txId);return aV(r.outputs[e.outputIndex].script)})}function Rme(t,e){return Xp(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.getNetwork()===pT.bsv.Networks.mainnet?"main":"test"}/tx/${e.txId}/${e.outputIndex}/spent`;return kme.default.get(n).then(i=>Xp(this,void 0,void 0,function*(){return{tx:yield t.getTransaction(i.body.txid),atInputIndex:i.body.vin}})).catch(i=>{if(i.response.status!==404)throw new Error(i.message)})})}function oV(t,e,r){return Xp(this,void 0,void 0,function*(){let n=yield Rme(t,e);if(!n)return;let{tx:i}=n,s=i.outputs.filter(o=>aV(o.script)===r).map((o,a)=>a);if(s.length>1)throw Error("only support linear spent chain");return{spentIn:n,nextOutputIndex:s.length===1?s[0]:void 0}})}function Nme(t,e){return Xp(this,void 0,void 0,function*(){let r=yield Mme(t,e),n=[],i=yield oV(t,e,r);for(;i&&i.nextOutputIndex!==void 0;)n.push(i),i=yield oV(t,{txId:i.spentIn.tx.id,outputIndex:i.nextOutputIndex},r);return n})}function Fme(t,e){return Xp(this,void 0,void 0,function*(){if(!t||e.nextOutputIndex===void 0)return;let r=t.next(),{tx:n,atInputIndex:i}=e.spentIn,o=r.constructor.parseCallData(n,i),{methodName:a,args:u}=o,c=r.getOffchainUpdates();if(c){let h=c[a];h?.call(r,r,...u.map(f=>f.value))}return r.from={tx:n,outputIndex:e.nextOutputIndex},r})}function Hme(t,e){return Xp(this,void 0,void 0,function*(){let r=yield Nme(t.provider,e),n=t;for(let i of r)n=yield Fme(n,i);return n})}wl.replayToLatest=Hme});var x0=$(El=>{k();M();var mT=El&&El.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Dme=El&&El.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(El,"__esModule",{value:!0});El.Provider=void 0;var Ume=Dme(ok()),Lme=nr(),gT=class extends Ume.default{constructor(){super(),this._isProvider=!0}_initializeConnection(){new Promise((e,r)=>{setTimeout(()=>{this.connect().then(n=>{e(n)},n=>{r(n)})},0)})}_ready(){return mT(this,void 0,void 0,function*(){if(!this.isConnected())try{yield this.connect()}catch(e){throw e}})}getEstimateFee(e){return mT(this,void 0,void 0,function*(){let r=new Lme.bsv.Transaction(e.uncheckedSerialize());return r.feePerKb(yield this.getFeePerKb()),r.getEstimateFee()})}sendTransaction(e){return mT(this,void 0,void 0,function*(){let r=e.serialize({disableIsFullySigned:!0}),n=yield this.getFeePerKb(),i=Math.ceil(r.length/2/1e3*n);if(e._inputAmount=void 0,e.getUnspentValue()<i)throw new Error("invalid fee, fee too low.");if(e.getUnspentValue()>i*3)throw new Error("invalid fee, fee too high.");return this.sendRawTransaction(r)})}static isProvider(e){return!!(e&&e._isProvider)}};El.Provider=gT});var w9=$(Tl=>{k();M();var jy=Tl&&Tl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},qme=Tl&&Tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.WhatsonchainProvider=void 0;var Ky=nr(),$me=x0(),Vy=qme(Rf()),jme=pu(),bT=class extends $me.Provider{constructor(e){super(),this._isConnected=!1,this._network=e,this._initializeConnection()}get apiPrefix(){return`https://api.whatsonchain.com/v1/bsv/${this._network.name===Ky.bsv.Networks.mainnet.name?"main":"test"}`}isConnected(){return this._isConnected}connect(){var e;return jy(this,void 0,void 0,function*(){try{let r=yield Vy.default.get(`${this.apiPrefix}/woc`).timeout(3e3);if(r.ok&&r.text==="Whats On Chain")this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){return jy(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{return(yield Vy.default.post(`${this.apiPrefix}/tx/raw`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").send({txhex:e})).body}catch(i){if(i.response&&i.response.text){if(Kme(i.response.text))return new Ky.bsv.Transaction(e).id;throw new Error(`WhatsonchainProvider ERROR: ${Vme(i.response.text)}`)}throw new Error(`WhatsonchainProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return jy(this,void 0,void 0,function*(){yield this._ready();let i=(yield Vy.default.get(`${this.apiPrefix}/address/${e}/unspent`)).body.map(s=>({txId:s.tx_hash,outputIndex:s.tx_pos,satoshis:s.value,script:Ky.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,jme.filterUTXO)(i,r):i})}getBalance(e){return this.listUnspent(e).then(r=>({confirmed:r.reduce((n,i)=>(n+=i.satoshis,n),0),unconfirmed:0}))}getTransaction(e){return jy(this,void 0,void 0,function*(){return yield this._ready(),Vy.default.get(`${this.apiPrefix}/tx/${e}/hex`).then(r=>{if(r.ok)return new Ky.bsv.Transaction(r.text);throw r.error?r.error:`getTransaction error ${e}`})})}getFeePerKb(){return Promise.resolve(1)}};Tl.WhatsonchainProvider=bT;function Kme(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}function Vme(t){return t.includes("bad-txns-vin-empty")?"Transaction is missing inputs.":t.includes("bad-txns-vout-empty")?"Transaction is missing outputs.":t.includes("bad-txns-oversize")?"Transaction is too large.":t.includes("bad-txns-vout-negative")?"Transaction output value is negative.":t.includes("bad-txns-vout-toolarge")?"Transaction outputut value is too large.":t.includes("bad-txns-txouttotal-toolarge")?"Transaction total outputut value is too large.":t.includes("bad-txns-prevout-null")?"Transaction inputs previous TX reference is null.":t.includes("bad-txns-inputs-duplicate")?"Transaction contains duplicate inputs.":t.includes("bad-txns-inputs-too-large")?"Transaction inputs too large.":t.includes("bad-txns-fee-negative")?"Transaction network fee is negative.":t.includes("bad-txns-fee-outofrange")?"Transaction network fee is out of range.":t.includes("mandatory-script-verify-flag-failed")?"Script evaluation failed.":t}});var vT=$(n5=>{k();M();var E9=n5&&n5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(n5,"__esModule",{value:!0});n5.SensibleProvider=void 0;var Gy=nr(),Gme=x0(),T9=Rf(),zme=pu(),yT=class extends Gme.Provider{constructor(e,r){super(),this.network=e,this.apiKey=r,this._isConnected=!1,this._initializeConnection()}get apiEndpoint(){return this.network.name===Gy.bsv.Networks.mainnet.name?"https://api.sensiblequery.com":"https://api.sensiblequery.com/test/"}isConnected(){return this._isConnected}connect(){var e;return E9(this,void 0,void 0,function*(){try{let r=yield(0,T9.get)(this.apiEndpoint).set("Authorization",`Bearer ${this.apiKey}`).timeout(3e3);if(r.ok&&r.body.code===0)this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}sendRawTransaction(e){return E9(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{let i=yield(0,T9.post)(`${this.apiEndpoint}/pushtx`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").set("Authorization",`Bearer ${this.apiKey}`).send({txhex:e});if(console.log("SensibleProvider",i.body),i.ok&&i.body.code===0)return i.body.data;if(typeof i.text=="string"&&i.text.includes("service is restricted"))throw new Error("According to your IP and nationality, you are in a country/region where our service is restricted.");if(typeof i.text=="string"&&Wme(i.text))return new Gy.bsv.Transaction(e).id;throw new Error(`${i.body.msg?i.body.msg:i.text}`)}catch(i){throw new Error(`SensibleProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return E9(this,void 0,void 0,function*(){if(yield this._ready(),Array.isArray(e))throw new Error("SensibleProvider ERROR: only support list one address");let n=yield(0,T9.get)(`${this.apiEndpoint}/address/${e}/utxo`).set("Authorization",`Bearer ${this.apiKey}`);if(n.ok&&n.body.code===0){let i=n.body.data.map(s=>({txId:s.txid,outputIndex:s.vout,satoshis:s.satoshi,script:Gy.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,zme.filterUTXO)(i,r):i}throw new Error(`SensibleProvider ERROR: ${n.body.msg}`)})}getBalance(e){return E9(this,void 0,void 0,function*(){yield this._ready();let r=yield(0,T9.get)(`${this.apiEndpoint}/address/${e}/balance`).set("Authorization",`Bearer ${this.apiKey}`);if(r.body.code===0)return{confirmed:r.body.data.satoshi,unconfirmed:r.body.data.pendingSatoshi};throw new Error(`SensibleProvider ERROR: ${r.body.msg}`)})}getTransaction(e){return E9(this,void 0,void 0,function*(){return yield this._ready(),(0,T9.get)(`${this.apiEndpoint}/rawtx/${e}`).set("Authorization",`Bearer ${this.apiKey}`).set("Content-Type","application/json").set("Accept","application/json").then(r=>{if(r.ok&&r.body.code===0)return new Gy.bsv.Transaction(r.body.data);throw r.error?r.error:new Error(`SensibleProvider ERROR: ${r.body.msg}`)})})}getFeePerKb(){return Promise.resolve(1)}};n5.SensibleProvider=yT;function Wme(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}});var xT=$(i5=>{k();M();var A9=i5&&i5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(i5,"__esModule",{value:!0});i5.GorillapoolProvider=void 0;var Yme=nr(),Xme=x0(),Zme=w9(),cV=Rf(),_T=class extends Xme.Provider{constructor(e,r){super(),this.apiKey=r,this._feePerKb=-1,this._network=e,this._mapiURL=e==Yme.bsv.Networks.mainnet?"https://mapi.gorillapool.io/mapi/":"https://testnet-mapi.gorillapool.io/mapi/",this._provider=new Zme.WhatsonchainProvider(e)}isConnected(){return this._provider.isConnected()}connect(){return A9(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return A9(this,void 0,void 0,function*(){let s=Math.max(1,e.length/2/1024),o=Math.max(1e4,1e3*s);try{let a=(0,cV.post)(this._mapiURL+"tx").timeout({response:o,deadline:6e4}).set("Content-Type","application/octet-stream");this.apiKey&&a.set("Authorization",`Bearer ${this.apiKey}`);let u=yield a.send(A.Buffer.from(e,"hex")),c=JSON.parse(u.body.payload);if(c.returnResult==="success")return c.txid;if(c.returnResult==="failure")throw new Error(c.resultDescription)}catch(a){throw((r=a.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=a.response)===null||n===void 0?void 0:n.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((i=a.response)===null||i===void 0?void 0:i.body)}`):new Error(`GorillapoolProvider ERROR: ${a.message}`)}})}listUnspent(e,r){return A9(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return A9(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return A9(this,void 0,void 0,function*(){try{let i=(0,cV.get)(this._mapiURL+"feeQuote").timeout({response:5e3,deadline:1e4});this.apiKey&&i.set("Authorization",`Bearer ${this.apiKey}`);let s=yield i;JSON.parse(s.body.payload).fees.forEach(a=>{a.feeType=="standard"&&(this._feePerKb=a.miningFee.satoshis*1e3/a.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`GorillapoolProvider ERROR: ${i.message}`)}})}};i5.GorillapoolProvider=_T});var ET=$(s5=>{k();M();var I9=s5&&s5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(s5,"__esModule",{value:!0});s5.TaalProvider=void 0;var ST=nr(),Jme=x0(),Qme=w9(),fV=Rf(),wT=class extends Jme.Provider{constructor(e="testnet_4df8757e4c289af199f69ad759be31b4"){super(),this.apiKey=e,this._network=ST.bsv.Networks.testnet,this._feePerKb=-1,this.apiKey.startsWith("testnet_")?this._network=ST.bsv.Networks.testnet:this._network=ST.bsv.Networks.mainnet,this._provider=new Qme.WhatsonchainProvider(this._network),this._initializeConnection()}get apiPrefix(){return"https://api.taal.com/api/v1/broadcast"}isConnected(){return this._provider.isConnected()}connect(){return I9(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return I9(this,void 0,void 0,function*(){yield this._ready();let s=Math.max(1,e.length/2/1024),o=Math.max(1e4,1e3*s);try{return(yield(0,fV.post)("https://api.taal.com/api/v1/broadcast").timeout({response:o,deadline:6e4}).set("Content-Type","application/octet-stream").set("Authorization",this.apiKey).send(A.Buffer.from(e,"hex"))).text}catch(a){throw((r=a.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=a.response)===null||n===void 0?void 0:n.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((i=a.response)===null||i===void 0?void 0:i.body)}`):new Error(`TaalProvider ERROR: ${a.message}`)}})}listUnspent(e,r){return I9(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return I9(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return I9(this,void 0,void 0,function*(){try{let i=yield(0,fV.get)("https://api.taal.com/mapi/feeQuote").timeout({response:5e3,deadline:1e4}).set("Authorization",this.apiKey);JSON.parse(i.body.payload).fees.forEach(o=>{o.feeType=="standard"&&(this._feePerKb=o.miningFee.satoshis*1e3/o.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`TaalProvider ERROR: ${i.message}`)}})}};s5.TaalProvider=wT});var dV=$(a5=>{k();M();var o5=a5&&a5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(a5,"__esModule",{value:!0});a5.FallbackProvider=void 0;var TT=x0(),hV={stallTimeout:400,priority:1,weight:1};function P9(t){if(t==null||t instanceof Error)return"null";if(Array.isArray(t))return"["+t.map(P9).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return P9(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${P9(t[r])}`).join(",")+"}"}}throw new Error(`Could not serialize ${t}`)}function lV(t){if("error"in t){let r=t.error;return{tag:P9(r),value:r}}let e=t.result;return{tag:P9(e),value:e}}function ege(t,e){let r=new Map;for(let{value:i,tag:s,weight:o}of e){let a=r.get(s)||{value:i,weight:0};a.weight+=o,r.set(s,a)}let n=null;if(r.forEach((i,s)=>{i.weight>=t&&(!n||i.weight>n.weight)&&(n=i)}),n)return n.value}function tge(t,e){let r=ege(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}var AT=class extends TT.Provider{constructor(e){if(super(),this.configs=e.map(n=>n instanceof TT.Provider?Object.assign({provider:n},hV):Object.assign({},hV,n)).sort((n,i)=>i.priority-n.priority),this.configs.length===0)throw new Error("No providers passed when initializing a FallbackProvider");let r=this.configs[0].provider.getNetwork();if(!this.configs.every(n=>n.provider.getNetwork()===r))throw new Error("All the providers passed should have the same network when initializing a FallbackProvider");if(this.quorum=2,this.quorum>this.configs.reduce((n,i)=>n+i.weight,0))throw new Error("quorum exceed provider wieght")}isConnected(){let e=!1;return this.configs.forEach(r=>{e=e||r.provider.isConnected()}),e}connect(){return o5(this,void 0,void 0,function*(){return yield this._getBestProviderResult(e=>e.connect()),Promise.resolve(this)})}updateNetwork(e){this.configs.forEach(r=>r.provider.updateNetwork(e))}getNetwork(){return this.configs[0].provider.getNetwork()}getFeePerKb(){return this._getBestProviderResult(e=>e.getFeePerKb())}sendRawTransaction(e){return this.perform("sendRawTransaction",r=>r.sendRawTransaction(e))}getTransaction(e){return this.perform("getTransaction",r=>r.getTransaction(e))}listUnspent(e,r){return this.perform("listUnspent",n=>n.listUnspent(e,r))}getBalance(e){return this.perform("getBalance",r=>r.getBalance(e))}_getBestProviderResult(e){return o5(this,void 0,void 0,function*(){let r=yield Promise.all(this.configs.map(({provider:i,weight:s})=>o5(this,void 0,void 0,function*(){try{let o=yield e(i);return Object.assign(lV({result:o}),{weight:s})}catch{return Object.assign(lV({result:50}),{weight:s})}}))),n=tge(this.quorum,r);if(n instanceof Error)throw n;return n})}_getFastProviderResult(e){return o5(this,void 0,void 0,function*(){return yield new Promise((n,i)=>{let s=0;this.configs.forEach(({provider:o,weight:a})=>o5(this,void 0,void 0,function*(){try{let u=yield e(o);n(u instanceof TT.Provider?this:u)}catch(u){s++,s>=this.configs.length&&n(u)}}))})})}perform(e,r){return o5(this,void 0,void 0,function*(){let n=yield this._getFastProviderResult(r);if(n instanceof Error)throw n;return n})}};a5.FallbackProvider=AT});var gV=$(u5=>{k();M();var rge=u5&&u5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(u5,"__esModule",{value:!0});u5.DefaultProvider=void 0;var IT=nr(),nge=x0(),ige=xT(),sge=dV(),oge=vT(),age=ET(),pV=w9();function mV(t){return t==IT.bsv.Networks.testnet}var PT=class extends nge.Provider{constructor(e){super(),this._providers=[],e=e||{network:IT.bsv.Networks.livenet};let r=e.network||IT.bsv.Networks.livenet;this._providers.push(new pV.WhatsonchainProvider(r)),(e.taal||mV(r))&&this._providers.push(new age.TaalProvider(e.taal)),(e.gorillapool||mV(r))&&this._providers.push(new ige.GorillapoolProvider(r,e.gorillapool)),e.sensible&&this._providers.push(new oge.SensibleProvider(r,e.sensible)),this._providers.length===0&&this._providers.push(new pV.WhatsonchainProvider(r))}get bestProvider(){return this._providers.length===1?"provider"in this._providers[0]?this._providers[0].provider:this._providers[0]:new sge.FallbackProvider(this._providers)}isConnected(){return this.bestProvider.isConnected()}connect(){return rge(this,void 0,void 0,function*(){return yield this.bestProvider.connect(),this})}updateNetwork(e){this.bestProvider.updateNetwork(e)}getNetwork(){return this.bestProvider.getNetwork()}getFeePerKb(){return this.bestProvider.getFeePerKb()}sendRawTransaction(e){return this.bestProvider.sendRawTransaction(e)}getTransaction(e){return this.bestProvider.getTransaction(e)}listUnspent(e,r){return this.bestProvider.listUnspent(e,r)}getBalance(e){return this.bestProvider.getBalance(e)}};u5.DefaultProvider=PT});var yV=$(zy=>{k();M();Object.defineProperty(zy,"__esModule",{value:!0});zy.DummyProvider=void 0;var OT=nr(),uge=x0(),bV=hf(),cge=pu(),BT=class extends uge.Provider{constructor(e){super(),this.satoshisArray=e}isConnected(){return!0}connect(){return Promise.resolve(this)}updateNetwork(e){}getNetwork(){return OT.bsv.Networks.testnet}getFeePerKb(){return Promise.resolve(1)}sendRawTransaction(e){return Promise.resolve(e)}getTransaction(e){throw new Error("Method not implemented.")}listUnspent(e,r){if(this.satoshisArray){let n=this.satoshisArray.map(i=>({txId:(0,bV.randomBytes)(32).toString("hex"),outputIndex:0,script:OT.bsv.Script.fromAddress(e).toHex(),satoshis:i}));return r?Promise.resolve((0,cge.filterUTXO)(n,r)):Promise.resolve(n)}return Promise.resolve([{txId:(0,bV.randomBytes)(32).toString("hex"),outputIndex:0,script:OT.bsv.Script.fromAddress(e).toHex(),satoshis:9999999999}])}getBalance(e){throw new Error("Method not implemented.")}};zy.DummyProvider=BT});var vV=$(Wy=>{k();M();Object.defineProperty(Wy,"__esModule",{value:!0});Wy.GetTransactionAction=void 0;var fge=nr(),CT=class{constructor(){this.method="GET",this.pathPattern="/tx/:txId"}serilizeRequest(e){return e}deserilizeResponse(e,r){return new fge.bsv.Transaction(e.txHex)}};Wy.GetTransactionAction=CT});var _V=$(Yy=>{k();M();Object.defineProperty(Yy,"__esModule",{value:!0});Yy.GetBalanceAction=void 0;var kT=class{constructor(){this.method="GET",this.pathPattern="/address/:address/balance"}serilizeRequest(e){return{address:e.address.toString()}}deserilizeResponse(e,r){return e}};Yy.GetBalanceAction=kT});var xV=$(Xy=>{k();M();Object.defineProperty(Xy,"__esModule",{value:!0});Xy.SendRawTransactionAction=void 0;var MT=class{constructor(){this.method="POST",this.pathPattern="/tx"}serilizeRequest(e){return e}deserilizeResponse(e,r){return e.txId}};Xy.SendRawTransactionAction=MT});var SV=$(Zy=>{k();M();Object.defineProperty(Zy,"__esModule",{value:!0});Zy.ListUnspentAction=void 0;var hge=pu(),RT=class{constructor(){this.method="GET",this.pathPattern="/address/:address/utxo"}serilizeRequest(e){return{address:e.address.toString(),options:e.options}}deserilizeResponse(e,r){let n=r.address.toString();e.forEach(s=>(s.address=n,s));let i=r.options;return i?(0,hge.filterUTXO)(e,i):e}};Zy.ListUnspentAction=RT});var wV=$(Jy=>{k();M();Object.defineProperty(Jy,"__esModule",{value:!0});Jy.GetFeePerKBAction=void 0;var NT=class{constructor(){this.method="GET",this.pathPattern="/feeperkb"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return e.satoshis}};Jy.GetFeePerKBAction=NT});var EV=$(Qy=>{k();M();Object.defineProperty(Qy,"__esModule",{value:!0});Qy.ConnectAction=void 0;var FT=class{constructor(){this.method="GET",this.pathPattern="/health"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return{success:e.status==="ok",error:""}}};Qy.ConnectAction=FT});var DT=$(f5=>{k();M();var c5=f5&&f5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(f5,"__esModule",{value:!0});f5.BsvApi=void 0;var lge=vV(),dge=_V(),pge=xV(),mge=SV(),gge=wV(),bge=EV(),HT=class{constructor(e){this._core=e}getTransaction(e){return c5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new lge.GetTransactionAction,{txId:e})})}getBalance(e){return c5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new dge.GetBalanceAction,{address:e})})}getFeePerKB(){return c5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new gge.GetFeePerKBAction,{})})}connect(){return c5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new bge.ConnectAction,{})})}sendRawTransaction(e){return c5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new pge.SendRawTransactionAction,{txHex:e})})}listUnspent(e,r){return c5(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new mge.ListUnspentAction,{address:e,options:r})})}};f5.BsvApi=HT});var TV=$(e4=>{k();M();Object.defineProperty(e4,"__esModule",{value:!0});e4.GetLatestInstanceAction=void 0;var UT=class{constructor(){this.method="GET",this.pathPattern="/contract/:txId/:outputIndex/utxo"}serilizeRequest(e){let{contractId:r}=e;return r}deserilizeResponse(e,r){if(e.length===0)throw new Error("The utxo related to the contract was not found, please check whether the contract artifact has been uploaded.");let n=r.clazz.fromLockingScript(e[0].script);return n.from=e[0],n}};e4.GetLatestInstanceAction=UT});var IV=$(t4=>{k();M();Object.defineProperty(t4,"__esModule",{value:!0});t4.SyncHashedPropsAction=void 0;var yge=V6(),LT=Jw(),AV=pl(),qT=class{constructor(){this.method="POST",this.pathPattern="/contract/syncHashedProps?txId=:txId&outputIndex=:outputIndex"}serilizeRequest(e){let r=e.instance,n=(Reflect.getMetadata(yge.PropsMetaKey,r)||[]).filter(s=>r[s]instanceof LT.HashedMap||r[s]instanceof AV.HashedSet).map(s=>{let o=r[s],a;return(r[s]instanceof LT.HashedMap||r[s]instanceof AV.HashedSet)&&(o=Array.from(r[s].entries()),a=r[s]._type),{name:s,type:r[s]instanceof LT.HashedMap?"HashedMap":"HashedSet",value:o}}),i=r.utxo;return{txId:i.txId,outputIndex:i.outputIndex,props:n}}deserilizeResponse(e,r){}};t4.SyncHashedPropsAction=qT});var OV=$(Al=>{k();M();var vge=Al&&Al.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},_ge=Al&&Al.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Al,"__esModule",{value:!0});Al.getTransaction=void 0;var xge=_ge(Rf()),PV=nr();function Sge(t,e){return vge(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.name===PV.bsv.Networks.mainnet.name?"main":"test"}`;return(0,xge.default)("GET",`${n}/tx/${e}/hex`).timeout(2e5).retry(2).then(i=>{if(i.ok)return new PV.bsv.Transaction(i.text);throw i.error?i.error:`getTransaction error ${e}`})})}Al.getTransaction=Sge});var r4=$(Il=>{k();M();Object.defineProperty(Il,"__esModule",{value:!0});Il.ERROR_PACKET=Il.PACKET_TYPES_REVERSE=Il.PACKET_TYPES=void 0;var S0=Object.create(null);Il.PACKET_TYPES=S0;S0.open="0";S0.close="1";S0.ping="2";S0.pong="3";S0.message="4";S0.upgrade="5";S0.noop="6";var BV=Object.create(null);Il.PACKET_TYPES_REVERSE=BV;Object.keys(S0).forEach(t=>{BV[S0[t]]=t});var wge={type:"error",data:"parser error"};Il.ERROR_PACKET=wge});var HV=$(O9=>{k();M();Object.defineProperty(O9,"__esModule",{value:!0});O9.encodePacket=void 0;O9.encodePacketToBinary=Tge;var Ege=r4(),MV=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",RV=typeof ArrayBuffer=="function",NV=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,FV=({type:t,data:e},r,n)=>MV&&e instanceof Blob?r?n(e):CV(e,n):RV&&(e instanceof ArrayBuffer||NV(e))?r?n(e):CV(new Blob([e]),n):n(Ege.PACKET_TYPES[t]+(e||""));O9.encodePacket=FV;var CV=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function kV(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var $T;function Tge(t,e){if(MV&&t.data instanceof Blob)return t.data.arrayBuffer().then(kV).then(e);if(RV&&(t.data instanceof ArrayBuffer||NV(t.data)))return e(kV(t.data));FV(t,!1,r=>{$T||($T=new TextEncoder),e($T.encode(r))})}});var DV=$(l5=>{k();M();Object.defineProperty(l5,"__esModule",{value:!0});l5.decode=l5.encode=void 0;var h5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<h5.length;t++)B9[h5.charCodeAt(t)]=t;var Age=t=>{let e=new Uint8Array(t),r,n=e.length,i="";for(r=0;r<n;r+=3)i+=h5[e[r]>>2],i+=h5[(e[r]&3)<<4|e[r+1]>>4],i+=h5[(e[r+1]&15)<<2|e[r+2]>>6],i+=h5[e[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};l5.encode=Age;var Ige=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let c=new ArrayBuffer(e),h=new Uint8Array(c);for(n=0;n<r;n+=4)s=B9[t.charCodeAt(n)],o=B9[t.charCodeAt(n+1)],a=B9[t.charCodeAt(n+2)],u=B9[t.charCodeAt(n+3)],h[i++]=s<<2|o>>4,h[i++]=(o&15)<<4|a>>2,h[i++]=(a&3)<<6|u&63;return c};l5.decode=Ige});var LV=$(i4=>{k();M();Object.defineProperty(i4,"__esModule",{value:!0});i4.decodePacket=void 0;var n4=r4(),Pge=DV(),Oge=typeof ArrayBuffer=="function",Bge=(t,e)=>{if(typeof t!="string")return{type:"message",data:UV(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:Cge(t.substring(1),e)}:n4.PACKET_TYPES_REVERSE[r]?t.length>1?{type:n4.PACKET_TYPES_REVERSE[r],data:t.substring(1)}:{type:n4.PACKET_TYPES_REVERSE[r]}:n4.ERROR_PACKET};i4.decodePacket=Bge;var Cge=(t,e)=>{if(Oge){let r=(0,Pge.decode)(t);return UV(r,e)}else return{base64:!0,data:t}},UV=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});var d5=$(ta=>{k();M();Object.defineProperty(ta,"__esModule",{value:!0});ta.decodePayload=ta.decodePacket=ta.encodePayload=ta.encodePacket=ta.protocol=void 0;ta.createPacketEncoderStream=Rge;ta.createPacketDecoderStream=Nge;var KT=HV();Object.defineProperty(ta,"encodePacket",{enumerable:!0,get:function(){return KT.encodePacket}});var VT=LV();Object.defineProperty(ta,"decodePacket",{enumerable:!0,get:function(){return VT.decodePacket}});var qV=r4(),$V=String.fromCharCode(30),kge=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((s,o)=>{(0,KT.encodePacket)(s,!1,a=>{n[o]=a,++i===r&&e(n.join($V))})})};ta.encodePayload=kge;var Mge=(t,e)=>{let r=t.split($V),n=[];for(let i=0;i<r.length;i++){let s=(0,VT.decodePacket)(r[i],e);if(n.push(s),s.type==="error")break}return n};ta.decodePayload=Mge;function Rge(){return new TransformStream({transform(t,e){(0,KT.encodePacketToBinary)(t,r=>{let n=r.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}var jT;function s4(t){return t.reduce((e,r)=>e+r.length,0)}function o4(t,e){if(t[0].length===e)return t.shift();let r=new Uint8Array(e),n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Nge(t,e){jT||(jT=new TextDecoder);let r=[],n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(s4(r)<1)break;let u=o4(r,1);s=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(s4(r)<2)break;let u=o4(r,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(s4(r)<8)break;let u=o4(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),h=c.getUint32(0);if(h>Math.pow(2,53-32)-1){a.enqueue(qV.ERROR_PACKET);break}i=h*Math.pow(2,32)+c.getUint32(4),n=3}else{if(s4(r)<i)break;let u=o4(r,i);a.enqueue((0,VT.decodePacket)(s?u:jT.decode(u),e)),n=0}if(i===0||i>t){a.enqueue(qV.ERROR_PACKET);break}}}})}ta.protocol=4});var Zp=$(jV=>{k();M();jV.Emitter=bo;function bo(t){if(t)return Fge(t)}function Fge(t){for(var e in bo.prototype)t[e]=bo.prototype[e];return t}bo.prototype.on=bo.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};bo.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};bo.prototype.off=bo.prototype.removeListener=bo.prototype.removeAllListeners=bo.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};bo.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};bo.prototype.emitReserved=bo.prototype.emit;bo.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};bo.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Jp=$(Nf=>{k();M();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.defaultBinaryType=Nf.globalThisShim=Nf.nextTick=void 0;Nf.createCookieJar=Hge;Nf.nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))();Nf.globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();Nf.defaultBinaryType="arraybuffer";function Hge(){}});var Qp=$(p5=>{k();M();Object.defineProperty(p5,"__esModule",{value:!0});p5.pick=Dge;p5.installTimerFunctions=qge;p5.byteLength=jge;p5.randomString=Vge;var Pl=Jp();function Dge(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}var Uge=Pl.globalThisShim.setTimeout,Lge=Pl.globalThisShim.clearTimeout;function qge(t,e){e.useNativeTimers?(t.setTimeoutFn=Uge.bind(Pl.globalThisShim),t.clearTimeoutFn=Lge.bind(Pl.globalThisShim)):(t.setTimeoutFn=Pl.globalThisShim.setTimeout.bind(Pl.globalThisShim),t.clearTimeoutFn=Pl.globalThisShim.clearTimeout.bind(Pl.globalThisShim))}var $ge=1.33;function jge(t){return typeof t=="string"?Kge(t):Math.ceil((t.byteLength||t.size)*$ge)}function Kge(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Vge(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}});var GT=$(a4=>{k();M();Object.defineProperty(a4,"__esModule",{value:!0});a4.encode=Gge;a4.decode=zge;function Gge(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function zge(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}});var C9=$(Ol=>{k();M();var Wge=Ol&&Ol.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.Transport=Ol.TransportError=void 0;var Yge=d5(),Xge=Zp(),Zge=Qp(),Jge=GT(),Qge=Wge(nc()),ebe=(0,Qge.default)("engine.io-client:transport"),u4=class extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}};Ol.TransportError=u4;var zT=class extends Xge.Emitter{constructor(e){super(),this.writable=!1,(0,Zge.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new u4(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):ebe("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let r=(0,Yge.decodePacket)(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let r=(0,Jge.encode)(e);return r.length?"?"+r:""}};Ol.Transport=zT});var YT=$(m5=>{k();M();var tbe=m5&&m5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m5,"__esModule",{value:!0});m5.Polling=void 0;var rbe=C9(),nbe=Qp(),KV=d5(),ibe=tbe(nc()),hc=(0,ibe.default)("engine.io-client:polling"),WT=class extends rbe.Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let r=()=>{hc("paused"),this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(hc("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){hc("pre-pause polling complete"),--n||r()})),this.writable||(hc("we are currently writing - waiting to pause"),n++,this.once("drain",function(){hc("pre-pause writing complete"),--n||r()}))}else r()}_poll(){hc("polling"),this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){hc("polling got data %s",e);let r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};(0,KV.decodePayload)(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this._poll():hc('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{hc("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(hc("transport open - closing"),e()):(hc("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,KV.encodePayload)(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=(0,nbe.randomString)()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}};m5.Polling=WT});var GV=$(c4=>{k();M();Object.defineProperty(c4,"__esModule",{value:!0});c4.hasCORS=void 0;var VV=!1;try{VV=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}c4.hasCORS=VV});var h4=$(w0=>{k();M();var sbe=w0&&w0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(w0,"__esModule",{value:!0});w0.XHR=w0.Request=w0.BaseXHR=void 0;var obe=YT(),abe=Zp(),zV=Qp(),YV=Jp(),ube=GV(),cbe=sbe(nc()),XT=(0,cbe.default)("engine.io-client:polling");function fbe(){}var f4=class extends obe.Polling{constructor(e){if(super(e),typeof location<"u"){let r=location.protocol==="https:",n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){let n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){XT("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}};w0.BaseXHR=f4;var Sa=class extends abe.Emitter{constructor(e,r,n){super(),this.createRequest=e,(0,zV.installTimerFunctions)(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;let r=(0,zV.pick)(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let n=this._xhr=this.createRequest(r);try{XT("xhr open %s: %s",this._method,this._uri),n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},XT("xhr data %s",this._data),n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Sa.requestsCount++,Sa.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fbe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Sa.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};w0.Request=Sa;Sa.requestsCount=0;Sa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",WV);else if(typeof addEventListener=="function"){let t="onpagehide"in YV.globalThisShim?"pagehide":"unload";addEventListener(t,WV,!1)}}function WV(){for(let t in Sa.requests)Sa.requests.hasOwnProperty(t)&&Sa.requests[t].abort()}var hbe=function(){let t=XV({xdomain:!1});return t&&t.responseType!==null}(),ZT=class extends f4{constructor(e){super(e);let r=e&&e.forceBase64;this.supportsBinary=hbe&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Sa(XV,this.uri(),e)}};w0.XHR=ZT;function XV(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ube.hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new YV.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}});var d4=$(Bl=>{k();M();var lbe=Bl&&Bl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.WS=Bl.BaseWS=void 0;var dbe=C9(),ZV=Qp(),pbe=d5(),QT=Jp(),mbe=lbe(nc()),gbe=(0,mbe.default)("engine.io-client:websocket"),JV=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",l4=class extends dbe.Transport{get name(){return"websocket"}doOpen(){let e=this.uri(),r=this.opts.protocols,n=JV?{}:(0,ZV.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;(0,pbe.encodePacket)(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{gbe("websocket closed before onclose event")}i&&(0,QT.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=(0,ZV.randomString)()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}};Bl.BaseWS=l4;var JT=QT.globalThisShim.WebSocket||QT.globalThisShim.MozWebSocket,eA=class extends l4{createSocket(e,r,n){return JV?new JT(e,r,n):r?new JT(e,r):new JT(e)}doWrite(e,r){this.ws.send(r)}};Bl.WS=eA});var rA=$(g5=>{k();M();var bbe=g5&&g5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(g5,"__esModule",{value:!0});g5.WT=void 0;var ybe=C9(),vbe=Jp(),QV=d5(),_be=bbe(nc()),k9=(0,_be.default)("engine.io-client:webtransport"),tA=class extends ybe.Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{k9("transport closed gracefully"),this.onClose()}).catch(e=>{k9("transport closed due to %s",e),this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let r=(0,QV.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=(0,QV.createPacketEncoderStream)();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let s=()=>{n.read().then(({done:a,value:u})=>{if(a){k9("session is closed");return}k9("received chunk: %o",u),this.onPacket(u),s()}).catch(a=>{k9("an error occurred while reading: %s",a)})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&(0,vbe.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};g5.WT=tA});var nA=$(p4=>{k();M();Object.defineProperty(p4,"__esModule",{value:!0});p4.transports=void 0;var xbe=h4(),Sbe=d4(),wbe=rA();p4.transports={websocket:Sbe.WS,webtransport:wbe.WT,polling:xbe.XHR}});var sA=$(iA=>{k();M();Object.defineProperty(iA,"__esModule",{value:!0});iA.parse=Abe;var Ebe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Tbe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Abe(t){if(t.length>8e3)throw"URI too long";let e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=Ebe.exec(t||""),s={},o=14;for(;o--;)s[Tbe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Ibe(s,s.path),s.queryKey=Pbe(s,s.query),s}function Ibe(t,e){let r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Pbe(t,e){let r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}});var cA=$(E0=>{k();M();var Obe=E0&&E0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(E0,"__esModule",{value:!0});E0.Socket=E0.SocketWithUpgrade=E0.SocketWithoutUpgrade=void 0;var Bbe=nA(),eG=Qp(),Cbe=GT(),tG=sA(),kbe=Zp(),rG=d5(),oA=Jp(),Mbe=Obe(nc()),tn=(0,Mbe.default)("engine.io-client:socket"),aA=typeof addEventListener=="function"&&typeof removeEventListener=="function",M9=[];aA&&addEventListener("offline",()=>{tn("closing %d connection(s) because the network was lost",M9.length),M9.forEach(t=>t())},!1);var lc=class extends kbe.Emitter{constructor(e,r){if(super(),this.binaryType=oA.defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){let n=(0,tG.parse)(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=(0,tG.parse)(r.host).host);(0,eG.installTimerFunctions)(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{let i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(0,Cbe.decode)(this.opts.query)),aA&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(tn("adding listener for the 'offline' event"),this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},M9.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=(0,oA.createCookieJar)()),this._open()}createTransport(e){tn('creating transport "%s"',e);let r=Object.assign({},this.opts.query);r.EIO=rG.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return tn("options: %j",n),new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&lc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){tn("setting transport %s",e.name),this.transport&&(tn("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){tn("socket open"),this.readyState="open",lc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(tn('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else tn('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();tn("flushing %d packets in socket",e.length),this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(r+=(0,eG.byteLength)(i)),n>0&&r>this._maxPayload)return tn("only send %d out of %d packets",n,this.writeBuffer.length),this.writeBuffer.slice(0,n);r+=2}return tn("payload size is %d (max: %d)",r,this._maxPayload),this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(tn("throttled timer detected, scheduling connection close"),this._pingTimeoutTime=0,(0,oA.nextTick)(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this._onClose("forced close"),tn("socket closing - telling transport to close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(tn("socket error %j",e),lc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return tn("trying next transport"),this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(tn('socket close with reason: "%s"',e),this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),aA&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let n=M9.indexOf(this._offlineEventListener);n!==-1&&(tn("removing listener for the 'offline' event"),M9.splice(n,1))}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}};E0.SocketWithoutUpgrade=lc;lc.protocol=rG.protocol;var m4=class extends lc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade){tn("starting upgrade probes");for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}}_probe(e){tn('probing transport "%s"',e);let r=this.createTransport(e),n=!1;lc.priorWebsocketSuccess=!1;let i=()=>{n||(tn('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(tn('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;lc.priorWebsocketSuccess=r.name==="websocket",tn('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(tn("changing transport and sending upgrade packet"),h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{tn('probe transport "%s" failed',e);let p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function s(){n||(n=!0,h(),r.close(),r=null)}let o=f=>{let p=new Error("probe error: "+f);p.transport=r.name,s(),tn('probe transport "%s" failed because of error: %s',e,f),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function u(){o("socket closed")}function c(f){r&&f.name!==r.name&&(tn('"%s" works - aborting "%s"',f.name,r.name),s())}let h=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",u),this.off("upgrading",c)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};E0.SocketWithUpgrade=m4;var uA=class extends m4{constructor(e,r={}){let n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Bbe.transports[i]).filter(i=>!!i)),super(e,n)}};E0.Socket=uA});var nG=$(g4=>{k();M();Object.defineProperty(g4,"__esModule",{value:!0});g4.Fetch=void 0;var Rbe=YT(),fA=class extends Rbe.Polling{doPoll(){this._fetch().then(e=>{if(!e.ok)return this.onError("fetch read error",e.status,e);e.text().then(r=>this.onData(r))}).catch(e=>{this.onError("fetch read error",e)})}doWrite(e,r){this._fetch(e).then(n=>{if(!n.ok)return this.onError("fetch write error",n.status,n);r()}).catch(n=>{this.onError("fetch write error",n)})}_fetch(e){var r;let n=e!==void 0,i=new Headers(this.opts.extraHeaders);return n&&i.set("content-type","text/plain;charset=UTF-8"),(r=this.socket._cookieJar)===null||r===void 0||r.appendCookies(i),fetch(this.uri(),{method:n?"POST":"GET",body:n?e:null,headers:i,credentials:this.opts.withCredentials?"include":"omit"}).then(s=>{var o;return(o=this.socket._cookieJar)===null||o===void 0||o.parseCookies(s.headers.getSetCookie()),s})}};g4.Fetch=fA});var b4=$(Rr=>{k();M();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.WebTransport=Rr.WebSocket=Rr.NodeWebSocket=Rr.XHR=Rr.NodeXHR=Rr.Fetch=Rr.nextTick=Rr.parse=Rr.installTimerFunctions=Rr.transports=Rr.TransportError=Rr.Transport=Rr.protocol=Rr.SocketWithUpgrade=Rr.SocketWithoutUpgrade=Rr.Socket=void 0;var iG=cA();Object.defineProperty(Rr,"Socket",{enumerable:!0,get:function(){return iG.Socket}});var sG=cA();Object.defineProperty(Rr,"SocketWithoutUpgrade",{enumerable:!0,get:function(){return sG.SocketWithoutUpgrade}});Object.defineProperty(Rr,"SocketWithUpgrade",{enumerable:!0,get:function(){return sG.SocketWithUpgrade}});Rr.protocol=iG.Socket.protocol;var oG=C9();Object.defineProperty(Rr,"Transport",{enumerable:!0,get:function(){return oG.Transport}});Object.defineProperty(Rr,"TransportError",{enumerable:!0,get:function(){return oG.TransportError}});var Nbe=nA();Object.defineProperty(Rr,"transports",{enumerable:!0,get:function(){return Nbe.transports}});var Fbe=Qp();Object.defineProperty(Rr,"installTimerFunctions",{enumerable:!0,get:function(){return Fbe.installTimerFunctions}});var Hbe=sA();Object.defineProperty(Rr,"parse",{enumerable:!0,get:function(){return Hbe.parse}});var Dbe=Jp();Object.defineProperty(Rr,"nextTick",{enumerable:!0,get:function(){return Dbe.nextTick}});var Ube=nG();Object.defineProperty(Rr,"Fetch",{enumerable:!0,get:function(){return Ube.Fetch}});var Lbe=h4();Object.defineProperty(Rr,"NodeXHR",{enumerable:!0,get:function(){return Lbe.XHR}});var qbe=h4();Object.defineProperty(Rr,"XHR",{enumerable:!0,get:function(){return qbe.XHR}});var $be=d4();Object.defineProperty(Rr,"NodeWebSocket",{enumerable:!0,get:function(){return $be.WS}});var jbe=d4();Object.defineProperty(Rr,"WebSocket",{enumerable:!0,get:function(){return jbe.WS}});var Kbe=rA();Object.defineProperty(Rr,"WebTransport",{enumerable:!0,get:function(){return Kbe.WT}})});var uG=$(R9=>{k();M();var Vbe=R9&&R9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(R9,"__esModule",{value:!0});R9.url=Wbe;var Gbe=b4(),zbe=Vbe(nc()),aG=(0,zbe.default)("socket.io-client:url");function Wbe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(aG("protocol-less url %s",t),typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),aG("parse %s",t),n=(0,Gbe.parse)(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}});var hA=$(b5=>{k();M();Object.defineProperty(b5,"__esModule",{value:!0});b5.hasBinary=b5.isBinary=void 0;var Ybe=typeof ArrayBuffer=="function",Xbe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,cG=Object.prototype.toString,Zbe=typeof Blob=="function"||typeof Blob<"u"&&cG.call(Blob)==="[object BlobConstructor]",Jbe=typeof File=="function"||typeof File<"u"&&cG.call(File)==="[object FileConstructor]";function fG(t){return Ybe&&(t instanceof ArrayBuffer||Xbe(t))||Zbe&&t instanceof Blob||Jbe&&t instanceof File}b5.isBinary=fG;function y4(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(y4(t[r]))return!0;return!1}if(fG(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return y4(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&y4(t[r]))return!0;return!1}b5.hasBinary=y4});var hG=$(y5=>{k();M();Object.defineProperty(y5,"__esModule",{value:!0});y5.reconstructPacket=y5.deconstructPacket=void 0;var Qbe=hA();function eye(t){let e=[],r=t.data,n=t;return n.data=lA(r,e),n.attachments=e.length,{packet:n,buffers:e}}y5.deconstructPacket=eye;function lA(t,e){if(!t)return t;if((0,Qbe.isBinary)(t)){let r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=lA(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=lA(t[n],e));return r}return t}function tye(t,e){return t.data=dA(t.data,e),delete t.attachments,t}y5.reconstructPacket=tye;function dA(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=dA(t[r],e);else if(typeof t=="object")for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=dA(t[r],e));return t}});var v4=$(dc=>{k();M();Object.defineProperty(dc,"__esModule",{value:!0});dc.Decoder=dc.Encoder=dc.PacketType=dc.protocol=void 0;var rye=Zp(),dG=hG(),pG=hA(),nye=nc(),pA=(0,nye.default)("socket.io-parser"),iye=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];dc.protocol=5;var ni;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ni=dc.PacketType||(dc.PacketType={}));var mA=class{constructor(e){this.replacer=e}encode(e){return pA("encoding packet %j",e),(e.type===ni.EVENT||e.type===ni.ACK)&&(0,pG.hasBinary)(e)?this.encodeAsBinary({type:e.type===ni.EVENT?ni.BINARY_EVENT:ni.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===ni.BINARY_EVENT||e.type===ni.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),pA("encoded %j as %s",e,r),r}encodeAsBinary(e){let r=(0,dG.deconstructPacket)(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};dc.Encoder=mA;function lG(t){return Object.prototype.toString.call(t)==="[object Object]"}var N9=class extends rye.Emitter{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);let n=r.type===ni.BINARY_EVENT;n||r.type===ni.BINARY_ACK?(r.type=n?ni.EVENT:ni.ACK,this.reconstructor=new gA(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if((0,pG.isBinary)(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0,n={type:Number(e.charAt(0))};if(ni[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ni.BINARY_EVENT||n.type===ni.BINARY_ACK){let s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);let o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){let s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";let i=e.charAt(r+1);if(i!==""&&Number(i)==i){let s=r+1;for(;++r;){let o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){let s=this.tryParse(e.substr(r));if(N9.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return pA("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case ni.CONNECT:return lG(r);case ni.DISCONNECT:return r===void 0;case ni.CONNECT_ERROR:return typeof r=="string"||lG(r);case ni.EVENT:case ni.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&iye.indexOf(r[0])===-1);case ni.ACK:case ni.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};dc.Decoder=N9;var gA=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let r=(0,dG.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var yA=$(bA=>{k();M();Object.defineProperty(bA,"__esModule",{value:!0});bA.on=sye;function sye(t,e,r){return t.on(e,r),function(){t.off(e,r)}}});var _A=$(v5=>{k();M();var oye=v5&&v5.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(v5,"__esModule",{value:!0});v5.Socket=void 0;var pc=v4(),_4=yA(),aye=Zp(),uye=oye(nc()),zi=(0,uye.default)("socket.io-client:socket"),cye=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),vA=class extends aye.Emitter{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[(0,_4.on)(e,"open",this.onopen.bind(this)),(0,_4.on)(e,"packet",this.onpacket.bind(this)),(0,_4.on)(e,"error",this.onerror.bind(this)),(0,_4.on)(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,s;if(cye.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let o={type:pc.PacketType.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let h=this.ids++;zi("emitting packet with ack id %d",h);let f=r.pop();this._registerAckCallback(h,f),o.id=h}let a=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a?zi("discard packet as the transport is not currently writable"):u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o),this.flags={},this}_registerAckCallback(e,r){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&(zi("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(a,1));zi("event with ack id %d has timed out after %d ms",e,i),r.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{let s=(o,a)=>o?i(o):n(a);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(zi("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),r&&r(i)):(zi("packet [%d] was successfully sent",n.id),this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(zi("draining queue"),!this.connected||this._queue.length===0)return;let r=this._queue[0];if(r.pending&&!e){zi("packet [%d] has already been sent and is waiting for an ack",r.id);return}r.pending=!0,r.tryCount++,zi("sending packet [%d] (try n\xB0%d)",r.id,r.tryCount),this.flags=r.flags,this.emit.apply(this,r.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){zi("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:pc.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){zi("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case pc.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pc.PacketType.EVENT:case pc.PacketType.BINARY_EVENT:this.onevent(e);break;case pc.PacketType.ACK:case pc.PacketType.BINARY_ACK:this.onack(e);break;case pc.PacketType.DISCONNECT:this.ondisconnect();break;case pc.PacketType.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let r=e.data||[];zi("emitting event %j",r),e.id!=null&&(zi("attaching ack callback to event"),r.push(this.ack(e.id))),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let r=this,n=!1;return function(...i){n||(n=!0,zi("sending ack %j",i),r.packet({type:pc.PacketType.ACK,id:e,data:i}))}}onack(e){let r=this.acks[e.id];if(typeof r!="function"){zi("bad ack %s",e.id);return}delete this.acks[e.id],zi("calling ack %s with %j",e.id,e.data),r.withError&&e.data.unshift(null),r.apply(this,e.data)}onconnect(e,r){zi("socket connected with id %s",e),this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){zi("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(zi("performing disconnect (%s)",this.nsp),this.packet({type:pc.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let n of r)n.apply(this,e.data)}}};v5.Socket=vA});var mG=$(xA=>{k();M();Object.defineProperty(xA,"__esModule",{value:!0});xA.Backoff=_5;function _5(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}_5.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};_5.prototype.reset=function(){this.attempts=0};_5.prototype.setMin=function(t){this.ms=t};_5.prototype.setMax=function(t){this.max=t};_5.prototype.setJitter=function(t){this.jitter=t}});var gG=$(vu=>{k();M();var fye=vu&&vu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hye=vu&&vu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lye=vu&&vu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fye(e,t,r);return hye(e,t),e},dye=vu&&vu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vu,"__esModule",{value:!0});vu.Manager=void 0;var SA=b4(),pye=_A(),mye=lye(v4()),e1=yA(),gye=mG(),bye=Zp(),yye=dye(nc()),Ps=(0,yye.default)("socket.io-client:manager"),wA=class extends bye.Emitter{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,(0,SA.installTimerFunctions)(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new gye.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;let i=r.parser||mye;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(Ps("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Ps("opening %s",this.uri),this.engine=new SA.Socket(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=(0,e1.on)(r,"open",function(){n.onopen(),e&&e()}),s=a=>{Ps("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=(0,e1.on)(r,"error",s);if(this._timeout!==!1){let a=this._timeout;Ps("connect attempt will timeout after %d",a);let u=this.setTimeoutFn(()=>{Ps("connect attempt timed out after %d",a),i(),s(new Error("timeout")),r.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){Ps("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push((0,e1.on)(e,"ping",this.onping.bind(this)),(0,e1.on)(e,"data",this.ondata.bind(this)),(0,e1.on)(e,"error",this.onerror.bind(this)),(0,e1.on)(e,"close",this.onclose.bind(this)),(0,e1.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){(0,SA.nextTick)(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){Ps("error",e),this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new pye.Socket(this,e,r),this.nsps[e]=n),n}_destroy(e){let r=Object.keys(this.nsps);for(let n of r)if(this.nsps[n].active){Ps("socket %s is still active, skipping close",n);return}this._close()}_packet(e){Ps("writing packet %j",e);let r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){Ps("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){Ps("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;Ps("closed due to %s",e),this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Ps("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();Ps("will wait %dms before reconnect attempt",r),this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(Ps("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(Ps("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(Ps("reconnect success"),e.onreconnect())}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};vu.Manager=wA});var _G=$((In,vG)=>{k();M();var vye=In&&In.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.WebTransport=In.WebSocket=In.NodeWebSocket=In.XHR=In.NodeXHR=In.Fetch=In.Socket=In.Manager=In.protocol=void 0;In.io=t1;In.connect=t1;In.default=t1;var _ye=uG(),x4=gG();Object.defineProperty(In,"Manager",{enumerable:!0,get:function(){return x4.Manager}});var yG=_A();Object.defineProperty(In,"Socket",{enumerable:!0,get:function(){return yG.Socket}});var xye=vye(nc()),bG=(0,xye.default)("socket.io-client"),F9={};function t1(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let r=(0,_ye.url)(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=F9[i]&&s in F9[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,u;return a?(bG("ignoring socket cache for %s",n),u=new x4.Manager(n,e)):(F9[i]||(bG("new io instance for %s",n),F9[i]=new x4.Manager(n,e)),u=F9[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(t1,{Manager:x4.Manager,Socket:yG.Socket,io:t1,connect:t1});var Sye=v4();Object.defineProperty(In,"protocol",{enumerable:!0,get:function(){return Sye.protocol}});var x5=b4();Object.defineProperty(In,"Fetch",{enumerable:!0,get:function(){return x5.Fetch}});Object.defineProperty(In,"NodeXHR",{enumerable:!0,get:function(){return x5.NodeXHR}});Object.defineProperty(In,"XHR",{enumerable:!0,get:function(){return x5.XHR}});Object.defineProperty(In,"NodeWebSocket",{enumerable:!0,get:function(){return x5.NodeWebSocket}});Object.defineProperty(In,"WebSocket",{enumerable:!0,get:function(){return x5.WebSocket}});Object.defineProperty(In,"WebTransport",{enumerable:!0,get:function(){return x5.WebTransport}});vG.exports=t1});var AA=$(S5=>{k();M();var EA=S5&&S5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(S5,"__esModule",{value:!0});S5.ContractApi=void 0;var wye=TV(),Eye=IV(),Tye=OV(),Aye=_G(),Iye=t=>new Promise(e=>setTimeout(e,t)),xG=(t,e,r,n)=>new Promise((i,s)=>t().then(i).catch(o=>r>0&&(n&&n(o)||typeof n>"u")?Iye(e).then(xG.bind(null,t,e,r-1)).then(i).catch(s):s(o))),TA=class{constructor(e){this._core=e}syncHashedProps(e){return EA(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new Eye.SyncHashedPropsAction,{instance:e})})}getLatestInstance(e,r){return EA(this,void 0,void 0,function*(){return yield xG(()=>this._core.actionResolver.resolve(new wye.GetLatestInstanceAction,{clazz:e,contractId:r}),3e3,10,i=>i.message.includes("The utxo related to the contract was not found"))})}subscribe(e,r){let n=this,i=this._core.getBaseUrl(),s=this._core.getApiKey(),o=Aye(i,{path:"/streams/contract",query:e.id,auth:{token:s}}),a=()=>{o.close(),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`),n._core.logger.info("unsubscribe",`The connection to ${e.id.txId}:${e.id.outputIndex} has been unsubscribed.`)};return o.on("connect",function(){n._core.logger.info("Connected",`The connection to ${e.id.txId}:${e.id.outputIndex} has been established.`)}),o.on("connect_error",u=>{n._core.logger.error("connect_error","The connection")}),o.on("utxoSpent",function(u){return EA(this,void 0,void 0,function*(){n._core.logger.debug("utxoSpent",`Got message ${e.id.txId}:${e.id.outputIndex}: ${u}`);let c=e.clazz,h=yield(0,Tye.getTransaction)(n._core.getNetWork(),u.spentBy.txId),f=c.parseCallData(h,u.spentBy.inputIndex);if(Array.isArray(e.methodNames)&&!e.methodNames.includes(f.methodName))return;let p=Array.isArray(u.createdInSpentTxOutputs)?u.createdInSpentTxOutputs.map(l=>c.fromTx(h,l)):[];r({nexts:p,methodName:f.methodName,args:f.args.map(l=>l.value),tx:h})})}),o.on("subscribeFailed",function(u){n._core.logger.error("subscribeFailed",`Subscribe contract ${e.id.txId}:${e.id.outputIndex} failed: ${u}.`),a()}),o.on("error",function({statusCode:u,errorMsg:c}){n._core.logger.error("websocket error",`statusCode=${u}, errorMsg=${c}`),a()}),o.on("disconnect",function(){n._core.logger.info("Disconnected",`The connection to ${e.id.txId}:${e.id.outputIndex} disconnected.`),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`)}),this._core.events.set(`${e.id.txId}:${e.id.outputIndex}`,o),{unsubscribe:a}}};S5.ContractApi=TA});var IA=$(Cl=>{k();M();var Pye=Cl&&Cl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Oye=Cl&&Cl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.RequestController=void 0;var Bye=Oye(Rf()),SG=nr(),r1;(function(t){t.apiKey="apiKey",t.network="network",t.timeout="timeout",t.maxRetries="maxRetries"})(r1||(r1={}));var H9=class{constructor(e,r){this._config=e,this._logger=r}request(e){return Pye(this,void 0,void 0,function*(){this._logger.debug(this.constructor.name,`[${e.method}]request ${e.pathPattern}`,e.data);let r=(0,Bye.default)(e.method,H9.getUrl(this.baseUrl,e.pathPattern,e.data)).auth(this._config.get(r1.apiKey),{type:"bearer"}).set("Content-Type","application/json").timeout(this._config.get(r1.timeout,2e4)).retry(this._config.get(r1.maxRetries,3));for(let n in e.headers||{})r=r.set(n,e.headers[n]);e.data&&(e.method==="GET"?r=r.query(e.data):r=r.send(e.data));try{let n=yield r;if(n.ok)return n.body;throw new Error(n.text)}catch(n){throw this._logger.error(this.constructor.name,n.message),n}})}get network(){return this._config.get(r1.network,SG.bsv.Networks.mainnet)}get apiKey(){return this._config.get(r1.apiKey,"")}get baseUrl(){let e=this.network===SG.bsv.Networks.mainnet?"https://api.scrypt.io":"https://testnet-api.scrypt.io";return q.env.BASEURL||e}static getUrl(e,r,n){let i=r.match(/:\w+/g)||[],s=r;for(let o of i){let a=o.replace(":",""),u=n[a];if(u===void 0)throw new Error(`Missing path argument ${a}`);if(typeof u!="string"&&typeof u!="number")throw new Error(`Path argument ${a} must be a string or number`);s=s.replace(o,u.toString())}return`${e.replace(/\/+$/,"")}/${s.replace(/^\/+/,"")}`}};Cl.RequestController=H9});var OA=$(kl=>{k();M();var Cye=kl&&kl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(kl,"__esModule",{value:!0});kl.ActionResolver=kl.ActionError=void 0;var kye=IA(),S4=class extends Error{constructor(e,r){super(r),this.statusCode=e,this.message=r}};kl.ActionError=S4;var PA=class{constructor(e,r){this._requestController=e,this._loggerController=r}resolve(e,r){return Cye(this,void 0,void 0,function*(){let n=e.serilizeRequest(r),i=yield this._requestController.request({pathPattern:e.pathPattern,method:e.method,data:n});if(i.statusCode!==0){let s=kye.RequestController.getUrl("/",e.pathPattern,n),o=`Action [${e.method} ${s}] failed with error code ${i.statusCode}, ${i.errorMsg}`;throw this._loggerController.error(this.constructor.name,o,i.data||""),new S4(i.statusCode,i.errorMsg)}return e.deserilizeResponse(i.data,r)})}};kl.ActionResolver=PA});var wG=$(w4=>{k();M();Object.defineProperty(w4,"__esModule",{value:!0});w4.Config=void 0;var BA=class{constructor(){this.options=new Map,this.isInitialized=!1}get(e,r){if(!this.isInitialized)throw new Error("Config is not initialized");let n=this.options.get(e);if(!n&&r===void 0)throw new Error(`Config option ${e} not found`);return n||r}set(e,r){this.options.set(e,r)}finishInit(){this.isInitialized=!0}};w4.Config=BA});var TG=$(E4=>{k();M();Object.defineProperty(E4,"__esModule",{value:!0});E4.LoggerController=void 0;var EG={verbose:0,debug:1,info:2,warning:3,error:4,off:5},CA;(function(t){t.logLevel="logLevel"})(CA||(CA={}));var kA=class{constructor(e){this.config=e}logLevel(){return this.config.get(CA.logLevel,"info")}verbose(e,r,...n){this._log("verbose",e,r,...n)}debug(e,r,...n){this._log("debug",e,r,...n)}info(e,r,...n){this._log("info",e,r,...n)}warning(e,r,...n){this._log("warning",e,r,...n)}error(e,r,...n){this._log("error",e,r,...n)}_log(e,r,n,...i){let s=EG[this.logLevel()];if(EG[e]<s)return;let a=`[${e.toUpperCase()}][#${r}]: `;switch(e){case"verbose":case"debug":console.debug(a,n,...i);break;case"info":console.log(a,n,...i);break;case"warning":console.warn(a,n,...i);break;case"error":console.error(a,n,...i)}}};E4.LoggerController=kA});var AG=$(T4=>{k();M();Object.defineProperty(T4,"__esModule",{value:!0});T4.Core=void 0;var Mye=OA(),Rye=wG(),Nye=TG(),Fye=IA(),MA=class{constructor(){this.config=new Rye.Config,this.logger=new Nye.LoggerController(this.config),this.requestController=new Fye.RequestController(this.config,this.logger),this.actionResolver=new Mye.ActionResolver(this.requestController,this.logger),this.events=new Map}init(e){Object.keys(e).forEach(r=>{this.config.set(r,e[r])}),this.config.finishInit()}getNetWork(){return this.requestController.network}getApiKey(){return this.requestController.apiKey}getBaseUrl(){return this.requestController.baseUrl}};T4.Core=MA});var RA=$(T0=>{k();M();Object.defineProperty(T0,"__esModule",{value:!0});T0.BsvApi=T0.ContractApi=T0.ActionError=T0.Scrypt=void 0;var Hye=DT(),Dye=AA(),Uye=AG(),A4=new Uye.Core,Lye=new Hye.BsvApi(A4),qye=new Dye.ContractApi(A4);T0.Scrypt={bsvApi:Lye,contractApi:qye,init(t){A4.init(t)},getConfig(t,e){return A4.config.get(t,e)}};var $ye=OA();Object.defineProperty(T0,"ActionError",{enumerable:!0,get:function(){return $ye.ActionError}});var jye=AA();Object.defineProperty(T0,"ContractApi",{enumerable:!0,get:function(){return jye.ContractApi}});var Kye=DT();Object.defineProperty(T0,"BsvApi",{enumerable:!0,get:function(){return Kye.BsvApi}})});var PG=$(E5=>{k();M();var w5=E5&&E5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(E5,"__esModule",{value:!0});E5.ScryptProvider=void 0;var IG=nr(),Vye=x0(),n1=RA(),NA=class extends Vye.Provider{constructor(){super(),this._isConnected=!1;let e=n1.Scrypt.getConfig("network","mainnet");this.network=e==="mainnet"?IG.bsv.Networks.livenet:IG.bsv.Networks.testnet,this._initializeConnection()}isConnected(){return this._isConnected}connect(){var e;return w5(this,void 0,void 0,function*(){try{let{success:r,error:n}=yield n1.Scrypt.bsvApi.connect();if(this._isConnected=r,!r)throw new Error(n);this.emit("connected",!0)}catch(r){throw this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return this})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}getFeePerKb(){return w5(this,void 0,void 0,function*(){return yield this._ready(),n1.Scrypt.bsvApi.getFeePerKB()})}sendRawTransaction(e){return w5(this,void 0,void 0,function*(){return yield this._ready(),n1.Scrypt.bsvApi.sendRawTransaction(e)})}getTransaction(e){return w5(this,void 0,void 0,function*(){return yield this._ready(),n1.Scrypt.bsvApi.getTransaction(e)})}listUnspent(e,r){return w5(this,void 0,void 0,function*(){return yield this._ready(),n1.Scrypt.bsvApi.listUnspent(e,r)})}getBalance(e){return w5(this,void 0,void 0,function*(){return yield this._ready(),n1.Scrypt.bsvApi.getBalance(e)})}};E5.ScryptProvider=NA});var OG=$(Zs=>{k();M();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ScryptProvider=Zs.DummyProvider=Zs.DefaultProvider=Zs.TaalProvider=Zs.GorillapoolProvider=Zs.SensibleProvider=Zs.WhatsonchainProvider=void 0;var Gye=w9();Object.defineProperty(Zs,"WhatsonchainProvider",{enumerable:!0,get:function(){return Gye.WhatsonchainProvider}});var zye=vT();Object.defineProperty(Zs,"SensibleProvider",{enumerable:!0,get:function(){return zye.SensibleProvider}});var Wye=xT();Object.defineProperty(Zs,"GorillapoolProvider",{enumerable:!0,get:function(){return Wye.GorillapoolProvider}});var Yye=ET();Object.defineProperty(Zs,"TaalProvider",{enumerable:!0,get:function(){return Yye.TaalProvider}});var Xye=gV();Object.defineProperty(Zs,"DefaultProvider",{enumerable:!0,get:function(){return Xye.DefaultProvider}});var Zye=yV();Object.defineProperty(Zs,"DummyProvider",{enumerable:!0,get:function(){return Zye.DummyProvider}});var Jye=PG();Object.defineProperty(Zs,"ScryptProvider",{enumerable:!0,get:function(){return Jye.ScryptProvider}})});var i1=$(Ff=>{k();M();var D9=Ff&&Ff.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.Signer=Ff.DEFAULT_SIGHASH_TYPE=void 0;var Ml=nr();Ff.DEFAULT_SIGHASH_TYPE=Ml.bsv.crypto.Signature.ALL;var FA=class{constructor(e){this._isSigner=!0,this.provider=e}signRawTransaction(e,r){return D9(this,void 0,void 0,function*(){return(yield this.signTransaction(new Ml.bsv.Transaction(e),r)).toString()})}signTransaction(e,r){return D9(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=(r?.sigRequests||[]).reduce((a,u)=>(a.set(u.inputIndex,u),a),new Map);e.inputs.forEach((a,u)=>{if(a.output){let c=i.get(u);if(!c)return;if((c.scriptHex?c.scriptHex:Ml.bsv.Script.buildPublicKeyHashOut(c.address.toString()).toHex())!==a.output.script.toHex())throw new Error(`\`SignatureRequest\` script is not match the script of input: ${u}`);if(c.satoshis!==a.output.satoshis)throw new Error(`\`SignatureRequest\` satoshis is not match the satoshis of input: ${u}`)}else{let c=i.get(u);if(!c)throw new Error(`\`SignatureRequest\` info should be provided for the input ${u} to call #signTransaction`);let h=c.scriptHex?new Ml.bsv.Script(c.scriptHex):Ml.bsv.Script.buildPublicKeyHashOut(c.address.toString());a.output=new Ml.bsv.Transaction.Output({script:h,satoshis:c.satoshis})}});let s=e.inputs.map((a,u)=>{var c,h,f,p,l;if(!((h=(c=a.output)===null||c===void 0?void 0:c.script)===null||h===void 0)&&h.isPublicKeyHashOut()){let y=a.output.script.toAddress(n);return{prevTxId:(0,Ml.toHex)(a.prevTxId),outputIndex:a.outputIndex,inputIndex:u,satoshis:(f=a.output)===null||f===void 0?void 0:f.satoshis,address:y,scriptHex:(l=(p=a.output)===null||p===void 0?void 0:p.script)===null||l===void 0?void 0:l.toHex(),sigHashType:Ff.DEFAULT_SIGHASH_TYPE}}else return}).filter(a=>typeof a=="object"),o=yield this.getSignatures(e.toString(),s);return e.inputs.forEach((a,u)=>{var c;let h=o.find(f=>f.inputIndex===u);if(h&&((c=a.output)===null||c===void 0?void 0:c.script.isPublicKeyHashOut())){let f=new Ml.bsv.Script("").add(A.Buffer.from(h.sig,"hex")).add(A.Buffer.from(h.publicKey,"hex"));a.setScript(f)}}),e})}get connectedProvider(){if(!this.provider)throw new Error(`the provider of signer ${this.constructor.name} is not set yet!`);return this.provider}signAndsendTransaction(e,r){return D9(this,void 0,void 0,function*(){yield e.sealAsync();let n=yield this.signTransaction(e,r);return yield this.connectedProvider.sendTransaction(n),n})}listUnspent(e,r){return this.connectedProvider.listUnspent(e,r)}getBalance(e){return D9(this,void 0,void 0,function*(){return e=e||(yield this.getDefaultAddress()),this.connectedProvider.getBalance(e)})}static isSigner(e){return!!(e&&e._isSigner)}alignProviderNetwork(){var e;return D9(this,void 0,void 0,function*(){if(yield this.isAuthenticated()){yield(e=this.provider)===null||e===void 0?void 0:e.connect();let n=yield this.getNetwork();this.connectedProvider.updateNetwork(n)}})}};Ff.Signer=FA});var CG=$(T5=>{k();M();var Df=T5&&T5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(T5,"__esModule",{value:!0});T5.TestWallet=void 0;var Qye=i1(),_u=nr(),e4e=pu(),t4e=_u.bsv.crypto.Signature.ALL,U9=class extends Qye.Signer{constructor(e,r){super(r),this.splitFeeTx=!0,e instanceof Array?this._privateKeys=e:this._privateKeys=[e],this.checkPrivateKeys(),this._utxoManagers=new Map}static random(e,r=_u.bsv.Networks.testnet){return new U9(_u.bsv.PrivateKey.fromRandom(r),e)}enableSplitFeeTx(e){this.splitFeeTx=e}isAuthenticated(){return Df(this,void 0,void 0,function*(){return Promise.resolve(!0)})}requestAuth(){return Df(this,void 0,void 0,function*(){return Promise.resolve({isAuthenticated:!0,error:""})})}get network(){return this.provider.getNetwork()}get addresses(){return this._privateKeys.map(e=>e.toAddress(this.network).toString())}addPrivateKey(e){let r=e instanceof Array?e:[e];return this._privateKeys.push(...r),this.checkPrivateKeys(),this}checkPrivateKeys(){let e=this._privateKeys.map(r=>r.toAddress().network);if(!e.every(r=>r.name===e[0].name))throw new Error(`All private keys should be ${e[0].name} private key`);return e[0]}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Promise.resolve(this._defaultPrivateKey.toAddress())}getDefaultPubKey(){return Promise.resolve(this._defaultPrivateKey.toPublicKey())}getPubKey(e){return Promise.resolve(this._getPrivateKeys(e)[0].toPublicKey())}getNetwork(){return Promise.resolve(this._defaultPrivateKey.toAddress().network)}getBalance(e){let r=Object.create(null,{getBalance:{get:()=>super.getBalance}});return Df(this,void 0,void 0,function*(){e=e||(yield this.getDefaultAddress());let n=this._utxoManagers.get(e.toString());return n?{confirmed:n.balance(),unconfirmed:0}:r.getBalance.call(this,e)})}signTransaction(e,r){return Df(this,void 0,void 0,function*(){let n=r?.address;return this._checkAddressOption(n),Promise.resolve(e.sign(this._getPrivateKeys(n)))})}signMessage(e,r){throw new Error("Method #signMessage not implemented.")}getSignatures(e,r){this._checkAddressOption(this._getAddressesIn(r));let n=new _u.bsv.Transaction(e),i=r.flatMap(s=>{let o=s.scriptHex?new _u.bsv.Script(s.scriptHex):_u.bsv.Script.buildPublicKeyHashOut((0,e4e.parseAddresses)(s.address,this.network)[0]);return n.inputs[s.inputIndex].output=new _u.bsv.Transaction.Output({script:o,satoshis:s.satoshis}),this._getPrivateKeys(s.address).map(u=>{let c=s.csIdx!==void 0?o.subScript(s.csIdx):o;return{sig:(0,_u.signTx)(n,u,c,s.satoshis,s.inputIndex,s.sigHashType),publicKey:u.publicKey.toString(),inputIndex:s.inputIndex,sigHashType:s.sigHashType||t4e,csIdx:s.csIdx}})});return Promise.resolve(i)}listUnspent(e,r){return Df(this,void 0,void 0,function*(){if(this.splitFeeTx){let n=this._utxoManagers.get(e.toString());if(n||(n=new HA(e,this),this._utxoManagers.set(e.toString(),n),yield n.init()),r){let i=r.unspentValue,s=r.estimateSize,o=r.feePerKb,a=Math.ceil(s/1e3*o-i);return a+=Math.ceil(((r.additional||0)+180)/1e3*o),n.fetchUtxos(a)}else return n.fetchUtxos(0)}else return this.provider.listUnspent(e,r)})}_getAddressesIn(e){return(e||[]).flatMap(r=>r.address instanceof Array?r.address:[r.address])}_checkAddressOption(e){if(!!e){if(e instanceof Array)e.forEach(r=>this._checkAddressOption(r));else if(!this.addresses.includes(e.toString()))throw new Error(`the address ${e.toString()} does not belong to this TestWallet`)}}get _defaultPrivateKey(){return this._privateKeys[0]}_getPrivateKeys(e){if(!e)return[this._defaultPrivateKey];this._checkAddressOption(e);let r=[];return e instanceof Array?e.forEach(n=>r.push(n.toString())):r.push(e.toString()),this._privateKeys.filter(n=>r.includes(n.toAddress(this.network).toString()))}signAndsendTransaction(e,r){let n=Object.create(null,{signAndsendTransaction:{get:()=>super.signAndsendTransaction}});return Df(this,void 0,void 0,function*(){let i=yield n.signAndsendTransaction.call(this,e,r),s=yield this.getDefaultAddress(),o=this._utxoManagers.get(s.toString());return o&&o.collectUtxoFromTx(e),i})}};T5.TestWallet=U9;var Hf;(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.INITIALIZING=1]="INITIALIZING",t[t.INITIALIZED=2]="INITIALIZED"})(Hf||(Hf={}));var HA=class{constructor(e,r){this.availableUtxos=[],this.initStates=Hf.UNINITIALIZED,this.initUtxoCnt=0,this.feePerkb=50,this.address=e,this.signer=r}init(){return Df(this,void 0,void 0,function*(){if(this.initStates===Hf.INITIALIZED)return this;for(this.initStates===Hf.UNINITIALIZED&&(this.initStates=Hf.INITIALIZING,this.availableUtxos=yield this.signer.connectedProvider.listUnspent(this.address),this.feePerkb=yield this.signer.connectedProvider.getFeePerKb(),this.initStates=Hf.INITIALIZED,this.initUtxoCnt=this.availableUtxos.length);this.initStates===Hf.INITIALIZING;)yield BG(1);return this})}balance(){return this.availableUtxos.reduce((e,r)=>e+r.satoshis,0)}fetchUtxos(e){return Df(this,void 0,void 0,function*(){if(this.initStates===Hf.INITIALIZED&&this.initUtxoCnt>0&&this.availableUtxos.length===0)for(let c=0;c<30&&(console.log("waiting for available utxos"),yield BG(1),!(this.availableUtxos.length>0));c++);if(e<=0)return this.availableUtxos.splice(0);let r=this.availableUtxos.sort((u,c)=>u.satoshis-c.satoshis);if(e>r.reduce((u,c)=>u+c.satoshis,0))throw new Error("no sufficient utxos to pay the fee of "+e);let n=0,i=0,s=1,o=0;for(let u=0;u<r.length;u++){i+=r[u].satoshis;let c=Math.ceil((180*(u+1)+(10+34)*2)*this.feePerkb/1e3);if(o=e+c+s,i>=o){n=u;break}}let a=r.slice(0,n+1);if(this.availableUtxos=r.slice(n+1),i>=o){let u=new _u.bsv.Transaction().from(a).addOutput(new _u.bsv.Transaction.Output({script:_u.bsv.Script.buildPublicKeyHashOut(this.address),satoshis:e})).feePerKb(this.feePerkb).change(this.address);yield this.signer.signAndsendTransaction(u);let c=this.availableUtxos.findIndex(h=>h.satoshis===e);return this.availableUtxos.splice(c,1)}else return a})}collectUtxoFromTx(e){let r=e.id;e.outputs.forEach((n,i)=>{this.collectUtxoFrom(n,r,i)})}collectUtxoFrom(e,r,n){e.script.toHex()===this.utxoScriptHex&&this.availableUtxos.push({txId:r,outputIndex:n,satoshis:e.satoshis,script:e.script.toHex()})}get utxoScriptHex(){return _u.bsv.Script.buildPublicKeyHashOut(this.address).toHex()}},BG=t=>Df(void 0,void 0,void 0,function*(){return new Promise(e=>{setTimeout(()=>{e({})},t*1e3)})})});var kG=$(A5=>{k();M();var Rl=A5&&A5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(A5,"__esModule",{value:!0});A5.SensiletSigner=void 0;var s1=nr(),r4e=i1(),n4e=pu(),I4=class extends r4e.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnect()}requestAuth(){return Rl(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.sensilet<"u")this._target=window.sensilet;else throw new Error("sensilet is not installed")}getConnectedTarget(){return Rl(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.requestAccount();this._address=s1.bsv.Address.fromString(r)}catch(r){throw new Error(`Sensilet requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Rl(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddress();return s1.bsv.Address.fromString(r)})}getNetwork(){return Rl(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return e?this.connectedProvider.getBalance(e):this.getConnectedTarget().then(r=>r.getBsvBalance()).then(r=>r.balance)}getDefaultPubKey(){return Rl(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPublicKey();return Promise.resolve(new s1.bsv.PublicKey(r))})}getPubKey(e){return Rl(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return Rl(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield this.getConnectedTarget()).signMessage(e)})}getSignatures(e,r){return Rl(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(a=>(0,n4e.parseAddresses)(a.address,n).map(c=>{let h=a.scriptHex;return h?a.csIdx!==void 0&&(h=s1.bsv.Script.fromHex(h).subScript(a.csIdx).toHex()):h=s1.bsv.Script.buildPublicKeyHashOut(c).toHex(),{txHex:e,inputIndex:a.inputIndex,scriptHex:h,satoshis:a.satoshis,sigtype:a.sigHashType||s1.DEFAULT_SIGHASH_TYPE,address:c.toString()}})),o=yield(yield this.getConnectedTarget()).signTx({list:i});return i.map((a,u)=>({inputIndex:a.inputIndex,sig:o.sigList[u].sig,publicKey:o.sigList[u].publicKey,sigHashType:r[u].sigHashType||s1.DEFAULT_SIGHASH_TYPE}))})}};A5.SensiletSigner=I4;I4.DEBUG_TAG="SensiletSigner"});var RG=$(Nl=>{k();M();var A0=Nl&&Nl.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},i4e=Nl&&Nl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.DotwalletSigner=void 0;var I5=nr(),s4e=i1(),MG=pu(),P4=i4e(Rf()),O4={dapp_list_unspent:"/v1/grandet_dapp/dapp_list_unspent",dapp_list_unspent_by_address:"/v1/grandet_dapp/dapp_list_unspent_by_address",dapp_sign_raw_transaction:"/v1/grandet_dapp/dapp_sign_raw_transaction",dapp_get_signature:"/v1/grandet_dapp/dapp_get_signature",dapp_get_balance:"/v1/grandet_dapp/dapp_get_balance",dapp_send_raw_transaction:"/v1/grandet_dapp/dapp_send_raw_transaction",dapp_get_raw_change_address:"/v1/grandet_dapp/dapp_get_raw_change_address",dapp_get_public_key:"/v1/grandet_dapp/dapp_get_public_key",get_access_token:"/v1/oauth2/get_access_token"};function B4(t){if(t.ok){let e=t.body?t.body:JSON.parse(t.text),{code:r,data:n,msg:i}=e;if(r===0)return n;throw r===75e3&&window.localStorage.removeItem("access_token"),new Error(`error response, code = ${r}, msg: ${i}`)}else throw new Error("error response")}var C4="https://api.ddpurse.com",k4=class extends s4e.Signer{constructor(e,r){super(r),this.sender={appid:"bsv_coin_regular",user_index:0},this.utxos_public_key=new Map,this.accessToken=e}isAuthenticated(){return this.accessToken?Promise.resolve(!0):Promise.resolve(!1)}requestAuth(){return A0(this,void 0,void 0,function*(){return this.accessToken?(yield this.alignProviderNetwork(),Promise.resolve({isAuthenticated:!0,error:""})):Promise.resolve({isAuthenticated:!1,error:""})})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return A0(this,void 0,void 0,function*(){return(yield this.getDefaultPubKey()).toAddress(I5.bsv.Networks.mainnet)})}getNetwork(){return A0(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return A0(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let r=yield P4.default.post(`${C4}${O4.dapp_get_balance}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),n=B4(r),{confirm:i,unconfirm:s}=n;return{confirmed:i,unconfirmed:s}})}getDefaultPubKey(){return A0(this,void 0,void 0,function*(){if(this.default_public_key)return this.default_public_key;let e=yield P4.default.post(`${C4}${O4.dapp_get_public_key}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),r=B4(e),{public_key:n}=r;return this.default_public_key=I5.bsv.PublicKey.fromString(n),this.default_public_key})}getPubKey(e){return A0(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return A0(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#signMessage not implemented.`)})}getSignatures(e,r){return A0(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(s=>(0,MG.parseAddresses)(s.address,n).map(a=>{let u=s.scriptHex;return u?s.csIdx!==void 0&&(u=I5.bsv.Script.fromHex(u).subScript(s.csIdx).toHex()):u=I5.bsv.Script.buildPublicKeyHashOut(a).toHex(),{txHex:e,inputIndex:s.inputIndex,scriptHex:u,satoshis:s.satoshis,sigtype:s.sigHashType||I5.DEFAULT_SIGHASH_TYPE,prevTxId:s.prevTxId,outputIndex:s.outputIndex,address:a.toString()}}));return Promise.all(i.map(s=>A0(this,void 0,void 0,function*(){let o=yield P4.default.post(`${C4}${O4.dapp_get_signature}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,input_index:s.inputIndex,sig_type:s.sigtype,rawtx:e,addr:s.address}),a=B4(o),{hex_signature:u}=a,c=this.utxos_public_key.get(`${s.prevTxId}:${s.outputIndex}`);return c||(c=(0,I5.toHex)(this.default_public_key)),{inputIndex:s.inputIndex,sig:u,publicKey:c,sigHashType:s.sigtype}})))})}listUnspent(e,r){return A0(this,void 0,void 0,function*(){let n=yield P4.default.post(`${C4}${O4.dapp_list_unspent}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,min_amount:0}),s=B4(n).utxos.map(o=>({txId:o.tx_hash,outputIndex:o.output_index,satoshis:o.satoshis,script:o.script,address:o.addr,pubkey:o.pubkey}));return s.forEach(o=>{this.utxos_public_key.set(`${o.txId}:${o.outputIndex}`,o.pubkey)}),r?(0,MG.filterUTXO)(s,r):s})}};Nl.DotwalletSigner=k4;k4.DEBUG_TAG="DotwalletSigner"});var DG=$(I0=>{k();M();var DA=I0&&I0.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(I0,"__esModule",{value:!0});I0.sendAction=I0.TAALWalletAction=I0.sendMessageAndWaitForResponse=void 0;var L9=[],FG=()=>DA(void 0,void 0,void 0,function*(){if(L9.length===0)return;let t=L9[0];try{let e=yield t.request();t.resolve(e)}catch(e){t.reject(e)}finally{L9.shift(),FG()}}),o4e=0;function HG(t,e){return new Promise((r,n)=>{let i=o4e++;e.requestId=i;let s=()=>DA(this,void 0,void 0,function*(){return new Promise((o,a)=>{t.postMessage(e);function u(c){c.requestId===i&&(t.onMessage.removeListener(u),o(c))}t.onMessage.addListener(u),setTimeout(()=>{t.onMessage.removeListener(u),a(new Error("Timeout waiting for response"))},1e4)})});L9.push({request:s,resolve:r,reject:n}),L9.length===1&&FG()})}I0.sendMessageAndWaitForResponse=HG;var NG;(function(t){t.GetAddress="getAddress",t.GetBalance="getBalance",t.GetRootPublicKey="getRootPublicKey",t.GetPublicKey="getPublicKey",t.GetNetwork="getNetwork",t.SignTx="signTx",t.SignPreimage="signPreimage",t.SignMessage="signMessage"})(NG||(I0.TAALWalletAction=NG={}));function a4e(t,e,r){return DA(this,void 0,void 0,function*(){let i=yield HG(t,r?{action:e,payload:r}:{action:e});if(i.action==="error")throw new Error(i.payload.reason);return i})}I0.sendAction=a4e});var LG=$(P5=>{k();M();var mc=P5&&P5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(P5,"__esModule",{value:!0});P5.TAALSigner=void 0;var u4e=i1(),xu=nr(),UG=pu(),ra=DG(),UA=xu.bsv.crypto.Signature.ALL,c4e="engokokaoeppkmchbkjeoeimiffobcke",LA=class extends u4e.Signer{constructor(e,r="APP_NAME"){super(e),this._app_name=r}isAuthenticated(){return mc(this,void 0,void 0,function*(){return!!this._port})}requestAuth(){return mc(this,void 0,void 0,function*(){let e=!1,r="";try{this._port=chrome.runtime.connect(c4e,{name:this._app_name}),yield this.getDefaultAddress(),yield this.alignProviderNetwork(),e=!!this._port}catch(n){r=n.toString()}return{isAuthenticated:e,error:r}})}assertIsAuthenticated(){if(!this._port)throw new Error("TAAL chrome wallet is not connected!")}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return mc(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.GetAddress);return xu.bsv.Address.fromString(e.payload)})}getDefaultPubKey(){return mc(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield this.getNetwork(),r=yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.GetPublicKey),n=new xu.bsv.PublicKey(r.payload,{network:e});return Promise.resolve(n)})}getPubKey(e){return mc(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}getNetwork(){return mc(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.GetNetwork),r=xu.bsv.Networks.get(e.payload);return Promise.resolve(r)})}updateInputsWithInfo(e,r){return e.inputs.forEach((n,i)=>{let s=r.find(o=>o.inputIndex===i);s&&(n.output=new xu.bsv.Transaction.Output({satoshis:s.satoshis,script:xu.bsv.Script.fromHex(s.scriptHex)}))}),e}signTransaction(e,r){var n;return mc(this,void 0,void 0,function*(){let i=yield this.getNetwork(),s=yield this.getDefaultAddress(),o=!((n=r?.sigRequests)===null||n===void 0)&&n.length?r.sigRequests:e.inputs.map((l,y)=>{var _,O,F,B,E,I;let U=r&&r.address?r.address:!((_=l.output)===null||_===void 0)&&_.script.isPublicKeyHashOut()?l.output.script.toAddress(i):s;return{prevTxId:(0,xu.toHex)(l.prevTxId),outputIndex:l.outputIndex,inputIndex:y,satoshis:(F=(O=l.output)===null||O===void 0?void 0:O.satoshis)!==null&&F!==void 0?F:0,address:U,scriptHex:(I=(E=(B=l.output)===null||B===void 0?void 0:B.script)===null||E===void 0?void 0:E.toHex())!==null&&I!==void 0?I:"",sigHashType:UA}}),a=e.toString(),u=o.flatMap(l=>(0,UG.parseAddresses)(l.address,i).map(_=>({txHex:a,inputIndex:l.inputIndex,scriptHex:l.scriptHex||xu.bsv.Script.buildPublicKeyHashOut(_).toHex(),satoshis:l.satoshis,sigtype:l.sigHashType||UA,address:_.toString()}))),c=this.updateInputsWithInfo(e,u);this.assertIsAuthenticated();let f=(yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.SignTx,c)).payload,p=new xu.bsv.Transaction(f);return this.updateInputsWithInfo(p,u)})}getSignatures(e,r){return mc(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(o=>(0,UG.parseAddresses)(o.address,n).map(u=>{let c=o.scriptHex;return o?o.csIdx!==void 0&&(c=xu.bsv.Script.fromHex(c).subScript(o.csIdx).toHex()):c=xu.bsv.Script.buildPublicKeyHashOut(u).toHex(),{tx:e,i:o.inputIndex,script:c,satoshis:o.satoshis,sighash:o.sigHashType||UA,address:u.toString()}}));return(yield Promise.all(i.map(o=>this.signCustomInput(o)))).map(o=>({inputIndex:o.inputIndex,sig:(0,xu.toHex)(o.signature),publicKey:o.publicKey.toString(),sigHashType:o.sigtype}))})}signMessage(e,r){return mc(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return this.assertIsAuthenticated(),(yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.SignMessage,e)).payload})}getBalance(e){return mc(this,void 0,void 0,function*(){return e?this.connectedProvider.getBalance(e):{confirmed:(yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.GetBalance)).payload,unconfirmed:0}})}signCustomInput(e){return mc(this,void 0,void 0,function*(){let r=yield this.getDefaultPubKey(),n=yield(0,ra.sendAction)(this._port,ra.TAALWalletAction.SignPreimage,e);return{inputIndex:e.i,sigtype:e.sighash,publicKey:r,signature:n.payload}})}};P5.TAALSigner=LA});var qG=$(O5=>{k();M();var wa=O5&&O5.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{c(n.next(h))}catch(f){o(f)}}function u(h){try{c(n.throw(h))}catch(f){o(f)}}function c(h){h.done?s(h.value):i(h.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(O5,"__esModule",{value:!0});O5.PandaSigner=void 0;var f4e=i1(),M4=nr(),h4e=pu(),R4=class extends f4e.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnected()}requestAuth(){return wa(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.panda<"u")this._target=window.panda;else throw new Error("panda is not installed")}getConnectedTarget(){return wa(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.connect();if(r&&r.includes("canceled"))throw new Error(r)}catch(r){throw new Error(`panda requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return wa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return M4.bsv.Address.fromString(r.bsvAddress)})}getOrdAddress(){return wa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return M4.bsv.Address.fromString(r.ordAddress)})}getNetwork(){return wa(this,void 0,void 0,function*(){let e=yield this.getDefaultAddress();return Promise.resolve(e.network)})}getBalance(e){return wa(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let n=yield(yield this.getConnectedTarget()).getBalance();return Promise.resolve({confirmed:n.satoshis,unconfirmed:0})})}getDefaultPubKey(){return wa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new M4.bsv.PublicKey(r.bsvPubKey))})}getOrdPubKey(){return wa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new M4.bsv.PublicKey(r.ordPubKey))})}getOrdinals(){return wa(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getOrdinals();return Promise.resolve(r)})}transferOrdinal(e){return wa(this,void 0,void 0,function*(){let n=yield(yield this.getConnectedTarget()).transferOrdinal(e);return Promise.resolve(n)})}getPubKey(e){return wa(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return wa(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield(yield this.getConnectedTarget()).signMessage({message:e})).sig})}getSignatures(e,r){return wa(this,void 0,void 0,function*(){let n=yield this.getConnectedTarget(),i=yield this.getNetwork(),s=r.map(a=>({prevTxid:a.prevTxId,outputIndex:a.outputIndex,inputIndex:a.inputIndex,satoshis:a.satoshis,address:(0,h4e.parseAddresses)(a.address,i).map(u=>u.toString()),script:a.scriptHex,sigHashType:a.sigHashType,csIdx:a.csIdx,data:a.data}));return(yield n.getSignatures({rawtx:e,sigRequests:s})).map(a=>Object.assign(Object.assign({},a),{publicKey:a.pubKey}))})}};O5.PandaSigner=R4;R4.DEBUG_TAG="PandaSigner"});var $G=$(P0=>{k();M();Object.defineProperty(P0,"__esModule",{value:!0});P0.PandaSigner=P0.TAALSigner=P0.DotwalletSigner=P0.SensiletSigner=void 0;var l4e=kG();Object.defineProperty(P0,"SensiletSigner",{enumerable:!0,get:function(){return l4e.SensiletSigner}});var d4e=RG();Object.defineProperty(P0,"DotwalletSigner",{enumerable:!0,get:function(){return d4e.DotwalletSigner}});var p4e=LG();Object.defineProperty(P0,"TAALSigner",{enumerable:!0,get:function(){return p4e.TAALSigner}});var m4e=qG();Object.defineProperty(P0,"PandaSigner",{enumerable:!0,get:function(){return m4e.PandaSigner}})});var Sr=$(Nt=>{k();M();var g4e=Nt&&Nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gc=Nt&&Nt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&g4e(e,t,r)};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.TestWallet=Nt.Provider=Nt.replayToLatest=Nt.bsv=Nt.FunctionCall=Nt.buildOpreturnScript=Nt.buildPublicKeyHashScript=Nt.toHex=Nt.SmartContractLib=Nt.SmartContract=Nt.method=Nt.prop=Nt.P2PK=Nt.P2PKH=void 0;var jG=V6();Object.defineProperty(Nt,"prop",{enumerable:!0,get:function(){return jG.prop}});Object.defineProperty(Nt,"method",{enumerable:!0,get:function(){return jG.method}});var b4e=a9();Object.defineProperty(Nt,"SmartContract",{enumerable:!0,get:function(){return b4e.SmartContract}});var y4e=ey();Object.defineProperty(Nt,"SmartContractLib",{enumerable:!0,get:function(){return y4e.SmartContractLib}});var v4e=Cq();Object.defineProperty(Nt,"P2PKH",{enumerable:!0,get:function(){return v4e.P2PKH}});var _4e=Rq();Object.defineProperty(Nt,"P2PK",{enumerable:!0,get:function(){return _4e.P2PK}});gc(pl(),Nt);gc($p(),Nt);gc(pu(),Nt);gc(k6(),Nt);var N4=nr();Object.defineProperty(Nt,"toHex",{enumerable:!0,get:function(){return N4.toHex}});Object.defineProperty(Nt,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return N4.buildPublicKeyHashScript}});Object.defineProperty(Nt,"buildOpreturnScript",{enumerable:!0,get:function(){return N4.buildOpreturnScript}});Object.defineProperty(Nt,"FunctionCall",{enumerable:!0,get:function(){return N4.FunctionCall}});var x4e=xE();Object.defineProperty(Nt,"bsv",{enumerable:!0,get:function(){return x4e.bsv}});gc(qq(),Nt);gc(Kq(),Nt);gc(k6(),Nt);var S4e=uV();Object.defineProperty(Nt,"replayToLatest",{enumerable:!0,get:function(){return S4e.replayToLatest}});gc(OG(),Nt);var w4e=x0();Object.defineProperty(Nt,"Provider",{enumerable:!0,get:function(){return w4e.Provider}});gc(i1(),Nt);var E4e=CG();Object.defineProperty(Nt,"TestWallet",{enumerable:!0,get:function(){return E4e.TestWallet}});gc($G(),Nt);gc(RA(),Nt)});var Pn=$(Tr=>{k();M();var Fl=Tr&&Tr.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ii=Tr&&Tr.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.TxUtil=Tr.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=Tr.XRAYED_TXID_PREIMG2_PREVLIST_LEN=Tr.MAX_OUTPUT_SCRIPT_LEN=Tr.STATE_OUTPUT_OFFSET=Tr.STATE_OUTPUT_INDEX=Tr.ADDRESS_HASH_LEN=Tr.MAX_STATE=Tr.MAX_TOKEN_OUTPUT=Tr.MAX_TOKEN_INPUT=Tr.MAX_OUTPUT=Tr.MAX_INPUT=Tr.Int32=void 0;var gn=Sr();Tr.Int32=BigInt;Tr.MAX_INPUT=6;Tr.MAX_OUTPUT=6;Tr.MAX_TOKEN_INPUT=5;Tr.MAX_TOKEN_OUTPUT=5;Tr.MAX_STATE=5;Tr.ADDRESS_HASH_LEN=20n;Tr.STATE_OUTPUT_INDEX=0;Tr.STATE_OUTPUT_OFFSET=1;Tr.MAX_OUTPUT_SCRIPT_LEN=34;Tr.XRAYED_TXID_PREIMG2_PREVLIST_LEN=4;Tr.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=4;var yo=class extends gn.SmartContractLib{static mergePrevouts(e){let r=(0,gn.toByteString)("");for(let n=0;n<Tr.MAX_INPUT;n++){let i=e[n];r+=i}return r}static mergeSpentScripts(e){let r=(0,gn.toByteString)("");for(let n=0;n<Tr.MAX_INPUT;n++){let i=e[n];r+=(0,gn.int2ByteString)((0,gn.len)(i))+i}return r}static buildOutput(e,r){let n=(0,gn.len)(e);return(0,gn.assert)(n<=Tr.MAX_OUTPUT_SCRIPT_LEN),r+(0,gn.int2ByteString)(n)+e}static checkIndex(e,r){let n=(0,gn.int2ByteString)(e);return n==(0,gn.toByteString)("")&&(n=(0,gn.toByteString)("00")),n+(0,gn.toByteString)("000000")==r}static buildOpReturnRoot(e){return(0,gn.toByteString)("0000000000000000")+(0,gn.int2ByteString)((0,gn.len)(e))+e}static getStateScript(e){return(0,gn.toByteString)("6a1863617401")+e}static getChangeOutput(e){return e.satoshis!=yo.ZEROSAT?yo.buildOutput(e.script,e.satoshis):(0,gn.toByteString)("")}};Tr.TxUtil=yo;yo.ZEROSAT=(0,gn.toByteString)("0000000000000000");Fl([(0,gn.prop)(),ii("design:type",String)],yo,"ZEROSAT",void 0);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[Object]),ii("design:returntype",String)],yo,"mergePrevouts",null);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[Object]),ii("design:returntype",String)],yo,"mergeSpentScripts",null);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[String,String]),ii("design:returntype",String)],yo,"buildOutput",null);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[BigInt,String]),ii("design:returntype",Boolean)],yo,"checkIndex",null);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[String]),ii("design:returntype",String)],yo,"buildOpReturnRoot",null);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[String]),ii("design:returntype",String)],yo,"getStateScript",null);Fl([(0,gn.method)(),ii("design:type",Function),ii("design:paramtypes",[Object]),ii("design:returntype",String)],yo,"getChangeOutput",null)});var na=$(Hl=>{k();M();var B5=Hl&&Hl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Su=Hl&&Hl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.SigHashUtils=void 0;var bn=Sr(),F4=Pn(),Js=class extends bn.SmartContractLib{static checkSHPreimage(e){let r=(0,bn.sha256)(Js.preimagePrefix+e.txVer+e.nLockTime+e.hashPrevouts+e.hashSpentAmounts+e.hashSpentScripts+e.hashSequences+e.hashOutputs+e.spendType+e.inputIndex+e.hashTapLeaf+e.keyVer+e.codeSeparator),n=(0,bn.sha256)(Js.ePreimagePrefix+r);(0,bn.assert)(e.eLastByte<127n,"invalid value of _e");let i=e.eLastByte==0n?(0,bn.toByteString)("00"):(0,bn.int2ByteString)(e.eLastByte);(0,bn.assert)(n==e._e+i,"invalid value of _e");let s=Js.Gx+e._e+(0,bn.int2ByteString)(e.eLastByte+1n);return(0,bn.Sig)(s)}static checkPrevoutsCtx(e,r,n){return(0,bn.assert)((0,bn.sha256)(F4.TxUtil.mergePrevouts(e.prevouts))==r,"hashPrevouts mismatch"),(0,bn.assert)(F4.TxUtil.checkIndex(e.inputIndexVal,n)),(0,bn.assert)(F4.TxUtil.checkIndex(e.outputIndexVal,e.outputIndex)),(0,bn.assert)(e.prevouts[Number(e.inputIndexVal)]==e.spentTxhash+e.outputIndex),!0}static checkSpentScriptsCtx(e,r){return(0,bn.assert)((0,bn.sha256)(F4.TxUtil.mergeSpentScripts(e))==r,"hashSpentScripts mismatch"),!0}};Hl.SigHashUtils=Js;Js.Gx=(0,bn.PubKey)((0,bn.toByteString)("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"));Js.ePreimagePrefix=(0,bn.toByteString)("7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798");Js.preimagePrefix=(0,bn.toByteString)("f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000");B5([(0,bn.prop)(),Su("design:type",String)],Js,"Gx",void 0);B5([(0,bn.prop)(),Su("design:type",String)],Js,"ePreimagePrefix",void 0);B5([(0,bn.prop)(),Su("design:type",String)],Js,"preimagePrefix",void 0);B5([(0,bn.method)(),Su("design:type",Function),Su("design:paramtypes",[Object]),Su("design:returntype",String)],Js,"checkSHPreimage",null);B5([(0,bn.method)(),Su("design:type",Function),Su("design:paramtypes",[Object,String,String]),Su("design:returntype",Boolean)],Js,"checkPrevoutsCtx",null);B5([(0,bn.method)(),Su("design:type",Function),Su("design:paramtypes",[Object,String]),Su("design:returntype",Boolean)],Js,"checkSpentScriptsCtx",null)});var VG=$((_st,KG)=>{k();M();var T4e="http://bitcore.io/";KG.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+T4e+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]});var Ea=$((wst,$A)=>{k();M();var qA=Er();function A4e(t,e){return t.replace("{0}",e[0]).replace("{1}",e[1]).replace("{2}",e[2])}var GG=function(t,e){var r=function(){if(qA.isString(e.message))this.message=A4e(e.message,arguments);else if(qA.isFunction(e.message))this.message=e.message.apply(null,arguments);else throw new Error("Invalid error definition for "+e.name);this.stack=this.message+`
`+new Error().stack};return r.prototype=Object.create(t.prototype),r.prototype.name=t.prototype.name+e.name,t[e.name]=r,e.errors&&zG(r,e.errors),r},zG=function(t,e){qA.each(e,function(r){GG(t,r)})},I4e=function(t,e){return zG(t,e),t},C5={};C5.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack};C5.Error.prototype=Object.create(Error.prototype);C5.Error.prototype.name="bitcore.Error";var P4e=VG();I4e(C5.Error,P4e);$A.exports=C5.Error;$A.exports.extend=function(t){return GG(C5.Error,t)}});var Ar=$((Ast,WG)=>{k();M();var q9=Ea(),O4e=Er();WG.exports={checkState:function(t,e){if(!t)throw new q9.InvalidState(e)},checkArgument:function(t,e,r,n){if(!t)throw new q9.InvalidArgument(e,r,n)},checkArgumentType:function(t,e,r){if(r=r||"(unknown name)",O4e.isString(e)){if(e==="Buffer"){var n=ui();if(!n.Buffer.isBuffer(t))throw new q9.InvalidArgumentType(t,e,r)}else if(typeof t!==e&&t&&t.constructor&&t.constructor.name!==e)throw new q9.InvalidArgumentType(t,e,r)}else if(!(t instanceof e))throw new q9.InvalidArgumentType(t,e.name,r)},isType:function(t,e,r){try{return this.checkArgumentType(t,e,r),!0}catch{return!1}}}});var fi=$((Ost,ZG)=>{k();M();var XG=Er(),YG=function(e){return XG.isString(e)?/^[0-9a-fA-F]+$/.test(e):!1};ZG.exports={isValidJSON:function(e){var r;if(!XG.isString(e))return!1;try{r=JSON.parse(e)}catch{return!1}return typeof r=="object"},isHexa:YG,isHexaString:YG,cloneArray:function(t){return[].concat(t)},defineImmutable:function(e,r){return Object.keys(r).forEach(function(n){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,value:r[n]})}),e},isNaturalNumber:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&e>=0}}});var On=$((Rst,$9)=>{k();M();var JG=ui(),kst=rc(),Mst=fi(),Dl=Ar();function QG(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}$9.exports={fill:function(e,r){Dl.checkArgumentType(e,"Buffer","buffer"),Dl.checkArgumentType(r,"number","value");for(var n=e.length,i=0;i<n;i++)e[i]=r;return e},copy:function(t){var e=A.Buffer.alloc(t.length);return t.copy(e),e},isBuffer:function(e){return JG.Buffer.isBuffer(e)||e instanceof Uint8Array},emptyBuffer:function(e){Dl.checkArgumentType(e,"number","bytes");for(var r=A.Buffer.alloc(e),n=0;n<e;n++)r.write("\0",n);return r},concat:JG.Buffer.concat,equals:QG,equal:QG,integerAsSingleByteBuffer:function(e){return Dl.checkArgumentType(e,"number","integer"),A.Buffer.from([e&255])},integerAsBuffer:function(e){Dl.checkArgumentType(e,"number","integer");var r=[];return r.push(e>>24&255),r.push(e>>16&255),r.push(e>>8&255),r.push(e&255),A.Buffer.from(r)},integerFromBuffer:function(e){return Dl.checkArgumentType(e,"Buffer","buffer"),e[0]<<24|e[1]<<16|e[2]<<8|e[3]},integerFromSingleByteBuffer:function(e){return Dl.checkArgumentType(e,"Buffer","buffer"),e[0]},bufferToHex:function(e){return Dl.checkArgumentType(e,"Buffer","buffer"),e.toString("hex")},reverse:function(e){return A.Buffer.from(e).reverse()}};$9.exports.NULL_HASH=$9.exports.fill(A.Buffer.alloc(32),0);$9.exports.EMPTY_BUFFER=A.Buffer.alloc(0)});var KA=$((ez,jA)=>{k();M();(function(t,e){"use strict";function r(C,d){if(!C)throw new Error(d||"Assertion failed")}function n(C,d){C.super_=d;var v=function(){};v.prototype=d.prototype,C.prototype=new v,C.prototype.constructor=C}function i(C,d,v){if(i.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((d==="le"||d==="be")&&(v=d,d=10),this._init(C||0,d||10,v||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=ui().Buffer}catch{}i.isBN=function(d){return d instanceof i?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===i.wordSize&&Array.isArray(d.words)},i.max=function(d,v){return d.cmp(v)>0?d:v},i.min=function(d,v){return d.cmp(v)<0?d:v},i.prototype._init=function(d,v,g){if(typeof d=="number")return this._initNumber(d,v,g);if(typeof d=="object")return this._initArray(d,v,g);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),d=d.toString().replace(/\s+/g,"");var m=0;d[0]==="-"&&m++,v===16?this._parseHex(d,m):this._parseBase(d,v,m),d[0]==="-"&&(this.negative=1),this.strip(),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initNumber=function(d,v,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initArray=function(d,v,g){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var S,w,R=0;if(g==="be")for(m=d.length-1,S=0;m>=0;m-=3)w=d[m]|d[m-1]<<8|d[m-2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);else if(g==="le")for(m=0,S=0;m<d.length;m+=3)w=d[m]|d[m+1]<<8|d[m+2]<<16,this.words[S]|=w<<R&67108863,this.words[S+1]=w>>>26-R&67108863,R+=24,R>=26&&(R-=26,S++);return this.strip()};function o(C,d,v){for(var g=0,m=Math.min(C.length,v),S=d;S<m;S++){var w=C.charCodeAt(S)-48;g<<=4,w>=49&&w<=54?g|=w-49+10:w>=17&&w<=22?g|=w-17+10:g|=w&15}return g}i.prototype._parseHex=function(d,v){this.length=Math.ceil((d.length-v)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var m,S,w=0;for(g=d.length-6,m=0;g>=v;g-=6)S=o(d,g,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303,w+=24,w>=26&&(w-=26,m++);g+6!==v&&(S=o(d,v,g+6),this.words[m]|=S<<w&67108863,this.words[m+1]|=S>>>26-w&4194303),this.strip()};function a(C,d,v,g){for(var m=0,S=Math.min(C.length,v),w=d;w<S;w++){var R=C.charCodeAt(w)-48;m*=g,R>=49?m+=R-49+10:R>=17?m+=R-17+10:m+=R}return m}i.prototype._parseBase=function(d,v,g){this.words=[0],this.length=1;for(var m=0,S=1;S<=67108863;S*=v)m++;m--,S=S/v|0;for(var w=d.length-g,R=w%m,T=Math.min(w,w-R)+g,b=0,x=g;x<T;x+=m)b=a(d,x,x+m,v),this.imuln(S),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(R!==0){var P=1;for(b=a(d,x,d.length,v),x=0;x<R;x++)P*=v;this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}},i.prototype.copy=function(d){d.words=new Array(this.length);for(var v=0;v<this.length;v++)d.words[v]=this.words[v];d.length=this.length,d.negative=this.negative,d.red=this.red},i.prototype.clone=function(){var d=new i(null);return this.copy(d),d},i.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(d,v){d=d||10,v=v|0||1;var g;if(d===16||d==="hex"){g="";for(var m=0,S=0,w=0;w<this.length;w++){var R=this.words[w],T=((R<<m|S)&16777215).toString(16);S=R>>>24-m&16777215,S!==0||w!==this.length-1?g=u[6-T.length]+T+g:g=T+g,m+=2,m>=26&&(m-=26,w--)}for(S!==0&&(g=S.toString(16)+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(d===(d|0)&&d>=2&&d<=36){var b=c[d],x=h[d];g="";var P=this.clone();for(P.negative=0;!P.isZero();){var L=P.modn(x).toString(d);P=P.idivn(x),P.isZero()?g=L+g:g=u[b-L.length]+L+g}for(this.isZero()&&(g="0"+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(d,v){return r(typeof s<"u"),this.toArrayLike(s,d,v)},i.prototype.toArray=function(d,v){return this.toArrayLike(Array,d,v)},i.prototype.toArrayLike=function(d,v,g){var m=this.byteLength(),S=g||Math.max(1,m);r(m<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0"),this.strip();var w=v==="le",R=new d(S),T,b,x=this.clone();if(w){for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[b]=T;for(;b<S;b++)R[b]=0}else{for(b=0;b<S-m;b++)R[b]=0;for(b=0;!x.isZero();b++)T=x.andln(255),x.iushrn(8),R[S-b-1]=T}return R},Math.clz32?i.prototype._countBits=function(d){return 32-Math.clz32(d)}:i.prototype._countBits=function(d){var v=d,g=0;return v>=4096&&(g+=13,v>>>=13),v>=64&&(g+=7,v>>>=7),v>=8&&(g+=4,v>>>=4),v>=2&&(g+=2,v>>>=2),g+v},i.prototype._zeroBits=function(d){if(d===0)return 26;var v=d,g=0;return(v&8191)===0&&(g+=13,v>>>=13),(v&127)===0&&(g+=7,v>>>=7),(v&15)===0&&(g+=4,v>>>=4),(v&3)===0&&(g+=2,v>>>=2),(v&1)===0&&g++,g},i.prototype.bitLength=function(){var d=this.words[this.length-1],v=this._countBits(d);return(this.length-1)*26+v};function f(C){for(var d=new Array(C.bitLength()),v=0;v<d.length;v++){var g=v/26|0,m=v%26;d[v]=(C.words[g]&1<<m)>>>m}return d}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,v=0;v<this.length;v++){var g=this._zeroBits(this.words[v]);if(d+=g,g!==26)break}return d},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},i.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var v=0;v<d.length;v++)this.words[v]=this.words[v]|d.words[v];return this.strip()},i.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},i.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},i.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},i.prototype.iuand=function(d){var v;this.length>d.length?v=d:v=this;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=v.length,this.strip()},i.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},i.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},i.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},i.prototype.iuxor=function(d){var v,g;this.length>d.length?(v=this,g=d):(v=d,g=this);for(var m=0;m<g.length;m++)this.words[m]=v.words[m]^g.words[m];if(this!==v)for(;m<v.length;m++)this.words[m]=v.words[m];return this.length=v.length,this.strip()},i.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},i.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},i.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},i.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var v=Math.ceil(d/26)|0,g=d%26;this._expand(v),g>0&&v--;for(var m=0;m<v;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this.strip()},i.prototype.notn=function(d){return this.clone().inotn(d)},i.prototype.setn=function(d,v){r(typeof d=="number"&&d>=0);var g=d/26|0,m=d%26;return this._expand(g+1),v?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this.strip()},i.prototype.iadd=function(d){var v;if(this.negative!==0&&d.negative===0)return this.negative=0,v=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,v=this.isub(d),d.negative=1,v._normSign();var g,m;this.length>d.length?(g=this,m=d):(g=d,m=this);for(var S=0,w=0;w<m.length;w++)v=(g.words[w]|0)+(m.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;for(;S!==0&&w<g.length;w++)v=(g.words[w]|0)+S,this.words[w]=v&67108863,S=v>>>26;if(this.length=g.length,S!==0)this.words[this.length]=S,this.length++;else if(g!==this)for(;w<g.length;w++)this.words[w]=g.words[w];return this},i.prototype.add=function(d){var v;return d.negative!==0&&this.negative===0?(d.negative=0,v=this.sub(d),d.negative^=1,v):d.negative===0&&this.negative!==0?(this.negative=0,v=d.sub(this),this.negative=1,v):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},i.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var v=this.iadd(d);return d.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g=this.cmp(d);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,S;g>0?(m=this,S=d):(m=d,S=this);for(var w=0,R=0;R<S.length;R++)v=(m.words[R]|0)-(S.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;for(;w!==0&&R<m.length;R++)v=(m.words[R]|0)+w,w=v>>26,this.words[R]=v&67108863;if(w===0&&R<m.length&&m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=Math.max(this.length,R),m!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(d){return this.clone().isub(d)};function p(C,d,v){v.negative=d.negative^C.negative;var g=C.length+d.length|0;v.length=g,g=g-1|0;var m=C.words[0]|0,S=d.words[0]|0,w=m*S,R=w&67108863,T=w/67108864|0;v.words[0]=R;for(var b=1;b<g;b++){for(var x=T>>>26,P=T&67108863,L=Math.min(b,d.length-1),V=Math.max(0,b-C.length+1);V<=L;V++){var W=b-V|0;m=C.words[W]|0,S=d.words[V]|0,w=m*S+P,x+=w/67108864|0,P=w&67108863}v.words[b]=P|0,T=x|0}return T!==0?v.words[b]=T|0:v.length--,v.strip()}var l=function(d,v,g){var m=d.words,S=v.words,w=g.words,R=0,T,b,x,P=m[0]|0,L=P&8191,V=P>>>13,W=m[1]|0,ee=W&8191,ae=W>>>13,se=m[2]|0,j=se&8191,Z=se>>>13,Q=m[3]|0,ne=Q&8191,ue=Q>>>13,ge=m[4]|0,xe=ge&8191,Pe=ge>>>13,Le=m[5]|0,ke=Le&8191,De=Le>>>13,Je=m[6]|0,Ae=Je&8191,we=Je>>>13,mt=m[7]|0,K=mt&8191,X=mt>>>13,G=m[8]|0,z=G&8191,J=G>>>13,te=m[9]|0,re=te&8191,ce=te>>>13,oe=S[0]|0,pe=oe&8191,ve=oe>>>13,Oe=S[1]|0,Se=Oe&8191,ze=Oe>>>13,Ht=S[2]|0,Xe=Ht&8191,wt=Ht>>>13,rn=S[3]|0,Qe=rn&8191,Dt=rn>>>13,nn=S[4]|0,et=nn&8191,Ut=nn>>>13,sn=S[5]|0,tt=sn&8191,Lt=sn>>>13,on=S[6]|0,rt=on&8191,qt=on>>>13,an=S[7]|0,nt=an&8191,$t=an>>>13,un=S[8]|0,it=un&8191,jt=un>>>13,cn=S[9]|0,st=cn&8191,Kt=cn>>>13;g.negative=d.negative^v.negative,g.length=19,T=Math.imul(L,pe),b=Math.imul(L,ve),b=b+Math.imul(V,pe)|0,x=Math.imul(V,ve);var zr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zr>>>26)|0,zr&=67108863,T=Math.imul(ee,pe),b=Math.imul(ee,ve),b=b+Math.imul(ae,pe)|0,x=Math.imul(ae,ve),T=T+Math.imul(L,Se)|0,b=b+Math.imul(L,ze)|0,b=b+Math.imul(V,Se)|0,x=x+Math.imul(V,ze)|0;var Wr=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(j,pe),b=Math.imul(j,ve),b=b+Math.imul(Z,pe)|0,x=Math.imul(Z,ve),T=T+Math.imul(ee,Se)|0,b=b+Math.imul(ee,ze)|0,b=b+Math.imul(ae,Se)|0,x=x+Math.imul(ae,ze)|0,T=T+Math.imul(L,Xe)|0,b=b+Math.imul(L,wt)|0,b=b+Math.imul(V,Xe)|0,x=x+Math.imul(V,wt)|0;var Uu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,T=Math.imul(ne,pe),b=Math.imul(ne,ve),b=b+Math.imul(ue,pe)|0,x=Math.imul(ue,ve),T=T+Math.imul(j,Se)|0,b=b+Math.imul(j,ze)|0,b=b+Math.imul(Z,Se)|0,x=x+Math.imul(Z,ze)|0,T=T+Math.imul(ee,Xe)|0,b=b+Math.imul(ee,wt)|0,b=b+Math.imul(ae,Xe)|0,x=x+Math.imul(ae,wt)|0,T=T+Math.imul(L,Qe)|0,b=b+Math.imul(L,Dt)|0,b=b+Math.imul(V,Qe)|0,x=x+Math.imul(V,Dt)|0;var Lu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,T=Math.imul(xe,pe),b=Math.imul(xe,ve),b=b+Math.imul(Pe,pe)|0,x=Math.imul(Pe,ve),T=T+Math.imul(ne,Se)|0,b=b+Math.imul(ne,ze)|0,b=b+Math.imul(ue,Se)|0,x=x+Math.imul(ue,ze)|0,T=T+Math.imul(j,Xe)|0,b=b+Math.imul(j,wt)|0,b=b+Math.imul(Z,Xe)|0,x=x+Math.imul(Z,wt)|0,T=T+Math.imul(ee,Qe)|0,b=b+Math.imul(ee,Dt)|0,b=b+Math.imul(ae,Qe)|0,x=x+Math.imul(ae,Dt)|0,T=T+Math.imul(L,et)|0,b=b+Math.imul(L,Ut)|0,b=b+Math.imul(V,et)|0,x=x+Math.imul(V,Ut)|0;var qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(qu>>>26)|0,qu&=67108863,T=Math.imul(ke,pe),b=Math.imul(ke,ve),b=b+Math.imul(De,pe)|0,x=Math.imul(De,ve),T=T+Math.imul(xe,Se)|0,b=b+Math.imul(xe,ze)|0,b=b+Math.imul(Pe,Se)|0,x=x+Math.imul(Pe,ze)|0,T=T+Math.imul(ne,Xe)|0,b=b+Math.imul(ne,wt)|0,b=b+Math.imul(ue,Xe)|0,x=x+Math.imul(ue,wt)|0,T=T+Math.imul(j,Qe)|0,b=b+Math.imul(j,Dt)|0,b=b+Math.imul(Z,Qe)|0,x=x+Math.imul(Z,Dt)|0,T=T+Math.imul(ee,et)|0,b=b+Math.imul(ee,Ut)|0,b=b+Math.imul(ae,et)|0,x=x+Math.imul(ae,Ut)|0,T=T+Math.imul(L,tt)|0,b=b+Math.imul(L,Lt)|0,b=b+Math.imul(V,tt)|0,x=x+Math.imul(V,Lt)|0;var $u=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+($u>>>26)|0,$u&=67108863,T=Math.imul(Ae,pe),b=Math.imul(Ae,ve),b=b+Math.imul(we,pe)|0,x=Math.imul(we,ve),T=T+Math.imul(ke,Se)|0,b=b+Math.imul(ke,ze)|0,b=b+Math.imul(De,Se)|0,x=x+Math.imul(De,ze)|0,T=T+Math.imul(xe,Xe)|0,b=b+Math.imul(xe,wt)|0,b=b+Math.imul(Pe,Xe)|0,x=x+Math.imul(Pe,wt)|0,T=T+Math.imul(ne,Qe)|0,b=b+Math.imul(ne,Dt)|0,b=b+Math.imul(ue,Qe)|0,x=x+Math.imul(ue,Dt)|0,T=T+Math.imul(j,et)|0,b=b+Math.imul(j,Ut)|0,b=b+Math.imul(Z,et)|0,x=x+Math.imul(Z,Ut)|0,T=T+Math.imul(ee,tt)|0,b=b+Math.imul(ee,Lt)|0,b=b+Math.imul(ae,tt)|0,x=x+Math.imul(ae,Lt)|0,T=T+Math.imul(L,rt)|0,b=b+Math.imul(L,qt)|0,b=b+Math.imul(V,rt)|0,x=x+Math.imul(V,qt)|0;var ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(ju>>>26)|0,ju&=67108863,T=Math.imul(K,pe),b=Math.imul(K,ve),b=b+Math.imul(X,pe)|0,x=Math.imul(X,ve),T=T+Math.imul(Ae,Se)|0,b=b+Math.imul(Ae,ze)|0,b=b+Math.imul(we,Se)|0,x=x+Math.imul(we,ze)|0,T=T+Math.imul(ke,Xe)|0,b=b+Math.imul(ke,wt)|0,b=b+Math.imul(De,Xe)|0,x=x+Math.imul(De,wt)|0,T=T+Math.imul(xe,Qe)|0,b=b+Math.imul(xe,Dt)|0,b=b+Math.imul(Pe,Qe)|0,x=x+Math.imul(Pe,Dt)|0,T=T+Math.imul(ne,et)|0,b=b+Math.imul(ne,Ut)|0,b=b+Math.imul(ue,et)|0,x=x+Math.imul(ue,Ut)|0,T=T+Math.imul(j,tt)|0,b=b+Math.imul(j,Lt)|0,b=b+Math.imul(Z,tt)|0,x=x+Math.imul(Z,Lt)|0,T=T+Math.imul(ee,rt)|0,b=b+Math.imul(ee,qt)|0,b=b+Math.imul(ae,rt)|0,x=x+Math.imul(ae,qt)|0,T=T+Math.imul(L,nt)|0,b=b+Math.imul(L,$t)|0,b=b+Math.imul(V,nt)|0,x=x+Math.imul(V,$t)|0;var Ku=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,T=Math.imul(z,pe),b=Math.imul(z,ve),b=b+Math.imul(J,pe)|0,x=Math.imul(J,ve),T=T+Math.imul(K,Se)|0,b=b+Math.imul(K,ze)|0,b=b+Math.imul(X,Se)|0,x=x+Math.imul(X,ze)|0,T=T+Math.imul(Ae,Xe)|0,b=b+Math.imul(Ae,wt)|0,b=b+Math.imul(we,Xe)|0,x=x+Math.imul(we,wt)|0,T=T+Math.imul(ke,Qe)|0,b=b+Math.imul(ke,Dt)|0,b=b+Math.imul(De,Qe)|0,x=x+Math.imul(De,Dt)|0,T=T+Math.imul(xe,et)|0,b=b+Math.imul(xe,Ut)|0,b=b+Math.imul(Pe,et)|0,x=x+Math.imul(Pe,Ut)|0,T=T+Math.imul(ne,tt)|0,b=b+Math.imul(ne,Lt)|0,b=b+Math.imul(ue,tt)|0,x=x+Math.imul(ue,Lt)|0,T=T+Math.imul(j,rt)|0,b=b+Math.imul(j,qt)|0,b=b+Math.imul(Z,rt)|0,x=x+Math.imul(Z,qt)|0,T=T+Math.imul(ee,nt)|0,b=b+Math.imul(ee,$t)|0,b=b+Math.imul(ae,nt)|0,x=x+Math.imul(ae,$t)|0,T=T+Math.imul(L,it)|0,b=b+Math.imul(L,jt)|0,b=b+Math.imul(V,it)|0,x=x+Math.imul(V,jt)|0;var Vu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,T=Math.imul(re,pe),b=Math.imul(re,ve),b=b+Math.imul(ce,pe)|0,x=Math.imul(ce,ve),T=T+Math.imul(z,Se)|0,b=b+Math.imul(z,ze)|0,b=b+Math.imul(J,Se)|0,x=x+Math.imul(J,ze)|0,T=T+Math.imul(K,Xe)|0,b=b+Math.imul(K,wt)|0,b=b+Math.imul(X,Xe)|0,x=x+Math.imul(X,wt)|0,T=T+Math.imul(Ae,Qe)|0,b=b+Math.imul(Ae,Dt)|0,b=b+Math.imul(we,Qe)|0,x=x+Math.imul(we,Dt)|0,T=T+Math.imul(ke,et)|0,b=b+Math.imul(ke,Ut)|0,b=b+Math.imul(De,et)|0,x=x+Math.imul(De,Ut)|0,T=T+Math.imul(xe,tt)|0,b=b+Math.imul(xe,Lt)|0,b=b+Math.imul(Pe,tt)|0,x=x+Math.imul(Pe,Lt)|0,T=T+Math.imul(ne,rt)|0,b=b+Math.imul(ne,qt)|0,b=b+Math.imul(ue,rt)|0,x=x+Math.imul(ue,qt)|0,T=T+Math.imul(j,nt)|0,b=b+Math.imul(j,$t)|0,b=b+Math.imul(Z,nt)|0,x=x+Math.imul(Z,$t)|0,T=T+Math.imul(ee,it)|0,b=b+Math.imul(ee,jt)|0,b=b+Math.imul(ae,it)|0,x=x+Math.imul(ae,jt)|0,T=T+Math.imul(L,st)|0,b=b+Math.imul(L,Kt)|0,b=b+Math.imul(V,st)|0,x=x+Math.imul(V,Kt)|0;var Gu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,T=Math.imul(re,Se),b=Math.imul(re,ze),b=b+Math.imul(ce,Se)|0,x=Math.imul(ce,ze),T=T+Math.imul(z,Xe)|0,b=b+Math.imul(z,wt)|0,b=b+Math.imul(J,Xe)|0,x=x+Math.imul(J,wt)|0,T=T+Math.imul(K,Qe)|0,b=b+Math.imul(K,Dt)|0,b=b+Math.imul(X,Qe)|0,x=x+Math.imul(X,Dt)|0,T=T+Math.imul(Ae,et)|0,b=b+Math.imul(Ae,Ut)|0,b=b+Math.imul(we,et)|0,x=x+Math.imul(we,Ut)|0,T=T+Math.imul(ke,tt)|0,b=b+Math.imul(ke,Lt)|0,b=b+Math.imul(De,tt)|0,x=x+Math.imul(De,Lt)|0,T=T+Math.imul(xe,rt)|0,b=b+Math.imul(xe,qt)|0,b=b+Math.imul(Pe,rt)|0,x=x+Math.imul(Pe,qt)|0,T=T+Math.imul(ne,nt)|0,b=b+Math.imul(ne,$t)|0,b=b+Math.imul(ue,nt)|0,x=x+Math.imul(ue,$t)|0,T=T+Math.imul(j,it)|0,b=b+Math.imul(j,jt)|0,b=b+Math.imul(Z,it)|0,x=x+Math.imul(Z,jt)|0,T=T+Math.imul(ee,st)|0,b=b+Math.imul(ee,Kt)|0,b=b+Math.imul(ae,st)|0,x=x+Math.imul(ae,Kt)|0;var zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(zu>>>26)|0,zu&=67108863,T=Math.imul(re,Xe),b=Math.imul(re,wt),b=b+Math.imul(ce,Xe)|0,x=Math.imul(ce,wt),T=T+Math.imul(z,Qe)|0,b=b+Math.imul(z,Dt)|0,b=b+Math.imul(J,Qe)|0,x=x+Math.imul(J,Dt)|0,T=T+Math.imul(K,et)|0,b=b+Math.imul(K,Ut)|0,b=b+Math.imul(X,et)|0,x=x+Math.imul(X,Ut)|0,T=T+Math.imul(Ae,tt)|0,b=b+Math.imul(Ae,Lt)|0,b=b+Math.imul(we,tt)|0,x=x+Math.imul(we,Lt)|0,T=T+Math.imul(ke,rt)|0,b=b+Math.imul(ke,qt)|0,b=b+Math.imul(De,rt)|0,x=x+Math.imul(De,qt)|0,T=T+Math.imul(xe,nt)|0,b=b+Math.imul(xe,$t)|0,b=b+Math.imul(Pe,nt)|0,x=x+Math.imul(Pe,$t)|0,T=T+Math.imul(ne,it)|0,b=b+Math.imul(ne,jt)|0,b=b+Math.imul(ue,it)|0,x=x+Math.imul(ue,jt)|0,T=T+Math.imul(j,st)|0,b=b+Math.imul(j,Kt)|0,b=b+Math.imul(Z,st)|0,x=x+Math.imul(Z,Kt)|0;var Wu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,T=Math.imul(re,Qe),b=Math.imul(re,Dt),b=b+Math.imul(ce,Qe)|0,x=Math.imul(ce,Dt),T=T+Math.imul(z,et)|0,b=b+Math.imul(z,Ut)|0,b=b+Math.imul(J,et)|0,x=x+Math.imul(J,Ut)|0,T=T+Math.imul(K,tt)|0,b=b+Math.imul(K,Lt)|0,b=b+Math.imul(X,tt)|0,x=x+Math.imul(X,Lt)|0,T=T+Math.imul(Ae,rt)|0,b=b+Math.imul(Ae,qt)|0,b=b+Math.imul(we,rt)|0,x=x+Math.imul(we,qt)|0,T=T+Math.imul(ke,nt)|0,b=b+Math.imul(ke,$t)|0,b=b+Math.imul(De,nt)|0,x=x+Math.imul(De,$t)|0,T=T+Math.imul(xe,it)|0,b=b+Math.imul(xe,jt)|0,b=b+Math.imul(Pe,it)|0,x=x+Math.imul(Pe,jt)|0,T=T+Math.imul(ne,st)|0,b=b+Math.imul(ne,Kt)|0,b=b+Math.imul(ue,st)|0,x=x+Math.imul(ue,Kt)|0;var Yu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,T=Math.imul(re,et),b=Math.imul(re,Ut),b=b+Math.imul(ce,et)|0,x=Math.imul(ce,Ut),T=T+Math.imul(z,tt)|0,b=b+Math.imul(z,Lt)|0,b=b+Math.imul(J,tt)|0,x=x+Math.imul(J,Lt)|0,T=T+Math.imul(K,rt)|0,b=b+Math.imul(K,qt)|0,b=b+Math.imul(X,rt)|0,x=x+Math.imul(X,qt)|0,T=T+Math.imul(Ae,nt)|0,b=b+Math.imul(Ae,$t)|0,b=b+Math.imul(we,nt)|0,x=x+Math.imul(we,$t)|0,T=T+Math.imul(ke,it)|0,b=b+Math.imul(ke,jt)|0,b=b+Math.imul(De,it)|0,x=x+Math.imul(De,jt)|0,T=T+Math.imul(xe,st)|0,b=b+Math.imul(xe,Kt)|0,b=b+Math.imul(Pe,st)|0,x=x+Math.imul(Pe,Kt)|0;var Xu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,T=Math.imul(re,tt),b=Math.imul(re,Lt),b=b+Math.imul(ce,tt)|0,x=Math.imul(ce,Lt),T=T+Math.imul(z,rt)|0,b=b+Math.imul(z,qt)|0,b=b+Math.imul(J,rt)|0,x=x+Math.imul(J,qt)|0,T=T+Math.imul(K,nt)|0,b=b+Math.imul(K,$t)|0,b=b+Math.imul(X,nt)|0,x=x+Math.imul(X,$t)|0,T=T+Math.imul(Ae,it)|0,b=b+Math.imul(Ae,jt)|0,b=b+Math.imul(we,it)|0,x=x+Math.imul(we,jt)|0,T=T+Math.imul(ke,st)|0,b=b+Math.imul(ke,Kt)|0,b=b+Math.imul(De,st)|0,x=x+Math.imul(De,Kt)|0;var Zu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,T=Math.imul(re,rt),b=Math.imul(re,qt),b=b+Math.imul(ce,rt)|0,x=Math.imul(ce,qt),T=T+Math.imul(z,nt)|0,b=b+Math.imul(z,$t)|0,b=b+Math.imul(J,nt)|0,x=x+Math.imul(J,$t)|0,T=T+Math.imul(K,it)|0,b=b+Math.imul(K,jt)|0,b=b+Math.imul(X,it)|0,x=x+Math.imul(X,jt)|0,T=T+Math.imul(Ae,st)|0,b=b+Math.imul(Ae,Kt)|0,b=b+Math.imul(we,st)|0,x=x+Math.imul(we,Kt)|0;var Ju=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,T=Math.imul(re,nt),b=Math.imul(re,$t),b=b+Math.imul(ce,nt)|0,x=Math.imul(ce,$t),T=T+Math.imul(z,it)|0,b=b+Math.imul(z,jt)|0,b=b+Math.imul(J,it)|0,x=x+Math.imul(J,jt)|0,T=T+Math.imul(K,st)|0,b=b+Math.imul(K,Kt)|0,b=b+Math.imul(X,st)|0,x=x+Math.imul(X,Kt)|0;var Qu=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,T=Math.imul(re,it),b=Math.imul(re,jt),b=b+Math.imul(ce,it)|0,x=Math.imul(ce,jt),T=T+Math.imul(z,st)|0,b=b+Math.imul(z,Kt)|0,b=b+Math.imul(J,st)|0,x=x+Math.imul(J,Kt)|0;var ec=(R+T|0)+((b&8191)<<13)|0;R=(x+(b>>>13)|0)+(ec>>>26)|0,ec&=67108863,T=Math.imul(re,st),b=Math.imul(re,Kt),b=b+Math.imul(ce,st)|0,x=Math.imul(ce,Kt);var tc=(R+T|0)+((b&8191)<<13)|0;return R=(x+(b>>>13)|0)+(tc>>>26)|0,tc&=67108863,w[0]=zr,w[1]=Wr,w[2]=Uu,w[3]=Lu,w[4]=qu,w[5]=$u,w[6]=ju,w[7]=Ku,w[8]=Vu,w[9]=Gu,w[10]=zu,w[11]=Wu,w[12]=Yu,w[13]=Xu,w[14]=Zu,w[15]=Ju,w[16]=Qu,w[17]=ec,w[18]=tc,R!==0&&(w[19]=R,g.length++),g};Math.imul||(l=p);function y(C,d,v){v.negative=d.negative^C.negative,v.length=C.length+d.length;for(var g=0,m=0,S=0;S<v.length-1;S++){var w=m;m=0;for(var R=g&67108863,T=Math.min(S,d.length-1),b=Math.max(0,S-C.length+1);b<=T;b++){var x=S-b,P=C.words[x]|0,L=d.words[b]|0,V=P*L,W=V&67108863;w=w+(V/67108864|0)|0,W=W+R|0,R=W&67108863,w=w+(W>>>26)|0,m+=w>>>26,w&=67108863}v.words[S]=R,g=w,w=m}return g!==0?v.words[S]=g:v.length--,v.strip()}function _(C,d,v){var g=new O;return g.mulp(C,d,v)}i.prototype.mulTo=function(d,v){var g,m=this.length+d.length;return this.length===10&&d.length===10?g=l(this,d,v):m<63?g=p(this,d,v):m<1024?g=y(this,d,v):g=_(this,d,v),g};function O(C,d){this.x=C,this.y=d}O.prototype.makeRBT=function(d){for(var v=new Array(d),g=i.prototype._countBits(d)-1,m=0;m<d;m++)v[m]=this.revBin(m,g,d);return v},O.prototype.revBin=function(d,v,g){if(d===0||d===g-1)return d;for(var m=0,S=0;S<v;S++)m|=(d&1)<<v-S-1,d>>=1;return m},O.prototype.permute=function(d,v,g,m,S,w){for(var R=0;R<w;R++)m[R]=v[d[R]],S[R]=g[d[R]]},O.prototype.transform=function(d,v,g,m,S,w){this.permute(w,d,v,g,m,S);for(var R=1;R<S;R<<=1)for(var T=R<<1,b=Math.cos(2*Math.PI/T),x=Math.sin(2*Math.PI/T),P=0;P<S;P+=T)for(var L=b,V=x,W=0;W<R;W++){var ee=g[P+W],ae=m[P+W],se=g[P+W+R],j=m[P+W+R],Z=L*se-V*j;j=L*j+V*se,se=Z,g[P+W]=ee+se,m[P+W]=ae+j,g[P+W+R]=ee-se,m[P+W+R]=ae-j,W!==T&&(Z=b*L-x*V,V=b*V+x*L,L=Z)}},O.prototype.guessLen13b=function(d,v){var g=Math.max(v,d)|1,m=g&1,S=0;for(g=g/2|0;g;g=g>>>1)S++;return 1<<S+1+m},O.prototype.conjugate=function(d,v,g){if(!(g<=1))for(var m=0;m<g/2;m++){var S=d[m];d[m]=d[g-m-1],d[g-m-1]=S,S=v[m],v[m]=-v[g-m-1],v[g-m-1]=-S}},O.prototype.normalize13b=function(d,v){for(var g=0,m=0;m<v/2;m++){var S=Math.round(d[2*m+1]/v)*8192+Math.round(d[2*m]/v)+g;d[m]=S&67108863,S<67108864?g=0:g=S/67108864|0}return d},O.prototype.convert13b=function(d,v,g,m){for(var S=0,w=0;w<v;w++)S=S+(d[w]|0),g[2*w]=S&8191,S=S>>>13,g[2*w+1]=S&8191,S=S>>>13;for(w=2*v;w<m;++w)g[w]=0;r(S===0),r((S&-8192)===0)},O.prototype.stub=function(d){for(var v=new Array(d),g=0;g<d;g++)v[g]=0;return v},O.prototype.mulp=function(d,v,g){var m=2*this.guessLen13b(d.length,v.length),S=this.makeRBT(m),w=this.stub(m),R=new Array(m),T=new Array(m),b=new Array(m),x=new Array(m),P=new Array(m),L=new Array(m),V=g.words;V.length=m,this.convert13b(d.words,d.length,R,m),this.convert13b(v.words,v.length,x,m),this.transform(R,w,T,b,m,S),this.transform(x,w,P,L,m,S);for(var W=0;W<m;W++){var ee=T[W]*P[W]-b[W]*L[W];b[W]=T[W]*L[W]+b[W]*P[W],T[W]=ee}return this.conjugate(T,b,m),this.transform(T,b,V,w,m,S),this.conjugate(V,w,m),this.normalize13b(V,m),g.negative=d.negative^v.negative,g.length=d.length+v.length,g.strip()},i.prototype.mul=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),this.mulTo(d,v)},i.prototype.mulf=function(d){var v=new i(null);return v.words=new Array(this.length+d.length),_(this,d,v)},i.prototype.imul=function(d){return this.clone().mulTo(d,this)},i.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var v=0,g=0;g<this.length;g++){var m=(this.words[g]|0)*d,S=(m&67108863)+(v&67108863);v>>=26,v+=m/67108864|0,v+=S>>>26,this.words[g]=S&67108863}return v!==0&&(this.words[g]=v,this.length++),this},i.prototype.muln=function(d){return this.clone().imuln(d)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(d){var v=f(d);if(v.length===0)return new i(1);for(var g=this,m=0;m<v.length&&v[m]===0;m++,g=g.sqr());if(++m<v.length)for(var S=g.sqr();m<v.length;m++,S=S.sqr())v[m]!==0&&(g=g.mul(S));return g},i.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=67108863>>>26-v<<26-v,S;if(v!==0){var w=0;for(S=0;S<this.length;S++){var R=this.words[S]&m,T=(this.words[S]|0)-R<<v;this.words[S]=T|w,w=R>>>26-v}w&&(this.words[S]=w,this.length++)}if(g!==0){for(S=this.length-1;S>=0;S--)this.words[S+g]=this.words[S];for(S=0;S<g;S++)this.words[S]=0;this.length+=g}return this.strip()},i.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},i.prototype.iushrn=function(d,v,g){r(typeof d=="number"&&d>=0);var m;v?m=(v-v%26)/26:m=0;var S=d%26,w=Math.min((d-S)/26,this.length),R=67108863^67108863>>>S<<S,T=g;if(m-=w,m=Math.max(0,m),T){for(var b=0;b<w;b++)T.words[b]=this.words[b];T.length=w}if(w!==0)if(this.length>w)for(this.length-=w,b=0;b<this.length;b++)this.words[b]=this.words[b+w];else this.words[0]=0,this.length=1;var x=0;for(b=this.length-1;b>=0&&(x!==0||b>=m);b--){var P=this.words[b]|0;this.words[b]=x<<26-S|P>>>S,x=P&R}return T&&x!==0&&(T.words[T.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(d,v,g){return r(this.negative===0),this.iushrn(d,v,g)},i.prototype.shln=function(d){return this.clone().ishln(d)},i.prototype.ushln=function(d){return this.clone().iushln(d)},i.prototype.shrn=function(d){return this.clone().ishrn(d)},i.prototype.ushrn=function(d){return this.clone().iushrn(d)},i.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return!1;var S=this.words[g];return!!(S&m)},i.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var v=d%26,g=(d-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(v!==0&&g++,this.length=Math.min(g,this.length),v!==0){var m=67108863^67108863>>>v<<v;this.words[this.length-1]&=m}return this.strip()},i.prototype.maskn=function(d){return this.clone().imaskn(d)},i.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},i.prototype._iaddn=function(d){this.words[0]+=d;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},i.prototype.addn=function(d){return this.clone().iaddn(d)},i.prototype.subn=function(d){return this.clone().isubn(d)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(d,v,g){var m=d.length+g,S;this._expand(m);var w,R=0;for(S=0;S<d.length;S++){w=(this.words[S+g]|0)+R;var T=(d.words[S]|0)*v;w-=T&67108863,R=(w>>26)-(T/67108864|0),this.words[S+g]=w&67108863}for(;S<this.length-g;S++)w=(this.words[S+g]|0)+R,R=w>>26,this.words[S+g]=w&67108863;if(R===0)return this.strip();for(r(R===-1),R=0,S=0;S<this.length;S++)w=-(this.words[S]|0)+R,R=w>>26,this.words[S]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(d,v){var g=this.length-d.length,m=this.clone(),S=d,w=S.words[S.length-1]|0,R=this._countBits(w);g=26-R,g!==0&&(S=S.ushln(g),m.iushln(g),w=S.words[S.length-1]|0);var T=m.length-S.length,b;if(v!=="mod"){b=new i(null),b.length=T+1,b.words=new Array(b.length);for(var x=0;x<b.length;x++)b.words[x]=0}var P=m.clone()._ishlnsubmul(S,1,T);P.negative===0&&(m=P,b&&(b.words[T]=1));for(var L=T-1;L>=0;L--){var V=(m.words[S.length+L]|0)*67108864+(m.words[S.length+L-1]|0);for(V=Math.min(V/w|0,67108863),m._ishlnsubmul(S,V,L);m.negative!==0;)V--,m.negative=0,m._ishlnsubmul(S,1,L),m.isZero()||(m.negative^=1);b&&(b.words[L]=V)}return b&&b.strip(),m.strip(),v!=="div"&&g!==0&&m.iushrn(g),{div:b||null,mod:m}},i.prototype.divmod=function(d,v,g){if(r(!d.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var m,S,w;return this.negative!==0&&d.negative===0?(w=this.neg().divmod(d,v),v!=="mod"&&(m=w.div.neg()),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.iadd(d)),{div:m,mod:S}):this.negative===0&&d.negative!==0?(w=this.divmod(d.neg(),v),v!=="mod"&&(m=w.div.neg()),{div:m,mod:w.mod}):(this.negative&d.negative)!==0?(w=this.neg().divmod(d.neg(),v),v!=="div"&&(S=w.mod.neg(),g&&S.negative!==0&&S.isub(d)),{div:w.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new i(0),mod:this}:d.length===1?v==="div"?{div:this.divn(d.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new i(this.modn(d.words[0]))}:this._wordDiv(d,v)},i.prototype.div=function(d){return this.divmod(d,"div",!1).div},i.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},i.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},i.prototype.divRound=function(d){var v=this.divmod(d);if(v.mod.isZero())return v.div;var g=v.div.negative!==0?v.mod.isub(d):v.mod,m=d.ushrn(1),S=d.andln(1),w=g.cmp(m);return w<0||S===1&&w===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modn=function(d){r(d<=67108863);for(var v=(1<<26)%d,g=0,m=this.length-1;m>=0;m--)g=(v*g+(this.words[m]|0))%d;return g},i.prototype.idivn=function(d){r(d<=67108863);for(var v=0,g=this.length-1;g>=0;g--){var m=(this.words[g]|0)+v*67108864;this.words[g]=m/d|0,v=m%d}return this.strip()},i.prototype.divn=function(d){return this.clone().idivn(d)},i.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=new i(0),R=new i(1),T=0;v.isEven()&&g.isEven();)v.iushrn(1),g.iushrn(1),++T;for(var b=g.clone(),x=v.clone();!v.isZero();){for(var P=0,L=1;(v.words[0]&L)===0&&P<26;++P,L<<=1);if(P>0)for(v.iushrn(P);P-- >0;)(m.isOdd()||S.isOdd())&&(m.iadd(b),S.isub(x)),m.iushrn(1),S.iushrn(1);for(var V=0,W=1;(g.words[0]&W)===0&&V<26;++V,W<<=1);if(V>0)for(g.iushrn(V);V-- >0;)(w.isOdd()||R.isOdd())&&(w.iadd(b),R.isub(x)),w.iushrn(1),R.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(w),S.isub(R)):(g.isub(v),w.isub(m),R.isub(S))}return{a:w,b:R,gcd:g.iushln(T)}},i.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var v=this,g=d.clone();v.negative!==0?v=v.umod(d):v=v.clone();for(var m=new i(1),S=new i(0),w=g.clone();v.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,T=1;(v.words[0]&T)===0&&R<26;++R,T<<=1);if(R>0)for(v.iushrn(R);R-- >0;)m.isOdd()&&m.iadd(w),m.iushrn(1);for(var b=0,x=1;(g.words[0]&x)===0&&b<26;++b,x<<=1);if(b>0)for(g.iushrn(b);b-- >0;)S.isOdd()&&S.iadd(w),S.iushrn(1);v.cmp(g)>=0?(v.isub(g),m.isub(S)):(g.isub(v),S.isub(m))}var P;return v.cmpn(1)===0?P=m:P=S,P.cmpn(0)<0&&P.iadd(d),P},i.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var v=this.clone(),g=d.clone();v.negative=0,g.negative=0;for(var m=0;v.isEven()&&g.isEven();m++)v.iushrn(1),g.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;g.isEven();)g.iushrn(1);var S=v.cmp(g);if(S<0){var w=v;v=g,g=w}else if(S===0||g.cmpn(1)===0)break;v.isub(g)}while(!0);return g.iushln(m)},i.prototype.invm=function(d){return this.egcd(d).a.umod(d)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(d){return this.words[0]&d},i.prototype.bincn=function(d){r(typeof d=="number");var v=d%26,g=(d-v)/26,m=1<<v;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var S=m,w=g;S!==0&&w<this.length;w++){var R=this.words[w]|0;R+=S,S=R>>>26,R&=67108863,this.words[w]=R}return S!==0&&(this.words[w]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(d){var v=d<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var g;if(this.length>1)g=1;else{v&&(d=-d),r(d<=67108863,"Number is too big");var m=this.words[0]|0;g=m===d?0:m<d?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var v=this.ucmp(d);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var v=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,S=d.words[g]|0;if(m!==S){m<S?v=-1:m>S&&(v=1);break}}return v},i.prototype.gtn=function(d){return this.cmpn(d)===1},i.prototype.gt=function(d){return this.cmp(d)===1},i.prototype.gten=function(d){return this.cmpn(d)>=0},i.prototype.gte=function(d){return this.cmp(d)>=0},i.prototype.ltn=function(d){return this.cmpn(d)===-1},i.prototype.lt=function(d){return this.cmp(d)===-1},i.prototype.lten=function(d){return this.cmpn(d)<=0},i.prototype.lte=function(d){return this.cmp(d)<=0},i.prototype.eqn=function(d){return this.cmpn(d)===0},i.prototype.eq=function(d){return this.cmp(d)===0},i.red=function(d){return new H(d)},i.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(d){return this.red=d,this},i.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},i.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},i.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},i.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},i.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},i.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},i.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},i.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var F={k256:null,p224:null,p192:null,p25519:null};function B(C,d){this.name=C,this.p=new i(d,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var d=new i(null);return d.words=new Array(Math.ceil(this.n/13)),d},B.prototype.ireduce=function(d){var v=d,g;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),g=v.bitLength();while(g>this.n);var m=g<this.n?-1:v.ucmp(this.p);return m===0?(v.words[0]=0,v.length=1):m>0?v.isub(this.p):v.strip(),v},B.prototype.split=function(d,v){d.iushrn(this.n,0,v)},B.prototype.imulK=function(d){return d.imul(this.k)};function E(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(E,B),E.prototype.split=function(d,v){for(var g=4194303,m=Math.min(d.length,9),S=0;S<m;S++)v.words[S]=d.words[S];if(v.length=m,d.length<=9){d.words[0]=0,d.length=1;return}var w=d.words[9];for(v.words[v.length++]=w&g,S=10;S<d.length;S++){var R=d.words[S]|0;d.words[S-10]=(R&g)<<4|w>>>22,w=R}w>>>=22,d.words[S-10]=w,w===0&&d.length>10?d.length-=10:d.length-=9},E.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var v=0,g=0;g<d.length;g++){var m=d.words[g]|0;v+=m*977,d.words[g]=v&67108863,v=m*64+(v/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function I(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(I,B);function U(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(U,B);function N(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(N,B),N.prototype.imulK=function(d){for(var v=0,g=0;g<d.length;g++){var m=(d.words[g]|0)*19+v,S=m&67108863;m>>>=26,d.words[g]=S,v=m}return v!==0&&(d.words[d.length++]=v),d},i._prime=function(d){if(F[d])return F[d];var v;if(d==="k256")v=new E;else if(d==="p224")v=new I;else if(d==="p192")v=new U;else if(d==="p25519")v=new N;else throw new Error("Unknown prime "+d);return F[d]=v,v};function H(C){if(typeof C=="string"){var d=i._prime(C);this.m=d.p,this.prime=d}else r(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}H.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},H.prototype._verify2=function(d,v){r((d.negative|v.negative)===0,"red works only with positives"),r(d.red&&d.red===v.red,"red works only with red numbers")},H.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},H.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},H.prototype.add=function(d,v){this._verify2(d,v);var g=d.add(v);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},H.prototype.iadd=function(d,v){this._verify2(d,v);var g=d.iadd(v);return g.cmp(this.m)>=0&&g.isub(this.m),g},H.prototype.sub=function(d,v){this._verify2(d,v);var g=d.sub(v);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},H.prototype.isub=function(d,v){this._verify2(d,v);var g=d.isub(v);return g.cmpn(0)<0&&g.iadd(this.m),g},H.prototype.shl=function(d,v){return this._verify1(d),this.imod(d.ushln(v))},H.prototype.imul=function(d,v){return this._verify2(d,v),this.imod(d.imul(v))},H.prototype.mul=function(d,v){return this._verify2(d,v),this.imod(d.mul(v))},H.prototype.isqr=function(d){return this.imul(d,d.clone())},H.prototype.sqr=function(d){return this.mul(d,d)},H.prototype.sqrt=function(d){if(d.isZero())return d.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(d,g)}for(var m=this.m.subn(1),S=0;!m.isZero()&&m.andln(1)===0;)S++,m.iushrn(1);r(!m.isZero());var w=new i(1).toRed(this),R=w.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,T).cmp(R)!==0;)b.redIAdd(R);for(var x=this.pow(b,m),P=this.pow(d,m.addn(1).iushrn(1)),L=this.pow(d,m),V=S;L.cmp(w)!==0;){for(var W=L,ee=0;W.cmp(w)!==0;ee++)W=W.redSqr();r(ee<V);var ae=this.pow(x,new i(1).iushln(V-ee-1));P=P.redMul(ae),x=ae.redSqr(),L=L.redMul(x),V=ee}return P},H.prototype.invm=function(d){var v=d._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},H.prototype.pow=function(d,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return d.clone();var g=4,m=new Array(1<<g);m[0]=new i(1).toRed(this),m[1]=d;for(var S=2;S<m.length;S++)m[S]=this.mul(m[S-1],d);var w=m[0],R=0,T=0,b=v.bitLength()%26;for(b===0&&(b=26),S=v.length-1;S>=0;S--){for(var x=v.words[S],P=b-1;P>=0;P--){var L=x>>P&1;if(w!==m[0]&&(w=this.sqr(w)),L===0&&R===0){T=0;continue}R<<=1,R|=L,T++,!(T!==g&&(S!==0||P!==0))&&(w=this.mul(w,m[R]),T=0,R=0)}b=26}return w},H.prototype.convertTo=function(d){var v=d.umod(this.m);return v===d?v.clone():v},H.prototype.convertFrom=function(d){var v=d.clone();return v.red=null,v},i.mont=function(d){return new D(d)};function D(C){H.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,H),D.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},D.prototype.convertFrom=function(d){var v=this.imod(d.mul(this.rinv));return v.red=null,v},D.prototype.imul=function(d,v){if(d.isZero()||v.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.mul=function(d,v){if(d.isZero()||v.isZero())return new i(0)._forceRed(this);var g=d.mul(v),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=g.isub(m).iushrn(this.shift),w=S;return S.cmp(this.m)>=0?w=S.isub(this.m):S.cmpn(0)<0&&(w=S.iadd(this.m)),w._forceRed(this)},D.prototype.invm=function(d){var v=this.imod(d._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof jA>"u"||jA,ez)});var hs=$((Ust,rz)=>{k();M();var Gr=KA(),VA=Ar(),tz=Er(),H4=function(t){for(var e=A.Buffer.alloc(t.length),r=0;r<t.length;r++)e[r]=t[t.length-1-r];return e};Gr.Zero=new Gr(0);Gr.One=new Gr(1);Gr.Minus1=new Gr(-1);Gr.fromNumber=function(t){return VA.checkArgument(tz.isNumber(t)),new Gr(t)};Gr.fromString=function(t,e){return VA.checkArgument(tz.isString(t)),new Gr(t,e)};Gr.fromBuffer=function(t,e){typeof e<"u"&&e.endian==="little"&&(t=H4(t));var r=t.toString("hex"),n=new Gr(r,16);return n};Gr.fromSM=function(t,e){var r;if(t.length===0)return Gr.fromBuffer(A.Buffer.from([0]));var n="big";return e&&(n=e.endian),n==="little"&&(t=H4(t)),t[0]&128?(t[0]=t[0]&127,r=Gr.fromBuffer(t),r.neg().copy(r)):r=Gr.fromBuffer(t),r};Gr.prototype.toNumber=function(){return parseInt(this.toString(10),10)};Gr.prototype.toBuffer=function(t){var e,r;if(t&&t.size){r=this.toString(16,2);var n=r.length/2;e=A.Buffer.from(r,"hex"),n===t.size?e=e:n>t.size?e=Gr.trim(e,n):n<t.size&&(e=Gr.pad(e,n,t.size))}else r=this.toString(16,2),e=A.Buffer.from(r,"hex");return typeof t<"u"&&t.endian==="little"&&(e=H4(e)),e};Gr.prototype.toSMBigEndian=function(){var t;return this.cmp(Gr.Zero)===-1?(t=this.neg().toBuffer(),t[0]&128?t=A.Buffer.concat([A.Buffer.from([128]),t]):t[0]=t[0]|128):(t=this.toBuffer(),t[0]&128&&(t=A.Buffer.concat([A.Buffer.from([0]),t]))),t.length===1&t[0]===0&&(t=A.Buffer.from([])),t};Gr.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return e==="little"&&(r=H4(r)),r};Gr.fromScriptNumBuffer=function(t,e,r){var n=r||4;if(VA.checkArgument(t.length<=n,new Error("script number overflow")),e&&t.length>0&&(t[t.length-1]&127)===0&&(t.length<=1||(t[t.length-2]&128)===0))throw new Error("non-minimally encoded script number");return Gr.fromSM(t,{endian:"little"})};Gr.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})};Gr.trim=function(t,e){return t.slice(e-t.length,t.length)};Gr.pad=function(t,e,r){for(var n=A.Buffer.alloc(r),i=0;i<t.length;i++)n[n.length-1-i]=t[t.length-1-i];for(i=0;i<r-e;i++)n[i]=0;return n};rz.exports=Gr});var bc=$(($st,iz)=>{k();M();var j9=Er(),nz=Ar(),B4e=On(),k5=hs(),hi=function t(e){if(!(this instanceof t))return new t(e);if(!j9.isUndefined(e))if(A.Buffer.isBuffer(e))this.set({buf:e});else if(j9.isString(e))this.set({buf:A.Buffer.from(e,"hex")});else if(j9.isObject(e)){var r=e;this.set(r)}else throw new TypeError("Unrecognized argument for BufferReader")};hi.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this};hi.prototype.eof=function(){return this.buf?this.pos>=this.buf.length:!0};hi.prototype.finished=hi.prototype.eof;hi.prototype.read=function(t){nz.checkArgument(!j9.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e};hi.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t};hi.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t};hi.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t};hi.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t};hi.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t};hi.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t};hi.prototype.readInt32LE=function(){var t=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,t};hi.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=k5.fromBuffer(t);return this.pos=this.pos+8,e};hi.prototype.readUInt64LEBN=function(){var t=this.buf.readUInt32LE(this.pos),e=this.buf.readUInt32LE(this.pos+4),r=e*4294967296+t,n;if(r<=9007199254740991)n=new k5(r);else{var i=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);n=new k5(i,10,"le")}return this.pos=this.pos+8,n};hi.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN(),r=e.toNumber();if(r<=Math.pow(2,53))return r;throw new Error("number too large to retain precision - use readVarintBN");default:return t}};hi.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return nz.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e};hi.prototype.readVarintBuf=function(){var t=this.buf.readUInt8(this.pos);switch(t){case 253:return this.read(1+2);case 254:return this.read(1+4);case 255:return this.read(1+8);default:return this.read(1)}};hi.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new k5(this.readUInt16LE());case 254:return new k5(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new k5(t)}};hi.prototype.reverse=function(){for(var t=A.Buffer.alloc(this.buf.length),e=0;e<t.length;e++)t[e]=this.buf[this.buf.length-1-e];return this.buf=t,this};hi.prototype.readReverse=function(t){j9.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,B4e.reverse(e)};iz.exports=hi});var az=$((Vst,oz)=>{k();M();var GA=og().Buffer,C4e=9007199254740991;function zA(t){if(t<0||t>C4e||t%1!==0)throw new RangeError("value out of range")}function K9(t,e,r){if(zA(t),e||(e=GA.allocUnsafe(sz(t))),!GA.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),K9.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),K9.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),K9.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),K9.bytes=9),e}function V9(t,e){if(!GA.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return V9.bytes=1,r;if(r===253)return V9.bytes=3,t.readUInt16LE(e+1);if(r===254)return V9.bytes=5,t.readUInt32LE(e+1);V9.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return zA(s),s}function sz(t){return zA(t),t<253?1:t<=65535?3:t<=4294967295?5:9}oz.exports={encode:K9,decode:V9,encodingLength:sz}});var z9=$(ot=>{k();M();var k4e=ot&&ot.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M4e=ot&&ot.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R4e=ot&&ot.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k4e(e,t,r);return M4e(e,t),e},N4e=ot&&ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ot,"__esModule",{value:!0});ot.getBackTraceInfoSearch=ot.getBackTraceInfo=ot.getTxHeaderCheck=ot.txToTxHeaderCheck=ot.txToTxHeaderTiny=ot.txToTxHeaderPartial=ot.txToTxHeader=ot.tokenAmountToByteString=ot.intArrayToByteString=ot.emptyTokenAmountArray=ot.emptyBigIntArray=ot.emptyTokenArray=ot.emptyFixedArray=void 0;var F4e=N4e(bc()),Yr=Sr(),WA=R4e(az()),M5=Pn(),G9=(0,Yr.toByteString)(""),H4e=function(){return(0,Yr.fill)(G9,M5.MAX_INPUT)};ot.emptyFixedArray=H4e;var D4e=function(){return(0,Yr.fill)(G9,M5.MAX_TOKEN_OUTPUT)};ot.emptyTokenArray=D4e;var U4e=function(){return(0,Yr.fill)(0n,M5.MAX_INPUT)};ot.emptyBigIntArray=U4e;var L4e=function(){return(0,Yr.fill)(0n,M5.MAX_TOKEN_OUTPUT)};ot.emptyTokenAmountArray=L4e;var q4e=function(t){let e=(0,ot.emptyFixedArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,Yr.int2ByteString)(n)}return e};ot.intArrayToByteString=q4e;var $4e=function(t){let e=(0,ot.emptyTokenArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,Yr.int2ByteString)(n)}return e};ot.tokenAmountToByteString=$4e;var j4e=function(t){let e=(0,F4e.default)(t.toBuffer(!0)),r=e.read(4),n=e.readVarintNum(),i=(0,ot.emptyFixedArray)(),s=(0,ot.emptyFixedArray)(),o=(0,ot.emptyFixedArray)(),a=(0,ot.emptyFixedArray)();for(let l=0;l<n;l++){let y=e.read(32),_=e.read(4);if(e.readVarLengthBuffer().length>0)throw Error(`input ${l} unlocking script need eq 0`);let F=e.read(4);i[l]=(0,Yr.toHex)(y),s[l]=(0,Yr.toHex)(_),o[l]=(0,Yr.toByteString)("00"),a[l]=(0,Yr.toHex)(F)}let u=e.readVarintNum(),c=(0,ot.emptyFixedArray)(),h=(0,ot.emptyFixedArray)(),f=(0,ot.emptyFixedArray)();for(let l=0;l<u;l++){let y=e.read(8),_=e.readVarintNum(),O=e.read(_);c[l]=(0,Yr.toHex)(y),h[l]=(0,Yr.toHex)(WA.encode(_)),f[l]=(0,Yr.toHex)(O)}let p=e.read(4);return{version:(0,Yr.toHex)(r),inputCount:(0,Yr.toHex)(WA.encode(n)),inputTxhashList:i,inputOutputIndexList:s,inputScriptList:o,inputSequenceList:a,outputCount:(0,Yr.toHex)(WA.encode(u)),outputSatoshisList:c,outputScriptLenList:h,outputScriptList:f,nLocktime:(0,Yr.toHex)(p)}};ot.txToTxHeader=j4e;var K4e=function(t){let e=(0,ot.emptyFixedArray)();for(let i=0;i<e.length;i++)e[i]=t.inputTxhashList[i]+t.inputOutputIndexList[i]+t.inputScriptList[i]+t.inputSequenceList[i];let r=(0,ot.emptyFixedArray)(),n=(0,ot.emptyFixedArray)();for(let i=0;i<r.length;i++)r[i]=t.outputSatoshisList[i],n[i]=t.outputScriptList[i];return{version:t.version,inputCount:t.inputCount,inputs:e,outputCountVal:(0,Yr.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:r,outputScriptList:n,nLocktime:t.nLocktime}};ot.txToTxHeaderPartial=K4e;var V4e=function(t){let e=(0,Yr.toByteString)(""),r=(0,ot.emptyFixedArray)();for(let a=0;a<r.length;a++)e+=t.inputTxhashList[a]+t.inputOutputIndexList[a]+t.inputScriptList[a]+t.inputSequenceList[a];let n=(0,Yr.fill)(G9,4),i=t.version+t.inputCount+e+t.outputCount;for(let a=0;a<4;a++){let u=a*80*2,c=u+80*2;n[a]=i.slice(u,c)}let s=(0,ot.emptyFixedArray)(),o=(0,ot.emptyFixedArray)();for(let a=0;a<s.length;a++)s[a]=t.outputSatoshisList[a],o[a]=t.outputScriptList[a];return{prevList:n,outputCountVal:(0,Yr.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:s,outputScriptList:o,nLocktime:t.nLocktime}};ot.txToTxHeaderTiny=V4e;var G4e=function(t){let e=(0,Yr.toByteString)(""),r=(0,ot.emptyFixedArray)();for(let s=0;s<r.length;s++)e+=t.inputTxhashList[s]+t.inputOutputIndexList[s]+t.inputScriptList[s]+t.inputSequenceList[s];let n=(0,Yr.fill)(G9,M5.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER),i=(0,Yr.fill)(G9,M5.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER);for(let s=0;s<n.length;s++)n[s]=t.outputSatoshisList[s],i[s]=t.outputScriptList[s];return{prev:t.version+t.inputCount+e+t.outputCount,outputCountVal:(0,Yr.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:n,outputScriptList:i,nLocktime:t.nLocktime}};ot.txToTxHeaderCheck=G4e;var z4e=function(t,e){let r=(0,ot.txToTxHeader)(t),n=A.Buffer.alloc(4,0);return n.writeUInt32LE(e),{tx:(0,ot.txToTxHeaderCheck)(r),outputBytes:n.toString("hex"),outputIndex:BigInt(e),outputPre:r.outputSatoshisList[e]+r.outputScriptLenList[e]}};ot.getTxHeaderCheck=z4e;var W4e=function(t,e,r){let n=(0,ot.txToTxHeader)(t),i=(0,ot.txToTxHeader)(e),s=(0,ot.txToTxHeaderPartial)(n),o=(0,ot.txToTxHeaderTiny)(i),a={txhash:n.inputTxhashList[r],outputIndex:n.inputOutputIndexList[r],outputIndexVal:(0,Yr.byteString2Int)(n.inputOutputIndexList[r]),sequence:n.inputSequenceList[r]};return{preTx:s,preTxInput:a,preTxInputIndex:BigInt(r),prePreTx:o}};ot.getBackTraceInfo=W4e;var Y4e=function(t,e,r,n){let i=-1;for(let h=0;h<t.inputs.length;h++){let p=t.inputs[h].output.script.toBuffer().toString("hex");if(p==r||p==n){i=h;break}}if(i==-1)throw new Error("not find prev");let s=(0,ot.txToTxHeader)(t),o=(0,ot.txToTxHeader)(e),a=(0,ot.txToTxHeaderPartial)(s),u=(0,ot.txToTxHeaderTiny)(o),c={txhash:s.inputTxhashList[i],outputIndex:s.inputOutputIndexList[i],outputIndexVal:(0,Yr.byteString2Int)(s.inputOutputIndexList[i]),sequence:s.inputSequenceList[i]};return{preTx:a,preTxInput:c,preTxInputIndex:BigInt(i),prePreTx:u}};ot.getBackTraceInfoSearch=Y4e});var Y9=$(Ul=>{k();M();var X4e=Ul&&Ul.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},YA=Ul&&Ul.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.GuardProto=void 0;var W9=Sr(),uz=z9(),Z4e=Pn(),R5=class extends W9.SmartContractLib{static stateHash(e){let r=e.tokenScript;for(let n=0;n<Z4e.MAX_INPUT;n++)r+=(0,W9.int2ByteString)(e.inputTokenAmountArray[n]);return(0,W9.hash160)(r)}static toByteString(e){return R5.toList(e).join("")}static createEmptyState(){return{tokenScript:(0,W9.toByteString)(""),inputTokenAmountArray:(0,uz.emptyBigIntArray)()}}static toList(e){return[e.tokenScript,...(0,uz.intArrayToByteString)(e.inputTokenAmountArray)]}};Ul.GuardProto=R5;X4e([(0,W9.method)(),YA("design:type",Function),YA("design:paramtypes",[Object]),YA("design:returntype",String)],R5,"stateHash",null)});var N5=$(Ll=>{k();M();var Z9=Ll&&Ll.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},vo=Ll&&Ll.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.TxProof=void 0;var yn=Sr(),X9=Pn(),O0=class extends yn.SmartContractLib{static getTxIdFromPreimg1(e){let r=e.version+e.inputCount;for(let n=0;n<X9.MAX_INPUT;n++)r+=e.inputs[n];r+=e.outputCount,(0,yn.assert)((0,yn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<X9.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,yn.int2ByteString)((0,yn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,yn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg2(e){let r=(0,yn.toByteString)("");for(let n=0;n<X9.XRAYED_TXID_PREIMG2_PREVLIST_LEN;n++)r+=e.prevList[n];(0,yn.assert)((0,yn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<X9.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,yn.int2ByteString)((0,yn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,yn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg3(e){(0,yn.assert)((0,yn.int2ByteString)(e.outputCountVal)==e.outputCount);let r=(0,yn.toByteString)("");for(let n=0;n<X9.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,yn.int2ByteString)((0,yn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,yn.hash256)(e.prev+r+e.nLocktime)}static mergeInput(e){return e.txhash+e.outputIndex+(0,yn.toByteString)("00")+e.sequence}static verifyOutput(e,r,n,i){return(0,yn.assert)(O0.getTxIdFromPreimg2(e)==r),(0,yn.assert)(e.outputScriptList[Number(n)]==i),!0}};Ll.TxProof=O0;Z9([(0,yn.method)(),vo("design:type",Function),vo("design:paramtypes",[Object]),vo("design:returntype",String)],O0,"getTxIdFromPreimg1",null);Z9([(0,yn.method)(),vo("design:type",Function),vo("design:paramtypes",[Object]),vo("design:returntype",String)],O0,"getTxIdFromPreimg2",null);Z9([(0,yn.method)(),vo("design:type",Function),vo("design:paramtypes",[Object]),vo("design:returntype",String)],O0,"getTxIdFromPreimg3",null);Z9([(0,yn.method)(),vo("design:type",Function),vo("design:paramtypes",[Object]),vo("design:returntype",String)],O0,"mergeInput",null);Z9([(0,yn.method)(),vo("design:type",Function),vo("design:paramtypes",[Object,String,BigInt,String]),vo("design:returntype",Boolean)],O0,"verifyOutput",null)});var ia=$($l=>{k();M();var F5=$l&&$l.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ls=$l&&$l.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty($l,"__esModule",{value:!0});$l.StateUtils=void 0;var si=Sr(),ql=Pn(),J4e=N5(),_o=class extends si.SmartContractLib{static verifyStateRoot(e,r){let n=(0,si.toByteString)("");for(let i=0;i<ql.MAX_STATE;i++)n+=(0,si.hash160)(e[i]);return(0,si.hash160)(n)==r}static getPadding(e){let r=BigInt(ql.MAX_STATE)-e,n=(0,si.toByteString)("");for(let i=0;i<ql.MAX_STATE;i++)i<r&&(n+=(0,si.hash160)((0,si.toByteString)("")));return n}static getStateScript(e,r){return ql.TxUtil.getStateScript((0,si.hash160)((0,si.hash160)(e)+_o.getPadding(r)))}static getCurrentStateOutput(e,r,n){let i=(0,si.hash160)(e+_o.getPadding(r));return(0,si.assert)(_o.verifyStateRoot(n,i)),ql.TxUtil.buildOpReturnRoot(ql.TxUtil.getStateScript(i))}static verifyPreStateHash(e,r,n,i){return(0,si.assert)(ql.TxUtil.getStateScript(e.statesHashRoot)==n,"preStateHashRoot mismatch"),(0,si.assert)(_o.verifyStateRoot(e.txoStateHashes,e.statesHashRoot),"preData error"),(0,si.assert)(r==e.txoStateHashes[Number(i-1n)],"preState hash mismatch"),!0}static verifyGuardStateHash(e,r,n){return(0,si.assert)(J4e.TxProof.getTxIdFromPreimg3(e)==r,"preTxHeader error"),(0,si.assert)(_o.getStateScript(n,1n)==e.outputScriptList[ql.STATE_OUTPUT_INDEX],"preStateHashRoot mismatch"),!0}};$l.StateUtils=_o;F5([(0,si.method)(),ls("design:type",Function),ls("design:paramtypes",[Object,String]),ls("design:returntype",Boolean)],_o,"verifyStateRoot",null);F5([(0,si.method)(),ls("design:type",Function),ls("design:paramtypes",[BigInt]),ls("design:returntype",String)],_o,"getPadding",null);F5([(0,si.method)(),ls("design:type",Function),ls("design:paramtypes",[String,BigInt]),ls("design:returntype",String)],_o,"getStateScript",null);F5([(0,si.method)(),ls("design:type",Function),ls("design:paramtypes",[String,BigInt,Object]),ls("design:returntype",String)],_o,"getCurrentStateOutput",null);F5([(0,si.method)(),ls("design:type",Function),ls("design:paramtypes",[Object,String,String,BigInt]),ls("design:returntype",Boolean)],_o,"verifyPreStateHash",null);F5([(0,si.method)(),ls("design:type",Function),ls("design:paramtypes",[Object,String,String]),ls("design:returntype",Boolean)],_o,"verifyGuardStateHash",null)});var JA=$(jl=>{k();M();var Q4e=jl&&jl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},XA=jl&&jl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(jl,"__esModule",{value:!0});jl.BurnGuard=void 0;var yc=Sr(),ZA=na(),D4=Pn(),e8e=Y9(),t8e=ia(),U4=class extends yc.SmartContract{burn(e,r,n,i,s,o,a){(0,yc.assert)(this.checkSig(ZA.SigHashUtils.checkSHPreimage(o),ZA.SigHashUtils.Gx),"preimage check error"),ZA.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),t8e.StateUtils.verifyGuardStateHash(s,a.spentTxhash,e8e.GuardProto.stateHash(i));let u=(0,yc.toByteString)(""),c=(0,yc.toByteString)("");for(let p=0;p<D4.MAX_STATE;p++){let l=r[p];(0,yc.assert)(l!=i.tokenScript),u+=(0,yc.hash160)(e[p]),(0,yc.len)(l)>0&&(c+=D4.TxUtil.buildOutput(l,n[p]))}let h=D4.TxUtil.buildOpReturnRoot(D4.TxUtil.getStateScript((0,yc.hash160)(u))),f=(0,yc.sha256)(h+c);(0,yc.assert)(f==o.hashOutputs,"hashOutputs mismatch")}};jl.BurnGuard=U4;Q4e([(0,yc.method)(),XA("design:type",Function),XA("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),XA("design:returntype",void 0)],U4.prototype,"burn",null)});var B0=$(Kl=>{k();M();var fz=Kl&&Kl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},D5=Kl&&Kl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.Backtrace=void 0;var vc=Sr(),H5=N5(),cz=Pn(),J9=class extends vc.SmartContractLib{static verifyUnique(e,r,n,i){return(0,vc.assert)(e==H5.TxProof.getTxIdFromPreimg1(r.preTx)),(0,vc.assert)(H5.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,vc.assert)(cz.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),r.preTxInput.txhash+r.preTxInput.outputIndex!=n&&H5.TxProof.verifyOutput(r.prePreTx,r.preTxInput.txhash,r.preTxInput.outputIndexVal,i),!0}static verifyToken(e,r,n,i){(0,vc.assert)(e==H5.TxProof.getTxIdFromPreimg1(r.preTx)),(0,vc.assert)(H5.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,vc.assert)(cz.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),(0,vc.assert)(H5.TxProof.getTxIdFromPreimg2(r.prePreTx)==r.preTxInput.txhash);let s=r.prePreTx.outputScriptList[Number(r.preTxInput.outputIndexVal)],o=s==n,a=s==i;return(0,vc.assert)(o||a),!0}};Kl.Backtrace=J9;fz([(0,vc.method)(),D5("design:type",Function),D5("design:paramtypes",[String,Object,String,String]),D5("design:returntype",Boolean)],J9,"verifyUnique",null);fz([(0,vc.method)(),D5("design:type",Function),D5("design:paramtypes",[String,Object,String,String]),D5("design:returntype",Boolean)],J9,"verifyToken",null)});var tI=$(Vl=>{k();M();var r8e=Vl&&Vl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},QA=Vl&&Vl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.ClosedMinterProto=void 0;var eI=Sr(),L4=class extends eI.SmartContractLib{static stateHash(e){return(0,eI.hash160)(e.tokenScript)}};Vl.ClosedMinterProto=L4;r8e([(0,eI.method)(),QA("design:type",Function),QA("design:paramtypes",[Object]),QA("design:returntype",String)],L4,"stateHash",null)});var U5=$(Gl=>{k();M();var n8e=Gl&&Gl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},rI=Gl&&Gl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Gl,"__esModule",{value:!0});Gl.CAT20Proto=void 0;var o1=Sr(),i8e=Pn(),q4=class extends o1.SmartContractLib{static stateHash(e){return(0,o1.assert)((0,o1.len)(e.ownerAddr)==i8e.ADDRESS_HASH_LEN),(0,o1.hash160)(e.ownerAddr+(0,o1.int2ByteString)(e.amount))}static create(e,r){return{amount:e,ownerAddr:r}}static toByteString(e){return e.ownerAddr+(0,o1.int2ByteString)(e.amount)}};Gl.CAT20Proto=q4;n8e([(0,o1.method)(),rI("design:type",Function),rI("design:paramtypes",[Object]),rI("design:returntype",String)],q4,"stateHash",null)});var iI=$(zl=>{k();M();var nI=zl&&zl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Q9=zl&&zl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(zl,"__esModule",{value:!0});zl.ClosedMinter=void 0;var sa=Sr(),L5=Pn(),$4=na(),s8e=B0(),o8e=tI(),hz=ia(),a8e=U5(),q5=class extends sa.SmartContract{constructor(e,r){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y){(0,sa.assert)(this.checkSig($4.SigHashUtils.checkSHPreimage(f),$4.SigHashUtils.Gx),"preimage check error"),$4.SigHashUtils.checkPrevoutsCtx(p,f.hashPrevouts,f.inputIndex),$4.SigHashUtils.checkSpentScriptsCtx(l,f.hashSpentScripts),hz.StateUtils.verifyPreStateHash(c,o8e.ClosedMinterProto.stateHash(u),h.preTx.outputScriptList[L5.STATE_OUTPUT_INDEX],p.outputIndexVal);let _=l[Number(p.inputIndexVal)];s8e.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,_);let O=(0,sa.toByteString)(""),F=(0,sa.toByteString)(""),B=0n;o!=L5.TxUtil.ZEROSAT&&(F=L5.TxUtil.buildOutput(_,o),O+=(0,sa.hash160)(c.txoStateHashes[Number(p.outputIndexVal)-L5.STATE_OUTPUT_OFFSET]),B+=1n),O+=(0,sa.hash160)(a8e.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let E=L5.TxUtil.buildOutput(u.tokenScript,a);B+=1n;let I=hz.StateUtils.getCurrentStateOutput(O,B,e),U=L5.TxUtil.getChangeOutput(y),N=(0,sa.sha256)(I+F+E+U);(0,sa.assert)(N==f.hashOutputs,"hashOutputs mismatch"),(0,sa.assert)(this.issuerAddress==(0,sa.hash160)(n+i)),(0,sa.assert)(this.checkSig(s,i))}};zl.ClosedMinter=q5;nI([(0,sa.prop)(),Q9("design:type",String)],q5.prototype,"issuerAddress",void 0);nI([(0,sa.prop)(),Q9("design:type",String)],q5.prototype,"genesisOutpoint",void 0);nI([(0,sa.method)(),Q9("design:type",Function),Q9("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),Q9("design:returntype",void 0)],q5.prototype,"mint",null)});var oI=$(Wl=>{k();M();var u8e=Wl&&Wl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},sI=Wl&&Wl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.OpenMinterProto=void 0;var C0=Sr(),lz=Pn(),j4=class extends C0.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,C0.toByteString)("01"):(0,C0.toByteString)("00");return(0,C0.hash160)(e.tokenScript+r+(0,C0.int2ByteString)(e.remainingSupply))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupply:n}}static toByteString(e){let r=e.isPremined?(0,C0.toByteString)("01"):(0,C0.toByteString)("00");return e.tokenScript+r+(0,C0.int2ByteString)(e.remainingSupply)}static getSplitAmountList(e,r,n,i){let s=(0,C0.fill)(0n,2);if(i>0&&i<=2){let o=e-r,a=(0,lz.Int32)(i)*n,u=o/a*n,c=o-u*(0,lz.Int32)(i);s[0]=u+c;for(let h=1;h<i;h++)s[h]=u}return s}};Wl.OpenMinterProto=j4;u8e([(0,C0.method)(),sI("design:type",Function),sI("design:paramtypes",[Object]),sI("design:returntype",String)],j4,"stateHash",null)});var aI=$(_c=>{k();M();var $5=_c&&_c.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Yl=_c&&_c.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(_c,"__esModule",{value:!0});_c.OpenMinter=_c.MAX_NEXT_MINTERS=void 0;var zn=Sr(),K4=Pn(),V4=na(),c8e=B0(),dz=ia(),f8e=U5(),pz=oI();_c.MAX_NEXT_MINTERS=2;var Uf=class extends zn.SmartContract{constructor(e,r,n,i,s){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.limit=i,this.premineAddr=s}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_){(0,zn.assert)(this.checkSig(V4.SigHashUtils.checkSHPreimage(p),V4.SigHashUtils.Gx),"preimage check error"),V4.SigHashUtils.checkPrevoutsCtx(l,p.hashPrevouts,p.inputIndex),V4.SigHashUtils.checkSpentScriptsCtx(y,p.hashSpentScripts),dz.StateUtils.verifyPreStateHash(h,pz.OpenMinterProto.stateHash(c),f.preTx.outputScriptList[K4.STATE_OUTPUT_INDEX],l.outputIndexVal);let O=y[Number(l.inputIndexVal)];c8e.Backtrace.verifyUnique(l.spentTxhash,f,this.genesisOutpoint,O);let F=(0,zn.toByteString)(""),B=(0,zn.toByteString)(""),E=0n,I=0n;for(let C=0;C<_c.MAX_NEXT_MINTERS;C++){let d=n[C];d>0n&&(I+=d,E+=1n,F+=K4.TxUtil.buildOutput(O,a),B+=(0,zn.hash160)(pz.OpenMinterProto.stateHash({tokenScript:c.tokenScript,isPremined:!0,remainingSupply:d})))}let U=(0,zn.toByteString)("");r.amount>0n&&(I+=r.amount,E+=1n,B+=(0,zn.hash160)(f8e.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr})),U=K4.TxUtil.buildOutput(c.tokenScript,u)),!c.isPremined&&this.premine>0n?((0,zn.assert)((0,zn.hash160)(i+s)==this.premineAddr),(0,zn.assert)(this.checkSig(o,s)),(0,zn.assert)(I==c.remainingSupply+this.premine),(0,zn.assert)(this.max==c.remainingSupply+this.premine),(0,zn.assert)(r.amount==this.premine)):((0,zn.assert)(I==c.remainingSupply),(0,zn.assert)(r.amount<=this.limit));let N=dz.StateUtils.getCurrentStateOutput(B,E,e),H=K4.TxUtil.getChangeOutput(_),D=(0,zn.sha256)(N+F+U+H);(0,zn.assert)(D==p.hashOutputs,"hashOutputs mismatch")}};_c.OpenMinter=Uf;$5([(0,zn.prop)(),Yl("design:type",String)],Uf.prototype,"genesisOutpoint",void 0);$5([(0,zn.prop)(),Yl("design:type",BigInt)],Uf.prototype,"max",void 0);$5([(0,zn.prop)(),Yl("design:type",BigInt)],Uf.prototype,"premine",void 0);$5([(0,zn.prop)(),Yl("design:type",BigInt)],Uf.prototype,"limit",void 0);$5([(0,zn.prop)(),Yl("design:type",String)],Uf.prototype,"premineAddr",void 0);$5([(0,zn.method)(),Yl("design:type",Function),Yl("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),Yl("design:returntype",void 0)],Uf.prototype,"mint",null)});var uI=$(Zl=>{k();M();var z4=Zl&&Zl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Xl=Zl&&Zl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.CAT20=void 0;var Os=Sr(),G4=na(),mz=Pn(),h8e=N5(),gz=ia(),l8e=U5(),d8e=Y9(),p8e=B0(),a1=class extends Os.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,o,a,u){(0,Os.assert)(this.checkSig(G4.SigHashUtils.checkSHPreimage(o),G4.SigHashUtils.Gx),"preimage check error"),G4.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),G4.SigHashUtils.checkSpentScriptsCtx(u,o.hashSpentScripts),gz.StateUtils.verifyPreStateHash(n,l8e.CAT20Proto.stateHash(r),s.preTx.outputScriptList[mz.STATE_OUTPUT_INDEX],a.outputIndexVal);let c=u[Number(a.inputIndexVal)];p8e.Backtrace.verifyToken(a.spentTxhash,s,this.minterScript,c),this.valitateGuard(i,c,r,a.inputIndexVal,a.prevouts,u),e.isUserSpend?((0,Os.assert)((0,Os.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Os.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Os.assert)(r.ownerAddr==(0,Os.hash160)(u[Number(e.contractInputIndex)]))}valitateGuard(e,r,n,i,s,o){let a=d8e.GuardProto.stateHash(e.guardState);(0,Os.assert)(e.guardState.tokenScript==r),(0,Os.assert)(gz.StateUtils.getStateScript(a,1n)==e.tx.outputScriptList[mz.STATE_OUTPUT_INDEX]),(0,Os.assert)(n.amount>0n),(0,Os.assert)(e.guardState.inputTokenAmountArray[Number(i)]==n.amount);let u=h8e.TxProof.getTxIdFromPreimg3(e.tx);return(0,Os.assert)(s[Number(e.inputIndexVal)]==u+e.outputIndex),(0,Os.assert)(o[Number(e.inputIndexVal)]==this.guardScript),!0}};Zl.CAT20=a1;z4([(0,Os.prop)(),Xl("design:type",String)],a1.prototype,"minterScript",void 0);z4([(0,Os.prop)(),Xl("design:type",String)],a1.prototype,"guardScript",void 0);z4([(0,Os.method)(),Xl("design:type",Function),Xl("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),Xl("design:returntype",void 0)],a1.prototype,"unlock",null);z4([(0,Os.method)(),Xl("design:type",Function),Xl("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),Xl("design:returntype",Boolean)],a1.prototype,"valitateGuard",null)});var fI=$(Jl=>{k();M();var m8e=Jl&&Jl.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},cI=Jl&&Jl.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.TransferGuard=void 0;var Ci=Sr(),W4=na(),j5=Pn(),g8e=Y9(),b8e=ia(),Y4=class extends Ci.SmartContract{transfer(e,r,n,i,s,o,a,u,c,h,f){(0,Ci.assert)(this.checkSig(W4.SigHashUtils.checkSHPreimage(c),W4.SigHashUtils.Gx),"preimage check error"),W4.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),W4.SigHashUtils.checkSpentScriptsCtx(f,c.hashSpentScripts),b8e.StateUtils.verifyGuardStateHash(u,h.spentTxhash,g8e.GuardProto.stateHash(a));let p=0n;for(let E=0;E<j5.MAX_INPUT;E++)if(f[E]==a.tokenScript){let U=p;p+=a.inputTokenAmountArray[E],(0,Ci.assert)(p>U)}let l=(0,Ci.toByteString)(""),y=(0,Ci.toByteString)(""),_=0n,O=j5.TxUtil.buildOutput(a.tokenScript,o);for(let E=0;E<j5.MAX_STATE;E++){let I=r[E];if(i[E]){let U=n[E];(0,Ci.assert)(U>0n),_=_+U,y=y+O;let N=(0,Ci.hash160)((0,Ci.hash160)(I+(0,Ci.int2ByteString)(U)));(0,Ci.assert)((0,Ci.hash160)(e[E])==N),l+=N}else(0,Ci.assert)(I!=a.tokenScript),l+=(0,Ci.hash160)(e[E]),(0,Ci.len)(I)>0&&(y+=j5.TxUtil.buildOutput(I,s[E]))}(0,Ci.assert)(p>0n),(0,Ci.assert)(p==_);let F=j5.TxUtil.buildOpReturnRoot(j5.TxUtil.getStateScript((0,Ci.hash160)(l))),B=(0,Ci.sha256)(F+y);(0,Ci.assert)(B==c.hashOutputs,"hashOutputs mismatch")}};Jl.TransferGuard=Y4;m8e([(0,Ci.method)(),cI("design:type",Function),cI("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),cI("design:returntype",void 0)],Y4.prototype,"transfer",null)});var lI=$(Ql=>{k();M();var y8e=Ql&&Ql.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},hI=Ql&&Ql.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.OpenMinterV2Proto=void 0;var k0=Sr(),X4=class extends k0.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,k0.toByteString)("01"):(0,k0.toByteString)("00");return(0,k0.hash160)(e.tokenScript+r+(0,k0.int2ByteString)(e.remainingSupplyCount))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupplyCount:n}}static toByteString(e){let r=e.isPremined?(0,k0.toByteString)("01"):(0,k0.toByteString)("00");return e.tokenScript+r+(0,k0.int2ByteString)(e.remainingSupplyCount)}static getSplitAmountList(e,r,n){let i=e-1n;!r&&n>0n&&(i=e);let s=(0,k0.fill)(i/2n,2);return s[0]+=i-s[0]*2n,s}};Ql.OpenMinterV2Proto=X4;y8e([(0,k0.method)(),hI("design:type",Function),hI("design:paramtypes",[Object]),hI("design:returntype",String)],X4,"stateHash",null)});var dI=$(ed=>{k();M();var u1=ed&&ed.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Lf=ed&&ed.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ed,"__esModule",{value:!0});ed.OpenMinterV2=void 0;var Wn=Sr(),Z4=Pn(),J4=na(),v8e=B0(),bz=ia(),_8e=U5(),yz=lI(),x8e=2,M0=class extends Wn.SmartContract{constructor(e,r,n,i,s,o){super(...arguments),this.genesisOutpoint=e,this.maxCount=r,this.premine=n,this.premineCount=i,this.limit=s,this.premineAddr=o}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_){(0,Wn.assert)(this.checkSig(J4.SigHashUtils.checkSHPreimage(p),J4.SigHashUtils.Gx),"preimage check error"),J4.SigHashUtils.checkPrevoutsCtx(l,p.hashPrevouts,p.inputIndex),J4.SigHashUtils.checkSpentScriptsCtx(y,p.hashSpentScripts),bz.StateUtils.verifyPreStateHash(h,yz.OpenMinterV2Proto.stateHash(c),f.preTx.outputScriptList[Z4.STATE_OUTPUT_INDEX],l.outputIndexVal);let O=y[Number(l.inputIndexVal)];v8e.Backtrace.verifyUnique(l.spentTxhash,f,this.genesisOutpoint,O);let F=(0,Wn.toByteString)(""),B=(0,Wn.toByteString)(""),E=1n,I=0n;for(let C=0;C<x8e;C++){let d=n[C];d>0n&&(I+=d,E+=1n,F+=Z4.TxUtil.buildOutput(O,a),B+=(0,Wn.hash160)(yz.OpenMinterV2Proto.stateHash({tokenScript:c.tokenScript,isPremined:!0,remainingSupplyCount:d})))}B+=(0,Wn.hash160)(_8e.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let U=Z4.TxUtil.buildOutput(c.tokenScript,u);!c.isPremined&&this.premine>0n?((0,Wn.assert)((0,Wn.hash160)(i+s)==this.premineAddr),(0,Wn.assert)(this.checkSig(o,s)),(0,Wn.assert)(I==c.remainingSupplyCount),(0,Wn.assert)(this.maxCount==c.remainingSupplyCount+this.premineCount),(0,Wn.assert)(r.amount==this.premine)):(I+=1n,(0,Wn.assert)(I==c.remainingSupplyCount),(0,Wn.assert)(r.amount==this.limit));let N=bz.StateUtils.getCurrentStateOutput(B,E,e),H=Z4.TxUtil.getChangeOutput(_),D=(0,Wn.sha256)(N+F+U+H);(0,Wn.assert)(D==p.hashOutputs,"hashOutputs mismatch")}};ed.OpenMinterV2=M0;u1([(0,Wn.prop)(),Lf("design:type",String)],M0.prototype,"genesisOutpoint",void 0);u1([(0,Wn.prop)(),Lf("design:type",BigInt)],M0.prototype,"maxCount",void 0);u1([(0,Wn.prop)(),Lf("design:type",BigInt)],M0.prototype,"premine",void 0);u1([(0,Wn.prop)(),Lf("design:type",BigInt)],M0.prototype,"premineCount",void 0);u1([(0,Wn.prop)(),Lf("design:type",BigInt)],M0.prototype,"limit",void 0);u1([(0,Wn.prop)(),Lf("design:type",String)],M0.prototype,"premineAddr",void 0);u1([(0,Wn.method)(),Lf("design:type",Function),Lf("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),Lf("design:returntype",void 0)],M0.prototype,"mint",null)});var vz=$((Uot,S8e)=>{S8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"ClosedMinter",md5:"fe60c526b65695c3070dfed2a8362734",structs:[{name:"ClosedMinterState",params:[{name:"tokenScript",type:"bytes"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"ClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"genesisSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"ClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../closedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000000<ownerAddress><genesisOutpoint>78547a7572537a76537a75777701257901257901257901257901257901257901257901257901257901257901257901257901257901257960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011779011779011779011779011779011779011779011779011779011779012d790128795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5d795d795d795d795d795d790127795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015a79015a79015a79015a79015a79015a7901617976a977014b79014b79014b79014b79014b79014b7956007600a26976569f69948c766b796c756b6d6d6d6c0118795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755d0112797600a26976569f6994766b796c7560790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000161795a798764537901627978827d770122a1696e7e53797e7777777b757c5279015e79015e79015e79015e79015e7955011b798c7600a26976559f69948c766b796c756b6d6d756ca97e537a757b7b527978778b7768527901677901677978827701149d6e7ea97777a97e537a757b7b527975015f7901617978827d770122a1696e7e53797e777777788b7b757c53795279016e79016e79016e79016e79016e7956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775d795d79765e7987646e78827d770122a1696e7e53797e77777767006877777855797e53797e787ea8760128798859790169790169797ea988016679016879ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var _z=$((Lot,w8e)=>{w8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinter",md5:"21cbd2e538f2b6cc40ee180e174f1e25",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"OpenMinterState",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupply",type:"int"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"OpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterAmounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"},{name:"premine",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><max><premine><limit><premineAddr>0128790128790128790128790128790128790128790128790128790128790128790128790128790128790113795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011579787ea85279017f9f695279009c6301006752796878557952797e8801187955797e54798b7e6b6d6d6d6d6d6d6d6d6c775879ad011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79013079012b795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d607960796079607960796079012a795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015d79015d79015d79015d79015d79015d79016679016679016679786351670100685379787e52797ea96b6d6d6c014e79014e79014e79014e79014e79014e7956007600a26976569f69948c766b796c756b6d6d6d6c011b795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75600115797600a26976569f6994766b796c750113790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790135790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500000000016c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016c8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a537975687500016e7900a06378016f79937b757c52798b537a757b7b527975537901707901707978827701149d6e7ea97777a97e547a7572537a53797501667901687978827d770122a1696e7e53797e6b6d6d6c6801657964587900a067006863016b79016b797ea9577988016979016b79ad780165795a79939d59790165795a79939d016e7959799d67780165799d016e795879a169687001767901767901767901767901767956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var xz=$((qot,E8e)=>{E8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinterV2",md5:"a6c2e92d74a23c07bb6220b676c6cb9b",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"OpenMinterV2State",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupplyCount",type:"int"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"OpenMinterV2Proto",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterCounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterV2State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineCount",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinterV2.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><maxCount><premine><premineCount><limit><premineAddr>0129790129790129790129790129790129790129790129790129790129790129790129790129790129790114795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011679787ea85279017f9f695279009c6301006752796878557952797e8801197955797e54798b7e6b6d6d6d6d6d6d6d6d6c775979ad011b79011b79011b79011b79011b79011b79011b79011b79011b79011b79013179012c795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d011179011179011179011179011179011179012b795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015e79015e79015e79015e79015e79015e79016779016779016779786351670100685379787e52797ea96b6d6d6c014f79014f79014f79014f79014f79014f7956007600a26976569f69948c766b796c756b6d6d6d6c011c795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d7501110116797600a26976569f6994766b796c75011479015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a790136790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500005100016d766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016d8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875527901707901707978827701149d6e7ea97777a97e537a757b7b52797501667901687978827d770122a1696e7e53797e77777701667964597900a067006863016c79016c797ea9577988016a79016c79ad780166799d5a790166795a79939d016f795a799d67788b7b757d0166799d016f7958799d687001777901777901777901777901777956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770112790112797601137987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012d79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Sz=$(($ot,T8e)=>{T8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT20",md5:"36eb7d5819c558e74512693c33a8f309",structs:[{name:"TokenUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"GuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"GuardConstState"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"tokenUnlockArgs",type:"TokenUnlockArgs"},{name:"preState",type:"CAT20State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"GuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat20.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c01177901117988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c885e7900a069011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var wz=$((jot,A8e)=>{A8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"BurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../burnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Ez=$((Kot,I8e)=>{I8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"TransferGuard",md5:"7fc09a52492f2bd4d5f30c4f5116c0f8",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"tokenAmountList",type:"int[5]"},{name:"tokenOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../transferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d0059766b796c78770136798763787601367901367901367901367901367901367955766b796c756b6d6d6d6c93537a757b7b527975527978a06975687558766b796c78770136798763787601367901367901367901367901367901367954766b796c756b6d6d6d6c93537a757b7b527975527978a06975687557766b796c78770136798763787601367901367901367901367901367901367953766b796c756b6d6d6d6c93537a757b7b527975527978a06975687556766b796c78770136798763787601367901367901367901367901367901367952766b796c756b6d6d6d6c93537a757b7b527975527978a06975687555766b796c78770136798763787601367901367901367901367901367901367951766b796c756b6d6d6d6c93537a757b7b527975527978a06975687554766b796c78770136798763787601367901367901367901367901367901367900766b796c756b6d6d6d6c93537a757b7b527975527978a06975687500000001377901397978827d770122a1696e7e53797e777777014d766b796c750144766b796c75630149766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a90155766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a7987916954790154766b796c75a97e557a75547a547a547a547a54797877827700a0635379780141766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d8c766b796c7501448c766b796c756301498c766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901558c766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901548c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801418c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5294766b796c7501445294766b796c756301495294766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555294766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5394766b796c7501445394766b796c756301495394766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555394766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5494766b796c7501445494766b796c756301495494766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555494766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547900a069547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012279876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var mI=$(td=>{k();M();var P8e=td&&td.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},pI=td&&td.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(td,"__esModule",{value:!0});td.NftClosedMinterProto=void 0;var c1=Sr(),Q4=class extends c1.SmartContractLib{static stateHash(e){return(0,c1.hash160)(e.nftScript+(0,c1.int2ByteString)(e.quotaMaxLocalId)+(0,c1.int2ByteString)(e.nextLocalId))}static create(e,r,n){return{nftScript:e,quotaMaxLocalId:r,nextLocalId:n}}static toByteString(e){return e.nftScript+(0,c1.int2ByteString)(e.quotaMaxLocalId)+(0,c1.int2ByteString)(e.nextLocalId)}};td.NftClosedMinterProto=Q4;P8e([(0,c1.method)(),pI("design:type",Function),pI("design:paramtypes",[Object]),pI("design:returntype",String)],Q4,"stateHash",null)});var K5=$(rd=>{k();M();var O8e=rd&&rd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},gI=rd&&rd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(rd,"__esModule",{value:!0});rd.CAT721Proto=void 0;var f1=Sr(),B8e=Pn(),e8=class extends f1.SmartContractLib{static stateHash(e){return(0,f1.assert)((0,f1.len)(e.ownerAddr)==B8e.ADDRESS_HASH_LEN),(0,f1.hash160)(e.ownerAddr+(0,f1.int2ByteString)(e.localId))}static create(e,r){return{ownerAddr:e,localId:r}}static toByteString(e){return e.ownerAddr+(0,f1.int2ByteString)(e.localId)}};rd.CAT721Proto=e8;O8e([(0,f1.method)(),gI("design:type",Function),gI("design:paramtypes",[Object]),gI("design:returntype",String)],e8,"stateHash",null)});var bI=$(nd=>{k();M();var n8=nd&&nd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},V5=nd&&nd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(nd,"__esModule",{value:!0});nd.NftClosedMinter=void 0;var Bs=Sr(),t8=Pn(),r8=na(),C8e=B0(),Tz=mI(),Az=ia(),k8e=K5(),h1=class extends Bs.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y){(0,Bs.assert)(this.checkSig(r8.SigHashUtils.checkSHPreimage(f),r8.SigHashUtils.Gx),"preimage check error"),r8.SigHashUtils.checkPrevoutsCtx(p,f.hashPrevouts,f.inputIndex),r8.SigHashUtils.checkSpentScriptsCtx(l,f.hashSpentScripts),Az.StateUtils.verifyPreStateHash(c,Tz.NftClosedMinterProto.stateHash(u),h.preTx.outputScriptList[t8.STATE_OUTPUT_INDEX],p.outputIndexVal),(0,Bs.assert)(p.inputIndexVal==0n);let _=l[Number(p.inputIndexVal)];C8e.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,_);let O=(0,Bs.toByteString)(""),F=(0,Bs.toByteString)(""),B=0n;u.nextLocalId+1n<u.quotaMaxLocalId&&(F=t8.TxUtil.buildOutput(_,o),O+=(0,Bs.hash160)(Tz.NftClosedMinterProto.stateHash({nftScript:u.nftScript,quotaMaxLocalId:u.quotaMaxLocalId,nextLocalId:u.nextLocalId+1n})),B+=1n),(0,Bs.assert)(r.localId==u.nextLocalId),O+=(0,Bs.hash160)(k8e.CAT721Proto.stateHash(r));let I=t8.TxUtil.buildOutput(u.nftScript,a);B+=1n;let U=Az.StateUtils.getCurrentStateOutput(O,B,e),N=t8.TxUtil.getChangeOutput(y),H=(0,Bs.sha256)(U+F+I+N);(0,Bs.assert)(H==f.hashOutputs,"hashOutputs mismatch"),(0,Bs.assert)(this.issuerAddress==(0,Bs.hash160)(n+i)),(0,Bs.assert)(this.checkSig(s,i))}};nd.NftClosedMinter=h1;n8([(0,Bs.prop)(),V5("design:type",String)],h1.prototype,"issuerAddress",void 0);n8([(0,Bs.prop)(),V5("design:type",String)],h1.prototype,"genesisOutpoint",void 0);n8([(0,Bs.prop)(),V5("design:type",BigInt)],h1.prototype,"max",void 0);n8([(0,Bs.method)(),V5("design:type",Function),V5("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),V5("design:returntype",void 0)],h1.prototype,"mint",null)});var vI=$(id=>{k();M();var M8e=id&&id.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},yI=id&&id.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(id,"__esModule",{value:!0});id.NftParallelClosedMinterProto=void 0;var em=Sr(),i8=class extends em.SmartContractLib{static stateHash(e){return(0,em.hash160)(e.nftScript+(0,em.int2ByteString)(e.nextLocalId))}static create(e,r){return{nftScript:e,nextLocalId:r}}static toByteString(e){return e.nftScript+(0,em.int2ByteString)(e.nextLocalId)}};id.NftParallelClosedMinterProto=i8;M8e([(0,em.method)(),yI("design:type",Function),yI("design:paramtypes",[Object]),yI("design:returntype",String)],i8,"stateHash",null)});var xI=$(sd=>{k();M();var o8=sd&&sd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},G5=sd&&sd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(sd,"__esModule",{value:!0});sd.NftParallelClosedMinter=void 0;var vn=Sr(),tm=Pn(),s8=na(),R8e=B0(),_I=vI(),Iz=ia(),N8e=K5(),l1=class extends vn.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y){(0,vn.assert)(this.checkSig(s8.SigHashUtils.checkSHPreimage(f),s8.SigHashUtils.Gx),"preimage check error"),s8.SigHashUtils.checkPrevoutsCtx(p,f.hashPrevouts,f.inputIndex),s8.SigHashUtils.checkSpentScriptsCtx(l,f.hashSpentScripts),Iz.StateUtils.verifyPreStateHash(c,_I.NftParallelClosedMinterProto.stateHash(u),h.preTx.outputScriptList[tm.STATE_OUTPUT_INDEX],p.outputIndexVal),(0,vn.assert)(p.inputIndexVal==0n);let _=l[Number(p.inputIndexVal)];R8e.Backtrace.verifyUnique(p.spentTxhash,h,this.genesisOutpoint,_),h.preTxInput.txhash+h.preTxInput.outputIndex==this.genesisOutpoint&&((0,vn.assert)(c.txoStateHashes[1]==(0,vn.toByteString)("")),(0,vn.assert)(c.txoStateHashes[2]==(0,vn.toByteString)("")),(0,vn.assert)(c.txoStateHashes[3]==(0,vn.toByteString)("")),(0,vn.assert)(c.txoStateHashes[4]==(0,vn.toByteString)("")));let F=(0,vn.toByteString)(""),B=(0,vn.toByteString)(""),E=0n,I=u.nextLocalId+u.nextLocalId+1n,U=u.nextLocalId+u.nextLocalId+2n;I<this.max&&(B+=tm.TxUtil.buildOutput(_,o),F+=(0,vn.hash160)(_I.NftParallelClosedMinterProto.stateHash({nftScript:u.nftScript,nextLocalId:I})),E+=1n),U<this.max&&(B+=tm.TxUtil.buildOutput(_,o),F+=(0,vn.hash160)(_I.NftParallelClosedMinterProto.stateHash({nftScript:u.nftScript,nextLocalId:U})),E+=1n),(0,vn.assert)(r.localId==u.nextLocalId),F+=(0,vn.hash160)(N8e.CAT721Proto.stateHash(r));let N=tm.TxUtil.buildOutput(u.nftScript,a);E+=1n;let H=Iz.StateUtils.getCurrentStateOutput(F,E,e),D=tm.TxUtil.getChangeOutput(y),C=(0,vn.sha256)(H+B+N+D);(0,vn.assert)(C==f.hashOutputs,"hashOutputs mismatch"),(0,vn.assert)(this.issuerAddress==(0,vn.hash160)(n+i)),(0,vn.assert)(this.checkSig(s,i))}};sd.NftParallelClosedMinter=l1;o8([(0,vn.prop)(),G5("design:type",String)],l1.prototype,"issuerAddress",void 0);o8([(0,vn.prop)(),G5("design:type",String)],l1.prototype,"genesisOutpoint",void 0);o8([(0,vn.prop)(),G5("design:type",BigInt)],l1.prototype,"max",void 0);o8([(0,vn.method)(),G5("design:type",Function),G5("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),G5("design:returntype",void 0)],l1.prototype,"mint",null)});var wI=$(R0=>{k();M();var Oz=R0&&R0.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},W5=R0&&R0.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(R0,"__esModule",{value:!0});R0.NftOpenMinterMerkleTreeData=R0.NftOpenMinterProto=void 0;var li=Sr(),z5=!0,Pz=!1,qf=class extends li.SmartContractLib{static stateHash(e){return(0,li.hash160)(e.nftScript+e.merkleRoot+(0,li.int2ByteString)(e.nextLocalId))}static nftMerkleLeafToString(e){let r=e.isMined?(0,li.toByteString)("01"):(0,li.toByteString)("00");return e.commitScript+(0,li.int2ByteString)(e.localId)+r}static create(e,r,n){return{nftScript:e,merkleRoot:r,nextLocalId:n}}static toByteString(e){return e.nftScript+e.merkleRoot+(0,li.int2ByteString)(e.nextLocalId)}};R0.NftOpenMinterProto=qf;Oz([(0,li.method)(),W5("design:type",Function),W5("design:paramtypes",[Object]),W5("design:returntype",String)],qf,"stateHash",null);Oz([(0,li.method)(),W5("design:type",Function),W5("design:paramtypes",[Object]),W5("design:returntype",String)],qf,"nftMerkleLeafToString",null);var SI=class{constructor(e,r){this.leafArray=[],this.emptyHashs=[],this.hashNodes=[],this.height=r,this.maxLeafSize=Math.pow(2,this.height-1),this.leafArray=e;let n=(0,li.hash160)("");this.emptyHashs.push(n);for(let i=1;i<r;i++){let s=this.emptyHashs[i-1];this.emptyHashs[i]=(0,li.hash160)(s+s)}this.buildMerkleTree()}getLeaf(e){return this.leafArray[e]}get merkleRoot(){return this.hashNodes[this.hashNodes.length-1][0]}getMerklePath(e){let r=this.leafArray[e],n=this.hashNodes[0],i=[],s=[],o=(0,li.hash160)(qf.nftMerkleLeafToString(r));e<n.length?n[e]=o:n.push(o);let a=e;for(let u=1;u<this.height;u++){n=this.hashNodes[u-1];let c=this.hashNodes[u],h=Math.floor(a/2);a%2===1?(i.push(n[a-1]),s.push(Pz)):h>=c.length?(i.push(this.emptyHashs[u-1]),s.push(z5)):n.length>a+1?(i.push(n[a+1]),s.push(z5)):(i.push(this.emptyHashs[u-1]),s.push(z5)),a=h}return i.push(""),s.push(!1),{leaf:o,leafNode:r,neighbor:i,neighborType:s,merkleRoot:this.merkleRoot}}updateLeaf(e,r){let n=this.leafArray[r];this.leafArray[r]=e;let{neighbor:i,neighborType:s}=this.updateMerkleTree(e,r);return{oldLeaf:n,neighbor:i,neighborType:s,leafIndex:r,newLeaf:e,merkleRoot:this.merkleRoot}}updateMerkleTree(e,r){let n=this.hashNodes[0],i=[],s=[];r<n.length?n[r]=(0,li.hash160)(qf.nftMerkleLeafToString(e)):n.push((0,li.hash160)(qf.nftMerkleLeafToString(e)));let o=r;for(let a=1;a<this.height;a++){n=this.hashNodes[a-1];let u=this.hashNodes[a],c=Math.floor(o/2);if(o%2===1){let h=(0,li.hash160)(n[o-1]+n[o]);u[c]=h,i.push(n[o-1]),s.push(Pz)}else{let h;if(c>=u.length){if(h=(0,li.hash160)(n[o]+this.emptyHashs[a-1]),u.length!==c)throw Error("wrong curHash");u.push(h),i.push(this.emptyHashs[a-1]),s.push(z5)}else n.length>o+1?(h=(0,li.hash160)(n[o]+n[o+1]),i.push(n[o+1]),s.push(z5)):(h=(0,li.hash160)(n[o]+this.emptyHashs[a-1]),i.push(this.emptyHashs[a-1]),s.push(z5)),u[c]=h}o=c}return i.push(""),s.push(!1),{neighbor:i,neighborType:s}}buildMerkleTree(){this.hashNodes=[];let e=[],r=[];for(let n=0;n<this.leafArray.length;n++)e.push((0,li.hash160)(qf.nftMerkleLeafToString(this.leafArray[n])));e.length>0?this.hashNodes.push(e):this.hashNodes.push([this.emptyHashs[0]]);for(let n=1;n<this.height;n++){e=this.hashNodes[n-1],r=[];for(let i=0;i<e.length;)i+1<e.length?r.push((0,li.hash160)(e[i]+e[i+1])):r.push((0,li.hash160)(e[i]+this.emptyHashs[n-1])),i+=2;this.hashNodes.push(r)}}};R0.NftOpenMinterMerkleTreeData=SI});var EI=$(wu=>{k();M();var Bz=wu&&wu.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Y5=wu&&wu.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(wu,"__esModule",{value:!0});wu.NftOpenMinterMerkleTree=wu.HEIGHT=void 0;var xc=Sr();wu.HEIGHT=15;var rm=class extends xc.SmartContractLib{static updateLeaf(e,r,n,i,s){let o=e,a=r;for(let u=0;u<wu.HEIGHT-1;u++)i[u]?(o=(0,xc.hash160)(o+n[u]),a=(0,xc.hash160)(a+n[u])):(o=(0,xc.hash160)(n[u]+o),a=(0,xc.hash160)(n[u]+a));return(0,xc.assert)(o==s,"oldMerkleValue illegal"),a}static verifyLeaf(e,r,n,i){let s=e;for(let o=0;o<wu.HEIGHT-1;o++)n[o]?s=(0,xc.hash160)(s+r[o]):s=(0,xc.hash160)(r[o]+s);return(0,xc.assert)(s==i,"merkleValue illegal"),!0}};wu.NftOpenMinterMerkleTree=rm;Bz([(0,xc.method)(),Y5("design:type",Function),Y5("design:paramtypes",[String,String,Object,Object,String]),Y5("design:returntype",String)],rm,"updateLeaf",null);Bz([(0,xc.method)(),Y5("design:type",Function),Y5("design:paramtypes",[String,Object,Object,String]),Y5("design:returntype",Boolean)],rm,"verifyLeaf",null)});var TI=$(ad=>{k();M();var nm=ad&&ad.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},d1=ad&&ad.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ad,"__esModule",{value:!0});ad.NftOpenMinter=void 0;var ki=Sr(),a8=Pn(),u8=na(),F8e=B0(),Cz=ia(),H8e=K5(),c8=wI(),D8e=EI(),od=class extends ki.SmartContract{constructor(e,r,n,i){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.premineAddr=i}mint(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O){(0,ki.assert)(this.checkSig(u8.SigHashUtils.checkSHPreimage(l),u8.SigHashUtils.Gx),"preimage check error"),u8.SigHashUtils.checkPrevoutsCtx(y,l.hashPrevouts,l.inputIndex),u8.SigHashUtils.checkSpentScriptsCtx(_,l.hashSpentScripts),Cz.StateUtils.verifyPreStateHash(f,c8.NftOpenMinterProto.stateHash(h),p.preTx.outputScriptList[a8.STATE_OUTPUT_INDEX],y.outputIndexVal),(0,ki.assert)(y.inputIndexVal==0n);let F=_[Number(y.inputIndexVal)],B=_[1],E={commitScript:B,localId:h.nextLocalId,isMined:!1},I=c8.NftOpenMinterProto.nftMerkleLeafToString(E),U={commitScript:B,localId:h.nextLocalId,isMined:!0},N=c8.NftOpenMinterProto.nftMerkleLeafToString(U),H=D8e.NftOpenMinterMerkleTree.updateLeaf((0,ki.hash160)(I),(0,ki.hash160)(N),n,i,h.merkleRoot);F8e.Backtrace.verifyUnique(y.spentTxhash,p,this.genesisOutpoint,F);let D=(0,ki.toByteString)(""),C=(0,ki.toByteString)(""),d=1n,v=h.nextLocalId+1n;v!=this.max&&(D+=a8.TxUtil.buildOutput(F,u),C+=(0,ki.hash160)(c8.NftOpenMinterProto.stateHash({nftScript:h.nftScript,merkleRoot:H,nextLocalId:v})),d+=1n),(0,ki.assert)(r.localId==h.nextLocalId),C+=(0,ki.hash160)(H8e.CAT721Proto.stateHash(r));let g=a8.TxUtil.buildOutput(h.nftScript,c);r.localId<this.premine&&((0,ki.assert)((0,ki.hash160)(s+o)==this.premineAddr),(0,ki.assert)(this.checkSig(a,o)));let m=Cz.StateUtils.getCurrentStateOutput(C,d,e),S=a8.TxUtil.getChangeOutput(O),w=(0,ki.sha256)(m+D+g+S);(0,ki.assert)(w==l.hashOutputs,"hashOutputs mismatch")}};ad.NftOpenMinter=od;nm([(0,ki.prop)(),d1("design:type",String)],od.prototype,"genesisOutpoint",void 0);nm([(0,ki.prop)(),d1("design:type",BigInt)],od.prototype,"max",void 0);nm([(0,ki.prop)(),d1("design:type",BigInt)],od.prototype,"premine",void 0);nm([(0,ki.prop)(),d1("design:type",String)],od.prototype,"premineAddr",void 0);nm([(0,ki.method)(),d1("design:type",Function),d1("design:paramtypes",[Object,Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),d1("design:returntype",void 0)],od.prototype,"mint",null)});var sm=$(ud=>{k();M();var U8e=ud&&ud.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},AI=ud&&ud.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ud,"__esModule",{value:!0});ud.NftGuardProto=void 0;var im=Sr(),kz=z9(),L8e=Pn(),X5=class extends im.SmartContractLib{static stateHash(e){let r=e.collectionScript;for(let n=0;n<L8e.MAX_INPUT;n++)r+=(0,im.int2ByteString)(e.localIdArray[n]);return(0,im.hash160)(r)}static toByteString(e){return X5.toList(e).join("")}static createEmptyState(){return{collectionScript:(0,im.toByteString)(""),localIdArray:(0,kz.emptyBigIntArray)()}}static toList(e){return[e.collectionScript,...(0,kz.intArrayToByteString)(e.localIdArray)]}};ud.NftGuardProto=X5;U8e([(0,im.method)(),AI("design:type",Function),AI("design:paramtypes",[Object]),AI("design:returntype",String)],X5,"stateHash",null)});var II=$(fd=>{k();M();var h8=fd&&fd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},cd=fd&&fd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(fd,"__esModule",{value:!0});fd.CAT721=void 0;var Cs=Sr(),f8=na(),Mz=Pn(),q8e=N5(),Rz=ia(),$8e=K5(),j8e=sm(),K8e=B0(),p1=class extends Cs.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,o,a,u){(0,Cs.assert)(this.checkSig(f8.SigHashUtils.checkSHPreimage(o),f8.SigHashUtils.Gx),"preimage check error"),f8.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),f8.SigHashUtils.checkSpentScriptsCtx(u,o.hashSpentScripts),Rz.StateUtils.verifyPreStateHash(n,$8e.CAT721Proto.stateHash(r),s.preTx.outputScriptList[Mz.STATE_OUTPUT_INDEX],a.outputIndexVal);let c=u[Number(a.inputIndexVal)];K8e.Backtrace.verifyToken(a.spentTxhash,s,this.minterScript,c),this.valitateNftGuard(i,c,r,a.inputIndexVal,a.prevouts,u),e.isUserSpend?((0,Cs.assert)((0,Cs.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Cs.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Cs.assert)(r.ownerAddr==(0,Cs.hash160)(u[Number(e.contractInputIndex)]))}valitateNftGuard(e,r,n,i,s,o){let a=j8e.NftGuardProto.stateHash(e.guardState);(0,Cs.assert)(Rz.StateUtils.getStateScript(a,1n)==e.tx.outputScriptList[Mz.STATE_OUTPUT_INDEX]),(0,Cs.assert)(e.guardState.collectionScript==r),(0,Cs.assert)(n.localId>=0n),(0,Cs.assert)(e.guardState.localIdArray[Number(i)]==n.localId);let u=q8e.TxProof.getTxIdFromPreimg3(e.tx);return(0,Cs.assert)(s[Number(e.inputIndexVal)]==u+e.outputIndex),(0,Cs.assert)(o[Number(e.inputIndexVal)]==this.guardScript),!0}};fd.CAT721=p1;h8([(0,Cs.prop)(),cd("design:type",String)],p1.prototype,"minterScript",void 0);h8([(0,Cs.prop)(),cd("design:type",String)],p1.prototype,"guardScript",void 0);h8([(0,Cs.method)(),cd("design:type",Function),cd("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),cd("design:returntype",void 0)],p1.prototype,"unlock",null);h8([(0,Cs.method)(),cd("design:type",Function),cd("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),cd("design:returntype",Boolean)],p1.prototype,"valitateNftGuard",null)});var OI=$(hd=>{k();M();var V8e=hd&&hd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},PI=hd&&hd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(hd,"__esModule",{value:!0});hd.NftTransferGuard=void 0;var Mi=Sr(),l8=na(),m1=Pn(),G8e=sm(),z8e=ia(),d8=class extends Mi.SmartContract{transfer(e,r,n,i,s,o,a,u,c,h,f){(0,Mi.assert)(this.checkSig(l8.SigHashUtils.checkSHPreimage(c),l8.SigHashUtils.Gx),"preimage check error"),l8.SigHashUtils.checkPrevoutsCtx(h,c.hashPrevouts,c.inputIndex),l8.SigHashUtils.checkSpentScriptsCtx(f,c.hashSpentScripts),z8e.StateUtils.verifyGuardStateHash(u,h.spentTxhash,G8e.NftGuardProto.stateHash(a));let p=(0,Mi.fill)(-1n,m1.MAX_TOKEN_OUTPUT),l=0n;for(let I=0;I<m1.MAX_INPUT;I++)f[I]==a.collectionScript&&(p[Number(l)]=a.localIdArray[I],l+=1n);let y=(0,Mi.toByteString)(""),_=(0,Mi.toByteString)(""),O=0n,F=m1.TxUtil.buildOutput(a.collectionScript,o);for(let I=0;I<m1.MAX_STATE;I++){let U=r[I];if(i[I]){let N=p[Number(O)];_=_+F;let H=(0,Mi.hash160)((0,Mi.hash160)(U+(0,Mi.int2ByteString)(N)));(0,Mi.assert)((0,Mi.hash160)(e[I])==H),(0,Mi.assert)(N>=0n),(0,Mi.assert)(n[I]==N),y+=H,O+=1n}else(0,Mi.assert)(U!=a.collectionScript),y+=(0,Mi.hash160)(e[I]),(0,Mi.len)(U)>0&&(_+=m1.TxUtil.buildOutput(U,s[I]))}(0,Mi.assert)(l==O);let B=m1.TxUtil.buildOpReturnRoot(m1.TxUtil.getStateScript((0,Mi.hash160)(y))),E=(0,Mi.sha256)(B+_);(0,Mi.assert)(E==c.hashOutputs,"hashOutputs mismatch")}};hd.NftTransferGuard=d8;V8e([(0,Mi.method)(),PI("design:type",Function),PI("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),PI("design:returntype",void 0)],d8.prototype,"transfer",null)});var kI=$(ld=>{k();M();var W8e=ld&&ld.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},BI=ld&&ld.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(ld,"__esModule",{value:!0});ld.NftBurnGuard=void 0;var Sc=Sr(),CI=na(),p8=Pn(),Y8e=sm(),X8e=ia(),m8=class extends Sc.SmartContract{burn(e,r,n,i,s,o,a){(0,Sc.assert)(this.checkSig(CI.SigHashUtils.checkSHPreimage(o),CI.SigHashUtils.Gx),"preimage check error"),CI.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),X8e.StateUtils.verifyGuardStateHash(s,a.spentTxhash,Y8e.NftGuardProto.stateHash(i));let u=(0,Sc.toByteString)(""),c=(0,Sc.toByteString)("");for(let p=0;p<p8.MAX_STATE;p++){let l=r[p];(0,Sc.assert)(l!=i.collectionScript),u+=(0,Sc.hash160)(e[p]),(0,Sc.len)(l)>0&&(c+=p8.TxUtil.buildOutput(l,n[p]))}let h=p8.TxUtil.buildOpReturnRoot(p8.TxUtil.getStateScript((0,Sc.hash160)(u))),f=(0,Sc.sha256)(h+c);(0,Sc.assert)(f==o.hashOutputs,"hashOutputs mismatch")}};ld.NftBurnGuard=m8;W8e([(0,Sc.method)(),BI("design:type",Function),BI("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),BI("design:returntype",void 0)],m8.prototype,"burn",null)});var Nz=$((Iat,Z8e)=>{Z8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftClosedMinter",md5:"fc2429e864deaa9b44d1e6f24282334f",structs:[{name:"NftClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"quotaMaxLocalId",type:"int"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790164790164790164796f757e787ea9777777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000160798b760163799f63547901667978827d770122a1696e7e53797e777777537a757b7b53790164790164790164798b6f757e787ea9777777a97e547a7572537a537975788b7b757c680169790162799d5379016b79016b7978827701149d6e7ea97777a97e547a7572537a53797501637901657978827d770122a1696e7e53797e77777752798b537a757b7b5279755479537901727901727901727901727901727956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775f795f7976607987646e78827d770122a1696e7e53797e77777767006877777856797e53797e787ea876012a79885b79016d79016d797ea988016a79016c79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var Fz=$((Pat,J8e)=>{J8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftParallelClosedMinter",md5:"12afc68fd84cddd24bc866da2955fb57",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"NftParallelClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"NftParallelClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftParallelClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftParallelClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790163790163796e7ea97777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75013f79013f797e7654798763015c79015c79015c79015c79015c7955517600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955527600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955537600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955547600a26976559f69948c766b796c756b6d6d756c008868000000016179016279938b0162790163799352937858799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657953796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b527975687658799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657952796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b52797568016a790164799d5479016c79016c7978827701149d6e7ea97777a97e557a75547a547a547a547a54797501647901667978827d770122a1696e7e53797e77777753798b547a7572537a5379755579547901737901737901737901737901737956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79885d79016e79016e797ea988016b79016d79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Hz=$((Oat,Q8e)=>{Q8e.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftOpenMinter",md5:"86fe8c275b45c796bb9500b815d48820",structs:[{name:"NftOpenMinterState",params:[{name:"nftScript",type:"bytes"},{name:"merkleRoot",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"NftMerkleLeaf",params:[{name:"commitScript",type:"bytes"},{name:"localId",type:"int"},{name:"isMined",type:"bool"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftOpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"NftOpenMinterMerkleTree",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"neighbor",type:"bytes[15]"},{name:"neighborType",type:"bool[15]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftOpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../nftOpenMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031000000000000<genesisOutpoint><maxCount><premine><premineAddr>5379587a75577a577a577a577a577a577a577a5279577a75567a567a567a567a567a567a78567a757171557a76557a75547a547a547a547a6d6d0127790127790127790127790127790127790127790127790127790127790127790127790127790127790112795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011479787ea85279017f9f695279009c6301006752796878557952797e8801177955797e54798b7e6b6d6d6d6d6d6d6d6d6c775779ad011979011979011979011979011979011979011979011979011979011979012f79012a795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5f795f795f795f795f795f790129795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015c79015c79015c79015c79015c79015c790165790165790165796f757e787ea9777777014d79014d79014d79014d79014d79014d7956007600a26976569f69948c766b796c756b6d6d6d6c011a795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011379009d5f0114797600a26976569f6994766b796c755f766b796c7877016079006f76635167010068707e787e6b6d6d6c5479016479516f76635167010068707e787e6b6d6d6c5479a978a9028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028800790120790120790111766b796c7563780121766b796c757ea97b757c760121766b796c757ea977670120766b796c7552797ea97b757c0120766b796c75787ea9776801118c766b796c75637801218c766b796c757ea97b757c7601218c766b796c757ea9776701208c766b796c7552797ea97b757c01208c766b796c75787ea9776801115294766b796c75637801215294766b796c757ea97b757c7601215294766b796c757ea9776701205294766b796c7552797ea97b757c01205294766b796c75787ea9776801115394766b796c75637801215394766b796c757ea97b757c7601215394766b796c757ea9776701205394766b796c7552797ea97b757c01205394766b796c75787ea9776801115494766b796c75637801215494766b796c757ea97b757c7601215494766b796c757ea9776701205494766b796c7552797ea97b757c01205494766b796c75787ea9776801115594766b796c75637801215594766b796c757ea97b757c7601215594766b796c757ea9776701205594766b796c7552797ea97b757c01205594766b796c75787ea9776801115694766b796c75637801215694766b796c757ea97b757c7601215694766b796c757ea9776701205694766b796c7552797ea97b757c01205694766b796c75787ea9776801115794766b796c75637801215794766b796c757ea97b757c7601215794766b796c757ea9776701205794766b796c7552797ea97b757c01205794766b796c75787ea9776801115894766b796c75637801215894766b796c757ea97b757c7601215894766b796c757ea9776701205894766b796c7552797ea97b757c01205894766b796c75787ea9776801115994766b796c75637801215994766b796c757ea97b757c7601215994766b796c757ea9776701205994766b796c7552797ea97b757c01205994766b796c75787ea9776801115a94766b796c75637801215a94766b796c757ea97b757c7601215a94766b796c757ea9776701205a94766b796c7552797ea97b757c01205a94766b796c75787ea9776801115b94766b796c75637801215b94766b796c757ea97b757c7601215b94766b796c757ea9776701205b94766b796c7552797ea97b757c01205b94766b796c75787ea9776801115c94766b796c75637801215c94766b796c757ea97b757c7601215c94766b796c757ea9776701205c94766b796c7552797ea97b757c01205c94766b796c75787ea9776801115d94766b796c75637801215d94766b796c757ea97b757c7601215d94766b796c757ea9776701205d94766b796c7552797ea97b757c01205d94766b796c75787ea97768785379886b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c011c79016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279013e79013b790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75000051016b798b760112799e6353795f7901727978827d770122a1696e7e53797e7777777e547a7572537a5379755279016f79567953796f757e787ea9777777a97e537a757b7b527975788b7b757c6802920079016d799d5279029400790294007978827701149d6e7ea97777a97e537a757b7b527975016e7901707978827d770122a1696e7e53797e777777029300790112799f630174790174797ea901117988017279017479ad6870029b0079029b0079029b0079029b0079029b007956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c77011a79011a7976011b7987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876013579876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Dz=$((Bat,eve)=>{eve.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT721",md5:"0176b77f091a0f5bb4ef9f4ee455302f",structs:[{name:"NftUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"NftGuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"NftGuardConstState"}],genericTypes:[]},{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"nftUnlockArgs",type:"NftUnlockArgs"},{name:"preState",type:"CAT721State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"NftGuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat721.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c88011779011179885e7900a269011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var Uz=$((Cat,tve)=>{tve.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftTransferGuard",md5:"477458c3bb4a3b586664dddf525e5060",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"localIdList",type:"int[5]"},{name:"nftOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftTransferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d4f766e76005e766b796c7877013b79876301397901397901397901397901397901397955766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755d766b796c7877013b79876301397901397901397901397901397901397954766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755c766b796c7877013b79876301397901397901397901397901397901397953766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755b766b796c7877013b79876301397901397901397901397901397901397952766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755a766b796c7877013b79876301397901397901397901397901397901397951766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c687559766b796c7877013b79876301397901397901397901397901397901397900766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c6875000000013c79013e7978827d770122a1696e7e53797e7777770152766b796c750149766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a766b796c75a978887800a2690150766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f7987916954790159766b796c75a97e557a75547a547a547a547a54797877827700a0635379780146766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501528c766b796c7501498c766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a8c766b796c75a978887800a26901508c766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901598c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801468c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525294766b796c7501495294766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5294766b796c75a978887800a26901505294766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525394766b796c7501495394766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5394766b796c75a978887800a26901505394766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525494766b796c7501495494766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5494766b796c75a978887800a26901505494766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012779876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var Lz=$((kat,rve)=>{rve.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftBurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftBurnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var qz=$((Mat,nve)=>{nve.exports={name:"bitcore-lib-inquisition",version:"10.3.1",description:"A pure and powerful JavaScript Bitcoin library.",author:"BitPay <dev@bitpay.com>",main:"index.js",scripts:{test:"gulp test","test:ci":"npm run test",coverage:"gulp coverage",build:"gulp",pub:"npm run build && npm publish"},keywords:["bitcoin","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],repository:{type:"git",url:"https://github.com/bitpay/bitcore/tree/master/packages/bitcore-lib"},browser:{request:"browser-request"},dependencies:{bech32:"=2.0.0","bn.js":"=4.11.8",bs58:"^4.0.1","buffer-compare":"=1.1.1",elliptic:"6.6.1",inherits:"=2.0.1",lodash:"^4.17.20"},devDependencies:{"bitcore-build":"^10.0.21",brfs:"^2.0.1",chai:"^4.2.0",gulp:"^4.0.0",sinon:"^7.1.1"},license:"MIT",gitHead:"012cc0216a9bc6b195035855bd17149bad41acd1"}});var pd=$((Rat,jz)=>{k();M();var N0=hs(),ive=On(),sve=z_().ec,dd=new sve("secp256k1"),ove=dd.curve.point.bind(dd.curve),$z=dd.curve.pointFromX.bind(dd.curve),Ri=function(e,r,n){try{var i=ove(e,r,n)}catch{throw new Error("Invalid Point")}return i.validate(),i};Ri.prototype=Object.getPrototypeOf(dd.curve.point());Ri.fromX=function(e,r){try{var n=$z(r,e)}catch{throw new Error("Invalid X")}return n.validate(),n};Ri.getG=function(){return dd.curve.g};Ri.getN=function(){return new N0(dd.curve.n.toArray())};Ri.getP=function(){return dd.curve.p.clone()};Ri.prototype._getX||(Ri.prototype._getX=Ri.prototype.getX);Ri.prototype.getX=function(){return new N0(this._getX().toArray())};Ri.prototype._getY||(Ri.prototype._getY=Ri.prototype.getY);Ri.prototype.getY=function(){return new N0(this._getY().toArray())};Ri.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var e;try{e=$z(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(e.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(Ri.getN()).isInfinity())throw new Error("Point times N must be infinity");return this};Ri.pointToCompressed=function(e){var r=e.getX().toBuffer({size:32}),n=e.getY().toBuffer({size:32}),i,s=n[n.length-1]%2;return s?i=A.Buffer.from([3]):i=A.Buffer.from([2]),ive.concat([i,r])};Ri.prototype.liftX=function(){let t=Ri.getP(),e=new N0(0),r=new N0(1),n=new N0(2),i=new N0(3),s=new N0(4),o=new N0(7),a=N0.red("k256"),u=this.x.pow(i).add(o).mod(t),c=u.toRed(a).redPow(t.add(r).div(s)).mod(t);if(!u.eq(c.pow(n).mod(t)))throw new Error("liftX failed");let h=this.x.red?this.x.fromRed():this.x,f=c.mod(n).eq(e)?c.fromRed():t.sub(c);return new Ri(h,f,!0)};jz.exports=Ri});var eo=$((Hat,Vz)=>{k();M();var $f=hs(),ave=Er(),Qs=Ar(),Kz=On(),uve=fi(),Qt=function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(e instanceof $f)this.set({r:e,s:r,isSchnorr:n});else if(e){var i=e;this.set(i)}};Qt.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=typeof t.i>"u"?this.i:t.i,this.compressed=typeof t.compressed>"u"?this.compressed:t.compressed,this.isSchnorr=typeof t.isSchnorr>"u"?this.isSchnorr:t.isSchnorr,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this};Qt.fromCompact=function(t){Qs.checkArgument(Kz.isBuffer(t),"Argument is expected to be a Buffer");var e=new Qt,r=!0,n=t.slice(0,1)[0]-27-4;n<0&&(r=!1,n=n+4);var i=t.slice(1,33),s=t.slice(33,65);return Qs.checkArgument(n===0||n===1||n===2||n===3,new Error("i must be 0, 1, 2, or 3")),Qs.checkArgument(i.length===32,new Error("r must be 32 bytes")),Qs.checkArgument(s.length===32,new Error("s must be 32 bytes")),e.compressed=r,e.i=n,e.r=$f.fromBuffer(i),e.s=$f.fromBuffer(s),e};Qt.fromDER=Qt.fromBuffer=function(t,e){var r=new Qt;if((t.length===64||t.length===65)&&t[0]!=48)return Qt.fromSchnorr(t);Qs.checkArgument(!(t.length===64&&t[0]===48),new Error("64 DER (ecdsa) signatures not allowed"));var n=Qt.parseDER(t,e);return r.r=n.r,r.s=n.s,r};Qt.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new Qt.fromDER(r,!1);return n.nhashtype=e,n};Qt.fromString=function(t){var e=A.Buffer.from(t,"hex");return Qt.fromDER(e)};Qt.parseDER=function(t,e){Qs.checkArgument(Kz.isBuffer(t),new Error("DER formatted signature should be a buffer")),ave.isUndefined(e)&&(e=!0);var r=t[0];Qs.checkArgument(r===48,new Error("Header byte should be 0x30"));var n=t[1],i=t.slice(2).length;Qs.checkArgument(!e||n===i,new Error("Length byte should length of what follows")),n=n<i?n:i;var s=t[2+0];Qs.checkArgument(s===2,new Error("Integer byte for r should be 0x02"));var o=t[2+1],a=t.slice(2+2,2+2+o),u=$f.fromBuffer(a),c=t[2+1+1]===0;Qs.checkArgument(o===a.length,new Error("Length of r incorrect"));var h=t[2+2+o+0];Qs.checkArgument(h===2,new Error("Integer byte for s should be 0x02"));var f=t[2+2+o+1],p=t.slice(2+2+o+2,2+2+o+2+f),l=$f.fromBuffer(p),y=t[2+2+o+2+2]===0;Qs.checkArgument(f===p.length,new Error("Length of s incorrect"));var _=2+2+o+2+f;Qs.checkArgument(n===_-2,new Error("Length of signature incorrect"));var O={header:r,length:n,rheader:s,rlength:o,rneg:c,rbuf:a,r:u,sheader:h,slength:f,sneg:y,sbuf:p,s:l};return O};Qt.prototype.toCompact=function(t,e){if(t=typeof t=="number"?t:this.i,e=typeof e=="boolean"?e:this.compressed,!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");var r=t+27+4;e===!1&&(r=r-4);var n=A.Buffer.from([r]),i=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return A.Buffer.concat([n,i,s])};Qt.prototype.toBuffer=Qt.prototype.toDER=function(){if(this.isSchnorr){let l=!this.nhashtype||this.nhashtype===Qt.SIGHASH_DEFAULT?A.Buffer.alloc(0):A.Buffer.from([this.nhashtype]);return A.Buffer.concat([this.r.toBuffer({size:32}),this.s.toBuffer({size:32}),l])}var t=this.r.toBuffer(),e=this.s.toBuffer(),r=!!(t[0]&128),n=!!(e[0]&128),i=r?A.Buffer.concat([A.Buffer.from([0]),t]):t,s=n?A.Buffer.concat([A.Buffer.from([0]),e]):e,o=i.length,a=s.length,u=2+o+2+a,c=2,h=2,f=48,p=A.Buffer.concat([A.Buffer.from([f,u,c,o]),i,A.Buffer.from([h,a]),s]);return p};Qt.prototype.toString=function(){var t=this.toDER();return t.toString("hex")};Qt.isTxDER=function(t){if(t.length<9||t.length>73||t[0]!==48||t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(t[4-2]!==2||e===0||n[0]&128||e>1&&n[0]===0&&!(n[1]&128))return!1;var i=t.slice(6+e);return!(t[6+e-2]!==2||r===0||i[0]&128||r>1&&i[0]===0&&!(i[1]&128))};Qt.prototype.hasLowS=function(){return!(this.s.lt(new $f(1))||this.s.gt(new $f("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))};Qt.prototype.hasDefinedHashtype=function(){if(!uve.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~Qt.SIGHASH_ANYONECANPAY;return!(t<Qt.SIGHASH_ALL||t>Qt.SIGHASH_SINGLE)};Qt.prototype.toTxFormat=function(){var t=this.toDER(),e=A.Buffer.alloc(1);return e.writeUInt8(this.nhashtype,0),A.Buffer.concat([t,e])};Qt.fromSchnorr=function(t){Qs.checkArgument(A.Buffer.isBuffer(t),"Schnorr signature argument must be a buffer"),Qs.checkArgument(t.length===64||t.length===65,"Schnorr signatures must be 64 or 65 bytes");let e=new Qt,r=t.slice(0,32),n=t.slice(32,64);return t.length===65?(e.nhashtype=t[t.length-1],Qs.checkState(e.nhashtype!==Qt.SIGHASH_DEFAULT,new Error("invalid hashtype"))):e.nhashtype=Qt.SIGHASH_DEFAULT,e.r=$f.fromBuffer(r),e.s=$f.fromBuffer(n),e.isSchnorr=!0,e};Qt.SIGHASH_DEFAULT=0;Qt.SIGHASH_ALL=1;Qt.SIGHASH_NONE=2;Qt.SIGHASH_SINGLE=3;Qt.SIGHASH_ANYONECANPAY=128;Qt.SIGHASH_OUTPUT_MASK=3;Qt.SIGHASH_INPUT_MASK=128;Qt.Version={};Qt.Version.BASE=0;Qt.Version.WITNESS_V0=1;Qt.Version.TAPROOT=2;Qt.Version.TAPSCRIPT=3;Vz.exports=Qt});var Fi=$((Lat,Gz)=>{k();M();var g8=hf(),md=On(),jf=Ar(),Ni=Gz.exports;Ni.sha1=function(t){return jf.checkArgument(md.isBuffer(t)),g8.createHash("sha1").update(t).digest()};Ni.sha1.blocksize=512;Ni.sha256=function(t){return jf.checkArgument(md.isBuffer(t)),g8.createHash("sha256").update(t).digest()};Ni.sha256.blocksize=512;Ni.sha256sha256=function(t){return jf.checkArgument(md.isBuffer(t)),Ni.sha256(Ni.sha256(t))};Ni.ripemd160=function(t){return jf.checkArgument(md.isBuffer(t)),g8.createHash("ripemd160").update(t).digest()};Ni.sha256ripemd160=function(t){return jf.checkArgument(md.isBuffer(t)),Ni.ripemd160(Ni.sha256(t))};Ni.sha512=function(t){return jf.checkArgument(md.isBuffer(t)),g8.createHash("sha512").update(t).digest()};Ni.sha512.blocksize=1024;Ni.hmac=function(t,e,r){jf.checkArgument(md.isBuffer(e)),jf.checkArgument(md.isBuffer(r)),jf.checkArgument(t.blocksize);var n=t.blocksize/8;if(r.length>n)r=t(r);else if(r<n){var i=A.Buffer.alloc(n);i.fill(0),r.copy(i),r=i}var s=A.Buffer.alloc(n);s.fill(92);var o=A.Buffer.alloc(n);o.fill(54);for(var a=A.Buffer.alloc(n),u=A.Buffer.alloc(n),c=0;c<n;c++)a[c]=s[c]^r[c],u[c]=o[c]^r[c];return t(A.Buffer.concat([a,t(A.Buffer.concat([u,e]))]))};Ni.sha256hmac=function(t,e){return Ni.hmac(Ni.sha256,t,e)};Ni.sha512hmac=function(t,e){return Ni.hmac(Ni.sha512,t,e)}});var bd=$((jat,Wz)=>{k();M();var cve=On(),b8=fi(),gd=[],xo={};function zz(){}zz.prototype.toString=function(){return this.name};function g1(t,e){if(~gd.indexOf(t))return t;if(e){Array.isArray(e)||(e=[e]);for(let r in gd)if(e.some(n=>gd[r][n]===t))return gd[r];return}return xo[t]&&xo[t].length>=1?xo[t][0]:xo[t]}function RI(t){return this.name==t||this.alias==t}function om(t){var e=new zz;b8.defineImmutable(e,{name:t.name,alias:t.alias,is:t.is,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,bech32prefix:t.bech32prefix,xpubkey:t.xpubkey,xprivkey:t.xprivkey}),t.networkMagic&&b8.defineImmutable(e,{networkMagic:cve.integerAsBuffer(t.networkMagic)}),t.port&&b8.defineImmutable(e,{port:t.port}),t.dnsSeeds&&b8.defineImmutable(e,{dnsSeeds:t.dnsSeeds});for(let r of Object.values(e))r!=null&&typeof r!="object"&&(xo[r]||(xo[r]=[]),xo[r].push(e));gd.push(e);for(let r of t.variants||[])om({...t,variants:void 0,...r});return e}function fve(t){typeof t!="object"&&(t=g1(t));for(var e=0;e<gd.length;e++)gd[e]===t&&gd.splice(e,1);for(var r in xo)if(xo[r].length){let n=xo[r].indexOf(t);n>=0&&xo[r].splice(n,1),xo[r].length===0&&delete xo[r]}else xo[r]===t&&delete xo[r]}om({name:"livenet",alias:"mainnet",is:RI,pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var MI=g1("livenet");om({name:"testnet",alias:"testnet",is:RI,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,variants:[{name:"testnet3",networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]},{name:"signet",networkMagic:168021824,port:38332,dnsSeeds:["178.128.221.177","103.16.128.63","153.126.143.201","192.241.163.142"]}]});var NI=g1("testnet"),hve=g1("testnet3"),lve=g1("signet");om({name:"regtest",alias:"dev",is:RI,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var dve=g1("regtest");function pve(){NI.regtestEnabled=!0}function mve(){NI.regtestEnabled=!1}Wz.exports={add:om,remove:fve,defaultNetwork:MI,livenet:MI,mainnet:MI,testnet:NI,testnet3:hve,signet:lve,regtest:dve,get:g1,enableRegtest:pve,disableRegtest:mve}});var ds=$((Gat,Xz)=>{k();M();var FI=On(),Yz=rc(),di=function t(e){if(!(this instanceof t))return new t(e);this.bufLen=0,e?this.set(e):this.bufs=[]};di.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this.bufLen=this.bufs.reduce(function(e,r){return e+r.length},0),this};di.prototype.toBuffer=function(){return this.concat()};di.prototype.concat=function(){return A.Buffer.concat(this.bufs,this.bufLen)};di.prototype.write=function(t){return Yz(FI.isBuffer(t)),this.bufs.push(t),this.bufLen+=t.length,this};di.prototype.writeReverse=function(t){return Yz(FI.isBuffer(t)),this.bufs.push(FI.reverse(t)),this.bufLen+=t.length,this};di.prototype.writeUInt8=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(1);return e.writeUInt8(t,0),this.write(e),this};di.prototype.writeUInt16BE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(2);return e.writeUInt16BE(t,0),this.write(e),this};di.prototype.writeUInt16LE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(2);return e.writeUInt16LE(t,0),this.write(e),this};di.prototype.writeUInt32BE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(4);return e.writeUInt32BE(t,0),this.write(e),this};di.prototype.writeInt32LE=function(t){var e=A.Buffer.alloc(4);return e.writeInt32LE(t,0),this.write(e),this};di.prototype.writeUInt32LE=function(t){t<0&&(t=t>>>0);var e=A.Buffer.alloc(4);return e.writeUInt32LE(t,0),this.write(e),this};di.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this};di.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this};di.prototype.writeVarintNum=function(t){var e=di.varintBufNum(t);return this.write(e),this};di.prototype.writeVarintBN=function(t){var e=di.varintBufBN(t);return this.write(e),this};di.varintBufNum=function(t){var e=void 0;return t<253?(e=A.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=A.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=A.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=A.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e};di.varintBufBN=function(t){var e=void 0,r=t.toNumber();if(r<253)e=A.Buffer.alloc(1),e.writeUInt8(r,0);else if(r<65536)e=A.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(r,1);else if(r<4294967296)e=A.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(r,1);else{var n=new di;n.writeUInt8(255),n.writeUInt64LEBN(t);var e=n.concat()}return e};Xz.exports=di});var yd=$((Yat,HI)=>{k();M();typeof Object.create=="function"?HI.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:HI.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var Vf=$((Jat,Qz)=>{k();M();var Zz=Fi(),Jz=ds(),gve=yd();function Kf(t,e,r="hex"){if(!(this instanceof Kf))return new Kf(t,e,r);Jz.apply(this),t=A.Buffer.from(t);let n=Zz.sha256(t);return this.write(n),this.write(n),e&&(e=A.Buffer.isBuffer(e)?e:A.Buffer.from(e,r),this.write(e)),this}gve(Kf,Jz);Kf.prototype.finalize=function(){return A.Buffer.from(Zz.sha256(this.toBuffer()))};Object.defineProperties(Kf,{TAPSIGHASH:{get:()=>new Kf("TapSighash")},TAPLEAF:{get:()=>new Kf("TapLeaf")},TAPBRANCH:{get:()=>new Kf("TapBranch")}});Qz.exports=Kf});var tW=$((tut,eW)=>{k();M();var y8=og().Buffer;function bve(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function h(l){if((Array.isArray(l)||l instanceof Uint8Array)&&(l=y8.from(l)),!y8.isBuffer(l))throw new TypeError("Expected Buffer");if(l.length===0)return"";for(var y=0,_=0,O=0,F=l.length;O!==F&&l[O]===0;)O++,y++;for(var B=(F-O)*c+1>>>0,E=new Uint8Array(B);O!==F;){for(var I=l[O],U=0,N=B-1;(I!==0||U<_)&&N!==-1;N--,U++)I+=256*E[N]>>>0,E[N]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");_=U,O++}for(var H=B-_;H!==B&&E[H]===0;)H++;for(var D=a.repeat(y);H<B;++H)D+=t.charAt(E[H]);return D}function f(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return y8.alloc(0);var y=0;if(l[y]!==" "){for(var _=0,O=0;l[y]===a;)_++,y++;for(var F=(l.length-y)*u+1>>>0,B=new Uint8Array(F);l[y];){var E=e[l.charCodeAt(y)];if(E===255)return;for(var I=0,U=F-1;(E!==0||I<O)&&U!==-1;U--,I++)E+=o*B[U]>>>0,B[U]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");O=I,y++}if(l[y]!==" "){for(var N=F-O;N!==F&&B[N]===0;)N++;var H=y8.allocUnsafe(_+(F-N));H.fill(0,0,_);for(var D=_;N!==F;)H[D++]=B[N++];return H}}}function p(l){var y=f(l);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:p}}eW.exports=bve});var DI=$((iut,rW)=>{k();M();var yve=tW(),vve="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";rW.exports=yve(vve)});var am=$((aut,sW)=>{k();M();var UI=Er(),nW=DI(),iW=ui(),_ve="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),wc=function t(e){if(!(this instanceof t))return new t(e);if(A.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};wc.validCharacters=function(e){return iW.Buffer.isBuffer(e)&&(e=e.toString()),UI.every(UI.map(e,function(r){return UI.includes(_ve,r)}))};wc.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};wc.encode=function(t){if(!iW.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return nW.encode(t)};wc.decode=function(t){if(typeof t!="string")throw new Error("Input should be a string");return A.Buffer.from(nW.decode(t))};wc.prototype.fromBuffer=function(t){return this.buf=t,this};wc.prototype.fromString=function(t){var e=wc.decode(t);return this.buf=e,this};wc.prototype.toBuffer=function(){return this.buf};wc.prototype.toString=function(){return wc.encode(this.buf)};sW.exports=wc});var Z5=$((hut,uW)=>{k();M();var oW=Er(),v8=am(),fut=ui(),aW=Fi().sha256sha256,oa=function t(e){if(!(this instanceof t))return new t(e);if(A.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};oa.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};oa.validChecksum=function(e,r){return oW.isString(e)&&(e=A.Buffer.from(v8.decode(e))),oW.isString(r)&&(r=A.Buffer.from(v8.decode(r))),r||(r=e.slice(-4),e=e.slice(0,-4)),oa.checksum(e).toString("hex")===r.toString("hex")};oa.decode=function(t){if(typeof t!="string")throw new Error("Input must be a string");var e=A.Buffer.from(v8.decode(t));if(e.length<4)throw new Error("Input string too short");var r=e.slice(0,-4),n=e.slice(-4),i=aW(r),s=i.slice(0,4);if(n.toString("hex")!==s.toString("hex"))throw new Error("Checksum mismatch");return r};oa.checksum=function(t){return aW(t).slice(0,4)};oa.encode=function(t){if(!A.Buffer.isBuffer(t))throw new Error("Input must be a buffer");var e=A.Buffer.alloc(t.length+4),r=oa.checksum(t);return t.copy(e),r.copy(e,t.length),v8.encode(e)};oa.prototype.fromBuffer=function(t){return this.buf=t,this};oa.prototype.fromString=function(t){var e=oa.decode(t);return this.buf=e,this};oa.prototype.toBuffer=function(){return this.buf};oa.prototype.toString=function(){return oa.encode(this.buf)};uW.exports=oa});var fW=$((put,cW)=>{k();M();var J5=fne(),xve=function(t){if(typeof t!="string")throw new Error("Input should be a string");var e;let r=J5.bech32.fromWords,n=vd.BECH32;try{e=J5.bech32.decode(t)}catch(s){if(s.message.indexOf("Invalid checksum")>-1)e=J5.bech32m.decode(t),n=vd.BECH32M,r=J5.bech32m.fromWords;else throw s}let i=e.words[0];if(i>=1&&n!==vd.BECH32M)throw new Error("Version 1+ witness address must use Bech32m checksum");return{prefix:e.prefix,data:A.Buffer.from(r(e.words.slice(1))),version:i}},Sve=function(t,e,r,n){if(typeof t!="string")throw new Error("Prefix should be a string");if(typeof e!="number")throw new Error("version should be a number");if(n&&typeof n=="string"&&(n=vd[n.toUpperCase()]||-1),n&&!(n==vd.BECH32||n==vd.BECH32M))throw new Error("Invalid encoding specified");let i=n==vd.BECH32M?J5.bech32m:J5.bech32,s=i.toWords(r);return s.unshift(e),i.encode(t,s)},vd={BECH32:1,BECH32M:2};cW.exports={decode:xve,encode:Sve,encodings:vd}});var _8=$((but,hW)=>{k();M();var Q5=Er(),e2=Ar(),wve=On(),Eve=fi();function lr(t){if(!(this instanceof lr))return new lr(t);var e;if(Q5.isNumber(t))e=t;else if(Q5.isString(t))e=lr.map[t];else throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');return Eve.defineImmutable(this,{num:e}),this}lr.fromBuffer=function(t){return e2.checkArgument(wve.isBuffer(t)),new lr(Number("0x"+t.toString("hex")))};lr.fromNumber=function(t){return e2.checkArgument(Q5.isNumber(t)),new lr(t)};lr.fromString=function(t){e2.checkArgument(Q5.isString(t));var e=lr.map[t];if(typeof e>"u")throw new TypeError("Invalid opcodestr");return new lr(e)};lr.prototype.toHex=function(){return this.num.toString(16)};lr.prototype.toBuffer=function(){return A.Buffer.from(this.toHex(),"hex")};lr.prototype.toNumber=function(){return this.num};lr.prototype.toString=function(){var t=lr.reverseMap[this.num];if(typeof t>"u")throw new Error("Opcode does not have a string representation");return t};lr.smallInt=function(t){return e2.checkArgument(Q5.isNumber(t),"Invalid Argument: n should be number"),e2.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),t===0?lr("OP_0"):new lr(lr.map.OP_1+t-1)};lr.decodeOpN=function(t){return t===lr.OP_0?0:(e2.checkArgument(t>=lr.OP_1&&t<=lr.OP_16,new Error("Invalid opcode: "+JSON.stringify(t))),t-(lr.OP_1-1))};lr.isOpSuccess=function(t){return typeof t=="string"&&!parseInt(t)&&(t=lr[t]),t==80||t==98||t>=127&&t<=129||t>=131&&t<=134||t>=137&&t<=138||t>=141&&t<=142||t>=149&&t<=153||t>=187&&t<=254};lr.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};lr.reverseMap=[];for(LI in lr.map)lr.reverseMap[lr.map[LI]]=LI;var LI;Q5.extend(lr,lr.map);lr.isSmallIntOp=function(t){return t instanceof lr&&(t=t.toNumber()),t===lr.map.OP_0||t>=lr.map.OP_1&&t<=lr.map.OP_16};lr.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"};hW.exports=lr});var jI=$((_ut,pW)=>{k();M();var Wi=Tc(),Tve=bc(),Ave=ds(),x8=Fi(),Ne=_8(),Ec=Ac(),b1=eo(),lW=bd(),_n=Ar(),qI=Er(),$I=Ea(),ks=On(),Ive=fi(),dW=Vf(),be=function t(e){if(!(this instanceof t))return new t(e);if(this.chunks=[],ks.isBuffer(e))return t.fromBuffer(e);if(e instanceof Wi)return t.fromAddress(e);if(e instanceof t)return t.fromBuffer(e.toBuffer());if(typeof e=="string")return t.fromString(e);qI.isObject(e)&&Array.isArray(e.chunks)&&this.set(e)};be.prototype.set=function(t){return _n.checkArgument(qI.isObject(t)),_n.checkArgument(Array.isArray(t.chunks)),this.chunks=t.chunks,this};be.fromBuffer=function(t){var e=new be;e.chunks=[];for(var r=new Tve(t);!r.finished();)try{var n=r.readUInt8(),i,s;n>0&&n<Ne.OP_PUSHDATA1?(i=n,e.chunks.push({buf:r.read(i),len:i,opcodenum:n})):n===Ne.OP_PUSHDATA1?(i=r.readUInt8(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===Ne.OP_PUSHDATA2?(i=r.readUInt16LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===Ne.OP_PUSHDATA4?(i=r.readUInt32LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):Ne.isOpSuccess(n)?(s=r.readAll(),i=s.length,e.chunks.push({buf:s,len:i,opcodenum:n})):e.chunks.push({opcodenum:n})}catch(o){throw o instanceof RangeError?new $I.Script.InvalidBuffer(t.toString("hex")):o}return e};be.prototype.toBuffer=function(){for(var t=new Ave,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<Ne.OP_PUSHDATA1?t.write(r.buf):n===Ne.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===Ne.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):(n===Ne.OP_PUSHDATA4&&t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()};be.fromASM=function(t){var e=new be;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=Ne(i),o=s.toNumber();if(o==null){var a=A.Buffer.from(r[n],"hex");e.chunks.push({buf:a,len:a.length,opcodenum:a.length}),n=n+1}else o===Ne.OP_PUSHDATA1||o===Ne.OP_PUSHDATA2||o===Ne.OP_PUSHDATA4?(e.chunks.push({buf:A.Buffer.from(r[n+2],"hex"),len:parseInt(r[n+1]),opcodenum:o}),n=n+3):(e.chunks.push({opcodenum:o}),n=n+1)}return e};be.fromHex=function(t){return new be(A.Buffer.from(t,"hex"))};be.fromString=function(t){if(Ive.isHexa(t)||t.length===0)return new be(A.Buffer.from(t,"hex"));var e=new be;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=Ne(i),o=s.toNumber();if(o==null)if(o=parseInt(i),o>0&&o<Ne.OP_PUSHDATA1)e.chunks.push({buf:A.Buffer.from(r[n+1].slice(2),"hex"),len:o,opcodenum:o}),n=n+2;else throw new Error("Invalid script: "+JSON.stringify(t));else if(o===Ne.OP_PUSHDATA1||o===Ne.OP_PUSHDATA2||o===Ne.OP_PUSHDATA4){if(r[n+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");e.chunks.push({buf:A.Buffer.from(r[n+2].slice(2),"hex"),len:parseInt(r[n+1]),opcodenum:o}),n=n+3}else e.chunks.push({opcodenum:o}),n=n+1}return e};be.prototype._chunkToString=function(t,e){var r=t.opcodenum,n=e==="asm",i="";if(t.buf)(!n&&r===Ne.OP_PUSHDATA1||r===Ne.OP_PUSHDATA2||r===Ne.OP_PUSHDATA4)&&(i=i+" "+Ne(r).toString()),t.len>0&&(n?i=i+" "+t.buf.toString("hex"):i=i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(typeof Ne.reverseMap[r]<"u")n?r===0?i=i+" 0":r===79?i=i+" -1":i=i+" "+Ne(r).toString():i=i+" "+Ne(r).toString();else{var s=r.toString(16);s.length%2!==0&&(s="0"+s),n?i=i+" "+s:i=i+" 0x"+s}return i};be.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)};be.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)};be.prototype.toHex=function(){return this.toBuffer().toString("hex")};be.prototype.inspect=function(){return"<Script: "+this.toString()+">"};be.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===Ne.OP_DUP&&this.chunks[1].opcodenum===Ne.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===Ne.OP_EQUALVERIFY&&this.chunks[4].opcodenum===Ne.OP_CHECKSIG)};be.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&t[0]===48&&e&&e.length){var r=e[0];if((r===4||r===6||r===7)&&e.length===65)return!0;if((r===3||r===2)&&e.length===33)return!0}}return!1};be.prototype.getPublicKey=function(){return _n.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf};be.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut())return this.chunks[1].buf;if(this.isTaproot())return this.chunks[1].buf;throw new Error("Can't retrieve PublicKeyHash from a non-PKH output")};be.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===Ne.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if(((e===4||e===6||e===7)&&t.length===65||(e===3||e===2)&&t.length===33)&&(r=!0),r)return Ec.isValid(t)}return!1};be.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var t=this.chunks[0].buf;if(t&&t.length&&t[0]===48)return!0}return!1};be.prototype.isScriptHashOut=function(){var t=this.toBuffer();return t.length===23&&t[0]===Ne.OP_HASH160&&t[1]===20&&t[t.length-1]===Ne.OP_EQUAL};be.prototype.isWitnessScriptHashOut=function(){var t=this.toBuffer();return t.length===34&&t[0]===Ne.OP_0&&t[1]===32};be.prototype.isWitnessPublicKeyHashOut=function(){var t=this.toBuffer();return t.length===22&&t[0]===Ne.OP_0&&t[1]===20};be.prototype.isTaproot=function(){var t=this.toBuffer();return t.length===34&&t[0]===Ne.OP_1&&t[1]===32};be.prototype.isWitnessProgram=function(t){t||(t={});var e=this.toBuffer();return e.length<4||e.length>42||e[0]!==Ne.OP_0&&!(e[0]>=Ne.OP_1&&e[0]<=Ne.OP_16)?!1:e.length===e[1]+2?(t.version=Ne.decodeOpN(e[0]),t.program=e.slice(2,e.length),!0):!1};be.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t=this.chunks[this.chunks.length-1],e=t.buf;if(!e)return!1;var r;try{r=be.fromBuffer(e)}catch(i){if(i instanceof $I.Script.InvalidBuffer)return!1;throw i}var n=r.classify();return n!==be.types.UNKNOWN};be.prototype.isMultisigOut=function(){return this.chunks.length>3&&Ne.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(t){return t.buf&&ks.isBuffer(t.buf)})&&Ne.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===Ne.OP_CHECKMULTISIG};be.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(t){return t.buf&&ks.isBuffer(t.buf)&&b1.isTxDER(t.buf)})};be.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===Ne.OP_RETURN&&(this.chunks.length===1||this.chunks.length===2&&this.chunks[1].buf&&this.chunks[1].buf.length<=be.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)};be.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut()||this.isTaproot())return this.chunks[1]==null?A.Buffer.alloc(0):A.Buffer.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return A.Buffer.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")};be.prototype.isPushOnly=function(){return this.chunks.every(function(t){return t.opcodenum<=Ne.OP_16})};be.types={};be.types.UNKNOWN="Unknown";be.types.PUBKEY_OUT="Pay to public key";be.types.PUBKEY_IN="Spend from public key";be.types.PUBKEYHASH_OUT="Pay to public key hash";be.types.PUBKEYHASH_IN="Spend from public key hash";be.types.SCRIPTHASH_OUT="Pay to script hash";be.types.SCRIPTHASH_IN="Spend from script hash";be.types.MULTISIG_OUT="Pay to multisig";be.types.MULTISIG_IN="Spend from multisig";be.types.DATA_OUT="Data push";be.OP_RETURN_STANDARD_SIZE=80;be.ANNEX_TAG=80;be.VALIDATION_WEIGHT_PER_SIGOP_PASSED=50;be.VALIDATION_WEIGHT_OFFSET=50;be.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=be.types.UNKNOWN?t:this.classifyInput()};be.outputIdentifiers={};be.outputIdentifiers.PUBKEY_OUT=be.prototype.isPublicKeyOut;be.outputIdentifiers.PUBKEYHASH_OUT=be.prototype.isPublicKeyHashOut;be.outputIdentifiers.MULTISIG_OUT=be.prototype.isMultisigOut;be.outputIdentifiers.SCRIPTHASH_OUT=be.prototype.isScriptHashOut;be.outputIdentifiers.DATA_OUT=be.prototype.isDataOut;be.prototype.classifyOutput=function(){for(var t in be.outputIdentifiers)if(be.outputIdentifiers[t].bind(this)())return be.types[t];return be.types.UNKNOWN};be.inputIdentifiers={};be.inputIdentifiers.PUBKEY_IN=be.prototype.isPublicKeyIn;be.inputIdentifiers.PUBKEYHASH_IN=be.prototype.isPublicKeyHashIn;be.inputIdentifiers.MULTISIG_IN=be.prototype.isMultisigIn;be.inputIdentifiers.SCRIPTHASH_IN=be.prototype.isScriptHashIn;be.prototype.classifyInput=function(){for(var t in be.inputIdentifiers)if(be.inputIdentifiers[t].bind(this)())return be.types[t];return be.types.UNKNOWN};be.prototype.isStandard=function(){return this.classify()!==be.types.UNKNOWN};be.prototype.prepend=function(t){return this._addByType(t,!0),this};be.prototype.equals=function(t){if(_n.checkState(t instanceof be,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(ks.isBuffer(this.chunks[e].buf)&&!ks.isBuffer(t.chunks[e].buf)||ks.isBuffer(this.chunks[e].buf)&&!ks.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0};be.prototype.add=function(t){return this._addByType(t,!1),this};be.prototype._addByType=function(t,e){if(typeof t=="string")this._addOpcode(t,e);else if(typeof t=="number")this._addOpcode(t,e);else if(t instanceof Ne)this._addOpcode(t,e);else if(ks.isBuffer(t))this._addBuffer(t,e);else if(t instanceof be)this.chunks=this.chunks.concat(t.chunks);else if(typeof t=="object")this._insertAtPosition(t,e);else throw new Error("Invalid script chunk")};be.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)};be.prototype._addOpcode=function(t,e){var r;return typeof t=="number"?r=t:t instanceof Ne?r=t.toNumber():r=Ne(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this};be.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<Ne.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=Ne.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=Ne.OP_PUSHDATA2;else if(n<Math.pow(2,32))r=Ne.OP_PUSHDATA4;else throw new Error("You can't push that much data");return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this};be.prototype.hasCodeseparators=function(){for(var t=0;t<this.chunks.length;t++)if(this.chunks[t].opcodenum===Ne.OP_CODESEPARATOR)return!0;return!1};be.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==Ne.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this};be.buildMultisigOut=function(t,e,r){_n.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new be;n.add(Ne.smallInt(e)),t=t.map(Ec);var i=t;r.noSorting||(i=qI.sortBy(t,function(a){return a.toString("hex")}));for(var s=0;s<i.length;s++){var o=i[s];n.add(o.toBuffer())}return n.add(Ne.smallInt(t.length)),n.add(Ne.OP_CHECKMULTISIG),n};be.buildWitnessMultisigOutFromScript=function(t){if(t instanceof be){var e=new be;return e.add(Ne.OP_0),e.add(x8.sha256(t.toBuffer())),e}else throw new TypeError("First argument is expected to be a p2sh script")};be.buildMultisigIn=function(t,e,r,n){_n.checkArgument(Array.isArray(t)),_n.checkArgument(!isNaN(e)),_n.checkArgument(Array.isArray(r)),n=n||{};var i=new be;i.add(Ne.OP_0);for(let s of r)_n.checkArgument(ks.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i};be.buildP2SHMultisigIn=function(t,e,r,n){_n.checkArgument(Array.isArray(t)),_n.checkArgument(!isNaN(e)),_n.checkArgument(Array.isArray(r)),n=n||{};var i=new be;i.add(Ne.OP_0);for(let s of r)_n.checkArgument(ks.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i.add((n.cachedMultisig||be.buildMultisigOut(t,e,n)).toBuffer()),i};be.buildPublicKeyHashOut=function(t){_n.checkArgument(t!=null),_n.checkArgument(t instanceof Ec||t instanceof Wi||typeof t=="string"),t instanceof Ec?t=t.toAddress():typeof t=="string"&&(t=new Wi(t));var e=new be;return e.add(Ne.OP_DUP).add(Ne.OP_HASH160).add(t.hashBuffer).add(Ne.OP_EQUALVERIFY).add(Ne.OP_CHECKSIG),e._network=t.network,e};be.buildWitnessV0Out=function(t){_n.checkArgument(t!=null),_n.checkArgument(t instanceof Ec||t instanceof Wi||typeof t=="string"),t instanceof Ec?t=t.toAddress(null,Wi.PayToWitnessPublicKeyHash):typeof t=="string"&&(t=new Wi(t));var e=new be;return e.add(Ne.OP_0).add(t.hashBuffer),e._network=t.network,e};be.buildWitnessV1Out=function(t,e){if(_n.checkArgument(t instanceof Ec||t instanceof Wi||typeof t=="string"),_n.checkArgument(!e||Array.isArray(e)||!!e.script),typeof t=="string")try{t=Ec.fromTaproot(t)}catch{t=Wi.fromString(t)}function r(o){if(Array.isArray(o)){let[a,u]=r(o[0]),[c,h]=r(o[1]),f=[[[a[0],a[1]],h],[[c[0],c[1]],u]],p=dW.TAPBRANCH;return u.compare(h)===1?(p.write(h),p.write(u)):(p.write(u),p.write(h)),[f,p.finalize()]}else{let{leafVersion:a,script:u}=o,c=new be(u).toBuffer(),h=dW.TAPLEAF;h.writeUInt8(a),h.writeUInt8(c.length),h.write(c);let f=h.finalize();return[[A.Buffer.from([a]),c],f]}}let n=null;if(e){let[o,a]=r(e);n=a}let i;t instanceof Ec?i=t.createTapTweak(n).tweakedPubKey:i=t.hashBuffer;let s=new be;return s.add(Ne.OP_1),s.add(i),s};be.buildPublicKeyOut=function(t){_n.checkArgument(t instanceof Ec);var e=new be;return e.add(t.toBuffer()).add(Ne.OP_CHECKSIG),e};be.buildDataOut=function(t,e){_n.checkArgument(t==null||typeof t=="string"||ks.isBuffer(t)),typeof t=="string"&&(t=A.Buffer.from(t,e));var r=new be;return r.add(Ne.OP_RETURN),t!=null&&r.add(t),r};be.buildScriptHashOut=function(t){_n.checkArgument(t instanceof be||t instanceof Wi&&t.isPayToScriptHash());var e=new be;return e.add(Ne.OP_HASH160).add(t instanceof Wi?t.hashBuffer:x8.sha256ripemd160(t.toBuffer())).add(Ne.OP_EQUAL),e._network=t._network||t.network,e};be.buildPublicKeyIn=function(t,e){_n.checkArgument(t instanceof b1||ks.isBuffer(t)),_n.checkArgument(e==null||!isNaN(e)),t instanceof b1&&(t=t.toBuffer());var r=new be;return r.add(ks.concat([t,ks.integerAsSingleByteBuffer(e||b1.SIGHASH_ALL)])),r};be.buildPublicKeyHashIn=function(t,e,r){_n.checkArgument(e instanceof b1||ks.isBuffer(e)),_n.checkArgument(r==null||!isNaN(r)),e instanceof b1&&(e=e.toBuffer());var n=new be().add(ks.concat([e,ks.integerAsSingleByteBuffer(r||b1.SIGHASH_ALL)])).add(new Ec(t).toBuffer());return n};be.empty=function(){return new be};be.prototype.toScriptHashOut=function(){return be.buildScriptHashOut(this)};be.fromAddress=function(t){if(t=Wi(t),t.isPayToScriptHash())return be.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return be.buildPublicKeyHashOut(t);if(t.isPayToWitnessPublicKeyHash())return be.buildWitnessV0Out(t);if(t.isPayToWitnessScriptHash())return be.buildWitnessV0Out(t);if(t.isPayToTaproot())return be.buildWitnessV1Out(t);throw new $I.Script.UnrecognizedAddress(t)};be.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()};be.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=Wi.PayToScriptHash;else if(this.isPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=Wi.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())t.hashBuffer=this.getData(),t.type=Wi.PayToWitnessScriptHash;else if(this.isWitnessPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=Wi.PayToWitnessPublicKeyHash;else if(this.isTaproot())t.hashBuffer=this.getData(),t.type=Wi.PayToTaproot;else return!1;return t};be.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=x8.sha256ripemd160(this.chunks[1].buf),t.type=Wi.PayToPublicKeyHash;else if(this.isScriptHashIn())t.hashBuffer=x8.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=Wi.PayToScriptHash;else return!1;return t};be.prototype.toAddress=function(t){var e=this.getAddressInfo();return e?(e.network=lW.get(t)||this._network||lW.defaultNetwork,new Wi(e)):!1};be.prototype.findAndDelete=function(t){for(var e=t.toBuffer(),r=e.toString("hex"),n=0;n<this.chunks.length;n++){var i=be({chunks:[this.chunks[n]]}),s=i.toBuffer(),o=s.toString("hex");r===o&&this.chunks.splice(n,1)}return this};be.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return r?r.length===0?n===Ne.OP_0:r.length===1&&r[0]>=1&&r[0]<=16?n===Ne.OP_1+(r[0]-1):r.length===1&&r[0]===129?n===Ne.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===Ne.OP_PUSHDATA1:r.length<=65535?n===Ne.OP_PUSHDATA2:!0:!0};be.prototype.getSignatureOperationsCount=function(t){t=t??!0;var e=0,r=Ne.OP_INVALIDOPCODE;for(let i of this.chunks){var n=i.opcodenum;n==Ne.OP_CHECKSIG||n==Ne.OP_CHECKSIGVERIFY?e++:(n==Ne.OP_CHECKMULTISIG||n==Ne.OP_CHECKMULTISIGVERIFY)&&(t&&r>=Ne.OP_1&&r<=Ne.OP_16?e+=Ne.decodeOpN(r):e+=20),r=n}return e};pW.exports=be});var t2=$((Eut,vW)=>{k();M();var y1=eo(),wut=aa(),mW=bc(),gW=ds(),um=Fi(),yW=cm(),bW=Ar(),KI=Er(),VI=function(e,r,n,i,s){var o=A.Buffer.alloc(32),a=A.Buffer.alloc(32),u=A.Buffer.alloc(32);if(!(r&y1.SIGHASH_ANYONECANPAY)){for(var c=[],h=0;h<e.inputs.length;h++){var f=e.inputs[h],p=new mW(f.prevTxId).readReverse();c.push(p);var l=A.Buffer.alloc(4);l.writeUInt32LE(f.outputIndex,0),c.push(l)}o=um.sha256sha256(A.Buffer.concat(c))}if(!(r&y1.SIGHASH_ANYONECANPAY)&&(r&31)!==y1.SIGHASH_SINGLE&&(r&31)!==y1.SIGHASH_NONE){for(var y=[],_=0;_<e.inputs.length;_++){var O=A.Buffer.alloc(4);O.writeUInt32LE(e.inputs[_].sequenceNumber,0),y.push(O)}a=um.sha256sha256(A.Buffer.concat(y))}var F=new gW;if((r&31)!==y1.SIGHASH_SINGLE&&(r&31)!==y1.SIGHASH_NONE){for(var B=0;B<e.outputs.length;B++)e.outputs[B].toBufferWriter(F);u=um.sha256sha256(F.toBuffer())}else(r&31)===y1.SIGHASH_SINGLE&&n<e.outputs.length&&(e.outputs[n].toBufferWriter(F),u=um.sha256sha256(F.toBuffer()));var E=new gW;E.writeUInt32LE(e.version),E.write(o),E.write(a);var I=new mW(e.inputs[n].prevTxId).readReverse();return E.write(I),E.writeUInt32LE(e.inputs[n].outputIndex),E.write(i),E.write(s),E.writeUInt32LE(e.inputs[n].sequenceNumber),E.write(u),E.writeUInt32LE(e.nLockTime),E.writeInt32LE(r),um.sha256sha256(E.toBuffer())};function Pve(t,e,r,n,i,s){let o=VI(t,r,n,i,s);return yW.sign(o,e).set({nhashtype:r})}function Ove(t,e,r,n,i,s){bW.checkArgument(!KI.isUndefined(t),"Transaction Undefined"),bW.checkArgument(!KI.isUndefined(e)&&!KI.isUndefined(e.nhashtype),"Signature Undefined");let o=VI(t,e.nhashtype,n,i,s);return yW.verify(o,e,r)}vW.exports={sighash:VI,sign:Pve,verify:Ove}});var GI=$((Iut,_W)=>{k();M();var Bve=hf(),Gf=Ar(),w8=fi(),v1=hs(),_1=pd(),S8=Vf(),fm=function t(){return this instanceof t?this:new t};fm.prototype.set=function(){};fm.sign=function(t,e,r){if(t=A.Buffer.isBuffer(t)?t:t.toBuffer(),t.length!==32)throw new Error("Private key should be 32 bytes for schnorr signatures");typeof e=="string"&&(Gf.checkArgument(w8.isHexaString(e),"Schnorr message string is not hex"),e=A.Buffer.from(e,"hex")),Gf.checkArgument(Gf.isType(e,"Buffer"),"Schnorr message must be a hex string or buffer"),r||(r=Bve.randomBytes(32)),typeof r=="string"&&(Gf.checkArgument(w8.isHexaString(r),"Schnorr aux string is not hex"),r=A.Buffer.from(r,"hex")),Gf.checkArgument(Gf.isType(r,"Buffer"),"Schnorr aux must be a hex string or buffer");let n=_1.getG(),i=_1.getN(),s=new v1(t);if(s.eqn(0)||s.gte(i))throw new Error("Invalid private key for schnorr signing");let o=n.mul(s),a=A.Buffer.from(o.encodeCompressed().slice(1)),u=o.y.isEven()?s:i.sub(s),c=u.xor(new v1(new S8("BIP0340/aux",r).finalize())),h=new S8("BIP0340/nonce",A.Buffer.concat([c.toBuffer(),a,e])).finalize(),f=new v1(h).mod(i);if(f.eqn(0))throw new Error("Error creating schnorr signature");let p=n.mul(f),l=A.Buffer.from(p.encodeCompressed().slice(1)),y=p.y.isEven()?f:i.sub(f),_=new v1(new S8("BIP0340/challenge",A.Buffer.concat([l,a,e])).finalize()).mod(i),O=A.Buffer.concat([l,y.add(_.mul(u)).mod(i).toBuffer({size:32})]);if(!fm.verify(a,e,O))throw new Error("Error creating schnorr signature. Verification failed");return O};fm.verify=function(t,e,r){if(Gf.isType(t,"PublicKey")&&(t=t.point.x.toBuffer()),t.length!==32)throw new Error("Public key should be 32 bytes for schnorr signatures");if(typeof e=="string"&&(Gf.checkArgument(w8.isHexaString(e),"Schnorr message string is not hex"),e=A.Buffer.from(e,"hex")),e.length!==32)throw new Error("Message should be a 32 byte buffer");if(typeof r=="string"&&(Gf.checkArgument(w8.isHexaString(r),"Schnorr signature string is not hex"),r=A.Buffer.from(r,"hex")),typeof r.toBuffer=="function"&&(r=r.toBuffer(),r.length===65&&(r=r.slice(0,64))),r.length!==64)throw new Error("Signature should be a 64 byte buffer. Got "+r.length+" bytes");try{let n=_1.getP(),i=_1.getN(),s=_1.fromX(!1,t).liftX(),o=new v1(r.slice(0,32)),a=new v1(r.slice(32,64));if(o.gte(n)||a.gte(i))return!1;let u=Cve(o,s,e),h=_1.getG().mul(a).add(s.mul(u).neg());return!(h.inf||!h.y.isEven()||!h.x.eq(o))}catch{return!1}};var Cve=function(t,e,r){let n=_1.getN(),i=new S8("BIP0340/challenge",A.Buffer.concat([t.toBuffer({size:32}),e.x.toBuffer({size:32}),r])).finalize();return new v1(i).mod(n)};_W.exports=fm});var hm=$((Cut,EW)=>{k();M();var So=eo(),x1=ds(),r2=Fi(),xW=GI(),S1=Ar(),kve=Vf(),But=_d();function SW(t,e,r,n,i){let s,o;switch(n){case So.Version.TAPROOT:s=0;break;case So.Version.TAPSCRIPT:s=1,o=0;break;default:return!1}S1.checkArgument(r<t.inputs.length,"inputNumber is greater than number of inputs");let a=kve.TAPSIGHASH;a.writeUInt8(0);let u=e==So.SIGHASH_DEFAULT?So.SIGHASH_ALL:e&So.SIGHASH_OUTPUT_MASK,c=e&So.SIGHASH_INPUT_MASK;if(!(e<=3||e>=129&&e<=131))return!1;if(a.writeUInt8(e),a.writeInt32LE(t.version),a.writeUInt32LE(t.nLockTime),c!==So.SIGHASH_ANYONECANPAY){let f=new x1,p=new x1,l=new x1,y=new x1;for(let E of t.inputs){f.writeReverse(E.prevTxId),f.writeInt32LE(E.outputIndex),p.writeUInt64LEBN(E.output._satoshisBN);let I=E.output.script.toBuffer();l.writeUInt8(I.length),l.write(I),y.writeUInt32LE(E.sequenceNumber)}let _=r2.sha256(f.toBuffer());a.write(_);let O=r2.sha256(p.toBuffer());a.write(O);let F=r2.sha256(l.toBuffer());a.write(F);let B=r2.sha256(y.toBuffer());a.write(B)}if(u===So.SIGHASH_ALL){let f=new x1;for(let l of t.outputs)f.write(l.toBufferWriter().toBuffer());let p=r2.sha256(f.toBuffer());a.write(p)}S1.checkArgument(i.annexInit,"missing or invalid annexInit");let h=(s<<1)+(i.annexPresent?1:0);if(a.writeUInt8(h),c===So.SIGHASH_ANYONECANPAY){let f=new x1;f.writeReverse(t.inputs[r].prevTxId),f.writeInt32LE(t.inputs[r].outputIndex),a.write(f.toBuffer()),a.write(t.inputs[r].output.toBufferWriter().toBuffer()),a.writeUInt32LE(t.inputs[r].sequenceNumber)}else a.writeUInt32LE(r);if(i.annexPresent&&a.write(i.annexHash),u===So.SIGHASH_SINGLE){if(r>=t.outputs.length)return!1;let f=new x1;f.writeUInt64LEBN(t.outputs[r]._satoshisBN);let p=t.outputs[r].script.toBuffer();f.writeVarintNum(p.length),f.write(p),a.write(r2.sha256(f.toBuffer()))}return n==So.Version.TAPSCRIPT&&(S1.checkArgument(i.tapleafHashInit,"missing or invalid tapleafHashInit"),a.write(i.tapleafHash),a.writeUInt8(o),S1.checkArgument(i.codeseparatorPosInit,"missing or invalid codeseparatorPosInit"),a.writeUInt32LE(i.codeseparatorPos)),a}function zI(t,e,r,n,i){return SW(t,e,r,n,i).finalize()}function Mve(t,e,r,n,i){return SW(t,e,r,n,i).toBuffer()}function wW(t,e){let r={annexInit:!0,annexPresent:!1};if(t===So.Version.TAPSCRIPT){if(r.codeseparatorPosInit=!0,r.codeseparatorPos=4294967295,!e)return!1;r.tapleafHashInit=!0,r.tapleafHash=e}return r}function Rve(t,e,r,n,i,s){S1.checkArgument(i===So.Version.TAPROOT||i===So.Version.TAPSCRIPT,"Invalid sigversion");let o=wW(i,s),a=zI(t,r,n,i,o);if(!a)return!1;let u=xW.sign(e,a);return r!==So.SIGHASH_DEFAULT?A.Buffer.concat([u,A.Buffer.from([r])]):u}function Nve(t,e,r,n,i,s){S1.checkArgument(t!=null,"Transaction Undefined"),(!s||A.Buffer.isBuffer(s))&&(s=wW(n,s)),S1.checkArgument(s.annexInit,"invalid execdata");let o=zI(t,e.nhashtype,i,n,s);return o?xW.verify(r,o,e):!1}EW.exports={sighash:zI,sighashPreimage:Mve,sign:Rve,verify:Nve}});var AW=$((Rut,TW)=>{k();M();TW.exports=function(t,e){if(typeof t.compare=="function")return t.compare(e);if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s&&t[i]===e[i];)++i;return i!==s&&(r=t[i],n=e[i]),r<n?-1:n<r?1:0}});var F0=$((Hut,BW)=>{k();M();var E8=Er(),WI=hs(),IW=On(),YI=fi(),PW=ds(),XI=aa(),n2=Ar(),Fve=Ea(),OW=JI(),ZI=Vf(),Hve=9007199254740991;function pi(t){if(!(this instanceof pi))return new pi(t);if(E8.isObject(t)){if(this.satoshis=t.satoshis,IW.isBuffer(t.script))this.setScriptFromBuffer(t.script);else{var e;E8.isString(t.script)&&YI.isHexa(t.script)?e=A.Buffer.from(t.script,"hex"):e=t.script,this.setScript(e)}t.type==="taproot"&&(this.branch=[],Object.defineProperty(this,"isValid",{configurable:!1,enumerable:!1,get:function(){this._isValid||this._branch.length},set:function(r){this._isValid=r}}),Object.defineProperty(this,"isComplete",{configurable:!1,enumerable:!1,get:function(){return this.isValid&&(this._branch.length===0||this._branch.length===1&&!!this._branch[0])}}))}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(pi.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script?this._script:(this.setScriptFromBuffer(this._scriptBuffer),this._script)}});Object.defineProperty(pi.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof WI?(this._satoshisBN=t,this._satoshis=t.toNumber()):E8.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=WI.fromNumber(this._satoshis)):(n2.checkArgument(YI.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=WI.fromNumber(t),this._satoshis=t),n2.checkState(YI.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}});pi.prototype.invalidSatoshis=function(){return this._satoshis>Hve?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1};pi.prototype.toObject=pi.prototype.toJSON=function(){var e={satoshis:this.satoshis};return e.script=this._scriptBuffer.toString("hex"),e};pi.fromObject=function(t){return new pi(t)};pi.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=XI.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(e){if(e instanceof Fve.Script.InvalidBuffer)this._script=null;else throw e}};pi.prototype.setScript=function(t){if(t instanceof XI)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(E8.isString(t))this._script=XI.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else if(IW.isBuffer(t))this.setScriptFromBuffer(t);else throw new TypeError("Invalid argument type: script");return this};pi.prototype.inspect=function(){var t;return this.script?t=this.script.inspect():t=this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"};pi.fromBufferReader=function(t){var e={};e.satoshis=t.readUInt64LEBN();var r=t.readVarintNum();return r!==0?e.script=t.read(r):e.script=A.Buffer.from([]),new pi(e)};pi.prototype.toBufferWriter=function(t){t||(t=new PW),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t};pi.prototype.calculateSize=function(){let t=8;return t+=PW.varintBufNum(this._scriptBuffer.length).length,t+=this._scriptBuffer.length,t};pi.prototype.add=function(t,e,r,n=!0){if(n2.checkArgument((r&~OW.TAPROOT_LEAF_MASK)===0,"invalid leafVersion"),!this.isValid)return;let i={hash:ZI.TAPLEAF.writeUInt8(r).write(e.toBuffer()).finalize(),leaves:[]};if(n){let s={script:e,leafVersion:r,merkleBranch:[]};i.leaves.push(s)}return this._insertNode(i,t),this};pi.prototype._insertNode=function(t,e){if(n2.checkArgument(e>=0&&e<=OW.TAPROOT_CONTROL_MAX_NODE_COUNT,"invalid depth"),e+1<this._branch.length){this.isValid=!1;return}for(;this.isValid&&this._branch.length>e&&this._branch[e];)t=this._combineNodes(t,this._branch[e]),this._branch=this._branch.slice(0,this._branch.length-2),e==0&&(this.isValid=!1),e--;this.isValid&&(this._branch.length<=e&&(this._branch=this._branch.slice(0,e+1)),n2.checkState(!this._nodes[e]),m_branch[e]=t)};pi.prototype._combineNodes=function(t,e){let r={hash:null,leaves:[]};for(let n of t.leaves)n.merkleBranch.push(e.hash),r.leaves.push(n);for(let n of e.leaves)n.merkleBranch.push(t.hash),r.leaves.push(n);return t.hash.compare(e.hash)===-1?r.hash=ZI.TAPBRANCH.write(t.hash).write(e.hash).finalize():r.hash=ZI.TAPBRANCH.write(e.hash).write(t.hash).finalize(),r};pi.prototype.finalize=function(t){n2.checkState(this.isComplete===!0,"finalize can only be called when isComplete is true");let e=t.createTapTweak(this._branch.length===0?null:this._branch[0].hash)};BW.exports=pi});var i2=$((qut,RW)=>{k();M();var T8=Er(),lm=Ar(),w1=Ea(),CW=ds(),Lut=ui(),Dve=On(),kW=fi(),QI=aa(),Uve=zf(),eP=F0(),A8=4294967295,MW=A8,Lve=A8-1,qve=A8-2,$ve=Math.pow(2,31),nP=Math.pow(2,22),tP=65535,rP=512,jve=Math.pow(2,16)-1;function Ir(t){if(!(this instanceof Ir))return new Ir(t);if(t)return this._fromObject(t)}Ir.MAXINT=A8;Ir.DEFAULT_SEQNUMBER=MW;Ir.DEFAULT_LOCKTIME_SEQNUMBER=Lve;Ir.DEFAULT_RBF_SEQNUMBER=qve;Ir.SEQUENCE_LOCKTIME_TYPE_FLAG=nP;Object.defineProperty(Ir.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new QI(this._scriptBuffer),this._script._isInput=!0),this._script)}});Ir.fromObject=function(t){lm.checkArgument(T8.isObject(t));var e=new Ir;return e._fromObject(t)};Ir.prototype._fromObject=function(t){var e;if(typeof t.prevTxId=="string"&&kW.isHexa(t.prevTxId)?e=A.Buffer.from(t.prevTxId,"hex"):e=t.prevTxId,this.witnesses=[],this.output=t.output?t.output instanceof eP?t.output:new eP(t.output):void 0,this.prevTxId=e||t.txidbuf,this.outputIndex=t.outputIndex==null?t.txoutnum:t.outputIndex,this.sequenceNumber=t.sequenceNumber==null?t.seqnum==null?MW:t.seqnum:t.sequenceNumber,t.script===void 0&&t.scriptBuffer===void 0)throw new w1.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this};Ir.prototype.toObject=Ir.prototype.toJSON=function(){var e={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(e.scriptString=this.script.toString()),this.output&&(e.output=this.output.toObject()),e};Ir.fromBufferReader=function(t){var e=new Ir;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e};Ir.prototype.toBufferWriter=function(t){t||(t=new CW),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t};Ir.prototype.setScript=function(t){if(this._script=null,t instanceof QI)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(kW.isHexa(t))this._scriptBuffer=A.Buffer.from(t,"hex");else if(T8.isString(t))this._script=new QI(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(Dve.isBuffer(t))this._scriptBuffer=A.Buffer.from(t);else throw new TypeError("Invalid argument type: script");return this};Ir.prototype.getSignatures=function(){throw new w1.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))};Ir.prototype.getSatoshisBuffer=function(){return lm.checkState(this.output instanceof eP),lm.checkState(this.output._satoshisBN),new CW().writeUInt64LEBN(this.output._satoshisBN).toBuffer()};Ir.prototype.isFullySigned=function(){throw new w1.AbstractMethodInvoked("Input#isFullySigned")};Ir.prototype.isFinal=function(){return this.sequenceNumber!==Ir.MAXINT};Ir.prototype.addSignature=function(){throw new w1.AbstractMethodInvoked("Input#addSignature")};Ir.prototype.clearSignatures=function(){throw new w1.AbstractMethodInvoked("Input#clearSignatures")};Ir.prototype.hasWitnesses=function(){return!!(this.witnesses&&this.witnesses.length>0)};Ir.prototype.getWitnesses=function(){return this.witnesses};Ir.prototype.setWitnesses=function(t){this.witnesses=t};Ir.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,Uve.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};Ir.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295};Ir.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length};Ir.prototype._getBaseSize=function(){return 32+4+4};Ir.prototype.lockForSeconds=function(t){if(lm.checkArgument(T8.isNumber(t)),t<0||t>=rP*tP)throw new w1.Transaction.Input.LockTimeRange;return t=parseInt(Math.floor(t/rP)),this.sequenceNumber=t|nP,this};Ir.prototype.lockUntilBlockHeight=function(t){if(lm.checkArgument(T8.isNumber(t)),t<0||t>=jve)throw new w1.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=t,this};Ir.prototype.getLockTime=function(){if(this.sequenceNumber&$ve)return null;if(this.sequenceNumber&nP){var t=rP*(this.sequenceNumber&tP);return t}else{var e=this.sequenceNumber&tP;return e}};RW.exports=Ir});var E1=$((Kut,HW)=>{k();M();var Eu=Ar(),Kve=yd(),I8=On(),NW=fi(),FW=Ac(),Vve=Ea(),dm=eo();function Ic(t){if(!(this instanceof Ic))return new Ic(t);if(t instanceof Ic)return t;if(t&&typeof t=="object")return this._fromObject(t);throw new Vve.InvalidArgument("TransactionSignatures must be instantiated from an object")}Kve(Ic,dm);Ic.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new FW(t.publicKey),this.prevTxId=I8.isBuffer(t.prevTxId)?t.prevTxId:A.Buffer.from(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof dm?t.signature:I8.isBuffer(t.signature)?dm.fromBuffer(t.signature):dm.fromString(t.signature),this.sigtype=t.sigtype,this};Ic.prototype._checkObjectArgs=function(t){Eu.checkArgument(FW(t.publicKey),"invalid publicKey"),Eu.checkArgument(t.inputIndex!=null,"missing inputIndex"),Eu.checkArgument(t.outputIndex!=null,"missing outputIndex"),Eu.checkState(!isNaN(t.inputIndex),"inputIndex must be a number"),Eu.checkState(!isNaN(t.outputIndex),"outputIndex must be a number"),Eu.checkArgument(t.signature,"missing signature"),Eu.checkArgument(t.prevTxId,"missing prevTxId"),Eu.checkState(t.signature instanceof dm||I8.isBuffer(t.signature)||NW.isHexa(t.signature),"signature must be a buffer or hexa value"),Eu.checkState(I8.isBuffer(t.prevTxId)||NW.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),Eu.checkArgument(t.sigtype!=null,"missing sigtype"),Eu.checkState(!isNaN(t.sigtype),"sigtype must be a number")};Ic.prototype.toObject=Ic.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}};Ic.fromObject=function(t){return Eu.checkArgument(t),new Ic(t)};HW.exports=Ic});var $W=$((Wut,qW)=>{k();M();var Gve=yd(),DW=Ar(),zut=On(),UW=i2(),zve=F0(),Wve=zf(),LW=aa(),Yve=eo(),Xve=E1();function Wf(){UW.apply(this,arguments)}Gve(Wf,UW);Wf.prototype.getSignatures=function(t,e,r,n,i,s){DW.checkState(this.output instanceof zve),n=n||Yve.SIGHASH_ALL,s=s||"ecdsa";var o=e.toPublicKey();return o.toString()===this.output.script.getPublicKey().toString("hex")?[new Xve({publicKey:o,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:Wve.sign(t,e,n,r,this.output.script),sigtype:n})]:[]};Wf.prototype.addSignature=function(t,e,r){return DW.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.setScript(LW.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this};Wf.prototype.clearSignatures=function(){return this.setScript(LW.empty()),this};Wf.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()};Wf.SCRIPT_MAX_SIZE=73;Wf.prototype._estimateSize=function(){return this._getBaseSize()+Wf.SCRIPT_MAX_SIZE};qW.exports=Wf});var sP=$((Jut,GW)=>{k();M();var Zve=yd(),jW=Ar(),P8=On(),Zut=Tc(),Jve=Fi(),KW=i2(),Qve=F0(),VW=zf(),iP=t2(),e_e=ds(),P8=On(),s2=aa(),t_e=eo(),r_e=E1();function to(){KW.apply(this,arguments)}Zve(to,KW);to.prototype.getRedeemScript=function(t){if(!this.redeemScript){var e=s2.buildWitnessV0Out(t);if(s2.buildScriptHashOut(e).equals(this.output.script)){var r=new s2;r.add(e.toBuffer()),this.setScript(r),this.redeemScript=e}}return this.redeemScript};to.prototype.getScriptCode=function(t){var e=new e_e,r;this.output.script.isScriptHashOut()?r=this.getRedeemScript(t):r=this.output.script;var n=s2.buildPublicKeyHashOut(r.toAddress()).toBuffer();return e.writeVarintNum(n.length),e.write(n),e.toBuffer()};to.prototype.getSighash=function(t,e,r,n){var i=this.getScriptCode(e),s=this.getSatoshisBuffer();return iP.sighash(t,n,r,i,s)};to.prototype.getSignatures=function(t,e,r,n,i,s,o){jW.checkState(this.output instanceof Qve),i=i||Jve.sha256ripemd160(e.publicKey.toBuffer()),n=n||t_e.SIGHASH_ALL,s=s||"ecdsa";var a;if(this.output.script.isScriptHashOut()?a=this.getRedeemScript(e.publicKey):a=this.output.script,a&&P8.equals(i,a.getPublicKeyHash())){var u;if(a.isWitnessPublicKeyHashOut()){var c=this.getSatoshisBuffer(),h=this.getScriptCode(e.publicKey);u=iP.sign(t,e,n,r,h,c)}else u=VW.sign(t,e,n,r,this.output.script);return[new r_e({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u,sigtype:n})]}return[]};to.prototype.addSignature=function(t,e,r){return jW.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([P8.concat([e.signature.toDER(),P8.integerAsSingleByteBuffer(e.sigtype)]),e.publicKey.toBuffer()]):this.setScript(s2.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this};to.prototype.clearSignatures=function(){return this.setScript(s2.empty()),this.setWitnesses([]),this};to.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()};to.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",e.signature.nhashtype=e.sigtype,this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()){var n=this.getScriptCode(),i=this.getSatoshisBuffer();return iP.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return VW.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};to.SCRIPT_MAX_SIZE=73+34;to.REDEEM_SCRIPT_SIZE=1+22;to.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=to.SCRIPT_MAX_SIZE/e;return this.output.script.isWitnessPublicKeyHashOut()?t+=r:this.output.script.isScriptHashOut()?t+=r+to.REDEEM_SCRIPT_SIZE:t+=to.SCRIPT_MAX_SIZE,t};GW.exports=to});var XW=$((nct,YW)=>{k();M();var Pc=Er(),n_e=yd(),tct=O8(),aP=i2(),i_e=F0(),pm=Ar(),WW=aa(),oP=eo(),uP=zf(),rct=Ac(),zW=On(),cP=E1();function mi(t,e,r,n,i){i=i||{},aP.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=Pc.sortBy(e,function(o){return o.toString("hex")}),pm.checkState(WW.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},Pc.each(this.publicKeys,function(o,a){s.publicKeyIndex[o.toString()]=a}),this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}n_e(mi,aP);mi.prototype.toObject=function(){var t=aP.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=Pc.map(this.publicKeys,function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};mi.prototype._deserializeSignatures=function(t){return Pc.map(t,function(e){if(!!e)return new cP(e)})};mi.prototype._serializeSignatures=function(){return Pc.map(this.signatures,function(t){if(!!t)return t.toObject()})};mi.prototype.getSignatures=function(t,e,r,n,i,s,o){pm.checkState(this.output instanceof i_e),n=n||oP.SIGHASH_ALL,s=s||"ecdsa";let a=[];for(let u of this.publicKeys||[])u.toString()===e.publicKey.toString()&&a.push(new cP({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:uP.sign(t,e,n,r,this.output.script),sigtype:n}));return a};mi.prototype.addSignature=function(t,e,r){return pm.checkState(!this.isFullySigned(),"All needed signatures have already been added"),pm.checkArgument(!Pc.isUndefined(this.publicKeyIndex[e.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),pm.checkState(this.isValidSignature(t,e,r),"Invalid Signature"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};mi.prototype._updateScript=function(){return this.setScript(WW.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this};mi.prototype._createSignatures=function(){return Pc.map(Pc.filter(this.signatures,function(t){return!Pc.isUndefined(t)}),function(t){return zW.concat([t.signature.toDER(),zW.integerAsSingleByteBuffer(t.sigtype)])})};mi.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};mi.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};mi.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};mi.prototype.countSignatures=function(){return Pc.reduce(this.signatures,function(t,e){return t+!!e},0)};mi.prototype.publicKeysWithoutSignature=function(){var t=this;return Pc.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})};mi.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,uP.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};mi.normalizeSignatures=function(t,e,r,n,i,s){return s=s||"ecdsa",i.map(function(o){var a=null;return n=n.filter(function(u){if(a)return!0;var c=new cP({signature:oP.fromTxFormat(u),publicKey:o,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:oP.SIGHASH_ALL});c.signature.nhashtype=c.sigtype;var h=uP.verify(t,c.signature,c.publicKey,c.inputIndex,e.output.script);return h?(a=c,!1):!0}),a||null})};mi.OPCODES_SIZE=1;mi.SIGNATURE_SIZE=73;mi.prototype._estimateSize=function(){return this._getBaseSize()+mi.OPCODES_SIZE+this.threshold*mi.SIGNATURE_SIZE};YW.exports=mi});var eY=$((oct,QW)=>{k();M();var s_e=Er(),o_e=yd(),fP=i2(),a_e=F0(),B8=Ar(),xd=Tc(),o2=aa(),u_e=eo(),hP=zf(),lP=t2(),c_e=ds(),ZW=On(),JW=E1();function xn(t,e,r,n,i){i=i||{},fP.apply(this,arguments),e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=s_e.sortBy(e,function(a){return a.toString("hex")}),this.redeemScript=o2.buildMultisigOut(this.publicKeys,r,i);var s=o2.buildWitnessMultisigOutFromScript(this.redeemScript);if(s.equals(this.output.script))this.nestedWitness=!1,this.type=xd.PayToWitnessScriptHash;else if(o2.buildScriptHashOut(s).equals(this.output.script))this.nestedWitness=!0,this.type=xd.PayToScriptHash;else if(o2.buildScriptHashOut(this.redeemScript).equals(this.output.script))this.nestedWitness=!1,this.type=xd.PayToScriptHash;else throw new Error("Provided public keys don't hash to the provided output");if(this.nestedWitness){var o=new o2;o.add(s.toBuffer()),this.setScript(o)}this.publicKeyIndex={};for(let a=0;a<this.publicKeys.length;a++){let u=this.publicKeys[a];this.publicKeyIndex[u.toString()]=a}this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}o_e(xn,fP);xn.prototype.toObject=function(){var t=fP.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=this.publicKeys.map(function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};xn.prototype._deserializeSignatures=function(t){return t.map(function(e){if(!!e)return new JW(e)})};xn.prototype._serializeSignatures=function(){return this.signatures.map(function(t){if(!!t)return t.toObject()})};xn.prototype.getScriptCode=function(){var t=new c_e;if(this.redeemScript.hasCodeseparators())throw new Error("@TODO");var e=this.redeemScript.toBuffer();return t.writeVarintNum(e.length),t.write(e),t.toBuffer()};xn.prototype.getSighash=function(t,e,r,n){var i;if(this.nestedWitness||this.type===xd.PayToWitnessScriptHash){var s=this.getScriptCode(),o=this.getSatoshisBuffer();i=lP.sighash(t,n,r,s,o)}else i=hP.sighash(t,n,r,this.redeemScript);return i};xn.prototype.getSignatures=function(t,e,r,n,i,s,o){B8.checkState(this.output instanceof a_e),n=n||u_e.SIGHASH_ALL,s=s||"ecdsa";let a=[];for(let f of this.publicKeys)if(f.toString()===e.publicKey.toString()){var u;if(this.nestedWitness||this.type===xd.PayToWitnessScriptHash){var c=this.getScriptCode(),h=this.getSatoshisBuffer();u=lP.sign(t,e,n,r,c,h)}else u=hP.sign(t,e,n,r,this.redeemScript);a.push(new JW({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u,sigtype:n}))}return a};xn.prototype.addSignature=function(t,e,r){return B8.checkState(!this.isFullySigned(),"All needed signatures have already been added"),B8.checkArgument(this.publicKeyIndex[e.publicKey.toString()]!=null,"Signature has no matching public key"),B8.checkState(this.isValidSignature(t,e,r),"Invalid Signature!"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};xn.prototype._updateScript=function(){if(this.nestedWitness||this.type===xd.PayToWitnessScriptHash){for(var t=[A.Buffer.alloc(0)],e=this._createSignatures(),r=0;r<e.length;r++)t.push(e[r]);t.push(this.redeemScript.toBuffer()),this.setWitnesses(t)}else{var n=o2.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(n)}return this};xn.prototype._createSignatures=function(){return this.signatures.filter(function(t){return t!=null}).map(function(t){return ZW.concat([t.signature.toDER(),ZW.integerAsSingleByteBuffer(t.sigtype)])})};xn.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};xn.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};xn.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};xn.prototype.countSignatures=function(){return this.signatures.reduce(function(t,e){return t+!!e},0)};xn.prototype.publicKeysWithoutSignature=function(){return this.publicKeys.filter(t=>!this.signatures[this.publicKeyIndex[t.toString()]])};xn.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",this.nestedWitness||this.type===xd.PayToWitnessScriptHash){e.signature.nhashtype=e.sigtype;var n=this.getScriptCode(),i=this.getSatoshisBuffer();return lP.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return e.signature.nhashtype=e.sigtype,hP.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript)};xn.MAX_OPCODES_SIZE=8;xn.MAX_SIGNATURE_SIZE=74;xn.MAX_PUBKEY_SIZE=34;xn.REDEEM_SCRIPT_SIZE=34;xn.prototype._estimateSize=function(){let t=this._getBaseSize(),e=4,r=xn.MAX_OPCODES_SIZE+this.threshold*xn.MAX_SIGNATURE_SIZE+this.publicKeys.length*xn.MAX_PUBKEY_SIZE;return this.type===xd.PayToWitnessScriptHash?t+=r/e:this.nestedWitness?t+=r/e+xn.REDEEM_SCRIPT_SIZE:t+=r,t};QW.exports=xn});var sY=$((fct,iY)=>{k();M();var f_e=yd(),dP=Ar(),tY=sP(),rY=hm(),C8=eo(),h_e=E1(),nY=F0(),cct=_d();function Yf(){tY.apply(this,arguments)}f_e(Yf,tY);Yf.prototype.getSignatures=function(t,e,r,n,i,s,o){dP.checkState(this.output instanceof nY),n=n||C8.SIGHASH_DEFAULT;let a=t.inputs.indexOf(this),u=e.createTapTweak(o).tweakedPrivKey,c=rY.sign(t,u,n,a,C8.Version.TAPROOT,null);if(!c)return[];let h=new h_e({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:a,signature:C8.fromSchnorr(c),sigtype:n});return this.isValidSignature(t,h)?[h]:[]};Yf.prototype.isValidSignature=function(t,e){return dP.checkState(t.inputs.indexOf(this)>=0,"Signature has no matching input"),dP.checkState(this.output instanceof nY,"output is not instance of Output"),this.output.script.isTaproot()?rY.verify(t,e.signature,this.output.script.chunks[1].buf,C8.Version.TAPROOT,t.inputs.indexOf(this),null):!1};Yf.prototype.isFullySigned=function(){return this.output.script.isTaproot()&&this.hasWitnesses()};Yf.prototype.addSignature=function(t,e){return this.isValidSignature(t,e)&&this.setWitnesses([e.signature.toBuffer()]),this};Yf.SCRIPT_MAX_SIZE=66;Yf.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=Yf.SCRIPT_MAX_SIZE/e;return t+=r,t};iY.exports=Yf});var k8=$((dct,T1)=>{k();M();T1.exports=i2();T1.exports.PublicKey=$W();T1.exports.PublicKeyHash=sP();T1.exports.MultiSig=XW();T1.exports.MultiSigScriptHash=eY();T1.exports.Taproot=sY()});var zf=$((gct,uY)=>{k();M();var mm=eo(),pP=aa(),l_e=F0(),d_e=bc(),p_e=ds(),m_e=hs(),g_e=Fi(),aY=cm(),oY=Ar(),mP=Er(),b_e="0000000000000000000000000000000000000000000000000000000000000001",y_e="ffffffffffffffff",gP=function(e,r,n,i){var s=O8(),o=k8();n=parseInt(n);var a,u=s.shallowCopy(e);for(i=new pP(i),i.removeCodeseparators(),a=0;a<u.inputs.length;a++)u.inputs[a]=new o(u.inputs[a]).setScript(pP.empty());if(u.inputs[n]=new o(u.inputs[n]).setScript(i),(r&31)===mm.SIGHASH_NONE||(r&31)===mm.SIGHASH_SINGLE)for(a=0;a<u.inputs.length;a++)a!==n&&(u.inputs[a].sequenceNumber=0);if((r&31)===mm.SIGHASH_NONE)u.outputs=[];else if((r&31)===mm.SIGHASH_SINGLE){if(n>=u.outputs.length)return A.Buffer.from(b_e,"hex");for(u.outputs.length=n+1,a=0;a<n;a++)u.outputs[a]=new l_e({satoshis:m_e.fromBuffer(A.Buffer.from(y_e,"hex")),script:pP.empty()})}r&mm.SIGHASH_ANYONECANPAY&&(u.inputs=[u.inputs[n]]);var c=new p_e().write(u.toBuffer()).writeInt32LE(r).toBuffer(),h=g_e.sha256sha256(c);return h=new d_e(h).readReverse(),h};function v_e(t,e,r,n,i){let s=gP(t,r,n,i);return aY.sign(s,e,"little").set({nhashtype:r})}function __e(t,e,r,n,i){oY.checkArgument(!mP.isUndefined(t),"Transaction Undefined"),oY.checkArgument(!mP.isUndefined(e)&&!mP.isUndefined(e.nhashtype),"Signature Undefined");let s=gP(t,e.nhashtype,n,i);return aY.verify(s,e,r,"little")}uY.exports={sighash:gP,sign:v_e,verify:__e}});var R8=$((vct,cY)=>{k();M();var bP=Er(),M8=Ea(),x_e=Ar(),A1={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function ir(t,e){if(!(this instanceof ir))return new ir(t,e);if(bP.isNumber(e)){if(e<=0)throw new M8.Unit.InvalidRate(e);t=t/e,e=ir.BTC}this._value=this._from(t,e);var r=this,n=function(i){Object.defineProperty(r,i,{get:function(){return r.to(i)},enumerable:!0})};Object.keys(A1).forEach(n)}Object.keys(A1).forEach(function(t){ir[t]=t});ir.fromObject=function(e){return x_e.checkArgument(bP.isObject(e),"Argument is expected to be an object"),new ir(e.amount,e.code)};ir.fromBTC=function(t){return new ir(t,ir.BTC)};ir.fromMillis=ir.fromMilis=function(t){return new ir(t,ir.mBTC)};ir.fromMicros=ir.fromBits=function(t){return new ir(t,ir.bits)};ir.fromSatoshis=function(t){return new ir(t,ir.satoshis)};ir.fromFiat=function(t,e){return new ir(t,e)};ir.prototype._from=function(t,e){if(!A1[e])throw new M8.Unit.UnknownCode(e);return parseInt((t*A1[e][0]).toFixed())};ir.prototype.to=function(t){if(bP.isNumber(t)){if(t<=0)throw new M8.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!A1[t])throw new M8.Unit.UnknownCode(t);var e=this._value/A1[t][0];return parseFloat(e.toFixed(A1[t][1]))};ir.prototype.toBTC=function(){return this.to(ir.BTC)};ir.prototype.toMillis=ir.prototype.toMilis=function(){return this.to(ir.mBTC)};ir.prototype.toMicros=ir.prototype.toBits=function(){return this.to(ir.bits)};ir.prototype.toSatoshis=function(){return this.to(ir.satoshis)};ir.prototype.atRate=function(t){return this.to(t)};ir.prototype.toString=function(){return this.satoshis+" satoshis"};ir.prototype.toObject=ir.prototype.toJSON=function(){return{amount:this.BTC,code:ir.BTC}};ir.prototype.inspect=function(){return"<Unit: "+this.toString()+">"};cY.exports=ir});var yP=$((Sct,lY)=>{k();M();var Xf=Er(),N8=Ar(),fY=fi(),S_e=aa(),w_e=Tc(),hY=R8();function Zf(t){if(!(this instanceof Zf))return new Zf(t);N8.checkArgument(Xf.isObject(t),"Must provide an object from where to extract data");var e=t.address?new w_e(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!fY.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var n=Xf.isUndefined(t.vout)?t.outputIndex:t.vout;if(!Xf.isNumber(n))throw new Error("Invalid outputIndex, received "+n);N8.checkArgument(!Xf.isUndefined(t.scriptPubKey)||!Xf.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var i=new S_e(t.scriptPubKey||t.script);N8.checkArgument(!Xf.isUndefined(t.amount)||!Xf.isUndefined(t.satoshis),"Must provide an amount for the output");var s=Xf.isUndefined(t.amount)?t.satoshis:new hY.fromBTC(t.amount).toSatoshis();N8.checkArgument(Xf.isNumber(s),"Amount must be a number"),fY.defineImmutable(this,{address:e,txId:r,outputIndex:n,script:i,satoshis:s})}Zf.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"};Zf.prototype.toString=function(){return this.txId+":"+this.outputIndex};Zf.fromObject=function(t){return new Zf(t)};Zf.prototype.toObject=Zf.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:hY.fromSatoshis(this.satoshis).toBTC()}};lY.exports=Zf});var O8=$((Tct,bY)=>{k();M();var wd=Er(),qn=Ar(),E_e=ui(),dY=A.Buffer.compare||AW(),Yi=Ea(),T_e=On(),H8=fi(),vP=bc(),u2=ds(),_P=Fi(),a2=eo(),A_e=zf(),I_e=t2(),P_e=hm(),O_e=Tc(),pY=yP(),oi=k8(),B_e=oi.PublicKeyHash,C_e=oi.PublicKey,k_e=oi.MultiSigScriptHash,M_e=oi.MultiSig,R_e=oi.Taproot,Ed=F0(),Sd=aa(),N_e=_d(),F8=hs();function Ee(t,e){if(!(this instanceof Ee))return new Ee(t);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof Ee)return Ee.shallowCopy(t);if(H8.isHexa(t))this.fromString(t);else if(T_e.isBuffer(t))this.fromBuffer(t);else if(wd.isObject(t))this.fromObject(t,e);else throw new Yi.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var mY=2,F_e=0,H_e=1e6;Ee.DUST_AMOUNT=546;Ee.FEE_SECURITY_MARGIN=150;Ee.MAX_MONEY=21e6*1e8;Ee.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8;Ee.NLOCKTIME_MAX_VALUE=4294967295;Ee.FEE_PER_KB=1e5;Ee.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;Ee.MAXIMUM_EXTRA_SIZE=4+9+9+4;Ee.shallowCopy=function(t){var e=new Ee(t.toBuffer());return e};var gY={configurable:!1,enumerable:!0,get:function(){return this._hash=new vP(this._getHash()).readReverse().toString("hex"),this._hash}},D_e={configurable:!1,enumerable:!0,get:function(){return new vP(this._getWitnessHash()).readReverse().toString("hex")}};Object.defineProperty(Ee.prototype,"witnessHash",D_e);Object.defineProperty(Ee.prototype,"hash",gY);Object.defineProperty(Ee.prototype,"id",gY);var xP={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(Ee.prototype,"inputAmount",xP);xP.get=function(){return this._getOutputAmount()};Object.defineProperty(Ee.prototype,"outputAmount",xP);Object.defineProperty(Ee.prototype,"size",{configurable:!1,enumerable:!1,get:function(){return this._calculateSize()}});Object.defineProperty(Ee.prototype,"vsize",{configurable:!1,enumerable:!1,get:function(){return this._calculateVSize()}});Object.defineProperty(Ee.prototype,"weight",{configurable:!1,enumerable:!1,get:function(){return this._calculateWeight()}});Ee.prototype._getHash=function(){return _P.sha256sha256(this.toBuffer(!0))};Ee.prototype._getWitnessHash=function(){return _P.sha256sha256(this.toBuffer(!1))};Ee.prototype.serialize=function(t){return t===!0||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)};Ee.prototype.uncheckedSerialize=Ee.prototype.toString=function(){return this.toBuffer().toString("hex")};Ee.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" - For more information please see: https://github.com/bitpay/bitcore/blob/master/packages/bitcore-lib/docs/transaction.md#serialization-checks",e;return this.uncheckedSerialize()};Ee.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t};Ee.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new Yi.Transaction.InvalidSatoshis;var e=this._getUnspentValue(),r;return e<0?t.disableMoreOutputThanInput||(r=new Yi.Transaction.InvalidOutputAmountSum):r=this._hasFeeError(t,e),r||this._hasDustOutputs(t)||this._isMissingSignatures(t)};Ee.prototype._hasFeeError=function(t,e){if(this._fee!=null&&this._fee!==e)return new Yi.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(Ee.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new Yi.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new Yi.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var n=Math.ceil(this._estimateFee()/Ee.FEE_SECURITY_MARGIN);if(e<n)return new Yi.Transaction.FeeError.TooSmall("expected more than "+n+" but got "+e)}};Ee.prototype._missingChange=function(){return!this._changeScript};Ee.prototype._hasDustOutputs=function(t){if(!t.disableDustOutputs){var e,r;for(e in this.outputs)if(r=this.outputs[e],r.satoshis<Ee.DUST_AMOUNT&&!r.script.isDataOut())return new Yi.Transaction.DustOutputs}};Ee.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned&&!this.isFullySigned())return new Yi.Transaction.MissingSignatures};Ee.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"};Ee.prototype.toBuffer=function(t){var e=new u2;return this.toBufferWriter(e,t).toBuffer()};Ee.prototype.hasWitnesses=function(){for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].hasWitnesses())return!0;return!1};Ee.prototype.toBufferWriter=function(t,e){t.writeInt32LE(this.version);let r=this.hasWitnesses();r&&!e&&t.write(A.Buffer.from("0001","hex")),t.writeVarintNum(this.inputs?this.inputs.length:0);for(let n of this.inputs||[])n.toBufferWriter(t);t.writeVarintNum(this.outputs?this.outputs.length:0);for(let n of this.outputs||[])n.toBufferWriter(t);if(r&&!e)for(let n of this.inputs){let i=n.getWitnesses();t.writeVarintNum(i.length);for(let s=0;s<i.length;s++)t.writeVarintNum(i[s].length),t.write(i[s])}return t.writeUInt32LE(this.nLockTime),t};Ee.prototype.fromBuffer=function(t){var e=new vP(t);return this.fromBufferReader(e)};Ee.prototype.fromBufferReader=function(t){qn.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readInt32LE();var e=t.readVarintNum(),r=!1;e===0&&t.buf[t.pos]!==0&&(t.pos+=1,r=!0,e=t.readVarintNum());for(var n=0;n<e;n++){var i=oi.fromBufferReader(t);this.inputs.push(i)}for(var s=t.readVarintNum(),o=0;o<s;o++)this.outputs.push(Ed.fromBufferReader(t));if(r)for(var a=0;a<e;a++){for(var u=t.readVarintNum(),c=[],h=0;h<u;h++){var f=t.readVarintNum(),p=t.read(f);c.push(p)}this.inputs[a].setWitnesses(c)}return this.nLockTime=t.readUInt32LE(),this};Ee.prototype.toObject=Ee.prototype.toJSON=function(){var e=[];this.inputs.forEach(function(i){e.push(i.toObject())});var r=[];this.outputs.forEach(function(i){r.push(i.toObject())});var n={hash:this.hash,version:this.version,inputs:e,outputs:r,nLockTime:this.nLockTime};return this._changeScript&&(n.changeScript=this._changeScript.toString()),this._changeIndex!=null&&(n.changeIndex=this._changeIndex),this._fee!=null&&(n.fee=this._fee),n};Ee.prototype.fromObject=function(e,r){qn.checkArgument(wd.isObject(e)||e instanceof Ee);var n;e instanceof Ee?n=e.toObject():n=e;for(let o of n.inputs||[]){if(!o.output||!o.output.script){this.uncheckedAddInput(new oi(o));continue}var i=new Sd(o.output.script),s;if((i.isScriptHashOut()||i.isWitnessScriptHashOut())&&o.publicKeys&&o.threshold)s=new oi.MultiSigScriptHash(o,o.publicKeys,o.threshold,o.signatures,r);else if(i.isPublicKeyHashOut()||i.isWitnessPublicKeyHashOut()||i.isScriptHashOut())s=new oi.PublicKeyHash(o);else if(i.isPublicKeyOut())s=new oi.PublicKey(o);else throw new Yi.Transaction.Input.UnsupportedScript(o.output.script);this.addInput(s)}for(let o of n.outputs||[])this.addOutput(new Ed(o));return n.changeIndex&&(this._changeIndex=n.changeIndex),n.changeScript&&(this._changeScript=new Sd(n.changeScript)),n.fee&&(this._fee=n.fee),this.nLockTime=n.nLockTime,this.version=n.version,this._checkConsistency(e),this};Ee.prototype._checkConsistency=function(t){this._changeIndex!=null&&(qn.checkState(this._changeScript,"Change script is expected."),qn.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),qn.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),t&&t.hash&&qn.checkState(t.hash===this.hash,"Hash in object does not match transaction hash.")};Ee.prototype.lockUntilDate=function(t){if(qn.checkArgument(t),!isNaN(t)&&t<Ee.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Yi.Transaction.LockTimeTooEarly;wd.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===oi.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=oi.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};Ee.prototype.lockUntilBlockHeight=function(t){if(qn.checkArgument(!isNaN(t)),t>=Ee.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Yi.Transaction.BlockHeightTooHigh;if(t<0)throw new Yi.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===oi.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=oi.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};Ee.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<Ee.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null};Ee.prototype.fromString=function(t){this.fromBuffer(E_e.Buffer.from(t,"hex"))};Ee.prototype._newTransaction=function(){this.version=mY,this.nLockTime=F_e};Ee.prototype.from=function(t,e,r,n){if(Array.isArray(t)){for(let s of t)this.from(s,e,r,n);return this}return this.inputs.some(function(s){return s.prevTxId.toString("hex")===t.txId&&s.outputIndex===t.outputIndex})?this:(e&&r?this._fromMultisigUtxo(t,e,r,n):this._fromNonP2SH(t,n),this)};Ee.prototype.associateInputs=function(t,e,r,n={}){let i=[];for(let s of t){let o=this.inputs.findIndex(a=>a.prevTxId.toString("hex")===s.txId&&a.outputIndex===s.outputIndex);if(i.push(o),o>=0){let a=this.inputs[o].sequenceNumber;this.inputs[o]=this._getInputFrom(s,e,r,n),this.inputs[o].sequenceNumber=a}}return i};Ee.prototype._selectInputType=function(t,e,r){var n;return t=new pY(t),e&&r?t.script.isMultisigOut()?n=M_e:(t.script.isScriptHashOut()||t.script.isWitnessScriptHashOut())&&(n=k_e):t.script.isPublicKeyHashOut()||t.script.isWitnessPublicKeyHashOut()||t.script.isScriptHashOut()?n=B_e:t.script.isTaproot()?n=R_e:t.script.isPublicKeyOut()?n=C_e:n=oi,n};Ee.prototype._getInputFrom=function(t,e,r,n={}){t=new pY(t);let i=this._selectInputType(t,e,r),s={output:new Ed({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,sequenceNumber:n.sequenceNumber,script:Sd.empty()},o=e&&r?[e,r,!1,n]:[];return new i(s,...o)};Ee.prototype._fromNonP2SH=function(t,e){let r=this._getInputFrom(t,null,null,e);this.addInput(r)};Ee.prototype._fromMultisigUtxo=function(t,e,r,n){qn.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys");let i=this._getInputFrom(t,e,r,n);this.addInput(i)};Ee.prototype.addInput=function(t,e,r){if(qn.checkArgumentType(t,oi,"input"),!t.output&&(e==null||r==null))throw new Yi.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!t.output&&e&&r!=null&&(e=e instanceof Sd?e:new Sd(e),qn.checkArgumentType(r,"number","satoshis"),t.output=new Ed({script:e,satoshis:r})),this.uncheckedAddInput(t)};Ee.prototype.uncheckedAddInput=function(t){return qn.checkArgumentType(t,oi,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this};Ee.prototype.hasAllUtxoInfo=function(){return this.inputs.every(function(t){return!!t.output})};Ee.prototype.fee=function(t){return qn.checkArgument(!isNaN(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this};Ee.prototype.feePerKb=function(t){return qn.checkArgument(!isNaN(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this};Ee.prototype.feePerByte=function(t){return qn.checkArgument(!isNaN(t),"amount must be a number"),this._feePerByte=t,this._updateChangeOutput(),this};Ee.prototype.change=function(t){return qn.checkArgument(t,"address is required"),this._changeScript=Sd.fromAddress(t),this._updateChangeOutput(),this};Ee.prototype.getChangeOutput=function(){return this._changeIndex!=null?this.outputs[this._changeIndex]:null};Ee.prototype.to=function(t,e){if(Array.isArray(t)){for(let r of t)this.to(r.address,r.satoshis);return this}return qn.checkArgument(H8.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new Ed({script:Sd(new O_e(t)),satoshis:e})),this};Ee.prototype.addData=function(t){return this.addOutput(new Ed({script:Sd.buildDataOut(t),satoshis:0})),this};Ee.prototype.addOutput=function(t){return qn.checkArgumentType(t,Ed,"output"),this._addOutput(t),this._updateChangeOutput(),this};Ee.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this};Ee.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0};Ee.prototype._getOutputAmount=function(){if(this._outputAmount==null){var t=this;this._outputAmount=0;for(let e of this.outputs||[])t._outputAmount+=e.satoshis}return this._outputAmount};Ee.prototype._getInputAmount=function(){return this._inputAmount==null&&(this._inputAmount=wd.sumBy(this.inputs,function(t){if(t.output==null)throw new Yi.Transaction.Input.MissingPreviousOutput;return t.output.satoshis})),this._inputAmount};Ee.prototype._updateChangeOutput=function(t){if(!!this._changeScript){t||this._clearSignatures(),this._changeIndex!=null&&this._removeOutput(this._changeIndex);var e=this._getUnspentValue(),r=this.getFee(),n=e-r;n>Ee.DUST_AMOUNT?(this._changeIndex=this.outputs.length,this._addOutput(new Ed({script:this._changeScript,satoshis:n}))):this._changeIndex=void 0}};Ee.prototype.getFee=function(){return this.isCoinbase()?0:this._fee!=null?this._fee:this._changeScript?this._estimateFee():this._getUnspentValue()};Ee.prototype._estimateFee=function(){let t=this._estimateSize(),e=this._getUnspentValue(),r=this._feePerByte||(this._feePerKb||Ee.FEE_PER_KB)/1e3;function n(o){return o*r}let i=Math.ceil(n(t)),s=Math.ceil(n(t)+n(this._estimateSizeOfChangeOutput()));return!this._changeScript||e<=s?i:s};Ee.prototype._estimateSizeOfChangeOutput=function(){if(!this._changeScript)return 0;let t=this._changeScript.toBuffer().length;return 8+u2.varintBufNum(t).length+t};Ee.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()};Ee.prototype._clearSignatures=function(){for(let t of this.inputs||[])t.clearSignatures()};Ee.prototype._estimateSize=function(){let t=4;this.hasWitnesses()&&(t+=.5),t+=u2.varintBufNum(this.inputs.length).length;for(let e of this.inputs||[])t+=e._estimateSize();t+=u2.varintBufNum(this.outputs.length).length;for(let e of this.outputs||[])t+=e.calculateSize();return t+=4,Math.ceil(t)};Ee.prototype._calculateSize=function(){return this.toBuffer().length};Ee.prototype._calculateVSize=function(t){let e=this._calculateWeight()/4;return t?e:Math.ceil(e)};Ee.prototype._calculateWeight=function(){return this.toBuffer(!0).length*3+this.toBuffer(!1).length};Ee.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=wd.without(this.outputs,e),this._outputAmount=void 0};Ee.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()};Ee.prototype.sort=function(){return this.sortInputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return dY(n.prevTxId,i.prevTxId)||n.outputIndex-i.outputIndex||n.i-i.i}),e}),this.sortOutputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return n.satoshis-i.satoshis||dY(n.script.toBuffer(),i.script.toBuffer())||n.i-i.i}),e}),this};Ee.prototype.shuffleOutputs=function(){return this.sortOutputs(wd.shuffle)};Ee.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)};Ee.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this};Ee.prototype._newOutputOrder=function(t){var e=this.outputs.length!==t.length||wd.difference(this.outputs,t).length!==0;if(e)throw new Yi.Transaction.InvalidSorting;if(this._changeIndex!=null){var r=this.outputs[this._changeIndex];this._changeIndex=t.indexOf(r)}return this.outputs=t,this};Ee.prototype.removeInput=function(t,e){var r;if(!e&&!isNaN(t)?r=t:r=this.inputs.findIndex(function(i){return i.prevTxId.toString("hex")===t&&i.outputIndex===e}),r<0||r>=this.inputs.length)throw new Yi.Transaction.InvalidIndex(r,this.inputs.length);var n=this.inputs[r];this.inputs=wd.without(this.inputs,n),this._inputAmount=void 0,this._updateChangeOutput()};Ee.prototype.sign=function(t,e,r,n){if(qn.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction."),Array.isArray(t)){for(let i of t)this.sign(i,e,r,n);return this}for(let i of this.getSignatures(t,e,r,n))this.applySignature(i,r);return this};Ee.prototype.getSignatures=function(t,e,r,n){typeof n=="string"&&(n=A.Buffer.from(n,"hex")),t=new N_e(t);let i=[],s=_P.sha256ripemd160(t.publicKey.toBuffer());for(let o=0;o<this.inputs.length;o++){let a=this.inputs[o];for(let u of a.getSignatures(this,t,o,e,s,r,n))i.push(u)}return i};Ee.prototype.applySignature=function(t,e){return this.inputs[t.inputIndex].addSignature(this,t,e),this};Ee.prototype.isFullySigned=function(){for(let t of this.inputs||[])if(t.isFullySigned===oi.prototype.isFullySigned)throw new Yi.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs.every(function(t){return t.isFullySigned()})};Ee.prototype.isValidSignature=function(t,e){if(this.inputs[t.inputIndex].isValidSignature===oi.prototype.isValidSignature)throw new Yi.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t,e)};Ee.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),o=new u2;o.writeVarintNum(s.length),o.write(s);var a;i?(qn.checkState(H8.isNaturalNumber(i),"satoshis needs to be a natural number"),a=new u2().writeUInt64LEBN(new F8(i)).toBuffer()):a=this.inputs[r].getSatoshisBuffer();var u=I_e.verify(this,t,e,r,o.toBuffer(),a);return u};Ee.prototype.checkSchnorrSignature=function(t,e,r,n,i){if(qn.isType(e,"PublicKey")&&(e=e.point.x.toBuffer()),qn.checkArgument(e&&e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),A.Buffer.isBuffer(t)){if(t.length!==64&&t.length!==65)return!1;t=a2.fromSchnorr(t)}return qn.checkArgument(t.isSchnorr,"Signature must be schnorr"),!!P_e.verify(this,t,e,n,r,i)};Ee.prototype.verifySignature=function(t,e,r,n,i,s,o){switch(i==null&&(i=a2.Version.BASE),i){case a2.Version.WITNESS_V0:return this.checkEcdsaSignature(t,e,r,n,s);case a2.Version.TAPROOT:case a2.Version.TAPSCRIPT:return this.checkSchnorrSignature(t,e,r,i,o);case a2.Version.BASE:default:return A_e.verify(this,t,e,r,n)}};Ee.prototype.verify=function(){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var t=new F8(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new F8(Ee.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if(t=t.add(r._satoshisBN),t.gt(new F8(Ee.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>H_e)return"transaction over the maximum block size";var n={};for(e=0;e<this.inputs.length;e++){var i=this.inputs[e],s=i.prevTxId+":"+i.outputIndex;if(n[s]!=null)return"transaction input "+e+" duplicate input";n[s]=!0}var o=this.isCoinbase();if(o){var a=this.inputs[0]._scriptBuffer;if(a.length<2||a.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0};Ee.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()};Ee.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];if(e.sequenceNumber<oi.MAXINT-1)return!0}return!1};Ee.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=oi.MAXINT-1&&(e.sequenceNumber=oi.DEFAULT_RBF_SEQNUMBER)}return this};Ee.prototype.setVersion=function(t){return qn.checkArgument(H8.isNaturalNumber(t)&&t<=mY,"Wrong version number"),this.version=t,this};bY.exports=Ee});var gm=$((Pct,Jf)=>{k();M();Jf.exports=O8();Jf.exports.Input=k8();Jf.exports.Output=F0();Jf.exports.UnspentOutput=yP();Jf.exports.Signature=E1();Jf.exports.Sighash=zf();Jf.exports.SighashWitness=t2();Jf.exports.SighashSchnorr=hm()});var JI=$((Cct,vY)=>{k();M();var c2=Er(),Tu=jI(),me=_8(),Ft=hs(),I1=Fi(),Pr=eo(),f2=Ac(),Au=Ar(),U_e=t2(),L_e=hm(),D8=ds(),yY=Vf(),de=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};de.prototype.verifyWitnessProgram=function(t,e,r,n,i,s){var o=new Tu,a=[];if(t===0)if(e.length===de.WITNESS_V0_SCRIPTHASH_SIZE){if(r.length===0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var u=r[r.length-1];o=new Tu(u);var c=I1.sha256(u);return c.toString("hex")!==e.toString("hex")?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(a=r.slice(0,-1),this.executeWitnessScript(o,a,Pr.Version.WITNESS_V0,n,i))}else return e.length===de.WITNESS_V0_KEYHASH_SIZE?r.length!==2?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(o.add(me.OP_DUP),o.add(me.OP_HASH160),o.add(e),o.add(me.OP_EQUALVERIFY),o.add(me.OP_CHECKSIG),a=r,this.executeWitnessScript(o,a,Pr.Version.WITNESS_V0,n,i)):(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1);else if(t===1&&e.length==de.WITNESS_V1_TAPROOT_SIZE&&!s){let h={annexPresent:!1};if(!(i&de.SCRIPT_VERIFY_TAPROOT))return!0;if(a=Array.from(r),a.length==0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;if(a.length>=2&&a[a.length-1].length&&a[a.length-1][0]===Tu.ANNEX_TAG){let f=a.pop(),p=new D8;p.writeVarintNum(f.length),p.write(f),h.annexHash=I1.sha256(p.toBuffer()),h.annexPresent=!0}if(h.annexInit=!0,a.length===1)return this.checkSchnorrSignature(a[0],e,Pr.Version.TAPROOT,h);{let f=a.pop(),p=a.pop();if(f.length<de.TAPROOT_CONTROL_BASE_SIZE||f.length>de.TAPROOT_CONTROL_MAX_SIZE||(f.length-de.TAPROOT_CONTROL_BASE_SIZE)%de.TAPROOT_CONTROL_NODE_SIZE!=0)return this.errstr="SCRIPT_ERR_TAPROOT_WRONG_CONTROL_SIZE",!1;if(h.tapleafHash=de.computeTapleafHash(f[0]&de.TAPROOT_LEAF_MASK,p),!de.verifyTaprootCommitment(f,e,h.tapleafHash))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;if(h.tapleafHashInit=!0,(f[0]&de.TAPROOT_LEAF_MASK)===de.TAPROOT_LEAF_TAPSCRIPT){let l;{let y=new D8;y.writeVarintNum(r.length);for(let _ of r)y.writeVarintNum(_.length),y.write(_);l=y.toBuffer().length}try{o=new Tu(p)}catch{return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return h.validationWeightLeft=l+Tu.VALIDATION_WEIGHT_OFFSET,h.validationWeightLeftInit=!0,this.executeWitnessScript(o,a,Pr.Version.TAPSCRIPT,n,i,h)}return i&de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION?(this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION",!1):!0}}else if(i&de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1;return!0};de.prototype.executeWitnessScript=function(t,e,r,n,i,s){if(r===Pr.Version.TAPSCRIPT){for(let a of t.chunks)if(me.isOpSuccess(a.opcodenum))return i&de.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS?(this.errstr="SCRIPT_ERR_DISCOURAGE_OP_SUCCESS",!1):!0;if(e.length>de.MAX_STACK_SIZE)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}if(e.length&&e.some(a=>a.length>de.MAX_SCRIPT_ELEMENT_SIZE))return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(this.initialize(),this.set({script:t,stack:e,sigversion:r,satoshis:n,flags:i,execdata:s}),!this.evaluate())return!1;if(this.stack.length!==1)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var o=this.stack[this.stack.length-1];return de.castToBool(o)?!0:(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)};de.prototype.verify=function(t,e,r,n,i,s,o){var a=gm();c2.isUndefined(r)&&(r=new a),c2.isUndefined(n)&&(n=0),c2.isUndefined(i)&&(i=0),c2.isUndefined(s)&&(s=null),c2.isUndefined(o)&&(o=0),this.set({script:t,tx:r,nin:n,sigversion:Pr.Version.BASE,satoshis:0,flags:i});var u;if((i&de.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;i&de.SCRIPT_VERIFY_P2SH&&(u=this.stack.slice());var c=this.stack;if(this.initialize(),this.set({script:e,stack:c,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var h=this.stack[this.stack.length-1];if(!de.castToBool(h))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var f=!1;if(i&de.SCRIPT_VERIFY_WITNESS){var p={};if(e.isWitnessProgram(p)){if(f=!0,t.toBuffer().length!==0)return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED",!1;if(!this.verifyWitnessProgram(p.version,p.program,s,o,this.flags,!1))return!1}}if(i&de.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(u.length===0)throw new Error("internal error - stack copy empty");var l=u[u.length-1],y=Tu.fromBuffer(l);if(u.pop(),this.initialize(),this.set({script:y,stack:u,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(u.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!de.castToBool(u[u.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(i&de.SCRIPT_VERIFY_WITNESS){var _={};if(y.isWitnessProgram(_)){f=!0;var O=new Tu;if(O.add(y.toBuffer()),t.toHex()!==O.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(_.version,_.program,s,o,this.flags,!0))return!1;c=[c[0]]}}}if((this.flags&de.SCRIPT_VERIFY_CLEANSTACK)!=0){if((this.flags&de.SCRIPT_VERIFY_P2SH)==0||(this.flags&de.SCRIPT_VERIFY_WITNESS)==0)throw"flags & SCRIPT_VERIFY_P2SH";if(u.length!=1)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return this.flags&de.SCRIPT_VERIFY_WITNESS&&!f&&s.length>0?(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1):!0};vY.exports=de;de.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=Pr.Version.BASE,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.execdata={}};de.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=typeof t.nin>"u"?this.nin:parseInt(t.nin),this.stack=t.stack||this.stack,this.altstack=t.altstack||this.altstack,this.pc=typeof t.pc>"u"?this.pc:t.pc,this.pbegincodehash=typeof t.pbegincodehash>"u"?this.pbegincodehash:t.pbegincodehash,this.sigversion=typeof t.sigversion>"u"?this.sigversion:t.sigversion,this.satoshis=typeof t.satoshis>"u"?this.satoshis:t.satoshis,this.nOpCount=typeof t.nOpCount>"u"?this.nOpCount:t.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=typeof t.flags>"u"?this.flags:t.flags,this.execdata=typeof t.execdata>"u"?this.execdata:t.execdata||{}};de.true=A.Buffer.from([1]);de.false=A.Buffer.from([]);de.MAX_SCRIPT_SIZE=1e4;de.MAX_STACK_SIZE=1e3;de.MAX_SCRIPT_ELEMENT_SIZE=520;de.LOCKTIME_THRESHOLD=5e8;de.LOCKTIME_THRESHOLD_BN=new Ft(de.LOCKTIME_THRESHOLD);de.SCRIPT_VERIFY_NONE=0;de.SCRIPT_VERIFY_P2SH=1<<0;de.SCRIPT_VERIFY_STRICTENC=1<<1;de.SCRIPT_VERIFY_DERSIG=1<<2;de.SCRIPT_VERIFY_LOW_S=1<<3;de.SCRIPT_VERIFY_NULLDUMMY=1<<4;de.SCRIPT_VERIFY_SIGPUSHONLY=1<<5;de.SCRIPT_VERIFY_MINIMALDATA=1<<6;de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=1<<7;de.SCRIPT_VERIFY_CLEANSTACK=1<<8,de.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=1<<9;de.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1<<10;de.SCRIPT_VERIFY_WITNESS=1<<11;de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=1<<12;de.SCRIPT_VERIFY_MINIMALIF=1<<13;de.SCRIPT_VERIFY_NULLFAIL=1<<14;de.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=1<<15;de.SCRIPT_ENABLE_SIGHASH_FORKID=1<<16;de.SCRIPT_ENABLE_REPLAY_PROTECTION=1<<17;de.SCRIPT_VERIFY_CONST_SCRIPTCODE=1<<16;de.SCRIPT_VERIFY_TAPROOT=1<<17;de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION=1<<18;de.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS=1<<19;de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE=1<<20;de.SEQUENCE_LOCKTIME_DISABLE_FLAG=1<<31;de.SEQUENCE_LOCKTIME_TYPE_FLAG=1<<22;de.SEQUENCE_LOCKTIME_MASK=65535;de.WITNESS_V0_SCRIPTHASH_SIZE=32;de.WITNESS_V0_KEYHASH_SIZE=20;de.WITNESS_V1_TAPROOT_SIZE=32;de.TAPROOT_LEAF_MASK=254;de.TAPROOT_LEAF_TAPSCRIPT=192;de.TAPROOT_CONTROL_BASE_SIZE=33;de.TAPROOT_CONTROL_NODE_SIZE=32;de.TAPROOT_CONTROL_MAX_NODE_COUNT=128;de.TAPROOT_CONTROL_MAX_SIZE=de.TAPROOT_CONTROL_BASE_SIZE+de.TAPROOT_CONTROL_NODE_SIZE*de.TAPROOT_CONTROL_MAX_NODE_COUNT;de.PROTOCOL_VERSION=70016;de.castToBool=function(t){for(var e=0;e<t.length;e++)if(t[e]!==0)return!(e===t.length-1&&t[e]===128);return!1};de.prototype.checkSignatureEncoding=function(t){var e;if(t.length==0)return!0;if((this.flags&(de.SCRIPT_VERIFY_DERSIG|de.SCRIPT_VERIFY_LOW_S|de.SCRIPT_VERIFY_STRICTENC))!==0&&!Pr.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&de.SCRIPT_VERIFY_LOW_S)!==0){if(e=Pr.fromTxFormat(t),!e.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&de.SCRIPT_VERIFY_STRICTENC)!==0&&(e=Pr.fromTxFormat(t),!e.hasDefinedHashtype()))return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0};de.prototype.checkPubkeyEncoding=function(t){return(this.flags&de.SCRIPT_VERIFY_STRICTENC)!==0&&!f2.isValid(t)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):(this.flags&de.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)!=0&&this.sigversion==Pr.Version.WITNESS_V0&&!f2.fromBuffer(t).compressed?(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):!0};de.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),o=new D8;o.writeVarintNum(s.length),o.write(s),Au.checkState(JSUtil.isNaturalNumber(i));var a=new D8().writeUInt64LEBN(new Ft(i)).toBuffer(),u=U_e.verify(this,t,e,r,o.toBuffer(),a);return u};de.prototype.checkSchnorrSignature=function(t,e,r,n){return Au.checkArgument(t&&A.Buffer.isBuffer(t),"Missing sig"),Au.checkArgument(e&&A.Buffer.isBuffer(e),"Missing pubkey"),Au.checkArgument(r,"Missing sigversion"),Au.checkArgument(n,"Missing execdata"),Au.checkArgument(e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),t.length===64||t.length===65?t.length===65&&t[t.length-1]===Pr.SIGHASH_DEFAULT?(this.errstr="SCRIPT_ERR_SCHNORR_SIG_HASHTYPE",!1):(t=Pr.fromSchnorr(t),L_e.verify(this.tx,t,e,r,this.nin,n)):(this.errstr="SCRIPT_ERR_SCHNORR_SIG_SIZE",!1)};de.prototype._evalChecksigPreTapscript=function(t,e){Au.checkArgument(this.sigversion===Pr.Version.BASE||this.sigversion===Pr.Version.WITNESS_V0,"sigversion must be base or witness_v0");let r={success:!1,result:!1},n=new Tu().set({chunks:this.script.chunks.slice(this.pbegincodehash)});if(this.sigversion===Pr.Version.BASE){let i=new Tu().add(t),s=n.chunks.length;if(n.findAndDelete(i),s=s==n.chunks.length+1,s&&this.flags&de.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_SIG_FINDANDDELETE",r}if(!this.checkSignatureEncoding(t)||!this.checkPubkeyEncoding(e))return r;try{let i=Pr.fromTxFormat(t),s=f2.fromBuffer(e,!1);r.success=this.tx.verifySignature(i,s,this.nin,n,this.sigversion,this.satoshis)}catch{r.success=!1}return!r.success&&this.flags&de.SCRIPT_VERIFY_NULLFAIL&&t.length?(this.errstr="SCRIPT_ERR_SIG_NULLFAIL",r):(r.result=!0,r)};de.prototype._evalChecksigTapscript=function(t,e){Au.checkArgument(this.sigversion==Pr.Version.TAPSCRIPT,"this.sigversion must by TAPSCRIPT");let r={success:t.length>0,result:!1};if(r.success&&(Au.checkState(this.execdata.validationWeightLeftInit,"validationWeightLeftInit is false"),this.execdata.validationWeightLeft-=Tu.VALIDATION_WEIGHT_PER_SIGOP_PASSED,this.execdata.validationWeightLeft<0))return this.errstr="SCRIPT_ERR_TAPSCRIPT_VALIDATION_WEIGHT",r;if(e.length===0)return this.errstr="SCRIPT_ERR_PUBKEYTYPE",r;if(e.length==32){if(r.success&&!this.tx.checkSchnorrSignature(t,e,this.nin,this.sigversion,this.execdata))return this.errstr="SCRIPT_ERR_SCHNORR_SIG",r}else if((this.flags&de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE)!=0)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_PUBKEYTYPE",r;return r.result=!0,r};de.prototype._evalCheckSig=function(t,e){switch(this.sigversion){case Pr.Version.BASE:case Pr.Version.WITNESS_V0:return this._evalChecksigPreTapscript(t,e);case Pr.Version.TAPSCRIPT:return this._evalChecksigTapscript(t,e);case Pr.Version.TAPROOT:throw new Error("Called evalCheckSig with a TAPROOT sigversion. Check your implementation")}};de.prototype.evaluate=function(){if(Au.checkArgument(this.sigversion==Pr.Version.BASE||this.sigversion==Pr.Version.WITNESS_V0||this.sigversion==Pr.Version.TAPSCRIPT,"invalid sigversion"),(this.sigversion==Pr.Version.BASE||this.sigversion==Pr.Version.WITNESS_V0)&&this.script.toBuffer().length>de.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){var t=this.step();if(!t)return!1}}catch(e){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+e,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0};de.prototype.checkLockTime=function(t){return!(!(this.tx.nLockTime<de.LOCKTIME_THRESHOLD&&t.lt(de.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=de.LOCKTIME_THRESHOLD&&t.gte(de.LOCKTIME_THRESHOLD_BN))||t.gt(new Ft(this.tx.nLockTime))||!this.tx.inputs[this.nin].isFinal())};de.prototype.checkSequence=function(t){var e=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||e&de.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var r=de.SEQUENCE_LOCKTIME_TYPE_FLAG|de.SEQUENCE_LOCKTIME_MASK,n=new Ft(e&r),i=t.and(new Ft(r)),s=new Ft(de.SEQUENCE_LOCKTIME_TYPE_FLAG);return n.lt(s)&&i.lt(s)||n.gte(s)&&i.gte(s)?i.lte(n):!1};de.computeTapleafHash=function(t,e){let r=yY.TAPLEAF;return r.writeUInt8(t),r.writeVarintNum(e.length),r.write(e),r.finalize()};de.computeTaprootMerkleRoot=function(t,e){let r=(t.length-de.TAPROOT_CONTROL_BASE_SIZE)/de.TAPROOT_CONTROL_NODE_SIZE,n=e;for(let i=0;i<r;++i){let s=yY.TAPBRANCH,o=de.TAPROOT_CONTROL_BASE_SIZE+de.TAPROOT_CONTROL_NODE_SIZE*i,a=t.slice(o,o+de.TAPROOT_CONTROL_NODE_SIZE);A.Buffer.compare(n,a)===-1?(s.write(n),s.write(a)):(s.write(a),s.write(n)),n=s.finalize()}return n};de.verifyTaprootCommitment=function(t,e,r){Au.checkArgument(t.length>=de.TAPROOT_CONTROL_BASE_SIZE,"control too short"),Au.checkArgument(e.length>=32,"program is too short");try{let n=f2.fromX(!1,t.slice(1,de.TAPROOT_CONTROL_BASE_SIZE));let i=f2.fromX(!1,e),s=de.computeTaprootMerkleRoot(t,r);return i.checkTapTweak(n,s,t)}catch{return!1}};de.prototype.step=function(){var t=(this.flags&de.SCRIPT_VERIFY_MINIMALDATA)!==0,e=this.vfExec.indexOf(!1)===-1,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B;this.execdata=this.execdata||{},this.execdata.codeseparatorPosInit||(this.execdata.codeseparatorPos=new Ft(4294967295),this.execdata.codeseparatorPosInit=!0);var E=this.script.chunks[this.pc];this.pc++;var I=E.opcodenum;if(c2.isUndefined(I))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(E.buf&&E.buf.length>de.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if((this.sigversion===Pr.Version.BASE||this.sigversion===Pr.Version.WITNESS_V0)&&I>me.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(I===me.OP_SUBSTR||I===me.OP_LEFT||I===me.OP_RIGHT||I===me.OP_INVERT||I===me.OP_AND||I===me.OP_OR||I===me.OP_XOR||I===me.OP_2MUL||I===me.OP_2DIV||I===me.OP_MUL||I===me.OP_DIV||I===me.OP_MOD||I===me.OP_LSHIFT||I===me.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(I==me.OP_CODESEPARATOR&&this.sigversion===Pr.Version.BASE&&this.flags&de.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_OP_CODESEPARATOR",!1;if(e&&0<=I&&I<=me.OP_PUSHDATA4){if(t&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!E.buf)this.stack.push(de.false);else{if(E.len!==E.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(E.buf)}}else if(e||me.OP_IF<=I&&I<=me.OP_ENDIF)switch(I){case me.OP_1NEGATE:case me.OP_1:case me.OP_2:case me.OP_3:case me.OP_4:case me.OP_5:case me.OP_6:case me.OP_7:case me.OP_8:case me.OP_9:case me.OP_10:case me.OP_11:case me.OP_12:case me.OP_13:case me.OP_14:case me.OP_15:case me.OP_16:o=I-(me.OP_1-1),r=new Ft(o).toScriptNumBuffer(),this.stack.push(r);break;case me.OP_NOP:break;case me.OP_NOP2:case me.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&de.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var U=Ft.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(U.lt(new Ft(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(U))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case me.OP_NOP3:case me.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&de.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var N=Ft.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(N.lt(new Ft(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((N&de.SEQUENCE_LOCKTIME_DISABLE_FLAG)!=0)break;if(!this.checkSequence(N))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case me.OP_NOP1:case me.OP_NOP4:case me.OP_NOP5:case me.OP_NOP6:case me.OP_NOP7:case me.OP_NOP8:case me.OP_NOP9:case me.OP_NOP10:if(this.flags&de.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case me.OP_IF:case me.OP_NOTIF:{if(F=!1,e){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(r=this.stack[this.stack.length-1],this.sigversion===Pr.Version.TAPSCRIPT&&(r.length>1||r.length===1&&r[0]!==1))return this.errstr="SCRIPT_ERR_TAPSCRIPT_MINIMALIF",!1;if(this.sigversion===Pr.Version.WITNESS_V0&&this.flags&de.SCRIPT_VERIFY_MINIMALIF){if(r=this.stack[this.stack.length-1],r.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(r.length==1&&r[0]!=1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}F=de.castToBool(r),I===me.OP_NOTIF&&(F=!F),this.stack.pop()}this.vfExec.push(F)}break;case me.OP_ELSE:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1]}break;case me.OP_ENDIF:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop()}break;case me.OP_VERIFY:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],F=de.castToBool(r),F)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1}break;case me.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case me.OP_TOALTSTACK:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop())}break;case me.OP_FROMALTSTACK:{if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop())}break;case me.OP_2DROP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop()}break;case me.OP_2DUP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],this.stack.push(n),this.stack.push(i)}break;case me.OP_3DUP:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-3],i=this.stack[this.stack.length-2];var H=this.stack[this.stack.length-1];this.stack.push(n),this.stack.push(i),this.stack.push(H)}break;case me.OP_2OVER:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-4],i=this.stack[this.stack.length-3],this.stack.push(n),this.stack.push(i)}break;case me.OP_2ROT:{if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-6,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case me.OP_2SWAP:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-4,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case me.OP_IFDUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1],F=de.castToBool(r),F&&this.stack.push(r)}break;case me.OP_DEPTH:r=new Ft(this.stack.length).toScriptNumBuffer(),this.stack.push(r);break;case me.OP_DROP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop()}break;case me.OP_DUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1])}break;case me.OP_NIP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1)}break;case me.OP_OVER:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2])}break;case me.OP_PICK:case me.OP_ROLL:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],c=Ft.fromScriptNumBuffer(r,t),o=c.toNumber(),this.stack.pop(),o<0||o>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-o-1],I===me.OP_ROLL&&this.stack.splice(this.stack.length-o-1,1),this.stack.push(r)}break;case me.OP_ROT:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;a=this.stack[this.stack.length-3],u=this.stack[this.stack.length-2];var D=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=u,this.stack[this.stack.length-2]=D,this.stack[this.stack.length-1]=a}break;case me.OP_SWAP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;a=this.stack[this.stack.length-2],u=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=u,this.stack[this.stack.length-1]=a}break;case me.OP_TUCK:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1])}break;case me.OP_SIZE:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;c=new Ft(this.stack[this.stack.length-1].length),this.stack.push(c.toScriptNumBuffer())}break;case me.OP_EQUAL:case me.OP_EQUALVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1];var C=n.toString("hex")===i.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(C?de.true:de.false),I===me.OP_EQUALVERIFY)if(C)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1}break;case me.OP_1ADD:case me.OP_1SUB:case me.OP_NEGATE:case me.OP_ABS:case me.OP_NOT:case me.OP_0NOTEQUAL:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(r=this.stack[this.stack.length-1],c=Ft.fromScriptNumBuffer(r,t),I){case me.OP_1ADD:c=c.add(Ft.One);break;case me.OP_1SUB:c=c.sub(Ft.One);break;case me.OP_NEGATE:c=c.neg();break;case me.OP_ABS:c.cmp(Ft.Zero)<0&&(c=c.neg());break;case me.OP_NOT:c=new Ft((c.cmp(Ft.Zero)===0)+0);break;case me.OP_0NOTEQUAL:c=new Ft((c.cmp(Ft.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(c.toScriptNumBuffer())}break;case me.OP_ADD:case me.OP_SUB:case me.OP_BOOLAND:case me.OP_BOOLOR:case me.OP_NUMEQUAL:case me.OP_NUMEQUALVERIFY:case me.OP_NUMNOTEQUAL:case me.OP_LESSTHAN:case me.OP_GREATERTHAN:case me.OP_LESSTHANOREQUAL:case me.OP_GREATERTHANOREQUAL:case me.OP_MIN:case me.OP_MAX:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(h=Ft.fromScriptNumBuffer(this.stack[this.stack.length-2],t),f=Ft.fromScriptNumBuffer(this.stack[this.stack.length-1],t),c=new Ft(0),I){case me.OP_ADD:c=h.add(f);break;case me.OP_SUB:c=h.sub(f);break;case me.OP_BOOLAND:c=new Ft((h.cmp(Ft.Zero)!==0&&f.cmp(Ft.Zero)!==0)+0);break;case me.OP_BOOLOR:c=new Ft((h.cmp(Ft.Zero)!==0||f.cmp(Ft.Zero)!==0)+0);break;case me.OP_NUMEQUAL:c=new Ft((h.cmp(f)===0)+0);break;case me.OP_NUMEQUALVERIFY:c=new Ft((h.cmp(f)===0)+0);break;case me.OP_NUMNOTEQUAL:c=new Ft((h.cmp(f)!==0)+0);break;case me.OP_LESSTHAN:c=new Ft((h.cmp(f)<0)+0);break;case me.OP_GREATERTHAN:c=new Ft((h.cmp(f)>0)+0);break;case me.OP_LESSTHANOREQUAL:c=new Ft((h.cmp(f)<=0)+0);break;case me.OP_GREATERTHANOREQUAL:c=new Ft((h.cmp(f)>=0)+0);break;case me.OP_MIN:c=h.cmp(f)<0?h:f;break;case me.OP_MAX:c=h.cmp(f)>0?h:f;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(c.toScriptNumBuffer()),I===me.OP_NUMEQUALVERIFY)if(de.castToBool(this.stack[this.stack.length-1]))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1}break;case me.OP_WITHIN:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=Ft.fromScriptNumBuffer(this.stack[this.stack.length-3],t),f=Ft.fromScriptNumBuffer(this.stack[this.stack.length-2],t);var d=Ft.fromScriptNumBuffer(this.stack[this.stack.length-1],t);F=f.cmp(h)<=0&&h.cmp(d)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(F?de.true:de.false)}break;case me.OP_CAT:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],n.length+i.length>de.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop(),this.stack.push(A.Buffer.concat([n,i]));break}case me.OP_RIPEMD160:case me.OP_SHA1:case me.OP_SHA256:case me.OP_HASH160:case me.OP_HASH256:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1];var v;I===me.OP_RIPEMD160?v=I1.ripemd160(r):I===me.OP_SHA1?v=I1.sha1(r):I===me.OP_SHA256?v=I1.sha256(r):I===me.OP_HASH160?v=I1.sha256ripemd160(r):I===me.OP_HASH256&&(v=I1.sha256sha256(r)),this.stack.pop(),this.stack.push(v)}break;case me.OP_CODESEPARATOR:this.pbegincodehash=this.pc,this.execdata.codeseparatorPos=this.pc-1;break;case me.OP_CHECKSIG:case me.OP_CHECKSIGVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;p=this.stack[this.stack.length-2],l=this.stack[this.stack.length-1];let{success:P,result:L}=this._evalCheckSig(p,l);if(!L)return!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(P?de.true:de.false),I===me.OP_CHECKSIGVERIFY)if(P)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1}break;case me.OP_CHECKSIGADD:{if(this.sigversion==Pr.Version.BASE||this.sigversion==Pr.Version.WITNESS_V0)return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1;if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;let P=this.stack[this.stack.length-3],L=this.stack[this.stack.length-2],V=this.stack[this.stack.length-1];L=Ft.fromScriptNumBuffer(L,t);let{success:W,result:ee}=this._evalCheckSig(P,V);if(!ee)return!1;this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(L.addn(W?1:0).toScriptNumBuffer())}break;case me.OP_CHECKMULTISIG:case me.OP_CHECKMULTISIGVERIFY:{var g=1;if(this.stack.length<g)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var m=Ft.fromScriptNumBuffer(this.stack[this.stack.length-g],t).toNumber();if(m<0||m>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=m,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var S=++g;g+=m;var w=m+2;if(this.stack.length<g)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var R=Ft.fromScriptNumBuffer(this.stack[this.stack.length-g],t).toNumber();if(R<0||R>m)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var T=++g;if(g+=R,this.stack.length<g)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=new Tu().set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var b=0;b<R;b++)p=this.stack[this.stack.length-T-b],y.findAndDelete(new Tu().add(p));for(B=!0;B&&R>0;){if(p=this.stack[this.stack.length-T],l=this.stack[this.stack.length-S],!this.checkSignatureEncoding(p)||!this.checkPubkeyEncoding(l))return!1;var x;try{_=Pr.fromTxFormat(p),O=f2.fromBuffer(l,!1),x=this.tx.verifySignature(_,O,this.nin,y,this.sigversion,this.satoshis,this.execdata)}catch{x=!1}x&&(T++,R--),S++,m--,R>m&&(B=!1)}for(;g-- >1;){if(!B&&this.flags&de.SCRIPT_VERIFY_NULLFAIL&&!w&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;w>0&&w--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&de.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(B?de.true:de.false),I===me.OP_CHECKMULTISIGVERIFY)if(B)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.stack.length+this.altstack.length>de.MAX_STACK_SIZE?(this.errstr="SCRIPT_ERR_STACK_SIZE",!1):!0}});var aa=$((Rct,SP)=>{k();M();SP.exports=jI();SP.exports.Interpreter=JI()});var Tc=$((Hct,SY)=>{k();M();var U8=Er(),Qf=Ar(),q_e=Ea(),_Y=Z5(),bm=fW(),ua=bd(),L8=Fi(),xY=fi(),wP=Ac();function Ie(t,e,r,n){if(!(this instanceof Ie))return new Ie(t,e,r);if(U8.isArray(t)&&U8.isNumber(e))return Ie.createMultisig(t,e,r,!1,n);if(t instanceof Ie)return t;if(Qf.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!ua.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==Ie.PayToPublicKeyHash&&r!==Ie.PayToScriptHash&&r!==Ie.PayToWitnessPublicKeyHash&&r!==Ie.PayToWitnessScriptHash&&r!==Ie.PayToTaproot)throw new TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", "witnessscripthash", or "taproot".');var i=this._classifyArguments(t,e,r);return i.network=i.network||ua.get(e)||ua.defaultNetwork,i.type=i.type||r||Ie.PayToPublicKeyHash,xY.defineImmutable(this,{hashBuffer:i.hashBuffer,network:i.network,type:i.type}),this}Ie.prototype._classifyArguments=function(t,e,r){if((t instanceof A.Buffer||t instanceof Uint8Array)&&(t.length===20||t.length===32))return Ie._transformHash(t,e,r);if((t instanceof A.Buffer||t instanceof Uint8Array)&&t.length>=21)return Ie._transformBuffer(t,e,r);if(t instanceof wP)return Ie._transformPublicKey(t,e,r);if(t instanceof P1)return Ie._transformScript(t,e);if(typeof t=="string")return Ie._transformString(t,e,r);if(U8.isObject(t))return Ie._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")};Ie.PayToPublicKeyHash="pubkeyhash";Ie.PayToScriptHash="scripthash";Ie.PayToWitnessPublicKeyHash="witnesspubkeyhash";Ie.PayToWitnessScriptHash="witnessscripthash";Ie.PayToTaproot="taproot";Ie._transformHash=function(t,e,r){var n={};if(!(t instanceof A.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length!==20&&t.length!==32)throw new TypeError("Address hashbuffers must be either 20 or 32 bytes.");return n.hashBuffer=t,n.network=ua.get(e)||ua.defaultNetwork,n.type=r,n};Ie._transformObject=function(t){return Qf.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),Qf.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?A.Buffer.from(t.hash,"hex"):t.hashBuffer,network:ua.get(t.network)||ua.defaultNetwork,type:t.type}};Ie._classifyFromVersion=function(t){var e={};if(t.length>21){var r=bm.decode(t.toString("utf8"));if(r.version!==0&&r.version!==1)throw new TypeError("Only witness v0 and v1 addresses are supported.");if(r.version===0)if(r.data.length===20)e.type=Ie.PayToWitnessPublicKeyHash;else if(r.data.length===32)e.type=Ie.PayToWitnessScriptHash;else throw new TypeError("Witness data must be either 20 or 32 bytes.");else if(r.version===1)if(r.data.length===32)e.type=Ie.PayToTaproot;else throw new TypeError("Witness data must be 32 bytes for v1");e.network=ua.get(r.prefix,"bech32prefix")}else{var n=ua.get(t[0],"pubkeyhash"),i=ua.get(t[0],"scripthash");n?(e.network=n,e.type=Ie.PayToPublicKeyHash):i&&(e.network=i,e.type=Ie.PayToScriptHash)}return e};Ie._transformBuffer=function(t,e,r){var n={};if(!(t instanceof A.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length<21)throw new TypeError("Address buffer is incorrect length.");var i=ua.get(e),s=Ie._classifyFromVersion(t);if(e&&!i)throw new TypeError("Unknown network");if(!s.network||i&&i.xpubkey!==s.network.xpubkey)throw new TypeError("Address has mismatched network type.");if(!s.type||r&&r!==s.type)throw new TypeError("Address has mismatched type.");return t.length>21?n.hashBuffer=bm.decode(t.toString("utf8")).data:n.hashBuffer=t.slice(1),n.network=i||s.network,n.type=s.type,n};Ie._transformPublicKey=function(t,e,r){var n={};if(!(t instanceof wP))throw new TypeError("Address must be an instance of PublicKey.");if(r&&r!==Ie.PayToScriptHash&&r!==Ie.PayToWitnessPublicKeyHash&&r!==Ie.PayToPublicKeyHash&&r!==Ie.PayToTaproot)throw new TypeError("Type must be either pubkeyhash, witnesspubkeyhash, scripthash, or taproot to transform public key.");if(!t.compressed&&(r===Ie.PayToScriptHash||r===Ie.PayToWitnessPublicKeyHash))throw new TypeError("Witness addresses must use compressed public keys.");return r===Ie.PayToScriptHash?n.hashBuffer=L8.sha256ripemd160(P1.buildWitnessV0Out(t).toBuffer()):r===Ie.PayToTaproot?n.hashBuffer=t.createTapTweak().tweakedPubKey:n.hashBuffer=L8.sha256ripemd160(t.toBuffer()),n.type=r||Ie.PayToPublicKeyHash,n};Ie._transformScript=function(t,e){Qf.checkArgument(t instanceof P1,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new q_e.Script.CantDeriveAddress(t);return r};Ie.createMultisig=function(t,e,r,n,i){if(r=r||t[0].network||ua.defaultNetwork,i&&i!==Ie.PayToScriptHash&&i!==Ie.PayToWitnessScriptHash)throw new TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(n||i===Ie.PayToWitnessScriptHash){t=U8.map(t,wP);for(var s=0;s<t.length;s++)if(!t[s].compressed)throw new TypeError("Witness addresses must use compressed public keys.")}var o=P1.buildMultisigOut(t,e);return n?Ie.payingTo(P1.buildWitnessMultisigOutFromScript(o),r):Ie.payingTo(o,r,i)};Ie._transformString=function(t,e,r){if(typeof t!="string")throw new TypeError("data parameter supplied is not a string.");if(t.length>100)throw new TypeError("address string is too long");if(e&&!ua.get(e))throw new TypeError("Unknown network");t=t.trim();try{var i=Ie._transformBuffer(A.Buffer.from(t,"utf8"),e,r);return i}catch(s){if(r===Ie.PayToWitnessPublicKeyHash||r===Ie.PayToWitnessScriptHash||r===Ie.PayToTaproot)throw s}var n=_Y.decode(t),i=Ie._transformBuffer(n,e,r);return i};Ie.fromPublicKey=function(t,e,r){var n=Ie._transformPublicKey(t,e,r);return e=e||ua.defaultNetwork,new Ie(n.hashBuffer,e,n.type)};Ie.fromPublicKeyHash=function(t,e){var r=Ie._transformHash(t);return new Ie(r.hashBuffer,e,Ie.PayToPublicKeyHash)};Ie.fromScriptHash=function(t,e,i){Qf.checkArgument(t,"hash parameter is required");var n=Ie._transformHash(t);if(i===Ie.PayToWitnessScriptHash&&t.length!==32)throw new TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");var i=i||Ie.PayToScriptHash;return new Ie(n.hashBuffer,e,i)};Ie.payingTo=function(t,e,i){Qf.checkArgument(t,"script is required"),Qf.checkArgument(t instanceof P1,"script must be instance of Script");var n;i===Ie.PayToWitnessScriptHash?n=L8.sha256(t.toBuffer()):n=L8.sha256ripemd160(t.toBuffer());var i=i||Ie.PayToScriptHash;return Ie.fromScriptHash(n,e,i)};Ie.fromScript=function(t,e){Qf.checkArgument(t instanceof P1,"script must be a Script instance");var r=Ie._transformScript(t,e);return new Ie(r.hashBuffer,e,r.type)};Ie.fromBuffer=function(t,e,r){var n=Ie._transformBuffer(t,e,r);return new Ie(n.hashBuffer,n.network,n.type)};Ie.fromString=function(t,e,r){var n=Ie._transformString(t,e,r);return new Ie(n.hashBuffer,n.network,n.type)};Ie.fromObject=function(e){Qf.checkState(xY.isHexa(e.hash),'Unexpected hash property, "'+e.hash+'", expected to be hex.');var r=A.Buffer.from(e.hash,"hex");return new Ie(r,e.network,e.type)};Ie.getValidationError=function(t,e,r){var n;try{new Ie(t,e,r)}catch(i){n=i}return n};Ie.isValid=function(t,e,r){return!Ie.getValidationError(t,e,r)};Ie.prototype.isPayToPublicKeyHash=function(){return this.type===Ie.PayToPublicKeyHash};Ie.prototype.isPayToScriptHash=function(){return this.type===Ie.PayToScriptHash};Ie.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===Ie.PayToWitnessPublicKeyHash};Ie.prototype.isPayToWitnessScriptHash=function(){return this.type===Ie.PayToWitnessScriptHash};Ie.prototype.isPayToTaproot=function(){return this.type===Ie.PayToTaproot};Ie.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return A.Buffer.from(this.toString(),"utf8");var t=A.Buffer.from([this.network[this.type]]);return A.Buffer.concat([t,this.hashBuffer])};Ie.prototype.toObject=Ie.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}};Ie.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()||this.isPayToTaproot()){let t=this.network.bech32prefix,e=0,r=bm.encodings.BECH32;return this.isPayToTaproot()&&(e=1,r=bm.encodings.BECH32M),bm.encode(t,e,this.hashBuffer,r)}return _Y.encode(this.toBuffer())};Ie.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"};SY.exports=Ie;var P1=aa()});var ym=$((Lct,wY)=>{k();M();function O1(){}O1.getRandomBuffer=function(t){return q.browser?O1.getRandomBufferBrowser(t):O1.getRandomBufferNode(t)};O1.getRandomBufferNode=function(t){var e=hf();return e.randomBytes(t)};O1.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)var e=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var r=new Uint8Array(t);e.getRandomValues(r);var n=A.Buffer.from(r);return n};O1.getPseudoRandomBuffer=function(t){for(var e=4294967296,r=A.Buffer.alloc(t),n,i=0;i<=t;i++){var s=Math.floor(i/4),o=i-s*4;o===0?(n=Math.random()*e,r[i]=n&255):r[i]=(n=n>>>8)&255}return r};wY.exports=O1});var _d=$((jct,AY)=>{k();M();var q8=Er(),$_e=Tc(),EY=Z5(),th=hs(),TY=fi(),eh=bd(),$8=pd(),j_e=Ac(),K_e=ym(),j8=Ar(),V_e=Vf();function er(t,e){if(!(this instanceof er))return new er(t,e);if(t instanceof er)return t;var r=this._classifyArguments(t,e);if(!r.bn||r.bn.cmp(new th(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt($8.getN()))throw new TypeError("Number must be less than N");if(typeof r.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return TY.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}er.prototype._classifyArguments=function(t,e){var r={compressed:!0,network:e?eh.get(e):eh.defaultNetwork};if(q8.isUndefined(t)||q8.isNull(t))r.bn=er._getRandomBN();else if(t instanceof th)r.bn=t;else if(t instanceof A.Buffer||t instanceof Uint8Array)r=er._transformBuffer(t,e);else if(t.bn&&t.network)r=er._transformObject(t);else if(!e&&eh.get(t))r.bn=er._getRandomBN(),r.network=eh.get(t);else if(typeof t=="string")TY.isHexa(t)?r.bn=new th(A.Buffer.from(t,"hex")):r=er._transformWIF(t,e);else throw new TypeError("First argument is an unrecognized data type.");return r};er._getRandomBN=function(){var t,e;do{var r=K_e.getRandomBuffer(32);e=th.fromBuffer(r),t=e.lt($8.getN())}while(!t);return e};er._transformBuffer=function(t,e){var r={};if(t.length===32)return er._transformBNBuffer(t,e);if(r.network=eh.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==eh.get(e))throw new TypeError("Private key network mismatch");if(t.length===1+32+1&&t[1+32+1-1]===1)r.compressed=!0;else if(t.length===1+32)r.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return r.bn=th.fromBuffer(t.slice(1,32+1)),r};er._transformBNBuffer=function(t,e){var r={};return r.network=eh.get(e)||eh.defaultNetwork,r.bn=th.fromBuffer(t),r.compressed=!1,r};er._transformWIF=function(t,e){return er._transformBuffer(EY.decode(t),e)};er.fromBuffer=function(t,e){return new er(t,e)};er._transformObject=function(t){var e=new th(t.bn,"hex"),r=eh.get(t.network);return{bn:e,network:r,compressed:t.compressed}};er.fromString=er.fromWIF=function(t){return j8.checkArgument(q8.isString(t),"First argument is expected to be a string."),new er(t)};er.fromObject=function(t){return j8.checkArgument(q8.isObject(t),"First argument is expected to be an object."),new er(t)};er.fromRandom=function(t){var e=er._getRandomBN();return new er(e,t)};er.getValidationError=function(t,e){var r;try{new er(t,e)}catch(n){r=n}return r};er.isValid=function(t,e){return t?!er.getValidationError(t,e):!1};er.prototype.toString=function(){return this.toBuffer().toString("hex")};er.prototype.toWIF=function(){var t=this.network,e=this.compressed,r;return e?r=A.Buffer.concat([A.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32}),A.Buffer.from([1])]):r=A.Buffer.concat([A.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32})]),EY.encode(r)};er.prototype.toBigNumber=function(){return this.bn};er.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})};er.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()};er.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=j_e.fromPrivateKey(this)),this._pubkey};er.prototype.toAddress=function(t,e){var r=this.toPublicKey();return $_e.fromPublicKey(r,t||this.network,e)};er.prototype.toObject=er.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}};er.prototype.createTapTweak=function(t){let e=$8.getN(),r=$8.getG().mul(this.bn),n=r.y.isEven()?this.bn:e.sub(this.bn),i=new V_e("TapTweak");i.write(r.x.toBuffer({size:32})),t&&(j8.checkArgument(A.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),i.write(t));let s=i.finalize();return j8.checkState(th.fromBuffer(s).lt(e),"TapTweak hash failed secp256k1 order check"),{tweakedPrivKey:n.add(new th(s)).mod(e).toBuffer({size:32})}};er.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"};AY.exports=er});var Ac=$((Gct,OY)=>{k();M();var Oc=hs(),Td=pd(),G_e=Fi(),IY=fi(),PY=bd(),EP=Er(),Ta=Ar(),z_e=Vf();function at(t,e){if(!(this instanceof at))return new at(t,e);if(Ta.checkArgument(t,"First argument is required, please include public key data."),t instanceof at)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),IY.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||PY.defaultNetwork}),this}at.prototype._classifyArgs=function(t,e){var r={compressed:EP.isUndefined(e.compressed)||e.compressed};if(t instanceof Td)r.point=t;else if(t.x&&t.y)r=at._transformObject(t);else if(typeof t=="string")r=at._transformDER(A.Buffer.from(t,"hex"));else if(at._isBuffer(t))r=at._transformDER(t);else if(at._isPrivateKey(t))r=at._transformPrivateKey(t);else throw new TypeError("First argument is an unrecognized data format.");return r.network||(r.network=EP.isUndefined(e.network)?void 0:PY.get(e.network)),r};at._isPrivateKey=function(t){var e=_d();return t instanceof e};at._isBuffer=function(t){return t instanceof A.Buffer||t instanceof Uint8Array};at._transformPrivateKey=function(t){Ta.checkArgument(at._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=Td.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e};at._transformDER=function(t,e){Ta.checkArgument(at._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r={};e=EP.isUndefined(e)?!0:e;var n,i,s,o;if(t[0]===4||!e&&(t[0]===6||t[0]===7)){if(s=t.slice(1,33),o=t.slice(33,65),s.length!==32||o.length!==32||t.length!==65)throw new TypeError("Length of x and y must be 32 bytes");n=new Oc(s),i=new Oc(o),r.point=new Td(n,i),r.compressed=!1}else if(t[0]===3)s=t.slice(1),n=new Oc(s),r=at._transformX(!0,n),r.compressed=!0;else if(t[0]===2)s=t.slice(1),n=new Oc(s),r=at._transformX(!1,n),r.compressed=!0;else throw new TypeError("Invalid DER format public key");return r};at._transformX=function(t,e){Ta.checkArgument(typeof t=="boolean","Must specify whether y is odd or not (true or false)");var r={};return r.point=Td.fromX(t,e),r};at._transformObject=function(t){var e=new Oc(t.x,"hex"),r=new Oc(t.y,"hex"),n=new Td(e,r);return new at(n,{compressed:t.compressed})};at.fromPrivateKey=function(t){Ta.checkArgument(at._isPrivateKey(t),"Must be an instance of PrivateKey");var e=at._transformPrivateKey(t);return new at(e.point,{compressed:e.compressed,network:e.network})};at.fromBuffer=function(t,e){return Ta.checkArgument(at._isBuffer(t),"Must be a hex buffer of DER encoded public key or 32 byte X coordinate (taproot)"),t.length===32?at.fromX(!1,t):at.fromDER(t,e)};at.fromDER=function(t,e){Ta.checkArgument(at._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=at._transformDER(t,e);return new at(r.point,{compressed:r.compressed})};at.fromPoint=function(t,e){return Ta.checkArgument(t instanceof Td,"First argument must be an instance of Point."),new at(t,{compressed:e})};at.fromString=function(t,e){var r=A.Buffer.from(t,e||"hex"),n=at._transformDER(r);return new at(n.point,{compressed:n.compressed})};at.fromX=function(t,e){var r=at._transformX(t,e);return new at(r.point,{compressed:r.compressed})};at.fromTaproot=function(t){return typeof t=="string"&&IY.isHexaString(t)&&(t=A.Buffer.from(t,"hex")),Ta.checkArgument(A.Buffer.isBuffer(t),"hexBuf must be a hex string or buffer"),Ta.checkArgument(t.length===32,"Taproot public keys must be 32 bytes"),new at.fromX(!1,t)};at.isValidTaproot=function(t){try{return!!at.fromTaproot(t)}catch{return!1}};at.prototype.computeTapTweakHash=function(t){let e=new z_e("TapTweak");e.write(this.point.x.toBuffer({size:32})),t&&(Ta.checkArgument(A.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),e.write(t));let r=e.finalize(),n=Td.getN();return Ta.checkState(Oc.fromBuffer(r).lt(n),"TapTweak hash failed secp256k1 order check"),r};at.prototype.checkTapTweak=function(t,e,r){A.Buffer.isBuffer(t)&&(t=at.fromTaproot(t));let n=t.computeTapTweakHash(e),s=t.point.liftX().add(this.point.curve.g.mul(Oc.fromBuffer(n)));return this.point.x.eq(s.x)&&s.y.mod(new Oc(2)).eq(new Oc(r[0]&1))};at.prototype.createTapTweak=function(t){Ta.checkArgument(t==null||A.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be a 32 byte buffer");let e=this.computeTapTweakHash(t);e=new Oc(e);let r=this.point.liftX().add(Td.getG().mul(e));return{parity:r.y.isEven()?0:1,tweakedPubKey:r.x.toBuffer()}};at.getValidationError=function(t){var e;try{new at(t)}catch(r){e=r}return e};at.isValid=function(t){return!at.getValidationError(t)};at.prototype.toObject=at.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}};at.prototype.toBuffer=at.prototype.toDER=function(){var t=this.point.getX(),e=this.point.getY(),r=t.toBuffer({size:32}),n=e.toBuffer({size:32}),i;if(this.compressed){var s=n[n.length-1]%2;return s?i=A.Buffer.from([3]):i=A.Buffer.from([2]),A.Buffer.concat([i,r])}else return i=A.Buffer.from([4]),A.Buffer.concat([i,r,n])};at.prototype._getID=function(){return G_e.sha256ripemd160(this.toBuffer())};at.prototype.toAddress=function(t,e){var r=Tc();return r.fromPublicKey(this,t||this.network,e)};at.prototype.toString=function(){return this.toDER().toString("hex")};at.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"};OY.exports=at});var cm=$((Yct,BY)=>{k();M();var Aa=hs(),Iu=pd(),W_e=eo(),Y_e=Ac(),X_e=ym(),Ad=Fi(),AP=On(),Z_e=Er(),TP=Ar(),gi=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};gi.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this};gi.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()};gi.prototype.calci=function(){for(var t=0;t<4;t++){this.sig.i=t;var e;try{e=this.toPublicKey()}catch(r){console.error(r);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")};gi.fromString=function(t){var e=JSON.parse(t);return new gi(e)};gi.prototype.randomK=function(){var t=Iu.getN(),e;do e=Aa.fromBuffer(X_e.getRandomBuffer(32));while(!(e.lt(t)&&e.gt(Aa.Zero)));return this.k=e,this};gi.prototype.deterministicK=function(t){Z_e.isUndefined(t)&&(t=0);var e=A.Buffer.alloc(32);e.fill(1);var r=A.Buffer.alloc(32);r.fill(0);var n=this.privkey.bn.toBuffer({size:32}),i=this.endian==="little"?AP.reverse(this.hashbuf):this.hashbuf;r=Ad.sha256hmac(A.Buffer.concat([e,A.Buffer.from([0]),n,i]),r),e=Ad.sha256hmac(e,r),r=Ad.sha256hmac(A.Buffer.concat([e,A.Buffer.from([1]),n,i]),r),e=Ad.sha256hmac(e,r),e=Ad.sha256hmac(e,r);for(var s=Aa.fromBuffer(e),o=Iu.getN(),a=0;a<t||!(s.lt(o)&&s.gt(Aa.Zero));a++)r=Ad.sha256hmac(A.Buffer.concat([e,A.Buffer.from([0])]),r),e=Ad.sha256hmac(e,r),e=Ad.sha256hmac(e,r),s=Aa.fromBuffer(e);return this.k=s,this};gi.prototype.toPublicKey=function(){var t=this.sig.i;TP.checkArgument(t===0||t===1||t===2||t===3,new Error("i must be equal to 0, 1, 2, or 3"));var e=Aa.fromBuffer(this.hashbuf),r=this.sig.r,n=this.sig.s,i=t&1,s=t>>1,o=Iu.getN(),a=Iu.getG(),u=s?r.add(o):r,c=Iu.fromX(i,u),h=c.mul(o);if(!h.isInfinity())throw new Error("nR is not a valid curve point");var f=e.neg().umod(o),p=r.invm(o),l=c.mul(n).add(a.mul(f)).mul(p),y=Y_e.fromPoint(l,this.sig.compressed);return y};gi.prototype.sigError=function(){if(!AP.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(Aa.Zero)&&t.lt(Iu.getN()))||!(e.gt(Aa.Zero)&&e.lt(Iu.getN())))return"r and s not in range";var r=Aa.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),n=Iu.getN(),i=e.invm(n),s=i.mul(r).umod(n),o=i.mul(t).umod(n),a=Iu.getG().mulAdd(s,this.pubkey.point,o);return a.isInfinity()?"p is infinity":a.getX().umod(n).cmp(t)!==0?"Invalid signature":!1};gi.toLowS=function(t){return t.gt(Aa.fromBuffer(A.Buffer.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=Iu.getN().sub(t)),t};gi.prototype._findSignature=function(t,e){var r=Iu.getN(),n=Iu.getG(),i=0,s,o,a,u;do(!this.k||i>0)&&this.deterministicK(i),i++,s=this.k,o=n.mul(s),a=o.x.umod(r),u=s.invm(r).mul(e.add(t.mul(a))).umod(r);while(a.cmp(Aa.Zero)<=0||u.cmp(Aa.Zero)<=0);return u=gi.toLowS(u),{s:u,r:a}};gi.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;TP.checkState(t&&e&&r,new Error("invalid parameters")),TP.checkState(AP.isBuffer(t)&&t.length===32,new Error("hashbuf must be a 32 byte buffer"));var n=Aa.fromBuffer(t,this.endian?{endian:this.endian}:void 0),i=this._findSignature(r,n);return i.compressed=this.pubkey.compressed,this.sig=new W_e(i),this};gi.prototype.signRandomK=function(){return this.randomK(),this.sign()};gi.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)};gi.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this};gi.sign=function(t,e,r){return gi().set({hashbuf:t,endian:r,privkey:e}).sign().sig};gi.verify=function(t,e,r,n){return gi().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified};BY.exports=gi});var RY=$((Jct,MY)=>{k();M();var CY=ds(),kY=bc(),J_e=hs(),Bc=function t(e){if(!(this instanceof t))return new t(e);if(A.Buffer.isBuffer(e))this.buf=e;else if(typeof e=="number"){var r=e;this.fromNumber(r)}else if(e instanceof J_e){var n=e;this.fromBN(n)}else if(e){var i=e;this.set(i)}};Bc.prototype.set=function(t){return this.buf=t.buf||this.buf,this};Bc.prototype.fromString=function(t){return this.set({buf:A.Buffer.from(t,"hex")}),this};Bc.prototype.toString=function(){return this.buf.toString("hex")};Bc.prototype.fromBuffer=function(t){return this.buf=t,this};Bc.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this};Bc.prototype.fromBN=function(t){return this.buf=CY().writeVarintBN(t).concat(),this};Bc.prototype.fromNumber=function(t){return this.buf=CY().writeVarintNum(t).concat(),this};Bc.prototype.toBuffer=function(){return this.buf};Bc.prototype.toBN=function(){return kY(this.buf).readVarintBN()};Bc.prototype.toNumber=function(){return kY(this.buf).readVarintNum()};MY.exports=Bc});var _m=$((r0t,HY)=>{k();M();var K8=Er(),vm=hs(),h2=On(),V8=bc(),Q_e=ds(),exe=Fi(),t0t=fi(),NY=Ar(),txe=486604799,wr=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,r.hash&&NY.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};wr._from=function(e){var r={};if(h2.isBuffer(e))r=wr._fromBufferReader(V8(e));else if(K8.isObject(e))r=wr._fromObject(e);else throw new TypeError("Unrecognized argument for BlockHeader");return r};wr._fromObject=function(e){NY.checkArgument(e,"data is required");var r=e.prevHash,n=e.merkleRoot;K8.isString(e.prevHash)&&(r=h2.reverse(A.Buffer.from(e.prevHash,"hex"))),K8.isString(e.merkleRoot)&&(n=h2.reverse(A.Buffer.from(e.merkleRoot,"hex")));var i={hash:e.hash,version:e.version,prevHash:r,merkleRoot:n,time:e.time,timestamp:e.time,bits:e.bits,nonce:e.nonce};return i};wr.fromObject=function(e){var r=wr._fromObject(e);return new wr(r)};wr.fromRawBlock=function(e){h2.isBuffer(e)||(e=A.Buffer.from(e,"binary"));var r=V8(e);r.pos=wr.Constants.START_OF_HEADER;var n=wr._fromBufferReader(r);return new wr(n)};wr.fromBuffer=function(e){var r=wr._fromBufferReader(V8(e));return new wr(r)};wr.fromString=function(e){var r=A.Buffer.from(e,"hex");return wr.fromBuffer(r)};wr._fromBufferReader=function(e){var r={};return r.version=e.readInt32LE(),r.prevHash=e.read(32),r.merkleRoot=e.read(32),r.time=e.readUInt32LE(),r.bits=e.readUInt32LE(),r.nonce=e.readUInt32LE(),r};wr.fromBufferReader=function(e){var r=wr._fromBufferReader(e);return new wr(r)};wr.prototype.toObject=wr.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:h2.reverse(this.prevHash).toString("hex"),merkleRoot:h2.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}};wr.prototype.toBuffer=function(){return this.toBufferWriter().concat()};wr.prototype.toString=function(){return this.toBuffer().toString("hex")};wr.prototype.toBufferWriter=function(e){return e||(e=new Q_e),e.writeInt32LE(this.version),e.write(this.prevHash),e.write(this.merkleRoot),e.writeUInt32LE(this.time),e.writeUInt32LE(this.bits),e.writeUInt32LE(this.nonce),e};wr.prototype.getTargetDifficulty=function(e){e=e||this.bits;for(var r=new vm(e&16777215),n=8*((e>>>24)-3);n-- >0;)r=r.mul(new vm(2));return r};wr.prototype.getDifficulty=function(){var e=this.getTargetDifficulty(txe).mul(new vm(Math.pow(10,8))),r=this.getTargetDifficulty(),n=e.div(r).toString(10),i=n.length-8;return n=n.slice(0,i)+"."+n.slice(i),parseFloat(n)};wr.prototype._getHash=function(){var e=this.toBuffer();return exe.sha256sha256(e)};var FY={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=V8(this._getHash()).readReverse().toString("hex")),this._id},set:K8.noop};Object.defineProperty(wr.prototype,"id",FY);Object.defineProperty(wr.prototype,"hash",FY);wr.prototype.validTimestamp=function(){var e=Math.round(new Date().getTime()/1e3);return!(this.time>e+wr.Constants.MAX_TIME_OFFSET)};wr.prototype.validProofOfWork=function(){var e=new vm(this.id,"hex"),r=this.getTargetDifficulty();return!(e.cmp(r)>0)};wr.prototype.inspect=function(){return"<BlockHeader "+this.id+">"};wr.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:2*60*60,LARGEST_HASH:new vm("10000000000000000000000000000000000000000000000000000000000000000","hex")};HY.exports=wr});var KY=$((s0t,jY)=>{k();M();var PP=Er(),UY=_m(),DY=hs(),LY=On(),OP=bc(),rxe=ds(),nxe=Fi(),IP=gm(),qY=Ar();function br(t){return this instanceof br?(PP.extend(this,br._from(t)),this):new br(t)}br.MAX_BLOCK_SIZE=1e6;br._from=function(e){var r={};if(LY.isBuffer(e))r=br._fromBufferReader(OP(e));else if(PP.isObject(e))r=br._fromObject(e);else throw new TypeError("Unrecognized argument for Block");return r};br._fromObject=function(e){var r=[];e.transactions.forEach(function(i){i instanceof IP?r.push(i):r.push(IP().fromObject(i))});var n={header:UY.fromObject(e.header),transactions:r};return n};br.fromObject=function(e){var r=br._fromObject(e);return new br(r)};br._fromBufferReader=function(e){var r={};qY.checkState(!e.finished(),"No block data received"),r.header=UY.fromBufferReader(e);var n=e.readVarintNum();r.transactions=[];for(var i=0;i<n;i++)r.transactions.push(IP().fromBufferReader(e));return r};br.fromBufferReader=function(e){qY.checkArgument(e,"br is required");var r=br._fromBufferReader(e);return new br(r)};br.fromBuffer=function(e){return br.fromBufferReader(new OP(e))};br.fromString=function(e){var r=A.Buffer.from(e,"hex");return br.fromBuffer(r)};br.fromRawBlock=function(e){LY.isBuffer(e)||(e=A.Buffer.from(e,"binary"));var r=OP(e);r.pos=br.Values.START_OF_BLOCK;var n=br._fromBufferReader(r);return new br(n)};br.prototype.toObject=br.prototype.toJSON=function(){var e=[];return this.transactions.forEach(function(r){e.push(r.toObject())}),{header:this.header.toObject(),transactions:e}};br.prototype.toBuffer=function(){return this.toBufferWriter().concat()};br.prototype.toString=function(){return this.toBuffer().toString("hex")};br.prototype.toBufferWriter=function(e){e||(e=new rxe),e.write(this.header.toBuffer()),e.writeVarintNum(this.transactions.length);for(var r=0;r<this.transactions.length;r++)this.transactions[r].toBufferWriter(e);return e};br.prototype.getTransactionHashes=function(){var e=[];if(this.transactions.length===0)return[br.Values.NULL_HASH];for(var r=0;r<this.transactions.length;r++)e.push(this.transactions[r]._getHash());return e};br.prototype.getMerkleTree=function(){for(var e=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var s=Math.min(i+1,n-1),o=A.Buffer.concat([e[r+i],e[r+s]]);e.push(nxe.sha256sha256(o))}r+=n}return e};br.prototype.getMerkleRoot=function(){var e=this.getMerkleTree();return e[e.length-1]};br.prototype.validMerkleRoot=function(){var e=new DY(this.header.merkleRoot.toString("hex"),"hex"),r=new DY(this.getMerkleRoot().toString("hex"),"hex");return e.cmp(r)===0};br.prototype._getHash=function(){return this.header._getHash()};var $Y={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:PP.noop};Object.defineProperty(br.prototype,"id",$Y);Object.defineProperty(br.prototype,"hash",$Y);br.prototype.inspect=function(){return"<Block "+this.id+">"};br.Values={START_OF_BLOCK:8,NULL_HASH:A.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex")};jY.exports=br});var MP=$((c0t,zY)=>{k();M();var B1=Er(),CP=_m(),kP=On(),GY=bc(),ixe=ds(),sxe=Fi(),u0t=fi(),VY=gm(),BP=Ea(),C1=Ar();function ai(t){if(!(this instanceof ai))return new ai(t);var e={};if(kP.isBuffer(t))e=ai._fromBufferReader(GY(t));else if(B1.isObject(t)){var r;t.header instanceof CP?r=t.header:r=CP.fromObject(t.header),e={header:r,numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return B1.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}ai.fromBuffer=function(e){return ai.fromBufferReader(GY(e))};ai.fromBufferReader=function(e){return new ai(ai._fromBufferReader(e))};ai.prototype.toBuffer=function(){return this.toBufferWriter().concat()};ai.prototype.toBufferWriter=function(e){e||(e=new ixe),e.write(this.header.toBuffer()),e.writeUInt32LE(this.numTransactions),e.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)e.write(A.Buffer.from(this.hashes[r],"hex"));for(e.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)e.writeUInt8(this.flags[r]);return e};ai.prototype.toObject=ai.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}};ai.prototype.validMerkleTree=function(){if(C1.checkState(B1.isArray(this.flags),"MerkleBlock flags is not an array"),C1.checkState(B1.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r);return r.hashesUsed!==this.hashes.length?!1:kP.equals(n,this.header.merkleRoot)};ai.prototype.filterdTxsHash=function(){if(C1.checkState(B1.isArray(this.flags),"MerkleBlock flags is not an array"),C1.checkState(B1.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new BP.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new BP.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r,!0);if(r.hashesUsed!==this.hashes.length)throw new BP.MerkleBlock.InvalidMerkleTree;return n};ai.prototype._traverseMerkleTree=function(e,r,n,s){n=n||{},n.txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0;var s=s||!1;if(n.flagBitsUsed>this.flags.length*8)return null;var o=this.flags[n.flagBitsUsed>>3]>>>(n.flagBitsUsed++&7)&1;if(e===0||!o){if(n.hashesUsed>=this.hashes.length)return null;var a=this.hashes[n.hashesUsed++];return e===0&&o&&n.txs.push(a),A.Buffer.from(a,"hex")}else{var u=this._traverseMerkleTree(e-1,r*2,n),c=u;return r*2+1<this._calcTreeWidth(e-1)&&(c=this._traverseMerkleTree(e-1,r*2+1,n)),s?n.txs:sxe.sha256sha256(new A.Buffer.concat([u,c]))}};ai.prototype._calcTreeWidth=function(e){return this.numTransactions+(1<<e)-1>>e};ai.prototype._calcTreeHeight=function(){for(var e=0;this._calcTreeWidth(e)>1;)e++;return e};ai.prototype.hasTransaction=function(e){C1.checkArgument(!B1.isUndefined(e),"tx cannot be undefined"),C1.checkArgument(e instanceof VY||typeof e=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var r=e;e instanceof VY&&(r=kP.reverse(A.Buffer.from(e.id,"hex")).toString("hex"));var n=[],i=this._calcTreeHeight();return this._traverseMerkleTree(i,0,{txs:n}),n.indexOf(r)!==-1};ai._fromBufferReader=function(e){C1.checkState(!e.finished(),"No merkleblock data received");var r={};r.header=CP.fromBufferReader(e),r.numTransactions=e.readUInt32LE();var n=e.readVarintNum();r.hashes=[];for(var i=0;i<n;i++)r.hashes.push(e.read(32).toString("hex"));var s=e.readVarintNum();for(r.flags=[],i=0;i<s;i++)r.flags.push(e.readUInt8());return r};ai.fromObject=function(e){return new ai(e)};zY.exports=ai});var WY=$((l0t,G8)=>{k();M();G8.exports=KY();G8.exports.BlockHeader=_m();G8.exports.MerkleBlock=MP()});var NP=$((m0t,tX)=>{k();M();var Hi=Er(),XY=Ar(),ZY=hs(),oxe=am(),z8=Z5(),JY=Fi(),W8=FP(),k1=bd(),RP=pd(),QY=Ac(),eX=Ea(),xm=eX,Cc=eX.HDPublicKey,Y8=rc(),YY=fi(),Xr=On();function Te(t){if(t instanceof Te)return t;if(!(this instanceof Te))return new Te(t);if(t)if(Hi.isString(t)||Xr.isBuffer(t)){var e=Te.getSerializedError(t);if(e){if(Xr.isBuffer(t)&&!Te.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof Cc.ArgumentIsPrivateExtended)return new W8(t).hdPublicKey;throw e}else return this._buildFromSerialized(t)}else{if(Hi.isObject(t))return t instanceof W8?this._buildFromPrivate(t):this._buildFromObject(t);throw new Cc.UnrecognizedArgument(t)}else throw new Cc.MustSupplyArgument}Te.isValidPath=function(t){if(Hi.isString(t)){var e=W8._getDerivationIndexes(t);return e!==null&&Hi.every(e,Te.isValidPath)}return Hi.isNumber(t)?t>=0&&t<Te.Hardened:!1};Te.prototype.derive=function(t,e){return this.deriveChild(t,e)};Te.prototype.deriveChild=function(t,e){if(Hi.isNumber(t))return this._deriveWithNumber(t,e);if(Hi.isString(t))return this._deriveFromString(t);throw new Cc.InvalidDerivationArgument(t)};Te.prototype._deriveWithNumber=function(t,e){if(t>=Te.Hardened||e)throw new Cc.InvalidIndexCantDeriveHardened;if(t<0)throw new Cc.InvalidPath(t);var r=Xr.integerAsBuffer(t),n=Xr.concat([this.publicKey.toBuffer(),r]),i=JY.sha512hmac(n,this._buffers.chainCode),s=ZY.fromBuffer(i.slice(0,32),{size:32}),o=i.slice(32,64),a;try{a=QY.fromPoint(RP.getG().mul(s).add(this.publicKey.point))}catch{return this._deriveWithNumber(t+1)}var u=new Te({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:o,publicKey:a});return u};Te.prototype._deriveFromString=function(t){if(Hi.includes(t,"'"))throw new Cc.InvalidIndexCantDeriveHardened;if(!Te.isValidPath(t))throw new Cc.InvalidPath(t);var e=W8._getDerivationIndexes(t),r=e.reduce(function(n,i){return n._deriveWithNumber(i)},this);return r};Te.isValidSerialized=function(t,e){return Hi.isNull(Te.getSerializedError(t,e))};Te.getSerializedError=function(t,e){if(!(Hi.isString(t)||Xr.isBuffer(t)))return new Cc.UnrecognizedArgument("expected buffer or string");if(!oxe.validCharacters(t))return new xm.InvalidB58Char("(unknown)",t);try{t=z8.decode(t)}catch{return new xm.InvalidB58Checksum(t)}if(t.length!==Te.DataSize)return new Cc.InvalidLength(t);if(!Hi.isUndefined(e)){var r=Te._validateNetwork(t,e);if(r)return r}var n=Xr.integerFromBuffer(t.slice(0,4));return n===k1.livenet.xprivkey||n===k1.testnet.xprivkey?new Cc.ArgumentIsPrivateExtended:null};Te._validateNetwork=function(t,e){var r=k1.get(e);if(!r)return new xm.InvalidNetworkArgument(e);var n=t.slice(Te.VersionStart,Te.VersionEnd);return Xr.integerFromBuffer(n)!==r.xpubkey?new xm.InvalidNetwork(n):null};Te.prototype._buildFromPrivate=function(t){var e=Hi.clone(t._buffers),r=RP.getG().mul(ZY.fromBuffer(e.privateKey));return e.publicKey=RP.pointToCompressed(r),e.version=Xr.integerAsBuffer(k1.get(Xr.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)};Te.prototype._buildFromObject=function(t){var e={version:t.network?Xr.integerAsBuffer(k1.get(t.network).xpubkey):t.version,depth:Hi.isNumber(t.depth)?Xr.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:Hi.isNumber(t.parentFingerPrint)?Xr.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:Hi.isNumber(t.childIndex)?Xr.integerAsBuffer(t.childIndex):t.childIndex,chainCode:Hi.isString(t.chainCode)?A.Buffer.from(t.chainCode,"hex"):t.chainCode,publicKey:Hi.isString(t.publicKey)?A.Buffer.from(t.publicKey,"hex"):Xr.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:Hi.isNumber(t.checksum)?Xr.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(e)};Te.prototype._buildFromSerialized=function(t){var e=z8.decode(t),r={version:e.slice(Te.VersionStart,Te.VersionEnd),depth:e.slice(Te.DepthStart,Te.DepthEnd),parentFingerPrint:e.slice(Te.ParentFingerPrintStart,Te.ParentFingerPrintEnd),childIndex:e.slice(Te.ChildIndexStart,Te.ChildIndexEnd),chainCode:e.slice(Te.ChainCodeStart,Te.ChainCodeEnd),publicKey:e.slice(Te.PublicKeyStart,Te.PublicKeyEnd),checksum:e.slice(Te.ChecksumStart,Te.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)};Te.prototype._buildFromBuffers=function(t){Te._validateBufferArguments(t),YY.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],r=Xr.concat(e),n=z8.checksum(r);if(!t.checksum||!t.checksum.length)t.checksum=n;else if(t.checksum.toString("hex")!==n.toString("hex"))throw new xm.InvalidB58Checksum(r,n);var i=k1.get(Xr.integerFromBuffer(t.version)),s;s=z8.encode(Xr.concat(e)),t.xpubkey=A.Buffer.from(s);var o=new QY(t.publicKey,{network:i}),a=Te.ParentFingerPrintSize,u=JY.sha256ripemd160(o.toBuffer()).slice(0,a);return YY.defineImmutable(this,{xpubkey:s,network:i,depth:Xr.integerFromSingleByteBuffer(t.depth),publicKey:o,fingerPrint:u}),this};Te._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];Y8(Xr.isBuffer(i),r+" argument is not a buffer, it's "+typeof i),Y8(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",Te.VersionSize),e("depth",Te.DepthSize),e("parentFingerPrint",Te.ParentFingerPrintSize),e("childIndex",Te.ChildIndexSize),e("chainCode",Te.ChainCodeSize),e("publicKey",Te.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",Te.CheckSumSize)};Te.fromString=function(t){return XY.checkArgument(Hi.isString(t),"No valid string was provided"),new Te(t)};Te.fromObject=function(t){return XY.checkArgument(Hi.isObject(t),"No valid argument was provided"),new Te(t)};Te.prototype.toString=function(){return this.xpubkey};Te.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"};Te.prototype.toObject=Te.prototype.toJSON=function(){return{network:k1.get(Xr.integerFromBuffer(this._buffers.version)).name,depth:Xr.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:Xr.integerFromBuffer(this.fingerPrint),parentFingerPrint:Xr.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:Xr.integerFromBuffer(this._buffers.childIndex),chainCode:Xr.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:Xr.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}};Te.fromBuffer=function(t){return new Te(t)};Te.prototype.toBuffer=function(){return Xr.copy(this._buffers.xpubkey)};Te.Hardened=2147483648;Te.RootElementAlias=["m","M"];Te.VersionSize=4;Te.DepthSize=1;Te.ParentFingerPrintSize=4;Te.ChildIndexSize=4;Te.ChainCodeSize=32;Te.PublicKeySize=33;Te.CheckSumSize=4;Te.DataSize=78;Te.SerializedByteSize=82;Te.VersionStart=0;Te.VersionEnd=Te.VersionStart+Te.VersionSize;Te.DepthStart=Te.VersionEnd;Te.DepthEnd=Te.DepthStart+Te.DepthSize;Te.ParentFingerPrintStart=Te.DepthEnd;Te.ParentFingerPrintEnd=Te.ParentFingerPrintStart+Te.ParentFingerPrintSize;Te.ChildIndexStart=Te.ParentFingerPrintEnd;Te.ChildIndexEnd=Te.ChildIndexStart+Te.ChildIndexSize;Te.ChainCodeStart=Te.ChildIndexEnd;Te.ChainCodeEnd=Te.ChainCodeStart+Te.ChainCodeSize;Te.PublicKeyStart=Te.ChainCodeEnd;Te.PublicKeyEnd=Te.PublicKeyStart+Te.PublicKeySize;Te.ChecksumStart=Te.PublicKeyEnd;Te.ChecksumEnd=Te.ChecksumStart+Te.CheckSumSize;Y8(Te.PublicKeyEnd===Te.DataSize);Y8(Te.ChecksumEnd===Te.SerializedByteSize);tX.exports=Te});var FP=$((y0t,aX)=>{k();M();var X8=rc(),rX=ui(),bi=Er(),iX=Ar(),sX=hs(),axe=am(),Sm=Z5(),HP=Fi(),M1=bd(),uxe=pd(),oX=_d(),cxe=ym(),l2=Ea(),H0=l2.HDPrivateKey,Bn=On(),wm=fi(),fxe=128,nX=1/8,hxe=512;function ye(t){if(t instanceof ye)return t;if(!(this instanceof ye))return new ye(t);if(!t)return this._generateRandomly();if(M1.get(t))return this._generateRandomly(t);if(bi.isString(t)||Bn.isBuffer(t))if(ye.isValidSerialized(t))this._buildFromSerialized(t);else if(wm.isValidJSON(t))this._buildFromJSON(t);else if(Bn.isBuffer(t)&&ye.isValidSerialized(t.toString()))this._buildFromSerialized(t.toString());else throw ye.getSerializedError(t);else if(bi.isObject(t))this._buildFromObject(t);else throw new H0.UnrecognizedArgument(t)}ye.isValidPath=function(t,e){if(bi.isString(t)){var r=ye._getDerivationIndexes(t);return r!==null&&bi.every(r,ye.isValidPath)}return bi.isNumber(t)?(t<ye.Hardened&&e===!0&&(t+=ye.Hardened),t>=0&&t<ye.MaxIndex):!1};ye._getDerivationIndexes=function(t){var e=t.split("/");if(bi.includes(ye.RootElementAlias,t))return[];if(!bi.includes(ye.RootElementAlias,e[0]))return null;var r=e.slice(1).map(function(n){var i=n.slice(-1)==="'";if(i&&(n=n.slice(0,-1)),!n||n[0]==="-")return NaN;var s=+n;return i&&(s+=ye.Hardened),s});return bi.some(r,isNaN)?null:r};ye.prototype.derive=function(t,e){return this.deriveNonCompliantChild(t,e)};ye.prototype.deriveChild=function(t,e){if(bi.isNumber(t))return this._deriveWithNumber(t,e);if(bi.isString(t))return this._deriveFromString(t);throw new H0.InvalidDerivationArgument(t)};ye.prototype.deriveNonCompliantChild=function(t,e){if(bi.isNumber(t))return this._deriveWithNumber(t,e,!0);if(bi.isString(t))return this._deriveFromString(t,!0);throw new H0.InvalidDerivationArgument(t)};ye.prototype._deriveWithNumber=function(t,e,r){if(!ye.isValidPath(t,e))throw new H0.InvalidPath(t);e=t>=ye.Hardened?!0:e,t<ye.Hardened&&e===!0&&(t+=ye.Hardened);var n=Bn.integerAsBuffer(t),i;if(e&&r){var s=this.privateKey.bn.toBuffer();i=Bn.concat([A.Buffer.from([0]),s,n])}else if(e){var o=this.privateKey.bn.toBuffer({size:32});X8(o.length===32,"length of private key buffer is expected to be 32 bytes"),i=Bn.concat([A.Buffer.from([0]),o,n])}else i=Bn.concat([this.publicKey.toBuffer(),n]);var a=HP.sha512hmac(i,this._buffers.chainCode),u=sX.fromBuffer(a.slice(0,32),{size:32}),c=a.slice(32,64),h=u.add(this.privateKey.toBigNumber()).umod(uxe.getN()).toBuffer({size:32});if(!oX.isValid(h))return this._deriveWithNumber(t+1,null,r);var f=new ye({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,privateKey:h});return f};ye.prototype._deriveFromString=function(t,e){if(!ye.isValidPath(t))throw new H0.InvalidPath(t);var r=ye._getDerivationIndexes(t),n=r.reduce(function(i,s){return i._deriveWithNumber(s,null,e)},this);return n};ye.isValidSerialized=function(t,e){return!ye.getSerializedError(t,e)};ye.getSerializedError=function(t,e){if(!(bi.isString(t)||Bn.isBuffer(t)))return new H0.UnrecognizedArgument("Expected string or buffer");if(!axe.validCharacters(t))return new l2.InvalidB58Char("(unknown)",t);try{t=Sm.decode(t)}catch{return new l2.InvalidB58Checksum(t)}if(t.length!==ye.DataLength)return new H0.InvalidLength(t);if(!bi.isUndefined(e)){var r=ye._validateNetwork(t,e);if(r)return r}return null};ye._validateNetwork=function(t,e){var r=M1.get(e);if(!r)return new l2.InvalidNetworkArgument(e);var n=t.slice(0,4);return Bn.integerFromBuffer(n)!==r.xprivkey?new l2.InvalidNetwork(n):null};ye.fromString=function(t){return iX.checkArgument(bi.isString(t),"No valid string was provided"),new ye(t)};ye.fromObject=function(t){return iX.checkArgument(bi.isObject(t),"No valid argument was provided"),new ye(t)};ye.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))};ye.prototype._buildFromObject=function(t){var e={version:t.network?Bn.integerAsBuffer(M1.get(t.network).xprivkey):t.version,depth:bi.isNumber(t.depth)?Bn.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:bi.isNumber(t.parentFingerPrint)?Bn.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:bi.isNumber(t.childIndex)?Bn.integerAsBuffer(t.childIndex):t.childIndex,chainCode:bi.isString(t.chainCode)?A.Buffer.from(t.chainCode,"hex"):t.chainCode,privateKey:bi.isString(t.privateKey)&&wm.isHexa(t.privateKey)?A.Buffer.from(t.privateKey,"hex"):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:Bn.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(e)};ye.prototype._buildFromSerialized=function(t){var e=Sm.decode(t),r={version:e.slice(ye.VersionStart,ye.VersionEnd),depth:e.slice(ye.DepthStart,ye.DepthEnd),parentFingerPrint:e.slice(ye.ParentFingerPrintStart,ye.ParentFingerPrintEnd),childIndex:e.slice(ye.ChildIndexStart,ye.ChildIndexEnd),chainCode:e.slice(ye.ChainCodeStart,ye.ChainCodeEnd),privateKey:e.slice(ye.PrivateKeyStart,ye.PrivateKeyEnd),checksum:e.slice(ye.ChecksumStart,ye.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)};ye.prototype._generateRandomly=function(t){return ye.fromSeed(cxe.getRandomBuffer(64),t)};ye.fromSeed=function(t,e){if(wm.isHexaString(t)&&(t=A.Buffer.from(t,"hex")),!A.Buffer.isBuffer(t))throw new H0.InvalidEntropyArgument(t);if(t.length<fxe*nX)throw new H0.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>hxe*nX)throw new H0.InvalidEntropyArgument.TooMuchEntropy(t);var r=HP.sha512hmac(t,A.Buffer.from("Bitcoin seed"));return new ye({network:M1.get(e)||M1.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:r.slice(0,32),chainCode:r.slice(32,64)})};ye.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=NP();this._hdPublicKey=new t(this)}};ye.prototype._buildFromBuffers=function(t){ye._validateBufferArguments(t),wm.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,Bn.emptyBuffer(1),t.privateKey],r=rX.Buffer.concat(e);if(!t.checksum||!t.checksum.length)t.checksum=Sm.checksum(r);else if(t.checksum.toString()!==Sm.checksum(r).toString())throw new l2.InvalidB58Checksum(r);var n=M1.get(Bn.integerFromBuffer(t.version)),i;i=Sm.encode(rX.Buffer.concat(e)),t.xprivkey=A.Buffer.from(i);var s=new oX(sX.fromBuffer(t.privateKey),n),o=s.toPublicKey(),a=ye.ParentFingerPrintSize,u=HP.sha256ripemd160(o.toBuffer()).slice(0,a);return wm.defineImmutable(this,{xprivkey:i,network:n,depth:Bn.integerFromSingleByteBuffer(t.depth),privateKey:s,publicKey:o,fingerPrint:u}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this};ye._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];X8(Bn.isBuffer(i),r+" argument is not a buffer"),X8(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",ye.VersionSize),e("depth",ye.DepthSize),e("parentFingerPrint",ye.ParentFingerPrintSize),e("childIndex",ye.ChildIndexSize),e("chainCode",ye.ChainCodeSize),e("privateKey",ye.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",ye.CheckSumSize)};ye.prototype.toString=function(){return this.xprivkey};ye.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"};ye.prototype.toObject=ye.prototype.toJSON=function(){return{network:M1.get(Bn.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:Bn.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:Bn.integerFromBuffer(this.fingerPrint),parentFingerPrint:Bn.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:Bn.integerFromBuffer(this._buffers.childIndex),chainCode:Bn.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:Bn.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}};ye.fromBuffer=function(t){return new ye(t.toString())};ye.prototype.toBuffer=function(){return Bn.copy(this._buffers.xprivkey)};ye.DefaultDepth=0;ye.DefaultFingerprint=0;ye.DefaultChildIndex=0;ye.Hardened=2147483648;ye.MaxIndex=2*ye.Hardened;ye.RootElementAlias=["m","M","m'","M'"];ye.VersionSize=4;ye.DepthSize=1;ye.ParentFingerPrintSize=4;ye.ChildIndexSize=4;ye.ChainCodeSize=32;ye.PrivateKeySize=32;ye.CheckSumSize=4;ye.DataLength=78;ye.SerializedByteSize=82;ye.VersionStart=0;ye.VersionEnd=ye.VersionStart+ye.VersionSize;ye.DepthStart=ye.VersionEnd;ye.DepthEnd=ye.DepthStart+ye.DepthSize;ye.ParentFingerPrintStart=ye.DepthEnd;ye.ParentFingerPrintEnd=ye.ParentFingerPrintStart+ye.ParentFingerPrintSize;ye.ChildIndexStart=ye.ParentFingerPrintEnd;ye.ChildIndexEnd=ye.ChildIndexStart+ye.ChildIndexSize;ye.ChainCodeStart=ye.ChildIndexEnd;ye.ChainCodeEnd=ye.ChainCodeStart+ye.ChainCodeSize;ye.PrivateKeyStart=ye.ChainCodeEnd+1;ye.PrivateKeyEnd=ye.PrivateKeyStart+ye.PrivateKeySize;ye.ChecksumStart=ye.PrivateKeyEnd;ye.ChecksumEnd=ye.ChecksumStart+ye.CheckSumSize;X8(ye.ChecksumEnd===ye.SerializedByteSize);aX.exports=ye});var fX=$((S0t,cX)=>{k();M();var Em=Er(),lxe=_d(),dxe=Ac(),Z8=Tc(),uX=ds(),J8=cm(),DP=eo(),pxe=Fi().sha256sha256,mxe=fi(),Id=Ar();function Di(t){return this instanceof Di?(Id.checkArgument(Em.isString(t),"First argument should be a string"),this.message=t,this):new Di(t)}Di.MAGIC_BYTES=A.Buffer.from(`Bitcoin Signed Message:
`);Di.prototype.magicHash=function(){var e=uX.varintBufNum(Di.MAGIC_BYTES.length),r=A.Buffer.from(this.message),n=uX.varintBufNum(r.length),i=A.Buffer.concat([e,Di.MAGIC_BYTES,n,r]),s=pxe(i);return s};Di.prototype._sign=function(e){Id.checkArgument(e instanceof lxe,"First argument should be an instance of PrivateKey");var r=this.magicHash(),n=new J8;return n.hashbuf=r,n.privkey=e,n.pubkey=e.toPublicKey(),n.signRandomK(),n.calci(),n.sig};Di.prototype.sign=function(e){var r=this._sign(e);return r.toCompact().toString("base64")};Di.prototype._verify=function(e,r){Id.checkArgument(e instanceof dxe,"First argument should be an instance of PublicKey"),Id.checkArgument(r instanceof DP,"Second argument should be an instance of Signature");var n=this.magicHash(),i=J8.verify(n,r,e);return i||(this.error="The signature was invalid"),i};Di.prototype.verify=function(e,r){Id.checkArgument(e),Id.checkArgument(r&&Em.isString(r)),Em.isString(e)&&(e=Z8.fromString(e));var n=DP.fromCompact(A.Buffer.from(r,"base64")),i=new J8;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),o=Z8.fromPublicKey(s,e.network);return e.toString()!==o.toString()?(this.error="The signature did not match the message digest",!1):this._verify(s,n)};Di.prototype.recoverPublicKey=function(e,r){Id.checkArgument(e),Id.checkArgument(r&&Em.isString(r)),Em.isString(e)&&(e=Z8.fromString(e));var n=DP.fromCompact(A.Buffer.from(r,"base64")),i=new J8;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),o=Z8.fromPublicKey(s,e.network);return e.toString()!==o.toString()&&(this.error="The signature did not match the message digest"),s.toString()};Di.fromString=function(t){return new Di(t)};Di.fromJSON=function(e){return mxe.isValidJSON(e)&&(e=JSON.parse(e)),new Di(e.message)};Di.prototype.toObject=function(){return{message:this.message}};Di.prototype.toJSON=function(){return JSON.stringify(this.toObject())};Di.prototype.toString=function(){return this.message};Di.prototype.inspect=function(){return"<Message: "+this.toString()+">"};cX.exports=Di;var x0t=aa()});var gX=$((T0t,mX)=>{k();M();var lX=Er(),dX=ck(),hX=Tc(),pX=R8(),yi=function(t,e){if(!(this instanceof yi))return new yi(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,typeof t=="string"){var r=yi.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else if(typeof t=="object")this._fromObject(t);else throw new TypeError("Unrecognized data format.")};yi.fromString=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return new yi(e)};yi.fromObject=function(e){return new yi(e)};yi.isValid=function(t,e){try{new yi(t,e)}catch{return!1}return!0};yi.parse=function(t){var e=dX.parse(t,!0);if(e.protocol!=="bitcoin:")throw new TypeError("Invalid bitcoin URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query};yi.Members=["address","amount","message","label","r"];yi.prototype._fromObject=function(t){if(!hX.isValid(t.address))throw new TypeError("Invalid bitcoin address");this.address=new hX(t.address),this.network=this.address.network,this.amount=t.amount;for(var e in t)if(!(e==="address"||e==="amount")){if(/^req-/.exec(e)&&this.knownParams.indexOf(e)===-1)throw Error("Unknown required argument "+e);var r=yi.Members.indexOf(e)>-1?this:this.extras;r[e]=t[e]}};yi.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return pX.fromBTC(t).toSatoshis()};yi.prototype.toObject=yi.prototype.toJSON=function(){for(var e={},r=0;r<yi.Members.length;r++){var n=yi.Members[r];this.hasOwnProperty(n)&&typeof this[n]<"u"&&(e[n]=this[n].toString())}return lX.extend(e,this.extras),e};yi.prototype.toString=function(){var t={};return this.amount&&(t.amount=pX.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),lX.extend(t,this.extras),dX.format({protocol:"bitcoin:",host:this.address,query:t})};yi.prototype.inspect=function(){return"<URI: "+this.toString()+">"};mX.exports=yi});var yX=$((P0t,bX)=>{k();M();var Ct=bX.exports;Ct.version="v"+qz().version;Ct.versionGuard=function(t){if(t!==void 0){var e="More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.";throw new Error(e)}};Ct.versionGuard(globalThis._bitcore);globalThis._bitcore=Ct.version;Ct.crypto={};Ct.crypto.BN=hs();Ct.crypto.ECDSA=cm();Ct.crypto.Schnorr=GI();Ct.crypto.Hash=Fi();Ct.crypto.Random=ym();Ct.crypto.Point=pd();Ct.crypto.Signature=eo();Ct.crypto.TaggedHash=Vf();Ct.encoding={};Ct.encoding.Base58=am();Ct.encoding.Base58Check=Z5();Ct.encoding.BufferReader=bc();Ct.encoding.BufferWriter=ds();Ct.encoding.Varint=RY();Ct.util={};Ct.util.buffer=On();Ct.util.js=fi();Ct.util.preconditions=Ar();Ct.errors=Ea();Ct.Address=Tc();Ct.Block=WY();Ct.MerkleBlock=MP();Ct.BlockHeader=_m();Ct.HDPrivateKey=FP();Ct.HDPublicKey=NP();Ct.Message=fX();Ct.Networks=bd();Ct.Opcode=_8();Ct.PrivateKey=_d();Ct.PublicKey=Ac();Ct.Script=aa();Ct.Transaction=gm();Ct.URI=gX();Ct.Unit=R8();Ct.deps={};Ct.deps.bnjs=KA();Ct.deps.bs58=DI();Ct.deps.Buffer=A.Buffer;Ct.deps.elliptic=z_();Ct.deps._=Er();Ct.Transaction.sighash=zf()});var d2=$(UP=>{k();M();Object.defineProperty(UP,"__esModule",{value:!0});UP.btc=yX()});var LP=$(ev=>{k();M();Object.defineProperty(ev,"__esModule",{value:!0});ev.ProtocolState=void 0;var Q8=Sr(),gxe=Pn(),bxe=d2(),D0=(0,Q8.toByteString)(""),rh=class{constructor(e,r){this.stateHashList=e,this.dataList=r}get hashRoot(){let e="";for(let r=0;r<this.stateHashList.length;r++)e+=(0,Q8.hash160)(this.stateHashList[r]);return(0,Q8.hash160)(e)}get stateScript(){return new bxe.btc.Script(gxe.TxUtil.getStateScript(this.hashRoot))}static toStateHashList(e){let r=[D0,D0,D0,D0,D0];for(let n=0;n<e.length;n++){let i=e[n];i&&(r[n]=(0,Q8.hash160)(i))}return r}static fromDataList(e){return new rh(rh.toStateHashList(e),e)}static fromStateHashList(e){return new rh(e)}static getEmptyState(){let e=[D0,D0,D0,D0,D0];return rh.fromDataList(e)}updateDataList(e,r){this.dataList[e]=r,this.stateHashList=rh.toStateHashList(this.dataList)}};ev.ProtocolState=rh});var vX=$((H0t,yxe)=>{yxe.exports={name:"bigi",version:"1.4.2",description:"Big integers.",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},repository:{url:"https://github.com/cryptocoinjs/bigi",type:"git"},main:"./lib/index.js",scripts:{"browser-test":"./node_modules/.bin/mochify --wd -R spec",test:"./node_modules/.bin/_mocha -- test/*.js",jshint:"./node_modules/.bin/jshint --config jshint.json lib/*.js ; true",unit:"./node_modules/.bin/mocha",coverage:"./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info"},dependencies:{},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]}}});var jP=$((D0t,TX)=>{k();M();function qe(t,e,r){if(!(this instanceof qe))return new qe(t,e,r);t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}var Ue=qe.prototype;Ue.__bigi=vX().version;qe.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===Ue.__bigi)};var p2;function vxe(t,e,r,n,i,s){for(;--s>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=o&67108863}return i}qe.prototype.am=vxe;p2=26;qe.prototype.DB=p2;qe.prototype.DM=(1<<p2)-1;var _xe=qe.prototype.DV=1<<p2,qP=52;qe.prototype.FV=Math.pow(2,qP);qe.prototype.F1=qP-p2;qe.prototype.F2=2*p2-qP;var xxe="0123456789abcdefghijklmnopqrstuvwxyz",tv=new Array,m2,Pu;m2="0".charCodeAt(0);for(Pu=0;Pu<=9;++Pu)tv[m2++]=Pu;m2="a".charCodeAt(0);for(Pu=10;Pu<36;++Pu)tv[m2++]=Pu;m2="A".charCodeAt(0);for(Pu=10;Pu<36;++Pu)tv[m2++]=Pu;function _X(t){return xxe.charAt(t)}function xX(t,e){var r=tv[t.charCodeAt(e)];return r??-1}function Sxe(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function wxe(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+_xe:this.t=0}function nh(t){var e=new qe;return e.fromInt(t),e}function Exe(t,e){var r=this,n;if(e==16)n=4;else if(e==8)n=3;else if(e==256)n=8;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else{r.fromRadix(t,e);return}r.t=0,r.s=0;for(var i=t.length,s=!1,o=0;--i>=0;){var a=n==8?t[i]&255:xX(t,i);if(a<0){t.charAt(i)=="-"&&(s=!0);continue}s=!1,o==0?r[r.t++]=a:o+n>r.DB?(r[r.t-1]|=(a&(1<<r.DB-o)-1)<<o,r[r.t++]=a>>r.DB-o):r[r.t-1]|=a<<o,o+=n,o>=r.DB&&(o-=r.DB)}n==8&&(t[0]&128)!=0&&(r.s=-1,o>0&&(r[r.t-1]|=(1<<r.DB-o)-1<<o)),r.clamp(),s&&qe.ZERO.subTo(r,r)}function Txe(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function Axe(t){var e=this;if(e.s<0)return"-"+e.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else return e.toRadix(t);var n=(1<<r)-1,i,s=!1,o="",a=e.t,u=e.DB-a*e.DB%r;if(a-- >0)for(u<e.DB&&(i=e[a]>>u)>0&&(s=!0,o=_X(i));a>=0;)u<r?(i=(e[a]&(1<<u)-1)<<r-u,i|=e[--a]>>(u+=e.DB-r)):(i=e[a]>>(u-=r)&n,u<=0&&(u+=e.DB,--a)),i>0&&(s=!0),s&&(o+=_X(i));return s?o:"0"}function Ixe(){var t=new qe;return qe.ZERO.subTo(this,t),t}function Pxe(){return this.s<0?this.negate():this}function Oxe(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function rv(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Bxe(){return this.t<=0?0:this.DB*(this.t-1)+rv(this[this.t-1]^this.s&this.DM)}function Cxe(){return this.bitLength()>>3}function kxe(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function Mxe(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Rxe(t,e){var r=this,n=t%r.DB,i=r.DB-n,s=(1<<i)-1,o=Math.floor(t/r.DB),a=r.s<<n&r.DM,u;for(u=r.t-1;u>=0;--u)e[u+o+1]=r[u]>>i|a,a=(r[u]&s)<<n;for(u=o-1;u>=0;--u)e[u]=0;e[o]=a,e.t=r.t+o+1,e.s=r.s,e.clamp()}function Nxe(t,e){var r=this;e.s=r.s;var n=Math.floor(t/r.DB);if(n>=r.t){e.t=0;return}var i=t%r.DB,s=r.DB-i,o=(1<<i)-1;e[0]=r[n]>>i;for(var a=n+1;a<r.t;++a)e[a-n-1]|=(r[a]&o)<<s,e[a-n]=r[a]>>i;i>0&&(e[r.t-n-1]|=(r.s&o)<<s),e.t=r.t-n,e.clamp()}function Fxe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]-t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i-=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i-=t[n],e[n++]=i&r.DM,i>>=r.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=r.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function Hxe(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&qe.ZERO.subTo(e,e)}function Dxe(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function Uxe(t,e,r){var n=this,i=t.abs();if(!(i.t<=0)){var s=n.abs();if(s.t<i.t){e?.fromInt(0),r!=null&&n.copyTo(r);return}r==null&&(r=new qe);var o=new qe,a=n.s,u=t.s,c=n.DB-rv(i[i.t-1]);c>0?(i.lShiftTo(c,o),s.lShiftTo(c,r)):(i.copyTo(o),s.copyTo(r));var h=o.t,f=o[h-1];if(f!=0){var p=f*(1<<n.F1)+(h>1?o[h-2]>>n.F2:0),l=n.FV/p,y=(1<<n.F1)/p,_=1<<n.F2,O=r.t,F=O-h,B=e??new qe;for(o.dlShiftTo(F,B),r.compareTo(B)>=0&&(r[r.t++]=1,r.subTo(B,r)),qe.ONE.dlShiftTo(h,B),B.subTo(o,o);o.t<h;)o[o.t++]=0;for(;--F>=0;){var E=r[--O]==f?n.DM:Math.floor(r[O]*l+(r[O-1]+_)*y);if((r[O]+=o.am(0,E,r,F,0,h))<E)for(o.dlShiftTo(F,B),r.subTo(B,r);r[O]<--E;)r.subTo(B,r)}e!=null&&(r.drShiftTo(h,e),a!=u&&qe.ZERO.subTo(e,e)),r.t=h,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&qe.ZERO.subTo(r,r)}}}function Lxe(t){var e=new qe;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(qe.ZERO)>0&&t.subTo(e,e),e}function R1(t){this.m=t}function qxe(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function $xe(t){return t}function jxe(t){t.divRemTo(this.m,null,t)}function Kxe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Vxe(t,e){t.squareTo(e),this.reduce(e)}R1.prototype.convert=qxe;R1.prototype.revert=$xe;R1.prototype.reduce=jxe;R1.prototype.mulTo=Kxe;R1.prototype.sqrTo=Vxe;function Gxe(){if(this.t<1)return 0;var t=this[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function N1(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function zxe(t){var e=new qe;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(qe.ZERO)>0&&this.m.subTo(e,e),e}function Wxe(t){var e=new qe;return t.copyTo(e),this.reduce(e),e}function Yxe(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Xxe(t,e){t.squareTo(e),this.reduce(e)}function Zxe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}N1.prototype.convert=zxe;N1.prototype.revert=Wxe;N1.prototype.reduce=Yxe;N1.prototype.mulTo=Zxe;N1.prototype.sqrTo=Xxe;function Jxe(){return(this.t>0?this[0]&1:this.s)==0}function Qxe(t,e){if(t>4294967295||t<1)return qe.ONE;var r=new qe,n=new qe,i=e.convert(this),s=rv(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function eSe(t,e){var r;return t<256||e.isEven()?r=new R1(e):r=new N1(e),this.exp(t,r)}Ue.copyTo=Sxe;Ue.fromInt=wxe;Ue.fromString=Exe;Ue.clamp=Txe;Ue.dlShiftTo=kxe;Ue.drShiftTo=Mxe;Ue.lShiftTo=Rxe;Ue.rShiftTo=Nxe;Ue.subTo=Fxe;Ue.multiplyTo=Hxe;Ue.squareTo=Dxe;Ue.divRemTo=Uxe;Ue.invDigit=Gxe;Ue.isEven=Jxe;Ue.exp=Qxe;Ue.toString=Axe;Ue.negate=Ixe;Ue.abs=Pxe;Ue.compareTo=Oxe;Ue.bitLength=Bxe;Ue.byteLength=Cxe;Ue.mod=Lxe;Ue.modPowInt=eSe;function tSe(){var t=new qe;return this.copyTo(t),t}function rSe(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function nSe(){return this.t==0?this.s:this[0]<<24>>24}function iSe(){return this.t==0?this.s:this[0]<<16>>16}function sSe(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function oSe(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function aSe(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=nh(r),i=new qe,s=new qe,o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function uSe(t,e){var r=this;r.fromInt(0),e==null&&(e=10);for(var n=r.chunkSize(e),i=Math.pow(e,n),s=!1,o=0,a=0,u=0;u<t.length;++u){var c=xX(t,u);if(c<0){t.charAt(u)=="-"&&r.signum()==0&&(s=!0);continue}a=e*a+c,++o>=n&&(r.dMultiply(i),r.dAddOffset(a,0),o=0,a=0)}o>0&&(r.dMultiply(Math.pow(e,o)),r.dAddOffset(a,0)),s&&qe.ZERO.subTo(r,r)}function cSe(t,e,r){var n=this;if(typeof e=="number")if(t<2)n.fromInt(1);else for(n.fromNumber(t,r),n.testBit(t-1)||n.bitwiseTo(qe.ONE.shiftLeft(t-1),$P,n),n.isEven()&&n.dAddOffset(1,0);!n.isProbablePrime(e);)n.dAddOffset(2,0),n.bitLength()>t&&n.subTo(qe.ONE.shiftLeft(t-1),n);else{var i=new Array,s=t&7;i.length=(t>>3)+1,e.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,n.fromString(i,256)}}function fSe(){var t=this,e=t.t,r=new Array;r[0]=t.s;var n=t.DB-e*t.DB%8,i,s=0;if(e-- >0)for(n<t.DB&&(i=t[e]>>n)!=(t.s&t.DM)>>n&&(r[s++]=i|t.s<<t.DB-n);e>=0;)n<8?(i=(t[e]&(1<<n)-1)<<8-n,i|=t[--e]>>(n+=t.DB-8)):(i=t[e]>>(n-=8)&255,n<=0&&(n+=t.DB,--e)),(i&128)!=0&&(i|=-256),s===0&&(t.s&128)!=(i&128)&&++s,(s>0||i!=t.s)&&(r[s++]=i);return r}function hSe(t){return this.compareTo(t)==0}function lSe(t){return this.compareTo(t)<0?this:t}function dSe(t){return this.compareTo(t)>0?this:t}function pSe(t,e,r){var n=this,i,s,o=Math.min(t.t,n.t);for(i=0;i<o;++i)r[i]=e(n[i],t[i]);if(t.t<n.t){for(s=t.s&n.DM,i=o;i<n.t;++i)r[i]=e(n[i],s);r.t=n.t}else{for(s=n.s&n.DM,i=o;i<t.t;++i)r[i]=e(s,t[i]);r.t=t.t}r.s=e(n.s,t.s),r.clamp()}function mSe(t,e){return t&e}function gSe(t){var e=new qe;return this.bitwiseTo(t,mSe,e),e}function $P(t,e){return t|e}function bSe(t){var e=new qe;return this.bitwiseTo(t,$P,e),e}function SX(t,e){return t^e}function ySe(t){var e=new qe;return this.bitwiseTo(t,SX,e),e}function wX(t,e){return t&~e}function vSe(t){var e=new qe;return this.bitwiseTo(t,wX,e),e}function _Se(){for(var t=new qe,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function xSe(t){var e=new qe;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function SSe(t){var e=new qe;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function wSe(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function ESe(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+wSe(this[t]);return this.s<0?this.t*this.DB:-1}function TSe(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function ASe(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=TSe(this[r]^e);return t}function ISe(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function PSe(t,e){var r=qe.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function OSe(t){return this.changeBit(t,$P)}function BSe(t){return this.changeBit(t,wX)}function CSe(t){return this.changeBit(t,SX)}function kSe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]+t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i+=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i+=t[n],e[n++]=i&r.DM,i>>=r.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=r.DV+i),e.t=n,e.clamp()}function MSe(t){var e=new qe;return this.addTo(t,e),e}function RSe(t){var e=new qe;return this.subTo(t,e),e}function NSe(t){var e=new qe;return this.multiplyTo(t,e),e}function FSe(){var t=new qe;return this.squareTo(t),t}function HSe(t){var e=new qe;return this.divRemTo(t,e,null),e}function DSe(t){var e=new qe;return this.divRemTo(t,null,e),e}function USe(t){var e=new qe,r=new qe;return this.divRemTo(t,e,r),new Array(e,r)}function LSe(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function qSe(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Tm(){}function EX(t){return t}function $Se(t,e,r){t.multiplyTo(e,r)}function jSe(t,e){t.squareTo(e)}Tm.prototype.convert=EX;Tm.prototype.revert=EX;Tm.prototype.mulTo=$Se;Tm.prototype.sqrTo=jSe;function KSe(t){return this.exp(t,new Tm)}function VSe(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function GSe(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function g2(t){this.r2=new qe,this.q3=new qe,qe.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function zSe(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new qe;return t.copyTo(e),this.reduce(e),e}function WSe(t){return t}function YSe(t){var e=this;for(t.drShiftTo(e.m.t-1,e.r2),t.t>e.m.t+1&&(t.t=e.m.t+1,t.clamp()),e.mu.multiplyUpperTo(e.r2,e.m.t+1,e.q3),e.m.multiplyLowerTo(e.q3,e.m.t+1,e.r2);t.compareTo(e.r2)<0;)t.dAddOffset(1,e.m.t+1);for(t.subTo(e.r2,t);t.compareTo(e.m)>=0;)t.subTo(e.m,t)}function XSe(t,e){t.squareTo(e),this.reduce(e)}function ZSe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}g2.prototype.convert=zSe;g2.prototype.revert=WSe;g2.prototype.reduce=YSe;g2.prototype.mulTo=ZSe;g2.prototype.sqrTo=XSe;function JSe(t,e){var r=t.bitLength(),n,i=nh(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new R1(e):e.isEven()?s=new g2(e):s=new N1(e);var o=new Array,a=3,u=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var h=new qe;for(s.sqrTo(o[1],h);a<=c;)o[a]=new qe,s.mulTo(h,o[a-2],o[a]),a+=2}var f=t.t-1,p,l=!0,y=new qe,_;for(r=rv(t[f])-1;f>=0;){for(r>=u?p=t[f]>>r-u&c:(p=(t[f]&(1<<r+1)-1)<<u-r,f>0&&(p|=t[f-1]>>this.DB+r-u)),a=n;(p&1)==0;)p>>=1,--a;if((r-=a)<0&&(r+=this.DB,--f),l)o[p].copyTo(i),l=!1;else{for(;a>1;)s.sqrTo(i,y),s.sqrTo(y,i),a-=2;a>0?s.sqrTo(i,y):(_=i,i=y,y=_),s.mulTo(y,o[p],i)}for(;f>=0&&(t[f]&1<<r)==0;)s.sqrTo(i,y),_=i,i=y,y=_,--r<0&&(r=this.DB-1,--f)}return s.revert(i)}function QSe(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function ewe(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function twe(t){var e=t.isEven();if(this.signum()===0)throw new Error("division by zero");if(this.isEven()&&e||t.signum()==0)return qe.ZERO;for(var r=t.clone(),n=this.clone(),i=nh(1),s=nh(0),o=nh(0),a=nh(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(qe.ONE)!=0)return qe.ZERO;for(;a.compareTo(t)>=0;)a.subTo(t,a);for(;a.signum()<0;)a.addTo(t,a);return a}var wo=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],rwe=(1<<26)/wo[wo.length-1];function nwe(t){var e,r=this.abs();if(r.t==1&&r[0]<=wo[wo.length-1]){for(e=0;e<wo.length;++e)if(r[0]==wo[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<wo.length;){for(var n=wo[e],i=e+1;i<wo.length&&n<rwe;)n*=wo[i++];for(n=r.modInt(n);e<i;)if(n%wo[e++]==0)return!1}return r.millerRabin(t)}function iwe(t){var e=this.subtract(qe.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);t=t+1>>1,t>wo.length&&(t=wo.length);for(var i=new qe(null),s,o=[],a=0;a<t;++a){for(;s=wo[Math.floor(Math.random()*wo.length)],o.indexOf(s)!=-1;);o.push(s),i.fromInt(s);var u=i.modPow(n,this);if(u.compareTo(qe.ONE)!=0&&u.compareTo(e)!=0){for(var s=1;s++<r&&u.compareTo(e)!=0;)if(u=u.modPowInt(2,this),u.compareTo(qe.ONE)==0)return!1;if(u.compareTo(e)!=0)return!1}}return!0}Ue.chunkSize=sSe;Ue.toRadix=aSe;Ue.fromRadix=uSe;Ue.fromNumber=cSe;Ue.bitwiseTo=pSe;Ue.changeBit=PSe;Ue.addTo=kSe;Ue.dMultiply=LSe;Ue.dAddOffset=qSe;Ue.multiplyLowerTo=VSe;Ue.multiplyUpperTo=GSe;Ue.modInt=ewe;Ue.millerRabin=iwe;Ue.clone=tSe;Ue.intValue=rSe;Ue.byteValue=nSe;Ue.shortValue=iSe;Ue.signum=oSe;Ue.toByteArray=fSe;Ue.equals=hSe;Ue.min=lSe;Ue.max=dSe;Ue.and=gSe;Ue.or=bSe;Ue.xor=ySe;Ue.andNot=vSe;Ue.not=_Se;Ue.shiftLeft=xSe;Ue.shiftRight=SSe;Ue.getLowestSetBit=ESe;Ue.bitCount=ASe;Ue.testBit=ISe;Ue.setBit=OSe;Ue.clearBit=BSe;Ue.flipBit=CSe;Ue.add=MSe;Ue.subtract=RSe;Ue.multiply=NSe;Ue.divide=HSe;Ue.remainder=DSe;Ue.divideAndRemainder=USe;Ue.modPow=JSe;Ue.modInverse=twe;Ue.pow=KSe;Ue.gcd=QSe;Ue.isProbablePrime=nwe;Ue.square=FSe;qe.ZERO=nh(0);qe.ONE=nh(1);qe.valueOf=nh;TX.exports=qe});var IX=$(()=>{k();M();var AX=rc(),ro=jP();ro.fromByteArrayUnsigned=function(t){return t[0]&128?new ro([0].concat(t)):new ro(t)};ro.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return t[0]===0?t.slice(1):t};ro.fromDERInteger=function(t){return new ro(t)};ro.prototype.toDERInteger=ro.prototype.toByteArray;ro.fromBuffer=function(t){if(t[0]&128){var e=Array.prototype.slice.call(t);return new ro([0].concat(e))}return new ro(t)};ro.fromHex=function(t){return t===""?ro.ZERO:(AX.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),AX.equal(t.length%2,0,"Incomplete hex"),new ro(t,16))};ro.prototype.toBuffer=function(t){for(var e=this.toByteArrayUnsigned(),r=[],n=t-e.length;r.length<n;)r.push(0);return new A.Buffer(r.concat(e))};ro.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")}});var Am=$((V0t,PX)=>{k();M();var swe=jP();IX();PX.exports=swe});var VP=$((W0t,OX)=>{k();M();var nv=rc(),KP=og().Buffer,iv=Am(),sv=iv.valueOf(3);function Xi(t,e,r,n){nv.notStrictEqual(n,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(Xi.prototype,"zInv",{get:function(){return this._zInv===null&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}});Object.defineProperty(Xi.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}});Object.defineProperty(Xi.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}});Xi.fromAffine=function(t,e,r){return new Xi(t,e,r,iv.ONE)};Xi.prototype.equals=function(t){if(t===this)return!0;if(this.curve.isInfinity(this))return this.curve.isInfinity(t);if(this.curve.isInfinity(t))return this.curve.isInfinity(this);var e=t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p);if(e.signum()!==0)return!1;var r=t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p);return r.signum()===0};Xi.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new Xi(this.curve,this.x,t,this.z)};Xi.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y,s=i.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(o.signum()===0)return s.signum()===0?this.twice():this.curve.infinity;var a=o.square(),u=a.multiply(o),c=e.multiply(a),h=s.square().multiply(this.z),f=h.subtract(c.shiftLeft(1)).multiply(t.z).subtract(u).multiply(o).mod(this.curve.p),p=c.multiply(sv).multiply(s).subtract(r.multiply(u)).subtract(h.multiply(s)).multiply(t.z).add(s.multiply(u)).mod(this.curve.p),l=u.multiply(this.z).multiply(t.z).mod(this.curve.p);return new Xi(this.curve,f,p,l)};Xi.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(this.y.signum()===0)return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,s=t.square().multiply(sv);i.signum()!==0&&(s=s.add(this.z.square().multiply(i))),s=s.mod(this.curve.p);var o=s.square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),a=s.multiply(sv).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(s.pow(3)).mod(this.curve.p),u=r.pow(3).shiftLeft(3).mod(this.curve.p);return new Xi(this.curve,o,a,u)};Xi.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(t.signum()===0)return this.curve.infinity;for(var e=t,r=e.multiply(sv),n=this.negate(),i=this,s=r.bitLength()-2;s>0;--s){var o=r.testBit(s),a=e.testBit(s);i=i.twice(),o!==a&&(i=i.add(o?this:n))}return i};Xi.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,s=this.add(e);n>=0;){var o=t.testBit(n),a=r.testBit(n);i=i.twice(),o?a?i=i.add(s):i=i.add(this):a&&(i=i.add(e)),--n}return i};Xi.prototype.getEncoded=function(t){if(t==null&&(t=this.compressed),this.curve.isInfinity(this))return KP.alloc(1,0);var e=this.affineX,r=this.affineY,n=this.curve.pLength,i;return t?(i=KP.allocUnsafe(1+n),i.writeUInt8(r.isEven()?2:3,0)):(i=KP.allocUnsafe(1+n+n),i.writeUInt8(4,0),r.toBuffer(n).copy(i,1+n)),e.toBuffer(n).copy(i,1),i};Xi.decodeFrom=function(t,e){var r=e.readUInt8(0),n=r!==4,i=Math.floor((t.p.bitLength()+7)/8),s=iv.fromBuffer(e.slice(1,1+i)),o;if(n){nv.equal(e.length,i+1,"Invalid sequence length"),nv(r===2||r===3,"Invalid sequence tag");var a=r===3;o=t.pointFromX(a,s)}else{nv.equal(e.length,1+i+i,"Invalid sequence length");var u=iv.fromBuffer(e.slice(1+i));o=Xi.fromAffine(t,s,u)}return o.compressed=n,o};Xi.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};OX.exports=Xi});var WP=$((Z0t,CX)=>{k();M();var GP=rc(),BX=Am(),zP=VP();function Im(t,e,r,n,i,s,o){this.p=t,this.a=e,this.b=r,this.G=zP.fromAffine(this,n,i),this.n=s,this.h=o,this.infinity=new zP(this,null,null,BX.ZERO),this.pOverFour=t.add(BX.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}Im.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p),n=r.modPow(this.pOverFour,this.p),i=n;return n.isEven()^!t&&(i=this.p.subtract(i)),zP.fromAffine(this,e,i)};Im.prototype.isInfinity=function(t){return t===this.infinity?!0:t.z.signum()===0&&t.y.signum()!==0};Im.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,s=this.p;if(e.signum()<0||e.compareTo(s)>=0||r.signum()<0||r.compareTo(s)>=0)return!1;var o=r.square().mod(s),a=e.pow(3).add(n.multiply(e)).add(i).mod(s);return o.equals(a)};Im.prototype.validate=function(t){GP(!this.isInfinity(t),"Point is at infinity"),GP(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return GP(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};CX.exports=Im});var kX=$((eft,owe)=>{owe.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}});var RX=$((tft,MX)=>{k();M();var F1=Am(),awe=kX(),uwe=WP();function cwe(t){var e=awe[t];if(!e)return null;var r=new F1(e.p,16),n=new F1(e.a,16),i=new F1(e.b,16),s=new F1(e.n,16),o=new F1(e.h,16),a=new F1(e.Gx,16),u=new F1(e.Gy,16);return new uwe(r,n,i,a,u,s,o)}MX.exports=cwe});var FX=$((ift,NX)=>{k();M();var fwe=VP(),hwe=WP(),lwe=RX();NX.exports={Curve:hwe,Point:fwe,getCurveByName:lwe}});var HX=$((aft,ov)=>{k();M();(function(){"use strict";var t="input is invalid type",e=typeof window=="object",r=e?window:{};r.JS_SHA256_NO_WINDOW&&(e=!1);var n=!e&&typeof self=="object",i=!r.JS_SHA256_NO_NODE_JS&&typeof q=="object"&&q.versions&&q.versions.node;i?r=globalThis:n&&(r=self);var s=!r.JS_SHA256_NO_COMMON_JS&&typeof ov=="object"&&ov.exports,o=typeof define=="function"&&define.amd,a=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],h=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=["hex","array","digest","arrayBuffer"],l=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(N){return Object.prototype.toString.call(N)==="[object Array]"}),a&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(N){return typeof N=="object"&&N.buffer&&N.buffer.constructor===ArrayBuffer});var y=function(N,H){return function(D){return new E(H,!0).update(D)[N]()}},_=function(N){var H=y("hex",N);i&&(H=O(H,N)),H.create=function(){return new E(N)},H.update=function(d){return H.create().update(d)};for(var D=0;D<p.length;++D){var C=p[D];H[C]=y(C,N)}return H},O=function(N,H){var D=H?"sha224":"sha256",C=function(d){if(typeof d=="string")return crypto.createHash(D).update(d,"utf8").digest("hex");if(d==null)throw new Error(t);return d.constructor===ArrayBuffer&&(d=new Uint8Array(d)),Array.isArray(d)||ArrayBuffer.isView(d)||d.constructor===A.Buffer?crypto.createHash(D).update(new A.Buffer(d)).digest("hex"):N(d)};return C},F=function(N,H){return function(D,C){return new I(D,H,!0).update(C)[N]()}},B=function(N){var H=F("hex",N);H.create=function(d){return new I(d,N)},H.update=function(d,v){return H.create(d).update(v)};for(var D=0;D<p.length;++D){var C=p[D];H[C]=F(C,N)}return H};function E(N,H){H?(l[0]=l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0,this.blocks=l):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=N}E.prototype.update=function(N){if(!this.finalized){var H,D=typeof N;if(D!=="string"){if(D==="object"){if(N===null)throw new Error(t);if(a&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!a||!ArrayBuffer.isView(N)))throw new Error(t)}else throw new Error(t);H=!0}for(var C,d=0,v,g=N.length,m=this.blocks;d<g;){if(this.hashed&&(this.hashed=!1,m[0]=this.block,m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),H)for(v=this.start;d<g&&v<64;++d)m[v>>2]|=N[d]<<h[v++&3];else for(v=this.start;d<g&&v<64;++d)C=N.charCodeAt(d),C<128?m[v>>2]|=C<<h[v++&3]:C<2048?(m[v>>2]|=(192|C>>6)<<h[v++&3],m[v>>2]|=(128|C&63)<<h[v++&3]):C<55296||C>=57344?(m[v>>2]|=(224|C>>12)<<h[v++&3],m[v>>2]|=(128|C>>6&63)<<h[v++&3],m[v>>2]|=(128|C&63)<<h[v++&3]):(C=65536+((C&1023)<<10|N.charCodeAt(++d)&1023),m[v>>2]|=(240|C>>18)<<h[v++&3],m[v>>2]|=(128|C>>12&63)<<h[v++&3],m[v>>2]|=(128|C>>6&63)<<h[v++&3],m[v>>2]|=(128|C&63)<<h[v++&3]);this.lastByteIndex=v,this.bytes+=v-this.start,v>=64?(this.block=m[16],this.start=v-64,this.hash(),this.hashed=!0):this.start=v}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var N=this.blocks,H=this.lastByteIndex;N[16]=this.block,N[H>>2]|=c[H&3],this.block=N[16],H>=56&&(this.hashed||this.hash(),N[0]=this.block,N[16]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=N[10]=N[11]=N[12]=N[13]=N[14]=N[15]=0),N[14]=this.hBytes<<3|this.bytes>>>29,N[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var N=this.h0,H=this.h1,D=this.h2,C=this.h3,d=this.h4,v=this.h5,g=this.h6,m=this.h7,S=this.blocks,w,R,T,b,x,P,L,V,W,ee,ae;for(w=16;w<64;++w)x=S[w-15],R=(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3,x=S[w-2],T=(x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10,S[w]=S[w-16]+R+S[w-7]+T<<0;for(ae=H&D,w=0;w<64;w+=4)this.first?(this.is224?(V=300032,x=S[0]-1413257819,m=x-150054599<<0,C=x+24177077<<0):(V=704751109,x=S[0]-210244248,m=x-1521486534<<0,C=x+143694565<<0),this.first=!1):(R=(N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10),T=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),V=N&H,b=V^N&D^ae,L=d&v^~d&g,x=m+T+L+f[w]+S[w],P=R+b,m=C+x<<0,C=x+P<<0),R=(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10),T=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),W=C&N,b=W^C&H^V,L=m&d^~m&v,x=g+T+L+f[w+1]+S[w+1],P=R+b,g=D+x<<0,D=x+P<<0,R=(D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10),T=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),ee=D&C,b=ee^D&N^W,L=g&m^~g&d,x=v+T+L+f[w+2]+S[w+2],P=R+b,v=H+x<<0,H=x+P<<0,R=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),T=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),ae=H&D,b=ae^H&C^ee,L=v&g^~v&m,x=d+T+L+f[w+3]+S[w+3],P=R+b,d=N+x<<0,N=x+P<<0;this.h0=this.h0+N<<0,this.h1=this.h1+H<<0,this.h2=this.h2+D<<0,this.h3=this.h3+C<<0,this.h4=this.h4+d<<0,this.h5=this.h5+v<<0,this.h6=this.h6+g<<0,this.h7=this.h7+m<<0},E.prototype.hex=function(){this.finalize();var N=this.h0,H=this.h1,D=this.h2,C=this.h3,d=this.h4,v=this.h5,g=this.h6,m=this.h7,S=u[N>>28&15]+u[N>>24&15]+u[N>>20&15]+u[N>>16&15]+u[N>>12&15]+u[N>>8&15]+u[N>>4&15]+u[N&15]+u[H>>28&15]+u[H>>24&15]+u[H>>20&15]+u[H>>16&15]+u[H>>12&15]+u[H>>8&15]+u[H>>4&15]+u[H&15]+u[D>>28&15]+u[D>>24&15]+u[D>>20&15]+u[D>>16&15]+u[D>>12&15]+u[D>>8&15]+u[D>>4&15]+u[D&15]+u[C>>28&15]+u[C>>24&15]+u[C>>20&15]+u[C>>16&15]+u[C>>12&15]+u[C>>8&15]+u[C>>4&15]+u[C&15]+u[d>>28&15]+u[d>>24&15]+u[d>>20&15]+u[d>>16&15]+u[d>>12&15]+u[d>>8&15]+u[d>>4&15]+u[d&15]+u[v>>28&15]+u[v>>24&15]+u[v>>20&15]+u[v>>16&15]+u[v>>12&15]+u[v>>8&15]+u[v>>4&15]+u[v&15]+u[g>>28&15]+u[g>>24&15]+u[g>>20&15]+u[g>>16&15]+u[g>>12&15]+u[g>>8&15]+u[g>>4&15]+u[g&15];return this.is224||(S+=u[m>>28&15]+u[m>>24&15]+u[m>>20&15]+u[m>>16&15]+u[m>>12&15]+u[m>>8&15]+u[m>>4&15]+u[m&15]),S},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var N=this.h0,H=this.h1,D=this.h2,C=this.h3,d=this.h4,v=this.h5,g=this.h6,m=this.h7,S=[N>>24&255,N>>16&255,N>>8&255,N&255,H>>24&255,H>>16&255,H>>8&255,H&255,D>>24&255,D>>16&255,D>>8&255,D&255,C>>24&255,C>>16&255,C>>8&255,C&255,d>>24&255,d>>16&255,d>>8&255,d&255,v>>24&255,v>>16&255,v>>8&255,v&255,g>>24&255,g>>16&255,g>>8&255,g&255];return this.is224||S.push(m>>24&255,m>>16&255,m>>8&255,m&255),S},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var N=new ArrayBuffer(this.is224?28:32),H=new DataView(N);return H.setUint32(0,this.h0),H.setUint32(4,this.h1),H.setUint32(8,this.h2),H.setUint32(12,this.h3),H.setUint32(16,this.h4),H.setUint32(20,this.h5),H.setUint32(24,this.h6),this.is224||H.setUint32(28,this.h7),N};function I(N,H,D){var C,d=typeof N;if(d==="string"){var v=[],g=N.length,m=0,S;for(C=0;C<g;++C)S=N.charCodeAt(C),S<128?v[m++]=S:S<2048?(v[m++]=192|S>>6,v[m++]=128|S&63):S<55296||S>=57344?(v[m++]=224|S>>12,v[m++]=128|S>>6&63,v[m++]=128|S&63):(S=65536+((S&1023)<<10|N.charCodeAt(++C)&1023),v[m++]=240|S>>18,v[m++]=128|S>>12&63,v[m++]=128|S>>6&63,v[m++]=128|S&63);N=v}else if(d==="object"){if(N===null)throw new Error(t);if(a&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!a||!ArrayBuffer.isView(N)))throw new Error(t)}else throw new Error(t);N.length>64&&(N=new E(H,!0).update(N).array());var w=[],R=[];for(C=0;C<64;++C){var T=N[C]||0;w[C]=92^T,R[C]=54^T}E.call(this,H,D),this.update(R),this.oKeyPad=w,this.inner=!0,this.sharedMemory=D}I.prototype=new E,I.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var N=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(N),E.prototype.finalize.call(this)}};var U=_();U.sha256=U,U.sha224=_(!0),U.sha256.hmac=B(),U.sha224.hmac=B(!0),s?ov.exports=U:(r.sha256=U.sha256,r.sha224=U.sha224,o&&define(function(){return U}))})()});var eO=$(kt=>{k();M();var dwe=kt&&kt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pwe=kt&&kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mwe=kt&&kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dwe(e,t,r);return pwe(e,t),e},gwe=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kt,"__esModule",{value:!0});kt.getTxCtxMulti=kt.getSHPreimageMulti=kt.toTxOutpoint=kt.getTxCtx=kt.getSHPreimage=kt.callToBufferList=kt.checkDisableOpCode=kt.getOutpointString=kt.getOutpointObj=kt.getSpentScripts=kt.getPrevoutsIndex=kt.getPrevouts=kt.toSHPreimageObj=kt.splitSighashPreimage=kt.getE=kt.getSigHashSchnorr=void 0;var bwe=mwe(FX()),ywe=HX(),vwe=gwe(Am()),YP=z9(),Eo=Sr(),Pm=d2(),DX=bwe.getCurveByName("secp256k1");function UX(t){return A.Buffer.from(ywe.sha256.create().update(t).array())}function XP(t,e,r=0,n=0){let i={annexPresent:!1,annexInit:!0,tapleafHash:e,tapleafHashInit:!0,codeseparatorPos:new Pm.btc.crypto.BN(4294967295),codeseparatorPosInit:!0};return{preimage:Pm.btc.Transaction.SighashSchnorr.sighashPreimage(t,n,r,3,i),hash:Pm.btc.Transaction.SighashSchnorr.sighash(t,n,r,3,i)}}kt.getSigHashSchnorr=XP;function ZP(t){let e=DX.G.affineX.toBuffer(32),r=UX("BIP0340/challenge"),n=A.Buffer.concat([e,e,t]),i=UX(A.Buffer.concat([r,r,n]));return vwe.default.fromBuffer(i).mod(DX.n)}kt.getE=ZP;function JP(t){return{tapSighash1:t.subarray(0,32),tapSighash2:t.subarray(32,64),epoch:t.subarray(64,65),sighashType:t.subarray(65,66),txVersion:t.subarray(66,70),nLockTime:t.subarray(70,74),hashPrevouts:t.subarray(74,106),hashSpentAmounts:t.subarray(106,138),hashScripts:t.subarray(138,170),hashSequences:t.subarray(170,202),hashOutputs:t.subarray(202,234),spendType:t.subarray(234,235),inputNumber:t.subarray(235,239),tapleafHash:t.subarray(239,271),keyVersion:t.subarray(271,272),codeseparatorPosition:t.subarray(272)}}kt.splitSighashPreimage=JP;function QP(t,e,r){return{txVer:(0,Eo.toHex)(t.txVersion),nLockTime:(0,Eo.toHex)(t.nLockTime),hashPrevouts:(0,Eo.toHex)(t.hashPrevouts),hashSpentAmounts:(0,Eo.toHex)(t.hashSpentAmounts),hashSpentScripts:(0,Eo.toHex)(t.hashScripts),hashSequences:(0,Eo.toHex)(t.hashSequences),hashOutputs:(0,Eo.toHex)(t.hashOutputs),spendType:(0,Eo.toHex)(t.spendType),inputIndex:(0,Eo.toHex)(t.inputNumber),hashTapLeaf:(0,Eo.toHex)(t.tapleafHash),keyVer:(0,Eo.toHex)(t.keyVersion),codeSeparator:(0,Eo.toHex)(t.codeseparatorPosition),_e:(0,Eo.toHex)(e),eLastByte:BigInt(r)}}kt.toSHPreimageObj=QP;var _we=function(t){let e=(0,YP.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=n.prevTxId.toString("hex"),s=A.Buffer.from(i,"hex").reverse(),o=A.Buffer.alloc(4,0);o.writeUInt32LE(n.outputIndex),e[r]=A.Buffer.concat([s,o]).toString("hex")}return e};kt.getPrevouts=_we;var xwe=function(t){let e=(0,YP.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=A.Buffer.alloc(4,0);i.writeUInt32LE(n.outputIndex),e[r]=i.toString("hex")}return e};kt.getPrevoutsIndex=xwe;var Swe=function(t){let e=(0,YP.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let i=t.inputs[r].output.script.toBuffer().toString("hex");e[r]=i}return e};kt.getSpentScripts=Swe;var wwe=function(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:A.Buffer.from(t.id,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}};kt.getOutpointObj=wwe;var Ewe=function(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),A.Buffer.from(t.id,"hex").reverse().toString("hex")+r.toString("hex")};kt.getOutpointString=Ewe;var Twe=function(t){for(let e of t.chunks)if(Pm.btc.Opcode.isOpSuccess(e.opcodenum))return console.log(e.opcodenum,Pm.btc.Opcode.reverseMap[e.opcodenum]),!0;return!1};kt.checkDisableOpCode=Twe;var Awe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,Eo.int2ByteString)(BigInt(r.opcodenum-80));return A.Buffer.from(n,"hex")}else return A.Buffer.from((0,Eo.toByteString)(""));return r.buf})};kt.callToBufferList=Awe;function LX(t,e,r){let n,i,s,o=-1;for(;;){s=XP(t,r,e),n=ZP(s.hash),i=n.toBuffer(32);let c=i[i.length-1];if(c<127){o=c;break}t.nLockTime+=1}if(o<0)throw new Error("No valid eLastByte!");let a=i.slice(0,i.length-1),u=JP(s.preimage);return{SHPreimageObj:QP(u,a,o),sighash:s}}kt.getSHPreimage=LX;function Iwe(t,e,r){let{SHPreimageObj:n,sighash:i}=LX(t,e,r),s=(0,kt.getPrevouts)(t),o=(0,kt.getSpentScripts)(t),a=A.Buffer.alloc(4,0);a.writeUInt32LE(t.inputs[e].outputIndex);let u={prevouts:s,inputIndexVal:BigInt(e),outputIndexVal:BigInt(t.inputs[e].outputIndex),spentTxhash:A.Buffer.from(t.inputs[e].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:a.toString("hex")};return{shPreimage:n,prevoutsCtx:u,spentScripts:o,sighash:i}}kt.getTxCtx=Iwe;function Pwe(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:A.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}kt.toTxOutpoint=Pwe;function qX(t,e,r){let n=[],i=[],s=[],o=!1;for(;;){if(s=e.map((u,c)=>XP(t,r[c],u)),n=s.map(u=>ZP(u.hash)),i=n.map(u=>u.toBuffer(32)),i.every(u=>u[u.length-1]<127)){o=!0;break}t.nLockTime+=1}if(!o)throw new Error("No valid preimage found!");let a=[];for(let u=0;u<e.length;u++){let c=i[u],h=s[u],f=c.slice(0,c.length-1),p=c[c.length-1],l=JP(h.preimage);a.push({SHPreimageObj:QP(l,f,p),sighash:h})}return a}kt.getSHPreimageMulti=qX;function Owe(t,e,r){let n=qX(t,e,r);return e.map((i,s)=>{let{SHPreimageObj:o,sighash:a}=n[s],u=(0,kt.getPrevouts)(t),c=(0,kt.getSpentScripts)(t),h=A.Buffer.alloc(4,0);h.writeUInt32LE(t.inputs[i].outputIndex);let f={prevouts:u,inputIndexVal:BigInt(i),outputIndexVal:BigInt(t.inputs[i].outputIndex),spentTxhash:A.Buffer.from(t.inputs[i].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:h.toString("hex")};return{shPreimage:o,prevoutsCtx:f,spentScripts:c,sighash:a}})}kt.getTxCtxMulti=Owe});var D1=$((dft,$X)=>{k();M();var Bwe=gp(),{Buffer:bt}=ui(),Cwe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),H1=class extends Bwe.Transform{constructor(e,r,n={}){let i=null,s=null;switch(typeof e){case"object":bt.isBuffer(e)?i=e:e&&(n=e);break;case"string":i=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof r){case"object":r&&(n=r);break;case"string":s=r;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!n||typeof n!="object")throw new TypeError("Invalid options");i==null&&(i=n.input),s==null&&(s=n.inputEncoding),delete n.input,delete n.inputEncoding;let o=n.watchPipe==null?!0:n.watchPipe;delete n.watchPipe;let a=Boolean(n.readError);delete n.readError,super(n),this.readError=a,o&&this.on("pipe",u=>{let c=u._readableState.objectMode;if(this.length>0&&c!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=c,this._writableState.objectMode=c}),i!=null&&this.end(i,s)}static isNoFilter(e){return e instanceof this}static compare(e,r){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===r?0:e.compare(r)}static concat(e,r){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(e.length===0||r===0)return bt.alloc(0);r==null&&(r=e.reduce((o,a)=>{if(!(a instanceof H1))throw new TypeError("list argument must be an Array of NoFilters");return o+a.length},0));let n=!0,i=!0,s=e.map(o=>{if(!(o instanceof H1))throw new TypeError("list argument must be an Array of NoFilters");let a=o.slice();return bt.isBuffer(a)?i=!1:n=!1,a});if(n)return bt.concat(s,r);if(i)return[].concat(...s).slice(0,r);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,r,n){!this._readableState.objectMode&&!bt.isBuffer(e)&&(e=bt.from(e,r)),this.push(e),n()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let r=e.head;for(e=[];r!=null;)e.push(r.data),r=r.next}return e}read(e){let r=super.read(e);if(r!=null){if(this.emit("read",r),this.readError&&r.length<e)throw new Error(`Read ${r.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return r}readFull(e){let r=null,n=null,i=null;return new Promise((s,o)=>{if(this.length>=e){s(this.read(e));return}if(this.writableFinished){o(new Error(`Stream finished before ${e} bytes were available`));return}r=a=>{this.length>=e&&s(this.read(e))},n=()=>{o(new Error(`Stream finished before ${e} bytes were available`))},i=o,this.on("readable",r),this.on("error",i),this.on("finish",n)}).finally(()=>{r&&(this.removeListener("readable",r),this.removeListener("error",i),this.removeListener("finish",n))})}promise(e){let r=!1;return new Promise((n,i)=>{this.on("finish",()=>{let s=this.read();e!=null&&!r&&(r=!0,e(null,s)),n(s)}),this.on("error",s=>{e!=null&&!r&&(r=!0,e(s)),i(s)})})}compare(e){if(!(e instanceof H1))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;let r=this.slice(),n=e.slice();if(bt.isBuffer(r)&&bt.isBuffer(n))return r.compare(n);throw new Error("Cannot compare streams in object mode")}equals(e){return this.compare(e)===0}slice(e,r){if(this._readableState.objectMode)return this._bufArray().slice(e,r);let n=this._bufArray();switch(n.length){case 0:return bt.alloc(0);case 1:return n[0].slice(e,r);default:return bt.concat(n).slice(e,r)}}get(e){return this.slice()[e]}toJSON(){let e=this.slice();return bt.isBuffer(e)?e.toJSON():e}toString(e,r,n){let i=this.slice(r,n);return bt.isBuffer(i)?!e||e==="utf8"?Cwe.decode(i):i.toString(e):JSON.stringify(i)}[Symbol.for("nodejs.util.inspect.custom")](e,r){let i=this._bufArray().map(s=>bt.isBuffer(s)?r.stylize(s.toString("hex"),"string"):JSON.stringify(s)).join(", ");return`${this.constructor.name} [${i}]`}get length(){return this._readableState.length}writeBigInt(e){let r=e.toString(16);if(e<0){let n=BigInt(Math.floor(r.length/2));e=(BigInt(1)<<n*BigInt(8))+e,r=e.toString(16)}return r.length%2&&(r=`0${r}`),this.push(bt.from(r,"hex"))}readUBigInt(e){let r=this.read(e);return bt.isBuffer(r)?BigInt(`0x${r.toString("hex")}`):null}readBigInt(e){let r=this.read(e);if(!bt.isBuffer(r))return null;let n=BigInt(`0x${r.toString("hex")}`);if(r[0]&128){let i=BigInt(1)<<BigInt(r.length)*BigInt(8);n-=i}return n}writeUInt8(e){let r=bt.from([e]);return this.push(r)}writeUInt16LE(e){let r=bt.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeUInt16BE(e){let r=bt.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeUInt32LE(e){let r=bt.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeUInt32BE(e){let r=bt.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeInt8(e){let r=bt.from([e]);return this.push(r)}writeInt16LE(e){let r=bt.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeInt16BE(e){let r=bt.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeInt32LE(e){let r=bt.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeInt32BE(e){let r=bt.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeFloatLE(e){let r=bt.alloc(4);return r.writeFloatLE(e),this.push(r)}writeFloatBE(e){let r=bt.alloc(4);return r.writeFloatBE(e),this.push(r)}writeDoubleLE(e){let r=bt.alloc(8);return r.writeDoubleLE(e),this.push(r)}writeDoubleBE(e){let r=bt.alloc(8);return r.writeDoubleBE(e),this.push(r)}writeBigInt64LE(e){let r=bt.alloc(8);return r.writeBigInt64LE(e),this.push(r)}writeBigInt64BE(e){let r=bt.alloc(8);return r.writeBigInt64BE(e),this.push(r)}writeBigUInt64LE(e){let r=bt.alloc(8);return r.writeBigUInt64LE(e),this.push(r)}writeBigUInt64BE(e){let r=bt.alloc(8);return r.writeBigUInt64BE(e),this.push(r)}readUInt8(){let e=this.read(1);return bt.isBuffer(e)?e.readUInt8():null}readUInt16LE(){let e=this.read(2);return bt.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){let e=this.read(2);return bt.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){let e=this.read(4);return bt.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){let e=this.read(4);return bt.isBuffer(e)?e.readUInt32BE():null}readInt8(){let e=this.read(1);return bt.isBuffer(e)?e.readInt8():null}readInt16LE(){let e=this.read(2);return bt.isBuffer(e)?e.readInt16LE():null}readInt16BE(){let e=this.read(2);return bt.isBuffer(e)?e.readInt16BE():null}readInt32LE(){let e=this.read(4);return bt.isBuffer(e)?e.readInt32LE():null}readInt32BE(){let e=this.read(4);return bt.isBuffer(e)?e.readInt32BE():null}readFloatLE(){let e=this.read(4);return bt.isBuffer(e)?e.readFloatLE():null}readFloatBE(){let e=this.read(4);return bt.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){let e=this.read(8);return bt.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){let e=this.read(8);return bt.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){let e=this.read(8);return bt.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){let e=this.read(8);return bt.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){let e=this.read(8);return bt.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){let e=this.read(8);return bt.isBuffer(e)?e.readBigUInt64BE():null}};$X.exports=H1});var sh=$(ih=>{k();M();ih.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};ih.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258};ih.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};ih.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};ih.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")};ih.SHIFT32=4294967296;ih.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(ih.SHIFT32)}});var b2=$(Yn=>{k();M();var{Buffer:U1}=ui(),jX=D1(),kwe=gp(),Mwe=sh(),{NUMBYTES:av,SHIFT32:Rwe,BI:Nwe,SYMS:tO}=Mwe,Fwe=2097151,Hwe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});Yn.utf8=t=>Hwe.decode(t);Yn.utf8.checksUTF8=!0;function Dwe(t){return t instanceof kwe.Readable?!0:["read","on","pipe"].every(e=>typeof t[e]=="function")}Yn.isBufferish=function(e){return e&&typeof e=="object"&&(U1.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)};Yn.bufferishToBuffer=function(e){return U1.isBuffer(e)?e:ArrayBuffer.isView(e)?U1.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?U1.from(e):null};Yn.parseCBORint=function(e,r){switch(e){case av.ONE:return r.readUInt8(0);case av.TWO:return r.readUInt16BE(0);case av.FOUR:return r.readUInt32BE(0);case av.EIGHT:{let n=r.readUInt32BE(0),i=r.readUInt32BE(4);return n>Fwe?BigInt(n)*Nwe.SHIFT32+BigInt(i):n*Rwe+i}default:throw new Error(`Invalid additional info for int: ${e}`)}};Yn.writeHalf=function(e,r){let n=U1.allocUnsafe(4);n.writeFloatBE(r,0);let i=n.readUInt32BE(0);if((i&8191)!==0)return!1;let s=i>>16&32768,o=i>>23&255,a=i&8388607;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else if(o>=103&&o<113){if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}else return!1;return e.writeUInt16BE(s),!0};Yn.parseHalf=function(e){let r=e[0]&128?-1:1,n=(e[0]&124)>>2,i=(e[0]&3)<<8|e[1];if(n){if(n===31)return r*(i?NaN:1/0)}else return r*5960464477539063e-23*i;return r*2**(n-25)*(1024+i)};Yn.parseCBORfloat=function(e){switch(e.length){case 2:return Yn.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}};Yn.hex=function(e){return U1.from(e.replace(/^0x/,""),"hex")};Yn.bin=function(e){e=e.replace(/\s/g,"");let r=0,n=e.length%8||8,i=[];for(;n<=e.length;)i.push(parseInt(e.slice(r,n),2)),r=n,n+=8;return U1.from(i)};Yn.arrayEqual=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.length===r.length&&e.every((n,i)=>n===r[i])};Yn.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)};Yn.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case tO.NULL:return"null";case tO.UNDEFINED:return"undefined";case tO.BREAK:return"BREAK"}if(e.description)return e.description;let i=e.toString().match(/^Symbol\((?<name>.*)\)/);return i&&i.groups.name?i.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{let n=Object.is(e,-0)?"-0":String(e);return r>0?`${n}_${r}`:n}case"object":{if(!e)return"null";let n=Yn.bufferishToBuffer(e);if(n){let i=n.toString("hex");return r===-1/0?i:`h'${i}'`}return e&&typeof e[Symbol.for("nodejs.util.inspect.custom")]=="function"?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)};Yn.guessEncoding=function(e,r){if(typeof e=="string")return new jX(e,r??"hex");let n=Yn.bufferishToBuffer(e);if(n)return new jX(n);if(Dwe(e))return e;throw new Error("Unknown input type")};var Uwe={"=":"","+":"-","/":"_"};Yn.base64url=function(e){return Yn.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,r=>Uwe[r])};Yn.base64=function(e){return Yn.bufferishToBuffer(e).toString("base64")};Yn.isBigEndian=function(){let e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])}});var VX=$((Sft,KX)=>{k();M();var Lwe=gp(),qwe=D1(),rO=class extends Lwe.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new qwe,this.__restart()}_transform(e,r,n){for(this.bs.write(e);this.bs.length>=this.__needed;){let i=null,s=this.__needed===null?void 0:this.bs.read(this.__needed);try{i=this.__parser.next(s)}catch(o){return n(o)}this.__needed&&(this.__fresh=!1),i.done?(this.push(i.value),this.__restart()):this.__needed=i.value||1/0}return n()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}};KX.exports=rO});var nO=$((Tft,ZX)=>{k();M();var $we=sh(),U0=b2(),y2=Symbol("INTERNAL_JSON");function Om(t,e){if(U0.isBufferish(t))t.toJSON=e;else if(Array.isArray(t))for(let r of t)Om(r,e);else if(t&&typeof t=="object"&&(!(t instanceof oh)||t.tag<21||t.tag>23))for(let r of Object.values(t))Om(r,e)}function GX(){return U0.base64(this)}function zX(){return U0.base64url(this)}function WX(){return this.toString("hex")}function jwe(t,e,r,n){let i=new DataView(t),[s,o]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[e],a=r+n;for(let u=r;u<a;u+=e)o.call(i,u,s.call(i,u,!0))}var XX={0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>U0.bufferToBigInt(t),3:t=>$we.BI.MINUS_ONE-U0.bufferToBigInt(t),21:(t,e)=>(U0.isBufferish(t)?e[y2]=zX:Om(t,zX),e),22:(t,e)=>(U0.isBufferish(t)?e[y2]=GX:Om(t,GX),e),23:(t,e)=>(U0.isBufferish(t)?e[y2]=WX:Om(t,WX),e),32:t=>new URL(t),33:(t,e)=>{if(!t.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");let r=t.length%4;if(r===1)throw new Error("Invalid base64url length");if(r===2){if("AQgw".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding")}else if(r===3&&"AEIMQUYcgkosw048".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding");return e},34:(t,e)=>{let r=t.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(t.length%4!==0)throw new Error("Invalid base64 length");if(r.groups.padding==="="){if("AQgw".indexOf(t[t.length-2])===-1)throw new Error("Invalid base64 padding")}else if(r.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(t[t.length-3])===-1)throw new Error("Invalid base64 padding");return e},35:t=>new RegExp(t),258:t=>new Set(t)},v2={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(v2[67]=BigUint64Array,v2[71]=BigUint64Array);typeof BigInt64Array<"u"&&(v2[75]=BigInt64Array,v2[79]=BigInt64Array);function Kwe(t,e){if(!U0.isBufferish(t))throw new TypeError("val not a buffer");let{tag:r}=e,n=v2[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);let i=r&4,o=2**(((r&16)>>4)+(r&3));!i!==U0.isBigEndian()&&o>1&&jwe(t.buffer,o,t.byteOffset,t.byteLength);let a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new n(a)}for(let t of Object.keys(v2))XX[t]=Kwe;var YX={},oh=class{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[y2])return this[y2].call(this.value);let e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let r=e?.[this.tag];if(r===null)return this;if(typeof r!="function"&&(r=oh.TAGS[this.tag],typeof r!="function"))return this;try{return r.call(this,this.value,this)}catch(n){return n&&n.message&&n.message.length>0?this.err=n.message:this.err=n,this}}static get TAGS(){return YX}static set TAGS(e){YX=e}static reset(){oh.TAGS={...XX}}};oh.INTERNAL_JSON=y2;oh.reset();ZX.exports=oh});var sO=$((Pft,JX)=>{k();M();var{MT:Vwe,SIMPLE:uv,SYMS:iO}=sh(),_2=class{constructor(e){if(typeof e!="number")throw new Error(`Invalid Simple type: ${typeof e}`);if(e<0||e>255||(e|0)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,r){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,Vwe.SIMPLE_FLOAT)}static isSimple(e){return e instanceof _2}static decode(e,r=!0,n=!1){switch(e){case uv.FALSE:return!1;case uv.TRUE:return!0;case uv.NULL:return r?null:iO.NULL;case uv.UNDEFINED:return r?void 0:iO.UNDEFINED;case-1:if(!r||!n)throw new Error("Invalid BREAK");return iO.BREAK;default:return new _2(e)}}};JX.exports=_2});var km=$((kft,rZ)=>{k();M();var Gwe=VX(),zwe=nO(),Wwe=sO(),L1=b2(),fv=D1(),Cft=gp(),Ywe=sh(),{MT:Ui,NUMBYTES:x2,SYMS:ah,BI:QX}=Ywe,{Buffer:eZ}=ui(),S2=Symbol("count"),Pd=Symbol("major type"),tZ=Symbol("error"),Bm=Symbol("not found");function oO(t,e,r){let n=[];return n[S2]=r,n[ah.PARENT]=t,n[Pd]=e,n}function Xwe(t,e){let r=new fv;return r[S2]=-1,r[ah.PARENT]=t,r[Pd]=e,r}var Cm=class extends Error{constructor(e,r){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=r}};function cv(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var ca=class extends Gwe{constructor(e={}){let{tags:r={},max_depth:n=-1,preferMap:i=!1,preferWeb:s=!1,required:o=!1,encoding:a="hex",extendedResults:u=!1,preventDuplicateKeys:c=!1,...h}=e;super({defaultEncoding:a,...h}),this.running=!0,this.max_depth=n,this.tags=r,this.preferMap=i,this.preferWeb=s,this.extendedResults=u,this.required=o,this.preventDuplicateKeys=c,u&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new fv)}static nullcheck(e){switch(e){case ah.NULL:return null;case ah.UNDEFINED:return;case Bm:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=cv(r));let{encoding:n="hex",...i}=r,s=new ca(i),o=L1.guessEncoding(e,n),a=s._parse(),u=a.next();for(;!u.done;){let h=o.read(u.value);if(h==null||h.length!==u.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(h),u=a.next(h)}let c=null;if(s.extendedResults)c=u.value,c.unused=o.read();else if(c=ca.nullcheck(u.value),o.length>0){let h=o.read(1);throw o.unshift(h),new Cm(h[0],c)}return c}static decodeAllSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=cv(r));let{encoding:n="hex",...i}=r,s=new ca(i),o=L1.guessEncoding(e,n),a=[];for(;o.length>0;){let u=s._parse(),c=u.next();for(;!c.done;){let h=o.read(c.value);if(h==null||h.length!==c.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(h),c=u.next(h)}a.push(ca.nullcheck(c.value))}return a}static decodeFirst(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=cv(r,n));let{encoding:i="hex",required:s=!1,...o}=r,a=new ca(o),u=Bm,c=L1.guessEncoding(e,i),h=new Promise((f,p)=>{a.on("data",l=>{u=ca.nullcheck(l),a.close()}),a.once("error",l=>a.extendedResults&&l instanceof Cm?(u.unused=a.bs.slice(),f(u)):(u!==Bm&&(l.value=u),u=tZ,a.close(),p(l))),a.once("end",()=>{switch(u){case Bm:return s?p(new Error("No CBOR found")):f(u);case tZ:return;default:return f(u)}})});return typeof n=="function"&&h.then(f=>n(null,f),n),c.pipe(a),h}static decodeAll(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=cv(r,n));let{encoding:i="hex",...s}=r,o=new ca(s),a=[];o.on("data",c=>a.push(ca.nullcheck(c)));let u=new Promise((c,h)=>{o.on("error",h),o.on("end",()=>c(a))});return typeof n=="function"&&u.then(c=>n(void 0,c),c=>n(c,void 0)),L1.guessEncoding(e,i).pipe(o),u}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,r=0,n=null;for(;;){if(this.max_depth>=0&&r>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);let[i]=yield 1;if(!this.running)throw this.bs.unshift(eZ.from([i])),new Cm(i);let s=i>>5,o=i&31,a=e?.[Pd],u=e?.length;switch(o){case x2.ONE:this.emit("more-bytes",s,1,a,u),[n]=yield 1;break;case x2.TWO:case x2.FOUR:case x2.EIGHT:{let h=1<<o-24;this.emit("more-bytes",s,h,a,u);let f=yield h;n=s===Ui.SIMPLE_FLOAT?f:L1.parseCBORint(o,f);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${o}`);case x2.INDEFINITE:switch(s){case Ui.POS_INT:case Ui.NEG_INT:case Ui.TAG:throw new Error(`Invalid indefinite encoding for MT ${s}`)}n=-1;break;default:n=o}switch(s){case Ui.POS_INT:break;case Ui.NEG_INT:n===Number.MAX_SAFE_INTEGER?n=QX.NEG_MAX:n=typeof n=="bigint"?QX.MINUS_ONE-n:-1-n;break;case Ui.BYTE_STRING:case Ui.UTF8_STRING:switch(n){case 0:this.emit("start-string",s,n,a,u),s===Ui.UTF8_STRING?n="":n=this.preferWeb?new Uint8Array(0):eZ.allocUnsafe(0);break;case-1:this.emit("start",s,ah.STREAM,a,u),e=Xwe(e,s),r++;continue;default:this.emit("start-string",s,n,a,u),n=yield n,s===Ui.UTF8_STRING?n=L1.utf8(n):this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length))}break;case Ui.ARRAY:case Ui.MAP:switch(n){case 0:s===Ui.MAP?n=this.preferMap?new Map:{}:n=[];break;case-1:this.emit("start",s,ah.STREAM,a,u),e=oO(e,s,-1),r++;continue;default:this.emit("start",s,n,a,u),e=oO(e,s,n*(s-3)),r++;continue}break;case Ui.TAG:this.emit("start",s,n,a,u),e=oO(e,s,1),e.push(n),r++;continue;case Ui.SIMPLE_FLOAT:if(typeof n=="number"){if(o===x2.ONE&&n<32)throw new Error(`Invalid two-byte encoding of simple value ${n}`);let h=e!=null;n=Wwe.decode(n,h,h&&e[S2]<0)}else n=L1.parseCBORfloat(n)}this.emit("value",n,a,u,o);let c=!1;for(;e!=null;){if(n===ah.BREAK)e[S2]=1;else if(Array.isArray(e))e.push(n);else{let f=e[Pd];if(f!=null&&f!==s)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(n)}if(--e[S2]!==0){c=!0;break}if(--r,delete e[S2],Array.isArray(e))switch(e[Pd]){case Ui.ARRAY:n=e;break;case Ui.MAP:{let f=!this.preferMap;if(e.length%2!==0)throw new Error(`Invalid map length: ${e.length}`);for(let p=0,l=e.length;f&&p<l;p+=2)if(typeof e[p]!="string"||e[p]==="__proto__"){f=!1;break}if(f){n={};for(let p=0,l=e.length;p<l;p+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(n,e[p]))throw new Error("Duplicate keys in a map");n[e[p]]=e[p+1]}}else{n=new Map;for(let p=0,l=e.length;p<l;p+=2){if(this.preventDuplicateKeys&&n.has(e[p]))throw new Error("Duplicate keys in a map");n.set(e[p],e[p+1])}}break}case Ui.TAG:{n=new zwe(e[0],e[1]).convert(this.tags);break}}else if(e instanceof fv)switch(e[Pd]){case Ui.BYTE_STRING:n=e.slice(),this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length));break;case Ui.UTF8_STRING:n=e.toString("utf-8");break}this.emit("stop",e[Pd]);let h=e;e=e[ah.PARENT],delete h[ah.PARENT],delete h[Pd]}if(!c){if(this.extendedResults){let h=this.valueBytes.slice(),f={value:ca.nullcheck(n),bytes:h,length:h.length};return this.valueBytes=new fv,f}return n}}}};ca.NOT_FOUND=Bm;rZ.exports=ca});var oZ=$((Nft,sZ)=>{k();M();var Zwe=gp(),nZ=b2(),Jwe=km(),iZ=D1(),{MT:ps,NUMBYTES:hv,SYMS:aO}=sh(),{Buffer:Qwe}=ui();function uO(t){return t>1?"s":""}function eEe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"number":return{options:{max_depth:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var w2=class extends Zwe.Transform{constructor(e={}){let{depth:r=1,max_depth:n=10,no_summary:i=!1,tags:s={},preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.depth=r,this.max_depth=n,this.all=new iZ,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new Jwe({tags:s,max_depth:n,preferWeb:o,encoding:a}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),i||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){let r=new w2({depth:this.depth+1,no_summary:!0});r.on("data",n=>this.push(n)),r.on("error",n=>this.emit("error",n)),r.end(e)}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){return this.parser._flush(e)}static comment(e,r={},n=null){if(e==null)throw new Error("input required");({options:r,cb:n}=eEe(r,n));let i=new iZ,{encoding:s="hex",...o}=r,a=new w2(o),u=null;return typeof n=="function"?(a.on("end",()=>{n(null,i.toString("utf8"))}),a.on("error",n)):u=new Promise((c,h)=>{a.on("end",()=>{c(i.toString("utf8"))}),a.on("error",h)}),a.pipe(i),nZ.guessEncoding(e,s).pipe(a),u}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push(`
`)}_on_read(e){this.all.write(e);let r=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(r);let n=(this.max_depth-this.depth)*2-r.length;n<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(e,r,n,i){let s="";switch(this.depth++,e){case ps.POS_INT:s="Positive number,";break;case ps.NEG_INT:s="Negative number,";break;case ps.ARRAY:s="Array, length";break;case ps.MAP:s="Map, count";break;case ps.BYTE_STRING:s="Bytes, length";break;case ps.UTF8_STRING:s="String, length";break;case ps.SIMPLE_FLOAT:r===1?s="Simple value,":s="Float,";break}this.push(`${s} next ${r} byte${uO(r)}
`)}_on_start_string(e,r,n,i){let s="";switch(this.depth++,e){case ps.BYTE_STRING:s=`Bytes, length: ${r}`;break;case ps.UTF8_STRING:s=`String, length: ${r.toString()}`;break}this.push(`${s}
`)}_on_start(e,r,n,i){switch(this.depth++,n){case ps.ARRAY:this.push(`[${i}], `);break;case ps.MAP:i%2?this.push(`{Val:${Math.floor(i/2)}}, `):this.push(`{Key:${Math.floor(i/2)}}, `);break}switch(e){case ps.TAG:this.push(`Tag #${r}`),r===24&&this.push(" Encoded CBOR data item");break;case ps.ARRAY:r===aO.STREAM?this.push("Array (streaming)"):this.push(`Array, ${r} item${uO(r)}`);break;case ps.MAP:r===aO.STREAM?this.push("Map (streaming)"):this.push(`Map, ${r} pair${uO(r)}`);break;case ps.BYTE_STRING:this.push("Bytes (streaming)");break;case ps.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(e){this.depth--}_on_value(e,r,n,i){if(e!==aO.BREAK)switch(r){case ps.ARRAY:this.push(`[${n}], `);break;case ps.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `);break}let s=nZ.cborValueToString(e,-1/0);switch(typeof e=="string"||Qwe.isBuffer(e)?(e.length>0&&(this.push(s),this.push(`
`)),this.depth--):(this.push(s),this.push(`
`)),i){case hv.ONE:case hv.TWO:case hv.FOUR:case hv.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};sZ.exports=w2});var fZ=$((Dft,cZ)=>{k();M();var tEe=gp(),rEe=km(),aZ=b2(),nEe=D1(),{MT:To,SYMS:uZ}=sh();function iEe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var Mm=class extends tEe.Transform{constructor(e={}){let{separator:r=`
`,stream_errors:n=!1,tags:i,max_depth:s,preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=r,this.stream_errors=n,this.parser=new rEe({tags:i,max_depth:s,preferWeb:o,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){this.parser._flush(r=>this.stream_errors?(r&&this._on_error(r),e()):e(r))}static diagnose(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=iEe(r,n));let{encoding:i="hex",...s}=r,o=new nEe,a=new Mm(s),u=null;return typeof n=="function"?(a.on("end",()=>n(null,o.toString("utf8"))),a.on("error",n)):u=new Promise((c,h)=>{a.on("end",()=>c(o.toString("utf8"))),a.on("error",h)}),a.pipe(o),aZ.guessEncoding(e,i).pipe(a),u}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,r,n,i){e===To.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[r])}_fore(e,r){switch(e){case To.BYTE_STRING:case To.UTF8_STRING:case To.ARRAY:r>0&&this.push(", ");break;case To.MAP:r>0&&(r%2?this.push(": "):this.push(", "))}}_on_value(e,r,n){if(e===uZ.BREAK)return;this._fore(r,n);let i=this.float_bytes;this.float_bytes=-1,this.push(aZ.cborValueToString(e,i))}_on_start(e,r,n,i){switch(this._fore(n,i),e){case To.TAG:this.push(`${r}(`);break;case To.ARRAY:this.push("[");break;case To.MAP:this.push("{");break;case To.BYTE_STRING:case To.UTF8_STRING:this.push("(");break}r===uZ.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case To.TAG:this.push(")");break;case To.ARRAY:this.push("]");break;case To.MAP:this.push("}");break;case To.BYTE_STRING:case To.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};cZ.exports=Mm});var gv=$((qft,pZ)=>{k();M();var sEe=gp(),cO=D1(),lv=b2(),oEe=sh(),{MT:Cn,NUMBYTES:Ia,SHIFT32:hZ,SIMPLE:pv,SYMS:lZ,TAG:uh,BI:dv}=oEe,{Buffer:Ms}=ui(),aEe=Cn.SIMPLE_FLOAT<<5|Ia.TWO,uEe=Cn.SIMPLE_FLOAT<<5|Ia.FOUR,cEe=Cn.SIMPLE_FLOAT<<5|Ia.EIGHT,fEe=Cn.SIMPLE_FLOAT<<5|pv.TRUE,hEe=Cn.SIMPLE_FLOAT<<5|pv.FALSE,lEe=Cn.SIMPLE_FLOAT<<5|pv.UNDEFINED,dEe=Cn.SIMPLE_FLOAT<<5|pv.NULL,Rm=Ms.from([255]),pEe=Ms.from("f97e00","hex"),mEe=Ms.from("f9fc00","hex"),gEe=Ms.from("f97c00","hex"),bEe=Ms.from("f98000","hex"),mv={},dZ={};function yEe(t){if(!t)return"number";switch(t.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${t}"`)}var Mt=class extends sEe.Transform{constructor(e={}){let{canonical:r=!1,encodeUndefined:n,disallowUndefinedKeys:i=!1,dateType:s="number",collapseBigIntegers:o=!1,detectLoops:a=!1,omitUndefinedProperties:u=!1,genTypes:c=[],...h}=e;if(super({...h,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=r,this.encodeUndefined=n,this.disallowUndefinedKeys=i,this.dateType=yEe(s),this.collapseBigIntegers=this.canonical?!0:o,this.detectLoops=void 0,typeof a=="boolean")a&&(this.detectLoops=new WeakSet);else if(a instanceof WeakSet)this.detectLoops=a;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=u,this.semanticTypes={...Mt.SEMANTIC_TYPES},Array.isArray(c))for(let f=0,p=c.length;f<p;f+=2)this.addSemanticType(c[f],c[f+1]);else for(let[f,p]of Object.entries(c))this.addSemanticType(f,p)}_transform(e,r,n){let i=this.pushAny(e);n(i===!1?new Error("Push Error"):void 0)}_flush(e){e()}_pushUInt8(e){let r=Ms.allocUnsafe(1);return r.writeUInt8(e,0),this.push(r)}_pushUInt16BE(e){let r=Ms.allocUnsafe(2);return r.writeUInt16BE(e,0),this.push(r)}_pushUInt32BE(e){let r=Ms.allocUnsafe(4);return r.writeUInt32BE(e,0),this.push(r)}_pushFloatBE(e){let r=Ms.allocUnsafe(4);return r.writeFloatBE(e,0),this.push(r)}_pushDoubleBE(e){let r=Ms.allocUnsafe(8);return r.writeDoubleBE(e,0),this.push(r)}_pushNaN(){return this.push(pEe)}_pushInfinity(e){let r=e<0?mEe:gEe;return this.push(r)}_pushFloat(e){if(this.canonical){let r=Ms.allocUnsafe(2);if(lv.writeHalf(r,e))return this._pushUInt8(aEe)&&this.push(r)}return Math.fround(e)===e?this._pushUInt8(uEe)&&this._pushFloatBE(e):this._pushUInt8(cEe)&&this._pushDoubleBE(e)}_pushInt(e,r,n){let i=r<<5;if(e<24)return this._pushUInt8(i|e);if(e<=255)return this._pushUInt8(i|Ia.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(i|Ia.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(i|Ia.FOUR)&&this._pushUInt32BE(e);let s=Number.MAX_SAFE_INTEGER;return r===Cn.NEG_INT&&s--,e<=s?this._pushUInt8(i|Ia.EIGHT)&&this._pushUInt32BE(Math.floor(e/hZ))&&this._pushUInt32BE(e%hZ):r===Cn.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push(bEe):e<0?this._pushInt(-e-1,Cn.NEG_INT,e):this._pushInt(e,Cn.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){let r=Ms.byteLength(e,"utf8");return this._pushInt(r,Cn.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?fEe:hEe)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(lEe);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{let r=lv.bufferishToBuffer(this.encodeUndefined);if(r)return this.push(r)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(dEe)}_pushTag(e){return this._pushInt(e,Cn.TAG)}_pushJSBigint(e){let r=Cn.POS_INT,n=uh.POS_BIGINT;if(e<0&&(e=-e+dv.MINUS_ONE,r=Cn.NEG_INT,n=uh.NEG_BIGINT),this.collapseBigIntegers&&e<=dv.MAXINT64)return e<=4294967295?this._pushInt(Number(e),r):this._pushUInt8(r<<5|Ia.EIGHT)&&this._pushUInt32BE(Number(e/dv.SHIFT32))&&this._pushUInt32BE(Number(e%dv.SHIFT32));let i=e.toString(16);i.length%2&&(i=`0${i}`);let s=Ms.from(i,"hex");return this._pushTag(n)&&Mt._pushBuffer(this,s)}_pushObject(e,r){if(!e)return this._pushNull(e);if(r={indefinite:!1,skipTypes:!1,...r},!r.indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(e)}if(!r.skipTypes){let o=e.encodeCBOR;if(typeof o=="function")return o.call(e,this);let a=this.semanticTypes[e.constructor.name];if(a)return a.call(e,this,e)}let n=Object.keys(e).filter(o=>{let a=typeof e[o];return a!=="function"&&(!this.omitUndefinedProperties||a!=="undefined")}),i={};if(this.canonical&&n.sort((o,a)=>{let u=i[o]||(i[o]=Mt.encode(o)),c=i[a]||(i[a]=Mt.encode(a));return u.compare(c)}),r.indefinite){if(!this._pushUInt8(Cn.MAP<<5|Ia.INDEFINITE))return!1}else if(!this._pushInt(n.length,Cn.MAP))return!1;let s=null;for(let o=0,a=n.length;o<a;o++){let u=n[o];if(this.canonical&&(s=i[u])){if(!this.push(s))return!1}else if(!this._pushString(u))return!1;if(!this.pushAny(e[u]))return!1}if(r.indefinite){if(!this.push(Rm))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){let r=new cO({highWaterMark:this.readableHighWaterMark});this.pipe(r);for(let n of e)this.pushAny(n);return this.end(),r.read()}addSemanticType(e,r){let n=typeof e=="string"?e:e.name,i=this.semanticTypes[n];if(r){if(typeof r!="function")throw new TypeError("fun must be of type function");this.semanticTypes[n]=r}else i&&delete this.semanticTypes[n];return i}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case lZ.NULL:return this._pushNull(null);case lZ.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${typeof e.toString=="function"?e.toString():""}`)}}static pushArray(e,r,n){n={indefinite:!1,...n};let i=r.length;if(n.indefinite){if(!e._pushUInt8(Cn.ARRAY<<5|Ia.INDEFINITE))return!1}else if(!e._pushInt(i,Cn.ARRAY))return!1;for(let s=0;s<i;s++)if(!e.pushAny(r[s]))return!1;return!(n.indefinite&&!e.push(Rm))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(e,r){switch(e.dateType){case"string":return e._pushTag(uh.DATE_STRING)&&e._pushString(r.toISOString());case"int":return e._pushTag(uh.DATE_EPOCH)&&e._pushIntNum(Math.round(r.getTime()/1e3));case"float":return e._pushTag(uh.DATE_EPOCH)&&e._pushFloat(r.getTime()/1e3);case"number":default:return e._pushTag(uh.DATE_EPOCH)&&e.pushAny(r.getTime()/1e3)}}static _pushBuffer(e,r){return e._pushInt(r.length,Cn.BYTE_STRING)&&e.push(r)}static _pushNoFilter(e,r){return Mt._pushBuffer(e,r.slice())}static _pushRegexp(e,r){return e._pushTag(uh.REGEXP)&&e.pushAny(r.source)}static _pushSet(e,r){if(!e._pushTag(uh.SET)||!e._pushInt(r.size,Cn.ARRAY))return!1;for(let n of r)if(!e.pushAny(n))return!1;return!0}static _pushURL(e,r){return e._pushTag(uh.URI)&&e.pushAny(r.toString())}static _pushBoxed(e,r){return e.pushAny(r.valueOf())}static _pushMap(e,r,n){n={indefinite:!1,...n};let i=[...r.entries()];if(e.omitUndefinedProperties&&(i=i.filter(([s,o])=>o!==void 0)),n.indefinite){if(!e._pushUInt8(Cn.MAP<<5|Ia.INDEFINITE))return!1}else if(!e._pushInt(i.length,Cn.MAP))return!1;if(e.canonical){let s=new Mt({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:Boolean(e.detectLoops),dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),o=new cO({highWaterMark:e.readableHighWaterMark});s.pipe(o),i.sort(([a],[u])=>{s.pushAny(a);let c=o.read();s.pushAny(u);let h=o.read();return c.compare(h)});for(let[a,u]of i){if(e.disallowUndefinedKeys&&typeof a>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(a)&&e.pushAny(u)))return!1}}else for(let[s,o]of i){if(e.disallowUndefinedKeys&&typeof s>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(s)&&e.pushAny(o)))return!1}return!(n.indefinite&&!e.push(Rm))}static _pushTypedArray(e,r){let n=64,i=r.BYTES_PER_ELEMENT,{name:s}=r.constructor;return s.startsWith("Float")?(n|=16,i/=2):s.includes("U")||(n|=8),(s.includes("Clamped")||i!==1&&!lv.isBigEndian())&&(n|=4),n|={1:0,2:1,4:2,8:3}[i],e._pushTag(n)?Mt._pushBuffer(e,Ms.from(r.buffer,r.byteOffset,r.byteLength)):!1}static _pushArrayBuffer(e,r){return Mt._pushBuffer(e,Ms.from(r))}static encodeIndefinite(e,r,n={}){if(r==null){if(this==null)throw new Error("No object to encode");r=this}let{chunkSize:i=4096}=n,s=!0,o=typeof r,a=null;if(o==="string"){s=s&&e._pushUInt8(Cn.UTF8_STRING<<5|Ia.INDEFINITE);let u=0;for(;u<r.length;){let c=u+i;s=s&&e._pushString(r.slice(u,c)),u=c}s=s&&e.push(Rm)}else if(a=lv.bufferishToBuffer(r)){s=s&&e._pushUInt8(Cn.BYTE_STRING<<5|Ia.INDEFINITE);let u=0;for(;u<a.length;){let c=u+i;s=s&&Mt._pushBuffer(e,a.slice(u,c)),u=c}s=s&&e.push(Rm)}else if(Array.isArray(r))s=s&&Mt.pushArray(e,r,{indefinite:!0});else if(r instanceof Map)s=s&&Mt._pushMap(e,r,{indefinite:!0});else{if(o!=="object")throw new Error("Invalid indefinite encoding");s=s&&e._pushObject(r,{indefinite:!0,skipTypes:!0})}return s}static encode(...e){return new Mt()._encodeAll(e)}static encodeCanonical(...e){return new Mt({canonical:!0})._encodeAll(e)}static encodeOne(e,r){return new Mt(r)._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new Mt(r);o.on("data",a=>s.push(a)),o.on("error",i),o.on("finish",()=>n(Ms.concat(s))),o.pushAny(e),o.end()})}static get SEMANTIC_TYPES(){return dZ}static set SEMANTIC_TYPES(e){dZ=e}static reset(){Mt.SEMANTIC_TYPES={...mv}}};Object.assign(mv,{Array:Mt.pushArray,Date:Mt._pushDate,Buffer:Mt._pushBuffer,[Ms.name]:Mt._pushBuffer,Map:Mt._pushMap,NoFilter:Mt._pushNoFilter,[cO.name]:Mt._pushNoFilter,RegExp:Mt._pushRegexp,Set:Mt._pushSet,ArrayBuffer:Mt._pushArrayBuffer,Uint8ClampedArray:Mt._pushTypedArray,Uint8Array:Mt._pushTypedArray,Uint16Array:Mt._pushTypedArray,Uint32Array:Mt._pushTypedArray,Int8Array:Mt._pushTypedArray,Int16Array:Mt._pushTypedArray,Int32Array:Mt._pushTypedArray,Float32Array:Mt._pushTypedArray,Float64Array:Mt._pushTypedArray,URL:Mt._pushURL,Boolean:Mt._pushBoxed,Number:Mt._pushBoxed,String:Mt._pushBoxed});typeof BigUint64Array<"u"&&(mv[BigUint64Array.name]=Mt._pushTypedArray);typeof BigInt64Array<"u"&&(mv[BigInt64Array.name]=Mt._pushTypedArray);Mt.reset();pZ.exports=Mt});var bZ=$((Kft,gZ)=>{k();M();var{Buffer:mZ}=ui(),vEe=gv(),_Ee=km(),{MT:xEe}=sh(),kc=class extends Map{constructor(e){super(e)}static _encode(e){return vEe.encodeCanonical(e).toString("base64")}static _decode(e){return _Ee.decodeFirstSync(e,"base64")}get(e){return super.get(kc._encode(e))}set(e,r){return super.set(kc._encode(e),r)}delete(e){return super.delete(kc._encode(e))}has(e){return super.has(kc._encode(e))}*keys(){for(let e of super.keys())yield kc._decode(e)}*entries(){for(let e of super.entries())yield[kc._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,r){if(typeof e!="function")throw new TypeError("Must be function");for(let n of super.entries())e.call(this,n[1],kc._decode(n[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,xEe.MAP))return!1;if(e.canonical){let r=Array.from(super.entries()).map(n=>[mZ.from(n[0],"base64"),n[1]]);r.sort((n,i)=>n[0].compare(i[0]));for(let n of r)if(!(e.push(n[0])&&e.pushAny(n[1])))return!1}else for(let r of super.entries())if(!(e.push(mZ.from(r[0],"base64"))&&e.pushAny(r[1])))return!1;return!0}};gZ.exports=kc});var vZ=$((zft,yZ)=>{k();M();var ch=class{constructor(){this.clear()}clear(){this.map=new WeakMap,this.count=0,this.recording=!0}stop(){this.recording=!1}check(e){let r=this.map.get(e);if(r)return r.length>1?r[0]||this.recording?r[1]:(r[0]=!0,ch.FIRST):this.recording?(r.push(this.count++),r[1]):ch.NEVER;if(!this.recording)throw new Error("New object detected when not recording");return this.map.set(e,[!1]),ch.NEVER}};ch.NEVER=-1;ch.FIRST=-2;yZ.exports=ch});var xZ=$((Xft,_Z)=>{k();M();var SEe=gv(),fO=vZ(),{Buffer:wEe}=ui(),q1=class extends SEe{constructor(e){super(e),this.valueSharing=new fO}_pushObject(e,r){if(e!==null){let n=this.valueSharing.check(e);switch(n){case fO.FIRST:this._pushTag(28);break;case fO.NEVER:break;default:return this._pushTag(29)&&this._pushIntNum(n)}}return super._pushObject(e,r)}stopRecording(){this.valueSharing.stop()}clearRecording(){this.valueSharing.clear()}static encode(...e){let r=new q1;r.on("data",()=>{});for(let n of e)r.pushAny(n);return r.stopRecording(),r.removeAllListeners("data"),r._encodeAll(e)}static encodeCanonical(...e){throw new Error("Cannot encode canonically in a SharedValueEncoder, which serializes objects multiple times.")}static encodeOne(e,r){let n=new q1(r);return n.on("data",()=>{}),n.pushAny(e),n.stopRecording(),n.removeAllListeners("data"),n._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new q1(r);o.on("data",()=>{}),o.on("error",i),o.on("finish",()=>n(wEe.concat(s))),o.pushAny(e),o.stopRecording(),o.removeAllListeners("data"),o.on("data",a=>s.push(a)),o.pushAny(e),o.end()})}};_Z.exports=q1});var AZ=$((Qft,TZ)=>{k();M();var SZ=oZ(),wZ=fZ(),$1=km(),j1=gv(),EEe=sO(),EZ=nO(),TEe=bZ(),AEe=xZ();TZ.exports={Commented:SZ,Diagnose:wZ,Decoder:$1,Encoder:j1,Simple:EEe,Tagged:EZ,Map:TEe,SharedValueEncoder:AEe,comment:SZ.comment,decodeAll:$1.decodeAll,decodeFirst:$1.decodeFirst,decodeAllSync:$1.decodeAllSync,decodeFirstSync:$1.decodeFirstSync,diagnose:wZ.diagnose,encode:j1.encode,encodeCanonical:j1.encodeCanonical,encodeOne:j1.encodeOne,encodeAsync:j1.encodeAsync,decode:$1.decodeFirstSync,leveldb:{decode:$1.decodeFirstSync,encode:j1.encode,buffer:!0,name:"cbor"},reset(){j1.reset(),EZ.reset()}}});var IZ=$(Ou=>{k();M();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.getCatNFTCommitScript=Ou.getCatCollectionCommitScript=Ou.getCatCommitScript=Ou.chunks=Ou.toPushData=void 0;var Rs=d2(),hO=AZ(),Nm=520;function Ao(t){let e=[],r=t.length;if(r<76){let n=A.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=255){e.push(A.Buffer.from("4c","hex"));let n=A.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=65535){e.push(A.Buffer.from("4d","hex"));let n=A.Buffer.alloc(2);n.writeUint16LE(r),e.push(n)}else{e.push(A.Buffer.from("4e","hex"));let n=A.Buffer.alloc(4);n.writeUint32LE(r),e.push(n)}return e.push(t),A.Buffer.concat(e)}Ou.toPushData=Ao;function E2(t,e){let r=[],n=0;for(;n<t.length;){let i=t.slice(n,n+e);r.push(i),n+=e}return r}Ou.chunks=E2;var IEe=(t,e)=>{let r=new Map;for(let o in e)r.set(o,e[o]);let n=A.Buffer.from(hO.encode(r)),i=[];i.push(Ao(A.Buffer.from(t,"hex"))),i.push(Rs.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),i.push(Rs.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),i.push(Rs.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),i.push(Rs.btc.Script.fromASM("OP_1").toBuffer());let s=E2(Array.from(n),Nm);for(let o of s)i.push(Ao(A.Buffer.from(o)));return i.push(Rs.btc.Script.fromASM("OP_ENDIF").toBuffer()),i.push(Rs.btc.Script.fromASM("OP_1").toBuffer()),A.Buffer.concat(i).toString("hex")};Ou.getCatCommitScript=IEe;var PEe=(t,e,r)=>{let n=[];if(n.push(Ao(A.Buffer.from(t,"hex"))),n.push(Rs.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_2").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let o in e)i.set(o,e[o]);let s=E2(Array.from(A.Buffer.from(hO.encode(i))),Nm);for(let o of s)n.push(Ao(A.Buffer.from([5]))),n.push(Ao(A.Buffer.from(o)))}if(r){n.push(Ao(A.Buffer.from([1]))),n.push(Ao(A.Buffer.from(r.type,"utf-8"))),n.push(A.Buffer.from([0]));let i=E2(Array.from(A.Buffer.from(r.body,"hex")),Nm);for(let s of i)n.push(Ao(A.Buffer.from(s)))}return n.push(Rs.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_1").toBuffer()),A.Buffer.concat(n).toString("hex")};Ou.getCatCollectionCommitScript=PEe;var OEe=(t,e,r)=>{let n=[];if(n.push(Ao(A.Buffer.from(t,"hex"))),n.push(Rs.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_3").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let o in e)i.set(o,e[o]);let s=E2(Array.from(A.Buffer.from(hO.encode(i))),Nm);for(let o of s)n.push(Ao(A.Buffer.from([5]))),n.push(Ao(A.Buffer.from(o)))}if(r){n.push(Ao(A.Buffer.from([1]))),n.push(Ao(A.Buffer.from(r.type,"utf-8"))),n.push(A.Buffer.from([0]));let i=E2(Array.from(A.Buffer.from(r.body,"hex")),Nm);for(let s of i)n.push(Ao(A.Buffer.from(s)))}return n.push(Rs.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Rs.btc.Script.fromASM("OP_1").toBuffer()),A.Buffer.concat(n).toString("hex")};Ou.getCatNFTCommitScript=OEe});var eee=$(Fc=>{"use strict";k();M();function EO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function BEe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function KZ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function CEe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");EO(t.outputLen),EO(t.blockLen)}function kEe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MEe(t,e){KZ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var REe={number:EO,bool:BEe,bytes:KZ,hash:CEe,exists:kEe,output:MEe},lO=REe;var dO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),L0=(t,e)=>t<<32-e|t>>>e,NEe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!NEe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function FEe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function VZ(t){if(typeof t=="string"&&(t=FEe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var HEe=class{clone(){return this._cloneInto()}};function GZ(t){let e=n=>t().update(VZ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function DEe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var UEe=class extends HEe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dO(this.buffer)}update(e){lO.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=VZ(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=dO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lO.exists(this),lO.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;DEe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=dO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},LEe=(t,e,r)=>t&e^~t&r,qEe=(t,e,r)=>t&e^t&r^e&r,$Ee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Od=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Bd=new Uint32Array(64),zZ=class extends UEe{constructor(){super(64,32,8,!1),this.A=Od[0]|0,this.B=Od[1]|0,this.C=Od[2]|0,this.D=Od[3]|0,this.E=Od[4]|0,this.F=Od[5]|0,this.G=Od[6]|0,this.H=Od[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Bd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Bd[f-15],l=Bd[f-2],y=L0(p,7)^L0(p,18)^p>>>3,_=L0(l,17)^L0(l,19)^l>>>10;Bd[f]=_+Bd[f-7]+y+Bd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=L0(a,6)^L0(a,11)^L0(a,25),l=h+p+LEe(a,u,c)+$Ee[f]+Bd[f]|0,_=(L0(n,2)^L0(n,13)^L0(n,22))+qEe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Bd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},jEe=class extends zZ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},TO=GZ(()=>new zZ);GZ(()=>new jEe);function KEe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function VEe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function GEe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:zEe}=crypto??globalThis.crypto??window.crypto;function WEe(t=32){if(typeof zEe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function YEe(t,e,r="be"){e===void 0&&(e=t.length),KEe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function WZ(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var XEe=new TextEncoder,ZEe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function YZ(t){for(let e of ZEe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function JEe(t,e,r=!1){typeof t=="string"&&(t=XEe.encode(t));let n=YZ(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function QEe(t,e){let r=YZ(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function XZ(t){return TO(TO(t))}function eTe(t){let e=XZ(t);return WZ([t,e.slice(0,4)])}function tTe(t){let e=t.slice(0,-4),r=t.slice(-4);if(XZ(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var PZ={encode:JEe,decode:QEe},ZZ={encode:t=>{let e=eTe(t);return PZ.encode(e,"base58")},decode:t=>{let e=PZ.decode(t,"base58");return tTe(e)}},JZ="qpzry9x8gf2tvdw0s3jn54khce6mua7l",rTe=[996825010,642813549,513874426,1027748829,705979059],Sv=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function QZ(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=rTe[i])}return e}function eJ(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function nTe(t,e,r){let n=eJ(t).concat(e);return QZ(n)===r.const}function iTe(t,e,r){let n=eJ(t).concat(e).concat([0,0,0,0,0,0]),i=QZ(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function tJ(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function sTe(t,e,r){let n=e.concat(iTe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=JZ.charAt(n[s]);return i}function rJ(t){if(!oTe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!aTe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=JZ.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=Sv.find(s=>s.version===e[0])??Sv[0];if(!nTe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function oTe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function aTe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function uTe(t,e="bc",r=0){let n=[r,...tJ([...t],8,5)],i=Sv.find(o=>o.version===r)??Sv[0],s=sTe(e,n,i);return nJ(s),s}function nJ(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=rJ(t),i=tJ(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function cTe(t){t=t.toLowerCase();let[e,r]=rJ(t);return r[0]}var iJ={encode:uTe,decode:nJ,version:cTe},sJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",fTe=new TextEncoder;function aJ(t,e=!1,r=!0){typeof t=="string"&&(t=fTe.encode(t));let n=e?oJ:sJ,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function uJ(t,e=!1){let r=e||t.includes("-")||t.includes("_")?oJ.split(""):sJ.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var cJ={encode:aJ,decode:uJ},fJ={encode:t=>aJ(t,!0,!1),decode:t=>uJ(t,!0)},hTe=BigInt(0),lTe=BigInt(255),hJ=BigInt(256);function dTe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function pTe(t,e,r="be"){e===void 0&&(e=dTe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>hTe;){let a=t&lTe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/hJ}return new Uint8Array(i)}function mTe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*hJ+BigInt(t[r]);return BigInt(e)}function gTe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function bTe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function yTe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function vTe(t,e,r="be"){e===void 0&&(e=yTe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function _Te(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],GEe(e);return e}var xTe=new TextEncoder,STe=new TextDecoder;function XO(t){return xTe.encode(t)}function pO(t){return STe.decode(t)}function wTe(t,e){VEe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function ETe(t,e,r="le"){e=wTe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function TTe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function ATe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return XO(e)}function ITe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return YEe(t,e,r);if(typeof t=="string")return ETe(t,e,r);if(typeof t=="bigint")return pTe(t,e,r);if(typeof t=="number")return vTe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var sr,he=(sr=class extends Uint8Array{static random(e=32){let r=WEe(e);return new sr(r,e)}constructor(e,r,n){let i=ITe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new H2(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return _Te(r)}toBin(){return bTe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return mTe(r)}toHash(){let e=TO(this);return new sr(e)}toJson(){let e=pO(this);return JSON.parse(e)}toBech32(e,r=0){return iJ.encode(this,e,r)}toStr(){return pO(this)}toHex(){return TTe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return ZZ.encode(this)}toBase64(){return cJ.encode(this)}toB64url(){return fJ.encode(this)}prepend(e){return sr.join([sr.bytes(e),this])}append(e){return sr.join([this,sr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new sr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new sr(n)}reverse(){let e=new Uint8Array(this).reverse();return new sr(e)}write(e,r){let n=sr.bytes(e);this.set(n,r)}prefixSize(e){let r=sr.varInt(this.length,e);return sr.join([r,this])}static from(e){return new sr(Uint8Array.from(e))}static of(...e){return new sr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>sr.bytes(i)),n=WZ(r);return new sr(n)}static varInt(e,r){if(e<253)return sr.num(e,1);if(e<65536)return sr.of(253,...sr.num(e,2,r));if(e<4294967296)return sr.of(254,...sr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return sr.of(255,...sr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},(()=>{sr.num=PTe})(),(()=>{sr.big=BTe})(),(()=>{sr.bin=OTe})(),(()=>{sr.raw=CTe})(),(()=>{sr.str=kTe})(),(()=>{sr.hex=MTe})(),(()=>{sr.bytes=RTe})(),(()=>{sr.json=NTe})(),(()=>{sr.base64=FTe})(),(()=>{sr.b64url=HTe})(),(()=>{sr.bech32=DTe})(),(()=>{sr.b58chk=UTe})(),(()=>{sr.encode=XO})(),(()=>{sr.decode=pO})(),sr);function PTe(t,e,r){return new he(t,e,r)}function OTe(t,e,r){return new he(gTe(t),e,r)}function BTe(t,e,r){return new he(t,e,r)}function CTe(t,e,r){return new he(t,e,r)}function kTe(t,e,r){return new he(XO(t),e,r)}function MTe(t,e,r){return new he(t,e,r)}function RTe(t,e,r){return new he(t,e,r)}function NTe(t){return new he(ATe(t))}function FTe(t){return new he(cJ.decode(t))}function HTe(t){return new he(fJ.decode(t))}function DTe(t){return new he(iJ.decode(t))}function UTe(t){return new he(ZZ.decode(t))}var H2=class{constructor(e){this.data=he.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new he(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}};function W0(t,e){let r=he.bytes(t);if(r.length!==e)throw new Error(`Invalid input size: ${r.hex} !== ${e}`)}function no(t,e){if(e)throw new Error(t);return!1}function _v(t,...e){let r=he.str(t).digest.raw,n=e.map(i=>he.bytes(i));return he.join([r,r,he.join(n)]).digest}var lJ={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_SUCCESS187:187,OP_SUCCESS188:188,OP_SUCCESS189:189,OP_SUCCESS190:190,OP_SUCCESS191:191,OP_SUCCESS192:192,OP_SUCCESS193:193,OP_SUCCESS194:194,OP_SUCCESS195:195,OP_SUCCESS196:196,OP_SUCCESS197:197,OP_SUCCESS198:198,OP_SUCCESS199:199,OP_SUCCESS200:200,OP_SUCCESS201:201,OP_SUCCESS202:202,OP_SUCCESS203:203,OP_SUCCESS204:204,OP_SUCCESS205:205,OP_SUCCESS206:206,OP_SUCCESS207:207,OP_SUCCESS208:208,OP_SUCCESS209:209,OP_SUCCESS210:210,OP_SUCCESS211:211,OP_SUCCESS212:212,OP_SUCCESS213:213,OP_SUCCESS214:214,OP_SUCCESS215:215,OP_SUCCESS216:216,OP_SUCCESS217:217,OP_SUCCESS218:218,OP_SUCCESS219:219,OP_SUCCESS220:220,OP_SUCCESS221:221,OP_SUCCESS222:222,OP_SUCCESS223:223,OP_SUCCESS224:224,OP_SUCCESS225:225,OP_SUCCESS226:226,OP_SUCCESS227:227,OP_SUCCESS228:228,OP_SUCCESS229:229,OP_SUCCESS230:230,OP_SUCCESS231:231,OP_SUCCESS232:232,OP_SUCCESS233:233,OP_SUCCESS234:234,OP_SUCCESS235:235,OP_SUCCESS236:236,OP_SUCCESS237:237,OP_SUCCESS238:238,OP_SUCCESS239:239,OP_SUCCESS240:240,OP_SUCCESS241:241,OP_SUCCESS242:242,OP_SUCCESS243:243,OP_SUCCESS244:244,OP_SUCCESS245:245,OP_SUCCESS246:246,OP_SUCCESS247:247,OP_SUCCESS248:248,OP_SUCCESS249:249,OP_SUCCESS250:250,OP_SUCCESS251:251,OP_SUCCESS252:252,OP_SUCCESS253:253,OP_SUCCESS254:254};function LTe(t){if(t>186&&t<255)return"OP_SUCCESS"+String(t);for(let[e,r]of Object.entries(lJ))if(r===t)return e;throw new Error("OPCODE not found:"+String(t))}function qTe(t){for(let[e,r]of Object.entries(lJ))if(e===t)return Number(r);throw new Error("OPCODE not found:"+t)}function $Te(t){switch(!0){case t===0:return"opcode";case(t>=1&&t<=75):return"varint";case t===76:return"pushdata1";case t===77:return"pushdata2";case t===78:return"pushdata4";case t<=254:return"opcode";default:throw new Error(`Invalid word range: ${t}`)}}function jTe(t){let n=[];switch(!0){case typeof t!="number":return!1;case t===0:return!0;case n.includes(t):return!1;case(75<t&&t<254):return!0;default:return!1}}function bh(t){return typeof t=="string"&&t.length%2===0&&/[0-9a-fA-F]/.test(t)}function dJ(t){return bh(t)||t instanceof Uint8Array}var wv=520;function zd(t=[],e=!0){let r=he.num(0);return Array.isArray(t)&&(r=he.raw(pJ(t))),bh(t)&&(r=he.hex(t)),t instanceof Uint8Array&&(r=he.raw(t)),e&&(r=r.prefixSize("le")),r}function pJ(t){let e=[];for(let r of t)e.push(KTe(r));return e.length>0?he.join(e):new Uint8Array}function KTe(t){let e=new Uint8Array;if(typeof t=="string"){if(t.startsWith("OP_"))return he.num(qTe(t),1);bh(t)?e=he.hex(t):e=he.str(t)}else e=he.bytes(t);if(e.length===1)return e[0]!==0&&e[0]<=16?(e[0]+=80,e):(e[0]>128&&e[0]<=255&&(e=new Uint8Array([e[0],0])),he.join([OZ(e.length),e]));if(e.length>wv){let r=VTe(e);return pJ(r)}else return he.join([OZ(e.length),e])}function OZ(t){let e=he.num(76,1),r=he.num(77,1);switch(!0){case t<=75:return he.num(t);case(t>75&&t<256):return he.join([e,he.num(t,1,"le")]);case(t>=256&&t<=wv):return he.join([r,he.num(t,2,"le")]);default:throw new Error("Invalid word size:"+t.toString())}}function VTe(t){let e=[],r=new H2(t);for(;r.size>wv;)e.push(r.read(wv));return e.push(r.read(r.size)),e}function Kv(t,e=!1){let r=he.bytes(t);if(e){let i=r.stream.readSize("le");if(r=r.slice(1),r.length!==i)throw new Error(`Varint does not match stream size: ${i} !== ${r.length}`)}return GTe(r)}function GTe(t){let e=new H2(t),r=[],n=e.size,i,s,o,a=0;for(;a<n;)switch(i=e.read(1).num,s=$Te(i),a++,s){case"varint":r.push(e.read(i).hex),a+=i;break;case"pushdata1":o=e.read(1).reverse().num,r.push(e.read(o).hex),a+=o+1;break;case"pushdata2":o=e.read(2).reverse().num,r.push(e.read(o).hex),a+=o+2;break;case"pushdata4":o=e.read(4).reverse().num,r.push(e.read(o).hex),a+=o+4;break;case"opcode":if(!jTe(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(LTe(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function zTe(t,e){if(Array.isArray(t)&&(t=zd(t,e)),t instanceof Uint8Array||bh(t))return Kv(t,e);throw new Error("Invalid format: "+String(typeof t))}function WTe(t,e){if((t instanceof Uint8Array||bh(t))&&(t=Kv(t,e)),Array.isArray(t))return zd(t,e);throw new Error("Invalid format: "+String(typeof t))}function YTe(t){if(!Array.isArray(t))return he.bytes(t);throw new Error("Invalid format: "+String(typeof t))}var XTe={toAsm:zTe,toBytes:WTe,toParam:YTe},Hs={encode:zd,decode:Kv,fmt:XTe};function AO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ZTe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function mJ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function JTe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");AO(t.outputLen),AO(t.blockLen)}function QTe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eAe(t,e){mJ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var tAe={number:AO,bool:ZTe,bytes:mJ,hash:JTe,exists:QTe,output:eAe},G1=tAe,mO=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var gO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),q0=(t,e)=>t<<32-e|t>>>e,rAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rAe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function nAe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function ZO(t){if(typeof t=="string"&&(t=nAe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function iAe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var gJ=class{clone(){return this._cloneInto()}};function bJ(t){let e=n=>t().update(ZO(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function yJ(t=32){if(mO&&typeof mO.getRandomValues=="function")return mO.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function sAe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var oAe=class extends gJ{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gO(this.buffer)}update(e){G1.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=ZO(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=gO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){G1.exists(this),G1.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;sAe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=gO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},aAe=(t,e,r)=>t&e^~t&r,uAe=(t,e,r)=>t&e^t&r^e&r,cAe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),kd=new Uint32Array(64),vJ=class extends oAe{constructor(){super(64,32,8,!1),this.A=Cd[0]|0,this.B=Cd[1]|0,this.C=Cd[2]|0,this.D=Cd[3]|0,this.E=Cd[4]|0,this.F=Cd[5]|0,this.G=Cd[6]|0,this.H=Cd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)kd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=kd[f-15],l=kd[f-2],y=q0(p,7)^q0(p,18)^p>>>3,_=q0(l,17)^q0(l,19)^l>>>10;kd[f]=_+kd[f-7]+y+kd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=q0(a,6)^q0(a,11)^q0(a,25),l=h+p+aAe(a,u,c)+cAe[f]+kd[f]|0,_=(q0(n,2)^q0(n,13)^q0(n,22))+uAe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){kd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},fAe=class extends vJ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Ev=bJ(()=>new vJ);bJ(()=>new fAe);var hAe=BigInt(0),JO=BigInt(1),lAe=BigInt(2),Vv=t=>t instanceof Uint8Array,dAe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function I2(t){if(!Vv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=dAe[t[r]];return e}function _J(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function QO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function P2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Io(t){return QO(I2(t))}function eB(t){if(!Vv(t))throw new Error("Uint8Array expected");return QO(I2(Uint8Array.from(t).reverse()))}var qd=(t,e)=>P2(t.toString(16).padStart(e*2,"0")),xJ=(t,e)=>qd(t,e).reverse(),pAe=t=>P2(_J(t));function Ns(t,e,r){let n;if(typeof e=="string")try{n=P2(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Vv(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Pa(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Vv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function mAe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Gv(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function gAe(t){let e;for(e=0;t>0n;t>>=JO,e+=1);return e}var bAe=(t,e)=>t>>BigInt(e)&1n,yAe=(t,e,r)=>t|(r?JO:hAe)<<BigInt(e),tB=t=>(lAe<<BigInt(t-1))-JO,bO=t=>new Uint8Array(t),BZ=t=>Uint8Array.from(t);function SJ(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=bO(t),i=bO(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=bO())=>{i=a(BZ([0]),f),n=a(),f.length!==0&&(i=a(BZ([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,p=[];for(;f<e;){n=a();let l=n.slice();p.push(l),f+=n.length}return Pa(...p)};return(f,p)=>{o(),u(f);let l;for(;!(l=p(c()));)u();return o(),l}}var vAe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function D2(t,e,r={}){let n=(i,s,o)=>{let a=vAe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var _Ae=Object.freeze({__proto__:null,bitGet:bAe,bitLen:gAe,bitMask:tB,bitSet:yAe,bytesToHex:I2,bytesToNumberBE:Io,bytesToNumberLE:eB,concatBytes:Pa,createHmacDrbg:SJ,ensureBytes:Ns,equalBytes:mAe,hexToBytes:P2,hexToNumber:QO,numberToBytesBE:qd,numberToBytesLE:xJ,numberToHexUnpadded:_J,numberToVarBytesBE:pAe,utf8ToBytes:Gv,validateObject:D2});var ms=BigInt(0),_i=BigInt(1),V1=BigInt(2),xAe=BigInt(3),IO=BigInt(4),CZ=BigInt(5),kZ=BigInt(8);BigInt(9);BigInt(16);function Ji(t,e){let r=t%e;return r>=ms?r:e+r}function SAe(t,e,r){if(r<=ms||e<ms)throw new Error("Expected power/modulo > 0");if(r===_i)return ms;let n=_i;for(;e>ms;)e&_i&&(n=n*t%r),t=t*t%r,e>>=_i;return n}function Bu(t,e,r){let n=t;for(;e-- >ms;)n*=n,n%=r;return n}function PO(t,e){if(t===ms||e<=ms)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ji(t,e),n=e,i=ms,s=_i;for(;r!==ms;){let a=n/r,u=n%r,c=i-s*a;n=r,r=u,i=s,s=c}if(n!==_i)throw new Error("invert: does not exist");return Ji(i,e)}function wAe(t){let e=(t-_i)/V1,r,n,i;for(r=t-_i,n=0;r%V1===ms;r/=V1,n++);for(i=V1;i<t&&SAe(i,e,t)!==t-_i;i++);if(n===1){let o=(t+_i)/IO;return function(u,c){let h=u.pow(c,o);if(!u.eql(u.sqr(h),c))throw new Error("Cannot find square root");return h}}let s=(r+_i)/V1;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,h=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let l=1;for(let _=a.sqr(p);l<c&&!a.eql(_,a.ONE);l++)_=a.sqr(_);let y=a.pow(h,_i<<BigInt(c-l-1));h=a.sqr(y),f=a.mul(f,y),p=a.mul(p,h),c=l}return f}}function EAe(t){if(t%IO===xAe){let e=(t+_i)/IO;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%kZ===CZ){let e=(t-CZ)/kZ;return function(n,i){let s=n.mul(i,V1),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,V1),o),c=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return wAe(t)}var TAe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wJ(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=TAe.reduce((n,i)=>(n[i]="function",n),e);return D2(t,r)}function AAe(t,e,r){if(r<ms)throw new Error("Expected power > 0");if(r===ms)return t.ONE;if(r===_i)return e;let n=t.ONE,i=e;for(;r>ms;)r&_i&&(n=t.mul(n,i)),i=t.sqr(i),r>>=_i;return n}function IAe(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function rB(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function EJ(t,e,r=!1,n={}){if(t<=ms)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=rB(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=EAe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:tB(i),ZERO:ms,ONE:_i,create:u=>Ji(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ms<=u&&u<t},is0:u=>u===ms,isOdd:u=>(u&_i)===_i,neg:u=>Ji(-u,t),eql:(u,c)=>u===c,sqr:u=>Ji(u*u,t),add:(u,c)=>Ji(u+c,t),sub:(u,c)=>Ji(u-c,t),mul:(u,c)=>Ji(u*c,t),pow:(u,c)=>AAe(a,u,c),div:(u,c)=>Ji(u*PO(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>PO(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>IAe(a,u),cmov:(u,c,h)=>h?c:u,toBytes:u=>r?xJ(u,s):qd(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?eB(u):Io(u)}});return Object.freeze(a)}function PAe(t,e,r=!1){t=Ns("privateHash",t);let n=t.length,i=rB(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?eB(t):Io(t);return Ji(s,e-_i)+_i}var OAe=BigInt(0),yO=BigInt(1);function BAe(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>OAe;)s&yO&&(o=o.add(a)),a=a.double(),s>>=yO;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],c=i,h=c;for(let f=0;f<o;f++){h=c,u.push(h);for(let p=1;p<a;p++)h=h.add(c),u.push(h);c=h.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),c=t.ZERO,h=t.BASE,f=BigInt(2**i-1),p=2**i,l=BigInt(i);for(let y=0;y<a;y++){let _=y*u,O=Number(o&f);o>>=l,O>u&&(O-=p,o+=yO);let F=_,B=_+Math.abs(O)-1,E=y%2!==0,I=O<0;O===0?h=h.add(r(E,s[F])):c=c.add(r(I,s[B]))}return{p:c,f:h}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function TJ(t){return wJ(t.Fp),D2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rB(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function CAe(t){let e=TJ(t);D2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:kAe,hexToBytes:MAe}=_Ae,z1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=z1;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:kAe(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=z1,r=typeof t=="string"?MAe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=z1._parseInt(r.subarray(2)),{d:o,l:a}=z1._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)>=8?"00"+c:c,r=c=>{let h=c.toString(16);return h.length&1?`0${h}`:h},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Mc=BigInt(0),Zi=BigInt(1),fh=BigInt(2),Tv=BigInt(3),MZ=BigInt(4);function RAe(t){let e=CAe(t),{Fp:r}=e,n=e.toBytes||((y,_,O)=>{let F=_.toAffine();return Pa(Uint8Array.from([4]),r.toBytes(F.x),r.toBytes(F.y))}),i=e.fromBytes||(y=>{let _=y.subarray(1),O=r.fromBytes(_.subarray(0,r.BYTES)),F=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:O,y:F}});function s(y){let{a:_,b:O}=e,F=r.sqr(y),B=r.mul(F,y);return r.add(r.add(B,r.mul(y,_)),O)}function o(y){return typeof y=="bigint"&&Mc<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:_,nByteLength:O,wrapPrivateKey:F,n:B}=e;if(_&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=I2(y)),typeof y!="string"||!_.includes(y.length))throw new Error("Invalid key");y=y.padStart(O*2,"0")}let E;try{E=typeof y=="bigint"?y:Io(Ns("private key",y,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof y}`)}return F&&(E=Ji(E,B)),a(E),E}let c=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(_,O,F){if(this.px=_,this.py=O,this.pz=F,_==null||!r.isValid(_))throw new Error("x required");if(O==null||!r.isValid(O))throw new Error("y required");if(F==null||!r.isValid(F))throw new Error("z required")}static fromAffine(_){let{x:O,y:F}=_||{};if(!_||!r.isValid(O)||!r.isValid(F))throw new Error("invalid affine point");if(_ instanceof f)throw new Error("projective point not allowed");let B=E=>r.eql(E,r.ZERO);return B(O)&&B(F)?f.ZERO:new f(O,F,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){let O=r.invertBatch(_.map(F=>F.pz));return _.map((F,B)=>F.toAffine(O[B])).map(f.fromAffine)}static fromHex(_){let O=f.fromAffine(i(Ns("pointHex",_)));return O.assertValidity(),O}static fromPrivateKey(_){return f.BASE.multiply(u(_))}_setWindowSize(_){this._WINDOW_SIZE=_,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:_,y:O}=this.toAffine();if(!r.isValid(_)||!r.isValid(O))throw new Error("bad point: x or y not FE");let F=r.sqr(O),B=s(_);if(!r.eql(F,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:_}=this.toAffine();if(r.isOdd)return!r.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:U}=_,N=r.eql(r.mul(O,U),r.mul(E,B)),H=r.eql(r.mul(F,U),r.mul(I,B));return N&&H}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:_,b:O}=e,F=r.mul(O,Tv),{px:B,py:E,pz:I}=this,U=r.ZERO,N=r.ZERO,H=r.ZERO,D=r.mul(B,B),C=r.mul(E,E),d=r.mul(I,I),v=r.mul(B,E);return v=r.add(v,v),H=r.mul(B,I),H=r.add(H,H),U=r.mul(_,H),N=r.mul(F,d),N=r.add(U,N),U=r.sub(C,N),N=r.add(C,N),N=r.mul(U,N),U=r.mul(v,U),H=r.mul(F,H),d=r.mul(_,d),v=r.sub(D,d),v=r.mul(_,v),v=r.add(v,H),H=r.add(D,D),D=r.add(H,D),D=r.add(D,d),D=r.mul(D,v),N=r.add(N,D),d=r.mul(E,I),d=r.add(d,d),D=r.mul(d,v),U=r.sub(U,D),H=r.mul(d,C),H=r.add(H,H),H=r.add(H,H),new f(U,N,H)}add(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:U}=_,N=r.ZERO,H=r.ZERO,D=r.ZERO,C=e.a,d=r.mul(e.b,Tv),v=r.mul(O,E),g=r.mul(F,I),m=r.mul(B,U),S=r.add(O,F),w=r.add(E,I);S=r.mul(S,w),w=r.add(v,g),S=r.sub(S,w),w=r.add(O,B);let R=r.add(E,U);return w=r.mul(w,R),R=r.add(v,m),w=r.sub(w,R),R=r.add(F,B),N=r.add(I,U),R=r.mul(R,N),N=r.add(g,m),R=r.sub(R,N),D=r.mul(C,w),N=r.mul(d,m),D=r.add(N,D),N=r.sub(g,D),D=r.add(g,D),H=r.mul(N,D),g=r.add(v,v),g=r.add(g,v),m=r.mul(C,m),w=r.mul(d,w),g=r.add(g,m),m=r.sub(v,m),m=r.mul(C,m),w=r.add(w,m),v=r.mul(g,w),H=r.add(H,v),v=r.mul(R,w),N=r.mul(S,N),N=r.sub(N,v),v=r.mul(S,g),D=r.mul(R,D),D=r.add(D,v),new f(N,H,D)}subtract(_){return this.add(_.negate())}is0(){return this.equals(f.ZERO)}wNAF(_){return l.wNAFCached(this,c,_,O=>{let F=r.invertBatch(O.map(B=>B.pz));return O.map((B,E)=>B.toAffine(F[E])).map(f.fromAffine)})}multiplyUnsafe(_){let O=f.ZERO;if(_===Mc)return O;if(a(_),_===Zi)return this;let{endo:F}=e;if(!F)return l.unsafeLadder(this,_);let{k1neg:B,k1:E,k2neg:I,k2:U}=F.splitScalar(_),N=O,H=O,D=this;for(;E>Mc||U>Mc;)E&Zi&&(N=N.add(D)),U&Zi&&(H=H.add(D)),D=D.double(),E>>=Zi,U>>=Zi;return B&&(N=N.negate()),I&&(H=H.negate()),H=new f(r.mul(H.px,F.beta),H.py,H.pz),N.add(H)}multiply(_){a(_);let O=_,F,B,{endo:E}=e;if(E){let{k1neg:I,k1:U,k2neg:N,k2:H}=E.splitScalar(O),{p:D,f:C}=this.wNAF(U),{p:d,f:v}=this.wNAF(H);D=l.constTimeNegate(I,D),d=l.constTimeNegate(N,d),d=new f(r.mul(d.px,E.beta),d.py,d.pz),F=D.add(d),B=C.add(v)}else{let{p:I,f:U}=this.wNAF(O);F=I,B=U}return f.normalizeZ([F,B])[0]}multiplyAndAddUnsafe(_,O,F){let B=f.BASE,E=(U,N)=>N===Mc||N===Zi||!U.equals(B)?U.multiplyUnsafe(N):U.multiply(N),I=E(this,O).add(E(_,F));return I.is0()?void 0:I}toAffine(_){let{px:O,py:F,pz:B}=this,E=this.is0();_==null&&(_=E?r.ONE:r.inv(B));let I=r.mul(O,_),U=r.mul(F,_),N=r.mul(B,_);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:I,y:U}}isTorsionFree(){let{h:_,isTorsionFree:O}=e;if(_===Zi)return!0;if(O)return O(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:_,clearCofactor:O}=e;return _===Zi?this:O?O(f,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return this.assertValidity(),n(f,this,_)}toHex(_=!0){return I2(this.toRawBytes(_))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let p=e.nBitLength,l=BAe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function NAe(t){let e=TJ(t);return D2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function FAe(t){let e=NAe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(w){return Mc<w&&w<r.ORDER}function a(w){return Ji(w,n)}function u(w){return PO(w,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=RAe({...e,toBytes(w,R,T){let b=R.toAffine(),x=r.toBytes(b.x),P=Pa;return T?P(Uint8Array.from([R.hasEvenY()?2:3]),x):P(Uint8Array.from([4]),x,r.toBytes(b.y))},fromBytes(w){let R=w.length,T=w[0],b=w.subarray(1);if(R===i&&(T===2||T===3)){let x=Io(b);if(!o(x))throw new Error("Point is not on curve");let P=f(x),L=r.sqrt(P),V=(L&Zi)===Zi;return(T&1)===1!==V&&(L=r.neg(L)),{x,y:L}}else if(R===s&&T===4){let x=r.fromBytes(b.subarray(0,r.BYTES)),P=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x,y:P}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),l=w=>I2(qd(w,e.nByteLength));function y(w){let R=n>>Zi;return w>R}function _(w){return y(w)?a(-w):w}let O=(w,R,T)=>Io(w.slice(R,T));class F{constructor(R,T,b){this.r=R,this.s=T,this.recovery=b,this.assertValidity()}static fromCompact(R){let T=e.nByteLength;return R=Ns("compactSignature",R,T*2),new F(O(R,0,T),O(R,T,2*T))}static fromDER(R){let{r:T,s:b}=z1.toSig(Ns("DER",R));return new F(T,b)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new F(this.r,this.s,R)}recoverPublicKey(R){let{r:T,s:b,recovery:x}=this,P=H(Ns("msgHash",R));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");let L=x===2||x===3?T+e.n:T;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let V=(x&1)===0?"02":"03",W=c.fromHex(V+l(L)),ee=u(L),ae=a(-P*ee),se=a(b*ee),j=c.BASE.multiplyAndAddUnsafe(W,ae,se);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return P2(this.toDERHex())}toDERHex(){return z1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return P2(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}let B={isValidPrivateKey(w){try{return h(w),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let w=e.randomBytes(r.BYTES+8),R=PAe(w,n);return qd(R,e.nByteLength)},precompute(w=8,R=c.BASE){return R._setWindowSize(w),R.multiply(BigInt(3)),R}};function E(w,R=!0){return c.fromPrivateKey(w).toRawBytes(R)}function I(w){let R=w instanceof Uint8Array,T=typeof w=="string",b=(R||T)&&w.length;return R?b===i||b===s:T?b===2*i||b===2*s:w instanceof c}function U(w,R,T=!0){if(I(w))throw new Error("first arg must be private key");if(!I(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(h(w)).toRawBytes(T)}let N=e.bits2int||function(w){let R=Io(w),T=w.length*8-e.nBitLength;return T>0?R>>BigInt(T):R},H=e.bits2int_modN||function(w){return a(N(w))},D=tB(e.nBitLength);function C(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(Mc<=w&&w<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return qd(w,e.nByteLength)}function d(w,R,T=v){if(["recovered","canonical"].some(Q=>Q in T))throw new Error("sign() legacy options not supported");let{hash:b,randomBytes:x}=e,{lowS:P,prehash:L,extraEntropy:V}=T;P==null&&(P=!0),w=Ns("msgHash",w),L&&(w=Ns("prehashed msgHash",b(w)));let W=H(w),ee=h(R),ae=[C(ee),C(W)];if(V!=null){let Q=V===!0?x(r.BYTES):V;ae.push(Ns("extraEntropy",Q,r.BYTES))}let se=Pa(...ae),j=W;function Z(Q){let ne=N(Q);if(!p(ne))return;let ue=u(ne),ge=c.BASE.multiply(ne).toAffine(),xe=a(ge.x);if(xe===Mc)return;let Pe=a(ue*a(j+xe*ee));if(Pe===Mc)return;let Le=(ge.x===xe?0:2)|Number(ge.y&Zi),ke=Pe;return P&&y(Pe)&&(ke=_(Pe),Le^=1),new F(xe,ke,Le)}return{seed:se,k2sig:Z}}let v={lowS:e.lowS,prehash:!1},g={lowS:e.lowS,prehash:!1};function m(w,R,T=v){let{seed:b,k2sig:x}=d(w,R,T);return SJ(e.hash.outputLen,e.nByteLength,e.hmac)(b,x)}c.BASE._setWindowSize(8);function S(w,R,T,b=g){let x=w;if(R=Ns("msgHash",R),T=Ns("publicKey",T),"strict"in b)throw new Error("options.strict was renamed to lowS");let{lowS:P,prehash:L}=b,V,W;try{if(typeof x=="string"||x instanceof Uint8Array)try{V=F.fromDER(x)}catch(ge){if(!(ge instanceof z1.Err))throw ge;V=F.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){let{r:ge,s:xe}=x;V=new F(ge,xe)}else throw new Error("PARSE");W=c.fromHex(T)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&V.hasHighS())return!1;L&&(R=e.hash(R));let{r:ee,s:ae}=V,se=H(R),j=u(ae),Z=a(se*j),Q=a(ee*j),ne=c.BASE.multiplyAndAddUnsafe(W,Z,Q)?.toAffine();return ne?a(ne.x)===ee:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:U,sign:m,verify:S,ProjectivePoint:c,Signature:F,utils:B}}function HAe(t,e){let r=t.ORDER,n=Mc;for(let p=r-Zi;p%fh===Mc;p/=fh)n+=Zi;let i=n,s=(r-Zi)/fh**i,o=(s-Zi)/fh,a=fh**i-Zi,u=fh**(i-Zi),c=t.pow(e,s),h=t.pow(e,(s+Zi)/fh),f=(p,l)=>{let y=c,_=t.pow(l,a),O=t.sqr(_);O=t.mul(O,l);let F=t.mul(p,O);F=t.pow(F,o),F=t.mul(F,_),_=t.mul(F,l),O=t.mul(F,p);let B=t.mul(O,_);F=t.pow(B,u);let E=t.eql(F,t.ONE);_=t.mul(O,h),F=t.mul(B,y),O=t.cmov(_,O,E),B=t.cmov(F,B,E);for(let I=i;I>1;I--){let U=fh**(I-fh),N=t.pow(B,U),H=t.eql(N,t.ONE);_=t.mul(O,y),y=t.mul(y,y),N=t.mul(B,y),O=t.cmov(_,O,H),B=t.cmov(N,B,H)}return{isValid:E,value:O}};if(t.ORDER%MZ===Tv){let p=(t.ORDER-Tv)/MZ,l=t.sqrt(t.neg(e));f=(y,_)=>{let O=t.sqr(_),F=t.mul(y,_);O=t.mul(O,F);let B=t.pow(O,p);B=t.mul(B,F);let E=t.mul(B,l),I=t.mul(t.sqr(B),_),U=t.eql(I,y),N=t.cmov(E,B,U);return{isValid:U,value:N}}}return f}function DAe(t,e){if(wJ(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=HAe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,h,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),h=t.mul(i,o);let{isValid:p,value:l}=r(s,c);f=t.mul(i,n),f=t.mul(f,l),h=t.cmov(h,o,p),f=t.cmov(f,l,p);let y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),h=t.div(h,a),{x:h,y:f}}}function UAe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return Gv(t);throw new Error("DST must be Uint8Array or string")}var LAe=Io;function Ud(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function qAe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function Hm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function nB(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function $Ae(t,e,r,n){Hm(t),Hm(e),nB(r),e.length>255&&(e=n(Pa(Gv("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let a=Pa(e,Ud(e.length,1)),u=Ud(0,s),c=Ud(r,2),h=new Array(o),f=n(Pa(u,t,c,Ud(0,1),a));h[0]=n(Pa(f,Ud(1,1),a));for(let l=1;l<=o;l++){let y=[qAe(f,h[l-1]),Ud(l+1,1),a];h[l]=n(Pa(...y))}return Pa(...h).slice(0,r)}function jAe(t,e,r,n,i){if(Hm(t),Hm(e),nB(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(Gv("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Ud(r,2)).update(e).update(Ud(e.length,1)).digest()}function RZ(t,e,r){D2(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:a,DST:u}=r;Hm(t),nB(e);let c=UAe(u),h=n.toString(2).length,f=Math.ceil((h+i)/8),p=e*s*f,l;if(a==="xmd")l=$Ae(t,c,p,o);else if(a==="xof")l=jAe(t,c,p,i,o);else if(a===void 0)l=t;else throw new Error('expand must be "xmd", "xof" or undefined');let y=new Array(e);for(let _=0;_<e;_++){let O=new Array(s);for(let F=0;F<s;F++){let B=f*(F+_*s),E=l.subarray(B,B+f);O[F]=Ji(LAe(E),n)}y[_]=O}return y}function KAe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,a,u]=r.map(c=>c.reduce((h,f)=>t.add(t.mul(h,n),f)));return n=t.div(s,o),i=t.mul(i,t.div(a,u)),{x:n,y:i}}}function VAe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=RZ(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=RZ(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}var AJ=class extends gJ{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,G1.hash(e);let n=ZO(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return G1.exists(this),this.iHash.update(e),this}digestInto(e){G1.exists(this),G1.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},IJ=(t,e,r)=>new AJ(t,e).update(r).digest();IJ.create=(t,e)=>new AJ(t,e);function GAe(t){return{hash:t,hmac:(e,...r)=>IJ(t,e,iAe(...r)),randomBytes:yJ}}function zAe(t,e){let r=n=>FAe({...t,...GAe(n)});return Object.freeze({...r(e),create:r})}var zv=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Av=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),PJ=BigInt(1),Iv=BigInt(2),NZ=(t,e)=>(t+e/Iv)/e;function OJ(t){let e=zv,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,h=c*c*t%e,f=Bu(h,r,e)*h%e,p=Bu(f,r,e)*h%e,l=Bu(p,Iv,e)*c%e,y=Bu(l,i,e)*l%e,_=Bu(y,s,e)*y%e,O=Bu(_,a,e)*_%e,F=Bu(O,u,e)*O%e,B=Bu(F,a,e)*_%e,E=Bu(B,r,e)*h%e,I=Bu(E,o,e)*y%e,U=Bu(I,n,e)*c%e,N=Bu(U,Iv,e);if(!jd.eql(jd.sqr(N),t))throw new Error("Cannot find square root");return N}var jd=EJ(zv,void 0,void 0,{sqrt:OJ}),K0=zAe({a:BigInt(0),b:BigInt(7),Fp:jd,n:Av,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Av,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-PJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=NZ(s*t,e),u=NZ(-n*t,e),c=Ji(t-a*r-u*i,e),h=Ji(-a*n-u*s,e),f=c>o,p=h>o;if(f&&(c=e-c),p&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:h}}}},Ev),Wv=BigInt(0),BJ=t=>typeof t=="bigint"&&Wv<t&&t<zv,WAe=t=>typeof t=="bigint"&&Wv<t&&t<Av,FZ={};function Pv(t,...e){let r=FZ[t];if(r===void 0){let n=Ev(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Pa(n,n),FZ[t]=r}return Ev(Pa(r,...e))}var iB=t=>t.toRawBytes(!0).slice(1),OO=t=>qd(t,32),vO=t=>Ji(t,zv),Dm=t=>Ji(t,Av),sB=K0.ProjectivePoint,YAe=(t,e,r)=>sB.BASE.multiplyAndAddUnsafe(t,e,r);function BO(t){let e=K0.utils.normPrivateKeyToScalar(t),r=sB.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Dm(-e),bytes:iB(r)}}function CJ(t){if(!BJ(t))throw new Error("bad x: need 0 < x < p");let e=vO(t*t),r=vO(e*t+BigInt(7)),n=OJ(r);n%Iv!==Wv&&(n=vO(-n));let i=new sB(t,n,PJ);return i.assertValidity(),i}function kJ(...t){return Dm(Io(Pv("BIP0340/challenge",...t)))}function XAe(t){return BO(t).bytes}function ZAe(t,e,r=yJ(32)){let n=Ns("message",t),{bytes:i,scalar:s}=BO(e),o=Ns("auxRand",r,32),a=OO(s^Io(Pv("BIP0340/aux",o))),u=Pv("BIP0340/nonce",a,i,n),c=Dm(Io(u));if(c===Wv)throw new Error("sign failed: k is zero");let{bytes:h,scalar:f}=BO(c),p=kJ(h,i,n),l=new Uint8Array(64);if(l.set(h,0),l.set(OO(Dm(f+p*s)),32),!MJ(l,n,i))throw new Error("sign: Invalid signature produced");return l}function MJ(t,e,r){let n=Ns("signature",t,64),i=Ns("message",e),s=Ns("publicKey",r,32);try{let o=CJ(Io(s)),a=Io(n.subarray(0,32));if(!BJ(a))return!1;let u=Io(n.subarray(32,64));if(!WAe(u))return!1;let c=kJ(OO(a),iB(o),i),h=YAe(o,u,Dm(-c));return!(!h||!h.hasEvenY()||h.toAffine().x!==a)}catch{return!1}}var JAe={getPublicKey:XAe,sign:ZAe,verify:MJ,utils:{randomPrivateKey:K0.utils.randomPrivateKey,lift_x:CJ,pointToBytes:iB,numberToBytesBE:qd,bytesToNumberBE:Io,taggedHash:Pv,mod:Ji}},QAe=KAe(jd,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),eIe=DAe(jd,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:jd.create(BigInt("-11"))});VAe(K0.ProjectivePoint,t=>{let{x:e,y:r}=eIe(jd.create(t[0]));return QAe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:jd.ORDER,m:1,k:128,expand:"xmd",hash:Ev});function CO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function tIe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function RJ(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function rIe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");CO(t.outputLen),CO(t.blockLen)}function nIe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function iIe(t,e){RJ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var sIe={number:CO,bool:tIe,bytes:RJ,hash:rIe,exists:nIe,output:iIe},_O=sIe;var xO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$0=(t,e)=>t<<32-e|t>>>e,oIe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!oIe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function aIe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function NJ(t){if(typeof t=="string"&&(t=aIe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var uIe=class{clone(){return this._cloneInto()}};function FJ(t){let e=n=>t().update(NJ(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function cIe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var fIe=class extends uIe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xO(this.buffer)}update(e){_O.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=NJ(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=xO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){_O.exists(this),_O.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;cIe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=xO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},hIe=(t,e,r)=>t&e^~t&r,lIe=(t,e,r)=>t&e^t&r^e&r,dIe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Md=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rd=new Uint32Array(64),HJ=class extends fIe{constructor(){super(64,32,8,!1),this.A=Md[0]|0,this.B=Md[1]|0,this.C=Md[2]|0,this.D=Md[3]|0,this.E=Md[4]|0,this.F=Md[5]|0,this.G=Md[6]|0,this.H=Md[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Rd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Rd[f-15],l=Rd[f-2],y=$0(p,7)^$0(p,18)^p>>>3,_=$0(l,17)^$0(l,19)^l>>>10;Rd[f]=_+Rd[f-7]+y+Rd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=$0(a,6)^$0(a,11)^$0(a,25),l=h+p+hIe(a,u,c)+dIe[f]+Rd[f]|0,_=($0(n,2)^$0(n,13)^$0(n,22))+lIe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Rd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},pIe=class extends HJ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},kO=FJ(()=>new HJ);FJ(()=>new pIe);function mIe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function gIe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function bIe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:yIe}=crypto??globalThis.crypto??window.crypto;function vIe(t=32){if(typeof yIe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function _Ie(t,e,r="be"){e===void 0&&(e=t.length),mIe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function DJ(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var xIe=new TextEncoder,SIe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function UJ(t){for(let e of SIe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function wIe(t,e,r=!1){typeof t=="string"&&(t=xIe.encode(t));let n=UJ(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function EIe(t,e){let r=UJ(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function LJ(t){return kO(kO(t))}function TIe(t){let e=LJ(t);return DJ([t,e.slice(0,4)])}function AIe(t){let e=t.slice(0,-4),r=t.slice(-4);if(LJ(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var HZ={encode:wIe,decode:EIe},qJ={encode:t=>{let e=TIe(t);return HZ.encode(e,"base58")},decode:t=>{let e=HZ.decode(t,"base58");return AIe(e)}},$J="qpzry9x8gf2tvdw0s3jn54khce6mua7l",IIe=[996825010,642813549,513874426,1027748829,705979059],Ov=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function jJ(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=IIe[i])}return e}function KJ(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function PIe(t,e,r){let n=KJ(t).concat(e);return jJ(n)===r.const}function OIe(t,e,r){let n=KJ(t).concat(e).concat([0,0,0,0,0,0]),i=jJ(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function VJ(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function BIe(t,e,r){let n=e.concat(OIe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=$J.charAt(n[s]);return i}function GJ(t){if(!CIe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!kIe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=$J.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=Ov.find(s=>s.version===e[0])??Ov[0];if(!PIe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function CIe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function kIe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function MIe(t,e="bc",r=0){let n=[r,...VJ([...t],8,5)],i=Ov.find(o=>o.version===r)??Ov[0],s=BIe(e,n,i);return zJ(s),s}function zJ(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=GJ(t),i=VJ(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function RIe(t){t=t.toLowerCase();let[e,r]=GJ(t);return r[0]}var WJ={encode:MIe,decode:zJ,version:RIe},YJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",XJ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",NIe=new TextEncoder;function ZJ(t,e=!1,r=!0){typeof t=="string"&&(t=NIe.encode(t));let n=e?XJ:YJ,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function JJ(t,e=!1){let r=e||t.includes("-")||t.includes("_")?XJ.split(""):YJ.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var QJ={encode:ZJ,decode:JJ},eQ={encode:t=>ZJ(t,!0,!1),decode:t=>JJ(t,!0)},FIe=BigInt(0),HIe=BigInt(255),tQ=BigInt(256);function DIe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function UIe(t,e,r="be"){e===void 0&&(e=DIe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>FIe;){let a=t&HIe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/tQ}return new Uint8Array(i)}function LIe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*tQ+BigInt(t[r]);return BigInt(e)}function qIe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function $Ie(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function jIe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function KIe(t,e,r="be"){e===void 0&&(e=jIe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function VIe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],bIe(e);return e}var GIe=new TextEncoder,zIe=new TextDecoder;function oB(t){return GIe.encode(t)}function SO(t){return zIe.decode(t)}function WIe(t,e){gIe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function YIe(t,e,r="le"){e=WIe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function XIe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function ZIe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return oB(e)}function JIe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return _Ie(t,e,r);if(typeof t=="string")return YIe(t,e,r);if(typeof t=="bigint")return UIe(t,e,r);if(typeof t=="number")return KIe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var yr=class extends Uint8Array{static random(e=32){let r=vIe(e);return new yr(r,e)}constructor(e,r,n){let i=JIe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new MO(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return VIe(r)}toBin(){return $Ie(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return LIe(r)}toHash(){let e=kO(this);return new yr(e)}toJson(){let e=SO(this);return JSON.parse(e)}toBech32(e,r=0){return WJ.encode(this,e,r)}toStr(){return SO(this)}toHex(){return XIe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return qJ.encode(this)}toBase64(){return QJ.encode(this)}toB64url(){return eQ.encode(this)}prepend(e){return yr.join([yr.bytes(e),this])}append(e){return yr.join([this,yr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new yr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new yr(n)}reverse(){let e=new Uint8Array(this).reverse();return new yr(e)}write(e,r){let n=yr.bytes(e);this.set(n,r)}prefixSize(e){let r=yr.varInt(this.length,e);return yr.join([r,this])}static from(e){return new yr(Uint8Array.from(e))}static of(...e){return new yr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>yr.bytes(i)),n=DJ(r);return new yr(n)}static varInt(e,r){if(e<253)return yr.num(e,1);if(e<65536)return yr.of(253,...yr.num(e,2,r));if(e<4294967296)return yr.of(254,...yr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return yr.of(255,...yr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},Ot=yr;(()=>{yr.num=QIe})(),(()=>{yr.big=tPe})(),(()=>{yr.bin=ePe})(),(()=>{yr.raw=rPe})(),(()=>{yr.str=nPe})(),(()=>{yr.hex=iPe})(),(()=>{yr.bytes=sPe})(),(()=>{yr.json=oPe})(),(()=>{yr.base64=aPe})(),(()=>{yr.b64url=uPe})(),(()=>{yr.bech32=cPe})(),(()=>{yr.b58chk=fPe})(),(()=>{yr.encode=oB})(),(()=>{yr.decode=SO})();function QIe(t,e,r){return new Ot(t,e,r)}function ePe(t,e,r){return new Ot(qIe(t),e,r)}function tPe(t,e,r){return new Ot(t,e,r)}function rPe(t,e,r){return new Ot(t,e,r)}function nPe(t,e,r){return new Ot(oB(t),e,r)}function iPe(t,e,r){return new Ot(t,e,r)}function sPe(t,e,r){return new Ot(t,e,r)}function oPe(t){return new Ot(ZIe(t))}function aPe(t){return new Ot(QJ.decode(t))}function uPe(t){return new Ot(eQ.decode(t))}function cPe(t){return new Ot(WJ.decode(t))}function fPe(t){return new Ot(qJ.decode(t))}var MO=class{constructor(e){this.data=Ot.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new Ot(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}},Bv=K0.CURVE,aB=Bv.n,hPe=Bv.p,lPe={x:Bv.Gx,y:Bv.Gy},dPe=BigInt(0),pPe=BigInt(1),mPe=BigInt(2),gPe=BigInt(3),bPe=BigInt(4),RO={N:aB,P:hPe,G:lPe,_0n:dPe,_1n:pPe,_2n:mPe,_3n:gPe,_4n:bPe},Fm=EJ(aB,32,!0),rQ=t=>Ji(t,aB);function uB(t,e=!1){if(e)throw new Error(t);return!1}function nQ(t){return Ot.random(t)}function yPe(t){let e=Ot.bytes(t).big;return Ot.big(rQ(e),32)}var vPe=Object.freeze({__proto__:null,fail:uB,mod_bytes:yPe,random:nQ}),{N:_Pe,P:_ht,_0n:xPe}=RO;function SPe(t,e,r){let n=Ot.bytes(t);return n.length!==e?uB(`Invalid byte size: ${n.hex} !== ${e}`,r):!0}function wPe(t,e){return typeof t=="bigint"&&xPe<t&&t<_Pe||uB("x value is not in the field!",e),!0}var DZ=K0.ProjectivePoint,vi=class extends Uint8Array{static mod(e){return new vi(e)}static is_valid(e,r){let n=Ot.bytes(e,32).big;return wPe(n,r)}constructor(e){let r=EPe(e);r=rQ(r),vi.is_valid(r,!0),super(Ot.big(r,32),32)}get buff(){return new Ot(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new vi(e).big>this.big}lt(e){return new vi(e).big<this.big}eq(e){return new vi(e).big===this.big}ne(e){return new vi(e).big!==this.big}add(e){let r=vi.mod(e),n=Fm.add(this.big,r.big);return new vi(n)}sub(e){let r=vi.mod(e),n=Fm.sub(this.big,r.big);return new vi(n)}mul(e){let r=vi.mod(e),n=Fm.mul(this.big,r.big);return new vi(n)}pow(e){let r=vi.mod(e),n=Fm.pow(this.big,r.big);return new vi(n)}div(e){let r=vi.mod(e),n=Fm.div(this.big,r.big);return new vi(n)}negate(){return new vi(vi.N-this.big)}generate(){let r=K0.ProjectivePoint.BASE.multiply(this.big);return lh.import(r)}},Fs=vi;(()=>{vi.N=K0.CURVE.n})();var $n=class{static from_x(e){let r=TPe(e);r.length===32&&(r=r.prepend(2)),SPe(r,33);let n=DZ.fromHex(r.hex);return n.assertValidity(),new $n(n.x,n.y)}static generate(e){let r=Fs.mod(e),n=$n.base.multiply(r.big);return $n.import(n)}static import(e){let r=e instanceof $n?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new $n(r.x,r.y)}constructor(e,r){this._p=new DZ(e,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return Ot.big(this.p.x,32)}get y(){return Ot.big(this.p.y,32)}get buff(){return Ot.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(e){let r=e instanceof $n?e:$n.from_x(e);return this.x.big===r.x.big&&this.y.big===r.y.big}add(e){return e instanceof $n?$n.import(this.p.add(e.p)):$n.import(this.p.add($n.generate(e).p))}sub(e){return e instanceof $n?$n.import(this.p.subtract(e.p)):$n.import(this.p.subtract($n.generate(e).p))}mul(e){return e instanceof $n?$n.import(this.p.multiply(e.x.big)):$n.import(this.p.multiply(Fs.mod(e).big))}negate(){return $n.import(this.p.negate())}},lh=$n;(()=>{$n.P=RO.P})(),(()=>{$n.G=RO.G})(),(()=>{$n.base=K0.ProjectivePoint.BASE})();function EPe(t){if(t instanceof Fs)return t.big;if(t instanceof lh)return t.x.big;if(t instanceof Uint8Array)return Ot.raw(t).big;if(typeof t=="string")return Ot.hex(t).big;if(typeof t=="number")return Ot.num(t).big;if(typeof t=="bigint")return BigInt(t);throw TypeError("Invalid input type:"+typeof t)}function TPe(t){if(t instanceof Fs)return t.point.buff;if(t instanceof lh)return t.buff;if(t instanceof Uint8Array||typeof t=="string")return Ot.bytes(t);if(typeof t=="number"||typeof t=="bigint")return Ot.bytes(t,32);throw new TypeError(`Unknown type: ${typeof t}`)}function NO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function APe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function iQ(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function IPe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");NO(t.outputLen),NO(t.blockLen)}function PPe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function OPe(t,e){iQ(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var BPe={number:NO,bool:APe,bytes:iQ,hash:IPe,exists:PPe,output:OPe},W1=BPe;var CPe=t=>t instanceof Uint8Array,wO=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),j0=(t,e)=>t<<32-e|t>>>e,kPe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kPe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function MPe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function cB(t){if(typeof t=="string"&&(t=MPe(t)),!CPe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var Cv=class{clone(){return this._cloneInto()}};function u7(t){let e=n=>t().update(cB(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function RPe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Um=class extends Cv{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wO(this.buffer)}update(e){W1.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=cB(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=wO(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){W1.exists(this),W1.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;RPe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=wO(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},NPe=(t,e,r)=>t&e^~t&r,FPe=(t,e,r)=>t&e^t&r^e&r,HPe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fd=new Uint32Array(64),kv=class extends Um{constructor(){super(64,32,8,!1),this.A=Nd[0]|0,this.B=Nd[1]|0,this.C=Nd[2]|0,this.D=Nd[3]|0,this.E=Nd[4]|0,this.F=Nd[5]|0,this.G=Nd[6]|0,this.H=Nd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Fd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Fd[f-15],l=Fd[f-2],y=j0(p,7)^j0(p,18)^p>>>3,_=j0(l,17)^j0(l,19)^l>>>10;Fd[f]=_+Fd[f-7]+y+Fd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=j0(a,6)^j0(a,11)^j0(a,25),l=h+p+NPe(a,u,c)+HPe[f]+Fd[f]|0,_=(j0(n,2)^j0(n,13)^j0(n,22))+FPe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Fd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},FO=class extends kv{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Mv=u7(()=>new kv);u7(()=>new FO);var bv=BigInt(2**32-1),HO=BigInt(32);function sQ(t,e=!1){return e?{h:Number(t&bv),l:Number(t>>HO&bv)}:{h:Number(t>>HO&bv)|0,l:Number(t&bv)|0}}function DPe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=sQ(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}var UPe=(t,e)=>BigInt(t>>>0)<<HO|BigInt(e>>>0),LPe=(t,e,r)=>t>>>r,qPe=(t,e,r)=>t<<32-r|e>>>r,$Pe=(t,e,r)=>t>>>r|e<<32-r,jPe=(t,e,r)=>t<<32-r|e>>>r,KPe=(t,e,r)=>t<<64-r|e>>>r-32,VPe=(t,e,r)=>t>>>r-32|e<<64-r,GPe=(t,e)=>e,zPe=(t,e)=>t,WPe=(t,e,r)=>t<<r|e>>>32-r,YPe=(t,e,r)=>e<<r|t>>>32-r,XPe=(t,e,r)=>e<<r-32|t>>>64-r,ZPe=(t,e,r)=>t<<r-32|e>>>64-r;function JPe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var QPe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),eOe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,tOe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),rOe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,nOe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),iOe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,sOe={fromBig:sQ,split:DPe,toBig:UPe,shrSH:LPe,shrSL:qPe,rotrSH:$Pe,rotrSL:jPe,rotrBH:KPe,rotrBL:VPe,rotr32H:GPe,rotr32L:zPe,rotlSH:WPe,rotlSL:YPe,rotlBH:XPe,rotlBL:ZPe,add:JPe,add3L:QPe,add3H:eOe,add4L:tOe,add4H:rOe,add5H:iOe,add5L:nOe},dr=sOe,[oOe,aOe]=dr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hd=new Uint32Array(80),Dd=new Uint32Array(80),O2=class extends Um{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:h,Fh:f,Fl:p,Gh:l,Gl:y,Hh:_,Hl:O}=this;return[e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O]}set(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=l|0,this.Gl=y|0,this.Hh=_|0,this.Hl=O|0}process(e,r){for(let E=0;E<16;E++,r+=4)Hd[E]=e.getUint32(r),Dd[E]=e.getUint32(r+=4);for(let E=16;E<80;E++){let I=Hd[E-15]|0,U=Dd[E-15]|0,N=dr.rotrSH(I,U,1)^dr.rotrSH(I,U,8)^dr.shrSH(I,U,7),H=dr.rotrSL(I,U,1)^dr.rotrSL(I,U,8)^dr.shrSL(I,U,7),D=Hd[E-2]|0,C=Dd[E-2]|0,d=dr.rotrSH(D,C,19)^dr.rotrBH(D,C,61)^dr.shrSH(D,C,6),v=dr.rotrSL(D,C,19)^dr.rotrBL(D,C,61)^dr.shrSL(D,C,6),g=dr.add4L(H,v,Dd[E-7],Dd[E-16]),m=dr.add4H(g,N,d,Hd[E-7],Hd[E-16]);Hd[E]=m|0,Dd[E]=g|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:h,Eh:f,El:p,Fh:l,Fl:y,Gh:_,Gl:O,Hh:F,Hl:B}=this;for(let E=0;E<80;E++){let I=dr.rotrSH(f,p,14)^dr.rotrSH(f,p,18)^dr.rotrBH(f,p,41),U=dr.rotrSL(f,p,14)^dr.rotrSL(f,p,18)^dr.rotrBL(f,p,41),N=f&l^~f&_,H=p&y^~p&O,D=dr.add5L(B,U,H,aOe[E],Dd[E]),C=dr.add5H(D,F,I,N,oOe[E],Hd[E]),d=D|0,v=dr.rotrSH(n,i,28)^dr.rotrBH(n,i,34)^dr.rotrBH(n,i,39),g=dr.rotrSL(n,i,28)^dr.rotrBL(n,i,34)^dr.rotrBL(n,i,39),m=n&s^n&a^s&a,S=i&o^i&u^o&u;F=_|0,B=O|0,_=l|0,O=y|0,l=f|0,y=p|0,{h:f,l:p}=dr.add(c|0,h|0,C|0,d|0),c=a|0,h=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let w=dr.add3L(d,g,S);n=dr.add3H(w,C,v,m),i=w|0}({h:n,l:i}=dr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=dr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=dr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:h}=dr.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:f,l:p}=dr.add(this.Eh|0,this.El|0,f|0,p|0),{h:l,l:y}=dr.add(this.Fh|0,this.Fl|0,l|0,y|0),{h:_,l:O}=dr.add(this.Gh|0,this.Gl|0,_|0,O|0),{h:F,l:B}=dr.add(this.Hh|0,this.Hl|0,F|0,B|0),this.set(n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B)}roundClean(){Hd.fill(0),Dd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},DO=class extends O2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},UO=class extends O2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},LO=class extends O2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},uOe=u7(()=>new O2);u7(()=>new DO);u7(()=>new UO);u7(()=>new LO);var cOe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),oQ=Uint8Array.from({length:16},(t,e)=>e),fOe=oQ.map(t=>(9*t+5)%16),fB=[oQ],hB=[fOe];for(let t=0;t<4;t++)for(let e of[fB,hB])e.push(e[t].map(r=>cOe[r]));var aQ=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),hOe=fB.map((t,e)=>t.map(r=>aQ[e][r])),lOe=hB.map((t,e)=>t.map(r=>aQ[e][r])),dOe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),pOe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),yv=(t,e)=>t<<e|t>>>32-e;function UZ(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var vv=new Uint32Array(16),qO=class extends Um{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)vv[l]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,u=a,c=this.h3|0,h=c,f=this.h4|0,p=f;for(let l=0;l<5;l++){let y=4-l,_=dOe[l],O=pOe[l],F=fB[l],B=hB[l],E=hOe[l],I=lOe[l];for(let U=0;U<16;U++){let N=yv(n+UZ(l,s,a,c)+vv[F[U]]+_,E[U])+f|0;n=f,f=c,c=yv(a,10)|0,a=s,s=N}for(let U=0;U<16;U++){let N=yv(i+UZ(y,o,u,h)+vv[B[U]]+O,I[U])+p|0;i=p,p=h,h=yv(u,10)|0,u=o,o=N}}this.set(this.h1+a+h|0,this.h2+c+p|0,this.h3+f+i|0,this.h4+n+o|0,this.h0+s+u|0)}roundClean(){vv.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},mOe=u7(()=>new qO),Rv=class extends Cv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,W1.hash(e);let n=cB(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return W1.exists(this),this.iHash.update(e),this}digestInto(e){W1.exists(this),W1.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},uQ=(t,e,r)=>new Rv(t,e).update(r).digest();uQ.create=(t,e)=>new Rv(t,e);function gOe(t){let e=Ot.bytes(t);return Ot.raw(Mv(e))}function dh(t){let e=Ot.bytes(t);return Ot.raw(Mv(Mv(e)))}function Yv(t){let e=Ot.bytes(t);return Ot.raw(mOe(Mv(e)))}function bOe(t,e){let r=Ot.bytes(t),n=Ot.bytes(e);return Ot.raw(uQ(uOe,r,n))}function yOe(t){let e=Ot.str(t).digest;return Ot.join([e,e])}function vOe(t=32){return lB(nQ(t))}function lB(t){return Fs.mod(t).buff}function cQ(t,e=!1){let r=Fs.mod(t).point;return e?r.x:r.buff}function fQ(t,e){let r=lh.from_x(e),n=Fs.mod(t);return r.mul(n).buff}function _Oe(t,e,r="ecdh/code"){let n=yOe(r),i=lB(t),s=cQ(i),o=Ot.bytes(e),a=fQ(i,o),u=[s.hex,o.hex];return u.sort(),bOe(a,Ot.join([n,...u]))}function xOe(t){let e=Ot.bytes(t);switch(!0){case e.length===32:return!0;case(e.length===33&&e[0]===2):return!0;case(e.length===33&&e[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${e.hex}`)}}function SOe(t){let e=Ot.bytes(t);switch(e.length){case 32:return e;case 33:return e.slice(1,33);default:throw new Error(`Invalid key length: ${e.length}`)}}var wOe=Object.freeze({__proto__:null,genSecretKey:vOe,getPublicKey:cQ,getSecretKey:lB,getSharedCode:_Oe,getSharedKey:fQ,is_even_pub:xOe,xonly_pub:SOe});Ot.random(32);var hQ={secp:K0,schnorr:JAe},$O={...wOe,...vPe};function Xv(t){let e=he.bytes(t);return W0(e,33),Yv(e)}function lQ(t){let e=Hs.fmt.toBytes(t,!1);return Yv(e)}function dQ(t){let e=Hs.fmt.toBytes(t,!1);return gOe(e)}function pQ(t,e="main"){let r=e==="main"?["1"]:["m","n"];for(let n of r)if(t.startsWith(n))return!0;return!1}function mQ(t,e="main"){let r=he.bytes(t),n=e==="main"?he.num(0):he.num(111);return W0(t,20),r.prepend(n).tob58chk()}function EOe(t,e="main"){if(!pQ(t,e))throw new TypeError("Invalid p2pkh address!");return he.b58chk(t).slice(1)}function TOe(t){let e=he.bytes(t);return W0(e,20),["OP_DUP","OP_HASH160",e.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function AOe(t,e){let r=Xv(t);return mQ(r,e)}var gQ={check:pQ,encode:mQ,decode:EOe,hash:Xv,scriptPubKey:TOe,fromPubKey:AOe};function bQ(t,e="main"){let r=e==="main"?["3"]:["2"];for(let n of r)if(t.startsWith(n))return!0;return!1}function yQ(t,e="main"){let r=e==="main"?he.num(5):he.num(196),n=he.bytes(t);return W0(n,20),n.prepend(r).tob58chk()}function IOe(t,e="main"){if(!bQ(t,e))throw new TypeError(`Invalid p2sh address for network ${e}:`+t);return he.b58chk(t).slice(1)}function POe(t){return["OP_HASH160",he.bytes(t).hex,"OP_EQUAL"]}function OOe(t,e){let r=lQ(t);return yQ(r,e)}var vQ={check:bQ,encode:yQ,decode:IOe,hash:lQ,scriptPubKey:POe,fromScript:OOe},dB={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},BOe=["bc1q","tb1q","bcrt1q"];function _Q(t){for(let e of BOe)if(t.startsWith(e))return!0;return!1}function xQ(t,e="main"){let r=dB[e],n=he.bytes(t);return W0(n,20),n.toBech32(r,0)}function COe(t){if(!_Q(t))throw new TypeError("Invalid segwit address!");return he.bech32(t)}function kOe(t){let e=he.bytes(t);return W0(e,20),["OP_0",e.hex]}function MOe(t,e){let r=Xv(t);return xQ(r,e)}var SQ={check:_Q,encode:xQ,decode:COe,hash:Xv,scriptPubKey:kOe,fromPubKey:MOe},ROe=["bc1q","tb1q","bcrt1q"];function wQ(t){for(let e of ROe)if(t.startsWith(e))return!0;return!1}function EQ(t,e="main"){let r=dB[e],n=he.bytes(t);return W0(n,32),n.toBech32(r,0)}function NOe(t){if(!wQ(t))throw new TypeError("Invalid segwit address!");return he.bech32(t)}function FOe(t){let e=he.bytes(t);return W0(e,32),["OP_0",e.hex]}function HOe(t,e){let r=dQ(t);return EQ(r,e)}var TQ={check:wQ,encode:EQ,decode:NOe,hash:dQ,scriptPubKey:FOe,fromScript:HOe};function Y1(t){let e=he.bytes(t);return e.length>32?e.slice(1,33):e}var DOe=["bc1p","tb1p","bcrt1p"];function AQ(t){for(let e of DOe)if(t.startsWith(e))return!0;return!1}function IQ(t,e="main"){let r=dB[e],n=he.bytes(t);return W0(n,32),n.toBech32(r,1)}function UOe(t){if(!AQ(t))throw new TypeError("Invalid taproot address!");return he.bech32(t)}function LOe(t){let e=he.bytes(t);return W0(e,32),["OP_1",e.hex]}function qOe(t,e){let r=Y1(t);return IQ(r,e)}var PQ={check:AQ,encode:IQ,decode:UOe,scriptPubKey:LOe,fromPubKey:qOe},$Oe={version:2,vin:[],vout:[],locktime:0},jOe={scriptSig:[],sequence:4294967293,witness:[]},KOe={value:0n,scriptPubKey:[]};function pB(t){let e={...$Oe,...t};return e.vin=e.vin.map(r=>({...jOe,...r})),e.vout=e.vout.map(r=>({...KOe,...r})),e}function B2(t,e){let{version:r,vin:n,vout:i,locktime:s}=pB(t),o=e!==!0&&VOe(n),a=[mB(r)];o&&a.push(he.hex("0001")),a.push(GOe(n)),a.push(zOe(i));for(let u of n)o&&a.push(YOe(u.witness));return a.push(gB(s)),he.join(a)}function VOe(t){for(let e of t){let{witness:r}=e;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function mB(t){return he.num(t,4).reverse()}function qm(t){return he.hex(t,32).reverse()}function $m(t){return he.num(t,4).reverse()}function jm(t){if(typeof t=="string")return he.hex(t,4).reverse();if(typeof t=="number")return he.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function GOe(t){let e=[he.varInt(t.length,"le")];for(let r of t){let{txid:n,vout:i,scriptSig:s,sequence:o}=r;e.push(qm(n)),e.push($m(i)),e.push(zd(s,!0)),e.push(jm(o))}return he.join(e)}function Kd(t){if(typeof t=="number"){if(t%1!==0)throw new Error("Value must be an integer:"+String(t));return he.num(t,8).reverse()}return he.big(t,8).reverse()}function zOe(t){let e=[he.varInt(t.length,"le")];for(let r of t)e.push(WOe(r));return he.join(e)}function WOe(t){let{value:e,scriptPubKey:r}=t,n=[];return n.push(Kd(e)),n.push(zd(r,!0)),he.join(n)}function YOe(t=[]){let e=[];if(Array.isArray(t)){let r=he.varInt(t.length);e.push(r);for(let n of t)e.push(XOe(n));return he.join(e)}else return he.bytes(t)}function XOe(t){return ZOe(t)?new he(0):zd(t,!0)}function ZOe(t){if(Array.isArray(t))return t.length===0;if(typeof t=="string"&&t==="")return!0;let e=he.bytes(t);return e.length===1&&e[0]===0}function gB(t){if(typeof t=="string")return he.hex(t,4);if(typeof t=="number")return he.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function bB(t){typeof t=="string"&&(t=he.hex(t).raw);let e=new H2(t),r=JOe(e),n=QOe(e),i=eBe(e),s=rBe(e);if(n)for(let a of i)a.witness=iBe(e);let o=sBe(e);return{version:r,vin:i,vout:s,locktime:o}}function JOe(t){return t.read(4).reverse().toNum()}function QOe(t){let[e,r]=[...t.peek(2)];if(e===0){if(t.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function eBe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(tBe(t));return e}function tBe(t){return{txid:t.read(32).reverse().toHex(),vout:t.read(4).reverse().toNum(),scriptSig:BQ(t,!0),sequence:t.read(4).reverse().toHex(),witness:[]}}function rBe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(nBe(t));return e}function nBe(t){return{value:t.read(8).reverse().big,scriptPubKey:BQ(t,!0)}}function iBe(t){let e=[],r=t.readSize();for(let n=0;n<r;n++){let i=OQ(t,!0);e.push(i??"")}return e}function OQ(t,e){let r=e===!0?t.readSize("le"):t.size;return r>0?t.read(r).hex:null}function BQ(t,e){let r=OQ(t,e);return r!==null?r:[]}function sBe(t){return t.read(4).reverse().toNum()}function oBe(t){if(dJ(t))return bB(t);if(typeof t=="object"&&!(t instanceof Uint8Array))return B2(t),pB(t);throw new Error("Invalid format: "+String(typeof t))}function aBe(t){if(dJ(t))return bB(t),he.bytes(t);if(typeof t=="object")return B2(t);throw new Error("Invalid format: "+String(typeof t))}var yB={toBytes:aBe,toJson:oBe},uBe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],cBe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function fBe(t){let e=t.at(-1);return bh(e)&&(e=he.hex(e)),t.length>1&&e instanceof Uint8Array&&e[0]===80?(t.pop(),he.raw(e)):null}function hBe(t){let e=t.at(-1);return bh(e)&&(e=he.hex(e)),t.length>1&&e instanceof Uint8Array&&e.length>32&&cBe.includes(e[0]&254)?(t.pop(),he.raw(e)):null}function lBe(t){if(t.length>1){let e=t.at(-1);try{let r=Hs.fmt.toBytes(e);return t.pop(),r}catch{return null}}return null}function dBe(t){let e=[];for(let r of t)if(bh(r)||r instanceof Uint8Array||typeof r=="number")e.push(he.bytes(r));else throw new Error("unrecognized value: "+String(r));return e}function CQ(t=[]){let e=[...t],r=fBe(e),n=hBe(e),i=lBe(e),s=dBe(e);return{annex:r,cblock:n,script:i,params:s}}function vB(t){let e=Hs.fmt.toBytes(t,!1).hex;for(let[r,n]of uBe){let i=r,{groups:s}=n.exec(e)??{},{hash:o}=s??{};if(bh(o))return{type:i,data:he.hex(o)}}return{type:"raw",data:he.hex(e)}}function pBe(t){let e=yB.toJson(t),r=B2(e,!0);return dh(r).reverse().hex}function mBe(t){let e=yB.toJson(t),r=B2(e,!0).length,n=B2(e,!1).length,i=r*3+n,s=i%4>0?1:0,o=Math.floor(i/4)+s;return{size:n,bsize:r,vsize:o,weight:i}}var Oa={create:pB,encode:B2,decode:bB,fmt:yB,util:{getTxSize:mBe,getTxid:pBe,readScriptPubKey:vB,readWitness:CQ}},gBe=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function bBe(t,e){switch(e){case"base58":return he.b58chk(t).slice(1);case"bech32":return he.bech32(t);case"bech32m":return he.bech32(t);default:throw new Error("Invalid address format: "+e)}}function yBe(t){for(let e of gBe){let[r,n,i,s,o]=e;if(t.startsWith(r)&&bBe(t,o).length===s)return e}throw new Error("Invalid address: "+t)}function kQ(t){switch(t){case"p2pkh":return gQ;case"p2sh":return vQ;case"p2w-pkh":return SQ;case"p2w-sh":return TQ;case"p2tr":return PQ;default:throw new Error("Invalid address type: "+t)}}function MQ(t){let[e,r,n]=yBe(t),i=kQ(r),s=i.decode(t,n),o=i.scriptPubKey(s);return{prefix:e,type:r,network:n,data:s,script:o}}function vBe(t,e){let{type:r,data:n}=Oa.util.readScriptPubKey(t);return kQ(r).encode(n,e)}function _Be(t){let{script:e}=MQ(t);return Hs.fmt.toAsm(e,!1)}var xBe={p2pkh:gQ,p2sh:vQ,p2wpkh:SQ,p2wsh:TQ,p2tr:PQ,decode:MQ,fromScriptPubKey:vBe,toScriptPubKey:_Be},SBe=[1,2,3];function _B(t,e,r={}){let{sigflag:n=1}=r,i=(n&128)===128,s=n%128;if(!SBe.includes(s))throw new Error("Invalid hash type: "+String(n));let o=Oa.fmt.toJson(t),{version:a,vin:u,vout:c,locktime:h}=o,{txid:f,vout:p,prevout:l,sequence:y}=u[e],{value:_}=l??{};if(_===void 0)throw new Error("Prevout value is empty!");let O=r.script;if(O===void 0&&r.pubkey!==void 0&&(O=`76a914${Yv(r.pubkey).hex}88ac`),O===void 0)throw new Error("No pubkey / script has been set!");if(Hs.fmt.toAsm(O).includes("OP_CODESEPARATOR"))throw new Error("This library does not currently support the use of OP_CODESEPARATOR in segwit scripts.");let F=[mB(a),wBe(u,i),EBe(u,s,i),qm(f),$m(p),Hs.encode(O,!0),Kd(_),jm(y),TBe(c,e,s),gB(h),he.num(n,4).reverse()];return dh(he.join(F))}function wBe(t,e){if(e===!0)return he.num(0,32);let r=[];for(let{txid:n,vout:i}of t)r.push(qm(n)),r.push($m(i));return dh(he.join(r))}function EBe(t,e,r){if(r||e!==1)return he.num(0,32);let n=[];for(let{sequence:i}of t)n.push(jm(i));return dh(he.join(n))}function TBe(t,e,r){let n=[];if(r===1){for(let{value:i,scriptPubKey:s}of t)n.push(Kd(i)),n.push(Hs.encode(s,!0));return dh(he.join(n))}if(r===3&&e<t.length){let{value:i,scriptPubKey:s}=t[e];return n.push(Kd(i)),n.push(Hs.encode(s,!0)),dh(he.join(n))}return he.num(0,32)}function ABe(t,e,r,n={}){let{sigflag:i=1}=n,s=_B(e,r,n),o=hQ.secp.sign(s,t).toDERRawBytes(!0);return he.join([o,i])}function IBe(t,e,r={}){let n=Oa.fmt.toJson(t),{throws:i=!1}=r,{witness:s=[]}=n.vin[e],o=Oa.util.readWitness(s),{script:a,params:u}=o,c=null;if(u.length<1)return no("Invalid witness data: "+String(s),i);if(r.script===void 0&&a!==null&&(r.script=a),r.pubkey!==void 0)c=he.bytes(r.pubkey);else if(u.length>1&&u[1].length===33)c=he.bytes(u[1]);else return no("No pubkey provided!",i);let h=Hs.fmt.toParam(u[0]),f=h.slice(0,-1),p=h.slice(-1)[0],l=_B(n,e,{...r,sigflag:p});return hQ.secp.verify(f,l,c)?!0:no("Invalid signature!",i)}var PBe={hash:_B,sign:ABe,verify:IBe},OBe=[0,1,2,3,129,130,131];function xB(t,e,r={}){let{extension:n,sigflag:i=0,extflag:s=0,key_version:o=0,separator_pos:a=4294967295}=r,u=Oa.fmt.toJson(t),{version:c,vin:h,vout:f,locktime:p}=u;if(e>=h.length)throw new Error("Index out of bounds: "+String(e));if(!OBe.includes(i))throw new Error("Invalid hash type: "+String(i));if(s<0||s>127)throw new Error("Extention flag out of range: "+String(s));let{txid:l,vout:y,sequence:_,witness:O=[]}=h[e],F=(i&128)===128,B=FBe(O),E=B!==void 0?1:0,U=(s+(n!==void 0?1:0))*2+E,N=he.str("TapSighash").digest,H=[N,N,he.num(0,1),he.num(i,1),mB(c),gB(p)];if(!F){let D=h.map(C=>LZ(C));H.push(BBe(h),kBe(D),MBe(D),CBe(h))}if(((i&3)<2||(i&3)>3)&&H.push(RBe(f)),H.push(he.num(U,1)),F){let{value:D,scriptPubKey:C}=LZ(h[e]);H.push(qm(l),$m(y),Kd(D),Hs.encode(C,!0),jm(_))}else H.push(he.num(e,4).reverse());return B!==void 0&&H.push(B),(i&3)===3&&H.push(NBe(f[e])),n!==void 0&&H.push(he.bytes(n),he.num(o),he.num(a,4,"le")),he.join(H).digest}function BBe(t){let e=[];for(let{txid:r,vout:n}of t)e.push(qm(r)),e.push($m(n));return he.join(e).digest}function CBe(t){let e=[];for(let{sequence:r}of t)e.push(jm(r));return he.join(e).digest}function kBe(t){let e=[];for(let{value:r}of t)e.push(Kd(r));return he.join(e).digest}function MBe(t){let e=[];for(let{scriptPubKey:r}of t)e.push(zd(r,!0));return he.join(e).digest}function RBe(t){let e=[];for(let{value:r,scriptPubKey:n}of t)e.push(Kd(r)),e.push(Hs.encode(n,!0));return he.join(e).digest}function NBe(t){return he.join([Kd(t.value),Hs.encode(t.scriptPubKey,!0)]).digest}function FBe(t){if(t===void 0||t.length<2)return;let e=t.at(-1);if(typeof e=="string"&&(e=he.hex(e)),e instanceof Uint8Array&&e[0]===80)return he.raw(e).prefixSize("be").digest}function LZ(t){if(t.prevout===void 0)throw new Error("Prevout data missing for input: "+String(t.txid));return t.prevout}var HBe=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,DBe=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function UBe(t,e,r,n={}){let{sigflag:i=0}=n,s=xB(e,r,n),o=LBe(t,s);return i===0?he.raw(o):he.join([o,i])}function LBe(t,e,r=he.random(32)){let n=he.bytes(e),i=new Fs(t),s=i.point,o=s.hasEvenY?i.big:i.negated.big,a=_v("BIP0340/aux",he.bytes(r)),u=o^a.big,c=_v("BIP0340/nonce",u,s.x.raw,n),h=new Fs(c),f=h.point,p=f.hasEvenY?h.big:h.negated.big,l=new Fs(_v("BIP0340/challenge",f.x.raw,s.x.raw,n)),y=new Fs(p+l.big*o);return he.join([f.x.raw,y.raw])}function qBe(t,e,r,n=!1){let i=lh.from_x(Y1(r)),s=he.bytes(e),o=he.bytes(t).stream;o.size<64&&no("Signature length is too small: "+String(o.size),n);let a=o.read(32);a.big>HBe&&no("Signature r value greater than field size!",n);let u=o.read(32);u.big>DBe&&no("Signature s value greater than curve order!",n);let c=new Fs(_v("BIP0340/challenge",a.raw,i.x.raw,s)),h=new Fs(u).point,f=i.mul(c.big),p=h.sub(f);return p.hasOddY&&no("Signature R value has odd Y coordinate!",n),p.x.big===0n&&no("Signature R value is infinite!",n),p.x.big===a.big}var $Be=192;function Zv(t){let e=he.str(t).digest;return he.join([e,e])}function SB(t,e=$Be){return he.join([Zv("TapLeaf"),VBe(e),he.bytes(t)]).digest.hex}function jBe(t,e){return SB(Hs.fmt.toBytes(t),e)}function wB(t,e){return e<t&&([t,e]=[e,t]),he.join([Zv("TapBranch"),he.hex(t).raw,he.hex(e).raw]).digest.hex}function KBe(t){return he.hex(Nv(t)[0])}function Nv(t,e,r=[]){let n=[],i=[];if(t.length<1)throw new Error("Tree is empty!");for(let s=0;s<t.length;s++){let o=t[s];if(Array.isArray(o)){let[a,u,c]=Nv(o,e);e=u,n.push(a);for(let h of c)r.push(h)}else n.push(o)}if(n.length===1)return[n[0],e,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let s=0;s<n.length-1;s+=2){let o=wB(n[s],n[s+1]);i.push(o),typeof e=="string"&&(e===n[s]?(r.push(n[s+1]),e=o):e===n[s+1]&&(r.push(n[s]),e=o))}return Nv(i,e,r)}function VBe(t=192){return t&254}function RQ(t,e=new Uint8Array,r=!1){let n=r?new Fs(t).point.x.raw:Y1(t);return he.join([Zv("TapTweak"),n,he.bytes(e)]).digest}function A2(t,e,r=!1){e===void 0&&(e=new Uint8Array);let n=he.bytes(t),i=RQ(t,e,r);return r?NQ(n,i):FQ(n,i)}function GBe(t,e){return A2(t,e)}function zBe(t,e){return A2(t,e,!0)}function NQ(t,e){let r=new Fs(t);return r.point.hasOddY&&(r=r.negate()),he.raw(r.add(e).raw)}function FQ(t,e){t=Y1(t);let n=lh.from_x(t).add(e);return he.raw(n.raw)}function WBe(){let t=he.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return lh.from_x(t.digest).x}var YBe=WBe(),XBe=192;function ZBe(t,e={}){return HQ(t,{...e,isPrivate:!0})}function JBe(t,e={}){return HQ(t,{...e,isPrivate:!1})}function HQ(t,e={}){let{isPrivate:r=!1,tree:n=[],version:i=XBe}=e,s=r?$O.getPublicKey(t,!0):Y1(t),{target:o}=e;o!==void 0&&(o=he.bytes(o).hex);let a,u=[];if(n.length>0){let[l,y,_]=Nv(n,o);u=_,a=A2(t,l,r)}else o!==void 0?a=A2(t,o,r):a=A2(t,void 0,r);let c=r?$O.getPublicKey(a)[0]:a[0],f=[he.num(i+UQ(c)),s];u.length>0&&u.forEach(l=>f.push(he.hex(l)));let p=he.join(f);if(o!==void 0&&!EB(a,o,p,e))throw new Error("Path checking failed! Unable to generate path.");return[Y1(a).hex,p.hex]}function EB(t,e,r,n={}){let{isPrivate:i=!1,throws:s=!1}=n,{parity:o,paths:a,intkey:u}=DQ(r),c=i?$O.getPublicKey(t,!0):Y1(t),h=he.join([o,c]);if(h.length!==33)return no("Invalid tapkey: "+h.hex,s);let f=he.bytes(e).hex;for(let l of a)f=wB(f,l);let p=A2(u,f);return he.raw(p).hex===he.raw(h).hex}function DQ(t){let e=new H2(he.bytes(t)),r=e.read(1).num,n=e.read(32),[i,s]=r%2===0?[r,2]:[r-1,3],o=[];for(;e.size>=32;)o.push(e.read(32).hex);if(e.size!==0)throw new Error("Non-empty buffer on control block: "+String(e));return{intkey:n,paths:o,parity:s,version:i}}function UQ(t=2){if(t===0||t===1)return t;if(t===2||t==="02")return 0;if(t===3||t==="03")return 1;throw new Error("Invalid parity bit: "+String(t))}function QBe(t,e,r={}){let n=Oa.fmt.toJson(t),{throws:i=!1}=r,{prevout:s,witness:o=[]}=n.vin[e],a=Oa.util.readWitness(o),{cblock:u,script:c,params:h}=a,f;if(h.length<1)return no("Invalid witness data: "+String(o),i);let{scriptPubKey:p}=s??{};if(p===void 0)return no("Prevout scriptPubKey is empty!",i);let{type:l,data:y}=Oa.util.readScriptPubKey(p);if(l!=="p2tr")return no("Prevout script is not a valid taproot output:"+y.hex,i);if(y.length!==32)return no("Invalid tapkey length: "+String(y.length),i);if(u!==null&&c!==null){let E=u[0]&254,I=SB(c,E);if(r.extension=I,!EB(y,I,u,{throws:i}))return no("cblock verification failed!",i)}r.pubkey!==void 0?f=he.bytes(r.pubkey):h.length>1&&h[1].length===32?f=he.bytes(h[1]):f=he.bytes(y);let _=Hs.fmt.toParam(h[0]),O=new H2(_),F=O.read(64).raw;if(O.size===1&&(r.sigflag=O.read(1).num,r.sigflag===0))return no("0x00 is not a valid appended sigflag!",i);let B=xB(n,e,r);return qBe(F,B,f,i)?!0:no("Invalid signature!",i)}var eCe={hash:xB,sign:UBe,verify:QBe},jO={segwit:PBe,taproot:eCe},LQ={getTag:Zv,getLeaf:SB,getBranch:wB,getRoot:KBe},tCe={readCtrlBlock:DQ,readParityBit:UQ},rCe={getPubKey:GBe,getSecKey:zBe,getTweak:RQ,tweakSecKey:NQ,tweakPubKey:FQ},nCe={getPubKey:JBe,getSecKey:ZBe,encodeScript:jBe,checkPath:EB,tree:LQ,tweak:rCe,util:tCe,SCRIPT_PUBKEY:YBe},Fv=class{constructor(e){this._buff=he.raw(zd(e))}get raw(){return this._buff.raw}get hex(){return this._buff.hex}get asm(){return Kv(this._buff)}getHash(e,r){switch(e){case"p2w":return dh(this._buff).hex;case"p2sh":return Yv(this._buff).hex;case"p2tr":return LQ.getLeaf(this._buff,r);default:throw new Error("Unrecognized format: "+e)}}toJSON(){return this.asm??[]}},qZ=4294967295,iCe=1<<31,K1=512,sCe=1<<22,Hv=class{constructor(e){typeof e=="string"?this.value=parseInt(e,16):this.value=e}get isReplaceable(){return this.value<qZ}get isLocked(){return!(this.value!==qZ||(this.value&iCe)!==0)}get isTimelock(){return(this.value&sCe)!==0}get timestamp(){return this.isLocked?this.isTimelock?this.value*K1:this.value*K1*600:0}set timestamp(e){this.value=Math.ceil(e/K1)}get blockheight(){return this.isLocked?this.isTimelock?Math.ceil(this.value*K1/600):this.value:0}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*K1*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){let r=e.getTime()-Date.now();this.value=r>K1*1e3?Math.ceil(r/1e3/K1):1}toJSON(){return this.value}},TB=class{constructor(e){this.value=BigInt(e.value),this.scriptPubKey=new Fv(e.scriptPubKey)}get type(){let{type:e}=vB(this.scriptPubKey.raw);return e}},Dv=class{constructor(e,r){this._data=e,this._meta=CQ(e),this.format=r}get length(){return this._data.length}get annex(){let e=this._meta.annex;return e!==null?he.raw(e).hex:void 0}get cblock(){let e=this._meta.cblock;return e!==null?he.raw(e).hex:void 0}get script(){let e=this._meta.script;return e!==null?Hs.decode(e):void 0}get params(){return this._meta.params}toJSON(){return this._data}},qQ=class{constructor(e,r){this._tx=e,this.idx=r}get data(){return this._tx.vin[this.idx]}get txid(){return this.data.txid}get vout(){return this.data.vout}get prevout(){return this.data.prevout!==void 0?new TB(this.data.prevout):void 0}get scriptSig(){return new Fv(this.data.scriptSig)}get sequence(){return new Hv(this.data.sequence)}get witness(){return new Dv(this.data.witness)}get type(){if(this.prevout!==void 0){let e=this.prevout.scriptPubKey.raw,{type:r}=vB(e);if(r==="p2sh"){let n=this.scriptSig.asm;if(n[0]==="OP_0"){if(n[1].length===20)return"p2w-p2pkh";if(n[1].length===32)return"p2w-p2sh"}return"p2sh"}return r}return"raw"}sign(e,r){if(this.type.startsWith("p2w"))return jO.segwit.sign(e,this._tx,this.idx,r);if(this.type.startsWith("p2tr"))return jO.taproot.sign(e,this._tx,this.idx,r);throw this.type.startsWith("p2pkh")||this.type.startsWith("p2sh")?new Error("This library does not support signing legacy transactions."):new Error("Unable to sign this input type:"+String(this.type))}},oCe=5e8,KO=class{constructor(e=0){this.value=he.bytes(e).num}get isTimelock(){return this.value>oCe}get timestamp(){return this.isTimelock?this.value:this.value*600}set timestamp(e){this.value=e}get blockheight(){return this.isTimelock?Math.floor(this.value/600):this.value}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){this.value=Math.floor((e.getTime()-Date.now())/1e3)}toJSON(){return this.value}},$r;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})($r||($r={}));var VO;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(VO||(VO={}));var $e=$r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ld=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Me=$r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),aCe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Ca=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,$r.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ca.create=t=>new Ca(t);var Lm=(t,e)=>{let r;switch(t.code){case Me.invalid_type:t.received===$e.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,$r.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:r=`Unrecognized key(s) in object: ${$r.joinValues(t.keys,", ")}`;break;case Me.invalid_union:r="Invalid input";break;case Me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$r.joinValues(t.options)}`;break;case Me.invalid_enum_value:r=`Invalid enum value. Expected ${$r.joinValues(t.options)}, received '${t.received}'`;break;case Me.invalid_arguments:r="Invalid function arguments";break;case Me.invalid_return_type:r="Invalid function return type";break;case Me.invalid_date:r="Invalid date";break;case Me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:$r.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Me.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Me.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Me.custom:r="Invalid input";break;case Me.invalid_intersection_types:r="Intersection results could not be merged";break;case Me.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Me.not_finite:r="Number must be finite";break;default:r=e.defaultError,$r.assertNever(t)}return{message:r}},$Q=Lm;function uCe(t){$Q=t}function Uv(){return $Q}var Lv=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},cCe=[];function We(t,e){let r=Lv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Uv(),Lm].filter(n=>!!n)});t.common.issues.push(r)}var gs=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Vt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return gs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Vt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},Vt=Object.freeze({status:"aborted"}),jQ=t=>({status:"dirty",value:t}),Oo=t=>({status:"valid",value:t}),GO=t=>t.status==="aborted",zO=t=>t.status==="dirty",qv=t=>t.status==="valid",$v=t=>typeof Promise<"u"&&t instanceof Promise,yt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(yt||(yt={}));var Cu=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},$Z=(t,e)=>{if(qv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ca(t.common.issues);return this._error=r,this._error}}};function or(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var ar=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ld(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ld(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gs,ctx:{common:e.parent.common,data:e.data,parsedType:Ld(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if($v(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)},s=this._parseSync({data:e,path:i.path,parent:i});return $Z(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await($v(i)?i:Promise.resolve(i));return $Z(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:Me.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ma({schema:this,typeName:At.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Rc.create(this,this._def)}nullable(){return gh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ka.create(this,this._def)}promise(){return Gd.create(this,this._def)}or(e){return Q1.create([this,e],this._def)}and(e){return e7.create(this,e,this._def)}transform(e){return new Ma({...or(this._def),schema:this,typeName:At.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new s7({...or(this._def),innerType:this,defaultValue:r,typeName:At.ZodDefault})}brand(){return new jv({typeName:At.ZodBranded,type:this,...or(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new N2({...or(this._def),innerType:this,catchValue:r,typeName:At.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return o7.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},fCe=/^c[^\s-]{8,}$/i,hCe=/^[a-z][a-z0-9]*$/,lCe=/[0-9A-HJKMNP-TV-Z]{26}/,dCe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,pCe=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,mCe=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,gCe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,bCe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yCe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function vCe(t,e){return!!((e==="v4"||!e)&&gCe.test(t)||(e==="v6"||!e)&&bCe.test(t))}var Ba=class extends ar{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:Me.invalid_string,...yt.errToObj(n)}),this.nonempty=e=>this.min(1,yt.errToObj(e)),this.trim=()=>new Ba({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ba({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ba({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.string,received:s.parsedType}),Vt}let n=new gs,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?We(i,{code:Me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&We(i,{code:Me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")pCe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"email",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")mCe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"emoji",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")dCe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"uuid",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")fCe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"cuid",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")hCe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"cuid2",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")lCe.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"ulid",code:Me.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),We(i,{validation:"url",code:Me.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"regex",code:Me.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?yCe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),We(i,{code:Me.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?vCe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),We(i,{validation:"ip",code:Me.invalid_string,message:s.message}),n.dirty()):$r.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...yt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...yt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...yt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...yt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...yt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...yt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...yt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...yt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...yt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...yt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...yt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...yt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...yt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...yt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...yt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...yt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ba.create=t=>{var e;return new Ba({checks:[],typeName:At.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...or(t)})};function _Ce(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var V0=class extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.number,received:s.parsedType}),Vt}let n,i=new gs;for(let s of this._def.checks)s.kind==="int"?$r.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),We(n,{code:Me.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?_Ce(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),We(n,{code:Me.not_finite,message:s.message}),i.dirty()):$r.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,yt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,yt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,yt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,yt.toString(r))}setLimit(e,r,n,i){return new V0({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(e){return new V0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:yt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:yt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$r.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};V0.create=t=>new V0({checks:[],typeName:At.ZodNumber,coerce:t?.coerce||!1,...or(t)});var G0=class extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.bigint,received:s.parsedType}),Vt}let n,i=new gs;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),We(n,{code:Me.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):$r.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,yt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,yt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,yt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,yt.toString(r))}setLimit(e,r,n,i){return new G0({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:yt.toString(i)}]})}_addCheck(e){return new G0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};G0.create=t=>{var e;return new G0({checks:[],typeName:At.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...or(t)})};var X1=class extends ar{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==$e.boolean){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.boolean,received:n.parsedType}),Vt}return Oo(e.data)}};X1.create=t=>new X1({typeName:At.ZodBoolean,coerce:t?.coerce||!1,...or(t)});var ph=class extends ar{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_type,expected:$e.date,received:s.parsedType}),Vt}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return We(s,{code:Me.invalid_date}),Vt}let n=new gs,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),We(i,{code:Me.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):$r.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ph({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:yt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:yt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};ph.create=t=>new ph({checks:[],coerce:t?.coerce||!1,typeName:At.ZodDate,...or(t)});var C2=class extends ar{_parse(e){if(this._getType(e)!==$e.symbol){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.symbol,received:n.parsedType}),Vt}return Oo(e.data)}};C2.create=t=>new C2({typeName:At.ZodSymbol,...or(t)});var Z1=class extends ar{_parse(e){if(this._getType(e)!==$e.undefined){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.undefined,received:n.parsedType}),Vt}return Oo(e.data)}};Z1.create=t=>new Z1({typeName:At.ZodUndefined,...or(t)});var J1=class extends ar{_parse(e){if(this._getType(e)!==$e.null){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.null,received:n.parsedType}),Vt}return Oo(e.data)}};J1.create=t=>new J1({typeName:At.ZodNull,...or(t)});var Vd=class extends ar{constructor(){super(...arguments),this._any=!0}_parse(e){return Oo(e.data)}};Vd.create=t=>new Vd({typeName:At.ZodAny,...or(t)});var hh=class extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oo(e.data)}};hh.create=t=>new hh({typeName:At.ZodUnknown,...or(t)});var Nc=class extends ar{_parse(e){let r=this._getOrReturnCtx(e);return We(r,{code:Me.invalid_type,expected:$e.never,received:r.parsedType}),Vt}};Nc.create=t=>new Nc({typeName:At.ZodNever,...or(t)});var k2=class extends ar{_parse(e){if(this._getType(e)!==$e.undefined){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.void,received:n.parsedType}),Vt}return Oo(e.data)}};k2.create=t=>new k2({typeName:At.ZodVoid,...or(t)});var ka=class extends ar{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==$e.array)return We(r,{code:Me.invalid_type,expected:$e.array,received:r.parsedType}),Vt;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(We(r,{code:o?Me.too_big:Me.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(We(r,{code:Me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(We(r,{code:Me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Cu(r,o,r.path,a)))).then(o=>gs.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Cu(r,o,r.path,a)));return gs.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new ka({...this._def,minLength:{value:e,message:yt.toString(r)}})}max(e,r){return new ka({...this._def,maxLength:{value:e,message:yt.toString(r)}})}length(e,r){return new ka({...this._def,exactLength:{value:e,message:yt.toString(r)}})}nonempty(e){return this.min(1,e)}};ka.create=(t,e)=>new ka({type:t,minLength:null,maxLength:null,exactLength:null,typeName:At.ZodArray,...or(e)});function T2(t){if(t instanceof kn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Rc.create(T2(n))}return new kn({...t._def,shape:()=>e})}else return t instanceof ka?new ka({...t._def,type:T2(t.element)}):t instanceof Rc?Rc.create(T2(t.unwrap())):t instanceof gh?gh.create(T2(t.unwrap())):t instanceof ku?ku.create(t.items.map(e=>T2(e))):t}var kn=class extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=$r.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==$e.object){let c=this._getOrReturnCtx(e);return We(c,{code:Me.invalid_type,expected:$e.object,received:c.parsedType}),Vt}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Nc&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let h=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:h._parse(new Cu(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Nc){let c=this._def.unknownKeys;if(c==="passthrough")for(let h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")a.length>0&&(We(i,{code:Me.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let h of a){let f=i.data[h];u.push({key:{status:"valid",value:h},value:c._parse(new Cu(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let h of u){let f=await h.key;c.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return c}).then(c=>gs.mergeObjectSync(n,c)):gs.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return new kn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=yt.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new kn({...this._def,unknownKeys:"strip"})}passthrough(){return new kn({...this._def,unknownKeys:"passthrough"})}extend(e){return new kn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:At.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new kn({...this._def,catchall:e})}pick(e){let r={};return $r.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new kn({...this._def,shape:()=>r})}omit(e){let r={};return $r.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new kn({...this._def,shape:()=>r})}deepPartial(){return T2(this)}partial(e){let r={};return $r.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new kn({...this._def,shape:()=>r})}required(e){let r={};return $r.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Rc;)s=s._def.innerType;r[n]=s}}),new kn({...this._def,shape:()=>r})}keyof(){return KQ($r.objectKeys(this.shape))}};kn.create=(t,e)=>new kn({shape:()=>t,unknownKeys:"strip",catchall:Nc.create(),typeName:At.ZodObject,...or(e)});kn.strictCreate=(t,e)=>new kn({shape:()=>t,unknownKeys:"strict",catchall:Nc.create(),typeName:At.ZodObject,...or(e)});kn.lazycreate=(t,e)=>new kn({shape:t,unknownKeys:"strip",catchall:Nc.create(),typeName:At.ZodObject,...or(e)});var Q1=class extends ar{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Ca(a.ctx.common.issues));return We(r,{code:Me.invalid_union,unionErrors:o}),Vt}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new Ca(u));return We(r,{code:Me.invalid_union,unionErrors:a}),Vt}}get options(){return this._def.options}};Q1.create=(t,e)=>new Q1({options:t,typeName:At.ZodUnion,...or(e)});var xv=t=>t instanceof r7?xv(t.schema):t instanceof Ma?xv(t.innerType()):t instanceof n7?[t.value]:t instanceof z0?t.options:t instanceof i7?Object.keys(t.enum):t instanceof s7?xv(t._def.innerType):t instanceof Z1?[void 0]:t instanceof J1?[null]:null,M2=class extends ar{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return We(r,{code:Me.invalid_type,expected:$e.object,received:r.parsedType}),Vt;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(We(r,{code:Me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Vt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=xv(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new M2({typeName:At.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...or(n)})}};function WO(t,e){let r=Ld(t),n=Ld(e);if(t===e)return{valid:!0,data:t};if(r===$e.object&&n===$e.object){let i=$r.objectKeys(e),s=$r.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=WO(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===$e.array&&n===$e.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=WO(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===$e.date&&n===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var e7=class extends ar{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(GO(s)||GO(o))return Vt;let a=WO(s.value,o.value);return a.valid?((zO(s)||zO(o))&&r.dirty(),{status:r.value,value:a.data}):(We(n,{code:Me.invalid_intersection_types}),Vt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};e7.create=(t,e,r)=>new e7({left:t,right:e,typeName:At.ZodIntersection,...or(r)});var ku=class extends ar{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.array)return We(n,{code:Me.invalid_type,expected:$e.array,received:n.parsedType}),Vt;if(n.data.length<this._def.items.length)return We(n,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Vt;!this._def.rest&&n.data.length>this._def.items.length&&(We(n,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Cu(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>gs.mergeArray(r,o)):gs.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ku({...this._def,rest:e})}};ku.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ku({items:t,typeName:At.ZodTuple,rest:null,...or(e)})};var t7=class extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return We(n,{code:Me.invalid_type,expected:$e.object,received:n.parsedType}),Vt;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Cu(n,a,n.path,a)),value:o._parse(new Cu(n,n.data[a],n.path,a))});return n.common.async?gs.mergeObjectAsync(r,i):gs.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ar?new t7({keyType:e,valueType:r,typeName:At.ZodRecord,...or(n)}):new t7({keyType:Ba.create(),valueType:e,typeName:At.ZodRecord,...or(r)})}},R2=class extends ar{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.map)return We(n,{code:Me.invalid_type,expected:$e.map,received:n.parsedType}),Vt;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new Cu(n,a,n.path,[c,"key"])),value:s._parse(new Cu(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return Vt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,h=u.value;if(c.status==="aborted"||h.status==="aborted")return Vt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}}}};R2.create=(t,e,r)=>new R2({valueType:e,keyType:t,typeName:At.ZodMap,...or(r)});var mh=class extends ar{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.set)return We(n,{code:Me.invalid_type,expected:$e.set,received:n.parsedType}),Vt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(We(n,{code:Me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(We(n,{code:Me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let h of u){if(h.status==="aborted")return Vt;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>s._parse(new Cu(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new mh({...this._def,minSize:{value:e,message:yt.toString(r)}})}max(e,r){return new mh({...this._def,maxSize:{value:e,message:yt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};mh.create=(t,e)=>new mh({valueType:t,minSize:null,maxSize:null,typeName:At.ZodSet,...or(e)});var $d=class extends ar{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.function)return We(r,{code:Me.invalid_type,expected:$e.function,received:r.parsedType}),Vt;function n(a,u){return Lv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Uv(),Lm].filter(c=>!!c),issueData:{code:Me.invalid_arguments,argumentsError:u}})}function i(a,u){return Lv({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Uv(),Lm].filter(c=>!!c),issueData:{code:Me.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof Gd?Oo(async(...a)=>{let u=new Ca([]),c=await this._def.args.parseAsync(a,s).catch(p=>{throw u.addIssue(n(a,p)),u}),h=await o(...c);return await this._def.returns._def.type.parseAsync(h,s).catch(p=>{throw u.addIssue(i(h,p)),u})}):Oo((...a)=>{let u=this._def.args.safeParse(a,s);if(!u.success)throw new Ca([n(a,u.error)]);let c=o(...u.data),h=this._def.returns.safeParse(c,s);if(!h.success)throw new Ca([i(c,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $d({...this._def,args:ku.create(e).rest(hh.create())})}returns(e){return new $d({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new $d({args:e||ku.create([]).rest(hh.create()),returns:r||hh.create(),typeName:At.ZodFunction,...or(n)})}},r7=class extends ar{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};r7.create=(t,e)=>new r7({getter:t,typeName:At.ZodLazy,...or(e)});var n7=class extends ar{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return We(r,{received:r.data,code:Me.invalid_literal,expected:this._def.value}),Vt}return{status:"valid",value:e.data}}get value(){return this._def.value}};n7.create=(t,e)=>new n7({value:t,typeName:At.ZodLiteral,...or(e)});function KQ(t,e){return new z0({values:t,typeName:At.ZodEnum,...or(e)})}var z0=class extends ar{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return We(r,{expected:$r.joinValues(n),received:r.parsedType,code:Me.invalid_type}),Vt}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return We(r,{received:r.data,code:Me.invalid_enum_value,options:n}),Vt}return Oo(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return z0.create(e)}exclude(e){return z0.create(this.options.filter(r=>!e.includes(r)))}};z0.create=KQ;var i7=class extends ar{_parse(e){let r=$r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$e.string&&n.parsedType!==$e.number){let i=$r.objectValues(r);return We(n,{expected:$r.joinValues(i),received:n.parsedType,code:Me.invalid_type}),Vt}if(r.indexOf(e.data)===-1){let i=$r.objectValues(r);return We(n,{received:n.data,code:Me.invalid_enum_value,options:i}),Vt}return Oo(e.data)}get enum(){return this._def.values}};i7.create=(t,e)=>new i7({values:t,typeName:At.ZodNativeEnum,...or(e)});var Gd=class extends ar{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.promise&&r.common.async===!1)return We(r,{code:Me.invalid_type,expected:$e.promise,received:r.parsedType}),Vt;let n=r.parsedType===$e.promise?r.data:Promise.resolve(r.data);return Oo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Gd.create=(t,e)=>new Gd({type:t,typeName:At.ZodPromise,...or(e)});var Ma=class extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===At.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){let o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}let s={addIssue:o=>{We(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Vt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Vt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qv(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>qv(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);$r.assertNever(i)}};Ma.create=(t,e,r)=>new Ma({schema:t,typeName:At.ZodEffects,effect:e,...or(r)});Ma.createWithPreprocess=(t,e,r)=>new Ma({schema:e,effect:{type:"preprocess",transform:t},typeName:At.ZodEffects,...or(r)});var Rc=class extends ar{_parse(e){return this._getType(e)===$e.undefined?Oo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Rc.create=(t,e)=>new Rc({innerType:t,typeName:At.ZodOptional,...or(e)});var gh=class extends ar{_parse(e){return this._getType(e)===$e.null?Oo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};gh.create=(t,e)=>new gh({innerType:t,typeName:At.ZodNullable,...or(e)});var s7=class extends ar{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===$e.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};s7.create=(t,e)=>new s7({innerType:t,typeName:At.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...or(e)});var N2=class extends ar{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $v(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ca(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ca(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};N2.create=(t,e)=>new N2({innerType:t,typeName:At.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...or(e)});var F2=class extends ar{_parse(e){if(this._getType(e)!==$e.nan){let n=this._getOrReturnCtx(e);return We(n,{code:Me.invalid_type,expected:$e.nan,received:n.parsedType}),Vt}return{status:"valid",value:e.data}}};F2.create=t=>new F2({typeName:At.ZodNaN,...or(t)});var xCe=Symbol("zod_brand"),jv=class extends ar{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},o7=class extends ar{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Vt:s.status==="dirty"?(r.dirty(),jQ(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Vt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new o7({in:e,out:r,typeName:At.ZodPipeline})}},VQ=(t,e={},r)=>t?Vd.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):Vd.create(),SCe={object:kn.lazycreate},At;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(At||(At={}));var wCe=(t,e={message:`Input not instance of ${t.name}`})=>VQ(r=>r instanceof t,e),GQ=Ba.create,zQ=V0.create,ECe=F2.create,TCe=G0.create,WQ=X1.create,ACe=ph.create,ICe=C2.create,PCe=Z1.create,OCe=J1.create,BCe=Vd.create,CCe=hh.create,kCe=Nc.create,MCe=k2.create,RCe=ka.create,NCe=kn.create,FCe=kn.strictCreate,HCe=Q1.create,DCe=M2.create,UCe=e7.create,LCe=ku.create,qCe=t7.create,$Ce=R2.create,jCe=mh.create,KCe=$d.create,VCe=r7.create,GCe=n7.create,zCe=z0.create,WCe=i7.create,YCe=Gd.create,jZ=Ma.create,XCe=Rc.create,ZCe=gh.create,JCe=Ma.createWithPreprocess,QCe=o7.create,eke=()=>GQ().optional(),tke=()=>zQ().optional(),rke=()=>WQ().optional(),nke={string:t=>Ba.create({...t,coerce:!0}),number:t=>V0.create({...t,coerce:!0}),boolean:t=>X1.create({...t,coerce:!0}),bigint:t=>G0.create({...t,coerce:!0}),date:t=>ph.create({...t,coerce:!0})},ike=Vt,Po=Object.freeze({__proto__:null,defaultErrorMap:Lm,setErrorMap:uCe,getErrorMap:Uv,makeIssue:Lv,EMPTY_PATH:cCe,addIssueToContext:We,ParseStatus:gs,INVALID:Vt,DIRTY:jQ,OK:Oo,isAborted:GO,isDirty:zO,isValid:qv,isAsync:$v,get util(){return $r},get objectUtil(){return VO},ZodParsedType:$e,getParsedType:Ld,ZodType:ar,ZodString:Ba,ZodNumber:V0,ZodBigInt:G0,ZodBoolean:X1,ZodDate:ph,ZodSymbol:C2,ZodUndefined:Z1,ZodNull:J1,ZodAny:Vd,ZodUnknown:hh,ZodNever:Nc,ZodVoid:k2,ZodArray:ka,ZodObject:kn,ZodUnion:Q1,ZodDiscriminatedUnion:M2,ZodIntersection:e7,ZodTuple:ku,ZodRecord:t7,ZodMap:R2,ZodSet:mh,ZodFunction:$d,ZodLazy:r7,ZodLiteral:n7,ZodEnum:z0,ZodNativeEnum:i7,ZodPromise:Gd,ZodEffects:Ma,ZodTransformer:Ma,ZodOptional:Rc,ZodNullable:gh,ZodDefault:s7,ZodCatch:N2,ZodNaN:F2,BRAND:xCe,ZodBranded:jv,ZodPipeline:o7,custom:VQ,Schema:ar,ZodSchema:ar,late:SCe,get ZodFirstPartyTypeKind(){return At},coerce:nke,any:BCe,array:RCe,bigint:TCe,boolean:WQ,date:ACe,discriminatedUnion:DCe,effect:jZ,enum:zCe,function:KCe,instanceof:wCe,intersection:UCe,lazy:VCe,literal:GCe,map:$Ce,nan:ECe,nativeEnum:WCe,never:kCe,null:OCe,nullable:ZCe,number:zQ,object:NCe,oboolean:rke,onumber:tke,optional:XCe,ostring:eke,pipeline:QCe,preprocess:JCe,promise:YCe,record:qCe,set:jCe,strictObject:FCe,string:GQ,symbol:ICe,transformer:jZ,tuple:LCe,undefined:PCe,union:HCe,unknown:CCe,void:MCe,NEVER:ike,ZodIssueCode:Me,quotelessJson:aCe,ZodError:Ca}),AB=Po.string().regex(/^[a-fA-F0-9]$/),YQ=Po.string().regex(/^[a-fA-F0-9]{64}$/),a7=Po.number().min(0).max(4294967295),XQ=Po.bigint(),ZQ=Po.instanceof(Uint8Array),ske=Po.union([AB,a7,Po.string(),ZQ]).array(),Jv=Po.union([ske,AB,ZQ]),JQ=Po.array(Jv),IB=Po.object({value:Po.union([a7,XQ]),scriptPubKey:Jv}),QQ=Po.object({txid:YQ,vout:a7,scriptSig:Jv,sequence:a7,prevout:IB.optional(),witness:JQ}),oke=Po.object({version:a7,vin:Po.array(QQ),vout:Po.array(IB),locktime:a7}),ake={TxData:oke,TxInput:QQ,TxOutput:IB,witness:JQ,script:Jv,hexstr:AB,hash:YQ,uint32:a7,uint64:XQ},YO=class{constructor(e){typeof e=="string"&&(e=he.hex(e)),e instanceof Uint8Array&&(e=Oa.decode(e));let r=ake.TxData;this._data=r.parse(Oa.create(e))}get data(){return this._data}get version(){return this.data.version}get vin(){return this.data.vin.map((e,r)=>new qQ(this.data,r))}get vout(){return this.data.vout.map(e=>new TB(e))}get locktime(){return new KO(this.data.locktime)}get base(){return Oa.encode(this.data,!0)}get buff(){return Oa.encode(this.data)}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get size(){return this.raw.length}get bsize(){return this.base.length}get weight(){return this.bsize*3+this.size}get vsize(){let e=this.weight%4>0?1:0;return Math.floor(this.weight/4)+e}get hash(){return dh(this.buff).reverse().hex}get txid(){return dh(this.base).reverse().hex}async export(){let{size:e,weight:r,vsize:n,hex:i}=this,s=this.txid,o=this.hash;return{txid:s,hash:o,...this.data,size:e,weight:r,vsize:n,hex:i}}};Fc.Address=xBe;Fc.Input=qQ;Fc.Output=TB;Fc.Script=Hs;Fc.Sequence=Hv;Fc.Signer=jO;Fc.Tap=nCe;Fc.Transaction=YO;Fc.Tx=Oa;Fc.Witness=Dv});var PB=$(Y0=>{k();M();Object.defineProperty(Y0,"__esModule",{value:!0});Y0.script2P2TR=Y0.CatTx=Y0.TaprootMastSmartContract=Y0.TaprootSmartContract=void 0;var uke=LP(),tee=Sr(),cke=eO(),c7=eee(),Wd=d2(),Qv="50929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0",U2=class{constructor(e){let r=e.lockingScript,n=c7.Tap.encodeScript(r.toBuffer()),[i,s]=c7.Tap.getPubKey(Qv,{target:n}),o=new Wd.btc.Script(`OP_1 32 0x${i}}`);this.contract=e,this.contractScript=r,this.contractScriptBuffer=r.toBuffer(),this.contractScriptHash=(0,tee.hash160)(this.contractScriptBuffer.toString("hex")),this.tapleaf=n,this.tapleafBuffer=A.Buffer.from(n,"hex"),this.tpubkey=i,this.cblock=s,this.cblockBuffer=A.Buffer.from(s,"hex"),this.lockingScript=o,this.lockingScriptHex=o.toBuffer().toString("hex")}static create(e){return new U2(e)}};Y0.TaprootSmartContract=U2;var Km=class{constructor(e){let r={},n=[];for(let o of Object.keys(e)){let a=e[o];r[o]=U2.create(a);let u=a.lockingScript,c=c7.Tap.encodeScript(u.toBuffer());n.push(c),r[o].tapleaf=c,r[o].tapleafBuffer=A.Buffer.from(c,"hex")}let[i]=c7.Tap.getPubKey(Qv,{tree:n}),s=new Wd.btc.Script(`OP_1 32 0x${i}}`);for(let o of Object.keys(r)){let a=r[o],[,u]=c7.Tap.getPubKey(Qv,{target:a.tapleaf,tree:n});a.tpubkey=i,a.cblock=u,a.cblockBuffer=A.Buffer.from(u,"hex"),a.lockingScript=s,a.lockingScriptHex=s.toBuffer().toString("hex")}this.tpubkey=i,this.lockingScript=s,this.lockingScriptHex=s.toBuffer().toString("hex"),this.contractTaprootMap=r}static create(e){return new Km(e)}};Y0.TaprootMastSmartContract=Km;var Vm=class{constructor(){this.tx=new Wd.btc.Transaction,this.state=uke.ProtocolState.getEmptyState(),this.tx.addOutput(new Wd.btc.Transaction.Output({satoshis:0,script:this.state.stateScript}))}updateState(){this.tx.outputs[0]=new Wd.btc.Transaction.Output({satoshis:0,script:this.state.stateScript})}static create(){return new Vm}fromCatTx(e,r){return this.tx.from(e.getUTXO(r)),this.tx.inputs.length-1}addContractOutput(e,r=330){this.tx.addOutput(new Wd.btc.Transaction.Output({satoshis:r,script:e}));let n=this.tx.outputs.length-1;return this.state.updateDataList(n-1,(0,tee.toByteString)("")),this.updateState(),this.tx.outputs.length-1}addStateContractOutput(e,r,n=330){this.tx.addOutput(new Wd.btc.Transaction.Output({satoshis:n,script:e}));let i=this.tx.outputs.length-1;return this.state.updateDataList(i-1,r),this.updateState(),i}getUTXO(e){return{txId:this.tx.id,outputIndex:e,script:this.tx.outputs[e].script,satoshis:this.tx.outputs[e].satoshis}}sign(e){this.tx.sign(e)}getInputCtx(e,r){return(0,cke.getTxCtx)(this.tx,e,r)}getPreState(){return{statesHashRoot:this.state.hashRoot,txoStateHashes:this.state.stateHashList}}};Y0.CatTx=Vm;function fke(t){let e=c7.Tap.encodeScript(t),[r,n]=c7.Tap.getPubKey(Qv,{target:e});return{p2tr:new Wd.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}Y0.script2P2TR=fke});var nee=$(L2=>{k();M();Object.defineProperty(L2,"__esModule",{value:!0});L2.getNftGuardContractInfo=L2.getGuardContractInfo=void 0;var hke=X0(),lke=X0(),dke=X0(),pke=X0(),ree=PB(),mke=function(){let t=new hke.BurnGuard,e=new lke.TransferGuard,r={burn:t,transfer:e};return new ree.TaprootMastSmartContract(r)};L2.getGuardContractInfo=mke;var gke=function(){let t=new dke.NftBurnGuard,e=new pke.NftTransferGuard,r={burn:t,transfer:e};return new ree.TaprootMastSmartContract(r)};L2.getNftGuardContractInfo=gke});var X0=$(Zt=>{k();M();var bke=Zt&&Zt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Or=Zt&&Zt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&bke(e,t,r)},Mu=Zt&&Zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zt,"__esModule",{value:!0});var yke=JA(),vke=iI(),_ke=aI(),xke=uI(),Ske=fI(),wke=dI(),Eke=Mu(vz()),Tke=Mu(_z()),Ake=Mu(xz()),Ike=Mu(Sz()),Pke=Mu(wz()),Oke=Mu(Ez()),Bke=bI(),Cke=xI(),kke=TI(),Mke=II(),Rke=OI(),Nke=kI(),Fke=Mu(Nz()),Hke=Mu(Fz()),Dke=Mu(Hz()),Uke=Mu(Dz()),Lke=Mu(Uz()),qke=Mu(Lz());vke.ClosedMinter.loadArtifact(Eke.default),_ke.OpenMinter.loadArtifact(Tke.default),wke.OpenMinterV2.loadArtifact(Ake.default),xke.CAT20.loadArtifact(Ike.default),yke.BurnGuard.loadArtifact(Pke.default),Ske.TransferGuard.loadArtifact(Oke.default),Bke.NftClosedMinter.loadArtifact(Fke.default),Cke.NftParallelClosedMinter.loadArtifact(Hke.default),kke.NftOpenMinter.loadArtifact(Dke.default),Mke.CAT721.loadArtifact(Uke.default),Nke.NftBurnGuard.loadArtifact(qke.default),Rke.NftTransferGuard.loadArtifact(Lke.default);Or(iI(),Zt);Or(uI(),Zt);Or(JA(),Zt);Or(fI(),Zt);Or(U5(),Zt);Or(tI(),Zt);Or(Y9(),Zt);Or(aI(),Zt);Or(dI(),Zt);Or(oI(),Zt);Or(lI(),Zt);Or(bI(),Zt);Or(xI(),Zt);Or(TI(),Zt);Or(mI(),Zt);Or(vI(),Zt);Or(wI(),Zt);Or(EI(),Zt);Or(II(),Zt);Or(K5(),Zt);Or(kI(),Zt);Or(OI(),Zt);Or(sm(),Zt);Or(Pn(),Zt);Or(N5(),Zt);Or(ia(),Zt);Or(B0(),Zt);Or(na(),Zt);Or(LP(),Zt);Or(z9(),Zt);Or(eO(),Zt);Or(IZ(),Zt);Or(nee(),Zt);Or(d2(),Zt);Or(PB(),Zt)});var iee=$(e_=>{k();M();Object.defineProperty(e_,"__esModule",{value:!0});e_.btc=void 0;var $ke=X0();Object.defineProperty(e_,"btc",{enumerable:!0,get:function(){return $ke.btc}})});var oee=$(see=>{k();M();Object.defineProperty(see,"__esModule",{value:!0})});var Z0=$(Ru=>{k();M();var jke=Ru&&Ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q2=Ru&&Ru.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jke(e,t,r)};Object.defineProperty(Ru,"__esModule",{value:!0});q2(oH(),Ru);q2(IS(),Ru);q2(uH(),Ru);q2(fH(),Ru);q2(iee(),Ru);q2(oee(),Ru)});var kre=$(Lc=>{"use strict";k();M();function qB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Kke(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function See(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Vke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qB(t.outputLen),qB(t.blockLen)}function Gke(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zke(t,e){See(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Wke={number:qB,bool:Kke,bytes:See,hash:Vke,exists:Gke,output:zke},OB=Wke;var BB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),J0=(t,e)=>t<<32-e|t>>>e,Yke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Yke)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xke(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function wee(t){if(typeof t=="string"&&(t=Xke(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Zke=class{clone(){return this._cloneInto()}};function Eee(t){let e=n=>t().update(wee(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Jke(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Qke=class extends Zke{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=BB(this.buffer)}update(e){OB.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=wee(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=BB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){OB.exists(this),OB.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;Jke(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=BB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},eMe=(t,e,r)=>t&e^~t&r,tMe=(t,e,r)=>t&e^t&r^e&r,rMe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xd=new Uint32Array(64),Tee=class extends Qke{constructor(){super(64,32,8,!1),this.A=Yd[0]|0,this.B=Yd[1]|0,this.C=Yd[2]|0,this.D=Yd[3]|0,this.E=Yd[4]|0,this.F=Yd[5]|0,this.G=Yd[6]|0,this.H=Yd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Xd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Xd[f-15],l=Xd[f-2],y=J0(p,7)^J0(p,18)^p>>>3,_=J0(l,17)^J0(l,19)^l>>>10;Xd[f]=_+Xd[f-7]+y+Xd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=J0(a,6)^J0(a,11)^J0(a,25),l=h+p+eMe(a,u,c)+rMe[f]+Xd[f]|0,_=(J0(n,2)^J0(n,13)^J0(n,22))+tMe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Xd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},nMe=class extends Tee{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},$B=Eee(()=>new Tee);Eee(()=>new nMe);function iMe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function sMe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function oMe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:aMe}=crypto??globalThis.crypto??window.crypto;function uMe(t=32){if(typeof aMe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function cMe(t,e,r="be"){e===void 0&&(e=t.length),iMe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function Aee(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var fMe=new TextEncoder,hMe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function Iee(t){for(let e of hMe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function lMe(t,e,r=!1){typeof t=="string"&&(t=fMe.encode(t));let n=Iee(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function dMe(t,e){let r=Iee(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function Pee(t){return $B($B(t))}function pMe(t){let e=Pee(t);return Aee([t,e.slice(0,4)])}function mMe(t){let e=t.slice(0,-4),r=t.slice(-4);if(Pee(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var aee={encode:lMe,decode:dMe},Oee={encode:t=>{let e=pMe(t);return aee.encode(e,"base58")},decode:t=>{let e=aee.decode(t,"base58");return mMe(e)}},Bee="qpzry9x8gf2tvdw0s3jn54khce6mua7l",gMe=[996825010,642813549,513874426,1027748829,705979059],o_=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function Cee(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=gMe[i])}return e}function kee(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function bMe(t,e,r){let n=kee(t).concat(e);return Cee(n)===r.const}function yMe(t,e,r){let n=kee(t).concat(e).concat([0,0,0,0,0,0]),i=Cee(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function Mee(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function vMe(t,e,r){let n=e.concat(yMe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=Bee.charAt(n[s]);return i}function Ree(t){if(!_Me(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!xMe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=Bee.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=o_.find(s=>s.version===e[0])??o_[0];if(!bMe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function _Me(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function xMe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function SMe(t,e="bc",r=0){let n=[r,...Mee([...t],8,5)],i=o_.find(o=>o.version===r)??o_[0],s=vMe(e,n,i);return Nee(s),s}function Nee(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=Ree(t),i=Mee(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function wMe(t){t=t.toLowerCase();let[e,r]=Ree(t);return r[0]}var Fee={encode:SMe,decode:Nee,version:wMe},Hee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",EMe=new TextEncoder;function Uee(t,e=!1,r=!0){typeof t=="string"&&(t=EMe.encode(t));let n=e?Dee:Hee,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function Lee(t,e=!1){let r=e||t.includes("-")||t.includes("_")?Dee.split(""):Hee.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var qee={encode:Uee,decode:Lee},$ee={encode:t=>Uee(t,!0,!1),decode:t=>Lee(t,!0)},TMe=BigInt(0),AMe=BigInt(255),jee=BigInt(256);function IMe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function PMe(t,e,r="be"){e===void 0&&(e=IMe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>TMe;){let a=t&AMe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/jee}return new Uint8Array(i)}function OMe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*jee+BigInt(t[r]);return BigInt(e)}function BMe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function CMe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function kMe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function MMe(t,e,r="be"){e===void 0&&(e=kMe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function RMe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],oMe(e);return e}var NMe=new TextEncoder,FMe=new TextDecoder;function dC(t){return NMe.encode(t)}function CB(t){return FMe.decode(t)}function HMe(t,e){sMe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function DMe(t,e,r="le"){e=HMe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function UMe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function LMe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return dC(e)}function qMe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return cMe(t,e,r);if(typeof t=="string")return DMe(t,e,r);if(typeof t=="bigint")return PMe(t,e,r);if(typeof t=="number")return MMe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var ur,le=(ur=class extends Uint8Array{static random(e=32){let r=uMe(e);return new ur(r,e)}constructor(e,r,n){let i=qMe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new e3(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return RMe(r)}toBin(){return CMe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return OMe(r)}toHash(){let e=$B(this);return new ur(e)}toJson(){let e=CB(this);return JSON.parse(e)}toBech32(e,r=0){return Fee.encode(this,e,r)}toStr(){return CB(this)}toHex(){return UMe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return Oee.encode(this)}toBase64(){return qee.encode(this)}toB64url(){return $ee.encode(this)}prepend(e){return ur.join([ur.bytes(e),this])}append(e){return ur.join([this,ur.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new ur(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new ur(n)}reverse(){let e=new Uint8Array(this).reverse();return new ur(e)}write(e,r){let n=ur.bytes(e);this.set(n,r)}prefixSize(e){let r=ur.varInt(this.length,e);return ur.join([r,this])}static from(e){return new ur(Uint8Array.from(e))}static of(...e){return new ur(Uint8Array.of(...e))}static join(e){let r=e.map(i=>ur.bytes(i)),n=Aee(r);return new ur(n)}static varInt(e,r){if(e<253)return ur.num(e,1);if(e<65536)return ur.of(253,...ur.num(e,2,r));if(e<4294967296)return ur.of(254,...ur.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return ur.of(255,...ur.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},(()=>{ur.num=$Me})(),(()=>{ur.big=KMe})(),(()=>{ur.bin=jMe})(),(()=>{ur.raw=VMe})(),(()=>{ur.str=GMe})(),(()=>{ur.hex=zMe})(),(()=>{ur.bytes=WMe})(),(()=>{ur.json=YMe})(),(()=>{ur.base64=XMe})(),(()=>{ur.b64url=ZMe})(),(()=>{ur.bech32=JMe})(),(()=>{ur.b58chk=QMe})(),(()=>{ur.encode=dC})(),(()=>{ur.decode=CB})(),ur);function $Me(t,e,r){return new le(t,e,r)}function jMe(t,e,r){return new le(BMe(t),e,r)}function KMe(t,e,r){return new le(t,e,r)}function VMe(t,e,r){return new le(t,e,r)}function GMe(t,e,r){return new le(dC(t),e,r)}function zMe(t,e,r){return new le(t,e,r)}function WMe(t,e,r){return new le(t,e,r)}function YMe(t){return new le(LMe(t))}function XMe(t){return new le(qee.decode(t))}function ZMe(t){return new le($ee.decode(t))}function JMe(t){return new le(Fee.decode(t))}function QMe(t){return new le(Oee.decode(t))}var e3=class{constructor(e){this.data=le.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new le(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}};function af(t,e){let r=le.bytes(t);if(r.length!==e)throw new Error(`Invalid input size: ${r.hex} !== ${e}`)}function io(t,e){if(e)throw new Error(t);return!1}function i_(t,...e){let r=le.str(t).digest.raw,n=e.map(i=>le.bytes(i));return le.join([r,r,le.join(n)]).digest}var Kee={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186};function eRe(t){if(t>186&&t<255)return"OP_SUCCESS"+String(t);for(let[e,r]of Object.entries(Kee))if(r===t)return e;throw new Error("OPCODE not found:"+String(t))}function tRe(t){for(let[e,r]of Object.entries(Kee))if(e===t)return Number(r);throw new Error("OPCODE not found:"+t)}function rRe(t){switch(!0){case t===0:return"opcode";case(t>=1&&t<=75):return"varint";case t===76:return"pushdata1";case t===77:return"pushdata2";case t===78:return"pushdata4";case t<=254:return"opcode";default:throw new Error(`Invalid word range: ${t}`)}}function nRe(t){let n=[];switch(!0){case typeof t!="number":return!1;case t===0:return!0;case n.includes(t):return!1;case(75<t&&t<254):return!0;default:return!1}}function Th(t){return typeof t=="string"&&t.length%2===0&&/[0-9a-fA-F]/.test(t)}function Vee(t){return Th(t)||t instanceof Uint8Array}var a_=520;function dp(t=[],e=!0){let r=le.num(0);return Array.isArray(t)&&(r=le.raw(Gee(t))),Th(t)&&(r=le.hex(t)),t instanceof Uint8Array&&(r=le.raw(t)),e&&(r=r.prefixSize("le")),r}function Gee(t){let e=[];for(let r of t)e.push(iRe(r));return e.length>0?le.join(e):new Uint8Array}function iRe(t){let e=new Uint8Array;if(typeof t=="string"){if(t.startsWith("OP_"))return le.num(tRe(t),1);Th(t)?e=le.hex(t):e=le.str(t)}else if(e=le.bytes(t),e.length===1&&e[0]<=16)return e[0]!==0&&(e[0]+=80),e;if(e.length>a_){let r=oRe(e);return Gee(r)}return le.join([sRe(e.length),e])}function sRe(t){let e=le.num(76,1),r=le.num(77,1);switch(!0){case t<=75:return le.num(t);case(t>75&&t<256):return le.join([e,le.num(t,1,"le")]);case(t>=256&&t<=a_):return le.join([r,le.num(t,2,"le")]);default:throw new Error("Invalid word size:"+t.toString())}}function oRe(t){let e=[],r=new e3(t);for(;r.size>a_;)e.push(r.read(a_));return e.push(r.read(r.size)),e}function P_(t,e=!1){let r=le.bytes(t);if(e){let i=r.stream.readSize("le");if(r=r.slice(1),r.length!==i)throw new Error(`Varint does not match stream size: ${i} !== ${r.length}`)}return aRe(r)}function aRe(t){let e=new e3(t),r=[],n=e.size,i,s,o,a=0;for(;a<n;)switch(i=e.read(1).num,s=rRe(i),a++,s){case"varint":r.push(e.read(i).hex),a+=i;break;case"pushdata1":o=e.read(1).reverse().num,r.push(e.read(o).hex),a+=o+1;break;case"pushdata2":o=e.read(2).reverse().num,r.push(e.read(o).hex),a+=o+2;break;case"pushdata4":o=e.read(4).reverse().num,r.push(e.read(o).hex),a+=o+4;break;case"opcode":if(!nRe(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(eRe(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function uRe(t,e){if(Array.isArray(t)&&(t=dp(t,e)),t instanceof Uint8Array||Th(t))return P_(t,e);throw new Error("Invalid format: "+String(typeof t))}function cRe(t,e){if((t instanceof Uint8Array||Th(t))&&(t=P_(t,e)),Array.isArray(t))return dp(t,e);throw new Error("Invalid format: "+String(typeof t))}function fRe(t){if(!Array.isArray(t))return le.bytes(t);throw new Error("Invalid format: "+String(typeof t))}var hRe={toAsm:uRe,toBytes:cRe,toParam:fRe},Ls={encode:dp,decode:P_,fmt:hRe};function jB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function lRe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function zee(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function dRe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jB(t.outputLen),jB(t.blockLen)}function pRe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mRe(t,e){zee(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var gRe={number:jB,bool:lRe,bytes:zee,hash:dRe,exists:pRe,output:mRe},l7=gRe,kB=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var MB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Q0=(t,e)=>t<<32-e|t>>>e,bRe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!bRe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yRe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function pC(t){if(typeof t=="string"&&(t=yRe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function vRe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var Wee=class{clone(){return this._cloneInto()}};function Yee(t){let e=n=>t().update(pC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Xee(t=32){if(kB&&typeof kB.getRandomValues=="function")return kB.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function _Re(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var xRe=class extends Wee{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=MB(this.buffer)}update(e){l7.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=pC(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=MB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){l7.exists(this),l7.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;_Re(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=MB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},SRe=(t,e,r)=>t&e^~t&r,wRe=(t,e,r)=>t&e^t&r^e&r,ERe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jd=new Uint32Array(64),Zee=class extends xRe{constructor(){super(64,32,8,!1),this.A=Zd[0]|0,this.B=Zd[1]|0,this.C=Zd[2]|0,this.D=Zd[3]|0,this.E=Zd[4]|0,this.F=Zd[5]|0,this.G=Zd[6]|0,this.H=Zd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Jd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Jd[f-15],l=Jd[f-2],y=Q0(p,7)^Q0(p,18)^p>>>3,_=Q0(l,17)^Q0(l,19)^l>>>10;Jd[f]=_+Jd[f-7]+y+Jd[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=Q0(a,6)^Q0(a,11)^Q0(a,25),l=h+p+SRe(a,u,c)+ERe[f]+Jd[f]|0,_=(Q0(n,2)^Q0(n,13)^Q0(n,22))+wRe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){Jd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},TRe=class extends Zee{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},u_=Yee(()=>new Zee);Yee(()=>new TRe);var ARe=BigInt(0),mC=BigInt(1),IRe=BigInt(2),O_=t=>t instanceof Uint8Array,PRe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function K2(t){if(!O_(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=PRe[t[r]];return e}function Jee(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function gC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function V2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Bo(t){return gC(K2(t))}function bC(t){if(!O_(t))throw new Error("Uint8Array expected");return gC(K2(Uint8Array.from(t).reverse()))}var ap=(t,e)=>V2(t.toString(16).padStart(e*2,"0")),Qee=(t,e)=>ap(t,e).reverse(),ORe=t=>V2(Jee(t));function Ds(t,e,r){let n;if(typeof e=="string")try{n=V2(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(O_(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Ra(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!O_(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function BRe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function B_(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function CRe(t){let e;for(e=0;t>0n;t>>=mC,e+=1);return e}var kRe=(t,e)=>t>>BigInt(e)&1n,MRe=(t,e,r)=>t|(r?mC:ARe)<<BigInt(e),yC=t=>(IRe<<BigInt(t-1))-mC,RB=t=>new Uint8Array(t),uee=t=>Uint8Array.from(t);function ete(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=RB(t),i=RB(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=RB())=>{i=a(uee([0]),f),n=a(),f.length!==0&&(i=a(uee([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,p=[];for(;f<e;){n=a();let l=n.slice();p.push(l),f+=n.length}return Ra(...p)};return(f,p)=>{o(),u(f);let l;for(;!(l=p(c()));)u();return o(),l}}var RRe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function t3(t,e,r={}){let n=(i,s,o)=>{let a=RRe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var NRe=Object.freeze({__proto__:null,bitGet:kRe,bitLen:CRe,bitMask:yC,bitSet:MRe,bytesToHex:K2,bytesToNumberBE:Bo,bytesToNumberLE:bC,concatBytes:Ra,createHmacDrbg:ete,ensureBytes:Ds,equalBytes:BRe,hexToBytes:V2,hexToNumber:gC,numberToBytesBE:ap,numberToBytesLE:Qee,numberToHexUnpadded:Jee,numberToVarBytesBE:ORe,utf8ToBytes:B_,validateObject:t3});var bs=BigInt(0),Si=BigInt(1),h7=BigInt(2),FRe=BigInt(3),KB=BigInt(4),cee=BigInt(5),fee=BigInt(8);BigInt(9);BigInt(16);function es(t,e){let r=t%e;return r>=bs?r:e+r}function HRe(t,e,r){if(r<=bs||e<bs)throw new Error("Expected power/modulo > 0");if(r===Si)return bs;let n=Si;for(;e>bs;)e&Si&&(n=n*t%r),t=t*t%r,e>>=Si;return n}function Nu(t,e,r){let n=t;for(;e-- >bs;)n*=n,n%=r;return n}function VB(t,e){if(t===bs||e<=bs)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=es(t,e),n=e,i=bs,s=Si;for(;r!==bs;){let a=n/r,u=n%r,c=i-s*a;n=r,r=u,i=s,s=c}if(n!==Si)throw new Error("invert: does not exist");return es(i,e)}function DRe(t){let e=(t-Si)/h7,r,n,i;for(r=t-Si,n=0;r%h7===bs;r/=h7,n++);for(i=h7;i<t&&HRe(i,e,t)!==t-Si;i++);if(n===1){let o=(t+Si)/KB;return function(u,c){let h=u.pow(c,o);if(!u.eql(u.sqr(h),c))throw new Error("Cannot find square root");return h}}let s=(r+Si)/h7;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,h=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let l=1;for(let _=a.sqr(p);l<c&&!a.eql(_,a.ONE);l++)_=a.sqr(_);let y=a.pow(h,Si<<BigInt(c-l-1));h=a.sqr(y),f=a.mul(f,y),p=a.mul(p,h),c=l}return f}}function URe(t){if(t%KB===FRe){let e=(t+Si)/KB;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%fee===cee){let e=(t-cee)/fee;return function(n,i){let s=n.mul(i,h7),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,h7),o),c=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return DRe(t)}var LRe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tte(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=LRe.reduce((n,i)=>(n[i]="function",n),e);return t3(t,r)}function qRe(t,e,r){if(r<bs)throw new Error("Expected power > 0");if(r===bs)return t.ONE;if(r===Si)return e;let n=t.ONE,i=e;for(;r>bs;)r&Si&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Si;return n}function $Re(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function vC(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function rte(t,e,r=!1,n={}){if(t<=bs)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=vC(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=URe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:yC(i),ZERO:bs,ONE:Si,create:u=>es(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return bs<=u&&u<t},is0:u=>u===bs,isOdd:u=>(u&Si)===Si,neg:u=>es(-u,t),eql:(u,c)=>u===c,sqr:u=>es(u*u,t),add:(u,c)=>es(u+c,t),sub:(u,c)=>es(u-c,t),mul:(u,c)=>es(u*c,t),pow:(u,c)=>qRe(a,u,c),div:(u,c)=>es(u*VB(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>VB(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>$Re(a,u),cmov:(u,c,h)=>h?c:u,toBytes:u=>r?Qee(u,s):ap(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?bC(u):Bo(u)}});return Object.freeze(a)}function jRe(t,e,r=!1){t=Ds("privateHash",t);let n=t.length,i=vC(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?bC(t):Bo(t);return es(s,e-Si)+Si}var KRe=BigInt(0),NB=BigInt(1);function VRe(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>KRe;)s&NB&&(o=o.add(a)),a=a.double(),s>>=NB;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],c=i,h=c;for(let f=0;f<o;f++){h=c,u.push(h);for(let p=1;p<a;p++)h=h.add(c),u.push(h);c=h.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),c=t.ZERO,h=t.BASE,f=BigInt(2**i-1),p=2**i,l=BigInt(i);for(let y=0;y<a;y++){let _=y*u,O=Number(o&f);o>>=l,O>u&&(O-=p,o+=NB);let F=_,B=_+Math.abs(O)-1,E=y%2!==0,I=O<0;O===0?h=h.add(r(E,s[F])):c=c.add(r(I,s[B]))}return{p:c,f:h}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function nte(t){return tte(t.Fp),t3(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vC(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function GRe(t){let e=nte(t);t3(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:zRe,hexToBytes:WRe}=NRe,d7={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=d7;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:zRe(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=d7,r=typeof t=="string"?WRe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=d7._parseInt(r.subarray(2)),{d:o,l:a}=d7._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)>=8?"00"+c:c,r=c=>{let h=c.toString(16);return h.length&1?`0${h}`:h},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Hc=BigInt(0),Qi=BigInt(1),yh=BigInt(2),c_=BigInt(3),hee=BigInt(4);function YRe(t){let e=GRe(t),{Fp:r}=e,n=e.toBytes||((y,_,O)=>{let F=_.toAffine();return Ra(Uint8Array.from([4]),r.toBytes(F.x),r.toBytes(F.y))}),i=e.fromBytes||(y=>{let _=y.subarray(1),O=r.fromBytes(_.subarray(0,r.BYTES)),F=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:O,y:F}});function s(y){let{a:_,b:O}=e,F=r.sqr(y),B=r.mul(F,y);return r.add(r.add(B,r.mul(y,_)),O)}function o(y){return typeof y=="bigint"&&Hc<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:_,nByteLength:O,wrapPrivateKey:F,n:B}=e;if(_&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=K2(y)),typeof y!="string"||!_.includes(y.length))throw new Error("Invalid key");y=y.padStart(O*2,"0")}let E;try{E=typeof y=="bigint"?y:Bo(Ds("private key",y,O))}catch{throw new Error(`private key must be ${O} bytes, hex or bigint, not ${typeof y}`)}return F&&(E=es(E,B)),a(E),E}let c=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(_,O,F){if(this.px=_,this.py=O,this.pz=F,_==null||!r.isValid(_))throw new Error("x required");if(O==null||!r.isValid(O))throw new Error("y required");if(F==null||!r.isValid(F))throw new Error("z required")}static fromAffine(_){let{x:O,y:F}=_||{};if(!_||!r.isValid(O)||!r.isValid(F))throw new Error("invalid affine point");if(_ instanceof f)throw new Error("projective point not allowed");let B=E=>r.eql(E,r.ZERO);return B(O)&&B(F)?f.ZERO:new f(O,F,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){let O=r.invertBatch(_.map(F=>F.pz));return _.map((F,B)=>F.toAffine(O[B])).map(f.fromAffine)}static fromHex(_){let O=f.fromAffine(i(Ds("pointHex",_)));return O.assertValidity(),O}static fromPrivateKey(_){return f.BASE.multiply(u(_))}_setWindowSize(_){this._WINDOW_SIZE=_,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:_,y:O}=this.toAffine();if(!r.isValid(_)||!r.isValid(O))throw new Error("bad point: x or y not FE");let F=r.sqr(O),B=s(_);if(!r.eql(F,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:_}=this.toAffine();if(r.isOdd)return!r.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:U}=_,N=r.eql(r.mul(O,U),r.mul(E,B)),H=r.eql(r.mul(F,U),r.mul(I,B));return N&&H}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:_,b:O}=e,F=r.mul(O,c_),{px:B,py:E,pz:I}=this,U=r.ZERO,N=r.ZERO,H=r.ZERO,D=r.mul(B,B),C=r.mul(E,E),d=r.mul(I,I),v=r.mul(B,E);return v=r.add(v,v),H=r.mul(B,I),H=r.add(H,H),U=r.mul(_,H),N=r.mul(F,d),N=r.add(U,N),U=r.sub(C,N),N=r.add(C,N),N=r.mul(U,N),U=r.mul(v,U),H=r.mul(F,H),d=r.mul(_,d),v=r.sub(D,d),v=r.mul(_,v),v=r.add(v,H),H=r.add(D,D),D=r.add(H,D),D=r.add(D,d),D=r.mul(D,v),N=r.add(N,D),d=r.mul(E,I),d=r.add(d,d),D=r.mul(d,v),U=r.sub(U,D),H=r.mul(d,C),H=r.add(H,H),H=r.add(H,H),new f(U,N,H)}add(_){h(_);let{px:O,py:F,pz:B}=this,{px:E,py:I,pz:U}=_,N=r.ZERO,H=r.ZERO,D=r.ZERO,C=e.a,d=r.mul(e.b,c_),v=r.mul(O,E),g=r.mul(F,I),m=r.mul(B,U),S=r.add(O,F),w=r.add(E,I);S=r.mul(S,w),w=r.add(v,g),S=r.sub(S,w),w=r.add(O,B);let R=r.add(E,U);return w=r.mul(w,R),R=r.add(v,m),w=r.sub(w,R),R=r.add(F,B),N=r.add(I,U),R=r.mul(R,N),N=r.add(g,m),R=r.sub(R,N),D=r.mul(C,w),N=r.mul(d,m),D=r.add(N,D),N=r.sub(g,D),D=r.add(g,D),H=r.mul(N,D),g=r.add(v,v),g=r.add(g,v),m=r.mul(C,m),w=r.mul(d,w),g=r.add(g,m),m=r.sub(v,m),m=r.mul(C,m),w=r.add(w,m),v=r.mul(g,w),H=r.add(H,v),v=r.mul(R,w),N=r.mul(S,N),N=r.sub(N,v),v=r.mul(S,g),D=r.mul(R,D),D=r.add(D,v),new f(N,H,D)}subtract(_){return this.add(_.negate())}is0(){return this.equals(f.ZERO)}wNAF(_){return l.wNAFCached(this,c,_,O=>{let F=r.invertBatch(O.map(B=>B.pz));return O.map((B,E)=>B.toAffine(F[E])).map(f.fromAffine)})}multiplyUnsafe(_){let O=f.ZERO;if(_===Hc)return O;if(a(_),_===Qi)return this;let{endo:F}=e;if(!F)return l.unsafeLadder(this,_);let{k1neg:B,k1:E,k2neg:I,k2:U}=F.splitScalar(_),N=O,H=O,D=this;for(;E>Hc||U>Hc;)E&Qi&&(N=N.add(D)),U&Qi&&(H=H.add(D)),D=D.double(),E>>=Qi,U>>=Qi;return B&&(N=N.negate()),I&&(H=H.negate()),H=new f(r.mul(H.px,F.beta),H.py,H.pz),N.add(H)}multiply(_){a(_);let O=_,F,B,{endo:E}=e;if(E){let{k1neg:I,k1:U,k2neg:N,k2:H}=E.splitScalar(O),{p:D,f:C}=this.wNAF(U),{p:d,f:v}=this.wNAF(H);D=l.constTimeNegate(I,D),d=l.constTimeNegate(N,d),d=new f(r.mul(d.px,E.beta),d.py,d.pz),F=D.add(d),B=C.add(v)}else{let{p:I,f:U}=this.wNAF(O);F=I,B=U}return f.normalizeZ([F,B])[0]}multiplyAndAddUnsafe(_,O,F){let B=f.BASE,E=(U,N)=>N===Hc||N===Qi||!U.equals(B)?U.multiplyUnsafe(N):U.multiply(N),I=E(this,O).add(E(_,F));return I.is0()?void 0:I}toAffine(_){let{px:O,py:F,pz:B}=this,E=this.is0();_==null&&(_=E?r.ONE:r.inv(B));let I=r.mul(O,_),U=r.mul(F,_),N=r.mul(B,_);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:I,y:U}}isTorsionFree(){let{h:_,isTorsionFree:O}=e;if(_===Qi)return!0;if(O)return O(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:_,clearCofactor:O}=e;return _===Qi?this:O?O(f,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return this.assertValidity(),n(f,this,_)}toHex(_=!0){return K2(this.toRawBytes(_))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let p=e.nBitLength,l=VRe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function XRe(t){let e=nte(t);return t3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ZRe(t){let e=XRe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(w){return Hc<w&&w<r.ORDER}function a(w){return es(w,n)}function u(w){return VB(w,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=YRe({...e,toBytes(w,R,T){let b=R.toAffine(),x=r.toBytes(b.x),P=Ra;return T?P(Uint8Array.from([R.hasEvenY()?2:3]),x):P(Uint8Array.from([4]),x,r.toBytes(b.y))},fromBytes(w){let R=w.length,T=w[0],b=w.subarray(1);if(R===i&&(T===2||T===3)){let x=Bo(b);if(!o(x))throw new Error("Point is not on curve");let P=f(x),L=r.sqrt(P),V=(L&Qi)===Qi;return(T&1)===1!==V&&(L=r.neg(L)),{x,y:L}}else if(R===s&&T===4){let x=r.fromBytes(b.subarray(0,r.BYTES)),P=r.fromBytes(b.subarray(r.BYTES,2*r.BYTES));return{x,y:P}}else throw new Error(`Point of length ${R} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),l=w=>K2(ap(w,e.nByteLength));function y(w){let R=n>>Qi;return w>R}function _(w){return y(w)?a(-w):w}let O=(w,R,T)=>Bo(w.slice(R,T));class F{constructor(R,T,b){this.r=R,this.s=T,this.recovery=b,this.assertValidity()}static fromCompact(R){let T=e.nByteLength;return R=Ds("compactSignature",R,T*2),new F(O(R,0,T),O(R,T,2*T))}static fromDER(R){let{r:T,s:b}=d7.toSig(Ds("DER",R));return new F(T,b)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(R){return new F(this.r,this.s,R)}recoverPublicKey(R){let{r:T,s:b,recovery:x}=this,P=H(Ds("msgHash",R));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");let L=x===2||x===3?T+e.n:T;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let V=(x&1)===0?"02":"03",W=c.fromHex(V+l(L)),ee=u(L),ae=a(-P*ee),se=a(b*ee),j=c.BASE.multiplyAndAddUnsafe(W,ae,se);if(!j)throw new Error("point at infinify");return j.assertValidity(),j}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return V2(this.toDERHex())}toDERHex(){return d7.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return V2(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}let B={isValidPrivateKey(w){try{return h(w),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let w=e.randomBytes(r.BYTES+8),R=jRe(w,n);return ap(R,e.nByteLength)},precompute(w=8,R=c.BASE){return R._setWindowSize(w),R.multiply(BigInt(3)),R}};function E(w,R=!0){return c.fromPrivateKey(w).toRawBytes(R)}function I(w){let R=w instanceof Uint8Array,T=typeof w=="string",b=(R||T)&&w.length;return R?b===i||b===s:T?b===2*i||b===2*s:w instanceof c}function U(w,R,T=!0){if(I(w))throw new Error("first arg must be private key");if(!I(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(h(w)).toRawBytes(T)}let N=e.bits2int||function(w){let R=Bo(w),T=w.length*8-e.nBitLength;return T>0?R>>BigInt(T):R},H=e.bits2int_modN||function(w){return a(N(w))},D=yC(e.nBitLength);function C(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(Hc<=w&&w<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ap(w,e.nByteLength)}function d(w,R,T=v){if(["recovered","canonical"].some(Q=>Q in T))throw new Error("sign() legacy options not supported");let{hash:b,randomBytes:x}=e,{lowS:P,prehash:L,extraEntropy:V}=T;P==null&&(P=!0),w=Ds("msgHash",w),L&&(w=Ds("prehashed msgHash",b(w)));let W=H(w),ee=h(R),ae=[C(ee),C(W)];if(V!=null){let Q=V===!0?x(r.BYTES):V;ae.push(Ds("extraEntropy",Q,r.BYTES))}let se=Ra(...ae),j=W;function Z(Q){let ne=N(Q);if(!p(ne))return;let ue=u(ne),ge=c.BASE.multiply(ne).toAffine(),xe=a(ge.x);if(xe===Hc)return;let Pe=a(ue*a(j+xe*ee));if(Pe===Hc)return;let Le=(ge.x===xe?0:2)|Number(ge.y&Qi),ke=Pe;return P&&y(Pe)&&(ke=_(Pe),Le^=1),new F(xe,ke,Le)}return{seed:se,k2sig:Z}}let v={lowS:e.lowS,prehash:!1},g={lowS:e.lowS,prehash:!1};function m(w,R,T=v){let{seed:b,k2sig:x}=d(w,R,T);return ete(e.hash.outputLen,e.nByteLength,e.hmac)(b,x)}c.BASE._setWindowSize(8);function S(w,R,T,b=g){let x=w;if(R=Ds("msgHash",R),T=Ds("publicKey",T),"strict"in b)throw new Error("options.strict was renamed to lowS");let{lowS:P,prehash:L}=b,V,W;try{if(typeof x=="string"||x instanceof Uint8Array)try{V=F.fromDER(x)}catch(ge){if(!(ge instanceof d7.Err))throw ge;V=F.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){let{r:ge,s:xe}=x;V=new F(ge,xe)}else throw new Error("PARSE");W=c.fromHex(T)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&V.hasHighS())return!1;L&&(R=e.hash(R));let{r:ee,s:ae}=V,se=H(R),j=u(ae),Z=a(se*j),Q=a(ee*j),ne=c.BASE.multiplyAndAddUnsafe(W,Z,Q)?.toAffine();return ne?a(ne.x)===ee:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:U,sign:m,verify:S,ProjectivePoint:c,Signature:F,utils:B}}function JRe(t,e){let r=t.ORDER,n=Hc;for(let p=r-Qi;p%yh===Hc;p/=yh)n+=Qi;let i=n,s=(r-Qi)/yh**i,o=(s-Qi)/yh,a=yh**i-Qi,u=yh**(i-Qi),c=t.pow(e,s),h=t.pow(e,(s+Qi)/yh),f=(p,l)=>{let y=c,_=t.pow(l,a),O=t.sqr(_);O=t.mul(O,l);let F=t.mul(p,O);F=t.pow(F,o),F=t.mul(F,_),_=t.mul(F,l),O=t.mul(F,p);let B=t.mul(O,_);F=t.pow(B,u);let E=t.eql(F,t.ONE);_=t.mul(O,h),F=t.mul(B,y),O=t.cmov(_,O,E),B=t.cmov(F,B,E);for(let I=i;I>1;I--){let U=yh**(I-yh),N=t.pow(B,U),H=t.eql(N,t.ONE);_=t.mul(O,y),y=t.mul(y,y),N=t.mul(B,y),O=t.cmov(_,O,H),B=t.cmov(N,B,H)}return{isValid:E,value:O}};if(t.ORDER%hee===c_){let p=(t.ORDER-c_)/hee,l=t.sqrt(t.neg(e));f=(y,_)=>{let O=t.sqr(_),F=t.mul(y,_);O=t.mul(O,F);let B=t.pow(O,p);B=t.mul(B,F);let E=t.mul(B,l),I=t.mul(t.sqr(B),_),U=t.eql(I,y),N=t.cmov(E,B,U);return{isValid:U,value:N}}}return f}function QRe(t,e){if(tte(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=JRe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,h,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),h=t.mul(i,o);let{isValid:p,value:l}=r(s,c);f=t.mul(i,n),f=t.mul(f,l),h=t.cmov(h,o,p),f=t.cmov(f,l,p);let y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),h=t.div(h,a),{x:h,y:f}}}function eNe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return B_(t);throw new Error("DST must be Uint8Array or string")}var tNe=Bo;function sp(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function rNe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function zm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function _C(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function nNe(t,e,r,n){zm(t),zm(e),_C(r),e.length>255&&(e=n(Ra(B_("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let a=Ra(e,sp(e.length,1)),u=sp(0,s),c=sp(r,2),h=new Array(o),f=n(Ra(u,t,c,sp(0,1),a));h[0]=n(Ra(f,sp(1,1),a));for(let l=1;l<=o;l++){let y=[rNe(f,h[l-1]),sp(l+1,1),a];h[l]=n(Ra(...y))}return Ra(...h).slice(0,r)}function iNe(t,e,r,n,i){if(zm(t),zm(e),_C(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(B_("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(sp(r,2)).update(e).update(sp(e.length,1)).digest()}function lee(t,e,r){t3(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:a,DST:u}=r;zm(t),_C(e);let c=eNe(u),h=n.toString(2).length,f=Math.ceil((h+i)/8),p=e*s*f,l;if(a==="xmd")l=nNe(t,c,p,o);else if(a==="xof")l=iNe(t,c,p,i,o);else if(a===void 0)l=t;else throw new Error('expand must be "xmd", "xof" or undefined');let y=new Array(e);for(let _=0;_<e;_++){let O=new Array(s);for(let F=0;F<s;F++){let B=f*(F+_*s),E=l.subarray(B,B+f);O[F]=es(tNe(E),n)}y[_]=O}return y}function sNe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,a,u]=r.map(c=>c.reduce((h,f)=>t.add(t.mul(h,n),f)));return n=t.div(s,o),i=t.mul(i,t.div(a,u)),{x:n,y:i}}}function oNe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=lee(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=lee(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}var ite=class extends Wee{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,l7.hash(e);let n=pC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return l7.exists(this),this.iHash.update(e),this}digestInto(e){l7.exists(this),l7.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},ste=(t,e,r)=>new ite(t,e).update(r).digest();ste.create=(t,e)=>new ite(t,e);function aNe(t){return{hash:t,hmac:(e,...r)=>ste(t,e,vRe(...r)),randomBytes:Xee}}function uNe(t,e){let r=n=>ZRe({...t,...aNe(n)});return Object.freeze({...r(e),create:r})}var C_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ote=BigInt(1),h_=BigInt(2),dee=(t,e)=>(t+e/h_)/e;function ate(t){let e=C_,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,h=c*c*t%e,f=Nu(h,r,e)*h%e,p=Nu(f,r,e)*h%e,l=Nu(p,h_,e)*c%e,y=Nu(l,i,e)*l%e,_=Nu(y,s,e)*y%e,O=Nu(_,a,e)*_%e,F=Nu(O,u,e)*O%e,B=Nu(F,a,e)*_%e,E=Nu(B,r,e)*h%e,I=Nu(E,o,e)*y%e,U=Nu(I,n,e)*c%e,N=Nu(U,h_,e);if(!cp.eql(cp.sqr(N),t))throw new Error("Cannot find square root");return N}var cp=rte(C_,void 0,void 0,{sqrt:ate}),rf=uNe({a:BigInt(0),b:BigInt(7),Fp:cp,n:f_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=f_,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ote*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=dee(s*t,e),u=dee(-n*t,e),c=es(t-a*r-u*i,e),h=es(-a*n-u*s,e),f=c>o,p=h>o;if(f&&(c=e-c),p&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:p,k2:h}}}},u_),k_=BigInt(0),ute=t=>typeof t=="bigint"&&k_<t&&t<C_,cNe=t=>typeof t=="bigint"&&k_<t&&t<f_,pee={};function l_(t,...e){let r=pee[t];if(r===void 0){let n=u_(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Ra(n,n),pee[t]=r}return u_(Ra(r,...e))}var xC=t=>t.toRawBytes(!0).slice(1),GB=t=>ap(t,32),FB=t=>es(t,C_),Wm=t=>es(t,f_),SC=rf.ProjectivePoint,fNe=(t,e,r)=>SC.BASE.multiplyAndAddUnsafe(t,e,r);function zB(t){let e=rf.utils.normPrivateKeyToScalar(t),r=SC.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Wm(-e),bytes:xC(r)}}function cte(t){if(!ute(t))throw new Error("bad x: need 0 < x < p");let e=FB(t*t),r=FB(e*t+BigInt(7)),n=ate(r);n%h_!==k_&&(n=FB(-n));let i=new SC(t,n,ote);return i.assertValidity(),i}function fte(...t){return Wm(Bo(l_("BIP0340/challenge",...t)))}function hNe(t){return zB(t).bytes}function lNe(t,e,r=Xee(32)){let n=Ds("message",t),{bytes:i,scalar:s}=zB(e),o=Ds("auxRand",r,32),a=GB(s^Bo(l_("BIP0340/aux",o))),u=l_("BIP0340/nonce",a,i,n),c=Wm(Bo(u));if(c===k_)throw new Error("sign failed: k is zero");let{bytes:h,scalar:f}=zB(c),p=fte(h,i,n),l=new Uint8Array(64);if(l.set(h,0),l.set(GB(Wm(f+p*s)),32),!hte(l,n,i))throw new Error("sign: Invalid signature produced");return l}function hte(t,e,r){let n=Ds("signature",t,64),i=Ds("message",e),s=Ds("publicKey",r,32);try{let o=cte(Bo(s)),a=Bo(n.subarray(0,32));if(!ute(a))return!1;let u=Bo(n.subarray(32,64));if(!cNe(u))return!1;let c=fte(GB(a),xC(o),i),h=fNe(o,u,Wm(-c));return!(!h||!h.hasEvenY()||h.toAffine().x!==a)}catch{return!1}}var dNe={getPublicKey:hNe,sign:lNe,verify:hte,utils:{randomPrivateKey:rf.utils.randomPrivateKey,lift_x:cte,pointToBytes:xC,numberToBytesBE:ap,bytesToNumberBE:Bo,taggedHash:l_,mod:es}},pNe=sNe(cp,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),mNe=QRe(cp,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:cp.create(BigInt("-11"))});oNe(rf.ProjectivePoint,t=>{let{x:e,y:r}=mNe(cp.create(t[0]));return pNe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:cp.ORDER,m:1,k:128,expand:"xmd",hash:u_});function WB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function gNe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function lte(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function bNe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");WB(t.outputLen),WB(t.blockLen)}function yNe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vNe(t,e){lte(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var _Ne={number:WB,bool:gNe,bytes:lte,hash:bNe,exists:yNe,output:vNe},HB=_Ne;var DB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ef=(t,e)=>t<<32-e|t>>>e,xNe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xNe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function SNe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function dte(t){if(typeof t=="string"&&(t=SNe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var wNe=class{clone(){return this._cloneInto()}};function pte(t){let e=n=>t().update(dte(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ENe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var TNe=class extends wNe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=DB(this.buffer)}update(e){HB.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=dte(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=DB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){HB.exists(this),HB.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;ENe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=DB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},ANe=(t,e,r)=>t&e^~t&r,INe=(t,e,r)=>t&e^t&r^e&r,PNe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ep=new Uint32Array(64),mte=class extends TNe{constructor(){super(64,32,8,!1),this.A=Qd[0]|0,this.B=Qd[1]|0,this.C=Qd[2]|0,this.D=Qd[3]|0,this.E=Qd[4]|0,this.F=Qd[5]|0,this.G=Qd[6]|0,this.H=Qd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)ep[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=ep[f-15],l=ep[f-2],y=ef(p,7)^ef(p,18)^p>>>3,_=ef(l,17)^ef(l,19)^l>>>10;ep[f]=_+ep[f-7]+y+ep[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=ef(a,6)^ef(a,11)^ef(a,25),l=h+p+ANe(a,u,c)+PNe[f]+ep[f]|0,_=(ef(n,2)^ef(n,13)^ef(n,22))+INe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){ep.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},ONe=class extends mte{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},YB=pte(()=>new mte);pte(()=>new ONe);function BNe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function CNe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function kNe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:MNe}=crypto??globalThis.crypto??window.crypto;function RNe(t=32){if(typeof MNe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function NNe(t,e,r="be"){e===void 0&&(e=t.length),BNe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function gte(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var FNe=new TextEncoder,HNe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function bte(t){for(let e of HNe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function DNe(t,e,r=!1){typeof t=="string"&&(t=FNe.encode(t));let n=bte(e),i=n.length,s=[],o="",a,u=0,c,h;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)h=s[u],h=h>0?h*256+c:c,c=h/i|0,s[u]=h%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function UNe(t,e){let r=bte(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function yte(t){return YB(YB(t))}function LNe(t){let e=yte(t);return gte([t,e.slice(0,4)])}function qNe(t){let e=t.slice(0,-4),r=t.slice(-4);if(yte(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var mee={encode:DNe,decode:UNe},vte={encode:t=>{let e=LNe(t);return mee.encode(e,"base58")},decode:t=>{let e=mee.decode(t,"base58");return qNe(e)}},_te="qpzry9x8gf2tvdw0s3jn54khce6mua7l",$Ne=[996825010,642813549,513874426,1027748829,705979059],d_=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function xte(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=$Ne[i])}return e}function Ste(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function jNe(t,e,r){let n=Ste(t).concat(e);return xte(n)===r.const}function KNe(t,e,r){let n=Ste(t).concat(e).concat([0,0,0,0,0,0]),i=xte(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function wte(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function VNe(t,e,r){let n=e.concat(KNe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=_te.charAt(n[s]);return i}function Ete(t){if(!GNe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!zNe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=_te.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=d_.find(s=>s.version===e[0])??d_[0];if(!jNe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function GNe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function zNe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function WNe(t,e="bc",r=0){let n=[r,...wte([...t],8,5)],i=d_.find(o=>o.version===r)??d_[0],s=VNe(e,n,i);return Tte(s),s}function Tte(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=Ete(t),i=wte(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function YNe(t){t=t.toLowerCase();let[e,r]=Ete(t);return r[0]}var Ate={encode:WNe,decode:Tte,version:YNe},Ite="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",XNe=new TextEncoder;function Ote(t,e=!1,r=!0){typeof t=="string"&&(t=XNe.encode(t));let n=e?Pte:Ite,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function Bte(t,e=!1){let r=e||t.includes("-")||t.includes("_")?Pte.split(""):Ite.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var Cte={encode:Ote,decode:Bte},kte={encode:t=>Ote(t,!0,!1),decode:t=>Bte(t,!0)},ZNe=BigInt(0),JNe=BigInt(255),Mte=BigInt(256);function QNe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function eFe(t,e,r="be"){e===void 0&&(e=QNe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>ZNe;){let a=t&JNe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/Mte}return new Uint8Array(i)}function tFe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*Mte+BigInt(t[r]);return BigInt(e)}function rFe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function nFe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function iFe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function sFe(t,e,r="be"){e===void 0&&(e=iFe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function oFe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],kNe(e);return e}var aFe=new TextEncoder,uFe=new TextDecoder;function wC(t){return aFe.encode(t)}function UB(t){return uFe.decode(t)}function cFe(t,e){CNe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function fFe(t,e,r="le"){e=cFe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function hFe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function lFe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return wC(e)}function dFe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return NNe(t,e,r);if(typeof t=="string")return fFe(t,e,r);if(typeof t=="bigint")return eFe(t,e,r);if(typeof t=="number")return sFe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var vr=class extends Uint8Array{static random(e=32){let r=RNe(e);return new vr(r,e)}constructor(e,r,n){let i=dFe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new XB(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return oFe(r)}toBin(){return nFe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return tFe(r)}toHash(){let e=YB(this);return new vr(e)}toJson(){let e=UB(this);return JSON.parse(e)}toBech32(e,r=0){return Ate.encode(this,e,r)}toStr(){return UB(this)}toHex(){return hFe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return vte.encode(this)}toBase64(){return Cte.encode(this)}toB64url(){return kte.encode(this)}prepend(e){return vr.join([vr.bytes(e),this])}append(e){return vr.join([this,vr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new vr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new vr(n)}reverse(){let e=new Uint8Array(this).reverse();return new vr(e)}write(e,r){let n=vr.bytes(e);this.set(n,r)}prefixSize(e){let r=vr.varInt(this.length,e);return vr.join([r,this])}static from(e){return new vr(Uint8Array.from(e))}static of(...e){return new vr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>vr.bytes(i)),n=gte(r);return new vr(n)}static varInt(e,r){if(e<253)return vr.num(e,1);if(e<65536)return vr.of(253,...vr.num(e,2,r));if(e<4294967296)return vr.of(254,...vr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return vr.of(255,...vr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},Bt=vr;(()=>{vr.num=pFe})(),(()=>{vr.big=gFe})(),(()=>{vr.bin=mFe})(),(()=>{vr.raw=bFe})(),(()=>{vr.str=yFe})(),(()=>{vr.hex=vFe})(),(()=>{vr.bytes=_Fe})(),(()=>{vr.json=xFe})(),(()=>{vr.base64=SFe})(),(()=>{vr.b64url=wFe})(),(()=>{vr.bech32=EFe})(),(()=>{vr.b58chk=TFe})(),(()=>{vr.encode=wC})(),(()=>{vr.decode=UB})();function pFe(t,e,r){return new Bt(t,e,r)}function mFe(t,e,r){return new Bt(rFe(t),e,r)}function gFe(t,e,r){return new Bt(t,e,r)}function bFe(t,e,r){return new Bt(t,e,r)}function yFe(t,e,r){return new Bt(wC(t),e,r)}function vFe(t,e,r){return new Bt(t,e,r)}function _Fe(t,e,r){return new Bt(t,e,r)}function xFe(t){return new Bt(lFe(t))}function SFe(t){return new Bt(Cte.decode(t))}function wFe(t){return new Bt(kte.decode(t))}function EFe(t){return new Bt(Ate.decode(t))}function TFe(t){return new Bt(vte.decode(t))}var XB=class{constructor(e){this.data=Bt.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new Bt(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}},p_=rf.CURVE,EC=p_.n,AFe=p_.p,IFe={x:p_.Gx,y:p_.Gy},PFe=BigInt(0),OFe=BigInt(1),BFe=BigInt(2),CFe=BigInt(3),kFe=BigInt(4),ZB={N:EC,P:AFe,G:IFe,_0n:PFe,_1n:OFe,_2n:BFe,_3n:CFe,_4n:kFe},Gm=rte(EC,32,!0),Rte=t=>es(t,EC);function TC(t,e=!1){if(e)throw new Error(t);return!1}function Nte(t){return Bt.random(t)}function MFe(t){let e=Bt.bytes(t).big;return Bt.big(Rte(e),32)}var RFe=Object.freeze({__proto__:null,fail:TC,mod_bytes:MFe,random:Nte}),{N:NFe,P:slt,_0n:FFe}=ZB;function HFe(t,e,r){let n=Bt.bytes(t);return n.length!==e?TC(`Invalid byte size: ${n.hex} !== ${e}`,r):!0}function DFe(t,e){return typeof t=="bigint"&&FFe<t&&t<NFe||TC("x value is not in the field!",e),!0}var gee=rf.ProjectivePoint,xi=class extends Uint8Array{static mod(e){return new xi(e)}static is_valid(e,r){let n=Bt.bytes(e,32).big;return DFe(n,r)}constructor(e){let r=UFe(e);r=Rte(r),xi.is_valid(r,!0),super(Bt.big(r,32),32)}get buff(){return new Bt(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new xi(e).big>this.big}lt(e){return new xi(e).big<this.big}eq(e){return new xi(e).big===this.big}ne(e){return new xi(e).big!==this.big}add(e){let r=xi.mod(e),n=Gm.add(this.big,r.big);return new xi(n)}sub(e){let r=xi.mod(e),n=Gm.sub(this.big,r.big);return new xi(n)}mul(e){let r=xi.mod(e),n=Gm.mul(this.big,r.big);return new xi(n)}pow(e){let r=xi.mod(e),n=Gm.pow(this.big,r.big);return new xi(n)}div(e){let r=xi.mod(e),n=Gm.div(this.big,r.big);return new xi(n)}negate(){return new xi(xi.N-this.big)}generate(){let r=rf.ProjectivePoint.BASE.multiply(this.big);return _h.import(r)}},Us=xi;(()=>{xi.N=rf.CURVE.n})();var jn=class{static from_x(e){let r=LFe(e);r.length===32&&(r=r.prepend(2)),HFe(r,33);let n=gee.fromHex(r.hex);return n.assertValidity(),new jn(n.x,n.y)}static generate(e){let r=Us.mod(e),n=jn.base.multiply(r.big);return jn.import(n)}static import(e){let r=e instanceof jn?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new jn(r.x,r.y)}constructor(e,r){this._p=new gee(e,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return Bt.big(this.p.x,32)}get y(){return Bt.big(this.p.y,32)}get buff(){return Bt.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(e){let r=e instanceof jn?e:jn.from_x(e);return this.x.big===r.x.big&&this.y.big===r.y.big}add(e){return e instanceof jn?jn.import(this.p.add(e.p)):jn.import(this.p.add(jn.generate(e).p))}sub(e){return e instanceof jn?jn.import(this.p.subtract(e.p)):jn.import(this.p.subtract(jn.generate(e).p))}mul(e){return e instanceof jn?jn.import(this.p.multiply(e.x.big)):jn.import(this.p.multiply(Us.mod(e).big))}negate(){return jn.import(this.p.negate())}},_h=jn;(()=>{jn.P=ZB.P})(),(()=>{jn.G=ZB.G})(),(()=>{jn.base=rf.ProjectivePoint.BASE})();function UFe(t){if(t instanceof Us)return t.big;if(t instanceof _h)return t.x.big;if(t instanceof Uint8Array)return Bt.raw(t).big;if(typeof t=="string")return Bt.hex(t).big;if(typeof t=="number")return Bt.num(t).big;if(typeof t=="bigint")return BigInt(t);throw TypeError("Invalid input type:"+typeof t)}function LFe(t){if(t instanceof Us)return t.point.buff;if(t instanceof _h)return t.buff;if(t instanceof Uint8Array||typeof t=="string")return Bt.bytes(t);if(typeof t=="number"||typeof t=="bigint")return Bt.bytes(t,32);throw new TypeError(`Unknown type: ${typeof t}`)}function JB(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function qFe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Fte(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function $Fe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");JB(t.outputLen),JB(t.blockLen)}function jFe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KFe(t,e){Fte(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var VFe={number:JB,bool:qFe,bytes:Fte,hash:$Fe,exists:jFe,output:KFe},p7=VFe;var GFe=t=>t instanceof Uint8Array,LB=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),tf=(t,e)=>t<<32-e|t>>>e,zFe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!zFe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function WFe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function AC(t){if(typeof t=="string"&&(t=WFe(t)),!GFe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var m_=class{clone(){return this._cloneInto()}};function P7(t){let e=n=>t().update(AC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function YFe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Ym=class extends m_{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=LB(this.buffer)}update(e){p7.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=AC(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=LB(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){p7.exists(this),p7.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;YFe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=LB(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,h[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},XFe=(t,e,r)=>t&e^~t&r,ZFe=(t,e,r)=>t&e^t&r^e&r,JFe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rp=new Uint32Array(64),g_=class extends Ym{constructor(){super(64,32,8,!1),this.A=tp[0]|0,this.B=tp[1]|0,this.C=tp[2]|0,this.D=tp[3]|0,this.E=tp[4]|0,this.F=tp[5]|0,this.G=tp[6]|0,this.H=tp[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)rp[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=rp[f-15],l=rp[f-2],y=tf(p,7)^tf(p,18)^p>>>3,_=tf(l,17)^tf(l,19)^l>>>10;rp[f]=_+rp[f-7]+y+rp[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:h}=this;for(let f=0;f<64;f++){let p=tf(a,6)^tf(a,11)^tf(a,25),l=h+p+XFe(a,u,c)+JFe[f]+rp[f]|0,_=(tf(n,2)^tf(n,13)^tf(n,22))+ZFe(n,i,s)|0;h=c,c=u,u=a,a=o+l|0,o=s,s=i,i=n,n=l+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,c,h)}roundClean(){rp.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},QB=class extends g_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},b_=P7(()=>new g_);P7(()=>new QB);var t_=BigInt(2**32-1),eC=BigInt(32);function Hte(t,e=!1){return e?{h:Number(t&t_),l:Number(t>>eC&t_)}:{h:Number(t>>eC&t_)|0,l:Number(t&t_)|0}}function QFe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=Hte(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}var eHe=(t,e)=>BigInt(t>>>0)<<eC|BigInt(e>>>0),tHe=(t,e,r)=>t>>>r,rHe=(t,e,r)=>t<<32-r|e>>>r,nHe=(t,e,r)=>t>>>r|e<<32-r,iHe=(t,e,r)=>t<<32-r|e>>>r,sHe=(t,e,r)=>t<<64-r|e>>>r-32,oHe=(t,e,r)=>t>>>r-32|e<<64-r,aHe=(t,e)=>e,uHe=(t,e)=>t,cHe=(t,e,r)=>t<<r|e>>>32-r,fHe=(t,e,r)=>e<<r|t>>>32-r,hHe=(t,e,r)=>e<<r-32|t>>>64-r,lHe=(t,e,r)=>t<<r-32|e>>>64-r;function dHe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var pHe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),mHe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,gHe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),bHe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,yHe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),vHe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,_He={fromBig:Hte,split:QFe,toBig:eHe,shrSH:tHe,shrSL:rHe,rotrSH:nHe,rotrSL:iHe,rotrBH:sHe,rotrBL:oHe,rotr32H:aHe,rotr32L:uHe,rotlSH:cHe,rotlSL:fHe,rotlBH:hHe,rotlBL:lHe,add:dHe,add3L:pHe,add3H:mHe,add4L:gHe,add4H:bHe,add5H:vHe,add5L:yHe},pr=_He,[xHe,SHe]=pr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),np=new Uint32Array(80),ip=new Uint32Array(80),G2=class extends Ym{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:h,Fh:f,Fl:p,Gh:l,Gl:y,Hh:_,Hl:O}=this;return[e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O]}set(e,r,n,i,s,o,a,u,c,h,f,p,l,y,_,O){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=l|0,this.Gl=y|0,this.Hh=_|0,this.Hl=O|0}process(e,r){for(let E=0;E<16;E++,r+=4)np[E]=e.getUint32(r),ip[E]=e.getUint32(r+=4);for(let E=16;E<80;E++){let I=np[E-15]|0,U=ip[E-15]|0,N=pr.rotrSH(I,U,1)^pr.rotrSH(I,U,8)^pr.shrSH(I,U,7),H=pr.rotrSL(I,U,1)^pr.rotrSL(I,U,8)^pr.shrSL(I,U,7),D=np[E-2]|0,C=ip[E-2]|0,d=pr.rotrSH(D,C,19)^pr.rotrBH(D,C,61)^pr.shrSH(D,C,6),v=pr.rotrSL(D,C,19)^pr.rotrBL(D,C,61)^pr.shrSL(D,C,6),g=pr.add4L(H,v,ip[E-7],ip[E-16]),m=pr.add4H(g,N,d,np[E-7],np[E-16]);np[E]=m|0,ip[E]=g|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:h,Eh:f,El:p,Fh:l,Fl:y,Gh:_,Gl:O,Hh:F,Hl:B}=this;for(let E=0;E<80;E++){let I=pr.rotrSH(f,p,14)^pr.rotrSH(f,p,18)^pr.rotrBH(f,p,41),U=pr.rotrSL(f,p,14)^pr.rotrSL(f,p,18)^pr.rotrBL(f,p,41),N=f&l^~f&_,H=p&y^~p&O,D=pr.add5L(B,U,H,SHe[E],ip[E]),C=pr.add5H(D,F,I,N,xHe[E],np[E]),d=D|0,v=pr.rotrSH(n,i,28)^pr.rotrBH(n,i,34)^pr.rotrBH(n,i,39),g=pr.rotrSL(n,i,28)^pr.rotrBL(n,i,34)^pr.rotrBL(n,i,39),m=n&s^n&a^s&a,S=i&o^i&u^o&u;F=_|0,B=O|0,_=l|0,O=y|0,l=f|0,y=p|0,{h:f,l:p}=pr.add(c|0,h|0,C|0,d|0),c=a|0,h=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let w=pr.add3L(d,g,S);n=pr.add3H(w,C,v,m),i=w|0}({h:n,l:i}=pr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=pr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=pr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:h}=pr.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:f,l:p}=pr.add(this.Eh|0,this.El|0,f|0,p|0),{h:l,l:y}=pr.add(this.Fh|0,this.Fl|0,l|0,y|0),{h:_,l:O}=pr.add(this.Gh|0,this.Gl|0,_|0,O|0),{h:F,l:B}=pr.add(this.Hh|0,this.Hl|0,F|0,B|0),this.set(n,i,s,o,a,u,c,h,f,p,l,y,_,O,F,B)}roundClean(){np.fill(0),ip.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},tC=class extends G2{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},rC=class extends G2{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},nC=class extends G2{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},wHe=P7(()=>new G2);P7(()=>new tC);P7(()=>new rC);P7(()=>new nC);var EHe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Dte=Uint8Array.from({length:16},(t,e)=>e),THe=Dte.map(t=>(9*t+5)%16),IC=[Dte],PC=[THe];for(let t=0;t<4;t++)for(let e of[IC,PC])e.push(e[t].map(r=>EHe[r]));var Ute=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),AHe=IC.map((t,e)=>t.map(r=>Ute[e][r])),IHe=PC.map((t,e)=>t.map(r=>Ute[e][r])),PHe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),OHe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),r_=(t,e)=>t<<e|t>>>32-e;function bee(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var n_=new Uint32Array(16),iC=class extends Ym{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let l=0;l<16;l++,r+=4)n_[l]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,u=a,c=this.h3|0,h=c,f=this.h4|0,p=f;for(let l=0;l<5;l++){let y=4-l,_=PHe[l],O=OHe[l],F=IC[l],B=PC[l],E=AHe[l],I=IHe[l];for(let U=0;U<16;U++){let N=r_(n+bee(l,s,a,c)+n_[F[U]]+_,E[U])+f|0;n=f,f=c,c=r_(a,10)|0,a=s,s=N}for(let U=0;U<16;U++){let N=r_(i+bee(y,o,u,h)+n_[B[U]]+O,I[U])+p|0;i=p,p=h,h=r_(u,10)|0,u=o,o=N}}this.set(this.h1+a+h|0,this.h2+c+p|0,this.h3+f+i|0,this.h4+n+o|0,this.h0+s+u|0)}roundClean(){n_.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},BHe=P7(()=>new iC),y_=class extends m_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,p7.hash(e);let n=AC(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return p7.exists(this),this.iHash.update(e),this}digestInto(e){p7.exists(this),p7.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Lte=(t,e,r)=>new y_(t,e).update(r).digest();Lte.create=(t,e)=>new y_(t,e);function CHe(t){let e=Bt.bytes(t);return Bt.raw(b_(e))}function xh(t){let e=Bt.bytes(t);return Bt.raw(b_(b_(e)))}function M_(t){let e=Bt.bytes(t);return Bt.raw(BHe(b_(e)))}function kHe(t,e){let r=Bt.bytes(t),n=Bt.bytes(e);return Bt.raw(Lte(wHe,r,n))}function MHe(t){let e=Bt.str(t).digest;return Bt.join([e,e])}function RHe(t=32){return OC(Nte(t))}function OC(t){return Us.mod(t).buff}function qte(t,e=!1){let r=Us.mod(t).point;return e?r.x:r.buff}function $te(t,e){let r=_h.from_x(e),n=Us.mod(t);return r.mul(n).buff}function NHe(t,e,r="ecdh/code"){let n=MHe(r),i=OC(t),s=qte(i),o=Bt.bytes(e),a=$te(i,o),u=[s.hex,o.hex];return u.sort(),kHe(a,Bt.join([n,...u]))}function FHe(t){let e=Bt.bytes(t);switch(!0){case e.length===32:return!0;case(e.length===33&&e[0]===2):return!0;case(e.length===33&&e[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${e.hex}`)}}function HHe(t){let e=Bt.bytes(t);switch(e.length){case 32:return e;case 33:return e.slice(1,33);default:throw new Error(`Invalid key length: ${e.length}`)}}var DHe=Object.freeze({__proto__:null,genSecretKey:RHe,getPublicKey:qte,getSecretKey:OC,getSharedCode:NHe,getSharedKey:$te,is_even_pub:FHe,xonly_pub:HHe});Bt.random(32);var jte={secp:rf,schnorr:dNe},sC={...DHe,...RFe};function R_(t){let e=le.bytes(t);return af(e,33),M_(e)}function Kte(t){let e=Ls.fmt.toBytes(t,!1);return M_(e)}function Vte(t){let e=Ls.fmt.toBytes(t,!1);return CHe(e)}function Gte(t,e="main"){let r=e==="main"?["1"]:["m","n"];for(let n of r)if(t.startsWith(n))return!0;return!1}function zte(t,e="main"){let r=le.bytes(t),n=e==="main"?le.num(0):le.num(111);return af(t,20),r.prepend(n).tob58chk()}function UHe(t,e="main"){if(!Gte(t,e))throw new TypeError("Invalid p2pkh address!");return le.b58chk(t).slice(1)}function LHe(t){let e=le.bytes(t);return af(e,20),["OP_DUP","OP_HASH160",e.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function qHe(t,e){let r=R_(t);return zte(r,e)}var Wte={check:Gte,encode:zte,decode:UHe,hash:R_,scriptPubKey:LHe,fromPubKey:qHe};function Yte(t,e="main"){let r=e==="main"?["3"]:["2"];for(let n of r)if(t.startsWith(n))return!0;return!1}function Xte(t,e="main"){let r=e==="main"?le.num(5):le.num(196),n=le.bytes(t);return af(n,20),n.prepend(r).tob58chk()}function $He(t,e="main"){if(!Yte(t,e))throw new TypeError(`Invalid p2sh address for network ${e}:`+t);return le.b58chk(t).slice(1)}function jHe(t){return["OP_HASH160",le.bytes(t).hex,"OP_EQUAL"]}function KHe(t,e){let r=Kte(t);return Xte(r,e)}var Zte={check:Yte,encode:Xte,decode:$He,hash:Kte,scriptPubKey:jHe,fromScript:KHe},BC={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},VHe=["bc1q","tb1q","bcrt1q"];function Jte(t){for(let e of VHe)if(t.startsWith(e))return!0;return!1}function Qte(t,e="main"){let r=BC[e],n=le.bytes(t);return af(n,20),n.toBech32(r,0)}function GHe(t){if(!Jte(t))throw new TypeError("Invalid segwit address!");return le.bech32(t)}function zHe(t){let e=le.bytes(t);return af(e,20),["OP_0",e.hex]}function WHe(t,e){let r=R_(t);return Qte(r,e)}var ere={check:Jte,encode:Qte,decode:GHe,hash:R_,scriptPubKey:zHe,fromPubKey:WHe},YHe=["bc1q","tb1q","bcrt1q"];function tre(t){for(let e of YHe)if(t.startsWith(e))return!0;return!1}function rre(t,e="main"){let r=BC[e],n=le.bytes(t);return af(n,32),n.toBech32(r,0)}function XHe(t){if(!tre(t))throw new TypeError("Invalid segwit address!");return le.bech32(t)}function ZHe(t){let e=le.bytes(t);return af(e,32),["OP_0",e.hex]}function JHe(t,e){let r=Vte(t);return rre(r,e)}var nre={check:tre,encode:rre,decode:XHe,hash:Vte,scriptPubKey:ZHe,fromScript:JHe};function m7(t){let e=le.bytes(t);return e.length>32?e.slice(1,33):e}var QHe=["bc1p","tb1p","bcrt1p"];function ire(t){for(let e of QHe)if(t.startsWith(e))return!0;return!1}function sre(t,e="main"){let r=BC[e],n=le.bytes(t);return af(n,32),n.toBech32(r,1)}function eDe(t){if(!ire(t))throw new TypeError("Invalid taproot address!");return le.bech32(t)}function tDe(t){let e=le.bytes(t);return af(e,32),["OP_1",e.hex]}function rDe(t,e){let r=m7(t);return sre(r,e)}var ore={check:ire,encode:sre,decode:eDe,scriptPubKey:tDe,fromPubKey:rDe},nDe={version:2,vin:[],vout:[],locktime:0},iDe={scriptSig:[],sequence:4294967293,witness:[]},sDe={value:0n,scriptPubKey:[]};function CC(t){let e={...nDe,...t};return e.vin=e.vin.map(r=>({...iDe,...r})),e.vout=e.vout.map(r=>({...sDe,...r})),e}function z2(t,e){let{version:r,vin:n,vout:i,locktime:s}=CC(t),o=e!==!0&&oDe(n),a=[kC(r)];o&&a.push(le.hex("0001")),a.push(aDe(n)),a.push(uDe(i));for(let u of n)o&&a.push(fDe(u.witness));return a.push(MC(s)),le.join(a)}function oDe(t){for(let e of t){let{witness:r}=e;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function kC(t){return le.num(t,4).reverse()}function Zm(t){return le.hex(t,32).reverse()}function Jm(t){return le.num(t,4).reverse()}function Qm(t){if(typeof t=="string")return le.hex(t,4).reverse();if(typeof t=="number")return le.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function aDe(t){let e=[le.varInt(t.length,"le")];for(let r of t){let{txid:n,vout:i,scriptSig:s,sequence:o}=r;e.push(Zm(n)),e.push(Jm(i)),e.push(dp(s,!0)),e.push(Qm(o))}return le.join(e)}function fp(t){if(typeof t=="number"){if(t%1!==0)throw new Error("Value must be an integer:"+String(t));return le.num(t,8).reverse()}return le.big(t,8).reverse()}function uDe(t){let e=[le.varInt(t.length,"le")];for(let r of t)e.push(cDe(r));return le.join(e)}function cDe(t){let{value:e,scriptPubKey:r}=t,n=[];return n.push(fp(e)),n.push(dp(r,!0)),le.join(n)}function fDe(t=[]){let e=[];if(Array.isArray(t)){let r=le.varInt(t.length);e.push(r);for(let n of t)e.push(hDe(n));return le.join(e)}else return le.bytes(t)}function hDe(t){return lDe(t)?new le(0):dp(t,!0)}function lDe(t){if(Array.isArray(t))return t.length===0;if(typeof t=="string"&&t==="")return!0;let e=le.bytes(t);return e.length===1&&e[0]===0}function MC(t){if(typeof t=="string")return le.hex(t,4);if(typeof t=="number")return le.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function RC(t){typeof t=="string"&&(t=le.hex(t).raw);let e=new e3(t),r=dDe(e),n=pDe(e),i=mDe(e),s=bDe(e);if(n)for(let a of i)a.witness=vDe(e);let o=_De(e);return{version:r,vin:i,vout:s,locktime:o}}function dDe(t){return t.read(4).reverse().toNum()}function pDe(t){let[e,r]=[...t.peek(2)];if(e===0){if(t.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function mDe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(gDe(t));return e}function gDe(t){return{txid:t.read(32).reverse().toHex(),vout:t.read(4).reverse().toNum(),scriptSig:ure(t,!0),sequence:t.read(4).reverse().toHex(),witness:[]}}function bDe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(yDe(t));return e}function yDe(t){return{value:t.read(8).reverse().big,scriptPubKey:ure(t,!0)}}function vDe(t){let e=[],r=t.readSize();for(let n=0;n<r;n++){let i=are(t,!0);e.push(i??"")}return e}function are(t,e){let r=e===!0?t.readSize("le"):t.size;return r>0?t.read(r).hex:null}function ure(t,e){let r=are(t,e);return r!==null?r:[]}function _De(t){return t.read(4).reverse().toNum()}function xDe(t){if(Vee(t))return RC(t);if(typeof t=="object"&&!(t instanceof Uint8Array))return z2(t),CC(t);throw new Error("Invalid format: "+String(typeof t))}function SDe(t){if(Vee(t))return RC(t),le.bytes(t);if(typeof t=="object")return z2(t);throw new Error("Invalid format: "+String(typeof t))}var NC={toBytes:SDe,toJson:xDe},wDe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],EDe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function TDe(t){let e=t.at(-1);return Th(e)&&(e=le.hex(e)),t.length>1&&e instanceof Uint8Array&&e[0]===80?(t.pop(),le.raw(e)):null}function ADe(t){let e=t.at(-1);return Th(e)&&(e=le.hex(e)),t.length>1&&e instanceof Uint8Array&&e.length>32&&EDe.includes(e[0]&254)?(t.pop(),le.raw(e)):null}function IDe(t){if(t.length>1){let e=t.at(-1);try{let r=Ls.fmt.toBytes(e);return t.pop(),r}catch{return null}}return null}function PDe(t){let e=[];for(let r of t)if(Th(r)||r instanceof Uint8Array||typeof r=="number")e.push(le.bytes(r));else throw new Error("unrecognized value: "+String(r));return e}function cre(t=[]){let e=[...t],r=TDe(e),n=ADe(e),i=IDe(e),s=PDe(e);return{annex:r,cblock:n,script:i,params:s}}function FC(t){let e=Ls.fmt.toBytes(t,!1).hex;for(let[r,n]of wDe){let i=r,{groups:s}=n.exec(e)??{},{hash:o}=s??{};if(Th(o))return{type:i,data:le.hex(o)}}return{type:"raw",data:le.hex(e)}}function ODe(t){let e=NC.toJson(t),r=z2(e,!0);return xh(r).reverse().hex}function BDe(t){let e=NC.toJson(t),r=z2(e,!0).length,n=z2(e,!1).length,i=r*3+n,s=i%4>0?1:0,o=Math.floor(i/4)+s;return{size:n,bsize:r,vsize:o,weight:i}}var Na={create:CC,encode:z2,decode:RC,fmt:NC,util:{getTxSize:BDe,getTxid:ODe,readScriptPubKey:FC,readWitness:cre}},CDe=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function kDe(t,e){switch(e){case"base58":return le.b58chk(t).slice(1);case"bech32":return le.bech32(t);case"bech32m":return le.bech32(t);default:throw new Error("Invalid address format: "+e)}}function MDe(t){for(let e of CDe){let[r,n,i,s,o]=e;if(t.startsWith(r)&&kDe(t,o).length===s)return e}throw new Error("Invalid address: "+t)}function fre(t){switch(t){case"p2pkh":return Wte;case"p2sh":return Zte;case"p2w-pkh":return ere;case"p2w-sh":return nre;case"p2tr":return ore;default:throw new Error("Invalid address type: "+t)}}function hre(t){let[e,r,n]=MDe(t),i=fre(r),s=i.decode(t,n),o=i.scriptPubKey(s);return{prefix:e,type:r,network:n,data:s,script:o}}function RDe(t,e){let{type:r,data:n}=Na.util.readScriptPubKey(t);return fre(r).encode(n,e)}function NDe(t){let{script:e}=hre(t);return Ls.fmt.toAsm(e,!1)}var FDe={p2pkh:Wte,p2sh:Zte,p2wpkh:ere,p2wsh:nre,p2tr:ore,decode:hre,fromScriptPubKey:RDe,toScriptPubKey:NDe},HDe=[1,2,3];function HC(t,e,r={}){let{sigflag:n=1}=r,i=(n&128)===128,s=n%128;if(!HDe.includes(s))throw new Error("Invalid hash type: "+String(n));let o=Na.fmt.toJson(t),{version:a,vin:u,vout:c,locktime:h}=o,{txid:f,vout:p,prevout:l,sequence:y}=u[e],{value:_}=l??{};if(_===void 0)throw new Error("Prevout value is empty!");let O=r.script;if(O===void 0&&r.pubkey!==void 0&&(O=`76a914${M_(r.pubkey).hex}88ac`),O===void 0)throw new Error("No pubkey / script has been set!");if(Ls.fmt.toAsm(O).includes("OP_CODESEPARATOR"))throw new Error("This library does not currently support the use of OP_CODESEPARATOR in segwit scripts.");let F=[kC(a),DDe(u,i),UDe(u,s,i),Zm(f),Jm(p),Ls.encode(O,!0),fp(_),Qm(y),LDe(c,e,s),MC(h),le.num(n,4).reverse()];return xh(le.join(F))}function DDe(t,e){if(e===!0)return le.num(0,32);let r=[];for(let{txid:n,vout:i}of t)r.push(Zm(n)),r.push(Jm(i));return xh(le.join(r))}function UDe(t,e,r){if(r||e!==1)return le.num(0,32);let n=[];for(let{sequence:i}of t)n.push(Qm(i));return xh(le.join(n))}function LDe(t,e,r){let n=[];if(r===1){for(let{value:i,scriptPubKey:s}of t)n.push(fp(i)),n.push(Ls.encode(s,!0));return xh(le.join(n))}if(r===3&&e<t.length){let{value:i,scriptPubKey:s}=t[e];return n.push(fp(i)),n.push(Ls.encode(s,!0)),xh(le.join(n))}return le.num(0,32)}function qDe(t,e,r,n={}){let{sigflag:i=1}=n,s=HC(e,r,n),o=jte.secp.sign(s,t).toDERRawBytes(!0);return le.join([o,i])}function $De(t,e,r={}){let n=Na.fmt.toJson(t),{throws:i=!1}=r,{witness:s=[]}=n.vin[e],o=Na.util.readWitness(s),{script:a,params:u}=o,c=null;if(u.length<1)return io("Invalid witness data: "+String(s),i);if(r.script===void 0&&a!==null&&(r.script=a),r.pubkey!==void 0)c=le.bytes(r.pubkey);else if(u.length>1&&u[1].length===33)c=le.bytes(u[1]);else return io("No pubkey provided!",i);let h=Ls.fmt.toParam(u[0]),f=h.slice(0,-1),p=h.slice(-1)[0],l=HC(n,e,{...r,sigflag:p});return jte.secp.verify(f,l,c)?!0:io("Invalid signature!",i)}var jDe={hash:HC,sign:qDe,verify:$De},KDe=[0,1,2,3,129,130,131];function DC(t,e,r={}){let{extension:n,sigflag:i=0,extflag:s=0,key_version:o=0,separator_pos:a=4294967295}=r,u=Na.fmt.toJson(t),{version:c,vin:h,vout:f,locktime:p}=u;if(e>=h.length)throw new Error("Index out of bounds: "+String(e));if(!KDe.includes(i))throw new Error("Invalid hash type: "+String(i));if(s<0||s>127)throw new Error("Extention flag out of range: "+String(s));let{txid:l,vout:y,sequence:_,witness:O=[]}=h[e],F=(i&128)===128,B=ZDe(O),E=B!==void 0?1:0,U=(s+(n!==void 0?1:0))*2+E,N=le.str("TapSighash").digest,H=[N,N,le.num(0,1),le.num(i,1),kC(c),MC(p)];if(!F){let D=h.map(C=>yee(C));H.push(VDe(h),zDe(D),WDe(D),GDe(h))}if(((i&3)<2||(i&3)>3)&&H.push(YDe(f)),H.push(le.num(U,1)),F){let{value:D,scriptPubKey:C}=yee(h[e]);H.push(Zm(l),Jm(y),fp(D),Ls.encode(C,!0),Qm(_))}else H.push(le.num(e,4).reverse());return B!==void 0&&H.push(B),(i&3)===3&&H.push(XDe(f[e])),n!==void 0&&H.push(le.bytes(n),le.num(o),le.num(a,4)),le.join(H).digest}function VDe(t){let e=[];for(let{txid:r,vout:n}of t)e.push(Zm(r)),e.push(Jm(n));return le.join(e).digest}function GDe(t){let e=[];for(let{sequence:r}of t)e.push(Qm(r));return le.join(e).digest}function zDe(t){let e=[];for(let{value:r}of t)e.push(fp(r));return le.join(e).digest}function WDe(t){let e=[];for(let{scriptPubKey:r}of t)e.push(dp(r,!0));return le.join(e).digest}function YDe(t){let e=[];for(let{value:r,scriptPubKey:n}of t)e.push(fp(r)),e.push(Ls.encode(n,!0));return le.join(e).digest}function XDe(t){return le.join([fp(t.value),Ls.encode(t.scriptPubKey,!0)]).digest}function ZDe(t){if(t===void 0||t.length<2)return;let e=t.at(-1);if(typeof e=="string"&&(e=le.hex(e)),e instanceof Uint8Array&&e[0]===80)return le.raw(e).prefixSize("be").digest}function yee(t){if(t.prevout===void 0)throw new Error("Prevout data missing for input: "+String(t.txid));return t.prevout}var JDe=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,QDe=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function eUe(t,e,r,n={}){let{sigflag:i=0}=n,s=DC(e,r,n),o=tUe(t,s);return i===0?le.raw(o):le.join([o,i])}function tUe(t,e,r=le.random(32)){let n=le.bytes(e),i=new Us(t),s=i.point,o=s.hasEvenY?i.big:i.negated.big,a=i_("BIP0340/aux",le.bytes(r)),u=o^a.big,c=i_("BIP0340/nonce",u,s.x.raw,n),h=new Us(c),f=h.point,p=f.hasEvenY?h.big:h.negated.big,l=new Us(i_("BIP0340/challenge",f.x.raw,s.x.raw,n)),y=new Us(p+l.big*o);return le.join([f.x.raw,y.raw])}function rUe(t,e,r,n=!1){let i=_h.from_x(m7(r)),s=le.bytes(e),o=le.bytes(t).stream;o.size<64&&io("Signature length is too small: "+String(o.size),n);let a=o.read(32);a.big>JDe&&io("Signature r value greater than field size!",n);let u=o.read(32);u.big>QDe&&io("Signature s value greater than curve order!",n);let c=new Us(i_("BIP0340/challenge",a.raw,i.x.raw,s)),h=new Us(u).point,f=i.mul(c.big),p=h.sub(f);return p.hasOddY&&io("Signature R value has odd Y coordinate!",n),p.x.big===0n&&io("Signature R value is infinite!",n),p.x.big===a.big}var nUe=192;function N_(t){let e=le.str(t).digest;return le.join([e,e])}function UC(t,e=nUe){return le.join([N_("TapLeaf"),oUe(e),le.bytes(t)]).digest.hex}function iUe(t,e){return UC(Ls.fmt.toBytes(t),e)}function LC(t,e){return e<t&&([t,e]=[e,t]),le.join([N_("TapBranch"),le.hex(t).raw,le.hex(e).raw]).digest.hex}function sUe(t){return le.hex(v_(t)[0])}function v_(t,e,r=[]){let n=[],i=[];if(t.length<1)throw new Error("Tree is empty!");for(let s=0;s<t.length;s++){let o=t[s];if(Array.isArray(o)){let[a,u,c]=v_(o,e);e=u,n.push(a);for(let h of c)r.push(h)}else n.push(o)}if(n.length===1)return[n[0],e,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let s=0;s<n.length-1;s+=2){let o=LC(n[s],n[s+1]);i.push(o),typeof e=="string"&&(e===n[s]?(r.push(n[s+1]),e=o):e===n[s+1]&&(r.push(n[s]),e=o))}return v_(i,e,r)}function oUe(t=192){return t&254}function lre(t,e=new Uint8Array,r=!1){let n=r?new Us(t).point.x.raw:m7(t);return le.join([N_("TapTweak"),n,le.bytes(e)]).digest}function j2(t,e,r=!1){e===void 0&&(e=new Uint8Array);let n=le.bytes(t),i=lre(t,e,r);return r?dre(n,i):pre(n,i)}function aUe(t,e){return j2(t,e)}function uUe(t,e){return j2(t,e,!0)}function dre(t,e){let r=new Us(t);return r.point.hasOddY&&(r=r.negate()),le.raw(r.add(e).raw)}function pre(t,e){t=m7(t);let n=_h.from_x(t).add(e);return le.raw(n.raw)}function cUe(){let t=le.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return _h.from_x(t.digest).x}var fUe=cUe(),hUe=192;function lUe(t,e={}){return mre(t,{...e,isPrivate:!0})}function dUe(t,e={}){return mre(t,{...e,isPrivate:!1})}function mre(t,e={}){let{isPrivate:r=!1,tree:n=[],version:i=hUe}=e,s=r?sC.getPublicKey(t,!0):m7(t),{target:o}=e;o!==void 0&&(o=le.bytes(o).hex);let a,u=[];if(n.length>0){let[l,y,_]=v_(n,o);u=_,a=j2(t,l,r)}else o!==void 0?a=j2(t,o,r):a=j2(t,void 0,r);let c=r?sC.getPublicKey(a)[0]:a[0],f=[le.num(i+bre(c)),s];u.length>0&&u.forEach(l=>f.push(le.hex(l)));let p=le.join(f);if(o!==void 0&&!qC(a,o,p,e))throw new Error("Path checking failed! Unable to generate path.");return[m7(a).hex,p.hex]}function qC(t,e,r,n={}){let{isPrivate:i=!1,throws:s=!1}=n,{parity:o,paths:a,intkey:u}=gre(r),c=i?sC.getPublicKey(t,!0):m7(t),h=le.join([o,c]);if(h.length!==33)return io("Invalid tapkey: "+h.hex,s);let f=le.bytes(e).hex;for(let l of a)f=LC(f,l);let p=j2(u,f);return le.raw(p).hex===le.raw(h).hex}function gre(t){let e=new e3(le.bytes(t)),r=e.read(1).num,n=e.read(32),[i,s]=r%2===0?[r,2]:[r-1,3],o=[];for(;e.size>=32;)o.push(e.read(32).hex);if(e.size!==0)throw new Error("Non-empty buffer on control block: "+String(e));return{intkey:n,paths:o,parity:s,version:i}}function bre(t=2){if(t===0||t===1)return t;if(t===2||t==="02")return 0;if(t===3||t==="03")return 1;throw new Error("Invalid parity bit: "+String(t))}function pUe(t,e,r={}){let n=Na.fmt.toJson(t),{throws:i=!1}=r,{prevout:s,witness:o=[]}=n.vin[e],a=Na.util.readWitness(o),{cblock:u,script:c,params:h}=a,f;if(h.length<1)return io("Invalid witness data: "+String(o),i);let{scriptPubKey:p}=s??{};if(p===void 0)return io("Prevout scriptPubKey is empty!",i);let{type:l,data:y}=Na.util.readScriptPubKey(p);if(l!=="p2tr")return io("Prevout script is not a valid taproot output:"+y.hex,i);if(y.length!==32)return io("Invalid tapkey length: "+String(y.length),i);if(u!==null&&c!==null){let E=u[0]&254,I=UC(c,E);if(r.extension=I,!qC(y,I,u,{throws:i}))return io("cblock verification failed!",i)}r.pubkey!==void 0?f=le.bytes(r.pubkey):h.length>1&&h[1].length===32?f=le.bytes(h[1]):f=le.bytes(y);let _=Ls.fmt.toParam(h[0]),O=new e3(_),F=O.read(64).raw;if(O.size===1&&(r.sigflag=O.read(1).num,r.sigflag===0))return io("0x00 is not a valid appended sigflag!",i);let B=DC(n,e,r);return rUe(F,B,f,i)?!0:io("Invalid signature!",i)}var mUe={hash:DC,sign:eUe,verify:pUe},oC={segwit:jDe,taproot:mUe},yre={getTag:N_,getLeaf:UC,getBranch:LC,getRoot:sUe},gUe={readCtrlBlock:gre,readParityBit:bre},bUe={getPubKey:aUe,getSecKey:uUe,getTweak:lre,tweakSecKey:dre,tweakPubKey:pre},yUe={getPubKey:dUe,getSecKey:lUe,encodeScript:iUe,checkPath:qC,tree:yre,tweak:bUe,util:gUe,SCRIPT_PUBKEY:fUe},__=class{constructor(e){this._buff=le.raw(dp(e))}get raw(){return this._buff.raw}get hex(){return this._buff.hex}get asm(){return P_(this._buff)}getHash(e,r){switch(e){case"p2w":return xh(this._buff).hex;case"p2sh":return M_(this._buff).hex;case"p2tr":return yre.getLeaf(this._buff,r);default:throw new Error("Unrecognized format: "+e)}}toJSON(){return this.asm??[]}},vee=4294967295,vUe=1<<31,f7=512,_Ue=1<<22,x_=class{constructor(e){typeof e=="string"?this.value=parseInt(e,16):this.value=e}get isReplaceable(){return this.value<vee}get isLocked(){return!(this.value!==vee||(this.value&vUe)!==0)}get isTimelock(){return(this.value&_Ue)!==0}get timestamp(){return this.isLocked?this.isTimelock?this.value*f7:this.value*f7*600:0}set timestamp(e){this.value=Math.ceil(e/f7)}get blockheight(){return this.isLocked?this.isTimelock?Math.ceil(this.value*f7/600):this.value:0}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*f7*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){let r=e.getTime()-Date.now();this.value=r>f7*1e3?Math.ceil(r/1e3/f7):1}toJSON(){return this.value}},$C=class{constructor(e){this.value=BigInt(e.value),this.scriptPubKey=new __(e.scriptPubKey)}get type(){let{type:e}=FC(this.scriptPubKey.raw);return e}},S_=class{constructor(e,r){this._data=e,this._meta=cre(e),this.format=r}get length(){return this._data.length}get annex(){let e=this._meta.annex;return e!==null?le.raw(e).hex:void 0}get cblock(){let e=this._meta.cblock;return e!==null?le.raw(e).hex:void 0}get script(){let e=this._meta.script;return e!==null?Ls.decode(e):void 0}get params(){return this._meta.params}toJSON(){return this._data}},vre=class{constructor(e,r){this._tx=e,this.idx=r}get data(){return this._tx.vin[this.idx]}get txid(){return this.data.txid}get vout(){return this.data.vout}get prevout(){return this.data.prevout!==void 0?new $C(this.data.prevout):void 0}get scriptSig(){return new __(this.data.scriptSig)}get sequence(){return new x_(this.data.sequence)}get witness(){return new S_(this.data.witness)}get type(){if(this.prevout!==void 0){let e=this.prevout.scriptPubKey.raw,{type:r}=FC(e);if(r==="p2sh"){let n=this.scriptSig.asm;if(n[0]==="OP_0"){if(n[1].length===20)return"p2w-p2pkh";if(n[1].length===32)return"p2w-p2sh"}return"p2sh"}return r}return"raw"}sign(e,r){if(this.type.startsWith("p2w"))return oC.segwit.sign(e,this._tx,this.idx,r);if(this.type.startsWith("p2tr"))return oC.taproot.sign(e,this._tx,this.idx,r);throw this.type.startsWith("p2pkh")||this.type.startsWith("p2sh")?new Error("This library does not support signing legacy transactions."):new Error("Unable to sign this input type:"+String(this.type))}},xUe=5e8,aC=class{constructor(e=0){this.value=le.bytes(e).num}get isTimelock(){return this.value>xUe}get timestamp(){return this.isTimelock?this.value:this.value*600}set timestamp(e){this.value=e}get blockheight(){return this.isTimelock?Math.floor(this.value/600):this.value}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){this.value=Math.floor((e.getTime()-Date.now())/1e3)}toJSON(){return this.value}},jr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(jr||(jr={}));var uC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uC||(uC={}));var je=jr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),op=t=>{switch(typeof t){case"undefined":return je.undefined;case"string":return je.string;case"number":return isNaN(t)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(t)?je.array:t===null?je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?je.promise:typeof Map<"u"&&t instanceof Map?je.map:typeof Set<"u"&&t instanceof Set?je.set:typeof Date<"u"&&t instanceof Date?je.date:je.object;default:return je.unknown}},Re=jr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SUe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Ha=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,jr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ha.create=t=>new Ha(t);var Xm=(t,e)=>{let r;switch(t.code){case Re.invalid_type:t.received===je.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,jr.jsonStringifyReplacer)}`;break;case Re.unrecognized_keys:r=`Unrecognized key(s) in object: ${jr.joinValues(t.keys,", ")}`;break;case Re.invalid_union:r="Invalid input";break;case Re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${jr.joinValues(t.options)}`;break;case Re.invalid_enum_value:r=`Invalid enum value. Expected ${jr.joinValues(t.options)}, received '${t.received}'`;break;case Re.invalid_arguments:r="Invalid function arguments";break;case Re.invalid_return_type:r="Invalid function return type";break;case Re.invalid_date:r="Invalid date";break;case Re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:jr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Re.custom:r="Invalid input";break;case Re.invalid_intersection_types:r="Intersection results could not be merged";break;case Re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Re.not_finite:r="Number must be finite";break;default:r=e.defaultError,jr.assertNever(t)}return{message:r}},_re=Xm;function wUe(t){_re=t}function w_(){return _re}var E_=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},EUe=[];function Ye(t,e){let r=E_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,w_(),Xm].filter(n=>!!n)});t.common.issues.push(r)}var ys=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return Gt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return ys.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Gt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},Gt=Object.freeze({status:"aborted"}),xre=t=>({status:"dirty",value:t}),ko=t=>({status:"valid",value:t}),cC=t=>t.status==="aborted",fC=t=>t.status==="dirty",T_=t=>t.status==="valid",A_=t=>typeof Promise<"u"&&t instanceof Promise,vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(vt||(vt={}));var Fu=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},_ee=(t,e)=>{if(T_(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ha(t.common.issues);return this._error=r,this._error}}};function cr(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var fr=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return op(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:op(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ys,ctx:{common:e.parent.common,data:e.data,parsedType:op(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(A_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:op(e)},s=this._parseSync({data:e,path:i.path,parent:i});return _ee(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:op(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(A_(i)?i:Promise.resolve(i));return _ee(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:Re.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ua({schema:this,typeName:It.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Dc.create(this,this._def)}nullable(){return Eh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Da.create(this,this._def)}promise(){return lp.create(this,this._def)}or(e){return v7.create([this,e],this._def)}and(e){return _7.create(this,e,this._def)}transform(e){return new Ua({...cr(this._def),schema:this,typeName:It.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new T7({...cr(this._def),innerType:this,defaultValue:r,typeName:It.ZodDefault})}brand(){return new I_({typeName:It.ZodBranded,type:this,...cr(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new J2({...cr(this._def),innerType:this,catchValue:r,typeName:It.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return A7.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},TUe=/^c[^\s-]{8,}$/i,AUe=/^[a-z][a-z0-9]*$/,IUe=/[0-9A-HJKMNP-TV-Z]{26}/,PUe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,OUe=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,BUe=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,CUe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,kUe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,MUe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function RUe(t,e){return!!((e==="v4"||!e)&&CUe.test(t)||(e==="v6"||!e)&&kUe.test(t))}var Fa=class extends fr{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:Re.invalid_string,...vt.errToObj(n)}),this.nonempty=e=>this.min(1,vt.errToObj(e)),this.trim=()=>new Fa({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Fa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Fa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==je.string){let s=this._getOrReturnCtx(e);return Ye(s,{code:Re.invalid_type,expected:je.string,received:s.parsedType}),Gt}let n=new ys,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ye(i,{code:Re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ye(i,{code:Re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")OUe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"email",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")BUe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"emoji",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")PUe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"uuid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")TUe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cuid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")AUe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"cuid2",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")IUe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"ulid",code:Re.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ye(i,{validation:"url",code:Re.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"regex",code:Re.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?MUe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?RUe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ye(i,{validation:"ip",code:Re.invalid_string,message:s.message}),n.dirty()):jr.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Fa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...vt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...vt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...vt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...vt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...vt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...vt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...vt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...vt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...vt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Fa.create=t=>{var e;return new Fa({checks:[],typeName:It.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...cr(t)})};function NUe(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var nf=class extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==je.number){let s=this._getOrReturnCtx(e);return Ye(s,{code:Re.invalid_type,expected:je.number,received:s.parsedType}),Gt}let n,i=new ys;for(let s of this._def.checks)s.kind==="int"?jr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?NUe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.not_finite,message:s.message}),i.dirty()):jr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,vt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,vt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,vt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,vt.toString(r))}setLimit(e,r,n,i){return new nf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:vt.toString(i)}]})}_addCheck(e){return new nf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:vt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};nf.create=t=>new nf({checks:[],typeName:It.ZodNumber,coerce:t?.coerce||!1,...cr(t)});var sf=class extends fr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==je.bigint){let s=this._getOrReturnCtx(e);return Ye(s,{code:Re.invalid_type,expected:je.bigint,received:s.parsedType}),Gt}let n,i=new ys;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ye(n,{code:Re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):jr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,vt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,vt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,vt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,vt.toString(r))}setLimit(e,r,n,i){return new sf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:vt.toString(i)}]})}_addCheck(e){return new sf({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:vt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};sf.create=t=>{var e;return new sf({checks:[],typeName:It.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...cr(t)})};var g7=class extends fr{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==je.boolean){let n=this._getOrReturnCtx(e);return Ye(n,{code:Re.invalid_type,expected:je.boolean,received:n.parsedType}),Gt}return ko(e.data)}};g7.create=t=>new g7({typeName:It.ZodBoolean,coerce:t?.coerce||!1,...cr(t)});var Sh=class extends fr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==je.date){let s=this._getOrReturnCtx(e);return Ye(s,{code:Re.invalid_type,expected:je.date,received:s.parsedType}),Gt}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return Ye(s,{code:Re.invalid_date}),Gt}let n=new ys,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ye(i,{code:Re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):jr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:vt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:vt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Sh.create=t=>new Sh({checks:[],coerce:t?.coerce||!1,typeName:It.ZodDate,...cr(t)});var W2=class extends fr{_parse(e){if(this._getType(e)!==je.symbol){let n=this._getOrReturnCtx(e);return Ye(n,{code:Re.invalid_type,expected:je.symbol,received:n.parsedType}),Gt}return ko(e.data)}};W2.create=t=>new W2({typeName:It.ZodSymbol,...cr(t)});var b7=class extends fr{_parse(e){if(this._getType(e)!==je.undefined){let n=this._getOrReturnCtx(e);return Ye(n,{code:Re.invalid_type,expected:je.undefined,received:n.parsedType}),Gt}return ko(e.data)}};b7.create=t=>new b7({typeName:It.ZodUndefined,...cr(t)});var y7=class extends fr{_parse(e){if(this._getType(e)!==je.null){let n=this._getOrReturnCtx(e);return Ye(n,{code:Re.invalid_type,expected:je.null,received:n.parsedType}),Gt}return ko(e.data)}};y7.create=t=>new y7({typeName:It.ZodNull,...cr(t)});var hp=class extends fr{constructor(){super(...arguments),this._any=!0}_parse(e){return ko(e.data)}};hp.create=t=>new hp({typeName:It.ZodAny,...cr(t)});var vh=class extends fr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ko(e.data)}};vh.create=t=>new vh({typeName:It.ZodUnknown,...cr(t)});var Uc=class extends fr{_parse(e){let r=this._getOrReturnCtx(e);return Ye(r,{code:Re.invalid_type,expected:je.never,received:r.parsedType}),Gt}};Uc.create=t=>new Uc({typeName:It.ZodNever,...cr(t)});var Y2=class extends fr{_parse(e){if(this._getType(e)!==je.undefined){let n=this._getOrReturnCtx(e);return Ye(n,{code:Re.invalid_type,expected:je.void,received:n.parsedType}),Gt}return ko(e.data)}};Y2.create=t=>new Y2({typeName:It.ZodVoid,...cr(t)});var Da=class extends fr{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==je.array)return Ye(r,{code:Re.invalid_type,expected:je.array,received:r.parsedType}),Gt;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Ye(r,{code:o?Re.too_big:Re.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ye(r,{code:Re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ye(r,{code:Re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Fu(r,o,r.path,a)))).then(o=>ys.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new Fu(r,o,r.path,a)));return ys.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Da({...this._def,minLength:{value:e,message:vt.toString(r)}})}max(e,r){return new Da({...this._def,maxLength:{value:e,message:vt.toString(r)}})}length(e,r){return new Da({...this._def,exactLength:{value:e,message:vt.toString(r)}})}nonempty(e){return this.min(1,e)}};Da.create=(t,e)=>new Da({type:t,minLength:null,maxLength:null,exactLength:null,typeName:It.ZodArray,...cr(e)});function $2(t){if(t instanceof Mn){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Dc.create($2(n))}return new Mn({...t._def,shape:()=>e})}else return t instanceof Da?new Da({...t._def,type:$2(t.element)}):t instanceof Dc?Dc.create($2(t.unwrap())):t instanceof Eh?Eh.create($2(t.unwrap())):t instanceof Hu?Hu.create(t.items.map(e=>$2(e))):t}var Mn=class extends fr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=jr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==je.object){let c=this._getOrReturnCtx(e);return Ye(c,{code:Re.invalid_type,expected:je.object,received:c.parsedType}),Gt}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Uc&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let h=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:h._parse(new Fu(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Uc){let c=this._def.unknownKeys;if(c==="passthrough")for(let h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")a.length>0&&(Ye(i,{code:Re.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let h of a){let f=i.data[h];u.push({key:{status:"valid",value:h},value:c._parse(new Fu(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let h of u){let f=await h.key;c.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return c}).then(c=>ys.mergeObjectSync(n,c)):ys.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return new Mn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=vt.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new Mn({...this._def,unknownKeys:"strip"})}passthrough(){return new Mn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:It.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Mn({...this._def,catchall:e})}pick(e){let r={};return jr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Mn({...this._def,shape:()=>r})}omit(e){let r={};return jr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Mn({...this._def,shape:()=>r})}deepPartial(){return $2(this)}partial(e){let r={};return jr.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Mn({...this._def,shape:()=>r})}required(e){let r={};return jr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Dc;)s=s._def.innerType;r[n]=s}}),new Mn({...this._def,shape:()=>r})}keyof(){return Sre(jr.objectKeys(this.shape))}};Mn.create=(t,e)=>new Mn({shape:()=>t,unknownKeys:"strip",catchall:Uc.create(),typeName:It.ZodObject,...cr(e)});Mn.strictCreate=(t,e)=>new Mn({shape:()=>t,unknownKeys:"strict",catchall:Uc.create(),typeName:It.ZodObject,...cr(e)});Mn.lazycreate=(t,e)=>new Mn({shape:t,unknownKeys:"strip",catchall:Uc.create(),typeName:It.ZodObject,...cr(e)});var v7=class extends fr{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Ha(a.ctx.common.issues));return Ye(r,{code:Re.invalid_union,unionErrors:o}),Gt}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},h=u._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new Ha(u));return Ye(r,{code:Re.invalid_union,unionErrors:a}),Gt}}get options(){return this._def.options}};v7.create=(t,e)=>new v7({options:t,typeName:It.ZodUnion,...cr(e)});var s_=t=>t instanceof S7?s_(t.schema):t instanceof Ua?s_(t.innerType()):t instanceof w7?[t.value]:t instanceof of?t.options:t instanceof E7?Object.keys(t.enum):t instanceof T7?s_(t._def.innerType):t instanceof b7?[void 0]:t instanceof y7?[null]:null,X2=class extends fr{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==je.object)return Ye(r,{code:Re.invalid_type,expected:je.object,received:r.parsedType}),Gt;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ye(r,{code:Re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=s_(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new X2({typeName:It.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...cr(n)})}};function hC(t,e){let r=op(t),n=op(e);if(t===e)return{valid:!0,data:t};if(r===je.object&&n===je.object){let i=jr.objectKeys(e),s=jr.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=hC(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===je.array&&n===je.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=hC(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===je.date&&n===je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var _7=class extends fr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(cC(s)||cC(o))return Gt;let a=hC(s.value,o.value);return a.valid?((fC(s)||fC(o))&&r.dirty(),{status:r.value,value:a.data}):(Ye(n,{code:Re.invalid_intersection_types}),Gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};_7.create=(t,e,r)=>new _7({left:t,right:e,typeName:It.ZodIntersection,...cr(r)});var Hu=class extends fr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.array)return Ye(n,{code:Re.invalid_type,expected:je.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return Ye(n,{code:Re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(Ye(n,{code:Re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new Fu(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>ys.mergeArray(r,o)):ys.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Hu({...this._def,rest:e})}};Hu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hu({items:t,typeName:It.ZodTuple,rest:null,...cr(e)})};var x7=class extends fr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.object)return Ye(n,{code:Re.invalid_type,expected:je.object,received:n.parsedType}),Gt;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new Fu(n,a,n.path,a)),value:o._parse(new Fu(n,n.data[a],n.path,a))});return n.common.async?ys.mergeObjectAsync(r,i):ys.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof fr?new x7({keyType:e,valueType:r,typeName:It.ZodRecord,...cr(n)}):new x7({keyType:Fa.create(),valueType:e,typeName:It.ZodRecord,...cr(r)})}},Z2=class extends fr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.map)return Ye(n,{code:Re.invalid_type,expected:je.map,received:n.parsedType}),Gt;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new Fu(n,a,n.path,[c,"key"])),value:s._parse(new Fu(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return Gt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,h=u.value;if(c.status==="aborted"||h.status==="aborted")return Gt;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),a.set(c.value,h.value)}return{status:r.value,value:a}}}};Z2.create=(t,e,r)=>new Z2({valueType:e,keyType:t,typeName:It.ZodMap,...cr(r)});var wh=class extends fr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==je.set)return Ye(n,{code:Re.invalid_type,expected:je.set,received:n.parsedType}),Gt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ye(n,{code:Re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ye(n,{code:Re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let h of u){if(h.status==="aborted")return Gt;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>s._parse(new Fu(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new wh({...this._def,minSize:{value:e,message:vt.toString(r)}})}max(e,r){return new wh({...this._def,maxSize:{value:e,message:vt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};wh.create=(t,e)=>new wh({valueType:t,minSize:null,maxSize:null,typeName:It.ZodSet,...cr(e)});var up=class extends fr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==je.function)return Ye(r,{code:Re.invalid_type,expected:je.function,received:r.parsedType}),Gt;function n(a,u){return E_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,w_(),Xm].filter(c=>!!c),issueData:{code:Re.invalid_arguments,argumentsError:u}})}function i(a,u){return E_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,w_(),Xm].filter(c=>!!c),issueData:{code:Re.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof lp?ko(async(...a)=>{let u=new Ha([]),c=await this._def.args.parseAsync(a,s).catch(p=>{throw u.addIssue(n(a,p)),u}),h=await o(...c);return await this._def.returns._def.type.parseAsync(h,s).catch(p=>{throw u.addIssue(i(h,p)),u})}):ko((...a)=>{let u=this._def.args.safeParse(a,s);if(!u.success)throw new Ha([n(a,u.error)]);let c=o(...u.data),h=this._def.returns.safeParse(c,s);if(!h.success)throw new Ha([i(c,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new up({...this._def,args:Hu.create(e).rest(vh.create())})}returns(e){return new up({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new up({args:e||Hu.create([]).rest(vh.create()),returns:r||vh.create(),typeName:It.ZodFunction,...cr(n)})}},S7=class extends fr{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};S7.create=(t,e)=>new S7({getter:t,typeName:It.ZodLazy,...cr(e)});var w7=class extends fr{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return Ye(r,{received:r.data,code:Re.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:e.data}}get value(){return this._def.value}};w7.create=(t,e)=>new w7({value:t,typeName:It.ZodLiteral,...cr(e)});function Sre(t,e){return new of({values:t,typeName:It.ZodEnum,...cr(e)})}var of=class extends fr{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return Ye(r,{expected:jr.joinValues(n),received:r.parsedType,code:Re.invalid_type}),Gt}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return Ye(r,{received:r.data,code:Re.invalid_enum_value,options:n}),Gt}return ko(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return of.create(e)}exclude(e){return of.create(this.options.filter(r=>!e.includes(r)))}};of.create=Sre;var E7=class extends fr{_parse(e){let r=jr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==je.string&&n.parsedType!==je.number){let i=jr.objectValues(r);return Ye(n,{expected:jr.joinValues(i),received:n.parsedType,code:Re.invalid_type}),Gt}if(r.indexOf(e.data)===-1){let i=jr.objectValues(r);return Ye(n,{received:n.data,code:Re.invalid_enum_value,options:i}),Gt}return ko(e.data)}get enum(){return this._def.values}};E7.create=(t,e)=>new E7({values:t,typeName:It.ZodNativeEnum,...cr(e)});var lp=class extends fr{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==je.promise&&r.common.async===!1)return Ye(r,{code:Re.invalid_type,expected:je.promise,received:r.parsedType}),Gt;let n=r.parsedType===je.promise?r.data:Promise.resolve(r.data);return ko(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};lp.create=(t,e)=>new lp({type:t,typeName:It.ZodPromise,...cr(e)});var Ua=class extends fr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===It.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){let o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}let s={addIssue:o=>{Ye(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Gt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Gt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!T_(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>T_(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);jr.assertNever(i)}};Ua.create=(t,e,r)=>new Ua({schema:t,typeName:It.ZodEffects,effect:e,...cr(r)});Ua.createWithPreprocess=(t,e,r)=>new Ua({schema:e,effect:{type:"preprocess",transform:t},typeName:It.ZodEffects,...cr(r)});var Dc=class extends fr{_parse(e){return this._getType(e)===je.undefined?ko(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Dc.create=(t,e)=>new Dc({innerType:t,typeName:It.ZodOptional,...cr(e)});var Eh=class extends fr{_parse(e){return this._getType(e)===je.null?ko(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Eh.create=(t,e)=>new Eh({innerType:t,typeName:It.ZodNullable,...cr(e)});var T7=class extends fr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===je.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};T7.create=(t,e)=>new T7({innerType:t,typeName:It.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...cr(e)});var J2=class extends fr{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return A_(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ha(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ha(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};J2.create=(t,e)=>new J2({innerType:t,typeName:It.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...cr(e)});var Q2=class extends fr{_parse(e){if(this._getType(e)!==je.nan){let n=this._getOrReturnCtx(e);return Ye(n,{code:Re.invalid_type,expected:je.nan,received:n.parsedType}),Gt}return{status:"valid",value:e.data}}};Q2.create=t=>new Q2({typeName:It.ZodNaN,...cr(t)});var FUe=Symbol("zod_brand"),I_=class extends fr{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},A7=class extends fr{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Gt:s.status==="dirty"?(r.dirty(),xre(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Gt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new A7({in:e,out:r,typeName:It.ZodPipeline})}},wre=(t,e={},r)=>t?hp.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):hp.create(),HUe={object:Mn.lazycreate},It;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(It||(It={}));var DUe=(t,e={message:`Input not instance of ${t.name}`})=>wre(r=>r instanceof t,e),Ere=Fa.create,Tre=nf.create,UUe=Q2.create,LUe=sf.create,Are=g7.create,qUe=Sh.create,$Ue=W2.create,jUe=b7.create,KUe=y7.create,VUe=hp.create,GUe=vh.create,zUe=Uc.create,WUe=Y2.create,YUe=Da.create,XUe=Mn.create,ZUe=Mn.strictCreate,JUe=v7.create,QUe=X2.create,eLe=_7.create,tLe=Hu.create,rLe=x7.create,nLe=Z2.create,iLe=wh.create,sLe=up.create,oLe=S7.create,aLe=w7.create,uLe=of.create,cLe=E7.create,fLe=lp.create,xee=Ua.create,hLe=Dc.create,lLe=Eh.create,dLe=Ua.createWithPreprocess,pLe=A7.create,mLe=()=>Ere().optional(),gLe=()=>Tre().optional(),bLe=()=>Are().optional(),yLe={string:t=>Fa.create({...t,coerce:!0}),number:t=>nf.create({...t,coerce:!0}),boolean:t=>g7.create({...t,coerce:!0}),bigint:t=>sf.create({...t,coerce:!0}),date:t=>Sh.create({...t,coerce:!0})},vLe=Gt,Co=Object.freeze({__proto__:null,defaultErrorMap:Xm,setErrorMap:wUe,getErrorMap:w_,makeIssue:E_,EMPTY_PATH:EUe,addIssueToContext:Ye,ParseStatus:ys,INVALID:Gt,DIRTY:xre,OK:ko,isAborted:cC,isDirty:fC,isValid:T_,isAsync:A_,get util(){return jr},get objectUtil(){return uC},ZodParsedType:je,getParsedType:op,ZodType:fr,ZodString:Fa,ZodNumber:nf,ZodBigInt:sf,ZodBoolean:g7,ZodDate:Sh,ZodSymbol:W2,ZodUndefined:b7,ZodNull:y7,ZodAny:hp,ZodUnknown:vh,ZodNever:Uc,ZodVoid:Y2,ZodArray:Da,ZodObject:Mn,ZodUnion:v7,ZodDiscriminatedUnion:X2,ZodIntersection:_7,ZodTuple:Hu,ZodRecord:x7,ZodMap:Z2,ZodSet:wh,ZodFunction:up,ZodLazy:S7,ZodLiteral:w7,ZodEnum:of,ZodNativeEnum:E7,ZodPromise:lp,ZodEffects:Ua,ZodTransformer:Ua,ZodOptional:Dc,ZodNullable:Eh,ZodDefault:T7,ZodCatch:J2,ZodNaN:Q2,BRAND:FUe,ZodBranded:I_,ZodPipeline:A7,custom:wre,Schema:fr,ZodSchema:fr,late:HUe,get ZodFirstPartyTypeKind(){return It},coerce:yLe,any:VUe,array:YUe,bigint:LUe,boolean:Are,date:qUe,discriminatedUnion:QUe,effect:xee,enum:uLe,function:sLe,instanceof:DUe,intersection:eLe,lazy:oLe,literal:aLe,map:nLe,nan:UUe,nativeEnum:cLe,never:zUe,null:KUe,nullable:lLe,number:Tre,object:XUe,oboolean:bLe,onumber:gLe,optional:hLe,ostring:mLe,pipeline:pLe,preprocess:dLe,promise:fLe,record:rLe,set:iLe,strictObject:ZUe,string:Ere,symbol:$Ue,transformer:xee,tuple:tLe,undefined:jUe,union:JUe,unknown:GUe,void:WUe,NEVER:vLe,ZodIssueCode:Re,quotelessJson:SUe,ZodError:Ha}),jC=Co.string().regex(/^[a-fA-F0-9]$/),Ire=Co.string().regex(/^[a-fA-F0-9]{64}$/),I7=Co.number().min(0).max(4294967295),Pre=Co.bigint(),Ore=Co.instanceof(Uint8Array),_Le=Co.union([jC,I7,Co.string(),Ore]).array(),F_=Co.union([_Le,jC,Ore]),Bre=Co.array(F_),KC=Co.object({value:Co.union([I7,Pre]),scriptPubKey:F_}),Cre=Co.object({txid:Ire,vout:I7,scriptSig:F_,sequence:I7,prevout:KC.optional(),witness:Bre}),xLe=Co.object({version:I7,vin:Co.array(Cre),vout:Co.array(KC),locktime:I7}),SLe={TxData:xLe,TxInput:Cre,TxOutput:KC,witness:Bre,script:F_,hexstr:jC,hash:Ire,uint32:I7,uint64:Pre},lC=class{constructor(e){typeof e=="string"&&(e=le.hex(e)),e instanceof Uint8Array&&(e=Na.decode(e));let r=SLe.TxData;this._data=r.parse(Na.create(e))}get data(){return this._data}get version(){return this.data.version}get vin(){return this.data.vin.map((e,r)=>new vre(this.data,r))}get vout(){return this.data.vout.map(e=>new $C(e))}get locktime(){return new aC(this.data.locktime)}get base(){return Na.encode(this.data,!0)}get buff(){return Na.encode(this.data)}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get size(){return this.raw.length}get bsize(){return this.base.length}get weight(){return this.bsize*3+this.size}get vsize(){let e=this.weight%4>0?1:0;return Math.floor(this.weight/4)+e}get hash(){return xh(this.buff).reverse().hex}get txid(){return xh(this.base).reverse().hex}async export(){let{size:e,weight:r,vsize:n,hex:i}=this,s=this.txid,o=this.hash;return{txid:s,hash:o,...this.data,size:e,weight:r,vsize:n,hex:i}}};Lc.Address=FDe;Lc.Input=vre;Lc.Output=$C;Lc.Script=Ls;Lc.Sequence=x_;Lc.Signer=oC;Lc.Tap=yUe;Lc.Transaction=lC;Lc.Tx=Na;Lc.Witness=S_});var eg=$(ht=>{k();M();Object.defineProperty(ht,"__esModule",{value:!0});ht.getFee=ht.getDummySignature=ht.getDummyEcKey=ht.verifyContract=ht.toTokenAddress=ht.resetTx=ht.scaleByDecimals=ht.toP2tr=ht.p2tr2Address=ht.toBitcoinNetwork=ht.toStateScript=ht.callToBufferList=ht.getDummyUTXO=ht.dummyUTXO=ht.getDummySigner=ht.outpoint2ByteString=ht.outpoint2TxOutpoint=ht.toTxOutpoint=ht.getTokenContractP2TR=ht.getTokenContract=ht.getGuardsP2TR=ht.GuardType=ht.script2P2TR=ht.contract2P2TR=ht.strToByteString=ht.byteStringToBuffer=ht.toXOnly=void 0;var VC=X0(),vs=Z0(),B7=Sr(),O7=kre(),zC=hf(),wLe=WC(),ELe=Ho(),H_="0250929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0";function TLe(t){return t.subarray(1,33)}ht.toXOnly=TLe;var ALe=function(t){let e=[];for(let r of t)e.push(A.Buffer.from(r,"hex"));return e};ht.byteStringToBuffer=ALe;function ILe(t){return(0,B7.toByteString)(A.Buffer.from(t,"utf-8").toString("hex"))}ht.strToByteString=ILe;function Mre(t){let e=t.lockingScript.toBuffer();return{...Rre(e),script:e.toString("hex"),contract:t}}ht.contract2P2TR=Mre;function Rre(t){let e=O7.Tap.encodeScript(t),[r,n]=O7.Tap.getPubKey(H_,{target:e});return{p2tr:new vs.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}ht.script2P2TR=Rre;var GC;(function(t){t[t.Transfer=0]="Transfer",t[t.Burn=1]="Burn"})(GC=ht.GuardType||(ht.GuardType={}));function Nre(t=GC.Transfer){let e=new VC.BurnGuard,r=new VC.TransferGuard,n=O7.Tap.encodeScript(e.lockingScript.toBuffer()),i=O7.Tap.encodeScript(r.lockingScript.toBuffer()),s=[n,i],[o]=O7.Tap.getPubKey(H_,{tree:s}),[,a]=O7.Tap.getPubKey(H_,{target:n,tree:s}),[,u]=O7.Tap.getPubKey(H_,{target:i,tree:s}),c=new vs.btc.Script(`OP_1 32 0x${o}}`).toHex();return t===GC.Transfer?{p2tr:c,tapScript:i,cblock:u,script:r.lockingScript.toBuffer().toString("hex"),contract:r}:{p2tr:c,tapScript:n,cblock:a,script:e.lockingScript.toBuffer().toString("hex"),contract:e}}ht.getGuardsP2TR=Nre;function Fre(t,e){return new VC.CAT20(t,(0,B7.toByteString)(e))}ht.getTokenContract=Fre;function PLe(t){let{p2tr:e}=Nre();return Mre(Fre(t,e))}ht.getTokenContractP2TR=PLe;function Hre(t,e){let r=A.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:A.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}ht.toTxOutpoint=Hre;function Dre(t){let[e,r]=t.split("_");return Hre(e,parseInt(r))}ht.outpoint2TxOutpoint=Dre;var OLe=function(t){let e=Dre(t);return e.txhash+e.outputIndex};ht.outpoint2ByteString=OLe;function BLe(t){return B7.TestWallet.random(new B7.DummyProvider)}ht.getDummySigner=BLe;ht.dummyUTXO={txId:(0,zC.randomBytes)(32).toString("hex"),outputIndex:0,script:"",satoshis:1e4};function CLe(t=1e4,e=!1){return e?Object.assign({},ht.dummyUTXO,{satoshis:t,txId:(0,zC.randomBytes)(32).toString("hex")}):Object.assign({},ht.dummyUTXO,{satoshis:t})}ht.getDummyUTXO=CLe;var kLe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,B7.int2ByteString)(BigInt(r.opcodenum-80));return A.Buffer.from(n,"hex")}else return A.Buffer.from((0,B7.toByteString)(""));return r.buf})};ht.callToBufferList=kLe;var MLe=function(t){return new vs.btc.Script(`6a1863617401${t.hashRoot}`)};ht.toStateScript=MLe;function Ure(t){return t==="btc-signet"?vs.btc.Networks.testnet:vs.btc.Networks.mainnet}ht.toBitcoinNetwork=Ure;function RLe(t,e){let r=typeof t=="string"?vs.btc.Script.fromHex(t):t;return vs.btc.Address.fromScript(r,Ure(e)).toString()}ht.p2tr2Address=RLe;function NLe(t){if((typeof t=="string"?vs.btc.Address.fromString(t):t).type!=="taproot")throw new Error(`address ${t} is not taproot`);return vs.btc.Script.fromAddress(t).toHex()}ht.toP2tr=NLe;function FLe(t,e){return t*BigInt(Math.pow(10,e))}ht.scaleByDecimals=FLe;function HLe(t){for(let e=0;e<t.inputs.length;e++){let r=t.inputs[e];r.hasWitnesses()&&r.setWitnesses([])}t.nLockTime=0}ht.resetTx=HLe;function DLe(t){if(typeof t=="string"&&(t=vs.btc.Address.fromString(t)),t.type===vs.btc.Address.PayToTaproot)return(0,B7.hash160)(t.hashBuffer.toString("hex"));if(t.type===vs.btc.Address.PayToWitnessPublicKeyHash)return t.hashBuffer.toString("hex");throw new Error(`Unsupported address type: ${t.type}`)}ht.toTokenAddress=DLe;function ULe(t,e,r,n){let i=new vs.btc.Script.Interpreter,s=vs.btc.Script.Interpreter.SCRIPT_VERIFY_WITNESS|vs.btc.Script.Interpreter.SCRIPT_VERIFY_TAPROOT;return i.verify(new vs.btc.Script(""),new vs.btc.Script(t.script),e,r,s,n,t.satoshis)?!0:i.errstr}ht.verifyContract=ULe;function LLe(){let t=(0,zC.randomBytes)(32),e=(0,ELe.private2Wif)(t);return new wLe.EcKeyService({privateKey:e})}ht.getDummyEcKey=LLe;function qLe(){return vs.btc.crypto.Signature.fromString("E907831F80848D1069A5371B402410364BDF1C5F8307B0084C55F1CE2DCA821525F66A4A85EA8B71E482A74F382D2CE5EBEEE8FDB2172F477DF4900D310536C0").toString("hex")}ht.getDummySignature=qLe;function $Le(t){return t.inputs.reduce((e,r)=>e+r.output.satoshis,0)-t.outputs.reduce((e,r)=>e+r.satoshis,0)}ht.getFee=$Le});var WC=$(D_=>{k();M();Object.defineProperty(D_,"__esModule",{value:!0});D_.EcKeyService=void 0;var C7=Z0(),Ah=Z0(),Lre=Sr(),jLe=eg(),YC=class{constructor(e){if(this.addressType=e.addressType||Ah.CatAddressType.P2TR,!e.privateKey&&!e.publicKey)throw new Error("Either privateKey or publicKey must be provided");this.privateKey=e.privateKey?C7.btc.PrivateKey.fromWIF(e.privateKey):void 0,this.publicKey=e.privateKey?this.privateKey.toPublicKey():C7.btc.PublicKey.fromString(e.publicKey)}hasPrivateKey(){return this.privateKey!==void 0}getWif(){return this.getPrivateKey().toWIF()}getPrivateKey(){return this.privateKey}getAddressType(){return this.addressType||Ah.CatAddressType.P2TR}getP2TRAddress(){return this.getPublicKey().toAddress(null,C7.btc.Address.PayToTaproot)}getAddress(){return this.getP2TRAddress()}getXOnlyPublicKey(){let e=this.getTokenPublicKey();return(0,jLe.toXOnly)(e.toBuffer()).toString("hex")}getTweakedPrivateKey(){let{tweakedPrivKey:e}=this.getPrivateKey().createTapTweak();return C7.btc.PrivateKey.fromBuffer(e)}getPublicKey(){return this.publicKey}getTokenPublicKey(){if(this.getAddressType()===Ah.CatAddressType.P2TR){let{tweakedPubKey:r}=this.publicKey.createTapTweak();return C7.btc.PublicKey.fromBuffer(r)}return this.publicKey}getPubKeyPrefix(){let e=this.getAddressType();return e===Ah.CatAddressType.P2TR?"":e===Ah.CatAddressType.P2WPKH?this.getTokenPublicKey().toString().slice(0,2):""}getTokenAddress(){let e=this.getAddressType();if(e===Ah.CatAddressType.P2TR){let r=this.getXOnlyPublicKey();return(0,Lre.hash160)(r)}else if(e===Ah.CatAddressType.P2WPKH){let r=this.getTokenPublicKey();return(0,Lre.hash160)(r.toString())}else throw new Error(`Unsupported address type: ${e}`)}getTaprootPrivateKey(){return this.getTweakedPrivateKey()}getTokenPrivateKey(){let e=this.getAddressType();if(e===Ah.CatAddressType.P2TR)return this.getTaprootPrivateKey();if(e===Ah.CatAddressType.P2WPKH)return this.getPrivateKey();throw new Error(`Unsupported address type: ${e}`)}signTx(e){if(!this.hasPrivateKey())throw new Error("No private key provided");let r=this.getPrivateKey(),n=C7.btc.crypto.Hash.sha256ripemd160(r.publicKey.toBuffer());for(let i=0;i<e.inputs.length;i++){let s=e.inputs[i];if(s.output.script.isWitnessPublicKeyHashOut()){let o=s.getSignatures(e,r,i,void 0,n,void 0,void 0);if(o.length===0)throw new Error("Could not sign input");e.applySignature(o[0])}else if(s.output.script.isTaproot()&&!s.hasWitnesses()){let o=s.getSignatures(e,r,i,C7.btc.crypto.Signature.SIGHASH_ALL,n,void 0,void 0);if(o.length===0)throw new Error("Could not sign input");e.applySignature(o[0])}}}};D_.EcKeyService=YC});var qre=$(uf=>{k();M();Object.defineProperty(uf,"__esModule",{value:!0});uf.scaleConfig=uf.tokenUtxoParse=uf.feeUtxoParse=uf.tokenInfoParse=void 0;var KLe=Z0(),VLe=X0(),k7=eg();function GLe(t,e){let r=JSON.parse(t),n=JSON.parse(JSON.stringify(r.info));if(n.max&&(n.max=BigInt(n.max),n.premine=BigInt(n.premine),n.limit=BigInt(n.limit)),r.info=n,!r.tokenAddr){let i=(0,k7.toP2tr)(r.minterAddr);r.tokenAddr=(0,k7.p2tr2Address)((0,k7.getTokenContractP2TR)(i).p2tr,e)}return r}uf.tokenInfoParse=GLe;function zLe(t,e){return e.map(r=>{let n=KLe.btc.Script.fromAddress(t.getAddress()).toHex();return{txId:r.txId,outputIndex:r.vOut,script:n,satoshis:r.amount}})}uf.feeUtxoParse=zLe;function WLe(t){let e=JSON.parse(t);return Array.isArray(e)||(e=[e]),e.map(r=>{let n=VLe.ProtocolState.fromStateHashList(r.txoStateHashes);typeof r.utxo.satoshis=="string"&&(r.utxo.satoshis=parseInt(r.utxo.satoshis));let i=r.state.address;try{i=(0,k7.toTokenAddress)(r.state.address)}catch{}return{utxo:r.utxo,state:{protocolState:n,data:{ownerAddr:i,amount:BigInt(r.state.amount)}}}})}uf.tokenUtxoParse=WLe;function YLe(t){let e=Object.assign({},t);return e.max=(0,k7.scaleByDecimals)(t.max,t.decimals),e.premine=(0,k7.scaleByDecimals)(t.premine,t.decimals),e.limit=(0,k7.scaleByDecimals)(t.limit,t.decimals),e}uf.scaleConfig=YLe});var Kre=$(U_=>{k();M();Object.defineProperty(U_,"__esModule",{value:!0});U_.validatePrevTx=void 0;var $re=Z0(),jre=eg();function XLe(t,e,r,n){let i=0,s=new $re.btc.Transaction(e);if(!s.inputs.find((c,h)=>{let f=c.getWitnesses();if(Array.isArray(f)&&f.length>2){let p=f[f.length-2],{p2tr:l}=(0,jre.script2P2TR)(p),y=(0,jre.p2tr2Address)(l,n);if(y===t.tokenAddr||y===t.minterAddr)return i=h,!0}}))return null;let a=s.inputs[i].prevTxId.toString("hex"),u=new $re.btc.Transaction(r);return u.id!=a?null:{prevTx:s,prevPrevTx:u,prevTokenInputIndex:i}}U_.validatePrevTx=XLe});var Vre=$(L_=>{k();M();Object.defineProperty(L_,"__esModule",{value:!0});L_.pickLargeFeeUtxo=void 0;function ZLe(t){let e=t[0];for(let r of t)r.satoshis>e.satoshis&&(e=r);return e}L_.pickLargeFeeUtxo=ZLe});var rg=$(qc=>{k();M();var JLe=qc&&qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tg=qc&&qc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JLe(e,t,r)};Object.defineProperty(qc,"__esModule",{value:!0});tg(WC(),qc);tg(qre(),qc);tg(Kre(),qc);tg(eg(),qc);tg(Vre(),qc)});var XC=$(mp=>{k();M();Object.defineProperty(mp,"__esModule",{value:!0});mp.unlockGuard=mp.unlockToken=mp.createGuardContract=void 0;var QLe=rg(),M7=Z0(),Du=rg(),pp=X0(),ng=Sr();function eqe(t,e,r,n,i,s){let{p2tr:o,tapScript:a}=(0,Du.getGuardsP2TR)(),u=pp.ProtocolState.getEmptyState(),c=pp.GuardProto.createEmptyState();c.tokenScript=i;for(let p=0;p<n.length;p++)c.inputTokenAmountArray[p]=n[p].state.data.amount;u.updateDataList(0,pp.GuardProto.toByteString(c));let h=new M7.btc.Transaction().from(e).addOutput(new M7.btc.Transaction.Output({satoshis:0,script:(0,Du.toStateScript)(u)})).addOutput(new M7.btc.Transaction.Output({satoshis:M7.Postage.GUARD_POSTAGE,script:o})).feePerByte(r).change(s);if(h.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");h.outputs[2].satoshis-=1,t.hasPrivateKey()&&t.signTx(h);let f={utxo:{txId:h.id,outputIndex:1,script:h.outputs[1].script.toHex(),satoshis:h.outputs[1].satoshis},state:{protocolState:u,data:c}};return{commitTx:h,contact:f,guardTapScript:a}}mp.createGuardContract=eqe;async function tqe(t,e,r,n,i,s,o,a,u,c,h,f,p,l){let{cblock:y,contract:_}=(0,Du.getTokenContractP2TR)(u),{shPreimage:O,prevoutsCtx:F,spentScripts:B,sighash:E}=c,I={isUserSpend:!1,userPubKeyPrefix:(0,ng.toByteString)(""),userPubKey:(0,ng.PubKey)(t.getXOnlyPublicKey()),userSig:(0,QLe.getDummySignature)(),contractInputIndex:BigInt(l||0)};if(!p){let v;t.hasPrivateKey()?v=M7.btc.crypto.Schnorr.sign(t.getTokenPrivateKey(),E.hash):v=M7.btc.crypto.Signature.fromString(f);let g=t.getXOnlyPublicKey();I={isUserSpend:!0,userPubKeyPrefix:t.getPubKeyPrefix(),userPubKey:(0,ng.PubKey)(g),userSig:v.toString("hex"),contractInputIndex:0n}}let U=(0,pp.getBackTraceInfo)(n,s,i),{state:{protocolState:N,data:H}}=e;await _.connect((0,Du.getDummySigner)());let D={statesHashRoot:N.hashRoot,txoStateHashes:N.stateHashList},C=await _.methods.unlock(I,H,D,o,U,O,F,B,{fromUTXO:(0,Du.getDummyUTXO)(),verify:!1,exec:!1}),d=[...(0,Du.callToBufferList)(C),_.lockingScript.toBuffer(),A.Buffer.from(y,"hex")];if(a.inputs[r].witnesses=d,h){let v=(0,Du.verifyContract)(e.utxo,a,r,d);if(typeof v=="string")throw new Error(`unlocking token contract at input ${r} failed! ${v}`);return!0}return!0}mp.unlockToken=tqe;async function rqe(t,e,r,n,i,s,o,a,u,c){let{shPreimage:h,prevoutsCtx:f,spentScripts:p}=u,l=(0,pp.emptyTokenArray)(),y=(0,pp.emptyTokenAmountArray)(),_=(0,ng.fill)(!1,pp.MAX_TOKEN_OUTPUT);l[0]=s.ownerAddr,y[0]=s.amount,_[0]=!0,o&&(l[1]=o.ownerAddr,y[1]=o.amount,_[1]=!0);let O=o===null?1:2,{cblock:F,contract:B}=(0,Du.getGuardsP2TR)();await B.connect((0,Du.getDummySigner)());let E=(0,pp.emptyTokenArray)();a!=null&&(E[O]=a.satoshis,l[O]=a.script,_[O]=!1);let I=await B.methods.transfer(n.stateHashList,l,y,_,E,(0,ng.int2ByteString)(BigInt(M7.Postage.TOKEN_POSTAGE),8n),t.state.data,e.tx,h,f,p,{fromUTXO:(0,Du.getDummyUTXO)(),verify:!1,exec:!1}),U=[...(0,Du.callToBufferList)(I),B.lockingScript.toBuffer(),A.Buffer.from(F,"hex")];if(i.inputs[r].witnesses=U,c){let N=(0,Du.verifyContract)(t.utxo,i,r,U);if(typeof N=="string")throw new Error(`unlocking guard contract failed! ${N}`);return!0}return!0}mp.unlockGuard=rqe});var ZC=$(q_=>{k();M();Object.defineProperty(q_,"__esModule",{value:!0});q_.mergeFee=void 0;var nqe=Z0();function iqe(t,e,r){let n=t.getAddress(),i=new nqe.btc.Transaction().from(e).feePerByte(r).change(n);if(i.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");let s=i.outputs[0];s.satoshis-=1,t.hasPrivateKey()&&t.signTx(i);let o={address:n,txId:i.id,outputIndex:0,script:s.script,satoshis:s.satoshis};return{mergeTx:i,feeUtxo:o}}q_.mergeFee=iqe});var zre=$(cf=>{k();M();Object.defineProperty(cf,"__esModule",{value:!0});cf.calcVsizeTransfer=cf.transfer=cf.estimateFee=void 0;var Mo=Z0(),JC=Sr(),qs=rg(),Ih=X0(),ig=XC(),sqe=ZC();async function oqe(t){return t.data.estimateFee=!0,await Gre(t)}cf.estimateFee=oqe;async function Gre(t){let e=t.data,r=e.estimateFee?(0,qs.getDummyEcKey)():new qs.EcKeyService({privateKey:t.privateKey}),n=(0,qs.tokenInfoParse)(e.tokenMetadata,Mo.SupportedNetwork.fractalMainnet),i=(0,qs.toP2tr)(n.minterAddr),{p2tr:s,tapScript:o}=(0,qs.getTokenContractP2TR)(i),a=e.verifyScript||!1,u,c;try{u=Mo.btc.Address.fromString(e.toAddress)}catch{throw new Error(`Invalid receiver address: ${e.toAddress}`)}if(u.type!=="taproot")throw new Error(`Invalid address type: ${u.type}`);try{c=BigInt(e.tokenAmount)}catch{throw new Error(`Invalid token amount:  ${e.tokenAmount}`)}if(c<=0n)throw new Error("Invalid token amount");let h=(0,qs.feeUtxoParse)(r,t.data.feeInputs),f=h[0],p;h.length>1&&({feeUtxo:f,mergeTx:p}=(0,sqe.mergeFee)(r,h,e.feeRate));let l=(0,qs.tokenUtxoParse)(e.tokens),y=(0,ig.createGuardContract)(r,f,e.feeRate,l,s,e.changeAddress);if(y===null)return null;let{commitTx:_,contact:O,guardTapScript:F}=y,B=Ih.ProtocolState.getEmptyState(),E=Ih.CAT20Proto.create(c,(0,qs.toTokenAddress)(u));B.updateDataList(0,Ih.CAT20Proto.toByteString(E));let U=l.reduce((V,W)=>V+W.state.data.amount,0n)-c,N=null;if(U>0n){let V=r.getTokenAddress();N=Ih.CAT20Proto.create(U,V),B.updateDataList(1,Ih.CAT20Proto.toByteString(N))}let H={txId:_.id,outputIndex:2,script:_.outputs[2].script.toHex(),satoshis:_.outputs[2].satoshis},D=[...l.map(V=>V.utxo),O.utxo,H];if(D.length>Ih.MAX_INPUT)throw new Error("Too many inputs, max 4 token inputs");let C=new Mo.btc.Transaction().from(D).addOutput(new Mo.btc.Transaction.Output({satoshis:0,script:(0,qs.toStateScript)(B)})).addOutput(new Mo.btc.Transaction.Output({satoshis:Mo.Postage.TOKEN_POSTAGE,script:s})).feePerByte(e.feeRate);N&&C.addOutput(new Mo.btc.Transaction.Output({satoshis:Mo.Postage.TOKEN_POSTAGE,script:s}));let d=Mo.btc.Script.fromAddress(e.changeAddress);C.addOutput(new Mo.btc.Transaction.Output({satoshis:0,script:d}));let v=[];if(e.tokenPrevTxs.length!==l.length)throw new Error("Invalid tokenPrevTxs length");for(let V=0;V<l.length;V++){let W=e.tokenPrevTxs[V].prevTx,ee=e.tokenPrevTxs[V].prevPrevTx,ae=(0,qs.validatePrevTx)(n,W,ee,Mo.SupportedNetwork.fractalMainnet);if(ae===null)throw new Error("prevTx does not match prevPrevTx");v.push(ae)}let g=(0,Ih.getTxHeaderCheck)(_,O.utxo.outputIndex),m=l.length,S={outputIndex:(0,qs.toTxOutpoint)(O.utxo.txId,O.utxo.outputIndex).outputIndex,inputIndexVal:BigInt(m),tx:g.tx,guardState:O.state.data},{vsize:w}=await(0,cf.calcVsizeTransfer)(l,O,C,S,v,o,F,B,E,N,d,i),R=N===null?2:3,T=C.inputAmount-w*e.feeRate-Mo.Postage.TOKEN_POSTAGE-(N===null?0:Mo.Postage.TOKEN_POSTAGE),b=w*e.feeRate;if(T<=Mo.CHANGE_MIN_POSTAGE){T=0,C.removeOutput(R);let{vsize:V,fee:W}=await(0,cf.calcVsizeTransfer)(l,O,C,S,v,o,F,B,E,N,d,i);w=V,b=W}else C.outputs[R].satoshis=T;if(e.estimateFee)return p?{mergeTx:(0,qs.getFee)(p),commitTx:(0,qs.getFee)(_),revealTx:b}:{commitTx:(0,qs.getFee)(_),revealTx:b};let x=null;T>BigInt(0)&&(x={script:(0,JC.toByteString)(d.toHex()),satoshis:(0,JC.int2ByteString)(BigInt(T),BigInt(8))});let P=(0,Ih.getTxCtxMulti)(C,l.map((V,W)=>W).concat([l.length]),[...new Array(l.length).fill(A.Buffer.from(o,"hex")),A.Buffer.from(F,"hex")]);for(let V=0;V<l.length;V++)if(!await(0,ig.unlockToken)(r,l[V],V,v[V].prevTx,v[V].prevTokenInputIndex,v[V].prevPrevTx,S,C,i,P[V],a))return null;return await(0,ig.unlockGuard)(O,S,m,B,C,E,N,x,P[m],a)?(r.signTx(C),p?{mergeTx:p.uncheckedSerialize(),commitTx:_.uncheckedSerialize(),revealTx:C.uncheckedSerialize()}:{commitTx:_.uncheckedSerialize(),revealTx:C.uncheckedSerialize()}):null}cf.transfer=Gre;var aqe=async(t,e,r,n,i,s,o,a,u,c,h,f)=>{let p=(0,qs.getDummyEcKey)(),l=Mo.btc.Script.fromAddress(p.getAddress()),y=r.inputs.length-1,_=r.inputs[y].output.script;r.inputs[y].output.setScript(l);let O=(0,Ih.getTxCtxMulti)(r,t.map((U,N)=>N).concat([t.length]),[...new Array(t.length).fill(A.Buffer.from(s,"hex")),A.Buffer.from(o,"hex")]),F=t.length,B={script:h.toHex(),satoshis:(0,JC.int2ByteString)(0n,8n)};for(let U=0;U<t.length;U++)await(0,ig.unlockToken)(p,t[U],U,i[U].prevTx,i[U].prevTokenInputIndex,i[U].prevPrevTx,n,r,f,O[U],!1);await(0,ig.unlockGuard)(e,n,F,a,r,u,c,B,O[F],!1),p.signTx(r);let E=r.vsize,I=(0,qs.getFee)(r);return(0,qs.resetTx)(r),r.inputs[y].output.setScript(_),{vsize:E,fee:I}};cf.calcVsizeTransfer=aqe});var Wre=$(Ph=>{k();M();var uqe=Ph&&Ph.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QC=Ph&&Ph.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uqe(e,t,r)};Object.defineProperty(Ph,"__esModule",{value:!0});QC(XC(),Ph);QC(ZC(),Ph);QC(zre(),Ph)});var tk=$(Oh=>{k();M();var cqe=Oh&&Oh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ek=Oh&&Oh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cqe(e,t,r)};Object.defineProperty(Oh,"__esModule",{value:!0});ek(Z0(),Oh);ek(Wre(),Oh);ek(rg(),Oh)});var Xre=$($_=>{k();M();Object.defineProperty($_,"__esModule",{value:!0});$_.CatWallet=void 0;var fqe=ac(),Yre=tk(),rk=class extends fqe.BtcWallet{async signTransaction(e){try{let r=await(0,Yre.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async estimateFee(e){try{e.data.estimateFee=!0;let r=await(0,Yre.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}};$_.CatWallet=rk});var db=$(so=>{k();M();var hqe=so&&so.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ff=so&&so.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hqe(e,t,r)};Object.defineProperty(so,"__esModule",{value:!0});ff(ac(),so);ff(kF(),so);ff(MF(),so);ff(RF(),so);ff(FF(),so);ff(HF(),so);ff(jF(),so);ff(nH(),so);ff(sH(),so);ff(Xre(),so)});var Jre=$(j_=>{k();M();Object.defineProperty(j_,"__esModule",{value:!0});j_.oneKeyBuildBtcTx=void 0;var lqe=Do(),dqe=Dh(),nk=_r(),ik=db(),sk=Ho(),pqe=ha(),mqe={legacy:"SPENDADDRESS",segwit_native:"SPENDWITNESS",segwit_nested:"SPENDP2SHWITNESS",segwit_taproot:"SPENDTAPROOT"},gqe={legacy:"PAYTOADDRESS",segwit_native:"PAYTOWITNESS",segwit_nested:"PAYTOP2SHWITNESS",segwit_taproot:"PAYTOTAPROOT"};function bqe(t,e=pqe.bitcoin){let r=(0,ik.convert2UtxoTx)(t);if(r.omni){let u=(0,ik.number2Hex)(r.omni.coinType||31,8),c=(0,ik.number2Hex)(r.omni.amount,16),h="6f6d6e6900000000"+u+c;r.outputs.push({address:"",amount:0,omniScript:h})}let n=parseInt((0,sk.signBtc)(r,"",e,void 0,!0,!0)),i=t.dustSize||546;n>=i&&r.outputs.push({address:r.address,amount:n,derivationPath:r.derivationPath,isChange:!0});let s=[],o=[];r.inputs.forEach(u=>{let c=Zre(u.derivationPath);s.push({address_n:c,prev_hash:u.txId,prev_index:u.vOut,amount:u.amount.toString(),script_type:mqe[(0,sk.getAddressType)(u.address,e)]}),o.push(yqe(u.nonWitnessUtxo,u.txId))});let a=[];return r.outputs.forEach(u=>{u.isChange?a.push({address_n:Zre(u.derivationPath),amount:u.amount.toString(),script_type:gqe[(0,sk.getAddressType)(u.address,e)]}):u.omniScript?a.push({amount:"0",op_return_data:u.omniScript,script_type:"PAYTOOPRETURN"}):a.push({address:u.address,amount:u.amount.toString(),script_type:"PAYTOADDRESS"})}),{inputs:s,outputs:a,refTxs:o,coin:"btc"}}j_.oneKeyBuildBtcTx=bqe;function yqe(t,e){let r=lqe.Transaction.fromHex(t),n=[];r.ins.forEach(s=>{n.push({prev_hash:nk.base.toHex((0,dqe.reverseBuffer)(s.hash)),prev_index:s.index,script_sig:nk.base.toHex(s.script),sequence:s.sequence})});let i=[];return r.outs.forEach(s=>{i.push({amount:s.value,script_pubkey:nk.base.toHex(s.script)})}),{hash:e,inputs:n,bin_outputs:i,lock_time:r.locktime,version:r.version}}function Zre(t){let e=t.split("/");e[0]==="m"&&(e=e.slice(1));let r=[];return e.forEach(n=>{let i;n.slice(-1)==="'"?i=vqe(parseInt(n.slice(0,-1),10)):i=parseInt(n,10),r.push(i)}),r}function vqe(t){return 2147483648+t}});var Qre=$(sg=>{k();M();Object.defineProperty(sg,"__esModule",{value:!0});sg.BtcXrcTypes=void 0;var _qe;(function(t){t[t.INSCRIBE=1]="INSCRIBE",t[t.PSBT=2]="PSBT",t[t.PSBT_MPC_UNSIGNED_LIST=21]="PSBT_MPC_UNSIGNED_LIST",t[t.PSBT_MPC_SIGNED_LIST=22]="PSBT_MPC_SIGNED_LIST",t[t.PSBT_MPC_UNSIGNED_BUY=23]="PSBT_MPC_UNSIGNED_BUY",t[t.PSBT_MPC_SIGNED_BUY=24]="PSBT_MPC_SIGNED_BUY",t[t.PSBT_MPC_UNSIGNED=25]="PSBT_MPC_UNSIGNED",t[t.PSBT_MPC_SIGNED=26]="PSBT_MPC_SIGNED",t[t.PSBT_RUNEMAIN=27]="PSBT_RUNEMAIN",t[t.PSBT_KEY_SCRIPT_PATH=3]="PSBT_KEY_SCRIPT_PATH",t[t.PSBT_KEY_SCRIPT_PATH_BATCH=4]="PSBT_KEY_SCRIPT_PATH_BATCH",t[t.SRC20=101]="SRC20",t[t.RUNE=102]="RUNE",t[t.RUNEMAIN=103]="RUNEMAIN",t[t.PSBT_DEODE=104]="PSBT_DEODE",t[t.ARC20=114]="ARC20",t[t.CAT20=115]="CAT20"})(_qe=sg.BtcXrcTypes||(sg.BtcXrcTypes={}))});var zo=$(Zr=>{k();M();var ene=Zr&&Zr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xqe=Zr&&Zr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fa=Zr&&Zr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ene(e,t,r)},tne=Zr&&Zr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ene(e,t,r);return xqe(e,t),e};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.message=Zr.wif=void 0;fa(Do(),Zr);fa(eF(),Zr);fa(Ho(),Zr);fa(rF(),Zr);Zr.wif=tne(px());fa(aF(),Zr);fa(mF(),Zr);fa(vF(),Zr);fa(TF(),Zr);fa(tS(),Zr);Zr.message=tne(OF());fa(db(),Zr);fa(Jre(),Zr);fa(Qre(),Zr);fa(tk(),Zr);fa(t0(),Zr)});export{zo as a};
//# sourceMappingURL=chunk-5HZQ6QXZ.js.map
