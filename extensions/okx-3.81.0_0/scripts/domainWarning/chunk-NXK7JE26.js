import{A as Ve,B as Ye,H as G,I as Le,a as M,g as se,i as ie,u as ge,z as Se}from"./chunk-2BXBTW2I.js";import{f as v,o as i,q as a}from"./chunk-4J7XGGEQ.js";i();a();var J=v(M());i();a();var Q=v(M()),Ie=v(Ve()),c=v(Ye());i();a();var U=v(M());function He({alt:e,store:t,...r},u){let{onLoad:l,onError:m,needSource:d,sourceSrcset:p,requestSrc:s,imgSrcSet:S,imgSrc:f}=t;return f?U.default.createElement(U.default.Fragment,null,d&&U.default.createElement("source",{"data-testid":"okd-image-source-webp-default",srcSet:p}),U.default.createElement("img",{...r,src:f,ref:u,srcSet:S,alt:e,onLoad:n=>{l(n,f,s)},onError:n=>{m(n,f,s)}})):null}var $e=(0,U.forwardRef)(He);i();a();var H=v(M());i();a();var Xe="x-oss-process=image/",sr=new RegExp(`(${Xe}[^&]+&??)`);var q={cover:"cover",contain:"contain"};q.allAsArray=Object.values(q);var Z={resize:"resize",crop:"crop"},V={sm:"(max-width: 767px)",md:"(min-width: 768px) and (max-width: 1023px)",lg:"(min-width: 1024px) and (max-width: 1269px)",xl:"(min-width: 1270px) and (max-width: 1859px)","2xl":"(min-width: 1860px) and (max-width: 2036px)","3xl":"(min-width: 2037px)"};i();a();i();a();var ce="x-oss-process=image/",Qe=new RegExp(`(${ce}[^&]+&??)`),we="format,webp",ae="/ignore-error,1",ue={resize:"resize",crop:"crop"},Je=e=>e.replace(/\s/g,"%20");function he(e){return!!(e&&e.startsWith("data:")&&e.includes("base64,"))}function de(e){return e&&e.startsWith("blob:")}function ee(e){return e.includes(we)}function Pe(e){let{cdnDomainMap:t={}}=ie,r="";return!e.includes(ie.cdnBaseUrl)&&Object.values(t).some(u=>e.includes(u)?(r=u,!0):!1)?e.replace(r,ie.cdnBaseUrl):e}function De(e){return e.includes(ae)?`${e.replace(ae,"")}${ae}`:`${e}${ae}`}function ve(e="",t){let r=e;return e.includes(t)?e:(r.indexOf(ce)>-1?r=r.replace(Qe,`$1/${t}`):r.indexOf("?")!==-1?r+=`&${ce}${t}`:r+=`?${ce}${t}`,De(r))}function W(e,t=!0){let r=e;return r?de(e)?e:(r=Pe(Je(e)),t?ve(r,we):r):""}var Ke=e=>e[0],Y=(e={},t,r)=>{if(!t)return"";let u=Object.entries(e).map(([l,m])=>m?`${Ke(l)}_${m}`:"").filter(Boolean).join(",");return u?ve(t,`${r},${u},type_6`):t},xe=(e,t)=>e.map(r=>{let{media:u,type:l=ue.resize,src:m,resize:d,crop:p,w:s,h:S,...f}=r,n=l;p&&(n=ue.crop),d&&(n=ue.resize);let x=Y(d||p||{width:s,height:S},m||t,n);return{media:u,src:x,...f}}),me=({srcSetData:e,resize:t,useWebp:r})=>e.map(u=>`${Y(t,W(u.src,r),ue.resize)} ${u.size}`).join(",");function be({mediaSource:e,isErrorState:t,useWebp:r}){return e.map((u,l)=>{let{media:m,src:d,...p}=u,s=V[m]||m,S=d;return S&&!t?H.default.createElement(H.Fragment,{key:s||l},r&&!ee(S)&&H.default.createElement("source",{"data-testid":"okd-image-source-webp-media",media:s,srcSet:W(S),...p}),H.default.createElement("source",{"data-testid":"okd-image-source-media",media:s,srcSet:S})):null})}i();a();i();a();var X=v(M());function _e(e){let t=(0,X.useRef)(null),[r,u]=(0,X.useState)(!e);return(0,X.useEffect)(()=>{if(!e)return;let{top:l=0,bottom:m=0,right:d=0,left:p=0,...s}=typeof e=="object"?e:{},S=`${l}px ${d}px ${m}px ${p}px`,f,n=!1;t.current&&!r&&(ge.IntersectionObserver?(f=new ge.IntersectionObserver($=>{$.forEach(L=>{!n&&(L.intersectionRatio>0||L.isIntersecting)&&u(!0)})},{threshold:.01,rootMargin:S,...s}),f.observe(t.current)):u(!0));let x=t.current;return()=>{n=!0,f&&f.unobserve&&x&&(f.unobserve(x),f=null)}},[e]),{imageRef:t,visible:r,lazyload:e}}i();a();var le=v(M());function ye({store:e,ssrRendered:t}){let{onError:r,onLoad:u,mediaSource:l,loadedImages:m,requestSrc:d}=e,{media:p}=Le(),s=(0,le.useRef)(null);return(0,le.useEffect)(()=>{if(t&&s.current){let{complete:S,naturalHeight:f}=s.current,n=l&&l.find(x=>x.media===V[p])?.src||d;S&&!m.current.has(n)&&(f>0?u(s.current,d,n):r(s.current,d,n))}},[]),{imgRef:s}}i();a();var P=v(M());function Ce(e){let{errorImg:t,src:r,onError:u,onLoad:l,mediaData:m,resize:d,useWebp:p,srcSetData:s,lazyload:S}=e,f=xe(m,r),n=(0,P.useRef)(new Map),[x,$]=(0,P.useState)(!r),[L,N]=(0,P.useState)(x&&!t),[O,A]=(0,P.useState)(!1),T=(0,P.useMemo)(()=>{let b,h;return s.length>0&&(b=me({srcSetData:s,resize:d,useWebp:!1}),h=me({srcSetData:s,resize:d,useWebp:p})),{imgSrcSet:b,sourceSrcSet:h}},[s,d,p]),w=x&&t,k=(0,P.useMemo)(()=>{let b=w?t:r,h=w?W(b,!1):Y(d,W(b,!1),Z.resize),C=Y(d,W(b,p),Z.resize),F=p&&!ee(h),j=T.sourceSrcSet||C;return{imgSrc:h,sourceSrc:C,requestSrc:F?j:h,needSource:F,sourceSrcset:j}},[T,w,r,d,p,t]);return(0,P.useEffect)(()=>{x&&r&&$(!1),L&&r&&N(!1)},[r]),{onError:(b,h,C)=>{n.current.set(C,{onerror:!0}),$(!0),u(b,h),t?h==t&&N(!0):N(!0)},onLoad:(b,h,C)=>{n.current.set(C,{onload:!0}),S&&A(!0),l(b)},isLoaded:O,isFallbackError:L,isErrorState:w,mediaSource:f,loadedImages:n,...T,...k}}var Ee=`${G}-picture`;function B(e){let t=Se.useMergeProps(B.defaultPropsValue,e),{src:r,alt:u,layout:l,lazyload:m,className:d,useWebp:p,placeholder:s,errorImg:S,width:f,height:n,style:x,pictureClassName:$,pictureStyle:L,resize:N,originWidth:O,originHeight:A,mediaData:T,ssrRendered:w,srcSetData:k,getImgRef:z,...K}=t,b=he(r)||de(r)?!1:p,h=Ce({...t,useWebp:b}),{isLoaded:C,isFallbackError:F,isErrorState:j,mediaSource:re}=h,{imgRef:te}=ye({store:h,ssrRendered:w}),{imageRef:fe,visible:o}=_e(m),D=F||m&&!C&&!o,pe={width:f,height:n,...x};return Q.default.createElement("picture",{className:(0,Ie.default)(Se.data.okdNamespace,Ee,$,{[`${Ee}-font`]:!D}),ref:fe,style:L},o&&!F&&Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(be,{mediaSource:re,isErrorState:j,useWebp:b}),Q.default.createElement($e,{"data-testid":`okd-picture-img-${l||"default"}`,...K,store:h,ref:oe=>{te.current=oe,z?.(oe)},width:O||f,height:A||n,style:pe,className:(0,Ie.default)(l&&`${Ee}-${l}`,d),alt:u})),D&&s)}B.propTypes={className:c.default.string,pictureClassName:c.default.string,style:c.default.object,pictureStyle:c.default.object,width:c.default.oneOfType([c.default.number,c.default.string]),height:c.default.oneOfType([c.default.number,c.default.string]),src:c.default.string.isRequired,useWebp:c.default.bool,alt:c.default.string.isRequired,layout:c.default.oneOf([q.contain,q.cover]),lazyload:c.default.oneOfType([c.default.bool,c.default.object]),mediaData:c.default.array,srcSetData:c.default.array,resize:c.default.object,errorImg:c.default.string,onError:c.default.func,onLoad:c.default.func,placeholder:c.default.node,originWidth:c.default.number,originHeight:c.default.number,ssrRendered:c.default.bool};B.defaultPropsValue={resize:void 0,layout:void 0,lazyload:!1,className:"",pictureClassName:"",style:{},pictureStyle:{},useWebp:!0,placeholder:void 0,errorImg:null,mediaData:[],srcSetData:[],onError:()=>{},onLoad:()=>{},width:void 0,height:void 0,originWidth:void 0,originHeight:void 0,src:void 0,alt:"",ssrRendered:!1};B.MEDIA=V;B.LAYOUT=q;B.ACTION=Z;var Ne=B;i();a();var y=v(M());var Ze=({lottie:e,lottieProps:t={},className:r="",style:u,animationPrefix:l,a11yText:m,a11yDescription:d})=>{let{animationData:p,path:s,loop:S,autoplay:f=!0,initialSegment:n,onComplete:x,onLoopComplete:$,onEnterFrame:L,onSegmentStart:N,onConfigReady:O,onDataReady:A,onDataFailed:T,onLoadedImages:w,onDOMLoaded:k,onDestroy:z,animationRef:K,lottieRef:b,renderer:h,name:C,assetsPath:F,rendererSettings:j,...re}=t,[te,fe]=(0,y.useState)(!1),o=(0,y.useRef)(),D=(0,y.useRef)(null),pe=()=>{o.current?.play()},oe=()=>{o.current?.stop()},Ae=()=>{o.current?.pause()},ke=g=>{o.current?.setSpeed(g)},Fe=(g,E)=>{o.current?.goToAndPlay(g,E)},Me=(g,E)=>{o.current?.goToAndStop(g,E)},We=g=>{o.current?.setDirection(g)},ze=(g,E)=>{o.current?.playSegments(g,E)},je=g=>{o.current?.setSubframe(g)},Ge=g=>o.current?.getDuration(g),Ue=()=>{o.current?.destroy(),o.current=void 0},Be=(g={})=>{if(!D.current)return()=>{};o.current?.destroy();let E={...t,...g,container:D.current,loop:S,rendererSettings:{role:"img",expression:!1,...t.rendererSettings}};return o.current=e.loadAnimation(E),()=>{o.current?.destroy(),o.current=void 0}};(0,y.useEffect)(()=>{let g=Be();return()=>g?.()},[p,s,S]),(0,y.useEffect)(()=>{!o.current||(o.current.autoplay=!!f)},[f]),(0,y.useEffect)(()=>{if(!o.current)return;if(!n){o.current.resetSegments(!0);return}if(!Array.isArray(n)||!n.length)return;let[g,E]=n;(o.current.currentRawFrame<g||o.current.currentRawFrame>E)&&(o.current.currentRawFrame=g),o.current.setSegment(g,E)},[n]);let Re=(0,y.useId)();return(0,y.useEffect)(()=>{let E=[{name:"complete",handler:x},{name:"loopComplete",handler:$},{name:"enterFrame",handler:L},{name:"segmentStart",handler:N},{name:"config_ready",handler:O},{name:"data_ready",handler:A},{name:"data_failed",handler:T},{name:"loaded_images",handler:w},{name:"DOMLoaded",handler:()=>{fe(!0),k&&k();let _;if(h==="svg"?_=D.current.querySelector(`.${l}-view svg`):_=D.current.querySelector(`.${l}-view canvas`),m&&_.setAttribute("aria-label",se(m)),_.setAttribute("role","img"),d){let ne=document.createElement("span");ne.id=Re,ne.classList.add(`${G}-a11y-text`),ne.innerText=se(d),D.current.appendChild(ne),_.setAttribute("aria-describedby",se(Re))}}},{name:"destroy",handler:z}].filter(_=>_.handler!=null);if(!E.length)return()=>{};let qe=E.map(_=>(o.current?.addEventListener(_.name,_.handler),()=>{o.current?.removeEventListener(_.name,_.handler)}));return()=>{qe.forEach(_=>_())}},[x,$,L,N,O,A,T,w,k,z,s]),{View:y.default.createElement("div",{className:`${l}-view ${r||""}`,style:{visibility:te?"visible":"hidden",...u},ref:D,...re}),play:pe,stop:oe,pause:Ae,setSpeed:ke,goToAndStop:Me,goToAndPlay:Fe,setDirection:We,playSegments:ze,setSubframe:je,getDuration:Ge,destroy:Ue,animationContainerRef:D,animationLoaded:te,lottieItem:o.current}},Te=Ze;i();a();var Oe=`${G}-animation`,er=e=>{let{containerClassName:t="",containerStyle:r={},style:u,className:l,poster:m,posterProps:d={},a11yDescription:p,a11yText:s,lottie:S,...f}=e,{View:n,play:x,stop:$,pause:L,setSpeed:N,goToAndStop:O,goToAndPlay:A,setDirection:T,playSegments:w,setSubframe:k,getDuration:z,destroy:K,animationContainerRef:b,animationLoaded:h,lottieItem:C}=Te({lottie:S,lottieProps:f,className:l,style:u,animationPrefix:Oe,a11yText:s,a11yDescription:p});(0,J.useEffect)(()=>{e.animationRef&&Object.assign(e.animationRef,{current:{play:x,stop:$,pause:L,setSpeed:N,goToAndPlay:A,goToAndStop:O,setDirection:T,playSegments:w,setSubframe:k,getDuration:z,destroy:K,animationContainerRef:b,animationLoaded:h,lottieItem:C}})},[e.animationRef]),(0,J.useEffect)(()=>{e.lottieRef&&Object.assign(e.lottieRef,{current:{...C}})},[e.lottieRef]);let{pictureClassName:F=""}=d,j=()=>!m||h?null:typeof m=="function"?m():J.default.createElement(Ne,{pictureClassName:`${G}-animation-poster ${F}`,src:m,...d});return J.default.createElement("div",{className:`${Oe} ${t}`,style:r},n,j())},bt=er;i();a();var Et={SVG:"svg",CANVAS:"canvas"},It={postive:1,reverse:-1};export{Ne as a,bt as b,Et as c,It as d};
//# sourceMappingURL=chunk-NXK7JE26.js.map
