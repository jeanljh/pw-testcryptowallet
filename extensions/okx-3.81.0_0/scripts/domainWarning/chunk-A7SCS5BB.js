import{a as Jn,c as ve}from"./chunk-GE2XQOPC.js";import{c as y,o as a,p as g,q as c}from"./chunk-4J7XGGEQ.js";var ei=y(Zn=>{a();c();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.config=void 0;var Ju={network:{layer1:"placeholder"},logLevel:"debug"};Zn.config=Ju});var ys=y(T=>{a();c();Object.defineProperty(T,"__esModule",{value:!0});T.PreconditionFailedError=T.PayloadTooLargeError=T.ValidationError=T.BadPathError=T.NotEnoughProofError=T.ConflictError=T.DoesNotExist=T.GaiaHubError=T.NoSessionDataError=T.InvalidStateError=T.FailedDecryptionError=T.SignatureVerificationError=T.LoginFailedError=T.InvalidAmountError=T.NotEnoughFundsError=T.InvalidDIDError=T.MissingParameterError=T.InvalidParameterError=T.BlockstackError=T.ERROR_CODES=void 0;T.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(T.ERROR_CODES);var Ee=class extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,i=this.stack;if(i)r+=`Stack Trace:
${i}`;else try{throw new Error}catch(o){i=o.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};T.BlockstackError=Ee;var ti=class extends Ee{constructor(t,n=""){super({code:T.ERROR_CODES.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}};T.InvalidParameterError=ti;var ni=class extends Ee{constructor(t,n=""){super({code:T.ERROR_CODES.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}};T.MissingParameterError=ni;var ri=class extends Ee{constructor(t=""){super({code:T.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};T.InvalidDIDError=ri;var ii=class extends Ee{constructor(t){let n=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:T.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:n}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=n}};T.NotEnoughFundsError=ii;var oi=class extends Ee{constructor(t,n){let r=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${n}`;super({code:T.ERROR_CODES.INVALID_AMOUNT_ERROR,message:r}),this.specifiedAmount=n,this.fees=t,this.name="InvalidAmountError",this.message=r}};T.InvalidAmountError=oi;var si=class extends Ee{constructor(t){let n=`Failed to login: ${t}`;super({code:T.ERROR_CODES.LOGIN_FAILED_ERROR,message:n}),this.message=n,this.name="LoginFailedError"}};T.LoginFailedError=si;var ai=class extends Ee{constructor(t){let n=`Failed to verify signature: ${t}`;super({code:T.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:n}),this.message=n,this.name="SignatureVerificationError"}};T.SignatureVerificationError=ai;var ci=class extends Ee{constructor(t="Unable to decrypt cipher object."){super({code:T.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};T.FailedDecryptionError=ci;var ui=class extends Ee{constructor(t){super({code:T.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};T.InvalidStateError=ui;var di=class extends Ee{constructor(t){super({code:T.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};T.NoSessionDataError=di;var $e=class extends Ee{constructor(t,n){super(t),n&&(this.hubError={statusCode:n.status,statusText:n.statusText},typeof n.body=="string"?this.hubError.message=n.body:typeof n.body=="object"&&Object.assign(this.hubError,n.body))}};T.GaiaHubError=$e;var li=class extends $e{constructor(t,n){super({message:t,code:T.ERROR_CODES.DOES_NOT_EXIST},n),this.name="DoesNotExist"}};T.DoesNotExist=li;var fi=class extends $e{constructor(t,n){super({message:t,code:T.ERROR_CODES.CONFLICT_ERROR},n),this.name="ConflictError"}};T.ConflictError=fi;var yi=class extends $e{constructor(t,n){super({message:t,code:T.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},n),this.name="NotEnoughProofError"}};T.NotEnoughProofError=yi;var gi=class extends $e{constructor(t,n){super({message:t,code:T.ERROR_CODES.BAD_PATH_ERROR},n),this.name="BadPathError"}};T.BadPathError=gi;var pi=class extends $e{constructor(t,n){super({message:t,code:T.ERROR_CODES.VALIDATION_ERROR},n),this.name="ValidationError"}};T.ValidationError=pi;var hi=class extends $e{constructor(t,n,r){super({message:t,code:T.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},n),this.name="PayloadTooLargeError",this.maxUploadByteSize=r}};T.PayloadTooLargeError=hi;var Ci=class extends $e{constructor(t,n){super({message:t,code:T.ERROR_CODES.PRECONDITION_FAILED_ERROR},n),this.name="PreconditionFailedError"}};T.PreconditionFailedError=Ci});var ps=y(Qn=>{a();c();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.Logger=void 0;var Zu=ei(),gs=["debug","info","warn","error","none"],_i={},Qu={};for(let e=0;e<gs.length;e++){let t=gs[e];_i[t]=e,Qu[e]=t}var Si=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,n){return`[${t.toUpperCase()}] ${n}`}static shouldLog(t){return _i[Zu.config.logLevel]<=_i[t]}};Qn.Logger=Si});var er=y(O=>{a();c();Object.defineProperty(O,"__esModule",{value:!0});O.isInstance=O.concatArray=O.concatBytes=O.toBytes=O.octetsToBytes=O.bytesToAscii=O.asciiToBytes=O.bytesToUtf8=O.utf8ToBytes=O.hexToBytes=O.bytesToHex=O.fromTwos=O.toTwos=O.bigIntToBytes=O.hexToInt=O.intToHex=O.hexToBigInt=O.with0x=O.intToBigInt=O.intToBytes=void 0;function ed(e,t,n){return Cs(mi(e,t),n)}O.intToBytes=ed;function mi(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=Ei(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)if(t){let r=_s(BigInt(`0x${Ti(n)}`),BigInt(n.byteLength*8));return BigInt(r.toString())}else return BigInt(`0x${Ti(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}O.intToBigInt=mi;function td(e){return e.startsWith("0x")?e:`0x${e}`}O.with0x=td;function nd(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}O.hexToBigInt=nd;function hs(e,t=8){return(typeof e=="bigint"?e:mi(e,!1)).toString(16).padStart(t*2,"0")}O.intToHex=hs;function rd(e){return parseInt(e,16)}O.hexToInt=rd;function Cs(e,t=16){let n=hs(e,t);return Ei(n)}O.bigIntToBytes=Cs;function id(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw new Error(`Unable to represent integer in width: ${t}`);return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}O.toTwos=id;function od(e,t){return e&BigInt(1)<<t}function _s(e,t){return od(e,t-BigInt(1))?e-(BigInt(1)<<t):e}O.fromTwos=_s;var sd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ti(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let n of e)t+=sd[n];return t}O.bytesToHex=Ti;function Ei(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){let i=r*2,o=t.slice(i,i+2),s=Number.parseInt(o,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}O.hexToBytes=Ei;function Ss(e){return new TextEncoder().encode(e)}O.utf8ToBytes=Ss;function ad(e){return new TextDecoder().decode(e)}O.bytesToUtf8=ad;function cd(e){let t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}O.asciiToBytes=cd;function ud(e){return String.fromCharCode.apply(null,e)}O.bytesToAscii=ud;function dd(e){return!Number.isInteger(e)||e<0||e>255}function Pi(e){if(e.some(dd))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}O.octetsToBytes=Pi;function ld(e){if(typeof e=="string")return Ss(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}O.toBytes=ld;function Ts(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((r,i)=>r+i.length,0),n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){let o=e[r];n.set(o,i),i+=o.length}return n}O.concatBytes=Ts;function fd(e){return Ts(...e.map(t=>typeof t=="number"?Pi([t]):t instanceof Array?Pi(t):t))}O.concatArray=fd;function yd(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}O.isInstance=yd});var Ps=y(be=>{a();c();Object.defineProperty(be,"__esModule",{value:!0});be.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=be.PRIVATE_KEY_UNCOMPRESSED_LENGTH=be.PRIVATE_KEY_COMPRESSED_LENGTH=be.TransactionVersion=be.ChainID=void 0;var gd;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(gd=be.ChainID||(be.ChainID={}));var pd;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(pd=be.TransactionVersion||(be.TransactionVersion={}));be.PRIVATE_KEY_COMPRESSED_LENGTH=33;be.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;be.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var ms=y(dt=>{a();c();Object.defineProperty(dt,"__esModule",{value:!0});dt.signatureRsvToVrs=dt.signatureVrsToRsv=dt.parseRecoverableSignatureVrs=void 0;var hd=er(),bi=32;function Cd(e){if(e.length<bi*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),n=e.slice(2,2+bi*2),r=e.slice(2+bi*2);return{recoveryId:(0,hd.hexToInt)(t),r:n,s:r}}dt.parseRecoverableSignatureVrs=Cd;function _d(e){return e.slice(2)+e.slice(0,2)}dt.signatureVrsToRsv=_d;function Sd(e){return e.slice(-2)+e.slice(0,-2)}dt.signatureRsvToVrs=Sd});var Es=y(tr=>{a();c();Object.defineProperty(tr,"__esModule",{value:!0});tr.privateKeyToBytes=void 0;var Td=er();function Pd(e){let t=typeof e=="string"?(0,Td.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}tr.privateKeyToBytes=Pd});var bs=y($=>{a();c();Object.defineProperty($,"__esModule",{value:!0});$.writeUInt32LE=$.readUInt32LE=$.writeUInt32BE=$.readUInt32BE=$.writeUInt16LE=$.readUInt16LE=$.writeUInt8=$.readUInt8=$.writeUInt16BE=$.readUInt16BE=$.alloc=$.equals=void 0;function md(e,t){if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}$.equals=md;function Ed(e,t){let n=new Uint8Array(e);for(let r=0;r<e;r++)n[r]=t;return n}$.alloc=Ed;function bd(e,t){return(e[t+0]<<8|e[t+1])>>>0}$.readUInt16BE=bd;function Ad(e,t,n){e[n+0]=t>>>8,e[n+1]=t>>>0}$.writeUInt16BE=Ad;function Id(e,t){return e[t]}$.readUInt8=Id;function wd(e,t,n){e[n]=t}$.writeUInt8=wd;function Od(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}$.readUInt16LE=Od;function Rd(e,t,n){e[n+0]=t&255,t>>>=8,e[n+1]=t&255}$.writeUInt16LE=Rd;function vd(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}$.readUInt32BE=vd;function xd(e,t,n){e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t}$.writeUInt32BE=xd;function Nd(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}$.readUInt32LE=Nd;function Bd(e,t,n){e[n+0]=t&255,t>>>=8,e[n+1]=t&255,t>>>=8,e[n+2]=t&255,t>>>=8,e[n+3]=t&255}$.writeUInt32LE=Bd});var D=y(Ae=>{a();c();var Md=Ae&&Ae.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),lt=Ae&&Ae.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Md(t,e,n)};Object.defineProperty(Ae,"__esModule",{value:!0});lt(ei(),Ae);lt(ys(),Ae);lt(ps(),Ae);lt(er(),Ae);lt(Ps(),Ae);lt(ms(),Ae);lt(Es(),Ae);lt(bs(),Ae)});var fe=y(S=>{a();c();Object.defineProperty(S,"__esModule",{value:!0});S.TxRejectedReason=S.AssetType=S.NonFungibleConditionCode=S.FungibleConditionCode=S.PubKeyEncoding=S.AddressVersion=S.AddressHashMode=S.AuthType=S.PostConditionPrincipalID=S.PostConditionType=S.PostConditionMode=S.TransactionVersion=S.anchorModeFromNameOrValue=S.AnchorModeNames=S.AnchorMode=S.ClarityVersion=S.PayloadType=S.StacksMessageType=S.ChainID=S.DEFAULT_CORE_NODE_API_URL=S.MEMO_MAX_LENGTH_BYTES=S.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=S.COMPRESSED_PUBKEY_LENGTH_BYTES=S.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=S.DEFAULT_TRANSACTION_VERSION=S.DEFAULT_CHAIN_ID=S.COINBASE_BYTES_LENGTH=S.CLARITY_INT_BYTE_SIZE=S.CLARITY_INT_SIZE=S.MAX_STRING_LENGTH_BYTES=S.whenMessageType=void 0;var nr;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(nr||(nr={}));S.ChainID=nr;var Vd=nr.Mainnet;S.DEFAULT_CHAIN_ID=Vd;var kd=128;S.MAX_STRING_LENGTH_BYTES=kd;var Dd=128;S.CLARITY_INT_SIZE=Dd;var Ld=16;S.CLARITY_INT_BYTE_SIZE=Ld;var Hd=32;S.COINBASE_BYTES_LENGTH=Hd;var Kd=65;S.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=Kd;var Ud=32;S.COMPRESSED_PUBKEY_LENGTH_BYTES=Ud;var Fd=64;S.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=Fd;var zd=34;S.MEMO_MAX_LENGTH_BYTES=zd;var qd="https://stacks-node-api.mainnet.stacks.co";S.DEFAULT_CORE_NODE_API_URL=qd;var Ai;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(Ai||(Ai={}));S.StacksMessageType=Ai;function $d(e){return t=>t[e]}S.whenMessageType=$d;var Ii;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(Ii||(Ii={}));S.PayloadType=Ii;var wi;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(wi||(wi={}));S.ClarityVersion=wi;var De;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(De||(De={}));S.AnchorMode=De;var In=["onChainOnly","offChainOnly","any"];S.AnchorModeNames=In;var As={[In[0]]:De.OnChainOnly,[In[1]]:De.OffChainOnly,[In[2]]:De.Any,[De.OnChainOnly]:De.OnChainOnly,[De.OffChainOnly]:De.OffChainOnly,[De.Any]:De.Any};function jd(e){if(e in As)return As[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${In.join(", ")}`)}S.anchorModeFromNameOrValue=jd;var rr;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(rr||(rr={}));S.TransactionVersion=rr;var Gd=rr.Mainnet;S.DEFAULT_TRANSACTION_VERSION=Gd;var Oi;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(Oi||(Oi={}));S.PostConditionMode=Oi;var Ri;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Ri||(Ri={}));S.PostConditionType=Ri;var vi;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(vi||(vi={}));S.AuthType=vi;var xi;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(xi||(xi={}));S.AddressHashMode=xi;var Ni;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(Ni||(Ni={}));S.AddressVersion=Ni;var Bi;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Bi||(Bi={}));S.PubKeyEncoding=Bi;var Mi;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(Mi||(Mi={}));S.FungibleConditionCode=Mi;var Vi;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Vi||(Vi={}));S.NonFungibleConditionCode=Vi;var ki;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(ki||(ki={}));S.PostConditionPrincipalID=ki;var Di;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Di||(Di={}));S.AssetType=Di;var Li;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(Li||(Li={}));S.TxRejectedReason=Li});var Hi=y(ye=>{a();c();Object.defineProperty(ye,"__esModule",{value:!0});ye.c32decode=ye.c32normalize=ye.c32encode=ye.c32=void 0;var Wd=D();ye.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var wn="0123456789abcdef";function Xd(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let n=[],r=0;for(let u=e.length-1;u>=0;u--)if(r<4){let d=wn.indexOf(e[u])>>r,_=0;u!==0&&(_=wn.indexOf(e[u-1]));let M=1+r,K=_%(1<<M)<<5-M,Q=ye.c32[d+K];r=M,n.unshift(Q)}else r=0;let i=0;for(let u=0;u<n.length&&n[u]==="0";u++)i++;n=n.slice(i);let o=new TextDecoder().decode((0,Wd.hexToBytes)(e)).match(/^\u0000*/),s=o?o[0].length:0;for(let u=0;u<s;u++)n.unshift(ye.c32[0]);if(t){let u=t-n.length;for(let d=0;d<u;d++)n.unshift(ye.c32[0])}return n.join("")}ye.c32encode=Xd;function Is(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}ye.c32normalize=Is;function Yd(e,t){if(e=Is(e),!e.match(`^[${ye.c32}]*$`))throw new Error("Not a c32-encoded string");let n=e.match(`^${ye.c32[0]}*`),r=n?n[0].length:0,i=[],o=0,s=0;for(let _=e.length-1;_>=0;_--){s===4&&(i.unshift(wn[o]),s=0,o=0);let K=(ye.c32.indexOf(e[_])<<s)+o,Q=wn[K%16];if(s+=1,o=K>>4,o>1<<s)throw new Error("Panic error in decoding.");i.unshift(Q)}i.unshift(wn[o]),i.length%2===1&&i.unshift("0");let u=0;for(let _=0;_<i.length&&i[_]==="0";_++)u++;i=i.slice(u-u%2);let d=i.join("");for(let _=0;_<r;_++)d=`00${d}`;if(t){let _=t*2-d.length;for(let M=0;M<_;M+=2)d=`00${d}`}return d}ye.c32decode=Yd});var Ki=y(Kt=>{a();c();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.c32checkDecode=Kt.c32checkEncode=void 0;var ws=ve(),Os=D(),On=Hi();function Rs(e){let t=ws.base.sha256(ws.base.sha256((0,Os.hexToBytes)(e)));return(0,Os.bytesToHex)(t.slice(0,4))}function Jd(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);let r=Rs(`${n}${t}`),i=(0,On.c32encode)(`${t}${r}`);return`${On.c32[e]}${i}`}Kt.c32checkEncode=Jd;function Zd(e){e=(0,On.c32normalize)(e);let t=(0,On.c32decode)(e.slice(1)),n=e[0],r=On.c32.indexOf(n),i=t.slice(-8),o=r.toString(16);if(o.length===1&&(o=`0${o}`),Rs(`${o}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}Kt.c32checkDecode=Zd});var xs=y((WC,vs)=>{a();c();function Qd(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,u=e.charAt(0),d=Math.log(s)/Math.log(256),_=Math.log(256)/Math.log(s);function M(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var X=0,ne=0,re=0,le=v.length;re!==le&&v[re]===0;)re++,X++;for(var se=(le-re)*_+1>>>0,Oe=new Uint8Array(se);re!==le;){for(var ke=v[re],qe=0,Re=se-1;(ke!==0||qe<ne)&&Re!==-1;Re--,qe++)ke+=256*Oe[Re]>>>0,Oe[Re]=ke%s>>>0,ke=ke/s>>>0;if(ke!==0)throw new Error("Non-zero carry");ne=qe,re++}for(var et=se-ne;et!==se&&Oe[et]===0;)et++;for(var Yn=u.repeat(X);et<se;++et)Yn+=e.charAt(Oe[et]);return Yn}function K(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var X=0,ne=0,re=0;v[X]===u;)ne++,X++;for(var le=(v.length-X)*d+1>>>0,se=new Uint8Array(le);v[X];){var Oe=t[v.charCodeAt(X)];if(Oe===255)return;for(var ke=0,qe=le-1;(Oe!==0||ke<re)&&qe!==-1;qe--,ke++)Oe+=s*se[qe]>>>0,se[qe]=Oe%256>>>0,Oe=Oe/256>>>0;if(Oe!==0)throw new Error("Non-zero carry");re=ke,X++}for(var Re=le-re;Re!==le&&se[Re]===0;)Re++;for(var et=new Uint8Array(ne+(le-Re)),Yn=ne;Re!==le;)et[Yn++]=se[Re++];return et}function Q(v){var X=K(v);if(X)return X;throw new Error("Non-base"+s+" character")}return{encode:M,decodeUnsafe:K,decode:Q}}vs.exports=Qd});var Vs=y(ft=>{a();c();var el=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ft,"__esModule",{value:!0});ft.decode=ft.encode=void 0;var ir=ve(),Ns=D(),Bs=el(xs()),Ms="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function tl(e,t="00"){let n=typeof e=="string"?(0,Ns.hexToBytes)(e):e,r=typeof t=="string"?(0,Ns.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let i=ir.base.sha256(ir.base.sha256(new Uint8Array([...r,...n])));return(0,Bs.default)(Ms).encode([...r,...n,...i.slice(0,4)])}ft.encode=tl;function nl(e){let t=(0,Bs.default)(Ms).decode(e),n=t.slice(0,1),r=t.slice(1,-4),i=ir.base.sha256(ir.base.sha256(new Uint8Array([...n,...r])));return t.slice(-4).forEach((o,s)=>{if(o!==i[s])throw new Error("Invalid checksum")}),{prefix:n,data:r}}ft.decode=nl});var Us=y(j=>{a();c();var rl=j&&j.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),il=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ol=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&rl(t,e,n);return il(t,e),t};Object.defineProperty(j,"__esModule",{value:!0});j.c32ToB58=j.b58ToC32=j.c32addressDecode=j.c32address=j.versions=void 0;var Ds=Ki(),Ls=ol(Vs()),ks=D();j.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var Ut={};Ut[0]=j.versions.mainnet.p2pkh;Ut[5]=j.versions.mainnet.p2sh;Ut[111]=j.versions.testnet.p2pkh;Ut[196]=j.versions.testnet.p2sh;var Ft={};Ft[j.versions.mainnet.p2pkh]=0;Ft[j.versions.mainnet.p2sh]=5;Ft[j.versions.testnet.p2pkh]=111;Ft[j.versions.testnet.p2sh]=196;function Hs(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,Ds.c32checkEncode)(e,t)}`}j.c32address=Hs;function Ks(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,Ds.c32checkDecode)(e.slice(1))}j.c32addressDecode=Ks;function sl(e,t=-1){let n=Ls.decode(e),r=(0,ks.bytesToHex)(n.data),i=parseInt((0,ks.bytesToHex)(n.prefix),16),o;return t<0?(o=i,Ut[i]!==void 0&&(o=Ut[i])):o=t,Hs(o,r)}j.b58ToC32=sl;function al(e,t=-1){let n=Ks(e),r=n[0],i=n[1],o;t<0?(o=r,Ft[r]!==void 0&&(o=Ft[r])):o=t;let s=o.toString(16);return s.length===1&&(s=`0${s}`),Ls.encode(i,s)}j.c32ToB58=al});var zt=y(ie=>{a();c();Object.defineProperty(ie,"__esModule",{value:!0});ie.b58ToC32=ie.c32ToB58=ie.versions=ie.c32normalize=ie.c32addressDecode=ie.c32address=ie.c32checkDecode=ie.c32checkEncode=ie.c32decode=ie.c32encode=void 0;var Ui=Hi();Object.defineProperty(ie,"c32encode",{enumerable:!0,get:function(){return Ui.c32encode}});Object.defineProperty(ie,"c32decode",{enumerable:!0,get:function(){return Ui.c32decode}});Object.defineProperty(ie,"c32normalize",{enumerable:!0,get:function(){return Ui.c32normalize}});var Fs=Ki();Object.defineProperty(ie,"c32checkEncode",{enumerable:!0,get:function(){return Fs.c32checkEncode}});Object.defineProperty(ie,"c32checkDecode",{enumerable:!0,get:function(){return Fs.c32checkDecode}});var Rn=Us();Object.defineProperty(ie,"c32address",{enumerable:!0,get:function(){return Rn.c32address}});Object.defineProperty(ie,"c32addressDecode",{enumerable:!0,get:function(){return Rn.c32addressDecode}});Object.defineProperty(ie,"c32ToB58",{enumerable:!0,get:function(){return Rn.c32ToB58}});Object.defineProperty(ie,"b58ToC32",{enumerable:!0,get:function(){return Rn.b58ToC32}});Object.defineProperty(ie,"versions",{enumerable:!0,get:function(){return Rn.versions}})});var va=y((vn,qt)=>{a();c();var cl=200,ea="__lodash_hash_undefined__",ta=9007199254740991,Xi="[object Arguments]",ul="[object Array]",na="[object Boolean]",ra="[object Date]",dl="[object Error]",Yi="[object Function]",ia="[object GeneratorFunction]",or="[object Map]",oa="[object Number]",Ji="[object Object]",zs="[object Promise]",sa="[object RegExp]",sr="[object Set]",aa="[object String]",ca="[object Symbol]",zi="[object WeakMap]",ua="[object ArrayBuffer]",ar="[object DataView]",da="[object Float32Array]",la="[object Float64Array]",fa="[object Int8Array]",ya="[object Int16Array]",ga="[object Int32Array]",pa="[object Uint8Array]",ha="[object Uint8ClampedArray]",Ca="[object Uint16Array]",_a="[object Uint32Array]",ll=/[\\^$.*+?()[\]{}|]/g,fl=/\w*$/,yl=/^\[object .+?Constructor\]$/,gl=/^(?:0|[1-9]\d*)$/,G={};G[Xi]=G[ul]=G[ua]=G[ar]=G[na]=G[ra]=G[da]=G[la]=G[fa]=G[ya]=G[ga]=G[or]=G[oa]=G[Ji]=G[sa]=G[sr]=G[aa]=G[ca]=G[pa]=G[ha]=G[Ca]=G[_a]=!0;G[dl]=G[Yi]=G[zi]=!1;var pl=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,hl=typeof self=="object"&&self&&self.Object===Object&&self,tt=pl||hl||Function("return this")(),Sa=typeof vn=="object"&&vn&&!vn.nodeType&&vn,qs=Sa&&typeof qt=="object"&&qt&&!qt.nodeType&&qt,Cl=qs&&qs.exports===Sa;function _l(e,t){return e.set(t[0],t[1]),e}function Sl(e,t){return e.add(t),e}function Tl(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Pl(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ta(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ml(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function El(e,t){return e?.[t]}function Pa(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function $s(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function Zi(e,t){return function(n){return e(t(n))}}function js(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var bl=Array.prototype,Al=Function.prototype,cr=Object.prototype,Fi=tt["__core-js_shared__"],Gs=function(){var e=/[^.]+$/.exec(Fi&&Fi.keys&&Fi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ma=Al.toString,yt=cr.hasOwnProperty,ur=cr.toString,Il=RegExp("^"+ma.call(yt).replace(ll,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ws=Cl?tt.Buffer:void 0,Xs=tt.Symbol,Ys=tt.Uint8Array,wl=Zi(Object.getPrototypeOf,Object),Ol=Object.create,Rl=cr.propertyIsEnumerable,vl=bl.splice,Js=Object.getOwnPropertySymbols,xl=Ws?Ws.isBuffer:void 0,Nl=Zi(Object.keys,Object),qi=Gt(tt,"DataView"),xn=Gt(tt,"Map"),$i=Gt(tt,"Promise"),ji=Gt(tt,"Set"),Gi=Gt(tt,"WeakMap"),Nn=Gt(Object,"create"),Bl=Bt(qi),Ml=Bt(xn),Vl=Bt($i),kl=Bt(ji),Dl=Bt(Gi),Zs=Xs?Xs.prototype:void 0,Qs=Zs?Zs.valueOf:void 0;function Nt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ll(){this.__data__=Nn?Nn(null):{}}function Hl(e){return this.has(e)&&delete this.__data__[e]}function Kl(e){var t=this.__data__;if(Nn){var n=t[e];return n===ea?void 0:n}return yt.call(t,e)?t[e]:void 0}function Ul(e){var t=this.__data__;return Nn?t[e]!==void 0:yt.call(t,e)}function Fl(e,t){var n=this.__data__;return n[e]=Nn&&t===void 0?ea:t,this}Nt.prototype.clear=Ll;Nt.prototype.delete=Hl;Nt.prototype.get=Kl;Nt.prototype.has=Ul;Nt.prototype.set=Fl;function nt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zl(){this.__data__=[]}function ql(e){var t=this.__data__,n=dr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():vl.call(t,n,1),!0}function $l(e){var t=this.__data__,n=dr(t,e);return n<0?void 0:t[n][1]}function jl(e){return dr(this.__data__,e)>-1}function Gl(e,t){var n=this.__data__,r=dr(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}nt.prototype.clear=zl;nt.prototype.delete=ql;nt.prototype.get=$l;nt.prototype.has=jl;nt.prototype.set=Gl;function $t(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wl(){this.__data__={hash:new Nt,map:new(xn||nt),string:new Nt}}function Xl(e){return lr(this,e).delete(e)}function Yl(e){return lr(this,e).get(e)}function Jl(e){return lr(this,e).has(e)}function Zl(e,t){return lr(this,e).set(e,t),this}$t.prototype.clear=Wl;$t.prototype.delete=Xl;$t.prototype.get=Yl;$t.prototype.has=Jl;$t.prototype.set=Zl;function jt(e){this.__data__=new nt(e)}function Ql(){this.__data__=new nt}function ef(e){return this.__data__.delete(e)}function tf(e){return this.__data__.get(e)}function nf(e){return this.__data__.has(e)}function rf(e,t){var n=this.__data__;if(n instanceof nt){var r=n.__data__;if(!xn||r.length<cl-1)return r.push([e,t]),this;n=this.__data__=new $t(r)}return n.set(e,t),this}jt.prototype.clear=Ql;jt.prototype.delete=ef;jt.prototype.get=tf;jt.prototype.has=nf;jt.prototype.set=rf;function of(e,t){var n=eo(e)||Rf(e)?ml(e.length,String):[],r=n.length,i=!!r;for(var o in e)(t||yt.call(e,o))&&!(i&&(o=="length"||Af(o,r)))&&n.push(o);return n}function Ea(e,t,n){var r=e[t];(!(yt.call(e,t)&&wa(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function dr(e,t){for(var n=e.length;n--;)if(wa(e[n][0],t))return n;return-1}function sf(e,t){return e&&ba(t,to(t),e)}function Wi(e,t,n,r,i,o,s){var u;if(r&&(u=o?r(e,i,o,s):r(e)),u!==void 0)return u;if(!fr(e))return e;var d=eo(e);if(d){if(u=mf(e),!t)return Sf(e,u)}else{var _=xt(e),M=_==Yi||_==ia;if(xf(e))return ff(e,t);if(_==Ji||_==Xi||M&&!o){if(Pa(e))return o?e:{};if(u=Ef(M?{}:e),!t)return Tf(e,sf(u,e))}else{if(!G[_])return o?e:{};u=bf(e,_,Wi,t)}}s||(s=new jt);var K=s.get(e);if(K)return K;if(s.set(e,u),!d)var Q=n?Pf(e):to(e);return Tl(Q||e,function(v,X){Q&&(X=v,v=e[X]),Ea(u,X,Wi(v,t,n,r,X,e,s))}),u}function af(e){return fr(e)?Ol(e):{}}function cf(e,t,n){var r=t(e);return eo(e)?r:Pl(r,n(e))}function uf(e){return ur.call(e)}function df(e){if(!fr(e)||wf(e))return!1;var t=Ra(e)||Pa(e)?Il:yl;return t.test(Bt(e))}function lf(e){if(!Ia(e))return Nl(e);var t=[];for(var n in Object(e))yt.call(e,n)&&n!="constructor"&&t.push(n);return t}function ff(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Qi(e){var t=new e.constructor(e.byteLength);return new Ys(t).set(new Ys(e)),t}function yf(e,t){var n=t?Qi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function gf(e,t,n){var r=t?n($s(e),!0):$s(e);return Ta(r,_l,new e.constructor)}function pf(e){var t=new e.constructor(e.source,fl.exec(e));return t.lastIndex=e.lastIndex,t}function hf(e,t,n){var r=t?n(js(e),!0):js(e);return Ta(r,Sl,new e.constructor)}function Cf(e){return Qs?Object(Qs.call(e)):{}}function _f(e,t){var n=t?Qi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Sf(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ba(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;Ea(n,s,u===void 0?e[s]:u)}return n}function Tf(e,t){return ba(e,Aa(e),t)}function Pf(e){return cf(e,to,Aa)}function lr(e,t){var n=e.__data__;return If(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Gt(e,t){var n=El(e,t);return df(n)?n:void 0}var Aa=Js?Zi(Js,Object):Mf,xt=uf;(qi&&xt(new qi(new ArrayBuffer(1)))!=ar||xn&&xt(new xn)!=or||$i&&xt($i.resolve())!=zs||ji&&xt(new ji)!=sr||Gi&&xt(new Gi)!=zi)&&(xt=function(e){var t=ur.call(e),n=t==Ji?e.constructor:void 0,r=n?Bt(n):void 0;if(r)switch(r){case Bl:return ar;case Ml:return or;case Vl:return zs;case kl:return sr;case Dl:return zi}return t});function mf(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&yt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ef(e){return typeof e.constructor=="function"&&!Ia(e)?af(wl(e)):{}}function bf(e,t,n,r){var i=e.constructor;switch(t){case ua:return Qi(e);case na:case ra:return new i(+e);case ar:return yf(e,r);case da:case la:case fa:case ya:case ga:case pa:case ha:case Ca:case _a:return _f(e,r);case or:return gf(e,r,n);case oa:case aa:return new i(e);case sa:return pf(e);case sr:return hf(e,r,n);case ca:return Cf(e)}}function Af(e,t){return t=t??ta,!!t&&(typeof e=="number"||gl.test(e))&&e>-1&&e%1==0&&e<t}function If(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wf(e){return!!Gs&&Gs in e}function Ia(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||cr;return e===n}function Bt(e){if(e!=null){try{return ma.call(e)}catch{}try{return e+""}catch{}}return""}function Of(e){return Wi(e,!0,!0)}function wa(e,t){return e===t||e!==e&&t!==t}function Rf(e){return vf(e)&&yt.call(e,"callee")&&(!Rl.call(e,"callee")||ur.call(e)==Xi)}var eo=Array.isArray;function Oa(e){return e!=null&&Nf(e.length)&&!Ra(e)}function vf(e){return Bf(e)&&Oa(e)}var xf=xl||Vf;function Ra(e){var t=fr(e)?ur.call(e):"";return t==Yi||t==ia}function Nf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ta}function fr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Bf(e){return!!e&&typeof e=="object"}function to(e){return Oa(e)?of(e):lf(e)}function Mf(){return[]}function Vf(){return!1}qt.exports=Of});var Wt=y(je=>{a();c();Object.defineProperty(je,"__esModule",{value:!0});je.addressToString=je.addressFromVersionHash=je.addressHashModeToVersion=je.createMessageSignature=void 0;var _e=fe(),kf=zt(),Df=D();function Lf(e){if((0,Df.hexToBytes)(e).byteLength!=_e.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:_e.StacksMessageType.MessageSignature,data:e}}je.createMessageSignature=Lf;function Hf(e,t){switch(e){case _e.AddressHashMode.SerializeP2PKH:switch(t){case _e.TransactionVersion.Mainnet:return _e.AddressVersion.MainnetSingleSig;case _e.TransactionVersion.Testnet:return _e.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case _e.AddressHashMode.SerializeP2SH:case _e.AddressHashMode.SerializeP2WPKH:case _e.AddressHashMode.SerializeP2WSH:switch(t){case _e.TransactionVersion.Mainnet:return _e.AddressVersion.MainnetMultiSig;case _e.TransactionVersion.Testnet:return _e.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}je.addressHashModeToVersion=Hf;function Kf(e,t){return{type:_e.StacksMessageType.Address,version:e,hash160:t}}je.addressFromVersionHash=Kf;function Uf(e){return(0,kf.c32address)(e.version,e.hash160)}je.addressToString=Uf});var rt=y(ge=>{a();c();Object.defineProperty(ge,"__esModule",{value:!0});ge.createStandardPrincipal=ge.createContractPrincipal=ge.parsePrincipalString=ge.createAddress=ge.createAssetInfo=ge.createLPString=ge.parseAssetInfoString=void 0;var gt=fe(),Ff=zt(),zf=Fe();function qf(e){let[t,n,r]=e.split(/\.|::/);return xa(t,n,r)}ge.parseAssetInfoString=qf;function yr(e,t,n){let r=t||1,i=n||gt.MAX_STRING_LENGTH_BYTES;if((0,zf.exceedsMaxLengthBytes)(e,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:gt.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:i}}ge.createLPString=yr;function xa(e,t,n){return{type:gt.StacksMessageType.AssetInfo,address:gr(e),contractName:yr(t),assetName:yr(n)}}ge.createAssetInfo=xa;function gr(e){let t=(0,Ff.c32addressDecode)(e);return{type:gt.StacksMessageType.Address,version:t[0],hash160:t[1]}}ge.createAddress=gr;function $f(e){if(e.includes(".")){let[t,n]=e.split(".");return Na(t,n)}else return Ba(e)}ge.parsePrincipalString=$f;function Na(e,t){let n=gr(e),r=yr(t);return{type:gt.StacksMessageType.Principal,prefix:gt.PostConditionPrincipalID.Contract,address:n,contractName:r}}ge.createContractPrincipal=Na;function Ba(e){let t=gr(e);return{type:gt.StacksMessageType.Principal,prefix:gt.PostConditionPrincipalID.Standard,address:t}}ge.createStandardPrincipal=Ba});var xe=y(Bn=>{a();c();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.ClarityType=void 0;var jf;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(jf=Bn.ClarityType||(Bn.ClarityType={}))});var hr=y(pe=>{a();c();Object.defineProperty(pe,"__esModule",{value:!0});pe.contractPrincipalCVFromStandard=pe.contractPrincipalCVFromAddress=pe.contractPrincipalCV=pe.standardPrincipalCVFromAddress=pe.standardPrincipalCV=pe.principalToString=pe.principalCV=void 0;var Gf=D(),Ma=Wt(),pr=rt(),Xt=xe();function Wf(e){if(e.type===Xt.ClarityType.PrincipalStandard)return(0,Ma.addressToString)(e.address);if(e.type===Xt.ClarityType.PrincipalContract)return`${(0,Ma.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}pe.principalToString=Wf;function Xf(e){if(e.includes(".")){let[t,n]=e.split(".");return ka(t,n)}else return Va(e)}pe.principalCV=Xf;function Va(e){let t=(0,pr.createAddress)(e);return{type:Xt.ClarityType.PrincipalStandard,address:t}}pe.standardPrincipalCV=Va;function Yf(e){return{type:Xt.ClarityType.PrincipalStandard,address:e}}pe.standardPrincipalCVFromAddress=Yf;function ka(e,t){let n=(0,pr.createAddress)(e),r=(0,pr.createLPString)(t);return Da(n,r)}pe.contractPrincipalCV=ka;function Da(e,t){if((0,Gf.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:Xt.ClarityType.PrincipalContract,address:e,contractName:t}}pe.contractPrincipalCVFromAddress=Da;function Jf(e,t){let n=(0,pr.createLPString)(t);return{type:Xt.ClarityType.PrincipalContract,address:e.address,contractName:n}}pe.contractPrincipalCVFromStandard=Jf});var Ha=y(Ge=>{a();c();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getCVTypeString=Ge.cvToJSON=Ge.cvToValue=Ge.cvToString=void 0;var La=hr(),A=xe(),Mn=D();function Yt(e,t="hex"){switch(e.type){case A.ClarityType.BoolTrue:return"true";case A.ClarityType.BoolFalse:return"false";case A.ClarityType.Int:return e.value.toString();case A.ClarityType.UInt:return`u${e.value.toString()}`;case A.ClarityType.Buffer:if(t==="tryAscii"){let n=(0,Mn.bytesToAscii)(e.buffer);if(/[ -~]/.test(n))return JSON.stringify(n)}return`0x${(0,Mn.bytesToHex)(e.buffer)}`;case A.ClarityType.OptionalNone:return"none";case A.ClarityType.OptionalSome:return`(some ${Yt(e.value,t)})`;case A.ClarityType.ResponseErr:return`(err ${Yt(e.value,t)})`;case A.ClarityType.ResponseOk:return`(ok ${Yt(e.value,t)})`;case A.ClarityType.PrincipalStandard:case A.ClarityType.PrincipalContract:return(0,La.principalToString)(e);case A.ClarityType.List:return`(list ${e.list.map(n=>Yt(n,t)).join(" ")})`;case A.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(n=>`(${n} ${Yt(e.data[n],t)})`).join(" ")})`;case A.ClarityType.StringASCII:return`"${e.data}"`;case A.ClarityType.StringUTF8:return`u"${e.data}"`}}Ge.cvToString=Yt;function Cr(e,t=!1){switch(e.type){case A.ClarityType.BoolTrue:return!0;case A.ClarityType.BoolFalse:return!1;case A.ClarityType.Int:case A.ClarityType.UInt:return t?e.value.toString():e.value;case A.ClarityType.Buffer:return`0x${(0,Mn.bytesToHex)(e.buffer)}`;case A.ClarityType.OptionalNone:return null;case A.ClarityType.OptionalSome:return Jt(e.value);case A.ClarityType.ResponseErr:return Jt(e.value);case A.ClarityType.ResponseOk:return Jt(e.value);case A.ClarityType.PrincipalStandard:case A.ClarityType.PrincipalContract:return(0,La.principalToString)(e);case A.ClarityType.List:return e.list.map(r=>Jt(r));case A.ClarityType.Tuple:let n={};return Object.keys(e.data).forEach(r=>{n[r]=Jt(e.data[r])}),n;case A.ClarityType.StringASCII:return e.data;case A.ClarityType.StringUTF8:return e.data}}Ge.cvToValue=Cr;function Jt(e){switch(e.type){case A.ClarityType.ResponseErr:return{type:it(e),value:Cr(e,!0),success:!1};case A.ClarityType.ResponseOk:return{type:it(e),value:Cr(e,!0),success:!0};default:return{type:it(e),value:Cr(e,!0)}}}Ge.cvToJSON=Jt;function it(e){switch(e.type){case A.ClarityType.BoolTrue:case A.ClarityType.BoolFalse:return"bool";case A.ClarityType.Int:return"int";case A.ClarityType.UInt:return"uint";case A.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case A.ClarityType.OptionalNone:return"(optional none)";case A.ClarityType.OptionalSome:return`(optional ${it(e.value)})`;case A.ClarityType.ResponseErr:return`(response UnknownType ${it(e.value)})`;case A.ClarityType.ResponseOk:return`(response ${it(e.value)} UnknownType)`;case A.ClarityType.PrincipalStandard:case A.ClarityType.PrincipalContract:return"principal";case A.ClarityType.List:return`(list ${e.list.length} ${e.list.length?it(e.list[0]):"UnknownType"})`;case A.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${it(e.data[t])})`).join(" ")})`;case A.ClarityType.StringASCII:return`(string-ascii ${(0,Mn.asciiToBytes)(e.data).length})`;case A.ClarityType.StringUTF8:return`(string-utf8 ${(0,Mn.utf8ToBytes)(e.data).length})`}}Ge.getCVTypeString=it});var za=y(pt=>{a();c();Object.defineProperty(pt,"__esModule",{value:!0});pt.falseCV=pt.trueCV=pt.boolCV=void 0;var Ka=xe(),Ua=()=>({type:Ka.ClarityType.BoolTrue});pt.trueCV=Ua;var Fa=()=>({type:Ka.ClarityType.BoolFalse});pt.falseCV=Fa;var Zf=e=>e?Ua():Fa();pt.boolCV=Zf});var Xa=y(Zt=>{a();c();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.uintCV=Zt.intCV=void 0;var Ga=D(),Wa=xe(),qa=BigInt("0xffffffffffffffffffffffffffffffff"),Qf=BigInt(0),$a=BigInt("0x7fffffffffffffffffffffffffffffff"),ja=BigInt("-170141183460469231731687303715884105728"),ey=e=>{let t=(0,Ga.intToBigInt)(e,!0);if(t>$a)throw new RangeError(`Cannot construct clarity integer from value greater than ${$a}`);if(t<ja)throw new RangeError(`Cannot construct clarity integer form value less than ${ja}`);return{type:Wa.ClarityType.Int,value:t}};Zt.intCV=ey;var ty=e=>{let t=(0,Ga.intToBigInt)(e,!1);if(t<Qf)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>qa)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${qa}`);return{type:Wa.ClarityType.UInt,value:t}};Zt.uintCV=ty});var Ja=y(Qt=>{a();c();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.bufferCVFromString=Qt.bufferCV=void 0;var ny=D(),ry=xe(),Ya=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:ry.ClarityType.Buffer,buffer:e}};Qt.bufferCV=Ya;var iy=e=>Ya((0,ny.utf8ToBytes)(e));Qt.bufferCVFromString=iy});var tc=y(ht=>{a();c();Object.defineProperty(ht,"__esModule",{value:!0});ht.optionalCVOf=ht.someCV=ht.noneCV=void 0;var Za=xe();function Qa(){return{type:Za.ClarityType.OptionalNone}}ht.noneCV=Qa;function ec(e){return{type:Za.ClarityType.OptionalSome,value:e}}ht.someCV=ec;function oy(e){return e?ec(e):Qa()}ht.optionalCVOf=oy});var rc=y(en=>{a();c();Object.defineProperty(en,"__esModule",{value:!0});en.responseOkCV=en.responseErrorCV=void 0;var nc=xe();function sy(e){return{type:nc.ClarityType.ResponseErr,value:e}}en.responseErrorCV=sy;function ay(e){return{type:nc.ClarityType.ResponseOk,value:e}}en.responseOkCV=ay});var ic=y(_r=>{a();c();Object.defineProperty(_r,"__esModule",{value:!0});_r.listCV=void 0;var cy=xe();function uy(e){return{type:cy.ClarityType.List,list:e}}_r.listCV=uy});var oc=y(Sr=>{a();c();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.tupleCV=void 0;var dy=xe(),ly=Fe();function fy(e){for(let t in e)if(!(0,ly.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:dy.ClarityType.Tuple,data:e}}Sr.tupleCV=fy});var Tr=y(Ct=>{a();c();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.stringCV=Ct.stringUtf8CV=Ct.stringAsciiCV=void 0;var sc=xe(),ac=e=>({type:sc.ClarityType.StringASCII,data:e});Ct.stringAsciiCV=ac;var cc=e=>({type:sc.ClarityType.StringUTF8,data:e});Ct.stringUtf8CV=cc;var yy=(e,t)=>{switch(t){case"ascii":return ac(e);case"utf8":return cc(e)}};Ct.stringCV=yy});var _t=y(x=>{a();c();Object.defineProperty(x,"__esModule",{value:!0});x.publicKeyToAddress=x.privateKeyToString=x.getPublicKey=x.signMessageHashRsv=x.signWithKey=x.makeRandomPrivKey=x.createStacksPrivateKey=x.deserializePublicKey=x.compressPublicKey=x.pubKeyfromPrivKey=x.serializePublicKey=x.publicKeyToString=x.isCompressed=x.publicKeyFromBytes=x.publicKeyFromSignatureRsv=x.publicKeyFromSignatureVrs=x.createStacksPublicKey=x.getAddressFromPublicKey=x.getAddressFromPrivateKey=void 0;var Vn=Jn(),uc=ve(),gy=Vn.secp256k1.getPublicKey,dc=Vn.secp256k1.Point,lc=Vn.secp256k1.Signature,py=Vn.secp256k1.signSync,fc=Vn.secp256k1.utils,ue=D(),hy=zt(),Pr=Wt(),We=fe(),yc=Fe();fc.hmacSha256Sync=(e,...t)=>{let n=uc.base.hmac.create(uc.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};function Cy(e,t=We.TransactionVersion.Mainnet){let n=ro(e);return gc(n.data,t)}x.getAddressFromPrivateKey=Cy;function gc(e,t=We.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,ue.bytesToHex)(e);let n=(0,Pr.addressHashModeToVersion)(We.AddressHashMode.SerializeP2PKH,t),r=(0,Pr.addressFromVersionHash)(n,(0,yc.hashP2PKH)((0,ue.hexToBytes)(e)));return(0,Pr.addressToString)(r)}x.getAddressFromPublicKey=gc;function no(e){return{type:We.StacksMessageType.PublicKey,data:(0,ue.hexToBytes)(e)}}x.createStacksPublicKey=no;function pc(e,t,n=We.PubKeyEncoding.Compressed){let r=(0,ue.parseRecoverableSignatureVrs)(t.data),i=new lc((0,ue.hexToBigInt)(r.r),(0,ue.hexToBigInt)(r.s)),o=dc.fromSignature(e,i,r.recoveryId),s=n===We.PubKeyEncoding.Compressed;return o.toHex(s)}x.publicKeyFromSignatureVrs=pc;function _y(e,t,n=We.PubKeyEncoding.Compressed){return pc(e,{...t,data:(0,ue.signatureRsvToVrs)(t.data)},n)}x.publicKeyFromSignatureRsv=_y;function hc(e){return{type:We.StacksMessageType.PublicKey,data:e}}x.publicKeyFromBytes=hc;function Sy(e){return!(0,ue.bytesToHex)(e.data).startsWith("04")}x.isCompressed=Sy;function Ty(e){return(0,ue.bytesToHex)(e.data)}x.publicKeyToString=Ty;function Py(e){return e.data.slice()}x.serializePublicKey=Py;function ro(e){let t=io(e),n=gy(t.data.slice(0,32),t.compressed);return no((0,ue.bytesToHex)(n))}x.pubKeyfromPrivKey=ro;function my(e){let t=typeof e=="string"?e:(0,ue.bytesToHex)(e),n=dc.fromHex(t).toHex(!0);return no(n)}x.compressPublicKey=my;function Ey(e){let t=e.readUInt8(),n=t!==4?We.COMPRESSED_PUBKEY_LENGTH_BYTES:We.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return hc((0,ue.concatArray)([t,e.readBytes(n)]))}x.deserializePublicKey=Ey;function io(e){if(e==null||null||e.length==0)throw new Error("invalid key");let t=(0,ue.privateKeyToBytes)(e);if(t.every(r=>r===0))throw new Error("invalid key");let n=t.length==ue.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:n}}x.createStacksPrivateKey=io;function by(){return io(fc.randomPrivateKey())}x.makeRandomPrivKey=by;function Cc(e,t){let[n,r]=py(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(r==null)throw new Error("No signature recoveryId received");let o=(0,ue.intToHex)(r,1)+lc.fromHex(n).toCompactHex();return(0,Pr.createMessageSignature)(o)}x.signWithKey=Cc;function Ay({messageHash:e,privateKey:t}){let n=Cc(t,e);return{...n,data:(0,ue.signatureVrsToRsv)(n.data)}}x.signMessageHashRsv=Ay;function Iy(e){return ro(e.data)}x.getPublicKey=Iy;function wy(e){return(0,ue.bytesToHex)(e.data)}x.privateKeyToString=wy;function Oy(e,t){return(0,hy.c32address)(e,(0,ue.bytesToHex)((0,yc.hash160)(t.data)))}x.publicKeyToAddress=Oy});var nn=y(W=>{a();c();Object.defineProperty(W,"__esModule",{value:!0});W.deserializePayload=W.serializePayload=W.createCoinbasePayload=W.createPoisonPayload=W.createSmartContractPayload=W.createContractCallPayload=W.createTokenTransferPayload=W.isCoinbasePayload=W.isPoisonPayload=W.isSmartContractPayload=W.isContractCallPayload=W.isTokenTransferPayload=void 0;var kn=D(),B=fe(),tn=ot(),Ry=hr(),mr=rt(),ae=St();function vy(e){return e.payloadType===B.PayloadType.TokenTransfer}W.isTokenTransferPayload=vy;function xy(e){return e.payloadType===B.PayloadType.ContractCall}W.isContractCallPayload=xy;function Ny(e){return e.payloadType===B.PayloadType.SmartContract}W.isSmartContractPayload=Ny;function By(e){return e.payloadType===B.PayloadType.PoisonMicroblock}W.isPoisonPayload=By;function My(e){return e.payloadType===B.PayloadType.Coinbase}W.isCoinbasePayload=My;function _c(e,t,n){return typeof e=="string"&&(e=(0,Ry.principalCV)(e)),typeof n=="string"&&(n=(0,ae.createMemoString)(n)),{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.TokenTransfer,recipient:e,amount:(0,kn.intToBigInt)(t,!1),memo:n??(0,ae.createMemoString)("")}}W.createTokenTransferPayload=_c;function Sc(e,t,n,r){return typeof e=="string"&&(e=(0,mr.createAddress)(e)),typeof t=="string"&&(t=(0,mr.createLPString)(t)),typeof n=="string"&&(n=(0,mr.createLPString)(n)),{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:n,functionArgs:r}}W.createContractCallPayload=Sc;function oo(e,t,n){return typeof e=="string"&&(e=(0,mr.createLPString)(e)),typeof t=="string"&&(t=(0,ae.codeBodyString)(t)),typeof n=="number"?{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.VersionedSmartContract,clarityVersion:n,contractName:e,codeBody:t}:{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.SmartContract,contractName:e,codeBody:t}}W.createSmartContractPayload=oo;function Tc(){return{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.PoisonMicroblock}}W.createPoisonPayload=Tc;function so(e,t){if(e.byteLength!=B.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${B.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.Coinbase,coinbaseBytes:e}}W.createCoinbasePayload=so;function Vy(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case B.PayloadType.TokenTransfer:t.push((0,tn.serializeCV)(e.recipient)),t.push((0,kn.intToBytes)(e.amount,!1,8)),t.push((0,ae.serializeStacksMessage)(e.memo));break;case B.PayloadType.ContractCall:t.push((0,ae.serializeStacksMessage)(e.contractAddress)),t.push((0,ae.serializeStacksMessage)(e.contractName)),t.push((0,ae.serializeStacksMessage)(e.functionName));let n=new Uint8Array(4);(0,kn.writeUInt32BE)(n,e.functionArgs.length,0),t.push(n),e.functionArgs.forEach(r=>{t.push((0,tn.serializeCV)(r))});break;case B.PayloadType.SmartContract:t.push((0,ae.serializeStacksMessage)(e.contractName)),t.push((0,ae.serializeStacksMessage)(e.codeBody));break;case B.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,ae.serializeStacksMessage)(e.contractName)),t.push((0,ae.serializeStacksMessage)(e.codeBody));break;case B.PayloadType.PoisonMicroblock:break;case B.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case B.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,tn.serializeCV)(e.recipient));break}return(0,kn.concatArray)(t)}W.serializePayload=Vy;function ky(e){switch(e.readUInt8Enum(B.PayloadType,n=>{throw new Error(`Cannot recognize PayloadType: ${n}`)})){case B.PayloadType.TokenTransfer:let n=(0,tn.deserializeCV)(e),r=(0,kn.intToBigInt)(e.readBytes(8),!1),i=(0,ae.deserializeMemoString)(e);return _c(n,r,i);case B.PayloadType.ContractCall:let o=(0,ae.deserializeAddress)(e),s=(0,ae.deserializeLPString)(e),u=(0,ae.deserializeLPString)(e),d=[],_=e.readUInt32BE();for(let ne=0;ne<_;ne++){let re=(0,tn.deserializeCV)(e);d.push(re)}return Sc(o,s,u,d);case B.PayloadType.SmartContract:let M=(0,ae.deserializeLPString)(e),K=(0,ae.deserializeLPString)(e,4,1e5);return oo(M,K);case B.PayloadType.VersionedSmartContract:{let ne=e.readUInt8Enum(B.ClarityVersion,se=>{throw new Error(`Cannot recognize ClarityVersion: ${se}`)}),re=(0,ae.deserializeLPString)(e),le=(0,ae.deserializeLPString)(e,4,1e5);return oo(re,le,ne)}case B.PayloadType.PoisonMicroblock:return Tc();case B.PayloadType.Coinbase:let Q=e.readBytes(B.COINBASE_BYTES_LENGTH);return so(Q);case B.PayloadType.CoinbaseToAltRecipient:let v=e.readBytes(B.COINBASE_BYTES_LENGTH),X=(0,tn.deserializeCV)(e);return so(v,X)}}W.deserializePayload=ky});var st=y(Ie=>{a();c();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.VerificationError=Ie.SigningError=Ie.NotImplementedError=Ie.NoEstimateAvailableError=Ie.DeserializationError=Ie.SerializationError=void 0;var Tt=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ao=class extends Tt{constructor(t){super(t)}};Ie.SerializationError=ao;var co=class extends Tt{constructor(t){super(t)}};Ie.DeserializationError=co;var uo=class extends Tt{constructor(t){super(t)}};Ie.NoEstimateAvailableError=uo;var lo=class extends Tt{constructor(t){super(t)}};Ie.NotImplementedError=lo;var fo=class extends Tt{constructor(t){super(t)}};Ie.SigningError=fo;var yo=class extends Tt{constructor(t){super(t)}};Ie.VerificationError=yo});var Hn=y(Se=>{a();c();Object.defineProperty(Se,"__esModule",{value:!0});Se.serializeTransactionAuthField=Se.serializeMessageSignature=Se.deserializeTransactionAuthField=Se.createTransactionAuthField=Se.deserializeMessageSignature=Se.AuthFieldType=void 0;var Dy=st(),Ye=fe(),Ln=_t(),Ly=Wt(),po=D(),Xe;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(Xe=Se.AuthFieldType||(Se.AuthFieldType={}));function go(e){return(0,Ly.createMessageSignature)((0,po.bytesToHex)(e.readBytes(Ye.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}Se.deserializeMessageSignature=go;function Dn(e,t){return{pubKeyEncoding:e,type:Ye.StacksMessageType.TransactionAuthField,contents:t}}Se.createTransactionAuthField=Dn;function Hy(e){let t=e.readUInt8Enum(Xe,n=>{throw new Dy.DeserializationError(`Could not read ${n} as AuthFieldType`)});switch(t){case Xe.PublicKeyCompressed:return Dn(Ye.PubKeyEncoding.Compressed,(0,Ln.deserializePublicKey)(e));case Xe.PublicKeyUncompressed:return Dn(Ye.PubKeyEncoding.Uncompressed,(0,Ln.deserializePublicKey)(e));case Xe.SignatureCompressed:return Dn(Ye.PubKeyEncoding.Compressed,go(e));case Xe.SignatureUncompressed:return Dn(Ye.PubKeyEncoding.Uncompressed,go(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}Se.deserializeTransactionAuthField=Hy;function Pc(e){return(0,po.hexToBytes)(e.data)}Se.serializeMessageSignature=Pc;function Ky(e){let t=[];switch(e.contents.type){case Ye.StacksMessageType.PublicKey:e.pubKeyEncoding==Ye.PubKeyEncoding.Compressed?(t.push(Xe.PublicKeyCompressed),t.push((0,Ln.serializePublicKey)(e.contents))):(t.push(Xe.PublicKeyUncompressed),t.push((0,Ln.serializePublicKey)((0,Ln.compressPublicKey)(e.contents.data))));break;case Ye.StacksMessageType.MessageSignature:e.pubKeyEncoding==Ye.PubKeyEncoding.Compressed?t.push(Xe.SignatureCompressed):t.push(Xe.SignatureUncompressed),t.push(Pc(e.contents));break}return(0,po.concatArray)(t)}Se.serializeTransactionAuthField=Ky});var St=y(I=>{a();c();Object.defineProperty(I,"__esModule",{value:!0});I.deserializePostCondition=I.serializePostCondition=I.deserializeLPList=I.serializeLPList=I.createLPList=I.deserializeAssetInfo=I.serializeAssetInfo=I.deserializeMemoString=I.serializeMemoString=I.createMemoString=I.codeBodyString=I.deserializeLPString=I.serializeLPString=I.deserializePrincipal=I.serializePrincipal=I.deserializeAddress=I.serializeAddress=I.addressFromPublicKeys=I.addressFromHashMode=I.createEmptyAddress=I.deserializeStacksMessage=I.serializeStacksMessage=void 0;var U=D(),f=fe(),an=_t(),rn=Fe(),mc=rt(),Ec=nn(),on=st(),Er=Hn(),sn=Wt(),bc=ot();function Ac(e){switch(e.type){case f.StacksMessageType.Address:return br(e);case f.StacksMessageType.Principal:return ho(e);case f.StacksMessageType.LengthPrefixedString:return Kn(e);case f.StacksMessageType.MemoString:return Ic(e);case f.StacksMessageType.AssetInfo:return So(e);case f.StacksMessageType.PostCondition:return vc(e);case f.StacksMessageType.PublicKey:return(0,an.serializePublicKey)(e);case f.StacksMessageType.LengthPrefixedList:return Oc(e);case f.StacksMessageType.Payload:return(0,Ec.serializePayload)(e);case f.StacksMessageType.TransactionAuthField:return(0,Er.serializeTransactionAuthField)(e);case f.StacksMessageType.MessageSignature:return(0,Er.serializeMessageSignature)(e)}}I.serializeStacksMessage=Ac;function Uy(e,t,n){switch(t){case f.StacksMessageType.Address:return Fn(e);case f.StacksMessageType.Principal:return Co(e);case f.StacksMessageType.LengthPrefixedString:return cn(e);case f.StacksMessageType.MemoString:return _o(e);case f.StacksMessageType.AssetInfo:return Un(e);case f.StacksMessageType.PostCondition:return To(e);case f.StacksMessageType.PublicKey:return(0,an.deserializePublicKey)(e);case f.StacksMessageType.Payload:return(0,Ec.deserializePayload)(e);case f.StacksMessageType.LengthPrefixedList:if(!n)throw new on.DeserializationError("No List Type specified");return Rc(e,n);case f.StacksMessageType.MessageSignature:return(0,Er.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}I.deserializeStacksMessage=Uy;function Fy(){return{type:f.StacksMessageType.Address,version:f.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}I.createEmptyAddress=Fy;function zy(e,t,n){let r=(0,sn.addressHashModeToVersion)(e,t);return(0,sn.addressFromVersionHash)(r,n)}I.addressFromHashMode=zy;function qy(e,t,n,r){if(r.length===0)throw Error("Invalid number of public keys");if((t===f.AddressHashMode.SerializeP2PKH||t===f.AddressHashMode.SerializeP2WPKH)&&(r.length!==1||n!==1))throw Error("Invalid number of public keys or signatures");if(t===f.AddressHashMode.SerializeP2WPKH||t===f.AddressHashMode.SerializeP2WSH){for(let i=0;i<r.length;i++)if(!(0,an.isCompressed)(r[i]))throw Error("Public keys must be compressed for segwit")}switch(t){case f.AddressHashMode.SerializeP2PKH:return(0,sn.addressFromVersionHash)(e,(0,rn.hashP2PKH)(r[0].data));case f.AddressHashMode.SerializeP2WPKH:return(0,sn.addressFromVersionHash)(e,(0,rn.hashP2WPKH)(r[0].data));case f.AddressHashMode.SerializeP2SH:return(0,sn.addressFromVersionHash)(e,(0,rn.hashP2SH)(n,r.map(an.serializePublicKey)));case f.AddressHashMode.SerializeP2WSH:return(0,sn.addressFromVersionHash)(e,(0,rn.hashP2WSH)(n,r.map(an.serializePublicKey)))}}I.addressFromPublicKeys=qy;function br(e){let t=[];return t.push((0,U.hexToBytes)((0,U.intToHex)(e.version,1))),t.push((0,U.hexToBytes)(e.hash160)),(0,U.concatArray)(t)}I.serializeAddress=br;function Fn(e){let t=(0,U.hexToInt)((0,U.bytesToHex)(e.readBytes(1))),n=(0,U.bytesToHex)(e.readBytes(20));return{type:f.StacksMessageType.Address,version:t,hash160:n}}I.deserializeAddress=Fn;function ho(e){let t=[];return t.push(e.prefix),t.push(br(e.address)),e.prefix===f.PostConditionPrincipalID.Contract&&t.push(Kn(e.contractName)),(0,U.concatArray)(t)}I.serializePrincipal=ho;function Co(e){let t=e.readUInt8Enum(f.PostConditionPrincipalID,i=>{throw new on.DeserializationError(`Unexpected Principal payload type: ${i}`)}),n=Fn(e);if(t===f.PostConditionPrincipalID.Standard)return{type:f.StacksMessageType.Principal,prefix:t,address:n};let r=cn(e);return{type:f.StacksMessageType.Principal,prefix:t,address:n,contractName:r}}I.deserializePrincipal=Co;function Kn(e){let t=[],n=(0,U.utf8ToBytes)(e.content),r=n.byteLength;return t.push((0,U.hexToBytes)((0,U.intToHex)(r,e.lengthPrefixBytes))),t.push(n),(0,U.concatArray)(t)}I.serializeLPString=Kn;function cn(e,t,n){t=t||1;let r=(0,U.hexToInt)((0,U.bytesToHex)(e.readBytes(t))),i=(0,U.bytesToUtf8)(e.readBytes(r));return(0,mc.createLPString)(i,t,n??128)}I.deserializeLPString=cn;function $y(e){return(0,mc.createLPString)(e,4,1e5)}I.codeBodyString=$y;function jy(e){if(e&&(0,rn.exceedsMaxLengthBytes)(e,f.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${f.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:f.StacksMessageType.MemoString,content:e}}I.createMemoString=jy;function Ic(e){let t=[],n=(0,U.utf8ToBytes)(e.content),r=(0,rn.rightPadHexToLength)((0,U.bytesToHex)(n),f.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,U.hexToBytes)(r)),(0,U.concatArray)(t)}I.serializeMemoString=Ic;function _o(e){let t=(0,U.bytesToUtf8)(e.readBytes(f.MEMO_MAX_LENGTH_BYTES));return{type:f.StacksMessageType.MemoString,content:t}}I.deserializeMemoString=_o;function So(e){let t=[];return t.push(br(e.address)),t.push(Kn(e.contractName)),t.push(Kn(e.assetName)),(0,U.concatArray)(t)}I.serializeAssetInfo=So;function Un(e){return{type:f.StacksMessageType.AssetInfo,address:Fn(e),contractName:cn(e),assetName:cn(e)}}I.deserializeAssetInfo=Un;function wc(e,t){return{type:f.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}I.createLPList=wc;function Oc(e){let t=e.values,n=[];n.push((0,U.hexToBytes)((0,U.intToHex)(t.length,e.lengthPrefixBytes)));for(let r of t)n.push(Ac(r));return(0,U.concatArray)(n)}I.serializeLPList=Oc;function Rc(e,t,n){let r=(0,U.hexToInt)((0,U.bytesToHex)(e.readBytes(n||4))),i=[];for(let o=0;o<r;o++)switch(t){case f.StacksMessageType.Address:i.push(Fn(e));break;case f.StacksMessageType.LengthPrefixedString:i.push(cn(e));break;case f.StacksMessageType.MemoString:i.push(_o(e));break;case f.StacksMessageType.AssetInfo:i.push(Un(e));break;case f.StacksMessageType.PostCondition:i.push(To(e));break;case f.StacksMessageType.PublicKey:i.push((0,an.deserializePublicKey)(e));break;case f.StacksMessageType.TransactionAuthField:i.push((0,Er.deserializeTransactionAuthField)(e));break}return wc(i,n)}I.deserializeLPList=Rc;function vc(e){let t=[];return t.push(e.conditionType),t.push(ho(e.principal)),(e.conditionType===f.PostConditionType.Fungible||e.conditionType===f.PostConditionType.NonFungible)&&t.push(So(e.assetInfo)),e.conditionType===f.PostConditionType.NonFungible&&t.push((0,bc.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===f.PostConditionType.STX||e.conditionType===f.PostConditionType.Fungible)&&t.push((0,U.intToBytes)(e.amount,!1,8)),(0,U.concatArray)(t)}I.serializePostCondition=vc;function To(e){let t=e.readUInt8Enum(f.PostConditionType,s=>{throw new on.DeserializationError(`Could not read ${s} as PostConditionType`)}),n=Co(e),r,i,o;switch(t){case f.PostConditionType.STX:return r=e.readUInt8Enum(f.FungibleConditionCode,u=>{throw new on.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),o=BigInt(`0x${(0,U.bytesToHex)(e.readBytes(8))}`),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.STX,principal:n,conditionCode:r,amount:o};case f.PostConditionType.Fungible:return i=Un(e),r=e.readUInt8Enum(f.FungibleConditionCode,u=>{throw new on.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),o=BigInt(`0x${(0,U.bytesToHex)(e.readBytes(8))}`),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.Fungible,principal:n,conditionCode:r,amount:o,assetInfo:i};case f.PostConditionType.NonFungible:i=Un(e);let s=(0,bc.deserializeCV)(e);return r=e.readUInt8Enum(f.NonFungibleConditionCode,u=>{throw new on.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),{type:f.StacksMessageType.PostCondition,conditionType:f.PostConditionType.NonFungible,principal:n,conditionCode:r,assetInfo:i,assetName:s}}}I.deserializePostCondition=To});var Nc=y(Ir=>{a();c();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.serializeCV=void 0;var Te=D(),Ar=St(),Gy=rt(),he=xe(),Wy=st(),Po=fe();function Je(e,t){return(0,Te.concatArray)([e,t])}function Xy(e){return new Uint8Array([e.type])}function Yy(e){return e.type===he.ClarityType.OptionalNone?new Uint8Array([e.type]):Je(e.type,zn(e.value))}function Jy(e){let t=new Uint8Array(4);return(0,Te.writeUInt32BE)(t,e.buffer.length,0),Je(e.type,(0,Te.concatBytes)(t,e.buffer))}function Zy(e){let t=(0,Te.bigIntToBytes)((0,Te.toTwos)(e.value,BigInt(Po.CLARITY_INT_SIZE)),Po.CLARITY_INT_BYTE_SIZE);return Je(e.type,t)}function Qy(e){let t=(0,Te.bigIntToBytes)(e.value,Po.CLARITY_INT_BYTE_SIZE);return Je(e.type,t)}function eg(e){return Je(e.type,(0,Ar.serializeAddress)(e.address))}function tg(e){return Je(e.type,(0,Te.concatBytes)((0,Ar.serializeAddress)(e.address),(0,Ar.serializeLPString)(e.contractName)))}function ng(e){return Je(e.type,zn(e.value))}function rg(e){let t=[],n=new Uint8Array(4);(0,Te.writeUInt32BE)(n,e.list.length,0),t.push(n);for(let r of e.list){let i=zn(r);t.push(i)}return Je(e.type,(0,Te.concatArray)(t))}function ig(e){let t=[],n=new Uint8Array(4);(0,Te.writeUInt32BE)(n,Object.keys(e.data).length,0),t.push(n);let r=Object.keys(e.data).sort((i,o)=>i.localeCompare(o));for(let i of r){let o=(0,Gy.createLPString)(i);t.push((0,Ar.serializeLPString)(o));let s=zn(e.data[i]);t.push(s)}return Je(e.type,(0,Te.concatArray)(t))}function xc(e,t){let n=[],r=t=="ascii"?(0,Te.asciiToBytes)(e.data):(0,Te.utf8ToBytes)(e.data),i=new Uint8Array(4);return(0,Te.writeUInt32BE)(i,r.length,0),n.push(i),n.push(r),Je(e.type,(0,Te.concatArray)(n))}function og(e){return xc(e,"ascii")}function sg(e){return xc(e,"utf8")}function zn(e){switch(e.type){case he.ClarityType.BoolTrue:case he.ClarityType.BoolFalse:return Xy(e);case he.ClarityType.OptionalNone:case he.ClarityType.OptionalSome:return Yy(e);case he.ClarityType.Buffer:return Jy(e);case he.ClarityType.UInt:return Qy(e);case he.ClarityType.Int:return Zy(e);case he.ClarityType.PrincipalStandard:return eg(e);case he.ClarityType.PrincipalContract:return tg(e);case he.ClarityType.ResponseOk:case he.ClarityType.ResponseErr:return ng(e);case he.ClarityType.List:return rg(e);case he.ClarityType.Tuple:return ig(e);case he.ClarityType.StringASCII:return og(e);case he.ClarityType.StringUTF8:return sg(e);default:throw new Wy.SerializationError("Unable to serialize. Invalid Clarity Value.")}}Ir.serializeCV=zn});var wr=y(un=>{a();c();Object.defineProperty(un,"__esModule",{value:!0});un.BytesReader=un.isEnum=void 0;var qn=D();function ag(e){let t=Object.values(e).filter(r=>typeof r=="number"),n=new Set(t);return r=>n.has(r)}var Bc=new Map;function Eo(e,t){let n=Bc.get(e);if(n!==void 0)return n(t);let r=ag(e);return Bc.set(e,r),Eo(e,t)}un.isEnum=Eo;var mo=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let n=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,n}readUInt32BE(){return(0,qn.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,qn.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,qn.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let n=this.readBytes(t).slice().reverse(),r=(0,qn.bytesToHex)(n);return BigInt(`0x${r}`)}readBigUIntBE(t){let n=this.readBytes(t),r=(0,qn.bytesToHex)(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,n){let r=this.readUInt8();if(Eo(t,r))return r;throw n(r)}};un.BytesReader=mo});var kc=y(Io=>{a();c();Object.defineProperty(Io,"__esModule",{value:!0});var F=ot(),Mc=wr(),Or=St(),bo=st(),Vc=Tr(),Ao=D();function dn(e){let t;if(typeof e=="string"){let r=e.slice(0,2).toLowerCase()==="0x";t=new Mc.BytesReader((0,Ao.hexToBytes)(r?e.slice(2):e))}else e instanceof Uint8Array?t=new Mc.BytesReader(e):t=e;switch(t.readUInt8Enum(F.ClarityType,r=>{throw new bo.DeserializationError(`Cannot recognize Clarity Type: ${r}`)})){case F.ClarityType.Int:return(0,F.intCV)(t.readBytes(16));case F.ClarityType.UInt:return(0,F.uintCV)(t.readBytes(16));case F.ClarityType.Buffer:let r=t.readUInt32BE();return(0,F.bufferCV)(t.readBytes(r));case F.ClarityType.BoolTrue:return(0,F.trueCV)();case F.ClarityType.BoolFalse:return(0,F.falseCV)();case F.ClarityType.PrincipalStandard:let i=(0,Or.deserializeAddress)(t);return(0,F.standardPrincipalCVFromAddress)(i);case F.ClarityType.PrincipalContract:let o=(0,Or.deserializeAddress)(t),s=(0,Or.deserializeLPString)(t);return(0,F.contractPrincipalCVFromAddress)(o,s);case F.ClarityType.ResponseOk:return(0,F.responseOkCV)(dn(t));case F.ClarityType.ResponseErr:return(0,F.responseErrorCV)(dn(t));case F.ClarityType.OptionalNone:return(0,F.noneCV)();case F.ClarityType.OptionalSome:return(0,F.someCV)(dn(t));case F.ClarityType.List:let u=t.readUInt32BE(),d=[];for(let ne=0;ne<u;ne++)d.push(dn(t));return(0,F.listCV)(d);case F.ClarityType.Tuple:let _=t.readUInt32BE(),M={};for(let ne=0;ne<_;ne++){let re=(0,Or.deserializeLPString)(t).content;if(re===void 0)throw new bo.DeserializationError('"content" is undefined');M[re]=dn(t)}return(0,F.tupleCV)(M);case F.ClarityType.StringASCII:let K=t.readUInt32BE(),Q=(0,Ao.bytesToAscii)(t.readBytes(K));return(0,Vc.stringAsciiCV)(Q);case F.ClarityType.StringUTF8:let v=t.readUInt32BE(),X=(0,Ao.bytesToUtf8)(t.readBytes(v));return(0,Vc.stringUtf8CV)(X);default:throw new bo.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}Io.default=dn});var ot=y(h=>{a();c();var cg=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});h.principalToString=h.cvToValue=h.cvToJSON=h.cvToString=h.deserializeCV=h.serializeCV=h.getCVTypeString=h.stringUtf8CV=h.stringAsciiCV=h.stringCV=h.tupleCV=h.listCV=h.contractPrincipalCVFromStandard=h.contractPrincipalCVFromAddress=h.contractPrincipalCV=h.standardPrincipalCVFromAddress=h.standardPrincipalCV=h.principalCV=h.responseErrorCV=h.responseOkCV=h.optionalCVOf=h.someCV=h.noneCV=h.bufferCVFromString=h.bufferCV=h.uintCV=h.intCV=h.falseCV=h.trueCV=h.boolCV=h.ClarityType=void 0;var Rr=Ha();Object.defineProperty(h,"getCVTypeString",{enumerable:!0,get:function(){return Rr.getCVTypeString}});Object.defineProperty(h,"cvToString",{enumerable:!0,get:function(){return Rr.cvToString}});Object.defineProperty(h,"cvToJSON",{enumerable:!0,get:function(){return Rr.cvToJSON}});Object.defineProperty(h,"cvToValue",{enumerable:!0,get:function(){return Rr.cvToValue}});var ug=xe();Object.defineProperty(h,"ClarityType",{enumerable:!0,get:function(){return ug.ClarityType}});var wo=za();Object.defineProperty(h,"trueCV",{enumerable:!0,get:function(){return wo.trueCV}});Object.defineProperty(h,"falseCV",{enumerable:!0,get:function(){return wo.falseCV}});Object.defineProperty(h,"boolCV",{enumerable:!0,get:function(){return wo.boolCV}});var Dc=Xa();Object.defineProperty(h,"intCV",{enumerable:!0,get:function(){return Dc.intCV}});Object.defineProperty(h,"uintCV",{enumerable:!0,get:function(){return Dc.uintCV}});var Lc=Ja();Object.defineProperty(h,"bufferCV",{enumerable:!0,get:function(){return Lc.bufferCV}});Object.defineProperty(h,"bufferCVFromString",{enumerable:!0,get:function(){return Lc.bufferCVFromString}});var Oo=tc();Object.defineProperty(h,"noneCV",{enumerable:!0,get:function(){return Oo.noneCV}});Object.defineProperty(h,"someCV",{enumerable:!0,get:function(){return Oo.someCV}});Object.defineProperty(h,"optionalCVOf",{enumerable:!0,get:function(){return Oo.optionalCVOf}});var Hc=rc();Object.defineProperty(h,"responseOkCV",{enumerable:!0,get:function(){return Hc.responseOkCV}});Object.defineProperty(h,"responseErrorCV",{enumerable:!0,get:function(){return Hc.responseErrorCV}});var Mt=hr();Object.defineProperty(h,"standardPrincipalCV",{enumerable:!0,get:function(){return Mt.standardPrincipalCV}});Object.defineProperty(h,"contractPrincipalCV",{enumerable:!0,get:function(){return Mt.contractPrincipalCV}});Object.defineProperty(h,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return Mt.standardPrincipalCVFromAddress}});Object.defineProperty(h,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return Mt.contractPrincipalCVFromAddress}});Object.defineProperty(h,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return Mt.contractPrincipalCVFromStandard}});Object.defineProperty(h,"principalCV",{enumerable:!0,get:function(){return Mt.principalCV}});Object.defineProperty(h,"principalToString",{enumerable:!0,get:function(){return Mt.principalToString}});var dg=ic();Object.defineProperty(h,"listCV",{enumerable:!0,get:function(){return dg.listCV}});var lg=oc();Object.defineProperty(h,"tupleCV",{enumerable:!0,get:function(){return lg.tupleCV}});var Ro=Tr();Object.defineProperty(h,"stringUtf8CV",{enumerable:!0,get:function(){return Ro.stringUtf8CV}});Object.defineProperty(h,"stringAsciiCV",{enumerable:!0,get:function(){return Ro.stringAsciiCV}});Object.defineProperty(h,"stringCV",{enumerable:!0,get:function(){return Ro.stringCV}});var fg=Nc();Object.defineProperty(h,"serializeCV",{enumerable:!0,get:function(){return fg.serializeCV}});var yg=cg(kc());h.deserializeCV=yg.default});var Fe=y(E=>{a();c();var gg=E&&E.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(E,"__esModule",{value:!0});E.addHex=E.postConditionFromString=E.hexToBuff=E.validateTxId=E.validateStacksAddress=E.parseReadOnlyResponse=E.hexToCV=E.cvToHex=E.isClarityName=E.hashP2WSH=E.hashP2SH=E.hashP2WPKH=E.hashP2PKH=E.hash160=E.txidFromData=E.omit=E.cloneDeep=E.exceedsMaxLengthBytes=E.rightPadHexToLength=E.leftPadHexToLength=E.leftPadHex=E.randomBytes=void 0;var $n=ve(),we=D(),pg=zt(),hg=gg(va()),Uc=ot(),Kc=ln(),Cg=e=>$n.base.randomBytes(Number(e));E.randomBytes=Cg;var _g=e=>e.length%2==0?e:`0${e}`;E.leftPadHex=_g;var Sg=(e,t)=>e.padStart(t,"0");E.leftPadHexToLength=Sg;var Tg=(e,t)=>e.padEnd(t,"0");E.rightPadHexToLength=Tg;var Pg=(e,t)=>e?(0,we.utf8ToBytes)(e).length>t:!1;E.exceedsMaxLengthBytes=Pg;function Fc(e){return(0,hg.default)(e)}E.cloneDeep=Fc;function mg(e,t){let n=Fc(e);return delete n[t],n}E.omit=mg;var Eg=e=>(0,we.bytesToHex)($n.base.sha512_256(e));E.txidFromData=Eg;var bg=e=>$n.base.ripemd160($n.base.sha256(e));E.hash160=bg;var Ag=e=>(0,we.bytesToHex)((0,E.hash160)(e));E.hashP2PKH=Ag;var Ig=e=>{let t=(0,E.hash160)(e),n=(0,we.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),r=(0,E.hash160)(n);return(0,we.bytesToHex)(r)};E.hashP2WPKH=Ig;var wg=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let n=[];n.push(80+e),t.forEach(o=>{n.push(o.length),n.push(o)}),n.push(80+t.length),n.push(174);let r=(0,we.concatArray)(n),i=(0,E.hash160)(r);return(0,we.bytesToHex)(i)};E.hashP2SH=wg;var Og=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let n=[];n.push(80+e),t.forEach(d=>{n.push(d.length),n.push(d)}),n.push(80+t.length),n.push(174);let r=(0,we.concatArray)(n),i=$n.base.sha256(r),o=[];o.push(0),o.push(i.length),o.push(i);let s=(0,we.concatArray)(o),u=(0,E.hash160)(s);return(0,we.bytesToHex)(u)};E.hashP2WSH=Og;function Rg(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}E.isClarityName=Rg;function vg(e){let t=(0,Uc.serializeCV)(e);return`0x${(0,we.bytesToHex)(t)}`}E.cvToHex=vg;function zc(e){return(0,Uc.deserializeCV)(e)}E.hexToCV=zc;var xg=e=>{if(e.okay)return zc(e.result);throw new Error(e.cause)};E.parseReadOnlyResponse=xg;var Ng=e=>{try{return(0,pg.c32addressDecode)(e),!0}catch{return!1}};E.validateStacksAddress=Ng;var Bg=e=>{if(e==="success")return!0;let t=(0,we.with0x)(e).toLowerCase();return t.length!==66?!1:(0,we.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};E.validateTxId=Bg;function Mg(e){return g.Buffer.from(Vg(e),"hex")}E.hexToBuff=Mg;function Vg(e){return e.startsWith("0x")?e.replace("0x",""):e}function kg(e){let t=new Kc.BytesReader((0,we.hexToBytes)(e));return(0,Kc.deserializePostCondition)(t)}E.postConditionFromString=kg;function Dg(e){return e.startsWith("0x")?e:`0x${e}`}E.addHex=Dg});var fn=y(b=>{a();c();Object.defineProperty(b,"__esModule",{value:!0});b.deserializeAuthorization=b.serializeAuthorization=b.setSponsor=b.setSponsorNonce=b.setNonce=b.getFee=b.setFee=b.verifyOrigin=b.intoInitialSighashAuth=b.createSponsoredAuth=b.createStandardAuth=b.nextVerification=b.nextSignature=b.makeSigHashPreSign=b.deserializeSpendingCondition=b.serializeSpendingCondition=b.deserializeMultiSigSpendingCondition=b.deserializeSingleSigSpendingCondition=b.serializeMultiSigSpendingCondition=b.serializeSingleSigSpendingCondition=b.isSingleSig=b.createMultiSigSpendingCondition=b.createSingleSigSpendingCondition=b.emptyMessageSignature=void 0;var V=D(),R=fe(),Nr=Fe(),jc=Hn(),Pt=St(),ze=_t(),Ne=st();function Br(){return{type:R.StacksMessageType.MessageSignature,data:(0,V.bytesToHex)(new Uint8Array(R.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}b.emptyMessageSignature=Br;function vo(e,t,n,r){let i=(0,Pt.addressFromPublicKeys)(0,e,1,[(0,ze.createStacksPublicKey)(t)]).hash160,o=(0,ze.isCompressed)((0,ze.createStacksPublicKey)(t))?R.PubKeyEncoding.Compressed:R.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:i,nonce:(0,V.intToBigInt)(n,!1),fee:(0,V.intToBigInt)(r,!1),keyEncoding:o,signature:Br()}}b.createSingleSigSpendingCondition=vo;function Lg(e,t,n,r,i){let o=n.map(ze.createStacksPublicKey),s=(0,Pt.addressFromPublicKeys)(0,e,t,o).hash160;return{hashMode:e,signer:s,nonce:(0,V.intToBigInt)(r,!1),fee:(0,V.intToBigInt)(i,!1),fields:[],signaturesRequired:t}}b.createMultiSigSpendingCondition=Lg;function Mr(e){return"signature"in e}b.isSingleSig=Mr;function qc(e){let t=(0,Nr.cloneDeep)(e);return t.nonce=0,t.fee=0,Mr(t)?t.signature=Br():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function Gc(e){let t=[e.hashMode,(0,V.hexToBytes)(e.signer),(0,V.intToBytes)(e.nonce,!1,8),(0,V.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,jc.serializeMessageSignature)(e.signature)];return(0,V.concatArray)(t)}b.serializeSingleSigSpendingCondition=Gc;function Wc(e){let t=[e.hashMode,(0,V.hexToBytes)(e.signer),(0,V.intToBytes)(e.nonce,!1,8),(0,V.intToBytes)(e.fee,!1,8)],n=(0,Pt.createLPList)(e.fields);t.push((0,Pt.serializeLPList)(n));let r=new Uint8Array(2);return(0,V.writeUInt16BE)(r,e.signaturesRequired,0),t.push(r),(0,V.concatArray)(t)}b.serializeMultiSigSpendingCondition=Wc;function Xc(e,t){let n=(0,V.bytesToHex)(t.readBytes(20)),r=BigInt(`0x${(0,V.bytesToHex)(t.readBytes(8))}`),i=BigInt(`0x${(0,V.bytesToHex)(t.readBytes(8))}`),o=t.readUInt8Enum(R.PubKeyEncoding,u=>{throw new Ne.DeserializationError(`Could not parse ${u} as PubKeyEncoding`)});if(e===R.AddressHashMode.SerializeP2WPKH&&o!=R.PubKeyEncoding.Compressed)throw new Ne.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let s=(0,jc.deserializeMessageSignature)(t);return{hashMode:e,signer:n,nonce:r,fee:i,keyEncoding:o,signature:s}}b.deserializeSingleSigSpendingCondition=Xc;function Yc(e,t){let n=(0,V.bytesToHex)(t.readBytes(20)),r=BigInt("0x"+(0,V.bytesToHex)(t.readBytes(8))),i=BigInt("0x"+(0,V.bytesToHex)(t.readBytes(8))),o=(0,Pt.deserializeLPList)(t,R.StacksMessageType.TransactionAuthField).values,s=!1,u=0;for(let _ of o)switch(_.contents.type){case R.StacksMessageType.PublicKey:(0,ze.isCompressed)(_.contents)||(s=!0);break;case R.StacksMessageType.MessageSignature:if(_.pubKeyEncoding===R.PubKeyEncoding.Uncompressed&&(s=!0),u+=1,u===65536)throw new Ne.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let d=t.readUInt16BE();if(s&&e===R.AddressHashMode.SerializeP2SH)throw new Ne.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:n,nonce:r,fee:i,fields:o,signaturesRequired:d}}b.deserializeMultiSigSpendingCondition=Yc;function vr(e){return Mr(e)?Gc(e):Wc(e)}b.serializeSpendingCondition=vr;function xr(e){let t=e.readUInt8Enum(R.AddressHashMode,n=>{throw new Ne.DeserializationError(`Could not parse ${n} as AddressHashMode`)});return t===R.AddressHashMode.SerializeP2PKH||t===R.AddressHashMode.SerializeP2WPKH?Xc(t,e):Yc(t,e)}b.deserializeSpendingCondition=xr;function xo(e,t,n,r){let o=e+(0,V.bytesToHex)(new Uint8Array([t]))+(0,V.bytesToHex)((0,V.intToBytes)(n,!1,8))+(0,V.bytesToHex)((0,V.intToBytes)(r,!1,8));if((0,V.hexToBytes)(o).byteLength!==49)throw Error("Invalid signature hash length");return(0,Nr.txidFromData)((0,V.hexToBytes)(o))}b.makeSigHashPreSign=xo;function Jc(e,t,n){let r=33+R.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,i=(0,ze.isCompressed)(t)?R.PubKeyEncoding.Compressed:R.PubKeyEncoding.Uncompressed,o=e+(0,Nr.leftPadHex)(i.toString(16))+n.data,s=(0,V.hexToBytes)(o);if(s.byteLength>r)throw Error("Invalid signature hash length");return(0,Nr.txidFromData)(s)}function Hg(e,t,n,r,i){let o=xo(e,t,n,r),s=(0,ze.signWithKey)(i,o),u=(0,ze.getPublicKey)(i),d=Jc(o,u,s);return{nextSig:s,nextSigHash:d}}b.nextSignature=Hg;function No(e,t,n,r,i,o){let s=xo(e,t,n,r),u=(0,ze.createStacksPublicKey)((0,ze.publicKeyFromSignatureVrs)(s,o,i)),d=Jc(s,u,o);return{pubKey:u,nextSigHash:d}}b.nextVerification=No;function Kg(){let e=vo(R.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,Pt.createEmptyAddress)().hash160,e.keyEncoding=R.PubKeyEncoding.Compressed,e.signature=Br(),e}function $c(e,t,n){return Mr(e)?Ug(e,t,n):Fg(e,t,n)}function Ug(e,t,n){let{pubKey:r,nextSigHash:i}=No(t,n,e.fee,e.nonce,e.keyEncoding,e.signature),o=(0,Pt.addressFromPublicKeys)(0,e.hashMode,1,[r]).hash160;if(o!==e.signer)throw new Ne.VerificationError(`Signer hash does not equal hash of public key(s): ${o} != ${e.signer}`);return i}function Fg(e,t,n){let r=[],i=t,o=!1,s=0;for(let d of e.fields){let _;switch(d.contents.type){case R.StacksMessageType.PublicKey:(0,ze.isCompressed)(d.contents)||(o=!0),_=d.contents;break;case R.StacksMessageType.MessageSignature:d.pubKeyEncoding===R.PubKeyEncoding.Uncompressed&&(o=!0);let{pubKey:M,nextSigHash:K}=No(i,n,e.fee,e.nonce,d.pubKeyEncoding,d.contents);if(i=K,_=M,s+=1,s===65536)throw new Ne.VerificationError("Too many signatures");break}r.push(_)}if(s!==e.signaturesRequired)throw new Ne.VerificationError("Incorrect number of signatures");if(o&&e.hashMode===R.AddressHashMode.SerializeP2SH)throw new Ne.VerificationError("Uncompressed keys are not allowed in this hash mode");let u=(0,Pt.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,r).hash160;if(u!==e.signer)throw new Ne.VerificationError(`Signer hash does not equal hash of public key(s): ${u} != ${e.signer}`);return i}function Bo(e){return{authType:R.AuthType.Standard,spendingCondition:e}}b.createStandardAuth=Bo;function Mo(e,t){return{authType:R.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||vo(R.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}b.createSponsoredAuth=Mo;function zg(e){if(e.spendingCondition)switch(e.authType){case R.AuthType.Standard:return Bo(qc(e.spendingCondition));case R.AuthType.Sponsored:return Mo(qc(e.spendingCondition),Kg());default:throw new Ne.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}b.intoInitialSighashAuth=zg;function qg(e,t){switch(e.authType){case R.AuthType.Standard:return $c(e.spendingCondition,t,R.AuthType.Standard);case R.AuthType.Sponsored:return $c(e.spendingCondition,t,R.AuthType.Standard);default:throw new Ne.SigningError("Invalid origin auth type")}}b.verifyOrigin=qg;function $g(e,t){switch(e.authType){case R.AuthType.Standard:let n={...e.spendingCondition,fee:(0,V.intToBigInt)(t,!1)};return{...e,spendingCondition:n};case R.AuthType.Sponsored:let r={...e.sponsorSpendingCondition,fee:(0,V.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}}b.setFee=$g;function jg(e){switch(e.authType){case R.AuthType.Standard:return e.spendingCondition.fee;case R.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}b.getFee=jg;function Gg(e,t){let n={...e.spendingCondition,nonce:(0,V.intToBigInt)(t,!1)};return{...e,spendingCondition:n}}b.setNonce=Gg;function Wg(e,t){let n={...e.sponsorSpendingCondition,nonce:(0,V.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}b.setSponsorNonce=Wg;function Xg(e,t){let n={...t,nonce:(0,V.intToBigInt)(t.nonce,!1),fee:(0,V.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:n}}b.setSponsor=Xg;function Yg(e){let t=[];switch(t.push(e.authType),e.authType){case R.AuthType.Standard:t.push(vr(e.spendingCondition));break;case R.AuthType.Sponsored:t.push(vr(e.spendingCondition)),t.push(vr(e.sponsorSpendingCondition));break}return(0,V.concatArray)(t)}b.serializeAuthorization=Yg;function Jg(e){let t=e.readUInt8Enum(R.AuthType,r=>{throw new Ne.DeserializationError(`Could not parse ${r} as AuthType`)}),n;switch(t){case R.AuthType.Standard:return n=xr(e),Bo(n);case R.AuthType.Sponsored:n=xr(e);let r=xr(e);return Mo(n,r)}}b.deserializeAuthorization=Jg});var Zc=y(Y=>{a();c();Object.defineProperty(Y,"__esModule",{value:!0});Y.StacksDevnet=Y.StacksMocknet=Y.StacksTestnet=Y.StacksMainnet=Y.StacksNetwork=Y.StacksNetworks=Y.HIRO_MOCKNET_DEFAULT=Y.HIRO_TESTNET_DEFAULT=Y.HIRO_MAINNET_DEFAULT=void 0;var at=D();Y.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";Y.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";Y.HIRO_MOCKNET_DEFAULT="http://localhost:3999";Y.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var ct=class{constructor(t){this.version=at.TransactionVersion.Mainnet,this.chainId=at.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===at.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,i)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(i)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(i=`${i}?limit=${r.limit}&offset=${r.offset}`),i},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(i=`${i}?limit=${r.limit}&offset=${r.offset}`),i},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,i)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${i}?proof=0`,this.getMapEntryUrl=(n,r,i)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${i}?proof=0`,this.coreApiUrl=t.url}};Y.StacksNetwork=ct;ct.fromName=e=>{switch(e){case"mainnet":return new Vr;case"testnet":return new kr;case"devnet":return new Y.StacksDevnet;case"mocknet":return new jn;default:throw new Error(`Invalid network name provided. Must be one of the following: ${Y.StacksNetworks.join(", ")}`)}};ct.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:ct.fromName(e);var Vr=class extends ct{constructor(t){super({url:t?.url??Y.HIRO_MAINNET_DEFAULT}),this.version=at.TransactionVersion.Mainnet,this.chainId=at.ChainID.Mainnet}};Y.StacksMainnet=Vr;var kr=class extends ct{constructor(t){super({url:t?.url??Y.HIRO_TESTNET_DEFAULT}),this.version=at.TransactionVersion.Testnet,this.chainId=at.ChainID.Testnet}};Y.StacksTestnet=kr;var jn=class extends ct{constructor(t){super({url:t?.url??Y.HIRO_MOCKNET_DEFAULT}),this.version=at.TransactionVersion.Testnet,this.chainId=at.ChainID.Testnet}};Y.StacksMocknet=jn;Y.StacksDevnet=jn});var Gn=y(Vt=>{a();c();var Zg=Vt&&Vt.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Qg=Vt&&Vt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Zg(t,e,n)};Object.defineProperty(Vt,"__esModule",{value:!0});Qg(Zc(),Vt)});var Vo=y(mt=>{a();c();Object.defineProperty(mt,"__esModule",{value:!0});mt.createNonFungiblePostCondition=mt.createFungiblePostCondition=mt.createSTXPostCondition=void 0;var Qc=D(),yn=fe(),Wn=rt();function ep(e,t,n){return typeof e=="string"&&(e=(0,Wn.parsePrincipalString)(e)),{type:yn.StacksMessageType.PostCondition,conditionType:yn.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,Qc.intToBigInt)(n,!1)}}mt.createSTXPostCondition=ep;function tp(e,t,n,r){return typeof e=="string"&&(e=(0,Wn.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,Wn.parseAssetInfoString)(r)),{type:yn.StacksMessageType.PostCondition,conditionType:yn.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,Qc.intToBigInt)(n,!1),assetInfo:r}}mt.createFungiblePostCondition=tp;function np(e,t,n,r){return typeof e=="string"&&(e=(0,Wn.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,Wn.parseAssetInfoString)(n)),{type:yn.StacksMessageType.PostCondition,conditionType:yn.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:n,assetName:r}}mt.createNonFungiblePostCondition=np});var Ho=y(Dr=>{a();c();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.TransactionSigner=void 0;var ko=fn(),Do=Fe(),gn=fe(),pn=st(),Lo=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let n=t.auth.spendingCondition;if(n&&!(0,ko.isSingleSig)(n)){if(n.fields.filter(r=>r.contents.type===gn.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");n.fields.forEach(r=>{if(r.contents.type===gn.StacksMessageType.MessageSignature){let i=r.contents,o=(0,ko.nextVerification)(this.sigHash,t.auth.authType,n.fee,n.nonce,gn.PubKeyEncoding.Compressed,i);this.sigHash=o.nextSigHash}})}}static createSponsorSigner(t,n){if(t.auth.authType!=gn.AuthType.Sponsored)throw new pn.SigningError("Cannot add sponsor to non-sponsored transaction");let r=(0,Do.cloneDeep)(t);r.setSponsor(n);let i=r.verifyOrigin(),o=new this(r);return o.originDone=!0,o.sigHash=i,o.checkOversign=!0,o.checkOverlap=!0,o}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new pn.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new pn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new pn.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,ko.isSingleSig)(this.transaction.auth.spendingCondition)){let r=this.transaction.auth.spendingCondition;if(this.checkOversign&&r.fields.filter(i=>i.contents.type===gn.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("Origin would have too many signatures")}let n=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=n}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new pn.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==gn.AuthType.Sponsored)throw new pn.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let n=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=n,this.originDone=!0}getTxInComplete(){return(0,Do.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,Do.cloneDeep)(t),this.sigHash=t.signBegin()}};Dr.TransactionSigner=Lo});var zo=y(Cn=>{a();c();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.deserializeTransaction=Cn.StacksTransaction=void 0;var hn=D(),J=fe(),Le=fn(),eu=Hn(),Ko=Fe(),tu=nn(),Fo=St(),rp=_t(),Uo=wr(),kt=st(),Lr=class{constructor(t,n,r,i,o,s,u){if(this.version=t,this.auth=n,"amount"in r?this.payload={...r,amount:(0,hn.intToBigInt)(r.amount,!1)}:this.payload=r,this.chainId=u??J.DEFAULT_CHAIN_ID,this.postConditionMode=o??J.PostConditionMode.Deny,this.postConditions=i??(0,Fo.createLPList)([]),s)this.anchorMode=(0,J.anchorModeFromNameOrValue)(s);else switch(r.payloadType){case J.PayloadType.Coinbase:case J.PayloadType.CoinbaseToAltRecipient:case J.PayloadType.PoisonMicroblock:{this.anchorMode=J.AnchorMode.OnChainOnly;break}case J.PayloadType.ContractCall:case J.PayloadType.SmartContract:case J.PayloadType.VersionedSmartContract:case J.PayloadType.TokenTransfer:{this.anchorMode=J.AnchorMode.Any;break}}}signBegin(){let t=(0,Ko.cloneDeep)(this);return t.auth=(0,Le.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,Ko.cloneDeep)(this);return t.auth=(0,Le.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,Le.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,n){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,J.AuthType.Standard,n)}signNextSponsor(t,n){if(this.auth.authType===J.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,J.AuthType.Sponsored,n);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let n=this.auth.spendingCondition;if(n&&!(0,Le.isSingleSig)(n)){let r=(0,rp.isCompressed)(t);n.fields.push((0,eu.createTransactionAuthField)(r?J.PubKeyEncoding.Compressed:J.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,n,r,i){let{nextSig:o,nextSigHash:s}=(0,Le.nextSignature)(n,r,t.fee,t.nonce,i);if((0,Le.isSingleSig)(t))t.signature=o;else{let u=(0,hn.bytesToHex)(i.data).endsWith("01");t.fields.push((0,eu.createTransactionAuthField)(u?J.PubKeyEncoding.Compressed:J.PubKeyEncoding.Uncompressed,o))}return s}txid(){let t=this.serialize();return(0,Ko.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=J.AuthType.Sponsored)throw new kt.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Le.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,Le.setFee)(this.auth,t)}setNonce(t){this.auth=(0,Le.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=J.AuthType.Sponsored)throw new kt.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,Le.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new kt.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new kt.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new kt.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new kt.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new kt.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let n=new Uint8Array(4);return(0,hn.writeUInt32BE)(n,this.chainId,0),t.push(n),t.push((0,Le.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,Fo.serializeLPList)(this.postConditions)),t.push((0,tu.serializePayload)(this.payload)),(0,hn.concatArray)(t)}};Cn.StacksTransaction=Lr;function ip(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new Uo.BytesReader((0,hn.hexToBytes)(e.slice(2))):t=new Uo.BytesReader((0,hn.hexToBytes)(e)):e instanceof Uint8Array?t=new Uo.BytesReader(e):t=e;let n=t.readUInt8Enum(J.TransactionVersion,_=>{throw new Error(`Could not parse ${_} as TransactionVersion`)}),r=t.readUInt32BE(),i=(0,Le.deserializeAuthorization)(t),o=t.readUInt8Enum(J.AnchorMode,_=>{throw new Error(`Could not parse ${_} as AnchorMode`)}),s=t.readUInt8Enum(J.PostConditionMode,_=>{throw new Error(`Could not parse ${_} as PostConditionMode`)}),u=(0,Fo.deserializeLPList)(t,J.StacksMessageType.PostCondition),d=(0,tu.deserializePayload)(t);return new Lr(n,i,d,u,s,o,r)}Cn.deserializeTransaction=ip});var jo=y(ee=>{a();c();Object.defineProperty(ee,"__esModule",{value:!0});ee.makeContractDeploy=ee.makeUnsignedContractDeploy=ee.estimateTransactionByteLength=ee.makeContractNonFungiblePostCondition=ee.makeStandardNonFungiblePostCondition=ee.makeContractFungiblePostCondition=ee.makeStandardFungiblePostCondition=ee.makeContractSTXPostCondition=ee.makeStandardSTXPostCondition=ee.makeContractCall=ee.makeUnsignedContractCall=void 0;var nu=D(),Hr=Gn(),Dt=fn(),Ze=fe(),He=_t(),iu=nn(),_n=Vo(),Sn=rt(),qo=Ho(),ou=zo(),su=St(),ru=Fe();async function $o(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Hr.StacksMainnet,postConditionMode:Ze.PostConditionMode.Deny,sponsored:!1},n=Object.assign(t,e),r=(0,iu.createContractCallPayload)(n.contractAddress,n.contractName,n.functionName,n.functionArgs),i=null,o=null;"publicKey"in n?i=(0,Dt.createSingleSigSpendingCondition)(Ze.AddressHashMode.SerializeP2PKH,n.publicKey,n.nonce,n.fee):i=(0,Dt.createMultiSigSpendingCondition)(Ze.AddressHashMode.SerializeP2SH,n.numSignatures,n.publicKeys,n.nonce,n.fee),n.sponsored?o=(0,Dt.createSponsoredAuth)(i):o=(0,Dt.createStandardAuth)(i);let s=Hr.StacksNetwork.fromNameOrNetwork(n.network),u=[];n.postConditions&&n.postConditions.length>0&&n.postConditions.forEach(M=>{u.push(M)});let d=(0,su.createLPList)(u);return new ou.StacksTransaction(s.version,o,r,d,n.postConditionMode,n.anchorMode,s.chainId)}ee.makeUnsignedContractCall=$o;async function op(e){if("senderKey"in e){let t=(0,He.publicKeyToString)((0,He.getPublicKey)((0,He.createStacksPrivateKey)(e.senderKey))),n=(0,ru.omit)(e,"senderKey"),r=await $o({publicKey:t,...n}),i=(0,He.createStacksPrivateKey)(e.senderKey);return new qo.TransactionSigner(r).signOrigin(i),r}else{let t=(0,ru.omit)(e,"signerKeys"),n=await $o(t),r=new qo.TransactionSigner(n),i=e.publicKeys;for(let o of e.signerKeys){let s=(0,He.pubKeyfromPrivKey)(o);i=i.filter(u=>u!==(0,nu.bytesToHex)(s.data)),r.signOrigin((0,He.createStacksPrivateKey)(o))}for(let o of i)r.appendOrigin((0,He.publicKeyFromBytes)((0,nu.hexToBytes)(o)));return n}}ee.makeContractCall=op;function sp(e,t,n){return(0,_n.createSTXPostCondition)((0,Sn.createStandardPrincipal)(e),t,n)}ee.makeStandardSTXPostCondition=sp;function ap(e,t,n,r){return(0,_n.createSTXPostCondition)((0,Sn.createContractPrincipal)(e,t),n,r)}ee.makeContractSTXPostCondition=ap;function cp(e,t,n,r){return(0,_n.createFungiblePostCondition)((0,Sn.createStandardPrincipal)(e),t,n,r)}ee.makeStandardFungiblePostCondition=cp;function up(e,t,n,r,i){return(0,_n.createFungiblePostCondition)((0,Sn.createContractPrincipal)(e,t),n,r,i)}ee.makeContractFungiblePostCondition=up;function dp(e,t,n,r){return(0,_n.createNonFungiblePostCondition)((0,Sn.createStandardPrincipal)(e),t,n,r)}ee.makeStandardNonFungiblePostCondition=dp;function lp(e,t,n,r,i){return(0,_n.createNonFungiblePostCondition)((0,Sn.createContractPrincipal)(e,t),n,r,i)}ee.makeContractNonFungiblePostCondition=lp;function fp(e){let t=e.auth.spendingCondition.hashMode;if([Ze.AddressHashMode.SerializeP2SH,Ze.AddressHashMode.SerializeP2WSH].includes(t)){let r=e.auth.spendingCondition,i=r.fields.filter(s=>s.contents.type===Ze.StacksMessageType.MessageSignature).length,o=(r.signaturesRequired-i)*(Ze.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+o}else return e.serialize().byteLength}ee.estimateTransactionByteLength=fp;async function au(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Hr.StacksMainnet,postConditionMode:Ze.PostConditionMode.Deny,sponsored:!1,clarityVersion:Ze.ClarityVersion.Clarity2},n=Object.assign(t,e),r=(0,iu.createSmartContractPayload)(n.contractName,n.codeBody,n.clarityVersion),i=Ze.AddressHashMode.SerializeP2PKH,o=(0,He.createStacksPublicKey)(n.publicKey),s=null,u=(0,Dt.createSingleSigSpendingCondition)(i,(0,He.publicKeyToString)(o),n.nonce,n.fee);n.sponsored?s=(0,Dt.createSponsoredAuth)(u):s=(0,Dt.createStandardAuth)(u);let d=Hr.StacksNetwork.fromNameOrNetwork(n.network),_=[];n.postConditions&&n.postConditions.length>0&&n.postConditions.forEach(Q=>{_.push(Q)});let M=(0,su.createLPList)(_);return new ou.StacksTransaction(d.version,s,r,M,n.postConditionMode,n.anchorMode,d.chainId)}ee.makeUnsignedContractDeploy=au;async function yp(e){let t=(0,He.createStacksPrivateKey)(e.senderKey),n=(0,He.getPublicKey)(t),r=(0,He.publicKeyToString)(n),i={...e,publicKey:r},o=await au(i);return e.senderKey&&new qo.TransactionSigner(o).signOrigin(t),o}ee.makeContractDeploy=yp});var cu=y(N=>{a();c();Object.defineProperty(N,"__esModule",{value:!0});N.deserialize=N.serialize=N.tuple=N.error=N.ok=N.some=N.none=N.bufferFromUtf8=N.bufferFromAscii=N.bufferFromHex=N.buffer=N.stringUtf8=N.stringAscii=N.list=N.standardPrincipal=N.contractPrincipal=N.uint=N.int=N.bool=void 0;var Go=D(),ce=ot();N.bool=ce.boolCV;N.int=ce.intCV;N.uint=ce.uintCV;N.contractPrincipal=ce.contractPrincipalCV;N.standardPrincipal=ce.standardPrincipalCV;N.list=ce.listCV;N.stringAscii=ce.stringAsciiCV;N.stringUtf8=ce.stringUtf8CV;N.buffer=ce.bufferCV;var gp=e=>(0,ce.bufferCV)((0,Go.hexToBytes)(e));N.bufferFromHex=gp;var pp=e=>(0,ce.bufferCV)((0,Go.asciiToBytes)(e));N.bufferFromAscii=pp;var hp=e=>(0,ce.bufferCV)((0,Go.utf8ToBytes)(e));N.bufferFromUtf8=hp;N.none=ce.noneCV;N.some=ce.someCV;N.ok=ce.responseOkCV;N.error=ce.responseErrorCV;N.tuple=ce.tupleCV;N.serialize=ce.serializeCV;N.deserialize=ce.deserializeCV});var lu=y(P=>{a();c();Object.defineProperty(P,"__esModule",{value:!0});P.parseToCV=P.validateContractCall=P.abiFunctionToString=P.getTypeString=P.encodeClarityValue=P.getTypeUnion=P.isClarityAbiList=P.isClarityAbiTuple=P.isClarityAbiOptional=P.isClarityAbiResponse=P.isClarityAbiStringUtf8=P.isClarityAbiStringAscii=P.isClarityAbiBuffer=P.isClarityAbiPrimitive=P.ClarityAbiTypeId=void 0;var Cp=Fe(),H=ot(),Kr=st(),uu=Tr(),du=D(),w;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(w=P.ClarityAbiTypeId||(P.ClarityAbiTypeId={}));var _p=e=>typeof e=="string";P.isClarityAbiPrimitive=_p;var Sp=e=>e.buffer!==void 0;P.isClarityAbiBuffer=Sp;var Tp=e=>e["string-ascii"]!==void 0;P.isClarityAbiStringAscii=Tp;var Pp=e=>e["string-utf8"]!==void 0;P.isClarityAbiStringUtf8=Pp;var mp=e=>e.response!==void 0;P.isClarityAbiResponse=mp;var Ep=e=>e.optional!==void 0;P.isClarityAbiOptional=Ep;var bp=e=>e.tuple!==void 0;P.isClarityAbiTuple=bp;var Ap=e=>e.list!==void 0;P.isClarityAbiList=Ap;function Wo(e){if((0,P.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:w.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:w.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:w.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:w.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:w.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:w.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,P.isClarityAbiBuffer)(e))return{id:w.ClarityAbiTypeBuffer,type:e};if((0,P.isClarityAbiResponse)(e))return{id:w.ClarityAbiTypeResponse,type:e};if((0,P.isClarityAbiOptional)(e))return{id:w.ClarityAbiTypeOptional,type:e};if((0,P.isClarityAbiTuple)(e))return{id:w.ClarityAbiTypeTuple,type:e};if((0,P.isClarityAbiList)(e))return{id:w.ClarityAbiTypeList,type:e};if((0,P.isClarityAbiStringAscii)(e))return{id:w.ClarityAbiTypeStringAscii,type:e};if((0,P.isClarityAbiStringUtf8)(e))return{id:w.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}P.getTypeUnion=Wo;function Ip(e,t){let n;switch(e.id!==void 0?n=e:n=Wo(e),n.id){case w.ClarityAbiTypeUInt128:return(0,H.uintCV)(t);case w.ClarityAbiTypeInt128:return(0,H.intCV)(t);case w.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,H.falseCV)();if(t==="true"||t==="1")return(0,H.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case w.ClarityAbiTypePrincipal:if(t.includes(".")){let[o,s]=t.split(".");return(0,H.contractPrincipalCV)(o,s)}else return(0,H.standardPrincipalCV)(t);case w.ClarityAbiTypeTraitReference:let[r,i]=t.split(".");return(0,H.contractPrincipalCV)(r,i);case w.ClarityAbiTypeNone:return(0,H.noneCV)();case w.ClarityAbiTypeBuffer:return(0,H.bufferCV)((0,du.utf8ToBytes)(t));case w.ClarityAbiTypeStringAscii:return(0,uu.stringAsciiCV)(t);case w.ClarityAbiTypeStringUtf8:return(0,uu.stringUtf8CV)(t);case w.ClarityAbiTypeResponse:throw new Kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case w.ClarityAbiTypeOptional:throw new Kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case w.ClarityAbiTypeTuple:throw new Kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);case w.ClarityAbiTypeList:throw new Kr.NotImplementedError(`Unsupported encoding for Clarity type: ${n.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(n)}`)}}P.encodeClarityValue=Ip;function ut(e){if((0,P.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,P.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,P.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,P.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,P.isClarityAbiResponse)(e))return`(response ${ut(e.response.ok)} ${ut(e.response.error)})`;if((0,P.isClarityAbiOptional)(e))return`(optional ${ut(e.optional)})`;if((0,P.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${ut(t.type)})`).join(" ")})`;if((0,P.isClarityAbiList)(e))return`(list ${e.list.length} ${ut(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}P.getTypeString=ut;function wp(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(n=>`(${n.name} ${ut(n.type)})`).join(" ")}))`}P.abiFunctionToString=wp;function Tn(e,t){let n=Wo(t);switch(e.type){case H.ClarityType.BoolTrue:case H.ClarityType.BoolFalse:return n.id===w.ClarityAbiTypeBool;case H.ClarityType.Int:return n.id===w.ClarityAbiTypeInt128;case H.ClarityType.UInt:return n.id===w.ClarityAbiTypeUInt128;case H.ClarityType.Buffer:return n.id===w.ClarityAbiTypeBuffer&&n.type.buffer.length>=e.buffer.length;case H.ClarityType.StringASCII:return n.id===w.ClarityAbiTypeStringAscii&&n.type["string-ascii"].length>=e.data.length;case H.ClarityType.StringUTF8:return n.id===w.ClarityAbiTypeStringUtf8&&n.type["string-utf8"].length>=e.data.length;case H.ClarityType.OptionalNone:return n.id===w.ClarityAbiTypeNone||n.id===w.ClarityAbiTypeOptional;case H.ClarityType.OptionalSome:return n.id===w.ClarityAbiTypeOptional&&Tn(e.value,n.type.optional);case H.ClarityType.ResponseErr:return n.id===w.ClarityAbiTypeResponse&&Tn(e.value,n.type.response.error);case H.ClarityType.ResponseOk:return n.id===w.ClarityAbiTypeResponse&&Tn(e.value,n.type.response.ok);case H.ClarityType.PrincipalContract:return n.id===w.ClarityAbiTypePrincipal||n.id===w.ClarityAbiTypeTraitReference;case H.ClarityType.PrincipalStandard:return n.id===w.ClarityAbiTypePrincipal;case H.ClarityType.List:return n.id==w.ClarityAbiTypeList&&n.type.list.length>=e.list.length&&e.list.every(r=>Tn(r,n.type.list.type));case H.ClarityType.Tuple:if(n.id==w.ClarityAbiTypeTuple){let r=(0,Cp.cloneDeep)(e.data);for(let i=0;i<n.type.tuple.length;i++){let o=n.type.tuple[i],s=o.name,u=r[s];if(u){if(!Tn(u,o.type))return!1;delete r[s]}else return!1}return!0}else return!1;default:return!1}}function Op(e,t){let n=t.functions.filter(r=>r.name===e.functionName.content);if(n.length===1){let i=n[0].args;if(e.functionArgs.length!==i.length)throw new Error(`Clarity function expects ${i.length} argument(s) but received ${e.functionArgs.length}`);for(let o=0;o<e.functionArgs.length;o++){let s=e.functionArgs[o],u=i[o];if(!Tn(s,u.type)){let d=o+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${d} to be of type ${ut(u.type)}, not ${(0,H.getCVTypeString)(s)}`)}}return!0}else throw n.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}P.validateContractCall=Op;function Rp(e,t){let n=ut(t);if((0,P.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,H.uintCV)(e);if(t==="int128")return(0,H.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,H.trueCV)();if(e.toLowerCase()==="false")return(0,H.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[r,i]=e.split(".");return(0,H.contractPrincipalCV)(r,i)}else return(0,H.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}else if((0,P.isClarityAbiBuffer)(t)){if((0,du.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,H.bufferCVFromString)(e)}else throw(0,P.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,P.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,P.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):(0,P.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${n}`):new Error(`Contract function contains unsupported Clarity ABI type: ${n}`)}P.parseToCV=Rp});var fu=y($r=>{a();c();Object.defineProperty($r,"__esModule",{value:!0});$r.principal=void 0;var Pn=jo(),Lt=fe(),Ur=rt();function vp(e){if(Np(e)){let[t,n]=qr(e);return new Fr(t,n)}return new Fr(e,void 0)}$r.principal=vp;var Fr=class{constructor(t,n){this.address=t,this.contractName=n}willSendEq(t){return new Ht(this.address,t,Lt.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new Ht(this.address,t,Lt.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new Ht(this.address,t,Lt.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new Ht(this.address,t,Lt.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new Ht(this.address,t,Lt.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new zr(this.address,Lt.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new zr(this.address,Lt.NonFungibleConditionCode.DoesNotSend,this.contractName)}},Ht=class{constructor(t,n,r,i){this.address=t,this.amount=n,this.code=r,this.contractName=i}ustx(){return this.contractName?(0,Pn.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,Pn.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,n){let[r,i]=qr(t);return this.contractName?(0,Pn.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Ur.createAssetInfo)(r,i,n)):(0,Pn.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Ur.createAssetInfo)(r,i,n))}},zr=class{constructor(t,n,r){this.principal=t,this.code=n,this.contractName=r}nft(...t){let{contractAddress:n,contractName:r,tokenName:i,assetId:o}=Bp(...t);return this.contractName?(0,Pn.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Ur.createAssetInfo)(n,r,i),o):(0,Pn.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Ur.createAssetInfo)(n,r,i),o)}};function qr(e){let[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}function xp(e){let[t,n]=e.split("::");if(!t||!n)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[r,i]=qr(t);return{contractAddress:r,contractName:i,tokenName:n}}function Np(e){return e.includes(".")}function Bp(...e){if(e.length===2){let[s,u]=e;return{...xp(s),assetId:u}}let[t,n,r]=e,[i,o]=qr(t);return{contractAddress:i,contractName:o,tokenName:n,assetId:r}}});var hu=y(Ce=>{a();c();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.signStructuredData=Ce.decodeStructuredDataSignature=Ce.encodeStructuredData=Ce.hashStructuredData=Ce.STRUCTURED_DATA_PREFIX=void 0;var gu=ve(),Yo=D(),jr=ot(),Mp=fe(),Vp=_t();Ce.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function Xo(e){return gu.base.sha256((0,jr.serializeCV)(e))}Ce.hashStructuredData=Xo;var yu=32;function kp(e){return!(e.type!==jr.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===jr.ClarityType.StringASCII)||e.data["chain-id"].type!==jr.ClarityType.UInt)}function pu({message:e,domain:t}){let n=Xo(e);if(!kp(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let r=Xo(t);return(0,Yo.concatBytes)(Ce.STRUCTURED_DATA_PREFIX,r,n)}Ce.encodeStructuredData=pu;function Dp(e){let t=typeof e=="string"?(0,Yo.utf8ToBytes)(e):e,n=t.slice(Ce.STRUCTURED_DATA_PREFIX.length,Ce.STRUCTURED_DATA_PREFIX.length+yu),r=t.slice(Ce.STRUCTURED_DATA_PREFIX.length+yu);return{domainHash:n,messageHash:r}}Ce.decodeStructuredDataSignature=Dp;function Lp({message:e,domain:t,privateKey:n}){let r=(0,Yo.bytesToHex)(gu.base.sha256(pu({message:e,domain:t}))),{data:i}=(0,Vp.signMessageHashRsv)({messageHash:r,privateKey:n});return{data:i,type:Mp.StacksMessageType.StructuredDataSignature}}Ce.signStructuredData=Lp});var ln=y(m=>{a();c();var Cu=m&&m.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Hp=m&&m.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Be=m&&m.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Cu(t,e,n)},_u=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Cu(t,e,n);return Hp(t,e),t};Object.defineProperty(m,"__esModule",{value:!0});m.deserializeTransaction=m.StacksTransaction=m.createSTXPostCondition=m.createNonFungiblePostCondition=m.createFungiblePostCondition=m.Pc=m.serializePayload=m.isTokenTransferPayload=m.isSmartContractPayload=m.isPoisonPayload=m.isContractCallPayload=m.isCoinbasePayload=m.Cl=m.BytesReader=m.isSingleSig=m.emptyMessageSignature=void 0;Be(fn(),m);var Su=fn();Object.defineProperty(m,"emptyMessageSignature",{enumerable:!0,get:function(){return Su.emptyMessageSignature}});Object.defineProperty(m,"isSingleSig",{enumerable:!0,get:function(){return Su.isSingleSig}});Be(jo(),m);var Kp=wr();Object.defineProperty(m,"BytesReader",{enumerable:!0,get:function(){return Kp.BytesReader}});m.Cl=_u(cu());Be(ot(),m);Be(Wt(),m);Be(fe(),m);Be(lu(),m);Be(_t(),m);var mn=nn();Object.defineProperty(m,"isCoinbasePayload",{enumerable:!0,get:function(){return mn.isCoinbasePayload}});Object.defineProperty(m,"isContractCallPayload",{enumerable:!0,get:function(){return mn.isContractCallPayload}});Object.defineProperty(m,"isPoisonPayload",{enumerable:!0,get:function(){return mn.isPoisonPayload}});Object.defineProperty(m,"isSmartContractPayload",{enumerable:!0,get:function(){return mn.isSmartContractPayload}});Object.defineProperty(m,"isTokenTransferPayload",{enumerable:!0,get:function(){return mn.isTokenTransferPayload}});Object.defineProperty(m,"serializePayload",{enumerable:!0,get:function(){return mn.serializePayload}});m.Pc=_u(fu());var Jo=Vo();Object.defineProperty(m,"createFungiblePostCondition",{enumerable:!0,get:function(){return Jo.createFungiblePostCondition}});Object.defineProperty(m,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return Jo.createNonFungiblePostCondition}});Object.defineProperty(m,"createSTXPostCondition",{enumerable:!0,get:function(){return Jo.createSTXPostCondition}});Be(rt(),m);Be(Hn(),m);Be(Ho(),m);Be(hu(),m);var Tu=zo();Object.defineProperty(m,"StacksTransaction",{enumerable:!0,get:function(){return Tu.StacksTransaction}});Object.defineProperty(m,"deserializeTransaction",{enumerable:!0,get:function(){return Tu.deserializeTransaction}});Be(St(),m);Be(Fe(),m)});var Pu=y(Gr=>{a();c();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.hashRipemd160=void 0;var Up=ve();function Fp(e){return Up.base.ripemd160(e)}Gr.hashRipemd160=Fp});var Wr=y(Et=>{a();c();Object.defineProperty(Et,"__esModule",{value:!0});Et.hashSha512Sync=Et.hashSha256Sync=Et.NodeCryptoSha2Hash=void 0;var mu=ve(),Zo=class{constructor(t){this.createHash=t}async digest(t,n="sha256"){try{let r=this.createHash(n).update(t).digest();return Promise.resolve(r)}catch(r){return console.log(r),console.log(`Error performing ${n} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(n==="sha256"?Eu(t):bu(t))}}};Et.NodeCryptoSha2Hash=Zo;function Eu(e){return mu.base.sha256(e)}Et.hashSha256Sync=Eu;function bu(e){return mu.base.sha512(e)}Et.hashSha512Sync=bu});var ts=y(oe=>{a();c();Object.defineProperty(oe,"__esModule",{value:!0});oe.compressPrivateKey=oe.isValidPrivateKey=oe.ecSign=oe.getPublicKeyFromPrivate=oe.publicKeyToBtcAddress=oe.base58CheckEncode=oe.base58Encode=oe.base58CheckDecode=oe.makeECPrivateKey=void 0;var Qo=Jn(),bt=ve(),zp=Qo.secp256k1.getPublicKey,qp=Qo.secp256k1.signSync,es=Qo.secp256k1.utils,Ke=D(),$p=Pu(),jp=Wr(),Gp=0;es.hmacSha256Sync=(e,...t)=>{let n=bt.base.hmac.create(bt.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};function Wp(){return(0,Ke.bytesToHex)(es.randomPrivateKey())}oe.makeECPrivateKey=Wp;function Xp(e){let t=bt.base.base58.decode(e),n=t.slice(0,-4),r=t.slice(-4),i=bt.base.sha256(bt.base.sha256(n));if(r[0]^i[0]|r[1]^i[1]|r[2]^i[2]|r[3]^i[3])throw new Error("Invalid checksum");if(n.length!==21)throw new TypeError("Invalid address length");let o=(0,Ke.readUInt8)(n,0),s=n.slice(1);return{version:o,hash:s}}oe.base58CheckDecode=Xp;function Au(e){let t=bt.base.sha256(bt.base.sha256(e));return bt.base.base58.encode((0,Ke.concatBytes)(e,t).slice(0,e.length+4))}oe.base58Encode=Au;function Iu(e,t){return Au((0,Ke.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}oe.base58CheckEncode=Iu;function Yp(e,t=Gp){let n=typeof e=="string"?(0,Ke.hexToBytes)(e):e,r=(0,$p.hashRipemd160)((0,jp.hashSha256Sync)(n));return Iu(t,r)}oe.publicKeyToBtcAddress=Yp;function Jp(e){let t=(0,Ke.privateKeyToBytes)(e);return(0,Ke.bytesToHex)(zp(t.slice(0,32),!0))}oe.getPublicKeyFromPrivate=Jp;function Zp(e,t){return qp(e,(0,Ke.privateKeyToBytes)(t).slice(0,32),{der:!1})}oe.ecSign=Zp;function Qp(e){return es.isValidPrivateKey((0,Ke.privateKeyToBytes)(e))}oe.isValidPrivateKey=Qp;function eh(e){let t=(0,Ke.privateKeyToBytes)(e);return t.length==Ke.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,Ke.concatBytes)(t,new Uint8Array([1]))}oe.compressPrivateKey=eh});var wu=y(Xr=>{a();c();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.randomBytes=void 0;var th=ve(),nh=(e=32)=>th.base.randomBytes(e);Xr.randomBytes=nh});var ns=y(At=>{a();c();Object.defineProperty(At,"__esModule",{value:!0});At.hashCode=At.getBase64OutputLength=At.getAesCbcOutputLength=void 0;function rh(e){return(Math.floor(e/16)+1)*16}At.getAesCbcOutputLength=rh;function ih(e){return Math.ceil(e/3)*4}At.getBase64OutputLength=ih;function oh(e){let t=0;if(e.length===0)return t;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t&2147483647}At.hashCode=oh});var Ru=y(It=>{a();c();Object.defineProperty(It,"__esModule",{value:!0});It.encodingLength=It.decode=It.encode=void 0;var Me=D(),sh=9007199254740991;function rs(e){if(e<0||e>sh||e%1!==0)throw new RangeError("value out of range")}function ah(e,t,n=0){return rs(e),t||(t=new Uint8Array(Ou(e))),e<253?(0,Me.writeUInt8)(t,e,n):e<=65535?((0,Me.writeUInt8)(t,253,n),(0,Me.writeUInt16LE)(t,e,n+1)):e<=4294967295?((0,Me.writeUInt8)(t,254,n),(0,Me.writeUInt32LE)(t,e,n+1)):((0,Me.writeUInt8)(t,255,n),(0,Me.writeUInt32LE)(t,e>>>0,n+1),(0,Me.writeUInt32LE)(t,e/4294967296|0,n+5)),t}It.encode=ah;function ch(e,t=0){let n=(0,Me.readUInt8)(e,t);if(n<253)return n;if(n===253)return(0,Me.readUInt16LE)(e,t+1);if(n===254)return(0,Me.readUInt32LE)(e,t+1);{let r=(0,Me.readUInt32LE)(e,t+1),o=(0,Me.readUInt32LE)(e,t+5)*4294967296+r;return rs(o),o}}It.decode=ch;function Ou(e){return rs(e),e<253?1:e<=65535?3:e<=4294967295?5:9}It.encodingLength=Ou});var ss=y(wt=>{a();c();Object.defineProperty(wt,"__esModule",{value:!0});wt.decodeMessage=wt.encodeMessage=wt.hashMessage=void 0;var uh=ve(),Yr=D(),is=Ru(),os=`Stacks Signed Message:
`;function dh(e,t=os){return uh.base.sha256(vu(e,t))}wt.hashMessage=dh;function vu(e,t=os){let n=typeof e=="string"?(0,Yr.utf8ToBytes)(e):e,r=(0,is.encode)(n.length);return(0,Yr.concatBytes)((0,Yr.utf8ToBytes)(t),r,n)}wt.encodeMessage=vu;function lh(e,t=os){let n=(0,Yr.utf8ToBytes)(t).byteLength,r=e.subarray(n),i=(0,is.decode)(r),o=(0,is.encodingLength)(i);return r.slice(o)}wt.decodeMessage=lh});var Du=y(Z=>{a();c();Object.defineProperty(Z,"__esModule",{value:!0});Z.verifyMessageSignatureRsv=Z.verifyMessageSignature=Z.verifyECDSA=Z.signECDSA=Z.eciesGetJsonStringLength=Z.getSignedCipherObjectWrapper=Z.getCipherObjectWrapper=Z.getBytesFromBN=Z.getHexFromBN=Z.hmacSha256=Z.InvalidPublicKeyReason=void 0;var En=Jn(),Xn=ve(),fh=En.secp256k1.signSync,yh=En.secp256k1.utils,Ot=D(),gh=ts(),xu=ss(),Bu=Wr(),Nu=ns();yh.hmacSha256Sync=(e,...t)=>{let n=Xn.base.hmac.create(Xn.base.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};var ph;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(ph=Z.InvalidPublicKeyReason||(Z.InvalidPublicKeyReason={}));function hh(e,t){return Xn.base.hmac(Xn.base.sha256,e,t)}Z.hmacSha256=hh;function Ch(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}Z.getHexFromBN=Ch;function _h(e){let t=(0,Ot.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}Z.getBytesFromBN=_h;function Mu(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let n=32,r=66,i=64;return{payloadValuesLength:n+r+i,payloadShell:JSON.stringify(t)}}Z.getCipherObjectWrapper=Mu;function Vu(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}Z.getSignedCipherObjectWrapper=Vu;function Sh(e){let{payloadShell:t,payloadValuesLength:n}=Mu(e),r=(0,Nu.getAesCbcOutputLength)(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=r*2;else if(e.cipherTextEncoding==="base64")i=(0,Nu.getBase64OutputLength)(r);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:o,signedPayloadValuesLength:s}=Vu(t);return o.length+s+n+i}else return t.length+n+i}Z.eciesGetJsonStringLength=Sh;function Th(e,t){let n=typeof t=="string"?(0,Ot.utf8ToBytes)(t):t,r=(0,gh.getPublicKeyFromPrivate)(e),i=(0,Bu.hashSha256Sync)(n),o=fh(i,e);return{signature:(0,Ot.bytesToHex)(o),publicKey:r}}Z.signECDSA=Th;function Ph(e,t,n){let r=typeof e=="string"?(0,Ot.utf8ToBytes)(e):e,i=(0,Bu.hashSha256Sync)(r);return En.secp256k1.verify(n,i,t,{strict:!1})}Z.verifyECDSA=Ph;function ku({signature:e,message:t,publicKey:n}){let{r,s:i}=(0,Ot.parseRecoverableSignatureVrs)(e),o=new En.secp256k1.Signature((0,Ot.hexToBigInt)(r),(0,Ot.hexToBigInt)(i)),s=typeof t=="string"?(0,xu.hashMessage)(t):t,u=En.secp256k1.verify(o,s,n,{strict:!1});if(u||typeof t!="string")return u;let d=`Stacks Message Signing:
`,_=Xn.base.sha256((0,xu.encodeMessage)(t,d));return En.secp256k1.verify(o,_,n,{strict:!1})}Z.verifyMessageSignature=ku;function mh({signature:e,message:t,publicKey:n}){return ku({signature:(0,Ot.signatureRsvToVrs)(e),message:t,publicKey:n})}Z.verifyMessageSignatureRsv=mh});var as=y(Ue=>{a();c();var Eh=Ue&&Ue.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),bn=Ue&&Ue.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Eh(t,e,n)};Object.defineProperty(Ue,"__esModule",{value:!0});bn(ts(),Ue);bn(wu(),Ue);bn(Wr(),Ue);bn(ns(),Ue);bn(ss(),Ue);bn(Du(),Ue)});var Lu=y(q=>{a();c();Object.defineProperty(q,"__esModule",{value:!0});q.StackingErrors=q.PoxOperationPeriod=q.SEGWIT_V1=q.SEGWIT_V0=q.SEGWIT_ADDR_PREFIXES=q.SegwitPrefix=q.SEGWIT_V1_ADDR_PREFIX=q.SEGWIT_V0_ADDR_PREFIX=q.B58_ADDR_PREFIXES=q.BitcoinNetworkVersion=q.PoXAddressVersion=void 0;var bh;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(bh=q.PoXAddressVersion||(q.PoXAddressVersion={}));q.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};q.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;q.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;q.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;q.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};q.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;q.SEGWIT_V0=0;q.SEGWIT_V1=1;var Ah;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(Ah=q.PoxOperationPeriod||(q.PoxOperationPeriod={}));var Ih;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(Ih=q.StackingErrors||(q.StackingErrors={}))});var cs=y(te=>{a();c();Object.defineProperty(te,"__esModule",{value:!0});te.ensureLegacyBtcAddressForPox1=te.ensurePox2Activated=te.unwrapMap=te.unwrap=te.poxAddressToBtcAddress=te.poxAddressToTuple=te.getErrorString=te.extractPoxAddressFromClarityValue=te.decodeBtcAddress=te.btcAddressVersionToLegacyHashMode=te.InvalidAddressError=void 0;var Rt=ve(),wh=D(),Hu=as(),Qe=ln(),C=Lu(),Jr=class extends Error{constructor(t,n){let r=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(r),this.message=r,this.name=this.constructor.name,this.innerError=n,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};te.InvalidAddressError=Jr;function Ku(e){switch(e){case C.BitcoinNetworkVersion.mainnet.P2PKH:return C.PoXAddressVersion.P2PKH;case C.BitcoinNetworkVersion.testnet.P2PKH:return C.PoXAddressVersion.P2PKH;case C.BitcoinNetworkVersion.mainnet.P2SH:return C.PoXAddressVersion.P2SH;case C.BitcoinNetworkVersion.testnet.P2SH:return C.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}te.btcAddressVersionToLegacyHashMode=Ku;function Oh(e,t){if(e===C.SEGWIT_V0&&t===20)return C.PoXAddressVersion.P2WPKH;if(e===C.SEGWIT_V0&&t===32)return C.PoXAddressVersion.P2WSH;if(e===C.SEGWIT_V1&&t===32)return C.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function Rh(e){let{words:t}=Rt.base.bech32.decode(e),n=t[0];if(n>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:n,data:Rt.base.bech32.fromWords(t.slice(1))}}function vh(e){let{words:t}=Rt.base.bech32m.decode(e),n=t[0];if(n==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:n,data:Rt.base.bech32m.fromWords(t.slice(1))}}function xh(e){if(C.SEGWIT_V0_ADDR_PREFIX.test(e))return Rh(e);if(C.SEGWIT_V1_ADDR_PREFIX.test(e))return vh(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${C.SEGWIT_V0_ADDR_PREFIX} or ${C.SEGWIT_V1_ADDR_PREFIX}`)}function Uu(e){try{if(C.B58_ADDR_PREFIXES.test(e)){let t=(0,Hu.base58CheckDecode)(e);return{version:Ku(t.version),data:t.hash}}else if(C.SEGWIT_ADDR_PREFIXES.test(e)){let t=xh(e);return{version:Oh(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new Jr(e,t)}}te.decodeBtcAddress=Uu;function Fu(e){let t=e;if(t.type!==Qe.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let n=t.data.version,r=t.data.hashbytes;if(n.type!==Qe.ClarityType.Buffer||r.type!==Qe.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:n.buffer[0],hashBytes:r.buffer}}te.extractPoxAddressFromClarityValue=Fu;function Nh(e){switch(e){case C.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case C.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case C.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case C.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case C.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case C.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case C.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case C.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case C.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case C.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case C.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case C.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case C.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case C.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case C.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case C.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case C.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case C.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case C.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case C.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case C.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case C.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case C.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case C.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case C.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case C.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case C.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}te.getErrorString=Nh;function Bh(e){let{version:t,data:n}=Uu(e),r=(0,Qe.bufferCV)((0,wh.bigIntToBytes)(BigInt(t),1)),i=(0,Qe.bufferCV)(n);return(0,Qe.tupleCV)({version:r,hashbytes:i})}te.poxAddressToTuple=Bh;function Mh(e,t){switch(e){case C.PoXAddressVersion.P2PKH:return C.BitcoinNetworkVersion[t].P2PKH;case C.PoXAddressVersion.P2SH:case C.PoXAddressVersion.P2SHP2WPKH:case C.PoXAddressVersion.P2SHP2WSH:return C.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function zu(e,t,n){if(!["mainnet","testnet","regtest"].includes(n))throw new Error("Invalid network.");switch(e){case C.PoXAddressVersion.P2PKH:case C.PoXAddressVersion.P2SH:case C.PoXAddressVersion.P2SHP2WPKH:case C.PoXAddressVersion.P2SHP2WSH:{let r=Mh(e,n);return(0,Hu.base58CheckEncode)(r,t)}case C.PoXAddressVersion.P2WPKH:case C.PoXAddressVersion.P2WSH:{let r=Rt.base.bech32.toWords(t);return Rt.base.bech32.encode(C.SegwitPrefix[n],[C.SEGWIT_V0,...r])}case C.PoXAddressVersion.P2TR:{let r=Rt.base.bech32m.toWords(t);return Rt.base.bech32m.encode(C.SegwitPrefix[n],[C.SEGWIT_V1,...r])}}throw new Error(`Unexpected address version: ${e}`)}function Vh(e,t){let n=Fu(e);return zu(n.version,n.hashBytes,t)}function kh(...e){return typeof e[0]=="number"?zu(e[0],e[1],e[2]):Vh(e[0],e[1])}te.poxAddressToBtcAddress=kh;function Dh(e){if(e.type===Qe.ClarityType.OptionalSome)return e.value;if(e.type!==Qe.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}te.unwrap=Dh;function Lh(e,t){if(e.type===Qe.ClarityType.OptionalSome)return t(e.value);if(e.type!==Qe.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}te.unwrapMap=Lh;function Hh(e){if(e.period===C.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}te.ensurePox2Activated=Hh;function Kh({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!C.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}te.ensureLegacyBtcAddressForPox1=Kh});var ds=y(Ve=>{a();c();var Uh=Ve&&Ve.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Fh=Ve&&Ve.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Uh(t,e,n)};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getDelegateOptions=Ve.renamePrivateKey=Ve.stack=void 0;var zh=D(),qu=Gn(),Pe=ln(),us=cs();Fh(cs(),Ve);async function qh({contract:e,amountMicroStx:t,poxAddress:n,cycles:r,burnBlockHeight:i,...o}){(0,us.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:n});let s=$h({amountMicroStx:t,cycles:r,poxAddress:n,contract:e,burnBlockHeight:i}),u=await(0,Pe.makeContractCall)({...s,...$u(o)}),d=(0,Pe.addHex)(u.txid()),_=(0,zh.bytesToHex)(u.serialize());return{txId:d,txSerializedHexString:_}}Ve.stack=qh;function $h({amountMicroStx:e,poxAddress:t,cycles:n,contract:r,burnBlockHeight:i}){let o=(0,us.poxAddressToTuple)(t),[s,u]=jh(r);return{contractAddress:s,contractName:u,functionName:"stack-stx",functionArgs:[(0,Pe.uintCV)(e),o,(0,Pe.uintCV)(i),(0,Pe.uintCV)(n)],validateWithAbi:!0,network:new qu.StacksMainnet,anchorMode:Pe.AnchorMode.Any}}function jh(e){let t=e.split(".");if(t.length===2&&(0,Pe.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function $u(e){return e.senderKey=e.privateKey,delete e.privateKey,e}Ve.renamePrivateKey=$u;function Gh(e,t,n,r,i,o,s){let u=s?(0,Pe.someCV)((0,us.poxAddressToTuple)(s)):(0,Pe.noneCV)();return{contractAddress:e,contractName:t,functionName:n,functionArgs:[(0,Pe.uintCV)(r),(0,Pe.principalCV)(i),o?(0,Pe.someCV)((0,Pe.uintCV)(o)):(0,Pe.noneCV)(),u],validateWithAbi:!0,network:new qu.StacksMainnet,anchorMode:Pe.AnchorMode.Any}}Ve.getDelegateOptions=Gh});var ju=y(k=>{a();c();Object.defineProperty(k,"__esModule",{value:!0});k.getDeployPayload=k.getContractCallPayload=k.getRevokeDelegateStxPayload=k.getDelegateStxPayload=k.getAllowContractCallerPayload=k.getTokenTransferPayload=k.getTransferPayload=k.revokeDelegateStx=k.delegateStx=k.ContractDeployTx=k.makeContractCallTx=k.TransactionTypes=k.allowContractCaller=k.tokenTransfer=k.stacks=k.transfer=void 0;var l=ln(),vt=nn(),me=D(),Zr=Gn(),ls=ds();function Wh(e,t,n,r,i,o,s){let u=l.TransactionVersion.Mainnet,d=t,_=(0,l.createStandardPrincipal)(d),M=(0,l.standardPrincipalCV)(d),K=(0,vt.createTokenTransferPayload)(M,n,r),Q=l.AddressHashMode.SerializeP2PKH,v=(0,l.createStacksPrivateKey)(e),X=(0,me.bytesToHex)((0,l.getPublicKey)(v).data),ne=(0,l.createSingleSigSpendingCondition)(Q,X,i,o),re=(0,l.createStandardAuth)(ne),le=(0,l.createLPList)([]),se=new l.StacksTransaction(u,re,K,le,void 0,s);new l.TransactionSigner(se).signOrigin((0,l.createStacksPrivateKey)(e)),se.verifyOrigin();let ke=(0,l.addHex)(se.txid()),qe=se.serialize(),Re=(0,me.bytesToHex)(qe);return{txId:ke,txSerializedHexString:Re}}k.transfer=Wh;async function Xh(e,t,n,r,i,o,s,u,d){let _=new Zr.StacksMainnet;return await(0,ls.stack)({contract:s,amountMicroStx:r,poxAddress:n,cycles:i,privateKey:e,burnBlockHeight:o,fee:u,nonce:d})}k.stacks=Xh;async function Yh(e,t,n,r,i,o,s,u,d,_,M){let K=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:o,contractName:s,fee:M,functionArgs:[(0,l.uintCV)(i),(0,l.standardPrincipalCV)(t),(0,l.standardPrincipalCV)(n),(0,l.someCV)((0,l.bufferCVFromString)(r))],functionName:d,nonce:_,postConditionMode:l.PostConditionMode.Deny,postConditions:[(0,l.makeStandardFungiblePostCondition)(t,l.FungibleConditionCode.Equal,i,(0,l.createAssetInfo)(o,s,u))],senderKey:e,network:new Zr.StacksMainnet}),Q=(0,l.addHex)(K.txid()),v=(0,me.bytesToHex)(K.serialize());return{txId:Q,txSerializedHexString:v}}k.tokenTransfer=Yh;async function Jh(e,t,n,r,i,o,s,u){let d=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:n,contractName:r,fee:u,functionArgs:[(0,l.principalCV)(t),o?(0,l.someCV)((0,l.uintCV)(o)):(0,l.noneCV)()],functionName:i,nonce:s,senderKey:e,network:new Zr.StacksMainnet}),_=(0,l.addHex)(d.txid()),M=(0,me.bytesToHex)(d.serialize());return{txId:_,txSerializedHexString:M}}k.allowContractCaller=Jh;var Zh;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(Zh=k.TransactionTypes||(k.TransactionTypes={}));async function Qh(e,t){let{txData:n,nonce:r,fee:i}=e,{contractName:o,contractAddress:s,functionName:u,functionArgs:d,sponsored:_,postConditionMode:M,postConditions:K,anchorMode:Q}=n,v=d.map(se=>(0,l.deserializeCV)((0,l.hexToBuff)(se))),X={senderKey:t,contractName:o,contractAddress:s,functionName:u,anchorMode:Q??l.AnchorMode.Any,functionArgs:v,nonce:r,fee:i,postConditionMode:M,postConditions:K?.map(l.postConditionFromString),sponsored:_},ne=await(0,l.makeContractCall)(X),re=(0,l.addHex)(ne.txid()),le=(0,me.bytesToHex)(ne.serialize());return{txId:re,txSerializedHexString:le}}k.makeContractCallTx=Qh;async function eC(e,t){let{txData:n,nonce:r,fee:i}=e,{contractName:o,codeBody:s,postConditions:u,postConditionMode:d,anchorMode:_}=n,M={senderKey:t,contractName:o,codeBody:s,nonce:r,fee:i,anchorMode:_??l.AnchorMode.Any,postConditionMode:d,postConditions:u?.map(l.postConditionFromString)},K=await(0,l.makeContractDeploy)(M),Q=(0,l.addHex)(K.txid()),v=(0,me.bytesToHex)(K.serialize());return{txId:Q,txSerializedHexString:v}}k.ContractDeployTx=eC;async function tC(e,t,n,r,i,o,s,u,d,_){let M=(0,ls.getDelegateOptions)(t,n,r,s,i,u,o),K=await(0,l.makeContractCall)({...M,senderKey:e,nonce:d,fee:_}),Q=(0,l.addHex)(K.txid()),v=(0,me.bytesToHex)(K.serialize());return{txId:Q,txSerializedHexString:v}}k.delegateStx=tC;async function nC(e,t,n,r,i,o){let s=await(0,l.makeContractCall)({anchorMode:l.AnchorMode.Any,contractAddress:t,contractName:n,fee:o,functionArgs:[],functionName:r,nonce:i,senderKey:e,network:new Zr.StacksMainnet}),u=(0,l.addHex)(s.txid()),d=(0,me.bytesToHex)(s.serialize());return{txId:u,txSerializedHexString:d}}k.revokeDelegateStx=nC;function rC(e,t,n){let r=e,i=(0,l.standardPrincipalCV)(r),o=(0,vt.createTokenTransferPayload)(i,t,n),s=(0,l.serializePayload)(o);return(0,me.bytesToHex)(s)}k.getTransferPayload=rC;function iC(e,t,n,r,i,o,s){let u=(0,vt.createContractCallPayload)(i,o,s,[(0,l.uintCV)(r),(0,l.standardPrincipalCV)(e),(0,l.standardPrincipalCV)(t),(0,l.someCV)((0,l.bufferCVFromString)(n))]),d=(0,l.serializePayload)(u);return(0,me.bytesToHex)(d)}k.getTokenTransferPayload=iC;function oC(e,t,n,r,i){let o=(0,vt.createContractCallPayload)(t,n,r,[(0,l.principalCV)(e),i?(0,l.someCV)((0,l.uintCV)(i)):(0,l.noneCV)()]),s=(0,l.serializePayload)(o);return(0,me.bytesToHex)(s)}k.getAllowContractCallerPayload=oC;function sC(e,t,n,r,i,o,s){let u=i?(0,l.someCV)((0,ls.poxAddressToTuple)(i)):(0,l.noneCV)(),d=[(0,l.uintCV)(o),(0,l.principalCV)(r),s?(0,l.someCV)((0,l.uintCV)(s)):(0,l.noneCV)(),u],_=(0,vt.createContractCallPayload)(e,t,n,d),M=(0,l.serializePayload)(_);return(0,me.bytesToHex)(M)}k.getDelegateStxPayload=sC;function aC(e,t,n){let r=(0,vt.createContractCallPayload)(e,t,n,[]),i=(0,l.serializePayload)(r);return(0,me.bytesToHex)(i)}k.getRevokeDelegateStxPayload=aC;function cC(e,t,n,r){let i=r.map(u=>(0,l.deserializeCV)((0,l.hexToBuff)(u))),o=(0,vt.createContractCallPayload)(e,t,n,i),s=(0,l.serializePayload)(o);return(0,me.bytesToHex)(s)}k.getContractCallPayload=cC;function uC(e,t){let n=(0,vt.createSmartContractPayload)(e,t,l.ClarityVersion.Clarity2),r=(0,l.serializePayload)(n);return(0,me.bytesToHex)(r)}k.getDeployPayload=uC});var Wu=y(Qr=>{a();c();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.StxWallet=void 0;var Gu=Jn(),z=ve(),L=Xu(),fs=class extends z.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return Gu.bip39.mnemonicToSeedV2(t.mnemonic).then(n=>{let r=Gu.bip32.fromSeedV2(n,t.hdPath);return r.privateKey?Promise.resolve(z.base.toHex(r.privateKey)+"01"):Promise.reject(z.GenPrivateKeyError)}).catch(n=>Promise.reject(z.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=z.base.randomBytes(32);if((0,z.secp256k1SignTest)(t))return Promise.resolve(z.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(z.GenPrivateKeyError)}getNewAddress(t){try{let n=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,r=(0,L.createStacksPrivateKey)(n.toLowerCase()),i=z.base.toHex((0,L.getPublicKey)(r).data),o;t.version&&t.version==="Testnet"?o=(0,L.getAddressFromPublicKey)(i,L.TransactionVersion.Testnet):o=(0,L.getAddressFromPublicKey)(i);let s={address:o,publicKey:i};return Promise.resolve(s)}catch{return Promise.reject(z.NewAddressError)}}checkPrivateKey(t){return t.toLowerCase().startsWith("0x")&&(t=t.substring(2)),(0,L.createStacksPrivateKey)(t),!0}async validPrivateKey(t){let n;try{n=this.checkPrivateKey(t.privateKey)}catch{n=!1}let r={isValid:n,privateKey:t.privateKey};return Promise.resolve(r)}async signTransaction(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let n=t.data;if(n.type=="transfer"){let r=n.data;if(r.to==null||r.amount==null||r.nonce==null||r.fee==null)return Promise.reject(z.SignTxError);let i=(0,L.transfer)(t.privateKey,r.to,r.amount,r.memo,r.nonce,r.fee,r.anchorMode);return Promise.resolve(i)}else if(n.type=="tokenTransfer"){let r=n.data;if(r.from==null||r.to==null||r.amount==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(z.SignTxError);let i=await(0,L.tokenTransfer)(t.privateKey,r.from,r.to,r.memo,r.amount,r.contract,r.contractName,r.tokenName,r.functionName,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="allowContractCaller"){let r=n.data;if(r.caller==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(z.SignTxError);let i=await(0,L.allowContractCaller)(t.privateKey,r.caller,r.contract,r.contractName,r.functionName,r.untilBurnBlockHeight,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="delegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null||r.amountMicroStx==null||r.delegateTo==null)return Promise.reject(z.SignTxError);let i=await(0,L.delegateStx)(t.privateKey,r.contract,r.contractName,r.functionName,r.delegateTo,r.poxAddress,r.amountMicroStx,r.untilBurnBlockHeight,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="revokeDelegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(z.SignTxError);let i=await(0,L.revokeDelegateStx)(t.privateKey,r.contract,r.contractName,r.functionName,r.nonce,r.fee);return Promise.resolve(i)}else if(n.type=="contractCall"){let r=n.data,i=await(0,L.makeContractCallTx)(r,t.privateKey);return Promise.resolve(i)}else if(n.type=="deployContract"){let r=n.data,i=await(0,L.ContractDeployTx)(r,t.privateKey);return Promise.resolve(i)}return Promise.reject(z.SignTxError)}catch(n){return Promise.reject(n)}}async signCommonMsg(t){let n=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,r=(0,L.createStacksPrivateKey)(n.toLowerCase()),i=r.compressed?z.base.toHex(r.data.slice(0,32)):z.base.toHex(r.data);return super.signCommonMsg({privateKey:t.privateKey,privateKeyHex:i,message:t.message,signType:z.SignType.Secp256k1,version:t.version})}async signMessage(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let n=(0,L.createStacksPrivateKey)(t.privateKey);if(t.data.type=="signMessage"){let r=(0,L.hashMessage)(t.data.message),i=(0,L.signMessageHashRsv)({messageHash:(0,L.bytesToHex)(r),privateKey:n});return Promise.resolve({signature:i.data,publicKey:(0,L.publicKeyToString)((0,L.getPublicKey)(n))})}else if(t.data.type=="signStructuredData"){let r=t.data.message,i=t.data.domain,o=(0,L.signStructuredData)({message:r,domain:i,privateKey:n}).data;return Promise.resolve({signature:o,publicKey:(0,L.publicKeyToString)((0,L.getPublicKey)(n))})}}catch{return Promise.reject(z.SignMsgError)}}async verifyMessage(t){try{let n=t.data;if(n.publicKey===void 0)return Promise.reject(z.SignMsgError);let r=t.signature,i=(0,L.hashMessage)(t.data.message),o=n.publicKey;return Promise.resolve((0,L.verifyMessageSignatureRsv)({signature:r,message:i,publicKey:o}))}catch(n){return Promise.reject(n)}}validAddress(t){let n;try{n=(0,L.validateStacksAddress)(t.address)}catch{n=!1}let r={isValid:n,address:t.address};return Promise.resolve(r)}getRawTransaction(t){try{let n=t.data;if(n.type=="transfer"){let r=n.data;if(r.to==null||r.amount==null)return Promise.reject(z.GetPayLoadError);let i=(0,L.getTransferPayload)(r.to,r.amount,r.memo);return Promise.resolve(i)}else if(n.type=="tokenTransfer"){let r=n.data;if(r.from==null||r.to==null||r.amount==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(z.GetPayLoadError);let i=(0,L.getTokenTransferPayload)(r.from,r.to,r.memo,r.amount,r.contract,r.contractName,r.functionName);return Promise.resolve(i)}else if(n.type=="allowContractCaller"){let r=n.data;if(r.caller==null||r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(z.GetPayLoadError);let i=(0,L.getAllowContractCallerPayload)(r.caller,r.contract,r.contractName,r.functionName,r.untilBurnBlockHeight);return Promise.resolve(i)}else if(n.type=="delegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null||r.amountMicroStx==null||r.delegateTo==null)return Promise.reject(z.GetPayLoadError);let i=(0,L.getDelegateStxPayload)(r.contract,r.contractName,r.functionName,r.delegateTo,r.poxAddress,r.amountMicroStx,r.untilBurnBlockHeight);return Promise.resolve(i)}else if(n.type=="revokeDelegateStx"){let r=n.data;if(r.contract==null||r.contractName==null||r.functionName==null)return Promise.reject(z.GetPayLoadError);let i=(0,L.getRevokeDelegateStxPayload)(r.contract,r.contractName,r.functionName);return Promise.resolve(i)}else if(n.type=="contractCall"){let r=n.data,i=(0,L.getContractCallPayload)(r.contract,r.contractName,r.functionName,r.functionArgs);return Promise.resolve(i)}else if(n.type=="deployContract"){let r=n.data,i=(0,L.getDeployPayload)(r.contractName,r.codeBody);return Promise.resolve(i)}return Promise.reject(z.GetPayLoadError)}catch{return Promise.reject(z.GetPayLoadError)}}};Qr.StxWallet=fs});var Xu=y(de=>{a();c();var dC=de&&de.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),An=de&&de.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&dC(t,e,n)};Object.defineProperty(de,"__esModule",{value:!0});de.verifyMessageSignatureRsv=de.hashMessage=de.bytesToHex=void 0;An(ln(),de);An(ds(),de);An(Gn(),de);An(zt(),de);An(ju(),de);var lC=D();Object.defineProperty(de,"bytesToHex",{enumerable:!0,get:function(){return lC.bytesToHex}});var Yu=as();Object.defineProperty(de,"hashMessage",{enumerable:!0,get:function(){return Yu.hashMessage}});Object.defineProperty(de,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return Yu.verifyMessageSignatureRsv}});An(Wu(),de)});export{Xu as a};
//# sourceMappingURL=chunk-A7SCS5BB.js.map
