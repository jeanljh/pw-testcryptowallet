import{A as wi,B as xi,D as Ri,E as Di,F as Bi,H as Ui,n as ti,q as Ti,r as Ei,w as Ai,x as on}from"./chunk-5JUYNHHM.js";import{f as gi,h as de,i as an,p as At}from"./chunk-YAZIRKLK.js";import{a as fr,d as Ii}from"./chunk-3FSEKPUM.js";import{b as yi,e as bi}from"./chunk-UNX7SSQ5.js";import{a as Oi,b as Ci,c as sn,d as cn,e as hr,f as Pi,g as ki,h as un,l as I,m as _e,n as Ot,o as Vi,p as E,s as Fi}from"./chunk-7V2EB5SJ.js";import{a as oi,b as ii,d as ai}from"./chunk-6PQVK4Y4.js";import{k as Mi}from"./chunk-46D3AKOR.js";import{a as q}from"./chunk-B65FDDLM.js";import{a as vi}from"./chunk-CHJAVPER.js";import{a as ri,e as Et,k as ni}from"./chunk-T2IRCTJA.js";import{a as si,b as ci,c as ui,e as di,g as li}from"./chunk-NDCJG34S.js";import{a as Ni}from"./chunk-XPWDQTID.js";import{a as Li}from"./chunk-XSDSRNBQ.js";import{b as P}from"./chunk-ALZVVIHH.js";import{$ as Ho,E as nn,K as T,L as y,N as jo,V as Go,X as tt,Y as qo,aa as Ko,ba as zo,ca as Yo,da as sr,ea as Xo,fa as cr,ga as Qo,ha as ur,ia as Jo,ja as Zo,ma as ei,na as dr,q as Fo,r as tn}from"./chunk-SPXYT2VO.js";import{d as rn,k as Uo}from"./chunk-7CFB2XTF.js";import{B as ar,C as $o,i as Wo}from"./chunk-FLUPYUSZ.js";import{H as io,I as Oe,a as zs,l as oo,y as W,z as pe}from"./chunk-UC2GDSBD.js";import{a as fi,b as mi,c as lr,d as hi,e as pi,f as xe,g as _i}from"./chunk-EGQ54WS5.js";import{a as Bo}from"./chunk-OE3Y2WW2.js";import{b as en,d as et,f as Ae,g as or,i as ir,j as Lo,t as Ce,v as Vo}from"./chunk-PI6SXITR.js";import{$b as To,Ba as be,Ca as Fe,Da as Ze,Eb as Te,F as St,Ga as Tt,Gb as yo,I as yt,J as fo,Ja as Jr,Kc as Co,Mb as Ee,Mc as Io,P as zr,Pc as wo,Q as Yr,R as mo,Rc as No,S as ho,Tc as xo,U as po,Uc as Ro,_b as bo,ca as Xr,da as Qr,ga as J,ja as _o,ka as go,kc as Eo,kd as Do,p as ae,qb as Zr,r as lo,rb as N,sb as vo,sd as Po,tb as $,tc as Ao,td as ko,uc as Oo,vb as So,vd as S,ya as nr,za as bt}from"./chunk-LZ43QKYM.js";import{b as Si,c as mr}from"./chunk-LLRT7ZCZ.js";import{a as Q}from"./chunk-LH3J3TLH.js";import{F as Kr,H as w,S as rr,U as co,c as ao,da as uo,ea as z,g as Jt,h as Zt,k as G,l as so,m as Je,n as er,u as tr}from"./chunk-XEVJKE53.js";import{ae as Mo}from"./chunk-AOCKZLRR.js";import{B as no,C as vt,R as Xt,W as Hr,_ as Be,f as eo,j as D,q as qr,u as to,v as Yt,y as ro}from"./chunk-NLHAZXT3.js";import{t as M}from"./chunk-YP7AL7GO.js";import{a as Qt}from"./chunk-6N5VE5LT.js";import{a as ie}from"./chunk-6YOUVTKE.js";import{f as U,h as c,o as f,q as m}from"./chunk-4J7XGGEQ.js";f();m();Be();f();m();Be();f();m();f();m();var ku=U(ie());f();m();var pr=U(ie());f();m();var Wi=U(ie());var dd=(0,Wi.createContext)({initialProps:{},getInitialProps:()=>Promise.reject(Error("You may forget to use InitialPropsProvider"))});f();m();var Cd=U(ie());f();m();f();m();function O(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];if(!1)var o;throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var Xs={};function na(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:Xs}var oa=Object.assign,Sr=Object.getOwnPropertyDescriptor,ge=Object.defineProperty,Ir=Object.prototype,pn=[];Object.freeze(pn);var ia={};Object.freeze(ia);var Qs=typeof Proxy<"u",Js=Object.toString();function aa(){Qs||O("Proxy not available")}function sa(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var nt=function(){};function me(n){return typeof n=="function"}function We(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function wr(n){return n!==null&&typeof n=="object"}function we(n){if(!wr(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===Js}function ca(n){var e=n?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function Nr(n,e,t){ge(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function ua(n,e,t){ge(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function je(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return wr(r)&&r[t]===!0}}function lt(n){return n instanceof Map}function kt(n){return n instanceof Set}var da=typeof Object.getOwnPropertySymbols<"u";function Zs(n){var e=Object.keys(n);if(!da)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return Ir.propertyIsEnumerable.call(n,r)})):e}var It=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:da?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function la(n){return n===null?null:typeof n=="object"?""+n:n}function De(n,e){return Ir.hasOwnProperty.call(n,e)}var ec=Object.getOwnPropertyDescriptors||function(e){var t={};return It(e).forEach(function(r){t[r]=Sr(e,r)}),t};function $i(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,nc(r.key),r)}}function Tn(n,e,t){return e&&$i(n.prototype,e),t&&$i(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function wt(){return wt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wt.apply(this,arguments)}function fa(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_n(n,e)}function _n(n,e){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_n(n,e)}function dn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tc(n,e){if(!!n){if(typeof n=="string")return ji(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ji(n,e)}}function ji(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ot(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=tc(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rc(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nc(n){var e=rc(n,"string");return typeof e=="symbol"?e:String(e)}var it=Symbol("mobx-stored-annotations");function ve(n){function e(t,r){Mt(t,r,n)}return Object.assign(e,n)}function Mt(n,e,t){if(De(n,it)||Nr(n,it,wt({},n[it])),!1)var r;oc(n,t,e),fc(t)||(n[it][e]=t)}function oc(n,e,t){if(!1)var r,o,i}var b=Symbol("mobx administration"),Lt=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=A.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return Ra(this)},e.reportChanged=function(){re(),Da(this),ne()},e.toString=function(){return this.name_},n}(),En=je("Atom",Lt);function ma(n,e,t){e===void 0&&(e=nt),t===void 0&&(t=nt);var r=new Lt(n);return e!==nt&&fu(r,e),t!==nt&&Fa(r,t),r}function ic(n,e){return n===e}function ac(n,e){return Nn(n,e)}function sc(n,e){return Nn(n,e,1)}function cc(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var yr={identity:ic,structural:ac,default:cc,shallow:sc};function ct(n,e,t){return ja(n)?n:Array.isArray(n)?H.array(n,{name:t}):we(n)?H.object(n,void 0,{name:t}):lt(n)?H.map(n,{name:t}):kt(n)?H.set(n,{name:t}):typeof n=="function"&&!Cn(n)&&!Ar(n)?ca(n)?Rt(n):xt(t,n):n}function uc(n,e,t){if(n==null||Dt(n)||kr(n)||Ge(n)||mt(n))return n;if(Array.isArray(n))return H.array(n,{name:t,deep:!1});if(we(n))return H.object(n,void 0,{name:t,deep:!1});if(lt(n))return H.map(n,{name:t,deep:!1});if(kt(n))return H.set(n,{name:t,deep:!1})}function xr(n){return n}function dc(n,e){return Nn(n,e)?e:n}var lc="override";function fc(n){return n.annotationType_===lc}function Vt(n,e){return{annotationType_:n,options_:e,make_:mc,extend_:hc}}function mc(n,e,t,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Cn(t.value))return 1;var i=ha(n,this,e,t,!1);return ge(r,e,i),2}function hc(n,e,t,r){var o=ha(n,this,e,t);return n.defineProperty_(e,o,r)}function pc(n,e,t,r){var o=e.annotationType_,i=r.value}function ha(n,e,t,r,o){var i,a,s,u,d,l,h;o===void 0&&(o=p.safeDescriptors),pc(n,e,t,r);var v=r.value;if((i=e.options_)!=null&&i.bound){var C;v=v.bind((C=n.proxy_)!=null?C:n.target_)}return{value:ut((a=(s=e.options_)==null?void 0:s.name)!=null?a:t.toString(),v,(u=(d=e.options_)==null?void 0:d.autoAction)!=null?u:!1,(l=e.options_)!=null&&l.bound?(h=n.proxy_)!=null?h:n.target_:void 0),configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function pa(n,e){return{annotationType_:n,options_:e,make_:_c,extend_:gc}}function _c(n,e,t,r){var o;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!De(n.target_,e)||!Ar(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(Ar(t.value))return 1;var i=_a(n,this,e,t,!1,!1);return ge(r,e,i),2}function gc(n,e,t,r){var o,i=_a(n,this,e,t,(o=this.options_)==null?void 0:o.bound);return n.defineProperty_(e,i,r)}function vc(n,e,t,r){var o=e.annotationType_,i=r.value}function _a(n,e,t,r,o,i){i===void 0&&(i=p.safeDescriptors),vc(n,e,t,r);var a=r.value;if(Ar(a)||(a=Rt(a)),o){var s;a=a.bind((s=n.proxy_)!=null?s:n.target_),a.isMobXFlow=!0}return{value:a,configurable:i?n.isPlainObject_:!0,enumerable:!1,writable:!i}}function An(n,e){return{annotationType_:n,options_:e,make_:Sc,extend_:yc}}function Sc(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function yc(n,e,t,r){return bc(n,this,e,t),n.defineComputedProperty_(e,wt({},this.options_,{get:t.get,set:t.set}),r)}function bc(n,e,t,r){var o=e.annotationType_,i=r.get}function Rr(n,e){return{annotationType_:n,options_:e,make_:Tc,extend_:Ec}}function Tc(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function Ec(n,e,t,r){var o,i;return Ac(n,this,e,t),n.defineObservableProperty_(e,t.value,(o=(i=this.options_)==null?void 0:i.enhancer)!=null?o:ct,r)}function Ac(n,e,t,r){var o=e.annotationType_}var Oc="true",Cc=ga();function ga(n){return{annotationType_:Oc,options_:n,make_:Ic,extend_:wc}}function Ic(n,e,t,r){var o,i;if(t.get)return Dr.make_(n,e,t,r);if(t.set){var a=ut(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:p.safeDescriptors?n.isPlainObject_:!0,set:a})===null?0:2:(ge(r,e,{configurable:!0,set:a}),2)}if(r!==n.target_&&typeof t.value=="function"){var s;if(ca(t.value)){var u,d=(u=this.options_)!=null&&u.autoBind?Rt.bound:Rt;return d.make_(n,e,t,r)}var l=(s=this.options_)!=null&&s.autoBind?xt.bound:xt;return l.make_(n,e,t,r)}var h=((o=this.options_)==null?void 0:o.deep)===!1?H.ref:H;if(typeof t.value=="function"&&(i=this.options_)!=null&&i.autoBind){var v;t.value=t.value.bind((v=n.proxy_)!=null?v:n.target_)}return h.make_(n,e,t,r)}function wc(n,e,t,r){var o,i;if(t.get)return Dr.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:p.safeDescriptors?n.isPlainObject_:!0,set:ut(e.toString(),t.set)},r);if(typeof t.value=="function"&&(o=this.options_)!=null&&o.autoBind){var a;t.value=t.value.bind((a=n.proxy_)!=null?a:n.target_)}var s=((i=this.options_)==null?void 0:i.deep)===!1?H.ref:H;return s.extend_(n,e,t,r)}var Nc="observable",xc="observable.ref",Rc="observable.shallow",Dc="observable.struct",va={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(va);function _r(n){return n||va}var Sa=Rr(Nc),Pc=Rr(xc,{enhancer:xr}),kc=Rr(Rc,{enhancer:uc}),Mc=Rr(Dc,{enhancer:dc}),ya=ve(Sa);function gr(n){return n.deep===!0?ct:n.deep===!1?xr:Vc(n.defaultDecorator)}function Lc(n){var e;return n?(e=n.defaultDecorator)!=null?e:ga(n):void 0}function Vc(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:ct}function ba(n,e,t){if(We(e)){Mt(n,e,Sa);return}return ja(n)?n:we(n)?H.object(n,e,t):Array.isArray(n)?H.array(n,e):lt(n)?H.map(n,e):kt(n)?H.set(n,e):typeof n=="object"&&n!==null?n:H.box(n,e)}oa(ba,ya);var Bc={box:function(e,t){var r=_r(t);return new st(e,gr(r),r.name,!0,r.equals)},array:function(e,t){var r=_r(t);return(p.useProxies===!1||r.proxy===!1?Ru:Tu)(e,gr(r),r.name)},map:function(e,t){var r=_r(t);return new za(e,gr(r),r.name)},set:function(e,t){var r=_r(t);return new Qa(e,gr(r),r.name)},object:function(e,t,r){return Wa(p.useProxies===!1||r?.proxy===!1?Mr({},r):Su({},r),e,t)},ref:ve(Pc),shallow:ve(kc),deep:ya,struct:ve(Mc)},H=oa(ba,Bc),Ta="computed",Fc="computed.struct",Ea=An(Ta),Uc=An(Fc,{equals:yr.structural}),Dr=function(e,t){if(We(t))return Mt(e,t,Ea);if(we(e))return ve(An(Ta,e));var r=we(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new Nt(r)};Object.assign(Dr,Ea);Dr.struct=ve(Uc);var Gi,qi,br=0,Wc=1,$c=(Gi=(qi=Sr(function(){},"name"))==null?void 0:qi.configurable)!=null?Gi:!1,Hi={value:"action",configurable:!0,writable:!1,enumerable:!1};function ut(n,e,t,r){t===void 0&&(t=!1);function o(){return jc(n,t,e,r||this,arguments)}return o.isMobxAction=!0,$c&&(Hi.value=n,ge(o,"name",Hi)),o}function jc(n,e,t,r,o){var i=Gc(n,e,r,o);try{return t.apply(r,o)}catch(a){throw i.error_=a,a}finally{qc(i)}}function Gc(n,e,t,r){var o=!1,i=0;if(!1)var a;var s=p.trackingDerivation,u=!e||!s;re();var d=p.allowStateChanges;u&&(ft(),d=Bt(!0));var l=On(!0),h={runAsAction_:u,prevDerivation_:s,prevAllowStateChanges_:d,prevAllowStateReads_:l,notifySpy_:o,startTime_:i,actionId_:Wc++,parentActionId_:br};return br=h.actionId_,h}function qc(n){br!==n.actionId_&&O(30),br=n.parentActionId_,n.error_!==void 0&&(p.suppressReactionErrors=!0),Ft(n.prevAllowStateChanges_),Ct(n.prevAllowStateReads_),ne(),n.runAsAction_&&ke(n.prevDerivation_),p.suppressReactionErrors=!1}function Hc(n,e){var t=Bt(n);try{return e()}finally{Ft(t)}}function Bt(n){var e=p.allowStateChanges;return p.allowStateChanges=n,e}function Ft(n){p.allowStateChanges=n}var Aa;Aa=Symbol.toPrimitive;var st=function(n){fa(e,n);function e(r,o,i,a,s){var u;return i===void 0&&(i="ObservableValue"),a===void 0&&(a=!0),s===void 0&&(s=yr.default),u=n.call(this,i)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=o,u.name_=i,u.equals=s,u.value_=o(r,void 0,i),u}var t=e.prototype;return t.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},t.set=function(o){var i=this.value_;if(o=this.prepareNewValue_(o),o!==p.UNCHANGED){var a=Ue();this.setNewValue_(o)}},t.prepareNewValue_=function(o){if(dt(this),se(this)){var i=ce(this,{object:this,type:Se,newValue:o});if(!i)return p.UNCHANGED;o=i.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?p.UNCHANGED:o},t.setNewValue_=function(o){var i=this.value_;this.value_=o,this.reportChanged(),le(this)&&fe(this,{type:Se,object:this,newValue:o,oldValue:i})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(o){return Ut(this,o)},t.observe_=function(o,i){return i&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Se,newValue:this.value_,oldValue:void 0}),Wt(this,o)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return la(this.get())},t[Aa]=function(){return this.valueOf()},e}(Lt);var Oa;Oa=Symbol.toPrimitive;var Nt=function(){function n(t){this.dependenciesState_=A.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=A.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Tr(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Pe.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||O(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=ut("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?yr.structural:yr.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){Qc(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&O(32,this.name_,this.derivation),p.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)gn(this)&&(this.warnAboutUntrackedRead_(),re(),this.value_=this.computeValue_(!1),ne());else if(Ra(this),gn(this)){var r=p.trackingContext;this.keepAlive_&&!r&&(p.trackingContext=this),this.trackAndCompute()&&Xc(this),p.trackingContext=r}var o=this.value_;if(vr(o))throw o.cause;return o},e.set=function(r){if(this.setter_){this.isRunningSetter_&&O(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else O(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===A.NOT_TRACKING_,i=this.computeValue_(!0),a=o||vr(r)||vr(i)||!this.equals_(r,i);return a&&(this.value_=i),a},e.computeValue_=function(r){this.isComputing_=!0;var o=Bt(!1),i;if(r)i=Ca(this,this.derivation,this.scope_);else if(p.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new Tr(a)}return Ft(o),this.isComputing_=!1,i},e.suspend_=function(){this.keepAlive_||(vn(this),this.value_=void 0)},e.observe_=function(r,o){var i=this,a=!0,s=void 0;return su(function(){var u=i.get();if(!a||o){var d=ft();r({observableKind:"computed",debugObjectName:i.name_,type:Se,object:i,newValue:u,oldValue:s}),ke(d)}a=!1,s=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return la(this.get())},e[Oa]=function(){return this.valueOf()},n}(),Pr=je("ComputedValue",Nt),A;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(A||(A={}));var Pe;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Pe||(Pe={}));var Tr=function(e){this.cause=void 0,this.cause=e};function vr(n){return n instanceof Tr}function gn(n){switch(n.dependenciesState_){case A.UP_TO_DATE_:return!1;case A.NOT_TRACKING_:case A.STALE_:return!0;case A.POSSIBLY_STALE_:{for(var e=On(!0),t=ft(),r=n.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(Pr(a)){if(p.disableErrorBoundaries)a.get();else try{a.get()}catch{return ke(t),Ct(e),!0}if(n.dependenciesState_===A.STALE_)return ke(t),Ct(e),!0}}return wa(n),ke(t),Ct(e),!1}}}function dt(n){return;var e}function Ca(n,e,t){var r=On(!0);wa(n),n.newObserving_=new Array(n.observing_.length+100),n.unboundDepsCount_=0,n.runId_=++p.runId;var o=p.trackingDerivation;p.trackingDerivation=n,p.inBatch++;var i;if(p.disableErrorBoundaries===!0)i=e.call(t);else try{i=e.call(t)}catch(a){i=new Tr(a)}return p.inBatch--,p.trackingDerivation=o,Kc(n),Ct(r),i}function Kc(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=A.UP_TO_DATE_,o=0,i=n.unboundDepsCount_,a=0;a<i;a++){var s=t[a];s.diffValue_===0&&(s.diffValue_=1,o!==a&&(t[o]=s),o++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(t.length=o,n.newObserving_=null,i=e.length;i--;){var u=e[i];u.diffValue_===0&&Na(u,n),u.diffValue_=0}for(;o--;){var d=t[o];d.diffValue_===1&&(d.diffValue_=0,Yc(d,n))}r!==A.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function vn(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)Na(e[t],n);n.dependenciesState_=A.NOT_TRACKING_}function Ia(n){var e=ft();try{return n()}finally{ke(e)}}function ft(){var n=p.trackingDerivation;return p.trackingDerivation=null,n}function ke(n){p.trackingDerivation=n}function On(n){var e=p.allowStateReads;return p.allowStateReads=n,e}function Ct(n){p.allowStateReads=n}function wa(n){if(n.dependenciesState_!==A.UP_TO_DATE_){n.dependenciesState_=A.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=A.UP_TO_DATE_}}var ln=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},fn=!0,zc=!1,p=function(){var n=na();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(fn=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new ln().version&&(fn=!1),fn?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new ln):(setTimeout(function(){zc||O(35)},1),new ln)}();function Yc(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function Na(n,e){n.observers_.delete(e),n.observers_.size===0&&xa(n)}function xa(n){n.isPendingUnobservation_===!1&&(n.isPendingUnobservation_=!0,p.pendingUnobservations.push(n))}function re(){p.inBatch++}function ne(){if(--p.inBatch===0){Pa();for(var n=p.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation_=!1,t.observers_.size===0&&(t.isBeingObserved_&&(t.isBeingObserved_=!1,t.onBUO()),t instanceof Nt&&t.suspend_())}p.pendingUnobservations=[]}}function Ra(n){var e=p.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved_&&p.trackingContext&&(n.isBeingObserved_=!0,n.onBO())),n.isBeingObserved_):(n.observers_.size===0&&p.inBatch>0&&xa(n),!1)}function Da(n){n.lowestObserverState_!==A.STALE_&&(n.lowestObserverState_=A.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===A.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=A.STALE_}))}function Xc(n){n.lowestObserverState_!==A.STALE_&&(n.lowestObserverState_=A.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===A.POSSIBLY_STALE_?e.dependenciesState_=A.STALE_:e.dependenciesState_===A.UP_TO_DATE_&&(n.lowestObserverState_=A.UP_TO_DATE_)}))}function Qc(n){n.lowestObserverState_===A.UP_TO_DATE_&&(n.lowestObserverState_=A.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===A.UP_TO_DATE_&&(e.dependenciesState_=A.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Sn=function(){function n(t,r,o,i){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=A.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Pe.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=i}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,p.pendingReactions.push(this),Pa())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){re(),this.isScheduled_=!1;var r=p.trackingContext;if(p.trackingContext=this,gn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}p.trackingContext=r,ne()}},e.track=function(r){if(!this.isDisposed_){re();var o=Ue(),i;this.isRunning_=!0;var a=p.trackingContext;p.trackingContext=this;var s=Ca(this,r,void 0);p.trackingContext=a,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&vn(this),vr(s)&&this.reportExceptionInDerivation_(s.cause),ne()}},e.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(p.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";p.suppressReactionErrors||console.error(i,r),p.globalReactionErrorHandlers.forEach(function(a){return a(r,o)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(re(),vn(this),ne()))},e.getDisposer_=function(){var r=this.dispose.bind(this);return r[b]=this,r},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){r===void 0&&(r=!1),_u(this,r)},n}();var Jc=100,Zc=function(e){return e()};function Pa(){p.inBatch>0||p.isRunningReactions||Zc(eu)}function eu(){p.isRunningReactions=!0;for(var n=p.pendingReactions,e=0;n.length>0;){++e===Jc&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,o=t.length;r<o;r++)t[r].runReaction_()}p.isRunningReactions=!1}var Er=je("Reaction",Sn);function Ue(){return!1}function tu(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ka="action",ru="action.bound",Ma="autoAction",nu="autoAction.bound",ou="<unnamed action>",La=Vt(ka),iu=Vt(ru,{bound:!0}),Va=Vt(Ma,{autoAction:!0}),au=Vt(nu,{autoAction:!0,bound:!0});function Ba(n){var e=function(r,o){if(me(r))return ut(r.name||ou,r,n);if(me(o))return ut(r,o,n);if(We(o))return Mt(r,o,n?Va:La);if(We(r))return ve(Vt(n?Ma:ka,{name:r,autoAction:n}))};return e}var at=Ba(!1);Object.assign(at,La);var xt=Ba(!0);Object.assign(xt,Va);at.bound=ve(iu);xt.bound=ve(au);function Cn(n){return me(n)&&n.isMobxAction===!0}function su(n,e){var t,r;e===void 0&&(e=ia);var o=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",i=!e.scheduler&&!e.delay,a;if(i)a=new Sn(o,function(){this.track(d)},e.onError,e.requiresObservable);else{var s=uu(e),u=!1;a=new Sn(o,function(){u||(u=!0,s(function(){u=!1,a.isDisposed_||a.track(d)}))},e.onError,e.requiresObservable)}function d(){n(a)}return a.schedule_(),a.getDisposer_()}var cu=function(e){return e()};function uu(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:cu}var du="onBO",lu="onBUO";function fu(n,e,t){return Ua(du,n,e,t)}function Fa(n,e,t){return Ua(lu,n,e,t)}function Ua(n,e,t,r){var o=typeof r=="function"?$e(e,t):$e(e),i=me(r)?r:t,a=n+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var s=o[a];s&&(s.delete(i),s.size===0&&delete o[a])}}function Wa(n,e,t,r){var o=ec(e),i=Mr(n,r)[b];re();try{It(o).forEach(function(a){i.extend_(a,o[a],t&&a in t?t[a]:!0)})}finally{ne()}return n}var mu=0;function $a(){this.message="FLOW_CANCELLED"}$a.prototype=Object.create(Error.prototype);var Ki=pa("flow"),hu=pa("flow.bound",{bound:!0}),Rt=Object.assign(function(e,t){if(We(t))return Mt(e,t,Ki);var r=e,o=r.name||"<unnamed flow>",i=function(){var s=this,u=arguments,d=++mu,l=at(o+" - runid: "+d+" - init",r).apply(s,u),h,v=void 0,C=new Promise(function(R,V){var k=0;h=V;function B(x){v=void 0;var oe;try{oe=at(o+" - runid: "+d+" - yield "+k++,l.next).call(l,x)}catch(K){return V(K)}te(oe)}function F(x){v=void 0;var oe;try{oe=at(o+" - runid: "+d+" - yield "+k++,l.throw).call(l,x)}catch(K){return V(K)}te(oe)}function te(x){if(me(x?.then)){x.then(te,V);return}return x.done?R(x.value):(v=Promise.resolve(x.value),v.then(B,F))}B(void 0)});return C.cancel=at(o+" - runid: "+d+" - cancel",function(){try{v&&zi(v);var R=l.return(void 0),V=Promise.resolve(R.value);V.then(nt,nt),zi(V),h(new $a)}catch(k){h(k)}}),C};return i.isMobXFlow=!0,i},Ki);Rt.bound=ve(hu);function zi(n){me(n.cancel)&&n.cancel()}function Ar(n){return n?.isMobXFlow===!0}function pu(n,e){return n?e!==void 0?Dt(n)?n[b].values_.has(e):!1:Dt(n)||!!n[b]||En(n)||Er(n)||Pr(n):!1}function ja(n){return pu(n)}function _u(){O("trace() is not available in production builds");for(var n=!1,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[t.length-1]=="boolean"&&(n=t.pop());var o=gu(t);if(!o)return O("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Pe.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=n?Pe.BREAK:Pe.LOG}function gu(n){switch(n.length){case 0:return p.trackingDerivation;case 1:return $e(n[0]);case 2:return $e(n[0],n[1])}}function Ie(n,e){e===void 0&&(e=void 0),re();try{return n.apply(e)}finally{ne()}}function rt(n){return n[b]}var vu={has:function(e,t){return rt(e).has_(t)},get:function(e,t){return rt(e).get_(t)},set:function(e,t,r){var o;return We(t)?(o=rt(e).set_(t,r,!0))!=null?o:!0:!1},deleteProperty:function(e,t){var r;return We(t)?(r=rt(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var o;return(o=rt(e).defineProperty_(t,r))!=null?o:!0},ownKeys:function(e){return rt(e).ownKeys_()},preventExtensions:function(e){O(13)}};function Su(n,e){var t,r;return aa(),n=Mr(n,e),(r=(t=n[b]).proxy_)!=null?r:t.proxy_=new Proxy(n,vu)}function se(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function Ut(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),sa(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function ce(n,e){var t=ft();try{for(var r=[].concat(n.interceptors_||[]),o=0,i=r.length;o<i&&(e=r[o](e),e&&!e.type&&O(14),!!e);o++);return e}finally{ke(t)}}function le(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function Wt(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),sa(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function fe(n,e){var t=ft(),r=n.changeListeners_;if(!!r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](e);ke(t)}}var mn=Symbol("mobx-keys");function Ga(n,e,t){if(we(n))return Wa(n,n,e,t);var r=Mr(n,t)[b];if(!n[mn]){var o=Object.getPrototypeOf(n),i=new Set([].concat(It(n),It(o)));i.delete("constructor"),i.delete(b),Nr(o,mn,i)}re();try{n[mn].forEach(function(a){return r.make_(a,e&&a in e?e[a]:!0)})}finally{ne()}return n}var Yi="splice",Se="update",yu=1e4,bu={get:function(e,t){var r=e[b];return t===b?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):De(Or,t)?Or[t]:e[t]},set:function(e,t,r){var o=e[b];return t==="length"&&o.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:o.set_(parseInt(t),r),!0},preventExtensions:function(){O(15)}},In=function(){function n(t,r,o,i){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=i,this.atom_=new Lt(t),this.enhancer_=function(a,s){return r(a,s,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return Ut(this,r)},e.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Wt(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&O("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var i=new Array(r-o),a=0;a<r-o;a++)i[a]=void 0;this.spliceWithArray_(o,0,i)}else this.spliceWithArray_(r,o-r)},e.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&O(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&ts(r+o+1)},e.spliceWithArray_=function(r,o,i){var a=this;dt(this.atom_);var s=this.values_.length;if(r===void 0?r=0:r>s?r=s:r<0&&(r=Math.max(0,s+r)),arguments.length===1?o=s-r:o==null?o=0:o=Math.max(0,Math.min(o,s-r)),i===void 0&&(i=pn),se(this)){var u=ce(this,{object:this.proxy_,type:Yi,index:r,removedCount:o,added:i});if(!u)return pn;o=u.removedCount,i=u.added}if(i=i.length===0?i:i.map(function(h){return a.enhancer_(h,void 0)}),this.legacyMode_){var d=i.length-o;this.updateArrayLength_(s,d)}var l=this.spliceItemsIntoValues_(r,o,i);return(o!==0||i.length!==0)&&this.notifyArraySplice_(r,i,l),this.dehanceValues_(l)},e.spliceItemsIntoValues_=function(r,o,i){if(i.length<yu){var a;return(a=this.values_).splice.apply(a,[r,o].concat(i))}else{var s=this.values_.slice(r,r+o),u=this.values_.slice(r+o);this.values_.length+=i.length-o;for(var d=0;d<i.length;d++)this.values_[r+d]=i[d];for(var l=0;l<u.length;l++)this.values_[r+i.length+l]=u[l];return s}},e.notifyArrayChildUpdate_=function(r,o,i){var a=!this.owned_&&Ue(),s=le(this),u=s||a?{observableKind:"array",object:this.proxy_,type:Se,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:i}:null;this.atom_.reportChanged(),s&&fe(this,u)},e.notifyArraySplice_=function(r,o,i){var a=!this.owned_&&Ue(),s=le(this),u=s||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Yi,index:r,removed:i,added:o,removedCount:i.length,addedCount:o.length}:null;this.atom_.reportChanged(),s&&fe(this,u)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,o){var i=this.values_;if(this.legacyMode_&&r>i.length&&O(17,r,i.length),r<i.length){dt(this.atom_);var a=i[r];if(se(this)){var s=ce(this,{type:Se,object:this.proxy_,index:r,newValue:o});if(!s)return;o=s.newValue}o=this.enhancer_(o,a);var u=o!==a;u&&(i[r]=o,this.notifyArrayChildUpdate_(r,o,a))}else{for(var d=new Array(r+1-i.length),l=0;l<d.length-1;l++)d[l]=void 0;d[d.length-1]=o,this.spliceWithArray_(i.length,0,d)}},n}();function Tu(n,e,t,r){t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),aa();var o=new In(t,e,r,!1);ua(o.values_,b,o);var i=new Proxy(o.values_,bu);if(o.proxy_=i,n&&n.length){var a=Bt(!0);o.spliceWithArray_(0,0,n),Ft(a)}return i}var Or={clear:function(){return this.splice(0)},replace:function(e){var t=this[b];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[b];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,o)},spliceWithArray:function(e,t,r){return this[b].spliceWithArray_(e,t,r)},push:function(){for(var e=this[b],t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[b].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[b],t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return p.trackingDerivation&&O(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){p.trackingDerivation&&O(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[b],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};j("concat",Ne);j("flat",Ne);j("includes",Ne);j("indexOf",Ne);j("join",Ne);j("lastIndexOf",Ne);j("slice",Ne);j("toString",Ne);j("toLocaleString",Ne);j("every",Me);j("filter",Me);j("find",Me);j("findIndex",Me);j("flatMap",Me);j("forEach",Me);j("map",Me);j("some",Me);j("reduce",qa);j("reduceRight",qa);function j(n,e){typeof Array.prototype[n]=="function"&&(Or[n]=e(n))}function Ne(n){return function(){var e=this[b];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function Me(n){return function(e,t){var r=this,o=this[b];o.atom_.reportObserved();var i=o.dehanceValues_(o.values_);return i[n](function(a,s){return e.call(t,a,s,r)})}}function qa(n){return function(){var e=this,t=this[b];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),o=arguments[0];return arguments[0]=function(i,a,s){return o(i,a,s,e)},r[n].apply(r,arguments)}}var Eu=je("ObservableArrayAdministration",In);function kr(n){return wr(n)&&Eu(n[b])}var Ha,Ka,Au={},Re="add",Cr="delete";Ha=Symbol.iterator;Ka=Symbol.toStringTag;var za=function(){function n(t,r,o){var i=this;r===void 0&&(r=ct),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[b]=Au,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,me(Map)||O(18),this.keysAtom_=ma("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Hc(!0,function(){i.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var o=this;if(!p.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new st(this.has_(r),xr,"ObservableMap.key?",!1);this.hasMap_.set(r,a),Fa(a,function(){return o.hasMap_.delete(r)})}return i.get()},e.set=function(r,o){var i=this.has_(r);if(se(this)){var a=ce(this,{type:i?Se:Re,object:this,newValue:o,name:r});if(!a)return this;o=a.newValue}return i?this.updateValue_(r,o):this.addValue_(r,o),this},e.delete=function(r){var o=this;if(dt(this.keysAtom_),se(this)){var i=ce(this,{type:Cr,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=Ue(),s=le(this),u=s||a?{observableKind:"map",debugObjectName:this.name_,type:Cr,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ie(function(){var d;o.keysAtom_.reportChanged(),(d=o.hasMap_.get(r))==null||d.setNewValue_(!1);var l=o.data_.get(r);l.setNewValue_(void 0),o.data_.delete(r)}),s&&fe(this,u),!0}return!1},e.updateValue_=function(r,o){var i=this.data_.get(r);if(o=i.prepareNewValue_(o),o!==p.UNCHANGED){var a=Ue(),s=le(this),u=s||a?{observableKind:"map",debugObjectName:this.name_,type:Se,object:this,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),s&&fe(this,u)}},e.addValue_=function(r,o){var i=this;dt(this.keysAtom_),Ie(function(){var d,l=new st(o,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,l),o=l.value_,(d=i.hasMap_.get(r))==null||d.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=Ue(),s=le(this),u=s||a?{observableKind:"map",debugObjectName:this.name_,type:Re,object:this,name:r,newValue:o}:null;s&&fe(this,u)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,o=this.keys();return Pt({next:function(){var a=o.next(),s=a.done,u=a.value;return{done:s,value:s?void 0:r.get(u)}}})},e.entries=function(){var r=this,o=this.keys();return Pt({next:function(){var a=o.next(),s=a.done,u=a.value;return{done:s,value:s?void 0:[u,r.get(u)]}}})},e[Ha]=function(){return this.entries()},e.forEach=function(r,o){for(var i=ot(this),a;!(a=i()).done;){var s=a.value,u=s[0],d=s[1];r.call(o,d,u,this)}},e.merge=function(r){var o=this;return Ge(r)&&(r=new Map(r)),Ie(function(){we(r)?Zs(r).forEach(function(i){return o.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],s=i[1];return o.set(a,s)}):lt(r)?(r.constructor!==Map&&O(19,r),r.forEach(function(i,a){return o.set(a,i)})):r!=null&&O(20,r)}),this},e.clear=function(){var r=this;Ie(function(){Ia(function(){for(var o=ot(r.keys()),i;!(i=o()).done;){var a=i.value;r.delete(a)}})})},e.replace=function(r){var o=this;return Ie(function(){for(var i=Ou(r),a=new Map,s=!1,u=ot(o.data_.keys()),d;!(d=u()).done;){var l=d.value;if(!i.has(l)){var h=o.delete(l);if(h)s=!0;else{var v=o.data_.get(l);a.set(l,v)}}}for(var C=ot(i.entries()),R;!(R=C()).done;){var V=R.value,k=V[0],B=V[1],F=o.data_.has(k);if(o.set(k,B),o.data_.has(k)){var te=o.data_.get(k);a.set(k,te),F||(s=!0)}}if(!s)if(o.data_.size!==a.size)o.keysAtom_.reportChanged();else for(var x=o.data_.keys(),oe=a.keys(),K=x.next(),Qe=oe.next();!K.done;){if(K.value!==Qe.value){o.keysAtom_.reportChanged();break}K=x.next(),Qe=oe.next()}o.data_=a}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,o){return Wt(this,r)},e.intercept_=function(r){return Ut(this,r)},Tn(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Ka,get:function(){return"Map"}}]),n}(),Ge=je("ObservableMap",za);function Ou(n){if(lt(n)||Ge(n))return n;if(Array.isArray(n))return new Map(n);if(we(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return O(21,n)}var Ya,Xa,Cu={};Ya=Symbol.iterator;Xa=Symbol.toStringTag;var Qa=function(){function n(t,r,o){r===void 0&&(r=ct),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[b]=Cu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,me(Set)||O(22),this.atom_=ma(this.name_),this.enhancer_=function(i,a){return r(i,a,o)},t&&this.replace(t)}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Ie(function(){Ia(function(){for(var o=ot(r.data_.values()),i;!(i=o()).done;){var a=i.value;r.delete(a)}})})},e.forEach=function(r,o){for(var i=ot(this),a;!(a=i()).done;){var s=a.value;r.call(o,s,s,this)}},e.add=function(r){var o=this;if(dt(this.atom_),se(this)){var i=ce(this,{type:Re,object:this,newValue:r});if(!i)return this}if(!this.has(r)){Ie(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var a=!1,s=le(this),u=s||a?{observableKind:"set",debugObjectName:this.name_,type:Re,object:this,newValue:r}:null;s&&fe(this,u)}return this},e.delete=function(r){var o=this;if(se(this)){var i=ce(this,{type:Cr,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,s=le(this),u=s||a?{observableKind:"set",debugObjectName:this.name_,type:Cr,object:this,oldValue:r}:null;return Ie(function(){o.atom_.reportChanged(),o.data_.delete(r)}),s&&fe(this,u),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,o=Array.from(this.keys()),i=Array.from(this.values());return Pt({next:function(){var s=r;return r+=1,s<i.length?{value:[o[s],i[s]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,o=0,i=Array.from(this.data_.values());return Pt({next:function(){return o<i.length?{value:r.dehanceValue_(i[o++]),done:!1}:{done:!0}}})},e.replace=function(r){var o=this;return mt(r)&&(r=new Set(r)),Ie(function(){Array.isArray(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):kt(r)?(o.clear(),r.forEach(function(i){return o.add(i)})):r!=null&&O("Cannot initialize set from "+r)}),this},e.observe_=function(r,o){return Wt(this,r)},e.intercept_=function(r){return Ut(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Ya]=function(){return this.values()},Tn(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Xa,get:function(){return"Set"}}]),n}(),mt=je("ObservableSet",Qa),Xi=Object.create(null),Qi="remove",Ja=function(){function n(t,r,o,i){r===void 0&&(r=new Map),i===void 0&&(i=Cc),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=o,this.defaultAnnotation_=i,this.keysAtom_=new Lt("ObservableObject.keys"),this.isPlainObject_=we(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,o){var i=this.values_.get(r);if(i instanceof Nt)return i.set(o),!0;if(se(this)){var a=ce(this,{type:Se,object:this.proxy_||this.target_,name:r,newValue:o});if(!a)return null;o=a.newValue}if(o=i.prepareNewValue_(o),o!==p.UNCHANGED){var s=le(this),u=!1,d=s||u?{type:Se,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:o}:null;i.setNewValue_(o),s&&fe(this,d)}return!0},e.get_=function(r){return p.trackingDerivation&&!De(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,o,i){return i===void 0&&(i=!1),De(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):i?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},e.has_=function(r){if(!p.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new st(r in this.target_,xr,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},e.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(ea(this,o,r),!(r in this.target_)){var i;if((i=this.target_[it])!=null&&i[r])return;O(1,o.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Ir;){var s=Sr(a,r);if(s){var u=o.make_(this,r,s,a);if(u===0)return;if(u===1)break}a=Object.getPrototypeOf(a)}Zi(this,o,r)}},e.extend_=function(r,o,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,o,a);ea(this,i,r);var s=i.extend_(this,r,o,a);return s&&Zi(this,i,r),s},e.defineProperty_=function(r,o,i){i===void 0&&(i=!1);try{re();var a=this.delete_(r);if(!a)return a;if(se(this)){var s=ce(this,{object:this.proxy_||this.target_,name:r,type:Re,newValue:o.value});if(!s)return null;var u=s.newValue;o.value!==u&&(o=wt({},o,{value:u}))}if(i){if(!Reflect.defineProperty(this.target_,r,o))return!1}else ge(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{ne()}return!0},e.defineObservableProperty_=function(r,o,i,a){a===void 0&&(a=!1);try{re();var s=this.delete_(r);if(!s)return s;if(se(this)){var u=ce(this,{object:this.proxy_||this.target_,name:r,type:Re,newValue:o});if(!u)return null;o=u.newValue}var d=Ji(r),l={configurable:p.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(a){if(!Reflect.defineProperty(this.target_,r,l))return!1}else ge(this.target_,r,l);var h=new st(o,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{ne()}return!0},e.defineComputedProperty_=function(r,o,i){i===void 0&&(i=!1);try{re();var a=this.delete_(r);if(!a)return a;if(se(this)){var s=ce(this,{object:this.proxy_||this.target_,name:r,type:Re,newValue:void 0});if(!s)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var u=Ji(r),d={configurable:p.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,r,d))return!1}else ge(this.target_,r,d);this.values_.set(r,new Nt(o)),this.notifyPropertyAddition_(r,void 0)}finally{ne()}return!0},e.delete_=function(r,o){if(o===void 0&&(o=!1),!De(this.target_,r))return!0;if(se(this)){var i=ce(this,{object:this.proxy_||this.target_,name:r,type:Qi});if(!i)return null}try{var a,s;re();var u=le(this),d=!1,l=this.values_.get(r),h=void 0;if(!l&&(u||d)){var v;h=(v=Sr(this.target_,r))==null?void 0:v.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof st&&(h=l.value_),Da(l)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(s=a.get(r))==null||s.set(r in this.target_),u||d){var C={type:Qi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};u&&fe(this,C)}}finally{ne()}return!0},e.observe_=function(r,o){return Wt(this,r)},e.intercept_=function(r){return Ut(this,r)},e.notifyPropertyAddition_=function(r,o){var i,a,s=le(this),u=!1;if(s||u){var d=s||u?{type:Re,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;s&&fe(this,d)}(i=this.pendingKeys_)==null||(a=i.get(r))==null||a.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),It(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function Mr(n,e){var t;if(De(n,b))return n;var r=(t=e?.name)!=null?t:"ObservableObject",o=new Ja(n,new Map,String(r),Lc(e));return Nr(n,b,o),n}var Iu=je("ObservableObjectAdministration",Ja);function Ji(n){return Xi[n]||(Xi[n]={get:function(){return this[b].getObservablePropValue_(n)},set:function(t){return this[b].setObservablePropValue_(n,t)}})}function Dt(n){return wr(n)?Iu(n[b]):!1}function Zi(n,e,t){var r;(r=n.target_[it])==null||delete r[t]}function ea(n,e,t){if(!1)var r,o,i}var wu=es(0),hn=0,Za=function(){};function Nu(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}Nu(Za,Array.prototype);var wn=function(n,e,t){fa(r,n);function r(i,a,s,u){var d;s===void 0&&(s="ObservableArray"),u===void 0&&(u=!1),d=n.call(this)||this;var l=new In(s,a,u,!0);if(l.proxy_=dn(d),ua(dn(d),b,l),i&&i.length){var h=Bt(!0);d.spliceWithArray(0,0,i),Ft(h)}return Object.defineProperty(dn(d),"0",wu),d}var o=r.prototype;return o.concat=function(){this[b].atom_.reportObserved();for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),s.map(function(d){return kr(d)?d.slice():d}))},o[t]=function(){var i=this,a=0;return Pt({next:function(){return a<i.length?{value:i[a++],done:!1}:{done:!0,value:void 0}}})},Tn(r,[{key:"length",get:function(){return this[b].getArrayLength_()},set:function(a){this[b].setArrayLength_(a)}},{key:e,get:function(){return"Array"}}]),r}(Za,Symbol.toStringTag,Symbol.iterator);Object.entries(Or).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&Nr(wn.prototype,e,t)});function es(n){return{enumerable:!1,configurable:!0,get:function(){return this[b].get_(n)},set:function(t){this[b].set_(n,t)}}}function xu(n){ge(wn.prototype,""+n,es(n))}function ts(n){if(n>hn){for(var e=hn;e<n+100;e++)xu(e);hn=n}}ts(1e3);function Ru(n,e,t){return new wn(n,e,t)}function $e(n,e){if(typeof n=="object"&&n!==null){if(kr(n))return e!==void 0&&O(23),n[b].atom_;if(mt(n))return n.atom_;if(Ge(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||O(25,e,yn(n)),t}if(Dt(n)){if(!e)return O(26);var r=n[b].values_.get(e);return r||O(27,e,yn(n)),r}if(En(n)||Pr(n)||Er(n))return n}else if(me(n)&&Er(n[b]))return n[b];O(28)}function rs(n,e){if(n||O(29),e!==void 0)return rs($e(n,e));if(En(n)||Pr(n)||Er(n)||Ge(n)||mt(n))return n;if(n[b])return n[b];O(24,n)}function yn(n,e){var t;if(e!==void 0)t=$e(n,e);else{if(Cn(n))return n.name;Dt(n)||Ge(n)||mt(n)?t=rs(n):t=$e(n)}return t.name_}var ta=Ir.toString;function Nn(n,e,t){return t===void 0&&(t=-1),bn(n,e,t)}function bn(n,e,t,r,o){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var a=ta.call(n);if(a!==ta.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=ra(n),e=ra(e);var s=a==="[object Array]";if(!s){if(typeof n!="object"||typeof e!="object")return!1;var u=n.constructor,d=e.constructor;if(u!==d&&!(me(u)&&u instanceof u&&me(d)&&d instanceof d)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],o=o||[];for(var l=r.length;l--;)if(r[l]===n)return o[l]===e;if(r.push(n),o.push(e),s){if(l=n.length,l!==e.length)return!1;for(;l--;)if(!bn(n[l],e[l],t-1,r,o))return!1}else{var h=Object.keys(n),v;if(l=h.length,Object.keys(e).length!==l)return!1;for(;l--;)if(v=h[l],!(De(e,v)&&bn(n[v],e[v],t-1,r,o)))return!1}return r.pop(),o.pop(),!0}function ra(n){return kr(n)?n.slice():lt(n)||Ge(n)||kt(n)||mt(n)?Array.from(n.entries()):n}function Pt(n){return n[Symbol.iterator]=Du,n}function Du(){return this}["Symbol","Map","Set"].forEach(function(n){var e=na();typeof e[n]>"u"&&O("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:tu,extras:{getDebugName:yn},$mobx:b});var xn=class{constructor(e){c(this,"_context",null);c(this,"getInitialProps",(...e)=>this._context?this._context.getInitialProps(...e):Promise.reject(Error("You may forget to use InitialPropsProvider")));Ga(this),this._updateContext(e)}get initialProps(){return this._context?this._context.initialProps:{}}_updateContext(e){this._context=e}},ns=xn;var Rn=null,Pu=null;function Dn(n){return Rn||(Rn=new ns(Pu)),n.prototype.initialPropsStore=Rn,n}f();m();f();m();f();m();f();m();f();m();f();m();f();m();Be();var os=(n,e)=>n.filter(({networks:t})=>t.findIndex(o=>o.name===e)>-1),is=(n,e)=>n.filter(({account:t})=>t[e]),as=({recentAddrData:n,addressBookData:e,walletListData:t,chainName:r})=>{let o=[];if(n.length>0){let i=n.map(({specifiedAddress:a,...s})=>({specifiedAddress:a,...s}));o.push({group:S("swaptrade_extension_wallet_address_recent_address"),list:i})}if(e.length>0){let i=e.map(a=>({...a,specifiedAddress:a.address}));o.push({group:S("swaptrade_extension_wallet_address_connected_wallets"),list:i})}if(t.length){let i=t.map(s=>({specifiedAddress:s.account[r],group:s.keyringName,name:s.walletName,walletId:s.walletId}));Object.entries(to(i,"group")).forEach(([s,u])=>{o.push({group:s,list:u})})}return o},ss=(n,e)=>{let t=[null,null];return on(n)&&(t[0]=n),on(e)&&(t[1]=e),t};var{BigNumber:Y}=Q,Pn=class{constructor(e){c(this,"defaultToken",{amount:"",prevAmount:"",balance:"",logoURI:"",coinId:"",decimals:"",usdPrice:"",tokenName:"",baseCoinId:"",tokenSymbol:"",tokenLogoUrl:"",isNativeToken:0,tokenContractAddress:"",isSafeMoonToken:"",isHoneypot:"",buyTaxes:"0",sellTaxes:"0",reverseReceiveAmount:"",chainId:""});c(this,"from",{...this.defaultToken});c(this,"to",{...this.defaultToken});c(this,"fromBalanceState",ae.BALANCE_NOT_SHOW);c(this,"toBalanceState",ae.BALANCE_NOT_SHOW);c(this,"fromBalanceRequestError",!1);c(this,"toBalanceRequestError",!1);c(this,"isBalanceLoading",!1);c(this,"visibleAddFunds",!1);c(this,"setFrom",e=>{this.from=e});c(this,"setTo",e=>{this.to=e});c(this,"maxDialogType",yt.enough);c(this,"setMaxDialogType",e=>{this.maxDialogType=e});c(this,"checkMaxDialogTypeIsEnough",e=>yt.enough===e);c(this,"typedValue","");c(this,"fromMax",!1);c(this,"independentField",$.FROM);c(this,"singleTypedValue","");c(this,"singleFromMax",!1);c(this,"advanceSetTypedValue",(e="",t=!1,r="")=>{(r||this.commonStore.currentTab)===Ee.SWAP?(this.singleTypedValue=e,this.singleFromMax=t):this.setTypeInput(e,t)});c(this,"needCrossChainDoubleConfirm",!1);c(this,"setNeedCrossChainDoubleConfirm",e=>{this.needCrossChainDoubleConfirm=e});c(this,"updateBtcFromBalance",async()=>this.computedIsFromBtcCoin?(await this.getTokenBalanceByAccount($.FROM,G(this.from)),!this.fromBalanceRequestError):!this.fromBalanceRequestError);c(this,"onClickMax",async()=>{Uo({button_name:"max"});let{isNativeToken:e}=this.from;this.setField($.FROM);let t="",r="";if(e===1){let[o,i]=await Promise.all([this.rootStore.quoteStore.fetchGasTokenFee(),this.updateBtcFromBalance()]);if(!i)return;let{balance:a,availableBalance:s}=this.from,u=(this.computedIsFromBtcCoin?s:a)||"0";if(o===-1)return;r=Y(u).minus(o);let d=r.isNegative();this.setMaxDialogType(d?yt.insufficient:yt.enough),d&&this.setShowAddFund(!0),this.showMaxDialog(),this.setShowMaxIcon(!0),t=d?"":r.toString()}else t=this.from.balance;this.advanceSetTypedValue(t,!0)});c(this,"setTypeInput",(e,t)=>{this.typedValue=e,this.fromMax=!!t});c(this,"setField",e=>{this.independentField=e});c(this,"quoteUpdateFromTo",e=>{let{receiveAmount:t="",fromTokenPrice:r="",toTokenPrice:o="",payAmount:i="",inputToTokenPrice:a=""}=e||{};!this.computedIsExactIn&&t?(this.from.amount=i,this.to.amount=this.computedTypedValue,this.to.prevAmount=this.computedTypedValue,this.from.currentTime=new Date().getTime(),this.to.usdPrice=a):this.computedIsExactIn&&(this.from.amount=this.computedTypedValue,this.to.amount=t,this.from.prevAmount=this.computedTypedValue,this.to.currentTime=new Date().getTime(),this.to.usdPrice=o),this.to.reverseReceiveAmount=t,this.from.usdPrice=r});c(this,"checkAndGetTokenInfo",async({chainId:e,tokenContractAddress:t})=>{let[r,o]=await this.getTokenInfoAndBalance(e,t);return r?null:o.data});c(this,"getDexMultiDefaultTokenInfo",e=>{let{chainList:t}=this.commonStore,r=G(t).find(o=>Number(o.chainId)===Number(e??Zr))||{};return{fromDexMultiTokenInfoVO:{...r.dexDefaultFromToTokenShowVO?.fromDexMultiTokenInfoVO,reserveGas:r.reserveGas},toDexMultiTokenInfoVO:r.dexDefaultFromToTokenShowVO?.toDexMultiTokenInfoVO||{}}});c(this,"addressReplaceSymbol",e=>{let{fromDexMultiTokenInfoVO:t}=this.getDexMultiDefaultTokenInfo(e.chainId),{tokenSymbol:r,isNativeToken:o}=t;return o&&this.commonStore.getTokenAddress(e)===this.commonStore.getTokenAddress(t)?r:e?.tokenContractAddress});c(this,"symbolReplaceAddress",e=>this.tokenReplaceMainToken(e).tokenContractAddress);c(this,"validTokens",{});c(this,"fetchTokenInfo",async e=>{if(e.tokenContractAddress){let t=await this.checkAndGetTokenInfo(e);if(t?.tokenContractAddress){let o={...t,balance:t.amountNum,amount:e.amount||""},i=`${t.chainId}_${this.commonStore.getTokenAddress(t)}`;return this.validTokens[i]=!0,o}let r=`${e.chainId}_${this.commonStore.getTokenAddress(e)}`;return this.validTokens[r]=e.tokenContractAddress==So,null}return null});c(this,"checkQueryToken",async(e,t=!0)=>{if(!Ce(e.chainId))return null;let r=e;if(Oi(this.commonStore.chainList,Number(e.chainId))){let{from:i}=this.getInitializedValue(e.chainId);if(this.commonStore.getTokenAddress(e)===this.commonStore.getTokenAddress(i)&&t){let s=`${i?.chainId}_${this.commonStore.getTokenAddress(i)}`;return this.validTokens[s]=!0,i}let a=await this.fetchTokenInfo({chainId:Number(e.chainId),tokenContractAddress:e.tokenContractAddress});t?r=a||i:r=a}else r=null;return r});c(this,"updateFrom",e=>{(!this.commonStore.equalsToken(e,this.from)||this.from.balance!==e.balance)&&(this.setShowMaxIcon(!1),this.setShowAddFund(!1)),Et(this.from,e)?this.from={...G(this.from),...e}:this.from={...G(this.from),...e,wsPriceData:{}}});c(this,"updateFromAmount",e=>{this.from.amount=e,e||(this.from.usdPrice="0"),this.from.prevAmount||(this.from.prevAmount=e)});c(this,"updateFromUsdPriceFromWs",(e={})=>{!Et(e,this.from)||(this.from.wsPriceData=e,this.from.usdPrice=an({realTimeTokenPrice:e.price,amount:this.from.amount,nonRealTimeTokenValue:this.from.usdPrice}))});c(this,"updateToUsdPriceFromWs",(e={})=>{!Et(e,this.to)||(this.to.wsPriceData=e,this.to.usdPrice=an({realTimeTokenPrice:e.price,amount:this.to.amount,nonRealTimeTokenValue:this.to.usdPrice}))});c(this,"updateTo",e=>{Et(this.to,e)?this.to={...G(this.to),...e}:this.to={...G(this.to),...e,wsPriceData:{}}});c(this,"hideMaxDialog",!!Oe.get(Xr));c(this,"hideMaxDialogLessGas",!!Oe.get(Qr));c(this,"setStorageShowMaxDialog",e=>{if(e){let t=this.checkMaxDialogTypeIsEnough(this.maxDialogType);Oe.set(t?Xr:Qr,"1"),t?this.hideMaxDialog=!0:this.hideMaxDialogLessGas=!0}this.visibleMaxDialog=!1});c(this,"visibleMaxDialog",!1);c(this,"showMaxDialog",()=>{let e=this.checkMaxDialogTypeIsEnough(this.maxDialogType);e&&this.hideMaxDialog||!e&&this.hideMaxDialogLessGas||(this.visibleMaxDialog=!0)});c(this,"showMaxIcon",!1);c(this,"setShowMaxIcon",e=>{this.showMaxIcon=e});c(this,"showAddFund",!1);c(this,"setShowAddFund",e=>{this.showAddFund=e});c(this,"setFromBalanceRequestError",e=>{this.fromBalanceRequestError=e});c(this,"setToBalanceRequestError",e=>{this.toBalanceRequestError=e});c(this,"resetBalanceState",()=>{this.setShowMaxIcon(!1),this.setShowAddFund(!1),[this.fromBalanceRequestError,this.toBalanceRequestError]=[this.toBalanceRequestError,this.fromBalanceRequestError]});c(this,"onSwitchFromTo",async()=>{if(!this.isBalanceLoading){this.rootStore.quoteStore.quoteScope=null;let[e,t]=[G(this.from),G(this.to)];this.resetBalanceState();let r={amount:this.computedTypedValue??"",prevAmount:this.computedTypedValue??"",usdPrice:""},o={amount:"",prevAmount:"",usdPrice:""};this.setNeedCrossChainDoubleConfirm(!0),this.setField($.FROM),this.computedIsSingleChain?(this.setCacheTokenInfo({chainId:t.chainId,tokenContractAddress:t.tokenContractAddress,amountNum:t.balance},"switchFromTo"),this.setFrom({...t,...r})):(this.rootStore.quoteStore.setQuoteNumber(this.computedTypedValue?0:2),this.setCacheTokenInfo({chainId:t.chainId,tokenContractAddress:t.tokenContractAddress,amountNum:t.balance},"switchFromTo"),this.setFrom({...t,amount:t.amount||"",prevAmount:t.amount||"",usdPrice:""})),this.setTo({...e,...o}),this.advanceSetTypedValue(t.amount),this.rootStore.receiveAddressStore.clearReceiveAddressValue()}});c(this,"getChainInfo",e=>{let{chainList:t}=this.commonStore;return t.find(o=>Number(o.chainId)===Number(e))||{}});c(this,"getInitializedValue",(e=Zr)=>{let t=this.getChainInfo(e),{fromDexMultiTokenInfoVO:r,toDexMultiTokenInfoVO:o}=t?.dexDefaultFromToTokenShowVO||{fromDexMultiTokenInfoVO:{},toDexMultiTokenInfoVO:{}},i={...G(r),balance:"",reserveGas:t?.reserveGas},a={...G(o),balance:""};return{from:i,to:a}});c(this,"resetFromTo",async e=>{let{chainList:t,currentTab:r}=this.commonStore,o=r===Ee.BRIDGE;if(Number(e)!==Number(this.from.chainId)){let i=G(t).find(l=>Number(l.chainId)===Number(e)),{fromDexMultiTokenInfoVO:a,toDexMultiTokenInfoVO:s,toCrossDexMultiTokenInfoVO:u}=i?.dexDefaultFromToTokenShowVO||{fromDexMultiTokenInfoVO:{},toDexMultiTokenInfoVO:{}};this.from={...G(a),balance:"",reserveGas:i?.reserveGas};let d=o&&u||s;this.to={...G(d),balance:""}}});c(this,"clearFromTo",()=>{this.from={},this.to={}});c(this,"updateBalanceIfNativeToken",(e,t)=>{t.isNativeToken?this.getTokenBalanceByAccount(e,t,!1).catch(eo):(this.setFromBalanceRequestError(!1),this.setBalance(e,t.amountNum))});c(this,"getSwapTokenBalance",(e=!1)=>{this.getTokenBalanceByAccount($.FROM,G(this.from),e).catch(()=>{}),this.getTokenBalanceByAccount($.TO,G(this.to),e).catch(()=>{})});c(this,"getTokenInfoAndBalance",async(e,t)=>{let r=this.accountStore.getAddressByChainId(e),o={chainId:e,tokenAddress:t,userUniqueId:this.commonStore.userUniqueId,accountId:this.accountStore.computedAccountId,userWalletAddress:r,businessType:this.commonStore.computedCurrentTabIsLimit?Jr.LIMIT_ORDER:Jr.SWAP_ORDER};return w(P.get(Ao,{params:o}))});c(this,"needBalanceLoading",!0);c(this,"setNeedBalanceLoading",e=>{this.needBalanceLoading=e});c(this,"getTokenBalanceByAccount",async(e,t,r=!1)=>{let o=e===$.FROM,{chainId:i,tokenContractAddress:a}=t;if(Ce(i)&&a&&this.accountStore.computedAccountId){this.needBalanceLoading&&(this.isBalanceLoading=!0);let s=await this.getTokenInfoAndBalance(i,a);if(this.isBalanceLoading=!1,this.setNeedBalanceLoading(!0),!this.commonStore.equalsToken(t,o?this.from:this.to))return;if(s[0]){if(r){this.fromBalanceRequestError=!1,this.toBalanceRequestError=!1;return}o?(this.fromBalanceRequestError=!0,this.fromBalanceState=ae.BALANCE_REQUEST_FAILED):(this.toBalanceRequestError=!0,this.toBalanceState=ae.BALANCE_REQUEST_FAILED),this.setBalance(e,"0","0","0");return}o?this.fromBalanceRequestError=!1:this.toBalanceRequestError=!1;let{amountNum:u,availableAmountNum:d,currencyAmount:l}=s[1]?.data||{};o&&this.setCacheTokenInfo({chainId:i,tokenContractAddress:a,amountNum:u},"api"),this.setBalance(e,u,d,l)}});c(this,"cacheTokenInfo",{});c(this,"setCacheTokenInfo",(e,t)=>{this.cacheTokenInfo=e,y.info(T.GET_BALANCE,{...e,tokenContractAddress:$o(e.tokenContractAddress),type:t})});c(this,"setBalance",(e,t="",r="",o="")=>{let i=e===$.TO,a={balance:t,availableBalance:r,currencyAmount:o};i?this.updateTo({...this.to,...a}):this.updateFrom({...this.from,...a})});c(this,"setBalanceState",e=>{let{amount:t,address:r,from:o,to:i}=e;Boolean(r)&&Boolean(o.tokenContractAddress)?this.fromBalanceRequestError===!0?this.fromBalanceState=ae.BALANCE_REQUEST_FAILED:Y(o.balance||"0").lt(t||"0")?this.fromBalanceState=ae.BALANCE_INSUFFICIENT:this.fromBalanceState=ae.COMMON:this.fromBalanceState=ae.BALANCE_NOT_SHOW,!(Boolean(r)&&Boolean(i.tokenContractAddress))||!this.computedIsToAddressEqualsCurrentToAddress&&this.computedDiffCrossChain?this.toBalanceState=ae.BALANCE_NOT_SHOW:this.toBalanceRequestError===!0?this.toBalanceState=ae.BALANCE_REQUEST_FAILED:this.toBalanceState=ae.COMMON});c(this,"equalsTokenAndAccount",(e,t)=>this.commonStore.equalsToken(e,t)&&this.accountStore.getAddressByChainId(e.chainId)===t.address);c(this,"updateFromBalancePush",e=>{let{coinAmountOriginalDec:t,availableAmountNum:r,currencyAmount:o}=e;this.equalsTokenAndAccount(this.from,e)?(this.setCacheTokenInfo({chainId:e.chainId,tokenContractAddress:e.tokenContractAddress,amountNum:t},"ws"),this.setBalance($.FROM,t,r,o)):this.equalsTokenAndAccount(this.to,e)&&this.setBalance($.TO,t,r,o)});c(this,"tokenReplaceMainToken",e=>{let t=e,{fromDexMultiTokenInfoVO:r}=this.getDexMultiDefaultTokenInfo(e?.chainId),{tokenSymbol:o,chainId:i}=r;return Ce(e?.chainId)&&e?.tokenContractAddress&&(this.commonStore.getTokenAddress(e)===(this.commonStore.isSensitiveChain(i)?o:Xt(o))||this.commonStore.getTokenAddress(e)===this.commonStore.getTokenAddress(r))&&(t={...r,amount:e.amount}),t});c(this,"onClickAddFunds",()=>{let{tokenSymbol:e,chainName:t}=this.from,{address:r}=this.accountStore,o={currency:e,network:t,address:r};this.getDeposit(o)});c(this,"calOrderUpdateFromTo",e=>{let{fromTokenUsd:t,toTokenUsd:r,fromAmount:o,toAmount:i}=e||{};vt(o)||(this.from.amount=o),vt(t)||(this.from.usdPrice=t),vt(i)||(this.to.amount=i),vt(r)||(this.to.usdPrice=r)});c(this,"isEvmChain",e=>Ce(e)?this.commonStore.getChainByID(e)?.chainType!==lo.NO_EVM_CHAIN:!0);c(this,"isTronChain",e=>e===N.TRON_MAINNET);c(this,"getFormatFromToToken",async({from:e,to:t},r)=>{let[o,i]=await Promise.all([this.checkQueryToken(e,r),this.checkQueryToken(t,r)]),a=o,s=i,u=d=>`${d?.chainId}-${d?.tokenContractAddress}`;if(o){let d=this.getInitializedValue(o?.chainId),l=qr(Hr([o,i,d.from,d.to],u));a=l[0],s=l[1]}else if(i){let d=this.getInitializedValue(i.chainId),l=qr(Hr([i,d.from,d.to],u));a=l[1],s=l[0]}return{token1:a,token2:s}});c(this,"orderContinueStatus",be.DEFAULT);c(this,"setOrderContinueStatus",e=>{this.orderContinueStatus=e});c(this,"fillSwapFromTo",async({apiRequestParams:e,locationParams:t})=>{let{closeModal:r}=this.rootStore.recentTransactionStore;!await this.beforeCheckAndGetTokenInfo(e,t)||(r(),this.setSwapAndLimitTypeValue(t.inputAmount))});c(this,"beforeCheckAndGetTokenInfo",async(e,t)=>{let{orderCheckContinue:r}=this.rootStore.oneMoreOrderStore;if(this.setOrderContinueStatus(be.LOADING),e&&!await r(e))return this.setOrderContinueStatus(be.ERROR),!1;let{token1:o,token2:i}=await this.getFormatFromToToken(t,!1);return!o||!i?(pe.error({title:S("swaptrade_history_toast_setup_error"),duration:Fe}),this.setOrderContinueStatus(be.ERROR),!1):(this.setOrderContinueStatus(be.READY),this.updateFromAndToInfo(o,i),!0)});c(this,"beforeCheckUrl",async e=>{this.setOrderContinueStatus(be.LOADING);let{orderCheckContinue:t}=this.rootStore.oneMoreOrderStore;return await t(e)?(this.setOrderContinueStatus(be.READY),!0):(this.setOrderContinueStatus(be.ERROR),!1)});c(this,"updateFromAndToInfo",(e,t)=>{this.updateFrom(e),this.updateTo(t)});c(this,"nativeCoin",null);c(this,"setNativeCoin",e=>{this.nativeCoin={...e}});this.rootStore=e,this.accountStore=e.accountStore,this.commonStore=e.commonStore,Zt(()=>this.initialPropsStore.initialProps.fromTo,(t={})=>{let{from:r={},to:o={}}=t;this.setFrom(r),this.setTo(o)})}static async getInitialProps(e){let t=new URLSearchParams(e.route.search),{from:{chainId:r,tokenContractAddress:o},to:{chainId:i,tokenContractAddress:a}}=ni(t);if(!Ci({fromChainId:r,toChainId:i,fromTokenAddress:o,toTokenAddress:a}))return{from:{},to:{}};let s=No,u={chainId:r,fromTokenAddress:o,toTokenAddress:a};e.route.path.includes(_o)&&(s=Oo,u={chainId:r,toChainId:i,fromTokenAddress:o,toTokenAddress:a}),e.route.path.includes(go)&&(s=Ro,u={fromChainId:r,toChainId:i,fromTokenAddress:o,toTokenAddress:a});let[h,v]=await w(P.get(s,{params:u}));return h?{from:{},to:{}}:{from:D(v,"data.fromTokenInfo")||D(v,"data.fromToken"),to:D(v,"data.toTokenInfo")||D(v,"data.toToken")}}get computedTypedValue(){return this.commonStore.currentTab===Ee.SWAP?this.singleTypedValue:this.typedValue}get computedFromMax(){return this.commonStore.currentTab===Ee.SWAP?this.singleFromMax:this.fromMax}get computedNeedCrossChainDoubleConfirm(){return this.computedIsSingleChain?!1:!this.needCrossChainDoubleConfirm}get dependentField(){return this.independentField===$.FROM?$.TO:$.FROM}get computedIsExactIn(){return this.independentField===$.FROM}get computedIsSingleChain(){return Ce(this.from.chainId)&&Ce(this.to.chainId)&&Number(this.from.chainId)===Number(this.to?.chainId)}get computedSwapAmount(){return{[this.independentField]:this.computedFromMax?or(this.computedTypedValue,{noNeedThousandth:!0}):this.computedTypedValue,[this.dependentField]:this.computedCalAmount[this.dependentField]}}get computedCalAmount(){return{[$.FROM]:or(this.from?.amount,{noNeedThousandth:!0})??"",[$.TO]:or(this.to?.amount,{noNeedThousandth:!0})??""}}get computedIfQuote(){return!!(this.computedTypedValueIsValid&&this.from&&this.to)}get computedTypedValueIsValid(){return!Y(this.computedTypedValue).isZero()&&!Y(this.computedTypedValue).isNaN()}get computedFromAmountIsValid(){let{amount:e}=this.from;return ir(e)}get computedFromLocalCostByUsd(){let{usdPrice:e}=this.from;if(!this.computedFromAmountIsValid)return"";let{nowCurrencyUnit:t}=this.commonStore,{symbol:r,usdToThisRate:o}=t,i=Y(e);if(r&&e&&o&&!i.isNaN()){let s=i.multipliedBy(o).toString();return et(s,r,{needBillionMillionUnit:!1})}return""}get computedToLocalCostByUsd(){let{usdPrice:e}=this.to,{nowCurrencyUnit:t}=this.commonStore,{symbol:r,usdToThisRate:o}=t,i=Y(e);if(r&&e&&o&&this.to.amount&&!i.isNaN()&&ir(this.from.amount)){let s=i.multipliedBy(o).toString();return et(s,r,{needBillionMillionUnit:!1})}return""}get computedRate(){let{from:e,to:t,computedIsExactIn:r}=this,{quoteStore:o,gasDropStore:i}=this.rootStore,a=D(o,"quote.bestRoute.gasDropFromAmount",""),s=a&&i?.gasDropConfig?.gasDrop?Y(e?.amount).minus(a):Y(e?.amount),u=t?.reverseReceiveAmount&&r||!r&&e?.amount;return s&&u?Ae(Y(t?.reverseReceiveAmount).div(s).toString(10),{needBillionMillionUnit:!1}):""}get computedToFromRate(){let{from:e,to:t,computedIsExactIn:r}=this,{quoteStore:o,gasDropStore:i}=this.rootStore,a=D(o,"quote.bestRoute.gasDropFromAmount",""),s=a&&i?.gasDropConfig?.gasDrop?Y(e?.amount).minus(a):Y(e?.amount),u=t?.reverseReceiveAmount&&r||!r&&e?.amount;return s&&u?Ae(Y(s).div(t?.reverseReceiveAmount).toString(10),{needBillionMillionUnit:!1}):""}get computedIsToAddressEqualsCurrentToAddress(){let e=this.accountStore.getAddressByChainId(this.to.chainId);return e&&this.rootStore.receiveAddressStore.computedReceiveAddr===e}get computedValueDifference(){let{quoteStore:e}=this.rootStore,t=D(e,"quote.bestRoute.quoteDiffValThreshold"),r=D(e,"quote.bestRoute.quoteDiffPercentThreshold");return Ii({pay:this.from.usdPrice,receive:this.to.usdPrice,quoteDiffValThreshold:t,quoteDiffPercentThreshold:r})}get computedIsCrossChain(){return Ce(this.from.chainId)&&Ce(this.to.chainId)&&Number(this.from.chainId)!==Number(this.to?.chainId)}get computedIsBridge(){let{from:e,to:t}=this;return this.computedIsCrossChain&&e.tokenSymbol===t.tokenSymbol}getDeposit(){}get computedDiffCrossChain(){let e=!!this.accountStore.address,t=this.commonStore.getChainByID(this.from.chainId),r=this.commonStore.getChainByID(this.to.chainId),o=String(this.from.isHoneypot),i=String(this.to.isHoneypot),{computedNonsupportChain:a}=this.accountStore,s=t?.crossChainType||"",u=r?.crossChainType||"";return e&&!a&&o!=="1"&&i!=="1"&&s&&u&&s!==u}get computedMaxTipsText(){let{from:e,maxDialogType:t}=this,{cacheNativeGasFee:r}=this.rootStore.quoteStore;if(!e.isNativeToken||!r||!e.tokenSymbol)return S("wallet_swap_toast_reserve_mainnet_token");let o={value:Ae(r),tokenSymbol:e.tokenSymbol};if(this.checkMaxDialogTypeIsEnough(t)){if(this.computedIsFromBtcCoin&&Q.gt(this.computedUnavailableBalance,0)){let i=Ae(this.computedUnavailableBalance);return S("swaptrade_dialog_pay_card_reserved_from_wallet",{symbol:o.tokenSymbol,value:o.value,unablevalue:i})}return S("swaptrade_dialog_desc_reserved_netfee",o)}return S("swaptrade_dialog_desc_please_reserve",o)}get computedShowAddFund(){let{accountStore:e,swapBtnStore:t}=this.rootStore,{from:r}=this;if(!e.computedNonsupportChain){let o=Y(this.computedTypedValue||0),i=Y(r.balance||0);if(this.independentField===$.FROM&&o.gt(i)||t.computedTooBalance)return!0}return this.showAddFund&&!this.checkMaxDialogTypeIsEnough(this.maxDialogType)}get computedIsEvmChain(){return this.isEvmChain(this.from.chainId)}get computedDefaultAutoSlippageInfo(){let e=this.commonStore.getChainByID(this.from.chainId);return{autoSlippage:e?.toleranceSlippage?.selectItem,autoTotalSlippage:e?.crossToleranceSlippage?.selectItem}}get computedIsSolanaChain(){return xe(this.from.chainId)}get computedIsAptosChain(){return _i(this.from.chainId)}get computedIsTronChain(){return mi(this.from.chainId)}get computedIsSuiChain(){return lr(this.from.chainId)}get computedIsStacksChain(){return hi(this.from.chainId)}get computedIsStarknetChain(){return pi(this.from.chainId)}get computedHasToSwap(){let e=D(this.rootStore.quoteStore,"quote.bestRoute.toSwapFeeUsd");return this.computedIsCrossChain&&e>0}setSwapAndLimitTypeValue(e){let{computedCurrentTabIsLimit:t}=this.commonStore,{clearSellAndReceive:r}=this.rootStore?.limitOrderControlStore||{};t?r?.():ir(e)?(this.setField($.FROM),this.advanceSetTypedValue(e)):this.advanceSetTypedValue("")}get computedLeverageTokenPair(){return ss(this.from,this.to)}get computedFormToTokenIsLeverageToken(){let[e,t]=this.computedLeverageTokenPair;return!!e||!!t}get computedIsFromBtcChain(){return fi(this.from.chainId)}get computedIsFromBtcCoin(){return this.computedIsFromBtcChain&&this.from.isNativeToken}get computedUnavailableBalance(){return Y(this.from.balance).minus(this.from.availableBalance).toString()}get computedIsFacetToken(){let{from:e,to:t}=this;return Number(e.tokenType)===Yr.FACET||Number(t.tokenType)===Yr.FACET}get computedNonsupportFacetToken(){let{address:e,walletConfig:{OKXWalletType:t,walletType:r}}=this.accountStore;if(!e)return!1;let o=[zr.MNEMONIC,zr.PRIVATE_KEY].includes(t),i=r===nr.METAMASK;return this.computedIsFacetToken&&!(o||i)}},cs=Dn(Pn);var $t=class extends cs{constructor(t){super(t);c(this,"getDeposit",()=>()=>{});c(this,"addFundsParams",{});c(this,"closeAddFunds",()=>{this.visibleAddFunds=!1});c(this,"onClickAddFunds",()=>{let{tokenSymbol:t,chainName:r,tokenLogoUrl:o,chainId:i,isNativeToken:a,tokenContractAddress:s}=this.from;this.visibleAddFunds=!0;let u={currency:t,network:r,iconUrl:o,chainId:i,isNativeToken:a,tokenContractAddress:a?"":s,receiveOnly:!0};this.baseAddFunds(u)});c(this,"baseAddFunds",t=>{this.visibleAddFunds=!0,this.addFundsParams={...t}});c(this,"tokenReplaceMainToken",(t,r)=>{let o=t,i=!ri(t),{fromDexMultiTokenInfoVO:a}=this.getDexMultiDefaultTokenInfo(i?r:t.chainId),{tokenSymbol:s,chainId:u}=a;return!i&&(this.commonStore.getTokenAddress(t)===(this.commonStore.isSensitiveChain(u)?s:Xt(s))||this.commonStore.getTokenAddress(t)===this.commonStore.getTokenAddress(a))&&(o={...a,amount:t.amount}),o});fr(this),Zt(()=>{let{computedDiffCrossChain:r,to:o}=this;return{computedDiffCrossChain:r,toChainId:o?.chainId}},({computedDiffCrossChain:r,toChainId:o})=>{this.cacheToChainId!==o&&this.rootStore.receiveAddressStore.saveReceiveAddressValue({}),this.rootStore.receiveAddressStore.setCacheToChainId(r&&o?o:-1)},{equals:ao.shallow})}};f();m();f();m();var Mn=class{constructor(e){c(this,"receiveAddrStatus",St.NORMAL);c(this,"receiveAddrObj",{});c(this,"saveReceiveAddressValue",e=>{this.receiveAddrObj=this.filterReceiveWalletInfo(e),e?.specifiedAddress||this.initCheckAddrStatus()});c(this,"clearReceiveAddressValue",()=>{this.receiveAddrObj={},this.initCheckAddrStatus(),this.walletAddrInWeb3=[],this.getLinkedWalletAddrInWeb3().catch(()=>{})});c(this,"checkReceiveAddressLoading",!1);c(this,"filterReceiveAddress",(e,t,r=!0)=>{let o=t?.specifiedAddress||this.receiveAddrObj?.specifiedAddress||"";return o?e.filter(({specifiedAddress:i})=>r?i.includes(o):i===o):e});c(this,"filterReceiveWalletInfo",e=>{if(!e.specifiedAddress||e.walletId)return e;let t=this.filterReceiveAddress(this.initWalletAddrListFromChain,e,!1);return t.length?t[0]:e});c(this,"initCheckAddrStatus",()=>{this.checkReceiveAddressLoading=!1,this.receiveAddrStatus=St.NORMAL});c(this,"checkReceiveAddr",async e=>{if(e||this.receiveAddrObj.specifiedAddress){this.checkReceiveAddressLoading=!0;let{to:t}=this.rootStore.fromToStore,r=Symbol("requestId");this.currentRequestId=r;let[o,i]=await w(P.get(Do,{params:{address:e||this.receiveAddrObj.specifiedAddress,chainId:t?.chainId}}));if(this.checkReceiveAddressLoading=!1,o){y.stuff(o),this.receiveAddrStatus=St.ILLEGALITY;return}this.currentRequestId===r&&Jt(()=>{this.receiveAddrStatus=i.data.status})}else this.initCheckAddrStatus()});c(this,"getSpecifiedChainWalletList",async e=>{let t=await this.getSpecifiedChainWalletListByWeb3(e),r={};return t?.forEach(o=>{let{specifiedAddress:i,walletType:a,createTime:s}=o,u=a===nr.OKEXCHAIN;r[i]&&r[i]?.has&&u?r[i].walletInfo.createTime<s&&(r[i].walletInfo=o):(!r[i]?.has||u)&&(r[i]={walletInfo:o,has:u})}),Object.keys(r).map(o=>r[o].walletInfo)});c(this,"walletAddrInWeb3",[]);c(this,"getLinkedWalletAddrInWeb3",async()=>{let{computedDiffCrossChain:e,to:t}=this.rootStore.fromToStore,{computedAccountId:r}=this.rootStore.accountStore;if(!e)return;let[o,i]=await w(this.getSpecifiedChainWalletList({chainId:t.chainId,walletIds:[r]}));o||Jt(()=>{this.walletAddrInWeb3=i})});c(this,"initWalletAddrListFromChain",[]);c(this,"initWalletAddrListInStorage",[]);c(this,"filterWalletAddrListFromChain",[]);c(this,"filterWalletAddrListInStorage",[]);c(this,"getWalletList",async()=>{let{to:e}=this.rootStore.fromToStore,t=await this.getSpecifiedChainWalletList({chainId:e.chainId});Jt(()=>{this.initWalletAddrListFromChain=t,this.filterWalletAddrListFromChain=t;let r=Oe.get(bt);if(r){let o=r[e.chainId]||[];this.initWalletAddrListInStorage=o,this.filterWalletAddrListInStorage=o}})});c(this,"getFilteredAddrList",e=>{this.filterWalletAddrListFromChain=this.filterReceiveAddress(this.initWalletAddrListFromChain,e),this.filterWalletAddrListInStorage=this.filterReceiveAddress(this.initWalletAddrListInStorage,e)});c(this,"saveWalletAddressToStorage",e=>{this.receiveAddrObj?.specifiedAddress&&Oe.set(bt,{[e.chainId]:[this.receiveAddrObj]})});c(this,"formatInputValue",e=>{let{specifiedAddress:t,deriveName:r,label:o}=e;if(t.length<=9)return t;let i=ar(e.specifiedAddress);return r&&(i=`(${i})`,o?i=`${r} - ${o} ${i}`:i=`${r} ${i}`),i});this.rootStore=e}get computedSwapHighLight(){return this.receiveAddrStatus===St.NORMAL&&!!this.receiveAddrObj?.specifiedAddress}get computedFormatReceiveAddr(){return this.receiveAddrObj?.specifiedAddress?this.formatInputValue(this.receiveAddrObj):""}get computedReceiveAddr(){return this.receiveAddrObj?.specifiedAddress||""}async getSpecifiedChainWalletListByWeb3(){return[]}get computedWalletAddrInWeb3(){return this.walletAddrInWeb3.length?this.walletAddrInWeb3[0]:null}get isFromFilterAddress(){let e=this.filterReceiveAddress(this.initWalletAddrListFromChain,this.receiveAddrObj?.specifiedAddress,!1),t=this.filterReceiveAddress(this.initWalletAddrListInStorage,this.receiveAddrObj?.specifiedAddress,!1);return!!(e.length+t.length)&&!!this.receiveAddrObj?.specifiedAddress}},us=Mn;var Ln=class extends us{constructor(t){super(t);c(this,"formatInputValueEx",(t,r)=>{let{keyringName:o,walletName:i}=t;if(r.length<=9)return r;let a=ar(r);return o&&(a=`(${a})`,i?a=`${o} - ${i} ${a}`:a=`${o} ${a}`),a});c(this,"cacheToChainId",-1);c(this,"setCacheToChainId",t=>{this.cacheToChainId=t});c(this,"addressListEx",[]);c(this,"getWalletListEx",()=>{let{accountStore:t,fromToStore:r}=this.rootStore,o=z.getNetWorkName(r.to.chainId),{walletList:i,addressBookList:a,keyringIdentityTypeEnum:s}=t,d=(Oe.get(bt)||{})[r.to.chainId]||[],l=os(a,o),h=is(i,o);this.addressListEx=as({recentAddrData:d,addressBookData:l,walletListData:h,chainName:o,keyringIdentityTypeEnum:s})});fr(this)}get computedFormatReceiveAddrEx(){let{accountStore:t,fromToStore:r}=this.rootStore,{walletConfig:o}=t;if(this.receiveAddrObj.specifiedAddress)return this.formatInputValueEx(this.receiveAddrObj,this.receiveAddrObj.specifiedAddress);let i=z.getNetWorkName(r.to.chainId),a=o?.account[i];return a?(this.receiveAddrObj={...o,specifiedAddress:a},this.formatInputValueEx(o,a)):""}},ds=Ln;f();m();f();m();Be();f();m();Be();var Bu=/\s/,Vn=n=>!(!Yt(n)||Bu.test(n)||n.length<10);f();m();f();m();f();m();var L=class{constructor({orderData:e,extParams:t},r){c(this,"walletNoNeedExtParams",!1);c(this,"differentiatedEnvironment",e=>J()&&e.length>1&&!this.walletNoNeedExtParams&&!e[0].params?[{...e[0],extParams:e[1]}]:e);this.orderData=e,this.calldataType=e.calldataType,this.extParams=t||{},this.swapStore=r}get isTransferType(){return this.calldataType===fo.TRANSFER}};var qe=class extends L{constructor(){super(...arguments);c(this,"formatContractPayload",()=>{let{orderData:t}=this;return{...JSON.parse(t?.callData?.data)}});c(this,"formatTransferPayload",()=>{});c(this,"getSendTransactionParams",async()=>{let t=this.formatContractPayload();return this.differentiatedEnvironment([{...t,extParams:this.extParams}])});c(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};c(qe,"chainId",N.APTOS_MAINNET);f();m();var He=class extends L{constructor(t,r,o){super(t,r);c(this,"makeSendBtcCallParams",async t=>{let{preDataForSendBtc:r}=this.swapStore.rootStore.walletContractStore;if(!r)throw Error("preDataForSendBtc is not ready");let{satBytes:o,coinAmount:i,dustSize:a,fetchUtxoList:s,serviceCharge:u}=r,d=await s();return{...t,utxoList:d,satBytes:o,dustSize:a,coinAmount:i,serviceCharge:u}});c(this,"formatContractPayload",()=>{});c(this,"formatTransferPayload",async()=>{let{orderData:t}=this;return this.swapStore.transferBtcPayload(t.callData)});c(this,"extendExtParams",t=>({...t,extParams:this.extParams}));c(this,"getSendTransactionParams",async()=>{if(!this.token.isNativeToken)throw new Error("btc token is not native token");let t;if(this.isTransferType){let r=await this.formatTransferPayload();t=this.extendExtParams(r),J()&&(t=await this.makeSendBtcCallParams(t))}else throw Error("Not support contract call");return this.differentiatedEnvironment([t])});c(this,"preExecution",async()=>{if(!this.token.isNativeToken)throw new Error("btc token is not native token");let t;if(this.isTransferType)t=await this.formatTransferPayload();else throw Error("Not support contract call");return{payload:t}});this.token=o}};c(He,"chainId",N.BTC_MAINNET);f();m();f();m();function ht(n,e){try{let{BigNumber:t}=Q;return`${e}${new t(n).toString(16)}`}catch{return`${e}0`}}var Bn=["nonce","gas","gasPrice","maxFeePerGas","maxPriorityFeePerGas","priorityFee","value"],jt=n=>Bn.reduce((e,t)=>((n[t]||n[t]===0)&&(e[t]=ht(n[t],"0x")),e),n),Lr=class extends L{constructor(){super(...arguments);c(this,"valueToHex",(t,r="")=>`${r}${Q.BigNumber(t).toString(16)}`);c(this,"formatContractPayload",({needGasPrice:t,isSilentSign:r=!1}={})=>{let{orderData:o}=this,{priorityFee:i,maxFeePerGas:a,maxPriorityFeePerGas:s,gasPrice:u,gas:d,...l}=o?.callData||{},h=l;return t&&(h={...o?.callData,gasLimit:d}),r&&(h=jt(h)),h});c(this,"formatTransferPayload",()=>{let{orderData:t}=this;return t.callData});c(this,"getSendTransactionParams",async({needGasPrice:t=!1,isSilentSign:r=!1}={})=>{let{payload:o}=await this.preExecution({needGasPrice:t,isSilentSign:r});return vi&&o.value&&(o.value=ht(o.value)),this.differentiatedEnvironment([o])});c(this,"preExecution",async({needGasPrice:t,isSilentSign:r=!1}={})=>{let o;this.isTransferType?o=this.formatTransferPayload():o=this.formatContractPayload({needGasPrice:t,isSilentSign:r});let{extendEvmParams:i,extendsGas:a}=this.swapStore;return o.extParams=this.extParams,a&&(o=a(o)),o=i(o),{payload:o}})}};c(Lr,"chainId",N.ETHEREUM_MAINNET);var Vr=Lr;f();m();var Ke=class extends L{constructor(...t){super(...t);c(this,"formatContractPayload",async()=>{let{orderData:t}=this;return this.txData(t.unsignedTx)});c(this,"formatTransferPayload",async()=>{let{orderData:t}=this,{unsignedTx:r}=t;return this.txData(r)});c(this,"getSendTransactionParams",async()=>{let{payload:t}=await this.preExecution();return this.differentiatedEnvironment([t,this.extParams])});c(this,"preExecution",async()=>{let t;return this.isTransferType?t=await this.formatTransferPayload():t=await this.formatContractPayload(),t});c(this,"getTxData",()=>{let{jitoData:t,jitoEnable:r=!1,unsignedTx:o}=this.orderData||{};try{if(r){let{jitoUnsignedTx:i}=t;return JSON.parse(i).array}return[JSON.parse(o)]}catch(i){throw new Error(i)}});c(this,"jitoTransaction",async()=>{let t=this.getTxData();try{return Promise.all(t.map(this.txData))}catch(r){throw new Error(r)}});let r=new Di;Object.assign(this,{...r})}};c(Ke,"chainId",N.SOLANA_MAINNET);f();m();var ze=class extends L{constructor(){super(...arguments);c(this,"formatContractPayload",()=>{let{orderData:t}=this,{data:r,from:o}=t.callData,i=JSON.parse(r);return{...i,functionArgs:i.functionArgsEncode,txType:"contract_call",stxAddress:o}});c(this,"formatTransferPayload",()=>{});c(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload(),this.extParams]));c(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};c(ze,"chainId",N.STACKS_MAINNET);f();m();var Ye=class extends L{constructor(){super(...arguments);c(this,"walletNoNeedExtParams",!0);c(this,"formatContractPayload",()=>{let{orderData:t}=this,r=JSON.parse(t.unsignedTx),{executionRequest:o}=JSON.parse(r.data);return o.calls});c(this,"formatTransferPayload",()=>{});c(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload()]));c(this,"preExecution",()=>({payload:this.formatContractPayload()}))}};c(Ye,"chainId",N.STARKNET_MAINNET);f();m();var Br=class extends L{constructor(){super(...arguments);c(this,"formatContractPayload",()=>{let{orderData:t}=this,{txBytes:r}=JSON.parse(t.unsignedTx);return{transactionBlock:r}});c(this,"getSendTransactionParams",async()=>this.differentiatedEnvironment([this.formatContractPayload(),this.extParams]));c(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};c(Br,"chainId",N.SUI_MAINNET);var Fn=Br;f();m();var Fr=class extends L{constructor(){super(...arguments);c(this,"walletNoNeedExtParams",!1);c(this,"formatContractPayload",()=>{let{orderData:t}=this,{params:r}=JSON.parse(t.unsignedTx);return r});c(this,"formatTransferPayload",()=>{let{orderData:t}=this,{params:r}=JSON.parse(t.unsignedTx);return r});c(this,"getSendTransactionParams",async()=>{let t=this.isTransferType?this.formatTransferPayload():this.formatContractPayload();return this.differentiatedEnvironment([t,this.extParams])});c(this,"preExecution",async()=>({payload:this.isTransferType?this.formatTransferPayload():this.formatContractPayload()}))}};c(Fr,"chainId",N.TON_MAINNET);var Un=Fr;f();m();var Xe=class extends L{constructor(){super(...arguments);c(this,"formatContractPayload",()=>{let{orderData:t}=this;return JSON.parse(t.unsignedTx)});c(this,"formatTransferPayload",()=>{});c(this,"getSendTransactionParams",async()=>{let t=this.formatContractPayload();return this.swapStore.extendTronParams&&(t=this.swapStore.extendTronParams(t)),this.differentiatedEnvironment([{...t,extParams:this.extParams}])});c(this,"preExecution",async()=>({payload:this.formatContractPayload()}))}};c(Xe,"chainId",N.TRON_MAINNET);var Fu={[He.chainId]:He,[Vr.chainId]:Vr,[Ke.chainId]:Ke,[qe.chainId]:qe,[Fn.chainId]:Fn,[Xe.chainId]:Xe,[ze.chainId]:ze,[Ye.chainId]:Ye,[Un.chainId]:Un},Uu=n=>Fu[n]||Vr,Wu=(n,e,t)=>{let{chainId:r}=n,o=Uu(r);return new o(e,t,n)},pt=Wu;f();m();function Gt(n){return n?.message&&n?.message?.includes("User denied transaction signature")?!0:[Te.USER_DENIED,Te.WC2Denied,Te.USER_DENIED_WC_RAINBOW,Te.WC_QR_DENIED].includes(n?.code)}function ls(n,e=""){return Gt(n)&&W.error({title:e||S("swaptrade_notification_notif_transaction_canceled"),placement:W.DIRECTION.top}),Promise.reject(n)}var qt=class{constructor(e){c(this,"walletSignConfirming",!1);c(this,"defaultGasFee","--");c(this,"isWalletConfirm",!1);c(this,"setWalletConfirm",e=>{this.isWalletConfirm=e});c(this,"isConfirmLoading",!1);c(this,"txInfo",{});c(this,"resetTxInfo",()=>{this.txInfo={}});c(this,"showRecentTransactionModal",e=>{this.confirmSwapVisible=!1,this.rootStore.recentTransactionStore.showModal(e)});c(this,"saveOrderParamsExtendSlippageAndGasPrice",e=>{let t={...e},{computedQuote:r,fromToStore:o}=this,{computedIsSingleChain:i,computedDefaultAutoSlippageInfo:a}=o,{autoSlippageInfo:s}=r.bestRoute||{},u=yi({isSingleChain:i,autoSlippageInfo:a}),d={autoSlippageInfo:s||{}},l=D(this,"rootStore.slippageStore");return l&&(u=l.computedRealSlippageValue,d=l.getOrderSlippageInfo()),Object.assign(t,{slippage:String(u),...bi({slippageInfo:d,isSingleChain:i})})});c(this,"saveOrderSingleChainParams",async e=>{let{computedQuote:t}=this,{originDexRouterList:r,dexRouterList:o,serviceFeeInfo:i,quoteData:a}=t.bestRoute||{},s=await zo({serviceFeeInfo:i,address:this.accountStore?.computedSignWalletAddress,chainId:e.chainId});return{...e,dexRouterList:o,originDexRouterList:r,serviceFeeInfo:s,referralCommissionJsVersion:Ko,quoteData:a}});c(this,"saveOrderCrossChainParams",e=>{let{computedQuote:t,fromToStore:r}=this,{receiveAddressStore:o}=this.rootStore,{to:i,computedDiffCrossChain:a}=r,{receiveAddrObj:s}=o,{fromDexRouterList:u,bridge:d,toDexRouterToList:l,originFromDexRouterList:h}=t.bestRoute||{};return{...e,toChainId:i.chainId,crossChainDexRouter:{fromDexRouterList:u,toDexRouterToList:l,bridge:d,originFromDexRouterList:h},...a?{receiveWalletAddress:s?.specifiedAddress}:{}}});c(this,"saveOrderParams",async()=>{let{fromToStore:e}=this,{computedIsSingleChain:t}=e,r=this.baseSaveOrderParams();return t?this.saveOrderSingleChainParams(r):this.saveOrderCrossChainParams(r)});c(this,"calldataSign",null);c(this,"setCalldataSign",e=>{this.calldataSign=e});c(this,"extendSignParams",async e=>{let t={...e},r=D(this.quoteStore,"quote.bestRoute.permit2Data");if(r&&!this.calldataSign){let[o,i]=await this.checkPermit2();if(o)return null;this.setCalldataSign(i),t={...t,unsignedTx:r?.unsignedTx,signature:i}}else r&&this.calldataSign&&(t={...t,unsignedTx:r?.unsignedTx,signature:this.calldataSign});return t});c(this,"checkPermit2",async()=>{let e=D(this.quoteStore,"quote.bestRoute.permit2Data"),t=D(this.quoteStore,"quote.bestRoute.fromToken.chainId"),{signTransaction:r}=this.rootStore.sendTransactionStore,o=e?.unsignedTx,[i,a]=await r(o,t);return i&&(y.error(T.SIGN_PERMIT2_DATA,{error:i,unsignedTx:o}),Gt(i)||W.error({title:S("swaptrade_trading_mode_alert_order_fail"),placement:W.DIRECTION.top,enableLottie:!0})),[i,a]});c(this,"resetFromToAmount",()=>{this.fromToStore.updateFrom({amount:"",currentTime:"",prevAmount:"",usdPrice:""}),this.fromToStore.updateTo({amount:"",prevAmount:"",usdPrice:"",currentTime:""}),this.fromToStore.advanceSetTypedValue("")});c(this,"transferBtcPayload",e=>{let t={...e},{from:r}=this.fromToStore;return t.value=Lo(t.value,r.decimals),t});c(this,"getExtParams",e=>{let{computedIsSingleChain:t,to:r,from:o,computedDiffCrossChain:i}=this.fromToStore,{receiveAddrObj:a}=this.rootStore.receiveAddressStore,s=i?a?.specifiedAddress:r.tokenContractAddress;return{txSource:3,orderId:e,toTokenAddress:s,crossChain:t?0:1,chainId:o.chainId,tokenAddress:o.tokenContractAddress,amount:o.amount,toChainId:r.chainId}});c(this,"cacheVerifyCallDataResult",null);c(this,"setCacheVerifyCallDataResult",e=>{this.cacheVerifyCallDataResult=e});c(this,"checkCallData",async({chainId:e,responseData:t,requestParams:r})=>{let{computedAccountId:o,computedSignWalletAddress:i}=this.accountStore,a=await Ho({callData:t?.callData?.data,chainId:e,hasReferralCommission:t?.hasReferralCommission,address:i});return a.success||this.setCacheVerifyCallDataResult({...a,walletId:o,requestCommissionAddress:r?.serviceFeeInfo?.referralCommissionAddress}),a});c(this,"logVerifyCallDataResult",({txHash:e,orderId:t})=>{this.cacheVerifyCallDataResult&&!this.cacheVerifyCallDataResult.success&&(jo({...this.cacheVerifyCallDataResult,txHash:e,orderId:t}),this.setCacheVerifyCallDataResult(null))});c(this,"autoShowDialog",!0);c(this,"setAutoShowDialog",e=>{this.autoShowDialog=e});c(this,"widgetSubmitTxEvent",()=>{});c(this,"confirmSwapVisible",!1);c(this,"setConfirmSwapVisible",e=>{this.confirmSwapVisible=e});c(this,"isSwapSolana",e=>{let{computedIsSingleChain:t}=this.fromToStore;return!!(xe(e)&&t&&(this.rootStore.solanaPriorityFeeStore?.jitoData||de.memeChainType==="0"))});c(this,"extendSolanaCalldata",e=>{let t=de.computedPriorityFeeAmount,r=de.feeType===Wo.CUSTOM;return{...e,tradeMode:2,priorityFee:t,customPriorityFee:r}});c(this,"solanaSwapParams",null);c(this,"setSolanaSwapParams",e=>{this.solanaSwapParams=e});c(this,"getSolanaCalldata",e=>(this.setSolanaSwapParams(e),w(P.post(Co,e))));c(this,"solanaTransaction",async(e,t)=>{let{from:r}=this.fromToStore,{computedAccountId:o}=this.accountStore,a=await pt(r,{orderData:e,extParams:{}},this).jitoTransaction(),s=a.map(l=>l.payload.transaction);this.walletSignConfirming=!0;let[u,d]=await w(this.rootStore.sendTransactionStore.signAllTransactions(s));if(this.walletSignConfirming=!1,u){this.onWalletFail(u,e?.orderId),this.isConfirmLoading=!1,y.removeKeep();return}await this.sendSolanaTransaction({signedTransactions:d,txArray:a,swapParams:t,walletId:o,enableJito:e.jitoEnable,orderId:e?.orderId})});c(this,"sendSolanaTransaction",async({signedTransactions:e,txArray:t,swapParams:r,walletId:o,enableJito:i,orderId:a})=>{let[s,u]=await w(Ri({signedTransactions:e,txArray:t,swapParams:r,walletId:o,enableJito:i,orderId:a}));if(this.isConfirmLoading=!1,y.removeKeep(),s){W.error({title:s?.error_message||S("swaptrade_home_toast_initiation_error"),placement:W.DIRECTION.top,enableLottie:!0});return}let d=D(u,"data.broadcastResult.data.orderId"),l=D(u,"data.broadcastResult.data.transactionHash");this.afterTransaction(d,{txHash:l,chainId:r.chainId,txType:"SWAP"}),this.logVerifyCallDataResult({txHash:l,orderId:d})});c(this,"walletConfirming",!1);c(this,"formatClaimPayload",(e,t)=>{let{orderId:r,toChainId:o}=t;return pt({chainId:o},{orderData:e,extParams:{txType:86,txSource:3,orderId:r,toTokenAddress:t.toTokenAddress,chainId:t.chainId||t.fromChainId,tokenAddress:t.fromTokenAddress,amount:t.fromAmount,toChainId:o}},this).getSendTransactionParams()});c(this,"fetchClaimCalldata",async(e,t)=>{let{orderId:r}=e,[o,i]=await w(P.post(bo,{mainOrderId:r,payerWalletAddress:t}));if(o)return y.error(T.FETCH_CLAIM_CALDATA_ERROR,{error:o,tags:{orderId:r}}),W.error({title:o?.error_message||S("swaptrade_home_toast_initiation_error"),placement:W.DIRECTION.top,enableLottie:!0}),null;let a=D(i,"data",{});return{payload:await this.formatClaimPayload(i?.data||{},e),sourceClaimPayload:a}});c(this,"updateClaimOrder",e=>{y.info(T.UPDATE_CLAIM_ORDER,{params:e,tags:{orderId:e.mainOrderId}}),P.post(To,e)});this.rootStore=e,this.commonStore=e.commonStore,this.accountStore=e.accountStore,this.fromToStore=e.fromToStore,this.tokenModalStore=e.tokenModalStore,this.quoteStore=e.quoteStore,this.gasDropStore=e.gasDropStore}get computedEstimateGasFee(){let e=this.defaultGasFee,t=this.commonStore.nowCurrencyUnit,r=D(this.computedQuote.bestRoute,"quoteNetWorkFeeOfMoney");if(this.isSwapSolana(this.fromToStore.from.chainId)&&this.quoteStore.enableQuoteAggregates){let i=D(this.rootStore.solanaPriorityFeeStore,"computedPriorityFeeOfUsd",0);r=Q.add(i,r,{returnString:!0})}let o=Q.BigNumber(r).multipliedBy(D(t,"usdToThisRate"));return!ro(t)&&!o.isNaN()&&(e=et(o.toJSON(),t?.symbol)),e}get computedCrossChainFromFee(){let e=D(this.computedQuote.bestRoute,"fromSwapFeeUsd");if(!e||no(Number(e)))return"--";let{computedNowCurrencySymbol:t,currencyConversion:r}=this.commonStore,o=r(e).toString();return`${et(o,t)}`}updateTxHash(e){this.rootStore.sendTransactionStore.updateTxHash(e)}cancelOrder(e){e&&this.rootStore.sendTransactionStore.cancelOrder(e)}baseSaveOrderParams(){let{accountStore:e,computedQuote:t,fromToStore:r,quoteStore:o,gasDropStore:i}=this,{from:a,to:s,computedIsSingleChain:u}=r,{estimateGasFee:d,minimumReceived:l,gasDropAmount:h,defiPlatformId:v,traceData:C,isEnableMev:R}=t.bestRoute||{},{supportCustomGasFee:V,feeType:k}=de,{computedIsMevOpen:B}=this.rootStore.mevStore,F={chainId:a.chainId,fromAmount:o?.computedQuoteAmount,fromTokenAddress:a.tokenContractAddress,fromTokenDecimal:String(a.decimals),toAmount:s.reverseReceiveAmount,toTokenAddress:s.tokenContractAddress,toTokenDecimal:String(s.decimals),userWalletAddress:e.address,estimateGasFee:d,pmm:"1",gasDropType:i?.computedGasDropSelected?1:0,gasDropAmount:h,minimumReceived:l,openMev:B,toChainId:s.chainId,traceData:C};if(v&&(F.defiPlatformId=v),u&&(F.mevInfo=de.getMevInfo(R),V)){let x=J();F.priorityFeeType=x?gi[k]:k,F.priorityFee=de.computedPriorityFeeAmount,a.chainId===N.X_LAYER_MAINNET&&(F.gasPrice=String(de.computedPriorityFeeAmount))}let te=this.rootStore.outerStore.extendFeeConfig(F);return this.saveOrderParamsExtendSlippageAndGasPrice(te)}saveOrderUrl(){return Eo}onSaveOrder(e){let t={...e,...xi()};return y.info(T.SAVE_ORDER_PARAMS,{data:t}),P.post(this.saveOrderUrl(),t)}saveOrderErr(e){let{error_code:t,error_message:r=""}=e;return y.error(T.SAVE_ORDER_ERROR,{error:e}),t==="10014"?W.error({title:S("swaptrade_toast_trade_not_available"),placement:W.DIRECTION.top,enableLottie:!0}):W.error({title:r||S("swaptrade_toast_save_order_fail"),placement:W.DIRECTION.top,enableLottie:!0})}saveOrderError(e){this.saveOrderErr(e),this.isConfirmLoading=!1,y.removeKeep()}async onSwap(e){this.isConfirmLoading=!0,y.keepLive(),this.setCalldataSign(null);let t=await this.saveOrderParams(),r=await this.extendSignParams(t);if(!r){this.isConfirmLoading=!1;return}if(this.isSwapSolana(r.chainId)){await this.onSolanaSwap(r);return}let[o,i]=await w(this.onSaveOrder(r));if(o){this.saveOrderError(o);return}y.info(T.SAVE_ORDER,{data:i?.data,tags:{orderId:i?.data.orderId}}),rn({...At(),order_id:i?.data.orderId,wallet_type:this.accountStore.walletConfig?.walletType}),this.checkCallData({chainId:r.chainId,responseData:i?.data||{},requestParams:r}).catch(()=>{});let[a]=await w(this.onChainTransaction({...i?.data,swapParams:r},e));a&&(this.walletSignConfirming=!1,this.onWalletFail(a,i?.data?.orderId)),this.isConfirmLoading=!1,y.removeKeep()}walletErrorMessage(e){let t=null;try{t=JSON.parse(e?.message)}catch{t={}}return t}walletErrToast(e,t){let r,o=this.walletErrorMessage(e);if(y.error(T.SEND_ERROR,{error:e,tags:{orderId:t}}),o?.code===Te.SLIPPAGE_LOW)r=S("swaptrade_home_toast_slippage_too_low");else if(o?.code===Te.SEND_TX_ERROR_CODE)r=o?.message;else if(o?.code===Te.NOT_TIPS)return null;return W.error({title:r||S("swaptrade_home_toast_broadcast_failed"),placement:W.DIRECTION.top,enableLottie:!0,duration:0})}onWalletFail(e,t,r=!1){Gt(e)?r||this.cancelOrder(t):e?.code!==yo.RECEIPT_ERROR&&(cn.emit(sn.FAIL,{data:{orderId:t},status:-2,message:Kr("transaction fail")}),this.walletErrToast(e,t)),y.error(T.ON_WALLET_FAIL,{error:e,tags:{orderId:t}})}extendEvmParams(e){return e}isOkxWallet(){}async getTransactionPayload({orderData:e,orderId:t}){let{from:r,computedIsSingleChain:o}=this.fromToStore,i=pt(r,{orderData:e,extParams:this.getExtParams(t)},this),a=o&&de.supportCustomGasFee;return i.getSendTransactionParams({needGasPrice:a})}sendTransactionEnhance(...e){return this.rootStore.sendTransactionStore.sendTransaction(...e)}getTransaction(){}logChainId(){return!0}async doubleCheckChainId(){return!0}async onChainTransaction(e,t){let{callData:r,orderId:o,swapParams:i}=e,a=await this.getTransactionPayload({orderData:e,orderId:o}),{computedIsEvmChain:s,from:u}=this.fromToStore;if(y.info(T.PAYLOAD,{payload:a,tags:{orderId:o}}),t)try{await t(...a)}catch(l){return y.error(T.BEFORE_SEND_TRANSACTION_ERROR,{error:l}),!1}return this.logChainId({message:T.CHECK_CHAIN_ID_BEFORE_SEND_TRANSACTION,fromChainId:u.chainId,saveOrderChainId:i.chainId,orderId:o}),await this.doubleCheckChainId({saveOrderChainId:i.chainId,orderId:o})?(this.walletSignConfirming=!0,this.sendTransactionEnhance(...a).then(({result:l,nonce:h})=>{if(this.walletSignConfirming=!1,!Vn(l))throw new Error(`hash format is invalid: ${l}`);return this.txInfo={...r,txHash:l},Q.BigNumber(h).isNaN()?(this.updateTxHash({orderId:o,transactionHash:l}),s&&this.getTransaction(l,this.fromToStore.from.chainId).then(v=>{y.info(T.UPDATE_NONCE,{nonce:v.nonce,tags:{orderId:o}}),this.updateTxHash({orderId:o,transactionHash:l,nonce:v.nonce})}).catch(v=>{y.error(T.UPDATE_NONCE_FAIL,{error:v})})):this.updateTxHash({orderId:o,transactionHash:l,nonce:h}),this.afterTransaction(o,{txHash:l,chainId:i.chainId,txType:"SWAP"}),this.logChainId({message:T.CHECK_CHAIN_ID_AFTER_SEND_TRANSACTION,fromChainId:u.chainId,saveOrderChainId:i.chainId,orderId:o}),this.logVerifyCallDataResult({txHash:l,orderId:o}),!0})):!1}afterTransaction(e,t){this.setWalletConfirm(!0),this.autoShowDialog&&this.showRecentTransactionModal(e),cn.emit(sn.TXHASH,{status:0,data:G(this.txInfo),message:Kr("Transaction hash has been generated")}),this.widgetSubmitTxEvent(t)}get computedQuote(){return this.quoteStore.quote}checkRepeatOrderDetail(e){e&&this.rootStore.recentTransactionStore.showModal(e)}async onSolanaSwap(e){let t=this.extendSolanaCalldata(e),[r,o]=await this.getSolanaCalldata(t);if(r){this.saveOrderError(r);return}y.info(T.SAVE_ORDER,{data:o?.data,tags:{orderId:o?.data.orderId}}),rn({...At(),order_id:o?.data.orderId,wallet_type:this.accountStore.walletConfig?.walletType}),this.checkCallData({chainId:e.chainId,responseData:o?.data,requestParams:t}).catch(()=>{}),await this.solanaTransaction(o.data,t)}async onClaim(e){let{getAddressByChainId:t}=this.rootStore.accountStore,r=t(e.toChainId),o=await this.fetchClaimCalldata(e,r);if(!o||!o.payload)return!1;let{payload:i}=o;return await this.doubleCheckChainId({saveOrderChainId:e.toChainId,orderId:e.orderId})?(this.walletConfirming=!0,y.info(T.CLAIM_PAYLOAD,{payload:i,tags:{orderId:e.orderId}}),this.sendTransactionEnhance(...i).then(({result:s,nonce:u})=>{if(this.walletConfirming=!1,!Vn(s))throw new Error(`hash format is invalid: ${s}`);Q.BigNumber(u).isNaN()?this.updateClaimOrder({mainOrderId:e.orderId,redeemTxHash:s}):this.updateClaimOrder({mainOrderId:e.orderId,redeemTxHash:s,nonce:u})}).catch(s=>{this.walletConfirming=!1,this.onWalletFail(s,e.orderId,!0)})):!1}};f();m();var fs=Ti(["isWalletConfirm","isConfirmLoading","txInfo","confirmSwapVisible","walletConfirming","walletSignConfirming"],["computedEstimateGasFee","computedCrossChainFromFee","computedQuote"]);var Ht=class extends qt{constructor(t){super(t);c(this,"sendTransactionEnhance",t=>{let{from:r}=this.rootStore?.fromToStore,{walletSendParams:o}=this.rootStore.walletContractStore;return this.rootStore.sendTransactionStore.sendTransaction(r.chainId,t,o).then(i=>Ni(r.chainId,i))});c(this,"showRecentTransactionModal",t=>{this.isConfirmLoading=!1,this.confirmSwapVisible=!1,y.stuff(`orderId: ${t}`),z.history.go(-1);let{advanceSetTypedValue:r}=this.rootStore?.fromToStore;r?.("")});c(this,"baseSaveOrderParams",()=>({...super.baseSaveOrderParams()}));c(this,"extendsGas",t=>{let r={...t},{gasInfo:o}=this.rootStore.walletContractStore,{gasLimitInfo:i,isGasLimitLoading:a,gasType:s,...u}=o;return r.extParams.gasType=s,{...r,gasInfo:u}});c(this,"extendEvmParams",t=>{let r=super.extendEvmParams(t),{activityId:o}=this.rootStore.walletContractStore,i=this.rootStore.quoteStore.quote?.bestRoute?.isEnableMev;o&&(r.extParams.activityId=o);let{computedIsMevOpen:a,mevInfo:s,walletMevControl:u}=this.rootStore.mevStore;return r.extParams.isMev=a||u||Boolean(de.getMevInfo(i)),r.extParams.mevInfo=s,!a&&Number(i)===po.ON&&(r.extParams.isShowBlockSwapMevTooltip=!0),r});c(this,"extendTronParams",t=>{let r={...t},{maxGasFeeInt:o}=this.rootStore.walletContractStore;return r.maxGasFeeInt=o,r});c(this,"onWalletFail",(t,r)=>{this.isConfirmLoading=!1,!t?.message?.includes(z.global?.HARDWALLETERROR)&&super.onWalletFail(t,r)});c(this,"checkRepeatOrderDetail",t=>{t&&z.history.push(`${rr}/${t}`)});c(this,"checkUtxoBeforePublish",async t=>{let{utxoList:r}=t,{preDataForSendBtc:o}=this.rootStore.walletContractStore,{checkUtxoBeforePublish:i}=o;await i(r)});c(this,"onSwap",async()=>{let{computedIsOfflineType:t}=this.rootStore.quoteStore,{computedIsFromBtcCoin:r}=this.rootStore?.fromToStore;t?await this.rootStore.intentSwapStore?.onIntentSwap():await super.onSwap(r?this.checkUtxoBeforePublish:null)});c(this,"getSaveOrderMonitorData",()=>({...At(),...this.rootStore.walletContractStore.computedMonitorGasType}));c(this,"onClaim",t=>{z.history.push(`${uo}?orderId=${t.orderId}&source=orderDetail`)});so(this,fs)}isOkxWallet(){return!0}getTransaction(){}walletErrorMessage(t){return t}};f();m();var Wn=class{constructor(e){c(this,"sendTransactionParams",{});c(this,"waitingHandleOrderList",[]);c(this,"needIntercept",!1);c(this,"updateHistoryOrderList",e=>{let t=J(),r=[],o=[],i=this.rootStore.recentTransactionStore;i.pendingOrders.forEach(a=>{let s=a;a.orderId===e&&(s={...a,status:I.PendingRedeeming}),r.push(s)}),!t&&i.history?.list?.forEach(a=>{let s=a;a.orderId===e&&(s={...a,status:I.PendingRedeeming}),o.push(s)}),i.setPendingOrders(r),!t&&i.setHistory({...i.history,list:o})});c(this,"sendTransactionEnhance",async({callData:e,chainId:t,redeemOrderIdPre:r,redeemOrderId:o,bizType:i},a=()=>{})=>{let s=J(),u=`${r}:${o}`;if(!s&&this.setWaitingHandleList(u),this.needIntercept)return;let d;if(J()){let l=this.rootStore.swapStore.extendsGas(e);d=this.sendTransactionStore.sendTransactionEnhance(t,l,this.rootStore?.walletContractStore?.walletSendParams)}else{if(!await this.rootStore.commonStore.connectAndSwitchNetwork(t))return;d=this.sendTransactionStore.sendTransactionEnhance(e)}d.then(({result:l,hash:h,nonce:v})=>{!s&&this.setWaitingHandleList(u,!0),this.sendTransactionStore.updateTxHash({orderId:o,transactionHash:s?h:l,bizType:i,nonce:v}),Bo(a),this.updateHistoryOrderList(r),s||this.sendTransactionStore.getTransaction(l,t).then(C=>{y.info(T.UPDATE_NONCE,{nonce:C.nonce,tags:{orderId:o}}),this.sendTransactionStore.updateTxHash({orderId:o,transactionHash:l,nonce:C.nonce,bizType:i})}).catch(C=>{y.error(T.UPDATE_NONCE_FAIL,{error:C,transactionHash:l,tags:{orderId:o}})})}).catch(l=>{!s&&this.setWaitingHandleList(u,!0),y.error(T.REDEEM_ORDER_ERROR,{error:l,tags:{orderId:o}})})});c(this,"walletSendRedeem",()=>{this.sendTransactionEnhance(this.sendTransactionParams,()=>{z.history?.goBack()})});c(this,"facetOrderDetail",{});this.rootStore=e,this.sendTransactionStore=e.sendTransactionStore,Je(this,{},{autoBind:!0})}setSendTransactionParams(e){this.sendTransactionParams=e}async launchFacetSwap(e){let t=J(),{data:r}=this.rootStore.recentTransactionStore.detail,o=e?e.orderId:r?.orderId,i=e?e.chainId:r?.fromChainId,a=e?e.toTokenAddress:r?.toTokenAddress,s=e?e.fromTokenAddress:r?.fromTokenAddress,u={orderId:o,chainId:i,userWalletAddress:this.rootStore.accountStore.getAddressByChainId(i)};if(t&&e?.goOrderDetail){z.history?.push(`${rr}/${o}`);return}let[d,l]=await w(P.post(Io,u));if(d){y.error(T.REDEEM_ORDER_CALL_DATA_ERROR,{error:d,tags:{orderId:o}}),Number(d?.code)===100002&&this.rootStore.recentTransactionStore.removePendingOrder(o),pe.error({title:d?.msg||S("swaptrade_top_notif_data_failed")});return}let{redeemSignatureVo:h,redeemDetailInfo:v,redeemOrderId:C,bizType:R}=l?.data||{},{unsignedTx:V,...k}=h||{},B={...k,extParams:{toTokenAddress:a,crossChain:0,tokenAddress:s,amount:v.fromTokenAmount,toChainId:i,...u}},F={callData:B,chainId:i,redeemOrderIdPre:o,redeemOrderId:C,bizType:R};if(this.setSendTransactionParams(F),y.info(T.REDEEM_ORDER,{callData:B,tags:{orderId:C}}),t){this.setFacetOrderDetail({...v}),this.rootStore.walletContractStore.setTransactionPayload(B),z.history?.push({pathname:co,search:`needUpdate=${mo.off}&type=${ho.REDEEM}`});return}await this.sendTransactionEnhance(F)}setWaitingHandleList(e,t=!1){this.waitingHandleOrderList.find(o=>o===e)?t?(this.waitingHandleOrderList=this.waitingHandleOrderList.filter(o=>o!==e),this.needIntercept=!1):(pe.warn({title:S("swaptrade_history_notification_desc_wallet_confirm")}),this.needIntercept=!0):(this.waitingHandleOrderList=[...this.waitingHandleOrderList,e],this.needIntercept=!1)}getFacetExploreUrl(e){let{data:t}=this.rootStore.recentTransactionStore.detail,r=[t?.fromChildOrderDetailVo?.exploreUrl,t?.relativeTransaction?.exploreUrl];return this.computedIsFacetTradeType&&r?.[e]||""}get computedIsFacetTradeType(){let{data:{specialOrderType:e}}=this.rootStore.recentTransactionStore.detail;return e===Pi.FromIsEthChainFacetCoin}get computedShowFacetTip(){return this.rootStore.recentTransactionStore.detail.data.status===I.PendingCanRedeem}setFacetOrderDetail(e){this.facetOrderDetail=e}get computedFacetOrderToFromRate(){let{price:e}=this.facetOrderDetail;return e&&!en(e)&&e!=="-1"?Ae(e):""}get computedFacetOrderFromToRate(){let{price:e}=this.facetOrderDetail;return e&&!en(e)&&e!=="-1"?Ae(Q.BigNumber("1").div(e).toString(10),{needBillionMillionUnit:!1}):""}get computedFacetOrderTokens(){let{fromToken:e,toToken:t,fromTokenAmount:r,toTokenAmount:o}=this.facetOrderDetail;return{fromToken:{...e,amount:r},toToken:{...t,amount:o}}}get computedFacetOrderMinimumReceived(){return this.facetOrderDetail.minimumReceived}get computedFacetTipParams(){let e=this.rootStore.recentTransactionStore.detail?.data;return{amount:Ae(e?.fromChildOrderDetailVo?.toAmountOut,{needBillionMillionUnit:!1}),token:e?.fromChildOrderDetailVo?.toTokenSymbol}}},ms=Wn;f();m();Be();var $n=class{constructor(e){c(this,"orderCheckContinue",async e=>{let[t,r]=await w(P.get(wo,{params:e}));if(t)return pe.error({title:S("swaptrade_history_toast_setup_error"),duration:Fe}),!1;let o=D(r,"data"),i=String(o?.checkCode);return i===Ze.SUCCESS?!0:(i===Ze.SINGLE_ERROR||i===Ze.LIMIT_SINGLE_ERROR?pe.error({title:S("swaptrade_history_toast_chain_unsupported",{chain:o?.fromChainName}),duration:Fe}):i===Ze.CROSS_ERRORL||i===Ze.LIMIT_CROSS_ERRORL?pe.error({title:S("swaptrade_history_toast_both_unsupported",{fromChain:o?.fromChainName,toChain:o?.toChainName}),duration:Fe}):pe.error({title:S("swaptrade_history_toast_setup_error"),duration:Fe}),!1)});this.rootStore=e,Je(this,{},{autoBind:!0})}},hs=$n;f();m();var ps=n=>n===Mi.BEST64;f();m();var id=U(ie());f();m();var Ur=class{constructor(){this.receiveAddressStore=new ds(this),this.commonStore=new Ai(this),this.accountStore=new Ei(this),this.fromToStore=new $t(this),this.swapStore=new Ht(this),this.facetStore=new ms(this),this.recentTransactionStore=new Vi(this),this.oneMoreOrderStore=new hs(this),this.sendTransactionStore=new wi(this)}};f();m();var Ve=U(ie()),qs=U(io());f();m();var ee=U(ie());f();m();var X=U(ie()),ye=U(Qt());f();m();var jn=U(ie()),_s=U(Qt());var $u=({expireTime:n,absoluteContent:e})=>jn.default.createElement("div",{className:(0,_s.default)(E.expireTime,e&&E.absoluteExpireTime)},jn.default.createElement("div",{className:E.expireTimeContent},Vo(n*1e3,{hideZero:!0})||"--")),Wr=$u;var ju=n=>{let t=E.loader,r=o=>({icon:X.default.createElement(M.Circle,{size:M.SIZE.md,type:M.TYPE.neutral,loaderClassName:t,className:E.loaderWrap}),descClassName:(0,ye.default)(E.pendDescKey),descKey:o});switch(n){case I.Pending:return r("swaptrade_order_status_pending");case I.Succeed:return{icon:X.default.createElement(q,{className:(0,ye.default)("okds-success-circle",E.successIcon),size:24}),descKey:"swaptrade_order_status_succeed"};case I.PendingWithdrawn:return{icon:X.default.createElement(q,{className:(0,ye.default)("okx-defi-marketplace-clock"),size:24}),descKey:S("swaptrade_history_cell_tag_processing")};case I.PendingCanRedeem:return{icon:X.default.createElement(q,{className:(0,ye.default)("okds-success-circle",E.pendingFacet),size:24}),descKey:S("swaptrade_history_cell_tag_pending_withdrawal")};case I.PendingRedeeming:return r("swaptrade_history_cell_tag_withdrawing");case I.Failed:return{icon:X.default.createElement(q,{className:(0,ye.default)("okds-fail-circle",E.failIcon),size:24}),descKey:"swaptrade_orders_text_details_order_failed",descClassName:E.failDesc};case I.Canceling:return{icon:X.default.createElement(M.Circle,{size:M.SIZE.md,type:M.TYPE.neutral,loaderClassName:t,className:E.loaderWrap}),descKey:"swaptrade_placeorder_title_canceling"};case I.Canceled:return{icon:X.default.createElement(q,{className:(0,ye.default)("okds-fail-circle",E.cancelIcon),size:24}),descKey:"swaptrade_placeorder_title_transaction_canceled"};case I.ReadyToClaim:case I.ClaimFailed:return{icon:X.default.createElement(q,{size:24,className:(0,ye.default)("okx-defi-dex-ready-to-claim")}),descKey:"swaptrade_bridge_cell_tag_ready_to_claim"};case I.Claiming:return{icon:X.default.createElement(M.Circle,{size:M.SIZE.md,type:M.TYPE.neutral,loaderClassName:t,className:E.loaderWrap}),descKey:"swaptrade_bridge_header_claiming"};default:return{}}};function Gu({order:n,className:e="",computedPendingTimingStatus:t,expireTime:r,showExpireTime:o}){let{status:i}=n,a=[I.Waiting,I.SpeedingUp].includes(i)?I.Pending:i,s=ju(a);return X.default.createElement("div",{className:E.headerStatusWrap},X.default.createElement("div",{className:(0,ye.default)(E.status,e)},X.default.createElement("span",{className:E.headerStatusIcon},s?.icon),X.default.createElement("div",{className:(0,ye.default)("font-700 font-18 content-primary",E.desc,s?.descClassName)},S(s?.descKey)||s?.descKey)),o&&a===I.Pending&&t===hr.ESTIMATE&&X.default.createElement(Wr,{expireTime:r}))}var gs=Gu;f();m();var Z=U(ie()),he=U(Qt());var qu=(n,e)=>{let r=(0,he.default)({[E.loader]:!e});switch(Number(n)){case _e.COMPLETED:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-success-circle",E.successIcon),size:24}),descKey:"swaptrade_tee_header_completed"};case _e.ACTIVE:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-pending-circle",E.blueIcon),size:24}),descKey:"swaptrade_tee_header_active"};case _e.TRADING:return{icon:Z.default.createElement(M.Circle,{size:M.SIZE.xl,type:M.TYPE.neutral,loaderClassName:r,className:E.loaderWrap}),descKey:"swaptrade_tee_cell_header_trading"};case _e.FAILED:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-fail-circle",E.failIcon),size:24}),descKey:"swaptrade_orders_text_details_order_failed",descClassName:E.failDesc};case _e.CREATING:return{icon:Z.default.createElement(M.Circle,{size:M.SIZE.xl,type:M.TYPE.neutral,loaderClassName:r,className:E.loaderWrap}),descKey:"swaptrade_tee_header_creating_order"};case _e.EXPIRED:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-clock",E.greyIcon),size:24}),descKey:"swaptrade_tee_header_expired"};case _e.CANCELLING:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-pending-circle",E.blueIcon),size:24}),descKey:"swaptrade_tee_cell_header_canceling"};case _e.CANCELLED:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-warning-circle",E.greyIcon),size:24}),descKey:"swaptrade_tee_header_canceled"};case _e.SUSPENDED:return{icon:Z.default.createElement(q,{className:(0,he.default)("okds-warning-circle",E.greyIcon),size:24}),descKey:"swaptrade_tee_header_suspended"};default:return{}}};function Hu({order:n,isWalletEnv:e,className:t}){let{status:r}=n,o=qu(r,e);return Z.default.createElement("div",{className:E.headerStatusWrap},Z.default.createElement("div",{className:(0,he.default)("text-center",E.status,t)},Z.default.createElement("span",{className:E.headerStatusIcon},o?.icon),Z.default.createElement("div",{className:(0,he.default)("font-700 font-18 content-primary",o?.descClassName)},S(o?.descKey))))}var vs=Hu;f();m();var Gn=U(ie()),Ss=U(Qt());var Ku=({isLimit:n,order:e,computedPendingTimingStatus:t,expireTime:r,onBack:o=()=>{},showBackButton:i,hideBackButton:a=!1})=>{let{status:s}=e||{},u=[I.Waiting,I.SpeedingUp].includes(s)?I.Pending:s;return{renderTopLeft:()=>a?null:i||n?Gn.default.createElement(q,{className:(0,Ss.default)("okx-defi-dex-arrow-left",E.backIcon),size:24,onClick:o}):u===I.Pending&&t===hr.ESTIMATE?Gn.default.createElement(Wr,{expireTime:r,absoluteContent:!0}):null,topClassName:n?"":E.topWrapper}},ys=Ku;f();m();f();m();f();m();f();m();async function bs(n){return await P.post(xo,n)}f();m();async function Ts(n){return await P.post("/priapi/v1/dx/trade/market-trade/confirm-order",n)}f();m();var qn=class{constructor(){this.supportEvmSign=!1;this.currentWalletVersion="";this.isOkxWallet=!1;this.supportBs64Version=!1;this.supportSuiSilentSign=!1;Je(this,{},{autoBind:!0})}setSupportEvmSign(e){this.supportEvmSign=e}setSupportBs64Version(e){this.supportBs64Version=e}setSupportSuiSilentSign(e){this.supportSuiSilentSign=e}async checkWalletVersion(){try{let e=await qo();if(this.isOkxWallet=e,e){let t=await ei(),r=tr(t||"","3.68.15"),o=tr(t||"","3.74.12"),i=tr(t||"","3.76.0");this.setSupportEvmSign(r>=0),this.setSupportBs64Version(o>=0),this.setSupportSuiSilentSign(i>=0),this.currentWalletVersion=t}}catch{this.reset()}}reset(){this.setSupportEvmSign(!1),this.currentWalletVersion="",this.isOkxWallet=!1,this.supportBs64Version=!1}},$r=new qn;f();m();f();m();f();m();var Hn=class{constructor(){this.signMessageBase=async e=>await Yo({message:e,signType:"bs58"});this.sendTransactionBase=async e=>(await Xo(...e)).result;this.signSilent=async({chainId:e,originMethod:t,originParams:r})=>await sr({chainId:e,originMethod:t,originParams:r})}},Le=Hn;var Kn=class extends Le{constructor(){super(...arguments);this.signMessage=async({chainId:t,message:r},o={isSilent:!1})=>{if(o.isSilent){let i=await dr(t);return this.signSilent({chainId:t,originMethod:"personal_sign",originParams:[r,i]})}return this.signMessageBase(r)};this.sendTransaction=async({chainId:t,callParams:r},o={isSilent:!1})=>{if(o.isSilent){let a=r[0];return{transactionHash:await this.signSilent({chainId:t,originMethod:"eth_sendTransaction",originParams:[{...a,chainId:jt(t)}]}),nonce:a.nonce}}return{transactionHash:await this.sendTransactionBase(r)}}}},Es=new Kn;f();m();var zn=class extends Le{constructor(){super(...arguments);this.signMessage=({message:t})=>this.signMessageBase(t);this.sendTransaction=async({callParams:t})=>({transactionHash:await this.sendTransactionBase(t)})}},As=new zn;f();m();Be();var Yn=class extends Le{constructor(){super(...arguments);this.signMessage=async({chainId:t,message:r},o={isSilent:!1})=>{if(o.isSilent){let i=new TextEncoder().encode(r),a=await this.signSilent({chainId:t,originMethod:"signMessage",originParams:[i,"utf8"]});return(await si()).encode(a.signature)}return this.signMessageBase(r)};this.sendTransaction=async({chainId:t,callParams:r},o={isSilent:!1})=>o.isSilent?{transactionHash:await this.signSilent({chainId:t,originMethod:"signTransaction",originParams:[r]})}:{transactionHash:await this.sendTransactionBase(r)};this.signAllTransactions=({chainId:t,transactions:r},o={isSilent:!1})=>{if(o.isSilent){let i=Yt(r[0].transaction);return this.signSilent({chainId:t,originMethod:"signAllTransactions",originParams:[r,{skipKys:!0,signRaw:i}]})}return Qo({transactions:r})}}},Xn=new Yn;f();m();var Qn=class extends Le{constructor(){super(...arguments);this.signMessage=({message:t})=>this.signMessageBase(t);this.sendTransaction=async({chainId:t,callParams:r},o={isSilent:!1})=>{if(o.isSilent&&$r.supportSuiSilentSign){let{transactionBlock:a}=r[0],s=Mo.from(a),u=await dr(t),d={transactionBlock:s,account:u,chain:N.SUI_MAINNET};return{transactionHash:(await this.signSilent({chainId:t,originMethod:"sui:signAndExecuteTransactionBlock",originParams:[d]})).digest}}return{transactionHash:await this.sendTransactionBase(r)}}}},Os=new Qn;var Jn=class{constructor(){this.evmMethod=Es;this.solanaMethod=Xn;this.otherChainMethod=As;this.suiMethod=Os;this.handleMethod=e=>xe(e)?this.solanaMethod:lr(e)?this.suiMethod:vo.includes(e)?this.otherChainMethod:this.evmMethod;this.signMessage=async({chainId:e,message:t},r={isSilent:!1})=>this.handleMethod(e).signMessage({chainId:e,message:t},r).catch(i=>{throw ls(i),i});this.sendTransaction=async({chainId:e,callParams:t},r={isSilent:!1})=>this.handleMethod(e).sendTransaction({chainId:e,callParams:t},r);this.signAllTransactions=async({chainId:e,transactions:t},r={isSilent:!1})=>Xn.signAllTransactions({chainId:e,transactions:t},r)}},ue=new Jn;var _t={getMarketCalldata:async(n,e)=>{let t=P.post(ko,n,{signal:e}),[r,o]=await w(t);return[r,o]},getMarketQuoteAndCalldata:async(n,e)=>{let t=P.post(Po,n,{signal:e}),[r,o]=await w(t);return[r,o]},marketSendTransaction:async({quoteData:n,transactionData:e,signAndSendTransactionParams:t},{isSilentSign:r=!1,defaultEnabledSilentMethod:o=!1}={})=>(r?y.info(T.SILENT_SIGN_OPEN,{tradeType:Tt.Market_Trade}):y.info(T.SILENT_SIGN_CLOSE,{tradeType:Tt.Market_Trade}),xe(n.chainId)?_t.solanaSignTransaction(e,{isSilentSign:r,defaultEnabledSilentMethod:o,encoding:n.solanaEncoding}):_t.signAndSendTransaction({quoteData:n,transactionData:e,signAndSendTransactionParams:t},{isSilentSign:r,defaultEnabledSilentMethod:o})),onIntentSignSwap:async({structureType:n,unsignedTx:e})=>ps(n)?_t.solanaIntentTransaction(e):_t.signIntentSwap(e),signIntentSwap:async n=>{try{y.info(T.SIGN_INTENT_SWAP,{tradeType:Tt.MARKET,unsignedTx:n});let e=JSON.parse(n);return await Go({message:e})}catch(e){return Promise.reject(e)}},solanaIntentTransaction:async n=>{try{y.info(T.SIGN_SOLANA_INTENT_SWAP,{tradeType:Tt.MARKET,unsignedTx:n});let e=await ci(n),r=(await ue.signAllTransactions({chainId:N.SOLANA_MAINNET,transactions:[e]},{isSilent:!1}))[0];return await ui(r)}catch(e){return Promise.reject(e)}},solanaSignTransaction:async({unsignedTx:n},{isSilentSign:e=!1,defaultEnabledSilentMethod:t=!1,encoding:r="bs58",logger:o=y})=>{try{let a=(await di(n,{encoding:r})).map(d=>d.payload.transaction);nn(o);let s=await ue.signAllTransactions({chainId:N.SOLANA_MAINNET,transactions:a},{isSilent:e||t});return await li(s)}catch(i){return Promise.reject(i)}},evmSignTransaction:async({payload:n,chainId:e})=>{y.info(T.SILENT_EVM_SIGN,{payload:n,chainId:e});let t=n[0],r=await sr({chainId:e,originMethod:"eth_signTransaction",originParams:[{...t,chainId:jt(e)}]});return{transactionHash:[r.txHash],signedTx:[r.signedTx]}},signAndSendTransaction:async({quoteData:n,transactionData:e,signAndSendTransactionParams:t},{isSilentSign:r=!1,defaultEnabledSilentMethod:o=!1,logger:i=y})=>{let{chainId:a}=n,u=await pt({chainId:a},{orderData:e,extParams:{txSource:3,orderId:e.orderId,toTokenAddress:n.toTokenAddress,crossChain:0,chainId:a,tokenAddress:n.fromTokenAddress,amount:n.fromAmount,toChainId:n.chainId}},{extendEvmParams:v=>(t.enableMev&&(v.extParams.isMev=!0),v)}).getSendTransactionParams({needGasPrice:!0,isSilentSign:r||o});y.info(T.SIGN_PAYLOAD,{payload:u});let d=Jo(a);if(nn(i),r&&$r.supportEvmSign&&d)return await _t.evmSignTransaction({payload:u,chainId:a});let{transactionHash:l,nonce:h}=await ue.sendTransaction({chainId:a,callParams:u},{isSilent:r||o});return{transactionHash:[l],nonce:h}},broadcast:async n=>Ui(n),confirmOrder:async n=>Ts(n),cancelOrder:async(n,e={})=>{let{isSilent:t=!1}=e,[r,o]=await w(ki(n));if(r)throw r;if(!await tt(Number(n.chainId)))return Promise.reject(new Error("Switch network failed"));let{data:a}=o,{unsignedTx:s,...u}=a,d={...u};t&&(d=Bn.reduce((v,C)=>((d[C]||d[C]===0)&&(v[C]=ht(d[C],"0x")),v),d));let[l,h]=await w(ue.sendTransaction({chainId:Number(n.chainId),callParams:d},{isSilent:t}));if(l)throw l;return h},createIntentOrder:async n=>bs(n)},Cs=_t;f();m();f();m();f();m();var Kt=7*24*60*60*1e3;function gt(n=Kt){let e=new Date,t=e.toISOString(),r=new Date(e.getTime()+Number(n)),o=r.toISOString(),i=r.getTime();return{createdAt:t,expireTimestamp:o,timestamp:i}}var Is=({chainId:n,walletAddress:e,fromTokenAddress:t,toTokenAddress:r,fromAmount:o,minReturnAmount:i,referrerAddress:a,referrerCode:s,expireMs:u=Kt})=>{let{createdAt:d,expireTimestamp:l,timestamp:h}=gt(u);return a?`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"Swap"}
Recipient: ${e} 
Created At: ${d}
Expired At: ${l}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${a}
Referrer Code: ${s}
Timestamp: ${h}`:`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"Swap"}
Recipient: ${e} 
Created At: ${d}
Expired At: ${l}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Min Return Amount(precision adjusted): ${i}
Timestamp: ${h}`},ws=({chainId:n,walletAddress:e,fromTokenAddress:t,toTokenAddress:r,fromAmount:o,minReturnAmount:i,referrerAddress:a,referrerCode:s,expireMs:u=Kt})=>{let{createdAt:d,expireTimestamp:l,timestamp:h}=gt(u);return a?{signMsg:`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"SwapAndAutoSell"}
Recipient: ${e}
Created At: ${d}
Expired At: ${l}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${a}
Referrer Code: ${s}
Timestamp: ${h}`,timestamp:h}:{signMsg:`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"SwapAndAutoSell"}
Recipient: ${e}
Created At: ${d}
Expired At: ${l}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Min Return Amount(precision adjusted): ${i}
Timestamp: ${h}`,timestamp:h}},Ns=({chainId:n,walletAddress:e,fromTokenAddress:t,toTokenAddress:r,fromAmount:o,minReturnAmount:i,referrerAddress:a,referrerCode:s,expireMs:u=Kt})=>{let{createdAt:d,expireTimestamp:l,timestamp:h}=gt(u);return{signMsg:`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"LimitOrderClassic"}
Recipient: ${e}
Created At: ${d}
Expired At: ${l}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Min Return Amount(precision adjusted): ${i}
Referrer Address: ${a}
Referrer Code: ${s}
Timestamp: ${h}`,timestamp:h}},xs=({chainId:n,walletAddress:e,fromTokenAddress:t,toTokenAddress:r,fromAmount:o,referrerAddress:i,referrerCode:a,expireMs:s=Kt})=>{let{createdAt:u,expireTimestamp:d,timestamp:l}=gt(s);return i?{signMsg:`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"LimitOrderUbased"}
Recipient: ${e}
Created At: ${u}
Expired At: ${d}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Referrer Address: ${i}
Referrer Code: ${a}
Timestamp: ${l}`,timestamp:l}:{signMsg:`${S("swaptrade_tee_extension_intro_you_will_place_order")}

Chain Index: ${n}
Strategy Type: ${"LimitOrderUbased"}
Recipient: ${e}
Created At: ${u}
Expired At: ${d}
From Token: ${t}
To Token: ${r}
From Amount(precision adjusted): ${o}
Timestamp: ${l}`,timestamp:l}};var Rs=n=>{let{createdAt:e,timestamp:t}=gt();return`${S("swaptrade_tee_extension_intro_verify_resume_orders")}

Strategy Type: ${"ActiveOrders"}
Created At: ${e}
Order Ids: ${n.join(",")}
Timestamp: ${t}`},Ds=n=>{let{createdAt:e,timestamp:t}=gt();return`${S("swaptrade_tee_extension_intro_verify_cancel_orders")}

Strategy Type: ${"CancelOrders"}
Created At: ${e}
Order Ids: ${n.join(",")}
Timestamp: ${t}`};async function jr(n){return await Zo()||n}async function Yu(n,e){let{isSilent:t=!1}=e,r=Is(n),o=await ue.signMessage({chainId:Number(n.chainId),message:r},{isSilent:t});return{signMsg:r,signature:o}}async function Xu(n,e){let{isSilent:t=!1}=e,{signMsg:r,timestamp:o}=ws(n),i=await ue.signMessage({chainId:Number(n.chainId),message:r},{isSilent:t});return{signMsg:r,signature:i,timestamp:o}}async function Qu(n,e){let{isSilent:t=!1}=e,{signMsg:r,timestamp:o}=Ns(n),i=await jr(t),a=await ue.signMessage({chainId:Number(n.chainId),message:r},{isSilent:i});return{signMsg:r,signature:a,timestamp:o}}async function Ju(n,e){let{isSilent:t=!1}=e,{signMsg:r,timestamp:o}=xs(n),i=await jr(t),a=await ue.signMessage({chainId:Number(n.chainId),message:r},{isSilent:i});return{signMsg:r,signature:a,timestamp:o}}async function Ps(n,e){if(!await tt(1))return Promise.reject(new Error("Switch network failed"));let{isSilent:r=!1}=e,o=await jr(r),i=Rs(n),a=await ue.signMessage({chainId:1,message:i},{isSilent:o});return{signMsg:i,signature:a}}async function ks(n,e){if(!await tt(1))return Promise.reject(new Error("Switch network failed"));let{isSilent:r=!1}=e,o=await jr(r),i=Ds(n),a=await ue.signMessage({chainId:1,message:i},{isSilent:o});return{signMsg:i,signature:a}}var Zu={["Swap"]:Yu,["SwapAndAutoSell"]:Xu,["LimitOrderClassic"]:Qu,["LimitOrderUbased"]:Ju};function Ms(n,e){W.error({title:n.error_message||n.msg||S(e||"swaptrade_home_toast_initiation_error"),placement:W.DIRECTION.top})}async function Ls(n,{isSilent:e=!1}){y.info(T.INTENTION_ACTIVE_ORDER_START,{orderIds:n,orderCount:n.length,isSilent:e});try{let[t,r]=await w(Ps(n,{isSilent:e}));if(t)throw t;let{signMsg:o,signature:i}=r,a=await ur(),{currentWalletId:s,currentAccount:{tee:u}}=a,d=await cr(),l={signMsg:o,signature:i,accountId:s,address:d,teeId:u?.id,chainId:1,command:"ActiveOrders"},[h,v]=await w(P.post("/priapi/v1/dx/strategy/common/reactivate",{accountId:s,orderIds:n,verifySign:l}));if(h)throw y.error(T.INTENTION_ACTIVE_ORDER_ERROR,{orderIds:n,error:h}),Ms(h,"swaptrade_tee_notification_header_unable_to_resume_some"),h;return y.info(T.INTENTION_ACTIVE_ORDER_SUCCESS,{orderIds:n,result:v}),v}catch(t){throw y.error(T.INTENTION_ACTIVE_ORDER_ERROR,{orderIds:n,error:t}),t}}async function Vs(n,{isSilent:e=!1}){y.info(T.INTENTION_CANCEL_ORDER_START,{orderIds:n,isSilent:e});try{let[t,r]=await w(ks(n,{isSilent:e}));if(t)throw t;let{signMsg:o,signature:i}=r,a=await ur(),{currentWalletId:s,currentAccount:{tee:u}}=a,d=await cr(),l={signMsg:o,signature:i,accountId:s,address:d,teeId:u?.id,chainId:1,command:"CancelOrders"},[h,v]=await w(P.post("/priapi/v1/dx/strategy/common/cancel",{accountId:s,orderIds:n,verifySign:l}));if(h)throw y.error(T.INTENTION_CANCEL_ORDER_ERROR,{orderIds:n,error:h}),Ms(h,"swaptrade_tee_notification_header_unable_to_cancel_some"),h;return y.info(T.INTENTION_CANCEL_ORDER_SUCCESS,{orderIds:n,result:v}),v}catch(t){throw y.error(T.INTENTION_CANCEL_ORDER_ERROR,{orderIds:n,error:t}),t}}function Bs(n){return Number(n.orderType)===1?un.includes(Number(n.status))&&n?.fromChildOrderDetailVo?.isShowCancel&&tn.supportStatus:un.includes(Number(n.status))}function Fs(n){return Number(n.status)===4&&n.canResume}async function Us(n){return Cs.cancelOrder(n,{isSilent:tn.supportStatus})}async function Ws(n,e){return Vs([n],e)}async function $s(n,e){return Ls([n],e)}var ed=(n={})=>![Ot.SingleChain,Ot.GasStation,Ot.LimitOrder,Ot.MemeMode].includes(n.swapTradeType),td=(n,e=!1,{onClose:t}={})=>{let r=n||{},o=!e&&ed(r),{isSaAccountNormal:i}=Fo,a=!J()&&!o&&Bs(r)&&i,s=!J()&&!o&&Fs(r)&&i,u={text:S("commonall_text_btn_cancel"),action:async()=>{try{if(e){await Ws(r.orderId,{}),t?.();return}await Us({txHash:r.transactionHash,chainId:r.fromChainId,userWalletAddress:r.from}),t?.()}catch(l){throw l}}},d={text:S("swaptrade_tee_dialog_btn_resume"),action:async()=>{try{await $s(r.orderId,{}),t?.()}catch(l){throw l}}};if(s&&a)return{onCancel:u.action,cancelText:u.text,onConfirm:d.action,confirmText:d.text,confirmBtnProps:{block:!0,width:"50%"},cancelBtnProps:{block:!0,width:"50%"}};if(a)return{onConfirm:u.action,confirmText:u.text,confirmBtnProps:{block:!0}};if(s)return{onConfirm:d.action,confirmText:d.text,confirmBtnProps:{block:!0}}},js=td;f();m();var Gs={"loader-wrap":"_loader-wrap_7hvh8_1",loaderWrap:"_loader-wrap_7hvh8_1"};var rd=({orderId:n,onClose:e,visible:t,strategyMode:r=void 0,isLimit:o=void 0,isBridge:i=void 0,orderData:a=void 0,orderType:s=void 0,hideBackButton:u=!1,dialogProps:d={}})=>{let{recentTransactionStore:l,swapStore:h}=mr(),{showModal:v}=l,{onClaim:C}=h||{};(0,ee.useEffect)(()=>{t&&v(n,{tab:Ee.SWAP,isLimit:o,isBridge:i,orderData:a,orderType:s,strategyMode:r})},[i,o,a,n,s,v,r,t]);let{computedOrderInfo:R,expireTime:V,computedPendingTimingStatus:k,computedLimitOrderInfo:B}=l||{},F=(0,ee.useMemo)(()=>o?B&&ee.default.createElement(vs,{order:B}):R&&ee.default.createElement(gs,{order:R,expireTime:V,computedPendingTimingStatus:k,showExpireTime:!1}),[o,B,R,V,k]),te=ys({isLimit:!1,order:R,computedPendingTimingStatus:k,expireTime:V,showBackButton:!1,hideBackButton:u}),x=js(o?B:R,o,{onClose:e}),oe=(0,ee.useMemo)(()=>{let{status:zt,toSymbol:Ks}=R||{};if(x)return x;let Gr={onConfirm:()=>{Li({fromChainId:R.chainId,toChainId:R.toChainId,bridgeRouter:R?.bridgeName}),C?.(R),e?.()},confirmText:S("swaptrade_bridge_btn_claim_token",{token:Ks})};return[I.ReadyToClaim,I.ClaimFailed].includes(zt)?{confirmBtnProps:{block:!0},...Gr}:zt===I.Claiming?{confirmBtnProps:{block:!0,loading:!0,loadingText:Gr.confirmText},...Gr}:{}},[x,R,C,e]),K=(0,ee.useRef)(null),Qe=()=>K.current;return ee.default.createElement(oo.Action,{noContentPadding:!0,visible:t,onClose:e,title:F,...te,...oe,scrollBoxRef:zt=>{K.current=zt},...d},ee.default.createElement(ti,{fallbackComponent:()=>ee.default.createElement(M.Circle,{size:M.SIZE.md,type:M.TYPE.neutral,className:Gs.loaderWrap})},ee.default.createElement(Fi,{orderId:n,orderData:a,strategyMode:r,onClose:e,orderType:s,getScrollContainer:Qe,isLimit:o,isBridge:i})))},Zn=er(rd);var nd=({orderId:n,onClose:e,visible:t,showToast:r,currency:o,currentWallet:i,walletInfo:a,onBack:s=()=>{},t:u,dispatch:d,orderType:l=void 0,strategyMode:h=void 0,isLimit:v=void 0,isBridge:C=void 0,orderData:R=void 0})=>{let V=(0,qs.useHistory)();(0,Ve.useEffect)(()=>{z.setRuntimeContext({history:V,toLocale:u,dispatch:d,walletInfo:a,onBack:s})},[u,V,d,a,s]);let{commonStore:k,accountStore:B,recentTransactionStore:F}=mr();(0,Ve.useEffect)(()=>{k.setCurrentTab(Ee.SWAP),k.getUserUnit(o)},[]);let te=F?.detail?.data?.fromChainId;(0,Ve.useEffect)(()=>{i&&B.setWalletConfig(i),te&&B.setFromChainId(te)},[te,B,i]);let{computedAccountWalletAddresses:x}=B;(0,Ve.useEffect)(()=>{let K;return x&&(K=ii(x)),()=>{x&&K?.()}},[x]),(0,Ve.useEffect)(()=>{let K=oi({isPri:!0,needLogin:!0,subscribeParams:{channel:ai.DEX_PUSH_ENGINE},onListenData:Qe=>{F.onSocket(Qe,r)},onListenError:()=>{F.onSocketError()}});return()=>{K()}},[x,F,r]);let{initialized:oe}=Bi();return oe?Ve.default.createElement(Zn,{orderId:n,visible:t,onClose:e,orderType:l,strategyMode:h,isLimit:v,isBridge:C,orderData:R}):null},od=er(nd);var ad=new Ur,ny=Si(ad);f();m();var Hs=U(ie()),cd=U(io()),ud=U(zs());f();m();export{Gt as a,jt as b,ue as c,Zu as d,Dn as e,$t as f,ds as g,pt as h,Ht as i,ms as j,hs as k,ps as l,Zn as m};
//# sourceMappingURL=chunk-NNPQ7BFS.js.map
