import{a as m}from"./chunk-LH3J3TLH.js";import{o as s,p as T,q as i}from"./chunk-4J7XGGEQ.js";s();i();s();i();s();i();var x=async()=>await import("./index.browser.esm-4J4USKDD.js"),u=async()=>{let{default:t}=await import("./bs58-IL7X2DG6.js");return t};var A=t=>{if(!t)return"0";let{BigNumber:n}=m,e=new n("365.25").div(2).multipliedBy(2);return new n("19.055441478439427").multipliedBy(t).multipliedBy(e).div(10**9).toFixed(9)},b=async(t,n={})=>{let{data:e,accountLength:a,bizType:o,bizId:c,from:l,to:p}=t,d=A(a);if(n.encoding==="base64")return{payload:{bizType:o,bizId:c,transaction:{transaction:e,encoding:"base64"}},inputData:e,from:l,to:p,rent:d};let{transaction:y,version:g}=await S(e);return{payload:{bizType:o,bizId:c,transaction:y,version:g},inputData:e,from:l,to:p,rent:d}},B=async(t,n={})=>{try{let e=JSON.parse(t);return e.array?await Promise.all(e.array.map(a=>b(a,n))):await Promise.all([e].map(a=>b(a,n)))}catch(e){return Promise.reject(e)}},R=t=>t.map(n=>n.payload.transaction),k=async(t,n)=>{let{isMemeMode:e=!1,isWidgetEnv:a=!1,isWallet:o=!1,isWalletInstantTrade:c=!1}=n||{},l=await u(),p=[],d=[];t.map(r=>{if(r.txHash&&r.signedTx)return r;if(e&&o||a||c){let{serializedTransaction:I,signature:z}=r;return{txHash:z,signedTx:I}}let w=r?.signature||r?.signatures[0],W=l.encode(w),h=l.encode(r.serialize());return{txHash:W,signedTx:h}}).forEach(r=>{p.push(r.signedTx),d.push(r.txHash)});let g=t[0]?.encoding??"base58";return{signedTx:p,transactionHash:d,encoding:g}},M=t=>{let n="0";return t.forEach(e=>{n=m.add(n,e.rent,{returnString:!0})}),n};var S=async t=>{let n=await x(),e=await u(),a,o;try{a=n.Transaction.from(e.decode(t)),o="transaction"}catch{a=n.VersionedTransaction.deserialize(e.decode(t)),o="versionedTransaction"}return{transaction:a,version:o}},P=async t=>{let n=await x(),e=T.Buffer.from(t,"base64");return n.VersionedTransaction.deserialize(e)},F=async t=>{let n=t.serialize();return T.Buffer.from(n).toString("base64")};export{u as a,P as b,F as c,b as d,B as e,R as f,k as g,M as h};
//# sourceMappingURL=chunk-NDCJG34S.js.map
