import{a as ve}from"./chunk-5V4BKHLN.js";import{a as he}from"./chunk-QCBPGYXR.js";import{aa as Ee}from"./chunk-7CFB2XTF.js";import{H as Oe,v as re}from"./chunk-UC2GDSBD.js";import{f as xe}from"./chunk-OE3Y2WW2.js";import{d as ke,f as Fe,j as ae,t as we}from"./chunk-PI6SXITR.js";import{Mb as K,R as pe,S as z,jb as _e,kb as Se,lb as ge,mb as Te,nb as Ce,ob as Ie,vd as I}from"./chunk-LZ43QKYM.js";import{c}from"./chunk-LLRT7ZCZ.js";import{a as se}from"./chunk-LH3J3TLH.js";import{B as ne,ea as p,n as y}from"./chunk-XEVJKE53.js";import{R as te,_ as fe,j as le}from"./chunk-NLHAZXT3.js";import{a as Pe}from"./chunk-6N5VE5LT.js";import{a as w}from"./chunk-6YOUVTKE.js";import{f as C,o as a,q as i}from"./chunk-4J7XGGEQ.js";a();i();var b=C(w()),Ae=C(Oe());var eo=()=>{let e=(0,Ae.useLocation)(),{search:o}=e,{needUpdate:t,type:r}=xe(o);return(0,b.useMemo)(()=>({needUpdate:t===pe.on,type:r}),[t,r])},Q=e=>{let{quoteStore:o,facetStore:t}=c(),r=o?.quote?.bestRoute||{},{fromToken:s,toToken:n,fromTokenAmount:m,receiveAmount:d}=r,{computedFacetOrderTokens:u}=t;return(0,b.useMemo)(()=>e===z.REDEEM?u:{fromToken:{...s,amount:m},toToken:{...n,amount:d}},[e,s,m,n,d,u])},Be=e=>{let{fromToken:o,toToken:t}=Q(e);return(0,b.useMemo)(()=>o.chainId!==t.chainId?[o,t]:[o],[o,t])},oo=e=>{let{quoteStore:o,fromToStore:t,facetStore:r,walletContractStore:s,accountStore:{walletConfig:n,address:m},slippageStore:d}=c(),u=e===z.REDEEM,l=e===z.INTENT_SWAP,{fromToken:f,toToken:g}=Q(e),T=Be(e),G=n?.walletId,{data:F}=s?.transactionPayload||{},{computedFacetOrderFromToRate:x,computedFacetOrderToFromRate:h,computedFacetOrderMinimumReceived:v}=r,{quote:oe,computedIsUsingCentralizedBridge:L,enableQuoteAggregates:N}=o,D=oe?.bestRoute?.bridge,P=o?.computedIsOfflineType,{name:O,logo:E,estimatedTime:B}=o?.quote?.bestRoute||{},{computedRate:W,computedToFromRate:q,computedIsBridge:U,computedIsEvmChain:H,computedIsFromBtcCoin:Y,computedIsCrossChain:$}=t,{computedMinimumReceived:X}=d;return(0,b.useMemo)(()=>{let A={walletId:G,address:m,networks:T,data:F,fromToken:f,toToken:g};return u?{rate:x,toFromRate:h,minimumReceived:v,isFromBtcCoin:!1,isEvmChain:!0,hideExchangeBtn:!1,...A}:{estimatedTime:(parseInt(B||0,10)/60).toFixed(0)??"--",isIntentBridge:P,computedIsCrossChain:$,rate:W,toFromRate:q,minimumReceived:X,isFromBtcCoin:Y,hideExchangeBtn:U||L,isEvmChain:H,isIntentSwap:l,bridge:D,enableQuoteAggregates:N,name:O,logo:E,...A}},[G,m,T,F,u,W,q,X,Y,U,H,L,D,x,h,v,f,g,l,N,O,E,B,P,$])};function We(){return{[K.SWAP]:{image:{light:_e(),dark:Se()},title:{text:I("swaptrade_top_segmentedctl_swap")}},[K.BRIDGE]:{image:{light:ge(),dark:Te()},title:{text:I("swaptrade_top_segmentedctl_bridge")}},[K.CLAIM]:{image:{light:Ce(),dark:Ie()},title:{text:I("commonall_modal_btn_claim")}}}}var to=(e="")=>{let{commonStore:o}=c(),{currentTab:t}=o,r=e||t;return(0,b.useMemo)(()=>We()[r],[r])};a();i();var ce=C(w());var ie=(e,o,t)=>`${e}${ne.mul(o||0,ne.pow(10,t||0))}`,me=e=>{let{useCoin:o}=p.hooks;return o(e?.chainId,e.isNativeToken?"":e.tokenContractAddress)},qe=()=>{let{fromToStore:e,gasDropStore:o}=c(),{to:t}=e,r=me({chainId:t.chainId}),{computedGasDropSelected:s,gasDropConfig:n}=o||{},{gasDrop:m}=n||{};return(0,ce.useMemo)(()=>s?{coinId:r?.coinId,assetChange:ie("+",m,r?.decimals),useMinPrecision:!1,displayEstimate:!1,desc:I("swaptrade_transfer_text_for_gas")}:null,[s,m,r])};function Ue(e){let{fromToken:o,toToken:t}=Q(e),r=qe(),s=me(o),n=me(t);return(0,ce.useMemo)(()=>({fromList:[{coinId:s?.coinId,assetChange:ie("-",o?.amount,s?.decimals),useMinPrecision:!1}],toList:[{coinId:n?.coinId,assetChange:ie("+",t?.amount,n?.decimals),useMinPrecision:!1},r].filter(Boolean)}),[s?.coinId,s?.decimals,o?.amount,n?.coinId,n?.decimals,t?.amount,r])}a();i();var go={container:"_container_wvaui_1",loading:"_loading_wvaui_5",wrap:"_wrap_wvaui_10",scroll:"_scroll_wvaui_13"};a();i();var Ge=C(w());var He=e=>{let{walletContractStore:o}=c(),t=ve(e);return(0,Ge.useEffect)(()=>{we(e)&&o.setNativeCoin(t)},[t,e]),{coin:t}},Eo=He;a();i();var ee=C(w());a();i();var ue=C(w());a();i();var V=C(w());fe();var j=({estimatedGasFeeInt:e,maxGasFeeInt:o,decimals:t,isClaim:r=!1})=>{let{quoteStore:s}=c(),n=le(s,"quote.bestRoute.bridge.estimateBridgeFeeAmount");return(0,V.useMemo)(()=>{let m=ae(o,t),d=ae(e,t);return n&&!r&&(d=se.add(d,n,{returnString:!0}),m=se.add(m,n,{returnString:!0})),{maxGasFee:m,estimatedGasFee:d}},[o,t,e,n,r])},J=e=>{let{walletContractStore:o}=c();(0,V.useEffect)(()=>{o.setGasFee(e)},[e])};var Ye=(e,o,t=!1)=>{let{useFeeDisplay:r}=p.hooks,{walletContractStore:s}=c(),{coinAmount:n,coinSymbol:m,estimatedGasFeeInt:d,maxGasFeeInt:u,decimals:l,loading:f}=r(e,{calldata:o}),{maxGasFee:g,estimatedGasFee:T}=j({maxGasFeeInt:u,estimatedGasFeeInt:d,decimals:l,isClaim:t});return J(g),(0,ue.useEffect)(()=>{s.setMaxGasFeeInt(u)},[u,s]),(0,ue.useEffect)(()=>{s.setGasFeeLoading(f)},[f,s]),{maxGasFee:g,estimatedGasFee:T,coinAmount:n,coinSymbol:m,feeLoading:f}},Ne=Ye;a();i();var M=C(w()),ye=C(Pe());a();i();var De={"network-fee-title":"_network-fee-title_16onq_1",networkFeeTitle:"_network-fee-title_16onq_1","tooltip-icon":"_tooltip-icon_16onq_4",tooltipIcon:"_tooltip-icon_16onq_4","gas-type":"_gas-type_16onq_8",gasType:"_gas-type_16onq_8"};var $e=({chainName:e,coinSymbol:o,isClaim:t=!1})=>{let{quoteStore:r,commonStore:s,fromToStore:n}=c(),{currencyConversion:m,computedNowCurrencySymbol:d}=s,{computedIsCrossChain:u}=n,{estimateBridgeFeeAmount:l,estimateBridgeFeeAmountUsd:f}=r?.quote?.bestRoute?.bridge||{},g=(0,M.useMemo)(()=>u?I("swaptrade_intro_dialog_desc_cross_fee_notice",{value:I("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:l?ke(m(f).toString(),d):"--",fee:l?`${Fe(l)} ${o}`:"--"})}):I("swaptrade_extension_tooltip_mining_fee"),[o,u,d,m,l,f]),T=(0,M.useMemo)(()=>M.default.createElement("span",{className:(0,ye.default)("font-12 content-contrast",{[De.networkFeeTitle]:!t})},I("swaptrade_history_card_text_destination_chain_fee",{chainName:e})),[e]);return t?T:M.default.createElement(re,{rebirthPopper:!0,popupProps:{className:"text-center"},maxWidth:200,placement:re.DIRECTION.topRight,title:g},T)},Z=y($e);var Xe=({chainId:e,transactionPayload:o,isClaim:t=!1})=>{let{NetworkFeeEnter:r,SectionWrap:s}=p.components,{estimatedGasFee:n,feeLoading:m,coinSymbol:d}=Ne(e,o,t),{walletContractStore:u}=c(),{nativeCoin:l}=u;return ee.default.createElement(s,null,ee.default.createElement(r,{title:ee.default.createElement(Z,{chainName:l?.chainName,coinSymbol:d,isClaim:t}),coinId:l?.coinId,loading:m,networkFee:n,useMinPrecision:!1}))},mt=y(Xe);a();i();var k=C(w());fe();a();i();var de=C(w());a();i();a();i();var R={SLOW:"SLOW",MODERATE:"MODERATE",FAST:"FAST",CUSTOM:"CUSTOM"},be={[R.SLOW]:"slow",[R.MODERATE]:"standard",[R.FAST]:"fast",[R.CUSTOM]:"custom"};var ze=(e,o=!0)=>{if(o)return{initialGasType:be[R.MODERATE]};let{maxPriorityFeePerGas:t,gas:r}=e||{};return{initialGasType:"custom",initialCustomMaxPriorityFee:t,initialCustomGasLimit:r,initialCustomMaxBaseFee:t}},Me=ze;var Ke=(e,o,t,r=!1)=>{let{useFeeDisplay:s}=p.hooks,{walletContractStore:n,fromToStore:m}=c(),d=Me(t,m.computedIsCrossChain),u=s(o,{gasInfo:e,calldata:t}),{coinAmount:l,coinSymbol:f,estimatedGasFeeInt:g,maxGasFeeInt:T,decimals:G,loading:F,error:x}=u,{maxGasFee:h,estimatedGasFee:v}=j({maxGasFeeInt:T,estimatedGasFeeInt:g,decimals:G,isClaim:r});return J(h),(0,de.useEffect)(()=>{n.setGasFeeLoading(F)},[F,n]),(0,de.useEffect)(()=>{n.setGasLimitError(x)},[x,n]),{txInitGasInfo:d,coinAmount:l,coinSymbol:f,maxGasFee:h,estimatedGasFee:v,gasType:e.gasType,feeLoading:u.loading,error:x}},Re=Ke;var Qe=({chainId:e,transactionPayload:o,isClaim:t=!1})=>{let{EthereumNetworkFee:r,NetworkFeeEnter:s,SectionWrap:n}=p.components,{useGasReturnActivity:m}=p.hooks,[d,u]=(0,k.useState)(!1),{walletContractStore:l,accountStore:f,mevStore:g,fromToStore:T}=c(),{computedIsCrossChain:G}=T,{gasInfo:F,setGasInfo:x,nativeCoin:h,setActivityId:v}=l,{computedIsMevOpen:oe,mevInfo:L}=g,{to:N,from:D,data:P,value:O}=o||{},{coinId:E,chainName:B}=h||{},{txInitGasInfo:W,coinSymbol:q,gasType:U,estimatedGasFee:H,maxGasFee:Y,feeLoading:$,error:X}=Re(F,e,o,t),A=m({coinId:E,fromAddress:te(D),toAddress:te(N),unavailable:F.gasType==="custom",disabled:!N||!D||!E,gasInfo:F,txType:2,fee:he(F.networkFee||0)}),Le=()=>{u(!1)};return(0,k.useEffect)(()=>{v(A?.activityId)},[A,v]),k.default.createElement(k.default.Fragment,null,k.default.createElement(n,null,k.default.createElement(s,{level:U,title:k.default.createElement(Z,{chainName:B,coinSymbol:q,isClaim:t}),coinId:E,loading:$,networkFee:H,maxNetworkFee:Y,gasReturn:A,estimateFailed:X,onClick:G?()=>{Ee({wallet_address:f.address,button_name:"network_fee"}),u(!0)}:void 0,useMinPrecision:!1})),E&&k.default.createElement(r,{visible:d,coinId:E,address:D,inputData:P,tokenAddress:N,value:O,onBack:Le,onClose:p.goHome,onGasChange:x,initialGasData:W,gasReturn:A,isMev:oe,mevInfo:L}))},Mt=y(Qe);export{eo as a,Q as b,oo as c,to as d,Eo as e,Z as f,j as g,J as h,mt as i,Mt as j,ie as k,me as l,Ue as m,go as n};
//# sourceMappingURL=chunk-SEANA4YQ.js.map
