import{b as y}from"./chunk-CPCRKRJC.js";import{a as I}from"./chunk-LH3J3TLH.js";import{G as C,_ as T}from"./chunk-NLHAZXT3.js";import{a as E}from"./chunk-6YOUVTKE.js";import{f as B,o as g,q as U}from"./chunk-4J7XGGEQ.js";g();U();var a=B(E());T();var k=()=>{let{buyStore:r,sellStore:m,configStore:l}=y(),{currentMode:o}=l,{currentBuyPreset:e}=r,{currentSellPreset:t}=m;return{currentPreset:(0,a.useMemo)(()=>o==="buy"?e:o==="sell"?t:{},[e,t,o])}},v=({priorityFee:r,isEnableMev:m})=>{let{quoteStore:l,configStore:o}=y(),{tradeScene:e}=o,{computedPriorityFeeInfo:t,computedFeeData:f}=l,P=(0,a.useMemo)(()=>{if(e===0){let{mevPriorityFeeInfo:n,nonMevPriorityFeeInfo:s}=t;return m?n:s}return f},[e,t,m,f]);return{formatPriorityFee:(0,a.useMemo)(()=>{let{fastFee:n,fastFeeUsd:s,marketFee:c,marketFeeUsd:i,turboFee:u,turboFeeUsd:d,baseFee:p,baseFeeUsd:L}=P,b={fast:{amount:n,price:s},market:{amount:c,price:i},turbo:{amount:u,price:d}},F=r?.value,M=r?.price;return r?.type==="fast"?(F=n,M=s):r?.type==="market"?(F=c,M=i):r?.type==="turbo"&&(F=u,M=d),C({},r,e===0?{value:F,price:M,config:b,baseFee:p,baseFeeUsd:L}:{value:F,price:M,config:b})},[P,r,e])}},G=()=>{let{currentPreset:r}=k(),{priorityFee:m,isEnableMev:l}=r,{formatPriorityFee:o}=v({priorityFee:m,isEnableMev:l}),e=o.baseFee,{value:t}=o,{quoteStore:f,configStore:P}=y(),{computedGetQuoteFromSinglePrice:S,computedGetQuoteToSinglePrice:n,computedFeeData:s}=f,{currentMode:c,tradeScene:i}=P,u=(0,a.useMemo)(()=>i===1?s.solPrice:c==="sell"?n:S,[c,S,n,i,s]),d=(0,a.useMemo)(()=>{let L=t;return i===0&&(L=I.add(e||0,t)),I.mul(u,L)},[t,u,e,i]),p=(0,a.useMemo)(()=>I.mul(u,t),[t,u]);return{totalFeeUSD:d,priorityFeeUSD:p,solSinglePrice:u}},Y=()=>{let{buyStore:r,sellStore:m,configStore:l}=y(),{currentMode:o}=l,{buyPresetList:e,setBuyPresetList:t,currentBuyPresetId:f,setCurrentBuyPresetId:P}=r,{sellPresetList:S,setSellPresetList:n,currentSellPresetId:s,setCurrentSellPresetId:c}=m,[i=[],u,d,p]=(0,a.useMemo)(()=>o==="buy"?[e,t,f,P]:o==="sell"?[S,n,s,c]:[],[e,S,o,t,n,f,s,P,c]);return{buyPresetList:e,sellPresetList:S,currentPresetList:i,setCurrentPresetList:u,currentMode:o,currentPresetId:d,setCurrentPresetId:p}};export{k as a,v as b,G as c,Y as d};
//# sourceMappingURL=chunk-RSS4ZW7H.js.map
