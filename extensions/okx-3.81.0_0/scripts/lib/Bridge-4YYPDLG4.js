import{D as Io,E as vo,G as No,H as Oo,I as Eo,J as Lo,K as yo,M as Fo,N as Bo,O as Po,P as Vo,Q as Uo,R as Ao,S as qo,b as ao,c as Z,d as To,e as xo,f as Co,g as wo,h as bo,v as ko}from"./chunk-7OQNZOGI.js";import{a as Do}from"./chunk-Q4A4SAG2.js";import{a as ho}from"./chunk-WTOUIA45.js";import{h as Mo}from"./chunk-G4YDNERE.js";import"./chunk-3WFUHCRH.js";import"./chunk-OJWZP4US.js";import"./chunk-63FXY6V3.js";import"./chunk-3OFKRCP7.js";import{a as go}from"./chunk-T2SH5CSP.js";import"./chunk-EKCHWEWU.js";import"./chunk-YU25S3Z6.js";import"./chunk-JB4LD6UC.js";import{c as X}from"./chunk-JIPHW3JW.js";import"./chunk-YAZIRKLK.js";import"./chunk-3FSEKPUM.js";import"./chunk-NYLS5KPS.js";import"./chunk-WRDP4AN2.js";import"./chunk-GLEO4M2L.js";import"./chunk-NVT6KZMA.js";import"./chunk-UNX7SSQ5.js";import"./chunk-46D3AKOR.js";import"./chunk-4NIKWPAL.js";import{a as no}from"./chunk-B65FDDLM.js";import"./chunk-XDPVWBGA.js";import"./chunk-OGVTPJRM.js";import"./chunk-CHJAVPER.js";import"./chunk-VN6CTHUI.js";import"./chunk-T2IRCTJA.js";import"./chunk-ALZVVIHH.js";import"./chunk-SPXYT2VO.js";import{v as So}from"./chunk-7CFB2XTF.js";import"./chunk-BADVKNVD.js";import"./chunk-FLUPYUSZ.js";import{v as z,w as to}from"./chunk-UC2GDSBD.js";import"./chunk-RYV5MLCF.js";import{d as ro}from"./chunk-OE3Y2WW2.js";import{f as j}from"./chunk-PI6SXITR.js";import{Cb as _o,Mb as fo,T as b,U as P,tb as h,vd as g}from"./chunk-LZ43QKYM.js";import{c as T}from"./chunk-LLRT7ZCZ.js";import"./chunk-LH3J3TLH.js";import{n as $}from"./chunk-XEVJKE53.js";import"./chunk-2TP4LTGZ.js";import"./chunk-FA47DEF6.js";import"./chunk-NHQL3RON.js";import"./chunk-AUVAPXJK.js";import"./chunk-UCYWIXHR.js";import"./chunk-25RXMKCK.js";import"./chunk-YS3HYG35.js";import"./chunk-GVNSNU7P.js";import"./chunk-N3AWCE75.js";import"./chunk-MVO3PFGF.js";import"./chunk-DKCWR6P4.js";import"./chunk-NLHAZXT3.js";import"./chunk-Z7O2BQPT.js";import"./chunk-RRVELJ3L.js";import"./chunk-MWBMNCFR.js";import"./chunk-J5HV5RZ5.js";import"./chunk-JXDUUE4S.js";import"./chunk-Y5NME4BP.js";import"./chunk-T7EATGE4.js";import{y as uo}from"./chunk-YP7AL7GO.js";import"./chunk-VYWNZTTM.js";import"./chunk-33JFC56H.js";import{a as co}from"./chunk-6N5VE5LT.js";import{a as B}from"./chunk-6YOUVTKE.js";import"./chunk-AEGO4G2O.js";import"./chunk-GQPYV2B4.js";import"./chunk-7BSXWXHJ.js";import"./chunk-M7JGFMJS.js";import{f as M,o as n,q as a}from"./chunk-4J7XGGEQ.js";n();a();var o=M(B()),K=M(co());n();a();var so=M(B());var Go=()=>{let{fromToStore:p,quoteStore:c,commonStore:u,accountStore:e,mevStore:t}=T(),{getChainInfo:s,from:i,to:S,computedIsSingleChain:r}=p,{quote:x}=c,{setShowMev:C}=t,d=s(i.chainId),l=s(S.chainId),w=d?.supportMev===P.ON&&x?.bestRoute?.fromDexRouterList?.length!==0,N=l?.supportMev===P.ON&&x?.bestRoute?.toDexRouterToList?.length!==0,I=r&&d?.supportMev===P.ON,{walletSupportMev:V,checkOkxVersion:O,isConnectedWallet:v,walletConfig:F}=e,D=u.computedIsWalletEnv||V;(0,so.useEffect)(()=>{O()},[O,v,F]),(0,so.useEffect)(()=>{C(D&&(w||N||I))},[C,D,w,N,I])};n();a();var m=M(B()),f=M(co());n();a();var _={box:"_box_l4aox_1","text-margin-left":"_text-margin-left_l4aox_12",textMarginLeft:"_text-margin-left_l4aox_12","color-dbdbdb":"_color-dbdbdb_l4aox_16",colorDbdbdb:"_color-dbdbdb_l4aox_16",text:"_text_l4aox_12","tooltip-icon":"_tooltip-icon_l4aox_22",tooltipIcon:"_tooltip-icon_l4aox_22","gas-desc":"_gas-desc_l4aox_25",gasDesc:"_gas-desc_l4aox_25","gas-wrap":"_gas-wrap_l4aox_28",gasWrap:"_gas-wrap_l4aox_28","pay-num":"_pay-num_l4aox_36",payNum:"_pay-num_l4aox_36",icon:"_icon_l4aox_40","gas-num":"_gas-num_l4aox_43",gasNum:"_gas-num_l4aox_43",show:"_show_l4aox_46"};function ae({fromTokenLogoUrl:p,fromTokenSymbol:c,gasDropConfig:u,onSwitch:e,className:t,gasDropFromAmount:s,isWalletEnv:i}){let{gasDrop:S,tokenSymbol:r,tokenLogoUrl:x,chainName:C,gasDropSwitch:d}=u,l=u.gasDropSwitch&&s;return m.default.createElement("div",{className:(0,f.default)("flex align-items-center justify-content-start","cursor-pointer",_.box,t)},m.default.createElement("div",{className:(0,f.default)("flex flex-col",_.gasDesc)},m.default.createElement("div",{className:"gasTitle flex justify-between"},m.default.createElement("div",{className:(0,f.default)("flex")},m.default.createElement("span",{className:(0,f.default)("font-bold font-14 ellipsis",_.text)},g("swaptrade_order_modal_title_enable_refuel")),m.default.createElement(z,{alwaysUpdatePopper:!0,maxWidth:i?200:297,placement:i?z.DIRECTION.topRight:z.DIRECTION.bottom,title:g("swaptrade_info_modal_text_why_refuel",{chainName:C,nativeToken:r})},m.default.createElement(no,{type:"okx-defi-dex-information",className:(0,f.default)("font-14 color-bdbdbd",_.tooltipIcon)}))),m.default.createElement(to,{size:to.SIZE.sm,className:(0,f.default)(_.switch),onChange:w=>{e(w)},checked:Boolean(Number(d))})),m.default.createElement("div",{className:(0,f.default)("flex",_.gasWrap,{[_.show]:l})},m.default.createElement(go,{tokenSrc:p??"",chainSrc:x??"",tokenSize:16,chainSize:16,className:"boxSame"}),m.default.createElement("span",{className:(0,f.default)("font-14",_.payNum)},`${s} ${c}`),m.default.createElement(no,{className:(0,f.default)("okds-arrow-pointer-right-sm",_.icon)}),m.default.createElement("span",{className:(0,f.default)("font-14",_.gasNum)},`${j(S)} ${r}`))))}var Wo=$(ae);n();a();var J=M(B());var se=()=>{let{tokenModalStore:p,fromToStore:c,commonStore:u}=T(),{from:e,to:t}=c,{chainList:s}=u,{setFromSelectedChainId:i,setToSelectedChainId:S,computedCurrentToChainId:r,setTokenPageChainList:x,getTokenListByChainId:C,setCommonlyUsedChain:d,setTokenModalFromState:l,initLoading:w,setSearchValue:N,changeTokenModalVisible:I,tokenModalVisible:V,setFromSelectedChainAtSearch:O,setToSelectedChainAtSearch:v}=p,F=e.chainId,D=t.chainId,[W,Y]=(0,J.useState)("");return{handleOpenSelectToken:(0,J.useCallback)(U=>{So({from_or_to:U===h.FROM?h.FROM:h.TO}),l(U),w(),N("");let A=ro(F,_o.chainId);i(A);let Q=ro(D,r);S(Q),O(A),v(Q);let q=d();q=q.map(R=>s.find(H=>H?.chainId===R)),x(q),C(),Y(U===h.FROM?g("wallet_swap_toast_select_pay_token"):g("wallet_swap_toast_select_receive_token")),I(!0)},[s,l,I,r,F,C,w,d,i,N,S,x,D,O,v]),tokenModalVisible:V,tokenListPageTitle:W,changeTokenModalVisible:I}},Qo=se;n();a();var Ho=M(B());var ie=(p,c)=>{let{quoteStore:u,fromToStore:e}=T(),{setCurrentBridgeId:t}=u,{to:s,from:i}=e;(0,Ho.useEffect)(()=>{!p&&!c&&t("")},[i.chainId,i.tokenContractAddress,s.chainId,s.tokenContractAddress,t])},zo=ie;n();a();var io=M(B());function $o(){let{mevStore:p,quoteStore:c,fromToStore:u}=T(),{setMevUserSwitchOpen:e,mevSwitchOpenStatue:t}=p,{quote:s}=c,{from:i,to:S}=u,r=Number(s?.bestRoute?.isEnableMev)===P.ON;(0,io.useEffect)(()=>{e(b.AUTO_OFF)},[i.chainId,S.chainId]),(0,io.useEffect)(()=>{r&&t!==b.USER_OFF?e(b.AUTO_ON):r&&t===b.USER_OFF?e(b.USER_OFF):!r&&t===b.USER_ON?e(b.USER_ON):r||e(b.AUTO_OFF)},[r,e,t])}n();a();var k={container:"_container_145ls_1",scroll:"_scroll_145ls_6",wrap:"_wrap_145ls_10","wallet-header":"_wallet-header_145ls_15",walletHeader:"_wallet-header_145ls_15","input-panel-box":"_input-panel-box_145ls_19",inputPanelBox:"_input-panel-box_145ls_19","mb-6":"_mb-6_145ls_23",mb6:"_mb-6_145ls_23","swap-to-panel":"_swap-to-panel_145ls_26",swapToPanel:"_swap-to-panel_145ls_26"};var le=()=>{let{commonStore:p,accountStore:c,fromToStore:u,quoteStore:e,safeMoonStore:t,swapBtnStore:s,gasDropStore:i,chainMaintanceStore:S}=T();qo();let r=S?.isCurrChainInMaintenance,{chainListLoadError:x,resetFromToByTabChange:C}=p,{to:d,from:l,onClickMax:w,onSwitchFromTo:N,setStorageShowMaxDialog:I,visibleMaxDialog:V,computedIsCrossChain:O,computedIsSingleChain:v,computedMaxTipsText:F}=u,{computedInputVal:D,computedOutputVal:W,computedOutputPopVal:Y}=t,{computedNonsupportChain:lo}=c;Do(),ho(),Po({computedIsSingleChain:v,chainId:l.chainId,clearProps:[l.tokenSymbol,d.tokenSymbol]}),Bo(),Go(),$o(),Mo(c);let{fetchQuote:U,cleanQuoteTimer:A,computedCurrentTimerQuoteState:{isShowLoadingCpt:Q},getGasTokenFeeLoading:q,isPickRouterFromWallet:R,quoteNumber:H,quoteScope:oo}=e,jo=(0,o.useMemo)(()=>{if(H===1&&oo){let{crossMiniAmount:ne}=oo;return g("swaptrade_placeorder_placeholder_min_input_amount",{value:j(ne,{cutPriceText:!0,isFloor:!1})})}return null},[H,oo]),E=!l.tokenContractAddress;yo(),(0,o.useEffect)(()=>()=>{A()},[]);let{extensionHeaderSettingMap:Xo}=Ao();zo(R,C);let{gasDropConfig:Zo,showSwapGasDrop:Jo,showInputGasDrop:Ko,gasDropFromAmount:mo}=Lo();Eo(U,A);let{handleTypeInput:Yo,handleTypeOutput:Ro}=Vo(),{handleOpenSelectToken:po,tokenModalVisible:oe,tokenListPageTitle:ee,changeTokenModalVisible:te}=Qo(),re=e.quote.quoteError||e.quote.quoteNull||t.computedHoneypot||lo,{fromCurrencyInputProps:G,toCurrencyInputProps:eo}=Fo();return x?o.default.createElement(vo,null):o.default.createElement("div",{className:k.container},o.default.createElement("div",{className:k.scroll},o.default.createElement("div",{className:k.wrap},o.default.createElement(wo,{...Xo[fo.BRIDGE],outClassName:(0,K.default)(k.walletHeader)}),o.default.createElement("div",{className:k.inputPanelBox},o.default.createElement(Oo,null),o.default.createElement(X,{loading:E,height:128,className:k.mb6},o.default.createElement(ao,{isExtension:!0,computedIsSingleChain:v,className:(0,K.default)(k.mb6),token:l,type:h.FROM,onClickMax:w,showMax:G.showMax&&!r,computedFromGasDropAmount:mo,showGasDrop:Ko,showMaxIcon:G.showMaxIcon,value:D,costValue:G.costValue,onChange:Yo,openSelectToken:()=>{po(h.FROM)},label:g("swaptrade_card_swap_label1_pay"),balanceStatus:G.balanceStatus,visibleMaxDialog:V,maxDialogConfirm:I,maxTipsText:F,gasFeeLoading:q,placeholder:jo,disableInput:G.disableInput||r,disabledTokenSelect:!l.chainId})),o.default.createElement("div",{className:(0,K.default)(k.swapToPanel)},o.default.createElement(bo,{onSwitchFromTo:N}),o.default.createElement(X,{loading:E,height:128},o.default.createElement(ao,{isExtension:!0,computedIsSingleChain:v,value:W,costValue:eo.costValue,popover:Y,onChange:Ro,token:d,type:h.TO,openSelectToken:()=>{po(h.TO)},label:g("swaptrade_card_swap_label2_receive"),computedValueDifference:eo.valueDifference,balanceStatus:eo.balanceStatus,computedIsCrossChain:O,disabledTokenSelect:!d.chainId})))),o.default.createElement(Z,null,o.default.createElement(xo,{isSkeleton:E}),o.default.createElement(To,{isSkeleton:E}),o.default.createElement(Z.Item,{id:"swapGasDrop"},Jo&&o.default.createElement(Wo,{isWalletEnv:!0,fromTokenLogoUrl:l?.tokenLogoUrl,fromTokenSymbol:l?.tokenSymbol,gasDropFromAmount:mo,gasDropConfig:Zo,onSwitch:i.setGasDropSwitch})),o.default.createElement(Z.Item,{id:"detail"},o.default.createElement(Io,{isSkeleton:E}))))),o.default.createElement(X,{style:{marginTop:16,borderRadius:24},loading:E,height:48},o.default.createElement(Co,{skeleton:!0,btnData:s.computedBtnStatus,isShowLoadingCpt:E||Q,isShowError:re,isWalletEnv:p.computedIsWalletEnv,size:uo.SIZE.lg})),o.default.createElement(No,{visible:oe,setVisible:te,title:ee}),o.default.createElement(Uo,null),o.default.createElement(ko,null))},Pt=$(le);export{Pt as default};
//# sourceMappingURL=Bridge-4YYPDLG4.js.map
