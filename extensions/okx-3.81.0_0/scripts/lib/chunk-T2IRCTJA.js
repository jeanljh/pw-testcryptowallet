import{K as $}from"./chunk-UC2GDSBD.js";import{b as w,t as h,u as p}from"./chunk-PI6SXITR.js";import{fa as x,ga as g,m as _,ua as S}from"./chunk-LZ43QKYM.js";import{P as I,t as m}from"./chunk-XEVJKE53.js";import{H as P,R as y,_ as T,g as k,s as A}from"./chunk-NLHAZXT3.js";import{o as f,q as C}from"./chunk-4J7XGGEQ.js";f();C();T();var b=e=>!!(Number(e?.isNativeToken)===_.TRUE||e?.isNativeToken===!0||e?.isBaseCoin),K=e=>e?h(e.chainId)&&e.tokenContractAddress:!1,V=({chainId:e,tokenContractAddress:t,tokenAddress:r=void 0}={})=>`${e}_${(t||r)?.toLowerCase()}`;function d(e,t=!1){let r=e?.tokenContractAddress||e?.tokenAddress||"";return t?r:y(r)}function O(e,t){return Number(e?.chainId)===Number(t?.chainId)}function R(e,t,r=!1){if(!O(e,t))return!1;let i=d(e,r),n=d(t,r);return i&&n?i===n:b(e)&&b(t)}f();C();T();var l=e=>g()?e:A(m.chainInfo,r=>r===e)||e,N=e=>{if(!p(e))return"";let t=e.chainId;return g()?t:m.chainInfo?.[t]||t},U=(e,t)=>p(e)&&p(t)?{chain:`${N(e)},${N(t)}`,token:`${d(e,!0)},${d(t,!0)}`}:{};function q({from:e,to:t,inputAmount:r,feeConfig:o,addressType:i}={}){let n=new URLSearchParams,s=(u,a)=>{h(a?.chainId)&&n.set(`${u}Chain`,a.chainId),a?.tokenContractAddress&&n.set(`${u}Currency`,a.tokenContractAddress)},c=u=>{u?.referrerAddress&&u?.feePercent&&(n.set("referrerAddress",u.referrerAddress),n.set("feePercent",u.feePercent))};return s("input",e),s("output",t),c(o),r&&n.set("inputAmount",r),i&&n.set("addressType",i),n}var te=e=>{if(!e)return"";let t=e.get("inputChain"),r=e.get("inputCurrency"),o=e.get("outputChain"),i=e.get("outputCurrency"),n={};t&&r&&o&&i&&(e.delete("inputChain"),e.delete("inputCurrency"),e.delete("outputChain"),e.delete("outputCurrency"),n=U({chainId:t,tokenContractAddress:r},{chainId:o,tokenContractAddress:i}));let s=Object.fromEntries(e.entries());return new I().stringify({...n,...s})};function re(e={}){let t=q(e);t.delete("referrerAddress"),t.delete("feePercent");let r=P(e,["from","to","token","chain","inputAmount","feeConfig","addressType","tokenPair","bridgeTokenPair"]);return k(r).forEach(o=>{t.set(o,r[o])}),t}var F=e=>{if(!e)return e;let t=e.get("chain");if(!t)return e;if(t?.includes(",")){let[o,i]=t.split(",");e.set("inputChain",l(o)),e.set("outputChain",l(i))}else{let o=l(t);e.set("outputChain",o)}let r=e.get("token");if(!r)return e;if(r?.includes(",")){let[o,i]=r.split(",");e.set("inputCurrency",o),e.set("outputCurrency",i)}else e.set("outputCurrency",r);return e};function ne(e,t){let r=F(e),o=n=>{let s=c=>{let u=r.get(`${n}${c}`);return!u&&t&&(u=r.get(`${n}Limit${c}`)),u};return{chainId:s("Chain"),tokenContractAddress:s("Currency")}},i=()=>{let n=r.get("referrerAddress"),s=r.get("feePercent");return $()&&n&&s&&!w(s)?{referrerAddress:n,feePercent:s}:{}};return{from:o("input"),to:o("output"),inputAmount:r.get("inputAmount"),feeConfig:i(),addressType:r.get("addressType"),autoSwitch:r.get("autoSwitch")}}function oe(e,t){return!e||!t?"":e===x.OKX_WALLET_EXTENSION?t:S(t)}export{K as a,V as b,d as c,O as d,R as e,U as f,q as g,te as h,re as i,F as j,ne as k,oe as l};
//# sourceMappingURL=chunk-T2IRCTJA.js.map
