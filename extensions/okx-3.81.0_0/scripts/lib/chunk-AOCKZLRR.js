import{a as io}from"./chunk-NHQL3RON.js";import{m as Xn,t as no,u as z}from"./chunk-UCYWIXHR.js";import{a as Jr}from"./chunk-YN3RVC5F.js";import{c as ee,f as gt,o as E,p as N,q as _}from"./chunk-4J7XGGEQ.js";var mr=ee((Zd,Ft)=>{E();_();function da(e){return e&&e.__esModule?e:{default:e}}Ft.exports=da,Ft.exports.__esModule=!0,Ft.exports.default=Ft.exports});var br=ee((th,Gt)=>{E();_();function Si(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ha(e,t,r){return t&&Si(e.prototype,t),r&&Si(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Gt.exports=ha,Gt.exports.__esModule=!0,Gt.exports.default=Gt.exports});var wr=ee((ih,qt)=>{E();_();function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}qt.exports=pa,qt.exports.__esModule=!0,qt.exports.default=qt.exports});var Ei=ee((ah,qe)=>{E();_();function pn(e,t){return qe.exports=pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qe.exports.__esModule=!0,qe.exports.default=qe.exports,pn(e,t)}qe.exports=pn,qe.exports.__esModule=!0,qe.exports.default=qe.exports});var vr=ee((lh,Ht)=>{E();_();var ya=Ei();function ga(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ya(e,t)}Ht.exports=ga,Ht.exports.__esModule=!0,Ht.exports.default=Ht.exports});var xr=ee((hh,He)=>{E();_();function yn(e){return He.exports=yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He.exports.__esModule=!0,He.exports.default=He.exports,yn(e)}He.exports=yn,He.exports.__esModule=!0,He.exports.default=He.exports});var _i=ee((gh,Wt)=>{E();_();function ma(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Wt.exports=ma,Wt.exports.__esModule=!0,Wt.exports.default=Wt.exports});var Sr=ee((wh,zt)=>{E();_();var ba=xr().default,wa=_i();function va(e,t){if(t&&(ba(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}zt.exports=va,zt.exports.__esModule=!0,zt.exports.default=zt.exports});var Er=ee((Sh,We)=>{E();_();function gn(e){return We.exports=gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},We.exports.__esModule=!0,We.exports.default=We.exports,gn(e)}We.exports=gn,We.exports.__esModule=!0,We.exports.default=We.exports});var bn=ee((Th,mn)=>{E();_();var xa=Object.prototype.hasOwnProperty,ae="~";function Jt(){}Object.create&&(Jt.prototype=Object.create(null),new Jt().__proto__||(ae=!1));function Sa(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function Ti(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Sa(r,n||e,i),s=ae?ae+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function _r(e,t){--e._eventsCount===0?e._events=new Jt:delete e._events[t]}function ie(){this._events=new Jt,this._eventsCount=0}ie.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)xa.call(r,n)&&t.push(ae?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};ie.prototype.listeners=function(t){var r=ae?ae+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};ie.prototype.listenerCount=function(t){var r=ae?ae+t:t,n=this._events[r];return n?n.fn?1:n.length:0};ie.prototype.emit=function(t,r,n,i,o,s){var a=ae?ae+t:t;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,h,f;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,i),!0;case 5:return c.fn.call(c.context,r,n,i,o),!0;case 6:return c.fn.call(c.context,r,n,i,o,s),!0}for(f=1,h=new Array(l-1);f<l;f++)h[f-1]=arguments[f];c.fn.apply(c.context,h)}else{var y=c.length,g;for(f=0;f<y;f++)switch(c[f].once&&this.removeListener(t,c[f].fn,void 0,!0),l){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,r);break;case 3:c[f].fn.call(c[f].context,r,n);break;case 4:c[f].fn.call(c[f].context,r,n,i);break;default:if(!h)for(g=1,h=new Array(l-1);g<l;g++)h[g-1]=arguments[g];c[f].fn.apply(c[f].context,h)}}return!0};ie.prototype.on=function(t,r,n){return Ti(this,t,r,n,!1)};ie.prototype.once=function(t,r,n){return Ti(this,t,r,n,!0)};ie.prototype.removeListener=function(t,r,n,i){var o=ae?ae+t:t;if(!this._events[o])return this;if(!r)return _r(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&_r(this,o);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[o]=c.length===1?c[0]:c:_r(this,o)}return this};ie.prototype.removeAllListeners=function(t){var r;return t?(r=ae?ae+t:t,this._events[r]&&_r(this,r)):(this._events=new Jt,this._eventsCount=0),this};ie.prototype.off=ie.prototype.removeListener;ie.prototype.addListener=ie.prototype.on;ie.prefixed=ae;ie.EventEmitter=ie;typeof mn<"u"&&(mn.exports=ie)});var Ci=ee(wn=>{E();_();var Xt=mr();Object.defineProperty(wn,"__esModule",{value:!0});wn.default=Ia;var Ea=Xt(wr()),_a=Xt(br()),Ta=Xt(vr()),ka=Xt(Sr()),ki=Xt(Er()),Ca=bn();function Aa(e){var t=Ba();return function(){var n=(0,ki.default)(e),i;if(t){var o=(0,ki.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,ka.default)(this,i)}}function Ba(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Oa=function(e){(0,Ta.default)(r,e);var t=Aa(r);function r(n,i,o){var s;return(0,Ea.default)(this,r),s=t.call(this),s.socket=new window.WebSocket(n,o),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(a){return s.emit("message",a.data)},s.socket.onerror=function(a){return s.emit("error",a)},s.socket.onclose=function(a){s.emit("close",a.code,a.reason)},s}return(0,_a.default)(r,[{key:"send",value:function(i,o,s){var a=s||o;try{this.socket.send(i),a()}catch(c){a(c)}}},{key:"close",value:function(i,o){this.socket.close(i,o)}},{key:"addEventListener",value:function(i,o,s){this.socket.addEventListener(i,o,s)}}]),r}(Ca.EventEmitter);function Ia(e,t){return new Oa(e,t)}});var Bi=ee((Ih,ze)=>{E();_();var ja=xr().default;function Ai(){"use strict";ze.exports=Ai=function(){return e},ze.exports.__esModule=!0,ze.exports.default=ze.exports;var e={},t=Object.prototype,r=t.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(S,m,A){return Object.defineProperty(S,m,{value:A,enumerable:!0,configurable:!0,writable:!0}),S[m]}try{a({},"")}catch{a=function(A,O,R){return A[O]=R}}function c(S,m,A,O){var R=m&&m.prototype instanceof f?m:f,P=Object.create(R.prototype),X=new yt(O||[]);return P._invoke=function(Ce,De,q){var re="suspendedStart";return function(Ue,zn){if(re==="executing")throw new Error("Generator is already running");if(re==="completed"){if(Ue==="throw")throw zn;return we()}for(q.method=Ue,q.arg=zn;;){var Jn=q.delegate;if(Jn){var zr=de(Jn,q);if(zr){if(zr===h)continue;return zr}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(re==="suspendedStart")throw re="completed",q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);re="executing";var Nt=l(Ce,De,q);if(Nt.type==="normal"){if(re=q.done?"completed":"suspendedYield",Nt.arg===h)continue;return{value:Nt.arg,done:q.done}}Nt.type==="throw"&&(re="completed",q.method="throw",q.arg=Nt.arg)}}}(S,A,X),P}function l(S,m,A){try{return{type:"normal",arg:S.call(m,A)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var h={};function f(){}function y(){}function g(){}var w={};a(w,i,function(){return this});var x=Object.getPrototypeOf,I=x&&x(x(he([])));I&&I!==t&&r.call(I,i)&&(w=I);var G=g.prototype=f.prototype=Object.create(w);function Q(S){["next","throw","return"].forEach(function(m){a(S,m,function(A){return this._invoke(m,A)})})}function $(S,m){function A(R,P,X,Ce){var De=l(S[R],S,P);if(De.type!=="throw"){var q=De.arg,re=q.value;return re&&ja(re)=="object"&&r.call(re,"__await")?m.resolve(re.__await).then(function(Ue){A("next",Ue,X,Ce)},function(Ue){A("throw",Ue,X,Ce)}):m.resolve(re).then(function(Ue){q.value=Ue,X(q)},function(Ue){return A("throw",Ue,X,Ce)})}Ce(De.arg)}var O;this._invoke=function(R,P){function X(){return new m(function(Ce,De){A(R,P,Ce,De)})}return O=O?O.then(X,X):X()}}function de(S,m){var A=S.iterator[m.method];if(A===void 0){if(m.delegate=null,m.method==="throw"){if(S.iterator.return&&(m.method="return",m.arg=void 0,de(S,m),m.method==="throw"))return h;m.method="throw",m.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var O=l(A,S.iterator,m.arg);if(O.type==="throw")return m.method="throw",m.arg=O.arg,m.delegate=null,h;var R=O.arg;return R?R.done?(m[S.resultName]=R.value,m.next=S.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,h):R:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,h)}function J(S){var m={tryLoc:S[0]};1 in S&&(m.catchLoc=S[1]),2 in S&&(m.finallyLoc=S[2],m.afterLoc=S[3]),this.tryEntries.push(m)}function ke(S){var m=S.completion||{};m.type="normal",delete m.arg,S.completion=m}function yt(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(J,this),this.reset(!0)}function he(S){if(S){var m=S[i];if(m)return m.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var A=-1,O=function R(){for(;++A<S.length;)if(r.call(S,A))return R.value=S[A],R.done=!1,R;return R.value=void 0,R.done=!0,R};return O.next=O}}return{next:we}}function we(){return{value:void 0,done:!0}}return y.prototype=g,a(G,"constructor",g),a(g,"constructor",y),y.displayName=a(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(S){var m=typeof S=="function"&&S.constructor;return!!m&&(m===y||(m.displayName||m.name)==="GeneratorFunction")},e.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,g):(S.__proto__=g,a(S,s,"GeneratorFunction")),S.prototype=Object.create(G),S},e.awrap=function(S){return{__await:S}},Q($.prototype),a($.prototype,o,function(){return this}),e.AsyncIterator=$,e.async=function(S,m,A,O,R){R===void 0&&(R=Promise);var P=new $(c(S,m,A,O),R);return e.isGeneratorFunction(m)?P:P.next().then(function(X){return X.done?X.value:P.next()})},Q(G),a(G,s,"Generator"),a(G,i,function(){return this}),a(G,"toString",function(){return"[object Generator]"}),e.keys=function(S){var m=[];for(var A in S)m.push(A);return m.reverse(),function O(){for(;m.length;){var R=m.pop();if(R in S)return O.value=R,O.done=!1,O}return O.done=!0,O}},e.values=he,yt.prototype={constructor:yt,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ke),!m)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var m=this.tryEntries[0].completion;if(m.type==="throw")throw m.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var A=this;function O(q,re){return X.type="throw",X.arg=m,A.next=q,re&&(A.method="next",A.arg=void 0),!!re}for(var R=this.tryEntries.length-1;R>=0;--R){var P=this.tryEntries[R],X=P.completion;if(P.tryLoc==="root")return O("end");if(P.tryLoc<=this.prev){var Ce=r.call(P,"catchLoc"),De=r.call(P,"finallyLoc");if(Ce&&De){if(this.prev<P.catchLoc)return O(P.catchLoc,!0);if(this.prev<P.finallyLoc)return O(P.finallyLoc)}else if(Ce){if(this.prev<P.catchLoc)return O(P.catchLoc,!0)}else{if(!De)throw new Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return O(P.finallyLoc)}}}},abrupt:function(m,A){for(var O=this.tryEntries.length-1;O>=0;--O){var R=this.tryEntries[O];if(R.tryLoc<=this.prev&&r.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var P=R;break}}P&&(m==="break"||m==="continue")&&P.tryLoc<=A&&A<=P.finallyLoc&&(P=null);var X=P?P.completion:{};return X.type=m,X.arg=A,P?(this.method="next",this.next=P.finallyLoc,h):this.complete(X)},complete:function(m,A){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&A&&(this.next=A),h},finish:function(m){for(var A=this.tryEntries.length-1;A>=0;--A){var O=this.tryEntries[A];if(O.finallyLoc===m)return this.complete(O.completion,O.afterLoc),ke(O),h}},catch:function(m){for(var A=this.tryEntries.length-1;A>=0;--A){var O=this.tryEntries[A];if(O.tryLoc===m){var R=O.completion;if(R.type==="throw"){var P=R.arg;ke(O)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(m,A,O){return this.delegate={iterator:he(m),resultName:A,nextLoc:O},this.method==="next"&&(this.arg=void 0),h}},e}ze.exports=Ai,ze.exports.__esModule=!0,ze.exports.default=ze.exports});var Ii=ee((Ph,Oi)=>{E();_();var Tr=Bi()();Oi.exports=Tr;try{regeneratorRuntime=Tr}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Tr:Function("r","regeneratorRuntime = r")(Tr)}});var Ri=ee((Nh,Yt)=>{E();_();function ji(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(l){r(l);return}a.done?t(c):Promise.resolve(c).then(n,i)}function Ra(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(c){ji(o,n,i,s,a,"next",c)}function a(c){ji(o,n,i,s,a,"throw",c)}s(void 0)})}}Yt.exports=Ra,Yt.exports.__esModule=!0,Yt.exports.default=Yt.exports});var Di=ee(Cr=>{E();_();var lt=mr();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.default=void 0;var ut=lt(Ii()),kr=lt(Ri()),Pa=lt(xr()),Da=lt(wr()),Ua=lt(br()),Na=lt(vr()),Ma=lt(Sr()),Pi=lt(Er()),La=bn();function $a(e){var t=Ka();return function(){var n=(0,Pi.default)(e),i;if(t){var o=(0,Pi.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Ma.default)(this,i)}}function Ka(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Va=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Fa=function(e){(0,Na.default)(r,e);var t=$a(r);function r(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,Da.default)(this,r);var c=s.autoconnect,l=c===void 0?!0:c,h=s.reconnect,f=h===void 0?!0:h,y=s.reconnect_interval,g=y===void 0?1e3:y,w=s.max_reconnects,x=w===void 0?5:w,I=Va(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return i=t.call(this),i.webSocketFactory=n,i.queue={},i.rpc_id=0,i.address=o,i.autoconnect=l,i.ready=!1,i.reconnect=f,i.reconnect_timer_id=void 0,i.reconnect_interval=g,i.max_reconnects=x,i.rest_options=I,i.current_reconnects=0,i.generate_request_id=a||function(){return++i.rpc_id},i.autoconnect&&i._connect(i.address,Object.assign({autoconnect:i.autoconnect,reconnect:i.reconnect,reconnect_interval:i.reconnect_interval,max_reconnects:i.max_reconnects},i.rest_options)),i}return(0,Ua.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(i,o,s,a){var c=this;return!a&&(0,Pa.default)(s)==="object"&&(a=s,s=null),new Promise(function(l,h){if(!c.ready)return h(new Error("socket not ready"));var f=c.generate_request_id(i,o),y={jsonrpc:"2.0",method:i,params:o||null,id:f};c.socket.send(JSON.stringify(y),a,function(g){if(g)return h(g);c.queue[f]={promise:[l,h]},s&&(c.queue[f].timeout=setTimeout(function(){delete c.queue[f],h(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,kr.default)(ut.default.mark(function o(s){var a;return ut.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.call("rpc.login",s);case 2:if(a=l.sent,a){l.next=5;break}throw new Error("authentication failed");case 5:return l.abrupt("return",a);case 6:case"end":return l.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"listMethods",value:function(){var n=(0,kr.default)(ut.default.mark(function o(){return ut.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},o,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"notify",value:function(i,o){var s=this;return new Promise(function(a,c){if(!s.ready)return c(new Error("socket not ready"));var l={jsonrpc:"2.0",method:i,params:o||null};s.socket.send(JSON.stringify(l),function(h){if(h)return c(h);a()})})}},{key:"subscribe",value:function(){var n=(0,kr.default)(ut.default.mark(function o(s){var a;return ut.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return typeof s=="string"&&(s=[s]),l.next=3,this.call("rpc.on",s);case 3:if(a=l.sent,!(typeof s=="string"&&a[s]!=="ok")){l.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+a[s]);case 6:return l.abrupt("return",a);case 7:case"end":return l.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"unsubscribe",value:function(){var n=(0,kr.default)(ut.default.mark(function o(s){var a;return ut.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return typeof s=="string"&&(s=[s]),l.next=3,this.call("rpc.off",s);case 3:if(a=l.sent,!(typeof s=="string"&&a[s]!=="ok")){l.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return l.abrupt("return",a);case 7:case"end":return l.stop()}},o,this)}));function i(o){return n.apply(this,arguments)}return i}()},{key:"close",value:function(i,o){this.socket.close(i||1e3,o)}},{key:"_connect",value:function(i,o){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,o),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(a){var c=a.data;c instanceof ArrayBuffer&&(c=N.Buffer.from(c).toString());try{c=JSON.parse(c)}catch{return}if(c.notification&&s.listeners(c.notification).length){if(!Object.keys(c.params).length)return s.emit(c.notification);var l=[c.notification];if(c.params.constructor===Object)l.push(c.params);else for(var h=0;h<c.params.length;h++)l.push(c.params[h]);return Promise.resolve().then(function(){s.emit.apply(s,l)})}if(!s.queue[c.id])return c.method&&c.params?Promise.resolve().then(function(){s.emit(c.method,c.params)}):void 0;"error"in c=="result"in c&&s.queue[c.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[c.id].timeout&&clearTimeout(s.queue[c.id].timeout),c.error?s.queue[c.id].promise[1](c.error):s.queue[c.id].promise[0](c.result),delete s.queue[c.id]}),this.socket.addEventListener("error",function(a){return s.emit("error",a)}),this.socket.addEventListener("close",function(a){var c=a.code,l=a.reason;s.ready&&setTimeout(function(){return s.emit("close",c,l)},0),s.ready=!1,s.socket=void 0,c!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(i,o)},s.reconnect_interval)))})}}]),r}(La.EventEmitter);Cr.default=Fa});var Ni=ee(Ar=>{E();_();var St=mr();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.Client=void 0;var Ga=St(br()),qa=St(wr()),Ha=St(vr()),Wa=St(Sr()),Ui=St(Er()),za=St(Ci()),Ja=St(Di());function Xa(e){var t=Ya();return function(){var n=(0,Ui.default)(e),i;if(t){var o=(0,Ui.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,Wa.default)(this,i)}}function Ya(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Za=function(e){(0,Ha.default)(r,e);var t=Xa(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.autoconnect,s=o===void 0?!0:o,a=i.reconnect,c=a===void 0?!0:a,l=i.reconnect_interval,h=l===void 0?1e3:l,f=i.max_reconnects,y=f===void 0?5:f,g=arguments.length>2?arguments[2]:void 0;return(0,qa.default)(this,r),t.call(this,za.default,n,{autoconnect:s,reconnect:c,reconnect_interval:h,max_reconnects:y},g)}return(0,Ga.default)(r)}(Ja.default);Ar.Client=Za});var $i=ee((Hh,Li)=>{E();_();function Mi(e){return/^\d+\.\d+\.\d+$/.test(e)}function je(e){if(!Mi(e))throw new Error("Invalid semver version: "+e);let[t,r,n]=e.split(".").map(i=>parseInt(i,10));return{major:t,minor:r,patch:n}}function Qa(e,t){let r=je(e),n=je(t);return r.major!==n.major?r.major<n.major:r.minor!==n.minor?r.minor<n.minor:r.patch!==n.patch?r.patch<n.patch:!1}function ec(e,t){let r=je(e),n=je(t);return r.major!==n.major?r.major<=n.major:r.minor!==n.minor?r.minor<=n.minor:r.patch!==n.patch?r.patch<=n.patch:!0}function tc(e,t){let r=je(e),n=je(t);return r.major!==n.major?r.major>n.major:r.minor!==n.minor?r.minor>n.minor:r.patch!==n.patch?r.patch>n.patch:!1}function rc(e,t){let r=je(e),n=je(t);return r.major!==n.major?r.major>=n.major:r.minor!==n.minor?r.minor>=n.minor:r.patch!==n.patch?r.patch>=n.patch:!0}function nc(e,t){return je(e),je(t),e===t}Li.exports={isValid:Mi,parse:je,lt:Qa,lte:ec,gt:tc,gte:rc,eq:nc}});E();_();var _t=gt(Jr(),1);E();_();var Yr=gt(io(),1);function so(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0}function H(e,t){for(var r=e.replace(/[^A-Za-z0-9+/]/g,""),n=r.length,i=t?Math.ceil((n*3+1>>2)/t)*t:n*3+1>>2,o=new Uint8Array(i),s,a,c=0,l=0,h=0;h<n;h++)if(a=h&3,c|=so(r.charCodeAt(h))<<6*(3-a),a===3||n-h===1){for(s=0;s<3&&l<i;s++,l++)o[l]=c>>>(16>>>s&24)&255;c=0}return o}function nr(e){return e<26?e+65:e<52?e+71:e<62?e-4:e===62?43:e===63?47:65}function W(e){for(var t=2,r="",n=e.length,i=0,o=0;o<n;o++)t=o%3,o>0&&o*4/3%76===0&&(r+=""),i|=e[o]<<(16>>>t&24),(t===2||e.length-o===1)&&(r+=String.fromCodePoint(nr(i>>>18&63),nr(i>>>12&63),nr(i>>>6&63),nr(i&63)),i=0);return r.slice(0,r.length-2+t)+(t===2?"":t===1?"=":"==")}function Lt(e){let t=e.replace("0x","").match(/.{1,2}/g).map(r=>parseInt(r,16));if(t===null)throw new Error(`Unable to parse HEX: ${e}`);return Uint8Array.from(t)}function $t(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}var oo=32;function Xr(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e=e/BigInt(256),n+=1;return r}var ir=e=>Yr.default.encode(e),sr=e=>Yr.default.decode(e),ao=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),r=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read128(){let e=BigInt(this.read64()),r=BigInt(this.read64()).toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+r).toString(10)}read256(){let e=BigInt(this.read128()),r=BigInt(this.read128()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+r).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=lo(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}},co=class{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let t=this.bytePosition+e;if(t>this.size){let r=Math.min(this.maxSize,this.size+this.allocateSize);if(t>r)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=r;let n=new ArrayBuffer(this.size);new Uint8Array(n).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(n)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return Xr(BigInt(e),8).forEach(t=>this.write8(t)),this}write128(e){return Xr(BigInt(e),16).forEach(t=>this.write8(t)),this}write256(e){return Xr(BigInt(e),32).forEach(t=>this.write8(t)),this}writeULEB(e){return uo(e).forEach(t=>this.write8(t)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((r,n)=>t(this,r,n,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return fo(this.toBytes(),e)}};function uo(e){let t=[],r=0;if(e===0)return[0];for(;e>0;)t[r]=e&127,(e>>=7)&&(t[r]|=128),r+=1;return t}function lo(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(i&127)<<r,(i&128)===0)break;r+=7}return{value:t,length:n}}var Mt=class{constructor(e){if(this.types=new Map,this.counter=0,e instanceof Mt){this.schema=e.schema,this.types=new Map(e.types);return}if(this.schema=e,this.registerAddressType(Mt.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);e.withPrimitives!==!1&&po(this)}tempKey(){return`bcs-struct-${++this.counter}`}ser(e,t,r){if(typeof e=="string"||Array.isArray(e)){let{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).encode(this,t,r,i)}if(typeof e=="object"){let n=this.tempKey();return new Mt(this).registerStructType(n,e).ser(n,t,r)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(e)}`)}de(e,t,r){if(typeof t=="string")if(r)t=ho(t,r);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof e=="string"||Array.isArray(e)){let{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).decode(this,t,i)}if(typeof e=="object"){let n=new Mt(this),i=this.tempKey();return n.registerStructType(i,e).de(i,t,r)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=()=>!0){let{name:i,params:o}=this.parseTypeName(e);return this.types.set(i,{encode(s,a,c,l){let h=o.reduce((f,y,g)=>Object.assign(f,{[y]:l[g]}),{});return this._encodeRaw.call(s,new co(c),a,l,h)},decode(s,a,c){let l=o.reduce((h,f,y)=>Object.assign(h,{[f]:c[y]}),{});return this._decodeRaw.call(s,new ao(a),c,l)},_encodeRaw(s,a,c,l){if(n(a))return t.call(this,s,a,c,l);throw new Error(`Validation failed for type ${i}, data: ${a}`)},_decodeRaw(s,a,c){return r.call(this,s,a,c)}}),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,function(i,o){return H(o).reduce((s,a)=>s.write8(a),i)},function(i){return W(i.readBytes(t))});case"hex":return this.registerType(e,function(i,o){return Lt(o).reduce((s,a)=>s.write8(a),i)},function(i){return $t(i.readBytes(t))});default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,function(i,o,s,a){return i.writeVec(o,(c,l)=>{let h=s[0];if(!h)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:f,params:y}=this.parseTypeName(h);if(this.hasType(f))return this.getTypeInterface(f)._encodeRaw.call(this,c,l,y,a);if(!(f in a))throw new Error(`Unable to find a matching type definition for ${f} in vector; make sure you passed a generic`);let{name:g,params:w}=this.parseTypeName(a[f]);return this.getTypeInterface(g)._encodeRaw.call(this,c,l,w,a)})},function(i,o,s){return i.readVec(a=>{let c=o[0];if(!c)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:l,params:h}=this.parseTypeName(c);if(this.hasType(l))return this.getTypeInterface(l)._decodeRaw.call(this,a,h,s);if(!(l in s))throw new Error(`Unable to find a matching type definition for ${l} in vector; make sure you passed a generic`);let{name:f,params:y}=this.parseTypeName(s[l]);this.getTypeInterface(f)._decodeRaw.call(this,a,y,s)})})}registerStructType(e,t){for(let s in t){let a=this.tempKey(),c=t[s];!Array.isArray(c)&&typeof c!="string"&&(t[s]=a,this.registerStructType(a,c))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,function(a,c,l,h){if(!c||c.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${c}`);if(l.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${l.length}`);for(let f of n){if(!(f in c))throw new Error(`Struct ${i} requires field ${f}:${r[f]}`);let{name:y,params:g}=this.parseTypeName(r[f]);if(!o.includes(y))this.getTypeInterface(y)._encodeRaw.call(this,a,c[f],g,h);else{let w=o.indexOf(y),{name:x,params:I}=this.parseTypeName(l[w]);if(this.hasType(x)){this.getTypeInterface(x)._encodeRaw.call(this,a,c[f],I,h);continue}if(!(x in h))throw new Error(`Unable to find a matching type definition for ${x} in ${i}; make sure you passed a generic`);let{name:G,params:Q}=this.parseTypeName(h[x]);this.getTypeInterface(G)._encodeRaw.call(this,a,c[f],Q,h)}}return a},function(a,c,l){if(c.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${c.length}`);let h={};for(let f of n){let{name:y,params:g}=this.parseTypeName(r[f]);if(!o.includes(y))h[f]=this.getTypeInterface(y)._decodeRaw.call(this,a,g,l);else{let w=o.indexOf(y),{name:x,params:I}=this.parseTypeName(c[w]);if(this.hasType(x)){h[f]=this.getTypeInterface(x)._decodeRaw.call(this,a,I,l);continue}if(!(x in l))throw new Error(`Unable to find a matching type definition for ${x} in ${i}; make sure you passed a generic`);let{name:G,params:Q}=this.parseTypeName(l[x]);h[f]=this.getTypeInterface(G)._decodeRaw.call(this,a,Q,l)}}return h})}registerEnumType(e,t){for(let s in t){let a=this.tempKey(),c=t[s];c!==null&&!Array.isArray(c)&&typeof c!="string"&&(t[s]=a,this.registerStructType(a,c))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,function(a,c,l,h){if(!c)throw new Error(`Unable to write enum "${i}", missing data.
Received: "${c}"`);if(typeof c!="object")throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".
Received: "${JSON.stringify(c)}"`);let f=Object.keys(c)[0];if(f===void 0)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let y=n.indexOf(f);if(y===-1)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${f}"`);let g=n[y],w=r[g];if(a.write8(y),w===null)return a;let x=o.indexOf(w),I=x===-1?w:l[x];{let{name:G,params:Q}=this.parseTypeName(I);return this.getTypeInterface(G)._encodeRaw.call(this,a,c[f],Q,h)}},function(a,c,l){let h=a.readULEB(),f=n[h],y=r[f];if(h===-1)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${h}"`);if(y===null)return{[f]:!0};let g=o.indexOf(y),w=g===-1?y:c[g];{let{name:x,params:I}=this.parseTypeName(w);return{[f]:this.getTypeInterface(x)._decodeRaw.call(this,a,I,l)}}})}getTypeInterface(e){let t=this.types.get(e);if(typeof t=="string"){let r=[];for(;typeof t=="string";){if(r.includes(t))throw new Error(`Recursive definition found: ${r.join(" -> ")} -> ${t}`);r.push(t),t=this.types.get(t)}}if(t===void 0)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[a,...c]=e;return{name:a,params:c}}if(typeof e!="string")throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(n===-1&&i===-1)return{name:e,params:[]};if(n===-1||i===-1)throw new Error(`Unclosed generic in name '${e}'`);let o=e.slice(0,n),s=e.slice(n+1,e.length-i-1).split(",").map(a=>a.trim());return{name:o,params:s}}},k=Mt;k.U8="u8";k.U16="u16";k.U32="u32";k.U64="u64";k.U128="u128";k.U256="u256";k.BOOL="bool";k.VECTOR="vector";k.ADDRESS="address";k.STRING="string";k.HEX="hex-string";k.BASE58="base58-string";k.BASE64="base64-string";function fo(e,t){switch(t){case"base58":return ir(e);case"base64":return W(e);case"hex":return $t(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function ho(e,t){switch(t){case"base58":return sr(e);case"base64":return H(e);case"hex":return Lt(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function po(e){e.registerType(k.U8,function(t,r){return t.write8(r)},function(t){return t.read8()},t=>t<256),e.registerType(k.U16,function(t,r){return t.write16(r)},function(t){return t.read16()},t=>t<65536),e.registerType(k.U32,function(t,r){return t.write32(r)},function(t){return t.read32()},t=>t<=4294967296n),e.registerType(k.U64,function(t,r){return t.write64(r)},function(t){return t.read64()}),e.registerType(k.U128,function(t,r){return t.write128(r)},function(t){return t.read128()}),e.registerType(k.U256,function(t,r){return t.write256(r)},function(t){return t.read256()}),e.registerType(k.BOOL,function(t,r){return t.write8(r)},function(t){return t.read8().toString(10)==="1"}),e.registerType(k.STRING,function(t,r){return t.writeVec(Array.from(r),(n,i)=>n.write8(i.charCodeAt(0)))},function(t){return t.readVec(r=>r.read8()).map(r=>String.fromCharCode(Number(r))).join("")},t=>!0),e.registerType(k.HEX,function(t,r){return t.writeVec(Array.from(Lt(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return $t(new Uint8Array(r))}),e.registerType(k.BASE58,function(t,r){return t.writeVec(Array.from(sr(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return ir(new Uint8Array(r))}),e.registerType(k.BASE64,function(t,r){return t.writeVec(Array.from(H(r)),(n,i)=>n.write8(i))},function(t){let r=t.readVec(n=>n.read8());return W(new Uint8Array(r))})}function Yn(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:oo,addressEncoding:"hex"}}E();_();E();_();E();_();function Ne(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function yo(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function pe(e,...t){if(!yo(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function or(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ne(e.outputLen),Ne(e.blockLen)}function Ve(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ar(e,t){pe(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}E();_();var It=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Me=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ae=(e,t)=>e<<32-t|e>>>t,Kt=(e,t)=>e<<t|e>>>32-t>>>0,Qe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Qn=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,Be=Qe?e=>e:e=>Qn(e);function mt(e){for(let t=0;t<e.length;t++)e[t]=Qn(e[t])}var go=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function et(e){pe(e);let t="";for(let r=0;r<e.length;r++)t+=go[e[r]];return t}var Fe={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Zn(e){if(e>=Fe._0&&e<=Fe._9)return e-Fe._0;if(e>=Fe._A&&e<=Fe._F)return e-(Fe._A-10);if(e>=Fe._a&&e<=Fe._f)return e-(Fe._a-10)}function ei(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){let s=Zn(e.charCodeAt(o)),a=Zn(e.charCodeAt(o+1));if(s===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function Zr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function se(e){return typeof e=="string"&&(e=Zr(e)),pe(e),e}function Vt(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];pe(i),t+=i.length}let r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let o=e[n];r.set(o,i),i+=o.length}return r}var Ze=class{clone(){return this._cloneInto()}},mo={}.toString;function ti(e,t){if(t!==void 0&&mo.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function jt(e){let t=n=>e().update(se(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ri(e){let t=(n,i)=>e(i).update(se(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function bo(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+l,a,n)}var ni=(e,t,r)=>e&t^~e&r,ii=(e,t,r)=>e&t^e&r^t&r,tt=class extends Ze{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Me(this.buffer)}update(t){Ve(this);let{view:r,buffer:n,blockLen:i}=this;t=se(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let c=Me(t);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ve(this),ar(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let f=s;f<i;f++)r[f]=0;bo(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=Me(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,h[f],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}};var wo=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nt=new Uint32Array(64),Qr=class extends tt{constructor(){super(64,32,8,!1),this.A=rt[0]|0,this.B=rt[1]|0,this.C=rt[2]|0,this.D=rt[3]|0,this.E=rt[4]|0,this.F=rt[5]|0,this.G=rt[6]|0,this.H=rt[7]|0}get(){let{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[t,r,n,i,o,s,a,c]}set(t,r,n,i,o,s,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,r){for(let f=0;f<16;f++,r+=4)nt[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){let y=nt[f-15],g=nt[f-2],w=Ae(y,7)^Ae(y,18)^y>>>3,x=Ae(g,17)^Ae(g,19)^g>>>10;nt[f]=x+nt[f-7]+w+nt[f-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:l,H:h}=this;for(let f=0;f<64;f++){let y=Ae(a,6)^Ae(a,11)^Ae(a,25),g=h+y+ni(a,c,l)+wo[f]+nt[f]|0,x=(Ae(n,2)^Ae(n,13)^Ae(n,22))+ii(n,i,o)|0;h=l,l=c,c=a,a=s+g|0,s=o,o=i,i=n,n=g+x|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,i,o,s,a,c,l,h)}roundClean(){nt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var bt=jt(()=>new Qr);E();_();E();_();var si=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),cr=class extends Ze{constructor(t,r,n={},i,o,s){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Ne(t),Ne(r),Ne(i),r<0||r>i)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`key must be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==o)throw new Error(`salt must be ${o} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=It(this.buffer=new Uint8Array(t))}update(t){Ve(this);let{blockLen:r,buffer:n,buffer32:i}=this;t=se(t);let o=t.length,s=t.byteOffset,a=t.buffer;for(let c=0;c<o;){this.pos===r&&(Qe||mt(i),this.compress(i,0,!1),Qe||mt(i),this.pos=0);let l=Math.min(r-this.pos,o-c),h=s+c;if(l===r&&!(h%4)&&c+l<o){let f=new Uint32Array(a,h,Math.floor((o-c)/4));Qe||mt(f);for(let y=0;c+r<o;y+=i.length,c+=r)this.length+=r,this.compress(f,y,!1);Qe||mt(f);continue}n.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){Ve(this),ar(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),Qe||mt(n),this.compress(n,0,!0),Qe||mt(n);let i=It(t);this.get().forEach((o,s)=>i[s]=Be(o))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:i,destroyed:o,outputLen:s,pos:a}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=n,t.finished=i,t.destroyed=o,t.outputLen=s,t.buffer.set(r),t.pos=a,t}};E();_();var ur=BigInt(4294967295),en=BigInt(32);function oi(e,t=!1){return t?{h:Number(e&ur),l:Number(e>>en&ur)}:{h:Number(e>>en&ur)|0,l:Number(e&ur)|0}}function vo(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=oi(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}var xo=(e,t)=>BigInt(e>>>0)<<en|BigInt(t>>>0),So=(e,t,r)=>e>>>r,Eo=(e,t,r)=>e<<32-r|t>>>r,_o=(e,t,r)=>e>>>r|t<<32-r,To=(e,t,r)=>e<<32-r|t>>>r,ko=(e,t,r)=>e<<64-r|t>>>r-32,Co=(e,t,r)=>e>>>r-32|t<<64-r,Ao=(e,t)=>t,Bo=(e,t)=>e,Oo=(e,t,r)=>e<<r|t>>>32-r,Io=(e,t,r)=>t<<r|e>>>32-r,jo=(e,t,r)=>t<<r-32|e>>>64-r,Ro=(e,t,r)=>e<<r-32|t>>>64-r;function Po(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}var Do=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Uo=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,No=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Mo=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,Lo=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),$o=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;var Ko={fromBig:oi,split:vo,toBig:xo,shrSH:So,shrSL:Eo,rotrSH:_o,rotrSL:To,rotrBH:ko,rotrBL:Co,rotr32H:Ao,rotr32L:Bo,rotlSH:Oo,rotlSL:Io,rotlBH:jo,rotlBL:Ro,add:Po,add3L:Do,add3H:Uo,add4L:No,add4H:Mo,add5H:$o,add5L:Lo},C=Ko;var Y=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),v=new Uint32Array(32);function it(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=v[2*e],l=v[2*e+1],h=v[2*t],f=v[2*t+1],y=v[2*r],g=v[2*r+1],w=v[2*n],x=v[2*n+1],I=C.add3L(c,h,s);l=C.add3H(I,l,f,a),c=I|0,{Dh:x,Dl:w}={Dh:x^l,Dl:w^c},{Dh:x,Dl:w}={Dh:C.rotr32H(x,w),Dl:C.rotr32L(x,w)},{h:g,l:y}=C.add(g,y,x,w),{Bh:f,Bl:h}={Bh:f^g,Bl:h^y},{Bh:f,Bl:h}={Bh:C.rotrSH(f,h,24),Bl:C.rotrSL(f,h,24)},v[2*e]=c,v[2*e+1]=l,v[2*t]=h,v[2*t+1]=f,v[2*r]=y,v[2*r+1]=g,v[2*n]=w,v[2*n+1]=x}function st(e,t,r,n,i,o){let s=i[o],a=i[o+1],c=v[2*e],l=v[2*e+1],h=v[2*t],f=v[2*t+1],y=v[2*r],g=v[2*r+1],w=v[2*n],x=v[2*n+1],I=C.add3L(c,h,s);l=C.add3H(I,l,f,a),c=I|0,{Dh:x,Dl:w}={Dh:x^l,Dl:w^c},{Dh:x,Dl:w}={Dh:C.rotrSH(x,w,16),Dl:C.rotrSL(x,w,16)},{h:g,l:y}=C.add(g,y,x,w),{Bh:f,Bl:h}={Bh:f^g,Bl:h^y},{Bh:f,Bl:h}={Bh:C.rotrBH(f,h,63),Bl:C.rotrBL(f,h,63)},v[2*e]=c,v[2*e+1]=l,v[2*t]=h,v[2*t+1]=f,v[2*r]=y,v[2*r+1]=g,v[2*n]=w,v[2*n+1]=x}var tn=class extends cr{constructor(t={}){super(128,t.dkLen===void 0?64:t.dkLen,t,64,16,16),this.v0l=Y[0]|0,this.v0h=Y[1]|0,this.v1l=Y[2]|0,this.v1h=Y[3]|0,this.v2l=Y[4]|0,this.v2h=Y[5]|0,this.v3l=Y[6]|0,this.v3h=Y[7]|0,this.v4l=Y[8]|0,this.v4h=Y[9]|0,this.v5l=Y[10]|0,this.v5h=Y[11]|0,this.v6l=Y[12]|0,this.v6h=Y[13]|0,this.v7l=Y[14]|0,this.v7h=Y[15]|0;let r=t.key?t.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,t.salt){let n=It(se(t.salt));this.v4l^=Be(n[0]),this.v4h^=Be(n[1]),this.v5l^=Be(n[2]),this.v5h^=Be(n[3])}if(t.personalization){let n=It(se(t.personalization));this.v6l^=Be(n[0]),this.v6h^=Be(n[1]),this.v7l^=Be(n[2]),this.v7h^=Be(n[3])}if(t.key){let n=new Uint8Array(this.blockLen);n.set(se(t.key)),this.update(n)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:i,v2l:o,v2h:s,v3l:a,v3h:c,v4l:l,v4h:h,v5l:f,v5h:y,v6l:g,v6h:w,v7l:x,v7h:I}=this;return[t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I]}set(t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=o|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=h|0,this.v5l=f|0,this.v5h=y|0,this.v6l=g|0,this.v6h=w|0,this.v7l=x|0,this.v7h=I|0}compress(t,r,n){this.get().forEach((c,l)=>v[l]=c),v.set(Y,16);let{h:i,l:o}=C.fromBig(BigInt(this.length));v[24]=Y[8]^o,v[25]=Y[9]^i,n&&(v[28]=~v[28],v[29]=~v[29]);let s=0,a=si;for(let c=0;c<12;c++)it(0,4,8,12,t,r+2*a[s++]),st(0,4,8,12,t,r+2*a[s++]),it(1,5,9,13,t,r+2*a[s++]),st(1,5,9,13,t,r+2*a[s++]),it(2,6,10,14,t,r+2*a[s++]),st(2,6,10,14,t,r+2*a[s++]),it(3,7,11,15,t,r+2*a[s++]),st(3,7,11,15,t,r+2*a[s++]),it(0,5,10,15,t,r+2*a[s++]),st(0,5,10,15,t,r+2*a[s++]),it(1,6,11,12,t,r+2*a[s++]),st(1,6,11,12,t,r+2*a[s++]),it(2,7,8,13,t,r+2*a[s++]),st(2,7,8,13,t,r+2*a[s++]),it(3,4,9,14,t,r+2*a[s++]),st(3,4,9,14,t,r+2*a[s++]);this.v0l^=v[0]^v[16],this.v0h^=v[1]^v[17],this.v1l^=v[2]^v[18],this.v1h^=v[3]^v[19],this.v2l^=v[4]^v[20],this.v2h^=v[5]^v[21],this.v3l^=v[6]^v[22],this.v3h^=v[7]^v[23],this.v4l^=v[8]^v[24],this.v4h^=v[9]^v[25],this.v5l^=v[10]^v[26],this.v5h^=v[11]^v[27],this.v6l^=v[12]^v[28],this.v6h^=v[13]^v[29],this.v7l^=v[14]^v[30],this.v7h^=v[15]^v[31],v.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ve=ri(e=>new tn(e));E();_();var rn=class extends TypeError{constructor(t,r){let n,{message:i,explanation:o,...s}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}};function Vo(e){return xe(e)&&typeof e[Symbol.iterator]=="function"}function xe(e){return typeof e=="object"&&e!=null}function Se(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Fo(e){let{done:t,value:r}=e.next();return t?void 0:r}function Go(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});let{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Se(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*ai(e,t,r,n){Vo(e)||(e=[e]);for(let i of e){let o=Go(i,t,r,n);o&&(yield o)}}function*nn(e,t,r={}){let{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&t.type!=="type"&&xe(t.schema)&&xe(e)&&!Array.isArray(e)))for(let l in e)t.schema[l]===void 0&&delete e[l];let c="valid";for(let l of t.validator(e,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,h,f]of t.entries(e,a)){let y=nn(h,f,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,h],coerce:o,mask:s,message:r.message});for(let g of y)g[0]?(c=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):o&&(h=g[1],l===void 0?e=h:e instanceof Map?e.set(l,h):e instanceof Set?e.add(h):xe(e)&&(h!==void 0||l in e)&&(e[l]=h))}if(c!=="not_valid")for(let l of t.refiner(e,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}var Ee=class{constructor(t){let{type:r,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,l)=>{let h=i(c,l);return ai(h,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{let h=o(c,l);return ai(h,l,this,c)}:this.refiner=()=>[]}assert(t,r){return wt(t,this,r)}create(t,r){return sn(t,this,r)}is(t){return V(t,this)}mask(t,r){return on(t,this,r)}validate(t,r={}){return vt(t,this,r)}};function wt(e,t,r){let n=vt(e,t,{message:r});if(n[0])throw n[0]}function sn(e,t,r){let n=vt(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function on(e,t,r){let n=vt(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function V(e,t){return!vt(e,t)[0]}function vt(e,t,r={}){let n=nn(e,t,r),i=Fo(n);return i[0]?[new rn(i[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Oe(...e){let t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?qo(n):d(n)}function oe(e,t){return new Ee({type:e,schema:null,validator:t})}function ne(){return oe("any",()=>!0)}function p(e){return new Ee({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Se(t)}`}})}function U(){return oe("boolean",e=>typeof e=="boolean")}function _e(){return oe("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Se(e)}`)}function T(e){let t=Se(e),r=typeof e;return new Ee({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Se(n)}`}})}function ci(){return oe("never",()=>!1)}function D(e){return new Ee({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function B(){return oe("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Se(e)}`)}function d(e){let t=e?Object.keys(e):[],r=ci();return new Ee({type:"object",schema:e||null,*entries(n){if(e&&xe(n)){let i=new Set(Object.keys(n));for(let o of t)i.delete(o),yield[o,n[o],e[o]];for(let o of i)yield[o,n[o],r]}},validator(n){return xe(n)||`Expected an object, but received: ${Se(n)}`},coercer(n){return xe(n)?{...n}:n}})}function b(e){return new Ee({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Te(e,t){return new Ee({type:"record",schema:null,*entries(r){if(xe(r))for(let n in r){let i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return xe(r)||`Expected an object, but received: ${Se(r)}`}})}function u(){return oe("string",e=>typeof e=="string"||`Expected a string, but received: ${Se(e)}`)}function Z(e){let t=ci();return new Ee({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Se(r)}`}})}function qo(e){let t=Object.keys(e);return new Ee({type:"type",schema:e,*entries(r){if(xe(r))for(let n of t)yield[n,r[n],e[n]]},validator(r){return xe(r)||`Expected an object, but received: ${Se(r)}`},coercer(r){return xe(r)?{...r}:r}})}function j(e){let t=e.map(r=>r.type).join(" | ");return new Ee({type:"union",schema:null,coercer(r){for(let n of e){let[i,o]=n.validate(r,{coerce:!0});if(!i)return o}return r},validator(r,n){let i=[];for(let o of e){let[...s]=nn(r,o,n),[a]=s;if(a[0])for(let[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Se(r)}`,...i]}})}E();_();E();_();E();_();var lr=class extends Ze{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,or(t);let n=se(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Ve(this),this.iHash.update(t),this}digestInto(t){Ve(this),pe(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ge=(e,t,r)=>new lr(e,t).update(r).digest();Ge.create=(e,t)=>new lr(e,t);function Ho(e,t,r,n){or(e);let i=ti({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(Ne(o),Ne(s),Ne(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=se(t),l=se(r),h=new Uint8Array(s),f=Ge.create(e,c),y=f._cloneInto().update(l);return{c:o,dkLen:s,asyncTick:a,DK:h,PRF:f,PRFSalt:y}}function Wo(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function ui(e,t,r,n){let{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=Ho(e,t,r,n),l,h=new Uint8Array(4),f=Me(h),y=new Uint8Array(a.outputLen);for(let g=1,w=0;w<o;g++,w+=a.outputLen){let x=s.subarray(w,w+a.outputLen);f.setInt32(0,g,!1),(l=c._cloneInto(l)).update(h).digestInto(y),x.set(y.subarray(0,x.length));for(let I=1;I<i;I++){a._cloneInto(l).update(y).digestInto(y);for(let G=0;G<x.length;G++)x[G]^=y[G]}}return Wo(a,c,s,l,y)}E();_();var[zo,Jo]=(()=>C.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),ot=new Uint32Array(80),at=new Uint32Array(80),an=class extends tt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:l,El:h,Fh:f,Fl:y,Gh:g,Gl:w,Hh:x,Hl:I}=this;return[t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I]}set(t,r,n,i,o,s,a,c,l,h,f,y,g,w,x,I){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=h|0,this.Fh=f|0,this.Fl=y|0,this.Gh=g|0,this.Gl=w|0,this.Hh=x|0,this.Hl=I|0}process(t,r){for(let $=0;$<16;$++,r+=4)ot[$]=t.getUint32(r),at[$]=t.getUint32(r+=4);for(let $=16;$<80;$++){let de=ot[$-15]|0,J=at[$-15]|0,ke=C.rotrSH(de,J,1)^C.rotrSH(de,J,8)^C.shrSH(de,J,7),yt=C.rotrSL(de,J,1)^C.rotrSL(de,J,8)^C.shrSL(de,J,7),he=ot[$-2]|0,we=at[$-2]|0,S=C.rotrSH(he,we,19)^C.rotrBH(he,we,61)^C.shrSH(he,we,6),m=C.rotrSL(he,we,19)^C.rotrBL(he,we,61)^C.shrSL(he,we,6),A=C.add4L(yt,m,at[$-7],at[$-16]),O=C.add4H(A,ke,S,ot[$-7],ot[$-16]);ot[$]=O|0,at[$]=A|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:l,Dl:h,Eh:f,El:y,Fh:g,Fl:w,Gh:x,Gl:I,Hh:G,Hl:Q}=this;for(let $=0;$<80;$++){let de=C.rotrSH(f,y,14)^C.rotrSH(f,y,18)^C.rotrBH(f,y,41),J=C.rotrSL(f,y,14)^C.rotrSL(f,y,18)^C.rotrBL(f,y,41),ke=f&g^~f&x,yt=y&w^~y&I,he=C.add5L(Q,J,yt,Jo[$],at[$]),we=C.add5H(he,G,de,ke,zo[$],ot[$]),S=he|0,m=C.rotrSH(n,i,28)^C.rotrBH(n,i,34)^C.rotrBH(n,i,39),A=C.rotrSL(n,i,28)^C.rotrBL(n,i,34)^C.rotrBL(n,i,39),O=n&o^n&a^o&a,R=i&s^i&c^s&c;G=x|0,Q=I|0,x=g|0,I=w|0,g=f|0,w=y|0,{h:f,l:y}=C.add(l|0,h|0,we|0,S|0),l=a|0,h=c|0,a=o|0,c=s|0,o=n|0,s=i|0;let P=C.add3L(S,A,R);n=C.add3H(P,we,m,O),i=P|0}({h:n,l:i}=C.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=C.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=C.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:h}=C.add(this.Dh|0,this.Dl|0,l|0,h|0),{h:f,l:y}=C.add(this.Eh|0,this.El|0,f|0,y|0),{h:g,l:w}=C.add(this.Fh|0,this.Fl|0,g|0,w|0),{h:x,l:I}=C.add(this.Gh|0,this.Gl|0,x|0,I|0),{h:G,l:Q}=C.add(this.Hh|0,this.Hl|0,G|0,Q|0),this.set(n,i,o,s,a,c,l,h,f,y,g,w,x,I,G,Q)}roundClean(){ot.fill(0),at.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var ct=jt(()=>new an);E();_();function xt(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function fr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ue(...e){let t=o=>o,r=(o,s)=>a=>o(s(a)),n=e.map(o=>o.encode).reduceRight(r,t),i=e.map(o=>o.decode).reduce(r,t);return{encode:n,decode:i}}function ye(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(xt(r),r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function ge(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function hr(e,t="="){if(xt(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function di(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function li(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0,i=[],o=Array.from(e);for(o.forEach(s=>{if(xt(s),s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let c=n;c<o.length;c++){let l=o[c],h=t*s+l;if(!Number.isSafeInteger(h)||t*s/t!==s||h-l!==t*s)throw new Error("convertRadix: carry overflow");s=h%r;let f=Math.floor(h/r);if(o[c]=f,!Number.isSafeInteger(f)||f*r+s!==h)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:n=c;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}var hi=(e,t)=>t?hi(t,e%t):e,dr=(e,t)=>e+(t-hi(e,t));function fi(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(dr(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${dr(t,r)}`);let i=0,o=0,s=2**r-1,a=[];for(let c of e){if(xt(c),c>=2**t)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function Xo(e){return xt(e),{encode:t=>{if(!fr(t))throw new Error("radix.encode input should be Uint8Array");return li(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(li(t,e,2**8))}}}function Ie(e,t=!1){if(xt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(dr(8,e)>32||dr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!fr(r))throw new Error("radix2.encode input should be Uint8Array");return fi(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(fi(r,e,8,t))}}}function Yo(e,t){if(xt(e),typeof t!="function")throw new Error("checksum fn should be function");return{encode(r){if(!fr(r))throw new Error("checksum.encode: input should be Uint8Array");let n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!fr(r))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let s=0;s<e;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}var pd=ue(Ie(4),ye("0123456789ABCDEF"),ge("")),yd=ue(Ie(5),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),hr(5),ge("")),gd=ue(Ie(5),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ge("")),md=ue(Ie(5),ye("0123456789ABCDEFGHIJKLMNOPQRSTUV"),hr(5),ge("")),bd=ue(Ie(5),ye("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ge("")),wd=ue(Ie(5),ye("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),ge(""),di(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),vd=ue(Ie(6),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),hr(6),ge("")),xd=ue(Ie(6),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ge("")),Sd=ue(Ie(6),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),hr(6),ge("")),Ed=ue(Ie(6),ye("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ge("")),Zo=e=>ue(Xo(58),ye(e),ge("")),Qo=Zo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var pi=e=>ue(Yo(4,t=>e(e(t))),Qo);var _d=ue(ye("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ge(""));var Td=ue(Ie(4),ye("0123456789abcdef"),ge(""),di(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));function yi(e){if(typeof e!="string")throw new TypeError(`Invalid mnemonic type: ${typeof e}`);return e.normalize("NFKD")}function ea(e){let t=yi(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}var ta=e=>yi(`mnemonic${e}`);function gi(e,t=""){return ui(ct,ea(e).nfkd,ta(t),{c:2048,dkLen:64})}E();_();E();_();var ra=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),bi=new Uint8Array(new Array(16).fill(0).map((e,t)=>t)),na=bi.map(e=>(9*e+5)%16),un=[bi],ln=[na];for(let e=0;e<4;e++)for(let t of[un,ln])t.push(t[e].map(r=>ra[r]));var wi=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),ia=un.map((e,t)=>e.map(r=>wi[t][r])),sa=ln.map((e,t)=>e.map(r=>wi[t][r])),oa=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),aa=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function mi(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var pr=new Uint32Array(16),cn=class extends tt{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:i,h4:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(t,r){for(let g=0;g<16;g++,r+=4)pr[g]=t.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,c=a,l=this.h3|0,h=l,f=this.h4|0,y=f;for(let g=0;g<5;g++){let w=4-g,x=oa[g],I=aa[g],G=un[g],Q=ln[g],$=ia[g],de=sa[g];for(let J=0;J<16;J++){let ke=Kt(n+mi(g,o,a,l)+pr[G[J]]+x,$[J])+f|0;n=f,f=l,l=Kt(a,10)|0,a=o,o=ke}for(let J=0;J<16;J++){let ke=Kt(i+mi(w,s,c,h)+pr[Q[J]]+I,de[J])+y|0;i=y,y=h,h=Kt(c,10)|0,c=s,s=ke}}this.set(this.h1+a+h|0,this.h2+l+y|0,this.h3+f+i|0,this.h4+n+s|0,this.h0+o+c|0)}roundClean(){pr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},vi=jt(()=>new cn);var yr=z.ProjectivePoint,fn=pi(bt);function xi(e){return BigInt(`0x${et(e)}`)}function ca(e){return ei(e.toString(16).padStart(64,"0"))}var ua=Zr("Bitcoin seed"),dn={private:76066276,public:76067358},hn=2147483648,la=e=>vi(bt(e)),fa=e=>Me(e).getUint32(0,!1),gr=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);let t=new Uint8Array(4);return Me(t).setUint32(0,e,!1),t},Le=class{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return fa(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let t=this.privateKey;if(!t)throw new Error("No private key");return fn.encode(this.serialize(this.versions.private,Vt(new Uint8Array([0]),t)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return fn.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(t,r=dn){if(pe(t),8*t.length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);let n=Ge(ct,ua,t);return new Le({versions:r,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(t,r=dn){let n=fn.decode(t),i=Me(n),o=i.getUint32(0,!1),s={versions:r,depth:n[4],parentFingerprint:i.getUint32(5,!1),index:i.getUint32(9,!1),chainCode:n.slice(13,45)},a=n.slice(45),c=a[0]===0;if(o!==r[c?"private":"public"])throw new Error("Version mismatch");return c?new Le({...s,privateKey:a.slice(1)}):new Le({...s,publicKey:a})}static fromJSON(t){return Le.fromExtendedKey(t.xpriv)}constructor(t){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!t||typeof t!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=t.versions||dn,this.depth=t.depth||0,this.chainCode=t.chainCode||null,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(t.publicKey&&t.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(t.privateKey){if(!z.utils.isValidPrivateKey(t.privateKey))throw new Error("Invalid private key");this.privKey=typeof t.privateKey=="bigint"?t.privateKey:xi(t.privateKey),this.privKeyBytes=ca(this.privKey),this.pubKey=z.getPublicKey(t.privateKey,!0)}else if(t.publicKey)this.pubKey=yr.fromHex(t.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=la(this.pubKey)}derive(t){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;let r=t.replace(/^[mM]'?\//,"").split("/"),n=this;for(let i of r){let o=/^(\d+)('?)$/.exec(i),s=o&&o[1];if(!o||o.length!==3||typeof s!="string")throw new Error(`Invalid child index: ${i}`);let a=+s;if(!Number.isSafeInteger(a)||a>=hn)throw new Error("Invalid index");o[2]==="'"&&(a+=hn),n=n.deriveChild(a)}return n}deriveChild(t){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let r=gr(t);if(t>=hn){let a=this.privateKey;if(!a)throw new Error("Could not derive hardened child key");r=Vt(new Uint8Array([0]),a,r)}else r=Vt(this.pubKey,r);let n=Ge(ct,this.chainCode,r),i=xi(n.slice(0,32)),o=n.slice(32);if(!z.utils.isValidPrivateKey(i))throw new Error("Tweak bigger than curve order");let s={versions:this.versions,chainCode:o,depth:this.depth+1,parentFingerprint:this.fingerprint,index:t};try{if(this.privateKey){let a=Xn(this.privKey+i,z.CURVE.n);if(!z.utils.isValidPrivateKey(a))throw new Error("The tweak was out of range or the resulted private key is invalid");s.privateKey=a}else{let a=yr.fromHex(this.pubKey).add(yr.fromPrivateKey(i));if(a.equals(yr.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");s.publicKey=a.toRawBytes(!0)}return new Le(s)}catch{return this.deriveChild(t+1)}}sign(t){if(!this.privateKey)throw new Error("No privateKey set!");return pe(t,32),z.sign(t,this.privKey).toCompactRawBytes()}verify(t,r){if(pe(t,32),pe(r,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=z.Signature.fromCompact(r)}catch{return!1}return z.verify(n,t,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(t,r){if(!this.chainCode)throw new Error("No chainCode set");return pe(r,33),Vt(gr(t),new Uint8Array([this.depth]),gr(this.parentFingerprint),gr(this.index),this.chainCode,r)}};var Iy=gt(Jr(),1);var Rs=gt(no(),1);var Ds=gt(Ni(),1);var In=gt($i(),1);var ro=gt(Jr(),1);var Rn=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},F=(e,t,r)=>(Rn(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Zt=(e,t,r,n)=>(Rn(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ct=(e,t,r)=>(Rn(e,t,"access private method"),r),be=u(),ic=u(),sc=u(),M=u(),ce=u(),fe=u(),pt=j([d({AddressOwner:ce}),d({ObjectOwner:ce}),d({Shared:d({initial_shared_version:B()})}),T("Immutable")]),oc=oe("SuiJsonValue",()=>!0),ac=32;function Ki(e){try{return sr(e).length===ac}catch{return!1}}var Vr=32;function dt(e){return cc(e)&&uc(e)===Vr}function Br(e){return dt(e)}function te(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Vr*2,"0")}`}function $e(e,t=!1){return te(e,t)}function cc(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}function uc(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}var np=j([u(),T("package")]),Ke=d({digest:be,objectId:u(),version:j([B(),u()])}),lc=d({payment:p(Ke),owner:u(),price:u(),budget:u()}),fc=Oe(Ke,d({type:u(),owner:pt,previousTransaction:be})),dc=Te(u(),ne()),hc=Te(u(),u()),os=d({type:u(),fields:dc,hasPublicTransfer:U()}),Sn=d({disassembled:hc}),pc=j([Oe(os,d({dataType:T("moveObject")})),Oe(Sn,d({dataType:T("package")}))]),ip=d({type:u(),hasPublicTransfer:U(),version:fe,bcsBytes:p(B())}),yc=d({id:M,moduleMap:Te(u(),u())}),gc=j([Oe(os,d({dataType:T("moveObject")})),Oe(yc,d({dataType:T("package")}))]),sp=9,op=BigInt(1e9),Ot=u(),as=d({code:u(),error:b(u()),object_id:b(M),version:b(fe),digest:b(Ot)}),cs=d({data:D(Te(u(),u())),error:D(as)}),mc=j([cs,b(Te(u(),u()))]),bc=d({objectId:M,version:fe,digest:Ot,type:b(u()),content:b(pc),bcs:b(gc),owner:b(pt),previousTransaction:b(be),storageRebate:b(u()),display:b(mc)}),ap=d({showType:b(U()),showContent:b(U()),showBcs:b(U()),showOwner:b(U()),showPreviousTransaction:b(U()),showStorageRebate:b(U()),showDisplay:b(U())}),cp=j([T("Exists"),T("notExists"),T("Deleted")]),up=p(fc),Rr=d({data:b(bc),error:b(as)});function Ut(e){return e.data}function wc(e){if(e.error&&"object_id"in e.error&&"version"in e.error&&"digest"in e.error){let t=e.error;return{objectId:t.object_id,version:t.version,digest:t.digest}}}function vc(e){if(e.error&&"object_id"in e.error&&!("version"in e.error)&&!("digest"in e.error))return e.error.object_id}function Fr(e){if("reference"in e)return e.reference;let t=Ut(e);return t?{objectId:t.objectId,version:t.version,digest:t.digest}:wc(e)}function xc(e){return"objectId"in e?e.objectId:Fr(e)?.objectId??vc(e)}function lp(e){return"version"in e?e.version:Fr(e)?.version}function Sc(e){return e.data!==void 0}function Ec(e){let t=Sc(e)?e.data:e;return!t?.type&&"data"in e?t?.content?.dataType==="package"?"package":Tc(e):t?.type}function fp(e){return Ut(e)?.previousTransaction}function Pn(e){return V(e,pt)?e:Ut(e)?.owner}function dp(e){let t=Ut(e)?.display;return t?V(t,cs)?t:{data:t,error:null}:{data:null,error:null}}function _c(e){let t=Pn(e);if(typeof t=="object"&&"Shared"in t)return t.Shared.initial_shared_version}function hp(e){let t=Pn(e);return typeof t=="object"&&"Shared"in t}function pp(e){return Pn(e)==="Immutable"}function Tc(e){return Dn(e)?.type}function kc(e){return"fields"in e?e.fields:Dn(e)?.fields}function Cc(e){return e.content!==void 0}function Dn(e){let t="data"in e?Ut(e):e;if(!(!t||!Cc(t)||t.content.dataType!=="moveObject"))return t.content}function yp(e){return Dn(e)?.hasPublicTransfer??!1}function gp(e){if("disassembled"in e)return e.disassembled;let t=Ut(e);if(t?.content?.dataType==="package")return t.content.disassembled}var Ac=d({objectId:M,atCheckpoint:b(B())}),Bc=d({data:p(Rr),nextCursor:j([D(M),D(Ac)]),hasNextPage:U()}),us=d({txDigest:be,eventSeq:fe}),Un=d({id:us,packageId:M,transactionModule:u(),sender:ce,type:u(),parsedJson:b(Te(u(),ne())),bcs:b(u()),timestampMs:b(u())}),Oc=d({data:p(Un),nextCursor:D(us),hasNextPage:U()}),Ic=B(),jc=d({subscription:Ic,result:Un});function bp(e){return e.sender}function wp(e){return e.packageId}var At=u(),Rc=d({epoch:At,storage_charge:u(),computation_charge:u(),storage_rebate:u(),epoch_start_timestamp_ms:b(u())}),Pc=d({epoch:At,round:u(),commit_timestamp_ms:u()}),Dc=d({objects:p(M)}),Pe=j([T("GasCoin"),d({Input:B()}),d({Result:B()}),d({NestedResult:Z([B(),B()])})]),Uc=d({arguments:b(p(Pe)),type_arguments:b(p(u())),package:M,module:u(),function:u()}),Nc=j([d({MoveCall:Uc}),d({TransferObjects:Z([p(Pe),Pe])}),d({SplitCoins:Z([Pe,p(Pe)])}),d({MergeCoins:Z([Pe,p(Pe)])}),d({Publish:j([Z([Sn,p(M)]),p(M)])}),d({Upgrade:j([Z([Sn,p(M),M,Pe]),Z([p(M),M,Pe])])}),d({MakeMoveVec:Z([D(u()),p(Pe)])})]),Mc=j([d({type:T("pure"),valueType:b(u()),value:oc}),d({type:T("object"),objectType:T("immOrOwnedObject"),objectId:M,version:fe,digest:Ot}),d({type:T("object"),objectType:T("sharedObject"),objectId:M,initialSharedVersion:fe,mutable:U()})]),Lc=d({transactions:p(Nc),inputs:p(Mc)}),$c=j([Oe(Rc,d({kind:T("ChangeEpoch")})),Oe(Pc,d({kind:T("ConsensusCommitPrologue")})),Oe(Dc,d({kind:T("Genesis")})),Oe(Lc,d({kind:T("ProgrammableTransaction")}))]),ls=d({messageVersion:T("v1"),transaction:$c,sender:ce,gasData:lc}),Vi=u(),Kc=j([Vi,p(Vi)]),xp=d({epoch:At,signature:Kc,signers_map:p(B())}),Vc=d({computationCost:u(),storageCost:u(),storageRebate:u(),nonRefundableStorageFee:u()}),Fc=j([T("success"),T("failure")]),Gc=d({status:Fc,error:b(u())}),Or=d({owner:pt,reference:Ke}),qc=d({objectId:M,sequenceNumber:fe}),Gr=d({messageVersion:T("v1"),status:Gc,executedEpoch:At,modifiedAtVersions:b(p(qc)),gasUsed:Vc,sharedObjects:b(p(Ke)),transactionDigest:be,created:b(p(Or)),mutated:b(p(Or)),unwrapped:b(p(Or)),deleted:b(p(Ke)),unwrapped_then_deleted:b(p(Ke)),wrapped:b(p(Ke)),gasObject:Or,eventsDigest:b(sc),dependencies:b(p(be))}),Nn=p(Un),Hc=Z([p(B()),u()]),Wc=Z([Pe,p(B()),u()]),zc=d({mutableReferenceOutputs:b(p(Wc)),returnValues:b(p(Hc))}),Jc=d({effects:Gr,events:Nn,results:b(p(zc)),error:b(u())}),Xc=u(),Yc=d({data:ls,txSignatures:p(u())}),fs=d({type:T("published"),packageId:M,version:fe,digest:Ot,modules:p(u())}),Zc=d({type:T("transferred"),sender:ce,recipient:pt,objectType:u(),objectId:M,version:fe,digest:Ot}),Qc=d({type:T("mutated"),sender:ce,owner:pt,objectType:u(),objectId:M,version:fe,previousVersion:fe,digest:Ot}),eu=d({type:T("deleted"),sender:ce,objectType:u(),objectId:M,version:fe}),tu=d({type:T("wrapped"),sender:ce,objectType:u(),objectId:M,version:fe}),ru=d({type:T("created"),sender:ce,owner:pt,objectType:u(),objectId:M,version:fe,digest:Ot}),ds=j([fs,Zc,Qc,eu,tu,ru]),hs=d({owner:pt,coinType:u(),amount:u()}),Pr=d({digest:be,transaction:b(Yc),effects:b(Gr),events:b(Nn),timestampMs:b(u()),checkpoint:b(u()),confirmedLocalExecution:b(U()),objectChanges:b(p(ds)),balanceChanges:b(p(hs)),errors:b(p(u()))}),Sp=d({showInput:b(U()),showEffects:b(U()),showEvents:b(U()),showObjectChanges:b(U()),showBalanceChanges:b(U())}),nu=d({data:p(Pr),nextCursor:D(be),hasNextPage:U()}),iu=d({effects:Gr,events:Nn,objectChanges:p(ds),balanceChanges:p(hs),input:b(ls)});function Ep(e){return e.transaction}function _p(e){return e.digest}function Tp(e){return e.transaction?.txSignatures}function kp(e){return e.transaction?.data.sender}function Mn(e){return e.transaction?.data.gasData}function Cp(e){return Mn(e)?.payment}function Ap(e){return Mn(e)?.price}function Bp(e){return Mn(e)?.budget}function Op(e){return e.kind==="ChangeEpoch"?e:void 0}function Ip(e){return e.kind==="ConsensusCommitPrologue"?e:void 0}function jp(e){return e.transaction?.data.transaction}function Rp(e){return e.kind}function Pp(e){return e.kind==="ProgrammableTransaction"?e:void 0}function Dp(e){return ps(e)?.status}function ps(e){return qr(e)?.status}function Up(e){return ps(e)?.error}function ys(e){return V(e,Gr)?e.gasUsed:qr(e)?.gasUsed}function Np(e){let t=ys(e);return t?BigInt(t.computationCost)+BigInt(t.storageCost)-BigInt(t.storageRebate):void 0}function su(e){let t=ys(e);return t?BigInt(t.computationCost)+BigInt(t.storageCost):void 0}function qr(e){return e.effects}function Mp(e){return e.events}function Lp(e){return qr(e)?.created}function $p(e){return e.timestampMs??void 0}function Kp(e){return qr(e)?.created?.map(t=>t.reference)}function Vp(e){return e.objectChanges}function Fp(e){return e.objectChanges?.filter(t=>V(t,fs))??[]}function Fi(e){if(!(typeof e=="object"&&e!==null&&"type"in e&&e.type.startsWith("0x1::option::Option<")))return e}var Gi="0x3",gs="0x2",Ln="0x1",ou="object",qp="UID",au="ID",cu=`${gs}::sui::SUI`,Hp="0x3::validator_set::ValidatorEpochInfoEventV2",Wp=$e("0x6"),zp="pay",Jp="split_vec",Xp="join",qi=/^0x2::coin::Coin<(.+)>$/;function uu(e){return!!e.data||!!e.type}var lu=d({decimals:B(),name:u(),symbol:u(),description:u(),iconUrl:D(u()),id:D(M)}),Re=class{static isCoin(e){return Re.getType(e)?.match(qi)!=null}static getCoinType(e){let[,t]=e.match(qi)??[];return t||null}static getCoinTypeArg(e){let t=Re.getType(e);return t?Re.getCoinType(t):null}static isSUI(e){let t=Re.getCoinTypeArg(e);return t?Re.getCoinSymbol(t)==="SUI":!1}static getCoinSymbol(e){return e.substring(e.lastIndexOf(":")+1)}static getCoinStructTag(e){return{address:$e(e.split("::")[0]),module:e.split("::")[1],name:e.split("::")[2],typeParams:[]}}static getID(e){return"fields"in e?e.fields.id.id:xc(e)}static totalBalance(e){return e.reduce((t,r)=>t+Re.getBalanceFromCoinStruct(r),BigInt(0))}static sortByBalance(e){return[...e].sort((t,r)=>Re.getBalanceFromCoinStruct(t)<Re.getBalanceFromCoinStruct(r)?-1:Re.getBalanceFromCoinStruct(t)>Re.getBalanceFromCoinStruct(r)?1:0)}static getBalanceFromCoinStruct(e){return BigInt(e.balance)}static getBalance(e){if(!Re.isCoin(e))return;let t=kc(e)?.balance;return BigInt(t)}static getType(e){return uu(e)?Ec(e):e.type}},ms=class{static isDelegationSuiObject(e){return"type"in e&&e.type===ms.SUI_OBJECT_TYPE}constructor(e){this.suiObject=e}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt(Fi(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return Fi(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(e){return this.nextRewardUnclaimedEpoch()<=e&&(this.isActive()||(this.endingEpoch()||0)>e)}},fu=ms;fu.SUI_OBJECT_TYPE="0x2::delegation::Delegation";function Zp(e){return e.Pure!==void 0}var Rt="vector",du={kind:"TransactionKind",sender:k.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},hu={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[Rt,k.U8],Object:"ObjectArg",ObjVec:[Rt,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:k.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:k.ADDRESS,version:k.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:k.ADDRESS,initialSharedVersion:k.U64,mutable:k.BOOL},StructTag:{address:k.ADDRESS,module:k.STRING,name:k.STRING,typeParams:[Rt,"TypeTag"]},GasData:{payment:[Rt,"SuiObjectRef"],owner:k.ADDRESS,price:k.U64,budget:k.U64},SenderSignedData:{data:"TransactionData",txSignatures:[Rt,[Rt,k.U8]]},TransactionDataV1:du},aliases:{ObjectDigest:k.BASE58}},bs=new k({...Yn(),types:hu});bs.registerType("utf8string",(e,t)=>{let r=Array.from(new TextEncoder().encode(t));return e.writeVec(r,(n,i)=>n.write8(i))},e=>{let t=e.readVec(r=>r.read8());return new TextDecoder().decode(new Uint8Array(t))});var pu=d({amount:B(),id:M,transferTxDigest:be}),ey=d({transferredGasObjects:p(pu),error:D(u())}),yu=j([u(),d({Object:u()})]),gu=p(yu),mu=d({address:u(),name:u()}),bu=j([T("Private"),T("Public"),T("Friend")]),$n=d({abilities:p(u())}),wu=d({constraints:$n,isPhantom:U()}),vu=d({TypeParameter:B()}),vn=Z([d({module:u(),package:u(),function:u()}),u()]),xu=d({rank3Days:p(vn),rank7Days:p(vn),rank30Days:p(vn)});function ws(e){if(!e)return!1;if(typeof e=="string"||V(e,vu)||vs(e))return!0;if(typeof e!="object")return!1;let t=e;return!!(V(t.Reference,Pt)||V(t.MutableReference,Pt)||V(t.Vector,Pt))}var Pt=oe("SuiMoveNormalizedType",ws);function vs(e){if(!e||typeof e!="object")return!1;let t=e;if(!t.Struct||typeof t.Struct!="object")return!1;let r=t.Struct;return!(typeof r.address!="string"||typeof r.module!="string"||typeof r.name!="string"||!Array.isArray(r.typeArguments)||!r.typeArguments.every(n=>ws(n)))}var ry=oe("SuiMoveNormalizedStructType",vs),xs=d({visibility:bu,isEntry:U(),typeParameters:p($n),parameters:p(Pt),return:p(Pt)}),Su=d({name:u(),type:Pt}),Ss=d({abilities:$n,typeParameters:p(wu),fields:p(Su)}),Es=d({fileFormatVersion:B(),address:u(),name:u(),friends:p(mu),structs:Te(u(),Ss),exposedFunctions:Te(u(),xs)}),Eu=Te(u(),Es);function _s(e){return typeof e=="object"&&"MutableReference"in e?e.MutableReference:void 0}function _u(e){return typeof e=="object"&&"Reference"in e?e.Reference:void 0}function Ts(e){if(typeof e=="object"&&"Struct"in e)return e;let t=_u(e),r=_s(e);if(typeof t=="object"&&"Struct"in t)return t;if(typeof r=="object"&&"Struct"in r)return r}var Tu=d({apy:B(),address:ce}),ku=d({epoch:u(),apys:p(Tu)}),iy=d({value:B()}),Cu=d({stakedSuiId:M,stakeRequestEpoch:At,stakeActiveEpoch:At,principal:u(),status:j([T("Active"),T("Pending"),T("Unstaked")]),estimatedReward:b(u())}),Hi=d({validatorAddress:ce,stakingPool:M,stakes:p(Cu)}),Au=d({balance:d({value:B()}),distribution_counter:B(),current_distribution_amount:B(),stake_subsidy_period_length:B(),stake_subsidy_decrease_rate:B()}),sy=d({type:u(),fields:Au}),oy=d({value:B()}),Bu=d({id:u(),size:B(),head:d({vec:p()}),tail:d({vec:p()})}),ay=d({id:u(),size:B()}),cy=d({type:u(),fields:Bu}),Ou=d({exchangeRates:d({id:u(),size:B()}),id:u(),pendingStake:B(),pendingPoolTokenWithdraw:B(),pendingTotalSuiWithdraw:B(),poolTokenBalance:B(),rewardsPool:d({value:B()}),activationEpoch:d({vec:p()}),deactivationEpoch:d({vec:p()}),suiBalance:B()}),uy=d({type:u(),fields:Ou}),Iu=p(Z([Xc,u()])),ju=d({epoch:At,validators:Iu}),ks=d({suiAddress:ce,protocolPubkeyBytes:u(),networkPubkeyBytes:u(),workerPubkeyBytes:u(),proofOfPossessionBytes:u(),operationCapId:u(),name:u(),description:u(),imageUrl:u(),projectUrl:u(),p2pAddress:u(),netAddress:u(),primaryAddress:u(),workerAddress:u(),nextEpochProtocolPubkeyBytes:D(u()),nextEpochProofOfPossession:D(u()),nextEpochNetworkPubkeyBytes:D(u()),nextEpochWorkerPubkeyBytes:D(u()),nextEpochNetAddress:D(u()),nextEpochP2pAddress:D(u()),nextEpochPrimaryAddress:D(u()),nextEpochWorkerAddress:D(u()),votingPower:u(),gasPrice:u(),commissionRate:u(),nextEpochStake:u(),nextEpochGasPrice:u(),nextEpochCommissionRate:u(),stakingPoolId:u(),stakingPoolActivationEpoch:D(u()),stakingPoolDeactivationEpoch:D(u()),stakingPoolSuiBalance:u(),rewardsPool:u(),poolTokenBalance:u(),pendingStake:u(),pendingPoolTokenWithdraw:u(),pendingTotalSuiWithdraw:u(),exchangeRatesId:u(),exchangeRatesSize:u()}),Ru=d({epoch:u(),protocolVersion:u(),systemStateVersion:u(),storageFundTotalObjectStorageRebates:u(),storageFundNonRefundableBalance:u(),referenceGasPrice:u(),safeMode:U(),safeModeStorageRewards:u(),safeModeComputationRewards:u(),safeModeStorageRebates:u(),safeModeNonRefundableStorageFee:u(),epochStartTimestampMs:u(),epochDurationMs:u(),stakeSubsidyStartEpoch:u(),maxValidatorCount:u(),minValidatorJoiningStake:u(),validatorLowStakeThreshold:u(),validatorVeryLowStakeThreshold:u(),validatorLowStakeGracePeriod:u(),stakeSubsidyBalance:u(),stakeSubsidyDistributionCounter:u(),stakeSubsidyCurrentDistributionAmount:u(),stakeSubsidyPeriodLength:u(),stakeSubsidyDecreaseRate:B(),totalStake:u(),activeValidators:p(ks),pendingActiveValidatorsId:u(),pendingActiveValidatorsSize:u(),pendingRemovals:p(u()),stakingPoolMappingsId:u(),stakingPoolMappingsSize:u(),inactivePoolsId:u(),inactivePoolsSize:u(),validatorCandidatesId:u(),validatorCandidatesSize:u(),atRiskValidators:p(Z([ce,u()])),validatorReportRecords:p(Z([ce,p(ce)]))}),Pu=d({coinType:u(),coinObjectId:M,version:u(),digest:be,balance:u(),lockedUntilEpoch:b(D(B())),previousTransaction:be}),Wi=d({data:p(Pu),nextCursor:D(M),hasNextPage:U()}),zi=d({coinType:u(),coinObjectCount:B(),totalBalance:u(),lockedBalance:d({epochId:b(B()),number:b(B())})}),Du=d({value:u()}),Uu=d({lastCheckpointId:u(),epochEndTimestamp:u(),protocolVersion:u(),referenceGasPrice:u(),totalStake:u(),storageFundReinvestment:u(),storageCharge:u(),storageRebate:u(),storageFundBalance:u(),stakeSubsidyAmount:u(),totalGasFees:u(),totalStakeRewardsDistributed:u(),leftoverStorageFundInflow:u()}),Cs=d({epoch:u(),validators:p(ks),epochTotalTransactions:u(),firstCheckpointId:u(),epochStartTimestamp:u(),endOfEpochInfo:D(Uu)}),Nu=d({data:p(Cs),nextCursor:D(u()),hasNextPage:U()}),Mu=d({computationCost:u(),storageCost:u(),storageRebate:u(),nonRefundableStorageFee:u()}),hy=u(),Ji=u(),py=d({digest:p(B())}),As=ne(),Lu=u(),$u=d({nextEpochCommittee:p(Z([u(),u()])),nextEpochProtocolVersion:u(),epochCommitments:p(As)}),yy=d({transaction:be,effects:ic}),Bs=d({epoch:u(),sequenceNumber:u(),digest:Ji,networkTotalTransactions:u(),previousDigest:b(Ji),epochRollingGasCostSummary:Mu,timestampMs:u(),endOfEpochData:b($u),validatorSignature:b(Lu),transactions:p(be),checkpointCommitments:p(As)}),Ku=d({data:p(Bs),nextCursor:D(u()),hasNextPage:U()}),Kn={ED25519:0,Secp256k1:1},Vu={0:"ED25519",1:"Secp256k1"};function Fu({signature:e,signatureScheme:t,pubKey:r}){let n=new Uint8Array(1+e.length+r.toBytes().length);return n.set([Kn[t]]),n.set(e,1),n.set(r.toBytes(),1+e.length),W(n)}function Gu(e){let t=H(e),r=Vu[t[0]],n=r==="ED25519"?Hr:Wr,i=t.slice(1,t.length-n.SIZE),o=t.slice(1+i.length),s=new n(o);return{signatureScheme:r,signature:i,pubKey:s}}var Dr=32,Hr=class{constructor(e){if(typeof e=="string"?this.data=H(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Dr)throw new Error(`Invalid public key input. Expected ${Dr} bytes, got ${this.data.length}`)}equals(e){return Os(this.toBytes(),e.toBytes())}toBase64(){return W(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let e=new Uint8Array(Dr+1);return e.set([Kn.ED25519]),e.set(this.toBytes(),1),te(et(ve(e,{dkLen:32})).slice(0,Vr*2))}};Hr.SIZE=Dr;function Os(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function vy(e,t){if(e==="ED25519")return new Hr(t);if(e==="Secp256k1")return new Wr(t);throw new Error("Unknown public key schema")}var Ur=33,Wr=class{constructor(e){if(typeof e=="string"?this.data=H(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==Ur)throw new Error(`Invalid public key input. Expected ${Ur} bytes, got ${this.data.length}`)}equals(e){return Os(this.toBytes(),e.toBytes())}toBase64(){return W(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let e=new Uint8Array(Ur+1);return e.set([Kn.Secp256k1]),e.set(this.toBytes(),1),te(et(ve(e,{dkLen:32})).slice(0,Vr*2))}};Wr.SIZE=Ur;function qu(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function Hu(e){return!!new RegExp("^m\\/54'\\/784'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(e)}function Is(e){return gi(e,"")}function Wu(e){return $t(Is(e))}var zu="m/54'/784'/0'/0/0",Qt=class{constructor(e){if(e)this.keypair=e;else{let t=z.utils.randomPrivateKey(),r=z.getPublicKey(t,!0);this.keypair={publicKey:r,secretKey:t}}}getKeyScheme(){return"Secp256k1"}static generate(){return new Qt}static fromSecretKey(e,t){let r=z.getPublicKey(e,!0);if(!t||!t.skipValidation){let i=new TextEncoder().encode("sui validation"),o=et(ve(i,{dkLen:32})),s=z.sign(o,e);if(!z.verify(s,o,r,{lowS:!0}))throw new Error("Provided secretKey is invalid")}return new Qt({publicKey:r,secretKey:e})}static fromSeed(e){let t=z.getPublicKey(e,!0);return new Qt({publicKey:t,secretKey:e})}getPublicKey(){return new Wr(this.keypair.publicKey)}signData(e){let t=bt(e);return z.sign(t,this.keypair.secretKey,{lowS:!0}).toCompactRawBytes()}static deriveKeypair(e,t){if(t==null&&(t=zu),!Hu(t))throw new Error("Invalid derivation path");let r=Le.fromMasterSeed(Is(e)).derive(t);if(r.publicKey==null||r.privateKey==null)throw new Error("Invalid key");return new Qt({publicKey:r.publicKey,secretKey:r.privateKey})}export(){return{schema:"Secp256k1",privateKey:W(this.keypair.secretKey)}}},Nr=32,Ju=64;function Ay(e){let t=H(e.privateKey);switch(e.schema){case"ED25519":let r=t;return t.length===Ju&&(r=t.slice(0,Nr)),Mr.fromSecretKey(r);case"Secp256k1":return Qt.fromSecretKey(t);default:throw new Error(`Invalid keypair schema ${e.schema}`)}}var Xu="ed25519 seed",Yu=2147483648,Zu=new RegExp("^m(\\/[0-9]+')+$"),js=e=>e.replace("'",""),Qu=e=>{let r=Ge.create(ct,Xu).update(Lt(e)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},el=({key:e,chainCode:t},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let o=new Uint8Array(1+e.length+n.byteLength);o.set(new Uint8Array(1).fill(0)),o.set(e,1),o.set(new Uint8Array(n,0,n.byteLength),e.length+1);let s=Ge.create(ct,t).update(o).digest(),a=s.slice(0,32),c=s.slice(32);return{key:a,chainCode:c}},tl=e=>Zu.test(e)?!e.split("/").slice(1).map(js).some(isNaN):!1,rl=(e,t,r=Yu)=>{if(!tl(e))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=Qu(t);return e.split("/").slice(1).map(js).map(s=>parseInt(s,10)).reduce((s,a)=>el(s,a+r),{key:n,chainCode:i})},nl="m/44'/784'/0'/0'/0'",Mr=class{constructor(e){e?this.keypair=e:this.keypair=_t.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Mr(_t.default.sign.keyPair())}static fromSecretKey(e,t){let r=e.length;if(r!==Nr)throw new Error(`Wrong secretKey size. Expected ${Nr} bytes, got ${r}.`);let n=_t.default.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){let o=new TextEncoder().encode("sui validation"),s=_t.default.sign.detached(o,n.secretKey);if(!_t.default.sign.detached.verify(o,s,n.publicKey))throw new Error("provided secretKey is invalid")}return new Mr(n)}getPublicKey(){return new Hr(this.keypair.publicKey)}signData(e){return _t.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(t==null&&(t=nl),!qu(t))throw new Error("Invalid derivation path");let{key:r}=rl(t,Wu(e));return Mr.fromSecretKey(r)}export(){return{schema:"ED25519",privateKey:W(this.keypair.secretKey.slice(0,Nr))}}},il="0.33.0",sl="1.1.0",En=class extends Error{constructor(e){super(e.cause?`RPC Error: ${e.cause.message}`:"Unknown RPC Error",{cause:e.cause}),this.req=e.req,this.code=e.code,this.data=e.data}},ol=class extends Error{constructor(e){super("RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.",{cause:e.cause}),this.req=e.req,this.result=e.result,this.message=this.toString()}toString(){let e=super.toString();return this.cause&&(e+=`
Cause: ${this.cause}`),this.result&&(e+=`
Reponse Received: ${JSON.stringify(this.result,null,2)}`),e}},al=class extends Error{},cl=d({jsonrpc:T("2.0"),id:u(),result:ne()}),Ps=d({jsonrpc:T("2.0"),id:u(),error:d({code:ne(),message:u(),data:b(ne())})}),ul=class{constructor(e,t){this.rpcClient=new Rs.default(async(r,n)=>{let i={method:"POST",body:r,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":il,"Client-Target-Api-Version":sl,...t}};try{let o=await fetch(e,i),s=await o.text();if(o.ok)n(null,s);else{let a=o.headers.get("content-type")==="text/html";n(new Error(`${o.status} ${o.statusText}${a?"":`: ${s}`}`))}}catch(o){n(o)}},{})}async requestWithType(e,t,r){let n={method:e,args:t},i=await this.request(e,t);if(V(i,Ps))throw new En({req:n,code:i.error.code,data:i.error.data,cause:new Error(i.error.message)});if(V(i,cl)){let[o]=vt(i.result,r);return o&&console.warn(new ol({req:n,result:i.result,cause:o})),i.result}throw new En({req:n,data:i})}async request(e,t){return new Promise((r,n)=>{this.rpcClient.request(e,t,(i,o)=>{if(i){n(i);return}r(o)})})}},ll=j([T("DynamicField"),T("DynamicObject")]),fl=d({type:u(),value:ne()}),dl=d({name:fl,bcsName:u(),type:ll,objectType:u(),objectId:M,version:B(),digest:u()}),hl=d({data:p(dl),nextCursor:D(M),hasNextPage:U()}),pl=(e,t)=>{let r=new URL(e);return r.protocol=r.protocol.replace("http","ws"),t&&(r.port=t.toString()),r.toString()},yl=e=>e&&"subscription"in e&&typeof e.subscription=="number"&&"result"in e&&typeof e.result=="object",Us={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},Xi="suix_subscribeEvent",gl="suix_unsubscribeEvent",ml=class{constructor(e,t=Us){this.endpoint=e,this.options=t,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=pl(this.endpoint)),this.rpcClient=new Ds.Client(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(e){let t=JSON.parse(e),r=t.params;if(t.method===Xi){if(yl(r)){let n=this.eventSubscriptions.get(r.subscription);n&&n.onMessage(r.result)}else if(V(r,jc)){let n=this.eventSubscriptions.get(r.subscription);n&&n.onMessage(r.result)}}}async connect(){return this.connectionPromise?this.connectionPromise:this.connectionState===2?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeout=setTimeout(()=>t(new Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,e()}),this.rpcClient.once("error",r=>{this.connectionPromise=null,t(r)})}),this.connectionPromise)}async refreshSubscriptions(){if(this.eventSubscriptions.size!==0)try{let e=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map(async r=>{let n=r.onMessage,i=r.filter;return!i||!n?Promise.resolve(null):{id:await this.subscribeEvent(i,n),onMessage:n,filter:i}}))).forEach(r=>{if(r===null)return;let n=r.filter,i=r.onMessage;e.set(r.id,{filter:n,onMessage:i})}),this.eventSubscriptions=e}catch(e){throw new Error(`error refreshing event subscriptions: ${e}`)}}async subscribeEvent(e,t){try{this.connectionState!==2&&await this.connect();let r=await this.rpcClient.call(Xi,[e],this.options.callTimeout);return this.eventSubscriptions.set(r,{filter:e,onMessage:t}),r}catch(r){throw new Error(`Error subscribing to event: ${JSON.stringify(r,null,2)}, filter: ${JSON.stringify(e)}`)}}async unsubscribeEvent(e){try{this.connectionState!==2&&await this.connect();let t=await this.rpcClient.call(gl,[e],this.options.callTimeout);return this.eventSubscriptions.delete(e)||t}catch(t){throw new Error(`Error unsubscribing from event: ${t}, subscription: ${e}`)}}};async function bl(e,t,r){let n=await fetch(e,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:t}}),headers:{"Content-Type":"application/json",...r||{}}});if(n.status===429)throw new al("Too many requests from this client have been sent to the faucet. Please retry later");let i;try{i=await n.json()}catch(o){throw new Error(`Encountered error when parsing response from faucet, error: ${o}, status ${n.status}, response ${n}`)}if(i.error)throw new Error(`Faucet returns error: ${i.error}`);return i}var Tt,Vn=class{constructor(e){Et(this,Tt,void 0),Zt(this,Tt,e)}get fullnode(){return F(this,Tt).fullnode}get websocket(){return F(this,Tt).websocket||F(this,Tt).fullnode}get faucet(){return F(this,Tt).faucet}};Tt=new WeakMap;var $y=new Vn({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"}),wl=new Vn({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"}),Ky=new Vn({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"});function me(e,t){return sn(e,t)}var Kr=Symbol("transaction-argument-type"),vl=e=>j([d({None:j([T(!0),T(null)])}),d({Some:e})]),tr=d({kind:T("Input"),index:_e(),value:b(ne()),type:b(j([T("pure"),T("object")]))}),Fn=[tr,d({kind:T("GasCoin")}),d({kind:T("Result"),index:_e()}),d({kind:T("NestedResult"),index:_e(),resultIndex:_e()})],xl=j([...Fn]),Bt=j([...Fn]);Bt[Kr]={kind:"object"};var Ns=e=>{let t=j([...Fn]);return t[Kr]={kind:"pure",type:e},t},Ms=d({kind:T("MoveCall"),target:oe("target",u().validator),typeArguments:p(u()),arguments:p(xl)}),Ls=d({kind:T("TransferObjects"),objects:p(Bt),address:Ns(k.ADDRESS)}),$s=d({kind:T("SplitCoins"),coin:Bt,amounts:p(Ns("u64"))}),Ks=d({kind:T("MergeCoins"),destination:Bt,sources:p(Bt)}),Vs=d({kind:T("MakeMoveVec"),type:b(vl(u())),objects:p(Bt)}),Fs=d({kind:T("Publish"),modules:p(p(_e())),dependencies:p(M)}),Sl=(e=>(e[e.COMPATIBLE=0]="COMPATIBLE",e[e.ADDITIVE=128]="ADDITIVE",e[e.DEP_ONLY=192]="DEP_ONLY",e))(Sl||{}),Gs=d({kind:T("Upgrade"),modules:p(p(_e())),dependencies:p(M),packageId:M,ticket:Bt}),qs=[Ms,Ls,$s,Ks,Fs,Gs,Vs],Hs=j([...qs]);function El(e){return wt(e,Hs),qs.find(t=>V(e,t))}var ft={MoveCall(e){return me({kind:"MoveCall",target:e.target,arguments:e.arguments??[],typeArguments:e.typeArguments??[]},Ms)},TransferObjects(e,t){return me({kind:"TransferObjects",objects:e,address:t},Ls)},SplitCoins(e,t){return me({kind:"SplitCoins",coin:e,amounts:t},$s)},MergeCoins(e,t){return me({kind:"MergeCoins",destination:e,sources:t},Ks)},Publish({modules:e,dependencies:t}){return me({kind:"Publish",modules:e.map(r=>typeof r=="string"?Array.from(H(r)):r),dependencies:t.map(r=>$e(r))},Fs)},Upgrade({modules:e,dependencies:t,packageId:r,ticket:n}){return me({kind:"Upgrade",modules:e.map(i=>typeof i=="string"?Array.from(H(i)):i),dependencies:t.map(i=>$e(i)),packageId:r,ticket:n},Gs)},MakeMoveVec({type:e,objects:t}){return me({kind:"MakeMoveVec",type:e?{Some:e}:{None:null},objects:t},Vs)}},_l=/^vector<(.+)>$/,Tl=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,kt=class{static parseFromStr(e,t=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let r=e.match(_l);if(r)return{vector:kt.parseFromStr(r[1],t)};let n=e.match(Tl);if(n)return{struct:{address:t?te(n[1]):n[1],module:n[2],name:n[3],typeParams:n[5]===void 0?[]:kt.parseStructTypeArgs(n[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){let r=[],n="",i=0;for(let o=0;o<e.length;o++){let s=e[o];if(s==="<"&&i++,s===">"&&i--,i===0&&s===","){r.push(n.trim()),n="";continue}n+=s}return r.push(n.trim()),r.map(o=>kt.parseFromStr(o,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${kt.tagToString(e.vector)}>`;if("struct"in e){let t=e.struct,r=t.typeParams.map(kt.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}},Ws="Argument",le="vector",kl="Option",Cl="CallArg",Yi="TypeTag",Jy="ObjectArg",Al="ProgrammableTransaction",_n="ProgrammableMoveCall",zs="Transaction",Gn="EnumKind",Bl=[Gn,zs],Je=[Gn,Ws],Js="SimpleProgrammableMoveCall",ht=new k(bs).registerStructType(Al,{inputs:[le,Cl],transactions:[le,Bl]}).registerEnumType(Ws,{GasCoin:null,Input:{index:k.U16},Result:{index:k.U16},NestedResult:{index:k.U16,resultIndex:k.U16}}).registerStructType(_n,{package:k.ADDRESS,module:k.STRING,function:k.STRING,type_arguments:[le,Yi],arguments:[le,Je]}).registerEnumType(zs,{MoveCall:Js,TransferObjects:{objects:[le,Je],address:Je},SplitCoins:{coin:Je,amounts:[le,Je]},MergeCoins:{destination:Je,sources:[le,Je]},Publish:{modules:[le,[le,k.U8]],dependencies:[le,k.ADDRESS]},MakeMoveVec:{type:[kl,Yi],objects:[le,Je]},Upgrade:{modules:[le,[le,k.U8]],dependencies:[le,k.ADDRESS],packageId:k.ADDRESS,ticket:Je}});ht.registerType([Gn,"T"],function(t,r,n,i){let s={[r.kind]:r},[a]=n;return this.getTypeInterface(a)._encodeRaw.call(this,t,s,n,i)},function(t,r,n){let[i]=r,o=this.getTypeInterface(i)._decodeRaw.call(this,t,r,n),s=Object.keys(o)[0];return{kind:s,...o[s]}},e=>{if(typeof e!="object"&&!("kind"in e))throw new Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(e)}`);return!0});ht.registerType(Js,function(t,r,n,i){let[o,s,a]=r.target.split("::"),c=r.typeArguments.map(l=>kt.parseFromStr(l,!0));return this.getTypeInterface(_n)._encodeRaw.call(this,t,{package:te(o),module:s,function:a,type_arguments:c,arguments:r.arguments},n,i)},function(t,r,n){let i=ht.getTypeInterface(_n)._decodeRaw.call(this,t,r,n);return{target:[i.package,i.module,i.function].join("::"),arguments:i.arguments,typeArguments:i.type_arguments.map(kt.tagToString)}},e=>e.target.split("::").length===3);var Ol=j([d({ImmOrOwned:Ke}),d({Shared:d({objectId:u(),initialSharedVersion:j([_e(),u()]),mutable:U()})})]),Tn=d({Pure:p(_e())}),Il=d({Object:Ol}),er=j([Tn,Il]),jl=16*1024,Xe={Pure(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:ht.ser(t,e,{maxSize:jl}).toBytes())}},ObjectRef({objectId:e,digest:t,version:r}){return{Object:{ImmOrOwned:{digest:t,version:r,objectId:te(e)}}}},SharedObjectRef({objectId:e,mutable:t,initialSharedVersion:r}){return{Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:te(e)}}}}};function Zi(e){return typeof e=="string"?te(e):"ImmOrOwned"in e.Object?te(e.Object.ImmOrOwned.objectId):te(e.Object.Shared.objectId)}function Xs(e){return typeof e=="object"&&"Object"in e&&"Shared"in e.Object?e.Object.Shared:void 0}function Xy(e){return!!Xs(e)}function Rl(e){return Xs(e)?.mutable??!1}var Pl="ascii",Dl="String",Ul="string",Nl="String",Ml="option",Ll="Option",$l={address:gs,module:ou,name:au},Kl={address:Ln,module:Pl,name:Dl},Vl={address:Ln,module:Ul,name:Nl},Fl={address:Ln,module:Ml,name:Ll},Ir=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function Gl(e){let t=Ts(e)?.Struct;return t?.address==="0x2"&&t?.module==="tx_context"&&t?.name==="TxContext"}function xn(e,t){if(!(typeof t>"u")&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}var ql=["Address","Bool","U8","U16","U32","U64","U128","U256"];function kn(e,t){if(typeof e=="string"&&ql.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])xn("number",t);else if(e==="Bool")xn("boolean",t);else if(e==="Address"&&(xn("string",t),t&&!dt(t)))throw new Error("Invalid Sui Address");return e.toLowerCase()}else if(typeof e=="string")throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((t===void 0||typeof t=="string")&&e.Vector==="U8")return"string";if(t!==void 0&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);let r=kn(e.Vector,t?t[0]:void 0);return r===void 0?void 0:`vector<${r}>`}if("Struct"in e){if(Ir(e.Struct,Kl))return"string";if(Ir(e.Struct,Vl))return"utf8string";if(Ir(e.Struct,$l))return"address";if(Ir(e.Struct,Fl)){let r={Vector:e.Struct.typeArguments[0]};return kn(r,t)}}}function Hl(e,t){let r=Array.from(`${e}::`).map(i=>i.charCodeAt(0)),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),ve(n,{dkLen:32})}var Wl=b(D(j([d({Epoch:_e()}),d({None:j([T(!0),T(null)])})]))),Ys=u(),Qi=oe("StringEncodedBigint",e=>{if(!["string","number","bigint"].includes(typeof e))return!1;try{return BigInt(e),!0}catch{return!1}}),zl=d({budget:b(Qi),price:b(Qi),payment:b(p(Ke)),owner:b(Ys)}),jr=d({version:T(1),sender:b(Ys),expiration:Wl,gasConfig:zl,inputs:p(tr),transactions:p(Hs)});function es(e){return te(e).replace("0x","")}var ts=128*1024,Ye=class{constructor(e){this.version=1,this.sender=e?.sender,this.expiration=e?.expiration,this.gasConfig=e?.gasConfig??{},this.inputs=e?.inputs??[],this.transactions=e?.transactions??[]}static fromKindBytes(e){let r=ht.de("TransactionKind",e)?.ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");let n=me({version:1,gasConfig:{},inputs:r.inputs.map((i,o)=>me({kind:"Input",value:i,index:o,type:V(i,Tn)?"pure":"object"},tr)),transactions:r.transactions},jr);return Ye.restore(n)}static fromBytes(e){let r=ht.de("TransactionData",e)?.V1,n=r?.kind?.ProgrammableTransaction;if(!r||!n)throw new Error("Unable to deserialize from bytes.");let i=me({version:1,sender:r.sender,expiration:r.expiration,gasConfig:r.gasData,inputs:n.inputs.map((o,s)=>me({kind:"Input",value:o,index:s,type:V(o,Tn)?"pure":"object"},tr)),transactions:n.transactions},jr);return Ye.restore(i)}static restore(e){wt(e,jr);let t=new Ye;return Object.assign(t,e),t}static getDigestFromBytes(e){let t=Hl("TransactionData",e);return ir(t)}build({overrides:e,onlyTransactionKind:t}={}){let r=this.inputs.map(c=>(wt(c.value,er),c.value)),n={ProgrammableTransaction:{inputs:r,transactions:this.transactions}};if(t)return ht.ser("TransactionKind",n,{maxSize:ts}).toBytes();let i=e?.expiration??this.expiration,o=e?.sender??this.sender,s={...this.gasConfig,...e?.gasConfig};if(!o)throw new Error("Missing transaction sender");if(!s.budget)throw new Error("Missing gas budget");if(!s.payment)throw new Error("Missing gas payment");if(!s.price)throw new Error("Missing gas price");let a={sender:es(o),expiration:i||{None:!0},gasData:{payment:s.payment,owner:es(this.gasConfig.owner??o),price:BigInt(s.price),budget:BigInt(s.budget)},kind:{ProgrammableTransaction:{inputs:r,transactions:this.transactions}}};return ht.ser("TransactionData",{V1:a},{maxSize:ts}).toBytes()}getDigest(){let e=this.build({onlyTransactionKind:!1});return Ye.getDigestFromBytes(e)}snapshot(){return me(this,jr)}};function Jl(e){let t={kind:"Result",index:e},r=[],n=i=>r[i]??(r[i]={kind:"NestedResult",index:e,resultIndex:i});return new Proxy(t,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,o){if(o in i)return Reflect.get(i,o);if(o===Symbol.iterator)return function*(){let a=0;for(;;)yield n(a),a++};if(typeof o=="symbol")return;let s=parseInt(o,10);if(!(Number.isNaN(s)||s<0))return n(s)}})}function rr(e){if(!e)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e}var rs=Symbol.for("@mysten/transaction"),Cn=256,Xl=5e10,Yl=1000n,Zl=50,Ql=(e,t)=>Array.from({length:Math.ceil(e.length/t)},(r,n)=>e.slice(n*t,n*t+t)),K,Lr,An,qn,Zs,Hn,Qs,Wn,eo,$r,Bn,On=class{constructor(e){Et(this,Lr),Et(this,qn),Et(this,Hn),Et(this,Wn),Et(this,$r),Et(this,K,void 0),Zt(this,K,new Ye(e?e.blockData:void 0))}static is(e){return!!e&&typeof e=="object"&&e[rs]===!0}static fromKind(e){let t=new On;return Zt(t,K,Ye.fromKindBytes(typeof e=="string"?H(e):e)),t}static from(e){let t=new On;return typeof e!="string"||!e.startsWith("{")?Zt(t,K,Ye.fromBytes(typeof e=="string"?H(e):e)):Zt(t,K,Ye.restore(JSON.parse(e))),t}static get Transactions(){return ft}static get Inputs(){return Xe}setSender(e){F(this,K).sender=e}setSenderIfNotSet(e){F(this,K).sender||(F(this,K).sender=e)}setExpiration(e){F(this,K).expiration=e}setGasPrice(e){F(this,K).gasConfig.price=String(e)}setGasBudget(e){F(this,K).gasConfig.budget=String(e)}setGasOwner(e){F(this,K).gasConfig.owner=e}setGasPayment(e){if(e.length>=Cn)throw new Error(`Payment objects exceed maximum amount ${Cn}`);F(this,K).gasConfig.payment=e.map(t=>on(t,Ke))}get blockData(){return F(this,K).snapshot()}get[rs](){return!0}get gas(){return{kind:"GasCoin"}}object(e){let t=Zi(e);return F(this,K).inputs.find(n=>n.type==="object"&&t===Zi(n.value))??Ct(this,Lr,An).call(this,"object",e)}objectRef(...e){return this.object(Xe.ObjectRef(...e))}sharedObjectRef(...e){return this.object(Xe.SharedObjectRef(...e))}pure(e,t){return Ct(this,Lr,An).call(this,"pure",e instanceof Uint8Array?Xe.Pure(e):t?Xe.Pure(e,t):e)}add(e){let t=F(this,K).transactions.push(e);return Jl(t-1)}splitCoins(...e){return this.add(ft.SplitCoins(...e))}mergeCoins(...e){return this.add(ft.MergeCoins(...e))}publish(...e){return this.add(ft.Publish(...e))}upgrade(...e){return this.add(ft.Upgrade(...e))}moveCall(...e){return this.add(ft.MoveCall(...e))}transferObjects(...e){return this.add(ft.TransferObjects(...e))}makeMoveVec(...e){return this.add(ft.MakeMoveVec(...e))}serialize(){return JSON.stringify(F(this,K).snapshot())}async build({provider:e,onlyTransactionKind:t}={}){return await Ct(this,$r,Bn).call(this,{provider:e,onlyTransactionKind:t}),F(this,K).build({onlyTransactionKind:t})}async getDigest({provider:e}={}){return await Ct(this,$r,Bn).call(this,{provider:e}),F(this,K).getDigest()}},Dt=On;K=new WeakMap;Lr=new WeakSet;An=function(e,t){let r=F(this,K).inputs.length,n=me({kind:"Input",value:typeof t=="bigint"?String(t):t,index:r,type:e},tr);return F(this,K).inputs.push(n),n};qn=new WeakSet;Zs=async function({provider:e,onlyTransactionKind:t}){if(t||F(this,K).gasConfig.payment)return;let r=F(this,K).gasConfig.owner??F(this,K).sender,i=(await rr(e).getCoins({owner:r,coinType:cu})).data.filter(o=>!F(this,K).inputs.find(a=>V(a.value,er)&&"Object"in a.value&&"ImmOrOwned"in a.value.Object?o.coinObjectId===a.value.Object.ImmOrOwned.objectId:!1)).slice(0,Cn-1).map(o=>({objectId:o.coinObjectId,digest:o.digest,version:o.version}));if(!i.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(i)};Hn=new WeakSet;Qs=async function({provider:e,onlyTransactionKind:t}){t||F(this,K).gasConfig.price||this.setGasPrice(await rr(e).getReferenceGasPrice())};Wn=new WeakSet;eo=async function(e){let{inputs:t,transactions:r}=F(this,K),n=[],i=[];if(r.forEach(o=>{if(o.kind==="MoveCall"){o.arguments.some(c=>c.kind==="Input"&&!V(t[c.index].value,er))&&n.push(o);return}let s=El(o);!s.schema||Object.entries(o).forEach(([a,c])=>{if(a==="kind")return;let l=s.schema[a],h=l.type==="array",f=h?l.schema[Kr]:l[Kr];if(!f)return;let y=g=>{let w=t[g];if(!w)throw new Error(`Missing input ${c.index}`);if(!V(w.value,er))if(f.kind==="object"&&typeof w.value=="string")i.push({id:w.value,input:w});else if(f.kind==="pure")w.value=Xe.Pure(w.value,f.type);else throw new Error("Unexpected input format.")};if(h)c.forEach(g=>{g.kind==="Input"&&y(g.index)});else{if(c.kind!=="Input")return;y(c.index)}})}),n.length&&await Promise.all(n.map(async o=>{let[s,a,c]=o.target.split("::"),l=await rr(e).getNormalizedMoveFunction({package:$e(s),module:a,function:c}),f=l.parameters.length>0&&Gl(l.parameters.at(-1))?l.parameters.slice(0,l.parameters.length-1):l.parameters;if(f.length!==o.arguments.length)throw new Error("Incorrect number of arguments.");f.forEach((y,g)=>{let w=o.arguments[g];if(w.kind!=="Input")return;let x=t[w.index];if(V(x.value,er))return;let I=x.value,G=kn(y,I);if(G){x.value=Xe.Pure(I,G);return}if(Ts(y)!=null||typeof y=="object"&&"TypeParameter"in y){if(typeof I!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(I,null,2)}`);i.push({id:I,input:x,normalizedType:y});return}throw new Error(`Unknown call arg type ${JSON.stringify(y,null,2)} for value ${JSON.stringify(I,null,2)}`)})})),i.length){let o=[...new Set(i.map(({id:h})=>h))],s=Ql(o,Zl),a=(await Promise.all(s.map(h=>rr(e).multiGetObjects({ids:h,options:{showOwner:!0}})))).flat(),c=new Map(o.map((h,f)=>[h,a[f]])),l=Array.from(c).filter(([h,f])=>f.error).map(([h,f])=>h);if(l.length)throw new Error(`The following input objects are not invalid: ${l.join(", ")}`);i.forEach(({id:h,input:f,normalizedType:y})=>{let g=c.get(h),w=_c(g);if(w){let x=Rl(f.value)||y!=null&&_s(y)!=null;f.value=Xe.SharedObjectRef({objectId:h,initialSharedVersion:w,mutable:x})}else f.value=Xe.ObjectRef(Fr(g))})}};$r=new WeakSet;Bn=async function({provider:e,onlyTransactionKind:t}){if(!t&&!F(this,K).sender)throw new Error("Missing transaction sender");if(await Promise.all([Ct(this,Hn,Qs).call(this,{provider:e,onlyTransactionKind:t}),Ct(this,Wn,eo).call(this,e)]),!t&&(await Ct(this,qn,Zs).call(this,{provider:e,onlyTransactionKind:t}),!F(this,K).gasConfig.budget)){let r=await rr(e).dryRunTransactionBlock({transactionBlock:F(this,K).build({overrides:{gasConfig:{budget:String(Xl),payment:[]}}})});if(r.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${r.effects.status.error}`,{cause:r});let n=Yl*BigInt(this.blockData.gasConfig.price||1n),i=BigInt(r.effects.gasUsed.computationCost)+n,o=i+BigInt(r.effects.gasUsed.storageCost)-BigInt(r.effects.gasUsed.storageRebate);this.setGasBudget(o>i?o:i)}};var ef=d({currentTps:B(),tps30Days:B(),currentCheckpoint:u(),currentEpoch:u(),totalAddresses:u(),totalObjects:u(),totalPackages:u()}),ns={socketOptions:Us,versionCacheTimeoutInSeconds:600},tg=class{constructor(e=wl,t=ns){this.options=t,this.connection=e;let r={...ns,...t};this.options=r,this.client=r.rpcClient??new ul(this.connection.fullnode),this.wsClient=r.websocketClient??new ml(this.connection.websocket,r.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{let e=await this.client.requestWithType("rpc.discover",[],ne());return this.rpcApiVersion=e.info.version,this.cacheExpiry=Date.now()+(this.options.versionCacheTimeoutInSeconds??0)*1e3,this.rpcApiVersion}catch(e){console.warn("Error fetching version number of the RPC API",e)}}async requestSuiFromFaucet(e,t){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return bl(this.connection.faucet,e,t)}async getCoins(e){if(!e.owner||!dt(te(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[e.owner,e.coinType,e.cursor,e.limit],Wi)}async getAllCoins(e){if(!e.owner||!dt(te(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[e.owner,e.cursor,e.limit],Wi)}async getBalance(e){if(!e.owner||!dt(te(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[e.owner,e.coinType],zi)}async getAllBalances(e){if(!e.owner||!dt(te(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[e.owner],p(zi))}async getCoinMetadata(e){return await this.client.requestWithType("suix_getCoinMetadata",[e.coinType],lu)}async getTotalSupply(e){return await this.client.requestWithType("suix_getTotalSupply",[e.coinType],Du)}async call(e,t){let r=await this.client.request(e,t);if(V(r,Ps))throw new En({req:{method:e,args:t},code:r.error.code,data:r.error.data,cause:new Error(r.error.message)});return r.result}async getMoveFunctionArgTypes(e){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[e.package,e.module,e.function],gu)}async getNormalizedMoveModulesByPackage(e){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[e.package],Eu)}async getNormalizedMoveModule(e){return await this.client.requestWithType("sui_getNormalizedMoveModule",[e.package,e.module],Es)}async getNormalizedMoveFunction(e){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[e.package,e.module,e.function],xs)}async getNormalizedMoveStruct(e){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[e.package,e.module,e.struct],Ss)}async getOwnedObjects(e){if(!e.owner||!dt(te(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit],Bc)}async getObject(e){if(!e.id||!Br($e(e.id)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[e.id,e.options],Rr)}async multiGetObjects(e){if(e.ids.forEach(r=>{if(!r||!Br($e(r)))throw new Error(`Invalid Sui Object id ${r}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[e.ids,e.options],p(Rr))}async queryTransactionBlocks(e){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"],nu)}async getTransactionBlock(e){if(!Ki(e.digest))throw new Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[e.digest,e.options],Pr)}async multiGetTransactionBlocks(e){if(e.digests.forEach(r=>{if(!Ki(r))throw new Error(`Invalid Transaction digest ${r}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[e.digests,e.options],p(Pr))}async executeTransactionBlock(e){return await this.client.requestWithType("sui_executeTransactionBlock",[typeof e.transactionBlock=="string"?e.transactionBlock:W(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType],Pr)}async getTotalTransactionBlocks(){let e=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],u());return BigInt(e)}async getReferenceGasPrice(){let e=await this.client.requestWithType("suix_getReferenceGasPrice",[],u());return BigInt(e)}async getStakes(e){if(!e.owner||!dt(te(e.owner)))throw new Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[e.owner],p(Hi))}async getStakesByIds(e){return e.stakedSuiIds.forEach(t=>{if(!t||!Br($e(t)))throw new Error(`Invalid Sui Stake id ${t}`)}),await this.client.requestWithType("suix_getStakesByIds",[e.stakedSuiIds],p(Hi))}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],Ru)}async queryEvents(e){return await this.client.requestWithType("suix_queryEvents",[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"],Oc)}async subscribeEvent(e){return this.wsClient.subscribeEvent(e.filter,e.onMessage)}async unsubscribeEvent(e){return this.wsClient.unsubscribeEvent(e.id)}async devInspectTransactionBlock(e){let t;if(Dt.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=W(await e.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")t=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)t=W(e.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.client.requestWithType("sui_devInspectTransactionBlock",[e.sender,t,e.gasPrice,e.epoch],Jc)}async dryRunTransactionBlock(e){return await this.client.requestWithType("sui_dryRunTransactionBlock",[typeof e.transactionBlock=="string"?e.transactionBlock:W(e.transactionBlock)],iu)}async getDynamicFields(e){if(!e.parentId||!Br($e(e.parentId)))throw new Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[e.parentId,e.cursor,e.limit],hl)}async getDynamicFieldObject(e){return await this.client.requestWithType("suix_getDynamicFieldObject",[e.parentId,e.name],Rr)}async getLatestCheckpointSequenceNumber(){let e=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],u());return String(e)}async getCheckpoint(e){return await this.client.requestWithType("sui_getCheckpoint",[e.id],Bs)}async getCheckpoints(e){let t=await this.getRpcApiVersion();return await this.client.requestWithType("sui_getCheckpoints",[e.cursor,t&&(0,In.lt)(t,"0.32.0")?String(e?.limit):e?.limit,e.descendingOrder],Ku)}async getCommitteeInfo(e){return await this.client.requestWithType("suix_getCommitteeInfo",[e?.epoch],ju)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],ef)}async getEpochs(e){let t=await this.getRpcApiVersion();return await this.client.requestWithType("suix_getEpochs",[e?.cursor,t&&(0,In.lt)(t,"0.32.0")?String(e?.limit):e?.limit,e?.descendingOrder],Nu)}async getMoveCallMetrics(){return await this.client.requestWithType("suix_getMoveCallMetrics",[],xu)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],Cs)}async getValidatorsApy(){return await this.client.requestWithType("suix_getValidatorsApy",[],ku)}async waitForTransactionBlock({signal:e,timeout:t=60*1e3,pollInterval:r=2*1e3,...n}){let i=AbortSignal.timeout(t),o=new Promise((s,a)=>{i.addEventListener("abort",()=>a(i.reason))});for(;!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch{await Promise.race([new Promise(a=>setTimeout(a,r)),o])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}},tf=(e=>(e[e.Sui=0]="Sui",e))(tf||{}),rf=(e=>(e[e.V0=0]="V0",e))(rf||{}),nf=(e=>(e[e.TransactionData=0]="TransactionData",e[e.TransactionEffects=1]="TransactionEffects",e[e.CheckpointSummary=2]="CheckpointSummary",e[e.PersonalMessage=3]="PersonalMessage",e))(nf||{});function sf(e){return[e,0,0]}function jn(e,t){let r=sf(e),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),n}var of=class{async requestSuiFromFaucet(e){return this.provider.requestSuiFromFaucet(await this.getAddress(),e)}constructor(e){this.provider=e}async signMessage(e){let t=await this.signData(jn(3,e.message));return{messageBytes:W(e.message),signature:t}}async signTransactionBlock(e){let t;if(Dt.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(await this.getAddress()),t=await e.transactionBlock.build({provider:this.provider});else if(e.transactionBlock instanceof Uint8Array)t=e.transactionBlock;else throw new Error("Unknown transaction format");let r=jn(0,t),n=await this.signData(r);return{transactionBlockBytes:W(t),signature:n}}async signAndExecuteTransactionBlock(e){let{transactionBlockBytes:t,signature:r}=await this.signTransactionBlock({transactionBlock:e.transactionBlock});return await this.provider.executeTransactionBlock({transactionBlock:t,signature:r,options:e.options,requestType:e.requestType})}async getTransactionBlockDigest(e){if(Dt.is(e))return e.setSenderIfNotSet(await this.getAddress()),e.getDigest({provider:this.provider});if(e instanceof Uint8Array)return Ye.getDigestFromBytes(e);throw new Error("Unknown transaction format.")}async devInspectTransactionBlock(e){let t=await this.getAddress();return this.provider.devInspectTransactionBlock({sender:t,...e})}async dryRunTransactionBlock(e){let t;if(Dt.is(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(await this.getAddress()),t=await e.transactionBlock.build({provider:this.provider});else if(typeof e.transactionBlock=="string")t=H(e.transactionBlock);else if(e.transactionBlock instanceof Uint8Array)t=e.transactionBlock;else throw new Error("Unknown transaction format");return this.provider.dryRunTransactionBlock({transactionBlock:t})}async getGasCostEstimation(...e){let t=await this.dryRunTransactionBlock(...e),r=su(t.effects);if(typeof r>"u")throw new Error("Failed to estimate the gas cost from transaction");return r}},af=class extends of{constructor(e,t){super(t),this.keypair=e}async getAddress(){return this.keypair.getPublicKey().toSuiAddress()}async signData(e){let t=this.keypair.getPublicKey(),r=ve(e,{dkLen:32}),n=this.keypair.signData(r),i=this.keypair.getKeyScheme();return Fu({signatureScheme:i,signature:n,pubKey:t})}connect(e){return new af(this.keypair,e)}},to="\u2026";function ig(e){let t=e.startsWith("0x")?2:0;return`0x${e.slice(t,t+4)}${to}${e.slice(-4)}`}function sg(e){return`${e.slice(0,10)}${to}`}async function lg(e,t,r){let n=Gu(t),i=jn(r,typeof e=="string"?H(e):e),o=ve(i,{dkLen:32});switch(n.signatureScheme){case"ED25519":return ro.default.sign.detached.verify(o,n.signature,n.pubKey.toBytes());case"Secp256k1":return z.verify(z.Signature.fromCompact(n.signature),bt(o),n.pubKey.toBytes());default:throw new Error(`Unknown signature scheme: "${n.signatureScheme}"`)}}var is=$e("0x5"),ss="sui_system",cf="request_add_stake",fg="request_add_stake_with_locked_coin",uf="request_withdraw_stake",dg=class{static async newRequestAddStakeTxn(e,t,r,n){let i=new Dt,o=i.splitCoins(i.gas,[i.pure(r)]);i.moveCall({target:`${Gi}::${ss}::${cf}`,arguments:[i.object(is),o,i.pure(n)]});let s=await e.multiGetObjects({ids:t,options:{showOwner:!0}});return i.setGasPayment(s.map(a=>Fr(a))),i}static async newRequestWithdrawlStakeTxn(e,t){let r=new Dt;return r.moveCall({target:`${Gi}::${ss}::${uf}`,arguments:[r.object(is),r.object(e),r.object(t)]}),r}};export{H as a,W as b,wt as c,V as d,be as e,ic as f,sc as g,M as h,ce as i,fe as j,pt as k,oc as l,Ki as m,Vr as n,dt as o,Br as p,te as q,$e as r,np as s,Ke as t,lc as u,fc as v,dc as w,hc as x,os as y,Sn as z,pc as A,ip as B,yc as C,gc as D,sp as E,op as F,Ot as G,as as H,cs as I,mc as J,bc as K,ap as L,cp as M,up as N,Rr as O,Ut as P,wc as Q,vc as R,Fr as S,xc as T,lp as U,Sc as V,Ec as W,fp as X,Pn as Y,dp as Z,_c as _,hp as $,pp as aa,Tc as ba,kc as ca,Dn as da,yp as ea,gp as fa,Ac as ga,Bc as ha,us as ia,Un as ja,Oc as ka,Ic as la,jc as ma,bp as na,wp as oa,At as pa,Rc as qa,Pc as ra,Dc as sa,Pe as ta,Uc as ua,Nc as va,Mc as wa,Lc as xa,$c as ya,ls as za,Vi as Aa,Kc as Ba,xp as Ca,Fc as Da,Gc as Ea,Or as Fa,qc as Ga,Gr as Ha,Nn as Ia,Jc as Ja,Xc as Ka,Yc as La,fs as Ma,Zc as Na,Qc as Oa,eu as Pa,tu as Qa,ru as Ra,ds as Sa,hs as Ta,Pr as Ua,Sp as Va,nu as Wa,iu as Xa,Ep as Ya,_p as Za,Tp as _a,kp as $a,Mn as ab,Cp as bb,Ap as cb,Bp as db,Op as eb,Ip as fb,jp as gb,Rp as hb,Pp as ib,Dp as jb,ps as kb,Up as lb,ys as mb,Np as nb,su as ob,qr as pb,Mp as qb,Lp as rb,$p as sb,Kp as tb,Vp as ub,Fp as vb,Gi as wb,gs as xb,Ln as yb,ou as zb,qp as Ab,au as Bb,cu as Cb,Hp as Db,Wp as Eb,zp as Fb,Jp as Gb,Xp as Hb,qi as Ib,uu as Jb,lu as Kb,Re as Lb,fu as Mb,Zp as Nb,bs as Ob,pu as Pb,ey as Qb,yu as Rb,gu as Sb,mu as Tb,bu as Ub,$n as Vb,wu as Wb,vu as Xb,vn as Yb,xu as Zb,Pt as _b,ry as $b,xs as ac,Su as bc,Ss as cc,Es as dc,Eu as ec,_s as fc,_u as gc,Ts as hc,Tu as ic,ku as jc,iy as kc,Cu as lc,Hi as mc,Au as nc,sy as oc,oy as pc,Bu as qc,ay as rc,cy as sc,Ou as tc,uy as uc,Iu as vc,ju as wc,ks as xc,Ru as yc,Pu as zc,Wi as Ac,zi as Bc,Du as Cc,Uu as Dc,Cs as Ec,Nu as Fc,Mu as Gc,Ji as Hc,Bs as Ic,Kn as Jc,Vu as Kc,Fu as Lc,Gu as Mc,Hr as Nc,Os as Oc,vy as Pc,Wr as Qc,qu as Rc,Hu as Sc,Is as Tc,Wu as Uc,zu as Vc,Qt as Wc,Nr as Xc,Ju as Yc,Ay as Zc,nl as _c,Mr as $c,En as ad,ol as bd,al as cd,cl as dd,Ps as ed,ul as fd,pl as gd,Us as hd,ml as id,bl as jd,Vn as kd,$y as ld,wl as md,Ky as nd,tr as od,xl as pd,Bt as qd,Ns as rd,Ms as sd,Ls as td,$s as ud,Ks as vd,Vs as wd,Fs as xd,Sl as yd,Gs as zd,Hs as Ad,El as Bd,ft as Cd,kt as Dd,Ws as Ed,le as Fd,kl as Gd,Cl as Hd,Yi as Id,Jy as Jd,Al as Kd,_n as Ld,zs as Md,Gn as Nd,Bl as Od,Je as Pd,Js as Qd,ht as Rd,Tn as Sd,Il as Td,er as Ud,Xe as Vd,Zi as Wd,Xs as Xd,Xy as Yd,Rl as Zd,Gl as _d,kn as $d,Dt as ae,tg as be,tf as ce,rf as de,nf as ee,jn as fe,of as ge,af as he,ig as ie,sg as je,lg as ke,is as le,ss as me,cf as ne,fg as oe,uf as pe,dg as qe};
//# sourceMappingURL=chunk-AOCKZLRR.js.map
