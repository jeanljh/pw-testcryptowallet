import{a as Tr,b as yr,c as _t,d as Er,e as je}from"./chunk-RMPHXHQS.js";import{a as Ne}from"./chunk-7T25FDKG.js";import{a as Xe}from"./chunk-55MFL6ZJ.js";import{a as vr,b as Ir}from"./chunk-VLXALCBL.js";import{b as Mo}from"./chunk-LL3KTXMQ.js";import{a as Ee}from"./chunk-C7HUNOKC.js";import{a as ze}from"./chunk-XVAXXWFU.js";import{a as le,b as xr,c as Ao,d as br}from"./chunk-RSS4ZW7H.js";import{b as S}from"./chunk-CPCRKRJC.js";import{a as rr,b as nr,c as sr,d as ar,f as gr,g as kr,h as hr}from"./chunk-G4YDNERE.js";import{a as cr}from"./chunk-3WFUHCRH.js";import{f as ue,h as mr}from"./chunk-OJWZP4US.js";import{a as ye,b as Sr}from"./chunk-63FXY6V3.js";import{a as ir}from"./chunk-T2SH5CSP.js";import{a as vo,b as Io}from"./chunk-EKCHWEWU.js";import{a as bo,b as ur,c as pt,d as lr,e as pr,f as dr,g as dt,h as ft,i as fr,j as _r}from"./chunk-YU25S3Z6.js";import{a as Cr}from"./chunk-5V4BKHLN.js";import{a as Kt}from"./chunk-NNPQ7BFS.js";import{x as lt,y as er}from"./chunk-5JUYNHHM.js";import{c as L}from"./chunk-JIPHW3JW.js";import{e as or}from"./chunk-3FSEKPUM.js";import{a as Jt}from"./chunk-NYLS5KPS.js";import{a as Te}from"./chunk-WRDP4AN2.js";import{a as Zt}from"./chunk-NVT6KZMA.js";import{f as Eo}from"./chunk-UNX7SSQ5.js";import{d as tr}from"./chunk-46D3AKOR.js";import{c as xo}from"./chunk-XDPVWBGA.js";import{a as yo}from"./chunk-VN6CTHUI.js";import{K as q,L as W,W as Xt,_ as zt,aa as $t,ba as Ht,o as Qt}from"./chunk-SPXYT2VO.js";import{h as Yt,j as qt,s as Rt}from"./chunk-7CFB2XTF.js";import{a as Gt}from"./chunk-BADVKNVD.js";import{A as jt,d as ct,e as $,q as no,s as To,t as Re,z as ut}from"./chunk-FLUPYUSZ.js";import{A as qe,B as Bt,C as Vt,H as Me,I as H,d as V,l as to,n as et,o as wt,p as ke,u as ot,v as Dt,y as ne}from"./chunk-UC2GDSBD.js";import{a as Wt,c as ro,e as Co,f as Ce,h as at,m as Ae}from"./chunk-PI6SXITR.js";import{Ua as nt,Va as st,fb as it,ga as Se,na as Ft,oa as Ut,pa as Ot,qa as he,sa as ho,va as z,vd as g,wb as mt}from"./chunk-LZ43QKYM.js";import{a as B}from"./chunk-LH3J3TLH.js";import{H as So,ea as rt,n as F,y as tt}from"./chunk-XEVJKE53.js";import{E as ko,_ as Ye,e as Nt,j as te,r as Lt,y as Pt}from"./chunk-NLHAZXT3.js";import{s as O,y as oo}from"./chunk-YP7AL7GO.js";import{a as Q}from"./chunk-6N5VE5LT.js";import{a as x}from"./chunk-6YOUVTKE.js";import{f as _,o as n,q as s}from"./chunk-4J7XGGEQ.js";n();s();var ht=_(x());Ye();n();s();var xe=_(x());n();s();function Mr(e,o){try{for(let r=0;r<e.length;r++){let t=e[r]();if(t)return t}return o}catch(r){return W.stuff("Error in validation check:",r),o}}n();s();n();s();var kt=e=>()=>{let{computedSwapOnOtherDapp:o}=e;return o?"DAPP":null};var Ar=e=>()=>{let{isConnectedWallet:o,hasInitWalletInfo:r}=e;return!o&&r?"UN_CONNECTED_WALLET":null},Nr=e=>()=>{let{isBuy:o,computedQuoteIsBlackAddress:r,isLimit:t}=e;return r?t?"DISABLED":o?"BUY_DISABLED":"SELL_DISABLED":null},Lr=e=>()=>{let{computedQuoteIsNewAddress:o,isBuy:r,isLimit:t}=e;return o?t?"DISABLED":r?"BUY_DISABLED":"SELL_DISABLED":null},Pr=e=>()=>{let{computedFormToTokenIsLeverageToken:o,isBuy:r}=e;return o?r?"BUY_DISABLED":"SELL_DISABLED":null},wr=e=>()=>{let{computedNonsupportChain:o}=e;return o?"NOT_SUPPORT_WALLET":null};var Dr=e=>()=>{let{isBuy:o,toToken:r}=e;return o&&er(r)?"BUY_DISABLED":null},Br=e=>()=>{let{isBuy:o,disableConditions:r,hasToAmount:t,computedIsStrategyValid:i}=e;return o&&(r.some(Boolean)||o&&!t||!i)?"BUY_DISABLED":null},Vr=e=>()=>{let{isSell:o,disableConditions:r,hasToAmount:t}=e;return o&&(r.some(Boolean)||o&&!t)?"SELL_DISABLED":null};var Fr=e=>()=>{let{isInsufficientBalance:o}=e;return o?"FILL_UP":null},Ur=e=>()=>{let{isBuy:o,hasToAmount:r}=e;return o&&r?"BUY_ACTIVE":null},Or=e=>()=>{let{isSell:o,hasToAmount:r}=e;return o&&r?"SELL_ACTIVE":null},Wr=e=>()=>{let{isBuy:o,computedIsLimitRegion:r,computedSwapOnOtherDapp:t}=e;return kt({computedSwapOnOtherDapp:t})?.()?null:r?o?"LIMIT_REGION":"SELL_DISABLED":null};var Gr=e=>{let{computedIsLimitRegion:o,isConnectedWallet:r,hasInitWalletInfo:t,computedNonsupportChain:i,computedQuoteIsBlackAddress:m,computedSwapOnOtherDapp:a,computedFormToTokenIsLeverageToken:c,toToken:l,disableConditions:u,hasToAmount:f,isInsufficientBalance:C,isBuy:k,isSell:T,computedQuoteIsNewAddress:v}=e;return[Wr({isBuy:k,computedIsLimitRegion:o,computedSwapOnOtherDapp:a}),Ar({isConnectedWallet:r,hasInitWalletInfo:t}),Nr({computedQuoteIsBlackAddress:m,isBuy:k,isLimit:!1}),Lr({computedQuoteIsNewAddress:v,isBuy:k,isLimit:!1}),wr({computedNonsupportChain:i}),Pr({computedFormToTokenIsLeverageToken:c,isBuy:k}),Dr({isBuy:k,toToken:l}),kt({computedSwapOnOtherDapp:a}),Br({isBuy:k,disableConditions:u,hasToAmount:f,computedIsStrategyValid:!0}),Vr({isSell:T,disableConditions:u,hasToAmount:f}),Fr({isInsufficientBalance:C}),Ur({isBuy:k,hasToAmount:f}),Or({isSell:T,hasToAmount:f})]};n();s();function $e(){let{buyStore:e,sellStore:o,configStore:r}=S(),{computedIsSell:t}=r;return t?o.computedSellNumber:e.computedBuyNumber}n();s();Ye();function Qr(){let e=$e(),{fromToken:o}=je();return!ko(o.amountNum)&&new B.BigNumber(e).gt(o.amountNum)}function Yr(){let{quoteStore:e,configStore:o,accountStore:r,buyStore:t,sellStore:i}=S(),{computedNonsupportChain:m,isConnectedWallet:a,hasInitWalletInfo:c}=r,{computedIsBuy:l,computedIsSell:u}=o,f=u?i.fromToken:t.fromToken,C=u?i.toToken:t.toToken,k=$e(),T=Qr(),{computedCustomQuoteLoading:v,computedQuoteIsInvalid:I,computedSwapOnOtherDapp:h,computedToTokenAmount:M,computedGetQuoteFromAmount:y,computedQuoteIsBlackAddress:E,computedQuoteIsNewAddress:b}=e,{computedIsLimitRegion:N}=ye,D=(0,xe.useMemo)(()=>ro(M),[M]),G=(0,xe.useMemo)(()=>!new B.BigNumber(k).lte(0),[k]),j=(0,xe.useMemo)(()=>new B.BigNumber(k).eq(y),[k,y]),Ie=(0,xe.useMemo)(()=>[!G,v,!!I,!j],[G,v,I,j]),X=(0,xe.useMemo)(()=>{let ge=lt(f),eo=lt(C);return ge||eo},[f,C]),R=(0,xe.useMemo)(()=>Gr({computedIsLimitRegion:N,isConnectedWallet:a,hasInitWalletInfo:c,computedNonsupportChain:m,computedQuoteIsBlackAddress:E,computedSwapOnOtherDapp:h,computedQuoteIsNewAddress:b,computedFormToTokenIsLeverageToken:X,toToken:C,disableConditions:Ie,hasToAmount:D,isInsufficientBalance:T,isBuy:l,isSell:u}),[N,a,c,m,E,b,h,X,C,l,u,Ie,D,T]);return(0,xe.useMemo)(()=>Mr(R,l?"BUY_ACTIVE":"SELL_ACTIVE"),[R,l])}n();s();var en=_(x());n();s();var No=_(x());function qr(e){let[o,r]=(0,No.useState)(!1);return{runPreconditions:(0,No.useCallback)(async i=>{r(!0);try{await e.reduce(async(m,a)=>{let c=await m;return a(c)},Promise.resolve(i))}finally{r(!1)}},[e]),loading:o}}n();s();var Po=_(x());n();s();function Rr(){let{currentPreset:e}=le();return e?.slippage?.mode===$.DYNAMIC?e?.slippage?.dynamicSlippage:e?.slippage?.value}function jr(){let{currentPreset:e}=le();return e?.slippage?.mode===$.DYNAMIC?ct.AUTO:ct.CUSTOM}function Lo(){let{currentPreset:e}=le();return e?.slippage?.mode===$.FIXED?"":e?.slippage?.supportCustomMax?e?.slippage?.customMax:""}function Xr(){let{quoteStore:e,accountStore:o}=S(),{currentPreset:r}=le(),{priorityFee:t,slippage:i,priorityMode:m,manualType:a}=r,{computedGetRouterList:c,computedGetEstimateGasFee:l,computedGetQuoteFrom:u,computedGetQuoteTo:f,computedGetQuoteFromAmount:C,computedGetQuoteToAmount:k,computedQuoteTraceData:T,computedServiceFeeInfo:v,jitoIsSuccess:I,computedAutoSlippage:h,mevUnstableShowLevel:M}=e,y=Zt({priorityMode:m,manualType:a,jitoIsSuccess:I,mevUnstableShowLevel:M}),E=Jt(y),{formatPriorityFee:b}=xr({priorityFee:t,isEnableMev:E}),N=Lo(),D=o.getAddressByChainId(u.chainId),{computedSignWalletAddress:G}=o,j=(0,Po.useMemo)(()=>{let X={dexRouterList:c,priorityFee:b?.value,autoSlippageInfo:{autoSlippage:N?B.min(h,N):h},customSlippage:i?.mode===$.FIXED?i?.value:"",maxSlippage:i?.mode===$.DYNAMIC?N:"",estimateGasFee:l,chainId:u.chainId,fromTokenAddress:u.tokenContractAddress,fromAmount:C,toTokenAddress:f.tokenContractAddress,toAmount:k,userWalletAddress:D,enableJito:E,customPriorityFee:b?.type==="custom",serviceFeeInfo:v,referralCommissionJsVersion:$t};return E&&(X.mevInfo="jito"),X},[c,h,N,b?.value,b?.type,i?.value,i?.mode,l,u.chainId,u.tokenContractAddress,C,f.tokenContractAddress,k,D,E,v]);return(0,Po.useCallback)(async()=>{W.info(q.MEME_SWAP_GET_CALLDATA_PARAMS,{data:j,preset:r});let X=await Ht({serviceFeeInfo:j.serviceFeeInfo,address:G,chainId:j.chainId}),[R,J]=await So(cr({...j,serviceFeeInfo:X}));if(R||!J.data?.unsignedTx)throw ne.error({title:R?.error_message||g("swaptrade_home_toast_initiation_error"),placement:ne.DIRECTION.top}),W.error(q.MEME_SWAP_GET_CALLDATA_ERROR,{error:R,params:j,res:J}),new Error(R?.error_message);return{unsignedTx:J.data.unsignedTx,calldataParams:{...j,traceData:T},originData:J.data}},[T,j])}n();s();var Hr=_(x());Ye();n();s();var zr=_(x());function $r(){let{memeSwapStore:e,accountStore:o}=S();console.log("accountStore",o.computedAccountId);let{getJitoTxData:r}=e;return{onSolanaSign:(0,zr.useCallback)(async i=>{try{let m=await r(i);W.info(q.MEME_SWAP_SIGN_PARAMS,{data:{...i,unsignedTxArray:m}});let a=await Xt({...i,walletId:o.computedAccountId},m);return W.info(q.MEME_SWAP_SIGN_SUCCESS,{data:{...i,unsignedTxArray:m,signedTransactions:a},tags:{txhash:(i?.transactionHash||[]).join(",")}}),{signedTransactions:a,txArray:m}}catch(m){throw m?.message!=="Expected String"&&!Kt(m)&&ne.error({title:g("swaptrade_home_toast_initiation_error"),placement:ne.DIRECTION.top}),W.error(q.MEME_SWAP_SIGN_ERROR,{error:m,data:i}),new Error(m?.error_message)}},[o.computedAccountId,r])}}function Kr(){let{memeSwapStore:e,configStore:o}=S(),{onSolanaSign:r}=$r(),{walletId:t}=Ee();return(0,Hr.useCallback)(async(m={})=>{let{signedTransactions:a,txArray:c}=await r(m),l=await e.onSolanaSwap({data:{walletId:t,...m},signedTransactions:a,txArray:c}),u=te(o,"computedNativeTokenInfo.tokenContractAddress"),{calldataParams:f}=m,{fromAmount:C,fromTokenAddress:k}=f||{};return k===u&&H.set(no,C),{...m,broadcastRes:l}},[e,r,t,o])}n();s();var St=_(x());Ye();function Zr(){let{quoteStore:e,accountStore:o,memeSwapStore:r}=S(),{chainId:t}=Ee(),{computedGetQuoteFrom:i}=e,{usePreExecuteFn:m}=rt.hooks,{TxToastCheckTypeEnum:a}=rt.global,c=m(),l=i.isNativeToken?"":i.tokenContractAddress,u=o.getAddressByChainId(i.chainId),{computedSignWalletAddress:f,computedAccountId:C}=o,k=Cr(i.chainId,l),T=r.getSolanaUnsignedTx,v=(0,St.useCallback)(h=>{let M=T(h);return{checkTypes:[a.TX_ANALYZE],from:u,chainId:i.chainId,coinId:k?.coinId,simulateTransactionParamList:M.map(y=>({transaction:y.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[T,a.TX_ANALYZE,k?.coinId,i.chainId,u]);return(0,St.useCallback)(async(h={})=>{let M=v(h);W.info(q.MEME_SWAP_PRE_EXECUTE_PARAMS,{data:{executeParams:M,data:h}});let[y,E]=await So(c(M));if(y)throw ne.error({title:y?.error_message||g("swaptrade_home_toast_initiation_error"),placement:ne.DIRECTION.top}),W.error(q.MEME_SWAP_PRE_EXECUTE_ERR,{data:{error:y,executeParams:M,data:h}}),new Error(y?.error_message);let b=te(E,`${a.TX_ANALYZE}`,{});if(!b.result){let D=b.msg||te(Lt(b.simulateTransactionResultList,G=>!Pt(G.msg)),"msg",g("swaptrade_home_toast_initiation_error"));throw ne.error({title:D,placement:ne.DIRECTION.top}),W.error(q.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{res:E,error:b,...h,executeParams:M}}),new Error(D)}W.info(q.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{res:E,...h,executeParams:M}});let N={callData:{data:M.simulateTransactionParamList?.[0]?.transaction},hasReferralCommission:h.originData?.hasReferralCommission};return r.checkCallData({chainId:+t,responseData:N,requestParams:M,accountId:C,signWalletAddress:f}),h},[c,v,a.TX_ANALYZE,t,f,C,r.checkCallData])}n();s();var so=_(x());function Jr(){let e=Xe(qt),{quoteStore:o,commonStore:r}=S(),{computedValueDifference:t,quoteDiffValThreshold:i,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}=o;return(0,so.useCallback)(()=>{let{showValueDiffDialog:u,diffPercent:f,diffValueType:C,diffVal:k}=t,T=r.currencyConversion(k.replace("-","")||"0"),v=or(f,T,r.computedNowCurrencySymbol);return u?new Promise((I,h)=>{let M=to.tip({infoType:to.Tip.INFO_TYPE.default,title:so.default.createElement(ar,{loseDiffValueTxt:v,isUp:C==="up"}),children:so.default.createElement("p",null,g("swaptrade_valuediff_select_desc_low_liquidity_low_value")),confirmText:g("swaptrade_confirmation_btn_continue_swap"),cancelText:g("commonall_text_btn_cancel"),onConfirm:()=>{M.destroy(),e({popup_type:"valuedifference",receive_value:t.receive,paid_value:t.pay,value_diff:t.quoteDiffPercentThreshold}),W.info(q.SWAP_PRECHECK_PROMPT,{data:{errorType:"valuedifference",...t,quoteDiffValThreshold:i,quoteDiffPercentThreshold:m,computedFromTokenValue:a,computedToTokenValue:c}}),I(!0)},onClose:()=>{h(new Error("Value diff prompt closed"))},onCancel:()=>{h(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)},[t])}function on(){let e=mr(),o=Jr(),r=Xr(),t=Zr(),i=Kr(),{memeSwapStore:m}=S(),{runPreconditions:a,loading:c}=qr([e,o,r,t,i]),{setIsSwapLoading:l}=m;return(0,en.useEffect)(()=>{l(c)},[l,c]),{onSwap:a,loading:c}}n();s();var tn=_(x());function rn(){let{buyStore:e,sellStore:o,configStore:r,quoteStore:t,commonStore:i}=S(),{currentMode:m}=r;return(0,tn.useMemo)(()=>{let a=m==="buy"?e.buyValue.value:o.sellValue.value;if(ro(t.computedToTokenAmount)&&ro(a)){let c=Ce(t.computedToTokenAmount,{needBillionMillionUnit:!0,useScientificNotation:!0});return{price:Co(i.currencyConversion(t.computedToTokenValue).toString(),i.computedNowCurrencySymbol,{needPlaceholder:!0}),amount:c}}return{price:"",amount:""}},[e.buyValue?.value,i,m,t.computedToTokenAmount,t.computedToTokenValue,o.sellValue?.value])}function Rm(){let e=Xe(),o=Yr(),{fromToken:r}=je(),{amount:t,price:i}=rn(),{onSwap:m}=on(),{sellStore:a,buyStore:c,commonStore:{setAddFundsVisible:l},configStore:u}=S(),f=(0,ht.useCallback)(()=>{let k=u.computedIsBuy?"BUY_DISABLED":"SELL_DISABLED",T=u.computedIsBuy?c.computedBuyTokenSymbol:a.computedSellTokenSymbol;return g(Ne[k],{symbol:T})},[u.computedIsBuy,c.computedBuyTokenSymbol,a.computedSellTokenSymbol]);return(0,ht.useCallback)(()=>({["LIMIT_REGION"]:{disabled:!0,btnTxt:f,onClick:()=>{},btnType:"LIMIT_REGION"},["BUY_ACTIVE"]:{disabled:!1,btnTxt:()=>g(Ne["BUY_ACTIVE"],{amt:t,token:at(te(c,"toToken.tokenSymbol")),price:i}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"BUY_ACTIVE"},["SELL_ACTIVE"]:{disabled:!1,btnTxt:()=>g(Ne["SELL_ACTIVE"],{amt:t,token:at(te(a,"toToken.tokenSymbol")),price:i}),onClick:()=>{m(),e({button_name:"confirm"})},btnType:"SELL_ACTIVE"},["BUY_DISABLED"]:{disabled:!0,btnTxt:()=>g(Ne["BUY_DISABLED"],{symbol:c.computedBuyTokenSymbol}),onClick:()=>{},btnType:"BUY_DISABLED"},["SELL_DISABLED"]:{disabled:!0,btnTxt:()=>g(Ne["SELL_DISABLED"],{symbol:a.computedSellTokenSymbol}),onClick:()=>{},btnType:"SELL_DISABLED"},["FILL_UP"]:{disabled:!1,btnTxt:()=>g(Ne["FILL_UP"],{token:r.symbol}),onClick:()=>{l(!0)},btnType:"FILL_UP"}}),[t,c,r.symbol,e,m,i,a,l,f])()[o]||{disabled:!0,btnTxt:()=>f(),onClick:()=>{}}}n();s();var Tt=_(x()),yt=_(Q());n();s();var Ct={root:"_root_1hcsq_1",error:"_error_1hcsq_10",skeleton:"_skeleton_1hcsq_13"};var sa=({className:e,loading:o,amount:r,currency:t})=>{let m=r&&t?Ce(r,{needBillionMillionUnit:!1}):"--";return Tt.default.createElement(L,{loading:o,height:16,className:(0,yt.default)(e,Ct.skeleton)},Tt.default.createElement("div",{className:(0,yt.default)(e,Ct.root)},g("swaptrade_trade_title_balance_amt",{num:m,symbol:t})))};n();s();var sn=_(x()),Vo=_(Me());n();s();var Do=_(x()),Bo=_(Q());n();s();var io={root:"_root_1r990_1",item:"_item_1r990_8",active:"_active_1r990_23",skeleton:"_skeleton_1r990_27"};var nn=({className:e="",loading:o,tabList:r})=>Do.default.createElement(L,{loading:o,height:32,className:(0,Bo.default)(e,io.skeleton)},Do.default.createElement("div",{className:(0,Bo.default)(e,io.root)},r.map(t=>Do.default.createElement(V,{key:t.name,className:(0,Bo.default)(io.item,t.active&&io.active),onClick:t.onClick},t.name))));var Aa=F(({className:e="",loading:o,mode:r})=>{let t=(0,Vo.useHistory)(),i=(0,Vo.useLocation)(),{search:m,pathname:a}=i,c=z(Ut),l=z(Ft),{buyStore:u,sellStore:f}=S(),C=[{name:g("swaptrade_market_item_buy"),active:r==="buy",onClick:()=>{a!==c&&(u.setToToken({}),H.set(nt,st.MEME_BUY),t.replace(c+ft(pt(dt(m)))))}},{name:g("swaptrade_market_tab_item_sell"),active:r==="sell",onClick:()=>{a!==l&&(f.setFromToken({}),H.set(nt,st.MEME_SELL),t.replace(l+ft(pt(dt(m)))))}}];return sn.default.createElement(nn,{className:e,loading:o,tabList:C})});n();s();var He=_(x()),mn=_(Q());n();s();var Et={root:"_root_14kir_1","root-tg":"_root-tg_14kir_10",rootTg:"_root-tg_14kir_10"};var Ga=({children:e})=>{let o=Gt(),r=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[t,i]=(0,He.useState)(r()),m=()=>{i(r())};return(0,He.useEffect)(()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}),[]),He.default.createElement("div",{className:(0,mn.default)(Et.root,{[Et.rootTg]:o}),style:{width:t}},e)};n();s();var Ke=_(x());n();s();n();s();var ao=_(x()),un=_(Q());n();s();var Le=_(x());n();s();var mo={root:"_root_1d8gy_1",select:"_select_1d8gy_11",body:"_body_1d8gy_14",item:"_item_1d8gy_18",name:"_name_1d8gy_35",check:"_check_1d8gy_44"};var Yn=({name:e,onClick:o,checked:r})=>Le.default.createElement(V,{className:mo.item,onClick:o},Le.default.createElement("span",{className:mo.name},e),r?Le.default.createElement(wt.Circle,{checked:!0,className:mo.check}):null),qn=({visible:e,setVisible:o})=>{let{isSm:r}=yo(),{sellStore:t}=S(),{fromToken:i,setSellValue:m,sellValue:a,isPercentMode:c,setIsPercentMode:l}=t,u=[{key:"percent-mode",name:g("swaptrade_meme_order_option_percentage"),onClick:()=>{m({value:"",type:"custom"}),l(!0),o(!1)},checked:a.type==="custom"&&c},{key:"number-mode",name:i?.tokenSymbol||"",onClick:()=>{m({value:"",type:"custom"}),l(!1),o(!1)},checked:a.type==="custom"&&!c}];return Le.default.createElement(to.Action,{onClose:()=>{o(!1)},visible:e,windowStyle:{borderTopLeftRadius:r?16:6,borderTopRightRadius:r?16:6},hideCloseBtn:r},Le.default.createElement("div",{className:mo.body},u.map(f=>Le.default.createElement(Yn,{key:f.key,...f}))))},an=F(qn);n();s();var Pe={"input-container":"_input-container_fyhvp_1",inputContainer:"_input-container_fyhvp_1",suffix:"_suffix_fyhvp_4","mode-text":"_mode-text_fyhvp_7",modeText:"_mode-text_fyhvp_7"};n();s();var Y=_(x()),we=_(Q());Ye();var cn=()=>{let{buyStore:e,sellStore:o,configStore:r}=S(),{currentMode:t}=r,{buyValue:i,setBuyValue:m,toToken:a}=e,{sellValue:c,setSellValue:l,fromToken:u,isPercentMode:f}=o,[C,k,T]=(0,Y.useMemo)(()=>t==="buy"?[i.value,m,i.type]:[c.value,l,c.type],[t,i,m,c,l]),v=G=>{t==="sell"&&c.type==="custom"&&f&&B.gt(G,100)||(k({value:G,type:"custom",index:3}),W.info(q.MEME_SWAP_AMOUNT_INPUT,{data:{value:G,type:"custom",index:3,currentMode:t}}))},[,I]=(0,Y.useTransition)(),h=G=>{I(()=>{!ko(G)&&v(G)})},[M,y]=(0,Y.useState)(!1),[E,b]=(0,Y.useMemo)(()=>t==="buy"?[null,Math.min(mt,Number(a?.decimals))]:c.type==="custom"&&f?[Y.default.createElement("div",{key:"meme-swap-percentage-suffix",className:(0,we.default)("flex items-center",Pe.suffix)},Y.default.createElement("span",{className:(0,we.default)(Pe.modeText)},g("swaptrade_meme_order_option_percentage")),Y.default.createElement(V,{onClick:()=>y(!0)},Y.default.createElement(O,{className:(0,we.default)("okx-defi-dex-market-sort-down","content-primary"),style:{fontSize:12,cursor:"pointer"}}))),2]:[Y.default.createElement("div",{key:"meme-swap-default-suffix",className:(0,we.default)("flex items-center",Pe.suffix)},Y.default.createElement("span",{className:(0,we.default)(Pe.modeText)},u?.tokenSymbol||""),Y.default.createElement(V,{onClick:()=>y(!0)},Y.default.createElement(O,{className:(0,we.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"}}))),Math.min(mt,Number(u?.decimals)),Number.MAX_SAFE_INTEGER],[t,c.type,u,a,f]),[N,D]=(0,Y.useState)(null);return(0,Y.useEffect)(()=>{Nt(te(N,"focus"))&&N.focus()},[c.type,N]),{setInputRef:D,suffix:E,precision:b,inputModeSwitchVisible:M,setVisible:y,changeHandle:h,value:C,valueType:T}};var ln=F(()=>{let{setInputRef:e,suffix:o,precision:r,inputModeSwitchVisible:t,setVisible:i,changeHandle:m,value:a}=cn();return ao.default.createElement(ao.default.Fragment,null,ao.default.createElement(et.Number,{size:et.SIZE.xl,onRef:c=>{e(c)},useReactTransition:!0,className:(0,un.default)(Pe.inputContainer),value:a,inputMode:"decimal",autoComplete:"off",spellCheck:"false",onChange:m,suffix:o,precision:r,enableMinus:!1,min:0}),ao.default.createElement(an,{visible:t,setVisible:i}))});var pn=ln;n();s();var Be=_(x()),fn=_(Q());n();s();var xt=_(x()),bt=_(Q());n();s();var De={select:"_select_gn7fy_1",skeleton:"_skeleton_gn7fy_5","select-item":"_select-item_gn7fy_9",selectItem:"_select-item_gn7fy_9",item:"_item_gn7fy_9",selected:"_selected_gn7fy_26"};function dn({loading:e,item:o,handleClick:r,selected:t}){return xt.default.createElement(L,{loading:e,height:88,className:(0,bt.default)(De.skeleton)},xt.default.createElement(V,{className:(0,bt.default)(De.selectItem,De.item,{[De.selected]:t}),onClick:()=>{r(o)}},o.label))}var Rn=({hideCustom:e})=>{let{configStore:o,buyStore:r,sellStore:t,quoteStore:i}=S(),{initLoading:m,currentMode:a}=o,{buyValue:c,setBuyValue:l,currentBuyPreset:u}=r,{sellValue:f,setSellValue:C,currentSellPreset:k}=t,[T,v]=(0,Be.useMemo)(()=>a==="sell"?[f,C]:[c,l],[a,c,l,f,C]),I=(0,Be.useMemo)(()=>{if(m){let N=[{label:"",key:"meme_custom1"},{label:"",key:"meme_custom2"},{label:"",key:"meme_custom3"}];return e||N.push({label:"",key:"meme_custom4"}),N}if(!u||!k)return[];let{amountList:y=[]}=u,{amountList:E=[]}=k,b=a==="sell"?E.map((N,D)=>({value:N,key:`meme_select${D+1}`,label:tt.percent(Number(N)*100),type:"select",index:D})):y.map((N,D)=>({value:N,label:tt.formatNumber(N),key:`meme_select${D+1}`,type:"select",index:D}));return e||b.push({value:"",key:"custom",label:g("swaptrade_dialog_modal_custom"),type:"custom",index:3}),b},[a,u,k,m,e]),h=y=>{if(a==="buy"&&T.type==="custom"&&y.type!=="custom"&&H.set(no,""),a==="buy"&&!y?.value){let E=H.get(no)||"",b="";Wt(E)?b="":b=new B.BigNumber(E).toString(10),v({value:b,type:"custom",index:3});return}if(a==="sell"&&!y?.value){v({value:"",type:"custom",index:3});return}v({value:y.value,type:"select",index:y.index}),W.info(q.MEME_SWAP_AMOUNT_SELECT,{data:{type:"select",item:y,currentMode:a}})},M=(0,Be.useMemo)(()=>T.type==="custom"?I.findIndex(y=>y.type==="custom"):I.findIndex((y,E)=>E===T.index),[I,T]);return Be.default.createElement("div",{className:(0,fn.default)("flex items-center justify-between",De.select)},I.map((y,E)=>Be.default.createElement(dn,{key:E,loading:i?.initLoading,item:y,handleClick:h,selected:E===M})))},_n=F(Rn);var jn=F(({className:e,hideCustom:o})=>{let{buyStore:r,sellStore:t,configStore:i}=S(),{buyValue:m}=r,{sellValue:a}=t,{initLoading:c,currentMode:l}=i,u=(0,Ke.useMemo)(()=>l==="buy"?m.type==="custom":a.type!=="select",[l,m,a]);return Ke.default.createElement("div",{className:e},Ke.default.createElement(_n,{hideCustom:o}),!c&&u&&Ke.default.createElement(pn,null))}),du=jn;n();s();var vt=_(x());n();s();var A=_(x()),kn=_(Me()),re=_(Q());n();s();var Fo=_(x());var Xn=({disclaimerVisible:e,isNotLimitRegion:o})=>{let[r,t]=(0,Fo.useState)(!1);return(0,Fo.useEffect)(()=>{H.get(Re)||t(!e&&o)},[e,o]),{showCoach:r,setShowCoach:t}},Uo=Xn;n();s();var gn=_(x());function Oo(e,o="--"){let{commonStore:r}=S(),t=r?.currencyConversion,i=r?.computedNowCurrencySymbol;return(0,gn.useMemo)(()=>{if(!e&&e!==0&&e!=="0")return o;let m=Number(e);return Number.isNaN(m)?String(e):Co(t(e).toString(),i,{needPlaceholder:!0,needK:!1})},[e,o,t,i])}n();s();var K={"go-icon":"_go-icon_1rnk1_1",goIcon:"_go-icon_1rnk1_1","preset-title":"_preset-title_1rnk1_4",presetTitle:"_preset-title_1rnk1_4","config-title":"_config-title_1rnk1_5",configTitle:"_config-title_1rnk1_5","preset-container":"_preset-container_1rnk1_17",presetContainer:"_preset-container_1rnk1_17","config-container":"_config-container_1rnk1_18",configContainer:"_config-container_1rnk1_18","preset-name":"_preset-name_1rnk1_21",presetName:"_preset-name_1rnk1_21",config:"_config_1rnk1_5",divide:"_divide_1rnk1_34","err-text":"_err-text_1rnk1_41",errText:"_err-text_1rnk1_41",green:"_green_1rnk1_47",yellow:"_yellow_1rnk1_50",red:"_red_1rnk1_53"};var Hn=({initLoading:e,configClick:o,presetClick:r,className:t})=>{let{configStore:i,quoteStore:m,commonStore:a}=S(),{totalFeeUSD:c}=Ao(),{jitoIsSuccess:l,computedQuoteSafemoon:u,computedAutoSlippage:f,mevUnstableShowLevel:C,computedQuoteCompleted:k}=m,{currentMode:T,tradeScene:v}=i,{currentPresetId:I,currentPresetList:h,setCurrentPresetId:M}=br(),{currentPreset:y}=le(),{slippage:E,priorityMode:b,manualType:N}=y,D=(0,A.useMemo)(()=>{let w=h.filter(Jo=>Jo.id.includes(To)),Qe=h.find(Jo=>Jo.id===I),Qn=Qe?.id?.includes(To);return Qe&&!Qn?[...w,Qe].slice(0,3):h.slice(0,3)},[h,I]),G=(0,kn.useHistory)(),j=()=>{if(o)o();else{let w=`${z(he)}?tab=${T}`;G.push(w)}},Ie=()=>{if(r)r();else{let w=`${z(ho)}?tab=${T}`;G.push(w)}},X=w=>{M(w.id)},R=vo({priorityMode:b,manualType:N,jitoIsSuccess:l,mevUnstableShowLevel:C,computedQuoteCompleted:k}),J=Io({quoteSafemoon:u,auto:f,slippage:E}),ge=J?.tips?J:null,eo=(0,A.useMemo)(()=>{let w=Qe=>Qe?`${Ae(Eo(Qe),{needZero:!1})}`:"--";return E?.mode===$.FIXED?w(E?.value):E?.mode===$.DYNAMIC?E?.customMax?w(B.min(E?.customMax||0,f||0)):w(f):"--"},[f,E?.customMax,E?.mode,E?.value]),$o=(0,A.useMemo)(()=>{let w=v===0&&u;return E?.mode===$.DYNAMIC&&E?.customMax&&(w=B.lt(E?.customMax,f)),w?"yellow":"default"},[u,f,E?.customMax,E?.mode,v]),Ho=Oo(c),{disclaimerVisible:po}=a,{computedIsNotLimitRegion:fo}=ye,{showCoach:Ko,setShowCoach:Zo}=Uo({disclaimerVisible:po,isNotLimitRegion:fo}),_o=(0,A.useRef)(null),go=(0,A.useRef)(null),ee=(0,A.useMemo)(()=>[{target:()=>_o.current,title:g("swaptrade_meme_coachmrk_title_trading_presets"),placement:ke.DIRECTION.top,description:g("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>go.current,title:g("swaptrade_meme_coachmrk_title_trading_presets"),placement:ke.DIRECTION.top,description:g("swaptrade_meme_coachmrk_desc_show_presets")}],[]);return A.default.createElement("div",{className:t},A.default.createElement(L,{loading:e,height:16,className:"mb-24"},A.default.createElement("div",{className:(0,re.default)("flex items-center justify-between",K.preset)},A.default.createElement("span",{className:(0,re.default)(K.presetTitle)},g("swaptrade_meme_regularcell_label_preset")),A.default.createElement("div",{className:(0,re.default)("flex items-center",K.presetContainer),ref:_o},A.default.createElement(qe,{style:{marginRight:"8px"},size:qe.SIZE.xs,category:qe.CATEGORY.fill,type:qe.NEW_TYPE.primary,hideContent:!0,activeId:I},D.map(w=>A.default.createElement(qe.TabPane,{key:w.id,onClick:()=>{X(w)},tab:w.id===`${To}2`?A.default.createElement("div",{className:"flex items-center"},A.default.createElement(O,{className:(0,re.default)(w.id===I?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:16,marginRight:"4px"},a11yText:"meme-mode-icon"}),A.default.createElement("span",{className:K.presetName},w.name)):A.default.createElement("span",{className:K.presetName},w.name),id:w.id}))),A.default.createElement(O,{className:(0,re.default)("okx-defi-marketplace-chevron-right"),style:{fontSize:16,cursor:"pointer"},onClick:Ie,a11yText:"dropdown"})))),A.default.createElement(L,{loading:e,height:16,className:(0,re.default)("mb-24")},A.default.createElement("div",{className:(0,re.default)("flex items-center justify-between",K.config)},A.default.createElement("span",{className:(0,re.default)(K.configTitle)},g("swaptrade_swap_button_setting")),A.default.createElement(V,{className:(0,re.default)("flex items-center",K.configContainer),onClick:j,ref:go},A.default.createElement(Te,{icon:"okx-defi-dex-slippage",text:eo,status:$o}),A.default.createElement("div",{className:K.divide}),A.default.createElement(Te,{icon:"okx-defi-dex-fee",text:Ho}),v===0&&A.default.createElement(A.default.Fragment,null,A.default.createElement("div",{className:K.divide}),A.default.createElement(Te,{text:R.text,icon:R.icon,status:R.status,tooltipText:R.tips,showWarningIcon:R.showWarningIcon})),A.default.createElement(O,{className:(0,re.default)("okx-defi-marketplace-chevron-right",K.goIcon),style:{fontSize:16},a11yText:"config-item"}))),ge&&A.default.createElement("div",{className:(0,re.default)(K.errText,K[ge.tipsStatus||ge.status])},ge.tips),A.default.createElement(ke.Tour,{show:Ko,finishText:g("commonall_button_text_done"),onClose:()=>{Zo(!1),H.set(Re,"1")},steps:ee})))},Sn=F(Hn);n();s();var P=_(x()),hn=_(Me()),ie=_(Q());n();s();var se={"preset-name":"_preset-name_16uhg_1",presetName:"_preset-name_16uhg_1","custom-name":"_custom-name_16uhg_11",customName:"_custom-name_16uhg_11","preset-icon":"_preset-icon_16uhg_14",presetIcon:"_preset-icon_16uhg_14","go-icon":"_go-icon_16uhg_17",goIcon:"_go-icon_16uhg_17","preset-container":"_preset-container_16uhg_20",presetContainer:"_preset-container_16uhg_20","chain-logo":"_chain-logo_16uhg_28",chainLogo:"_chain-logo_16uhg_28","config-container":"_config-container_16uhg_31",configContainer:"_config-container_16uhg_31",divide:"_divide_16uhg_35","err-text":"_err-text_16uhg_41",errText:"_err-text_16uhg_41","mev-text":"_mev-text_16uhg_48",mevText:"_mev-text_16uhg_48"};var Kn=({initLoading:e,configClick:o,presetClick:r,className:t})=>{let{configStore:i,quoteStore:m,commonStore:a}=S(),{jitoIsSuccess:c,computedQuoteSafemoon:l,computedAutoSlippage:u,mevUnstableShowLevel:f,computedQuoteCompleted:C}=m,{totalFeeUSD:k}=Ao(),{computedConfig:T,currentMode:v,tradeScene:I}=i,M=T?.nativeTokenInfo?.chainLogoUrl,{currentPreset:y}=le(),{name:E,slippage:b,priorityMode:N,manualType:D}=y,G=(0,hn.useHistory)(),j=()=>{if(o)o();else{let ee=`${z(he)}?tab=${v}`;G.push(ee)}},Ie=()=>{if(r)r();else{let ee=`${z(ho)}?tab=${v}`;G.push(ee)}},X=vo({priorityMode:N,manualType:D,jitoIsSuccess:c,mevUnstableShowLevel:f,computedQuoteCompleted:C}),R=Io({quoteSafemoon:l,auto:u,slippage:b}),J=R?.tips?R:null,{disclaimerVisible:ge}=a,{computedIsNotLimitRegion:eo}=ye,{showCoach:$o,setShowCoach:Ho}=Uo({disclaimerVisible:ge,isNotLimitRegion:eo}),po=(0,P.useRef)(null),fo=(0,P.useRef)(null),Ko=(0,P.useMemo)(()=>[{target:()=>po.current,title:g("swaptrade_meme_coachmrk_title_trading_presets"),placement:ke.DIRECTION.bottom,description:g("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>fo.current,title:g("swaptrade_meme_coachmrk_title_trading_presets"),placement:ke.DIRECTION.bottom,description:g("swaptrade_meme_coachmrk_desc_show_presets")}],[]),Zo=(0,P.useMemo)(()=>{let ee=w=>w?`${Ae(Eo(w),{needZero:!1})}`:"--";return b?.mode===$.FIXED?ee(b?.value):b?.mode===$.DYNAMIC?b?.customMax?ee(B.min(b?.customMax||0,u||0).toString()):ee(u):"--"},[u,b?.customMax,b?.mode,b?.value]),_o=(0,P.useMemo)(()=>{let ee=I===0&&l;return b?.mode===$.DYNAMIC&&b?.customMax&&(ee=B.lt(b?.customMax,u)),ee?"yellow":"default"},[l,u,b?.customMax,b?.mode,I]),go=Oo(k);return P.default.createElement(L,{loading:e,height:16,className:(0,ie.default)(t)},P.default.createElement("div",{className:t},P.default.createElement("div",{className:(0,ie.default)("flex items-center justify-between")},P.default.createElement(V,{className:(0,ie.default)("flex items-center",se.presetContainer),onClick:Ie,ref:po},P.default.createElement(xo,{src:M,size:16,className:(0,ie.default)(se.chainLogo)}),P.default.createElement("span",{className:(0,ie.default)(se.presetName)},E),P.default.createElement(O,{className:(0,ie.default)("okx-defi-game-caretup",se.presetIcon),style:{fontSize:16},a11yText:"dropdown"})),P.default.createElement(V,{className:(0,ie.default)("flex items-center",se.configContainer),onClick:j,ref:fo},P.default.createElement("div",{className:(0,ie.default)("flex items-center flex-wrap justify-end")},P.default.createElement(Te,{icon:"okx-defi-dex-slippage",text:Zo,status:_o}),P.default.createElement("div",{className:se.divide}),P.default.createElement(Te,{icon:"okx-defi-dex-fee",text:go}),I===0&&P.default.createElement(P.default.Fragment,null,P.default.createElement("div",{className:se.divide}),P.default.createElement(Te,{text:X.text,icon:X.icon,status:X.status,tooltipText:X.tips,showWarningIcon:X.showWarningIcon}))),P.default.createElement(O,{className:(0,ie.default)("okx-defi-marketplace-chevron-right",se.goIcon),style:{fontSize:16},a11yText:"config-item"}))),J&&P.default.createElement("div",{className:(0,ie.default)(se.errText,se[J.tipsStatus||J.status])},J.tips),P.default.createElement(ke.Tour,{show:$o,finishText:g("commonall_button_text_done"),onClose:()=>{Ho(!1),H.set(Re,"1")},steps:Ko})))},Cn=F(Kn);var Zn=e=>{let{isSm:o}=yo();return o?vt.default.createElement(Cn,{...e}):vt.default.createElement(Sn,{...e})},wl=Zn;n();s();var Ve=_(x()),It=_(Q());n();s();var co={"btn-loading":"_btn-loading_wqqmp_1",btnLoading:"_btn-loading_wqqmp_1",btn:"_btn_wqqmp_1","btn-content":"_btn-content_wqqmp_8",btnContent:"_btn-content_wqqmp_8",flash:"_flash_wqqmp_11"};var zl=F(({loading:e,className:o,useMemeSwapBtnProps:r})=>{let{btnTxt:t,btnType:i,statusType:m,onClick:a,...c}=r(),l=["BUY_ACTIVE","SELL_ACTIVE"].includes(i),u=(0,Ve.useCallback)(()=>{setTimeout(()=>{a?.()})},[a]);return Ve.default.createElement(L,{height:40,loading:e,className:co.btnLoading},Ve.default.createElement(oo,{className:(0,It.default)(co.btn,o),contentClassName:co.btnContent,category:oo.CATEGORY.fill,type:oo.TYPE.primary,size:oo.SIZE.lg,block:!0,onClick:u,...c},l&&Ve.default.createElement(O,{className:(0,It.default)("okx-defi-dex-quick-filled",co.flash),style:{fontSize:16},a11yText:"flash"}),Ve.default.createElement("span",null,t?.())))});n();s();var me=_(x()),Go=_(Q());n();s();var Wo=_(x());function Tn({userUniqueId:e,computedAccountId:o,chainId:r,debouncedFetchPositionList:t,positionList:i,fromToken:m,setFromToken:a,toToken:c,setToToken:l}){let{configStore:u,accountStore:f}=S(),{currentMode:C}=u,k=vr(),T=(0,Wo.useMemo)(()=>!i||i?.length===0,[i]),v=h=>{if(C==="sell"?h?.tokenContractAddress!==m?.tokenContractAddress&&a(h):h?.tokenContractAddress!==c?.tokenContractAddress&&l(h),k(),Se()){let y=document.querySelector("#meme-swap-container");y&&y.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})},{loaded:I}=hr(f);return(0,Wo.useEffect)(()=>{if(!!I&&e&&o&&r){let h={chainId:r,accountId:o,userUniqueId:e},M=Sr.getMinAmountThresholdParam();M&&(h.minAmountThreshold=M),t(h)}},[r,o,e,I]),{isEmptyData:T,handleSelect:v}}n();s();var Mt=_(x()),En=_(Q());n();s();var yn={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var Jn=()=>{let e=()=>Mt.default.createElement(ot.State,{type:ot.State.TYPE.noResult,title:g("swaptrade_general_emptystate_no_assets")});return Mt.default.createElement("div",{className:(0,En.default)("flex justify-content-center align-items-center",yn.emptyContainer)},e())},xn=Jn;n();s();var Fe={"my-position":"_my-position_e4ojt_1",myPosition:"_my-position_e4ojt_1",line:"_line_e4ojt_4","title-part":"_title-part_e4ojt_9",titlePart:"_title-part_e4ojt_9",title:"_title_e4ojt_9","chain-logo":"_chain-logo_e4ojt_23",chainLogo:"_chain-logo_e4ojt_23",container:"_container_e4ojt_26"};var es=F(()=>{let{configStore:e,memePositionStore:o,accountStore:r,commonStore:t,buyStore:i,sellStore:m}=S(),{computedConfig:a}=e,c=a?.nativeTokenInfo,l=c?.chainLogoUrl,u=c?.chainId,{fetchPositionList:f,positionList:C,initState:k}=o,{computedAccountId:T}=r,{userUniqueId:v}=t,{setToToken:I,toToken:h}=i,{setFromToken:M,fromToken:y}=m,E=Tr(f,300),{isEmptyData:b,handleSelect:N}=Tn({userUniqueId:v,computedAccountId:T,chainId:u,debouncedFetchPositionList:E,positionList:C,setToToken:I,toToken:h,setFromToken:M,fromToken:y});if(!v)return null;let D=(0,me.useMemo)(()=>b?me.default.createElement(xn,null):me.default.createElement("div",{className:Fe.container},me.default.createElement(Ir,{key:u,isMyPosition:!0,normalList:C,selectToken:N})),[b,y?.tokenContractAddress,h?.tokenContractAddress,C]);return k&&me.default.createElement("div",{className:(0,Go.default)(Fe.myPosition)},me.default.createElement("div",{className:Fe.line}),me.default.createElement("div",{className:(0,Go.default)("flex items-center justify-between",Fe.titlePart)},me.default.createElement("span",{className:Fe.title},g("swaptrade_meme_order_title_my_positions")),me.default.createElement(xo,{src:l,size:24,className:(0,Go.default)(Fe.chainLogo)})),D)}),Dp=es;n();s();n();s();var Oe=_(x()),Qo=_(Q());n();s();var Ue={content:"_content_sj07h_1",left:"_left_sj07h_6",right:"_right_sj07h_13",skeleton:"_skeleton_sj07h_26","right-skeleton":"_right-skeleton_sj07h_30",rightSkeleton:"_right-skeleton_sj07h_30",border:"_border_sj07h_34"};var bn=({className:e="",rightLoading:o,initLoading:r,fee:t})=>{let{getUsd:i}=ze(S),m=i(t);return Oe.default.createElement(L,{loading:r,height:16,className:(0,Qo.default)(e,Ue.skeleton)},Oe.default.createElement("div",{className:(0,Qo.default)(e,Ue.content)},Oe.default.createElement("div",{className:Ue.left},g("swaptrade_order_info_label_network_fee")),Oe.default.createElement(L,{loading:o,height:16,className:Ue.rightSkeleton},Oe.default.createElement("div",{className:Ue.right},Oe.default.createElement("div",{className:(0,Qo.default)("ml-4","content-primary",Ue.rightText)},m)))))};n();s();var _e=_(x()),vn=_(Me()),uo=_(Q());n();s();var be={content:"_content_18lf9_1",left:"_left_18lf9_6",right:"_right_18lf9_13",skeleton:"_skeleton_18lf9_26","right-skeleton":"_right-skeleton_18lf9_30",rightSkeleton:"_right-skeleton_18lf9_30"};var In=({className:e="",rightLoading:o,initLoading:r,type:t="market",currency:i,amount:m,mode:a})=>{let c=(0,vn.useHistory)(),l={market:g("swaptrade_modal_dialog_option_market"),fast:g("swaptrade_modal_dialog_option_fast5x"),turbo:g("swaptrade_modal_dialog_option_turbo10x")},u=`${z(he)}?tab=${a}`,f=m&&i?`${Ce(m,{needBillionMillionUnit:!1})} ${i}`:"--";return _e.default.createElement(L,{loading:r,height:16,className:(0,uo.default)(e,be.skeleton)},_e.default.createElement("div",{className:(0,uo.default)(e,be.content)},_e.default.createElement("div",{className:be.left},g("swaptrade_modal_dialog_title_priority")),_e.default.createElement(L,{loading:o,height:16,className:be.rightSkeleton},_e.default.createElement(V,{className:be.right,onClick:()=>{c.push(u)}},t in l?_e.default.createElement(Vt,{size:Bt.SIZE.sm},l[t]):null,_e.default.createElement("div",{className:(0,uo.default)("ml-4","content-primary",be.rightText)},f),_e.default.createElement(O,{iconName:"okx-defi-dex-arrow-right-1",className:(0,uo.default)("ml-4","content-secondary",be.rightIcon)})))))};n();s();var ae=_(x()),qo=_(Q());n();s();var Yo=_(x());n();s();var Mn={"value-diff-percent":"_value-diff-percent_kz08o_1",valueDiffPercent:"_value-diff-percent_kz08o_1","base-up":"_base-up_kz08o_10",baseUp:"_base-up_kz08o_10","base-down":"_base-down_kz08o_13",baseDown:"_base-down_kz08o_13"};var An=({computedValueDifference:e,formattedFiatValue:o,crossValueDifferenceTooltipProps:r})=>{if(!o)return null;let{diffPercentWeakTip:t}=e,i=nr({specialValueRangePrompt:t,isOfflineType:!1,isReferredFee:!1});return Yo.default.createElement("div",{className:Mn.valueDiffPercent},Yo.default.createElement("span",null,`\u2248${o}`),Yo.default.createElement(rr,{isSwapChain:!0,valueDifference:e,swapChainValueDifferenceTooltip:i,crossValueDifferenceTooltipProps:r}))};n();s();var pe=_(x());var Nn=({stop:e})=>{let o=(0,pe.useRef)(null);(0,pe.useEffect)(()=>{o.current?.beginElement()},[]),(0,pe.useEffect)(()=>{e?o.current?.endElement():o.current?.beginElement()},[e]);let r=["rotate(","-90"," ","8"," ","8",")"].join("");return pe.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},pe.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),pe.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:r},pe.default.createElement("animate",{ref:o,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};n();s();var ve={content:"_content_1bbbw_1",left:"_left_1bbbw_6",right:"_right_1bbbw_13",skeleton:"_skeleton_1bbbw_26","right-skeleton":"_right-skeleton_1bbbw_30",rightSkeleton:"_right-skeleton_1bbbw_30",amount:"_amount_1bbbw_34","to-token":"_to-token_1bbbw_41",toToken:"_to-token_1bbbw_41"};var os=({className:e="",initLoading:o,rightLoading:r,circleLoading:t,tokenAmount:i,tokenSymbol:m})=>{let{quoteStore:a,commonStore:{currencyConversionWithSymbol:c}}=S(),{computedValueDifference:l,computedToTokenValue:u}=a,f=u?c(u,{needBillionMillionUnit:!1}):"";return ae.default.createElement(L,{loading:o,height:32,className:(0,qo.default)(e,ve.skeleton)},ae.default.createElement("div",{className:(0,qo.default)(e,ve.content)},ae.default.createElement("div",{className:ve.left},g("swaptrade_modal_label_quote")),ae.default.createElement(L,{loading:r,height:32,className:ve.rightSkeleton},ae.default.createElement("div",{className:ve.right},ae.default.createElement("div",{className:"flex items-center"},ae.default.createElement(Nn,{stop:t}),ae.default.createElement("div",{className:(0,qo.default)("ml-4 content-primary",ve.amount)},i?Ce(i,{needBillionMillionUnit:!1}):"--",ae.default.createElement("div",{className:ve.toToken},m))),ae.default.createElement(An,{formattedFiatValue:f,computedValueDifference:l})))))},Ln=F(os);n();s();var Z=_(x()),Ze=_(Q());n();s();var At=_(x()),wn=_(Q());n();s();var Pn={text:"_text_1p989_1"};var ts=({text:e,tooltip:o,toolTipsProps:r,onShowExplain:t})=>At.default.createElement(Dt,{title:o,...r},At.default.createElement("span",{onMouseEnter:t,className:(0,wn.default)(Pn.text)},e)),Dn=ts;n();s();var We=_(x());var Bn=(e,o,r,t)=>{let{fromToken:i,toToken:m}=o,a=(0,We.useRef)(""),c=(0,We.useRef)(""),l=(0,We.useRef)(""),u=(0,We.useRef)("");(0,We.useEffect)(()=>{let f=a.current,C=c.current,{tokenSymbol:k}=i||{},{tokenSymbol:T}=m||{},{serviceFeeUsd:v}=e.computedServiceFeeInfo||{},I=r?t:v,h=e.computedGetQuoteFromValue||e.computedFromTokenValue,M=v&&k&&T&&h,y=f!==v&&C!==h||l.current!==T||u.current!==k;M&&y&&(Yt({fee_shown:I,from_token_symbol:i.tokenSymbol,to_token_symbol:m.tokenSymbol,from_to_pair_symbol:`${i.tokenSymbol}:${m.tokenSymbol}`,input_amount_usd:h,source:Qt()?.source,terminal:Se()?ut.Plugin:ut.WEB,selected_chain_id:i.chainId,chain_name:i.chainName}),a.current=I,c.current=h,l.current=T,u.current=k)},[i,m,e.computedGetQuoteFrom,e.computedServiceFeeInfo,r,t,e])};n();s();var de={content:"_content_1bup3_1",left:"_left_1bup3_6",right:"_right_1bup3_13",skeleton:"_skeleton_1bup3_26","right-skeleton":"_right-skeleton_1bup3_30",rightSkeleton:"_right-skeleton_1bup3_30","service-fee":"_service-fee_1bup3_34",serviceFee:"_service-fee_1bup3_34","original-percent-right":"_original-percent-right_1bup3_41",originalPercentRight:"_original-percent-right_1bup3_41",icon:"_icon_1bup3_46",referralTag:"_referralTag_1bup3_49",referralArrow:"_referralArrow_1bup3_52"};var rs=({className:e="",initLoading:o,rightLoading:r,useBussinessStore:t,usePercentage:i,labelText:m="",unbindRefCode:a,onStopUseRefCode:c,referralMonitorParams:l})=>{let{getUsd:u}=ze(t),{quoteStore:f}=t(),{computedGetQuoteFrom:C,computedGetQuoteTo:k}=f,T=(0,Z.useMemo)(()=>({fromToken:C,toToken:k}),[C,k]),v=f.computedServiceFeeInfo||{},{isDisplayServiceFee:I,label:h,tooltip:M,discountedPercent:y,hasDiscount:E,originalPercent:b}=tr({...v,formatServiceFeeUsd:u});if(Bn(f,T,i,y),!I)return null;let N=!!a,D=N?V:"div";return Z.default.createElement(L,{loading:o,height:16,className:(0,Ze.default)(e,de.skeleton)},Z.default.createElement("div",{className:(0,Ze.default)(e,de.content)},Z.default.createElement("div",{className:(0,Ze.default)("flex",de.left)},Z.default.createElement(Dn,{tooltip:M,text:m||h})),Z.default.createElement(L,{loading:r,height:16,className:de.rightSkeleton},Z.default.createElement("div",{className:de.right},Z.default.createElement(D,{className:(0,Ze.default)("ml-4 content-primary",de.serviceFee),onClick:()=>{!N||kr({onStop:c,...l})}},N&&Z.default.createElement(gr,{className:de.referralTag,...l}),Z.default.createElement("span",null,y),E&&Z.default.createElement("span",{className:de.originalPercentRight},b),N&&Z.default.createElement(O,{iconName:(0,Ze.default)(de.referralArrow,"okx-defi-marketplace-chevron-right")}))))))},Vn=F(rs);n();s();var fe=_(x()),Fn=_(Me()),Je=_(Q());n();s();var ce={content:"_content_1897u_1",left:"_left_1897u_6",right:"_right_1897u_13",skeleton:"_skeleton_1897u_26","right-skeleton":"_right-skeleton_1897u_30",rightSkeleton:"_right-skeleton_1897u_30",warning:"_warning_1897u_34","warning-text":"_warning-text_1897u_37",warningText:"_warning-text_1897u_37"};var Un=({className:e="",initLoading:o,rightLoading:r,percent:t,isSafeMoonToken:i=0,tokenSymbol:m="",tokenTax:a="",mode:c})=>{let l=(0,Fn.useHistory)(),u=t?`${Ae(B.mul(t,100),{needZero:!1})}`:"--",f=i===1&&!r&&B.gt(a,0)&&B.lt(t,a),C=f?Ae(B.mul(a,100),{needZero:!1}):"--",k=`${z(he)}?tab=${c}`;return fe.default.createElement(L,{loading:o,height:16,className:(0,Je.default)(e,ce.skeleton)},fe.default.createElement("div",{className:(0,Je.default)(e,ce.root)},fe.default.createElement("div",{className:ce.content},fe.default.createElement("div",{className:ce.left},g("swaptrade_extension_header_title_slippage_tolerance")),fe.default.createElement(L,{loading:r,height:16,className:ce.rightSkeleton},fe.default.createElement(V,{className:ce.right,onClick:()=>{l.push(k)}},fe.default.createElement("div",{className:(0,Je.default)("content-primary",ce.rightText,{[ce.warning]:f})},u),fe.default.createElement(O,{iconName:"okx-defi-dex-arrow-right-1",className:(0,Je.default)("ml-4","content-secondary",ce.rightIcon)})))),f?fe.default.createElement("div",{className:(0,Je.default)("mt-16",ce.warningText)},g("swaptrade_modal_alert_error_trade_tax",{token:m,num:C})):null))};var Hf={PriorityFee:In,Quote:Ln,Slippage:Un,NetworkFee:bn,ServiceFeeInfo:Vn};n();s();var U=_(x()),On=_(Me()),lo=_(Q());n();s();var oe={root:"_root_sy5hk_1",chain:"_chain_sy5hk_9",content:"_content_sy5hk_13",symbol:"_symbol_sy5hk_18","token-select":"_token-select_sy5hk_34",tokenSelect:"_token-select_sy5hk_34",copy:"_copy_sy5hk_44",address:"_address_sy5hk_50",data:"_data_sy5hk_58",price:"_price_sy5hk_63",split:"_split_sy5hk_74",cap:"_cap_sy5hk_81",skeleton:"_skeleton_sy5hk_92","high-risk-token":"_high-risk-token_sy5hk_95",highRiskToken:"_high-risk-token_sy5hk_95"};function ns(e){let o=e,r=o.getBoundingClientRect().width,t=document.createRange();return t.setStart(o,0),t.setEnd(o,o.childNodes.length),t.getBoundingClientRect().width-r>1}var S_=({className:e="",loading:o,mode:r,item:t})=>{let i=(0,On.useHistory)(),{getUsd:m}=ze(S),a=`${z(Ot)}?tab=${r}`,c=t?.price?m(t?.price):"--",l=t?.marketCap?m(new B.BigNumber(t?.marketCap).toFixed(2)):"--",u=(0,U.useRef)(null),[f,C]=(0,U.useState)(!1);(0,U.useEffect)(()=>{!f&&l&&u.current&&ns(u.current)&&C(!0)},[f,l,u.current]);let k={display:f?"block":"flex"},T={marginTop:f?"4px":"0"};return U.default.createElement(L,{loading:o||!t?.tokenSymbol,height:86,className:(0,lo.default)(e,oe.skeleton)},U.default.createElement("div",{className:(0,lo.default)(e,oe.root)},U.default.createElement("div",{className:oe.chain},U.default.createElement(ir,{tokenSrc:t?.tokenLogoUrl??it(),chainSrc:t?.chainLogoUrl??it(),chainSize:14,tokenSize:34,className:(0,lo.default)("boxCurrency")})),U.default.createElement("div",{className:oe.content},U.default.createElement("div",{className:"flex items-center justify-start"},U.default.createElement(V,{className:oe.symbol,onClick:()=>{i.push(a)}},t?.tokenSymbol||"--"),U.default.createElement(V,{onClick:()=>{i.push(a)}},U.default.createElement(O,{className:(0,lo.default)("okx-defi-dex-arrow-down-sincere",oe.tokenSelect),style:{fontSize:12},a11yText:"select"}))),U.default.createElement("div",{className:oe.address},jt(t?.tokenContractAddress,8,8)||"--",U.default.createElement(sr,{token:t,showTooltip:!0,className:oe.highRiskToken})),U.default.createElement("div",{className:oe.data,style:k},U.default.createElement("div",{className:oe.price},g("swaptrade_trade_label_price_numvalue",{value:c})),f?null:U.default.createElement("div",{className:oe.split}),U.default.createElement("div",{className:oe.cap,ref:u,style:T},g("swaptrade_trade_label_mcap_numvalue",{value:l}))))))};n();s();n();s();function Wn(e){let o=S(),{quoteStore:r,accountStore:t,configStore:i}=o,{computedQuoteIsError:m,computedQuoteErrorMsg:a,computedQuoteLiquidityError:c,computedQuoteIsBuyHoneypot:l,computedQuoteIsSellHoneypot:u,computedQuoteIsBlackAddress:f,computedQuoteNetworkError:C,computedSwapOnOtherDapp:k}=r,{computedNonsupportChain:T}=t,{computedNativeTokenInfo:v}=i,I=v?.chainName||"",{computedIsBuy:h,computedIsSell:M}=i;return f?ue["BLACKLIST_ADDRESS"]():ye.computedIsLimitRegion?ue["LIMIT_REGION"]():T?(e({type:"switch_wallet"}),ue["UNSUPPORTED_CHAIN"]({chainName:I})):l&&h?ue["BUY_HONEYPOT"]():c?(e({type:"no_liquidity"}),ue["INSUFFICIENT_LIQUIDITY"]({error_message:a})):u&&M?ue["SELL_HONEYPOT"]():k?ue["SWAP_ON_OTHER_DAPP"]():m?ue["QUOTE_OTHER_ERROR"]({error_message:a}):C?ue["NETWORK_ERROR"]():null}function P_(){let e=Xe(Rt);return Wn(e)}n();s();function U_(){let{sellStore:e,buyStore:o,quoteStore:r,configStore:t}=S(),{computedIsSell:i}=t,m=i?e.computedSellNumberIsValid:o.computedBuyNumberIsValid,a=r.initLoading&&Se();return!r.computedQuoteIsInvalid&&m||a}n();s();var Ro=_(x()),Gn=_(Me());var q_=e=>{let[o,r]=(0,Ro.useState)(null),t=(0,Gn.useHistory)(),{queryParams:i}=Mo(),m=i?.get("inputChain"),a=i?.get("inputCurrency"),c=i?.get("outputChain"),l=i?.get("outputCurrency");return(0,Ro.useEffect)(()=>{if(!i)return;let k=dr(i),T=lr(e);bo(e,k)?r(k):bo(e,T)?r(T):r(ur())},[e==="buy"?c:m,e==="buy"?l:a]),{tokenPair:o,setTokenPair:k=>{bo(e,k)&&(pr(e,k),fr(t,t.location.pathname,k))}}};n();s();var Ge=_(x());function ss(){let{accountStore:e}=S(),{fromToken:o,toToken:r}=je(),t=e.getAddressByChainId(o?.chainId),i=$e(),m=Rr(),a=jr(),c=Lo();return(0,Ge.useMemo)(()=>({chainId:o.chainId,fromTokenAddress:o.tokenContractAddress,toTokenAddress:r.tokenContractAddress,amount:i,slippage:m,slippageType:a,maxSlippage:c,userWalletAddress:t}),[i,o.chainId,o.tokenContractAddress,r.tokenContractAddress,m,a,c,t])}function eg(){let{quoteStore:e,buyStore:o,sellStore:r,accountStore:t}=S(),{fetchQuote:i,resetQuote:m}=e,a=ss(),{computedSignWalletAddress:c}=t,l=(0,Ge.useCallback)(async()=>{let u=await zt(c,a.chainId);await i({...a,...u})},[a,i,c]);(0,Ge.useEffect)(()=>{l()},[l]),(0,Ge.useEffect)(()=>Se()?()=>{}:()=>{m()},[o,m,r])}n();s();var jo=_(x());var is=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",ms=(e,o)=>e&&o&&o.price&&o.tokenContractAddress===e?.tokenContractAddress,as=e=>e.chainId,ig=(e,o)=>{let[r,t]=(0,jo.useState)(null),i=Ee();return(0,jo.useEffect)(()=>{async function m(){if(!is(o)){if(ms(o,e)){t(e);return}if(!!as(i))if(o?.tokenContractAddress){let a=await yr({inputContent:o?.tokenContractAddress,...i});if(a)t(a);else{let c=await _t(i);t(c)}}else{let a=await _t(i);t(a)}}}m()},[o?.tokenContractAddress,i.chainId,i.accountId,i.userUniqueId,i.walletId,i.walletAddress]),r};n();s();var Xo=_(x());var cs=({myPosition:e,positionList:o,myPositionUsed:r,setMyPositionUsed:t})=>{if(!r&&e==="1"&&o.length){let i=document.querySelector("#meme-swap-container");i&&setTimeout(()=>{i.scrollTo({top:460,behavior:"smooth"}),t(!0),_r("myPosition")},400)}},dg=()=>{let{queryParams:e}=Mo(),{memePositionStore:o}=S(),{positionList:r}=o,t=e?.get?.("myPosition"),[i,m]=(0,Xo.useState)(!1);(0,Xo.useEffect)(()=>{cs({myPosition:t,positionList:r,myPositionUsed:i,setMyPositionUsed:m})},[t,r,i])};n();s();Ye();var hg=()=>{let{configStore:e}=S();return te(e,"computedNativeTokenInfo",null)};n();s();var zo=_(x());var bg=(e,o)=>{let[r,t]=(0,zo.useState)(null),i=Ee(),{chainId:m,accountId:a,userUniqueId:c,userWalletAddress:l,businessType:u}=i;return(0,zo.useEffect)(()=>{async function f(){if(e&&m&&a&&c&&l){let C=await Er({tokenAddress:e,chainId:m,accountId:a,userUniqueId:c,walletId:a,userWalletAddress:l,businessType:u},o);t(C)}}f()},[e,m,a,c,l,u]),r};export{q_ as a,eg as b,ig as c,dg as d,hg as e,bg as f,Rm as g,sa as h,Aa as i,Ga as j,du as k,wl as l,zl as m,Dp as n,Hf as o,S_ as p,P_ as q,U_ as r};
//# sourceMappingURL=chunk-CDSRTXDL.js.map
