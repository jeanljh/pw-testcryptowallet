import{R as r,S as T,T as A,p as k}from"./chunk-SPXYT2VO.js";import{d as a,e as l,l as p}from"./chunk-XEVJKE53.js";import{A as h,_ as C}from"./chunk-NLHAZXT3.js";import{o as t,q as o}from"./chunk-4J7XGGEQ.js";t();o();t();o();C();t();o();var u=class{constructor(){this.hiddenTokenList=[];this.smallAssetConfig={...r}}setSmallAssetConfig(e){this.smallAssetConfig=e}setHiddenTokenList(e){this.hiddenTokenList=e}};var g=class{constructor(){this.model=new u}get hiddenTokenCaList(){return this.model.hiddenTokenList.map(e=>e.tokenContractAddress)}isSmallAssetHidden(){return this.model.smallAssetConfig.open??r.open}getSmallAssetThreshold(){let e=parseFloat(this.model.smallAssetConfig.amount);return console.warn("getSmallAssetThreshold",e),Number.isNaN(e)||!h(e)||!e?Number(r.amount):e}isTokenHidden(e){return e.isNativeToken===1?this.model.hiddenTokenList.some(n=>n.isNativeToken&&n.chainId===e.chainId):this.hiddenTokenCaList.includes(e.tokenContractAddress)}};t();o();function _(s){return s.some(e=>"tokenList"in e)}var f=class extends g{getMinAmountThresholdParam(){if(!!this.isSmallAssetHidden())return this.getSmallAssetThreshold()}async loadSmallAssetConfig(){let e=await T();this.model.setSmallAssetConfig(e)}async loadHiddenTokenConfig(e,n){if(!e&&!n)return;let i=await A(e,n);this.model.setHiddenTokenList(i)}filterHiddenTokenList(e){if(!e?.length)return e;let n=(i=[])=>Array.isArray(i)?i.filter(S=>!this.isTokenHidden(S)):i;return _(e)?e.map(i=>({...i,tokenList:n(i.tokenList)})).filter(i=>i.tokenList.length):n(e)}},U=new f;t();o();t();o();var c=class extends k{constructor(){super();this.preChecking=!0;this.preCheckData=null;this.serviceState={loaded:!1,isLimitRegion:!1};p(this,{serviceState:a,computedIsLimitRegion:l,computedIsNotLimitRegion:l,preCheckData:a,preChecking:a,computedPreCheckMsg:l})}get computedPreCheckMsg(){return this.preCheckData&&this.preCheckData.status!==0?this.preCheckData?.msg:""}get computedIsLimitRegion(){return this.serviceState.loaded&&this.serviceState.isLimitRegion}get computedIsNotLimitRegion(){return this.serviceState.loaded&&!this.serviceState.isLimitRegion}},Z=new c;export{Z as a,U as b};
//# sourceMappingURL=chunk-63FXY6V3.js.map
